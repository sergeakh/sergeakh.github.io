import{p as X,a2 as ce,b as oe,w as ne,o as pe,f as G,s as t,c as e,h as v,d as m,I as h,t as H,a3 as j,a4 as q,g as o,i as R,m as Y,a as ie,r as Z,u as de,M as ve,j as V,a5 as me,A as u,P as c}from"./aMCvnerna.js";import{S as he}from"./aCQ17fqhU.js";import{S as ge}from"./aD2n-ecDy.js";var be=G('<div class="a p-104wypr"><fieldset class="b p-104wypr"><legend class="c p-104wypr">Color Scheme</legend> <input id="light" class="c d p-104wypr" type="radio" aria-label="Light"/> <label for="light" class="e f p-104wypr" title="Light" aria-label="Light"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <input id="system" class="c d p-104wypr" type="radio" aria-label="System"/> <label for="system" class="e g p-104wypr" title="System" aria-label="System"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <input id="dark" class="c d p-104wypr" type="radio" aria-label="Dark"/> <label for="dark" class="e h p-104wypr" title="Dark" aria-label="Dark"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <div class="i p-104wypr"><div class="j p-104wypr"></div></div></fieldset></div>');function ue(M,A){X(A,!0);const{createBroadcastChannel:g}=ce(),n=g(),s={Light:"light",System:"system",Dark:"dark"};let _=oe(ne(localStorage.getItem("colorScheme")||s.System));const f=l=>{localStorage.setItem("colorScheme",l);const r=document.querySelector('meta[name="theme-color"]'),i=document.querySelector('meta[name="apple-mobile-web-app-status-bar-style"]');l===s.System?window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.dataset.colorScheme=s.Dark:document.documentElement.dataset.colorScheme=s.Light:document.documentElement.dataset.colorScheme=l,r&&i&&(l===s.Dark||l===s.System&&window.matchMedia("(prefers-color-scheme: dark)").matches?(r.content="#202020",i.content="black"):(r.content="#fff",i.content="black-translucent")),ie(_,l,!0)},y=l=>{const r=l.target.value;f(r),n.postMessage({type:"setColorScheme",data:{scheme:r}})},w="color-scheme-switcher";pe(()=>{const l=r=>{const i=JSON.parse(r.data);i?.type==="setColorScheme"&&i?.data.scheme&&f(i.data.scheme)};return n.addEventListener(l),()=>{n.removeEventListener(l)}});var P={setColorScheme:f,handleChange:y},E=be(),I=e(E),d=t(e(I),2);v(d,"name",w),d.__change=y;var S=t(d,2),k=e(S);m(k,()=>({"--size":"20px"})),h(k.lastChild,{name:"sun"});var b=t(S,2);v(b,"name",w),b.__change=y;var z=t(b,2),C=e(z);m(C,()=>({"--size":"14px"})),h(C.lastChild,{name:"a"});var p=t(z,2);v(p,"name",w),p.__change=y;var $=t(p,2),x=e($);return m(x,()=>({"--size":"20px"})),h(x.lastChild,{name:"moon"}),H(()=>{j(d,s.Light),q(d,o(_)===s.Light),j(b,s.System),q(b,o(_)===s.System),j(p,s.Dark),q(p,o(_)===s.Dark)}),R(M,E),Y(P)}Z(["change"]);var _e=G('<li class="p-1tacgbz"><a class="b p-1tacgbz"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="c p-1tacgbz">Install app</span></a></li>'),ye=G('<div class="a p-1tacgbz"><!> <ul class="p-1tacgbz"><!> <!> <li class="p-1tacgbz"><a class="b p-1tacgbz"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="c p-1tacgbz">Account</span></a></li> <li class="p-1tacgbz"><a class="b p-1tacgbz"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="c p-1tacgbz">Import</span></a></li> <li class="p-1tacgbz"><a class="b p-1tacgbz"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="c p-1tacgbz">Export</span></a></li> <li class="p-1tacgbz"><a class="b p-1tacgbz"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="c p-1tacgbz">About</span></a></li></ul> <div><span class="d p-1tacgbz">record mode:</span> <!></div> <div class="e p-1tacgbz"><span class="d p-1tacgbz">favicons (by DuckDuckGo)</span> <!></div></div>');function ke(M,A){X(A,!0);const{createDialogPageHref:g,createHandleClickDialogPage:n}=de(),{setFaviconShown:s,getFaviconEnabled:_,getRecordMode:f,setRecordMode:y}=ve();let w=u(_),P=u(f);const E=a=>{s(a)};var I=ye(),d=e(I);ue(d,{});var S=t(d,2),k=e(S);{var b=a=>{var L=_e(),D=e(L),N=u(()=>n(c.Install));D.__click=function(...T){o(N)?.apply(this,T)};var U=e(D);m(U,()=>({"--size":"28px"})),h(U.lastChild,{name:"install"}),H(T=>v(D,"href",T),[()=>g(c.Install)]),R(a,L)};V(k,a=>{me()||a(b)})}var z=t(k,2);V(z,a=>{});var C=t(z,2),p=e(C),$=u(()=>n(c.Account));p.__click=function(...a){o($)?.apply(this,a)};var x=e(p);m(x,()=>({"--size":"28px"})),h(x.lastChild,{name:"account"});var l=t(C,2),r=e(l),i=u(()=>n(c.ImportData));r.__click=function(...a){o(i)?.apply(this,a)};var J=e(r);m(J,()=>({"--size":"28px"})),h(J.lastChild,{name:"import"});var O=t(l,2),B=e(O),ee=u(()=>n(c.ExportData));B.__click=function(...a){o(ee)?.apply(this,a)};var W=e(B);m(W,()=>({"--size":"28px"})),h(W.lastChild,{name:"export"});var ae=t(O,2),F=e(ae),te=u(()=>n(c.About));F.__click=function(...a){o(te)?.apply(this,a)};var K=e(F);m(K,()=>({"--size":"28px"})),h(K.lastChild,{name:"about"});var Q=t(S,2),se=t(e(Q),2);ge(se,{items:[{title:"Bookmark",value:"bookmark"},{title:"Note",value:"note"}],get value(){return o(P)},onChange:a=>{y(a)}});var le=t(Q,2),re=t(e(le),2);he(re,{get checked(){return o(w)},onChange:E}),H((a,L,D,N)=>{v(p,"href",a),v(r,"href",L),v(B,"href",D),v(F,"href",N)},[()=>g(c.Account),()=>g(c.ImportData),()=>g(c.ExportData),()=>g(c.About)]),R(M,I),Y()}Z(["click"]);export{ke as default};
