import{p as X,a2 as ce,b as oe,w as ne,o as ie,f as G,s,c as e,h as d,d as m,I as h,t as H,a3 as T,a4 as q,g as o,i as R,m as Y,a as pe,r as Z,u as ve,M as de,j as V,a5 as me,A as u,P as c}from"./aBONWJBeq.js";import{S as he}from"./aLG925tyx.js";import{S as ge}from"./aCFqNONgv.js";var be=G('<div class="a p-2zy8vt"><fieldset class="b p-2zy8vt"><legend class="c p-2zy8vt">Color Scheme</legend> <input id="light" class="c d p-2zy8vt" type="radio" aria-label="Light"/> <label for="light" class="e f p-2zy8vt" title="Light" aria-label="Light"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <input id="system" class="c d p-2zy8vt" type="radio" aria-label="System"/> <label for="system" class="e g p-2zy8vt" title="System" aria-label="System"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <input id="dark" class="c d p-2zy8vt" type="radio" aria-label="Dark"/> <label for="dark" class="e h p-2zy8vt" title="Dark" aria-label="Dark"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <div class="i p-2zy8vt"><div class="j p-2zy8vt"></div></div></fieldset></div>');function ue(L,M){X(M,!0);const{createBroadcastChannel:g}=ce(),n=g(),t={Light:"light",System:"system",Dark:"dark"};let _=oe(ne(localStorage.getItem("colorScheme")||t.System));const f=l=>{localStorage.setItem("colorScheme",l);const r=document.querySelector('meta[name="theme-color"]'),p=document.querySelector('meta[name="apple-mobile-web-app-status-bar-style"]');l===t.System?window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.dataset.colorScheme=t.Dark:document.documentElement.dataset.colorScheme=t.Light:document.documentElement.dataset.colorScheme=l,r&&p&&(l===t.Dark||l===t.System&&window.matchMedia("(prefers-color-scheme: dark)").matches?(r.content="#202020",p.content="black"):(r.content="#fff",p.content="black-translucent")),pe(_,l,!0)},y=l=>{const r=l.target.value;f(r),n.postMessage({type:"setColorScheme",data:{scheme:r}})},S="color-scheme-switcher";ie(()=>{const l=r=>{const p=JSON.parse(r.data);p?.type==="setColorScheme"&&p?.data.scheme&&f(p.data.scheme)};return n.addEventListener(l),()=>{n.removeEventListener(l)}});var A={setColorScheme:f,handleChange:y},D=be(),E=e(D),v=s(e(E),2);d(v,"name",S),v.__change=y;var k=s(v,2),w=e(k);m(w,()=>({"--size":"20px"})),h(w.lastChild,{name:"sun"});var b=s(k,2);d(b,"name",S),b.__change=y;var j=s(b,2),C=e(j);m(C,()=>({"--size":"14px"})),h(C.lastChild,{name:"a"});var i=s(j,2);d(i,"name",S),i.__change=y;var P=s(i,2),z=e(P);return m(z,()=>({"--size":"20px"})),h(z.lastChild,{name:"moon"}),H(()=>{T(v,t.Light),q(v,o(_)===t.Light),T(b,t.System),q(b,o(_)===t.System),T(i,t.Dark),q(i,o(_)===t.Dark)}),R(L,D),Y(A)}Z(["change"]);var _e=G('<li class="p-vbj2gs"><a class="b p-vbj2gs"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="c p-vbj2gs">Install app</span></a></li>'),ye=G('<div class="a p-vbj2gs"><!> <ul class="p-vbj2gs"><!> <!> <li class="p-vbj2gs"><a class="b p-vbj2gs"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="c p-vbj2gs">Account</span></a></li> <li class="p-vbj2gs"><a class="b p-vbj2gs"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="c p-vbj2gs">Import</span></a></li> <li class="p-vbj2gs"><a class="b p-vbj2gs"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="c p-vbj2gs">Export</span></a></li> <li class="p-vbj2gs"><a class="b p-vbj2gs"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="c p-vbj2gs">About</span></a></li></ul> <div><span class="d p-vbj2gs">record mode:</span> <!></div> <div class="e p-vbj2gs"><span class="d p-vbj2gs">favicons (by DuckDuckGo)</span> <!></div></div>');function we(L,M){X(M,!0);const{createDialogPageHref:g,createHandleClickDialogPage:n}=ve(),{setFaviconShown:t,getFaviconEnabled:_,getRecordMode:f,setRecordMode:y}=de();let S=u(_),A=u(f);const D=a=>{t(a)};var E=ye(),v=e(E);ue(v,{});var k=s(v,2),w=e(k);{var b=a=>{var I=_e(),x=e(I),F=u(()=>n(c.Install));x.__click=function(...N){o(F)?.apply(this,N)};var U=e(x);m(U,()=>({"--size":"28px"})),h(U.lastChild,{name:"install"}),H(N=>d(x,"href",N),[()=>g(c.Install)]),R(a,I)};V(w,a=>{me()||a(b)})}var j=s(w,2);V(j,a=>{});var C=s(j,2),i=e(C),P=u(()=>n(c.Account));i.__click=function(...a){o(P)?.apply(this,a)};var z=e(i);m(z,()=>({"--size":"28px"})),h(z.lastChild,{name:"account"});var l=s(C,2),r=e(l),p=u(()=>n(c.ImportData));r.__click=function(...a){o(p)?.apply(this,a)};var J=e(r);m(J,()=>({"--size":"28px"})),h(J.lastChild,{name:"import"});var O=s(l,2),$=e(O),ee=u(()=>n(c.ExportData));$.__click=function(...a){o(ee)?.apply(this,a)};var W=e($);m(W,()=>({"--size":"28px"})),h(W.lastChild,{name:"export"});var ae=s(O,2),B=e(ae),se=u(()=>n(c.About));B.__click=function(...a){o(se)?.apply(this,a)};var K=e(B);m(K,()=>({"--size":"28px"})),h(K.lastChild,{name:"about"});var Q=s(k,2),te=s(e(Q),2);ge(te,{items:[{title:"Bookmark",value:"bookmark"},{title:"Note",value:"note"}],get value(){return o(A)},onChange:a=>{y(a)}});var le=s(Q,2),re=s(e(le),2);he(re,{get checked(){return o(S)},onChange:D}),H((a,I,x,F)=>{d(i,"href",a),d(r,"href",I),d($,"href",x),d(B,"href",F)},[()=>g(c.Account),()=>g(c.ImportData),()=>g(c.ExportData),()=>g(c.About)]),R(L,E),Y()}Z(["click"]);export{we as default};
