import{p as we,u as be,C as ye,D as Ae,v as Pe,o as Ie,a as y,b as q,g as _,x as xe,f as i,j as r,c as U,i as e,m as Ce,s as C,n,T as ae,B as H,z as S,y as v,U as Se,W as te,P as re,H as oe,L as $e,X as J,Y as ke,Z as se}from"./aNRpKmeQN.js";const De=async()=>"getInstalledRelatedApps"in navigator?(await navigator?.getInstalledRelatedApps?.())?.some(Y=>Y.platform==="webapp")??!1:!1,M=()=>window.installPrompt;var We=i('<p class="b p-nc42wy">App is already installed.</p>'),Ee=i('<p class="b p-nc42wy">For install app, select the share button and select "Add to Home Screen".</p>'),Be=i('<p class="b p-nc42wy">Install app available on Safari.</p>'),Fe=i(`<p class="b p-nc42wy">From the menu bar, choose File > Add to Dock. Or click the Share button in the Safari
				toolbar, then choose Add to Dock.</p>`),Le=i('<p class="b p-nc42wy">Installation is not supported in this browser. use Brave, Chrome or Edge.</p>'),Oe=i(`<p class="b p-nc42wy">App is already installed or installation is not supported in this browser. use Brave,
					Chrome or Edge.</p>`),Re=i('<p class="b p-nc42wy">For better experience, install app from Chrome.</p>'),He=i(`<p class="b p-nc42wy">You can install app to have a better experience and more reliable storage or you can use it in
			your browser and install later.</p> <!> <div class="c p-nc42wy"><!> <!></div>`,1),Me=i('<!> <div class="d p-nc42wy"><!></div>',1),Te=i('<p class="b p-nc42wy">Open the app from your device.</p>'),Ge=i('<!> <!> <div class="c p-nc42wy"><!> <!></div>',1),Ue=i('<div class="a p-nc42wy"><!></div>');function je(K,Y){we(Y,!0);const{pushDialogPage:ne,clearDialogPages:le}=be(),{replaceSearchParams:ie}=ye(),{getAccount:pe}=Ae(),{blockDialog:Q}=Pe();let m=q("idle"),E=q(!1),T=q(null);const $=()=>Se()&&!te(),ce=()=>{pe()===void 0?ne(re.AccountSetup):le()},V=()=>{ce()},ve=async()=>{const l=M();try{l&&(y(m,"installing"),"onappinstalled"in window&&window.addEventListener("appinstalled",()=>{y(E,!0),J()||(Q(!1),ie(`${ke}=${encodeURIComponent(`${re.InstallSuccess}`)}`))}),await l.prompt(),l.userChoice?.then(g=>{g.outcome==="accepted"?(window.installPrompt=null,J()&&y(T,setTimeout(()=>{y(T,null),_(E)?y(m,"success"):y(m,"idle")},5e3),!0)):y(m,"idle")}))}catch{}};Ie(()=>(De().then(l=>{y(E,l,!0)}),()=>{_(T)&&clearTimeout(_(T))})),xe(()=>{Q(_(m)==="installing")});var ee=Ue(),de=U(ee);{var fe=l=>{var g=He(),G=C(n(g),2);{var j=a=>{var s=We();e(a,s)},z=a=>{var s=v(),p=n(s);{var P=c=>{var b=v(),x=n(b);{var o=t=>{var d=Ee();e(t,d)},f=t=>{var d=Be();e(t,d)};r(x,t=>{se()?t(o):t(f,!1)})}e(c,b)},I=c=>{var b=v(),x=n(b);{var o=t=>{var d=Fe();e(t,d)},f=t=>{var d=v(),_e=n(d);{var me=D=>{var F=v(),N=n(F);{var X=u=>{var W=Le();e(u,W)},L=u=>{var W=v(),Z=n(W);{var O=R=>{var he=Oe();e(R,he)};r(Z,R=>{$()||R(O)},!0)}e(u,W)};r(N,u=>{ae()?u(L,!1):u(X)})}e(D,F)},ge=D=>{var F=v(),N=n(F);{var X=L=>{var u=v(),W=n(u);{var Z=O=>{var R=Re();e(O,R)};r(W,O=>{!$()&&M()&&O(Z)})}e(L,u)};r(N,L=>{J()&&L(X)},!0)}e(D,F)};r(_e,D=>{M()?D(ge,!1):D(me)},!0)}e(t,d)};r(x,t=>{se()?t(o):t(f,!1)},!0)}e(c,b)};r(p,c=>{te()?c(P):c(I,!1)},!0)}e(a,s)};r(G,a=>{_(E)||$()&&!M()&&ae()?a(j):a(z,!1)})}var h=C(G,2),w=U(h);{var k=a=>{H(a,{onClick:ve,fullWidth:!0,children:(s,p)=>{var P=S("install web app");e(s,P)},$$slots:{default:!0}})},B=a=>{var s=v(),p=n(s);{var P=I=>{H(I,{element:"a",target:"_blank",rel:"noopener noreferrer",href:`${window.location.origin}`,fullWidth:!0,children:(c,b)=>{var x=S("open app");e(c,x)},$$slots:{default:!0}})};r(p,I=>{(_(E)||$())&&I(P)},!0)}e(a,s)};r(w,a=>{M()?a(k):a(B,!1)})}var A=C(w,2);H(A,{onClick:V,fullWidth:!0,type:"secondary",children:(a,s)=>{var p=S("continue in browser");e(a,p)},$$slots:{default:!0}}),e(l,g)},ue=l=>{var g=v(),G=n(g);{var j=h=>{var w=Me(),k=n(w);oe(k,{children:(a,s)=>{var p=S("installing app...");e(a,p)}});var B=C(k,2),A=U(B);$e(A,{}),e(h,w)},z=h=>{var w=v(),k=n(w);{var B=A=>{var a=Ge(),s=n(a);oe(s,{children:(o,f)=>{var t=S("app installed successfully!");e(o,t)}});var p=C(s,2);{var P=o=>{var f=Te();e(o,f)};r(p,o=>{$()||o(P)})}var I=C(p,2),c=U(I);{var b=o=>{H(o,{element:"a",target:"_blank",rel:"noopener noreferrer",href:`${window.location.origin}`,fullWidth:!0,children:(f,t)=>{var d=S("open app");e(f,d)},$$slots:{default:!0}})};r(c,o=>{$()&&o(b)})}var x=C(c,2);H(x,{onClick:V,fullWidth:!0,type:"secondary",children:(o,f)=>{var t=S("continue in browser");e(o,t)},$$slots:{default:!0}}),e(A,a)};r(k,A=>{_(m)==="success"&&A(B)},!0)}e(h,w)};r(G,h=>{_(m)==="installing"?h(j):h(z,!1)},!0)}e(l,g)};r(de,l=>{_(m)==="idle"?l(fe):l(ue,!1)})}e(K,ee),Ce()}export{je as default};
