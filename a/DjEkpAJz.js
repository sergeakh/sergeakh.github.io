const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["a/CCmeYC2F.js","a/DJGxTJuX.css","a/DE7W40xL.js","a/9q_jSmK4.js","a/bA9hIFUQ.js","a/Df0fAQHq.css","a/CPg0-_wK.js","a/GKJynjgv.css","a/CnDxSMM5.js","a/BMjxyC5e.css","a/DT_fyaaV.js","a/DgPIJwnn.css","a/BgbnazHo.js","a/B_UsPGEu.css","a/BrnZtLyD.js","a/Cpa8lgv9.js","a/CfMkHS8r.js","a/j0KFa_-O.css","a/hu7yjlv8.css","a/Dap-0-2R.js","a/B5ODmRAs.js","a/DStZch-W.js","a/EZ_l8VDb.css","a/B_Zcg-eh.css","a/C-Mx_t1i.css","a/Ch2RoJ6z.js","a/Bs6Vrlio.css","a/Cyaukhkt.js","a/C4CcUIBs.js","a/DWUfwQ_G.css","a/BMwKOHd1.css","a/BWfzE8LB.js","a/C2VuNxr3.css","a/--3YFA18.js","a/CJkK19aw.css","a/6cKro2YY.js","a/DlxBpJjD.css","a/CE4VxMGf.js","a/CtFEuYn6.js","a/70bqyQ4Y.css","a/CIFBDIW2.js","a/DaxC3cdO.css","a/Hzmd-Bdd.js","a/Bib31qW-.css","a/C2USLpzD.js","a/Br15UghP.css","a/BL2jxZDy.js","a/CTzb1Nvm.css"])))=>i.map(i=>d[i]);
var ni=Object.defineProperty;var Ga=t=>{throw TypeError(t)};var ri=(t,e,n)=>e in t?ni(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ct=(t,e,n)=>ri(t,typeof e!="symbol"?e+"":e,n),ra=(t,e,n)=>e.has(t)||Ga("Cannot "+n);var M=(t,e,n)=>(ra(t,e,"read from private field"),n?n.call(t):e.get(t)),ke=(t,e,n)=>e.has(t)?Ga("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ue=(t,e,n,r)=>(ra(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Ie=(t,e,n)=>(ra(t,e,"access private method"),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();const ps=!1;var Ca=Array.isArray,ai=Array.prototype.indexOf,Ea=Array.from,la=Object.defineProperty,Hn=Object.getOwnPropertyDescriptor,_s=Object.getOwnPropertyDescriptors,si=Object.prototype,oi=Array.prototype,ka=Object.getPrototypeOf,Xa=Object.isExtensible;const Ae=()=>{};function ii(t){return typeof t?.then=="function"}function li(t){return t()}function ca(t){for(var e=0;e<t.length;e++)t[e]()}function ms(){var t,e,n=new Promise((r,s)=>{t=r,e=s});return{promise:n,resolve:t,reject:e}}function ci(t,e,n=!1){return t===void 0?n?e():e:t}const Je=2,Pa=4,Hr=8,Yt=16,Gt=32,kn=64,Ur=128,$e=1024,ot=2048,on=4096,ft=8192,Ht=16384,xa=32768,an=65536,Za=1<<17,ui=1<<18,$n=1<<19,ws=1<<20,_t=256,Mr=512,Lr=32768,ua=1<<21,Ta=1<<22,yn=1<<23,bn=Symbol("$state"),di=Symbol("legacy props"),fi=Symbol(""),Fn=new class extends Error{constructor(){super(...arguments);ct(this,"name","StaleReactionError");ct(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function ys(t){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function vi(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function hi(t){throw new Error("https://svelte.dev/e/effect_in_teardown")}function gi(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function pi(t){throw new Error("https://svelte.dev/e/effect_orphan")}function _i(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function mi(t){throw new Error("https://svelte.dev/e/props_invalid_value")}function wi(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function yi(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function bi(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Si(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const jr=1,Vr=2,bs=4,Ci=8,Ei=16,ki=1,Pi=2,xi=4,Ti=8,Ai=16,Di=1,Ni=2,Ge=Symbol(),Mi="http://www.w3.org/1999/xhtml";function Li(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}let Ii=!1;function Ss(t){return t===this.v}function Oi(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function Cs(t){return!Oi(t,this.v)}let er=!1,Bi=!1;function Ri(){er=!0}let Me=null;function Xn(t){Me=t}function je(t){return Es().get(t)}function Ve(t,e){return Es().set(t,e),e}function re(t,e=!1,n){Me={p:Me,c:null,e:null,s:t,x:null,l:er&&!e?{s:null,u:null,$:[]}:null}}function ae(t){var e=Me,n=e.e;if(n!==null){e.e=null;for(var r of n)Vs(r)}return t!==void 0&&(e.x=t),Me=e.p,t??{}}function tr(){return!er||Me!==null&&Me.l===null}function Es(t){return Me===null&&ys(),Me.c??(Me.c=new Map(zi(Me)||void 0))}function zi(t){let e=t.p;for(;e!==null;){const n=e.c;if(n!==null)return n;e=e.p}return null}let gn=[];function ks(){var t=gn;gn=[],ca(t)}function Pn(t){if(gn.length===0&&!Un){var e=gn;queueMicrotask(()=>{e===gn&&ks()})}gn.push(t)}function Fi(){for(;gn.length>0;)ks()}const Hi=new WeakMap;function Ps(t){var e=Se;if(e===null)return ye.f|=yn,t;if((e.f&xa)===0){if((e.f&Ur)===0)throw!e.parent&&t instanceof Error&&xs(t),t;e.b.error(t)}else Zn(t,e)}function Zn(t,e){for(;e!==null;){if((e.f&Ur)!==0)try{e.b.error(t);return}catch(n){t=n}e=e.parent}throw t instanceof Error&&xs(t),t}function xs(t){const e=Hi.get(t);e&&(la(t,"message",{value:e.message}),la(t,"stack",{value:e.stack}))}const Pr=new Set;let Ne=null,Tr=null,St=null,da=new Set,Dt=[],Wr=null,fa=!1,Un=!1;var Wn,qn,Kn,pn,hr,Yn,Gn,Xe,va,vn,ha,Ts;const Rr=class Rr{constructor(){ke(this,Xe);ct(this,"committed",!1);ct(this,"current",new Map);ke(this,Wn,new Map);ke(this,qn,new Set);ke(this,Kn,0);ke(this,pn,0);ke(this,hr,null);ke(this,Yn,[]);ke(this,Gn,[]);ct(this,"skipped_effects",new Set)}process(e){Dt=[],Tr=null,this.apply();var n={parent:null,effect:null,effects:[],render_effects:[],block_effects:[]};for(const r of e)Ie(this,Xe,va).call(this,r,n);Ie(this,Xe,ha).call(this),M(this,pn)>0?(Ie(this,Xe,vn).call(this,n.effects),Ie(this,Xe,vn).call(this,n.render_effects),Ie(this,Xe,vn).call(this,n.block_effects)):(Tr=this,Ne=null,Ja(n.render_effects),Ja(n.effects),Tr=null),St=null}capture(e,n){M(this,Wn).has(e)||M(this,Wn).set(e,n),this.current.set(e,e.v),St?.set(e,e.v)}activate(){Ne=this}deactivate(){Ne=null,St=null}flush(){if(Dt.length>0){if(this.activate(),Ds(),Ne!==null&&Ne!==this)return}else Ie(this,Xe,ha).call(this);this.deactivate();for(const e of da)if(da.delete(e),e(),Ne!==null)break}increment(e){ue(this,Kn,M(this,Kn)+1),e&&ue(this,pn,M(this,pn)+1)}decrement(e){ue(this,Kn,M(this,Kn)-1),e&&ue(this,pn,M(this,pn)-1);for(const n of M(this,Yn))et(n,ot),Cn(n);for(const n of M(this,Gn))et(n,on),Cn(n);ue(this,Yn,[]),ue(this,Gn,[]),this.flush()}add_callback(e){M(this,qn).add(e)}settled(){return(M(this,hr)??ue(this,hr,ms())).promise}static ensure(){if(Ne===null){const e=Ne=new Rr;Pr.add(Ne),Un||Rr.enqueue(()=>{Ne===e&&e.flush()})}return Ne}static enqueue(e){Pn(e)}apply(){}};Wn=new WeakMap,qn=new WeakMap,Kn=new WeakMap,pn=new WeakMap,hr=new WeakMap,Yn=new WeakMap,Gn=new WeakMap,Xe=new WeakSet,va=function(e,n){e.f^=$e;for(var r=e.first;r!==null;){var s=r.f,o=(s&(Gt|kn))!==0,i=o&&(s&$e)!==0,l=i||(s&ft)!==0||this.skipped_effects.has(r);if((r.f&Ur)!==0&&r.b?.is_pending()&&(n={parent:n,effect:r,effects:[],render_effects:[],block_effects:[]}),!l&&r.fn!==null){o?r.f^=$e:(s&Pa)!==0?n.effects.push(r):Gr(r)&&((r.f&Yt)!==0&&n.block_effects.push(r),Br(r));var c=r.first;if(c!==null){r=c;continue}}var u=r.parent;for(r=r.next;r===null&&u!==null;)u===n.effect&&(Ie(this,Xe,vn).call(this,n.effects),Ie(this,Xe,vn).call(this,n.render_effects),Ie(this,Xe,vn).call(this,n.block_effects),n=n.parent),r=u.next,u=u.parent}},vn=function(e){for(const n of e)((n.f&ot)!==0?M(this,Yn):M(this,Gn)).push(n),et(n,$e)},ha=function(){if(M(this,pn)===0){for(const e of M(this,qn))e();M(this,qn).clear()}M(this,Kn)===0&&Ie(this,Xe,Ts).call(this)},Ts=function(){var s;if(Pr.size>1){M(this,Wn).clear();var e=St,n=!0,r={parent:null,effect:null,effects:[],render_effects:[],block_effects:[]};for(const o of Pr){if(o===this){n=!1;continue}const i=[];for(const[c,u]of this.current){if(o.current.has(c))if(n&&u!==o.current.get(c))o.current.set(c,u);else continue;i.push(c)}if(i.length===0)continue;const l=[...o.current.keys()].filter(c=>!this.current.has(c));if(l.length>0){const c=new Set,u=new Map;for(const d of i)Ns(d,l,c,u);if(Dt.length>0){Ne=o,o.apply();for(const d of Dt)Ie(s=o,Xe,va).call(s,d,r);Dt=[],o.deactivate()}}}Ne=null,St=e}this.committed=!0,Pr.delete(this),M(this,hr)?.resolve()};let Ft=Rr;function As(t){var e=Un;Un=!0;try{for(var n;;){if(Fi(),Dt.length===0&&(Ne?.flush(),Dt.length===0))return Wr=null,n;Ds()}}finally{Un=e}}function Ds(){var t=Vn;fa=!0;try{var e=0;for(es(!0);Dt.length>0;){var n=Ft.ensure();if(e++>1e3){var r,s;Ui()}n.process(Dt),nn.clear()}}finally{fa=!1,es(t),Wr=null}}function Ui(){try{_i()}catch(t){Zn(t,Wr)}}let Bt=null;function Ja(t){var e=t.length;if(e!==0){for(var n=0;n<e;){var r=t[n++];if((r.f&(Ht|ft))===0&&Gr(r)&&(Bt=new Set,Br(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?Ks(r):r.fn=null),Bt?.size>0)){nn.clear();for(const s of Bt){if((s.f&(Ht|ft))!==0)continue;const o=[s];let i=s.parent;for(;i!==null;)Bt.has(i)&&(Bt.delete(i),o.push(i)),i=i.parent;for(let l=o.length-1;l>=0;l--){const c=o[l];(c.f&(Ht|ft))===0&&Br(c)}}Bt.clear()}}Bt=null}}function Ns(t,e,n,r){if(!n.has(t)&&(n.add(t),t.reactions!==null))for(const s of t.reactions){const o=s.f;(o&Je)!==0?Ns(s,e,n,r):(o&(Ta|Yt))!==0&&(o&ot)===0&&Ms(s,e,r)&&(et(s,ot),Cn(s))}}function Ms(t,e,n){const r=n.get(t);if(r!==void 0)return r;if(t.deps!==null)for(const s of t.deps){if(e.includes(s))return!0;if((s.f&Je)!==0&&Ms(s,e,n))return n.set(s,!0),!0}return n.set(t,!1),!1}function Cn(t){for(var e=Wr=t;e.parent!==null;){e=e.parent;var n=e.f;if(fa&&e===Se&&(n&Yt)!==0)return;if((n&(kn|Gt))!==0){if((n&$e)===0)return;e.f^=$e}}Dt.push(e)}function ji(t){let e=0,n=qt(0),r;return()=>{nl()&&(a(n),Yr(()=>(e===0&&(r=lt(()=>t(()=>cr(n)))),e+=1,()=>{Pn(()=>{e-=1,e===0&&(r?.(),r=void 0,cr(n))})})))}}var Vi=an|$n|Ur;function Wi(t,e,n){new qi(t,e,n)}var ht,gt,Sa,Pt,_n,xt,pt,rt,Tt,Rt,Qt,mn,$t,wn,en,zr,Fr,Ke,Ki,Yi,ga,Ar,Dr,pa;class qi{constructor(e,n,r){ke(this,Ke);ct(this,"parent");ke(this,ht,!1);ke(this,gt);ke(this,Sa,null);ke(this,Pt);ke(this,_n);ke(this,xt);ke(this,pt,null);ke(this,rt,null);ke(this,Tt,null);ke(this,Rt,null);ke(this,Qt,null);ke(this,mn,0);ke(this,$t,0);ke(this,wn,!1);ke(this,en,null);ke(this,zr,()=>{M(this,en)&&Ut(M(this,en),M(this,mn))});ke(this,Fr,ji(()=>(ue(this,en,qt(M(this,mn))),()=>{ue(this,en,null)})));ue(this,gt,e),ue(this,Pt,n),ue(this,_n,r),this.parent=Se.b,ue(this,ht,!!M(this,Pt).pending),ue(this,xt,nr(()=>{Se.b=this;{var s=Ie(this,Ke,ga).call(this);try{ue(this,pt,bt(()=>r(s)))}catch(o){this.error(o)}M(this,$t)>0?Ie(this,Ke,Dr).call(this):ue(this,ht,!1)}return()=>{M(this,Qt)?.remove()}},Vi))}is_pending(){return M(this,ht)||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!M(this,Pt).pending}update_pending_count(e){Ie(this,Ke,pa).call(this,e),ue(this,mn,M(this,mn)+e),da.add(M(this,zr))}get_effect_pending(){return M(this,Fr).call(this),a(M(this,en))}error(e){var n=M(this,Pt).onerror;let r=M(this,Pt).failed;if(M(this,wn)||!n&&!r)throw e;M(this,pt)&&(st(M(this,pt)),ue(this,pt,null)),M(this,rt)&&(st(M(this,rt)),ue(this,rt,null)),M(this,Tt)&&(st(M(this,Tt)),ue(this,Tt,null));var s=!1,o=!1;const i=()=>{if(s){Li();return}s=!0,o&&Si(),Ft.ensure(),ue(this,mn,0),M(this,Tt)!==null&&jn(M(this,Tt),()=>{ue(this,Tt,null)}),ue(this,ht,this.has_pending_snippet()),ue(this,pt,Ie(this,Ke,Ar).call(this,()=>(ue(this,wn,!1),bt(()=>M(this,_n).call(this,M(this,gt)))))),M(this,$t)>0?Ie(this,Ke,Dr).call(this):ue(this,ht,!1)};var l=ye;try{at(null),o=!0,n?.(e,i),o=!1}catch(c){Zn(c,M(this,xt)&&M(this,xt).parent)}finally{at(l)}r&&Pn(()=>{ue(this,Tt,Ie(this,Ke,Ar).call(this,()=>{Ft.ensure(),ue(this,wn,!0);try{return bt(()=>{r(M(this,gt),()=>e,()=>i)})}catch(c){return Zn(c,M(this,xt).parent),null}finally{ue(this,wn,!1)}}))})}}ht=new WeakMap,gt=new WeakMap,Sa=new WeakMap,Pt=new WeakMap,_n=new WeakMap,xt=new WeakMap,pt=new WeakMap,rt=new WeakMap,Tt=new WeakMap,Rt=new WeakMap,Qt=new WeakMap,mn=new WeakMap,$t=new WeakMap,wn=new WeakMap,en=new WeakMap,zr=new WeakMap,Fr=new WeakMap,Ke=new WeakSet,Ki=function(){try{ue(this,pt,bt(()=>M(this,_n).call(this,M(this,gt))))}catch(e){this.error(e)}ue(this,ht,!1)},Yi=function(){const e=M(this,Pt).pending;e&&(ue(this,rt,bt(()=>e(M(this,gt)))),Ft.enqueue(()=>{var n=Ie(this,Ke,ga).call(this);ue(this,pt,Ie(this,Ke,Ar).call(this,()=>(Ft.ensure(),bt(()=>M(this,_n).call(this,n))))),M(this,$t)>0?Ie(this,Ke,Dr).call(this):(jn(M(this,rt),()=>{ue(this,rt,null)}),ue(this,ht,!1))}))},ga=function(){var e=M(this,gt);return M(this,ht)&&(ue(this,Qt,sn()),M(this,gt).before(M(this,Qt)),e=M(this,Qt)),e},Ar=function(e){var n=Se,r=ye,s=Me;Nt(M(this,xt)),at(M(this,xt)),Xn(M(this,xt).ctx);try{return e()}catch(o){return Ps(o),null}finally{Nt(n),at(r),Xn(s)}},Dr=function(){const e=M(this,Pt).pending;M(this,pt)!==null&&(ue(this,Rt,document.createDocumentFragment()),M(this,Rt).append(M(this,Qt)),Xs(M(this,pt),M(this,Rt))),M(this,rt)===null&&ue(this,rt,bt(()=>e(M(this,gt))))},pa=function(e){var n;if(!this.has_pending_snippet()){this.parent&&Ie(n=this.parent,Ke,pa).call(n,e);return}ue(this,$t,M(this,$t)+e),M(this,$t)===0&&(ue(this,ht,!1),M(this,rt)&&jn(M(this,rt),()=>{ue(this,rt,null)}),M(this,Rt)&&(M(this,gt).before(M(this,Rt)),ue(this,Rt,null)))};function Gi(t,e,n){const r=tr()?_r:qr;if(e.length===0){n(t.map(r));return}var s=Ne,o=Se,i=Ls();Promise.all(e.map(l=>Xi(l))).then(l=>{i();try{n([...t.map(r),...l])}catch(c){(o.f&Ht)===0&&Zn(c,o)}s?.deactivate(),Ir()}).catch(l=>{Zn(l,o)})}function Ls(){var t=Se,e=ye,n=Me,r=Ne;return function(){Nt(t),at(e),Xn(n),r?.activate()}}function Ir(){Nt(null),at(null),Xn(null)}function _r(t){var e=Je|ot,n=ye!==null&&(ye.f&Je)!==0?ye:null;return Se===null||n!==null&&(n.f&_t)!==0?e|=_t:Se.f|=$n,{ctx:Me,deps:null,effects:null,equals:Ss,f:e,fn:t,reactions:null,rv:0,v:Ge,wv:0,parent:n??Se,ac:null}}function Xi(t,e){let n=Se;n===null&&vi();var r=n.b,s=void 0,o=qt(Ge),i=!ye,l=new Map;return ol(()=>{var c=ms();s=c.promise;try{Promise.resolve(t()).then(c.resolve,c.reject).then(()=>{u===Ne&&u.committed&&u.deactivate(),Ir()})}catch(v){c.reject(v),Ir()}var u=Ne;if(i){var d=!r.is_pending();r.update_pending_count(1),u.increment(d),l.get(u)?.reject(Fn),l.delete(u),l.set(u,c)}const f=(v,_=void 0)=>{if(u.activate(),_)_!==Fn&&(o.f|=yn,Ut(o,_));else{(o.f&yn)!==0&&(o.f^=yn),Ut(o,v);for(const[h,y]of l){if(l.delete(h),h===u)break;y.reject(Fn)}}i&&(r.update_pending_count(-1),u.decrement(d))};c.promise.then(f,v=>f(null,v||"unknown"))}),js(()=>{for(const c of l.values())c.reject(Fn)}),new Promise(c=>{function u(d){function f(){d===s?c(o):u(s)}d.then(f,f)}u(s)})}function F(t){const e=_r(t);return Zs(e),e}function qr(t){const e=_r(t);return e.equals=Cs,e}function Is(t){var e=t.effects;if(e!==null){t.effects=null;for(var n=0;n<e.length;n+=1)st(e[n])}}function Zi(t){for(var e=t.parent;e!==null;){if((e.f&Je)===0)return e;e=e.parent}return null}function Aa(t){var e,n=Se;Nt(Zi(t));try{t.f&=~Lr,Is(t),e=eo(t)}finally{Nt(n)}return e}function Os(t){var e=Aa(t);if(t.equals(e)||(t.v=e,t.wv=Qs()),!xn)if(St!==null)St.set(t,t.v);else{var n=(tn||(t.f&_t)!==0)&&t.deps!==null?on:$e;et(t,n)}}const nn=new Map;function qt(t,e){var n={f:0,v:t,reactions:null,equals:Ss,rv:0,wv:0};return n}function q(t,e){const n=qt(t);return Zs(n),n}function _a(t,e=!1,n=!0){var s;const r=qt(t);return e||(r.equals=Cs),er&&n&&Me!==null&&Me.l!==null&&((s=Me.l).s??(s.s=[])).push(r),r}function p(t,e,n=!1){ye!==null&&(!Ct||(ye.f&Za)!==0)&&tr()&&(ye.f&(Je|Yt|Ta|Za))!==0&&!jt?.includes(t)&&bi();let r=n?Fe(e):e;return Ut(t,r)}function Ut(t,e){if(!t.equals(e)){var n=t.v;xn?nn.set(t,e):nn.set(t,n),t.v=e;var r=Ft.ensure();r.capture(t,n),(t.f&Je)!==0&&((t.f&ot)!==0&&Aa(t),et(t,(t.f&_t)===0?$e:on)),t.wv=Qs(),Bs(t,ot),tr()&&Se!==null&&(Se.f&$e)!==0&&(Se.f&(Gt|kn))===0&&(vt===null?cl([t]):vt.push(t))}return e}function cr(t){p(t,t.v+1)}function Bs(t,e){var n=t.reactions;if(n!==null)for(var r=tr(),s=n.length,o=0;o<s;o++){var i=n[o],l=i.f;if(!(!r&&i===Se)){var c=(l&ot)===0;c&&et(i,e),(l&Je)!==0?(l&Lr)===0&&(i.f|=Lr,Bs(i,on)):c&&((l&Yt)!==0&&Bt!==null&&Bt.add(i),Cn(i))}}}function Fe(t){if(typeof t!="object"||t===null||bn in t)return t;const e=ka(t);if(e!==si&&e!==oi)return t;var n=new Map,r=Ca(t),s=q(0),o=Sn,i=l=>{if(Sn===o)return l();var c=ye,u=Sn;at(null),ns(o);var d=l();return at(c),ns(u),d};return r&&n.set("length",q(t.length)),new Proxy(t,{defineProperty(l,c,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&wi();var d=n.get(c);return d===void 0?d=i(()=>{var f=q(u.value);return n.set(c,f),f}):p(d,u.value,!0),!0},deleteProperty(l,c){var u=n.get(c);if(u===void 0){if(c in l){const d=i(()=>q(Ge));n.set(c,d),cr(s)}}else p(u,Ge),cr(s);return!0},get(l,c,u){if(c===bn)return t;var d=n.get(c),f=c in l;if(d===void 0&&(!f||Hn(l,c)?.writable)&&(d=i(()=>{var _=Fe(f?l[c]:Ge),h=q(_);return h}),n.set(c,d)),d!==void 0){var v=a(d);return v===Ge?void 0:v}return Reflect.get(l,c,u)},getOwnPropertyDescriptor(l,c){var u=Reflect.getOwnPropertyDescriptor(l,c);if(u&&"value"in u){var d=n.get(c);d&&(u.value=a(d))}else if(u===void 0){var f=n.get(c),v=f?.v;if(f!==void 0&&v!==Ge)return{enumerable:!0,configurable:!0,value:v,writable:!0}}return u},has(l,c){if(c===bn)return!0;var u=n.get(c),d=u!==void 0&&u.v!==Ge||Reflect.has(l,c);if(u!==void 0||Se!==null&&(!d||Hn(l,c)?.writable)){u===void 0&&(u=i(()=>{var v=d?Fe(l[c]):Ge,_=q(v);return _}),n.set(c,u));var f=a(u);if(f===Ge)return!1}return d},set(l,c,u,d){var f=n.get(c),v=c in l;if(r&&c==="length")for(var _=u;_<f.v;_+=1){var h=n.get(_+"");h!==void 0?p(h,Ge):_ in l&&(h=i(()=>q(Ge)),n.set(_+"",h))}if(f===void 0)(!v||Hn(l,c)?.writable)&&(f=i(()=>q(void 0)),p(f,Fe(u)),n.set(c,f));else{v=f.v!==Ge;var y=i(()=>Fe(u));p(f,y)}var g=Reflect.getOwnPropertyDescriptor(l,c);if(g?.set&&g.set.call(d,u),!v){if(r&&typeof c=="string"){var C=n.get("length"),x=Number(c);Number.isInteger(x)&&x>=C.v&&p(C,x+1)}cr(s)}return!0},ownKeys(l){a(s);var c=Reflect.ownKeys(l).filter(f=>{var v=n.get(f);return v===void 0||v.v!==Ge});for(var[u,d]of n)d.v!==Ge&&!(u in l)&&c.push(u);return c},setPrototypeOf(){yi()}})}var Qa,Rs,zs,Fs;function Ji(){if(Qa===void 0){Qa=window,Rs=/Firefox/.test(navigator.userAgent);var t=Element.prototype,e=Node.prototype,n=Text.prototype;zs=Hn(e,"firstChild").get,Fs=Hn(e,"nextSibling").get,Xa(t)&&(t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__style=void 0,t.__e=void 0),Xa(n)&&(n.__t=void 0)}}function sn(t=""){return document.createTextNode(t)}function Jn(t){return zs.call(t)}function mr(t){return Fs.call(t)}function k(t,e){return Jn(t)}function z(t,e=!1){{var n=Jn(t);return n instanceof Comment&&n.data===""?mr(n):n}}function j(t,e=1,n=!1){let r=t;for(;e--;)r=mr(r);return r}function Qi(t){t.textContent=""}function Hs(){return!1}let $a=!1;function $i(){$a||($a=!0,document.addEventListener("reset",t=>{Promise.resolve().then(()=>{if(!t.defaultPrevented)for(const e of t.target.elements)e.__on_r?.()})},{capture:!0}))}function Kr(t){var e=ye,n=Se;at(null),Nt(null);try{return t()}finally{at(e),Nt(n)}}function el(t,e,n,r=n){t.addEventListener(e,()=>Kr(n));const s=t.__on_r;s?t.__on_r=()=>{s(),r(!0)}:t.__on_r=()=>r(!0),$i()}function Us(t){Se===null&&ye===null&&pi(),ye!==null&&(ye.f&_t)!==0&&Se===null&&gi(),xn&&hi()}function tl(t,e){var n=e.last;n===null?e.last=e.first=t:(n.next=t,t.prev=n,e.last=t)}function Mt(t,e,n,r=!0){var s=Se;s!==null&&(s.f&ft)!==0&&(t|=ft);var o={ctx:Me,deps:null,nodes_start:null,nodes_end:null,f:t|ot,first:null,fn:e,last:null,next:null,parent:s,b:s&&s.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{Br(o),o.f|=xa}catch(c){throw st(o),c}else e!==null&&Cn(o);if(r){var i=o;if(n&&i.deps===null&&i.teardown===null&&i.nodes_start===null&&i.first===i.last&&(i.f&$n)===0&&(i=i.first,(t&Yt)!==0&&(t&an)!==0&&i!==null&&(i.f|=an)),i!==null&&(i.parent=s,s!==null&&tl(i,s),ye!==null&&(ye.f&Je)!==0&&(t&kn)===0)){var l=ye;(l.effects??(l.effects=[])).push(i)}}return o}function nl(){return ye!==null&&!Ct}function js(t){const e=Mt(Hr,null,!1);return et(e,$e),e.teardown=t,e}function De(t){Us();var e=Se.f,n=!ye&&(e&Gt)!==0&&(e&xa)===0;if(n){var r=Me;(r.e??(r.e=[])).push(t)}else return Vs(t)}function Vs(t){return Mt(Pa|ws,t,!1)}function rl(t){return Us(),Mt(Hr|ws,t,!0)}function al(t){Ft.ensure();const e=Mt(kn|$n,t,!0);return(n={})=>new Promise(r=>{n.outro?jn(e,()=>{st(e),r(void 0)}):(st(e),r(void 0))})}function sl(t){return Mt(Pa,t,!1)}function ol(t){return Mt(Ta|$n,t,!0)}function Yr(t,e=0){return Mt(Hr|e,t,!0)}function de(t,e=[],n=[]){Gi(e,n,r=>{Mt(Hr,()=>t(...r.map(a)),!0)})}function nr(t,e=0){var n=Mt(Yt|e,t,!0);return n}function bt(t,e=!0){return Mt(Gt|$n,t,!0,e)}function Ws(t){var e=t.teardown;if(e!==null){const n=xn,r=ye;ts(!0),at(null);try{e.call(null)}finally{ts(n),at(r)}}}function qs(t,e=!1){var n=t.first;for(t.first=t.last=null;n!==null;){const s=n.ac;s!==null&&Kr(()=>{s.abort(Fn)});var r=n.next;(n.f&kn)!==0?n.parent=null:st(n,e),n=r}}function il(t){for(var e=t.first;e!==null;){var n=e.next;(e.f&Gt)===0&&st(e),e=n}}function st(t,e=!0){var n=!1;(e||(t.f&ui)!==0)&&t.nodes_start!==null&&t.nodes_end!==null&&(ll(t.nodes_start,t.nodes_end),n=!0),qs(t,e&&!n),Or(t,0),et(t,Ht);var r=t.transitions;if(r!==null)for(const o of r)o.stop();Ws(t);var s=t.parent;s!==null&&s.first!==null&&Ks(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes_start=t.nodes_end=t.ac=null}function ll(t,e){for(;t!==null;){var n=t===e?null:mr(t);t.remove(),t=n}}function Ks(t){var e=t.parent,n=t.prev,r=t.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),e!==null&&(e.first===t&&(e.first=r),e.last===t&&(e.last=n))}function jn(t,e,n=!0){var r=[];Da(t,r,!0),Ys(r,()=>{n&&st(t),e&&e()})}function Ys(t,e){var n=t.length;if(n>0){var r=()=>--n||e();for(var s of t)s.out(r)}else e()}function Da(t,e,n){if((t.f&ft)===0){if(t.f^=ft,t.transitions!==null)for(const i of t.transitions)(i.is_global||n)&&e.push(i);for(var r=t.first;r!==null;){var s=r.next,o=(r.f&an)!==0||(r.f&Gt)!==0&&(t.f&Yt)!==0;Da(r,e,o?n:!1),r=s}}}function Na(t){Gs(t,!0)}function Gs(t,e){if((t.f&ft)!==0){t.f^=ft,(t.f&$e)===0&&(et(t,ot),Cn(t));for(var n=t.first;n!==null;){var r=n.next,s=(n.f&an)!==0||(n.f&Gt)!==0;Gs(n,s?e:!1),n=r}if(t.transitions!==null)for(const o of t.transitions)(o.is_global||e)&&o.in()}}function Xs(t,e){for(var n=t.nodes_start,r=t.nodes_end;n!==null;){var s=n===r?null:mr(n);e.append(n),n=s}}let Vn=!1;function es(t){Vn=t}let xn=!1;function ts(t){xn=t}let ye=null,Ct=!1;function at(t){ye=t}let Se=null;function Nt(t){Se=t}let jt=null;function Zs(t){ye!==null&&(jt===null?jt=[t]:jt.push(t))}let Qe=null,dt=0,vt=null;function cl(t){vt=t}let Js=1,dr=0,Sn=dr;function ns(t){Sn=t}let tn=!1;function Qs(){return++Js}function Gr(t){var e=t.f;if((e&ot)!==0)return!0;if((e&on)!==0){var n=t.deps,r=(e&_t)!==0;if(e&Je&&(t.f&=~Lr),n!==null){var s,o,i=(e&Mr)!==0,l=r&&Se!==null&&!tn,c=n.length;if((i||l)&&(Se===null||(Se.f&Ht)===0)){var u=t,d=u.parent;for(s=0;s<c;s++)o=n[s],(i||!o?.reactions?.includes(u))&&(o.reactions??(o.reactions=[])).push(u);i&&(u.f^=Mr),l&&d!==null&&(d.f&_t)===0&&(u.f^=_t)}for(s=0;s<c;s++)if(o=n[s],Gr(o)&&Os(o),o.wv>t.wv)return!0}(!r||Se!==null&&!tn)&&et(t,$e)}return!1}function $s(t,e,n=!0){var r=t.reactions;if(r!==null&&!jt?.includes(t))for(var s=0;s<r.length;s++){var o=r[s];(o.f&Je)!==0?$s(o,e,!1):e===o&&(n?et(o,ot):(o.f&$e)!==0&&et(o,on),Cn(o))}}function eo(t){var y;var e=Qe,n=dt,r=vt,s=ye,o=tn,i=jt,l=Me,c=Ct,u=Sn,d=t.f;Qe=null,dt=0,vt=null,tn=(d&_t)!==0&&(Ct||!Vn||ye===null),ye=(d&(Gt|kn))===0?t:null,jt=null,Xn(t.ctx),Ct=!1,Sn=++dr,t.ac!==null&&(Kr(()=>{t.ac.abort(Fn)}),t.ac=null);try{t.f|=ua;var f=t.fn,v=f(),_=t.deps;if(Qe!==null){var h;if(Or(t,dt),_!==null&&dt>0)for(_.length=dt+Qe.length,h=0;h<Qe.length;h++)_[dt+h]=Qe[h];else t.deps=_=Qe;if(!tn||(d&Je)!==0&&t.reactions!==null)for(h=dt;h<_.length;h++)((y=_[h]).reactions??(y.reactions=[])).push(t)}else _!==null&&dt<_.length&&(Or(t,dt),_.length=dt);if(tr()&&vt!==null&&!Ct&&_!==null&&(t.f&(Je|on|ot))===0)for(h=0;h<vt.length;h++)$s(vt[h],t);return s!==null&&s!==t&&(dr++,vt!==null&&(r===null?r=vt:r.push(...vt))),(t.f&yn)!==0&&(t.f^=yn),v}catch(g){return Ps(g)}finally{t.f^=ua,Qe=e,dt=n,vt=r,ye=s,tn=o,jt=i,Xn(l),Ct=c,Sn=u}}function ul(t,e){let n=e.reactions;if(n!==null){var r=ai.call(n,t);if(r!==-1){var s=n.length-1;s===0?n=e.reactions=null:(n[r]=n[s],n.pop())}}n===null&&(e.f&Je)!==0&&(Qe===null||!Qe.includes(e))&&(et(e,on),(e.f&(_t|Mr))===0&&(e.f^=Mr),Is(e),Or(e,0))}function Or(t,e){var n=t.deps;if(n!==null)for(var r=e;r<n.length;r++)ul(t,n[r])}function Br(t){var e=t.f;if((e&Ht)===0){et(t,$e);var n=Se,r=Vn;Se=t,Vn=!0;try{(e&Yt)!==0?il(t):qs(t),Ws(t);var s=eo(t);t.teardown=typeof s=="function"?s:null,t.wv=Js;var o;ps&&Bi&&(t.f&ot)!==0&&t.deps}finally{Vn=r,Se=n}}}async function to(){await Promise.resolve(),As()}function a(t){var e=t.f,n=(e&Je)!==0;if(ye!==null&&!Ct){var r=Se!==null&&(Se.f&Ht)!==0;if(!r&&!jt?.includes(t)){var s=ye.deps;if((ye.f&ua)!==0)t.rv<dr&&(t.rv=dr,Qe===null&&s!==null&&s[dt]===t?dt++:Qe===null?Qe=[t]:(!tn||!Qe.includes(t))&&Qe.push(t));else{(ye.deps??(ye.deps=[])).push(t);var o=t.reactions;o===null?t.reactions=[ye]:o.includes(ye)||o.push(ye)}}}else if(n&&t.deps===null&&t.effects===null){var i=t,l=i.parent;l!==null&&(l.f&_t)===0&&(i.f^=_t)}if(xn){if(nn.has(t))return nn.get(t);if(n){i=t;var c=i.v;return((i.f&$e)===0&&i.reactions!==null||no(i))&&(c=Aa(i)),nn.set(i,c),c}}else if(n){if(i=t,St?.has(i))return St.get(i);Gr(i)&&Os(i)}if(St?.has(t))return St.get(t);if((t.f&yn)!==0)throw t.v;return t.v}function no(t){if(t.v===Ge)return!0;if(t.deps===null)return!1;for(const e of t.deps)if(nn.has(e)||(e.f&Je)!==0&&no(e))return!0;return!1}function lt(t){var e=Ct;try{return Ct=!0,t()}finally{Ct=e}}const dl=-7169;function et(t,e){t.f=t.f&dl|e}function fl(t){if(!(typeof t!="object"||!t||t instanceof EventTarget)){if(bn in t)ma(t);else if(!Array.isArray(t))for(let e in t){const n=t[e];typeof n=="object"&&n&&bn in n&&ma(n)}}}function ma(t,e=new Set){if(typeof t=="object"&&t!==null&&!(t instanceof EventTarget)&&!e.has(t)){e.add(t),t instanceof Date&&t.getTime();for(let r in t)try{ma(t[r],e)}catch{}const n=ka(t);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=_s(n);for(let s in r){const o=r[s].get;if(o)try{o.call(t)}catch{}}}}}const vl=["touchstart","touchmove"];function hl(t){return vl.includes(t)}const ro=new Set,wa=new Set;function gl(t,e,n,r={}){function s(o){if(r.capture||sr.call(e,o),!o.cancelBubble)return Kr(()=>n?.call(this,o))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?Pn(()=>{e.addEventListener(t,s,r)}):e.addEventListener(t,s,r),s}function Ma(t,e,n,r,s){var o={capture:r,passive:s},i=gl(t,e,n,o);(e===document.body||e===window||e===document||e instanceof HTMLMediaElement)&&js(()=>{e.removeEventListener(t,i,o)})}function tt(t){for(var e=0;e<t.length;e++)ro.add(t[e]);for(var n of wa)n(t)}let rs=null;function sr(t){var e=this,n=e.ownerDocument,r=t.type,s=t.composedPath?.()||[],o=s[0]||t.target;rs=t;var i=0,l=rs===t&&t.__root;if(l){var c=s.indexOf(l);if(c!==-1&&(e===document||e===window)){t.__root=e;return}var u=s.indexOf(e);if(u===-1)return;c<=u&&(i=c)}if(o=s[i]||t.target,o!==e){la(t,"currentTarget",{configurable:!0,get(){return o||n}});var d=ye,f=Se;at(null),Nt(null);try{for(var v,_=[];o!==null;){var h=o.assignedSlot||o.parentNode||o.host||null;try{var y=o["__"+r];if(y!=null&&(!o.disabled||t.target===o))if(Ca(y)){var[g,...C]=y;g.apply(o,[t,...C])}else y.call(o,t)}catch(x){v?_.push(x):v=x}if(t.cancelBubble||h===e||h===null)break;o=h}if(v){for(let x of _)queueMicrotask(()=>{throw x});throw v}}finally{t.__root=e,delete t.currentTarget,at(d),Nt(f)}}}function ao(t){var e=document.createElement("template");return e.innerHTML=t.replaceAll("<!>","<!---->"),e.content}function fr(t,e){var n=Se;n.nodes_start===null&&(n.nodes_start=t,n.nodes_end=e)}function K(t,e){var n=(e&Di)!==0,r=(e&Ni)!==0,s,o=!t.startsWith("<!>");return()=>{s===void 0&&(s=ao(o?t:"<!>"+t),n||(s=Jn(s)));var i=r||Rs?document.importNode(s,!0):s.cloneNode(!0);if(n){var l=Jn(i),c=i.lastChild;fr(l,c)}else fr(i,i);return i}}function pl(t,e,n="svg"){var r=!t.startsWith("<!>"),s=`<${n}>${r?t:"<!>"+t}</${n}>`,o;return()=>{if(!o){var i=ao(s),l=Jn(i);o=Jn(l)}var c=o.cloneNode(!0);return fr(c,c),c}}function _l(t,e){return pl(t,e,"svg")}function Re(t=""){{var e=sn(t+"");return fr(e,e),e}}function Z(){var t=document.createDocumentFragment(),e=document.createComment(""),n=sn();return t.append(e,n),fr(e,n),t}function m(t,e){t!==null&&t.before(e)}function kf(){var t;return(t=window.__svelte??(window.__svelte={})).uid??(t.uid=1),`c${window.__svelte.uid++}`}function Vt(t,e){var n=e==null?"":typeof e=="object"?e+"":e;n!==(t.__t??(t.__t=t.nodeValue))&&(t.__t=n,t.nodeValue=n+"")}function ml(t,e){return wl(t,e)}const Rn=new Map;function wl(t,{target:e,anchor:n,props:r={},events:s,context:o,intro:i=!0}){Ji();var l=new Set,c=f=>{for(var v=0;v<f.length;v++){var _=f[v];if(!l.has(_)){l.add(_);var h=hl(_);e.addEventListener(_,sr,{passive:h});var y=Rn.get(_);y===void 0?(document.addEventListener(_,sr,{passive:h}),Rn.set(_,1)):Rn.set(_,y+1)}}};c(Ea(ro)),wa.add(c);var u=void 0,d=al(()=>{var f=n??e.appendChild(sn());return Wi(f,{pending:()=>{}},v=>{if(o){re({});var _=Me;_.c=o}s&&(r.$$events=s),u=t(v,r)||{},o&&ae()}),()=>{for(var v of l){e.removeEventListener(v,sr);var _=Rn.get(v);--_===0?(document.removeEventListener(v,sr),Rn.delete(v)):Rn.set(v,_)}wa.delete(c),f!==n&&f.parentNode?.removeChild(f)}});return yl.set(u,d),u}let yl=new WeakMap;var zt,At,yt,gr,pr;class Xr{constructor(e,n=!0){ct(this,"anchor");ke(this,zt,new Map);ke(this,At,new Map);ke(this,yt,new Map);ke(this,gr,!0);ke(this,pr,()=>{var e=Ne;if(M(this,zt).has(e)){var n=M(this,zt).get(e),r=M(this,At).get(n);if(r)Na(r);else{var s=M(this,yt).get(n);s&&(M(this,At).set(n,s.effect),M(this,yt).delete(n),s.fragment.lastChild.remove(),this.anchor.before(s.fragment),r=s.effect)}for(const[o,i]of M(this,zt)){if(M(this,zt).delete(o),o===e)break;const l=M(this,yt).get(i);l&&(st(l.effect),M(this,yt).delete(i))}for(const[o,i]of M(this,At)){if(o===n)continue;const l=()=>{if(Array.from(M(this,zt).values()).includes(o)){var u=document.createDocumentFragment();Xs(i,u),u.append(sn()),M(this,yt).set(o,{effect:i,fragment:u})}else st(i);M(this,At).delete(o)};M(this,gr)||!r?jn(i,l,!1):l()}}});this.anchor=e,ue(this,gr,n)}ensure(e,n){var r=Ne,s=Hs();if(n&&!M(this,At).has(e)&&!M(this,yt).has(e))if(s){var o=document.createDocumentFragment(),i=sn();o.append(i),M(this,yt).set(e,{effect:bt(()=>n(i)),fragment:o})}else M(this,At).set(e,bt(()=>n(this.anchor)));if(M(this,zt).set(r,e),s){for(const[l,c]of M(this,At))l===e?r.skipped_effects.delete(c):r.skipped_effects.add(c);for(const[l,c]of M(this,yt))l===e?r.skipped_effects.delete(c.effect):r.skipped_effects.add(c.effect);r.add_callback(M(this,pr))}else M(this,pr).call(this)}}zt=new WeakMap,At=new WeakMap,yt=new WeakMap,gr=new WeakMap,pr=new WeakMap;const bl=0,aa=1;function Sl(t,e,n,r,s){var o=tr(),i=Ge,l=o?qt(i):_a(i,!1,!1),c=o?qt(i):_a(i,!1,!1),u=new Xr(t);nr(()=>{var d=e(),f=!1;if(ii(d)){var v=Ls(),_=!1;const h=y=>{if(!f){_=!0,v();try{y()}finally{Ir(),Un||As()}}};d.then(y=>{h(()=>{Ut(l,y),u.ensure(aa,r&&(g=>r(g,l)))})},y=>{h(()=>{if(Ut(c,y),u.ensure(aa,s&&(g=>s(g,c))),!s)throw c.v})}),Pn(()=>{_||h(()=>{u.ensure(bl,n)})})}else Ut(l,d),u.ensure(aa,r&&(h=>r(h,l)));return()=>{f=!0}})}function W(t,e,n=!1){var r=new Xr(t),s=n?an:0;function o(i,l){r.ensure(i,l)}nr(()=>{var i=!1;e((l,c=!0)=>{i=!0,o(c,l)}),i||o(!1,null)},s)}function ge(t,e){Yr(()=>{var n=e();for(var r in n){var s=n[r];s?t.style.setProperty(r,s):t.style.removeProperty(r)}})}function Cl(t,e,n){for(var r=t.items,s=[],o=e.length,i=0;i<o;i++)Da(e[i].e,s,!0);var l=o>0&&s.length===0&&n!==null;if(l){var c=n.parentNode;Qi(c),c.append(n),r.clear(),kt(t,e[0].prev,e[o-1].next)}Ys(s,()=>{for(var u=0;u<o;u++){var d=e[u];l||(r.delete(d.k),kt(t,d.prev,d.next)),st(d.e,!l)}})}function Zr(t,e,n,r,s,o=null){var i=t,l={flags:e,items:new Map,first:null},c=(e&bs)!==0;if(c){var u=t;i=u.appendChild(sn())}var d=null,f=!1,v=new Map,_=qr(()=>{var C=n();return Ca(C)?C:C==null?[]:Ea(C)}),h,y;function g(){El(y,h,l,v,i,s,e,r,n),o!==null&&(h.length===0?d?Na(d):d=bt(()=>o(i)):d!==null&&jn(d,()=>{d=null}))}nr(()=>{y??(y=Se),h=a(_);var C=h.length;if(!(f&&C===0)){f=C===0;var x,S,T,N;if(Hs()){var A=new Set,P=Ne;for(S=0;S<C;S+=1){T=h[S],N=r(T,S);var E=l.items.get(N)??v.get(N);E?(e&(jr|Vr))!==0&&so(E,T,S,e):(x=oo(null,l,null,null,T,N,S,s,e,n,!0),v.set(N,x)),A.add(N)}for(const[O,$]of l.items)A.has(O)||P.skipped_effects.add($.e);P.add_callback(g)}else g();a(_)}})}function El(t,e,n,r,s,o,i,l,c){var u=(i&Ci)!==0,d=(i&(jr|Vr))!==0,f=e.length,v=n.items,_=n.first,h=_,y,g=null,C,x=[],S=[],T,N,A,P;if(u)for(P=0;P<f;P+=1)T=e[P],N=l(T,P),A=v.get(N),A!==void 0&&(A.a?.measure(),(C??(C=new Set)).add(A));for(P=0;P<f;P+=1){if(T=e[P],N=l(T,P),A=v.get(N),A===void 0){var E=r.get(N);if(E!==void 0){r.delete(N),v.set(N,E);var O=g?g.next:h;kt(n,g,E),kt(n,E,O),sa(E,O,s),g=E}else{var $=h?h.e.nodes_start:s;g=oo($,n,g,g===null?n.first:g.next,T,N,P,o,i,c)}v.set(N,g),x=[],S=[],h=g.next;continue}if(d&&so(A,T,P,i),(A.e.f&ft)!==0&&(Na(A.e),u&&(A.a?.unfix(),(C??(C=new Set)).delete(A))),A!==h){if(y!==void 0&&y.has(A)){if(x.length<S.length){var oe=S[0],U;g=oe.prev;var ee=x[0],te=x[x.length-1];for(U=0;U<x.length;U+=1)sa(x[U],oe,s);for(U=0;U<S.length;U+=1)y.delete(S[U]);kt(n,ee.prev,te.next),kt(n,g,ee),kt(n,te,oe),h=oe,g=te,P-=1,x=[],S=[]}else y.delete(A),sa(A,h,s),kt(n,A.prev,A.next),kt(n,A,g===null?n.first:g.next),kt(n,g,A),g=A;continue}for(x=[],S=[];h!==null&&h.k!==N;)(h.e.f&ft)===0&&(y??(y=new Set)).add(h),S.push(h),h=h.next;if(h===null)continue;A=h}x.push(A),g=A,h=A.next}if(h!==null||y!==void 0){for(var J=y===void 0?[]:Ea(y);h!==null;)(h.e.f&ft)===0&&J.push(h),h=h.next;var ve=J.length;if(ve>0){var Q=(i&bs)!==0&&f===0?s:null;if(u){for(P=0;P<ve;P+=1)J[P].a?.measure();for(P=0;P<ve;P+=1)J[P].a?.fix()}Cl(n,J,Q)}}u&&Pn(()=>{if(C!==void 0)for(A of C)A.a?.apply()}),t.first=n.first&&n.first.e,t.last=g&&g.e;for(var R of r.values())st(R.e);r.clear()}function so(t,e,n,r){(r&jr)!==0&&Ut(t.v,e),(r&Vr)!==0?Ut(t.i,n):t.i=n}function oo(t,e,n,r,s,o,i,l,c,u,d){var f=(c&jr)!==0,v=(c&Ei)===0,_=f?v?_a(s,!1,!1):qt(s):s,h=(c&Vr)===0?i:qt(i),y={i:h,v:_,k:o,a:null,e:null,prev:n,next:r};try{if(t===null){var g=document.createDocumentFragment();g.append(t=sn())}return y.e=bt(()=>l(t,_,h,u),Ii),y.e.prev=n&&n.e,y.e.next=r&&r.e,n===null?d||(e.first=y):(n.next=y,n.e.next=y.e),r!==null&&(r.prev=y,r.e.prev=y.e),y}finally{}}function sa(t,e,n){for(var r=t.next?t.next.e.nodes_start:n,s=e?e.e.nodes_start:n,o=t.e.nodes_start;o!==null&&o!==r;){var i=mr(o);s.before(o),o=i}}function kt(t,e,n){e===null?t.first=n:(e.next=n,e.e.next=n&&n.e),n!==null&&(n.prev=e,n.e.prev=e&&e.e)}function Ce(t,e,...n){var r=new Xr(t);nr(()=>{const s=e()??null;r.ensure(s,s&&(o=>s(o,...n)))},an)}function kl(t,e,n){var r=new Xr(t);nr(()=>{var s=e()??null;r.ensure(s,s&&(o=>n(o,s)))},an)}function io(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=io(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Pl(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=io(t))&&(r&&(r+=" "),r+=e);return r}function pe(t){return typeof t=="object"?Pl(t):t??""}const as=[...` 	
\r\f \v\uFEFF`];function xl(t,e,n){var r=t==null?"":""+t;if(e&&(r=r?r+" "+e:e),n){for(var s in n)if(n[s])r=r?r+" "+s:s;else if(r.length)for(var o=s.length,i=0;(i=r.indexOf(s,i))>=0;){var l=i+o;(i===0||as.includes(r[i-1]))&&(l===r.length||as.includes(r[l]))?r=(i===0?"":r.substring(0,i))+r.substring(l+1):i=l}}return r===""?null:r}function Tl(t,e){return t==null?null:String(t)}function _e(t,e,n,r,s,o){var i=t.__className;if(i!==n||i===void 0){var l=xl(n,r,o);l==null?t.removeAttribute("class"):t.className=l,t.__className=n}else if(o&&s!==o)for(var c in o){var u=!!o[c];(s==null||u!==!!s[c])&&t.classList.toggle(c,u)}return o}function En(t,e,n,r){var s=t.__style;if(s!==e){var o=Tl(e);o==null?t.removeAttribute("style"):t.style.cssText=o,t.__style=e}return r}const Al=Symbol("is custom element"),Dl=Symbol("is html");function Pf(t,e){var n=La(t);n.value===(n.value=e??void 0)||t.value===e&&(e!==0||t.nodeName!=="PROGRESS")||(t.value=e??"")}function xf(t,e){var n=La(t);n.checked!==(n.checked=e??void 0)&&(t.checked=e)}function Oe(t,e,n,r){var s=La(t);s[e]!==(s[e]=n)&&(e==="loading"&&(t[fi]=n),n==null?t.removeAttribute(e):typeof n!="string"&&Nl(t).includes(e)?t[e]=n:t.setAttribute(e,n))}function La(t){return t.__attributes??(t.__attributes={[Al]:t.nodeName.includes("-"),[Dl]:t.namespaceURI===Mi})}var ss=new Map;function Nl(t){var e=t.getAttribute("is")||t.nodeName,n=ss.get(e);if(n)return n;ss.set(e,n=[]);for(var r,s=t,o=Element.prototype;o!==s;){r=_s(s);for(var i in r)r[i].set&&n.push(i);s=ka(s)}return n}function Ml(t,e,n=e){var r=new WeakSet;el(t,"input",async s=>{var o=s?t.defaultValue:t.value;if(o=oa(t)?ia(o):o,n(o),Ne!==null&&r.add(Ne),await to(),o!==(o=e())){var i=t.selectionStart,l=t.selectionEnd,c=t.value.length;if(t.value=o??"",l!==null){var u=t.value.length;i===l&&l===c&&u>c?(t.selectionStart=u,t.selectionEnd=u):(t.selectionStart=i,t.selectionEnd=Math.min(l,u))}}}),lt(e)==null&&t.value&&(n(oa(t)?ia(t.value):t.value),Ne!==null&&r.add(Ne)),Yr(()=>{var s=e();if(t===document.activeElement){var o=Tr??Ne;if(r.has(o))return}oa(t)&&s===ia(t.value)||t.type==="date"&&!s&&!t.value||s!==t.value&&(t.value=s??"")})}function oa(t){var e=t.type;return e==="number"||e==="range"}function ia(t){return t===""?null:+t}function os(t,e){return t===e||t?.[bn]===e}function it(t={},e,n,r){return sl(()=>{var s,o;return Yr(()=>{s=o,o=[],lt(()=>{t!==n(...o)&&(e(t,...o),s&&os(n(...s),t)&&e(null,...s))})}),()=>{Pn(()=>{o&&os(n(...o),t)&&e(null,...o)})}}),t}function Jr(t=!1){const e=Me,n=e.l.u;if(!n)return;let r=()=>fl(e.s);if(t){let s=0,o={};const i=_r(()=>{let l=!1;const c=e.s;for(const u in c)c[u]!==o[u]&&(o[u]=c[u],l=!0);return l&&s++,s});r=()=>a(i)}n.b.length&&rl(()=>{is(e,r),ca(n.b)}),De(()=>{const s=lt(()=>n.m.map(li));return()=>{for(const o of s)typeof o=="function"&&o()}}),n.a.length&&De(()=>{is(e,r),ca(n.a)})}function is(t,e){if(t.l.s)for(const n of t.l.s)a(n);e()}let xr=!1;function Ll(t){var e=xr;try{return xr=!1,[t(),xr]}finally{xr=e}}function fe(t,e,n,r){var s=!er||(n&Pi)!==0,o=(n&Ti)!==0,i=(n&Ai)!==0,l=r,c=!0,u=()=>(c&&(c=!1,l=i?lt(r):r),l),d;if(o){var f=bn in t||di in t;d=Hn(t,e)?.set??(f&&e in t?S=>t[e]=S:void 0)}var v,_=!1;o?[v,_]=Ll(()=>t[e]):v=t[e],v===void 0&&r!==void 0&&(v=u(),d&&(s&&mi(),d(v)));var h;if(s?h=()=>{var S=t[e];return S===void 0?u():(c=!0,S)}:h=()=>{var S=t[e];return S!==void 0&&(l=void 0),S===void 0?l:S},s&&(n&xi)===0)return h;if(d){var y=t.$$legacy;return(function(S,T){return arguments.length>0?((!s||!T||y||_)&&d(T?h():S),S):h()})}var g=!1,C=((n&ki)!==0?_r:qr)(()=>(g=!1,h()));o&&a(C);var x=Se;return(function(S,T){if(arguments.length>0){const N=T?a(C):s&&o?Fe(S):S;return p(C,N),g=!0,l!==void 0&&(l=N),S}return xn&&g||(x.f&Ht)!==0?C.v:a(C)})}function Pe(t){Me===null&&ys(),er&&Me.l!==null?Il(Me).m.push(t):De(()=>{const e=lt(t);if(typeof e=="function")return e})}function Il(t){var e=t.l;return e.u??(e.u={a:[],b:[],m:[]})}const Ol="5";var gs;typeof window<"u"&&((gs=window.__svelte??(window.__svelte={})).v??(gs.v=new Set)).add(Ol);Ri();const lo={};function Bl(t){Ve(lo,t)}function co(){const t=je(lo);if(!t)throw new Error("No SearchContext found");return t}const uo={};function Rl(t){Ve(uo,t)}function Lt(){const t=je(uo);if(!t)throw new Error("No AppHistoryContext found");return t}function zl(t,e){re(e,!0);const{addSearchParam:n,deleteSearchParam:r,getAppLocation:s}=Lt(),o=F(()=>s().searchParams),i="search",l=Fe({value:s().searchParams.get(i)||""}),c=f=>{(a(o).get(i)||"")!==f&&(f===""?r(i):n(i,f))};De(()=>{a(o);const f=l.value;lt(()=>{c(f)})}),Bl(l);var u=Z(),d=z(u);Ce(d,()=>e.children??Ae),m(t,u),ae()}const fo={};function Fl(t){Ve(fo,t)}function vo(){const t=je(fo);if(!t)throw new Error("No TagSearchContext found");return t}function Hl(t,e){re(e,!0);const n=Fe({value:""});Fl(n);var r=Z(),s=z(r);Ce(s,()=>e.children??Ae),m(t,r),ae()}const ho={};function Ul(t){Ve(ho,t)}function go(){const t=je(ho);if(!t)throw new Error("No FeedOrderContext found");return t}function jl(t,e){re(e,!0);const{addSearchParam:n,deleteSearchParam:r,getAppLocation:s}=Lt(),o=F(()=>s().searchParams),i="feedOrder";let l=q(Fe(s().searchParams.get(i)||"newest"));const c=_=>{(a(o).get(i)||"newest")!==_&&(_==="newest"?r(i):n(i,_))};De(()=>{a(o),a(l),lt(()=>{c(a(l))})}),Ul({getFeedOrder:()=>a(l),setFeedOrder:_=>{p(l,_,!0)}});var f=Z(),v=z(f);Ce(v,()=>e.children??Ae),m(t,f),ae()}const po={};function Vl(t){Ve(po,t)}function Qr(){const t=je(po);if(!t)throw new Error("No SidebarContext found");return t}function Wl(t,e){re(e,!0);const n=(d,f)=>{if(!f)return d;if(f.type==="closed")return{type:"closed"};switch(d.type){case"opened":return f.type==="open"?{type:"opening"}:f.type==="close"?{type:"closing"}:f.type==="swipe"?{type:"openSwiping"}:d;case"closed":return f.type==="open"?{type:"opening"}:f.type==="swipe"?{type:"closeSwiping"}:d;case"openSwiping":return f.type==="open"?{type:"opening"}:f.type==="close"?{type:"closing"}:d;case"closeSwiping":return f.type==="open"?{type:"opening"}:f.type==="close"?{type:"closing"}:d;case"opening":return f.type==="opened"?{type:"opened"}:d;default:return d}};let r=q(Fe(n({type:"closed"})));const s=d=>{const f=lt(()=>a(r));p(r,n(f,d),!0)};Vl({sidebarOpen:()=>{s({type:"open"})},sidebarClose:()=>{s({type:"close"})},handleComputeState:s,getSidebarState:()=>a(r)});var c=Z(),u=z(c);Ce(u,()=>e.children??Ae),m(t,c),ae()}const _o={};function ql(t){Ve(_o,t)}function mo(){const t=je(_o);if(!t)throw new Error("No SelectedTagsContext found");return t}const wo=(t,e)=>{let n=null;return()=>{n&&clearTimeout(n),n=setTimeout(()=>{n=null,t()},e)}};async function Tf(){if(navigator.storage&&navigator.storage.persist)try{await navigator.storage.persisted()||await navigator.storage.persist()}catch{console.error("")}}const Kl=(t,e)=>{if(t.size!==e.size)return!0;for(const n of t)if(!e.has(n))return!0;return!1};function Yl(t,e){re(e,!0);const{getAppLocation:n,replace:r}=Lt(),s=F(n),o=F(()=>a(s).searchParams),i="selectedTags",l=()=>new Set(n().searchParams.get(i)?.split(",")||[]);let c=q(Fe(l()));const u=()=>{const g=l();if(Kl(g,a(c))){const C=a(s).pathname;a(c).size===0?a(o).delete(i):a(o).set(i,Array.from(a(c)).join(",")),r(`${C}${a(o).size>0?`?${a(o).toString()}`:""}`)}};De(()=>{a(o),a(c),lt(()=>{u()})}),ql({getSelectedTags:()=>a(c),addTag:g=>{a(c).has(g)||p(c,new Set([...a(c),g]),!0)},removeTag:g=>{const C=new Set(a(c));C.delete(g),p(c,C,!0)},clearTags:()=>{p(c,new Set,!0)}});var h=Z(),y=z(h);Ce(y,()=>e.children??Ae),m(t,h),ae()}const yo={};function Gl(t){Ve(yo,t)}function Ia(){const t=je(yo);if(!t)throw new Error("No LocalDBContext found");return t}const bo={};function Xl(t){Ve(bo,t)}function Zl(){const t=je(bo);if(!t)throw new Error("No SettingsContext found");return t}const So={};function Jl(t){Ve(So,t)}function rr(){const t=je(So);if(!t)throw new Error("No BroadcastContext found");return t}const Ql="AppStorage",$l=1,or="account",Nr="settings",ut="notes",wt="tags",ec="syncLog",ln="success",Kt="error",qe=(t,e,n)=>{t?.addEventListener(e,n)},ls=(t,e)=>new Promise((n,r)=>{const o=t?.transaction(e,"readonly")?.objectStore(e).getAll();qe(o,ln,()=>{const i=o?.result||[];n(i)}),qe(o,Kt,i=>{r(i)})}),ya=(t,e,n)=>new Promise((r,s)=>{const i=t?.transaction(e,"readonly")?.objectStore(e).get(n);qe(i,ln,()=>{const l=i?.result?.data;r(l)}),qe(i,Kt,l=>{s(l)})}),ur=(t,e,n,r)=>new Promise((s,o)=>{const c=t?.transaction(e,"readwrite")?.objectStore(e)?.put({id:n,data:r});qe(c,ln,()=>{s()}),qe(c,Kt,u=>{o(u)})}),ar=async(t,e,n)=>{const s=t?.transaction(e,"readwrite")?.objectStore(e);await Promise.all(n.map(o=>{const i=s?.put(o);return new Promise((l,c)=>{qe(i,ln,()=>{l()}),qe(i,Kt,u=>{c(u)})})}))},tc=(t,e,n)=>new Promise((r,s)=>{const l=t?.transaction(e,"readwrite")?.objectStore(e)?.delete(n);qe(l,ln,()=>{r()}),qe(l,Kt,c=>{s(c)})}),zn=async(t,e,n)=>{const s=t?.transaction(e,"readwrite")?.objectStore(e);await Promise.all(n.map(o=>{const i=s?.delete(o);return new Promise((l,c)=>{qe(i,ln,()=>{l()}),qe(i,Kt,u=>{c(u)})})}))},hn=(t,e)=>new Promise((n,r)=>{const i=t?.transaction(e,"readwrite")?.objectStore(e)?.clear();qe(i,ln,()=>{n()}),qe(i,Kt,l=>{r(l)})});function nc(t,e){re(e,!0);let n=q(Fe({showFavicon:!0}));const{getDB:r}=Ia(),{createBroadcastChannel:s,tabId:o}=rr(),i=s(),l=F(r),c=async()=>{const y=await ya(a(l),Nr,"default");y&&p(n,y,!0)},u=async()=>{c()},d=async y=>{const g=JSON.parse(y.data),C=g;if(g.tabId&&g.tabId===o){C.type==="exit"&&(p(n,{showFavicon:!0},!0),hn(a(l),Nr));return}C.type==="updateSettings"?c():C.type==="exit"&&p(n,{showFavicon:!0},!0)},f=()=>a(n).showFavicon,v=async y=>{a(n).showFavicon=y,await ur(a(l),Nr,"default",{showFavicon:y}),i.postMessage({type:"updateSettings"})};Pe(()=>(u(),i.addEventListener(d),()=>{i.removeEventListener(d)})),Xl({getFaviconEnabled:f,setFaviconShown:v});var _=Z(),h=z(_);Ce(h,()=>e.children??Ae),m(t,_),ae()}const Co={};function rc(t){Ve(Co,t)}function Eo(){const t=je(Co);if(!t)throw new Error("No AccountContext found");return t}function ac(t,e){re(e,!0);let n=q(void 0);const{getDB:r}=Ia(),{createBroadcastChannel:s,tabId:o}=rr(),i=F(r),l=s(),c=async()=>{const S=await ya(a(i),or,"default");p(n,S,!0)},u=S=>ur(a(i),or,"default",S),d=async S=>{const T=await ya(a(i),or,"default");T!==void 0&&p(n,T,!0),S(T)},f=async S=>{const T=JSON.parse(S.data);if(T.tabId&&T.tabId===o)return;const N=T;N.type==="initLocalAccount"?p(n,null):N.type==="initCloudAccount"?c():N.type==="disconnectCloudAccount"?p(n,null):N.type==="exit"?p(n,void 0):N.type==="updateAccount"&&c()};Pe(()=>(l.addEventListener(f),()=>{l.removeEventListener(f)})),rc({init:d,getAccount:()=>a(n),initLocalAccount:async()=>{p(n,null),await u(null),l.postMessage({type:"initLocalAccount"})},initCloudAccount:async S=>{const T={encryptedClientKey:S.encryptedClientKey||"",subscriptionExpires:S.subscriptionExpires||-1,lastSync:-1};await u(T),p(n,T,!0),l.postMessage({type:"initCloudAccount"})},disconnectCloudAccount:async()=>{p(n,null),await u(null),l.postMessage({type:"disconnectCloudAccount"})},updateSubscription:async S=>{if(!a(n))throw new Error("No account to update subscription for");const T={...a(n),subscriptionExpires:S};await u(T),l.postMessage({type:"updateAccount"})},exitApp:async()=>{p(n,void 0),l.postMessage({type:"exit"}),await hn(a(i),or)}});var C=Z(),x=z(C);Ce(x,()=>e.children??Ae),m(t,C),ae()}const ko={};function sc(t){Ve(ko,t)}function Tn(){const t=je(ko);if(!t)throw new Error("No NotesContext found");return t}const oc=()=>crypto.randomUUID(),ic=t=>{const e=new Map;for(const n of t||[])for(const r of n?.data.tags||[])e.set(r,{name:r,count:(e.get(r)?.count||0)+1});return e};function lc(t,e){re(e,!0);const{getDB:n}=Ia(),{createBroadcastChannel:r,tabId:s}=rr(),o=F(n),i=r(),l=720*60*60*1e3;let c=q(0),u=q(!1),d=q(()=>new Map),f=q(()=>[]),v=q(()=>new Map);const _=()=>a(u),h=()=>a(c)>0,y=(L=1)=>{a(c)>0&&p(c,a(c)-L)},g=L=>{const D=a(f)(),w=a(v)(),b={...L};D.push(b),w.set(b.id,b),p(f,()=>D),p(v,()=>w)},C=L=>{const D=a(f)(),w=a(v)(),b=w.get(L.id);b&&(b.data=L.data),p(f,()=>D),p(v,()=>w)},x=L=>{const D=a(f)(),w=a(v)(),b=w.get(L);w.has(L)&&w.delete(L),b?.data?.type==="draft"&&w.delete("draft"),b&&(b.data=void 0),p(f,()=>D),p(v,()=>w)},S=L=>{const D=a(f)(),w=a(v)();for(const b of L){const B=w.get(b);w.has(b)&&w.delete(b),B?.data?.type==="draft"&&w.delete("draft"),B&&(B.data=void 0)}p(f,()=>D),p(v,()=>w)},T=()=>{p(f,()=>[]),p(d,()=>new Map),p(v,()=>new Map)},N=()=>a(f),A=L=>{const D=a(d)();for(const w of L){const b=D.get(w);b?b.count++:D.set(w,{name:w,count:1})}p(d,()=>D)},P=L=>{const D=a(d)();for(const w of L){const b=D.get(w);b&&(b.count--,b.count<=0&&D.delete(w))}p(d,()=>D)},E=async()=>{const[L,D]=await Promise.all([ls(a(o),ut),ls(a(o),wt).then(ce=>ce.reduce((Le,Ye)=>Le.set(Ye.id,Ye.data),new Map))]),w=[],b=[],B=new Map;let G=0;for(const ce of L)ce.data.deletedAt&&Date.now()-ce.data.deletedAt>l?w.push(ce.id):(b.push(ce),B.set(ce.id,ce),ce.data.deletedAt&&(G+=1),ce.data.type==="draft"&&B.set("draft",ce));p(c,G,!0);const le=ic(b),we=new Map;le.entries().forEach(([ce,Le])=>{const Ye=D.get(ce);we.set(ce,{...Le,...Ye})}),await zn(a(o),ut,w),await hn(a(o),wt),await ar(a(o),wt,Array.from(we.values()).map(ce=>({id:ce.name,data:{pinned:ce.pinned}}))),p(f,()=>b),p(v,()=>B),p(d,()=>we),p(u,!0)},O=async()=>{const L=a(v)(),D=L.get("draft");if(D)return D;const w={id:oc(),data:{type:"draft",url:"",name:"",text:"",tags:[],draft:{url:"",name:"",text:"",tags:[],createdAt:Date.now(),updatedAt:Date.now()},createdAt:Date.now(),updatedAt:Date.now()}};return await ur(a(o),ut,w.id,{...w.data}),L.set("draft",w),g(w),i.postMessage({type:"createNoteDraft",data:{note:w}}),w},$=async L=>{const w=a(v)().get(L);if(!w||!w.data)return;const b=a(d)(),B=w.data.tags;P(B),x(L),i.postMessage({type:"deleteNote",data:{id:L}}),y(),await tc(a(o),ut,L),await zn(a(o),wt,B.filter(G=>{const le=b.get(G);return le?le.count<=1:!1}))},oe=async L=>{const D=a(v)(),w=new Set;for(const B of L){const G=D.get(B);G&&G.data&&G.data.tags.forEach(le=>w.add(le))}const b=a(d)();P(Array.from(w)),S(L),y(L.length),await zn(a(o),ut,L),await zn(a(o),wt,Array.from(w.values()).filter(B=>{const G=b.get(B);return G?G.count<=1:!1})),i.postMessage({type:"reloadNotes"})},U=async(L,D)=>{const w={id:D.id,data:{...D.data}},b=a(d)(),B=D.data.tags.filter(le=>!L.data.tags.includes(le)),G=L.data.tags.filter(le=>!D.data.tags.includes(le));await ur(a(o),ut,w.id,{...w.data}),await ar(a(o),wt,B.filter(le=>!b.has(le)).map(le=>({id:le,data:{}}))),await zn(a(o),wt,G.filter(le=>{const we=b.get(le);return we?we.count<=1:!1})),C(w),P(G),A(B),i.postMessage({type:"updateNote",data:{note:w,tagsToAdd:B,tagsToDelete:G}})},ee=async L=>{const D=a(v)(),w=J(L);if(!w||!w.data)return;const b=D.get("draft");b&&b.id===w.id&&D.delete("draft");const B={id:L,data:{type:"note",name:w.data.draft?.name??w.data.name,url:w.data.draft?.url??w.data.url,text:w.data.draft?.text??w.data.text,tags:w.data.draft?.tags??w.data.tags,updatedAt:Date.now(),createdAt:w.data.createdAt,pinnedAt:w.data.pinnedAt,deletedAt:w.data.deletedAt,draft:void 0}};return U(w,B)},te=async()=>{T(),i.postMessage({type:"clearNotes"}),p(c,0),await hn(a(o),ut),await hn(a(o),wt)},J=L=>{const D=a(v)();return L?D.get(L):D.get("draft")},ve=async(L,D)=>{const b=a(v)().get(L);if(!b||!b.data)return;const B={id:L,data:{...b.data,pinnedAt:D?Date.now():void 0}};return U(b,B)},Q=async L=>{const w=a(v)().get(L);if(!w||!w.data)return;const b={id:L,data:{...w.data,deletedAt:Date.now()}};p(c,a(c)+1),await U(w,b)},R=async L=>{const D=a(v)(),w=a(f)(),b=[];w.forEach(B=>{B.data&&L.every(G=>B?.data?.tags.includes(G))&&b.push(B.id)});for(const B of b){const G=D.get(B);G?.data&&(G.data.deletedAt=Date.now())}p(c,a(c)+b.length),await ar(a(o),ut,b.map(B=>{const G=D.get(B);return{id:B,data:G?.data}})),i.postMessage({type:"reloadNotes"}),p(v,()=>D),p(f,()=>w)},V=async L=>{const D=a(v)(),w=a(f)(),b=[];w.forEach(B=>{B.data&&L.every(G=>B?.data?.tags.includes(G))&&b.push(B.id)});for(const B of b){const G=D.get(B);G?.data&&(G.data.deletedAt=0)}p(c,a(c)-b.length),await ar(a(o),ut,b.map(B=>{const G=D.get(B);return{id:B,data:G?.data}})),i.postMessage({type:"reloadNotes"}),p(v,()=>D),p(f,()=>w)},Y=async L=>{const w=a(v)().get(L);if(!w||!w.data)return;const b={id:L,data:{...w.data,deletedAt:0}};y(),await U(w,b)},I=async(L,D)=>{const w=a(d)();w.set(L,{name:L,count:w.get(L)?.count||0,pinned:D}),await ur(a(o),wt,L,{pinned:D}),i.postMessage({type:"pinTag",data:{tag:L,pinned:D}}),p(d,()=>w)},H=async L=>{const D=a(d)(),w=a(f)(),b=[];w.forEach(B=>{B.data&&L.every(G=>B?.data?.tags.includes(G))&&b.push(B.id)}),await oe(b),p(f,()=>w),p(d,()=>D)},ie=async L=>{const D=a(v)(),w={};L.forEach(b=>{const B=D.get(b.id);(!B||B&&B.data&&B.data.updatedAt<b.data.updatedAt)&&(w[b.id]=b)}),await ar(a(o),ut,Object.values(w)),await E(),i.postMessage({type:"reloadNotes"})},ne=async()=>{const L=[];a(f)().forEach(w=>{w&&w.data&&w.data.deletedAt&&L.push(w.id)}),p(c,0),await zn(a(o),ut,L),await E(),i.postMessage({type:"emptyBin"})},se=async(L,D)=>{if(L===""){const G=a(v)().get("draft");G?L=G.id:L=(await O()).id}const w=J(L);if(!w||!w.data)return;const b={id:L,data:{...w.data,draft:{...D,tags:D.tags,createdAt:w.data.draft?.createdAt||Date.now(),updatedAt:Date.now()}}};return await U(w,b),w.id},he=async L=>{const D=a(v)(),w=J(L);if(!w||!w.data||!w.data.draft)return;if(w.data.type==="draft"){L===D.get("draft")?.id&&D.delete("draft"),await $(L);return}const b={id:L,data:{...w.data,draft:void 0}};return U(w,b)},xe=async L=>{const D=JSON.parse(L.data),w=D;if(D.tabId&&D.tabId===s){w.type==="exit"&&(T(),await hn(a(o),ut),await hn(a(o),wt));return}if(w.type==="createNoteDraft"){const b=w.data.note;a(v)().set("draft",b),g(b)}else if(w.type==="updateNote"){const b=w.data,G=a(v)().get(b.note.id);if(!G||!G.data)return;G.data.deletedAt&&!b.note.data.deletedAt?y():!G.data.deletedAt&&b.note.data.deletedAt&&p(c,a(c)+1),C(b.note),P(b.tagsToAdd),A(b.tagsToDelete)}else if(w.type==="deleteNote"){const b=w.data.id,G=a(v)().get(b);if(!G)return;y(),x(b),P(G?.data?.tags||[])}else if(w.type==="pinTag"){const b=w.data.tag,B=w.data.pinned,G=a(d)(),le=G.get(b);le&&(le.pinned=B,G.set(b,le)),p(d,()=>G)}else w.type==="clearNotes"?T():w.type==="reloadNotes"||w.type==="emptyBin"?E():w.type==="exit"&&T()};Pe(()=>(E(),i.addEventListener(xe),()=>{i.removeEventListener(xe)})),sc({isInitedNotes:_,putNoteDraft:se,deleteNoteDraft:he,deleteNote:$,pinNote:ve,getGetNotes:N,importNotes:ie,clearNotes:te,getNoteById:J,getGetMapTags:()=>a(d),pinTag:I,moveNoteToBin:Q,restoreNoteFromBin:Y,checkNotesInBin:h,emptyBin:ne,saveNoteDraft:ee,countNotesInBin:()=>a(c),moveNotesToBinByTags:R,deleteNotesByTags:H,restoreNotesFromBinByTags:V});var be=Z(),Ee=z(be);Ce(Ee,()=>e.children??Ae),m(t,be),ae()}const Po={},cc=()=>({working:!1,swipingRatio:1,isSwiping:!1,duration:.35});function uc(t){Ve(Po,t)}function cn(){const t=je(Po);if(!t)throw new Error("No AnimationSettingsContext found");return t}function dc(t,e){re(e,!0);let n=Fe(cc());uc(n);var r=Z(),s=z(r);Ce(s,()=>e.children??Ae),m(t,r),ae()}const xo={};function fc(t){Ve(xo,t)}function Oa(){const t=je(xo);if(!t)throw new Error("No ScrollingContext found");return t}function vc(t,e){re(e,!0);let n=q(!1);const r=()=>a(n),s=wo(()=>{p(n,!1)},100);fc({isScrolling:r,enable:()=>{p(n,!0),s()}});var i=Z(),l=z(i);Ce(l,()=>e.children??Ae),m(t,i),ae()}const To={};function hc(t){Ve(To,t)}function un(){const t=je(To);if(!t)throw new Error("No MobileSizeContext found");return t}function gc(t,e){re(e,!0);const n=()=>window.matchMedia("(max-width: 767px)").matches;let r=q(Fe(n())),s=cn();const o=wo(()=>{s.working=!0},16),i=()=>{s.working=!1,o(),requestAnimationFrame(()=>{p(r,n(),!0)})};hc({checkMobileSize:()=>a(r)}),Pe(()=>(window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)));var c=Z(),u=z(c);Ce(u,()=>e.children??Ae),m(t,c),ae()}const Ao={};function pc(t){Ve(Ao,t)}function dn(){const t=je(Ao);if(!t)throw new Error("No DialogContext found");return t}function _c(t,e){re(e,!0);let n=q(0),r=q(!1),s=q(!0);pc({checkExistedDialog:()=>a(n)>0,showDialog:()=>{p(n,a(n)+1)},hideDialog:()=>{p(n,a(n)-1)},blockDialog:h=>{p(r,h,!0)},checkBlockedDialog:()=>a(r),setClosableDialog:h=>{p(s,h,!0)},checkClosableDialog:()=>a(s)});var v=Z(),_=z(v);Ce(_,()=>e.children??Ae),m(t,v),ae()}const Do={};function mc(t){Ve(Do,t)}function Ba(){const t=je(Do);if(!t)throw new Error("No ScrollContainerContext found");return t}function wc(t,e){re(e,!0);let n=q(null);mc({setScrollContainer:l=>{p(n,l,!0)},getScrollContainer:()=>a(n)});var o=Z(),i=z(o);Ce(i,()=>e.children??Ae),m(t,o),ae()}const No={};function yc(t){Ve(No,t)}function Ra(){const t=je(No);if(!t)throw new Error("No DialogPageHeightContext found");return t}function bc(t,e){re(e,!0);let n=q(200);yc({setDialogPageHeight:l=>{p(n,l,!0)},getDialogPageHeight:()=>a(n)});var o=Z(),i=z(o);Ce(i,()=>e.children??Ae),m(t,o),ae()}const Sc=[or,Nr,ut,wt,ec];function Cc(){return new Promise((t,e)=>{const n=indexedDB.open(Ql,$l);qe(n,"upgradeneeded",()=>{const r=n.result;for(const s of Sc)r.objectStoreNames.contains(s)||r.createObjectStore(s,{keyPath:"id"})}),qe(n,ln,()=>{const r=n.result;t(r),r.onversionchange=function(){r?.close(),alert("app outdated, please reload the page")}}),qe(n,"blocked",()=>{e(),alert("app outdated, please reload the page")}),qe(n,Kt,()=>{e(),console.error(Kt,n.error)})})}function Ec(t,e){re(e,!0);let n=q(null);Pe(()=>{Cc().then(l=>{p(n,l,!0)}).catch(l=>{console.error("Failed to initialize LocalDB:",l)})}),Gl({getDB:()=>a(n)});var s=Z(),o=z(s);{var i=l=>{var c=Z(),u=z(c);Ce(u,()=>e.children??Ae),m(l,c)};W(o,l=>{a(n)&&l(i)})}m(t,s),ae()}const Mo={};function kc(t){Ve(Mo,t)}function mt(){const t=je(Mo);if(!t)throw new Error("No StackPagesContext found");return t}function Pc(t,e){re(e,!0);const{createBroadcastChannel:n,tabId:r}=rr(),s=n(),{getAppLocation:o,getAppHistoryStack:i,navigate:l,goBack:c,replace:u}=Lt(),d=F(o),f=F(()=>a(d).searchParams),v="stackPages",_=()=>a(f).get(v)?.split(",")||[];let h=q(Fe([]));const y=()=>{const P=_();a(h).join(",")!==P.join(",")&&p(h,P,!0)};De(()=>{a(f),lt(()=>{y()})});const g=P=>{if(!a(h).find(E=>{const[O]=E.split("?");return O===P})){const E=new URLSearchParams(a(d).search),O=a(d).pathname;E.set(v,[...a(h),P].join(",")),l(`${O}${E.size>0?`?${E.toString()}`:""}`)}},C=P=>a(h).find(E=>{const[O]=E.split("?");return O===P})!==void 0,x=()=>{const P=i(),E=P.findIndex(O=>O.searchParams.has(v));if(P.length<=1||E===-1){const O=new URLSearchParams(a(d).search);O.delete(v),u(`${a(d).pathname}${O.size>0?`?${O.toString()}`:""}`)}else if(E===0){c(P.length-E+1);const O=new URLSearchParams(a(d).search);O.delete(v),u(`${a(d).pathname}${O.size>0?`?${O.toString()}`:""}`)}else c(P.length-E)},S=(P,E)=>{if(E?.full)return`/${P}`;const O=a(h).slice();O.includes(P)||O.push(P);const $=new URLSearchParams(a(d).search);return $.set(v,O.join(",")),`${a(d).pathname}?${$}`},T=(P,E)=>O=>{if(O.preventDefault(),E?.full){l(P);return}g(P)};Pe(()=>{const P=E=>{const O=JSON.parse(E.data),$=O;if(O.tabId&&O.tabId===r){if($.type==="navigateBack"&&a(h).length>0){const oe=new URLSearchParams(a(d).search);a(h).length>1?oe.set(v,a(h).slice(0,-1).join(",")):oe.delete(v),u(`${a(d).pathname}${oe.size>0?`?${oe.toString()}`:""}`)}return}};return s.addEventListener(P),()=>{s.removeEventListener(P)}}),kc({getStackPages:()=>a(h),pushStackPages:g,hasStackPage:C,clearStackPages:x,getPageUrl:S,createHandlePage:T,getStackPagesFormUrl:_});var N=Z(),A=z(N);Ce(A,()=>e.children??Ae),m(t,N),ae()}function xc(t,e){re(e,!0);const{createBroadcastChannel:n}=rr(),r=n(),s=g=>g.startsWith("/")?g:`/${g}`,o=g=>{const[C,x]=g.split("?");return{href:s(g),pathname:s(C),search:x?`?${x}`:"",searchParams:new URLSearchParams(x)}};let i=q(Fe([{href:`${s(window.location.pathname)}${window.location.search}`,pathname:s(window.location.pathname),search:window.location.search,searchParams:new URLSearchParams(window.location.search)}]));const l=g=>{a(i).push(o(g)),window.history.replaceState(null,"",g)},c=g=>{a(i)[a(i).length-1]=o(g),window.history.replaceState(null,"",g)};Rl({getAppLocation:()=>a(i)[a(i).length-1],getAppHistoryStack:()=>a(i),navigate:l,replace:c,addSearchParam:(g,C)=>{const x=a(i)[a(i).length-1],S=x.searchParams;S.set(g,C),c(`${x.pathname}${S.size>0?`?${S.toString()}`:""}`)},deleteSearchParam:g=>{const C=a(i)[a(i).length-1],x=C.searchParams;x.delete(g),c(`${C.pathname}${x.size>0?`?${x.toString()}`:""}`)},back:g=>{const{to:C}=g||{};if(a(i).length>1){if(C){const S=a(i).findIndex(T=>T.href===C);if(S!==-1){p(i,a(i).slice(0,S+1),!0);const T=a(i)[a(i).length-1];window.history.replaceState(null,"",T.href)}else c(C);return}a(i).pop();const x=a(i)[a(i).length-1];window.history.replaceState(null,"",x.href)}else C?c(C):r.postMessage({type:"navigateBack"})},goBack:g=>{if(a(i).length>=g){p(i,a(i).slice(0,-g),!0);const C=a(i)[a(i).length-1];window.history.replaceState(null,"",C.href)}},clearHistoryStack:()=>{p(i,a(i).slice(-1),!0)}});var h=Z(),y=z(h);Ce(y,()=>e.children??Ae),m(t,h),ae()}const Lo={};function Tc(t){Ve(Lo,t)}function Io(){const t=je(Lo);if(!t)throw new Error("No KeyboardVisibleContext found");return t}function Ac(t,e){re(e,!0);let n=Fe({value:!1});const r=()=>n.value;Pe(()=>{const i=()=>{setTimeout(()=>{document.activeElement instanceof HTMLInputElement&&document.activeElement.type==="text"||document.activeElement instanceof HTMLTextAreaElement?n.value=!0:n.value=!1},0)};return i(),document.addEventListener("focusin",i),document.addEventListener("focusout",i),()=>{document.removeEventListener("focusin",i),document.removeEventListener("focusout",i)}}),Tc({getIsKeyboardVisible:r});var s=Z(),o=z(s);Ce(o,()=>e.children??Ae),m(t,s),ae()}function Dc(t,e){re(e,!0);const n=crypto.randomUUID(),r=(i,l)=>{i.postMessage(JSON.stringify({...l,tabId:n}))};Jl({tabId:n,createBroadcastChannel:()=>{const i=new BroadcastChannel("app");return{postMessage:l=>r(i,l),addEventListener:l=>{i.addEventListener("message",l)},removeEventListener:l=>{i.removeEventListener("message",l)}}}});var s=Z(),o=z(s);Ce(o,()=>e.children??Ae),m(t,s),ae()}function Nc(t,e){Ec(t,{children:(n,r)=>{Dc(n,{children:(s,o)=>{dc(s,{children:(i,l)=>{vc(i,{children:(c,u)=>{gc(c,{children:(d,f)=>{_c(d,{children:(v,_)=>{wc(v,{children:(h,y)=>{bc(h,{children:(g,C)=>{Ac(g,{children:(x,S)=>{xc(x,{children:(T,N)=>{Pc(T,{children:(A,P)=>{var E=Z(),O=z(E);Ce(O,()=>e.children??Ae),m(A,E)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})}function Mc(t,e){Nc(t,{children:(n,r)=>{Hl(n,{children:(s,o)=>{zl(s,{children:(i,l)=>{jl(i,{children:(c,u)=>{Wl(c,{children:(d,f)=>{Yl(d,{children:(v,_)=>{nc(v,{children:(h,y)=>{ac(h,{children:(g,C)=>{lc(g,{children:(x,S)=>{var T=Z(),N=z(T);Ce(N,()=>e.children??Ae),m(x,T)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})}})}let Jt=q(""),fn=q(null),ir=q(null),lr=q(null);function Wt(t,e){p(Jt,""),setTimeout(()=>{p(Jt,t,!0),e?.onFinish&&p(ir,e.onFinish,!0),e?.onCancel&&p(lr,e.onCancel,!0)},16)}const Lc=(t,e,n,r,s)=>{t.preventDefault(),a(e)&&(p(n,null),a(e)(),p(e,null)),p(r,""),a(s)?.style.removeProperty("opacity")};var Ic=K('<button type="button" class="undoButton svelte-1vxmgq5">undo</button>'),Oc=K('<div class="notification svelte-1vxmgq5"><span> </span> <!></div>'),Bc=K("<div><!></div>");function Rc(t,e){re(e,!0),De(()=>{a(Jt);const o=a(lr)?2e3:800;a(Jt)&&(a(fn)?.getBoundingClientRect(),a(fn)?.style.setProperty("opacity","1"));const i=setTimeout(()=>{a(fn)?.style.removeProperty("opacity")},o),l=setTimeout(()=>{p(Jt,""),a(ir)&&a(ir)(),p(ir,null),p(lr,null),a(fn)?.style.removeProperty("opacity")},o+400);return()=>{clearTimeout(i),clearTimeout(l)}});var n=Bc(),r=k(n);{var s=o=>{var i=Oc(),l=k(i),c=k(l),u=j(l,2);{var d=f=>{var v=Ic();v.__click=[Lc,lr,ir,Jt,fn],m(f,v)};W(u,f=>{a(lr)&&f(d)})}it(i,f=>p(fn,f),()=>a(fn)),de(()=>Vt(c,a(Jt))),m(o,i)};W(r,o=>{a(Jt)&&o(s)})}m(t,n),ae()}tt(["click"]);var zc=K('<span class="vh svelte-s92gzo"><!></span>');function Ze(t,e){var n=zc(),r=k(n);Ce(r,()=>e.children),m(t,n)}var Fc=_l('<svg class="svelte-18et5h9"><use></use></svg>');function me(t,e){let n=fe(e,"name",8,"");var r=Fc(),s=k(r);de(()=>Oe(s,"href",`#icon-${n()??""}`)),m(t,r)}const Hc=(t,e,n,r,s)=>{if(a(e))return;const o=n().type;o==="closed"?r():o==="opened"&&s()};var Uc=K('<button class="buttonMenu svelte-bpktnw"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>');function Oo(t,e){re(e,!0);const{sidebarOpen:n,getSidebarState:r,sidebarClose:s}=Qr(),{getStackPagesFormUrl:o}=mt(),{checkExistedDialog:i}=dn();let l=F(()=>o().length>0||i());var c=Uc();c.__click=[Hc,l,r,n,s];var u=k(c);ge(u,()=>({"--size":"32px"})),me(u.lastChild,{name:"sidebarMenu"});var d=j(u,2);Ze(d,{children:(f,v)=>{var _=Re("Menu");m(f,_)}}),m(t,c),ae()}tt(["click"]);var jc=(t,e)=>e.onChange?.(t.target?.value||""),Vc=(t,e,n)=>{e(""),n.onChange?.("")},Wc=K('<button class="clearButton svelte-15lr19w"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),qc=K('<div class="block svelte-15lr19w"><input class="svelte-15lr19w"/> <!></div>');function ba(t,e){re(e,!0);let n=fe(e,"value",15,""),r=fe(e,"ref",15,null);var s=qc(),o=k(s);o.__input=[jc,e],it(o,c=>r(c),()=>r());var i=j(o,2);{var l=c=>{var u=Wc();u.__click=[Vc,n,e];var d=k(u);ge(d,()=>({"--size":"20px"})),me(d.lastChild,{name:"close"});var f=j(d,2);Ze(f,{children:(v,_)=>{var h=Re("Clear");m(v,h)}}),m(c,u)};W(i,c=>{n()&&c(l)})}de(()=>Oe(o,"placeholder",e.placeholder)),Ma("focus",o,function(...c){e.onFocus?.apply(this,c)}),Ml(o,n),m(t,s),ae()}tt(["input","click"]);function za(t,e){re(e,!0),Pe(()=>{const n=r=>{r.target&&e.dialog?.open&&e.dialogInner&&e.dialogInner!==r.target&&!e.dialogInner.contains(r.target)&&e.onClose()};return document.addEventListener("mousedown",n,{capture:!0}),()=>{document.removeEventListener("mousedown",n,{capture:!0})}}),ae()}var Kc=K('<dialog><div class="dialogInner svelte-1x410nl"><!></div></dialog> <!>',1);function $r(t,e){re(e,!0);let n=q(null),r=q(null),s=q(!1),{showDialog:o,hideDialog:i}=dn();const l=h=>{h?.preventDefault();const y=setTimeout(()=>{e.onClosed()},150);a(n)?.addEventListener("transitionend",()=>{clearTimeout(y),e.onClosed()},{once:!0}),p(s,!1)};De(()=>{e.startClose&&l()}),Pe(()=>(a(n)?.showModal(),a(n)?.getClientRects(),p(s,!0),a(n)?.addEventListener("cancel",l),a(n)?.addEventListener("close",l),()=>{a(n)?.removeEventListener("cancel",l),a(n)?.removeEventListener("close",l)})),Pe(()=>(o(),()=>{i()}));var c=Kc(),u=z(c),d=k(u),f=k(d);Ce(f,()=>e.children),it(d,h=>p(r,h),()=>a(r)),it(u,h=>p(n,h),()=>a(n));var v=j(u,2);{var _=h=>{za(h,{get dialog(){return a(n)},get dialogInner(){return a(r)},onClose:l})};W(v,h=>{a(n)&&a(r)&&h(_)})}de(()=>_e(u,1,pe(["dialog",{shown:a(s)}]),"svelte-1x410nl")),m(t,c),ae()}var Yc=K("<div><!></div>");function Fa(t,e){re(e,!0);let n=fe(e,"transformOrigin",3,"top right"),r=q(!1),s=q(null);const o=()=>{const d=setTimeout(()=>{e.onClosed()},150);a(s)?.addEventListener("transitionend",()=>{clearTimeout(d),e.onClosed()},{once:!0}),p(r,!1)},i=d=>{d.target!==a(s)&&!a(s)?.contains(d.target)&&o()},l=d=>{d.target!==a(s)&&!a(s)?.contains(d.target)&&o()};Pe(()=>{a(s)?.getClientRects(),p(r,!0);const d=setTimeout(()=>{document.addEventListener("focusin",i),document.addEventListener("click",l)},0);return()=>{clearTimeout(d),document.removeEventListener("focusin",i),document.removeEventListener("click",l)}}),De(()=>{e.startClose&&o()});var c=Yc(),u=k(c);Ce(u,()=>e.children),it(c,d=>p(s,d),()=>a(s)),de(()=>{En(c,`transform-origin: ${e.positionTop?"top right":n()};`),_e(c,1,pe(["menu",{top:e.positionTop,shown:a(r)}]),"svelte-ujw4xi")}),m(t,c),ae()}const Gc=(t,e)=>{a(e)||p(e,!0)};var Xc=(t,e)=>e("newest"),Zc=(t,e)=>e("oldest"),Jc=(t,e)=>e("AtoZ"),Qc=(t,e)=>e("ZtoA"),$c=K("<div><button>Newest</button> <button>Oldest</button> <button>A to Z</button> <button>Z to A</button></div>"),eu=K('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),tu=K('<div class="orderMenu svelte-14zj87s"><button><!> <!></button> <!></div>');function nu(t,e){re(e,!0);const n=(x,S=Ae)=>{var T=$c(),N=k(T);N.__click=[Xc,d];var A=j(N,2);A.__click=[Zc,d];var P=j(A,2);P.__click=[Jc,d];var E=j(P,2);E.__click=[Qc,d],de(()=>{_e(T,1,pe(["menu",{menuDialog:S()}]),"svelte-14zj87s"),_e(N,1,pe(["menuButton",{menuButtonDialog:S(),current:a(u)==="newest"}]),"svelte-14zj87s"),_e(A,1,pe(["menuButton",{menuButtonDialog:S(),current:a(u)==="oldest"}]),"svelte-14zj87s"),_e(P,1,pe(["menuButton",{menuButtonDialog:S(),current:a(u)==="AtoZ"}]),"svelte-14zj87s"),_e(E,1,pe(["menuButton",{menuButtonDialog:S(),current:a(u)==="ZtoA"}]),"svelte-14zj87s")}),m(x,T)};let r=q(!1),s=q(!1);const{checkMobileSize:o}=un(),{getFeedOrder:i,setFeedOrder:l}=go();let c=F(o),u=F(i);const d=x=>{p(s,!0),l(x)},f=()=>{p(r,!1),p(s,!1)};Pe(()=>{const x=S=>{S.key==="Escape"&&p(s,!0)};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)});var v=tu(),_=k(v);_.__click=[Gc,r],_e(_,1,pe(["button","buttonMenu"]),"svelte-14zj87s");var h=k(_);me(h,{name:"filter"});var y=j(h,2);Ze(y,{children:(x,S)=>{var T=Re("show feed order menu");m(x,T)}});var g=j(_,2);{var C=x=>{var S=Z(),T=z(S);{var N=P=>{$r(P,{get startClose(){return a(s)},onClosed:f,children:(E,O)=>{n(E,()=>!0)},$$slots:{default:!0}})},A=P=>{var E=eu(),O=z(E);ge(O,()=>({"--right":"20px","--top":"60px"})),Fa(O.lastChild,{get startClose(){return a(s)},onClosed:f,children:($,oe)=>{n($,()=>!1)},$$slots:{default:!0}}),m(P,E)};W(T,P=>{a(c)?P(N):P(A,!1)})}m(x,S)};W(g,x=>{a(r)&&x(C)})}m(t,v),ae()}tt(["click"]);var X=(t=>(t.NewNote="newNote",t.EditNote="editNote",t.Settings="settings",t.ImportData="importData",t.ExportData="exportData",t.ClearStore="clearStore",t.Account="account",t.Sync="sync",t.AccountSetup="accountSetup",t.Auth="auth",t.Signin="signin",t.Signup="signup",t.AccessKeys="accessKeys",t.ConfirmAccessKey="confirmAccessKey",t.Subscription="subscription",t.Exit="exit",t.NotFound="notFound",t.About="about",t.Bin="bin",t.Install="install",t.InstallSuccess="installSuccess",t.Wellcome="wellcome",t))(X||{}),ru=K("<a><!></a>"),au=K("<button><!></button>");function rn(t,e){let n=fe(e,"type",3,"standard"),r=fe(e,"typeButton",3,"button"),s=fe(e,"element",3,"button"),o=fe(e,"href",3,""),i=fe(e,"fullWidth",3,!1),l=fe(e,"withoutMinWidth",3,!1);var c=Z(),u=z(c);{var d=v=>{var _=ru();_.__click=function(...y){e.onClick?.apply(this,y)};var h=k(_);Ce(h,()=>e.children??Ae),de(()=>{Oe(_,"target",e.target),Oe(_,"rel",e.rel),Oe(_,"href",o()),_e(_,1,pe(["button","a",{dangerous:n()==="dangerous",secondary:n()==="secondary",fullWidth:i(),withoutMinWidth:l()}]),"svelte-aqjevc")}),m(v,_)},f=v=>{var _=au();_.__click=function(...y){e.onClick?.apply(this,y)};var h=k(_);Ce(h,()=>e.children??Ae),de(()=>{Oe(_,"type",r()),_e(_,1,pe(["button",{dangerous:n()==="dangerous",secondary:n()==="secondary",fullWidth:i(),withoutMinWidth:l()}]),"svelte-aqjevc")}),m(v,_)};W(u,v=>{s()==="a"?v(d):v(f,!1)})}m(t,c)}tt(["click"]);var su=K('<div class="block svelte-1dzbsx4"><span class="title svelte-1dzbsx4"> </span> <div class="controls svelte-1dzbsx4"><!> <!></div></div>');function Ha(t,e){re(e,!0);let n=fe(e,"buttonCancelTitle",3,"Cancel"),r=fe(e,"buttonConfirmTitle",3,"Confirm"),s=q(!1),o=q(!1);const i=()=>{p(s,!0)},l=()=>{p(s,!0),p(o,!0)};$r(t,{get startClose(){return a(s)},onClosed:()=>{a(o)?e.onConfirm():e.onCancel()},children:(u,d)=>{var f=su(),v=k(f),_=k(v),h=j(v,2),y=k(h);rn(y,{onClick:i,fullWidth:!0,withoutMinWidth:!0,type:"secondary",children:(C,x)=>{var S=Re();de(()=>Vt(S,n())),m(C,S)},$$slots:{default:!0}});var g=j(y,2);rn(g,{onClick:l,fullWidth:!0,withoutMinWidth:!0,type:"dangerous",children:(C,x)=>{var S=Re();de(()=>Vt(S,r())),m(C,S)},$$slots:{default:!0}}),de(()=>Vt(_,e.title)),m(u,f)},$$slots:{default:!0}}),ae()}const vr=t=>{const e=n=>{const r=n.target,s=r?.tagName;if(s==="INPUT"||s==="TEXTAREA"||r?.isContentEditable)return;const o=n.key.toLowerCase(),i=n.metaKey,l=n.ctrlKey,c=n.shiftKey;if(o===t.key&&!!t.meta==!!i&&!!t.ctrl==!!l&&!!t.shift==!!c){n.preventDefault(),t.action();return}};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}};var ou=K('<div class="block svelte-lfflvc"><a class="buttonAdd svelte-lfflvc"><span class="mobile svelte-lfflvc"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></span> <span class="desktop svelte-lfflvc"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Add note</span></span></a></div>');function iu(t,e){re(e,!1);const{createHandlePage:n,getPageUrl:r,pushStackPages:s,getStackPages:o}=mt(),{checkExistedDialog:i}=dn(),l=()=>{o.length===0&&!i()&&s(X.NewNote)};Pe(()=>vr({key:"n",action:l})),Jr();var c=ou(),u=k(c),d=F(()=>n(X.NewNote));u.__click=function(...g){a(d)?.apply(this,g)};var f=k(u),v=k(f);ge(v,()=>({"--size":"32px","--color":"#b0b0b0"})),me(v.lastChild,{name:"add"});var _=j(v,2);Ze(_,{children:(g,C)=>{var x=Re("Add note");m(g,x)}});var h=j(f,2),y=k(h);ge(y,()=>({"--size":"16px","--color":"#b0b0b0"})),me(y.lastChild,{name:"plus"}),de(g=>Oe(u,"href",g),[()=>r(X.NewNote)]),m(t,c),ae()}tt(["click"]);const lu=(t,e)=>{p(e,!0)};var cu=(t,e)=>{e("/",{full:!0})(t)},uu=K('<a class="link svelte-13t3afu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Notes</span></a>'),du=(t,e)=>{e(X.Bin,{full:!0})(t)},fu=K('<a class="link svelte-13t3afu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Bin</span></a>'),vu=K('<button class="emptyBinButton svelte-13t3afu" type="button">Empty bin</button>'),hu=K('<div class="header svelte-13t3afu"><div class="top svelte-13t3afu"><div class="menu svelte-13t3afu"><a class="link svelte-13t3afu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Settings</span></a> <a class="link svelte-13t3afu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Sync</span></a> <!></div> <div class="mobile svelte-13t3afu"><!></div> <!></div> <div class="bottom svelte-13t3afu"><div><div class="sidebarSearchWrapper"><!></div></div> <div class="right svelte-13t3afu"><div class="filter svelte-13t3afu"><div class="feedSearchWrapper svelte-13t3afu"><!></div> <!></div></div></div></div> <!>',1);function gu(t,e){re(e,!0);const n=co(),r=vo(),{getScrollContainer:s}=Ba();let o=F(s);const{emptyBin:i,checkNotesInBin:l}=Tn(),{getAppLocation:c,navigate:u}=Lt(),{createHandlePage:d,getPageUrl:f,getStackPages:v}=mt(),{checkExistedDialog:_}=dn();let h=q(null);const y=F(l),g=F(()=>c().pathname);let C=q(!1);const x=()=>{a(o)&&a(o).scrollTo({top:0,behavior:"smooth"})},S=()=>{v.length===0&&!_()&&a(h)?.focus()};Pe(()=>vr({key:"k",meta:!0,action:S})),Pe(()=>vr({key:"k",ctrl:!0,action:S}));var T=hu(),N=z(T),A=k(N),P=k(A),E=k(P),O=F(()=>d(X.Settings));E.__click=function(...b){a(O)?.apply(this,b)};var $=k(E);ge($,()=>({"--rotate":"30deg","--size":"20px"})),me($.lastChild,{name:"settings"});var oe=j(E,2),U=F(()=>d(X.Sync));oe.__click=function(...b){a(U)?.apply(this,b)};var ee=k(oe);ge(ee,()=>({"--size":"20px"})),me(ee.lastChild,{name:"sync"});var te=j(oe,2);{var J=b=>{var B=uu();B.__click=[cu,d];var G=k(B);ge(G,()=>({"--size":"18px"})),me(G.lastChild,{name:"note"}),de(le=>Oe(B,"href",le),[()=>f("/",{full:!0})]),m(b,B)},ve=b=>{var B=Z(),G=z(B);{var le=we=>{var ce=fu();ce.__click=[du,d];var Le=k(ce);ge(Le,()=>({"--size":"20px"})),me(Le.lastChild,{name:"bin"}),de(Ye=>Oe(ce,"href",Ye),[()=>f(X.Bin,{full:!0})]),m(we,ce)};W(G,we=>{a(y)&&we(le)},!0)}m(b,B)};W(te,b=>{a(g)===`/${X.Bin}`?b(J):b(ve,!1)})}var Q=j(P,2),R=k(Q);Oo(R,{});var V=j(Q,2);{var Y=b=>{var B=Z(),G=z(B);{var le=we=>{var ce=vu();ce.__click=[lu,C],m(we,ce)};W(G,we=>{a(y)&&we(le)})}m(b,B)},I=b=>{iu(b,{})};W(V,b=>{a(g)===`/${X.Bin}`?b(Y):b(I,!1)})}var H=j(A,2),ie=k(H);_e(ie,1,pe(["left"]),"svelte-13t3afu");var ne=k(ie),se=k(ne);ba(se,{placeholder:"Search tag",get value(){return r.value},set value(b){r.value=b}});var he=j(ie,2),xe=k(he),be=k(xe),Ee=k(be);ba(Ee,{onFocus:x,placeholder:"Search",get ref(){return a(h)},set ref(b){p(h,b,!0)},get value(){return n.value},set value(b){n.value=b}});var L=j(be,2);nu(L,{});var D=j(N,2);{var w=b=>{Ha(b,{title:"Are you sure you want to empty the bin?",buttonConfirmTitle:"Empty",onConfirm:()=>{i(),p(C,!1),u("/")},onCancel:()=>{p(C,!1)}})};W(D,b=>{a(C)&&b(w)})}de((b,B)=>{Oe(E,"href",b),Oe(oe,"href",B)},[()=>f(X.Settings),()=>f(X.Sync)]),m(t,T),ae()}tt(["click"]);function pu(t,e){re(e,!0);const{getIsKeyboardVisible:n}=Io();let r=fe(e,"dialog",7);const s=F(n),o=cn();let i=null;const l=()=>{e.dialogState==="swiping"&&e.onClose()};De(()=>(e.dialogState==="swiping"&&(i=setTimeout(l,3e3)),()=>{i&&(clearTimeout(i),i=null)}));let c=null,u=null;const d=3,f=50,v=5,_=.6,h=.3,y=.35,g=.95;let C=0,x=0,S=0,T=!1,N=!1,A=0,P=0,E=0;const O=()=>{C=0,x=0,T=!1,N=!1,A=0,P=0,E=0,S=0,c=null,u!==null&&(cancelAnimationFrame(u),u=null),i&&(clearTimeout(i),i=null)},$=V=>{if(!r()){console.warn("Touch start: No dialog element");return}if(e.dialogState!=="opened"){console.warn(`Touch start: Invalid sidebar state: ${e.dialogState}`);return}C=V.touches[0].clientX,x=V.touches[0].clientY,S=performance.now(),T=!0,N=!1},oe=V=>e.dialogState==="opened"&&V>0||e.dialogState==="swiping"&&V>0,U=()=>{if(r()){r().style.setProperty("--transition-timing","0s"),e.onSwipe();try{const V=window.getComputedStyle(r()),Y=V.transform||V.webkitTransform||"";if(P=r().offsetWidth,(e.dialogState==="swiping"||e.dialogState==="opened")&&(A=0),Y&&Y!=="none")try{A=new DOMMatrix(Y).m41}catch{console.warn("Could not parse transform matrix, using default position")}N=!0}catch(V){console.error("Error during swipe initialization:",V),O()}}},ee=()=>{if(!r())return;const Y=Math.abs(A+E*P/100)/P;r().style.setProperty("--backdrop-bg",`rgba(0, 0, 0, ${.1*(1-Y)})`)},te=()=>{if(u=null,!c||!T||!r()||a(s)){O();return}const V=[...c.touches].reduce((be,Ee)=>be+Ee.clientX,0)/c.touches.length,Y=[...c.touches].reduce((be,Ee)=>be+Ee.clientY,0)/c.touches.length,I=V-C,H=Y-x,ie=Math.abs(I)>Math.abs(H),ne=Math.abs(I)>d;if(!N)if(ie&&ne&&oe(I))try{U()}catch(be){console.error("Error initializing swipe:",be),O();return}else return;let se=A+I*g;se=Math.max(0,Math.min(P,se)),!(se<0)&&(r().style.setProperty("--transition-timing","0s"),r().style.transform=`translate3d(${se}px, 0, 0)`,o.swipingRatio=Math.abs(1-se/P),E=(se-A)/P*100,e.dialogState==="swiping"&&(i&&clearTimeout(i),i=setTimeout(l,3e3)),ee())},J=V=>{if(!T)return;c=V,u===null&&(u=requestAnimationFrame(te));const Y=V.touches[0].clientX-C,I=V.touches[0].clientY-x,H=Math.abs(Y)>Math.abs(I);N&&H&&V.preventDefault()},ve=V=>{const Y=Math.abs(V);if(Y>=_)return v;if(Y>=h){const I=(Y-h)/(_-h);return f-I*(f-v)}else return f},Q=(V,Y)=>{if(Math.abs(V)>=_)return y*.5;const H=Math.abs(E)/100;return Y?y*Math.max(.5,1-H):y*Math.max(.5,H)},R=V=>{if(u!==null&&(cancelAnimationFrame(u),u=null),!T||!r()){O();return}if(!N){O();return}let Y=0;if(V?.changedTouches?.[0]){const se=V.changedTouches[0].clientX,xe=performance.now()-S;xe>0&&(Y=(se-C)/xe)}const I=ve(Y);let H=null;e.dialogState==="swiping"&&(H=Math.abs(E)>I||Y<-h?"close":"open");const ie=e.dialogState==="swiping"&&H==="close",ne=Q(Y,ie);o.duration=ne-.02,r().style.setProperty("--transition-timing",`${ne}s`),r().offsetWidth,r().style.transform="",H==="open"?e.onOpen():H==="close"&&e.onClose(),r()?.style.removeProperty("--backdrop-bg"),O()};Pe(()=>(r().addEventListener("touchstart",$,{passive:!0}),r().addEventListener("touchmove",J,{passive:!1}),r().addEventListener("touchend",R,{passive:!0}),r().addEventListener("touchcancel",R,{passive:!0}),()=>{r().removeEventListener("touchstart",$),r().removeEventListener("touchmove",J),r().removeEventListener("touchend",R),r().removeEventListener("touchcancel",R),u!==null&&cancelAnimationFrame(u)})),ae()}var _u=(t,e)=>{e.onStartClose()},mu=K('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),wu=K('<dialog><div class="dialogInner svelte-vr2o0t"><div class="header svelte-vr2o0t"><div class="navigation__wrapper svelte-vr2o0t"><!></div></div> <!></div></dialog> <!>',1);function yu(t,e){re(e,!0);let n=350;const{isScrolling:r,enable:s}=Oa();let o=q(null),i=q(null);const l=cn(),c=A=>{A.preventDefault(),e.onStartClose()};Pe(()=>(a(o)?.addEventListener("close",e.onClosed),a(o)?.addEventListener("cancel",c),()=>{a(o)?.removeEventListener("close",e.onClosed),a(o)?.removeEventListener("cancel",c)}));const u=()=>{a(o)?.style.removeProperty("--transition-timing"),a(o)?.style.removeProperty("transform"),a(o)?.style.removeProperty("--backdrop-bg")},d=()=>{s()},f=F(r);De(()=>{if(e.dialogState,!!a(o))switch(e.dialogState){case"opening":{a(o).open||a(o).showModal(),a(o).getBoundingClientRect();const A=setTimeout(()=>{u()},n+1),P=()=>{clearTimeout(A),u()};return a(o)?.addEventListener("transitionend",P,{once:!0}),e.onOpened(),()=>{clearTimeout(A),a(o)?.removeEventListener("transitionend",P)}}case"closing":{const A=setTimeout(()=>{e.dialogState==="closing"&&e.onClosed()},n+1),P=()=>{clearTimeout(A),e.onClosed()};return a(o)?.addEventListener("transitionend",P,{once:!0}),()=>{clearTimeout(A),a(o)?.removeEventListener("transitionend",P)}}case"opened":u()}});var v=wu(),_=z(v),h=k(_),y=k(h),g=k(y),C=k(g);{var x=A=>{var P=mu();_e(P,1,pe(["navigateButton","buttonBack"]),"svelte-vr2o0t"),P.__click=[_u,e];var E=k(P);ge(E,()=>({"--size":"32px"})),me(E.lastChild,{name:"back"});var O=j(E,2);Ze(O,{children:($,oe)=>{var U=Re("back");m($,U)}}),m(A,P)};W(C,A=>{e.blocked||A(x)})}var S=j(y,2);Ce(S,()=>e.children),it(h,A=>p(i,A),()=>a(i)),it(_,A=>p(o,A),()=>a(o));var T=j(_,2);{var N=A=>{pu(A,{get onClose(){return e.onStartClose},get onOpen(){return e.onStartOpen},get onSwipe(){return e.onSwipe},get dialogState(){return e.dialogState},get dialog(){return a(o)}})};W(T,A=>{(!a(f)&&e.dialogState==="opened"||e.dialogState==="swiping")&&!e.blocked&&A(N)})}de(()=>_e(_,1,pe([{open:e.dialogState==="opened",hidden:e.hidden,isAnimationOn:l.working&&(!l.isSwiping||!e.hidden)},{hidden:e.hidden}]),"svelte-vr2o0t")),Ma("scroll",h,d),m(t,v),ae()}tt(["click"]);const cs=(t,e)=>{if(!e)return t;if(e.type==="closed")return{type:"closed"};switch(t.type){case"opened":return e.type==="close"?{type:"closing"}:e.type==="swipe"?{type:"swiping"}:t;case"closed":return e.type==="open"?{type:"opening"}:t;case"swiping":return e.type==="open"?{type:"opening"}:e.type==="close"?{type:"closing"}:t;case"opening":return e.type==="opened"?{type:"opened"}:t;default:return t}};function bu(t,e){re(e,!0);let n=fe(e,"hiddenDialog",3,!1),r=fe(e,"onClose",3,()=>{});const s=cn();let o=q(Fe(cs({type:"closed"})));const i=g=>{p(o,cs(a(o),g),!0)},l=()=>{e.onStartClose&&(e.onStartClose(),i({type:"close"}))},c=()=>{i({type:"open"})},u=()=>{i({type:"opened"}),s.swipingRatio=1,s.duration=.2},d=()=>{r()(),i({type:"closed"}),s.swipingRatio=1,s.duration=.2},f=()=>{i({type:"swipe"})};De(()=>{a(o).type==="swiping"?s.isSwiping=!0:s.isSwiping=!1,a(o).type==="closed"&&e.shownDialog?c():a(o).type==="opened"&&!e.shownDialog&&l()});var v={handleComputeState:i},_=Z(),h=z(_);{var y=g=>{{let C=F(()=>!e.onStartClose);yu(g,{onSwipe:f,onOpened:u,onClosed:d,onStartClose:l,onStartOpen:c,get dialogState(){return a(o).type},get hidden(){return n()},get blocked(){return a(C)},children:(x,S)=>{var T=Z(),N=z(T);Ce(N,()=>e.children),m(x,T)},$$slots:{default:!0}})}};W(h,g=>{a(o).type!=="closed"&&g(y)})}return m(t,_),ae(v)}const Su=({getDialog:t,onOpen:e,onStartClose:n,onClose:r})=>{const s=i=>{i.preventDefault(),n()},o=()=>{r?.()};Pe(()=>{const i=t();return i?.addEventListener("cancel",s),i?.addEventListener("close",o),()=>{i?.removeEventListener("cancel",s),i?.removeEventListener("close",o)}}),Pe(()=>{const i=t();i?.showModal(),i?.getBoundingClientRect(),e()})};var Cu=(t,e)=>{e.onStartBack()},Eu=K('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),ku=(t,e)=>{e.onStartClose()},Pu=K('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),xu=K('<dialog><div class="dialogInner svelte-rt409n"><div class="header svelte-rt409n"><div class="navigation__wrapper svelte-rt409n"><div><!></div> <div><!></div></div></div> <!></div></dialog> <!>',1);function Tu(t,e){re(e,!0);let n=fe(e,"blockedDialog",3,!1),r=fe(e,"hiddenDialog",3,!1),s=fe(e,"isDesktopAnimationOff",3,!1),o=q(null),i=q(null),l=q(!1);Su({getDialog:()=>a(o),onOpen:e.onOpen,onStartClose:e.onStartClose,onClose:e.onClose});const c=cn();De(()=>{e.stateDialog==="closing"&&(c.working?a(o)?.addEventListener("transitionend",()=>{a(o)?.close()},{once:!0}):a(o)?.close())});const{getDialogPageHeight:u}=Ra(),d=F(u);Pe(()=>{setTimeout(()=>{p(l,!0)},50)});var f=xu(),v=z(f),_=k(v),h=k(_),y=k(h),g=k(y),C=k(g);{var x=E=>{var O=Eu();_e(O,1,pe(["navigateButton","buttonBack"]),"svelte-rt409n"),O.__click=[Cu,e];var $=k(O);ge($,()=>({"--size":"28px"})),me($.lastChild,{name:"back"});var oe=j($,2);Ze(oe,{children:(U,ee)=>{var te=Re("back");m(U,te)}}),m(E,O)};W(C,E=>{(!(n()||r())||n())&&e.onStartBack&&E(x)})}var S=j(g,2),T=k(S);{var N=E=>{var O=Pu();_e(O,1,pe(["navigateButton","buttonClose"]),"svelte-rt409n"),O.__click=[ku,e];var $=k(O);ge($,()=>({"--size":"28px"})),me($.lastChild,{name:"close"});var oe=j($,2);Ze(oe,{children:(U,ee)=>{var te=Re("close");m(U,te)}}),m(E,O)};W(T,E=>{n()||r()||E(N)})}var A=j(h,2);Ce(A,()=>e.children),it(_,E=>p(i,E),()=>a(i)),it(v,E=>p(o,E),()=>a(o));var P=j(v,2);za(P,{get dialog(){return a(o)},get dialogInner(){return a(i)},get onClose(){return e.onStartClose}}),de(()=>{En(v,`height: ${a(d)+74}px`),_e(v,1,pe([{open:e.stateDialog==="open",isHeightAnimationOn:a(l),isAnimationOn:c.working,isDesktopAnimationOff:s(),hiddenDialog:r()}]),"svelte-rt409n")}),m(t,f),ae()}tt(["click"]);const Au=({onStartClose:t,onClose:e})=>{let n=q("close");return{get state(){return a(n)},set state(i){p(n,i,!0)},handleStartClose:(i=!1)=>{i||(p(n,"closing"),t?.())},handleOpen:()=>{p(n,"open")},handleClose:()=>{p(n,"close"),e?.()}}};function Du(t,e){re(e,!0);let n=fe(e,"blockedDialog",3,!1),r=fe(e,"hiddenDialog",3,!1),s=fe(e,"onStartClose",3,()=>{}),o=fe(e,"onClose",3,()=>{}),i=Au({onStartClose:s(),onClose:o()});De(()=>{i.state==="close"&&e.shownDialog?i.state="opening":i.state==="open"&&!e.shownDialog&&i.handleStartClose(n())});const l=f=>{f.key==="Escape"&&n()&&(f.preventDefault(),f.stopPropagation())};Pe(()=>(document.addEventListener("keydown",l),()=>{document.removeEventListener("keydown",l)}));var c=Z(),u=z(c);{var d=f=>{Tu(f,{get stateDialog(){return i.state},get blockedDialog(){return n()},get hiddenDialog(){return r()},get onOpen(){return i.handleOpen},get onStartBack(){return e.onStartBack},onStartClose:()=>{i.handleStartClose(n())},get onClose(){return i.handleClose},children:(v,_)=>{var h=Z(),y=z(h);Ce(y,()=>e.children),m(v,h)},$$slots:{default:!0}})};W(u,f=>{i.state!=="close"&&f(d)})}m(t,c),ae()}function Nu(t,e){re(e,!0);let n=fe(e,"blockedDialog",3,!1),r=fe(e,"hiddenDialog",3,!1),s=fe(e,"blockedBack",3,!1),o=fe(e,"onStartClose",3,()=>{}),i=fe(e,"onClose",3,()=>{});const l=F(()=>s()?void 0:e.onStartBack),{showDialog:c,hideDialog:u}=dn();Pe(()=>(c(),()=>{u()}));const{checkMobileSize:d}=un();var f=Z(),v=z(f);{var _=y=>{bu(y,{get shownDialog(){return e.shownDialog},get hiddenDialog(){return r()},get children(){return e.children},get onStartClose(){return a(l)},get onClose(){return i()}})},h=y=>{Du(y,{get shownDialog(){return e.shownDialog},get blockedDialog(){return n()},get hiddenDialog(){return r()},get children(){return e.children},get onStartBack(){return a(l)},get onStartClose(){return o()},get onClose(){return i()}})};W(v,y=>{d()?y(_):y(h,!1)})}m(t,f),ae()}function us(t,e){re(e,!0);const{back:n}=Lt(),{clearStackPages:r}=mt(),{checkMobileSize:s}=un();let o=fe(e,"blocked",3,!1),i=fe(e,"isLastDialog",3,!1),l=fe(e,"onBack",3,()=>{}),c=fe(e,"onClosed",3,()=>{});const{checkBlockedDialog:u,checkClosableDialog:d}=dn(),f=F(()=>o()||u()),v=F(d),_=()=>{(!a(f)||a(f))&&e.shown&&(n(),l()())},h=()=>{((!a(f)||a(f)&&a(v))&&e.shown||!e.shown)&&r()},y=()=>{c()()};{let g=F(()=>a(f)&&e.shown||a(v)===!1),C=F(()=>a(f)||i()&&(a(v)===!1||!s()));Nu(t,{get shownDialog(){return e.shown},get blockedDialog(){return a(g)},get hiddenDialog(){return e.hidden},get blockedBack(){return a(C)},onStartBack:_,onStartClose:h,onClose:y,children:(x,S)=>{var T=Z(),N=z(T);Ce(N,()=>e.children),m(x,T)},$$slots:{default:!0}})}ae()}var Mu=K('<div class="svelte-1x9a4ve"><!></div>');function ze(t,e){re(e,!0);const{setDialogPageHeight:n}=Ra();let r=q(null);Pe(()=>{a(r)&&(a(r).getBoundingClientRect(),a(r).style.opacity="1");const i=new ResizeObserver(l=>{for(let c of l){const u=c.contentRect.height;n(u)}});if(a(r))return i.observe(a(r)),()=>{a(r)&&i.unobserve(a(r)),i.disconnect()}});var s=Mu(),o=k(s);Ce(o,()=>e.children),it(s,i=>p(r,i),()=>a(r)),m(t,s),ae()}var Lu=K('<div class="svelte-stjbkr"><p class="svelte-stjbkr">Page not found</p> <!></div>');function Iu(t,e){re(e,!1);const{navigate:n}=Lt(),r=i=>{i.preventDefault(),n("/")};Jr();var s=Lu(),o=j(k(s),2);rn(o,{element:"a",href:"/",onClick:r,children:(i,l)=>{var c=Re("close");m(i,c)},$$slots:{default:!0}}),m(t,s),ae()}const Ou="modulepreload",Bu=function(t){return"/"+t},ds={},He=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let c=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=i?.nonce||i?.getAttribute("nonce");s=c(n.map(u=>{if(u=Bu(u),u in ds)return;ds[u]=!0;const d=u.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const v=document.createElement("link");if(v.rel=d?"stylesheet":Ou,d||(v.as="script"),v.crossOrigin="",v.href=u,l&&v.setAttribute("nonce",l),document.head.appendChild(v),d)return new Promise((_,h)=>{v.addEventListener("load",_),v.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${u}`)))})}))}function o(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return s.then(i=>{for(const l of i||[])l.status==="rejected"&&o(l.reason);return e().catch(o)})};var Ru=K('<div class="svelte-10xfz1h"><p class="svelte-10xfz1h">Something went wrong. Please reload the page</p> <!></div>');function zu(t){var e=Ru(),n=j(k(e),2);rn(n,{onClick:()=>location.reload(),children:(r,s)=>{var o=Re("Reload");m(r,o)},$$slots:{default:!0}}),m(t,e)}var Fu=K('<div><!> <div class="loader svelte-m0sno1"></div></div>');function Bo(t,e){re(e,!0);let n=q(!1);Pe(()=>{const o=setTimeout(()=>{p(n,!0)},200);return()=>{clearTimeout(o)}});var r=Fu(),s=k(r);Ce(s,()=>e.children??Ae),de(()=>_e(r,1,pe(["block",{shown:a(n)}]),"svelte-m0sno1")),m(t,r),ae()}var Hu=K('<div class="svelte-1mu1b44"><!></div>');function Uu(t,e){re(e,!0);const{getDialogPageHeight:n}=Ra(),r=F(n);var s=Hu(),o=k(s);Bo(o,{}),de(()=>En(s,`min-height: ${a(r)??""}px;`)),m(t,s),ae()}function Ue(t,e){re(e,!0);const n={},r=Object.assign({"./Pages/About.svelte":()=>He(()=>import("./CCmeYC2F.js"),__vite__mapDeps([0,1])),"./Pages/AccessKeys.svelte":()=>He(()=>import("./DE7W40xL.js"),__vite__mapDeps([2,3,4,5])),"./Pages/Account.svelte":()=>He(()=>import("./CPg0-_wK.js"),__vite__mapDeps([6,3,7])),"./Pages/AccountSetup.svelte":()=>He(()=>import("./CnDxSMM5.js"),__vite__mapDeps([8,9])),"./Pages/Auth.svelte":()=>He(()=>import("./DT_fyaaV.js"),__vite__mapDeps([10,11])),"./Pages/ChangeTags.svelte":()=>He(()=>import("./DgJ0Bn22.js"),[]),"./Pages/ClearStore.svelte":()=>He(()=>import("./BgbnazHo.js"),__vite__mapDeps([12,13])),"./Pages/ConfirmAccessKey.svelte":()=>He(()=>import("./BrnZtLyD.js"),__vite__mapDeps([14,4,3,15,16,17,18])),"./Pages/EditNote.svelte":()=>He(()=>import("./Dap-0-2R.js"),__vite__mapDeps([19,20,21,16,17,22,23,24])),"./Pages/Exit.svelte":()=>He(()=>import("./Ch2RoJ6z.js"),__vite__mapDeps([25,26])),"./Pages/ExportData.svelte":()=>He(()=>import("./Cyaukhkt.js"),__vite__mapDeps([27,21,16,17,22,28,29,30])),"./Pages/ImportData.svelte":()=>He(()=>import("./BWfzE8LB.js"),__vite__mapDeps([31,21,16,17,22,32])),"./Pages/Install.svelte":()=>He(()=>import("./--3YFA18.js"),__vite__mapDeps([33,34])),"./Pages/InstallSuccess.svelte":()=>He(()=>import("./6cKro2YY.js"),__vite__mapDeps([35,36])),"./Pages/NewNote.svelte":()=>He(()=>import("./CE4VxMGf.js"),__vite__mapDeps([37,20,21,16,17,22,23])),"./Pages/Settings.svelte":()=>He(()=>import("./CtFEuYn6.js"),__vite__mapDeps([38,28,29,39])),"./Pages/Signin.svelte":()=>He(()=>import("./CIFBDIW2.js"),__vite__mapDeps([40,4,3,15,41])),"./Pages/Signup.svelte":()=>He(()=>import("./Hzmd-Bdd.js"),__vite__mapDeps([42,15,4,3,43])),"./Pages/Subscription.svelte":()=>He(()=>import("./C2USLpzD.js"),__vite__mapDeps([44,45])),"./Pages/Sync.svelte":()=>He(()=>import("./BL2jxZDy.js"),__vite__mapDeps([46,47]))}),s=async l=>{const c=`./Pages/${l[0].toUpperCase()+l.slice(1)}.svelte`;if(!n[l]){if(r[c]){const u=r[c]();return n[l]={promise:u},n[l].module=await u,n[l].module}throw new Error(`Page ${l} not found`)}return n[l].module||await n[l].promise};var o=Z(),i=z(o);Sl(i,()=>s(e.page),l=>{Uu(l,{})},(l,c)=>{const u=F(()=>a(c).default);var d=Z(),f=z(d);kl(f,()=>a(u),(v,_)=>{_(v,{get params(){return e.params},get hidden(){return e.hidden}})}),m(l,d)},l=>{zu(l)}),m(t,o),ae()}var ju=K('<button><!> <svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></button>');function Ro(t,e){re(e,!0);let n=fe(e,"type",3,"button"),r=!1,s=q(null);De(()=>{e.onRef&&e.onRef(a(s))});const o=f=>{(f.key==="Enter"||f.key===" ")&&(r=!0)},i=()=>{e.onClick(r),r&&(r=!1)};let l=F(()=>e.style==="selected"?"45deg":"0deg");var c=ju();c.__keydown=o,c.__click=i;var u=k(c);Ce(u,()=>e.children??Ae);var d=j(u,2);ge(d,()=>({"--size":e.size==="small"?"10px":"12px","--rotate":a(l)})),me(d.lastChild,{name:"plus"}),it(c,f=>p(s,f),()=>a(s)),de(()=>{Oe(c,"type",n()),_e(c,1,pe([{selectedTag:e.style==="selected",small:e.size==="small",empty:e.mode==="empty"}]),"svelte-uu8a24")}),m(t,c),ae()}tt(["keydown","click"]);var Vu=K('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),Wu=K("<!> <span> </span>",1),qu=K("<div></div>");function fs(t,e){re(e,!0);let n=fe(e,"mobile",3,!1),r=fe(e,"mode",3,"notes");const{getGetMapTags:s}=Tn();let o=q(null),i=q(Fe({value:!1}));const l=f=>{p(o,f,!0)};let u=F(()=>{const f=s()();return[...e.tags].sort((v,_)=>{if(v==="inbox")return-1;if(_==="inbox")return 1;if(v==="drafts")return-1;if(_==="drafts")return 1;if(r()==="notes"){if(f.get(v)?.pinned)return-1;if(f.get(_)?.pinned)return 1}return v.localeCompare(_)})});De(()=>{a(i),lt(()=>{a(o)&&a(i).value&&a(o).focus()})});var d=qu();Zr(d,22,()=>a(u),f=>f,(f,v,_)=>{{let h=F(()=>a(_)===0?l:void 0);Ro(f,{get onRef(){return a(h)},onClick:y=>{y?p(i,{value:!0},!0):p(i,{value:!1},!0),e.handleTagClick(v)},children:(y,g)=>{var C=Wu(),x=z(C);{var S=A=>{var P=Vu(),E=z(P);ge(E,()=>({"--size":"18px"})),me(E.lastChild,{name:"pin"}),m(A,P)};W(x,A=>{r()==="notes"&&s()().get(v)?.pinned&&A(S)})}var T=j(x,2),N=k(T);de(()=>Vt(N,v)),m(y,C)},$$slots:{default:!0}})}}),de(()=>_e(d,1,pe(["tags",{mobile:n()}]),"svelte-1c53r32")),m(t,d),ae()}const Ku=t=>{try{new URL(t)}catch{return!1}return!0},Yu=(t,e)=>{a(e)||p(e,!0)},Gu=(t,e,n,r)=>{for(const s of e())n(s,!0);p(r,!0)},Xu=(t,e,n,r)=>{for(const s of e())n(s,!1);p(r,!0)},Zu=(t,e,n,r,s,o)=>{const i=Array.from(e());n(i),r.clearTags(),Wt("Notes moved to bin",{onCancel:()=>{e(new Set(i)),s(i)}}),p(o,!0)},Ju=(t,e,n)=>{p(e,!0),p(n,!0)},Qu=(t,e,n,r,s,o)=>{const i=Array.from(e());n(i),r.clearTags(),Wt("Notes restored",{onCancel:()=>{e(new Set(i)),s(i)}}),p(o,!0)},$u=(t,e,n)=>{e.clearTags(),p(n,!0)},ed=(t,e,n,r)=>{const s=e()(),o=Array.from(n());for(const i of s)i.data&&i.data?.url&&Ku(i.data?.url)&&o.every(l=>i.data?.tags.includes(l))&&setTimeout(()=>{window.open(i.data?.url,"_blank")},200);p(r,!0)};var td=K('<li class="svelte-58z9m1"><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> Pin</button></li>'),nd=K('<li class="svelte-58z9m1"><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> Unpin</button></li>'),rd=K('<li class="svelte-58z9m1"><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> Move to Bin</button></li>'),ad=K('<li class="svelte-58z9m1"><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> Restore</button></li> <li class="svelte-58z9m1"><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> Delete notes</button></li>',1),sd=K('<ul><li class="svelte-58z9m1"><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> Open links</button></li> <!> <!> <!> <!> <li class="svelte-58z9m1"><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> Clear tags</button></li></ul>'),od=K('<span><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></span>'),id=K("<!> <span> </span>",1),ld=K('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),cd=K('<div class="block svelte-58z9m1"><div><!> <div class="tagsMenu__wrapper svelte-58z9m1"><button class="tagsMenu svelte-58z9m1"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button></div></div> <!></div>'),ud=K("<!> <!>",1);function vs(t,e){re(e,!0);const n=(te,J=Ae)=>{var ve=sd(),Q=k(ve),R=k(Q);R.__click=[ed,l,r,g];var V=k(R);ge(V,()=>({"--size":"22px"})),me(V.lastChild,{name:"open"});var Y=j(Q,2);{var I=D=>{var w=td(),b=k(w);b.__click=[Gu,r,c,g];var B=k(b);ge(B,()=>({"--size":"22px"})),me(B.lastChild,{name:"pin"}),de(()=>_e(b,1,pe(["button",{buttonMenuDialog:J()}]),"svelte-58z9m1")),m(D,w)};W(Y,D=>{s()==="notes"&&a(P)&&D(I)})}var H=j(Y,2);{var ie=D=>{var w=nd(),b=k(w);b.__click=[Xu,r,c,g];var B=k(b);ge(B,()=>({"--size":"22px"})),me(B.lastChild,{name:"pin-cancel"}),de(()=>_e(b,1,pe(["button",{buttonMenuDialog:J()}]),"svelte-58z9m1")),m(D,w)};W(H,D=>{s()==="notes"&&a(A)&&D(ie)})}var ne=j(H,2);{var se=D=>{var w=rd(),b=k(w);b.__click=[Zu,r,u,e,d,g];var B=k(b);ge(B,()=>({"--size":"22px"})),me(B.lastChild,{name:"bin"}),de(()=>_e(b,1,pe(["button",{buttonMenuDialog:J()}]),"svelte-58z9m1")),m(D,w)};W(ne,D=>{s()==="notes"&&D(se)})}var he=j(ne,2);{var xe=D=>{var w=ad(),b=z(w),B=k(b);B.__click=[Qu,r,d,e,u,g];var G=k(B);ge(G,()=>({"--size":"22px"})),me(G.lastChild,{name:"bin-cancel"});var le=j(b,2),we=k(le);we.__click=[Ju,g,C];var ce=k(we);ge(ce,()=>({"--size":"22px"})),me(ce.lastChild,{name:"bin"}),de(()=>{_e(B,1,pe(["button",{buttonMenuDialog:J()}]),"svelte-58z9m1"),_e(we,1,pe(["button",{buttonMenuDialog:J()}]),"svelte-58z9m1")}),m(D,w)};W(he,D=>{s()==="bin"&&D(xe)})}var be=j(he,2),Ee=k(be);Ee.__click=[$u,e,g];var L=k(Ee);ge(L,()=>({"--size":"22px"})),me(L.lastChild,{name:"close"}),de(()=>{_e(ve,1,pe(["menu",{menuDialog:J()}]),"svelte-58z9m1"),_e(R,1,pe(["button",{buttonMenuDialog:J()}]),"svelte-58z9m1"),_e(Ee,1,pe(["button",{buttonMenuDialog:J()}]),"svelte-58z9m1")}),m(te,ve)};let r=fe(e,"selectedTags",7),s=fe(e,"mode",3,"notes");const{checkMobileSize:o}=un(),{getGetMapTags:i,getGetNotes:l,pinTag:c,moveNotesToBinByTags:u,restoreNotesFromBinByTags:d,deleteNotesByTags:f}=Tn();let v=F(o),_=q(null),h=q(Fe({value:!1})),y=q(!1),g=q(!1),C=q(!1);const x=te=>{p(_,te,!0)},S=()=>{p(y,!1),p(g,!1)},T=()=>{const te=i()();for(const J of r())if(te.get(J)?.pinned)return!0;return!1},N=()=>{const te=i()();for(const J of r())if(!te.get(J)?.pinned)return!0;return!1};let A=F(T),P=F(N);const E=()=>{f(Array.from(r())),e.clearTags(),p(g,!0)};De(()=>{a(h),lt(()=>{a(_)&&a(h).value&&a(_).focus()})});var O=ud(),$=z(O);{var oe=te=>{Ha(te,{title:"Are you sure you want to delete notes?",buttonConfirmTitle:"Delete",onConfirm:()=>{E(),p(C,!1)},onCancel:()=>{p(C,!1)}})};W($,te=>{a(C)&&te(oe)})}var U=j($,2);{var ee=te=>{var J=cd(),ve=k(J);_e(ve,1,pe(["tags","selectedTags"]),"svelte-58z9m1");var Q=k(ve);Zr(Q,18,r,ne=>ne,(ne,se,he)=>{{let xe=F(()=>a(he)===r().size-1?x:void 0);Ro(ne,{get onRef(){return a(xe)},onClick:be=>{be?p(h,{value:!0},!0):p(h,{value:!1},!0),e.handleSelectedTagClick(se)},style:"selected",children:(be,Ee)=>{var L=id(),D=z(L);{var w=G=>{var le=od(),we=k(le);ge(we,()=>({"--size":"18px"})),me(we.lastChild,{name:"pin"}),m(G,le)};W(D,G=>{s()==="notes"&&i()().get(se)?.pinned&&G(w)})}var b=j(D,2),B=k(b);de(()=>Vt(B,se)),m(be,L)},$$slots:{default:!0}})}});var R=j(Q,2),V=k(R);V.__click=[Yu,y];var Y=k(V);ge(Y,()=>({"--size":"20px"})),me(Y.lastChild,{name:"menu"});var I=j(Y,2);Ze(I,{children:(ne,se)=>{var he=Re("tags menu");m(ne,he)}});var H=j(ve,2);{var ie=ne=>{var se=Z(),he=z(se);{var xe=Ee=>{$r(Ee,{get startClose(){return a(g)},onClosed:S,children:(L,D)=>{n(L,()=>!0)},$$slots:{default:!0}})},be=Ee=>{var L=ld(),D=z(L);ge(D,()=>({"--right":"50px","--top":"calc(100% - 24px)"})),Fa(D.lastChild,{transformOrigin:"top",get startClose(){return a(g)},onClosed:S,children:(w,b)=>{n(w,()=>!1)},$$slots:{default:!0}}),m(Ee,L)};W(he,Ee=>{a(v)?Ee(xe):Ee(be,!1)})}m(ne,se)};W(H,ne=>{a(y)&&ne(ie)})}m(te,J)};W(U,te=>{r().size>0&&te(ee)})}m(t,O),ae()}tt(["click"]);const dd=(t,e,n)=>{if(t.has("inbox"))return[];const r=[],s=Array.from(t.values());for(const o of e)if(o.data&&!(n&&!n(o))){if(t.size===0){for(const i of o?.data?.tags||[])r.includes(i)||r.push(i);for(const i of o?.data?.draft?.tags||[])r.includes(i)||r.push(i);continue}if(o.data&&s.every(i=>o.data?.tags.includes(i)))for(const i of o.data.tags)!t.has(i)&&!r.includes(i)&&r.push(i);if(o&&o.data.draft&&s.every(i=>o.data?.draft?.tags.includes(i)))for(const i of o.data.draft.tags)!t.has(i)&&!r.includes(i)&&r.push(i)}return r};function fd(t,e){re(e,!0);const n=cn(),{getIsKeyboardVisible:r}=Io();let s=fe(e,"dialog",7);const o=F(r),i=3,l=50,c=5,u=.6,d=.3,f=.35,v=.95;let _=0,h=0,y=0,g=!1,C=!1,x=0,S=0,T=0;const N=()=>{_=0,h=0,g=!1,C=!1,x=0,S=0,T=0,y=0,A!==null&&(cancelAnimationFrame(A),A=null),P=null};let A=null,P=null;const E=Q=>{if(!s()){console.warn("Touch start: No dialog element");return}if(e.sidebarState!=="opened"&&e.sidebarState!=="closed"){console.warn(`Touch start: Invalid sidebar state: ${e.sidebarState}`);return}_=Q.touches[0].clientX,h=Q.touches[0].clientY,y=performance.now(),g=!0,C=!1},O=Q=>e.sidebarState==="closed"&&Q>0||e.sidebarState==="closeSwiping"&&Q>0||e.sidebarState==="opened"&&Q<0||e.sidebarState==="openSwiping"&&Q<0,$=()=>{if(s()){if(s().style.setProperty("--transition-timing","0s"),!s().open&&e.sidebarState==="closed")try{s().showModal(),s().offsetWidth}catch(Q){console.error("Error opening dialog:",Q);return}e.onSwipe();try{const Q=window.getComputedStyle(s()),R=Q.transform||Q.webkitTransform||"";if(S=s().offsetWidth,e.sidebarState==="closeSwiping"||e.sidebarState==="closed"?x=-S:(e.sidebarState==="openSwiping"||e.sidebarState==="opened")&&(x=0),R&&R!=="none")try{x=new DOMMatrix(R).m41}catch{console.warn("Could not parse transform matrix, using default position")}C=!0}catch(Q){console.error("Error during swipe initialization:",Q),N()}}},oe=()=>{if(!s())return;const Q=-(S*.3),R=-S;let V=0;const Y=window.getComputedStyle(s()),I=Y.transform||Y.webkitTransform||"";if(I&&I!=="none")try{V=new DOMMatrix(I).m41}catch{V=0}const ne=.25*Math.min(1,Math.max(0,(V-R)/(Q-R)));s().style.setProperty("--backdrop-bg",`rgba(0, 0, 0, ${ne})`)},U=()=>{if(A=null,!P||!g||!s()||a(o))return;const{x:Q,y:R}=P;P=null;const V=Q-_,Y=R-h,I=Math.abs(V)>Math.abs(Y),H=Math.abs(V)>i;if(!C)if(I&&H&&O(V))try{$()}catch(xe){console.error("Error initializing swipe:",xe),N();return}else return;let ie=x+V*v;const ne=-S,se=-(S*.3);let he=Math.max(ne,Math.min(se,ie));s().style.setProperty("--transition-timing","0s"),s().style.transform=`translate3d(${he}px, 0, 0)`,n.swipingRatio=(-1+Math.abs(he/S))/7*10,T=(he-x)/S*100,oe()},ee=Q=>{if(!g)return;const R=Q.touches[0].clientX,V=Q.touches[0].clientY;P={x:R,y:V},A===null&&(A=requestAnimationFrame(U)),C&&Math.abs(R-_)>Math.abs(V-h)&&Q.preventDefault()},te=Q=>{const R=Math.abs(Q);if(R>=u)return c;if(R>=d){const V=(R-d)/(u-d);return l-V*(l-c)}else return l},J=(Q,R)=>{if(Math.abs(Q)>=u)return f*.5;const Y=Math.abs(T)/100;return R?f*Math.max(.5,1-Y):f*Math.max(.5,Y)},ve=Q=>{if(A!==null&&(cancelAnimationFrame(A),A=null),P=null,!g||!s()){N();return}if(!C){N();return}let R=0;if(Q?.changedTouches?.[0]){const ie=Q.changedTouches[0].clientX,se=performance.now()-y;se>0&&(R=(ie-_)/se)}const V=te(R);let Y=null;e.sidebarState==="closeSwiping"?Y=Math.abs(T)>V||R>d?"open":"close":e.sidebarState==="openSwiping"&&(Y=Math.abs(T)>V||R<-d?"close":"open");const I=e.sidebarState==="closeSwiping"&&Y==="open"||e.sidebarState==="openSwiping"&&Y==="close",H=J(R,I);n.duration=H-.02,s().style.setProperty("--transition-timing",`${H}s`),s().offsetWidth,s().style.transform="",Y==="open"?e.onOpen():Y==="close"&&e.onClose(),s()?.style.removeProperty("--backdrop-bg"),N()};Pe(()=>(document.addEventListener("touchstart",E,{passive:!0}),document.addEventListener("touchmove",ee,{passive:!1}),document.addEventListener("touchend",ve,{passive:!0}),document.addEventListener("touchcancel",ve,{passive:!0}),()=>{document.removeEventListener("touchstart",E),document.removeEventListener("touchmove",ee),document.removeEventListener("touchend",ve),document.removeEventListener("touchcancel",ve),A!==null&&cancelAnimationFrame(A)})),ae()}var vd=K('<dialog><div class="dialogInner svelte-1nov8pn"><!></div></dialog> <!> <!>',1);function hd(t,e){re(e,!0);const{getStackPages:n}=mt(),{getSidebarState:r,handleComputeState:s}=Qr();let o=350;const i=cn(),{isScrolling:l}=Oa();let c=q(null),u=q(null),d=F(r);De(()=>{n().length>0&&s({type:"close"})});const f=()=>{e.blocked||s({type:"close"})},v=()=>{e.blocked||s({type:"open"})},_=()=>{s({type:"opened"}),i.swipingRatio=-1,i.duration=.2},h=()=>{s({type:"closed"})},y=()=>{s({type:"swipe"})},g=U=>{U.preventDefault(),f()};Pe(()=>(a(c)?.addEventListener("close",h),a(c)?.addEventListener("cancel",g),()=>{a(c)?.removeEventListener("close",h),a(c)?.removeEventListener("cancel",g)}));const C=()=>{a(c)?.style.removeProperty("--transition-timing"),a(c)?.style.removeProperty("transform"),a(c)?.style.removeProperty("--backdrop-bg")},x=F(l);De(()=>{if(a(d),!!a(c))switch(a(d).type==="openSwiping"||a(d).type==="closeSwiping"?i.isSwiping=!0:i.isSwiping=!1,a(d).type){case"closeSwiping":{const U=setTimeout(()=>{f()},3e3);return()=>{clearTimeout(U)}}case"openSwiping":{const U=setTimeout(()=>{v()},3e3);return()=>{clearTimeout(U)}}case"opening":{a(c).open||a(c).showModal(),a(c).getBoundingClientRect();const U=setTimeout(()=>{C()},o+1),ee=()=>{clearTimeout(U),C()};return a(c)?.addEventListener("transitionend",ee,{once:!0}),_(),()=>{clearTimeout(U),a(c)?.removeEventListener("transitionend",ee)}}case"closing":{i.swipingRatio=0,i.duration=.2;const U=setTimeout(()=>{a(d).type==="closing"&&h()},o+1),ee=()=>{clearTimeout(U),h()};return a(c)?.addEventListener("transitionend",ee,{once:!0}),()=>{clearTimeout(U),a(c)?.removeEventListener("transitionend",ee)}}case"closed":a(c)?.close(),C();break;case"opened":C();break}}),Pe(()=>{a(d).type==="opened"&&s({type:"open"})});var S=vd(),T=z(S),N=k(T),A=k(N);{var P=U=>{var ee=Z(),te=z(ee);Ce(te,()=>e.children),m(U,ee)};W(A,U=>{a(d).type!=="closed"&&U(P)})}it(N,U=>p(u,U),()=>a(u)),it(T,U=>p(c,U),()=>a(c));var E=j(T,2);{var O=U=>{za(U,{get dialog(){return a(c)},get dialogInner(){return a(u)},onClose:f})};W(E,U=>{a(d).type==="opened"&&!e.blocked&&U(O)})}var $=j(E,2);{var oe=U=>{fd(U,{onClose:f,onOpen:v,onSwipe:y,get sidebarState(){return a(d).type},get dialog(){return a(c)}})};W($,U=>{(!a(x)&&a(d).type==="closed"||a(d).type==="opened"||a(d).type==="openSwiping"||a(d).type==="closeSwiping")&&!e.blocked&&U(oe)})}de(()=>_e(T,1,pe([{open:a(d).type==="opened",isAnimationOn:i.working&&(!i.isSwiping||!e.blocked)}]),"svelte-1nov8pn")),m(t,S),ae()}var gd=(t,e,n)=>{e(),n("/",{full:!0})(t)},pd=K('<a class="link svelte-ltt61h"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a>'),_d=(t,e,n)=>{e(),n(X.Bin,{full:!0})(t)},md=K('<a class="link svelte-ltt61h"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a>'),wd=K('<div class="sidebarFixed svelte-ltt61h"><div class="nav svelte-ltt61h"><!> <div class="menu svelte-ltt61h"><a class="link svelte-ltt61h"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a> <a class="link svelte-ltt61h"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a> <!></div></div> <div class="searchWrapper svelte-ltt61h"><!></div> <!></div> <!>',1),yd=K('<div class="sidebar svelte-ltt61h"><div class="sidebarFixed svelte-ltt61h"><!></div> <!></div>');function bd(t,e){re(e,!0);const{checkMobileSize:n}=un(),{sidebarClose:r,getSidebarState:s,sidebarOpen:o}=Qr(),{getAppLocation:i}=Lt(),{getPageUrl:l,createHandlePage:c,getStackPagesFormUrl:u}=mt(),d=vo(),f=F(()=>i().pathname),{getSelectedTags:v,addTag:_,removeTag:h,clearTags:y}=mo();let g=F(v);const{checkNotesInBin:C}=Tn();let x=fe(e,"getNotes",3,()=>[]),S=fe(e,"mode",3,"notes");const T=R=>{_(R)},N=R=>{h(R)};let A=F(()=>a(g).size===0&&!a(g).has("inbox")&&(x()()||[]).some(R=>(S()==="notes"&&R?.data&&!R.data.deletedAt||S()==="bin"&&R?.data&&R.data.deletedAt)&&R?.data?.tags.length===0&&(!R?.data?.draft||R?.data?.draft?.tags.length===0))),P=F(()=>!a(g).has("drafts")&&(x()()||[]).some(R=>(S()==="notes"&&R?.data&&!R.data.deletedAt||S()==="bin"&&R?.data&&R.data.deletedAt)&&R.data?.draft)),E=F(()=>dd(a(g),x()()||[],R=>!(R?.data&&R.data.deletedAt&&S()==="notes"||R?.data&&!R.data.deletedAt&&S()==="bin"))),O=F(()=>[...a(A)?["inbox"]:[],...a(P)&&(!a(g).has("inbox")||a(A))?["drafts"]:[],...a(E)].filter(R=>d.value===""||R.toLowerCase().indexOf(d.value.toLowerCase())!==-1)),$=F(n);const{checkExistedDialog:oe}=dn();let U=F(()=>u().length>0||oe());const ee=()=>{if(a($)){if(a(U))return;s().type==="opened"?r():s().type==="closed"&&o()}};Pe(()=>vr({key:"b",meta:!0,action:ee})),Pe(()=>vr({key:"b",ctrl:!0,action:ee}));var te=Z(),J=z(te);{var ve=R=>{hd(R,{get blocked(){return a(U)},children:(V,Y)=>{var I=wd(),H=z(I),ie=k(H),ne=k(ie);Oo(ne,{});var se=j(ne,2),he=k(se),xe=F(()=>c(X.Settings));he.__click=function(...Te){a(xe)?.apply(this,Te)};var be=k(he);ge(be,()=>({"--size":"24px"})),me(be.lastChild,{name:"settings"});var Ee=j(be,2);Ze(Ee,{children:(Te,Be)=>{var We=Re("Settings");m(Te,We)}});var L=j(he,2),D=F(()=>c(X.Sync));L.__click=function(...Te){a(D)?.apply(this,Te)};var w=k(L);ge(w,()=>({"--size":"24px"})),me(w.lastChild,{name:"sync"});var b=j(w,2);Ze(b,{children:(Te,Be)=>{var We=Re("Sync");m(Te,We)}});var B=j(L,2);{var G=Te=>{var Be=pd();Be.__click=[gd,r,c];var We=k(Be);ge(We,()=>({"--size":"24px"})),me(We.lastChild,{name:"note"});var Et=j(We,2);Ze(Et,{children:(nt,It)=>{var Ot=Re("Notes");m(nt,Ot)}}),de(nt=>Oe(Be,"href",nt),[()=>l("/",{full:!0})]),m(Te,Be)},le=Te=>{var Be=Z(),We=z(Be);{var Et=nt=>{var It=md();It.__click=[_d,r,c];var Ot=k(It);ge(Ot,()=>({"--size":"24px"})),me(Ot.lastChild,{name:"bin"});var Xt=j(Ot,2);Ze(Xt,{children:(Zt,ea)=>{var ta=Re("Bin");m(Zt,ta)}}),de(Zt=>Oe(It,"href",Zt),[()=>l(X.Bin,{full:!0})]),m(nt,It)};W(We,nt=>{C()&&nt(Et)},!0)}m(Te,Be)};W(B,Te=>{a(f)===`/${X.Bin}`?Te(G):Te(le,!1)})}var we=j(ie,2),ce=k(we);ba(ce,{placeholder:"Search tag",get value(){return d.value},set value(Te){d.value=Te}});var Le=j(we,2);vs(Le,{get clearTags(){return y},get mode(){return S()},get selectedTags(){return a(g)},handleSelectedTagClick:N});var Ye=j(H,2);fs(Ye,{get mode(){return S()},get tags(){return a(O)},handleTagClick:T,mobile:!0}),de((Te,Be)=>{Oe(he,"href",Te),Oe(L,"href",Be)},[()=>l(X.Settings),()=>l(X.Sync)]),m(V,I)},$$slots:{default:!0}})},Q=R=>{var V=yd(),Y=k(V),I=k(Y);vs(I,{get clearTags(){return y},get mode(){return S()},get selectedTags(){return a(g)},handleSelectedTagClick:N});var H=j(Y,2);fs(H,{get mode(){return S()},get tags(){return a(O)},handleTagClick:T}),m(R,V)};W(J,R=>{a($)?R(ve):R(Q,!1)})}m(t,te),ae()}tt(["click"]);const Sd=(t,e,n,r)=>{e.noteData.pinnedAt?(n(e.noteId,!1),Wt("Note unpinned",{onCancel:()=>{n(e.noteId,!0)}})):(n(e.noteId,!0),Wt("Note pinned",{onCancel:()=>{n(e.noteId,!1)}})),p(r,!0)},Cd=(t,e,n)=>{navigator.clipboard.writeText(e.noteData.url),Wt("Link copied"),p(n,!0)};var Ed=K('<li class="svelte-8ve3pe"><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>Copy link</button></li>'),kd=(t,e,n)=>{p(e,!0),p(n,!0)},Pd=K('<li class="svelte-8ve3pe"><button><span class="wrapperIcon svelte-8ve3pe"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></span>Delete</button></li>'),xd=(t,e,n)=>{p(e,!0),p(n,!0)},Td=(t,e,n)=>{p(e,!0),p(n,!0)},Ad=K('<li class="svelte-8ve3pe"><button><span class="wrapperIcon svelte-8ve3pe"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></span>Restore</button></li> <li class="svelte-8ve3pe"><button><span class="wrapperIcon svelte-8ve3pe"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></span>Delete from bin</button></li>',1),Dd=K('<ul class="menu svelte-8ve3pe"><!> <li class="svelte-8ve3pe"><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> </button></li> <!></ul>'),Nd=K('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),Md=K("<!> <!>",1);function Ld(t,e){re(e,!0);const n=(E,O=Ae)=>{var $=Dd(),oe=k($);{var U=Y=>{var I=Ed(),H=k(I);H.__click=[Cd,e,u];var ie=k(H);ge(ie,()=>({"--size":"22px"})),me(ie.lastChild,{name:"copy"}),de(()=>_e(H,1,pe(["button",{buttonMenuDialog:O()}]),"svelte-8ve3pe")),m(Y,I)};W(oe,Y=>{O()&&e.noteData.url&&Y(U)})}var ee=j(oe,2),te=k(ee);te.__click=[Sd,e,o,u];var J=k(te);{let Y=F(()=>e.noteData.pinnedAt?"pin-cancel":"pin");ge(J,()=>({"--size":"22px"})),me(J.lastChild,{get name(){return a(Y)}})}var ve=j(J),Q=j(ee,2);{var R=Y=>{var I=Pd(),H=k(I);H.__click=[kd,d,u];var ie=k(H),ne=k(ie);ge(ne,()=>({"--size":"18px"})),me(ne.lastChild,{name:"bin"}),de(()=>_e(H,1,pe(["button",{buttonMenuDialog:O()}]),"svelte-8ve3pe")),m(Y,I)},V=Y=>{var I=Ad(),H=z(I),ie=k(H);ie.__click=[xd,f,u];var ne=k(ie),se=k(ne);ge(se,()=>({"--size":"18px"})),me(se.lastChild,{name:"bin-cancel"});var he=j(H,2),xe=k(he);xe.__click=[Td,v,u];var be=k(xe),Ee=k(be);ge(Ee,()=>({"--size":"18px"})),me(Ee.lastChild,{name:"bin"}),de(()=>{_e(ie,1,pe(["button",{buttonMenuDialog:O()}]),"svelte-8ve3pe"),_e(xe,1,pe(["button",{buttonMenuDialog:O()}]),"svelte-8ve3pe")}),m(Y,I)};W(Q,Y=>{l()==="notes"?Y(R):Y(V,!1)})}de(()=>{_e(te,1,pe(["button",{buttonMenuDialog:O()}]),"svelte-8ve3pe"),Vt(ve,` ${e.noteData.pinnedAt?"Unpin":"Pin"}`)}),m(E,$)},{moveNoteToBin:r,deleteNote:s,pinNote:o,restoreNoteFromBin:i}=Tn();let l=fe(e,"mode",3,"notes"),c=fe(e,"shownMenu",15),u=q(!1),d=q(!1),f=q(!1),v=q(!1);const{checkMobileSize:_}=un();let h=F(_);const y=()=>{s(e.noteId),Wt("Draft deleted")},g=async()=>{r(e.noteId),Wt("Note moved to bin",{onCancel:()=>{i(e.noteId)}})},C=()=>{i(e.noteId),Wt("Note restored from bin",{onCancel:()=>{r(e.noteId)}})},x=()=>{a(d)?(p(d,!1),e.noteData.type==="draft"?y():g()):a(f)&&(p(f,!1),C()),c(!1),p(u,!1)};var S=Md(),T=z(S);{var N=E=>{var O=Z(),$=z(O);{var oe=ee=>{$r(ee,{get startClose(){return a(u)},onClosed:x,children:(te,J)=>{n(te,()=>!0)},$$slots:{default:!0}})},U=ee=>{var te=Nd(),J=z(te);ge(J,()=>({"--bottom":"-100px","--right":"20px"})),Fa(J.lastChild,{get startClose(){return a(u)},get positionTop(){return e.showMenuUp},onClosed:x,children:(ve,Q)=>{n(ve,()=>!1)},$$slots:{default:!0}}),m(ee,te)};W($,ee=>{a(h)?ee(oe):ee(U,!1)})}m(E,O)};W(T,E=>{c()&&E(N)})}var A=j(T,2);{var P=E=>{Ha(E,{title:"Are you sure you want to delete this note?",buttonConfirmTitle:"Delete",onConfirm:()=>{s(e.noteId),p(v,!1)},onCancel:()=>{p(v,!1)}})};W(A,E=>{a(v)&&E(P)})}m(t,S),ae()}tt(["click"]);const Id=(t,e)=>{p(e,!0)},Od=(t,e,n)=>{navigator.clipboard.writeText(e.noteData.url),Wt("Link copied"),p(n,!1)},Bd=(t,e)=>{p(e,!0)},Rd=(t,e)=>{p(e,!1)},zd=(t,e,n,r)=>{t.preventDefault(),e.noteData.type==="draft"?n(`${X.NewNote}`):n(`${X.EditNote}?id=${e.noteId}`),p(r,!1)};var Fd=K('<div class="iconPlaceholder svelte-1jg44o9"></div>'),Hd=K('<img loading="lazy" class="noteIcon" height="16" width="16" alt=""/>'),Ud=K('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),jd=K('<div class="noteIconWrapper svelte-1jg44o9"><!></div>'),Vd=K('<button class="button svelte-1jg44o9"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),Wd=(t,e)=>{p(e,!1)},qd=K('<!> <a target="_blank" rel="noopener noreferrer" class="button openLink svelte-1jg44o9"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a>',1),Kd=K('<li><!> <a class="noteLink svelte-1jg44o9" target="_blank" rel="noopener noreferrer"> </a> <div><!> <button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button></div> <!></li>');function Yd(t,e){re(e,!0);const{pushStackPages:n}=mt(),{getFaviconEnabled:r}=Zl();let s=fe(e,"mode",3,"notes"),o=q(!1),i=q(!1),l=q(!1),c=F(r);const{checkMobileSize:u}=un(),d=E=>{try{return`https://icons.duckduckgo.com/ip3/${new URL(E).host}.ico`}catch{return""}},f=e.noteData.url||e.noteData.draft?.url||"";var v=Kd();v.__focusin=[Bd,i],v.__focusout=[Rd,i];var _=k(v);{var h=E=>{var O=jd(),$=k(O);{var oe=ee=>{var te=Z(),J=z(te);{var ve=R=>{var V=Fd();m(R,V)},Q=R=>{var V=Hd();de(Y=>Oe(V,"src",Y),[()=>d(f)]),Ma("error",V,()=>{p(l,!0)}),m(R,V)};W(J,R=>{a(l)?R(ve):R(Q,!1)})}m(ee,te)},U=ee=>{var te=Ud(),J=z(te);ge(J,()=>({"--size":"16px"})),me(J.lastChild,{name:"note"}),m(ee,te)};W($,ee=>{f?ee(oe):ee(U,!1)})}m(E,O)};W(_,E=>{a(c)&&E(h)})}var y=j(_,2);y.__click=[zd,e,n,i];var g=k(y),C=j(y,2),x=k(C);{var S=E=>{var O=qd(),$=z(O);{var oe=J=>{var ve=Vd();ve.__click=[Od,e,i];var Q=k(ve);ge(Q,()=>({"--size":"20px"})),me(Q.lastChild,{name:"copy"});var R=j(Q,2);Ze(R,{children:(V,Y)=>{var I=Re("copy link");m(V,I)}}),de(()=>Oe(ve,"tabindex",e.focusHidden?-1:0)),m(J,ve)};W($,J=>{u()||J(oe)})}var U=j($,2);U.__click=[Wd,i];var ee=k(U);ge(ee,()=>({"--size":"18px"})),me(ee.lastChild,{name:"open"});var te=j(ee,2);Ze(te,{children:(J,ve)=>{var Q=Re();de(()=>Vt(Q,e.noteData.draft?.name||e.noteData.name||"unknown")),m(J,Q)}}),de(()=>{Oe(U,"href",f),Oe(U,"tabindex",e.focusHidden?-1:0)}),m(E,O)};W(x,E=>{f&&E(S)})}var T=j(x,2);T.__click=[Id,o],_e(T,1,pe(["button","buttonMenu"]),"svelte-1jg44o9");var N=k(T);ge(N,()=>({"--size":"18px","--rotate":"90deg"})),me(N.lastChild,{name:"menu"});var A=j(N,2);Ze(A,{children:(E,O)=>{var $=Re("show menu");m(E,$)}});var P=j(C,2);Ld(P,{get mode(){return s()},get noteId(){return e.noteId},get noteData(){return e.noteData},get showMenuUp(){return e.showMenuUp},get shownMenu(){return a(o)},set shownMenu(E){p(o,E,!0)}}),de((E,O)=>{_e(v,1,E,"svelte-1jg44o9"),Oe(y,"tabindex",e.focusHidden?-1:0),Oe(y,"href",O),Vt(g,e.noteData?.draft?.name||e.noteData?.name||"unknown"),_e(C,1,pe(["noteMenuWrapper",{noteMenuWrapperActive:a(i)}]),"svelte-1jg44o9"),Oe(T,"tabindex",e.focusHidden?-1:0)},[()=>pe(["record",{pinned:!!e.noteData.pinnedAt,draft:!!e.noteData.draft}]),()=>`/?stackPages=${encodeURIComponent(`${X.EditNote}?id=${e.noteId}`)}`]),m(t,v),ae()}tt(["focusin","focusout","click"]);var Qn,zo,Fo;class Gd{constructor(e){ke(this,Qn);ct(this,"data");ct(this,"compare");this.data=[],this.compare=e}insert(e){this.data.push(e),Ie(this,Qn,zo).call(this)}extractMin(){if(this.data.length===0)return;const e=this.data[0],n=this.data.pop();return this.data.length&&n!==void 0&&(this.data[0]=n,Ie(this,Qn,Fo).call(this)),e}isEmpty(){return this.data.length===0}}Qn=new WeakSet,zo=function(){let e=this.data.length-1;const n=this.data[e];for(;e>0;){const r=Math.floor((e-1)/2);if(this.compare(n,this.data[r])>=0)break;[this.data[e],this.data[r]]=[this.data[r],this.data[e]],e=r}},Fo=function(){let e=0;const n=this.data.length;for(;;){const r=2*e+1,s=2*e+2;let o=e;if(r<n&&this.compare(this.data[r],this.data[o])<0&&(o=r),s<n&&this.compare(this.data[s],this.data[o])<0&&(o=s),o===e)break;[this.data[e],this.data[o]]=[this.data[o],this.data[e]],e=o}};class Xd{constructor(e,n){ct(this,"heap");ct(this,"done");ct(this,"cache",[]);this.heap=new Gd(n);for(const r of e)this.heap.insert(r);this.done=!1}get(e,n){const r=this.cache.slice(e,n);for(;r.length<n-e&&!this.heap.isEmpty();){const s=this.heap.extractMin();s!==void 0&&(this.cache.push(s),r.push(s))}return this.heap.isEmpty()&&(this.done=!0),r}}var Zd=K('<p class="message">No notes in bin</p>'),Jd=K('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Add note</span>',1),Qd=K('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span style="padding-left: 6px;">Import notes</span>',1),$d=K('<p class="message">No notes found</p> <div class="wrapperButtonsAdd svelte-106i4nx"><!></div> <div>or</div> <div class="wrapperButtonsAdd svelte-106i4nx"><!></div>',1),ef=K('<div class="emptyStore svelte-106i4nx"><!></div>'),tf=K("<span>Back to notes</span>"),nf=K('<div class="emptyMessage svelte-106i4nx">No notes in bin</div> <div class="wrapperButtonsAdd svelte-106i4nx"><!></div>',1),rf=K('<div class="emptyMessage svelte-106i4nx">No notes found</div>'),af=K('<div class="feed svelte-106i4nx"><ul class="svelte-106i4nx"></ul></div>'),sf=K('<div class="wrapperFeed svelte-106i4nx"><div class="wrapperContainer svelte-106i4nx"><!></div></div>');function of(t,e){re(e,!0);let n=fe(e,"getNotes",3,()=>[]),r=fe(e,"mode",3,"notes");const{getScrollContainer:s}=Ba(),{createHandlePage:o,getPageUrl:i}=mt(),{getSelectedTags:l}=mo(),{getFeedOrder:c}=go(),u=co();let d=54,f=q(0),v=q(0),_=q(0),h=q(0),y=[],g=q(0),C=q(null),x=F(s),S=null,T=null;const N=F(l);De(()=>{a(N),a($),a(x)?.scrollTo(0,0)});const{enable:A}=Oa(),P=()=>{A(),S||(S=requestAnimationFrame(()=>{const I=a(x)?.scrollTop||0;p(_,I,!0);const H=Math.ceil(a(f)/d);p(v,Math.floor(I/(d*H))*(d*H)),S=null}))},E=()=>{T||(T=requestAnimationFrame(()=>{p(f,window.innerHeight-180||0,!0);const I=a(x)?.scrollTop||0;p(_,I,!0);const H=Math.ceil(a(f)/d);p(v,Math.floor(I/(d*H))*(d*H)),T=null}))};Pe(()=>{E(),P()});const O=()=>{P()};De(()=>(a(x)?.addEventListener("scroll",O),window.addEventListener("resize",E),()=>{a(x)?.removeEventListener("scroll",O),window.removeEventListener("resize",E)}));const $=F(c);De(()=>{const I=n()()||[],H=[],ie=Array.from(a(N).values());for(let ne=I.length-1;ne>=0;ne--){if(!I[ne]||!I[ne].data)continue;const se=I[ne];if(!(r()==="notes"&&se?.data.deletedAt)&&!(r()==="bin"&&!se?.data.deletedAt)&&!(u&&!(se.data.name.toLowerCase().includes(u.value.toLowerCase())||se.data.url.toLowerCase().includes(u.value.toLowerCase())||se.data.text.toLowerCase().includes(u.value.toLowerCase())))){if(a(N).has("inbox")){if(se.data.tags.length>0||se.data.draft&&se.data.draft.tags.length>0)continue}else if(a(N).has("drafts")){if(!se.data.draft)continue}else if(a(N).size&&ie.some(he=>!se.data?.tags.includes(he))&&(!se.data.draft||ie.some(he=>!se.data?.draft?.tags.includes(he))))continue;H.push(se)}}p(h,H.length,!0),y=H,p(g,Date.now(),!0)}),De(()=>{a($),a(g),p(C,new Xd(y,(I,H)=>{if(!I||!H||!I.data||!H.data)return 0;if(I.data.pinnedAt&&!H.data.pinnedAt)return-1;if(!I.data.pinnedAt&&H.data.pinnedAt)return 1;if(I.data.pinnedAt&&H.data.pinnedAt){if(I.data.pinnedAt<H.data.pinnedAt)return 1;if(I.data.pinnedAt>H.data.pinnedAt)return-1}switch(a($)){case"newest":return I.data.updatedAt<H.data.updatedAt?1:-1;case"oldest":return I.data.updatedAt>H.data.updatedAt?1:-1;case"AtoZ":return I.data.name.localeCompare(H.data.name);case"ZtoA":return H.data.name.localeCompare(I.data.name);default:return 0}}),!0)});const oe=F(()=>a(h)*d);let ee=F(()=>{a(g);const I=Math.ceil(a(f)/d);let H=Math.floor(a(v)/d);return H=H-Math.min(H,I),a(C)?.get(H,H+I*3)||[]}),te=F(()=>d*Math.ceil(a(f)/d));const J=F(()=>a(v)-Math.min(a(v),a(te)));var ve=sf(),Q=k(ve),R=k(Q);{var V=I=>{Bo(I,{})},Y=I=>{var H=Z(),ie=z(H);{var ne=he=>{var xe=ef(),be=k(xe);{var Ee=D=>{var w=Zd();m(D,w)},L=D=>{var w=$d(),b=j(z(w),2),B=k(b);{let we=F(()=>i(X.NewNote)),ce=F(()=>o(X.NewNote));rn(B,{element:"a",get href(){return a(we)},get onClick(){return a(ce)},children:(Le,Ye)=>{var Te=Jd(),Be=z(Te);ge(Be,()=>({"--size":"18px","--color":"#b0b0b0"})),me(Be.lastChild,{name:"plus"}),m(Le,Te)},$$slots:{default:!0}})}var G=j(b,4),le=k(G);{let we=F(()=>i(X.ImportData)),ce=F(()=>o(X.ImportData));rn(le,{element:"a",get href(){return a(we)},get onClick(){return a(ce)},children:(Le,Ye)=>{var Te=Qd(),Be=z(Te);ge(Be,()=>({"--size":"18px","--color":"#b0b0b0"})),me(Be.lastChild,{name:"import"}),m(Le,Te)},$$slots:{default:!0}})}m(D,w)};W(be,D=>{r()==="bin"?D(Ee):D(L,!1)})}m(he,xe)},se=he=>{var xe=Z(),be=z(xe);{var Ee=D=>{var w=nf(),b=j(z(w),2),B=k(b);{let G=F(()=>i("/",{full:!0})),le=F(()=>o("/",{full:!0}));rn(B,{element:"a",get href(){return a(G)},get onClick(){return a(le)},children:(we,ce)=>{var Le=tf();m(we,Le)},$$slots:{default:!0}})}m(D,w)},L=D=>{var w=Z(),b=z(w);{var B=le=>{var we=rf();m(le,we)},G=le=>{var we=af(),ce=k(we);Zr(ce,23,()=>a(ee),Le=>Le.data,(Le,Ye,Te)=>{var Be=Z(),We=z(Be);{var Et=nt=>{{let It=F(()=>a(Te)*d<a(_)-a(J)-d/2||a(Te)*d>a(_)-a(J)+Math.floor(a(f)/d)*d),Ot=F(()=>(a(Te)+3)*d<a(_)-a(J)-d/2||(a(Te)+3)*d>a(_)-a(J)+Math.floor(a(f)/d)*d);Yd(nt,{get mode(){return r()},get focusHidden(){return a(It)},get showMenuUp(){return a(Ot)},get noteId(){return a(Ye).id},get noteData(){return a(Ye).data}})}};W(We,nt=>{a(Ye).data&&nt(Et)})}m(Le,Be)}),de(Le=>{En(we,`min-height: ${Le??""}px`),En(ce,`transform: translateY(${a(J)??""}px);`)},[()=>Math.max((a(oe)>a(f),a(oe)),0)]),m(le,we)};W(b,le=>{a(ee).length===0?le(B):le(G,!1)},!0)}m(D,w)};W(be,D=>{r()==="bin"&&e.countNotesInBin()===0?D(Ee):D(L,!1)},!0)}m(he,xe)};W(ie,he=>{(n()()||[]).length===0||r()==="notes"&&(n()()||[]).length-e.countNotesInBin()===0?he(ne):he(se,!1)},!0)}m(I,H)};W(R,I=>{e.readyNotes?I(Y,!1):I(V)})}m(t,ve),ae()}var lf=K('<!> <div class="content svelte-k57gez"><!></div>',1);function cf(t,e){re(e,!0);const{getAppLocation:n}=Lt(),{getGetNotes:r,isInitedNotes:s,countNotesInBin:o}=Tn(),i=F(s),l=F(r),c=F(()=>n().pathname);var u=lf(),d=z(u);{let _=F(()=>a(c)==="/bin"?"bin":"notes");bd(d,{get mode(){return a(_)},get getNotes(){return a(l)}})}var f=j(d,2),v=k(f);{let _=F(()=>a(c)==="/bin"?"bin":"notes");of(v,{get mode(){return a(_)},get getNotes(){return a(l)},get countNotesInBin(){return o},get readyNotes(){return a(i)}})}m(t,u),ae()}var uf=K('<h1 class="svelte-1ky72l5"><!></h1>');function df(t,e){var n=uf(),r=k(n);Ce(r,()=>e.children),m(t,n)}const ff=()=>window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0;var vf=K('<div class="block svelte-4rc64"><!> <p class="message svelte-4rc64">Enjoy using the app!</p> <div class="container svelte-4rc64"><!></div></div>');function hf(t,e){re(e,!1);const{pushStackPages:n}=mt(),r=()=>{ff()?n(X.AccountSetup):n(X.Install)};Jr();var s=vf(),o=k(s);df(o,{children:(c,u)=>{var d=Re("Wellcome");m(c,d)}});var i=j(o,4),l=k(i);rn(l,{onClick:r,fullWidth:!0,children:(c,u)=>{var d=Re("Start");m(c,d)},$$slots:{default:!0}}),m(t,s),ae()}const hs=(t,e=Ae,n=Ae,r)=>{let s=qr(()=>ci(r?.(),!1));var o=Z(),i=z(o);{var l=u=>{ze(u,{children:(d,f)=>{Ue(d,{get hidden(){return a(s)},get page(){return X.Settings}})},$$slots:{default:!0}})},c=u=>{var d=Z(),f=z(d);{var v=h=>{ze(h,{children:(y,g)=>{Ue(y,{get hidden(){return a(s)},get page(){return X.NewNote}})},$$slots:{default:!0}})},_=h=>{var y=Z(),g=z(y);{var C=S=>{ze(S,{children:(T,N)=>{Ue(T,{get params(){return n()},get hidden(){return a(s)},get page(){return X.EditNote}})},$$slots:{default:!0}})},x=S=>{var T=Z(),N=z(T);{var A=E=>{ze(E,{children:(O,$)=>{Ue(O,{get hidden(){return a(s)},get page(){return X.ImportData}})},$$slots:{default:!0}})},P=E=>{var O=Z(),$=z(O);{var oe=ee=>{ze(ee,{children:(te,J)=>{Ue(te,{get hidden(){return a(s)},get page(){return X.ExportData}})},$$slots:{default:!0}})},U=ee=>{var te=Z(),J=z(te);{var ve=R=>{ze(R,{children:(V,Y)=>{Ue(V,{get hidden(){return a(s)},get page(){return X.ClearStore}})},$$slots:{default:!0}})},Q=R=>{var V=Z(),Y=z(V);{var I=ie=>{ze(ie,{children:(ne,se)=>{Ue(ne,{get hidden(){return a(s)},get page(){return X.AccountSetup}})},$$slots:{default:!0}})},H=ie=>{var ne=Z(),se=z(ne);{var he=be=>{ze(be,{children:(Ee,L)=>{Ue(Ee,{get hidden(){return a(s)},get page(){return X.Install}})},$$slots:{default:!0}})},xe=be=>{var Ee=Z(),L=z(Ee);{var D=b=>{ze(b,{children:(B,G)=>{Ue(B,{get hidden(){return a(s)},get page(){return X.InstallSuccess}})},$$slots:{default:!0}})},w=b=>{var B=Z(),G=z(B);{var le=ce=>{ze(ce,{children:(Le,Ye)=>{hf(Le,{})},$$slots:{default:!0}})},we=ce=>{var Le=Z(),Ye=z(Le);{var Te=We=>{ze(We,{children:(Et,nt)=>{Ue(Et,{get hidden(){return a(s)},get page(){return X.Auth}})},$$slots:{default:!0}})},Be=We=>{var Et=Z(),nt=z(Et);{var It=Xt=>{ze(Xt,{children:(Zt,ea)=>{Ue(Zt,{get hidden(){return a(s)},get page(){return X.Signup}})},$$slots:{default:!0}})},Ot=Xt=>{var Zt=Z(),ea=z(Zt);{var ta=An=>{ze(An,{children:(wr,Ua)=>{Ue(wr,{get hidden(){return a(s)},get page(){return X.Signin}})},$$slots:{default:!0}})},Ho=An=>{var wr=Z(),Ua=z(wr);{var Uo=Dn=>{ze(Dn,{children:(yr,ja)=>{Ue(yr,{get hidden(){return a(s)},get page(){return X.AccessKeys}})},$$slots:{default:!0}})},jo=Dn=>{var yr=Z(),ja=z(yr);{var Vo=Nn=>{ze(Nn,{children:(br,Va)=>{Ue(br,{get hidden(){return a(s)},get page(){return X.Account}})},$$slots:{default:!0}})},Wo=Nn=>{var br=Z(),Va=z(br);{var qo=Mn=>{ze(Mn,{children:(Sr,Wa)=>{Ue(Sr,{get hidden(){return a(s)},get page(){return X.ConfirmAccessKey}})},$$slots:{default:!0}})},Ko=Mn=>{var Sr=Z(),Wa=z(Sr);{var Yo=Ln=>{ze(Ln,{children:(Cr,qa)=>{Ue(Cr,{get hidden(){return a(s)},get page(){return X.Exit}})},$$slots:{default:!0}})},Go=Ln=>{var Cr=Z(),qa=z(Cr);{var Xo=In=>{ze(In,{children:(Er,Ka)=>{Ue(Er,{get hidden(){return a(s)},get page(){return X.Sync}})},$$slots:{default:!0}})},Zo=In=>{var Er=Z(),Ka=z(Er);{var Jo=On=>{ze(On,{children:(kr,Ya)=>{Ue(kr,{get hidden(){return a(s)},get page(){return X.Subscription}})},$$slots:{default:!0}})},Qo=On=>{var kr=Z(),Ya=z(kr);{var $o=Bn=>{ze(Bn,{children:(na,ti)=>{Ue(na,{get hidden(){return a(s)},get page(){return X.About}})},$$slots:{default:!0}})},ei=Bn=>{ze(Bn,{children:(na,ti)=>{Iu(na,{})},$$slots:{default:!0}})};W(Ya,Bn=>{e()===X.About?Bn($o):Bn(ei,!1)},!0)}m(On,kr)};W(Ka,On=>{e()===X.Subscription?On(Jo):On(Qo,!1)},!0)}m(In,Er)};W(qa,In=>{e()===X.Sync?In(Xo):In(Zo,!1)},!0)}m(Ln,Cr)};W(Wa,Ln=>{e()===X.Exit?Ln(Yo):Ln(Go,!1)},!0)}m(Mn,Sr)};W(Va,Mn=>{e()===X.ConfirmAccessKey?Mn(qo):Mn(Ko,!1)},!0)}m(Nn,br)};W(ja,Nn=>{e()===X.Account?Nn(Vo):Nn(Wo,!1)},!0)}m(Dn,yr)};W(Ua,Dn=>{e()===X.AccessKeys?Dn(Uo):Dn(jo,!1)},!0)}m(An,wr)};W(ea,An=>{e()===X.Signin?An(ta):An(Ho,!1)},!0)}m(Xt,Zt)};W(nt,Xt=>{e()===X.Signup?Xt(It):Xt(Ot,!1)},!0)}m(We,Et)};W(Ye,We=>{e()===X.Auth?We(Te):We(Be,!1)},!0)}m(ce,Le)};W(G,ce=>{e()===X.Wellcome?ce(le):ce(we,!1)},!0)}m(b,B)};W(L,b=>{e()===X.InstallSuccess?b(D):b(w,!1)},!0)}m(be,Ee)};W(se,be=>{e()===X.Install?be(he):be(xe,!1)},!0)}m(ie,ne)};W(Y,ie=>{e()===X.AccountSetup?ie(I):ie(H,!1)},!0)}m(R,V)};W(J,R=>{e()===X.ClearStore?R(ve):R(Q,!1)},!0)}m(ee,te)};W($,ee=>{e()===X.ExportData?ee(oe):ee(U,!1)},!0)}m(E,O)};W(N,E=>{e()===X.ImportData?E(A):E(P,!1)},!0)}m(S,T)};W(g,S=>{e()===X.EditNote?S(C):S(x,!1)},!0)}m(h,y)};W(f,h=>{e()===X.NewNote?h(v):h(_,!1)},!0)}m(u,d)};W(i,u=>{e()===X.Settings?u(l):u(c,!1)})}m(t,o)};var gf=K("<!> <!>",1);function pf(t,e){re(e,!0);const{getStackPages:n}=mt(),{getAccount:r}=Eo();let s=F(n),o=F(()=>r()!==void 0);const{checkMobileSize:i}=un();let l=q(Fe([]));const c=F(i);De(()=>{a(s),a(c),lt(()=>{if(a(c))a(s).length>=a(l).length?p(l,a(s).map(g=>({page:g,shown:!0})),!0):p(l,a(l).map((g,C)=>({page:g.page,shown:C<a(s).length})),!0);else if(a(s).length>=a(l).length)p(l,a(s).map(g=>({page:g,shown:!0})),!0);else{if(a(s).length===0){p(l,[{page:a(l)[a(l).length-1].page,shown:!1}],!0);return}p(l,a(s).map(g=>({page:g,shown:!0})),!0)}})});const u=()=>{p(l,a(s).map(g=>({page:g,shown:!0})),!0)};var d=gf(),f=z(d);{var v=g=>{cf(g,{})};W(f,g=>{a(o)&&g(v)})}var _=j(f,2);{var h=g=>{var C=Z(),x=z(C);Zr(x,19,()=>a(l),S=>S.page,(S,T,N)=>{const A=F(()=>a(T).page.split("?")[1]),P=F(()=>a(T).page.split("?")[0]);{let E=F(()=>a(N)!==a(l).length-1&&!!a(l)[a(N)+1]?.shown),O=F(()=>a(N)===0);us(S,{onClosed:u,get shown(){return a(T).shown},get hidden(){return a(E)},get isLastDialog(){return a(O)},children:($,oe)=>{{let U=F(()=>a(N)!==a(l).length-1&&!!a(l)[a(N)+1]?.shown);hs($,()=>a(P),()=>a(A),()=>a(U))}},$$slots:{default:!0}})}}),m(g,C)},y=g=>{var C=Z(),x=z(C);{var S=T=>{const N=F(()=>a(l)[a(l).length-1].page.split("?")[1]),A=F(()=>a(l)[a(l).length-1].page.split("?")[0]);{let P=F(()=>a(l).length===1);us(T,{onClosed:u,get shown(){return a(l)[a(l).length-1].shown},hidden:!1,get isLastDialog(){return a(P)},children:(E,O)=>{hs(E,()=>a(A),()=>a(N))},$$slots:{default:!0}})}};W(x,T=>{a(l).length>0&&T(S)},!0)}m(g,C)};W(_,g=>{i()?g(h):g(y,!1)})}m(t,d),ae()}function _f(t,e){re(e,!1);let n=0;Pe(()=>{document.addEventListener("touchstart",r=>{n=r.touches[0].clientX},{passive:!1}),document.addEventListener("touchmove",r=>{const o=r.touches[0].clientX-n;(n<30&&o>0||n>window.innerWidth-30&&o<0)&&r.preventDefault()},{passive:!1}),document.addEventListener("touchend",()=>{n=0}),document.addEventListener("touchcancel",()=>{n=0})}),Jr(),ae()}const mf=(t,e)=>{a(e)&&a(e).scrollTo({top:0})};var wf=K('<div><button class="buttonTop svelte-1n46o8q"><!> <span class="icon svelte-1n46o8q"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></span></button></div>'),yf=K('<!> <!> <main><div class="wrapperHeader svelte-1n46o8q"><!></div> <div class="container svelte-1n46o8q"><!></div></main> <!>',1);function bf(t,e){re(e,!0);const{navigate:n}=Lt(),{hasStackPage:r}=mt(),{setScrollContainer:s}=Ba(),{getAccount:o,init:i}=Eo(),{isInitedNotes:l}=Tn(),{getStackPagesFormUrl:c}=mt(),{createBroadcastChannel:u,tabId:d}=rr(),f=u(),{getSidebarState:v}=Qr(),{setClosableDialog:_}=dn(),h=()=>{n("/?stackPages=wellcome")};Pe(()=>{i(H=>{H===void 0?h():((r("wellcome")||r("accountSetup"))&&n("/"),H?p(S,H):p(S,null))});const I=async H=>{const ie=JSON.parse(H.data);if(ie.tabId&&ie.tabId===d)return;const ne=ie;ne.type==="initLocalAccount"||ne.type==="initCloudAccount"||ne.type==="updateAccount"||ne.type==="disconnectCloudAccount"?n("/"):ne.type==="exit"&&(n("/"),setTimeout(()=>{h()}))};return f.addEventListener(I),()=>f.removeEventListener(I)});const y=cn();Pe(async()=>{await new Promise(I=>setTimeout(I,100)),await to(),y.working=!0});let g=q(!1),C=0,x=F(()=>c().length>0),S=F(o),T=F(l),N=q(null);De(()=>{_(a(S)!==void 0)}),De(()=>{s(a(N))});const A=()=>{if(a(N)){const I=a(N).scrollTop||0;I===0?p(g,!1):!a(g)&&C>I?p(g,!0):a(g)&&C+50<I&&p(g,!1),C=I}},P=()=>{A()};De(()=>(a(N)?.addEventListener("scroll",P),window.addEventListener("resize",P),()=>{a(N)?.removeEventListener("scroll",P),window.removeEventListener("resize",P)}));const E=F(v);var O=yf(),$=z(O);_f($,{});var oe=j($,2);Rc(oe,{});var U=j(oe,2),ee=k(U),te=k(ee);{var J=I=>{gu(I,{})};W(te,I=>{a(S)!==void 0&&I(J)})}var ve=j(ee,2),Q=k(ve);{var R=I=>{pf(I,{})};W(Q,I=>{a(T)&&I(R)})}it(U,I=>p(N,I),()=>a(N));var V=j(U,2);{var Y=I=>{var H=wf(),ie=k(H);ie.__click=[mf,N];var ne=k(ie);Ze(ne,{children:(xe,be)=>{var Ee=Re("top");m(xe,Ee)}});var se=j(ne,2),he=k(se);ge(he,()=>({"--rotate":"90deg","--size":"28px"})),me(he.lastChild,{name:"back"}),de(()=>{En(H,`--swiping-ratio: ${y.swipingRatio}; --transition-timing-default: ${y.duration}s;`),_e(H,1,pe(["wrapperButtonTop",{isAnimationOn:y.working&&!y.isSwiping,open:a(x)||a(E).type!=="closed"}]),"svelte-1n46o8q")}),m(I,H)};W(V,I=>{a(g)&&I(Y)})}de(()=>{En(U,`--swiping-ratio: ${y.swipingRatio}; --transition-timing-default: ${y.duration}s;`),_e(U,1,pe(["main",{isAnimationOn:y.working&&!y.isSwiping,open:a(x)||a(E).type!=="closed"}]),"svelte-1n46o8q")}),m(t,O),ae()}tt(["click"]);function Sf(t){Mc(t,{children:(e,n)=>{bf(e,{})}})}window.addEventListener("unhandledrejection",t=>{alert("Error: "+t.reason.message)});window.isUnsupportedBrowser||ml(Sf,{target:document.getElementById("app")});export{Eo as A,rn as B,Jr as C,Tn as D,Ma as E,kf as F,fe as G,df as H,me as I,_e as J,pe as K,Bo as L,Pf as M,xf as N,En as O,X as P,un as Q,oc as R,it as S,Tf as T,Ro as U,Ze as V,dd as W,Ml as X,rr as Y,Zl as Z,ff as _,ge as a,Oe as b,k as c,m as d,Zr as e,K as f,a as g,q as h,W as i,ae as j,p as k,z as l,Vt as m,mt as n,Pe as o,re as p,dn as q,Fe as r,j as s,de as t,De as u,Z as v,tt as w,Re as x,F as y,Lt as z};
