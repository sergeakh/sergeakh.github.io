import{p as ua,h as fa,z as ga,A as _a,i as ma,o as ha,l as O,j as J,u as ba,g as x,f as p,m as n,c as K,d as a,n as Aa,r as i,H as N,w as D,s as E,B as Q,q as c,L as wa}from"./BtknKrKR.js";const g=()=>window.installPrompt;function Sa(){const r=navigator.userAgent,A=/iPad|iPhone|iPod/.test(r);return A?!!A:!1}const Ca=()=>{const r=navigator.userAgent;return/android/i.test(r)},Pa=()=>{const r=navigator.userAgent;return/chrome|crios/i.test(r)&&!/edge|edgios|edga/i.test(r)},T=()=>{const r=navigator.userAgent;return!!(/Safari/.test(r)&&!/Chrome/.test(r)&&!/CriOS/.test(r)&&!/FxiOS/.test(r))};var xa=p('<p class="message svelte-1uagzbf">App is already installed.</p>'),ya=p('<p class="message svelte-1uagzbf">App is already installed. But you can install another version.</p>'),ka=p('<p class="message svelte-1uagzbf">For better experience, install app from Chrome.</p>'),za=p(`<p class="message svelte-1uagzbf">App is already installed or installation is not supported in this browser. use Chrome,
					Brave, Edge.</p>`),Ia=p('<p class="message svelte-1uagzbf">For install app, select the share button and select "Add to Home Screen".</p>'),Ba=p('<p class="message svelte-1uagzbf">Install app available on Safari.</p>'),Fa=p(`<p class="message svelte-1uagzbf">From the menu bar, choose File > Add to Dock. Or click the Share button in the Safari
				toolbar, then choose Add to Dock.</p>`),Oa=p(`<p class="message svelte-1uagzbf">App is already installed or installation is not supported in this browser. use Chrome,
				Brave, Edge.</p>`),Da=p(`<!> <p class="message svelte-1uagzbf">You can install app to have a better experience and more reliable storage or you can use it in
			your browser and install later.</p> <!> <div class="container svelte-1uagzbf"><!> <!></div>`,1),Ea=p("<!> <!>",1),Ha=p('<div class="block svelte-1uagzbf"><!></div>');function Ra(r,A){ua(A,!0);const{pushStackPages:U,clearStackPages:V}=fa(),{navigate:X}=ga(),{getAccount:Z}=_a(),{blockDialog:$}=ma();let _=J("idle"),H=J(!1);const aa=()=>{Z()===void 0?U("accountSetup"):V()},ea=()=>{aa()},ta=async()=>{const s=g();try{s&&(O(_,"installing"),"onappinstalled"in window&&window.addEventListener("appinstalled",()=>{O(_,"idle"),X("/?stackPages=installSuccess")}),await s.prompt(),s.userChoice?.then(l=>{l.outcome==="accepted"?window.installPrompt=null:O(_,"idle")}))}catch(l){console.error("Error during install prompt:",l)}};ha(async()=>{if("getInstalledRelatedApps"in navigator){const s=await navigator.getInstalledRelatedApps();console.log("relatedApps",s),O(H,s.some(l=>l.platform==="webapp"),!0)}}),ba(()=>{$(x(_)==="installing")});var Y=Ha(),sa=K(Y);{var ra=s=>{var l=Da(),y=i(l);N(y,{children:(e,d)=>{var m=D("install app");a(e,m)}});var k=E(y,4);{var w=e=>{var d=xa();a(e,d)},z=e=>{var d=c(),m=i(d);{var R=h=>{var F=ya();a(h,F)},na=h=>{var F=c(),la=i(F);{var ia=b=>{var S=c(),W=i(S);{var j=o=>{var v=ka();a(o,v)},q=o=>{var v=c(),C=i(v);{var P=f=>{var t=za();a(f,t)};n(C,f=>{g()||f(P)},!0)}a(o,v)};n(W,o=>{!Pa()&&g()?o(j):o(q,!1)})}a(b,S)},pa=b=>{var S=c(),W=i(S);{var j=o=>{var v=c(),C=i(v);{var P=t=>{var u=Ia();a(t,u)},f=t=>{var u=Ba();a(t,u)};n(C,t=>{T()?t(P):t(f,!1)})}a(o,v)},q=o=>{var v=c(),C=i(v);{var P=t=>{var u=Fa();a(t,u)},f=t=>{var u=c(),va=i(u);{var ca=M=>{var da=Oa();a(M,da)};n(va,M=>{g()||M(ca)},!0)}a(t,u)};n(C,t=>{T()?t(P):t(f,!1)},!0)}a(o,v)};n(W,o=>{Sa()?o(j):o(q,!1)},!0)}a(b,S)};n(la,b=>{Ca()?b(ia):b(pa,!1)},!0)}a(h,F)};n(m,h=>{x(H)&&g()?h(R):h(na,!1)},!0)}a(e,d)};n(k,e=>{x(H)&&!g()?e(w):e(z,!1)})}var I=E(k,2),B=K(I);{var L=e=>{Q(e,{onClick:ta,fullWidth:!0,children:(d,m)=>{var R=D("install web app");a(d,R)},$$slots:{default:!0}})};n(B,e=>{g()&&e(L)})}var G=E(B,2);Q(G,{onClick:ea,fullWidth:!0,type:"secondary",children:(e,d)=>{var m=D("continue in browser");a(e,m)},$$slots:{default:!0}}),a(s,l)},oa=s=>{var l=c(),y=i(l);{var k=w=>{var z=Ea(),I=i(z);N(I,{children:(L,G)=>{var e=D("installing app...");a(L,e)}});var B=E(I,2);wa(B,{}),a(w,z)};n(y,w=>{x(_)==="installing"&&w(k)},!0)}a(s,l)};n(sa,s=>{x(_)==="idle"?s(ra):s(oa,!1)})}a(r,Y),Aa()}export{Ra as default};
