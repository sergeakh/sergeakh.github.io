const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["a/aB3i5nqx9.js","a/aDJGxTJuX.css","a/aCCSkogM-.js","a/a9q_jSmK4.js","a/abA9hIFUQ.js","a/aDf0fAQHq.css","a/aCM05F6bH.js","a/aGKJynjgv.css","a/aBHimckpY.js","a/aBMjxyC5e.css","a/aDqxbvpEi.js","a/aDgPIJwnn.css","a/aDFGG8UFg.js","a/aB_UsPGEu.css","a/aDHU1GsT1.js","a/aCpa8lgv9.js","a/aBvwSFtPn.js","a/aj0KFa_-O.css","a/ahu7yjlv8.css","a/aC-eeILA9.js","a/aBKXbZbfp.js","a/aBmHxeNSx.js","a/aEZ_l8VDb.css","a/aB_Zcg-eh.css","a/aC-Mx_t1i.css","a/aBPiP5Ejz.js","a/aBs6Vrlio.css","a/aBwWVW8pJ.js","a/aNcD2jvzn.js","a/aDWUfwQ_G.css","a/aB0gnAdLT.css","a/a-c3O0BWt.js","a/aw3_6eoJ1.css","a/aC1Zy1j66.js","a/aCJkK19aw.css","a/aCc7NNujC.js","a/aDlxBpJjD.css","a/aBPNylhpi.js","a/aBapqZ2ap.js","a/aCtCLuIz_.css","a/aD6UH715D.js","a/aDaxC3cdO.css","a/aDpAzU-ps.js","a/aBib31qW-.css","a/aCVjT5J_Z.js","a/aBr15UghP.css","a/aBBFbx_fo.js","a/aCTzb1Nvm.css"])))=>i.map(i=>d[i]);
var ni=Object.defineProperty;var Xa=t=>{throw TypeError(t)};var ri=(t,e,n)=>e in t?ni(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ct=(t,e,n)=>ri(t,typeof e!="symbol"?e+"":e,n),ra=(t,e,n)=>e.has(t)||Xa("Cannot "+n);var L=(t,e,n)=>(ra(t,e,"read from private field"),n?n.call(t):e.get(t)),xe=(t,e,n)=>e.has(t)?Xa("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),de=(t,e,n,a)=>(ra(t,e,"write to private field"),a?a.call(t,n):e.set(t,n),n),Ie=(t,e,n)=>(ra(t,e,"access private method"),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();const _s=!1;var Ca=Array.isArray,ai=Array.prototype.indexOf,Ea=Array.from,la=Object.defineProperty,Un=Object.getOwnPropertyDescriptor,ms=Object.getOwnPropertyDescriptors,si=Object.prototype,oi=Array.prototype,ka=Object.getPrototypeOf,Za=Object.isExtensible;const Ae=()=>{};function ii(t){return typeof t?.then=="function"}function li(t){return t()}function ca(t){for(var e=0;e<t.length;e++)t[e]()}function ws(){var t,e,n=new Promise((a,s)=>{t=a,e=s});return{promise:n,resolve:t,reject:e}}function ci(t,e,n=!1){return t===void 0?n?e():e:t}const Qe=2,Pa=4,Ur=8,Yt=16,Gt=32,En=64,jr=128,et=1024,ot=2048,an=4096,ft=8192,Ut=16384,xa=32768,nn=65536,Ja=1<<17,ui=1<<18,er=1<<19,ys=1<<20,mt=256,Mr=512,Ir=32768,ua=1<<21,Ta=1<<22,mn=1<<23,wn=Symbol("$state"),di=Symbol("legacy props"),fi=Symbol(""),Hn=new class extends Error{constructor(){super(...arguments);ct(this,"name","StaleReactionError");ct(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function bs(t){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function vi(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function hi(t){throw new Error("https://svelte.dev/e/effect_in_teardown")}function gi(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function pi(t){throw new Error("https://svelte.dev/e/effect_orphan")}function _i(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function mi(t){throw new Error("https://svelte.dev/e/props_invalid_value")}function wi(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function yi(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function bi(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Si(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const Vr=1,Wr=2,Ss=4,Ci=8,Ei=16,ki=1,Pi=2,xi=4,Ti=8,Ai=16,Di=1,Ni=2,Ge=Symbol(),Li="http://www.w3.org/1999/xhtml";function Mi(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}let Ii=!1;function Cs(t){return t===this.v}function Oi(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function Es(t){return!Oi(t,this.v)}let tr=!1,Bi=!1;function Ri(){tr=!0}let Me=null;function Zn(t){Me=t}function We(t){return ks().get(t)}function qe(t,e){return ks().set(t,e),e}function re(t,e=!1,n){Me={p:Me,c:null,e:null,s:t,x:null,l:tr&&!e?{s:null,u:null,$:[]}:null}}function ae(t){var e=Me,n=e.e;if(n!==null){e.e=null;for(var a of n)Ws(a)}return t!==void 0&&(e.x=t),Me=e.p,t??{}}function nr(){return!tr||Me!==null&&Me.l===null}function ks(t){return Me===null&&bs(),Me.c??(Me.c=new Map(zi(Me)||void 0))}function zi(t){let e=t.p;for(;e!==null;){const n=e.c;if(n!==null)return n;e=e.p}return null}let vn=[];function Ps(){var t=vn;vn=[],ca(t)}function kn(t){if(vn.length===0&&!jn){var e=vn;queueMicrotask(()=>{e===vn&&Ps()})}vn.push(t)}function Fi(){for(;vn.length>0;)Ps()}const Hi=new WeakMap;function xs(t){var e=ye;if(e===null)return pe.f|=mn,t;if((e.f&xa)===0){if((e.f&jr)===0)throw!e.parent&&t instanceof Error&&Ts(t),t;e.b.error(t)}else Jn(t,e)}function Jn(t,e){for(;e!==null;){if((e.f&jr)!==0)try{e.b.error(t);return}catch(n){t=n}e=e.parent}throw t instanceof Error&&Ts(t),t}function Ts(t){const e=Hi.get(t);e&&(la(t,"message",{value:e.message}),la(t,"stack",{value:e.stack}))}const xr=new Set;let Le=null,Ar=null,Et=null,da=new Set,Lt=[],qr=null,fa=!1,jn=!1;var qn,Kn,Yn,hn,gr,Gn,Xn,Xe,va,dn,ha,As;const zr=class zr{constructor(){xe(this,Xe);ct(this,"committed",!1);ct(this,"current",new Map);xe(this,qn,new Map);xe(this,Kn,new Set);xe(this,Yn,0);xe(this,hn,0);xe(this,gr,null);xe(this,Gn,[]);xe(this,Xn,[]);ct(this,"skipped_effects",new Set)}process(e){Lt=[],Ar=null,this.apply();var n={parent:null,effect:null,effects:[],render_effects:[],block_effects:[]};for(const a of e)Ie(this,Xe,va).call(this,a,n);Ie(this,Xe,ha).call(this),L(this,hn)>0?(Ie(this,Xe,dn).call(this,n.effects),Ie(this,Xe,dn).call(this,n.render_effects),Ie(this,Xe,dn).call(this,n.block_effects)):(Ar=this,Le=null,Qa(n.render_effects),Qa(n.effects),Ar=null),Et=null}capture(e,n){L(this,qn).has(e)||L(this,qn).set(e,n),this.current.set(e,e.v),Et?.set(e,e.v)}activate(){Le=this}deactivate(){Le=null,Et=null}flush(){if(Lt.length>0){if(this.activate(),Ns(),Le!==null&&Le!==this)return}else Ie(this,Xe,ha).call(this);this.deactivate();for(const e of da)if(da.delete(e),e(),Le!==null)break}increment(e){de(this,Yn,L(this,Yn)+1),e&&de(this,hn,L(this,hn)+1)}decrement(e){de(this,Yn,L(this,Yn)-1),e&&de(this,hn,L(this,hn)-1);for(const n of L(this,Gn))tt(n,ot),Sn(n);for(const n of L(this,Xn))tt(n,an),Sn(n);de(this,Gn,[]),de(this,Xn,[]),this.flush()}add_callback(e){L(this,Kn).add(e)}settled(){return(L(this,gr)??de(this,gr,ws())).promise}static ensure(){if(Le===null){const e=Le=new zr;xr.add(Le),jn||zr.enqueue(()=>{Le===e&&e.flush()})}return Le}static enqueue(e){kn(e)}apply(){}};qn=new WeakMap,Kn=new WeakMap,Yn=new WeakMap,hn=new WeakMap,gr=new WeakMap,Gn=new WeakMap,Xn=new WeakMap,Xe=new WeakSet,va=function(e,n){e.f^=et;for(var a=e.first;a!==null;){var s=a.f,o=(s&(Gt|En))!==0,i=o&&(s&et)!==0,l=i||(s&ft)!==0||this.skipped_effects.has(a);if((a.f&jr)!==0&&a.b?.is_pending()&&(n={parent:n,effect:a,effects:[],render_effects:[],block_effects:[]}),!l&&a.fn!==null){o?a.f^=et:(s&Pa)!==0?n.effects.push(a):Xr(a)&&((a.f&Yt)!==0&&n.block_effects.push(a),Rr(a));var c=a.first;if(c!==null){a=c;continue}}var u=a.parent;for(a=a.next;a===null&&u!==null;)u===n.effect&&(Ie(this,Xe,dn).call(this,n.effects),Ie(this,Xe,dn).call(this,n.render_effects),Ie(this,Xe,dn).call(this,n.block_effects),n=n.parent),a=u.next,u=u.parent}},dn=function(e){for(const n of e)((n.f&ot)!==0?L(this,Gn):L(this,Xn)).push(n),tt(n,et)},ha=function(){if(L(this,hn)===0){for(const e of L(this,Kn))e();L(this,Kn).clear()}L(this,Yn)===0&&Ie(this,Xe,As).call(this)},As=function(){var s;if(xr.size>1){L(this,qn).clear();var e=Et,n=!0,a={parent:null,effect:null,effects:[],render_effects:[],block_effects:[]};for(const o of xr){if(o===this){n=!1;continue}const i=[];for(const[c,u]of this.current){if(o.current.has(c))if(n&&u!==o.current.get(c))o.current.set(c,u);else continue;i.push(c)}if(i.length===0)continue;const l=[...o.current.keys()].filter(c=>!this.current.has(c));if(l.length>0){const c=new Set,u=new Map;for(const d of i)Ls(d,l,c,u);if(Lt.length>0){Le=o,o.apply();for(const d of Lt)Ie(s=o,Xe,va).call(s,d,a);Lt=[],o.deactivate()}}}Le=null,Et=e}this.committed=!0,xr.delete(this),L(this,gr)?.resolve()};let Ht=zr;function Ds(t){var e=jn;jn=!0;try{for(var n;;){if(Fi(),Lt.length===0&&(Le?.flush(),Lt.length===0))return qr=null,n;Ns()}}finally{jn=e}}function Ns(){var t=Wn;fa=!0;try{var e=0;for(ts(!0);Lt.length>0;){var n=Ht.ensure();if(e++>1e3){var a,s;Ui()}n.process(Lt),en.clear()}}finally{fa=!1,ts(t),qr=null}}function Ui(){try{_i()}catch(t){Jn(t,qr)}}let Rt=null;function Qa(t){var e=t.length;if(e!==0){for(var n=0;n<e;){var a=t[n++];if((a.f&(Ut|ft))===0&&Xr(a)&&(Rt=new Set,Rr(a),a.deps===null&&a.first===null&&a.nodes_start===null&&(a.teardown===null&&a.ac===null?Ys(a):a.fn=null),Rt?.size>0)){en.clear();for(const s of Rt){if((s.f&(Ut|ft))!==0)continue;const o=[s];let i=s.parent;for(;i!==null;)Rt.has(i)&&(Rt.delete(i),o.push(i)),i=i.parent;for(let l=o.length-1;l>=0;l--){const c=o[l];(c.f&(Ut|ft))===0&&Rr(c)}}Rt.clear()}}Rt=null}}function Ls(t,e,n,a){if(!n.has(t)&&(n.add(t),t.reactions!==null))for(const s of t.reactions){const o=s.f;(o&Qe)!==0?Ls(s,e,n,a):(o&(Ta|Yt))!==0&&(o&ot)===0&&Ms(s,e,a)&&(tt(s,ot),Sn(s))}}function Ms(t,e,n){const a=n.get(t);if(a!==void 0)return a;if(t.deps!==null)for(const s of t.deps){if(e.includes(s))return!0;if((s.f&Qe)!==0&&Ms(s,e,n))return n.set(s,!0),!0}return n.set(t,!1),!1}function Sn(t){for(var e=qr=t;e.parent!==null;){e=e.parent;var n=e.f;if(fa&&e===ye&&(n&Yt)!==0)return;if((n&(En|Gt))!==0){if((n&et)===0)return;e.f^=et}}Lt.push(e)}function ji(t){let e=0,n=qt(0),a;return()=>{nl()&&(r(n),Gr(()=>(e===0&&(a=lt(()=>t(()=>ur(n)))),e+=1,()=>{kn(()=>{e-=1,e===0&&(a?.(),a=void 0,ur(n))})})))}}var Vi=nn|er|jr;function Wi(t,e,n){new qi(t,e,n)}var gt,pt,Sa,Tt,gn,At,_t,rt,Dt,zt,Zt,pn,Jt,_n,Qt,Fr,Hr,Ye,Ki,Yi,ga,Dr,Nr,pa;class qi{constructor(e,n,a){xe(this,Ye);ct(this,"parent");xe(this,gt,!1);xe(this,pt);xe(this,Sa,null);xe(this,Tt);xe(this,gn);xe(this,At);xe(this,_t,null);xe(this,rt,null);xe(this,Dt,null);xe(this,zt,null);xe(this,Zt,null);xe(this,pn,0);xe(this,Jt,0);xe(this,_n,!1);xe(this,Qt,null);xe(this,Fr,()=>{L(this,Qt)&&jt(L(this,Qt),L(this,pn))});xe(this,Hr,ji(()=>(de(this,Qt,qt(L(this,pn))),()=>{de(this,Qt,null)})));de(this,pt,e),de(this,Tt,n),de(this,gn,a),this.parent=ye.b,de(this,gt,!!L(this,Tt).pending),de(this,At,rr(()=>{ye.b=this;{var s=Ie(this,Ye,ga).call(this);try{de(this,_t,Ct(()=>a(s)))}catch(o){this.error(o)}L(this,Jt)>0?Ie(this,Ye,Nr).call(this):de(this,gt,!1)}return()=>{L(this,Zt)?.remove()}},Vi))}is_pending(){return L(this,gt)||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!L(this,Tt).pending}update_pending_count(e){Ie(this,Ye,pa).call(this,e),de(this,pn,L(this,pn)+e),da.add(L(this,Fr))}get_effect_pending(){return L(this,Hr).call(this),r(L(this,Qt))}error(e){var n=L(this,Tt).onerror;let a=L(this,Tt).failed;if(L(this,_n)||!n&&!a)throw e;L(this,_t)&&(st(L(this,_t)),de(this,_t,null)),L(this,rt)&&(st(L(this,rt)),de(this,rt,null)),L(this,Dt)&&(st(L(this,Dt)),de(this,Dt,null));var s=!1,o=!1;const i=()=>{if(s){Mi();return}s=!0,o&&Si(),Ht.ensure(),de(this,pn,0),L(this,Dt)!==null&&Vn(L(this,Dt),()=>{de(this,Dt,null)}),de(this,gt,this.has_pending_snippet()),de(this,_t,Ie(this,Ye,Dr).call(this,()=>(de(this,_n,!1),Ct(()=>L(this,gn).call(this,L(this,pt)))))),L(this,Jt)>0?Ie(this,Ye,Nr).call(this):de(this,gt,!1)};var l=pe;try{at(null),o=!0,n?.(e,i),o=!1}catch(c){Jn(c,L(this,At)&&L(this,At).parent)}finally{at(l)}a&&kn(()=>{de(this,Dt,Ie(this,Ye,Dr).call(this,()=>{Ht.ensure(),de(this,_n,!0);try{return Ct(()=>{a(L(this,pt),()=>e,()=>i)})}catch(c){return Jn(c,L(this,At).parent),null}finally{de(this,_n,!1)}}))})}}gt=new WeakMap,pt=new WeakMap,Sa=new WeakMap,Tt=new WeakMap,gn=new WeakMap,At=new WeakMap,_t=new WeakMap,rt=new WeakMap,Dt=new WeakMap,zt=new WeakMap,Zt=new WeakMap,pn=new WeakMap,Jt=new WeakMap,_n=new WeakMap,Qt=new WeakMap,Fr=new WeakMap,Hr=new WeakMap,Ye=new WeakSet,Ki=function(){try{de(this,_t,Ct(()=>L(this,gn).call(this,L(this,pt))))}catch(e){this.error(e)}de(this,gt,!1)},Yi=function(){const e=L(this,Tt).pending;e&&(de(this,rt,Ct(()=>e(L(this,pt)))),Ht.enqueue(()=>{var n=Ie(this,Ye,ga).call(this);de(this,_t,Ie(this,Ye,Dr).call(this,()=>(Ht.ensure(),Ct(()=>L(this,gn).call(this,n))))),L(this,Jt)>0?Ie(this,Ye,Nr).call(this):(Vn(L(this,rt),()=>{de(this,rt,null)}),de(this,gt,!1))}))},ga=function(){var e=L(this,pt);return L(this,gt)&&(de(this,Zt,rn()),L(this,pt).before(L(this,Zt)),e=L(this,Zt)),e},Dr=function(e){var n=ye,a=pe,s=Me;Mt(L(this,At)),at(L(this,At)),Zn(L(this,At).ctx);try{return e()}catch(o){return xs(o),null}finally{Mt(n),at(a),Zn(s)}},Nr=function(){const e=L(this,Tt).pending;L(this,_t)!==null&&(de(this,zt,document.createDocumentFragment()),L(this,zt).append(L(this,Zt)),Zs(L(this,_t),L(this,zt))),L(this,rt)===null&&de(this,rt,Ct(()=>e(L(this,pt))))},pa=function(e){var n;if(!this.has_pending_snippet()){this.parent&&Ie(n=this.parent,Ye,pa).call(n,e);return}de(this,Jt,L(this,Jt)+e),L(this,Jt)===0&&(de(this,gt,!1),L(this,rt)&&Vn(L(this,rt),()=>{de(this,rt,null)}),L(this,zt)&&(L(this,pt).before(L(this,zt)),de(this,zt,null)))};function Gi(t,e,n){const a=nr()?mr:Kr;if(e.length===0){n(t.map(a));return}var s=Le,o=ye,i=Is();Promise.all(e.map(l=>Xi(l))).then(l=>{i();try{n([...t.map(a),...l])}catch(c){(o.f&Ut)===0&&Jn(c,o)}s?.deactivate(),Or()}).catch(l=>{Jn(l,o)})}function Is(){var t=ye,e=pe,n=Me,a=Le;return function(){Mt(t),at(e),Zn(n),a?.activate()}}function Or(){Mt(null),at(null),Zn(null)}function mr(t){var e=Qe|ot,n=pe!==null&&(pe.f&Qe)!==0?pe:null;return ye===null||n!==null&&(n.f&mt)!==0?e|=mt:ye.f|=er,{ctx:Me,deps:null,effects:null,equals:Cs,f:e,fn:t,reactions:null,rv:0,v:Ge,wv:0,parent:n??ye,ac:null}}function Xi(t,e){let n=ye;n===null&&vi();var a=n.b,s=void 0,o=qt(Ge),i=!pe,l=new Map;return ol(()=>{var c=ws();s=c.promise;try{Promise.resolve(t()).then(c.resolve,c.reject).then(()=>{u===Le&&u.committed&&u.deactivate(),Or()})}catch(v){c.reject(v),Or()}var u=Le;if(i){var d=!a.is_pending();a.update_pending_count(1),u.increment(d),l.get(u)?.reject(Hn),l.delete(u),l.set(u,c)}const f=(v,_=void 0)=>{if(u.activate(),_)_!==Hn&&(o.f|=mn,jt(o,_));else{(o.f&mn)!==0&&(o.f^=mn),jt(o,v);for(const[h,w]of l){if(l.delete(h),h===u)break;w.reject(Hn)}}i&&(a.update_pending_count(-1),u.decrement(d))};c.promise.then(f,v=>f(null,v||"unknown"))}),Vs(()=>{for(const c of l.values())c.reject(Hn)}),new Promise(c=>{function u(d){function f(){d===s?c(o):u(s)}d.then(f,f)}u(s)})}function F(t){const e=mr(t);return Js(e),e}function Kr(t){const e=mr(t);return e.equals=Es,e}function Os(t){var e=t.effects;if(e!==null){t.effects=null;for(var n=0;n<e.length;n+=1)st(e[n])}}function Zi(t){for(var e=t.parent;e!==null;){if((e.f&Qe)===0)return e;e=e.parent}return null}function Aa(t){var e,n=ye;Mt(Zi(t));try{t.f&=~Ir,Os(t),e=to(t)}finally{Mt(n)}return e}function Bs(t){var e=Aa(t);if(t.equals(e)||(t.v=e,t.wv=$s()),!Pn)if(Et!==null)Et.set(t,t.v);else{var n=($t||(t.f&mt)!==0)&&t.deps!==null?an:et;tt(t,n)}}const en=new Map;function qt(t,e){var n={f:0,v:t,reactions:null,equals:Cs,rv:0,wv:0};return n}function V(t,e){const n=qt(t);return Js(n),n}function _a(t,e=!1,n=!0){var s;const a=qt(t);return e||(a.equals=Es),tr&&n&&Me!==null&&Me.l!==null&&((s=Me.l).s??(s.s=[])).push(a),a}function p(t,e,n=!1){pe!==null&&(!kt||(pe.f&Ja)!==0)&&nr()&&(pe.f&(Qe|Yt|Ta|Ja))!==0&&!Vt?.includes(t)&&bi();let a=n?Fe(e):e;return jt(t,a)}function jt(t,e){if(!t.equals(e)){var n=t.v;Pn?en.set(t,e):en.set(t,n),t.v=e;var a=Ht.ensure();a.capture(t,n),(t.f&Qe)!==0&&((t.f&ot)!==0&&Aa(t),tt(t,(t.f&mt)===0?et:an)),t.wv=$s(),Rs(t,ot),nr()&&ye!==null&&(ye.f&et)!==0&&(ye.f&(Gt|En))===0&&(ht===null?cl([t]):ht.push(t))}return e}function ur(t){p(t,t.v+1)}function Rs(t,e){var n=t.reactions;if(n!==null)for(var a=nr(),s=n.length,o=0;o<s;o++){var i=n[o],l=i.f;if(!(!a&&i===ye)){var c=(l&ot)===0;c&&tt(i,e),(l&Qe)!==0?(l&Ir)===0&&(i.f|=Ir,Rs(i,an)):c&&((l&Yt)!==0&&Rt!==null&&Rt.add(i),Sn(i))}}}function Fe(t){if(typeof t!="object"||t===null||wn in t)return t;const e=ka(t);if(e!==si&&e!==oi)return t;var n=new Map,a=Ca(t),s=V(0),o=yn,i=l=>{if(yn===o)return l();var c=pe,u=yn;at(null),rs(o);var d=l();return at(c),rs(u),d};return a&&n.set("length",V(t.length)),new Proxy(t,{defineProperty(l,c,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&wi();var d=n.get(c);return d===void 0?d=i(()=>{var f=V(u.value);return n.set(c,f),f}):p(d,u.value,!0),!0},deleteProperty(l,c){var u=n.get(c);if(u===void 0){if(c in l){const d=i(()=>V(Ge));n.set(c,d),ur(s)}}else p(u,Ge),ur(s);return!0},get(l,c,u){if(c===wn)return t;var d=n.get(c),f=c in l;if(d===void 0&&(!f||Un(l,c)?.writable)&&(d=i(()=>{var _=Fe(f?l[c]:Ge),h=V(_);return h}),n.set(c,d)),d!==void 0){var v=r(d);return v===Ge?void 0:v}return Reflect.get(l,c,u)},getOwnPropertyDescriptor(l,c){var u=Reflect.getOwnPropertyDescriptor(l,c);if(u&&"value"in u){var d=n.get(c);d&&(u.value=r(d))}else if(u===void 0){var f=n.get(c),v=f?.v;if(f!==void 0&&v!==Ge)return{enumerable:!0,configurable:!0,value:v,writable:!0}}return u},has(l,c){if(c===wn)return!0;var u=n.get(c),d=u!==void 0&&u.v!==Ge||Reflect.has(l,c);if(u!==void 0||ye!==null&&(!d||Un(l,c)?.writable)){u===void 0&&(u=i(()=>{var v=d?Fe(l[c]):Ge,_=V(v);return _}),n.set(c,u));var f=r(u);if(f===Ge)return!1}return d},set(l,c,u,d){var f=n.get(c),v=c in l;if(a&&c==="length")for(var _=u;_<f.v;_+=1){var h=n.get(_+"");h!==void 0?p(h,Ge):_ in l&&(h=i(()=>V(Ge)),n.set(_+"",h))}if(f===void 0)(!v||Un(l,c)?.writable)&&(f=i(()=>V(void 0)),p(f,Fe(u)),n.set(c,f));else{v=f.v!==Ge;var w=i(()=>Fe(u));p(f,w)}var g=Reflect.getOwnPropertyDescriptor(l,c);if(g?.set&&g.set.call(d,u),!v){if(a&&typeof c=="string"){var C=n.get("length"),x=Number(c);Number.isInteger(x)&&x>=C.v&&p(C,x+1)}ur(s)}return!0},ownKeys(l){r(s);var c=Reflect.ownKeys(l).filter(f=>{var v=n.get(f);return v===void 0||v.v!==Ge});for(var[u,d]of n)d.v!==Ge&&!(u in l)&&c.push(u);return c},setPrototypeOf(){yi()}})}var $a,zs,Fs,Hs;function Ji(){if($a===void 0){$a=window,zs=/Firefox/.test(navigator.userAgent);var t=Element.prototype,e=Node.prototype,n=Text.prototype;Fs=Un(e,"firstChild").get,Hs=Un(e,"nextSibling").get,Za(t)&&(t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__style=void 0,t.__e=void 0),Za(n)&&(n.__t=void 0)}}function rn(t=""){return document.createTextNode(t)}function Qn(t){return Fs.call(t)}function wr(t){return Hs.call(t)}function P(t,e){return Qn(t)}function z(t,e=!1){{var n=Qn(t);return n instanceof Comment&&n.data===""?wr(n):n}}function j(t,e=1,n=!1){let a=t;for(;e--;)a=wr(a);return a}function Qi(t){t.textContent=""}function Us(){return!1}let es=!1;function $i(){es||(es=!0,document.addEventListener("reset",t=>{Promise.resolve().then(()=>{if(!t.defaultPrevented)for(const e of t.target.elements)e.__on_r?.()})},{capture:!0}))}function Yr(t){var e=pe,n=ye;at(null),Mt(null);try{return t()}finally{at(e),Mt(n)}}function el(t,e,n,a=n){t.addEventListener(e,()=>Yr(n));const s=t.__on_r;s?t.__on_r=()=>{s(),a(!0)}:t.__on_r=()=>a(!0),$i()}function js(t){ye===null&&pe===null&&pi(),pe!==null&&(pe.f&mt)!==0&&ye===null&&gi(),Pn&&hi()}function tl(t,e){var n=e.last;n===null?e.last=e.first=t:(n.next=t,t.prev=n,e.last=t)}function It(t,e,n,a=!0){var s=ye;s!==null&&(s.f&ft)!==0&&(t|=ft);var o={ctx:Me,deps:null,nodes_start:null,nodes_end:null,f:t|ot,first:null,fn:e,last:null,next:null,parent:s,b:s&&s.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{Rr(o),o.f|=xa}catch(c){throw st(o),c}else e!==null&&Sn(o);if(a){var i=o;if(n&&i.deps===null&&i.teardown===null&&i.nodes_start===null&&i.first===i.last&&(i.f&er)===0&&(i=i.first,(t&Yt)!==0&&(t&nn)!==0&&i!==null&&(i.f|=nn)),i!==null&&(i.parent=s,s!==null&&tl(i,s),pe!==null&&(pe.f&Qe)!==0&&(t&En)===0)){var l=pe;(l.effects??(l.effects=[])).push(i)}}return o}function nl(){return pe!==null&&!kt}function Vs(t){const e=It(Ur,null,!1);return tt(e,et),e.teardown=t,e}function Ne(t){js();var e=ye.f,n=!pe&&(e&Gt)!==0&&(e&xa)===0;if(n){var a=Me;(a.e??(a.e=[])).push(t)}else return Ws(t)}function Ws(t){return It(Pa|ys,t,!1)}function rl(t){return js(),It(Ur|ys,t,!0)}function al(t){Ht.ensure();const e=It(En|er,t,!0);return(n={})=>new Promise(a=>{n.outro?Vn(e,()=>{st(e),a(void 0)}):(st(e),a(void 0))})}function sl(t){return It(Pa,t,!1)}function ol(t){return It(Ta|er,t,!0)}function Gr(t,e=0){return It(Ur|e,t,!0)}function ve(t,e=[],n=[]){Gi(e,n,a=>{It(Ur,()=>t(...a.map(r)),!0)})}function rr(t,e=0){var n=It(Yt|e,t,!0);return n}function Ct(t,e=!0){return It(Gt|er,t,!0,e)}function qs(t){var e=t.teardown;if(e!==null){const n=Pn,a=pe;ns(!0),at(null);try{e.call(null)}finally{ns(n),at(a)}}}function Ks(t,e=!1){var n=t.first;for(t.first=t.last=null;n!==null;){const s=n.ac;s!==null&&Yr(()=>{s.abort(Hn)});var a=n.next;(n.f&En)!==0?n.parent=null:st(n,e),n=a}}function il(t){for(var e=t.first;e!==null;){var n=e.next;(e.f&Gt)===0&&st(e),e=n}}function st(t,e=!0){var n=!1;(e||(t.f&ui)!==0)&&t.nodes_start!==null&&t.nodes_end!==null&&(ll(t.nodes_start,t.nodes_end),n=!0),Ks(t,e&&!n),Br(t,0),tt(t,Ut);var a=t.transitions;if(a!==null)for(const o of a)o.stop();qs(t);var s=t.parent;s!==null&&s.first!==null&&Ys(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes_start=t.nodes_end=t.ac=null}function ll(t,e){for(;t!==null;){var n=t===e?null:wr(t);t.remove(),t=n}}function Ys(t){var e=t.parent,n=t.prev,a=t.next;n!==null&&(n.next=a),a!==null&&(a.prev=n),e!==null&&(e.first===t&&(e.first=a),e.last===t&&(e.last=n))}function Vn(t,e,n=!0){var a=[];Da(t,a,!0),Gs(a,()=>{n&&st(t),e&&e()})}function Gs(t,e){var n=t.length;if(n>0){var a=()=>--n||e();for(var s of t)s.out(a)}else e()}function Da(t,e,n){if((t.f&ft)===0){if(t.f^=ft,t.transitions!==null)for(const i of t.transitions)(i.is_global||n)&&e.push(i);for(var a=t.first;a!==null;){var s=a.next,o=(a.f&nn)!==0||(a.f&Gt)!==0&&(t.f&Yt)!==0;Da(a,e,o?n:!1),a=s}}}function Na(t){Xs(t,!0)}function Xs(t,e){if((t.f&ft)!==0){t.f^=ft,(t.f&et)===0&&(tt(t,ot),Sn(t));for(var n=t.first;n!==null;){var a=n.next,s=(n.f&nn)!==0||(n.f&Gt)!==0;Xs(n,s?e:!1),n=a}if(t.transitions!==null)for(const o of t.transitions)(o.is_global||e)&&o.in()}}function Zs(t,e){for(var n=t.nodes_start,a=t.nodes_end;n!==null;){var s=n===a?null:wr(n);e.append(n),n=s}}let Wn=!1;function ts(t){Wn=t}let Pn=!1;function ns(t){Pn=t}let pe=null,kt=!1;function at(t){pe=t}let ye=null;function Mt(t){ye=t}let Vt=null;function Js(t){pe!==null&&(Vt===null?Vt=[t]:Vt.push(t))}let $e=null,dt=0,ht=null;function cl(t){ht=t}let Qs=1,fr=0,yn=fr;function rs(t){yn=t}let $t=!1;function $s(){return++Qs}function Xr(t){var e=t.f;if((e&ot)!==0)return!0;if((e&an)!==0){var n=t.deps,a=(e&mt)!==0;if(e&Qe&&(t.f&=~Ir),n!==null){var s,o,i=(e&Mr)!==0,l=a&&ye!==null&&!$t,c=n.length;if((i||l)&&(ye===null||(ye.f&Ut)===0)){var u=t,d=u.parent;for(s=0;s<c;s++)o=n[s],(i||!o?.reactions?.includes(u))&&(o.reactions??(o.reactions=[])).push(u);i&&(u.f^=Mr),l&&d!==null&&(d.f&mt)===0&&(u.f^=mt)}for(s=0;s<c;s++)if(o=n[s],Xr(o)&&Bs(o),o.wv>t.wv)return!0}(!a||ye!==null&&!$t)&&tt(t,et)}return!1}function eo(t,e,n=!0){var a=t.reactions;if(a!==null&&!Vt?.includes(t))for(var s=0;s<a.length;s++){var o=a[s];(o.f&Qe)!==0?eo(o,e,!1):e===o&&(n?tt(o,ot):(o.f&et)!==0&&tt(o,an),Sn(o))}}function to(t){var w;var e=$e,n=dt,a=ht,s=pe,o=$t,i=Vt,l=Me,c=kt,u=yn,d=t.f;$e=null,dt=0,ht=null,$t=(d&mt)!==0&&(kt||!Wn||pe===null),pe=(d&(Gt|En))===0?t:null,Vt=null,Zn(t.ctx),kt=!1,yn=++fr,t.ac!==null&&(Yr(()=>{t.ac.abort(Hn)}),t.ac=null);try{t.f|=ua;var f=t.fn,v=f(),_=t.deps;if($e!==null){var h;if(Br(t,dt),_!==null&&dt>0)for(_.length=dt+$e.length,h=0;h<$e.length;h++)_[dt+h]=$e[h];else t.deps=_=$e;if(!$t||(d&Qe)!==0&&t.reactions!==null)for(h=dt;h<_.length;h++)((w=_[h]).reactions??(w.reactions=[])).push(t)}else _!==null&&dt<_.length&&(Br(t,dt),_.length=dt);if(nr()&&ht!==null&&!kt&&_!==null&&(t.f&(Qe|an|ot))===0)for(h=0;h<ht.length;h++)eo(ht[h],t);return s!==null&&s!==t&&(fr++,ht!==null&&(a===null?a=ht:a.push(...ht))),(t.f&mn)!==0&&(t.f^=mn),v}catch(g){return xs(g)}finally{t.f^=ua,$e=e,dt=n,ht=a,pe=s,$t=o,Vt=i,Zn(l),kt=c,yn=u}}function ul(t,e){let n=e.reactions;if(n!==null){var a=ai.call(n,t);if(a!==-1){var s=n.length-1;s===0?n=e.reactions=null:(n[a]=n[s],n.pop())}}n===null&&(e.f&Qe)!==0&&($e===null||!$e.includes(e))&&(tt(e,an),(e.f&(mt|Mr))===0&&(e.f^=Mr),Os(e),Br(e,0))}function Br(t,e){var n=t.deps;if(n!==null)for(var a=e;a<n.length;a++)ul(t,n[a])}function Rr(t){var e=t.f;if((e&Ut)===0){tt(t,et);var n=ye,a=Wn;ye=t,Wn=!0;try{(e&Yt)!==0?il(t):Ks(t),qs(t);var s=to(t);t.teardown=typeof s=="function"?s:null,t.wv=Qs;var o;_s&&Bi&&(t.f&ot)!==0&&t.deps}finally{Wn=a,ye=n}}}async function no(){await Promise.resolve(),Ds()}function r(t){var e=t.f,n=(e&Qe)!==0;if(pe!==null&&!kt){var a=ye!==null&&(ye.f&Ut)!==0;if(!a&&!Vt?.includes(t)){var s=pe.deps;if((pe.f&ua)!==0)t.rv<fr&&(t.rv=fr,$e===null&&s!==null&&s[dt]===t?dt++:$e===null?$e=[t]:(!$t||!$e.includes(t))&&$e.push(t));else{(pe.deps??(pe.deps=[])).push(t);var o=t.reactions;o===null?t.reactions=[pe]:o.includes(pe)||o.push(pe)}}}else if(n&&t.deps===null&&t.effects===null){var i=t,l=i.parent;l!==null&&(l.f&mt)===0&&(i.f^=mt)}if(Pn){if(en.has(t))return en.get(t);if(n){i=t;var c=i.v;return((i.f&et)===0&&i.reactions!==null||ro(i))&&(c=Aa(i)),en.set(i,c),c}}else if(n){if(i=t,Et?.has(i))return Et.get(i);Xr(i)&&Bs(i)}if(Et?.has(t))return Et.get(t);if((t.f&mn)!==0)throw t.v;return t.v}function ro(t){if(t.v===Ge)return!0;if(t.deps===null)return!1;for(const e of t.deps)if(en.has(e)||(e.f&Qe)!==0&&ro(e))return!0;return!1}function lt(t){var e=kt;try{return kt=!0,t()}finally{kt=e}}const dl=-7169;function tt(t,e){t.f=t.f&dl|e}function fl(t){if(!(typeof t!="object"||!t||t instanceof EventTarget)){if(wn in t)ma(t);else if(!Array.isArray(t))for(let e in t){const n=t[e];typeof n=="object"&&n&&wn in n&&ma(n)}}}function ma(t,e=new Set){if(typeof t=="object"&&t!==null&&!(t instanceof EventTarget)&&!e.has(t)){e.add(t),t instanceof Date&&t.getTime();for(let a in t)try{ma(t[a],e)}catch{}const n=ka(t);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const a=ms(n);for(let s in a){const o=a[s].get;if(o)try{o.call(t)}catch{}}}}}const vl=["touchstart","touchmove"];function hl(t){return vl.includes(t)}const ao=new Set,wa=new Set;function gl(t,e,n,a={}){function s(o){if(a.capture||or.call(e,o),!o.cancelBubble)return Yr(()=>n?.call(this,o))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?kn(()=>{e.addEventListener(t,s,a)}):e.addEventListener(t,s,a),s}function La(t,e,n,a,s){var o={capture:a,passive:s},i=gl(t,e,n,o);(e===document.body||e===window||e===document||e instanceof HTMLMediaElement)&&Vs(()=>{e.removeEventListener(t,i,o)})}function nt(t){for(var e=0;e<t.length;e++)ao.add(t[e]);for(var n of wa)n(t)}let as=null;function or(t){var e=this,n=e.ownerDocument,a=t.type,s=t.composedPath?.()||[],o=s[0]||t.target;as=t;var i=0,l=as===t&&t.__root;if(l){var c=s.indexOf(l);if(c!==-1&&(e===document||e===window)){t.__root=e;return}var u=s.indexOf(e);if(u===-1)return;c<=u&&(i=c)}if(o=s[i]||t.target,o!==e){la(t,"currentTarget",{configurable:!0,get(){return o||n}});var d=pe,f=ye;at(null),Mt(null);try{for(var v,_=[];o!==null;){var h=o.assignedSlot||o.parentNode||o.host||null;try{var w=o["__"+a];if(w!=null&&(!o.disabled||t.target===o))if(Ca(w)){var[g,...C]=w;g.apply(o,[t,...C])}else w.call(o,t)}catch(x){v?_.push(x):v=x}if(t.cancelBubble||h===e||h===null)break;o=h}if(v){for(let x of _)queueMicrotask(()=>{throw x});throw v}}finally{t.__root=e,delete t.currentTarget,at(d),Mt(f)}}}function so(t){var e=document.createElement("template");return e.innerHTML=t.replaceAll("<!>","<!---->"),e.content}function vr(t,e){var n=ye;n.nodes_start===null&&(n.nodes_start=t,n.nodes_end=e)}function K(t,e){var n=(e&Di)!==0,a=(e&Ni)!==0,s,o=!t.startsWith("<!>");return()=>{s===void 0&&(s=so(o?t:"<!>"+t),n||(s=Qn(s)));var i=a||zs?document.importNode(s,!0):s.cloneNode(!0);if(n){var l=Qn(i),c=i.lastChild;vr(l,c)}else vr(i,i);return i}}function pl(t,e,n="svg"){var a=!t.startsWith("<!>"),s=`<${n}>${a?t:"<!>"+t}</${n}>`,o;return()=>{if(!o){var i=so(s),l=Qn(i);o=Qn(l)}var c=o.cloneNode(!0);return vr(c,c),c}}function _l(t,e){return pl(t,e,"svg")}function Be(t=""){{var e=rn(t+"");return vr(e,e),e}}function Z(){var t=document.createDocumentFragment(),e=document.createComment(""),n=rn();return t.append(e,n),vr(e,n),t}function m(t,e){t!==null&&t.before(e)}function yf(){var t;return(t=window.__svelte??(window.__svelte={})).uid??(t.uid=1),`c${window.__svelte.uid++}`}function Wt(t,e){var n=e==null?"":typeof e=="object"?e+"":e;n!==(t.__t??(t.__t=t.nodeValue))&&(t.__t=n,t.nodeValue=n+"")}function ml(t,e){return wl(t,e)}const zn=new Map;function wl(t,{target:e,anchor:n,props:a={},events:s,context:o,intro:i=!0}){Ji();var l=new Set,c=f=>{for(var v=0;v<f.length;v++){var _=f[v];if(!l.has(_)){l.add(_);var h=hl(_);e.addEventListener(_,or,{passive:h});var w=zn.get(_);w===void 0?(document.addEventListener(_,or,{passive:h}),zn.set(_,1)):zn.set(_,w+1)}}};c(Ea(ao)),wa.add(c);var u=void 0,d=al(()=>{var f=n??e.appendChild(rn());return Wi(f,{pending:()=>{}},v=>{if(o){re({});var _=Me;_.c=o}s&&(a.$$events=s),u=t(v,a)||{},o&&ae()}),()=>{for(var v of l){e.removeEventListener(v,or);var _=zn.get(v);--_===0?(document.removeEventListener(v,or),zn.delete(v)):zn.set(v,_)}wa.delete(c),f!==n&&f.parentNode?.removeChild(f)}});return yl.set(u,d),u}let yl=new WeakMap;var Ft,Nt,St,pr,_r;class Zr{constructor(e,n=!0){ct(this,"anchor");xe(this,Ft,new Map);xe(this,Nt,new Map);xe(this,St,new Map);xe(this,pr,!0);xe(this,_r,()=>{var e=Le;if(L(this,Ft).has(e)){var n=L(this,Ft).get(e),a=L(this,Nt).get(n);if(a)Na(a);else{var s=L(this,St).get(n);s&&(L(this,Nt).set(n,s.effect),L(this,St).delete(n),s.fragment.lastChild.remove(),this.anchor.before(s.fragment),a=s.effect)}for(const[o,i]of L(this,Ft)){if(L(this,Ft).delete(o),o===e)break;const l=L(this,St).get(i);l&&(st(l.effect),L(this,St).delete(i))}for(const[o,i]of L(this,Nt)){if(o===n)continue;const l=()=>{if(Array.from(L(this,Ft).values()).includes(o)){var u=document.createDocumentFragment();Zs(i,u),u.append(rn()),L(this,St).set(o,{effect:i,fragment:u})}else st(i);L(this,Nt).delete(o)};L(this,pr)||!a?Vn(i,l,!1):l()}}});this.anchor=e,de(this,pr,n)}ensure(e,n){var a=Le,s=Us();if(n&&!L(this,Nt).has(e)&&!L(this,St).has(e))if(s){var o=document.createDocumentFragment(),i=rn();o.append(i),L(this,St).set(e,{effect:Ct(()=>n(i)),fragment:o})}else L(this,Nt).set(e,Ct(()=>n(this.anchor)));if(L(this,Ft).set(a,e),s){for(const[l,c]of L(this,Nt))l===e?a.skipped_effects.delete(c):a.skipped_effects.add(c);for(const[l,c]of L(this,St))l===e?a.skipped_effects.delete(c.effect):a.skipped_effects.add(c.effect);a.add_callback(L(this,_r))}else L(this,_r).call(this)}}Ft=new WeakMap,Nt=new WeakMap,St=new WeakMap,pr=new WeakMap,_r=new WeakMap;const bl=0,aa=1;function Sl(t,e,n,a,s){var o=nr(),i=Ge,l=o?qt(i):_a(i,!1,!1),c=o?qt(i):_a(i,!1,!1),u=new Zr(t);rr(()=>{var d=e(),f=!1;if(ii(d)){var v=Is(),_=!1;const h=w=>{if(!f){_=!0,v();try{w()}finally{Or(),jn||Ds()}}};d.then(w=>{h(()=>{jt(l,w),u.ensure(aa,a&&(g=>a(g,l)))})},w=>{h(()=>{if(jt(c,w),u.ensure(aa,s&&(g=>s(g,c))),!s)throw c.v})}),kn(()=>{_||h(()=>{u.ensure(bl,n)})})}else jt(l,d),u.ensure(aa,a&&(h=>a(h,l)));return()=>{f=!0}})}function q(t,e,n=!1){var a=new Zr(t),s=n?nn:0;function o(i,l){a.ensure(i,l)}rr(()=>{var i=!1;e((l,c=!0)=>{i=!0,o(c,l)}),i||o(!1,null)},s)}function _e(t,e){Gr(()=>{var n=e();for(var a in n){var s=n[a];s?t.style.setProperty(a,s):t.style.removeProperty(a)}})}function Cl(t,e,n){for(var a=t.items,s=[],o=e.length,i=0;i<o;i++)Da(e[i].e,s,!0);var l=o>0&&s.length===0&&n!==null;if(l){var c=n.parentNode;Qi(c),c.append(n),a.clear(),xt(t,e[0].prev,e[o-1].next)}Gs(s,()=>{for(var u=0;u<o;u++){var d=e[u];l||(a.delete(d.k),xt(t,d.prev,d.next)),st(d.e,!l)}})}function Jr(t,e,n,a,s,o=null){var i=t,l={flags:e,items:new Map,first:null},c=(e&Ss)!==0;if(c){var u=t;i=u.appendChild(rn())}var d=null,f=!1,v=new Map,_=Kr(()=>{var C=n();return Ca(C)?C:C==null?[]:Ea(C)}),h,w;function g(){El(w,h,l,v,i,s,e,a,n),o!==null&&(h.length===0?d?Na(d):d=Ct(()=>o(i)):d!==null&&Vn(d,()=>{d=null}))}rr(()=>{w??(w=ye),h=r(_);var C=h.length;if(!(f&&C===0)){f=C===0;var x,b,E,D;if(Us()){var T=new Set,k=Le;for(b=0;b<C;b+=1){E=h[b],D=a(E,b);var S=l.items.get(D)??v.get(D);S?(e&(Vr|Wr))!==0&&oo(S,E,b,e):(x=io(null,l,null,null,E,D,b,s,e,n,!0),v.set(D,x)),T.add(D)}for(const[M,Q]of l.items)T.has(M)||k.skipped_effects.add(Q.e);k.add_callback(g)}else g();r(_)}})}function El(t,e,n,a,s,o,i,l,c){var u=(i&Ci)!==0,d=(i&(Vr|Wr))!==0,f=e.length,v=n.items,_=n.first,h=_,w,g=null,C,x=[],b=[],E,D,T,k;if(u)for(k=0;k<f;k+=1)E=e[k],D=l(E,k),T=v.get(D),T!==void 0&&(T.a?.measure(),(C??(C=new Set)).add(T));for(k=0;k<f;k+=1){if(E=e[k],D=l(E,k),T=v.get(D),T===void 0){var S=a.get(D);if(S!==void 0){a.delete(D),v.set(D,S);var M=g?g.next:h;xt(n,g,S),xt(n,S,M),sa(S,M,s),g=S}else{var Q=h?h.e.nodes_start:s;g=io(Q,n,g,g===null?n.first:g.next,E,D,k,o,i,c)}v.set(D,g),x=[],b=[],h=g.next;continue}if(d&&oo(T,E,k,i),(T.e.f&ft)!==0&&(Na(T.e),u&&(T.a?.unfix(),(C??(C=new Set)).delete(T))),T!==h){if(w!==void 0&&w.has(T)){if(x.length<b.length){var le=b[0],U;g=le.prev;var ee=x[0],$=x[x.length-1];for(U=0;U<x.length;U+=1)sa(x[U],le,s);for(U=0;U<b.length;U+=1)w.delete(b[U]);xt(n,ee.prev,$.next),xt(n,g,ee),xt(n,$,le),h=le,g=$,k-=1,x=[],b=[]}else w.delete(T),sa(T,h,s),xt(n,T.prev,T.next),xt(n,T,g===null?n.first:g.next),xt(n,g,T),g=T;continue}for(x=[],b=[];h!==null&&h.k!==D;)(h.e.f&ft)===0&&(w??(w=new Set)).add(h),b.push(h),h=h.next;if(h===null)continue;T=h}x.push(T),g=T,h=T.next}if(h!==null||w!==void 0){for(var Y=w===void 0?[]:Ea(w);h!==null;)(h.e.f&ft)===0&&Y.push(h),h=h.next;var J=Y.length;if(J>0){var se=(i&Ss)!==0&&f===0?s:null;if(u){for(k=0;k<J;k+=1)Y[k].a?.measure();for(k=0;k<J;k+=1)Y[k].a?.fix()}Cl(n,Y,se)}}u&&kn(()=>{if(C!==void 0)for(T of C)T.a?.apply()}),t.first=n.first&&n.first.e,t.last=g&&g.e;for(var ne of a.values())st(ne.e);a.clear()}function oo(t,e,n,a){(a&Vr)!==0&&jt(t.v,e),(a&Wr)!==0?jt(t.i,n):t.i=n}function io(t,e,n,a,s,o,i,l,c,u,d){var f=(c&Vr)!==0,v=(c&Ei)===0,_=f?v?_a(s,!1,!1):qt(s):s,h=(c&Wr)===0?i:qt(i),w={i:h,v:_,k:o,a:null,e:null,prev:n,next:a};try{if(t===null){var g=document.createDocumentFragment();g.append(t=rn())}return w.e=Ct(()=>l(t,_,h,u),Ii),w.e.prev=n&&n.e,w.e.next=a&&a.e,n===null?d||(e.first=w):(n.next=w,n.e.next=w.e),a!==null&&(a.prev=w,a.e.prev=w.e),w}finally{}}function sa(t,e,n){for(var a=t.next?t.next.e.nodes_start:n,s=e?e.e.nodes_start:n,o=t.e.nodes_start;o!==null&&o!==a;){var i=wr(o);s.before(o),o=i}}function xt(t,e,n){e===null?t.first=n:(e.next=n,e.e.next=n&&n.e),n!==null&&(n.prev=e,n.e.prev=e&&e.e)}function be(t,e,...n){var a=new Zr(t);rr(()=>{const s=e()??null;a.ensure(s,s&&(o=>s(o,...n)))},nn)}function kl(t,e,n){var a=new Zr(t);rr(()=>{var s=e()??null;a.ensure(s,s&&(o=>n(o,s)))},nn)}function lo(t){var e,n,a="";if(typeof t=="string"||typeof t=="number")a+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=lo(t[e]))&&(a&&(a+=" "),a+=n)}else for(n in t)t[n]&&(a&&(a+=" "),a+=n);return a}function Pl(){for(var t,e,n=0,a="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=lo(t))&&(a&&(a+=" "),a+=e);return a}function Ce(t){return typeof t=="object"?Pl(t):t??""}const ss=[...` 	
\r\f \v\uFEFF`];function xl(t,e,n){var a=t==null?"":""+t;if(e&&(a=a?a+" "+e:e),n){for(var s in n)if(n[s])a=a?a+" "+s:s;else if(a.length)for(var o=s.length,i=0;(i=a.indexOf(s,i))>=0;){var l=i+o;(i===0||ss.includes(a[i-1]))&&(l===a.length||ss.includes(a[l]))?a=(i===0?"":a.substring(0,i))+a.substring(l+1):i=l}}return a===""?null:a}function Tl(t,e){return t==null?null:String(t)}function Ee(t,e,n,a,s,o){var i=t.__className;if(i!==n||i===void 0){var l=xl(n,a,o);l==null?t.removeAttribute("class"):t.className=l,t.__className=n}else if(o&&s!==o)for(var c in o){var u=!!o[c];(s==null||u!==!!s[c])&&t.classList.toggle(c,u)}return o}function Cn(t,e,n,a){var s=t.__style;if(s!==e){var o=Tl(e);o==null?t.removeAttribute("style"):t.style.cssText=o,t.__style=e}return a}const Al=Symbol("is custom element"),Dl=Symbol("is html");function bf(t,e){var n=Ma(t);n.value===(n.value=e??void 0)||t.value===e&&(e!==0||t.nodeName!=="PROGRESS")||(t.value=e??"")}function Sf(t,e){var n=Ma(t);n.checked!==(n.checked=e??void 0)&&(t.checked=e)}function Oe(t,e,n,a){var s=Ma(t);s[e]!==(s[e]=n)&&(e==="loading"&&(t[fi]=n),n==null?t.removeAttribute(e):typeof n!="string"&&Nl(t).includes(e)?t[e]=n:t.setAttribute(e,n))}function Ma(t){return t.__attributes??(t.__attributes={[Al]:t.nodeName.includes("-"),[Dl]:t.namespaceURI===Li})}var os=new Map;function Nl(t){var e=t.getAttribute("is")||t.nodeName,n=os.get(e);if(n)return n;os.set(e,n=[]);for(var a,s=t,o=Element.prototype;o!==s;){a=ms(s);for(var i in a)a[i].set&&n.push(i);s=ka(s)}return n}function Ll(t,e,n=e){var a=new WeakSet;el(t,"input",async s=>{var o=s?t.defaultValue:t.value;if(o=oa(t)?ia(o):o,n(o),Le!==null&&a.add(Le),await no(),o!==(o=e())){var i=t.selectionStart,l=t.selectionEnd,c=t.value.length;if(t.value=o??"",l!==null){var u=t.value.length;i===l&&l===c&&u>c?(t.selectionStart=u,t.selectionEnd=u):(t.selectionStart=i,t.selectionEnd=Math.min(l,u))}}}),lt(e)==null&&t.value&&(n(oa(t)?ia(t.value):t.value),Le!==null&&a.add(Le)),Gr(()=>{var s=e();if(t===document.activeElement){var o=Ar??Le;if(a.has(o))return}oa(t)&&s===ia(t.value)||t.type==="date"&&!s&&!t.value||s!==t.value&&(t.value=s??"")})}function oa(t){var e=t.type;return e==="number"||e==="range"}function ia(t){return t===""?null:+t}function is(t,e){return t===e||t?.[wn]===e}function it(t={},e,n,a){return sl(()=>{var s,o;return Gr(()=>{s=o,o=[],lt(()=>{t!==n(...o)&&(e(t,...o),s&&is(n(...s),t)&&e(null,...s))})}),()=>{kn(()=>{o&&is(n(...o),t)&&e(null,...o)})}}),t}function Qr(t=!1){const e=Me,n=e.l.u;if(!n)return;let a=()=>fl(e.s);if(t){let s=0,o={};const i=mr(()=>{let l=!1;const c=e.s;for(const u in c)c[u]!==o[u]&&(o[u]=c[u],l=!0);return l&&s++,s});a=()=>r(i)}n.b.length&&rl(()=>{ls(e,a),ca(n.b)}),Ne(()=>{const s=lt(()=>n.m.map(li));return()=>{for(const o of s)typeof o=="function"&&o()}}),n.a.length&&Ne(()=>{ls(e,a),ca(n.a)})}function ls(t,e){if(t.l.s)for(const n of t.l.s)r(n);e()}let Tr=!1;function Ml(t){var e=Tr;try{return Tr=!1,[t(),Tr]}finally{Tr=e}}function fe(t,e,n,a){var s=!tr||(n&Pi)!==0,o=(n&Ti)!==0,i=(n&Ai)!==0,l=a,c=!0,u=()=>(c&&(c=!1,l=i?lt(a):a),l),d;if(o){var f=wn in t||di in t;d=Un(t,e)?.set??(f&&e in t?b=>t[e]=b:void 0)}var v,_=!1;o?[v,_]=Ml(()=>t[e]):v=t[e],v===void 0&&a!==void 0&&(v=u(),d&&(s&&mi(),d(v)));var h;if(s?h=()=>{var b=t[e];return b===void 0?u():(c=!0,b)}:h=()=>{var b=t[e];return b!==void 0&&(l=void 0),b===void 0?l:b},s&&(n&xi)===0)return h;if(d){var w=t.$$legacy;return(function(b,E){return arguments.length>0?((!s||!E||w||_)&&d(E?h():b),b):h()})}var g=!1,C=((n&ki)!==0?mr:Kr)(()=>(g=!1,h()));o&&r(C);var x=ye;return(function(b,E){if(arguments.length>0){const D=E?r(C):s&&o?Fe(b):b;return p(C,D),g=!0,l!==void 0&&(l=D),b}return Pn&&g||(x.f&Ut)!==0?C.v:r(C)})}function ke(t){Me===null&&bs(),tr&&Me.l!==null?Il(Me).m.push(t):Ne(()=>{const e=lt(t);if(typeof e=="function")return e})}function Il(t){var e=t.l;return e.u??(e.u={a:[],b:[],m:[]})}const Ol="5";var ps;typeof window<"u"&&((ps=window.__svelte??(window.__svelte={})).v??(ps.v=new Set)).add(Ol);Ri();const co={};function Bl(t){qe(co,t)}function uo(){const t=We(co);if(!t)throw new Error("No SearchContext found");return t}const fo={};function Rl(t){qe(fo,t)}function Ot(){const t=We(fo);if(!t)throw new Error("No AppHistoryContext found");return t}function zl(t,e){re(e,!0);const{addSearchParam:n,deleteSearchParam:a,getAppLocation:s}=Ot(),o=F(()=>s().searchParams),i="search",l=Fe({value:s().searchParams.get(i)||""}),c=f=>{(r(o).get(i)||"")!==f&&(f===""?a(i):n(i,f))};Ne(()=>{r(o);const f=l.value;lt(()=>{c(f)})}),Bl(l);var u=Z(),d=z(u);be(d,()=>e.children??Ae),m(t,u),ae()}const vo={};function Fl(t){qe(vo,t)}function ho(){const t=We(vo);if(!t)throw new Error("No TagSearchContext found");return t}function Hl(t,e){re(e,!0);const n=Fe({value:""});Fl(n);var a=Z(),s=z(a);be(s,()=>e.children??Ae),m(t,a),ae()}const go={};function Ul(t){qe(go,t)}function po(){const t=We(go);if(!t)throw new Error("No FeedOrderContext found");return t}function jl(t,e){re(e,!0);const{addSearchParam:n,deleteSearchParam:a,getAppLocation:s}=Ot(),o=F(()=>s().searchParams),i="feedOrder";let l=V(Fe(s().searchParams.get(i)||"newest"));const c=_=>{(r(o).get(i)||"newest")!==_&&(_==="newest"?a(i):n(i,_))};Ne(()=>{r(o),r(l),lt(()=>{c(r(l))})}),Ul({getFeedOrder:()=>r(l),setFeedOrder:_=>{p(l,_,!0)}});var f=Z(),v=z(f);be(v,()=>e.children??Ae),m(t,f),ae()}const _o={};function Vl(t){qe(_o,t)}function $r(){const t=We(_o);if(!t)throw new Error("No SidebarContext found");return t}function Wl(t,e){re(e,!0);const n=(d,f)=>{if(!f)return d;if(f.type==="closed")return{type:"closed"};switch(d.type){case"opened":return f.type==="open"?{type:"opening"}:f.type==="close"?{type:"closing"}:f.type==="swipe"?{type:"openSwiping"}:d;case"closed":return f.type==="open"?{type:"opening"}:f.type==="swipe"?{type:"closeSwiping"}:d;case"openSwiping":return f.type==="open"?{type:"opening"}:f.type==="close"?{type:"closing"}:d;case"closeSwiping":return f.type==="open"?{type:"opening"}:f.type==="close"?{type:"closing"}:d;case"opening":return f.type==="opened"?{type:"opened"}:d;default:return d}};let a=V(Fe(n({type:"closed"})));const s=d=>{const f=lt(()=>r(a));p(a,n(f,d),!0)};Vl({sidebarOpen:()=>{s({type:"open"})},sidebarClose:()=>{s({type:"close"})},handleComputeState:s,getSidebarState:()=>r(a)});var c=Z(),u=z(c);be(u,()=>e.children??Ae),m(t,c),ae()}const mo={};function ql(t){qe(mo,t)}function wo(){const t=We(mo);if(!t)throw new Error("No SelectedTagsContext found");return t}const yo=(t,e)=>{let n=null;return()=>{n&&clearTimeout(n),n=setTimeout(()=>{n=null,t()},e)}};async function Cf(){if(navigator.storage&&navigator.storage.persist)try{await navigator.storage.persisted()||await navigator.storage.persist()}catch{console.error("")}}const Kl=(t,e)=>{if(t.size!==e.size)return!0;for(const n of t)if(!e.has(n))return!0;return!1};function Yl(t,e){re(e,!0);const{getAppLocation:n,replace:a}=Ot(),s=F(n),o=F(()=>r(s).searchParams),i="selectedTags",l=()=>new Set(n().searchParams.get(i)?.split(",")||[]);let c=V(Fe(l()));const u=()=>{const g=l();if(Kl(g,r(c))){const C=r(s).pathname;r(c).size===0?r(o).delete(i):r(o).set(i,Array.from(r(c)).join(",")),a(`${C}${r(o).size>0?`?${r(o).toString()}`:""}`)}};Ne(()=>{r(o),r(c),lt(()=>{u()})}),ql({getSelectedTags:()=>r(c),addTag:g=>{r(c).has(g)||p(c,new Set([...r(c),g]),!0)},removeTag:g=>{const C=new Set(r(c));C.delete(g),p(c,C,!0)},clearTags:()=>{p(c,new Set,!0)}});var h=Z(),w=z(h);be(w,()=>e.children??Ae),m(t,h),ae()}const bo={};function Gl(t){qe(bo,t)}function Ia(){const t=We(bo);if(!t)throw new Error("No LocalDBContext found");return t}const So={};function Xl(t){qe(So,t)}function Zl(){const t=We(So);if(!t)throw new Error("No SettingsContext found");return t}const Co={};function Jl(t){qe(Co,t)}function ar(){const t=We(Co);if(!t)throw new Error("No BroadcastContext found");return t}const Ql="AppStorage",$l=1,ir="account",Lr="settings",ut="notes",bt="tags",ec="syncLog",sn="success",Kt="error",Ke=(t,e,n)=>{t?.addEventListener(e,n)},cs=(t,e)=>new Promise((n,a)=>{const o=t?.transaction(e,"readonly")?.objectStore(e).getAll();Ke(o,sn,()=>{const i=o?.result||[];n(i)}),Ke(o,Kt,i=>{a(i)})}),ya=(t,e,n)=>new Promise((a,s)=>{const i=t?.transaction(e,"readonly")?.objectStore(e).get(n);Ke(i,sn,()=>{const l=i?.result?.data;a(l)}),Ke(i,Kt,l=>{s(l)})}),dr=(t,e,n,a)=>new Promise((s,o)=>{const c=t?.transaction(e,"readwrite")?.objectStore(e)?.put({id:n,data:a});Ke(c,sn,()=>{s()}),Ke(c,Kt,u=>{o(u)})}),sr=async(t,e,n)=>{const s=t?.transaction(e,"readwrite")?.objectStore(e);await Promise.all(n.map(o=>{const i=s?.put(o);return new Promise((l,c)=>{Ke(i,sn,()=>{l()}),Ke(i,Kt,u=>{c(u)})})}))},tc=(t,e,n)=>new Promise((a,s)=>{const l=t?.transaction(e,"readwrite")?.objectStore(e)?.delete(n);Ke(l,sn,()=>{a()}),Ke(l,Kt,c=>{s(c)})}),Fn=async(t,e,n)=>{const s=t?.transaction(e,"readwrite")?.objectStore(e);await Promise.all(n.map(o=>{const i=s?.delete(o);return new Promise((l,c)=>{Ke(i,sn,()=>{l()}),Ke(i,Kt,u=>{c(u)})})}))},fn=(t,e)=>new Promise((n,a)=>{const i=t?.transaction(e,"readwrite")?.objectStore(e)?.clear();Ke(i,sn,()=>{n()}),Ke(i,Kt,l=>{a(l)})});function nc(t,e){re(e,!0);let n=V(Fe({showFavicon:!0}));const{getDB:a}=Ia(),{createBroadcastChannel:s,tabId:o}=ar(),i=s(),l=F(a),c=async()=>{const w=await ya(r(l),Lr,"default");w&&p(n,w,!0)},u=async()=>{c()},d=async w=>{const g=JSON.parse(w.data),C=g;if(g.tabId&&g.tabId===o){C.type==="exit"&&(p(n,{showFavicon:!0},!0),fn(r(l),Lr));return}C.type==="updateSettings"?c():C.type==="exit"&&p(n,{showFavicon:!0},!0)},f=()=>r(n).showFavicon,v=async w=>{r(n).showFavicon=w,await dr(r(l),Lr,"default",{showFavicon:w}),i.postMessage({type:"updateSettings"})};ke(()=>(u(),i.addEventListener(d),()=>{i.removeEventListener(d)})),Xl({getFaviconEnabled:f,setFaviconShown:v});var _=Z(),h=z(_);be(h,()=>e.children??Ae),m(t,_),ae()}const Eo={};function rc(t){qe(Eo,t)}function ko(){const t=We(Eo);if(!t)throw new Error("No AccountContext found");return t}function ac(t,e){re(e,!0);let n=V(void 0);const{getDB:a}=Ia(),{createBroadcastChannel:s,tabId:o}=ar(),i=F(a),l=s(),c=async()=>{const b=await ya(r(i),ir,"default");p(n,b,!0)},u=b=>dr(r(i),ir,"default",b),d=async b=>{const E=await ya(r(i),ir,"default");E!==void 0&&p(n,E,!0),b(E)},f=async b=>{const E=JSON.parse(b.data);if(E.tabId&&E.tabId===o)return;const D=E;D.type==="initLocalAccount"?p(n,null):D.type==="initCloudAccount"?c():D.type==="disconnectCloudAccount"?p(n,null):D.type==="exit"?p(n,void 0):D.type==="updateAccount"&&c()};ke(()=>(l.addEventListener(f),()=>{l.removeEventListener(f)})),rc({init:d,getAccount:()=>r(n),initLocalAccount:async()=>{p(n,null),await u(null),l.postMessage({type:"initLocalAccount"})},initCloudAccount:async b=>{const E={encryptedClientKey:b.encryptedClientKey||"",subscriptionExpires:b.subscriptionExpires||-1,lastSync:-1};await u(E),p(n,E,!0),l.postMessage({type:"initCloudAccount"})},disconnectCloudAccount:async()=>{p(n,null),await u(null),l.postMessage({type:"disconnectCloudAccount"})},updateSubscription:async b=>{if(!r(n))throw new Error("No account to update subscription for");const E={...r(n),subscriptionExpires:b};await u(E),l.postMessage({type:"updateAccount"})},exitApp:async()=>{p(n,void 0),l.postMessage({type:"exit"}),await fn(r(i),ir)}});var C=Z(),x=z(C);be(x,()=>e.children??Ae),m(t,C),ae()}const Po={};function sc(t){qe(Po,t)}function xn(){const t=We(Po);if(!t)throw new Error("No NotesContext found");return t}const oc=()=>crypto.randomUUID(),ic=t=>{const e=new Map;for(const n of t||[])for(const a of n?.data.tags||[])e.set(a,{name:a,count:(e.get(a)?.count||0)+1});return e};function lc(t,e){re(e,!0);const{getDB:n}=Ia(),{createBroadcastChannel:a,tabId:s}=ar(),o=F(n),i=a(),l=720*60*60*1e3;let c=V(0),u=V(!1),d=V(()=>new Map),f=V(()=>[]),v=V(()=>new Map);const _=()=>r(u),h=()=>r(c)>0,w=(B=1)=>{r(c)>0&&p(c,r(c)-B)},g=B=>{const R=r(f)(),y=r(v)(),A={...B};R.push(A),y.set(A.id,A),p(f,()=>R),p(v,()=>y)},C=B=>{const R=r(f)(),y=r(v)(),A=y.get(B.id);A&&(A.data=B.data),p(f,()=>R),p(v,()=>y)},x=B=>{const R=r(f)(),y=r(v)(),A=y.get(B);y.has(B)&&y.delete(B),A?.data?.type==="draft"&&y.delete("draft"),A&&(A.data=void 0),p(f,()=>R),p(v,()=>y)},b=B=>{const R=r(f)(),y=r(v)();for(const A of B){const N=y.get(A);y.has(A)&&y.delete(A),N?.data?.type==="draft"&&y.delete("draft"),N&&(N.data=void 0)}p(f,()=>R),p(v,()=>y)},E=()=>{p(f,()=>[]),p(d,()=>new Map),p(v,()=>new Map)},D=()=>r(f),T=B=>{const R=r(d)();for(const y of B){const A=R.get(y);A?A.count++:R.set(y,{name:y,count:1})}p(d,()=>R)},k=B=>{const R=r(d)();for(const y of B){const A=R.get(y);A&&(A.count--,A.count<=0&&R.delete(y))}p(d,()=>R)},S=async()=>{const[B,R]=await Promise.all([cs(r(o),ut),cs(r(o),bt).then(ue=>ue.reduce((Pe,Re)=>Pe.set(Re.id,Re.data),new Map))]),y=[],A=[],N=new Map;let W=0;for(const ue of B)ue.data.deletedAt&&Date.now()-ue.data.deletedAt>l?y.push(ue.id):(A.push(ue),N.set(ue.id,ue),ue.data.deletedAt&&(W+=1),ue.data.type==="draft"&&N.set("draft",ue));p(c,W,!0);const ce=ic(A),Te=new Map;ce.entries().forEach(([ue,Pe])=>{const Re=R.get(ue);Te.set(ue,{...Pe,...Re})}),await Fn(r(o),ut,y),await fn(r(o),bt),await sr(r(o),bt,Array.from(Te.values()).map(ue=>({id:ue.name,data:{pinned:ue.pinned}}))),p(f,()=>A),p(v,()=>N),p(d,()=>Te),p(u,!0)},M=async()=>{const B=r(v)(),R=B.get("draft");if(R)return R;const y={id:oc(),data:{type:"draft",url:"",name:"",text:"",tags:[],draft:{url:"",name:"",text:"",tags:[],createdAt:Date.now(),updatedAt:Date.now()},createdAt:Date.now(),updatedAt:Date.now()}};return await dr(r(o),ut,y.id,{...y.data}),B.set("draft",y),g(y),i.postMessage({type:"createNoteDraft",data:{note:y}}),y},Q=async B=>{const y=r(v)().get(B);if(!y||!y.data)return;const A=r(d)(),N=y.data.tags;k(N),x(B),i.postMessage({type:"deleteNote",data:{id:B}}),w(),await tc(r(o),ut,B),await Fn(r(o),bt,N.filter(W=>{const ce=A.get(W);return ce?ce.count<=1:!1}))},le=async B=>{const R=r(v)(),y=new Set;for(const N of B){const W=R.get(N);W&&W.data&&W.data.tags.forEach(ce=>y.add(ce))}const A=r(d)();k(Array.from(y)),b(B),w(B.length),await Fn(r(o),ut,B),await Fn(r(o),bt,Array.from(y.values()).filter(N=>{const W=A.get(N);return W?W.count<=1:!1})),i.postMessage({type:"reloadNotes"})},U=async(B,R)=>{const y={id:R.id,data:{...R.data}},A=r(d)(),N=R.data.tags.filter(ce=>!B.data.tags.includes(ce)),W=B.data.tags.filter(ce=>!R.data.tags.includes(ce));await dr(r(o),ut,y.id,{...y.data}),await sr(r(o),bt,N.filter(ce=>!A.has(ce)).map(ce=>({id:ce,data:{}}))),await Fn(r(o),bt,W.filter(ce=>{const Te=A.get(ce);return Te?Te.count<=1:!1})),C(y),k(W),T(N),i.postMessage({type:"updateNote",data:{note:y,tagsToAdd:N,tagsToDelete:W}})},ee=async B=>{const R=r(v)(),y=Y(B);if(!y||!y.data)return;const A=R.get("draft");A&&A.id===y.id&&R.delete("draft");const N={id:B,data:{type:"note",name:y.data.draft?.name??y.data.name,url:y.data.draft?.url??y.data.url,text:y.data.draft?.text??y.data.text,tags:y.data.draft?.tags??y.data.tags,updatedAt:Date.now(),createdAt:y.data.createdAt,pinnedAt:y.data.pinnedAt,deletedAt:y.data.deletedAt,draft:void 0}};return U(y,N)},$=async()=>{E(),i.postMessage({type:"clearNotes"}),p(c,0),await fn(r(o),ut),await fn(r(o),bt)},Y=B=>{const R=r(v)();return B?R.get(B):R.get("draft")},J=async(B,R)=>{const A=r(v)().get(B);if(!A||!A.data)return;const N={id:B,data:{...A.data,pinnedAt:R?Date.now():void 0}};return U(A,N)},se=async B=>{const y=r(v)().get(B);if(!y||!y.data)return;const A={id:B,data:{...y.data,deletedAt:Date.now()}};p(c,r(c)+1),await U(y,A)},ne=async B=>{const R=r(v)(),y=r(f)(),A=[];y.forEach(N=>{N.data&&B.every(W=>N?.data?.tags.includes(W))&&A.push(N.id)});for(const N of A){const W=R.get(N);W?.data&&(W.data.deletedAt=Date.now())}p(c,r(c)+A.length),await sr(r(o),ut,A.map(N=>{const W=R.get(N);return{id:N,data:W?.data}})),i.postMessage({type:"reloadNotes"}),p(v,()=>R),p(f,()=>y)},I=async B=>{const R=r(v)(),y=r(f)(),A=[];y.forEach(N=>{N.data&&B.every(W=>N?.data?.tags.includes(W))&&A.push(N.id)});for(const N of A){const W=R.get(N);W?.data&&(W.data.deletedAt=0)}p(c,r(c)-A.length),await sr(r(o),ut,A.map(N=>{const W=R.get(N);return{id:N,data:W?.data}})),i.postMessage({type:"reloadNotes"}),p(v,()=>R),p(f,()=>y)},G=async B=>{const y=r(v)().get(B);if(!y||!y.data)return;const A={id:B,data:{...y.data,deletedAt:0}};w(),await U(y,A)},O=async(B,R)=>{const y=r(d)();y.set(B,{name:B,count:y.get(B)?.count||0,pinned:R}),await dr(r(o),bt,B,{pinned:R}),i.postMessage({type:"pinTag",data:{tag:B,pinned:R}}),p(d,()=>y)},H=async B=>{const R=r(d)(),y=r(f)(),A=[];y.forEach(N=>{N.data&&B.every(W=>N?.data?.tags.includes(W))&&A.push(N.id)}),await le(A),p(f,()=>y),p(d,()=>R)},ie=async B=>{const R=r(v)(),y={};B.forEach(A=>{const N=R.get(A.id);(!N||N&&N.data&&N.data.updatedAt<A.data.updatedAt)&&(y[A.id]=A)}),await sr(r(o),ut,Object.values(y)),await S(),i.postMessage({type:"reloadNotes"})},oe=async()=>{const B=[];r(f)().forEach(y=>{y&&y.data&&y.data.deletedAt&&B.push(y.id)}),p(c,0),await Fn(r(o),ut,B),await S(),i.postMessage({type:"emptyBin"})},te=async(B,R)=>{if(B===""){const W=r(v)().get("draft");W?B=W.id:B=(await M()).id}const y=Y(B);if(!y||!y.data)return;const A={id:B,data:{...y.data,draft:{...R,tags:R.tags,createdAt:y.data.draft?.createdAt||Date.now(),updatedAt:Date.now()}}};return await U(y,A),y.id},he=async B=>{const R=r(v)(),y=Y(B);if(!y||!y.data||!y.data.draft)return;if(y.data.type==="draft"){B===R.get("draft")?.id&&R.delete("draft"),await Q(B);return}const A={id:B,data:{...y.data,draft:void 0}};return U(y,A)},me=async B=>{const R=JSON.parse(B.data),y=R;if(R.tabId&&R.tabId===s){y.type==="exit"&&(E(),await fn(r(o),ut),await fn(r(o),bt));return}if(y.type==="createNoteDraft"){const A=y.data.note;r(v)().set("draft",A),g(A)}else if(y.type==="updateNote"){const A=y.data,W=r(v)().get(A.note.id);if(!W||!W.data)return;W.data.deletedAt&&!A.note.data.deletedAt?w():!W.data.deletedAt&&A.note.data.deletedAt&&p(c,r(c)+1),C(A.note),k(A.tagsToAdd),T(A.tagsToDelete)}else if(y.type==="deleteNote"){const A=y.data.id,W=r(v)().get(A);if(!W)return;w(),x(A),k(W?.data?.tags||[])}else if(y.type==="pinTag"){const A=y.data.tag,N=y.data.pinned,W=r(d)(),ce=W.get(A);ce&&(ce.pinned=N,W.set(A,ce)),p(d,()=>W)}else y.type==="clearNotes"?E():y.type==="reloadNotes"||y.type==="emptyBin"?S():y.type==="exit"&&E()};ke(()=>(S(),i.addEventListener(me),()=>{i.removeEventListener(me)})),sc({isInitedNotes:_,putNoteDraft:te,deleteNoteDraft:he,deleteNote:Q,pinNote:J,getGetNotes:D,importNotes:ie,clearNotes:$,getNoteById:Y,getGetMapTags:()=>r(d),pinTag:O,moveNoteToBin:se,restoreNoteFromBin:G,checkNotesInBin:h,emptyBin:oe,saveNoteDraft:ee,countNotesInBin:()=>r(c),moveNotesToBinByTags:ne,deleteNotesByTags:H,restoreNotesFromBinByTags:I});var ge=Z(),Se=z(ge);be(Se,()=>e.children??Ae),m(t,ge),ae()}const xo={},cc=()=>({working:!1,swipingRatio:1,isSwiping:!1,duration:.35});function uc(t){qe(xo,t)}function on(){const t=We(xo);if(!t)throw new Error("No AnimationSettingsContext found");return t}function dc(t,e){re(e,!0);let n=Fe(cc());uc(n);var a=Z(),s=z(a);be(s,()=>e.children??Ae),m(t,a),ae()}const To={};function fc(t){qe(To,t)}function Oa(){const t=We(To);if(!t)throw new Error("No ScrollingContext found");return t}function vc(t,e){re(e,!0);let n=V(!1);const a=()=>r(n),s=yo(()=>{p(n,!1)},100);fc({isScrolling:a,enable:()=>{p(n,!0),s()}});var i=Z(),l=z(i);be(l,()=>e.children??Ae),m(t,i),ae()}const Ao={};function hc(t){qe(Ao,t)}function ln(){const t=We(Ao);if(!t)throw new Error("No MobileSizeContext found");return t}function gc(t,e){re(e,!0);const n=()=>window.matchMedia("(max-width: 767px)").matches;let a=V(Fe(n())),s=on();const o=yo(()=>{s.working=!0},16),i=()=>{s.working=!1,o(),requestAnimationFrame(()=>{p(a,n(),!0)})};hc({checkMobileSize:()=>r(a)}),ke(()=>(window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)));var c=Z(),u=z(c);be(u,()=>e.children??Ae),m(t,c),ae()}const Do={};function pc(t){qe(Do,t)}function cn(){const t=We(Do);if(!t)throw new Error("No DialogContext found");return t}function _c(t,e){re(e,!0);let n=V(0),a=V(!1),s=V(!0);pc({checkExistedDialog:()=>r(n)>0,showDialog:()=>{p(n,r(n)+1)},hideDialog:()=>{p(n,r(n)-1)},blockDialog:h=>{p(a,h,!0)},checkBlockedDialog:()=>r(a),setClosableDialog:h=>{p(s,h,!0)},checkClosableDialog:()=>r(s)});var v=Z(),_=z(v);be(_,()=>e.children??Ae),m(t,v),ae()}const No={};function mc(t){qe(No,t)}function Ba(){const t=We(No);if(!t)throw new Error("No ScrollContainerContext found");return t}function wc(t,e){re(e,!0);let n=V(null);mc({setScrollContainer:l=>{p(n,l,!0)},getScrollContainer:()=>r(n)});var o=Z(),i=z(o);be(i,()=>e.children??Ae),m(t,o),ae()}const Lo={};function yc(t){qe(Lo,t)}function Ra(){const t=We(Lo);if(!t)throw new Error("No DialogPageHeightContext found");return t}function bc(t,e){re(e,!0);let n=V(200);yc({setDialogPageHeight:l=>{p(n,l,!0)},getDialogPageHeight:()=>r(n)});var o=Z(),i=z(o);be(i,()=>e.children??Ae),m(t,o),ae()}const Sc=[ir,Lr,ut,bt,ec];function Cc(){return new Promise((t,e)=>{const n=indexedDB.open(Ql,$l);Ke(n,"upgradeneeded",()=>{const a=n.result;for(const s of Sc)a.objectStoreNames.contains(s)||a.createObjectStore(s,{keyPath:"id"})}),Ke(n,sn,()=>{const a=n.result;t(a),a.onversionchange=function(){a?.close(),alert("app outdated, please reload the page")}}),Ke(n,"blocked",()=>{e(),alert("app outdated, please reload the page")}),Ke(n,Kt,()=>{e(),console.error(Kt,n.error)})})}function Ec(t,e){re(e,!0);let n=V(null);ke(()=>{Cc().then(l=>{p(n,l,!0)}).catch(l=>{console.error("Failed to initialize LocalDB:",l)})}),Gl({getDB:()=>r(n)});var s=Z(),o=z(s);{var i=l=>{var c=Z(),u=z(c);be(u,()=>e.children??Ae),m(l,c)};q(o,l=>{r(n)&&l(i)})}m(t,s),ae()}const Mo={};function kc(t){qe(Mo,t)}function wt(){const t=We(Mo);if(!t)throw new Error("No StackPagesContext found");return t}function Pc(t,e){re(e,!0);const{createBroadcastChannel:n,tabId:a}=ar(),s=n(),{getAppLocation:o,getAppHistoryStack:i,navigate:l,goBack:c,replace:u}=Ot(),d=F(o),f=F(()=>r(d).searchParams),v="stackPages",_=()=>r(f).get(v)?.split(",")||[];let h=V(Fe([]));const w=()=>{const k=_();r(h).join(",")!==k.join(",")&&p(h,k,!0)};Ne(()=>{r(f),lt(()=>{w()})});const g=k=>{if(!r(h).find(S=>{const[M]=S.split("?");return M===k})){const S=new URLSearchParams(r(d).search),M=r(d).pathname;S.set(v,[...r(h),k].join(",")),l(`${M}${S.size>0?`?${S.toString()}`:""}`)}},C=k=>r(h).find(S=>{const[M]=S.split("?");return M===k})!==void 0,x=()=>{const k=i(),S=k.findIndex(M=>M.searchParams.has(v));if(k.length<=1||S===-1){const M=new URLSearchParams(r(d).search);M.delete(v),u(`${r(d).pathname}${M.size>0?`?${M.toString()}`:""}`)}else if(S===0){c(k.length-S+1);const M=new URLSearchParams(r(d).search);M.delete(v),u(`${r(d).pathname}${M.size>0?`?${M.toString()}`:""}`)}else c(k.length-S)},b=(k,S)=>{if(S?.full)return`/${k}`;const M=r(h).slice();M.includes(k)||M.push(k);const Q=new URLSearchParams(r(d).search);return Q.set(v,M.join(",")),`${r(d).pathname}?${Q}`},E=(k,S)=>M=>{if(M.preventDefault(),S?.full){l(k);return}g(k)};ke(()=>{const k=S=>{const M=JSON.parse(S.data),Q=M;if(M.tabId&&M.tabId===a){if(Q.type==="navigateBack"&&r(h).length>0){const le=new URLSearchParams(r(d).search);r(h).length>1?le.set(v,r(h).slice(0,-1).join(",")):le.delete(v),u(`${r(d).pathname}${le.size>0?`?${le.toString()}`:""}`)}return}};return s.addEventListener(k),()=>{s.removeEventListener(k)}}),kc({getStackPages:()=>r(h),pushStackPages:g,hasStackPage:C,clearStackPages:x,getPageUrl:b,createHandlePage:E,getStackPagesFormUrl:_});var D=Z(),T=z(D);be(T,()=>e.children??Ae),m(t,D),ae()}function xc(t,e){re(e,!0);const{createBroadcastChannel:n}=ar(),a=n(),s=g=>g.startsWith("/")?g:`/${g}`,o=g=>{const[C,x]=g.split("?");return{href:s(g),pathname:s(C),search:x?`?${x}`:"",searchParams:new URLSearchParams(x)}};let i=V(Fe([{href:`${s(window.location.pathname)}${window.location.search}`,pathname:s(window.location.pathname),search:window.location.search,searchParams:new URLSearchParams(window.location.search)}]));const l=g=>{r(i).push(o(g)),window.history.replaceState(null,"",g)},c=g=>{r(i)[r(i).length-1]=o(g),window.history.replaceState(null,"",g)};Rl({getAppLocation:()=>r(i)[r(i).length-1],getAppHistoryStack:()=>r(i),navigate:l,replace:c,addSearchParam:(g,C)=>{const x=r(i)[r(i).length-1],b=x.searchParams;b.set(g,C),c(`${x.pathname}${b.size>0?`?${b.toString()}`:""}`)},deleteSearchParam:g=>{const C=r(i)[r(i).length-1],x=C.searchParams;x.delete(g),c(`${C.pathname}${x.size>0?`?${x.toString()}`:""}`)},back:g=>{const{to:C}=g||{};if(r(i).length>1){if(C){const b=r(i).findIndex(E=>E.href===C);if(b!==-1){p(i,r(i).slice(0,b+1),!0);const E=r(i)[r(i).length-1];window.history.replaceState(null,"",E.href)}else c(C);return}r(i).pop();const x=r(i)[r(i).length-1];window.history.replaceState(null,"",x.href)}else C?c(C):a.postMessage({type:"navigateBack"})},goBack:g=>{if(r(i).length>=g){p(i,r(i).slice(0,-g),!0);const C=r(i)[r(i).length-1];window.history.replaceState(null,"",C.href)}},clearHistoryStack:()=>{p(i,r(i).slice(-1),!0)}});var h=Z(),w=z(h);be(w,()=>e.children??Ae),m(t,h),ae()}const Io={};function Tc(t){qe(Io,t)}function Oo(){const t=We(Io);if(!t)throw new Error("No KeyboardVisibleContext found");return t}function Ac(t,e){re(e,!0);let n=Fe({value:!1});const a=()=>n.value;ke(()=>{const i=()=>{setTimeout(()=>{document.activeElement instanceof HTMLInputElement&&document.activeElement.type==="text"||document.activeElement instanceof HTMLTextAreaElement?n.value=!0:n.value=!1},0)};return i(),document.addEventListener("focusin",i),document.addEventListener("focusout",i),()=>{document.removeEventListener("focusin",i),document.removeEventListener("focusout",i)}}),Tc({getIsKeyboardVisible:a});var s=Z(),o=z(s);be(o,()=>e.children??Ae),m(t,s),ae()}function Dc(t,e){re(e,!0);const n=crypto.randomUUID(),a=(i,l)=>{i.postMessage(JSON.stringify({...l,tabId:n}))};Jl({tabId:n,createBroadcastChannel:()=>{const i=new BroadcastChannel("app");return{postMessage:l=>a(i,l),addEventListener:l=>{i.addEventListener("message",l)},removeEventListener:l=>{i.removeEventListener("message",l)}}}});var s=Z(),o=z(s);be(o,()=>e.children??Ae),m(t,s),ae()}function Nc(t,e){Ec(t,{children:(n,a)=>{Dc(n,{children:(s,o)=>{dc(s,{children:(i,l)=>{vc(i,{children:(c,u)=>{gc(c,{children:(d,f)=>{_c(d,{children:(v,_)=>{wc(v,{children:(h,w)=>{bc(h,{children:(g,C)=>{Ac(g,{children:(x,b)=>{xc(x,{children:(E,D)=>{Pc(E,{children:(T,k)=>{var S=Z(),M=z(S);be(M,()=>e.children??Ae),m(T,S)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})}function Lc(t,e){Nc(t,{children:(n,a)=>{Hl(n,{children:(s,o)=>{zl(s,{children:(i,l)=>{jl(i,{children:(c,u)=>{Wl(c,{children:(d,f)=>{Yl(d,{children:(v,_)=>{nc(v,{children:(h,w)=>{ac(h,{children:(g,C)=>{lc(g,{children:(x,b)=>{var E=Z(),D=z(E);be(D,()=>e.children??Ae),m(x,E)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})}})}let Xt=V(""),un=V(null),lr=V(null),cr=V(null);function bn(t,e){p(Xt,""),setTimeout(()=>{p(Xt,t,!0),e?.onFinish&&p(lr,e.onFinish,!0),e?.onCancel&&p(cr,e.onCancel,!0)},16)}const Mc=(t,e,n,a,s)=>{t.preventDefault(),r(e)&&(p(n,null),r(e)(),p(e,null)),p(a,""),r(s)?.style.removeProperty("opacity")};var Ic=K('<button type="button" class="undoButton svelte-1vxmgq5">undo</button>'),Oc=K('<div class="notification svelte-1vxmgq5"><span> </span> <!></div>'),Bc=K("<div><!></div>");function Rc(t,e){re(e,!0),Ne(()=>{r(Xt);const o=r(cr)?2e3:800;r(Xt)&&(r(un)?.getBoundingClientRect(),r(un)?.style.setProperty("opacity","1"));const i=setTimeout(()=>{r(un)?.style.removeProperty("opacity")},o),l=setTimeout(()=>{p(Xt,""),r(lr)&&r(lr)(),p(lr,null),p(cr,null),r(un)?.style.removeProperty("opacity")},o+400);return()=>{clearTimeout(i),clearTimeout(l)}});var n=Bc(),a=P(n);{var s=o=>{var i=Oc(),l=P(i),c=P(l),u=j(l,2);{var d=f=>{var v=Ic();v.__click=[Mc,cr,lr,Xt,un],m(f,v)};q(u,f=>{r(cr)&&f(d)})}it(i,f=>p(un,f),()=>r(un)),ve(()=>Wt(c,r(Xt))),m(o,i)};q(a,o=>{r(Xt)&&o(s)})}m(t,n),ae()}nt(["click"]);var zc=K('<span class="vh svelte-s92gzo"><!></span>');function Ze(t,e){var n=zc(),a=P(n);be(a,()=>e.children),m(t,n)}var Fc=_l('<svg class="svelte-18et5h9"><use></use></svg>');function we(t,e){let n=fe(e,"name",8,"");var a=Fc(),s=P(a);ve(()=>Oe(s,"href",`#icon-${n()??""}`)),m(t,a)}const Hc=(t,e,n,a,s)=>{if(r(e))return;const o=n().type;o==="closed"?a():o==="opened"&&s()};var Uc=K('<button class="buttonMenu svelte-bpktnw"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>');function Bo(t,e){re(e,!0);const{sidebarOpen:n,getSidebarState:a,sidebarClose:s}=$r(),{getStackPagesFormUrl:o}=wt(),{checkExistedDialog:i}=cn();let l=F(()=>o().length>0||i());var c=Uc();c.__click=[Hc,l,a,n,s];var u=P(c);_e(u,()=>({"--size":"32px"})),we(u.lastChild,{name:"sidebarMenu"});var d=j(u,2);Ze(d,{children:(f,v)=>{var _=Be("Menu");m(f,_)}}),m(t,c),ae()}nt(["click"]);var jc=(t,e)=>e.onChange?.(t.target?.value||""),Vc=(t,e,n)=>{e(""),n.onChange?.("")},Wc=K('<button class="clearButton svelte-15lr19w"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),qc=K('<div class="block svelte-15lr19w"><input class="svelte-15lr19w"/> <!></div>');function ba(t,e){re(e,!0);let n=fe(e,"value",15,""),a=fe(e,"ref",15,null);const s=u=>{u.key==="Escape"&&(n(""),e.onChange?.(""))};ke(()=>(document.addEventListener("keydown",s),()=>{document.removeEventListener("keydown",s)}));var o=qc(),i=P(o);i.__input=[jc,e],it(i,u=>a(u),()=>a());var l=j(i,2);{var c=u=>{var d=Wc();d.__click=[Vc,n,e];var f=P(d);_e(f,()=>({"--size":"20px"})),we(f.lastChild,{name:"close"});var v=j(f,2);Ze(v,{children:(_,h)=>{var w=Be("Clear");m(_,w)}}),m(u,d)};q(l,u=>{n()&&u(c)})}ve(()=>Oe(i,"placeholder",e.placeholder)),La("focus",i,function(...u){e.onFocus?.apply(this,u)}),Ll(i,n),m(t,o),ae()}nt(["input","click"]);function za(t,e){re(e,!0),ke(()=>{const n=a=>{a.target&&e.dialog?.open&&e.dialogInner&&e.dialogInner!==a.target&&!e.dialogInner.contains(a.target)&&e.onClose()};return document.addEventListener("mousedown",n,{capture:!0}),()=>{document.removeEventListener("mousedown",n,{capture:!0})}}),ae()}var Kc=K('<dialog><div class="dialogInner svelte-1x410nl"><!></div></dialog> <!>',1);function ea(t,e){re(e,!0);let n=V(null),a=V(null),s=V(!1),{showDialog:o,hideDialog:i}=cn();const l=h=>{h?.preventDefault();const w=setTimeout(()=>{e.onClosed()},150);r(n)?.addEventListener("transitionend",()=>{clearTimeout(w),e.onClosed()},{once:!0}),p(s,!1)};Ne(()=>{e.startClose&&l()}),ke(()=>(r(n)?.showModal(),r(n)?.getClientRects(),p(s,!0),r(n)?.addEventListener("cancel",l),r(n)?.addEventListener("close",l),()=>{r(n)?.removeEventListener("cancel",l),r(n)?.removeEventListener("close",l)})),ke(()=>(o(),()=>{i()}));var c=Kc(),u=z(c),d=P(u),f=P(d);be(f,()=>e.children),it(d,h=>p(a,h),()=>r(a)),it(u,h=>p(n,h),()=>r(n));var v=j(u,2);{var _=h=>{za(h,{get dialog(){return r(n)},get dialogInner(){return r(a)},onClose:l})};q(v,h=>{r(n)&&r(a)&&h(_)})}ve(()=>Ee(u,1,Ce(["dialog",{shown:r(s)}]),"svelte-1x410nl")),m(t,c),ae()}var Yc=K("<div><!></div>");function Fa(t,e){re(e,!0);let n=fe(e,"transformOrigin",3,"top right"),a=V(!1),s=V(null);const o=()=>{const f=setTimeout(()=>{e.onClosed()},150);r(s)?.addEventListener("transitionend",()=>{clearTimeout(f),e.onClosed()},{once:!0}),p(a,!1)},i=f=>{f.target!==r(s)&&!r(s)?.contains(f.target)&&o()},l=f=>{f.target!==r(s)&&!r(s)?.contains(f.target)&&o()},c=f=>{f.key==="Escape"&&o()};ke(()=>{r(s)?.getClientRects(),p(a,!0);const f=setTimeout(()=>{document.addEventListener("focusin",i),document.addEventListener("click",l),document.addEventListener("keydown",c)},0);return()=>{clearTimeout(f),document.removeEventListener("focusin",i),document.removeEventListener("click",l),document.removeEventListener("keydown",c)}}),Ne(()=>{e.startClose&&o()});var u=Yc(),d=P(u);be(d,()=>e.children),it(u,f=>p(s,f),()=>r(s)),ve(()=>{Cn(u,`transform-origin: ${e.positionTop?"top right":n()};`),Ee(u,1,Ce(["menu",{top:e.positionTop,shown:r(a)}]),"svelte-ujw4xi")}),m(t,u),ae()}const Gc=(t,e)=>{r(e)||p(e,!0)};var Xc=(t,e)=>e("newest"),Zc=(t,e)=>e("oldest"),Jc=(t,e)=>e("AtoZ"),Qc=(t,e)=>e("ZtoA"),$c=K("<div><button>Newest</button> <button>Oldest</button> <button>A to Z</button> <button>Z to A</button></div>"),eu=K('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),tu=K('<div class="orderMenu svelte-14zj87s"><button><!> <!></button> <!></div>');function nu(t,e){re(e,!0);const n=(x,b=Ae)=>{var E=$c(),D=P(E);D.__click=[Xc,d];var T=j(D,2);T.__click=[Zc,d];var k=j(T,2);k.__click=[Jc,d];var S=j(k,2);S.__click=[Qc,d],ve(()=>{Ee(E,1,Ce(["menu",{menuDialog:b()}]),"svelte-14zj87s"),Ee(D,1,Ce(["menuButton",{menuButtonDialog:b(),current:r(u)==="newest"}]),"svelte-14zj87s"),Ee(T,1,Ce(["menuButton",{menuButtonDialog:b(),current:r(u)==="oldest"}]),"svelte-14zj87s"),Ee(k,1,Ce(["menuButton",{menuButtonDialog:b(),current:r(u)==="AtoZ"}]),"svelte-14zj87s"),Ee(S,1,Ce(["menuButton",{menuButtonDialog:b(),current:r(u)==="ZtoA"}]),"svelte-14zj87s")}),m(x,E)};let a=V(!1),s=V(!1);const{checkMobileSize:o}=ln(),{getFeedOrder:i,setFeedOrder:l}=po();let c=F(o),u=F(i);const d=x=>{p(s,!0),l(x)},f=()=>{p(a,!1),p(s,!1)};ke(()=>{const x=b=>{b.key==="Escape"&&p(s,!0)};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)});var v=tu(),_=P(v);_.__click=[Gc,a],Ee(_,1,Ce(["button","buttonMenu"]),"svelte-14zj87s");var h=P(_);we(h,{name:"filter"});var w=j(h,2);Ze(w,{children:(x,b)=>{var E=Be("show feed order menu");m(x,E)}});var g=j(_,2);{var C=x=>{var b=Z(),E=z(b);{var D=k=>{ea(k,{get startClose(){return r(s)},onClosed:f,children:(S,M)=>{n(S,()=>!0)},$$slots:{default:!0}})},T=k=>{var S=eu(),M=z(S);_e(M,()=>({"--right":"20px","--top":"60px"})),Fa(M.lastChild,{get startClose(){return r(s)},onClosed:f,children:(Q,le)=>{n(Q,()=>!1)},$$slots:{default:!0}}),m(k,S)};q(E,k=>{r(c)?k(D):k(T,!1)})}m(x,b)};q(g,x=>{r(a)&&x(C)})}m(t,v),ae()}nt(["click"]);var X=(t=>(t.NewNote="newNote",t.EditNote="editNote",t.Settings="settings",t.ImportData="importData",t.ExportData="exportData",t.ClearStore="clearStore",t.Account="account",t.Sync="sync",t.AccountSetup="accountSetup",t.Auth="auth",t.Signin="signin",t.Signup="signup",t.AccessKeys="accessKeys",t.ConfirmAccessKey="confirmAccessKey",t.Subscription="subscription",t.Exit="exit",t.NotFound="notFound",t.About="about",t.Bin="bin",t.Install="install",t.InstallSuccess="installSuccess",t.Welcome="welcome",t))(X||{}),ru=K("<a><!></a>"),au=K("<button><!></button>");function tn(t,e){let n=fe(e,"type",3,"standard"),a=fe(e,"typeButton",3,"button"),s=fe(e,"element",3,"button"),o=fe(e,"href",3,""),i=fe(e,"fullWidth",3,!1),l=fe(e,"withoutMinWidth",3,!1);var c=Z(),u=z(c);{var d=v=>{var _=ru();_.__click=function(...w){e.onClick?.apply(this,w)};var h=P(_);be(h,()=>e.children??Ae),ve(()=>{Oe(_,"target",e.target),Oe(_,"rel",e.rel),Oe(_,"href",o()),Ee(_,1,Ce(["button","a",{dangerous:n()==="dangerous",secondary:n()==="secondary",fullWidth:i(),withoutMinWidth:l()}]),"svelte-aqjevc")}),m(v,_)},f=v=>{var _=au();_.__click=function(...w){e.onClick?.apply(this,w)};var h=P(_);be(h,()=>e.children??Ae),ve(()=>{Oe(_,"type",a()),Ee(_,1,Ce(["button",{dangerous:n()==="dangerous",secondary:n()==="secondary",fullWidth:i(),withoutMinWidth:l()}]),"svelte-aqjevc")}),m(v,_)};q(u,v=>{s()==="a"?v(d):v(f,!1)})}m(t,c)}nt(["click"]);var su=K('<div class="block svelte-1dzbsx4"><span class="title svelte-1dzbsx4"> </span> <div class="controls svelte-1dzbsx4"><!> <!></div></div>');function Ha(t,e){re(e,!0);let n=fe(e,"buttonCancelTitle",3,"Cancel"),a=fe(e,"buttonConfirmTitle",3,"Confirm"),s=V(!1),o=V(!1);const i=()=>{p(s,!0)},l=()=>{p(s,!0),p(o,!0)};ea(t,{get startClose(){return r(s)},onClosed:()=>{r(o)?e.onConfirm():e.onCancel()},children:(u,d)=>{var f=su(),v=P(f),_=P(v),h=j(v,2),w=P(h);tn(w,{onClick:i,fullWidth:!0,withoutMinWidth:!0,type:"secondary",children:(C,x)=>{var b=Be();ve(()=>Wt(b,n())),m(C,b)},$$slots:{default:!0}});var g=j(w,2);tn(g,{onClick:l,fullWidth:!0,withoutMinWidth:!0,type:"dangerous",children:(C,x)=>{var b=Be();ve(()=>Wt(b,a())),m(C,b)},$$slots:{default:!0}}),ve(()=>Wt(_,e.title)),m(u,f)},$$slots:{default:!0}}),ae()}const hr=t=>{const e=n=>{const a=n.target,s=a?.tagName;if(s==="INPUT"||s==="TEXTAREA"||a?.isContentEditable)return;const o=n.key.toLowerCase(),i=n.metaKey,l=n.ctrlKey,c=n.shiftKey;if(o===t.key&&!!t.meta==!!i&&!!t.ctrl==!!l&&!!t.shift==!!c){n.preventDefault(),t.action();return}};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}};var ou=K('<div class="block svelte-lfflvc"><a class="buttonAdd svelte-lfflvc"><span class="mobile svelte-lfflvc"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></span> <span class="desktop svelte-lfflvc"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Add note</span></span></a></div>');function iu(t,e){re(e,!1);const{createHandlePage:n,getPageUrl:a,pushStackPages:s,getStackPages:o}=wt(),{checkExistedDialog:i}=cn(),l=()=>{o.length===0&&!i()&&s(X.NewNote)};ke(()=>hr({key:"n",action:l})),Qr();var c=ou(),u=P(c),d=F(()=>n(X.NewNote));u.__click=function(...g){r(d)?.apply(this,g)};var f=P(u),v=P(f);_e(v,()=>({"--size":"32px","--color":"#b0b0b0"})),we(v.lastChild,{name:"add"});var _=j(v,2);Ze(_,{children:(g,C)=>{var x=Be("Add note");m(g,x)}});var h=j(f,2),w=P(h);_e(w,()=>({"--size":"16px","--color":"#b0b0b0"})),we(w.lastChild,{name:"plus"}),ve(g=>Oe(u,"href",g),[()=>a(X.NewNote)]),m(t,c),ae()}nt(["click"]);var lu=K('<button><!> <svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></button>');function Ro(t,e){re(e,!0);let n=fe(e,"type",3,"button"),a=!1,s=V(null);Ne(()=>{e.onRef&&e.onRef(r(s))});const o=f=>{(f.key==="Enter"||f.key===" ")&&(a=!0)},i=()=>{e.onClick(a),a&&(a=!1)};let l=F(()=>e.style==="selected"?"45deg":"0deg");var c=lu();c.__keydown=o,c.__click=i;var u=P(c);be(u,()=>e.children??Ae);var d=j(u,2);_e(d,()=>({"--size":e.size==="small"?"10px":"12px","--rotate":r(l)})),we(d.lastChild,{name:"plus"}),it(c,f=>p(s,f),()=>r(s)),ve(()=>{Oe(c,"type",n()),Ee(c,1,Ce([{selectedTag:e.style==="selected",small:e.size==="small",empty:e.mode==="empty"}]),"svelte-uu8a24")}),m(t,c),ae()}nt(["keydown","click"]);var cu=K('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),uu=K("<!> <span> </span>",1),du=K("<div></div>");function us(t,e){re(e,!0);let n=fe(e,"mobile",3,!1),a=fe(e,"mode",3,"notes");const{getGetMapTags:s}=xn();let o=V(null),i=V(Fe({value:!1}));const l=f=>{p(o,f,!0)};let u=F(()=>{const f=s()();return[...e.tags].sort((v,_)=>{if(a()==="notes"){if(f.get(v)?.pinned)return-1;if(f.get(_)?.pinned)return 1}return v==="inbox"?-1:_==="inbox"?1:v==="drafts"?-1:_==="drafts"?1:v.localeCompare(_)})});Ne(()=>{r(i),lt(()=>{r(o)&&r(i).value&&r(o).focus()})});var d=du();Jr(d,22,()=>r(u),f=>f,(f,v,_)=>{{let h=F(()=>r(_)===0?l:void 0);Ro(f,{get onRef(){return r(h)},onClick:w=>{w?p(i,{value:!0},!0):p(i,{value:!1},!0),e.handleTagClick(v)},children:(w,g)=>{var C=uu(),x=z(C);{var b=T=>{var k=cu(),S=z(k);_e(S,()=>({"--size":"18px"})),we(S.lastChild,{name:"pin"}),m(T,k)};q(x,T=>{a()==="notes"&&s()().get(v)?.pinned&&T(b)})}var E=j(x,2),D=P(E);ve(()=>Wt(D,v)),m(w,C)},$$slots:{default:!0}})}}),ve(()=>Ee(d,1,Ce(["tags",{mobile:n()}]),"svelte-1c53r32")),m(t,d),ae()}const fu=t=>{try{new URL(t)}catch{return!1}return!0},vu=(t,e)=>{r(e)||p(e,!0)},hu=(t,e,n,a)=>{for(const s of e())s==="inbox"||s==="drafts"||n(s,!0);p(a,!0)},gu=(t,e,n,a)=>{for(const s of e())s==="inbox"||s==="drafts"||n(s,!1);p(a,!0)},pu=(t,e)=>{e.clearTags()},_u=(t,e,n,a)=>{const s=e()(),o=Array.from(n());for(const i of s)i.data&&i.data?.url&&fu(i.data?.url)&&o.every(l=>i.data?.tags.includes(l))&&window.open(i.data?.url,"_blank");p(a,!0)};var mu=K('<li class="svelte-58z9m1"><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> Pin</button></li>'),wu=K('<li class="svelte-58z9m1"><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> Unpin</button></li>'),yu=K('<ul><li class="svelte-58z9m1"><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> Open links</button></li> <!> <!></ul>'),bu=K('<span><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></span>'),Su=K("<!> <span> </span>",1),Cu=K('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),Eu=K('<div class="block svelte-58z9m1"><div class="tagsMenu__wrapper svelte-58z9m1"><button class="tagsMenu svelte-58z9m1"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button></div> <div><div class="clearButton_wrapper svelte-58z9m1"><button class="clearButton svelte-58z9m1"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button></div> <!></div> <!></div>'),ku=K("<!> <!>",1);function ds(t,e){re(e,!0);const n=($,Y=Ae)=>{var J=yu(),se=P(J),ne=P(se);ne.__click=[_u,l,a,g];var I=P(ne);_e(I,()=>({"--size":"22px"})),we(I.lastChild,{name:"open"});var G=j(se,2);{var O=oe=>{var te=mu(),he=P(te);he.__click=[hu,a,c,g];var me=P(he);_e(me,()=>({"--size":"22px"})),we(me.lastChild,{name:"pin"}),ve(()=>Ee(he,1,Ce(["button",{buttonMenuDialog:Y()}]),"svelte-58z9m1")),m(oe,te)};q(G,oe=>{s()==="notes"&&r(k)&&[...a()].filter(te=>te!=="inbox"&&te!=="drafts").length>0&&oe(O)})}var H=j(G,2);{var ie=oe=>{var te=wu(),he=P(te);he.__click=[gu,a,c,g];var me=P(he);_e(me,()=>({"--size":"22px"})),we(me.lastChild,{name:"pin-cancel"}),ve(()=>Ee(he,1,Ce(["button",{buttonMenuDialog:Y()}]),"svelte-58z9m1")),m(oe,te)};q(H,oe=>{s()==="notes"&&r(T)&&[...a()].filter(te=>te!=="inbox"&&te!=="drafts").length>0&&oe(ie)})}ve(()=>{Ee(J,1,Ce(["menu",{menuDialog:Y()}]),"svelte-58z9m1"),Ee(ne,1,Ce(["button",{buttonMenuDialog:Y()}]),"svelte-58z9m1")}),m($,J)};let a=fe(e,"selectedTags",7),s=fe(e,"mode",3,"notes");const{checkMobileSize:o}=ln(),{getGetMapTags:i,getGetNotes:l,pinTag:c,moveNotesToBinByTags:u,restoreNotesFromBinByTags:d,deleteNotesByTags:f}=xn();let v=F(o),_=V(null),h=V(Fe({value:!1})),w=V(!1),g=V(!1),C=V(!1);const x=$=>{p(_,$,!0)},b=()=>{p(w,!1),p(g,!1)},E=()=>{const $=i()();for(const Y of a())if(!(Y==="inbox"||Y==="drafts")&&$.get(Y)?.pinned)return!0;return!1},D=()=>{const $=i()();for(const Y of a())if(!(Y==="inbox"||Y==="drafts")&&!$.get(Y)?.pinned)return!0;return!1};let T=F(E),k=F(D);const S=()=>{f(Array.from(a())),e.clearTags(),p(g,!0)};Ne(()=>{r(h),lt(()=>{r(_)&&r(h).value&&r(_).focus()})});var M=ku(),Q=z(M);{var le=$=>{Ha($,{title:"Are you sure you want to delete notes?",buttonConfirmTitle:"Delete",onConfirm:()=>{S(),p(C,!1)},onCancel:()=>{p(C,!1)}})};q(Q,$=>{r(C)&&$(le)})}var U=j(Q,2);{var ee=$=>{var Y=Eu(),J=P(Y),se=P(J);se.__click=[vu,w];var ne=P(se);_e(ne,()=>({"--rotate":"-90deg","--size":"20px"})),we(ne.lastChild,{name:"menu"});var I=j(ne,2);Ze(I,{children:(ge,Se)=>{var B=Be("tags menu");m(ge,B)}});var G=j(J,2);Ee(G,1,Ce(["tags","selectedTags"]),"svelte-58z9m1");var O=P(G),H=P(O);H.__click=[pu,e];var ie=P(H);_e(ie,()=>({"--size":"20px"})),we(ie.lastChild,{name:"close"});var oe=j(ie,2);Ze(oe,{children:(ge,Se)=>{var B=Be("Clear");m(ge,B)}});var te=j(O,2);Jr(te,18,a,ge=>ge,(ge,Se,B)=>{{let R=F(()=>r(B)===a().size-1?x:void 0);Ro(ge,{get onRef(){return r(R)},onClick:y=>{y?p(h,{value:!0},!0):p(h,{value:!1},!0),e.handleSelectedTagClick(Se)},style:"selected",children:(y,A)=>{var N=Su(),W=z(N);{var ce=Pe=>{var Re=bu(),je=P(Re);_e(je,()=>({"--size":"18px"})),we(je.lastChild,{name:"pin"}),m(Pe,Re)};q(W,Pe=>{s()==="notes"&&i()().get(Se)?.pinned&&Pe(ce)})}var Te=j(W,2),ue=P(Te);ve(()=>Wt(ue,Se)),m(y,N)},$$slots:{default:!0}})}});var he=j(G,2);{var me=ge=>{var Se=Z(),B=z(Se);{var R=A=>{ea(A,{get startClose(){return r(g)},onClosed:b,children:(N,W)=>{n(N,()=>!0)},$$slots:{default:!0}})},y=A=>{var N=Cu(),W=z(N);_e(W,()=>({"--right":"0","--top":"0px"})),Fa(W.lastChild,{transformOrigin:"top",get startClose(){return r(g)},onClosed:b,children:(ce,Te)=>{n(ce,()=>!1)},$$slots:{default:!0}}),m(A,N)};q(B,A=>{r(v)?A(R):A(y,!1)})}m(ge,Se)};q(he,ge=>{r(w)&&ge(me)})}m($,Y)};q(U,$=>{a().size>0&&$(ee)})}m(t,M),ae()}nt(["click"]);const Pu=(t,e,n)=>{if(t.has("inbox"))return[];const a=[],s=Array.from(t.values()).filter(o=>o!=="drafts");for(const o of e)if(o.data&&!(n&&!n(o))){if(t.size===0){for(const i of o?.data?.tags||[])a.includes(i)||a.push(i);for(const i of o?.data?.draft?.tags||[])a.includes(i)||a.push(i);continue}if(o.data&&s.every(i=>o.data?.tags.includes(i)))for(const i of o.data.tags)t.has("drafts")&&!o.data.draft||!t.has(i)&&!a.includes(i)&&a.push(i);if(o&&o.data.draft&&s.every(i=>o.data?.draft?.tags.includes(i)))for(const i of o.data.draft.tags)t.has("drafts")&&!o.data.draft||!t.has(i)&&!a.includes(i)&&a.push(i)}return a};function xu(t,e){re(e,!0);const n=on(),{getIsKeyboardVisible:a}=Oo();let s=fe(e,"dialog",7);const o=F(a),i=3,l=50,c=5,u=.6,d=.3,f=.35,v=.95;let _=0,h=0,w=0,g=!1,C=!1,x=0,b=0,E=0;const D=()=>{_=0,h=0,g=!1,C=!1,x=0,b=0,E=0,w=0,T!==null&&(cancelAnimationFrame(T),T=null),k=null};let T=null,k=null;const S=J=>{if(!s()){console.warn("Touch start: No dialog element");return}if(e.sidebarState!=="opened"&&e.sidebarState!=="closed"){console.warn(`Touch start: Invalid sidebar state: ${e.sidebarState}`);return}_=J.touches[0].clientX,h=J.touches[0].clientY,w=performance.now(),g=!0,C=!1},M=J=>e.sidebarState==="closed"&&J>0||e.sidebarState==="closeSwiping"&&J>0||e.sidebarState==="opened"&&J<0||e.sidebarState==="openSwiping"&&J<0,Q=()=>{if(s()){if(s().style.setProperty("--transition-timing","0s"),!s().open&&e.sidebarState==="closed")try{s().showModal(),s().offsetWidth}catch(J){console.error("Error opening dialog:",J);return}e.onSwipe();try{const J=window.getComputedStyle(s()),se=J.transform||J.webkitTransform||"";if(b=s().offsetWidth,e.sidebarState==="closeSwiping"||e.sidebarState==="closed"?x=-b:(e.sidebarState==="openSwiping"||e.sidebarState==="opened")&&(x=0),se&&se!=="none")try{x=new DOMMatrix(se).m41}catch{console.warn("Could not parse transform matrix, using default position")}C=!0}catch(J){console.error("Error during swipe initialization:",J),D()}}},le=()=>{if(T=null,!k||!g||!s()||r(o))return;const{x:J,y:se}=k;k=null;const ne=J-_,I=se-h,G=Math.abs(ne)>Math.abs(I),O=Math.abs(ne)>i;if(!C)if(G&&O&&M(ne))try{Q()}catch(me){console.error("Error initializing swipe:",me),D();return}else return;let H=x+ne*v;const ie=-b,oe=-(b*.3);let te=Math.max(ie,Math.min(oe,H));s().style.setProperty("--transition-timing","0s"),s().style.transform=`translate3d(${te}px, 0, 0)`;const he=Math.min(1,Math.max(0,(te-ie)/(oe-ie)));n.swipingRatio=(-1+Math.abs(te/b))/7*10,E=(te-x)/b*100,s().style.setProperty("--backdrop-bg",`${he*.25}`)},U=J=>{if(!g)return;const se=J.touches[0].clientX,ne=J.touches[0].clientY;k={x:se,y:ne},T===null&&(T=requestAnimationFrame(le)),C&&Math.abs(se-_)>Math.abs(ne-h)&&J.preventDefault()},ee=J=>{const se=Math.abs(J);if(se>=u)return c;if(se>=d){const ne=(se-d)/(u-d);return l-ne*(l-c)}else return l},$=(J,se)=>{if(Math.abs(J)>=u)return f*.5;const I=Math.abs(E)/100;return se?f*Math.max(.5,1-I):f*Math.max(.5,I)},Y=J=>{if(T!==null&&(cancelAnimationFrame(T),T=null),k=null,!g||!s()){D();return}if(!C){D();return}let se=0;if(J?.changedTouches?.[0]){const H=J.changedTouches[0].clientX,oe=performance.now()-w;oe>0&&(se=(H-_)/oe)}const ne=ee(se);let I=null;e.sidebarState==="closeSwiping"?I=Math.abs(E)>ne||se>d?"open":"close":e.sidebarState==="openSwiping"&&(I=Math.abs(E)>ne||se<-d?"close":"open");const G=e.sidebarState==="closeSwiping"&&I==="open"||e.sidebarState==="openSwiping"&&I==="close",O=$(se,G);n.duration=O-.02,s().style.setProperty("--transition-timing",`${O}s`),s().offsetWidth,s().style.transform="",I==="open"?e.onOpen():I==="close"&&e.onClose(),s()?.style.removeProperty("--backdrop-bg"),D()};ke(()=>(document.addEventListener("touchstart",S,{passive:!0}),document.addEventListener("touchmove",U,{passive:!1}),document.addEventListener("touchend",Y,{passive:!0}),document.addEventListener("touchcancel",Y,{passive:!0}),()=>{document.removeEventListener("touchstart",S),document.removeEventListener("touchmove",U),document.removeEventListener("touchend",Y),document.removeEventListener("touchcancel",Y),T!==null&&cancelAnimationFrame(T)})),ae()}var Tu=K('<dialog><div class="dialogInner svelte-1nov8pn"><!></div></dialog> <!> <!>',1);function Au(t,e){re(e,!0);const{getStackPages:n}=wt(),{getSidebarState:a,handleComputeState:s}=$r();let o=350;const i=on(),{isScrolling:l}=Oa();let c=V(null),u=V(null),d=F(a);Ne(()=>{n().length>0&&s({type:"close"})});const f=()=>{e.blocked||s({type:"close"})},v=()=>{e.blocked||s({type:"open"})},_=()=>{s({type:"opened"}),i.swipingRatio=-1,i.duration=.2},h=()=>{s({type:"closed"})},w=()=>{s({type:"swipe"})},g=U=>{U.preventDefault(),f()};ke(()=>(r(c)?.addEventListener("close",h),r(c)?.addEventListener("cancel",g),()=>{r(c)?.removeEventListener("close",h),r(c)?.removeEventListener("cancel",g)}));const C=()=>{r(c)?.style.removeProperty("--transition-timing"),r(c)?.style.removeProperty("transform"),r(c)?.style.removeProperty("--backdrop-bg")},x=F(l);Ne(()=>{if(r(d),!!r(c))switch(r(d).type==="openSwiping"||r(d).type==="closeSwiping"?i.isSwiping=!0:i.isSwiping=!1,r(d).type){case"closeSwiping":{const U=setTimeout(()=>{f()},3e3);return()=>{clearTimeout(U)}}case"openSwiping":{const U=setTimeout(()=>{v()},3e3);return()=>{clearTimeout(U)}}case"opening":{r(c).open||r(c).showModal(),r(c).getBoundingClientRect();const U=setTimeout(()=>{C()},o+1),ee=()=>{clearTimeout(U),C()};return r(c)?.addEventListener("transitionend",ee,{once:!0}),_(),()=>{clearTimeout(U),r(c)?.removeEventListener("transitionend",ee)}}case"closing":{i.swipingRatio=0,i.duration=.2;const U=setTimeout(()=>{r(d).type==="closing"&&h()},o+1),ee=()=>{clearTimeout(U),h()};return r(c)?.addEventListener("transitionend",ee,{once:!0}),()=>{clearTimeout(U),r(c)?.removeEventListener("transitionend",ee)}}case"closed":r(c)?.close(),C();break;case"opened":C();break}}),ke(()=>{r(d).type==="opened"&&s({type:"open"})});var b=Tu(),E=z(b),D=P(E),T=P(D);{var k=U=>{var ee=Z(),$=z(ee);be($,()=>e.children),m(U,ee)};q(T,U=>{r(d).type!=="closed"&&U(k)})}it(D,U=>p(u,U),()=>r(u)),it(E,U=>p(c,U),()=>r(c));var S=j(E,2);{var M=U=>{za(U,{get dialog(){return r(c)},get dialogInner(){return r(u)},onClose:f})};q(S,U=>{r(d).type==="opened"&&!e.blocked&&U(M)})}var Q=j(S,2);{var le=U=>{xu(U,{onClose:f,onOpen:v,onSwipe:w,get sidebarState(){return r(d).type},get dialog(){return r(c)}})};q(Q,U=>{(!r(x)&&r(d).type==="closed"||r(d).type==="opened"||r(d).type==="openSwiping"||r(d).type==="closeSwiping")&&!e.blocked&&U(le)})}ve(()=>Ee(E,1,Ce([{open:r(d).type==="opened",isAnimationOn:i.working&&(!i.isSwiping||!e.blocked)}]),"svelte-1nov8pn")),m(t,b),ae()}var Du=(t,e,n)=>{e(),n("/",{full:!0})(t)},Nu=K('<a class="link svelte-ltt61h"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a>'),Lu=(t,e,n)=>{e(),n(X.Bin,{full:!0})(t)},Mu=K('<a class="link svelte-ltt61h"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a>'),Iu=K('<div class="sidebarFixed svelte-ltt61h"><div class="nav svelte-ltt61h"><!> <div class="menu svelte-ltt61h"><a class="link svelte-ltt61h"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a> <a class="link svelte-ltt61h"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a> <!></div></div> <div class="searchWrapper svelte-ltt61h"><!></div> <!></div> <!>',1),Ou=K('<div class="sidebar svelte-ltt61h"><div class="sidebarFixed svelte-ltt61h"><!></div> <!></div>');function Bu(t,e){re(e,!0);const{checkMobileSize:n}=ln(),{sidebarClose:a,getSidebarState:s,sidebarOpen:o}=$r(),{getAppLocation:i}=Ot(),{getPageUrl:l,createHandlePage:c,getStackPagesFormUrl:u}=wt(),d=ho(),f=F(()=>i().pathname),{getSelectedTags:v,addTag:_,removeTag:h,clearTags:w}=wo();let g=F(v);const{checkNotesInBin:C,getGetNotes:x}=xn(),b=F(x);let E=F(()=>r(f)==="/bin"?"bin":"notes");const D=I=>{_(I)},T=I=>{h(I)};let k=F(()=>r(g).size===0&&!r(g).has("inbox")&&(r(b)()||[]).some(I=>(r(E)==="notes"&&I?.data&&!I.data.deletedAt||r(E)==="bin"&&I?.data&&I.data.deletedAt)&&I?.data?.tags.length===0&&(!I?.data?.draft||I?.data?.draft?.tags.length===0))),S=F(()=>!r(g).has("drafts")&&(r(b)()||[]).filter(I=>r(g).size===0||I.data?.tags.every(G=>r(g).has(G))||I.data?.draft?.tags.every(G=>r(g).has(G))).some(I=>(r(E)==="notes"&&I?.data&&!I.data.deletedAt||r(E)==="bin"&&I?.data&&I.data.deletedAt)&&I.data?.draft)),M=F(()=>Pu(r(g),r(b)()||[],I=>!(I?.data&&I.data.deletedAt&&r(E)==="notes"||I?.data&&!I.data.deletedAt&&r(E)==="bin"))),Q=F(()=>[...r(k)?["inbox"]:[],...r(S)&&(!r(g).has("inbox")||r(k))?["drafts"]:[],...r(M)].filter(I=>d.value===""||I.toLowerCase().indexOf(d.value.toLowerCase())!==-1)),le=F(n);const{checkExistedDialog:U}=cn();let ee=F(()=>u().length>0||U());const $=()=>{if(r(le)){if(r(ee))return;s().type==="opened"?a():s().type==="closed"&&o()}};ke(()=>hr({key:"b",meta:!0,action:$})),ke(()=>hr({key:"b",ctrl:!0,action:$}));var Y=Z(),J=z(Y);{var se=I=>{Au(I,{get blocked(){return r(ee)},children:(G,O)=>{var H=Iu(),ie=z(H),oe=P(ie),te=P(oe);Bo(te,{});var he=j(te,2),me=P(he),ge=F(()=>c(X.Settings));me.__click=function(...De){r(ge)?.apply(this,De)};var Se=P(me);_e(Se,()=>({"--size":"24px"})),we(Se.lastChild,{name:"settings"});var B=j(Se,2);Ze(B,{children:(De,He)=>{var Je=Be("Settings");m(De,Je)}});var R=j(me,2),y=F(()=>c(X.Sync));R.__click=function(...De){r(y)?.apply(this,De)};var A=P(R);_e(A,()=>({"--size":"24px"})),we(A.lastChild,{name:"sync"});var N=j(A,2);Ze(N,{children:(De,He)=>{var Je=Be("Sync");m(De,Je)}});var W=j(R,2);{var ce=De=>{var He=Nu();He.__click=[Du,a,c];var Je=P(He);_e(Je,()=>({"--size":"24px"})),we(Je.lastChild,{name:"note"});var Pt=j(Je,2);Ze(Pt,{children:(yt,Bt)=>{var vt=Be("Notes");m(yt,vt)}}),ve(yt=>Oe(He,"href",yt),[()=>l("/",{full:!0})]),m(De,He)},Te=De=>{var He=Z(),Je=z(He);{var Pt=yt=>{var Bt=Mu();Bt.__click=[Lu,a,c];var vt=P(Bt);_e(vt,()=>({"--size":"24px"})),we(vt.lastChild,{name:"bin"});var Tn=j(vt,2);Ze(Tn,{children:(An,Ua)=>{var ta=Be("Bin");m(An,ta)}}),ve(An=>Oe(Bt,"href",An),[()=>l(X.Bin,{full:!0})]),m(yt,Bt)};q(Je,yt=>{C()&&yt(Pt)},!0)}m(De,He)};q(W,De=>{r(f)===`/${X.Bin}`?De(ce):De(Te,!1)})}var ue=j(oe,2),Pe=P(ue);ba(Pe,{placeholder:"Search tag",get value(){return d.value},set value(De){d.value=De}});var Re=j(ue,2);ds(Re,{get clearTags(){return w},get mode(){return r(E)},get selectedTags(){return r(g)},handleSelectedTagClick:T});var je=j(ie,2);us(je,{get mode(){return r(E)},get tags(){return r(Q)},handleTagClick:D,mobile:!0}),ve((De,He)=>{Oe(me,"href",De),Oe(R,"href",He)},[()=>l(X.Settings),()=>l(X.Sync)]),m(G,H)},$$slots:{default:!0}})},ne=I=>{var G=Ou(),O=P(G),H=P(O);ds(H,{get clearTags(){return w},get mode(){return r(E)},get selectedTags(){return r(g)},handleSelectedTagClick:T});var ie=j(O,2);us(ie,{get mode(){return r(E)},get tags(){return r(Q)},handleTagClick:D}),m(I,G)};q(J,I=>{r(le)?I(se):I(ne,!1)})}m(t,Y),ae()}nt(["click"]);const Ru=(t,e)=>{p(e,!0)};var zu=(t,e)=>{e("/",{full:!0})(t)},Fu=K('<a class="link svelte-13t3afu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Notes</span></a>'),Hu=(t,e)=>{e(X.Bin,{full:!0})(t)},Uu=K('<a class="link svelte-13t3afu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Bin</span></a>'),ju=K('<button class="emptyBinButton svelte-13t3afu" type="button">Empty bin</button>'),Vu=K('<div class="header svelte-13t3afu"><div class="top svelte-13t3afu"><div class="menu svelte-13t3afu"><a class="link svelte-13t3afu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Settings</span></a> <a class="link svelte-13t3afu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Sync</span></a> <!></div> <div class="mobile svelte-13t3afu"><!></div> <!></div> <div class="bottom svelte-13t3afu"><div><div class="sidebarSearchWrapper"><!></div></div> <!> <div class="right svelte-13t3afu"><div class="filter svelte-13t3afu"><div class="feedSearchWrapper svelte-13t3afu"><!></div> <!></div></div></div></div> <!>',1);function Wu(t,e){re(e,!0);const n=uo(),a=ho(),{getScrollContainer:s}=Ba();let o=F(s);const{emptyBin:i,checkNotesInBin:l}=xn(),{getAppLocation:c,navigate:u}=Ot(),{createHandlePage:d,getPageUrl:f,getStackPages:v}=wt(),{checkExistedDialog:_}=cn();let h=V(null);const w=F(l),g=F(()=>c().pathname);let C=V(!1);const x=()=>{r(o)&&r(o).scrollTo({top:0,behavior:"smooth"})},b=()=>{v.length===0&&!_()&&r(h)?.focus()};ke(()=>hr({key:"k",meta:!0,action:b})),ke(()=>hr({key:"k",ctrl:!0,action:b}));var E=Vu(),D=z(E),T=P(D),k=P(T),S=P(k),M=F(()=>d(X.Settings));S.__click=function(...N){r(M)?.apply(this,N)};var Q=P(S);_e(Q,()=>({"--rotate":"30deg","--size":"20px"})),we(Q.lastChild,{name:"settings"});var le=j(S,2),U=F(()=>d(X.Sync));le.__click=function(...N){r(U)?.apply(this,N)};var ee=P(le);_e(ee,()=>({"--size":"20px"})),we(ee.lastChild,{name:"sync"});var $=j(le,2);{var Y=N=>{var W=Fu();W.__click=[zu,d];var ce=P(W);_e(ce,()=>({"--size":"18px"})),we(ce.lastChild,{name:"note"}),ve(Te=>Oe(W,"href",Te),[()=>f("/",{full:!0})]),m(N,W)},J=N=>{var W=Z(),ce=z(W);{var Te=ue=>{var Pe=Uu();Pe.__click=[Hu,d];var Re=P(Pe);_e(Re,()=>({"--size":"20px"})),we(Re.lastChild,{name:"bin"}),ve(je=>Oe(Pe,"href",je),[()=>f(X.Bin,{full:!0})]),m(ue,Pe)};q(ce,ue=>{r(w)&&ue(Te)},!0)}m(N,W)};q($,N=>{r(g)===`/${X.Bin}`?N(Y):N(J,!1)})}var se=j(k,2),ne=P(se);Bo(ne,{});var I=j(se,2);{var G=N=>{var W=Z(),ce=z(W);{var Te=ue=>{var Pe=ju();Pe.__click=[Ru,C],m(ue,Pe)};q(ce,ue=>{r(w)&&ue(Te)})}m(N,W)},O=N=>{iu(N,{})};q(I,N=>{r(g)===`/${X.Bin}`?N(G):N(O,!1)})}var H=j(T,2),ie=P(H);Ee(ie,1,Ce(["left"]),"svelte-13t3afu");var oe=P(ie),te=P(oe);ba(te,{placeholder:"Search tag",get value(){return a.value},set value(N){a.value=N}});var he=j(ie,2);Bu(he,{});var me=j(he,2),ge=P(me),Se=P(ge),B=P(Se);ba(B,{onFocus:x,placeholder:"Search",get ref(){return r(h)},set ref(N){p(h,N,!0)},get value(){return n.value},set value(N){n.value=N}});var R=j(Se,2);nu(R,{});var y=j(D,2);{var A=N=>{Ha(N,{title:"Are you sure you want to empty the bin?",buttonConfirmTitle:"Empty",onConfirm:()=>{i(),p(C,!1),u("/")},onCancel:()=>{p(C,!1)}})};q(y,N=>{r(C)&&N(A)})}ve((N,W)=>{Oe(S,"href",N),Oe(le,"href",W)},[()=>f(X.Settings),()=>f(X.Sync)]),m(t,E),ae()}nt(["click"]);function qu(t,e){re(e,!0);const{getIsKeyboardVisible:n}=Oo();let a=fe(e,"dialog",7);const s=F(n),o=on();let i=null;const l=()=>{e.dialogState==="swiping"&&e.onClose()};Ne(()=>(e.dialogState==="swiping"&&(i=setTimeout(l,3e3)),()=>{i&&(clearTimeout(i),i=null)}));let c=null,u=null;const d=3,f=50,v=5,_=.6,h=.3,w=.35,g=.95;let C=0,x=0,b=0,E=!1,D=!1,T=0,k=0,S=0;const M=()=>{C=0,x=0,E=!1,D=!1,T=0,k=0,S=0,b=0,c=null,u!==null&&(cancelAnimationFrame(u),u=null),i&&(clearTimeout(i),i=null)},Q=I=>{if(!a()){console.warn("Touch start: No dialog element");return}if(e.dialogState!=="opened"){console.warn(`Touch start: Invalid sidebar state: ${e.dialogState}`);return}C=I.touches[0].clientX,x=I.touches[0].clientY,b=performance.now(),E=!0,D=!1},le=I=>e.dialogState==="opened"&&I>0||e.dialogState==="swiping"&&I>0,U=()=>{if(a()){a().style.setProperty("--transition-timing","0s"),e.onSwipe();try{const I=window.getComputedStyle(a()),G=I.transform||I.webkitTransform||"";if(k=a().offsetWidth,(e.dialogState==="swiping"||e.dialogState==="opened")&&(T=0),G&&G!=="none")try{T=new DOMMatrix(G).m41}catch{console.warn("Could not parse transform matrix, using default position")}D=!0}catch(I){console.error("Error during swipe initialization:",I),M()}}},ee=()=>{if(!a())return;const G=Math.abs(T+S*k/100)/k;a().style.setProperty("--backdrop-bg",`${.1*(1-G)}`)},$=()=>{if(u=null,!c||!E||!a()||r(s)){M();return}const I=[...c.touches].reduce((ge,Se)=>ge+Se.clientX,0)/c.touches.length,G=[...c.touches].reduce((ge,Se)=>ge+Se.clientY,0)/c.touches.length,O=I-C,H=G-x,ie=Math.abs(O)>Math.abs(H),oe=Math.abs(O)>d;if(!D)if(ie&&oe&&le(O))try{U()}catch(ge){console.error("Error initializing swipe:",ge),M();return}else return;let te=T+O*g;te=Math.max(0,Math.min(k,te)),!(te<0)&&(a().style.setProperty("--transition-timing","0s"),a().style.transform=`translate3d(${te}px, 0, 0)`,o.swipingRatio=Math.abs(1-te/k),S=(te-T)/k*100,e.dialogState==="swiping"&&(i&&clearTimeout(i),i=setTimeout(l,3e3)),ee())},Y=I=>{if(!E)return;c=I,u===null&&(u=requestAnimationFrame($));const G=I.touches[0].clientX-C,O=I.touches[0].clientY-x,H=Math.abs(G)>Math.abs(O);D&&H&&I.preventDefault()},J=I=>{const G=Math.abs(I);if(G>=_)return v;if(G>=h){const O=(G-h)/(_-h);return f-O*(f-v)}else return f},se=(I,G)=>{if(Math.abs(I)>=_)return w*.5;const H=Math.abs(S)/100;return G?w*Math.max(.5,1-H):w*Math.max(.5,H)},ne=I=>{if(u!==null&&(cancelAnimationFrame(u),u=null),!E||!a()){M();return}if(!D){M();return}let G=0;if(I?.changedTouches?.[0]){const te=I.changedTouches[0].clientX,me=performance.now()-b;me>0&&(G=(te-C)/me)}const O=J(G);let H=null;e.dialogState==="swiping"&&(H=Math.abs(S)>O||G<-h?"close":"open");const ie=e.dialogState==="swiping"&&H==="close",oe=se(G,ie);o.duration=oe-.02,a().style.setProperty("--transition-timing",`${oe}s`),a().offsetWidth,a().style.transform="",H==="open"?e.onOpen():H==="close"&&e.onClose(),a()?.style.removeProperty("--backdrop-bg"),M()};ke(()=>(a().addEventListener("touchstart",Q,{passive:!0}),a().addEventListener("touchmove",Y,{passive:!1}),a().addEventListener("touchend",ne,{passive:!0}),a().addEventListener("touchcancel",ne,{passive:!0}),()=>{a().removeEventListener("touchstart",Q),a().removeEventListener("touchmove",Y),a().removeEventListener("touchend",ne),a().removeEventListener("touchcancel",ne),u!==null&&cancelAnimationFrame(u)})),ae()}var Ku=(t,e)=>{e.onStartClose()},Yu=K('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),Gu=K('<dialog><div class="dialogInner svelte-vr2o0t"><div class="header svelte-vr2o0t"><div class="navigation__wrapper svelte-vr2o0t"><!></div></div> <!></div></dialog> <!>',1);function Xu(t,e){re(e,!0);let n=350;const{isScrolling:a,enable:s}=Oa();let o=V(null),i=V(null);const l=on(),c=T=>{T.preventDefault(),e.onStartClose()};ke(()=>(r(o)?.addEventListener("close",e.onClosed),r(o)?.addEventListener("cancel",c),()=>{r(o)?.removeEventListener("close",e.onClosed),r(o)?.removeEventListener("cancel",c)}));const u=()=>{r(o)?.style.removeProperty("--transition-timing"),r(o)?.style.removeProperty("transform"),r(o)?.style.removeProperty("--backdrop-bg")},d=()=>{s()},f=F(a);Ne(()=>{if(e.dialogState,!!r(o))switch(e.dialogState){case"opening":{r(o).open||r(o).showModal(),r(o).getBoundingClientRect();const T=setTimeout(()=>{u()},n+1),k=()=>{clearTimeout(T),u()};return r(o)?.addEventListener("transitionend",k,{once:!0}),e.onOpened(),()=>{clearTimeout(T),r(o)?.removeEventListener("transitionend",k)}}case"closing":{const T=setTimeout(()=>{e.dialogState==="closing"&&e.onClosed()},n+1),k=()=>{clearTimeout(T),e.onClosed()};return r(o)?.addEventListener("transitionend",k,{once:!0}),()=>{clearTimeout(T),r(o)?.removeEventListener("transitionend",k)}}case"opened":u()}});var v=Gu(),_=z(v),h=P(_),w=P(h),g=P(w),C=P(g);{var x=T=>{var k=Yu();Ee(k,1,Ce(["navigateButton","buttonBack"]),"svelte-vr2o0t"),k.__click=[Ku,e];var S=P(k);_e(S,()=>({"--size":"32px"})),we(S.lastChild,{name:"back"});var M=j(S,2);Ze(M,{children:(Q,le)=>{var U=Be("back");m(Q,U)}}),m(T,k)};q(C,T=>{e.blocked||T(x)})}var b=j(w,2);be(b,()=>e.children),it(h,T=>p(i,T),()=>r(i)),it(_,T=>p(o,T),()=>r(o));var E=j(_,2);{var D=T=>{qu(T,{get onClose(){return e.onStartClose},get onOpen(){return e.onStartOpen},get onSwipe(){return e.onSwipe},get dialogState(){return e.dialogState},get dialog(){return r(o)}})};q(E,T=>{(!r(f)&&e.dialogState==="opened"||e.dialogState==="swiping")&&!e.blocked&&T(D)})}ve(()=>Ee(_,1,Ce([{open:e.dialogState==="opened",hidden:e.hidden,isAnimationOn:l.working&&(!l.isSwiping||!e.hidden)},{hidden:e.hidden}]),"svelte-vr2o0t")),La("scroll",h,d),m(t,v),ae()}nt(["click"]);const fs=(t,e)=>{if(!e)return t;if(e.type==="closed")return{type:"closed"};switch(t.type){case"opened":return e.type==="close"?{type:"closing"}:e.type==="swipe"?{type:"swiping"}:t;case"closed":return e.type==="open"?{type:"opening"}:t;case"swiping":return e.type==="open"?{type:"opening"}:e.type==="close"?{type:"closing"}:t;case"opening":return e.type==="opened"?{type:"opened"}:t;default:return t}};function Zu(t,e){re(e,!0);let n=fe(e,"hiddenDialog",3,!1),a=fe(e,"onClose",3,()=>{});const s=on();let o=V(Fe(fs({type:"closed"})));const i=g=>{p(o,fs(r(o),g),!0)},l=()=>{e.onStartClose&&(e.onStartClose(),i({type:"close"}))},c=()=>{i({type:"open"})},u=()=>{i({type:"opened"}),s.swipingRatio=1,s.duration=.2},d=()=>{a()(),i({type:"closed"}),s.swipingRatio=1,s.duration=.2},f=()=>{i({type:"swipe"})};Ne(()=>{r(o).type==="swiping"?s.isSwiping=!0:s.isSwiping=!1,r(o).type==="closed"&&e.shownDialog?c():r(o).type==="opened"&&!e.shownDialog&&l()});var v={handleComputeState:i},_=Z(),h=z(_);{var w=g=>{{let C=F(()=>!e.onStartClose);Xu(g,{onSwipe:f,onOpened:u,onClosed:d,onStartClose:l,onStartOpen:c,get dialogState(){return r(o).type},get hidden(){return n()},get blocked(){return r(C)},children:(x,b)=>{var E=Z(),D=z(E);be(D,()=>e.children),m(x,E)},$$slots:{default:!0}})}};q(h,g=>{r(o).type!=="closed"&&g(w)})}return m(t,_),ae(v)}const Ju=({getDialog:t,onOpen:e,onStartClose:n,onClose:a})=>{const s=i=>{i.preventDefault(),n()},o=()=>{a?.()};ke(()=>{const i=t();return i?.addEventListener("cancel",s),i?.addEventListener("close",o),()=>{i?.removeEventListener("cancel",s),i?.removeEventListener("close",o)}}),ke(()=>{const i=t();i?.showModal(),i?.getBoundingClientRect(),e()})};var Qu=(t,e)=>{e.onStartBack()},$u=K('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),ed=(t,e)=>{e.onStartClose()},td=K('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),nd=K('<dialog><div class="dialogInner svelte-rt409n"><div class="header svelte-rt409n"><div class="navigation__wrapper svelte-rt409n"><div><!></div> <div><!></div></div></div> <!></div></dialog> <!>',1);function rd(t,e){re(e,!0);let n=fe(e,"blockedDialog",3,!1),a=fe(e,"hiddenDialog",3,!1),s=fe(e,"isDesktopAnimationOff",3,!1),o=V(null),i=V(null),l=V(!1);Ju({getDialog:()=>r(o),onOpen:e.onOpen,onStartClose:e.onStartClose,onClose:e.onClose});const c=on();Ne(()=>{e.stateDialog==="closing"&&(c.working?r(o)?.addEventListener("transitionend",()=>{r(o)?.close()},{once:!0}):r(o)?.close())});const{getDialogPageHeight:u}=Ra(),d=F(u);ke(()=>{setTimeout(()=>{p(l,!0)},50)});var f=nd(),v=z(f),_=P(v),h=P(_),w=P(h),g=P(w),C=P(g);{var x=S=>{var M=$u();Ee(M,1,Ce(["navigateButton","buttonBack"]),"svelte-rt409n"),M.__click=[Qu,e];var Q=P(M);_e(Q,()=>({"--size":"28px"})),we(Q.lastChild,{name:"back"});var le=j(Q,2);Ze(le,{children:(U,ee)=>{var $=Be("back");m(U,$)}}),m(S,M)};q(C,S=>{(!(n()||a())||n())&&e.onStartBack&&S(x)})}var b=j(g,2),E=P(b);{var D=S=>{var M=td();Ee(M,1,Ce(["navigateButton","buttonClose"]),"svelte-rt409n"),M.__click=[ed,e];var Q=P(M);_e(Q,()=>({"--size":"28px"})),we(Q.lastChild,{name:"close"});var le=j(Q,2);Ze(le,{children:(U,ee)=>{var $=Be("close");m(U,$)}}),m(S,M)};q(E,S=>{n()||a()||S(D)})}var T=j(h,2);be(T,()=>e.children),it(_,S=>p(i,S),()=>r(i)),it(v,S=>p(o,S),()=>r(o));var k=j(v,2);za(k,{get dialog(){return r(o)},get dialogInner(){return r(i)},get onClose(){return e.onStartClose}}),ve(()=>{Cn(v,`height: ${r(d)+74}px`),Ee(v,1,Ce([{open:e.stateDialog==="open",isHeightAnimationOn:r(l),isAnimationOn:c.working,isDesktopAnimationOff:s(),hiddenDialog:a()}]),"svelte-rt409n")}),m(t,f),ae()}nt(["click"]);const ad=({onStartClose:t,onClose:e})=>{let n=V("close");return{get state(){return r(n)},set state(i){p(n,i,!0)},handleStartClose:(i=!1)=>{i||(p(n,"closing"),t?.())},handleOpen:()=>{p(n,"open")},handleClose:()=>{p(n,"close"),e?.()}}};function sd(t,e){re(e,!0);let n=fe(e,"blockedDialog",3,!1),a=fe(e,"hiddenDialog",3,!1),s=fe(e,"onStartClose",3,()=>{}),o=fe(e,"onClose",3,()=>{}),i=ad({onStartClose:s(),onClose:o()});Ne(()=>{i.state==="close"&&e.shownDialog?i.state="opening":i.state==="open"&&!e.shownDialog&&i.handleStartClose(n())});const l=f=>{f.key==="Escape"&&n()&&(f.preventDefault(),f.stopPropagation())};ke(()=>(document.addEventListener("keydown",l),()=>{document.removeEventListener("keydown",l)}));var c=Z(),u=z(c);{var d=f=>{rd(f,{get stateDialog(){return i.state},get blockedDialog(){return n()},get hiddenDialog(){return a()},get onOpen(){return i.handleOpen},get onStartBack(){return e.onStartBack},onStartClose:()=>{i.handleStartClose(n())},get onClose(){return i.handleClose},children:(v,_)=>{var h=Z(),w=z(h);be(w,()=>e.children),m(v,h)},$$slots:{default:!0}})};q(u,f=>{i.state!=="close"&&f(d)})}m(t,c),ae()}function od(t,e){re(e,!0);let n=fe(e,"blockedDialog",3,!1),a=fe(e,"hiddenDialog",3,!1),s=fe(e,"blockedBack",3,!1),o=fe(e,"onStartClose",3,()=>{}),i=fe(e,"onClose",3,()=>{});const l=F(()=>s()?void 0:e.onStartBack),{showDialog:c,hideDialog:u}=cn();ke(()=>(c(),()=>{u()}));const{checkMobileSize:d}=ln();var f=Z(),v=z(f);{var _=w=>{Zu(w,{get shownDialog(){return e.shownDialog},get hiddenDialog(){return a()},get children(){return e.children},get onStartClose(){return r(l)},get onClose(){return i()}})},h=w=>{sd(w,{get shownDialog(){return e.shownDialog},get blockedDialog(){return n()},get hiddenDialog(){return a()},get children(){return e.children},get onStartBack(){return r(l)},get onStartClose(){return o()},get onClose(){return i()}})};q(v,w=>{d()?w(_):w(h,!1)})}m(t,f),ae()}function vs(t,e){re(e,!0);const{back:n}=Ot(),{clearStackPages:a}=wt(),{checkMobileSize:s}=ln();let o=fe(e,"blocked",3,!1),i=fe(e,"isLastDialog",3,!1),l=fe(e,"onBack",3,()=>{}),c=fe(e,"onClosed",3,()=>{});const{checkBlockedDialog:u,checkClosableDialog:d}=cn(),f=F(()=>o()||u()),v=F(d),_=()=>{(!r(f)||r(f))&&e.shown&&(n(),l()())},h=()=>{((!r(f)||r(f)&&r(v))&&e.shown||!e.shown)&&a()},w=()=>{c()()};{let g=F(()=>r(f)&&e.shown||r(v)===!1),C=F(()=>r(f)||i()&&(r(v)===!1||!s()));od(t,{get shownDialog(){return e.shown},get blockedDialog(){return r(g)},get hiddenDialog(){return e.hidden},get blockedBack(){return r(C)},onStartBack:_,onStartClose:h,onClose:w,children:(x,b)=>{var E=Z(),D=z(E);be(D,()=>e.children),m(x,E)},$$slots:{default:!0}})}ae()}var id=K('<div class="svelte-1x9a4ve"><!></div>');function ze(t,e){re(e,!0);const{setDialogPageHeight:n}=Ra();let a=V(null);ke(()=>{r(a)&&(r(a).getBoundingClientRect(),r(a).style.opacity="1");const i=new ResizeObserver(l=>{for(let c of l){const u=c.contentRect.height;n(u)}});if(r(a))return i.observe(r(a)),()=>{r(a)&&i.unobserve(r(a)),i.disconnect()}});var s=id(),o=P(s);be(o,()=>e.children),it(s,i=>p(a,i),()=>r(a)),m(t,s),ae()}var ld=K('<div class="svelte-stjbkr"><p class="svelte-stjbkr">Page not found</p> <!></div>');function cd(t,e){re(e,!1);const{navigate:n}=Ot(),a=i=>{i.preventDefault(),n("/")};Qr();var s=ld(),o=j(P(s),2);tn(o,{element:"a",href:"/",onClick:a,children:(i,l)=>{var c=Be("close");m(i,c)},$$slots:{default:!0}}),m(t,s),ae()}const ud="modulepreload",dd=function(t){return"/"+t},hs={},Ue=function(e,n,a){let s=Promise.resolve();if(n&&n.length>0){let c=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=i?.nonce||i?.getAttribute("nonce");s=c(n.map(u=>{if(u=dd(u),u in hs)return;hs[u]=!0;const d=u.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const v=document.createElement("link");if(v.rel=d?"stylesheet":ud,d||(v.as="script"),v.crossOrigin="",v.href=u,l&&v.setAttribute("nonce",l),document.head.appendChild(v),d)return new Promise((_,h)=>{v.addEventListener("load",_),v.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${u}`)))})}))}function o(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return s.then(i=>{for(const l of i||[])l.status==="rejected"&&o(l.reason);return e().catch(o)})};var fd=K('<div class="svelte-10xfz1h"><p class="svelte-10xfz1h">Something went wrong. Please reload the page</p> <!></div>');function vd(t){var e=fd(),n=j(P(e),2);tn(n,{onClick:()=>location.reload(),children:(a,s)=>{var o=Be("Reload");m(a,o)},$$slots:{default:!0}}),m(t,e)}var hd=K('<div><!> <div class="loader svelte-m0sno1"></div></div>');function zo(t,e){re(e,!0);let n=V(!1);ke(()=>{const o=setTimeout(()=>{p(n,!0)},200);return()=>{clearTimeout(o)}});var a=hd(),s=P(a);be(s,()=>e.children??Ae),ve(()=>Ee(a,1,Ce(["block",{shown:r(n)}]),"svelte-m0sno1")),m(t,a),ae()}var gd=K('<div class="svelte-1mu1b44"><!></div>');function pd(t,e){re(e,!0);let n=V(!1);const{getDialogPageHeight:a}=Ra(),s=F(a);ke(()=>{const c=setTimeout(()=>{p(n,!0)},250);return()=>{clearTimeout(c)}});var o=gd(),i=P(o);{var l=c=>{zo(c,{})};q(i,c=>{r(n)&&c(l)})}ve(()=>Cn(o,`min-height: ${r(s)??""}px;`)),m(t,o),ae()}function Ve(t,e){re(e,!0);const n={},a=Object.assign({"./Pages/About.svelte":()=>Ue(()=>import("./aB3i5nqx9.js"),__vite__mapDeps([0,1])),"./Pages/AccessKeys.svelte":()=>Ue(()=>import("./aCCSkogM-.js"),__vite__mapDeps([2,3,4,5])),"./Pages/Account.svelte":()=>Ue(()=>import("./aCM05F6bH.js"),__vite__mapDeps([6,3,7])),"./Pages/AccountSetup.svelte":()=>Ue(()=>import("./aBHimckpY.js"),__vite__mapDeps([8,9])),"./Pages/Auth.svelte":()=>Ue(()=>import("./aDqxbvpEi.js"),__vite__mapDeps([10,11])),"./Pages/ChangeTags.svelte":()=>Ue(()=>import("./aB3GcaXPR.js"),[]),"./Pages/ClearStore.svelte":()=>Ue(()=>import("./aDFGG8UFg.js"),__vite__mapDeps([12,13])),"./Pages/ConfirmAccessKey.svelte":()=>Ue(()=>import("./aDHU1GsT1.js"),__vite__mapDeps([14,4,3,15,16,17,18])),"./Pages/EditNote.svelte":()=>Ue(()=>import("./aC-eeILA9.js"),__vite__mapDeps([19,20,21,16,17,22,23,24])),"./Pages/Exit.svelte":()=>Ue(()=>import("./aBPiP5Ejz.js"),__vite__mapDeps([25,26])),"./Pages/ExportData.svelte":()=>Ue(()=>import("./aBwWVW8pJ.js"),__vite__mapDeps([27,21,16,17,22,28,29,30])),"./Pages/ImportData.svelte":()=>Ue(()=>import("./a-c3O0BWt.js"),__vite__mapDeps([31,21,16,17,22,32])),"./Pages/Install.svelte":()=>Ue(()=>import("./aC1Zy1j66.js"),__vite__mapDeps([33,34])),"./Pages/InstallSuccess.svelte":()=>Ue(()=>import("./aCc7NNujC.js"),__vite__mapDeps([35,36])),"./Pages/NewNote.svelte":()=>Ue(()=>import("./aBPNylhpi.js"),__vite__mapDeps([37,20,21,16,17,22,23])),"./Pages/Settings.svelte":()=>Ue(()=>import("./aBapqZ2ap.js"),__vite__mapDeps([38,28,29,39])),"./Pages/Signin.svelte":()=>Ue(()=>import("./aD6UH715D.js"),__vite__mapDeps([40,4,3,15,41])),"./Pages/Signup.svelte":()=>Ue(()=>import("./aDpAzU-ps.js"),__vite__mapDeps([42,15,4,3,43])),"./Pages/Subscription.svelte":()=>Ue(()=>import("./aCVjT5J_Z.js"),__vite__mapDeps([44,45])),"./Pages/Sync.svelte":()=>Ue(()=>import("./aBBFbx_fo.js"),__vite__mapDeps([46,47]))}),s=async l=>{const c=`./Pages/${l[0].toUpperCase()+l.slice(1)}.svelte`;if(!n[l]){if(a[c]){const u=a[c]();return n[l]={promise:u},n[l].module=await u,n[l].module}throw new Error(`Page ${l} not found`)}return n[l].module||await n[l].promise};var o=Z(),i=z(o);Sl(i,()=>s(e.page),l=>{pd(l,{})},(l,c)=>{const u=F(()=>r(c).default);var d=Z(),f=z(d);kl(f,()=>r(u),(v,_)=>{_(v,{get params(){return e.params},get hidden(){return e.hidden}})}),m(l,d)},l=>{vd(l)}),m(t,o),ae()}const _d=(t,e,n,a)=>{e.noteData.pinnedAt?(n(e.noteId,!1),bn("Note unpinned",{onCancel:()=>{n(e.noteId,!0)}})):(n(e.noteId,!0),bn("Note pinned",{onCancel:()=>{n(e.noteId,!1)}})),p(a,!0)},md=(t,e,n)=>{navigator.clipboard.writeText(e.noteData.url),bn("Link copied"),p(n,!0)};var wd=K('<li class="svelte-8ve3pe"><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>Copy link</button></li>'),yd=(t,e,n)=>{p(e,!0),p(n,!0)},bd=K('<li class="svelte-8ve3pe"><button><span class="wrapperIcon svelte-8ve3pe"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></span>Delete</button></li>'),Sd=(t,e,n)=>{p(e,!0),p(n,!0)},Cd=(t,e,n)=>{p(e,!0),p(n,!0)},Ed=K('<li class="svelte-8ve3pe"><button><span class="wrapperIcon svelte-8ve3pe"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></span>Restore</button></li> <li class="svelte-8ve3pe"><button><span class="wrapperIcon svelte-8ve3pe"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></span>Delete from bin</button></li>',1),kd=K('<ul class="menu svelte-8ve3pe"><!> <li class="svelte-8ve3pe"><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> </button></li> <!></ul>'),Pd=K('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),xd=K("<!> <!>",1);function Td(t,e){re(e,!0);const n=(S,M=Ae)=>{var Q=kd(),le=P(Q);{var U=G=>{var O=wd(),H=P(O);H.__click=[md,e,u];var ie=P(H);_e(ie,()=>({"--size":"20px"})),we(ie.lastChild,{name:"copy"}),ve(()=>Ee(H,1,Ce(["button",{buttonMenuDialog:M()}]),"svelte-8ve3pe")),m(G,O)};q(le,G=>{M()&&e.noteData.url&&G(U)})}var ee=j(le,2),$=P(ee);$.__click=[_d,e,o,u];var Y=P($);{let G=F(()=>e.noteData.pinnedAt?"pin-cancel":"pin");_e(Y,()=>({"--size":"20px"})),we(Y.lastChild,{get name(){return r(G)}})}var J=j(Y),se=j(ee,2);{var ne=G=>{var O=bd(),H=P(O);H.__click=[yd,d,u];var ie=P(H),oe=P(ie);_e(oe,()=>({"--size":"20px"})),we(oe.lastChild,{name:"bin"}),ve(()=>Ee(H,1,Ce(["button",{buttonMenuDialog:M()}]),"svelte-8ve3pe")),m(G,O)},I=G=>{var O=Ed(),H=z(O),ie=P(H);ie.__click=[Sd,f,u];var oe=P(ie),te=P(oe);_e(te,()=>({"--size":"20px"})),we(te.lastChild,{name:"bin-cancel"});var he=j(H,2),me=P(he);me.__click=[Cd,v,u];var ge=P(me),Se=P(ge);_e(Se,()=>({"--size":"20px"})),we(Se.lastChild,{name:"bin"}),ve(()=>{Ee(ie,1,Ce(["button",{buttonMenuDialog:M()}]),"svelte-8ve3pe"),Ee(me,1,Ce(["button",{buttonMenuDialog:M()}]),"svelte-8ve3pe")}),m(G,O)};q(se,G=>{l()==="notes"?G(ne):G(I,!1)})}ve(()=>{Ee($,1,Ce(["button",{buttonMenuDialog:M()}]),"svelte-8ve3pe"),Wt(J,` ${e.noteData.pinnedAt?"Unpin":"Pin"}`)}),m(S,Q)},{moveNoteToBin:a,deleteNote:s,pinNote:o,restoreNoteFromBin:i}=xn();let l=fe(e,"mode",3,"notes"),c=fe(e,"shownMenu",15),u=V(!1),d=V(!1),f=V(!1),v=V(!1);const{checkMobileSize:_}=ln();let h=F(_);const w=()=>{s(e.noteId),bn("Draft deleted")},g=async()=>{a(e.noteId),bn("Note moved to bin",{onCancel:()=>{i(e.noteId)}})},C=()=>{i(e.noteId),bn("Note restored from bin",{onCancel:()=>{a(e.noteId)}})},x=()=>{r(d)?(p(d,!1),e.noteData.type==="draft"?w():g()):r(f)&&(p(f,!1),C()),c(!1),p(u,!1)};var b=xd(),E=z(b);{var D=S=>{var M=Z(),Q=z(M);{var le=ee=>{ea(ee,{get startClose(){return r(u)},onClosed:x,children:($,Y)=>{n($,()=>!0)},$$slots:{default:!0}})},U=ee=>{var $=Pd(),Y=z($);_e(Y,()=>({"--bottom":"-100px","--right":"20px"})),Fa(Y.lastChild,{get startClose(){return r(u)},get positionTop(){return e.showMenuUp},onClosed:x,children:(J,se)=>{n(J,()=>!1)},$$slots:{default:!0}}),m(ee,$)};q(Q,ee=>{r(h)?ee(le):ee(U,!1)})}m(S,M)};q(E,S=>{c()&&S(D)})}var T=j(E,2);{var k=S=>{Ha(S,{title:"Are you sure you want to delete this note?",buttonConfirmTitle:"Delete",onConfirm:()=>{s(e.noteId),p(v,!1)},onCancel:()=>{p(v,!1)}})};q(T,S=>{r(v)&&S(k)})}m(t,b),ae()}nt(["click"]);const Ad=(t,e)=>{p(e,!0)},Dd=(t,e,n)=>{navigator.clipboard.writeText(e.noteData.url),bn("Link copied"),p(n,!1)},Nd=(t,e)=>{p(e,!0)},Ld=(t,e)=>{p(e,!1)},Md=(t,e,n,a)=>{t.preventDefault(),e.noteData.type==="draft"?n(`${X.NewNote}`):n(`${X.EditNote}?id=${e.noteId}`),p(a,!1)};var Id=K('<div class="iconPlaceholder svelte-1jg44o9"></div>'),Od=K('<img loading="lazy" class="noteIcon" height="16" width="16" alt=""/>'),Bd=K('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),Rd=K('<div class="noteIconWrapper svelte-1jg44o9"><!></div>'),zd=K('<button class="button svelte-1jg44o9"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),Fd=(t,e)=>{p(e,!1)},Hd=K('<!> <a target="_blank" rel="noopener noreferrer" class="button openLink svelte-1jg44o9"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a>',1),Ud=K('<li><!> <a class="noteLink svelte-1jg44o9" target="_blank" rel="noopener noreferrer"> </a> <div><!> <button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button></div> <!></li>');function jd(t,e){re(e,!0);const{pushStackPages:n}=wt(),{getFaviconEnabled:a}=Zl();let s=fe(e,"mode",3,"notes"),o=V(!1),i=V(!1),l=V(!1),c=F(a);const{checkMobileSize:u}=ln(),d=S=>{try{return`https://icons.duckduckgo.com/ip3/${new URL(S).host}.ico`}catch{return""}},f=e.noteData.url||e.noteData.draft?.url||"";var v=Ud();v.__focusin=[Nd,i],v.__focusout=[Ld,i];var _=P(v);{var h=S=>{var M=Rd(),Q=P(M);{var le=ee=>{var $=Z(),Y=z($);{var J=ne=>{var I=Id();m(ne,I)},se=ne=>{var I=Od();ve(G=>Oe(I,"src",G),[()=>d(f)]),La("error",I,()=>{p(l,!0)}),m(ne,I)};q(Y,ne=>{r(l)?ne(J):ne(se,!1)})}m(ee,$)},U=ee=>{var $=Bd(),Y=z($);_e(Y,()=>({"--size":"16px"})),we(Y.lastChild,{name:"note"}),m(ee,$)};q(Q,ee=>{f?ee(le):ee(U,!1)})}m(S,M)};q(_,S=>{r(c)&&S(h)})}var w=j(_,2);w.__click=[Md,e,n,i];var g=P(w),C=j(w,2),x=P(C);{var b=S=>{var M=Hd(),Q=z(M);{var le=Y=>{var J=zd();J.__click=[Dd,e,i];var se=P(J);_e(se,()=>({"--size":"20px"})),we(se.lastChild,{name:"copy"});var ne=j(se,2);Ze(ne,{children:(I,G)=>{var O=Be("copy link");m(I,O)}}),ve(()=>Oe(J,"tabindex",e.focusHidden?-1:0)),m(Y,J)};q(Q,Y=>{u()||Y(le)})}var U=j(Q,2);U.__click=[Fd,i];var ee=P(U);_e(ee,()=>({"--size":"18px"})),we(ee.lastChild,{name:"open"});var $=j(ee,2);Ze($,{children:(Y,J)=>{var se=Be();ve(()=>Wt(se,e.noteData.draft?.name||e.noteData.name||"unknown")),m(Y,se)}}),ve(()=>{Oe(U,"href",f),Oe(U,"tabindex",e.focusHidden?-1:0)}),m(S,M)};q(x,S=>{f&&S(b)})}var E=j(x,2);E.__click=[Ad,o],Ee(E,1,Ce(["button","buttonMenu"]),"svelte-1jg44o9");var D=P(E);_e(D,()=>({"--size":"18px","--rotate":"90deg"})),we(D.lastChild,{name:"menu"});var T=j(D,2);Ze(T,{children:(S,M)=>{var Q=Be("show menu");m(S,Q)}});var k=j(C,2);Td(k,{get mode(){return s()},get noteId(){return e.noteId},get noteData(){return e.noteData},get showMenuUp(){return e.showMenuUp},get shownMenu(){return r(o)},set shownMenu(S){p(o,S,!0)}}),ve((S,M)=>{Ee(v,1,S,"svelte-1jg44o9"),Oe(w,"tabindex",e.focusHidden?-1:0),Oe(w,"href",M),Wt(g,e.noteData?.draft?.name||e.noteData?.name||"unknown"),Ee(C,1,Ce(["noteMenuWrapper",{noteMenuWrapperActive:r(i)}]),"svelte-1jg44o9"),Oe(E,"tabindex",e.focusHidden?-1:0)},[()=>Ce(["record",{pinned:!!e.noteData.pinnedAt,draft:!!e.noteData.draft}]),()=>`/?stackPages=${encodeURIComponent(`${X.EditNote}?id=${e.noteId}`)}`]),m(t,v),ae()}nt(["focusin","focusout","click"]);var $n,Fo,Ho;class Vd{constructor(e){xe(this,$n);ct(this,"data");ct(this,"compare");this.data=[],this.compare=e}insert(e){this.data.push(e),Ie(this,$n,Fo).call(this)}extractMin(){if(this.data.length===0)return;const e=this.data[0],n=this.data.pop();return this.data.length&&n!==void 0&&(this.data[0]=n,Ie(this,$n,Ho).call(this)),e}isEmpty(){return this.data.length===0}}$n=new WeakSet,Fo=function(){let e=this.data.length-1;const n=this.data[e];for(;e>0;){const a=Math.floor((e-1)/2);if(this.compare(n,this.data[a])>=0)break;[this.data[e],this.data[a]]=[this.data[a],this.data[e]],e=a}},Ho=function(){let e=0;const n=this.data.length;for(;;){const a=2*e+1,s=2*e+2;let o=e;if(a<n&&this.compare(this.data[a],this.data[o])<0&&(o=a),s<n&&this.compare(this.data[s],this.data[o])<0&&(o=s),o===e)break;[this.data[e],this.data[o]]=[this.data[o],this.data[e]],e=o}};class Wd{constructor(e,n){ct(this,"heap");ct(this,"done");ct(this,"cache",[]);this.heap=new Vd(n);for(const a of e)this.heap.insert(a);this.done=!1}get(e,n){const a=this.cache.slice(e,n);for(;a.length<n-e&&!this.heap.isEmpty();){const s=this.heap.extractMin();s!==void 0&&(this.cache.push(s),a.push(s))}return this.heap.isEmpty()&&(this.done=!0),a}}var qd=K('<p class="message">No notes in bin</p>'),Kd=K('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Add note</span>',1),Yd=K('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span style="padding-left: 6px;">Import notes</span>',1),Gd=K('<p class="message">No notes found</p> <div class="wrapperButtonsAdd svelte-106i4nx"><!></div> <div>or</div> <div class="wrapperButtonsAdd svelte-106i4nx"><!></div>',1),Xd=K('<div class="emptyStore svelte-106i4nx"><!></div>'),Zd=K("<span>Back to notes</span>"),Jd=K('<div class="emptyMessage svelte-106i4nx">No notes in bin</div> <div class="wrapperButtonsAdd svelte-106i4nx"><!></div>',1),Qd=K('<div class="emptyMessage svelte-106i4nx">No notes found</div>'),$d=K('<div class="feed svelte-106i4nx"><ul class="svelte-106i4nx"></ul></div>'),ef=K('<div class="wrapperFeed svelte-106i4nx"><div class="wrapperContainer svelte-106i4nx"><!></div></div>');function tf(t,e){re(e,!0);let n=fe(e,"getNotes",3,()=>[]),a=fe(e,"mode",3,"notes");const{getScrollContainer:s}=Ba(),{createHandlePage:o,getPageUrl:i}=wt(),{getSelectedTags:l}=wo(),{getFeedOrder:c}=po(),u=uo();let d=54,f=V(0),v=V(0),_=V(0),h=V(0),w=[],g=V(0),C=V(null),x=F(s),b=null,E=null;const D=F(l);Ne(()=>{r(D),r(Q),r(x)?.scrollTo(0,0)});const{enable:T}=Oa(),k=()=>{T(),b||(b=requestAnimationFrame(()=>{const O=r(x)?.scrollTop||0;p(_,O,!0);const H=Math.ceil(r(f)/d);p(v,Math.floor(O/(d*H))*(d*H)),b=null}))},S=()=>{E||(E=requestAnimationFrame(()=>{p(f,window.innerHeight-180||0,!0);const O=r(x)?.scrollTop||0;p(_,O,!0);const H=Math.ceil(r(f)/d);p(v,Math.floor(O/(d*H))*(d*H)),E=null}))};ke(()=>{S(),k()});const M=()=>{k()};Ne(()=>(r(x)?.addEventListener("scroll",M),window.addEventListener("resize",S),()=>{r(x)?.removeEventListener("scroll",M),window.removeEventListener("resize",S)}));const Q=F(c);Ne(()=>{const O=n()()||[],H=[],ie=Array.from(r(D).values());for(let oe=O.length-1;oe>=0;oe--){if(!O[oe]||!O[oe].data)continue;const te=O[oe];if(!(a()==="notes"&&te?.data.deletedAt)&&!(a()==="bin"&&!te?.data.deletedAt)&&!(u&&!(te.data.name.toLowerCase().includes(u.value.toLowerCase())||te.data.url.toLowerCase().includes(u.value.toLowerCase())||te.data.text.toLowerCase().includes(u.value.toLowerCase())))){if(r(D).has("inbox")){if(te.data.tags.length>0||te.data.draft&&te.data.draft.tags.length>0)continue}else if(r(D).has("drafts")){if(!te.data.draft)continue}else if(r(D).size&&ie.some(he=>!te.data?.tags.includes(he))&&(!te.data.draft||ie.some(he=>!te.data?.draft?.tags.includes(he))))continue;H.push(te)}}p(h,H.length,!0),w=H,p(g,Date.now(),!0)}),Ne(()=>{r(Q),r(g),p(C,new Wd(w,(O,H)=>{if(!O||!H||!O.data||!H.data)return 0;if(O.data.pinnedAt&&!H.data.pinnedAt)return-1;if(!O.data.pinnedAt&&H.data.pinnedAt)return 1;if(O.data.pinnedAt&&H.data.pinnedAt){if(O.data.pinnedAt<H.data.pinnedAt)return 1;if(O.data.pinnedAt>H.data.pinnedAt)return-1}switch(r(Q)){case"newest":return O.data.updatedAt<H.data.updatedAt?1:-1;case"oldest":return O.data.updatedAt>H.data.updatedAt?1:-1;case"AtoZ":return O.data.name.localeCompare(H.data.name);case"ZtoA":return H.data.name.localeCompare(O.data.name);default:return 0}}),!0)});const le=F(()=>r(h)*d);let ee=F(()=>{r(g);const O=Math.ceil(r(f)/d);let H=Math.floor(r(v)/d);return H=H-Math.min(H,O),r(C)?.get(H,H+O*3)||[]}),$=F(()=>d*Math.ceil(r(f)/d));const Y=F(()=>r(v)-Math.min(r(v),r($)));var J=ef(),se=P(J),ne=P(se);{var I=O=>{zo(O,{})},G=O=>{var H=Z(),ie=z(H);{var oe=he=>{var me=Xd(),ge=P(me);{var Se=R=>{var y=qd();m(R,y)},B=R=>{var y=Gd(),A=j(z(y),2),N=P(A);{let Te=F(()=>i(X.NewNote)),ue=F(()=>o(X.NewNote));tn(N,{element:"a",get href(){return r(Te)},get onClick(){return r(ue)},children:(Pe,Re)=>{var je=Kd(),De=z(je);_e(De,()=>({"--size":"18px","--color":"#b0b0b0"})),we(De.lastChild,{name:"plus"}),m(Pe,je)},$$slots:{default:!0}})}var W=j(A,4),ce=P(W);{let Te=F(()=>i(X.ImportData)),ue=F(()=>o(X.ImportData));tn(ce,{element:"a",get href(){return r(Te)},get onClick(){return r(ue)},children:(Pe,Re)=>{var je=Yd(),De=z(je);_e(De,()=>({"--size":"18px","--color":"#b0b0b0"})),we(De.lastChild,{name:"import"}),m(Pe,je)},$$slots:{default:!0}})}m(R,y)};q(ge,R=>{a()==="bin"?R(Se):R(B,!1)})}m(he,me)},te=he=>{var me=Z(),ge=z(me);{var Se=R=>{var y=Jd(),A=j(z(y),2),N=P(A);{let W=F(()=>i("/",{full:!0})),ce=F(()=>o("/",{full:!0}));tn(N,{element:"a",get href(){return r(W)},get onClick(){return r(ce)},children:(Te,ue)=>{var Pe=Zd();m(Te,Pe)},$$slots:{default:!0}})}m(R,y)},B=R=>{var y=Z(),A=z(y);{var N=ce=>{var Te=Qd();m(ce,Te)},W=ce=>{var Te=$d(),ue=P(Te);Jr(ue,23,()=>r(ee),Pe=>Pe.data,(Pe,Re,je)=>{var De=Z(),He=z(De);{var Je=Pt=>{{let yt=F(()=>r(je)*d<r(_)-r(Y)-d/2||r(je)*d>r(_)-r(Y)+Math.floor(r(f)/d)*d),Bt=F(()=>(r(je)+3)*d<r(_)-r(Y)-d/2||(r(je)+3)*d>r(_)-r(Y)+Math.floor(r(f)/d)*d);jd(Pt,{get mode(){return a()},get focusHidden(){return r(yt)},get showMenuUp(){return r(Bt)},get noteId(){return r(Re).id},get noteData(){return r(Re).data}})}};q(He,Pt=>{r(Re).data&&Pt(Je)})}m(Pe,De)}),ve(Pe=>{Cn(Te,`min-height: ${Pe??""}px`),Cn(ue,`transform: translateY(${r(Y)??""}px);`)},[()=>Math.max((r(le)>r(f),r(le)),0)]),m(ce,Te)};q(A,ce=>{r(ee).length===0?ce(N):ce(W,!1)},!0)}m(R,y)};q(ge,R=>{a()==="bin"&&e.countNotesInBin()===0?R(Se):R(B,!1)},!0)}m(he,me)};q(ie,he=>{(n()()||[]).length===0||a()==="notes"&&(n()()||[]).length-e.countNotesInBin()===0?he(oe):he(te,!1)},!0)}m(O,H)};q(ne,O=>{e.readyNotes?O(G,!1):O(I)})}m(t,J),ae()}var nf=K('<div class="fakeSidebar svelte-k57gez"></div> <div class="content svelte-k57gez"><!></div>',1);function rf(t,e){re(e,!0);const{getAppLocation:n}=Ot(),{getGetNotes:a,isInitedNotes:s,countNotesInBin:o}=xn(),i=F(s),l=F(a),c=F(()=>n().pathname);var u=nf(),d=j(z(u),2),f=P(d);{let v=F(()=>r(c)==="/bin"?"bin":"notes");tf(f,{get mode(){return r(v)},get getNotes(){return r(l)},get countNotesInBin(){return o},get readyNotes(){return r(i)}})}m(t,u),ae()}var af=K('<h1 class="svelte-1ky72l5"><!></h1>');function sf(t,e){var n=af(),a=P(n);be(a,()=>e.children),m(t,n)}const of=()=>window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0;var lf=K('<div class="block svelte-1hz8bbk"><!> <p class="message svelte-1hz8bbk">Enjoy using the app!</p> <div class="container svelte-1hz8bbk"><!></div></div>');function cf(t,e){re(e,!1);const{pushStackPages:n}=wt(),a=()=>{of()?n(X.AccountSetup):n(X.Install)};Qr();var s=lf(),o=P(s);sf(o,{children:(c,u)=>{var d=Be("Welcome");m(c,d)}});var i=j(o,4),l=P(i);tn(l,{onClick:a,fullWidth:!0,children:(c,u)=>{var d=Be("Start");m(c,d)},$$slots:{default:!0}}),m(t,s),ae()}const gs=(t,e=Ae,n=Ae,a)=>{let s=Kr(()=>ci(a?.(),!1));var o=Z(),i=z(o);{var l=u=>{ze(u,{children:(d,f)=>{Ve(d,{get hidden(){return r(s)},get page(){return X.Settings}})},$$slots:{default:!0}})},c=u=>{var d=Z(),f=z(d);{var v=h=>{ze(h,{children:(w,g)=>{Ve(w,{get hidden(){return r(s)},get page(){return X.NewNote}})},$$slots:{default:!0}})},_=h=>{var w=Z(),g=z(w);{var C=b=>{ze(b,{children:(E,D)=>{Ve(E,{get params(){return n()},get hidden(){return r(s)},get page(){return X.EditNote}})},$$slots:{default:!0}})},x=b=>{var E=Z(),D=z(E);{var T=S=>{ze(S,{children:(M,Q)=>{Ve(M,{get hidden(){return r(s)},get page(){return X.ImportData}})},$$slots:{default:!0}})},k=S=>{var M=Z(),Q=z(M);{var le=ee=>{ze(ee,{children:($,Y)=>{Ve($,{get hidden(){return r(s)},get page(){return X.ExportData}})},$$slots:{default:!0}})},U=ee=>{var $=Z(),Y=z($);{var J=ne=>{ze(ne,{children:(I,G)=>{Ve(I,{get hidden(){return r(s)},get page(){return X.ClearStore}})},$$slots:{default:!0}})},se=ne=>{var I=Z(),G=z(I);{var O=ie=>{ze(ie,{children:(oe,te)=>{Ve(oe,{get hidden(){return r(s)},get page(){return X.AccountSetup}})},$$slots:{default:!0}})},H=ie=>{var oe=Z(),te=z(oe);{var he=ge=>{ze(ge,{children:(Se,B)=>{Ve(Se,{get hidden(){return r(s)},get page(){return X.Install}})},$$slots:{default:!0}})},me=ge=>{var Se=Z(),B=z(Se);{var R=A=>{ze(A,{children:(N,W)=>{Ve(N,{get hidden(){return r(s)},get page(){return X.InstallSuccess}})},$$slots:{default:!0}})},y=A=>{var N=Z(),W=z(N);{var ce=ue=>{ze(ue,{children:(Pe,Re)=>{cf(Pe,{})},$$slots:{default:!0}})},Te=ue=>{var Pe=Z(),Re=z(Pe);{var je=He=>{ze(He,{children:(Je,Pt)=>{Ve(Je,{get hidden(){return r(s)},get page(){return X.Auth}})},$$slots:{default:!0}})},De=He=>{var Je=Z(),Pt=z(Je);{var yt=vt=>{ze(vt,{children:(Tn,An)=>{Ve(Tn,{get hidden(){return r(s)},get page(){return X.Signup}})},$$slots:{default:!0}})},Bt=vt=>{var Tn=Z(),An=z(Tn);{var Ua=Dn=>{ze(Dn,{children:(yr,ja)=>{Ve(yr,{get hidden(){return r(s)},get page(){return X.Signin}})},$$slots:{default:!0}})},ta=Dn=>{var yr=Z(),ja=z(yr);{var Uo=Nn=>{ze(Nn,{children:(br,Va)=>{Ve(br,{get hidden(){return r(s)},get page(){return X.AccessKeys}})},$$slots:{default:!0}})},jo=Nn=>{var br=Z(),Va=z(br);{var Vo=Ln=>{ze(Ln,{children:(Sr,Wa)=>{Ve(Sr,{get hidden(){return r(s)},get page(){return X.Account}})},$$slots:{default:!0}})},Wo=Ln=>{var Sr=Z(),Wa=z(Sr);{var qo=Mn=>{ze(Mn,{children:(Cr,qa)=>{Ve(Cr,{get hidden(){return r(s)},get page(){return X.ConfirmAccessKey}})},$$slots:{default:!0}})},Ko=Mn=>{var Cr=Z(),qa=z(Cr);{var Yo=In=>{ze(In,{children:(Er,Ka)=>{Ve(Er,{get hidden(){return r(s)},get page(){return X.Exit}})},$$slots:{default:!0}})},Go=In=>{var Er=Z(),Ka=z(Er);{var Xo=On=>{ze(On,{children:(kr,Ya)=>{Ve(kr,{get hidden(){return r(s)},get page(){return X.Sync}})},$$slots:{default:!0}})},Zo=On=>{var kr=Z(),Ya=z(kr);{var Jo=Bn=>{ze(Bn,{children:(Pr,Ga)=>{Ve(Pr,{get hidden(){return r(s)},get page(){return X.Subscription}})},$$slots:{default:!0}})},Qo=Bn=>{var Pr=Z(),Ga=z(Pr);{var $o=Rn=>{ze(Rn,{children:(na,ti)=>{Ve(na,{get hidden(){return r(s)},get page(){return X.About}})},$$slots:{default:!0}})},ei=Rn=>{ze(Rn,{children:(na,ti)=>{cd(na,{})},$$slots:{default:!0}})};q(Ga,Rn=>{e()===X.About?Rn($o):Rn(ei,!1)},!0)}m(Bn,Pr)};q(Ya,Bn=>{e()===X.Subscription?Bn(Jo):Bn(Qo,!1)},!0)}m(On,kr)};q(Ka,On=>{e()===X.Sync?On(Xo):On(Zo,!1)},!0)}m(In,Er)};q(qa,In=>{e()===X.Exit?In(Yo):In(Go,!1)},!0)}m(Mn,Cr)};q(Wa,Mn=>{e()===X.ConfirmAccessKey?Mn(qo):Mn(Ko,!1)},!0)}m(Ln,Sr)};q(Va,Ln=>{e()===X.Account?Ln(Vo):Ln(Wo,!1)},!0)}m(Nn,br)};q(ja,Nn=>{e()===X.AccessKeys?Nn(Uo):Nn(jo,!1)},!0)}m(Dn,yr)};q(An,Dn=>{e()===X.Signin?Dn(Ua):Dn(ta,!1)},!0)}m(vt,Tn)};q(Pt,vt=>{e()===X.Signup?vt(yt):vt(Bt,!1)},!0)}m(He,Je)};q(Re,He=>{e()===X.Auth?He(je):He(De,!1)},!0)}m(ue,Pe)};q(W,ue=>{e()===X.Welcome?ue(ce):ue(Te,!1)},!0)}m(A,N)};q(B,A=>{e()===X.InstallSuccess?A(R):A(y,!1)},!0)}m(ge,Se)};q(te,ge=>{e()===X.Install?ge(he):ge(me,!1)},!0)}m(ie,oe)};q(G,ie=>{e()===X.AccountSetup?ie(O):ie(H,!1)},!0)}m(ne,I)};q(Y,ne=>{e()===X.ClearStore?ne(J):ne(se,!1)},!0)}m(ee,$)};q(Q,ee=>{e()===X.ExportData?ee(le):ee(U,!1)},!0)}m(S,M)};q(D,S=>{e()===X.ImportData?S(T):S(k,!1)},!0)}m(b,E)};q(g,b=>{e()===X.EditNote?b(C):b(x,!1)},!0)}m(h,w)};q(f,h=>{e()===X.NewNote?h(v):h(_,!1)},!0)}m(u,d)};q(i,u=>{e()===X.Settings?u(l):u(c,!1)})}m(t,o)};var uf=K("<!> <!>",1);function df(t,e){re(e,!0);const{getStackPages:n}=wt(),{getAccount:a}=ko();let s=F(n),o=F(()=>a()!==void 0);const{checkMobileSize:i}=ln();let l=V(Fe([]));const c=F(i);Ne(()=>{r(s),r(c),lt(()=>{if(r(c))r(s).length>=r(l).length?p(l,r(s).map(g=>({page:g,shown:!0})),!0):p(l,r(l).map((g,C)=>({page:g.page,shown:C<r(s).length})),!0);else if(r(s).length>=r(l).length)p(l,r(s).map(g=>({page:g,shown:!0})),!0);else{if(r(s).length===0){p(l,[{page:r(l)[r(l).length-1].page,shown:!1}],!0);return}p(l,r(s).map(g=>({page:g,shown:!0})),!0)}})});const u=()=>{p(l,r(s).map(g=>({page:g,shown:!0})),!0)};var d=uf(),f=z(d);{var v=g=>{rf(g,{})};q(f,g=>{r(o)&&g(v)})}var _=j(f,2);{var h=g=>{var C=Z(),x=z(C);Jr(x,19,()=>r(l),b=>b.page,(b,E,D)=>{const T=F(()=>r(E).page.split("?")[1]),k=F(()=>r(E).page.split("?")[0]);{let S=F(()=>r(D)!==r(l).length-1&&!!r(l)[r(D)+1]?.shown),M=F(()=>r(D)===0);vs(b,{onClosed:u,get shown(){return r(E).shown},get hidden(){return r(S)},get isLastDialog(){return r(M)},children:(Q,le)=>{{let U=F(()=>r(D)!==r(l).length-1&&!!r(l)[r(D)+1]?.shown);gs(Q,()=>r(k),()=>r(T),()=>r(U))}},$$slots:{default:!0}})}}),m(g,C)},w=g=>{var C=Z(),x=z(C);{var b=E=>{const D=F(()=>r(l)[r(l).length-1].page.split("?")[1]),T=F(()=>r(l)[r(l).length-1].page.split("?")[0]);{let k=F(()=>r(l).length===1);vs(E,{onClosed:u,get shown(){return r(l)[r(l).length-1].shown},hidden:!1,get isLastDialog(){return r(k)},children:(S,M)=>{gs(S,()=>r(T),()=>r(D))},$$slots:{default:!0}})}};q(x,E=>{r(l).length>0&&E(b)},!0)}m(g,C)};q(_,g=>{i()?g(h):g(w,!1)})}m(t,d),ae()}function ff(t,e){re(e,!1);let n=0;ke(()=>{document.addEventListener("touchstart",a=>{n=a.touches[0].clientX},{passive:!1}),document.addEventListener("touchmove",a=>{const o=a.touches[0].clientX-n;(n<30&&o>0||n>window.innerWidth-30&&o<0)&&a.preventDefault()},{passive:!1}),document.addEventListener("touchend",()=>{n=0}),document.addEventListener("touchcancel",()=>{n=0})}),Qr(),ae()}const vf=(t,e)=>{r(e)&&r(e).scrollTo({top:0})};var hf=K('<div><button class="buttonTop svelte-1n46o8q"><!> <span class="icon svelte-1n46o8q"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></span></button></div>'),gf=K('<!> <!> <main><div class="wrapperHeader svelte-1n46o8q"><!></div> <div class="container svelte-1n46o8q"><!></div></main> <!>',1);function pf(t,e){re(e,!0);const{navigate:n}=Ot(),{hasStackPage:a}=wt(),{setScrollContainer:s}=Ba(),{getAccount:o,init:i}=ko(),{isInitedNotes:l}=xn(),{getStackPagesFormUrl:c}=wt(),{createBroadcastChannel:u,tabId:d}=ar(),f=u(),{getSidebarState:v}=$r(),{setClosableDialog:_}=cn(),h=()=>{n("/?stackPages=welcome")};ke(()=>{i(H=>{H===void 0?h():((a("welcome")||a("accountSetup"))&&n("/"),H?p(b,H):p(b,null))});const O=async H=>{const ie=JSON.parse(H.data);if(ie.tabId&&ie.tabId===d)return;const oe=ie;oe.type==="initLocalAccount"||oe.type==="initCloudAccount"||oe.type==="updateAccount"||oe.type==="disconnectCloudAccount"?n("/"):oe.type==="exit"&&(n("/"),setTimeout(()=>{h()}))};return f.addEventListener(O),()=>f.removeEventListener(O)});const w=on();ke(async()=>{await new Promise(O=>setTimeout(O,250)),await no(),w.working=!0});let g=V(!1),C=0,x=F(()=>c().length>0),b=F(o),E=F(l),D=V(null);Ne(()=>{_(r(b)!==void 0)}),Ne(()=>{s(r(D))});const T=()=>{if(r(D)){const O=r(D).scrollTop||0;O===0?p(g,!1):!r(g)&&C>O?p(g,!0):r(g)&&C+50<O&&p(g,!1),C=O}},k=()=>{T()};Ne(()=>(r(D)?.addEventListener("scroll",k),window.addEventListener("resize",k),()=>{r(D)?.removeEventListener("scroll",k),window.removeEventListener("resize",k)}));const S=F(v);var M=gf(),Q=z(M);ff(Q,{});var le=j(Q,2);Rc(le,{});var U=j(le,2),ee=P(U),$=P(ee);{var Y=O=>{Wu(O,{})};q($,O=>{r(b)!==void 0&&O(Y)})}var J=j(ee,2),se=P(J);{var ne=O=>{df(O,{})};q(se,O=>{r(E)&&O(ne)})}it(U,O=>p(D,O),()=>r(D));var I=j(U,2);{var G=O=>{var H=hf(),ie=P(H);ie.__click=[vf,D];var oe=P(ie);Ze(oe,{children:(me,ge)=>{var Se=Be("top");m(me,Se)}});var te=j(oe,2),he=P(te);_e(he,()=>({"--rotate":"90deg","--size":"28px"})),we(he.lastChild,{name:"back"}),ve(()=>{Cn(H,`--swiping-ratio: ${w.swipingRatio}; --transition-timing-default: ${w.duration}s;`),Ee(H,1,Ce(["wrapperButtonTop",{isAnimationOn:w.working&&!w.isSwiping,open:r(x)||r(S).type!=="closed"}]),"svelte-1n46o8q")}),m(O,H)};q(I,O=>{r(g)&&O(G)})}ve(()=>{Cn(U,`--swiping-ratio: ${w.swipingRatio}; --transition-timing-default: ${w.duration}s;`),Ee(U,1,Ce(["main",{isAnimationOn:w.working&&!w.isSwiping,open:r(x)||r(S).type!=="closed",blockScroll:r(S).type!=="closed"}]),"svelte-1n46o8q")}),m(t,M),ae()}nt(["click"]);function _f(t){Lc(t,{children:(e,n)=>{pf(e,{})}})}window.addEventListener("unhandledrejection",t=>{alert("Error: "+t.reason.message)});window.isUnsupportedBrowser||ml(_f,{target:document.getElementById("app")});export{ko as A,tn as B,Qr as C,xn as D,La as E,yf as F,fe as G,sf as H,we as I,Ee as J,Ce as K,zo as L,bf as M,Sf as N,Cn as O,X as P,ln as Q,oc as R,it as S,Cf as T,Ro as U,Ze as V,Pu as W,Ll as X,ar as Y,Zl as Z,of as _,_e as a,Oe as b,P as c,m as d,Jr as e,K as f,r as g,V as h,q as i,ae as j,p as k,z as l,Wt as m,wt as n,ke as o,re as p,cn as q,Fe as r,j as s,ve as t,Ne as u,Z as v,nt as w,Be as x,F as y,Ot as z};
