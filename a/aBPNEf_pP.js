import{p as be,u as ye,C as Ae,D as Ie,v as Pe,o as Ce,a as y,b as K,g as m,x as xe,f as i,j as r,c as G,i as e,m as $e,s as x,n,S as oe,B as H,z as $,y as v,T as Se,U as se,P as Y,H as ne,L as ke,W as Q,X as le,Y as ie}from"./aDxdVuYxT.js";const We=async()=>"getInstalledRelatedApps"in navigator?(await navigator?.getInstalledRelatedApps?.())?.some(j=>j.platform==="webapp")??!1:!1,M=()=>window.installPrompt;var De=i('<p class="b p-nc42wy">App is already installed.</p>'),Ee=i('<p class="b p-nc42wy">For install app, select the share button and select "Add to Home Screen".</p>'),Be=i('<p class="b p-nc42wy">Install app available on Safari.</p>'),Re=i(`<p class="b p-nc42wy">From the menu bar, choose File > Add to Dock. Or click the Share button in the Safari
				toolbar, then choose Add to Dock.</p>`),Fe=i('<p class="b p-nc42wy">Installation is not supported in this browser. use Brave, Chrome or Edge.</p>'),Le=i(`<p class="b p-nc42wy">App is already installed or installation is not supported in this browser. use Brave,
					Chrome or Edge.</p>`),Oe=i('<p class="b p-nc42wy">For better experience, install app from Chrome.</p>'),He=i(`<p class="b p-nc42wy">You can install app to have a better experience and more reliable storage or you can use it in
			your browser and install later.</p> <!> <div class="c p-nc42wy"><!> <!></div>`,1),Me=i('<!> <div class="d p-nc42wy"><!></div>',1),Te=i('<p class="b p-nc42wy">Open the app from your device.</p>'),Ue=i('<!> <!> <div class="c p-nc42wy"><!> <!></div>',1),Ge=i('<div class="a p-nc42wy"><!></div>');function je(V,j){be(j,!0);const{pushDialogPage:pe,clearDialogPages:ce}=ye(),{replaceSearchParams:Z}=Ae(),{getAccount:ee}=Ie(),{blockDialog:ae}=Pe();let g=K("idle"),E=K(!1),T=K(null);const S=()=>Se()&&!se(),ve=()=>{ee()===void 0?pe(Y.AccountSetup):ce()},te=()=>{ve()},de=async()=>{const l=M();try{l&&(y(g,"installing"),"onappinstalled"in window&&window.addEventListener("appinstalled",()=>{if(y(E,!0),!Q()){ae(!1);const d=ee();Z(d===void 0?`${le}=${encodeURIComponent(`${Y.Welcome},${Y.InstallSuccess}`)}`:`${le}=${encodeURIComponent(`${Y.InstallSuccess}`)}`)}}),await l.prompt(),l.userChoice?.then(d=>{d.outcome==="accepted"?(window.installPrompt=null,Q()&&y(T,setTimeout(()=>{y(T,null),m(E)?y(g,"success"):y(g,"idle")},5e3),!0)):y(g,"idle")}))}catch{}};Ce(()=>(We().then(l=>{y(E,l,!0)}),()=>{m(T)&&clearTimeout(m(T))})),xe(()=>{ae(m(g)==="installing")});var re=Ge(),ue=G(re);{var fe=l=>{var d=He(),U=x(n(d),2);{var z=a=>{var s=De();e(a,s)},N=a=>{var s=v(),p=n(s);{var I=c=>{var b=v(),C=n(b);{var o=t=>{var u=Ee();e(t,u)},f=t=>{var u=Be();e(t,u)};r(C,t=>{ie()?t(o):t(f,!1)})}e(c,b)},P=c=>{var b=v(),C=n(b);{var o=t=>{var u=Re();e(t,u)},f=t=>{var u=v(),me=n(u);{var ge=W=>{var R=v(),X=n(R);{var q=_=>{var D=Fe();e(_,D)},F=_=>{var D=v(),J=n(D);{var L=O=>{var we=Le();e(O,we)};r(J,O=>{S()||O(L)},!0)}e(_,D)};r(X,_=>{oe()?_(F,!1):_(q)})}e(W,R)},he=W=>{var R=v(),X=n(R);{var q=F=>{var _=v(),D=n(_);{var J=L=>{var O=Oe();e(L,O)};r(D,L=>{!S()&&M()&&L(J)})}e(F,_)};r(X,F=>{Q()&&F(q)},!0)}e(W,R)};r(me,W=>{M()?W(he,!1):W(ge)},!0)}e(t,u)};r(C,t=>{ie()?t(o):t(f,!1)},!0)}e(c,b)};r(p,c=>{se()?c(I):c(P,!1)},!0)}e(a,s)};r(U,a=>{m(E)||S()&&!M()&&oe()?a(z):a(N,!1)})}var h=x(U,2),w=G(h);{var k=a=>{H(a,{onClick:de,fullWidth:!0,children:(s,p)=>{var I=$("install web app");e(s,I)},$$slots:{default:!0}})},B=a=>{var s=v(),p=n(s);{var I=P=>{H(P,{element:"a",target:"_blank",rel:"noopener noreferrer",href:`${window.location.origin}`,fullWidth:!0,children:(c,b)=>{var C=$("open app");e(c,C)},$$slots:{default:!0}})};r(p,P=>{(m(E)||S())&&P(I)},!0)}e(a,s)};r(w,a=>{M()?a(k):a(B,!1)})}var A=x(w,2);H(A,{onClick:te,fullWidth:!0,type:"secondary",children:(a,s)=>{var p=$("continue in browser");e(a,p)},$$slots:{default:!0}}),e(l,d)},_e=l=>{var d=v(),U=n(d);{var z=h=>{var w=Me(),k=n(w);ne(k,{children:(a,s)=>{var p=$("installing app...");e(a,p)}});var B=x(k,2),A=G(B);ke(A,{}),e(h,w)},N=h=>{var w=v(),k=n(w);{var B=A=>{var a=Ue(),s=n(a);ne(s,{children:(o,f)=>{var t=$("app installed successfully!");e(o,t)}});var p=x(s,2);{var I=o=>{var f=Te();e(o,f)};r(p,o=>{S()||o(I)})}var P=x(p,2),c=G(P);{var b=o=>{H(o,{element:"a",target:"_blank",rel:"noopener noreferrer",href:`${window.location.origin}`,fullWidth:!0,children:(f,t)=>{var u=$("open app");e(f,u)},$$slots:{default:!0}})};r(c,o=>{S()&&o(b)})}var C=x(c,2);H(C,{onClick:te,fullWidth:!0,type:"secondary",children:(o,f)=>{var t=$("continue in browser");e(o,t)},$$slots:{default:!0}}),e(A,a)};r(k,A=>{m(g)==="success"&&A(B)},!0)}e(h,w)};r(U,h=>{m(g)==="installing"?h(z):h(N,!1)},!0)}e(l,d)};r(ue,l=>{m(g)==="idle"?l(fe):l(_e,!1)})}e(V,re),$e()}export{je as default};
