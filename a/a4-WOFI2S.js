import{p as X,a2 as re,b as oe,w as ne,o as pe,f as G,s as t,c as e,h as v,d as m,I as h,t as H,a3 as j,a4 as q,g as o,i as R,m as Y,a as ie,r as Z,u as de,M as ve,j as V,a5 as me,A as b,P as r}from"./aBzlb8lPG.js";import{S as he}from"./av57ylxoS.js";import{S as ue}from"./aDLIK9uV5.js";var ge=G('<div class="a p-84pswu"><fieldset class="b p-84pswu"><legend class="c p-84pswu">Color Scheme</legend> <input id="light" class="c d p-84pswu" type="radio" aria-label="Light"/> <label for="light" class="e f p-84pswu" title="Light" aria-label="Light"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <input id="system" class="c d p-84pswu" type="radio" aria-label="System"/> <label for="system" class="e g p-84pswu" title="System" aria-label="System"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <input id="dark" class="c d p-84pswu" type="radio" aria-label="Dark"/> <label for="dark" class="e h p-84pswu" title="Dark" aria-label="Dark"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <div class="i p-84pswu"><div class="j p-84pswu"></div></div></fieldset></div>');function be(M,A){X(A,!0);const{createBroadcastChannel:u}=re(),n=u(),s={Light:"light",System:"system",Dark:"dark"};let _=oe(ne(localStorage.getItem("colorScheme")||s.System));const f=l=>{localStorage.setItem("colorScheme",l);const c=document.querySelector('meta[name="theme-color"]'),i=document.querySelector('meta[name="apple-mobile-web-app-status-bar-style"]');l===s.System?window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.dataset.colorScheme=s.Dark:document.documentElement.dataset.colorScheme=s.Light:document.documentElement.dataset.colorScheme=l,c&&i&&(l===s.Dark||l===s.System&&window.matchMedia("(prefers-color-scheme: dark)").matches?(c.content="#202020",i.content="black"):(c.content="#fff",i.content="black-translucent")),ie(_,l,!0)},y=l=>{const c=l.target.value;f(c),n.postMessage({type:"setColorScheme",data:{scheme:c}})},w="color-scheme-switcher";pe(()=>{const l=c=>{const i=JSON.parse(c.data);i?.type==="setColorScheme"&&i?.data.scheme&&f(i.data.scheme)};return n.addEventListener(l),()=>{n.removeEventListener(l)}});var P={setColorScheme:f,handleChange:y},E=ge(),I=e(E),d=t(e(I),2);v(d,"name",w),d.__change=y;var S=t(d,2),k=e(S);m(k,()=>({"--size":"20px"})),h(k.lastChild,{name:"sun"});var g=t(S,2);v(g,"name",w),g.__change=y;var z=t(g,2),C=e(z);m(C,()=>({"--size":"14px"})),h(C.lastChild,{name:"a"});var p=t(z,2);v(p,"name",w),p.__change=y;var $=t(p,2),x=e($);return m(x,()=>({"--size":"20px"})),h(x.lastChild,{name:"moon"}),H(()=>{j(d,s.Light),q(d,o(_)===s.Light),j(g,s.System),q(g,o(_)===s.System),j(p,s.Dark),q(p,o(_)===s.Dark)}),R(M,E),Y(P)}Z(["change"]);var _e=G('<li class="p-1tacgbz"><a class="b p-1tacgbz"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="c p-1tacgbz">Install app</span></a></li>'),ye=G('<div class="a p-1tacgbz"><!> <ul class="p-1tacgbz"><!> <!> <li class="p-1tacgbz"><a class="b p-1tacgbz"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="c p-1tacgbz">Account</span></a></li> <li class="p-1tacgbz"><a class="b p-1tacgbz"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="c p-1tacgbz">Import</span></a></li> <li class="p-1tacgbz"><a class="b p-1tacgbz"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="c p-1tacgbz">Export</span></a></li> <li class="p-1tacgbz"><a class="b p-1tacgbz"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="c p-1tacgbz">About</span></a></li></ul> <div><span class="d p-1tacgbz">record mode:</span> <!></div> <div class="e p-1tacgbz"><span class="d p-1tacgbz">favicons (by DuckDuckGo)</span> <!></div></div>');function ke(M,A){X(A,!0);const{createDialogPageHref:u,createHandleClickDialogPage:n}=de(),{setFaviconShown:s,getFaviconEnabled:_,getRecordMode:f,setRecordMode:y}=ve();let w=b(_),P=b(f);const E=a=>{s(a)};var I=ye(),d=e(I);be(d,{});var S=t(d,2),k=e(S);{var g=a=>{var L=_e(),D=e(L),N=b(()=>n(r.Install));D.__click=function(...T){o(N)?.apply(this,T)};var U=e(D);m(U,()=>({"--size":"28px"})),h(U.lastChild,{name:"install"}),H(T=>v(D,"href",T),[()=>u(r.Install)]),R(a,L)};V(k,a=>{me()||a(g)})}var z=t(k,2);V(z,a=>{});var C=t(z,2),p=e(C),$=b(()=>n(r.Account));p.__click=function(...a){o($)?.apply(this,a)};var x=e(p);m(x,()=>({"--size":"28px"})),h(x.lastChild,{name:"account"});var l=t(C,2),c=e(l),i=b(()=>n(r.ImportData));c.__click=function(...a){o(i)?.apply(this,a)};var J=e(c);m(J,()=>({"--size":"28px"})),h(J.lastChild,{name:"import"});var O=t(l,2),B=e(O),ee=b(()=>n(r.ExportData));B.__click=function(...a){o(ee)?.apply(this,a)};var W=e(B);m(W,()=>({"--size":"28px"})),h(W.lastChild,{name:"export"});var ae=t(O,2),F=e(ae),te=b(()=>n(r.About));F.__click=function(...a){o(te)?.apply(this,a)};var K=e(F);m(K,()=>({"--size":"28px"})),h(K.lastChild,{name:"about"});var Q=t(S,2),se=t(e(Q),2);ue(se,{items:[{title:"Bookmark",value:"bookmark"},{title:"Note",value:"note"}],get value(){return o(P)},onChange:a=>{y(a)}});var le=t(Q,2),ce=t(e(le),2);he(ce,{get checked(){return o(w)},onChange:E}),H((a,L,D,N)=>{v(p,"href",a),v(c,"href",L),v(B,"href",D),v(F,"href",N)},[()=>u(r.Account),()=>u(r.ImportData),()=>u(r.ExportData),()=>u(r.About)]),R(M,I),Y()}Z(["click"]);export{ke as default};
