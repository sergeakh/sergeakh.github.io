const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["a/Di3bOSJL.js","a/BAW-HnOs.css","a/z8TUQB1J.js","a/9q_jSmK4.js","a/BEGDcNQV.js","a/CoBIEQkN.css","a/k6Sas3Gp.js","a/BYiYfrGn.css","a/DGk8yB3K.js","a/A07xSe-1.css","a/bSQj4fEV.js","a/B_UsPGEu.css","a/BmAGFxq8.js","a/Cpa8lgv9.js","a/BbUUGm8r.js","a/j0KFa_-O.css","a/hu7yjlv8.css","a/CJ8CKZV5.js","a/B13vmQvq.js","a/CTZccJ9I.css","a/HOTUjnfJ.css","a/9zfSAXrY.js","a/DdvqrzuO.css","a/DfRdfUBa.js","a/B0cemaEl.css","a/wcpHUeV8.js","a/wHiSqZiK.css","a/VWDyBWg3.js","a/D7rIx20g.js","a/BJkY6727.css","a/5sHWzzxV.js","a/CTvV7MYb.css","a/Caq-W72a.js","a/D0s4m_LM.css","a/AcRlA0nj.js","a/CwLtx71M.css","a/acCsWnC4.js","a/CBB22PtM.css","a/BONuIDWM.js","a/1JBO3KHP.css"])))=>i.map(i=>d[i]);
var As=Object.defineProperty;var La=e=>{throw TypeError(e)};var Ts=(e,t,n)=>t in e?As(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Pn=(e,t,n)=>Ts(e,typeof t!="symbol"?t+"":t,n),qr=(e,t,n)=>t.has(e)||La("Cannot "+n);var N=(e,t,n)=>(qr(e,t,"read from private field"),n?n.call(e):t.get(e)),pe=(e,t,n)=>t.has(e)?La("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),re=(e,t,n,r)=>(qr(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),qe=(e,t,n)=>(qr(e,t,"access private method"),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();const eo=!1;var ua=Array.isArray,Ns=Array.prototype.indexOf,da=Array.from,Qr=Object.defineProperty,Dn=Object.getOwnPropertyDescriptor,to=Object.getOwnPropertyDescriptors,Ls=Object.prototype,Bs=Array.prototype,fa=Object.getPrototypeOf,Ba=Object.isExtensible;const ye=()=>{};function Ms(e){return typeof e?.then=="function"}function Is(e){return e()}function kr(e){for(var t=0;t<e.length;t++)e[t]()}function Os(){var e,t,n=new Promise((r,a)=>{e=r,t=a});return{promise:n,resolve:e,reject:t}}function Rs(e,t,n=!1){return e===void 0?n?t():t:e}const tt=2,va=4,Tr=8,Fn=16,Bt=32,_n=64,ha=128,lt=256,Cr=512,je=1024,ct=2048,Jt=4096,gt=8192,pn=16384,ga=32768,zn=65536,Ma=1<<17,Fs=1<<18,Hn=1<<19,no=1<<20,$r=1<<21,_a=1<<22,dn=1<<23,fn=Symbol("$state"),zs=Symbol("legacy props"),Hs=Symbol(""),pa=new class extends Error{constructor(){super(...arguments);Pn(this,"name","StaleReactionError");Pn(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function ro(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Us(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function js(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Vs(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function qs(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Ws(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Ys(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function Ks(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Gs(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Xs(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Zs(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const Nr=1,Lr=2,ao=4,Js=8,Qs=16,$s=1,ei=2,ti=4,ni=8,ri=16,ai=1,oi=2,Te=Symbol(),si="http://www.w3.org/1999/xhtml";let ii=!1;function oo(e){return e===this.v}function li(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function so(e){return!li(e,this.v)}let Un=!1,ci=!1;function ui(){Un=!0}let Se=null;function Xt(e){Se=e}function Le(e){return io().get(e)}function Be(e,t){return io().set(e,t),t}function X(e,t=!1,n){Se={p:Se,c:null,e:null,s:e,x:null,l:Un&&!t?{s:null,u:null,$:[]}:null}}function Z(e){var t=Se,n=t.e;if(n!==null){t.e=null;for(var r of n)ko(r)}return e!==void 0&&(t.x=e),Se=t.p,e??{}}function jn(){return!Un||Se!==null&&Se.l===null}function io(e){return Se===null&&ro(),Se.c??(Se.c=new Map(di(Se)||void 0))}function di(e){let t=e.p;for(;t!==null;){const n=t.c;if(n!==null)return n;t=t.p}return null}let qt=[],Er=[];function lo(){var e=qt;qt=[],kr(e)}function fi(){var e=Er;Er=[],kr(e)}function vi(){return qt.length>0||Er.length>0}function mn(e){if(qt.length===0&&!Zn){var t=qt;queueMicrotask(()=>{t===qt&&lo()})}qt.push(e)}function hi(){qt.length>0&&lo(),Er.length>0&&fi()}const gi=new WeakMap;function co(e){var t=de;if(t===null)return ue.f|=dn,e;if((t.f&ga)===0){if((t.f&ha)===0)throw!t.parent&&e instanceof Error&&uo(e),e;t.b.error(e)}else In(e,t)}function In(e,t){for(;t!==null;){if((t.f&ha)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e instanceof Error&&uo(e),e}function uo(e){const t=gi.get(e);t&&(Qr(e,"message",{value:t.message}),Qr(e,"stack",{value:t.stack}))}const Wr=new Set;let Ce=null,mr=null,ea=new Set,gn=[],Br=null,ta=!1,Zn=!1;var nr,Ln,zt,rr,ar,on,Bn,sn,Ht,Mn,or,sr,_t,fo,wr,na;const xr=class xr{constructor(){pe(this,_t);Pn(this,"current",new Map);pe(this,nr,new Map);pe(this,Ln,new Set);pe(this,zt,0);pe(this,rr,null);pe(this,ar,!1);pe(this,on,[]);pe(this,Bn,[]);pe(this,sn,[]);pe(this,Ht,[]);pe(this,Mn,[]);pe(this,or,[]);pe(this,sr,[]);Pn(this,"skipped_effects",new Set)}process(t){gn=[],mr=null;for(const a of t)qe(this,_t,fo).call(this,a);if(N(this,on).length===0&&N(this,zt)===0){qe(this,_t,na).call(this);var n=N(this,sn),r=N(this,Ht);re(this,sn,[]),re(this,Ht,[]),re(this,Mn,[]),mr=Ce,Ce=null,Ia(n),Ia(r),Ce===null?Ce=this:Wr.delete(this),N(this,rr)?.resolve()}else qe(this,_t,wr).call(this,N(this,sn)),qe(this,_t,wr).call(this,N(this,Ht)),qe(this,_t,wr).call(this,N(this,Mn));for(const a of N(this,on))Nn(a);for(const a of N(this,Bn))Nn(a);re(this,on,[]),re(this,Bn,[])}capture(t,n){N(this,nr).has(t)||N(this,nr).set(t,n),this.current.set(t,t.v)}activate(){Ce=this}deactivate(){Ce=null,mr=null;for(const t of ea)if(ea.delete(t),t(),Ce!==null)break}neuter(){re(this,ar,!0)}flush(){gn.length>0?ho():qe(this,_t,na).call(this),Ce===this&&(N(this,zt)===0&&Wr.delete(this),this.deactivate())}increment(){re(this,zt,N(this,zt)+1)}decrement(){if(re(this,zt,N(this,zt)-1),N(this,zt)===0){for(const t of N(this,or))Ze(t,ct),On(t);for(const t of N(this,sr))Ze(t,Jt),On(t);re(this,sn,[]),re(this,Ht,[]),this.flush()}else this.deactivate()}add_callback(t){N(this,Ln).add(t)}settled(){return(N(this,rr)??re(this,rr,Os())).promise}static ensure(){if(Ce===null){const t=Ce=new xr;Wr.add(Ce),Zn||xr.enqueue(()=>{Ce===t&&t.flush()})}return Ce}static enqueue(t){mn(t)}};nr=new WeakMap,Ln=new WeakMap,zt=new WeakMap,rr=new WeakMap,ar=new WeakMap,on=new WeakMap,Bn=new WeakMap,sn=new WeakMap,Ht=new WeakMap,Mn=new WeakMap,or=new WeakMap,sr=new WeakMap,_t=new WeakSet,fo=function(t){t.f^=je;for(var n=t.first;n!==null;){var r=n.f,a=(r&(Bt|_n))!==0,o=a&&(r&je)!==0,i=o||(r&gt)!==0||this.skipped_effects.has(n);if(!i&&n.fn!==null){if(a)n.f^=je;else if((r&va)!==0)N(this,Ht).push(n);else if((r&je)===0)if((r&_a)!==0){var l=n.b?.is_pending()?N(this,Bn):N(this,on);l.push(n)}else Rr(n)&&((n.f&Fn)!==0&&N(this,Mn).push(n),Nn(n));var c=n.first;if(c!==null){n=c;continue}}var u=n.parent;for(n=n.next;n===null&&u!==null;)n=u.next,u=u.parent}},wr=function(t){for(const n of t)((n.f&ct)!==0?N(this,or):N(this,sr)).push(n),Ze(n,je);t.length=0},na=function(){if(!N(this,ar))for(const t of N(this,Ln))t();N(this,Ln).clear()};let Yt=xr;function vo(e){var t=Zn;Zn=!0;try{for(var n;;){if(hi(),gn.length===0&&!vi()&&(Ce?.flush(),gn.length===0))return Br=null,n;ho()}}finally{Zn=t}}function ho(){var e=Tn;ta=!0;try{var t=0;for(Fa(!0);gn.length>0;){var n=Yt.ensure();if(t++>1e3){var r,a;_i()}n.process(gn),Kt.clear()}}finally{ta=!1,Fa(e),Br=null}}function _i(){try{Ws()}catch(e){In(e,Br)}}let rn=null;function Ia(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if((r.f&(pn|gt))===0&&Rr(r)&&(rn=[],Nn(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?Po(r):r.fn=null),rn?.length>0)){Kt.clear();for(const a of rn)Nn(a);rn=[]}}rn=null}}function On(e){for(var t=Br=e;t.parent!==null;){t=t.parent;var n=t.f;if(ta&&t===de&&(n&Fn)!==0)return;if((n&(_n|Bt))!==0){if((n&je)===0)return;t.f^=je}}gn.push(t)}function pi(e){let t=0,n=Nt(0),r;return()=>{Bi()&&(s(n),Or(()=>(t===0&&(r=Pt(()=>e(()=>Jn(n)))),t+=1,()=>{mn(()=>{t-=1,t===0&&(r?.(),r=void 0,Jn(n))})})))}}var mi=zn|Hn|ha;function wi(e,t,n){new yi(e,t,n)}var vt,st,ca,St,ln,kt,it,Xe,Ct,Ut,cn,jt,un,Vt,Dr,Ar,Ye,bi,Si,yr,br,ra;class yi{constructor(t,n,r){pe(this,Ye);Pn(this,"parent");pe(this,vt,!1);pe(this,st);pe(this,ca,null);pe(this,St);pe(this,ln);pe(this,kt);pe(this,it,null);pe(this,Xe,null);pe(this,Ct,null);pe(this,Ut,null);pe(this,cn,0);pe(this,jt,0);pe(this,un,!1);pe(this,Vt,null);pe(this,Dr,()=>{N(this,Vt)&&At(N(this,Vt),N(this,cn))});pe(this,Ar,pi(()=>(re(this,Vt,Nt(N(this,cn))),()=>{re(this,Vt,null)})));re(this,st,t),re(this,St,n),re(this,ln,r),this.parent=de.b,re(this,vt,!!N(this,St).pending),re(this,kt,Vn(()=>{de.b=this;{try{re(this,it,Ue(()=>r(N(this,st))))}catch(a){this.error(a)}N(this,jt)>0?qe(this,Ye,br).call(this):re(this,vt,!1)}},mi))}is_pending(){return N(this,vt)||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!N(this,St).pending}update_pending_count(t){qe(this,Ye,ra).call(this,t),re(this,cn,N(this,cn)+t),ea.add(N(this,Dr))}get_effect_pending(){return N(this,Ar).call(this),s(N(this,Vt))}error(t){var n=N(this,St).onerror;let r=N(this,St).failed;if(N(this,un)||!n&&!r)throw t;N(this,it)&&(et(N(this,it)),re(this,it,null)),N(this,Xe)&&(et(N(this,Xe)),re(this,Xe,null)),N(this,Ct)&&(et(N(this,Ct)),re(this,Ct,null));var a=!1,o=!1;const i=()=>{if(a){return}a=!0,o&&Zs(),Yt.ensure(),re(this,cn,0),N(this,Ct)!==null&&Et(N(this,Ct),()=>{re(this,Ct,null)}),re(this,vt,this.has_pending_snippet()),re(this,it,qe(this,Ye,yr).call(this,()=>(re(this,un,!1),Ue(()=>N(this,ln).call(this,N(this,st)))))),N(this,jt)>0?qe(this,Ye,br).call(this):re(this,vt,!1)};var l=ue;try{Ve(null),o=!0,n?.(t,i),o=!1}catch(c){In(c,N(this,kt)&&N(this,kt).parent)}finally{Ve(l)}r&&mn(()=>{re(this,Ct,qe(this,Ye,yr).call(this,()=>{re(this,un,!0);try{return Ue(()=>{r(N(this,st),()=>t,()=>i)})}catch(c){return In(c,N(this,kt).parent),null}finally{re(this,un,!1)}}))})}}vt=new WeakMap,st=new WeakMap,ca=new WeakMap,St=new WeakMap,ln=new WeakMap,kt=new WeakMap,it=new WeakMap,Xe=new WeakMap,Ct=new WeakMap,Ut=new WeakMap,cn=new WeakMap,jt=new WeakMap,un=new WeakMap,Vt=new WeakMap,Dr=new WeakMap,Ar=new WeakMap,Ye=new WeakSet,bi=function(){try{re(this,it,Ue(()=>N(this,ln).call(this,N(this,st))))}catch(t){this.error(t)}re(this,vt,!1)},Si=function(){const t=N(this,St).pending;t&&(re(this,Xe,Ue(()=>t(N(this,st)))),Yt.enqueue(()=>{re(this,it,qe(this,Ye,yr).call(this,()=>(Yt.ensure(),Ue(()=>N(this,ln).call(this,N(this,st)))))),N(this,jt)>0?qe(this,Ye,br).call(this):(Et(N(this,Xe),()=>{re(this,Xe,null)}),re(this,vt,!1))}))},yr=function(t){var n=de,r=ue,a=Se;ut(N(this,kt)),Ve(N(this,kt)),Xt(N(this,kt).ctx);try{return t()}catch(o){return co(o),null}finally{ut(n),Ve(r),Xt(a)}},br=function(){const t=N(this,St).pending;N(this,it)!==null&&(re(this,Ut,document.createDocumentFragment()),ki(N(this,it),N(this,Ut))),N(this,Xe)===null&&re(this,Xe,Ue(()=>t(N(this,st))))},ra=function(t){var n;if(!this.has_pending_snippet()){this.parent&&qe(n=this.parent,Ye,ra).call(n,t);return}re(this,jt,N(this,jt)+t),N(this,jt)===0&&(re(this,vt,!1),N(this,Xe)&&Et(N(this,Xe),()=>{re(this,Xe,null)}),N(this,Ut)&&(N(this,st).before(N(this,Ut)),re(this,Ut,null)))};function ki(e,t){for(var n=e.nodes_start,r=e.nodes_end;n!==null;){var a=n===r?null:lr(n);t.append(n),n=a}}function Ci(e,t,n){const r=jn()?ir:Mr;if(t.length===0){n(e.map(r));return}var a=Ce,o=de,i=Ei();Promise.all(t.map(l=>Pi(l))).then(l=>{a?.activate(),i();try{n([...e.map(r),...l])}catch(c){(o.f&pn)===0&&In(c,o)}a?.deactivate(),go()}).catch(l=>{In(l,o)})}function Ei(){var e=de,t=ue,n=Se,r=Ce;return function(){ut(e),Ve(t),Xt(n),r?.activate()}}function go(){ut(null),Ve(null),Xt(null)}function ir(e){var t=tt|ct,n=ue!==null&&(ue.f&tt)!==0?ue:null;return de===null||n!==null&&(n.f&lt)!==0?t|=lt:de.f|=Hn,{ctx:Se,deps:null,effects:null,equals:oo,f:t,fn:e,reactions:null,rv:0,v:Te,wv:0,parent:n??de,ac:null}}function Pi(e,t){let n=de;n===null&&Us();var r=n.b,a=void 0,o=Nt(Te),i=null,l=!ue;return Fi(()=>{try{var c=e();i&&Promise.resolve(c).catch(()=>{})}catch(h){c=Promise.reject(h)}var u=()=>c;a=i?.then(u,u)??Promise.resolve(c),i=a;var d=Ce,v=r.is_pending();l&&(r.update_pending_count(1),v||d.increment());const g=(h,f=void 0)=>{i=null,v||d.activate(),f?f!==pa&&(o.f|=dn,At(o,f)):((o.f&dn)!==0&&(o.f^=dn),At(o,h)),l&&(r.update_pending_count(-1),v||d.decrement()),go()};if(a.then(g,h=>g(null,h||"unknown")),d)return()=>{queueMicrotask(()=>d.neuter())}}),new Promise(c=>{function u(d){function v(){d===a?c(o):u(a)}d.then(v,v)}u(a)})}function O(e){const t=ir(e);return Ao(t),t}function Mr(e){const t=ir(e);return t.equals=so,t}function _o(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)et(t[n])}}function xi(e){for(var t=e.parent;t!==null;){if((t.f&tt)===0)return t;t=t.parent}return null}function ma(e){var t,n=de;ut(xi(e));try{_o(e),t=Bo(e)}finally{ut(n)}return t}function po(e){var t=ma(e);if(e.equals(t)||(e.v=t,e.wv=No()),!yn){var n=(Wt||(e.f&lt)!==0)&&e.deps!==null?Jt:je;Ze(e,n)}}const Kt=new Map;function Nt(e,t){var n={f:0,v:e,reactions:null,equals:oo,rv:0,wv:0};return n}function F(e,t){const n=Nt(e);return Ao(n),n}function aa(e,t=!1,n=!0){var a;const r=Nt(e);return t||(r.equals=so),Un&&n&&Se!==null&&Se.l!==null&&((a=Se.l).s??(a.s=[])).push(r),r}function m(e,t,n=!1){ue!==null&&(!ht||(ue.f&Ma)!==0)&&jn()&&(ue.f&(tt|Fn|_a|Ma))!==0&&!Tt?.includes(e)&&Xs();let r=n?Oe(t):t;return At(e,r)}function At(e,t){if(!e.equals(t)){var n=e.v;yn?Kt.set(e,t):Kt.set(e,n),e.v=t;var r=Yt.ensure();r.capture(e,n),(e.f&tt)!==0&&((e.f&ct)!==0&&ma(e),Ze(e,(e.f&lt)===0?je:Jt)),e.wv=No(),mo(e,ct),jn()&&de!==null&&(de.f&je)!==0&&(de.f&(Bt|_n))===0&&(ot===null?Ui([e]):ot.push(e))}return t}function Jn(e){m(e,e.v+1)}function mo(e,t){var n=e.reactions;if(n!==null)for(var r=jn(),a=n.length,o=0;o<a;o++){var i=n[o],l=i.f;if(!(!r&&i===de)){var c=(l&ct)===0;c&&Ze(i,t),(l&tt)!==0?mo(i,Jt):c&&((l&Fn)!==0&&rn!==null&&rn.push(i),On(i))}}}function Oe(e){if(typeof e!="object"||e===null||fn in e)return e;const t=fa(e);if(t!==Ls&&t!==Bs)return e;var n=new Map,r=ua(e),a=F(0),o=vn,i=l=>{if(vn===o)return l();var c=ue,u=vn;Ve(null),Ha(o);var d=l();return Ve(c),Ha(u),d};return r&&n.set("length",F(e.length)),new Proxy(e,{defineProperty(l,c,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&Ks();var d=n.get(c);return d===void 0?d=i(()=>{var v=F(u.value);return n.set(c,v),v}):m(d,u.value,!0),!0},deleteProperty(l,c){var u=n.get(c);if(u===void 0){if(c in l){const d=i(()=>F(Te));n.set(c,d),Jn(a)}}else m(u,Te),Jn(a);return!0},get(l,c,u){if(c===fn)return e;var d=n.get(c),v=c in l;if(d===void 0&&(!v||Dn(l,c)?.writable)&&(d=i(()=>{var h=Oe(v?l[c]:Te),f=F(h);return f}),n.set(c,d)),d!==void 0){var g=s(d);return g===Te?void 0:g}return Reflect.get(l,c,u)},getOwnPropertyDescriptor(l,c){var u=Reflect.getOwnPropertyDescriptor(l,c);if(u&&"value"in u){var d=n.get(c);d&&(u.value=s(d))}else if(u===void 0){var v=n.get(c),g=v?.v;if(v!==void 0&&g!==Te)return{enumerable:!0,configurable:!0,value:g,writable:!0}}return u},has(l,c){if(c===fn)return!0;var u=n.get(c),d=u!==void 0&&u.v!==Te||Reflect.has(l,c);if(u!==void 0||de!==null&&(!d||Dn(l,c)?.writable)){u===void 0&&(u=i(()=>{var g=d?Oe(l[c]):Te,h=F(g);return h}),n.set(c,u));var v=s(u);if(v===Te)return!1}return d},set(l,c,u,d){var v=n.get(c),g=c in l;if(r&&c==="length")for(var h=u;h<v.v;h+=1){var f=n.get(h+"");f!==void 0?m(f,Te):h in l&&(f=i(()=>F(Te)),n.set(h+"",f))}if(v===void 0)(!g||Dn(l,c)?.writable)&&(v=i(()=>F(void 0)),m(v,Oe(u)),n.set(c,v));else{g=v.v!==Te;var _=i(()=>Oe(u));m(v,_)}var w=Reflect.getOwnPropertyDescriptor(l,c);if(w?.set&&w.set.call(d,u),!g){if(r&&typeof c=="string"){var b=n.get("length"),k=Number(c);Number.isInteger(k)&&k>=b.v&&m(b,k+1)}Jn(a)}return!0},ownKeys(l){s(a);var c=Reflect.ownKeys(l).filter(v=>{var g=n.get(v);return g===void 0||g.v!==Te});for(var[u,d]of n)d.v!==Te&&!(u in l)&&c.push(u);return c},setPrototypeOf(){Gs()}})}var Oa,wo,yo,bo;function Di(){if(Oa===void 0){Oa=window,wo=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;yo=Dn(t,"firstChild").get,bo=Dn(t,"nextSibling").get,Ba(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Ba(n)&&(n.__t=void 0)}}function wn(e=""){return document.createTextNode(e)}function Rn(e){return yo.call(e)}function lr(e){return bo.call(e)}function D(e,t){return Rn(e)}function L(e,t=!1){{var n=Rn(e);return n instanceof Comment&&n.data===""?lr(n):n}}function z(e,t=1,n=!1){let r=e;for(;t--;)r=lr(r);return r}function Ai(e){e.textContent=""}function wa(){return!1}let Ra=!1;function Ti(){Ra||(Ra=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function Ir(e){var t=ue,n=de;Ve(null),ut(null);try{return e()}finally{Ve(t),ut(n)}}function Ni(e,t,n,r=n){e.addEventListener(t,()=>Ir(n));const a=e.__on_r;a?e.__on_r=()=>{a(),r(!0)}:e.__on_r=()=>r(!0),Ti()}function So(e){de===null&&ue===null&&qs(),ue!==null&&(ue.f&lt)!==0&&de===null&&Vs(),yn&&js()}function Li(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function Dt(e,t,n,r=!0){var a=de;a!==null&&(a.f&gt)!==0&&(e|=gt);var o={ctx:Se,deps:null,nodes_start:null,nodes_end:null,f:e|ct,first:null,fn:t,last:null,next:null,parent:a,b:a&&a.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{Nn(o),o.f|=ga}catch(c){throw et(o),c}else t!==null&&On(o);if(r){var i=o;if(n&&i.deps===null&&i.teardown===null&&i.nodes_start===null&&i.first===i.last&&(i.f&Hn)===0&&(i=i.first),i!==null&&(i.parent=a,a!==null&&Li(i,a),ue!==null&&(ue.f&tt)!==0&&(e&_n)===0)){var l=ue;(l.effects??(l.effects=[])).push(i)}}return o}function Bi(){return ue!==null&&!ht}function Mi(e){const t=Dt(Tr,null,!1);return Ze(t,je),t.teardown=e,t}function Ne(e){So();var t=de.f,n=!ue&&(t&Bt)!==0&&(t&ga)===0;if(n){var r=Se;(r.e??(r.e=[])).push(e)}else return ko(e)}function ko(e){return Dt(va|no,e,!1)}function Ii(e){return So(),Dt(Tr|no,e,!0)}function Oi(e){Yt.ensure();const t=Dt(_n|Hn,e,!0);return(n={})=>new Promise(r=>{n.outro?Et(t,()=>{et(t),r(void 0)}):(et(t),r(void 0))})}function Ri(e){return Dt(va,e,!1)}function Fi(e){return Dt(_a|Hn,e,!0)}function Or(e,t=0){return Dt(Tr|t,e,!0)}function fe(e,t=[],n=[]){Ci(t,n,r=>{Dt(Tr,()=>e(...r.map(s)),!0)})}function Vn(e,t=0){var n=Dt(Fn|t,e,!0);return n}function Ue(e,t=!0){return Dt(Bt|Hn,e,!0,t)}function Co(e){var t=e.teardown;if(t!==null){const n=yn,r=ue;za(!0),Ve(null);try{t.call(null)}finally{za(n),Ve(r)}}}function Eo(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const a=n.ac;a!==null&&Ir(()=>{a.abort(pa)});var r=n.next;(n.f&_n)!==0?n.parent=null:et(n,t),n=r}}function zi(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&Bt)===0&&et(t),t=n}}function et(e,t=!0){var n=!1;(t||(e.f&Fs)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(Hi(e.nodes_start,e.nodes_end),n=!0),Eo(e,t&&!n),Pr(e,0),Ze(e,pn);var r=e.transitions;if(r!==null)for(const o of r)o.stop();Co(e);var a=e.parent;a!==null&&a.first!==null&&Po(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function Hi(e,t){for(;e!==null;){var n=e===t?null:lr(e);e.remove(),e=n}}function Po(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function Et(e,t){var n=[];ya(e,n,!0),xo(n,()=>{et(e),t&&t()})}function xo(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var a of e)a.out(r)}else t()}function ya(e,t,n){if((e.f&gt)===0){if(e.f^=gt,e.transitions!==null)for(const i of e.transitions)(i.is_global||n)&&t.push(i);for(var r=e.first;r!==null;){var a=r.next,o=(r.f&zn)!==0||(r.f&Bt)!==0;ya(r,t,o?n:!1),r=a}}}function An(e){Do(e,!0)}function Do(e,t){if((e.f&gt)!==0){e.f^=gt,(e.f&je)===0&&(Ze(e,ct),On(e));for(var n=e.first;n!==null;){var r=n.next,a=(n.f&zn)!==0||(n.f&Bt)!==0;Do(n,a?t:!1),n=r}if(e.transitions!==null)for(const o of e.transitions)(o.is_global||t)&&o.in()}}let Tn=!1;function Fa(e){Tn=e}let yn=!1;function za(e){yn=e}let ue=null,ht=!1;function Ve(e){ue=e}let de=null;function ut(e){de=e}let Tt=null;function Ao(e){ue!==null&&(Tt===null?Tt=[e]:Tt.push(e))}let We=null,Qe=0,ot=null;function Ui(e){ot=e}let To=1,$n=0,vn=$n;function Ha(e){vn=e}let Wt=!1;function No(){return++To}function Rr(e){var t=e.f;if((t&ct)!==0)return!0;if((t&Jt)!==0){var n=e.deps,r=(t&lt)!==0;if(n!==null){var a,o,i=(t&Cr)!==0,l=r&&de!==null&&!Wt,c=n.length;if((i||l)&&(de===null||(de.f&pn)===0)){var u=e,d=u.parent;for(a=0;a<c;a++)o=n[a],(i||!o?.reactions?.includes(u))&&(o.reactions??(o.reactions=[])).push(u);i&&(u.f^=Cr),l&&d!==null&&(d.f&lt)===0&&(u.f^=lt)}for(a=0;a<c;a++)if(o=n[a],Rr(o)&&po(o),o.wv>e.wv)return!0}(!r||de!==null&&!Wt)&&Ze(e,je)}return!1}function Lo(e,t,n=!0){var r=e.reactions;if(r!==null&&!Tt?.includes(e))for(var a=0;a<r.length;a++){var o=r[a];(o.f&tt)!==0?Lo(o,t,!1):t===o&&(n?Ze(o,ct):(o.f&je)!==0&&Ze(o,Jt),On(o))}}function Bo(e){var _;var t=We,n=Qe,r=ot,a=ue,o=Wt,i=Tt,l=Se,c=ht,u=vn,d=e.f;We=null,Qe=0,ot=null,Wt=(d&lt)!==0&&(ht||!Tn||ue===null),ue=(d&(Bt|_n))===0?e:null,Tt=null,Xt(e.ctx),ht=!1,vn=++$n,e.ac!==null&&(Ir(()=>{e.ac.abort(pa)}),e.ac=null);try{e.f|=$r;var v=e.fn,g=v(),h=e.deps;if(We!==null){var f;if(Pr(e,Qe),h!==null&&Qe>0)for(h.length=Qe+We.length,f=0;f<We.length;f++)h[Qe+f]=We[f];else e.deps=h=We;if(!Wt||(d&tt)!==0&&e.reactions!==null)for(f=Qe;f<h.length;f++)((_=h[f]).reactions??(_.reactions=[])).push(e)}else h!==null&&Qe<h.length&&(Pr(e,Qe),h.length=Qe);if(jn()&&ot!==null&&!ht&&h!==null&&(e.f&(tt|Jt|ct))===0)for(f=0;f<ot.length;f++)Lo(ot[f],e);return a!==null&&a!==e&&($n++,ot!==null&&(r===null?r=ot:r.push(...ot))),(e.f&dn)!==0&&(e.f^=dn),g}catch(w){return co(w)}finally{e.f^=$r,We=t,Qe=n,ot=r,ue=a,Wt=o,Tt=i,Xt(l),ht=c,vn=u}}function ji(e,t){let n=t.reactions;if(n!==null){var r=Ns.call(n,e);if(r!==-1){var a=n.length-1;a===0?n=t.reactions=null:(n[r]=n[a],n.pop())}}n===null&&(t.f&tt)!==0&&(We===null||!We.includes(t))&&(Ze(t,Jt),(t.f&(lt|Cr))===0&&(t.f^=Cr),_o(t),Pr(t,0))}function Pr(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)ji(e,n[r])}function Nn(e){var t=e.f;if((t&pn)===0){Ze(e,je);var n=de,r=Tn;de=e,Tn=!0;try{(t&Fn)!==0?zi(e):Eo(e),Co(e);var a=Bo(e);e.teardown=typeof a=="function"?a:null,e.wv=To;var o;eo&&ci&&(e.f&ct)!==0&&e.deps}finally{Tn=r,de=n}}}async function Mo(){await Promise.resolve(),vo()}function s(e){var t=e.f,n=(t&tt)!==0;if(ue!==null&&!ht){var r=de!==null&&(de.f&pn)!==0;if(!r&&!Tt?.includes(e)){var a=ue.deps;if((ue.f&$r)!==0)e.rv<$n&&(e.rv=$n,We===null&&a!==null&&a[Qe]===e?Qe++:We===null?We=[e]:(!Wt||!We.includes(e))&&We.push(e));else{(ue.deps??(ue.deps=[])).push(e);var o=e.reactions;o===null?e.reactions=[ue]:o.includes(ue)||o.push(ue)}}}else if(n&&e.deps===null&&e.effects===null){var i=e,l=i.parent;l!==null&&(l.f&lt)===0&&(i.f^=lt)}if(yn){if(Kt.has(e))return Kt.get(e);if(n){i=e;var c=i.v;return((i.f&je)===0&&i.reactions!==null||Io(i))&&(c=ma(i)),Kt.set(i,c),c}}else n&&(i=e,Rr(i)&&po(i));if((e.f&dn)!==0)throw e.v;return e.v}function Io(e){if(e.v===Te)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(Kt.has(t)||(t.f&tt)!==0&&Io(t))return!0;return!1}function Pt(e){var t=ht;try{return ht=!0,e()}finally{ht=t}}const Vi=-7169;function Ze(e,t){e.f=e.f&Vi|t}function qi(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(fn in e)oa(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&fn in n&&oa(n)}}}function oa(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{oa(e[r],t)}catch{}const n=fa(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=to(n);for(let a in r){const o=r[a].get;if(o)try{o.call(e)}catch{}}}}}const Wi=["touchstart","touchmove"];function Yi(e){return Wi.includes(e)}const Oo=new Set,sa=new Set;function Ki(e,t,n,r={}){function a(o){if(r.capture||Yn.call(t,o),!o.cancelBubble)return Ir(()=>n?.call(this,o))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?mn(()=>{t.addEventListener(e,a,r)}):t.addEventListener(e,a,r),a}function ba(e,t,n,r,a){var o={capture:r,passive:a},i=Ki(e,t,n,o);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&Mi(()=>{t.removeEventListener(e,i,o)})}function nt(e){for(var t=0;t<e.length;t++)Oo.add(e[t]);for(var n of sa)n(e)}let Ua=null;function Yn(e){var t=this,n=t.ownerDocument,r=e.type,a=e.composedPath?.()||[],o=a[0]||e.target;Ua=e;var i=0,l=Ua===e&&e.__root;if(l){var c=a.indexOf(l);if(c!==-1&&(t===document||t===window)){e.__root=t;return}var u=a.indexOf(t);if(u===-1)return;c<=u&&(i=c)}if(o=a[i]||e.target,o!==t){Qr(e,"currentTarget",{configurable:!0,get(){return o||n}});var d=ue,v=de;Ve(null),ut(null);try{for(var g,h=[];o!==null;){var f=o.assignedSlot||o.parentNode||o.host||null;try{var _=o["__"+r];if(_!=null&&(!o.disabled||e.target===o))if(ua(_)){var[w,...b]=_;w.apply(o,[e,...b])}else _.call(o,e)}catch(k){g?h.push(k):g=k}if(e.cancelBubble||f===t||f===null)break;o=f}if(g){for(let k of h)queueMicrotask(()=>{throw k});throw g}}finally{e.__root=t,delete e.currentTarget,Ve(d),ut(v)}}}function Ro(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function er(e,t){var n=de;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function j(e,t){var n=(t&ai)!==0,r=(t&oi)!==0,a,o=!e.startsWith("<!>");return()=>{a===void 0&&(a=Ro(o?e:"<!>"+e),n||(a=Rn(a)));var i=r||wo?document.importNode(a,!0):a.cloneNode(!0);if(n){var l=Rn(i),c=i.lastChild;er(l,c)}else er(i,i);return i}}function Gi(e,t,n="svg"){var r=!e.startsWith("<!>"),a=`<${n}>${r?e:"<!>"+e}</${n}>`,o;return()=>{if(!o){var i=Ro(a),l=Rn(i);o=Rn(l)}var c=o.cloneNode(!0);return er(c,c),c}}function Xi(e,t){return Gi(e,t,"svg")}function Ae(e=""){{var t=wn(e+"");return er(t,t),t}}function U(){var e=document.createDocumentFragment(),t=document.createComment(""),n=wn();return e.append(t,n),er(t,n),e}function p(e,t){e!==null&&e.before(t)}function bd(){var e;return(e=window.__svelte??(window.__svelte={})).uid??(e.uid=1),`c${window.__svelte.uid++}`}function Gt(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function Zi(e,t){return Ji(e,t)}const xn=new Map;function Ji(e,{target:t,anchor:n,props:r={},events:a,context:o,intro:i=!0}){Di();var l=new Set,c=v=>{for(var g=0;g<v.length;g++){var h=v[g];if(!l.has(h)){l.add(h);var f=Yi(h);t.addEventListener(h,Yn,{passive:f});var _=xn.get(h);_===void 0?(document.addEventListener(h,Yn,{passive:f}),xn.set(h,1)):xn.set(h,_+1)}}};c(da(Oo)),sa.add(c);var u=void 0,d=Oi(()=>{var v=n??t.appendChild(wn());return wi(v,{pending:()=>{}},g=>{if(o){X({});var h=Se;h.c=o}a&&(r.$$events=a),u=e(g,r)||{},o&&Z()}),()=>{for(var g of l){t.removeEventListener(g,Yn);var h=xn.get(g);--h===0?(document.removeEventListener(g,Yn),xn.delete(g)):xn.set(g,h)}sa.delete(c),v!==n&&v.parentNode?.removeChild(v)}});return Qi.set(u,d),u}let Qi=new WeakMap;const Yr=0,gr=1,Kr=2;function Fo(e,t,n,r,a){var o=e,i=jn(),l=Se,c=Te,u,d,v,g=i?Nt(void 0):aa(void 0,!1,!1),h=i?Nt(void 0):aa(void 0,!1,!1),f=!1;function _(b,k){f=!0,k&&(ut(w),Ve(w),Xt(l));try{b===Yr&&n&&(u?An(u):u=Ue(()=>n(o))),b===gr&&r&&(d?An(d):d=Ue(()=>r(o,g))),b===Kr&&a&&(v?An(v):v=Ue(()=>a(o,h))),b!==Yr&&u&&Et(u,()=>u=null),b!==gr&&d&&Et(d,()=>d=null),b!==Kr&&v&&Et(v,()=>v=null)}finally{k&&(Xt(null),Ve(null),ut(null),vo())}}var w=Vn(()=>{if(c!==(c=t())){if(Ms(c)){var b=c;f=!1,b.then(k=>{b===c&&(At(g,k),_(gr,!0))},k=>{if(b===c&&(At(h,k),_(Kr,!0),!a))throw h.v}),mn(()=>{f||_(Yr,!0)})}else At(g,c),_(gr,!1);return()=>c=Te}})}function W(e,t,n=!1){var r=e,a=null,o=null,i=Te,l=n?zn:0,c=!1;const u=(h,f=!0)=>{c=!0,g(f,h)};var d=null;function v(){d!==null&&(d.lastChild.remove(),r.before(d),d=null);var h=i?a:o,f=i?o:a;h&&An(h),f&&Et(f,()=>{i?o=null:a=null})}const g=(h,f)=>{if(i!==(i=h)){var _=wa(),w=r;if(_&&(d=document.createDocumentFragment(),d.append(w=wn())),i?a??(a=f&&Ue(()=>f(w))):o??(o=f&&Ue(()=>f(w))),_){var b=Ce,k=i?a:o,y=i?o:a;k&&b.skipped_effects.delete(k),y&&b.skipped_effects.add(y),b.add_callback(v)}else v()}};Vn(()=>{c=!1,t(u),c||g(null,null)},l)}function be(e,t){Or(()=>{var n=t();for(var r in n){var a=n[r];a?e.style.setProperty(r,a):e.style.removeProperty(r)}})}function $i(e,t,n){for(var r=e.items,a=[],o=t.length,i=0;i<o;i++)ya(t[i].e,a,!0);var l=o>0&&a.length===0&&n!==null;if(l){var c=n.parentNode;Ai(c),c.append(n),r.clear(),bt(e,t[0].prev,t[o-1].next)}xo(a,()=>{for(var u=0;u<o;u++){var d=t[u];l||(r.delete(d.k),bt(e,d.prev,d.next)),et(d.e,!l)}})}function Fr(e,t,n,r,a,o=null){var i=e,l={flags:t,items:new Map,first:null},c=(t&ao)!==0;if(c){var u=e;i=u.appendChild(wn())}var d=null,v=!1,g=new Map,h=Mr(()=>{var b=n();return ua(b)?b:b==null?[]:da(b)}),f,_;function w(){el(_,f,l,g,i,a,t,r,n),o!==null&&(f.length===0?d?An(d):d=Ue(()=>o(i)):d!==null&&Et(d,()=>{d=null}))}Vn(()=>{_??(_=de),f=s(h);var b=f.length;if(!(v&&b===0)){v=b===0;var k,y,x,B;if(wa()){var E=new Set,A=Ce;for(y=0;y<b;y+=1){x=f[y],B=r(x,y);var T=l.items.get(B)??g.get(B);T?(t&(Nr|Lr))!==0&&zo(T,x,y,t):(k=Ho(null,l,null,null,x,B,y,a,t,n,!0),g.set(B,k)),E.add(B)}for(const[q,$]of l.items)E.has(q)||A.skipped_effects.add($.e);A.add_callback(w)}else w();s(h)}})}function el(e,t,n,r,a,o,i,l,c){var u=(i&Js)!==0,d=(i&(Nr|Lr))!==0,v=t.length,g=n.items,h=n.first,f=h,_,w=null,b,k=[],y=[],x,B,E,A;if(u)for(A=0;A<v;A+=1)x=t[A],B=l(x,A),E=g.get(B),E!==void 0&&(E.a?.measure(),(b??(b=new Set)).add(E));for(A=0;A<v;A+=1){if(x=t[A],B=l(x,A),E=g.get(B),E===void 0){var T=r.get(B);if(T!==void 0){r.delete(B),g.set(B,T);var q=w?w.next:f;bt(n,w,T),bt(n,T,q),Gr(T,q,a),w=T}else{var $=f?f.e.nodes_start:a;w=Ho($,n,w,w===null?n.first:w.next,x,B,A,o,i,c)}g.set(B,w),k=[],y=[],f=w.next;continue}if(d&&zo(E,x,A,i),(E.e.f&gt)!==0&&(An(E.e),u&&(E.a?.unfix(),(b??(b=new Set)).delete(E))),E!==f){if(_!==void 0&&_.has(E)){if(k.length<y.length){var _e=y[0],ie;w=_e.prev;var ae=k[0],R=k[k.length-1];for(ie=0;ie<k.length;ie+=1)Gr(k[ie],_e,a);for(ie=0;ie<y.length;ie+=1)_.delete(y[ie]);bt(n,ae.prev,R.next),bt(n,w,ae),bt(n,R,_e),f=_e,w=R,A-=1,k=[],y=[]}else _.delete(E),Gr(E,f,a),bt(n,E.prev,E.next),bt(n,E,w===null?n.first:w.next),bt(n,w,E),w=E;continue}for(k=[],y=[];f!==null&&f.k!==B;)(f.e.f&gt)===0&&(_??(_=new Set)).add(f),y.push(f),f=f.next;if(f===null)continue;E=f}k.push(E),w=E,f=E.next}if(f!==null||_!==void 0){for(var J=_===void 0?[]:da(_);f!==null;)(f.e.f&gt)===0&&J.push(f),f=f.next;var H=J.length;if(H>0){var G=(i&ao)!==0&&v===0?a:null;if(u){for(A=0;A<H;A+=1)J[A].a?.measure();for(A=0;A<H;A+=1)J[A].a?.fix()}$i(n,J,G)}}u&&mn(()=>{if(b!==void 0)for(E of b)E.a?.apply()}),e.first=n.first&&n.first.e,e.last=w&&w.e;for(var se of r.values())et(se.e);r.clear()}function zo(e,t,n,r){(r&Nr)!==0&&At(e.v,t),(r&Lr)!==0?At(e.i,n):e.i=n}function Ho(e,t,n,r,a,o,i,l,c,u,d){var v=(c&Nr)!==0,g=(c&Qs)===0,h=v?g?aa(a,!1,!1):Nt(a):a,f=(c&Lr)===0?i:Nt(i),_={i:f,v:h,k:o,a:null,e:null,prev:n,next:r};try{if(e===null){var w=document.createDocumentFragment();w.append(e=wn())}return _.e=Ue(()=>l(e,h,f,u),ii),_.e.prev=n&&n.e,_.e.next=r&&r.e,n===null?d||(t.first=_):(n.next=_,n.e.next=_.e),r!==null&&(r.prev=_,r.e.prev=_.e),_}finally{}}function Gr(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,a=t?t.e.nodes_start:n,o=e.e.nodes_start;o!==null&&o!==r;){var i=lr(o);a.before(o),o=i}}function bt(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function ve(e,t,...n){var r=e,a=ye,o;Vn(()=>{a!==(a=t())&&(o&&(et(o),o=null),o=Ue(()=>a(r,...n)))},zn)}function Uo(e,t,n){var r=e,a,o,i=null,l=null;function c(){o&&(Et(o),o=null),i&&(i.lastChild.remove(),r.before(i),i=null),o=l,l=null}Vn(()=>{if(a!==(a=t())){var u=wa();if(a){var d=r;u&&(i=document.createDocumentFragment(),i.append(d=wn()),o&&Ce.skipped_effects.add(o)),l=Ue(()=>n(d,a))}u?Ce.add_callback(c):c()}},zn)}function jo(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=jo(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function tl(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=jo(e))&&(r&&(r+=" "),r+=t);return r}function me(e){return typeof e=="object"?tl(e):e??""}const ja=[...` 	
\r\f \v\uFEFF`];function nl(e,t,n){var r=e==null?"":""+e;if(t&&(r=r?r+" "+t:t),n){for(var a in n)if(n[a])r=r?r+" "+a:a;else if(r.length)for(var o=a.length,i=0;(i=r.indexOf(a,i))>=0;){var l=i+o;(i===0||ja.includes(r[i-1]))&&(l===r.length||ja.includes(r[l]))?r=(i===0?"":r.substring(0,i))+r.substring(l+1):i=l}}return r===""?null:r}function rl(e,t){return e==null?null:String(e)}function we(e,t,n,r,a,o){var i=e.__className;if(i!==n||i===void 0){var l=nl(n,r,o);l==null?e.removeAttribute("class"):e.className=l,e.__className=n}else if(o&&a!==o)for(var c in o){var u=!!o[c];(a==null||u!==!!a[c])&&e.classList.toggle(c,u)}return o}function tr(e,t,n,r){var a=e.__style;if(a!==t){var o=rl(t);o==null?e.removeAttribute("style"):e.style.cssText=o,e.__style=t}return r}const al=Symbol("is custom element"),ol=Symbol("is html");function Sd(e,t){var n=Sa(e);n.value===(n.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function kd(e,t){var n=Sa(e);n.checked!==(n.checked=t??void 0)&&(e.checked=t)}function xe(e,t,n,r){var a=Sa(e);a[t]!==(a[t]=n)&&(t==="loading"&&(e[Hs]=n),n==null?e.removeAttribute(t):typeof n!="string"&&sl(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function Sa(e){return e.__attributes??(e.__attributes={[al]:e.nodeName.includes("-"),[ol]:e.namespaceURI===si})}var Va=new Map;function sl(e){var t=e.getAttribute("is")||e.nodeName,n=Va.get(t);if(n)return n;Va.set(t,n=[]);for(var r,a=e,o=Element.prototype;o!==a;){r=to(a);for(var i in r)r[i].set&&n.push(i);a=fa(a)}return n}function il(e,t,n=t){var r=new WeakSet;Ni(e,"input",async a=>{var o=a?e.defaultValue:e.value;if(o=Xr(e)?Zr(o):o,n(o),Ce!==null&&r.add(Ce),await Mo(),o!==(o=t())){var i=e.selectionStart,l=e.selectionEnd;e.value=o??"",l!==null&&(e.selectionStart=i,e.selectionEnd=Math.min(l,e.value.length))}}),Pt(t)==null&&e.value&&(n(Xr(e)?Zr(e.value):e.value),Ce!==null&&r.add(Ce)),Or(()=>{var a=t();if(e===document.activeElement){var o=mr??Ce;if(r.has(o))return}Xr(e)&&a===Zr(e.value)||e.type==="date"&&!a&&!e.value||a!==e.value&&(e.value=a??"")})}function Xr(e){var t=e.type;return t==="number"||t==="range"}function Zr(e){return e===""?null:+e}function qa(e,t){return e===t||e?.[fn]===t}function xt(e={},t,n,r){return Ri(()=>{var a,o;return Or(()=>{a=o,o=[],Pt(()=>{e!==n(...o)&&(t(e,...o),a&&qa(n(...a),e)&&t(null,...a))})}),()=>{mn(()=>{o&&qa(n(...o),e)&&t(null,...o)})}}),e}function ka(e=!1){const t=Se,n=t.l.u;if(!n)return;let r=()=>qi(t.s);if(e){let a=0,o={};const i=ir(()=>{let l=!1;const c=t.s;for(const u in c)c[u]!==o[u]&&(o[u]=c[u],l=!0);return l&&a++,a});r=()=>s(i)}n.b.length&&Ii(()=>{Wa(t,r),kr(n.b)}),Ne(()=>{const a=Pt(()=>n.m.map(Is));return()=>{for(const o of a)typeof o=="function"&&o()}}),n.a.length&&Ne(()=>{Wa(t,r),kr(n.a)})}function Wa(e,t){if(e.l.s)for(const n of e.l.s)s(n);t()}let _r=!1;function ll(e){var t=_r;try{return _r=!1,[e(),_r]}finally{_r=t}}function ce(e,t,n,r){var a=!Un||(n&ei)!==0,o=(n&ni)!==0,i=(n&ri)!==0,l=r,c=!0,u=()=>(c&&(c=!1,l=i?Pt(r):r),l),d;if(o){var v=fn in e||zs in e;d=Dn(e,t)?.set??(v&&t in e?y=>e[t]=y:void 0)}var g,h=!1;o?[g,h]=ll(()=>e[t]):g=e[t],g===void 0&&r!==void 0&&(g=u(),d&&(a&&Ys(),d(g)));var f;if(a?f=()=>{var y=e[t];return y===void 0?u():(c=!0,y)}:f=()=>{var y=e[t];return y!==void 0&&(l=void 0),y===void 0?l:y},a&&(n&ti)===0)return f;if(d){var _=e.$$legacy;return(function(y,x){return arguments.length>0?((!a||!x||_||h)&&d(x?f():y),y):f()})}var w=!1,b=((n&$s)!==0?ir:Mr)(()=>(w=!1,f()));o&&s(b);var k=de;return(function(y,x){if(arguments.length>0){const B=x?s(b):a&&o?Oe(y):y;return m(b,B),w=!0,l!==void 0&&(l=B),y}return yn&&w||(k.f&pn)!==0?b.v:s(b)})}function Ee(e){Se===null&&ro(),Un&&Se.l!==null?cl(Se).m.push(e):Ne(()=>{const t=Pt(e);if(typeof t=="function")return t})}function cl(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const ul="5";var $a;typeof window<"u"&&(($a=window.__svelte??(window.__svelte={})).v??($a.v=new Set)).add(ul);ui();const Vo={};function dl(e){Be(Vo,e)}function qo(){const e=Le(Vo);if(!e)throw new Error("No SearchContext found");return e}const Wo={};function fl(e){Be(Wo,e)}function pt(){const e=Le(Wo);if(!e)throw new Error("No AppHistoryContext found");return e}function vl(e,t){X(t,!0);const{replace:n,getAppHistory:r}=pt(),a=O(r),o="search",i=Oe({value:new URLSearchParams(r().search).get(o)||""}),l=d=>{const v=new URLSearchParams(s(a).search),g=s(a).pathname;(v.get(o)||"")!==d&&(d===""?v.delete(o):v.set(o,d),n(`${g}${v.size>0?`?${v.toString()}`:""}`))};Ne(()=>{const d=i.value;Pt(()=>{l(d)})}),dl(i);var c=U(),u=L(c);ve(u,()=>t.children??ye),p(e,c),Z()}const Yo={};function hl(e){Be(Yo,e)}function Ko(){const e=Le(Yo);if(!e)throw new Error("No TagSearchContext found");return e}function gl(e,t){X(t,!0);const n=Oe({value:""});hl(n);var r=U(),a=L(r);ve(a,()=>t.children??ye),p(e,r),Z()}const Go={};function _l(e){Be(Go,e)}function Xo(){const e=Le(Go);if(!e)throw new Error("No FeedOrderContext found");return e}function pl(e,t){X(t,!0);const{navigate:n,getAppHistory:r}=pt(),a=O(r),o="feedOrder";let i=F(Oe(new URLSearchParams(r().search).get(o)||"newest"));_l({getFeedOrder:()=>s(i),setFeedOrder:v=>{m(i,v,!0);const g=new URLSearchParams(s(a).search);v==="newest"?g.delete(o):g.set(o,v),n(`${s(a).pathname}${g.size>0?`?${g.toString()}`:""}`)}});var u=U(),d=L(u);ve(d,()=>t.children??ye),p(e,u),Z()}const Zo={};function ml(e){Be(Zo,e)}function Jo(){const e=Le(Zo);if(!e)throw new Error("No SidebarContext found");return e}function wl(e,t){X(t,!0);const n=(d,v)=>{if(!v)return d;if(v.type==="closed")return{type:"closed"};switch(d.type){case"opened":return v.type==="close"?{type:"closing"}:v.type==="swipe"?{type:"openSwiping"}:d;case"closed":return v.type==="open"?{type:"opening"}:v.type==="swipe"?{type:"closeSwiping"}:d;case"openSwiping":return v.type==="open"?{type:"opening"}:v.type==="close"?{type:"closing"}:d;case"closeSwiping":return v.type==="open"?{type:"opening"}:v.type==="close"?{type:"closing"}:d;case"opening":return v.type==="opened"?{type:"opened"}:d;default:return d}};let r=F(Oe(n({type:"closed"})));const a=d=>{m(r,n(s(r),d),!0)};ml({sidebarOpen:()=>{a({type:"open"})},sidebarClose:()=>{a({type:"close"})},handleComputeState:a,getSidebarState:()=>s(r)});var c=U(),u=L(c);ve(u,()=>t.children??ye),p(e,c),Z()}const Qo={};function yl(e){Be(Qo,e)}function $o(){const e=Le(Qo);if(!e)throw new Error("No SelectedTagsContext found");return e}const es=(e,t)=>{let n=null;return()=>{n&&clearTimeout(n),n=setTimeout(()=>{n=null,e()},t)}};async function bl(){if(navigator.storage&&navigator.storage.persist)try{await navigator.storage.persisted()||await navigator.storage.persist()}catch{}}const Sl=(e,t)=>{if(e.size!==t.size)return!0;for(const n of e)if(!t.has(n))return!0;return!1};function kl(e,t){X(t,!0);const{getAppHistory:n,replace:r}=pt(),a=O(n),o=O(()=>n().search),i="selectedTags",l=()=>new Set(new URLSearchParams(n().search).get(i)?.split(",")||[]);let c=F(Oe(l()));const u=()=>{const _=l();if(Sl(_,s(c))){const w=new URLSearchParams(s(a).search),b=s(a).pathname;s(c).size===0?w.delete(i):w.set(i,Array.from(s(c)).join(",")),r(`${b}${w.size>0?`?${w.toString()}`:""}`)}};Ne(()=>{s(o),s(c),Pt(()=>{u()})}),yl({getSelectedTags:()=>s(c),addTag:_=>{s(c).has(_)||m(c,new Set([...s(c),_]),!0)},removeTag:_=>{const w=new Set(s(c));w.delete(_),m(c,w,!0)}});var h=U(),f=L(h);ve(f,()=>t.children??ye),p(e,h),Z()}const ts={};function Cl(e){Be(ts,e)}function Ca(){const e=Le(ts);if(!e)throw new Error("No LocalDBContext found");return e}const ns={};function El(e){Be(ns,e)}function Pl(){const e=Le(ns);if(!e)throw new Error("No SettingsContext found");return e}const rs={};function xl(e){Be(rs,e)}function zr(){const e=Le(rs);if(!e)throw new Error("No BroadcastContext found");return e}const Dl="AppStorage",Al=1,Kn="account",Sr="settings",wt="notes",yt="tags",Tl="syncLog",Qt="success",$t="error",Re=(e,t,n)=>{e?.addEventListener(t,n)},Ya=(e,t)=>new Promise((n,r)=>{const o=e?.transaction(t,"readonly")?.objectStore(t).getAll();Re(o,Qt,()=>{const i=o?.result||[];n(i)}),Re(o,$t,i=>{r(i)})}),ia=(e,t,n)=>new Promise((r,a)=>{const i=e?.transaction(t,"readonly")?.objectStore(t).get(n);Re(i,Qt,()=>{const l=i?.result?.data;r(l)}),Re(i,$t,l=>{a(l)})}),Qn=(e,t,n,r)=>new Promise((a,o)=>{const c=e?.transaction(t,"readwrite")?.objectStore(t)?.put({id:n,data:r});Re(c,Qt,()=>{a()}),Re(c,$t,u=>{o(u)})}),Jr=async(e,t,n)=>{const a=e?.transaction(t,"readwrite")?.objectStore(t);await Promise.all(n.map(o=>{const i=a?.put(o);return new Promise((l,c)=>{Re(i,Qt,()=>{l()}),Re(i,$t,u=>{c(u)})})}))},Nl=(e,t,n)=>new Promise((r,a)=>{const l=e?.transaction(t,"readwrite")?.objectStore(t)?.delete(n);Re(l,Qt,()=>{r()}),Re(l,$t,c=>{a(c)})}),pr=async(e,t,n)=>{const a=e?.transaction(t,"readwrite")?.objectStore(t);await Promise.all(n.map(o=>{const i=a?.delete(o);return new Promise((l,c)=>{Re(i,Qt,()=>{l()}),Re(i,$t,u=>{c(u)})})}))},an=(e,t)=>new Promise((n,r)=>{const i=e?.transaction(t,"readwrite")?.objectStore(t)?.clear();Re(i,Qt,()=>{n()}),Re(i,$t,l=>{r(l)})});function Ll(e,t){X(t,!0);let n=F(Oe({showFavicon:!1}));const{getDB:r}=Ca(),{createBroadcastChannel:a,tabId:o}=zr(),i=a(),l=O(r),c=async()=>{const _=await ia(s(l),Sr,"default");_&&m(n,_,!0)},u=async()=>{c()},d=async _=>{const w=JSON.parse(_.data),b=w;if(w.tabId&&w.tabId===o){b.type==="exit"&&(m(n,{showFavicon:!1},!0),an(s(l),Sr));return}b.type==="updateSettings"?c():b.type==="exit"&&m(n,{showFavicon:!1},!0)},v=()=>s(n).showFavicon,g=async _=>{s(n).showFavicon=_,await Qn(s(l),Sr,"default",{showFavicon:_}),i.postMessage({type:"updateSettings"})};Ee(()=>(u(),i.addEventListener(d),()=>{i.removeEventListener(d)})),El({getFaviconEnabled:v,setFaviconShown:g});var h=U(),f=L(h);ve(f,()=>t.children??ye),p(e,h),Z()}const as={};function Bl(e){Be(as,e)}function Ea(){const e=Le(as);if(!e)throw new Error("No AccountContext found");return e}function Ml(e,t){X(t,!0);let n=F(void 0);const{getDB:r}=Ca(),{createBroadcastChannel:a,tabId:o}=zr(),i=O(r),l=a(),c=async()=>{const y=await ia(s(i),Kn,"default");m(n,y,!0)},u=y=>Qn(s(i),Kn,"default",y),d=async y=>{const x=await ia(s(i),Kn,"default");x!==void 0&&m(n,x,!0),y(x)},v=async y=>{const x=JSON.parse(y.data);if(x.tabId&&x.tabId===o)return;const B=x;B.type==="initLocalAccount"?m(n,null):B.type==="initCloudAccount"?c():B.type==="disconnectCloudAccount"?m(n,null):B.type==="exit"?m(n,void 0):B.type==="updateAccount"&&c()};Ee(()=>(l.addEventListener(v),()=>{l.removeEventListener(v)})),Bl({init:d,getAccount:()=>s(n),initLocalAccount:async()=>{m(n,null),await u(null),l.postMessage({type:"initLocalAccount"})},initCloudAccount:async y=>{const x={encryptedClientKey:y.encryptedClientKey||"",subscriptionExpires:y.subscriptionExpires||-1,lastSync:-1};await u(x),m(n,x,!0),l.postMessage({type:"initCloudAccount"})},disconnectCloudAccount:async()=>{m(n,null),await u(null),l.postMessage({type:"disconnectCloudAccount"})},updateSubscription:async y=>{if(!s(n))throw new Error("No account to update subscription for");const x={...s(n),subscriptionExpires:y};await u(x),l.postMessage({type:"updateAccount"})},exitApp:async()=>{m(n,void 0),l.postMessage({type:"exit"}),await an(s(i),Kn)}});var b=U(),k=L(b);ve(k,()=>t.children??ye),p(e,b),Z()}const os={};function Il(e){Be(os,e)}function Hr(){const e=Le(os);if(!e)throw new Error("No NotesContext found");return e}const Ol=()=>crypto.randomUUID(),Rl=e=>{const t=new Map;for(const n of e||[])for(const r of n?.data.tags||[])t.set(r,{name:r,count:(t.get(r)?.count||0)+1});return t};function Fl(e,t){X(t,!0);const{getDB:n}=Ca(),{createBroadcastChannel:r,tabId:a}=zr(),o=O(n),i=r(),l=720*60*60*1e3;let c=F(0),u=F(!1),d=F(()=>new Map),v=F(()=>[]),g=F(()=>new Map);const h=()=>s(u),f=()=>s(c)>0,_=()=>{s(c)>0&&m(c,s(c)-1)},w=C=>{const M=s(v)(),S=s(g)(),P={...C};M.push(P),S.set(P.id,P),m(v,()=>M),m(g,()=>S)},b=C=>{const M=s(v)(),S=s(g)(),P=S.get(C.id);P&&(P.data=C.data),m(v,()=>M),m(g,()=>S)},k=C=>{const M=s(v)(),S=s(g)(),P=S.get(C);S.has(C)&&S.delete(C),P?.data?.type==="draft"&&S.delete("draft"),P&&(P.data=void 0),m(v,()=>M),m(g,()=>S)},y=()=>{m(v,()=>[]),m(d,()=>new Map),m(g,()=>new Map)},x=()=>s(v),B=C=>{const M=s(d)();for(const S of C){const P=M.get(S);P?P.count++:M.set(S,{name:S,count:1})}m(d,()=>M)},E=C=>{const M=s(d)();for(const S of C){const P=M.get(S);P&&(P.count--,P.count<=0&&M.delete(S))}m(d,()=>M)},A=async()=>{const[C,M]=await Promise.all([Ya(s(o),wt),Ya(s(o),yt).then(oe=>oe.reduce((Me,Pe)=>Me.set(Pe.name,Pe),new Map))]),S=[],P=[],V=new Map;let ee=0;for(const oe of C)oe.data.deletedAt&&Date.now()-oe.data.deletedAt>l?S.push(oe.id):(P.push(oe),V.set(oe.id,oe),oe.data.deletedAt&&(ee+=1),oe.data.type==="draft"&&V.set("draft",oe));m(c,ee,!0);const ne=Rl(P),ge=new Map;ne.entries().forEach(([oe,Me])=>{const Pe=M.get(oe);ge.set(oe,{...Pe,...Me})}),await pr(s(o),wt,S),await an(s(o),yt),await Jr(s(o),yt,Array.from(ge.values()).map(oe=>({id:oe.name,data:{pinned:oe.pinned}}))),m(v,()=>P),m(g,()=>V),m(d,()=>ge),m(u,!0)},T=async()=>{const C=s(g)(),M=C.get("draft");if(M)return M;const S={id:Ol(),data:{type:"draft",url:"",name:"",text:"",tags:[],draft:{url:"",name:"",text:"",tags:[],createdAt:Date.now(),updatedAt:Date.now()},createdAt:Date.now(),updatedAt:Date.now()}};return await Qn(s(o),wt,S.id,{...S.data}),C.set("draft",S),w(S),i.postMessage({type:"createNoteDraft",data:{note:S}}),S},q=async C=>{const S=s(g)().get(C);if(!S||!S.data)return;const P=s(d)(),V=S.data.tags;E(V),k(C),i.postMessage({type:"deleteNote",data:{id:C}}),_(),await Nl(s(o),wt,C),await pr(s(o),yt,V.filter(ee=>{const ne=P.get(ee);return ne?ne.count<=1:!1}))},$=async(C,M)=>{const S={id:M.id,data:{...M.data}},P=s(d)(),V=M.data.tags.filter(ne=>!C.data.tags.includes(ne)),ee=C.data.tags.filter(ne=>!M.data.tags.includes(ne));await Qn(s(o),wt,S.id,{...S.data}),await Jr(s(o),yt,V.filter(ne=>!P.has(ne)).map(ne=>({id:ne,data:{}}))),await pr(s(o),yt,ee.filter(ne=>{const ge=P.get(ne);return ge?ge.count<=1:!1})),b(S),E(ee),B(V),i.postMessage({type:"updateNote",data:{note:S,tagsToAdd:V,tagsToDelete:ee}})},_e=async C=>{const M=s(g)(),S=ae(C);if(!S||!S.data)return;const P=M.get("draft");P&&P.id===S.id&&M.delete("draft");const V={id:C,data:{type:"note",name:S.data.draft?.name??S.data.name,url:S.data.draft?.url??S.data.url,text:S.data.draft?.text??S.data.text,tags:S.data.draft?.tags??S.data.tags,updatedAt:Date.now(),createdAt:S.data.createdAt,pinnedAt:S.data.pinnedAt,deletedAt:S.data.deletedAt,draft:void 0}};return $(S,V)},ie=async()=>{y(),i.postMessage({type:"clearNotes"}),await an(s(o),wt),await an(s(o),yt)},ae=C=>{const M=s(g)();return C?M.get(C):M.get("draft")},R=async(C,M)=>{const P=s(g)().get(C);if(!P||!P.data)return;const V={id:C,data:{...P.data,pinnedAt:M?Date.now():void 0}};return $(P,V)},J=async C=>{const S=s(g)().get(C);if(!S||!S.data)return;const P={id:C,data:{...S.data,deletedAt:Date.now()}};m(c,s(c)+1),await $(S,P)},H=async C=>{const S=s(g)().get(C);if(!S||!S.data)return;const P={id:C,data:{...S.data,deletedAt:0}};_(),await $(S,P)},G=async(C,M)=>{const S=s(d)();S.set(C,{name:C,count:S.get(C)?.count||0,pinned:M}),await Qn(s(o),yt,C,{pinned:M}),i.postMessage({type:"pinTag",data:{tag:C,pinned:M}}),m(d,()=>S)},se=async C=>{const M=s(g)(),S={};C.forEach(P=>{const V=M.get(P.id);(!V||V&&V.data&&V.data.updatedAt<P.data.updatedAt)&&(S[P.id]=P)}),await Jr(s(o),wt,Object.values(S)),await A(),i.postMessage({type:"reloadNotes"})},K=async()=>{const C=[];s(v)().forEach(S=>{S&&S.data&&S.data.deletedAt&&C.push(S.id)}),m(c,0),await pr(s(o),wt,C),await A(),i.postMessage({type:"emptyBin"})},I=async(C,M)=>{if(C===""){const ee=s(g)().get("draft");ee?C=ee.id:C=(await T()).id}const S=ae(C);if(!S||!S.data)return;const P={id:C,data:{...S.data,draft:{...M,tags:M.tags,createdAt:S.data.draft?.createdAt||Date.now(),updatedAt:Date.now()}}};return await $(S,P),S.id},Q=async C=>{const M=s(g)(),S=ae(C);if(!S||!S.data||!S.data.draft)return;if(S.data.type==="draft"){C===M.get("draft")?.id&&M.delete("draft"),await q(C);return}const P={id:C,data:{...S.data,draft:void 0}};return $(S,P)},le=async C=>{const M=JSON.parse(C.data),S=M;if(M.tabId&&M.tabId===a){S.type==="exit"&&(y(),await an(s(o),wt),await an(s(o),yt));return}if(S.type==="createNoteDraft"){const P=S.data.note;s(g)().set("draft",P),w(P)}else if(S.type==="updateNote"){const P=S.data,ee=s(g)().get(P.note.id);if(!ee||!ee.data)return;ee.data.deletedAt&&!P.note.data.deletedAt?_():!ee.data.deletedAt&&P.note.data.deletedAt&&m(c,s(c)+1),b(P.note),E(P.tagsToAdd),B(P.tagsToDelete)}else if(S.type==="deleteNote"){const P=S.data.id,ee=s(g)().get(P);if(!ee)return;_(),k(P),E(ee?.data?.tags||[])}else if(S.type==="pinTag"){const P=S.data.tag,V=S.data.pinned,ee=s(d)(),ne=ee.get(P);ne&&(ne.pinned=V,ee.set(P,ne))}else S.type==="clearNotes"?y():S.type==="reloadNotes"||S.type==="emptyBin"?A():S.type==="exit"&&y()};Ee(()=>(A(),i.addEventListener(le),()=>{i.removeEventListener(le)})),Il({isInitedNotes:h,putNoteDraft:I,deleteNoteDraft:Q,deleteNote:q,pinNote:R,getGetNotes:x,importNotes:se,clearNotes:ie,getNoteById:ae,getGetMapTags:()=>s(d),pinTag:G,moveNoteToBin:J,restoreNoteFromBin:H,checkNotesInBin:f,emptyBin:K,saveNoteDraft:_e,countNotesInBin:()=>s(c)});var he=U(),te=L(he);ve(te,()=>t.children??ye),p(e,he),Z()}const ss={},zl=()=>({working:!1,swipingRatio:1,isSwiping:!1,duration:.35});function Hl(e){Be(ss,e)}function qn(){const e=Le(ss);if(!e)throw new Error("No AnimationSettingsContext found");return e}function Ul(e,t){X(t,!0);let n=Oe(zl());Hl(n);var r=U(),a=L(r);ve(a,()=>t.children??ye),p(e,r),Z()}const is={};function jl(e){Be(is,e)}function ls(){const e=Le(is);if(!e)throw new Error("No ScrollingContext found");return e}function Vl(e,t){X(t,!0);let n=F(!1);const r=()=>s(n),a=es(()=>{m(n,!1)},100);jl({isScrolling:r,enable:()=>{m(n,!0),a()}});var i=U(),l=L(i);ve(l,()=>t.children??ye),p(e,i),Z()}const cs={};function ql(e){Be(cs,e)}function Wn(){const e=Le(cs);if(!e)throw new Error("No MobileSizeContext found");return e}function Wl(e,t){X(t,!0);const n=()=>window.matchMedia("(max-width: 767px)").matches;let r=F(Oe(n())),a=qn();const o=es(()=>{a.working=!0},16),i=()=>{a.working=!1,o(),requestAnimationFrame(()=>{m(r,n(),!0)})};ql({checkMobileSize:()=>s(r)}),Ee(()=>(window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)));var c=U(),u=L(c);ve(u,()=>t.children??ye),p(e,c),Z()}const us={};function Yl(e){Be(us,e)}function cr(){const e=Le(us);if(!e)throw new Error("No DialogContext found");return e}function Kl(e,t){X(t,!0);let n=F(0),r=F(!1),a=F(!1);Yl({checkExistedDialog:()=>s(n)>0,showDialog:()=>{m(n,s(n)+1)},hideDialog:()=>{m(n,s(n)-1)},blockDialog:f=>{m(r,f,!0),f||m(a,!1)},checkBlockedDialog:()=>s(r),unBlockBackDialog:f=>{m(a,f,!0)},checkUnBlockedBackDialog:()=>s(a)});var g=U(),h=L(g);ve(h,()=>t.children??ye),p(e,g),Z()}const ds={};function Gl(e){Be(ds,e)}function Pa(){const e=Le(ds);if(!e)throw new Error("No ScrollContainerContext found");return e}function Xl(e,t){X(t,!0);let n=F(null);Gl({setScrollContainer:l=>{m(n,l,!0)},getScrollContainer:()=>s(n)});var o=U(),i=L(o);ve(i,()=>t.children??ye),p(e,o),Z()}const fs={};function Zl(e){Be(fs,e)}function xa(){const e=Le(fs);if(!e)throw new Error("No DialogPageHeightContext found");return e}function Jl(e,t){X(t,!0);let n=F(200);Zl({setDialogPageHeight:l=>{m(n,l,!0)},getDialogPageHeight:()=>s(n)});var o=U(),i=L(o);ve(i,()=>t.children??ye),p(e,o),Z()}const Ql=[Kn,Sr,wt,yt,Tl];function $l(){return new Promise((e,t)=>{const n=indexedDB.open(Dl,Al);Re(n,"upgradeneeded",()=>{const r=n.result;for(const a of Ql)r.objectStoreNames.contains(a)||r.createObjectStore(a,{keyPath:"id"})}),Re(n,Qt,()=>{const r=n.result;e(r),r.onversionchange=function(){r?.close(),alert("app outdated, please reload the page")}}),Re(n,"blocked",()=>{t(),alert("app outdated, please reload the page")}),Re(n,$t,()=>{t()})})}function ec(e,t){X(t,!0);let n=F(null);Ee(()=>{$l().then(l=>{m(n,l,!0)})}),Cl({getDB:()=>s(n)});var a=U(),o=L(a);{var i=l=>{var c=U(),u=L(c);ve(u,()=>t.children??ye),p(l,c)};W(o,l=>{s(n)&&l(i)})}p(e,a),Z()}const vs={};function tc(e){Be(vs,e)}function Lt(){const e=Le(vs);if(!e)throw new Error("No StackPagesContext found");return e}function nc(e,t){X(t,!0);const{getAppHistory:n,navigate:r}=pt(),a=()=>new URLSearchParams(n().search).get("stackPages")?.split(",")||[];let o=F(Oe(a()));const i=w=>{const b=a();if(!b.includes(w)){b.push(w);const k=new URLSearchParams(n().search);k.set("stackPages",b.join(",")),m(o,b,!0),r(`${n().pathname}?${k.toString()}`)}};tc({pushStackPages:i,hasStackPage:w=>a().includes(w),updateStackPages:()=>{m(o,a(),!0)},popStackPages:()=>{const w=s(o).slice(0,-1);m(o,w,!0)},getStackPages:()=>{const w=a();return w.length>=s(o).length?w.reduce((b,k)=>[...b,{page:k,shown:!0}],[]):s(o).reduce((b,k,y)=>[...b,{page:k,shown:w.length===0?!1:y!==s(o).length-1}],[])},clearStackPages:()=>{m(o,[],!0)},getPageUrl:(w,b)=>{if(b?.full)return`/${w}`;const k=a();k.includes(w)||k.push(w);const y=new URLSearchParams(n().search);return y.set("stackPages",k.join(",")),`${n().pathname}?${y}`},createHandlePage:(w,b)=>k=>{if(k.preventDefault(),b?.full){r(w);return}i(w)},getStackPagesFormUrl:a});var f=U(),_=L(f);ve(_,()=>t.children??ye),p(e,f),Z()}function rc(e,t){X(t,!0);const n=h=>h.startsWith("/")?h:`/${h}`,r=Oe({historyStack:[],pathname:n(window.location.pathname),search:window.location.search,historyLength:0}),a=()=>{r.pathname=n(document.location.pathname),r.search=document.location.search,r.historyLength=Math.max(0,r.historyLength-=1)},o=h=>{const[f,_]=h.split("?");r.pathname=n(f),r.search=_?`?${_}`:"",r.historyLength+=1,r.historyStack.push(`${window.location.pathname}${window.location.search}`),window.history.replaceState(null,"",h)},i=h=>{const[f,_]=h.split("?");r.pathname=n(f),r.search=_?`?${_}`:"",window.history.replaceState(null,"",h)};fl({getAppHistory:()=>r,navigate:o,replace:i,addSearchParam:(h,f)=>{const _=new URLSearchParams(r.search);_.append(h,f),i(`${r.pathname}${_.size>0?`?${_.toString()}`:""}`)},deleteSearchParam:h=>{const f=new URLSearchParams(r.search);f.delete(h),r.historyStack=r.historyStack.map(_=>{const w=new URLSearchParams(_.split("?")[1]);return w.delete(h),`${_.split("?")[0]}${f.size>0?`?${w.toString()}`:""}`}),i(`${r.pathname}${f.size>0?`?${f.toString()}`:""}`)},back:h=>{const{fallback:f="/",to:_}=h||{},[w,b]=f.split("?");if(r.historyLength<=0){const k=window.location.pathname,y=window.location.search;if(!y.includes("stackPages"))window.history.replaceState(null,"",f),r.historyLength=0,r.pathname=n(w),r.search=b?`?${b}`:"";else{const x=new URLSearchParams(y),B=x.get("stackPages")?.split(",")||[],E=B.slice(0,_&&B.includes(_)?B.indexOf(_)+1:-1);E.length===0?x.delete("stackPages"):x.set("stackPages",E.join(","));const A=`${k}${x.toString()?`?${x.toString()}`:""}`;window.history.replaceState(null,"",A),r.search=x.toString()?`?${x.toString()}`:""}}else if(r.historyStack.length>0){const y=new URLSearchParams(r.search).get("stackPages")?.split(",")||[];_&&y.includes(_)&&(r.historyStack=r.historyStack.slice(0,-(y.length-(y.indexOf(_)+1))+1),r.historyLength=r.historyStack.length);const x=r.historyStack.pop();if(x){const[B,E]=x.split("?");window.history.replaceState(null,"",x),r.historyLength=Math.max(0,r.historyLength-=1),r.pathname=n(B),r.search=E?`?${E}`:""}}},closeDialogStack:()=>{const h=r.historyStack.findIndex(_=>_.includes("stackPages")),f=h===-1?r.historyStack.slice(0):r.historyStack.slice(0,h);if(f.length>0){const _=f.pop();if(_){const[w,b]=_.split("?");window.history.replaceState(null,"",_),r.historyLength=Math.max(0,f.length),r.pathname=n(w),r.search=b?`?${b}`:"",r.historyStack=f}}else{const _=r.search,w=new URLSearchParams(_);w.delete("stackPages"),window.history.replaceState(null,"",w.toString()?"/?"+w.toString():"/"),r.historyLength=0,r.pathname="/",r.search=w.toString()?"?"+w.toString():"",r.historyStack=[]}}}),Ee(()=>(window.addEventListener("popstate",a),()=>{window.removeEventListener("popstate",a)}));var v=U(),g=L(v);ve(g,()=>t.children??ye),p(e,v),Z()}const hs={};function ac(e){Be(hs,e)}function oc(){const e=Le(hs);if(!e)throw new Error("No KeyboardVisibleContext found");return e}function sc(e,t){X(t,!0);let n=Oe({value:!1});const r=()=>n.value;Ee(()=>{const i=()=>{setTimeout(()=>{document.activeElement instanceof HTMLInputElement&&document.activeElement.type==="text"||document.activeElement instanceof HTMLTextAreaElement?n.value=!0:n.value=!1},0)};return i(),document.addEventListener("focusin",i),document.addEventListener("focusout",i),()=>{document.removeEventListener("focusin",i),document.removeEventListener("focusout",i)}}),ac({getIsKeyboardVisible:r});var a=U(),o=L(a);ve(o,()=>t.children??ye),p(e,a),Z()}function ic(e,t){X(t,!0);const n=crypto.randomUUID(),r=(i,l)=>{i.postMessage(JSON.stringify({...l,tabId:n}))};xl({tabId:n,createBroadcastChannel:()=>{const i=new BroadcastChannel("app");return{postMessage:l=>r(i,l),addEventListener:l=>{i.addEventListener("message",l)},removeEventListener:l=>{i.removeEventListener("message",l)}}}});var a=U(),o=L(a);ve(o,()=>t.children??ye),p(e,a),Z()}function lc(e,t){Ul(e,{children:(n,r)=>{Vl(n,{children:(a,o)=>{Wl(a,{children:(i,l)=>{Kl(i,{children:(c,u)=>{Xl(c,{children:(d,v)=>{Jl(d,{children:(g,h)=>{sc(g,{children:(f,_)=>{rc(f,{children:(w,b)=>{nc(w,{children:(k,y)=>{ec(k,{children:(x,B)=>{ic(x,{children:(E,A)=>{var T=U(),q=L(T);ve(q,()=>t.children??ye),p(E,T)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})}function cc(e,t){lc(e,{children:(n,r)=>{gl(n,{children:(a,o)=>{vl(a,{children:(i,l)=>{pl(i,{children:(c,u)=>{wl(c,{children:(d,v)=>{kl(d,{children:(g,h)=>{Ll(g,{children:(f,_)=>{Ml(f,{children:(w,b)=>{Fl(w,{children:(k,y)=>{var x=U(),B=L(x);ve(B,()=>t.children??ye),p(k,x)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})}})}let Ft=F(""),nn=F(null),Gn=F(null),Xn=F(null);function hn(e,t){m(Ft,""),setTimeout(()=>{m(Ft,e,!0),t?.onFinish&&m(Gn,t.onFinish,!0),t?.onCancel&&m(Xn,t.onCancel,!0)},16)}const uc=(e,t,n,r,a)=>{e.preventDefault(),s(t)&&(m(n,null),s(t)(),m(t,null)),m(r,""),s(a)?.style.removeProperty("opacity")};var dc=j('<button type="button" class="undoButton svelte-1vxmgq5">undo</button>'),fc=j('<div class="notification svelte-1vxmgq5"><span> </span> <!></div>'),vc=j("<div><!></div>");function hc(e,t){X(t,!0),Ne(()=>{s(Ft);const o=s(Xn)?2e3:800;s(Ft)&&(s(nn)?.getBoundingClientRect(),s(nn)?.style.setProperty("opacity","1"));const i=setTimeout(()=>{s(nn)?.style.removeProperty("opacity")},o),l=setTimeout(()=>{m(Ft,""),s(Gn)&&s(Gn)(),m(Gn,null),m(Xn,null),s(nn)?.style.removeProperty("opacity")},o+400);return()=>{clearTimeout(i),clearTimeout(l)}});var n=vc(),r=D(n);{var a=o=>{var i=fc(),l=D(i),c=D(l),u=z(l,2);{var d=v=>{var g=dc();g.__click=[uc,Xn,Gn,Ft,nn],p(v,g)};W(u,v=>{s(Xn)&&v(d)})}xt(i,v=>m(nn,v),()=>s(nn)),fe(()=>Gt(c,s(Ft))),p(o,i)};W(r,o=>{s(Ft)&&o(a)})}p(e,n),Z()}nt(["click"]);var gc=j('<span class="vh svelte-1s25udk"><!></span>');function $e(e,t){var n=gc(),r=D(n);ve(r,()=>t.children),p(e,n)}var _c=Xi('<svg class="svelte-18et5h9"><use></use></svg>');function ke(e,t){let n=ce(t,"name",8,"");var r=_c(),a=D(r);fe(()=>xe(a,"href",`#icon-${n()??""}`)),p(e,r)}const pc=(e,t,n,r)=>{const a=t().type;a==="closed"?n():a==="opened"&&r()};var mc=j('<button class="buttonMenu svelte-bpktnw"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>');function gs(e,t){X(t,!1);const{sidebarOpen:n,getSidebarState:r,sidebarClose:a}=Jo();ka();var o=mc();o.__click=[pc,r,n,a];var i=D(o);be(i,()=>({"--size":"36px"})),ke(i.lastChild,{name:"sidebarMenu"});var l=z(i,2);$e(l,{children:(c,u)=>{var d=Ae("Menu");p(c,d)}}),p(e,o),Z()}nt(["click"]);var wc=(e,t)=>t.onChange?.(e.target?.value||""),yc=j('<input class="svelte-15lr19w"/>');function la(e,t){X(t,!0);let n=ce(t,"value",15,"");var r=yc();r.__input=[wc,t],fe(()=>xe(r,"placeholder",t.placeholder)),ba("focus",r,function(...a){t.onFocus?.apply(this,a)}),il(r,n),p(e,r),Z()}nt(["input"]);function _s(e,t){X(t,!0),Ee(()=>{const n=r=>{r.target&&t.dialog?.open&&t.dialogInner&&t.dialogInner!==r.target&&!t.dialogInner.contains(r.target)&&t.onClose()};return document.addEventListener("mousedown",n,{capture:!0}),()=>{document.removeEventListener("mousedown",n,{capture:!0})}}),Z()}var bc=j('<dialog><div class="dialogInner svelte-1x410nl"><!></div></dialog> <!>',1);function Da(e,t){X(t,!0);let n=F(null),r=F(null),a=F(!1),{showDialog:o,hideDialog:i}=cr();const l=f=>{f?.preventDefault();const _=setTimeout(()=>{t.onClosed()},150);s(n)?.addEventListener("transitionend",()=>{clearTimeout(_),t.onClosed()},{once:!0}),m(a,!1)};Ne(()=>{t.startClose&&l()}),Ee(()=>(s(n)?.showModal(),s(n)?.getClientRects(),m(a,!0),s(n)?.addEventListener("cancel",l),s(n)?.addEventListener("close",l),()=>{s(n)?.removeEventListener("cancel",l),s(n)?.removeEventListener("close",l)})),Ee(()=>(o(),()=>{i()}));var c=bc(),u=L(c),d=D(u),v=D(d);ve(v,()=>t.children),xt(d,f=>m(r,f),()=>s(r)),xt(u,f=>m(n,f),()=>s(n));var g=z(u,2);{var h=f=>{_s(f,{get dialog(){return s(n)},get dialogInner(){return s(r)},onClose:l})};W(g,f=>{s(n)&&s(r)&&f(h)})}fe(()=>we(u,1,me(["dialog",{shown:s(a)}]),"svelte-1x410nl")),p(e,c),Z()}var Sc=j("<div><!></div>");function ps(e,t){X(t,!0);let n=F(!1),r=F(null);const a=()=>{const u=setTimeout(()=>{t.onClosed()},150);s(r)?.addEventListener("transitionend",()=>{clearTimeout(u),t.onClosed()},{once:!0}),m(n,!1)},o=u=>{u.target!==s(r)&&!s(r)?.contains(u.target)&&a()},i=u=>{u.target!==s(r)&&!s(r)?.contains(u.target)&&a()};Ee(()=>{s(r)?.getClientRects(),m(n,!0);const u=setTimeout(()=>{document.addEventListener("focusin",o),document.addEventListener("click",i)},0);return()=>{clearTimeout(u),document.removeEventListener("focusin",o),document.removeEventListener("click",i)}}),Ne(()=>{t.startClose&&a()});var l=Sc(),c=D(l);ve(c,()=>t.children),xt(l,u=>m(r,u),()=>s(r)),fe(()=>we(l,1,me(["menu",{top:t.positionTop,shown:s(n)}]),"svelte-ujw4xi")),p(e,l),Z()}const kc=(e,t)=>{s(t)||m(t,!0)};var Cc=(e,t)=>t("newest"),Ec=(e,t)=>t("oldest"),Pc=(e,t)=>t("AtoZ"),xc=(e,t)=>t("ZtoA"),Dc=j("<div><button>Newest</button> <button>Oldest</button> <button>A to Z</button> <button>Z to A</button></div>"),Ac=j('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),Tc=j('<div class="orderMenu svelte-14zj87s"><button><!> <!></button> <!></div>');function Nc(e,t){X(t,!0);const n=(k,y=ye)=>{var x=Dc(),B=D(x);B.__click=[Cc,d];var E=z(B,2);E.__click=[Ec,d];var A=z(E,2);A.__click=[Pc,d];var T=z(A,2);T.__click=[xc,d],fe(()=>{we(x,1,me(["menu",{menuDialog:y()}]),"svelte-14zj87s"),we(B,1,me(["menuButton",{menuButtonDialog:y(),current:s(u)==="newest"}]),"svelte-14zj87s"),we(E,1,me(["menuButton",{menuButtonDialog:y(),current:s(u)==="oldest"}]),"svelte-14zj87s"),we(A,1,me(["menuButton",{menuButtonDialog:y(),current:s(u)==="AtoZ"}]),"svelte-14zj87s"),we(T,1,me(["menuButton",{menuButtonDialog:y(),current:s(u)==="ZtoA"}]),"svelte-14zj87s")}),p(k,x)};let r=F(!1),a=F(!1);const{checkMobileSize:o}=Wn(),{getFeedOrder:i,setFeedOrder:l}=Xo();let c=O(o),u=O(i);const d=k=>{m(a,!0),l(k)},v=()=>{m(r,!1),m(a,!1)};Ee(()=>{const k=y=>{y.key==="Escape"&&m(a,!0)};return document.addEventListener("keydown",k),()=>document.removeEventListener("keydown",k)});var g=Tc(),h=D(g);h.__click=[kc,r],we(h,1,me(["button","buttonMenu"]),"svelte-14zj87s");var f=D(h);ke(f,{name:"filter"});var _=z(f,2);$e(_,{children:(k,y)=>{var x=Ae("show feed order menu");p(k,x)}});var w=z(h,2);{var b=k=>{var y=U(),x=L(y);{var B=A=>{Da(A,{get startClose(){return s(a)},onClosed:v,children:(T,q)=>{n(T,()=>!0)},$$slots:{default:!0}})},E=A=>{var T=Ac(),q=L(T);be(q,()=>({"--right":"20px","--top":"60px"})),ps(q.lastChild,{get startClose(){return s(a)},onClosed:v,children:($,_e)=>{n($,()=>!1)},$$slots:{default:!0}}),p(A,T)};W(x,A=>{s(c)?A(B):A(E,!1)})}p(k,y)};W(w,k=>{s(r)&&k(b)})}p(e,g),Z()}nt(["click"]);var Y=(e=>(e.NewNote="newNote",e.EditNote="editNote",e.Settings="settings",e.ImportData="importData",e.ExportData="exportData",e.ClearStore="clearStore",e.Account="account",e.Sync="sync",e.Start="start",e.Auth="auth",e.Signin="signin",e.Signup="signup",e.AccessKeys="accessKeys",e.ConfirmAccessKey="confirmAccessKey",e.Subscription="subscription",e.Exit="exit",e.NotFound="notFound",e.About="about",e.Bin="bin",e))(Y||{}),Lc=j("<a><!></a>"),Bc=j("<button><!></button>");function Zt(e,t){let n=ce(t,"type",3,"standard"),r=ce(t,"typeButton",3,"button"),a=ce(t,"element",3,"button"),o=ce(t,"href",3,""),i=ce(t,"fullWidth",3,!1),l=ce(t,"withoutMinWidth",3,!1);var c=U(),u=L(c);{var d=g=>{var h=Lc();h.__click=function(..._){t.onClick?.apply(this,_)};var f=D(h);ve(f,()=>t.children??ye),fe(()=>{xe(h,"href",o()),we(h,1,me(["button","a",{dangerous:n()==="dangerous",secondary:n()==="secondary",fullWidth:i(),withoutMinWidth:l()}]),"svelte-aqjevc")}),p(g,h)},v=g=>{var h=Bc();h.__click=function(..._){t.onClick?.apply(this,_)};var f=D(h);ve(f,()=>t.children??ye),fe(()=>{xe(h,"type",r()),we(h,1,me(["button",{dangerous:n()==="dangerous",secondary:n()==="secondary",fullWidth:i(),withoutMinWidth:l()}]),"svelte-aqjevc")}),p(g,h)};W(u,g=>{a()==="a"?g(d):g(v,!1)})}p(e,c)}nt(["click"]);var Mc=j('<div class="block svelte-1dzbsx4"><span class="title svelte-1dzbsx4"> </span> <div class="controls svelte-1dzbsx4"><!> <!></div></div>');function ms(e,t){X(t,!0);let n=ce(t,"buttonCancelTitle",3,"Cancel"),r=ce(t,"buttonConfirmTitle",3,"Confirm"),a=F(!1),o=F(!1);const i=()=>{m(a,!0)},l=()=>{m(a,!0),m(o,!0)};Da(e,{get startClose(){return s(a)},onClosed:()=>{s(o)?t.onConfirm():t.onCancel()},children:(u,d)=>{var v=Mc(),g=D(v),h=D(g),f=z(g,2),_=D(f);Zt(_,{onClick:i,fullWidth:!0,withoutMinWidth:!0,type:"secondary",children:(b,k)=>{var y=Ae();fe(()=>Gt(y,n())),p(b,y)},$$slots:{default:!0}});var w=z(_,2);Zt(w,{onClick:l,fullWidth:!0,withoutMinWidth:!0,type:"dangerous",children:(b,k)=>{var y=Ae();fe(()=>Gt(y,r())),p(b,y)},$$slots:{default:!0}}),fe(()=>Gt(h,t.title)),p(u,v)},$$slots:{default:!0}}),Z()}const Ic=(e,t)=>{m(t,!0)};var Oc=j('<a class="link svelte-13t3afu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Notes</span></a>'),Rc=j('<a class="link svelte-13t3afu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Bin</span></a>'),Fc=j('<button class="emptyBinButton svelte-13t3afu" type="button">Empty bin</button>'),zc=j('<a class="buttonAdd svelte-13t3afu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Note</span></a>'),Hc=j('<div class="header svelte-13t3afu"><div class="top svelte-13t3afu"><div class="menu svelte-13t3afu"><a class="link svelte-13t3afu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Settings</span></a> <a class="link svelte-13t3afu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Sync</span></a> <!></div> <div class="mobile svelte-13t3afu"><!></div> <!></div> <div class="bottom svelte-13t3afu"><div><div class="sidebarSearchWrapper"><!></div></div> <div class="right svelte-13t3afu"><div class="filter svelte-13t3afu"><div class="feedSearchWrapper svelte-13t3afu"><!></div> <!></div></div></div></div> <!>',1);function Uc(e,t){X(t,!0);const{createHandlePage:n,getPageUrl:r}=Lt(),a=qo(),o=Ko(),{getScrollContainer:i}=Pa();let l=O(i);const{emptyBin:c,checkNotesInBin:u}=Hr(),{getAppHistory:d}=pt(),v=O(u),g=O(()=>d().pathname);let h=F(!1);const f=()=>{s(l)&&s(l).scrollTo({top:0,behavior:"smooth"})};var _=Hc(),w=L(_),b=D(w),k=D(b),y=D(k),x=O(()=>n(Y.Settings));y.__click=function(...P){s(x)?.apply(this,P)};var B=D(y);be(B,()=>({"--rotate":"30deg","--size":"20px"})),ke(B.lastChild,{name:"settings"});var E=z(y,2),A=O(()=>n(Y.Sync));E.__click=function(...P){s(A)?.apply(this,P)};var T=D(E);be(T,()=>({"--size":"20px"})),ke(T.lastChild,{name:"sync"});var q=z(E,2);{var $=P=>{var V=Oc(),ee=O(()=>n("/",{full:!0}));V.__click=function(...ge){s(ee)?.apply(this,ge)};var ne=D(V);be(ne,()=>({"--size":"18px"})),ke(ne.lastChild,{name:"note"}),fe(ge=>xe(V,"href",ge),[()=>r("/",{full:!0})]),p(P,V)},_e=P=>{var V=U(),ee=L(V);{var ne=ge=>{var oe=Rc(),Me=O(()=>n(Y.Bin,{full:!0}));oe.__click=function(...Ke){s(Me)?.apply(this,Ke)};var Pe=D(oe);be(Pe,()=>({"--size":"20px"})),ke(Pe.lastChild,{name:"bin"}),fe(Ke=>xe(oe,"href",Ke),[()=>r(Y.Bin,{full:!0})]),p(ge,oe)};W(ee,ge=>{s(v)&&ge(ne)},!0)}p(P,V)};W(q,P=>{s(g)===`/${Y.Bin}`?P($):P(_e,!1)})}var ie=z(k,2),ae=D(ie);gs(ae,{});var R=z(ie,2);{var J=P=>{var V=U(),ee=L(V);{var ne=ge=>{var oe=Fc();oe.__click=[Ic,h],p(ge,oe)};W(ee,ge=>{s(v)&&ge(ne)})}p(P,V)},H=P=>{var V=zc(),ee=O(()=>n(Y.NewNote));V.__click=function(...ge){s(ee)?.apply(this,ge)};var ne=D(V);be(ne,()=>({"--size":"16px","--color":"#b0b0b0"})),ke(ne.lastChild,{name:"plus"}),fe(ge=>xe(V,"href",ge),[()=>r(Y.NewNote)]),p(P,V)};W(R,P=>{s(g)===`/${Y.Bin}`?P(J):P(H,!1)})}var G=z(b,2),se=D(G);we(se,1,me(["left"]),"svelte-13t3afu");var K=D(se),I=D(K);la(I,{placeholder:"Search tag",get value(){return o.value},set value(P){o.value=P}});var Q=z(se,2),le=D(Q),he=D(le),te=D(he);la(te,{onFocus:f,placeholder:"Search",get value(){return a.value},set value(P){a.value=P}});var C=z(he,2);Nc(C,{});var M=z(w,2);{var S=P=>{ms(P,{title:"Are you sure you want to empty the bin?",buttonConfirmTitle:"Empty",onConfirm:()=>{c(),m(h,!1)},onCancel:()=>{m(h,!1)}})};W(M,P=>{s(h)&&P(S)})}fe((P,V)=>{xe(y,"href",P),xe(E,"href",V)},[()=>r(Y.Settings),()=>r(Y.Sync)]),p(e,_),Z()}nt(["click"]);function jc(e,t){X(t,!0);const{getIsKeyboardVisible:n}=oc();let r=ce(t,"dialog",7);const a=O(n),o=qn();let i=null;const l=()=>{t.dialogState==="swiping"&&t.onClose()};Ne(()=>(t.dialogState==="swiping"&&(i=setTimeout(l,3e3)),()=>{i&&(clearTimeout(i),i=null)}));let c=null,u=null;const d=3,v=50,g=5,h=.6,f=.3,_=.35,w=.95;let b=0,k=0,y=0,x=!1,B=!1,E=0,A=0,T=0;const q=()=>{b=0,k=0,x=!1,B=!1,E=0,A=0,T=0,y=0,c=null,u!==null&&(cancelAnimationFrame(u),u=null),i&&(clearTimeout(i),i=null)},$=K=>{r()&&t.dialogState==="opened"&&(b=K.touches[0].clientX,k=K.touches[0].clientY,y=performance.now(),x=!0,B=!1)},_e=K=>t.dialogState==="opened"&&K>0||t.dialogState==="swiping"&&K>0,ie=()=>{if(r()){r().style.setProperty("--transition-timing","0s"),t.onSwipe(),navigator.vibrate&&navigator.vibrate(10);try{const K=window.getComputedStyle(r()),I=K.transform||K.webkitTransform||"";if(A=r().offsetWidth,(t.dialogState==="swiping"||t.dialogState==="opened")&&(E=0),I&&I!=="none")try{E=new DOMMatrix(I).m41}catch{}B=!0}catch{q()}}},ae=()=>{if(!r())return;const I=Math.abs(E+T*A/100)/A;r().style.setProperty("--backdrop-bg",`rgba(0, 0, 0, ${.1*(1-I)})`)},R=()=>{if(u=null,!c||!x||!r()||s(a)){q();return}const K=[...c.touches].reduce((P,V)=>P+V.clientX,0)/c.touches.length,I=[...c.touches].reduce((P,V)=>P+V.clientY,0)/c.touches.length,Q=K-b,le=I-k,he=Math.abs(Q)>Math.abs(le),te=Math.abs(Q)>d;if(!B)if(he&&te&&_e(Q))try{ie()}catch{q();return}else return;if(!_e(Q))return;r().style.setProperty("--transition-timing","0s");let C=E+Q*w;C=Math.max(0,Math.min(A,C)),r().style.transform=`translate3d(${C}px, 0, 0)`,o.swipingRatio=Math.abs(1-C/A),T=(C-E)/A*100,t.dialogState==="swiping"&&(i&&clearTimeout(i),i=setTimeout(l,3e3)),ae()},J=K=>{if(!x)return;c=K,u===null&&(u=requestAnimationFrame(R));const I=K.touches[0].clientX-b,Q=K.touches[0].clientY-k,le=Math.abs(I)>Math.abs(Q);B&&le&&K.preventDefault()},H=K=>{const I=Math.abs(K);if(I>=h)return g;if(I>=f){const Q=(I-f)/(h-f);return v-Q*(v-g)}else return v},G=(K,I)=>{if(Math.abs(K)>=h)return _*.5;const le=Math.abs(T)/100;return I?_*Math.max(.5,1-le):_*Math.max(.5,le)},se=K=>{if(u!==null&&(cancelAnimationFrame(u),u=null),!x||!r()){q();return}if(!B){q();return}let I=0;if(K?.changedTouches?.[0]){const C=K.changedTouches[0].clientX,S=performance.now()-y;S>0&&(I=(C-b)/S)}const Q=H(I);let le=null;t.dialogState==="swiping"&&(le=Math.abs(T)>Q||I<-f?"close":"open");const he=t.dialogState==="swiping"&&le==="close",te=G(I,he);o.duration=te-.02,r().style.setProperty("--transition-timing",`${te}s`),r().offsetWidth,r().style.transform="",le==="open"?t.onOpen():le==="close"&&t.onClose(),r()?.style.removeProperty("--backdrop-bg"),q()};Ee(()=>(r().addEventListener("touchstart",$,{passive:!0}),r().addEventListener("touchmove",J,{passive:!1}),r().addEventListener("touchend",se,{passive:!0}),r().addEventListener("touchcancel",se,{passive:!0}),()=>{r().removeEventListener("touchstart",$),r().removeEventListener("touchmove",J),r().removeEventListener("touchend",se),r().removeEventListener("touchcancel",se),u!==null&&cancelAnimationFrame(u)})),Z()}var Vc=(e,t)=>{t.onStartClose()},qc=j('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),Wc=j('<dialog><div class="dialogInner svelte-vr2o0t"><div class="header svelte-vr2o0t"><div><!></div></div> <!></div></dialog> <!>',1);function Yc(e,t){X(t,!0);let n=350;const{isScrolling:r,enable:a}=ls();let o=F(null),i=F(null);const l=qn(),c=E=>{E.preventDefault(),t.onStartClose()};Ee(()=>(s(o)?.addEventListener("close",t.onClosed),s(o)?.addEventListener("cancel",c),()=>{s(o)?.removeEventListener("close",t.onClosed),s(o)?.removeEventListener("cancel",c)}));const u=()=>{s(o)?.style.removeProperty("--transition-timing"),s(o)?.style.removeProperty("transform"),s(o)?.style.removeProperty("--backdrop-bg")},d=()=>{a()},v=O(r);Ne(()=>{if(t.dialogState,!!s(o))switch(t.dialogState){case"opening":{s(o).open||s(o).showModal(),s(o).getBoundingClientRect();const E=setTimeout(()=>{u()},n+1),A=()=>{clearTimeout(E),u()};return s(o)?.addEventListener("transitionend",A,{once:!0}),t.onOpened(),()=>{clearTimeout(E),s(o)?.removeEventListener("transitionend",A)}}case"closing":{const E=setTimeout(()=>{t.dialogState==="closing"&&t.onClosed()},n+1),A=()=>{clearTimeout(E),t.onClosed()};return s(o)?.addEventListener("transitionend",A,{once:!0}),()=>{clearTimeout(E),s(o)?.removeEventListener("transitionend",A)}}case"opened":u()}});var g=Wc(),h=L(g),f=D(h),_=D(f),w=D(_),b=D(w);{var k=E=>{var A=qc();we(A,1,me(["navigateButton","buttonBack"]),"svelte-vr2o0t"),A.__click=[Vc,t];var T=D(A);be(T,()=>({"--size":"36px"})),ke(T.lastChild,{name:"back"});var q=z(T,2);$e(q,{children:($,_e)=>{var ie=Ae("back");p($,ie)}}),p(E,A)};W(b,E=>{(!(t.blocked||t.hidden)||t.blocked&&t.unBlockedBack)&&E(k)})}var y=z(_,2);ve(y,()=>t.children),xt(f,E=>m(i,E),()=>s(i)),xt(h,E=>m(o,E),()=>s(o));var x=z(h,2);{var B=E=>{jc(E,{get onClose(){return t.onStartClose},get onOpen(){return t.onStartOpen},get onSwipe(){return t.onSwipe},get dialogState(){return t.dialogState},get dialog(){return s(o)}})};W(x,E=>{(!s(v)&&t.dialogState==="opened"||t.dialogState==="swiping")&&(!t.blocked||t.unBlockedBack)&&E(B)})}fe(()=>we(h,1,me([{open:t.dialogState==="opened",hidden:t.hidden,isAnimationOn:l.working&&(!l.isSwiping||!t.hidden)},{hidden:t.hidden}]),"svelte-vr2o0t")),ba("scroll",f,d),p(e,g),Z()}nt(["click"]);const Ka=(e,t)=>{if(!t)return e;if(t.type==="closed")return{type:"closed"};switch(e.type){case"opened":return t.type==="close"?{type:"closing"}:t.type==="swipe"?{type:"swiping"}:e;case"closed":return t.type==="open"?{type:"opening"}:e;case"swiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"opening":return t.type==="opened"?{type:"opened"}:e;default:return e}};function Kc(e,t){X(t,!0);let n=ce(t,"blocked",3,!1),r=ce(t,"hiddenDialog",3,!1),a=ce(t,"unBlockedBack",3,!1),o=ce(t,"onStartClose",3,()=>{}),i=ce(t,"onClose",3,()=>{});const l=qn();let c=F(Oe(Ka({type:"closed"})));const u=y=>{m(c,Ka(s(c),y),!0)},d=()=>{n()&&!a()||(o()(),u({type:"close"}))},v=()=>{u({type:"open"})},g=()=>{u({type:"opened"}),l.duration=.2},h=()=>{i()(),u({type:"closed"}),l.swipingRatio=1,l.duration=.2},f=()=>{u({type:"swipe"})};Ne(()=>{s(c).type==="swiping"?l.isSwiping=!0:l.isSwiping=!1,s(c).type==="closed"&&t.shownDialog?v():s(c).type==="opened"&&!t.shownDialog&&d()});var _={handleComputeState:u},w=U(),b=L(w);{var k=y=>{Yc(y,{onSwipe:f,onOpened:g,onClosed:h,onStartClose:d,onStartOpen:v,get dialogState(){return s(c).type},get hidden(){return r()},get blocked(){return n()},get unBlockedBack(){return a()},children:(x,B)=>{var E=U(),A=L(E);ve(A,()=>t.children),p(x,E)},$$slots:{default:!0}})};W(b,y=>{s(c).type!=="closed"&&y(k)})}return p(e,w),Z(_)}const Gc=({getDialog:e,onOpen:t,onStartClose:n,onClose:r})=>{const a=i=>{i.preventDefault(),n()},o=()=>{r?.()};Ee(()=>{const i=e();return i?.addEventListener("cancel",a),i?.addEventListener("close",o),()=>{i?.removeEventListener("cancel",a),i?.removeEventListener("close",o)}}),Ee(()=>{const i=e();i?.showModal(),i?.getBoundingClientRect(),t()})};var Xc=(e,t)=>{t.onStartBack()},Zc=j('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),Jc=(e,t)=>{t.onStartClose()},Qc=j('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),$c=j('<dialog><div class="dialogInner svelte-rt409n"><div class="header svelte-rt409n"><div><!></div> <div><!></div></div> <!></div></dialog> <!>',1);function eu(e,t){X(t,!0);let n=ce(t,"blockedDialog",3,!1),r=ce(t,"hiddenDialog",3,!1),a=ce(t,"isDesktopAnimationOff",3,!1),o=F(null),i=F(null);Gc({getDialog:()=>s(o),onOpen:t.onOpen,onStartClose:t.onStartClose,onClose:t.onClose});const l=qn();Ne(()=>{t.stateDialog==="closing"&&(l.working?s(o)?.addEventListener("transitionend",()=>{s(o)?.close()},{once:!0}):s(o)?.close())});const{getDialogPageHeight:c}=xa(),u=O(c);var d=$c(),v=L(d),g=D(v),h=D(g),f=D(h),_=D(f);{var w=E=>{var A=Zc();we(A,1,me(["navigateButton","buttonBack"]),"svelte-rt409n"),A.__click=[Xc,t];var T=D(A);be(T,()=>({"--size":"28px"})),ke(T.lastChild,{name:"back"});var q=z(T,2);$e(q,{children:($,_e)=>{var ie=Ae("back");p($,ie)}}),p(E,A)};W(_,E=>{(!(n()||r())||n()&&t.unBlockedBack)&&t.onStartBack&&E(w)})}var b=z(f,2),k=D(b);{var y=E=>{var A=Qc();we(A,1,me(["navigateButton","buttonClose"]),"svelte-rt409n"),A.__click=[Jc,t];var T=D(A);be(T,()=>({"--size":"28px"})),ke(T.lastChild,{name:"close"});var q=z(T,2);$e(q,{children:($,_e)=>{var ie=Ae("close");p($,ie)}}),p(E,A)};W(k,E=>{n()||r()||E(y)})}var x=z(h,2);ve(x,()=>t.children),xt(g,E=>m(i,E),()=>s(i)),xt(v,E=>m(o,E),()=>s(o));var B=z(v,2);_s(B,{get dialog(){return s(o)},get dialogInner(){return s(i)},get onClose(){return t.onStartClose}}),fe(()=>{tr(v,`height: ${s(u)+74}px`),we(v,1,me([{open:t.stateDialog==="open",isAnimationOn:l.working,isDesktopAnimationOff:a(),hiddenDialog:r()}]),"svelte-rt409n")}),p(e,d),Z()}nt(["click"]);const tu=({onStartClose:e,onClose:t})=>{let n=F("close");return{get state(){return s(n)},set state(i){m(n,i,!0)},handleStartClose:(i=!1)=>{i||(m(n,"closing"),e?.())},handleOpen:()=>{m(n,"open")},handleClose:()=>{m(n,"close"),t?.()}}};function nu(e,t){X(t,!0);let n=ce(t,"blockedDialog",3,!1),r=ce(t,"hiddenDialog",3,!1),a=ce(t,"onStartClose",3,()=>{}),o=ce(t,"onClose",3,()=>{}),i=tu({onStartClose:a(),onClose:o()});Ne(()=>{i.state==="close"&&t.shownDialog?i.state="opening":i.state==="open"&&!t.shownDialog&&i.handleStartClose(n())});const l=v=>{v.key==="Escape"&&(document.activeElement instanceof HTMLInputElement&&document.activeElement.type==="text"||document.activeElement instanceof HTMLTextAreaElement||n())&&(v.preventDefault(),v.stopPropagation())};Ee(()=>(document.addEventListener("keydown",l),()=>{document.removeEventListener("keydown",l)}));var c=U(),u=L(c);{var d=v=>{eu(v,{get stateDialog(){return i.state},get blockedDialog(){return n()},get unBlockedBack(){return t.unBlockedBack},get hiddenDialog(){return r()},get onOpen(){return i.handleOpen},get onStartBack(){return t.onStartBack},onStartClose:()=>{i.handleStartClose(n())},get onClose(){return i.handleClose},children:(g,h)=>{var f=U(),_=L(f);ve(_,()=>t.children),p(g,f)},$$slots:{default:!0}})};W(u,v=>{i.state!=="close"&&v(d)})}p(e,c),Z()}function ru(e,t){X(t,!0);let n=ce(t,"blockedDialog",3,!1),r=ce(t,"hiddenDialog",3,!1),a=ce(t,"isLastDialog",3,!1),o=ce(t,"onStartClose",3,()=>{}),i=ce(t,"onClose",3,()=>{});const l=O(()=>a()?void 0:t.onStartBack),{showDialog:c,hideDialog:u}=cr();Ee(()=>(c(),()=>{u()}));const{checkMobileSize:d}=Wn();var v=U(),g=L(v);{var h=_=>{Kc(_,{get shownDialog(){return t.shownDialog},get blocked(){return n()},get unBlockedBack(){return t.unBlockedBack},get hiddenDialog(){return r()},get children(){return t.children},get onStartClose(){return t.onStartBack},get onClose(){return i()}})},f=_=>{nu(_,{get shownDialog(){return t.shownDialog},get blockedDialog(){return n()},get unBlockedBack(){return t.unBlockedBack},get hiddenDialog(){return r()},get children(){return t.children},get onStartBack(){return s(l)},get onStartClose(){return o()},get onClose(){return i()}})};W(g,_=>{d()?_(h):_(f,!1)})}p(e,v),Z()}function Ga(e,t){X(t,!0);const{back:n,closeDialogStack:r}=pt(),{popStackPages:a}=Lt();let o=ce(t,"blocked",3,!1),i=ce(t,"isLastDialog",3,!1),l=ce(t,"onBack",3,()=>{});const{checkBlockedDialog:c,checkUnBlockedBackDialog:u}=cr(),d=O(()=>o()||t.hidden||c()),v=O(()=>u()&&!i());ru(e,{get shownDialog(){return t.shown},get blockedDialog(){return s(d)},get unBlockedBack(){return s(v)},get hiddenDialog(){return t.hidden},get isLastDialog(){return i()},onStartBack:()=>{(!s(d)||s(d)&&s(v))&&t.shown&&(n(),l()())},onStartClose:()=>{(!s(d)||s(d)&&s(v))&&t.shown&&r()},onClose:()=>{a()},children:(_,w)=>{var b=U(),k=L(b);ve(k,()=>t.children),p(_,b)},$$slots:{default:!0}}),Z()}var au=j('<h1 class="svelte-1ky72l5"><!></h1>');function ou(e,t){var n=au(),r=D(n);ve(r,()=>t.children),p(e,n)}var su=j('<div class="block svelte-ujk4k"><!> <div class="container svelte-ujk4k"><!> <!></div></div>');function iu(e,t){X(t,!0);const{blockDialog:n}=cr(),{pushStackPages:r}=Lt(),{closeDialogStack:a}=pt(),{initLocalAccount:o}=Ea();let i=F("idle");const l=()=>{m(i,"loading"),r(Y.Auth)},c=async()=>{m(i,"loading"),bl(),await o(),n(!1),a()};Ne(()=>{n(s(i)==="idle"||s(i)==="loading")}),Ee(()=>(n(!0),()=>{n(!1)}));var u=su(),d=D(u);ou(d,{children:(f,_)=>{var w=Ae("use app");p(f,w)}});var v=z(d,2),g=D(v);Zt(g,{onClick:l,fullWidth:!0,children:(f,_)=>{var w=Ae("cloud account");p(f,w)},$$slots:{default:!0}});var h=z(g,2);Zt(h,{onClick:c,fullWidth:!0,type:"secondary",children:(f,_)=>{var w=Ae("without account");p(f,w)},$$slots:{default:!0}}),p(e,u),Z()}var lu=j('<div class="svelte-1x9a4ve"><!></div>');function Ie(e,t){X(t,!0);const{setDialogPageHeight:n}=xa();let r=F(null);Ee(()=>{s(r)&&(s(r).getBoundingClientRect(),s(r).style.opacity="1");const i=new ResizeObserver(l=>{for(let c of l){const u=c.contentRect.height;n(u)}});if(s(r))return i.observe(s(r)),()=>{s(r)&&i.unobserve(s(r)),i.disconnect()}});var a=lu(),o=D(a);ve(o,()=>t.children),xt(a,i=>m(r,i),()=>s(r)),p(e,a),Z()}var cu=j('<div class="svelte-stjbkr"><p class="svelte-stjbkr">Page not found</p> <!></div>');function uu(e,t){X(t,!1);const{navigate:n}=pt(),r=i=>{i.preventDefault(),n("/")};ka();var a=cu(),o=z(D(a),2);Zt(o,{element:"a",href:"/",onClick:r,children:(i,l)=>{var c=Ae("close");p(i,c)},$$slots:{default:!0}}),p(e,a),Z()}const du="modulepreload",fu=function(e){return"/"+e},Xa={},Fe=function(t,n,r){let a=Promise.resolve();if(n&&n.length>0){let c=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=i?.nonce||i?.getAttribute("nonce");a=c(n.map(u=>{if(u=fu(u),u in Xa)return;Xa[u]=!0;const d=u.endsWith(".css"),v=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${v}`))return;const g=document.createElement("link");if(g.rel=d?"stylesheet":du,d||(g.as="script"),g.crossOrigin="",g.href=u,l&&g.setAttribute("nonce",l),document.head.appendChild(g),d)return new Promise((h,f)=>{g.addEventListener("load",h),g.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${u}`)))})}))}function o(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return a.then(i=>{for(const l of i||[])l.status==="rejected"&&o(l.reason);return t().catch(o)})};var vu=j('<div class="svelte-10xfz1h"><p class="svelte-10xfz1h">Something went wrong. Please reload the page</p> <!></div>');function hu(e){var t=vu(),n=z(D(t),2);Zt(n,{onClick:()=>location.reload(),children:(r,a)=>{var o=Ae("Reload");p(r,o)},$$slots:{default:!0}}),p(e,t)}var gu=j('<div><!> <div class="loader svelte-m0sno1"></div></div>');function ws(e,t){X(t,!0);let n=F(!1);Ee(()=>{const o=setTimeout(()=>{m(n,!0)},200);return()=>{clearTimeout(o)}});var r=gu(),a=D(r);ve(a,()=>t.children??ye),fe(()=>we(r,1,me(["block",{shown:s(n)}]),"svelte-m0sno1")),p(e,r),Z()}var _u=j('<div class="svelte-1mu1b44"><!></div>');function pu(e,t){X(t,!0);const{getDialogPageHeight:n}=xa(),r=O(n);var a=_u(),o=D(a);ws(o,{}),fe(()=>tr(a,`min-height: ${s(r)??""}px;`)),p(e,a),Z()}function He(e,t){X(t,!0);const n={},r=Object.assign({"./Pages/About.svelte":()=>Fe(()=>import("./Di3bOSJL.js"),__vite__mapDeps([0,1])),"./Pages/AccessKeys.svelte":()=>Fe(()=>import("./z8TUQB1J.js"),__vite__mapDeps([2,3,4,5])),"./Pages/Account.svelte":()=>Fe(()=>import("./k6Sas3Gp.js"),__vite__mapDeps([6,3,7])),"./Pages/Auth.svelte":()=>Fe(()=>import("./DGk8yB3K.js"),__vite__mapDeps([8,9])),"./Pages/ClearStore.svelte":()=>Fe(()=>import("./bSQj4fEV.js"),__vite__mapDeps([10,11])),"./Pages/ConfirmAccessKey.svelte":()=>Fe(()=>import("./BmAGFxq8.js"),__vite__mapDeps([12,4,3,13,14,15,16])),"./Pages/EditNote.svelte":()=>Fe(()=>import("./CJ8CKZV5.js"),__vite__mapDeps([17,18,14,15,19,20])),"./Pages/Exit.svelte":()=>Fe(()=>import("./9zfSAXrY.js"),__vite__mapDeps([21,22])),"./Pages/ExportData.svelte":()=>Fe(()=>import("./DfRdfUBa.js"),__vite__mapDeps([23,24])),"./Pages/ImportData.svelte":()=>Fe(()=>import("./wcpHUeV8.js"),__vite__mapDeps([25,26])),"./Pages/NewNote.svelte":()=>Fe(()=>import("./VWDyBWg3.js"),__vite__mapDeps([27,18,14,15,19])),"./Pages/Settings.svelte":()=>Fe(()=>import("./D7rIx20g.js"),__vite__mapDeps([28,29])),"./Pages/Signin.svelte":()=>Fe(()=>import("./5sHWzzxV.js"),__vite__mapDeps([30,4,3,13,31])),"./Pages/Signup.svelte":()=>Fe(()=>import("./Caq-W72a.js"),__vite__mapDeps([32,13,4,3,33])),"./Pages/Subscription.svelte":()=>Fe(()=>import("./AcRlA0nj.js"),__vite__mapDeps([34,35])),"./Pages/Sync.svelte":()=>Fe(()=>import("./acCsWnC4.js"),__vite__mapDeps([36,37]))}),a=async l=>{const c=`./Pages/${l[0].toUpperCase()+l.slice(1)}.svelte`;if(!n[l]){if(r[c]){const u=r[c]();return n[l]={promise:u},n[l].module=await u,n[l].module}throw new Error(`Page ${l} not found`)}return n[l].module||await n[l].promise};var o=U(),i=L(o);Fo(i,()=>a(t.page),l=>{pu(l,{})},(l,c)=>{const u=O(()=>s(c).default);var d=U(),v=L(d);Uo(v,()=>s(u),(g,h)=>{h(g,{get params(){return t.params},get hidden(){return t.hidden}})}),p(l,d)},l=>{hu(l)}),p(e,o),Z()}var mu=j('<button> <svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></button>');function ys(e,t){let n=O(()=>t.style==="selected"?"45deg":"0deg");var r=mu();r.__click=function(...i){t.onClick?.apply(this,i)};var a=D(r),o=z(a);be(o,()=>({"--size":t.size==="small"?"10px":"12px","--rotate":s(n)})),ke(o.lastChild,{name:"plus"}),fe(()=>{xe(r,"type",t.type),we(r,1,me([{selectedTag:t.style==="selected",small:t.size==="small"}]),"svelte-uu8a24"),Gt(a,`${t.title??""} `)}),p(e,r)}nt(["click"]);var wu=j("<div></div>");function Za(e,t){X(t,!0);let n=ce(t,"mobile",3,!1);var r=wu();Fr(r,20,()=>t.tags,a=>a,(a,o)=>{ys(a,{get title(){return o},onClick:()=>t.handleTagClick(o)})}),fe(()=>we(r,1,me(["tags",{mobile:n()}]),"svelte-1c53r32")),p(e,r),Z()}var yu=j("<div></div>");function Ja(e,t){X(t,!0);var n=U(),r=L(n);{var a=o=>{var i=yu();we(i,1,me(["tags","selectedTags"]),"svelte-58z9m1"),Fr(i,20,()=>t.selectedTags,l=>l,(l,c)=>{ys(l,{get title(){return c},onClick:()=>t.handleSelectedTagClick(c),style:"selected"})}),p(o,i)};W(r,o=>{t.selectedTags.size>0&&o(a)})}p(e,n),Z()}var bu=(e,t,n)=>{t(),n("/",{full:!0})(e)},Su=j('<a class="link svelte-ltt61h"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a>'),ku=(e,t,n)=>{t(),n(Y.Bin,{full:!0})(e)},Cu=j('<a class="link svelte-ltt61h"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a>'),Eu=j('<div class="sidebarFixed svelte-ltt61h"><div class="nav svelte-ltt61h"><!> <div class="menu svelte-ltt61h"><a class="link svelte-ltt61h"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a> <a class="link svelte-ltt61h"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a> <!></div></div> <div class="searchWrapper svelte-ltt61h"><!></div> <!></div> <!>',1),Pu=j('<div class="sidebar svelte-ltt61h"><div class="sidebarFixed svelte-ltt61h"><!></div> <!></div>');function xu(e,t){X(t,!0);const{checkMobileSize:n}=Wn(),{sidebarClose:r}=Jo(),{getAppHistory:a}=pt(),{getPageUrl:o,createHandlePage:i,getStackPagesFormUrl:l}=Lt(),c=Ko(),u=O(()=>a().pathname),{getSelectedTags:d,addTag:v,removeTag:g}=$o();let h=O(d);const{checkNotesInBin:f}=Hr();let _=ce(t,"getNotes",3,()=>[]),w=ce(t,"mode",3,"notes"),b=null;function k(){return b||(b=Fe(()=>import("./BONuIDWM.js"),__vite__mapDeps([38,39]))),b}const y=R=>{v(R)},x=R=>{g(R)},B=()=>{if(s(h).has("inbox"))return[];const R=[],J=Array.from(s(h).values());for(const H of _()()||[])if(H.data&&!(H.data.deletedAt&&w()==="notes")&&!(!H.data.deletedAt&&w()==="bin")){if(s(h).size===0){for(const G of H?.data?.tags||[])R.includes(G)||R.push(G);for(const G of H?.data?.draft?.tags||[])R.includes(G)||R.push(G);continue}if(H.data&&J.every(G=>H.data?.tags.includes(G)))for(const G of H.data.tags)!s(h).has(G)&&!R.includes(G)&&R.push(G);if(H&&H.data.draft&&J.every(G=>H.data?.draft?.tags.includes(G)))for(const G of H.data.draft.tags)!s(h).has(G)&&!R.includes(G)&&R.push(G)}return R};let E=O(()=>B().filter(R=>c.value===""||R.toLowerCase().indexOf(c.value.toLowerCase())!==-1).sort((R,J)=>R==="inbox"?-1:J==="inbox"?1:R.localeCompare(J))),A=O(n);Ee(()=>{s(A)&&k()});const{checkExistedDialog:T}=cr();let q=O(()=>l().length>0||T());var $=U(),_e=L($);{var ie=R=>{var J=U(),H=L(J);Fo(H,k,null,(G,se)=>{const K=O(()=>s(se).default);var I=U(),Q=L(I);Uo(Q,()=>s(K),(le,he)=>{he(le,{get blocked(){return s(q)},children:(te,C)=>{var M=Eu(),S=L(M),P=D(S),V=D(P);gs(V,{});var ee=z(V,2),ne=D(ee),ge=O(()=>i(Y.Settings));ne.__click=function(...De){s(ge)?.apply(this,De)};var oe=D(ne);be(oe,()=>({"--size":"24px"})),ke(oe.lastChild,{name:"settings"});var Me=z(oe,2);$e(Me,{children:(De,Je)=>{var ze=Ae("Settings");p(De,ze)}});var Pe=z(ne,2),Ke=O(()=>i(Y.Sync));Pe.__click=function(...De){s(Ke)?.apply(this,De)};var dt=D(Pe);be(dt,()=>({"--size":"24px"})),ke(dt.lastChild,{name:"sync"});var Ge=z(dt,2);$e(Ge,{children:(De,Je)=>{var ze=Ae("Sync");p(De,ze)}});var rt=z(Pe,2);{var at=De=>{var Je=Su();Je.__click=[bu,r,i];var ze=D(Je);be(ze,()=>({"--size":"24px"})),ke(ze.lastChild,{name:"note"});var It=z(ze,2);$e(It,{children:(mt,en)=>{var tn=Ae("Notes");p(mt,tn)}}),fe(mt=>xe(Je,"href",mt),[()=>o("/",{full:!0})]),p(De,Je)},ft=De=>{var Je=U(),ze=L(Je);{var It=mt=>{var en=Cu();en.__click=[ku,r,i];var tn=D(en);be(tn,()=>({"--size":"24px"})),ke(tn.lastChild,{name:"bin"});var Ot=z(tn,2);$e(Ot,{children:(Rt,Ur)=>{var jr=Ae("Bin");p(Rt,jr)}}),fe(Rt=>xe(en,"href",Rt),[()=>o(Y.Bin,{full:!0})]),p(mt,en)};W(ze,mt=>{f()&&mt(It)},!0)}p(De,Je)};W(rt,De=>{s(u)===`/${Y.Bin}`?De(at):De(ft,!1)})}var ur=z(P,2),Mt=D(ur);la(Mt,{placeholder:"Search tag",get value(){return c.value},set value(De){c.value=De}});var bn=z(ur,2);Ja(bn,{get selectedTags(){return s(h)},handleSelectedTagClick:x});var dr=z(S,2);Za(dr,{get tags(){return s(E)},handleTagClick:y,mobile:!0}),fe((De,Je)=>{xe(ne,"href",De),xe(Pe,"href",Je)},[()=>o(Y.Settings),()=>o(Y.Sync)]),p(te,M)},$$slots:{default:!0}})}),p(G,I)}),p(R,J)},ae=R=>{var J=Pu(),H=D(J),G=D(H);Ja(G,{get selectedTags(){return s(h)},handleSelectedTagClick:x});var se=z(H,2);Za(se,{get tags(){return s(E)},handleTagClick:y}),p(R,J)};W(_e,R=>{s(A)?R(ie):R(ae,!1)})}p(e,$),Z()}nt(["click"]);const Du=(e,t,n,r)=>{t.noteData.pinnedAt?(n(t.noteId,!1),hn("Note unpinned",{onCancel:()=>{n(t.noteId,!0)}})):(n(t.noteId,!0),hn("Note pinned",{onCancel:()=>{n(t.noteId,!1)}})),m(r,!0)},Au=(e,t,n)=>{navigator.clipboard.writeText(t.noteData.url),hn("Link copied"),m(n,!0)};var Tu=j('<li class="svelte-8ve3pe"><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>Copy link</button></li>'),Nu=(e,t,n)=>{m(t,!0),m(n,!0)},Lu=j('<li class="svelte-8ve3pe"><button><span class="wrapperIcon svelte-8ve3pe"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></span>Delete</button></li>'),Bu=(e,t,n)=>{m(t,!0),m(n,!0)},Mu=(e,t,n)=>{m(t,!0),m(n,!0)},Iu=j('<li class="svelte-8ve3pe"><button><span class="wrapperIcon svelte-8ve3pe"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></span>Restore</button></li> <li class="svelte-8ve3pe"><button><span class="wrapperIcon svelte-8ve3pe"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></span>Delete from bin</button></li>',1),Ou=j('<ul class="menu svelte-8ve3pe"><!> <li class="svelte-8ve3pe"><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> </button></li> <!></ul>'),Ru=j('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),Fu=j("<!> <!>",1);function zu(e,t){X(t,!0);const n=(T,q=ye)=>{var $=Ou(),_e=D($);{var ie=I=>{var Q=Tu(),le=D(Q);le.__click=[Au,t,u];var he=D(le);be(he,()=>({"--size":"22px"})),ke(he.lastChild,{name:"copy"}),fe(()=>we(le,1,me(["button",{buttonMenuDialog:q()}]),"svelte-8ve3pe")),p(I,Q)};W(_e,I=>{q()&&t.noteData.url&&I(ie)})}var ae=z(_e,2),R=D(ae);R.__click=[Du,t,o,u];var J=D(R);{let I=O(()=>t.noteData.pinnedAt?"pin-cancel":"pin");be(J,()=>({"--size":"22px"})),ke(J.lastChild,{get name(){return s(I)}})}var H=z(J),G=z(ae,2);{var se=I=>{var Q=Lu(),le=D(Q);le.__click=[Nu,d,u];var he=D(le),te=D(he);be(te,()=>({"--size":"18px"})),ke(te.lastChild,{name:"bin"}),fe(()=>we(le,1,me(["button",{buttonMenuDialog:q()}]),"svelte-8ve3pe")),p(I,Q)},K=I=>{var Q=Iu(),le=L(Q),he=D(le);he.__click=[Bu,v,u];var te=D(he),C=D(te);be(C,()=>({"--size":"18px"})),ke(C.lastChild,{name:"bin-cancel"});var M=z(le,2),S=D(M);S.__click=[Mu,g,u];var P=D(S),V=D(P);be(V,()=>({"--size":"18px"})),ke(V.lastChild,{name:"bin"}),fe(()=>{we(he,1,me(["button",{buttonMenuDialog:q()}]),"svelte-8ve3pe"),we(S,1,me(["button",{buttonMenuDialog:q()}]),"svelte-8ve3pe")}),p(I,Q)};W(G,I=>{l()==="notes"?I(se):I(K,!1)})}fe(()=>{we(R,1,me(["button",{buttonMenuDialog:q()}]),"svelte-8ve3pe"),Gt(H,` ${t.noteData.pinnedAt?"Unpin":"Pin"}`)}),p(T,$)},{moveNoteToBin:r,deleteNote:a,pinNote:o,restoreNoteFromBin:i}=Hr();let l=ce(t,"mode",3,"notes"),c=ce(t,"shownMenu",15),u=F(!1),d=F(!1),v=F(!1),g=F(!1);const{checkMobileSize:h}=Wn();let f=O(h);const _=()=>{a(t.noteId),hn("Draft deleted")},w=async()=>{r(t.noteId),hn("Note moved to bin",{onCancel:()=>{i(t.noteId)}})},b=()=>{i(t.noteId),hn("Note restored from bin",{onCancel:()=>{r(t.noteId)}})},k=()=>{s(d)?(m(d,!1),t.noteData.type==="draft"?_():w()):s(v)&&(m(v,!1),b()),c(!1),m(u,!1)};var y=Fu(),x=L(y);{var B=T=>{var q=U(),$=L(q);{var _e=ae=>{Da(ae,{get startClose(){return s(u)},onClosed:k,children:(R,J)=>{n(R,()=>!0)},$$slots:{default:!0}})},ie=ae=>{var R=Ru(),J=L(R);be(J,()=>({"--bottom":"-90px","--right":"20px"})),ps(J.lastChild,{get startClose(){return s(u)},get positionTop(){return t.showMenuUp},onClosed:k,children:(H,G)=>{n(H,()=>!1)},$$slots:{default:!0}}),p(ae,R)};W($,ae=>{s(f)?ae(_e):ae(ie,!1)})}p(T,q)};W(x,T=>{c()&&T(B)})}var E=z(x,2);{var A=T=>{ms(T,{title:"Are you sure you want to delete this note?",buttonConfirmTitle:"Delete",onConfirm:()=>{a(t.noteId),m(g,!1)},onCancel:()=>{m(g,!1)}})};W(E,T=>{s(g)&&T(A)})}p(e,y),Z()}nt(["click"]);const Hu=(e,t)=>{m(t,!0)},Uu=(e,t,n)=>{navigator.clipboard.writeText(t.noteData.url),hn("Link copied"),m(n,!1)},ju=(e,t)=>{m(t,!0)},Vu=(e,t)=>{m(t,!1)},qu=(e,t,n,r)=>{e.preventDefault(),t.noteData.type==="draft"?n(`${Y.NewNote}`):n(`${Y.EditNote}?id=${t.noteId}`),m(r,!1)};var Wu=j('<div class="iconPlaceholder svelte-1jg44o9"></div>'),Yu=j('<img loading="lazy" class="noteIcon" height="16" width="16" alt=""/>'),Ku=j('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),Gu=j('<div class="noteIconWrapper svelte-1jg44o9"><!></div>'),Xu=j('<button class="button svelte-1jg44o9"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),Zu=(e,t)=>{m(t,!1)},Ju=j('<!> <a target="_blank" rel="noopener noreferrer" class="button openLink svelte-1jg44o9"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a>',1),Qu=j('<li><!> <a class="noteLink svelte-1jg44o9" target="_blank" rel="noopener noreferrer"> </a> <div><!> <button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button></div> <!></li>');function $u(e,t){X(t,!0);const{pushStackPages:n}=Lt(),{getFaviconEnabled:r}=Pl();let a=ce(t,"mode",3,"notes"),o=F(!1),i=F(!1),l=F(!1),c=O(r);const{checkMobileSize:u}=Wn(),d=T=>{try{return`https://icons.duckduckgo.com/ip3/${new URL(T).host}.ico`}catch{return""}},v=t.noteData.url||t.noteData.draft?.url||"";var g=Qu();g.__focusin=[ju,i],g.__focusout=[Vu,i];var h=D(g);{var f=T=>{var q=Gu(),$=D(q);{var _e=ae=>{var R=U(),J=L(R);{var H=se=>{var K=Wu();p(se,K)},G=se=>{var K=Yu();fe(I=>xe(K,"src",I),[()=>d(v)]),ba("error",K,()=>{m(l,!0)}),p(se,K)};W(J,se=>{s(l)?se(H):se(G,!1)})}p(ae,R)},ie=ae=>{var R=Ku(),J=L(R);be(J,()=>({"--size":"16px"})),ke(J.lastChild,{name:"note"}),p(ae,R)};W($,ae=>{v?ae(_e):ae(ie,!1)})}p(T,q)};W(h,T=>{s(c)&&T(f)})}var _=z(h,2);_.__click=[qu,t,n,i];var w=D(_),b=z(_,2),k=D(b);{var y=T=>{var q=Ju(),$=L(q);{var _e=J=>{var H=Xu();H.__click=[Uu,t,i];var G=D(H);be(G,()=>({"--size":"20px"})),ke(G.lastChild,{name:"copy"});var se=z(G,2);$e(se,{children:(K,I)=>{var Q=Ae("copy link");p(K,Q)}}),fe(()=>xe(H,"tabindex",t.focusHidden?-1:0)),p(J,H)};W($,J=>{u()||J(_e)})}var ie=z($,2);ie.__click=[Zu,i];var ae=D(ie);be(ae,()=>({"--size":"18px"})),ke(ae.lastChild,{name:"open"});var R=z(ae,2);$e(R,{children:(J,H)=>{var G=Ae();fe(()=>Gt(G,t.noteData.draft?.name||t.noteData.name||"unknown")),p(J,G)}}),fe(()=>{xe(ie,"href",v),xe(ie,"tabindex",t.focusHidden?-1:0)}),p(T,q)};W(k,T=>{v&&T(y)})}var x=z(k,2);x.__click=[Hu,o],we(x,1,me(["button","buttonMenu"]),"svelte-1jg44o9");var B=D(x);be(B,()=>({"--size":"18px","--rotate":"90deg"})),ke(B.lastChild,{name:"menu"});var E=z(B,2);$e(E,{children:(T,q)=>{var $=Ae("show menu");p(T,$)}});var A=z(b,2);zu(A,{get mode(){return a()},get noteId(){return t.noteId},get noteData(){return t.noteData},get showMenuUp(){return t.showMenuUp},get shownMenu(){return s(o)},set shownMenu(T){m(o,T,!0)}}),fe((T,q)=>{we(g,1,T,"svelte-1jg44o9"),xe(_,"tabindex",t.focusHidden?-1:0),xe(_,"href",q),Gt(w,t.noteData?.draft?.name||t.noteData?.name||"unknown"),we(b,1,me(["noteMenuWrapper",{noteMenuWrapperActive:s(i)}]),"svelte-1jg44o9"),xe(x,"tabindex",t.focusHidden?-1:0)},[()=>me(["record",{pinned:!!t.noteData.pinnedAt,draft:!!t.noteData.draft}]),()=>`/?stackPages=${encodeURIComponent(`${Y.EditNote}?id=${t.noteId}`)}`]),p(e,g),Z()}nt(["focusin","focusout","click"]);var ed=j('<p class="message">No notes in bin</p>'),td=j('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Add note</span>',1),nd=j('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span style="padding-left: 6px;">Import data</span>',1),rd=j('<p class="message">No notes found</p> <div class="wrapperButtonsAdd svelte-106i4nx"><!></div> <div>or</div> <div class="wrapperButtonsAdd svelte-106i4nx"><!></div>',1),ad=j('<div class="emptyStore svelte-106i4nx"><!></div>'),od=j('<div class="emptyMessage svelte-106i4nx">No notes found</div>'),sd=j('<div class="feed svelte-106i4nx"><ul class="svelte-106i4nx"></ul></div>'),id=j('<div class="wrapperFeed svelte-106i4nx"><div class="wrapperContainer svelte-106i4nx"><!></div></div>');function ld(e,t){X(t,!0);let n=ce(t,"getNotes",3,()=>[]),r=ce(t,"mode",3,"notes");const{getScrollContainer:a}=Pa(),{createHandlePage:o,getPageUrl:i}=Lt(),{getSelectedTags:l}=$o(),{getFeedOrder:c}=Xo(),u=qo();let d=54,v=F(0),g=F(0),h=F(0),f=F(0),_=[],w=F(0),b=O(a),k=null,y=null;const x=O(l);Ne(()=>{s(x),s(T),s(b)?.scrollTo(0,0)});const{enable:B}=ls(),E=()=>{B(),k||(k=requestAnimationFrame(()=>{const I=s(b)?.scrollTop||0;m(h,I,!0);const Q=Math.ceil(s(v)/d);m(g,Math.floor(I/(d*Q))*(d*Q)),k=null}))},A=()=>{y||(y=requestAnimationFrame(()=>{m(v,window.innerHeight-180||0,!0);const I=s(b)?.scrollTop||0;m(h,I,!0);const Q=Math.ceil(s(v)/d);m(g,Math.floor(I/(d*Q))*(d*Q)),y=null}))};Ee(()=>{A(),E()}),Ne(()=>(s(b)?.addEventListener("scroll",E),window.addEventListener("resize",A),()=>{s(b)?.removeEventListener("scroll",E),window.removeEventListener("resize",A)}));const T=O(c);let q=F("");Ne(()=>{s(T);const I=n()()||[];Pt(()=>s(q))!==s(T)&&Pt(()=>m(q,s(T),!0)),I.sort((te,C)=>{if(!te||!C||!te.data||!C.data)return 0;if(te.data.pinnedAt&&!C.data.pinnedAt)return 1;if(!te.data.pinnedAt&&C.data.pinnedAt)return-1;if(te.data.pinnedAt&&C.data.pinnedAt){if(te.data.pinnedAt<C.data.pinnedAt)return-1;if(te.data.pinnedAt>C.data.pinnedAt)return 1}if(te.data.draft&&!C.data.draft)return 1;if(!te.data.draft&&C.data.draft)return-1;if(te.data.draft&&C.data.draft){if(te.data.draft.updatedAt<C.data.draft.updatedAt)return-1;if(te.data.draft.updatedAt>C.data.draft.updatedAt)return 1}switch(s(T)){case"newest":return te.data.updatedAt<C.data.updatedAt?-1:1;case"oldest":return te.data.updatedAt>C.data.updatedAt?-1:1;case"AtoZ":return C.data.name.localeCompare(te.data.name);case"ZtoA":return te.data.name.localeCompare(C.data.name);default:return 0}});const le=[],he=Array.from(s(x).values());for(let te=I.length-1;te>=0;te--){if(!I[te]||!I[te].data)continue;const C=I[te];r()==="notes"&&C?.data.deletedAt||r()==="bin"&&!C?.data.deletedAt||s(x).size&&he.some(M=>!C.data?.tags.includes(M))&&(!C.data.draft||he.some(M=>!C.data?.draft?.tags.includes(M)))||u&&!(C.data.name.toLowerCase().includes(u.value.toLowerCase())||C.data.url.toLowerCase().includes(u.value.toLowerCase())||C.data.text.toLowerCase().includes(u.value.toLowerCase()))||le.push(C)}m(f,le.length,!0),_=le,m(w,Date.now(),!0)});const $=O(()=>s(f)*d);let ie=O(()=>{s(w);const I=Math.ceil(s(v)/d);let Q=Math.floor(s(g)/d);return Q=Q-Math.min(Q,I),_.slice(Q,Q+I*3)}),ae=O(()=>d*Math.ceil(s(v)/d));const R=O(()=>s(g)-Math.min(s(g),s(ae)));var J=id(),H=D(J),G=D(H);{var se=I=>{ws(I,{})},K=I=>{var Q=U(),le=L(Q);{var he=C=>{var M=ad(),S=D(M);{var P=ee=>{var ne=ed();p(ee,ne)},V=ee=>{var ne=rd(),ge=z(L(ne),2),oe=D(ge);{let Ke=O(()=>i(Y.NewNote)),dt=O(()=>o(Y.NewNote));Zt(oe,{element:"a",get href(){return s(Ke)},get onClick(){return s(dt)},children:(Ge,rt)=>{var at=td(),ft=L(at);be(ft,()=>({"--size":"18px","--color":"#b0b0b0"})),ke(ft.lastChild,{name:"plus"}),p(Ge,at)},$$slots:{default:!0}})}var Me=z(ge,4),Pe=D(Me);{let Ke=O(()=>i(Y.ImportData)),dt=O(()=>o(Y.ImportData));Zt(Pe,{element:"a",get href(){return s(Ke)},get onClick(){return s(dt)},children:(Ge,rt)=>{var at=nd(),ft=L(at);be(ft,()=>({"--size":"18px","--color":"#b0b0b0"})),ke(ft.lastChild,{name:"import"}),p(Ge,at)},$$slots:{default:!0}})}p(ee,ne)};W(S,ee=>{r()==="bin"?ee(P):ee(V,!1)})}p(C,M)},te=C=>{var M=U(),S=L(M);{var P=ee=>{var ne=od();p(ee,ne)},V=ee=>{var ne=sd(),ge=D(ne);Fr(ge,23,()=>s(ie),oe=>oe.data,(oe,Me,Pe)=>{var Ke=U(),dt=L(Ke);{var Ge=rt=>{{let at=O(()=>s(Pe)*d<s(h)-s(R)-d/2||s(Pe)*d>s(h)-s(R)+Math.floor(s(v)/d)*d),ft=O(()=>(s(Pe)+3)*d<s(h)-s(R)-d/2||(s(Pe)+3)*d>s(h)-s(R)+Math.floor(s(v)/d)*d);$u(rt,{get mode(){return r()},get focusHidden(){return s(at)},get showMenuUp(){return s(ft)},get noteId(){return s(Me).id},get noteData(){return s(Me).data}})}};W(dt,rt=>{s(Me).data&&rt(Ge)})}p(oe,Ke)}),fe(oe=>{tr(ne,`min-height: ${oe??""}px`),tr(ge,`transform: translateY(${s(R)??""}px);`)},[()=>Math.max((s($)>s(v),s($)),0)]),p(ee,ne)};W(S,ee=>{s(ie).length===0?ee(P):ee(V,!1)},!0)}p(C,M)};W(le,C=>{(n()()||[]).length===0||r()==="notes"&&(n()()||[]).length-t.countNotesInBin()===0?C(he):C(te,!1)},!0)}p(I,Q)};W(G,I=>{t.readyNotes?I(K,!1):I(se)})}p(e,J),Z()}var cd=j('<!> <div class="content svelte-k57gez"><!></div>',1);function ud(e,t){X(t,!0);const{getAppHistory:n}=pt(),{getGetNotes:r,isInitedNotes:a,countNotesInBin:o}=Hr(),i=O(a),l=O(r),c=O(()=>n().pathname);var u=cd(),d=L(u);{let h=O(()=>s(c)==="/bin"?"bin":"notes");xu(d,{get mode(){return s(h)},get getNotes(){return s(l)}})}var v=z(d,2),g=D(v);{let h=O(()=>s(c)==="/bin"?"bin":"notes");ld(g,{get mode(){return s(h)},get getNotes(){return s(l)},get countNotesInBin(){return o},get readyNotes(){return s(i)}})}p(e,u),Z()}const Qa=(e,t=ye,n=ye,r)=>{let a=Mr(()=>Rs(r?.(),!1));var o=U(),i=L(o);{var l=u=>{Ie(u,{children:(d,v)=>{He(d,{get hidden(){return s(a)},get page(){return Y.Settings}})},$$slots:{default:!0}})},c=u=>{var d=U(),v=L(d);{var g=f=>{Ie(f,{children:(_,w)=>{He(_,{get hidden(){return s(a)},get page(){return Y.NewNote}})},$$slots:{default:!0}})},h=f=>{var _=U(),w=L(_);{var b=y=>{Ie(y,{children:(x,B)=>{He(x,{get params(){return n()},get hidden(){return s(a)},get page(){return Y.EditNote}})},$$slots:{default:!0}})},k=y=>{var x=U(),B=L(x);{var E=T=>{Ie(T,{children:(q,$)=>{He(q,{get hidden(){return s(a)},get page(){return Y.ImportData}})},$$slots:{default:!0}})},A=T=>{var q=U(),$=L(q);{var _e=ae=>{Ie(ae,{children:(R,J)=>{He(R,{get hidden(){return s(a)},get page(){return Y.ExportData}})},$$slots:{default:!0}})},ie=ae=>{var R=U(),J=L(R);{var H=se=>{Ie(se,{children:(K,I)=>{He(K,{get hidden(){return s(a)},get page(){return Y.ClearStore}})},$$slots:{default:!0}})},G=se=>{var K=U(),I=L(K);{var Q=he=>{Ie(he,{children:(te,C)=>{iu(te,{})},$$slots:{default:!0}})},le=he=>{var te=U(),C=L(te);{var M=P=>{Ie(P,{children:(V,ee)=>{He(V,{get hidden(){return s(a)},get page(){return Y.Auth}})},$$slots:{default:!0}})},S=P=>{var V=U(),ee=L(V);{var ne=oe=>{Ie(oe,{children:(Me,Pe)=>{He(Me,{get hidden(){return s(a)},get page(){return Y.Signup}})},$$slots:{default:!0}})},ge=oe=>{var Me=U(),Pe=L(Me);{var Ke=Ge=>{Ie(Ge,{children:(rt,at)=>{He(rt,{get hidden(){return s(a)},get page(){return Y.Signin}})},$$slots:{default:!0}})},dt=Ge=>{var rt=U(),at=L(rt);{var ft=Mt=>{Ie(Mt,{children:(bn,dr)=>{He(bn,{get hidden(){return s(a)},get page(){return Y.AccessKeys}})},$$slots:{default:!0}})},ur=Mt=>{var bn=U(),dr=L(bn);{var De=ze=>{Ie(ze,{children:(It,mt)=>{He(It,{get hidden(){return s(a)},get page(){return Y.Account}})},$$slots:{default:!0}})},Je=ze=>{var It=U(),mt=L(It);{var en=Ot=>{Ie(Ot,{children:(Rt,Ur)=>{He(Rt,{get hidden(){return s(a)},get page(){return Y.ConfirmAccessKey}})},$$slots:{default:!0}})},tn=Ot=>{var Rt=U(),Ur=L(Rt);{var jr=Sn=>{Ie(Sn,{children:(fr,Aa)=>{He(fr,{get hidden(){return s(a)},get page(){return Y.Exit}})},$$slots:{default:!0}})},bs=Sn=>{var fr=U(),Aa=L(fr);{var Ss=kn=>{Ie(kn,{children:(vr,Ta)=>{He(vr,{get hidden(){return s(a)},get page(){return Y.Sync}})},$$slots:{default:!0}})},ks=kn=>{var vr=U(),Ta=L(vr);{var Cs=Cn=>{Ie(Cn,{children:(hr,Na)=>{He(hr,{get hidden(){return s(a)},get page(){return Y.Subscription}})},$$slots:{default:!0}})},Es=Cn=>{var hr=U(),Na=L(hr);{var Ps=En=>{Ie(En,{children:(Vr,Ds)=>{He(Vr,{get hidden(){return s(a)},get page(){return Y.About}})},$$slots:{default:!0}})},xs=En=>{Ie(En,{children:(Vr,Ds)=>{uu(Vr,{})},$$slots:{default:!0}})};W(Na,En=>{t()===Y.About?En(Ps):En(xs,!1)},!0)}p(Cn,hr)};W(Ta,Cn=>{t()===Y.Subscription?Cn(Cs):Cn(Es,!1)},!0)}p(kn,vr)};W(Aa,kn=>{t()===Y.Sync?kn(Ss):kn(ks,!1)},!0)}p(Sn,fr)};W(Ur,Sn=>{t()===Y.Exit?Sn(jr):Sn(bs,!1)},!0)}p(Ot,Rt)};W(mt,Ot=>{t()===Y.ConfirmAccessKey?Ot(en):Ot(tn,!1)},!0)}p(ze,It)};W(dr,ze=>{t()===Y.Account?ze(De):ze(Je,!1)},!0)}p(Mt,bn)};W(at,Mt=>{t()===Y.AccessKeys?Mt(ft):Mt(ur,!1)},!0)}p(Ge,rt)};W(Pe,Ge=>{t()===Y.Signin?Ge(Ke):Ge(dt,!1)},!0)}p(oe,Me)};W(ee,oe=>{t()===Y.Signup?oe(ne):oe(ge,!1)},!0)}p(P,V)};W(C,P=>{t()===Y.Auth?P(M):P(S,!1)},!0)}p(he,te)};W(I,he=>{t()===Y.Start?he(Q):he(le,!1)},!0)}p(se,K)};W(J,se=>{t()===Y.ClearStore?se(H):se(G,!1)},!0)}p(ae,R)};W($,ae=>{t()===Y.ExportData?ae(_e):ae(ie,!1)},!0)}p(T,q)};W(B,T=>{t()===Y.ImportData?T(E):T(A,!1)},!0)}p(y,x)};W(w,y=>{t()===Y.EditNote?y(b):y(k,!1)},!0)}p(f,_)};W(v,f=>{t()===Y.NewNote?f(g):f(h,!1)},!0)}p(u,d)};W(i,u=>{t()===Y.Settings?u(l):u(c,!1)})}p(e,o)};var dd=j("<!> <!>",1);function fd(e,t){X(t,!0);const{getStackPages:n,popStackPages:r}=Lt(),{getAccount:a}=Ea();let o=O(n),i=O(()=>a()!==void 0);const{checkMobileSize:l}=Wn();var c=dd(),u=L(c);{var d=f=>{ud(f,{})};W(u,f=>{s(i)&&f(d)})}var v=z(u,2);{var g=f=>{var _=U(),w=L(_);Fr(w,19,()=>s(o),b=>b.page,(b,k,y)=>{const x=O(()=>s(k).page.split("?")[1]),B=O(()=>s(k).page.split("?")[0]);{let E=O(()=>s(y)!==s(o).length-1&&!!s(o)[s(y)+1]?.shown),A=O(()=>s(y)===0);Ga(b,{get shown(){return s(k).shown},get hidden(){return s(E)},get isLastDialog(){return s(A)},children:(T,q)=>{{let $=O(()=>s(y)!==s(o).length-1&&!!s(o)[s(y)+1]?.shown);Qa(T,()=>s(B),()=>s(x),()=>s($))}},$$slots:{default:!0}})}}),p(f,_)},h=f=>{var _=U(),w=L(_);{var b=k=>{const y=O(()=>s(o)[s(o).length-1].page.split("?")[1]),x=O(()=>s(o)[s(o).length-1].page.split("?")[0]);{let B=O(()=>s(o).length===1);Ga(k,{onBack:()=>r(),get shown(){return s(o)[s(o).length-1].shown},hidden:!1,get isLastDialog(){return s(B)},children:(E,A)=>{Qa(E,()=>s(x),()=>s(y))},$$slots:{default:!0}})}};W(w,k=>{s(o).length>0&&k(b)},!0)}p(f,_)};W(v,f=>{l()?f(g):f(h,!1)})}p(e,c),Z()}function vd(e,t){X(t,!1);let n=0;Ee(()=>{document.addEventListener("touchstart",r=>{n=r.touches[0].clientX},{passive:!1}),document.addEventListener("touchmove",r=>{const o=r.touches[0].clientX-n;(n<50&&o>0||n>window.innerWidth-50&&o<0)&&r.preventDefault()},{passive:!1}),document.addEventListener("touchend",()=>{n=0}),document.addEventListener("touchcancel",()=>{n=0})}),ka(),Z()}const hd=(e,t)=>{s(t)&&s(t).scrollTo({top:0})};var gd=j('<div class="wrapperButtonTop svelte-1n46o8q"><button class="buttonTop svelte-1n46o8q"><!> <span class="icon svelte-1n46o8q"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></span></button></div>'),_d=j('<!> <!> <main><div class="wrapperHeader svelte-1n46o8q"><!></div> <div class="container svelte-1n46o8q"><!></div></main> <!>',1);function pd(e,t){X(t,!0);const{navigate:n}=pt(),{hasStackPage:r,pushStackPages:a,clearStackPages:o}=Lt(),{setScrollContainer:i}=Pa(),{getAccount:l,init:c}=Ea(),{getStackPagesFormUrl:u}=Lt(),{createBroadcastChannel:d,tabId:v}=zr(),g=d();Ee(()=>{c(G=>{G===void 0?(n("/"),a("start")):(r("start")&&(o(),n("/")),G?m(b,G):m(b,null))});const H=async G=>{const se=JSON.parse(G.data);if(se.tabId&&se.tabId===v)return;const K=se;K.type==="initLocalAccount"||K.type==="initCloudAccount"||K.type==="updateAccount"||K.type==="disconnectCloudAccount"?(o(),n("/")):K.type==="exit"&&(o(),n("/"),a("start"))};return g.addEventListener(H),()=>g.removeEventListener(H)});const h=qn();Ee(async()=>{await new Promise(H=>setTimeout(H,100)),await Mo(),h.working=!0});let f=F(!1),_=0,w=O(()=>u().length>0),b=O(l),k=F(null);Ne(()=>{i(s(k))});const y=()=>{if(s(k)){const H=s(k).scrollTop||0;H===0?m(f,!1):!s(f)&&_>H?m(f,!0):s(f)&&_+50<H&&m(f,!1),_=H}},x=()=>{y()};Ne(()=>(s(k)?.addEventListener("scroll",x),window.addEventListener("resize",x),()=>{s(k)?.removeEventListener("scroll",x),window.removeEventListener("resize",x)}));var B=_d(),E=L(B);vd(E,{});var A=z(E,2);hc(A,{});var T=z(A,2),q=D(T),$=D(q);{var _e=H=>{Uc(H,{})};W($,H=>{s(b)!==void 0&&H(_e)})}var ie=z(q,2),ae=D(ie);fd(ae,{}),xt(T,H=>m(k,H),()=>s(k));var R=z(T,2);{var J=H=>{var G=gd(),se=D(G);se.__click=[hd,k];var K=D(se);$e(K,{children:(le,he)=>{var te=Ae("top");p(le,te)}});var I=z(K,2),Q=D(I);be(Q,()=>({"--rotate":"90deg","--size":"28px"})),ke(Q.lastChild,{name:"back"}),p(H,G)};W(R,H=>{s(f)&&H(J)})}fe(()=>{tr(T,`--swiping-ratio: ${h.swipingRatio}; --transition-timing-default: ${h.duration}s;`),we(T,1,me(["main",{isAnimationOn:h.working&&!h.isSwiping,open:s(w)}]),"svelte-1n46o8q")}),p(e,B),Z()}nt(["click"]);function md(e){cc(e,{children:(t,n)=>{pd(t,{})}})}window.addEventListener("unhandledrejection",e=>{alert("Error: "+e.reason.message)});window.isUnsupportedBrowser||Zi(md,{target:document.getElementById("app")});export{qn as $,Ea as A,Zt as B,Hr as C,ba as D,ka as E,bd as F,ce as G,ou as H,ke as I,we as J,me as K,ws as L,Sd as M,kd as N,tr as O,Y as P,Ol as Q,Wn as R,xt as S,bl as T,ys as U,$e as V,il as W,zr as X,Pl as Y,oc as Z,Jo as _,be as a,ls as a0,ve as a1,_s as a2,xe as b,D as c,p as d,Fr as e,j as f,s as g,Lt as h,cr as i,F as j,Oe as k,m as l,W as m,Z as n,Ee as o,X as p,U as q,L as r,z as s,fe as t,Ne as u,nt as v,Ae as w,Gt as x,O as y,pt as z};
