import{p as S,C as w,E,k as I,z as P,q as u,r as g,m as f,d as n,n as T,f as U,s as q,c as z,B as F,w as H,g as L,y as j}from"./DMKohntk.js";import{N as G}from"./C8xmMaG3.js";import"./DmN3pgfk.js";var J=U('<div class="block svelte-14glnia"><p class="svelte-14glnia">Note not found</p> <!></div>');function W(c,d){S(d,!0);const{updateNote:m,getNoteById:p,isReadyNotes:v}=w(),{getDraft:N,isReadyDrafts:h}=E();let t=I((()=>{const e=new URLSearchParams(d.params).get("id");return e&&p(e)||null})()),x=j(()=>t?N(t.id):void 0);const{navigate:_}=P(),y=e=>{e.preventDefault(),_("/")},A=({name:e,url:r,text:s,tags:o})=>{t&&m({...t,data:{...t.data,name:e,url:r,text:s,tags:o}})};var i=u(),C=g(i);{var b=e=>{var r=u(),s=g(r);{var o=a=>{var l=J(),D=q(z(l),2);F(D,{element:"a",href:"/",onClick:y,children:(B,M)=>{var R=H("close");n(B,R)},$$slots:{default:!0}}),n(a,l)},k=a=>{G(a,{get initialName(){return t.data.name},get initialUrl(){return t.data.url},get initialText(){return t.data.text},get initialTags(){return t.data.tags},get createdAt(){return t.data.createdAt},get updatedAt(){return t.data.updatedAt},get noteId(){return t.id},get draft(){return L(x)},onSubmit:A,mode:"edit"})};f(s,a=>{t?a(k,!1):a(o)})}n(e,r)};f(C,e=>{v()&&h()&&e(b)})}n(c,i),T()}export{W as default};
