const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["a/CaRUI5yj.js","a/BAW-HnOs.css","a/DZIeEhx7.js","a/9q_jSmK4.js","a/BEGDcNQV.js","a/CoBIEQkN.css","a/BkaT1V5J.js","a/BYiYfrGn.css","a/Dpq2lBJw.js","a/A07xSe-1.css","a/ZpLdxZA9.js","a/B_UsPGEu.css","a/NI2WWqDj.js","a/Cpa8lgv9.js","a/D-v1VBuY.js","a/j0KFa_-O.css","a/hu7yjlv8.css","a/DPRTJnG5.js","a/uUSBdLr3.js","a/CTZccJ9I.css","a/HOTUjnfJ.css","a/DZNTbL1j.js","a/DdvqrzuO.css","a/C0ZXp8Es.js","a/B0cemaEl.css","a/9EYAZaUh.js","a/wHiSqZiK.css","a/DV5Ixjkv.js","a/cviIQWoN.js","a/BJkY6727.css","a/8YA4RX1p.js","a/CTvV7MYb.css","a/Ywo25uUl.js","a/D0s4m_LM.css","a/ClbKogv5.js","a/CwLtx71M.css","a/D0YupNbX.js","a/CBB22PtM.css","a/BN5l6d5V.js","a/1JBO3KHP.css"])))=>i.map(i=>d[i]);
var Os=Object.defineProperty;var Ia=e=>{throw TypeError(e)};var Rs=(e,t,n)=>t in e?Os(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var En=(e,t,n)=>Rs(e,typeof t!="symbol"?t+"":t,n),Yr=(e,t,n)=>t.has(e)||Ia("Cannot "+n);var A=(e,t,n)=>(Yr(e,t,"read from private field"),n?n.call(e):t.get(e)),ce=(e,t,n)=>t.has(e)?Ia("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Z=(e,t,n,r)=>(Yr(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),We=(e,t,n)=>(Yr(e,t,"access private method"),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();const ro=!1;var fa=Array.isArray,Fs=Array.prototype.indexOf,va=Array.from,ea=Object.defineProperty,Dn=Object.getOwnPropertyDescriptor,ao=Object.getOwnPropertyDescriptors,zs=Object.prototype,Hs=Array.prototype,ha=Object.getPrototypeOf,Oa=Object.isExtensible;const ue=()=>{};function Us(e){return typeof e?.then=="function"}function js(e){return e()}function Cr(e){for(var t=0;t<e.length;t++)e[t]()}function Vs(){var e,t,n=new Promise((r,a)=>{e=r,t=a});return{promise:n,resolve:e,reject:t}}function qs(e,t,n=!1){return e===void 0?n?t():t:e}const nt=2,ga=4,Br=8,Fn=16,At=32,hn=64,_a=128,it=256,Pr=512,Ve=1024,lt=2048,Xt=4096,ft=8192,gn=16384,pa=32768,zn=65536,Ra=1<<17,Ws=1<<18,Hn=1<<19,oo=1<<20,ta=1<<21,ma=1<<22,cn=1<<23,un=Symbol("$state"),Ys=Symbol("legacy props"),Ks=Symbol(""),wa=new class extends Error{constructor(){super(...arguments);En(this,"name","StaleReactionError");En(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function so(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Gs(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function $s(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Xs(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Zs(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Js(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Qs(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function ei(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function ti(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function ni(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function ri(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const Lr=1,Mr=2,io=4,ai=8,oi=16,si=1,ii=2,li=4,ci=8,ui=16,di=1,fi=2,Ne=Symbol(),vi="http://www.w3.org/1999/xhtml";let hi=!1;function lo(e){return e===this.v}function gi(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function co(e){return!gi(e,this.v)}let Un=!1,_i=!1;function pi(){Un=!0}let he=null;function Gt(e){he=e}function Ce(e){return uo().get(e)}function Pe(e,t){return uo().set(e,t),t}function K(e,t=!1,n){he={p:he,c:null,e:null,s:e,x:null,l:Un&&!t?{s:null,u:null,$:[]}:null}}function G(e){var t=he,n=t.e;if(n!==null){t.e=null;for(var r of n)Po(r)}return e!==void 0&&(t.x=e),he=t.p,e??{}}function jn(){return!Un||he!==null&&he.l===null}function uo(e){return he===null&&so(),he.c??(he.c=new Map(mi(he)||void 0))}function mi(e){let t=e.p;for(;t!==null;){const n=t.c;if(n!==null)return n;t=t.p}return null}let qt=[],xr=[];function fo(){var e=qt;qt=[],Cr(e)}function wi(){var e=xr;xr=[],Cr(e)}function yi(){return qt.length>0||xr.length>0}function _n(e){if(qt.length===0&&!Zn){var t=qt;queueMicrotask(()=>{t===qt&&fo()})}qt.push(e)}function Si(){qt.length>0&&fo(),xr.length>0&&wi()}const bi=new WeakMap;function vo(e){var t=oe;if(t===null)return re.f|=cn,e;if((t.f&pa)===0){if((t.f&_a)===0)throw!t.parent&&e instanceof Error&&ho(e),e;t.b.error(e)}else In(e,t)}function In(e,t){for(;t!==null;){if((t.f&_a)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e instanceof Error&&ho(e),e}function ho(e){const t=bi.get(e);t&&(ea(e,"message",{value:t.message}),ea(e,"stack",{value:t.stack}))}const Kr=new Set;let _e=null,yr=null,na=new Set,vn=[],Ir=null,ra=!1,Zn=!1;var rr,Bn,zt,ar,or,rn,Ln,an,Ht,Mn,sr,ir,vt,go,Sr,aa;const Tr=class Tr{constructor(){ce(this,vt);En(this,"current",new Map);ce(this,rr,new Map);ce(this,Bn,new Set);ce(this,zt,0);ce(this,ar,null);ce(this,or,!1);ce(this,rn,[]);ce(this,Ln,[]);ce(this,an,[]);ce(this,Ht,[]);ce(this,Mn,[]);ce(this,sr,[]);ce(this,ir,[]);En(this,"skipped_effects",new Set)}process(t){vn=[],yr=null;for(const a of t)We(this,vt,go).call(this,a);if(A(this,rn).length===0&&A(this,zt)===0){We(this,vt,aa).call(this);var n=A(this,an),r=A(this,Ht);Z(this,an,[]),Z(this,Ht,[]),Z(this,Mn,[]),yr=_e,_e=null,Fa(n),Fa(r),_e===null?_e=this:Kr.delete(this),A(this,ar)?.resolve()}else We(this,vt,Sr).call(this,A(this,an)),We(this,vt,Sr).call(this,A(this,Ht)),We(this,vt,Sr).call(this,A(this,Mn));for(const a of A(this,rn))An(a);for(const a of A(this,Ln))An(a);Z(this,rn,[]),Z(this,Ln,[])}capture(t,n){A(this,rr).has(t)||A(this,rr).set(t,n),this.current.set(t,t.v)}activate(){_e=this}deactivate(){_e=null,yr=null;for(const t of na)if(na.delete(t),t(),_e!==null)break}neuter(){Z(this,or,!0)}flush(){vn.length>0?po():We(this,vt,aa).call(this),_e===this&&(A(this,zt)===0&&Kr.delete(this),this.deactivate())}increment(){Z(this,zt,A(this,zt)+1)}decrement(){if(Z(this,zt,A(this,zt)-1),A(this,zt)===0){for(const t of A(this,sr))Ze(t,lt),On(t);for(const t of A(this,ir))Ze(t,Xt),On(t);Z(this,an,[]),Z(this,Ht,[]),this.flush()}else this.deactivate()}add_callback(t){A(this,Bn).add(t)}settled(){return(A(this,ar)??Z(this,ar,Vs())).promise}static ensure(){if(_e===null){const t=_e=new Tr;Kr.add(_e),Zn||Tr.enqueue(()=>{_e===t&&t.flush()})}return _e}static enqueue(t){_n(t)}};rr=new WeakMap,Bn=new WeakMap,zt=new WeakMap,ar=new WeakMap,or=new WeakMap,rn=new WeakMap,Ln=new WeakMap,an=new WeakMap,Ht=new WeakMap,Mn=new WeakMap,sr=new WeakMap,ir=new WeakMap,vt=new WeakSet,go=function(t){t.f^=Ve;for(var n=t.first;n!==null;){var r=n.f,a=(r&(At|hn))!==0,o=a&&(r&Ve)!==0,s=o||(r&ft)!==0||this.skipped_effects.has(n);if(!s&&n.fn!==null){if(a)n.f^=Ve;else if((r&ga)!==0)A(this,Ht).push(n);else if((r&Ve)===0)if((r&ma)!==0){var l=n.b?.is_pending()?A(this,Ln):A(this,rn);l.push(n)}else zr(n)&&((n.f&Fn)!==0&&A(this,Mn).push(n),An(n));var c=n.first;if(c!==null){n=c;continue}}var u=n.parent;for(n=n.next;n===null&&u!==null;)n=u.next,u=u.parent}},Sr=function(t){for(const n of t)((n.f&lt)!==0?A(this,sr):A(this,ir)).push(n),Ze(n,Ve);t.length=0},aa=function(){if(!A(this,or))for(const t of A(this,Bn))t();A(this,Bn).clear()};let Yt=Tr;function _o(e){var t=Zn;Zn=!0;try{for(var n;;){if(Si(),vn.length===0&&!yi()&&(_e?.flush(),vn.length===0))return Ir=null,n;po()}}finally{Zn=t}}function po(){var e=Nn;ra=!0;try{var t=0;for(Ua(!0);vn.length>0;){var n=Yt.ensure();if(t++>1e3){var r,a;ki()}n.process(vn),Kt.clear()}}finally{ra=!1,Ua(e),Ir=null}}function ki(){try{Js()}catch(e){In(e,Ir)}}let nn=null;function Fa(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if((r.f&(gn|ft))===0&&zr(r)&&(nn=[],An(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?To(r):r.fn=null),nn?.length>0)){Kt.clear();for(const a of nn)An(a);nn=[]}}nn=null}}function On(e){for(var t=Ir=e;t.parent!==null;){t=t.parent;var n=t.f;if(ra&&t===oe&&(n&Fn)!==0)return;if((n&(hn|At))!==0){if((n&Ve)===0)return;t.f^=Ve}}vn.push(t)}function Ei(e){let t=0,n=Nt(0),r;return()=>{Hi()&&(i(n),Fr(()=>(t===0&&(r=bt(()=>e(()=>Jn(n)))),t+=1,()=>{_n(()=>{t-=1,t===0&&(r?.(),r=void 0,Jn(n))})})))}}var Ci=zn|Hn|_a;function Pi(e,t,n){new xi(e,t,n)}var ut,ot,da,mt,on,wt,st,Xe,yt,Ut,sn,jt,ln,Vt,Nr,Ar,Ke,Di,Ti,br,kr,oa;class xi{constructor(t,n,r){ce(this,Ke);En(this,"parent");ce(this,ut,!1);ce(this,ot);ce(this,da,null);ce(this,mt);ce(this,on);ce(this,wt);ce(this,st,null);ce(this,Xe,null);ce(this,yt,null);ce(this,Ut,null);ce(this,sn,0);ce(this,jt,0);ce(this,ln,!1);ce(this,Vt,null);ce(this,Nr,()=>{A(this,Vt)&&xt(A(this,Vt),A(this,sn))});ce(this,Ar,Ei(()=>(Z(this,Vt,Nt(A(this,sn))),()=>{Z(this,Vt,null)})));Z(this,ot,t),Z(this,mt,n),Z(this,on,r),this.parent=oe.b,Z(this,ut,!!A(this,mt).pending),Z(this,wt,Vn(()=>{oe.b=this;{try{Z(this,st,je(()=>r(A(this,ot))))}catch(a){this.error(a)}A(this,jt)>0?We(this,Ke,kr).call(this):Z(this,ut,!1)}},Ci))}is_pending(){return A(this,ut)||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!A(this,mt).pending}update_pending_count(t){We(this,Ke,oa).call(this,t),Z(this,sn,A(this,sn)+t),na.add(A(this,Nr))}get_effect_pending(){return A(this,Ar).call(this),i(A(this,Vt))}error(t){var n=A(this,mt).onerror;let r=A(this,mt).failed;if(A(this,ln)||!n&&!r)throw t;A(this,st)&&(tt(A(this,st)),Z(this,st,null)),A(this,Xe)&&(tt(A(this,Xe)),Z(this,Xe,null)),A(this,yt)&&(tt(A(this,yt)),Z(this,yt,null));var a=!1,o=!1;const s=()=>{if(a){return}a=!0,o&&ri(),Yt.ensure(),Z(this,sn,0),A(this,yt)!==null&&St(A(this,yt),()=>{Z(this,yt,null)}),Z(this,ut,this.has_pending_snippet()),Z(this,st,We(this,Ke,br).call(this,()=>(Z(this,ln,!1),je(()=>A(this,on).call(this,A(this,ot)))))),A(this,jt)>0?We(this,Ke,kr).call(this):Z(this,ut,!1)};var l=re;try{qe(null),o=!0,n?.(t,s),o=!1}catch(c){In(c,A(this,wt)&&A(this,wt).parent)}finally{qe(l)}r&&_n(()=>{Z(this,yt,We(this,Ke,br).call(this,()=>{Z(this,ln,!0);try{return je(()=>{r(A(this,ot),()=>t,()=>s)})}catch(c){return In(c,A(this,wt).parent),null}finally{Z(this,ln,!1)}}))})}}ut=new WeakMap,ot=new WeakMap,da=new WeakMap,mt=new WeakMap,on=new WeakMap,wt=new WeakMap,st=new WeakMap,Xe=new WeakMap,yt=new WeakMap,Ut=new WeakMap,sn=new WeakMap,jt=new WeakMap,ln=new WeakMap,Vt=new WeakMap,Nr=new WeakMap,Ar=new WeakMap,Ke=new WeakSet,Di=function(){try{Z(this,st,je(()=>A(this,on).call(this,A(this,ot))))}catch(t){this.error(t)}Z(this,ut,!1)},Ti=function(){const t=A(this,mt).pending;t&&(Z(this,Xe,je(()=>t(A(this,ot)))),Yt.enqueue(()=>{Z(this,st,We(this,Ke,br).call(this,()=>(Yt.ensure(),je(()=>A(this,on).call(this,A(this,ot)))))),A(this,jt)>0?We(this,Ke,kr).call(this):(St(A(this,Xe),()=>{Z(this,Xe,null)}),Z(this,ut,!1))}))},br=function(t){var n=oe,r=re,a=he;ct(A(this,wt)),qe(A(this,wt)),Gt(A(this,wt).ctx);try{return t()}catch(o){return vo(o),null}finally{ct(n),qe(r),Gt(a)}},kr=function(){const t=A(this,mt).pending;A(this,st)!==null&&(Z(this,Ut,document.createDocumentFragment()),Ni(A(this,st),A(this,Ut))),A(this,Xe)===null&&Z(this,Xe,je(()=>t(A(this,ot))))},oa=function(t){var n;if(!this.has_pending_snippet()){this.parent&&We(n=this.parent,Ke,oa).call(n,t);return}Z(this,jt,A(this,jt)+t),A(this,jt)===0&&(Z(this,ut,!1),A(this,Xe)&&St(A(this,Xe),()=>{Z(this,Xe,null)}),A(this,Ut)&&(A(this,ot).before(A(this,Ut)),Z(this,Ut,null)))};function Ni(e,t){for(var n=e.nodes_start,r=e.nodes_end;n!==null;){var a=n===r?null:cr(n);t.append(n),n=a}}function Ai(e,t,n){const r=jn()?lr:Or;if(t.length===0){n(e.map(r));return}var a=_e,o=oe,s=Bi();Promise.all(t.map(l=>Li(l))).then(l=>{a?.activate(),s();try{n([...e.map(r),...l])}catch(c){(o.f&gn)===0&&In(c,o)}a?.deactivate(),mo()}).catch(l=>{In(l,o)})}function Bi(){var e=oe,t=re,n=he,r=_e;return function(){ct(e),qe(t),Gt(n),r?.activate()}}function mo(){ct(null),qe(null),Gt(null)}function lr(e){var t=nt|lt,n=re!==null&&(re.f&nt)!==0?re:null;return oe===null||n!==null&&(n.f&it)!==0?t|=it:oe.f|=Hn,{ctx:he,deps:null,effects:null,equals:lo,f:t,fn:e,reactions:null,rv:0,v:Ne,wv:0,parent:n??oe,ac:null}}function Li(e,t){let n=oe;n===null&&Gs();var r=n.b,a=void 0,o=Nt(Ne),s=null,l=!re;return Wi(()=>{try{var c=e();s&&Promise.resolve(c).catch(()=>{})}catch(h){c=Promise.reject(h)}var u=()=>c;a=s?.then(u,u)??Promise.resolve(c),s=a;var d=_e,v=r.is_pending();l&&(r.update_pending_count(1),v||d.increment());const g=(h,f=void 0)=>{s=null,v||d.activate(),f?f!==wa&&(o.f|=cn,xt(o,f)):((o.f&cn)!==0&&(o.f^=cn),xt(o,h)),l&&(r.update_pending_count(-1),v||d.decrement()),mo()};if(a.then(g,h=>g(null,h||"unknown")),d)return()=>{queueMicrotask(()=>d.neuter())}}),new Promise(c=>{function u(d){function v(){d===a?c(o):u(a)}d.then(v,v)}u(a)})}function M(e){const t=lr(e);return Bo(t),t}function Or(e){const t=lr(e);return t.equals=co,t}function wo(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)tt(t[n])}}function Mi(e){for(var t=e.parent;t!==null;){if((t.f&nt)===0)return t;t=t.parent}return null}function ya(e){var t,n=oe;ct(Mi(e));try{wo(e),t=Oo(e)}finally{ct(n)}return t}function yo(e){var t=ya(e);if(e.equals(t)||(e.v=t,e.wv=Mo()),!mn){var n=(Wt||(e.f&it)!==0)&&e.deps!==null?Xt:Ve;Ze(e,n)}}const Kt=new Map;function Nt(e,t){var n={f:0,v:e,reactions:null,equals:lo,rv:0,wv:0};return n}function U(e,t){const n=Nt(e);return Bo(n),n}function sa(e,t=!1,n=!0){var a;const r=Nt(e);return t||(r.equals=co),Un&&n&&he!==null&&he.l!==null&&((a=he.l).s??(a.s=[])).push(r),r}function C(e,t,n=!1){re!==null&&(!dt||(re.f&Ra)!==0)&&jn()&&(re.f&(nt|Fn|ma|Ra))!==0&&!Dt?.includes(e)&&ni();let r=n?Me(t):t;return xt(e,r)}function xt(e,t){if(!e.equals(t)){var n=e.v;mn?Kt.set(e,t):Kt.set(e,n),e.v=t;var r=Yt.ensure();r.capture(e,n),(e.f&nt)!==0&&((e.f&lt)!==0&&ya(e),Ze(e,(e.f&it)===0?Ve:Xt)),e.wv=Mo(),So(e,lt),jn()&&oe!==null&&(oe.f&Ve)!==0&&(oe.f&(At|hn))===0&&(at===null?Gi([e]):at.push(e))}return t}function Jn(e){C(e,e.v+1)}function So(e,t){var n=e.reactions;if(n!==null)for(var r=jn(),a=n.length,o=0;o<a;o++){var s=n[o],l=s.f;if(!(!r&&s===oe)){var c=(l&lt)===0;c&&Ze(s,t),(l&nt)!==0?So(s,Xt):c&&((l&Fn)!==0&&nn!==null&&nn.push(s),On(s))}}}function Me(e){if(typeof e!="object"||e===null||un in e)return e;const t=ha(e);if(t!==zs&&t!==Hs)return e;var n=new Map,r=fa(e),a=U(0),o=dn,s=l=>{if(dn===o)return l();var c=re,u=dn;qe(null),Va(o);var d=l();return qe(c),Va(u),d};return r&&n.set("length",U(e.length)),new Proxy(e,{defineProperty(l,c,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&ei();var d=n.get(c);return d===void 0?d=s(()=>{var v=U(u.value);return n.set(c,v),v}):C(d,u.value,!0),!0},deleteProperty(l,c){var u=n.get(c);if(u===void 0){if(c in l){const d=s(()=>U(Ne));n.set(c,d),Jn(a)}}else C(u,Ne),Jn(a);return!0},get(l,c,u){if(c===un)return e;var d=n.get(c),v=c in l;if(d===void 0&&(!v||Dn(l,c)?.writable)&&(d=s(()=>{var h=Me(v?l[c]:Ne),f=U(h);return f}),n.set(c,d)),d!==void 0){var g=i(d);return g===Ne?void 0:g}return Reflect.get(l,c,u)},getOwnPropertyDescriptor(l,c){var u=Reflect.getOwnPropertyDescriptor(l,c);if(u&&"value"in u){var d=n.get(c);d&&(u.value=i(d))}else if(u===void 0){var v=n.get(c),g=v?.v;if(v!==void 0&&g!==Ne)return{enumerable:!0,configurable:!0,value:g,writable:!0}}return u},has(l,c){if(c===un)return!0;var u=n.get(c),d=u!==void 0&&u.v!==Ne||Reflect.has(l,c);if(u!==void 0||oe!==null&&(!d||Dn(l,c)?.writable)){u===void 0&&(u=s(()=>{var g=d?Me(l[c]):Ne,h=U(g);return h}),n.set(c,u));var v=i(u);if(v===Ne)return!1}return d},set(l,c,u,d){var v=n.get(c),g=c in l;if(r&&c==="length")for(var h=u;h<v.v;h+=1){var f=n.get(h+"");f!==void 0?C(f,Ne):h in l&&(f=s(()=>U(Ne)),n.set(h+"",f))}if(v===void 0)(!g||Dn(l,c)?.writable)&&(v=s(()=>U(void 0)),C(v,Me(u)),n.set(c,v));else{g=v.v!==Ne;var _=s(()=>Me(u));C(v,_)}var p=Reflect.getOwnPropertyDescriptor(l,c);if(p?.set&&p.set.call(d,u),!g){if(r&&typeof c=="string"){var S=n.get("length"),k=Number(c);Number.isInteger(k)&&k>=S.v&&C(S,k+1)}Jn(a)}return!0},ownKeys(l){i(a);var c=Reflect.ownKeys(l).filter(v=>{var g=n.get(v);return g===void 0||g.v!==Ne});for(var[u,d]of n)d.v!==Ne&&!(u in l)&&c.push(u);return c},setPrototypeOf(){ti()}})}var za,bo,ko,Eo;function Ii(){if(za===void 0){za=window,bo=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;ko=Dn(t,"firstChild").get,Eo=Dn(t,"nextSibling").get,Oa(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Oa(n)&&(n.__t=void 0)}}function pn(e=""){return document.createTextNode(e)}function Rn(e){return ko.call(e)}function cr(e){return Eo.call(e)}function D(e,t){return Rn(e)}function B(e,t=!1){{var n=Rn(e);return n instanceof Comment&&n.data===""?cr(n):n}}function j(e,t=1,n=!1){let r=e;for(;t--;)r=cr(r);return r}function Oi(e){e.textContent=""}function Sa(){return!1}let Ha=!1;function Ri(){Ha||(Ha=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function Rr(e){var t=re,n=oe;qe(null),ct(null);try{return e()}finally{qe(t),ct(n)}}function Fi(e,t,n,r=n){e.addEventListener(t,()=>Rr(n));const a=e.__on_r;a?e.__on_r=()=>{a(),r(!0)}:e.__on_r=()=>r(!0),Ri()}function Co(e){oe===null&&re===null&&Zs(),re!==null&&(re.f&it)!==0&&oe===null&&Xs(),mn&&$s()}function zi(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function Et(e,t,n,r=!0){var a=oe;a!==null&&(a.f&ft)!==0&&(e|=ft);var o={ctx:he,deps:null,nodes_start:null,nodes_end:null,f:e|lt,first:null,fn:t,last:null,next:null,parent:a,b:a&&a.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{An(o),o.f|=pa}catch(c){throw tt(o),c}else t!==null&&On(o);if(r){var s=o;if(n&&s.deps===null&&s.teardown===null&&s.nodes_start===null&&s.first===s.last&&(s.f&Hn)===0&&(s=s.first),s!==null&&(s.parent=a,a!==null&&zi(s,a),re!==null&&(re.f&nt)!==0&&(e&hn)===0)){var l=re;(l.effects??(l.effects=[])).push(s)}}return o}function Hi(){return re!==null&&!dt}function Ui(e){const t=Et(Br,null,!1);return Ze(t,Ve),t.teardown=e,t}function Ae(e){Co();var t=oe.f,n=!re&&(t&At)!==0&&(t&pa)===0;if(n){var r=he;(r.e??(r.e=[])).push(e)}else return Po(e)}function Po(e){return Et(ga|oo,e,!1)}function ji(e){return Co(),Et(Br|oo,e,!0)}function Vi(e){Yt.ensure();const t=Et(hn|Hn,e,!0);return(n={})=>new Promise(r=>{n.outro?St(t,()=>{tt(t),r(void 0)}):(tt(t),r(void 0))})}function qi(e){return Et(ga,e,!1)}function Wi(e){return Et(ma|Hn,e,!0)}function Fr(e,t=0){return Et(Br|t,e,!0)}function de(e,t=[],n=[]){Ai(t,n,r=>{Et(Br,()=>e(...r.map(i)),!0)})}function Vn(e,t=0){var n=Et(Fn|t,e,!0);return n}function je(e,t=!0){return Et(At|Hn,e,!0,t)}function xo(e){var t=e.teardown;if(t!==null){const n=mn,r=re;ja(!0),qe(null);try{t.call(null)}finally{ja(n),qe(r)}}}function Do(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const a=n.ac;a!==null&&Rr(()=>{a.abort(wa)});var r=n.next;(n.f&hn)!==0?n.parent=null:tt(n,t),n=r}}function Yi(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&At)===0&&tt(t),t=n}}function tt(e,t=!0){var n=!1;(t||(e.f&Ws)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(Ki(e.nodes_start,e.nodes_end),n=!0),Do(e,t&&!n),Dr(e,0),Ze(e,gn);var r=e.transitions;if(r!==null)for(const o of r)o.stop();xo(e);var a=e.parent;a!==null&&a.first!==null&&To(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function Ki(e,t){for(;e!==null;){var n=e===t?null:cr(e);e.remove(),e=n}}function To(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function St(e,t){var n=[];ba(e,n,!0),No(n,()=>{tt(e),t&&t()})}function No(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var a of e)a.out(r)}else t()}function ba(e,t,n){if((e.f&ft)===0){if(e.f^=ft,e.transitions!==null)for(const s of e.transitions)(s.is_global||n)&&t.push(s);for(var r=e.first;r!==null;){var a=r.next,o=(r.f&zn)!==0||(r.f&At)!==0;ba(r,t,o?n:!1),r=a}}}function Tn(e){Ao(e,!0)}function Ao(e,t){if((e.f&ft)!==0){e.f^=ft,(e.f&Ve)===0&&(Ze(e,lt),On(e));for(var n=e.first;n!==null;){var r=n.next,a=(n.f&zn)!==0||(n.f&At)!==0;Ao(n,a?t:!1),n=r}if(e.transitions!==null)for(const o of e.transitions)(o.is_global||t)&&o.in()}}let Nn=!1;function Ua(e){Nn=e}let mn=!1;function ja(e){mn=e}let re=null,dt=!1;function qe(e){re=e}let oe=null;function ct(e){oe=e}let Dt=null;function Bo(e){re!==null&&(Dt===null?Dt=[e]:Dt.push(e))}let Ye=null,Qe=0,at=null;function Gi(e){at=e}let Lo=1,Qn=0,dn=Qn;function Va(e){dn=e}let Wt=!1;function Mo(){return++Lo}function zr(e){var t=e.f;if((t&lt)!==0)return!0;if((t&Xt)!==0){var n=e.deps,r=(t&it)!==0;if(n!==null){var a,o,s=(t&Pr)!==0,l=r&&oe!==null&&!Wt,c=n.length;if((s||l)&&(oe===null||(oe.f&gn)===0)){var u=e,d=u.parent;for(a=0;a<c;a++)o=n[a],(s||!o?.reactions?.includes(u))&&(o.reactions??(o.reactions=[])).push(u);s&&(u.f^=Pr),l&&d!==null&&(d.f&it)===0&&(u.f^=it)}for(a=0;a<c;a++)if(o=n[a],zr(o)&&yo(o),o.wv>e.wv)return!0}(!r||oe!==null&&!Wt)&&Ze(e,Ve)}return!1}function Io(e,t,n=!0){var r=e.reactions;if(r!==null&&!Dt?.includes(e))for(var a=0;a<r.length;a++){var o=r[a];(o.f&nt)!==0?Io(o,t,!1):t===o&&(n?Ze(o,lt):(o.f&Ve)!==0&&Ze(o,Xt),On(o))}}function Oo(e){var _;var t=Ye,n=Qe,r=at,a=re,o=Wt,s=Dt,l=he,c=dt,u=dn,d=e.f;Ye=null,Qe=0,at=null,Wt=(d&it)!==0&&(dt||!Nn||re===null),re=(d&(At|hn))===0?e:null,Dt=null,Gt(e.ctx),dt=!1,dn=++Qn,e.ac!==null&&(Rr(()=>{e.ac.abort(wa)}),e.ac=null);try{e.f|=ta;var v=e.fn,g=v(),h=e.deps;if(Ye!==null){var f;if(Dr(e,Qe),h!==null&&Qe>0)for(h.length=Qe+Ye.length,f=0;f<Ye.length;f++)h[Qe+f]=Ye[f];else e.deps=h=Ye;if(!Wt||(d&nt)!==0&&e.reactions!==null)for(f=Qe;f<h.length;f++)((_=h[f]).reactions??(_.reactions=[])).push(e)}else h!==null&&Qe<h.length&&(Dr(e,Qe),h.length=Qe);if(jn()&&at!==null&&!dt&&h!==null&&(e.f&(nt|Xt|lt))===0)for(f=0;f<at.length;f++)Io(at[f],e);return a!==null&&a!==e&&(Qn++,at!==null&&(r===null?r=at:r.push(...at))),(e.f&cn)!==0&&(e.f^=cn),g}catch(p){return vo(p)}finally{e.f^=ta,Ye=t,Qe=n,at=r,re=a,Wt=o,Dt=s,Gt(l),dt=c,dn=u}}function $i(e,t){let n=t.reactions;if(n!==null){var r=Fs.call(n,e);if(r!==-1){var a=n.length-1;a===0?n=t.reactions=null:(n[r]=n[a],n.pop())}}n===null&&(t.f&nt)!==0&&(Ye===null||!Ye.includes(t))&&(Ze(t,Xt),(t.f&(it|Pr))===0&&(t.f^=Pr),wo(t),Dr(t,0))}function Dr(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)$i(e,n[r])}function An(e){var t=e.f;if((t&gn)===0){Ze(e,Ve);var n=oe,r=Nn;oe=e,Nn=!0;try{(t&Fn)!==0?Yi(e):Do(e),xo(e);var a=Oo(e);e.teardown=typeof a=="function"?a:null,e.wv=Lo;var o;ro&&_i&&(e.f&lt)!==0&&e.deps}finally{Nn=r,oe=n}}}async function Ro(){await Promise.resolve(),_o()}function i(e){var t=e.f,n=(t&nt)!==0;if(re!==null&&!dt){var r=oe!==null&&(oe.f&gn)!==0;if(!r&&!Dt?.includes(e)){var a=re.deps;if((re.f&ta)!==0)e.rv<Qn&&(e.rv=Qn,Ye===null&&a!==null&&a[Qe]===e?Qe++:Ye===null?Ye=[e]:(!Wt||!Ye.includes(e))&&Ye.push(e));else{(re.deps??(re.deps=[])).push(e);var o=e.reactions;o===null?e.reactions=[re]:o.includes(re)||o.push(re)}}}else if(n&&e.deps===null&&e.effects===null){var s=e,l=s.parent;l!==null&&(l.f&it)===0&&(s.f^=it)}if(mn){if(Kt.has(e))return Kt.get(e);if(n){s=e;var c=s.v;return((s.f&Ve)===0&&s.reactions!==null||Fo(s))&&(c=ya(s)),Kt.set(s,c),c}}else n&&(s=e,zr(s)&&yo(s));if((e.f&cn)!==0)throw e.v;return e.v}function Fo(e){if(e.v===Ne)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(Kt.has(t)||(t.f&nt)!==0&&Fo(t))return!0;return!1}function bt(e){var t=dt;try{return dt=!0,e()}finally{dt=t}}const Xi=-7169;function Ze(e,t){e.f=e.f&Xi|t}function Zi(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(un in e)ia(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&un in n&&ia(n)}}}function ia(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{ia(e[r],t)}catch{}const n=ha(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=ao(n);for(let a in r){const o=r[a].get;if(o)try{o.call(e)}catch{}}}}}const Ji=["touchstart","touchmove"];function Qi(e){return Ji.includes(e)}const zo=new Set,la=new Set;function el(e,t,n,r={}){function a(o){if(r.capture||Yn.call(t,o),!o.cancelBubble)return Rr(()=>n?.call(this,o))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?_n(()=>{t.addEventListener(e,a,r)}):t.addEventListener(e,a,r),a}function ka(e,t,n,r,a){var o={capture:r,passive:a},s=el(e,t,n,o);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&Ui(()=>{t.removeEventListener(e,s,o)})}function rt(e){for(var t=0;t<e.length;t++)zo.add(e[t]);for(var n of la)n(e)}let qa=null;function Yn(e){var t=this,n=t.ownerDocument,r=e.type,a=e.composedPath?.()||[],o=a[0]||e.target;qa=e;var s=0,l=qa===e&&e.__root;if(l){var c=a.indexOf(l);if(c!==-1&&(t===document||t===window)){e.__root=t;return}var u=a.indexOf(t);if(u===-1)return;c<=u&&(s=c)}if(o=a[s]||e.target,o!==t){ea(e,"currentTarget",{configurable:!0,get(){return o||n}});var d=re,v=oe;qe(null),ct(null);try{for(var g,h=[];o!==null;){var f=o.assignedSlot||o.parentNode||o.host||null;try{var _=o["__"+r];if(_!=null&&(!o.disabled||e.target===o))if(fa(_)){var[p,...S]=_;p.apply(o,[e,...S])}else _.call(o,e)}catch(k){g?h.push(k):g=k}if(e.cancelBubble||f===t||f===null)break;o=f}if(g){for(let k of h)queueMicrotask(()=>{throw k});throw g}}finally{e.__root=t,delete e.currentTarget,qe(d),ct(v)}}}function Ho(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function er(e,t){var n=oe;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function V(e,t){var n=(t&di)!==0,r=(t&fi)!==0,a,o=!e.startsWith("<!>");return()=>{a===void 0&&(a=Ho(o?e:"<!>"+e),n||(a=Rn(a)));var s=r||bo?document.importNode(a,!0):a.cloneNode(!0);if(n){var l=Rn(s),c=s.lastChild;er(l,c)}else er(s,s);return s}}function tl(e,t,n="svg"){var r=!e.startsWith("<!>"),a=`<${n}>${r?e:"<!>"+e}</${n}>`,o;return()=>{if(!o){var s=Ho(a),l=Rn(s);o=Rn(l)}var c=o.cloneNode(!0);return er(c,c),c}}function nl(e,t){return tl(e,t,"svg")}function Te(e=""){{var t=pn(e+"");return er(t,t),t}}function z(){var e=document.createDocumentFragment(),t=document.createComment(""),n=pn();return e.append(t,n),er(t,n),e}function w(e,t){e!==null&&e.before(t)}function xd(){var e;return(e=window.__svelte??(window.__svelte={})).uid??(e.uid=1),`c${window.__svelte.uid++}`}function tr(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function rl(e,t){return al(e,t)}const Cn=new Map;function al(e,{target:t,anchor:n,props:r={},events:a,context:o,intro:s=!0}){Ii();var l=new Set,c=v=>{for(var g=0;g<v.length;g++){var h=v[g];if(!l.has(h)){l.add(h);var f=Qi(h);t.addEventListener(h,Yn,{passive:f});var _=Cn.get(h);_===void 0?(document.addEventListener(h,Yn,{passive:f}),Cn.set(h,1)):Cn.set(h,_+1)}}};c(va(zo)),la.add(c);var u=void 0,d=Vi(()=>{var v=n??t.appendChild(pn());return Pi(v,{pending:()=>{}},g=>{if(o){K({});var h=he;h.c=o}a&&(r.$$events=a),u=e(g,r)||{},o&&G()}),()=>{for(var g of l){t.removeEventListener(g,Yn);var h=Cn.get(g);--h===0?(document.removeEventListener(g,Yn),Cn.delete(g)):Cn.set(g,h)}la.delete(c),v!==n&&v.parentNode?.removeChild(v)}});return ol.set(u,d),u}let ol=new WeakMap;const Gr=0,mr=1,$r=2;function Uo(e,t,n,r,a){var o=e,s=jn(),l=he,c=Ne,u,d,v,g=s?Nt(void 0):sa(void 0,!1,!1),h=s?Nt(void 0):sa(void 0,!1,!1),f=!1;function _(S,k){f=!0,k&&(ct(p),qe(p),Gt(l));try{S===Gr&&n&&(u?Tn(u):u=je(()=>n(o))),S===mr&&r&&(d?Tn(d):d=je(()=>r(o,g))),S===$r&&a&&(v?Tn(v):v=je(()=>a(o,h))),S!==Gr&&u&&St(u,()=>u=null),S!==mr&&d&&St(d,()=>d=null),S!==$r&&v&&St(v,()=>v=null)}finally{k&&(Gt(null),qe(null),ct(null),_o())}}var p=Vn(()=>{if(c!==(c=t())){if(Us(c)){var S=c;f=!1,S.then(k=>{S===c&&(xt(g,k),_(mr,!0))},k=>{if(S===c&&(xt(h,k),_($r,!0),!a))throw h.v}),_n(()=>{f||_(Gr,!0)})}else xt(g,c),_(mr,!1);return()=>c=Ne}})}function W(e,t,n=!1){var r=e,a=null,o=null,s=Ne,l=n?zn:0,c=!1;const u=(h,f=!0)=>{c=!0,g(f,h)};var d=null;function v(){d!==null&&(d.lastChild.remove(),r.before(d),d=null);var h=s?a:o,f=s?o:a;h&&Tn(h),f&&St(f,()=>{s?o=null:a=null})}const g=(h,f)=>{if(s!==(s=h)){var _=Sa(),p=r;if(_&&(d=document.createDocumentFragment(),d.append(p=pn())),s?a??(a=f&&je(()=>f(p))):o??(o=f&&je(()=>f(p))),_){var S=_e,k=s?a:o,E=s?o:a;k&&S.skipped_effects.delete(k),E&&S.skipped_effects.add(E),S.add_callback(v)}else v()}};Vn(()=>{c=!1,t(u),c||g(null,null)},l)}function pe(e,t){Fr(()=>{var n=t();for(var r in n){var a=n[r];a?e.style.setProperty(r,a):e.style.removeProperty(r)}})}function sl(e,t,n){for(var r=e.items,a=[],o=t.length,s=0;s<o;s++)ba(t[s].e,a,!0);var l=o>0&&a.length===0&&n!==null;if(l){var c=n.parentNode;Oi(c),c.append(n),r.clear(),pt(e,t[0].prev,t[o-1].next)}No(a,()=>{for(var u=0;u<o;u++){var d=t[u];l||(r.delete(d.k),pt(e,d.prev,d.next)),tt(d.e,!l)}})}function Hr(e,t,n,r,a,o=null){var s=e,l={flags:t,items:new Map,first:null},c=(t&io)!==0;if(c){var u=e;s=u.appendChild(pn())}var d=null,v=!1,g=new Map,h=Or(()=>{var S=n();return fa(S)?S:S==null?[]:va(S)}),f,_;function p(){il(_,f,l,g,s,a,t,r,n),o!==null&&(f.length===0?d?Tn(d):d=je(()=>o(s)):d!==null&&St(d,()=>{d=null}))}Vn(()=>{_??(_=oe),f=i(h);var S=f.length;if(!(v&&S===0)){v=S===0;var k,E,P,N;if(Sa()){var y=new Set,m=_e;for(E=0;E<S;E+=1){P=f[E],N=r(P,E);var b=l.items.get(N)??g.get(N);b?(t&(Lr|Mr))!==0&&jo(b,P,E,t):(k=Vo(null,l,null,null,P,N,E,a,t,n,!0),g.set(N,k)),y.add(N)}for(const[I,L]of l.items)y.has(I)||m.skipped_effects.add(L.e);m.add_callback(p)}else p();i(h)}})}function il(e,t,n,r,a,o,s,l,c){var u=(s&ai)!==0,d=(s&(Lr|Mr))!==0,v=t.length,g=n.items,h=n.first,f=h,_,p=null,S,k=[],E=[],P,N,y,m;if(u)for(m=0;m<v;m+=1)P=t[m],N=l(P,m),y=g.get(N),y!==void 0&&(y.a?.measure(),(S??(S=new Set)).add(y));for(m=0;m<v;m+=1){if(P=t[m],N=l(P,m),y=g.get(N),y===void 0){var b=r.get(N);if(b!==void 0){r.delete(N),g.set(N,b);var I=p?p.next:f;pt(n,p,b),pt(n,b,I),Xr(b,I,a),p=b}else{var L=f?f.e.nodes_start:a;p=Vo(L,n,p,p===null?n.first:p.next,P,N,m,o,s,c)}g.set(N,p),k=[],E=[],f=p.next;continue}if(d&&jo(y,P,m,s),(y.e.f&ft)!==0&&(Tn(y.e),u&&(y.a?.unfix(),(S??(S=new Set)).delete(y))),y!==f){if(_!==void 0&&_.has(y)){if(k.length<E.length){var O=E[0],R;p=O.prev;var $=k[0],Y=k[k.length-1];for(R=0;R<k.length;R+=1)Xr(k[R],O,a);for(R=0;R<E.length;R+=1)_.delete(E[R]);pt(n,$.prev,Y.next),pt(n,p,$),pt(n,Y,O),f=O,p=Y,m-=1,k=[],E=[]}else _.delete(y),Xr(y,f,a),pt(n,y.prev,y.next),pt(n,y,p===null?n.first:p.next),pt(n,p,y),p=y;continue}for(k=[],E=[];f!==null&&f.k!==N;)(f.e.f&ft)===0&&(_??(_=new Set)).add(f),E.push(f),f=f.next;if(f===null)continue;y=f}k.push(y),p=y,f=y.next}if(f!==null||_!==void 0){for(var X=_===void 0?[]:va(_);f!==null;)(f.e.f&ft)===0&&X.push(f),f=f.next;var Q=X.length;if(Q>0){var ye=(s&io)!==0&&v===0?a:null;if(u){for(m=0;m<Q;m+=1)X[m].a?.measure();for(m=0;m<Q;m+=1)X[m].a?.fix()}sl(n,X,ye)}}u&&_n(()=>{if(S!==void 0)for(y of S)y.a?.apply()}),e.first=n.first&&n.first.e,e.last=p&&p.e;for(var F of r.values())tt(F.e);r.clear()}function jo(e,t,n,r){(r&Lr)!==0&&xt(e.v,t),(r&Mr)!==0?xt(e.i,n):e.i=n}function Vo(e,t,n,r,a,o,s,l,c,u,d){var v=(c&Lr)!==0,g=(c&oi)===0,h=v?g?sa(a,!1,!1):Nt(a):a,f=(c&Mr)===0?s:Nt(s),_={i:f,v:h,k:o,a:null,e:null,prev:n,next:r};try{if(e===null){var p=document.createDocumentFragment();p.append(e=pn())}return _.e=je(()=>l(e,h,f,u),hi),_.e.prev=n&&n.e,_.e.next=r&&r.e,n===null?d||(t.first=_):(n.next=_,n.e.next=_.e),r!==null&&(r.prev=_,r.e.prev=_.e),_}finally{}}function Xr(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,a=t?t.e.nodes_start:n,o=e.e.nodes_start;o!==null&&o!==r;){var s=cr(o);a.before(o),o=s}}function pt(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function se(e,t,...n){var r=e,a=ue,o;Vn(()=>{a!==(a=t())&&(o&&(tt(o),o=null),o=je(()=>a(r,...n)))},zn)}function qo(e,t,n){var r=e,a,o,s=null,l=null;function c(){o&&(St(o),o=null),s&&(s.lastChild.remove(),r.before(s),s=null),o=l,l=null}Vn(()=>{if(a!==(a=t())){var u=Sa();if(a){var d=r;u&&(s=document.createDocumentFragment(),s.append(d=pn()),o&&_e.skipped_effects.add(o)),l=je(()=>n(d,a))}u?_e.add_callback(c):c()}},zn)}function Wo(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=Wo(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function ll(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=Wo(e))&&(r&&(r+=" "),r+=t);return r}function fe(e){return typeof e=="object"?ll(e):e??""}const Wa=[...` 	
\r\f \v\uFEFF`];function cl(e,t,n){var r=e==null?"":""+e;if(t&&(r=r?r+" "+t:t),n){for(var a in n)if(n[a])r=r?r+" "+a:a;else if(r.length)for(var o=a.length,s=0;(s=r.indexOf(a,s))>=0;){var l=s+o;(s===0||Wa.includes(r[s-1]))&&(l===r.length||Wa.includes(r[l]))?r=(s===0?"":r.substring(0,s))+r.substring(l+1):s=l}}return r===""?null:r}function ul(e,t){return e==null?null:String(e)}function ve(e,t,n,r,a,o){var s=e.__className;if(s!==n||s===void 0){var l=cl(n,r,o);l==null?e.removeAttribute("class"):e.className=l,e.__className=n}else if(o&&a!==o)for(var c in o){var u=!!o[c];(a==null||u!==!!a[c])&&e.classList.toggle(c,u)}return o}function nr(e,t,n,r){var a=e.__style;if(a!==t){var o=ul(t);o==null?e.removeAttribute("style"):e.style.cssText=o,e.__style=t}return r}const dl=Symbol("is custom element"),fl=Symbol("is html");function Dd(e,t){var n=Ea(e);n.value===(n.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function Td(e,t){var n=Ea(e);n.checked!==(n.checked=t??void 0)&&(e.checked=t)}function Ee(e,t,n,r){var a=Ea(e);a[t]!==(a[t]=n)&&(t==="loading"&&(e[Ks]=n),n==null?e.removeAttribute(t):typeof n!="string"&&vl(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function Ea(e){return e.__attributes??(e.__attributes={[dl]:e.nodeName.includes("-"),[fl]:e.namespaceURI===vi})}var Ya=new Map;function vl(e){var t=e.getAttribute("is")||e.nodeName,n=Ya.get(t);if(n)return n;Ya.set(t,n=[]);for(var r,a=e,o=Element.prototype;o!==a;){r=ao(a);for(var s in r)r[s].set&&n.push(s);a=ha(a)}return n}function hl(e,t,n=t){var r=new WeakSet;Fi(e,"input",async a=>{var o=a?e.defaultValue:e.value;if(o=Zr(e)?Jr(o):o,n(o),_e!==null&&r.add(_e),await Ro(),o!==(o=t())){var s=e.selectionStart,l=e.selectionEnd;e.value=o??"",l!==null&&(e.selectionStart=s,e.selectionEnd=Math.min(l,e.value.length))}}),bt(t)==null&&e.value&&(n(Zr(e)?Jr(e.value):e.value),_e!==null&&r.add(_e)),Fr(()=>{var a=t();if(e===document.activeElement){var o=yr??_e;if(r.has(o))return}Zr(e)&&a===Jr(e.value)||e.type==="date"&&!a&&!e.value||a!==e.value&&(e.value=a??"")})}function Zr(e){var t=e.type;return t==="number"||t==="range"}function Jr(e){return e===""?null:+e}function Ka(e,t){return e===t||e?.[un]===t}function kt(e={},t,n,r){return qi(()=>{var a,o;return Fr(()=>{a=o,o=[],bt(()=>{e!==n(...o)&&(t(e,...o),a&&Ka(n(...a),e)&&t(null,...a))})}),()=>{_n(()=>{o&&Ka(n(...o),e)&&t(null,...o)})}}),e}function Ca(e=!1){const t=he,n=t.l.u;if(!n)return;let r=()=>Zi(t.s);if(e){let a=0,o={};const s=lr(()=>{let l=!1;const c=t.s;for(const u in c)c[u]!==o[u]&&(o[u]=c[u],l=!0);return l&&a++,a});r=()=>i(s)}n.b.length&&ji(()=>{Ga(t,r),Cr(n.b)}),Ae(()=>{const a=bt(()=>n.m.map(js));return()=>{for(const o of a)typeof o=="function"&&o()}}),n.a.length&&Ae(()=>{Ga(t,r),Cr(n.a)})}function Ga(e,t){if(e.l.s)for(const n of e.l.s)i(n);t()}let wr=!1;function gl(e){var t=wr;try{return wr=!1,[e(),wr]}finally{wr=t}}function ie(e,t,n,r){var a=!Un||(n&ii)!==0,o=(n&ci)!==0,s=(n&ui)!==0,l=r,c=!0,u=()=>(c&&(c=!1,l=s?bt(r):r),l),d;if(o){var v=un in e||Ys in e;d=Dn(e,t)?.set??(v&&t in e?E=>e[t]=E:void 0)}var g,h=!1;o?[g,h]=gl(()=>e[t]):g=e[t],g===void 0&&r!==void 0&&(g=u(),d&&(a&&Qs(),d(g)));var f;if(a?f=()=>{var E=e[t];return E===void 0?u():(c=!0,E)}:f=()=>{var E=e[t];return E!==void 0&&(l=void 0),E===void 0?l:E},a&&(n&li)===0)return f;if(d){var _=e.$$legacy;return(function(E,P){return arguments.length>0?((!a||!P||_||h)&&d(P?f():E),E):f()})}var p=!1,S=((n&si)!==0?lr:Or)(()=>(p=!1,f()));o&&i(S);var k=oe;return(function(E,P){if(arguments.length>0){const N=P?i(S):a&&o?Me(E):E;return C(S,N),p=!0,l!==void 0&&(l=N),E}return mn&&p||(k.f&gn)!==0?S.v:i(S)})}function me(e){he===null&&so(),Un&&he.l!==null?_l(he).m.push(e):Ae(()=>{const t=bt(e);if(typeof t=="function")return t})}function _l(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const pl="5";var no;typeof window<"u"&&((no=window.__svelte??(window.__svelte={})).v??(no.v=new Set)).add(pl);pi();const Yo={};function ml(e){Pe(Yo,e)}function Ko(){const e=Ce(Yo);if(!e)throw new Error("No SearchContext found");return e}const Go={};function wl(e){Pe(Go,e)}function ht(){const e=Ce(Go);if(!e)throw new Error("No AppHistoryContext found");return e}function yl(e,t){K(t,!0);const{replace:n,getAppHistory:r}=ht(),a=M(r),o="search",s=Me({value:new URLSearchParams(r().search).get(o)||""}),l=d=>{const v=new URLSearchParams(i(a).search),g=i(a).pathname;(v.get(o)||"")!==d&&(d===""?v.delete(o):v.set(o,d),n(`${g}${v.size>0?`?${v.toString()}`:""}`))};Ae(()=>{const d=s.value;bt(()=>{l(d)})}),ml(s);var c=z(),u=B(c);se(u,()=>t.children??ue),w(e,c),G()}const $o={};function Sl(e){Pe($o,e)}function Xo(){const e=Ce($o);if(!e)throw new Error("No TagSearchContext found");return e}function bl(e,t){K(t,!0);const n=Me({value:""});Sl(n);var r=z(),a=B(r);se(a,()=>t.children??ue),w(e,r),G()}const Zo={};function kl(e){Pe(Zo,e)}function Jo(){const e=Ce(Zo);if(!e)throw new Error("No FeedOrderContext found");return e}function El(e,t){K(t,!0);const{navigate:n,getAppHistory:r}=ht(),a=M(r),o="feedOrder";let s=U(Me(new URLSearchParams(r().search).get(o)||"newest"));kl({getFeedOrder:()=>i(s),setFeedOrder:v=>{C(s,v,!0);const g=new URLSearchParams(i(a).search);v==="newest"?g.delete(o):g.set(o,v),n(`${i(a).pathname}${g.size>0?`?${g.toString()}`:""}`)}});var u=z(),d=B(u);se(d,()=>t.children??ue),w(e,u),G()}const Qo={};function Cl(e){Pe(Qo,e)}function es(){const e=Ce(Qo);if(!e)throw new Error("No SidebarContext found");return e}function Pl(e,t){K(t,!0);const n=(d,v)=>{if(!v)return d;if(v.type==="closed")return{type:"closed"};switch(d.type){case"opened":return v.type==="close"?{type:"closing"}:v.type==="swipe"?{type:"openSwiping"}:d;case"closed":return v.type==="open"?{type:"opening"}:v.type==="swipe"?{type:"closeSwiping"}:d;case"openSwiping":return v.type==="open"?{type:"opening"}:v.type==="close"?{type:"closing"}:d;case"closeSwiping":return v.type==="open"?{type:"opening"}:v.type==="close"?{type:"closing"}:d;case"opening":return v.type==="opened"?{type:"opened"}:d;default:return d}};let r=U(Me(n({type:"closed"})));const a=d=>{C(r,n(i(r),d),!0)};Cl({sidebarOpen:()=>{a({type:"open"})},sidebarClose:()=>{a({type:"close"})},handleComputeState:a,getSidebarState:()=>i(r)});var c=z(),u=B(c);se(u,()=>t.children??ue),w(e,c),G()}const ts={};function xl(e){Pe(ts,e)}function ns(){const e=Ce(ts);if(!e)throw new Error("No SelectedTagsContext found");return e}const rs=(e,t)=>{let n=null;return()=>{n&&clearTimeout(n),n=setTimeout(()=>{n=null,e()},t)}};async function Dl(){if(navigator.storage&&navigator.storage.persist)try{await navigator.storage.persisted()||await navigator.storage.persist()}catch{}}const Tl=(e,t)=>{if(e.size!==t.size)return!0;for(const n of e)if(!t.has(n))return!0;return!1};function Nl(e,t){K(t,!0);const{getAppHistory:n,replace:r}=ht(),a=M(n),o=M(()=>n().search),s="selectedTags",l=()=>new Set(new URLSearchParams(n().search).get(s)?.split(",")||[]);let c=U(Me(l()));const u=()=>{const _=l();if(Tl(_,i(c))){const p=new URLSearchParams(i(a).search),S=i(a).pathname;i(c).size===0?p.delete(s):p.set(s,Array.from(i(c)).join(",")),r(`${S}${p.size>0?`?${p.toString()}`:""}`)}};Ae(()=>{i(o),i(c),bt(()=>{u()})}),xl({getSelectedTags:()=>i(c),addTag:_=>{i(c).has(_)||C(c,new Set([...i(c),_]),!0)},removeTag:_=>{const p=new Set(i(c));p.delete(_),C(c,p,!0)}});var h=z(),f=B(h);se(f,()=>t.children??ue),w(e,h),G()}const as={};function Al(e){Pe(as,e)}function ur(){const e=Ce(as);if(!e)throw new Error("No LocalDBContext found");return e}const os={};function Bl(e){Pe(os,e)}function Ll(){const e=Ce(os);if(!e)throw new Error("No SettingsContext found");return e}const ss={};function Ml(e){Pe(ss,e)}function dr(){const e=Ce(ss);if(!e)throw new Error("No BroadcastContext found");return e}const Il="AppStorage",Ol=1,Kn="account",Er="settings",Pt="notes",Pn="drafts",xn="bin",Gn="tags",Rl="syncLog",Zt="success",Jt="error",Ie=(e,t,n)=>{e?.addEventListener(t,n)},Pa=(e,t)=>new Promise((n,r)=>{const o=e?.transaction(t,"readonly")?.objectStore(t).getAll();Ie(o,Zt,()=>{const s=o?.result||[];n(s)}),Ie(o,Jt,s=>{r(s)})}),ca=(e,t,n)=>new Promise((r,a)=>{const s=e?.transaction(t,"readonly")?.objectStore(t).get(n);Ie(s,Zt,()=>{const l=s?.result?.data;r(l)}),Ie(s,Jt,l=>{a(l)})}),fn=(e,t,n,r)=>new Promise((a,o)=>{const c=e?.transaction(t,"readwrite")?.objectStore(t)?.put({id:n,data:r});Ie(c,Zt,()=>{a()}),Ie(c,Jt,u=>{o(u)})}),Qr=async(e,t,n)=>{const a=e?.transaction(t,"readwrite")?.objectStore(t);await Promise.all(n.map(o=>{const s=a?.put(o);return new Promise((l,c)=>{Ie(s,Zt,()=>{l()}),Ie(s,Jt,u=>{c(u)})})}))},xa=(e,t,n)=>new Promise((r,a)=>{const l=e?.transaction(t,"readwrite")?.objectStore(t)?.delete(n);Ie(l,Zt,()=>{r()}),Ie(l,Jt,c=>{a(c)})}),Fl=async(e,t,n)=>{const a=e?.transaction(t,"readwrite")?.objectStore(t);await Promise.all(n.map(o=>{const s=a?.delete(o);return new Promise((l,c)=>{Ie(s,Zt,()=>{l()}),Ie(s,Jt,u=>{c(u)})})}))},Tt=(e,t)=>new Promise((n,r)=>{const s=e?.transaction(t,"readwrite")?.objectStore(t)?.clear();Ie(s,Zt,()=>{n()}),Ie(s,Jt,l=>{r(l)})});function zl(e,t){K(t,!0);let n=U(Me({showFavicon:!1}));const{getDB:r}=ur(),{createBroadcastChannel:a,tabId:o}=dr(),s=a(),l=M(r),c=async()=>{const _=await ca(i(l),Er,"default");_&&C(n,_,!0)},u=async()=>{c()},d=async _=>{const p=JSON.parse(_.data),S=p;if(p.tabId&&p.tabId===o){S.type==="exit"&&(C(n,{showFavicon:!1},!0),Tt(i(l),Er));return}S.type==="updateSettings"?c():S.type==="exit"&&C(n,{showFavicon:!1},!0)},v=()=>i(n).showFavicon,g=async _=>{i(n).showFavicon=_,await fn(i(l),Er,"default",{showFavicon:_}),s.postMessage({type:"updateSettings"})};me(()=>(u(),s.addEventListener(d),()=>{s.removeEventListener(d)})),Bl({getFaviconEnabled:v,setFaviconShown:g});var h=z(),f=B(h);se(f,()=>t.children??ue),w(e,h),G()}const is={};function Hl(e){Pe(is,e)}function Da(){const e=Ce(is);if(!e)throw new Error("No AccountContext found");return e}const ls={};function Ul(e){Pe(ls,e)}function Bt(){const e=Ce(ls);if(!e)throw new Error("No StackPagesContext found");return e}function jl(e,t){K(t,!0);const{navigate:n}=ht(),{hasStackPage:r,pushStackPages:a,clearStackPages:o}=Bt();let s=U(void 0);const{getDB:l}=ur(),{createBroadcastChannel:c,tabId:u}=dr(),d=M(l),v=c(),g=async()=>{const m=await ca(i(d),Kn,"default");m&&(C(s,m,!0),o(),n("/"))},h=m=>fn(i(d),Kn,"default",m),f=async()=>{const m=await ca(i(d),Kn,"default");m===void 0?a("start"):(r("start")&&(o(),n("/")),m?C(s,m,!0):C(s,null))},_=async m=>{const b=JSON.parse(m.data);if(b.tabId&&b.tabId===u)return;const I=b;I.type==="initLocalAccount"?(C(s,null),o(),n("/")):I.type==="initCloudAccount"?(g(),o(),n("/")):I.type==="disconnectCloudAccount"?C(s,null):I.type==="exit"?C(s,void 0):I.type==="updateAccount"&&g()};me(()=>(f(),v.addEventListener(_),()=>{v.removeEventListener(_)})),Hl({getAccount:()=>i(s),initLocalAccount:async()=>{C(s,null),await h(null),v.postMessage({type:"initLocalAccount"})},initCloudAccount:async m=>{const b={encryptedClientKey:m.encryptedClientKey||"",subscriptionExpires:m.subscriptionExpires||-1,lastSync:-1};await h(b),C(s,b,!0),v.postMessage({type:"initCloudAccount"})},disconnectCloudAccount:async()=>{C(s,null),await h(null),v.postMessage({type:"disconnectCloudAccount"})},updateSubscription:async m=>{if(!i(s))throw new Error("No account to update subscription for");const b={...i(s),subscriptionExpires:m};await h(b),v.postMessage({type:"updateAccount"})},exitApp:async()=>{C(s,void 0),v.postMessage({type:"exit"}),await Tt(i(d),Kn)}});var N=z(),y=B(N);se(y,()=>t.children??ue),w(e,N),G()}const cs={};function Vl(e){Pe(cs,e)}function ql(){const e=Ce(cs);if(!e)throw new Error("No DraftsContext found");return e}function Wl(e,t){K(t,!0);const{getDB:n}=ur(),{createBroadcastChannel:r,tabId:a}=dr(),o=M(n),s=r();let l=U(void 0);const c=()=>{const m=i(l)?.();if(!m)throw new Error("Drafts state is not initialized");return{mapDrafts:m}},u=m=>{C(l,()=>m)},d=m=>{const b=new Map;m.forEach(I=>{b.set(I.id,I)}),C(l,()=>b)},v=async()=>{const m=await Pa(i(o),Pn);d(m)},g=m=>{const{mapDrafts:b}=c();return b.get(m)},h=m=>{const{mapDrafts:b}=c();b.delete(m),u(b)},f=m=>{const{mapDrafts:b}=c();b.set(m.id,m),u(b)},_=async m=>{const b={...m};f(b),s.postMessage({type:"putDraft",data:{draft:b}}),await fn(i(o),Pn,b.id,{...b.data})},p=()=>{d([])},S=async m=>{h(m),await xa(i(o),Pn,m),s.postMessage({type:"deleteDraft",data:{id:m}})},k=async()=>{p(),await Tt(i(o),Pn),s.postMessage({type:"clearDrafts"})},E=()=>!!i(l)?.(),P=async m=>{const b=JSON.parse(m.data),I=b;if(b.tabId&&b.tabId===a){I.type==="exit"&&(u(new Map),Tt(i(o),Pn));return}if(I.type==="putDraft"){const L=I.data.draft;f(L)}else if(I.type==="deleteDraft"){const L=I.data.id;h(L)}else I.type==="exit"&&u(new Map)};me(()=>(v(),s.addEventListener(P),()=>{s.removeEventListener(P)})),Vl({getDraft:g,putDraft:_,deleteDraft:S,isReadyDrafts:E,clearDrafts:k});var N=z(),y=B(N);se(y,()=>t.children??ue),w(e,N),G()}const us={};function Yl(e){Pe(us,e)}function ds(){const e=Ce(us);if(!e)throw new Error("No NotesContext found");return e}const Kl=()=>crypto.randomUUID(),fs={};function Gl(e){Pe(fs,e)}function Ur(){const e=Ce(fs);if(!e)throw new Error("No NotesBinContext found");return e}const vs=e=>{const t=new Map;for(const n of e||[])for(const r of n?.data.tags||[])t.set(r,{name:r,count:(t.get(r)?.count||0)+1});return t},hs=(e,t)=>{const n=[];for(const r of t){const a=e.get(r);a?a.count++:(e.set(r,{name:r,count:1}),n.push(r))}return{newTags:n}},$l=(e,t)=>{const n=[];for(const r of t){const a=e.get(r);a&&(a.count--,a.count<=0&&(e.delete(r),n.push(r)))}return{deletedTags:n}};function Xl(e,t){K(t,!0);const{getDB:n}=ur(),{createBroadcastChannel:r,tabId:a}=dr(),o=M(n),s=r(),{deleteDraft:l,clearDrafts:c}=ql(),{addNoteInBin:u}=Ur();let d=U(()=>{}),v=U(()=>{});const g=()=>{const F=i(v)();if(!F)throw new Error("Notes state is not initialized");return{notes:F}},h=F=>{C(v,()=>F)},f=async()=>{const F=await Pa(i(o),Pt),T=vs(F);await Qr(i(o),Gn,Object.values(T).map(x=>({id:x.name,data:{}}))),C(d,()=>T),h(F)},_=()=>i(v),p=F=>{const{notes:T}=g(),x={...F};T.push(x),h(T)},S=F=>{const{notes:T}=g();for(let x=0;x<T.length;x++)T[x]?.id===F.id&&T&&(T[x]=F);h(T)},k=F=>{const{notes:T}=g(),x=T.findIndex(H=>H?.id===F);x!==-1&&(T[x]=void 0),h(T)},E=()=>{h([]),C(d,()=>new Map)},P=async F=>{const T=i(d)?.();if(!T)return;const{newTags:x}=hs(T,F);x.length!==0&&(await Qr(i(o),Gn,x.map(H=>({id:H,data:{}}))),C(d,()=>T))},N=async F=>{const T=i(d)?.();if(!T)return;const{deletedTags:x}=$l(T,F);x.length!==0&&(await Fl(i(o),Gn,[...x]),C(d,()=>T))},y=async F=>{const T={id:Kl(),data:{...F,createdAt:Date.now(),updatedAt:Date.now()}};p(T),s.postMessage({type:"addNote",data:{note:T}}),await fn(i(o),Pt,T.id,{...T.data}),F.tags.length&&await P(F.tags)},m=async(F,T)=>{const x={id:T.id,data:{...T.data,updatedAt:Date.now()}};s.postMessage({type:"updateNote",data:{note:{...x}}}),S(x),await fn(i(o),Pt,x.id,{...x.data});const H=T.data.tags.filter(te=>!F.data.tags.includes(te)),ee=F.data.tags.filter(te=>!T.data.tags.includes(te));ee.length&&await N([...ee]),H.length&&await P([...H])},b=(F,T)=>{const{notes:x}=g(),H=x.find(te=>te?.id===F);if(!H)return;const ee={...H,deleting:T};s.postMessage({type:"updateNote",data:{note:ee}}),S(ee)},I=async(F,T)=>{const{notes:x}=g(),H=x.find(te=>te?.id===F);if(!H)return;const ee={id:F,data:{...H.data,pinned:T}};s.postMessage({type:"updateNote",data:{note:ee}}),S(ee),await fn(i(o),Pt,ee.id,{...ee.data})},L=async F=>{const{notes:T}=g(),x=T.find(H=>H?.id===F);x&&(x&&await l(x.id),s.postMessage({type:"deleteNote",data:{id:F}}),k(F),await u(x),await xa(i(o),Pt,F),x.data.tags.length&&await N(x.data.tags))},O=async()=>{s.postMessage({type:"clearNotes"}),E(),await c(),await Tt(i(o),Pt),await Tt(i(o),Gn)},R=async F=>{const{notes:T}=g(),x={};F.forEach(H=>{const ee=T.find(te=>te?.id===H.id);ee?ee&&ee.data.updatedAt<H.data.updatedAt&&(x[H.id]=H):x[H.id]=H}),await Qr(i(o),Pt,Object.values(x)),s.postMessage({type:"reloadNotes"}),f()},$=F=>{const{notes:T}=g();return T.find(x=>x?.id===F)},Y=()=>!!i(v)(),X=async F=>{const T=JSON.parse(F.data),x=T;if(T.tabId&&T.tabId===a){x.type==="exit"&&(h([]),await Tt(i(o),Pt));return}if(x.type==="addNote"){const H=x.data.note;p(H)}else if(x.type==="updateNote"){const H=x.data.note;S(H)}else if(x.type==="deleteNote"){const H=x.data.id;k(H)}else x.type==="clearNotes"?E():x.type==="reloadNotes"?f():x.type==="exit"&&h([])};me(()=>(f(),s.addEventListener(X),()=>{s.removeEventListener(X)})),Yl({addNote:y,updateNote:m,deleteNote:L,pinNote:I,setDeleting:b,getGetNotes:_,importNotes:R,clearNotes:O,getNoteById:$,isReadyNotes:Y,getGetMapTags:()=>i(d)});var Q=z(),ye=B(Q);se(ye,()=>t.children??ue),w(e,Q),G()}function Zl(e,t){K(t,!0);const n=720*60*60*1e3,{getDB:r}=ur(),{createBroadcastChannel:a,tabId:o}=dr(),s=M(r),l=a();let c=U(()=>{}),u=U(()=>{});const d=()=>{const L=i(u)?.();if(!L)throw new Error("NotesBin state is not initialized");return{notesBin:L}},v=L=>{C(u,()=>L)},g=L=>{const O=[];L.forEach(R=>{O.push(R)}),v(O)},h=async()=>{const O=(await Pa(i(s),xn)).filter($=>$.data.deletedAt&&Date.now()-$.data.deletedAt<n?!0:(xa(i(s),xn,$.id),!1)),R=vs(O);C(c,()=>R),g(O)},f=L=>{const{notesBin:O}=d(),R={...L};O.push(R),v(O)},_=L=>{const{notesBin:O}=d();for(let R=0;R<O.length;R++)O[R]?.id===L.id&&O&&(O[R]=L);v(O)},p=L=>{const{notesBin:O}=d(),R=O.findIndex($=>$?.id===L);R!==-1&&(O[R]=void 0),v(O)},S=()=>{g([]),C(c,()=>new Map)},k=async L=>{const O=i(c)?.();if(!O)return;const{newTags:R}=hs(O,L);R.length!==0&&C(c,()=>O)},E=async L=>{const O={id:L.id,data:{...L.data,deletedAt:Date.now()}};f(O),l.postMessage({type:"addNoteInBin",data:{note:O}}),await fn(i(s),xn,O.id,{...O.data}),L.data.tags.length&&await k(L.data.tags)},P=()=>i(u),N=()=>(i(u)()?.length||0)>0,y=async()=>{S(),await Tt(i(s),xn),l.postMessage({type:"emptyBin"})},m=async L=>{const O=JSON.parse(L.data),R=O;if(O.tabId&&O.tabId===o){R.type==="exit"&&(v([]),Tt(i(s),xn));return}if(R.type==="addNoteInBin"){const $=R.data.note;f($)}else if(R.type==="updateNoteBin"){const $=R.data.note;_($)}else if(R.type==="deleteNoteFromBin"){const $=R.data.id;p($)}else R.type==="emptyBin"?S():R.type==="reloadNotesBin"?h():R.type==="exit"&&v([])};me(()=>(h(),l.addEventListener(m),()=>{l.removeEventListener(m)})),Gl({addNoteInBin:E,checkNotesInBin:N,emptyBin:y,getGetMapTagsBin:()=>i(c),getGetNotesBin:P});var b=z(),I=B(b);se(I,()=>t.children??ue),w(e,b),G()}const gs={},Jl=()=>({working:!1,swipingRatio:1,isSwiping:!1,duration:.35});function Ql(e){Pe(gs,e)}function qn(){const e=Ce(gs);if(!e)throw new Error("No AnimationSettingsContext found");return e}function ec(e,t){K(t,!0);let n=Me(Jl());Ql(n);var r=z(),a=B(r);se(a,()=>t.children??ue),w(e,r),G()}const _s={};function tc(e){Pe(_s,e)}function ps(){const e=Ce(_s);if(!e)throw new Error("No ScrollingContext found");return e}function nc(e,t){K(t,!0);let n=U(!1);const r=()=>i(n),a=rs(()=>{C(n,!1)},100);tc({isScrolling:r,enable:()=>{C(n,!0),a()}});var s=z(),l=B(s);se(l,()=>t.children??ue),w(e,s),G()}const ms={};function rc(e){Pe(ms,e)}function Wn(){const e=Ce(ms);if(!e)throw new Error("No MobileSizeContext found");return e}function ac(e,t){K(t,!0);const n=()=>window.matchMedia("(max-width: 767px)").matches;let r=U(Me(n())),a=qn();const o=rs(()=>{a.working=!0},16),s=()=>{a.working=!1,o(),requestAnimationFrame(()=>{C(r,n(),!0)})};rc({checkMobileSize:()=>i(r)}),me(()=>(window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)));var c=z(),u=B(c);se(u,()=>t.children??ue),w(e,c),G()}const ws={};function oc(e){Pe(ws,e)}function fr(){const e=Ce(ws);if(!e)throw new Error("No DialogContext found");return e}function sc(e,t){K(t,!0);let n=U(0),r=U(!1),a=U(!1);oc({checkExistedDialog:()=>i(n)>0,showDialog:()=>{C(n,i(n)+1)},hideDialog:()=>{C(n,i(n)-1)},blockDialog:f=>{C(r,f,!0),f||C(a,!1)},checkBlockedDialog:()=>i(r),unBlockBackDialog:f=>{C(a,f,!0)},checkUnBlockedBackDialog:()=>i(a)});var g=z(),h=B(g);se(h,()=>t.children??ue),w(e,g),G()}const ys={};function ic(e){Pe(ys,e)}function Ta(){const e=Ce(ys);if(!e)throw new Error("No ScrollContainerContext found");return e}function lc(e,t){K(t,!0);let n=U(null);ic({setScrollContainer:l=>{C(n,l,!0)},getScrollContainer:()=>i(n)});var o=z(),s=B(o);se(s,()=>t.children??ue),w(e,o),G()}const Ss={};function cc(e){Pe(Ss,e)}function Na(){const e=Ce(Ss);if(!e)throw new Error("No DialogPageHeightContext found");return e}function uc(e,t){K(t,!0);let n=U(200);cc({setDialogPageHeight:l=>{C(n,l,!0)},getDialogPageHeight:()=>i(n)});var o=z(),s=B(o);se(s,()=>t.children??ue),w(e,o),G()}const dc=[Kn,Er,Pt,Pn,xn,Gn,Rl];function fc(){return new Promise((e,t)=>{const n=indexedDB.open(Il,Ol);Ie(n,"upgradeneeded",()=>{const r=n.result;for(const a of dc)r.objectStoreNames.contains(a)||r.createObjectStore(a,{keyPath:"id"})}),Ie(n,Zt,()=>{const r=n.result;e(r),r.onversionchange=function(){r?.close(),alert("app outdated, please reload the page")}}),Ie(n,"blocked",()=>{t(),alert("app outdated, please reload the page")}),Ie(n,Jt,()=>{t()})})}function vc(e,t){K(t,!0);let n=U(null);me(()=>{fc().then(l=>{C(n,l,!0)})}),Al({getDB:()=>i(n)});var a=z(),o=B(a);{var s=l=>{var c=z(),u=B(c);se(u,()=>t.children??ue),w(l,c)};W(o,l=>{i(n)&&l(s)})}w(e,a),G()}function hc(e,t){K(t,!0);const{getAppHistory:n,navigate:r}=ht(),a=()=>new URLSearchParams(n().search).get("stackPages")?.split(",")||[];let o=U(Me(a()));const s=p=>{const S=a();if(!S.includes(p)){S.push(p);const k=new URLSearchParams(n().search);k.set("stackPages",S.join(",")),C(o,S,!0),r(`${n().pathname}?${k.toString()}`)}};Ul({pushStackPages:s,hasStackPage:p=>a().includes(p),updateStackPages:()=>{C(o,a(),!0)},popStackPages:()=>{const p=i(o).slice(0,-1);C(o,p,!0)},getStackPages:()=>{const p=a();return p.length>=i(o).length?p.reduce((S,k)=>[...S,{page:k,shown:!0}],[]):i(o).reduce((S,k,E)=>[...S,{page:k,shown:p.length===0?!1:E!==i(o).length-1}],[])},clearStackPages:()=>{C(o,[],!0)},getPageUrl:(p,S)=>{if(S?.full)return`/${p}`;const k=a();k.includes(p)||k.push(p);const E=new URLSearchParams(n().search);return E.set("stackPages",k.join(",")),`${n().pathname}?${E}`},createHandlePage:(p,S)=>k=>{if(k.preventDefault(),S?.full){r(p);return}s(p)},getStackPagesFormUrl:a});var f=z(),_=B(f);se(_,()=>t.children??ue),w(e,f),G()}function gc(e,t){K(t,!0);const n=h=>h.startsWith("/")?h:`/${h}`,r=Me({historyStack:[],pathname:n(window.location.pathname),search:window.location.search,historyLength:0}),a=()=>{r.pathname=n(document.location.pathname),r.search=document.location.search,r.historyLength=Math.max(0,r.historyLength-=1)},o=h=>{const[f,_]=h.split("?");r.pathname=n(f),r.search=_?`?${_}`:"",r.historyLength+=1,r.historyStack.push(`${window.location.pathname}${window.location.search}`),window.history.replaceState(null,"",h)},s=h=>{const[f,_]=h.split("?");r.pathname=n(f),r.search=_?`?${_}`:"",window.history.replaceState(null,"",h)};wl({getAppHistory:()=>r,navigate:o,replace:s,addSearchParam:(h,f)=>{const _=new URLSearchParams(r.search);_.append(h,f),s(`${r.pathname}${_.size>0?`?${_.toString()}`:""}`)},deleteSearchParam:h=>{const f=new URLSearchParams(r.search);f.delete(h),r.historyStack=r.historyStack.map(_=>{const p=new URLSearchParams(_.split("?")[1]);return p.delete(h),`${_.split("?")[0]}${f.size>0?`?${p.toString()}`:""}`}),s(`${r.pathname}${f.size>0?`?${f.toString()}`:""}`)},back:h=>{const{fallback:f="/",to:_}=h||{},[p,S]=f.split("?");if(r.historyLength<=0){const k=window.location.pathname,E=window.location.search;if(!E.includes("stackPages"))window.history.replaceState(null,"",f),r.historyLength=0,r.pathname=n(p),r.search=S?`?${S}`:"";else{const P=new URLSearchParams(E),N=P.get("stackPages")?.split(",")||[],y=N.slice(0,_&&N.includes(_)?N.indexOf(_)+1:-1);y.length===0?P.delete("stackPages"):P.set("stackPages",y.join(","));const m=`${k}${P.toString()?`?${P.toString()}`:""}`;window.history.replaceState(null,"",m),r.search=P.toString()?`?${P.toString()}`:""}}else if(r.historyStack.length>0){const E=new URLSearchParams(r.search).get("stackPages")?.split(",")||[];_&&E.includes(_)&&(r.historyStack=r.historyStack.slice(0,-(E.length-(E.indexOf(_)+1))+1),r.historyLength=r.historyStack.length);const P=r.historyStack.pop();if(P){const[N,y]=P.split("?");window.history.replaceState(null,"",P),r.historyLength=Math.max(0,r.historyLength-=1),r.pathname=n(N),r.search=y?`?${y}`:""}}},closeDialogStack:()=>{const h=r.historyStack.findIndex(_=>_.includes("stackPages")),f=h===-1?r.historyStack.slice(0):r.historyStack.slice(0,h);if(f.length>0){const _=f.pop();if(_){const[p,S]=_.split("?");window.history.replaceState(null,"",_),r.historyLength=Math.max(0,f.length),r.pathname=n(p),r.search=S?`?${S}`:"",r.historyStack=f}}else{const _=r.search,p=new URLSearchParams(_);p.delete("stackPages"),window.history.replaceState(null,"",p.toString()?"/?"+p.toString():"/"),r.historyLength=0,r.pathname="/",r.search=p.toString()?"?"+p.toString():"",r.historyStack=[]}}}),me(()=>(window.addEventListener("popstate",a),()=>{window.removeEventListener("popstate",a)}));var v=z(),g=B(v);se(g,()=>t.children??ue),w(e,v),G()}const bs={};function _c(e){Pe(bs,e)}function pc(){const e=Ce(bs);if(!e)throw new Error("No KeyboardVisibleContext found");return e}function mc(e,t){K(t,!0);let n=Me({value:!1});const r=()=>n.value;me(()=>{const s=()=>{setTimeout(()=>{document.activeElement instanceof HTMLInputElement&&document.activeElement.type==="text"||document.activeElement instanceof HTMLTextAreaElement?n.value=!0:n.value=!1},0)};return s(),document.addEventListener("focusin",s),document.addEventListener("focusout",s),()=>{document.removeEventListener("focusin",s),document.removeEventListener("focusout",s)}}),_c({getIsKeyboardVisible:r});var a=z(),o=B(a);se(o,()=>t.children??ue),w(e,a),G()}function wc(e,t){K(t,!0);const n=crypto.randomUUID(),r=(s,l)=>{s.postMessage(JSON.stringify({...l,tabId:n}))};Ml({tabId:n,createBroadcastChannel:()=>{const s=new BroadcastChannel("app");return{postMessage:l=>r(s,l),addEventListener:l=>{s.addEventListener("message",l)},removeEventListener:l=>{s.removeEventListener("message",l)}}}});var a=z(),o=B(a);se(o,()=>t.children??ue),w(e,a),G()}function yc(e,t){ec(e,{children:(n,r)=>{nc(n,{children:(a,o)=>{ac(a,{children:(s,l)=>{sc(s,{children:(c,u)=>{lc(c,{children:(d,v)=>{uc(d,{children:(g,h)=>{mc(g,{children:(f,_)=>{gc(f,{children:(p,S)=>{hc(p,{children:(k,E)=>{vc(k,{children:(P,N)=>{wc(P,{children:(y,m)=>{var b=z(),I=B(b);se(I,()=>t.children??ue),w(y,b)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})}function Sc(e,t){yc(e,{children:(n,r)=>{bl(n,{children:(a,o)=>{yl(a,{children:(s,l)=>{El(s,{children:(c,u)=>{Pl(c,{children:(d,v)=>{Nl(d,{children:(g,h)=>{zl(g,{children:(f,_)=>{jl(f,{children:(p,S)=>{Zl(p,{children:(k,E)=>{Wl(k,{children:(P,N)=>{Xl(P,{children:(y,m)=>{var b=z(),I=B(b);se(I,()=>t.children??ue),w(y,b)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})}})}let Ft=U(""),tn=U(null),$n=U(null),Xn=U(null);function jr(e,t){C(Ft,""),setTimeout(()=>{C(Ft,e,!0),t?.onFinish&&C($n,t.onFinish,!0),t?.onCancel&&C(Xn,t.onCancel,!0)},16)}const bc=(e,t,n,r,a)=>{e.preventDefault(),i(t)&&(C(n,null),i(t)(),C(t,null)),C(r,""),i(a)?.style.removeProperty("opacity")};var kc=V('<button type="button" class="undoButton svelte-1vxmgq5">undo</button>'),Ec=V('<div class="notification svelte-1vxmgq5"><span> </span> <!></div>'),Cc=V("<div><!></div>");function Pc(e,t){K(t,!0),Ae(()=>{i(Ft);const o=i(Xn)?1e3:800;i(Ft)&&(i(tn)?.getBoundingClientRect(),i(tn)?.style.setProperty("opacity","1"));const s=setTimeout(()=>{i(tn)?.style.removeProperty("opacity")},o),l=setTimeout(()=>{C(Ft,""),i($n)&&i($n)(),C($n,null),C(Xn,null),i(tn)?.style.removeProperty("opacity")},o+400);return()=>{clearTimeout(s),clearTimeout(l)}});var n=Cc(),r=D(n);{var a=o=>{var s=Ec(),l=D(s),c=D(l),u=j(l,2);{var d=v=>{var g=kc();g.__click=[bc,Xn,$n,Ft,tn],w(v,g)};W(u,v=>{i(Xn)&&v(d)})}kt(s,v=>C(tn,v),()=>i(tn)),de(()=>tr(c,i(Ft))),w(o,s)};W(r,o=>{i(Ft)&&o(a)})}w(e,n),G()}rt(["click"]);var xc=V('<span class="vh svelte-1s25udk"><!></span>');function et(e,t){var n=xc(),r=D(n);se(r,()=>t.children),w(e,n)}var Dc=nl('<svg class="svelte-18et5h9"><use></use></svg>');function we(e,t){let n=ie(t,"name",8,"");var r=Dc(),a=D(r);de(()=>Ee(a,"href",`#icon-${n()??""}`)),w(e,r)}const Tc=(e,t,n,r)=>{const a=t().type;a==="closed"?n():a==="opened"&&r()};var Nc=V('<button class="buttonMenu svelte-bpktnw"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>');function ks(e,t){K(t,!1);const{sidebarOpen:n,getSidebarState:r,sidebarClose:a}=es();Ca();var o=Nc();o.__click=[Tc,r,n,a];var s=D(o);pe(s,()=>({"--size":"36px"})),we(s.lastChild,{name:"sidebarMenu"});var l=j(s,2);et(l,{children:(c,u)=>{var d=Te("Menu");w(c,d)}}),w(e,o),G()}rt(["click"]);var Ac=(e,t)=>t.onChange?.(e.target?.value||""),Bc=V('<input class="svelte-15lr19w"/>');function ua(e,t){K(t,!0);let n=ie(t,"value",15,"");var r=Bc();r.__input=[Ac,t],de(()=>Ee(r,"placeholder",t.placeholder)),ka("focus",r,function(...a){t.onFocus?.apply(this,a)}),hl(r,n),w(e,r),G()}rt(["input"]);function Es(e,t){K(t,!0),me(()=>{const n=r=>{r.target&&t.dialog?.open&&t.dialogInner&&t.dialogInner!==r.target&&!t.dialogInner.contains(r.target)&&t.onClose()};return document.addEventListener("mousedown",n,{capture:!0}),()=>{document.removeEventListener("mousedown",n,{capture:!0})}}),G()}var Lc=V('<dialog><div class="dialogInner svelte-1x410nl"><!></div></dialog> <!>',1);function Aa(e,t){K(t,!0);let n=U(null),r=U(null),a=U(!1),{showDialog:o,hideDialog:s}=fr();const l=f=>{f?.preventDefault();const _=setTimeout(()=>{t.onClosed()},150);i(n)?.addEventListener("transitionend",()=>{clearTimeout(_),t.onClosed()},{once:!0}),C(a,!1)};Ae(()=>{t.startClose&&l()}),me(()=>(i(n)?.showModal(),i(n)?.getClientRects(),C(a,!0),i(n)?.addEventListener("cancel",l),i(n)?.addEventListener("close",l),()=>{i(n)?.removeEventListener("cancel",l),i(n)?.removeEventListener("close",l)})),me(()=>(o(),()=>{s()}));var c=Lc(),u=B(c),d=D(u),v=D(d);se(v,()=>t.children),kt(d,f=>C(r,f),()=>i(r)),kt(u,f=>C(n,f),()=>i(n));var g=j(u,2);{var h=f=>{Es(f,{get dialog(){return i(n)},get dialogInner(){return i(r)},onClose:l})};W(g,f=>{i(n)&&i(r)&&f(h)})}de(()=>ve(u,1,fe(["dialog",{shown:i(a)}]),"svelte-1x410nl")),w(e,c),G()}var Mc=V("<div><!></div>");function Cs(e,t){K(t,!0);let n=U(!1),r=U(null);const a=()=>{const u=setTimeout(()=>{t.onClosed()},150);i(r)?.addEventListener("transitionend",()=>{clearTimeout(u),t.onClosed()},{once:!0}),C(n,!1)},o=u=>{u.target!==i(r)&&!i(r)?.contains(u.target)&&a()},s=u=>{u.target!==i(r)&&!i(r)?.contains(u.target)&&a()};me(()=>{i(r)?.getClientRects(),C(n,!0);const u=setTimeout(()=>{document.addEventListener("focusin",o),document.addEventListener("click",s)},0);return()=>{clearTimeout(u),document.removeEventListener("focusin",o),document.removeEventListener("click",s)}}),Ae(()=>{t.startClose&&a()});var l=Mc(),c=D(l);se(c,()=>t.children),kt(l,u=>C(r,u),()=>i(r)),de(()=>ve(l,1,fe(["menu",{top:t.positionTop,shown:i(n)}]),"svelte-ujw4xi")),w(e,l),G()}const Ic=(e,t)=>{i(t)||C(t,!0)};var Oc=(e,t)=>t("newest"),Rc=(e,t)=>t("oldest"),Fc=(e,t)=>t("AtoZ"),zc=(e,t)=>t("ZtoA"),Hc=V("<div><button>Newest</button> <button>Oldest</button> <button>A to Z</button> <button>Z to A</button></div>"),Uc=V('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),jc=V('<div class="orderMenu svelte-14zj87s"><button><!> <!></button> <!></div>');function Vc(e,t){K(t,!0);const n=(k,E=ue)=>{var P=Hc(),N=D(P);N.__click=[Oc,d];var y=j(N,2);y.__click=[Rc,d];var m=j(y,2);m.__click=[Fc,d];var b=j(m,2);b.__click=[zc,d],de(()=>{ve(P,1,fe(["menu",{menuDialog:E()}]),"svelte-14zj87s"),ve(N,1,fe(["menuButton",{menuButtonDialog:E(),current:i(u)==="newest"}]),"svelte-14zj87s"),ve(y,1,fe(["menuButton",{menuButtonDialog:E(),current:i(u)==="oldest"}]),"svelte-14zj87s"),ve(m,1,fe(["menuButton",{menuButtonDialog:E(),current:i(u)==="AtoZ"}]),"svelte-14zj87s"),ve(b,1,fe(["menuButton",{menuButtonDialog:E(),current:i(u)==="ZtoA"}]),"svelte-14zj87s")}),w(k,P)};let r=U(!1),a=U(!1);const{checkMobileSize:o}=Wn(),{getFeedOrder:s,setFeedOrder:l}=Jo();let c=M(o),u=M(s);const d=k=>{C(a,!0),l(k)},v=()=>{C(r,!1),C(a,!1)};var g=jc(),h=D(g);h.__click=[Ic,r],ve(h,1,fe(["button","buttonMenu"]),"svelte-14zj87s");var f=D(h);we(f,{name:"filter"});var _=j(f,2);et(_,{children:(k,E)=>{var P=Te("show feed order menu");w(k,P)}});var p=j(h,2);{var S=k=>{var E=z(),P=B(E);{var N=m=>{Aa(m,{get startClose(){return i(a)},onClosed:v,children:(b,I)=>{n(b,()=>!0)},$$slots:{default:!0}})},y=m=>{var b=Uc(),I=B(b);pe(I,()=>({"--right":"20px","--top":"60px"})),Cs(I.lastChild,{get startClose(){return i(a)},onClosed:v,children:(L,O)=>{n(L,()=>!1)},$$slots:{default:!0}}),w(m,b)};W(P,m=>{i(c)?m(N):m(y,!1)})}w(k,E)};W(p,k=>{i(r)&&k(S)})}w(e,g),G()}rt(["click"]);var q=(e=>(e.NewNote="newNote",e.EditNote="editNote",e.Settings="settings",e.ImportData="importData",e.ExportData="exportData",e.ClearStore="clearStore",e.Account="account",e.Sync="sync",e.Start="start",e.Auth="auth",e.Signin="signin",e.Signup="signup",e.AccessKeys="accessKeys",e.ConfirmAccessKey="confirmAccessKey",e.Subscription="subscription",e.Exit="exit",e.NotFound="notFound",e.About="about",e.Bin="bin",e))(q||{}),qc=V("<a><!></a>"),Wc=V("<button><!></button>");function $t(e,t){let n=ie(t,"type",3,"standard"),r=ie(t,"typeButton",3,"button"),a=ie(t,"element",3,"button"),o=ie(t,"href",3,""),s=ie(t,"fullWidth",3,!1),l=ie(t,"withoutMinWidth",3,!1);var c=z(),u=B(c);{var d=g=>{var h=qc();h.__click=function(..._){t.onClick?.apply(this,_)};var f=D(h);se(f,()=>t.children??ue),de(()=>{Ee(h,"href",o()),ve(h,1,fe(["button","a",{dangerous:n()==="dangerous",secondary:n()==="secondary",fullWidth:s(),withoutMinWidth:l()}]),"svelte-aqjevc")}),w(g,h)},v=g=>{var h=Wc();h.__click=function(..._){t.onClick?.apply(this,_)};var f=D(h);se(f,()=>t.children??ue),de(()=>{Ee(h,"type",r()),ve(h,1,fe(["button",{dangerous:n()==="dangerous",secondary:n()==="secondary",fullWidth:s(),withoutMinWidth:l()}]),"svelte-aqjevc")}),w(g,h)};W(u,g=>{a()==="a"?g(d):g(v,!1)})}w(e,c)}rt(["click"]);const Yc=(e,t)=>{C(t,!0)};var Kc=V('<a class="link svelte-13t3afu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Notes</span></a>'),Gc=V('<a class="link svelte-13t3afu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Bin</span></a>'),$c=V('<button class="emptyBinButton svelte-13t3afu" type="button">Empty bin</button>'),Xc=V('<a class="buttonAdd svelte-13t3afu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Note</span></a>'),Zc=V('<div class="wrapperConfirm svelte-13t3afu"><span class="confirmTitle svelte-13t3afu">Are you sure you want to empty the bin?</span> <div class="confirmControls svelte-13t3afu"><!> <!></div></div>'),Jc=V('<div class="header svelte-13t3afu"><div class="top svelte-13t3afu"><div class="menu svelte-13t3afu"><a class="link svelte-13t3afu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Settings</span></a> <a class="link svelte-13t3afu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Sync</span></a> <!></div> <div class="mobile svelte-13t3afu"><!></div> <!></div> <div class="bottom svelte-13t3afu"><div><div class="sidebarSearchWrapper"><!></div></div> <div class="right svelte-13t3afu"><div class="filter svelte-13t3afu"><div class="feedSearchWrapper svelte-13t3afu"><!></div> <!></div></div></div></div> <!>',1);function Qc(e,t){K(t,!0);const{createHandlePage:n,getPageUrl:r}=Bt(),a=Ko(),o=Xo(),{getScrollContainer:s}=Ta();let l=M(s);const{emptyBin:c,checkNotesInBin:u}=Ur(),{getAppHistory:d}=ht(),v=M(()=>d().pathname);let g=U(!1),h=U(!1),f=U(!1);const _=()=>{i(l)&&i(l).scrollTo({top:0,behavior:"smooth"})};var p=Jc(),S=B(p),k=D(S),E=D(k),P=D(E),N=M(()=>n(q.Settings));P.__click=function(...J){i(N)?.apply(this,J)};var y=D(P);pe(y,()=>({"--rotate":"30deg","--size":"20px"})),we(y.lastChild,{name:"settings"});var m=j(P,2),b=M(()=>n(q.Sync));m.__click=function(...J){i(b)?.apply(this,J)};var I=D(m);pe(I,()=>({"--size":"20px"})),we(I.lastChild,{name:"sync"});var L=j(m,2);{var O=J=>{var ne=Kc(),ge=M(()=>n("/",{full:!0}));ne.__click=function(...ae){i(ge)?.apply(this,ae)};var be=D(ne);pe(be,()=>({"--size":"18px"})),we(be.lastChild,{name:"note"}),de(ae=>Ee(ne,"href",ae),[()=>r("/",{full:!0})]),w(J,ne)},R=J=>{var ne=z(),ge=B(ne);{var be=ae=>{var ke=Gc(),Be=M(()=>n(q.Bin,{full:!0}));ke.__click=function(...Oe){i(Be)?.apply(this,Oe)};var Fe=D(ke);pe(Fe,()=>({"--size":"20px"})),we(Fe.lastChild,{name:"bin"}),de(Oe=>Ee(ke,"href",Oe),[()=>r(q.Bin,{full:!0})]),w(ae,ke)};W(ge,ae=>{u()&&ae(be)},!0)}w(J,ne)};W(L,J=>{i(v)===`/${q.Bin}`?J(O):J(R,!1)})}var $=j(E,2),Y=D($);ks(Y,{});var X=j($,2);{var Q=J=>{var ne=z(),ge=B(ne);{var be=ae=>{var ke=$c();ke.__click=[Yc,g],w(ae,ke)};W(ge,ae=>{u()&&ae(be)})}w(J,ne)},ye=J=>{var ne=Xc(),ge=M(()=>n(q.NewNote));ne.__click=function(...ae){i(ge)?.apply(this,ae)};var be=D(ne);pe(be,()=>({"--size":"16px","--color":"#b0b0b0"})),we(be.lastChild,{name:"plus"}),de(ae=>Ee(ne,"href",ae),[()=>r(q.NewNote)]),w(J,ne)};W(X,J=>{i(v)===`/${q.Bin}`?J(Q):J(ye,!1)})}var F=j(k,2),T=D(F);ve(T,1,fe(["left"]),"svelte-13t3afu");var x=D(T),H=D(x);ua(H,{placeholder:"Search tag",get value(){return o.value},set value(J){o.value=J}});var ee=j(T,2),te=D(ee),le=D(te),Se=D(le);ua(Se,{onFocus:_,placeholder:"Search",get value(){return a.value},set value(J){a.value=J}});var Ge=j(le,2);Vc(Ge,{});var $e=j(S,2);{var xe=J=>{Aa(J,{get startClose(){return i(h)},onClosed:()=>{i(f)&&c(),C(f,!1),C(h,!1),C(g,!1)},children:(ne,ge)=>{var be=Zc(),ae=j(D(be),2),ke=D(ae);$t(ke,{onClick:()=>{C(h,!0)},fullWidth:!0,withoutMinWidth:!0,type:"secondary",children:(Fe,Oe)=>{var ze=Te("Cancel");w(Fe,ze)},$$slots:{default:!0}});var Be=j(ke,2);$t(Be,{onClick:()=>{C(h,!0),C(f,!0)},fullWidth:!0,withoutMinWidth:!0,type:"dangerous",children:(Fe,Oe)=>{var ze=Te("Empty");w(Fe,ze)},$$slots:{default:!0}}),w(ne,be)},$$slots:{default:!0}})};W($e,J=>{i(g)&&J(xe)})}de((J,ne)=>{Ee(P,"href",J),Ee(m,"href",ne)},[()=>r(q.Settings),()=>r(q.Sync)]),w(e,p),G()}rt(["click"]);function eu(e,t){K(t,!0);const{getIsKeyboardVisible:n}=pc();let r=ie(t,"dialog",7);const a=M(n),o=qn();let s=null;const l=()=>{t.dialogState==="swiping"&&t.onClose()};Ae(()=>(t.dialogState==="swiping"&&(s=setTimeout(l,3e3)),()=>{s&&(clearTimeout(s),s=null)}));let c=null,u=null;const d=3,v=50,g=5,h=.6,f=.3,_=.35,p=.95;let S=0,k=0,E=0,P=!1,N=!1,y=0,m=0,b=0;const I=()=>{S=0,k=0,P=!1,N=!1,y=0,m=0,b=0,E=0,c=null,u!==null&&(cancelAnimationFrame(u),u=null),s&&(clearTimeout(s),s=null)},L=T=>{r()&&t.dialogState==="opened"&&(S=T.touches[0].clientX,k=T.touches[0].clientY,E=performance.now(),P=!0,N=!1)},O=T=>t.dialogState==="opened"&&T>0||t.dialogState==="swiping"&&T>0,R=()=>{if(r()){r().style.setProperty("--transition-timing","0s"),t.onSwipe(),navigator.vibrate&&navigator.vibrate(10);try{const T=window.getComputedStyle(r()),x=T.transform||T.webkitTransform||"";if(m=r().offsetWidth,(t.dialogState==="swiping"||t.dialogState==="opened")&&(y=0),x&&x!=="none")try{y=new DOMMatrix(x).m41}catch{}N=!0}catch{I()}}},$=()=>{if(!r())return;const x=Math.abs(y+b*m/100)/m;r().style.setProperty("--backdrop-bg",`rgba(0, 0, 0, ${.1*(1-x)})`)},Y=()=>{if(u=null,!c||!P||!r()||i(a)){I();return}const T=[...c.touches].reduce((xe,J)=>xe+J.clientX,0)/c.touches.length,x=[...c.touches].reduce((xe,J)=>xe+J.clientY,0)/c.touches.length,H=T-S,ee=x-k,te=Math.abs(H)>Math.abs(ee),le=Math.abs(H)>d;if(!N)if(te&&le&&O(H))try{R()}catch{I();return}else return;if(!O(H))return;r().style.setProperty("--transition-timing","0s");let Se=y+H*p;Se=Math.max(0,Math.min(m,Se)),r().style.transform=`translate3d(${Se}px, 0, 0)`,o.swipingRatio=Math.abs(1-Se/m),b=(Se-y)/m*100,t.dialogState==="swiping"&&(s&&clearTimeout(s),s=setTimeout(l,3e3)),$()},X=T=>{if(!P)return;c=T,u===null&&(u=requestAnimationFrame(Y));const x=T.touches[0].clientX-S,H=T.touches[0].clientY-k,ee=Math.abs(x)>Math.abs(H);N&&ee&&T.preventDefault()},Q=T=>{const x=Math.abs(T);if(x>=h)return g;if(x>=f){const H=(x-f)/(h-f);return v-H*(v-g)}else return v},ye=(T,x)=>{if(Math.abs(T)>=h)return _*.5;const ee=Math.abs(b)/100;return x?_*Math.max(.5,1-ee):_*Math.max(.5,ee)},F=T=>{if(u!==null&&(cancelAnimationFrame(u),u=null),!P||!r()){I();return}if(!N){I();return}let x=0;if(T?.changedTouches?.[0]){const Se=T.changedTouches[0].clientX,$e=performance.now()-E;$e>0&&(x=(Se-S)/$e)}const H=Q(x);let ee=null;t.dialogState==="swiping"&&(ee=Math.abs(b)>H||x<-f?"close":"open");const te=t.dialogState==="swiping"&&ee==="close",le=ye(x,te);o.duration=le-.02,r().style.setProperty("--transition-timing",`${le}s`),r().offsetWidth,r().style.transform="",ee==="open"?t.onOpen():ee==="close"&&t.onClose(),r()?.style.removeProperty("--backdrop-bg"),I()};me(()=>(r().addEventListener("touchstart",L,{passive:!0}),r().addEventListener("touchmove",X,{passive:!1}),r().addEventListener("touchend",F,{passive:!0}),r().addEventListener("touchcancel",F,{passive:!0}),()=>{r().removeEventListener("touchstart",L),r().removeEventListener("touchmove",X),r().removeEventListener("touchend",F),r().removeEventListener("touchcancel",F),u!==null&&cancelAnimationFrame(u)})),G()}var tu=(e,t)=>{t.onStartClose()},nu=V('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),ru=V('<dialog><div class="dialogInner svelte-vr2o0t"><div class="header svelte-vr2o0t"><div><!></div></div> <!></div></dialog> <!>',1);function au(e,t){K(t,!0);let n=350;const{isScrolling:r,enable:a}=ps();let o=U(null),s=U(null);const l=qn(),c=y=>{y.preventDefault(),t.onStartClose()};me(()=>(i(o)?.addEventListener("close",t.onClosed),i(o)?.addEventListener("cancel",c),()=>{i(o)?.removeEventListener("close",t.onClosed),i(o)?.removeEventListener("cancel",c)}));const u=()=>{i(o)?.style.removeProperty("--transition-timing"),i(o)?.style.removeProperty("transform"),i(o)?.style.removeProperty("--backdrop-bg")},d=()=>{a()},v=M(r);Ae(()=>{if(t.dialogState,!!i(o))switch(t.dialogState){case"opening":{i(o).open||i(o).showModal(),i(o).getBoundingClientRect();const y=setTimeout(()=>{u()},n+1),m=()=>{clearTimeout(y),u()};return i(o)?.addEventListener("transitionend",m,{once:!0}),t.onOpened(),()=>{clearTimeout(y),i(o)?.removeEventListener("transitionend",m)}}case"closing":{const y=setTimeout(()=>{t.dialogState==="closing"&&t.onClosed()},n+1),m=()=>{clearTimeout(y),t.onClosed()};return i(o)?.addEventListener("transitionend",m,{once:!0}),()=>{clearTimeout(y),i(o)?.removeEventListener("transitionend",m)}}case"opened":u()}});var g=ru(),h=B(g),f=D(h),_=D(f),p=D(_),S=D(p);{var k=y=>{var m=nu();ve(m,1,fe(["navigateButton","buttonBack"]),"svelte-vr2o0t"),m.__click=[tu,t];var b=D(m);pe(b,()=>({"--size":"36px"})),we(b.lastChild,{name:"back"});var I=j(b,2);et(I,{children:(L,O)=>{var R=Te("back");w(L,R)}}),w(y,m)};W(S,y=>{(!(t.blocked||t.hidden)||t.blocked&&t.unBlockedBack)&&y(k)})}var E=j(_,2);se(E,()=>t.children),kt(f,y=>C(s,y),()=>i(s)),kt(h,y=>C(o,y),()=>i(o));var P=j(h,2);{var N=y=>{eu(y,{get onClose(){return t.onStartClose},get onOpen(){return t.onStartOpen},get onSwipe(){return t.onSwipe},get dialogState(){return t.dialogState},get dialog(){return i(o)}})};W(P,y=>{(!i(v)&&t.dialogState==="opened"||t.dialogState==="swiping")&&(!t.blocked||t.unBlockedBack)&&y(N)})}de(()=>ve(h,1,fe([{open:t.dialogState==="opened",hidden:t.hidden,isAnimationOn:l.working&&(!l.isSwiping||!t.hidden)},{hidden:t.hidden}]),"svelte-vr2o0t")),ka("scroll",f,d),w(e,g),G()}rt(["click"]);const $a=(e,t)=>{if(!t)return e;if(t.type==="closed")return{type:"closed"};switch(e.type){case"opened":return t.type==="close"?{type:"closing"}:t.type==="swipe"?{type:"swiping"}:e;case"closed":return t.type==="open"?{type:"opening"}:e;case"swiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"opening":return t.type==="opened"?{type:"opened"}:e;default:return e}};function ou(e,t){K(t,!0);let n=ie(t,"blocked",3,!1),r=ie(t,"hiddenDialog",3,!1),a=ie(t,"unBlockedBack",3,!1),o=ie(t,"onStartClose",3,()=>{}),s=ie(t,"onClose",3,()=>{});const l=qn();let c=U(Me($a({type:"closed"})));const u=E=>{C(c,$a(i(c),E),!0)},d=()=>{n()&&!a()||(o()(),u({type:"close"}))},v=()=>{u({type:"open"})},g=()=>{u({type:"opened"}),l.duration=.2},h=()=>{s()(),u({type:"closed"}),l.swipingRatio=1,l.duration=.2},f=()=>{u({type:"swipe"})};Ae(()=>{i(c).type==="swiping"?l.isSwiping=!0:l.isSwiping=!1,i(c).type==="closed"&&t.shownDialog?v():i(c).type==="opened"&&!t.shownDialog&&d()});var _={handleComputeState:u},p=z(),S=B(p);{var k=E=>{au(E,{onSwipe:f,onOpened:g,onClosed:h,onStartClose:d,onStartOpen:v,get dialogState(){return i(c).type},get hidden(){return r()},get blocked(){return n()},get unBlockedBack(){return a()},children:(P,N)=>{var y=z(),m=B(y);se(m,()=>t.children),w(P,y)},$$slots:{default:!0}})};W(S,E=>{i(c).type!=="closed"&&E(k)})}return w(e,p),G(_)}const su=({getDialog:e,onOpen:t,onStartClose:n,onClose:r})=>{const a=s=>{s.preventDefault(),n()},o=()=>{r?.()};me(()=>{const s=e();return s?.addEventListener("cancel",a),s?.addEventListener("close",o),()=>{s?.removeEventListener("cancel",a),s?.removeEventListener("close",o)}}),me(()=>{const s=e();s?.showModal(),s?.getBoundingClientRect(),t()})};var iu=(e,t)=>{t.onStartBack()},lu=V('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),cu=(e,t)=>{t.onStartClose()},uu=V('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),du=V('<dialog><div class="dialogInner svelte-rt409n"><div class="header svelte-rt409n"><div><!></div> <div><!></div></div> <!></div></dialog> <!>',1);function fu(e,t){K(t,!0);let n=ie(t,"blockedDialog",3,!1),r=ie(t,"hiddenDialog",3,!1),a=ie(t,"isDesktopAnimationOff",3,!1),o=U(null),s=U(null);su({getDialog:()=>i(o),onOpen:t.onOpen,onStartClose:t.onStartClose,onClose:t.onClose});const l=qn();Ae(()=>{t.stateDialog==="closing"&&(l.working?i(o)?.addEventListener("transitionend",()=>{i(o)?.close()},{once:!0}):i(o)?.close())});const{getDialogPageHeight:c}=Na(),u=M(c);var d=du(),v=B(d),g=D(v),h=D(g),f=D(h),_=D(f);{var p=y=>{var m=lu();ve(m,1,fe(["navigateButton","buttonBack"]),"svelte-rt409n"),m.__click=[iu,t];var b=D(m);pe(b,()=>({"--size":"28px"})),we(b.lastChild,{name:"back"});var I=j(b,2);et(I,{children:(L,O)=>{var R=Te("back");w(L,R)}}),w(y,m)};W(_,y=>{(!(n()||r())||n()&&t.unBlockedBack)&&t.onStartBack&&y(p)})}var S=j(f,2),k=D(S);{var E=y=>{var m=uu();ve(m,1,fe(["navigateButton","buttonClose"]),"svelte-rt409n"),m.__click=[cu,t];var b=D(m);pe(b,()=>({"--size":"28px"})),we(b.lastChild,{name:"close"});var I=j(b,2);et(I,{children:(L,O)=>{var R=Te("close");w(L,R)}}),w(y,m)};W(k,y=>{n()||r()||y(E)})}var P=j(h,2);se(P,()=>t.children),kt(g,y=>C(s,y),()=>i(s)),kt(v,y=>C(o,y),()=>i(o));var N=j(v,2);Es(N,{get dialog(){return i(o)},get dialogInner(){return i(s)},get onClose(){return t.onStartClose}}),de(()=>{nr(v,`height: ${i(u)+74}px`),ve(v,1,fe([{open:t.stateDialog==="open",isAnimationOn:l.working,isDesktopAnimationOff:a(),hiddenDialog:r()}]),"svelte-rt409n")}),w(e,d),G()}rt(["click"]);const vu=({onStartClose:e,onClose:t})=>{let n=U("close");return{get state(){return i(n)},set state(s){C(n,s,!0)},handleStartClose:(s=!1)=>{s||(C(n,"closing"),e?.())},handleOpen:()=>{C(n,"open")},handleClose:()=>{C(n,"close"),t?.()}}};function hu(e,t){K(t,!0);let n=ie(t,"blockedDialog",3,!1),r=ie(t,"hiddenDialog",3,!1),a=ie(t,"onStartClose",3,()=>{}),o=ie(t,"onClose",3,()=>{}),s=vu({onStartClose:a(),onClose:o()});Ae(()=>{s.state==="close"&&t.shownDialog?s.state="opening":s.state==="open"&&!t.shownDialog&&s.handleStartClose(n())});const l=v=>{v.key==="Escape"&&(document.activeElement instanceof HTMLInputElement&&document.activeElement.type==="text"||document.activeElement instanceof HTMLTextAreaElement||n())&&(v.preventDefault(),v.stopPropagation())};me(()=>(document.addEventListener("keydown",l),()=>{document.removeEventListener("keydown",l)}));var c=z(),u=B(c);{var d=v=>{fu(v,{get stateDialog(){return s.state},get blockedDialog(){return n()},get unBlockedBack(){return t.unBlockedBack},get hiddenDialog(){return r()},get onOpen(){return s.handleOpen},get onStartBack(){return t.onStartBack},onStartClose:()=>{s.handleStartClose(n())},get onClose(){return s.handleClose},children:(g,h)=>{var f=z(),_=B(f);se(_,()=>t.children),w(g,f)},$$slots:{default:!0}})};W(u,v=>{s.state!=="close"&&v(d)})}w(e,c),G()}function gu(e,t){K(t,!0);let n=ie(t,"blockedDialog",3,!1),r=ie(t,"hiddenDialog",3,!1),a=ie(t,"isLastDialog",3,!1),o=ie(t,"onStartClose",3,()=>{}),s=ie(t,"onClose",3,()=>{});const l=M(()=>a()?void 0:t.onStartBack),{showDialog:c,hideDialog:u}=fr();me(()=>(c(),()=>{u()}));const{checkMobileSize:d}=Wn();var v=z(),g=B(v);{var h=_=>{ou(_,{get shownDialog(){return t.shownDialog},get blocked(){return n()},get unBlockedBack(){return t.unBlockedBack},get hiddenDialog(){return r()},get children(){return t.children},get onStartClose(){return t.onStartBack},get onClose(){return s()}})},f=_=>{hu(_,{get shownDialog(){return t.shownDialog},get blockedDialog(){return n()},get unBlockedBack(){return t.unBlockedBack},get hiddenDialog(){return r()},get children(){return t.children},get onStartBack(){return i(l)},get onStartClose(){return o()},get onClose(){return s()}})};W(g,_=>{d()?_(h):_(f,!1)})}w(e,v),G()}function Xa(e,t){K(t,!0);const{back:n,closeDialogStack:r}=ht(),{popStackPages:a}=Bt();let o=ie(t,"blocked",3,!1),s=ie(t,"isLastDialog",3,!1),l=ie(t,"onBack",3,()=>{});const{checkBlockedDialog:c,checkUnBlockedBackDialog:u}=fr(),d=M(()=>o()||t.hidden||c()),v=M(()=>u()&&!s());gu(e,{get shownDialog(){return t.shown},get blockedDialog(){return i(d)},get unBlockedBack(){return i(v)},get hiddenDialog(){return t.hidden},get isLastDialog(){return s()},onStartBack:()=>{(!i(d)||i(d)&&i(v))&&t.shown&&(n(),l()())},onStartClose:()=>{(!i(d)||i(d)&&i(v))&&t.shown&&r()},onClose:()=>{a()},children:(_,p)=>{var S=z(),k=B(S);se(k,()=>t.children),w(_,S)},$$slots:{default:!0}}),G()}var _u=V('<h1 class="svelte-1ky72l5"><!></h1>');function pu(e,t){var n=_u(),r=D(n);se(r,()=>t.children),w(e,n)}var mu=V('<div class="block svelte-ujk4k"><!> <div class="container svelte-ujk4k"><!> <!></div></div>');function wu(e,t){K(t,!0);const{blockDialog:n}=fr(),{pushStackPages:r}=Bt(),{closeDialogStack:a}=ht(),{initLocalAccount:o}=Da();let s=U("idle");const l=()=>{C(s,"loading"),r(q.Auth)},c=async()=>{C(s,"loading"),Dl(),await o(),n(!1),a()};Ae(()=>{n(i(s)==="idle"||i(s)==="loading")}),me(()=>(n(!0),()=>{n(!1)}));var u=mu(),d=D(u);pu(d,{children:(f,_)=>{var p=Te("use app");w(f,p)}});var v=j(d,2),g=D(v);$t(g,{onClick:l,fullWidth:!0,children:(f,_)=>{var p=Te("cloud account");w(f,p)},$$slots:{default:!0}});var h=j(g,2);$t(h,{onClick:c,fullWidth:!0,type:"secondary",children:(f,_)=>{var p=Te("without account");w(f,p)},$$slots:{default:!0}}),w(e,u),G()}var yu=V('<div class="svelte-1x9a4ve"><!></div>');function Le(e,t){K(t,!0);const{setDialogPageHeight:n}=Na();let r=U(null);me(()=>{i(r)&&(i(r).getBoundingClientRect(),i(r).style.opacity="1");const s=new ResizeObserver(l=>{for(let c of l){const u=c.contentRect.height;n(u)}});if(i(r))return s.observe(i(r)),()=>{i(r)&&s.unobserve(i(r)),s.disconnect()}});var a=yu(),o=D(a);se(o,()=>t.children),kt(a,s=>C(r,s),()=>i(r)),w(e,a),G()}var Su=V('<div class="svelte-stjbkr"><p class="svelte-stjbkr">Page not found</p> <!></div>');function bu(e,t){K(t,!1);const{navigate:n}=ht(),r=s=>{s.preventDefault(),n("/")};Ca();var a=Su(),o=j(D(a),2);$t(o,{element:"a",href:"/",onClick:r,children:(s,l)=>{var c=Te("close");w(s,c)},$$slots:{default:!0}}),w(e,a),G()}const ku="modulepreload",Eu=function(e){return"/"+e},Za={},Re=function(t,n,r){let a=Promise.resolve();if(n&&n.length>0){let c=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),l=s?.nonce||s?.getAttribute("nonce");a=c(n.map(u=>{if(u=Eu(u),u in Za)return;Za[u]=!0;const d=u.endsWith(".css"),v=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${v}`))return;const g=document.createElement("link");if(g.rel=d?"stylesheet":ku,d||(g.as="script"),g.crossOrigin="",g.href=u,l&&g.setAttribute("nonce",l),document.head.appendChild(g),d)return new Promise((h,f)=>{g.addEventListener("load",h),g.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${u}`)))})}))}function o(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return a.then(s=>{for(const l of s||[])l.status==="rejected"&&o(l.reason);return t().catch(o)})};var Cu=V('<div class="svelte-10xfz1h"><p class="svelte-10xfz1h">Something went wrong. Please reload the page</p> <!></div>');function Pu(e){var t=Cu(),n=j(D(t),2);$t(n,{onClick:()=>location.reload(),children:(r,a)=>{var o=Te("Reload");w(r,o)},$$slots:{default:!0}}),w(e,t)}var xu=V('<div><!> <div class="loader svelte-m0sno1"></div></div>');function Ps(e,t){K(t,!0);let n=U(!1);me(()=>{const o=setTimeout(()=>{C(n,!0)},200);return()=>{clearTimeout(o)}});var r=xu(),a=D(r);se(a,()=>t.children??ue),de(()=>ve(r,1,fe(["block",{shown:i(n)}]),"svelte-m0sno1")),w(e,r),G()}var Du=V('<div class="svelte-1mu1b44"><!></div>');function Tu(e,t){K(t,!0);const{getDialogPageHeight:n}=Na(),r=M(n);var a=Du(),o=D(a);Ps(o,{}),de(()=>nr(a,`min-height: ${i(r)??""}px;`)),w(e,a),G()}function Ue(e,t){K(t,!0);const n={},r=Object.assign({"./Pages/About.svelte":()=>Re(()=>import("./CaRUI5yj.js"),__vite__mapDeps([0,1])),"./Pages/AccessKeys.svelte":()=>Re(()=>import("./DZIeEhx7.js"),__vite__mapDeps([2,3,4,5])),"./Pages/Account.svelte":()=>Re(()=>import("./BkaT1V5J.js"),__vite__mapDeps([6,3,7])),"./Pages/Auth.svelte":()=>Re(()=>import("./Dpq2lBJw.js"),__vite__mapDeps([8,9])),"./Pages/ClearStore.svelte":()=>Re(()=>import("./ZpLdxZA9.js"),__vite__mapDeps([10,11])),"./Pages/ConfirmAccessKey.svelte":()=>Re(()=>import("./NI2WWqDj.js"),__vite__mapDeps([12,4,3,13,14,15,16])),"./Pages/EditNote.svelte":()=>Re(()=>import("./DPRTJnG5.js"),__vite__mapDeps([17,18,14,15,19,20])),"./Pages/Exit.svelte":()=>Re(()=>import("./DZNTbL1j.js"),__vite__mapDeps([21,22])),"./Pages/ExportData.svelte":()=>Re(()=>import("./C0ZXp8Es.js"),__vite__mapDeps([23,24])),"./Pages/ImportData.svelte":()=>Re(()=>import("./9EYAZaUh.js"),__vite__mapDeps([25,26])),"./Pages/NewNote.svelte":()=>Re(()=>import("./DV5Ixjkv.js"),__vite__mapDeps([27,18,14,15,19])),"./Pages/Settings.svelte":()=>Re(()=>import("./cviIQWoN.js"),__vite__mapDeps([28,29])),"./Pages/Signin.svelte":()=>Re(()=>import("./8YA4RX1p.js"),__vite__mapDeps([30,4,3,13,31])),"./Pages/Signup.svelte":()=>Re(()=>import("./Ywo25uUl.js"),__vite__mapDeps([32,13,4,3,33])),"./Pages/Subscription.svelte":()=>Re(()=>import("./ClbKogv5.js"),__vite__mapDeps([34,35])),"./Pages/Sync.svelte":()=>Re(()=>import("./D0YupNbX.js"),__vite__mapDeps([36,37]))}),a=async l=>{const c=`./Pages/${l[0].toUpperCase()+l.slice(1)}.svelte`;if(!n[l]){if(r[c]){const u=r[c]();return n[l]={promise:u},n[l].module=await u,n[l].module}throw new Error(`Page ${l} not found`)}return n[l].module||await n[l].promise};var o=z(),s=B(o);Uo(s,()=>a(t.page),l=>{Tu(l,{})},(l,c)=>{const u=M(()=>i(c).default);var d=z(),v=B(d);qo(v,()=>i(u),(g,h)=>{h(g,{get params(){return t.params},get hidden(){return t.hidden}})}),w(l,d)},l=>{Pu(l)}),w(e,o),G()}var Nu=V('<button> <svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></button>');function xs(e,t){let n=M(()=>t.style==="selected"?"45deg":"0deg");var r=Nu();r.__click=function(...s){t.onClick?.apply(this,s)};var a=D(r),o=j(a);pe(o,()=>({"--size":t.size==="small"?"10px":"12px","--rotate":i(n)})),we(o.lastChild,{name:"plus"}),de(()=>{Ee(r,"type",t.type),ve(r,1,fe([{selectedTag:t.style==="selected",small:t.size==="small"}]),"svelte-uu8a24"),tr(a,`${t.title??""} `)}),w(e,r)}rt(["click"]);var Au=V("<div></div>");function Ja(e,t){K(t,!0);let n=ie(t,"mobile",3,!1);var r=Au();Hr(r,20,()=>t.tags,a=>a,(a,o)=>{xs(a,{get title(){return o},onClick:()=>t.handleTagClick(o)})}),de(()=>ve(r,1,fe(["tags",{mobile:n()}]),"svelte-1c53r32")),w(e,r),G()}var Bu=V("<div></div>");function Qa(e,t){K(t,!0);var n=z(),r=B(n);{var a=o=>{var s=Bu();ve(s,1,fe(["tags","selectedTags"]),"svelte-58z9m1"),Hr(s,20,()=>t.selectedTags,l=>l,(l,c)=>{xs(l,{get title(){return c},onClick:()=>t.handleSelectedTagClick(c),style:"selected"})}),w(o,s)};W(r,o=>{t.selectedTags.size>0&&o(a)})}w(e,n),G()}var Lu=(e,t,n)=>{t(),n("/",{full:!0})(e)},Mu=V('<a class="link svelte-ltt61h"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a>'),Iu=(e,t,n)=>{t(),n(q.Bin,{full:!0})(e)},Ou=V('<a class="link svelte-ltt61h"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a>'),Ru=V('<div class="sidebarFixed svelte-ltt61h"><div class="nav svelte-ltt61h"><!> <div class="menu svelte-ltt61h"><a class="link svelte-ltt61h"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a> <a class="link svelte-ltt61h"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a> <!></div></div> <div class="searchWrapper svelte-ltt61h"><!></div> <!></div> <!>',1),Fu=V('<div class="sidebar svelte-ltt61h"><div class="sidebarFixed svelte-ltt61h"><!></div> <!></div>');function zu(e,t){K(t,!0);const{checkMobileSize:n}=Wn(),{sidebarClose:r}=es(),{getAppHistory:a}=ht(),{getPageUrl:o,createHandlePage:s,getStackPagesFormUrl:l}=Bt(),c=Xo(),{checkNotesInBin:u}=Ur(),d=M(()=>a().pathname),{getSelectedTags:v,addTag:g,removeTag:h}=ns();let f=M(v),_=ie(t,"getNotes",3,()=>[]),p=ie(t,"getTags",3,()=>new Map),S=null;function k(){return S||(S=Re(()=>import("./BN5l6d5V.js"),__vite__mapDeps([38,39]))),S}const E=Y=>{g(Y)},P=Y=>{h(Y)},N=()=>{if(i(f).size===0)return[...p()()?.keys()||[]];if(i(f).has("inbox"))return[];const Y=[];for(const X of _()()||[])if(X&&i(f).values().every(Q=>X.data.tags.includes(Q)))for(const Q of X.data.tags)!i(f).has(Q)&&!Y.includes(Q)&&Y.push(Q);return Y};let y=M(()=>N().filter(Y=>c.value===""||Y.toLowerCase().indexOf(c.value.toLowerCase())!==-1).sort((Y,X)=>Y==="inbox"?-1:X==="inbox"?1:Y.localeCompare(X))),m=M(n);me(()=>{i(m)&&k()});const{checkExistedDialog:b}=fr();let I=M(()=>l().length>0||b());var L=z(),O=B(L);{var R=Y=>{var X=z(),Q=B(X);Uo(Q,k,null,(ye,F)=>{const T=M(()=>i(F).default);var x=z(),H=B(x);qo(H,()=>i(T),(ee,te)=>{te(ee,{get blocked(){return i(I)},children:(le,Se)=>{var Ge=Ru(),$e=B(Ge),xe=D($e),J=D(xe);ks(J,{});var ne=j(J,2),ge=D(ne),be=M(()=>s(q.Settings));ge.__click=function(...De){i(be)?.apply(this,De)};var ae=D(ge);pe(ae,()=>({"--size":"24px"})),we(ae.lastChild,{name:"settings"});var ke=j(ae,2);et(ke,{children:(De,Je)=>{var He=Te("Settings");w(De,He)}});var Be=j(ge,2),Fe=M(()=>s(q.Sync));Be.__click=function(...De){i(Fe)?.apply(this,De)};var Oe=D(Be);pe(Oe,()=>({"--size":"24px"})),we(Oe.lastChild,{name:"sync"});var ze=j(Oe,2);et(ze,{children:(De,Je)=>{var He=Te("Sync");w(De,He)}});var Lt=j(Be,2);{var gt=De=>{var Je=Mu();Je.__click=[Lu,r,s];var He=D(Je);pe(He,()=>({"--size":"24px"})),we(He.lastChild,{name:"note"});var It=j(He,2);et(It,{children:(_t,Qt)=>{var en=Te("Notes");w(_t,en)}}),de(_t=>Ee(Je,"href",_t),[()=>o("/",{full:!0})]),w(De,Je)},Ct=De=>{var Je=z(),He=B(Je);{var It=_t=>{var Qt=Ou();Qt.__click=[Iu,r,s];var en=D(Qt);pe(en,()=>({"--size":"24px"})),we(en.lastChild,{name:"bin"});var Ot=j(en,2);et(Ot,{children:(Rt,Vr)=>{var qr=Te("Bin");w(Rt,qr)}}),de(Rt=>Ee(Qt,"href",Rt),[()=>o(q.Bin,{full:!0})]),w(_t,Qt)};W(He,_t=>{u()&&_t(It)},!0)}w(De,Je)};W(Lt,De=>{i(d)===`/${q.Bin}`?De(gt):De(Ct,!1)})}var vr=j(xe,2),Mt=D(vr);ua(Mt,{placeholder:"Search tag",get value(){return c.value},set value(De){c.value=De}});var wn=j(vr,2);Qa(wn,{get selectedTags(){return i(f)},handleSelectedTagClick:P});var hr=j($e,2);Ja(hr,{get tags(){return i(y)},handleTagClick:E,mobile:!0}),de((De,Je)=>{Ee(ge,"href",De),Ee(Be,"href",Je)},[()=>o(q.Settings),()=>o(q.Sync)]),w(le,Ge)},$$slots:{default:!0}})}),w(ye,x)}),w(Y,X)},$=Y=>{var X=Fu(),Q=D(X),ye=D(Q);Qa(ye,{get selectedTags(){return i(f)},handleSelectedTagClick:P});var F=j(Q,2);Ja(F,{get tags(){return i(y)},handleTagClick:E}),w(Y,X)};W(O,Y=>{i(m)?Y(R):Y($,!1)})}w(e,L),G()}rt(["click"]);const Hu=(e,t,n)=>{C(t,!0),C(n,!0)},Uu=(e,t,n,r)=>{t(n.note.id,!n.note.data.pinned),jr(n.note.data.pinned?"Note unpinned":"Note pinned"),C(r,!0)},ju=(e,t,n)=>{navigator.clipboard.writeText(t.note.data.url),jr("Link copied"),C(n,!0)};var Vu=V('<li class="svelte-8ve3pe"><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>Copy link</button></li>'),qu=V('<ul class="menu svelte-8ve3pe"><!> <li class="svelte-8ve3pe"><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> </button></li> <li class="svelte-8ve3pe"><button><span class="wrapperIcon svelte-8ve3pe"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></span>Delete</button></li></ul>'),Wu=V('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1);function Yu(e,t){K(t,!0);const n=(p,S=ue)=>{var k=qu(),E=D(k);{var P=$=>{var Y=Vu(),X=D(Y);X.__click=[ju,t,l];var Q=D(X);pe(Q,()=>({"--size":"22px"})),we(Q.lastChild,{name:"copy"}),de(()=>ve(X,1,fe(["button",{buttonMenuDialog:S()}]),"svelte-8ve3pe")),w($,Y)};W(E,$=>{S()&&t.note.data.url&&$(P)})}var N=j(E,2),y=D(N);y.__click=[Uu,a,t,l];var m=D(y);pe(m,()=>({"--size":"22px","--rotate":t.note.data.pinned?"180deg":"0"})),we(m.lastChild,{name:"pin"});var b=j(m),I=j(N,2),L=D(I);L.__click=[Hu,c,l];var O=D(L),R=D(O);pe(R,()=>({"--size":"18px"})),we(R.lastChild,{name:"trash"}),de(()=>{ve(y,1,fe(["button",{buttonMenuDialog:S()}]),"svelte-8ve3pe"),tr(b,` ${t.note.data.pinned?"Unpin":"Pin"}`),ve(L,1,fe(["button",{buttonMenuDialog:S()}]),"svelte-8ve3pe")}),w(p,k)},{deleteNote:r,pinNote:a,setDeleting:o}=ds();let s=ie(t,"shownMenu",15),l=U(!1),c=U(!1);const{checkMobileSize:u}=Wn();let d=M(u);const v=async()=>{o(t.note.id,!0);let p=!1;jr("Note deleted",{onCancel:()=>{p=!0,o(t.note.id,!1)},onFinish:()=>{p||r(t.note.id)}})},g=()=>{i(c)&&v(),s(!1),C(l,!1)};var h=z(),f=B(h);{var _=p=>{var S=z(),k=B(S);{var E=N=>{Aa(N,{get startClose(){return i(l)},onClosed:g,children:(y,m)=>{n(y,()=>!0)},$$slots:{default:!0}})},P=N=>{var y=Wu(),m=B(y);pe(m,()=>({"--bottom":"-90px","--right":"20px"})),Cs(m.lastChild,{get startClose(){return i(l)},get positionTop(){return t.showMenuUp},onClosed:g,children:(b,I)=>{n(b,()=>!1)},$$slots:{default:!0}}),w(N,y)};W(k,N=>{i(d)?N(E):N(P,!1)})}w(p,S)};W(f,p=>{s()&&p(_)})}w(e,h),G()}rt(["click"]);const Ku=(e,t)=>{C(t,!0)},Gu=(e,t,n)=>{navigator.clipboard.writeText(t.note.data.url),jr("Link copied"),C(n,!1)},$u=(e,t)=>{C(t,!0)},Xu=(e,t)=>{C(t,!1)},Zu=(e,t,n,r)=>{e.preventDefault(),t(`${q.EditNote}?id=${n.note.id}`),C(r,!1)};var Ju=V('<div class="iconPlaceholder svelte-1jg44o9"></div>'),Qu=V('<img loading="lazy" class="noteIcon" height="16" width="16" alt=""/>'),ed=V('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),td=V('<div class="noteIconWrapper svelte-1jg44o9"><!></div>'),nd=V('<button class="button svelte-1jg44o9"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),rd=(e,t)=>{C(t,!1)},ad=V('<!> <a target="_blank" rel="noopener noreferrer" class="button openLink svelte-1jg44o9"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a>',1),od=V('<li><!> <a class="noteLink svelte-1jg44o9" target="_blank" rel="noopener noreferrer"> </a> <div><!> <button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button></div> <!></li>');function sd(e,t){K(t,!0);const{pushStackPages:n}=Bt(),{getFaviconEnabled:r}=Ll();let a=U(!1),o=U(!1),s=U(!1),l=M(r);const{checkMobileSize:c}=Wn(),u=y=>{try{return`https://icons.duckduckgo.com/ip3/${new URL(y).host}.ico`}catch{return""}};var d=od();d.__focusin=[$u,o],d.__focusout=[Xu,o];var v=D(d);{var g=y=>{var m=td(),b=D(m);{var I=O=>{var R=z(),$=B(R);{var Y=Q=>{var ye=Ju();w(Q,ye)},X=Q=>{var ye=Qu();de(F=>Ee(ye,"src",F),[()=>u(t.note.data.url)]),ka("error",ye,()=>{C(s,!0)}),w(Q,ye)};W($,Q=>{i(s)?Q(Y):Q(X,!1)})}w(O,R)},L=O=>{var R=ed(),$=B(R);pe($,()=>({"--size":"16px"})),we($.lastChild,{name:"note"}),w(O,R)};W(b,O=>{t.note.data.url?O(I):O(L,!1)})}w(y,m)};W(v,y=>{i(l)&&y(g)})}var h=j(v,2);h.__click=[Zu,n,t,o];var f=D(h),_=j(h,2),p=D(_);{var S=y=>{var m=ad(),b=B(m);{var I=$=>{var Y=nd();Y.__click=[Gu,t,o];var X=D(Y);pe(X,()=>({"--size":"20px"})),we(X.lastChild,{name:"copy"});var Q=j(X,2);et(Q,{children:(ye,F)=>{var T=Te("copy link");w(ye,T)}}),de(()=>Ee(Y,"tabindex",t.focusHidden?-1:0)),w($,Y)};W(b,$=>{c()||$(I)})}var L=j(b,2);L.__click=[rd,o];var O=D(L);pe(O,()=>({"--size":"18px"})),we(O.lastChild,{name:"open"});var R=j(O,2);et(R,{children:($,Y)=>{var X=Te();de(()=>tr(X,t.note.data.name)),w($,X)}}),de(()=>{Ee(L,"href",t.note.data.url),Ee(L,"tabindex",t.focusHidden?-1:0)}),w(y,m)};W(p,y=>{t.note.data.url&&y(S)})}var k=j(p,2);k.__click=[Ku,a],ve(k,1,fe(["button","buttonMenu"]),"svelte-1jg44o9");var E=D(k);pe(E,()=>({"--size":"18px","--rotate":"90deg"})),we(E.lastChild,{name:"menu"});var P=j(E,2);et(P,{children:(y,m)=>{var b=Te("show menu");w(y,b)}});var N=j(_,2);Yu(N,{get note(){return t.note},get showMenuUp(){return t.showMenuUp},get shownMenu(){return i(a)},set shownMenu(y){C(a,y,!0)}}),de(y=>{ve(d,1,fe(["record",{pinned:t.note.data.pinned}]),"svelte-1jg44o9"),Ee(h,"tabindex",t.focusHidden?-1:0),Ee(h,"href",y),tr(f,t.note.data.name),ve(_,1,fe(["noteMenuWrapper",{noteMenuWrapperActive:i(o)}]),"svelte-1jg44o9"),Ee(k,"tabindex",t.focusHidden?-1:0)},[()=>`/?stackPages=${encodeURIComponent(`${q.EditNote}?id=${t.note.id}`)}`]),w(e,d),G()}rt(["focusin","focusout","click"]);var id=V('<p class="message">No notes in bin</p>'),ld=V('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Add note</span>',1),cd=V('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span style="padding-left: 6px;">Import data</span>',1),ud=V('<p class="message">No notes found</p> <div class="wrapperButtonsAdd svelte-106i4nx"><!></div> <div>or</div> <div class="wrapperButtonsAdd svelte-106i4nx"><!></div>',1),dd=V('<div class="emptyStore svelte-106i4nx"><!></div>'),fd=V('<div class="emptyMessage svelte-106i4nx">No notes found</div>'),vd=V('<div class="feed svelte-106i4nx"><ul class="svelte-106i4nx"></ul></div>'),hd=V('<div class="wrapperFeed svelte-106i4nx"><div class="wrapperContainer svelte-106i4nx"><!></div></div>');function eo(e,t){K(t,!0);let n=ie(t,"getNotes",3,()=>[]),r=ie(t,"mode",3,"notes");const{getScrollContainer:a}=Ta(),{createHandlePage:o,getPageUrl:s}=Bt(),{getSelectedTags:l}=ns(),{getFeedOrder:c}=Jo(),u=Ko();let d=54,v=U(0),g=U(0),h=U(0),f=U(0),_=[],p=U(0),S=M(a),k=null,E=null;const P=M(l);Ae(()=>{i(P),i(b),i(S)?.scrollTo(0,0)});const{enable:N}=ps(),y=()=>{N(),k||(k=requestAnimationFrame(()=>{const x=i(S)?.scrollTop||0;C(h,x,!0);const H=Math.ceil(i(v)/d);C(g,Math.floor(x/(d*H))*(d*H)),k=null}))},m=()=>{E||(E=requestAnimationFrame(()=>{C(v,window.innerHeight-180||0,!0);const x=i(S)?.scrollTop||0;C(h,x,!0);const H=Math.ceil(i(v)/d);C(g,Math.floor(x/(d*H))*(d*H)),E=null}))};me(()=>{m(),y()}),Ae(()=>(i(S)?.addEventListener("scroll",y),window.addEventListener("resize",m),()=>{i(S)?.removeEventListener("scroll",y),window.removeEventListener("resize",m)}));const b=M(c);let I=U("");Ae(()=>{i(b);const x=n()()||[];bt(()=>i(I))!==i(b)&&bt(()=>C(I,i(b),!0)),x.sort((te,le)=>{if(!te||!le)return 0;if(te.data.pinned&&!le.data.pinned)return 1;if(!te.data.pinned&&le.data.pinned)return-1;switch(i(b)){case"newest":return te.data.updatedAt<le.data.updatedAt?-1:1;case"oldest":return te.data.updatedAt>le.data.updatedAt?-1:1;case"AtoZ":return le.data.name.localeCompare(te.data.name);case"ZtoA":return te.data.name.localeCompare(le.data.name);default:return 0}});const ee=[];for(let te=x.length-1;te>=0;te--){const le=x[te];le&&(i(P).size&&i(P).values().some(Se=>!le.data.tags.includes(Se))||le.deleting||u&&!(le.data.name.toLowerCase().includes(u.value.toLowerCase())||le.data.url.toLowerCase().includes(u.value.toLowerCase())||le.data.text.toLowerCase().includes(u.value.toLowerCase()))||ee.push(le))}C(f,ee.length,!0),_=ee,C(p,Date.now(),!0)});const L=M(()=>i(f)*d);let R=M(()=>{i(p);const x=Math.ceil(i(v)/d);let H=Math.floor(i(g)/d);return H=H-Math.min(H,x),_.slice(H,H+x*3)}),$=M(()=>d*Math.ceil(i(v)/d));const Y=M(()=>i(g)-Math.min(i(g),i($)));var X=hd(),Q=D(X),ye=D(Q);{var F=x=>{Ps(x,{})},T=x=>{var H=z(),ee=B(H);{var te=Se=>{var Ge=dd(),$e=D(Ge);{var xe=ne=>{var ge=id();w(ne,ge)},J=ne=>{var ge=ud(),be=j(B(ge),2),ae=D(be);{let Fe=M(()=>s(q.NewNote)),Oe=M(()=>o(q.NewNote));$t(ae,{element:"a",get href(){return i(Fe)},get onClick(){return i(Oe)},children:(ze,Lt)=>{var gt=ld(),Ct=B(gt);pe(Ct,()=>({"--size":"18px","--color":"#b0b0b0"})),we(Ct.lastChild,{name:"plus"}),w(ze,gt)},$$slots:{default:!0}})}var ke=j(be,4),Be=D(ke);{let Fe=M(()=>s(q.ImportData)),Oe=M(()=>o(q.ImportData));$t(Be,{element:"a",get href(){return i(Fe)},get onClick(){return i(Oe)},children:(ze,Lt)=>{var gt=cd(),Ct=B(gt);pe(Ct,()=>({"--size":"18px","--color":"#b0b0b0"})),we(Ct.lastChild,{name:"import"}),w(ze,gt)},$$slots:{default:!0}})}w(ne,ge)};W($e,ne=>{r()==="bin"?ne(xe):ne(J,!1)})}w(Se,Ge)},le=Se=>{var Ge=z(),$e=B(Ge);{var xe=ne=>{var ge=fd();w(ne,ge)},J=ne=>{var ge=vd(),be=D(ge);Hr(be,23,()=>i(R),ae=>ae.id,(ae,ke,Be)=>{{let Fe=M(()=>i(Be)*d<i(h)-i(Y)-d/2||i(Be)*d>i(h)-i(Y)+Math.floor(i(v)/d)*d),Oe=M(()=>(i(Be)+3)*d<i(h)-i(Y)-d/2||(i(Be)+3)*d>i(h)-i(Y)+Math.floor(i(v)/d)*d);sd(ae,{get focusHidden(){return i(Fe)},get showMenuUp(){return i(Oe)},get note(){return i(ke)}})}}),de(ae=>{nr(ge,`min-height: ${ae??""}px`),nr(be,`transform: translateY(${i(Y)??""}px);`)},[()=>Math.max((i(L)>i(v),i(L)),0)]),w(ne,ge)};W($e,ne=>{i(R).length===0?ne(xe):ne(J,!1)},!0)}w(Se,Ge)};W(ee,Se=>{(n()()||[]).length===0?Se(te):Se(le,!1)},!0)}w(x,H)};W(ye,x=>{t.readyNotes?x(T,!1):x(F)})}w(e,X),G()}var gd=V('<!> <div class="content svelte-k57gez"><!></div>',1);function _d(e,t){K(t,!0);const{getAppHistory:n}=ht(),{getGetMapTags:r,getGetNotes:a,isReadyNotes:o}=ds(),{getGetMapTagsBin:s,getGetNotesBin:l}=Ur(),c=M(o),u=M(l),d=M(r),v=M(a),g=M(s),h=M(()=>n().pathname);var f=gd(),_=B(f);{let P=M(()=>i(h)==="/bin"?i(u):i(v)),N=M(()=>i(h)==="/bin"?i(g):i(d));zu(_,{get getNotes(){return i(P)},get getTags(){return i(N)}})}var p=j(_,2),S=D(p);{var k=P=>{eo(P,{mode:"bin",get getNotes(){return i(u)},readyNotes:!0})},E=P=>{eo(P,{get getNotes(){return i(v)},get readyNotes(){return i(c)}})};W(S,P=>{i(h)==="/bin"?P(k):P(E,!1)})}w(e,f),G()}const to=(e,t=ue,n=ue,r)=>{let a=Or(()=>qs(r?.(),!1));var o=z(),s=B(o);{var l=u=>{Le(u,{children:(d,v)=>{Ue(d,{get hidden(){return i(a)},get page(){return q.Settings}})},$$slots:{default:!0}})},c=u=>{var d=z(),v=B(d);{var g=f=>{Le(f,{children:(_,p)=>{Ue(_,{get hidden(){return i(a)},get page(){return q.NewNote}})},$$slots:{default:!0}})},h=f=>{var _=z(),p=B(_);{var S=E=>{Le(E,{children:(P,N)=>{Ue(P,{get params(){return n()},get hidden(){return i(a)},get page(){return q.EditNote}})},$$slots:{default:!0}})},k=E=>{var P=z(),N=B(P);{var y=b=>{Le(b,{children:(I,L)=>{Ue(I,{get hidden(){return i(a)},get page(){return q.ImportData}})},$$slots:{default:!0}})},m=b=>{var I=z(),L=B(I);{var O=$=>{Le($,{children:(Y,X)=>{Ue(Y,{get hidden(){return i(a)},get page(){return q.ExportData}})},$$slots:{default:!0}})},R=$=>{var Y=z(),X=B(Y);{var Q=F=>{Le(F,{children:(T,x)=>{Ue(T,{get hidden(){return i(a)},get page(){return q.ClearStore}})},$$slots:{default:!0}})},ye=F=>{var T=z(),x=B(T);{var H=te=>{Le(te,{children:(le,Se)=>{wu(le,{})},$$slots:{default:!0}})},ee=te=>{var le=z(),Se=B(le);{var Ge=xe=>{Le(xe,{children:(J,ne)=>{Ue(J,{get hidden(){return i(a)},get page(){return q.Auth}})},$$slots:{default:!0}})},$e=xe=>{var J=z(),ne=B(J);{var ge=ae=>{Le(ae,{children:(ke,Be)=>{Ue(ke,{get hidden(){return i(a)},get page(){return q.Signup}})},$$slots:{default:!0}})},be=ae=>{var ke=z(),Be=B(ke);{var Fe=ze=>{Le(ze,{children:(Lt,gt)=>{Ue(Lt,{get hidden(){return i(a)},get page(){return q.Signin}})},$$slots:{default:!0}})},Oe=ze=>{var Lt=z(),gt=B(Lt);{var Ct=Mt=>{Le(Mt,{children:(wn,hr)=>{Ue(wn,{get hidden(){return i(a)},get page(){return q.AccessKeys}})},$$slots:{default:!0}})},vr=Mt=>{var wn=z(),hr=B(wn);{var De=He=>{Le(He,{children:(It,_t)=>{Ue(It,{get hidden(){return i(a)},get page(){return q.Account}})},$$slots:{default:!0}})},Je=He=>{var It=z(),_t=B(It);{var Qt=Ot=>{Le(Ot,{children:(Rt,Vr)=>{Ue(Rt,{get hidden(){return i(a)},get page(){return q.ConfirmAccessKey}})},$$slots:{default:!0}})},en=Ot=>{var Rt=z(),Vr=B(Rt);{var qr=yn=>{Le(yn,{children:(gr,Ba)=>{Ue(gr,{get hidden(){return i(a)},get page(){return q.Exit}})},$$slots:{default:!0}})},Ds=yn=>{var gr=z(),Ba=B(gr);{var Ts=Sn=>{Le(Sn,{children:(_r,La)=>{Ue(_r,{get hidden(){return i(a)},get page(){return q.Sync}})},$$slots:{default:!0}})},Ns=Sn=>{var _r=z(),La=B(_r);{var As=bn=>{Le(bn,{children:(pr,Ma)=>{Ue(pr,{get hidden(){return i(a)},get page(){return q.Subscription}})},$$slots:{default:!0}})},Bs=bn=>{var pr=z(),Ma=B(pr);{var Ls=kn=>{Le(kn,{children:(Wr,Is)=>{Ue(Wr,{get hidden(){return i(a)},get page(){return q.About}})},$$slots:{default:!0}})},Ms=kn=>{Le(kn,{children:(Wr,Is)=>{bu(Wr,{})},$$slots:{default:!0}})};W(Ma,kn=>{t()===q.About?kn(Ls):kn(Ms,!1)},!0)}w(bn,pr)};W(La,bn=>{t()===q.Subscription?bn(As):bn(Bs,!1)},!0)}w(Sn,_r)};W(Ba,Sn=>{t()===q.Sync?Sn(Ts):Sn(Ns,!1)},!0)}w(yn,gr)};W(Vr,yn=>{t()===q.Exit?yn(qr):yn(Ds,!1)},!0)}w(Ot,Rt)};W(_t,Ot=>{t()===q.ConfirmAccessKey?Ot(Qt):Ot(en,!1)},!0)}w(He,It)};W(hr,He=>{t()===q.Account?He(De):He(Je,!1)},!0)}w(Mt,wn)};W(gt,Mt=>{t()===q.AccessKeys?Mt(Ct):Mt(vr,!1)},!0)}w(ze,Lt)};W(Be,ze=>{t()===q.Signin?ze(Fe):ze(Oe,!1)},!0)}w(ae,ke)};W(ne,ae=>{t()===q.Signup?ae(ge):ae(be,!1)},!0)}w(xe,J)};W(Se,xe=>{t()===q.Auth?xe(Ge):xe($e,!1)},!0)}w(te,le)};W(x,te=>{t()===q.Start?te(H):te(ee,!1)},!0)}w(F,T)};W(X,F=>{t()===q.ClearStore?F(Q):F(ye,!1)},!0)}w($,Y)};W(L,$=>{t()===q.ExportData?$(O):$(R,!1)},!0)}w(b,I)};W(N,b=>{t()===q.ImportData?b(y):b(m,!1)},!0)}w(E,P)};W(p,E=>{t()===q.EditNote?E(S):E(k,!1)},!0)}w(f,_)};W(v,f=>{t()===q.NewNote?f(g):f(h,!1)},!0)}w(u,d)};W(s,u=>{t()===q.Settings?u(l):u(c,!1)})}w(e,o)};var pd=V("<!> <!>",1);function md(e,t){K(t,!0);const{getStackPages:n,popStackPages:r}=Bt(),{getAccount:a}=Da();let o=M(n),s=M(()=>a()!==void 0);const{checkMobileSize:l}=Wn();var c=pd(),u=B(c);{var d=f=>{_d(f,{})};W(u,f=>{i(s)&&f(d)})}var v=j(u,2);{var g=f=>{var _=z(),p=B(_);Hr(p,19,()=>i(o),S=>S.page,(S,k,E)=>{const P=M(()=>i(k).page.split("?")[1]),N=M(()=>i(k).page.split("?")[0]);{let y=M(()=>i(E)!==i(o).length-1&&!!i(o)[i(E)+1]?.shown),m=M(()=>i(E)===0);Xa(S,{get shown(){return i(k).shown},get hidden(){return i(y)},get isLastDialog(){return i(m)},children:(b,I)=>{{let L=M(()=>i(E)!==i(o).length-1&&!!i(o)[i(E)+1]?.shown);to(b,()=>i(N),()=>i(P),()=>i(L))}},$$slots:{default:!0}})}}),w(f,_)},h=f=>{var _=z(),p=B(_);{var S=k=>{const E=M(()=>i(o)[i(o).length-1].page.split("?")[1]),P=M(()=>i(o)[i(o).length-1].page.split("?")[0]);{let N=M(()=>i(o).length===1);Xa(k,{onBack:()=>r(),get shown(){return i(o)[i(o).length-1].shown},hidden:!1,get isLastDialog(){return i(N)},children:(y,m)=>{to(y,()=>i(P),()=>i(E))},$$slots:{default:!0}})}};W(p,k=>{i(o).length>0&&k(S)},!0)}w(f,_)};W(v,f=>{l()?f(g):f(h,!1)})}w(e,c),G()}function wd(e,t){K(t,!1);let n=0;me(()=>{document.addEventListener("touchstart",r=>{n=r.touches[0].clientX},{passive:!1}),document.addEventListener("touchmove",r=>{const o=r.touches[0].clientX-n;(n<50&&o>0||n>window.innerWidth-50&&o<0)&&r.preventDefault()},{passive:!1}),document.addEventListener("touchend",()=>{n=0}),document.addEventListener("touchcancel",()=>{n=0})}),Ca(),G()}const yd=(e,t)=>{i(t)&&i(t).scrollTo({top:0})};var Sd=V('<div class="wrapperButtonTop svelte-1n46o8q"><button class="buttonTop svelte-1n46o8q"><!> <span class="icon svelte-1n46o8q"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></span></button></div>'),bd=V('<!> <!> <main><div class="wrapperHeader svelte-1n46o8q"><!></div> <div class="container svelte-1n46o8q"><!></div></main> <!>',1);function kd(e,t){K(t,!0);const{setScrollContainer:n}=Ta(),{getAccount:r}=Da(),{getStackPagesFormUrl:a}=Bt(),o=qn();me(async()=>{await new Promise(b=>setTimeout(b,100)),await Ro(),o.working=!0});let s=U(!1),l=0,c=M(()=>a().length>0),u=M(r),d=U(null);Ae(()=>{n(i(d))});const v=()=>{if(i(d)){const b=i(d).scrollTop||0;b===0?C(s,!1):!i(s)&&l>b?C(s,!0):i(s)&&l+50<b&&C(s,!1),l=b}},g=()=>{v()};Ae(()=>(i(d)?.addEventListener("scroll",g),window.addEventListener("resize",g),()=>{i(d)?.removeEventListener("scroll",g),window.removeEventListener("resize",g)}));var h=bd(),f=B(h);wd(f,{});var _=j(f,2);Pc(_,{});var p=j(_,2),S=D(p),k=D(S);{var E=b=>{Qc(b,{})};W(k,b=>{i(u)!==void 0&&b(E)})}var P=j(S,2),N=D(P);md(N,{}),kt(p,b=>C(d,b),()=>i(d));var y=j(p,2);{var m=b=>{var I=Sd(),L=D(I);L.__click=[yd,d];var O=D(L);et(O,{children:(Y,X)=>{var Q=Te("top");w(Y,Q)}});var R=j(O,2),$=D(R);pe($,()=>({"--rotate":"90deg","--size":"28px"})),we($.lastChild,{name:"back"}),w(b,I)};W(y,b=>{i(s)&&b(m)})}de(()=>{nr(p,`--swiping-ratio: ${o.swipingRatio}; --transition-timing-default: ${o.duration}s;`),ve(p,1,fe(["main",{isAnimationOn:o.working&&!o.isSwiping,open:i(c)}]),"svelte-1n46o8q")}),w(e,h),G()}rt(["click"]);function Ed(e){Sc(e,{children:(t,n)=>{kd(t,{})}})}window.addEventListener("unhandledrejection",e=>{alert("Error: "+e.reason.message)});window.isUnsupportedBrowser||rl(Ed,{target:document.getElementById("app")});export{qn as $,Da as A,$t as B,ds as C,ka as D,ql as E,Ca as F,xd as G,pu as H,we as I,ie as J,ve as K,Ps as L,fe as M,Dd as N,Td as O,q as P,nr as Q,Kl as R,Wn as S,kt as T,Dl as U,et as V,xs as W,hl as X,Ll as Y,pc as Z,es as _,pe as a,ps as a0,se as a1,Es as a2,Ee as b,D as c,w as d,Hr as e,V as f,i as g,Bt as h,fr as i,U as j,Me as k,C as l,W as m,G as n,me as o,K as p,z as q,B as r,j as s,de as t,Ae as u,rt as v,Te as w,tr as x,M as y,ht as z};
