const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["a/DpoYfRtx.js","a/BAW-HnOs.css","a/DEvy0Gvj.js","a/9q_jSmK4.js","a/BEGDcNQV.js","a/CjhdjYO4.css","a/D_cAHKpr.js","a/D5mnDQ30.css","a/Ce5P0Y_4.js","a/DgPIJwnn.css","a/1xIvmOq3.js","a/B_UsPGEu.css","a/vKJ9tOsO.js","a/Cpa8lgv9.js","a/DDAVkURJ.js","a/j0KFa_-O.css","a/hu7yjlv8.css","a/pQTflqHU.js","a/Dm91YsYD.js","a/D9yh0xnD.js","a/EZ_l8VDb.css","a/B_Zcg-eh.css","a/HOTUjnfJ.css","a/QTNigSHR.js","a/Bs6Vrlio.css","a/DUllpDvw.js","a/GjzE6XPF.js","a/DWUfwQ_G.css","a/B8neLUb6.css","a/CydoLJqW.js","a/Dz9AXCrV.css","a/CiiUxlZu.js","a/BGA9MGvU.js","a/BTtUkV_W.css","a/wh5UaPLm.js","a/DaxC3cdO.css","a/doHZmXOy.js","a/Bib31qW-.css","a/DNdBBv3I.js","a/Br15UghP.css","a/BnwJRbJL.js","a/CTzb1Nvm.css","a/lL-ihTp5.js","a/1JBO3KHP.css"])))=>i.map(i=>d[i]);
var Bs=Object.defineProperty;var La=t=>{throw TypeError(t)};var Is=(t,e,n)=>e in t?Bs(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var _t=(t,e,n)=>Is(t,typeof e!="symbol"?e+"":e,n),qr=(t,e,n)=>e.has(t)||La("Cannot "+n);var I=(t,e,n)=>(qr(t,e,"read from private field"),n?n.call(t):e.get(t)),_e=(t,e,n)=>e.has(t)?La("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ae=(t,e,n,r)=>(qr(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Oe=(t,e,n)=>(qr(t,e,"access private method"),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();const eo=!1;var fa=Array.isArray,Ms=Array.prototype.indexOf,va=Array.from,Jr=Object.defineProperty,Tn=Object.getOwnPropertyDescriptor,to=Object.getOwnPropertyDescriptors,Os=Object.prototype,Rs=Array.prototype,ha=Object.getPrototypeOf,Ba=Object.isExtensible;const we=()=>{};function Fs(t){return typeof t?.then=="function"}function zs(t){return t()}function Qr(t){for(var e=0;e<t.length;e++)t[e]()}function no(){var t,e,n=new Promise((r,o)=>{t=r,e=o});return{promise:n,resolve:t,reject:e}}function Hs(t,e,n=!1){return t===void 0?n?e():e:t}const $e=2,ga=4,Nr=8,wn=16,Ut=32,yn=64,_a=128,ft=256,Pr=512,We=1024,ot=2048,en=4096,yt=8192,bn=16384,pa=32768,Vn=65536,Ia=1<<17,js=1<<18,qn=1<<19,ro=1<<20,$r=1<<21,Lr=1<<22,hn=1<<23,gn=Symbol("$state"),Us=Symbol("legacy props"),Vs=Symbol(""),Dn=new class extends Error{constructor(){super(...arguments);_t(this,"name","StaleReactionError");_t(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function ao(t){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function qs(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Ws(t){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Ys(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Ks(t){throw new Error("https://svelte.dev/e/effect_orphan")}function Gs(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Zs(t){throw new Error("https://svelte.dev/e/props_invalid_value")}function Xs(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Js(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Qs(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function $s(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const Br=1,Ir=2,oo=4,ei=8,ti=16,ni=1,ri=2,ai=4,oi=8,si=16,ii=1,li=2,Ne=Symbol(),ci="http://www.w3.org/1999/xhtml";let ui=!1;function so(t){return t===this.v}function di(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function io(t){return!di(t,this.v)}let Wn=!1,fi=!1;function vi(){Wn=!0}let Se=null;function Qt(t){Se=t}function Be(t){return lo().get(t)}function Ie(t,e){return lo().set(t,e),e}function X(t,e=!1,n){Se={p:Se,c:null,e:null,s:t,x:null,l:Wn&&!e?{s:null,u:null,$:[]}:null}}function J(t){var e=Se,n=e.e;if(n!==null){e.e=null;for(var r of n)Eo(r)}return t!==void 0&&(e.x=t),Se=e.p,t??{}}function Yn(){return!Wn||Se!==null&&Se.l===null}function lo(t){return Se===null&&ao(),Se.c??(Se.c=new Map(hi(Se)||void 0))}function hi(t){let e=t.p;for(;e!==null;){const n=e.c;if(n!==null)return n;e=e.p}return null}let ln=[];function co(){var t=ln;ln=[],Qr(t)}function $t(t){if(ln.length===0&&!Nn){var e=ln;queueMicrotask(()=>{e===ln&&co()})}ln.push(t)}function gi(){for(;ln.length>0;)co()}const _i=new WeakMap;function uo(t){var e=de;if(e===null)return ce.f|=hn,t;if((e.f&pa)===0){if((e.f&_a)===0)throw!e.parent&&t instanceof Error&&fo(t),t;e.b.error(t)}else zn(t,e)}function zn(t,e){for(;e!==null;){if((e.f&_a)!==0)try{e.b.error(t);return}catch(n){t=n}e=e.parent}throw t instanceof Error&&fo(t),t}function fo(t){const e=_i.get(t);e&&(Jr(t,"message",{value:e.message}),Jr(t,"stack",{value:e.stack}))}const pr=new Set;let Ce=null,br=null,mt=null,ea=new Set,Nt=[],Mr=null,ta=!1,Nn=!1;var In,Mn,cn,lr,On,Rn,un,Fn,cr,ur,vt,na,Sr,ra;const Ar=class Ar{constructor(){_e(this,vt);_t(this,"current",new Map);_e(this,In,new Map);_e(this,Mn,new Set);_e(this,cn,0);_e(this,lr,null);_e(this,On,[]);_e(this,Rn,[]);_e(this,un,[]);_e(this,Fn,[]);_e(this,cr,[]);_e(this,ur,[]);_t(this,"skipped_effects",new Set)}process(e){Nt=[],br=null,this.apply();for(const s of e)Oe(this,vt,na).call(this,s);if(I(this,cn)===0){var n=mt;Oe(this,vt,ra).call(this);var r=I(this,Rn),o=I(this,un);ae(this,Rn,[]),ae(this,un,[]),ae(this,Fn,[]),br=this,Ce=null,mt=n,Ma(r),Ma(o),br=null,I(this,lr)?.resolve()}else Oe(this,vt,Sr).call(this,I(this,Rn)),Oe(this,vt,Sr).call(this,I(this,un)),Oe(this,vt,Sr).call(this,I(this,Fn));mt=null;for(const s of I(this,On))sr(s);ae(this,On,[])}capture(e,n){I(this,In).has(e)||I(this,In).set(e,n),this.current.set(e,e.v),mt?.set(e,e.v)}activate(){Ce=this}deactivate(){Ce=null,mt=null}flush(){if(Nt.length>0){if(this.activate(),ho(),Ce!==null&&Ce!==this)return}else I(this,cn)===0&&Oe(this,vt,ra).call(this);this.deactivate();for(const e of ea)if(ea.delete(e),e(),Ce!==null)break}increment(){ae(this,cn,I(this,cn)+1)}decrement(){ae(this,cn,I(this,cn)-1);for(const e of I(this,cr))Je(e,ot),mn(e);for(const e of I(this,ur))Je(e,en),mn(e);this.flush()}add_callback(e){I(this,Mn).add(e)}settled(){return(I(this,lr)??ae(this,lr,no())).promise}static ensure(){if(Ce===null){const e=Ce=new Ar;pr.add(Ce),Nn||Ar.enqueue(()=>{Ce===e&&e.flush()})}return Ce}static enqueue(e){$t(e)}apply(){}};In=new WeakMap,Mn=new WeakMap,cn=new WeakMap,lr=new WeakMap,On=new WeakMap,Rn=new WeakMap,un=new WeakMap,Fn=new WeakMap,cr=new WeakMap,ur=new WeakMap,vt=new WeakSet,na=function(e){e.f^=We;for(var n=e.first;n!==null;){var r=n.f,o=(r&(Ut|yn))!==0,s=o&&(r&We)!==0,i=s||(r&yt)!==0||this.skipped_effects.has(n);if(!i&&n.fn!==null){o?n.f^=We:(r&ga)!==0?I(this,un).push(n):(r&We)===0&&((r&Lr)!==0&&n.b?.is_pending()?I(this,On).push(n):zr(n)&&((n.f&wn)!==0&&I(this,Fn).push(n),sr(n)));var l=n.first;if(l!==null){n=l;continue}}var c=n.parent;for(n=n.next;n===null&&c!==null;)n=c.next,c=c.parent}},Sr=function(e){for(const n of e)((n.f&ot)!==0?I(this,cr):I(this,ur)).push(n),Je(n,We);e.length=0},ra=function(){var e;for(const n of I(this,Mn))n();if(I(this,Mn).clear(),pr.size>1){I(this,In).clear();let n=!0;for(const r of pr){if(r===this){n=!1;continue}const o=[];for(const[i,l]of this.current){if(r.current.has(i))if(n&&l!==r.current.get(i))r.current.set(i,l);else continue;o.push(i)}if(o.length===0)continue;const s=[...r.current.keys()].filter(i=>!this.current.has(i));if(s.length>0){for(const i of o)go(i,s);if(Nt.length>0){Ce=r,r.apply();for(const i of Nt)Oe(e=r,vt,na).call(e,i);Nt=[],r.deactivate()}}}Ce=null}pr.delete(this)};let Rt=Ar;function vo(t){var e=Nn;Nn=!0;try{for(var n;;){if(gi(),Nt.length===0&&(Ce?.flush(),Nt.length===0))return Mr=null,n;ho()}}finally{Nn=e}}function ho(){var t=Bn;ta=!0;try{var e=0;for(Fa(!0);Nt.length>0;){var n=Rt.ensure();if(e++>1e3){var r,o;pi()}n.process(Nt),Xt.clear()}}finally{ta=!1,Fa(t),Mr=null}}function pi(){try{Gs()}catch(t){zn(t,Mr)}}let on=null;function Ma(t){var e=t.length;if(e!==0){for(var n=0;n<e;){var r=t[n++];if((r.f&(bn|yt))===0&&zr(r)&&(on=[],sr(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?Ao(r):r.fn=null),on?.length>0)){Xt.clear();for(const o of on)sr(o);on=[]}}on=null}}function go(t,e){if(t.reactions!==null)for(const n of t.reactions){const r=n.f;(r&$e)!==0?go(n,e):(r&(Lr|wn))!==0&&_o(n,e)&&(Je(n,ot),mn(n))}}function _o(t,e){if(t.deps!==null){for(const n of t.deps)if(e.includes(n)||(n.f&$e)!==0&&_o(n,e))return!0}return!1}function mn(t){for(var e=Mr=t;e.parent!==null;){e=e.parent;var n=e.f;if(ta&&e===de&&(n&wn)!==0)return;if((n&(yn|Ut))!==0){if((n&We)===0)return;e.f^=We}}Nt.push(e)}function mi(t){let e=0,n=jt(0),r;return()=>{Ii()&&(a(n),Fr(()=>(e===0&&(r=gt(()=>t(()=>rr(n)))),e+=1,()=>{$t(()=>{e-=1,e===0&&(r?.(),r=void 0,rr(n))})})))}}var wi=Vn|qn|_a;function yi(t,e,n){new bi(t,e,n)}var pt,ut,da,At,dn,Dt,dt,et,Tt,Yt,fn,Kt,vn,Gt,Dr,Tr,Qe,Si,ki,kr,Cr,aa;class bi{constructor(e,n,r){_e(this,Qe);_t(this,"parent");_e(this,pt,!1);_e(this,ut);_e(this,da,null);_e(this,At);_e(this,dn);_e(this,Dt);_e(this,dt,null);_e(this,et,null);_e(this,Tt,null);_e(this,Yt,null);_e(this,fn,0);_e(this,Kt,0);_e(this,vn,!1);_e(this,Gt,null);_e(this,Dr,()=>{I(this,Gt)&&Ft(I(this,Gt),I(this,fn))});_e(this,Tr,mi(()=>(ae(this,Gt,jt(I(this,fn))),()=>{ae(this,Gt,null)})));ae(this,ut,e),ae(this,At,n),ae(this,dn,r),this.parent=de.b,ae(this,pt,!!I(this,At).pending),ae(this,Dt,Kn(()=>{de.b=this;{try{ae(this,dt,qe(()=>r(I(this,ut))))}catch(o){this.error(o)}I(this,Kt)>0?Oe(this,Qe,Cr).call(this):ae(this,pt,!1)}},wi))}is_pending(){return I(this,pt)||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!I(this,At).pending}update_pending_count(e){Oe(this,Qe,aa).call(this,e),ae(this,fn,I(this,fn)+e),ea.add(I(this,Dr))}get_effect_pending(){return I(this,Tr).call(this),a(I(this,Gt))}error(e){var n=I(this,At).onerror;let r=I(this,At).failed;if(I(this,vn)||!n&&!r)throw e;I(this,dt)&&(at(I(this,dt)),ae(this,dt,null)),I(this,et)&&(at(I(this,et)),ae(this,et,null)),I(this,Tt)&&(at(I(this,Tt)),ae(this,Tt,null));var o=!1,s=!1;const i=()=>{if(o){return}o=!0,s&&$s(),Rt.ensure(),ae(this,fn,0),I(this,Tt)!==null&&Lt(I(this,Tt),()=>{ae(this,Tt,null)}),ae(this,pt,this.has_pending_snippet()),ae(this,dt,Oe(this,Qe,kr).call(this,()=>(ae(this,vn,!1),qe(()=>I(this,dn).call(this,I(this,ut)))))),I(this,Kt)>0?Oe(this,Qe,Cr).call(this):ae(this,pt,!1)};var l=ce;try{Ye(null),s=!0,n?.(e,i),s=!1}catch(c){zn(c,I(this,Dt)&&I(this,Dt).parent)}finally{Ye(l)}r&&$t(()=>{ae(this,Tt,Oe(this,Qe,kr).call(this,()=>{ae(this,vn,!0);try{return qe(()=>{r(I(this,ut),()=>e,()=>i)})}catch(c){return zn(c,I(this,Dt).parent),null}finally{ae(this,vn,!1)}}))})}}pt=new WeakMap,ut=new WeakMap,da=new WeakMap,At=new WeakMap,dn=new WeakMap,Dt=new WeakMap,dt=new WeakMap,et=new WeakMap,Tt=new WeakMap,Yt=new WeakMap,fn=new WeakMap,Kt=new WeakMap,vn=new WeakMap,Gt=new WeakMap,Dr=new WeakMap,Tr=new WeakMap,Qe=new WeakSet,Si=function(){try{ae(this,dt,qe(()=>I(this,dn).call(this,I(this,ut))))}catch(e){this.error(e)}ae(this,pt,!1)},ki=function(){const e=I(this,At).pending;e&&(ae(this,et,qe(()=>e(I(this,ut)))),Rt.enqueue(()=>{ae(this,dt,Oe(this,Qe,kr).call(this,()=>(Rt.ensure(),qe(()=>I(this,dn).call(this,I(this,ut)))))),I(this,Kt)>0?Oe(this,Qe,Cr).call(this):(Lt(I(this,et),()=>{ae(this,et,null)}),ae(this,pt,!1))}))},kr=function(e){var n=de,r=ce,o=Se;ht(I(this,Dt)),Ye(I(this,Dt)),Qt(I(this,Dt).ctx);try{return e()}catch(s){return uo(s),null}finally{ht(n),Ye(r),Qt(o)}},Cr=function(){const e=I(this,At).pending;I(this,dt)!==null&&(ae(this,Yt,document.createDocumentFragment()),Ci(I(this,dt),I(this,Yt))),I(this,et)===null&&ae(this,et,qe(()=>e(I(this,ut))))},aa=function(e){var n;if(!this.has_pending_snippet()){this.parent&&Oe(n=this.parent,Qe,aa).call(n,e);return}ae(this,Kt,I(this,Kt)+e),I(this,Kt)===0&&(ae(this,pt,!1),I(this,et)&&Lt(I(this,et),()=>{ae(this,et,null)}),I(this,Yt)&&(I(this,ut).before(I(this,Yt)),ae(this,Yt,null)),$t(()=>{Rt.ensure().flush()}))};function Ci(t,e){for(var n=t.nodes_start,r=t.nodes_end;n!==null;){var o=n===r?null:fr(n);e.append(n),n=o}}function Ei(t,e,n){const r=Yn()?dr:Or;if(e.length===0){n(t.map(r));return}var o=Ce,s=de,i=Pi();Promise.all(e.map(l=>xi(l))).then(l=>{i();try{n([...t.map(r),...l])}catch(c){(s.f&bn)===0&&zn(c,s)}o?.deactivate(),oa()}).catch(l=>{zn(l,s)})}function Pi(){var t=de,e=ce,n=Se,r=Ce;return function(){ht(t),Ye(e),Qt(n),r?.activate()}}function oa(){ht(null),Ye(null),Qt(null)}function dr(t){var e=$e|ot,n=ce!==null&&(ce.f&$e)!==0?ce:null;return de===null||n!==null&&(n.f&ft)!==0?e|=ft:de.f|=qn,{ctx:Se,deps:null,effects:null,equals:so,f:e,fn:t,reactions:null,rv:0,v:Ne,wv:0,parent:n??de,ac:null}}function xi(t,e){let n=de;n===null&&qs();var r=n.b,o=void 0,s=jt(Ne),i=!ce,l=new Map;return Fi(()=>{var c=no();o=c.promise;try{Promise.resolve(t()).then(c.resolve,c.reject).then(oa)}catch(h){c.reject(h),oa()}var u=Ce,d=r.is_pending();i&&(r.update_pending_count(1),d||(u.increment(),l.get(u)?.reject(Dn),l.delete(u),l.set(u,c)));const f=(h,g=void 0)=>{if(d||u.activate(),g)g!==Dn&&(s.f|=hn,Ft(s,g));else{(s.f&hn)!==0&&(s.f^=hn),Ft(s,h);for(const[v,_]of l){if(l.delete(v),v===u)break;_.reject(Dn)}}i&&(r.update_pending_count(-1),d||u.decrement())};c.promise.then(f,h=>f(null,h||"unknown"))}),Co(()=>{for(const c of l.values())c.reject(Dn)}),new Promise(c=>{function u(d){function f(){d===o?c(s):u(o)}d.then(f,f)}u(o)})}function O(t){const e=dr(t);return No(e),e}function Or(t){const e=dr(t);return e.equals=io,e}function po(t){var e=t.effects;if(e!==null){t.effects=null;for(var n=0;n<e.length;n+=1)at(e[n])}}function Ai(t){for(var e=t.parent;e!==null;){if((e.f&$e)===0)return e;e=e.parent}return null}function ma(t){var e,n=de;ht(Ai(t));try{po(t),e=Mo(t)}finally{ht(n)}return e}function mo(t){var e=ma(t);if(t.equals(e)||(t.v=e,t.wv=Bo()),!kn)if(mt!==null)mt.set(t,t.v);else{var n=(Zt||(t.f&ft)!==0)&&t.deps!==null?en:We;Je(t,n)}}const Xt=new Map;function jt(t,e){var n={f:0,v:t,reactions:null,equals:so,rv:0,wv:0};return n}function z(t,e){const n=jt(t);return No(n),n}function sa(t,e=!1,n=!0){var o;const r=jt(t);return e||(r.equals=io),Wn&&n&&Se!==null&&Se.l!==null&&((o=Se.l).s??(o.s=[])).push(r),r}function m(t,e,n=!1){ce!==null&&(!wt||(ce.f&Ia)!==0)&&Yn()&&(ce.f&($e|wn|Lr|Ia))!==0&&!zt?.includes(t)&&Qs();let r=n?Le(e):e;return Ft(t,r)}function Ft(t,e){if(!t.equals(e)){var n=t.v;kn?Xt.set(t,e):Xt.set(t,n),t.v=e;var r=Rt.ensure();r.capture(t,n),(t.f&$e)!==0&&((t.f&ot)!==0&&ma(t),Je(t,(t.f&ft)===0?We:en)),t.wv=Bo(),wo(t,ot),Yn()&&de!==null&&(de.f&We)!==0&&(de.f&(Ut|yn))===0&&(ct===null?ji([t]):ct.push(t))}return e}function rr(t){m(t,t.v+1)}function wo(t,e){var n=t.reactions;if(n!==null)for(var r=Yn(),o=n.length,s=0;s<o;s++){var i=n[s],l=i.f;if(!(!r&&i===de)){var c=(l&ot)===0;c&&Je(i,e),(l&$e)!==0?wo(i,en):c&&((l&wn)!==0&&on!==null&&on.push(i),mn(i))}}}function Le(t){if(typeof t!="object"||t===null||gn in t)return t;const e=ha(t);if(e!==Os&&e!==Rs)return t;var n=new Map,r=fa(t),o=z(0),s=_n,i=l=>{if(_n===s)return l();var c=ce,u=_n;Ye(null),Ha(s);var d=l();return Ye(c),Ha(u),d};return r&&n.set("length",z(t.length)),new Proxy(t,{defineProperty(l,c,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&Xs();var d=n.get(c);return d===void 0?d=i(()=>{var f=z(u.value);return n.set(c,f),f}):m(d,u.value,!0),!0},deleteProperty(l,c){var u=n.get(c);if(u===void 0){if(c in l){const d=i(()=>z(Ne));n.set(c,d),rr(o)}}else m(u,Ne),rr(o);return!0},get(l,c,u){if(c===gn)return t;var d=n.get(c),f=c in l;if(d===void 0&&(!f||Tn(l,c)?.writable)&&(d=i(()=>{var g=Le(f?l[c]:Ne),v=z(g);return v}),n.set(c,d)),d!==void 0){var h=a(d);return h===Ne?void 0:h}return Reflect.get(l,c,u)},getOwnPropertyDescriptor(l,c){var u=Reflect.getOwnPropertyDescriptor(l,c);if(u&&"value"in u){var d=n.get(c);d&&(u.value=a(d))}else if(u===void 0){var f=n.get(c),h=f?.v;if(f!==void 0&&h!==Ne)return{enumerable:!0,configurable:!0,value:h,writable:!0}}return u},has(l,c){if(c===gn)return!0;var u=n.get(c),d=u!==void 0&&u.v!==Ne||Reflect.has(l,c);if(u!==void 0||de!==null&&(!d||Tn(l,c)?.writable)){u===void 0&&(u=i(()=>{var h=d?Le(l[c]):Ne,g=z(h);return g}),n.set(c,u));var f=a(u);if(f===Ne)return!1}return d},set(l,c,u,d){var f=n.get(c),h=c in l;if(r&&c==="length")for(var g=u;g<f.v;g+=1){var v=n.get(g+"");v!==void 0?m(v,Ne):g in l&&(v=i(()=>z(Ne)),n.set(g+"",v))}if(f===void 0)(!h||Tn(l,c)?.writable)&&(f=i(()=>z(void 0)),m(f,Le(u)),n.set(c,f));else{h=f.v!==Ne;var _=i(()=>Le(u));m(f,_)}var w=Reflect.getOwnPropertyDescriptor(l,c);if(w?.set&&w.set.call(d,u),!h){if(r&&typeof c=="string"){var k=n.get("length"),E=Number(c);Number.isInteger(E)&&E>=k.v&&m(k,E+1)}rr(o)}return!0},ownKeys(l){a(o);var c=Reflect.ownKeys(l).filter(f=>{var h=n.get(f);return h===void 0||h.v!==Ne});for(var[u,d]of n)d.v!==Ne&&!(u in l)&&c.push(u);return c},setPrototypeOf(){Js()}})}var Oa,yo,bo,So;function Di(){if(Oa===void 0){Oa=window,yo=/Firefox/.test(navigator.userAgent);var t=Element.prototype,e=Node.prototype,n=Text.prototype;bo=Tn(e,"firstChild").get,So=Tn(e,"nextSibling").get,Ba(t)&&(t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__style=void 0,t.__e=void 0),Ba(n)&&(n.__t=void 0)}}function Sn(t=""){return document.createTextNode(t)}function Hn(t){return bo.call(t)}function fr(t){return So.call(t)}function D(t,e){return Hn(t)}function B(t,e=!1){{var n=Hn(t);return n instanceof Comment&&n.data===""?fr(n):n}}function j(t,e=1,n=!1){let r=t;for(;e--;)r=fr(r);return r}function Ti(t){t.textContent=""}function wa(){return!1}let Ra=!1;function Ni(){Ra||(Ra=!0,document.addEventListener("reset",t=>{Promise.resolve().then(()=>{if(!t.defaultPrevented)for(const e of t.target.elements)e.__on_r?.()})},{capture:!0}))}function Rr(t){var e=ce,n=de;Ye(null),ht(null);try{return t()}finally{Ye(e),ht(n)}}function Li(t,e,n,r=n){t.addEventListener(e,()=>Rr(n));const o=t.__on_r;o?t.__on_r=()=>{o(),r(!0)}:t.__on_r=()=>r(!0),Ni()}function ko(t){de===null&&ce===null&&Ks(),ce!==null&&(ce.f&ft)!==0&&de===null&&Ys(),kn&&Ws()}function Bi(t,e){var n=e.last;n===null?e.last=e.first=t:(n.next=t,t.prev=n,e.last=t)}function Mt(t,e,n,r=!0){var o=de;o!==null&&(o.f&yt)!==0&&(t|=yt);var s={ctx:Se,deps:null,nodes_start:null,nodes_end:null,f:t|ot,first:null,fn:e,last:null,next:null,parent:o,b:o&&o.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{sr(s),s.f|=pa}catch(c){throw at(s),c}else e!==null&&mn(s);if(r){var i=s;if(n&&i.deps===null&&i.teardown===null&&i.nodes_start===null&&i.first===i.last&&(i.f&qn)===0&&(i=i.first),i!==null&&(i.parent=o,o!==null&&Bi(i,o),ce!==null&&(ce.f&$e)!==0&&(t&yn)===0)){var l=ce;(l.effects??(l.effects=[])).push(i)}}return s}function Ii(){return ce!==null&&!wt}function Co(t){const e=Mt(Nr,null,!1);return Je(e,We),e.teardown=t,e}function xe(t){ko();var e=de.f,n=!ce&&(e&Ut)!==0&&(e&pa)===0;if(n){var r=Se;(r.e??(r.e=[])).push(t)}else return Eo(t)}function Eo(t){return Mt(ga|ro,t,!1)}function Mi(t){return ko(),Mt(Nr|ro,t,!0)}function Oi(t){Rt.ensure();const e=Mt(yn|qn,t,!0);return(n={})=>new Promise(r=>{n.outro?Lt(e,()=>{at(e),r(void 0)}):(at(e),r(void 0))})}function Ri(t){return Mt(ga,t,!1)}function Fi(t){return Mt(Lr|qn,t,!0)}function Fr(t,e=0){return Mt(Nr|e,t,!0)}function ue(t,e=[],n=[]){Ei(e,n,r=>{Mt(Nr,()=>t(...r.map(a)),!0)})}function Kn(t,e=0){var n=Mt(wn|e,t,!0);return n}function qe(t,e=!0){return Mt(Ut|qn,t,!0,e)}function Po(t){var e=t.teardown;if(e!==null){const n=kn,r=ce;za(!0),Ye(null);try{e.call(null)}finally{za(n),Ye(r)}}}function xo(t,e=!1){var n=t.first;for(t.first=t.last=null;n!==null;){const o=n.ac;o!==null&&Rr(()=>{o.abort(Dn)});var r=n.next;(n.f&yn)!==0?n.parent=null:at(n,e),n=r}}function zi(t){for(var e=t.first;e!==null;){var n=e.next;(e.f&Ut)===0&&at(e),e=n}}function at(t,e=!0){var n=!1;(e||(t.f&js)!==0)&&t.nodes_start!==null&&t.nodes_end!==null&&(Hi(t.nodes_start,t.nodes_end),n=!0),xo(t,e&&!n),xr(t,0),Je(t,bn);var r=t.transitions;if(r!==null)for(const s of r)s.stop();Po(t);var o=t.parent;o!==null&&o.first!==null&&Ao(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes_start=t.nodes_end=t.ac=null}function Hi(t,e){for(;t!==null;){var n=t===e?null:fr(t);t.remove(),t=n}}function Ao(t){var e=t.parent,n=t.prev,r=t.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),e!==null&&(e.first===t&&(e.first=r),e.last===t&&(e.last=n))}function Lt(t,e){var n=[];ya(t,n,!0),Do(n,()=>{at(t),e&&e()})}function Do(t,e){var n=t.length;if(n>0){var r=()=>--n||e();for(var o of t)o.out(r)}else e()}function ya(t,e,n){if((t.f&yt)===0){if(t.f^=yt,t.transitions!==null)for(const i of t.transitions)(i.is_global||n)&&e.push(i);for(var r=t.first;r!==null;){var o=r.next,s=(r.f&Vn)!==0||(r.f&Ut)!==0;ya(r,e,s?n:!1),r=o}}}function Ln(t){To(t,!0)}function To(t,e){if((t.f&yt)!==0){t.f^=yt,(t.f&We)===0&&(Je(t,ot),mn(t));for(var n=t.first;n!==null;){var r=n.next,o=(n.f&Vn)!==0||(n.f&Ut)!==0;To(n,o?e:!1),n=r}if(t.transitions!==null)for(const s of t.transitions)(s.is_global||e)&&s.in()}}let Bn=!1;function Fa(t){Bn=t}let kn=!1;function za(t){kn=t}let ce=null,wt=!1;function Ye(t){ce=t}let de=null;function ht(t){de=t}let zt=null;function No(t){ce!==null&&(zt===null?zt=[t]:zt.push(t))}let Xe=null,rt=0,ct=null;function ji(t){ct=t}let Lo=1,or=0,_n=or;function Ha(t){_n=t}let Zt=!1;function Bo(){return++Lo}function zr(t){var e=t.f;if((e&ot)!==0)return!0;if((e&en)!==0){var n=t.deps,r=(e&ft)!==0;if(n!==null){var o,s,i=(e&Pr)!==0,l=r&&de!==null&&!Zt,c=n.length;if((i||l)&&(de===null||(de.f&bn)===0)){var u=t,d=u.parent;for(o=0;o<c;o++)s=n[o],(i||!s?.reactions?.includes(u))&&(s.reactions??(s.reactions=[])).push(u);i&&(u.f^=Pr),l&&d!==null&&(d.f&ft)===0&&(u.f^=ft)}for(o=0;o<c;o++)if(s=n[o],zr(s)&&mo(s),s.wv>t.wv)return!0}(!r||de!==null&&!Zt)&&Je(t,We)}return!1}function Io(t,e,n=!0){var r=t.reactions;if(r!==null&&!zt?.includes(t))for(var o=0;o<r.length;o++){var s=r[o];(s.f&$e)!==0?Io(s,e,!1):e===s&&(n?Je(s,ot):(s.f&We)!==0&&Je(s,en),mn(s))}}function Mo(t){var _;var e=Xe,n=rt,r=ct,o=ce,s=Zt,i=zt,l=Se,c=wt,u=_n,d=t.f;Xe=null,rt=0,ct=null,Zt=(d&ft)!==0&&(wt||!Bn||ce===null),ce=(d&(Ut|yn))===0?t:null,zt=null,Qt(t.ctx),wt=!1,_n=++or,t.ac!==null&&(Rr(()=>{t.ac.abort(Dn)}),t.ac=null);try{t.f|=$r;var f=t.fn,h=f(),g=t.deps;if(Xe!==null){var v;if(xr(t,rt),g!==null&&rt>0)for(g.length=rt+Xe.length,v=0;v<Xe.length;v++)g[rt+v]=Xe[v];else t.deps=g=Xe;if(!Zt||(d&$e)!==0&&t.reactions!==null)for(v=rt;v<g.length;v++)((_=g[v]).reactions??(_.reactions=[])).push(t)}else g!==null&&rt<g.length&&(xr(t,rt),g.length=rt);if(Yn()&&ct!==null&&!wt&&g!==null&&(t.f&($e|en|ot))===0)for(v=0;v<ct.length;v++)Io(ct[v],t);return o!==null&&o!==t&&(or++,ct!==null&&(r===null?r=ct:r.push(...ct))),(t.f&hn)!==0&&(t.f^=hn),h}catch(w){return uo(w)}finally{t.f^=$r,Xe=e,rt=n,ct=r,ce=o,Zt=s,zt=i,Qt(l),wt=c,_n=u}}function Ui(t,e){let n=e.reactions;if(n!==null){var r=Ms.call(n,t);if(r!==-1){var o=n.length-1;o===0?n=e.reactions=null:(n[r]=n[o],n.pop())}}n===null&&(e.f&$e)!==0&&(Xe===null||!Xe.includes(e))&&(Je(e,en),(e.f&(ft|Pr))===0&&(e.f^=Pr),po(e),xr(e,0))}function xr(t,e){var n=t.deps;if(n!==null)for(var r=e;r<n.length;r++)Ui(t,n[r])}function sr(t){var e=t.f;if((e&bn)===0){Je(t,We);var n=de,r=Bn;de=t,Bn=!0;try{(e&wn)!==0?zi(t):xo(t),Po(t);var o=Mo(t);t.teardown=typeof o=="function"?o:null,t.wv=Lo;var s;eo&&fi&&(t.f&ot)!==0&&t.deps}finally{Bn=r,de=n}}}async function Oo(){await Promise.resolve(),vo()}function a(t){var e=t.f,n=(e&$e)!==0;if(ce!==null&&!wt){var r=de!==null&&(de.f&bn)!==0;if(!r&&!zt?.includes(t)){var o=ce.deps;if((ce.f&$r)!==0)t.rv<or&&(t.rv=or,Xe===null&&o!==null&&o[rt]===t?rt++:Xe===null?Xe=[t]:(!Zt||!Xe.includes(t))&&Xe.push(t));else{(ce.deps??(ce.deps=[])).push(t);var s=t.reactions;s===null?t.reactions=[ce]:s.includes(ce)||s.push(ce)}}}else if(n&&t.deps===null&&t.effects===null){var i=t,l=i.parent;l!==null&&(l.f&ft)===0&&(i.f^=ft)}if(kn){if(Xt.has(t))return Xt.get(t);if(n){i=t;var c=i.v;return((i.f&We)===0&&i.reactions!==null||Ro(i))&&(c=ma(i)),Xt.set(i,c),c}}else if(n){if(i=t,mt?.has(i))return mt.get(i);zr(i)&&mo(i)}if(mt?.has(t))return mt.get(t);if((t.f&hn)!==0)throw t.v;return t.v}function Ro(t){if(t.v===Ne)return!0;if(t.deps===null)return!1;for(const e of t.deps)if(Xt.has(e)||(e.f&$e)!==0&&Ro(e))return!0;return!1}function gt(t){var e=wt;try{return wt=!0,t()}finally{wt=e}}const Vi=-7169;function Je(t,e){t.f=t.f&Vi|e}function qi(t){if(!(typeof t!="object"||!t||t instanceof EventTarget)){if(gn in t)ia(t);else if(!Array.isArray(t))for(let e in t){const n=t[e];typeof n=="object"&&n&&gn in n&&ia(n)}}}function ia(t,e=new Set){if(typeof t=="object"&&t!==null&&!(t instanceof EventTarget)&&!e.has(t)){e.add(t),t instanceof Date&&t.getTime();for(let r in t)try{ia(t[r],e)}catch{}const n=ha(t);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=to(n);for(let o in r){const s=r[o].get;if(s)try{s.call(t)}catch{}}}}}const Wi=["touchstart","touchmove"];function Yi(t){return Wi.includes(t)}const Fo=new Set,la=new Set;function Ki(t,e,n,r={}){function o(s){if(r.capture||$n.call(e,s),!s.cancelBubble)return Rr(()=>n?.call(this,s))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?$t(()=>{e.addEventListener(t,o,r)}):e.addEventListener(t,o,r),o}function ba(t,e,n,r,o){var s={capture:r,passive:o},i=Ki(t,e,n,s);(e===document.body||e===window||e===document||e instanceof HTMLMediaElement)&&Co(()=>{e.removeEventListener(t,i,s)})}function st(t){for(var e=0;e<t.length;e++)Fo.add(t[e]);for(var n of la)n(t)}let ja=null;function $n(t){var e=this,n=e.ownerDocument,r=t.type,o=t.composedPath?.()||[],s=o[0]||t.target;ja=t;var i=0,l=ja===t&&t.__root;if(l){var c=o.indexOf(l);if(c!==-1&&(e===document||e===window)){t.__root=e;return}var u=o.indexOf(e);if(u===-1)return;c<=u&&(i=c)}if(s=o[i]||t.target,s!==e){Jr(t,"currentTarget",{configurable:!0,get(){return s||n}});var d=ce,f=de;Ye(null),ht(null);try{for(var h,g=[];s!==null;){var v=s.assignedSlot||s.parentNode||s.host||null;try{var _=s["__"+r];if(_!=null&&(!s.disabled||t.target===s))if(fa(_)){var[w,...k]=_;w.apply(s,[t,...k])}else _.call(s,t)}catch(E){h?g.push(E):h=E}if(t.cancelBubble||v===e||v===null)break;s=v}if(h){for(let E of g)queueMicrotask(()=>{throw E});throw h}}finally{t.__root=e,delete t.currentTarget,Ye(d),ht(f)}}}function zo(t){var e=document.createElement("template");return e.innerHTML=t.replaceAll("<!>","<!---->"),e.content}function ir(t,e){var n=de;n.nodes_start===null&&(n.nodes_start=t,n.nodes_end=e)}function U(t,e){var n=(e&ii)!==0,r=(e&li)!==0,o,s=!t.startsWith("<!>");return()=>{o===void 0&&(o=zo(s?t:"<!>"+t),n||(o=Hn(o)));var i=r||yo?document.importNode(o,!0):o.cloneNode(!0);if(n){var l=Hn(i),c=i.lastChild;ir(l,c)}else ir(i,i);return i}}function Gi(t,e,n="svg"){var r=!t.startsWith("<!>"),o=`<${n}>${r?t:"<!>"+t}</${n}>`,s;return()=>{if(!s){var i=zo(o),l=Hn(i);s=Hn(l)}var c=s.cloneNode(!0);return ir(c,c),c}}function Zi(t,e){return Gi(t,e,"svg")}function Te(t=""){{var e=Sn(t+"");return ir(e,e),e}}function V(){var t=document.createDocumentFragment(),e=document.createComment(""),n=Sn();return t.append(e,n),ir(e,n),t}function p(t,e){t!==null&&t.before(e)}function Ad(){var t;return(t=window.__svelte??(window.__svelte={})).uid??(t.uid=1),`c${window.__svelte.uid++}`}function Jt(t,e){var n=e==null?"":typeof e=="object"?e+"":e;n!==(t.__t??(t.__t=t.nodeValue))&&(t.__t=n,t.nodeValue=n+"")}function Xi(t,e){return Ji(t,e)}const An=new Map;function Ji(t,{target:e,anchor:n,props:r={},events:o,context:s,intro:i=!0}){Di();var l=new Set,c=f=>{for(var h=0;h<f.length;h++){var g=f[h];if(!l.has(g)){l.add(g);var v=Yi(g);e.addEventListener(g,$n,{passive:v});var _=An.get(g);_===void 0?(document.addEventListener(g,$n,{passive:v}),An.set(g,1)):An.set(g,_+1)}}};c(va(Fo)),la.add(c);var u=void 0,d=Oi(()=>{var f=n??e.appendChild(Sn());return yi(f,{pending:()=>{}},h=>{if(s){X({});var g=Se;g.c=s}o&&(r.$$events=o),u=t(h,r)||{},s&&J()}),()=>{for(var h of l){e.removeEventListener(h,$n);var g=An.get(h);--g===0?(document.removeEventListener(h,$n),An.delete(h)):An.set(h,g)}la.delete(c),f!==n&&f.parentNode?.removeChild(f)}});return Qi.set(u,d),u}let Qi=new WeakMap;const Wr=0,mr=1,Yr=2;function Ho(t,e,n,r,o){var s=t,i=Yn(),l=Se,c=Ne,u,d,f,h=i?jt(void 0):sa(void 0,!1,!1),g=i?jt(void 0):sa(void 0,!1,!1),v=!1;function _(k,E){v=!0,E&&(ht(w),Ye(w),Qt(l));try{k===Wr&&n&&(u?Ln(u):u=qe(()=>n(s))),k===mr&&r&&(d?Ln(d):d=qe(()=>r(s,h))),k===Yr&&o&&(f?Ln(f):f=qe(()=>o(s,g))),k!==Wr&&u&&Lt(u,()=>u=null),k!==mr&&d&&Lt(d,()=>d=null),k!==Yr&&f&&Lt(f,()=>f=null)}finally{E&&(Qt(null),Ye(null),ht(null),Nn||vo())}}var w=Kn(()=>{if(c!==(c=e())){if(Fs(c)){var k=c;v=!1,k.then(E=>{k===c&&(Ft(h,E),_(mr,!0))},E=>{if(k===c&&(Ft(g,E),_(Yr,!0),!o))throw g.v}),$t(()=>{v||_(Wr,!0)})}else Ft(h,c),_(mr,!1);return()=>c=Ne}})}function q(t,e,n=!1){var r=t,o=null,s=null,i=Ne,l=n?Vn:0,c=!1;const u=(g,v=!0)=>{c=!0,h(v,g)};var d=null;function f(){d!==null&&(d.lastChild.remove(),r.before(d),d=null);var g=i?o:s,v=i?s:o;g&&Ln(g),v&&Lt(v,()=>{i?s=null:o=null})}const h=(g,v)=>{if(i!==(i=g)){var _=wa(),w=r;if(_&&(d=document.createDocumentFragment(),d.append(w=Sn())),i?o??(o=v&&qe(()=>v(w))):s??(s=v&&qe(()=>v(w))),_){var k=Ce,E=i?o:s,y=i?s:o;E&&k.skipped_effects.delete(E),y&&k.skipped_effects.add(y),k.add_callback(f)}else f()}};Kn(()=>{c=!1,e(u),c||h(null,null)},l)}function be(t,e){Fr(()=>{var n=e();for(var r in n){var o=n[r];o?t.style.setProperty(r,o):t.style.removeProperty(r)}})}function $i(t,e,n){for(var r=t.items,o=[],s=e.length,i=0;i<s;i++)ya(e[i].e,o,!0);var l=s>0&&o.length===0&&n!==null;if(l){var c=n.parentNode;Ti(c),c.append(n),r.clear(),xt(t,e[0].prev,e[s-1].next)}Do(o,()=>{for(var u=0;u<s;u++){var d=e[u];l||(r.delete(d.k),xt(t,d.prev,d.next)),at(d.e,!l)}})}function Hr(t,e,n,r,o,s=null){var i=t,l={flags:e,items:new Map,first:null},c=(e&oo)!==0;if(c){var u=t;i=u.appendChild(Sn())}var d=null,f=!1,h=new Map,g=Or(()=>{var k=n();return fa(k)?k:k==null?[]:va(k)}),v,_;function w(){el(_,v,l,h,i,o,e,r,n),s!==null&&(v.length===0?d?Ln(d):d=qe(()=>s(i)):d!==null&&Lt(d,()=>{d=null}))}Kn(()=>{_??(_=de),v=a(g);var k=v.length;if(!(f&&k===0)){f=k===0;var E,y,N,L;if(wa()){var P=new Set,S=Ce;for(y=0;y<k;y+=1){N=v[y],L=r(N,y);var x=l.items.get(L)??h.get(L);x?(e&(Br|Ir))!==0&&jo(x,N,y,e):(E=Uo(null,l,null,null,N,L,y,o,e,n,!0),h.set(L,E)),P.add(L)}for(const[T,Z]of l.items)P.has(T)||S.skipped_effects.add(Z.e);S.add_callback(w)}else w();a(g)}})}function el(t,e,n,r,o,s,i,l,c){var u=(i&ei)!==0,d=(i&(Br|Ir))!==0,f=e.length,h=n.items,g=n.first,v=g,_,w=null,k,E=[],y=[],N,L,P,S;if(u)for(S=0;S<f;S+=1)N=e[S],L=l(N,S),P=h.get(L),P!==void 0&&(P.a?.measure(),(k??(k=new Set)).add(P));for(S=0;S<f;S+=1){if(N=e[S],L=l(N,S),P=h.get(L),P===void 0){var x=r.get(L);if(x!==void 0){r.delete(L),h.set(L,x);var T=w?w.next:v;xt(n,w,x),xt(n,x,T),Kr(x,T,o),w=x}else{var Z=v?v.e.nodes_start:o;w=Uo(Z,n,w,w===null?n.first:w.next,N,L,S,s,i,c)}h.set(L,w),E=[],y=[],v=w.next;continue}if(d&&jo(P,N,S,i),(P.e.f&yt)!==0&&(Ln(P.e),u&&(P.a?.unfix(),(k??(k=new Set)).delete(P))),P!==v){if(_!==void 0&&_.has(P)){if(E.length<y.length){var le=y[0],oe;w=le.prev;var H=E[0],ne=E[E.length-1];for(oe=0;oe<E.length;oe+=1)Kr(E[oe],le,o);for(oe=0;oe<y.length;oe+=1)_.delete(y[oe]);xt(n,H.prev,ne.next),xt(n,w,H),xt(n,ne,le),v=le,w=ne,S-=1,E=[],y=[]}else _.delete(P),Kr(P,v,o),xt(n,P.prev,P.next),xt(n,P,w===null?n.first:w.next),xt(n,w,P),w=P;continue}for(E=[],y=[];v!==null&&v.k!==L;)(v.e.f&yt)===0&&(_??(_=new Set)).add(v),y.push(v),v=v.next;if(v===null)continue;P=v}E.push(P),w=P,v=P.next}if(v!==null||_!==void 0){for(var Q=_===void 0?[]:va(_);v!==null;)(v.e.f&yt)===0&&Q.push(v),v=v.next;var ge=Q.length;if(ge>0){var $=(i&oo)!==0&&f===0?o:null;if(u){for(S=0;S<ge;S+=1)Q[S].a?.measure();for(S=0;S<ge;S+=1)Q[S].a?.fix()}$i(n,Q,$)}}u&&$t(()=>{if(k!==void 0)for(P of k)P.a?.apply()}),t.first=n.first&&n.first.e,t.last=w&&w.e;for(var te of r.values())at(te.e);r.clear()}function jo(t,e,n,r){(r&Br)!==0&&Ft(t.v,e),(r&Ir)!==0?Ft(t.i,n):t.i=n}function Uo(t,e,n,r,o,s,i,l,c,u,d){var f=(c&Br)!==0,h=(c&ti)===0,g=f?h?sa(o,!1,!1):jt(o):o,v=(c&Ir)===0?i:jt(i),_={i:v,v:g,k:s,a:null,e:null,prev:n,next:r};try{if(t===null){var w=document.createDocumentFragment();w.append(t=Sn())}return _.e=qe(()=>l(t,g,v,u),ui),_.e.prev=n&&n.e,_.e.next=r&&r.e,n===null?d||(e.first=_):(n.next=_,n.e.next=_.e),r!==null&&(r.prev=_,r.e.prev=_.e),_}finally{}}function Kr(t,e,n){for(var r=t.next?t.next.e.nodes_start:n,o=e?e.e.nodes_start:n,s=t.e.nodes_start;s!==null&&s!==r;){var i=fr(s);o.before(s),s=i}}function xt(t,e,n){e===null?t.first=n:(e.next=n,e.e.next=n&&n.e),n!==null&&(n.prev=e,n.e.prev=e&&e.e)}function he(t,e,...n){var r=t,o=we,s;Kn(()=>{o!==(o=e())&&(s&&(at(s),s=null),s=qe(()=>o(r,...n)))},Vn)}function Vo(t,e,n){var r=t,o,s,i=null,l=null;function c(){s&&(Lt(s),s=null),i&&(i.lastChild.remove(),r.before(i),i=null),s=l,l=null}Kn(()=>{if(o!==(o=e())){var u=wa();if(o){var d=r;u&&(i=document.createDocumentFragment(),i.append(d=Sn()),s&&Ce.skipped_effects.add(s)),l=qe(()=>n(d,o))}u?Ce.add_callback(c):c()}},Vn)}function qo(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var o=t.length;for(e=0;e<o;e++)t[e]&&(n=qo(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function tl(){for(var t,e,n=0,r="",o=arguments.length;n<o;n++)(t=arguments[n])&&(e=qo(t))&&(r&&(r+=" "),r+=e);return r}function pe(t){return typeof t=="object"?tl(t):t??""}const Ua=[...` 	
\r\f \v\uFEFF`];function nl(t,e,n){var r=t==null?"":""+t;if(e&&(r=r?r+" "+e:e),n){for(var o in n)if(n[o])r=r?r+" "+o:o;else if(r.length)for(var s=o.length,i=0;(i=r.indexOf(o,i))>=0;){var l=i+s;(i===0||Ua.includes(r[i-1]))&&(l===r.length||Ua.includes(r[l]))?r=(i===0?"":r.substring(0,i))+r.substring(l+1):i=l}}return r===""?null:r}function rl(t,e){return t==null?null:String(t)}function me(t,e,n,r,o,s){var i=t.__className;if(i!==n||i===void 0){var l=nl(n,r,s);l==null?t.removeAttribute("class"):t.className=l,t.__className=n}else if(s&&o!==s)for(var c in s){var u=!!s[c];(o==null||u!==!!o[c])&&t.classList.toggle(c,u)}return s}function jn(t,e,n,r){var o=t.__style;if(o!==e){var s=rl(e);s==null?t.removeAttribute("style"):t.style.cssText=s,t.__style=e}return r}const al=Symbol("is custom element"),ol=Symbol("is html");function Dd(t,e){var n=Sa(t);n.value===(n.value=e??void 0)||t.value===e&&(e!==0||t.nodeName!=="PROGRESS")||(t.value=e??"")}function Td(t,e){var n=Sa(t);n.checked!==(n.checked=e??void 0)&&(t.checked=e)}function De(t,e,n,r){var o=Sa(t);o[e]!==(o[e]=n)&&(e==="loading"&&(t[Vs]=n),n==null?t.removeAttribute(e):typeof n!="string"&&sl(t).includes(e)?t[e]=n:t.setAttribute(e,n))}function Sa(t){return t.__attributes??(t.__attributes={[al]:t.nodeName.includes("-"),[ol]:t.namespaceURI===ci})}var Va=new Map;function sl(t){var e=t.getAttribute("is")||t.nodeName,n=Va.get(e);if(n)return n;Va.set(e,n=[]);for(var r,o=t,s=Element.prototype;s!==o;){r=to(o);for(var i in r)r[i].set&&n.push(i);o=ha(o)}return n}function il(t,e,n=e){var r=new WeakSet;Li(t,"input",async o=>{var s=o?t.defaultValue:t.value;if(s=Gr(t)?Zr(s):s,n(s),Ce!==null&&r.add(Ce),await Oo(),s!==(s=e())){var i=t.selectionStart,l=t.selectionEnd,c=t.value.length;if(t.value=s??"",l!==null){var u=t.value.length;i===l&&l===c&&u>c?(t.selectionStart=u,t.selectionEnd=u):(t.selectionStart=i,t.selectionEnd=Math.min(l,u))}}}),gt(e)==null&&t.value&&(n(Gr(t)?Zr(t.value):t.value),Ce!==null&&r.add(Ce)),Fr(()=>{var o=e();if(t===document.activeElement){var s=br??Ce;if(r.has(s))return}Gr(t)&&o===Zr(t.value)||t.type==="date"&&!o&&!t.value||o!==t.value&&(t.value=o??"")})}function Gr(t){var e=t.type;return e==="number"||e==="range"}function Zr(t){return t===""?null:+t}function qa(t,e){return t===e||t?.[gn]===e}function Bt(t={},e,n,r){return Ri(()=>{var o,s;return Fr(()=>{o=s,s=[],gt(()=>{t!==n(...s)&&(e(t,...s),o&&qa(n(...o),t)&&e(null,...o))})}),()=>{$t(()=>{s&&qa(n(...s),t)&&e(null,...s)})}}),t}function ll(t=!1){const e=Se,n=e.l.u;if(!n)return;let r=()=>qi(e.s);if(t){let o=0,s={};const i=dr(()=>{let l=!1;const c=e.s;for(const u in c)c[u]!==s[u]&&(s[u]=c[u],l=!0);return l&&o++,o});r=()=>a(i)}n.b.length&&Mi(()=>{Wa(e,r),Qr(n.b)}),xe(()=>{const o=gt(()=>n.m.map(zs));return()=>{for(const s of o)typeof s=="function"&&s()}}),n.a.length&&xe(()=>{Wa(e,r),Qr(n.a)})}function Wa(t,e){if(t.l.s)for(const n of t.l.s)a(n);e()}let wr=!1;function cl(t){var e=wr;try{return wr=!1,[t(),wr]}finally{wr=e}}function ie(t,e,n,r){var o=!Wn||(n&ri)!==0,s=(n&oi)!==0,i=(n&si)!==0,l=r,c=!0,u=()=>(c&&(c=!1,l=i?gt(r):r),l),d;if(s){var f=gn in t||Us in t;d=Tn(t,e)?.set??(f&&e in t?y=>t[e]=y:void 0)}var h,g=!1;s?[h,g]=cl(()=>t[e]):h=t[e],h===void 0&&r!==void 0&&(h=u(),d&&(o&&Zs(),d(h)));var v;if(o?v=()=>{var y=t[e];return y===void 0?u():(c=!0,y)}:v=()=>{var y=t[e];return y!==void 0&&(l=void 0),y===void 0?l:y},o&&(n&ai)===0)return v;if(d){var _=t.$$legacy;return(function(y,N){return arguments.length>0?((!o||!N||_||g)&&d(N?v():y),y):v()})}var w=!1,k=((n&ni)!==0?dr:Or)(()=>(w=!1,v()));s&&a(k);var E=de;return(function(y,N){if(arguments.length>0){const L=N?a(k):o&&s?Le(y):y;return m(k,L),w=!0,l!==void 0&&(l=L),y}return kn&&w||(E.f&bn)!==0?k.v:a(k)})}function Pe(t){Se===null&&ao(),Wn&&Se.l!==null?ul(Se).m.push(t):xe(()=>{const e=gt(t);if(typeof e=="function")return e})}function ul(t){var e=t.l;return e.u??(e.u={a:[],b:[],m:[]})}const dl="5";var $a;typeof window<"u"&&(($a=window.__svelte??(window.__svelte={})).v??($a.v=new Set)).add(dl);vi();const Wo={};function fl(t){Ie(Wo,t)}function Yo(){const t=Be(Wo);if(!t)throw new Error("No SearchContext found");return t}const Ko={};function vl(t){Ie(Ko,t)}function Ot(){const t=Be(Ko);if(!t)throw new Error("No AppHistoryContext found");return t}function hl(t,e){X(e,!0);const{addSearchParam:n,deleteSearchParam:r,getAppLocation:o}=Ot(),s=O(()=>o().searchParams),i="search",l=Le({value:o().searchParams.get(i)||""}),c=f=>{(a(s).get(i)||"")!==f&&(f===""?r(i):n(i,f))};xe(()=>{a(s);const f=l.value;gt(()=>{c(f)})}),fl(l);var u=V(),d=B(u);he(d,()=>e.children??we),p(t,u),J()}const Go={};function gl(t){Ie(Go,t)}function Zo(){const t=Be(Go);if(!t)throw new Error("No TagSearchContext found");return t}function _l(t,e){X(e,!0);const n=Le({value:""});gl(n);var r=V(),o=B(r);he(o,()=>e.children??we),p(t,r),J()}const Xo={};function pl(t){Ie(Xo,t)}function Jo(){const t=Be(Xo);if(!t)throw new Error("No FeedOrderContext found");return t}function ml(t,e){X(e,!0);const{addSearchParam:n,deleteSearchParam:r,getAppLocation:o}=Ot(),s=O(()=>o().searchParams),i="feedOrder";let l=z(Le(o().searchParams.get(i)||"newest"));const c=g=>{(a(s).get(i)||"newest")!==g&&(g==="newest"?r(i):n(i,g))};xe(()=>{a(s),a(l),gt(()=>{c(a(l))})}),pl({getFeedOrder:()=>a(l),setFeedOrder:g=>{m(l,g,!0)}});var f=V(),h=B(f);he(h,()=>e.children??we),p(t,f),J()}const Qo={};function wl(t){Ie(Qo,t)}function ka(){const t=Be(Qo);if(!t)throw new Error("No SidebarContext found");return t}function yl(t,e){X(e,!0);const n=(d,f)=>{if(!f)return d;if(f.type==="closed")return{type:"closed"};switch(d.type){case"opened":return f.type==="close"?{type:"closing"}:f.type==="swipe"?{type:"openSwiping"}:d;case"closed":return f.type==="open"?{type:"opening"}:f.type==="swipe"?{type:"closeSwiping"}:d;case"openSwiping":return f.type==="open"?{type:"opening"}:f.type==="close"?{type:"closing"}:d;case"closeSwiping":return f.type==="open"?{type:"opening"}:f.type==="close"?{type:"closing"}:d;case"opening":return f.type==="opened"?{type:"opened"}:d;default:return d}};let r=z(Le(n({type:"closed"})));const o=d=>{const f=gt(()=>a(r));m(r,n(f,d),!0)};wl({sidebarOpen:()=>{o({type:"open"})},sidebarClose:()=>{o({type:"close"})},handleComputeState:o,getSidebarState:()=>a(r)});var c=V(),u=B(c);he(u,()=>e.children??we),p(t,c),J()}const $o={};function bl(t){Ie($o,t)}function es(){const t=Be($o);if(!t)throw new Error("No SelectedTagsContext found");return t}const ts=(t,e)=>{let n=null;return()=>{n&&clearTimeout(n),n=setTimeout(()=>{n=null,t()},e)}};async function Sl(){if(navigator.storage&&navigator.storage.persist)try{await navigator.storage.persisted()||await navigator.storage.persist()}catch{}}const kl=(t,e)=>{if(t.size!==e.size)return!0;for(const n of t)if(!e.has(n))return!0;return!1};function Cl(t,e){X(e,!0);const{getAppLocation:n,replace:r}=Ot(),o=O(n),s=O(()=>a(o).searchParams),i="selectedTags",l=()=>new Set(n().searchParams.get(i)?.split(",")||[]);let c=z(Le(l()));const u=()=>{const _=l();if(kl(_,a(c))){const w=a(o).pathname;a(c).size===0?a(s).delete(i):a(s).set(i,Array.from(a(c)).join(",")),r(`${w}${a(s).size>0?`?${a(s).toString()}`:""}`)}};xe(()=>{a(s),a(c),gt(()=>{u()})}),bl({getSelectedTags:()=>a(c),addTag:_=>{a(c).has(_)||m(c,new Set([...a(c),_]),!0)},removeTag:_=>{const w=new Set(a(c));w.delete(_),m(c,w,!0)}});var g=V(),v=B(g);he(v,()=>e.children??we),p(t,g),J()}const ns={};function El(t){Ie(ns,t)}function Ca(){const t=Be(ns);if(!t)throw new Error("No LocalDBContext found");return t}const rs={};function Pl(t){Ie(rs,t)}function xl(){const t=Be(rs);if(!t)throw new Error("No SettingsContext found");return t}const as={};function Al(t){Ie(as,t)}function Gn(){const t=Be(as);if(!t)throw new Error("No BroadcastContext found");return t}const Dl="AppStorage",Tl=1,er="account",Er="settings",Et="notes",Pt="tags",Nl="syncLog",tn="success",nn="error",Fe=(t,e,n)=>{t?.addEventListener(e,n)},Ya=(t,e)=>new Promise((n,r)=>{const s=t?.transaction(e,"readonly")?.objectStore(e).getAll();Fe(s,tn,()=>{const i=s?.result||[];n(i)}),Fe(s,nn,i=>{r(i)})}),ca=(t,e,n)=>new Promise((r,o)=>{const i=t?.transaction(e,"readonly")?.objectStore(e).get(n);Fe(i,tn,()=>{const l=i?.result?.data;r(l)}),Fe(i,nn,l=>{o(l)})}),ar=(t,e,n,r)=>new Promise((o,s)=>{const c=t?.transaction(e,"readwrite")?.objectStore(e)?.put({id:n,data:r});Fe(c,tn,()=>{o()}),Fe(c,nn,u=>{s(u)})}),Xr=async(t,e,n)=>{const o=t?.transaction(e,"readwrite")?.objectStore(e);await Promise.all(n.map(s=>{const i=o?.put(s);return new Promise((l,c)=>{Fe(i,tn,()=>{l()}),Fe(i,nn,u=>{c(u)})})}))},Ll=(t,e,n)=>new Promise((r,o)=>{const l=t?.transaction(e,"readwrite")?.objectStore(e)?.delete(n);Fe(l,tn,()=>{r()}),Fe(l,nn,c=>{o(c)})}),yr=async(t,e,n)=>{const o=t?.transaction(e,"readwrite")?.objectStore(e);await Promise.all(n.map(s=>{const i=o?.delete(s);return new Promise((l,c)=>{Fe(i,tn,()=>{l()}),Fe(i,nn,u=>{c(u)})})}))},sn=(t,e)=>new Promise((n,r)=>{const i=t?.transaction(e,"readwrite")?.objectStore(e)?.clear();Fe(i,tn,()=>{n()}),Fe(i,nn,l=>{r(l)})});function Bl(t,e){X(e,!0);let n=z(Le({showFavicon:!1}));const{getDB:r}=Ca(),{createBroadcastChannel:o,tabId:s}=Gn(),i=o(),l=O(r),c=async()=>{const _=await ca(a(l),Er,"default");_&&m(n,_,!0)},u=async()=>{c()},d=async _=>{const w=JSON.parse(_.data),k=w;if(w.tabId&&w.tabId===s){k.type==="exit"&&(m(n,{showFavicon:!1},!0),sn(a(l),Er));return}k.type==="updateSettings"?c():k.type==="exit"&&m(n,{showFavicon:!1},!0)},f=()=>a(n).showFavicon,h=async _=>{a(n).showFavicon=_,await ar(a(l),Er,"default",{showFavicon:_}),i.postMessage({type:"updateSettings"})};Pe(()=>(u(),i.addEventListener(d),()=>{i.removeEventListener(d)})),Pl({getFaviconEnabled:f,setFaviconShown:h});var g=V(),v=B(g);he(v,()=>e.children??we),p(t,g),J()}const os={};function Il(t){Ie(os,t)}function Ea(){const t=Be(os);if(!t)throw new Error("No AccountContext found");return t}function Ml(t,e){X(e,!0);let n=z(void 0);const{getDB:r}=Ca(),{createBroadcastChannel:o,tabId:s}=Gn(),i=O(r),l=o(),c=async()=>{const y=await ca(a(i),er,"default");m(n,y,!0)},u=y=>ar(a(i),er,"default",y),d=async y=>{const N=await ca(a(i),er,"default");N!==void 0&&m(n,N,!0),y(N)},f=async y=>{const N=JSON.parse(y.data);if(N.tabId&&N.tabId===s)return;const L=N;L.type==="initLocalAccount"?m(n,null):L.type==="initCloudAccount"?c():L.type==="disconnectCloudAccount"?m(n,null):L.type==="exit"?m(n,void 0):L.type==="updateAccount"&&c()};Pe(()=>(l.addEventListener(f),()=>{l.removeEventListener(f)})),Il({init:d,getAccount:()=>a(n),initLocalAccount:async()=>{m(n,null),await u(null),l.postMessage({type:"initLocalAccount"})},initCloudAccount:async y=>{const N={encryptedClientKey:y.encryptedClientKey||"",subscriptionExpires:y.subscriptionExpires||-1,lastSync:-1};await u(N),m(n,N,!0),l.postMessage({type:"initCloudAccount"})},disconnectCloudAccount:async()=>{m(n,null),await u(null),l.postMessage({type:"disconnectCloudAccount"})},updateSubscription:async y=>{if(!a(n))throw new Error("No account to update subscription for");const N={...a(n),subscriptionExpires:y};await u(N),l.postMessage({type:"updateAccount"})},exitApp:async()=>{m(n,void 0),l.postMessage({type:"exit"}),await sn(a(i),er)}});var k=V(),E=B(k);he(E,()=>e.children??we),p(t,k),J()}const ss={};function Ol(t){Ie(ss,t)}function jr(){const t=Be(ss);if(!t)throw new Error("No NotesContext found");return t}const Rl=()=>crypto.randomUUID(),Fl=t=>{const e=new Map;for(const n of t||[])for(const r of n?.data.tags||[])e.set(r,{name:r,count:(e.get(r)?.count||0)+1});return e};function zl(t,e){X(e,!0);const{getDB:n}=Ca(),{createBroadcastChannel:r,tabId:o}=Gn(),s=O(n),i=r(),l=720*60*60*1e3;let c=z(0),u=z(!1),d=z(()=>new Map),f=z(()=>[]),h=z(()=>new Map);const g=()=>a(u),v=()=>a(c)>0,_=()=>{a(c)>0&&m(c,a(c)-1)},w=A=>{const M=a(f)(),b=a(h)(),C={...A};M.push(C),b.set(C.id,C),m(f,()=>M),m(h,()=>b)},k=A=>{const M=a(f)(),b=a(h)(),C=b.get(A.id);C&&(C.data=A.data),m(f,()=>M),m(h,()=>b)},E=A=>{const M=a(f)(),b=a(h)(),C=b.get(A);b.has(A)&&b.delete(A),C?.data?.type==="draft"&&b.delete("draft"),C&&(C.data=void 0),m(f,()=>M),m(h,()=>b)},y=()=>{m(f,()=>[]),m(d,()=>new Map),m(h,()=>new Map)},N=()=>a(f),L=A=>{const M=a(d)();for(const b of A){const C=M.get(b);C?C.count++:M.set(b,{name:b,count:1})}m(d,()=>M)},P=A=>{const M=a(d)();for(const b of A){const C=M.get(b);C&&(C.count--,C.count<=0&&M.delete(b))}m(d,()=>M)},S=async()=>{const[A,M]=await Promise.all([Ya(a(s),Et),Ya(a(s),Pt).then(se=>se.reduce((Ae,ze)=>Ae.set(ze.name,ze),new Map))]),b=[],C=[],W=new Map;let re=0;for(const se of A)se.data.deletedAt&&Date.now()-se.data.deletedAt>l?b.push(se.id):(C.push(se),W.set(se.id,se),se.data.deletedAt&&(re+=1),se.data.type==="draft"&&W.set("draft",se));m(c,re,!0);const ee=Fl(C),fe=new Map;ee.entries().forEach(([se,Ae])=>{const ze=M.get(se);fe.set(se,{...ze,...Ae})}),await yr(a(s),Et,b),await sn(a(s),Pt),await Xr(a(s),Pt,Array.from(fe.values()).map(se=>({id:se.name,data:{pinned:se.pinned}}))),m(f,()=>C),m(h,()=>W),m(d,()=>fe),m(u,!0)},x=async()=>{const A=a(h)(),M=A.get("draft");if(M)return M;const b={id:Rl(),data:{type:"draft",url:"",name:"",text:"",tags:[],draft:{url:"",name:"",text:"",tags:[],createdAt:Date.now(),updatedAt:Date.now()},createdAt:Date.now(),updatedAt:Date.now()}};return await ar(a(s),Et,b.id,{...b.data}),A.set("draft",b),w(b),i.postMessage({type:"createNoteDraft",data:{note:b}}),b},T=async A=>{const b=a(h)().get(A);if(!b||!b.data)return;const C=a(d)(),W=b.data.tags;P(W),E(A),i.postMessage({type:"deleteNote",data:{id:A}}),_(),await Ll(a(s),Et,A),await yr(a(s),Pt,W.filter(re=>{const ee=C.get(re);return ee?ee.count<=1:!1}))},Z=async(A,M)=>{const b={id:M.id,data:{...M.data}},C=a(d)(),W=M.data.tags.filter(ee=>!A.data.tags.includes(ee)),re=A.data.tags.filter(ee=>!M.data.tags.includes(ee));await ar(a(s),Et,b.id,{...b.data}),await Xr(a(s),Pt,W.filter(ee=>!C.has(ee)).map(ee=>({id:ee,data:{}}))),await yr(a(s),Pt,re.filter(ee=>{const fe=C.get(ee);return fe?fe.count<=1:!1})),k(b),P(re),L(W),i.postMessage({type:"updateNote",data:{note:b,tagsToAdd:W,tagsToDelete:re}})},le=async A=>{const M=a(h)(),b=H(A);if(!b||!b.data)return;const C=M.get("draft");C&&C.id===b.id&&M.delete("draft");const W={id:A,data:{type:"note",name:b.data.draft?.name??b.data.name,url:b.data.draft?.url??b.data.url,text:b.data.draft?.text??b.data.text,tags:b.data.draft?.tags??b.data.tags,updatedAt:Date.now(),createdAt:b.data.createdAt,pinnedAt:b.data.pinnedAt,deletedAt:b.data.deletedAt,draft:void 0}};return Z(b,W)},oe=async()=>{y(),i.postMessage({type:"clearNotes"}),await sn(a(s),Et),await sn(a(s),Pt)},H=A=>{const M=a(h)();return A?M.get(A):M.get("draft")},ne=async(A,M)=>{const C=a(h)().get(A);if(!C||!C.data)return;const W={id:A,data:{...C.data,pinnedAt:M?Date.now():void 0}};return Z(C,W)},Q=async A=>{const b=a(h)().get(A);if(!b||!b.data)return;const C={id:A,data:{...b.data,deletedAt:Date.now()}};m(c,a(c)+1),await Z(b,C)},ge=async A=>{const b=a(h)().get(A);if(!b||!b.data)return;const C={id:A,data:{...b.data,deletedAt:0}};_(),await Z(b,C)},$=async(A,M)=>{const b=a(d)();b.set(A,{name:A,count:b.get(A)?.count||0,pinned:M}),await ar(a(s),Pt,A,{pinned:M}),i.postMessage({type:"pinTag",data:{tag:A,pinned:M}}),m(d,()=>b)},te=async A=>{const M=a(h)(),b={};A.forEach(C=>{const W=M.get(C.id);(!W||W&&W.data&&W.data.updatedAt<C.data.updatedAt)&&(b[C.id]=C)}),await Xr(a(s),Et,Object.values(b)),await S(),i.postMessage({type:"reloadNotes"})},G=async()=>{const A=[];a(f)().forEach(b=>{b&&b.data&&b.data.deletedAt&&A.push(b.id)}),m(c,0),await yr(a(s),Et,A),await S(),i.postMessage({type:"emptyBin"})},K=async(A,M)=>{if(A===""){const re=a(h)().get("draft");re?A=re.id:A=(await x()).id}const b=H(A);if(!b||!b.data)return;const C={id:A,data:{...b.data,draft:{...M,tags:M.tags,createdAt:b.data.draft?.createdAt||Date.now(),updatedAt:Date.now()}}};return await Z(b,C),b.id},R=async A=>{const M=a(h)(),b=H(A);if(!b||!b.data||!b.data.draft)return;if(b.data.type==="draft"){A===M.get("draft")?.id&&M.delete("draft"),await T(A);return}const C={id:A,data:{...b.data,draft:void 0}};return Z(b,C)},F=async A=>{const M=JSON.parse(A.data),b=M;if(M.tabId&&M.tabId===o){b.type==="exit"&&(y(),await sn(a(s),Et),await sn(a(s),Pt));return}if(b.type==="createNoteDraft"){const C=b.data.note;a(h)().set("draft",C),w(C)}else if(b.type==="updateNote"){const C=b.data,re=a(h)().get(C.note.id);if(!re||!re.data)return;re.data.deletedAt&&!C.note.data.deletedAt?_():!re.data.deletedAt&&C.note.data.deletedAt&&m(c,a(c)+1),k(C.note),P(C.tagsToAdd),L(C.tagsToDelete)}else if(b.type==="deleteNote"){const C=b.data.id,re=a(h)().get(C);if(!re)return;_(),E(C),P(re?.data?.tags||[])}else if(b.type==="pinTag"){const C=b.data.tag,W=b.data.pinned,re=a(d)(),ee=re.get(C);ee&&(ee.pinned=W,re.set(C,ee))}else b.type==="clearNotes"?y():b.type==="reloadNotes"||b.type==="emptyBin"?S():b.type==="exit"&&y()};Pe(()=>(S(),i.addEventListener(F),()=>{i.removeEventListener(F)})),Ol({isInitedNotes:g,putNoteDraft:K,deleteNoteDraft:R,deleteNote:T,pinNote:ne,getGetNotes:N,importNotes:te,clearNotes:oe,getNoteById:H,getGetMapTags:()=>a(d),pinTag:$,moveNoteToBin:Q,restoreNoteFromBin:ge,checkNotesInBin:v,emptyBin:G,saveNoteDraft:le,countNotesInBin:()=>a(c)});var ve=V(),ye=B(ve);he(ye,()=>e.children??we),p(t,ve),J()}const is={},Hl=()=>({working:!1,swipingRatio:1,isSwiping:!1,duration:.35});function jl(t){Ie(is,t)}function Zn(){const t=Be(is);if(!t)throw new Error("No AnimationSettingsContext found");return t}function Ul(t,e){X(e,!0);let n=Le(Hl());jl(n);var r=V(),o=B(r);he(o,()=>e.children??we),p(t,r),J()}const ls={};function Vl(t){Ie(ls,t)}function cs(){const t=Be(ls);if(!t)throw new Error("No ScrollingContext found");return t}function ql(t,e){X(e,!0);let n=z(!1);const r=()=>a(n),o=ts(()=>{m(n,!1)},100);Vl({isScrolling:r,enable:()=>{m(n,!0),o()}});var i=V(),l=B(i);he(l,()=>e.children??we),p(t,i),J()}const us={};function Wl(t){Ie(us,t)}function Xn(){const t=Be(us);if(!t)throw new Error("No MobileSizeContext found");return t}function Yl(t,e){X(e,!0);const n=()=>window.matchMedia("(max-width: 767px)").matches;let r=z(Le(n())),o=Zn();const s=ts(()=>{o.working=!0},16),i=()=>{o.working=!1,s(),requestAnimationFrame(()=>{m(r,n(),!0)})};Wl({checkMobileSize:()=>a(r)}),Pe(()=>(window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)));var c=V(),u=B(c);he(u,()=>e.children??we),p(t,c),J()}const ds={};function Kl(t){Ie(ds,t)}function Jn(){const t=Be(ds);if(!t)throw new Error("No DialogContext found");return t}function Gl(t,e){X(e,!0);let n=z(0),r=z(!1),o=z(!1);Kl({checkExistedDialog:()=>a(n)>0,showDialog:()=>{m(n,a(n)+1)},hideDialog:()=>{m(n,a(n)-1)},blockDialog:v=>{m(r,v,!0),v||m(o,!1)},checkBlockedDialog:()=>a(r),unBlockBackDialog:v=>{m(o,v,!0)},checkUnBlockedBackDialog:()=>a(o)});var h=V(),g=B(h);he(g,()=>e.children??we),p(t,h),J()}const fs={};function Zl(t){Ie(fs,t)}function Pa(){const t=Be(fs);if(!t)throw new Error("No ScrollContainerContext found");return t}function Xl(t,e){X(e,!0);let n=z(null);Zl({setScrollContainer:l=>{m(n,l,!0)},getScrollContainer:()=>a(n)});var s=V(),i=B(s);he(i,()=>e.children??we),p(t,s),J()}const vs={};function Jl(t){Ie(vs,t)}function xa(){const t=Be(vs);if(!t)throw new Error("No DialogPageHeightContext found");return t}function Ql(t,e){X(e,!0);let n=z(200);Jl({setDialogPageHeight:l=>{m(n,l,!0)},getDialogPageHeight:()=>a(n)});var s=V(),i=B(s);he(i,()=>e.children??we),p(t,s),J()}const $l=[er,Er,Et,Pt,Nl];function ec(){return new Promise((t,e)=>{const n=indexedDB.open(Dl,Tl);Fe(n,"upgradeneeded",()=>{const r=n.result;for(const o of $l)r.objectStoreNames.contains(o)||r.createObjectStore(o,{keyPath:"id"})}),Fe(n,tn,()=>{const r=n.result;t(r),r.onversionchange=function(){r?.close(),alert("app outdated, please reload the page")}}),Fe(n,"blocked",()=>{e(),alert("app outdated, please reload the page")}),Fe(n,nn,()=>{e()})})}function tc(t,e){X(e,!0);let n=z(null);Pe(()=>{ec().then(l=>{m(n,l,!0)}).catch(l=>{})}),El({getDB:()=>a(n)});var o=V(),s=B(o);{var i=l=>{var c=V(),u=B(c);he(u,()=>e.children??we),p(l,c)};q(s,l=>{a(n)&&l(i)})}p(t,o),J()}const hs={};function nc(t){Ie(hs,t)}function It(){const t=Be(hs);if(!t)throw new Error("No StackPagesContext found");return t}function rc(t,e){X(e,!0);const{createBroadcastChannel:n,tabId:r}=Gn(),o=n(),{getAppLocation:s,getAppHistoryStack:i,navigate:l,goBack:c,replace:u}=Ot(),d=O(s),f=O(()=>a(d).searchParams),h="stackPages",g=()=>a(f).get(h)?.split(",")||[];let v=z(Le([]));const _=()=>{const S=g();a(v).join(",")!==S.join(",")&&m(v,S,!0)};xe(()=>{a(f),gt(()=>{_()})});const w=S=>{if(!a(v).find(x=>{const[T]=x.split("?");return T===S})){const x=new URLSearchParams(a(d).search),T=a(d).pathname;x.set(h,[...a(v),S].join(",")),l(`${T}${x.size>0?`?${x.toString()}`:""}`)}},k=S=>a(v).find(x=>{const[T]=x.split("?");return T===S})!==void 0,E=()=>{const S=i(),x=S.findIndex(T=>T.searchParams.has(h));if(S.length<=1||x===-1){const T=new URLSearchParams(a(d).search);T.delete(h),u(`${a(d).pathname}${T.size>0?`?${T.toString()}`:""}`)}else if(x===0){c(S.length-x+1);const T=new URLSearchParams(a(d).search);T.delete(h),u(`${a(d).pathname}${T.size>0?`?${T.toString()}`:""}`)}else c(S.length-x)},y=(S,x)=>{if(x?.full)return`/${S}`;const T=a(v).slice();T.includes(S)||T.push(S);const Z=new URLSearchParams(a(d).search);return Z.set(h,T.join(",")),`${a(d).pathname}?${Z}`},N=(S,x)=>T=>{if(T.preventDefault(),x?.full){l(S);return}w(S)};Pe(()=>{const S=x=>{const T=JSON.parse(x.data),Z=T;if(T.tabId&&T.tabId===r){if(Z.type==="navigateBack"&&a(v).length>0){const le=new URLSearchParams(a(d).search);a(v).length>1?le.set(h,a(v).slice(0,-1).join(",")):le.delete(h),u(`${a(d).pathname}${le.size>0?`?${le.toString()}`:""}`)}return}};return o.addEventListener(S),()=>{o.removeEventListener(S)}}),nc({getStackPages:()=>a(v),pushStackPages:w,hasStackPage:k,clearStackPages:E,getPageUrl:y,createHandlePage:N,getStackPagesFormUrl:g});var L=V(),P=B(L);he(P,()=>e.children??we),p(t,L),J()}function ac(t,e){X(e,!0);const{createBroadcastChannel:n}=Gn(),r=n(),o=_=>_.startsWith("/")?_:`/${_}`,s=_=>{const[w,k]=_.split("?");return{href:o(_),pathname:o(w),search:k?`?${k}`:"",searchParams:new URLSearchParams(k)}};let i=z(Le([{href:`${o(window.location.pathname)}${window.location.search}`,pathname:o(window.location.pathname),search:window.location.search,searchParams:new URLSearchParams(window.location.search)}]));const l=_=>{a(i).push(s(_)),window.history.replaceState(null,"",_)},c=_=>{a(i)[a(i).length-1]=s(_),window.history.replaceState(null,"",_)};vl({getAppLocation:()=>a(i)[a(i).length-1],getAppHistoryStack:()=>a(i),navigate:l,replace:c,addSearchParam:(_,w)=>{const k=a(i)[a(i).length-1],E=k.searchParams;E.set(_,w),c(`${k.pathname}${E.size>0?`?${E.toString()}`:""}`)},deleteSearchParam:_=>{const w=a(i)[a(i).length-1],k=w.searchParams;k.delete(_),c(`${w.pathname}${k.size>0?`?${k.toString()}`:""}`)},back:_=>{const{to:w}=_||{};if(a(i).length>1){if(w){const E=a(i).findIndex(y=>y.href===w);if(E!==-1){m(i,a(i).slice(0,E+1),!0);const y=a(i)[a(i).length-1];window.history.replaceState(null,"",y.href)}else c(w);return}a(i).pop();const k=a(i)[a(i).length-1];window.history.replaceState(null,"",k.href)}else w?c(w):r.postMessage({type:"navigateBack"})},goBack:_=>{if(a(i).length>=_){m(i,a(i).slice(0,-_),!0);const w=a(i)[a(i).length-1];window.history.replaceState(null,"",w.href)}}});var g=V(),v=B(g);he(v,()=>e.children??we),p(t,g),J()}const gs={};function oc(t){Ie(gs,t)}function sc(){const t=Be(gs);if(!t)throw new Error("No KeyboardVisibleContext found");return t}function ic(t,e){X(e,!0);let n=Le({value:!1});const r=()=>n.value;Pe(()=>{const i=()=>{setTimeout(()=>{document.activeElement instanceof HTMLInputElement&&document.activeElement.type==="text"||document.activeElement instanceof HTMLTextAreaElement?n.value=!0:n.value=!1},0)};return i(),document.addEventListener("focusin",i),document.addEventListener("focusout",i),()=>{document.removeEventListener("focusin",i),document.removeEventListener("focusout",i)}}),oc({getIsKeyboardVisible:r});var o=V(),s=B(o);he(s,()=>e.children??we),p(t,o),J()}function lc(t,e){X(e,!0);const n=crypto.randomUUID(),r=(i,l)=>{i.postMessage(JSON.stringify({...l,tabId:n}))};Al({tabId:n,createBroadcastChannel:()=>{const i=new BroadcastChannel("app");return{postMessage:l=>r(i,l),addEventListener:l=>{i.addEventListener("message",l)},removeEventListener:l=>{i.removeEventListener("message",l)}}}});var o=V(),s=B(o);he(s,()=>e.children??we),p(t,o),J()}function cc(t,e){tc(t,{children:(n,r)=>{lc(n,{children:(o,s)=>{Ul(o,{children:(i,l)=>{ql(i,{children:(c,u)=>{Yl(c,{children:(d,f)=>{Gl(d,{children:(h,g)=>{Xl(h,{children:(v,_)=>{Ql(v,{children:(w,k)=>{ic(w,{children:(E,y)=>{ac(E,{children:(N,L)=>{rc(N,{children:(P,S)=>{var x=V(),T=B(x);he(T,()=>e.children??we),p(P,x)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})}function uc(t,e){cc(t,{children:(n,r)=>{_l(n,{children:(o,s)=>{hl(o,{children:(i,l)=>{ml(i,{children:(c,u)=>{yl(c,{children:(d,f)=>{Cl(d,{children:(h,g)=>{Bl(h,{children:(v,_)=>{Ml(v,{children:(w,k)=>{zl(w,{children:(E,y)=>{var N=V(),L=B(N);he(L,()=>e.children??we),p(E,N)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})}})}let Wt=z(""),an=z(null),tr=z(null),nr=z(null);function pn(t,e){m(Wt,""),setTimeout(()=>{m(Wt,t,!0),e?.onFinish&&m(tr,e.onFinish,!0),e?.onCancel&&m(nr,e.onCancel,!0)},16)}const dc=(t,e,n,r,o)=>{t.preventDefault(),a(e)&&(m(n,null),a(e)(),m(e,null)),m(r,""),a(o)?.style.removeProperty("opacity")};var fc=U('<button type="button" class="undoButton svelte-1vxmgq5">undo</button>'),vc=U('<div class="notification svelte-1vxmgq5"><span> </span> <!></div>'),hc=U("<div><!></div>");function gc(t,e){X(e,!0),xe(()=>{a(Wt);const s=a(nr)?2e3:800;a(Wt)&&(a(an)?.getBoundingClientRect(),a(an)?.style.setProperty("opacity","1"));const i=setTimeout(()=>{a(an)?.style.removeProperty("opacity")},s),l=setTimeout(()=>{m(Wt,""),a(tr)&&a(tr)(),m(tr,null),m(nr,null),a(an)?.style.removeProperty("opacity")},s+400);return()=>{clearTimeout(i),clearTimeout(l)}});var n=hc(),r=D(n);{var o=s=>{var i=vc(),l=D(i),c=D(l),u=j(l,2);{var d=f=>{var h=fc();h.__click=[dc,nr,tr,Wt,an],p(f,h)};q(u,f=>{a(nr)&&f(d)})}Bt(i,f=>m(an,f),()=>a(an)),ue(()=>Jt(c,a(Wt))),p(s,i)};q(r,s=>{a(Wt)&&s(o)})}p(t,n),J()}st(["click"]);var _c=U('<span class="vh svelte-s92gzo"><!></span>');function tt(t,e){var n=_c(),r=D(n);he(r,()=>e.children),p(t,n)}var pc=Zi('<svg class="svelte-18et5h9"><use></use></svg>');function ke(t,e){let n=ie(e,"name",8,"");var r=pc(),o=D(r);ue(()=>De(o,"href",`#icon-${n()??""}`)),p(t,r)}const mc=(t,e,n,r,o)=>{if(a(e))return;const s=n().type;s==="closed"?r():s==="opened"&&o()};var wc=U('<button class="buttonMenu svelte-bpktnw"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>');function _s(t,e){X(e,!0);const{sidebarOpen:n,getSidebarState:r,sidebarClose:o}=ka(),{getStackPagesFormUrl:s}=It(),{checkExistedDialog:i}=Jn();let l=O(()=>s().length>0||i());var c=wc();c.__click=[mc,l,r,n,o];var u=D(c);be(u,()=>({"--size":"36px"})),ke(u.lastChild,{name:"sidebarMenu"});var d=j(u,2);tt(d,{children:(f,h)=>{var g=Te("Menu");p(f,g)}}),p(t,c),J()}st(["click"]);var yc=(t,e)=>e.onChange?.(t.target?.value||""),bc=U('<input class="svelte-15lr19w"/>');function ua(t,e){X(e,!0);let n=ie(e,"value",15,"");var r=bc();r.__input=[yc,e],ue(()=>De(r,"placeholder",e.placeholder)),ba("focus",r,function(...o){e.onFocus?.apply(this,o)}),il(r,n),p(t,r),J()}st(["input"]);function ps(t,e){X(e,!0),Pe(()=>{const n=r=>{r.target&&e.dialog?.open&&e.dialogInner&&e.dialogInner!==r.target&&!e.dialogInner.contains(r.target)&&e.onClose()};return document.addEventListener("mousedown",n,{capture:!0}),()=>{document.removeEventListener("mousedown",n,{capture:!0})}}),J()}var Sc=U('<dialog><div class="dialogInner svelte-1x410nl"><!></div></dialog> <!>',1);function Aa(t,e){X(e,!0);let n=z(null),r=z(null),o=z(!1),{showDialog:s,hideDialog:i}=Jn();const l=v=>{v?.preventDefault();const _=setTimeout(()=>{e.onClosed()},150);a(n)?.addEventListener("transitionend",()=>{clearTimeout(_),e.onClosed()},{once:!0}),m(o,!1)};xe(()=>{e.startClose&&l()}),Pe(()=>(a(n)?.showModal(),a(n)?.getClientRects(),m(o,!0),a(n)?.addEventListener("cancel",l),a(n)?.addEventListener("close",l),()=>{a(n)?.removeEventListener("cancel",l),a(n)?.removeEventListener("close",l)})),Pe(()=>(s(),()=>{i()}));var c=Sc(),u=B(c),d=D(u),f=D(d);he(f,()=>e.children),Bt(d,v=>m(r,v),()=>a(r)),Bt(u,v=>m(n,v),()=>a(n));var h=j(u,2);{var g=v=>{ps(v,{get dialog(){return a(n)},get dialogInner(){return a(r)},onClose:l})};q(h,v=>{a(n)&&a(r)&&v(g)})}ue(()=>me(u,1,pe(["dialog",{shown:a(o)}]),"svelte-1x410nl")),p(t,c),J()}var kc=U("<div><!></div>");function ms(t,e){X(e,!0);let n=z(!1),r=z(null);const o=()=>{const u=setTimeout(()=>{e.onClosed()},150);a(r)?.addEventListener("transitionend",()=>{clearTimeout(u),e.onClosed()},{once:!0}),m(n,!1)},s=u=>{u.target!==a(r)&&!a(r)?.contains(u.target)&&o()},i=u=>{u.target!==a(r)&&!a(r)?.contains(u.target)&&o()};Pe(()=>{a(r)?.getClientRects(),m(n,!0);const u=setTimeout(()=>{document.addEventListener("focusin",s),document.addEventListener("click",i)},0);return()=>{clearTimeout(u),document.removeEventListener("focusin",s),document.removeEventListener("click",i)}}),xe(()=>{e.startClose&&o()});var l=kc(),c=D(l);he(c,()=>e.children),Bt(l,u=>m(r,u),()=>a(r)),ue(()=>me(l,1,pe(["menu",{top:e.positionTop,shown:a(n)}]),"svelte-ujw4xi")),p(t,l),J()}const Cc=(t,e)=>{a(e)||m(e,!0)};var Ec=(t,e)=>e("newest"),Pc=(t,e)=>e("oldest"),xc=(t,e)=>e("AtoZ"),Ac=(t,e)=>e("ZtoA"),Dc=U("<div><button>Newest</button> <button>Oldest</button> <button>A to Z</button> <button>Z to A</button></div>"),Tc=U('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),Nc=U('<div class="orderMenu svelte-14zj87s"><button><!> <!></button> <!></div>');function Lc(t,e){X(e,!0);const n=(E,y=we)=>{var N=Dc(),L=D(N);L.__click=[Ec,d];var P=j(L,2);P.__click=[Pc,d];var S=j(P,2);S.__click=[xc,d];var x=j(S,2);x.__click=[Ac,d],ue(()=>{me(N,1,pe(["menu",{menuDialog:y()}]),"svelte-14zj87s"),me(L,1,pe(["menuButton",{menuButtonDialog:y(),current:a(u)==="newest"}]),"svelte-14zj87s"),me(P,1,pe(["menuButton",{menuButtonDialog:y(),current:a(u)==="oldest"}]),"svelte-14zj87s"),me(S,1,pe(["menuButton",{menuButtonDialog:y(),current:a(u)==="AtoZ"}]),"svelte-14zj87s"),me(x,1,pe(["menuButton",{menuButtonDialog:y(),current:a(u)==="ZtoA"}]),"svelte-14zj87s")}),p(E,N)};let r=z(!1),o=z(!1);const{checkMobileSize:s}=Xn(),{getFeedOrder:i,setFeedOrder:l}=Jo();let c=O(s),u=O(i);const d=E=>{m(o,!0),l(E)},f=()=>{m(r,!1),m(o,!1)};Pe(()=>{const E=y=>{y.key==="Escape"&&m(o,!0)};return document.addEventListener("keydown",E),()=>document.removeEventListener("keydown",E)});var h=Nc(),g=D(h);g.__click=[Cc,r],me(g,1,pe(["button","buttonMenu"]),"svelte-14zj87s");var v=D(g);ke(v,{name:"filter"});var _=j(v,2);tt(_,{children:(E,y)=>{var N=Te("show feed order menu");p(E,N)}});var w=j(g,2);{var k=E=>{var y=V(),N=B(y);{var L=S=>{Aa(S,{get startClose(){return a(o)},onClosed:f,children:(x,T)=>{n(x,()=>!0)},$$slots:{default:!0}})},P=S=>{var x=Tc(),T=B(x);be(T,()=>({"--right":"20px","--top":"60px"})),ms(T.lastChild,{get startClose(){return a(o)},onClosed:f,children:(Z,le)=>{n(Z,()=>!1)},$$slots:{default:!0}}),p(S,x)};q(N,S=>{a(c)?S(L):S(P,!1)})}p(E,y)};q(w,E=>{a(r)&&E(k)})}p(t,h),J()}st(["click"]);var Y=(t=>(t.NewNote="newNote",t.EditNote="editNote",t.Settings="settings",t.ImportData="importData",t.ExportData="exportData",t.ClearStore="clearStore",t.Account="account",t.Sync="sync",t.Start="start",t.Auth="auth",t.Signin="signin",t.Signup="signup",t.AccessKeys="accessKeys",t.ConfirmAccessKey="confirmAccessKey",t.Subscription="subscription",t.Exit="exit",t.NotFound="notFound",t.About="about",t.Bin="bin",t))(Y||{}),Bc=U("<a><!></a>"),Ic=U("<button><!></button>");function Ht(t,e){let n=ie(e,"type",3,"standard"),r=ie(e,"typeButton",3,"button"),o=ie(e,"element",3,"button"),s=ie(e,"href",3,""),i=ie(e,"fullWidth",3,!1),l=ie(e,"withoutMinWidth",3,!1);var c=V(),u=B(c);{var d=h=>{var g=Bc();g.__click=function(..._){e.onClick?.apply(this,_)};var v=D(g);he(v,()=>e.children??we),ue(()=>{De(g,"href",s()),me(g,1,pe(["button","a",{dangerous:n()==="dangerous",secondary:n()==="secondary",fullWidth:i(),withoutMinWidth:l()}]),"svelte-aqjevc")}),p(h,g)},f=h=>{var g=Ic();g.__click=function(..._){e.onClick?.apply(this,_)};var v=D(g);he(v,()=>e.children??we),ue(()=>{De(g,"type",r()),me(g,1,pe(["button",{dangerous:n()==="dangerous",secondary:n()==="secondary",fullWidth:i(),withoutMinWidth:l()}]),"svelte-aqjevc")}),p(h,g)};q(u,h=>{o()==="a"?h(d):h(f,!1)})}p(t,c)}st(["click"]);var Mc=U('<div class="block svelte-1dzbsx4"><span class="title svelte-1dzbsx4"> </span> <div class="controls svelte-1dzbsx4"><!> <!></div></div>');function ws(t,e){X(e,!0);let n=ie(e,"buttonCancelTitle",3,"Cancel"),r=ie(e,"buttonConfirmTitle",3,"Confirm"),o=z(!1),s=z(!1);const i=()=>{m(o,!0)},l=()=>{m(o,!0),m(s,!0)};Aa(t,{get startClose(){return a(o)},onClosed:()=>{a(s)?e.onConfirm():e.onCancel()},children:(u,d)=>{var f=Mc(),h=D(f),g=D(h),v=j(h,2),_=D(v);Ht(_,{onClick:i,fullWidth:!0,withoutMinWidth:!0,type:"secondary",children:(k,E)=>{var y=Te();ue(()=>Jt(y,n())),p(k,y)},$$slots:{default:!0}});var w=j(_,2);Ht(w,{onClick:l,fullWidth:!0,withoutMinWidth:!0,type:"dangerous",children:(k,E)=>{var y=Te();ue(()=>Jt(y,r())),p(k,y)},$$slots:{default:!0}}),ue(()=>Jt(g,e.title)),p(u,f)},$$slots:{default:!0}}),J()}const Oc=(t,e)=>{m(e,!0)};var Rc=(t,e)=>{e("/",{full:!0})(t)},Fc=U('<a class="link svelte-13t3afu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Notes</span></a>'),zc=(t,e)=>{e(Y.Bin,{full:!0})(t)},Hc=U('<a class="link svelte-13t3afu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Bin</span></a>'),jc=U('<button class="emptyBinButton svelte-13t3afu" type="button">Empty bin</button>'),Uc=U('<a class="buttonAdd svelte-13t3afu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Add note</span></a>'),Vc=U('<div class="header svelte-13t3afu"><div class="top svelte-13t3afu"><div class="menu svelte-13t3afu"><a class="link svelte-13t3afu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Settings</span></a> <a class="link svelte-13t3afu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Sync</span></a> <!></div> <div class="mobile svelte-13t3afu"><!></div> <!></div> <div class="bottom svelte-13t3afu"><div><div class="sidebarSearchWrapper"><!></div></div> <div class="right svelte-13t3afu"><div class="filter svelte-13t3afu"><div class="feedSearchWrapper svelte-13t3afu"><!></div> <!></div></div></div></div> <!>',1);function qc(t,e){X(e,!0);const{createHandlePage:n,getPageUrl:r}=It(),o=Yo(),s=Zo(),{getScrollContainer:i}=Pa();let l=O(i);const{emptyBin:c,checkNotesInBin:u}=jr(),{getAppLocation:d}=Ot(),f=O(u),h=O(()=>d().pathname);let g=z(!1);const v=()=>{a(l)&&a(l).scrollTo({top:0,behavior:"smooth"})};var _=Vc(),w=B(_),k=D(w),E=D(k),y=D(E),N=O(()=>n(Y.Settings));y.__click=function(...C){a(N)?.apply(this,C)};var L=D(y);be(L,()=>({"--rotate":"30deg","--size":"20px"})),ke(L.lastChild,{name:"settings"});var P=j(y,2),S=O(()=>n(Y.Sync));P.__click=function(...C){a(S)?.apply(this,C)};var x=D(P);be(x,()=>({"--size":"20px"})),ke(x.lastChild,{name:"sync"});var T=j(P,2);{var Z=C=>{var W=Fc();W.__click=[Rc,n];var re=D(W);be(re,()=>({"--size":"18px"})),ke(re.lastChild,{name:"note"}),ue(ee=>De(W,"href",ee),[()=>r("/",{full:!0})]),p(C,W)},le=C=>{var W=V(),re=B(W);{var ee=fe=>{var se=Hc();se.__click=[zc,n];var Ae=D(se);be(Ae,()=>({"--size":"20px"})),ke(Ae.lastChild,{name:"bin"}),ue(ze=>De(se,"href",ze),[()=>r(Y.Bin,{full:!0})]),p(fe,se)};q(re,fe=>{a(f)&&fe(ee)},!0)}p(C,W)};q(T,C=>{a(h)===`/${Y.Bin}`?C(Z):C(le,!1)})}var oe=j(E,2),H=D(oe);_s(H,{});var ne=j(oe,2);{var Q=C=>{var W=V(),re=B(W);{var ee=fe=>{var se=jc();se.__click=[Oc,g],p(fe,se)};q(re,fe=>{a(f)&&fe(ee)})}p(C,W)},ge=C=>{var W=Uc(),re=O(()=>n(Y.NewNote));W.__click=function(...fe){a(re)?.apply(this,fe)};var ee=D(W);be(ee,()=>({"--size":"16px","--color":"#b0b0b0"})),ke(ee.lastChild,{name:"plus"}),ue(fe=>De(W,"href",fe),[()=>r(Y.NewNote)]),p(C,W)};q(ne,C=>{a(h)===`/${Y.Bin}`?C(Q):C(ge,!1)})}var $=j(k,2),te=D($);me(te,1,pe(["left"]),"svelte-13t3afu");var G=D(te),K=D(G);ua(K,{placeholder:"Search tag",get value(){return s.value},set value(C){s.value=C}});var R=j(te,2),F=D(R),ve=D(F),ye=D(ve);ua(ye,{onFocus:v,placeholder:"Search",get value(){return o.value},set value(C){o.value=C}});var A=j(ve,2);Lc(A,{});var M=j(w,2);{var b=C=>{ws(C,{title:"Are you sure you want to empty the bin?",buttonConfirmTitle:"Empty",onConfirm:()=>{c(),m(g,!1)},onCancel:()=>{m(g,!1)}})};q(M,C=>{a(g)&&C(b)})}ue((C,W)=>{De(y,"href",C),De(P,"href",W)},[()=>r(Y.Settings),()=>r(Y.Sync)]),p(t,_),J()}st(["click"]);function Wc(t,e){X(e,!0);const{getIsKeyboardVisible:n}=sc();let r=ie(e,"dialog",7);const o=O(n),s=Zn();let i=null;const l=()=>{e.dialogState==="swiping"&&e.onClose()};xe(()=>(e.dialogState==="swiping"&&(i=setTimeout(l,3e3)),()=>{i&&(clearTimeout(i),i=null)}));let c=null,u=null;const d=3,f=50,h=5,g=.6,v=.3,_=.35,w=.95;let k=0,E=0,y=0,N=!1,L=!1,P=0,S=0,x=0;const T=()=>{k=0,E=0,N=!1,L=!1,P=0,S=0,x=0,y=0,c=null,u!==null&&(cancelAnimationFrame(u),u=null),i&&(clearTimeout(i),i=null)},Z=G=>{r()&&e.dialogState==="opened"&&(k=G.touches[0].clientX,E=G.touches[0].clientY,y=performance.now(),N=!0,L=!1)},le=G=>e.dialogState==="opened"&&G>0||e.dialogState==="swiping"&&G>0,oe=()=>{if(r()){r().style.setProperty("--transition-timing","0s"),e.onSwipe();try{const G=window.getComputedStyle(r()),K=G.transform||G.webkitTransform||"";if(S=r().offsetWidth,(e.dialogState==="swiping"||e.dialogState==="opened")&&(P=0),K&&K!=="none")try{P=new DOMMatrix(K).m41}catch{}L=!0}catch{T()}}},H=()=>{if(!r())return;const K=Math.abs(P+x*S/100)/S;r().style.setProperty("--backdrop-bg",`rgba(0, 0, 0, ${.1*(1-K)})`)},ne=()=>{if(u=null,!c||!N||!r()||a(o)){T();return}const G=[...c.touches].reduce((C,W)=>C+W.clientX,0)/c.touches.length,K=[...c.touches].reduce((C,W)=>C+W.clientY,0)/c.touches.length,R=G-k,F=K-E,ve=Math.abs(R)>Math.abs(F),ye=Math.abs(R)>d;if(!L)if(ve&&ye&&le(R))try{oe()}catch{T();return}else return;let A=P+R*w;A=Math.max(0,Math.min(S,A)),!(A<0)&&(r().style.setProperty("--transition-timing","0s"),r().style.transform=`translate3d(${A}px, 0, 0)`,s.swipingRatio=Math.abs(1-A/S),x=(A-P)/S*100,e.dialogState==="swiping"&&(i&&clearTimeout(i),i=setTimeout(l,3e3)),H())},Q=G=>{if(!N)return;c=G,u===null&&(u=requestAnimationFrame(ne));const K=G.touches[0].clientX-k,R=G.touches[0].clientY-E,F=Math.abs(K)>Math.abs(R);L&&F&&G.preventDefault()},ge=G=>{const K=Math.abs(G);if(K>=g)return h;if(K>=v){const R=(K-v)/(g-v);return f-R*(f-h)}else return f},$=(G,K)=>{if(Math.abs(G)>=g)return _*.5;const F=Math.abs(x)/100;return K?_*Math.max(.5,1-F):_*Math.max(.5,F)},te=G=>{if(u!==null&&(cancelAnimationFrame(u),u=null),!N||!r()){T();return}if(!L){T();return}let K=0;if(G?.changedTouches?.[0]){const A=G.changedTouches[0].clientX,b=performance.now()-y;b>0&&(K=(A-k)/b)}const R=ge(K);let F=null;e.dialogState==="swiping"&&(F=Math.abs(x)>R||K<-v?"close":"open");const ve=e.dialogState==="swiping"&&F==="close",ye=$(K,ve);s.duration=ye-.02,r().style.setProperty("--transition-timing",`${ye}s`),r().offsetWidth,r().style.transform="",F==="open"?e.onOpen():F==="close"&&e.onClose(),r()?.style.removeProperty("--backdrop-bg"),T()};Pe(()=>(r().addEventListener("touchstart",Z,{passive:!0}),r().addEventListener("touchmove",Q,{passive:!1}),r().addEventListener("touchend",te,{passive:!0}),r().addEventListener("touchcancel",te,{passive:!0}),()=>{r().removeEventListener("touchstart",Z),r().removeEventListener("touchmove",Q),r().removeEventListener("touchend",te),r().removeEventListener("touchcancel",te),u!==null&&cancelAnimationFrame(u)})),J()}var Yc=(t,e)=>{e.onStartClose()},Kc=U('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),Gc=U('<dialog><div class="dialogInner svelte-vr2o0t"><div class="header svelte-vr2o0t"><div><!></div></div> <!></div></dialog> <!>',1);function Zc(t,e){X(e,!0);let n=350;const{isScrolling:r,enable:o}=cs();let s=z(null),i=z(null);const l=Zn(),c=P=>{P.preventDefault(),e.onStartClose()};Pe(()=>(a(s)?.addEventListener("close",e.onClosed),a(s)?.addEventListener("cancel",c),()=>{a(s)?.removeEventListener("close",e.onClosed),a(s)?.removeEventListener("cancel",c)}));const u=()=>{a(s)?.style.removeProperty("--transition-timing"),a(s)?.style.removeProperty("transform"),a(s)?.style.removeProperty("--backdrop-bg")},d=()=>{o()},f=O(r);xe(()=>{if(e.dialogState,!!a(s))switch(e.dialogState){case"opening":{a(s).open||a(s).showModal(),a(s).getBoundingClientRect();const P=setTimeout(()=>{u()},n+1),S=()=>{clearTimeout(P),u()};return a(s)?.addEventListener("transitionend",S,{once:!0}),e.onOpened(),()=>{clearTimeout(P),a(s)?.removeEventListener("transitionend",S)}}case"closing":{const P=setTimeout(()=>{e.dialogState==="closing"&&e.onClosed()},n+1),S=()=>{clearTimeout(P),e.onClosed()};return a(s)?.addEventListener("transitionend",S,{once:!0}),()=>{clearTimeout(P),a(s)?.removeEventListener("transitionend",S)}}case"opened":u()}});var h=Gc(),g=B(h),v=D(g),_=D(v),w=D(_),k=D(w);{var E=P=>{var S=Kc();me(S,1,pe(["navigateButton","buttonBack"]),"svelte-vr2o0t"),S.__click=[Yc,e];var x=D(S);be(x,()=>({"--size":"36px"})),ke(x.lastChild,{name:"back"});var T=j(x,2);tt(T,{children:(Z,le)=>{var oe=Te("back");p(Z,oe)}}),p(P,S)};q(k,P=>{(!(e.blocked||e.hidden)||e.blocked&&e.unBlockedBack)&&P(E)})}var y=j(_,2);he(y,()=>e.children),Bt(v,P=>m(i,P),()=>a(i)),Bt(g,P=>m(s,P),()=>a(s));var N=j(g,2);{var L=P=>{Wc(P,{get onClose(){return e.onStartClose},get onOpen(){return e.onStartOpen},get onSwipe(){return e.onSwipe},get dialogState(){return e.dialogState},get dialog(){return a(s)}})};q(N,P=>{(!a(f)&&e.dialogState==="opened"||e.dialogState==="swiping")&&(!e.blocked||e.unBlockedBack)&&P(L)})}ue(()=>me(g,1,pe([{open:e.dialogState==="opened",hidden:e.hidden,isAnimationOn:l.working&&(!l.isSwiping||!e.hidden)},{hidden:e.hidden}]),"svelte-vr2o0t")),ba("scroll",v,d),p(t,h),J()}st(["click"]);const Ka=(t,e)=>{if(!e)return t;if(e.type==="closed")return{type:"closed"};switch(t.type){case"opened":return e.type==="close"?{type:"closing"}:e.type==="swipe"?{type:"swiping"}:t;case"closed":return e.type==="open"?{type:"opening"}:t;case"swiping":return e.type==="open"?{type:"opening"}:e.type==="close"?{type:"closing"}:t;case"opening":return e.type==="opened"?{type:"opened"}:t;default:return t}};function Xc(t,e){X(e,!0);let n=ie(e,"blocked",3,!1),r=ie(e,"hiddenDialog",3,!1),o=ie(e,"unBlockedBack",3,!1),s=ie(e,"onStartClose",3,()=>{}),i=ie(e,"onClose",3,()=>{});const l=Zn();let c=z(Le(Ka({type:"closed"})));const u=y=>{m(c,Ka(a(c),y),!0)},d=()=>{n()&&!o()||(s()(),u({type:"close"}))},f=()=>{u({type:"open"})},h=()=>{u({type:"opened"}),l.swipingRatio=1,l.duration=.2},g=()=>{i()(),u({type:"closed"}),l.swipingRatio=1,l.duration=.2},v=()=>{u({type:"swipe"})};xe(()=>{a(c).type==="swiping"?l.isSwiping=!0:l.isSwiping=!1,a(c).type==="closed"&&e.shownDialog?f():a(c).type==="opened"&&!e.shownDialog&&d()});var _={handleComputeState:u},w=V(),k=B(w);{var E=y=>{Zc(y,{onSwipe:v,onOpened:h,onClosed:g,onStartClose:d,onStartOpen:f,get dialogState(){return a(c).type},get hidden(){return r()},get blocked(){return n()},get unBlockedBack(){return o()},children:(N,L)=>{var P=V(),S=B(P);he(S,()=>e.children),p(N,P)},$$slots:{default:!0}})};q(k,y=>{a(c).type!=="closed"&&y(E)})}return p(t,w),J(_)}const Jc=({getDialog:t,onOpen:e,onStartClose:n,onClose:r})=>{const o=i=>{i.preventDefault(),n()},s=()=>{r?.()};Pe(()=>{const i=t();return i?.addEventListener("cancel",o),i?.addEventListener("close",s),()=>{i?.removeEventListener("cancel",o),i?.removeEventListener("close",s)}}),Pe(()=>{const i=t();i?.showModal(),i?.getBoundingClientRect(),e()})};var Qc=(t,e)=>{e.onStartBack()},$c=U('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),eu=(t,e)=>{e.onStartClose()},tu=U('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),nu=U('<dialog><div class="dialogInner svelte-rt409n"><div class="header svelte-rt409n"><div><!></div> <div><!></div></div> <!></div></dialog> <!>',1);function ru(t,e){X(e,!0);let n=ie(e,"blockedDialog",3,!1),r=ie(e,"hiddenDialog",3,!1),o=ie(e,"isDesktopAnimationOff",3,!1),s=z(null),i=z(null);Jc({getDialog:()=>a(s),onOpen:e.onOpen,onStartClose:e.onStartClose,onClose:e.onClose});const l=Zn();xe(()=>{e.stateDialog==="closing"&&(l.working?a(s)?.addEventListener("transitionend",()=>{a(s)?.close()},{once:!0}):a(s)?.close())});const{getDialogPageHeight:c}=xa(),u=O(c);var d=nu(),f=B(d),h=D(f),g=D(h),v=D(g),_=D(v);{var w=P=>{var S=$c();me(S,1,pe(["navigateButton","buttonBack"]),"svelte-rt409n"),S.__click=[Qc,e];var x=D(S);be(x,()=>({"--size":"28px"})),ke(x.lastChild,{name:"back"});var T=j(x,2);tt(T,{children:(Z,le)=>{var oe=Te("back");p(Z,oe)}}),p(P,S)};q(_,P=>{(!(n()||r())||n()&&e.unBlockedBack)&&e.onStartBack&&P(w)})}var k=j(v,2),E=D(k);{var y=P=>{var S=tu();me(S,1,pe(["navigateButton","buttonClose"]),"svelte-rt409n"),S.__click=[eu,e];var x=D(S);be(x,()=>({"--size":"28px"})),ke(x.lastChild,{name:"close"});var T=j(x,2);tt(T,{children:(Z,le)=>{var oe=Te("close");p(Z,oe)}}),p(P,S)};q(E,P=>{n()||r()||P(y)})}var N=j(g,2);he(N,()=>e.children),Bt(h,P=>m(i,P),()=>a(i)),Bt(f,P=>m(s,P),()=>a(s));var L=j(f,2);ps(L,{get dialog(){return a(s)},get dialogInner(){return a(i)},get onClose(){return e.onStartClose}}),ue(()=>{jn(f,`height: ${a(u)+74}px`),me(f,1,pe([{open:e.stateDialog==="open",isAnimationOn:l.working,isDesktopAnimationOff:o(),hiddenDialog:r()}]),"svelte-rt409n")}),p(t,d),J()}st(["click"]);const au=({onStartClose:t,onClose:e})=>{let n=z("close");return{get state(){return a(n)},set state(i){m(n,i,!0)},handleStartClose:(i=!1)=>{i||(m(n,"closing"),t?.())},handleOpen:()=>{m(n,"open")},handleClose:()=>{m(n,"close"),e?.()}}};function ou(t,e){X(e,!0);let n=ie(e,"blockedDialog",3,!1),r=ie(e,"hiddenDialog",3,!1),o=ie(e,"onStartClose",3,()=>{}),s=ie(e,"onClose",3,()=>{}),i=au({onStartClose:o(),onClose:s()});xe(()=>{i.state==="close"&&e.shownDialog?i.state="opening":i.state==="open"&&!e.shownDialog&&i.handleStartClose(n())});const l=f=>{f.key==="Escape"&&(document.activeElement instanceof HTMLInputElement&&document.activeElement.type==="text"||document.activeElement instanceof HTMLTextAreaElement||n())&&(f.preventDefault(),f.stopPropagation())};Pe(()=>(document.addEventListener("keydown",l),()=>{document.removeEventListener("keydown",l)}));var c=V(),u=B(c);{var d=f=>{ru(f,{get stateDialog(){return i.state},get blockedDialog(){return n()},get unBlockedBack(){return e.unBlockedBack},get hiddenDialog(){return r()},get onOpen(){return i.handleOpen},get onStartBack(){return e.onStartBack},onStartClose:()=>{i.handleStartClose(n())},get onClose(){return i.handleClose},children:(h,g)=>{var v=V(),_=B(v);he(_,()=>e.children),p(h,v)},$$slots:{default:!0}})};q(u,f=>{i.state!=="close"&&f(d)})}p(t,c),J()}function su(t,e){X(e,!0);let n=ie(e,"blockedDialog",3,!1),r=ie(e,"hiddenDialog",3,!1),o=ie(e,"isLastDialog",3,!1),s=ie(e,"onStartClose",3,()=>{}),i=ie(e,"onClose",3,()=>{});const l=O(()=>o()?void 0:e.onStartBack),{showDialog:c,hideDialog:u}=Jn();Pe(()=>(c(),()=>{u()}));const{checkMobileSize:d}=Xn();var f=V(),h=B(f);{var g=_=>{Xc(_,{get shownDialog(){return e.shownDialog},get blocked(){return n()},get unBlockedBack(){return e.unBlockedBack},get hiddenDialog(){return r()},get children(){return e.children},get onStartClose(){return e.onStartBack},get onClose(){return i()}})},v=_=>{ou(_,{get shownDialog(){return e.shownDialog},get blockedDialog(){return n()},get unBlockedBack(){return e.unBlockedBack},get hiddenDialog(){return r()},get children(){return e.children},get onStartBack(){return a(l)},get onStartClose(){return s()},get onClose(){return i()}})};q(h,_=>{d()?_(g):_(v,!1)})}p(t,f),J()}function Ga(t,e){X(e,!0);const{back:n}=Ot(),{clearStackPages:r}=It();let o=ie(e,"blocked",3,!1),s=ie(e,"isLastDialog",3,!1),i=ie(e,"onBack",3,()=>{}),l=ie(e,"onClosed",3,()=>{});const{checkBlockedDialog:c,checkUnBlockedBackDialog:u}=Jn(),d=O(()=>o()||e.hidden||c()),f=O(()=>u()&&!s()),h=()=>{(!a(d)||a(d)&&a(f))&&e.shown&&(n(),i()())},g=()=>{((!a(d)||a(d)&&a(f))&&e.shown||!e.shown)&&r()},v=()=>{l()()};{let _=O(()=>a(d)&&e.shown);su(t,{get shownDialog(){return e.shown},get blockedDialog(){return a(_)},get unBlockedBack(){return a(f)},get hiddenDialog(){return e.hidden},get isLastDialog(){return s()},onStartBack:h,onStartClose:g,onClose:v,children:(w,k)=>{var E=V(),y=B(E);he(y,()=>e.children),p(w,E)},$$slots:{default:!0}})}J()}var iu=U('<h1 class="svelte-1ky72l5"><!></h1>');function lu(t,e){var n=iu(),r=D(n);he(r,()=>e.children),p(t,n)}var cu=U('<div class="block svelte-ujk4k"><!> <div class="container svelte-ujk4k"><!> <!></div></div>');function uu(t,e){X(e,!0);const{blockDialog:n}=Jn(),{pushStackPages:r,clearStackPages:o}=It(),{initLocalAccount:s}=Ea();let i=z("idle");const l=()=>{m(i,"loading"),r(Y.Auth)},c=async()=>{m(i,"loading"),Sl(),await s(),n(!1),o()};xe(()=>{n(a(i)==="idle"||a(i)==="loading")}),Pe(()=>(n(!0),()=>{n(!1)}));var u=cu(),d=D(u);lu(d,{children:(v,_)=>{var w=Te("use app");p(v,w)}});var f=j(d,2),h=D(f);Ht(h,{onClick:l,fullWidth:!0,children:(v,_)=>{var w=Te("cloud account");p(v,w)},$$slots:{default:!0}});var g=j(h,2);Ht(g,{onClick:c,fullWidth:!0,type:"secondary",children:(v,_)=>{var w=Te("without account");p(v,w)},$$slots:{default:!0}}),p(t,u),J()}var du=U('<div class="svelte-1x9a4ve"><!></div>');function Re(t,e){X(e,!0);const{setDialogPageHeight:n}=xa();let r=z(null);Pe(()=>{a(r)&&(a(r).getBoundingClientRect(),a(r).style.opacity="1");const i=new ResizeObserver(l=>{for(let c of l){const u=c.contentRect.height;n(u)}});if(a(r))return i.observe(a(r)),()=>{a(r)&&i.unobserve(a(r)),i.disconnect()}});var o=du(),s=D(o);he(s,()=>e.children),Bt(o,i=>m(r,i),()=>a(r)),p(t,o),J()}var fu=U('<div class="svelte-stjbkr"><p class="svelte-stjbkr">Page not found</p> <!></div>');function vu(t,e){X(e,!1);const{navigate:n}=Ot(),r=i=>{i.preventDefault(),n("/")};ll();var o=fu(),s=j(D(o),2);Ht(s,{element:"a",href:"/",onClick:r,children:(i,l)=>{var c=Te("close");p(i,c)},$$slots:{default:!0}}),p(t,o),J()}const hu="modulepreload",gu=function(t){return"/"+t},Za={},He=function(e,n,r){let o=Promise.resolve();if(n&&n.length>0){let c=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=i?.nonce||i?.getAttribute("nonce");o=c(n.map(u=>{if(u=gu(u),u in Za)return;Za[u]=!0;const d=u.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":hu,d||(h.as="script"),h.crossOrigin="",h.href=u,l&&h.setAttribute("nonce",l),document.head.appendChild(h),d)return new Promise((g,v)=>{h.addEventListener("load",g),h.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return o.then(i=>{for(const l of i||[])l.status==="rejected"&&s(l.reason);return e().catch(s)})};var _u=U('<div class="svelte-10xfz1h"><p class="svelte-10xfz1h">Something went wrong. Please reload the page</p> <!></div>');function pu(t){var e=_u(),n=j(D(e),2);Ht(n,{onClick:()=>location.reload(),children:(r,o)=>{var s=Te("Reload");p(r,s)},$$slots:{default:!0}}),p(t,e)}var mu=U('<div><!> <div class="loader svelte-m0sno1"></div></div>');function ys(t,e){X(e,!0);let n=z(!1);Pe(()=>{const s=setTimeout(()=>{m(n,!0)},200);return()=>{clearTimeout(s)}});var r=mu(),o=D(r);he(o,()=>e.children??we),ue(()=>me(r,1,pe(["block",{shown:a(n)}]),"svelte-m0sno1")),p(t,r),J()}var wu=U('<div class="svelte-1mu1b44"><!></div>');function yu(t,e){X(e,!0);const{getDialogPageHeight:n}=xa(),r=O(n);var o=wu(),s=D(o);ys(s,{}),ue(()=>jn(o,`min-height: ${a(r)??""}px;`)),p(t,o),J()}function Ve(t,e){X(e,!0);const n={},r=Object.assign({"./Pages/About.svelte":()=>He(()=>import("./DpoYfRtx.js"),__vite__mapDeps([0,1])),"./Pages/AccessKeys.svelte":()=>He(()=>import("./DEvy0Gvj.js"),__vite__mapDeps([2,3,4,5])),"./Pages/Account.svelte":()=>He(()=>import("./D_cAHKpr.js"),__vite__mapDeps([6,3,7])),"./Pages/Auth.svelte":()=>He(()=>import("./Ce5P0Y_4.js"),__vite__mapDeps([8,9])),"./Pages/ClearStore.svelte":()=>He(()=>import("./1xIvmOq3.js"),__vite__mapDeps([10,11])),"./Pages/ConfirmAccessKey.svelte":()=>He(()=>import("./vKJ9tOsO.js"),__vite__mapDeps([12,4,3,13,14,15,16])),"./Pages/EditNote.svelte":()=>He(()=>import("./pQTflqHU.js"),__vite__mapDeps([17,18,19,14,15,20,21,22])),"./Pages/Exit.svelte":()=>He(()=>import("./QTNigSHR.js"),__vite__mapDeps([23,24])),"./Pages/ExportData.svelte":()=>He(()=>import("./DUllpDvw.js"),__vite__mapDeps([25,19,14,15,20,26,27,28])),"./Pages/ImportData.svelte":()=>He(()=>import("./CydoLJqW.js"),__vite__mapDeps([29,19,14,15,20,30])),"./Pages/NewNote.svelte":()=>He(()=>import("./CiiUxlZu.js"),__vite__mapDeps([31,18,19,14,15,20,21])),"./Pages/Settings.svelte":()=>He(()=>import("./BGA9MGvU.js"),__vite__mapDeps([32,26,27,33])),"./Pages/Signin.svelte":()=>He(()=>import("./wh5UaPLm.js"),__vite__mapDeps([34,4,3,13,35])),"./Pages/Signup.svelte":()=>He(()=>import("./doHZmXOy.js"),__vite__mapDeps([36,13,4,3,37])),"./Pages/Subscription.svelte":()=>He(()=>import("./DNdBBv3I.js"),__vite__mapDeps([38,39])),"./Pages/Sync.svelte":()=>He(()=>import("./BnwJRbJL.js"),__vite__mapDeps([40,41]))}),o=async l=>{const c=`./Pages/${l[0].toUpperCase()+l.slice(1)}.svelte`;if(!n[l]){if(r[c]){const u=r[c]();return n[l]={promise:u},n[l].module=await u,n[l].module}throw new Error(`Page ${l} not found`)}return n[l].module||await n[l].promise};var s=V(),i=B(s);Ho(i,()=>o(e.page),l=>{yu(l,{})},(l,c)=>{const u=O(()=>a(c).default);var d=V(),f=B(d);Vo(f,()=>a(u),(h,g)=>{g(h,{get params(){return e.params},get hidden(){return e.hidden}})}),p(l,d)},l=>{pu(l)}),p(t,s),J()}var bu=U('<button> <svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>');function bs(t,e){let n=O(()=>e.style==="selected"?"45deg":"0deg");var r=bu();r.__click=function(...c){e.onClick?.apply(this,c)};var o=D(r),s=j(o);be(s,()=>({"--size":e.size==="small"?"10px":"12px","--rotate":a(n)})),ke(s.lastChild,{name:"plus"});var i=j(s,2);{var l=c=>{tt(c,{children:(u,d)=>{var f=Te("add tag");p(u,f)}})};q(i,c=>{e.title===void 0&&c(l)})}ue(()=>{De(r,"type",e.type),me(r,1,pe([{selectedTag:e.style==="selected",small:e.size==="small",empty:e.title===void 0}]),"svelte-uu8a24"),Jt(o,`${e.title??""} `)}),p(t,r)}st(["click"]);var Su=U("<div></div>");function Xa(t,e){X(e,!0);let n=ie(e,"mobile",3,!1);var r=Su();Hr(r,20,()=>e.tags,o=>o,(o,s)=>{bs(o,{get title(){return s},onClick:()=>e.handleTagClick(s)})}),ue(()=>me(r,1,pe(["tags",{mobile:n()}]),"svelte-1c53r32")),p(t,r),J()}var ku=U("<div></div>");function Ja(t,e){X(e,!0);var n=V(),r=B(n);{var o=s=>{var i=ku();me(i,1,pe(["tags","selectedTags"]),"svelte-58z9m1"),Hr(i,20,()=>e.selectedTags,l=>l,(l,c)=>{bs(l,{get title(){return c},onClick:()=>e.handleSelectedTagClick(c),style:"selected"})}),p(s,i)};q(r,s=>{e.selectedTags.size>0&&s(o)})}p(t,n),J()}const Cu=(t,e,n)=>{if(t.has("inbox"))return[];const r=[],o=Array.from(t.values());for(const s of e)if(s.data&&!(n&&!n(s))){if(t.size===0){for(const i of s?.data?.tags||[])r.includes(i)||r.push(i);for(const i of s?.data?.draft?.tags||[])r.includes(i)||r.push(i);continue}if(s.data&&o.every(i=>s.data?.tags.includes(i)))for(const i of s.data.tags)!t.has(i)&&!r.includes(i)&&r.push(i);if(s&&s.data.draft&&o.every(i=>s.data?.draft?.tags.includes(i)))for(const i of s.data.draft.tags)!t.has(i)&&!r.includes(i)&&r.push(i)}return r};var Eu=(t,e,n)=>{e(),n("/",{full:!0})(t)},Pu=U('<a class="link svelte-ltt61h"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a>'),xu=(t,e,n)=>{e(),n(Y.Bin,{full:!0})(t)},Au=U('<a class="link svelte-ltt61h"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a>'),Du=U('<div class="sidebarFixed svelte-ltt61h"><div class="nav svelte-ltt61h"><!> <div class="menu svelte-ltt61h"><a class="link svelte-ltt61h"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a> <a class="link svelte-ltt61h"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a> <!></div></div> <div class="searchWrapper svelte-ltt61h"><!></div> <!></div> <!>',1),Tu=U('<div class="sidebar svelte-ltt61h"><div class="sidebarFixed svelte-ltt61h"><!></div> <!></div>');function Nu(t,e){X(e,!0);const{checkMobileSize:n}=Xn(),{sidebarClose:r}=ka(),{getAppLocation:o}=Ot(),{getPageUrl:s,createHandlePage:i,getStackPagesFormUrl:l}=It(),c=Zo(),u=O(()=>o().pathname),{getSelectedTags:d,addTag:f,removeTag:h}=es();let g=O(d);const{checkNotesInBin:v}=jr();let _=ie(e,"getNotes",3,()=>[]),w=ie(e,"mode",3,"notes"),k=null;function E(){return k||(k=He(()=>import("./lL-ihTp5.js"),__vite__mapDeps([42,43]))),k}const y=H=>{f(H)},N=H=>{h(H)};let L=O(()=>Cu(a(g),_()()||[],H=>!(H?.data&&H.data.deletedAt&&w()==="notes"||H?.data&&!H.data.deletedAt&&w()==="bin")).filter(H=>c.value===""||H.toLowerCase().indexOf(c.value.toLowerCase())!==-1).sort((H,ne)=>H==="inbox"?-1:ne==="inbox"?1:H.localeCompare(ne))),P=O(n);Pe(()=>{a(P)&&E()});const{checkExistedDialog:S}=Jn();let x=O(()=>l().length>0||S());var T=V(),Z=B(T);{var le=H=>{var ne=V(),Q=B(ne);Ho(Q,E,null,(ge,$)=>{const te=O(()=>a($).default);var G=V(),K=B(G);Vo(K,()=>a(te),(R,F)=>{F(R,{get blocked(){return a(x)},children:(ve,ye)=>{var A=Du(),M=B(A),b=D(M),C=D(b);_s(C,{});var W=j(C,2),re=D(W),ee=O(()=>i(Y.Settings));re.__click=function(...Ee){a(ee)?.apply(this,Ee)};var fe=D(re);be(fe,()=>({"--size":"24px"})),ke(fe.lastChild,{name:"settings"});var se=j(fe,2);tt(se,{children:(Ee,Ze)=>{var nt=Te("Settings");p(Ee,nt)}});var Ae=j(re,2),ze=O(()=>i(Y.Sync));Ae.__click=function(...Ee){a(ze)?.apply(this,Ee)};var je=D(Ae);be(je,()=>({"--size":"24px"})),ke(je.lastChild,{name:"sync"});var Ke=j(je,2);tt(Ke,{children:(Ee,Ze)=>{var nt=Te("Sync");p(Ee,nt)}});var Ue=j(Ae,2);{var Me=Ee=>{var Ze=Pu();Ze.__click=[Eu,r,i];var nt=D(Ze);be(nt,()=>({"--size":"24px"})),ke(nt.lastChild,{name:"note"});var kt=j(nt,2);tt(kt,{children:(lt,qt)=>{var rn=Te("Notes");p(lt,rn)}}),ue(lt=>De(Ze,"href",lt),[()=>s("/",{full:!0})]),p(Ee,Ze)},bt=Ee=>{var Ze=V(),nt=B(Ze);{var kt=lt=>{var qt=Au();qt.__click=[xu,r,i];var rn=D(qt);be(rn,()=>({"--size":"24px"})),ke(rn.lastChild,{name:"bin"});var Ur=j(rn,2);tt(Ur,{children:(Ct,Qn)=>{var vr=Te("Bin");p(Ct,vr)}}),ue(Ct=>De(qt,"href",Ct),[()=>s(Y.Bin,{full:!0})]),p(lt,qt)};q(nt,lt=>{v()&&lt(kt)},!0)}p(Ee,Ze)};q(Ue,Ee=>{a(u)===`/${Y.Bin}`?Ee(Me):Ee(bt,!1)})}var Ge=j(b,2),it=D(Ge);ua(it,{placeholder:"Search tag",get value(){return c.value},set value(Ee){c.value=Ee}});var St=j(Ge,2);Ja(St,{get selectedTags(){return a(g)},handleSelectedTagClick:N});var Vt=j(M,2);Xa(Vt,{get tags(){return a(L)},handleTagClick:y,mobile:!0}),ue((Ee,Ze)=>{De(re,"href",Ee),De(Ae,"href",Ze)},[()=>s(Y.Settings),()=>s(Y.Sync)]),p(ve,A)},$$slots:{default:!0}})}),p(ge,G)}),p(H,ne)},oe=H=>{var ne=Tu(),Q=D(ne),ge=D(Q);Ja(ge,{get selectedTags(){return a(g)},handleSelectedTagClick:N});var $=j(Q,2);Xa($,{get tags(){return a(L)},handleTagClick:y}),p(H,ne)};q(Z,H=>{a(P)?H(le):H(oe,!1)})}p(t,T),J()}st(["click"]);const Lu=(t,e,n,r)=>{e.noteData.pinnedAt?(n(e.noteId,!1),pn("Note unpinned",{onCancel:()=>{n(e.noteId,!0)}})):(n(e.noteId,!0),pn("Note pinned",{onCancel:()=>{n(e.noteId,!1)}})),m(r,!0)},Bu=(t,e,n)=>{navigator.clipboard.writeText(e.noteData.url),pn("Link copied"),m(n,!0)};var Iu=U('<li class="svelte-8ve3pe"><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>Copy link</button></li>'),Mu=(t,e,n)=>{m(e,!0),m(n,!0)},Ou=U('<li class="svelte-8ve3pe"><button><span class="wrapperIcon svelte-8ve3pe"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></span>Delete</button></li>'),Ru=(t,e,n)=>{m(e,!0),m(n,!0)},Fu=(t,e,n)=>{m(e,!0),m(n,!0)},zu=U('<li class="svelte-8ve3pe"><button><span class="wrapperIcon svelte-8ve3pe"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></span>Restore</button></li> <li class="svelte-8ve3pe"><button><span class="wrapperIcon svelte-8ve3pe"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></span>Delete from bin</button></li>',1),Hu=U('<ul class="menu svelte-8ve3pe"><!> <li class="svelte-8ve3pe"><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> </button></li> <!></ul>'),ju=U('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),Uu=U("<!> <!>",1);function Vu(t,e){X(e,!0);const n=(x,T=we)=>{var Z=Hu(),le=D(Z);{var oe=K=>{var R=Iu(),F=D(R);F.__click=[Bu,e,u];var ve=D(F);be(ve,()=>({"--size":"22px"})),ke(ve.lastChild,{name:"copy"}),ue(()=>me(F,1,pe(["button",{buttonMenuDialog:T()}]),"svelte-8ve3pe")),p(K,R)};q(le,K=>{T()&&e.noteData.url&&K(oe)})}var H=j(le,2),ne=D(H);ne.__click=[Lu,e,s,u];var Q=D(ne);{let K=O(()=>e.noteData.pinnedAt?"pin-cancel":"pin");be(Q,()=>({"--size":"22px"})),ke(Q.lastChild,{get name(){return a(K)}})}var ge=j(Q),$=j(H,2);{var te=K=>{var R=Ou(),F=D(R);F.__click=[Mu,d,u];var ve=D(F),ye=D(ve);be(ye,()=>({"--size":"18px"})),ke(ye.lastChild,{name:"bin"}),ue(()=>me(F,1,pe(["button",{buttonMenuDialog:T()}]),"svelte-8ve3pe")),p(K,R)},G=K=>{var R=zu(),F=B(R),ve=D(F);ve.__click=[Ru,f,u];var ye=D(ve),A=D(ye);be(A,()=>({"--size":"18px"})),ke(A.lastChild,{name:"bin-cancel"});var M=j(F,2),b=D(M);b.__click=[Fu,h,u];var C=D(b),W=D(C);be(W,()=>({"--size":"18px"})),ke(W.lastChild,{name:"bin"}),ue(()=>{me(ve,1,pe(["button",{buttonMenuDialog:T()}]),"svelte-8ve3pe"),me(b,1,pe(["button",{buttonMenuDialog:T()}]),"svelte-8ve3pe")}),p(K,R)};q($,K=>{l()==="notes"?K(te):K(G,!1)})}ue(()=>{me(ne,1,pe(["button",{buttonMenuDialog:T()}]),"svelte-8ve3pe"),Jt(ge,` ${e.noteData.pinnedAt?"Unpin":"Pin"}`)}),p(x,Z)},{moveNoteToBin:r,deleteNote:o,pinNote:s,restoreNoteFromBin:i}=jr();let l=ie(e,"mode",3,"notes"),c=ie(e,"shownMenu",15),u=z(!1),d=z(!1),f=z(!1),h=z(!1);const{checkMobileSize:g}=Xn();let v=O(g);const _=()=>{o(e.noteId),pn("Draft deleted")},w=async()=>{r(e.noteId),pn("Note moved to bin",{onCancel:()=>{i(e.noteId)}})},k=()=>{i(e.noteId),pn("Note restored from bin",{onCancel:()=>{r(e.noteId)}})},E=()=>{a(d)?(m(d,!1),e.noteData.type==="draft"?_():w()):a(f)&&(m(f,!1),k()),c(!1),m(u,!1)};var y=Uu(),N=B(y);{var L=x=>{var T=V(),Z=B(T);{var le=H=>{Aa(H,{get startClose(){return a(u)},onClosed:E,children:(ne,Q)=>{n(ne,()=>!0)},$$slots:{default:!0}})},oe=H=>{var ne=ju(),Q=B(ne);be(Q,()=>({"--bottom":"-90px","--right":"20px"})),ms(Q.lastChild,{get startClose(){return a(u)},get positionTop(){return e.showMenuUp},onClosed:E,children:(ge,$)=>{n(ge,()=>!1)},$$slots:{default:!0}}),p(H,ne)};q(Z,H=>{a(v)?H(le):H(oe,!1)})}p(x,T)};q(N,x=>{c()&&x(L)})}var P=j(N,2);{var S=x=>{ws(x,{title:"Are you sure you want to delete this note?",buttonConfirmTitle:"Delete",onConfirm:()=>{o(e.noteId),m(h,!1)},onCancel:()=>{m(h,!1)}})};q(P,x=>{a(h)&&x(S)})}p(t,y),J()}st(["click"]);const qu=(t,e)=>{m(e,!0)},Wu=(t,e,n)=>{navigator.clipboard.writeText(e.noteData.url),pn("Link copied"),m(n,!1)},Yu=(t,e)=>{m(e,!0)},Ku=(t,e)=>{m(e,!1)},Gu=(t,e,n,r)=>{t.preventDefault(),e.noteData.type==="draft"?n(`${Y.NewNote}`):n(`${Y.EditNote}?id=${e.noteId}`),m(r,!1)};var Zu=U('<div class="iconPlaceholder svelte-1jg44o9"></div>'),Xu=U('<img loading="lazy" class="noteIcon" height="16" width="16" alt=""/>'),Ju=U('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),Qu=U('<div class="noteIconWrapper svelte-1jg44o9"><!></div>'),$u=U('<button class="button svelte-1jg44o9"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),ed=(t,e)=>{m(e,!1)},td=U('<!> <a target="_blank" rel="noopener noreferrer" class="button openLink svelte-1jg44o9"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a>',1),nd=U('<li><!> <a class="noteLink svelte-1jg44o9" target="_blank" rel="noopener noreferrer"> </a> <div><!> <button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button></div> <!></li>');function rd(t,e){X(e,!0);const{pushStackPages:n}=It(),{getFaviconEnabled:r}=xl();let o=ie(e,"mode",3,"notes"),s=z(!1),i=z(!1),l=z(!1),c=O(r);const{checkMobileSize:u}=Xn(),d=x=>{try{return`https://icons.duckduckgo.com/ip3/${new URL(x).host}.ico`}catch{return""}},f=e.noteData.url||e.noteData.draft?.url||"";var h=nd();h.__focusin=[Yu,i],h.__focusout=[Ku,i];var g=D(h);{var v=x=>{var T=Qu(),Z=D(T);{var le=H=>{var ne=V(),Q=B(ne);{var ge=te=>{var G=Zu();p(te,G)},$=te=>{var G=Xu();ue(K=>De(G,"src",K),[()=>d(f)]),ba("error",G,()=>{m(l,!0)}),p(te,G)};q(Q,te=>{a(l)?te(ge):te($,!1)})}p(H,ne)},oe=H=>{var ne=Ju(),Q=B(ne);be(Q,()=>({"--size":"16px"})),ke(Q.lastChild,{name:"note"}),p(H,ne)};q(Z,H=>{f?H(le):H(oe,!1)})}p(x,T)};q(g,x=>{a(c)&&x(v)})}var _=j(g,2);_.__click=[Gu,e,n,i];var w=D(_),k=j(_,2),E=D(k);{var y=x=>{var T=td(),Z=B(T);{var le=Q=>{var ge=$u();ge.__click=[Wu,e,i];var $=D(ge);be($,()=>({"--size":"20px"})),ke($.lastChild,{name:"copy"});var te=j($,2);tt(te,{children:(G,K)=>{var R=Te("copy link");p(G,R)}}),ue(()=>De(ge,"tabindex",e.focusHidden?-1:0)),p(Q,ge)};q(Z,Q=>{u()||Q(le)})}var oe=j(Z,2);oe.__click=[ed,i];var H=D(oe);be(H,()=>({"--size":"18px"})),ke(H.lastChild,{name:"open"});var ne=j(H,2);tt(ne,{children:(Q,ge)=>{var $=Te();ue(()=>Jt($,e.noteData.draft?.name||e.noteData.name||"unknown")),p(Q,$)}}),ue(()=>{De(oe,"href",f),De(oe,"tabindex",e.focusHidden?-1:0)}),p(x,T)};q(E,x=>{f&&x(y)})}var N=j(E,2);N.__click=[qu,s],me(N,1,pe(["button","buttonMenu"]),"svelte-1jg44o9");var L=D(N);be(L,()=>({"--size":"18px","--rotate":"90deg"})),ke(L.lastChild,{name:"menu"});var P=j(L,2);tt(P,{children:(x,T)=>{var Z=Te("show menu");p(x,Z)}});var S=j(k,2);Vu(S,{get mode(){return o()},get noteId(){return e.noteId},get noteData(){return e.noteData},get showMenuUp(){return e.showMenuUp},get shownMenu(){return a(s)},set shownMenu(x){m(s,x,!0)}}),ue((x,T)=>{me(h,1,x,"svelte-1jg44o9"),De(_,"tabindex",e.focusHidden?-1:0),De(_,"href",T),Jt(w,e.noteData?.draft?.name||e.noteData?.name||"unknown"),me(k,1,pe(["noteMenuWrapper",{noteMenuWrapperActive:a(i)}]),"svelte-1jg44o9"),De(N,"tabindex",e.focusHidden?-1:0)},[()=>pe(["record",{pinned:!!e.noteData.pinnedAt,draft:!!e.noteData.draft}]),()=>`/?stackPages=${encodeURIComponent(`${Y.EditNote}?id=${e.noteId}`)}`]),p(t,h),J()}st(["focusin","focusout","click"]);var Un,Ss,ks;class ad{constructor(e){_e(this,Un);_t(this,"data");_t(this,"compare");this.data=[],this.compare=e}insert(e){this.data.push(e),Oe(this,Un,Ss).call(this)}extractMin(){if(this.data.length===0)return;const e=this.data[0],n=this.data.pop();return this.data.length&&n!==void 0&&(this.data[0]=n,Oe(this,Un,ks).call(this)),e}isEmpty(){return this.data.length===0}}Un=new WeakSet,Ss=function(){let e=this.data.length-1;const n=this.data[e];for(;e>0;){const r=Math.floor((e-1)/2);if(this.compare(n,this.data[r])>=0)break;[this.data[e],this.data[r]]=[this.data[r],this.data[e]],e=r}},ks=function(){let e=0;const n=this.data.length;for(;;){const r=2*e+1,o=2*e+2;let s=e;if(r<n&&this.compare(this.data[r],this.data[s])<0&&(s=r),o<n&&this.compare(this.data[o],this.data[s])<0&&(s=o),s===e)break;[this.data[e],this.data[s]]=[this.data[s],this.data[e]],e=s}};class od{constructor(e,n){_t(this,"heap");_t(this,"done");_t(this,"cache",[]);this.heap=new ad(n);for(const r of e)this.heap.insert(r);this.done=!1}get(e,n){const r=this.cache.slice(e,n);for(;r.length<n-e&&!this.heap.isEmpty();){const o=this.heap.extractMin();o!==void 0&&(this.cache.push(o),r.push(o))}return this.heap.isEmpty()&&(this.done=!0),r}}var sd=U('<p class="message">No notes in bin</p>'),id=U('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Add note</span>',1),ld=U('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span style="padding-left: 6px;">Import notes</span>',1),cd=U('<p class="message">No notes found</p> <div class="wrapperButtonsAdd svelte-106i4nx"><!></div> <div>or</div> <div class="wrapperButtonsAdd svelte-106i4nx"><!></div>',1),ud=U('<div class="emptyStore svelte-106i4nx"><!></div>'),dd=U("<span>Back to notes</span>"),fd=U('<div class="emptyMessage svelte-106i4nx">No notes in bin</div> <div class="wrapperButtonsAdd svelte-106i4nx"><!></div>',1),vd=U('<div class="emptyMessage svelte-106i4nx">No notes found</div>'),hd=U('<div class="feed svelte-106i4nx"><ul class="svelte-106i4nx"></ul></div>'),gd=U('<div class="wrapperFeed svelte-106i4nx"><div class="wrapperContainer svelte-106i4nx"><!></div></div>');function _d(t,e){X(e,!0);let n=ie(e,"getNotes",3,()=>[]),r=ie(e,"mode",3,"notes");const{getScrollContainer:o}=Pa(),{createHandlePage:s,getPageUrl:i}=It(),{getSelectedTags:l}=es(),{getFeedOrder:c}=Jo(),u=Yo();let d=54,f=z(0),h=z(0),g=z(0),v=z(0),_=[],w=z(0),k=z(null),E=O(o),y=null,N=null;const L=O(l);xe(()=>{a(L),a(Z),a(E)?.scrollTo(0,0)});const{enable:P}=cs(),S=()=>{P(),y||(y=requestAnimationFrame(()=>{const R=a(E)?.scrollTop||0;m(g,R,!0);const F=Math.ceil(a(f)/d);m(h,Math.floor(R/(d*F))*(d*F)),y=null}))},x=()=>{N||(N=requestAnimationFrame(()=>{m(f,window.innerHeight-180||0,!0);const R=a(E)?.scrollTop||0;m(g,R,!0);const F=Math.ceil(a(f)/d);m(h,Math.floor(R/(d*F))*(d*F)),N=null}))};Pe(()=>{x(),S()});const T=()=>{S()};xe(()=>(a(E)?.addEventListener("scroll",T),window.addEventListener("resize",x),()=>{a(E)?.removeEventListener("scroll",T),window.removeEventListener("resize",x)}));const Z=O(c);xe(()=>{const R=n()()||[],F=[],ve=Array.from(a(L).values());for(let ye=R.length-1;ye>=0;ye--){if(!R[ye]||!R[ye].data)continue;const A=R[ye];r()==="notes"&&A?.data.deletedAt||r()==="bin"&&!A?.data.deletedAt||a(L).size&&ve.some(M=>!A.data?.tags.includes(M))&&(!A.data.draft||ve.some(M=>!A.data?.draft?.tags.includes(M)))||u&&!(A.data.name.toLowerCase().includes(u.value.toLowerCase())||A.data.url.toLowerCase().includes(u.value.toLowerCase())||A.data.text.toLowerCase().includes(u.value.toLowerCase()))||F.push(A)}m(v,F.length,!0),_=F,m(w,Date.now(),!0)}),xe(()=>{a(Z),a(w),m(k,new od(_,(R,F)=>{if(!R||!F||!R.data||!F.data)return 0;if(R.data.pinnedAt&&!F.data.pinnedAt)return-1;if(!R.data.pinnedAt&&F.data.pinnedAt)return 1;if(R.data.pinnedAt&&F.data.pinnedAt){if(R.data.pinnedAt<F.data.pinnedAt)return 1;if(R.data.pinnedAt>F.data.pinnedAt)return-1}if(R.data.draft&&!F.data.draft)return-1;if(!R.data.draft&&F.data.draft)return 1;if(R.data.draft&&F.data.draft){if(R.data.draft.updatedAt<F.data.draft.updatedAt)return 1;if(R.data.draft.updatedAt>F.data.draft.updatedAt)return-1}switch(a(Z)){case"newest":return R.data.updatedAt<F.data.updatedAt?1:-1;case"oldest":return R.data.updatedAt>F.data.updatedAt?1:-1;case"AtoZ":return R.data.name.localeCompare(F.data.name);case"ZtoA":return F.data.name.localeCompare(R.data.name);default:return 0}}),!0)});const le=O(()=>a(v)*d);let H=O(()=>{a(w);const R=Math.ceil(a(f)/d);let F=Math.floor(a(h)/d);return F=F-Math.min(F,R),a(k)?.get(F,F+R*3)||[]}),ne=O(()=>d*Math.ceil(a(f)/d));const Q=O(()=>a(h)-Math.min(a(h),a(ne)));var ge=gd(),$=D(ge),te=D($);{var G=R=>{ys(R,{})},K=R=>{var F=V(),ve=B(F);{var ye=M=>{var b=ud(),C=D(b);{var W=ee=>{var fe=sd();p(ee,fe)},re=ee=>{var fe=cd(),se=j(B(fe),2),Ae=D(se);{let Ke=O(()=>i(Y.NewNote)),Ue=O(()=>s(Y.NewNote));Ht(Ae,{element:"a",get href(){return a(Ke)},get onClick(){return a(Ue)},children:(Me,bt)=>{var Ge=id(),it=B(Ge);be(it,()=>({"--size":"18px","--color":"#b0b0b0"})),ke(it.lastChild,{name:"plus"}),p(Me,Ge)},$$slots:{default:!0}})}var ze=j(se,4),je=D(ze);{let Ke=O(()=>i(Y.ImportData)),Ue=O(()=>s(Y.ImportData));Ht(je,{element:"a",get href(){return a(Ke)},get onClick(){return a(Ue)},children:(Me,bt)=>{var Ge=ld(),it=B(Ge);be(it,()=>({"--size":"18px","--color":"#b0b0b0"})),ke(it.lastChild,{name:"import"}),p(Me,Ge)},$$slots:{default:!0}})}p(ee,fe)};q(C,ee=>{r()==="bin"?ee(W):ee(re,!1)})}p(M,b)},A=M=>{var b=V(),C=B(b);{var W=ee=>{var fe=fd(),se=j(B(fe),2),Ae=D(se);{let ze=O(()=>i("/",{full:!0})),je=O(()=>s("/",{full:!0}));Ht(Ae,{element:"a",get href(){return a(ze)},get onClick(){return a(je)},children:(Ke,Ue)=>{var Me=dd();p(Ke,Me)},$$slots:{default:!0}})}p(ee,fe)},re=ee=>{var fe=V(),se=B(fe);{var Ae=je=>{var Ke=vd();p(je,Ke)},ze=je=>{var Ke=hd(),Ue=D(Ke);Hr(Ue,23,()=>a(H),Me=>Me.data,(Me,bt,Ge)=>{var it=V(),St=B(it);{var Vt=Ee=>{{let Ze=O(()=>a(Ge)*d<a(g)-a(Q)-d/2||a(Ge)*d>a(g)-a(Q)+Math.floor(a(f)/d)*d),nt=O(()=>(a(Ge)+3)*d<a(g)-a(Q)-d/2||(a(Ge)+3)*d>a(g)-a(Q)+Math.floor(a(f)/d)*d);rd(Ee,{get mode(){return r()},get focusHidden(){return a(Ze)},get showMenuUp(){return a(nt)},get noteId(){return a(bt).id},get noteData(){return a(bt).data}})}};q(St,Ee=>{a(bt).data&&Ee(Vt)})}p(Me,it)}),ue(Me=>{jn(Ke,`min-height: ${Me??""}px`),jn(Ue,`transform: translateY(${a(Q)??""}px);`)},[()=>Math.max((a(le)>a(f),a(le)),0)]),p(je,Ke)};q(se,je=>{a(H).length===0?je(Ae):je(ze,!1)},!0)}p(ee,fe)};q(C,ee=>{r()==="bin"&&e.countNotesInBin()===0?ee(W):ee(re,!1)},!0)}p(M,b)};q(ve,M=>{(n()()||[]).length===0||r()==="notes"&&(n()()||[]).length-e.countNotesInBin()===0?M(ye):M(A,!1)},!0)}p(R,F)};q(te,R=>{e.readyNotes?R(K,!1):R(G)})}p(t,ge),J()}var pd=U('<!> <div class="content svelte-k57gez"><!></div>',1);function md(t,e){X(e,!0);const{getAppLocation:n}=Ot(),{getGetNotes:r,isInitedNotes:o,countNotesInBin:s}=jr(),i=O(o),l=O(r),c=O(()=>n().pathname);var u=pd(),d=B(u);{let g=O(()=>a(c)==="/bin"?"bin":"notes");Nu(d,{get mode(){return a(g)},get getNotes(){return a(l)}})}var f=j(d,2),h=D(f);{let g=O(()=>a(c)==="/bin"?"bin":"notes");_d(h,{get mode(){return a(g)},get getNotes(){return a(l)},get countNotesInBin(){return s},get readyNotes(){return a(i)}})}p(t,u),J()}const Qa=(t,e=we,n=we,r)=>{let o=Or(()=>Hs(r?.(),!1));var s=V(),i=B(s);{var l=u=>{Re(u,{children:(d,f)=>{Ve(d,{get hidden(){return a(o)},get page(){return Y.Settings}})},$$slots:{default:!0}})},c=u=>{var d=V(),f=B(d);{var h=v=>{Re(v,{children:(_,w)=>{Ve(_,{get hidden(){return a(o)},get page(){return Y.NewNote}})},$$slots:{default:!0}})},g=v=>{var _=V(),w=B(_);{var k=y=>{Re(y,{children:(N,L)=>{Ve(N,{get params(){return n()},get hidden(){return a(o)},get page(){return Y.EditNote}})},$$slots:{default:!0}})},E=y=>{var N=V(),L=B(N);{var P=x=>{Re(x,{children:(T,Z)=>{Ve(T,{get hidden(){return a(o)},get page(){return Y.ImportData}})},$$slots:{default:!0}})},S=x=>{var T=V(),Z=B(T);{var le=H=>{Re(H,{children:(ne,Q)=>{Ve(ne,{get hidden(){return a(o)},get page(){return Y.ExportData}})},$$slots:{default:!0}})},oe=H=>{var ne=V(),Q=B(ne);{var ge=te=>{Re(te,{children:(G,K)=>{Ve(G,{get hidden(){return a(o)},get page(){return Y.ClearStore}})},$$slots:{default:!0}})},$=te=>{var G=V(),K=B(G);{var R=ve=>{Re(ve,{children:(ye,A)=>{uu(ye,{})},$$slots:{default:!0}})},F=ve=>{var ye=V(),A=B(ye);{var M=C=>{Re(C,{children:(W,re)=>{Ve(W,{get hidden(){return a(o)},get page(){return Y.Auth}})},$$slots:{default:!0}})},b=C=>{var W=V(),re=B(W);{var ee=se=>{Re(se,{children:(Ae,ze)=>{Ve(Ae,{get hidden(){return a(o)},get page(){return Y.Signup}})},$$slots:{default:!0}})},fe=se=>{var Ae=V(),ze=B(Ae);{var je=Ue=>{Re(Ue,{children:(Me,bt)=>{Ve(Me,{get hidden(){return a(o)},get page(){return Y.Signin}})},$$slots:{default:!0}})},Ke=Ue=>{var Me=V(),bt=B(Me);{var Ge=St=>{Re(St,{children:(Vt,Ee)=>{Ve(Vt,{get hidden(){return a(o)},get page(){return Y.AccessKeys}})},$$slots:{default:!0}})},it=St=>{var Vt=V(),Ee=B(Vt);{var Ze=kt=>{Re(kt,{children:(lt,qt)=>{Ve(lt,{get hidden(){return a(o)},get page(){return Y.Account}})},$$slots:{default:!0}})},nt=kt=>{var lt=V(),qt=B(lt);{var rn=Ct=>{Re(Ct,{children:(Qn,vr)=>{Ve(Qn,{get hidden(){return a(o)},get page(){return Y.ConfirmAccessKey}})},$$slots:{default:!0}})},Ur=Ct=>{var Qn=V(),vr=B(Qn);{var Cs=Cn=>{Re(Cn,{children:(hr,Da)=>{Ve(hr,{get hidden(){return a(o)},get page(){return Y.Exit}})},$$slots:{default:!0}})},Es=Cn=>{var hr=V(),Da=B(hr);{var Ps=En=>{Re(En,{children:(gr,Ta)=>{Ve(gr,{get hidden(){return a(o)},get page(){return Y.Sync}})},$$slots:{default:!0}})},xs=En=>{var gr=V(),Ta=B(gr);{var As=Pn=>{Re(Pn,{children:(_r,Na)=>{Ve(_r,{get hidden(){return a(o)},get page(){return Y.Subscription}})},$$slots:{default:!0}})},Ds=Pn=>{var _r=V(),Na=B(_r);{var Ts=xn=>{Re(xn,{children:(Vr,Ls)=>{Ve(Vr,{get hidden(){return a(o)},get page(){return Y.About}})},$$slots:{default:!0}})},Ns=xn=>{Re(xn,{children:(Vr,Ls)=>{vu(Vr,{})},$$slots:{default:!0}})};q(Na,xn=>{e()===Y.About?xn(Ts):xn(Ns,!1)},!0)}p(Pn,_r)};q(Ta,Pn=>{e()===Y.Subscription?Pn(As):Pn(Ds,!1)},!0)}p(En,gr)};q(Da,En=>{e()===Y.Sync?En(Ps):En(xs,!1)},!0)}p(Cn,hr)};q(vr,Cn=>{e()===Y.Exit?Cn(Cs):Cn(Es,!1)},!0)}p(Ct,Qn)};q(qt,Ct=>{e()===Y.ConfirmAccessKey?Ct(rn):Ct(Ur,!1)},!0)}p(kt,lt)};q(Ee,kt=>{e()===Y.Account?kt(Ze):kt(nt,!1)},!0)}p(St,Vt)};q(bt,St=>{e()===Y.AccessKeys?St(Ge):St(it,!1)},!0)}p(Ue,Me)};q(ze,Ue=>{e()===Y.Signin?Ue(je):Ue(Ke,!1)},!0)}p(se,Ae)};q(re,se=>{e()===Y.Signup?se(ee):se(fe,!1)},!0)}p(C,W)};q(A,C=>{e()===Y.Auth?C(M):C(b,!1)},!0)}p(ve,ye)};q(K,ve=>{e()===Y.Start?ve(R):ve(F,!1)},!0)}p(te,G)};q(Q,te=>{e()===Y.ClearStore?te(ge):te($,!1)},!0)}p(H,ne)};q(Z,H=>{e()===Y.ExportData?H(le):H(oe,!1)},!0)}p(x,T)};q(L,x=>{e()===Y.ImportData?x(P):x(S,!1)},!0)}p(y,N)};q(w,y=>{e()===Y.EditNote?y(k):y(E,!1)},!0)}p(v,_)};q(f,v=>{e()===Y.NewNote?v(h):v(g,!1)},!0)}p(u,d)};q(i,u=>{e()===Y.Settings?u(l):u(c,!1)})}p(t,s)};var wd=U("<!> <!>",1);function yd(t,e){X(e,!0);const{getStackPages:n}=It(),{getAccount:r}=Ea();let o=O(n),s=O(()=>r()!==void 0);const{checkMobileSize:i}=Xn();let l=z(Le([]));const c=O(i);xe(()=>{a(o),a(c),gt(()=>{if(a(c))a(o).length>=a(l).length?m(l,a(o).map(w=>({page:w,shown:!0})),!0):m(l,a(l).map((w,k)=>({page:w.page,shown:k<a(o).length})),!0);else if(a(o).length>=a(l).length)m(l,a(o).map(w=>({page:w,shown:!0})),!0);else{if(a(o).length===0){m(l,[{page:a(l)[a(l).length-1].page,shown:!1}],!0);return}m(l,a(o).map(w=>({page:w,shown:!0})),!0)}})});const u=()=>{m(l,a(o).map(w=>({page:w,shown:!0})),!0)};var d=wd(),f=B(d);{var h=w=>{md(w,{})};q(f,w=>{a(s)&&w(h)})}var g=j(f,2);{var v=w=>{var k=V(),E=B(k);Hr(E,19,()=>a(l),y=>y.page,(y,N,L)=>{const P=O(()=>a(N).page.split("?")[1]),S=O(()=>a(N).page.split("?")[0]);{let x=O(()=>a(L)!==a(l).length-1&&!!a(l)[a(L)+1]?.shown),T=O(()=>a(L)===0);Ga(y,{onClosed:u,get shown(){return a(N).shown},get hidden(){return a(x)},get isLastDialog(){return a(T)},children:(Z,le)=>{{let oe=O(()=>a(L)!==a(l).length-1&&!!a(l)[a(L)+1]?.shown);Qa(Z,()=>a(S),()=>a(P),()=>a(oe))}},$$slots:{default:!0}})}}),p(w,k)},_=w=>{var k=V(),E=B(k);{var y=N=>{const L=O(()=>a(l)[a(l).length-1].page.split("?")[1]),P=O(()=>a(l)[a(l).length-1].page.split("?")[0]);{let S=O(()=>a(l).length===1);Ga(N,{onClosed:u,get shown(){return a(l)[a(l).length-1].shown},hidden:!1,get isLastDialog(){return a(S)},children:(x,T)=>{Qa(x,()=>a(P),()=>a(L))},$$slots:{default:!0}})}};q(E,N=>{a(l).length>0&&N(y)},!0)}p(w,k)};q(g,w=>{i()?w(v):w(_,!1)})}p(t,d),J()}const bd=(t,e)=>{a(e)&&a(e).scrollTo({top:0})};var Sd=U('<div><button class="buttonTop svelte-1n46o8q"><!> <span class="icon svelte-1n46o8q"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></span></button></div>'),kd=U('<!> <main><div class="wrapperHeader svelte-1n46o8q"><!></div> <div class="container svelte-1n46o8q"><!></div></main> <!>',1);function Cd(t,e){X(e,!0);const{navigate:n}=Ot(),{hasStackPage:r,pushStackPages:o,clearStackPages:s}=It(),{setScrollContainer:i}=Pa(),{getAccount:l,init:c}=Ea(),{getStackPagesFormUrl:u}=It(),{createBroadcastChannel:d,tabId:f}=Gn(),h=d(),{getSidebarState:g}=ka();Pe(()=>{c(te=>{te===void 0?o("start"):(r("start")&&(s(),n("/")),te?m(E,te):m(E,null))});const $=async te=>{const G=JSON.parse(te.data);if(G.tabId&&G.tabId===f)return;const K=G;K.type==="initLocalAccount"||K.type==="initCloudAccount"||K.type==="updateAccount"||K.type==="disconnectCloudAccount"?(s(),n("/")):K.type==="exit"&&(s(),n("/"),setTimeout(()=>{o("start")}))};return h.addEventListener($),()=>h.removeEventListener($)});const v=Zn();Pe(async()=>{await new Promise($=>setTimeout($,100)),await Oo(),v.working=!0});let _=z(!1),w=0,k=O(()=>u().length>0),E=O(l),y=z(null);xe(()=>{i(a(y))});const N=()=>{if(a(y)){const $=a(y).scrollTop||0;$===0?m(_,!1):!a(_)&&w>$?m(_,!0):a(_)&&w+50<$&&m(_,!1),w=$}},L=()=>{N()};xe(()=>(a(y)?.addEventListener("scroll",L),window.addEventListener("resize",L),()=>{a(y)?.removeEventListener("scroll",L),window.removeEventListener("resize",L)}));const P=O(g);var S=kd(),x=B(S);gc(x,{});var T=j(x,2),Z=D(T),le=D(Z);{var oe=$=>{qc($,{})};q(le,$=>{a(E)!==void 0&&$(oe)})}var H=j(Z,2),ne=D(H);yd(ne,{}),Bt(T,$=>m(y,$),()=>a(y));var Q=j(T,2);{var ge=$=>{var te=Sd(),G=D(te);G.__click=[bd,y];var K=D(G);tt(K,{children:(ve,ye)=>{var A=Te("top");p(ve,A)}});var R=j(K,2),F=D(R);be(F,()=>({"--rotate":"90deg","--size":"28px"})),ke(F.lastChild,{name:"back"}),ue(()=>{jn(te,`--swiping-ratio: ${v.swipingRatio}; --transition-timing-default: ${v.duration}s;`),me(te,1,pe(["wrapperButtonTop",{isAnimationOn:v.working&&!v.isSwiping,open:a(k)||a(P).type!=="closed"}]),"svelte-1n46o8q")}),p($,te)};q(Q,$=>{a(_)&&$(ge)})}ue(()=>{jn(T,`--swiping-ratio: ${v.swipingRatio}; --transition-timing-default: ${v.duration}s;`),me(T,1,pe(["main",{isAnimationOn:v.working&&!v.isSwiping,open:a(k)||a(P).type!=="closed"}]),"svelte-1n46o8q")}),p(t,S),J()}st(["click"]);function Ed(t){uc(t,{children:(e,n)=>{Cd(e,{})}})}window.addEventListener("unhandledrejection",t=>{alert("Error: "+t.reason.message)});window.isUnsupportedBrowser||Xi(Ed,{target:document.getElementById("app")});export{sc as $,Ea as A,Ht as B,jr as C,ba as D,ll as E,Ad as F,ie as G,lu as H,ke as I,me as J,pe as K,ys as L,Dd as M,Td as N,jn as O,Y as P,Xn as Q,Rl as R,Bt as S,Sl as T,bs as U,tt as V,Cu as W,il as X,Gn as Y,xl as Z,Zn as _,be as a,ka as a0,cs as a1,he as a2,ps as a3,De as b,D as c,p as d,Hr as e,U as f,a as g,It as h,Jn as i,z as j,Le as k,m as l,q as m,J as n,Pe as o,X as p,V as q,B as r,j as s,ue as t,xe as u,st as v,Te as w,Jt as x,O as y,Ot as z};
