import{p as ye,n as Ae,z as we,A as Ie,q as Pe,o as $e,k as w,h as K,g as _,u as xe,f as i,i as s,c as j,d as e,j as Ce,l,H as Q,x as I,s as k,U as E,W as le,B as M,v as p,P as q,X as ke,L as Se,Y as V,F as ne,Z as ie}from"./aDG-zfldL.js";const We=async()=>"getInstalledRelatedApps"in navigator?(await navigator?.getInstalledRelatedApps?.())?.some(z=>z.platform==="webapp")??!1:!1,U=()=>window.installPrompt;var De=i('<p class="b p-1ye9sl1">App is already installed.</p>'),Ee=i('<p class="b p-1ye9sl1">For install app, select the share button and select "Add to Home Screen".</p>'),Be=i('<p class="b p-1ye9sl1">Install app available on Safari.</p>'),Fe=i(`<p class="b p-1ye9sl1">From the menu bar, choose File > Add to Dock. Or click the Share button in the Safari
				toolbar, then choose Add to Dock.</p>`),Re=i('<p class="b p-1ye9sl1">Installation is not supported in this browser. use Brave, Chrome or Edge.</p>'),He=i(`<p class="b p-1ye9sl1">App is already installed or installation is not supported in this browser. use Brave,
					Chrome or Edge.</p>`),Le=i('<p class="b p-1ye9sl1">For better experience, install app from Chrome.</p>'),Oe=i(`<!> <p class="b p-1ye9sl1">You can install app to have a better experience and more reliable storage or you can use it in
			your browser and install later.</p> <!> <div class="c p-1ye9sl1"><!> <!></div>`,1),Me=i('<!> <div class="d p-1ye9sl1"><!></div>',1),Ue=i('<p class="b p-1ye9sl1">Open the app from your device.</p>'),Ge=i('<!> <!> <div class="c p-1ye9sl1"><!> <!></div>',1),Te=i('<div class="a p-1ye9sl1"><!></div>');function je(ee,z){ye(z,!0);const{pushDialogPage:pe,clearDialogPages:ce}=Ae(),{replace:ae}=we(),{getAccount:te}=Ie(),{blockDialog:re}=Pe();let g=K("idle"),B=K(!1),G=K(null);const ve=()=>{te()===void 0?pe(q.AccountSetup):ce()},se=()=>{ve()},de=async()=>{const n=U();try{n&&(w(g,"installing"),"onappinstalled"in window&&window.addEventListener("appinstalled",()=>{if(w(B,!0),!V()){re(!1);const c=te();ae(c===void 0?`/?${ne}=${encodeURIComponent(`${q.Welcome},${q.InstallSuccess}`)}`:`/?${ne}=${encodeURIComponent(`${q.InstallSuccess}`)}`)}}),await n.prompt(),n.userChoice?.then(c=>{c.outcome==="accepted"?(window.installPrompt=null,V()&&w(G,setTimeout(()=>{w(G,null),_(B)?w(g,"success"):w(g,"idle")},5e3),!0)):w(g,"idle")}))}catch{}};$e(()=>(We().then(n=>{w(B,n,!0)}),()=>{_(G)&&clearTimeout(_(G))})),xe(()=>{re(_(g)==="installing")});var oe=Te(),fe=j(oe);{var ue=n=>{var c=Oe(),T=l(c);Q(T,{children:(a,r)=>{var v=I("install app");e(a,v)}});var Y=k(T,4);{var N=a=>{var r=De();e(a,r)},m=a=>{var r=p(),v=l(r);{var C=d=>{var b=p(),t=l(b);{var f=o=>{var A=Ee();e(o,A)},y=o=>{var A=Be();e(o,A)};s(t,o=>{ie()?o(f):o(y,!1)})}e(d,b)},h=d=>{var b=p(),t=l(b);{var f=o=>{var A=Fe();e(o,A)},y=o=>{var A=p(),ge=l(A);{var me=W=>{var R=p(),X=l(R);{var Z=u=>{var D=Re();e(u,D)},H=u=>{var D=p(),J=l(D);{var L=O=>{var be=He();e(O,be)};s(J,O=>{E()||O(L)},!0)}e(u,D)};s(X,u=>{le()?u(H,!1):u(Z)})}e(W,R)},he=W=>{var R=p(),X=l(R);{var Z=H=>{var u=p(),D=l(u);{var J=L=>{var O=Le();e(L,O)};s(D,L=>{!E()&&U()&&L(J)})}e(H,u)};s(X,H=>{V()&&H(Z)},!0)}e(W,R)};s(ge,W=>{U()?W(he,!1):W(me)},!0)}e(o,A)};s(t,o=>{ie()?o(f):o(y,!1)},!0)}e(d,b)};s(v,d=>{ke()?d(C):d(h,!1)},!0)}e(a,r)};s(Y,a=>{_(B)||E()&&!U()&&le()?a(N):a(m,!1)})}var P=k(Y,2),$=j(P);{var F=a=>{M(a,{onClick:de,fullWidth:!0,children:(r,v)=>{var C=I("install web app");e(r,C)},$$slots:{default:!0}})},x=a=>{var r=p(),v=l(r);{var C=h=>{M(h,{element:"a",target:"_blank",rel:"noopener noreferrer",href:`${window.location.origin}`,fullWidth:!0,children:(d,b)=>{var t=I("open app");e(d,t)},$$slots:{default:!0}})};s(v,h=>{(_(B)||E())&&h(C)},!0)}e(a,r)};s($,a=>{U()?a(F):a(x,!1)})}var S=k($,2);M(S,{onClick:se,fullWidth:!0,type:"secondary",children:(a,r)=>{var v=I("continue in browser");e(a,v)},$$slots:{default:!0}}),e(n,c)},_e=n=>{var c=p(),T=l(c);{var Y=m=>{var P=Me(),$=l(P);Q($,{children:(S,a)=>{var r=I("installing app...");e(S,r)}});var F=k($,2),x=j(F);Se(x,{}),e(m,P)},N=m=>{var P=p(),$=l(P);{var F=x=>{var S=Ge(),a=l(S);Q(a,{children:(t,f)=>{var y=I("app installed successfully!");e(t,y)}});var r=k(a,2);{var v=t=>{var f=Ue();e(t,f)};s(r,t=>{E()||t(v)})}var C=k(r,2),h=j(C);{var d=t=>{M(t,{element:"a",target:"_blank",rel:"noopener noreferrer",href:`${window.location.origin}`,fullWidth:!0,children:(f,y)=>{var o=I("open app");e(f,o)},$$slots:{default:!0}})};s(h,t=>{E()&&t(d)})}var b=k(h,2);M(b,{onClick:se,fullWidth:!0,type:"secondary",children:(t,f)=>{var y=I("continue in browser");e(t,y)},$$slots:{default:!0}}),e(x,S)};s($,x=>{_(g)==="success"&&x(F)},!0)}e(m,P)};s(T,m=>{_(g)==="installing"?m(Y):m(N,!1)},!0)}e(n,c)};s(fe,n=>{_(g)==="idle"?n(ue):n(_e,!1)})}e(ee,oe),Ce()}export{je as default};
