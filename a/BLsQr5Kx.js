const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["a/DVscFMat.js","a/BAW-HnOs.css","a/69QccfUw.js","a/9q_jSmK4.js","a/BEGDcNQV.js","a/CjhdjYO4.css","a/CpVGrat1.js","a/D5mnDQ30.css","a/CF5t0R3i.js","a/DgPIJwnn.css","a/Bn2am6BM.js","a/B_UsPGEu.css","a/Do5SPfCi.js","a/Cpa8lgv9.js","a/DxXL0bjp.js","a/j0KFa_-O.css","a/hu7yjlv8.css","a/CasJovAe.js","a/D7-rxewd.js","a/DSG7uiKg.js","a/EZ_l8VDb.css","a/B_Zcg-eh.css","a/HOTUjnfJ.css","a/DskseV-Z.js","a/Bs6Vrlio.css","a/CM5-oM-8.js","a/BguvZHxr.js","a/DWUfwQ_G.css","a/B8neLUb6.css","a/CbaQ2l7N.js","a/Dz9AXCrV.css","a/DmDyRI0_.js","a/BJ0T1mGX.js","a/Bdgn3YGB.css","a/CL0DzhDO.js","a/DaxC3cdO.css","a/COIA5VXu.js","a/Bib31qW-.css","a/DtYzUS8R.js","a/Br15UghP.css","a/Kxxs-ZIj.js","a/CTzb1Nvm.css","a/BJYkiA6Q.js","a/1JBO3KHP.css"])))=>i.map(i=>d[i]);
var Xs=Object.defineProperty;var Ha=t=>{throw TypeError(t)};var Zs=(t,e,n)=>e in t?Xs(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ct=(t,e,n)=>Zs(t,typeof e!="symbol"?e+"":e,n),Zr=(t,e,n)=>e.has(t)||Ha("Cannot "+n);var x=(t,e,n)=>(Zr(t,e,"read from private field"),n?n.call(t):e.get(t)),fe=(t,e,n)=>e.has(t)?Ha("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),re=(t,e,n,r)=>(Zr(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),He=(t,e,n)=>(Zr(t,e,"access private method"),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();const lo=!1;var ma=Array.isArray,Js=Array.prototype.indexOf,wa=Array.from,na=Object.defineProperty,In=Object.getOwnPropertyDescriptor,co=Object.getOwnPropertyDescriptors,Qs=Object.prototype,$s=Array.prototype,ya=Object.getPrototypeOf,ja=Object.isExtensible;const Se=()=>{};function ei(t){return typeof t?.then=="function"}function ti(t){return t()}function ra(t){for(var e=0;e<t.length;e++)t[e]()}function uo(){var t,e,n=new Promise((r,o)=>{t=r,e=o});return{promise:n,resolve:t,reject:e}}function ni(t,e,n=!1){return t===void 0?n?e():e:t}const Je=2,ba=4,Or=8,kn=16,qt=32,Cn=64,Sa=128,vt=256,Dr=512,Ge=1024,ot=2048,nn=4096,St=8192,En=16384,ka=32768,Yn=65536,Ua=1<<17,ri=1<<18,Gn=1<<19,fo=1<<20,aa=1<<21,Ca=1<<22,_n=1<<23,mn=Symbol("$state"),ai=Symbol("legacy props"),oi=Symbol(""),Bn=new class extends Error{constructor(){super(...arguments);ct(this,"name","StaleReactionError");ct(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function vo(t){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function si(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function ii(t){throw new Error("https://svelte.dev/e/effect_in_teardown")}function li(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function ci(t){throw new Error("https://svelte.dev/e/effect_orphan")}function ui(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function di(t){throw new Error("https://svelte.dev/e/props_invalid_value")}function fi(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function vi(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function hi(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function gi(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const Rr=1,Fr=2,ho=4,pi=8,_i=16,mi=1,wi=2,yi=4,bi=8,Si=16,ki=1,Ci=2,Ve=Symbol(),Ei="http://www.w3.org/1999/xhtml";let Pi=!1;function go(t){return t===this.v}function xi(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function po(t){return!xi(t,this.v)}let Xn=!1,Ai=!1;function Di(){Xn=!0}let Ce=null;function Un(t){Ce=t}function Fe(t){return _o().get(t)}function ze(t,e){return _o().set(t,e),e}function Z(t,e=!1,n){Ce={p:Ce,c:null,e:null,s:t,x:null,l:Xn&&!e?{s:null,u:null,$:[]}:null}}function J(t){var e=Ce,n=e.e;if(n!==null){e.e=null;for(var r of n)Mo(r)}return t!==void 0&&(e.x=t),Ce=e.p,t??{}}function Zn(){return!Xn||Ce!==null&&Ce.l===null}function _o(t){return Ce===null&&vo(),Ce.c??(Ce.c=new Map(Ti(Ce)||void 0))}function Ti(t){let e=t.p;for(;e!==null;){const n=e.c;if(n!==null)return n;e=e.p}return null}let dn=[];function mo(){var t=dn;dn=[],ra(t)}function tn(t){if(dn.length===0&&!Mn){var e=dn;queueMicrotask(()=>{e===dn&&mo()})}dn.push(t)}function Ni(){for(;dn.length>0;)mo()}const Li=new WeakMap;function wo(t){var e=de;if(e===null)return ie.f|=_n,t;if((e.f&ka)===0){if((e.f&Sa)===0)throw!e.parent&&t instanceof Error&&yo(t),t;e.b.error(t)}else Vn(t,e)}function Vn(t,e){for(;e!==null;){if((e.f&Sa)!==0)try{e.b.error(t);return}catch(n){t=n}e=e.parent}throw t instanceof Error&&yo(t),t}function yo(t){const e=Li.get(t);e&&(na(t,"message",{value:e.message}),na(t,"stack",{value:e.stack}))}const br=new Set;let xe=null,Cr=null,yt=null,oa=new Set,Mt=[],zr=null,sa=!1,Mn=!1;var Fn,zn,fn,cr,Hn,vn,jn,ur,dr,ht,ia,Er,la;const Br=class Br{constructor(){fe(this,ht);ct(this,"current",new Map);fe(this,Fn,new Map);fe(this,zn,new Set);fe(this,fn,0);fe(this,cr,null);fe(this,Hn,[]);fe(this,vn,[]);fe(this,jn,[]);fe(this,ur,[]);fe(this,dr,[]);ct(this,"skipped_effects",new Set)}process(e){Mt=[],Cr=null,this.apply();for(const s of e)He(this,ht,ia).call(this,s);if(x(this,fn)===0){var n=yt;He(this,ht,la).call(this);var r=x(this,Hn),o=x(this,vn);re(this,Hn,[]),re(this,vn,[]),re(this,jn,[]),Cr=this,xe=null,yt=n,Va(r),Va(o),Cr=null,x(this,cr)?.resolve()}else He(this,ht,Er).call(this,x(this,Hn)),He(this,ht,Er).call(this,x(this,vn)),He(this,ht,Er).call(this,x(this,jn));yt=null}capture(e,n){x(this,Fn).has(e)||x(this,Fn).set(e,n),this.current.set(e,e.v),yt?.set(e,e.v)}activate(){xe=this}deactivate(){xe=null,yt=null}flush(){if(Mt.length>0){if(this.activate(),So(),xe!==null&&xe!==this)return}else x(this,fn)===0&&He(this,ht,la).call(this);this.deactivate();for(const e of oa)if(oa.delete(e),e(),xe!==null)break}increment(){re(this,fn,x(this,fn)+1)}decrement(){re(this,fn,x(this,fn)-1);for(const e of x(this,ur))Xe(e,ot),bn(e);for(const e of x(this,dr))Xe(e,nn),bn(e);this.flush()}add_callback(e){x(this,zn).add(e)}settled(){return(x(this,cr)??re(this,cr,uo())).promise}static ensure(){if(xe===null){const e=xe=new Br;br.add(xe),Mn||Br.enqueue(()=>{xe===e&&e.flush()})}return xe}static enqueue(e){tn(e)}apply(){}};Fn=new WeakMap,zn=new WeakMap,fn=new WeakMap,cr=new WeakMap,Hn=new WeakMap,vn=new WeakMap,jn=new WeakMap,ur=new WeakMap,dr=new WeakMap,ht=new WeakSet,ia=function(e){e.f^=Ge;for(var n=e.first;n!==null;){var r=n.f,o=(r&(qt|Cn))!==0,s=o&&(r&Ge)!==0,i=s||(r&St)!==0||this.skipped_effects.has(n);if(!i&&n.fn!==null){o?n.f^=Ge:(r&ba)!==0?x(this,vn).push(n):Vr(n)&&((n.f&kn)!==0&&x(this,jn).push(n),Lr(n));var l=n.first;if(l!==null){n=l;continue}}var c=n.parent;for(n=n.next;n===null&&c!==null;)n=c.next,c=c.parent}},Er=function(e){for(const n of e)((n.f&ot)!==0?x(this,ur):x(this,dr)).push(n),Xe(n,Ge);e.length=0},la=function(){var e;for(const n of x(this,zn))n();if(x(this,zn).clear(),br.size>1){x(this,Fn).clear();let n=!0;for(const r of br){if(r===this){n=!1;continue}const o=[];for(const[i,l]of this.current){if(r.current.has(i))if(n&&l!==r.current.get(i))r.current.set(i,l);else continue;o.push(i)}if(o.length===0)continue;const s=[...r.current.keys()].filter(i=>!this.current.has(i));if(s.length>0){for(const i of o)ko(i,s);if(Mt.length>0){xe=r,r.apply();for(const i of Mt)He(e=r,ht,ia).call(e,i);Mt=[],r.deactivate()}}}xe=null}br.delete(this)};let Ht=Br;function bo(t){var e=Mn;Mn=!0;try{for(var n;;){if(Ni(),Mt.length===0&&(xe?.flush(),Mt.length===0))return zr=null,n;So()}}finally{Mn=e}}function So(){var t=Rn;sa=!0;try{var e=0;for(Ka(!0);Mt.length>0;){var n=Ht.ensure();if(e++>1e3){var r,o;Bi()}n.process(Mt),$t.clear()}}finally{sa=!1,Ka(t),zr=null}}function Bi(){try{ui()}catch(t){Vn(t,zr)}}let cn=null;function Va(t){var e=t.length;if(e!==0){for(var n=0;n<e;){var r=t[n++];if((r.f&(En|St))===0&&Vr(r)&&(cn=[],Lr(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?Fo(r):r.fn=null),cn?.length>0)){$t.clear();for(const o of cn)Lr(o);cn=[]}}cn=null}}function ko(t,e){if(t.reactions!==null)for(const n of t.reactions){const r=n.f;(r&Je)!==0?ko(n,e):(r&(Ca|kn))!==0&&Co(n,e)&&(Xe(n,ot),bn(n))}}function Co(t,e){if(t.deps!==null){for(const n of t.deps)if(e.includes(n)||(n.f&Je)!==0&&Co(n,e))return!0}return!1}function bn(t){for(var e=zr=t;e.parent!==null;){e=e.parent;var n=e.f;if(sa&&e===de&&(n&kn)!==0)return;if((n&(Cn|qt))!==0){if((n&Ge)===0)return;e.f^=Ge}}Mt.push(e)}function Ii(t){let e=0,n=Vt(0),r;return()=>{Gi()&&(a(n),Ur(()=>(e===0&&(r=pt(()=>t(()=>or(n)))),e+=1,()=>{tn(()=>{e-=1,e===0&&(r?.(),r=void 0,or(n))})})))}}var Mi=Yn|Gn|Sa;function Oi(t,e,n){new Ri(t,e,n)}var _t,dt,_a,Nt,hn,Lt,ft,Qe,Bt,Xt,gn,Zt,pn,Jt,Ir,Mr,Ze,Fi,zi,Pr,xr,ca;class Ri{constructor(e,n,r){fe(this,Ze);ct(this,"parent");fe(this,_t,!1);fe(this,dt);fe(this,_a,null);fe(this,Nt);fe(this,hn);fe(this,Lt);fe(this,ft,null);fe(this,Qe,null);fe(this,Bt,null);fe(this,Xt,null);fe(this,gn,0);fe(this,Zt,0);fe(this,pn,!1);fe(this,Jt,null);fe(this,Ir,()=>{x(this,Jt)&&jt(x(this,Jt),x(this,gn))});fe(this,Mr,Ii(()=>(re(this,Jt,Vt(x(this,gn))),()=>{re(this,Jt,null)})));re(this,dt,e),re(this,Nt,n),re(this,hn,r),this.parent=de.b,re(this,_t,!!x(this,Nt).pending),re(this,Lt,Jn(()=>{de.b=this;{try{re(this,ft,wt(()=>r(x(this,dt))))}catch(o){this.error(o)}x(this,Zt)>0?He(this,Ze,xr).call(this):re(this,_t,!1)}},Mi))}is_pending(){return x(this,_t)||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!x(this,Nt).pending}update_pending_count(e){He(this,Ze,ca).call(this,e),re(this,gn,x(this,gn)+e),oa.add(x(this,Ir))}get_effect_pending(){return x(this,Mr).call(this),a(x(this,Jt))}error(e){var n=x(this,Nt).onerror;let r=x(this,Nt).failed;if(x(this,pn)||!n&&!r)throw e;x(this,ft)&&(tt(x(this,ft)),re(this,ft,null)),x(this,Qe)&&(tt(x(this,Qe)),re(this,Qe,null)),x(this,Bt)&&(tt(x(this,Bt)),re(this,Bt,null));var o=!1,s=!1;const i=()=>{if(o){return}o=!0,s&&gi(),Ht.ensure(),re(this,gn,0),x(this,Bt)!==null&&On(x(this,Bt),()=>{re(this,Bt,null)}),re(this,_t,this.has_pending_snippet()),re(this,ft,He(this,Ze,Pr).call(this,()=>(re(this,pn,!1),wt(()=>x(this,hn).call(this,x(this,dt)))))),x(this,Zt)>0?He(this,Ze,xr).call(this):re(this,_t,!1)};var l=ie;try{$e(null),s=!0,n?.(e,i),s=!1}catch(c){Vn(c,x(this,Lt)&&x(this,Lt).parent)}finally{$e(l)}r&&tn(()=>{re(this,Bt,He(this,Ze,Pr).call(this,()=>{re(this,pn,!0);try{return wt(()=>{r(x(this,dt),()=>e,()=>i)})}catch(c){return Vn(c,x(this,Lt).parent),null}finally{re(this,pn,!1)}}))})}}_t=new WeakMap,dt=new WeakMap,_a=new WeakMap,Nt=new WeakMap,hn=new WeakMap,Lt=new WeakMap,ft=new WeakMap,Qe=new WeakMap,Bt=new WeakMap,Xt=new WeakMap,gn=new WeakMap,Zt=new WeakMap,pn=new WeakMap,Jt=new WeakMap,Ir=new WeakMap,Mr=new WeakMap,Ze=new WeakSet,Fi=function(){try{re(this,ft,wt(()=>x(this,hn).call(this,x(this,dt))))}catch(e){this.error(e)}re(this,_t,!1)},zi=function(){const e=x(this,Nt).pending;e&&(re(this,Qe,wt(()=>e(x(this,dt)))),Ht.enqueue(()=>{re(this,ft,He(this,Ze,Pr).call(this,()=>(Ht.ensure(),wt(()=>x(this,hn).call(this,x(this,dt)))))),x(this,Zt)>0?He(this,Ze,xr).call(this):(On(x(this,Qe),()=>{re(this,Qe,null)}),re(this,_t,!1))}))},Pr=function(e){var n=de,r=ie,o=Ce;Ot(x(this,Lt)),$e(x(this,Lt)),Un(x(this,Lt).ctx);try{return e()}catch(s){return wo(s),null}finally{Ot(n),$e(r),Un(o)}},xr=function(){const e=x(this,Nt).pending;x(this,ft)!==null&&(re(this,Xt,document.createDocumentFragment()),jo(x(this,ft),x(this,Xt))),x(this,Qe)===null&&re(this,Qe,wt(()=>e(x(this,dt))))},ca=function(e){var n;if(!this.has_pending_snippet()){this.parent&&He(n=this.parent,Ze,ca).call(n,e);return}re(this,Zt,x(this,Zt)+e),x(this,Zt)===0&&(re(this,_t,!1),x(this,Qe)&&On(x(this,Qe),()=>{re(this,Qe,null)}),x(this,Xt)&&(x(this,dt).before(x(this,Xt)),re(this,Xt,null)),tn(()=>{Ht.ensure().flush()}))};function Hi(t,e,n){const r=Zn()?hr:Hr;if(e.length===0){n(t.map(r));return}var o=xe,s=de,i=Eo();Promise.all(e.map(l=>ji(l))).then(l=>{i();try{n([...t.map(r),...l])}catch(c){(s.f&En)===0&&Vn(c,s)}o?.deactivate(),Tr()}).catch(l=>{Vn(l,s)})}function Eo(){var t=de,e=ie,n=Ce,r=xe;return function(){Ot(t),$e(e),Un(n),r?.activate()}}function Tr(){Ot(null),$e(null),Un(null)}function hr(t){var e=Je|ot,n=ie!==null&&(ie.f&Je)!==0?ie:null;return de===null||n!==null&&(n.f&vt)!==0?e|=vt:de.f|=Gn,{ctx:Ce,deps:null,effects:null,equals:go,f:e,fn:t,reactions:null,rv:0,v:Ve,wv:0,parent:n??de,ac:null}}function ji(t,e){let n=de;n===null&&si();var r=n.b,o=void 0,s=Vt(Ve),i=!ie,l=new Map;return Qi(()=>{var c=uo();o=c.promise;try{Promise.resolve(t()).then(c.resolve,c.reject).then(Tr)}catch(v){c.reject(v),Tr()}var u=xe,d=r.is_pending();i&&(r.update_pending_count(1),d||(u.increment(),l.get(u)?.reject(Bn),l.delete(u),l.set(u,c)));const f=(v,_=void 0)=>{if(d||u.activate(),_)_!==Bn&&(s.f|=_n,jt(s,_));else{(s.f&_n)!==0&&(s.f^=_n),jt(s,v);for(const[h,g]of l){if(l.delete(h),h===u)break;g.reject(Bn)}}i&&(r.update_pending_count(-1),d||u.decrement())};c.promise.then(f,v=>f(null,v||"unknown"))}),Io(()=>{for(const c of l.values())c.reject(Bn)}),new Promise(c=>{function u(d){function f(){d===o?c(s):u(o)}d.then(f,f)}u(o)})}function R(t){const e=hr(t);return Uo(e),e}function Hr(t){const e=hr(t);return e.equals=po,e}function Po(t){var e=t.effects;if(e!==null){t.effects=null;for(var n=0;n<e.length;n+=1)tt(e[n])}}function Ui(t){for(var e=t.parent;e!==null;){if((e.f&Je)===0)return e;e=e.parent}return null}function Ea(t){var e,n=de;Ot(Ui(t));try{Po(t),e=Ko(t)}finally{Ot(n)}return e}function xo(t){var e=Ea(t);if(t.equals(e)||(t.v=e,t.wv=qo()),!Pn)if(yt!==null)yt.set(t,t.v);else{var n=(Qt||(t.f&vt)!==0)&&t.deps!==null?nn:Ge;Xe(t,n)}}const $t=new Map;function Vt(t,e){var n={f:0,v:t,reactions:null,equals:go,rv:0,wv:0};return n}function V(t,e){const n=Vt(t);return Uo(n),n}function ua(t,e=!1,n=!0){var o;const r=Vt(t);return e||(r.equals=po),Xn&&n&&Ce!==null&&Ce.l!==null&&((o=Ce.l).s??(o.s=[])).push(r),r}function w(t,e,n=!1){ie!==null&&(!bt||(ie.f&Ua)!==0)&&Zn()&&(ie.f&(Je|kn|Ca|Ua))!==0&&!Ut?.includes(t)&&hi();let r=n?Re(e):e;return jt(t,r)}function jt(t,e){if(!t.equals(e)){var n=t.v;Pn?$t.set(t,e):$t.set(t,n),t.v=e;var r=Ht.ensure();r.capture(t,n),(t.f&Je)!==0&&((t.f&ot)!==0&&Ea(t),Xe(t,(t.f&vt)===0?Ge:nn)),t.wv=qo(),Ao(t,ot),Zn()&&de!==null&&(de.f&Ge)!==0&&(de.f&(qt|Cn))===0&&(ut===null?tl([t]):ut.push(t))}return e}function or(t){w(t,t.v+1)}function Ao(t,e){var n=t.reactions;if(n!==null)for(var r=Zn(),o=n.length,s=0;s<o;s++){var i=n[s],l=i.f;if(!(!r&&i===de)){var c=(l&ot)===0;c&&Xe(i,e),(l&Je)!==0?Ao(i,nn):c&&((l&kn)!==0&&cn!==null&&cn.push(i),bn(i))}}}function Re(t){if(typeof t!="object"||t===null||mn in t)return t;const e=ya(t);if(e!==Qs&&e!==$s)return t;var n=new Map,r=ma(t),o=V(0),s=wn,i=l=>{if(wn===s)return l();var c=ie,u=wn;$e(null),Ga(s);var d=l();return $e(c),Ga(u),d};return r&&n.set("length",V(t.length)),new Proxy(t,{defineProperty(l,c,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&fi();var d=n.get(c);return d===void 0?d=i(()=>{var f=V(u.value);return n.set(c,f),f}):w(d,u.value,!0),!0},deleteProperty(l,c){var u=n.get(c);if(u===void 0){if(c in l){const d=i(()=>V(Ve));n.set(c,d),or(o)}}else w(u,Ve),or(o);return!0},get(l,c,u){if(c===mn)return t;var d=n.get(c),f=c in l;if(d===void 0&&(!f||In(l,c)?.writable)&&(d=i(()=>{var _=Re(f?l[c]:Ve),h=V(_);return h}),n.set(c,d)),d!==void 0){var v=a(d);return v===Ve?void 0:v}return Reflect.get(l,c,u)},getOwnPropertyDescriptor(l,c){var u=Reflect.getOwnPropertyDescriptor(l,c);if(u&&"value"in u){var d=n.get(c);d&&(u.value=a(d))}else if(u===void 0){var f=n.get(c),v=f?.v;if(f!==void 0&&v!==Ve)return{enumerable:!0,configurable:!0,value:v,writable:!0}}return u},has(l,c){if(c===mn)return!0;var u=n.get(c),d=u!==void 0&&u.v!==Ve||Reflect.has(l,c);if(u!==void 0||de!==null&&(!d||In(l,c)?.writable)){u===void 0&&(u=i(()=>{var v=d?Re(l[c]):Ve,_=V(v);return _}),n.set(c,u));var f=a(u);if(f===Ve)return!1}return d},set(l,c,u,d){var f=n.get(c),v=c in l;if(r&&c==="length")for(var _=u;_<f.v;_+=1){var h=n.get(_+"");h!==void 0?w(h,Ve):_ in l&&(h=i(()=>V(Ve)),n.set(_+"",h))}if(f===void 0)(!v||In(l,c)?.writable)&&(f=i(()=>V(void 0)),w(f,Re(u)),n.set(c,f));else{v=f.v!==Ve;var g=i(()=>Re(u));w(f,g)}var m=Reflect.getOwnPropertyDescriptor(l,c);if(m?.set&&m.set.call(d,u),!v){if(r&&typeof c=="string"){var k=n.get("length"),E=Number(c);Number.isInteger(E)&&E>=k.v&&w(k,E+1)}or(o)}return!0},ownKeys(l){a(o);var c=Reflect.ownKeys(l).filter(f=>{var v=n.get(f);return v===void 0||v.v!==Ve});for(var[u,d]of n)d.v!==Ve&&!(u in l)&&c.push(u);return c},setPrototypeOf(){vi()}})}var qa,Do,To,No;function Vi(){if(qa===void 0){qa=window,Do=/Firefox/.test(navigator.userAgent);var t=Element.prototype,e=Node.prototype,n=Text.prototype;To=In(e,"firstChild").get,No=In(e,"nextSibling").get,ja(t)&&(t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__style=void 0,t.__e=void 0),ja(n)&&(n.__t=void 0)}}function Sn(t=""){return document.createTextNode(t)}function qn(t){return To.call(t)}function gr(t){return No.call(t)}function A(t,e){return qn(t)}function I(t,e=!1){{var n=qn(t);return n instanceof Comment&&n.data===""?gr(n):n}}function H(t,e=1,n=!1){let r=t;for(;e--;)r=gr(r);return r}function qi(t){t.textContent=""}function Lo(){return!1}let Wa=!1;function Wi(){Wa||(Wa=!0,document.addEventListener("reset",t=>{Promise.resolve().then(()=>{if(!t.defaultPrevented)for(const e of t.target.elements)e.__on_r?.()})},{capture:!0}))}function jr(t){var e=ie,n=de;$e(null),Ot(null);try{return t()}finally{$e(e),Ot(n)}}function Ki(t,e,n,r=n){t.addEventListener(e,()=>jr(n));const o=t.__on_r;o?t.__on_r=()=>{o(),r(!0)}:t.__on_r=()=>r(!0),Wi()}function Bo(t){de===null&&ie===null&&ci(),ie!==null&&(ie.f&vt)!==0&&de===null&&li(),Pn&&ii()}function Yi(t,e){var n=e.last;n===null?e.last=e.first=t:(n.next=t,t.prev=n,e.last=t)}function Rt(t,e,n,r=!0){var o=de;o!==null&&(o.f&St)!==0&&(t|=St);var s={ctx:Ce,deps:null,nodes_start:null,nodes_end:null,f:t|ot,first:null,fn:e,last:null,next:null,parent:o,b:o&&o.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{Lr(s),s.f|=ka}catch(c){throw tt(s),c}else e!==null&&bn(s);if(r){var i=s;if(n&&i.deps===null&&i.teardown===null&&i.nodes_start===null&&i.first===i.last&&(i.f&Gn)===0&&(i=i.first),i!==null&&(i.parent=o,o!==null&&Yi(i,o),ie!==null&&(ie.f&Je)!==0&&(t&Cn)===0)){var l=ie;(l.effects??(l.effects=[])).push(i)}}return s}function Gi(){return ie!==null&&!bt}function Io(t){const e=Rt(Or,null,!1);return Xe(e,Ge),e.teardown=t,e}function Ne(t){Bo();var e=de.f,n=!ie&&(e&qt)!==0&&(e&ka)===0;if(n){var r=Ce;(r.e??(r.e=[])).push(t)}else return Mo(t)}function Mo(t){return Rt(ba|fo,t,!1)}function Xi(t){return Bo(),Rt(Or|fo,t,!0)}function Zi(t){Ht.ensure();const e=Rt(Cn|Gn,t,!0);return(n={})=>new Promise(r=>{n.outro?On(e,()=>{tt(e),r(void 0)}):(tt(e),r(void 0))})}function Ji(t){return Rt(ba,t,!1)}function Qi(t){return Rt(Ca|Gn,t,!0)}function Ur(t,e=0){return Rt(Or|e,t,!0)}function ue(t,e=[],n=[]){Hi(e,n,r=>{Rt(Or,()=>t(...r.map(a)),!0)})}function Jn(t,e=0){var n=Rt(kn|e,t,!0);return n}function wt(t,e=!0){return Rt(qt|Gn,t,!0,e)}function Oo(t){var e=t.teardown;if(e!==null){const n=Pn,r=ie;Ya(!0),$e(null);try{e.call(null)}finally{Ya(n),$e(r)}}}function Ro(t,e=!1){var n=t.first;for(t.first=t.last=null;n!==null;){const o=n.ac;o!==null&&jr(()=>{o.abort(Bn)});var r=n.next;(n.f&Cn)!==0?n.parent=null:tt(n,e),n=r}}function $i(t){for(var e=t.first;e!==null;){var n=e.next;(e.f&qt)===0&&tt(e),e=n}}function tt(t,e=!0){var n=!1;(e||(t.f&ri)!==0)&&t.nodes_start!==null&&t.nodes_end!==null&&(el(t.nodes_start,t.nodes_end),n=!0),Ro(t,e&&!n),Nr(t,0),Xe(t,En);var r=t.transitions;if(r!==null)for(const s of r)s.stop();Oo(t);var o=t.parent;o!==null&&o.first!==null&&Fo(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes_start=t.nodes_end=t.ac=null}function el(t,e){for(;t!==null;){var n=t===e?null:gr(t);t.remove(),t=n}}function Fo(t){var e=t.parent,n=t.prev,r=t.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),e!==null&&(e.first===t&&(e.first=r),e.last===t&&(e.last=n))}function On(t,e,n=!0){var r=[];Pa(t,r,!0),zo(r,()=>{n&&tt(t),e&&e()})}function zo(t,e){var n=t.length;if(n>0){var r=()=>--n||e();for(var o of t)o.out(r)}else e()}function Pa(t,e,n){if((t.f&St)===0){if(t.f^=St,t.transitions!==null)for(const i of t.transitions)(i.is_global||n)&&e.push(i);for(var r=t.first;r!==null;){var o=r.next,s=(r.f&Yn)!==0||(r.f&qt)!==0;Pa(r,e,s?n:!1),r=o}}}function xa(t){Ho(t,!0)}function Ho(t,e){if((t.f&St)!==0){t.f^=St,(t.f&Ge)===0&&(Xe(t,ot),bn(t));for(var n=t.first;n!==null;){var r=n.next,o=(n.f&Yn)!==0||(n.f&qt)!==0;Ho(n,o?e:!1),n=r}if(t.transitions!==null)for(const s of t.transitions)(s.is_global||e)&&s.in()}}function jo(t,e){for(var n=t.nodes_start,r=t.nodes_end;n!==null;){var o=n===r?null:gr(n);e.append(n),n=o}}let Rn=!1;function Ka(t){Rn=t}let Pn=!1;function Ya(t){Pn=t}let ie=null,bt=!1;function $e(t){ie=t}let de=null;function Ot(t){de=t}let Ut=null;function Uo(t){ie!==null&&(Ut===null?Ut=[t]:Ut.push(t))}let Ye=null,at=0,ut=null;function tl(t){ut=t}let Vo=1,ir=0,wn=ir;function Ga(t){wn=t}let Qt=!1;function qo(){return++Vo}function Vr(t){var e=t.f;if((e&ot)!==0)return!0;if((e&nn)!==0){var n=t.deps,r=(e&vt)!==0;if(n!==null){var o,s,i=(e&Dr)!==0,l=r&&de!==null&&!Qt,c=n.length;if((i||l)&&(de===null||(de.f&En)===0)){var u=t,d=u.parent;for(o=0;o<c;o++)s=n[o],(i||!s?.reactions?.includes(u))&&(s.reactions??(s.reactions=[])).push(u);i&&(u.f^=Dr),l&&d!==null&&(d.f&vt)===0&&(u.f^=vt)}for(o=0;o<c;o++)if(s=n[o],Vr(s)&&xo(s),s.wv>t.wv)return!0}(!r||de!==null&&!Qt)&&Xe(t,Ge)}return!1}function Wo(t,e,n=!0){var r=t.reactions;if(r!==null&&!Ut?.includes(t))for(var o=0;o<r.length;o++){var s=r[o];(s.f&Je)!==0?Wo(s,e,!1):e===s&&(n?Xe(s,ot):(s.f&Ge)!==0&&Xe(s,nn),bn(s))}}function Ko(t){var g;var e=Ye,n=at,r=ut,o=ie,s=Qt,i=Ut,l=Ce,c=bt,u=wn,d=t.f;Ye=null,at=0,ut=null,Qt=(d&vt)!==0&&(bt||!Rn||ie===null),ie=(d&(qt|Cn))===0?t:null,Ut=null,Un(t.ctx),bt=!1,wn=++ir,t.ac!==null&&(jr(()=>{t.ac.abort(Bn)}),t.ac=null);try{t.f|=aa;var f=t.fn,v=f(),_=t.deps;if(Ye!==null){var h;if(Nr(t,at),_!==null&&at>0)for(_.length=at+Ye.length,h=0;h<Ye.length;h++)_[at+h]=Ye[h];else t.deps=_=Ye;if(!Qt||(d&Je)!==0&&t.reactions!==null)for(h=at;h<_.length;h++)((g=_[h]).reactions??(g.reactions=[])).push(t)}else _!==null&&at<_.length&&(Nr(t,at),_.length=at);if(Zn()&&ut!==null&&!bt&&_!==null&&(t.f&(Je|nn|ot))===0)for(h=0;h<ut.length;h++)Wo(ut[h],t);return o!==null&&o!==t&&(ir++,ut!==null&&(r===null?r=ut:r.push(...ut))),(t.f&_n)!==0&&(t.f^=_n),v}catch(m){return wo(m)}finally{t.f^=aa,Ye=e,at=n,ut=r,ie=o,Qt=s,Ut=i,Un(l),bt=c,wn=u}}function nl(t,e){let n=e.reactions;if(n!==null){var r=Js.call(n,t);if(r!==-1){var o=n.length-1;o===0?n=e.reactions=null:(n[r]=n[o],n.pop())}}n===null&&(e.f&Je)!==0&&(Ye===null||!Ye.includes(e))&&(Xe(e,nn),(e.f&(vt|Dr))===0&&(e.f^=Dr),Po(e),Nr(e,0))}function Nr(t,e){var n=t.deps;if(n!==null)for(var r=e;r<n.length;r++)nl(t,n[r])}function Lr(t){var e=t.f;if((e&En)===0){Xe(t,Ge);var n=de,r=Rn;de=t,Rn=!0;try{(e&kn)!==0?$i(t):Ro(t),Oo(t);var o=Ko(t);t.teardown=typeof o=="function"?o:null,t.wv=Vo;var s;lo&&Ai&&(t.f&ot)!==0&&t.deps}finally{Rn=r,de=n}}}async function Yo(){await Promise.resolve(),bo()}function a(t){var e=t.f,n=(e&Je)!==0;if(ie!==null&&!bt){var r=de!==null&&(de.f&En)!==0;if(!r&&!Ut?.includes(t)){var o=ie.deps;if((ie.f&aa)!==0)t.rv<ir&&(t.rv=ir,Ye===null&&o!==null&&o[at]===t?at++:Ye===null?Ye=[t]:(!Qt||!Ye.includes(t))&&Ye.push(t));else{(ie.deps??(ie.deps=[])).push(t);var s=t.reactions;s===null?t.reactions=[ie]:s.includes(ie)||s.push(ie)}}}else if(n&&t.deps===null&&t.effects===null){var i=t,l=i.parent;l!==null&&(l.f&vt)===0&&(i.f^=vt)}if(Pn){if($t.has(t))return $t.get(t);if(n){i=t;var c=i.v;return((i.f&Ge)===0&&i.reactions!==null||Go(i))&&(c=Ea(i)),$t.set(i,c),c}}else if(n){if(i=t,yt?.has(i))return yt.get(i);Vr(i)&&xo(i)}if(yt?.has(t))return yt.get(t);if((t.f&_n)!==0)throw t.v;return t.v}function Go(t){if(t.v===Ve)return!0;if(t.deps===null)return!1;for(const e of t.deps)if($t.has(e)||(e.f&Je)!==0&&Go(e))return!0;return!1}function pt(t){var e=bt;try{return bt=!0,t()}finally{bt=e}}const rl=-7169;function Xe(t,e){t.f=t.f&rl|e}function al(t){if(!(typeof t!="object"||!t||t instanceof EventTarget)){if(mn in t)da(t);else if(!Array.isArray(t))for(let e in t){const n=t[e];typeof n=="object"&&n&&mn in n&&da(n)}}}function da(t,e=new Set){if(typeof t=="object"&&t!==null&&!(t instanceof EventTarget)&&!e.has(t)){e.add(t),t instanceof Date&&t.getTime();for(let r in t)try{da(t[r],e)}catch{}const n=ya(t);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=co(n);for(let o in r){const s=r[o].get;if(s)try{s.call(t)}catch{}}}}}const ol=["touchstart","touchmove"];function sl(t){return ol.includes(t)}const Xo=new Set,fa=new Set;function il(t,e,n,r={}){function o(s){if(r.capture||tr.call(e,s),!s.cancelBubble)return jr(()=>n?.call(this,s))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?tn(()=>{e.addEventListener(t,o,r)}):e.addEventListener(t,o,r),o}function Aa(t,e,n,r,o){var s={capture:r,passive:o},i=il(t,e,n,s);(e===document.body||e===window||e===document||e instanceof HTMLMediaElement)&&Io(()=>{e.removeEventListener(t,i,s)})}function nt(t){for(var e=0;e<t.length;e++)Xo.add(t[e]);for(var n of fa)n(t)}let Xa=null;function tr(t){var e=this,n=e.ownerDocument,r=t.type,o=t.composedPath?.()||[],s=o[0]||t.target;Xa=t;var i=0,l=Xa===t&&t.__root;if(l){var c=o.indexOf(l);if(c!==-1&&(e===document||e===window)){t.__root=e;return}var u=o.indexOf(e);if(u===-1)return;c<=u&&(i=c)}if(s=o[i]||t.target,s!==e){na(t,"currentTarget",{configurable:!0,get(){return s||n}});var d=ie,f=de;$e(null),Ot(null);try{for(var v,_=[];s!==null;){var h=s.assignedSlot||s.parentNode||s.host||null;try{var g=s["__"+r];if(g!=null&&(!s.disabled||t.target===s))if(ma(g)){var[m,...k]=g;m.apply(s,[t,...k])}else g.call(s,t)}catch(E){v?_.push(E):v=E}if(t.cancelBubble||h===e||h===null)break;s=h}if(v){for(let E of _)queueMicrotask(()=>{throw E});throw v}}finally{t.__root=e,delete t.currentTarget,$e(d),Ot(f)}}}function Zo(t){var e=document.createElement("template");return e.innerHTML=t.replaceAll("<!>","<!---->"),e.content}function lr(t,e){var n=de;n.nodes_start===null&&(n.nodes_start=t,n.nodes_end=e)}function F(t,e){var n=(e&ki)!==0,r=(e&Ci)!==0,o,s=!t.startsWith("<!>");return()=>{o===void 0&&(o=Zo(s?t:"<!>"+t),n||(o=qn(o)));var i=r||Do?document.importNode(o,!0):o.cloneNode(!0);if(n){var l=qn(i),c=i.lastChild;lr(l,c)}else lr(i,i);return i}}function ll(t,e,n="svg"){var r=!t.startsWith("<!>"),o=`<${n}>${r?t:"<!>"+t}</${n}>`,s;return()=>{if(!s){var i=Zo(o),l=qn(i);s=qn(l)}var c=s.cloneNode(!0);return lr(c,c),c}}function cl(t,e){return ll(t,e,"svg")}function De(t=""){{var e=Sn(t+"");return lr(e,e),e}}function q(){var t=document.createDocumentFragment(),e=document.createComment(""),n=Sn();return t.append(e,n),lr(e,n),t}function p(t,e){t!==null&&t.before(e)}function ef(){var t;return(t=window.__svelte??(window.__svelte={})).uid??(t.uid=1),`c${window.__svelte.uid++}`}function en(t,e){var n=e==null?"":typeof e=="object"?e+"":e;n!==(t.__t??(t.__t=t.nodeValue))&&(t.__t=n,t.nodeValue=n+"")}function ul(t,e){return dl(t,e)}const Ln=new Map;function dl(t,{target:e,anchor:n,props:r={},events:o,context:s,intro:i=!0}){Vi();var l=new Set,c=f=>{for(var v=0;v<f.length;v++){var _=f[v];if(!l.has(_)){l.add(_);var h=sl(_);e.addEventListener(_,tr,{passive:h});var g=Ln.get(_);g===void 0?(document.addEventListener(_,tr,{passive:h}),Ln.set(_,1)):Ln.set(_,g+1)}}};c(wa(Xo)),fa.add(c);var u=void 0,d=Zi(()=>{var f=n??e.appendChild(Sn());return Oi(f,{pending:()=>{}},v=>{if(s){Z({});var _=Ce;_.c=s}o&&(r.$$events=o),u=t(v,r)||{},s&&J()}),()=>{for(var v of l){e.removeEventListener(v,tr);var _=Ln.get(v);--_===0?(document.removeEventListener(v,tr),Ln.delete(v)):Ln.set(v,_)}fa.delete(c),f!==n&&f.parentNode?.removeChild(f)}});return fl.set(u,d),u}let fl=new WeakMap;var zt,It,mt,fr,vr;class qr{constructor(e,n=!0){ct(this,"anchor");fe(this,zt,new Map);fe(this,It,new Map);fe(this,mt,new Map);fe(this,fr,!0);fe(this,vr,()=>{var e=xe;if(x(this,zt).has(e)){var n=x(this,zt).get(e),r=x(this,It).get(n);if(r)xa(r);else{var o=x(this,mt).get(n);o&&(x(this,It).set(n,o.effect),x(this,mt).delete(n),o.fragment.lastChild.remove(),this.anchor.before(o.fragment),r=o.effect)}for(const[s,i]of x(this,zt)){if(x(this,zt).delete(s),s===e)break;const l=x(this,mt).get(i);l&&(tt(l.effect),x(this,mt).delete(i))}for(const[s,i]of x(this,It)){if(s===n)continue;const l=()=>{if(Array.from(x(this,zt).values()).includes(s)){var u=document.createDocumentFragment();jo(i,u),u.append(Sn()),x(this,mt).set(s,{effect:i,fragment:u})}else tt(i);x(this,It).delete(s)};x(this,fr)||!r?On(i,l,!1):l()}}});this.anchor=e,re(this,fr,n)}ensure(e,n){var r=xe,o=Lo();if(n&&!x(this,It).has(e)&&!x(this,mt).has(e))if(o){var s=document.createDocumentFragment(),i=Sn();s.append(i),x(this,mt).set(e,{effect:wt(()=>n(i)),fragment:s})}else x(this,It).set(e,wt(()=>n(this.anchor)));if(x(this,zt).set(r,e),o){for(const[l,c]of x(this,It))l===e?r.skipped_effects.delete(c):r.skipped_effects.add(c);for(const[l,c]of x(this,mt))l===e?r.skipped_effects.delete(c.effect):r.skipped_effects.add(c.effect);r.add_callback(x(this,vr))}else x(this,vr).call(this)}}zt=new WeakMap,It=new WeakMap,mt=new WeakMap,fr=new WeakMap,vr=new WeakMap;const vl=0,Jr=1;function Jo(t,e,n,r,o){var s=Zn(),i=Ve,l=s?Vt(i):ua(i,!1,!1),c=s?Vt(i):ua(i,!1,!1),u=new qr(t);Jn(()=>{var d=e(),f=!1;if(ei(d)){var v=Eo(),_=!1;const h=g=>{if(!f){_=!0,v();try{g()}finally{Tr(),Mn||bo()}}};d.then(g=>{h(()=>{jt(l,g),u.ensure(Jr,r&&(m=>r(m,l)))})},g=>{h(()=>{if(jt(c,g),u.ensure(Jr,o&&(m=>o(m,c))),!o)throw c.v})}),tn(()=>{_||h(()=>{u.ensure(vl,n)})})}else jt(l,d),u.ensure(Jr,r&&(h=>r(h,l)));return()=>{f=!0}})}function U(t,e,n=!1){var r=new qr(t),o=n?Yn:0;function s(i,l){r.ensure(i,l)}Jn(()=>{var i=!1;e((l,c=!0)=>{i=!0,s(c,l)}),i||s(!1,null)},o)}function be(t,e){Ur(()=>{var n=e();for(var r in n){var o=n[r];o?t.style.setProperty(r,o):t.style.removeProperty(r)}})}function hl(t,e,n){for(var r=t.items,o=[],s=e.length,i=0;i<s;i++)Pa(e[i].e,o,!0);var l=s>0&&o.length===0&&n!==null;if(l){var c=n.parentNode;qi(c),c.append(n),r.clear(),Tt(t,e[0].prev,e[s-1].next)}zo(o,()=>{for(var u=0;u<s;u++){var d=e[u];l||(r.delete(d.k),Tt(t,d.prev,d.next)),tt(d.e,!l)}})}function Wr(t,e,n,r,o,s=null){var i=t,l={flags:e,items:new Map,first:null},c=(e&ho)!==0;if(c){var u=t;i=u.appendChild(Sn())}var d=null,f=!1,v=new Map,_=Hr(()=>{var k=n();return ma(k)?k:k==null?[]:wa(k)}),h,g;function m(){gl(g,h,l,v,i,o,e,r,n),s!==null&&(h.length===0?d?xa(d):d=wt(()=>s(i)):d!==null&&On(d,()=>{d=null}))}Jn(()=>{g??(g=de),h=a(_);var k=h.length;if(!(f&&k===0)){f=k===0;var E,y,N,D;if(Lo()){var P=new Set,S=xe;for(y=0;y<k;y+=1){N=h[y],D=r(N,y);var C=l.items.get(D)??v.get(D);C?(e&(Rr|Fr))!==0&&Qo(C,N,y,e):(E=$o(null,l,null,null,N,D,y,o,e,n,!0),v.set(D,E)),P.add(D)}for(const[L,G]of l.items)P.has(L)||S.skipped_effects.add(G.e);S.add_callback(m)}else m();a(_)}})}function gl(t,e,n,r,o,s,i,l,c){var u=(i&pi)!==0,d=(i&(Rr|Fr))!==0,f=e.length,v=n.items,_=n.first,h=_,g,m=null,k,E=[],y=[],N,D,P,S;if(u)for(S=0;S<f;S+=1)N=e[S],D=l(N,S),P=v.get(D),P!==void 0&&(P.a?.measure(),(k??(k=new Set)).add(P));for(S=0;S<f;S+=1){if(N=e[S],D=l(N,S),P=v.get(D),P===void 0){var C=r.get(D);if(C!==void 0){r.delete(D),v.set(D,C);var L=m?m.next:h;Tt(n,m,C),Tt(n,C,L),Qr(C,L,o),m=C}else{var G=h?h.e.nodes_start:o;m=$o(G,n,m,m===null?n.first:m.next,N,D,S,s,i,c)}v.set(D,m),E=[],y=[],h=m.next;continue}if(d&&Qo(P,N,S,i),(P.e.f&St)!==0&&(xa(P.e),u&&(P.a?.unfix(),(k??(k=new Set)).delete(P))),P!==h){if(g!==void 0&&g.has(P)){if(E.length<y.length){var ee=y[0],se;m=ee.prev;var z=E[0],ne=E[E.length-1];for(se=0;se<E.length;se+=1)Qr(E[se],ee,o);for(se=0;se<y.length;se+=1)g.delete(y[se]);Tt(n,z.prev,ne.next),Tt(n,m,z),Tt(n,ne,ee),h=ee,m=ne,S-=1,E=[],y=[]}else g.delete(P),Qr(P,h,o),Tt(n,P.prev,P.next),Tt(n,P,m===null?n.first:m.next),Tt(n,m,P),m=P;continue}for(E=[],y=[];h!==null&&h.k!==D;)(h.e.f&St)===0&&(g??(g=new Set)).add(h),y.push(h),h=h.next;if(h===null)continue;P=h}E.push(P),m=P,h=P.next}if(h!==null||g!==void 0){for(var $=g===void 0?[]:wa(g);h!==null;)(h.e.f&St)===0&&$.push(h),h=h.next;var he=$.length;if(he>0){var _e=(i&ho)!==0&&f===0?o:null;if(u){for(S=0;S<he;S+=1)$[S].a?.measure();for(S=0;S<he;S+=1)$[S].a?.fix()}hl(n,$,_e)}}u&&tn(()=>{if(k!==void 0)for(P of k)P.a?.apply()}),t.first=n.first&&n.first.e,t.last=m&&m.e;for(var Q of r.values())tt(Q.e);r.clear()}function Qo(t,e,n,r){(r&Rr)!==0&&jt(t.v,e),(r&Fr)!==0?jt(t.i,n):t.i=n}function $o(t,e,n,r,o,s,i,l,c,u,d){var f=(c&Rr)!==0,v=(c&_i)===0,_=f?v?ua(o,!1,!1):Vt(o):o,h=(c&Fr)===0?i:Vt(i),g={i:h,v:_,k:s,a:null,e:null,prev:n,next:r};try{if(t===null){var m=document.createDocumentFragment();m.append(t=Sn())}return g.e=wt(()=>l(t,_,h,u),Pi),g.e.prev=n&&n.e,g.e.next=r&&r.e,n===null?d||(e.first=g):(n.next=g,n.e.next=g.e),r!==null&&(r.prev=g,r.e.prev=g.e),g}finally{}}function Qr(t,e,n){for(var r=t.next?t.next.e.nodes_start:n,o=e?e.e.nodes_start:n,s=t.e.nodes_start;s!==null&&s!==r;){var i=gr(s);o.before(s),s=i}}function Tt(t,e,n){e===null?t.first=n:(e.next=n,e.e.next=n&&n.e),n!==null&&(n.prev=e,n.e.prev=e&&e.e)}function ve(t,e,...n){var r=new qr(t);Jn(()=>{const o=e()??null;r.ensure(o,o&&(s=>o(s,...n)))},Yn)}function es(t,e,n){var r=new qr(t);Jn(()=>{var o=e()??null;r.ensure(o,o&&(s=>n(s,o)))},Yn)}function ts(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var o=t.length;for(e=0;e<o;e++)t[e]&&(n=ts(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function pl(){for(var t,e,n=0,r="",o=arguments.length;n<o;n++)(t=arguments[n])&&(e=ts(t))&&(r&&(r+=" "),r+=e);return r}function me(t){return typeof t=="object"?pl(t):t??""}const Za=[...` 	
\r\f \v\uFEFF`];function _l(t,e,n){var r=t==null?"":""+t;if(e&&(r=r?r+" "+e:e),n){for(var o in n)if(n[o])r=r?r+" "+o:o;else if(r.length)for(var s=o.length,i=0;(i=r.indexOf(o,i))>=0;){var l=i+s;(i===0||Za.includes(r[i-1]))&&(l===r.length||Za.includes(r[l]))?r=(i===0?"":r.substring(0,i))+r.substring(l+1):i=l}}return r===""?null:r}function ml(t,e){return t==null?null:String(t)}function we(t,e,n,r,o,s){var i=t.__className;if(i!==n||i===void 0){var l=_l(n,r,s);l==null?t.removeAttribute("class"):t.className=l,t.__className=n}else if(s&&o!==s)for(var c in s){var u=!!s[c];(o==null||u!==!!o[c])&&t.classList.toggle(c,u)}return s}function Wn(t,e,n,r){var o=t.__style;if(o!==e){var s=ml(e);s==null?t.removeAttribute("style"):t.style.cssText=s,t.__style=e}return r}const wl=Symbol("is custom element"),yl=Symbol("is html");function tf(t,e){var n=Da(t);n.value===(n.value=e??void 0)||t.value===e&&(e!==0||t.nodeName!=="PROGRESS")||(t.value=e??"")}function nf(t,e){var n=Da(t);n.checked!==(n.checked=e??void 0)&&(t.checked=e)}function Me(t,e,n,r){var o=Da(t);o[e]!==(o[e]=n)&&(e==="loading"&&(t[oi]=n),n==null?t.removeAttribute(e):typeof n!="string"&&bl(t).includes(e)?t[e]=n:t.setAttribute(e,n))}function Da(t){return t.__attributes??(t.__attributes={[wl]:t.nodeName.includes("-"),[yl]:t.namespaceURI===Ei})}var Ja=new Map;function bl(t){var e=t.getAttribute("is")||t.nodeName,n=Ja.get(e);if(n)return n;Ja.set(e,n=[]);for(var r,o=t,s=Element.prototype;s!==o;){r=co(o);for(var i in r)r[i].set&&n.push(i);o=ya(o)}return n}function Sl(t,e,n=e){var r=new WeakSet;Ki(t,"input",async o=>{var s=o?t.defaultValue:t.value;if(s=$r(t)?ea(s):s,n(s),xe!==null&&r.add(xe),await Yo(),s!==(s=e())){var i=t.selectionStart,l=t.selectionEnd,c=t.value.length;if(t.value=s??"",l!==null){var u=t.value.length;i===l&&l===c&&u>c?(t.selectionStart=u,t.selectionEnd=u):(t.selectionStart=i,t.selectionEnd=Math.min(l,u))}}}),pt(e)==null&&t.value&&(n($r(t)?ea(t.value):t.value),xe!==null&&r.add(xe)),Ur(()=>{var o=e();if(t===document.activeElement){var s=Cr??xe;if(r.has(s))return}$r(t)&&o===ea(t.value)||t.type==="date"&&!o&&!t.value||o!==t.value&&(t.value=o??"")})}function $r(t){var e=t.type;return e==="number"||e==="range"}function ea(t){return t===""?null:+t}function Qa(t,e){return t===e||t?.[mn]===e}function Ct(t={},e,n,r){return Ji(()=>{var o,s;return Ur(()=>{o=s,s=[],pt(()=>{t!==n(...s)&&(e(t,...s),o&&Qa(n(...o),t)&&e(null,...o))})}),()=>{tn(()=>{s&&Qa(n(...s),t)&&e(null,...s)})}}),t}function Kr(t=!1){const e=Ce,n=e.l.u;if(!n)return;let r=()=>al(e.s);if(t){let o=0,s={};const i=hr(()=>{let l=!1;const c=e.s;for(const u in c)c[u]!==s[u]&&(s[u]=c[u],l=!0);return l&&o++,o});r=()=>a(i)}n.b.length&&Xi(()=>{$a(e,r),ra(n.b)}),Ne(()=>{const o=pt(()=>n.m.map(ti));return()=>{for(const s of o)typeof s=="function"&&s()}}),n.a.length&&Ne(()=>{$a(e,r),ra(n.a)})}function $a(t,e){if(t.l.s)for(const n of t.l.s)a(n);e()}let Sr=!1;function kl(t){var e=Sr;try{return Sr=!1,[t(),Sr]}finally{Sr=e}}function ae(t,e,n,r){var o=!Xn||(n&wi)!==0,s=(n&bi)!==0,i=(n&Si)!==0,l=r,c=!0,u=()=>(c&&(c=!1,l=i?pt(r):r),l),d;if(s){var f=mn in t||ai in t;d=In(t,e)?.set??(f&&e in t?y=>t[e]=y:void 0)}var v,_=!1;s?[v,_]=kl(()=>t[e]):v=t[e],v===void 0&&r!==void 0&&(v=u(),d&&(o&&di(),d(v)));var h;if(o?h=()=>{var y=t[e];return y===void 0?u():(c=!0,y)}:h=()=>{var y=t[e];return y!==void 0&&(l=void 0),y===void 0?l:y},o&&(n&yi)===0)return h;if(d){var g=t.$$legacy;return(function(y,N){return arguments.length>0?((!o||!N||g||_)&&d(N?h():y),y):h()})}var m=!1,k=((n&mi)!==0?hr:Hr)(()=>(m=!1,h()));s&&a(k);var E=de;return(function(y,N){if(arguments.length>0){const D=N?a(k):o&&s?Re(y):y;return w(k,D),m=!0,l!==void 0&&(l=D),y}return Pn&&m||(E.f&En)!==0?k.v:a(k)})}function pe(t){Ce===null&&vo(),Xn&&Ce.l!==null?Cl(Ce).m.push(t):Ne(()=>{const e=pt(t);if(typeof e=="function")return e})}function Cl(t){var e=t.l;return e.u??(e.u={a:[],b:[],m:[]})}const El="5";var io;typeof window<"u"&&((io=window.__svelte??(window.__svelte={})).v??(io.v=new Set)).add(El);Di();const ns={};function Pl(t){ze(ns,t)}function rs(){const t=Fe(ns);if(!t)throw new Error("No SearchContext found");return t}const as={};function xl(t){ze(as,t)}function Ft(){const t=Fe(as);if(!t)throw new Error("No AppHistoryContext found");return t}function Al(t,e){Z(e,!0);const{addSearchParam:n,deleteSearchParam:r,getAppLocation:o}=Ft(),s=R(()=>o().searchParams),i="search",l=Re({value:o().searchParams.get(i)||""}),c=f=>{(a(s).get(i)||"")!==f&&(f===""?r(i):n(i,f))};Ne(()=>{a(s);const f=l.value;pt(()=>{c(f)})}),Pl(l);var u=q(),d=I(u);ve(d,()=>e.children??Se),p(t,u),J()}const os={};function Dl(t){ze(os,t)}function ss(){const t=Fe(os);if(!t)throw new Error("No TagSearchContext found");return t}function Tl(t,e){Z(e,!0);const n=Re({value:""});Dl(n);var r=q(),o=I(r);ve(o,()=>e.children??Se),p(t,r),J()}const is={};function Nl(t){ze(is,t)}function ls(){const t=Fe(is);if(!t)throw new Error("No FeedOrderContext found");return t}function Ll(t,e){Z(e,!0);const{addSearchParam:n,deleteSearchParam:r,getAppLocation:o}=Ft(),s=R(()=>o().searchParams),i="feedOrder";let l=V(Re(o().searchParams.get(i)||"newest"));const c=_=>{(a(s).get(i)||"newest")!==_&&(_==="newest"?r(i):n(i,_))};Ne(()=>{a(s),a(l),pt(()=>{c(a(l))})}),Nl({getFeedOrder:()=>a(l),setFeedOrder:_=>{w(l,_,!0)}});var f=q(),v=I(f);ve(v,()=>e.children??Se),p(t,f),J()}const cs={};function Bl(t){ze(cs,t)}function Ta(){const t=Fe(cs);if(!t)throw new Error("No SidebarContext found");return t}function Il(t,e){Z(e,!0);const n=(d,f)=>{if(!f)return d;if(f.type==="closed")return{type:"closed"};switch(d.type){case"opened":return f.type==="close"?{type:"closing"}:f.type==="swipe"?{type:"openSwiping"}:d;case"closed":return f.type==="open"?{type:"opening"}:f.type==="swipe"?{type:"closeSwiping"}:d;case"openSwiping":return f.type==="open"?{type:"opening"}:f.type==="close"?{type:"closing"}:d;case"closeSwiping":return f.type==="open"?{type:"opening"}:f.type==="close"?{type:"closing"}:d;case"opening":return f.type==="opened"?{type:"opened"}:d;default:return d}};let r=V(Re(n({type:"closed"})));const o=d=>{const f=pt(()=>a(r));w(r,n(f,d),!0)};Bl({sidebarOpen:()=>{o({type:"open"})},sidebarClose:()=>{o({type:"close"})},handleComputeState:o,getSidebarState:()=>a(r)});var c=q(),u=I(c);ve(u,()=>e.children??Se),p(t,c),J()}const us={};function Ml(t){ze(us,t)}function ds(){const t=Fe(us);if(!t)throw new Error("No SelectedTagsContext found");return t}const fs=(t,e)=>{let n=null;return()=>{n&&clearTimeout(n),n=setTimeout(()=>{n=null,t()},e)}};async function rf(){if(navigator.storage&&navigator.storage.persist)try{await navigator.storage.persisted()||await navigator.storage.persist()}catch{}}const Ol=(t,e)=>{if(t.size!==e.size)return!0;for(const n of t)if(!e.has(n))return!0;return!1};function Rl(t,e){Z(e,!0);const{getAppLocation:n,replace:r}=Ft(),o=R(n),s=R(()=>a(o).searchParams),i="selectedTags",l=()=>new Set(n().searchParams.get(i)?.split(",")||[]);let c=V(Re(l()));const u=()=>{const g=l();if(Ol(g,a(c))){const m=a(o).pathname;a(c).size===0?a(s).delete(i):a(s).set(i,Array.from(a(c)).join(",")),r(`${m}${a(s).size>0?`?${a(s).toString()}`:""}`)}};Ne(()=>{a(s),a(c),pt(()=>{u()})}),Ml({getSelectedTags:()=>a(c),addTag:g=>{a(c).has(g)||w(c,new Set([...a(c),g]),!0)},removeTag:g=>{const m=new Set(a(c));m.delete(g),w(c,m,!0)}});var _=q(),h=I(_);ve(h,()=>e.children??Se),p(t,_),J()}const vs={};function Fl(t){ze(vs,t)}function Na(){const t=Fe(vs);if(!t)throw new Error("No LocalDBContext found");return t}const hs={};function zl(t){ze(hs,t)}function Hl(){const t=Fe(hs);if(!t)throw new Error("No SettingsContext found");return t}const gs={};function jl(t){ze(gs,t)}function Qn(){const t=Fe(gs);if(!t)throw new Error("No BroadcastContext found");return t}const Ul="AppStorage",Vl=1,nr="account",Ar="settings",At="notes",Dt="tags",ql="syncLog",rn="success",an="error",je=(t,e,n)=>{t?.addEventListener(e,n)},eo=(t,e)=>new Promise((n,r)=>{const s=t?.transaction(e,"readonly")?.objectStore(e).getAll();je(s,rn,()=>{const i=s?.result||[];n(i)}),je(s,an,i=>{r(i)})}),va=(t,e,n)=>new Promise((r,o)=>{const i=t?.transaction(e,"readonly")?.objectStore(e).get(n);je(i,rn,()=>{const l=i?.result?.data;r(l)}),je(i,an,l=>{o(l)})}),sr=(t,e,n,r)=>new Promise((o,s)=>{const c=t?.transaction(e,"readwrite")?.objectStore(e)?.put({id:n,data:r});je(c,rn,()=>{o()}),je(c,an,u=>{s(u)})}),ta=async(t,e,n)=>{const o=t?.transaction(e,"readwrite")?.objectStore(e);await Promise.all(n.map(s=>{const i=o?.put(s);return new Promise((l,c)=>{je(i,rn,()=>{l()}),je(i,an,u=>{c(u)})})}))},Wl=(t,e,n)=>new Promise((r,o)=>{const l=t?.transaction(e,"readwrite")?.objectStore(e)?.delete(n);je(l,rn,()=>{r()}),je(l,an,c=>{o(c)})}),kr=async(t,e,n)=>{const o=t?.transaction(e,"readwrite")?.objectStore(e);await Promise.all(n.map(s=>{const i=o?.delete(s);return new Promise((l,c)=>{je(i,rn,()=>{l()}),je(i,an,u=>{c(u)})})}))},un=(t,e)=>new Promise((n,r)=>{const i=t?.transaction(e,"readwrite")?.objectStore(e)?.clear();je(i,rn,()=>{n()}),je(i,an,l=>{r(l)})});function Kl(t,e){Z(e,!0);let n=V(Re({showFavicon:!1}));const{getDB:r}=Na(),{createBroadcastChannel:o,tabId:s}=Qn(),i=o(),l=R(r),c=async()=>{const g=await va(a(l),Ar,"default");g&&w(n,g,!0)},u=async()=>{c()},d=async g=>{const m=JSON.parse(g.data),k=m;if(m.tabId&&m.tabId===s){k.type==="exit"&&(w(n,{showFavicon:!1},!0),un(a(l),Ar));return}k.type==="updateSettings"?c():k.type==="exit"&&w(n,{showFavicon:!1},!0)},f=()=>a(n).showFavicon,v=async g=>{a(n).showFavicon=g,await sr(a(l),Ar,"default",{showFavicon:g}),i.postMessage({type:"updateSettings"})};pe(()=>(u(),i.addEventListener(d),()=>{i.removeEventListener(d)})),zl({getFaviconEnabled:f,setFaviconShown:v});var _=q(),h=I(_);ve(h,()=>e.children??Se),p(t,_),J()}const ps={};function Yl(t){ze(ps,t)}function La(){const t=Fe(ps);if(!t)throw new Error("No AccountContext found");return t}function Gl(t,e){Z(e,!0);let n=V(void 0);const{getDB:r}=Na(),{createBroadcastChannel:o,tabId:s}=Qn(),i=R(r),l=o(),c=async()=>{const y=await va(a(i),nr,"default");w(n,y,!0)},u=y=>sr(a(i),nr,"default",y),d=async y=>{const N=await va(a(i),nr,"default");N!==void 0&&w(n,N,!0),y(N)},f=async y=>{const N=JSON.parse(y.data);if(N.tabId&&N.tabId===s)return;const D=N;D.type==="initLocalAccount"?w(n,null):D.type==="initCloudAccount"?c():D.type==="disconnectCloudAccount"?w(n,null):D.type==="exit"?w(n,void 0):D.type==="updateAccount"&&c()};pe(()=>(l.addEventListener(f),()=>{l.removeEventListener(f)})),Yl({init:d,getAccount:()=>a(n),initLocalAccount:async()=>{w(n,null),await u(null),l.postMessage({type:"initLocalAccount"})},initCloudAccount:async y=>{const N={encryptedClientKey:y.encryptedClientKey||"",subscriptionExpires:y.subscriptionExpires||-1,lastSync:-1};await u(N),w(n,N,!0),l.postMessage({type:"initCloudAccount"})},disconnectCloudAccount:async()=>{w(n,null),await u(null),l.postMessage({type:"disconnectCloudAccount"})},updateSubscription:async y=>{if(!a(n))throw new Error("No account to update subscription for");const N={...a(n),subscriptionExpires:y};await u(N),l.postMessage({type:"updateAccount"})},exitApp:async()=>{w(n,void 0),l.postMessage({type:"exit"}),await un(a(i),nr)}});var k=q(),E=I(k);ve(E,()=>e.children??Se),p(t,k),J()}const _s={};function Xl(t){ze(_s,t)}function Yr(){const t=Fe(_s);if(!t)throw new Error("No NotesContext found");return t}const Zl=()=>crypto.randomUUID(),Jl=t=>{const e=new Map;for(const n of t||[])for(const r of n?.data.tags||[])e.set(r,{name:r,count:(e.get(r)?.count||0)+1});return e};function Ql(t,e){Z(e,!0);const{getDB:n}=Na(),{createBroadcastChannel:r,tabId:o}=Qn(),s=R(n),i=r(),l=720*60*60*1e3;let c=V(0),u=V(!1),d=V(()=>new Map),f=V(()=>[]),v=V(()=>new Map);const _=()=>a(u),h=()=>a(c)>0,g=()=>{a(c)>0&&w(c,a(c)-1)},m=T=>{const O=a(f)(),b=a(v)(),B={...T};O.push(B),b.set(B.id,B),w(f,()=>O),w(v,()=>b)},k=T=>{const O=a(f)(),b=a(v)(),B=b.get(T.id);B&&(B.data=T.data),w(f,()=>O),w(v,()=>b)},E=T=>{const O=a(f)(),b=a(v)(),B=b.get(T);b.has(T)&&b.delete(T),B?.data?.type==="draft"&&b.delete("draft"),B&&(B.data=void 0),w(f,()=>O),w(v,()=>b)},y=()=>{w(f,()=>[]),w(d,()=>new Map),w(v,()=>new Map)},N=()=>a(f),D=T=>{const O=a(d)();for(const b of T){const B=O.get(b);B?B.count++:O.set(b,{name:b,count:1})}w(d,()=>O)},P=T=>{const O=a(d)();for(const b of T){const B=O.get(b);B&&(B.count--,B.count<=0&&O.delete(b))}w(d,()=>O)},S=async()=>{const[T,O]=await Promise.all([eo(a(s),At),eo(a(s),Dt).then(W=>W.reduce((ge,Le)=>ge.set(Le.name,Le),new Map))]),b=[],B=[],te=new Map;let ce=0;for(const W of T)W.data.deletedAt&&Date.now()-W.data.deletedAt>l?b.push(W.id):(B.push(W),te.set(W.id,W),W.data.deletedAt&&(ce+=1),W.data.type==="draft"&&te.set("draft",W));w(c,ce,!0);const oe=Jl(B),Ee=new Map;oe.entries().forEach(([W,ge])=>{const Le=O.get(W);Ee.set(W,{...Le,...ge})}),await kr(a(s),At,b),await un(a(s),Dt),await ta(a(s),Dt,Array.from(Ee.values()).map(W=>({id:W.name,data:{pinned:W.pinned}}))),w(f,()=>B),w(v,()=>te),w(d,()=>Ee),w(u,!0)},C=async()=>{const T=a(v)(),O=T.get("draft");if(O)return O;const b={id:Zl(),data:{type:"draft",url:"",name:"",text:"",tags:[],draft:{url:"",name:"",text:"",tags:[],createdAt:Date.now(),updatedAt:Date.now()},createdAt:Date.now(),updatedAt:Date.now()}};return await sr(a(s),At,b.id,{...b.data}),T.set("draft",b),m(b),i.postMessage({type:"createNoteDraft",data:{note:b}}),b},L=async T=>{const b=a(v)().get(T);if(!b||!b.data)return;const B=a(d)(),te=b.data.tags;P(te),E(T),i.postMessage({type:"deleteNote",data:{id:T}}),g(),await Wl(a(s),At,T),await kr(a(s),Dt,te.filter(ce=>{const oe=B.get(ce);return oe?oe.count<=1:!1}))},G=async(T,O)=>{const b={id:O.id,data:{...O.data}},B=a(d)(),te=O.data.tags.filter(oe=>!T.data.tags.includes(oe)),ce=T.data.tags.filter(oe=>!O.data.tags.includes(oe));await sr(a(s),At,b.id,{...b.data}),await ta(a(s),Dt,te.filter(oe=>!B.has(oe)).map(oe=>({id:oe,data:{}}))),await kr(a(s),Dt,ce.filter(oe=>{const Ee=B.get(oe);return Ee?Ee.count<=1:!1})),k(b),P(ce),D(te),i.postMessage({type:"updateNote",data:{note:b,tagsToAdd:te,tagsToDelete:ce}})},ee=async T=>{const O=a(v)(),b=z(T);if(!b||!b.data)return;const B=O.get("draft");B&&B.id===b.id&&O.delete("draft");const te={id:T,data:{type:"note",name:b.data.draft?.name??b.data.name,url:b.data.draft?.url??b.data.url,text:b.data.draft?.text??b.data.text,tags:b.data.draft?.tags??b.data.tags,updatedAt:Date.now(),createdAt:b.data.createdAt,pinnedAt:b.data.pinnedAt,deletedAt:b.data.deletedAt,draft:void 0}};return G(b,te)},se=async()=>{y(),i.postMessage({type:"clearNotes"}),await un(a(s),At),await un(a(s),Dt)},z=T=>{const O=a(v)();return T?O.get(T):O.get("draft")},ne=async(T,O)=>{const B=a(v)().get(T);if(!B||!B.data)return;const te={id:T,data:{...B.data,pinnedAt:O?Date.now():void 0}};return G(B,te)},$=async T=>{const b=a(v)().get(T);if(!b||!b.data)return;const B={id:T,data:{...b.data,deletedAt:Date.now()}};w(c,a(c)+1),await G(b,B)},he=async T=>{const b=a(v)().get(T);if(!b||!b.data)return;const B={id:T,data:{...b.data,deletedAt:0}};g(),await G(b,B)},_e=async(T,O)=>{const b=a(d)();b.set(T,{name:T,count:b.get(T)?.count||0,pinned:O}),await sr(a(s),Dt,T,{pinned:O}),i.postMessage({type:"pinTag",data:{tag:T,pinned:O}}),w(d,()=>b)},Q=async T=>{const O=a(v)(),b={};T.forEach(B=>{const te=O.get(B.id);(!te||te&&te.data&&te.data.updatedAt<B.data.updatedAt)&&(b[B.id]=B)}),await ta(a(s),At,Object.values(b)),await S(),i.postMessage({type:"reloadNotes"})},Y=async()=>{const T=[];a(f)().forEach(b=>{b&&b.data&&b.data.deletedAt&&T.push(b.id)}),w(c,0),await kr(a(s),At,T),await S(),i.postMessage({type:"emptyBin"})},X=async(T,O)=>{if(T===""){const ce=a(v)().get("draft");ce?T=ce.id:T=(await C()).id}const b=z(T);if(!b||!b.data)return;const B={id:T,data:{...b.data,draft:{...O,tags:O.tags,createdAt:b.data.draft?.createdAt||Date.now(),updatedAt:Date.now()}}};return await G(b,B),b.id},M=async T=>{const O=a(v)(),b=z(T);if(!b||!b.data||!b.data.draft)return;if(b.data.type==="draft"){T===O.get("draft")?.id&&O.delete("draft"),await L(T);return}const B={id:T,data:{...b.data,draft:void 0}};return G(b,B)},j=async T=>{const O=JSON.parse(T.data),b=O;if(O.tabId&&O.tabId===o){b.type==="exit"&&(y(),await un(a(s),At),await un(a(s),Dt));return}if(b.type==="createNoteDraft"){const B=b.data.note;a(v)().set("draft",B),m(B)}else if(b.type==="updateNote"){const B=b.data,ce=a(v)().get(B.note.id);if(!ce||!ce.data)return;ce.data.deletedAt&&!B.note.data.deletedAt?g():!ce.data.deletedAt&&B.note.data.deletedAt&&w(c,a(c)+1),k(B.note),P(B.tagsToAdd),D(B.tagsToDelete)}else if(b.type==="deleteNote"){const B=b.data.id,ce=a(v)().get(B);if(!ce)return;g(),E(B),P(ce?.data?.tags||[])}else if(b.type==="pinTag"){const B=b.data.tag,te=b.data.pinned,ce=a(d)(),oe=ce.get(B);oe&&(oe.pinned=te,ce.set(B,oe))}else b.type==="clearNotes"?y():b.type==="reloadNotes"||b.type==="emptyBin"?S():b.type==="exit"&&y()};pe(()=>(S(),i.addEventListener(j),()=>{i.removeEventListener(j)})),Xl({isInitedNotes:_,putNoteDraft:X,deleteNoteDraft:M,deleteNote:L,pinNote:ne,getGetNotes:N,importNotes:Q,clearNotes:se,getNoteById:z,getGetMapTags:()=>a(d),pinTag:_e,moveNoteToBin:$,restoreNoteFromBin:he,checkNotesInBin:h,emptyBin:Y,saveNoteDraft:ee,countNotesInBin:()=>a(c)});var le=q(),ye=I(le);ve(ye,()=>e.children??Se),p(t,le),J()}const ms={},$l=()=>({working:!1,swipingRatio:1,isSwiping:!1,duration:.35});function ec(t){ze(ms,t)}function $n(){const t=Fe(ms);if(!t)throw new Error("No AnimationSettingsContext found");return t}function tc(t,e){Z(e,!0);let n=Re($l());ec(n);var r=q(),o=I(r);ve(o,()=>e.children??Se),p(t,r),J()}const ws={};function nc(t){ze(ws,t)}function ys(){const t=Fe(ws);if(!t)throw new Error("No ScrollingContext found");return t}function rc(t,e){Z(e,!0);let n=V(!1);const r=()=>a(n),o=fs(()=>{w(n,!1)},100);nc({isScrolling:r,enable:()=>{w(n,!0),o()}});var i=q(),l=I(i);ve(l,()=>e.children??Se),p(t,i),J()}const bs={};function ac(t){ze(bs,t)}function on(){const t=Fe(bs);if(!t)throw new Error("No MobileSizeContext found");return t}function oc(t,e){Z(e,!0);const n=()=>window.matchMedia("(max-width: 767px)").matches;let r=V(Re(n())),o=$n();const s=fs(()=>{o.working=!0},16),i=()=>{o.working=!1,s(),requestAnimationFrame(()=>{w(r,n(),!0)})};ac({checkMobileSize:()=>a(r)}),pe(()=>(window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)));var c=q(),u=I(c);ve(u,()=>e.children??Se),p(t,c),J()}const Ss={};function sc(t){ze(Ss,t)}function Wt(){const t=Fe(Ss);if(!t)throw new Error("No DialogContext found");return t}function ic(t,e){Z(e,!0);let n=V(0),r=V(!1),o=V(!1);sc({checkExistedDialog:()=>a(n)>0,showDialog:()=>{w(n,a(n)+1)},hideDialog:()=>{w(n,a(n)-1)},blockDialog:h=>{w(r,h,!0),h||w(o,!1)},checkBlockedDialog:()=>a(r),unBlockBackDialog:h=>{w(o,h,!0)},checkUnBlockedBackDialog:()=>a(o)});var v=q(),_=I(v);ve(_,()=>e.children??Se),p(t,v),J()}const ks={};function lc(t){ze(ks,t)}function Ba(){const t=Fe(ks);if(!t)throw new Error("No ScrollContainerContext found");return t}function cc(t,e){Z(e,!0);let n=V(null);lc({setScrollContainer:l=>{w(n,l,!0)},getScrollContainer:()=>a(n)});var s=q(),i=I(s);ve(i,()=>e.children??Se),p(t,s),J()}const Cs={};function uc(t){ze(Cs,t)}function Ia(){const t=Fe(Cs);if(!t)throw new Error("No DialogPageHeightContext found");return t}function dc(t,e){Z(e,!0);let n=V(200);uc({setDialogPageHeight:l=>{w(n,l,!0)},getDialogPageHeight:()=>a(n)});var s=q(),i=I(s);ve(i,()=>e.children??Se),p(t,s),J()}const fc=[nr,Ar,At,Dt,ql];function vc(){return new Promise((t,e)=>{const n=indexedDB.open(Ul,Vl);je(n,"upgradeneeded",()=>{const r=n.result;for(const o of fc)r.objectStoreNames.contains(o)||r.createObjectStore(o,{keyPath:"id"})}),je(n,rn,()=>{const r=n.result;t(r),r.onversionchange=function(){r?.close(),alert("app outdated, please reload the page")}}),je(n,"blocked",()=>{e(),alert("app outdated, please reload the page")}),je(n,an,()=>{e()})})}function hc(t,e){Z(e,!0);let n=V(null);pe(()=>{vc().then(l=>{w(n,l,!0)}).catch(l=>{})}),Fl({getDB:()=>a(n)});var o=q(),s=I(o);{var i=l=>{var c=q(),u=I(c);ve(u,()=>e.children??Se),p(l,c)};U(s,l=>{a(n)&&l(i)})}p(t,o),J()}const Es={};function gc(t){ze(Es,t)}function gt(){const t=Fe(Es);if(!t)throw new Error("No StackPagesContext found");return t}function pc(t,e){Z(e,!0);const{createBroadcastChannel:n,tabId:r}=Qn(),o=n(),{getAppLocation:s,getAppHistoryStack:i,navigate:l,goBack:c,replace:u}=Ft(),d=R(s),f=R(()=>a(d).searchParams),v="stackPages",_=()=>a(f).get(v)?.split(",")||[];let h=V(Re([]));const g=()=>{const S=_();a(h).join(",")!==S.join(",")&&w(h,S,!0)};Ne(()=>{a(f),pt(()=>{g()})});const m=S=>{if(!a(h).find(C=>{const[L]=C.split("?");return L===S})){const C=new URLSearchParams(a(d).search),L=a(d).pathname;C.set(v,[...a(h),S].join(",")),l(`${L}${C.size>0?`?${C.toString()}`:""}`)}},k=S=>a(h).find(C=>{const[L]=C.split("?");return L===S})!==void 0,E=()=>{const S=i(),C=S.findIndex(L=>L.searchParams.has(v));if(S.length<=1||C===-1){const L=new URLSearchParams(a(d).search);L.delete(v),u(`${a(d).pathname}${L.size>0?`?${L.toString()}`:""}`)}else if(C===0){c(S.length-C+1);const L=new URLSearchParams(a(d).search);L.delete(v),u(`${a(d).pathname}${L.size>0?`?${L.toString()}`:""}`)}else c(S.length-C)},y=(S,C)=>{if(C?.full)return`/${S}`;const L=a(h).slice();L.includes(S)||L.push(S);const G=new URLSearchParams(a(d).search);return G.set(v,L.join(",")),`${a(d).pathname}?${G}`},N=(S,C)=>L=>{if(L.preventDefault(),C?.full){l(S);return}m(S)};pe(()=>{const S=C=>{const L=JSON.parse(C.data),G=L;if(L.tabId&&L.tabId===r){if(G.type==="navigateBack"&&a(h).length>0){const ee=new URLSearchParams(a(d).search);a(h).length>1?ee.set(v,a(h).slice(0,-1).join(",")):ee.delete(v),u(`${a(d).pathname}${ee.size>0?`?${ee.toString()}`:""}`)}return}};return o.addEventListener(S),()=>{o.removeEventListener(S)}}),gc({getStackPages:()=>a(h),pushStackPages:m,hasStackPage:k,clearStackPages:E,getPageUrl:y,createHandlePage:N,getStackPagesFormUrl:_});var D=q(),P=I(D);ve(P,()=>e.children??Se),p(t,D),J()}function _c(t,e){Z(e,!0);const{createBroadcastChannel:n}=Qn(),r=n(),o=g=>g.startsWith("/")?g:`/${g}`,s=g=>{const[m,k]=g.split("?");return{href:o(g),pathname:o(m),search:k?`?${k}`:"",searchParams:new URLSearchParams(k)}};let i=V(Re([{href:`${o(window.location.pathname)}${window.location.search}`,pathname:o(window.location.pathname),search:window.location.search,searchParams:new URLSearchParams(window.location.search)}]));const l=g=>{a(i).push(s(g)),window.history.replaceState(null,"",g)},c=g=>{a(i)[a(i).length-1]=s(g),window.history.replaceState(null,"",g)};xl({getAppLocation:()=>a(i)[a(i).length-1],getAppHistoryStack:()=>a(i),navigate:l,replace:c,addSearchParam:(g,m)=>{const k=a(i)[a(i).length-1],E=k.searchParams;E.set(g,m),c(`${k.pathname}${E.size>0?`?${E.toString()}`:""}`)},deleteSearchParam:g=>{const m=a(i)[a(i).length-1],k=m.searchParams;k.delete(g),c(`${m.pathname}${k.size>0?`?${k.toString()}`:""}`)},back:g=>{const{to:m}=g||{};if(a(i).length>1){if(m){const E=a(i).findIndex(y=>y.href===m);if(E!==-1){w(i,a(i).slice(0,E+1),!0);const y=a(i)[a(i).length-1];window.history.replaceState(null,"",y.href)}else c(m);return}a(i).pop();const k=a(i)[a(i).length-1];window.history.replaceState(null,"",k.href)}else m?c(m):r.postMessage({type:"navigateBack"})},goBack:g=>{if(a(i).length>=g){w(i,a(i).slice(0,-g),!0);const m=a(i)[a(i).length-1];window.history.replaceState(null,"",m.href)}}});var _=q(),h=I(_);ve(h,()=>e.children??Se),p(t,_),J()}const Ps={};function mc(t){ze(Ps,t)}function wc(){const t=Fe(Ps);if(!t)throw new Error("No KeyboardVisibleContext found");return t}function yc(t,e){Z(e,!0);let n=Re({value:!1});const r=()=>n.value;pe(()=>{const i=()=>{setTimeout(()=>{document.activeElement instanceof HTMLInputElement&&document.activeElement.type==="text"||document.activeElement instanceof HTMLTextAreaElement?n.value=!0:n.value=!1},0)};return i(),document.addEventListener("focusin",i),document.addEventListener("focusout",i),()=>{document.removeEventListener("focusin",i),document.removeEventListener("focusout",i)}}),mc({getIsKeyboardVisible:r});var o=q(),s=I(o);ve(s,()=>e.children??Se),p(t,o),J()}function bc(t,e){Z(e,!0);const n=crypto.randomUUID(),r=(i,l)=>{i.postMessage(JSON.stringify({...l,tabId:n}))};jl({tabId:n,createBroadcastChannel:()=>{const i=new BroadcastChannel("app");return{postMessage:l=>r(i,l),addEventListener:l=>{i.addEventListener("message",l)},removeEventListener:l=>{i.removeEventListener("message",l)}}}});var o=q(),s=I(o);ve(s,()=>e.children??Se),p(t,o),J()}function Sc(t,e){hc(t,{children:(n,r)=>{bc(n,{children:(o,s)=>{tc(o,{children:(i,l)=>{rc(i,{children:(c,u)=>{oc(c,{children:(d,f)=>{ic(d,{children:(v,_)=>{cc(v,{children:(h,g)=>{dc(h,{children:(m,k)=>{yc(m,{children:(E,y)=>{_c(E,{children:(N,D)=>{pc(N,{children:(P,S)=>{var C=q(),L=I(C);ve(L,()=>e.children??Se),p(P,C)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})}function kc(t,e){Sc(t,{children:(n,r)=>{Tl(n,{children:(o,s)=>{Al(o,{children:(i,l)=>{Ll(i,{children:(c,u)=>{Il(c,{children:(d,f)=>{Rl(d,{children:(v,_)=>{Kl(v,{children:(h,g)=>{Gl(h,{children:(m,k)=>{Ql(m,{children:(E,y)=>{var N=q(),D=I(N);ve(D,()=>e.children??Se),p(E,N)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})}})}let Gt=V(""),ln=V(null),rr=V(null),ar=V(null);function yn(t,e){w(Gt,""),setTimeout(()=>{w(Gt,t,!0),e?.onFinish&&w(rr,e.onFinish,!0),e?.onCancel&&w(ar,e.onCancel,!0)},16)}const Cc=(t,e,n,r,o)=>{t.preventDefault(),a(e)&&(w(n,null),a(e)(),w(e,null)),w(r,""),a(o)?.style.removeProperty("opacity")};var Ec=F('<button type="button" class="undoButton svelte-1vxmgq5">undo</button>'),Pc=F('<div class="notification svelte-1vxmgq5"><span> </span> <!></div>'),xc=F("<div><!></div>");function Ac(t,e){Z(e,!0),Ne(()=>{a(Gt);const s=a(ar)?2e3:800;a(Gt)&&(a(ln)?.getBoundingClientRect(),a(ln)?.style.setProperty("opacity","1"));const i=setTimeout(()=>{a(ln)?.style.removeProperty("opacity")},s),l=setTimeout(()=>{w(Gt,""),a(rr)&&a(rr)(),w(rr,null),w(ar,null),a(ln)?.style.removeProperty("opacity")},s+400);return()=>{clearTimeout(i),clearTimeout(l)}});var n=xc(),r=A(n);{var o=s=>{var i=Pc(),l=A(i),c=A(l),u=H(l,2);{var d=f=>{var v=Ec();v.__click=[Cc,ar,rr,Gt,ln],p(f,v)};U(u,f=>{a(ar)&&f(d)})}Ct(i,f=>w(ln,f),()=>a(ln)),ue(()=>en(c,a(Gt))),p(s,i)};U(r,s=>{a(Gt)&&s(o)})}p(t,n),J()}nt(["click"]);var Dc=F('<span class="vh svelte-s92gzo"><!></span>');function et(t,e){var n=Dc(),r=A(n);ve(r,()=>e.children),p(t,n)}var Tc=cl('<svg class="svelte-18et5h9"><use></use></svg>');function ke(t,e){let n=ae(e,"name",8,"");var r=Tc(),o=A(r);ue(()=>Me(o,"href",`#icon-${n()??""}`)),p(t,r)}const Nc=(t,e,n,r,o)=>{if(a(e))return;const s=n().type;s==="closed"?r():s==="opened"&&o()};var Lc=F('<button class="buttonMenu svelte-bpktnw"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>');function xs(t,e){Z(e,!0);const{sidebarOpen:n,getSidebarState:r,sidebarClose:o}=Ta(),{getStackPagesFormUrl:s}=gt(),{checkExistedDialog:i}=Wt();let l=R(()=>s().length>0||i());var c=Lc();c.__click=[Nc,l,r,n,o];var u=A(c);be(u,()=>({"--size":"36px"})),ke(u.lastChild,{name:"sidebarMenu"});var d=H(u,2);et(d,{children:(f,v)=>{var _=De("Menu");p(f,_)}}),p(t,c),J()}nt(["click"]);var Bc=(t,e)=>e.onChange?.(t.target?.value||""),Ic=F('<input class="svelte-15lr19w"/>');function ha(t,e){Z(e,!0);let n=ae(e,"value",15,""),r=ae(e,"ref",15,null);var o=Ic();o.__input=[Bc,e],Ct(o,s=>r(s),()=>r()),ue(()=>Me(o,"placeholder",e.placeholder)),Aa("focus",o,function(...s){e.onFocus?.apply(this,s)}),Sl(o,n),p(t,o),J()}nt(["input"]);function As(t,e){Z(e,!0),pe(()=>{const n=r=>{r.target&&e.dialog?.open&&e.dialogInner&&e.dialogInner!==r.target&&!e.dialogInner.contains(r.target)&&e.onClose()};return document.addEventListener("mousedown",n,{capture:!0}),()=>{document.removeEventListener("mousedown",n,{capture:!0})}}),J()}var Mc=F('<dialog><div class="dialogInner svelte-1x410nl"><!></div></dialog> <!>',1);function Ma(t,e){Z(e,!0);let n=V(null),r=V(null),o=V(!1),{showDialog:s,hideDialog:i}=Wt();const l=h=>{h?.preventDefault();const g=setTimeout(()=>{e.onClosed()},150);a(n)?.addEventListener("transitionend",()=>{clearTimeout(g),e.onClosed()},{once:!0}),w(o,!1)};Ne(()=>{e.startClose&&l()}),pe(()=>(a(n)?.showModal(),a(n)?.getClientRects(),w(o,!0),a(n)?.addEventListener("cancel",l),a(n)?.addEventListener("close",l),()=>{a(n)?.removeEventListener("cancel",l),a(n)?.removeEventListener("close",l)})),pe(()=>(s(),()=>{i()}));var c=Mc(),u=I(c),d=A(u),f=A(d);ve(f,()=>e.children),Ct(d,h=>w(r,h),()=>a(r)),Ct(u,h=>w(n,h),()=>a(n));var v=H(u,2);{var _=h=>{As(h,{get dialog(){return a(n)},get dialogInner(){return a(r)},onClose:l})};U(v,h=>{a(n)&&a(r)&&h(_)})}ue(()=>we(u,1,me(["dialog",{shown:a(o)}]),"svelte-1x410nl")),p(t,c),J()}var Oc=F("<div><!></div>");function Ds(t,e){Z(e,!0);let n=V(!1),r=V(null);const o=()=>{const u=setTimeout(()=>{e.onClosed()},150);a(r)?.addEventListener("transitionend",()=>{clearTimeout(u),e.onClosed()},{once:!0}),w(n,!1)},s=u=>{u.target!==a(r)&&!a(r)?.contains(u.target)&&o()},i=u=>{u.target!==a(r)&&!a(r)?.contains(u.target)&&o()};pe(()=>{a(r)?.getClientRects(),w(n,!0);const u=setTimeout(()=>{document.addEventListener("focusin",s),document.addEventListener("click",i)},0);return()=>{clearTimeout(u),document.removeEventListener("focusin",s),document.removeEventListener("click",i)}}),Ne(()=>{e.startClose&&o()});var l=Oc(),c=A(l);ve(c,()=>e.children),Ct(l,u=>w(r,u),()=>a(r)),ue(()=>we(l,1,me(["menu",{top:e.positionTop,shown:a(n)}]),"svelte-ujw4xi")),p(t,l),J()}const Rc=(t,e)=>{a(e)||w(e,!0)};var Fc=(t,e)=>e("newest"),zc=(t,e)=>e("oldest"),Hc=(t,e)=>e("AtoZ"),jc=(t,e)=>e("ZtoA"),Uc=F("<div><button>Newest</button> <button>Oldest</button> <button>A to Z</button> <button>Z to A</button></div>"),Vc=F('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),qc=F('<div class="orderMenu svelte-14zj87s"><button><!> <!></button> <!></div>');function Wc(t,e){Z(e,!0);const n=(E,y=Se)=>{var N=Uc(),D=A(N);D.__click=[Fc,d];var P=H(D,2);P.__click=[zc,d];var S=H(P,2);S.__click=[Hc,d];var C=H(S,2);C.__click=[jc,d],ue(()=>{we(N,1,me(["menu",{menuDialog:y()}]),"svelte-14zj87s"),we(D,1,me(["menuButton",{menuButtonDialog:y(),current:a(u)==="newest"}]),"svelte-14zj87s"),we(P,1,me(["menuButton",{menuButtonDialog:y(),current:a(u)==="oldest"}]),"svelte-14zj87s"),we(S,1,me(["menuButton",{menuButtonDialog:y(),current:a(u)==="AtoZ"}]),"svelte-14zj87s"),we(C,1,me(["menuButton",{menuButtonDialog:y(),current:a(u)==="ZtoA"}]),"svelte-14zj87s")}),p(E,N)};let r=V(!1),o=V(!1);const{checkMobileSize:s}=on(),{getFeedOrder:i,setFeedOrder:l}=ls();let c=R(s),u=R(i);const d=E=>{w(o,!0),l(E)},f=()=>{w(r,!1),w(o,!1)};pe(()=>{const E=y=>{y.key==="Escape"&&w(o,!0)};return document.addEventListener("keydown",E),()=>document.removeEventListener("keydown",E)});var v=qc(),_=A(v);_.__click=[Rc,r],we(_,1,me(["button","buttonMenu"]),"svelte-14zj87s");var h=A(_);ke(h,{name:"filter"});var g=H(h,2);et(g,{children:(E,y)=>{var N=De("show feed order menu");p(E,N)}});var m=H(_,2);{var k=E=>{var y=q(),N=I(y);{var D=S=>{Ma(S,{get startClose(){return a(o)},onClosed:f,children:(C,L)=>{n(C,()=>!0)},$$slots:{default:!0}})},P=S=>{var C=Vc(),L=I(C);be(L,()=>({"--right":"20px","--top":"60px"})),Ds(L.lastChild,{get startClose(){return a(o)},onClosed:f,children:(G,ee)=>{n(G,()=>!1)},$$slots:{default:!0}}),p(S,C)};U(N,S=>{a(c)?S(D):S(P,!1)})}p(E,y)};U(m,E=>{a(r)&&E(k)})}p(t,v),J()}nt(["click"]);var K=(t=>(t.NewNote="newNote",t.EditNote="editNote",t.Settings="settings",t.ImportData="importData",t.ExportData="exportData",t.ClearStore="clearStore",t.Account="account",t.Sync="sync",t.Start="start",t.Auth="auth",t.Signin="signin",t.Signup="signup",t.AccessKeys="accessKeys",t.ConfirmAccessKey="confirmAccessKey",t.Subscription="subscription",t.Exit="exit",t.NotFound="notFound",t.About="about",t.Bin="bin",t.Install="install",t))(K||{}),Kc=F("<a><!></a>"),Yc=F("<button><!></button>");function kt(t,e){let n=ae(e,"type",3,"standard"),r=ae(e,"typeButton",3,"button"),o=ae(e,"element",3,"button"),s=ae(e,"href",3,""),i=ae(e,"fullWidth",3,!1),l=ae(e,"withoutMinWidth",3,!1);var c=q(),u=I(c);{var d=v=>{var _=Kc();_.__click=function(...g){e.onClick?.apply(this,g)};var h=A(_);ve(h,()=>e.children??Se),ue(()=>{Me(_,"href",s()),we(_,1,me(["button","a",{dangerous:n()==="dangerous",secondary:n()==="secondary",fullWidth:i(),withoutMinWidth:l()}]),"svelte-aqjevc")}),p(v,_)},f=v=>{var _=Yc();_.__click=function(...g){e.onClick?.apply(this,g)};var h=A(_);ve(h,()=>e.children??Se),ue(()=>{Me(_,"type",r()),we(_,1,me(["button",{dangerous:n()==="dangerous",secondary:n()==="secondary",fullWidth:i(),withoutMinWidth:l()}]),"svelte-aqjevc")}),p(v,_)};U(u,v=>{o()==="a"?v(d):v(f,!1)})}p(t,c)}nt(["click"]);var Gc=F('<div class="block svelte-1dzbsx4"><span class="title svelte-1dzbsx4"> </span> <div class="controls svelte-1dzbsx4"><!> <!></div></div>');function Ts(t,e){Z(e,!0);let n=ae(e,"buttonCancelTitle",3,"Cancel"),r=ae(e,"buttonConfirmTitle",3,"Confirm"),o=V(!1),s=V(!1);const i=()=>{w(o,!0)},l=()=>{w(o,!0),w(s,!0)};Ma(t,{get startClose(){return a(o)},onClosed:()=>{a(s)?e.onConfirm():e.onCancel()},children:(u,d)=>{var f=Gc(),v=A(f),_=A(v),h=H(v,2),g=A(h);kt(g,{onClick:i,fullWidth:!0,withoutMinWidth:!0,type:"secondary",children:(k,E)=>{var y=De();ue(()=>en(y,n())),p(k,y)},$$slots:{default:!0}});var m=H(g,2);kt(m,{onClick:l,fullWidth:!0,withoutMinWidth:!0,type:"dangerous",children:(k,E)=>{var y=De();ue(()=>en(y,r())),p(k,y)},$$slots:{default:!0}}),ue(()=>en(_,e.title)),p(u,f)},$$slots:{default:!0}}),J()}const ga=t=>{const e=n=>{const r=n.target,o=r?.tagName;if(o==="INPUT"||o==="TEXTAREA"||r?.isContentEditable)return;const s=n.key.toLowerCase(),i=n.metaKey,l=n.ctrlKey,c=n.shiftKey;if(s===t.key&&!!t.meta==!!i&&!!t.ctrl==!!l&&!!t.shift==!!c){n.preventDefault(),t.action();return}};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}};var Xc=F('<a class="buttonAdd svelte-lfflvc"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Add note</span></a>');function Zc(t,e){Z(e,!1);const{createHandlePage:n,getPageUrl:r,pushStackPages:o,getStackPages:s}=gt(),{checkExistedDialog:i}=Wt(),{checkMobileSize:l}=on(),c=()=>{s.length===0&&!i()&&!l()&&o(K.NewNote)};pe(()=>ga({key:"n",action:c})),Kr();var u=Xc(),d=R(()=>n(K.NewNote));u.__click=function(...v){a(d)?.apply(this,v)};var f=A(u);be(f,()=>({"--size":"16px","--color":"#b0b0b0"})),ke(f.lastChild,{name:"plus"}),ue(v=>Me(u,"href",v),[()=>r(K.NewNote)]),p(t,u),J()}nt(["click"]);const Jc=(t,e)=>{w(e,!0)};var Qc=(t,e)=>{e("/",{full:!0})(t)},$c=F('<a class="link svelte-13t3afu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Notes</span></a>'),eu=(t,e)=>{e(K.Bin,{full:!0})(t)},tu=F('<a class="link svelte-13t3afu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Bin</span></a>'),nu=F('<button class="emptyBinButton svelte-13t3afu" type="button">Empty bin</button>'),ru=F('<div class="header svelte-13t3afu"><div class="top svelte-13t3afu"><div class="menu svelte-13t3afu"><a class="link svelte-13t3afu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Settings</span></a> <a class="link svelte-13t3afu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Sync</span></a> <!></div> <div class="mobile svelte-13t3afu"><!></div> <!></div> <div class="bottom svelte-13t3afu"><div><div class="sidebarSearchWrapper"><!></div></div> <div class="right svelte-13t3afu"><div class="filter svelte-13t3afu"><div class="feedSearchWrapper svelte-13t3afu"><!></div> <!></div></div></div></div> <!>',1);function au(t,e){Z(e,!0);const n=rs(),r=ss(),{getScrollContainer:o}=Ba();let s=R(o);const{emptyBin:i,checkNotesInBin:l}=Yr(),{getAppLocation:c}=Ft(),{createHandlePage:u,getPageUrl:d,getStackPages:f}=gt(),{checkExistedDialog:v}=Wt(),{checkMobileSize:_}=on();let h=V(null);const g=R(l),m=R(()=>c().pathname);let k=V(!1);const E=()=>{a(s)&&a(s).scrollTo({top:0,behavior:"smooth"})},y=()=>{f.length===0&&!v()&&!_()&&a(h)?.focus()};pe(()=>ga({key:"k",meta:!0,action:y})),pe(()=>ga({key:"k",ctrl:!0,action:y}));var N=ru(),D=I(N),P=A(D),S=A(P),C=A(S),L=R(()=>u(K.Settings));C.__click=function(...W){a(L)?.apply(this,W)};var G=A(C);be(G,()=>({"--rotate":"30deg","--size":"20px"})),ke(G.lastChild,{name:"settings"});var ee=H(C,2),se=R(()=>u(K.Sync));ee.__click=function(...W){a(se)?.apply(this,W)};var z=A(ee);be(z,()=>({"--size":"20px"})),ke(z.lastChild,{name:"sync"});var ne=H(ee,2);{var $=W=>{var ge=$c();ge.__click=[Qc,u];var Le=A(ge);be(Le,()=>({"--size":"18px"})),ke(Le.lastChild,{name:"note"}),ue(Be=>Me(ge,"href",Be),[()=>d("/",{full:!0})]),p(W,ge)},he=W=>{var ge=q(),Le=I(ge);{var Be=Te=>{var Ae=tu();Ae.__click=[eu,u];var Ie=A(Ae);be(Ie,()=>({"--size":"20px"})),ke(Ie.lastChild,{name:"bin"}),ue(st=>Me(Ae,"href",st),[()=>d(K.Bin,{full:!0})]),p(Te,Ae)};U(Le,Te=>{a(g)&&Te(Be)},!0)}p(W,ge)};U(ne,W=>{a(m)===`/${K.Bin}`?W($):W(he,!1)})}var _e=H(S,2),Q=A(_e);xs(Q,{});var Y=H(_e,2);{var X=W=>{var ge=q(),Le=I(ge);{var Be=Te=>{var Ae=nu();Ae.__click=[Jc,k],p(Te,Ae)};U(Le,Te=>{a(g)&&Te(Be)})}p(W,ge)},M=W=>{Zc(W,{})};U(Y,W=>{a(m)===`/${K.Bin}`?W(X):W(M,!1)})}var j=H(P,2),le=A(j);we(le,1,me(["left"]),"svelte-13t3afu");var ye=A(le),T=A(ye);ha(T,{placeholder:"Search tag",get value(){return r.value},set value(W){r.value=W}});var O=H(le,2),b=A(O),B=A(b),te=A(B);ha(te,{onFocus:E,placeholder:"Search",get ref(){return a(h)},set ref(W){w(h,W,!0)},get value(){return n.value},set value(W){n.value=W}});var ce=H(B,2);Wc(ce,{});var oe=H(D,2);{var Ee=W=>{Ts(W,{title:"Are you sure you want to empty the bin?",buttonConfirmTitle:"Empty",onConfirm:()=>{i(),w(k,!1)},onCancel:()=>{w(k,!1)}})};U(oe,W=>{a(k)&&W(Ee)})}ue((W,ge)=>{Me(C,"href",W),Me(ee,"href",ge)},[()=>d(K.Settings),()=>d(K.Sync)]),p(t,N),J()}nt(["click"]);function ou(t,e){Z(e,!0);const{getIsKeyboardVisible:n}=wc();let r=ae(e,"dialog",7);const o=R(n),s=$n();let i=null;const l=()=>{e.dialogState==="swiping"&&e.onClose()};Ne(()=>(e.dialogState==="swiping"&&(i=setTimeout(l,3e3)),()=>{i&&(clearTimeout(i),i=null)}));let c=null,u=null;const d=3,f=50,v=5,_=.6,h=.3,g=.35,m=.95;let k=0,E=0,y=0,N=!1,D=!1,P=0,S=0,C=0;const L=()=>{k=0,E=0,N=!1,D=!1,P=0,S=0,C=0,y=0,c=null,u!==null&&(cancelAnimationFrame(u),u=null),i&&(clearTimeout(i),i=null)},G=Y=>{r()&&e.dialogState==="opened"&&(k=Y.touches[0].clientX,E=Y.touches[0].clientY,y=performance.now(),N=!0,D=!1)},ee=Y=>e.dialogState==="opened"&&Y>0||e.dialogState==="swiping"&&Y>0,se=()=>{if(r()){r().style.setProperty("--transition-timing","0s"),e.onSwipe();try{const Y=window.getComputedStyle(r()),X=Y.transform||Y.webkitTransform||"";if(S=r().offsetWidth,(e.dialogState==="swiping"||e.dialogState==="opened")&&(P=0),X&&X!=="none")try{P=new DOMMatrix(X).m41}catch{}D=!0}catch{L()}}},z=()=>{if(!r())return;const X=Math.abs(P+C*S/100)/S;r().style.setProperty("--backdrop-bg",`rgba(0, 0, 0, ${.1*(1-X)})`)},ne=()=>{if(u=null,!c||!N||!r()||a(o)){L();return}const Y=[...c.touches].reduce((B,te)=>B+te.clientX,0)/c.touches.length,X=[...c.touches].reduce((B,te)=>B+te.clientY,0)/c.touches.length,M=Y-k,j=X-E,le=Math.abs(M)>Math.abs(j),ye=Math.abs(M)>d;if(!D)if(le&&ye&&ee(M))try{se()}catch{L();return}else return;let T=P+M*m;T=Math.max(0,Math.min(S,T)),!(T<0)&&(r().style.setProperty("--transition-timing","0s"),r().style.transform=`translate3d(${T}px, 0, 0)`,s.swipingRatio=Math.abs(1-T/S),C=(T-P)/S*100,e.dialogState==="swiping"&&(i&&clearTimeout(i),i=setTimeout(l,3e3)),z())},$=Y=>{if(!N)return;c=Y,u===null&&(u=requestAnimationFrame(ne));const X=Y.touches[0].clientX-k,M=Y.touches[0].clientY-E,j=Math.abs(X)>Math.abs(M);D&&j&&Y.preventDefault()},he=Y=>{const X=Math.abs(Y);if(X>=_)return v;if(X>=h){const M=(X-h)/(_-h);return f-M*(f-v)}else return f},_e=(Y,X)=>{if(Math.abs(Y)>=_)return g*.5;const j=Math.abs(C)/100;return X?g*Math.max(.5,1-j):g*Math.max(.5,j)},Q=Y=>{if(u!==null&&(cancelAnimationFrame(u),u=null),!N||!r()){L();return}if(!D){L();return}let X=0;if(Y?.changedTouches?.[0]){const T=Y.changedTouches[0].clientX,b=performance.now()-y;b>0&&(X=(T-k)/b)}const M=he(X);let j=null;e.dialogState==="swiping"&&(j=Math.abs(C)>M||X<-h?"close":"open");const le=e.dialogState==="swiping"&&j==="close",ye=_e(X,le);s.duration=ye-.02,r().style.setProperty("--transition-timing",`${ye}s`),r().offsetWidth,r().style.transform="",j==="open"?e.onOpen():j==="close"&&e.onClose(),r()?.style.removeProperty("--backdrop-bg"),L()};pe(()=>(r().addEventListener("touchstart",G,{passive:!0}),r().addEventListener("touchmove",$,{passive:!1}),r().addEventListener("touchend",Q,{passive:!0}),r().addEventListener("touchcancel",Q,{passive:!0}),()=>{r().removeEventListener("touchstart",G),r().removeEventListener("touchmove",$),r().removeEventListener("touchend",Q),r().removeEventListener("touchcancel",Q),u!==null&&cancelAnimationFrame(u)})),J()}var su=(t,e)=>{e.onStartClose()},iu=F('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),lu=F('<dialog><div class="dialogInner svelte-vr2o0t"><div class="header svelte-vr2o0t"><div><!></div></div> <!></div></dialog> <!>',1);function cu(t,e){Z(e,!0);let n=350;const{isScrolling:r,enable:o}=ys();let s=V(null),i=V(null);const l=$n(),c=P=>{P.preventDefault(),e.onStartClose()};pe(()=>(a(s)?.addEventListener("close",e.onClosed),a(s)?.addEventListener("cancel",c),()=>{a(s)?.removeEventListener("close",e.onClosed),a(s)?.removeEventListener("cancel",c)}));const u=()=>{a(s)?.style.removeProperty("--transition-timing"),a(s)?.style.removeProperty("transform"),a(s)?.style.removeProperty("--backdrop-bg")},d=()=>{o()},f=R(r);Ne(()=>{if(e.dialogState,!!a(s))switch(e.dialogState){case"opening":{a(s).open||a(s).showModal(),a(s).getBoundingClientRect();const P=setTimeout(()=>{u()},n+1),S=()=>{clearTimeout(P),u()};return a(s)?.addEventListener("transitionend",S,{once:!0}),e.onOpened(),()=>{clearTimeout(P),a(s)?.removeEventListener("transitionend",S)}}case"closing":{const P=setTimeout(()=>{e.dialogState==="closing"&&e.onClosed()},n+1),S=()=>{clearTimeout(P),e.onClosed()};return a(s)?.addEventListener("transitionend",S,{once:!0}),()=>{clearTimeout(P),a(s)?.removeEventListener("transitionend",S)}}case"opened":u()}});var v=lu(),_=I(v),h=A(_),g=A(h),m=A(g),k=A(m);{var E=P=>{var S=iu();we(S,1,me(["navigateButton","buttonBack"]),"svelte-vr2o0t"),S.__click=[su,e];var C=A(S);be(C,()=>({"--size":"36px"})),ke(C.lastChild,{name:"back"});var L=H(C,2);et(L,{children:(G,ee)=>{var se=De("back");p(G,se)}}),p(P,S)};U(k,P=>{(!(e.blocked||e.hidden)||e.blocked&&e.unBlockedBack)&&P(E)})}var y=H(g,2);ve(y,()=>e.children),Ct(h,P=>w(i,P),()=>a(i)),Ct(_,P=>w(s,P),()=>a(s));var N=H(_,2);{var D=P=>{ou(P,{get onClose(){return e.onStartClose},get onOpen(){return e.onStartOpen},get onSwipe(){return e.onSwipe},get dialogState(){return e.dialogState},get dialog(){return a(s)}})};U(N,P=>{(!a(f)&&e.dialogState==="opened"||e.dialogState==="swiping")&&(!e.blocked||e.unBlockedBack)&&P(D)})}ue(()=>we(_,1,me([{open:e.dialogState==="opened",hidden:e.hidden,isAnimationOn:l.working&&(!l.isSwiping||!e.hidden)},{hidden:e.hidden}]),"svelte-vr2o0t")),Aa("scroll",h,d),p(t,v),J()}nt(["click"]);const to=(t,e)=>{if(!e)return t;if(e.type==="closed")return{type:"closed"};switch(t.type){case"opened":return e.type==="close"?{type:"closing"}:e.type==="swipe"?{type:"swiping"}:t;case"closed":return e.type==="open"?{type:"opening"}:t;case"swiping":return e.type==="open"?{type:"opening"}:e.type==="close"?{type:"closing"}:t;case"opening":return e.type==="opened"?{type:"opened"}:t;default:return t}};function uu(t,e){Z(e,!0);let n=ae(e,"blocked",3,!1),r=ae(e,"hiddenDialog",3,!1),o=ae(e,"unBlockedBack",3,!1),s=ae(e,"onStartClose",3,()=>{}),i=ae(e,"onClose",3,()=>{});const l=$n();let c=V(Re(to({type:"closed"})));const u=y=>{w(c,to(a(c),y),!0)},d=()=>{n()&&!o()||(s()(),u({type:"close"}))},f=()=>{u({type:"open"})},v=()=>{u({type:"opened"}),l.swipingRatio=1,l.duration=.2},_=()=>{i()(),u({type:"closed"}),l.swipingRatio=1,l.duration=.2},h=()=>{u({type:"swipe"})};Ne(()=>{a(c).type==="swiping"?l.isSwiping=!0:l.isSwiping=!1,a(c).type==="closed"&&e.shownDialog?f():a(c).type==="opened"&&!e.shownDialog&&d()});var g={handleComputeState:u},m=q(),k=I(m);{var E=y=>{cu(y,{onSwipe:h,onOpened:v,onClosed:_,onStartClose:d,onStartOpen:f,get dialogState(){return a(c).type},get hidden(){return r()},get blocked(){return n()},get unBlockedBack(){return o()},children:(N,D)=>{var P=q(),S=I(P);ve(S,()=>e.children),p(N,P)},$$slots:{default:!0}})};U(k,y=>{a(c).type!=="closed"&&y(E)})}return p(t,m),J(g)}const du=({getDialog:t,onOpen:e,onStartClose:n,onClose:r})=>{const o=i=>{i.preventDefault(),n()},s=()=>{r?.()};pe(()=>{const i=t();return i?.addEventListener("cancel",o),i?.addEventListener("close",s),()=>{i?.removeEventListener("cancel",o),i?.removeEventListener("close",s)}}),pe(()=>{const i=t();i?.showModal(),i?.getBoundingClientRect(),e()})};var fu=(t,e)=>{e.onStartBack()},vu=F('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),hu=(t,e)=>{e.onStartClose()},gu=F('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),pu=F('<dialog><div class="dialogInner svelte-rt409n"><div class="header svelte-rt409n"><div><!></div> <div><!></div></div> <!></div></dialog> <!>',1);function _u(t,e){Z(e,!0);let n=ae(e,"blockedDialog",3,!1),r=ae(e,"hiddenDialog",3,!1),o=ae(e,"isDesktopAnimationOff",3,!1),s=V(null),i=V(null),l=V(!1);du({getDialog:()=>a(s),onOpen:e.onOpen,onStartClose:e.onStartClose,onClose:e.onClose});const c=$n();Ne(()=>{e.stateDialog==="closing"&&(c.working?a(s)?.addEventListener("transitionend",()=>{a(s)?.close()},{once:!0}):a(s)?.close())});const{getDialogPageHeight:u}=Ia(),d=R(u);pe(()=>{setTimeout(()=>{w(l,!0)},50)});var f=pu(),v=I(f),_=A(v),h=A(_),g=A(h),m=A(g);{var k=S=>{var C=vu();we(C,1,me(["navigateButton","buttonBack"]),"svelte-rt409n"),C.__click=[fu,e];var L=A(C);be(L,()=>({"--size":"28px"})),ke(L.lastChild,{name:"back"});var G=H(L,2);et(G,{children:(ee,se)=>{var z=De("back");p(ee,z)}}),p(S,C)};U(m,S=>{(!(n()||r())||n()&&e.unBlockedBack)&&e.onStartBack&&S(k)})}var E=H(g,2),y=A(E);{var N=S=>{var C=gu();we(C,1,me(["navigateButton","buttonClose"]),"svelte-rt409n"),C.__click=[hu,e];var L=A(C);be(L,()=>({"--size":"28px"})),ke(L.lastChild,{name:"close"});var G=H(L,2);et(G,{children:(ee,se)=>{var z=De("close");p(ee,z)}}),p(S,C)};U(y,S=>{n()||r()||S(N)})}var D=H(h,2);ve(D,()=>e.children),Ct(_,S=>w(i,S),()=>a(i)),Ct(v,S=>w(s,S),()=>a(s));var P=H(v,2);As(P,{get dialog(){return a(s)},get dialogInner(){return a(i)},get onClose(){return e.onStartClose}}),ue(()=>{Wn(v,`height: ${a(d)+74}px`),we(v,1,me([{open:e.stateDialog==="open",isHeightAnimationOn:a(l),isAnimationOn:c.working,isDesktopAnimationOff:o(),hiddenDialog:r()}]),"svelte-rt409n")}),p(t,f),J()}nt(["click"]);const mu=({onStartClose:t,onClose:e})=>{let n=V("close");return{get state(){return a(n)},set state(i){w(n,i,!0)},handleStartClose:(i=!1)=>{i||(w(n,"closing"),t?.())},handleOpen:()=>{w(n,"open")},handleClose:()=>{w(n,"close"),e?.()}}};function wu(t,e){Z(e,!0);let n=ae(e,"blockedDialog",3,!1),r=ae(e,"hiddenDialog",3,!1),o=ae(e,"onStartClose",3,()=>{}),s=ae(e,"onClose",3,()=>{}),i=mu({onStartClose:o(),onClose:s()});Ne(()=>{i.state==="close"&&e.shownDialog?i.state="opening":i.state==="open"&&!e.shownDialog&&i.handleStartClose(n())});const l=f=>{f.key==="Escape"&&n()&&(f.preventDefault(),f.stopPropagation())};pe(()=>(document.addEventListener("keydown",l),()=>{document.removeEventListener("keydown",l)}));var c=q(),u=I(c);{var d=f=>{_u(f,{get stateDialog(){return i.state},get blockedDialog(){return n()},get unBlockedBack(){return e.unBlockedBack},get hiddenDialog(){return r()},get onOpen(){return i.handleOpen},get onStartBack(){return e.onStartBack},onStartClose:()=>{i.handleStartClose(n())},get onClose(){return i.handleClose},children:(v,_)=>{var h=q(),g=I(h);ve(g,()=>e.children),p(v,h)},$$slots:{default:!0}})};U(u,f=>{i.state!=="close"&&f(d)})}p(t,c),J()}function yu(t,e){Z(e,!0);let n=ae(e,"blockedDialog",3,!1),r=ae(e,"hiddenDialog",3,!1),o=ae(e,"isLastDialog",3,!1),s=ae(e,"onStartClose",3,()=>{}),i=ae(e,"onClose",3,()=>{});const l=R(()=>o()?void 0:e.onStartBack),{showDialog:c,hideDialog:u}=Wt();pe(()=>(c(),()=>{u()}));const{checkMobileSize:d}=on();var f=q(),v=I(f);{var _=g=>{uu(g,{get shownDialog(){return e.shownDialog},get blocked(){return n()},get unBlockedBack(){return e.unBlockedBack},get hiddenDialog(){return r()},get children(){return e.children},get onStartClose(){return e.onStartBack},get onClose(){return i()}})},h=g=>{wu(g,{get shownDialog(){return e.shownDialog},get blockedDialog(){return n()},get unBlockedBack(){return e.unBlockedBack},get hiddenDialog(){return r()},get children(){return e.children},get onStartBack(){return a(l)},get onStartClose(){return s()},get onClose(){return i()}})};U(v,g=>{d()?g(_):g(h,!1)})}p(t,f),J()}function no(t,e){Z(e,!0);const{back:n}=Ft(),{clearStackPages:r}=gt();let o=ae(e,"blocked",3,!1),s=ae(e,"isLastDialog",3,!1),i=ae(e,"onBack",3,()=>{}),l=ae(e,"onClosed",3,()=>{});const{checkBlockedDialog:c,checkUnBlockedBackDialog:u}=Wt(),d=R(()=>o()||e.hidden||c()),f=R(()=>u()&&!s()),v=()=>{(!a(d)||a(d)&&a(f))&&e.shown&&(n(),i()())},_=()=>{((!a(d)||a(d)&&a(f))&&e.shown||!e.shown)&&r()},h=()=>{l()()};{let g=R(()=>a(d)&&e.shown);yu(t,{get shownDialog(){return e.shown},get blockedDialog(){return a(g)},get unBlockedBack(){return a(f)},get hiddenDialog(){return e.hidden},get isLastDialog(){return s()},onStartBack:v,onStartClose:_,onClose:h,children:(m,k)=>{var E=q(),y=I(E);ve(y,()=>e.children),p(m,E)},$$slots:{default:!0}})}J()}var bu=F('<h1 class="svelte-1ky72l5"><!></h1>');function Ns(t,e){var n=bu(),r=A(n);ve(r,()=>e.children),p(t,n)}var Su=F('<!> <div class="container svelte-ujk4k"><!> <!></div>',1),ku=F("<p>Loading...</p>"),Cu=F('<div class="block svelte-ujk4k"><!></div>');function Eu(t,e){Z(e,!0);const{blockDialog:n,unBlockBackDialog:r}=Wt(),{pushStackPages:o,clearStackPages:s,getStackPages:i}=gt(),{initLocalAccount:l}=La();let c=V("idle");const u=()=>{w(c,"loading"),o(K.Auth)},d=async()=>{w(c,"loading"),await l(),n(!1),s()};Ne(()=>{n(a(c)==="idle"||a(c)==="loading")}),pe(()=>(i().length>1&&r(!0),n(!0),()=>{n(!1)}));var f=Cu(),v=A(f);{var _=g=>{var m=Su(),k=I(m);Ns(k,{children:(D,P)=>{var S=De("Account");p(D,S)}});var E=H(k,2),y=A(E);kt(y,{onClick:u,fullWidth:!0,children:(D,P)=>{var S=De("cloud account");p(D,S)},$$slots:{default:!0}});var N=H(y,2);kt(N,{onClick:d,fullWidth:!0,type:"secondary",children:(D,P)=>{var S=De("without account");p(D,S)},$$slots:{default:!0}}),p(g,m)},h=g=>{var m=q(),k=I(m);{var E=y=>{var N=ku();p(y,N)};U(k,y=>{a(c)==="loading"&&y(E)},!0)}p(g,m)};U(v,g=>{a(c)==="idle"?g(_):g(h,!1)})}p(t,f),J()}let Ls=null;window.addEventListener("beforeinstallprompt",t=>{t.preventDefault(),Ls=t});const Bs=()=>Ls;function pa(){const t=navigator.userAgent,e=/iPad|iPhone|iPod/.test(t);return e?!!e:!1}const Pu=()=>{const t=navigator.userAgent;return/android/i.test(t)},xu=()=>{const t=navigator.userAgent;return/chrome|crios/i.test(t)&&!/edge|edgios|edga/i.test(t)},Au=()=>{const t=navigator.userAgent;return!!(/Safari/.test(t)&&!/Chrome/.test(t)&&!/CriOS/.test(t)&&!/FxiOS/.test(t))};var Du=F('<p class="message svelte-wuf89t">For better experience, install the app from Chrome.</p>'),Tu=F('<p class="message svelte-wuf89t">For install app, select the share button and select "Add to Home Screen".</p>'),Nu=F('<p class="message svelte-wuf89t">Install app available on Safari.</p>'),Lu=F(`<div class="block svelte-wuf89t"><!> <p class="message svelte-wuf89t">You can install the app to have a better experience and more reliable storage or you can use it
		in your browser and install the app later.</p> <!> <!> <div class="container svelte-wuf89t"><!> <!></div></div>`);function Bu(t,e){Z(e,!1);const{blockDialog:n}=Wt(),{pushStackPages:r}=gt(),o=()=>{r("start")},s=()=>{Bs()?.prompt()};pe(()=>(n(!0),()=>{n(!1)})),Kr();var i=Lu(),l=A(i);Ns(l,{children:(m,k)=>{var E=De("install web app");p(m,E)}});var c=H(l,4);{var u=m=>{var k=Du();p(m,k)};U(c,m=>{Pu()&&!xu()&&m(u)})}var d=H(c,2);{var f=m=>{var k=q(),E=I(k);{var y=D=>{var P=Tu();p(D,P)},N=D=>{var P=Nu();p(D,P)};U(E,D=>{Au()?D(y):D(N,!1)})}p(m,k)};U(d,m=>{pa()&&m(f)})}var v=H(d,2),_=A(v);{var h=m=>{kt(m,{onClick:s,fullWidth:!0,children:(k,E)=>{var y=De("install web app");p(k,y)},$$slots:{default:!0}})};U(_,m=>{pa()||m(h)})}var g=H(_,2);kt(g,{onClick:o,fullWidth:!0,type:"secondary",children:(m,k)=>{var E=De("continue in browser");p(m,E)},$$slots:{default:!0}}),p(t,i),J()}var Iu=F('<div class="svelte-1x9a4ve"><!></div>');function Oe(t,e){Z(e,!0);const{setDialogPageHeight:n}=Ia();let r=V(null);pe(()=>{a(r)&&(a(r).getBoundingClientRect(),a(r).style.opacity="1");const i=new ResizeObserver(l=>{for(let c of l){const u=c.contentRect.height;n(u)}});if(a(r))return i.observe(a(r)),()=>{a(r)&&i.unobserve(a(r)),i.disconnect()}});var o=Iu(),s=A(o);ve(s,()=>e.children),Ct(o,i=>w(r,i),()=>a(r)),p(t,o),J()}var Mu=F('<div class="svelte-stjbkr"><p class="svelte-stjbkr">Page not found</p> <!></div>');function Ou(t,e){Z(e,!1);const{navigate:n}=Ft(),r=i=>{i.preventDefault(),n("/")};Kr();var o=Mu(),s=H(A(o),2);kt(s,{element:"a",href:"/",onClick:r,children:(i,l)=>{var c=De("close");p(i,c)},$$slots:{default:!0}}),p(t,o),J()}const Ru="modulepreload",Fu=function(t){return"/"+t},ro={},Ue=function(e,n,r){let o=Promise.resolve();if(n&&n.length>0){let c=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=i?.nonce||i?.getAttribute("nonce");o=c(n.map(u=>{if(u=Fu(u),u in ro)return;ro[u]=!0;const d=u.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const v=document.createElement("link");if(v.rel=d?"stylesheet":Ru,d||(v.as="script"),v.crossOrigin="",v.href=u,l&&v.setAttribute("nonce",l),document.head.appendChild(v),d)return new Promise((_,h)=>{v.addEventListener("load",_),v.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return o.then(i=>{for(const l of i||[])l.status==="rejected"&&s(l.reason);return e().catch(s)})};var zu=F('<div class="svelte-10xfz1h"><p class="svelte-10xfz1h">Something went wrong. Please reload the page</p> <!></div>');function Hu(t){var e=zu(),n=H(A(e),2);kt(n,{onClick:()=>location.reload(),children:(r,o)=>{var s=De("Reload");p(r,s)},$$slots:{default:!0}}),p(t,e)}var ju=F('<div><!> <div class="loader svelte-m0sno1"></div></div>');function Is(t,e){Z(e,!0);let n=V(!1);pe(()=>{const s=setTimeout(()=>{w(n,!0)},200);return()=>{clearTimeout(s)}});var r=ju(),o=A(r);ve(o,()=>e.children??Se),ue(()=>we(r,1,me(["block",{shown:a(n)}]),"svelte-m0sno1")),p(t,r),J()}var Uu=F('<div class="svelte-1mu1b44"><!></div>');function Vu(t,e){Z(e,!0);const{getDialogPageHeight:n}=Ia(),r=R(n);var o=Uu(),s=A(o);Is(s,{}),ue(()=>Wn(o,`min-height: ${a(r)??""}px;`)),p(t,o),J()}function qe(t,e){Z(e,!0);const n={},r=Object.assign({"./Pages/About.svelte":()=>Ue(()=>import("./DVscFMat.js"),__vite__mapDeps([0,1])),"./Pages/AccessKeys.svelte":()=>Ue(()=>import("./69QccfUw.js"),__vite__mapDeps([2,3,4,5])),"./Pages/Account.svelte":()=>Ue(()=>import("./CpVGrat1.js"),__vite__mapDeps([6,3,7])),"./Pages/Auth.svelte":()=>Ue(()=>import("./CF5t0R3i.js"),__vite__mapDeps([8,9])),"./Pages/ClearStore.svelte":()=>Ue(()=>import("./Bn2am6BM.js"),__vite__mapDeps([10,11])),"./Pages/ConfirmAccessKey.svelte":()=>Ue(()=>import("./Do5SPfCi.js"),__vite__mapDeps([12,4,3,13,14,15,16])),"./Pages/EditNote.svelte":()=>Ue(()=>import("./CasJovAe.js"),__vite__mapDeps([17,18,19,14,15,20,21,22])),"./Pages/Exit.svelte":()=>Ue(()=>import("./DskseV-Z.js"),__vite__mapDeps([23,24])),"./Pages/ExportData.svelte":()=>Ue(()=>import("./CM5-oM-8.js"),__vite__mapDeps([25,19,14,15,20,26,27,28])),"./Pages/ImportData.svelte":()=>Ue(()=>import("./CbaQ2l7N.js"),__vite__mapDeps([29,19,14,15,20,30])),"./Pages/NewNote.svelte":()=>Ue(()=>import("./DmDyRI0_.js"),__vite__mapDeps([31,18,19,14,15,20,21])),"./Pages/Settings.svelte":()=>Ue(()=>import("./BJ0T1mGX.js"),__vite__mapDeps([32,26,27,33])),"./Pages/Signin.svelte":()=>Ue(()=>import("./CL0DzhDO.js"),__vite__mapDeps([34,4,3,13,35])),"./Pages/Signup.svelte":()=>Ue(()=>import("./COIA5VXu.js"),__vite__mapDeps([36,13,4,3,37])),"./Pages/Subscription.svelte":()=>Ue(()=>import("./DtYzUS8R.js"),__vite__mapDeps([38,39])),"./Pages/Sync.svelte":()=>Ue(()=>import("./Kxxs-ZIj.js"),__vite__mapDeps([40,41]))}),o=async l=>{const c=`./Pages/${l[0].toUpperCase()+l.slice(1)}.svelte`;if(!n[l]){if(r[c]){const u=r[c]();return n[l]={promise:u},n[l].module=await u,n[l].module}throw new Error(`Page ${l} not found`)}return n[l].module||await n[l].promise};var s=q(),i=I(s);Jo(i,()=>o(e.page),l=>{Vu(l,{})},(l,c)=>{const u=R(()=>a(c).default);var d=q(),f=I(d);es(f,()=>a(u),(v,_)=>{_(v,{get params(){return e.params},get hidden(){return e.hidden}})}),p(l,d)},l=>{Hu(l)}),p(t,s),J()}var qu=F('<button> <svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>');function Ms(t,e){let n=R(()=>e.style==="selected"?"45deg":"0deg");var r=qu();r.__click=function(...c){e.onClick?.apply(this,c)};var o=A(r),s=H(o);be(s,()=>({"--size":e.size==="small"?"10px":"12px","--rotate":a(n)})),ke(s.lastChild,{name:"plus"});var i=H(s,2);{var l=c=>{et(c,{children:(u,d)=>{var f=De("add tag");p(u,f)}})};U(i,c=>{e.title===void 0&&c(l)})}ue(()=>{Me(r,"type",e.type),we(r,1,me([{selectedTag:e.style==="selected",small:e.size==="small",empty:e.title===void 0}]),"svelte-uu8a24"),en(o,`${e.title??""} `)}),p(t,r)}nt(["click"]);var Wu=F("<div></div>");function ao(t,e){Z(e,!0);let n=ae(e,"mobile",3,!1);var r=Wu();Wr(r,20,()=>e.tags,o=>o,(o,s)=>{Ms(o,{get title(){return s},onClick:()=>e.handleTagClick(s)})}),ue(()=>we(r,1,me(["tags",{mobile:n()}]),"svelte-1c53r32")),p(t,r),J()}var Ku=F("<div></div>");function oo(t,e){Z(e,!0);var n=q(),r=I(n);{var o=s=>{var i=Ku();we(i,1,me(["tags","selectedTags"]),"svelte-58z9m1"),Wr(i,20,()=>e.selectedTags,l=>l,(l,c)=>{Ms(l,{get title(){return c},onClick:()=>e.handleSelectedTagClick(c),style:"selected"})}),p(s,i)};U(r,s=>{e.selectedTags.size>0&&s(o)})}p(t,n),J()}const Yu=(t,e,n)=>{if(t.has("inbox"))return[];const r=[],o=Array.from(t.values());for(const s of e)if(s.data&&!(n&&!n(s))){if(t.size===0){for(const i of s?.data?.tags||[])r.includes(i)||r.push(i);for(const i of s?.data?.draft?.tags||[])r.includes(i)||r.push(i);continue}if(s.data&&o.every(i=>s.data?.tags.includes(i)))for(const i of s.data.tags)!t.has(i)&&!r.includes(i)&&r.push(i);if(s&&s.data.draft&&o.every(i=>s.data?.draft?.tags.includes(i)))for(const i of s.data.draft.tags)!t.has(i)&&!r.includes(i)&&r.push(i)}return r};var Gu=(t,e,n)=>{e(),n("/",{full:!0})(t)},Xu=F('<a class="link svelte-ltt61h"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a>'),Zu=(t,e,n)=>{e(),n(K.Bin,{full:!0})(t)},Ju=F('<a class="link svelte-ltt61h"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a>'),Qu=F('<div class="sidebarFixed svelte-ltt61h"><div class="nav svelte-ltt61h"><!> <div class="menu svelte-ltt61h"><a class="link svelte-ltt61h"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a> <a class="link svelte-ltt61h"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a> <!></div></div> <div class="searchWrapper svelte-ltt61h"><!></div> <!></div> <!>',1),$u=F('<div class="sidebar svelte-ltt61h"><div class="sidebarFixed svelte-ltt61h"><!></div> <!></div>');function ed(t,e){Z(e,!0);const{checkMobileSize:n}=on(),{sidebarClose:r}=Ta(),{getAppLocation:o}=Ft(),{getPageUrl:s,createHandlePage:i,getStackPagesFormUrl:l}=gt(),c=ss(),u=R(()=>o().pathname),{getSelectedTags:d,addTag:f,removeTag:v}=ds();let _=R(d);const{checkNotesInBin:h}=Yr();let g=ae(e,"getNotes",3,()=>[]),m=ae(e,"mode",3,"notes"),k=null;function E(){return k||(k=Ue(()=>import("./BJYkiA6Q.js"),__vite__mapDeps([42,43]))),k}const y=z=>{f(z)},N=z=>{v(z)};let D=R(()=>Yu(a(_),g()()||[],z=>!(z?.data&&z.data.deletedAt&&m()==="notes"||z?.data&&!z.data.deletedAt&&m()==="bin")).filter(z=>c.value===""||z.toLowerCase().indexOf(c.value.toLowerCase())!==-1).sort((z,ne)=>z==="inbox"?-1:ne==="inbox"?1:z.localeCompare(ne))),P=R(n);pe(()=>{a(P)&&E()});const{checkExistedDialog:S}=Wt();let C=R(()=>l().length>0||S());var L=q(),G=I(L);{var ee=z=>{var ne=q(),$=I(ne);Jo($,E,null,(he,_e)=>{const Q=R(()=>a(_e).default);var Y=q(),X=I(Y);es(X,()=>a(Q),(M,j)=>{j(M,{get blocked(){return a(C)},children:(le,ye)=>{var T=Qu(),O=I(T),b=A(O),B=A(b);xs(B,{});var te=H(B,2),ce=A(te),oe=R(()=>i(K.Settings));ce.__click=function(...Pe){a(oe)?.apply(this,Pe)};var Ee=A(ce);be(Ee,()=>({"--size":"24px"})),ke(Ee.lastChild,{name:"settings"});var W=H(Ee,2);et(W,{children:(Pe,Ke)=>{var rt=De("Settings");p(Pe,rt)}});var ge=H(ce,2),Le=R(()=>i(K.Sync));ge.__click=function(...Pe){a(Le)?.apply(this,Pe)};var Be=A(ge);be(Be,()=>({"--size":"24px"})),ke(Be.lastChild,{name:"sync"});var Te=H(Be,2);et(Te,{children:(Pe,Ke)=>{var rt=De("Sync");p(Pe,rt)}});var Ae=H(ge,2);{var Ie=Pe=>{var Ke=Xu();Ke.__click=[Gu,r,i];var rt=A(Ke);be(rt,()=>({"--size":"24px"})),ke(rt.lastChild,{name:"note"});var Pt=H(rt,2);et(Pt,{children:(lt,Yt)=>{var sn=De("Notes");p(lt,sn)}}),ue(lt=>Me(Ke,"href",lt),[()=>s("/",{full:!0})]),p(Pe,Ke)},st=Pe=>{var Ke=q(),rt=I(Ke);{var Pt=lt=>{var Yt=Ju();Yt.__click=[Zu,r,i];var sn=A(Yt);be(sn,()=>({"--size":"24px"})),ke(sn.lastChild,{name:"bin"});var Gr=H(sn,2);et(Gr,{children:(xt,er)=>{var pr=De("Bin");p(xt,pr)}}),ue(xt=>Me(Yt,"href",xt),[()=>s(K.Bin,{full:!0})]),p(lt,Yt)};U(rt,lt=>{h()&&lt(Pt)},!0)}p(Pe,Ke)};U(Ae,Pe=>{a(u)===`/${K.Bin}`?Pe(Ie):Pe(st,!1)})}var We=H(b,2),it=A(We);ha(it,{placeholder:"Search tag",get value(){return c.value},set value(Pe){c.value=Pe}});var Et=H(We,2);oo(Et,{get selectedTags(){return a(_)},handleSelectedTagClick:N});var Kt=H(O,2);ao(Kt,{get tags(){return a(D)},handleTagClick:y,mobile:!0}),ue((Pe,Ke)=>{Me(ce,"href",Pe),Me(ge,"href",Ke)},[()=>s(K.Settings),()=>s(K.Sync)]),p(le,T)},$$slots:{default:!0}})}),p(he,Y)}),p(z,ne)},se=z=>{var ne=$u(),$=A(ne),he=A($);oo(he,{get selectedTags(){return a(_)},handleSelectedTagClick:N});var _e=H($,2);ao(_e,{get tags(){return a(D)},handleTagClick:y}),p(z,ne)};U(G,z=>{a(P)?z(ee):z(se,!1)})}p(t,L),J()}nt(["click"]);const td=(t,e,n,r)=>{e.noteData.pinnedAt?(n(e.noteId,!1),yn("Note unpinned",{onCancel:()=>{n(e.noteId,!0)}})):(n(e.noteId,!0),yn("Note pinned",{onCancel:()=>{n(e.noteId,!1)}})),w(r,!0)},nd=(t,e,n)=>{navigator.clipboard.writeText(e.noteData.url),yn("Link copied"),w(n,!0)};var rd=F('<li class="svelte-8ve3pe"><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>Copy link</button></li>'),ad=(t,e,n)=>{w(e,!0),w(n,!0)},od=F('<li class="svelte-8ve3pe"><button><span class="wrapperIcon svelte-8ve3pe"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></span>Delete</button></li>'),sd=(t,e,n)=>{w(e,!0),w(n,!0)},id=(t,e,n)=>{w(e,!0),w(n,!0)},ld=F('<li class="svelte-8ve3pe"><button><span class="wrapperIcon svelte-8ve3pe"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></span>Restore</button></li> <li class="svelte-8ve3pe"><button><span class="wrapperIcon svelte-8ve3pe"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></span>Delete from bin</button></li>',1),cd=F('<ul class="menu svelte-8ve3pe"><!> <li class="svelte-8ve3pe"><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> </button></li> <!></ul>'),ud=F('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),dd=F("<!> <!>",1);function fd(t,e){Z(e,!0);const n=(C,L=Se)=>{var G=cd(),ee=A(G);{var se=X=>{var M=rd(),j=A(M);j.__click=[nd,e,u];var le=A(j);be(le,()=>({"--size":"22px"})),ke(le.lastChild,{name:"copy"}),ue(()=>we(j,1,me(["button",{buttonMenuDialog:L()}]),"svelte-8ve3pe")),p(X,M)};U(ee,X=>{L()&&e.noteData.url&&X(se)})}var z=H(ee,2),ne=A(z);ne.__click=[td,e,s,u];var $=A(ne);{let X=R(()=>e.noteData.pinnedAt?"pin-cancel":"pin");be($,()=>({"--size":"22px"})),ke($.lastChild,{get name(){return a(X)}})}var he=H($),_e=H(z,2);{var Q=X=>{var M=od(),j=A(M);j.__click=[ad,d,u];var le=A(j),ye=A(le);be(ye,()=>({"--size":"18px"})),ke(ye.lastChild,{name:"bin"}),ue(()=>we(j,1,me(["button",{buttonMenuDialog:L()}]),"svelte-8ve3pe")),p(X,M)},Y=X=>{var M=ld(),j=I(M),le=A(j);le.__click=[sd,f,u];var ye=A(le),T=A(ye);be(T,()=>({"--size":"18px"})),ke(T.lastChild,{name:"bin-cancel"});var O=H(j,2),b=A(O);b.__click=[id,v,u];var B=A(b),te=A(B);be(te,()=>({"--size":"18px"})),ke(te.lastChild,{name:"bin"}),ue(()=>{we(le,1,me(["button",{buttonMenuDialog:L()}]),"svelte-8ve3pe"),we(b,1,me(["button",{buttonMenuDialog:L()}]),"svelte-8ve3pe")}),p(X,M)};U(_e,X=>{l()==="notes"?X(Q):X(Y,!1)})}ue(()=>{we(ne,1,me(["button",{buttonMenuDialog:L()}]),"svelte-8ve3pe"),en(he,` ${e.noteData.pinnedAt?"Unpin":"Pin"}`)}),p(C,G)},{moveNoteToBin:r,deleteNote:o,pinNote:s,restoreNoteFromBin:i}=Yr();let l=ae(e,"mode",3,"notes"),c=ae(e,"shownMenu",15),u=V(!1),d=V(!1),f=V(!1),v=V(!1);const{checkMobileSize:_}=on();let h=R(_);const g=()=>{o(e.noteId),yn("Draft deleted")},m=async()=>{r(e.noteId),yn("Note moved to bin",{onCancel:()=>{i(e.noteId)}})},k=()=>{i(e.noteId),yn("Note restored from bin",{onCancel:()=>{r(e.noteId)}})},E=()=>{a(d)?(w(d,!1),e.noteData.type==="draft"?g():m()):a(f)&&(w(f,!1),k()),c(!1),w(u,!1)};var y=dd(),N=I(y);{var D=C=>{var L=q(),G=I(L);{var ee=z=>{Ma(z,{get startClose(){return a(u)},onClosed:E,children:(ne,$)=>{n(ne,()=>!0)},$$slots:{default:!0}})},se=z=>{var ne=ud(),$=I(ne);be($,()=>({"--bottom":"-90px","--right":"20px"})),Ds($.lastChild,{get startClose(){return a(u)},get positionTop(){return e.showMenuUp},onClosed:E,children:(he,_e)=>{n(he,()=>!1)},$$slots:{default:!0}}),p(z,ne)};U(G,z=>{a(h)?z(ee):z(se,!1)})}p(C,L)};U(N,C=>{c()&&C(D)})}var P=H(N,2);{var S=C=>{Ts(C,{title:"Are you sure you want to delete this note?",buttonConfirmTitle:"Delete",onConfirm:()=>{o(e.noteId),w(v,!1)},onCancel:()=>{w(v,!1)}})};U(P,C=>{a(v)&&C(S)})}p(t,y),J()}nt(["click"]);const vd=(t,e)=>{w(e,!0)},hd=(t,e,n)=>{navigator.clipboard.writeText(e.noteData.url),yn("Link copied"),w(n,!1)},gd=(t,e)=>{w(e,!0)},pd=(t,e)=>{w(e,!1)},_d=(t,e,n,r)=>{t.preventDefault(),e.noteData.type==="draft"?n(`${K.NewNote}`):n(`${K.EditNote}?id=${e.noteId}`),w(r,!1)};var md=F('<div class="iconPlaceholder svelte-1jg44o9"></div>'),wd=F('<img loading="lazy" class="noteIcon" height="16" width="16" alt=""/>'),yd=F('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),bd=F('<div class="noteIconWrapper svelte-1jg44o9"><!></div>'),Sd=F('<button class="button svelte-1jg44o9"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),kd=(t,e)=>{w(e,!1)},Cd=F('<!> <a target="_blank" rel="noopener noreferrer" class="button openLink svelte-1jg44o9"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a>',1),Ed=F('<li><!> <a class="noteLink svelte-1jg44o9" target="_blank" rel="noopener noreferrer"> </a> <div><!> <button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button></div> <!></li>');function Pd(t,e){Z(e,!0);const{pushStackPages:n}=gt(),{getFaviconEnabled:r}=Hl();let o=ae(e,"mode",3,"notes"),s=V(!1),i=V(!1),l=V(!1),c=R(r);const{checkMobileSize:u}=on(),d=C=>{try{return`https://icons.duckduckgo.com/ip3/${new URL(C).host}.ico`}catch{return""}},f=e.noteData.url||e.noteData.draft?.url||"";var v=Ed();v.__focusin=[gd,i],v.__focusout=[pd,i];var _=A(v);{var h=C=>{var L=bd(),G=A(L);{var ee=z=>{var ne=q(),$=I(ne);{var he=Q=>{var Y=md();p(Q,Y)},_e=Q=>{var Y=wd();ue(X=>Me(Y,"src",X),[()=>d(f)]),Aa("error",Y,()=>{w(l,!0)}),p(Q,Y)};U($,Q=>{a(l)?Q(he):Q(_e,!1)})}p(z,ne)},se=z=>{var ne=yd(),$=I(ne);be($,()=>({"--size":"16px"})),ke($.lastChild,{name:"note"}),p(z,ne)};U(G,z=>{f?z(ee):z(se,!1)})}p(C,L)};U(_,C=>{a(c)&&C(h)})}var g=H(_,2);g.__click=[_d,e,n,i];var m=A(g),k=H(g,2),E=A(k);{var y=C=>{var L=Cd(),G=I(L);{var ee=$=>{var he=Sd();he.__click=[hd,e,i];var _e=A(he);be(_e,()=>({"--size":"20px"})),ke(_e.lastChild,{name:"copy"});var Q=H(_e,2);et(Q,{children:(Y,X)=>{var M=De("copy link");p(Y,M)}}),ue(()=>Me(he,"tabindex",e.focusHidden?-1:0)),p($,he)};U(G,$=>{u()||$(ee)})}var se=H(G,2);se.__click=[kd,i];var z=A(se);be(z,()=>({"--size":"18px"})),ke(z.lastChild,{name:"open"});var ne=H(z,2);et(ne,{children:($,he)=>{var _e=De();ue(()=>en(_e,e.noteData.draft?.name||e.noteData.name||"unknown")),p($,_e)}}),ue(()=>{Me(se,"href",f),Me(se,"tabindex",e.focusHidden?-1:0)}),p(C,L)};U(E,C=>{f&&C(y)})}var N=H(E,2);N.__click=[vd,s],we(N,1,me(["button","buttonMenu"]),"svelte-1jg44o9");var D=A(N);be(D,()=>({"--size":"18px","--rotate":"90deg"})),ke(D.lastChild,{name:"menu"});var P=H(D,2);et(P,{children:(C,L)=>{var G=De("show menu");p(C,G)}});var S=H(k,2);fd(S,{get mode(){return o()},get noteId(){return e.noteId},get noteData(){return e.noteData},get showMenuUp(){return e.showMenuUp},get shownMenu(){return a(s)},set shownMenu(C){w(s,C,!0)}}),ue((C,L)=>{we(v,1,C,"svelte-1jg44o9"),Me(g,"tabindex",e.focusHidden?-1:0),Me(g,"href",L),en(m,e.noteData?.draft?.name||e.noteData?.name||"unknown"),we(k,1,me(["noteMenuWrapper",{noteMenuWrapperActive:a(i)}]),"svelte-1jg44o9"),Me(N,"tabindex",e.focusHidden?-1:0)},[()=>me(["record",{pinned:!!e.noteData.pinnedAt,draft:!!e.noteData.draft}]),()=>`/?stackPages=${encodeURIComponent(`${K.EditNote}?id=${e.noteId}`)}`]),p(t,v),J()}nt(["focusin","focusout","click"]);var Kn,Os,Rs;class xd{constructor(e){fe(this,Kn);ct(this,"data");ct(this,"compare");this.data=[],this.compare=e}insert(e){this.data.push(e),He(this,Kn,Os).call(this)}extractMin(){if(this.data.length===0)return;const e=this.data[0],n=this.data.pop();return this.data.length&&n!==void 0&&(this.data[0]=n,He(this,Kn,Rs).call(this)),e}isEmpty(){return this.data.length===0}}Kn=new WeakSet,Os=function(){let e=this.data.length-1;const n=this.data[e];for(;e>0;){const r=Math.floor((e-1)/2);if(this.compare(n,this.data[r])>=0)break;[this.data[e],this.data[r]]=[this.data[r],this.data[e]],e=r}},Rs=function(){let e=0;const n=this.data.length;for(;;){const r=2*e+1,o=2*e+2;let s=e;if(r<n&&this.compare(this.data[r],this.data[s])<0&&(s=r),o<n&&this.compare(this.data[o],this.data[s])<0&&(s=o),s===e)break;[this.data[e],this.data[s]]=[this.data[s],this.data[e]],e=s}};class Ad{constructor(e,n){ct(this,"heap");ct(this,"done");ct(this,"cache",[]);this.heap=new xd(n);for(const r of e)this.heap.insert(r);this.done=!1}get(e,n){const r=this.cache.slice(e,n);for(;r.length<n-e&&!this.heap.isEmpty();){const o=this.heap.extractMin();o!==void 0&&(this.cache.push(o),r.push(o))}return this.heap.isEmpty()&&(this.done=!0),r}}var Dd=F('<p class="message">No notes in bin</p>'),Td=F('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Add note</span>',1),Nd=F('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span style="padding-left: 6px;">Import notes</span>',1),Ld=F('<p class="message">No notes found</p> <div class="wrapperButtonsAdd svelte-106i4nx"><!></div> <div>or</div> <div class="wrapperButtonsAdd svelte-106i4nx"><!></div>',1),Bd=F('<div class="emptyStore svelte-106i4nx"><!></div>'),Id=F("<span>Back to notes</span>"),Md=F('<div class="emptyMessage svelte-106i4nx">No notes in bin</div> <div class="wrapperButtonsAdd svelte-106i4nx"><!></div>',1),Od=F('<div class="emptyMessage svelte-106i4nx">No notes found</div>'),Rd=F('<div class="feed svelte-106i4nx"><ul class="svelte-106i4nx"></ul></div>'),Fd=F('<div class="wrapperFeed svelte-106i4nx"><div class="wrapperContainer svelte-106i4nx"><!></div></div>');function zd(t,e){Z(e,!0);let n=ae(e,"getNotes",3,()=>[]),r=ae(e,"mode",3,"notes");const{getScrollContainer:o}=Ba(),{createHandlePage:s,getPageUrl:i}=gt(),{getSelectedTags:l}=ds(),{getFeedOrder:c}=ls(),u=rs();let d=54,f=V(0),v=V(0),_=V(0),h=V(0),g=[],m=V(0),k=V(null),E=R(o),y=null,N=null;const D=R(l);Ne(()=>{a(D),a(G),a(E)?.scrollTo(0,0)});const{enable:P}=ys(),S=()=>{P(),y||(y=requestAnimationFrame(()=>{const M=a(E)?.scrollTop||0;w(_,M,!0);const j=Math.ceil(a(f)/d);w(v,Math.floor(M/(d*j))*(d*j)),y=null}))},C=()=>{N||(N=requestAnimationFrame(()=>{w(f,window.innerHeight-180||0,!0);const M=a(E)?.scrollTop||0;w(_,M,!0);const j=Math.ceil(a(f)/d);w(v,Math.floor(M/(d*j))*(d*j)),N=null}))};pe(()=>{C(),S()});const L=()=>{S()};Ne(()=>(a(E)?.addEventListener("scroll",L),window.addEventListener("resize",C),()=>{a(E)?.removeEventListener("scroll",L),window.removeEventListener("resize",C)}));const G=R(c);Ne(()=>{const M=n()()||[],j=[],le=Array.from(a(D).values());for(let ye=M.length-1;ye>=0;ye--){if(!M[ye]||!M[ye].data)continue;const T=M[ye];r()==="notes"&&T?.data.deletedAt||r()==="bin"&&!T?.data.deletedAt||a(D).size&&le.some(O=>!T.data?.tags.includes(O))&&(!T.data.draft||le.some(O=>!T.data?.draft?.tags.includes(O)))||u&&!(T.data.name.toLowerCase().includes(u.value.toLowerCase())||T.data.url.toLowerCase().includes(u.value.toLowerCase())||T.data.text.toLowerCase().includes(u.value.toLowerCase()))||j.push(T)}w(h,j.length,!0),g=j,w(m,Date.now(),!0)}),Ne(()=>{a(G),a(m),w(k,new Ad(g,(M,j)=>{if(!M||!j||!M.data||!j.data)return 0;if(M.data.pinnedAt&&!j.data.pinnedAt)return-1;if(!M.data.pinnedAt&&j.data.pinnedAt)return 1;if(M.data.pinnedAt&&j.data.pinnedAt){if(M.data.pinnedAt<j.data.pinnedAt)return 1;if(M.data.pinnedAt>j.data.pinnedAt)return-1}if(M.data.draft&&!j.data.draft)return-1;if(!M.data.draft&&j.data.draft)return 1;if(M.data.draft&&j.data.draft){if(M.data.draft.updatedAt<j.data.draft.updatedAt)return 1;if(M.data.draft.updatedAt>j.data.draft.updatedAt)return-1}switch(a(G)){case"newest":return M.data.updatedAt<j.data.updatedAt?1:-1;case"oldest":return M.data.updatedAt>j.data.updatedAt?1:-1;case"AtoZ":return M.data.name.localeCompare(j.data.name);case"ZtoA":return j.data.name.localeCompare(M.data.name);default:return 0}}),!0)});const ee=R(()=>a(h)*d);let z=R(()=>{a(m);const M=Math.ceil(a(f)/d);let j=Math.floor(a(v)/d);return j=j-Math.min(j,M),a(k)?.get(j,j+M*3)||[]}),ne=R(()=>d*Math.ceil(a(f)/d));const $=R(()=>a(v)-Math.min(a(v),a(ne)));var he=Fd(),_e=A(he),Q=A(_e);{var Y=M=>{Is(M,{})},X=M=>{var j=q(),le=I(j);{var ye=O=>{var b=Bd(),B=A(b);{var te=oe=>{var Ee=Dd();p(oe,Ee)},ce=oe=>{var Ee=Ld(),W=H(I(Ee),2),ge=A(W);{let Te=R(()=>i(K.NewNote)),Ae=R(()=>s(K.NewNote));kt(ge,{element:"a",get href(){return a(Te)},get onClick(){return a(Ae)},children:(Ie,st)=>{var We=Td(),it=I(We);be(it,()=>({"--size":"18px","--color":"#b0b0b0"})),ke(it.lastChild,{name:"plus"}),p(Ie,We)},$$slots:{default:!0}})}var Le=H(W,4),Be=A(Le);{let Te=R(()=>i(K.ImportData)),Ae=R(()=>s(K.ImportData));kt(Be,{element:"a",get href(){return a(Te)},get onClick(){return a(Ae)},children:(Ie,st)=>{var We=Nd(),it=I(We);be(it,()=>({"--size":"18px","--color":"#b0b0b0"})),ke(it.lastChild,{name:"import"}),p(Ie,We)},$$slots:{default:!0}})}p(oe,Ee)};U(B,oe=>{r()==="bin"?oe(te):oe(ce,!1)})}p(O,b)},T=O=>{var b=q(),B=I(b);{var te=oe=>{var Ee=Md(),W=H(I(Ee),2),ge=A(W);{let Le=R(()=>i("/",{full:!0})),Be=R(()=>s("/",{full:!0}));kt(ge,{element:"a",get href(){return a(Le)},get onClick(){return a(Be)},children:(Te,Ae)=>{var Ie=Id();p(Te,Ie)},$$slots:{default:!0}})}p(oe,Ee)},ce=oe=>{var Ee=q(),W=I(Ee);{var ge=Be=>{var Te=Od();p(Be,Te)},Le=Be=>{var Te=Rd(),Ae=A(Te);Wr(Ae,23,()=>a(z),Ie=>Ie.data,(Ie,st,We)=>{var it=q(),Et=I(it);{var Kt=Pe=>{{let Ke=R(()=>a(We)*d<a(_)-a($)-d/2||a(We)*d>a(_)-a($)+Math.floor(a(f)/d)*d),rt=R(()=>(a(We)+3)*d<a(_)-a($)-d/2||(a(We)+3)*d>a(_)-a($)+Math.floor(a(f)/d)*d);Pd(Pe,{get mode(){return r()},get focusHidden(){return a(Ke)},get showMenuUp(){return a(rt)},get noteId(){return a(st).id},get noteData(){return a(st).data}})}};U(Et,Pe=>{a(st).data&&Pe(Kt)})}p(Ie,it)}),ue(Ie=>{Wn(Te,`min-height: ${Ie??""}px`),Wn(Ae,`transform: translateY(${a($)??""}px);`)},[()=>Math.max((a(ee)>a(f),a(ee)),0)]),p(Be,Te)};U(W,Be=>{a(z).length===0?Be(ge):Be(Le,!1)},!0)}p(oe,Ee)};U(B,oe=>{r()==="bin"&&e.countNotesInBin()===0?oe(te):oe(ce,!1)},!0)}p(O,b)};U(le,O=>{(n()()||[]).length===0||r()==="notes"&&(n()()||[]).length-e.countNotesInBin()===0?O(ye):O(T,!1)},!0)}p(M,j)};U(Q,M=>{e.readyNotes?M(X,!1):M(Y)})}p(t,he),J()}var Hd=F('<!> <div class="content svelte-k57gez"><!></div>',1);function jd(t,e){Z(e,!0);const{getAppLocation:n}=Ft(),{getGetNotes:r,isInitedNotes:o,countNotesInBin:s}=Yr(),i=R(o),l=R(r),c=R(()=>n().pathname);var u=Hd(),d=I(u);{let _=R(()=>a(c)==="/bin"?"bin":"notes");ed(d,{get mode(){return a(_)},get getNotes(){return a(l)}})}var f=H(d,2),v=A(f);{let _=R(()=>a(c)==="/bin"?"bin":"notes");zd(v,{get mode(){return a(_)},get getNotes(){return a(l)},get countNotesInBin(){return s},get readyNotes(){return a(i)}})}p(t,u),J()}const so=(t,e=Se,n=Se,r)=>{let o=Hr(()=>ni(r?.(),!1));var s=q(),i=I(s);{var l=u=>{Oe(u,{children:(d,f)=>{qe(d,{get hidden(){return a(o)},get page(){return K.Settings}})},$$slots:{default:!0}})},c=u=>{var d=q(),f=I(d);{var v=h=>{Oe(h,{children:(g,m)=>{qe(g,{get hidden(){return a(o)},get page(){return K.NewNote}})},$$slots:{default:!0}})},_=h=>{var g=q(),m=I(g);{var k=y=>{Oe(y,{children:(N,D)=>{qe(N,{get params(){return n()},get hidden(){return a(o)},get page(){return K.EditNote}})},$$slots:{default:!0}})},E=y=>{var N=q(),D=I(N);{var P=C=>{Oe(C,{children:(L,G)=>{qe(L,{get hidden(){return a(o)},get page(){return K.ImportData}})},$$slots:{default:!0}})},S=C=>{var L=q(),G=I(L);{var ee=z=>{Oe(z,{children:(ne,$)=>{qe(ne,{get hidden(){return a(o)},get page(){return K.ExportData}})},$$slots:{default:!0}})},se=z=>{var ne=q(),$=I(ne);{var he=Q=>{Oe(Q,{children:(Y,X)=>{qe(Y,{get hidden(){return a(o)},get page(){return K.ClearStore}})},$$slots:{default:!0}})},_e=Q=>{var Y=q(),X=I(Y);{var M=le=>{Oe(le,{children:(ye,T)=>{Eu(ye,{})},$$slots:{default:!0}})},j=le=>{var ye=q(),T=I(ye);{var O=B=>{Oe(B,{children:(te,ce)=>{Bu(te,{})},$$slots:{default:!0}})},b=B=>{var te=q(),ce=I(te);{var oe=W=>{Oe(W,{children:(ge,Le)=>{qe(ge,{get hidden(){return a(o)},get page(){return K.Auth}})},$$slots:{default:!0}})},Ee=W=>{var ge=q(),Le=I(ge);{var Be=Ae=>{Oe(Ae,{children:(Ie,st)=>{qe(Ie,{get hidden(){return a(o)},get page(){return K.Signup}})},$$slots:{default:!0}})},Te=Ae=>{var Ie=q(),st=I(Ie);{var We=Et=>{Oe(Et,{children:(Kt,Pe)=>{qe(Kt,{get hidden(){return a(o)},get page(){return K.Signin}})},$$slots:{default:!0}})},it=Et=>{var Kt=q(),Pe=I(Kt);{var Ke=Pt=>{Oe(Pt,{children:(lt,Yt)=>{qe(lt,{get hidden(){return a(o)},get page(){return K.AccessKeys}})},$$slots:{default:!0}})},rt=Pt=>{var lt=q(),Yt=I(lt);{var sn=xt=>{Oe(xt,{children:(er,pr)=>{qe(er,{get hidden(){return a(o)},get page(){return K.Account}})},$$slots:{default:!0}})},Gr=xt=>{var er=q(),pr=I(er);{var Fs=xn=>{Oe(xn,{children:(_r,Oa)=>{qe(_r,{get hidden(){return a(o)},get page(){return K.ConfirmAccessKey}})},$$slots:{default:!0}})},zs=xn=>{var _r=q(),Oa=I(_r);{var Hs=An=>{Oe(An,{children:(mr,Ra)=>{qe(mr,{get hidden(){return a(o)},get page(){return K.Exit}})},$$slots:{default:!0}})},js=An=>{var mr=q(),Ra=I(mr);{var Us=Dn=>{Oe(Dn,{children:(wr,Fa)=>{qe(wr,{get hidden(){return a(o)},get page(){return K.Sync}})},$$slots:{default:!0}})},Vs=Dn=>{var wr=q(),Fa=I(wr);{var qs=Tn=>{Oe(Tn,{children:(yr,za)=>{qe(yr,{get hidden(){return a(o)},get page(){return K.Subscription}})},$$slots:{default:!0}})},Ws=Tn=>{var yr=q(),za=I(yr);{var Ks=Nn=>{Oe(Nn,{children:(Xr,Gs)=>{qe(Xr,{get hidden(){return a(o)},get page(){return K.About}})},$$slots:{default:!0}})},Ys=Nn=>{Oe(Nn,{children:(Xr,Gs)=>{Ou(Xr,{})},$$slots:{default:!0}})};U(za,Nn=>{e()===K.About?Nn(Ks):Nn(Ys,!1)},!0)}p(Tn,yr)};U(Fa,Tn=>{e()===K.Subscription?Tn(qs):Tn(Ws,!1)},!0)}p(Dn,wr)};U(Ra,Dn=>{e()===K.Sync?Dn(Us):Dn(Vs,!1)},!0)}p(An,mr)};U(Oa,An=>{e()===K.Exit?An(Hs):An(js,!1)},!0)}p(xn,_r)};U(pr,xn=>{e()===K.ConfirmAccessKey?xn(Fs):xn(zs,!1)},!0)}p(xt,er)};U(Yt,xt=>{e()===K.Account?xt(sn):xt(Gr,!1)},!0)}p(Pt,lt)};U(Pe,Pt=>{e()===K.AccessKeys?Pt(Ke):Pt(rt,!1)},!0)}p(Et,Kt)};U(st,Et=>{e()===K.Signin?Et(We):Et(it,!1)},!0)}p(Ae,Ie)};U(Le,Ae=>{e()===K.Signup?Ae(Be):Ae(Te,!1)},!0)}p(W,ge)};U(ce,W=>{e()===K.Auth?W(oe):W(Ee,!1)},!0)}p(B,te)};U(T,B=>{e()===K.Install?B(O):B(b,!1)},!0)}p(le,ye)};U(X,le=>{e()===K.Start?le(M):le(j,!1)},!0)}p(Q,Y)};U($,Q=>{e()===K.ClearStore?Q(he):Q(_e,!1)},!0)}p(z,ne)};U(G,z=>{e()===K.ExportData?z(ee):z(se,!1)},!0)}p(C,L)};U(D,C=>{e()===K.ImportData?C(P):C(S,!1)},!0)}p(y,N)};U(m,y=>{e()===K.EditNote?y(k):y(E,!1)},!0)}p(h,g)};U(f,h=>{e()===K.NewNote?h(v):h(_,!1)},!0)}p(u,d)};U(i,u=>{e()===K.Settings?u(l):u(c,!1)})}p(t,s)};var Ud=F("<!> <!>",1);function Vd(t,e){Z(e,!0);const{getStackPages:n}=gt(),{getAccount:r}=La();let o=R(n),s=R(()=>r()!==void 0);const{checkMobileSize:i}=on();let l=V(Re([]));const c=R(i);Ne(()=>{a(o),a(c),pt(()=>{if(a(c))a(o).length>=a(l).length?w(l,a(o).map(m=>({page:m,shown:!0})),!0):w(l,a(l).map((m,k)=>({page:m.page,shown:k<a(o).length})),!0);else if(a(o).length>=a(l).length)w(l,a(o).map(m=>({page:m,shown:!0})),!0);else{if(a(o).length===0){w(l,[{page:a(l)[a(l).length-1].page,shown:!1}],!0);return}w(l,a(o).map(m=>({page:m,shown:!0})),!0)}})});const u=()=>{w(l,a(o).map(m=>({page:m,shown:!0})),!0)};var d=Ud(),f=I(d);{var v=m=>{jd(m,{})};U(f,m=>{a(s)&&m(v)})}var _=H(f,2);{var h=m=>{var k=q(),E=I(k);Wr(E,19,()=>a(l),y=>y.page,(y,N,D)=>{const P=R(()=>a(N).page.split("?")[1]),S=R(()=>a(N).page.split("?")[0]);{let C=R(()=>a(D)!==a(l).length-1&&!!a(l)[a(D)+1]?.shown),L=R(()=>a(D)===0);no(y,{onClosed:u,get shown(){return a(N).shown},get hidden(){return a(C)},get isLastDialog(){return a(L)},children:(G,ee)=>{{let se=R(()=>a(D)!==a(l).length-1&&!!a(l)[a(D)+1]?.shown);so(G,()=>a(S),()=>a(P),()=>a(se))}},$$slots:{default:!0}})}}),p(m,k)},g=m=>{var k=q(),E=I(k);{var y=N=>{const D=R(()=>a(l)[a(l).length-1].page.split("?")[1]),P=R(()=>a(l)[a(l).length-1].page.split("?")[0]);{let S=R(()=>a(l).length===1);no(N,{onClosed:u,get shown(){return a(l)[a(l).length-1].shown},hidden:!1,get isLastDialog(){return a(S)},children:(C,L)=>{so(C,()=>a(P),()=>a(D))},$$slots:{default:!0}})}};U(E,N=>{a(l).length>0&&N(y)},!0)}p(m,k)};U(_,m=>{i()?m(h):m(g,!1)})}p(t,d),J()}function qd(t,e){Z(e,!1);let n=0;pe(()=>{document.addEventListener("touchstart",r=>{n=r.touches[0].clientX},{passive:!1}),document.addEventListener("touchmove",r=>{const s=r.touches[0].clientX-n;(n<30&&s>0||n>window.innerWidth-30&&s<0)&&r.preventDefault()},{passive:!1}),document.addEventListener("touchend",()=>{n=0}),document.addEventListener("touchcancel",()=>{n=0})}),Kr(),J()}const Wd=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0,Kd=()=>Wd,Yd=(t,e)=>{a(e)&&a(e).scrollTo({top:0})};var Gd=F('<div><button class="buttonTop svelte-1n46o8q"><!> <span class="icon svelte-1n46o8q"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></span></button></div>'),Xd=F('<!> <!> <main><div class="wrapperHeader svelte-1n46o8q"><!></div> <div class="container svelte-1n46o8q"><!></div></main> <!>',1);function Zd(t,e){Z(e,!0);const{navigate:n}=Ft(),{hasStackPage:r,clearStackPages:o}=gt(),{setScrollContainer:s}=Ba(),{getAccount:i,init:l}=La(),{getStackPagesFormUrl:c}=gt(),{createBroadcastChannel:u,tabId:d}=Qn(),f=u(),{getSidebarState:v}=Ta(),_=()=>{!Kd()&&(Bs()||pa())?n("/?stackPages=install"):n("/?stackPages=start")};pe(()=>{l(Y=>{Y===void 0?_():((r("start")||r("install"))&&(o(),n("/")),Y?w(E,Y):w(E,null))});const Q=async Y=>{const X=JSON.parse(Y.data);if(X.tabId&&X.tabId===d)return;const M=X;M.type==="initLocalAccount"||M.type==="initCloudAccount"||M.type==="updateAccount"||M.type==="disconnectCloudAccount"?(o(),n("/")):M.type==="exit"&&(o(),n("/"),setTimeout(()=>{_()}))};return f.addEventListener(Q),()=>f.removeEventListener(Q)});const h=$n();pe(async()=>{await new Promise(Q=>setTimeout(Q,100)),await Yo(),h.working=!0});let g=V(!1),m=0,k=R(()=>c().length>0),E=R(i),y=V(null);Ne(()=>{s(a(y))});const N=()=>{if(a(y)){const Q=a(y).scrollTop||0;Q===0?w(g,!1):!a(g)&&m>Q?w(g,!0):a(g)&&m+50<Q&&w(g,!1),m=Q}},D=()=>{N()};Ne(()=>(a(y)?.addEventListener("scroll",D),window.addEventListener("resize",D),()=>{a(y)?.removeEventListener("scroll",D),window.removeEventListener("resize",D)}));const P=R(v);var S=Xd(),C=I(S);qd(C,{});var L=H(C,2);Ac(L,{});var G=H(L,2),ee=A(G),se=A(ee);{var z=Q=>{au(Q,{})};U(se,Q=>{a(E)!==void 0&&Q(z)})}var ne=H(ee,2),$=A(ne);Vd($,{}),Ct(G,Q=>w(y,Q),()=>a(y));var he=H(G,2);{var _e=Q=>{var Y=Gd(),X=A(Y);X.__click=[Yd,y];var M=A(X);et(M,{children:(ye,T)=>{var O=De("top");p(ye,O)}});var j=H(M,2),le=A(j);be(le,()=>({"--rotate":"90deg","--size":"28px"})),ke(le.lastChild,{name:"back"}),ue(()=>{Wn(Y,`--swiping-ratio: ${h.swipingRatio}; --transition-timing-default: ${h.duration}s;`),we(Y,1,me(["wrapperButtonTop",{isAnimationOn:h.working&&!h.isSwiping,open:a(k)||a(P).type!=="closed"}]),"svelte-1n46o8q")}),p(Q,Y)};U(he,Q=>{a(g)&&Q(_e)})}ue(()=>{Wn(G,`--swiping-ratio: ${h.swipingRatio}; --transition-timing-default: ${h.duration}s;`),we(G,1,me(["main",{isAnimationOn:h.working&&!h.isSwiping,open:a(k)||a(P).type!=="closed"}]),"svelte-1n46o8q")}),p(t,S),J()}nt(["click"]);function Jd(t){kc(t,{children:(e,n)=>{Zd(e,{})}})}window.addEventListener("unhandledrejection",t=>{alert("Error: "+t.reason.message)});window.isUnsupportedBrowser||ul(Jd,{target:document.getElementById("app")});export{wc as $,La as A,kt as B,Yr as C,Aa as D,Kr as E,ef as F,ae as G,Ns as H,ke as I,we as J,me as K,Is as L,tf as M,nf as N,Wn as O,K as P,on as Q,Zl as R,Ct as S,rf as T,Ms as U,et as V,Yu as W,Sl as X,Qn as Y,Hl as Z,$n as _,be as a,Ta as a0,ys as a1,ve as a2,As as a3,Me as b,A as c,p as d,Wr as e,F as f,a as g,gt as h,Wt as i,V as j,Re as k,w as l,U as m,J as n,pe as o,Z as p,q,I as r,H as s,ue as t,Ne as u,nt as v,De as w,en as x,R as y,Ft as z};
