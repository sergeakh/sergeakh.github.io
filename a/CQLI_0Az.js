import{p as ua,h as fa,A as ga,i as _a,o as ma,l as O,j as K,u as ha,g as x,f as v,m as n,c as N,d as a,n as ba,r as i,H as Q,w as D,s as E,B as T,q as c,P as U,L as Aa}from"./P2v_Gr78.js";const g=()=>window.installPrompt;function wa(){const r=navigator.userAgent,A=/iPad|iPhone|iPod/.test(r);return A?!!A:!1}const Sa=()=>{const r=navigator.userAgent;return/android/i.test(r)},Pa=()=>{const r=navigator.userAgent;return/chrome|crios/i.test(r)&&!/edge|edgios|edga/i.test(r)},V=()=>{const r=navigator.userAgent;return!!(/Safari/.test(r)&&!/Chrome/.test(r)&&!/CriOS/.test(r)&&!/FxiOS/.test(r))};var Ca=v('<p class="message svelte-1uagzbf">App is already installed.</p>'),xa=v('<p class="message svelte-1uagzbf">App is already installed. But you can install another version.</p>'),ya=v('<p class="message svelte-1uagzbf">For better experience, install app from Chrome.</p>'),ka=v(`<p class="message svelte-1uagzbf">App is already installed or installation is not supported in this browser. use Chrome,
					Brave, Edge.</p>`),za=v('<p class="message svelte-1uagzbf">For install app, select the share button and select "Add to Home Screen".</p>'),Ia=v('<p class="message svelte-1uagzbf">Install app available on Safari.</p>'),Ba=v(`<p class="message svelte-1uagzbf">From the menu bar, choose File > Add to Dock. Or click the Share button in the Safari
				toolbar, then choose Add to Dock.</p>`),Fa=v(`<p class="message svelte-1uagzbf">App is already installed or installation is not supported in this browser. use Chrome,
				Brave, Edge.</p>`),Oa=v(`<!> <p class="message svelte-1uagzbf">You can install app to have a better experience and more reliable storage or you can use it in
			your browser and install later.</p> <!> <div class="container svelte-1uagzbf"><!> <!></div>`,1),Da=v("<!> <!>",1),Ea=v('<div class="block svelte-1uagzbf"><!></div>');function La(r,A){ua(A,!0);const{pushStackPages:Y,clearStackPages:X}=fa(),{getAccount:Z}=ga(),{blockDialog:$}=_a();let _=K("idle"),H=K(!1);const aa=()=>{Z()===void 0?Y(U.AccountSetup):X()},ea=()=>{aa()},ta=async()=>{const s=g();try{s&&(O(_,"installing"),"onappinstalled"in window&&window.addEventListener("appinstalled",()=>{O(_,"idle"),Y(U.InstallSuccess)}),await s.prompt(),s.userChoice?.then(l=>{l.outcome==="accepted"?window.installPrompt=null:O(_,"idle")}))}catch(l){console.error("Error during install prompt:",l)}};ma(async()=>{if("getInstalledRelatedApps"in navigator){const s=await navigator.getInstalledRelatedApps();console.log("relatedApps",s),O(H,s.some(l=>l.platform==="webapp"),!0)}}),ha(()=>{$(x(_)==="installing")});var G=Ea(),sa=N(G);{var ra=s=>{var l=Oa(),y=i(l);Q(y,{children:(e,d)=>{var m=D("install app");a(e,m)}});var k=E(y,4);{var w=e=>{var d=Ca();a(e,d)},z=e=>{var d=c(),m=i(d);{var R=h=>{var F=xa();a(h,F)},na=h=>{var F=c(),la=i(F);{var ia=b=>{var S=c(),W=i(S);{var j=o=>{var p=ya();a(o,p)},q=o=>{var p=c(),P=i(p);{var C=f=>{var t=ka();a(f,t)};n(P,f=>{g()||f(C)},!0)}a(o,p)};n(W,o=>{!Pa()&&g()?o(j):o(q,!1)})}a(b,S)},va=b=>{var S=c(),W=i(S);{var j=o=>{var p=c(),P=i(p);{var C=t=>{var u=za();a(t,u)},f=t=>{var u=Ia();a(t,u)};n(P,t=>{V()?t(C):t(f,!1)})}a(o,p)},q=o=>{var p=c(),P=i(p);{var C=t=>{var u=Ba();a(t,u)},f=t=>{var u=c(),pa=i(u);{var ca=M=>{var da=Fa();a(M,da)};n(pa,M=>{g()||M(ca)},!0)}a(t,u)};n(P,t=>{V()?t(C):t(f,!1)},!0)}a(o,p)};n(W,o=>{wa()?o(j):o(q,!1)},!0)}a(b,S)};n(la,b=>{Sa()?b(ia):b(va,!1)},!0)}a(h,F)};n(m,h=>{x(H)&&g()?h(R):h(na,!1)},!0)}a(e,d)};n(k,e=>{x(H)&&!g()?e(w):e(z,!1)})}var I=E(k,2),B=N(I);{var L=e=>{T(e,{onClick:ta,fullWidth:!0,children:(d,m)=>{var R=D("install web app");a(d,R)},$$slots:{default:!0}})};n(B,e=>{g()&&e(L)})}var J=E(B,2);T(J,{onClick:ea,fullWidth:!0,type:"secondary",children:(e,d)=>{var m=D("continue in browser");a(e,m)},$$slots:{default:!0}}),a(s,l)},oa=s=>{var l=c(),y=i(l);{var k=w=>{var z=Da(),I=i(z);Q(I,{children:(L,J)=>{var e=D("installing app...");a(L,e)}});var B=E(I,2);Aa(B,{}),a(w,z)};n(y,w=>{x(_)==="installing"&&w(k)},!0)}a(s,l)};n(sa,s=>{x(_)==="idle"?s(ra):s(oa,!1)})}a(r,G),ba()}export{La as default};
