const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["a/C5nzfUQ6.js","a/1JBO3KHP.css","a/CNDMtsEn.js","a/BAW-HnOs.css","a/BQW7NKwF.js","a/9q_jSmK4.js","a/BEGDcNQV.js","a/CoBIEQkN.css","a/RqxSC1AO.js","a/BYiYfrGn.css","a/QJAFALJQ.js","a/A07xSe-1.css","a/Bp9D3vPJ.js","a/B_UsPGEu.css","a/hrpr5AIe.js","a/Cpa8lgv9.js","a/BX1i1Yct.js","a/j0KFa_-O.css","a/hu7yjlv8.css","a/CrdrTXnd.js","a/AVZyt2eV.js","a/CTZccJ9I.css","a/HOTUjnfJ.css","a/DXcDp4SG.js","a/DdvqrzuO.css","a/eZ2Qin8M.js","a/B0cemaEl.css","a/BE-rgYbo.js","a/wHiSqZiK.css","a/D5LZ7AuQ.js","a/3mTw8Xwm.js","a/BJkY6727.css","a/DzDg2sQy.js","a/CTvV7MYb.css","a/B1IXcuHS.js","a/D0s4m_LM.css","a/D1tvaBz-.js","a/CwLtx71M.css","a/DJa0MnNj.js","a/CBB22PtM.css"])))=>i.map(i=>d[i]);
var As=Object.defineProperty;var Fa=e=>{throw TypeError(e)};var Bs=(e,t,n)=>t in e?As(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var kn=(e,t,n)=>Bs(e,typeof t!="symbol"?t+"":t,n),Zr=(e,t,n)=>t.has(e)||Fa("Cannot "+n);var A=(e,t,n)=>(Zr(e,t,"read from private field"),n?n.call(e):t.get(e)),ie=(e,t,n)=>t.has(e)?Fa("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),G=(e,t,n,r)=>(Zr(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Ve=(e,t,n)=>(Zr(e,t,"access private method"),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();const ro=!1;var pa=Array.isArray,Ls=Array.prototype.indexOf,ma=Array.from,oa=Object.defineProperty,Pn=Object.getOwnPropertyDescriptor,ao=Object.getOwnPropertyDescriptors,Ms=Object.prototype,Is=Array.prototype,wa=Object.getPrototypeOf,Ha=Object.isExtensible;const le=()=>{};function Os(e){return typeof e?.then=="function"}function Rs(e){return e()}function Dr(e){for(var t=0;t<e.length;t++)e[t]()}function Fs(){var e,t,n=new Promise((r,a)=>{e=r,t=a});return{promise:n,resolve:e,reject:t}}function Hs(e,t,n=!1){return e===void 0?n?t():t:e}const et=2,ya=4,Or=8,Rn=16,Tt=32,vn=64,Sa=128,lt=256,Nr=512,Ue=1024,ct=2048,Yt=4096,gt=8192,hn=16384,ba=32768,Fn=65536,za=1<<17,zs=1<<18,Hn=1<<19,oo=1<<20,sa=1<<21,ka=1<<22,sn=1<<23,ln=Symbol("$state"),Us=Symbol("legacy props"),js=Symbol(""),Ea=new class extends Error{constructor(){super(...arguments);kn(this,"name","StaleReactionError");kn(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function so(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Vs(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function qs(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Ws(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function $s(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Ys(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Ks(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function Gs(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Xs(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Zs(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Js(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const Rr=1,Fr=2,io=4,Qs=8,ei=16,ti=1,ni=2,ri=4,ai=8,oi=16,si=1,ii=2,De=Symbol(),li="http://www.w3.org/1999/xhtml";let ci=!1;function lo(e){return e===this.v}function ui(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function co(e){return!ui(e,this.v)}let zn=!1,di=!1;function fi(){zn=!0}let ge=null;function $t(e){ge=e}function Ce(e){return uo().get(e)}function Pe(e,t){return uo().set(e,t),t}function Y(e,t=!1,n){ge={p:ge,c:null,e:null,s:e,x:null,l:zn&&!t?{s:null,u:null,$:[]}:null}}function K(e){var t=ge,n=t.e;if(n!==null){t.e=null;for(var r of n)Po(r)}return e!==void 0&&(t.x=e),ge=t.p,e??{}}function Un(){return!zn||ge!==null&&ge.l===null}function uo(e){return ge===null&&so(),ge.c??(ge.c=new Map(vi(ge)||void 0))}function vi(e){let t=e.p;for(;t!==null;){const n=t.c;if(n!==null)return n;t=t.p}return null}let jt=[],Tr=[];function fo(){var e=jt;jt=[],Dr(e)}function hi(){var e=Tr;Tr=[],Dr(e)}function gi(){return jt.length>0||Tr.length>0}function gn(e){if(jt.length===0&&!Jn){var t=jt;queueMicrotask(()=>{t===jt&&fo()})}jt.push(e)}function _i(){jt.length>0&&fo(),Tr.length>0&&hi()}const pi=new WeakMap;function vo(e){var t=ne;if(t===null)return ee.f|=sn,e;if((t.f&ba)===0){if((t.f&Sa)===0)throw!t.parent&&e instanceof Error&&ho(e),e;t.b.error(e)}else Ln(e,t)}function Ln(e,t){for(;t!==null;){if((t.f&Sa)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e instanceof Error&&ho(e),e}function ho(e){const t=pi.get(e);t&&(oa(e,"message",{value:t.message}),oa(e,"stack",{value:t.stack}))}const Jr=new Set;let _e=null,br=null,ia=new Set,dn=[],Hr=null,la=!1,Jn=!1;var ar,Tn,Rt,or,sr,tn,An,nn,Ft,Bn,ir,lr,_t,go,kr,ca;const Lr=class Lr{constructor(){ie(this,_t);kn(this,"current",new Map);ie(this,ar,new Map);ie(this,Tn,new Set);ie(this,Rt,0);ie(this,or,null);ie(this,sr,!1);ie(this,tn,[]);ie(this,An,[]);ie(this,nn,[]);ie(this,Ft,[]);ie(this,Bn,[]);ie(this,ir,[]);ie(this,lr,[]);kn(this,"skipped_effects",new Set)}process(t){dn=[],br=null;for(const a of t)Ve(this,_t,go).call(this,a);if(A(this,tn).length===0&&A(this,Rt)===0){Ve(this,_t,ca).call(this);var n=A(this,nn),r=A(this,Ft);G(this,nn,[]),G(this,Ft,[]),G(this,Bn,[]),br=_e,_e=null,Ua(n),Ua(r),_e===null?_e=this:Jr.delete(this),A(this,or)?.resolve()}else Ve(this,_t,kr).call(this,A(this,nn)),Ve(this,_t,kr).call(this,A(this,Ft)),Ve(this,_t,kr).call(this,A(this,Bn));for(const a of A(this,tn))Nn(a);for(const a of A(this,An))Nn(a);G(this,tn,[]),G(this,An,[])}capture(t,n){A(this,ar).has(t)||A(this,ar).set(t,n),this.current.set(t,t.v)}activate(){_e=this}deactivate(){_e=null,br=null;for(const t of ia)if(ia.delete(t),t(),_e!==null)break}neuter(){G(this,sr,!0)}flush(){dn.length>0?po():Ve(this,_t,ca).call(this),_e===this&&(A(this,Rt)===0&&Jr.delete(this),this.deactivate())}increment(){G(this,Rt,A(this,Rt)+1)}decrement(){if(G(this,Rt,A(this,Rt)-1),A(this,Rt)===0){for(const t of A(this,ir))Ye(t,ct),Mn(t);for(const t of A(this,lr))Ye(t,Yt),Mn(t);G(this,nn,[]),G(this,Ft,[]),this.flush()}else this.deactivate()}add_callback(t){A(this,Tn).add(t)}settled(){return(A(this,or)??G(this,or,Fs())).promise}static ensure(){if(_e===null){const t=_e=new Lr;Jr.add(_e),Jn||Lr.enqueue(()=>{_e===t&&t.flush()})}return _e}static enqueue(t){gn(t)}};ar=new WeakMap,Tn=new WeakMap,Rt=new WeakMap,or=new WeakMap,sr=new WeakMap,tn=new WeakMap,An=new WeakMap,nn=new WeakMap,Ft=new WeakMap,Bn=new WeakMap,ir=new WeakMap,lr=new WeakMap,_t=new WeakSet,go=function(t){t.f^=Ue;for(var n=t.first;n!==null;){var r=n.f,a=(r&(Tt|vn))!==0,o=a&&(r&Ue)!==0,s=o||(r&gt)!==0||this.skipped_effects.has(n);if(!s&&n.fn!==null){if(a)n.f^=Ue;else if((r&ya)!==0)A(this,Ft).push(n);else if((r&Ue)===0)if((r&ka)!==0){var l=n.b?.is_pending()?A(this,An):A(this,tn);l.push(n)}else Vr(n)&&((n.f&Rn)!==0&&A(this,Bn).push(n),Nn(n));var c=n.first;if(c!==null){n=c;continue}}var u=n.parent;for(n=n.next;n===null&&u!==null;)n=u.next,u=u.parent}},kr=function(t){for(const n of t)((n.f&ct)!==0?A(this,ir):A(this,lr)).push(n),Ye(n,Ue);t.length=0},ca=function(){if(!A(this,sr))for(const t of A(this,Tn))t();A(this,Tn).clear()};let qt=Lr;function _o(e){var t=Jn;Jn=!0;try{for(var n;;){if(_i(),dn.length===0&&!gi()&&(_e?.flush(),dn.length===0))return Hr=null,n;po()}}finally{Jn=t}}function po(){var e=Dn;la=!0;try{var t=0;for(qa(!0);dn.length>0;){var n=qt.ensure();if(t++>1e3){var r,a;mi()}n.process(dn),Wt.clear()}}finally{la=!1,qa(e),Hr=null}}function mi(){try{Ys()}catch(e){Ln(e,Hr)}}let en=null;function Ua(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if((r.f&(hn|gt))===0&&Vr(r)&&(en=[],Nn(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?No(r):r.fn=null),en?.length>0)){Wt.clear();for(const a of en)Nn(a);en=[]}}en=null}}function Mn(e){for(var t=Hr=e;t.parent!==null;){t=t.parent;var n=t.f;if(la&&t===ne&&(n&Rn)!==0)return;if((n&(vn|Tt))!==0){if((n&Ue)===0)return;t.f^=Ue}}dn.push(t)}function wi(e){let t=0,n=Nt(0),r;return()=>{Ii()&&(i(n),jr(()=>(t===0&&(r=kt(()=>e(()=>Qn(n)))),t+=1,()=>{gn(()=>{t-=1,t===0&&(r?.(),r=void 0,Qn(n))})})))}}var yi=Fn|Hn|Sa;function Si(e,t,n){new bi(e,t,n)}var vt,st,_a,wt,rn,yt,it,$e,St,Ht,an,zt,on,Ut,Mr,Ir,We,ki,Ei,Er,Cr,ua;class bi{constructor(t,n,r){ie(this,We);kn(this,"parent");ie(this,vt,!1);ie(this,st);ie(this,_a,null);ie(this,wt);ie(this,rn);ie(this,yt);ie(this,it,null);ie(this,$e,null);ie(this,St,null);ie(this,Ht,null);ie(this,an,0);ie(this,zt,0);ie(this,on,!1);ie(this,Ut,null);ie(this,Mr,()=>{A(this,Ut)&&xt(A(this,Ut),A(this,an))});ie(this,Ir,wi(()=>(G(this,Ut,Nt(A(this,an))),()=>{G(this,Ut,null)})));G(this,st,t),G(this,wt,n),G(this,rn,r),this.parent=ne.b,G(this,vt,!!A(this,wt).pending),G(this,yt,jn(()=>{ne.b=this;{try{G(this,it,ze(()=>r(A(this,st))))}catch(a){this.error(a)}A(this,zt)>0?Ve(this,We,Cr).call(this):G(this,vt,!1)}},yi))}is_pending(){return A(this,vt)||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!A(this,wt).pending}update_pending_count(t){Ve(this,We,ua).call(this,t),G(this,an,A(this,an)+t),ia.add(A(this,Mr))}get_effect_pending(){return A(this,Ir).call(this),i(A(this,Ut))}error(t){var n=A(this,wt).onerror;let r=A(this,wt).failed;if(A(this,on)||!n&&!r)throw t;A(this,it)&&(Qe(A(this,it)),G(this,it,null)),A(this,$e)&&(Qe(A(this,$e)),G(this,$e,null)),A(this,St)&&(Qe(A(this,St)),G(this,St,null));var a=!1,o=!1;const s=()=>{if(a){return}a=!0,o&&Js(),qt.ensure(),G(this,an,0),A(this,St)!==null&&bt(A(this,St),()=>{G(this,St,null)}),G(this,vt,this.has_pending_snippet()),G(this,it,Ve(this,We,Er).call(this,()=>(G(this,on,!1),ze(()=>A(this,rn).call(this,A(this,st)))))),A(this,zt)>0?Ve(this,We,Cr).call(this):G(this,vt,!1)};var l=ee;try{je(null),o=!0,n?.(t,s),o=!1}catch(c){Ln(c,A(this,yt)&&A(this,yt).parent)}finally{je(l)}r&&gn(()=>{G(this,St,Ve(this,We,Er).call(this,()=>{G(this,on,!0);try{return ze(()=>{r(A(this,st),()=>t,()=>s)})}catch(c){return Ln(c,A(this,yt).parent),null}finally{G(this,on,!1)}}))})}}vt=new WeakMap,st=new WeakMap,_a=new WeakMap,wt=new WeakMap,rn=new WeakMap,yt=new WeakMap,it=new WeakMap,$e=new WeakMap,St=new WeakMap,Ht=new WeakMap,an=new WeakMap,zt=new WeakMap,on=new WeakMap,Ut=new WeakMap,Mr=new WeakMap,Ir=new WeakMap,We=new WeakSet,ki=function(){try{G(this,it,ze(()=>A(this,rn).call(this,A(this,st))))}catch(t){this.error(t)}G(this,vt,!1)},Ei=function(){const t=A(this,wt).pending;t&&(G(this,$e,ze(()=>t(A(this,st)))),qt.enqueue(()=>{G(this,it,Ve(this,We,Er).call(this,()=>(qt.ensure(),ze(()=>A(this,rn).call(this,A(this,st)))))),A(this,zt)>0?Ve(this,We,Cr).call(this):(bt(A(this,$e),()=>{G(this,$e,null)}),G(this,vt,!1))}))},Er=function(t){var n=ne,r=ee,a=ge;ut(A(this,yt)),je(A(this,yt)),$t(A(this,yt).ctx);try{return t()}catch(o){return vo(o),null}finally{ut(n),je(r),$t(a)}},Cr=function(){const t=A(this,wt).pending;A(this,it)!==null&&(G(this,Ht,document.createDocumentFragment()),Ci(A(this,it),A(this,Ht))),A(this,$e)===null&&G(this,$e,ze(()=>t(A(this,st))))},ua=function(t){var n;if(!this.has_pending_snippet()){this.parent&&Ve(n=this.parent,We,ua).call(n,t);return}G(this,zt,A(this,zt)+t),A(this,zt)===0&&(G(this,vt,!1),A(this,$e)&&bt(A(this,$e),()=>{G(this,$e,null)}),A(this,Ht)&&(A(this,st).before(A(this,Ht)),G(this,Ht,null)))};function Ci(e,t){for(var n=e.nodes_start,r=e.nodes_end;n!==null;){var a=n===r?null:ur(n);t.append(n),n=a}}function Pi(e,t,n){const r=Un()?cr:zr;if(t.length===0){n(e.map(r));return}var a=_e,o=ne,s=xi();Promise.all(t.map(l=>Di(l))).then(l=>{a?.activate(),s();try{n([...e.map(r),...l])}catch(c){(o.f&hn)===0&&Ln(c,o)}a?.deactivate(),mo()}).catch(l=>{Ln(l,o)})}function xi(){var e=ne,t=ee,n=ge,r=_e;return function(){ut(e),je(t),$t(n),r?.activate()}}function mo(){ut(null),je(null),$t(null)}function cr(e){var t=et|ct,n=ee!==null&&(ee.f&et)!==0?ee:null;return ne===null||n!==null&&(n.f&lt)!==0?t|=lt:ne.f|=Hn,{ctx:ge,deps:null,effects:null,equals:lo,f:t,fn:e,reactions:null,rv:0,v:De,wv:0,parent:n??ne,ac:null}}function Di(e,t){let n=ne;n===null&&Vs();var r=n.b,a=void 0,o=Nt(De),s=null,l=!ee;return zi(()=>{try{var c=e();s&&Promise.resolve(c).catch(()=>{})}catch(h){c=Promise.reject(h)}var u=()=>c;a=s?.then(u,u)??Promise.resolve(c),s=a;var d=_e,f=r.is_pending();l&&(r.update_pending_count(1),f||d.increment());const g=(h,v=void 0)=>{s=null,f||d.activate(),v?v!==Ea&&(o.f|=sn,xt(o,v)):((o.f&sn)!==0&&(o.f^=sn),xt(o,h)),l&&(r.update_pending_count(-1),f||d.decrement()),mo()};if(a.then(g,h=>g(null,h||"unknown")),d)return()=>{queueMicrotask(()=>d.neuter())}}),new Promise(c=>{function u(d){function f(){d===a?c(o):u(a)}d.then(f,f)}u(a)})}function H(e){const t=cr(e);return Bo(t),t}function zr(e){const t=cr(e);return t.equals=co,t}function wo(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)Qe(t[n])}}function Ni(e){for(var t=e.parent;t!==null;){if((t.f&et)===0)return t;t=t.parent}return null}function Ca(e){var t,n=ne;ut(Ni(e));try{wo(e),t=Oo(e)}finally{ut(n)}return t}function yo(e){var t=Ca(e);if(e.equals(t)||(e.v=t,e.wv=Mo()),!pn){var n=(Vt||(e.f&lt)!==0)&&e.deps!==null?Yt:Ue;Ye(e,n)}}const Wt=new Map;function Nt(e,t){var n={f:0,v:e,reactions:null,equals:lo,rv:0,wv:0};return n}function j(e,t){const n=Nt(e);return Bo(n),n}function da(e,t=!1,n=!0){var a;const r=Nt(e);return t||(r.equals=co),zn&&n&&ge!==null&&ge.l!==null&&((a=ge.l).s??(a.s=[])).push(r),r}function C(e,t,n=!1){ee!==null&&(!ht||(ee.f&za)!==0)&&Un()&&(ee.f&(et|Rn|ka|za))!==0&&!Dt?.includes(e)&&Zs();let r=n?Ae(t):t;return xt(e,r)}function xt(e,t){if(!e.equals(t)){var n=e.v;pn?Wt.set(e,t):Wt.set(e,n),e.v=t;var r=qt.ensure();r.capture(e,n),(e.f&et)!==0&&((e.f&ct)!==0&&Ca(e),Ye(e,(e.f&lt)===0?Ue:Yt)),e.wv=Mo(),So(e,ct),Un()&&ne!==null&&(ne.f&Ue)!==0&&(ne.f&(Tt|vn))===0&&(ot===null?Vi([e]):ot.push(e))}return t}function Qn(e){C(e,e.v+1)}function So(e,t){var n=e.reactions;if(n!==null)for(var r=Un(),a=n.length,o=0;o<a;o++){var s=n[o],l=s.f;if(!(!r&&s===ne)){var c=(l&ct)===0;c&&Ye(s,t),(l&et)!==0?So(s,Yt):c&&((l&Rn)!==0&&en!==null&&en.push(s),Mn(s))}}}function Ae(e){if(typeof e!="object"||e===null||ln in e)return e;const t=wa(e);if(t!==Ms&&t!==Is)return e;var n=new Map,r=pa(e),a=j(0),o=cn,s=l=>{if(cn===o)return l();var c=ee,u=cn;je(null),$a(o);var d=l();return je(c),$a(u),d};return r&&n.set("length",j(e.length)),new Proxy(e,{defineProperty(l,c,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&Gs();var d=n.get(c);return d===void 0?d=s(()=>{var f=j(u.value);return n.set(c,f),f}):C(d,u.value,!0),!0},deleteProperty(l,c){var u=n.get(c);if(u===void 0){if(c in l){const d=s(()=>j(De));n.set(c,d),Qn(a)}}else C(u,De),Qn(a);return!0},get(l,c,u){if(c===ln)return e;var d=n.get(c),f=c in l;if(d===void 0&&(!f||Pn(l,c)?.writable)&&(d=s(()=>{var h=Ae(f?l[c]:De),v=j(h);return v}),n.set(c,d)),d!==void 0){var g=i(d);return g===De?void 0:g}return Reflect.get(l,c,u)},getOwnPropertyDescriptor(l,c){var u=Reflect.getOwnPropertyDescriptor(l,c);if(u&&"value"in u){var d=n.get(c);d&&(u.value=i(d))}else if(u===void 0){var f=n.get(c),g=f?.v;if(f!==void 0&&g!==De)return{enumerable:!0,configurable:!0,value:g,writable:!0}}return u},has(l,c){if(c===ln)return!0;var u=n.get(c),d=u!==void 0&&u.v!==De||Reflect.has(l,c);if(u!==void 0||ne!==null&&(!d||Pn(l,c)?.writable)){u===void 0&&(u=s(()=>{var g=d?Ae(l[c]):De,h=j(g);return h}),n.set(c,u));var f=i(u);if(f===De)return!1}return d},set(l,c,u,d){var f=n.get(c),g=c in l;if(r&&c==="length")for(var h=u;h<f.v;h+=1){var v=n.get(h+"");v!==void 0?C(v,De):h in l&&(v=s(()=>j(De)),n.set(h+"",v))}if(f===void 0)(!g||Pn(l,c)?.writable)&&(f=s(()=>j(void 0)),C(f,Ae(u)),n.set(c,f));else{g=f.v!==De;var _=s(()=>Ae(u));C(f,_)}var p=Reflect.getOwnPropertyDescriptor(l,c);if(p?.set&&p.set.call(d,u),!g){if(r&&typeof c=="string"){var b=n.get("length"),E=Number(c);Number.isInteger(E)&&E>=b.v&&C(b,E+1)}Qn(a)}return!0},ownKeys(l){i(a);var c=Reflect.ownKeys(l).filter(f=>{var g=n.get(f);return g===void 0||g.v!==De});for(var[u,d]of n)d.v!==De&&!(u in l)&&c.push(u);return c},setPrototypeOf(){Xs()}})}var ja,bo,ko,Eo;function Ti(){if(ja===void 0){ja=window,bo=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;ko=Pn(t,"firstChild").get,Eo=Pn(t,"nextSibling").get,Ha(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Ha(n)&&(n.__t=void 0)}}function _n(e=""){return document.createTextNode(e)}function In(e){return ko.call(e)}function ur(e){return Eo.call(e)}function B(e,t){return In(e)}function M(e,t=!1){{var n=In(e);return n instanceof Comment&&n.data===""?ur(n):n}}function W(e,t=1,n=!1){let r=e;for(;t--;)r=ur(r);return r}function Ai(e){e.textContent=""}function Pa(){return!1}let Va=!1;function Bi(){Va||(Va=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function Ur(e){var t=ee,n=ne;je(null),ut(null);try{return e()}finally{je(t),ut(n)}}function Li(e,t,n,r=n){e.addEventListener(t,()=>Ur(n));const a=e.__on_r;a?e.__on_r=()=>{a(),r(!0)}:e.__on_r=()=>r(!0),Bi()}function Co(e){ne===null&&ee===null&&$s(),ee!==null&&(ee.f&lt)!==0&&ne===null&&Ws(),pn&&qs()}function Mi(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function Et(e,t,n,r=!0){var a=ne;a!==null&&(a.f&gt)!==0&&(e|=gt);var o={ctx:ge,deps:null,nodes_start:null,nodes_end:null,f:e|ct,first:null,fn:t,last:null,next:null,parent:a,b:a&&a.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{Nn(o),o.f|=ba}catch(c){throw Qe(o),c}else t!==null&&Mn(o);if(r){var s=o;if(n&&s.deps===null&&s.teardown===null&&s.nodes_start===null&&s.first===s.last&&(s.f&Hn)===0&&(s=s.first),s!==null&&(s.parent=a,a!==null&&Mi(s,a),ee!==null&&(ee.f&et)!==0&&(e&vn)===0)){var l=ee;(l.effects??(l.effects=[])).push(s)}}return o}function Ii(){return ee!==null&&!ht}function Oi(e){const t=Et(Or,null,!1);return Ye(t,Ue),t.teardown=e,t}function Ne(e){Co();var t=ne.f,n=!ee&&(t&Tt)!==0&&(t&ba)===0;if(n){var r=ge;(r.e??(r.e=[])).push(e)}else return Po(e)}function Po(e){return Et(ya|oo,e,!1)}function Ri(e){return Co(),Et(Or|oo,e,!0)}function Fi(e){qt.ensure();const t=Et(vn|Hn,e,!0);return(n={})=>new Promise(r=>{n.outro?bt(t,()=>{Qe(t),r(void 0)}):(Qe(t),r(void 0))})}function Hi(e){return Et(ya,e,!1)}function zi(e){return Et(ka|Hn,e,!0)}function jr(e,t=0){return Et(Or|t,e,!0)}function de(e,t=[],n=[]){Pi(t,n,r=>{Et(Or,()=>e(...r.map(i)),!0)})}function jn(e,t=0){var n=Et(Rn|t,e,!0);return n}function ze(e,t=!0){return Et(Tt|Hn,e,!0,t)}function xo(e){var t=e.teardown;if(t!==null){const n=pn,r=ee;Wa(!0),je(null);try{t.call(null)}finally{Wa(n),je(r)}}}function Do(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const a=n.ac;a!==null&&Ur(()=>{a.abort(Ea)});var r=n.next;(n.f&vn)!==0?n.parent=null:Qe(n,t),n=r}}function Ui(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&Tt)===0&&Qe(t),t=n}}function Qe(e,t=!0){var n=!1;(t||(e.f&zs)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(ji(e.nodes_start,e.nodes_end),n=!0),Do(e,t&&!n),Ar(e,0),Ye(e,hn);var r=e.transitions;if(r!==null)for(const o of r)o.stop();xo(e);var a=e.parent;a!==null&&a.first!==null&&No(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function ji(e,t){for(;e!==null;){var n=e===t?null:ur(e);e.remove(),e=n}}function No(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function bt(e,t){var n=[];xa(e,n,!0),To(n,()=>{Qe(e),t&&t()})}function To(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var a of e)a.out(r)}else t()}function xa(e,t,n){if((e.f&gt)===0){if(e.f^=gt,e.transitions!==null)for(const s of e.transitions)(s.is_global||n)&&t.push(s);for(var r=e.first;r!==null;){var a=r.next,o=(r.f&Fn)!==0||(r.f&Tt)!==0;xa(r,t,o?n:!1),r=a}}}function xn(e){Ao(e,!0)}function Ao(e,t){if((e.f&gt)!==0){e.f^=gt,(e.f&Ue)===0&&(Ye(e,ct),Mn(e));for(var n=e.first;n!==null;){var r=n.next,a=(n.f&Fn)!==0||(n.f&Tt)!==0;Ao(n,a?t:!1),n=r}if(e.transitions!==null)for(const o of e.transitions)(o.is_global||t)&&o.in()}}let Dn=!1;function qa(e){Dn=e}let pn=!1;function Wa(e){pn=e}let ee=null,ht=!1;function je(e){ee=e}let ne=null;function ut(e){ne=e}let Dt=null;function Bo(e){ee!==null&&(Dt===null?Dt=[e]:Dt.push(e))}let qe=null,Ze=0,ot=null;function Vi(e){ot=e}let Lo=1,er=0,cn=er;function $a(e){cn=e}let Vt=!1;function Mo(){return++Lo}function Vr(e){var t=e.f;if((t&ct)!==0)return!0;if((t&Yt)!==0){var n=e.deps,r=(t&lt)!==0;if(n!==null){var a,o,s=(t&Nr)!==0,l=r&&ne!==null&&!Vt,c=n.length;if((s||l)&&(ne===null||(ne.f&hn)===0)){var u=e,d=u.parent;for(a=0;a<c;a++)o=n[a],(s||!o?.reactions?.includes(u))&&(o.reactions??(o.reactions=[])).push(u);s&&(u.f^=Nr),l&&d!==null&&(d.f&lt)===0&&(u.f^=lt)}for(a=0;a<c;a++)if(o=n[a],Vr(o)&&yo(o),o.wv>e.wv)return!0}(!r||ne!==null&&!Vt)&&Ye(e,Ue)}return!1}function Io(e,t,n=!0){var r=e.reactions;if(r!==null&&!Dt?.includes(e))for(var a=0;a<r.length;a++){var o=r[a];(o.f&et)!==0?Io(o,t,!1):t===o&&(n?Ye(o,ct):(o.f&Ue)!==0&&Ye(o,Yt),Mn(o))}}function Oo(e){var _;var t=qe,n=Ze,r=ot,a=ee,o=Vt,s=Dt,l=ge,c=ht,u=cn,d=e.f;qe=null,Ze=0,ot=null,Vt=(d&lt)!==0&&(ht||!Dn||ee===null),ee=(d&(Tt|vn))===0?e:null,Dt=null,$t(e.ctx),ht=!1,cn=++er,e.ac!==null&&(Ur(()=>{e.ac.abort(Ea)}),e.ac=null);try{e.f|=sa;var f=e.fn,g=f(),h=e.deps;if(qe!==null){var v;if(Ar(e,Ze),h!==null&&Ze>0)for(h.length=Ze+qe.length,v=0;v<qe.length;v++)h[Ze+v]=qe[v];else e.deps=h=qe;if(!Vt||(d&et)!==0&&e.reactions!==null)for(v=Ze;v<h.length;v++)((_=h[v]).reactions??(_.reactions=[])).push(e)}else h!==null&&Ze<h.length&&(Ar(e,Ze),h.length=Ze);if(Un()&&ot!==null&&!ht&&h!==null&&(e.f&(et|Yt|ct))===0)for(v=0;v<ot.length;v++)Io(ot[v],e);return a!==null&&a!==e&&(er++,ot!==null&&(r===null?r=ot:r.push(...ot))),(e.f&sn)!==0&&(e.f^=sn),g}catch(p){return vo(p)}finally{e.f^=sa,qe=t,Ze=n,ot=r,ee=a,Vt=o,Dt=s,$t(l),ht=c,cn=u}}function qi(e,t){let n=t.reactions;if(n!==null){var r=Ls.call(n,e);if(r!==-1){var a=n.length-1;a===0?n=t.reactions=null:(n[r]=n[a],n.pop())}}n===null&&(t.f&et)!==0&&(qe===null||!qe.includes(t))&&(Ye(t,Yt),(t.f&(lt|Nr))===0&&(t.f^=Nr),wo(t),Ar(t,0))}function Ar(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)qi(e,n[r])}function Nn(e){var t=e.f;if((t&hn)===0){Ye(e,Ue);var n=ne,r=Dn;ne=e,Dn=!0;try{(t&Rn)!==0?Ui(e):Do(e),xo(e);var a=Oo(e);e.teardown=typeof a=="function"?a:null,e.wv=Lo;var o;ro&&di&&(e.f&ct)!==0&&e.deps}finally{Dn=r,ne=n}}}async function Ro(){await Promise.resolve(),_o()}function i(e){var t=e.f,n=(t&et)!==0;if(ee!==null&&!ht){var r=ne!==null&&(ne.f&hn)!==0;if(!r&&!Dt?.includes(e)){var a=ee.deps;if((ee.f&sa)!==0)e.rv<er&&(e.rv=er,qe===null&&a!==null&&a[Ze]===e?Ze++:qe===null?qe=[e]:(!Vt||!qe.includes(e))&&qe.push(e));else{(ee.deps??(ee.deps=[])).push(e);var o=e.reactions;o===null?e.reactions=[ee]:o.includes(ee)||o.push(ee)}}}else if(n&&e.deps===null&&e.effects===null){var s=e,l=s.parent;l!==null&&(l.f&lt)===0&&(s.f^=lt)}if(pn){if(Wt.has(e))return Wt.get(e);if(n){s=e;var c=s.v;return((s.f&Ue)===0&&s.reactions!==null||Fo(s))&&(c=Ca(s)),Wt.set(s,c),c}}else n&&(s=e,Vr(s)&&yo(s));if((e.f&sn)!==0)throw e.v;return e.v}function Fo(e){if(e.v===De)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(Wt.has(t)||(t.f&et)!==0&&Fo(t))return!0;return!1}function kt(e){var t=ht;try{return ht=!0,e()}finally{ht=t}}const Wi=-7169;function Ye(e,t){e.f=e.f&Wi|t}function $i(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(ln in e)fa(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&ln in n&&fa(n)}}}function fa(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{fa(e[r],t)}catch{}const n=wa(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=ao(n);for(let a in r){const o=r[a].get;if(o)try{o.call(e)}catch{}}}}}const Yi=["touchstart","touchmove"];function Ki(e){return Yi.includes(e)}const Ho=new Set,va=new Set;function Gi(e,t,n,r={}){function a(o){if(r.capture||Yn.call(t,o),!o.cancelBubble)return Ur(()=>n?.call(this,o))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?gn(()=>{t.addEventListener(e,a,r)}):t.addEventListener(e,a,r),a}function Da(e,t,n,r,a){var o={capture:r,passive:a},s=Gi(e,t,n,o);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&Oi(()=>{t.removeEventListener(e,s,o)})}function tt(e){for(var t=0;t<e.length;t++)Ho.add(e[t]);for(var n of va)n(e)}let Ya=null;function Yn(e){var t=this,n=t.ownerDocument,r=e.type,a=e.composedPath?.()||[],o=a[0]||e.target;Ya=e;var s=0,l=Ya===e&&e.__root;if(l){var c=a.indexOf(l);if(c!==-1&&(t===document||t===window)){e.__root=t;return}var u=a.indexOf(t);if(u===-1)return;c<=u&&(s=c)}if(o=a[s]||e.target,o!==t){oa(e,"currentTarget",{configurable:!0,get(){return o||n}});var d=ee,f=ne;je(null),ut(null);try{for(var g,h=[];o!==null;){var v=o.assignedSlot||o.parentNode||o.host||null;try{var _=o["__"+r];if(_!=null&&(!o.disabled||e.target===o))if(pa(_)){var[p,...b]=_;p.apply(o,[e,...b])}else _.call(o,e)}catch(E){g?h.push(E):g=E}if(e.cancelBubble||v===t||v===null)break;o=v}if(g){for(let E of h)queueMicrotask(()=>{throw E});throw g}}finally{e.__root=t,delete e.currentTarget,je(d),ut(f)}}}function zo(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function tr(e,t){var n=ne;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function $(e,t){var n=(t&si)!==0,r=(t&ii)!==0,a,o=!e.startsWith("<!>");return()=>{a===void 0&&(a=zo(o?e:"<!>"+e),n||(a=In(a)));var s=r||bo?document.importNode(a,!0):a.cloneNode(!0);if(n){var l=In(s),c=s.lastChild;tr(l,c)}else tr(s,s);return s}}function Xi(e,t,n="svg"){var r=!e.startsWith("<!>"),a=`<${n}>${r?e:"<!>"+e}</${n}>`,o;return()=>{if(!o){var s=zo(a),l=In(s);o=In(l)}var c=o.cloneNode(!0);return tr(c,c),c}}function Zi(e,t){return Xi(e,t,"svg")}function Be(e=""){{var t=_n(e+"");return tr(t,t),t}}function F(){var e=document.createDocumentFragment(),t=document.createComment(""),n=_n();return e.append(t,n),tr(t,n),e}function w(e,t){e!==null&&e.before(t)}function md(){var e;return(e=window.__svelte??(window.__svelte={})).uid??(e.uid=1),`c${window.__svelte.uid++}`}function nr(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function Ji(e,t){return Qi(e,t)}const En=new Map;function Qi(e,{target:t,anchor:n,props:r={},events:a,context:o,intro:s=!0}){Ti();var l=new Set,c=f=>{for(var g=0;g<f.length;g++){var h=f[g];if(!l.has(h)){l.add(h);var v=Ki(h);t.addEventListener(h,Yn,{passive:v});var _=En.get(h);_===void 0?(document.addEventListener(h,Yn,{passive:v}),En.set(h,1)):En.set(h,_+1)}}};c(ma(Ho)),va.add(c);var u=void 0,d=Fi(()=>{var f=n??t.appendChild(_n());return Si(f,{pending:()=>{}},g=>{if(o){Y({});var h=ge;h.c=o}a&&(r.$$events=a),u=e(g,r)||{},o&&K()}),()=>{for(var g of l){t.removeEventListener(g,Yn);var h=En.get(g);--h===0?(document.removeEventListener(g,Yn),En.delete(g)):En.set(g,h)}va.delete(c),f!==n&&f.parentNode?.removeChild(f)}});return el.set(u,d),u}let el=new WeakMap;const Qr=0,wr=1,ea=2;function Uo(e,t,n,r,a){var o=e,s=Un(),l=ge,c=De,u,d,f,g=s?Nt(void 0):da(void 0,!1,!1),h=s?Nt(void 0):da(void 0,!1,!1),v=!1;function _(b,E){v=!0,E&&(ut(p),je(p),$t(l));try{b===Qr&&n&&(u?xn(u):u=ze(()=>n(o))),b===wr&&r&&(d?xn(d):d=ze(()=>r(o,g))),b===ea&&a&&(f?xn(f):f=ze(()=>a(o,h))),b!==Qr&&u&&bt(u,()=>u=null),b!==wr&&d&&bt(d,()=>d=null),b!==ea&&f&&bt(f,()=>f=null)}finally{E&&($t(null),je(null),ut(null),_o())}}var p=jn(()=>{if(c!==(c=t())){if(Os(c)){var b=c;v=!1,b.then(E=>{b===c&&(xt(g,E),_(wr,!0))},E=>{if(b===c&&(xt(h,E),_(ea,!0),!a))throw h.v}),gn(()=>{v||_(Qr,!0)})}else xt(g,c),_(wr,!1);return()=>c=De}})}function q(e,t,n=!1){var r=e,a=null,o=null,s=De,l=n?Fn:0,c=!1;const u=(h,v=!0)=>{c=!0,g(v,h)};var d=null;function f(){d!==null&&(d.lastChild.remove(),r.before(d),d=null);var h=s?a:o,v=s?o:a;h&&xn(h),v&&bt(v,()=>{s?o=null:a=null})}const g=(h,v)=>{if(s!==(s=h)){var _=Pa(),p=r;if(_&&(d=document.createDocumentFragment(),d.append(p=_n())),s?a??(a=v&&ze(()=>v(p))):o??(o=v&&ze(()=>v(p))),_){var b=_e,E=s?a:o,S=s?o:a;E&&b.skipped_effects.delete(E),S&&b.skipped_effects.add(S),b.add_callback(f)}else f()}};jn(()=>{c=!1,t(u),c||g(null,null)},l)}function ye(e,t){jr(()=>{var n=t();for(var r in n){var a=n[r];a?e.style.setProperty(r,a):e.style.removeProperty(r)}})}function tl(e,t,n){for(var r=e.items,a=[],o=t.length,s=0;s<o;s++)xa(t[s].e,a,!0);var l=o>0&&a.length===0&&n!==null;if(l){var c=n.parentNode;Ai(c),c.append(n),r.clear(),mt(e,t[0].prev,t[o-1].next)}To(a,()=>{for(var u=0;u<o;u++){var d=t[u];l||(r.delete(d.k),mt(e,d.prev,d.next)),Qe(d.e,!l)}})}function Cn(e,t,n,r,a,o=null){var s=e,l={flags:t,items:new Map,first:null},c=(t&io)!==0;if(c){var u=e;s=u.appendChild(_n())}var d=null,f=!1,g=new Map,h=zr(()=>{var b=n();return pa(b)?b:b==null?[]:ma(b)}),v,_;function p(){nl(_,v,l,g,s,a,t,r,n),o!==null&&(v.length===0?d?xn(d):d=ze(()=>o(s)):d!==null&&bt(d,()=>{d=null}))}jn(()=>{_??(_=ne),v=i(h);var b=v.length;if(!(f&&b===0)){f=b===0;var E,S,T,P;if(Pa()){var m=new Set,y=_e;for(S=0;S<b;S+=1){T=v[S],P=r(T,S);var k=l.items.get(P)??g.get(P);k?(t&(Rr|Fr))!==0&&jo(k,T,S,t):(E=Vo(null,l,null,null,T,P,S,a,t,n,!0),g.set(P,E)),m.add(P)}for(const[D,O]of l.items)m.has(D)||y.skipped_effects.add(O.e);y.add_callback(p)}else p();i(h)}})}function nl(e,t,n,r,a,o,s,l,c){var u=(s&Qs)!==0,d=(s&(Rr|Fr))!==0,f=t.length,g=n.items,h=n.first,v=h,_,p=null,b,E=[],S=[],T,P,m,y;if(u)for(y=0;y<f;y+=1)T=t[y],P=l(T,y),m=g.get(P),m!==void 0&&(m.a?.measure(),(b??(b=new Set)).add(m));for(y=0;y<f;y+=1){if(T=t[y],P=l(T,y),m=g.get(P),m===void 0){var k=r.get(P);if(k!==void 0){r.delete(P),g.set(P,k);var D=p?p.next:v;mt(n,p,k),mt(n,k,D),ta(k,D,a),p=k}else{var O=v?v.e.nodes_start:a;p=Vo(O,n,p,p===null?n.first:p.next,T,P,y,o,s,c)}g.set(P,p),E=[],S=[],v=p.next;continue}if(d&&jo(m,T,y,s),(m.e.f&gt)!==0&&(xn(m.e),u&&(m.a?.unfix(),(b??(b=new Set)).delete(m))),m!==v){if(_!==void 0&&_.has(m)){if(E.length<S.length){var R=S[0],X;p=R.prev;var ae=E[0],ce=E[E.length-1];for(X=0;X<E.length;X+=1)ta(E[X],R,a);for(X=0;X<S.length;X+=1)_.delete(S[X]);mt(n,ae.prev,ce.next),mt(n,p,ae),mt(n,ce,R),v=R,p=ce,y-=1,E=[],S=[]}else _.delete(m),ta(m,v,a),mt(n,m.prev,m.next),mt(n,m,p===null?n.first:p.next),mt(n,p,m),p=m;continue}for(E=[],S=[];v!==null&&v.k!==P;)(v.e.f&gt)===0&&(_??(_=new Set)).add(v),S.push(v),v=v.next;if(v===null)continue;m=v}E.push(m),p=m,v=m.next}if(v!==null||_!==void 0){for(var oe=_===void 0?[]:ma(_);v!==null;)(v.e.f&gt)===0&&oe.push(v),v=v.next;var se=oe.length;if(se>0){var Se=(s&io)!==0&&f===0?a:null;if(u){for(y=0;y<se;y+=1)oe[y].a?.measure();for(y=0;y<se;y+=1)oe[y].a?.fix()}tl(n,oe,Se)}}u&&gn(()=>{if(b!==void 0)for(m of b)m.a?.apply()}),e.first=n.first&&n.first.e,e.last=p&&p.e;for(var L of r.values())Qe(L.e);r.clear()}function jo(e,t,n,r){(r&Rr)!==0&&xt(e.v,t),(r&Fr)!==0?xt(e.i,n):e.i=n}function Vo(e,t,n,r,a,o,s,l,c,u,d){var f=(c&Rr)!==0,g=(c&ei)===0,h=f?g?da(a,!1,!1):Nt(a):a,v=(c&Fr)===0?s:Nt(s),_={i:v,v:h,k:o,a:null,e:null,prev:n,next:r};try{if(e===null){var p=document.createDocumentFragment();p.append(e=_n())}return _.e=ze(()=>l(e,h,v,u),ci),_.e.prev=n&&n.e,_.e.next=r&&r.e,n===null?d||(t.first=_):(n.next=_,n.e.next=_.e),r!==null&&(r.prev=_,r.e.prev=_.e),_}finally{}}function ta(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,a=t?t.e.nodes_start:n,o=e.e.nodes_start;o!==null&&o!==r;){var s=ur(o);a.before(o),o=s}}function mt(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function re(e,t,...n){var r=e,a=le,o;jn(()=>{a!==(a=t())&&(o&&(Qe(o),o=null),o=ze(()=>a(r,...n)))},Fn)}function qo(e,t,n){var r=e,a,o,s=null,l=null;function c(){o&&(bt(o),o=null),s&&(s.lastChild.remove(),r.before(s),s=null),o=l,l=null}jn(()=>{if(a!==(a=t())){var u=Pa();if(a){var d=r;u&&(s=document.createDocumentFragment(),s.append(d=_n()),o&&_e.skipped_effects.add(o)),l=ze(()=>n(d,a))}u?_e.add_callback(c):c()}},Fn)}function Wo(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=Wo(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function rl(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=Wo(e))&&(r&&(r+=" "),r+=t);return r}function ve(e){return typeof e=="object"?rl(e):e??""}const Ka=[...` 	
\r\f \v\uFEFF`];function al(e,t,n){var r=e==null?"":""+e;if(t&&(r=r?r+" "+t:t),n){for(var a in n)if(n[a])r=r?r+" "+a:a;else if(r.length)for(var o=a.length,s=0;(s=r.indexOf(a,s))>=0;){var l=s+o;(s===0||Ka.includes(r[s-1]))&&(l===r.length||Ka.includes(r[l]))?r=(s===0?"":r.substring(0,s))+r.substring(l+1):s=l}}return r===""?null:r}function ol(e,t){return e==null?null:String(e)}function he(e,t,n,r,a,o){var s=e.__className;if(s!==n||s===void 0){var l=al(n,r,o);l==null?e.removeAttribute("class"):e.className=l,e.__className=n}else if(o&&a!==o)for(var c in o){var u=!!o[c];(a==null||u!==!!a[c])&&e.classList.toggle(c,u)}return o}function rr(e,t,n,r){var a=e.__style;if(a!==t){var o=ol(t);o==null?e.removeAttribute("style"):e.style.cssText=o,e.__style=t}return r}const sl=Symbol("is custom element"),il=Symbol("is html");function wd(e,t){var n=Na(e);n.value===(n.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function yd(e,t){var n=Na(e);n.checked!==(n.checked=t??void 0)&&(e.checked=t)}function Ee(e,t,n,r){var a=Na(e);a[t]!==(a[t]=n)&&(t==="loading"&&(e[js]=n),n==null?e.removeAttribute(t):typeof n!="string"&&ll(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function Na(e){return e.__attributes??(e.__attributes={[sl]:e.nodeName.includes("-"),[il]:e.namespaceURI===li})}var Ga=new Map;function ll(e){var t=e.getAttribute("is")||e.nodeName,n=Ga.get(t);if(n)return n;Ga.set(t,n=[]);for(var r,a=e,o=Element.prototype;o!==a;){r=ao(a);for(var s in r)r[s].set&&n.push(s);a=wa(a)}return n}function cl(e,t,n=t){var r=new WeakSet;Li(e,"input",async a=>{var o=a?e.defaultValue:e.value;if(o=na(e)?ra(o):o,n(o),_e!==null&&r.add(_e),await Ro(),o!==(o=t())){var s=e.selectionStart,l=e.selectionEnd;e.value=o??"",l!==null&&(e.selectionStart=s,e.selectionEnd=Math.min(l,e.value.length))}}),kt(t)==null&&e.value&&(n(na(e)?ra(e.value):e.value),_e!==null&&r.add(_e)),jr(()=>{var a=t();if(e===document.activeElement){var o=br??_e;if(r.has(o))return}na(e)&&a===ra(e.value)||e.type==="date"&&!a&&!e.value||a!==e.value&&(e.value=a??"")})}function na(e){var t=e.type;return t==="number"||t==="range"}function ra(e){return e===""?null:+e}function Xa(e,t){return e===t||e?.[ln]===t}function pt(e={},t,n,r){return Hi(()=>{var a,o;return jr(()=>{a=o,o=[],kt(()=>{e!==n(...o)&&(t(e,...o),a&&Xa(n(...a),e)&&t(null,...a))})}),()=>{gn(()=>{o&&Xa(n(...o),e)&&t(null,...o)})}}),e}function Ta(e=!1){const t=ge,n=t.l.u;if(!n)return;let r=()=>$i(t.s);if(e){let a=0,o={};const s=cr(()=>{let l=!1;const c=t.s;for(const u in c)c[u]!==o[u]&&(o[u]=c[u],l=!0);return l&&a++,a});r=()=>i(s)}n.b.length&&Ri(()=>{Za(t,r),Dr(n.b)}),Ne(()=>{const a=kt(()=>n.m.map(Rs));return()=>{for(const o of a)typeof o=="function"&&o()}}),n.a.length&&Ne(()=>{Za(t,r),Dr(n.a)})}function Za(e,t){if(e.l.s)for(const n of e.l.s)i(n);t()}let yr=!1;function ul(e){var t=yr;try{return yr=!1,[e(),yr]}finally{yr=t}}function ue(e,t,n,r){var a=!zn||(n&ni)!==0,o=(n&ai)!==0,s=(n&oi)!==0,l=r,c=!0,u=()=>(c&&(c=!1,l=s?kt(r):r),l),d;if(o){var f=ln in e||Us in e;d=Pn(e,t)?.set??(f&&t in e?S=>e[t]=S:void 0)}var g,h=!1;o?[g,h]=ul(()=>e[t]):g=e[t],g===void 0&&r!==void 0&&(g=u(),d&&(a&&Ks(),d(g)));var v;if(a?v=()=>{var S=e[t];return S===void 0?u():(c=!0,S)}:v=()=>{var S=e[t];return S!==void 0&&(l=void 0),S===void 0?l:S},a&&(n&ri)===0)return v;if(d){var _=e.$$legacy;return(function(S,T){return arguments.length>0?((!a||!T||_||h)&&d(T?v():S),S):v()})}var p=!1,b=((n&ti)!==0?cr:zr)(()=>(p=!1,v()));o&&i(b);var E=ne;return(function(S,T){if(arguments.length>0){const P=T?i(b):a&&o?Ae(S):S;return C(b,P),p=!0,l!==void 0&&(l=P),S}return pn&&p||(E.f&hn)!==0?b.v:i(b)})}function pe(e){ge===null&&so(),zn&&ge.l!==null?dl(ge).m.push(e):Ne(()=>{const t=kt(e);if(typeof t=="function")return t})}function dl(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const fl="5";var no;typeof window<"u"&&((no=window.__svelte??(window.__svelte={})).v??(no.v=new Set)).add(fl);fi();const $o={};function vl(e){Pe($o,e)}function Yo(){const e=Ce($o);if(!e)throw new Error("No SearchContext found");return e}const Ko={};function hl(e){Pe(Ko,e)}function Ct(){const e=Ce(Ko);if(!e)throw new Error("No AppHistoryContext found");return e}function gl(e,t){Y(t,!0);const{replace:n,getAppHistory:r}=Ct(),a=H(r),o="search",s=Ae({value:new URLSearchParams(r().search).get(o)||""}),l=d=>{const f=new URLSearchParams(i(a).search),g=i(a).pathname;(f.get(o)||"")!==d&&(d===""?f.delete(o):f.set(o,d),n(`${g}${f.size>0?`?${f.toString()}`:""}`))};Ne(()=>{const d=s.value;kt(()=>{l(d)})}),vl(s);var c=F(),u=M(c);re(u,()=>t.children??le),w(e,c),K()}const Go={};function _l(e){Pe(Go,e)}function Xo(){const e=Ce(Go);if(!e)throw new Error("No TagSearchContext found");return e}function pl(e,t){Y(t,!0);const n=Ae({value:""});_l(n);var r=F(),a=M(r);re(a,()=>t.children??le),w(e,r),K()}const Zo={};function ml(e){Pe(Zo,e)}function Jo(){const e=Ce(Zo);if(!e)throw new Error("No FeedOrderContext found");return e}function wl(e,t){Y(t,!0);const{navigate:n,getAppHistory:r}=Ct(),a=H(r),o="feedOrder";let s=j(Ae(new URLSearchParams(r().search).get(o)||"newest"));ml({getFeedOrder:()=>i(s),setFeedOrder:f=>{C(s,f,!0);const g=new URLSearchParams(i(a).search);f==="newest"?g.delete(o):g.set(o,f),n(`${i(a).pathname}${g.size>0?`?${g.toString()}`:""}`)}});var u=F(),d=M(u);re(d,()=>t.children??le),w(e,u),K()}const Qo={};function yl(e){Pe(Qo,e)}function es(){const e=Ce(Qo);if(!e)throw new Error("No SidebarContext found");return e}function Sl(e,t){Y(t,!0);const n=(d,f)=>{if(!f)return d;if(f.type==="closed")return{type:"closed"};switch(d.type){case"opened":return f.type==="close"?{type:"closing"}:f.type==="swipe"?{type:"openSwiping"}:d;case"closed":return f.type==="open"?{type:"opening"}:f.type==="swipe"?{type:"closeSwiping"}:d;case"openSwiping":return f.type==="open"?{type:"opening"}:f.type==="close"?{type:"closing"}:d;case"closeSwiping":return f.type==="open"?{type:"opening"}:f.type==="close"?{type:"closing"}:d;case"opening":return f.type==="opened"?{type:"opened"}:d;default:return d}};let r=j(Ae(n({type:"closed"})));const a=d=>{C(r,n(i(r),d),!0)};yl({sidebarOpen:()=>{a({type:"open"})},sidebarClose:()=>{a({type:"close"})},handleComputeState:a,getSidebarState:()=>i(r)});var c=F(),u=M(c);re(u,()=>t.children??le),w(e,c),K()}const ts={};function bl(e){Pe(ts,e)}function ns(){const e=Ce(ts);if(!e)throw new Error("No SelectedTagsContext found");return e}const rs=(e,t)=>{let n=null;return()=>{n&&clearTimeout(n),n=setTimeout(()=>{n=null,e()},t)}};async function kl(){if(navigator.storage&&navigator.storage.persist)try{await navigator.storage.persisted()||await navigator.storage.persist()}catch{}}const El=(e,t)=>{if(e.size!==t.size)return!0;for(const n of e)if(!t.has(n))return!0;return!1};function Cl(e,t){Y(t,!0);const{getAppHistory:n,replace:r}=Ct(),a=H(n),o=H(()=>n().search),s="selectedTags",l=()=>new Set(new URLSearchParams(n().search).get(s)?.split(",")||[]);let c=j(Ae(l()));const u=()=>{const _=l();if(El(_,i(c))){const p=new URLSearchParams(i(a).search),b=i(a).pathname;i(c).size===0?p.delete(s):p.set(s,Array.from(i(c)).join(",")),r(`${b}${p.size>0?`?${p.toString()}`:""}`)}};Ne(()=>{i(o),i(c),kt(()=>{u()})}),bl({getSelectedTags:()=>i(c),addTag:_=>{i(c).has(_)||C(c,new Set([...i(c),_]),!0)},removeTag:_=>{const p=new Set(i(c));p.delete(_),C(c,p,!0)}});var h=F(),v=M(h);re(v,()=>t.children??le),w(e,h),K()}const as={};function Pl(e){Pe(as,e)}function dr(){const e=Ce(as);if(!e)throw new Error("No LocalDBContext found");return e}const os={};function xl(e){Pe(os,e)}function Dl(){const e=Ce(os);if(!e)throw new Error("No SettingsContext found");return e}const ss={};function Nl(e){Pe(ss,e)}function fr(){const e=Ce(ss);if(!e)throw new Error("No BroadcastContext found");return e}const Tl="AppStorage",Al=1,Kn="account",Pr="settings",Pt="notes",Gn="drafts",Qt="bin",xr="tags",Bl="syncLog",Kt="success",Gt="error",Le=(e,t,n)=>{e?.addEventListener(t,n)},Br=(e,t)=>new Promise((n,r)=>{const o=e?.transaction(t,"readonly")?.objectStore(t).getAll();Le(o,Kt,()=>{const s=o?.result||[];n(s)}),Le(o,Gt,s=>{r(s)})}),ha=(e,t,n)=>new Promise((r,a)=>{const s=e?.transaction(t,"readonly")?.objectStore(t).get(n);Le(s,Kt,()=>{const l=s?.result?.data;r(l)}),Le(s,Gt,l=>{a(l)})}),un=(e,t,n,r)=>new Promise((a,o)=>{const c=e?.transaction(t,"readwrite")?.objectStore(t)?.put({id:n,data:r});Le(c,Kt,()=>{a()}),Le(c,Gt,u=>{o(u)})}),aa=async(e,t,n)=>{const a=e?.transaction(t,"readwrite")?.objectStore(t);await Promise.all(n.map(o=>{const s=a?.put(o);return new Promise((l,c)=>{Le(s,Kt,()=>{l()}),Le(s,Gt,u=>{c(u)})})}))},Aa=(e,t,n)=>new Promise((r,a)=>{const l=e?.transaction(t,"readwrite")?.objectStore(t)?.delete(n);Le(l,Kt,()=>{r()}),Le(l,Gt,c=>{a(c)})}),Ll=async(e,t,n)=>{const a=e?.transaction(t,"readwrite")?.objectStore(t);await Promise.all(n.map(o=>{const s=a?.delete(o);return new Promise((l,c)=>{Le(s,Kt,()=>{l()}),Le(s,Gt,u=>{c(u)})})}))},fn=(e,t)=>new Promise((n,r)=>{const s=e?.transaction(t,"readwrite")?.objectStore(t)?.clear();Le(s,Kt,()=>{n()}),Le(s,Gt,l=>{r(l)})});function Ml(e,t){Y(t,!0);let n=j(Ae({showFavicon:!1}));const{getDB:r}=dr(),{createBroadcastChannel:a,tabId:o}=fr(),s=a(),l=H(r),c=async()=>{const _=await ha(i(l),Pr,"default");_&&C(n,_,!0)},u=async()=>{c()},d=async _=>{const p=JSON.parse(_.data),b=p;if(p.tabId&&p.tabId===o){b.type==="exit"&&(C(n,{showFavicon:!1},!0),fn(i(l),Pr));return}b.type==="updateSettings"?c():b.type==="exit"&&C(n,{showFavicon:!1},!0)},f=()=>i(n).showFavicon,g=async _=>{i(n).showFavicon=_,await un(i(l),Pr,"default",{showFavicon:_}),s.postMessage({type:"updateSettings"})};pe(()=>(u(),s.addEventListener(d),()=>{s.removeEventListener(d)})),xl({getFaviconEnabled:f,setFaviconShown:g});var h=F(),v=M(h);re(v,()=>t.children??le),w(e,h),K()}const is={};function Il(e){Pe(is,e)}function Ba(){const e=Ce(is);if(!e)throw new Error("No AccountContext found");return e}const ls={};function Ol(e){Pe(ls,e)}function At(){const e=Ce(ls);if(!e)throw new Error("No StackPagesContext found");return e}function Rl(e,t){Y(t,!0);const{navigate:n}=Ct(),{hasStackPage:r,pushStackPages:a,clearStackPages:o}=At();let s=j(void 0);const{getDB:l}=dr(),{createBroadcastChannel:c,tabId:u}=fr(),d=H(l),f=c(),g=async()=>{const y=await ha(i(d),Kn,"default");y&&(C(s,y,!0),o(),n("/"))},h=y=>un(i(d),Kn,"default",y),v=async()=>{const y=await ha(i(d),Kn,"default");y===void 0?a("start"):(r("start")&&(o(),n("/")),y?C(s,y,!0):C(s,null))},_=async y=>{const k=JSON.parse(y.data);if(k.tabId&&k.tabId===u)return;const D=k;D.type==="initLocalAccount"?(C(s,null),o(),n("/")):D.type==="initCloudAccount"?(g(),o(),n("/")):D.type==="disconnectCloudAccount"?C(s,null):D.type==="exit"?C(s,void 0):D.type==="updateAccount"&&g()};pe(()=>(v(),f.addEventListener(_),()=>{f.removeEventListener(_)})),Il({getAccount:()=>i(s),initLocalAccount:async()=>{C(s,null),await h(null),f.postMessage({type:"initLocalAccount"})},initCloudAccount:async y=>{const k={encryptedClientKey:y.encryptedClientKey||"",subscriptionExpires:y.subscriptionExpires||-1,lastSync:-1};await h(k),C(s,k,!0),f.postMessage({type:"initCloudAccount"})},disconnectCloudAccount:async()=>{C(s,null),await h(null),f.postMessage({type:"disconnectCloudAccount"})},updateSubscription:async y=>{if(!i(s))throw new Error("No account to update subscription for");const k={...i(s),subscriptionExpires:y};await h(k),f.postMessage({type:"updateAccount"})},exitApp:async()=>{C(s,void 0),f.postMessage({type:"exit"}),await fn(i(d),Kn)}});var P=F(),m=M(P);re(m,()=>t.children??le),w(e,P),K()}const cs={};function Fl(e){Pe(cs,e)}function Hl(){const e=Ce(cs);if(!e)throw new Error("No DraftsContext found");return e}function zl(e,t){Y(t,!0);const{getDB:n}=dr(),{createBroadcastChannel:r,tabId:a}=fr(),o=H(n),s=r();let l=j(void 0);const c=()=>{const P=i(l)?.();if(!P)throw new Error("Drafts state is not initialized");return{mapDrafts:P}},u=P=>{C(l,()=>P)},d=P=>{const m=new Map;P.forEach(y=>{m.set(y.id,y)}),C(l,()=>m)},f=async()=>{const P=await Br(i(o),Gn);d(P)},g=P=>{const{mapDrafts:m}=c();return m.get(P)},h=P=>{const{mapDrafts:m}=c();m.delete(P),u(m)},v=P=>{const{mapDrafts:m}=c();m.set(P.id,P),u(m)},_=async P=>{const m={...P};v(m),s.postMessage({type:"putDraft",data:{draft:m}}),await un(i(o),Gn,m.id,{...m.data})},p=async P=>{h(P),await Aa(i(o),Gn,P),s.postMessage({type:"deleteDraft",data:{id:P}})},b=()=>!!i(l)?.(),E=async P=>{const m=JSON.parse(P.data),y=m;if(m.tabId&&m.tabId===a){y.type==="exit"&&(u(new Map),fn(i(o),Gn));return}if(y.type==="putDraft"){const k=y.data.draft;v(k)}else if(y.type==="deleteDraft"){const k=y.data.id;h(k)}else y.type==="exit"&&u(new Map)};pe(()=>(f(),s.addEventListener(E),()=>{s.removeEventListener(E)})),Fl({getDraft:g,putDraft:_,deleteDraft:p,isReadyDrafts:b});var S=F(),T=M(S);re(T,()=>t.children??le),w(e,S),K()}const us={};function Ul(e){Pe(us,e)}function qr(){const e=Ce(us);if(!e)throw new Error("No NotesContext found");return e}const jl=()=>crypto.randomUUID(),ds={};function Vl(e){Pe(ds,e)}function La(){const e=Ce(ds);if(!e)throw new Error("No NotesBinContext found");return e}function ql(e,t){Y(t,!0);const{getDB:n}=dr(),{createBroadcastChannel:r,tabId:a}=fr(),o=H(n),s=r(),{deleteDraft:l}=Hl(),{addNoteInBin:c}=La();let u=j(()=>{}),d=j(()=>{});const f=()=>{const L=i(d)();if(!L)throw new Error("Notes state is not initialized");return{notes:L}},g=L=>{C(d,()=>L)},h=L=>{const x=new Map;for(const N of L||[])for(const I of N?.data.tags||[])x.set(I,{name:I,count:(x.get(I)?.count||0)+1});return x},v=async()=>{const L=await Br(i(o),Pt),x=h(L);await aa(i(o),xr,Object.values(x).map(N=>({id:N.name,data:{}}))),C(u,()=>x),g(L)},_=()=>i(d),p=L=>{const{notes:x}=f(),N={...L};x.push(N),g(x)},b=L=>{const{notes:x}=f();for(let N=0;N<x.length;N++)x[N]?.id===L.id&&x&&(x[N]=L);g(x)},E=L=>{const{notes:x}=f(),N=x.findIndex(I=>I?.id===L);N!==-1&&(x[N]=void 0),g(x)},S=()=>{g([]),C(u,()=>new Map)},T=async L=>{const x=i(u)?.();if(!x)return;const N=[];for(const I of L){const U=x.get(I);U?U.count++:(x.set(I,{name:I,count:1}),N.push(I))}N.length!==0&&(await aa(i(o),xr,N.map(I=>({id:I,data:{}}))),C(u,()=>x))},P=async L=>{const x=i(u)?.();if(!x)return;const N=[];for(const I of L){const U=x.get(I);U&&(U.count--,U.count<=0&&(x.delete(I),N.push(I)))}N.length!==0&&(await Ll(i(o),xr,[...N]),C(u,()=>x))},m=async L=>{const x={id:jl(),data:{...L,createdAt:Date.now(),updatedAt:Date.now()}};p(x),s.postMessage({type:"addNote",data:{note:x}}),await un(i(o),Pt,x.id,{...x.data}),L.tags.length&&await T(L.tags)},y=async(L,x)=>{const N={id:x.id,data:{...x.data,updatedAt:Date.now()}};s.postMessage({type:"updateNote",data:{note:{...N}}}),b(N),await un(i(o),Pt,N.id,{...N.data});const I=x.data.tags.filter(z=>!L.data.tags.includes(z)),U=L.data.tags.filter(z=>!x.data.tags.includes(z));U.length&&await P([...U]),I.length&&await T([...I])},k=(L,x)=>{const{notes:N}=f(),I=N.find(z=>z?.id===L);if(!I)return;const U={...I,deleting:x};s.postMessage({type:"updateNote",data:{note:U}}),b(U)},D=async(L,x)=>{const{notes:N}=f(),I=N.find(z=>z?.id===L);if(!I)return;const U={id:L,data:{...I.data,pinned:x}};s.postMessage({type:"updateNote",data:{note:U}}),b(U),await un(i(o),Pt,U.id,{...U.data})},O=async L=>{const{notes:x}=f(),N=x.find(I=>I?.id===L);N&&(N&&await l(N.id),s.postMessage({type:"deleteNote",data:{id:L}}),E(L),await c(N),await Aa(i(o),Pt,L),N.data.tags.length&&await P(N.data.tags))},R=async()=>{s.postMessage({type:"clearNotes"}),S(),await fn(i(o),Pt)},X=async L=>{const{notes:x}=f(),N={};L.forEach(I=>{const U=x.find(z=>z?.id===I.id);U?U&&U.data.updatedAt<I.data.updatedAt&&(N[I.id]=I):N[I.id]=I}),await aa(i(o),Pt,Object.values(N)),s.postMessage({type:"reloadNotes"}),v()},ae=L=>{const{notes:x}=f();return x.find(N=>N?.id===L)},ce=()=>!!i(d)(),oe=async L=>{const x=JSON.parse(L.data),N=x;if(x.tabId&&x.tabId===a){N.type==="exit"&&(g([]),await fn(i(o),Pt));return}if(N.type==="addNote"){const I=N.data.note;p(I)}else if(N.type==="updateNote"){const I=N.data.note;b(I)}else if(N.type==="deleteNote"){const I=N.data.id;E(I)}else N.type==="clearNotes"?S():N.type==="reloadNotes"?v():N.type==="exit"&&g([])};pe(()=>(v(),s.addEventListener(oe),()=>{s.removeEventListener(oe)})),Ul({addNote:m,updateNote:y,deleteNote:O,pinNote:D,setDeleting:k,getGetNotes:_,importNotes:X,clearNotes:R,getNoteById:ae,isReadyNotes:ce,getGetMapTags:()=>i(u)});var se=F(),Se=M(se);re(Se,()=>t.children??le),w(e,se),K()}function Wl(e,t){Y(t,!0);const n=720*60*60*1e3,{getDB:r}=dr(),{createBroadcastChannel:a,tabId:o}=fr(),s=H(r),l=a();let c=j(()=>{}),u=j(()=>{});const d=()=>{const k=i(c)?.(),D=i(u)?.();if(!k||!D)throw new Error("NotesBin state is not initialized");return{notesBin:k,mapNotesBin:D}},f=(k,D)=>{C(c,()=>k),C(u,()=>D)},g=k=>{const D=[],O=new Map;k.forEach(R=>{D.push(R),O.set(R.id,R)}),f(D,O)},h=async()=>{const D=(await Br(i(s),Qt)).filter(O=>O.data.deletedAt&&Date.now()-O.data.deletedAt<n?!0:(Aa(i(s),Qt,O.id),!1));g(D)},v=k=>{const{notesBin:D,mapNotesBin:O}=d(),R={...k};D.push(R),O.set(R.id,R),f(D,O)},_=k=>{const{notesBin:D,mapNotesBin:O}=d();for(let R=0;R<D.length;R++)D[R]?.id===k.id&&D&&(D[R]=k);O.set(k.id,k),f(D,O)},p=k=>{const{mapNotesBin:D,notesBin:O}=d();D.delete(k);const R=O.findIndex(X=>X?.id===k);R!==-1&&(O[R]=void 0),f(O,D)},b=()=>{g([])},E=async k=>{const D={id:k.id,data:{...k.data,deletedAt:Date.now()}};v(D),l.postMessage({type:"deleteNoteFromBin",data:{id:D.id}}),await un(i(s),Qt,D.id,{...D.data})},S=()=>(i(c)()?.length||0)>0,T=async()=>{b(),await fn(i(s),Qt),l.postMessage({type:"emptyBin"})},P=async k=>{const D=JSON.parse(k.data),O=D;if(D.tabId&&D.tabId===o){O.type==="exit"&&(f([],new Map),fn(i(s),Qt));return}if(O.type==="addNoteInBin"){const R=O.data.note;v(R)}else if(O.type==="updateNoteBin"){const R=O.data.note;_(R)}else if(O.type==="deleteNoteFromBin"){const R=O.data.id;p(R)}else if(O.type==="emptyBin")b();else if(O.type==="reloadNotesBin"){const R=await Br(i(s),Qt);g(R)}else O.type==="exit"&&f([],new Map)};pe(()=>(h(),l.addEventListener(P),()=>{l.removeEventListener(P)})),Vl({addNoteInBin:E,checkNotesInBin:S,emptyBin:T});var m=F(),y=M(m);re(y,()=>t.children??le),w(e,m),K()}const fs={},$l=()=>({working:!1,swipingRatio:1,isSwiping:!1,duration:.35});function Yl(e){Pe(fs,e)}function Vn(){const e=Ce(fs);if(!e)throw new Error("No AnimationSettingsContext found");return e}function Kl(e,t){Y(t,!0);let n=Ae($l());Yl(n);var r=F(),a=M(r);re(a,()=>t.children??le),w(e,r),K()}const vs={};function Gl(e){Pe(vs,e)}function hs(){const e=Ce(vs);if(!e)throw new Error("No ScrollingContext found");return e}function Xl(e,t){Y(t,!0);let n=j(!1);const r=()=>i(n),a=rs(()=>{C(n,!1)},100);Gl({isScrolling:r,enable:()=>{C(n,!0),a()}});var s=F(),l=M(s);re(l,()=>t.children??le),w(e,s),K()}const gs={};function Zl(e){Pe(gs,e)}function qn(){const e=Ce(gs);if(!e)throw new Error("No MobileSizeContext found");return e}function Jl(e,t){Y(t,!0);const n=()=>window.matchMedia("(max-width: 767px)").matches;let r=j(Ae(n())),a=Vn();const o=rs(()=>{a.working=!0},16),s=()=>{a.working=!1,o(),requestAnimationFrame(()=>{C(r,n(),!0)})};Zl({checkMobileSize:()=>i(r)}),pe(()=>(window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)));var c=F(),u=M(c);re(u,()=>t.children??le),w(e,c),K()}const _s={};function Ql(e){Pe(_s,e)}function vr(){const e=Ce(_s);if(!e)throw new Error("No DialogContext found");return e}function ec(e,t){Y(t,!0);let n=j(0),r=j(!1),a=j(!1);Ql({checkExistedDialog:()=>i(n)>0,showDialog:()=>{C(n,i(n)+1)},hideDialog:()=>{C(n,i(n)-1)},blockDialog:v=>{C(r,v,!0),v||C(a,!1)},checkBlockedDialog:()=>i(r),unBlockBackDialog:v=>{C(a,v,!0)},checkUnBlockedBackDialog:()=>i(a)});var g=F(),h=M(g);re(h,()=>t.children??le),w(e,g),K()}const ps={};function tc(e){Pe(ps,e)}function Ma(){const e=Ce(ps);if(!e)throw new Error("No ScrollContainerContext found");return e}function nc(e,t){Y(t,!0);let n=j(null);tc({setScrollContainer:l=>{C(n,l,!0)},getScrollContainer:()=>i(n)});var o=F(),s=M(o);re(s,()=>t.children??le),w(e,o),K()}const ms={};function rc(e){Pe(ms,e)}function Ia(){const e=Ce(ms);if(!e)throw new Error("No DialogPageHeightContext found");return e}function ac(e,t){Y(t,!0);let n=j(200);rc({setDialogPageHeight:l=>{C(n,l,!0)},getDialogPageHeight:()=>i(n)});var o=F(),s=M(o);re(s,()=>t.children??le),w(e,o),K()}const oc=[Kn,Pr,Pt,Gn,Qt,xr,Bl];function sc(){return new Promise((e,t)=>{const n=indexedDB.open(Tl,Al);Le(n,"upgradeneeded",()=>{const r=n.result;for(const a of oc)r.objectStoreNames.contains(a)||r.createObjectStore(a,{keyPath:"id"})}),Le(n,Kt,()=>{const r=n.result;e(r),r.onversionchange=function(){r?.close(),alert("app outdated, please reload the page")}}),Le(n,"blocked",()=>{t(),alert("app outdated, please reload the page")}),Le(n,Gt,()=>{t()})})}function ic(e,t){Y(t,!0);let n=j(null);pe(()=>{sc().then(l=>{C(n,l,!0)})}),Pl({getDB:()=>i(n)});var a=F(),o=M(a);{var s=l=>{var c=F(),u=M(c);re(u,()=>t.children??le),w(l,c)};q(o,l=>{i(n)&&l(s)})}w(e,a),K()}function lc(e,t){Y(t,!0);const{getAppHistory:n,navigate:r}=Ct(),a=()=>new URLSearchParams(n().search).get("stackPages")?.split(",")||[];let o=j(Ae(a()));const s=p=>{const b=a();if(!b.includes(p)){b.push(p);const E=new URLSearchParams(n().search);E.set("stackPages",b.join(",")),C(o,b,!0),r(`${n().pathname}?${E.toString()}`)}};Ol({pushStackPages:s,hasStackPage:p=>a().includes(p),updateStackPages:()=>{C(o,a(),!0)},popStackPages:()=>{const p=i(o).slice(0,-1);C(o,p,!0)},getStackPages:()=>{const p=a();return p.length>=i(o).length?p.reduce((b,E)=>[...b,{page:E,shown:!0}],[]):i(o).reduce((b,E,S)=>[...b,{page:E,shown:p.length===0?!1:S!==i(o).length-1}],[])},clearStackPages:()=>{C(o,[],!0)},getPageUrl:(p,b)=>{if(b?.full)return`/${p}`;const E=a();E.includes(p)||E.push(p);const S=new URLSearchParams(n().search);return S.set("stackPages",E.join(",")),`${n().pathname}?${S}`},createHandlePage:(p,b)=>E=>{if(E.preventDefault(),b?.full){r(p);return}s(p)},getStackPagesFormUrl:a});var v=F(),_=M(v);re(_,()=>t.children??le),w(e,v),K()}function cc(e,t){Y(t,!0);const n=h=>h.startsWith("/")?h:`/${h}`,r=Ae({historyStack:[],pathname:n(window.location.pathname),search:window.location.search,historyLength:0}),a=()=>{r.pathname=n(document.location.pathname),r.search=document.location.search,r.historyLength=Math.max(0,r.historyLength-=1)},o=h=>{const[v,_]=h.split("?");r.pathname=n(v),r.search=_?`?${_}`:"",r.historyLength+=1,r.historyStack.push(`${window.location.pathname}${window.location.search}`),window.history.replaceState(null,"",h)},s=h=>{const[v,_]=h.split("?");r.pathname=n(v),r.search=_?`?${_}`:"",window.history.replaceState(null,"",h)};hl({getAppHistory:()=>r,navigate:o,replace:s,addSearchParam:(h,v)=>{const _=new URLSearchParams(r.search);_.append(h,v),s(`${r.pathname}${_.size>0?`?${_.toString()}`:""}`)},deleteSearchParam:h=>{const v=new URLSearchParams(r.search);v.delete(h),r.historyStack=r.historyStack.map(_=>{const p=new URLSearchParams(_.split("?")[1]);return p.delete(h),`${_.split("?")[0]}${v.size>0?`?${p.toString()}`:""}`}),s(`${r.pathname}${v.size>0?`?${v.toString()}`:""}`)},back:h=>{const{fallback:v="/",to:_}=h||{},[p,b]=v.split("?");if(r.historyLength<=0){const E=window.location.pathname,S=window.location.search;if(!S.includes("stackPages"))window.history.replaceState(null,"",v),r.historyLength=0,r.pathname=n(p),r.search=b?`?${b}`:"";else{const T=new URLSearchParams(S),P=T.get("stackPages")?.split(",")||[],m=P.slice(0,_&&P.includes(_)?P.indexOf(_)+1:-1);m.length===0?T.delete("stackPages"):T.set("stackPages",m.join(","));const y=`${E}${T.toString()?`?${T.toString()}`:""}`;window.history.replaceState(null,"",y),r.search=T.toString()?`?${T.toString()}`:""}}else if(r.historyStack.length>0){const S=new URLSearchParams(r.search).get("stackPages")?.split(",")||[];_&&S.includes(_)&&(r.historyStack=r.historyStack.slice(0,-(S.length-(S.indexOf(_)+1))+1),r.historyLength=r.historyStack.length);const T=r.historyStack.pop();if(T){const[P,m]=T.split("?");window.history.replaceState(null,"",T),r.historyLength=Math.max(0,r.historyLength-=1),r.pathname=n(P),r.search=m?`?${m}`:""}}},closeDialogStack:()=>{const h=r.historyStack.findIndex(_=>_.includes("stackPages")),v=h===-1?r.historyStack.slice(0):r.historyStack.slice(0,h);if(v.length>0){const _=v.pop();if(_){const[p,b]=_.split("?");window.history.replaceState(null,"",_),r.historyLength=Math.max(0,v.length),r.pathname=n(p),r.search=b?`?${b}`:"",r.historyStack=v}}else{const _=r.search,p=new URLSearchParams(_);p.delete("stackPages"),window.history.replaceState(null,"",p.toString()?"/?"+p.toString():"/"),r.historyLength=0,r.pathname="/",r.search=p.toString()?"?"+p.toString():"",r.historyStack=[]}}}),pe(()=>(window.addEventListener("popstate",a),()=>{window.removeEventListener("popstate",a)}));var f=F(),g=M(f);re(g,()=>t.children??le),w(e,f),K()}const ws={};function uc(e){Pe(ws,e)}function dc(){const e=Ce(ws);if(!e)throw new Error("No KeyboardVisibleContext found");return e}function fc(e,t){Y(t,!0);let n=Ae({value:!1});const r=()=>n.value;pe(()=>{const s=()=>{setTimeout(()=>{document.activeElement instanceof HTMLInputElement&&document.activeElement.type==="text"||document.activeElement instanceof HTMLTextAreaElement?n.value=!0:n.value=!1},0)};return s(),document.addEventListener("focusin",s),document.addEventListener("focusout",s),()=>{document.removeEventListener("focusin",s),document.removeEventListener("focusout",s)}}),uc({getIsKeyboardVisible:r});var a=F(),o=M(a);re(o,()=>t.children??le),w(e,a),K()}function vc(e,t){Y(t,!0);const n=crypto.randomUUID(),r=(s,l)=>{s.postMessage(JSON.stringify({...l,tabId:n}))};Nl({tabId:n,createBroadcastChannel:()=>{const s=new BroadcastChannel("app");return{postMessage:l=>r(s,l),addEventListener:l=>{s.addEventListener("message",l)},removeEventListener:l=>{s.removeEventListener("message",l)}}}});var a=F(),o=M(a);re(o,()=>t.children??le),w(e,a),K()}function hc(e,t){Kl(e,{children:(n,r)=>{Xl(n,{children:(a,o)=>{Jl(a,{children:(s,l)=>{ec(s,{children:(c,u)=>{nc(c,{children:(d,f)=>{ac(d,{children:(g,h)=>{fc(g,{children:(v,_)=>{cc(v,{children:(p,b)=>{lc(p,{children:(E,S)=>{ic(E,{children:(T,P)=>{vc(T,{children:(m,y)=>{var k=F(),D=M(k);re(D,()=>t.children??le),w(m,k)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})}function gc(e,t){hc(e,{children:(n,r)=>{pl(n,{children:(a,o)=>{gl(a,{children:(s,l)=>{wl(s,{children:(c,u)=>{Sl(c,{children:(d,f)=>{Cl(d,{children:(g,h)=>{Ml(g,{children:(v,_)=>{Rl(v,{children:(p,b)=>{Wl(p,{children:(E,S)=>{zl(E,{children:(T,P)=>{ql(T,{children:(m,y)=>{var k=F(),D=M(k);re(D,()=>t.children??le),w(m,k)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})}})}let Ot=j(""),Jt=j(null),Xn=j(null),Zn=j(null);function Wr(e,t){C(Ot,""),setTimeout(()=>{C(Ot,e,!0),t?.onFinish&&C(Xn,t.onFinish,!0),t?.onCancel&&C(Zn,t.onCancel,!0)},16)}const _c=(e,t,n,r,a)=>{e.preventDefault(),i(t)&&(C(n,null),i(t)(),C(t,null)),C(r,""),i(a)?.style.removeProperty("opacity")};var pc=$('<button type="button" class="undoButton svelte-1vxmgq5">undo</button>'),mc=$('<div class="notification svelte-1vxmgq5"><span> </span> <!></div>'),wc=$("<div><!></div>");function yc(e,t){Y(t,!0),Ne(()=>{i(Ot);const o=i(Zn)?2e3:800;i(Ot)&&(i(Jt)?.getBoundingClientRect(),i(Jt)?.style.setProperty("opacity","1"));const s=setTimeout(()=>{i(Jt)?.style.removeProperty("opacity")},o),l=setTimeout(()=>{C(Ot,""),i(Xn)&&i(Xn)(),C(Xn,null),C(Zn,null),i(Jt)?.style.removeProperty("opacity")},o+400);return()=>{clearTimeout(s),clearTimeout(l)}});var n=wc(),r=B(n);{var a=o=>{var s=mc(),l=B(s),c=B(l),u=W(l,2);{var d=f=>{var g=pc();g.__click=[_c,Zn,Xn,Ot,Jt],w(f,g)};q(u,f=>{i(Zn)&&f(d)})}pt(s,f=>C(Jt,f),()=>i(Jt)),de(()=>nr(c,i(Ot))),w(o,s)};q(r,o=>{i(Ot)&&o(a)})}w(e,n),K()}tt(["click"]);var Sc=$('<span class="vh svelte-1s25udk"><!></span>');function Je(e,t){var n=Sc(),r=B(n);re(r,()=>t.children),w(e,n)}var bc=Zi('<svg class="svelte-18et5h9"><use></use></svg>');function ke(e,t){let n=ue(t,"name",8,"");var r=bc(),a=B(r);de(()=>Ee(a,"href",`#icon-${n()??""}`)),w(e,r)}const kc=(e,t,n,r)=>{const a=t().type;a==="closed"?n():a==="opened"&&r()};var Ec=$('<button class="buttonMenu svelte-bpktnw"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>');function ys(e,t){Y(t,!1);const{sidebarOpen:n,getSidebarState:r,sidebarClose:a}=es();Ta();var o=Ec();o.__click=[kc,r,n,a];var s=B(o);ye(s,()=>({"--size":"36px"})),ke(s.lastChild,{name:"sidebarMenu"});var l=W(s,2);Je(l,{children:(c,u)=>{var d=Be("Menu");w(c,d)}}),w(e,o),K()}tt(["click"]);var Cc=(e,t)=>t.onChange?.(e.target?.value||""),Pc=$('<input class="svelte-15lr19w"/>');function ga(e,t){Y(t,!0);let n=ue(t,"value",15,"");var r=Pc();r.__input=[Cc,t],de(()=>Ee(r,"placeholder",t.placeholder)),Da("focus",r,function(...a){t.onFocus?.apply(this,a)}),cl(r,n),w(e,r),K()}tt(["input"]);function Ss(e,t){Y(t,!0),pe(()=>{const n=r=>{r.target&&t.dialog?.open&&t.dialogInner&&t.dialogInner!==r.target&&!t.dialogInner.contains(r.target)&&t.onClose()};return document.addEventListener("mousedown",n,{capture:!0}),()=>{document.removeEventListener("mousedown",n,{capture:!0})}}),K()}var xc=$('<dialog><div class="dialogInner svelte-1x410nl"><!></div></dialog> <!>',1);function bs(e,t){Y(t,!0);let n=j(null),r=j(null),a=j(!1),{showDialog:o,hideDialog:s}=vr();const l=()=>{const v=setTimeout(()=>{t.onClosed()},150);i(n)?.addEventListener("transitionend",()=>{clearTimeout(v),t.onClosed()},{once:!0}),C(a,!1)};Ne(()=>{t.startClose&&l()}),pe(()=>{i(n)?.showModal(),i(n)?.getClientRects(),C(a,!0)}),pe(()=>(o(),()=>{s()}));var c=xc(),u=M(c),d=B(u),f=B(d);re(f,()=>t.children),pt(d,v=>C(r,v),()=>i(r)),pt(u,v=>C(n,v),()=>i(n));var g=W(u,2);{var h=v=>{Ss(v,{get dialog(){return i(n)},get dialogInner(){return i(r)},onClose:l})};q(g,v=>{i(n)&&i(r)&&v(h)})}de(()=>he(u,1,ve(["dialog",{shown:i(a)}]),"svelte-1x410nl")),w(e,c),K()}var Dc=$("<div><!></div>");function ks(e,t){Y(t,!0);let n=j(!1),r=j(null);const a=()=>{const u=setTimeout(()=>{t.onClosed()},150);i(r)?.addEventListener("transitionend",()=>{clearTimeout(u),t.onClosed()},{once:!0}),C(n,!1)},o=u=>{u.target!==i(r)&&!i(r)?.contains(u.target)&&a()},s=u=>{u.target!==i(r)&&!i(r)?.contains(u.target)&&a()};pe(()=>{i(r)?.getClientRects(),C(n,!0);const u=setTimeout(()=>{document.addEventListener("focusin",o),document.addEventListener("click",s)},0);return()=>{clearTimeout(u),document.removeEventListener("focusin",o),document.removeEventListener("click",s)}}),Ne(()=>{t.startClose&&a()});var l=Dc(),c=B(l);re(c,()=>t.children),pt(l,u=>C(r,u),()=>i(r)),de(()=>he(l,1,ve(["menu",{top:t.positionTop,shown:i(n)}]),"svelte-ujw4xi")),w(e,l),K()}const Nc=(e,t)=>{i(t)||C(t,!0)};var Tc=(e,t)=>t("newest"),Ac=(e,t)=>t("oldest"),Bc=(e,t)=>t("AtoZ"),Lc=(e,t)=>t("ZtoA"),Mc=$("<div><button>Newest</button> <button>Oldest</button> <button>A to Z</button> <button>Z to A</button></div>"),Ic=$('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),Oc=$('<div class="orderMenu svelte-14zj87s"><button><!> <!></button> <!></div>');function Rc(e,t){Y(t,!0);const n=(E,S=le)=>{var T=Mc(),P=B(T);P.__click=[Tc,d];var m=W(P,2);m.__click=[Ac,d];var y=W(m,2);y.__click=[Bc,d];var k=W(y,2);k.__click=[Lc,d],de(()=>{he(T,1,ve(["menu",{menuDialog:S()}]),"svelte-14zj87s"),he(P,1,ve(["menuButton",{menuButtonDialog:S(),current:i(u)==="newest"}]),"svelte-14zj87s"),he(m,1,ve(["menuButton",{menuButtonDialog:S(),current:i(u)==="oldest"}]),"svelte-14zj87s"),he(y,1,ve(["menuButton",{menuButtonDialog:S(),current:i(u)==="AtoZ"}]),"svelte-14zj87s"),he(k,1,ve(["menuButton",{menuButtonDialog:S(),current:i(u)==="ZtoA"}]),"svelte-14zj87s")}),w(E,T)};let r=j(!1),a=j(!1);const{checkMobileSize:o}=qn(),{getFeedOrder:s,setFeedOrder:l}=Jo();let c=H(o),u=H(s);const d=E=>{C(a,!0),l(E)},f=()=>{C(r,!1),C(a,!1)};var g=Oc(),h=B(g);h.__click=[Nc,r],he(h,1,ve(["button","buttonMenu"]),"svelte-14zj87s");var v=B(h);ke(v,{name:"filter"});var _=W(v,2);Je(_,{children:(E,S)=>{var T=Be("show feed order menu");w(E,T)}});var p=W(h,2);{var b=E=>{var S=F(),T=M(S);{var P=y=>{bs(y,{get startClose(){return i(a)},onClosed:f,children:(k,D)=>{n(k,()=>!0)},$$slots:{default:!0}})},m=y=>{var k=Ic(),D=M(k);ye(D,()=>({"--right":"20px","--top":"60px"})),ks(D.lastChild,{get startClose(){return i(a)},onClosed:f,children:(O,R)=>{n(O,()=>!1)},$$slots:{default:!0}}),w(y,k)};q(T,y=>{i(c)?y(P):y(m,!1)})}w(E,S)};q(p,E=>{i(r)&&E(b)})}w(e,g),K()}tt(["click"]);var V=(e=>(e.NewNote="newNote",e.EditNote="editNote",e.Settings="settings",e.ImportData="importData",e.ExportData="exportData",e.ClearStore="clearStore",e.Account="account",e.Sync="sync",e.Start="start",e.Auth="auth",e.Signin="signin",e.Signup="signup",e.AccessKeys="accessKeys",e.ConfirmAccessKey="confirmAccessKey",e.Subscription="subscription",e.Exit="exit",e.NotFound="notFound",e.About="about",e.Bin="bin",e))(V||{}),Fc=$('<a class="link svelte-13t3afu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Notes</span></a>'),Hc=$('<a class="link svelte-13t3afu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Bin</span></a>'),zc=$('<button class="emptyBinButton svelte-13t3afu" type="button">Empty bin</button>'),Uc=$('<a class="buttonAdd svelte-13t3afu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Note</span></a>'),jc=$('<div class="header svelte-13t3afu"><div class="top svelte-13t3afu"><div class="menu svelte-13t3afu"><a class="link svelte-13t3afu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Settings</span></a> <a class="link svelte-13t3afu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Sync</span></a> <!></div> <div class="mobile svelte-13t3afu"><!></div> <!></div> <div class="bottom svelte-13t3afu"><div><div class="sidebarSearchWrapper"><!></div></div> <div class="right svelte-13t3afu"><div class="filter svelte-13t3afu"><div class="feedSearchWrapper svelte-13t3afu"><!></div> <!></div></div></div></div>');function Vc(e,t){Y(t,!0);const{createHandlePage:n,getPageUrl:r}=At(),a=Yo(),o=Xo(),{getScrollContainer:s}=Ma();let l=H(s);const{emptyBin:c,checkNotesInBin:u}=La(),{getAppHistory:d}=Ct(),f=H(()=>d().pathname),g=()=>{i(l)&&i(l).scrollTo({top:0,behavior:"smooth"})};var h=jc(),v=B(h),_=B(v),p=B(_),b=H(()=>n(V.Settings));p.__click=function(...z){i(b)?.apply(this,z)};var E=B(p);ye(E,()=>({"--rotate":"30deg","--size":"20px"})),ke(E.lastChild,{name:"settings"});var S=W(p,2),T=H(()=>n(V.Sync));S.__click=function(...z){i(T)?.apply(this,z)};var P=B(S);ye(P,()=>({"--size":"20px"})),ke(P.lastChild,{name:"sync"});var m=W(S,2);{var y=z=>{var Z=Fc(),J=H(()=>n("/",{full:!0}));Z.__click=function(...te){i(J)?.apply(this,te)};var Q=B(Z);ye(Q,()=>({"--size":"18px"})),ke(Q.lastChild,{name:"note"}),de(te=>Ee(Z,"href",te),[()=>r("/",{full:!0})]),w(z,Z)},k=z=>{var Z=F(),J=M(Z);{var Q=te=>{var me=Hc(),Oe=H(()=>n(V.Bin,{full:!0}));me.__click=function(...rt){i(Oe)?.apply(this,rt)};var nt=B(me);ye(nt,()=>({"--size":"20px"})),ke(nt.lastChild,{name:"bin"}),de(rt=>Ee(me,"href",rt),[()=>r(V.Bin,{full:!0})]),w(te,me)};q(J,te=>{u()&&te(Q)},!0)}w(z,Z)};q(m,z=>{i(f)===`/${V.Bin}`?z(y):z(k,!1)})}var D=W(_,2),O=B(D);ys(O,{});var R=W(D,2);{var X=z=>{var Z=F(),J=M(Z);{var Q=te=>{var me=zc();me.__click=c,w(te,me)};q(J,te=>{u()&&te(Q)})}w(z,Z)},ae=z=>{var Z=Uc(),J=H(()=>n(V.NewNote));Z.__click=function(...te){i(J)?.apply(this,te)};var Q=B(Z);ye(Q,()=>({"--size":"16px","--color":"#b0b0b0"})),ke(Q.lastChild,{name:"plus"}),de(te=>Ee(Z,"href",te),[()=>r(V.NewNote)]),w(z,Z)};q(R,z=>{i(f)===`/${V.Bin}`?z(X):z(ae,!1)})}var ce=W(v,2),oe=B(ce);he(oe,1,ve(["left"]),"svelte-13t3afu");var se=B(oe),Se=B(se);ga(Se,{placeholder:"Search tag",get value(){return o.value},set value(z){o.value=z}});var L=W(oe,2),x=B(L),N=B(x),I=B(N);ga(I,{onFocus:g,placeholder:"Search",get value(){return a.value},set value(z){a.value=z}});var U=W(N,2);Rc(U,{}),de((z,Z)=>{Ee(p,"href",z),Ee(S,"href",Z)},[()=>r(V.Settings),()=>r(V.Sync)]),w(e,h),K()}tt(["click"]);function qc(e,t){Y(t,!0);const{getIsKeyboardVisible:n}=dc();let r=ue(t,"dialog",7);const a=H(n),o=Vn();let s=null;const l=()=>{t.dialogState==="swiping"&&t.onClose()};Ne(()=>(t.dialogState==="swiping"&&(s=setTimeout(l,3e3)),()=>{s&&(clearTimeout(s),s=null)}));let c=null,u=null;const d=3,f=50,g=5,h=.6,v=.3,_=.35,p=.95;let b=0,E=0,S=0,T=!1,P=!1,m=0,y=0,k=0;const D=()=>{b=0,E=0,T=!1,P=!1,m=0,y=0,k=0,S=0,c=null,u!==null&&(cancelAnimationFrame(u),u=null),s&&(clearTimeout(s),s=null)},O=x=>{r()&&t.dialogState==="opened"&&(b=x.touches[0].clientX,E=x.touches[0].clientY,S=performance.now(),T=!0,P=!1)},R=x=>t.dialogState==="opened"&&x>0||t.dialogState==="swiping"&&x>0,X=()=>{if(r()){r().style.setProperty("--transition-timing","0s"),t.onSwipe(),navigator.vibrate&&navigator.vibrate(10);try{const x=window.getComputedStyle(r()),N=x.transform||x.webkitTransform||"";if(y=r().offsetWidth,(t.dialogState==="swiping"||t.dialogState==="opened")&&(m=0),N&&N!=="none")try{m=new DOMMatrix(N).m41}catch{}P=!0}catch{D()}}},ae=()=>{if(!r())return;const N=Math.abs(m+k*y/100)/y;r().style.setProperty("--backdrop-bg",`rgba(0, 0, 0, ${.1*(1-N)})`)},ce=()=>{if(u=null,!c||!T||!r()||i(a)){D();return}const x=c.touches[0].clientX,N=c.touches[0].clientY,I=x-b,U=N-E,z=Math.abs(I)>Math.abs(U),Z=Math.abs(I)>d;if(!P)if(z&&Z&&R(I))try{X()}catch{D();return}else return;if(!R(I))return;r().style.setProperty("--transition-timing","0s");let J=m+I*p;J=Math.max(0,Math.min(y,J)),r().style.transform=`translate3d(${J}px, 0, 0)`,o.swipingRatio=Math.abs(1-J/y),k=(J-m)/y*100,t.dialogState==="swiping"&&(s&&clearTimeout(s),s=setTimeout(l,3e3)),ae()},oe=x=>{if(!T)return;c=x,u===null&&(u=requestAnimationFrame(ce));const N=x.touches[0].clientX-b,I=x.touches[0].clientY-E,U=Math.abs(N)>Math.abs(I);P&&U&&x.preventDefault()},se=x=>{const N=Math.abs(x);if(N>=h)return g;if(N>=v){const I=(N-v)/(h-v);return f-I*(f-g)}else return f},Se=(x,N)=>{if(Math.abs(x)>=h)return _*.5;const U=Math.abs(k)/100;return N?_*Math.max(.5,1-U):_*Math.max(.5,U)},L=x=>{if(u!==null&&(cancelAnimationFrame(u),u=null),!T||!r()){D();return}if(!P){D();return}let N=0;if(x?.changedTouches?.[0]){const J=x.changedTouches[0].clientX,te=performance.now()-S;te>0&&(N=(J-b)/te)}const I=se(N);let U=null;t.dialogState==="swiping"&&(U=Math.abs(k)>I||N<-v?"close":"open");const z=t.dialogState==="swiping"&&U==="close",Z=Se(N,z);o.duration=Z-.02,r().style.setProperty("--transition-timing",`${Z}s`),r().offsetWidth,r().style.transform="",U==="open"?t.onOpen():U==="close"&&t.onClose(),r()?.style.removeProperty("--backdrop-bg"),D()};pe(()=>(r().addEventListener("touchstart",O,{passive:!0}),r().addEventListener("touchmove",oe,{passive:!1}),r().addEventListener("touchend",L,{passive:!0}),r().addEventListener("touchcancel",L,{passive:!0}),()=>{r().removeEventListener("touchstart",O),r().removeEventListener("touchmove",oe),r().removeEventListener("touchend",L),r().removeEventListener("touchcancel",L),u!==null&&cancelAnimationFrame(u)})),K()}var Wc=(e,t)=>{t.onStartClose()},$c=$('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),Yc=$('<dialog><div class="dialogInner svelte-vr2o0t"><div class="header svelte-vr2o0t"><div><!></div></div> <!></div></dialog> <!>',1);function Kc(e,t){Y(t,!0);let n=350;const{isScrolling:r,enable:a}=hs();let o=j(null),s=j(null);const l=Vn(),c=m=>{m.preventDefault(),t.onStartClose()};pe(()=>(i(o)?.addEventListener("close",t.onClosed),i(o)?.addEventListener("cancel",c),()=>{i(o)?.removeEventListener("close",t.onClosed),i(o)?.removeEventListener("cancel",c)}));const u=()=>{i(o)?.style.removeProperty("--transition-timing"),i(o)?.style.removeProperty("transform"),i(o)?.style.removeProperty("--backdrop-bg")},d=()=>{a()},f=H(r);Ne(()=>{if(t.dialogState,!!i(o))switch(t.dialogState){case"opening":{i(o).open||i(o).showModal(),i(o).getBoundingClientRect();const m=setTimeout(()=>{u()},n+1),y=()=>{clearTimeout(m),u()};return i(o)?.addEventListener("transitionend",y,{once:!0}),t.onOpened(),()=>{i(o)?.removeEventListener("transitionend",y)}}case"closing":{const m=setTimeout(()=>{t.dialogState==="closing"&&t.onClosed()},n+1),y=()=>{clearTimeout(m),t.onClosed()};return i(o)?.addEventListener("transitionend",y,{once:!0}),()=>{i(o)?.removeEventListener("transitionend",y)}}case"opened":u()}});var g=Yc(),h=M(g),v=B(h),_=B(v),p=B(_),b=B(p);{var E=m=>{var y=$c();he(y,1,ve(["navigateButton","buttonBack"]),"svelte-vr2o0t"),y.__click=[Wc,t];var k=B(y);ye(k,()=>({"--size":"36px"})),ke(k.lastChild,{name:"back"});var D=W(k,2);Je(D,{children:(O,R)=>{var X=Be("back");w(O,X)}}),w(m,y)};q(b,m=>{(!(t.blocked||t.hidden)||t.blocked&&t.unBlockedBack)&&m(E)})}var S=W(_,2);re(S,()=>t.children),pt(v,m=>C(s,m),()=>i(s)),pt(h,m=>C(o,m),()=>i(o));var T=W(h,2);{var P=m=>{qc(m,{get onClose(){return t.onStartClose},get onOpen(){return t.onStartOpen},get onSwipe(){return t.onSwipe},get dialogState(){return t.dialogState},get dialog(){return i(o)}})};q(T,m=>{(!i(f)&&t.dialogState==="opened"||t.dialogState==="swiping")&&(!t.blocked||t.unBlockedBack)&&m(P)})}de(()=>he(h,1,ve([{open:t.dialogState==="opened",hidden:t.hidden,isAnimationOn:l.working&&(!l.isSwiping||!t.hidden)},{hidden:t.hidden}]),"svelte-vr2o0t")),Da("scroll",v,d),w(e,g),K()}tt(["click"]);const Ja=(e,t)=>{if(!t)return e;if(t.type==="closed")return{type:"closed"};switch(e.type){case"opened":return t.type==="close"?{type:"closing"}:t.type==="swipe"?{type:"swiping"}:e;case"closed":return t.type==="open"?{type:"opening"}:e;case"swiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"opening":return t.type==="opened"?{type:"opened"}:e;default:return e}};function Gc(e,t){Y(t,!0);let n=ue(t,"blocked",3,!1),r=ue(t,"hiddenDialog",3,!1),a=ue(t,"unBlockedBack",3,!1),o=ue(t,"onStartClose",3,()=>{}),s=ue(t,"onClose",3,()=>{});const l=Vn();let c=j(Ae(Ja({type:"closed"})));const u=S=>{C(c,Ja(i(c),S),!0)},d=()=>{n()&&!a()||(o()(),u({type:"close"}))},f=()=>{u({type:"open"})},g=()=>{u({type:"opened"}),l.duration=.2},h=()=>{s()(),u({type:"closed"}),l.swipingRatio=1,l.duration=.2},v=()=>{u({type:"swipe"})};Ne(()=>{i(c).type==="swiping"?l.isSwiping=!0:l.isSwiping=!1,i(c).type==="closed"&&t.shownDialog?f():i(c).type==="opened"&&!t.shownDialog&&d()});var _={handleComputeState:u},p=F(),b=M(p);{var E=S=>{Kc(S,{onSwipe:v,onOpened:g,onClosed:h,onStartClose:d,onStartOpen:f,get dialogState(){return i(c).type},get hidden(){return r()},get blocked(){return n()},get unBlockedBack(){return a()},children:(T,P)=>{var m=F(),y=M(m);re(y,()=>t.children),w(T,m)},$$slots:{default:!0}})};q(b,S=>{i(c).type!=="closed"&&S(E)})}return w(e,p),K(_)}const Xc=({getDialog:e,onOpen:t,onStartClose:n,onClose:r})=>{const a=s=>{s.preventDefault(),n()},o=()=>{r?.()};pe(()=>{const s=e();return s?.addEventListener("cancel",a),s?.addEventListener("close",o),()=>{s?.removeEventListener("cancel",a),s?.removeEventListener("close",o)}}),pe(()=>{const s=e();s?.showModal(),s?.getBoundingClientRect(),t()})};var Zc=(e,t)=>{t.onStartBack()},Jc=$('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),Qc=(e,t)=>{t.onStartClose()},eu=$('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),tu=$('<dialog><div class="dialogInner svelte-rt409n"><div class="header svelte-rt409n"><div><!></div> <div><!></div></div> <!></div></dialog> <!>',1);function nu(e,t){Y(t,!0);let n=ue(t,"blockedDialog",3,!1),r=ue(t,"hiddenDialog",3,!1),a=ue(t,"isDesktopAnimationOff",3,!1),o=j(null),s=j(null);Xc({getDialog:()=>i(o),onOpen:t.onOpen,onStartClose:t.onStartClose,onClose:t.onClose});const l=Vn();Ne(()=>{t.stateDialog==="closing"&&(l.working?i(o)?.addEventListener("transitionend",()=>{i(o)?.close()},{once:!0}):i(o)?.close())});const{getDialogPageHeight:c}=Ia(),u=H(c);var d=tu(),f=M(d),g=B(f),h=B(g),v=B(h),_=B(v);{var p=m=>{var y=Jc();he(y,1,ve(["navigateButton","buttonBack"]),"svelte-rt409n"),y.__click=[Zc,t];var k=B(y);ye(k,()=>({"--size":"28px"})),ke(k.lastChild,{name:"back"});var D=W(k,2);Je(D,{children:(O,R)=>{var X=Be("back");w(O,X)}}),w(m,y)};q(_,m=>{(!(n()||r())||n()&&t.unBlockedBack)&&t.onStartBack&&m(p)})}var b=W(v,2),E=B(b);{var S=m=>{var y=eu();he(y,1,ve(["navigateButton","buttonClose"]),"svelte-rt409n"),y.__click=[Qc,t];var k=B(y);ye(k,()=>({"--size":"28px"})),ke(k.lastChild,{name:"close"});var D=W(k,2);Je(D,{children:(O,R)=>{var X=Be("close");w(O,X)}}),w(m,y)};q(E,m=>{n()||r()||m(S)})}var T=W(h,2);re(T,()=>t.children),pt(g,m=>C(s,m),()=>i(s)),pt(f,m=>C(o,m),()=>i(o));var P=W(f,2);Ss(P,{get dialog(){return i(o)},get dialogInner(){return i(s)},get onClose(){return t.onStartClose}}),de(()=>{rr(f,`height: ${i(u)+74}px`),he(f,1,ve([{open:t.stateDialog==="open",isAnimationOn:l.working,isDesktopAnimationOff:a(),hiddenDialog:r()}]),"svelte-rt409n")}),w(e,d),K()}tt(["click"]);const ru=({onStartClose:e,onClose:t})=>{let n=j("close");return{get state(){return i(n)},set state(s){C(n,s,!0)},handleStartClose:(s=!1)=>{s||(C(n,"closing"),e?.())},handleOpen:()=>{C(n,"open")},handleClose:()=>{C(n,"close"),t?.()}}};function au(e,t){Y(t,!0);let n=ue(t,"blockedDialog",3,!1),r=ue(t,"hiddenDialog",3,!1),a=ue(t,"onStartClose",3,()=>{}),o=ue(t,"onClose",3,()=>{}),s=ru({onStartClose:a(),onClose:o()});Ne(()=>{s.state==="close"&&t.shownDialog?s.state="opening":s.state==="open"&&!t.shownDialog&&s.handleStartClose(n())});const l=f=>{f.key==="Escape"&&(document.activeElement instanceof HTMLInputElement&&document.activeElement.type==="text"||document.activeElement instanceof HTMLTextAreaElement||n())&&(f.preventDefault(),f.stopPropagation())};pe(()=>(document.addEventListener("keydown",l),()=>{document.removeEventListener("keydown",l)}));var c=F(),u=M(c);{var d=f=>{nu(f,{get stateDialog(){return s.state},get blockedDialog(){return n()},get unBlockedBack(){return t.unBlockedBack},get hiddenDialog(){return r()},get onOpen(){return s.handleOpen},get onStartBack(){return t.onStartBack},onStartClose:()=>{s.handleStartClose(n())},get onClose(){return s.handleClose},children:(g,h)=>{var v=F(),_=M(v);re(_,()=>t.children),w(g,v)},$$slots:{default:!0}})};q(u,f=>{s.state!=="close"&&f(d)})}w(e,c),K()}function ou(e,t){Y(t,!0);let n=ue(t,"blockedDialog",3,!1),r=ue(t,"hiddenDialog",3,!1),a=ue(t,"isLastDialog",3,!1),o=ue(t,"onStartClose",3,()=>{}),s=ue(t,"onClose",3,()=>{});const l=H(()=>a()?void 0:t.onStartBack),{showDialog:c,hideDialog:u}=vr();pe(()=>(c(),()=>{u()}));const{checkMobileSize:d}=qn();var f=F(),g=M(f);{var h=_=>{Gc(_,{get shownDialog(){return t.shownDialog},get blocked(){return n()},get unBlockedBack(){return t.unBlockedBack},get hiddenDialog(){return r()},get children(){return t.children},get onStartClose(){return t.onStartBack},get onClose(){return s()}})},v=_=>{au(_,{get shownDialog(){return t.shownDialog},get blockedDialog(){return n()},get unBlockedBack(){return t.unBlockedBack},get hiddenDialog(){return r()},get children(){return t.children},get onStartBack(){return i(l)},get onStartClose(){return o()},get onClose(){return s()}})};q(g,_=>{d()?_(h):_(v,!1)})}w(e,f),K()}function Qa(e,t){Y(t,!0);const{back:n,closeDialogStack:r}=Ct(),{popStackPages:a}=At();let o=ue(t,"blocked",3,!1),s=ue(t,"isLastDialog",3,!1),l=ue(t,"onBack",3,()=>{});const{checkBlockedDialog:c,checkUnBlockedBackDialog:u}=vr(),d=H(()=>o()||t.hidden||c()),f=H(()=>u()&&!s());ou(e,{get shownDialog(){return t.shown},get blockedDialog(){return i(d)},get unBlockedBack(){return i(f)},get hiddenDialog(){return t.hidden},get isLastDialog(){return s()},onStartBack:()=>{(!i(d)||i(d)&&i(f))&&t.shown&&(n(),l()())},onStartClose:()=>{(!i(d)||i(d)&&i(f))&&t.shown&&r()},onClose:()=>{a()},children:(_,p)=>{var b=F(),E=M(b);re(E,()=>t.children),w(_,b)},$$slots:{default:!0}}),K()}const su="modulepreload",iu=function(e){return"/"+e},eo={},Ie=function(t,n,r){let a=Promise.resolve();if(n&&n.length>0){let c=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),l=s?.nonce||s?.getAttribute("nonce");a=c(n.map(u=>{if(u=iu(u),u in eo)return;eo[u]=!0;const d=u.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const g=document.createElement("link");if(g.rel=d?"stylesheet":su,d||(g.as="script"),g.crossOrigin="",g.href=u,l&&g.setAttribute("nonce",l),document.head.appendChild(g),d)return new Promise((h,v)=>{g.addEventListener("load",h),g.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${u}`)))})}))}function o(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return a.then(s=>{for(const l of s||[])l.status==="rejected"&&o(l.reason);return t().catch(o)})};var lu=$('<button> <svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></button>');function Sr(e,t){let n=H(()=>t.style==="selected"?"45deg":"0deg");var r=lu();r.__click=function(...s){t.onClick?.apply(this,s)};var a=B(r),o=W(a);ye(o,()=>({"--size":t.size==="small"?"10px":"12px","--rotate":i(n)})),ke(o.lastChild,{name:"plus"}),de(()=>{Ee(r,"type",t.type),he(r,1,ve([{selectedTag:t.style==="selected",small:t.size==="small"}]),"svelte-uu8a24"),nr(a,`${t.title??""} `)}),w(e,r)}tt(["click"]);var cu=(e,t,n)=>{t(),n("/",{full:!0})(e)},uu=$('<a class="link svelte-1hv280f"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a>'),du=(e,t,n)=>{t(),n(V.Bin,{full:!0})(e)},fu=$('<a class="link svelte-1hv280f"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a>'),vu=$("<div></div>"),hu=$('<div class="sidebarFixed svelte-1hv280f"><div class="nav svelte-1hv280f"><!> <div class="menu svelte-1hv280f"><a class="link svelte-1hv280f"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a> <a class="link svelte-1hv280f"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a> <!></div></div> <div class="searchWrapper svelte-1hv280f"><!></div> <!></div> <div></div>',1),gu=$("<div></div>"),_u=$('<div class="sidebar svelte-1hv280f"><div class="sidebarFixed svelte-1hv280f"><!></div> <div class="tags svelte-1hv280f"></div></div>');function pu(e,t){Y(t,!0);const{checkMobileSize:n}=qn(),{sidebarClose:r}=es(),{isReadyNotes:a,getGetMapTags:o,getGetNotes:s}=qr(),{getAppHistory:l}=Ct(),{getPageUrl:c,createHandlePage:u,getStackPagesFormUrl:d}=At(),f=Xo(),{checkNotesInBin:g}=La(),h=H(()=>l().pathname),{getSelectedTags:v,addTag:_,removeTag:p}=ns(),b=H(a);let E=j(null),S=H(v),T=null;function P(){return T||(T=Ie(()=>import("./C5nzfUQ6.js"),__vite__mapDeps([0,1]))),T}const m=L=>{_(L)},y=L=>{p(L)};let D=H(()=>{if(i(S).size===0)return[...o()()?.keys()||[]];if(i(S).has("inbox"))return[];const L=s()(),x=[];for(const N of L||[])if(N&&i(S).values().every(I=>N.data.tags.includes(I)))for(const I of N.data.tags)!i(S).has(I)&&!x.includes(I)&&x.push(I);return x}),O=H(()=>i(b)?i(D).sort((L,x)=>L==="inbox"?-1:x==="inbox"?1:L.localeCompare(x)):[]),R=H(n);pe(()=>{i(R)&&P()});const{checkExistedDialog:X}=vr();let ae=H(()=>d().length>0||X());var ce=F(),oe=M(ce);{var se=L=>{var x=F(),N=M(x);Uo(N,P,null,(I,U)=>{const z=H(()=>i(U).default);var Z=F(),J=M(Z);qo(J,()=>i(z),(Q,te)=>{te(Q,{get blocked(){return i(ae)},children:(me,Oe)=>{var nt=hu(),rt=M(nt),Ke=B(rt),xe=B(Ke);ys(xe,{});var Ge=W(xe,2),Me=B(Ge),Xt=H(()=>u(V.Settings));Me.__click=function(...fe){i(Xt)?.apply(this,fe)};var Re=B(Me);ye(Re,()=>({"--size":"24px"})),ke(Re.lastChild,{name:"settings"});var Fe=W(Re,2);Je(Fe,{children:(fe,be)=>{var we=Be("Settings");w(fe,we)}});var dt=W(Me,2),hr=H(()=>u(V.Sync));dt.__click=function(...fe){i(hr)?.apply(this,fe)};var Wn=B(dt);ye(Wn,()=>({"--size":"24px"})),ke(Wn.lastChild,{name:"sync"});var $r=W(Wn,2);Je($r,{children:(fe,be)=>{var we=Be("Sync");w(fe,we)}});var Bt=W(dt,2);{var mn=fe=>{var be=uu();be.__click=[cu,r,u];var we=B(be);ye(we,()=>({"--size":"24px"})),ke(we.lastChild,{name:"note"});var Xe=W(we,2);Je(Xe,{children:(at,ft)=>{var Zt=Be("Notes");w(at,Zt)}}),de(at=>Ee(be,"href",at),[()=>c("/",{full:!0})]),w(fe,be)},gr=fe=>{var be=F(),we=M(be);{var Xe=at=>{var ft=fu();ft.__click=[du,r,u];var Zt=B(ft);ye(Zt,()=>({"--size":"24px"})),ke(Zt.lastChild,{name:"bin"});var Mt=W(Zt,2);Je(Mt,{children:(It,Kr)=>{var Gr=Be("Bin");w(It,Gr)}}),de(It=>Ee(ft,"href",It),[()=>c(V.Bin,{full:!0})]),w(at,ft)};q(we,at=>{g()&&at(Xe)},!0)}w(fe,be)};q(Bt,fe=>{i(h)===`/${V.Bin}`?fe(mn):fe(gr,!1)})}var _r=W(Ke,2),Yr=B(_r);ga(Yr,{placeholder:"Search tag",get value(){return f.value},set value(fe){f.value=fe}});var Lt=W(_r,2);{var wn=fe=>{var be=vu();he(be,1,ve(["tags","selectedTags"]),"svelte-1hv280f"),Cn(be,20,()=>i(S),we=>we,(we,Xe)=>{Sr(we,{get title(){return Xe},onClick:()=>y(Xe),style:"selected"})}),pt(be,we=>C(E,we),()=>i(E)),w(fe,be)};q(Lt,fe=>{i(S).size>0&&fe(wn)})}var $n=W(rt,2);he($n,1,ve(["tags","tagsWrapper"]),"svelte-1hv280f"),Cn($n,20,()=>i(O),fe=>fe,(fe,be)=>{var we=F(),Xe=M(we);{var at=ft=>{Sr(ft,{get title(){return be},onClick:()=>m(be)})};q(Xe,ft=>{(f.value===""||be.toLowerCase().indexOf(f.value.toLowerCase())!==-1)&&ft(at)})}w(fe,we)}),de((fe,be)=>{Ee(Me,"href",fe),Ee(dt,"href",be)},[()=>c(V.Settings),()=>c(V.Sync)]),w(me,nt)},$$slots:{default:!0}})}),w(I,Z)}),w(L,x)},Se=L=>{var x=_u(),N=B(x),I=B(N);{var U=Z=>{var J=gu();he(J,1,ve(["tags","selectedTags"]),"svelte-1hv280f"),Cn(J,20,()=>i(S),Q=>Q,(Q,te)=>{Sr(Q,{get title(){return te},onClick:()=>y(te),style:"selected"})}),w(Z,J)};q(I,Z=>{i(S).size>0&&Z(U)})}var z=W(N,2);Cn(z,20,()=>i(O),Z=>Z,(Z,J)=>{var Q=F(),te=M(Q);{var me=Oe=>{Sr(Oe,{get title(){return J},onClick:()=>m(J)})};q(te,Oe=>{(f.value===""||J.toLowerCase().indexOf(f.value.toLowerCase())!==-1)&&Oe(me)})}w(Z,Q)}),w(L,x)};q(oe,L=>{i(R)?L(se):L(Se,!1)})}w(e,ce),K()}tt(["click"]);const mu=(e,t,n)=>{C(t,!0),C(n,!0)},wu=(e,t,n,r)=>{t(n.note.id,!n.note.data.pinned),Wr(n.note.data.pinned?"Note unpinned":"Note pinned"),C(r,!0)},yu=(e,t,n)=>{navigator.clipboard.writeText(t.note.data.url),Wr("Link copied"),C(n,!0)};var Su=$("<div><button>Copy link</button></div>"),bu=$('<div class="menu svelte-8ve3pe"><!> <div><button> </button></div> <div><button>Delete</button></div></div>'),ku=$('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1);function Eu(e,t){Y(t,!0);const n=(p,b=le)=>{var E=bu(),S=B(E);{var T=O=>{var R=Su(),X=B(R);X.__click=[yu,t,l],de(()=>he(X,1,ve(["button",{buttonMenuDialog:b()}]),"svelte-8ve3pe")),w(O,R)};q(S,O=>{b()&&t.note.data.url&&O(T)})}var P=W(S,2),m=B(P);m.__click=[wu,a,t,l];var y=B(m),k=W(P,2),D=B(k);D.__click=[mu,c,l],de(()=>{he(m,1,ve(["button",{buttonMenuDialog:b()}]),"svelte-8ve3pe"),nr(y,t.note.data.pinned?"Unpin":"Pin"),he(D,1,ve(["button",{buttonMenuDialog:b()}]),"svelte-8ve3pe")}),w(p,E)},{deleteNote:r,pinNote:a,setDeleting:o}=qr();let s=ue(t,"shownMenu",15),l=j(!1),c=j(!1);const{checkMobileSize:u}=qn();let d=H(u);const f=async()=>{o(t.note.id,!0);let p=!1;Wr("Note deleted",{onCancel:()=>{p=!0,o(t.note.id,!1)},onFinish:()=>{p||r(t.note.id)}})},g=()=>{i(c)&&f(),s(!1),C(l,!1)};var h=F(),v=M(h);{var _=p=>{var b=F(),E=M(b);{var S=P=>{bs(P,{get startClose(){return i(l)},onClosed:g,children:(m,y)=>{n(m,()=>!0)},$$slots:{default:!0}})},T=P=>{var m=ku(),y=M(m);ye(y,()=>({"--bottom":"-90px","--right":"20px"})),ks(y.lastChild,{get startClose(){return i(l)},get positionTop(){return t.showMenuUp},onClosed:g,children:(k,D)=>{n(k,()=>!1)},$$slots:{default:!0}}),w(P,m)};q(E,P=>{i(d)?P(S):P(T,!1)})}w(p,b)};q(v,p=>{s()&&p(_)})}w(e,h),K()}tt(["click"]);const Cu=(e,t)=>{C(t,!0)},Pu=(e,t,n)=>{navigator.clipboard.writeText(t.note.data.url),Wr("Link copied"),C(n,!1)},xu=(e,t)=>{C(t,!0)},Du=(e,t)=>{C(t,!1)},Nu=(e,t,n,r)=>{e.preventDefault(),t(`${V.EditNote}?id=${n.note.id}`),C(r,!1)};var Tu=$('<div class="iconPlaceholder svelte-1jg44o9"></div>'),Au=$('<img loading="lazy" class="noteIcon" height="16" width="16" alt=""/>'),Bu=$('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),Lu=$('<div class="noteIconWrapper svelte-1jg44o9"><!></div>'),Mu=$('<button class="button svelte-1jg44o9"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),Iu=(e,t)=>{C(t,!1)},Ou=$('<!> <a target="_blank" rel="noopener noreferrer" class="button openLink svelte-1jg44o9"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a>',1),Ru=$('<li><!> <a class="noteLink svelte-1jg44o9" target="_blank" rel="noopener noreferrer"> </a> <div><!> <button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button></div> <!></li>');function Fu(e,t){Y(t,!0);const{pushStackPages:n}=At(),{getFaviconEnabled:r}=Dl();let a=j(!1),o=j(!1),s=j(!1),l=H(r);const{checkMobileSize:c}=qn(),u=m=>{try{return`https://icons.duckduckgo.com/ip3/${new URL(m).host}.ico`}catch{return""}};var d=Ru();d.__focusin=[xu,o],d.__focusout=[Du,o];var f=B(d);{var g=m=>{var y=Lu(),k=B(y);{var D=R=>{var X=F(),ae=M(X);{var ce=se=>{var Se=Tu();w(se,Se)},oe=se=>{var Se=Au();de(L=>Ee(Se,"src",L),[()=>u(t.note.data.url)]),Da("error",Se,()=>{C(s,!0)}),w(se,Se)};q(ae,se=>{i(s)?se(ce):se(oe,!1)})}w(R,X)},O=R=>{var X=Bu(),ae=M(X);ye(ae,()=>({"--size":"16px"})),ke(ae.lastChild,{name:"note"}),w(R,X)};q(k,R=>{t.note.data.url?R(D):R(O,!1)})}w(m,y)};q(f,m=>{i(l)&&m(g)})}var h=W(f,2);h.__click=[Nu,n,t,o];var v=B(h),_=W(h,2),p=B(_);{var b=m=>{var y=Ou(),k=M(y);{var D=ae=>{var ce=Mu();ce.__click=[Pu,t,o];var oe=B(ce);ye(oe,()=>({"--size":"20px"})),ke(oe.lastChild,{name:"copy"});var se=W(oe,2);Je(se,{children:(Se,L)=>{var x=Be("copy link");w(Se,x)}}),de(()=>Ee(ce,"tabindex",t.focusHidden?-1:0)),w(ae,ce)};q(k,ae=>{c()||ae(D)})}var O=W(k,2);O.__click=[Iu,o];var R=B(O);ye(R,()=>({"--size":"18px"})),ke(R.lastChild,{name:"open"});var X=W(R,2);Je(X,{children:(ae,ce)=>{var oe=Be();de(()=>nr(oe,t.note.data.name)),w(ae,oe)}}),de(()=>{Ee(O,"href",t.note.data.url),Ee(O,"tabindex",t.focusHidden?-1:0)}),w(m,y)};q(p,m=>{t.note.data.url&&m(b)})}var E=W(p,2);E.__click=[Cu,a],he(E,1,ve(["button","buttonMenu"]),"svelte-1jg44o9");var S=B(E);ye(S,()=>({"--size":"18px","--rotate":"90deg"})),ke(S.lastChild,{name:"menu"});var T=W(S,2);Je(T,{children:(m,y)=>{var k=Be("show menu");w(m,k)}});var P=W(_,2);Eu(P,{get note(){return t.note},get showMenuUp(){return t.showMenuUp},get shownMenu(){return i(a)},set shownMenu(m){C(a,m,!0)}}),de(m=>{he(d,1,ve(["record",{pinned:t.note.data.pinned}]),"svelte-1jg44o9"),Ee(h,"tabindex",t.focusHidden?-1:0),Ee(h,"href",m),nr(v,t.note.data.name),he(_,1,ve(["noteMenuWrapper",{noteMenuWrapperActive:i(o)}]),"svelte-1jg44o9"),Ee(E,"tabindex",t.focusHidden?-1:0)},[()=>`/?stackPages=${encodeURIComponent(`${V.EditNote}?id=${t.note.id}`)}`]),w(e,d),K()}tt(["focusin","focusout","click"]);var Hu=$("<a><!></a>"),zu=$("<button><!></button>");function On(e,t){let n=ue(t,"type",3,"standard"),r=ue(t,"typeButton",3,"button"),a=ue(t,"element",3,"button"),o=ue(t,"href",3,""),s=ue(t,"fullWidth",3,!1),l=ue(t,"withoutMinWidth",3,!1);var c=F(),u=M(c);{var d=g=>{var h=Hu();h.__click=function(..._){t.onClick?.apply(this,_)};var v=B(h);re(v,()=>t.children??le),de(()=>{Ee(h,"href",o()),he(h,1,ve(["button","a",{dangerous:n()==="dangerous",secondary:n()==="secondary",fullWidth:s(),withoutMinWidth:l()}]),"svelte-aqjevc")}),w(g,h)},f=g=>{var h=zu();h.__click=function(..._){t.onClick?.apply(this,_)};var v=B(h);re(v,()=>t.children??le),de(()=>{Ee(h,"type",r()),he(h,1,ve(["button",{dangerous:n()==="dangerous",secondary:n()==="secondary",fullWidth:s(),withoutMinWidth:l()}]),"svelte-aqjevc")}),w(g,h)};q(u,g=>{a()==="a"?g(d):g(f,!1)})}w(e,c)}tt(["click"]);var Uu=$('<div><!> <div class="loader svelte-m0sno1"></div></div>');function Es(e,t){Y(t,!0);let n=j(!1);pe(()=>{const o=setTimeout(()=>{C(n,!0)},200);return()=>{clearTimeout(o)}});var r=Uu(),a=B(r);re(a,()=>t.children??le),de(()=>he(r,1,ve(["block",{shown:i(n)}]),"svelte-m0sno1")),w(e,r),K()}var ju=$('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Add note</span>',1),Vu=$('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span style="padding-left: 6px;">Import data</span>',1),qu=$('<div class="emptyStore svelte-n515mf"><p class="message">No notes found</p> <div class="wrapperButtonsAdd svelte-n515mf"><!></div> <div>or</div> <div class="wrapperButtonsAdd svelte-n515mf"><!></div></div>'),Wu=$('<div class="emptyMessage svelte-n515mf">No notes found</div>'),$u=$('<div class="feed svelte-n515mf"><ul class="svelte-n515mf"></ul></div>'),Yu=$('<div class="wrapperFeed svelte-n515mf"><div class="wrapperContainer svelte-n515mf"><!></div></div>');function Ku(e,t){Y(t,!0);const{getScrollContainer:n}=Ma(),{createHandlePage:r,getPageUrl:a}=At(),{getSelectedTags:o}=ns(),{getFeedOrder:s}=Jo(),l=Yo(),{getGetNotes:c,isReadyNotes:u}=qr();let d=54,f=j(0),g=j(0),h=j(0),v=j(0),_=[],p=j(0),b=H(n),E=null,S=null;const T=H(o),P=H(u);Ne(()=>{i(T),i(D),i(b)?.scrollTo(0,0)});const{enable:m}=hs(),y=()=>{m(),E||(E=requestAnimationFrame(()=>{const U=i(b)?.scrollTop||0;C(h,U,!0);const z=Math.ceil(i(f)/d);C(g,Math.floor(U/(d*z))*(d*z)),E=null}))},k=()=>{S||(S=requestAnimationFrame(()=>{C(f,window.innerHeight-180||0,!0);const U=i(b)?.scrollTop||0;C(h,U,!0);const z=Math.ceil(i(f)/d);C(g,Math.floor(U/(d*z))*(d*z)),S=null}))};pe(()=>{k(),y()}),Ne(()=>(i(b)?.addEventListener("scroll",y),window.addEventListener("resize",k),()=>{i(b)?.removeEventListener("scroll",y),window.removeEventListener("resize",k)}));const D=H(s);let O=j(""),R=H(c);Ne(()=>{i(D);const U=i(R)()||[];kt(()=>i(O))!==i(D)&&kt(()=>C(O,i(D),!0)),U.sort((J,Q)=>{if(!J||!Q)return 0;if(J.data.pinned&&!Q.data.pinned)return 1;if(!J.data.pinned&&Q.data.pinned)return-1;switch(i(D)){case"newest":return J.data.updatedAt<Q.data.updatedAt?-1:1;case"oldest":return J.data.updatedAt>Q.data.updatedAt?-1:1;case"AtoZ":return Q.data.name.localeCompare(J.data.name);case"ZtoA":return J.data.name.localeCompare(Q.data.name);default:return 0}});const Z=[];for(let J=U.length-1;J>=0;J--){const Q=U[J];Q&&(i(T).size&&i(T).values().some(te=>!Q.data.tags.includes(te))||Q.deleting||l&&!(Q.data.name.toLowerCase().includes(l.value.toLowerCase())||Q.data.url.toLowerCase().includes(l.value.toLowerCase())||Q.data.text.toLowerCase().includes(l.value.toLowerCase()))||Z.push(Q))}C(v,Z.length,!0),_=Z,C(p,Date.now(),!0)});const X=H(()=>i(v)*d);let ce=H(()=>{i(p);const U=Math.ceil(i(f)/d);let z=Math.floor(i(g)/d);return z=z-Math.min(z,U),_.slice(z,z+U*3)}),oe=H(()=>d*Math.ceil(i(f)/d));const se=H(()=>i(g)-Math.min(i(g),i(oe)));var Se=Yu(),L=B(Se),x=B(L);{var N=U=>{Es(U,{})},I=U=>{var z=F(),Z=M(z);{var J=te=>{var me=qu(),Oe=W(B(me),2),nt=B(Oe);{let xe=H(()=>a(V.NewNote)),Ge=H(()=>r(V.NewNote));On(nt,{element:"a",get href(){return i(xe)},get onClick(){return i(Ge)},children:(Me,Xt)=>{var Re=ju(),Fe=M(Re);ye(Fe,()=>({"--size":"18px","--color":"#b0b0b0"})),ke(Fe.lastChild,{name:"plus"}),w(Me,Re)},$$slots:{default:!0}})}var rt=W(Oe,4),Ke=B(rt);{let xe=H(()=>a(V.ImportData)),Ge=H(()=>r(V.ImportData));On(Ke,{element:"a",get href(){return i(xe)},get onClick(){return i(Ge)},children:(Me,Xt)=>{var Re=Vu(),Fe=M(Re);ye(Fe,()=>({"--size":"18px","--color":"#b0b0b0"})),ke(Fe.lastChild,{name:"import"}),w(Me,Re)},$$slots:{default:!0}})}w(te,me)},Q=te=>{var me=F(),Oe=M(me);{var nt=Ke=>{var xe=Wu();w(Ke,xe)},rt=Ke=>{var xe=$u(),Ge=B(xe);Cn(Ge,23,()=>i(ce),Me=>Me.id,(Me,Xt,Re)=>{{let Fe=H(()=>i(Re)*d<i(h)-i(se)-d/2||i(Re)*d>i(h)-i(se)+Math.floor(i(f)/d)*d),dt=H(()=>(i(Re)+3)*d<i(h)-i(se)-d/2||(i(Re)+3)*d>i(h)-i(se)+Math.floor(i(f)/d)*d);Fu(Me,{get focusHidden(){return i(Fe)},get showMenuUp(){return i(dt)},get note(){return i(Xt)}})}}),de(Me=>{rr(xe,`min-height: ${Me??""}px`),rr(Ge,`transform: translateY(${i(se)??""}px);`)},[()=>Math.max((i(X)>i(f),i(X)),0)]),w(Ke,xe)};q(Oe,Ke=>{i(ce).length===0?Ke(nt):Ke(rt,!1)},!0)}w(te,me)};q(Z,te=>{(i(R)()||[]).length===0?te(J):te(Q,!1)},!0)}w(U,z)};q(x,U=>{i(P)?U(I,!1):U(N)})}w(e,Se),K()}var Gu=$('<!> <div class="content svelte-6sscvv"><!></div>',1);function Xu(e){var t=Gu(),n=M(t);pu(n,{});var r=W(n,2),a=B(r);Ku(a,{}),w(e,t)}var Zu=$('<h1 class="svelte-1ky72l5"><!></h1>');function Ju(e,t){var n=Zu(),r=B(n);re(r,()=>t.children),w(e,n)}var Qu=$('<div class="block svelte-ujk4k"><!> <div class="container svelte-ujk4k"><!> <!></div></div>');function ed(e,t){Y(t,!0);const{blockDialog:n}=vr(),{pushStackPages:r}=At(),{closeDialogStack:a}=Ct(),{initLocalAccount:o}=Ba();let s=j("idle");const l=()=>{C(s,"loading"),r(V.Auth)},c=async()=>{C(s,"loading"),kl(),await o(),n(!1),a()};Ne(()=>{n(i(s)==="idle"||i(s)==="loading")}),pe(()=>(n(!0),()=>{n(!1)}));var u=Qu(),d=B(u);Ju(d,{children:(v,_)=>{var p=Be("use app");w(v,p)}});var f=W(d,2),g=B(f);On(g,{onClick:l,fullWidth:!0,children:(v,_)=>{var p=Be("cloud account");w(v,p)},$$slots:{default:!0}});var h=W(g,2);On(h,{onClick:c,fullWidth:!0,type:"secondary",children:(v,_)=>{var p=Be("without account");w(v,p)},$$slots:{default:!0}}),w(e,u),K()}var td=$('<div class="svelte-1x9a4ve"><!></div>');function Te(e,t){Y(t,!0);const{setDialogPageHeight:n}=Ia();let r=j(null);pe(()=>{i(r)&&(i(r).getBoundingClientRect(),i(r).style.opacity="1");const s=new ResizeObserver(l=>{for(let c of l){const u=c.contentRect.height;n(u)}});if(i(r))return s.observe(i(r)),()=>{i(r)&&s.unobserve(i(r)),s.disconnect()}});var a=td(),o=B(a);re(o,()=>t.children),pt(a,s=>C(r,s),()=>i(r)),w(e,a),K()}var nd=$('<div class="svelte-stjbkr"><p class="svelte-stjbkr">Page not found</p> <!></div>');function rd(e,t){Y(t,!1);const{navigate:n}=Ct(),r=s=>{s.preventDefault(),n("/")};Ta();var a=nd(),o=W(B(a),2);On(o,{element:"a",href:"/",onClick:r,children:(s,l)=>{var c=Be("close");w(s,c)},$$slots:{default:!0}}),w(e,a),K()}var ad=$('<div class="svelte-10xfz1h"><p class="svelte-10xfz1h">Something went wrong. Please reload the page</p> <!></div>');function od(e){var t=ad(),n=W(B(t),2);On(n,{onClick:()=>location.reload(),children:(r,a)=>{var o=Be("Reload");w(r,o)},$$slots:{default:!0}}),w(e,t)}var sd=$('<div class="svelte-1mu1b44"><!></div>');function id(e,t){Y(t,!0);const{getDialogPageHeight:n}=Ia(),r=H(n);var a=sd(),o=B(a);Es(o,{}),de(()=>rr(a,`min-height: ${i(r)??""}px;`)),w(e,a),K()}function He(e,t){Y(t,!0);const n={},r=Object.assign({"./Pages/About.svelte":()=>Ie(()=>import("./CNDMtsEn.js"),__vite__mapDeps([2,3])),"./Pages/AccessKeys.svelte":()=>Ie(()=>import("./BQW7NKwF.js"),__vite__mapDeps([4,5,6,7])),"./Pages/Account.svelte":()=>Ie(()=>import("./RqxSC1AO.js"),__vite__mapDeps([8,5,9])),"./Pages/Auth.svelte":()=>Ie(()=>import("./QJAFALJQ.js"),__vite__mapDeps([10,11])),"./Pages/ClearStore.svelte":()=>Ie(()=>import("./Bp9D3vPJ.js"),__vite__mapDeps([12,13])),"./Pages/ConfirmAccessKey.svelte":()=>Ie(()=>import("./hrpr5AIe.js"),__vite__mapDeps([14,6,5,15,16,17,18])),"./Pages/EditNote.svelte":()=>Ie(()=>import("./CrdrTXnd.js"),__vite__mapDeps([19,20,16,17,21,22])),"./Pages/Exit.svelte":()=>Ie(()=>import("./DXcDp4SG.js"),__vite__mapDeps([23,24])),"./Pages/ExportData.svelte":()=>Ie(()=>import("./eZ2Qin8M.js"),__vite__mapDeps([25,26])),"./Pages/ImportData.svelte":()=>Ie(()=>import("./BE-rgYbo.js"),__vite__mapDeps([27,28])),"./Pages/NewNote.svelte":()=>Ie(()=>import("./D5LZ7AuQ.js"),__vite__mapDeps([29,20,16,17,21])),"./Pages/Settings.svelte":()=>Ie(()=>import("./3mTw8Xwm.js"),__vite__mapDeps([30,31])),"./Pages/Signin.svelte":()=>Ie(()=>import("./DzDg2sQy.js"),__vite__mapDeps([32,6,5,15,33])),"./Pages/Signup.svelte":()=>Ie(()=>import("./B1IXcuHS.js"),__vite__mapDeps([34,15,6,5,35])),"./Pages/Subscription.svelte":()=>Ie(()=>import("./D1tvaBz-.js"),__vite__mapDeps([36,37])),"./Pages/Sync.svelte":()=>Ie(()=>import("./DJa0MnNj.js"),__vite__mapDeps([38,39]))}),a=async l=>{const c=`./Pages/${l[0].toUpperCase()+l.slice(1)}.svelte`;if(!n[l]){if(r[c]){const u=r[c]();return n[l]={promise:u},n[l].module=await u,n[l].module}throw new Error(`Page ${l} not found`)}return n[l].module||await n[l].promise};var o=F(),s=M(o);Uo(s,()=>a(t.page),l=>{id(l,{})},(l,c)=>{const u=H(()=>i(c).default);var d=F(),f=M(d);qo(f,()=>i(u),(g,h)=>{h(g,{get params(){return t.params},get hidden(){return t.hidden}})}),w(l,d)},l=>{od(l)}),w(e,o),K()}const to=(e,t=le,n=le,r)=>{let a=zr(()=>Hs(r?.(),!1));var o=F(),s=M(o);{var l=u=>{Te(u,{children:(d,f)=>{He(d,{get hidden(){return i(a)},get page(){return V.Settings}})},$$slots:{default:!0}})},c=u=>{var d=F(),f=M(d);{var g=v=>{Te(v,{children:(_,p)=>{He(_,{get hidden(){return i(a)},get page(){return V.NewNote}})},$$slots:{default:!0}})},h=v=>{var _=F(),p=M(_);{var b=S=>{Te(S,{children:(T,P)=>{He(T,{get params(){return n()},get hidden(){return i(a)},get page(){return V.EditNote}})},$$slots:{default:!0}})},E=S=>{var T=F(),P=M(T);{var m=k=>{Te(k,{children:(D,O)=>{He(D,{get hidden(){return i(a)},get page(){return V.ImportData}})},$$slots:{default:!0}})},y=k=>{var D=F(),O=M(D);{var R=ae=>{Te(ae,{children:(ce,oe)=>{He(ce,{get hidden(){return i(a)},get page(){return V.ExportData}})},$$slots:{default:!0}})},X=ae=>{var ce=F(),oe=M(ce);{var se=L=>{Te(L,{children:(x,N)=>{He(x,{get hidden(){return i(a)},get page(){return V.ClearStore}})},$$slots:{default:!0}})},Se=L=>{var x=F(),N=M(x);{var I=z=>{Te(z,{children:(Z,J)=>{ed(Z,{})},$$slots:{default:!0}})},U=z=>{var Z=F(),J=M(Z);{var Q=me=>{Te(me,{children:(Oe,nt)=>{He(Oe,{get hidden(){return i(a)},get page(){return V.Auth}})},$$slots:{default:!0}})},te=me=>{var Oe=F(),nt=M(Oe);{var rt=xe=>{Te(xe,{children:(Ge,Me)=>{He(Ge,{get hidden(){return i(a)},get page(){return V.Signup}})},$$slots:{default:!0}})},Ke=xe=>{var Ge=F(),Me=M(Ge);{var Xt=Fe=>{Te(Fe,{children:(dt,hr)=>{He(dt,{get hidden(){return i(a)},get page(){return V.Signin}})},$$slots:{default:!0}})},Re=Fe=>{var dt=F(),hr=M(dt);{var Wn=Bt=>{Te(Bt,{children:(mn,gr)=>{He(mn,{get hidden(){return i(a)},get page(){return V.AccessKeys}})},$$slots:{default:!0}})},$r=Bt=>{var mn=F(),gr=M(mn);{var _r=Lt=>{Te(Lt,{children:(wn,$n)=>{He(wn,{get hidden(){return i(a)},get page(){return V.Account}})},$$slots:{default:!0}})},Yr=Lt=>{var wn=F(),$n=M(wn);{var fe=we=>{Te(we,{children:(Xe,at)=>{He(Xe,{get hidden(){return i(a)},get page(){return V.ConfirmAccessKey}})},$$slots:{default:!0}})},be=we=>{var Xe=F(),at=M(Xe);{var ft=Mt=>{Te(Mt,{children:(It,Kr)=>{He(It,{get hidden(){return i(a)},get page(){return V.Exit}})},$$slots:{default:!0}})},Zt=Mt=>{var It=F(),Kr=M(It);{var Gr=yn=>{Te(yn,{children:(pr,Oa)=>{He(pr,{get hidden(){return i(a)},get page(){return V.Sync}})},$$slots:{default:!0}})},Cs=yn=>{var pr=F(),Oa=M(pr);{var Ps=Sn=>{Te(Sn,{children:(mr,Ra)=>{He(mr,{get hidden(){return i(a)},get page(){return V.Subscription}})},$$slots:{default:!0}})},xs=Sn=>{var mr=F(),Ra=M(mr);{var Ds=bn=>{Te(bn,{children:(Xr,Ts)=>{He(Xr,{get hidden(){return i(a)},get page(){return V.About}})},$$slots:{default:!0}})},Ns=bn=>{Te(bn,{children:(Xr,Ts)=>{rd(Xr,{})},$$slots:{default:!0}})};q(Ra,bn=>{t()===V.About?bn(Ds):bn(Ns,!1)},!0)}w(Sn,mr)};q(Oa,Sn=>{t()===V.Subscription?Sn(Ps):Sn(xs,!1)},!0)}w(yn,pr)};q(Kr,yn=>{t()===V.Sync?yn(Gr):yn(Cs,!1)},!0)}w(Mt,It)};q(at,Mt=>{t()===V.Exit?Mt(ft):Mt(Zt,!1)},!0)}w(we,Xe)};q($n,we=>{t()===V.ConfirmAccessKey?we(fe):we(be,!1)},!0)}w(Lt,wn)};q(gr,Lt=>{t()===V.Account?Lt(_r):Lt(Yr,!1)},!0)}w(Bt,mn)};q(hr,Bt=>{t()===V.AccessKeys?Bt(Wn):Bt($r,!1)},!0)}w(Fe,dt)};q(Me,Fe=>{t()===V.Signin?Fe(Xt):Fe(Re,!1)},!0)}w(xe,Ge)};q(nt,xe=>{t()===V.Signup?xe(rt):xe(Ke,!1)},!0)}w(me,Oe)};q(J,me=>{t()===V.Auth?me(Q):me(te,!1)},!0)}w(z,Z)};q(N,z=>{t()===V.Start?z(I):z(U,!1)},!0)}w(L,x)};q(oe,L=>{t()===V.ClearStore?L(se):L(Se,!1)},!0)}w(ae,ce)};q(O,ae=>{t()===V.ExportData?ae(R):ae(X,!1)},!0)}w(k,D)};q(P,k=>{t()===V.ImportData?k(m):k(y,!1)},!0)}w(S,T)};q(p,S=>{t()===V.EditNote?S(b):S(E,!1)},!0)}w(v,_)};q(f,v=>{t()===V.NewNote?v(g):v(h,!1)},!0)}w(u,d)};q(s,u=>{t()===V.Settings?u(l):u(c,!1)})}w(e,o)};var ld=$("<!> <!>",1);function cd(e,t){Y(t,!0);const{isReadyNotes:n}=qr(),{getStackPages:r,popStackPages:a}=At(),{getAccount:o}=Ba();let s=H(r),l=H(()=>n()&&o()!==void 0);const{checkMobileSize:c}=qn();var u=ld(),d=M(u);{var f=_=>{Xu(_)};q(d,_=>{i(l)&&_(f)})}var g=W(d,2);{var h=_=>{var p=F(),b=M(p);Cn(b,19,()=>i(s),E=>E.page,(E,S,T)=>{const P=H(()=>i(S).page.split("?")[1]),m=H(()=>i(S).page.split("?")[0]);{let y=H(()=>i(T)!==i(s).length-1&&!!i(s)[i(T)+1]?.shown),k=H(()=>i(T)===0);Qa(E,{get shown(){return i(S).shown},get hidden(){return i(y)},get isLastDialog(){return i(k)},children:(D,O)=>{{let R=H(()=>i(T)!==i(s).length-1&&!!i(s)[i(T)+1]?.shown);to(D,()=>i(m),()=>i(P),()=>i(R))}},$$slots:{default:!0}})}}),w(_,p)},v=_=>{var p=F(),b=M(p);{var E=S=>{const T=H(()=>i(s)[i(s).length-1].page.split("?")[1]),P=H(()=>i(s)[i(s).length-1].page.split("?")[0]);{let m=H(()=>i(s).length===1);Qa(S,{onBack:()=>a(),get shown(){return i(s)[i(s).length-1].shown},hidden:!1,get isLastDialog(){return i(m)},children:(y,k)=>{to(y,()=>i(P),()=>i(T))},$$slots:{default:!0}})}};q(b,S=>{i(s).length>0&&S(E)},!0)}w(_,p)};q(g,_=>{c()?_(h):_(v,!1)})}w(e,u),K()}function ud(e,t){Y(t,!1);let n=0;pe(()=>{document.addEventListener("touchstart",r=>{n=r.touches[0].clientX},{passive:!1}),document.addEventListener("touchmove",r=>{const o=r.touches[0].clientX-n;(n<50&&o>0||n>window.innerWidth-50&&o<0)&&r.preventDefault()},{passive:!1}),document.addEventListener("touchend",()=>{n=0}),document.addEventListener("touchcancel",()=>{n=0})}),Ta(),K()}const dd=(e,t)=>{i(t)&&i(t).scrollTo({top:0})};var fd=$('<div class="wrapperButtonTop svelte-1n46o8q"><button class="buttonTop svelte-1n46o8q"><!> <span class="icon svelte-1n46o8q"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></span></button></div>'),vd=$('<!> <!> <main><div class="wrapperHeader svelte-1n46o8q"><!></div> <div class="container svelte-1n46o8q"><!></div></main> <!>',1);function hd(e,t){Y(t,!0);const{setScrollContainer:n}=Ma(),{getAccount:r}=Ba(),{getStackPagesFormUrl:a}=At(),o=Vn();pe(async()=>{await new Promise(k=>setTimeout(k,100)),await Ro(),o.working=!0});let s=j(!1),l=0,c=H(()=>a().length>0),u=H(r),d=j(null);Ne(()=>{n(i(d))});const f=()=>{if(i(d)){const k=i(d).scrollTop||0;k===0?C(s,!1):!i(s)&&l>k?C(s,!0):i(s)&&l+50<k&&C(s,!1),l=k}},g=()=>{f()};Ne(()=>(i(d)?.addEventListener("scroll",g),window.addEventListener("resize",g),()=>{i(d)?.removeEventListener("scroll",g),window.removeEventListener("resize",g)}));var h=vd(),v=M(h);ud(v,{});var _=W(v,2);yc(_,{});var p=W(_,2),b=B(p),E=B(b);{var S=k=>{Vc(k,{})};q(E,k=>{i(u)!==void 0&&k(S)})}var T=W(b,2),P=B(T);cd(P,{}),pt(p,k=>C(d,k),()=>i(d));var m=W(p,2);{var y=k=>{var D=fd(),O=B(D);O.__click=[dd,d];var R=B(O);Je(R,{children:(ce,oe)=>{var se=Be("top");w(ce,se)}});var X=W(R,2),ae=B(X);ye(ae,()=>({"--rotate":"90deg","--size":"28px"})),ke(ae.lastChild,{name:"back"}),w(k,D)};q(m,k=>{i(s)&&k(y)})}de(()=>{rr(p,`--swiping-ratio: ${o.swipingRatio}; --transition-timing-default: ${o.duration}s;`),he(p,1,ve(["main",{isAnimationOn:o.working&&!o.isSwiping,open:i(c)}]),"svelte-1n46o8q")}),w(e,h),K()}tt(["click"]);function gd(e){gc(e,{children:(t,n)=>{hd(t,{})}})}window.addEventListener("unhandledrejection",e=>{alert("Error: "+e.reason.message)});window.isUnsupportedBrowser||Ji(gd,{target:document.getElementById("app")});export{Vn as $,Ba as A,On as B,qr as C,Da as D,Hl as E,Ta as F,md as G,Ju as H,ke as I,ue as J,he as K,Es as L,ve as M,wd as N,yd as O,V as P,rr as Q,jl as R,qn as S,pt as T,kl as U,Je as V,Sr as W,cl as X,Dl as Y,dc as Z,es as _,ye as a,hs as a0,re as a1,Ss as a2,Ee as b,B as c,w as d,Cn as e,$ as f,i as g,At as h,vr as i,j,Ae as k,C as l,q as m,K as n,pe as o,Y as p,F as q,M as r,W as s,de as t,Ne as u,tt as v,Be as w,nr as x,H as y,Ct as z};
