import{p as I,C as P,E as T,z as U,q as m,r as p,m as v,d as n,n as q,g as t,y as l,f as z,s as F,c as H,B as L,w as j}from"./3OrfvYhJ.js";import{N as G}from"./uUSBdLr3.js";import"./D-v1VBuY.js";var J=z('<div class="block svelte-14glnia"><p class="svelte-14glnia">Note not found</p> <!></div>');function W(N,u){I(u,!0);const{updateNote:h,getNoteById:_,isReadyNotes:g}=P(),{getDraft:x,isReadyDrafts:y}=T(),A=l(g);let e=l(()=>{if(t(A)===!1)return null;const a=new URLSearchParams(u.params).get("id");return a&&_(a)||null}),C=l(()=>t(e)?x(t(e).id):void 0);const{navigate:b}=U(),k=a=>{a.preventDefault(),b("/")},D=({name:a,url:s,text:o,tags:d})=>{t(e)&&h(t(e),{...t(e),data:{...t(e).data,name:a,url:s,text:o,tags:d.map(i=>i.trim())}})};var f=m(),w=p(f);{var B=a=>{var s=m(),o=p(s);{var d=r=>{var c=J(),E=F(H(c),2);L(E,{element:"a",href:"/",onClick:k,children:(R,M)=>{var S=j("close");n(R,S)},$$slots:{default:!0}}),n(r,c)},i=r=>{G(r,{get initialName(){return t(e).data.name},get initialUrl(){return t(e).data.url},get initialText(){return t(e).data.text},get initialTags(){return t(e).data.tags},get createdAt(){return t(e).data.createdAt},get updatedAt(){return t(e).data.updatedAt},get noteId(){return t(e).id},get draft(){return t(C)},onSubmit:D,mode:"edit"})};v(o,r=>{t(e)?r(i,!1):r(d)})}n(a,s)};v(w,a=>{g()&&y()&&a(B)})}n(N,f),q()}export{W as default};
