import{p as Ce,u as ye,C as Se,D as ke,v as $e,o as se,a as h,b as Q,g as u,x as De,f as i,j as t,c as H,i as e,m as We,L as oe,y as p,n as o,s as C,T as le,B as M,z as y,U as Ee,W as ne,P as ie,H as pe,X as V,Y as Le,Z as ce}from"./aCdxsrhIi.js";const Be=async()=>"getInstalledRelatedApps"in navigator?(await navigator?.getInstalledRelatedApps?.())?.some(z=>z.platform==="webapp")??!1:!1,G=()=>window.installPrompt;var Fe=i('<div class="b p-sgjjic"><!></div>'),Oe=i('<p class="c p-sgjjic">App is already installed.</p>'),Re=i('<p class="c p-sgjjic">For install app, select the share button and select "Add to Home Screen".</p>'),Te=i('<p class="c p-sgjjic">Install app available on Safari.</p>'),He=i(`<p class="c p-sgjjic">From the menu bar, choose File > Add to Dock. Or click the Share button in the Safari
				toolbar, then choose Add to Dock.</p>`),Me=i('<p class="c p-sgjjic">Installation is not supported in this browser. use Brave, Chrome or Edge.</p>'),Ge=i(`<p class="c p-sgjjic">App is already installed or installation is not supported in this browser. use Brave,
					Chrome or Edge.</p>`),Ue=i('<p class="c p-sgjjic">For better experience, install app from Chrome.</p>'),Ye=i(`<p class="c p-sgjjic">You can install app to have a better experience and more reliable storage or you can use it in
			your browser and install later.</p> <!> <div class="d p-sgjjic"><!> <!></div>`,1),ze=i('<!> <div class="b p-sgjjic"><!></div>',1),Ne=i('<p class="c p-sgjjic">Open the app from your device.</p>'),Xe=i('<!> <!> <div class="d p-sgjjic"><!> <!></div>',1),Ze=i('<div class="a p-sgjjic"><!></div>');function Je(ee,z){Ce(z,!0);const{pushDialogPage:ve,clearDialogPages:de}=ye(),{replaceSearchParams:fe}=Se(),{getAccount:ue}=ke(),{blockDialog:ae}=$e();let d=Q("preLoader"),E=Q(!1),U=Q(null);const S=()=>Ee()&&!ne(),_e=()=>{ue()===void 0?ve(ie.AccountSetup):de()},re=()=>{_e()},ge=async()=>{const n=G();try{n&&(h(d,"installing"),"onappinstalled"in window&&window.addEventListener("appinstalled",()=>{h(E,!0),V()||(ae(!1),fe(`${Le}=${encodeURIComponent(`${ie.InstallSuccess}`)}`))}),await n.prompt(),n.userChoice?.then(_=>{_.outcome==="accepted"?(window.installPrompt=null,V()&&h(U,setTimeout(()=>{h(U,null),u(E)?h(d,"success"):h(d,"idle")},5e3),!0)):h(d,"idle")}))}catch(_){console.error("Error during install prompt:",_)}};se(()=>(Be().then(n=>{h(E,n,!0)}),()=>{u(U)&&clearTimeout(u(U))})),De(()=>{ae(u(d)==="installing")}),se(()=>{setTimeout(()=>{h(d,"idle")},2e3)});var te=Ze(),me=H(te);{var he=n=>{var _=Fe(),N=H(_);oe(N,{}),e(n,_)},je=n=>{var _=p(),N=o(_);{var be=k=>{var L=Ye(),Y=C(o(L),2);{var X=a=>{var l=Oe();e(a,l)},Z=a=>{var l=p(),c=o(l);{var P=v=>{var w=p(),x=o(w);{var s=r=>{var f=Re();e(r,f)},g=r=>{var f=Te();e(r,f)};t(x,r=>{ce()?r(s):r(g,!1)})}e(v,w)},I=v=>{var w=p(),x=o(w);{var s=r=>{var f=He();e(r,f)},g=r=>{var f=p(),Ae=o(f);{var Pe=D=>{var F=p(),q=o(F);{var J=m=>{var W=Me();e(m,W)},O=m=>{var W=p(),K=o(W);{var R=T=>{var xe=Ge();e(T,xe)};t(K,T=>{S()||T(R)},!0)}e(m,W)};t(q,m=>{le()?m(O,!1):m(J)})}e(D,F)},Ie=D=>{var F=p(),q=o(F);{var J=O=>{var m=p(),W=o(m);{var K=R=>{var T=Ue();e(R,T)};t(W,R=>{!S()&&G()&&R(K)})}e(O,m)};t(q,O=>{V()&&O(J)},!0)}e(D,F)};t(Ae,D=>{G()?D(Ie,!1):D(Pe)},!0)}e(r,f)};t(x,r=>{ce()?r(s):r(g,!1)},!0)}e(v,w)};t(c,v=>{ne()?v(P):v(I,!1)},!0)}e(a,l)};t(Y,a=>{u(E)||S()&&!G()&&le()?a(X):a(Z,!1)})}var j=C(Y,2),b=H(j);{var $=a=>{M(a,{onClick:ge,fullWidth:!0,children:(l,c)=>{var P=y("install web app");e(l,P)},$$slots:{default:!0}})},B=a=>{var l=p(),c=o(l);{var P=I=>{M(I,{element:"a",target:"_blank",rel:"noopener noreferrer",href:`${window.location.origin}`,fullWidth:!0,children:(v,w)=>{var x=y("open app");e(v,x)},$$slots:{default:!0}})};t(c,I=>{(u(E)||S())&&I(P)},!0)}e(a,l)};t(b,a=>{G()?a($):a(B,!1)})}var A=C(b,2);M(A,{onClick:re,fullWidth:!0,type:"secondary",children:(a,l)=>{var c=y("continue in browser");e(a,c)},$$slots:{default:!0}}),e(k,L)},we=k=>{var L=p(),Y=o(L);{var X=j=>{var b=ze(),$=o(b);pe($,{children:(a,l)=>{var c=y("installing app...");e(a,c)}});var B=C($,2),A=H(B);oe(A,{}),e(j,b)},Z=j=>{var b=p(),$=o(b);{var B=A=>{var a=Xe(),l=o(a);pe(l,{children:(s,g)=>{var r=y("app installed successfully!");e(s,r)}});var c=C(l,2);{var P=s=>{var g=Ne();e(s,g)};t(c,s=>{S()||s(P)})}var I=C(c,2),v=H(I);{var w=s=>{M(s,{element:"a",target:"_blank",rel:"noopener noreferrer",href:`${window.location.origin}`,fullWidth:!0,children:(g,r)=>{var f=y("open app");e(g,f)},$$slots:{default:!0}})};t(v,s=>{S()&&s(w)})}var x=C(v,2);M(x,{onClick:re,fullWidth:!0,type:"secondary",children:(s,g)=>{var r=y("continue in browser");e(s,r)},$$slots:{default:!0}}),e(A,a)};t($,A=>{u(d)==="success"&&A(B)},!0)}e(j,b)};t(Y,j=>{u(d)==="installing"?j(X):j(Z,!1)},!0)}e(k,L)};t(N,k=>{u(d)==="idle"?k(be):k(we,!1)},!0)}e(n,_)};t(me,n=>{u(d)==="preLoader"?n(he):n(je,!1)})}e(ee,te),We()}export{Je as default};
