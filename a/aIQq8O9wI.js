import{p as Ae,n as we,z as Pe,A as Ie,q as Se,o as xe,k as S,h as X,g as m,u as $e,f as v,i as o,c as N,d as e,j as Ce,l,H as Z,x,s as z,B as G,v as p,P as Y,L as ke,F as ne}from"./aCxKU5lFO.js";const ye=async()=>"getInstalledRelatedApps"in navigator?(await navigator?.getInstalledRelatedApps?.())?.some(f=>f.platform==="webapp")??!1:!1,T=()=>window.installPrompt;function ze(){const r=navigator.userAgent,f=/iPad|iPhone|iPod/.test(r);return f?!!f:!1}const ee=()=>{const r=navigator.userAgent;return/android/i.test(r)},O=()=>{const r=navigator.userAgent;return/chrome|crios/i.test(r)&&!/edg|edgios|edga|brave/i.test(r)&&!navigator.brave},le=()=>{const r="serviceWorker"in navigator,f="onbeforeinstallprompt"in window;return r&&f},ie=()=>{const r=navigator.userAgent;return!!(/Safari/.test(r)&&!/Chrome/.test(r)&&!/CriOS/.test(r)&&!/FxiOS/.test(r))};var We=v('<p class="message svelte-1uagzbf">App is already installed.</p>'),Be=v('<p class="message svelte-1uagzbf">For install app, select the share button and select "Add to Home Screen".</p>'),De=v('<p class="message svelte-1uagzbf">Install app available on Safari.</p>'),Oe=v(`<p class="message svelte-1uagzbf">From the menu bar, choose File > Add to Dock. Or click the Share button in the Safari
				toolbar, then choose Add to Dock.</p>`),Ee=v('<p class="message svelte-1uagzbf">Installation is not supported in this browser. use Brave, Chrome or Edge.</p>'),Fe=v(`<p class="message svelte-1uagzbf">App is already installed or installation is not supported in this browser. use Brave,
					Chrome or Edge.</p>`),Re=v('<p class="message svelte-1uagzbf">For better experience, install app from Chrome.</p>'),He=v(`<!> <p class="message svelte-1uagzbf">You can install app to have a better experience and more reliable storage or you can use it in
			your browser and install later.</p> <!> <div class="container svelte-1uagzbf"><!> <!></div>`,1),Le=v('<!> <div class="loader svelte-1uagzbf"><!></div>',1),Me=v('<p class="message svelte-1uagzbf">Open the app from your device.</p>'),Ge=v('<!> <!> <div class="container svelte-1uagzbf"><!> <!></div>',1),Te=v('<div class="block svelte-1uagzbf"><!></div>');function je(r,f){Ae(f,!0);const{pushDialogPage:ve,clearDialogPages:ce}=we(),{replace:ae}=Pe(),{getAccount:te}=Ie(),{blockDialog:re}=Se();let h=X("idle"),E=X(!1),U=X(null);const pe=()=>{te()===void 0?ve(Y.AccountSetup):ce()},se=()=>{pe()},de=async()=>{const i=T();try{i&&(S(h,"installing"),"onappinstalled"in window&&window.addEventListener("appinstalled",()=>{if(S(E,!0),!ee()){re(!1);const c=te();ae(c===void 0?`/?${ne}=${encodeURIComponent(`${Y.Welcome},${Y.InstallSuccess}`)}`:`/?${ne}=${encodeURIComponent(`${Y.InstallSuccess}`)}`)}}),await i.prompt(),i.userChoice?.then(c=>{c.outcome==="accepted"?(window.installPrompt=null,ee()&&S(U,setTimeout(()=>{S(U,null),m(E)?S(h,"success"):S(h,"idle")},5e3),!0)):S(h,"idle")}))}catch(c){console.error("Error during install prompt:",c)}};xe(()=>(ye().then(i=>{S(E,i,!0)}),()=>{m(U)&&clearTimeout(m(U))})),$e(()=>{re(m(h)==="installing")});var oe=Te(),ue=N(oe);{var fe=i=>{var c=He(),j=l(c);Z(j,{children:(a,s)=>{var d=x("install app");e(a,d)}});var q=z(j,4);{var J=a=>{var s=We();e(a,s)},b=a=>{var s=p(),d=l(s);{var y=u=>{var w=p(),t=l(w);{var g=n=>{var I=Be();e(n,I)},P=n=>{var I=De();e(n,I)};o(t,n=>{ie()?n(g):n(P,!1)})}e(u,w)},A=u=>{var w=p(),t=l(w);{var g=n=>{var I=Oe();e(n,I)},P=n=>{var I=p(),_e=l(I);{var me=B=>{var R=p(),K=l(R);{var Q=_=>{var D=Ee();e(_,D)},H=_=>{var D=p(),V=l(D);{var L=M=>{var be=Fe();e(M,be)};o(V,M=>{O()||M(L)},!0)}e(_,D)};o(K,_=>{le()?_(H,!1):_(Q)})}e(B,R)},he=B=>{var R=p(),K=l(R);{var Q=H=>{var _=p(),D=l(_);{var V=L=>{var M=Re();e(L,M)};o(D,L=>{!O()&&T()&&L(V)})}e(H,_)};o(K,H=>{ee()&&H(Q)},!0)}e(B,R)};o(_e,B=>{T()?B(he,!1):B(me)},!0)}e(n,I)};o(t,n=>{ie()?n(g):n(P,!1)},!0)}e(u,w)};o(d,u=>{ze()?u(y):u(A,!1)},!0)}e(a,s)};o(q,a=>{m(E)||O()&&!T()&&le()?a(J):a(b,!1)})}var $=z(q,2),C=N($);{var F=a=>{G(a,{onClick:de,fullWidth:!0,children:(s,d)=>{var y=x("install web app");e(s,y)},$$slots:{default:!0}})},k=a=>{var s=p(),d=l(s);{var y=A=>{G(A,{element:"a",target:"_blank",rel:"noopener noreferrer",href:`${window.location.origin}`,fullWidth:!0,children:(u,w)=>{var t=x("open app");e(u,t)},$$slots:{default:!0}})};o(d,A=>{(m(E)||O())&&A(y)},!0)}e(a,s)};o(C,a=>{T()?a(F):a(k,!1)})}var W=z(C,2);G(W,{onClick:se,fullWidth:!0,type:"secondary",children:(a,s)=>{var d=x("continue in browser");e(a,d)},$$slots:{default:!0}}),e(i,c)},ge=i=>{var c=p(),j=l(c);{var q=b=>{var $=Le(),C=l($);Z(C,{children:(W,a)=>{var s=x("installing app...");e(W,s)}});var F=z(C,2),k=N(F);ke(k,{}),e(b,$)},J=b=>{var $=p(),C=l($);{var F=k=>{var W=Ge(),a=l(W);Z(a,{children:(t,g)=>{var P=x("app installed successfully!");e(t,P)}});var s=z(a,2);{var d=t=>{var g=Me();e(t,g)};o(s,t=>{O()||t(d)})}var y=z(s,2),A=N(y);{var u=t=>{G(t,{element:"a",target:"_blank",rel:"noopener noreferrer",href:`${window.location.origin}`,fullWidth:!0,children:(g,P)=>{var n=x("open app");e(g,n)},$$slots:{default:!0}})};o(A,t=>{O()&&t(u)})}var w=z(A,2);G(w,{onClick:se,fullWidth:!0,type:"secondary",children:(t,g)=>{var P=x("continue in browser");e(t,P)},$$slots:{default:!0}}),e(k,W)};o(C,k=>{m(h)==="success"&&k(F)},!0)}e(b,$)};o(j,b=>{m(h)==="installing"?b(q):b(J,!1)},!0)}e(i,c)};o(ue,i=>{m(h)==="idle"?i(fe):i(ge,!1)})}e(r,oe),Ce()}export{je as default};
