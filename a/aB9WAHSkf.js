import{p as Q,Y as re,h as ne,r as ie,o as G,g as i,f as K,s as l,c as e,J as w,K as C,b as v,a as d,I as m,t as H,M as F,N as q,d as J,j as R,k as ce,w as U,n as oe,Z as pe,i as ve,_ as de,y as k,P as n}from"./aBVoKl8bg.js";import{S as me}from"./aD9eusBwo.js";var he=K('<div class="wrapper svelte-1rhfuek"><fieldset class="switcher svelte-1rhfuek"><legend class="vh svelte-1rhfuek">Color Scheme</legend> <input id="light" type="radio" aria-label="Light"/> <label for="light" title="Light" aria-label="Light"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <input id="system" type="radio" aria-label="System"/> <label for="system" title="System" aria-label="System"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <input id="dark" type="radio" aria-label="Dark"/> <label for="dark" title="Dark" aria-label="Dark"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <div class="wrapSwitcherStatus svelte-1rhfuek"><div class="switcherStatus svelte-1rhfuek"></div></div></fieldset></div>');function ue(z,$){Q($,!0);const{createBroadcastChannel:h}=re(),x=h(),s={Light:"light",System:"system",Dark:"dark"};let f=ne(ie(localStorage.getItem("colorScheme")||s.System));const E=t=>{localStorage.setItem("colorScheme",t);const r=document.querySelector('meta[name="theme-color"]'),p=document.querySelector('meta[name="apple-mobile-web-app-status-bar-style"]');t===s.System?window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.dataset.colorScheme=s.Dark:document.documentElement.dataset.colorScheme=s.Light:document.documentElement.dataset.colorScheme=t,r&&(t===s.Dark||t===s.System&&window.matchMedia("(prefers-color-scheme: dark)").matches?(r.content="#000",p.content="black"):(r.content="#f7f7f7",p.content="black-translucent")),ce(f,t,!0)},_=t=>{const r=t.target.value;E(r),x.postMessage({type:"setColorScheme",data:{scheme:r}})},g="color-scheme-switcher";G(()=>{const t=r=>{const p=JSON.parse(r.data);p?.type==="setColorScheme"&&p?.data.scheme&&E(p.data.scheme)};return x.addEventListener(t),()=>{x.removeEventListener(t)}}),G(()=>{const t=()=>{setTimeout(()=>{const r=document.querySelector('meta[name="theme-color"]');r.content="#ff0000",setTimeout(()=>{r.content=i(f)==="dark"?"#000":"#f7f7f7"},3e3)},3e3)};return document.addEventListener("visibilitychange",t),()=>document.removeEventListener("visibilitychange",t)});var I={setColorScheme:E,handleChange:_},T=he(),A=e(T),c=l(e(A),2);w(c,1,C(["vh","input"]),"svelte-1rhfuek"),v(c,"name",g),c.__change=_;var y=l(c,2);w(y,1,C(["switcherButton","light"]),"svelte-1rhfuek");var P=e(y);d(P,()=>({"--size":"20px"})),m(P.lastChild,{name:"sun"});var o=l(y,2);w(o,1,C(["vh","input"]),"svelte-1rhfuek"),v(o,"name",g),o.__change=_;var b=l(o,2);w(b,1,C(["switcherButton","system"]),"svelte-1rhfuek");var S=e(b);d(S,()=>({"--size":"14px"})),m(S.lastChild,{name:"a"});var u=l(b,2);w(u,1,C(["vh","input"]),"svelte-1rhfuek"),v(u,"name",g),u.__change=_;var D=l(u,2);w(D,1,C(["switcherButton","dark"]),"svelte-1rhfuek");var L=e(D);return d(L,()=>({"--size":"20px"})),m(L.lastChild,{name:"moon"}),H(()=>{F(c,s.Light),q(c,i(f)===s.Light),F(o,s.System),q(o,i(f)===s.System),F(u,s.Dark),q(u,i(f)===s.Dark)}),J(z,T),R(I)}U(["change"]);var fe=K('<li class="svelte-1pi6mf7"><a class="button svelte-1pi6mf7"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1pi6mf7">Install app</span></a></li>'),_e=K('<div class="block svelte-1pi6mf7"><!> <ul class="svelte-1pi6mf7"><!> <li class="svelte-1pi6mf7"><a class="button svelte-1pi6mf7"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1pi6mf7">Account</span></a></li> <li class="svelte-1pi6mf7"><a class="button svelte-1pi6mf7"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1pi6mf7">Import data</span></a></li> <li class="svelte-1pi6mf7"><a class="button svelte-1pi6mf7"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1pi6mf7">Export data</span></a></li> <li class="svelte-1pi6mf7"><a class="button svelte-1pi6mf7"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1pi6mf7">Clear storage</span></a></li> <li class="svelte-1pi6mf7"><a class="button svelte-1pi6mf7"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1pi6mf7">About</span></a></li></ul> <div class="favicons svelte-1pi6mf7"><span class="faviconsLabel svelte-1pi6mf7">show favicons (use duckduckgo servers)</span> <!></div> <div class="hotkeys svelte-1pi6mf7"><div class="hotkey__head svelte-1pi6mf7">Hotkeys:</div> <div>New note: <span class="hotkey svelte-1pi6mf7">N</span></div> <div>Search notes: <span class="hotkey svelte-1pi6mf7">Ctrl/Cmd + K</span></div> <div>Open sidebar: <span class="hotkey svelte-1pi6mf7">Ctrl/Cmd + B</span></div> <div>Close window: <span class="hotkey svelte-1pi6mf7">Esc</span></div></div></div>');function ge(z,$){Q($,!0);const{createHandlePage:h}=oe(),{setFaviconShown:x,getFaviconEnabled:s}=pe();let f=k(s);const E=a=>{x(a)};var _=_e(),g=e(_);ue(g,{});var I=l(g,2),T=e(I);{var A=a=>{var Y=fe(),N=e(Y),se=k(()=>h(n.Install));N.__click=function(...le){i(se)?.apply(this,le)};var Z=e(N);d(Z,()=>({"--size":"28px"})),m(Z.lastChild,{name:"install"}),H(()=>v(N,"href",`/?stackPages=${n.Install}`)),J(a,Y)};ve(T,a=>{de()||a(A)})}var c=l(T,2),y=e(c),P=k(()=>h(n.Account));y.__click=function(...a){i(P)?.apply(this,a)};var o=e(y);d(o,()=>({"--size":"28px"})),m(o.lastChild,{name:"account"});var b=l(c,2),S=e(b),u=k(()=>h(n.ImportData));S.__click=function(...a){i(u)?.apply(this,a)};var D=e(S);d(D,()=>({"--size":"28px"})),m(D.lastChild,{name:"import"});var L=l(b,2),t=e(L),r=k(()=>h(n.ExportData));t.__click=function(...a){i(r)?.apply(this,a)};var p=e(t);d(p,()=>({"--size":"28px"})),m(p.lastChild,{name:"export"});var O=l(L,2),B=e(O),V=k(()=>h(n.ClearStore));B.__click=function(...a){i(V)?.apply(this,a)};var j=e(B);d(j,()=>({"--size":"28px"})),m(j.lastChild,{name:"clear"});var X=l(O,2),M=e(X),ee=k(()=>h(n.About));M.__click=function(...a){i(ee)?.apply(this,a)};var W=e(M);d(W,()=>({"--size":"28px"})),m(W.lastChild,{name:"about"});var te=l(I,2),ae=l(e(te),2);me(ae,{get checked(){return i(f)},onChange:E}),H(()=>{v(y,"href",`/?stackPages=${n.Account}`),v(S,"href",`/?stackPages=${n.ImportData}`),v(t,"href",`/?stackPages=${n.ExportData}`),v(B,"href",`/?stackPages=${n.ClearStore}`),v(M,"href",`/?stackPages=${n.About}`)}),J(z,_),R()}U(["click"]);export{ge as default};
