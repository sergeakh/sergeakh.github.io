import{p as H,X as se,j as q,k as ae,o as G,f as M,s,c as e,J as w,K as y,b as $,a as m,I as b,t as N,M as j,N as F,g as S,d as A,n as J,l as Q,v as V,V as le,w as ne,h as re,Y as oe,y as ce,m as ie,x as ve,P as I}from"./jGidwpLY.js";var pe=M('<div class="wrapper svelte-1rhfuek"><fieldset class="switcher svelte-1rhfuek"><legend class="vh svelte-1rhfuek">Color Scheme</legend> <input id="light" type="radio" aria-label="Light"/> <label for="light" title="Light" aria-label="Light"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <input id="system" type="radio" aria-label="System"/> <label for="system" title="System" aria-label="System"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <input id="dark" type="radio" aria-label="Dark"/> <label for="dark" title="Dark" aria-label="Dark"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <div class="wrapSwitcherStatus svelte-1rhfuek"><div class="switcherStatus svelte-1rhfuek"></div></div></fieldset></div>');function de(n,t){H(t,!0);const{createBroadcastChannel:r}=se(),c=r(),a={Light:"light",System:"system",Dark:"dark"};let d=q(ae(localStorage.getItem("colorScheme")||a.System));const h=l=>{localStorage.setItem("colorScheme",l),l===a.System?window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.dataset.colorScheme=a.Dark:document.documentElement.dataset.colorScheme=a.Light:document.documentElement.dataset.colorScheme=l,Q(d,l,!0)},u=l=>{const _=l.target.value;h(_),c.postMessage({type:"setColorScheme",data:{scheme:_}})},C="color-scheme-switcher";G(()=>{const l=_=>{const k=JSON.parse(_.data);k?.type==="setColorScheme"&&k?.data.scheme&&h(k.data.scheme)};return c.addEventListener(l),()=>{c.removeEventListener(l)}});var T={setColorScheme:h,handleChange:u},x=pe(),B=e(x),i=s(e(B),2);w(i,1,y(["vh","input"]),"svelte-1rhfuek"),$(i,"name",C),i.__change=u;var f=s(i,2);w(f,1,y(["switcherButton","light"]),"svelte-1rhfuek");var D=e(f);m(D,()=>({"--size":"20px"})),b(D.lastChild,{name:"sun"});var v=s(f,2);w(v,1,y(["vh","input"]),"svelte-1rhfuek"),$(v,"name",C),v.__change=u;var g=s(v,2);w(g,1,y(["switcherButton","system"]),"svelte-1rhfuek");var E=e(g);m(E,()=>({"--size":"14px"})),b(E.lastChild,{name:"a"});var p=s(g,2);w(p,1,y(["vh","input"]),"svelte-1rhfuek"),$(p,"name",C),p.__change=u;var L=s(p,2);w(L,1,y(["switcherButton","dark"]),"svelte-1rhfuek");var z=e(L);return m(z,()=>({"--size":"20px"})),b(z.lastChild,{name:"moon"}),N(()=>{j(i,a.Light),F(i,S(d)===a.Light),j(v,a.System),F(v,S(d)===a.System),j(p,a.Dark),F(p,S(d)===a.Dark)}),A(n,x),J(T)}V(["change"]);const he=(n,t)=>{t.onChange(!t.checked)};var ue=M('<label class="switch svelte-18l3no4"><input class="vh svelte-18l3no4" type="checkbox"/> <span class="slider svelte-18l3no4"></span> <!></label>');function me(n,t){H(t,!0);var r=ue(),c=e(r);c.__change=[he,t];var a=s(c,4);le(a,{children:(d,h)=>{var u=ne("Toggle switch");A(d,u)}}),N(()=>F(c,t.checked)),A(n,r),J()}V(["change"]);const be=(n,t)=>{t(I.ImportData)},_e=(n,t)=>{t(I.ExportData)},fe=(n,t)=>{t(I.ClearStore)},ge=(n,t)=>{t(I.Account)},ke=(n,t)=>{t(I.About)};var we=M("<span> </span>"),ye=M('<div class="svelte-1pi6mf7"><!> <ul class="svelte-1pi6mf7"><li class="svelte-1pi6mf7"><button class="button svelte-1pi6mf7"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1pi6mf7">Import data</span></button></li> <li class="svelte-1pi6mf7"><button class="button svelte-1pi6mf7"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1pi6mf7">Export data</span></button></li> <li class="svelte-1pi6mf7"><button class="button svelte-1pi6mf7"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1pi6mf7">Clear storage</span></button></li> <li class="svelte-1pi6mf7"><button class="button svelte-1pi6mf7"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1pi6mf7">Account</span></button></li> <li class="svelte-1pi6mf7"><button class="button svelte-1pi6mf7"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1pi6mf7">About</span></button></li></ul> <div class="favicons svelte-1pi6mf7"><span class="faviconsLabel svelte-1pi6mf7">show favicons (use duckduckgo servers)</span> <!></div> <div class="version svelte-1pi6mf7"><!></div></div>');function Ce(n,t){H(t,!0);const{pushStackPages:r}=re(),{setFaviconShown:c,getFaviconEnabled:a}=oe();let d=ce(a),h=q("");const u=async o=>{try{const P=await(await fetch("/build-metadata.json",{signal:o})).json();Q(h,`${P.buildHash}`)}catch{}};G(()=>{const o=new AbortController;return u(o.signal),()=>{o.abort()}});const C=o=>{c(o)};var T=ye(),x=e(T);de(x,{});var B=s(x,2),i=e(B),f=e(i);f.__click=[be,r];var D=e(f);m(D,()=>({"--size":"28px"})),b(D.lastChild,{name:"import"});var v=s(i,2),g=e(v);g.__click=[_e,r];var E=e(g);m(E,()=>({"--size":"28px"})),b(E.lastChild,{name:"export"});var p=s(v,2),L=e(p);L.__click=[fe,r];var z=e(L);m(z,()=>({"--size":"28px"})),b(z.lastChild,{name:"bin"});var l=s(p,2),_=e(l);_.__click=[ge,r];var k=e(_);m(k,()=>({"--size":"28px"})),b(k.lastChild,{name:"account"});var R=s(l,2),K=e(R);K.__click=[ke,r];var X=e(K);m(X,()=>({"--size":"28px"})),b(X.lastChild,{name:"about"});var Y=s(B,2),U=s(e(Y),2);me(U,{get checked(){return S(d)},onChange:C});var W=s(Y,2),Z=e(W);{var ee=o=>{var O=we(),P=e(O);N(te=>ve(P,`version: 0.0.3 build_date: "${te??""}" build_hash:
				${S(h)??""}`),[()=>new Date(1759492996509).toISOString().replaceAll("T"," ").replace(/\..*/,"")]),A(o,O)};ie(Z,o=>{S(h)&&o(ee)})}A(n,T),J()}V(["click"]);export{Ce as default};
