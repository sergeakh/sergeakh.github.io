const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["a/Da8bzTex.js","a/BAW-HnOs.css","a/ByKiFDKt.js","a/9q_jSmK4.js","a/BEGDcNQV.js","a/CoBIEQkN.css","a/DKkyee67.js","a/BYiYfrGn.css","a/BT7UdKPw.js","a/A07xSe-1.css","a/CXwPGKlG.js","a/B_UsPGEu.css","a/5CCDlpjO.js","a/Cpa8lgv9.js","a/DIxwGVrN.js","a/j0KFa_-O.css","a/hu7yjlv8.css","a/DyDx56N_.js","a/DdtNEiTc.js","a/CTZccJ9I.css","a/HOTUjnfJ.css","a/B_afMx2c.js","a/DdvqrzuO.css","a/DBD5qf5s.js","a/B0cemaEl.css","a/NgAZnP7D.js","a/wHiSqZiK.css","a/Dsmb0p7B.js","a/D39tHP55.js","a/BJkY6727.css","a/BMIWHGVh.js","a/CTvV7MYb.css","a/CWB3val3.js","a/D0s4m_LM.css","a/CWHvvBXN.js","a/CwLtx71M.css","a/DrKqp_Io.js","a/CBB22PtM.css","a/CL4CAy0t.js","a/1JBO3KHP.css"])))=>i.map(i=>d[i]);
var Ls=Object.defineProperty;var Ba=e=>{throw TypeError(e)};var Ms=(e,t,n)=>t in e?Ls(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Pn=(e,t,n)=>Ms(e,typeof t!="symbol"?t+"":t,n),Kr=(e,t,n)=>t.has(e)||Ba("Cannot "+n);var L=(e,t,n)=>(Kr(e,t,"read from private field"),n?n.call(e):t.get(e)),ve=(e,t,n)=>t.has(e)?Ba("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),$=(e,t,n,r)=>(Kr(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Ve=(e,t,n)=>(Kr(e,t,"access private method"),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();const to=!1;var va=Array.isArray,Bs=Array.prototype.indexOf,ha=Array.from,ea=Object.defineProperty,Tn=Object.getOwnPropertyDescriptor,no=Object.getOwnPropertyDescriptors,Is=Object.prototype,Os=Array.prototype,ga=Object.getPrototypeOf,Ia=Object.isExtensible;const he=()=>{};function Rs(e){return typeof e?.then=="function"}function Fs(e){return e()}function Er(e){for(var t=0;t<e.length;t++)e[t]()}function zs(){var e,t,n=new Promise((r,o)=>{e=r,t=o});return{promise:n,resolve:e,reject:t}}function Hs(e,t,n=!1){return e===void 0?n?t():t:e}const et=2,_a=4,Lr=8,Hn=16,Mt=32,_n=64,pa=128,it=256,Pr=512,Ue=1024,lt=2048,$t=4096,ht=8192,pn=16384,ma=32768,Un=65536,Oa=1<<17,Us=1<<18,jn=1<<19,ro=1<<20,ta=1<<21,wa=1<<22,fn=1<<23,vn=Symbol("$state"),js=Symbol("legacy props"),Vs=Symbol(""),ya=new class extends Error{constructor(){super(...arguments);Pn(this,"name","StaleReactionError");Pn(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function ao(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function qs(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Ws(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Ys(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Ks(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Gs(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Xs(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function Zs(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Js(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Qs(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function $s(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const Mr=1,Br=2,oo=4,ei=8,ti=16,ni=1,ri=2,ai=4,oi=8,si=16,ii=1,li=2,Ne=Symbol(),ci="http://www.w3.org/1999/xhtml";let ui=!1;function so(e){return e===this.v}function di(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function io(e){return!di(e,this.v)}let Vn=!1,fi=!1;function vi(){Vn=!0}let we=null;function Jt(e){we=e}function Te(e){return lo().get(e)}function Ae(e,t){return lo().set(e,t),t}function W(e,t=!1,n){we={p:we,c:null,e:null,s:e,x:null,l:Vn&&!t?{s:null,u:null,$:[]}:null}}function Y(e){var t=we,n=t.e;if(n!==null){t.e=null;for(var r of n)Co(r)}return e!==void 0&&(t.x=e),we=t.p,e??{}}function qn(){return!Vn||we!==null&&we.l===null}function lo(e){return we===null&&ao(),we.c??(we.c=new Map(hi(we)||void 0))}function hi(e){let t=e.p;for(;t!==null;){const n=t.c;if(n!==null)return n;t=t.p}return null}let Yt=[],xr=[];function co(){var e=Yt;Yt=[],Er(e)}function gi(){var e=xr;xr=[],Er(e)}function _i(){return Yt.length>0||xr.length>0}function mn(e){if(Yt.length===0&&!Qn){var t=Yt;queueMicrotask(()=>{t===Yt&&co()})}Yt.push(e)}function pi(){Yt.length>0&&co(),xr.length>0&&gi()}const mi=new WeakMap;function uo(e){var t=le;if(t===null)return ie.f|=fn,e;if((t.f&ma)===0){if((t.f&pa)===0)throw!t.parent&&e instanceof Error&&fo(e),e;t.b.error(e)}else On(e,t)}function On(e,t){for(;t!==null;){if((t.f&pa)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e instanceof Error&&fo(e),e}function fo(e){const t=mi.get(e);t&&(ea(e,"message",{value:t.message}),ea(e,"stack",{value:t.stack}))}const Gr=new Set;let ke=null,yr=null,na=new Set,gn=[],Ir=null,ra=!1,Qn=!1;var rr,Mn,Ut,ar,or,sn,Bn,ln,jt,In,sr,ir,gt,vo,br,aa;const Tr=class Tr{constructor(){ve(this,gt);Pn(this,"current",new Map);ve(this,rr,new Map);ve(this,Mn,new Set);ve(this,Ut,0);ve(this,ar,null);ve(this,or,!1);ve(this,sn,[]);ve(this,Bn,[]);ve(this,ln,[]);ve(this,jt,[]);ve(this,In,[]);ve(this,sr,[]);ve(this,ir,[]);Pn(this,"skipped_effects",new Set)}process(t){gn=[],yr=null;for(const o of t)Ve(this,gt,vo).call(this,o);if(L(this,sn).length===0&&L(this,Ut)===0){Ve(this,gt,aa).call(this);var n=L(this,ln),r=L(this,jt);$(this,ln,[]),$(this,jt,[]),$(this,In,[]),yr=ke,ke=null,Ra(n),Ra(r),ke===null?ke=this:Gr.delete(this),L(this,ar)?.resolve()}else Ve(this,gt,br).call(this,L(this,ln)),Ve(this,gt,br).call(this,L(this,jt)),Ve(this,gt,br).call(this,L(this,In));for(const o of L(this,sn))Ln(o);for(const o of L(this,Bn))Ln(o);$(this,sn,[]),$(this,Bn,[])}capture(t,n){L(this,rr).has(t)||L(this,rr).set(t,n),this.current.set(t,t.v)}activate(){ke=this}deactivate(){ke=null,yr=null;for(const t of na)if(na.delete(t),t(),ke!==null)break}neuter(){$(this,or,!0)}flush(){gn.length>0?go():Ve(this,gt,aa).call(this),ke===this&&(L(this,Ut)===0&&Gr.delete(this),this.deactivate())}increment(){$(this,Ut,L(this,Ut)+1)}decrement(){if($(this,Ut,L(this,Ut)-1),L(this,Ut)===0){for(const t of L(this,sr))Ke(t,lt),Rn(t);for(const t of L(this,ir))Ke(t,$t),Rn(t);$(this,ln,[]),$(this,jt,[]),this.flush()}else this.deactivate()}add_callback(t){L(this,Mn).add(t)}settled(){return(L(this,ar)??$(this,ar,zs())).promise}static ensure(){if(ke===null){const t=ke=new Tr;Gr.add(ke),Qn||Tr.enqueue(()=>{ke===t&&t.flush()})}return ke}static enqueue(t){mn(t)}};rr=new WeakMap,Mn=new WeakMap,Ut=new WeakMap,ar=new WeakMap,or=new WeakMap,sn=new WeakMap,Bn=new WeakMap,ln=new WeakMap,jt=new WeakMap,In=new WeakMap,sr=new WeakMap,ir=new WeakMap,gt=new WeakSet,vo=function(t){t.f^=Ue;for(var n=t.first;n!==null;){var r=n.f,o=(r&(Mt|_n))!==0,a=o&&(r&Ue)!==0,i=a||(r&ht)!==0||this.skipped_effects.has(n);if(!i&&n.fn!==null){if(o)n.f^=Ue;else if((r&_a)!==0)L(this,jt).push(n);else if((r&Ue)===0)if((r&wa)!==0){var l=n.b?.is_pending()?L(this,Bn):L(this,sn);l.push(n)}else zr(n)&&((n.f&Hn)!==0&&L(this,In).push(n),Ln(n));var c=n.first;if(c!==null){n=c;continue}}var u=n.parent;for(n=n.next;n===null&&u!==null;)n=u.next,u=u.parent}},br=function(t){for(const n of t)((n.f&lt)!==0?L(this,sr):L(this,ir)).push(n),Ke(n,Ue);t.length=0},aa=function(){if(!L(this,or))for(const t of L(this,Mn))t();L(this,Mn).clear()};let Gt=Tr;function ho(e){var t=Qn;Qn=!0;try{for(var n;;){if(pi(),gn.length===0&&!_i()&&(ke?.flush(),gn.length===0))return Ir=null,n;go()}}finally{Qn=t}}function go(){var e=Nn;ra=!0;try{var t=0;for(Ha(!0);gn.length>0;){var n=Gt.ensure();if(t++>1e3){var r,o;wi()}n.process(gn),Xt.clear()}}finally{ra=!1,Ha(e),Ir=null}}function wi(){try{Gs()}catch(e){On(e,Ir)}}let on=null;function Ra(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if((r.f&(pn|ht))===0&&zr(r)&&(on=[],Ln(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?xo(r):r.fn=null),on?.length>0)){Xt.clear();for(const o of on)Ln(o);on=[]}}on=null}}function Rn(e){for(var t=Ir=e;t.parent!==null;){t=t.parent;var n=t.f;if(ra&&t===le&&(n&Hn)!==0)return;if((n&(_n|Mt))!==0){if((n&Ue)===0)return;t.f^=Ue}}gn.push(t)}function yi(e){let t=0,n=Lt(0),r;return()=>{Oi()&&(s(n),Fr(()=>(t===0&&(r=Ct(()=>e(()=>$n(n)))),t+=1,()=>{mn(()=>{t-=1,t===0&&(r?.(),r=void 0,$n(n))})})))}}var bi=Un|jn|pa;function Si(e,t,n){new ki(e,t,n)}var ft,ot,fa,yt,cn,bt,st,Ye,St,Vt,un,qt,dn,Wt,Ar,Nr,We,Ci,Ei,Sr,kr,oa;class ki{constructor(t,n,r){ve(this,We);Pn(this,"parent");ve(this,ft,!1);ve(this,ot);ve(this,fa,null);ve(this,yt);ve(this,cn);ve(this,bt);ve(this,st,null);ve(this,Ye,null);ve(this,St,null);ve(this,Vt,null);ve(this,un,0);ve(this,qt,0);ve(this,dn,!1);ve(this,Wt,null);ve(this,Ar,()=>{L(this,Wt)&&At(L(this,Wt),L(this,un))});ve(this,Nr,yi(()=>($(this,Wt,Lt(L(this,un))),()=>{$(this,Wt,null)})));$(this,ot,t),$(this,yt,n),$(this,cn,r),this.parent=le.b,$(this,ft,!!L(this,yt).pending),$(this,bt,Wn(()=>{le.b=this;{try{$(this,st,He(()=>r(L(this,ot))))}catch(o){this.error(o)}L(this,qt)>0?Ve(this,We,kr).call(this):$(this,ft,!1)}},bi))}is_pending(){return L(this,ft)||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!L(this,yt).pending}update_pending_count(t){Ve(this,We,oa).call(this,t),$(this,un,L(this,un)+t),na.add(L(this,Ar))}get_effect_pending(){return L(this,Nr).call(this),s(L(this,Wt))}error(t){var n=L(this,yt).onerror;let r=L(this,yt).failed;if(L(this,dn)||!n&&!r)throw t;L(this,st)&&($e(L(this,st)),$(this,st,null)),L(this,Ye)&&($e(L(this,Ye)),$(this,Ye,null)),L(this,St)&&($e(L(this,St)),$(this,St,null));var o=!1,a=!1;const i=()=>{if(o){return}o=!0,a&&$s(),Gt.ensure(),$(this,un,0),L(this,St)!==null&&kt(L(this,St),()=>{$(this,St,null)}),$(this,ft,this.has_pending_snippet()),$(this,st,Ve(this,We,Sr).call(this,()=>($(this,dn,!1),He(()=>L(this,cn).call(this,L(this,ot)))))),L(this,qt)>0?Ve(this,We,kr).call(this):$(this,ft,!1)};var l=ie;try{je(null),a=!0,n?.(t,i),a=!1}catch(c){On(c,L(this,bt)&&L(this,bt).parent)}finally{je(l)}r&&mn(()=>{$(this,St,Ve(this,We,Sr).call(this,()=>{$(this,dn,!0);try{return He(()=>{r(L(this,ot),()=>t,()=>i)})}catch(c){return On(c,L(this,bt).parent),null}finally{$(this,dn,!1)}}))})}}ft=new WeakMap,ot=new WeakMap,fa=new WeakMap,yt=new WeakMap,cn=new WeakMap,bt=new WeakMap,st=new WeakMap,Ye=new WeakMap,St=new WeakMap,Vt=new WeakMap,un=new WeakMap,qt=new WeakMap,dn=new WeakMap,Wt=new WeakMap,Ar=new WeakMap,Nr=new WeakMap,We=new WeakSet,Ci=function(){try{$(this,st,He(()=>L(this,cn).call(this,L(this,ot))))}catch(t){this.error(t)}$(this,ft,!1)},Ei=function(){const t=L(this,yt).pending;t&&($(this,Ye,He(()=>t(L(this,ot)))),Gt.enqueue(()=>{$(this,st,Ve(this,We,Sr).call(this,()=>(Gt.ensure(),He(()=>L(this,cn).call(this,L(this,ot)))))),L(this,qt)>0?Ve(this,We,kr).call(this):(kt(L(this,Ye),()=>{$(this,Ye,null)}),$(this,ft,!1))}))},Sr=function(t){var n=le,r=ie,o=we;ct(L(this,bt)),je(L(this,bt)),Jt(L(this,bt).ctx);try{return t()}catch(a){return uo(a),null}finally{ct(n),je(r),Jt(o)}},kr=function(){const t=L(this,yt).pending;L(this,st)!==null&&($(this,Vt,document.createDocumentFragment()),Pi(L(this,st),L(this,Vt))),L(this,Ye)===null&&$(this,Ye,He(()=>t(L(this,ot))))},oa=function(t){var n;if(!this.has_pending_snippet()){this.parent&&Ve(n=this.parent,We,oa).call(n,t);return}$(this,qt,L(this,qt)+t),L(this,qt)===0&&($(this,ft,!1),L(this,Ye)&&kt(L(this,Ye),()=>{$(this,Ye,null)}),L(this,Vt)&&(L(this,ot).before(L(this,Vt)),$(this,Vt,null)))};function Pi(e,t){for(var n=e.nodes_start,r=e.nodes_end;n!==null;){var o=n===r?null:cr(n);t.append(n),n=o}}function xi(e,t,n){const r=qn()?lr:Or;if(t.length===0){n(e.map(r));return}var o=ke,a=le,i=Di();Promise.all(t.map(l=>Ti(l))).then(l=>{o?.activate(),i();try{n([...e.map(r),...l])}catch(c){(a.f&pn)===0&&On(c,a)}o?.deactivate(),_o()}).catch(l=>{On(l,a)})}function Di(){var e=le,t=ie,n=we,r=ke;return function(){ct(e),je(t),Jt(n),r?.activate()}}function _o(){ct(null),je(null),Jt(null)}function lr(e){var t=et|lt,n=ie!==null&&(ie.f&et)!==0?ie:null;return le===null||n!==null&&(n.f&it)!==0?t|=it:le.f|=jn,{ctx:we,deps:null,effects:null,equals:so,f:t,fn:e,reactions:null,rv:0,v:Ne,wv:0,parent:n??le,ac:null}}function Ti(e,t){let n=le;n===null&&qs();var r=n.b,o=void 0,a=Lt(Ne),i=null,l=!ie;return Ui(()=>{try{var c=e();i&&Promise.resolve(c).catch(()=>{})}catch(h){c=Promise.reject(h)}var u=()=>c;o=i?.then(u,u)??Promise.resolve(c),i=o;var d=ke,v=r.is_pending();l&&(r.update_pending_count(1),v||d.increment());const g=(h,f=void 0)=>{i=null,v||d.activate(),f?f!==ya&&(a.f|=fn,At(a,f)):((a.f&fn)!==0&&(a.f^=fn),At(a,h)),l&&(r.update_pending_count(-1),v||d.decrement()),_o()};if(o.then(g,h=>g(null,h||"unknown")),d)return()=>{queueMicrotask(()=>d.neuter())}}),new Promise(c=>{function u(d){function v(){d===o?c(a):u(o)}d.then(v,v)}u(o)})}function I(e){const t=lr(e);return Ao(t),t}function Or(e){const t=lr(e);return t.equals=io,t}function po(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)$e(t[n])}}function Ai(e){for(var t=e.parent;t!==null;){if((t.f&et)===0)return t;t=t.parent}return null}function ba(e){var t,n=le;ct(Ai(e));try{po(e),t=Bo(e)}finally{ct(n)}return t}function mo(e){var t=ba(e);if(e.equals(t)||(e.v=t,e.wv=Lo()),!yn){var n=(Kt||(e.f&it)!==0)&&e.deps!==null?$t:Ue;Ke(e,n)}}const Xt=new Map;function Lt(e,t){var n={f:0,v:e,reactions:null,equals:so,rv:0,wv:0};return n}function O(e,t){const n=Lt(e);return Ao(n),n}function sa(e,t=!1,n=!0){var o;const r=Lt(e);return t||(r.equals=io),Vn&&n&&we!==null&&we.l!==null&&((o=we.l).s??(o.s=[])).push(r),r}function b(e,t,n=!1){ie!==null&&(!vt||(ie.f&Oa)!==0)&&qn()&&(ie.f&(et|Hn|wa|Oa))!==0&&!Nt?.includes(e)&&Qs();let r=n?Be(t):t;return At(e,r)}function At(e,t){if(!e.equals(t)){var n=e.v;yn?Xt.set(e,t):Xt.set(e,n),e.v=t;var r=Gt.ensure();r.capture(e,n),(e.f&et)!==0&&((e.f&lt)!==0&&ba(e),Ke(e,(e.f&it)===0?Ue:$t)),e.wv=Lo(),wo(e,lt),qn()&&le!==null&&(le.f&Ue)!==0&&(le.f&(Mt|_n))===0&&(at===null?qi([e]):at.push(e))}return t}function $n(e){b(e,e.v+1)}function wo(e,t){var n=e.reactions;if(n!==null)for(var r=qn(),o=n.length,a=0;a<o;a++){var i=n[a],l=i.f;if(!(!r&&i===le)){var c=(l&lt)===0;c&&Ke(i,t),(l&et)!==0?wo(i,$t):c&&((l&Hn)!==0&&on!==null&&on.push(i),Rn(i))}}}function Be(e){if(typeof e!="object"||e===null||vn in e)return e;const t=ga(e);if(t!==Is&&t!==Os)return e;var n=new Map,r=va(e),o=O(0),a=hn,i=l=>{if(hn===a)return l();var c=ie,u=hn;je(null),ja(a);var d=l();return je(c),ja(u),d};return r&&n.set("length",O(e.length)),new Proxy(e,{defineProperty(l,c,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&Zs();var d=n.get(c);return d===void 0?d=i(()=>{var v=O(u.value);return n.set(c,v),v}):b(d,u.value,!0),!0},deleteProperty(l,c){var u=n.get(c);if(u===void 0){if(c in l){const d=i(()=>O(Ne));n.set(c,d),$n(o)}}else b(u,Ne),$n(o);return!0},get(l,c,u){if(c===vn)return e;var d=n.get(c),v=c in l;if(d===void 0&&(!v||Tn(l,c)?.writable)&&(d=i(()=>{var h=Be(v?l[c]:Ne),f=O(h);return f}),n.set(c,d)),d!==void 0){var g=s(d);return g===Ne?void 0:g}return Reflect.get(l,c,u)},getOwnPropertyDescriptor(l,c){var u=Reflect.getOwnPropertyDescriptor(l,c);if(u&&"value"in u){var d=n.get(c);d&&(u.value=s(d))}else if(u===void 0){var v=n.get(c),g=v?.v;if(v!==void 0&&g!==Ne)return{enumerable:!0,configurable:!0,value:g,writable:!0}}return u},has(l,c){if(c===vn)return!0;var u=n.get(c),d=u!==void 0&&u.v!==Ne||Reflect.has(l,c);if(u!==void 0||le!==null&&(!d||Tn(l,c)?.writable)){u===void 0&&(u=i(()=>{var g=d?Be(l[c]):Ne,h=O(g);return h}),n.set(c,u));var v=s(u);if(v===Ne)return!1}return d},set(l,c,u,d){var v=n.get(c),g=c in l;if(r&&c==="length")for(var h=u;h<v.v;h+=1){var f=n.get(h+"");f!==void 0?b(f,Ne):h in l&&(f=i(()=>O(Ne)),n.set(h+"",f))}if(v===void 0)(!g||Tn(l,c)?.writable)&&(v=i(()=>O(void 0)),b(v,Be(u)),n.set(c,v));else{g=v.v!==Ne;var _=i(()=>Be(u));b(v,_)}var m=Reflect.getOwnPropertyDescriptor(l,c);if(m?.set&&m.set.call(d,u),!g){if(r&&typeof c=="string"){var S=n.get("length"),C=Number(c);Number.isInteger(C)&&C>=S.v&&b(S,C+1)}$n(o)}return!0},ownKeys(l){s(o);var c=Reflect.ownKeys(l).filter(v=>{var g=n.get(v);return g===void 0||g.v!==Ne});for(var[u,d]of n)d.v!==Ne&&!(u in l)&&c.push(u);return c},setPrototypeOf(){Js()}})}var Fa,yo,bo,So;function Ni(){if(Fa===void 0){Fa=window,yo=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;bo=Tn(t,"firstChild").get,So=Tn(t,"nextSibling").get,Ia(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Ia(n)&&(n.__t=void 0)}}function wn(e=""){return document.createTextNode(e)}function Fn(e){return bo.call(e)}function cr(e){return So.call(e)}function x(e,t){return Fn(e)}function B(e,t=!1){{var n=Fn(e);return n instanceof Comment&&n.data===""?cr(n):n}}function F(e,t=1,n=!1){let r=e;for(;t--;)r=cr(r);return r}function Li(e){e.textContent=""}function Sa(){return!1}let za=!1;function Mi(){za||(za=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function Rr(e){var t=ie,n=le;je(null),ct(null);try{return e()}finally{je(t),ct(n)}}function Bi(e,t,n,r=n){e.addEventListener(t,()=>Rr(n));const o=e.__on_r;o?e.__on_r=()=>{o(),r(!0)}:e.__on_r=()=>r(!0),Mi()}function ko(e){le===null&&ie===null&&Ks(),ie!==null&&(ie.f&it)!==0&&le===null&&Ys(),yn&&Ws()}function Ii(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function Pt(e,t,n,r=!0){var o=le;o!==null&&(o.f&ht)!==0&&(e|=ht);var a={ctx:we,deps:null,nodes_start:null,nodes_end:null,f:e|lt,first:null,fn:t,last:null,next:null,parent:o,b:o&&o.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{Ln(a),a.f|=ma}catch(c){throw $e(a),c}else t!==null&&Rn(a);if(r){var i=a;if(n&&i.deps===null&&i.teardown===null&&i.nodes_start===null&&i.first===i.last&&(i.f&jn)===0&&(i=i.first),i!==null&&(i.parent=o,o!==null&&Ii(i,o),ie!==null&&(ie.f&et)!==0&&(e&_n)===0)){var l=ie;(l.effects??(l.effects=[])).push(i)}}return a}function Oi(){return ie!==null&&!vt}function Ri(e){const t=Pt(Lr,null,!1);return Ke(t,Ue),t.teardown=e,t}function Le(e){ko();var t=le.f,n=!ie&&(t&Mt)!==0&&(t&ma)===0;if(n){var r=we;(r.e??(r.e=[])).push(e)}else return Co(e)}function Co(e){return Pt(_a|ro,e,!1)}function Fi(e){return ko(),Pt(Lr|ro,e,!0)}function zi(e){Gt.ensure();const t=Pt(_n|jn,e,!0);return(n={})=>new Promise(r=>{n.outro?kt(t,()=>{$e(t),r(void 0)}):($e(t),r(void 0))})}function Hi(e){return Pt(_a,e,!1)}function Ui(e){return Pt(wa|jn,e,!0)}function Fr(e,t=0){return Pt(Lr|t,e,!0)}function ce(e,t=[],n=[]){xi(t,n,r=>{Pt(Lr,()=>e(...r.map(s)),!0)})}function Wn(e,t=0){var n=Pt(Hn|t,e,!0);return n}function He(e,t=!0){return Pt(Mt|jn,e,!0,t)}function Eo(e){var t=e.teardown;if(t!==null){const n=yn,r=ie;Ua(!0),je(null);try{t.call(null)}finally{Ua(n),je(r)}}}function Po(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const o=n.ac;o!==null&&Rr(()=>{o.abort(ya)});var r=n.next;(n.f&_n)!==0?n.parent=null:$e(n,t),n=r}}function ji(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&Mt)===0&&$e(t),t=n}}function $e(e,t=!0){var n=!1;(t||(e.f&Us)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(Vi(e.nodes_start,e.nodes_end),n=!0),Po(e,t&&!n),Dr(e,0),Ke(e,pn);var r=e.transitions;if(r!==null)for(const a of r)a.stop();Eo(e);var o=e.parent;o!==null&&o.first!==null&&xo(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function Vi(e,t){for(;e!==null;){var n=e===t?null:cr(e);e.remove(),e=n}}function xo(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function kt(e,t){var n=[];ka(e,n,!0),Do(n,()=>{$e(e),t&&t()})}function Do(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var o of e)o.out(r)}else t()}function ka(e,t,n){if((e.f&ht)===0){if(e.f^=ht,e.transitions!==null)for(const i of e.transitions)(i.is_global||n)&&t.push(i);for(var r=e.first;r!==null;){var o=r.next,a=(r.f&Un)!==0||(r.f&Mt)!==0;ka(r,t,a?n:!1),r=o}}}function An(e){To(e,!0)}function To(e,t){if((e.f&ht)!==0){e.f^=ht,(e.f&Ue)===0&&(Ke(e,lt),Rn(e));for(var n=e.first;n!==null;){var r=n.next,o=(n.f&Un)!==0||(n.f&Mt)!==0;To(n,o?t:!1),n=r}if(e.transitions!==null)for(const a of e.transitions)(a.is_global||t)&&a.in()}}let Nn=!1;function Ha(e){Nn=e}let yn=!1;function Ua(e){yn=e}let ie=null,vt=!1;function je(e){ie=e}let le=null;function ct(e){le=e}let Nt=null;function Ao(e){ie!==null&&(Nt===null?Nt=[e]:Nt.push(e))}let qe=null,Je=0,at=null;function qi(e){at=e}let No=1,er=0,hn=er;function ja(e){hn=e}let Kt=!1;function Lo(){return++No}function zr(e){var t=e.f;if((t&lt)!==0)return!0;if((t&$t)!==0){var n=e.deps,r=(t&it)!==0;if(n!==null){var o,a,i=(t&Pr)!==0,l=r&&le!==null&&!Kt,c=n.length;if((i||l)&&(le===null||(le.f&pn)===0)){var u=e,d=u.parent;for(o=0;o<c;o++)a=n[o],(i||!a?.reactions?.includes(u))&&(a.reactions??(a.reactions=[])).push(u);i&&(u.f^=Pr),l&&d!==null&&(d.f&it)===0&&(u.f^=it)}for(o=0;o<c;o++)if(a=n[o],zr(a)&&mo(a),a.wv>e.wv)return!0}(!r||le!==null&&!Kt)&&Ke(e,Ue)}return!1}function Mo(e,t,n=!0){var r=e.reactions;if(r!==null&&!Nt?.includes(e))for(var o=0;o<r.length;o++){var a=r[o];(a.f&et)!==0?Mo(a,t,!1):t===a&&(n?Ke(a,lt):(a.f&Ue)!==0&&Ke(a,$t),Rn(a))}}function Bo(e){var _;var t=qe,n=Je,r=at,o=ie,a=Kt,i=Nt,l=we,c=vt,u=hn,d=e.f;qe=null,Je=0,at=null,Kt=(d&it)!==0&&(vt||!Nn||ie===null),ie=(d&(Mt|_n))===0?e:null,Nt=null,Jt(e.ctx),vt=!1,hn=++er,e.ac!==null&&(Rr(()=>{e.ac.abort(ya)}),e.ac=null);try{e.f|=ta;var v=e.fn,g=v(),h=e.deps;if(qe!==null){var f;if(Dr(e,Je),h!==null&&Je>0)for(h.length=Je+qe.length,f=0;f<qe.length;f++)h[Je+f]=qe[f];else e.deps=h=qe;if(!Kt||(d&et)!==0&&e.reactions!==null)for(f=Je;f<h.length;f++)((_=h[f]).reactions??(_.reactions=[])).push(e)}else h!==null&&Je<h.length&&(Dr(e,Je),h.length=Je);if(qn()&&at!==null&&!vt&&h!==null&&(e.f&(et|$t|lt))===0)for(f=0;f<at.length;f++)Mo(at[f],e);return o!==null&&o!==e&&(er++,at!==null&&(r===null?r=at:r.push(...at))),(e.f&fn)!==0&&(e.f^=fn),g}catch(m){return uo(m)}finally{e.f^=ta,qe=t,Je=n,at=r,ie=o,Kt=a,Nt=i,Jt(l),vt=c,hn=u}}function Wi(e,t){let n=t.reactions;if(n!==null){var r=Bs.call(n,e);if(r!==-1){var o=n.length-1;o===0?n=t.reactions=null:(n[r]=n[o],n.pop())}}n===null&&(t.f&et)!==0&&(qe===null||!qe.includes(t))&&(Ke(t,$t),(t.f&(it|Pr))===0&&(t.f^=Pr),po(t),Dr(t,0))}function Dr(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)Wi(e,n[r])}function Ln(e){var t=e.f;if((t&pn)===0){Ke(e,Ue);var n=le,r=Nn;le=e,Nn=!0;try{(t&Hn)!==0?ji(e):Po(e),Eo(e);var o=Bo(e);e.teardown=typeof o=="function"?o:null,e.wv=No;var a;to&&fi&&(e.f&lt)!==0&&e.deps}finally{Nn=r,le=n}}}async function Io(){await Promise.resolve(),ho()}function s(e){var t=e.f,n=(t&et)!==0;if(ie!==null&&!vt){var r=le!==null&&(le.f&pn)!==0;if(!r&&!Nt?.includes(e)){var o=ie.deps;if((ie.f&ta)!==0)e.rv<er&&(e.rv=er,qe===null&&o!==null&&o[Je]===e?Je++:qe===null?qe=[e]:(!Kt||!qe.includes(e))&&qe.push(e));else{(ie.deps??(ie.deps=[])).push(e);var a=e.reactions;a===null?e.reactions=[ie]:a.includes(ie)||a.push(ie)}}}else if(n&&e.deps===null&&e.effects===null){var i=e,l=i.parent;l!==null&&(l.f&it)===0&&(i.f^=it)}if(yn){if(Xt.has(e))return Xt.get(e);if(n){i=e;var c=i.v;return((i.f&Ue)===0&&i.reactions!==null||Oo(i))&&(c=ba(i)),Xt.set(i,c),c}}else n&&(i=e,zr(i)&&mo(i));if((e.f&fn)!==0)throw e.v;return e.v}function Oo(e){if(e.v===Ne)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(Xt.has(t)||(t.f&et)!==0&&Oo(t))return!0;return!1}function Ct(e){var t=vt;try{return vt=!0,e()}finally{vt=t}}const Yi=-7169;function Ke(e,t){e.f=e.f&Yi|t}function Ki(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(vn in e)ia(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&vn in n&&ia(n)}}}function ia(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{ia(e[r],t)}catch{}const n=ga(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=no(n);for(let o in r){const a=r[o].get;if(a)try{a.call(e)}catch{}}}}}const Gi=["touchstart","touchmove"];function Xi(e){return Gi.includes(e)}const Ro=new Set,la=new Set;function Zi(e,t,n,r={}){function o(a){if(r.capture||Gn.call(t,a),!a.cancelBubble)return Rr(()=>n?.call(this,a))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?mn(()=>{t.addEventListener(e,o,r)}):t.addEventListener(e,o,r),o}function Ca(e,t,n,r,o){var a={capture:r,passive:o},i=Zi(e,t,n,a);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&Ri(()=>{t.removeEventListener(e,i,a)})}function tt(e){for(var t=0;t<e.length;t++)Ro.add(e[t]);for(var n of la)n(e)}let Va=null;function Gn(e){var t=this,n=t.ownerDocument,r=e.type,o=e.composedPath?.()||[],a=o[0]||e.target;Va=e;var i=0,l=Va===e&&e.__root;if(l){var c=o.indexOf(l);if(c!==-1&&(t===document||t===window)){e.__root=t;return}var u=o.indexOf(t);if(u===-1)return;c<=u&&(i=c)}if(a=o[i]||e.target,a!==t){ea(e,"currentTarget",{configurable:!0,get(){return a||n}});var d=ie,v=le;je(null),ct(null);try{for(var g,h=[];a!==null;){var f=a.assignedSlot||a.parentNode||a.host||null;try{var _=a["__"+r];if(_!=null&&(!a.disabled||e.target===a))if(va(_)){var[m,...S]=_;m.apply(a,[e,...S])}else _.call(a,e)}catch(C){g?h.push(C):g=C}if(e.cancelBubble||f===t||f===null)break;a=f}if(g){for(let C of h)queueMicrotask(()=>{throw C});throw g}}finally{e.__root=t,delete e.currentTarget,je(d),ct(v)}}}function Fo(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function tr(e,t){var n=le;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function H(e,t){var n=(t&ii)!==0,r=(t&li)!==0,o,a=!e.startsWith("<!>");return()=>{o===void 0&&(o=Fo(a?e:"<!>"+e),n||(o=Fn(o)));var i=r||yo?document.importNode(o,!0):o.cloneNode(!0);if(n){var l=Fn(i),c=i.lastChild;tr(l,c)}else tr(i,i);return i}}function Ji(e,t,n="svg"){var r=!e.startsWith("<!>"),o=`<${n}>${r?e:"<!>"+e}</${n}>`,a;return()=>{if(!a){var i=Fo(o),l=Fn(i);a=Fn(l)}var c=a.cloneNode(!0);return tr(c,c),c}}function Qi(e,t){return Ji(e,t,"svg")}function De(e=""){{var t=wn(e+"");return tr(t,t),t}}function z(){var e=document.createDocumentFragment(),t=document.createComment(""),n=wn();return e.append(t,n),tr(t,n),e}function p(e,t){e!==null&&e.before(t)}function Pd(){var e;return(e=window.__svelte??(window.__svelte={})).uid??(e.uid=1),`c${window.__svelte.uid++}`}function Zt(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function $i(e,t){return el(e,t)}const xn=new Map;function el(e,{target:t,anchor:n,props:r={},events:o,context:a,intro:i=!0}){Ni();var l=new Set,c=v=>{for(var g=0;g<v.length;g++){var h=v[g];if(!l.has(h)){l.add(h);var f=Xi(h);t.addEventListener(h,Gn,{passive:f});var _=xn.get(h);_===void 0?(document.addEventListener(h,Gn,{passive:f}),xn.set(h,1)):xn.set(h,_+1)}}};c(ha(Ro)),la.add(c);var u=void 0,d=zi(()=>{var v=n??t.appendChild(wn());return Si(v,{pending:()=>{}},g=>{if(a){W({});var h=we;h.c=a}o&&(r.$$events=o),u=e(g,r)||{},a&&Y()}),()=>{for(var g of l){t.removeEventListener(g,Gn);var h=xn.get(g);--h===0?(document.removeEventListener(g,Gn),xn.delete(g)):xn.set(g,h)}la.delete(c),v!==n&&v.parentNode?.removeChild(v)}});return tl.set(u,d),u}let tl=new WeakMap;const Xr=0,_r=1,Zr=2;function zo(e,t,n,r,o){var a=e,i=qn(),l=we,c=Ne,u,d,v,g=i?Lt(void 0):sa(void 0,!1,!1),h=i?Lt(void 0):sa(void 0,!1,!1),f=!1;function _(S,C){f=!0,C&&(ct(m),je(m),Jt(l));try{S===Xr&&n&&(u?An(u):u=He(()=>n(a))),S===_r&&r&&(d?An(d):d=He(()=>r(a,g))),S===Zr&&o&&(v?An(v):v=He(()=>o(a,h))),S!==Xr&&u&&kt(u,()=>u=null),S!==_r&&d&&kt(d,()=>d=null),S!==Zr&&v&&kt(v,()=>v=null)}finally{C&&(Jt(null),je(null),ct(null),ho())}}var m=Wn(()=>{if(c!==(c=t())){if(Rs(c)){var S=c;f=!1,S.then(C=>{S===c&&(At(g,C),_(_r,!0))},C=>{if(S===c&&(At(h,C),_(Zr,!0),!o))throw h.v}),mn(()=>{f||_(Xr,!0)})}else At(g,c),_(_r,!1);return()=>c=Ne}})}function j(e,t,n=!1){var r=e,o=null,a=null,i=Ne,l=n?Un:0,c=!1;const u=(h,f=!0)=>{c=!0,g(f,h)};var d=null;function v(){d!==null&&(d.lastChild.remove(),r.before(d),d=null);var h=i?o:a,f=i?a:o;h&&An(h),f&&kt(f,()=>{i?a=null:o=null})}const g=(h,f)=>{if(i!==(i=h)){var _=Sa(),m=r;if(_&&(d=document.createDocumentFragment(),d.append(m=wn())),i?o??(o=f&&He(()=>f(m))):a??(a=f&&He(()=>f(m))),_){var S=ke,C=i?o:a,k=i?a:o;C&&S.skipped_effects.delete(C),k&&S.skipped_effects.add(k),S.add_callback(v)}else v()}};Wn(()=>{c=!1,t(u),c||g(null,null)},l)}function pe(e,t){Fr(()=>{var n=t();for(var r in n){var o=n[r];o?e.style.setProperty(r,o):e.style.removeProperty(r)}})}function nl(e,t,n){for(var r=e.items,o=[],a=t.length,i=0;i<a;i++)ka(t[i].e,o,!0);var l=a>0&&o.length===0&&n!==null;if(l){var c=n.parentNode;Li(c),c.append(n),r.clear(),wt(e,t[0].prev,t[a-1].next)}Do(o,()=>{for(var u=0;u<a;u++){var d=t[u];l||(r.delete(d.k),wt(e,d.prev,d.next)),$e(d.e,!l)}})}function Hr(e,t,n,r,o,a=null){var i=e,l={flags:t,items:new Map,first:null},c=(t&oo)!==0;if(c){var u=e;i=u.appendChild(wn())}var d=null,v=!1,g=new Map,h=Or(()=>{var S=n();return va(S)?S:S==null?[]:ha(S)}),f,_;function m(){rl(_,f,l,g,i,o,t,r,n),a!==null&&(f.length===0?d?An(d):d=He(()=>a(i)):d!==null&&kt(d,()=>{d=null}))}Wn(()=>{_??(_=le),f=s(h);var S=f.length;if(!(v&&S===0)){v=S===0;var C,k,N,M;if(Sa()){var y=new Set,w=ke;for(k=0;k<S;k+=1){N=f[k],M=r(N,k);var E=l.items.get(M)??g.get(M);E?(t&(Mr|Br))!==0&&Ho(E,N,k,t):(C=Uo(null,l,null,null,N,M,k,o,t,n,!0),g.set(M,C)),y.add(M)}for(const[U,J]of l.items)y.has(U)||w.skipped_effects.add(J.e);w.add_callback(m)}else m();s(h)}})}function rl(e,t,n,r,o,a,i,l,c){var u=(i&ei)!==0,d=(i&(Mr|Br))!==0,v=t.length,g=n.items,h=n.first,f=h,_,m=null,S,C=[],k=[],N,M,y,w;if(u)for(w=0;w<v;w+=1)N=t[w],M=l(N,w),y=g.get(M),y!==void 0&&(y.a?.measure(),(S??(S=new Set)).add(y));for(w=0;w<v;w+=1){if(N=t[w],M=l(N,w),y=g.get(M),y===void 0){var E=r.get(M);if(E!==void 0){r.delete(M),g.set(M,E);var U=m?m.next:f;wt(n,m,E),wt(n,E,U),Jr(E,U,o),m=E}else{var J=f?f.e.nodes_start:o;m=Uo(J,n,m,m===null?n.first:m.next,N,M,w,a,i,c)}g.set(M,m),C=[],k=[],f=m.next;continue}if(d&&Ho(y,N,w,i),(y.e.f&ht)!==0&&(An(y.e),u&&(y.a?.unfix(),(S??(S=new Set)).delete(y))),y!==f){if(_!==void 0&&_.has(y)){if(C.length<k.length){var ne=k[0],X;m=ne.prev;var de=C[0],V=C[C.length-1];for(X=0;X<C.length;X+=1)Jr(C[X],ne,o);for(X=0;X<k.length;X+=1)_.delete(k[X]);wt(n,de.prev,V.next),wt(n,m,de),wt(n,V,ne),f=ne,m=V,w-=1,C=[],k=[]}else _.delete(y),Jr(y,f,o),wt(n,y.prev,y.next),wt(n,y,m===null?n.first:m.next),wt(n,m,y),m=y;continue}for(C=[],k=[];f!==null&&f.k!==M;)(f.e.f&ht)===0&&(_??(_=new Set)).add(f),k.push(f),f=f.next;if(f===null)continue;y=f}C.push(y),m=y,f=y.next}if(f!==null||_!==void 0){for(var Q=_===void 0?[]:ha(_);f!==null;)(f.e.f&ht)===0&&Q.push(f),f=f.next;var te=Q.length;if(te>0){var ae=(i&oo)!==0&&v===0?o:null;if(u){for(w=0;w<te;w+=1)Q[w].a?.measure();for(w=0;w<te;w+=1)Q[w].a?.fix()}nl(n,Q,ae)}}u&&mn(()=>{if(S!==void 0)for(y of S)y.a?.apply()}),e.first=n.first&&n.first.e,e.last=m&&m.e;for(var ee of r.values())$e(ee.e);r.clear()}function Ho(e,t,n,r){(r&Mr)!==0&&At(e.v,t),(r&Br)!==0?At(e.i,n):e.i=n}function Uo(e,t,n,r,o,a,i,l,c,u,d){var v=(c&Mr)!==0,g=(c&ti)===0,h=v?g?sa(o,!1,!1):Lt(o):o,f=(c&Br)===0?i:Lt(i),_={i:f,v:h,k:a,a:null,e:null,prev:n,next:r};try{if(e===null){var m=document.createDocumentFragment();m.append(e=wn())}return _.e=He(()=>l(e,h,f,u),ui),_.e.prev=n&&n.e,_.e.next=r&&r.e,n===null?d||(t.first=_):(n.next=_,n.e.next=_.e),r!==null&&(r.prev=_,r.e.prev=_.e),_}finally{}}function Jr(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,o=t?t.e.nodes_start:n,a=e.e.nodes_start;a!==null&&a!==r;){var i=cr(a);o.before(a),a=i}}function wt(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function ue(e,t,...n){var r=e,o=he,a;Wn(()=>{o!==(o=t())&&(a&&($e(a),a=null),a=He(()=>o(r,...n)))},Un)}function jo(e,t,n){var r=e,o,a,i=null,l=null;function c(){a&&(kt(a),a=null),i&&(i.lastChild.remove(),r.before(i),i=null),a=l,l=null}Wn(()=>{if(o!==(o=t())){var u=Sa();if(o){var d=r;u&&(i=document.createDocumentFragment(),i.append(d=wn()),a&&ke.skipped_effects.add(a)),l=He(()=>n(d,o))}u?ke.add_callback(c):c()}},Un)}function Vo(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=Vo(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function al(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=Vo(e))&&(r&&(r+=" "),r+=t);return r}function ge(e){return typeof e=="object"?al(e):e??""}const qa=[...` 	
\r\f \v\uFEFF`];function ol(e,t,n){var r=e==null?"":""+e;if(t&&(r=r?r+" "+t:t),n){for(var o in n)if(n[o])r=r?r+" "+o:o;else if(r.length)for(var a=o.length,i=0;(i=r.indexOf(o,i))>=0;){var l=i+a;(i===0||qa.includes(r[i-1]))&&(l===r.length||qa.includes(r[l]))?r=(i===0?"":r.substring(0,i))+r.substring(l+1):i=l}}return r===""?null:r}function sl(e,t){return e==null?null:String(e)}function _e(e,t,n,r,o,a){var i=e.__className;if(i!==n||i===void 0){var l=ol(n,r,a);l==null?e.removeAttribute("class"):e.className=l,e.__className=n}else if(a&&o!==a)for(var c in a){var u=!!a[c];(o==null||u!==!!o[c])&&e.classList.toggle(c,u)}return a}function nr(e,t,n,r){var o=e.__style;if(o!==t){var a=sl(t);a==null?e.removeAttribute("style"):e.style.cssText=a,e.__style=t}return r}const il=Symbol("is custom element"),ll=Symbol("is html");function xd(e,t){var n=Ea(e);n.value===(n.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function Dd(e,t){var n=Ea(e);n.checked!==(n.checked=t??void 0)&&(e.checked=t)}function Pe(e,t,n,r){var o=Ea(e);o[t]!==(o[t]=n)&&(t==="loading"&&(e[Vs]=n),n==null?e.removeAttribute(t):typeof n!="string"&&cl(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function Ea(e){return e.__attributes??(e.__attributes={[il]:e.nodeName.includes("-"),[ll]:e.namespaceURI===ci})}var Wa=new Map;function cl(e){var t=e.getAttribute("is")||e.nodeName,n=Wa.get(t);if(n)return n;Wa.set(t,n=[]);for(var r,o=e,a=Element.prototype;a!==o;){r=no(o);for(var i in r)r[i].set&&n.push(i);o=ga(o)}return n}function ul(e,t,n=t){var r=new WeakSet;Bi(e,"input",async o=>{var a=o?e.defaultValue:e.value;if(a=Qr(e)?$r(a):a,n(a),ke!==null&&r.add(ke),await Io(),a!==(a=t())){var i=e.selectionStart,l=e.selectionEnd;e.value=a??"",l!==null&&(e.selectionStart=i,e.selectionEnd=Math.min(l,e.value.length))}}),Ct(t)==null&&e.value&&(n(Qr(e)?$r(e.value):e.value),ke!==null&&r.add(ke)),Fr(()=>{var o=t();if(e===document.activeElement){var a=yr??ke;if(r.has(a))return}Qr(e)&&o===$r(e.value)||e.type==="date"&&!o&&!e.value||o!==e.value&&(e.value=o??"")})}function Qr(e){var t=e.type;return t==="number"||t==="range"}function $r(e){return e===""?null:+e}function Ya(e,t){return e===t||e?.[vn]===t}function Et(e={},t,n,r){return Hi(()=>{var o,a;return Fr(()=>{o=a,a=[],Ct(()=>{e!==n(...a)&&(t(e,...a),o&&Ya(n(...o),e)&&t(null,...o))})}),()=>{mn(()=>{a&&Ya(n(...a),e)&&t(null,...a)})}}),e}function Pa(e=!1){const t=we,n=t.l.u;if(!n)return;let r=()=>Ki(t.s);if(e){let o=0,a={};const i=lr(()=>{let l=!1;const c=t.s;for(const u in c)c[u]!==a[u]&&(a[u]=c[u],l=!0);return l&&o++,o});r=()=>s(i)}n.b.length&&Fi(()=>{Ka(t,r),Er(n.b)}),Le(()=>{const o=Ct(()=>n.m.map(Fs));return()=>{for(const a of o)typeof a=="function"&&a()}}),n.a.length&&Le(()=>{Ka(t,r),Er(n.a)})}function Ka(e,t){if(e.l.s)for(const n of e.l.s)s(n);t()}let pr=!1;function dl(e){var t=pr;try{return pr=!1,[e(),pr]}finally{pr=t}}function re(e,t,n,r){var o=!Vn||(n&ri)!==0,a=(n&oi)!==0,i=(n&si)!==0,l=r,c=!0,u=()=>(c&&(c=!1,l=i?Ct(r):r),l),d;if(a){var v=vn in e||js in e;d=Tn(e,t)?.set??(v&&t in e?k=>e[t]=k:void 0)}var g,h=!1;a?[g,h]=dl(()=>e[t]):g=e[t],g===void 0&&r!==void 0&&(g=u(),d&&(o&&Xs(),d(g)));var f;if(o?f=()=>{var k=e[t];return k===void 0?u():(c=!0,k)}:f=()=>{var k=e[t];return k!==void 0&&(l=void 0),k===void 0?l:k},o&&(n&ai)===0)return f;if(d){var _=e.$$legacy;return(function(k,N){return arguments.length>0?((!o||!N||_||h)&&d(N?f():k),k):f()})}var m=!1,S=((n&ni)!==0?lr:Or)(()=>(m=!1,f()));a&&s(S);var C=le;return(function(k,N){if(arguments.length>0){const M=N?s(S):o&&a?Be(k):k;return b(S,M),m=!0,l!==void 0&&(l=M),k}return yn&&m||(C.f&pn)!==0?S.v:s(S)})}function Ce(e){we===null&&ao(),Vn&&we.l!==null?fl(we).m.push(e):Le(()=>{const t=Ct(e);if(typeof t=="function")return t})}function fl(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const vl="5";var eo;typeof window<"u"&&((eo=window.__svelte??(window.__svelte={})).v??(eo.v=new Set)).add(vl);vi();const qo={};function hl(e){Ae(qo,e)}function Wo(){const e=Te(qo);if(!e)throw new Error("No SearchContext found");return e}const Yo={};function gl(e){Ae(Yo,e)}function _t(){const e=Te(Yo);if(!e)throw new Error("No AppHistoryContext found");return e}function _l(e,t){W(t,!0);const{replace:n,getAppHistory:r}=_t(),o=I(r),a="search",i=Be({value:new URLSearchParams(r().search).get(a)||""}),l=d=>{const v=new URLSearchParams(s(o).search),g=s(o).pathname;(v.get(a)||"")!==d&&(d===""?v.delete(a):v.set(a,d),n(`${g}${v.size>0?`?${v.toString()}`:""}`))};Le(()=>{const d=i.value;Ct(()=>{l(d)})}),hl(i);var c=z(),u=B(c);ue(u,()=>t.children??he),p(e,c),Y()}const Ko={};function pl(e){Ae(Ko,e)}function Go(){const e=Te(Ko);if(!e)throw new Error("No TagSearchContext found");return e}function ml(e,t){W(t,!0);const n=Be({value:""});pl(n);var r=z(),o=B(r);ue(o,()=>t.children??he),p(e,r),Y()}const Xo={};function wl(e){Ae(Xo,e)}function Zo(){const e=Te(Xo);if(!e)throw new Error("No FeedOrderContext found");return e}function yl(e,t){W(t,!0);const{navigate:n,getAppHistory:r}=_t(),o=I(r),a="feedOrder";let i=O(Be(new URLSearchParams(r().search).get(a)||"newest"));wl({getFeedOrder:()=>s(i),setFeedOrder:v=>{b(i,v,!0);const g=new URLSearchParams(s(o).search);v==="newest"?g.delete(a):g.set(a,v),n(`${s(o).pathname}${g.size>0?`?${g.toString()}`:""}`)}});var u=z(),d=B(u);ue(d,()=>t.children??he),p(e,u),Y()}const Jo={};function bl(e){Ae(Jo,e)}function Qo(){const e=Te(Jo);if(!e)throw new Error("No SidebarContext found");return e}function Sl(e,t){W(t,!0);const n=(d,v)=>{if(!v)return d;if(v.type==="closed")return{type:"closed"};switch(d.type){case"opened":return v.type==="close"?{type:"closing"}:v.type==="swipe"?{type:"openSwiping"}:d;case"closed":return v.type==="open"?{type:"opening"}:v.type==="swipe"?{type:"closeSwiping"}:d;case"openSwiping":return v.type==="open"?{type:"opening"}:v.type==="close"?{type:"closing"}:d;case"closeSwiping":return v.type==="open"?{type:"opening"}:v.type==="close"?{type:"closing"}:d;case"opening":return v.type==="opened"?{type:"opened"}:d;default:return d}};let r=O(Be(n({type:"closed"})));const o=d=>{b(r,n(s(r),d),!0)};bl({sidebarOpen:()=>{o({type:"open"})},sidebarClose:()=>{o({type:"close"})},handleComputeState:o,getSidebarState:()=>s(r)});var c=z(),u=B(c);ue(u,()=>t.children??he),p(e,c),Y()}const $o={};function kl(e){Ae($o,e)}function es(){const e=Te($o);if(!e)throw new Error("No SelectedTagsContext found");return e}const ts=(e,t)=>{let n=null;return()=>{n&&clearTimeout(n),n=setTimeout(()=>{n=null,e()},t)}};async function Cl(){if(navigator.storage&&navigator.storage.persist)try{await navigator.storage.persisted()||await navigator.storage.persist()}catch{}}const El=(e,t)=>{if(e.size!==t.size)return!0;for(const n of e)if(!t.has(n))return!0;return!1};function Pl(e,t){W(t,!0);const{getAppHistory:n,replace:r}=_t(),o=I(n),a=I(()=>n().search),i="selectedTags",l=()=>new Set(new URLSearchParams(n().search).get(i)?.split(",")||[]);let c=O(Be(l()));const u=()=>{const _=l();if(El(_,s(c))){const m=new URLSearchParams(s(o).search),S=s(o).pathname;s(c).size===0?m.delete(i):m.set(i,Array.from(s(c)).join(",")),r(`${S}${m.size>0?`?${m.toString()}`:""}`)}};Le(()=>{s(a),s(c),Ct(()=>{u()})}),kl({getSelectedTags:()=>s(c),addTag:_=>{s(c).has(_)||b(c,new Set([...s(c),_]),!0)},removeTag:_=>{const m=new Set(s(c));m.delete(_),b(c,m,!0)}});var h=z(),f=B(h);ue(f,()=>t.children??he),p(e,h),Y()}const ns={};function xl(e){Ae(ns,e)}function Ur(){const e=Te(ns);if(!e)throw new Error("No LocalDBContext found");return e}const rs={};function Dl(e){Ae(rs,e)}function Tl(){const e=Te(rs);if(!e)throw new Error("No SettingsContext found");return e}const as={};function Al(e){Ae(as,e)}function jr(){const e=Te(as);if(!e)throw new Error("No BroadcastContext found");return e}const Nl="AppStorage",Ll=1,Xn="account",Cr="settings",Ze="notes",Dn="drafts",Ml="bin",dt="tags",Bl="syncLog",en="success",tn="error",Ie=(e,t,n)=>{e?.addEventListener(t,n)},ca=(e,t)=>new Promise((n,r)=>{const a=e?.transaction(t,"readonly")?.objectStore(t).getAll();Ie(a,en,()=>{const i=a?.result||[];n(i)}),Ie(a,tn,i=>{r(i)})}),ua=(e,t,n)=>new Promise((r,o)=>{const i=e?.transaction(t,"readonly")?.objectStore(t).get(n);Ie(i,en,()=>{const l=i?.result?.data;r(l)}),Ie(i,tn,l=>{o(l)})}),Dt=(e,t,n,r)=>new Promise((o,a)=>{const c=e?.transaction(t,"readwrite")?.objectStore(t)?.put({id:n,data:r});Ie(c,en,()=>{o()}),Ie(c,tn,u=>{a(u)})}),mr=async(e,t,n)=>{const o=e?.transaction(t,"readwrite")?.objectStore(t);await Promise.all(n.map(a=>{const i=o?.put(a);return new Promise((l,c)=>{Ie(i,en,()=>{l()}),Ie(i,tn,u=>{c(u)})})}))},os=(e,t,n)=>new Promise((r,o)=>{const l=e?.transaction(t,"readwrite")?.objectStore(t)?.delete(n);Ie(l,en,()=>{r()}),Ie(l,tn,c=>{o(c)})}),wr=async(e,t,n)=>{const o=e?.transaction(t,"readwrite")?.objectStore(t);await Promise.all(n.map(a=>{const i=o?.delete(a);return new Promise((l,c)=>{Ie(i,en,()=>{l()}),Ie(i,tn,u=>{c(u)})})}))},Tt=(e,t)=>new Promise((n,r)=>{const i=e?.transaction(t,"readwrite")?.objectStore(t)?.clear();Ie(i,en,()=>{n()}),Ie(i,tn,l=>{r(l)})});function Il(e,t){W(t,!0);let n=O(Be({showFavicon:!1}));const{getDB:r}=Ur(),{createBroadcastChannel:o,tabId:a}=jr(),i=o(),l=I(r),c=async()=>{const _=await ua(s(l),Cr,"default");_&&b(n,_,!0)},u=async()=>{c()},d=async _=>{const m=JSON.parse(_.data),S=m;if(m.tabId&&m.tabId===a){S.type==="exit"&&(b(n,{showFavicon:!1},!0),Tt(s(l),Cr));return}S.type==="updateSettings"?c():S.type==="exit"&&b(n,{showFavicon:!1},!0)},v=()=>s(n).showFavicon,g=async _=>{s(n).showFavicon=_,await Dt(s(l),Cr,"default",{showFavicon:_}),i.postMessage({type:"updateSettings"})};Ce(()=>(u(),i.addEventListener(d),()=>{i.removeEventListener(d)})),Dl({getFaviconEnabled:v,setFaviconShown:g});var h=z(),f=B(h);ue(f,()=>t.children??he),p(e,h),Y()}const ss={};function Ol(e){Ae(ss,e)}function xa(){const e=Te(ss);if(!e)throw new Error("No AccountContext found");return e}const is={};function Rl(e){Ae(is,e)}function Bt(){const e=Te(is);if(!e)throw new Error("No StackPagesContext found");return e}function Fl(e,t){W(t,!0);const{navigate:n}=_t(),{hasStackPage:r,pushStackPages:o,clearStackPages:a}=Bt();let i=O(void 0);const{getDB:l}=Ur(),{createBroadcastChannel:c,tabId:u}=jr(),d=I(l),v=c(),g=async()=>{const w=await ua(s(d),Xn,"default");w&&(b(i,w,!0),a(),n("/"))},h=w=>Dt(s(d),Xn,"default",w),f=async()=>{const w=await ua(s(d),Xn,"default");w===void 0?o("start"):(r("start")&&(a(),n("/")),w?b(i,w,!0):b(i,null))},_=async w=>{const E=JSON.parse(w.data);if(E.tabId&&E.tabId===u)return;const U=E;U.type==="initLocalAccount"?(b(i,null),a(),n("/")):U.type==="initCloudAccount"?(g(),a(),n("/")):U.type==="disconnectCloudAccount"?b(i,null):U.type==="exit"?b(i,void 0):U.type==="updateAccount"&&g()};Ce(()=>(f(),v.addEventListener(_),()=>{v.removeEventListener(_)})),Ol({getAccount:()=>s(i),initLocalAccount:async()=>{b(i,null),await h(null),v.postMessage({type:"initLocalAccount"})},initCloudAccount:async w=>{const E={encryptedClientKey:w.encryptedClientKey||"",subscriptionExpires:w.subscriptionExpires||-1,lastSync:-1};await h(E),b(i,E,!0),v.postMessage({type:"initCloudAccount"})},disconnectCloudAccount:async()=>{b(i,null),await h(null),v.postMessage({type:"disconnectCloudAccount"})},updateSubscription:async w=>{if(!s(i))throw new Error("No account to update subscription for");const E={...s(i),subscriptionExpires:w};await h(E),v.postMessage({type:"updateAccount"})},exitApp:async()=>{b(i,void 0),v.postMessage({type:"exit"}),await Tt(s(d),Xn)}});var M=z(),y=B(M);ue(y,()=>t.children??he),p(e,M),Y()}const ls={};function zl(e){Ae(ls,e)}function Td(){const e=Te(ls);if(!e)throw new Error("No DraftsContext found");return e}function Hl(e,t){W(t,!0);const{getDB:n}=Ur(),{createBroadcastChannel:r,tabId:o}=jr(),a=I(n),i=r();let l=O(!1),c=O(()=>new Map);const u=y=>{const w=s(c)();y.forEach(E=>{w.set(E.id,E)}),b(c,()=>w)},d=async()=>{const y=await ca(s(a),Dn);u(y),b(l,!0)},v=y=>s(c)().get(y),g=y=>{const w=s(c)();w.set(y.id,y),b(c,()=>w)},h=y=>{const w=s(c)();w.delete(y),b(c,()=>w)},f=()=>{b(c,()=>new Map)},_=async y=>{const w={...y};await Dt(s(a),Dn,w.id,{...w.data}),g(w),i.postMessage({type:"putDraft",data:{draft:w}})},m=async y=>{h(y),i.postMessage({type:"deleteDraft",data:{id:y}}),await os(s(a),Dn,y)},S=async()=>{f(),i.postMessage({type:"clearDrafts"}),await Tt(s(a),Dn)},C=()=>s(l),k=async y=>{const w=JSON.parse(y.data),E=w;if(w.tabId&&w.tabId===o){(E.type==="exit"||E.type==="clearNotes")&&(f(),Tt(s(a),Dn));return}if(E.type==="putDraft"){const U=E.data.draft;g(U)}else if(E.type==="deleteDraft"){const U=E.data.id;h(U)}else(E.type==="exit"||E.type==="clearNotes")&&f()};Ce(()=>(d(),i.addEventListener(k),()=>{i.removeEventListener(k)})),zl({isInitedDrafts:C,getDraft:v,putDraft:_,deleteDraft:m,clearDrafts:S});var N=z(),M=B(N);ue(M,()=>t.children??he),p(e,N),Y()}const cs={};function Ul(e){Ae(cs,e)}function Vr(){const e=Te(cs);if(!e)throw new Error("No NotesContext found");return e}const jl=()=>crypto.randomUUID(),Vl=e=>{const t=new Map;for(const n of e||[])for(const r of n?.data.tags||[])t.set(r,{name:r,count:(t.get(r)?.count||0)+1});return t};function ql(e,t){W(t,!0);const{getDB:n}=Ur(),{createBroadcastChannel:r,tabId:o}=jr(),a=I(n),i=r();let l=O(0),c=O(!1),u=O(()=>new Map),d=O(()=>[]);const v=720*60*60*1e3,g=()=>s(c),h=()=>s(l)>0,f=P=>{const T=s(d)(),D={...P};T.push(D),b(d,()=>T)},_=P=>{const T=s(d)();for(let D=0;D<T.length;D++)T[D]?.id===P.id&&T&&(T[D]=P);b(d,()=>T)},m=P=>{const T=s(d)(),D=T.findIndex(A=>A?.id===P);D!==-1&&(T[D]=void 0),b(d,()=>T)},S=()=>{b(d,()=>[]),b(u,()=>new Map)},C=()=>s(d),k=P=>{const T=s(u)();for(const D of P){const A=T.get(D);A?A.count++:T.set(D,{name:D,count:1})}b(u,()=>T)},N=P=>{const T=s(u)();for(const D of P){const A=T.get(D);A&&(A.count--,A.count<=0&&T.delete(D))}b(u,()=>T)},M=async()=>{const[P,T]=await Promise.all([ca(s(a),Ze),ca(s(a),dt).then(fe=>fe.reduce((G,se)=>G.set(se.name,se),new Map))]),D=[],A=[];let R=0;for(const fe of P)fe.data.deletedAt&&Date.now()-fe.data.deletedAt>v?D.push(fe.id):(A.push(fe),fe.data.deletedAt&&(R+=1));b(l,R,!0);const Z=Vl(A),oe=new Map;Z.entries().forEach(([fe,G])=>{const se=T.get(fe);oe.set(fe,{...se,...G})}),await wr(s(a),Ze,D),await Tt(s(a),dt),await mr(s(a),dt,Array.from(oe.values()).map(fe=>({id:fe.name,data:{pinned:fe.pinned}}))),b(u,()=>oe),b(d,()=>A),b(c,!0)},y=async P=>{const T={id:jl(),data:{...P,createdAt:Date.now(),updatedAt:Date.now()}},D=s(u)();await Dt(s(a),Ze,T.id,{...T.data}),await mr(s(a),dt,P.tags.filter(A=>!D.has(A)).map(A=>({id:A,data:{}}))),f(T),k(P.tags),i.postMessage({type:"addNote",data:{note:T}})},w=async P=>{const D=s(d)().find(R=>R?.id===P);if(!D)return;const A=s(u)();m(P),N(D.data.tags),i.postMessage({type:"deleteNote",data:{id:P}}),b(l,s(l)-1),await os(s(a),Ze,P),await wr(s(a),dt,D.data.tags.filter(R=>{const Z=A.get(R);return Z?Z.count<=1:!1}))},E=async(P,T)=>{const D={id:T.id,data:{...T.data,updatedAt:Date.now()}},A=s(u)(),R=T.data.tags.filter(oe=>!P.data.tags.includes(oe)),Z=P.data.tags.filter(oe=>!T.data.tags.includes(oe));await Dt(s(a),Ze,D.id,{...D.data}),await mr(s(a),dt,R.filter(oe=>!A.has(oe)).map(oe=>({id:oe,data:{}}))),await wr(s(a),dt,Z.filter(oe=>{const fe=A.get(oe);return fe?fe.count<=1:!1})),_(D),N(Z),k(R),i.postMessage({type:"updateNote",data:{note:D,tagsToAdd:R,tagsToDelete:Z}})},U=async()=>{S(),i.postMessage({type:"clearNotes"}),await Tt(s(a),Ze),await Tt(s(a),dt)},J=P=>s(d)().find(D=>D?.id===P),ne=async(P,T)=>{const A=s(d)().find(Z=>Z?.id===P);if(!A)return;const R={id:P,data:{...A.data,pinned:T}};await Dt(s(a),Ze,R.id,{...R.data}),_(R),i.postMessage({type:"updateNote",data:{note:R,tagsToAdd:[],tagsToDelete:[]}})},X=async P=>{const D=s(d)().find(R=>R?.id===P);if(!D)return;const A={id:P,data:{...D.data,deletedAt:Date.now()}};b(l,s(l)+1),await Dt(s(a),Ze,A.id,{...A.data}),_(A),i.postMessage({type:"updateNote",data:{note:A,tagsToAdd:[],tagsToDelete:[]}})},de=async P=>{const D=s(d)().find(R=>R?.id===P);if(!D)return;const A={id:P,data:{...D.data,deletedAt:0}};b(l,s(l)-1),await Dt(s(a),Ze,A.id,{...A.data}),_(A),i.postMessage({type:"updateNote",data:{note:A,tagsToAdd:[],tagsToDelete:[]}})},V=async(P,T)=>{const D=s(u)();D.set(P,{name:P,count:D.get(P)?.count||0,pinned:T}),await Dt(s(a),dt,P,{pinned:T}),i.postMessage({type:"pinTag",data:{tag:P,pinned:T}}),b(u,()=>D)},Q=async P=>{const T=s(d)(),D={};P.forEach(A=>{const R=T.find(Z=>Z?.id===A.id);R?R&&R.data.updatedAt<A.data.updatedAt&&(D[A.id]=A):D[A.id]=A}),await mr(s(a),Ze,Object.values(D)),await M(),i.postMessage({type:"reloadNotes"})},te=async()=>{const P=[];s(d)().forEach(D=>{D&&D.data.deletedAt&&P.push(D.id)}),b(l,0),await wr(s(a),Ze,P),await M(),i.postMessage({type:"emptyBin"})},ae=async P=>{const T=JSON.parse(P.data),D=T;if(T.tabId&&T.tabId===o){D.type==="exit"&&(S(),await Tt(s(a),Ze),await Tt(s(a),dt));return}if(D.type==="addNote"){const A=D.data.note;f(A),k(A.data.tags)}else if(D.type==="updateNote"){const A=D.data,Z=s(d)().find(oe=>oe?.id===A.note.id);if(!Z)return;Z.data.deletedAt&&!A.note.data.deletedAt?b(l,s(l)-1):!Z.data.deletedAt&&A.note.data.deletedAt&&b(l,s(l)+1),_(A.note),N(A.tagsToAdd),k(A.tagsToDelete)}else if(D.type==="deleteNote"){const A=D.data.id,Z=s(d)().find(oe=>oe?.id===A);if(!Z)return;b(l,s(l)-1),m(A),N(Z.data.tags)}else if(D.type==="pinTag"){const A=D.data.tag,R=D.data.pinned,Z=s(u)(),oe=Z.get(A);oe&&(oe.pinned=R,b(u,()=>Z))}else D.type==="clearNotes"?S():D.type==="reloadNotes"||D.type==="emptyBin"?M():D.type==="exit"&&S()};Ce(()=>(M(),i.addEventListener(ae),()=>{i.removeEventListener(ae)})),Ul({isInitedNotes:g,addNote:y,updateNote:E,deleteNote:w,pinNote:ne,getGetNotes:C,importNotes:Q,clearNotes:U,getNoteById:J,getGetMapTags:()=>s(u),pinTag:V,moveNoteToBin:X,restoreNoteFromBin:de,checkNotesInBin:h,emptyBin:te});var ee=z(),K=B(ee);ue(K,()=>t.children??he),p(e,ee),Y()}const us={},Wl=()=>({working:!1,swipingRatio:1,isSwiping:!1,duration:.35});function Yl(e){Ae(us,e)}function Yn(){const e=Te(us);if(!e)throw new Error("No AnimationSettingsContext found");return e}function Kl(e,t){W(t,!0);let n=Be(Wl());Yl(n);var r=z(),o=B(r);ue(o,()=>t.children??he),p(e,r),Y()}const ds={};function Gl(e){Ae(ds,e)}function fs(){const e=Te(ds);if(!e)throw new Error("No ScrollingContext found");return e}function Xl(e,t){W(t,!0);let n=O(!1);const r=()=>s(n),o=ts(()=>{b(n,!1)},100);Gl({isScrolling:r,enable:()=>{b(n,!0),o()}});var i=z(),l=B(i);ue(l,()=>t.children??he),p(e,i),Y()}const vs={};function Zl(e){Ae(vs,e)}function Kn(){const e=Te(vs);if(!e)throw new Error("No MobileSizeContext found");return e}function Jl(e,t){W(t,!0);const n=()=>window.matchMedia("(max-width: 767px)").matches;let r=O(Be(n())),o=Yn();const a=ts(()=>{o.working=!0},16),i=()=>{o.working=!1,a(),requestAnimationFrame(()=>{b(r,n(),!0)})};Zl({checkMobileSize:()=>s(r)}),Ce(()=>(window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)));var c=z(),u=B(c);ue(u,()=>t.children??he),p(e,c),Y()}const hs={};function Ql(e){Ae(hs,e)}function ur(){const e=Te(hs);if(!e)throw new Error("No DialogContext found");return e}function $l(e,t){W(t,!0);let n=O(0),r=O(!1),o=O(!1);Ql({checkExistedDialog:()=>s(n)>0,showDialog:()=>{b(n,s(n)+1)},hideDialog:()=>{b(n,s(n)-1)},blockDialog:f=>{b(r,f,!0),f||b(o,!1)},checkBlockedDialog:()=>s(r),unBlockBackDialog:f=>{b(o,f,!0)},checkUnBlockedBackDialog:()=>s(o)});var g=z(),h=B(g);ue(h,()=>t.children??he),p(e,g),Y()}const gs={};function ec(e){Ae(gs,e)}function Da(){const e=Te(gs);if(!e)throw new Error("No ScrollContainerContext found");return e}function tc(e,t){W(t,!0);let n=O(null);ec({setScrollContainer:l=>{b(n,l,!0)},getScrollContainer:()=>s(n)});var a=z(),i=B(a);ue(i,()=>t.children??he),p(e,a),Y()}const _s={};function nc(e){Ae(_s,e)}function Ta(){const e=Te(_s);if(!e)throw new Error("No DialogPageHeightContext found");return e}function rc(e,t){W(t,!0);let n=O(200);nc({setDialogPageHeight:l=>{b(n,l,!0)},getDialogPageHeight:()=>s(n)});var a=z(),i=B(a);ue(i,()=>t.children??he),p(e,a),Y()}const ac=[Xn,Cr,Ze,Dn,Ml,dt,Bl];function oc(){return new Promise((e,t)=>{const n=indexedDB.open(Nl,Ll);Ie(n,"upgradeneeded",()=>{const r=n.result;for(const o of ac)r.objectStoreNames.contains(o)||r.createObjectStore(o,{keyPath:"id"})}),Ie(n,en,()=>{const r=n.result;e(r),r.onversionchange=function(){r?.close(),alert("app outdated, please reload the page")}}),Ie(n,"blocked",()=>{t(),alert("app outdated, please reload the page")}),Ie(n,tn,()=>{t()})})}function sc(e,t){W(t,!0);let n=O(null);Ce(()=>{oc().then(l=>{b(n,l,!0)})}),xl({getDB:()=>s(n)});var o=z(),a=B(o);{var i=l=>{var c=z(),u=B(c);ue(u,()=>t.children??he),p(l,c)};j(a,l=>{s(n)&&l(i)})}p(e,o),Y()}function ic(e,t){W(t,!0);const{getAppHistory:n,navigate:r}=_t(),o=()=>new URLSearchParams(n().search).get("stackPages")?.split(",")||[];let a=O(Be(o()));const i=m=>{const S=o();if(!S.includes(m)){S.push(m);const C=new URLSearchParams(n().search);C.set("stackPages",S.join(",")),b(a,S,!0),r(`${n().pathname}?${C.toString()}`)}};Rl({pushStackPages:i,hasStackPage:m=>o().includes(m),updateStackPages:()=>{b(a,o(),!0)},popStackPages:()=>{const m=s(a).slice(0,-1);b(a,m,!0)},getStackPages:()=>{const m=o();return m.length>=s(a).length?m.reduce((S,C)=>[...S,{page:C,shown:!0}],[]):s(a).reduce((S,C,k)=>[...S,{page:C,shown:m.length===0?!1:k!==s(a).length-1}],[])},clearStackPages:()=>{b(a,[],!0)},getPageUrl:(m,S)=>{if(S?.full)return`/${m}`;const C=o();C.includes(m)||C.push(m);const k=new URLSearchParams(n().search);return k.set("stackPages",C.join(",")),`${n().pathname}?${k}`},createHandlePage:(m,S)=>C=>{if(C.preventDefault(),S?.full){r(m);return}i(m)},getStackPagesFormUrl:o});var f=z(),_=B(f);ue(_,()=>t.children??he),p(e,f),Y()}function lc(e,t){W(t,!0);const n=h=>h.startsWith("/")?h:`/${h}`,r=Be({historyStack:[],pathname:n(window.location.pathname),search:window.location.search,historyLength:0}),o=()=>{r.pathname=n(document.location.pathname),r.search=document.location.search,r.historyLength=Math.max(0,r.historyLength-=1)},a=h=>{const[f,_]=h.split("?");r.pathname=n(f),r.search=_?`?${_}`:"",r.historyLength+=1,r.historyStack.push(`${window.location.pathname}${window.location.search}`),window.history.replaceState(null,"",h)},i=h=>{const[f,_]=h.split("?");r.pathname=n(f),r.search=_?`?${_}`:"",window.history.replaceState(null,"",h)};gl({getAppHistory:()=>r,navigate:a,replace:i,addSearchParam:(h,f)=>{const _=new URLSearchParams(r.search);_.append(h,f),i(`${r.pathname}${_.size>0?`?${_.toString()}`:""}`)},deleteSearchParam:h=>{const f=new URLSearchParams(r.search);f.delete(h),r.historyStack=r.historyStack.map(_=>{const m=new URLSearchParams(_.split("?")[1]);return m.delete(h),`${_.split("?")[0]}${f.size>0?`?${m.toString()}`:""}`}),i(`${r.pathname}${f.size>0?`?${f.toString()}`:""}`)},back:h=>{const{fallback:f="/",to:_}=h||{},[m,S]=f.split("?");if(r.historyLength<=0){const C=window.location.pathname,k=window.location.search;if(!k.includes("stackPages"))window.history.replaceState(null,"",f),r.historyLength=0,r.pathname=n(m),r.search=S?`?${S}`:"";else{const N=new URLSearchParams(k),M=N.get("stackPages")?.split(",")||[],y=M.slice(0,_&&M.includes(_)?M.indexOf(_)+1:-1);y.length===0?N.delete("stackPages"):N.set("stackPages",y.join(","));const w=`${C}${N.toString()?`?${N.toString()}`:""}`;window.history.replaceState(null,"",w),r.search=N.toString()?`?${N.toString()}`:""}}else if(r.historyStack.length>0){const k=new URLSearchParams(r.search).get("stackPages")?.split(",")||[];_&&k.includes(_)&&(r.historyStack=r.historyStack.slice(0,-(k.length-(k.indexOf(_)+1))+1),r.historyLength=r.historyStack.length);const N=r.historyStack.pop();if(N){const[M,y]=N.split("?");window.history.replaceState(null,"",N),r.historyLength=Math.max(0,r.historyLength-=1),r.pathname=n(M),r.search=y?`?${y}`:""}}},closeDialogStack:()=>{const h=r.historyStack.findIndex(_=>_.includes("stackPages")),f=h===-1?r.historyStack.slice(0):r.historyStack.slice(0,h);if(f.length>0){const _=f.pop();if(_){const[m,S]=_.split("?");window.history.replaceState(null,"",_),r.historyLength=Math.max(0,f.length),r.pathname=n(m),r.search=S?`?${S}`:"",r.historyStack=f}}else{const _=r.search,m=new URLSearchParams(_);m.delete("stackPages"),window.history.replaceState(null,"",m.toString()?"/?"+m.toString():"/"),r.historyLength=0,r.pathname="/",r.search=m.toString()?"?"+m.toString():"",r.historyStack=[]}}}),Ce(()=>(window.addEventListener("popstate",o),()=>{window.removeEventListener("popstate",o)}));var v=z(),g=B(v);ue(g,()=>t.children??he),p(e,v),Y()}const ps={};function cc(e){Ae(ps,e)}function uc(){const e=Te(ps);if(!e)throw new Error("No KeyboardVisibleContext found");return e}function dc(e,t){W(t,!0);let n=Be({value:!1});const r=()=>n.value;Ce(()=>{const i=()=>{setTimeout(()=>{document.activeElement instanceof HTMLInputElement&&document.activeElement.type==="text"||document.activeElement instanceof HTMLTextAreaElement?n.value=!0:n.value=!1},0)};return i(),document.addEventListener("focusin",i),document.addEventListener("focusout",i),()=>{document.removeEventListener("focusin",i),document.removeEventListener("focusout",i)}}),cc({getIsKeyboardVisible:r});var o=z(),a=B(o);ue(a,()=>t.children??he),p(e,o),Y()}function fc(e,t){W(t,!0);const n=crypto.randomUUID(),r=(i,l)=>{i.postMessage(JSON.stringify({...l,tabId:n}))};Al({tabId:n,createBroadcastChannel:()=>{const i=new BroadcastChannel("app");return{postMessage:l=>r(i,l),addEventListener:l=>{i.addEventListener("message",l)},removeEventListener:l=>{i.removeEventListener("message",l)}}}});var o=z(),a=B(o);ue(a,()=>t.children??he),p(e,o),Y()}function vc(e,t){Kl(e,{children:(n,r)=>{Xl(n,{children:(o,a)=>{Jl(o,{children:(i,l)=>{$l(i,{children:(c,u)=>{tc(c,{children:(d,v)=>{rc(d,{children:(g,h)=>{dc(g,{children:(f,_)=>{lc(f,{children:(m,S)=>{ic(m,{children:(C,k)=>{sc(C,{children:(N,M)=>{fc(N,{children:(y,w)=>{var E=z(),U=B(E);ue(U,()=>t.children??he),p(y,E)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})}function hc(e,t){vc(e,{children:(n,r)=>{ml(n,{children:(o,a)=>{_l(o,{children:(i,l)=>{yl(i,{children:(c,u)=>{Sl(c,{children:(d,v)=>{Pl(d,{children:(g,h)=>{Il(g,{children:(f,_)=>{Fl(f,{children:(m,S)=>{Hl(m,{children:(C,k)=>{ql(C,{children:(N,M)=>{var y=z(),w=B(y);ue(w,()=>t.children??he),p(N,y)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})}})}let Ht=O(""),an=O(null),Zn=O(null),Jn=O(null);function zn(e,t){b(Ht,""),setTimeout(()=>{b(Ht,e,!0),t?.onFinish&&b(Zn,t.onFinish,!0),t?.onCancel&&b(Jn,t.onCancel,!0)},16)}const gc=(e,t,n,r,o)=>{e.preventDefault(),s(t)&&(b(n,null),s(t)(),b(t,null)),b(r,""),s(o)?.style.removeProperty("opacity")};var _c=H('<button type="button" class="undoButton svelte-1vxmgq5">undo</button>'),pc=H('<div class="notification svelte-1vxmgq5"><span> </span> <!></div>'),mc=H("<div><!></div>");function wc(e,t){W(t,!0),Le(()=>{s(Ht);const a=s(Jn)?2e3:800;s(Ht)&&(s(an)?.getBoundingClientRect(),s(an)?.style.setProperty("opacity","1"));const i=setTimeout(()=>{s(an)?.style.removeProperty("opacity")},a),l=setTimeout(()=>{b(Ht,""),s(Zn)&&s(Zn)(),b(Zn,null),b(Jn,null),s(an)?.style.removeProperty("opacity")},a+400);return()=>{clearTimeout(i),clearTimeout(l)}});var n=mc(),r=x(n);{var o=a=>{var i=pc(),l=x(i),c=x(l),u=F(l,2);{var d=v=>{var g=_c();g.__click=[gc,Jn,Zn,Ht,an],p(v,g)};j(u,v=>{s(Jn)&&v(d)})}Et(i,v=>b(an,v),()=>s(an)),ce(()=>Zt(c,s(Ht))),p(a,i)};j(r,a=>{s(Ht)&&a(o)})}p(e,n),Y()}tt(["click"]);var yc=H('<span class="vh svelte-1s25udk"><!></span>');function Qe(e,t){var n=yc(),r=x(n);ue(r,()=>t.children),p(e,n)}var bc=Qi('<svg class="svelte-18et5h9"><use></use></svg>');function ye(e,t){let n=re(t,"name",8,"");var r=bc(),o=x(r);ce(()=>Pe(o,"href",`#icon-${n()??""}`)),p(e,r)}const Sc=(e,t,n,r)=>{const o=t().type;o==="closed"?n():o==="opened"&&r()};var kc=H('<button class="buttonMenu svelte-bpktnw"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>');function ms(e,t){W(t,!1);const{sidebarOpen:n,getSidebarState:r,sidebarClose:o}=Qo();Pa();var a=kc();a.__click=[Sc,r,n,o];var i=x(a);pe(i,()=>({"--size":"36px"})),ye(i.lastChild,{name:"sidebarMenu"});var l=F(i,2);Qe(l,{children:(c,u)=>{var d=De("Menu");p(c,d)}}),p(e,a),Y()}tt(["click"]);var Cc=(e,t)=>t.onChange?.(e.target?.value||""),Ec=H('<input class="svelte-15lr19w"/>');function da(e,t){W(t,!0);let n=re(t,"value",15,"");var r=Ec();r.__input=[Cc,t],ce(()=>Pe(r,"placeholder",t.placeholder)),Ca("focus",r,function(...o){t.onFocus?.apply(this,o)}),ul(r,n),p(e,r),Y()}tt(["input"]);function ws(e,t){W(t,!0),Ce(()=>{const n=r=>{r.target&&t.dialog?.open&&t.dialogInner&&t.dialogInner!==r.target&&!t.dialogInner.contains(r.target)&&t.onClose()};return document.addEventListener("mousedown",n,{capture:!0}),()=>{document.removeEventListener("mousedown",n,{capture:!0})}}),Y()}var Pc=H('<dialog><div class="dialogInner svelte-1x410nl"><!></div></dialog> <!>',1);function Aa(e,t){W(t,!0);let n=O(null),r=O(null),o=O(!1),{showDialog:a,hideDialog:i}=ur();const l=f=>{f?.preventDefault();const _=setTimeout(()=>{t.onClosed()},150);s(n)?.addEventListener("transitionend",()=>{clearTimeout(_),t.onClosed()},{once:!0}),b(o,!1)};Le(()=>{t.startClose&&l()}),Ce(()=>(s(n)?.showModal(),s(n)?.getClientRects(),b(o,!0),s(n)?.addEventListener("cancel",l),s(n)?.addEventListener("close",l),()=>{s(n)?.removeEventListener("cancel",l),s(n)?.removeEventListener("close",l)})),Ce(()=>(a(),()=>{i()}));var c=Pc(),u=B(c),d=x(u),v=x(d);ue(v,()=>t.children),Et(d,f=>b(r,f),()=>s(r)),Et(u,f=>b(n,f),()=>s(n));var g=F(u,2);{var h=f=>{ws(f,{get dialog(){return s(n)},get dialogInner(){return s(r)},onClose:l})};j(g,f=>{s(n)&&s(r)&&f(h)})}ce(()=>_e(u,1,ge(["dialog",{shown:s(o)}]),"svelte-1x410nl")),p(e,c),Y()}var xc=H("<div><!></div>");function ys(e,t){W(t,!0);let n=O(!1),r=O(null);const o=()=>{const u=setTimeout(()=>{t.onClosed()},150);s(r)?.addEventListener("transitionend",()=>{clearTimeout(u),t.onClosed()},{once:!0}),b(n,!1)},a=u=>{u.target!==s(r)&&!s(r)?.contains(u.target)&&o()},i=u=>{u.target!==s(r)&&!s(r)?.contains(u.target)&&o()};Ce(()=>{s(r)?.getClientRects(),b(n,!0);const u=setTimeout(()=>{document.addEventListener("focusin",a),document.addEventListener("click",i)},0);return()=>{clearTimeout(u),document.removeEventListener("focusin",a),document.removeEventListener("click",i)}}),Le(()=>{t.startClose&&o()});var l=xc(),c=x(l);ue(c,()=>t.children),Et(l,u=>b(r,u),()=>s(r)),ce(()=>_e(l,1,ge(["menu",{top:t.positionTop,shown:s(n)}]),"svelte-ujw4xi")),p(e,l),Y()}const Dc=(e,t)=>{s(t)||b(t,!0)};var Tc=(e,t)=>t("newest"),Ac=(e,t)=>t("oldest"),Nc=(e,t)=>t("AtoZ"),Lc=(e,t)=>t("ZtoA"),Mc=H("<div><button>Newest</button> <button>Oldest</button> <button>A to Z</button> <button>Z to A</button></div>"),Bc=H('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),Ic=H('<div class="orderMenu svelte-14zj87s"><button><!> <!></button> <!></div>');function Oc(e,t){W(t,!0);const n=(C,k=he)=>{var N=Mc(),M=x(N);M.__click=[Tc,d];var y=F(M,2);y.__click=[Ac,d];var w=F(y,2);w.__click=[Nc,d];var E=F(w,2);E.__click=[Lc,d],ce(()=>{_e(N,1,ge(["menu",{menuDialog:k()}]),"svelte-14zj87s"),_e(M,1,ge(["menuButton",{menuButtonDialog:k(),current:s(u)==="newest"}]),"svelte-14zj87s"),_e(y,1,ge(["menuButton",{menuButtonDialog:k(),current:s(u)==="oldest"}]),"svelte-14zj87s"),_e(w,1,ge(["menuButton",{menuButtonDialog:k(),current:s(u)==="AtoZ"}]),"svelte-14zj87s"),_e(E,1,ge(["menuButton",{menuButtonDialog:k(),current:s(u)==="ZtoA"}]),"svelte-14zj87s")}),p(C,N)};let r=O(!1),o=O(!1);const{checkMobileSize:a}=Kn(),{getFeedOrder:i,setFeedOrder:l}=Zo();let c=I(a),u=I(i);const d=C=>{b(o,!0),l(C)},v=()=>{b(r,!1),b(o,!1)};Ce(()=>{const C=k=>{k.key==="Escape"&&b(o,!0)};return document.addEventListener("keydown",C),()=>document.removeEventListener("keydown",C)});var g=Ic(),h=x(g);h.__click=[Dc,r],_e(h,1,ge(["button","buttonMenu"]),"svelte-14zj87s");var f=x(h);ye(f,{name:"filter"});var _=F(f,2);Qe(_,{children:(C,k)=>{var N=De("show feed order menu");p(C,N)}});var m=F(h,2);{var S=C=>{var k=z(),N=B(k);{var M=w=>{Aa(w,{get startClose(){return s(o)},onClosed:v,children:(E,U)=>{n(E,()=>!0)},$$slots:{default:!0}})},y=w=>{var E=Bc(),U=B(E);pe(U,()=>({"--right":"20px","--top":"60px"})),ys(U.lastChild,{get startClose(){return s(o)},onClosed:v,children:(J,ne)=>{n(J,()=>!1)},$$slots:{default:!0}}),p(w,E)};j(N,w=>{s(c)?w(M):w(y,!1)})}p(C,k)};j(m,C=>{s(r)&&C(S)})}p(e,g),Y()}tt(["click"]);var q=(e=>(e.NewNote="newNote",e.EditNote="editNote",e.Settings="settings",e.ImportData="importData",e.ExportData="exportData",e.ClearStore="clearStore",e.Account="account",e.Sync="sync",e.Start="start",e.Auth="auth",e.Signin="signin",e.Signup="signup",e.AccessKeys="accessKeys",e.ConfirmAccessKey="confirmAccessKey",e.Subscription="subscription",e.Exit="exit",e.NotFound="notFound",e.About="about",e.Bin="bin",e))(q||{}),Rc=H("<a><!></a>"),Fc=H("<button><!></button>");function Qt(e,t){let n=re(t,"type",3,"standard"),r=re(t,"typeButton",3,"button"),o=re(t,"element",3,"button"),a=re(t,"href",3,""),i=re(t,"fullWidth",3,!1),l=re(t,"withoutMinWidth",3,!1);var c=z(),u=B(c);{var d=g=>{var h=Rc();h.__click=function(..._){t.onClick?.apply(this,_)};var f=x(h);ue(f,()=>t.children??he),ce(()=>{Pe(h,"href",a()),_e(h,1,ge(["button","a",{dangerous:n()==="dangerous",secondary:n()==="secondary",fullWidth:i(),withoutMinWidth:l()}]),"svelte-aqjevc")}),p(g,h)},v=g=>{var h=Fc();h.__click=function(..._){t.onClick?.apply(this,_)};var f=x(h);ue(f,()=>t.children??he),ce(()=>{Pe(h,"type",r()),_e(h,1,ge(["button",{dangerous:n()==="dangerous",secondary:n()==="secondary",fullWidth:i(),withoutMinWidth:l()}]),"svelte-aqjevc")}),p(g,h)};j(u,g=>{o()==="a"?g(d):g(v,!1)})}p(e,c)}tt(["click"]);var zc=H('<div class="block svelte-1dzbsx4"><span class="title svelte-1dzbsx4"> </span> <div class="controls svelte-1dzbsx4"><!> <!></div></div>');function bs(e,t){W(t,!0);let n=re(t,"buttonCancelTitle",3,"Cancel"),r=re(t,"buttonConfirmTitle",3,"Confirm"),o=O(!1),a=O(!1);const i=()=>{b(o,!0)},l=()=>{b(o,!0),b(a,!0)};Aa(e,{get startClose(){return s(o)},onClosed:()=>{s(a)?t.onConfirm():t.onCancel()},children:(u,d)=>{var v=zc(),g=x(v),h=x(g),f=F(g,2),_=x(f);Qt(_,{onClick:i,fullWidth:!0,withoutMinWidth:!0,type:"secondary",children:(S,C)=>{var k=De();ce(()=>Zt(k,n())),p(S,k)},$$slots:{default:!0}});var m=F(_,2);Qt(m,{onClick:l,fullWidth:!0,withoutMinWidth:!0,type:"dangerous",children:(S,C)=>{var k=De();ce(()=>Zt(k,r())),p(S,k)},$$slots:{default:!0}}),ce(()=>Zt(h,t.title)),p(u,v)},$$slots:{default:!0}}),Y()}const Hc=(e,t)=>{b(t,!0)};var Uc=H('<a class="link svelte-13t3afu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Notes</span></a>'),jc=H('<a class="link svelte-13t3afu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Bin</span></a>'),Vc=H('<button class="emptyBinButton svelte-13t3afu" type="button">Empty bin</button>'),qc=H('<a class="buttonAdd svelte-13t3afu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Note</span></a>'),Wc=H('<div class="header svelte-13t3afu"><div class="top svelte-13t3afu"><div class="menu svelte-13t3afu"><a class="link svelte-13t3afu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Settings</span></a> <a class="link svelte-13t3afu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Sync</span></a> <!></div> <div class="mobile svelte-13t3afu"><!></div> <!></div> <div class="bottom svelte-13t3afu"><div><div class="sidebarSearchWrapper"><!></div></div> <div class="right svelte-13t3afu"><div class="filter svelte-13t3afu"><div class="feedSearchWrapper svelte-13t3afu"><!></div> <!></div></div></div></div> <!>',1);function Yc(e,t){W(t,!0);const{createHandlePage:n,getPageUrl:r}=Bt(),o=Wo(),a=Go(),{getScrollContainer:i}=Da();let l=I(i);const{emptyBin:c,checkNotesInBin:u}=Vr(),{getAppHistory:d}=_t(),v=I(u),g=I(()=>d().pathname);let h=O(!1);const f=()=>{s(l)&&s(l).scrollTo({top:0,behavior:"smooth"})};var _=Wc(),m=B(_),S=x(m),C=x(S),k=x(C),N=I(()=>n(q.Settings));k.__click=function(...G){s(N)?.apply(this,G)};var M=x(k);pe(M,()=>({"--rotate":"30deg","--size":"20px"})),ye(M.lastChild,{name:"settings"});var y=F(k,2),w=I(()=>n(q.Sync));y.__click=function(...G){s(w)?.apply(this,G)};var E=x(y);pe(E,()=>({"--size":"20px"})),ye(E.lastChild,{name:"sync"});var U=F(y,2);{var J=G=>{var se=Uc(),be=I(()=>n("/",{full:!0}));se.__click=function(...Ee){s(be)?.apply(this,Ee)};var me=x(se);pe(me,()=>({"--size":"18px"})),ye(me.lastChild,{name:"note"}),ce(Ee=>Pe(se,"href",Ee),[()=>r("/",{full:!0})]),p(G,se)},ne=G=>{var se=z(),be=B(se);{var me=Ee=>{var Se=jc(),nt=I(()=>n(q.Bin,{full:!0}));Se.__click=function(...Ge){s(nt)?.apply(this,Ge)};var Oe=x(Se);pe(Oe,()=>({"--size":"20px"})),ye(Oe.lastChild,{name:"bin"}),ce(Ge=>Pe(Se,"href",Ge),[()=>r(q.Bin,{full:!0})]),p(Ee,Se)};j(be,Ee=>{s(v)&&Ee(me)},!0)}p(G,se)};j(U,G=>{s(g)===`/${q.Bin}`?G(J):G(ne,!1)})}var X=F(C,2),de=x(X);ms(de,{});var V=F(X,2);{var Q=G=>{var se=z(),be=B(se);{var me=Ee=>{var Se=Vc();Se.__click=[Hc,h],p(Ee,Se)};j(be,Ee=>{s(v)&&Ee(me)})}p(G,se)},te=G=>{var se=qc(),be=I(()=>n(q.NewNote));se.__click=function(...Ee){s(be)?.apply(this,Ee)};var me=x(se);pe(me,()=>({"--size":"16px","--color":"#b0b0b0"})),ye(me.lastChild,{name:"plus"}),ce(Ee=>Pe(se,"href",Ee),[()=>r(q.NewNote)]),p(G,se)};j(V,G=>{s(g)===`/${q.Bin}`?G(Q):G(te,!1)})}var ae=F(S,2),ee=x(ae);_e(ee,1,ge(["left"]),"svelte-13t3afu");var K=x(ee),P=x(K);da(P,{placeholder:"Search tag",get value(){return a.value},set value(G){a.value=G}});var T=F(ee,2),D=x(T),A=x(D),R=x(A);da(R,{onFocus:f,placeholder:"Search",get value(){return o.value},set value(G){o.value=G}});var Z=F(A,2);Oc(Z,{});var oe=F(m,2);{var fe=G=>{bs(G,{title:"Are you sure you want to empty the bin?",buttonConfirmTitle:"Empty",onConfirm:()=>{c(),b(h,!1)},onCancel:()=>{b(h,!1)}})};j(oe,G=>{s(h)&&G(fe)})}ce((G,se)=>{Pe(k,"href",G),Pe(y,"href",se)},[()=>r(q.Settings),()=>r(q.Sync)]),p(e,_),Y()}tt(["click"]);function Kc(e,t){W(t,!0);const{getIsKeyboardVisible:n}=uc();let r=re(t,"dialog",7);const o=I(n),a=Yn();let i=null;const l=()=>{t.dialogState==="swiping"&&t.onClose()};Le(()=>(t.dialogState==="swiping"&&(i=setTimeout(l,3e3)),()=>{i&&(clearTimeout(i),i=null)}));let c=null,u=null;const d=3,v=50,g=5,h=.6,f=.3,_=.35,m=.95;let S=0,C=0,k=0,N=!1,M=!1,y=0,w=0,E=0;const U=()=>{S=0,C=0,N=!1,M=!1,y=0,w=0,E=0,k=0,c=null,u!==null&&(cancelAnimationFrame(u),u=null),i&&(clearTimeout(i),i=null)},J=K=>{r()&&t.dialogState==="opened"&&(S=K.touches[0].clientX,C=K.touches[0].clientY,k=performance.now(),N=!0,M=!1)},ne=K=>t.dialogState==="opened"&&K>0||t.dialogState==="swiping"&&K>0,X=()=>{if(r()){r().style.setProperty("--transition-timing","0s"),t.onSwipe(),navigator.vibrate&&navigator.vibrate(10);try{const K=window.getComputedStyle(r()),P=K.transform||K.webkitTransform||"";if(w=r().offsetWidth,(t.dialogState==="swiping"||t.dialogState==="opened")&&(y=0),P&&P!=="none")try{y=new DOMMatrix(P).m41}catch{}M=!0}catch{U()}}},de=()=>{if(!r())return;const P=Math.abs(y+E*w/100)/w;r().style.setProperty("--backdrop-bg",`rgba(0, 0, 0, ${.1*(1-P)})`)},V=()=>{if(u=null,!c||!N||!r()||s(o)){U();return}const K=[...c.touches].reduce((G,se)=>G+se.clientX,0)/c.touches.length,P=[...c.touches].reduce((G,se)=>G+se.clientY,0)/c.touches.length,T=K-S,D=P-C,A=Math.abs(T)>Math.abs(D),R=Math.abs(T)>d;if(!M)if(A&&R&&ne(T))try{X()}catch{U();return}else return;if(!ne(T))return;r().style.setProperty("--transition-timing","0s");let Z=y+T*m;Z=Math.max(0,Math.min(w,Z)),r().style.transform=`translate3d(${Z}px, 0, 0)`,a.swipingRatio=Math.abs(1-Z/w),E=(Z-y)/w*100,t.dialogState==="swiping"&&(i&&clearTimeout(i),i=setTimeout(l,3e3)),de()},Q=K=>{if(!N)return;c=K,u===null&&(u=requestAnimationFrame(V));const P=K.touches[0].clientX-S,T=K.touches[0].clientY-C,D=Math.abs(P)>Math.abs(T);M&&D&&K.preventDefault()},te=K=>{const P=Math.abs(K);if(P>=h)return g;if(P>=f){const T=(P-f)/(h-f);return v-T*(v-g)}else return v},ae=(K,P)=>{if(Math.abs(K)>=h)return _*.5;const D=Math.abs(E)/100;return P?_*Math.max(.5,1-D):_*Math.max(.5,D)},ee=K=>{if(u!==null&&(cancelAnimationFrame(u),u=null),!N||!r()){U();return}if(!M){U();return}let P=0;if(K?.changedTouches?.[0]){const Z=K.changedTouches[0].clientX,fe=performance.now()-k;fe>0&&(P=(Z-S)/fe)}const T=te(P);let D=null;t.dialogState==="swiping"&&(D=Math.abs(E)>T||P<-f?"close":"open");const A=t.dialogState==="swiping"&&D==="close",R=ae(P,A);a.duration=R-.02,r().style.setProperty("--transition-timing",`${R}s`),r().offsetWidth,r().style.transform="",D==="open"?t.onOpen():D==="close"&&t.onClose(),r()?.style.removeProperty("--backdrop-bg"),U()};Ce(()=>(r().addEventListener("touchstart",J,{passive:!0}),r().addEventListener("touchmove",Q,{passive:!1}),r().addEventListener("touchend",ee,{passive:!0}),r().addEventListener("touchcancel",ee,{passive:!0}),()=>{r().removeEventListener("touchstart",J),r().removeEventListener("touchmove",Q),r().removeEventListener("touchend",ee),r().removeEventListener("touchcancel",ee),u!==null&&cancelAnimationFrame(u)})),Y()}var Gc=(e,t)=>{t.onStartClose()},Xc=H('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),Zc=H('<dialog><div class="dialogInner svelte-vr2o0t"><div class="header svelte-vr2o0t"><div><!></div></div> <!></div></dialog> <!>',1);function Jc(e,t){W(t,!0);let n=350;const{isScrolling:r,enable:o}=fs();let a=O(null),i=O(null);const l=Yn(),c=y=>{y.preventDefault(),t.onStartClose()};Ce(()=>(s(a)?.addEventListener("close",t.onClosed),s(a)?.addEventListener("cancel",c),()=>{s(a)?.removeEventListener("close",t.onClosed),s(a)?.removeEventListener("cancel",c)}));const u=()=>{s(a)?.style.removeProperty("--transition-timing"),s(a)?.style.removeProperty("transform"),s(a)?.style.removeProperty("--backdrop-bg")},d=()=>{o()},v=I(r);Le(()=>{if(t.dialogState,!!s(a))switch(t.dialogState){case"opening":{s(a).open||s(a).showModal(),s(a).getBoundingClientRect();const y=setTimeout(()=>{u()},n+1),w=()=>{clearTimeout(y),u()};return s(a)?.addEventListener("transitionend",w,{once:!0}),t.onOpened(),()=>{clearTimeout(y),s(a)?.removeEventListener("transitionend",w)}}case"closing":{const y=setTimeout(()=>{t.dialogState==="closing"&&t.onClosed()},n+1),w=()=>{clearTimeout(y),t.onClosed()};return s(a)?.addEventListener("transitionend",w,{once:!0}),()=>{clearTimeout(y),s(a)?.removeEventListener("transitionend",w)}}case"opened":u()}});var g=Zc(),h=B(g),f=x(h),_=x(f),m=x(_),S=x(m);{var C=y=>{var w=Xc();_e(w,1,ge(["navigateButton","buttonBack"]),"svelte-vr2o0t"),w.__click=[Gc,t];var E=x(w);pe(E,()=>({"--size":"36px"})),ye(E.lastChild,{name:"back"});var U=F(E,2);Qe(U,{children:(J,ne)=>{var X=De("back");p(J,X)}}),p(y,w)};j(S,y=>{(!(t.blocked||t.hidden)||t.blocked&&t.unBlockedBack)&&y(C)})}var k=F(_,2);ue(k,()=>t.children),Et(f,y=>b(i,y),()=>s(i)),Et(h,y=>b(a,y),()=>s(a));var N=F(h,2);{var M=y=>{Kc(y,{get onClose(){return t.onStartClose},get onOpen(){return t.onStartOpen},get onSwipe(){return t.onSwipe},get dialogState(){return t.dialogState},get dialog(){return s(a)}})};j(N,y=>{(!s(v)&&t.dialogState==="opened"||t.dialogState==="swiping")&&(!t.blocked||t.unBlockedBack)&&y(M)})}ce(()=>_e(h,1,ge([{open:t.dialogState==="opened",hidden:t.hidden,isAnimationOn:l.working&&(!l.isSwiping||!t.hidden)},{hidden:t.hidden}]),"svelte-vr2o0t")),Ca("scroll",f,d),p(e,g),Y()}tt(["click"]);const Ga=(e,t)=>{if(!t)return e;if(t.type==="closed")return{type:"closed"};switch(e.type){case"opened":return t.type==="close"?{type:"closing"}:t.type==="swipe"?{type:"swiping"}:e;case"closed":return t.type==="open"?{type:"opening"}:e;case"swiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"opening":return t.type==="opened"?{type:"opened"}:e;default:return e}};function Qc(e,t){W(t,!0);let n=re(t,"blocked",3,!1),r=re(t,"hiddenDialog",3,!1),o=re(t,"unBlockedBack",3,!1),a=re(t,"onStartClose",3,()=>{}),i=re(t,"onClose",3,()=>{});const l=Yn();let c=O(Be(Ga({type:"closed"})));const u=k=>{b(c,Ga(s(c),k),!0)},d=()=>{n()&&!o()||(a()(),u({type:"close"}))},v=()=>{u({type:"open"})},g=()=>{u({type:"opened"}),l.duration=.2},h=()=>{i()(),u({type:"closed"}),l.swipingRatio=1,l.duration=.2},f=()=>{u({type:"swipe"})};Le(()=>{s(c).type==="swiping"?l.isSwiping=!0:l.isSwiping=!1,s(c).type==="closed"&&t.shownDialog?v():s(c).type==="opened"&&!t.shownDialog&&d()});var _={handleComputeState:u},m=z(),S=B(m);{var C=k=>{Jc(k,{onSwipe:f,onOpened:g,onClosed:h,onStartClose:d,onStartOpen:v,get dialogState(){return s(c).type},get hidden(){return r()},get blocked(){return n()},get unBlockedBack(){return o()},children:(N,M)=>{var y=z(),w=B(y);ue(w,()=>t.children),p(N,y)},$$slots:{default:!0}})};j(S,k=>{s(c).type!=="closed"&&k(C)})}return p(e,m),Y(_)}const $c=({getDialog:e,onOpen:t,onStartClose:n,onClose:r})=>{const o=i=>{i.preventDefault(),n()},a=()=>{r?.()};Ce(()=>{const i=e();return i?.addEventListener("cancel",o),i?.addEventListener("close",a),()=>{i?.removeEventListener("cancel",o),i?.removeEventListener("close",a)}}),Ce(()=>{const i=e();i?.showModal(),i?.getBoundingClientRect(),t()})};var eu=(e,t)=>{t.onStartBack()},tu=H('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),nu=(e,t)=>{t.onStartClose()},ru=H('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),au=H('<dialog><div class="dialogInner svelte-rt409n"><div class="header svelte-rt409n"><div><!></div> <div><!></div></div> <!></div></dialog> <!>',1);function ou(e,t){W(t,!0);let n=re(t,"blockedDialog",3,!1),r=re(t,"hiddenDialog",3,!1),o=re(t,"isDesktopAnimationOff",3,!1),a=O(null),i=O(null);$c({getDialog:()=>s(a),onOpen:t.onOpen,onStartClose:t.onStartClose,onClose:t.onClose});const l=Yn();Le(()=>{t.stateDialog==="closing"&&(l.working?s(a)?.addEventListener("transitionend",()=>{s(a)?.close()},{once:!0}):s(a)?.close())});const{getDialogPageHeight:c}=Ta(),u=I(c);var d=au(),v=B(d),g=x(v),h=x(g),f=x(h),_=x(f);{var m=y=>{var w=tu();_e(w,1,ge(["navigateButton","buttonBack"]),"svelte-rt409n"),w.__click=[eu,t];var E=x(w);pe(E,()=>({"--size":"28px"})),ye(E.lastChild,{name:"back"});var U=F(E,2);Qe(U,{children:(J,ne)=>{var X=De("back");p(J,X)}}),p(y,w)};j(_,y=>{(!(n()||r())||n()&&t.unBlockedBack)&&t.onStartBack&&y(m)})}var S=F(f,2),C=x(S);{var k=y=>{var w=ru();_e(w,1,ge(["navigateButton","buttonClose"]),"svelte-rt409n"),w.__click=[nu,t];var E=x(w);pe(E,()=>({"--size":"28px"})),ye(E.lastChild,{name:"close"});var U=F(E,2);Qe(U,{children:(J,ne)=>{var X=De("close");p(J,X)}}),p(y,w)};j(C,y=>{n()||r()||y(k)})}var N=F(h,2);ue(N,()=>t.children),Et(g,y=>b(i,y),()=>s(i)),Et(v,y=>b(a,y),()=>s(a));var M=F(v,2);ws(M,{get dialog(){return s(a)},get dialogInner(){return s(i)},get onClose(){return t.onStartClose}}),ce(()=>{nr(v,`height: ${s(u)+74}px`),_e(v,1,ge([{open:t.stateDialog==="open",isAnimationOn:l.working,isDesktopAnimationOff:o(),hiddenDialog:r()}]),"svelte-rt409n")}),p(e,d),Y()}tt(["click"]);const su=({onStartClose:e,onClose:t})=>{let n=O("close");return{get state(){return s(n)},set state(i){b(n,i,!0)},handleStartClose:(i=!1)=>{i||(b(n,"closing"),e?.())},handleOpen:()=>{b(n,"open")},handleClose:()=>{b(n,"close"),t?.()}}};function iu(e,t){W(t,!0);let n=re(t,"blockedDialog",3,!1),r=re(t,"hiddenDialog",3,!1),o=re(t,"onStartClose",3,()=>{}),a=re(t,"onClose",3,()=>{}),i=su({onStartClose:o(),onClose:a()});Le(()=>{i.state==="close"&&t.shownDialog?i.state="opening":i.state==="open"&&!t.shownDialog&&i.handleStartClose(n())});const l=v=>{v.key==="Escape"&&(document.activeElement instanceof HTMLInputElement&&document.activeElement.type==="text"||document.activeElement instanceof HTMLTextAreaElement||n())&&(v.preventDefault(),v.stopPropagation())};Ce(()=>(document.addEventListener("keydown",l),()=>{document.removeEventListener("keydown",l)}));var c=z(),u=B(c);{var d=v=>{ou(v,{get stateDialog(){return i.state},get blockedDialog(){return n()},get unBlockedBack(){return t.unBlockedBack},get hiddenDialog(){return r()},get onOpen(){return i.handleOpen},get onStartBack(){return t.onStartBack},onStartClose:()=>{i.handleStartClose(n())},get onClose(){return i.handleClose},children:(g,h)=>{var f=z(),_=B(f);ue(_,()=>t.children),p(g,f)},$$slots:{default:!0}})};j(u,v=>{i.state!=="close"&&v(d)})}p(e,c),Y()}function lu(e,t){W(t,!0);let n=re(t,"blockedDialog",3,!1),r=re(t,"hiddenDialog",3,!1),o=re(t,"isLastDialog",3,!1),a=re(t,"onStartClose",3,()=>{}),i=re(t,"onClose",3,()=>{});const l=I(()=>o()?void 0:t.onStartBack),{showDialog:c,hideDialog:u}=ur();Ce(()=>(c(),()=>{u()}));const{checkMobileSize:d}=Kn();var v=z(),g=B(v);{var h=_=>{Qc(_,{get shownDialog(){return t.shownDialog},get blocked(){return n()},get unBlockedBack(){return t.unBlockedBack},get hiddenDialog(){return r()},get children(){return t.children},get onStartClose(){return t.onStartBack},get onClose(){return i()}})},f=_=>{iu(_,{get shownDialog(){return t.shownDialog},get blockedDialog(){return n()},get unBlockedBack(){return t.unBlockedBack},get hiddenDialog(){return r()},get children(){return t.children},get onStartBack(){return s(l)},get onStartClose(){return a()},get onClose(){return i()}})};j(g,_=>{d()?_(h):_(f,!1)})}p(e,v),Y()}function Xa(e,t){W(t,!0);const{back:n,closeDialogStack:r}=_t(),{popStackPages:o}=Bt();let a=re(t,"blocked",3,!1),i=re(t,"isLastDialog",3,!1),l=re(t,"onBack",3,()=>{});const{checkBlockedDialog:c,checkUnBlockedBackDialog:u}=ur(),d=I(()=>a()||t.hidden||c()),v=I(()=>u()&&!i());lu(e,{get shownDialog(){return t.shown},get blockedDialog(){return s(d)},get unBlockedBack(){return s(v)},get hiddenDialog(){return t.hidden},get isLastDialog(){return i()},onStartBack:()=>{(!s(d)||s(d)&&s(v))&&t.shown&&(n(),l()())},onStartClose:()=>{(!s(d)||s(d)&&s(v))&&t.shown&&r()},onClose:()=>{o()},children:(_,m)=>{var S=z(),C=B(S);ue(C,()=>t.children),p(_,S)},$$slots:{default:!0}}),Y()}var cu=H('<h1 class="svelte-1ky72l5"><!></h1>');function uu(e,t){var n=cu(),r=x(n);ue(r,()=>t.children),p(e,n)}var du=H('<div class="block svelte-ujk4k"><!> <div class="container svelte-ujk4k"><!> <!></div></div>');function fu(e,t){W(t,!0);const{blockDialog:n}=ur(),{pushStackPages:r}=Bt(),{closeDialogStack:o}=_t(),{initLocalAccount:a}=xa();let i=O("idle");const l=()=>{b(i,"loading"),r(q.Auth)},c=async()=>{b(i,"loading"),Cl(),await a(),n(!1),o()};Le(()=>{n(s(i)==="idle"||s(i)==="loading")}),Ce(()=>(n(!0),()=>{n(!1)}));var u=du(),d=x(u);uu(d,{children:(f,_)=>{var m=De("use app");p(f,m)}});var v=F(d,2),g=x(v);Qt(g,{onClick:l,fullWidth:!0,children:(f,_)=>{var m=De("cloud account");p(f,m)},$$slots:{default:!0}});var h=F(g,2);Qt(h,{onClick:c,fullWidth:!0,type:"secondary",children:(f,_)=>{var m=De("without account");p(f,m)},$$slots:{default:!0}}),p(e,u),Y()}var vu=H('<div class="svelte-1x9a4ve"><!></div>');function Me(e,t){W(t,!0);const{setDialogPageHeight:n}=Ta();let r=O(null);Ce(()=>{s(r)&&(s(r).getBoundingClientRect(),s(r).style.opacity="1");const i=new ResizeObserver(l=>{for(let c of l){const u=c.contentRect.height;n(u)}});if(s(r))return i.observe(s(r)),()=>{s(r)&&i.unobserve(s(r)),i.disconnect()}});var o=vu(),a=x(o);ue(a,()=>t.children),Et(o,i=>b(r,i),()=>s(r)),p(e,o),Y()}var hu=H('<div class="svelte-stjbkr"><p class="svelte-stjbkr">Page not found</p> <!></div>');function gu(e,t){W(t,!1);const{navigate:n}=_t(),r=i=>{i.preventDefault(),n("/")};Pa();var o=hu(),a=F(x(o),2);Qt(a,{element:"a",href:"/",onClick:r,children:(i,l)=>{var c=De("close");p(i,c)},$$slots:{default:!0}}),p(e,o),Y()}const _u="modulepreload",pu=function(e){return"/"+e},Za={},Re=function(t,n,r){let o=Promise.resolve();if(n&&n.length>0){let c=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=i?.nonce||i?.getAttribute("nonce");o=c(n.map(u=>{if(u=pu(u),u in Za)return;Za[u]=!0;const d=u.endsWith(".css"),v=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${v}`))return;const g=document.createElement("link");if(g.rel=d?"stylesheet":_u,d||(g.as="script"),g.crossOrigin="",g.href=u,l&&g.setAttribute("nonce",l),document.head.appendChild(g),d)return new Promise((h,f)=>{g.addEventListener("load",h),g.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${u}`)))})}))}function a(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return o.then(i=>{for(const l of i||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})};var mu=H('<div class="svelte-10xfz1h"><p class="svelte-10xfz1h">Something went wrong. Please reload the page</p> <!></div>');function wu(e){var t=mu(),n=F(x(t),2);Qt(n,{onClick:()=>location.reload(),children:(r,o)=>{var a=De("Reload");p(r,a)},$$slots:{default:!0}}),p(e,t)}var yu=H('<div><!> <div class="loader svelte-m0sno1"></div></div>');function Ss(e,t){W(t,!0);let n=O(!1);Ce(()=>{const a=setTimeout(()=>{b(n,!0)},200);return()=>{clearTimeout(a)}});var r=yu(),o=x(r);ue(o,()=>t.children??he),ce(()=>_e(r,1,ge(["block",{shown:s(n)}]),"svelte-m0sno1")),p(e,r),Y()}var bu=H('<div class="svelte-1mu1b44"><!></div>');function Su(e,t){W(t,!0);const{getDialogPageHeight:n}=Ta(),r=I(n);var o=bu(),a=x(o);Ss(a,{}),ce(()=>nr(o,`min-height: ${s(r)??""}px;`)),p(e,o),Y()}function ze(e,t){W(t,!0);const n={},r=Object.assign({"./Pages/About.svelte":()=>Re(()=>import("./Da8bzTex.js"),__vite__mapDeps([0,1])),"./Pages/AccessKeys.svelte":()=>Re(()=>import("./ByKiFDKt.js"),__vite__mapDeps([2,3,4,5])),"./Pages/Account.svelte":()=>Re(()=>import("./DKkyee67.js"),__vite__mapDeps([6,3,7])),"./Pages/Auth.svelte":()=>Re(()=>import("./BT7UdKPw.js"),__vite__mapDeps([8,9])),"./Pages/ClearStore.svelte":()=>Re(()=>import("./CXwPGKlG.js"),__vite__mapDeps([10,11])),"./Pages/ConfirmAccessKey.svelte":()=>Re(()=>import("./5CCDlpjO.js"),__vite__mapDeps([12,4,3,13,14,15,16])),"./Pages/EditNote.svelte":()=>Re(()=>import("./DyDx56N_.js"),__vite__mapDeps([17,18,14,15,19,20])),"./Pages/Exit.svelte":()=>Re(()=>import("./B_afMx2c.js"),__vite__mapDeps([21,22])),"./Pages/ExportData.svelte":()=>Re(()=>import("./DBD5qf5s.js"),__vite__mapDeps([23,24])),"./Pages/ImportData.svelte":()=>Re(()=>import("./NgAZnP7D.js"),__vite__mapDeps([25,26])),"./Pages/NewNote.svelte":()=>Re(()=>import("./Dsmb0p7B.js"),__vite__mapDeps([27,18,14,15,19])),"./Pages/Settings.svelte":()=>Re(()=>import("./D39tHP55.js"),__vite__mapDeps([28,29])),"./Pages/Signin.svelte":()=>Re(()=>import("./BMIWHGVh.js"),__vite__mapDeps([30,4,3,13,31])),"./Pages/Signup.svelte":()=>Re(()=>import("./CWB3val3.js"),__vite__mapDeps([32,13,4,3,33])),"./Pages/Subscription.svelte":()=>Re(()=>import("./CWHvvBXN.js"),__vite__mapDeps([34,35])),"./Pages/Sync.svelte":()=>Re(()=>import("./DrKqp_Io.js"),__vite__mapDeps([36,37]))}),o=async l=>{const c=`./Pages/${l[0].toUpperCase()+l.slice(1)}.svelte`;if(!n[l]){if(r[c]){const u=r[c]();return n[l]={promise:u},n[l].module=await u,n[l].module}throw new Error(`Page ${l} not found`)}return n[l].module||await n[l].promise};var a=z(),i=B(a);zo(i,()=>o(t.page),l=>{Su(l,{})},(l,c)=>{const u=I(()=>s(c).default);var d=z(),v=B(d);jo(v,()=>s(u),(g,h)=>{h(g,{get params(){return t.params},get hidden(){return t.hidden}})}),p(l,d)},l=>{wu(l)}),p(e,a),Y()}var ku=H('<button> <svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></button>');function ks(e,t){let n=I(()=>t.style==="selected"?"45deg":"0deg");var r=ku();r.__click=function(...i){t.onClick?.apply(this,i)};var o=x(r),a=F(o);pe(a,()=>({"--size":t.size==="small"?"10px":"12px","--rotate":s(n)})),ye(a.lastChild,{name:"plus"}),ce(()=>{Pe(r,"type",t.type),_e(r,1,ge([{selectedTag:t.style==="selected",small:t.size==="small"}]),"svelte-uu8a24"),Zt(o,`${t.title??""} `)}),p(e,r)}tt(["click"]);var Cu=H("<div></div>");function Ja(e,t){W(t,!0);let n=re(t,"mobile",3,!1);var r=Cu();Hr(r,20,()=>t.tags,o=>o,(o,a)=>{ks(o,{get title(){return a},onClick:()=>t.handleTagClick(a)})}),ce(()=>_e(r,1,ge(["tags",{mobile:n()}]),"svelte-1c53r32")),p(e,r),Y()}var Eu=H("<div></div>");function Qa(e,t){W(t,!0);var n=z(),r=B(n);{var o=a=>{var i=Eu();_e(i,1,ge(["tags","selectedTags"]),"svelte-58z9m1"),Hr(i,20,()=>t.selectedTags,l=>l,(l,c)=>{ks(l,{get title(){return c},onClick:()=>t.handleSelectedTagClick(c),style:"selected"})}),p(a,i)};j(r,a=>{t.selectedTags.size>0&&a(o)})}p(e,n),Y()}var Pu=(e,t,n)=>{t(),n("/",{full:!0})(e)},xu=H('<a class="link svelte-ltt61h"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a>'),Du=(e,t,n)=>{t(),n(q.Bin,{full:!0})(e)},Tu=H('<a class="link svelte-ltt61h"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a>'),Au=H('<div class="sidebarFixed svelte-ltt61h"><div class="nav svelte-ltt61h"><!> <div class="menu svelte-ltt61h"><a class="link svelte-ltt61h"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a> <a class="link svelte-ltt61h"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a> <!></div></div> <div class="searchWrapper svelte-ltt61h"><!></div> <!></div> <!>',1),Nu=H('<div class="sidebar svelte-ltt61h"><div class="sidebarFixed svelte-ltt61h"><!></div> <!></div>');function Lu(e,t){W(t,!0);const{checkMobileSize:n}=Kn(),{sidebarClose:r}=Qo(),{getAppHistory:o}=_t(),{getPageUrl:a,createHandlePage:i,getStackPagesFormUrl:l}=Bt(),c=Go(),u=I(()=>o().pathname),{getSelectedTags:d,addTag:v,removeTag:g}=es();let h=I(d);const{checkNotesInBin:f}=Vr();let _=re(t,"getNotes",3,()=>[]),m=re(t,"mode",3,"notes"),S=null;function C(){return S||(S=Re(()=>import("./CL4CAy0t.js"),__vite__mapDeps([38,39]))),S}const k=V=>{v(V)},N=V=>{g(V)},M=()=>{if(s(h).has("inbox"))return[];const V=[];for(const Q of _()()||[])if(Q&&!(Q.data.deletedAt&&m()==="notes")&&!(!Q.data.deletedAt&&m()==="bin")){if(s(h).size===0){for(const te of Q?.data.tags||[])V.includes(te)||V.push(te);continue}if(Q&&s(h).values().every(te=>Q.data.tags.includes(te)))for(const te of Q.data.tags)!s(h).has(te)&&!V.includes(te)&&V.push(te)}return V};let y=I(()=>M().filter(V=>c.value===""||V.toLowerCase().indexOf(c.value.toLowerCase())!==-1).sort((V,Q)=>V==="inbox"?-1:Q==="inbox"?1:V.localeCompare(Q))),w=I(n);Ce(()=>{s(w)&&C()});const{checkExistedDialog:E}=ur();let U=I(()=>l().length>0||E());var J=z(),ne=B(J);{var X=V=>{var Q=z(),te=B(Q);zo(te,C,null,(ae,ee)=>{const K=I(()=>s(ee).default);var P=z(),T=B(P);jo(T,()=>s(K),(D,A)=>{A(D,{get blocked(){return s(U)},children:(R,Z)=>{var oe=Au(),fe=B(oe),G=x(fe),se=x(G);ms(se,{});var be=F(se,2),me=x(be),Ee=I(()=>i(q.Settings));me.__click=function(...xe){s(Ee)?.apply(this,xe)};var Se=x(me);pe(Se,()=>({"--size":"24px"})),ye(Se.lastChild,{name:"settings"});var nt=F(Se,2);Qe(nt,{children:(xe,Xe)=>{var Fe=De("Settings");p(xe,Fe)}});var Oe=F(me,2),Ge=I(()=>i(q.Sync));Oe.__click=function(...xe){s(Ge)?.apply(this,xe)};var ut=x(Oe);pe(ut,()=>({"--size":"24px"})),ye(ut.lastChild,{name:"sync"});var rt=F(ut,2);Qe(rt,{children:(xe,Xe)=>{var Fe=De("Sync");p(xe,Fe)}});var It=F(Oe,2);{var pt=xe=>{var Xe=xu();Xe.__click=[Pu,r,i];var Fe=x(Xe);pe(Fe,()=>({"--size":"24px"})),ye(Fe.lastChild,{name:"note"});var Rt=F(Fe,2);Qe(Rt,{children:(mt,nn)=>{var rn=De("Notes");p(mt,rn)}}),ce(mt=>Pe(Xe,"href",mt),[()=>a("/",{full:!0})]),p(xe,Xe)},xt=xe=>{var Xe=z(),Fe=B(Xe);{var Rt=mt=>{var nn=Tu();nn.__click=[Du,r,i];var rn=x(nn);pe(rn,()=>({"--size":"24px"})),ye(rn.lastChild,{name:"bin"});var Ft=F(rn,2);Qe(Ft,{children:(zt,qr)=>{var Wr=De("Bin");p(zt,Wr)}}),ce(zt=>Pe(nn,"href",zt),[()=>a(q.Bin,{full:!0})]),p(mt,nn)};j(Fe,mt=>{f()&&mt(Rt)},!0)}p(xe,Xe)};j(It,xe=>{s(u)===`/${q.Bin}`?xe(pt):xe(xt,!1)})}var dr=F(G,2),Ot=x(dr);da(Ot,{placeholder:"Search tag",get value(){return c.value},set value(xe){c.value=xe}});var bn=F(dr,2);Qa(bn,{get selectedTags(){return s(h)},handleSelectedTagClick:N});var fr=F(fe,2);Ja(fr,{get tags(){return s(y)},handleTagClick:k,mobile:!0}),ce((xe,Xe)=>{Pe(me,"href",xe),Pe(Oe,"href",Xe)},[()=>a(q.Settings),()=>a(q.Sync)]),p(R,oe)},$$slots:{default:!0}})}),p(ae,P)}),p(V,Q)},de=V=>{var Q=Nu(),te=x(Q),ae=x(te);Qa(ae,{get selectedTags(){return s(h)},handleSelectedTagClick:N});var ee=F(te,2);Ja(ee,{get tags(){return s(y)},handleTagClick:k}),p(V,Q)};j(ne,V=>{s(w)?V(X):V(de,!1)})}p(e,J),Y()}tt(["click"]);const Mu=(e,t,n)=>{b(t,!0),b(n,!0)},Bu=(e,t,n,r)=>{b(t,!0),n(!1),b(r,!1)},Iu=(e,t,n,r)=>{t(n.note.id,!n.note.data.pinned),n.note.data.pinned?zn("Note unpinned",{onCancel:()=>{t(n.note.id,!0)}}):zn("Note pinned",{onCancel:()=>{t(n.note.id,!1)}}),b(r,!0)},Ou=(e,t,n)=>{navigator.clipboard.writeText(t.note.data.url),zn("Link copied"),b(n,!0)},Ru=(e,t,n,r,o)=>{t(n.note.id),zn("Note restored from bin",{onCancel:()=>{r(n.note.id)}}),b(o,!0)};var Fu=H('<li class="svelte-8ve3pe"><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>Copy link</button></li>'),zu=H('<li class="svelte-8ve3pe"><button><span class="wrapperIcon svelte-8ve3pe"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></span>Delete</button></li>'),Hu=H('<li class="svelte-8ve3pe"><button><span class="wrapperIcon svelte-8ve3pe"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></span>Restore</button></li> <li class="svelte-8ve3pe"><button><span class="wrapperIcon svelte-8ve3pe"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></span>Delete from bin</button></li>',1),Uu=H('<ul class="menu svelte-8ve3pe"><!> <li class="svelte-8ve3pe"><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> </button></li> <!></ul>'),ju=H('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),Vu=H("<!> <!>",1);function qu(e,t){W(t,!0);const n=(M,y=he)=>{var w=Uu(),E=x(w);{var U=ae=>{var ee=Fu(),K=x(ee);K.__click=[Ou,t,u];var P=x(K);pe(P,()=>({"--size":"22px"})),ye(P.lastChild,{name:"copy"}),ce(()=>_e(K,1,ge(["button",{buttonMenuDialog:y()}]),"svelte-8ve3pe")),p(ae,ee)};j(E,ae=>{y()&&t.note.data.url&&ae(U)})}var J=F(E,2),ne=x(J);ne.__click=[Iu,a,t,u];var X=x(ne);{let ae=I(()=>t.note.data.pinned?"pin-cancel":"pin");pe(X,()=>({"--size":"22px"})),ye(X.lastChild,{get name(){return s(ae)}})}var de=F(X),V=F(J,2);{var Q=ae=>{var ee=zu(),K=x(ee);K.__click=[Mu,d,u];var P=x(K),T=x(P);pe(T,()=>({"--size":"18px"})),ye(T.lastChild,{name:"bin"}),ce(()=>_e(K,1,ge(["button",{buttonMenuDialog:y()}]),"svelte-8ve3pe")),p(ae,ee)},te=ae=>{var ee=Hu(),K=B(ee),P=x(K);P.__click=[Ru,i,t,r,u];var T=x(P),D=x(T);pe(D,()=>({"--size":"18px"})),ye(D.lastChild,{name:"bin-cancel"});var A=F(K,2),R=x(A);R.__click=[Bu,v,c,u];var Z=x(R),oe=x(Z);pe(oe,()=>({"--size":"18px"})),ye(oe.lastChild,{name:"bin"}),ce(()=>{_e(P,1,ge(["button",{buttonMenuDialog:y()}]),"svelte-8ve3pe"),_e(R,1,ge(["button",{buttonMenuDialog:y()}]),"svelte-8ve3pe")}),p(ae,ee)};j(V,ae=>{l()==="notes"?ae(Q):ae(te,!1)})}ce(()=>{_e(ne,1,ge(["button",{buttonMenuDialog:y()}]),"svelte-8ve3pe"),Zt(de,` ${t.note.data.pinned?"Unpin":"Pin"}`)}),p(M,w)},{moveNoteToBin:r,deleteNote:o,pinNote:a,restoreNoteFromBin:i}=Vr();let l=re(t,"mode",3,"notes"),c=re(t,"shownMenu",15),u=O(!1),d=O(!1),v=O(!1);const{checkMobileSize:g}=Kn();let h=I(g);const f=async()=>{r(t.note.id),zn("Note moved to bin",{onCancel:()=>{i(t.note.id)}})},_=()=>{s(d)&&f(),c(!1),b(u,!1)};var m=Vu(),S=B(m);{var C=M=>{var y=z(),w=B(y);{var E=J=>{Aa(J,{get startClose(){return s(u)},onClosed:_,children:(ne,X)=>{n(ne,()=>!0)},$$slots:{default:!0}})},U=J=>{var ne=ju(),X=B(ne);pe(X,()=>({"--bottom":"-90px","--right":"20px"})),ys(X.lastChild,{get startClose(){return s(u)},get positionTop(){return t.showMenuUp},onClosed:_,children:(de,V)=>{n(de,()=>!1)},$$slots:{default:!0}}),p(J,ne)};j(w,J=>{s(h)?J(E):J(U,!1)})}p(M,y)};j(S,M=>{c()&&M(C)})}var k=F(S,2);{var N=M=>{bs(M,{title:"Are you sure you want to delete this note?",buttonConfirmTitle:"Delete",onConfirm:()=>{o(t.note.id),b(v,!1)},onCancel:()=>{b(v,!1)}})};j(k,M=>{s(v)&&M(N)})}p(e,m),Y()}tt(["click"]);const Wu=(e,t)=>{b(t,!0)},Yu=(e,t,n)=>{navigator.clipboard.writeText(t.note.data.url),zn("Link copied"),b(n,!1)},Ku=(e,t)=>{b(t,!0)},Gu=(e,t)=>{b(t,!1)},Xu=(e,t,n,r)=>{e.preventDefault(),t(`${q.EditNote}?id=${n.note.id}`),b(r,!1)};var Zu=H('<div class="iconPlaceholder svelte-1jg44o9"></div>'),Ju=H('<img loading="lazy" class="noteIcon" height="16" width="16" alt=""/>'),Qu=H('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),$u=H('<div class="noteIconWrapper svelte-1jg44o9"><!></div>'),ed=H('<button class="button svelte-1jg44o9"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),td=(e,t)=>{b(t,!1)},nd=H('<!> <a target="_blank" rel="noopener noreferrer" class="button openLink svelte-1jg44o9"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a>',1),rd=H('<li><!> <a class="noteLink svelte-1jg44o9" target="_blank" rel="noopener noreferrer"> </a> <div><!> <button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button></div> <!></li>');function ad(e,t){W(t,!0);const{pushStackPages:n}=Bt(),{getFaviconEnabled:r}=Tl();let o=re(t,"mode",3,"notes"),a=O(!1),i=O(!1),l=O(!1),c=I(r);const{checkMobileSize:u}=Kn(),d=w=>{try{return`https://icons.duckduckgo.com/ip3/${new URL(w).host}.ico`}catch{return""}};var v=rd();v.__focusin=[Ku,i],v.__focusout=[Gu,i];var g=x(v);{var h=w=>{var E=$u(),U=x(E);{var J=X=>{var de=z(),V=B(de);{var Q=ae=>{var ee=Zu();p(ae,ee)},te=ae=>{var ee=Ju();ce(K=>Pe(ee,"src",K),[()=>d(t.note.data.url)]),Ca("error",ee,()=>{b(l,!0)}),p(ae,ee)};j(V,ae=>{s(l)?ae(Q):ae(te,!1)})}p(X,de)},ne=X=>{var de=Qu(),V=B(de);pe(V,()=>({"--size":"16px"})),ye(V.lastChild,{name:"note"}),p(X,de)};j(U,X=>{t.note.data.url?X(J):X(ne,!1)})}p(w,E)};j(g,w=>{s(c)&&w(h)})}var f=F(g,2);f.__click=[Xu,n,t,i];var _=x(f),m=F(f,2),S=x(m);{var C=w=>{var E=nd(),U=B(E);{var J=V=>{var Q=ed();Q.__click=[Yu,t,i];var te=x(Q);pe(te,()=>({"--size":"20px"})),ye(te.lastChild,{name:"copy"});var ae=F(te,2);Qe(ae,{children:(ee,K)=>{var P=De("copy link");p(ee,P)}}),ce(()=>Pe(Q,"tabindex",t.focusHidden?-1:0)),p(V,Q)};j(U,V=>{u()||V(J)})}var ne=F(U,2);ne.__click=[td,i];var X=x(ne);pe(X,()=>({"--size":"18px"})),ye(X.lastChild,{name:"open"});var de=F(X,2);Qe(de,{children:(V,Q)=>{var te=De();ce(()=>Zt(te,t.note.data.name)),p(V,te)}}),ce(()=>{Pe(ne,"href",t.note.data.url),Pe(ne,"tabindex",t.focusHidden?-1:0)}),p(w,E)};j(S,w=>{t.note.data.url&&w(C)})}var k=F(S,2);k.__click=[Wu,a],_e(k,1,ge(["button","buttonMenu"]),"svelte-1jg44o9");var N=x(k);pe(N,()=>({"--size":"18px","--rotate":"90deg"})),ye(N.lastChild,{name:"menu"});var M=F(N,2);Qe(M,{children:(w,E)=>{var U=De("show menu");p(w,U)}});var y=F(m,2);qu(y,{get mode(){return o()},get note(){return t.note},get showMenuUp(){return t.showMenuUp},get shownMenu(){return s(a)},set shownMenu(w){b(a,w,!0)}}),ce(w=>{_e(v,1,ge(["record",{pinned:t.note.data.pinned}]),"svelte-1jg44o9"),Pe(f,"tabindex",t.focusHidden?-1:0),Pe(f,"href",w),Zt(_,t.note.data.name),_e(m,1,ge(["noteMenuWrapper",{noteMenuWrapperActive:s(i)}]),"svelte-1jg44o9"),Pe(k,"tabindex",t.focusHidden?-1:0)},[()=>`/?stackPages=${encodeURIComponent(`${q.EditNote}?id=${t.note.id}`)}`]),p(e,v),Y()}tt(["focusin","focusout","click"]);var od=H('<p class="message">No notes in bin</p>'),sd=H('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Add note</span>',1),id=H('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span style="padding-left: 6px;">Import data</span>',1),ld=H('<p class="message">No notes found</p> <div class="wrapperButtonsAdd svelte-106i4nx"><!></div> <div>or</div> <div class="wrapperButtonsAdd svelte-106i4nx"><!></div>',1),cd=H('<div class="emptyStore svelte-106i4nx"><!></div>'),ud=H('<div class="emptyMessage svelte-106i4nx">No notes found</div>'),dd=H('<div class="feed svelte-106i4nx"><ul class="svelte-106i4nx"></ul></div>'),fd=H('<div class="wrapperFeed svelte-106i4nx"><div class="wrapperContainer svelte-106i4nx"><!></div></div>');function vd(e,t){W(t,!0);let n=re(t,"getNotes",3,()=>[]),r=re(t,"mode",3,"notes");const{getScrollContainer:o}=Da(),{createHandlePage:a,getPageUrl:i}=Bt(),{getSelectedTags:l}=es(),{getFeedOrder:c}=Zo(),u=Wo();let d=54,v=O(0),g=O(0),h=O(0),f=O(0),_=[],m=O(0),S=I(o),C=null,k=null;const N=I(l);Le(()=>{s(N),s(E),s(S)?.scrollTo(0,0)});const{enable:M}=fs(),y=()=>{M(),C||(C=requestAnimationFrame(()=>{const P=s(S)?.scrollTop||0;b(h,P,!0);const T=Math.ceil(s(v)/d);b(g,Math.floor(P/(d*T))*(d*T)),C=null}))},w=()=>{k||(k=requestAnimationFrame(()=>{b(v,window.innerHeight-180||0,!0);const P=s(S)?.scrollTop||0;b(h,P,!0);const T=Math.ceil(s(v)/d);b(g,Math.floor(P/(d*T))*(d*T)),k=null}))};Ce(()=>{w(),y()}),Le(()=>(s(S)?.addEventListener("scroll",y),window.addEventListener("resize",w),()=>{s(S)?.removeEventListener("scroll",y),window.removeEventListener("resize",w)}));const E=I(c);let U=O("");Le(()=>{s(E);const P=n()()||[];Ct(()=>s(U))!==s(E)&&Ct(()=>b(U,s(E),!0)),P.sort((A,R)=>{if(!A||!R)return 0;if(A.data.pinned&&!R.data.pinned)return 1;if(!A.data.pinned&&R.data.pinned)return-1;switch(s(E)){case"newest":return A.data.updatedAt<R.data.updatedAt?-1:1;case"oldest":return A.data.updatedAt>R.data.updatedAt?-1:1;case"AtoZ":return R.data.name.localeCompare(A.data.name);case"ZtoA":return A.data.name.localeCompare(R.data.name);default:return 0}});const D=[];for(let A=P.length-1;A>=0;A--){const R=P[A];r()==="notes"&&R?.data.deletedAt||r()==="bin"&&!R?.data.deletedAt||R&&(s(N).size&&s(N).values().some(Z=>!R.data.tags.includes(Z))||u&&!(R.data.name.toLowerCase().includes(u.value.toLowerCase())||R.data.url.toLowerCase().includes(u.value.toLowerCase())||R.data.text.toLowerCase().includes(u.value.toLowerCase()))||D.push(R))}b(f,D.length,!0),_=D,b(m,Date.now(),!0)});const J=I(()=>s(f)*d);let X=I(()=>{s(m);const P=Math.ceil(s(v)/d);let T=Math.floor(s(g)/d);return T=T-Math.min(T,P),_.slice(T,T+P*3)}),de=I(()=>d*Math.ceil(s(v)/d));const V=I(()=>s(g)-Math.min(s(g),s(de)));var Q=fd(),te=x(Q),ae=x(te);{var ee=P=>{Ss(P,{})},K=P=>{var T=z(),D=B(T);{var A=Z=>{var oe=cd(),fe=x(oe);{var G=be=>{var me=od();p(be,me)},se=be=>{var me=ld(),Ee=F(B(me),2),Se=x(Ee);{let Ge=I(()=>i(q.NewNote)),ut=I(()=>a(q.NewNote));Qt(Se,{element:"a",get href(){return s(Ge)},get onClick(){return s(ut)},children:(rt,It)=>{var pt=sd(),xt=B(pt);pe(xt,()=>({"--size":"18px","--color":"#b0b0b0"})),ye(xt.lastChild,{name:"plus"}),p(rt,pt)},$$slots:{default:!0}})}var nt=F(Ee,4),Oe=x(nt);{let Ge=I(()=>i(q.ImportData)),ut=I(()=>a(q.ImportData));Qt(Oe,{element:"a",get href(){return s(Ge)},get onClick(){return s(ut)},children:(rt,It)=>{var pt=id(),xt=B(pt);pe(xt,()=>({"--size":"18px","--color":"#b0b0b0"})),ye(xt.lastChild,{name:"import"}),p(rt,pt)},$$slots:{default:!0}})}p(be,me)};j(fe,be=>{r()==="bin"?be(G):be(se,!1)})}p(Z,oe)},R=Z=>{var oe=z(),fe=B(oe);{var G=be=>{var me=ud();p(be,me)},se=be=>{var me=dd(),Ee=x(me);Hr(Ee,23,()=>s(X),Se=>Se.id,(Se,nt,Oe)=>{{let Ge=I(()=>s(Oe)*d<s(h)-s(V)-d/2||s(Oe)*d>s(h)-s(V)+Math.floor(s(v)/d)*d),ut=I(()=>(s(Oe)+3)*d<s(h)-s(V)-d/2||(s(Oe)+3)*d>s(h)-s(V)+Math.floor(s(v)/d)*d);ad(Se,{get mode(){return r()},get focusHidden(){return s(Ge)},get showMenuUp(){return s(ut)},get note(){return s(nt)}})}}),ce(Se=>{nr(me,`min-height: ${Se??""}px`),nr(Ee,`transform: translateY(${s(V)??""}px);`)},[()=>Math.max((s(J)>s(v),s(J)),0)]),p(be,me)};j(fe,be=>{s(X).length===0?be(G):be(se,!1)},!0)}p(Z,oe)};j(D,Z=>{(n()()||[]).length===0?Z(A):Z(R,!1)},!0)}p(P,T)};j(ae,P=>{t.readyNotes?P(K,!1):P(ee)})}p(e,Q),Y()}var hd=H('<!> <div class="content svelte-k57gez"><!></div>',1);function gd(e,t){W(t,!0);const{getAppHistory:n}=_t(),{getGetNotes:r,isInitedNotes:o}=Vr(),a=I(o),i=I(r),l=I(()=>n().pathname);var c=hd(),u=B(c);{let g=I(()=>s(l)==="/bin"?"bin":"notes");Lu(u,{get mode(){return s(g)},get getNotes(){return s(i)}})}var d=F(u,2),v=x(d);{let g=I(()=>s(l)==="/bin"?"bin":"notes");vd(v,{get mode(){return s(g)},get getNotes(){return s(i)},get readyNotes(){return s(a)}})}p(e,c),Y()}const $a=(e,t=he,n=he,r)=>{let o=Or(()=>Hs(r?.(),!1));var a=z(),i=B(a);{var l=u=>{Me(u,{children:(d,v)=>{ze(d,{get hidden(){return s(o)},get page(){return q.Settings}})},$$slots:{default:!0}})},c=u=>{var d=z(),v=B(d);{var g=f=>{Me(f,{children:(_,m)=>{ze(_,{get hidden(){return s(o)},get page(){return q.NewNote}})},$$slots:{default:!0}})},h=f=>{var _=z(),m=B(_);{var S=k=>{Me(k,{children:(N,M)=>{ze(N,{get params(){return n()},get hidden(){return s(o)},get page(){return q.EditNote}})},$$slots:{default:!0}})},C=k=>{var N=z(),M=B(N);{var y=E=>{Me(E,{children:(U,J)=>{ze(U,{get hidden(){return s(o)},get page(){return q.ImportData}})},$$slots:{default:!0}})},w=E=>{var U=z(),J=B(U);{var ne=de=>{Me(de,{children:(V,Q)=>{ze(V,{get hidden(){return s(o)},get page(){return q.ExportData}})},$$slots:{default:!0}})},X=de=>{var V=z(),Q=B(V);{var te=ee=>{Me(ee,{children:(K,P)=>{ze(K,{get hidden(){return s(o)},get page(){return q.ClearStore}})},$$slots:{default:!0}})},ae=ee=>{var K=z(),P=B(K);{var T=A=>{Me(A,{children:(R,Z)=>{fu(R,{})},$$slots:{default:!0}})},D=A=>{var R=z(),Z=B(R);{var oe=G=>{Me(G,{children:(se,be)=>{ze(se,{get hidden(){return s(o)},get page(){return q.Auth}})},$$slots:{default:!0}})},fe=G=>{var se=z(),be=B(se);{var me=Se=>{Me(Se,{children:(nt,Oe)=>{ze(nt,{get hidden(){return s(o)},get page(){return q.Signup}})},$$slots:{default:!0}})},Ee=Se=>{var nt=z(),Oe=B(nt);{var Ge=rt=>{Me(rt,{children:(It,pt)=>{ze(It,{get hidden(){return s(o)},get page(){return q.Signin}})},$$slots:{default:!0}})},ut=rt=>{var It=z(),pt=B(It);{var xt=Ot=>{Me(Ot,{children:(bn,fr)=>{ze(bn,{get hidden(){return s(o)},get page(){return q.AccessKeys}})},$$slots:{default:!0}})},dr=Ot=>{var bn=z(),fr=B(bn);{var xe=Fe=>{Me(Fe,{children:(Rt,mt)=>{ze(Rt,{get hidden(){return s(o)},get page(){return q.Account}})},$$slots:{default:!0}})},Xe=Fe=>{var Rt=z(),mt=B(Rt);{var nn=Ft=>{Me(Ft,{children:(zt,qr)=>{ze(zt,{get hidden(){return s(o)},get page(){return q.ConfirmAccessKey}})},$$slots:{default:!0}})},rn=Ft=>{var zt=z(),qr=B(zt);{var Wr=Sn=>{Me(Sn,{children:(vr,Na)=>{ze(vr,{get hidden(){return s(o)},get page(){return q.Exit}})},$$slots:{default:!0}})},Cs=Sn=>{var vr=z(),Na=B(vr);{var Es=kn=>{Me(kn,{children:(hr,La)=>{ze(hr,{get hidden(){return s(o)},get page(){return q.Sync}})},$$slots:{default:!0}})},Ps=kn=>{var hr=z(),La=B(hr);{var xs=Cn=>{Me(Cn,{children:(gr,Ma)=>{ze(gr,{get hidden(){return s(o)},get page(){return q.Subscription}})},$$slots:{default:!0}})},Ds=Cn=>{var gr=z(),Ma=B(gr);{var Ts=En=>{Me(En,{children:(Yr,Ns)=>{ze(Yr,{get hidden(){return s(o)},get page(){return q.About}})},$$slots:{default:!0}})},As=En=>{Me(En,{children:(Yr,Ns)=>{gu(Yr,{})},$$slots:{default:!0}})};j(Ma,En=>{t()===q.About?En(Ts):En(As,!1)},!0)}p(Cn,gr)};j(La,Cn=>{t()===q.Subscription?Cn(xs):Cn(Ds,!1)},!0)}p(kn,hr)};j(Na,kn=>{t()===q.Sync?kn(Es):kn(Ps,!1)},!0)}p(Sn,vr)};j(qr,Sn=>{t()===q.Exit?Sn(Wr):Sn(Cs,!1)},!0)}p(Ft,zt)};j(mt,Ft=>{t()===q.ConfirmAccessKey?Ft(nn):Ft(rn,!1)},!0)}p(Fe,Rt)};j(fr,Fe=>{t()===q.Account?Fe(xe):Fe(Xe,!1)},!0)}p(Ot,bn)};j(pt,Ot=>{t()===q.AccessKeys?Ot(xt):Ot(dr,!1)},!0)}p(rt,It)};j(Oe,rt=>{t()===q.Signin?rt(Ge):rt(ut,!1)},!0)}p(Se,nt)};j(be,Se=>{t()===q.Signup?Se(me):Se(Ee,!1)},!0)}p(G,se)};j(Z,G=>{t()===q.Auth?G(oe):G(fe,!1)},!0)}p(A,R)};j(P,A=>{t()===q.Start?A(T):A(D,!1)},!0)}p(ee,K)};j(Q,ee=>{t()===q.ClearStore?ee(te):ee(ae,!1)},!0)}p(de,V)};j(J,de=>{t()===q.ExportData?de(ne):de(X,!1)},!0)}p(E,U)};j(M,E=>{t()===q.ImportData?E(y):E(w,!1)},!0)}p(k,N)};j(m,k=>{t()===q.EditNote?k(S):k(C,!1)},!0)}p(f,_)};j(v,f=>{t()===q.NewNote?f(g):f(h,!1)},!0)}p(u,d)};j(i,u=>{t()===q.Settings?u(l):u(c,!1)})}p(e,a)};var _d=H("<!> <!>",1);function pd(e,t){W(t,!0);const{getStackPages:n,popStackPages:r}=Bt(),{getAccount:o}=xa();let a=I(n),i=I(()=>o()!==void 0);const{checkMobileSize:l}=Kn();var c=_d(),u=B(c);{var d=f=>{gd(f,{})};j(u,f=>{s(i)&&f(d)})}var v=F(u,2);{var g=f=>{var _=z(),m=B(_);Hr(m,19,()=>s(a),S=>S.page,(S,C,k)=>{const N=I(()=>s(C).page.split("?")[1]),M=I(()=>s(C).page.split("?")[0]);{let y=I(()=>s(k)!==s(a).length-1&&!!s(a)[s(k)+1]?.shown),w=I(()=>s(k)===0);Xa(S,{get shown(){return s(C).shown},get hidden(){return s(y)},get isLastDialog(){return s(w)},children:(E,U)=>{{let J=I(()=>s(k)!==s(a).length-1&&!!s(a)[s(k)+1]?.shown);$a(E,()=>s(M),()=>s(N),()=>s(J))}},$$slots:{default:!0}})}}),p(f,_)},h=f=>{var _=z(),m=B(_);{var S=C=>{const k=I(()=>s(a)[s(a).length-1].page.split("?")[1]),N=I(()=>s(a)[s(a).length-1].page.split("?")[0]);{let M=I(()=>s(a).length===1);Xa(C,{onBack:()=>r(),get shown(){return s(a)[s(a).length-1].shown},hidden:!1,get isLastDialog(){return s(M)},children:(y,w)=>{$a(y,()=>s(N),()=>s(k))},$$slots:{default:!0}})}};j(m,C=>{s(a).length>0&&C(S)},!0)}p(f,_)};j(v,f=>{l()?f(g):f(h,!1)})}p(e,c),Y()}function md(e,t){W(t,!1);let n=0;Ce(()=>{document.addEventListener("touchstart",r=>{n=r.touches[0].clientX},{passive:!1}),document.addEventListener("touchmove",r=>{const a=r.touches[0].clientX-n;(n<50&&a>0||n>window.innerWidth-50&&a<0)&&r.preventDefault()},{passive:!1}),document.addEventListener("touchend",()=>{n=0}),document.addEventListener("touchcancel",()=>{n=0})}),Pa(),Y()}const wd=(e,t)=>{s(t)&&s(t).scrollTo({top:0})};var yd=H('<div class="wrapperButtonTop svelte-1n46o8q"><button class="buttonTop svelte-1n46o8q"><!> <span class="icon svelte-1n46o8q"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></span></button></div>'),bd=H('<!> <!> <main><div class="wrapperHeader svelte-1n46o8q"><!></div> <div class="container svelte-1n46o8q"><!></div></main> <!>',1);function Sd(e,t){W(t,!0);const{setScrollContainer:n}=Da(),{getAccount:r}=xa(),{getStackPagesFormUrl:o}=Bt(),a=Yn();Ce(async()=>{await new Promise(E=>setTimeout(E,100)),await Io(),a.working=!0});let i=O(!1),l=0,c=I(()=>o().length>0),u=I(r),d=O(null);Le(()=>{n(s(d))});const v=()=>{if(s(d)){const E=s(d).scrollTop||0;E===0?b(i,!1):!s(i)&&l>E?b(i,!0):s(i)&&l+50<E&&b(i,!1),l=E}},g=()=>{v()};Le(()=>(s(d)?.addEventListener("scroll",g),window.addEventListener("resize",g),()=>{s(d)?.removeEventListener("scroll",g),window.removeEventListener("resize",g)}));var h=bd(),f=B(h);md(f,{});var _=F(f,2);wc(_,{});var m=F(_,2),S=x(m),C=x(S);{var k=E=>{Yc(E,{})};j(C,E=>{s(u)!==void 0&&E(k)})}var N=F(S,2),M=x(N);pd(M,{}),Et(m,E=>b(d,E),()=>s(d));var y=F(m,2);{var w=E=>{var U=yd(),J=x(U);J.__click=[wd,d];var ne=x(J);Qe(ne,{children:(V,Q)=>{var te=De("top");p(V,te)}});var X=F(ne,2),de=x(X);pe(de,()=>({"--rotate":"90deg","--size":"28px"})),ye(de.lastChild,{name:"back"}),p(E,U)};j(y,E=>{s(i)&&E(w)})}ce(()=>{nr(m,`--swiping-ratio: ${a.swipingRatio}; --transition-timing-default: ${a.duration}s;`),_e(m,1,ge(["main",{isAnimationOn:a.working&&!a.isSwiping,open:s(c)}]),"svelte-1n46o8q")}),p(e,h),Y()}tt(["click"]);function kd(e){hc(e,{children:(t,n)=>{Sd(t,{})}})}window.addEventListener("unhandledrejection",e=>{alert("Error: "+e.reason.message)});window.isUnsupportedBrowser||$i(kd,{target:document.getElementById("app")});export{Yn as $,xa as A,Qt as B,Vr as C,Ca as D,Td as E,Pa as F,Pd as G,uu as H,ye as I,re as J,_e as K,Ss as L,ge as M,xd as N,Dd as O,q as P,nr as Q,jl as R,Kn as S,Et as T,Cl as U,Qe as V,ks as W,ul as X,Tl as Y,uc as Z,Qo as _,pe as a,fs as a0,ue as a1,ws as a2,Pe as b,x as c,p as d,Hr as e,H as f,s as g,Bt as h,ur as i,O as j,Be as k,b as l,j as m,Y as n,Ce as o,W as p,z as q,B as r,F as s,ce as t,Le as u,tt as v,De as w,Zt as x,I as y,_t as z};
