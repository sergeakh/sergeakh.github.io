const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["a/aD_vnu-zZ.js","a/aj6zxmxGs.css","a/aHsAsHH5E.js","a/a9q_jSmK4.js","a/aBEGDcNQV.js","a/aBrkJtqMH.css","a/aDJbjSRzb.js","a/aHdDxvcNK.css","a/aiBF0tGAS.js","a/aBgAKudUz.css","a/aCsicv8bk.js","a/aCbQio34u.js","a/aDU96KTZi.css","a/aDNUToCHP.js","a/aCpa8lgv9.js","a/aDX3lO1mn.js","a/aCovFy9VH.css","a/afGUkjeV7.css","a/aDqXoIKph.js","a/aCEBfkSMR.css","a/aCzyCCctP.js","a/anGbhgp1t.js","a/aDKwUMAZP.css","a/aDOcstq4Z.js","a/aBeWFm1o7.css","a/aDjSJDzG7.css","a/aCJ3KEouD.js","a/aCXobA9i7.css","a/aCP3_af9e.js","a/aBhtHFOya.css","a/apTHTOv1U.js","a/aBem4Ctjp.css","a/aDA6IcOeR.js","a/aDqMoaCXp.js","a/aCg3filF1.css","a/aDHzTiBds.js","a/aCWn1BM4V.css","a/aj8aoCY_i.js","a/aCYqPgi-1.css","a/aB4GujTUX.js","a/aCH18nfIo.css","a/aCF4BknOF.js","a/aB0_P3MSW.js","a/aB29A_v-K.css","a/aD1EJGAdJ.js","a/aBBI8MgAY.css"])))=>i.map(i=>d[i]);
var Si=Object.defineProperty;var yo=t=>{throw TypeError(t)};var Ci=(t,e,n)=>e in t?Si(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ut=(t,e,n)=>Ci(t,typeof e!="symbol"?e+"":e,n),wa=(t,e,n)=>e.has(t)||yo("Cannot "+n);var N=(t,e,n)=>(wa(t,e,"read from private field"),n?n.call(t):e.get(t)),Te=(t,e,n)=>e.has(t)?yo("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),fe=(t,e,n,r)=>(wa(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Le=(t,e,n)=>(wa(t,e,"access private method"),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();const Uo=!1;var Ya=Array.isArray,Ei=Array.prototype.indexOf,Ga=Array.from,ka=Object.defineProperty,Kn=Object.getOwnPropertyDescriptor,qo=Object.getOwnPropertyDescriptors,ki=Object.prototype,Ti=Array.prototype,Xa=Object.getPrototypeOf,wo=Object.isExtensible;const Pe=()=>{};function Pi(t){return typeof t?.then=="function"}function xi(t){return t()}function Ta(t){for(var e=0;e<t.length;e++)t[e]()}function Vo(){var t,e,n=new Promise((r,o)=>{t=r,e=o});return{promise:n,resolve:t,reject:e}}function Di(t,e,n=!1){return t===void 0?n?e():e:t}const Ze=2,Za=4,ta=8,Xt=16,Zt=32,In=64,na=128,et=1024,ct=2048,fn=4096,vt=8192,Vt=16384,Ja=32768,un=65536,bo=1<<17,Ai=1<<18,sr=1<<19,Wo=1<<20,mt=256,Vr=512,Wr=32768,Pa=1<<21,Qa=1<<22,xn=1<<23,Dn=Symbol("$state"),Ni=Symbol("legacy props"),Li=Symbol(""),Vn=new class extends Error{constructor(){super(...arguments);ut(this,"name","StaleReactionError");ut(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function Ko(t){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Ii(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Mi(t){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Ri(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Oi(t){throw new Error("https://svelte.dev/e/effect_orphan")}function Bi(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Fi(t){throw new Error("https://svelte.dev/e/props_invalid_value")}function zi(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function ji(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Hi(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Ui(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const ra=1,aa=2,Yo=4,qi=8,Vi=16,Wi=1,Ki=2,Yi=4,Gi=8,Xi=16,Zi=1,Ji=2,Ke=Symbol(),Qi="http://www.w3.org/1999/xhtml";let $i=!1;function Go(t){return t===this.v}function el(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function Xo(t){return!el(t,this.v)}let ir=!1,tl=!1;function nl(){ir=!0}let De=null;function nr(t){De=t}function Ve(t){return Zo().get(t)}function je(t,e){return Zo().set(t,e),e}function le(t,e=!1,n){De={p:De,c:null,e:null,s:t,x:null,l:ir&&!e?{s:null,u:null,$:[]}:null}}function ce(t){var e=De,n=e.e;if(n!==null){e.e=null;for(var r of n)ps(r)}return t!==void 0&&(e.x=t),De=e.p,t??{}}function lr(){return!ir||De!==null&&De.l===null}function Zo(t){return De===null&&Ko(),De.c??(De.c=new Map(rl(De)||void 0))}function rl(t){let e=t.p;for(;e!==null;){const n=e.c;if(n!==null)return n;e=e.p}return null}let Cn=[];function Jo(){var t=Cn;Cn=[],Ta(t)}function Mn(t){if(Cn.length===0&&!Yn){var e=Cn;queueMicrotask(()=>{e===Cn&&Jo()})}Cn.push(t)}function al(){for(;Cn.length>0;)Jo()}const ol=new WeakMap;function Qo(t){var e=be;if(e===null)return _e.f|=xn,t;if((e.f&Ja)===0){if((e.f&na)===0)throw!e.parent&&t instanceof Error&&$o(t),t;e.b.error(t)}else rr(t,e)}function rr(t,e){for(;e!==null;){if((e.f&na)!==0)try{e.b.error(t);return}catch(n){t=n}e=e.parent}throw t instanceof Error&&$o(t),t}function $o(t){const e=ol.get(t);e&&(ka(t,"message",{value:e.message}),ka(t,"stack",{value:e.stack}))}const Mr=new Set;let xe=null,Fr=null,Ct=null,xa=new Set,Lt=[],oa=null,Da=!1,Yn=!1;var Jn,Qn,$n,En,wr,er,tr,Ye,Aa,wn,Na,es;const Qr=class Qr{constructor(){Te(this,Ye);ut(this,"committed",!1);ut(this,"current",new Map);Te(this,Jn,new Map);Te(this,Qn,new Set);Te(this,$n,0);Te(this,En,0);Te(this,wr,null);Te(this,er,[]);Te(this,tr,[]);ut(this,"skipped_effects",new Set)}process(e){Lt=[],Fr=null,this.apply();var n={parent:null,effect:null,effects:[],render_effects:[],block_effects:[]};for(const r of e)Le(this,Ye,Aa).call(this,r,n);Le(this,Ye,Na).call(this),N(this,En)>0?(Le(this,Ye,wn).call(this,n.effects),Le(this,Ye,wn).call(this,n.render_effects),Le(this,Ye,wn).call(this,n.block_effects)):(Fr=this,xe=null,So(n.render_effects),So(n.effects),Fr=null),Ct=null}capture(e,n){N(this,Jn).has(e)||N(this,Jn).set(e,n),this.current.set(e,e.v),Ct?.set(e,e.v)}activate(){xe=this}deactivate(){xe=null,Ct=null}flush(){if(Lt.length>0){if(this.activate(),ns(),xe!==null&&xe!==this)return}else Le(this,Ye,Na).call(this);this.deactivate();for(const e of xa)if(xa.delete(e),e(),xe!==null)break}increment(e){fe(this,$n,N(this,$n)+1),e&&fe(this,En,N(this,En)+1)}decrement(e){fe(this,$n,N(this,$n)-1),e&&fe(this,En,N(this,En)-1);for(const n of N(this,er))tt(n,ct),Nn(n);for(const n of N(this,tr))tt(n,fn),Nn(n);fe(this,er,[]),fe(this,tr,[]),this.flush()}add_callback(e){N(this,Qn).add(e)}settled(){return(N(this,wr)??fe(this,wr,Vo())).promise}static ensure(){if(xe===null){const e=xe=new Qr;Mr.add(xe),Yn||Qr.enqueue(()=>{xe===e&&e.flush()})}return xe}static enqueue(e){Mn(e)}apply(){}};Jn=new WeakMap,Qn=new WeakMap,$n=new WeakMap,En=new WeakMap,wr=new WeakMap,er=new WeakMap,tr=new WeakMap,Ye=new WeakSet,Aa=function(e,n){e.f^=et;for(var r=e.first;r!==null;){var o=r.f,s=(o&(Zt|In))!==0,i=s&&(o&et)!==0,l=i||(o&vt)!==0||this.skipped_effects.has(r);if((r.f&na)!==0&&r.b?.is_pending()&&(n={parent:n,effect:r,effects:[],render_effects:[],block_effects:[]}),!l&&r.fn!==null){s?r.f^=et:(o&Za)!==0?n.effects.push(r):ca(r)&&((r.f&Xt)!==0&&n.block_effects.push(r),Gr(r));var c=r.first;if(c!==null){r=c;continue}}var u=r.parent;for(r=r.next;r===null&&u!==null;)u===n.effect&&(Le(this,Ye,wn).call(this,n.effects),Le(this,Ye,wn).call(this,n.render_effects),Le(this,Ye,wn).call(this,n.block_effects),n=n.parent),r=u.next,u=u.parent}},wn=function(e){for(const n of e)((n.f&ct)!==0?N(this,er):N(this,tr)).push(n),tt(n,et)},Na=function(){if(N(this,En)===0){for(const e of N(this,Qn))e();N(this,Qn).clear()}N(this,$n)===0&&Le(this,Ye,es).call(this)},es=function(){var o;if(Mr.size>1){N(this,Jn).clear();var e=Ct,n=!0,r={parent:null,effect:null,effects:[],render_effects:[],block_effects:[]};for(const s of Mr){if(s===this){n=!1;continue}const i=[];for(const[c,u]of this.current){if(s.current.has(c))if(n&&u!==s.current.get(c))s.current.set(c,u);else continue;i.push(c)}if(i.length===0)continue;const l=[...s.current.keys()].filter(c=>!this.current.has(c));if(l.length>0){const c=new Set,u=new Map;for(const f of i)rs(f,l,c,u);if(Lt.length>0){xe=s,s.apply();for(const f of Lt)Le(o=s,Ye,Aa).call(o,f,r);Lt=[],s.deactivate()}}}xe=null,Ct=e}this.committed=!0,Mr.delete(this),N(this,wr)?.resolve()};let qt=Qr;function ts(t){var e=Yn;Yn=!0;try{for(var n;;){if(al(),Lt.length===0&&(xe?.flush(),Lt.length===0))return oa=null,n;ns()}}finally{Yn=e}}function ns(){var t=Xn;Da=!0;try{var e=0;for(ko(!0);Lt.length>0;){var n=qt.ensure();if(e++>1e3){var r,o;sl()}n.process(Lt),sn.clear()}}finally{Da=!1,ko(t),oa=null}}function sl(){try{Bi()}catch(t){rr(t,oa)}}let zt=null;function So(t){var e=t.length;if(e!==0){for(var n=0;n<e;){var r=t[n++];if((r.f&(Vt|vt))===0&&ca(r)&&(zt=new Set,Gr(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?ms(r):r.fn=null),zt?.size>0)){sn.clear();for(const o of zt){if((o.f&(Vt|vt))!==0)continue;const s=[o];let i=o.parent;for(;i!==null;)zt.has(i)&&(zt.delete(i),s.push(i)),i=i.parent;for(let l=s.length-1;l>=0;l--){const c=s[l];(c.f&(Vt|vt))===0&&Gr(c)}}zt.clear()}}zt=null}}function rs(t,e,n,r){if(!n.has(t)&&(n.add(t),t.reactions!==null))for(const o of t.reactions){const s=o.f;(s&Ze)!==0?rs(o,e,n,r):(s&(Qa|Xt))!==0&&(s&ct)===0&&as(o,e,r)&&(tt(o,ct),Nn(o))}}function as(t,e,n){const r=n.get(t);if(r!==void 0)return r;if(t.deps!==null)for(const o of t.deps){if(e.includes(o))return!0;if((o.f&Ze)!==0&&as(o,e,n))return n.set(o,!0),!0}return n.set(t,!1),!1}function Nn(t){for(var e=oa=t;e.parent!==null;){e=e.parent;var n=e.f;if(Da&&e===be&&(n&Xt)!==0)return;if((n&(In|Zt))!==0){if((n&et)===0)return;e.f^=et}}Lt.push(e)}function il(t){let e=0,n=Yt(0),r;return()=>{bl()&&(a(n),la(()=>(e===0&&(r=Rt(()=>t(()=>hr(n)))),e+=1,()=>{Mn(()=>{e-=1,e===0&&(r?.(),r=void 0,hr(n))})})))}}var ll=un|sr|na;function cl(t,e,n){new ul(t,e,n)}var pt,gt,Ka,xt,kn,Dt,_t,st,At,Ht,nn,Tn,rn,Pn,an,$r,ea,qe,dl,fl,La,zr,jr,Ia;class ul{constructor(e,n,r){Te(this,qe);ut(this,"parent");Te(this,pt,!1);Te(this,gt);Te(this,Ka,null);Te(this,xt);Te(this,kn);Te(this,Dt);Te(this,_t,null);Te(this,st,null);Te(this,At,null);Te(this,Ht,null);Te(this,nn,null);Te(this,Tn,0);Te(this,rn,0);Te(this,Pn,!1);Te(this,an,null);Te(this,$r,()=>{N(this,an)&&Wt(N(this,an),N(this,Tn))});Te(this,ea,il(()=>(fe(this,an,Yt(N(this,Tn))),()=>{fe(this,an,null)})));fe(this,gt,e),fe(this,xt,n),fe(this,kn,r),this.parent=be.b,fe(this,pt,!!N(this,xt).pending),fe(this,Dt,cr(()=>{be.b=this;{var o=Le(this,qe,La).call(this);try{fe(this,_t,St(()=>r(o)))}catch(s){this.error(s)}N(this,rn)>0?Le(this,qe,jr).call(this):fe(this,pt,!1)}return()=>{N(this,nn)?.remove()}},ll))}is_pending(){return N(this,pt)||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!N(this,xt).pending}update_pending_count(e){Le(this,qe,Ia).call(this,e),fe(this,Tn,N(this,Tn)+e),xa.add(N(this,$r))}get_effect_pending(){return N(this,ea).call(this),a(N(this,an))}error(e){var n=N(this,xt).onerror;let r=N(this,xt).failed;if(N(this,Pn)||!n&&!r)throw e;N(this,_t)&&(lt(N(this,_t)),fe(this,_t,null)),N(this,st)&&(lt(N(this,st)),fe(this,st,null)),N(this,At)&&(lt(N(this,At)),fe(this,At,null));var o=!1,s=!1;const i=()=>{if(o){return}o=!0,s&&Ui(),qt.ensure(),fe(this,Tn,0),N(this,At)!==null&&Gn(N(this,At),()=>{fe(this,At,null)}),fe(this,pt,this.has_pending_snippet()),fe(this,_t,Le(this,qe,zr).call(this,()=>(fe(this,Pn,!1),St(()=>N(this,kn).call(this,N(this,gt)))))),N(this,rn)>0?Le(this,qe,jr).call(this):fe(this,pt,!1)};var l=_e;try{it(null),s=!0,n?.(e,i),s=!1}catch(c){rr(c,N(this,Dt)&&N(this,Dt).parent)}finally{it(l)}r&&Mn(()=>{fe(this,At,Le(this,qe,zr).call(this,()=>{qt.ensure(),fe(this,Pn,!0);try{return St(()=>{r(N(this,gt),()=>e,()=>i)})}catch(c){return rr(c,N(this,Dt).parent),null}finally{fe(this,Pn,!1)}}))})}}pt=new WeakMap,gt=new WeakMap,Ka=new WeakMap,xt=new WeakMap,kn=new WeakMap,Dt=new WeakMap,_t=new WeakMap,st=new WeakMap,At=new WeakMap,Ht=new WeakMap,nn=new WeakMap,Tn=new WeakMap,rn=new WeakMap,Pn=new WeakMap,an=new WeakMap,$r=new WeakMap,ea=new WeakMap,qe=new WeakSet,dl=function(){try{fe(this,_t,St(()=>N(this,kn).call(this,N(this,gt))))}catch(e){this.error(e)}fe(this,pt,!1)},fl=function(){const e=N(this,xt).pending;e&&(fe(this,st,St(()=>e(N(this,gt)))),qt.enqueue(()=>{var n=Le(this,qe,La).call(this);fe(this,_t,Le(this,qe,zr).call(this,()=>(qt.ensure(),St(()=>N(this,kn).call(this,n))))),N(this,rn)>0?Le(this,qe,jr).call(this):(Gn(N(this,st),()=>{fe(this,st,null)}),fe(this,pt,!1))}))},La=function(){var e=N(this,gt);return N(this,pt)&&(fe(this,nn,dn()),N(this,gt).before(N(this,nn)),e=N(this,nn)),e},zr=function(e){var n=be,r=_e,o=De;It(N(this,Dt)),it(N(this,Dt)),nr(N(this,Dt).ctx);try{return e()}catch(s){return Qo(s),null}finally{It(n),it(r),nr(o)}},jr=function(){const e=N(this,xt).pending;N(this,_t)!==null&&(fe(this,Ht,document.createDocumentFragment()),N(this,Ht).append(N(this,nn)),bs(N(this,_t),N(this,Ht))),N(this,st)===null&&fe(this,st,St(()=>e(N(this,gt))))},Ia=function(e){var n;if(!this.has_pending_snippet()){this.parent&&Le(n=this.parent,qe,Ia).call(n,e);return}fe(this,rn,N(this,rn)+e),N(this,rn)===0&&(fe(this,pt,!1),N(this,st)&&Gn(N(this,st),()=>{fe(this,st,null)}),N(this,Ht)&&(N(this,gt).before(N(this,Ht)),fe(this,Ht,null)))};function vl(t,e,n){const r=lr()?Cr:sa;if(e.length===0){n(t.map(r));return}var o=xe,s=be,i=os();Promise.all(e.map(l=>hl(l))).then(l=>{i();try{n([...t.map(r),...l])}catch(c){(s.f&Vt)===0&&rr(c,s)}o?.deactivate(),Kr()}).catch(l=>{rr(l,s)})}function os(){var t=be,e=_e,n=De,r=xe;return function(){It(t),it(e),nr(n),r?.activate()}}function Kr(){It(null),it(null),nr(null)}function Cr(t){var e=Ze|ct,n=_e!==null&&(_e.f&Ze)!==0?_e:null;return be===null||n!==null&&(n.f&mt)!==0?e|=mt:be.f|=sr,{ctx:De,deps:null,effects:null,equals:Go,f:e,fn:t,reactions:null,rv:0,v:Ke,wv:0,parent:n??be,ac:null}}function hl(t,e){let n=be;n===null&&Ii();var r=n.b,o=void 0,s=Yt(Ke),i=!_e,l=new Map;return kl(()=>{var c=Vo();o=c.promise;try{Promise.resolve(t()).then(c.resolve,c.reject).then(()=>{u===xe&&u.committed&&u.deactivate(),Kr()})}catch(v){c.reject(v),Kr()}var u=xe;if(i){var f=!r.is_pending();r.update_pending_count(1),u.increment(f),l.get(u)?.reject(Vn),l.delete(u),l.set(u,c)}const d=(v,m=void 0)=>{if(u.activate(),m)m!==Vn&&(s.f|=xn,Wt(s,m));else{(s.f&xn)!==0&&(s.f^=xn),Wt(s,v);for(const[p,y]of l){if(l.delete(p),p===u)break;y.reject(Vn)}}i&&(r.update_pending_count(-1),u.decrement(f))};c.promise.then(d,v=>d(null,v||"unknown"))}),hs(()=>{for(const c of l.values())c.reject(Vn)}),new Promise(c=>{function u(f){function d(){f===o?c(s):u(o)}f.then(d,d)}u(o)})}function L(t){const e=Cr(t);return Ss(e),e}function sa(t){const e=Cr(t);return e.equals=Xo,e}function ss(t){var e=t.effects;if(e!==null){t.effects=null;for(var n=0;n<e.length;n+=1)lt(e[n])}}function pl(t){for(var e=t.parent;e!==null;){if((e.f&Ze)===0)return e;e=e.parent}return null}function $a(t){var e,n=be;It(pl(t));try{t.f&=~Wr,ss(t),e=Ts(t)}finally{It(n)}return e}function is(t){var e=$a(t);if(t.equals(e)||(t.v=e,t.wv=Es()),!Rn)if(Ct!==null)Ct.set(t,t.v);else{var n=(on||(t.f&mt)!==0)&&t.deps!==null?fn:et;tt(t,n)}}const sn=new Map;function Yt(t,e){var n={f:0,v:t,reactions:null,equals:Go,rv:0,wv:0};return n}function j(t,e){const n=Yt(t);return Ss(n),n}function Ma(t,e=!1,n=!0){var o;const r=Yt(t);return e||(r.equals=Xo),ir&&n&&De!==null&&De.l!==null&&((o=De.l).s??(o.s=[])).push(r),r}function h(t,e,n=!1){_e!==null&&(!Et||(_e.f&bo)!==0)&&lr()&&(_e.f&(Ze|Xt|Qa|bo))!==0&&!Kt?.includes(t)&&Hi();let r=n?Ge(e):e;return Wt(t,r)}function Wt(t,e){if(!t.equals(e)){var n=t.v;Rn?sn.set(t,e):sn.set(t,n),t.v=e;var r=qt.ensure();r.capture(t,n),(t.f&Ze)!==0&&((t.f&ct)!==0&&$a(t),tt(t,(t.f&mt)===0?et:fn)),t.wv=Es(),ls(t,ct),lr()&&be!==null&&(be.f&et)!==0&&(be.f&(Zt|In))===0&&(ht===null?xl([t]):ht.push(t))}return e}function hr(t){h(t,t.v+1)}function ls(t,e){var n=t.reactions;if(n!==null)for(var r=lr(),o=n.length,s=0;s<o;s++){var i=n[s],l=i.f;if(!(!r&&i===be)){var c=(l&ct)===0;c&&tt(i,e),(l&Ze)!==0?(l&Wr)===0&&(i.f|=Wr,ls(i,fn)):c&&((l&Xt)!==0&&zt!==null&&zt.add(i),Nn(i))}}}function Ge(t){if(typeof t!="object"||t===null||Dn in t)return t;const e=Xa(t);if(e!==ki&&e!==Ti)return t;var n=new Map,r=Ya(t),o=j(0),s=An,i=l=>{if(An===s)return l();var c=_e,u=An;it(null),Po(s);var f=l();return it(c),Po(u),f};return r&&n.set("length",j(t.length)),new Proxy(t,{defineProperty(l,c,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&zi();var f=n.get(c);return f===void 0?f=i(()=>{var d=j(u.value);return n.set(c,d),d}):h(f,u.value,!0),!0},deleteProperty(l,c){var u=n.get(c);if(u===void 0){if(c in l){const f=i(()=>j(Ke));n.set(c,f),hr(o)}}else h(u,Ke),hr(o);return!0},get(l,c,u){if(c===Dn)return t;var f=n.get(c),d=c in l;if(f===void 0&&(!d||Kn(l,c)?.writable)&&(f=i(()=>{var m=Ge(d?l[c]:Ke),p=j(m);return p}),n.set(c,f)),f!==void 0){var v=a(f);return v===Ke?void 0:v}return Reflect.get(l,c,u)},getOwnPropertyDescriptor(l,c){var u=Reflect.getOwnPropertyDescriptor(l,c);if(u&&"value"in u){var f=n.get(c);f&&(u.value=a(f))}else if(u===void 0){var d=n.get(c),v=d?.v;if(d!==void 0&&v!==Ke)return{enumerable:!0,configurable:!0,value:v,writable:!0}}return u},has(l,c){if(c===Dn)return!0;var u=n.get(c),f=u!==void 0&&u.v!==Ke||Reflect.has(l,c);if(u!==void 0||be!==null&&(!f||Kn(l,c)?.writable)){u===void 0&&(u=i(()=>{var v=f?Ge(l[c]):Ke,m=j(v);return m}),n.set(c,u));var d=a(u);if(d===Ke)return!1}return f},set(l,c,u,f){var d=n.get(c),v=c in l;if(r&&c==="length")for(var m=u;m<d.v;m+=1){var p=n.get(m+"");p!==void 0?h(p,Ke):m in l&&(p=i(()=>j(Ke)),n.set(m+"",p))}if(d===void 0)(!v||Kn(l,c)?.writable)&&(d=i(()=>j(void 0)),h(d,Ge(u)),n.set(c,d));else{v=d.v!==Ke;var y=i(()=>Ge(u));h(d,y)}var _=Reflect.getOwnPropertyDescriptor(l,c);if(_?.set&&_.set.call(f,u),!v){if(r&&typeof c=="string"){var P=n.get("length"),T=Number(c);Number.isInteger(T)&&T>=P.v&&h(P,T+1)}hr(o)}return!0},ownKeys(l){a(o);var c=Reflect.ownKeys(l).filter(d=>{var v=n.get(d);return v===void 0||v.v!==Ke});for(var[u,f]of n)f.v!==Ke&&!(u in l)&&c.push(u);return c},setPrototypeOf(){ji()}})}var Co,cs,us,ds;function gl(){if(Co===void 0){Co=window,cs=/Firefox/.test(navigator.userAgent);var t=Element.prototype,e=Node.prototype,n=Text.prototype;us=Kn(e,"firstChild").get,ds=Kn(e,"nextSibling").get,wo(t)&&(t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__style=void 0,t.__e=void 0),wo(n)&&(n.__t=void 0)}}function dn(t=""){return document.createTextNode(t)}function ar(t){return us.call(t)}function Er(t){return ds.call(t)}function b(t,e){return ar(t)}function R(t,e=!1){{var n=ar(t);return n instanceof Comment&&n.data===""?Er(n):n}}function U(t,e=1,n=!1){let r=t;for(;e--;)r=Er(r);return r}function _l(t){t.textContent=""}function fs(){return!1}let Eo=!1;function ml(){Eo||(Eo=!0,document.addEventListener("reset",t=>{Promise.resolve().then(()=>{if(!t.defaultPrevented)for(const e of t.target.elements)e.__on_r?.()})},{capture:!0}))}function ia(t){var e=_e,n=be;it(null),It(null);try{return t()}finally{it(e),It(n)}}function yl(t,e,n,r=n){t.addEventListener(e,()=>ia(n));const o=t.__on_r;o?t.__on_r=()=>{o(),r(!0)}:t.__on_r=()=>r(!0),ml()}function vs(t){be===null&&_e===null&&Oi(),_e!==null&&(_e.f&mt)!==0&&be===null&&Ri(),Rn&&Mi()}function wl(t,e){var n=e.last;n===null?e.last=e.first=t:(n.next=t,t.prev=n,e.last=t)}function Mt(t,e,n,r=!0){var o=be;o!==null&&(o.f&vt)!==0&&(t|=vt);var s={ctx:De,deps:null,nodes_start:null,nodes_end:null,f:t|ct,first:null,fn:e,last:null,next:null,parent:o,b:o&&o.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{Gr(s),s.f|=Ja}catch(c){throw lt(s),c}else e!==null&&Nn(s);if(r){var i=s;if(n&&i.deps===null&&i.teardown===null&&i.nodes_start===null&&i.first===i.last&&(i.f&sr)===0&&(i=i.first,(t&Xt)!==0&&(t&un)!==0&&i!==null&&(i.f|=un)),i!==null&&(i.parent=o,o!==null&&wl(i,o),_e!==null&&(_e.f&Ze)!==0&&(t&In)===0)){var l=_e;(l.effects??(l.effects=[])).push(i)}}return s}function bl(){return _e!==null&&!Et}function hs(t){const e=Mt(ta,null,!1);return tt(e,et),e.teardown=t,e}function Ae(t){vs();var e=be.f,n=!_e&&(e&Zt)!==0&&(e&Ja)===0;if(n){var r=De;(r.e??(r.e=[])).push(t)}else return ps(t)}function ps(t){return Mt(Za|Wo,t,!1)}function Sl(t){return vs(),Mt(ta|Wo,t,!0)}function Cl(t){qt.ensure();const e=Mt(In|sr,t,!0);return(n={})=>new Promise(r=>{n.outro?Gn(e,()=>{lt(e),r(void 0)}):(lt(e),r(void 0))})}function El(t){return Mt(Za,t,!1)}function kl(t){return Mt(Qa|sr,t,!0)}function la(t,e=0){return Mt(ta|e,t,!0)}function de(t,e=[],n=[]){vl(e,n,r=>{Mt(ta,()=>t(...r.map(a)),!0)})}function cr(t,e=0){var n=Mt(Xt|e,t,!0);return n}function St(t,e=!0){return Mt(Zt|sr,t,!0,e)}function gs(t){var e=t.teardown;if(e!==null){const n=Rn,r=_e;To(!0),it(null);try{e.call(null)}finally{To(n),it(r)}}}function _s(t,e=!1){var n=t.first;for(t.first=t.last=null;n!==null;){const o=n.ac;o!==null&&ia(()=>{o.abort(Vn)});var r=n.next;(n.f&In)!==0?n.parent=null:lt(n,e),n=r}}function Tl(t){for(var e=t.first;e!==null;){var n=e.next;(e.f&Zt)===0&&lt(e),e=n}}function lt(t,e=!0){var n=!1;(e||(t.f&Ai)!==0)&&t.nodes_start!==null&&t.nodes_end!==null&&(Pl(t.nodes_start,t.nodes_end),n=!0),_s(t,e&&!n),Yr(t,0),tt(t,Vt);var r=t.transitions;if(r!==null)for(const s of r)s.stop();gs(t);var o=t.parent;o!==null&&o.first!==null&&ms(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes_start=t.nodes_end=t.ac=null}function Pl(t,e){for(;t!==null;){var n=t===e?null:Er(t);t.remove(),t=n}}function ms(t){var e=t.parent,n=t.prev,r=t.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),e!==null&&(e.first===t&&(e.first=r),e.last===t&&(e.last=n))}function Gn(t,e,n=!0){var r=[];eo(t,r,!0),ys(r,()=>{n&&lt(t),e&&e()})}function ys(t,e){var n=t.length;if(n>0){var r=()=>--n||e();for(var o of t)o.out(r)}else e()}function eo(t,e,n){if((t.f&vt)===0){if(t.f^=vt,t.transitions!==null)for(const i of t.transitions)(i.is_global||n)&&e.push(i);for(var r=t.first;r!==null;){var o=r.next,s=(r.f&un)!==0||(r.f&Zt)!==0&&(t.f&Xt)!==0;eo(r,e,s?n:!1),r=o}}}function to(t){ws(t,!0)}function ws(t,e){if((t.f&vt)!==0){t.f^=vt,(t.f&et)===0&&(tt(t,ct),Nn(t));for(var n=t.first;n!==null;){var r=n.next,o=(n.f&un)!==0||(n.f&Zt)!==0;ws(n,o?e:!1),n=r}if(t.transitions!==null)for(const s of t.transitions)(s.is_global||e)&&s.in()}}function bs(t,e){for(var n=t.nodes_start,r=t.nodes_end;n!==null;){var o=n===r?null:Er(n);e.append(n),n=o}}let Xn=!1;function ko(t){Xn=t}let Rn=!1;function To(t){Rn=t}let _e=null,Et=!1;function it(t){_e=t}let be=null;function It(t){be=t}let Kt=null;function Ss(t){_e!==null&&(Kt===null?Kt=[t]:Kt.push(t))}let $e=null,dt=0,ht=null;function xl(t){ht=t}let Cs=1,_r=0,An=_r;function Po(t){An=t}let on=!1;function Es(){return++Cs}function ca(t){var e=t.f;if((e&ct)!==0)return!0;if((e&fn)!==0){var n=t.deps,r=(e&mt)!==0;if(e&Ze&&(t.f&=~Wr),n!==null){var o,s,i=(e&Vr)!==0,l=r&&be!==null&&!on,c=n.length;if((i||l)&&(be===null||(be.f&Vt)===0)){var u=t,f=u.parent;for(o=0;o<c;o++)s=n[o],(i||!s?.reactions?.includes(u))&&(s.reactions??(s.reactions=[])).push(u);i&&(u.f^=Vr),l&&f!==null&&(f.f&mt)===0&&(u.f^=mt)}for(o=0;o<c;o++)if(s=n[o],ca(s)&&is(s),s.wv>t.wv)return!0}(!r||be!==null&&!on)&&tt(t,et)}return!1}function ks(t,e,n=!0){var r=t.reactions;if(r!==null&&!Kt?.includes(t))for(var o=0;o<r.length;o++){var s=r[o];(s.f&Ze)!==0?ks(s,e,!1):e===s&&(n?tt(s,ct):(s.f&et)!==0&&tt(s,fn),Nn(s))}}function Ts(t){var y;var e=$e,n=dt,r=ht,o=_e,s=on,i=Kt,l=De,c=Et,u=An,f=t.f;$e=null,dt=0,ht=null,on=(f&mt)!==0&&(Et||!Xn||_e===null),_e=(f&(Zt|In))===0?t:null,Kt=null,nr(t.ctx),Et=!1,An=++_r,t.ac!==null&&(ia(()=>{t.ac.abort(Vn)}),t.ac=null);try{t.f|=Pa;var d=t.fn,v=d(),m=t.deps;if($e!==null){var p;if(Yr(t,dt),m!==null&&dt>0)for(m.length=dt+$e.length,p=0;p<$e.length;p++)m[dt+p]=$e[p];else t.deps=m=$e;if(!on||(f&Ze)!==0&&t.reactions!==null)for(p=dt;p<m.length;p++)((y=m[p]).reactions??(y.reactions=[])).push(t)}else m!==null&&dt<m.length&&(Yr(t,dt),m.length=dt);if(lr()&&ht!==null&&!Et&&m!==null&&(t.f&(Ze|fn|ct))===0)for(p=0;p<ht.length;p++)ks(ht[p],t);return o!==null&&o!==t&&(_r++,ht!==null&&(r===null?r=ht:r.push(...ht))),(t.f&xn)!==0&&(t.f^=xn),v}catch(_){return Qo(_)}finally{t.f^=Pa,$e=e,dt=n,ht=r,_e=o,on=s,Kt=i,nr(l),Et=c,An=u}}function Dl(t,e){let n=e.reactions;if(n!==null){var r=Ei.call(n,t);if(r!==-1){var o=n.length-1;o===0?n=e.reactions=null:(n[r]=n[o],n.pop())}}n===null&&(e.f&Ze)!==0&&($e===null||!$e.includes(e))&&(tt(e,fn),(e.f&(mt|Vr))===0&&(e.f^=Vr),ss(e),Yr(e,0))}function Yr(t,e){var n=t.deps;if(n!==null)for(var r=e;r<n.length;r++)Dl(t,n[r])}function Gr(t){var e=t.f;if((e&Vt)===0){tt(t,et);var n=be,r=Xn;be=t,Xn=!0;try{(e&Xt)!==0?Tl(t):_s(t),gs(t);var o=Ts(t);t.teardown=typeof o=="function"?o:null,t.wv=Cs;var s;Uo&&tl&&(t.f&ct)!==0&&t.deps}finally{Xn=r,be=n}}}async function Ps(){await Promise.resolve(),ts()}function a(t){var e=t.f,n=(e&Ze)!==0;if(_e!==null&&!Et){var r=be!==null&&(be.f&Vt)!==0;if(!r&&!Kt?.includes(t)){var o=_e.deps;if((_e.f&Pa)!==0)t.rv<_r&&(t.rv=_r,$e===null&&o!==null&&o[dt]===t?dt++:$e===null?$e=[t]:(!on||!$e.includes(t))&&$e.push(t));else{(_e.deps??(_e.deps=[])).push(t);var s=t.reactions;s===null?t.reactions=[_e]:s.includes(_e)||s.push(_e)}}}else if(n&&t.deps===null&&t.effects===null){var i=t,l=i.parent;l!==null&&(l.f&mt)===0&&(i.f^=mt)}if(Rn){if(sn.has(t))return sn.get(t);if(n){i=t;var c=i.v;return((i.f&et)===0&&i.reactions!==null||xs(i))&&(c=$a(i)),sn.set(i,c),c}}else if(n){if(i=t,Ct?.has(i))return Ct.get(i);ca(i)&&is(i)}if(Ct?.has(t))return Ct.get(t);if((t.f&xn)!==0)throw t.v;return t.v}function xs(t){if(t.v===Ke)return!0;if(t.deps===null)return!1;for(const e of t.deps)if(sn.has(e)||(e.f&Ze)!==0&&xs(e))return!0;return!1}function Rt(t){var e=Et;try{return Et=!0,t()}finally{Et=e}}const Al=-7169;function tt(t,e){t.f=t.f&Al|e}function Nl(t){if(!(typeof t!="object"||!t||t instanceof EventTarget)){if(Dn in t)Ra(t);else if(!Array.isArray(t))for(let e in t){const n=t[e];typeof n=="object"&&n&&Dn in n&&Ra(n)}}}function Ra(t,e=new Set){if(typeof t=="object"&&t!==null&&!(t instanceof EventTarget)&&!e.has(t)){e.add(t),t instanceof Date&&t.getTime();for(let r in t)try{Ra(t[r],e)}catch{}const n=Xa(t);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=qo(n);for(let o in r){const s=r[o].get;if(s)try{s.call(t)}catch{}}}}}const Ll=["touchstart","touchmove"];function Il(t){return Ll.includes(t)}const Ds=new Set,Oa=new Set;function Ml(t,e,n,r={}){function o(s){if(r.capture||ur.call(e,s),!s.cancelBubble)return ia(()=>n?.call(this,s))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?Mn(()=>{e.addEventListener(t,o,r)}):e.addEventListener(t,o,r),o}function no(t,e,n,r,o){var s={capture:r,passive:o},i=Ml(t,e,n,s);(e===document.body||e===window||e===document||e instanceof HTMLMediaElement)&&hs(()=>{e.removeEventListener(t,i,s)})}function Xe(t){for(var e=0;e<t.length;e++)Ds.add(t[e]);for(var n of Oa)n(t)}let xo=null;function ur(t){var e=this,n=e.ownerDocument,r=t.type,o=t.composedPath?.()||[],s=o[0]||t.target;xo=t;var i=0,l=xo===t&&t.__root;if(l){var c=o.indexOf(l);if(c!==-1&&(e===document||e===window)){t.__root=e;return}var u=o.indexOf(e);if(u===-1)return;c<=u&&(i=c)}if(s=o[i]||t.target,s!==e){ka(t,"currentTarget",{configurable:!0,get(){return s||n}});var f=_e,d=be;it(null),It(null);try{for(var v,m=[];s!==null;){var p=s.assignedSlot||s.parentNode||s.host||null;try{var y=s["__"+r];if(y!=null&&(!s.disabled||t.target===s))if(Ya(y)){var[_,...P]=y;_.apply(s,[t,...P])}else y.call(s,t)}catch(T){v?m.push(T):v=T}if(t.cancelBubble||p===e||p===null)break;s=p}if(v){for(let T of m)queueMicrotask(()=>{throw T});throw v}}finally{t.__root=e,delete t.currentTarget,it(f),It(d)}}}function As(t){var e=document.createElement("template");return e.innerHTML=t.replaceAll("<!>","<!---->"),e.content}function mr(t,e){var n=be;n.nodes_start===null&&(n.nodes_start=t,n.nodes_end=e)}function Y(t,e){var n=(e&Zi)!==0,r=(e&Ji)!==0,o,s=!t.startsWith("<!>");return()=>{o===void 0&&(o=As(s?t:"<!>"+t),n||(o=ar(o)));var i=r||cs?document.importNode(o,!0):o.cloneNode(!0);if(n){var l=ar(i),c=i.lastChild;mr(l,c)}else mr(i,i);return i}}function Rl(t,e,n="svg"){var r=!t.startsWith("<!>"),o=`<${n}>${r?t:"<!>"+t}</${n}>`,s;return()=>{if(!s){var i=As(o),l=ar(i);s=ar(l)}var c=s.cloneNode(!0);return mr(c,c),c}}function Ol(t,e){return Rl(t,e,"svg")}function Ie(t=""){{var e=dn(t+"");return mr(e,e),e}}function Q(){var t=document.createDocumentFragment(),e=document.createComment(""),n=dn();return t.append(e,n),mr(e,n),t}function g(t,e){t!==null&&t.before(e)}function tv(){var t;return(t=window.__svelte??(window.__svelte={})).uid??(t.uid=1),`c${window.__svelte.uid++}`}function ln(t,e){var n=e==null?"":typeof e=="object"?e+"":e;n!==(t.__t??(t.__t=t.nodeValue))&&(t.__t=n,t.nodeValue=n+"")}function Bl(t,e){return Fl(t,e)}const qn=new Map;function Fl(t,{target:e,anchor:n,props:r={},events:o,context:s,intro:i=!0}){gl();var l=new Set,c=d=>{for(var v=0;v<d.length;v++){var m=d[v];if(!l.has(m)){l.add(m);var p=Il(m);e.addEventListener(m,ur,{passive:p});var y=qn.get(m);y===void 0?(document.addEventListener(m,ur,{passive:p}),qn.set(m,1)):qn.set(m,y+1)}}};c(Ga(Ds)),Oa.add(c);var u=void 0,f=Cl(()=>{var d=n??e.appendChild(dn());return cl(d,{pending:()=>{}},v=>{if(s){le({});var m=De;m.c=s}o&&(r.$$events=o),u=t(v,r)||{},s&&ce()}),()=>{for(var v of l){e.removeEventListener(v,ur);var m=qn.get(v);--m===0?(document.removeEventListener(v,ur),qn.delete(v)):qn.set(v,m)}Oa.delete(c),d!==n&&d.parentNode?.removeChild(d)}});return zl.set(u,f),u}let zl=new WeakMap;var Ut,Nt,bt,br,Sr;class ua{constructor(e,n=!0){ut(this,"anchor");Te(this,Ut,new Map);Te(this,Nt,new Map);Te(this,bt,new Map);Te(this,br,!0);Te(this,Sr,()=>{var e=xe;if(N(this,Ut).has(e)){var n=N(this,Ut).get(e),r=N(this,Nt).get(n);if(r)to(r);else{var o=N(this,bt).get(n);o&&(N(this,Nt).set(n,o.effect),N(this,bt).delete(n),o.fragment.lastChild.remove(),this.anchor.before(o.fragment),r=o.effect)}for(const[s,i]of N(this,Ut)){if(N(this,Ut).delete(s),s===e)break;const l=N(this,bt).get(i);l&&(lt(l.effect),N(this,bt).delete(i))}for(const[s,i]of N(this,Nt)){if(s===n)continue;const l=()=>{if(Array.from(N(this,Ut).values()).includes(s)){var u=document.createDocumentFragment();bs(i,u),u.append(dn()),N(this,bt).set(s,{effect:i,fragment:u})}else lt(i);N(this,Nt).delete(s)};N(this,br)||!r?Gn(i,l,!1):l()}}});this.anchor=e,fe(this,br,n)}ensure(e,n){var r=xe,o=fs();if(n&&!N(this,Nt).has(e)&&!N(this,bt).has(e))if(o){var s=document.createDocumentFragment(),i=dn();s.append(i),N(this,bt).set(e,{effect:St(()=>n(i)),fragment:s})}else N(this,Nt).set(e,St(()=>n(this.anchor)));if(N(this,Ut).set(r,e),o){for(const[l,c]of N(this,Nt))l===e?r.skipped_effects.delete(c):r.skipped_effects.add(c);for(const[l,c]of N(this,bt))l===e?r.skipped_effects.delete(c.effect):r.skipped_effects.add(c.effect);r.add_callback(N(this,Sr))}else N(this,Sr).call(this)}}Ut=new WeakMap,Nt=new WeakMap,bt=new WeakMap,br=new WeakMap,Sr=new WeakMap;const jl=0,ba=1;function Hl(t,e,n,r,o){var s=lr(),i=Ke,l=s?Yt(i):Ma(i,!1,!1),c=s?Yt(i):Ma(i,!1,!1),u=new ua(t);cr(()=>{var f=e(),d=!1;if(Pi(f)){var v=os(),m=!1;const p=y=>{if(!d){m=!0,v();try{y()}finally{Kr(),Yn||ts()}}};f.then(y=>{p(()=>{Wt(l,y),u.ensure(ba,r&&(_=>r(_,l)))})},y=>{p(()=>{if(Wt(c,y),u.ensure(ba,o&&(_=>o(_,c))),!o)throw c.v})}),Mn(()=>{m||p(()=>{u.ensure(jl,n)})})}else Wt(l,f),u.ensure(ba,r&&(p=>r(p,l)));return()=>{d=!0}})}function K(t,e,n=!1){var r=new ua(t),o=n?un:0;function s(i,l){r.ensure(i,l)}cr(()=>{var i=!1;e((l,c=!0)=>{i=!0,s(c,l)}),i||s(!1,null)},o)}function ue(t,e){la(()=>{var n=e();for(var r in n){var o=n[r];o?t.style.setProperty(r,o):t.style.removeProperty(r)}})}function Ul(t,e,n){for(var r=t.items,o=[],s=e.length,i=0;i<s;i++)eo(e[i].e,o,!0);var l=s>0&&o.length===0&&n!==null;if(l){var c=n.parentNode;_l(c),c.append(n),r.clear(),Pt(t,e[0].prev,e[s-1].next)}ys(o,()=>{for(var u=0;u<s;u++){var f=e[u];l||(r.delete(f.k),Pt(t,f.prev,f.next)),lt(f.e,!l)}})}function da(t,e,n,r,o,s=null){var i=t,l={flags:e,items:new Map,first:null},c=(e&Yo)!==0;if(c){var u=t;i=u.appendChild(dn())}var f=null,d=!1,v=new Map,m=sa(()=>{var P=n();return Ya(P)?P:P==null?[]:Ga(P)}),p,y;function _(){ql(y,p,l,v,i,o,e,r,n),s!==null&&(p.length===0?f?to(f):f=St(()=>s(i)):f!==null&&Gn(f,()=>{f=null}))}cr(()=>{y??(y=be),p=a(m);var P=p.length;if(!(d&&P===0)){d=P===0;var T,C,w,S;if(fs()){var k=new Set,I=xe;for(C=0;C<P;C+=1){w=p[C],S=r(w,C);var x=l.items.get(S)??v.get(S);x?(e&(ra|aa))!==0&&Ns(x,w,C,e):(T=Ls(null,l,null,null,w,S,C,o,e,n,!0),v.set(S,T)),k.add(S)}for(const[F,q]of l.items)k.has(F)||I.skipped_effects.add(q.e);I.add_callback(_)}else _();a(m)}})}function ql(t,e,n,r,o,s,i,l,c){var u=(i&qi)!==0,f=(i&(ra|aa))!==0,d=e.length,v=n.items,m=n.first,p=m,y,_=null,P,T=[],C=[],w,S,k,I;if(u)for(I=0;I<d;I+=1)w=e[I],S=l(w,I),k=v.get(S),k!==void 0&&(k.a?.measure(),(P??(P=new Set)).add(k));for(I=0;I<d;I+=1){if(w=e[I],S=l(w,I),k=v.get(S),k===void 0){var x=r.get(S);if(x!==void 0){r.delete(S),v.set(S,x);var F=_?_.next:p;Pt(n,_,x),Pt(n,x,F),Sa(x,F,o),_=x}else{var q=p?p.e.nodes_start:o;_=Ls(q,n,_,_===null?n.first:_.next,w,S,I,s,i,c)}v.set(S,_),T=[],C=[],p=_.next;continue}if(f&&Ns(k,w,I,i),(k.e.f&vt)!==0&&(to(k.e),u&&(k.a?.unfix(),(P??(P=new Set)).delete(k))),k!==p){if(y!==void 0&&y.has(k)){if(T.length<C.length){var X=C[0],ne;_=X.prev;var re=T[0],A=T[T.length-1];for(ne=0;ne<T.length;ne+=1)Sa(T[ne],X,o);for(ne=0;ne<C.length;ne+=1)y.delete(C[ne]);Pt(n,re.prev,A.next),Pt(n,_,re),Pt(n,A,X),p=X,_=A,I-=1,T=[],C=[]}else y.delete(k),Sa(k,p,o),Pt(n,k.prev,k.next),Pt(n,k,_===null?n.first:_.next),Pt(n,_,k),_=k;continue}for(T=[],C=[];p!==null&&p.k!==S;)(p.e.f&vt)===0&&(y??(y=new Set)).add(p),C.push(p),p=p.next;if(p===null)continue;k=p}T.push(k),_=k,p=k.next}if(p!==null||y!==void 0){for(var V=y===void 0?[]:Ga(y);p!==null;)(p.e.f&vt)===0&&V.push(p),p=p.next;var G=V.length;if(G>0){var H=(i&Yo)!==0&&d===0?o:null;if(u){for(I=0;I<G;I+=1)V[I].a?.measure();for(I=0;I<G;I+=1)V[I].a?.fix()}Ul(n,V,H)}}u&&Mn(()=>{if(P!==void 0)for(k of P)k.a?.apply()}),t.first=n.first&&n.first.e,t.last=_&&_.e;for(var Z of r.values())lt(Z.e);r.clear()}function Ns(t,e,n,r){(r&ra)!==0&&Wt(t.v,e),(r&aa)!==0?Wt(t.i,n):t.i=n}function Ls(t,e,n,r,o,s,i,l,c,u,f){var d=(c&ra)!==0,v=(c&Vi)===0,m=d?v?Ma(o,!1,!1):Yt(o):o,p=(c&aa)===0?i:Yt(i),y={i:p,v:m,k:s,a:null,e:null,prev:n,next:r};try{if(t===null){var _=document.createDocumentFragment();_.append(t=dn())}return y.e=St(()=>l(t,m,p,u),$i),y.e.prev=n&&n.e,y.e.next=r&&r.e,n===null?f||(e.first=y):(n.next=y,n.e.next=y.e),r!==null&&(r.prev=y,r.e.prev=y.e),y}finally{}}function Sa(t,e,n){for(var r=t.next?t.next.e.nodes_start:n,o=e?e.e.nodes_start:n,s=t.e.nodes_start;s!==null&&s!==r;){var i=Er(s);o.before(s),s=i}}function Pt(t,e,n){e===null?t.first=n:(e.next=n,e.e.next=n&&n.e),n!==null&&(n.prev=e,n.e.prev=e&&e.e)}function Ce(t,e,...n){var r=new ua(t);cr(()=>{const o=e()??null;r.ensure(o,o&&(s=>o(s,...n)))},un)}function Vl(t,e,n){var r=new ua(t);cr(()=>{var o=e()??null;r.ensure(o,o&&(s=>n(s,o)))},un)}function Is(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var o=t.length;for(e=0;e<o;e++)t[e]&&(n=Is(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Wl(){for(var t,e,n=0,r="",o=arguments.length;n<o;n++)(t=arguments[n])&&(e=Is(t))&&(r&&(r+=" "),r+=e);return r}function me(t){return typeof t=="object"?Wl(t):t??""}const Do=[...` 	
\r\f \v\uFEFF`];function Kl(t,e,n){var r=t==null?"":""+t;if(e&&(r=r?r+" "+e:e),n){for(var o in n)if(n[o])r=r?r+" "+o:o;else if(r.length)for(var s=o.length,i=0;(i=r.indexOf(o,i))>=0;){var l=i+s;(i===0||Do.includes(r[i-1]))&&(l===r.length||Do.includes(r[l]))?r=(i===0?"":r.substring(0,i))+r.substring(l+1):i=l}}return r===""?null:r}function Yl(t,e){return t==null?null:String(t)}function ye(t,e,n,r,o,s){var i=t.__className;if(i!==n||i===void 0){var l=Kl(n,r,s);l==null?t.removeAttribute("class"):t.className=l,t.__className=n}else if(s&&o!==s)for(var c in s){var u=!!s[c];(o==null||u!==!!o[c])&&t.classList.toggle(c,u)}return s}function Ln(t,e,n,r){var o=t.__style;if(o!==e){var s=Yl(e);s==null?t.removeAttribute("style"):t.style.cssText=s,t.__style=e}return r}const Gl=Symbol("is custom element"),Xl=Symbol("is html");function nv(t,e){var n=ro(t);n.value===(n.value=e??void 0)||t.value===e&&(e!==0||t.nodeName!=="PROGRESS")||(t.value=e??"")}function rv(t,e){var n=ro(t);n.checked!==(n.checked=e??void 0)&&(t.checked=e)}function Oe(t,e,n,r){var o=ro(t);o[e]!==(o[e]=n)&&(e==="loading"&&(t[Li]=n),n==null?t.removeAttribute(e):typeof n!="string"&&Zl(t).includes(e)?t[e]=n:t.setAttribute(e,n))}function ro(t){return t.__attributes??(t.__attributes={[Gl]:t.nodeName.includes("-"),[Xl]:t.namespaceURI===Qi})}var Ao=new Map;function Zl(t){var e=t.getAttribute("is")||t.nodeName,n=Ao.get(e);if(n)return n;Ao.set(e,n=[]);for(var r,o=t,s=Element.prototype;s!==o;){r=qo(o);for(var i in r)r[i].set&&n.push(i);o=Xa(o)}return n}function Jl(t,e,n=e){var r=new WeakSet;yl(t,"input",async o=>{var s=o?t.defaultValue:t.value;if(s=Ca(t)?Ea(s):s,n(s),xe!==null&&r.add(xe),await Ps(),s!==(s=e())){var i=t.selectionStart,l=t.selectionEnd,c=t.value.length;if(t.value=s??"",l!==null){var u=t.value.length;i===l&&l===c&&u>c?(t.selectionStart=u,t.selectionEnd=u):(t.selectionStart=i,t.selectionEnd=Math.min(l,u))}}}),Rt(e)==null&&t.value&&(n(Ca(t)?Ea(t.value):t.value),xe!==null&&r.add(xe)),la(()=>{var o=e();if(t===document.activeElement){var s=Fr??xe;if(r.has(s))return}Ca(t)&&o===Ea(t.value)||t.type==="date"&&!o&&!t.value||o!==t.value&&(t.value=o??"")})}function Ca(t){var e=t.type;return e==="number"||e==="range"}function Ea(t){return t===""?null:+t}function No(t,e){return t===e||t?.[Dn]===e}function Je(t={},e,n,r){return El(()=>{var o,s;return la(()=>{o=s,s=[],Rt(()=>{t!==n(...s)&&(e(t,...s),o&&No(n(...o),t)&&e(null,...o))})}),()=>{Mn(()=>{s&&No(n(...s),t)&&e(null,...s)})}}),t}function fa(t=!1){const e=De,n=e.l.u;if(!n)return;let r=()=>Nl(e.s);if(t){let o=0,s={};const i=Cr(()=>{let l=!1;const c=e.s;for(const u in c)c[u]!==s[u]&&(s[u]=c[u],l=!0);return l&&o++,o});r=()=>a(i)}n.b.length&&Sl(()=>{Lo(e,r),Ta(n.b)}),Ae(()=>{const o=Rt(()=>n.m.map(xi));return()=>{for(const s of o)typeof s=="function"&&s()}}),n.a.length&&Ae(()=>{Lo(e,r),Ta(n.a)})}function Lo(t,e){if(t.l.s)for(const n of t.l.s)a(n);e()}let Rr=!1;function Ql(t){var e=Rr;try{return Rr=!1,[t(),Rr]}finally{Rr=e}}function ge(t,e,n,r){var o=!ir||(n&Ki)!==0,s=(n&Gi)!==0,i=(n&Xi)!==0,l=r,c=!0,u=()=>(c&&(c=!1,l=i?Rt(r):r),l),f;if(s){var d=Dn in t||Ni in t;f=Kn(t,e)?.set??(d&&e in t?C=>t[e]=C:void 0)}var v,m=!1;s?[v,m]=Ql(()=>t[e]):v=t[e],v===void 0&&r!==void 0&&(v=u(),f&&(o&&Fi(),f(v)));var p;if(o?p=()=>{var C=t[e];return C===void 0?u():(c=!0,C)}:p=()=>{var C=t[e];return C!==void 0&&(l=void 0),C===void 0?l:C},o&&(n&Yi)===0)return p;if(f){var y=t.$$legacy;return(function(C,w){return arguments.length>0?((!o||!w||y||m)&&f(w?p():C),C):p()})}var _=!1,P=((n&Wi)!==0?Cr:sa)(()=>(_=!1,p()));s&&a(P);var T=be;return(function(C,w){if(arguments.length>0){const S=w?a(P):o&&s?Ge(C):C;return h(P,S),_=!0,l!==void 0&&(l=S),C}return Rn&&_||(T.f&Vt)!==0?P.v:a(P)})}function Se(t){De===null&&Ko(),ir&&De.l!==null?$l(De).m.push(t):Ae(()=>{const e=Rt(t);if(typeof e=="function")return e})}function $l(t){var e=t.l;return e.u??(e.u={a:[],b:[],m:[]})}const ec="5";var Ho;typeof window<"u"&&((Ho=window.__svelte??(window.__svelte={})).v??(Ho.v=new Set)).add(ec);nl();const Ms={};function tc(t){je(Ms,t)}function Rs(){const t=Ve(Ms);if(!t)throw new Error("No FeedSearchContext found");return t}const Os={};function nc(t){je(Os,t)}function kt(){const t=Ve(Os);if(!t)throw new Error("No AppHistoryContext found");return t}function rc(t,e){le(e,!0);const{setSearchParam:n,deleteSearchParam:r,getAppLocation:o}=kt(),s="feedSearch",i=L(()=>o().searchParams.get(s)||""),l=L(()=>a(i));tc({getFeedSearch:()=>a(l),setFeedSearch:f=>{f===""?r(s):n(s,f)}});var c=Q(),u=R(c);Ce(u,()=>e.children??Pe),g(t,c),ce()}const Bs={};function ac(t){je(Bs,t)}function oc(){const t=Ve(Bs);if(!t)throw new Error("No TagsSearchContext found");return t}function sc(t,e){le(e,!0);const{setSearchParam:n,deleteSearchParam:r,getAppLocation:o}=kt(),s="tagsSearch",i=L(()=>o().searchParams.get(s)||""),l=L(()=>a(i));ac({getTagsSearch:()=>a(l),setTagsSearch:f=>{f===""?r(s):n(s,f)}});var c=Q(),u=R(c);Ce(u,()=>e.children??Pe),g(t,c),ce()}const Fs={};function ic(t){je(Fs,t)}function zs(){const t=Ve(Fs);if(!t)throw new Error("No FeedOrderContext found");return t}function lc(t,e){le(e,!0);const{setSearchParam:n,deleteSearchParam:r,getAppLocation:o}=kt(),s="feedOrder",i=L(()=>o().searchParams.get(s)||"newest"),l=L(()=>a(i));ic({getFeedOrder:()=>a(l),setFeedOrder:f=>{f==="newest"?r(s):n(s,f)}});var c=Q(),u=R(c);Ce(u,()=>e.children??Pe),g(t,c),ce()}const js={};function cc(t){je(js,t)}function va(){const t=Ve(js);if(!t)throw new Error("No SidebarContext found");return t}function uc(t,e){le(e,!0);const n=(f,d)=>{if(!d)return f;if(d.type==="closed")return{type:"closed"};switch(f.type){case"opened":return d.type==="open"?{type:"opening"}:d.type==="close"?{type:"closing"}:d.type==="swipe"?{type:"openSwiping"}:f;case"closed":return d.type==="open"?{type:"opening"}:d.type==="swipe"?{type:"closeSwiping"}:f;case"openSwiping":return d.type==="open"?{type:"opening"}:d.type==="close"?{type:"closing"}:f;case"closeSwiping":return d.type==="open"?{type:"opening"}:d.type==="close"?{type:"closing"}:f;case"opening":return d.type==="opened"?{type:"opened"}:f;default:return f}};let r=j(Ge(n({type:"closed"})));const o=f=>{const d=Rt(()=>a(r));h(r,n(d,f),!0)};cc({sidebarOpen:()=>{o({type:"open"})},sidebarClose:()=>{o({type:"close"})},handleComputeState:o,getSidebarState:()=>a(r)});var c=Q(),u=R(c);Ce(u,()=>e.children??Pe),g(t,c),ce()}const Hs={};function dc(t){je(Hs,t)}function ao(){const t=Ve(Hs);if(!t)throw new Error("No SelectedTagsContext found");return t}function fc(t,e){le(e,!0);const{getAppLocation:n,setSearchParam:r,deleteSearchParam:o}=kt(),s=L(n),i=L(()=>a(s).searchParams),l="selectedTags";let c=L(()=>a(i).get(l)||""),u=L(()=>new Set(a(c).split(",").map(P=>decodeURIComponent(P)).filter(P=>P!=="")));dc({getSelectedTags:()=>a(u),addTag:P=>{a(u).has(P)||r(l,[...a(u),P].map(T=>encodeURIComponent(T)).join(","))},removeTag:P=>{a(u).has(P)&&a(u).size===1?o(l):a(u).has(P)&&r(l,[...a(u)].filter(T=>T!==P).map(T=>encodeURIComponent(T)).join(","))},clearTags:()=>{o(l)},setSelectedTags:P=>{P.size===0?o(l):r(l,[...P].map(T=>encodeURIComponent(T)).join(","))}});var y=Q(),_=R(y);Ce(_,()=>e.children??Pe),g(t,y),ce()}const Us={};function vc(t){je(Us,t)}function oo(){const t=Ve(Us);if(!t)throw new Error("No LocalDBContext found");return t}const qs={};function hc(t){je(qs,t)}function pc(){const t=Ve(qs);if(!t)throw new Error("No SettingsContext found");return t}const Vs={};function gc(t){je(Vs,t)}function ha(){const t=Ve(Vs);if(!t)throw new Error("No BroadcastContext found");return t}const _c="AppStorage",mc=1,dr="account",Hr="settings",Qe="notes",en="tags",yc="syncLog",vn="success",hn="error",He=(t,e,n)=>{t?.addEventListener(e,n)},Io=(t,e)=>new Promise((n,r)=>{const s=t?.transaction(e,"readonly")?.objectStore(e).getAll();He(s,vn,()=>{const i=s?.result||[];n(i)}),He(s,hn,i=>{r(i)})}),Xr=(t,e,n)=>new Promise((r,o)=>{const i=t?.transaction(e,"readonly")?.objectStore(e).get(n);He(i,vn,()=>{const l=i?.result?.data;r(l)}),He(i,hn,l=>{o(l)})}),Zr=(t,e,n,r)=>new Promise((o,s)=>{const c=t?.transaction(e,"readwrite")?.objectStore(e)?.put({id:n,data:r});He(c,vn,()=>{o()}),He(c,hn,u=>{s(u)})}),_n=async(t,e,n)=>{const o=t?.transaction(e,"readwrite")?.objectStore(e);await Promise.all(n.map(s=>{const i=o?.put(s);return new Promise((l,c)=>{He(i,vn,()=>{l()}),He(i,hn,u=>{c(u)})})}))},wc=(t,e,n)=>new Promise((r,o)=>{const l=t?.transaction(e,"readwrite")?.objectStore(e)?.delete(n);He(l,vn,()=>{r()}),He(l,hn,c=>{o(c)})}),Or=async(t,e,n)=>{const o=t?.transaction(e,"readwrite")?.objectStore(e);await Promise.all(n.map(s=>{const i=o?.delete(s);return new Promise((l,c)=>{He(i,vn,()=>{l()}),He(i,hn,u=>{c(u)})})}))},Wn=(t,e)=>new Promise((n,r)=>{const i=t?.transaction(e,"readwrite")?.objectStore(e)?.clear();He(i,vn,()=>{n()}),He(i,hn,l=>{r(l)})});function bc(t,e){le(e,!0);let n=j(Ge({showFavicon:!0}));const{getDB:r}=oo(),{createBroadcastChannel:o,tabId:s}=ha(),i=o(),l=L(r),c=async()=>{const y=await Xr(a(l),Hr,"default");y&&h(n,y,!0)},u=async()=>{c()},f=async y=>{const _=JSON.parse(y.data),P=_;if(_.tabId&&_.tabId===s){P.type==="exit"&&(h(n,{showFavicon:!0},!0),Wn(a(l),Hr));return}P.type==="updateSettings"?c():P.type==="exit"&&h(n,{showFavicon:!0},!0)},d=()=>a(n).showFavicon,v=async y=>{a(n).showFavicon=y,await Zr(a(l),Hr,"default",{showFavicon:y}),i.postMessage({type:"updateSettings"})};Se(()=>(u(),i.addEventListener(f),()=>{i.removeEventListener(f)})),hc({getFaviconEnabled:d,setFaviconShown:v});var m=Q(),p=R(m);Ce(p,()=>e.children??Pe),g(t,m),ce()}const Ws={};function Sc(t){je(Ws,t)}function Ks(){const t=Ve(Ws);if(!t)throw new Error("No AccountContext found");return t}function Cc(t,e){le(e,!0);let n=j(void 0);const{getDB:r}=oo(),{createBroadcastChannel:o,tabId:s}=ha(),i=L(r),l=o(),c=async()=>{const C=await Xr(a(i),dr,"default");h(n,C,!0)},u=C=>Zr(a(i),dr,"default",C),f=async C=>{const w=await Xr(a(i),dr,"default");w!==void 0&&h(n,w,!0),C(w)},d=async C=>{const w=JSON.parse(C.data);if(w.tabId&&w.tabId===s)return;const S=w;S.type==="initLocalAccount"?h(n,null):S.type==="initCloudAccount"?c():S.type==="disconnectCloudAccount"?h(n,null):S.type==="exit"?h(n,void 0):S.type==="updateAccount"&&c()};Se(()=>(l.addEventListener(d),()=>{l.removeEventListener(d)})),Sc({init:f,getAccount:()=>a(n),initLocalAccount:async()=>{h(n,null),await u(null),l.postMessage({type:"initLocalAccount"})},initCloudAccount:async C=>{const w={encryptedClientKey:C.encryptedClientKey||"",subscriptionExpires:C.subscriptionExpires||-1,lastSync:-1};await u(w),h(n,w,!0),l.postMessage({type:"initCloudAccount"})},disconnectCloudAccount:async()=>{h(n,null),await u(null),l.postMessage({type:"disconnectCloudAccount"})},updateSubscription:async C=>{if(!a(n))throw new Error("No account to update subscription for");const w={...a(n),subscriptionExpires:C};await u(w),l.postMessage({type:"updateAccount"})},exitApp:async()=>{h(n,void 0),l.postMessage({type:"exit"}),await Wn(a(i),dr)}});var P=Q(),T=R(P);Ce(T,()=>e.children??Pe),g(t,P),ce()}const Ys={};function Ec(t){je(Ys,t)}function Jt(){const t=Ve(Ys);if(!t)throw new Error("No NotesContext found");return t}const Ur=()=>crypto.randomUUID(),kc=t=>{const e=new Set;for(const n of t||[])for(const r of n?.data.tags||[])e.add(r);return e};function Tc(t,e){le(e,!0);const{getDB:n}=oo(),{createBroadcastChannel:r,tabId:o}=ha(),s=L(n),i=r(),l=720*60*60*1e3;let c=j(!1),u=j(()=>new Map),f=j(()=>[]),d=j(()=>new Map);const v=()=>a(c),m=()=>a(f)().some(E=>E.data&&E.data.deletedAt),p=()=>a(f)().some(E=>E.data&&E.data.archivedAt),y=E=>{const M=a(f)(),D=a(d)(),B=D.get(E.id);B?B.data=E.data:(M.push(E),D.set(E.id,E)),h(f,()=>M),h(d,()=>D)},_=E=>{const M=a(f)(),D=a(d)(),B=D.get(E);D.has(E)&&D.delete(E),B&&(B.data=void 0),h(f,()=>M),h(d,()=>D)},P=E=>{const M=a(f)(),D=a(d)();for(const B of E){const z=D.get(B);D.has(B)&&D.delete(B),z&&(z.data=void 0)}h(f,()=>M),h(d,()=>D)},T=()=>{h(f,()=>[]),h(u,()=>new Map),h(d,()=>new Map)},C=()=>a(f),w=E=>{const M=a(u)();for(const D of E)M.get(D)||M.set(D,{name:D});h(u,()=>M)},S=async()=>{const[E,M]=await Promise.all([Io(a(s),Qe),Io(a(s),en).then(se=>se.reduce((Ne,We)=>Ne.set(We.id,We.data),new Map))]),D=[],B=[],z=new Map;for(const se of E)se.data.deletedAt&&Date.now()-se.data.deletedAt>l?D.push(se.id):(B.push(se),z.set(se.id,se));const W=kc(B),we=[],Me=new Map(M);W.values().forEach(se=>{Me.set(se,{name:se,pinned:M.get(se)?.pinned||!1}),M.has(se)||we.push(se)});const ve=[];M.keys().forEach(se=>{W.has(se)||ve.push(se)}),await Or(a(s),Qe,D),await Or(a(s),en,ve),await _n(a(s),en,we.map(se=>({id:se,data:{pinned:Me.get(se)?.pinned||!1}}))),h(f,()=>B),h(d,()=>z),h(u,()=>Me),h(c,!0)},k=async E=>{const M=a(u)(),D=E.data.tags.filter(B=>!M.has(B))||[];return await Zr(a(s),Qe,E.id,{...E.data}),D.length>0&&(await _n(a(s),en,D.map(B=>({id:B,data:{pinned:!1}}))||[]),w(D)),y(E),i.postMessage({type:"putNote",data:{id:E.id}}),E.id},I=async({url:E,name:M,text:D,tags:B})=>{const z={id:Ur(),data:{url:E,name:M,text:D,tags:B,history:[],createdAt:Date.now(),updatedAt:Date.now()}};return await k(z),z.id},x=async(E,{url:M,name:D,text:B,tags:z})=>{const W=A(E);if(!W||!W.data)return;const we={id:E,data:{...W.data,url:M,name:D,text:B,tags:z,updatedAt:Date.now()}};await k(we)},F=async(E,{url:M,name:D,text:B,tags:z})=>{const W=A(E);if(!W||!W.data)return;const we=Ur(),Me={id:E,data:{...W.data,url:M,name:D,text:B,tags:z,updatedAt:Date.now(),history:[...(W.data.history||[]).slice(-49),{id:we,name:W.data.name,url:W.data.url,text:W.data.text,tags:W.data.tags,updatedAt:W.data.updatedAt}]}};return await k(Me),we},q=async(E,M)=>{const D=A(E);if(!D||!D.data)return;const B=D.data.history?.find?.(W=>W.id===M);if(!B)return;const z={id:E,data:{...D.data,url:B.url,name:B.name,text:B.text,tags:B.tags,updatedAt:B.updatedAt,history:D.data.history?.filter?.(W=>W.id!==M)||[]}};await k(z)},X=async E=>{const D=a(d)().get(E);!D||!D.data||(_(E),await wc(a(s),Qe,E),i.postMessage({type:"deleteNote",data:{id:E}}))},ne=async E=>{P(E),await Or(a(s),Qe,E),i.postMessage({type:"reloadNotes"})},re=async()=>{await Wn(a(s),Qe),await Wn(a(s),en),T(),i.postMessage({type:"clearNotes"})},A=E=>a(d)().get(E),V=async(E,M)=>{const B=a(d)().get(E);if(!B||!B.data)return;const z={id:E,data:{...B.data,pinnedAt:M?Date.now():void 0}};k(z)},G=async E=>{const D=a(d)().get(E);if(!D||!D.data)return;const B={id:E,data:{...D.data,deletedAt:Date.now()}};await k(B)},H=async E=>{const M=a(d)(),D=a(f)(),B=[];D.forEach(z=>{z.data&&E.every(W=>z?.data?.tags.includes(W))&&B.push(z.id)});for(const z of B){const W=M.get(z);W?.data&&(W.data.deletedAt=Date.now())}await _n(a(s),Qe,B.map(z=>{const W=M.get(z);return{id:z,data:W?.data}})),i.postMessage({type:"reloadNotes"}),h(d,()=>M),h(f,()=>D)},Z=async E=>{const M=a(d)(),D=a(f)(),B=[];D.forEach(z=>{z.data&&E.every(W=>z?.data?.tags.includes(W))&&B.push(z.id)});for(const z of B){const W=M.get(z);W?.data&&(W.data.deletedAt=0)}await _n(a(s),Qe,B.map(z=>{const W=M.get(z);return{id:z,data:W?.data}})),i.postMessage({type:"reloadNotes"}),h(d,()=>M),h(f,()=>D)},ee=async E=>{const D=a(d)().get(E);if(!D||!D.data)return;const B={id:E,data:{...D.data,deletedAt:0}};await k(B)},J=async(E,M)=>{const D=a(u)();D.set(E,{name:E,pinned:M}),await Zr(a(s),en,E,{pinned:M}),i.postMessage({type:"pinTag",data:{tag:E,pinned:M}}),h(u,()=>D)},ke=async E=>{const M=a(u)(),D=a(f)(),B=[];D.forEach(z=>{z.data&&E.every(W=>z?.data?.tags.includes(W))&&B.push(z.id)}),await ne(B),h(f,()=>D),h(u,()=>M)},ae=async E=>{const M=a(d)(),D={};E.forEach(B=>{const z=M.get(B.id),W=[];if(z&&z.data){let we=0,Me=0;for(;we<B.data.history.length&&Me<z.data.history.length;){const ve=B.data.history[we],se=z.data.history[Me];ve.id===se.id?(ve.updatedAt>se.updatedAt?W.push(ve):W.push(se),we+=1,Me+=1):ve.updatedAt<se.updatedAt?(W.push(ve),we+=1):ve.updatedAt>se.updatedAt?(W.push(se),Me+=1):(W.push(se),we+=1,Me+=1)}z.data.updatedAt>B.data.updatedAt?D[z.id]={id:z.id,data:{...z.data,history:W}}:D[B.id]={id:B.id,data:{...B.data,history:W}}}else D[B.id]=B}),await _n(a(s),Qe,Object.values(D)),await S(),i.postMessage({type:"reloadNotes"})},O=async()=>{const E=[];a(f)().forEach(D=>{D&&D.data&&D.data.deletedAt&&E.push(D.id)}),await Or(a(s),Qe,E),await S(),i.postMessage({type:"emptyBin"})},te=async(E,M=[])=>{const D=a(d)(),B=a(f)(),z=[];B.forEach(ve=>{ve.data&&ve?.data?.tags.includes(E)&&M.every(se=>ve?.data?.tags.includes(se))&&z.push(ve.id)});const W=[],we=[];for(const ve of z){const se=D.get(ve);se?.data&&(W.push({id:ve,data:{...se.data}}),we.push({id:ve,data:{...se.data,tags:se.data.tags.filter(Ne=>Ne!==E),history:[...se.data.history||[],{id:Ur(),name:se.data.name,url:se.data.url,text:se.data.text,tags:se.data.tags,updatedAt:Date.now()}]}}))}for(const ve of we){const se=D.get(ve.id);se?.data&&(se.data=ve.data)}return await _n(a(s),Qe,we.map(ve=>({id:ve.id,data:ve.data}))),i.postMessage({type:"reloadNotes"}),h(d,()=>D),h(f,()=>B),{cancel:async()=>{for(const ve of W){const se=D.get(ve.id);se?.data&&(se.data=ve.data)}await _n(a(s),Qe,W.map(ve=>({id:ve.id,data:ve.data}))),i.postMessage({type:"reloadNotes"}),h(d,()=>D),h(f,()=>B)}}},oe=async E=>{const M=JSON.parse(E.data),D=M;if(M.tabId&&M.tabId===o){D.type==="exit"&&(T(),await Wn(a(s),Qe),await Wn(a(s),en));return}if(D.type==="putNote"){const z=D.data.id;if(!z)return;const W=await Xr(a(s),Qe,z);if(!W)return;y(W)}else if(D.type==="deleteNote"){const B=D.data.id;if(!B)return;_(B)}else if(D.type==="pinTag"){const B=D.data.tag,z=D.data.pinned,W=a(u)();W.set(B,{name:B,pinned:z}),h(u,()=>W)}else D.type==="clearNotes"?T():D.type==="reloadNotes"||D.type==="emptyBin"?S():D.type==="exit"&&T()};Se(()=>(S(),i.addEventListener(oe),()=>{i.removeEventListener(oe)})),Ec({isInitedNotes:v,createNote:I,updateNote:x,deleteNote:X,saveNote:F,revertNote:q,pinNote:V,moveNoteToBin:G,getGetNotes:C,importNotes:ae,clearNotes:re,getNoteById:A,getGetMapTags:()=>a(u),pinTag:J,restoreNoteFromBin:ee,checkNotesInBin:m,checkNotesInArchive:p,emptyBin:O,moveNotesToBinByTags:H,deleteNotesByTags:ke,restoreNotesFromBinByTags:Z,deleteTag:te});var ie=Q(),he=R(ie);Ce(he,()=>e.children??Pe),g(t,ie),ce()}const Gs={},Pc=()=>({working:!1,swipingRatio:1,isSwiping:!1,duration:.35});function xc(t){je(Gs,t)}function pn(){const t=Ve(Gs);if(!t)throw new Error("No AnimationSettingsContext found");return t}function Dc(t,e){le(e,!0);let n=Ge(Pc());xc(n);var r=Q(),o=R(r);Ce(o,()=>e.children??Pe),g(t,r),ce()}const Xs={};function Ac(t){je(Xs,t)}function so(){const t=Ve(Xs);if(!t)throw new Error("No ScrollingContext found");return t}const Zs=(t,e)=>{let n=null;return()=>{n&&clearTimeout(n),n=setTimeout(()=>{n=null,t()},e)}};async function av(){if(navigator.storage&&navigator.storage.persist)try{await navigator.storage.persisted()||await navigator.storage.persist()}catch{}}function Nc(t,e){le(e,!0);let n=j(!1);const r=()=>a(n),o=Zs(()=>{h(n,!1)},100);Ac({isScrolling:r,enable:()=>{h(n,!0),o()}});var i=Q(),l=R(i);Ce(l,()=>e.children??Pe),g(t,i),ce()}const Js={};function Lc(t){je(Js,t)}function Qt(){const t=Ve(Js);if(!t)throw new Error("No MobileSizeContext found");return t}function Ic(t,e){le(e,!0);const n=()=>window.matchMedia("(max-width: 767px)").matches;let r=j(Ge(n())),o=pn();const s=Zs(()=>{o.working=!0},16),i=()=>{o.working=!1,s(),requestAnimationFrame(()=>{h(r,n(),!0)})};Lc({checkMobileSize:()=>a(r)}),Se(()=>(window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)));var c=Q(),u=R(c);Ce(u,()=>e.children??Pe),g(t,c),ce()}const Qs={};function Mc(t){je(Qs,t)}function gn(){const t=Ve(Qs);if(!t)throw new Error("No DialogContext found");return t}function Rc(t,e){le(e,!0);let n=j(0),r=j(!1),o=j(!0);Mc({checkExistedDialog:()=>a(n)>0,showDialog:()=>{h(n,a(n)+1)},hideDialog:()=>{h(n,a(n)-1)},blockDialog:p=>{h(r,p,!0)},checkBlockedDialog:()=>a(r),setClosableDialog:p=>{h(o,p,!0)},checkClosableDialog:()=>a(o)});var v=Q(),m=R(v);Ce(m,()=>e.children??Pe),g(t,v),ce()}const $s={};function Oc(t){je($s,t)}function pa(){const t=Ve($s);if(!t)throw new Error("No ScrollContainerContext found");return t}function Bc(t,e){le(e,!0);let n=j(null);Oc({setScrollContainer:l=>{h(n,l,!0)},getScrollContainer:()=>a(n)});var s=Q(),i=R(s);Ce(i,()=>e.children??Pe),g(t,s),ce()}const ei={};function Fc(t){je(ei,t)}function io(){const t=Ve(ei);if(!t)throw new Error("No DialogPageHeightContext found");return t}function zc(t,e){le(e,!0);let n=j(200);Fc({setDialogPageHeight:l=>{h(n,l,!0)},getDialogPageHeight:()=>a(n)});var s=Q(),i=R(s);Ce(i,()=>e.children??Pe),g(t,s),ce()}const jc=[dr,Hr,Qe,en,yc];function Hc(){return new Promise((t,e)=>{const n=indexedDB.open(_c,mc);He(n,"upgradeneeded",()=>{const r=n.result;for(const o of jc)r.objectStoreNames.contains(o)||r.createObjectStore(o,{keyPath:"id"})}),He(n,vn,()=>{const r=n.result;t(r),r.onversionchange=function(){r?.close(),alert("app outdated, please reload the page")}}),He(n,"blocked",()=>{e(),alert("app outdated, please reload the page")}),He(n,hn,()=>{e()})})}function Uc(t,e){le(e,!0);let n=j(null);Se(()=>{Hc().then(l=>{h(n,l,!0)}).catch(l=>{})}),vc({getDB:()=>a(n)});var o=Q(),s=R(o);{var i=l=>{var c=Q(),u=R(c);Ce(u,()=>e.children??Pe),g(l,c)};K(s,l=>{a(n)&&l(i)})}g(t,o),ce()}const wt="dialogPages",ti={};function qc(t){je(ti,t)}function yt(){const t=Ve(ti);if(!t)throw new Error("No DialogPagesContext found");return t}function Vc(t,e){le(e,!0);const{getAppLocation:n,setSearchParam:r,deleteSearchParam:o}=kt(),s=L(n),i=L(()=>a(s).searchParams);let l=L(()=>a(i).get(wt)||""),c=L(()=>a(l).split(",").map(w=>decodeURIComponent(w)).filter(w=>w!==""));const u=()=>a(c),f=w=>{if(w.length===0){o(wt);return}r(wt,w.map(S=>encodeURIComponent(S)).join(","))},d=w=>{r(wt,[...a(c),w].map(S=>encodeURIComponent(S)).join(","))};qc({setDialogPages:f,getDialogPages:u,pushDialogPage:d,popDialogPage:()=>{const w=a(c)[a(c).length-1];return a(c).length<=1?(o(wt),w):(r(wt,a(c).slice(0,-1).map(S=>encodeURIComponent(S)).join(",")),w)},replaceDialogPage:w=>{r(wt,[...a(c).slice(0,-1),w].map(S=>encodeURIComponent(S)).join(","))},hasDialogPage:w=>a(c).find(S=>{const[k]=S.split("?");return k===w})!==void 0,clearDialogPages:()=>{o(wt)},createDialogPageHref:w=>{const S=new URLSearchParams(a(s).searchParams.toString());return S.set(wt,[...u(),w].map(k=>encodeURIComponent(k)).join(",")),`${a(s).pathname}?${S.toString()}`},createHandleClickDialogPage:w=>S=>{S.preventDefault(),d(w)}});var T=Q(),C=R(T);Ce(C,()=>e.children??Pe),g(t,T),ce()}function Wc(t,e){le(e,!0);const n=f=>f.startsWith("/")?f:`/${f}`,r=f=>{const[d,v]=f.split("?");return{href:n(f),pathname:n(d),search:v?`?${v}`:"",searchParams:new URLSearchParams(v)}};let o=j(Ge({href:`${n(window.location.pathname)}${window.location.search}`,pathname:n(window.location.pathname),search:window.location.search,searchParams:new URLSearchParams(window.location.search)}));const s=f=>{h(o,r(f),!0),window.history.replaceState(null,"",f)};nc({getAppLocation:()=>a(o),replace:s,setSearchParam:(f,d)=>{const v=a(o).searchParams;v.set(f,d),s(`${a(o).pathname}${v.size>0?`?${v.toString()}`:""}`)},deleteSearchParam:f=>{const d=a(o).searchParams;d.delete(f),s(`${a(o).pathname}${d.size>0?`?${d.toString()}`:""}`)}});var c=Q(),u=R(c);Ce(u,()=>e.children??Pe),g(t,c),ce()}const Kc={};function Yc(t){je(Kc,t)}function Gc(t,e){le(e,!0);let n=Ge({value:!1});const r=()=>n.value;Se(()=>{const i=()=>{setTimeout(()=>{document.activeElement instanceof HTMLInputElement&&document.activeElement.type==="text"||document.activeElement instanceof HTMLTextAreaElement?n.value=!0:n.value=!1},0)};return i(),document.addEventListener("focusin",i),document.addEventListener("focusout",i),()=>{document.removeEventListener("focusin",i),document.removeEventListener("focusout",i)}}),Yc({getIsKeyboardVisible:r});var o=Q(),s=R(o);Ce(s,()=>e.children??Pe),g(t,o),ce()}function Xc(t,e){le(e,!0);const n=crypto.randomUUID(),r=(i,l)=>{i.postMessage(JSON.stringify({...l,tabId:n}))};gc({tabId:n,createBroadcastChannel:()=>{const i=new BroadcastChannel("app");return{postMessage:l=>r(i,l),addEventListener:l=>{i.addEventListener("message",l)},removeEventListener:l=>{i.removeEventListener("message",l)}}}});var o=Q(),s=R(o);Ce(s,()=>e.children??Pe),g(t,o),ce()}function Zc(t,e){Uc(t,{children:(n,r)=>{Xc(n,{children:(o,s)=>{Dc(o,{children:(i,l)=>{Nc(i,{children:(c,u)=>{Ic(c,{children:(f,d)=>{Rc(f,{children:(v,m)=>{Bc(v,{children:(p,y)=>{zc(p,{children:(_,P)=>{Gc(_,{children:(T,C)=>{Wc(T,{children:(w,S)=>{Vc(w,{children:(k,I)=>{var x=Q(),F=R(x);Ce(F,()=>e.children??Pe),g(k,x)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})}function Jc(t,e){Zc(t,{children:(n,r)=>{sc(n,{children:(o,s)=>{rc(o,{children:(i,l)=>{lc(i,{children:(c,u)=>{uc(c,{children:(f,d)=>{fc(f,{children:(v,m)=>{bc(v,{children:(p,y)=>{Cc(p,{children:(_,P)=>{Tc(_,{children:(T,C)=>{var w=Q(),S=R(w);Ce(S,()=>e.children??Pe),g(T,w)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})}})}let tn=j(""),mn=j(null),fr=j(null),vr=j(null),yn=j(Ge([]));function Gt(t,e){h(tn,""),setTimeout(()=>{h(tn,t,!0),e?.onFinish&&h(fr,e.onFinish,!0),e?.onCancel&&h(vr,e.onCancel,!0)},16)}const Qc=(t,e,n,r,o)=>{t.preventDefault(),a(e)&&(h(n,null),a(e)(),h(e,null)),h(r,""),a(o)?.style.removeProperty("opacity")};var $c=Y('<button type="button" class="c p-1gssers">undo</button>'),eu=Y('<div class="a p-1gssers"><div class="b p-1gssers"><span> </span> <!></div></div>'),tu=Y("<div><!></div>");function ni(t,e){le(e,!0);const n=Ur();Se(()=>(h(yn,[...a(yn),n],!0),()=>{const i=a(yn).indexOf(n);i!==-1&&h(yn,a(yn).filter((l,c)=>c!==i),!0)})),Ae(()=>{a(tn);const i=a(vr)?2e3:800;a(tn)&&(a(mn)?.getBoundingClientRect(),a(mn)?.style.setProperty("opacity","1"));const l=setTimeout(()=>{a(mn)?.style.removeProperty("opacity")},i),c=setTimeout(()=>{h(tn,""),a(fr)&&a(fr)(),h(fr,null),h(vr,null),a(mn)?.style.removeProperty("opacity")},i+400);return()=>{clearTimeout(l),clearTimeout(c)}});var r=tu(),o=b(r);{var s=i=>{var l=eu(),c=b(l),u=b(c),f=b(u),d=U(u,2);{var v=m=>{var p=$c();p.__click=[Qc,vr,fr,tn,mn],g(m,p)};K(d,m=>{a(vr)&&m(v)})}Je(c,m=>h(mn,m),()=>a(mn)),de(()=>ln(f,a(tn))),g(i,l)};K(o,i=>{a(tn)&&a(yn)[a(yn).length-1]===n&&i(s)})}g(t,r),ce()}Xe(["click"]);var nu=Y('<span class="a p-lxk90o"><!></span>');function Ue(t,e){var n=nu(),r=b(n);Ce(r,()=>e.children),g(t,n)}var ru=Ol('<svg class="p-gv09tg"><use></use></svg>');function pe(t,e){let n=ge(e,"name",8,"");var r=ru(),o=b(r);de(()=>Oe(o,"href",`#icon-${n()??""}`)),g(t,r)}const au=(t,e,n,r,o)=>{if(t.preventDefault(),a(e))return;const s=n().type;s==="closed"?r():s==="opened"&&o()};var ou=Y('<button class="a p-1w3orpk"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>');function ri(t,e){le(e,!0);const{sidebarOpen:n,getSidebarState:r,sidebarClose:o}=va(),{getDialogPages:s}=yt(),{checkExistedDialog:i}=gn();let l=L(()=>s().length>0||i());var c=ou();c.__click=[au,l,r,n,o];var u=b(c);ue(u,()=>({"--size":"32px"})),pe(u.lastChild,{name:"sidebarMenu"});var f=U(u,2);Ue(f,{children:(d,v)=>{var m=Ie("Menu");g(d,m)}}),g(t,c),ce()}Xe(["click"]);var su=(t,e)=>e.onChange?.(t.target?.value||""),iu=(t,e,n)=>{e(""),n.onChange?.("")},lu=Y('<button class="b p-wproeg"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),cu=Y('<div class="a p-wproeg"><input class="p-wproeg"/> <!></div>');function Ba(t,e){le(e,!0);let n=ge(e,"value",15,""),r=ge(e,"ref",15,null);const o=u=>{u.key==="Escape"&&(n(""),e.onChange?.(""))};Se(()=>(document.addEventListener("keydown",o),()=>{document.removeEventListener("keydown",o)}));var s=cu(),i=b(s);i.__input=[su,e],Je(i,u=>r(u),()=>r());var l=U(i,2);{var c=u=>{var f=lu();f.__click=[iu,n,e];var d=b(f);ue(d,()=>({"--size":"20px"})),pe(d.lastChild,{name:"close"});var v=U(d,2);Ue(v,{children:(m,p)=>{var y=Ie("Clear");g(m,y)}}),g(u,f)};K(l,u=>{n()&&u(c)})}de(()=>Oe(i,"placeholder",e.placeholder)),no("focus",i,function(...u){e.onFocus?.apply(this,u)}),Jl(i,n),g(t,s),ce()}Xe(["input","click"]);function lo(t,e){le(e,!0),Se(()=>{const n=r=>{r.target&&e.dialog?.open&&e.dialogInner&&e.dialogInner!==r.target&&!e.dialogInner.contains(r.target)&&e.onClose()};return document.addEventListener("mousedown",n,{capture:!0}),()=>{document.removeEventListener("mousedown",n,{capture:!0})}}),ce()}var uu=Y('<dialog><div class="a p-y62pks"><!></div></dialog> <!>',1);function kr(t,e){le(e,!0);let n=ge(e,"onClosed",3,()=>{}),r=ge(e,"blocked",3,!1),o=j(null),s=j(null),i=j(!1),{showDialog:l,hideDialog:c}=gn();const u=()=>{const _=setTimeout(()=>{n()()},150);a(o)?.addEventListener("transitionend",()=>{clearTimeout(_),n()()},{once:!0}),h(i,!1)};Ae(()=>{e.startClose&&u()}),Se(()=>{a(o)?.showModal(),a(o)?.getClientRects(),h(i,!0);const _=P=>{P?.preventDefault(),r()||u()};return a(o)?.addEventListener("cancel",_),a(o)?.addEventListener("close",_),()=>{a(o)?.removeEventListener("cancel",_),a(o)?.removeEventListener("close",_)}}),Se(()=>(l(),()=>{c()})),Se(()=>{const _=P=>{P.key==="Escape"&&r()&&P.preventDefault()};return window.addEventListener("keydown",_),()=>{window.removeEventListener("keydown",_)}});var f=uu(),d=R(f),v=b(d),m=b(v);Ce(m,()=>e.children),Je(v,_=>h(s,_),()=>a(s)),Je(d,_=>h(o,_),()=>a(o));var p=U(d,2);{var y=_=>{lo(_,{get dialog(){return a(o)},get dialogInner(){return a(s)},onClose:u})};K(p,_=>{a(o)&&a(s)&&!r()&&_(y)})}de(()=>ye(d,1,me({b:!0,c:a(i)}),"p-y62pks")),g(t,f),ce()}var du=Y("<div><!></div>");function ga(t,e){le(e,!0);let n=ge(e,"transformOrigin",3,"top right"),r=j(!1),o=j(null);const s=()=>{const d=setTimeout(()=>{e.onClosed()},150);a(o)?.addEventListener("transitionend",()=>{clearTimeout(d),e.onClosed()},{once:!0}),h(r,!1)},i=d=>{d.target!==a(o)&&!a(o)?.contains(d.target)&&s()},l=d=>{d.target!==a(o)&&!a(o)?.contains(d.target)&&s()},c=d=>{d.key==="Escape"&&s()};Se(()=>{a(o)?.getClientRects(),h(r,!0);const d=setTimeout(()=>{document.addEventListener("focusin",i),document.addEventListener("click",l),document.addEventListener("keydown",c)},0);return()=>{clearTimeout(d),document.removeEventListener("focusin",i),document.removeEventListener("click",l),document.removeEventListener("keydown",c)}}),Ae(()=>{e.startClose&&s()});var u=du(),f=b(u);Ce(f,()=>e.children),Je(u,d=>h(o,d),()=>a(o)),de(()=>{Ln(u,`transform-origin: ${e.positionTop?"top right":n()};`),ye(u,1,me({a:!0,b:e.positionTop,c:a(r)}),"p-12kya4w")}),g(t,u),ce()}const fu=(t,e)=>{a(e)||h(e,!0)};var vu=(t,e)=>e("newest"),hu=(t,e)=>e("oldest"),pu=(t,e)=>e("AtoZ"),gu=(t,e)=>e("ZtoA"),_u=Y("<div><button>Newest</button> <button>Oldest</button> <button>A to Z</button> <button>Z to A</button></div>"),mu=Y('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),yu=Y('<div class="a p-1sq20j9"><button><!> <!></button> <!></div>');function wu(t,e){le(e,!0);const n=(T,C=Pe)=>{var w=_u(),S=b(w);S.__click=[vu,f];var k=U(S,2);k.__click=[hu,f];var I=U(k,2);I.__click=[pu,f];var x=U(I,2);x.__click=[gu,f],de(()=>{ye(w,1,me({b:!0,c:C()}),"p-1sq20j9"),ye(S,1,me({d:!0,e:C(),f:a(u)==="newest"}),"p-1sq20j9"),ye(k,1,me({d:!0,e:C(),f:a(u)==="oldest"}),"p-1sq20j9"),ye(I,1,me({d:!0,e:C(),f:a(u)==="AtoZ"}),"p-1sq20j9"),ye(x,1,me({d:!0,e:C(),f:a(u)==="ZtoA"}),"p-1sq20j9")}),g(T,w)};let r=j(!1),o=j(!1);const{checkMobileSize:s}=Qt(),{getFeedOrder:i,setFeedOrder:l}=zs();let c=L(s),u=L(i);const f=T=>{h(o,!0),l(T)},d=()=>{h(r,!1),h(o,!1)};Se(()=>{const T=C=>{C.key==="Escape"&&h(o,!0)};return document.addEventListener("keydown",T),()=>document.removeEventListener("keydown",T)});var v=yu(),m=b(v);m.__click=[fu,r],ye(m,1,me({g:!0,h:!0}),"p-1sq20j9");var p=b(m);pe(p,{name:"filter"});var y=U(p,2);Ue(y,{children:(T,C)=>{var w=Ie("show feed order menu");g(T,w)}});var _=U(m,2);{var P=T=>{var C=Q(),w=R(C);{var S=I=>{kr(I,{get startClose(){return a(o)},onClosed:d,children:(x,F)=>{n(x,()=>!0)},$$slots:{default:!0}})},k=I=>{var x=mu(),F=R(x);ue(F,()=>({"--right":"20px","--top":"60px"})),ga(F.lastChild,{get startClose(){return a(o)},onClosed:d,children:(q,X)=>{n(q,()=>!1)},$$slots:{default:!0}}),g(I,x)};K(w,I=>{a(c)?I(S):I(k,!1)})}g(T,C)};K(_,T=>{a(r)&&T(P)})}g(t,v),ce()}Xe(["click"]);var $=(t=>(t.NewNote="newNote",t.Note="note",t.Settings="settings",t.ImportData="importData",t.ExportData="exportData",t.ClearStore="clearStore",t.Account="account",t.Sync="sync",t.AccountSetup="accountSetup",t.Auth="auth",t.Signin="signin",t.Signup="signup",t.AccessKeys="accessKeys",t.ConfirmAccessKey="confirmAccessKey",t.Subscription="subscription",t.Exit="exit",t.NotFound="notFound",t.About="about",t.Bin="bin",t.Install="install",t.InstallSuccess="installSuccess",t.Welcome="welcome",t))($||{}),bu=Y('<div><!> <div class="a p-t68rxw"></div></div>');function co(t,e){le(e,!0);let n=j(!1);Se(()=>{const s=setTimeout(()=>{h(n,!0)},200);return()=>{clearTimeout(s)}});var r=bu(),o=b(r);Ce(o,()=>e.children??Pe),de(()=>ye(r,1,me({b:!0,c:a(n)}),"p-t68rxw")),g(t,r),ce()}var Su=Y("<a><!></a>"),Cu=Y("<button><!></button>");function cn(t,e){let n=ge(e,"type",3,"standard"),r=ge(e,"typeButton",3,"button"),o=ge(e,"element",3,"button"),s=ge(e,"href",3,""),i=ge(e,"fullWidth",3,!1),l=ge(e,"withoutMinWidth",3,!1);var c=Q(),u=R(c);{var f=v=>{var m=Su();m.__click=function(...y){e.onClick?.apply(this,y)};var p=b(m);Ce(p,()=>e.children??Pe),de(()=>{Oe(m,"target",e.target),Oe(m,"rel",e.rel),Oe(m,"href",s()),ye(m,1,me({a:!0,b:!0,c:n()==="dangerous",d:n()==="secondary",e:i(),f:l()}),"p-16e3t4x")}),g(v,m)},d=v=>{var m=Cu();m.__click=function(...y){e.onClick?.apply(this,y)};var p=b(m);Ce(p,()=>e.children??Pe),de(()=>{Oe(m,"type",r()),ye(m,1,me({a:!0,c:n()==="dangerous",d:n()==="secondary",e:i(),f:l()}),"p-16e3t4x")}),g(v,m)};K(u,v=>{o()==="a"?v(f):v(d,!1)})}g(t,c)}Xe(["click"]);let Fa=j(!1),Br=j(!1),za=j(""),ja=j("Cancel"),Ha=j("Confirm"),Ua,qa,Va;function _a(t){h(Fa,!0),h(za,t.title,!0),t.buttonCancelTitle&&h(ja,t.buttonCancelTitle,!0),t.buttonConfirmTitle&&h(Ha,t.buttonConfirmTitle,!0),Ua=t.onConfirm,qa=t.onCancel,Va=t.onClosed}var Eu=Y('<span class="b p-1jlul5o"> </span> <div class="c p-1jlul5o"><!> <!></div>',1),ku=Y('<div class="a p-1jlul5o"><!></div>');function Tu(t){let e=j(!1),n,r=!1;const o=()=>{n=setTimeout(()=>{h(e,!0)},250)},s=async()=>{o(),await qa?.(),h(Br,!0)},i=async()=>{o(),await Ua?.(),h(Br,!0),r=!0},l=()=>{clearTimeout(n),h(e,!1),h(Fa,!1),h(Br,!1),h(za,""),h(ja,"Cancel"),h(Ha,"Confirm"),qa=void 0,Ua=void 0,Va&&Va(r),r=!1};var c=Q(),u=R(c);{var f=d=>{kr(d,{get blocked(){return a(e)},get startClose(){return a(Br)},onClosed:l,children:(v,m)=>{var p=ku(),y=b(p);{var _=T=>{co(T,{})},P=T=>{var C=Eu(),w=R(C),S=b(w),k=U(w,2),I=b(k);cn(I,{onClick:s,fullWidth:!0,withoutMinWidth:!0,type:"secondary",children:(F,q)=>{var X=Ie();de(()=>ln(X,a(ja))),g(F,X)},$$slots:{default:!0}});var x=U(I,2);cn(x,{onClick:i,fullWidth:!0,withoutMinWidth:!0,type:"dangerous",children:(F,q)=>{var X=Ie();de(()=>ln(X,a(Ha))),g(F,X)},$$slots:{default:!0}}),de(()=>ln(S,a(za))),g(T,C)};K(y,T=>{a(e)?T(_):T(P,!1)})}g(v,p)},$$slots:{default:!0}})};K(u,d=>{a(Fa)&&d(f)})}g(t,c)}const yr=t=>{const e=n=>{const r=n.target,o=r?.tagName;if(o==="INPUT"||o==="TEXTAREA"||r?.isContentEditable)return;const s=n.key.toLowerCase(),i=n.metaKey,l=n.ctrlKey,c=n.shiftKey;if(s===t.key&&!!t.meta==!!i&&!!t.ctrl==!!l&&!!t.shift==!!c){n.preventDefault(),t.action();return}};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}};var Pu=Y('<div class="a p-ohatdy"><a class="b p-ohatdy"><span class="c p-ohatdy"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></span> <span class="d p-ohatdy"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Add note</span></span></a></div>');function xu(t,e){le(e,!1);const{createDialogPageHref:n,createHandleClickDialogPage:r,getDialogPages:o,pushDialogPage:s}=yt(),{checkExistedDialog:i}=gn(),l=()=>{o.length===0&&!i()&&s($.NewNote)};Se(()=>yr({key:"n",action:l})),fa();var c=Pu(),u=b(c),f=L(()=>r($.NewNote));u.__click=function(..._){a(f)?.apply(this,_)};var d=b(u),v=b(d);ue(v,()=>({"--size":"32px","--color":"#b0b0b0"})),pe(v.lastChild,{name:"add"});var m=U(v,2);Ue(m,{children:(_,P)=>{var T=Ie("Add note");g(_,T)}});var p=U(d,2),y=b(p);ue(y,()=>({"--size":"16px","--color":"#b0b0b0"})),pe(y.lastChild,{name:"plus"}),de(_=>Oe(u,"href",_),[()=>n($.NewNote)]),g(t,c),ce()}Xe(["click"]);var Du=Y("<button><!></button>");function Au(t,e){le(e,!0);let n=ge(e,"type",3,"button"),r=!1,o=j(null);Ae(()=>{e.onRef&&e.onRef(a(o))});const s=u=>{(u.key==="Enter"||u.key===" ")&&(r=!0)},i=()=>{e.onClick(r),r&&(r=!1)};var l=Du();l.__keydown=s,l.__click=i;var c=b(l);Ce(c,()=>e.children??Pe),Je(l,u=>h(o,u),()=>a(o)),de(()=>{Oe(l,"type",n()),ye(l,1,me({a:!0,b:e.style==="selected",c:e.size==="small",d:e.mode==="empty"}),"p-1y4f6v6")}),g(t,l),ce()}Xe(["keydown","click"]);const Mo=t=>{const n=Array.from(document.querySelectorAll('a[href], button, input, textarea, select, [tabindex]:not([tabindex="-1"])')).filter(o=>o instanceof HTMLElement?o instanceof HTMLButtonElement||o instanceof HTMLInputElement||o instanceof HTMLSelectElement||o instanceof HTMLTextAreaElement?!o.disabled&&o.offsetParent!==null:o.offsetParent!==null:!1),r=t||document.activeElement;if(r){const o=n.indexOf(r);return n[o+1]}return null};let Zn=j(!1),bn=j(!1),ft=j(""),Sn=j(0),pr=j(0),gr=j(0),qr,Jr=()=>({bottom:0,right:0,height:0}),jt=null,Wa=j(null);function Nu(t){if(a(Zn)){h(bn,!0),a(ft)!==t.tag&&(qr=()=>{const n=t.getRect();h(Zn,!0),h(ft,t.tag,!0),h(Sn,n.bottom,!0),h(pr,n.right,!0),h(gr,n.height,!0),Jr=t.getRect,jt=t.focusRef});return}const e=t.getRect();h(Zn,!0),h(ft,t.tag,!0),h(Sn,e.bottom,!0),h(pr,e.right,!0),h(gr,e.height,!0),Jr=t.getRect,jt=t.focusRef}const Lu=()=>a(Zn),Iu=()=>a(Wa);var Mu=Y('<li class="p-j39u7r"><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> Pin</button></li>'),Ru=Y('<li class="p-j39u7r"><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> Unpin</button></li>'),Ou=Y('<ul><!> <li class="p-j39u7r"><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> Delete</button></li></ul>'),Bu=Y('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1);function Fu(t,e){le(e,!0);const n=(x,F=Pe)=>{var q=Ou(),X=b(q);{var ne=H=>{var Z=Mu(),ee=b(Z);ee.__click=v,ee.__keydown=P;var J=b(ee);ue(J,()=>({"--size":"20px"})),pe(J.lastChild,{name:"pin"}),de(()=>ye(ee,1,me({c:!0,d:F()}),"p-j39u7r")),g(H,Z)},re=H=>{var Z=Ru(),ee=b(Z);ee.__click=m,ee.__keydown=P;var J=b(ee);ue(J,()=>({"--size":"20px"})),pe(J.lastChild,{name:"pin-cancel"}),de(()=>ye(ee,1,me({c:!0,d:F()}),"p-j39u7r")),g(H,Z)};K(X,H=>{a(d)?H(re,!1):H(ne)})}var A=U(X,2),V=b(A);V.__click=C,V.__keydown=T;var G=b(V);ue(G,()=>({"--size":"20px"})),pe(G.lastChild,{name:"bin"}),Je(q,H=>h(Wa,H),()=>a(Wa)),de(()=>{ye(q,1,me({a:!0,b:F()}),"p-j39u7r"),ye(V,1,me({c:!0,e:!0,d:F()}),"p-j39u7r")}),g(x,q)},{getScrollContainer:r}=pa(),{pinTag:o,getGetMapTags:s,deleteTag:i}=Jt(),{checkMobileSize:l}=Qt(),{getSelectedTags:c,removeTag:u,setSelectedTags:f}=ao();let d=L(()=>s()().get(a(ft))?.pinned||!1);const v=()=>{o(a(ft),!0),jt?.focus(),h(bn,!0)},m=()=>{o(a(ft),!1),jt?.focus(),h(bn,!0)},p=()=>{h(Zn,!1),h(bn,!1),h(Sn,0),h(pr,0),h(gr,0),Jr=()=>({bottom:0,right:0,height:0}),jt=null,qr&&setTimeout(()=>{qr?.(),qr=void 0})};let y=L(()=>window.innerHeight-a(Sn)<100?a(Sn)-a(gr)-98+"px":a(Sn)+5+"px"),_=L(r);const P=x=>{x.key==="Tab"&&x.shiftKey&&(x.preventDefault(),jt?.focus())},T=x=>{x.key==="Tab"&&!x.shiftKey&&jt&&(x.preventDefault(),Mo(jt)?.focus())},C=()=>{h(bn,!0);let x=jt,F=Mo(x);_a({title:a(w).has(a(ft))?`Are you sure to delete ${a(ft)} from selected notes?`:`Are you sure to delete ${a(ft)} from all notes?`,buttonConfirmTitle:"Delete",onConfirm:async()=>{const q=a(w).has(a(ft))?Array.from(a(w)).filter(re=>re!==a(ft)):[],X=Array.from(a(w));u(a(ft));const{cancel:ne}=await i(a(ft),q);Gt("Tag deleted",{onCancel:async()=>{ne(),f(new Set(X))}})},onCancel:async()=>{},onClosed:q=>{setTimeout(()=>{q?F&&F?.focus():x?.focus()},16)}})};Ae(()=>{const x=()=>{const F=Jr();h(Sn,F.bottom,!0),h(pr,F.right,!0),h(gr,F.height,!0)};return a(_)?.addEventListener("scroll",x),window.addEventListener("resize",x),()=>{a(_)?.removeEventListener("scroll",x),window.removeEventListener("resize",x)}});let w=L(c);var S=Q(),k=R(S);{var I=x=>{var F=Q(),q=R(F);{var X=re=>{kr(re,{get startClose(){return a(bn)},onClosed:p,children:(A,V)=>{n(A,()=>!0)},$$slots:{default:!0}})},ne=re=>{var A=Bu(),V=R(A);ue(V,()=>({"--left":a(pr)-36+"px","--top":a(y)})),ga(V.lastChild,{transformOrigin:"top",get startClose(){return a(bn)},onClosed:p,children:(G,H)=>{n(G,()=>!1)},$$slots:{default:!0}}),g(re,A)};K(q,re=>{l()?re(X):re(ne,!1)})}g(x,F)};K(k,x=>{a(Zn)&&x(I)})}g(t,S),ce()}Xe(["click","keydown"]);const zu=(t,e,n,r)=>{t.stopPropagation(),t.preventDefault(),Nu({tag:e.tag,getRect:n,focusRef:a(r)})},ju=(t,e)=>{t.key==="Tab"&&!t.shiftKey&&a(e)&&(t.preventDefault(),Iu()?.querySelectorAll('button, [tabindex="0"]')[0]?.focus())};var Hu=Y('<span><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></span>'),Uu=Y('<button><span class="b p-zlrw5f"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></span></button>'),qu=Y("<!> <span> </span> <!>",1),Vu=Y('<div class="a p-zlrw5f"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></div>');function ai(t,e){le(e,!0);let{getGetMapTags:n}=Jt(),r=j(null),o=L(Lu);const s=()=>{if(a(r)){const f=a(r).getBoundingClientRect();return{bottom:f.bottom,right:f.right,height:f.height}}return{bottom:0,right:0,height:0}};let i=L(()=>e.mode==="notes"&&e.tag!=="inbox"),l=L(()=>n()().get(e.tag)?.pinned||!1);var c=Vu(),u=b(c);ue(u,()=>({"--paddingRight":a(i)?"30px":void 0})),Au(u.lastChild,{get style(){return e.type},get onRef(){return e.onRef},get onClick(){return e.onClick},children:(f,d)=>{var v=qu(),m=R(v);{var p=C=>{var w=Hu(),S=b(w);ue(S,()=>({"--size":"18px"})),pe(S.lastChild,{name:"pin"}),g(C,w)};K(m,C=>{a(l)&&C(p)})}var y=U(m,2),_=b(y),P=U(y,2);{var T=C=>{var w=Uu();w.__click=[zu,e,s,r],w.__keydown=[ju,o];var S=b(w),k=b(S);ue(k,()=>({"--size":"16px"})),pe(k.lastChild,{name:"menu"});var I=U(k,2);Ue(I,{children:(x,F)=>{var q=Ie("Tag options");g(x,q)}}),Je(w,x=>h(r,x),()=>a(r)),de(()=>ye(w,1,me({c:!0,d:e.type==="selected"}),"p-zlrw5f")),g(C,w)};K(P,C=>{a(i)&&C(T)})}de(()=>ln(_,e.tag)),g(f,v)},$$slots:{default:!0}}),g(t,c),ce()}Xe(["click","keydown"]);var Wu=Y('<div class="a p-1wrbv6c"><div></div></div>');function Ro(t,e){le(e,!0);let n=ge(e,"mobile",3,!1);const{getGetMapTags:r}=Jt();let o=j(null),s=j(Ge({value:!1}));const i=d=>{h(o,d,!0)};let c=L(()=>{const d=r()();return[...e.tags].sort((v,m)=>v==="inbox"?-1:m==="inbox"?1:d.get(v)?.pinned?-1:d.get(m)?.pinned?1:v.localeCompare(m))});Ae(()=>{a(s),Rt(()=>{a(o)&&a(s).value&&a(o).focus()})});var u=Wu(),f=b(u);da(f,22,()=>a(c),d=>d,(d,v,m)=>{{let p=L(()=>a(m)===0?i:void 0);ai(d,{get mode(){return e.mode},get tag(){return v},get onRef(){return a(p)},onClick:y=>{y?h(s,{value:!0},!0):h(s,{value:!1},!0),e.handleTagClick(v)}})}}),de(()=>ye(f,1,me({b:!0,c:n()}),"p-1wrbv6c")),g(t,u),ce()}const Ku=t=>{try{new URL(t)}catch{return!1}return!0},Yu=(t,e)=>{a(e)||h(e,!0)},Gu=(t,e,n,r)=>{for(const o of e())o!=="inbox"&&n(o,!0);h(r,!0)},Xu=(t,e,n,r)=>{for(const o of e())o!=="inbox"&&n(o,!1);h(r,!0)},Zu=(t,e,n,r,o,s)=>{const i=Array.from(e());n(i),r.clearTags(),Gt("Notes moved to bin",{onCancel:()=>{e(new Set(i)),o(i)}}),h(s,!0)},Ju=(t,e,n,r,o)=>{h(e,!0),_a({title:"Are you sure you want to delete notes?",buttonConfirmTitle:"Delete",onConfirm:async()=>{h(e,!0),n.clearTags(),await r(Array.from(o()))},onCancel:async()=>{}})},Qu=(t,e,n,r,o,s)=>{const i=Array.from(e());n(i),r.clearTags(),Gt("Notes restored",{onCancel:()=>{e(new Set(i)),o(i)}}),h(s,!0)},$u=(t,e)=>{e.clearTags()},ed=(t,e,n,r)=>{const o=e()(),s=Array.from(n());for(const i of o)i.data&&i.data?.url&&Ku(i.data?.url)&&s.every(l=>i.data?.tags.includes(l))&&window.open(i.data?.url,"_blank");h(r,!0)};var td=Y('<li class="p-1sr0kt2"><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> Pin</button></li>'),nd=Y('<li class="p-1sr0kt2"><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> Unpin</button></li>'),rd=Y('<li class="p-1sr0kt2"><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> Move to Bin</button></li>'),ad=Y('<li class="p-1sr0kt2"><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> Restore</button></li> <li class="p-1sr0kt2"><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> Delete notes</button></li>',1),od=Y('<ul><li class="p-1sr0kt2"><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> Open links</button></li> <!> <!> <!> <!></ul>'),sd=Y('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),id=Y('<div class="a p-1sr0kt2"><div class="b p-1sr0kt2"><button class="c p-1sr0kt2"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button></div> <div class="d e p-1sr0kt2"><div class="f p-1sr0kt2"><button class="g p-1sr0kt2"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button></div> <!></div> <!></div>');function Oo(t,e){le(e,!0);const n=(q,X=Pe)=>{var ne=od(),re=b(ne),A=b(re);A.__click=[ed,l,r,_];var V=b(A);ue(V,()=>({"--size":"22px"})),pe(V.lastChild,{name:"open"});var G=U(re,2);{var H=te=>{var oe=td(),ie=b(oe);ie.__click=[Gu,r,c,_];var he=b(ie);ue(he,()=>({"--size":"22px"})),pe(he.lastChild,{name:"pin"}),de(()=>ye(ie,1,me({j:!0,k:X()}),"p-1sr0kt2")),g(te,oe)};K(G,te=>{o()==="notes"&&a(k)&&[...r()].filter(oe=>oe!=="inbox").length>0&&te(H)})}var Z=U(G,2);{var ee=te=>{var oe=nd(),ie=b(oe);ie.__click=[Xu,r,c,_];var he=b(ie);ue(he,()=>({"--size":"22px"})),pe(he.lastChild,{name:"pin-cancel"}),de(()=>ye(ie,1,me({j:!0,k:X()}),"p-1sr0kt2")),g(te,oe)};K(Z,te=>{o()==="notes"&&a(S)&&[...r()].filter(oe=>oe!=="inbox").length>0&&te(ee)})}var J=U(Z,2);{var ke=te=>{var oe=rd(),ie=b(oe);ie.__click=[Zu,r,u,e,f,_];var he=b(ie);ue(he,()=>({"--size":"22px"})),pe(he.lastChild,{name:"bin"}),de(()=>ye(ie,1,me({j:!0,k:X()}),"p-1sr0kt2")),g(te,oe)};K(J,te=>{o()==="notes"&&te(ke)})}var ae=U(J,2);{var O=te=>{var oe=ad(),ie=R(oe),he=b(ie);he.__click=[Qu,r,f,e,u,_];var E=b(he);ue(E,()=>({"--size":"22px"})),pe(E.lastChild,{name:"bin-cancel"});var M=U(ie,2),D=b(M);D.__click=[Ju,_,e,d,r];var B=b(D);ue(B,()=>({"--size":"22px"})),pe(B.lastChild,{name:"bin"}),de(()=>{ye(he,1,me({j:!0,k:X()}),"p-1sr0kt2"),ye(D,1,me({j:!0,k:X()}),"p-1sr0kt2")}),g(te,oe)};K(ae,te=>{o()==="bin"&&te(O)})}de(()=>{ye(ne,1,me({h:!0,i:X()}),"p-1sr0kt2"),ye(A,1,me({j:!0,k:X()}),"p-1sr0kt2")}),g(q,ne)};let r=ge(e,"selectedTags",7),o=ge(e,"mode",3,"notes");const{checkMobileSize:s}=Qt(),{getGetMapTags:i,getGetNotes:l,pinTag:c,moveNotesToBinByTags:u,restoreNotesFromBinByTags:f,deleteNotesByTags:d}=Jt();let v=L(s),m=j(null),p=j(Ge({value:!1})),y=j(!1),_=j(!1);const P=q=>{h(m,q,!0)},T=()=>{h(y,!1),h(_,!1)},C=()=>{const q=i()();for(const X of r())if(X!=="inbox"&&q.get(X)?.pinned)return!0;return!1},w=()=>{const q=i()();for(const X of r())if(X!=="inbox"&&!q.get(X)?.pinned)return!0;return!1};let S=L(C),k=L(w);Ae(()=>{a(p),Rt(()=>{a(m)&&a(p).value&&a(m).focus()})});var I=Q(),x=R(I);{var F=q=>{var X=id(),ne=b(X),re=b(ne);re.__click=[Yu,y];var A=b(re);ue(A,()=>({"--rotate":"-90deg","--size":"20px"})),pe(A.lastChild,{name:"menu"});var V=U(A,2);Ue(V,{children:(te,oe)=>{var ie=Ie("tags menu");g(te,ie)}});var G=U(ne,2),H=b(G),Z=b(H);Z.__click=[$u,e];var ee=b(Z);ue(ee,()=>({"--size":"20px"})),pe(ee.lastChild,{name:"close"});var J=U(ee,2);Ue(J,{children:(te,oe)=>{var ie=Ie("Clear");g(te,ie)}});var ke=U(H,2);da(ke,18,r,te=>te,(te,oe,ie)=>{{let he=L(()=>a(ie)===r().size-1?P:void 0);ai(te,{get mode(){return o()},type:"selected",get tag(){return oe},onClick:E=>{E?h(p,{value:!0},!0):h(p,{value:!1},!0),e.handleSelectedTagClick(oe)},get onRef(){return a(he)}})}});var ae=U(G,2);{var O=te=>{var oe=Q(),ie=R(oe);{var he=M=>{kr(M,{get startClose(){return a(_)},onClosed:T,children:(D,B)=>{n(D,()=>!0)},$$slots:{default:!0}})},E=M=>{var D=sd(),B=R(D);ue(B,()=>({"--right":"0","--top":"10px"})),ga(B.lastChild,{transformOrigin:"top",get startClose(){return a(_)},onClosed:T,children:(z,W)=>{n(z,()=>!1)},$$slots:{default:!0}}),g(M,D)};K(ie,M=>{a(v)?M(he):M(E,!1)})}g(te,oe)};K(ae,te=>{a(y)&&te(O)})}g(q,X)};K(x,q=>{r().size>0&&q(F)})}g(t,I),ce()}Xe(["click"]);const ld=(t,e,n)=>{if(t.has("inbox"))return[];const r=[],o=Array.from(t.values());for(const s of e)if(s.data&&!(n&&!n(s))){if(t.size===0){for(const i of s?.data?.tags||[])r.includes(i)||r.push(i);continue}if(s.data&&o.every(i=>s.data?.tags.includes(i)))for(const i of s.data.tags||[])!t.has(i)&&!r.includes(i)&&r.push(i)}return r};function cd(t,e){le(e,!0);const n=pn();let r=ge(e,"dialog",7);const o=3,s=50,i=5,l=.6,c=.3,u=.35,f=.95;let d=0,v=0,m=0,p=!1,y=!1,_=0,P=0,T=0;const C=()=>{d=0,v=0,p=!1,y=!1,_=0,P=0,T=0,m=0,w!==null&&(cancelAnimationFrame(w),w=null),S=null};let w=null,S=null;const k=A=>{r()&&(e.sidebarState!=="opened"&&e.sidebarState!=="closed"||(d=A.touches[0].clientX,v=A.touches[0].clientY,m=performance.now(),p=!0,y=!1))},I=A=>e.sidebarState==="closed"&&A>0||e.sidebarState==="closeSwiping"&&A>0||e.sidebarState==="opened"&&A<0||e.sidebarState==="openSwiping"&&A<0,x=()=>{if(r()){if(r().style.setProperty("--transition-timing","0s"),!r().open&&e.sidebarState==="closed")try{r().showModal(),r().offsetWidth}catch{return}e.onSwipe();try{const A=window.getComputedStyle(r()),V=A.transform||A.webkitTransform||"";if(P=r().offsetWidth,e.sidebarState==="closeSwiping"||e.sidebarState==="closed"?_=-P:(e.sidebarState==="openSwiping"||e.sidebarState==="opened")&&(_=0),V&&V!=="none")try{_=new DOMMatrix(V).m41}catch{}y=!0}catch{C()}}},F=()=>{if(w=null,!S||!p||!r())return;const{x:A,y:V}=S;S=null;const G=A-d,H=V-v,Z=Math.abs(G)>Math.abs(H),ee=Math.abs(G)>o;if(!y)if(Z&&ee&&I(G))try{x()}catch{C();return}else return;let J=_+G*f;const ke=-P*.7,ae=0;let O=Math.max(ke,Math.min(ae,J));r().style.setProperty("--transition-timing","0s"),r().style.transform=`translate3d(${O}px, 0, 0)`;const te=Math.min(1,Math.max(0,(O-ke)/(ae-ke)));n.swipingRatio=-te,T=(O-_)/P*100,r().style.setProperty("--backdrop-bg",`${te*.25}`)},q=A=>{if(!p)return;const V=A.touches[0].clientX,G=A.touches[0].clientY;S={x:V,y:G},w===null&&(w=requestAnimationFrame(F)),y&&Math.abs(V-d)>Math.abs(G-v)&&A.preventDefault()},X=A=>{const V=Math.abs(A);if(V>=l)return i;if(V>=c){const G=(V-c)/(l-c);return s-G*(s-i)}else return s},ne=(A,V)=>{if(Math.abs(A)>=l)return u*.5;const H=Math.abs(T)/100;return V?u*Math.max(.5,1-H):u*Math.max(.5,H)},re=A=>{if(w!==null&&(cancelAnimationFrame(w),w=null),S=null,!p||!r()){C();return}if(!y){C();return}let V=0;if(A?.changedTouches?.[0]){const J=A.changedTouches[0].clientX,ae=performance.now()-m;ae>0&&(V=(J-d)/ae)}const G=X(V);let H=null;e.sidebarState==="closeSwiping"?H=Math.abs(T)>G||V>c?"open":"close":e.sidebarState==="openSwiping"&&(H=Math.abs(T)>G||V<-c?"close":"open");const Z=e.sidebarState==="closeSwiping"&&H==="open"||e.sidebarState==="openSwiping"&&H==="close",ee=ne(V,Z);n.duration=ee-.02,r().style.setProperty("--transition-timing",`${ee}s`),r().offsetWidth,r().style.transform="",H==="open"?e.onOpen():H==="close"&&e.onClose(),r()?.style.removeProperty("--backdrop-bg"),C()};Se(()=>(document.addEventListener("touchstart",k,{passive:!0}),document.addEventListener("touchmove",q,{passive:!1}),document.addEventListener("touchend",re,{passive:!0}),document.addEventListener("touchcancel",re,{passive:!0}),()=>{document.removeEventListener("touchstart",k),document.removeEventListener("touchmove",q),document.removeEventListener("touchend",re),document.removeEventListener("touchcancel",re),w!==null&&cancelAnimationFrame(w)})),ce()}var ud=Y('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),dd=Y('<dialog><div class="a p-i74rxw"><!> <!></div></dialog> <!> <!>',1);function fd(t,e){le(e,!0);const{getDialogPages:n}=yt(),{getSidebarState:r,handleComputeState:o}=va();let s=350;const i=pn(),{isScrolling:l}=so();let c=j(null),u=j(null),f=L(r);Ae(()=>{n().length>0&&o({type:"close"})});const d=()=>{e.blocked||o({type:"close"})},v=()=>{e.blocked||o({type:"open"})},m=()=>{o({type:"opened"}),i.swipingRatio=-1,i.duration=.2},p=()=>{o({type:"closed"})},y=()=>{o({type:"swipe"})},_=A=>{A.preventDefault(),d()};Se(()=>(a(c)?.addEventListener("close",p),a(c)?.addEventListener("cancel",_),()=>{a(c)?.removeEventListener("close",p),a(c)?.removeEventListener("cancel",_)}));const P=()=>{a(c)?.style.removeProperty("--transition-timing"),a(c)?.style.removeProperty("transform"),a(c)?.style.removeProperty("--backdrop-bg")},T=L(l);Ae(()=>{if(a(f),!!a(c))switch(a(f).type==="openSwiping"||a(f).type==="closeSwiping"?i.isSwiping=!0:i.isSwiping=!1,a(f).type){case"closeSwiping":{const A=setTimeout(()=>{d()},3e3);return()=>{clearTimeout(A)}}case"openSwiping":{const A=setTimeout(()=>{v()},3e3);return()=>{clearTimeout(A)}}case"opening":{a(c).open||a(c).showModal(),a(c).getBoundingClientRect();const A=setTimeout(()=>{P()},s+1),V=()=>{clearTimeout(A),P()};return a(c)?.addEventListener("transitionend",V,{once:!0}),m(),()=>{clearTimeout(A),a(c)?.removeEventListener("transitionend",V)}}case"closing":{i.swipingRatio=0,i.duration=.2;const A=setTimeout(()=>{a(f).type==="closing"&&p()},s+1),V=()=>{clearTimeout(A),p()};return a(c)?.addEventListener("transitionend",V,{once:!0}),()=>{clearTimeout(A),a(c)?.removeEventListener("transitionend",V)}}case"closed":a(c)?.close(),P();break;case"opened":P();break}}),Se(()=>{a(f).type==="opened"&&o({type:"open"})});var C=dd(),w=R(C),S=b(w),k=b(S);{var I=A=>{var V=Q(),G=R(V);Ce(G,()=>e.children),g(A,V)};K(k,A=>{a(f).type!=="closed"&&A(I)})}var x=U(k,2);{var F=A=>{var V=ud(),G=R(V);ue(G,()=>({"--left":"calc(30%)"})),ni(G.lastChild,{}),g(A,V)};K(x,A=>{a(f).type==="opened"&&A(F)})}Je(S,A=>h(u,A),()=>a(u)),Je(w,A=>h(c,A),()=>a(c));var q=U(w,2);{var X=A=>{lo(A,{get dialog(){return a(c)},get dialogInner(){return a(u)},onClose:d})};K(q,A=>{a(f).type==="opened"&&!e.blocked&&A(X)})}var ne=U(q,2);{var re=A=>{cd(A,{onClose:d,onOpen:v,onSwipe:y,get sidebarState(){return a(f).type},get dialog(){return a(c)}})};K(ne,A=>{(!a(T)&&a(f).type==="closed"||a(f).type==="opened"||a(f).type==="openSwiping"||a(f).type==="closeSwiping")&&!e.blocked&&A(re)})}de(()=>ye(w,1,me({b:!0,c:a(f).type==="closed",d:a(f).type==="opened",e:i.working&&(!i.isSwiping||!e.blocked)}),"p-i74rxw")),g(t,C),ce()}var vd=(t,e,n)=>{t.preventDefault(),e(),n("/")},hd=Y('<a class="d p-pvf6gd" href="/"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a>'),pd=(t,e,n)=>{t.preventDefault(),e(),n(`/${$.Bin}`)},gd=Y('<a class="d p-pvf6gd"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a>'),_d=Y('<div class="a p-pvf6gd"><div class="b p-pvf6gd"><!> <div class="c p-pvf6gd"><a class="d p-pvf6gd"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a> <a class="d p-pvf6gd"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a> <!></div></div> <div class="e p-pvf6gd"><!></div> <!></div> <!>',1),md=Y('<div class="f p-pvf6gd"><div class="e p-pvf6gd"><!></div> <div class="g p-pvf6gd"><div class="a p-pvf6gd"><!></div> <!></div></div>');function yd(t,e){le(e,!0);const{checkMobileSize:n}=Qt(),{sidebarClose:r,getSidebarState:o,sidebarOpen:s}=va(),{getAppLocation:i,replace:l}=kt(),{getDialogPages:c,createDialogPageHref:u,createHandleClickDialogPage:f}=yt(),{getTagsSearch:d,setTagsSearch:v}=oc(),m=L(()=>i().pathname),{getSelectedTags:p,addTag:y,removeTag:_,clearTags:P}=ao();let T=L(p);const{checkNotesInBin:C,getGetNotes:w}=Jt(),S=L(w);let k=L(()=>a(m)==="/bin"?"bin":"notes");const I=J=>{y(J)},x=J=>{_(J)};let F=L(()=>a(T).size===0&&!a(T).has("inbox")&&(a(S)()||[]).some(J=>(a(k)==="notes"&&J?.data&&!J.data.deletedAt||a(k)==="bin"&&J?.data&&J.data.deletedAt)&&J?.data?.tags.length===0)),q=L(()=>ld(a(T),a(S)()||[],J=>!(J?.data&&J.data.deletedAt&&a(k)==="notes"||J?.data&&!J.data.deletedAt&&a(k)==="bin"))),X=L(()=>[...a(F)?["inbox"]:[],...a(q)].filter(J=>d()===""||J.toLowerCase().indexOf(d().toLowerCase())!==-1)),ne=L(n);const{checkExistedDialog:re}=gn();let A=L(()=>c().length>0||re());const V=()=>{if(a(ne)){if(a(A))return;o().type==="opened"?r():o().type==="closed"&&s()}};Se(()=>yr({key:"b",meta:!0,action:V})),Se(()=>yr({key:"b",ctrl:!0,action:V}));var G=Q(),H=R(G);{var Z=J=>{fd(J,{get blocked(){return a(A)},children:(ke,ae)=>{var O=_d(),te=R(O),oe=b(te),ie=b(oe);ri(ie,{});var he=U(ie,2),E=b(he),M=L(()=>f($.Settings));E.__click=function(...Ee){a(M)?.apply(this,Ee)};var D=b(E);ue(D,()=>({"--size":"24px"})),pe(D.lastChild,{name:"settings"});var B=U(D,2);Ue(B,{children:(Ee,Fe)=>{var at=Ie("Settings");g(Ee,at)}});var z=U(E,2),W=L(()=>f($.Sync));z.__click=function(...Ee){a(W)?.apply(this,Ee)};var we=b(z);ue(we,()=>({"--size":"24px"})),pe(we.lastChild,{name:"sync"});var Me=U(we,2);Ue(Me,{children:(Ee,Fe)=>{var at=Ie("Sync");g(Ee,at)}});var ve=U(z,2);{var se=Ee=>{var Fe=hd();Fe.__click=[vd,r,l];var at=b(Fe);ue(at,()=>({"--size":"24px"})),pe(at.lastChild,{name:"note"});var Bt=U(at,2);Ue(Bt,{children:(Ft,ot)=>{var Tt=Ie("Notes");g(Ft,Tt)}}),g(Ee,Fe)},Ne=Ee=>{var Fe=Q(),at=R(Fe);{var Bt=Ft=>{var ot=gd();ot.__click=[pd,r,l];var Tt=b(ot);ue(Tt,()=>({"--size":"24px"})),pe(Tt.lastChild,{name:"bin"});var Tr=U(Tt,2);Ue(Tr,{children:(ma,uo)=>{var $t=Ie("Bin");g(ma,$t)}}),de(()=>Oe(ot,"href",`/${$.Bin}`)),g(Ft,ot)};K(at,Ft=>{C()&&Ft(Bt)},!0)}g(Ee,Fe)};K(ve,Ee=>{a(m)===`/${$.Bin}`?Ee(se):Ee(Ne,!1)})}var We=U(oe,2),nt=b(We);{let Ee=L(d);Ba(nt,{placeholder:"Search tag",get value(){return a(Ee)},onChange:Fe=>{v(Fe)}})}var Ot=U(We,2);Oo(Ot,{get clearTags(){return P},get mode(){return a(k)},get selectedTags(){return a(T)},handleSelectedTagClick:x});var rt=U(te,2);Ro(rt,{get mode(){return a(k)},get tags(){return a(X)},handleTagClick:I,mobile:!0}),de((Ee,Fe)=>{Oe(E,"href",Ee),Oe(z,"href",Fe)},[()=>u($.Settings),()=>u($.Sync)]),g(ke,O)},$$slots:{default:!0}})},ee=J=>{var ke=md(),ae=b(ke),O=b(ae);{let E=L(d);Ba(O,{placeholder:"Search tag",get value(){return a(E)},onChange:M=>{v(M)}})}var te=U(ae,2),oe=b(te),ie=b(oe);Oo(ie,{get clearTags(){return P},get mode(){return a(k)},get selectedTags(){return a(T)},handleSelectedTagClick:x});var he=U(oe,2);Ro(he,{get mode(){return a(k)},get tags(){return a(X)},handleTagClick:I}),g(J,ke)};K(H,J=>{a(ne)?J(Z):J(ee,!1)})}g(t,G),ce()}Xe(["click"]);const wd=(t,e,n)=>{_a({title:"Are you sure you want to empty the bin?",buttonConfirmTitle:"Empty",onConfirm:async()=>{await e(),n("/")},onCancel:async()=>{}})};var bd=(t,e)=>{t.preventDefault(),e("/")},Sd=Y('<a class="d p-22fuob" href="/"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Notes</span></a>'),Cd=(t,e)=>{t.preventDefault(),e(`/${$.Bin}`)},Ed=Y('<a class="d p-22fuob"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Bin</span></a>'),kd=Y('<button class="f p-22fuob" type="button">Empty bin</button>'),Td=Y('<div class="a p-22fuob"><div class="b p-22fuob"><div class="c p-22fuob"><a class="d p-22fuob"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Settings</span></a> <a class="d p-22fuob"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Sync</span></a> <!></div> <div class="e p-22fuob"><!></div> <!></div> <div class="g p-22fuob"><div class="h p-22fuob"><!></div> <div class="i p-22fuob"><div class="j p-22fuob"><div class="k p-22fuob"><!></div> <!></div></div></div></div>');function Pd(t,e){le(e,!0);const{getFeedSearch:n,setFeedSearch:r}=Rs(),{getScrollContainer:o}=pa();let s=L(o);const{emptyBin:i,checkNotesInBin:l}=Jt(),{getAppLocation:c,replace:u}=kt(),{createDialogPageHref:f,createHandleClickDialogPage:d,getDialogPages:v}=yt(),{checkExistedDialog:m}=gn();let p=j(null);const y=L(l),_=L(()=>c().pathname),P=()=>{a(s)&&a(s).scrollTo({top:0,behavior:"smooth"})},T=()=>{v().length===0&&!m()&&a(p)?.focus()};Se(()=>yr({key:"k",meta:!0,action:T})),Se(()=>yr({key:"k",ctrl:!0,action:T}));var C=Td(),w=b(C),S=b(w),k=b(S),I=L(()=>d($.Settings));k.__click=function(...E){a(I)?.apply(this,E)};var x=b(k);ue(x,()=>({"--rotate":"30deg","--size":"20px"})),pe(x.lastChild,{name:"settings"});var F=U(k,2),q=L(()=>d($.Sync));F.__click=function(...E){a(q)?.apply(this,E)};var X=b(F);ue(X,()=>({"--size":"20px"})),pe(X.lastChild,{name:"sync"});var ne=U(F,2);{var re=E=>{var M=Sd();M.__click=[bd,u];var D=b(M);ue(D,()=>({"--size":"18px"})),pe(D.lastChild,{name:"note"}),g(E,M)},A=E=>{var M=Q(),D=R(M);{var B=z=>{var W=Ed();W.__click=[Cd,u];var we=b(W);ue(we,()=>({"--size":"24px"})),pe(we.lastChild,{name:"bin"}),de(()=>Oe(W,"href",`/${$.Bin}`)),g(z,W)};K(D,z=>{a(y)&&z(B)},!0)}g(E,M)};K(ne,E=>{a(_)===`/${$.Bin}`?E(re):E(A,!1)})}var V=U(S,2),G=b(V);ri(G,{});var H=U(V,2);{var Z=E=>{var M=Q(),D=R(M);{var B=z=>{var W=kd();W.__click=[wd,i,u],g(z,W)};K(D,z=>{a(y)&&z(B)})}g(E,M)},ee=E=>{xu(E,{})};K(H,E=>{a(_)===`/${$.Bin}`?E(Z):E(ee,!1)})}var J=U(w,2),ke=b(J),ae=b(ke);yd(ae,{});var O=U(ke,2),te=b(O),oe=b(te),ie=b(oe);{let E=L(n);Ba(ie,{onFocus:P,placeholder:"Search",get value(){return a(E)},onChange:M=>{r(M)},get ref(){return a(p)},set ref(M){h(p,M,!0)}})}var he=U(oe,2);wu(he,{}),de((E,M)=>{Oe(k,"href",E),Oe(F,"href",M)},[()=>f($.Settings),()=>f($.Sync)]),g(t,C),ce()}Xe(["click"]);function xd(t,e){le(e,!0);let n=ge(e,"dialog",7);const r=pn();let o=null;const s=()=>{e.dialogState==="swiping"&&e.onClose()};Ae(()=>(e.dialogState==="swiping"&&(o=setTimeout(s,3e3)),()=>{o&&(clearTimeout(o),o=null)}));let i=null,l=null;const c=3,u=50,f=5,d=.6,v=.3,m=.35,p=.95;let y=0,_=0,P=0,T=!1,C=!1,w=0,S=0,k=0;const I=()=>{y=0,_=0,T=!1,C=!1,w=0,S=0,k=0,P=0,i=null,l!==null&&(cancelAnimationFrame(l),l=null),o&&(clearTimeout(o),o=null)},x=H=>{n()&&e.dialogState==="opened"&&(y=H.touches[0].clientX,_=H.touches[0].clientY,P=performance.now(),T=!0,C=!1)},F=H=>e.dialogState==="opened"&&H>0||e.dialogState==="swiping"&&H>0,q=()=>{if(n()){n().style.setProperty("--transition-timing","0s"),e.onSwipe();try{const H=window.getComputedStyle(n()),Z=H.transform||H.webkitTransform||"";if(S=n().offsetWidth,(e.dialogState==="swiping"||e.dialogState==="opened")&&(w=0),Z&&Z!=="none")try{w=new DOMMatrix(Z).m41}catch{}C=!0}catch{I()}}},X=()=>{if(!n())return;const Z=Math.abs(w+k*S/100)/S;n().style.setProperty("--backdrop-bg",`${.1*(1-Z)}`)},ne=()=>{if(l=null,!i||!T||!n()){I();return}const H=[...i.touches].reduce((ie,he)=>ie+he.clientX,0)/i.touches.length,Z=[...i.touches].reduce((ie,he)=>ie+he.clientY,0)/i.touches.length,ee=H-y,J=Z-_,ke=Math.abs(ee)>Math.abs(J),ae=Math.abs(ee)>c;if(!C)if(ke&&ae&&F(ee))try{q()}catch{I();return}else return;let O=w+ee*p;O=Math.max(0,Math.min(S,O)),!(O<0)&&(n().style.setProperty("--transition-timing","0s"),n().style.transform=`translate3d(${O}px, 0, 0)`,r.swipingRatio=Math.abs(1-O/S),k=(O-w)/S*100,e.dialogState==="swiping"&&(o&&clearTimeout(o),o=setTimeout(s,3e3)),X())},re=H=>{if(!T)return;i=H,l===null&&(l=requestAnimationFrame(ne));const Z=H.touches[0].clientX-y,ee=H.touches[0].clientY-_,J=Math.abs(Z)>Math.abs(ee);C&&J&&H.preventDefault()},A=H=>{const Z=Math.abs(H);if(Z>=d)return f;if(Z>=v){const ee=(Z-v)/(d-v);return u-ee*(u-f)}else return u},V=(H,Z)=>{if(Math.abs(H)>=d)return m*.5;const J=Math.abs(k)/100;return Z?m*Math.max(.5,1-J):m*Math.max(.5,J)},G=H=>{if(l!==null&&(cancelAnimationFrame(l),l=null),!T||!n()){I();return}if(!C){I();return}let Z=0;if(H?.changedTouches?.[0]){const O=H.changedTouches[0].clientX,oe=performance.now()-P;oe>0&&(Z=(O-y)/oe)}const ee=A(Z);let J=null;e.dialogState==="swiping"&&(J=Math.abs(k)>ee||Z<-v?"close":"open");const ke=e.dialogState==="swiping"&&J==="close",ae=V(Z,ke);r.duration=ae-.02,n().style.setProperty("--transition-timing",`${ae}s`),n().offsetWidth,n().style.transform="",J==="open"?e.onOpen():J==="close"&&e.onClose(),n()?.style.removeProperty("--backdrop-bg"),I()};Se(()=>(n().addEventListener("touchstart",x,{passive:!0}),n().addEventListener("touchmove",re,{passive:!1}),n().addEventListener("touchend",G,{passive:!0}),n().addEventListener("touchcancel",G,{passive:!0}),()=>{n().removeEventListener("touchstart",x),n().removeEventListener("touchmove",re),n().removeEventListener("touchend",G),n().removeEventListener("touchcancel",G),l!==null&&cancelAnimationFrame(l)})),ce()}var Dd=(t,e)=>{e.onStartClose()},Ad=Y('<button class="d e p-1ttsb5j"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),Nd=Y('<dialog><div class="a p-1ttsb5j"><div class="b p-1ttsb5j"><div class="c p-1ttsb5j"><!></div></div> <!></div></dialog> <!>',1);function Ld(t,e){le(e,!0);let n=350;const{isScrolling:r,enable:o}=so();let s=j(null),i=j(null);const l=pn(),c=k=>{k.preventDefault(),e.onStartClose()};Se(()=>(a(s)?.addEventListener("close",e.onClosed),a(s)?.addEventListener("cancel",c),()=>{a(s)?.removeEventListener("close",e.onClosed),a(s)?.removeEventListener("cancel",c)}));const u=()=>{a(s)?.style.removeProperty("--transition-timing"),a(s)?.style.removeProperty("transform"),a(s)?.style.removeProperty("--backdrop-bg")},f=()=>{o()},d=L(r);Ae(()=>{if(e.dialogState,!!a(s))switch(e.dialogState){case"opening":{a(s).open||a(s).showModal(),a(s).getBoundingClientRect();const k=setTimeout(()=>{u()},n+1),I=()=>{clearTimeout(k),u()};return a(s)?.addEventListener("transitionend",I,{once:!0}),e.onOpened(),()=>{clearTimeout(k),a(s)?.removeEventListener("transitionend",I)}}case"closing":{const k=setTimeout(()=>{e.dialogState==="closing"&&e.onClosed()},n+1),I=()=>{clearTimeout(k),e.onClosed()};return a(s)?.addEventListener("transitionend",I,{once:!0}),()=>{clearTimeout(k),a(s)?.removeEventListener("transitionend",I)}}case"opened":u()}});var v=Nd(),m=R(v),p=b(m),y=b(p),_=b(y),P=b(_);{var T=k=>{var I=Ad();I.__click=[Dd,e];var x=b(I);ue(x,()=>({"--size":"32px"})),pe(x.lastChild,{name:"back"});var F=U(x,2);Ue(F,{children:(q,X)=>{var ne=Ie("back");g(q,ne)}}),g(k,I)};K(P,k=>{e.blocked||k(T)})}var C=U(y,2);Ce(C,()=>e.children),Je(p,k=>h(i,k),()=>a(i)),Je(m,k=>h(s,k),()=>a(s));var w=U(m,2);{var S=k=>{xd(k,{get onClose(){return e.onStartClose},get onOpen(){return e.onStartOpen},get onSwipe(){return e.onSwipe},get dialogState(){return e.dialogState},get dialog(){return a(s)}})};K(w,k=>{(!a(d)&&e.dialogState==="opened"||e.dialogState==="swiping")&&!e.blocked&&k(S)})}de(()=>ye(m,1,me({f:!0,g:e.dialogState==="opened",h:e.hidden,i:l.working&&(!l.isSwiping||!e.hidden)}),"p-1ttsb5j")),no("scroll",p,f),g(t,v),ce()}Xe(["click"]);const Bo=(t,e)=>{if(!e)return t;if(e.type==="closed")return{type:"closed"};switch(t.type){case"opened":return e.type==="close"?{type:"closing"}:e.type==="swipe"?{type:"swiping"}:t;case"closed":return e.type==="open"?{type:"opening"}:t;case"swiping":return e.type==="open"?{type:"opening"}:e.type==="close"?{type:"closing"}:t;case"opening":return e.type==="opened"?{type:"opened"}:t;default:return t}};function Id(t,e){le(e,!0);let n=ge(e,"hiddenDialog",3,!1),r=ge(e,"onClose",3,()=>{});const o=pn();let s=j(Ge(Bo({type:"closed"})));const i=_=>{h(s,Bo(a(s),_),!0)},l=()=>{e.onStartClose&&(e.onStartClose(),i({type:"close"}))},c=()=>{i({type:"open"})},u=()=>{i({type:"opened"}),o.swipingRatio=1,o.duration=.2},f=()=>{r()(),i({type:"closed"}),o.swipingRatio=1,o.duration=.2},d=()=>{i({type:"swipe"})};Ae(()=>{a(s).type==="swiping"?o.isSwiping=!0:o.isSwiping=!1,a(s).type==="closed"&&e.shownDialog?c():a(s).type==="opened"&&!e.shownDialog&&l()});var v={handleComputeState:i},m=Q(),p=R(m);{var y=_=>{{let P=L(()=>!e.onStartClose);Ld(_,{onSwipe:d,onOpened:u,onClosed:f,onStartClose:l,onStartOpen:c,get dialogState(){return a(s).type},get hidden(){return n()},get blocked(){return a(P)},children:(T,C)=>{var w=Q(),S=R(w);Ce(S,()=>e.children),g(T,w)},$$slots:{default:!0}})}};K(p,_=>{a(s).type!=="closed"&&_(y)})}return g(t,m),ce(v)}const Md=({getDialog:t,onOpen:e,onStartClose:n,onClose:r})=>{const o=i=>{i.preventDefault(),n()},s=()=>{r?.()};Se(()=>{const i=t();return i?.addEventListener("cancel",o),i?.addEventListener("close",s),()=>{i?.removeEventListener("cancel",o),i?.removeEventListener("close",s)}}),Se(()=>{const i=t();i?.showModal(),i?.getBoundingClientRect(),e()})};var Rd=(t,e)=>{e.onStartBack()},Od=Y('<button class="d e p-13n05nq"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),Bd=(t,e)=>{e.onStartClose()},Fd=Y('<button class="d f p-13n05nq"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),zd=Y('<dialog><div class="a p-13n05nq"><div class="b p-13n05nq"><div class="c p-13n05nq"><div><!></div> <div><!></div></div></div> <!></div></dialog> <!>',1);function jd(t,e){le(e,!0);let n=ge(e,"blockedDialog",3,!1),r=ge(e,"hiddenDialog",3,!1),o=ge(e,"isDesktopAnimationOff",3,!1),s=j(null),i=j(null),l=j(!1);Md({getDialog:()=>a(s),onOpen:e.onOpen,onStartClose:e.onStartClose,onClose:e.onClose});const c=pn();Ae(()=>{e.stateDialog==="closing"&&(c.working?a(s)?.addEventListener("transitionend",()=>{a(s)?.close()},{once:!0}):a(s)?.close())});const{getDialogPageHeight:u}=io(),f=L(u);Se(()=>{setTimeout(()=>{h(l,!0)},50)});var d=zd(),v=R(d),m=b(v),p=b(m),y=b(p),_=b(y),P=b(_);{var T=x=>{var F=Od();F.__click=[Rd,e];var q=b(F);ue(q,()=>({"--size":"28px"})),pe(q.lastChild,{name:"back"});var X=U(q,2);Ue(X,{children:(ne,re)=>{var A=Ie("back");g(ne,A)}}),g(x,F)};K(P,x=>{(!(n()||r())||n())&&e.onStartBack&&x(T)})}var C=U(_,2),w=b(C);{var S=x=>{var F=Fd();F.__click=[Bd,e];var q=b(F);ue(q,()=>({"--size":"28px"})),pe(q.lastChild,{name:"close"});var X=U(q,2);Ue(X,{children:(ne,re)=>{var A=Ie("close");g(ne,A)}}),g(x,F)};K(w,x=>{n()||r()||x(S)})}var k=U(p,2);Ce(k,()=>e.children),Je(m,x=>h(i,x),()=>a(i)),Je(v,x=>h(s,x),()=>a(s));var I=U(v,2);lo(I,{get dialog(){return a(s)},get dialogInner(){return a(i)},get onClose(){return e.onStartClose}}),de(()=>{Ln(v,`height: ${a(f)+74}px`),ye(v,1,me({g:!0,h:e.stateDialog==="open",i:a(l),j:c.working,k:o(),l:r()}),"p-13n05nq")}),g(t,d),ce()}Xe(["click"]);const Hd=({onStartClose:t,onClose:e})=>{let n=j("close");return{get state(){return a(n)},set state(i){h(n,i,!0)},handleStartClose:(i=!1)=>{i||(h(n,"closing"),t?.())},handleOpen:()=>{h(n,"open")},handleClose:()=>{h(n,"close"),e?.()}}};function Ud(t,e){le(e,!0);let n=ge(e,"blockedDialog",3,!1),r=ge(e,"hiddenDialog",3,!1),o=ge(e,"onStartClose",3,()=>{}),s=ge(e,"onClose",3,()=>{}),i=Hd({onStartClose:o(),onClose:s()});Ae(()=>{i.state==="close"&&e.shownDialog?i.state="opening":i.state==="open"&&!e.shownDialog&&i.handleStartClose(n())});const l=d=>{d.key==="Escape"&&n()&&(d.preventDefault(),d.stopPropagation())};Se(()=>(document.addEventListener("keydown",l),()=>{document.removeEventListener("keydown",l)}));var c=Q(),u=R(c);{var f=d=>{jd(d,{get stateDialog(){return i.state},get blockedDialog(){return n()},get hiddenDialog(){return r()},get onOpen(){return i.handleOpen},get onStartBack(){return e.onStartBack},onStartClose:()=>{i.handleStartClose(n())},get onClose(){return i.handleClose},children:(v,m)=>{var p=Q(),y=R(p);Ce(y,()=>e.children),g(v,p)},$$slots:{default:!0}})};K(u,d=>{i.state!=="close"&&d(f)})}g(t,c),ce()}function qd(t,e){le(e,!0);let n=ge(e,"blockedDialog",3,!1),r=ge(e,"hiddenDialog",3,!1),o=ge(e,"blockedBack",3,!1),s=ge(e,"onStartClose",3,()=>{}),i=ge(e,"onClose",3,()=>{});const l=L(()=>o()?void 0:e.onStartBack),{showDialog:c,hideDialog:u}=gn();Se(()=>(c(),()=>{u()}));const{checkMobileSize:f}=Qt();var d=Q(),v=R(d);{var m=y=>{Id(y,{get shownDialog(){return e.shownDialog},get hiddenDialog(){return r()},get children(){return e.children},get onStartClose(){return a(l)},get onClose(){return i()}})},p=y=>{Ud(y,{get shownDialog(){return e.shownDialog},get blockedDialog(){return n()},get hiddenDialog(){return r()},get children(){return e.children},get onStartBack(){return a(l)},get onStartClose(){return s()},get onClose(){return i()}})};K(v,y=>{f()?y(m):y(p,!1)})}g(t,d),ce()}function Fo(t,e){le(e,!0);const{clearDialogPages:n,popDialogPage:r}=yt(),{checkMobileSize:o}=Qt();let s=ge(e,"blocked",3,!1),i=ge(e,"isLastDialog",3,!1),l=ge(e,"onBack",3,()=>{}),c=ge(e,"onClosed",3,()=>{});const{checkBlockedDialog:u,checkClosableDialog:f}=gn(),d=L(()=>s()||u()),v=L(f),m=()=>{(!a(d)||a(d))&&e.shown&&(r(),l()())},p=()=>{((!a(d)||a(d)&&a(v))&&e.shown||!e.shown)&&n()},y=()=>{c()()};{let _=L(()=>a(d)&&e.shown||a(v)===!1),P=L(()=>a(d)||i()&&(a(v)===!1||!o()));qd(t,{get shownDialog(){return e.shown},get blockedDialog(){return a(_)},get hiddenDialog(){return e.hidden},get blockedBack(){return a(P)},onStartBack:m,onStartClose:p,onClose:y,children:(T,C)=>{var w=Q(),S=R(w);Ce(S,()=>e.children),g(T,w)},$$slots:{default:!0}})}ce()}var Vd=Y('<div class="p-ah4hnt"><!></div>');function Re(t,e){le(e,!0);const{setDialogPageHeight:n}=io();let r=j(null);Se(()=>{a(r)&&(a(r).getBoundingClientRect(),a(r).style.opacity="1");const i=new ResizeObserver(l=>{for(let c of l){const u=c.contentRect.height;n(u)}});if(a(r))return i.observe(a(r)),()=>{a(r)&&i.unobserve(a(r)),i.disconnect()}});var o=Vd(),s=b(o);Ce(s,()=>e.children),Je(o,i=>h(r,i),()=>a(r)),g(t,o),ce()}var Wd=Y('<div class="p-ndasxn"><p class="p-ndasxn">Page not found</p> <!></div>');function Kd(t,e){le(e,!1);const{replace:n}=kt(),r=i=>{i.preventDefault(),n("/")};fa();var o=Wd(),s=U(b(o),2);cn(s,{element:"a",href:"/",onClick:r,children:(i,l)=>{var c=Ie("close");g(i,c)},$$slots:{default:!0}}),g(t,o),ce()}const Yd="modulepreload",Gd=function(t){return"/"+t},zo={},Be=function(e,n,r){let o=Promise.resolve();if(n&&n.length>0){let c=function(u){return Promise.all(u.map(f=>Promise.resolve(f).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=i?.nonce||i?.getAttribute("nonce");o=c(n.map(u=>{if(u=Gd(u),u in zo)return;zo[u]=!0;const f=u.endsWith(".css"),d=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const v=document.createElement("link");if(v.rel=f?"stylesheet":Yd,f||(v.as="script"),v.crossOrigin="",v.href=u,l&&v.setAttribute("nonce",l),document.head.appendChild(v),f)return new Promise((m,p)=>{v.addEventListener("load",m),v.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return o.then(i=>{for(const l of i||[])l.status==="rejected"&&s(l.reason);return e().catch(s)})};var Xd=Y('<div class="p-1tpcci8"><p class="p-1tpcci8">Something went wrong. Please reload the page</p> <!></div>');function Zd(t){var e=Xd(),n=U(b(e),2);cn(n,{onClick:()=>location.reload(),children:(r,o)=>{var s=Ie("Reload");g(r,s)},$$slots:{default:!0}}),g(t,e)}var Jd=Y('<div class="p-uzefkz"><!></div>');function Qd(t,e){le(e,!0);let n=j(!1);const{getDialogPageHeight:r}=io(),o=L(r);Se(()=>{const c=setTimeout(()=>{h(n,!0)},250);return()=>{clearTimeout(c)}});var s=Jd(),i=b(s);{var l=c=>{co(c,{})};K(i,c=>{a(n)&&c(l)})}de(()=>Ln(s,`min-height: ${a(o)??""}px;`)),g(t,s),ce()}function ze(t,e){le(e,!0);const n={},r=Object.assign({"./Pages/About.svelte":()=>Be(()=>import("./aD_vnu-zZ.js"),__vite__mapDeps([0,1])),"./Pages/AccessKeys.svelte":()=>Be(()=>import("./aHsAsHH5E.js"),__vite__mapDeps([2,3,4,5])),"./Pages/Account.svelte":()=>Be(()=>import("./aDJbjSRzb.js"),__vite__mapDeps([6,3,7])),"./Pages/AccountSetup.svelte":()=>Be(()=>import("./aiBF0tGAS.js"),__vite__mapDeps([8,9])),"./Pages/Auth.svelte":()=>Be(()=>import("./aCsicv8bk.js"),__vite__mapDeps([10,9])),"./Pages/ChangeTags.svelte":()=>Be(()=>import("./aDE_Dz53_.js"),[]),"./Pages/ClearStore.svelte":()=>Be(()=>import("./aCbQio34u.js"),__vite__mapDeps([11,12])),"./Pages/ConfirmAccessKey.svelte":()=>Be(()=>import("./aDNUToCHP.js"),__vite__mapDeps([13,4,3,14,15,16,17])),"./Pages/Exit.svelte":()=>Be(()=>import("./aDqXoIKph.js"),__vite__mapDeps([18,19])),"./Pages/ExportData.svelte":()=>Be(()=>import("./aCzyCCctP.js"),__vite__mapDeps([20,21,15,16,22,23,24,25])),"./Pages/ImportData.svelte":()=>Be(()=>import("./aCJ3KEouD.js"),__vite__mapDeps([26,21,15,16,22,27])),"./Pages/Install.svelte":()=>Be(()=>import("./aCP3_af9e.js"),__vite__mapDeps([28,29])),"./Pages/InstallSuccess.svelte":()=>Be(()=>import("./apTHTOv1U.js"),__vite__mapDeps([30,31])),"./Pages/NewNote.svelte":()=>Be(()=>import("./aDA6IcOeR.js"),__vite__mapDeps([32,33,21,15,16,22,34])),"./Pages/Note.svelte":()=>Be(()=>import("./aDHzTiBds.js"),__vite__mapDeps([35,33,21,15,16,22,34,36])),"./Pages/Settings.svelte":()=>Be(()=>import("./aj8aoCY_i.js"),__vite__mapDeps([37,23,24,38])),"./Pages/Signin.svelte":()=>Be(()=>import("./aB4GujTUX.js"),__vite__mapDeps([39,4,3,14,40])),"./Pages/Signup.svelte":()=>Be(()=>import("./aCF4BknOF.js"),__vite__mapDeps([41,14,4,3,40])),"./Pages/Subscription.svelte":()=>Be(()=>import("./aB0_P3MSW.js"),__vite__mapDeps([42,43])),"./Pages/Sync.svelte":()=>Be(()=>import("./aD1EJGAdJ.js"),__vite__mapDeps([44,45]))}),o=async l=>{const c=`./Pages/${l[0].toUpperCase()+l.slice(1)}.svelte`;if(!n[l]){if(r[c]){const u=r[c]();return n[l]={promise:u},n[l].module=await u,n[l].module}throw new Error(`Page ${l} not found`)}return n[l].module||await n[l].promise};var s=Q(),i=R(s);Hl(i,()=>o(e.page),l=>{Qd(l,{})},(l,c)=>{const u=L(()=>a(c).default);var f=Q(),d=R(f);Vl(d,()=>a(u),(v,m)=>{m(v,{get params(){return e.params},get hidden(){return e.hidden}})}),g(l,f)},l=>{Zd(l)}),g(t,s),ce()}const $d=(t,e,n,r)=>{e.noteData.pinnedAt?(n(e.noteId,!1),Gt("Note unpinned",{onCancel:()=>{n(e.noteId,!0)}})):(n(e.noteId,!0),Gt("Note pinned",{onCancel:()=>{n(e.noteId,!1)}})),h(r,!0)},ef=(t,e,n)=>{navigator.clipboard.writeText(e.noteData.url),Gt("Link copied"),h(n,!0)},tf=(t,e,n,r)=>{h(e,!0),_a({title:"Are you sure you want to delete this note?",buttonConfirmTitle:"Delete",onConfirm:async()=>{await n(r.noteId)},onCancel:async()=>{}})};var nf=Y('<li class="p-49y85j"><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>Copy link</button></li>'),rf=(t,e,n)=>{h(e,!0),h(n,!0)},af=Y('<li class="p-49y85j"><button><span class="b p-49y85j"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></span>Delete</button></li>'),of=(t,e,n)=>{h(e,!0),h(n,!0)},sf=Y(`<li class="p-49y85j"><button><span class="b p-49y85j"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></span>Restore</button></li> <li class="p-49y85j"><button><span class="b c p-49y85j"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></span>Delete
					from bin</button></li>`,1),lf=Y('<ul class="a p-49y85j"><!> <li class="p-49y85j"><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> </button></li> <!></ul>'),cf=Y('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1);function uf(t,e){le(e,!0);const n=(w,S=Pe)=>{var k=lf(),I=b(k);{var x=G=>{var H=nf(),Z=b(H);Z.__click=[ef,e,u];var ee=b(Z);ue(ee,()=>({"--size":"20px"})),pe(ee.lastChild,{name:"copy"}),de(()=>ye(Z,1,me({d:!0,e:S()}),"p-49y85j")),g(G,H)};K(I,G=>{S()&&e.noteData.url&&G(x)})}var F=U(I,2),q=b(F);q.__click=[$d,e,s,u];var X=b(q);{let G=L(()=>e.noteData.pinnedAt?"pin-cancel":"pin");ue(X,()=>({"--size":"20px"})),pe(X.lastChild,{get name(){return a(G)}})}var ne=U(X),re=U(F,2);{var A=G=>{var H=af(),Z=b(H);Z.__click=[rf,f,u];var ee=b(Z),J=b(ee);ue(J,()=>({"--size":"20px"})),pe(J.lastChild,{name:"bin"}),de(()=>ye(Z,1,me({c:!0,d:!0,e:S()}),"p-49y85j")),g(G,H)},V=G=>{var H=sf(),Z=R(H),ee=b(Z);ee.__click=[of,d,u];var J=b(ee),ke=b(J);ue(ke,()=>({"--size":"20px"})),pe(ke.lastChild,{name:"bin-cancel"});var ae=U(Z,2),O=b(ae);O.__click=[tf,u,o,e];var te=b(O),oe=b(te);ue(oe,()=>({"--size":"20px"})),pe(oe.lastChild,{name:"bin"}),de(()=>{ye(ee,1,me({d:!0,e:S()}),"p-49y85j"),ye(O,1,me({d:!0,e:S()}),"p-49y85j")}),g(G,H)};K(re,G=>{l()==="notes"?G(A):G(V,!1)})}de(()=>{ye(q,1,me({d:!0,e:S()}),"p-49y85j"),ln(ne,` ${e.noteData.pinnedAt?"Unpin":"Pin"}`)}),g(w,k)},{moveNoteToBin:r,deleteNote:o,pinNote:s,restoreNoteFromBin:i}=Jt();let l=ge(e,"mode",3,"notes"),c=ge(e,"shownMenu",15),u=j(!1),f=j(!1),d=j(!1);const{checkMobileSize:v}=Qt();let m=L(v);const p=async()=>{r(e.noteId),Gt("Note moved to bin",{onCancel:()=>{i(e.noteId)}})},y=()=>{i(e.noteId),Gt("Note restored from bin",{onCancel:()=>{r(e.noteId)}})},_=()=>{a(f)?(h(f,!1),p()):a(d)&&(h(d,!1),y()),c(!1),h(u,!1)};var P=Q(),T=R(P);{var C=w=>{var S=Q(),k=R(S);{var I=F=>{kr(F,{get startClose(){return a(u)},onClosed:_,children:(q,X)=>{n(q,()=>!0)},$$slots:{default:!0}})},x=F=>{var q=cf(),X=R(q);ue(X,()=>({"--bottom":"-100px","--right":"20px"})),ga(X.lastChild,{get startClose(){return a(u)},get positionTop(){return e.showMenuUp},onClosed:_,children:(ne,re)=>{n(ne,()=>!1)},$$slots:{default:!0}}),g(F,q)};K(k,F=>{a(m)?F(I):F(x,!1)})}g(w,S)};K(T,w=>{c()&&w(C)})}g(t,P),ce()}Xe(["click"]);const df=(t,e)=>{h(e,!0)},ff=(t,e,n)=>{navigator.clipboard.writeText(e.noteData.url),Gt("Link copied"),h(n,!1)},vf=(t,e)=>{h(e,!0)},hf=(t,e)=>{h(e,!1)},pf=(t,e,n,r)=>{t.preventDefault(),e(`${$.Note}?id=${encodeURIComponent(n.noteId)}`),h(r,!1)};var gf=Y('<div class="b p-1cnhpip"></div>'),_f=Y('<img loading="lazy" class="c" height="16" width="16" alt=""/>'),mf=Y('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),yf=Y('<div class="a p-1cnhpip"><!></div>'),wf=Y('<button class="e p-1cnhpip"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),bf=(t,e)=>{h(e,!1)},Sf=Y('<!> <a target="_blank" rel="noopener noreferrer" class="e f p-1cnhpip"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a>',1),Cf=Y('<li><!> <a class="d p-1cnhpip" target="_blank" rel="noopener noreferrer"> </a> <div><!> <button class="e g p-1cnhpip"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button></div> <!></li>');function Ef(t,e){le(e,!0);const{pushDialogPage:n}=yt(),{getFaviconEnabled:r}=pc();let o=ge(e,"mode",3,"notes"),s=j(!1),i=j(!1),l=j(!1),c=L(r);const{checkMobileSize:u}=Qt(),f=x=>{try{return`https://icons.duckduckgo.com/ip3/${new URL(x).host}.ico`}catch{return""}},d=e.noteData.url||"";var v=Cf();v.__focusin=[vf,i],v.__focusout=[hf,i];var m=b(v);{var p=x=>{var F=yf(),q=b(F);{var X=re=>{var A=Q(),V=R(A);{var G=Z=>{var ee=gf();g(Z,ee)},H=Z=>{var ee=_f();de(J=>Oe(ee,"src",J),[()=>f(d)]),no("error",ee,()=>{h(l,!0)}),g(Z,ee)};K(V,Z=>{a(l)?Z(G):Z(H,!1)})}g(re,A)},ne=re=>{var A=mf(),V=R(A);ue(V,()=>({"--size":"16px"})),pe(V.lastChild,{name:"note"}),g(re,A)};K(q,re=>{d?re(X):re(ne,!1)})}g(x,F)};K(m,x=>{a(c)&&x(p)})}var y=U(m,2);y.__click=[pf,n,e,i];var _=b(y),P=U(y,2),T=b(P);{var C=x=>{var F=Sf(),q=R(F);{var X=V=>{var G=wf();G.__click=[ff,e,i];var H=b(G);ue(H,()=>({"--size":"20px"})),pe(H.lastChild,{name:"copy"});var Z=U(H,2);Ue(Z,{children:(ee,J)=>{var ke=Ie("copy link");g(ee,ke)}}),de(()=>Oe(G,"tabindex",e.focusHidden?-1:0)),g(V,G)};K(q,V=>{u()||V(X)})}var ne=U(q,2);ne.__click=[bf,i];var re=b(ne);ue(re,()=>({"--size":"18px"})),pe(re.lastChild,{name:"open"});var A=U(re,2);Ue(A,{children:(V,G)=>{var H=Ie();de(()=>ln(H,e.noteData.name||"unknown")),g(V,H)}}),de(()=>{Oe(ne,"href",d),Oe(ne,"tabindex",e.focusHidden?-1:0)}),g(x,F)};K(T,x=>{d&&x(C)})}var w=U(T,2);w.__click=[df,s];var S=b(w);ue(S,()=>({"--size":"18px","--rotate":"90deg"})),pe(S.lastChild,{name:"menu"});var k=U(S,2);Ue(k,{children:(x,F)=>{var q=Ie("show menu");g(x,q)}});var I=U(P,2);uf(I,{get mode(){return o()},get noteId(){return e.noteId},get noteData(){return e.noteData},get showMenuUp(){return e.showMenuUp},get shownMenu(){return a(s)},set shownMenu(x){h(s,x,!0)}}),de((x,F)=>{ye(v,1,x,"p-1cnhpip"),Oe(y,"tabindex",e.focusHidden?-1:0),Oe(y,"href",F),ln(_,e.noteData?.name||"unknown"),ye(P,1,me({j:!0,k:a(i)}),"p-1cnhpip"),Oe(w,"tabindex",e.focusHidden?-1:0)},[()=>me({h:!0,i:!!e.noteData.pinnedAt}),()=>`/?${wt}=${encodeURIComponent(`${$.Note}?id=${encodeURIComponent(e.noteId)}`)}`]),g(t,v),ce()}Xe(["focusin","focusout","click"]);var or,oi,si;class kf{constructor(e){Te(this,or);ut(this,"data");ut(this,"compare");this.data=[],this.compare=e}insert(e){this.data.push(e),Le(this,or,oi).call(this)}extractMin(){if(this.data.length===0)return;const e=this.data[0],n=this.data.pop();return this.data.length&&n!==void 0&&(this.data[0]=n,Le(this,or,si).call(this)),e}isEmpty(){return this.data.length===0}}or=new WeakSet,oi=function(){let e=this.data.length-1;const n=this.data[e];for(;e>0;){const r=Math.floor((e-1)/2);if(this.compare(n,this.data[r])>=0)break;[this.data[e],this.data[r]]=[this.data[r],this.data[e]],e=r}},si=function(){let e=0;const n=this.data.length;for(;;){const r=2*e+1,o=2*e+2;let s=e;if(r<n&&this.compare(this.data[r],this.data[s])<0&&(s=r),o<n&&this.compare(this.data[o],this.data[s])<0&&(s=o),s===e)break;[this.data[e],this.data[s]]=[this.data[s],this.data[e]],e=s}};class Tf{constructor(e,n){ut(this,"heap");ut(this,"done");ut(this,"cache",[]);this.heap=new kf(n);for(const r of e)this.heap.insert(r);this.done=!1}get(e,n){const r=this.cache.slice(e,n);for(;r.length<n-e&&!this.heap.isEmpty();){const o=this.heap.extractMin();o!==void 0&&(this.cache.push(o),r.push(o))}return this.heap.isEmpty()&&(this.done=!0),r}}var Pf=Y('<p class="d">No notes in bin</p>'),xf=Y('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Add note</span>',1),Df=Y('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span style="padding-left: 6px;">Import notes</span>',1),Af=Y('<div class="e p-cdl57y"><div class="f p-cdl57y"><!></div> <div>or</div> <div class="f p-cdl57y"><!></div></div>'),Nf=Y('<div class="c p-cdl57y"><!></div>'),Lf=Y("<span>Back to notes</span>"),If=Y('<div class="g p-cdl57y">No notes in bin</div> <div class="f p-cdl57y"><!></div>',1),Mf=Y('<div class="h"><div class="g p-cdl57y">No notes found</div></div>'),Rf=Y('<div class="i p-cdl57y"><ul class="p-cdl57y"></ul></div>'),Of=Y('<div class="a p-cdl57y"><div class="b p-cdl57y"><!></div></div>');function Bf(t,e){le(e,!0);let n=ge(e,"getNotes",3,()=>[]),r=ge(e,"mode",3,"notes");const{getScrollContainer:o}=pa(),{createHandleClickDialogPage:s,createDialogPageHref:i}=yt(),{getSelectedTags:l}=ao(),{getFeedOrder:c}=zs(),{replace:u}=kt(),f=Rs();let d=54,v=j(0),m=j(0),p=j(0),y=j(0),_=[],P=j(0),T=j(null),C=L(o),w=null,S=null;const k=L(l);Ae(()=>{a(k),a(X),a(C)?.scrollTo(0,0)});const{enable:I}=so(),x=()=>{I(),w||(w=requestAnimationFrame(()=>{const ae=a(C)?.scrollTop||0;h(p,ae,!0);const O=Math.ceil(a(v)/d);h(m,Math.floor(ae/(d*O))*(d*O)),w=null}))},F=()=>{S||(S=requestAnimationFrame(()=>{h(v,window.innerHeight-180||0,!0);const ae=a(C)?.scrollTop||0;h(p,ae,!0);const O=Math.ceil(a(v)/d);h(m,Math.floor(ae/(d*O))*(d*O)),S=null}))};Se(()=>{F(),x()});const q=()=>{x()};Ae(()=>(a(C)?.addEventListener("scroll",q),window.addEventListener("resize",F),()=>{a(C)?.removeEventListener("scroll",q),window.removeEventListener("resize",F)}));const X=L(c);Ae(()=>{const ae=n()()||[],O=[],te=Array.from(a(k).values());for(let oe=ae.length-1;oe>=0;oe--){if(!ae[oe]||!ae[oe].data)continue;const ie=ae[oe];if(!(r()==="notes"&&ie?.data.deletedAt)&&!(r()==="bin"&&!ie?.data.deletedAt)&&!(f&&!(ie.data.name.toLowerCase().includes(f.getFeedSearch().toLowerCase())||ie.data.url.toLowerCase().includes(f.getFeedSearch().toLowerCase())||ie.data.text.toLowerCase().includes(f.getFeedSearch().toLowerCase())))){if(a(k).has("inbox")){if(ie.data.tags.length>0)continue}else if(a(k).size&&te.some(he=>!ie.data.tags.includes(he)))continue;O.push(ie)}}h(y,O.length,!0),_=O,h(P,Date.now(),!0)}),Ae(()=>{a(X),a(P),h(T,new Tf(_,(ae,O)=>{if(!ae||!O||!ae.data||!O.data)return 0;if(ae.data.pinnedAt&&!O.data.pinnedAt)return-1;if(!ae.data.pinnedAt&&O.data.pinnedAt)return 1;if(ae.data.pinnedAt&&O.data.pinnedAt){if(ae.data.pinnedAt<O.data.pinnedAt)return 1;if(ae.data.pinnedAt>O.data.pinnedAt)return-1}switch(a(X)){case"newest":return ae.data.updatedAt<O.data.updatedAt?1:-1;case"oldest":return ae.data.updatedAt>O.data.updatedAt?1:-1;case"AtoZ":return ae.data.name.localeCompare(O.data.name);case"ZtoA":return O.data.name.localeCompare(ae.data.name);default:return 0}}),!0)});const ne=L(()=>a(y)*d);let A=L(()=>{a(P);const ae=Math.ceil(a(v)/d);let O=Math.floor(a(m)/d);return O=O-Math.min(O,ae),a(T)?.get(O,O+ae*3)||[]}),V=L(()=>d*Math.ceil(a(v)/d));const G=L(()=>a(m)-Math.min(a(m),a(V)));var H=Of(),Z=b(H),ee=b(Z);{var J=ae=>{co(ae,{})},ke=ae=>{var O=Q(),te=R(O);{var oe=he=>{var E=Nf(),M=b(E);{var D=z=>{var W=Pf();g(z,W)},B=z=>{var W=Af(),we=b(W),Me=b(we);{let Ne=L(()=>i($.NewNote)),We=L(()=>s($.NewNote));cn(Me,{element:"a",get href(){return a(Ne)},get onClick(){return a(We)},children:(nt,Ot)=>{var rt=xf(),Ee=R(rt);ue(Ee,()=>({"--size":"18px","--color":"#b0b0b0"})),pe(Ee.lastChild,{name:"plus"}),g(nt,rt)},$$slots:{default:!0}})}var ve=U(we,4),se=b(ve);{let Ne=L(()=>i($.ImportData)),We=L(()=>s($.ImportData));cn(se,{element:"a",get href(){return a(Ne)},get onClick(){return a(We)},children:(nt,Ot)=>{var rt=Df(),Ee=R(rt);ue(Ee,()=>({"--size":"18px","--color":"#b0b0b0"})),pe(Ee.lastChild,{name:"import"}),g(nt,rt)},$$slots:{default:!0}})}g(z,W)};K(M,z=>{r()==="bin"?z(D):z(B,!1)})}g(he,E)},ie=he=>{var E=Q(),M=R(E);{var D=z=>{var W=If(),we=U(R(W),2),Me=b(we);cn(Me,{element:"a",href:"/",onClick:ve=>{ve.preventDefault(),u("/")},children:(ve,se)=>{var Ne=Lf();g(ve,Ne)},$$slots:{default:!0}}),g(z,W)},B=z=>{var W=Q(),we=R(W);{var Me=se=>{var Ne=Mf();g(se,Ne)},ve=se=>{var Ne=Rf(),We=b(Ne);da(We,23,()=>a(A),nt=>nt.data,(nt,Ot,rt)=>{var Ee=Q(),Fe=R(Ee);{var at=Bt=>{{let Ft=L(()=>a(rt)*d<a(p)-a(G)-d/2||a(rt)*d>a(p)-a(G)+Math.floor(a(v)/d)*d),ot=L(()=>(a(rt)+3)*d<a(p)-a(G)-d/2||(a(rt)+3)*d>a(p)-a(G)+Math.floor(a(v)/d)*d);Ef(Bt,{get mode(){return r()},get focusHidden(){return a(Ft)},get showMenuUp(){return a(ot)},get noteId(){return a(Ot).id},get noteData(){return a(Ot).data}})}};K(Fe,Bt=>{a(Ot).data&&Bt(at)})}g(nt,Ee)}),de(nt=>{Ln(Ne,`min-height: ${nt??""}px`),Ln(We,`transform: translateY(${a(G)??""}px);`)},[()=>Math.max((a(ne)>a(v),a(ne)),0)]),g(se,Ne)};K(we,se=>{a(A).length===0?se(Me):se(ve,!1)},!0)}g(z,W)};K(M,z=>{r()==="bin"&&!e.checkNotesInBin()?z(D):z(B,!1)},!0)}g(he,E)};K(te,he=>{(n()()||[]).length===0?he(oe):he(ie,!1)},!0)}g(ae,O)};K(ee,ae=>{e.readyNotes?ae(ke,!1):ae(J)})}g(t,H),ce()}var Ff=Y('<div class="a p-qboa24"></div> <div class="b p-qboa24"><!></div>',1);function zf(t,e){le(e,!0);const{getAppLocation:n}=kt(),{getGetNotes:r,isInitedNotes:o,checkNotesInBin:s}=Jt(),i=L(o),l=L(r),c=L(()=>n().pathname);var u=Ff(),f=U(R(u),2),d=b(f);{let v=L(()=>a(c)==="/bin"?"bin":"notes");Bf(d,{get mode(){return a(v)},get getNotes(){return a(l)},get checkNotesInBin(){return s},get readyNotes(){return a(i)}})}g(t,u),ce()}var jf=Y('<h1 class="p-1n0ziuh"><!></h1>');function Hf(t,e){var n=jf(),r=b(n);Ce(r,()=>e.children),g(t,n)}const Uf=()=>window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0;var qf=Y('<div class="a p-nk8iga"><!> <p class="b p-nk8iga">Enjoy using the app!</p> <div class="c p-nk8iga"><!></div></div>');function Vf(t,e){le(e,!1);const{pushDialogPage:n}=yt(),r=()=>{Uf()?n($.AccountSetup):n($.Install)};fa();var o=qf(),s=b(o);Hf(s,{children:(c,u)=>{var f=Ie("Welcome");g(c,f)}});var i=U(s,4),l=b(i);cn(l,{onClick:r,fullWidth:!0,children:(c,u)=>{var f=Ie("Start");g(c,f)},$$slots:{default:!0}}),g(t,o),ce()}const jo=(t,e=Pe,n=Pe,r)=>{let o=sa(()=>Di(r?.(),!1));var s=Q(),i=R(s);{var l=u=>{Re(u,{children:(f,d)=>{ze(f,{get hidden(){return a(o)},get page(){return $.Settings}})},$$slots:{default:!0}})},c=u=>{var f=Q(),d=R(f);{var v=p=>{Re(p,{children:(y,_)=>{ze(y,{get hidden(){return a(o)},get page(){return $.NewNote}})},$$slots:{default:!0}})},m=p=>{var y=Q(),_=R(y);{var P=C=>{Re(C,{children:(w,S)=>{ze(w,{get params(){return n()},get hidden(){return a(o)},get page(){return $.Note}})},$$slots:{default:!0}})},T=C=>{var w=Q(),S=R(w);{var k=x=>{Re(x,{children:(F,q)=>{ze(F,{get hidden(){return a(o)},get page(){return $.ImportData}})},$$slots:{default:!0}})},I=x=>{var F=Q(),q=R(F);{var X=re=>{Re(re,{children:(A,V)=>{ze(A,{get hidden(){return a(o)},get page(){return $.ExportData}})},$$slots:{default:!0}})},ne=re=>{var A=Q(),V=R(A);{var G=Z=>{Re(Z,{children:(ee,J)=>{ze(ee,{get hidden(){return a(o)},get page(){return $.ClearStore}})},$$slots:{default:!0}})},H=Z=>{var ee=Q(),J=R(ee);{var ke=O=>{Re(O,{children:(te,oe)=>{ze(te,{get hidden(){return a(o)},get page(){return $.AccountSetup}})},$$slots:{default:!0}})},ae=O=>{var te=Q(),oe=R(te);{var ie=E=>{Re(E,{children:(M,D)=>{ze(M,{get hidden(){return a(o)},get page(){return $.Install}})},$$slots:{default:!0}})},he=E=>{var M=Q(),D=R(M);{var B=W=>{Re(W,{children:(we,Me)=>{ze(we,{get hidden(){return a(o)},get page(){return $.InstallSuccess}})},$$slots:{default:!0}})},z=W=>{var we=Q(),Me=R(we);{var ve=Ne=>{Re(Ne,{children:(We,nt)=>{Vf(We,{})},$$slots:{default:!0}})},se=Ne=>{var We=Q(),nt=R(We);{var Ot=Ee=>{Re(Ee,{children:(Fe,at)=>{ze(Fe,{get hidden(){return a(o)},get page(){return $.Auth}})},$$slots:{default:!0}})},rt=Ee=>{var Fe=Q(),at=R(Fe);{var Bt=ot=>{Re(ot,{children:(Tt,Tr)=>{ze(Tt,{get hidden(){return a(o)},get page(){return $.Signup}})},$$slots:{default:!0}})},Ft=ot=>{var Tt=Q(),Tr=R(Tt);{var ma=$t=>{Re($t,{children:(Pr,fo)=>{ze(Pr,{get hidden(){return a(o)},get page(){return $.Signin}})},$$slots:{default:!0}})},uo=$t=>{var Pr=Q(),fo=R(Pr);{var ii=On=>{Re(On,{children:(xr,vo)=>{ze(xr,{get hidden(){return a(o)},get page(){return $.AccessKeys}})},$$slots:{default:!0}})},li=On=>{var xr=Q(),vo=R(xr);{var ci=Bn=>{Re(Bn,{children:(Dr,ho)=>{ze(Dr,{get hidden(){return a(o)},get page(){return $.Account}})},$$slots:{default:!0}})},ui=Bn=>{var Dr=Q(),ho=R(Dr);{var di=Fn=>{Re(Fn,{children:(Ar,po)=>{ze(Ar,{get hidden(){return a(o)},get page(){return $.ConfirmAccessKey}})},$$slots:{default:!0}})},fi=Fn=>{var Ar=Q(),po=R(Ar);{var vi=zn=>{Re(zn,{children:(Nr,go)=>{ze(Nr,{get hidden(){return a(o)},get page(){return $.Exit}})},$$slots:{default:!0}})},hi=zn=>{var Nr=Q(),go=R(Nr);{var pi=jn=>{Re(jn,{children:(Lr,_o)=>{ze(Lr,{get hidden(){return a(o)},get page(){return $.Sync}})},$$slots:{default:!0}})},gi=jn=>{var Lr=Q(),_o=R(Lr);{var _i=Hn=>{Re(Hn,{children:(Ir,mo)=>{ze(Ir,{get hidden(){return a(o)},get page(){return $.Subscription}})},$$slots:{default:!0}})},mi=Hn=>{var Ir=Q(),mo=R(Ir);{var yi=Un=>{Re(Un,{children:(ya,bi)=>{ze(ya,{get hidden(){return a(o)},get page(){return $.About}})},$$slots:{default:!0}})},wi=Un=>{Re(Un,{children:(ya,bi)=>{Kd(ya,{})},$$slots:{default:!0}})};K(mo,Un=>{e()===$.About?Un(yi):Un(wi,!1)},!0)}g(Hn,Ir)};K(_o,Hn=>{e()===$.Subscription?Hn(_i):Hn(mi,!1)},!0)}g(jn,Lr)};K(go,jn=>{e()===$.Sync?jn(pi):jn(gi,!1)},!0)}g(zn,Nr)};K(po,zn=>{e()===$.Exit?zn(vi):zn(hi,!1)},!0)}g(Fn,Ar)};K(ho,Fn=>{e()===$.ConfirmAccessKey?Fn(di):Fn(fi,!1)},!0)}g(Bn,Dr)};K(vo,Bn=>{e()===$.Account?Bn(ci):Bn(ui,!1)},!0)}g(On,xr)};K(fo,On=>{e()===$.AccessKeys?On(ii):On(li,!1)},!0)}g($t,Pr)};K(Tr,$t=>{e()===$.Signin?$t(ma):$t(uo,!1)},!0)}g(ot,Tt)};K(at,ot=>{e()===$.Signup?ot(Bt):ot(Ft,!1)},!0)}g(Ee,Fe)};K(nt,Ee=>{e()===$.Auth?Ee(Ot):Ee(rt,!1)},!0)}g(Ne,We)};K(Me,Ne=>{e()===$.Welcome?Ne(ve):Ne(se,!1)},!0)}g(W,we)};K(D,W=>{e()===$.InstallSuccess?W(B):W(z,!1)},!0)}g(E,M)};K(oe,E=>{e()===$.Install?E(ie):E(he,!1)},!0)}g(O,te)};K(J,O=>{e()===$.AccountSetup?O(ke):O(ae,!1)},!0)}g(Z,ee)};K(V,Z=>{e()===$.ClearStore?Z(G):Z(H,!1)},!0)}g(re,A)};K(q,re=>{e()===$.ExportData?re(X):re(ne,!1)},!0)}g(x,F)};K(S,x=>{e()===$.ImportData?x(k):x(I,!1)},!0)}g(C,w)};K(_,C=>{e()===$.Note?C(P):C(T,!1)},!0)}g(p,y)};K(d,p=>{e()===$.NewNote?p(v):p(m,!1)},!0)}g(u,f)};K(i,u=>{e()===$.Settings?u(l):u(c,!1)})}g(t,s)};var Wf=Y("<!> <!>",1);function Kf(t,e){le(e,!0);const{getDialogPages:n}=yt(),{getAccount:r}=Ks();let o=L(n),s=L(()=>r()!==void 0);const{checkMobileSize:i}=Qt();let l=j(Ge([]));const c=L(i);Ae(()=>{a(o),a(c),Rt(()=>{if(a(c))a(o).length>=a(l).length?h(l,a(o).map(_=>({page:_,shown:!0})),!0):h(l,a(l).map((_,P)=>({page:_.page,shown:P<a(o).length})),!0);else if(a(o).length>=a(l).length)h(l,a(o).map(_=>({page:_,shown:!0})),!0);else{if(a(o).length===0){h(l,[{page:a(l)[a(l).length-1].page,shown:!1}],!0);return}h(l,a(o).map(_=>({page:_,shown:!0})),!0)}})});const u=()=>{h(l,a(o).map(_=>({page:_,shown:!0})),!0)};var f=Wf(),d=R(f);{var v=_=>{zf(_,{})};K(d,_=>{a(s)&&_(v)})}var m=U(d,2);{var p=_=>{var P=Q(),T=R(P);da(T,19,()=>a(l),C=>C.page,(C,w,S)=>{const k=L(()=>a(w).page.split("?")[1]),I=L(()=>a(w).page.split("?")[0]);{let x=L(()=>a(S)!==a(l).length-1&&!!a(l)[a(S)+1]?.shown),F=L(()=>a(S)===0);Fo(C,{onClosed:u,get shown(){return a(w).shown},get hidden(){return a(x)},get isLastDialog(){return a(F)},children:(q,X)=>{{let ne=L(()=>a(S)!==a(l).length-1&&!!a(l)[a(S)+1]?.shown);jo(q,()=>a(I),()=>a(k),()=>a(ne))}},$$slots:{default:!0}})}}),g(_,P)},y=_=>{var P=Q(),T=R(P);{var C=w=>{const S=L(()=>a(l)[a(l).length-1].page.split("?")[1]),k=L(()=>a(l)[a(l).length-1].page.split("?")[0]);{let I=L(()=>a(l).length===1);Fo(w,{onClosed:u,get shown(){return a(l)[a(l).length-1].shown},hidden:!1,get isLastDialog(){return a(I)},children:(x,F)=>{jo(x,()=>a(k),()=>a(S))},$$slots:{default:!0}})}};K(T,w=>{a(l).length>0&&w(C)},!0)}g(_,P)};K(m,_=>{i()?_(p):_(y,!1)})}g(t,f),ce()}function Yf(t,e){le(e,!1);let n=0;Se(()=>{document.addEventListener("touchstart",r=>{n=r.touches[0].clientX},{passive:!1}),document.addEventListener("touchmove",r=>{const s=r.touches[0].clientX-n;(n<30&&s>0||n>window.innerWidth-30&&s<0)&&r.preventDefault()},{passive:!1}),document.addEventListener("touchend",()=>{n=0}),document.addEventListener("touchcancel",()=>{n=0})}),fa(),ce()}const Gf=(t,e)=>{a(e)&&a(e).scrollTo({top:0})};var Xf=Y('<div><button class="c p-1fqi25d"><!> <span class="d p-1fqi25d"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></span></button></div>'),Zf=Y('<!> <!> <!> <!> <main><div class="a p-1fqi25d"><!></div> <div class="b p-1fqi25d"><!></div></main> <!>',1);function Jf(t,e){le(e,!0);const{replace:n}=kt(),{hasDialogPage:r}=yt(),{setScrollContainer:o}=pa(),{getAccount:s,init:i}=Ks(),{isInitedNotes:l}=Jt(),{getDialogPages:c}=yt(),{createBroadcastChannel:u,tabId:f}=ha(),d=u(),{getSidebarState:v}=va(),{setClosableDialog:m}=gn(),p=()=>{n(`/?${wt}=${$.Welcome}`)};Se(()=>{i(te=>{te===void 0?p():((r($.Welcome)||r($.AccountSetup))&&n("/"),te?h(C,te):h(C,null))});const O=async te=>{const oe=JSON.parse(te.data);if(oe.tabId&&oe.tabId===f)return;const ie=oe;ie.type==="initLocalAccount"||ie.type==="initCloudAccount"||ie.type==="updateAccount"||ie.type==="disconnectCloudAccount"?n("/"):ie.type==="exit"&&p()};return d.addEventListener(O),()=>d.removeEventListener(O)});const y=pn();Se(async()=>{await new Promise(O=>setTimeout(O,250)),await Ps(),y.working=!0});let _=j(!1),P=0,T=L(()=>c().length>0),C=L(s),w=L(l),S=j(null);Ae(()=>{m(a(C)!==void 0)}),Ae(()=>{o(a(S))});const k=()=>{if(a(S)){const O=a(S).scrollTop||0;O===0?h(_,!1):!a(_)&&P>O?h(_,!0):a(_)&&P+50<O&&h(_,!1),P=O}},I=()=>{k()};Ae(()=>(a(S)?.addEventListener("scroll",I),window.addEventListener("resize",I),()=>{a(S)?.removeEventListener("scroll",I),window.removeEventListener("resize",I)}));const x=L(v);var F=Zf(),q=R(F);Yf(q,{});var X=U(q,2);Tu(X);var ne=U(X,2);ni(ne,{});var re=U(ne,2);Fu(re,{});var A=U(re,2),V=b(A),G=b(V);{var H=O=>{Pd(O,{})};K(G,O=>{a(C)!==void 0&&O(H)})}var Z=U(V,2),ee=b(Z);{var J=O=>{Kf(O,{})};K(ee,O=>{a(w)&&O(J)})}Je(A,O=>h(S,O),()=>a(S));var ke=U(A,2);{var ae=O=>{var te=Xf(),oe=b(te);oe.__click=[Gf,S];var ie=b(oe);Ue(ie,{children:(M,D)=>{var B=Ie("top");g(M,B)}});var he=U(ie,2),E=b(he);ue(E,()=>({"--rotate":"90deg","--size":"28px"})),pe(E.lastChild,{name:"back"}),de(()=>{Ln(te,`--swiping-ratio: ${y.swipingRatio}; --transition-timing-default: ${y.duration}s;`),ye(te,1,me({i:!0,f:y.working&&!y.isSwiping,g:a(T)||a(x).type!=="closed"}),"p-1fqi25d")}),g(O,te)};K(ke,O=>{a(_)&&O(ae)})}de(()=>{Ln(A,`--swiping-ratio: ${y.swipingRatio}; --transition-timing-default: ${y.duration}s;`),ye(A,1,me({e:!0,f:y.working&&!y.isSwiping,g:a(T)||a(x).type!=="closed",h:a(x).type!=="closed"}),"p-1fqi25d")}),g(t,F),ce()}Xe(["click"]);function Qf(t){Jc(t,{children:(e,n)=>{Jf(e,{})}})}window.addEventListener("unhandledrejection",t=>{alert("Error: "+t.reason.message)});window.isUnsupportedBrowser||Bl(Qf,{target:document.getElementById("app")});export{Uf as $,Ks as A,cn as B,fa as C,Jt as D,no as E,wt as F,tv as G,Hf as H,pe as I,ge as J,nv as K,co as L,rv as M,Ln as N,Qt as O,$ as P,Ur as Q,Je as R,ye as S,me as T,Rt as U,Ue as V,Au as W,ld as X,Jl as Y,ha as Z,pc as _,ue as a,av as a0,Oe as b,b as c,g as d,da as e,Y as f,a as g,j as h,K as i,ce as j,h as k,R as l,ln as m,yt as n,Se as o,le as p,gn as q,Ge as r,U as s,de as t,Ae as u,Q as v,Xe as w,Ie as x,L as y,kt as z};
