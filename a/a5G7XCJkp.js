import{p as Ae,n as ye,z as we,A as Pe,q as Ie,o as Se,k as I,h as X,g as m,u as xe,f as p,i as o,c as N,d as e,j as $e,l,H as Z,x as S,s as W,B as T,v as c,P as Y,L as Ce,F as ne}from"./aqgPJN1wH.js";const ke=async()=>"getInstalledRelatedApps"in navigator?(await navigator?.getInstalledRelatedApps?.())?.some(f=>f.platform==="webapp")??!1:!1,U=()=>window.installPrompt;function We(){const r=navigator.userAgent,f=/iPad|iPhone|iPod/.test(r);return f?!!f:!1}const ee=()=>{const r=navigator.userAgent;return/android/i.test(r)},E=()=>{const r=navigator.userAgent;return/chrome|crios/i.test(r)&&!/edg|edgios|edga|brave/i.test(r)&&!navigator.brave},le=()=>{const r="serviceWorker"in navigator,f="onbeforeinstallprompt"in window;return r&&f},ie=()=>{const r=navigator.userAgent;return!!(/Safari/.test(r)&&!/Chrome/.test(r)&&!/CriOS/.test(r)&&!/FxiOS/.test(r))};var Be=p('<p class="b p-1ye9sl1">App is already installed.</p>'),De=p('<p class="b p-1ye9sl1">For install app, select the share button and select "Add to Home Screen".</p>'),Oe=p('<p class="b p-1ye9sl1">Install app available on Safari.</p>'),Ee=p(`<p class="b p-1ye9sl1">From the menu bar, choose File > Add to Dock. Or click the Share button in the Safari
				toolbar, then choose Add to Dock.</p>`),Fe=p('<p class="b p-1ye9sl1">Installation is not supported in this browser. use Brave, Chrome or Edge.</p>'),Re=p(`<p class="b p-1ye9sl1">App is already installed or installation is not supported in this browser. use Brave,
					Chrome or Edge.</p>`),He=p('<p class="b p-1ye9sl1">For better experience, install app from Chrome.</p>'),Le=p(`<!> <p class="b p-1ye9sl1">You can install app to have a better experience and more reliable storage or you can use it in
			your browser and install later.</p> <!> <div class="c p-1ye9sl1"><!> <!></div>`,1),Me=p('<!> <div class="d p-1ye9sl1"><!></div>',1),Ge=p('<p class="b p-1ye9sl1">Open the app from your device.</p>'),Te=p('<!> <!> <div class="c p-1ye9sl1"><!> <!></div>',1),Ue=p('<div class="a p-1ye9sl1"><!></div>');function qe(r,f){Ae(f,!0);const{pushDialogPage:pe,clearDialogPages:ce}=ye(),{replace:ae}=we(),{getAccount:te}=Pe(),{blockDialog:re}=Ie();let h=X("idle"),F=X(!1),j=X(null);const ve=()=>{te()===void 0?pe(Y.AccountSetup):ce()},se=()=>{ve()},de=async()=>{const i=U();try{i&&(I(h,"installing"),"onappinstalled"in window&&window.addEventListener("appinstalled",()=>{if(I(F,!0),!ee()){re(!1);const v=te();ae(v===void 0?`/?${ne}=${encodeURIComponent(`${Y.Welcome},${Y.InstallSuccess}`)}`:`/?${ne}=${encodeURIComponent(`${Y.InstallSuccess}`)}`)}}),await i.prompt(),i.userChoice?.then(v=>{v.outcome==="accepted"?(window.installPrompt=null,ee()&&I(j,setTimeout(()=>{I(j,null),m(F)?I(h,"success"):I(h,"idle")},5e3),!0)):I(h,"idle")}))}catch{}};Se(()=>(ke().then(i=>{I(F,i,!0)}),()=>{m(j)&&clearTimeout(m(j))})),xe(()=>{re(m(h)==="installing")});var oe=Ue(),ue=N(oe);{var fe=i=>{var v=Le(),q=l(v);Z(q,{children:(a,s)=>{var d=S("install app");e(a,d)}});var z=W(q,4);{var J=a=>{var s=Be();e(a,s)},b=a=>{var s=c(),d=l(s);{var k=u=>{var y=c(),t=l(y);{var _=n=>{var P=De();e(n,P)},w=n=>{var P=Oe();e(n,P)};o(t,n=>{ie()?n(_):n(w,!1)})}e(u,y)},A=u=>{var y=c(),t=l(y);{var _=n=>{var P=Ee();e(n,P)},w=n=>{var P=c(),ge=l(P);{var me=D=>{var H=c(),K=l(H);{var Q=g=>{var O=Fe();e(g,O)},L=g=>{var O=c(),V=l(O);{var M=G=>{var be=Re();e(G,be)};o(V,G=>{E()||G(M)},!0)}e(g,O)};o(K,g=>{le()?g(L,!1):g(Q)})}e(D,H)},he=D=>{var H=c(),K=l(H);{var Q=L=>{var g=c(),O=l(g);{var V=M=>{var G=He();e(M,G)};o(O,M=>{!E()&&U()&&M(V)})}e(L,g)};o(K,L=>{ee()&&L(Q)},!0)}e(D,H)};o(ge,D=>{U()?D(he,!1):D(me)},!0)}e(n,P)};o(t,n=>{ie()?n(_):n(w,!1)},!0)}e(u,y)};o(d,u=>{We()?u(k):u(A,!1)},!0)}e(a,s)};o(z,a=>{m(F)||E()&&!U()&&le()?a(J):a(b,!1)})}var x=W(z,2),$=N(x);{var R=a=>{T(a,{onClick:de,fullWidth:!0,children:(s,d)=>{var k=S("install web app");e(s,k)},$$slots:{default:!0}})},C=a=>{var s=c(),d=l(s);{var k=A=>{T(A,{element:"a",target:"_blank",rel:"noopener noreferrer",href:`${window.location.origin}`,fullWidth:!0,children:(u,y)=>{var t=S("open app");e(u,t)},$$slots:{default:!0}})};o(d,A=>{(m(F)||E())&&A(k)},!0)}e(a,s)};o($,a=>{U()?a(R):a(C,!1)})}var B=W($,2);T(B,{onClick:se,fullWidth:!0,type:"secondary",children:(a,s)=>{var d=S("continue in browser");e(a,d)},$$slots:{default:!0}}),e(i,v)},_e=i=>{var v=c(),q=l(v);{var z=b=>{var x=Me(),$=l(x);Z($,{children:(B,a)=>{var s=S("installing app...");e(B,s)}});var R=W($,2),C=N(R);Ce(C,{}),e(b,x)},J=b=>{var x=c(),$=l(x);{var R=C=>{var B=Te(),a=l(B);Z(a,{children:(t,_)=>{var w=S("app installed successfully!");e(t,w)}});var s=W(a,2);{var d=t=>{var _=Ge();e(t,_)};o(s,t=>{E()||t(d)})}var k=W(s,2),A=N(k);{var u=t=>{T(t,{element:"a",target:"_blank",rel:"noopener noreferrer",href:`${window.location.origin}`,fullWidth:!0,children:(_,w)=>{var n=S("open app");e(_,n)},$$slots:{default:!0}})};o(A,t=>{E()&&t(u)})}var y=W(A,2);T(y,{onClick:se,fullWidth:!0,type:"secondary",children:(t,_)=>{var w=S("continue in browser");e(t,w)},$$slots:{default:!0}}),e(C,B)};o($,C=>{m(h)==="success"&&C(R)},!0)}e(b,x)};o(q,b=>{m(h)==="installing"?b(z):b(J,!1)},!0)}e(i,v)};o(ue,i=>{m(h)==="idle"?i(fe):i(_e,!1)})}e(r,oe),$e()}export{qe as default};
