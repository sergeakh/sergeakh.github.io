import{p as X,a2 as ce,b as oe,w as pe,o as ne,f as G,s,c as e,h as v,d as m,I as h,t as H,a3 as N,a4 as T,g as o,i as R,m as Y,a as ie,r as Z,u as de,M as ve,j as V,a5 as me,A as y,P as c}from"./aDgmd6QPD.js";import{S as he}from"./ahiy2eILu.js";import{S as ue}from"./aCFNK57in.js";var _e=G('<div class="a p-104wypr"><fieldset class="b p-104wypr"><legend class="c p-104wypr">Color Scheme</legend> <input id="light" class="c d p-104wypr" type="radio" aria-label="Light"/> <label for="light" class="e f p-104wypr" title="Light" aria-label="Light"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <input id="system" class="c d p-104wypr" type="radio" aria-label="System"/> <label for="system" class="e g p-104wypr" title="System" aria-label="System"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <input id="dark" class="c d p-104wypr" type="radio" aria-label="Dark"/> <label for="dark" class="e h p-104wypr" title="Dark" aria-label="Dark"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <div class="i p-104wypr"><div class="j p-104wypr"></div></div></fieldset></div>');function ye(L,M){X(M,!0);const{createBroadcastChannel:u}=ce(),p=u(),t={Light:"light",System:"system",Dark:"dark"};let g=oe(pe(localStorage.getItem("colorScheme")||t.System));const f=l=>{localStorage.setItem("colorScheme",l);const r=document.querySelector('meta[name="theme-color"]'),i=document.querySelector('meta[name="apple-mobile-web-app-status-bar-style"]');l===t.System?window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.dataset.colorScheme=t.Dark:document.documentElement.dataset.colorScheme=t.Light:document.documentElement.dataset.colorScheme=l,r&&i&&(l===t.Dark||l===t.System&&window.matchMedia("(prefers-color-scheme: dark)").matches?(r.content="#202020",i.content="black"):(r.content="#fff",i.content="black-translucent")),ie(g,l,!0)},b=l=>{const r=l.target.value;f(r),p.postMessage({type:"setColorScheme",data:{scheme:r}})},w="color-scheme-switcher";ne(()=>{const l=r=>{const i=JSON.parse(r.data);i?.type==="setColorScheme"&&i?.data.scheme&&f(i.data.scheme)};return p.addEventListener(l),()=>{p.removeEventListener(l)}});var z={setColorScheme:f,handleChange:b},D=_e(),E=e(D),d=s(e(E),2);v(d,"name",w),d.__change=b;var S=s(d,2),k=e(S);m(k,()=>({"--size":"20px"})),h(k.lastChild,{name:"sun"});var _=s(S,2);v(_,"name",w),_.__change=b;var j=s(_,2),q=e(j);m(q,()=>({"--size":"14px"})),h(q.lastChild,{name:"a"});var n=s(j,2);v(n,"name",w),n.__change=b;var A=s(n,2),C=e(A);return m(C,()=>({"--size":"20px"})),h(C.lastChild,{name:"moon"}),H(()=>{N(d,t.Light),T(d,o(g)===t.Light),N(_,t.System),T(_,o(g)===t.System),N(n,t.Dark),T(n,o(g)===t.Dark)}),R(L,D),Y(z)}Z(["change"]);var ge=G('<li class="p-1e4pjqa"><a class="b p-1e4pjqa"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="c p-1e4pjqa">Install app</span></a></li>'),be=G('<div class="a p-1e4pjqa"><!> <ul class="p-1e4pjqa"><!> <!> <li class="p-1e4pjqa"><a class="b p-1e4pjqa"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="c p-1e4pjqa">Account</span></a></li> <li class="p-1e4pjqa"><a class="b p-1e4pjqa"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="c p-1e4pjqa">Import</span></a></li> <li class="p-1e4pjqa"><a class="b p-1e4pjqa"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="c p-1e4pjqa">Export</span></a></li> <li class="p-1e4pjqa"><a class="b p-1e4pjqa"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="c p-1e4pjqa">About</span></a></li></ul> <div><span class="d p-1e4pjqa">record mode:</span> <!></div> <div class="e p-1e4pjqa"><span class="d p-1e4pjqa">favicons (by DuckDuckGo)</span> <!></div></div>');function ke(L,M){X(M,!0);const{createDialogPageHref:u,createHandleClickDialogPage:p}=de(),{setFaviconShown:t,getFaviconEnabled:g,getRecordMode:f,setRecordMode:b}=ve();let w=y(g),z=y(f);const D=a=>{t(a)};var E=be(),d=e(E);ye(d,{});var S=s(d,2),k=e(S);{var _=a=>{var I=ge(),x=e(I),B=y(()=>p(c.Install));x.__click=function(...F){o(B)?.apply(this,F)};var U=e(x);m(U,()=>({"--size":"28px"})),h(U.lastChild,{name:"install"}),H(F=>v(x,"href",F),[()=>u(c.Install)]),R(a,I)};V(k,a=>{me()||a(_)})}var j=s(k,2);V(j,a=>{});var q=s(j,2),n=e(q),A=y(()=>p(c.Account));n.__click=function(...a){o(A)?.apply(this,a)};var C=e(n);m(C,()=>({"--size":"28px"})),h(C.lastChild,{name:"account"});var l=s(q,2),r=e(l),i=y(()=>p(c.ImportData));r.__click=function(...a){o(i)?.apply(this,a)};var J=e(r);m(J,()=>({"--size":"28px"})),h(J.lastChild,{name:"import"});var O=s(l,2),P=e(O),ee=y(()=>p(c.ExportData));P.__click=function(...a){o(ee)?.apply(this,a)};var W=e(P);m(W,()=>({"--size":"28px"})),h(W.lastChild,{name:"export"});var ae=s(O,2),$=e(ae),se=y(()=>p(c.About));$.__click=function(...a){o(se)?.apply(this,a)};var K=e($);m(K,()=>({"--size":"28px"})),h(K.lastChild,{name:"about"});var Q=s(S,2),te=s(e(Q),2);ue(te,{items:[{title:"Bookmark",value:"bookmark"},{title:"Note",value:"note"}],get value(){return o(z)},onChange:a=>{b(a)}});var le=s(Q,2),re=s(e(le),2);he(re,{get checked(){return o(w)},onChange:D}),H((a,I,x,B)=>{v(n,"href",a),v(r,"href",I),v(P,"href",x),v($,"href",B)},[()=>u(c.Account),()=>u(c.ImportData),()=>u(c.ExportData),()=>u(c.About)]),R(L,E),Y()}Z(["click"]);export{ke as default};
