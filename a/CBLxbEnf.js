const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["a/bMlpp6x8.js","a/1JBO3KHP.css","a/J7GoufYE.js","a/BAW-HnOs.css","a/Bi5cOs8-.js","a/9q_jSmK4.js","a/BEGDcNQV.js","a/CoBIEQkN.css","a/DHbEesrL.js","a/BYiYfrGn.css","a/ul1vSUmn.js","a/A07xSe-1.css","a/0kjH8tCq.js","a/B_UsPGEu.css","a/BcwE8x7S.js","a/Cpa8lgv9.js","a/CUDg0LhV.js","a/j0KFa_-O.css","a/hu7yjlv8.css","a/9jWGu6-X.js","a/vINv4ZFr.js","a/CTZccJ9I.css","a/HOTUjnfJ.css","a/B81V3_En.js","a/DdvqrzuO.css","a/D6TQWAJn.js","a/B0cemaEl.css","a/hK9pe8r0.js","a/wHiSqZiK.css","a/DHkxzMnF.js","a/Dk9dXw5m.js","a/BJkY6727.css","a/Ctj3u_uy.js","a/CTvV7MYb.css","a/D3S3suT0.js","a/D0s4m_LM.css","a/DKZmOzcb.js","a/CwLtx71M.css","a/BtNpV3Lf.js","a/CBB22PtM.css"])))=>i.map(i=>d[i]);
var Rs=Object.defineProperty;var Ma=e=>{throw TypeError(e)};var Fs=(e,t,n)=>t in e?Rs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var kn=(e,t,n)=>Fs(e,typeof t!="symbol"?t+"":t,n),Yr=(e,t,n)=>t.has(e)||Ma("Cannot "+n);var A=(e,t,n)=>(Yr(e,t,"read from private field"),n?n.call(e):t.get(e)),se=(e,t,n)=>t.has(e)?Ma("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Q=(e,t,n,r)=>(Yr(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Ue=(e,t,n)=>(Yr(e,t,"access private method"),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();const to=!1;var fa=Array.isArray,zs=Array.prototype.indexOf,va=Array.from,ea=Object.defineProperty,xn=Object.getOwnPropertyDescriptor,no=Object.getOwnPropertyDescriptors,Hs=Object.prototype,Us=Array.prototype,ha=Object.getPrototypeOf,Ia=Object.isExtensible;const ie=()=>{};function js(e){return typeof e?.then=="function"}function Vs(e){return e()}function Cr(e){for(var t=0;t<e.length;t++)e[t]()}function qs(){var e,t,n=new Promise((r,a)=>{e=r,t=a});return{promise:n,resolve:e,reject:t}}function Ws(e,t,n=!1){return e===void 0?n?t():t:e}const Je=2,ga=4,Br=8,Fn=16,At=32,vn=64,_a=128,rt=256,Pr=512,ze=1024,at=2048,Xt=4096,ct=8192,hn=16384,pa=32768,zn=65536,Oa=1<<17,Ys=1<<18,Hn=1<<19,ro=1<<20,ta=1<<21,ma=1<<22,ln=1<<23,cn=Symbol("$state"),Ks=Symbol("legacy props"),Gs=Symbol(""),wa=new class extends Error{constructor(){super(...arguments);kn(this,"name","StaleReactionError");kn(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function ao(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Xs(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Zs(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Js(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function $s(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Qs(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function ei(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function ti(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function ni(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function ri(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function ai(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const Lr=1,Mr=2,oo=4,oi=8,si=16,ii=1,li=2,ci=4,ui=8,di=16,fi=1,vi=2,xe=Symbol(),hi="http://www.w3.org/1999/xhtml";let gi=!1;function so(e){return e===this.v}function _i(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function io(e){return!_i(e,this.v)}let Un=!1,pi=!1;function mi(){Un=!0}let ve=null;function Gt(e){ve=e}function Ee(e){return lo().get(e)}function Ce(e,t){return lo().set(e,t),t}function K(e,t=!1,n){ve={p:ve,c:null,e:null,s:e,x:null,l:Un&&!t?{s:null,u:null,$:[]}:null}}function G(e){var t=ve,n=t.e;if(n!==null){t.e=null;for(var r of n)Eo(r)}return e!==void 0&&(t.x=e),ve=t.p,e??{}}function jn(){return!Un||ve!==null&&ve.l===null}function lo(e){return ve===null&&ao(),ve.c??(ve.c=new Map(wi(ve)||void 0))}function wi(e){let t=e.p;for(;t!==null;){const n=t.c;if(n!==null)return n;t=t.p}return null}let qt=[],xr=[];function co(){var e=qt;qt=[],Cr(e)}function yi(){var e=xr;xr=[],Cr(e)}function Si(){return qt.length>0||xr.length>0}function gn(e){if(qt.length===0&&!Jn){var t=qt;queueMicrotask(()=>{t===qt&&co()})}qt.push(e)}function bi(){qt.length>0&&co(),xr.length>0&&yi()}const ki=new WeakMap;function uo(e){var t=re;if(t===null)return ne.f|=ln,e;if((t.f&pa)===0){if((t.f&_a)===0)throw!t.parent&&e instanceof Error&&fo(e),e;t.b.error(e)}else Mn(e,t)}function Mn(e,t){for(;t!==null;){if((t.f&_a)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e instanceof Error&&fo(e),e}function fo(e){const t=ki.get(e);t&&(ea(e,"message",{value:t.message}),ea(e,"stack",{value:t.stack}))}const Kr=new Set;let ge=null,yr=null,na=new Set,fn=[],Ir=null,ra=!1,Jn=!1;var rr,An,zt,ar,or,nn,Bn,rn,Ht,Ln,sr,ir,ut,vo,Sr,aa;const Tr=class Tr{constructor(){se(this,ut);kn(this,"current",new Map);se(this,rr,new Map);se(this,An,new Set);se(this,zt,0);se(this,ar,null);se(this,or,!1);se(this,nn,[]);se(this,Bn,[]);se(this,rn,[]);se(this,Ht,[]);se(this,Ln,[]);se(this,sr,[]);se(this,ir,[]);kn(this,"skipped_effects",new Set)}process(t){fn=[],yr=null;for(const a of t)Ue(this,ut,vo).call(this,a);if(A(this,nn).length===0&&A(this,zt)===0){Ue(this,ut,aa).call(this);var n=A(this,rn),r=A(this,Ht);Q(this,rn,[]),Q(this,Ht,[]),Q(this,Ln,[]),yr=ge,ge=null,Ra(n),Ra(r),ge===null?ge=this:Kr.delete(this),A(this,ar)?.resolve()}else Ue(this,ut,Sr).call(this,A(this,rn)),Ue(this,ut,Sr).call(this,A(this,Ht)),Ue(this,ut,Sr).call(this,A(this,Ln));for(const a of A(this,nn))Nn(a);for(const a of A(this,Bn))Nn(a);Q(this,nn,[]),Q(this,Bn,[])}capture(t,n){A(this,rr).has(t)||A(this,rr).set(t,n),this.current.set(t,t.v)}activate(){ge=this}deactivate(){ge=null,yr=null;for(const t of na)if(na.delete(t),t(),ge!==null)break}neuter(){Q(this,or,!0)}flush(){fn.length>0?go():Ue(this,ut,aa).call(this),ge===this&&(A(this,zt)===0&&Kr.delete(this),this.deactivate())}increment(){Q(this,zt,A(this,zt)+1)}decrement(){if(Q(this,zt,A(this,zt)-1),A(this,zt)===0){for(const t of A(this,sr))Ye(t,at),In(t);for(const t of A(this,ir))Ye(t,Xt),In(t);Q(this,rn,[]),Q(this,Ht,[]),this.flush()}else this.deactivate()}add_callback(t){A(this,An).add(t)}settled(){return(A(this,ar)??Q(this,ar,qs())).promise}static ensure(){if(ge===null){const t=ge=new Tr;Kr.add(ge),Jn||Tr.enqueue(()=>{ge===t&&t.flush()})}return ge}static enqueue(t){gn(t)}};rr=new WeakMap,An=new WeakMap,zt=new WeakMap,ar=new WeakMap,or=new WeakMap,nn=new WeakMap,Bn=new WeakMap,rn=new WeakMap,Ht=new WeakMap,Ln=new WeakMap,sr=new WeakMap,ir=new WeakMap,ut=new WeakSet,vo=function(t){t.f^=ze;for(var n=t.first;n!==null;){var r=n.f,a=(r&(At|vn))!==0,o=a&&(r&ze)!==0,s=o||(r&ct)!==0||this.skipped_effects.has(n);if(!s&&n.fn!==null){if(a)n.f^=ze;else if((r&ga)!==0)A(this,Ht).push(n);else if((r&ze)===0)if((r&ma)!==0){var l=n.b?.is_pending()?A(this,Bn):A(this,nn);l.push(n)}else zr(n)&&((n.f&Fn)!==0&&A(this,Ln).push(n),Nn(n));var c=n.first;if(c!==null){n=c;continue}}var u=n.parent;for(n=n.next;n===null&&u!==null;)n=u.next,u=u.parent}},Sr=function(t){for(const n of t)((n.f&at)!==0?A(this,sr):A(this,ir)).push(n),Ye(n,ze);t.length=0},aa=function(){if(!A(this,or))for(const t of A(this,An))t();A(this,An).clear()};let Yt=Tr;function ho(e){var t=Jn;Jn=!0;try{for(var n;;){if(bi(),fn.length===0&&!Si()&&(ge?.flush(),fn.length===0))return Ir=null,n;go()}}finally{Jn=t}}function go(){var e=Tn;ra=!0;try{var t=0;for(Ha(!0);fn.length>0;){var n=Yt.ensure();if(t++>1e3){var r,a;Ei()}n.process(fn),Kt.clear()}}finally{ra=!1,Ha(e),Ir=null}}function Ei(){try{Qs()}catch(e){Mn(e,Ir)}}let tn=null;function Ra(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if((r.f&(hn|ct))===0&&zr(r)&&(tn=[],Nn(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?xo(r):r.fn=null),tn?.length>0)){Kt.clear();for(const a of tn)Nn(a);tn=[]}}tn=null}}function In(e){for(var t=Ir=e;t.parent!==null;){t=t.parent;var n=t.f;if(ra&&t===re&&(n&Fn)!==0)return;if((n&(vn|At))!==0){if((n&ze)===0)return;t.f^=ze}}fn.push(t)}function Ci(e){let t=0,n=Nt(0),r;return()=>{Ui()&&(i(n),Fr(()=>(t===0&&(r=yt(()=>e(()=>$n(n)))),t+=1,()=>{gn(()=>{t-=1,t===0&&(r?.(),r=void 0,$n(n))})})))}}var Pi=zn|Hn|_a;function xi(e,t,n){new Di(e,t,n)}var it,tt,da,_t,an,pt,nt,We,mt,Ut,on,jt,sn,Vt,Nr,Ar,Ve,Ti,Ni,br,kr,oa;class Di{constructor(t,n,r){se(this,Ve);kn(this,"parent");se(this,it,!1);se(this,tt);se(this,da,null);se(this,_t);se(this,an);se(this,pt);se(this,nt,null);se(this,We,null);se(this,mt,null);se(this,Ut,null);se(this,on,0);se(this,jt,0);se(this,sn,!1);se(this,Vt,null);se(this,Nr,()=>{A(this,Vt)&&xt(A(this,Vt),A(this,on))});se(this,Ar,Ci(()=>(Q(this,Vt,Nt(A(this,on))),()=>{Q(this,Vt,null)})));Q(this,tt,t),Q(this,_t,n),Q(this,an,r),this.parent=re.b,Q(this,it,!!A(this,_t).pending),Q(this,pt,Vn(()=>{re.b=this;{try{Q(this,nt,Fe(()=>r(A(this,tt))))}catch(a){this.error(a)}A(this,jt)>0?Ue(this,Ve,kr).call(this):Q(this,it,!1)}},Pi))}is_pending(){return A(this,it)||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!A(this,_t).pending}update_pending_count(t){Ue(this,Ve,oa).call(this,t),Q(this,on,A(this,on)+t),na.add(A(this,Nr))}get_effect_pending(){return A(this,Ar).call(this),i(A(this,Vt))}error(t){var n=A(this,_t).onerror;let r=A(this,_t).failed;if(A(this,sn)||!n&&!r)throw t;A(this,nt)&&(Ze(A(this,nt)),Q(this,nt,null)),A(this,We)&&(Ze(A(this,We)),Q(this,We,null)),A(this,mt)&&(Ze(A(this,mt)),Q(this,mt,null));var a=!1,o=!1;const s=()=>{if(a){return}a=!0,o&&ai(),Yt.ensure(),Q(this,on,0),A(this,mt)!==null&&wt(A(this,mt),()=>{Q(this,mt,null)}),Q(this,it,this.has_pending_snippet()),Q(this,nt,Ue(this,Ve,br).call(this,()=>(Q(this,sn,!1),Fe(()=>A(this,an).call(this,A(this,tt)))))),A(this,jt)>0?Ue(this,Ve,kr).call(this):Q(this,it,!1)};var l=ne;try{He(null),o=!0,n?.(t,s),o=!1}catch(c){Mn(c,A(this,pt)&&A(this,pt).parent)}finally{He(l)}r&&gn(()=>{Q(this,mt,Ue(this,Ve,br).call(this,()=>{Q(this,sn,!0);try{return Fe(()=>{r(A(this,tt),()=>t,()=>s)})}catch(c){return Mn(c,A(this,pt).parent),null}finally{Q(this,sn,!1)}}))})}}it=new WeakMap,tt=new WeakMap,da=new WeakMap,_t=new WeakMap,an=new WeakMap,pt=new WeakMap,nt=new WeakMap,We=new WeakMap,mt=new WeakMap,Ut=new WeakMap,on=new WeakMap,jt=new WeakMap,sn=new WeakMap,Vt=new WeakMap,Nr=new WeakMap,Ar=new WeakMap,Ve=new WeakSet,Ti=function(){try{Q(this,nt,Fe(()=>A(this,an).call(this,A(this,tt))))}catch(t){this.error(t)}Q(this,it,!1)},Ni=function(){const t=A(this,_t).pending;t&&(Q(this,We,Fe(()=>t(A(this,tt)))),Yt.enqueue(()=>{Q(this,nt,Ue(this,Ve,br).call(this,()=>(Yt.ensure(),Fe(()=>A(this,an).call(this,A(this,tt)))))),A(this,jt)>0?Ue(this,Ve,kr).call(this):(wt(A(this,We),()=>{Q(this,We,null)}),Q(this,it,!1))}))},br=function(t){var n=re,r=ne,a=ve;ot(A(this,pt)),He(A(this,pt)),Gt(A(this,pt).ctx);try{return t()}catch(o){return uo(o),null}finally{ot(n),He(r),Gt(a)}},kr=function(){const t=A(this,_t).pending;A(this,nt)!==null&&(Q(this,Ut,document.createDocumentFragment()),Ai(A(this,nt),A(this,Ut))),A(this,We)===null&&Q(this,We,Fe(()=>t(A(this,tt))))},oa=function(t){var n;if(!this.has_pending_snippet()){this.parent&&Ue(n=this.parent,Ve,oa).call(n,t);return}Q(this,jt,A(this,jt)+t),A(this,jt)===0&&(Q(this,it,!1),A(this,We)&&wt(A(this,We),()=>{Q(this,We,null)}),A(this,Ut)&&(A(this,tt).before(A(this,Ut)),Q(this,Ut,null)))};function Ai(e,t){for(var n=e.nodes_start,r=e.nodes_end;n!==null;){var a=n===r?null:cr(n);t.append(n),n=a}}function Bi(e,t,n){const r=jn()?lr:Or;if(t.length===0){n(e.map(r));return}var a=ge,o=re,s=Li();Promise.all(t.map(l=>Mi(l))).then(l=>{a?.activate(),s();try{n([...e.map(r),...l])}catch(c){(o.f&hn)===0&&Mn(c,o)}a?.deactivate(),_o()}).catch(l=>{Mn(l,o)})}function Li(){var e=re,t=ne,n=ve,r=ge;return function(){ot(e),He(t),Gt(n),r?.activate()}}function _o(){ot(null),He(null),Gt(null)}function lr(e){var t=Je|at,n=ne!==null&&(ne.f&Je)!==0?ne:null;return re===null||n!==null&&(n.f&rt)!==0?t|=rt:re.f|=Hn,{ctx:ve,deps:null,effects:null,equals:so,f:t,fn:e,reactions:null,rv:0,v:xe,wv:0,parent:n??re,ac:null}}function Mi(e,t){let n=re;n===null&&Xs();var r=n.b,a=void 0,o=Nt(xe),s=null,l=!ne;return Yi(()=>{try{var c=e();s&&Promise.resolve(c).catch(()=>{})}catch(h){c=Promise.reject(h)}var u=()=>c;a=s?.then(u,u)??Promise.resolve(c),s=a;var d=ge,v=r.is_pending();l&&(r.update_pending_count(1),v||d.increment());const g=(h,f=void 0)=>{s=null,v||d.activate(),f?f!==wa&&(o.f|=ln,xt(o,f)):((o.f&ln)!==0&&(o.f^=ln),xt(o,h)),l&&(r.update_pending_count(-1),v||d.decrement()),_o()};if(a.then(g,h=>g(null,h||"unknown")),d)return()=>{queueMicrotask(()=>d.neuter())}}),new Promise(c=>{function u(d){function v(){d===a?c(o):u(a)}d.then(v,v)}u(a)})}function R(e){const t=lr(e);return No(t),t}function Or(e){const t=lr(e);return t.equals=io,t}function po(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)Ze(t[n])}}function Ii(e){for(var t=e.parent;t!==null;){if((t.f&Je)===0)return t;t=t.parent}return null}function ya(e){var t,n=re;ot(Ii(e));try{po(e),t=Mo(e)}finally{ot(n)}return t}function mo(e){var t=ya(e);if(e.equals(t)||(e.v=t,e.wv=Bo()),!pn){var n=(Wt||(e.f&rt)!==0)&&e.deps!==null?Xt:ze;Ye(e,n)}}const Kt=new Map;function Nt(e,t){var n={f:0,v:e,reactions:null,equals:so,rv:0,wv:0};return n}function V(e,t){const n=Nt(e);return No(n),n}function sa(e,t=!1,n=!0){var a;const r=Nt(e);return t||(r.equals=io),Un&&n&&ve!==null&&ve.l!==null&&((a=ve.l).s??(a.s=[])).push(r),r}function C(e,t,n=!1){ne!==null&&(!lt||(ne.f&Oa)!==0)&&jn()&&(ne.f&(Je|Fn|ma|Oa))!==0&&!Dt?.includes(e)&&ri();let r=n?Ae(t):t;return xt(e,r)}function xt(e,t){if(!e.equals(t)){var n=e.v;pn?Kt.set(e,t):Kt.set(e,n),e.v=t;var r=Yt.ensure();r.capture(e,n),(e.f&Je)!==0&&((e.f&at)!==0&&ya(e),Ye(e,(e.f&rt)===0?ze:Xt)),e.wv=Bo(),wo(e,at),jn()&&re!==null&&(re.f&ze)!==0&&(re.f&(At|vn))===0&&(et===null?Xi([e]):et.push(e))}return t}function $n(e){C(e,e.v+1)}function wo(e,t){var n=e.reactions;if(n!==null)for(var r=jn(),a=n.length,o=0;o<a;o++){var s=n[o],l=s.f;if(!(!r&&s===re)){var c=(l&at)===0;c&&Ye(s,t),(l&Je)!==0?wo(s,Xt):c&&((l&Fn)!==0&&tn!==null&&tn.push(s),In(s))}}}function Ae(e){if(typeof e!="object"||e===null||cn in e)return e;const t=ha(e);if(t!==Hs&&t!==Us)return e;var n=new Map,r=fa(e),a=V(0),o=un,s=l=>{if(un===o)return l();var c=ne,u=un;He(null),ja(o);var d=l();return He(c),ja(u),d};return r&&n.set("length",V(e.length)),new Proxy(e,{defineProperty(l,c,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&ti();var d=n.get(c);return d===void 0?d=s(()=>{var v=V(u.value);return n.set(c,v),v}):C(d,u.value,!0),!0},deleteProperty(l,c){var u=n.get(c);if(u===void 0){if(c in l){const d=s(()=>V(xe));n.set(c,d),$n(a)}}else C(u,xe),$n(a);return!0},get(l,c,u){if(c===cn)return e;var d=n.get(c),v=c in l;if(d===void 0&&(!v||xn(l,c)?.writable)&&(d=s(()=>{var h=Ae(v?l[c]:xe),f=V(h);return f}),n.set(c,d)),d!==void 0){var g=i(d);return g===xe?void 0:g}return Reflect.get(l,c,u)},getOwnPropertyDescriptor(l,c){var u=Reflect.getOwnPropertyDescriptor(l,c);if(u&&"value"in u){var d=n.get(c);d&&(u.value=i(d))}else if(u===void 0){var v=n.get(c),g=v?.v;if(v!==void 0&&g!==xe)return{enumerable:!0,configurable:!0,value:g,writable:!0}}return u},has(l,c){if(c===cn)return!0;var u=n.get(c),d=u!==void 0&&u.v!==xe||Reflect.has(l,c);if(u!==void 0||re!==null&&(!d||xn(l,c)?.writable)){u===void 0&&(u=s(()=>{var g=d?Ae(l[c]):xe,h=V(g);return h}),n.set(c,u));var v=i(u);if(v===xe)return!1}return d},set(l,c,u,d){var v=n.get(c),g=c in l;if(r&&c==="length")for(var h=u;h<v.v;h+=1){var f=n.get(h+"");f!==void 0?C(f,xe):h in l&&(f=s(()=>V(xe)),n.set(h+"",f))}if(v===void 0)(!g||xn(l,c)?.writable)&&(v=s(()=>V(void 0)),C(v,Ae(u)),n.set(c,v));else{g=v.v!==xe;var p=s(()=>Ae(u));C(v,p)}var _=Reflect.getOwnPropertyDescriptor(l,c);if(_?.set&&_.set.call(d,u),!g){if(r&&typeof c=="string"){var S=n.get("length"),E=Number(c);Number.isInteger(E)&&E>=S.v&&C(S,E+1)}$n(a)}return!0},ownKeys(l){i(a);var c=Reflect.ownKeys(l).filter(v=>{var g=n.get(v);return g===void 0||g.v!==xe});for(var[u,d]of n)d.v!==xe&&!(u in l)&&c.push(u);return c},setPrototypeOf(){ni()}})}var Fa,yo,So,bo;function Oi(){if(Fa===void 0){Fa=window,yo=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;So=xn(t,"firstChild").get,bo=xn(t,"nextSibling").get,Ia(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Ia(n)&&(n.__t=void 0)}}function _n(e=""){return document.createTextNode(e)}function On(e){return So.call(e)}function cr(e){return bo.call(e)}function T(e,t){return On(e)}function B(e,t=!1){{var n=On(e);return n instanceof Comment&&n.data===""?cr(n):n}}function j(e,t=1,n=!1){let r=e;for(;t--;)r=cr(r);return r}function Ri(e){e.textContent=""}function Sa(){return!1}let za=!1;function Fi(){za||(za=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function Rr(e){var t=ne,n=re;He(null),ot(null);try{return e()}finally{He(t),ot(n)}}function zi(e,t,n,r=n){e.addEventListener(t,()=>Rr(n));const a=e.__on_r;a?e.__on_r=()=>{a(),r(!0)}:e.__on_r=()=>r(!0),Fi()}function ko(e){re===null&&ne===null&&$s(),ne!==null&&(ne.f&rt)!==0&&re===null&&Js(),pn&&Zs()}function Hi(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function bt(e,t,n,r=!0){var a=re;a!==null&&(a.f&ct)!==0&&(e|=ct);var o={ctx:ve,deps:null,nodes_start:null,nodes_end:null,f:e|at,first:null,fn:t,last:null,next:null,parent:a,b:a&&a.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{Nn(o),o.f|=pa}catch(c){throw Ze(o),c}else t!==null&&In(o);if(r){var s=o;if(n&&s.deps===null&&s.teardown===null&&s.nodes_start===null&&s.first===s.last&&(s.f&Hn)===0&&(s=s.first),s!==null&&(s.parent=a,a!==null&&Hi(s,a),ne!==null&&(ne.f&Je)!==0&&(e&vn)===0)){var l=ne;(l.effects??(l.effects=[])).push(s)}}return o}function Ui(){return ne!==null&&!lt}function ji(e){const t=bt(Br,null,!1);return Ye(t,ze),t.teardown=e,t}function De(e){ko();var t=re.f,n=!ne&&(t&At)!==0&&(t&pa)===0;if(n){var r=ve;(r.e??(r.e=[])).push(e)}else return Eo(e)}function Eo(e){return bt(ga|ro,e,!1)}function Vi(e){return ko(),bt(Br|ro,e,!0)}function qi(e){Yt.ensure();const t=bt(vn|Hn,e,!0);return(n={})=>new Promise(r=>{n.outro?wt(t,()=>{Ze(t),r(void 0)}):(Ze(t),r(void 0))})}function Wi(e){return bt(ga,e,!1)}function Yi(e){return bt(ma|Hn,e,!0)}function Fr(e,t=0){return bt(Br|t,e,!0)}function le(e,t=[],n=[]){Bi(t,n,r=>{bt(Br,()=>e(...r.map(i)),!0)})}function Vn(e,t=0){var n=bt(Fn|t,e,!0);return n}function Fe(e,t=!0){return bt(At|Hn,e,!0,t)}function Co(e){var t=e.teardown;if(t!==null){const n=pn,r=ne;Ua(!0),He(null);try{t.call(null)}finally{Ua(n),He(r)}}}function Po(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const a=n.ac;a!==null&&Rr(()=>{a.abort(wa)});var r=n.next;(n.f&vn)!==0?n.parent=null:Ze(n,t),n=r}}function Ki(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&At)===0&&Ze(t),t=n}}function Ze(e,t=!0){var n=!1;(t||(e.f&Ys)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(Gi(e.nodes_start,e.nodes_end),n=!0),Po(e,t&&!n),Dr(e,0),Ye(e,hn);var r=e.transitions;if(r!==null)for(const o of r)o.stop();Co(e);var a=e.parent;a!==null&&a.first!==null&&xo(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function Gi(e,t){for(;e!==null;){var n=e===t?null:cr(e);e.remove(),e=n}}function xo(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function wt(e,t){var n=[];ba(e,n,!0),Do(n,()=>{Ze(e),t&&t()})}function Do(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var a of e)a.out(r)}else t()}function ba(e,t,n){if((e.f&ct)===0){if(e.f^=ct,e.transitions!==null)for(const s of e.transitions)(s.is_global||n)&&t.push(s);for(var r=e.first;r!==null;){var a=r.next,o=(r.f&zn)!==0||(r.f&At)!==0;ba(r,t,o?n:!1),r=a}}}function Dn(e){To(e,!0)}function To(e,t){if((e.f&ct)!==0){e.f^=ct,(e.f&ze)===0&&(Ye(e,at),In(e));for(var n=e.first;n!==null;){var r=n.next,a=(n.f&zn)!==0||(n.f&At)!==0;To(n,a?t:!1),n=r}if(e.transitions!==null)for(const o of e.transitions)(o.is_global||t)&&o.in()}}let Tn=!1;function Ha(e){Tn=e}let pn=!1;function Ua(e){pn=e}let ne=null,lt=!1;function He(e){ne=e}let re=null;function ot(e){re=e}let Dt=null;function No(e){ne!==null&&(Dt===null?Dt=[e]:Dt.push(e))}let je=null,Ge=0,et=null;function Xi(e){et=e}let Ao=1,Qn=0,un=Qn;function ja(e){un=e}let Wt=!1;function Bo(){return++Ao}function zr(e){var t=e.f;if((t&at)!==0)return!0;if((t&Xt)!==0){var n=e.deps,r=(t&rt)!==0;if(n!==null){var a,o,s=(t&Pr)!==0,l=r&&re!==null&&!Wt,c=n.length;if((s||l)&&(re===null||(re.f&hn)===0)){var u=e,d=u.parent;for(a=0;a<c;a++)o=n[a],(s||!o?.reactions?.includes(u))&&(o.reactions??(o.reactions=[])).push(u);s&&(u.f^=Pr),l&&d!==null&&(d.f&rt)===0&&(u.f^=rt)}for(a=0;a<c;a++)if(o=n[a],zr(o)&&mo(o),o.wv>e.wv)return!0}(!r||re!==null&&!Wt)&&Ye(e,ze)}return!1}function Lo(e,t,n=!0){var r=e.reactions;if(r!==null&&!Dt?.includes(e))for(var a=0;a<r.length;a++){var o=r[a];(o.f&Je)!==0?Lo(o,t,!1):t===o&&(n?Ye(o,at):(o.f&ze)!==0&&Ye(o,Xt),In(o))}}function Mo(e){var p;var t=je,n=Ge,r=et,a=ne,o=Wt,s=Dt,l=ve,c=lt,u=un,d=e.f;je=null,Ge=0,et=null,Wt=(d&rt)!==0&&(lt||!Tn||ne===null),ne=(d&(At|vn))===0?e:null,Dt=null,Gt(e.ctx),lt=!1,un=++Qn,e.ac!==null&&(Rr(()=>{e.ac.abort(wa)}),e.ac=null);try{e.f|=ta;var v=e.fn,g=v(),h=e.deps;if(je!==null){var f;if(Dr(e,Ge),h!==null&&Ge>0)for(h.length=Ge+je.length,f=0;f<je.length;f++)h[Ge+f]=je[f];else e.deps=h=je;if(!Wt||(d&Je)!==0&&e.reactions!==null)for(f=Ge;f<h.length;f++)((p=h[f]).reactions??(p.reactions=[])).push(e)}else h!==null&&Ge<h.length&&(Dr(e,Ge),h.length=Ge);if(jn()&&et!==null&&!lt&&h!==null&&(e.f&(Je|Xt|at))===0)for(f=0;f<et.length;f++)Lo(et[f],e);return a!==null&&a!==e&&(Qn++,et!==null&&(r===null?r=et:r.push(...et))),(e.f&ln)!==0&&(e.f^=ln),g}catch(_){return uo(_)}finally{e.f^=ta,je=t,Ge=n,et=r,ne=a,Wt=o,Dt=s,Gt(l),lt=c,un=u}}function Zi(e,t){let n=t.reactions;if(n!==null){var r=zs.call(n,e);if(r!==-1){var a=n.length-1;a===0?n=t.reactions=null:(n[r]=n[a],n.pop())}}n===null&&(t.f&Je)!==0&&(je===null||!je.includes(t))&&(Ye(t,Xt),(t.f&(rt|Pr))===0&&(t.f^=Pr),po(t),Dr(t,0))}function Dr(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)Zi(e,n[r])}function Nn(e){var t=e.f;if((t&hn)===0){Ye(e,ze);var n=re,r=Tn;re=e,Tn=!0;try{(t&Fn)!==0?Ki(e):Po(e),Co(e);var a=Mo(e);e.teardown=typeof a=="function"?a:null,e.wv=Ao;var o;to&&pi&&(e.f&at)!==0&&e.deps}finally{Tn=r,re=n}}}async function Io(){await Promise.resolve(),ho()}function i(e){var t=e.f,n=(t&Je)!==0;if(ne!==null&&!lt){var r=re!==null&&(re.f&hn)!==0;if(!r&&!Dt?.includes(e)){var a=ne.deps;if((ne.f&ta)!==0)e.rv<Qn&&(e.rv=Qn,je===null&&a!==null&&a[Ge]===e?Ge++:je===null?je=[e]:(!Wt||!je.includes(e))&&je.push(e));else{(ne.deps??(ne.deps=[])).push(e);var o=e.reactions;o===null?e.reactions=[ne]:o.includes(ne)||o.push(ne)}}}else if(n&&e.deps===null&&e.effects===null){var s=e,l=s.parent;l!==null&&(l.f&rt)===0&&(s.f^=rt)}if(pn){if(Kt.has(e))return Kt.get(e);if(n){s=e;var c=s.v;return((s.f&ze)===0&&s.reactions!==null||Oo(s))&&(c=ya(s)),Kt.set(s,c),c}}else n&&(s=e,zr(s)&&mo(s));if((e.f&ln)!==0)throw e.v;return e.v}function Oo(e){if(e.v===xe)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(Kt.has(t)||(t.f&Je)!==0&&Oo(t))return!0;return!1}function yt(e){var t=lt;try{return lt=!0,e()}finally{lt=t}}const Ji=-7169;function Ye(e,t){e.f=e.f&Ji|t}function $i(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(cn in e)ia(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&cn in n&&ia(n)}}}function ia(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{ia(e[r],t)}catch{}const n=ha(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=no(n);for(let a in r){const o=r[a].get;if(o)try{o.call(e)}catch{}}}}}const Qi=["touchstart","touchmove"];function el(e){return Qi.includes(e)}const Ro=new Set,la=new Set;function tl(e,t,n,r={}){function a(o){if(r.capture||Yn.call(t,o),!o.cancelBubble)return Rr(()=>n?.call(this,o))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?gn(()=>{t.addEventListener(e,a,r)}):t.addEventListener(e,a,r),a}function ka(e,t,n,r,a){var o={capture:r,passive:a},s=tl(e,t,n,o);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&ji(()=>{t.removeEventListener(e,s,o)})}function $e(e){for(var t=0;t<e.length;t++)Ro.add(e[t]);for(var n of la)n(e)}let Va=null;function Yn(e){var t=this,n=t.ownerDocument,r=e.type,a=e.composedPath?.()||[],o=a[0]||e.target;Va=e;var s=0,l=Va===e&&e.__root;if(l){var c=a.indexOf(l);if(c!==-1&&(t===document||t===window)){e.__root=t;return}var u=a.indexOf(t);if(u===-1)return;c<=u&&(s=c)}if(o=a[s]||e.target,o!==t){ea(e,"currentTarget",{configurable:!0,get(){return o||n}});var d=ne,v=re;He(null),ot(null);try{for(var g,h=[];o!==null;){var f=o.assignedSlot||o.parentNode||o.host||null;try{var p=o["__"+r];if(p!=null&&(!o.disabled||e.target===o))if(fa(p)){var[_,...S]=p;_.apply(o,[e,...S])}else p.call(o,e)}catch(E){g?h.push(E):g=E}if(e.cancelBubble||f===t||f===null)break;o=f}if(g){for(let E of h)queueMicrotask(()=>{throw E});throw g}}finally{e.__root=t,delete e.currentTarget,He(d),ot(v)}}}function Fo(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function er(e,t){var n=re;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function q(e,t){var n=(t&fi)!==0,r=(t&vi)!==0,a,o=!e.startsWith("<!>");return()=>{a===void 0&&(a=Fo(o?e:"<!>"+e),n||(a=On(a)));var s=r||yo?document.importNode(a,!0):a.cloneNode(!0);if(n){var l=On(s),c=s.lastChild;er(l,c)}else er(s,s);return s}}function nl(e,t,n="svg"){var r=!e.startsWith("<!>"),a=`<${n}>${r?e:"<!>"+e}</${n}>`,o;return()=>{if(!o){var s=Fo(a),l=On(s);o=On(l)}var c=o.cloneNode(!0);return er(c,c),c}}function rl(e,t){return nl(e,t,"svg")}function Be(e=""){{var t=_n(e+"");return er(t,t),t}}function z(){var e=document.createDocumentFragment(),t=document.createComment(""),n=_n();return e.append(t,n),er(t,n),e}function w(e,t){e!==null&&e.before(t)}function xd(){var e;return(e=window.__svelte??(window.__svelte={})).uid??(e.uid=1),`c${window.__svelte.uid++}`}function tr(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function al(e,t){return ol(e,t)}const En=new Map;function ol(e,{target:t,anchor:n,props:r={},events:a,context:o,intro:s=!0}){Oi();var l=new Set,c=v=>{for(var g=0;g<v.length;g++){var h=v[g];if(!l.has(h)){l.add(h);var f=el(h);t.addEventListener(h,Yn,{passive:f});var p=En.get(h);p===void 0?(document.addEventListener(h,Yn,{passive:f}),En.set(h,1)):En.set(h,p+1)}}};c(va(Ro)),la.add(c);var u=void 0,d=qi(()=>{var v=n??t.appendChild(_n());return xi(v,{pending:()=>{}},g=>{if(o){K({});var h=ve;h.c=o}a&&(r.$$events=a),u=e(g,r)||{},o&&G()}),()=>{for(var g of l){t.removeEventListener(g,Yn);var h=En.get(g);--h===0?(document.removeEventListener(g,Yn),En.delete(g)):En.set(g,h)}la.delete(c),v!==n&&v.parentNode?.removeChild(v)}});return sl.set(u,d),u}let sl=new WeakMap;const Gr=0,mr=1,Xr=2;function zo(e,t,n,r,a){var o=e,s=jn(),l=ve,c=xe,u,d,v,g=s?Nt(void 0):sa(void 0,!1,!1),h=s?Nt(void 0):sa(void 0,!1,!1),f=!1;function p(S,E){f=!0,E&&(ot(_),He(_),Gt(l));try{S===Gr&&n&&(u?Dn(u):u=Fe(()=>n(o))),S===mr&&r&&(d?Dn(d):d=Fe(()=>r(o,g))),S===Xr&&a&&(v?Dn(v):v=Fe(()=>a(o,h))),S!==Gr&&u&&wt(u,()=>u=null),S!==mr&&d&&wt(d,()=>d=null),S!==Xr&&v&&wt(v,()=>v=null)}finally{E&&(Gt(null),He(null),ot(null),ho())}}var _=Vn(()=>{if(c!==(c=t())){if(js(c)){var S=c;f=!1,S.then(E=>{S===c&&(xt(g,E),p(mr,!0))},E=>{if(S===c&&(xt(h,E),p(Xr,!0),!a))throw h.v}),gn(()=>{f||p(Gr,!0)})}else xt(g,c),p(mr,!1);return()=>c=xe}})}function Y(e,t,n=!1){var r=e,a=null,o=null,s=xe,l=n?zn:0,c=!1;const u=(h,f=!0)=>{c=!0,g(f,h)};var d=null;function v(){d!==null&&(d.lastChild.remove(),r.before(d),d=null);var h=s?a:o,f=s?o:a;h&&Dn(h),f&&wt(f,()=>{s?o=null:a=null})}const g=(h,f)=>{if(s!==(s=h)){var p=Sa(),_=r;if(p&&(d=document.createDocumentFragment(),d.append(_=_n())),s?a??(a=f&&Fe(()=>f(_))):o??(o=f&&Fe(()=>f(_))),p){var S=ge,E=s?a:o,k=s?o:a;E&&S.skipped_effects.delete(E),k&&S.skipped_effects.add(k),S.add_callback(v)}else v()}};Vn(()=>{c=!1,t(u),c||g(null,null)},l)}function _e(e,t){Fr(()=>{var n=t();for(var r in n){var a=n[r];a?e.style.setProperty(r,a):e.style.removeProperty(r)}})}function il(e,t,n){for(var r=e.items,a=[],o=t.length,s=0;s<o;s++)ba(t[s].e,a,!0);var l=o>0&&a.length===0&&n!==null;if(l){var c=n.parentNode;Ri(c),c.append(n),r.clear(),gt(e,t[0].prev,t[o-1].next)}Do(a,()=>{for(var u=0;u<o;u++){var d=t[u];l||(r.delete(d.k),gt(e,d.prev,d.next)),Ze(d.e,!l)}})}function Hr(e,t,n,r,a,o=null){var s=e,l={flags:t,items:new Map,first:null},c=(t&oo)!==0;if(c){var u=e;s=u.appendChild(_n())}var d=null,v=!1,g=new Map,h=Or(()=>{var S=n();return fa(S)?S:S==null?[]:va(S)}),f,p;function _(){ll(p,f,l,g,s,a,t,r,n),o!==null&&(f.length===0?d?Dn(d):d=Fe(()=>o(s)):d!==null&&wt(d,()=>{d=null}))}Vn(()=>{p??(p=re),f=i(h);var S=f.length;if(!(v&&S===0)){v=S===0;var E,k,D,x;if(Sa()){var y=new Set,m=ge;for(k=0;k<S;k+=1){D=f[k],x=r(D,k);var b=l.items.get(x)??g.get(x);b?(t&(Lr|Mr))!==0&&Ho(b,D,k,t):(E=Uo(null,l,null,null,D,x,k,a,t,n,!0),g.set(x,E)),y.add(x)}for(const[M,L]of l.items)y.has(M)||m.skipped_effects.add(L.e);m.add_callback(_)}else _();i(h)}})}function ll(e,t,n,r,a,o,s,l,c){var u=(s&oi)!==0,d=(s&(Lr|Mr))!==0,v=t.length,g=n.items,h=n.first,f=h,p,_=null,S,E=[],k=[],D,x,y,m;if(u)for(m=0;m<v;m+=1)D=t[m],x=l(D,m),y=g.get(x),y!==void 0&&(y.a?.measure(),(S??(S=new Set)).add(y));for(m=0;m<v;m+=1){if(D=t[m],x=l(D,m),y=g.get(x),y===void 0){var b=r.get(x);if(b!==void 0){r.delete(x),g.set(x,b);var M=_?_.next:f;gt(n,_,b),gt(n,b,M),Zr(b,M,a),_=b}else{var L=f?f.e.nodes_start:a;_=Uo(L,n,_,_===null?n.first:_.next,D,x,m,o,s,c)}g.set(x,_),E=[],k=[],f=_.next;continue}if(d&&Ho(y,D,m,s),(y.e.f&ct)!==0&&(Dn(y.e),u&&(y.a?.unfix(),(S??(S=new Set)).delete(y))),y!==f){if(p!==void 0&&p.has(y)){if(E.length<k.length){var I=k[0],O;_=I.prev;var Z=E[0],X=E[E.length-1];for(O=0;O<E.length;O+=1)Zr(E[O],I,a);for(O=0;O<k.length;O+=1)p.delete(k[O]);gt(n,Z.prev,X.next),gt(n,_,Z),gt(n,X,I),f=I,_=X,m-=1,E=[],k=[]}else p.delete(y),Zr(y,f,a),gt(n,y.prev,y.next),gt(n,y,_===null?n.first:_.next),gt(n,_,y),_=y;continue}for(E=[],k=[];f!==null&&f.k!==x;)(f.e.f&ct)===0&&(p??(p=new Set)).add(f),k.push(f),f=f.next;if(f===null)continue;y=f}E.push(y),_=y,f=y.next}if(f!==null||p!==void 0){for(var J=p===void 0?[]:va(p);f!==null;)(f.e.f&ct)===0&&J.push(f),f=f.next;var ee=J.length;if(ee>0){var we=(s&oo)!==0&&v===0?a:null;if(u){for(m=0;m<ee;m+=1)J[m].a?.measure();for(m=0;m<ee;m+=1)J[m].a?.fix()}il(n,J,we)}}u&&gn(()=>{if(S!==void 0)for(y of S)y.a?.apply()}),e.first=n.first&&n.first.e,e.last=_&&_.e;for(var F of r.values())Ze(F.e);r.clear()}function Ho(e,t,n,r){(r&Lr)!==0&&xt(e.v,t),(r&Mr)!==0?xt(e.i,n):e.i=n}function Uo(e,t,n,r,a,o,s,l,c,u,d){var v=(c&Lr)!==0,g=(c&si)===0,h=v?g?sa(a,!1,!1):Nt(a):a,f=(c&Mr)===0?s:Nt(s),p={i:f,v:h,k:o,a:null,e:null,prev:n,next:r};try{if(e===null){var _=document.createDocumentFragment();_.append(e=_n())}return p.e=Fe(()=>l(e,h,f,u),gi),p.e.prev=n&&n.e,p.e.next=r&&r.e,n===null?d||(t.first=p):(n.next=p,n.e.next=p.e),r!==null&&(r.prev=p,r.e.prev=p.e),p}finally{}}function Zr(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,a=t?t.e.nodes_start:n,o=e.e.nodes_start;o!==null&&o!==r;){var s=cr(o);a.before(o),o=s}}function gt(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function ae(e,t,...n){var r=e,a=ie,o;Vn(()=>{a!==(a=t())&&(o&&(Ze(o),o=null),o=Fe(()=>a(r,...n)))},zn)}function jo(e,t,n){var r=e,a,o,s=null,l=null;function c(){o&&(wt(o),o=null),s&&(s.lastChild.remove(),r.before(s),s=null),o=l,l=null}Vn(()=>{if(a!==(a=t())){var u=Sa();if(a){var d=r;u&&(s=document.createDocumentFragment(),s.append(d=_n()),o&&ge.skipped_effects.add(o)),l=Fe(()=>n(d,a))}u?ge.add_callback(c):c()}},zn)}function Vo(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=Vo(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function cl(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=Vo(e))&&(r&&(r+=" "),r+=t);return r}function de(e){return typeof e=="object"?cl(e):e??""}const qa=[...` 	
\r\f \v\uFEFF`];function ul(e,t,n){var r=e==null?"":""+e;if(t&&(r=r?r+" "+t:t),n){for(var a in n)if(n[a])r=r?r+" "+a:a;else if(r.length)for(var o=a.length,s=0;(s=r.indexOf(a,s))>=0;){var l=s+o;(s===0||qa.includes(r[s-1]))&&(l===r.length||qa.includes(r[l]))?r=(s===0?"":r.substring(0,s))+r.substring(l+1):s=l}}return r===""?null:r}function dl(e,t){return e==null?null:String(e)}function fe(e,t,n,r,a,o){var s=e.__className;if(s!==n||s===void 0){var l=ul(n,r,o);l==null?e.removeAttribute("class"):e.className=l,e.__className=n}else if(o&&a!==o)for(var c in o){var u=!!o[c];(a==null||u!==!!a[c])&&e.classList.toggle(c,u)}return o}function nr(e,t,n,r){var a=e.__style;if(a!==t){var o=dl(t);o==null?e.removeAttribute("style"):e.style.cssText=o,e.__style=t}return r}const fl=Symbol("is custom element"),vl=Symbol("is html");function Dd(e,t){var n=Ea(e);n.value===(n.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function Td(e,t){var n=Ea(e);n.checked!==(n.checked=t??void 0)&&(e.checked=t)}function ke(e,t,n,r){var a=Ea(e);a[t]!==(a[t]=n)&&(t==="loading"&&(e[Gs]=n),n==null?e.removeAttribute(t):typeof n!="string"&&hl(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function Ea(e){return e.__attributes??(e.__attributes={[fl]:e.nodeName.includes("-"),[vl]:e.namespaceURI===hi})}var Wa=new Map;function hl(e){var t=e.getAttribute("is")||e.nodeName,n=Wa.get(t);if(n)return n;Wa.set(t,n=[]);for(var r,a=e,o=Element.prototype;o!==a;){r=no(a);for(var s in r)r[s].set&&n.push(s);a=ha(a)}return n}function gl(e,t,n=t){var r=new WeakSet;zi(e,"input",async a=>{var o=a?e.defaultValue:e.value;if(o=Jr(e)?$r(o):o,n(o),ge!==null&&r.add(ge),await Io(),o!==(o=t())){var s=e.selectionStart,l=e.selectionEnd;e.value=o??"",l!==null&&(e.selectionStart=s,e.selectionEnd=Math.min(l,e.value.length))}}),yt(t)==null&&e.value&&(n(Jr(e)?$r(e.value):e.value),ge!==null&&r.add(ge)),Fr(()=>{var a=t();if(e===document.activeElement){var o=yr??ge;if(r.has(o))return}Jr(e)&&a===$r(e.value)||e.type==="date"&&!a&&!e.value||a!==e.value&&(e.value=a??"")})}function Jr(e){var t=e.type;return t==="number"||t==="range"}function $r(e){return e===""?null:+e}function Ya(e,t){return e===t||e?.[cn]===t}function St(e={},t,n,r){return Wi(()=>{var a,o;return Fr(()=>{a=o,o=[],yt(()=>{e!==n(...o)&&(t(e,...o),a&&Ya(n(...a),e)&&t(null,...a))})}),()=>{gn(()=>{o&&Ya(n(...o),e)&&t(null,...o)})}}),e}function Ca(e=!1){const t=ve,n=t.l.u;if(!n)return;let r=()=>$i(t.s);if(e){let a=0,o={};const s=lr(()=>{let l=!1;const c=t.s;for(const u in c)c[u]!==o[u]&&(o[u]=c[u],l=!0);return l&&a++,a});r=()=>i(s)}n.b.length&&Vi(()=>{Ka(t,r),Cr(n.b)}),De(()=>{const a=yt(()=>n.m.map(Vs));return()=>{for(const o of a)typeof o=="function"&&o()}}),n.a.length&&De(()=>{Ka(t,r),Cr(n.a)})}function Ka(e,t){if(e.l.s)for(const n of e.l.s)i(n);t()}let wr=!1;function _l(e){var t=wr;try{return wr=!1,[e(),wr]}finally{wr=t}}function oe(e,t,n,r){var a=!Un||(n&li)!==0,o=(n&ui)!==0,s=(n&di)!==0,l=r,c=!0,u=()=>(c&&(c=!1,l=s?yt(r):r),l),d;if(o){var v=cn in e||Ks in e;d=xn(e,t)?.set??(v&&t in e?k=>e[t]=k:void 0)}var g,h=!1;o?[g,h]=_l(()=>e[t]):g=e[t],g===void 0&&r!==void 0&&(g=u(),d&&(a&&ei(),d(g)));var f;if(a?f=()=>{var k=e[t];return k===void 0?u():(c=!0,k)}:f=()=>{var k=e[t];return k!==void 0&&(l=void 0),k===void 0?l:k},a&&(n&ci)===0)return f;if(d){var p=e.$$legacy;return(function(k,D){return arguments.length>0?((!a||!D||p||h)&&d(D?f():k),k):f()})}var _=!1,S=((n&ii)!==0?lr:Or)(()=>(_=!1,f()));o&&i(S);var E=re;return(function(k,D){if(arguments.length>0){const x=D?i(S):a&&o?Ae(k):k;return C(S,x),_=!0,l!==void 0&&(l=x),k}return pn&&_||(E.f&hn)!==0?S.v:i(S)})}function pe(e){ve===null&&ao(),Un&&ve.l!==null?pl(ve).m.push(e):De(()=>{const t=yt(e);if(typeof t=="function")return t})}function pl(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const ml="5";var eo;typeof window<"u"&&((eo=window.__svelte??(window.__svelte={})).v??(eo.v=new Set)).add(ml);mi();const qo={};function wl(e){Ce(qo,e)}function Wo(){const e=Ee(qo);if(!e)throw new Error("No SearchContext found");return e}const Yo={};function yl(e){Ce(Yo,e)}function dt(){const e=Ee(Yo);if(!e)throw new Error("No AppHistoryContext found");return e}function Sl(e,t){K(t,!0);const{replace:n,getAppHistory:r}=dt(),a=R(r),o="search",s=Ae({value:new URLSearchParams(r().search).get(o)||""}),l=d=>{const v=new URLSearchParams(i(a).search),g=i(a).pathname;(v.get(o)||"")!==d&&(d===""?v.delete(o):v.set(o,d),n(`${g}${v.size>0?`?${v.toString()}`:""}`))};De(()=>{const d=s.value;yt(()=>{l(d)})}),wl(s);var c=z(),u=B(c);ae(u,()=>t.children??ie),w(e,c),G()}const Ko={};function bl(e){Ce(Ko,e)}function Go(){const e=Ee(Ko);if(!e)throw new Error("No TagSearchContext found");return e}function kl(e,t){K(t,!0);const n=Ae({value:""});bl(n);var r=z(),a=B(r);ae(a,()=>t.children??ie),w(e,r),G()}const Xo={};function El(e){Ce(Xo,e)}function Zo(){const e=Ee(Xo);if(!e)throw new Error("No FeedOrderContext found");return e}function Cl(e,t){K(t,!0);const{navigate:n,getAppHistory:r}=dt(),a=R(r),o="feedOrder";let s=V(Ae(new URLSearchParams(r().search).get(o)||"newest"));El({getFeedOrder:()=>i(s),setFeedOrder:v=>{C(s,v,!0);const g=new URLSearchParams(i(a).search);v==="newest"?g.delete(o):g.set(o,v),n(`${i(a).pathname}${g.size>0?`?${g.toString()}`:""}`)}});var u=z(),d=B(u);ae(d,()=>t.children??ie),w(e,u),G()}const Jo={};function Pl(e){Ce(Jo,e)}function $o(){const e=Ee(Jo);if(!e)throw new Error("No SidebarContext found");return e}function xl(e,t){K(t,!0);const n=(d,v)=>{if(!v)return d;if(v.type==="closed")return{type:"closed"};switch(d.type){case"opened":return v.type==="close"?{type:"closing"}:v.type==="swipe"?{type:"openSwiping"}:d;case"closed":return v.type==="open"?{type:"opening"}:v.type==="swipe"?{type:"closeSwiping"}:d;case"openSwiping":return v.type==="open"?{type:"opening"}:v.type==="close"?{type:"closing"}:d;case"closeSwiping":return v.type==="open"?{type:"opening"}:v.type==="close"?{type:"closing"}:d;case"opening":return v.type==="opened"?{type:"opened"}:d;default:return d}};let r=V(Ae(n({type:"closed"})));const a=d=>{C(r,n(i(r),d),!0)};Pl({sidebarOpen:()=>{a({type:"open"})},sidebarClose:()=>{a({type:"close"})},handleComputeState:a,getSidebarState:()=>i(r)});var c=z(),u=B(c);ae(u,()=>t.children??ie),w(e,c),G()}const Qo={};function Dl(e){Ce(Qo,e)}function es(){const e=Ee(Qo);if(!e)throw new Error("No SelectedTagsContext found");return e}const ts=(e,t)=>{let n=null;return()=>{n&&clearTimeout(n),n=setTimeout(()=>{n=null,e()},t)}};async function Tl(){if(navigator.storage&&navigator.storage.persist)try{await navigator.storage.persisted()||await navigator.storage.persist()}catch{}}const Nl=(e,t)=>{if(e.size!==t.size)return!0;for(const n of e)if(!t.has(n))return!0;return!1};function Al(e,t){K(t,!0);const{getAppHistory:n,replace:r}=dt(),a=R(n),o=R(()=>n().search),s="selectedTags",l=()=>new Set(new URLSearchParams(n().search).get(s)?.split(",")||[]);let c=V(Ae(l()));const u=()=>{const p=l();if(Nl(p,i(c))){const _=new URLSearchParams(i(a).search),S=i(a).pathname;i(c).size===0?_.delete(s):_.set(s,Array.from(i(c)).join(",")),r(`${S}${_.size>0?`?${_.toString()}`:""}`)}};De(()=>{i(o),i(c),yt(()=>{u()})}),Dl({getSelectedTags:()=>i(c),addTag:p=>{i(c).has(p)||C(c,new Set([...i(c),p]),!0)},removeTag:p=>{const _=new Set(i(c));_.delete(p),C(c,_,!0)}});var h=z(),f=B(h);ae(f,()=>t.children??ie),w(e,h),G()}const ns={};function Bl(e){Ce(ns,e)}function ur(){const e=Ee(ns);if(!e)throw new Error("No LocalDBContext found");return e}const rs={};function Ll(e){Ce(rs,e)}function Ml(){const e=Ee(rs);if(!e)throw new Error("No SettingsContext found");return e}const as={};function Il(e){Ce(as,e)}function dr(){const e=Ee(as);if(!e)throw new Error("No BroadcastContext found");return e}const Ol="AppStorage",Rl=1,Kn="account",Er="settings",Pt="notes",Cn="drafts",Pn="bin",Gn="tags",Fl="syncLog",Zt="success",Jt="error",Le=(e,t,n)=>{e?.addEventListener(t,n)},Pa=(e,t)=>new Promise((n,r)=>{const o=e?.transaction(t,"readonly")?.objectStore(t).getAll();Le(o,Zt,()=>{const s=o?.result||[];n(s)}),Le(o,Jt,s=>{r(s)})}),ca=(e,t,n)=>new Promise((r,a)=>{const s=e?.transaction(t,"readonly")?.objectStore(t).get(n);Le(s,Zt,()=>{const l=s?.result?.data;r(l)}),Le(s,Jt,l=>{a(l)})}),dn=(e,t,n,r)=>new Promise((a,o)=>{const c=e?.transaction(t,"readwrite")?.objectStore(t)?.put({id:n,data:r});Le(c,Zt,()=>{a()}),Le(c,Jt,u=>{o(u)})}),Qr=async(e,t,n)=>{const a=e?.transaction(t,"readwrite")?.objectStore(t);await Promise.all(n.map(o=>{const s=a?.put(o);return new Promise((l,c)=>{Le(s,Zt,()=>{l()}),Le(s,Jt,u=>{c(u)})})}))},xa=(e,t,n)=>new Promise((r,a)=>{const l=e?.transaction(t,"readwrite")?.objectStore(t)?.delete(n);Le(l,Zt,()=>{r()}),Le(l,Jt,c=>{a(c)})}),zl=async(e,t,n)=>{const a=e?.transaction(t,"readwrite")?.objectStore(t);await Promise.all(n.map(o=>{const s=a?.delete(o);return new Promise((l,c)=>{Le(s,Zt,()=>{l()}),Le(s,Jt,u=>{c(u)})})}))},Tt=(e,t)=>new Promise((n,r)=>{const s=e?.transaction(t,"readwrite")?.objectStore(t)?.clear();Le(s,Zt,()=>{n()}),Le(s,Jt,l=>{r(l)})});function Hl(e,t){K(t,!0);let n=V(Ae({showFavicon:!1}));const{getDB:r}=ur(),{createBroadcastChannel:a,tabId:o}=dr(),s=a(),l=R(r),c=async()=>{const p=await ca(i(l),Er,"default");p&&C(n,p,!0)},u=async()=>{c()},d=async p=>{const _=JSON.parse(p.data),S=_;if(_.tabId&&_.tabId===o){S.type==="exit"&&(C(n,{showFavicon:!1},!0),Tt(i(l),Er));return}S.type==="updateSettings"?c():S.type==="exit"&&C(n,{showFavicon:!1},!0)},v=()=>i(n).showFavicon,g=async p=>{i(n).showFavicon=p,await dn(i(l),Er,"default",{showFavicon:p}),s.postMessage({type:"updateSettings"})};pe(()=>(u(),s.addEventListener(d),()=>{s.removeEventListener(d)})),Ll({getFaviconEnabled:v,setFaviconShown:g});var h=z(),f=B(h);ae(f,()=>t.children??ie),w(e,h),G()}const os={};function Ul(e){Ce(os,e)}function Da(){const e=Ee(os);if(!e)throw new Error("No AccountContext found");return e}const ss={};function jl(e){Ce(ss,e)}function Bt(){const e=Ee(ss);if(!e)throw new Error("No StackPagesContext found");return e}function Vl(e,t){K(t,!0);const{navigate:n}=dt(),{hasStackPage:r,pushStackPages:a,clearStackPages:o}=Bt();let s=V(void 0);const{getDB:l}=ur(),{createBroadcastChannel:c,tabId:u}=dr(),d=R(l),v=c(),g=async()=>{const m=await ca(i(d),Kn,"default");m&&(C(s,m,!0),o(),n("/"))},h=m=>dn(i(d),Kn,"default",m),f=async()=>{const m=await ca(i(d),Kn,"default");m===void 0?a("start"):(r("start")&&(o(),n("/")),m?C(s,m,!0):C(s,null))},p=async m=>{const b=JSON.parse(m.data);if(b.tabId&&b.tabId===u)return;const M=b;M.type==="initLocalAccount"?(C(s,null),o(),n("/")):M.type==="initCloudAccount"?(g(),o(),n("/")):M.type==="disconnectCloudAccount"?C(s,null):M.type==="exit"?C(s,void 0):M.type==="updateAccount"&&g()};pe(()=>(f(),v.addEventListener(p),()=>{v.removeEventListener(p)})),Ul({getAccount:()=>i(s),initLocalAccount:async()=>{C(s,null),await h(null),v.postMessage({type:"initLocalAccount"})},initCloudAccount:async m=>{const b={encryptedClientKey:m.encryptedClientKey||"",subscriptionExpires:m.subscriptionExpires||-1,lastSync:-1};await h(b),C(s,b,!0),v.postMessage({type:"initCloudAccount"})},disconnectCloudAccount:async()=>{C(s,null),await h(null),v.postMessage({type:"disconnectCloudAccount"})},updateSubscription:async m=>{if(!i(s))throw new Error("No account to update subscription for");const b={...i(s),subscriptionExpires:m};await h(b),v.postMessage({type:"updateAccount"})},exitApp:async()=>{C(s,void 0),v.postMessage({type:"exit"}),await Tt(i(d),Kn)}});var x=z(),y=B(x);ae(y,()=>t.children??ie),w(e,x),G()}const is={};function ql(e){Ce(is,e)}function Wl(){const e=Ee(is);if(!e)throw new Error("No DraftsContext found");return e}function Yl(e,t){K(t,!0);const{getDB:n}=ur(),{createBroadcastChannel:r,tabId:a}=dr(),o=R(n),s=r();let l=V(void 0);const c=()=>{const m=i(l)?.();if(!m)throw new Error("Drafts state is not initialized");return{mapDrafts:m}},u=m=>{C(l,()=>m)},d=m=>{const b=new Map;m.forEach(M=>{b.set(M.id,M)}),C(l,()=>b)},v=async()=>{const m=await Pa(i(o),Cn);d(m)},g=m=>{const{mapDrafts:b}=c();return b.get(m)},h=m=>{const{mapDrafts:b}=c();b.delete(m),u(b)},f=m=>{const{mapDrafts:b}=c();b.set(m.id,m),u(b)},p=async m=>{const b={...m};f(b),s.postMessage({type:"putDraft",data:{draft:b}}),await dn(i(o),Cn,b.id,{...b.data})},_=()=>{d([])},S=async m=>{h(m),await xa(i(o),Cn,m),s.postMessage({type:"deleteDraft",data:{id:m}})},E=async()=>{_(),await Tt(i(o),Cn),s.postMessage({type:"clearDrafts"})},k=()=>!!i(l)?.(),D=async m=>{const b=JSON.parse(m.data),M=b;if(b.tabId&&b.tabId===a){M.type==="exit"&&(u(new Map),Tt(i(o),Cn));return}if(M.type==="putDraft"){const L=M.data.draft;f(L)}else if(M.type==="deleteDraft"){const L=M.data.id;h(L)}else M.type==="exit"&&u(new Map)};pe(()=>(v(),s.addEventListener(D),()=>{s.removeEventListener(D)})),ql({getDraft:g,putDraft:p,deleteDraft:S,isReadyDrafts:k,clearDrafts:E});var x=z(),y=B(x);ae(y,()=>t.children??ie),w(e,x),G()}const ls={};function Kl(e){Ce(ls,e)}function cs(){const e=Ee(ls);if(!e)throw new Error("No NotesContext found");return e}const Gl=()=>crypto.randomUUID(),us={};function Xl(e){Ce(us,e)}function Ur(){const e=Ee(us);if(!e)throw new Error("No NotesBinContext found");return e}const ds=e=>{const t=new Map;for(const n of e||[])for(const r of n?.data.tags||[])t.set(r,{name:r,count:(t.get(r)?.count||0)+1});return t},fs=(e,t)=>{const n=[];for(const r of t){const a=e.get(r);a?a.count++:(e.set(r,{name:r,count:1}),n.push(r))}return{newTags:n}},Zl=(e,t)=>{const n=[];for(const r of t){const a=e.get(r);a&&(a.count--,a.count<=0&&(e.delete(r),n.push(r)))}return{deletedTags:n}};function Jl(e,t){K(t,!0);const{getDB:n}=ur(),{createBroadcastChannel:r,tabId:a}=dr(),o=R(n),s=r(),{deleteDraft:l,clearDrafts:c}=Wl(),{addNoteInBin:u}=Ur();let d=V(()=>{}),v=V(()=>{});const g=()=>{const F=i(v)();if(!F)throw new Error("Notes state is not initialized");return{notes:F}},h=F=>{C(v,()=>F)},f=async()=>{const F=await Pa(i(o),Pt),N=ds(F);await Qr(i(o),Gn,Object.values(N).map(P=>({id:P.name,data:{}}))),C(d,()=>N),h(F)},p=()=>i(v),_=F=>{const{notes:N}=g(),P={...F};N.push(P),h(N)},S=F=>{const{notes:N}=g();for(let P=0;P<N.length;P++)N[P]?.id===F.id&&N&&(N[P]=F);h(N)},E=F=>{const{notes:N}=g(),P=N.findIndex(H=>H?.id===F);P!==-1&&(N[P]=void 0),h(N)},k=()=>{h([]),C(d,()=>new Map)},D=async F=>{const N=i(d)?.();if(!N)return;const{newTags:P}=fs(N,F);P.length!==0&&(await Qr(i(o),Gn,P.map(H=>({id:H,data:{}}))),C(d,()=>N))},x=async F=>{const N=i(d)?.();if(!N)return;const{deletedTags:P}=Zl(N,F);P.length!==0&&(await zl(i(o),Gn,[...P]),C(d,()=>N))},y=async F=>{const N={id:Gl(),data:{...F,createdAt:Date.now(),updatedAt:Date.now()}};_(N),s.postMessage({type:"addNote",data:{note:N}}),await dn(i(o),Pt,N.id,{...N.data}),F.tags.length&&await D(F.tags)},m=async(F,N)=>{const P={id:N.id,data:{...N.data,updatedAt:Date.now()}};s.postMessage({type:"updateNote",data:{note:{...P}}}),S(P),await dn(i(o),Pt,P.id,{...P.data});const H=N.data.tags.filter(U=>!F.data.tags.includes(U)),te=F.data.tags.filter(U=>!N.data.tags.includes(U));te.length&&await x([...te]),H.length&&await D([...H])},b=(F,N)=>{const{notes:P}=g(),H=P.find(U=>U?.id===F);if(!H)return;const te={...H,deleting:N};s.postMessage({type:"updateNote",data:{note:te}}),S(te)},M=async(F,N)=>{const{notes:P}=g(),H=P.find(U=>U?.id===F);if(!H)return;const te={id:F,data:{...H.data,pinned:N}};s.postMessage({type:"updateNote",data:{note:te}}),S(te),await dn(i(o),Pt,te.id,{...te.data})},L=async F=>{const{notes:N}=g(),P=N.find(H=>H?.id===F);P&&(P&&await l(P.id),s.postMessage({type:"deleteNote",data:{id:F}}),E(F),await u(P),await xa(i(o),Pt,F),P.data.tags.length&&await x(P.data.tags))},I=async()=>{s.postMessage({type:"clearNotes"}),k(),await c(),await Tt(i(o),Pt),await Tt(i(o),Gn)},O=async F=>{const{notes:N}=g(),P={};F.forEach(H=>{const te=N.find(U=>U?.id===H.id);te?te&&te.data.updatedAt<H.data.updatedAt&&(P[H.id]=H):P[H.id]=H}),await Qr(i(o),Pt,Object.values(P)),s.postMessage({type:"reloadNotes"}),f()},Z=F=>{const{notes:N}=g();return N.find(P=>P?.id===F)},X=()=>!!i(v)(),J=async F=>{const N=JSON.parse(F.data),P=N;if(N.tabId&&N.tabId===a){P.type==="exit"&&(h([]),await Tt(i(o),Pt));return}if(P.type==="addNote"){const H=P.data.note;_(H)}else if(P.type==="updateNote"){const H=P.data.note;S(H)}else if(P.type==="deleteNote"){const H=P.data.id;E(H)}else P.type==="clearNotes"?k():P.type==="reloadNotes"?f():P.type==="exit"&&h([])};pe(()=>(f(),s.addEventListener(J),()=>{s.removeEventListener(J)})),Kl({addNote:y,updateNote:m,deleteNote:L,pinNote:M,setDeleting:b,getGetNotes:p,importNotes:O,clearNotes:I,getNoteById:Z,isReadyNotes:X,getGetMapTags:()=>i(d)});var ee=z(),we=B(ee);ae(we,()=>t.children??ie),w(e,ee),G()}function $l(e,t){K(t,!0);const n=720*60*60*1e3,{getDB:r}=ur(),{createBroadcastChannel:a,tabId:o}=dr(),s=R(r),l=a();let c=V(()=>{}),u=V(()=>{});const d=()=>{const L=i(u)?.();if(!L)throw new Error("NotesBin state is not initialized");return{notesBin:L}},v=L=>{C(u,()=>L)},g=L=>{const I=[];L.forEach(O=>{I.push(O)}),v(I)},h=async()=>{const I=(await Pa(i(s),Pn)).filter(Z=>Z.data.deletedAt&&Date.now()-Z.data.deletedAt<n?!0:(xa(i(s),Pn,Z.id),!1)),O=ds(I);C(c,()=>O),g(I)},f=L=>{const{notesBin:I}=d(),O={...L};I.push(O),v(I)},p=L=>{const{notesBin:I}=d();for(let O=0;O<I.length;O++)I[O]?.id===L.id&&I&&(I[O]=L);v(I)},_=L=>{const{notesBin:I}=d(),O=I.findIndex(Z=>Z?.id===L);O!==-1&&(I[O]=void 0),v(I)},S=()=>{g([]),C(c,()=>new Map)},E=async L=>{const I=i(c)?.();if(!I)return;const{newTags:O}=fs(I,L);O.length!==0&&C(c,()=>I)},k=async L=>{const I={id:L.id,data:{...L.data,deletedAt:Date.now()}};f(I),l.postMessage({type:"addNoteInBin",data:{note:I}}),await dn(i(s),Pn,I.id,{...I.data}),L.data.tags.length&&await E(L.data.tags)},D=()=>i(u),x=()=>(i(u)()?.length||0)>0,y=async()=>{S(),await Tt(i(s),Pn),l.postMessage({type:"emptyBin"})},m=async L=>{const I=JSON.parse(L.data),O=I;if(I.tabId&&I.tabId===o){O.type==="exit"&&(v([]),Tt(i(s),Pn));return}if(O.type==="addNoteInBin"){const Z=O.data.note;f(Z)}else if(O.type==="updateNoteBin"){const Z=O.data.note;p(Z)}else if(O.type==="deleteNoteFromBin"){const Z=O.data.id;_(Z)}else O.type==="emptyBin"?S():O.type==="reloadNotesBin"?h():O.type==="exit"&&v([])};pe(()=>(h(),l.addEventListener(m),()=>{l.removeEventListener(m)})),Xl({addNoteInBin:k,checkNotesInBin:x,emptyBin:y,getGetMapTags:()=>i(c),getGetNotesBin:D});var b=z(),M=B(b);ae(M,()=>t.children??ie),w(e,b),G()}const vs={},Ql=()=>({working:!1,swipingRatio:1,isSwiping:!1,duration:.35});function ec(e){Ce(vs,e)}function qn(){const e=Ee(vs);if(!e)throw new Error("No AnimationSettingsContext found");return e}function tc(e,t){K(t,!0);let n=Ae(Ql());ec(n);var r=z(),a=B(r);ae(a,()=>t.children??ie),w(e,r),G()}const hs={};function nc(e){Ce(hs,e)}function gs(){const e=Ee(hs);if(!e)throw new Error("No ScrollingContext found");return e}function rc(e,t){K(t,!0);let n=V(!1);const r=()=>i(n),a=ts(()=>{C(n,!1)},100);nc({isScrolling:r,enable:()=>{C(n,!0),a()}});var s=z(),l=B(s);ae(l,()=>t.children??ie),w(e,s),G()}const _s={};function ac(e){Ce(_s,e)}function Wn(){const e=Ee(_s);if(!e)throw new Error("No MobileSizeContext found");return e}function oc(e,t){K(t,!0);const n=()=>window.matchMedia("(max-width: 767px)").matches;let r=V(Ae(n())),a=qn();const o=ts(()=>{a.working=!0},16),s=()=>{a.working=!1,o(),requestAnimationFrame(()=>{C(r,n(),!0)})};ac({checkMobileSize:()=>i(r)}),pe(()=>(window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)));var c=z(),u=B(c);ae(u,()=>t.children??ie),w(e,c),G()}const ps={};function sc(e){Ce(ps,e)}function fr(){const e=Ee(ps);if(!e)throw new Error("No DialogContext found");return e}function ic(e,t){K(t,!0);let n=V(0),r=V(!1),a=V(!1);sc({checkExistedDialog:()=>i(n)>0,showDialog:()=>{C(n,i(n)+1)},hideDialog:()=>{C(n,i(n)-1)},blockDialog:f=>{C(r,f,!0),f||C(a,!1)},checkBlockedDialog:()=>i(r),unBlockBackDialog:f=>{C(a,f,!0)},checkUnBlockedBackDialog:()=>i(a)});var g=z(),h=B(g);ae(h,()=>t.children??ie),w(e,g),G()}const ms={};function lc(e){Ce(ms,e)}function Ta(){const e=Ee(ms);if(!e)throw new Error("No ScrollContainerContext found");return e}function cc(e,t){K(t,!0);let n=V(null);lc({setScrollContainer:l=>{C(n,l,!0)},getScrollContainer:()=>i(n)});var o=z(),s=B(o);ae(s,()=>t.children??ie),w(e,o),G()}const ws={};function uc(e){Ce(ws,e)}function Na(){const e=Ee(ws);if(!e)throw new Error("No DialogPageHeightContext found");return e}function dc(e,t){K(t,!0);let n=V(200);uc({setDialogPageHeight:l=>{C(n,l,!0)},getDialogPageHeight:()=>i(n)});var o=z(),s=B(o);ae(s,()=>t.children??ie),w(e,o),G()}const fc=[Kn,Er,Pt,Cn,Pn,Gn,Fl];function vc(){return new Promise((e,t)=>{const n=indexedDB.open(Ol,Rl);Le(n,"upgradeneeded",()=>{const r=n.result;for(const a of fc)r.objectStoreNames.contains(a)||r.createObjectStore(a,{keyPath:"id"})}),Le(n,Zt,()=>{const r=n.result;e(r),r.onversionchange=function(){r?.close(),alert("app outdated, please reload the page")}}),Le(n,"blocked",()=>{t(),alert("app outdated, please reload the page")}),Le(n,Jt,()=>{t()})})}function hc(e,t){K(t,!0);let n=V(null);pe(()=>{vc().then(l=>{C(n,l,!0)})}),Bl({getDB:()=>i(n)});var a=z(),o=B(a);{var s=l=>{var c=z(),u=B(c);ae(u,()=>t.children??ie),w(l,c)};Y(o,l=>{i(n)&&l(s)})}w(e,a),G()}function gc(e,t){K(t,!0);const{getAppHistory:n,navigate:r}=dt(),a=()=>new URLSearchParams(n().search).get("stackPages")?.split(",")||[];let o=V(Ae(a()));const s=_=>{const S=a();if(!S.includes(_)){S.push(_);const E=new URLSearchParams(n().search);E.set("stackPages",S.join(",")),C(o,S,!0),r(`${n().pathname}?${E.toString()}`)}};jl({pushStackPages:s,hasStackPage:_=>a().includes(_),updateStackPages:()=>{C(o,a(),!0)},popStackPages:()=>{const _=i(o).slice(0,-1);C(o,_,!0)},getStackPages:()=>{const _=a();return _.length>=i(o).length?_.reduce((S,E)=>[...S,{page:E,shown:!0}],[]):i(o).reduce((S,E,k)=>[...S,{page:E,shown:_.length===0?!1:k!==i(o).length-1}],[])},clearStackPages:()=>{C(o,[],!0)},getPageUrl:(_,S)=>{if(S?.full)return`/${_}`;const E=a();E.includes(_)||E.push(_);const k=new URLSearchParams(n().search);return k.set("stackPages",E.join(",")),`${n().pathname}?${k}`},createHandlePage:(_,S)=>E=>{if(E.preventDefault(),S?.full){r(_);return}s(_)},getStackPagesFormUrl:a});var f=z(),p=B(f);ae(p,()=>t.children??ie),w(e,f),G()}function _c(e,t){K(t,!0);const n=h=>h.startsWith("/")?h:`/${h}`,r=Ae({historyStack:[],pathname:n(window.location.pathname),search:window.location.search,historyLength:0}),a=()=>{r.pathname=n(document.location.pathname),r.search=document.location.search,r.historyLength=Math.max(0,r.historyLength-=1)},o=h=>{const[f,p]=h.split("?");r.pathname=n(f),r.search=p?`?${p}`:"",r.historyLength+=1,r.historyStack.push(`${window.location.pathname}${window.location.search}`),window.history.replaceState(null,"",h)},s=h=>{const[f,p]=h.split("?");r.pathname=n(f),r.search=p?`?${p}`:"",window.history.replaceState(null,"",h)};yl({getAppHistory:()=>r,navigate:o,replace:s,addSearchParam:(h,f)=>{const p=new URLSearchParams(r.search);p.append(h,f),s(`${r.pathname}${p.size>0?`?${p.toString()}`:""}`)},deleteSearchParam:h=>{const f=new URLSearchParams(r.search);f.delete(h),r.historyStack=r.historyStack.map(p=>{const _=new URLSearchParams(p.split("?")[1]);return _.delete(h),`${p.split("?")[0]}${f.size>0?`?${_.toString()}`:""}`}),s(`${r.pathname}${f.size>0?`?${f.toString()}`:""}`)},back:h=>{const{fallback:f="/",to:p}=h||{},[_,S]=f.split("?");if(r.historyLength<=0){const E=window.location.pathname,k=window.location.search;if(!k.includes("stackPages"))window.history.replaceState(null,"",f),r.historyLength=0,r.pathname=n(_),r.search=S?`?${S}`:"";else{const D=new URLSearchParams(k),x=D.get("stackPages")?.split(",")||[],y=x.slice(0,p&&x.includes(p)?x.indexOf(p)+1:-1);y.length===0?D.delete("stackPages"):D.set("stackPages",y.join(","));const m=`${E}${D.toString()?`?${D.toString()}`:""}`;window.history.replaceState(null,"",m),r.search=D.toString()?`?${D.toString()}`:""}}else if(r.historyStack.length>0){const k=new URLSearchParams(r.search).get("stackPages")?.split(",")||[];p&&k.includes(p)&&(r.historyStack=r.historyStack.slice(0,-(k.length-(k.indexOf(p)+1))+1),r.historyLength=r.historyStack.length);const D=r.historyStack.pop();if(D){const[x,y]=D.split("?");window.history.replaceState(null,"",D),r.historyLength=Math.max(0,r.historyLength-=1),r.pathname=n(x),r.search=y?`?${y}`:""}}},closeDialogStack:()=>{const h=r.historyStack.findIndex(p=>p.includes("stackPages")),f=h===-1?r.historyStack.slice(0):r.historyStack.slice(0,h);if(f.length>0){const p=f.pop();if(p){const[_,S]=p.split("?");window.history.replaceState(null,"",p),r.historyLength=Math.max(0,f.length),r.pathname=n(_),r.search=S?`?${S}`:"",r.historyStack=f}}else{const p=r.search,_=new URLSearchParams(p);_.delete("stackPages"),window.history.replaceState(null,"",_.toString()?"/?"+_.toString():"/"),r.historyLength=0,r.pathname="/",r.search=_.toString()?"?"+_.toString():"",r.historyStack=[]}}}),pe(()=>(window.addEventListener("popstate",a),()=>{window.removeEventListener("popstate",a)}));var v=z(),g=B(v);ae(g,()=>t.children??ie),w(e,v),G()}const ys={};function pc(e){Ce(ys,e)}function mc(){const e=Ee(ys);if(!e)throw new Error("No KeyboardVisibleContext found");return e}function wc(e,t){K(t,!0);let n=Ae({value:!1});const r=()=>n.value;pe(()=>{const s=()=>{setTimeout(()=>{document.activeElement instanceof HTMLInputElement&&document.activeElement.type==="text"||document.activeElement instanceof HTMLTextAreaElement?n.value=!0:n.value=!1},0)};return s(),document.addEventListener("focusin",s),document.addEventListener("focusout",s),()=>{document.removeEventListener("focusin",s),document.removeEventListener("focusout",s)}}),pc({getIsKeyboardVisible:r});var a=z(),o=B(a);ae(o,()=>t.children??ie),w(e,a),G()}function yc(e,t){K(t,!0);const n=crypto.randomUUID(),r=(s,l)=>{s.postMessage(JSON.stringify({...l,tabId:n}))};Il({tabId:n,createBroadcastChannel:()=>{const s=new BroadcastChannel("app");return{postMessage:l=>r(s,l),addEventListener:l=>{s.addEventListener("message",l)},removeEventListener:l=>{s.removeEventListener("message",l)}}}});var a=z(),o=B(a);ae(o,()=>t.children??ie),w(e,a),G()}function Sc(e,t){tc(e,{children:(n,r)=>{rc(n,{children:(a,o)=>{oc(a,{children:(s,l)=>{ic(s,{children:(c,u)=>{cc(c,{children:(d,v)=>{dc(d,{children:(g,h)=>{wc(g,{children:(f,p)=>{_c(f,{children:(_,S)=>{gc(_,{children:(E,k)=>{hc(E,{children:(D,x)=>{yc(D,{children:(y,m)=>{var b=z(),M=B(b);ae(M,()=>t.children??ie),w(y,b)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})}function bc(e,t){Sc(e,{children:(n,r)=>{kl(n,{children:(a,o)=>{Sl(a,{children:(s,l)=>{Cl(s,{children:(c,u)=>{xl(c,{children:(d,v)=>{Al(d,{children:(g,h)=>{Hl(g,{children:(f,p)=>{Vl(f,{children:(_,S)=>{$l(_,{children:(E,k)=>{Yl(E,{children:(D,x)=>{Jl(D,{children:(y,m)=>{var b=z(),M=B(b);ae(M,()=>t.children??ie),w(y,b)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})}})}let Ft=V(""),en=V(null),Xn=V(null),Zn=V(null);function jr(e,t){C(Ft,""),setTimeout(()=>{C(Ft,e,!0),t?.onFinish&&C(Xn,t.onFinish,!0),t?.onCancel&&C(Zn,t.onCancel,!0)},16)}const kc=(e,t,n,r,a)=>{e.preventDefault(),i(t)&&(C(n,null),i(t)(),C(t,null)),C(r,""),i(a)?.style.removeProperty("opacity")};var Ec=q('<button type="button" class="undoButton svelte-1vxmgq5">undo</button>'),Cc=q('<div class="notification svelte-1vxmgq5"><span> </span> <!></div>'),Pc=q("<div><!></div>");function xc(e,t){K(t,!0),De(()=>{i(Ft);const o=i(Zn)?1e3:800;i(Ft)&&(i(en)?.getBoundingClientRect(),i(en)?.style.setProperty("opacity","1"));const s=setTimeout(()=>{i(en)?.style.removeProperty("opacity")},o),l=setTimeout(()=>{C(Ft,""),i(Xn)&&i(Xn)(),C(Xn,null),C(Zn,null),i(en)?.style.removeProperty("opacity")},o+400);return()=>{clearTimeout(s),clearTimeout(l)}});var n=Pc(),r=T(n);{var a=o=>{var s=Cc(),l=T(s),c=T(l),u=j(l,2);{var d=v=>{var g=Ec();g.__click=[kc,Zn,Xn,Ft,en],w(v,g)};Y(u,v=>{i(Zn)&&v(d)})}St(s,v=>C(en,v),()=>i(en)),le(()=>tr(c,i(Ft))),w(o,s)};Y(r,o=>{i(Ft)&&o(a)})}w(e,n),G()}$e(["click"]);var Dc=q('<span class="vh svelte-1s25udk"><!></span>');function Xe(e,t){var n=Dc(),r=T(n);ae(r,()=>t.children),w(e,n)}var Tc=rl('<svg class="svelte-18et5h9"><use></use></svg>');function me(e,t){let n=oe(t,"name",8,"");var r=Tc(),a=T(r);le(()=>ke(a,"href",`#icon-${n()??""}`)),w(e,r)}const Nc=(e,t,n,r)=>{const a=t().type;a==="closed"?n():a==="opened"&&r()};var Ac=q('<button class="buttonMenu svelte-bpktnw"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>');function Ss(e,t){K(t,!1);const{sidebarOpen:n,getSidebarState:r,sidebarClose:a}=$o();Ca();var o=Ac();o.__click=[Nc,r,n,a];var s=T(o);_e(s,()=>({"--size":"36px"})),me(s.lastChild,{name:"sidebarMenu"});var l=j(s,2);Xe(l,{children:(c,u)=>{var d=Be("Menu");w(c,d)}}),w(e,o),G()}$e(["click"]);var Bc=(e,t)=>t.onChange?.(e.target?.value||""),Lc=q('<input class="svelte-15lr19w"/>');function ua(e,t){K(t,!0);let n=oe(t,"value",15,"");var r=Lc();r.__input=[Bc,t],le(()=>ke(r,"placeholder",t.placeholder)),ka("focus",r,function(...a){t.onFocus?.apply(this,a)}),gl(r,n),w(e,r),G()}$e(["input"]);function bs(e,t){K(t,!0),pe(()=>{const n=r=>{r.target&&t.dialog?.open&&t.dialogInner&&t.dialogInner!==r.target&&!t.dialogInner.contains(r.target)&&t.onClose()};return document.addEventListener("mousedown",n,{capture:!0}),()=>{document.removeEventListener("mousedown",n,{capture:!0})}}),G()}var Mc=q('<dialog><div class="dialogInner svelte-1x410nl"><!></div></dialog> <!>',1);function ks(e,t){K(t,!0);let n=V(null),r=V(null),a=V(!1),{showDialog:o,hideDialog:s}=fr();const l=()=>{const f=setTimeout(()=>{t.onClosed()},150);i(n)?.addEventListener("transitionend",()=>{clearTimeout(f),t.onClosed()},{once:!0}),C(a,!1)};De(()=>{t.startClose&&l()}),pe(()=>{i(n)?.showModal(),i(n)?.getClientRects(),C(a,!0)}),pe(()=>(o(),()=>{s()}));var c=Mc(),u=B(c),d=T(u),v=T(d);ae(v,()=>t.children),St(d,f=>C(r,f),()=>i(r)),St(u,f=>C(n,f),()=>i(n));var g=j(u,2);{var h=f=>{bs(f,{get dialog(){return i(n)},get dialogInner(){return i(r)},onClose:l})};Y(g,f=>{i(n)&&i(r)&&f(h)})}le(()=>fe(u,1,de(["dialog",{shown:i(a)}]),"svelte-1x410nl")),w(e,c),G()}var Ic=q("<div><!></div>");function Es(e,t){K(t,!0);let n=V(!1),r=V(null);const a=()=>{const u=setTimeout(()=>{t.onClosed()},150);i(r)?.addEventListener("transitionend",()=>{clearTimeout(u),t.onClosed()},{once:!0}),C(n,!1)},o=u=>{u.target!==i(r)&&!i(r)?.contains(u.target)&&a()},s=u=>{u.target!==i(r)&&!i(r)?.contains(u.target)&&a()};pe(()=>{i(r)?.getClientRects(),C(n,!0);const u=setTimeout(()=>{document.addEventListener("focusin",o),document.addEventListener("click",s)},0);return()=>{clearTimeout(u),document.removeEventListener("focusin",o),document.removeEventListener("click",s)}}),De(()=>{t.startClose&&a()});var l=Ic(),c=T(l);ae(c,()=>t.children),St(l,u=>C(r,u),()=>i(r)),le(()=>fe(l,1,de(["menu",{top:t.positionTop,shown:i(n)}]),"svelte-ujw4xi")),w(e,l),G()}const Oc=(e,t)=>{i(t)||C(t,!0)};var Rc=(e,t)=>t("newest"),Fc=(e,t)=>t("oldest"),zc=(e,t)=>t("AtoZ"),Hc=(e,t)=>t("ZtoA"),Uc=q("<div><button>Newest</button> <button>Oldest</button> <button>A to Z</button> <button>Z to A</button></div>"),jc=q('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),Vc=q('<div class="orderMenu svelte-14zj87s"><button><!> <!></button> <!></div>');function qc(e,t){K(t,!0);const n=(E,k=ie)=>{var D=Uc(),x=T(D);x.__click=[Rc,d];var y=j(x,2);y.__click=[Fc,d];var m=j(y,2);m.__click=[zc,d];var b=j(m,2);b.__click=[Hc,d],le(()=>{fe(D,1,de(["menu",{menuDialog:k()}]),"svelte-14zj87s"),fe(x,1,de(["menuButton",{menuButtonDialog:k(),current:i(u)==="newest"}]),"svelte-14zj87s"),fe(y,1,de(["menuButton",{menuButtonDialog:k(),current:i(u)==="oldest"}]),"svelte-14zj87s"),fe(m,1,de(["menuButton",{menuButtonDialog:k(),current:i(u)==="AtoZ"}]),"svelte-14zj87s"),fe(b,1,de(["menuButton",{menuButtonDialog:k(),current:i(u)==="ZtoA"}]),"svelte-14zj87s")}),w(E,D)};let r=V(!1),a=V(!1);const{checkMobileSize:o}=Wn(),{getFeedOrder:s,setFeedOrder:l}=Zo();let c=R(o),u=R(s);const d=E=>{C(a,!0),l(E)},v=()=>{C(r,!1),C(a,!1)};var g=Vc(),h=T(g);h.__click=[Oc,r],fe(h,1,de(["button","buttonMenu"]),"svelte-14zj87s");var f=T(h);me(f,{name:"filter"});var p=j(f,2);Xe(p,{children:(E,k)=>{var D=Be("show feed order menu");w(E,D)}});var _=j(h,2);{var S=E=>{var k=z(),D=B(k);{var x=m=>{ks(m,{get startClose(){return i(a)},onClosed:v,children:(b,M)=>{n(b,()=>!0)},$$slots:{default:!0}})},y=m=>{var b=jc(),M=B(b);_e(M,()=>({"--right":"20px","--top":"60px"})),Es(M.lastChild,{get startClose(){return i(a)},onClosed:v,children:(L,I)=>{n(L,()=>!1)},$$slots:{default:!0}}),w(m,b)};Y(D,m=>{i(c)?m(x):m(y,!1)})}w(E,k)};Y(_,E=>{i(r)&&E(S)})}w(e,g),G()}$e(["click"]);var W=(e=>(e.NewNote="newNote",e.EditNote="editNote",e.Settings="settings",e.ImportData="importData",e.ExportData="exportData",e.ClearStore="clearStore",e.Account="account",e.Sync="sync",e.Start="start",e.Auth="auth",e.Signin="signin",e.Signup="signup",e.AccessKeys="accessKeys",e.ConfirmAccessKey="confirmAccessKey",e.Subscription="subscription",e.Exit="exit",e.NotFound="notFound",e.About="about",e.Bin="bin",e))(W||{}),Wc=q('<a class="link svelte-13t3afu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Notes</span></a>'),Yc=q('<a class="link svelte-13t3afu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Bin</span></a>'),Kc=q('<button class="emptyBinButton svelte-13t3afu" type="button">Empty bin</button>'),Gc=q('<a class="buttonAdd svelte-13t3afu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Note</span></a>'),Xc=q('<div class="header svelte-13t3afu"><div class="top svelte-13t3afu"><div class="menu svelte-13t3afu"><a class="link svelte-13t3afu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Settings</span></a> <a class="link svelte-13t3afu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Sync</span></a> <!></div> <div class="mobile svelte-13t3afu"><!></div> <!></div> <div class="bottom svelte-13t3afu"><div><div class="sidebarSearchWrapper"><!></div></div> <div class="right svelte-13t3afu"><div class="filter svelte-13t3afu"><div class="feedSearchWrapper svelte-13t3afu"><!></div> <!></div></div></div></div>');function Zc(e,t){K(t,!0);const{createHandlePage:n,getPageUrl:r}=Bt(),a=Wo(),o=Go(),{getScrollContainer:s}=Ta();let l=R(s);const{emptyBin:c,checkNotesInBin:u}=Ur(),{getAppHistory:d}=dt(),v=R(()=>d().pathname),g=()=>{i(l)&&i(l).scrollTo({top:0,behavior:"smooth"})};var h=Xc(),f=T(h),p=T(f),_=T(p),S=R(()=>n(W.Settings));_.__click=function(...U){i(S)?.apply(this,U)};var E=T(_);_e(E,()=>({"--rotate":"30deg","--size":"20px"})),me(E.lastChild,{name:"settings"});var k=j(_,2),D=R(()=>n(W.Sync));k.__click=function(...U){i(D)?.apply(this,U)};var x=T(k);_e(x,()=>({"--size":"20px"})),me(x.lastChild,{name:"sync"});var y=j(k,2);{var m=U=>{var $=Wc(),ce=R(()=>n("/",{full:!0}));$.__click=function(...ue){i(ce)?.apply(this,ue)};var ye=T($);_e(ye,()=>({"--size":"18px"})),me(ye.lastChild,{name:"note"}),le(ue=>ke($,"href",ue),[()=>r("/",{full:!0})]),w(U,$)},b=U=>{var $=z(),ce=B($);{var ye=ue=>{var he=Yc(),Me=R(()=>n(W.Bin,{full:!0}));he.__click=function(...be){i(Me)?.apply(this,be)};var Se=T(he);_e(Se,()=>({"--size":"20px"})),me(Se.lastChild,{name:"bin"}),le(be=>ke(he,"href",be),[()=>r(W.Bin,{full:!0})]),w(ue,he)};Y(ce,ue=>{u()&&ue(ye)},!0)}w(U,$)};Y(y,U=>{i(v)===`/${W.Bin}`?U(m):U(b,!1)})}var M=j(p,2),L=T(M);Ss(L,{});var I=j(M,2);{var O=U=>{var $=z(),ce=B($);{var ye=ue=>{var he=Kc();he.__click=c,w(ue,he)};Y(ce,ue=>{u()&&ue(ye)})}w(U,$)},Z=U=>{var $=Gc(),ce=R(()=>n(W.NewNote));$.__click=function(...ue){i(ce)?.apply(this,ue)};var ye=T($);_e(ye,()=>({"--size":"16px","--color":"#b0b0b0"})),me(ye.lastChild,{name:"plus"}),le(ue=>ke($,"href",ue),[()=>r(W.NewNote)]),w(U,$)};Y(I,U=>{i(v)===`/${W.Bin}`?U(O):U(Z,!1)})}var X=j(f,2),J=T(X);fe(J,1,de(["left"]),"svelte-13t3afu");var ee=T(J),we=T(ee);ua(we,{placeholder:"Search tag",get value(){return o.value},set value(U){o.value=U}});var F=j(J,2),N=T(F),P=T(N),H=T(P);ua(H,{onFocus:g,placeholder:"Search",get value(){return a.value},set value(U){a.value=U}});var te=j(P,2);qc(te,{}),le((U,$)=>{ke(_,"href",U),ke(k,"href",$)},[()=>r(W.Settings),()=>r(W.Sync)]),w(e,h),G()}$e(["click"]);function Jc(e,t){K(t,!0);const{getIsKeyboardVisible:n}=mc();let r=oe(t,"dialog",7);const a=R(n),o=qn();let s=null;const l=()=>{t.dialogState==="swiping"&&t.onClose()};De(()=>(t.dialogState==="swiping"&&(s=setTimeout(l,3e3)),()=>{s&&(clearTimeout(s),s=null)}));let c=null,u=null;const d=3,v=50,g=5,h=.6,f=.3,p=.35,_=.95;let S=0,E=0,k=0,D=!1,x=!1,y=0,m=0,b=0;const M=()=>{S=0,E=0,D=!1,x=!1,y=0,m=0,b=0,k=0,c=null,u!==null&&(cancelAnimationFrame(u),u=null),s&&(clearTimeout(s),s=null)},L=N=>{r()&&t.dialogState==="opened"&&(S=N.touches[0].clientX,E=N.touches[0].clientY,k=performance.now(),D=!0,x=!1)},I=N=>t.dialogState==="opened"&&N>0||t.dialogState==="swiping"&&N>0,O=()=>{if(r()){r().style.setProperty("--transition-timing","0s"),t.onSwipe(),navigator.vibrate&&navigator.vibrate(10);try{const N=window.getComputedStyle(r()),P=N.transform||N.webkitTransform||"";if(m=r().offsetWidth,(t.dialogState==="swiping"||t.dialogState==="opened")&&(y=0),P&&P!=="none")try{y=new DOMMatrix(P).m41}catch{}x=!0}catch{M()}}},Z=()=>{if(!r())return;const P=Math.abs(y+b*m/100)/m;r().style.setProperty("--backdrop-bg",`rgba(0, 0, 0, ${.1*(1-P)})`)},X=()=>{if(u=null,!c||!D||!r()||i(a)){M();return}const N=[...c.touches].reduce((he,Me)=>he+Me.clientX,0)/c.touches.length,P=[...c.touches].reduce((he,Me)=>he+Me.clientY,0)/c.touches.length,H=N-S,te=P-E,U=Math.abs(H)>Math.abs(te),$=Math.abs(H)>d;if(!x)if(U&&$&&I(H))try{O()}catch{M();return}else return;if(!I(H))return;r().style.setProperty("--transition-timing","0s");let ce=y+H*_;ce=Math.max(0,Math.min(m,ce)),r().style.transform=`translate3d(${ce}px, 0, 0)`,o.swipingRatio=Math.abs(1-ce/m),b=(ce-y)/m*100,t.dialogState==="swiping"&&(s&&clearTimeout(s),s=setTimeout(l,3e3)),Z()},J=N=>{if(!D)return;c=N,u===null&&(u=requestAnimationFrame(X));const P=N.touches[0].clientX-S,H=N.touches[0].clientY-E,te=Math.abs(P)>Math.abs(H);x&&te&&N.preventDefault()},ee=N=>{const P=Math.abs(N);if(P>=h)return g;if(P>=f){const H=(P-f)/(h-f);return v-H*(v-g)}else return v},we=(N,P)=>{if(Math.abs(N)>=h)return p*.5;const te=Math.abs(b)/100;return P?p*Math.max(.5,1-te):p*Math.max(.5,te)},F=N=>{if(u!==null&&(cancelAnimationFrame(u),u=null),!D||!r()){M();return}if(!x){M();return}let P=0;if(N?.changedTouches?.[0]){const ce=N.changedTouches[0].clientX,ue=performance.now()-k;ue>0&&(P=(ce-S)/ue)}const H=ee(P);let te=null;t.dialogState==="swiping"&&(te=Math.abs(b)>H||P<-f?"close":"open");const U=t.dialogState==="swiping"&&te==="close",$=we(P,U);o.duration=$-.02,r().style.setProperty("--transition-timing",`${$}s`),r().offsetWidth,r().style.transform="",te==="open"?t.onOpen():te==="close"&&t.onClose(),r()?.style.removeProperty("--backdrop-bg"),M()};pe(()=>(r().addEventListener("touchstart",L,{passive:!0}),r().addEventListener("touchmove",J,{passive:!1}),r().addEventListener("touchend",F,{passive:!0}),r().addEventListener("touchcancel",F,{passive:!0}),()=>{r().removeEventListener("touchstart",L),r().removeEventListener("touchmove",J),r().removeEventListener("touchend",F),r().removeEventListener("touchcancel",F),u!==null&&cancelAnimationFrame(u)})),G()}var $c=(e,t)=>{t.onStartClose()},Qc=q('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),eu=q('<dialog><div class="dialogInner svelte-vr2o0t"><div class="header svelte-vr2o0t"><div><!></div></div> <!></div></dialog> <!>',1);function tu(e,t){K(t,!0);let n=350;const{isScrolling:r,enable:a}=gs();let o=V(null),s=V(null);const l=qn(),c=y=>{y.preventDefault(),t.onStartClose()};pe(()=>(i(o)?.addEventListener("close",t.onClosed),i(o)?.addEventListener("cancel",c),()=>{i(o)?.removeEventListener("close",t.onClosed),i(o)?.removeEventListener("cancel",c)}));const u=()=>{i(o)?.style.removeProperty("--transition-timing"),i(o)?.style.removeProperty("transform"),i(o)?.style.removeProperty("--backdrop-bg")},d=()=>{a()},v=R(r);De(()=>{if(t.dialogState,!!i(o))switch(t.dialogState){case"opening":{i(o).open||i(o).showModal(),i(o).getBoundingClientRect();const y=setTimeout(()=>{u()},n+1),m=()=>{clearTimeout(y),u()};return i(o)?.addEventListener("transitionend",m,{once:!0}),t.onOpened(),()=>{clearTimeout(y),i(o)?.removeEventListener("transitionend",m)}}case"closing":{const y=setTimeout(()=>{t.dialogState==="closing"&&t.onClosed()},n+1),m=()=>{clearTimeout(y),t.onClosed()};return i(o)?.addEventListener("transitionend",m,{once:!0}),()=>{clearTimeout(y),i(o)?.removeEventListener("transitionend",m)}}case"opened":u()}});var g=eu(),h=B(g),f=T(h),p=T(f),_=T(p),S=T(_);{var E=y=>{var m=Qc();fe(m,1,de(["navigateButton","buttonBack"]),"svelte-vr2o0t"),m.__click=[$c,t];var b=T(m);_e(b,()=>({"--size":"36px"})),me(b.lastChild,{name:"back"});var M=j(b,2);Xe(M,{children:(L,I)=>{var O=Be("back");w(L,O)}}),w(y,m)};Y(S,y=>{(!(t.blocked||t.hidden)||t.blocked&&t.unBlockedBack)&&y(E)})}var k=j(p,2);ae(k,()=>t.children),St(f,y=>C(s,y),()=>i(s)),St(h,y=>C(o,y),()=>i(o));var D=j(h,2);{var x=y=>{Jc(y,{get onClose(){return t.onStartClose},get onOpen(){return t.onStartOpen},get onSwipe(){return t.onSwipe},get dialogState(){return t.dialogState},get dialog(){return i(o)}})};Y(D,y=>{(!i(v)&&t.dialogState==="opened"||t.dialogState==="swiping")&&(!t.blocked||t.unBlockedBack)&&y(x)})}le(()=>fe(h,1,de([{open:t.dialogState==="opened",hidden:t.hidden,isAnimationOn:l.working&&(!l.isSwiping||!t.hidden)},{hidden:t.hidden}]),"svelte-vr2o0t")),ka("scroll",f,d),w(e,g),G()}$e(["click"]);const Ga=(e,t)=>{if(!t)return e;if(t.type==="closed")return{type:"closed"};switch(e.type){case"opened":return t.type==="close"?{type:"closing"}:t.type==="swipe"?{type:"swiping"}:e;case"closed":return t.type==="open"?{type:"opening"}:e;case"swiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"opening":return t.type==="opened"?{type:"opened"}:e;default:return e}};function nu(e,t){K(t,!0);let n=oe(t,"blocked",3,!1),r=oe(t,"hiddenDialog",3,!1),a=oe(t,"unBlockedBack",3,!1),o=oe(t,"onStartClose",3,()=>{}),s=oe(t,"onClose",3,()=>{});const l=qn();let c=V(Ae(Ga({type:"closed"})));const u=k=>{C(c,Ga(i(c),k),!0)},d=()=>{n()&&!a()||(o()(),u({type:"close"}))},v=()=>{u({type:"open"})},g=()=>{u({type:"opened"}),l.duration=.2},h=()=>{s()(),u({type:"closed"}),l.swipingRatio=1,l.duration=.2},f=()=>{u({type:"swipe"})};De(()=>{i(c).type==="swiping"?l.isSwiping=!0:l.isSwiping=!1,i(c).type==="closed"&&t.shownDialog?v():i(c).type==="opened"&&!t.shownDialog&&d()});var p={handleComputeState:u},_=z(),S=B(_);{var E=k=>{tu(k,{onSwipe:f,onOpened:g,onClosed:h,onStartClose:d,onStartOpen:v,get dialogState(){return i(c).type},get hidden(){return r()},get blocked(){return n()},get unBlockedBack(){return a()},children:(D,x)=>{var y=z(),m=B(y);ae(m,()=>t.children),w(D,y)},$$slots:{default:!0}})};Y(S,k=>{i(c).type!=="closed"&&k(E)})}return w(e,_),G(p)}const ru=({getDialog:e,onOpen:t,onStartClose:n,onClose:r})=>{const a=s=>{s.preventDefault(),n()},o=()=>{r?.()};pe(()=>{const s=e();return s?.addEventListener("cancel",a),s?.addEventListener("close",o),()=>{s?.removeEventListener("cancel",a),s?.removeEventListener("close",o)}}),pe(()=>{const s=e();s?.showModal(),s?.getBoundingClientRect(),t()})};var au=(e,t)=>{t.onStartBack()},ou=q('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),su=(e,t)=>{t.onStartClose()},iu=q('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),lu=q('<dialog><div class="dialogInner svelte-rt409n"><div class="header svelte-rt409n"><div><!></div> <div><!></div></div> <!></div></dialog> <!>',1);function cu(e,t){K(t,!0);let n=oe(t,"blockedDialog",3,!1),r=oe(t,"hiddenDialog",3,!1),a=oe(t,"isDesktopAnimationOff",3,!1),o=V(null),s=V(null);ru({getDialog:()=>i(o),onOpen:t.onOpen,onStartClose:t.onStartClose,onClose:t.onClose});const l=qn();De(()=>{t.stateDialog==="closing"&&(l.working?i(o)?.addEventListener("transitionend",()=>{i(o)?.close()},{once:!0}):i(o)?.close())});const{getDialogPageHeight:c}=Na(),u=R(c);var d=lu(),v=B(d),g=T(v),h=T(g),f=T(h),p=T(f);{var _=y=>{var m=ou();fe(m,1,de(["navigateButton","buttonBack"]),"svelte-rt409n"),m.__click=[au,t];var b=T(m);_e(b,()=>({"--size":"28px"})),me(b.lastChild,{name:"back"});var M=j(b,2);Xe(M,{children:(L,I)=>{var O=Be("back");w(L,O)}}),w(y,m)};Y(p,y=>{(!(n()||r())||n()&&t.unBlockedBack)&&t.onStartBack&&y(_)})}var S=j(f,2),E=T(S);{var k=y=>{var m=iu();fe(m,1,de(["navigateButton","buttonClose"]),"svelte-rt409n"),m.__click=[su,t];var b=T(m);_e(b,()=>({"--size":"28px"})),me(b.lastChild,{name:"close"});var M=j(b,2);Xe(M,{children:(L,I)=>{var O=Be("close");w(L,O)}}),w(y,m)};Y(E,y=>{n()||r()||y(k)})}var D=j(h,2);ae(D,()=>t.children),St(g,y=>C(s,y),()=>i(s)),St(v,y=>C(o,y),()=>i(o));var x=j(v,2);bs(x,{get dialog(){return i(o)},get dialogInner(){return i(s)},get onClose(){return t.onStartClose}}),le(()=>{nr(v,`height: ${i(u)+74}px`),fe(v,1,de([{open:t.stateDialog==="open",isAnimationOn:l.working,isDesktopAnimationOff:a(),hiddenDialog:r()}]),"svelte-rt409n")}),w(e,d),G()}$e(["click"]);const uu=({onStartClose:e,onClose:t})=>{let n=V("close");return{get state(){return i(n)},set state(s){C(n,s,!0)},handleStartClose:(s=!1)=>{s||(C(n,"closing"),e?.())},handleOpen:()=>{C(n,"open")},handleClose:()=>{C(n,"close"),t?.()}}};function du(e,t){K(t,!0);let n=oe(t,"blockedDialog",3,!1),r=oe(t,"hiddenDialog",3,!1),a=oe(t,"onStartClose",3,()=>{}),o=oe(t,"onClose",3,()=>{}),s=uu({onStartClose:a(),onClose:o()});De(()=>{s.state==="close"&&t.shownDialog?s.state="opening":s.state==="open"&&!t.shownDialog&&s.handleStartClose(n())});const l=v=>{v.key==="Escape"&&(document.activeElement instanceof HTMLInputElement&&document.activeElement.type==="text"||document.activeElement instanceof HTMLTextAreaElement||n())&&(v.preventDefault(),v.stopPropagation())};pe(()=>(document.addEventListener("keydown",l),()=>{document.removeEventListener("keydown",l)}));var c=z(),u=B(c);{var d=v=>{cu(v,{get stateDialog(){return s.state},get blockedDialog(){return n()},get unBlockedBack(){return t.unBlockedBack},get hiddenDialog(){return r()},get onOpen(){return s.handleOpen},get onStartBack(){return t.onStartBack},onStartClose:()=>{s.handleStartClose(n())},get onClose(){return s.handleClose},children:(g,h)=>{var f=z(),p=B(f);ae(p,()=>t.children),w(g,f)},$$slots:{default:!0}})};Y(u,v=>{s.state!=="close"&&v(d)})}w(e,c),G()}function fu(e,t){K(t,!0);let n=oe(t,"blockedDialog",3,!1),r=oe(t,"hiddenDialog",3,!1),a=oe(t,"isLastDialog",3,!1),o=oe(t,"onStartClose",3,()=>{}),s=oe(t,"onClose",3,()=>{});const l=R(()=>a()?void 0:t.onStartBack),{showDialog:c,hideDialog:u}=fr();pe(()=>(c(),()=>{u()}));const{checkMobileSize:d}=Wn();var v=z(),g=B(v);{var h=p=>{nu(p,{get shownDialog(){return t.shownDialog},get blocked(){return n()},get unBlockedBack(){return t.unBlockedBack},get hiddenDialog(){return r()},get children(){return t.children},get onStartClose(){return t.onStartBack},get onClose(){return s()}})},f=p=>{du(p,{get shownDialog(){return t.shownDialog},get blockedDialog(){return n()},get unBlockedBack(){return t.unBlockedBack},get hiddenDialog(){return r()},get children(){return t.children},get onStartBack(){return i(l)},get onStartClose(){return o()},get onClose(){return s()}})};Y(g,p=>{d()?p(h):p(f,!1)})}w(e,v),G()}function Xa(e,t){K(t,!0);const{back:n,closeDialogStack:r}=dt(),{popStackPages:a}=Bt();let o=oe(t,"blocked",3,!1),s=oe(t,"isLastDialog",3,!1),l=oe(t,"onBack",3,()=>{});const{checkBlockedDialog:c,checkUnBlockedBackDialog:u}=fr(),d=R(()=>o()||t.hidden||c()),v=R(()=>u()&&!s());fu(e,{get shownDialog(){return t.shown},get blockedDialog(){return i(d)},get unBlockedBack(){return i(v)},get hiddenDialog(){return t.hidden},get isLastDialog(){return s()},onStartBack:()=>{(!i(d)||i(d)&&i(v))&&t.shown&&(n(),l()())},onStartClose:()=>{(!i(d)||i(d)&&i(v))&&t.shown&&r()},onClose:()=>{a()},children:(p,_)=>{var S=z(),E=B(S);ae(E,()=>t.children),w(p,S)},$$slots:{default:!0}}),G()}const vu="modulepreload",hu=function(e){return"/"+e},Za={},Ie=function(t,n,r){let a=Promise.resolve();if(n&&n.length>0){let c=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),l=s?.nonce||s?.getAttribute("nonce");a=c(n.map(u=>{if(u=hu(u),u in Za)return;Za[u]=!0;const d=u.endsWith(".css"),v=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${v}`))return;const g=document.createElement("link");if(g.rel=d?"stylesheet":vu,d||(g.as="script"),g.crossOrigin="",g.href=u,l&&g.setAttribute("nonce",l),document.head.appendChild(g),d)return new Promise((h,f)=>{g.addEventListener("load",h),g.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${u}`)))})}))}function o(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return a.then(s=>{for(const l of s||[])l.status==="rejected"&&o(l.reason);return t().catch(o)})};var gu=q('<button> <svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></button>');function Cs(e,t){let n=R(()=>t.style==="selected"?"45deg":"0deg");var r=gu();r.__click=function(...s){t.onClick?.apply(this,s)};var a=T(r),o=j(a);_e(o,()=>({"--size":t.size==="small"?"10px":"12px","--rotate":i(n)})),me(o.lastChild,{name:"plus"}),le(()=>{ke(r,"type",t.type),fe(r,1,de([{selectedTag:t.style==="selected",small:t.size==="small"}]),"svelte-uu8a24"),tr(a,`${t.title??""} `)}),w(e,r)}$e(["click"]);var _u=q("<div></div>");function Ja(e,t){K(t,!0);let n=oe(t,"mobile",3,!1);var r=_u();Hr(r,20,()=>t.tags,a=>a,(a,o)=>{Cs(a,{get title(){return o},onClick:()=>t.handleTagClick(o)})}),le(()=>fe(r,1,de(["tags",{mobile:n()}]),"svelte-1c53r32")),w(e,r),G()}var pu=q("<div></div>");function $a(e,t){K(t,!0);var n=z(),r=B(n);{var a=o=>{var s=pu();fe(s,1,de(["tags","selectedTags"]),"svelte-58z9m1"),Hr(s,20,()=>t.selectedTags,l=>l,(l,c)=>{Cs(l,{get title(){return c},onClick:()=>t.handleSelectedTagClick(c),style:"selected"})}),w(o,s)};Y(r,o=>{t.selectedTags.size>0&&o(a)})}w(e,n),G()}var mu=(e,t,n)=>{t(),n("/",{full:!0})(e)},wu=q('<a class="link svelte-ltt61h"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a>'),yu=(e,t,n)=>{t(),n(W.Bin,{full:!0})(e)},Su=q('<a class="link svelte-ltt61h"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a>'),bu=q('<div class="sidebarFixed svelte-ltt61h"><div class="nav svelte-ltt61h"><!> <div class="menu svelte-ltt61h"><a class="link svelte-ltt61h"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a> <a class="link svelte-ltt61h"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a> <!></div></div> <div class="searchWrapper svelte-ltt61h"><!></div> <!></div> <!>',1),ku=q('<div class="sidebar svelte-ltt61h"><div class="sidebarFixed svelte-ltt61h"><!></div> <!></div>');function Ps(e,t){K(t,!0);const{checkMobileSize:n}=Wn(),{sidebarClose:r}=$o(),{getAppHistory:a}=dt(),{getPageUrl:o,createHandlePage:s,getStackPagesFormUrl:l}=Bt(),c=Go(),{checkNotesInBin:u}=Ur(),d=R(()=>a().pathname),{getSelectedTags:v,addTag:g,removeTag:h}=es();let f=R(v),p=oe(t,"getNotes",3,()=>[]),_=oe(t,"getTags",3,()=>new Map),S=null;function E(){return S||(S=Ie(()=>import("./bMlpp6x8.js"),__vite__mapDeps([0,1]))),S}const k=X=>{g(X)},D=X=>{h(X)},x=()=>{if(i(f).size===0)return[..._()()?.keys()||[]];if(i(f).has("inbox"))return[];const X=[];for(const J of p()()||[])if(J&&i(f).values().every(ee=>J.data.tags.includes(ee)))for(const ee of J.data.tags)!i(f).has(ee)&&!X.includes(ee)&&X.push(ee);return X};let y=R(()=>x().filter(X=>c.value===""||X.toLowerCase().indexOf(c.value.toLowerCase())!==-1).sort((X,J)=>X==="inbox"?-1:J==="inbox"?1:X.localeCompare(J))),m=R(n);pe(()=>{i(m)&&E()});const{checkExistedDialog:b}=fr();let M=R(()=>l().length>0||b());var L=z(),I=B(L);{var O=X=>{var J=z(),ee=B(J);zo(ee,E,null,(we,F)=>{const N=R(()=>i(F).default);var P=z(),H=B(P);jo(H,()=>i(N),(te,U)=>{U(te,{get blocked(){return i(M)},children:($,ce)=>{var ye=bu(),ue=B(ye),he=T(ue),Me=T(he);Ss(Me,{});var Se=j(Me,2),be=T(Se),kt=R(()=>s(W.Settings));be.__click=function(...Pe){i(kt)?.apply(this,Pe)};var Te=T(be);_e(Te,()=>({"--size":"24px"})),me(Te.lastChild,{name:"settings"});var ft=j(Te,2);Xe(ft,{children:(Pe,Ke)=>{var Oe=Be("Settings");w(Pe,Oe)}});var qe=j(be,2),Et=R(()=>s(W.Sync));qe.__click=function(...Pe){i(Et)?.apply(this,Pe)};var st=T(qe);_e(st,()=>({"--size":"24px"})),me(st.lastChild,{name:"sync"});var Qe=j(st,2);Xe(Qe,{children:(Pe,Ke)=>{var Oe=Be("Sync");w(Pe,Oe)}});var Lt=j(qe,2);{var vt=Pe=>{var Ke=wu();Ke.__click=[mu,r,s];var Oe=T(Ke);_e(Oe,()=>({"--size":"24px"})),me(Oe.lastChild,{name:"note"});var It=j(Oe,2);Xe(It,{children:(ht,$t)=>{var Qt=Be("Notes");w(ht,Qt)}}),le(ht=>ke(Ke,"href",ht),[()=>o("/",{full:!0})]),w(Pe,Ke)},Ct=Pe=>{var Ke=z(),Oe=B(Ke);{var It=ht=>{var $t=Su();$t.__click=[yu,r,s];var Qt=T($t);_e(Qt,()=>({"--size":"24px"})),me(Qt.lastChild,{name:"bin"});var Ot=j(Qt,2);Xe(Ot,{children:(Rt,Vr)=>{var qr=Be("Bin");w(Rt,qr)}}),le(Rt=>ke($t,"href",Rt),[()=>o(W.Bin,{full:!0})]),w(ht,$t)};Y(Oe,ht=>{u()&&ht(It)},!0)}w(Pe,Ke)};Y(Lt,Pe=>{i(d)===`/${W.Bin}`?Pe(vt):Pe(Ct,!1)})}var vr=j(he,2),Mt=T(vr);ua(Mt,{placeholder:"Search tag",get value(){return c.value},set value(Pe){c.value=Pe}});var mn=j(vr,2);$a(mn,{get selectedTags(){return i(f)},handleSelectedTagClick:D});var hr=j(ue,2);Ja(hr,{get tags(){return i(y)},handleTagClick:k,mobile:!0}),le((Pe,Ke)=>{ke(be,"href",Pe),ke(qe,"href",Ke)},[()=>o(W.Settings),()=>o(W.Sync)]),w($,ye)},$$slots:{default:!0}})}),w(we,P)}),w(X,J)},Z=X=>{var J=ku(),ee=T(J),we=T(ee);$a(we,{get selectedTags(){return i(f)},handleSelectedTagClick:D});var F=j(ee,2);Ja(F,{get tags(){return i(y)},handleTagClick:k}),w(X,J)};Y(I,X=>{i(m)?X(O):X(Z,!1)})}w(e,L),G()}$e(["click"]);const Eu=(e,t,n)=>{C(t,!0),C(n,!0)},Cu=(e,t,n,r)=>{t(n.note.id,!n.note.data.pinned),jr(n.note.data.pinned?"Note unpinned":"Note pinned"),C(r,!0)},Pu=(e,t,n)=>{navigator.clipboard.writeText(t.note.data.url),jr("Link copied"),C(n,!0)};var xu=q('<li class="svelte-8ve3pe"><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>Copy link</button></li>'),Du=q('<ul class="menu svelte-8ve3pe"><!> <li class="svelte-8ve3pe"><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> </button></li> <li class="svelte-8ve3pe"><button><span class="wrapperIcon svelte-8ve3pe"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></span>Delete</button></li></ul>'),Tu=q('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1);function Nu(e,t){K(t,!0);const n=(_,S=ie)=>{var E=Du(),k=T(E);{var D=Z=>{var X=xu(),J=T(X);J.__click=[Pu,t,l];var ee=T(J);_e(ee,()=>({"--size":"22px"})),me(ee.lastChild,{name:"copy"}),le(()=>fe(J,1,de(["button",{buttonMenuDialog:S()}]),"svelte-8ve3pe")),w(Z,X)};Y(k,Z=>{S()&&t.note.data.url&&Z(D)})}var x=j(k,2),y=T(x);y.__click=[Cu,a,t,l];var m=T(y);_e(m,()=>({"--size":"22px"})),me(m.lastChild,{name:"pin"});var b=j(m),M=j(x,2),L=T(M);L.__click=[Eu,c,l];var I=T(L),O=T(I);_e(O,()=>({"--size":"18px"})),me(O.lastChild,{name:"trash"}),le(()=>{fe(y,1,de(["button",{buttonMenuDialog:S()}]),"svelte-8ve3pe"),tr(b,` ${t.note.data.pinned?"Unpin":"Pin"}`),fe(L,1,de(["button",{buttonMenuDialog:S()}]),"svelte-8ve3pe")}),w(_,E)},{deleteNote:r,pinNote:a,setDeleting:o}=cs();let s=oe(t,"shownMenu",15),l=V(!1),c=V(!1);const{checkMobileSize:u}=Wn();let d=R(u);const v=async()=>{o(t.note.id,!0);let _=!1;jr("Note deleted",{onCancel:()=>{_=!0,o(t.note.id,!1)},onFinish:()=>{_||r(t.note.id)}})},g=()=>{i(c)&&v(),s(!1),C(l,!1)};var h=z(),f=B(h);{var p=_=>{var S=z(),E=B(S);{var k=x=>{ks(x,{get startClose(){return i(l)},onClosed:g,children:(y,m)=>{n(y,()=>!0)},$$slots:{default:!0}})},D=x=>{var y=Tu(),m=B(y);_e(m,()=>({"--bottom":"-90px","--right":"20px"})),Es(m.lastChild,{get startClose(){return i(l)},get positionTop(){return t.showMenuUp},onClosed:g,children:(b,M)=>{n(b,()=>!1)},$$slots:{default:!0}}),w(x,y)};Y(E,x=>{i(d)?x(k):x(D,!1)})}w(_,S)};Y(f,_=>{s()&&_(p)})}w(e,h),G()}$e(["click"]);const Au=(e,t)=>{C(t,!0)},Bu=(e,t,n)=>{navigator.clipboard.writeText(t.note.data.url),jr("Link copied"),C(n,!1)},Lu=(e,t)=>{C(t,!0)},Mu=(e,t)=>{C(t,!1)},Iu=(e,t,n,r)=>{e.preventDefault(),t(`${W.EditNote}?id=${n.note.id}`),C(r,!1)};var Ou=q('<div class="iconPlaceholder svelte-1jg44o9"></div>'),Ru=q('<img loading="lazy" class="noteIcon" height="16" width="16" alt=""/>'),Fu=q('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),zu=q('<div class="noteIconWrapper svelte-1jg44o9"><!></div>'),Hu=q('<button class="button svelte-1jg44o9"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),Uu=(e,t)=>{C(t,!1)},ju=q('<!> <a target="_blank" rel="noopener noreferrer" class="button openLink svelte-1jg44o9"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a>',1),Vu=q('<li><!> <a class="noteLink svelte-1jg44o9" target="_blank" rel="noopener noreferrer"> </a> <div><!> <button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button></div> <!></li>');function qu(e,t){K(t,!0);const{pushStackPages:n}=Bt(),{getFaviconEnabled:r}=Ml();let a=V(!1),o=V(!1),s=V(!1),l=R(r);const{checkMobileSize:c}=Wn(),u=y=>{try{return`https://icons.duckduckgo.com/ip3/${new URL(y).host}.ico`}catch{return""}};var d=Vu();d.__focusin=[Lu,o],d.__focusout=[Mu,o];var v=T(d);{var g=y=>{var m=zu(),b=T(m);{var M=I=>{var O=z(),Z=B(O);{var X=ee=>{var we=Ou();w(ee,we)},J=ee=>{var we=Ru();le(F=>ke(we,"src",F),[()=>u(t.note.data.url)]),ka("error",we,()=>{C(s,!0)}),w(ee,we)};Y(Z,ee=>{i(s)?ee(X):ee(J,!1)})}w(I,O)},L=I=>{var O=Fu(),Z=B(O);_e(Z,()=>({"--size":"16px"})),me(Z.lastChild,{name:"note"}),w(I,O)};Y(b,I=>{t.note.data.url?I(M):I(L,!1)})}w(y,m)};Y(v,y=>{i(l)&&y(g)})}var h=j(v,2);h.__click=[Iu,n,t,o];var f=T(h),p=j(h,2),_=T(p);{var S=y=>{var m=ju(),b=B(m);{var M=Z=>{var X=Hu();X.__click=[Bu,t,o];var J=T(X);_e(J,()=>({"--size":"20px"})),me(J.lastChild,{name:"copy"});var ee=j(J,2);Xe(ee,{children:(we,F)=>{var N=Be("copy link");w(we,N)}}),le(()=>ke(X,"tabindex",t.focusHidden?-1:0)),w(Z,X)};Y(b,Z=>{c()||Z(M)})}var L=j(b,2);L.__click=[Uu,o];var I=T(L);_e(I,()=>({"--size":"18px"})),me(I.lastChild,{name:"open"});var O=j(I,2);Xe(O,{children:(Z,X)=>{var J=Be();le(()=>tr(J,t.note.data.name)),w(Z,J)}}),le(()=>{ke(L,"href",t.note.data.url),ke(L,"tabindex",t.focusHidden?-1:0)}),w(y,m)};Y(_,y=>{t.note.data.url&&y(S)})}var E=j(_,2);E.__click=[Au,a],fe(E,1,de(["button","buttonMenu"]),"svelte-1jg44o9");var k=T(E);_e(k,()=>({"--size":"18px","--rotate":"90deg"})),me(k.lastChild,{name:"menu"});var D=j(k,2);Xe(D,{children:(y,m)=>{var b=Be("show menu");w(y,b)}});var x=j(p,2);Nu(x,{get note(){return t.note},get showMenuUp(){return t.showMenuUp},get shownMenu(){return i(a)},set shownMenu(y){C(a,y,!0)}}),le(y=>{fe(d,1,de(["record",{pinned:t.note.data.pinned}]),"svelte-1jg44o9"),ke(h,"tabindex",t.focusHidden?-1:0),ke(h,"href",y),tr(f,t.note.data.name),fe(p,1,de(["noteMenuWrapper",{noteMenuWrapperActive:i(o)}]),"svelte-1jg44o9"),ke(E,"tabindex",t.focusHidden?-1:0)},[()=>`/?stackPages=${encodeURIComponent(`${W.EditNote}?id=${t.note.id}`)}`]),w(e,d),G()}$e(["focusin","focusout","click"]);var Wu=q("<a><!></a>"),Yu=q("<button><!></button>");function Rn(e,t){let n=oe(t,"type",3,"standard"),r=oe(t,"typeButton",3,"button"),a=oe(t,"element",3,"button"),o=oe(t,"href",3,""),s=oe(t,"fullWidth",3,!1),l=oe(t,"withoutMinWidth",3,!1);var c=z(),u=B(c);{var d=g=>{var h=Wu();h.__click=function(...p){t.onClick?.apply(this,p)};var f=T(h);ae(f,()=>t.children??ie),le(()=>{ke(h,"href",o()),fe(h,1,de(["button","a",{dangerous:n()==="dangerous",secondary:n()==="secondary",fullWidth:s(),withoutMinWidth:l()}]),"svelte-aqjevc")}),w(g,h)},v=g=>{var h=Yu();h.__click=function(...p){t.onClick?.apply(this,p)};var f=T(h);ae(f,()=>t.children??ie),le(()=>{ke(h,"type",r()),fe(h,1,de(["button",{dangerous:n()==="dangerous",secondary:n()==="secondary",fullWidth:s(),withoutMinWidth:l()}]),"svelte-aqjevc")}),w(g,h)};Y(u,g=>{a()==="a"?g(d):g(v,!1)})}w(e,c)}$e(["click"]);var Ku=q('<div><!> <div class="loader svelte-m0sno1"></div></div>');function xs(e,t){K(t,!0);let n=V(!1);pe(()=>{const o=setTimeout(()=>{C(n,!0)},200);return()=>{clearTimeout(o)}});var r=Ku(),a=T(r);ae(a,()=>t.children??ie),le(()=>fe(r,1,de(["block",{shown:i(n)}]),"svelte-m0sno1")),w(e,r),G()}var Gu=q('<p class="message">No notes in bin</p>'),Xu=q('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Add note</span>',1),Zu=q('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span style="padding-left: 6px;">Import data</span>',1),Ju=q('<p class="message">No notes found</p> <div class="wrapperButtonsAdd svelte-106i4nx"><!></div> <div>or</div> <div class="wrapperButtonsAdd svelte-106i4nx"><!></div>',1),$u=q('<div class="emptyStore svelte-106i4nx"><!></div>'),Qu=q('<div class="emptyMessage svelte-106i4nx">No notes found</div>'),ed=q('<div class="feed svelte-106i4nx"><ul class="svelte-106i4nx"></ul></div>'),td=q('<div class="wrapperFeed svelte-106i4nx"><div class="wrapperContainer svelte-106i4nx"><!></div></div>');function Ds(e,t){K(t,!0);let n=oe(t,"getNotes",3,()=>[]),r=oe(t,"mode",3,"notes");const{getScrollContainer:a}=Ta(),{createHandlePage:o,getPageUrl:s}=Bt(),{getSelectedTags:l}=es(),{getFeedOrder:c}=Zo(),u=Wo();let d=54,v=V(0),g=V(0),h=V(0),f=V(0),p=[],_=V(0),S=R(a),E=null,k=null;const D=R(l);De(()=>{i(D),i(b),i(S)?.scrollTo(0,0)});const{enable:x}=gs(),y=()=>{x(),E||(E=requestAnimationFrame(()=>{const P=i(S)?.scrollTop||0;C(h,P,!0);const H=Math.ceil(i(v)/d);C(g,Math.floor(P/(d*H))*(d*H)),E=null}))},m=()=>{k||(k=requestAnimationFrame(()=>{C(v,window.innerHeight-180||0,!0);const P=i(S)?.scrollTop||0;C(h,P,!0);const H=Math.ceil(i(v)/d);C(g,Math.floor(P/(d*H))*(d*H)),k=null}))};pe(()=>{m(),y()}),De(()=>(i(S)?.addEventListener("scroll",y),window.addEventListener("resize",m),()=>{i(S)?.removeEventListener("scroll",y),window.removeEventListener("resize",m)}));const b=R(c);let M=V("");De(()=>{i(b);const P=n()()||[];yt(()=>i(M))!==i(b)&&yt(()=>C(M,i(b),!0)),P.sort((U,$)=>{if(!U||!$)return 0;if(U.data.pinned&&!$.data.pinned)return 1;if(!U.data.pinned&&$.data.pinned)return-1;switch(i(b)){case"newest":return U.data.updatedAt<$.data.updatedAt?-1:1;case"oldest":return U.data.updatedAt>$.data.updatedAt?-1:1;case"AtoZ":return $.data.name.localeCompare(U.data.name);case"ZtoA":return U.data.name.localeCompare($.data.name);default:return 0}});const te=[];for(let U=P.length-1;U>=0;U--){const $=P[U];$&&(i(D).size&&i(D).values().some(ce=>!$.data.tags.includes(ce))||$.deleting||u&&!($.data.name.toLowerCase().includes(u.value.toLowerCase())||$.data.url.toLowerCase().includes(u.value.toLowerCase())||$.data.text.toLowerCase().includes(u.value.toLowerCase()))||te.push($))}C(f,te.length,!0),p=te,C(_,Date.now(),!0)});const L=R(()=>i(f)*d);let O=R(()=>{i(_);const P=Math.ceil(i(v)/d);let H=Math.floor(i(g)/d);return H=H-Math.min(H,P),p.slice(H,H+P*3)}),Z=R(()=>d*Math.ceil(i(v)/d));const X=R(()=>i(g)-Math.min(i(g),i(Z)));var J=td(),ee=T(J),we=T(ee);{var F=P=>{xs(P,{})},N=P=>{var H=z(),te=B(H);{var U=ce=>{var ye=$u(),ue=T(ye);{var he=Se=>{var be=Gu();w(Se,be)},Me=Se=>{var be=Ju(),kt=j(B(be),2),Te=T(kt);{let Et=R(()=>s(W.NewNote)),st=R(()=>o(W.NewNote));Rn(Te,{element:"a",get href(){return i(Et)},get onClick(){return i(st)},children:(Qe,Lt)=>{var vt=Xu(),Ct=B(vt);_e(Ct,()=>({"--size":"18px","--color":"#b0b0b0"})),me(Ct.lastChild,{name:"plus"}),w(Qe,vt)},$$slots:{default:!0}})}var ft=j(kt,4),qe=T(ft);{let Et=R(()=>s(W.ImportData)),st=R(()=>o(W.ImportData));Rn(qe,{element:"a",get href(){return i(Et)},get onClick(){return i(st)},children:(Qe,Lt)=>{var vt=Zu(),Ct=B(vt);_e(Ct,()=>({"--size":"18px","--color":"#b0b0b0"})),me(Ct.lastChild,{name:"import"}),w(Qe,vt)},$$slots:{default:!0}})}w(Se,be)};Y(ue,Se=>{r()==="bin"?Se(he):Se(Me,!1)})}w(ce,ye)},$=ce=>{var ye=z(),ue=B(ye);{var he=Se=>{var be=Qu();w(Se,be)},Me=Se=>{var be=ed(),kt=T(be);Hr(kt,23,()=>i(O),Te=>Te.id,(Te,ft,qe)=>{{let Et=R(()=>i(qe)*d<i(h)-i(X)-d/2||i(qe)*d>i(h)-i(X)+Math.floor(i(v)/d)*d),st=R(()=>(i(qe)+3)*d<i(h)-i(X)-d/2||(i(qe)+3)*d>i(h)-i(X)+Math.floor(i(v)/d)*d);qu(Te,{get focusHidden(){return i(Et)},get showMenuUp(){return i(st)},get note(){return i(ft)}})}}),le(Te=>{nr(be,`min-height: ${Te??""}px`),nr(kt,`transform: translateY(${i(X)??""}px);`)},[()=>Math.max((i(L)>i(v),i(L)),0)]),w(Se,be)};Y(ue,Se=>{i(O).length===0?Se(he):Se(Me,!1)},!0)}w(ce,ye)};Y(te,ce=>{(n()()||[]).length===0?ce(U):ce($,!1)},!0)}w(P,H)};Y(we,P=>{t.readyNotes?P(N,!1):P(F)})}w(e,J),G()}var nd=q('<!> <div class="content svelte-6sscvv"><!></div>',1);function rd(e,t){K(t,!0);const{getGetMapTags:n,getGetNotes:r,isReadyNotes:a}=cs(),o=R(r),s=R(n),l=R(a);var c=nd(),u=B(c);Ps(u,{get getNotes(){return i(o)},get getTags(){return i(s)}});var d=j(u,2),v=T(d);Ds(v,{get getNotes(){return i(o)},get readyNotes(){return i(l)}}),w(e,c),G()}var ad=q('<!> <div class="content svelte-1yt549b"><!></div>',1);function od(e,t){K(t,!0);const{getGetMapTags:n,getGetNotesBin:r}=Ur(),a=R(r),o=R(n);var s=ad(),l=B(s);Ps(l,{get getNotes(){return i(a)},get getTags(){return i(o)}});var c=j(l,2),u=T(c);Ds(u,{mode:"bin",get getNotes(){return i(a)},readyNotes:!0}),w(e,s),G()}var sd=q('<h1 class="svelte-1ky72l5"><!></h1>');function id(e,t){var n=sd(),r=T(n);ae(r,()=>t.children),w(e,n)}var ld=q('<div class="block svelte-ujk4k"><!> <div class="container svelte-ujk4k"><!> <!></div></div>');function cd(e,t){K(t,!0);const{blockDialog:n}=fr(),{pushStackPages:r}=Bt(),{closeDialogStack:a}=dt(),{initLocalAccount:o}=Da();let s=V("idle");const l=()=>{C(s,"loading"),r(W.Auth)},c=async()=>{C(s,"loading"),Tl(),await o(),n(!1),a()};De(()=>{n(i(s)==="idle"||i(s)==="loading")}),pe(()=>(n(!0),()=>{n(!1)}));var u=ld(),d=T(u);id(d,{children:(f,p)=>{var _=Be("use app");w(f,_)}});var v=j(d,2),g=T(v);Rn(g,{onClick:l,fullWidth:!0,children:(f,p)=>{var _=Be("cloud account");w(f,_)},$$slots:{default:!0}});var h=j(g,2);Rn(h,{onClick:c,fullWidth:!0,type:"secondary",children:(f,p)=>{var _=Be("without account");w(f,_)},$$slots:{default:!0}}),w(e,u),G()}var ud=q('<div class="svelte-1x9a4ve"><!></div>');function Ne(e,t){K(t,!0);const{setDialogPageHeight:n}=Na();let r=V(null);pe(()=>{i(r)&&(i(r).getBoundingClientRect(),i(r).style.opacity="1");const s=new ResizeObserver(l=>{for(let c of l){const u=c.contentRect.height;n(u)}});if(i(r))return s.observe(i(r)),()=>{i(r)&&s.unobserve(i(r)),s.disconnect()}});var a=ud(),o=T(a);ae(o,()=>t.children),St(a,s=>C(r,s),()=>i(r)),w(e,a),G()}var dd=q('<div class="svelte-stjbkr"><p class="svelte-stjbkr">Page not found</p> <!></div>');function fd(e,t){K(t,!1);const{navigate:n}=dt(),r=s=>{s.preventDefault(),n("/")};Ca();var a=dd(),o=j(T(a),2);Rn(o,{element:"a",href:"/",onClick:r,children:(s,l)=>{var c=Be("close");w(s,c)},$$slots:{default:!0}}),w(e,a),G()}var vd=q('<div class="svelte-10xfz1h"><p class="svelte-10xfz1h">Something went wrong. Please reload the page</p> <!></div>');function hd(e){var t=vd(),n=j(T(t),2);Rn(n,{onClick:()=>location.reload(),children:(r,a)=>{var o=Be("Reload");w(r,o)},$$slots:{default:!0}}),w(e,t)}var gd=q('<div class="svelte-1mu1b44"><!></div>');function _d(e,t){K(t,!0);const{getDialogPageHeight:n}=Na(),r=R(n);var a=gd(),o=T(a);xs(o,{}),le(()=>nr(a,`min-height: ${i(r)??""}px;`)),w(e,a),G()}function Re(e,t){K(t,!0);const n={},r=Object.assign({"./Pages/About.svelte":()=>Ie(()=>import("./J7GoufYE.js"),__vite__mapDeps([2,3])),"./Pages/AccessKeys.svelte":()=>Ie(()=>import("./Bi5cOs8-.js"),__vite__mapDeps([4,5,6,7])),"./Pages/Account.svelte":()=>Ie(()=>import("./DHbEesrL.js"),__vite__mapDeps([8,5,9])),"./Pages/Auth.svelte":()=>Ie(()=>import("./ul1vSUmn.js"),__vite__mapDeps([10,11])),"./Pages/ClearStore.svelte":()=>Ie(()=>import("./0kjH8tCq.js"),__vite__mapDeps([12,13])),"./Pages/ConfirmAccessKey.svelte":()=>Ie(()=>import("./BcwE8x7S.js"),__vite__mapDeps([14,6,5,15,16,17,18])),"./Pages/EditNote.svelte":()=>Ie(()=>import("./9jWGu6-X.js"),__vite__mapDeps([19,20,16,17,21,22])),"./Pages/Exit.svelte":()=>Ie(()=>import("./B81V3_En.js"),__vite__mapDeps([23,24])),"./Pages/ExportData.svelte":()=>Ie(()=>import("./D6TQWAJn.js"),__vite__mapDeps([25,26])),"./Pages/ImportData.svelte":()=>Ie(()=>import("./hK9pe8r0.js"),__vite__mapDeps([27,28])),"./Pages/NewNote.svelte":()=>Ie(()=>import("./DHkxzMnF.js"),__vite__mapDeps([29,20,16,17,21])),"./Pages/Settings.svelte":()=>Ie(()=>import("./Dk9dXw5m.js"),__vite__mapDeps([30,31])),"./Pages/Signin.svelte":()=>Ie(()=>import("./Ctj3u_uy.js"),__vite__mapDeps([32,6,5,15,33])),"./Pages/Signup.svelte":()=>Ie(()=>import("./D3S3suT0.js"),__vite__mapDeps([34,15,6,5,35])),"./Pages/Subscription.svelte":()=>Ie(()=>import("./DKZmOzcb.js"),__vite__mapDeps([36,37])),"./Pages/Sync.svelte":()=>Ie(()=>import("./BtNpV3Lf.js"),__vite__mapDeps([38,39]))}),a=async l=>{const c=`./Pages/${l[0].toUpperCase()+l.slice(1)}.svelte`;if(!n[l]){if(r[c]){const u=r[c]();return n[l]={promise:u},n[l].module=await u,n[l].module}throw new Error(`Page ${l} not found`)}return n[l].module||await n[l].promise};var o=z(),s=B(o);zo(s,()=>a(t.page),l=>{_d(l,{})},(l,c)=>{const u=R(()=>i(c).default);var d=z(),v=B(d);jo(v,()=>i(u),(g,h)=>{h(g,{get params(){return t.params},get hidden(){return t.hidden}})}),w(l,d)},l=>{hd(l)}),w(e,o),G()}const Qa=(e,t=ie,n=ie,r)=>{let a=Or(()=>Ws(r?.(),!1));var o=z(),s=B(o);{var l=u=>{Ne(u,{children:(d,v)=>{Re(d,{get hidden(){return i(a)},get page(){return W.Settings}})},$$slots:{default:!0}})},c=u=>{var d=z(),v=B(d);{var g=f=>{Ne(f,{children:(p,_)=>{Re(p,{get hidden(){return i(a)},get page(){return W.NewNote}})},$$slots:{default:!0}})},h=f=>{var p=z(),_=B(p);{var S=k=>{Ne(k,{children:(D,x)=>{Re(D,{get params(){return n()},get hidden(){return i(a)},get page(){return W.EditNote}})},$$slots:{default:!0}})},E=k=>{var D=z(),x=B(D);{var y=b=>{Ne(b,{children:(M,L)=>{Re(M,{get hidden(){return i(a)},get page(){return W.ImportData}})},$$slots:{default:!0}})},m=b=>{var M=z(),L=B(M);{var I=Z=>{Ne(Z,{children:(X,J)=>{Re(X,{get hidden(){return i(a)},get page(){return W.ExportData}})},$$slots:{default:!0}})},O=Z=>{var X=z(),J=B(X);{var ee=F=>{Ne(F,{children:(N,P)=>{Re(N,{get hidden(){return i(a)},get page(){return W.ClearStore}})},$$slots:{default:!0}})},we=F=>{var N=z(),P=B(N);{var H=U=>{Ne(U,{children:($,ce)=>{cd($,{})},$$slots:{default:!0}})},te=U=>{var $=z(),ce=B($);{var ye=he=>{Ne(he,{children:(Me,Se)=>{Re(Me,{get hidden(){return i(a)},get page(){return W.Auth}})},$$slots:{default:!0}})},ue=he=>{var Me=z(),Se=B(Me);{var be=Te=>{Ne(Te,{children:(ft,qe)=>{Re(ft,{get hidden(){return i(a)},get page(){return W.Signup}})},$$slots:{default:!0}})},kt=Te=>{var ft=z(),qe=B(ft);{var Et=Qe=>{Ne(Qe,{children:(Lt,vt)=>{Re(Lt,{get hidden(){return i(a)},get page(){return W.Signin}})},$$slots:{default:!0}})},st=Qe=>{var Lt=z(),vt=B(Lt);{var Ct=Mt=>{Ne(Mt,{children:(mn,hr)=>{Re(mn,{get hidden(){return i(a)},get page(){return W.AccessKeys}})},$$slots:{default:!0}})},vr=Mt=>{var mn=z(),hr=B(mn);{var Pe=Oe=>{Ne(Oe,{children:(It,ht)=>{Re(It,{get hidden(){return i(a)},get page(){return W.Account}})},$$slots:{default:!0}})},Ke=Oe=>{var It=z(),ht=B(It);{var $t=Ot=>{Ne(Ot,{children:(Rt,Vr)=>{Re(Rt,{get hidden(){return i(a)},get page(){return W.ConfirmAccessKey}})},$$slots:{default:!0}})},Qt=Ot=>{var Rt=z(),Vr=B(Rt);{var qr=wn=>{Ne(wn,{children:(gr,Aa)=>{Re(gr,{get hidden(){return i(a)},get page(){return W.Exit}})},$$slots:{default:!0}})},Ts=wn=>{var gr=z(),Aa=B(gr);{var Ns=yn=>{Ne(yn,{children:(_r,Ba)=>{Re(_r,{get hidden(){return i(a)},get page(){return W.Sync}})},$$slots:{default:!0}})},As=yn=>{var _r=z(),Ba=B(_r);{var Bs=Sn=>{Ne(Sn,{children:(pr,La)=>{Re(pr,{get hidden(){return i(a)},get page(){return W.Subscription}})},$$slots:{default:!0}})},Ls=Sn=>{var pr=z(),La=B(pr);{var Ms=bn=>{Ne(bn,{children:(Wr,Os)=>{Re(Wr,{get hidden(){return i(a)},get page(){return W.About}})},$$slots:{default:!0}})},Is=bn=>{Ne(bn,{children:(Wr,Os)=>{fd(Wr,{})},$$slots:{default:!0}})};Y(La,bn=>{t()===W.About?bn(Ms):bn(Is,!1)},!0)}w(Sn,pr)};Y(Ba,Sn=>{t()===W.Subscription?Sn(Bs):Sn(Ls,!1)},!0)}w(yn,_r)};Y(Aa,yn=>{t()===W.Sync?yn(Ns):yn(As,!1)},!0)}w(wn,gr)};Y(Vr,wn=>{t()===W.Exit?wn(qr):wn(Ts,!1)},!0)}w(Ot,Rt)};Y(ht,Ot=>{t()===W.ConfirmAccessKey?Ot($t):Ot(Qt,!1)},!0)}w(Oe,It)};Y(hr,Oe=>{t()===W.Account?Oe(Pe):Oe(Ke,!1)},!0)}w(Mt,mn)};Y(vt,Mt=>{t()===W.AccessKeys?Mt(Ct):Mt(vr,!1)},!0)}w(Qe,Lt)};Y(qe,Qe=>{t()===W.Signin?Qe(Et):Qe(st,!1)},!0)}w(Te,ft)};Y(Se,Te=>{t()===W.Signup?Te(be):Te(kt,!1)},!0)}w(he,Me)};Y(ce,he=>{t()===W.Auth?he(ye):he(ue,!1)},!0)}w(U,$)};Y(P,U=>{t()===W.Start?U(H):U(te,!1)},!0)}w(F,N)};Y(J,F=>{t()===W.ClearStore?F(ee):F(we,!1)},!0)}w(Z,X)};Y(L,Z=>{t()===W.ExportData?Z(I):Z(O,!1)},!0)}w(b,M)};Y(x,b=>{t()===W.ImportData?b(y):b(m,!1)},!0)}w(k,D)};Y(_,k=>{t()===W.EditNote?k(S):k(E,!1)},!0)}w(f,p)};Y(v,f=>{t()===W.NewNote?f(g):f(h,!1)},!0)}w(u,d)};Y(s,u=>{t()===W.Settings?u(l):u(c,!1)})}w(e,o)};var pd=q("<!> <!>",1);function md(e,t){K(t,!0);const{getStackPages:n,popStackPages:r}=Bt(),{getAccount:a}=Da(),{getAppHistory:o}=dt();let s=R(n),l=R(()=>a()!==void 0);const c=R(()=>o().pathname),{checkMobileSize:u}=Wn();var d=pd(),v=B(d);{var g=_=>{var S=z(),E=B(S);{var k=x=>{od(x,{})},D=x=>{rd(x,{})};Y(E,x=>{i(c)==="/bin"?x(k):x(D,!1)})}w(_,S)};Y(v,_=>{i(l)&&_(g)})}var h=j(v,2);{var f=_=>{var S=z(),E=B(S);Hr(E,19,()=>i(s),k=>k.page,(k,D,x)=>{const y=R(()=>i(D).page.split("?")[1]),m=R(()=>i(D).page.split("?")[0]);{let b=R(()=>i(x)!==i(s).length-1&&!!i(s)[i(x)+1]?.shown),M=R(()=>i(x)===0);Xa(k,{get shown(){return i(D).shown},get hidden(){return i(b)},get isLastDialog(){return i(M)},children:(L,I)=>{{let O=R(()=>i(x)!==i(s).length-1&&!!i(s)[i(x)+1]?.shown);Qa(L,()=>i(m),()=>i(y),()=>i(O))}},$$slots:{default:!0}})}}),w(_,S)},p=_=>{var S=z(),E=B(S);{var k=D=>{const x=R(()=>i(s)[i(s).length-1].page.split("?")[1]),y=R(()=>i(s)[i(s).length-1].page.split("?")[0]);{let m=R(()=>i(s).length===1);Xa(D,{onBack:()=>r(),get shown(){return i(s)[i(s).length-1].shown},hidden:!1,get isLastDialog(){return i(m)},children:(b,M)=>{Qa(b,()=>i(y),()=>i(x))},$$slots:{default:!0}})}};Y(E,D=>{i(s).length>0&&D(k)},!0)}w(_,S)};Y(h,_=>{u()?_(f):_(p,!1)})}w(e,d),G()}function wd(e,t){K(t,!1);let n=0;pe(()=>{document.addEventListener("touchstart",r=>{n=r.touches[0].clientX},{passive:!1}),document.addEventListener("touchmove",r=>{const o=r.touches[0].clientX-n;(n<50&&o>0||n>window.innerWidth-50&&o<0)&&r.preventDefault()},{passive:!1}),document.addEventListener("touchend",()=>{n=0}),document.addEventListener("touchcancel",()=>{n=0})}),Ca(),G()}const yd=(e,t)=>{i(t)&&i(t).scrollTo({top:0})};var Sd=q('<div class="wrapperButtonTop svelte-1n46o8q"><button class="buttonTop svelte-1n46o8q"><!> <span class="icon svelte-1n46o8q"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></span></button></div>'),bd=q('<!> <!> <main><div class="wrapperHeader svelte-1n46o8q"><!></div> <div class="container svelte-1n46o8q"><!></div></main> <!>',1);function kd(e,t){K(t,!0);const{setScrollContainer:n}=Ta(),{getAccount:r}=Da(),{getStackPagesFormUrl:a}=Bt(),o=qn();pe(async()=>{await new Promise(b=>setTimeout(b,100)),await Io(),o.working=!0});let s=V(!1),l=0,c=R(()=>a().length>0),u=R(r),d=V(null);De(()=>{n(i(d))});const v=()=>{if(i(d)){const b=i(d).scrollTop||0;b===0?C(s,!1):!i(s)&&l>b?C(s,!0):i(s)&&l+50<b&&C(s,!1),l=b}},g=()=>{v()};De(()=>(i(d)?.addEventListener("scroll",g),window.addEventListener("resize",g),()=>{i(d)?.removeEventListener("scroll",g),window.removeEventListener("resize",g)}));var h=bd(),f=B(h);wd(f,{});var p=j(f,2);xc(p,{});var _=j(p,2),S=T(_),E=T(S);{var k=b=>{Zc(b,{})};Y(E,b=>{i(u)!==void 0&&b(k)})}var D=j(S,2),x=T(D);md(x,{}),St(_,b=>C(d,b),()=>i(d));var y=j(_,2);{var m=b=>{var M=Sd(),L=T(M);L.__click=[yd,d];var I=T(L);Xe(I,{children:(X,J)=>{var ee=Be("top");w(X,ee)}});var O=j(I,2),Z=T(O);_e(Z,()=>({"--rotate":"90deg","--size":"28px"})),me(Z.lastChild,{name:"back"}),w(b,M)};Y(y,b=>{i(s)&&b(m)})}le(()=>{nr(_,`--swiping-ratio: ${o.swipingRatio}; --transition-timing-default: ${o.duration}s;`),fe(_,1,de(["main",{isAnimationOn:o.working&&!o.isSwiping,open:i(c)}]),"svelte-1n46o8q")}),w(e,h),G()}$e(["click"]);function Ed(e){bc(e,{children:(t,n)=>{kd(t,{})}})}window.addEventListener("unhandledrejection",e=>{alert("Error: "+e.reason.message)});window.isUnsupportedBrowser||al(Ed,{target:document.getElementById("app")});export{qn as $,Da as A,Rn as B,cs as C,ka as D,Wl as E,Ca as F,xd as G,id as H,me as I,oe as J,fe as K,xs as L,de as M,Dd as N,Td as O,W as P,nr as Q,Gl as R,Wn as S,St as T,Tl as U,Xe as V,Cs as W,gl as X,Ml as Y,mc as Z,$o as _,_e as a,gs as a0,ae as a1,bs as a2,ke as b,T as c,w as d,Hr as e,q as f,i as g,Bt as h,fr as i,V as j,Ae as k,C as l,Y as m,G as n,pe as o,K as p,z as q,B as r,j as s,le as t,De as u,$e as v,Be as w,tr as x,R as y,dt as z};
