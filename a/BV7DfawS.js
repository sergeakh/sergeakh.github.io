const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["a/bYeEfJGH.js","a/BAW-HnOs.css","a/Cy-iG3iB.js","a/9q_jSmK4.js","a/BEGDcNQV.js","a/CoBIEQkN.css","a/CLlWQUX8.js","a/BYiYfrGn.css","a/BSdYyFOB.js","a/A07xSe-1.css","a/DGlqIshA.js","a/B_UsPGEu.css","a/9QygVAVo.js","a/Cpa8lgv9.js","a/BM6iwQlR.js","a/j0KFa_-O.css","a/hu7yjlv8.css","a/uQI0mhq6.js","a/BpwtbDCk.js","a/CTZccJ9I.css","a/HOTUjnfJ.css","a/BXUBqfKd.js","a/DdvqrzuO.css","a/Droblc97.js","a/B0cemaEl.css","a/lBcQLSTl.js","a/wHiSqZiK.css","a/7Iv7IlCY.js","a/C8sRkNG7.js","a/BJkY6727.css","a/y0SFeWBP.js","a/CTvV7MYb.css","a/BjcBw0dT.js","a/D0s4m_LM.css","a/Dn_I4I7M.js","a/CwLtx71M.css","a/DXK-K5NV.js","a/CBB22PtM.css","a/BRY5IyTJ.js","a/1JBO3KHP.css"])))=>i.map(i=>d[i]);
var Ls=Object.defineProperty;var Ba=e=>{throw TypeError(e)};var Ms=(e,t,n)=>t in e?Ls(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Pn=(e,t,n)=>Ms(e,typeof t!="symbol"?t+"":t,n),Kr=(e,t,n)=>t.has(e)||Ba("Cannot "+n);var L=(e,t,n)=>(Kr(e,t,"read from private field"),n?n.call(e):t.get(e)),fe=(e,t,n)=>t.has(e)?Ba("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Q=(e,t,n,r)=>(Kr(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Ve=(e,t,n)=>(Kr(e,t,"access private method"),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();const to=!1;var va=Array.isArray,Bs=Array.prototype.indexOf,ha=Array.from,ea=Object.defineProperty,Tn=Object.getOwnPropertyDescriptor,no=Object.getOwnPropertyDescriptors,Is=Object.prototype,Os=Array.prototype,ga=Object.getPrototypeOf,Ia=Object.isExtensible;const ve=()=>{};function Rs(e){return typeof e?.then=="function"}function Fs(e){return e()}function Er(e){for(var t=0;t<e.length;t++)e[t]()}function zs(){var e,t,n=new Promise((r,o)=>{e=r,t=o});return{promise:n,resolve:e,reject:t}}function Hs(e,t,n=!1){return e===void 0?n?t():t:e}const et=2,_a=4,Lr=8,Hn=16,Mt=32,_n=64,pa=128,it=256,Pr=512,Ue=1024,lt=2048,$t=4096,ht=8192,pn=16384,ma=32768,Un=65536,Oa=1<<17,Us=1<<18,jn=1<<19,ro=1<<20,ta=1<<21,wa=1<<22,fn=1<<23,vn=Symbol("$state"),js=Symbol("legacy props"),Vs=Symbol(""),ya=new class extends Error{constructor(){super(...arguments);Pn(this,"name","StaleReactionError");Pn(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function ao(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function qs(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Ws(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Ys(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Ks(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Gs(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Xs(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function Zs(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Js(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Qs(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function $s(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const Mr=1,Br=2,oo=4,ei=8,ti=16,ni=1,ri=2,ai=4,oi=8,si=16,ii=1,li=2,Le=Symbol(),ci="http://www.w3.org/1999/xhtml";let ui=!1;function so(e){return e===this.v}function di(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function io(e){return!di(e,this.v)}let Vn=!1,fi=!1;function vi(){Vn=!0}let we=null;function Jt(e){we=e}function Ae(e){return lo().get(e)}function Ne(e,t){return lo().set(e,t),t}function K(e,t=!1,n){we={p:we,c:null,e:null,s:e,x:null,l:Vn&&!t?{s:null,u:null,$:[]}:null}}function G(e){var t=we,n=t.e;if(n!==null){t.e=null;for(var r of n)Co(r)}return e!==void 0&&(t.x=e),we=t.p,e??{}}function qn(){return!Vn||we!==null&&we.l===null}function lo(e){return we===null&&ao(),we.c??(we.c=new Map(hi(we)||void 0))}function hi(e){let t=e.p;for(;t!==null;){const n=t.c;if(n!==null)return n;t=t.p}return null}let Yt=[],xr=[];function co(){var e=Yt;Yt=[],Er(e)}function gi(){var e=xr;xr=[],Er(e)}function _i(){return Yt.length>0||xr.length>0}function mn(e){if(Yt.length===0&&!Qn){var t=Yt;queueMicrotask(()=>{t===Yt&&co()})}Yt.push(e)}function pi(){Yt.length>0&&co(),xr.length>0&&gi()}const mi=new WeakMap;function uo(e){var t=ie;if(t===null)return oe.f|=fn,e;if((t.f&ma)===0){if((t.f&pa)===0)throw!t.parent&&e instanceof Error&&fo(e),e;t.b.error(e)}else On(e,t)}function On(e,t){for(;t!==null;){if((t.f&pa)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e instanceof Error&&fo(e),e}function fo(e){const t=mi.get(e);t&&(ea(e,"message",{value:t.message}),ea(e,"stack",{value:t.stack}))}const Gr=new Set;let ke=null,yr=null,na=new Set,gn=[],Ir=null,ra=!1,Qn=!1;var rr,Mn,Ut,ar,or,sn,Bn,ln,jt,In,sr,ir,gt,vo,br,aa;const Tr=class Tr{constructor(){fe(this,gt);Pn(this,"current",new Map);fe(this,rr,new Map);fe(this,Mn,new Set);fe(this,Ut,0);fe(this,ar,null);fe(this,or,!1);fe(this,sn,[]);fe(this,Bn,[]);fe(this,ln,[]);fe(this,jt,[]);fe(this,In,[]);fe(this,sr,[]);fe(this,ir,[]);Pn(this,"skipped_effects",new Set)}process(t){gn=[],yr=null;for(const o of t)Ve(this,gt,vo).call(this,o);if(L(this,sn).length===0&&L(this,Ut)===0){Ve(this,gt,aa).call(this);var n=L(this,ln),r=L(this,jt);Q(this,ln,[]),Q(this,jt,[]),Q(this,In,[]),yr=ke,ke=null,Ra(n),Ra(r),ke===null?ke=this:Gr.delete(this),L(this,ar)?.resolve()}else Ve(this,gt,br).call(this,L(this,ln)),Ve(this,gt,br).call(this,L(this,jt)),Ve(this,gt,br).call(this,L(this,In));for(const o of L(this,sn))Ln(o);for(const o of L(this,Bn))Ln(o);Q(this,sn,[]),Q(this,Bn,[])}capture(t,n){L(this,rr).has(t)||L(this,rr).set(t,n),this.current.set(t,t.v)}activate(){ke=this}deactivate(){ke=null,yr=null;for(const t of na)if(na.delete(t),t(),ke!==null)break}neuter(){Q(this,or,!0)}flush(){gn.length>0?go():Ve(this,gt,aa).call(this),ke===this&&(L(this,Ut)===0&&Gr.delete(this),this.deactivate())}increment(){Q(this,Ut,L(this,Ut)+1)}decrement(){if(Q(this,Ut,L(this,Ut)-1),L(this,Ut)===0){for(const t of L(this,sr))Ke(t,lt),Rn(t);for(const t of L(this,ir))Ke(t,$t),Rn(t);Q(this,ln,[]),Q(this,jt,[]),this.flush()}else this.deactivate()}add_callback(t){L(this,Mn).add(t)}settled(){return(L(this,ar)??Q(this,ar,zs())).promise}static ensure(){if(ke===null){const t=ke=new Tr;Gr.add(ke),Qn||Tr.enqueue(()=>{ke===t&&t.flush()})}return ke}static enqueue(t){mn(t)}};rr=new WeakMap,Mn=new WeakMap,Ut=new WeakMap,ar=new WeakMap,or=new WeakMap,sn=new WeakMap,Bn=new WeakMap,ln=new WeakMap,jt=new WeakMap,In=new WeakMap,sr=new WeakMap,ir=new WeakMap,gt=new WeakSet,vo=function(t){t.f^=Ue;for(var n=t.first;n!==null;){var r=n.f,o=(r&(Mt|_n))!==0,a=o&&(r&Ue)!==0,i=a||(r&ht)!==0||this.skipped_effects.has(n);if(!i&&n.fn!==null){if(o)n.f^=Ue;else if((r&_a)!==0)L(this,jt).push(n);else if((r&Ue)===0)if((r&wa)!==0){var l=n.b?.is_pending()?L(this,Bn):L(this,sn);l.push(n)}else zr(n)&&((n.f&Hn)!==0&&L(this,In).push(n),Ln(n));var c=n.first;if(c!==null){n=c;continue}}var u=n.parent;for(n=n.next;n===null&&u!==null;)n=u.next,u=u.parent}},br=function(t){for(const n of t)((n.f&lt)!==0?L(this,sr):L(this,ir)).push(n),Ke(n,Ue);t.length=0},aa=function(){if(!L(this,or))for(const t of L(this,Mn))t();L(this,Mn).clear()};let Gt=Tr;function ho(e){var t=Qn;Qn=!0;try{for(var n;;){if(pi(),gn.length===0&&!_i()&&(ke?.flush(),gn.length===0))return Ir=null,n;go()}}finally{Qn=t}}function go(){var e=Nn;ra=!0;try{var t=0;for(Ha(!0);gn.length>0;){var n=Gt.ensure();if(t++>1e3){var r,o;wi()}n.process(gn),Xt.clear()}}finally{ra=!1,Ha(e),Ir=null}}function wi(){try{Gs()}catch(e){On(e,Ir)}}let on=null;function Ra(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if((r.f&(pn|ht))===0&&zr(r)&&(on=[],Ln(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?xo(r):r.fn=null),on?.length>0)){Xt.clear();for(const o of on)Ln(o);on=[]}}on=null}}function Rn(e){for(var t=Ir=e;t.parent!==null;){t=t.parent;var n=t.f;if(ra&&t===ie&&(n&Hn)!==0)return;if((n&(_n|Mt))!==0){if((n&Ue)===0)return;t.f^=Ue}}gn.push(t)}function yi(e){let t=0,n=Lt(0),r;return()=>{Oi()&&(s(n),Fr(()=>(t===0&&(r=Ct(()=>e(()=>$n(n)))),t+=1,()=>{mn(()=>{t-=1,t===0&&(r?.(),r=void 0,$n(n))})})))}}var bi=Un|jn|pa;function Si(e,t,n){new ki(e,t,n)}var ft,ot,fa,yt,cn,bt,st,Ye,St,Vt,un,qt,dn,Wt,Ar,Nr,We,Ci,Ei,Sr,kr,oa;class ki{constructor(t,n,r){fe(this,We);Pn(this,"parent");fe(this,ft,!1);fe(this,ot);fe(this,fa,null);fe(this,yt);fe(this,cn);fe(this,bt);fe(this,st,null);fe(this,Ye,null);fe(this,St,null);fe(this,Vt,null);fe(this,un,0);fe(this,qt,0);fe(this,dn,!1);fe(this,Wt,null);fe(this,Ar,()=>{L(this,Wt)&&At(L(this,Wt),L(this,un))});fe(this,Nr,yi(()=>(Q(this,Wt,Lt(L(this,un))),()=>{Q(this,Wt,null)})));Q(this,ot,t),Q(this,yt,n),Q(this,cn,r),this.parent=ie.b,Q(this,ft,!!L(this,yt).pending),Q(this,bt,Wn(()=>{ie.b=this;{try{Q(this,st,He(()=>r(L(this,ot))))}catch(o){this.error(o)}L(this,qt)>0?Ve(this,We,kr).call(this):Q(this,ft,!1)}},bi))}is_pending(){return L(this,ft)||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!L(this,yt).pending}update_pending_count(t){Ve(this,We,oa).call(this,t),Q(this,un,L(this,un)+t),na.add(L(this,Ar))}get_effect_pending(){return L(this,Nr).call(this),s(L(this,Wt))}error(t){var n=L(this,yt).onerror;let r=L(this,yt).failed;if(L(this,dn)||!n&&!r)throw t;L(this,st)&&($e(L(this,st)),Q(this,st,null)),L(this,Ye)&&($e(L(this,Ye)),Q(this,Ye,null)),L(this,St)&&($e(L(this,St)),Q(this,St,null));var o=!1,a=!1;const i=()=>{if(o){return}o=!0,a&&$s(),Gt.ensure(),Q(this,un,0),L(this,St)!==null&&kt(L(this,St),()=>{Q(this,St,null)}),Q(this,ft,this.has_pending_snippet()),Q(this,st,Ve(this,We,Sr).call(this,()=>(Q(this,dn,!1),He(()=>L(this,cn).call(this,L(this,ot)))))),L(this,qt)>0?Ve(this,We,kr).call(this):Q(this,ft,!1)};var l=oe;try{je(null),a=!0,n?.(t,i),a=!1}catch(c){On(c,L(this,bt)&&L(this,bt).parent)}finally{je(l)}r&&mn(()=>{Q(this,St,Ve(this,We,Sr).call(this,()=>{Q(this,dn,!0);try{return He(()=>{r(L(this,ot),()=>t,()=>i)})}catch(c){return On(c,L(this,bt).parent),null}finally{Q(this,dn,!1)}}))})}}ft=new WeakMap,ot=new WeakMap,fa=new WeakMap,yt=new WeakMap,cn=new WeakMap,bt=new WeakMap,st=new WeakMap,Ye=new WeakMap,St=new WeakMap,Vt=new WeakMap,un=new WeakMap,qt=new WeakMap,dn=new WeakMap,Wt=new WeakMap,Ar=new WeakMap,Nr=new WeakMap,We=new WeakSet,Ci=function(){try{Q(this,st,He(()=>L(this,cn).call(this,L(this,ot))))}catch(t){this.error(t)}Q(this,ft,!1)},Ei=function(){const t=L(this,yt).pending;t&&(Q(this,Ye,He(()=>t(L(this,ot)))),Gt.enqueue(()=>{Q(this,st,Ve(this,We,Sr).call(this,()=>(Gt.ensure(),He(()=>L(this,cn).call(this,L(this,ot)))))),L(this,qt)>0?Ve(this,We,kr).call(this):(kt(L(this,Ye),()=>{Q(this,Ye,null)}),Q(this,ft,!1))}))},Sr=function(t){var n=ie,r=oe,o=we;ct(L(this,bt)),je(L(this,bt)),Jt(L(this,bt).ctx);try{return t()}catch(a){return uo(a),null}finally{ct(n),je(r),Jt(o)}},kr=function(){const t=L(this,yt).pending;L(this,st)!==null&&(Q(this,Vt,document.createDocumentFragment()),Pi(L(this,st),L(this,Vt))),L(this,Ye)===null&&Q(this,Ye,He(()=>t(L(this,ot))))},oa=function(t){var n;if(!this.has_pending_snippet()){this.parent&&Ve(n=this.parent,We,oa).call(n,t);return}Q(this,qt,L(this,qt)+t),L(this,qt)===0&&(Q(this,ft,!1),L(this,Ye)&&kt(L(this,Ye),()=>{Q(this,Ye,null)}),L(this,Vt)&&(L(this,ot).before(L(this,Vt)),Q(this,Vt,null)))};function Pi(e,t){for(var n=e.nodes_start,r=e.nodes_end;n!==null;){var o=n===r?null:cr(n);t.append(n),n=o}}function xi(e,t,n){const r=qn()?lr:Or;if(t.length===0){n(e.map(r));return}var o=ke,a=ie,i=Di();Promise.all(t.map(l=>Ti(l))).then(l=>{o?.activate(),i();try{n([...e.map(r),...l])}catch(c){(a.f&pn)===0&&On(c,a)}o?.deactivate(),_o()}).catch(l=>{On(l,a)})}function Di(){var e=ie,t=oe,n=we,r=ke;return function(){ct(e),je(t),Jt(n),r?.activate()}}function _o(){ct(null),je(null),Jt(null)}function lr(e){var t=et|lt,n=oe!==null&&(oe.f&et)!==0?oe:null;return ie===null||n!==null&&(n.f&it)!==0?t|=it:ie.f|=jn,{ctx:we,deps:null,effects:null,equals:so,f:t,fn:e,reactions:null,rv:0,v:Le,wv:0,parent:n??ie,ac:null}}function Ti(e,t){let n=ie;n===null&&qs();var r=n.b,o=void 0,a=Lt(Le),i=null,l=!oe;return Ui(()=>{try{var c=e();i&&Promise.resolve(c).catch(()=>{})}catch(h){c=Promise.reject(h)}var u=()=>c;o=i?.then(u,u)??Promise.resolve(c),i=o;var d=ke,v=r.is_pending();l&&(r.update_pending_count(1),v||d.increment());const g=(h,f=void 0)=>{i=null,v||d.activate(),f?f!==ya&&(a.f|=fn,At(a,f)):((a.f&fn)!==0&&(a.f^=fn),At(a,h)),l&&(r.update_pending_count(-1),v||d.decrement()),_o()};if(o.then(g,h=>g(null,h||"unknown")),d)return()=>{queueMicrotask(()=>d.neuter())}}),new Promise(c=>{function u(d){function v(){d===o?c(a):u(o)}d.then(v,v)}u(o)})}function I(e){const t=lr(e);return Ao(t),t}function Or(e){const t=lr(e);return t.equals=io,t}function po(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)$e(t[n])}}function Ai(e){for(var t=e.parent;t!==null;){if((t.f&et)===0)return t;t=t.parent}return null}function ba(e){var t,n=ie;ct(Ai(e));try{po(e),t=Bo(e)}finally{ct(n)}return t}function mo(e){var t=ba(e);if(e.equals(t)||(e.v=t,e.wv=Lo()),!yn){var n=(Kt||(e.f&it)!==0)&&e.deps!==null?$t:Ue;Ke(e,n)}}const Xt=new Map;function Lt(e,t){var n={f:0,v:e,reactions:null,equals:so,rv:0,wv:0};return n}function O(e,t){const n=Lt(e);return Ao(n),n}function sa(e,t=!1,n=!0){var o;const r=Lt(e);return t||(r.equals=io),Vn&&n&&we!==null&&we.l!==null&&((o=we.l).s??(o.s=[])).push(r),r}function y(e,t,n=!1){oe!==null&&(!vt||(oe.f&Oa)!==0)&&qn()&&(oe.f&(et|Hn|wa|Oa))!==0&&!Nt?.includes(e)&&Qs();let r=n?Be(t):t;return At(e,r)}function At(e,t){if(!e.equals(t)){var n=e.v;yn?Xt.set(e,t):Xt.set(e,n),e.v=t;var r=Gt.ensure();r.capture(e,n),(e.f&et)!==0&&((e.f&lt)!==0&&ba(e),Ke(e,(e.f&it)===0?Ue:$t)),e.wv=Lo(),wo(e,lt),qn()&&ie!==null&&(ie.f&Ue)!==0&&(ie.f&(Mt|_n))===0&&(at===null?qi([e]):at.push(e))}return t}function $n(e){y(e,e.v+1)}function wo(e,t){var n=e.reactions;if(n!==null)for(var r=qn(),o=n.length,a=0;a<o;a++){var i=n[a],l=i.f;if(!(!r&&i===ie)){var c=(l&lt)===0;c&&Ke(i,t),(l&et)!==0?wo(i,$t):c&&((l&Hn)!==0&&on!==null&&on.push(i),Rn(i))}}}function Be(e){if(typeof e!="object"||e===null||vn in e)return e;const t=ga(e);if(t!==Is&&t!==Os)return e;var n=new Map,r=va(e),o=O(0),a=hn,i=l=>{if(hn===a)return l();var c=oe,u=hn;je(null),ja(a);var d=l();return je(c),ja(u),d};return r&&n.set("length",O(e.length)),new Proxy(e,{defineProperty(l,c,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&Zs();var d=n.get(c);return d===void 0?d=i(()=>{var v=O(u.value);return n.set(c,v),v}):y(d,u.value,!0),!0},deleteProperty(l,c){var u=n.get(c);if(u===void 0){if(c in l){const d=i(()=>O(Le));n.set(c,d),$n(o)}}else y(u,Le),$n(o);return!0},get(l,c,u){if(c===vn)return e;var d=n.get(c),v=c in l;if(d===void 0&&(!v||Tn(l,c)?.writable)&&(d=i(()=>{var h=Be(v?l[c]:Le),f=O(h);return f}),n.set(c,d)),d!==void 0){var g=s(d);return g===Le?void 0:g}return Reflect.get(l,c,u)},getOwnPropertyDescriptor(l,c){var u=Reflect.getOwnPropertyDescriptor(l,c);if(u&&"value"in u){var d=n.get(c);d&&(u.value=s(d))}else if(u===void 0){var v=n.get(c),g=v?.v;if(v!==void 0&&g!==Le)return{enumerable:!0,configurable:!0,value:g,writable:!0}}return u},has(l,c){if(c===vn)return!0;var u=n.get(c),d=u!==void 0&&u.v!==Le||Reflect.has(l,c);if(u!==void 0||ie!==null&&(!d||Tn(l,c)?.writable)){u===void 0&&(u=i(()=>{var g=d?Be(l[c]):Le,h=O(g);return h}),n.set(c,u));var v=s(u);if(v===Le)return!1}return d},set(l,c,u,d){var v=n.get(c),g=c in l;if(r&&c==="length")for(var h=u;h<v.v;h+=1){var f=n.get(h+"");f!==void 0?y(f,Le):h in l&&(f=i(()=>O(Le)),n.set(h+"",f))}if(v===void 0)(!g||Tn(l,c)?.writable)&&(v=i(()=>O(void 0)),y(v,Be(u)),n.set(c,v));else{g=v.v!==Le;var _=i(()=>Be(u));y(v,_)}var w=Reflect.getOwnPropertyDescriptor(l,c);if(w?.set&&w.set.call(d,u),!g){if(r&&typeof c=="string"){var k=n.get("length"),E=Number(c);Number.isInteger(E)&&E>=k.v&&y(k,E+1)}$n(o)}return!0},ownKeys(l){s(o);var c=Reflect.ownKeys(l).filter(v=>{var g=n.get(v);return g===void 0||g.v!==Le});for(var[u,d]of n)d.v!==Le&&!(u in l)&&c.push(u);return c},setPrototypeOf(){Js()}})}var Fa,yo,bo,So;function Ni(){if(Fa===void 0){Fa=window,yo=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;bo=Tn(t,"firstChild").get,So=Tn(t,"nextSibling").get,Ia(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Ia(n)&&(n.__t=void 0)}}function wn(e=""){return document.createTextNode(e)}function Fn(e){return bo.call(e)}function cr(e){return So.call(e)}function D(e,t){return Fn(e)}function M(e,t=!1){{var n=Fn(e);return n instanceof Comment&&n.data===""?cr(n):n}}function R(e,t=1,n=!1){let r=e;for(;t--;)r=cr(r);return r}function Li(e){e.textContent=""}function Sa(){return!1}let za=!1;function Mi(){za||(za=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function Rr(e){var t=oe,n=ie;je(null),ct(null);try{return e()}finally{je(t),ct(n)}}function Bi(e,t,n,r=n){e.addEventListener(t,()=>Rr(n));const o=e.__on_r;o?e.__on_r=()=>{o(),r(!0)}:e.__on_r=()=>r(!0),Mi()}function ko(e){ie===null&&oe===null&&Ks(),oe!==null&&(oe.f&it)!==0&&ie===null&&Ys(),yn&&Ws()}function Ii(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function Pt(e,t,n,r=!0){var o=ie;o!==null&&(o.f&ht)!==0&&(e|=ht);var a={ctx:we,deps:null,nodes_start:null,nodes_end:null,f:e|lt,first:null,fn:t,last:null,next:null,parent:o,b:o&&o.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{Ln(a),a.f|=ma}catch(c){throw $e(a),c}else t!==null&&Rn(a);if(r){var i=a;if(n&&i.deps===null&&i.teardown===null&&i.nodes_start===null&&i.first===i.last&&(i.f&jn)===0&&(i=i.first),i!==null&&(i.parent=o,o!==null&&Ii(i,o),oe!==null&&(oe.f&et)!==0&&(e&_n)===0)){var l=oe;(l.effects??(l.effects=[])).push(i)}}return a}function Oi(){return oe!==null&&!vt}function Ri(e){const t=Pt(Lr,null,!1);return Ke(t,Ue),t.teardown=e,t}function Te(e){ko();var t=ie.f,n=!oe&&(t&Mt)!==0&&(t&ma)===0;if(n){var r=we;(r.e??(r.e=[])).push(e)}else return Co(e)}function Co(e){return Pt(_a|ro,e,!1)}function Fi(e){return ko(),Pt(Lr|ro,e,!0)}function zi(e){Gt.ensure();const t=Pt(_n|jn,e,!0);return(n={})=>new Promise(r=>{n.outro?kt(t,()=>{$e(t),r(void 0)}):($e(t),r(void 0))})}function Hi(e){return Pt(_a,e,!1)}function Ui(e){return Pt(wa|jn,e,!0)}function Fr(e,t=0){return Pt(Lr|t,e,!0)}function le(e,t=[],n=[]){xi(t,n,r=>{Pt(Lr,()=>e(...r.map(s)),!0)})}function Wn(e,t=0){var n=Pt(Hn|t,e,!0);return n}function He(e,t=!0){return Pt(Mt|jn,e,!0,t)}function Eo(e){var t=e.teardown;if(t!==null){const n=yn,r=oe;Ua(!0),je(null);try{t.call(null)}finally{Ua(n),je(r)}}}function Po(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const o=n.ac;o!==null&&Rr(()=>{o.abort(ya)});var r=n.next;(n.f&_n)!==0?n.parent=null:$e(n,t),n=r}}function ji(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&Mt)===0&&$e(t),t=n}}function $e(e,t=!0){var n=!1;(t||(e.f&Us)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(Vi(e.nodes_start,e.nodes_end),n=!0),Po(e,t&&!n),Dr(e,0),Ke(e,pn);var r=e.transitions;if(r!==null)for(const a of r)a.stop();Eo(e);var o=e.parent;o!==null&&o.first!==null&&xo(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function Vi(e,t){for(;e!==null;){var n=e===t?null:cr(e);e.remove(),e=n}}function xo(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function kt(e,t){var n=[];ka(e,n,!0),Do(n,()=>{$e(e),t&&t()})}function Do(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var o of e)o.out(r)}else t()}function ka(e,t,n){if((e.f&ht)===0){if(e.f^=ht,e.transitions!==null)for(const i of e.transitions)(i.is_global||n)&&t.push(i);for(var r=e.first;r!==null;){var o=r.next,a=(r.f&Un)!==0||(r.f&Mt)!==0;ka(r,t,a?n:!1),r=o}}}function An(e){To(e,!0)}function To(e,t){if((e.f&ht)!==0){e.f^=ht,(e.f&Ue)===0&&(Ke(e,lt),Rn(e));for(var n=e.first;n!==null;){var r=n.next,o=(n.f&Un)!==0||(n.f&Mt)!==0;To(n,o?t:!1),n=r}if(e.transitions!==null)for(const a of e.transitions)(a.is_global||t)&&a.in()}}let Nn=!1;function Ha(e){Nn=e}let yn=!1;function Ua(e){yn=e}let oe=null,vt=!1;function je(e){oe=e}let ie=null;function ct(e){ie=e}let Nt=null;function Ao(e){oe!==null&&(Nt===null?Nt=[e]:Nt.push(e))}let qe=null,Je=0,at=null;function qi(e){at=e}let No=1,er=0,hn=er;function ja(e){hn=e}let Kt=!1;function Lo(){return++No}function zr(e){var t=e.f;if((t&lt)!==0)return!0;if((t&$t)!==0){var n=e.deps,r=(t&it)!==0;if(n!==null){var o,a,i=(t&Pr)!==0,l=r&&ie!==null&&!Kt,c=n.length;if((i||l)&&(ie===null||(ie.f&pn)===0)){var u=e,d=u.parent;for(o=0;o<c;o++)a=n[o],(i||!a?.reactions?.includes(u))&&(a.reactions??(a.reactions=[])).push(u);i&&(u.f^=Pr),l&&d!==null&&(d.f&it)===0&&(u.f^=it)}for(o=0;o<c;o++)if(a=n[o],zr(a)&&mo(a),a.wv>e.wv)return!0}(!r||ie!==null&&!Kt)&&Ke(e,Ue)}return!1}function Mo(e,t,n=!0){var r=e.reactions;if(r!==null&&!Nt?.includes(e))for(var o=0;o<r.length;o++){var a=r[o];(a.f&et)!==0?Mo(a,t,!1):t===a&&(n?Ke(a,lt):(a.f&Ue)!==0&&Ke(a,$t),Rn(a))}}function Bo(e){var _;var t=qe,n=Je,r=at,o=oe,a=Kt,i=Nt,l=we,c=vt,u=hn,d=e.f;qe=null,Je=0,at=null,Kt=(d&it)!==0&&(vt||!Nn||oe===null),oe=(d&(Mt|_n))===0?e:null,Nt=null,Jt(e.ctx),vt=!1,hn=++er,e.ac!==null&&(Rr(()=>{e.ac.abort(ya)}),e.ac=null);try{e.f|=ta;var v=e.fn,g=v(),h=e.deps;if(qe!==null){var f;if(Dr(e,Je),h!==null&&Je>0)for(h.length=Je+qe.length,f=0;f<qe.length;f++)h[Je+f]=qe[f];else e.deps=h=qe;if(!Kt||(d&et)!==0&&e.reactions!==null)for(f=Je;f<h.length;f++)((_=h[f]).reactions??(_.reactions=[])).push(e)}else h!==null&&Je<h.length&&(Dr(e,Je),h.length=Je);if(qn()&&at!==null&&!vt&&h!==null&&(e.f&(et|$t|lt))===0)for(f=0;f<at.length;f++)Mo(at[f],e);return o!==null&&o!==e&&(er++,at!==null&&(r===null?r=at:r.push(...at))),(e.f&fn)!==0&&(e.f^=fn),g}catch(w){return uo(w)}finally{e.f^=ta,qe=t,Je=n,at=r,oe=o,Kt=a,Nt=i,Jt(l),vt=c,hn=u}}function Wi(e,t){let n=t.reactions;if(n!==null){var r=Bs.call(n,e);if(r!==-1){var o=n.length-1;o===0?n=t.reactions=null:(n[r]=n[o],n.pop())}}n===null&&(t.f&et)!==0&&(qe===null||!qe.includes(t))&&(Ke(t,$t),(t.f&(it|Pr))===0&&(t.f^=Pr),po(t),Dr(t,0))}function Dr(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)Wi(e,n[r])}function Ln(e){var t=e.f;if((t&pn)===0){Ke(e,Ue);var n=ie,r=Nn;ie=e,Nn=!0;try{(t&Hn)!==0?ji(e):Po(e),Eo(e);var o=Bo(e);e.teardown=typeof o=="function"?o:null,e.wv=No;var a;to&&fi&&(e.f&lt)!==0&&e.deps}finally{Nn=r,ie=n}}}async function Io(){await Promise.resolve(),ho()}function s(e){var t=e.f,n=(t&et)!==0;if(oe!==null&&!vt){var r=ie!==null&&(ie.f&pn)!==0;if(!r&&!Nt?.includes(e)){var o=oe.deps;if((oe.f&ta)!==0)e.rv<er&&(e.rv=er,qe===null&&o!==null&&o[Je]===e?Je++:qe===null?qe=[e]:(!Kt||!qe.includes(e))&&qe.push(e));else{(oe.deps??(oe.deps=[])).push(e);var a=e.reactions;a===null?e.reactions=[oe]:a.includes(oe)||a.push(oe)}}}else if(n&&e.deps===null&&e.effects===null){var i=e,l=i.parent;l!==null&&(l.f&it)===0&&(i.f^=it)}if(yn){if(Xt.has(e))return Xt.get(e);if(n){i=e;var c=i.v;return((i.f&Ue)===0&&i.reactions!==null||Oo(i))&&(c=ba(i)),Xt.set(i,c),c}}else n&&(i=e,zr(i)&&mo(i));if((e.f&fn)!==0)throw e.v;return e.v}function Oo(e){if(e.v===Le)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(Xt.has(t)||(t.f&et)!==0&&Oo(t))return!0;return!1}function Ct(e){var t=vt;try{return vt=!0,e()}finally{vt=t}}const Yi=-7169;function Ke(e,t){e.f=e.f&Yi|t}function Ki(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(vn in e)ia(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&vn in n&&ia(n)}}}function ia(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{ia(e[r],t)}catch{}const n=ga(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=no(n);for(let o in r){const a=r[o].get;if(a)try{a.call(e)}catch{}}}}}const Gi=["touchstart","touchmove"];function Xi(e){return Gi.includes(e)}const Ro=new Set,la=new Set;function Zi(e,t,n,r={}){function o(a){if(r.capture||Gn.call(t,a),!a.cancelBubble)return Rr(()=>n?.call(this,a))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?mn(()=>{t.addEventListener(e,o,r)}):t.addEventListener(e,o,r),o}function Ca(e,t,n,r,o){var a={capture:r,passive:o},i=Zi(e,t,n,a);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&Ri(()=>{t.removeEventListener(e,i,a)})}function tt(e){for(var t=0;t<e.length;t++)Ro.add(e[t]);for(var n of la)n(e)}let Va=null;function Gn(e){var t=this,n=t.ownerDocument,r=e.type,o=e.composedPath?.()||[],a=o[0]||e.target;Va=e;var i=0,l=Va===e&&e.__root;if(l){var c=o.indexOf(l);if(c!==-1&&(t===document||t===window)){e.__root=t;return}var u=o.indexOf(t);if(u===-1)return;c<=u&&(i=c)}if(a=o[i]||e.target,a!==t){ea(e,"currentTarget",{configurable:!0,get(){return a||n}});var d=oe,v=ie;je(null),ct(null);try{for(var g,h=[];a!==null;){var f=a.assignedSlot||a.parentNode||a.host||null;try{var _=a["__"+r];if(_!=null&&(!a.disabled||e.target===a))if(va(_)){var[w,...k]=_;w.apply(a,[e,...k])}else _.call(a,e)}catch(E){g?h.push(E):g=E}if(e.cancelBubble||f===t||f===null)break;a=f}if(g){for(let E of h)queueMicrotask(()=>{throw E});throw g}}finally{e.__root=t,delete e.currentTarget,je(d),ct(v)}}}function Fo(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function tr(e,t){var n=ie;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function j(e,t){var n=(t&ii)!==0,r=(t&li)!==0,o,a=!e.startsWith("<!>");return()=>{o===void 0&&(o=Fo(a?e:"<!>"+e),n||(o=Fn(o)));var i=r||yo?document.importNode(o,!0):o.cloneNode(!0);if(n){var l=Fn(i),c=i.lastChild;tr(l,c)}else tr(i,i);return i}}function Ji(e,t,n="svg"){var r=!e.startsWith("<!>"),o=`<${n}>${r?e:"<!>"+e}</${n}>`,a;return()=>{if(!a){var i=Fo(o),l=Fn(i);a=Fn(l)}var c=a.cloneNode(!0);return tr(c,c),c}}function Qi(e,t){return Ji(e,t,"svg")}function De(e=""){{var t=wn(e+"");return tr(t,t),t}}function U(){var e=document.createDocumentFragment(),t=document.createComment(""),n=wn();return e.append(t,n),tr(t,n),e}function m(e,t){e!==null&&e.before(t)}function Pd(){var e;return(e=window.__svelte??(window.__svelte={})).uid??(e.uid=1),`c${window.__svelte.uid++}`}function Zt(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function $i(e,t){return el(e,t)}const xn=new Map;function el(e,{target:t,anchor:n,props:r={},events:o,context:a,intro:i=!0}){Ni();var l=new Set,c=v=>{for(var g=0;g<v.length;g++){var h=v[g];if(!l.has(h)){l.add(h);var f=Xi(h);t.addEventListener(h,Gn,{passive:f});var _=xn.get(h);_===void 0?(document.addEventListener(h,Gn,{passive:f}),xn.set(h,1)):xn.set(h,_+1)}}};c(ha(Ro)),la.add(c);var u=void 0,d=zi(()=>{var v=n??t.appendChild(wn());return Si(v,{pending:()=>{}},g=>{if(a){K({});var h=we;h.c=a}o&&(r.$$events=o),u=e(g,r)||{},a&&G()}),()=>{for(var g of l){t.removeEventListener(g,Gn);var h=xn.get(g);--h===0?(document.removeEventListener(g,Gn),xn.delete(g)):xn.set(g,h)}la.delete(c),v!==n&&v.parentNode?.removeChild(v)}});return tl.set(u,d),u}let tl=new WeakMap;const Xr=0,_r=1,Zr=2;function zo(e,t,n,r,o){var a=e,i=qn(),l=we,c=Le,u,d,v,g=i?Lt(void 0):sa(void 0,!1,!1),h=i?Lt(void 0):sa(void 0,!1,!1),f=!1;function _(k,E){f=!0,E&&(ct(w),je(w),Jt(l));try{k===Xr&&n&&(u?An(u):u=He(()=>n(a))),k===_r&&r&&(d?An(d):d=He(()=>r(a,g))),k===Zr&&o&&(v?An(v):v=He(()=>o(a,h))),k!==Xr&&u&&kt(u,()=>u=null),k!==_r&&d&&kt(d,()=>d=null),k!==Zr&&v&&kt(v,()=>v=null)}finally{E&&(Jt(null),je(null),ct(null),ho())}}var w=Wn(()=>{if(c!==(c=t())){if(Rs(c)){var k=c;f=!1,k.then(E=>{k===c&&(At(g,E),_(_r,!0))},E=>{if(k===c&&(At(h,E),_(Zr,!0),!o))throw h.v}),mn(()=>{f||_(Xr,!0)})}else At(g,c),_(_r,!1);return()=>c=Le}})}function V(e,t,n=!1){var r=e,o=null,a=null,i=Le,l=n?Un:0,c=!1;const u=(h,f=!0)=>{c=!0,g(f,h)};var d=null;function v(){d!==null&&(d.lastChild.remove(),r.before(d),d=null);var h=i?o:a,f=i?a:o;h&&An(h),f&&kt(f,()=>{i?a=null:o=null})}const g=(h,f)=>{if(i!==(i=h)){var _=Sa(),w=r;if(_&&(d=document.createDocumentFragment(),d.append(w=wn())),i?o??(o=f&&He(()=>f(w))):a??(a=f&&He(()=>f(w))),_){var k=ke,E=i?o:a,S=i?a:o;E&&k.skipped_effects.delete(E),S&&k.skipped_effects.add(S),k.add_callback(v)}else v()}};Wn(()=>{c=!1,t(u),c||g(null,null)},l)}function _e(e,t){Fr(()=>{var n=t();for(var r in n){var o=n[r];o?e.style.setProperty(r,o):e.style.removeProperty(r)}})}function nl(e,t,n){for(var r=e.items,o=[],a=t.length,i=0;i<a;i++)ka(t[i].e,o,!0);var l=a>0&&o.length===0&&n!==null;if(l){var c=n.parentNode;Li(c),c.append(n),r.clear(),wt(e,t[0].prev,t[a-1].next)}Do(o,()=>{for(var u=0;u<a;u++){var d=t[u];l||(r.delete(d.k),wt(e,d.prev,d.next)),$e(d.e,!l)}})}function Hr(e,t,n,r,o,a=null){var i=e,l={flags:t,items:new Map,first:null},c=(t&oo)!==0;if(c){var u=e;i=u.appendChild(wn())}var d=null,v=!1,g=new Map,h=Or(()=>{var k=n();return va(k)?k:k==null?[]:ha(k)}),f,_;function w(){rl(_,f,l,g,i,o,t,r,n),a!==null&&(f.length===0?d?An(d):d=He(()=>a(i)):d!==null&&kt(d,()=>{d=null}))}Wn(()=>{_??(_=ie),f=s(h);var k=f.length;if(!(v&&k===0)){v=k===0;var E,S,N,B;if(Sa()){var b=new Set,p=ke;for(S=0;S<k;S+=1){N=f[S],B=r(N,S);var C=l.items.get(B)??g.get(B);C?(t&(Mr|Br))!==0&&Ho(C,N,S,t):(E=Uo(null,l,null,null,N,B,S,o,t,n,!0),g.set(B,E)),b.add(B)}for(const[F,$]of l.items)b.has(F)||p.skipped_effects.add($.e);p.add_callback(w)}else w();s(h)}})}function rl(e,t,n,r,o,a,i,l,c){var u=(i&ei)!==0,d=(i&(Mr|Br))!==0,v=t.length,g=n.items,h=n.first,f=h,_,w=null,k,E=[],S=[],N,B,b,p;if(u)for(p=0;p<v;p+=1)N=t[p],B=l(N,p),b=g.get(B),b!==void 0&&(b.a?.measure(),(k??(k=new Set)).add(b));for(p=0;p<v;p+=1){if(N=t[p],B=l(N,p),b=g.get(B),b===void 0){var C=r.get(B);if(C!==void 0){r.delete(B),g.set(B,C);var F=w?w.next:f;wt(n,w,C),wt(n,C,F),Jr(C,F,o),w=C}else{var $=f?f.e.nodes_start:o;w=Uo($,n,w,w===null?n.first:w.next,N,B,p,a,i,c)}g.set(B,w),E=[],S=[],f=w.next;continue}if(d&&Ho(b,N,p,i),(b.e.f&ht)!==0&&(An(b.e),u&&(b.a?.unfix(),(k??(k=new Set)).delete(b))),b!==f){if(_!==void 0&&_.has(b)){if(E.length<S.length){var ue=S[0],X;w=ue.prev;var te=E[0],z=E[E.length-1];for(X=0;X<E.length;X+=1)Jr(E[X],ue,o);for(X=0;X<S.length;X+=1)_.delete(S[X]);wt(n,te.prev,z.next),wt(n,w,te),wt(n,z,ue),f=ue,w=z,p-=1,E=[],S=[]}else _.delete(b),Jr(b,f,o),wt(n,b.prev,b.next),wt(n,b,w===null?n.first:w.next),wt(n,w,b),w=b;continue}for(E=[],S=[];f!==null&&f.k!==B;)(f.e.f&ht)===0&&(_??(_=new Set)).add(f),S.push(f),f=f.next;if(f===null)continue;b=f}E.push(b),w=b,f=b.next}if(f!==null||_!==void 0){for(var Z=_===void 0?[]:ha(_);f!==null;)(f.e.f&ht)===0&&Z.push(f),f=f.next;var ee=Z.length;if(ee>0){var pe=(i&oo)!==0&&v===0?o:null;if(u){for(p=0;p<ee;p+=1)Z[p].a?.measure();for(p=0;p<ee;p+=1)Z[p].a?.fix()}nl(n,Z,pe)}}u&&mn(()=>{if(k!==void 0)for(b of k)b.a?.apply()}),e.first=n.first&&n.first.e,e.last=w&&w.e;for(var se of r.values())$e(se.e);r.clear()}function Ho(e,t,n,r){(r&Mr)!==0&&At(e.v,t),(r&Br)!==0?At(e.i,n):e.i=n}function Uo(e,t,n,r,o,a,i,l,c,u,d){var v=(c&Mr)!==0,g=(c&ti)===0,h=v?g?sa(o,!1,!1):Lt(o):o,f=(c&Br)===0?i:Lt(i),_={i:f,v:h,k:a,a:null,e:null,prev:n,next:r};try{if(e===null){var w=document.createDocumentFragment();w.append(e=wn())}return _.e=He(()=>l(e,h,f,u),ui),_.e.prev=n&&n.e,_.e.next=r&&r.e,n===null?d||(t.first=_):(n.next=_,n.e.next=_.e),r!==null&&(r.prev=_,r.e.prev=_.e),_}finally{}}function Jr(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,o=t?t.e.nodes_start:n,a=e.e.nodes_start;a!==null&&a!==r;){var i=cr(a);o.before(a),a=i}}function wt(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function ce(e,t,...n){var r=e,o=ve,a;Wn(()=>{o!==(o=t())&&(a&&($e(a),a=null),a=He(()=>o(r,...n)))},Un)}function jo(e,t,n){var r=e,o,a,i=null,l=null;function c(){a&&(kt(a),a=null),i&&(i.lastChild.remove(),r.before(i),i=null),a=l,l=null}Wn(()=>{if(o!==(o=t())){var u=Sa();if(o){var d=r;u&&(i=document.createDocumentFragment(),i.append(d=wn()),a&&ke.skipped_effects.add(a)),l=He(()=>n(d,o))}u?ke.add_callback(c):c()}},Un)}function Vo(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=Vo(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function al(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=Vo(e))&&(r&&(r+=" "),r+=t);return r}function he(e){return typeof e=="object"?al(e):e??""}const qa=[...` 	
\r\f \v\uFEFF`];function ol(e,t,n){var r=e==null?"":""+e;if(t&&(r=r?r+" "+t:t),n){for(var o in n)if(n[o])r=r?r+" "+o:o;else if(r.length)for(var a=o.length,i=0;(i=r.indexOf(o,i))>=0;){var l=i+a;(i===0||qa.includes(r[i-1]))&&(l===r.length||qa.includes(r[l]))?r=(i===0?"":r.substring(0,i))+r.substring(l+1):i=l}}return r===""?null:r}function sl(e,t){return e==null?null:String(e)}function ge(e,t,n,r,o,a){var i=e.__className;if(i!==n||i===void 0){var l=ol(n,r,a);l==null?e.removeAttribute("class"):e.className=l,e.__className=n}else if(a&&o!==a)for(var c in a){var u=!!a[c];(o==null||u!==!!o[c])&&e.classList.toggle(c,u)}return a}function nr(e,t,n,r){var o=e.__style;if(o!==t){var a=sl(t);a==null?e.removeAttribute("style"):e.style.cssText=a,e.__style=t}return r}const il=Symbol("is custom element"),ll=Symbol("is html");function xd(e,t){var n=Ea(e);n.value===(n.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function Dd(e,t){var n=Ea(e);n.checked!==(n.checked=t??void 0)&&(e.checked=t)}function Pe(e,t,n,r){var o=Ea(e);o[t]!==(o[t]=n)&&(t==="loading"&&(e[Vs]=n),n==null?e.removeAttribute(t):typeof n!="string"&&cl(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function Ea(e){return e.__attributes??(e.__attributes={[il]:e.nodeName.includes("-"),[ll]:e.namespaceURI===ci})}var Wa=new Map;function cl(e){var t=e.getAttribute("is")||e.nodeName,n=Wa.get(t);if(n)return n;Wa.set(t,n=[]);for(var r,o=e,a=Element.prototype;a!==o;){r=no(o);for(var i in r)r[i].set&&n.push(i);o=ga(o)}return n}function ul(e,t,n=t){var r=new WeakSet;Bi(e,"input",async o=>{var a=o?e.defaultValue:e.value;if(a=Qr(e)?$r(a):a,n(a),ke!==null&&r.add(ke),await Io(),a!==(a=t())){var i=e.selectionStart,l=e.selectionEnd;e.value=a??"",l!==null&&(e.selectionStart=i,e.selectionEnd=Math.min(l,e.value.length))}}),Ct(t)==null&&e.value&&(n(Qr(e)?$r(e.value):e.value),ke!==null&&r.add(ke)),Fr(()=>{var o=t();if(e===document.activeElement){var a=yr??ke;if(r.has(a))return}Qr(e)&&o===$r(e.value)||e.type==="date"&&!o&&!e.value||o!==e.value&&(e.value=o??"")})}function Qr(e){var t=e.type;return t==="number"||t==="range"}function $r(e){return e===""?null:+e}function Ya(e,t){return e===t||e?.[vn]===t}function Et(e={},t,n,r){return Hi(()=>{var o,a;return Fr(()=>{o=a,a=[],Ct(()=>{e!==n(...a)&&(t(e,...a),o&&Ya(n(...o),e)&&t(null,...o))})}),()=>{mn(()=>{a&&Ya(n(...a),e)&&t(null,...a)})}}),e}function Pa(e=!1){const t=we,n=t.l.u;if(!n)return;let r=()=>Ki(t.s);if(e){let o=0,a={};const i=lr(()=>{let l=!1;const c=t.s;for(const u in c)c[u]!==a[u]&&(a[u]=c[u],l=!0);return l&&o++,o});r=()=>s(i)}n.b.length&&Fi(()=>{Ka(t,r),Er(n.b)}),Te(()=>{const o=Ct(()=>n.m.map(Fs));return()=>{for(const a of o)typeof a=="function"&&a()}}),n.a.length&&Te(()=>{Ka(t,r),Er(n.a)})}function Ka(e,t){if(e.l.s)for(const n of e.l.s)s(n);t()}let pr=!1;function dl(e){var t=pr;try{return pr=!1,[e(),pr]}finally{pr=t}}function re(e,t,n,r){var o=!Vn||(n&ri)!==0,a=(n&oi)!==0,i=(n&si)!==0,l=r,c=!0,u=()=>(c&&(c=!1,l=i?Ct(r):r),l),d;if(a){var v=vn in e||js in e;d=Tn(e,t)?.set??(v&&t in e?S=>e[t]=S:void 0)}var g,h=!1;a?[g,h]=dl(()=>e[t]):g=e[t],g===void 0&&r!==void 0&&(g=u(),d&&(o&&Xs(),d(g)));var f;if(o?f=()=>{var S=e[t];return S===void 0?u():(c=!0,S)}:f=()=>{var S=e[t];return S!==void 0&&(l=void 0),S===void 0?l:S},o&&(n&ai)===0)return f;if(d){var _=e.$$legacy;return(function(S,N){return arguments.length>0?((!o||!N||_||h)&&d(N?f():S),S):f()})}var w=!1,k=((n&ni)!==0?lr:Or)(()=>(w=!1,f()));a&&s(k);var E=ie;return(function(S,N){if(arguments.length>0){const B=N?s(k):o&&a?Be(S):S;return y(k,B),w=!0,l!==void 0&&(l=B),S}return yn&&w||(E.f&pn)!==0?k.v:s(k)})}function Ce(e){we===null&&ao(),Vn&&we.l!==null?fl(we).m.push(e):Te(()=>{const t=Ct(e);if(typeof t=="function")return t})}function fl(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const vl="5";var eo;typeof window<"u"&&((eo=window.__svelte??(window.__svelte={})).v??(eo.v=new Set)).add(vl);vi();const qo={};function hl(e){Ne(qo,e)}function Wo(){const e=Ae(qo);if(!e)throw new Error("No SearchContext found");return e}const Yo={};function gl(e){Ne(Yo,e)}function _t(){const e=Ae(Yo);if(!e)throw new Error("No AppHistoryContext found");return e}function _l(e,t){K(t,!0);const{replace:n,getAppHistory:r}=_t(),o=I(r),a="search",i=Be({value:new URLSearchParams(r().search).get(a)||""}),l=d=>{const v=new URLSearchParams(s(o).search),g=s(o).pathname;(v.get(a)||"")!==d&&(d===""?v.delete(a):v.set(a,d),n(`${g}${v.size>0?`?${v.toString()}`:""}`))};Te(()=>{const d=i.value;Ct(()=>{l(d)})}),hl(i);var c=U(),u=M(c);ce(u,()=>t.children??ve),m(e,c),G()}const Ko={};function pl(e){Ne(Ko,e)}function Go(){const e=Ae(Ko);if(!e)throw new Error("No TagSearchContext found");return e}function ml(e,t){K(t,!0);const n=Be({value:""});pl(n);var r=U(),o=M(r);ce(o,()=>t.children??ve),m(e,r),G()}const Xo={};function wl(e){Ne(Xo,e)}function Zo(){const e=Ae(Xo);if(!e)throw new Error("No FeedOrderContext found");return e}function yl(e,t){K(t,!0);const{navigate:n,getAppHistory:r}=_t(),o=I(r),a="feedOrder";let i=O(Be(new URLSearchParams(r().search).get(a)||"newest"));wl({getFeedOrder:()=>s(i),setFeedOrder:v=>{y(i,v,!0);const g=new URLSearchParams(s(o).search);v==="newest"?g.delete(a):g.set(a,v),n(`${s(o).pathname}${g.size>0?`?${g.toString()}`:""}`)}});var u=U(),d=M(u);ce(d,()=>t.children??ve),m(e,u),G()}const Jo={};function bl(e){Ne(Jo,e)}function Qo(){const e=Ae(Jo);if(!e)throw new Error("No SidebarContext found");return e}function Sl(e,t){K(t,!0);const n=(d,v)=>{if(!v)return d;if(v.type==="closed")return{type:"closed"};switch(d.type){case"opened":return v.type==="close"?{type:"closing"}:v.type==="swipe"?{type:"openSwiping"}:d;case"closed":return v.type==="open"?{type:"opening"}:v.type==="swipe"?{type:"closeSwiping"}:d;case"openSwiping":return v.type==="open"?{type:"opening"}:v.type==="close"?{type:"closing"}:d;case"closeSwiping":return v.type==="open"?{type:"opening"}:v.type==="close"?{type:"closing"}:d;case"opening":return v.type==="opened"?{type:"opened"}:d;default:return d}};let r=O(Be(n({type:"closed"})));const o=d=>{y(r,n(s(r),d),!0)};bl({sidebarOpen:()=>{o({type:"open"})},sidebarClose:()=>{o({type:"close"})},handleComputeState:o,getSidebarState:()=>s(r)});var c=U(),u=M(c);ce(u,()=>t.children??ve),m(e,c),G()}const $o={};function kl(e){Ne($o,e)}function es(){const e=Ae($o);if(!e)throw new Error("No SelectedTagsContext found");return e}const ts=(e,t)=>{let n=null;return()=>{n&&clearTimeout(n),n=setTimeout(()=>{n=null,e()},t)}};async function Cl(){if(navigator.storage&&navigator.storage.persist)try{await navigator.storage.persisted()||await navigator.storage.persist()}catch{}}const El=(e,t)=>{if(e.size!==t.size)return!0;for(const n of e)if(!t.has(n))return!0;return!1};function Pl(e,t){K(t,!0);const{getAppHistory:n,replace:r}=_t(),o=I(n),a=I(()=>n().search),i="selectedTags",l=()=>new Set(new URLSearchParams(n().search).get(i)?.split(",")||[]);let c=O(Be(l()));const u=()=>{const _=l();if(El(_,s(c))){const w=new URLSearchParams(s(o).search),k=s(o).pathname;s(c).size===0?w.delete(i):w.set(i,Array.from(s(c)).join(",")),r(`${k}${w.size>0?`?${w.toString()}`:""}`)}};Te(()=>{s(a),s(c),Ct(()=>{u()})}),kl({getSelectedTags:()=>s(c),addTag:_=>{s(c).has(_)||y(c,new Set([...s(c),_]),!0)},removeTag:_=>{const w=new Set(s(c));w.delete(_),y(c,w,!0)}});var h=U(),f=M(h);ce(f,()=>t.children??ve),m(e,h),G()}const ns={};function xl(e){Ne(ns,e)}function Ur(){const e=Ae(ns);if(!e)throw new Error("No LocalDBContext found");return e}const rs={};function Dl(e){Ne(rs,e)}function Tl(){const e=Ae(rs);if(!e)throw new Error("No SettingsContext found");return e}const as={};function Al(e){Ne(as,e)}function jr(){const e=Ae(as);if(!e)throw new Error("No BroadcastContext found");return e}const Nl="AppStorage",Ll=1,Xn="account",Cr="settings",Ze="notes",Dn="drafts",Ml="bin",dt="tags",Bl="syncLog",en="success",tn="error",Ie=(e,t,n)=>{e?.addEventListener(t,n)},ca=(e,t)=>new Promise((n,r)=>{const a=e?.transaction(t,"readonly")?.objectStore(t).getAll();Ie(a,en,()=>{const i=a?.result||[];n(i)}),Ie(a,tn,i=>{r(i)})}),ua=(e,t,n)=>new Promise((r,o)=>{const i=e?.transaction(t,"readonly")?.objectStore(t).get(n);Ie(i,en,()=>{const l=i?.result?.data;r(l)}),Ie(i,tn,l=>{o(l)})}),Dt=(e,t,n,r)=>new Promise((o,a)=>{const c=e?.transaction(t,"readwrite")?.objectStore(t)?.put({id:n,data:r});Ie(c,en,()=>{o()}),Ie(c,tn,u=>{a(u)})}),mr=async(e,t,n)=>{const o=e?.transaction(t,"readwrite")?.objectStore(t);await Promise.all(n.map(a=>{const i=o?.put(a);return new Promise((l,c)=>{Ie(i,en,()=>{l()}),Ie(i,tn,u=>{c(u)})})}))},os=(e,t,n)=>new Promise((r,o)=>{const l=e?.transaction(t,"readwrite")?.objectStore(t)?.delete(n);Ie(l,en,()=>{r()}),Ie(l,tn,c=>{o(c)})}),wr=async(e,t,n)=>{const o=e?.transaction(t,"readwrite")?.objectStore(t);await Promise.all(n.map(a=>{const i=o?.delete(a);return new Promise((l,c)=>{Ie(i,en,()=>{l()}),Ie(i,tn,u=>{c(u)})})}))},Tt=(e,t)=>new Promise((n,r)=>{const i=e?.transaction(t,"readwrite")?.objectStore(t)?.clear();Ie(i,en,()=>{n()}),Ie(i,tn,l=>{r(l)})});function Il(e,t){K(t,!0);let n=O(Be({showFavicon:!1}));const{getDB:r}=Ur(),{createBroadcastChannel:o,tabId:a}=jr(),i=o(),l=I(r),c=async()=>{const _=await ua(s(l),Cr,"default");_&&y(n,_,!0)},u=async()=>{c()},d=async _=>{const w=JSON.parse(_.data),k=w;if(w.tabId&&w.tabId===a){k.type==="exit"&&(y(n,{showFavicon:!1},!0),Tt(s(l),Cr));return}k.type==="updateSettings"?c():k.type==="exit"&&y(n,{showFavicon:!1},!0)},v=()=>s(n).showFavicon,g=async _=>{s(n).showFavicon=_,await Dt(s(l),Cr,"default",{showFavicon:_}),i.postMessage({type:"updateSettings"})};Ce(()=>(u(),i.addEventListener(d),()=>{i.removeEventListener(d)})),Dl({getFaviconEnabled:v,setFaviconShown:g});var h=U(),f=M(h);ce(f,()=>t.children??ve),m(e,h),G()}const ss={};function Ol(e){Ne(ss,e)}function xa(){const e=Ae(ss);if(!e)throw new Error("No AccountContext found");return e}const is={};function Rl(e){Ne(is,e)}function Bt(){const e=Ae(is);if(!e)throw new Error("No StackPagesContext found");return e}function Fl(e,t){K(t,!0);const{navigate:n}=_t(),{hasStackPage:r,pushStackPages:o,clearStackPages:a}=Bt();let i=O(void 0);const{getDB:l}=Ur(),{createBroadcastChannel:c,tabId:u}=jr(),d=I(l),v=c(),g=async()=>{const p=await ua(s(d),Xn,"default");p&&(y(i,p,!0),a(),n("/"))},h=p=>Dt(s(d),Xn,"default",p),f=async()=>{const p=await ua(s(d),Xn,"default");p===void 0?o("start"):(r("start")&&(a(),n("/")),p?y(i,p,!0):y(i,null))},_=async p=>{const C=JSON.parse(p.data);if(C.tabId&&C.tabId===u)return;const F=C;F.type==="initLocalAccount"?(y(i,null),a(),n("/")):F.type==="initCloudAccount"?(g(),a(),n("/")):F.type==="disconnectCloudAccount"?y(i,null):F.type==="exit"?y(i,void 0):F.type==="updateAccount"&&g()};Ce(()=>(f(),v.addEventListener(_),()=>{v.removeEventListener(_)})),Ol({getAccount:()=>s(i),initLocalAccount:async()=>{y(i,null),await h(null),v.postMessage({type:"initLocalAccount"})},initCloudAccount:async p=>{const C={encryptedClientKey:p.encryptedClientKey||"",subscriptionExpires:p.subscriptionExpires||-1,lastSync:-1};await h(C),y(i,C,!0),v.postMessage({type:"initCloudAccount"})},disconnectCloudAccount:async()=>{y(i,null),await h(null),v.postMessage({type:"disconnectCloudAccount"})},updateSubscription:async p=>{if(!s(i))throw new Error("No account to update subscription for");const C={...s(i),subscriptionExpires:p};await h(C),v.postMessage({type:"updateAccount"})},exitApp:async()=>{y(i,void 0),v.postMessage({type:"exit"}),await Tt(s(d),Xn)}});var B=U(),b=M(B);ce(b,()=>t.children??ve),m(e,B),G()}const ls={};function zl(e){Ne(ls,e)}function Td(){const e=Ae(ls);if(!e)throw new Error("No DraftsContext found");return e}function Hl(e,t){K(t,!0);const{getDB:n}=Ur(),{createBroadcastChannel:r,tabId:o}=jr(),a=I(n),i=r();let l=O(!1),c=O(()=>new Map);const u=b=>{const p=s(c)();b.forEach(C=>{p.set(C.id,C)}),y(c,()=>p)},d=async()=>{const b=await ca(s(a),Dn);u(b),y(l,!0)},v=b=>s(c)().get(b),g=b=>{const p=s(c)();p.set(b.id,b),y(c,()=>p)},h=b=>{const p=s(c)();p.delete(b),y(c,()=>p)},f=()=>{y(c,()=>new Map)},_=async b=>{const p={...b};await Dt(s(a),Dn,p.id,{...p.data}),g(p),i.postMessage({type:"putDraft",data:{draft:p}})},w=async b=>{h(b),i.postMessage({type:"deleteDraft",data:{id:b}}),await os(s(a),Dn,b)},k=async()=>{f(),i.postMessage({type:"clearDrafts"}),await Tt(s(a),Dn)},E=()=>s(l),S=async b=>{const p=JSON.parse(b.data),C=p;if(p.tabId&&p.tabId===o){(C.type==="exit"||C.type==="clearNotes")&&(f(),Tt(s(a),Dn));return}if(C.type==="putDraft"){const F=C.data.draft;g(F)}else if(C.type==="deleteDraft"){const F=C.data.id;h(F)}else(C.type==="exit"||C.type==="clearNotes")&&f()};Ce(()=>(d(),i.addEventListener(S),()=>{i.removeEventListener(S)})),zl({isInitedDrafts:E,getDraft:v,putDraft:_,deleteDraft:w,clearDrafts:k});var N=U(),B=M(N);ce(B,()=>t.children??ve),m(e,N),G()}const cs={};function Ul(e){Ne(cs,e)}function Vr(){const e=Ae(cs);if(!e)throw new Error("No NotesContext found");return e}const jl=()=>crypto.randomUUID(),Vl=e=>{const t=new Map;for(const n of e||[])for(const r of n?.data.tags||[])t.set(r,{name:r,count:(t.get(r)?.count||0)+1});return t};function ql(e,t){K(t,!0);const{getDB:n}=Ur(),{createBroadcastChannel:r,tabId:o}=jr(),a=I(n),i=r();let l=O(0),c=O(!1),u=O(()=>new Map),d=O(()=>[]);const v=720*60*60*1e3,g=()=>s(c),h=()=>s(l)>0,f=P=>{const T=s(d)(),x={...P};T.push(x),y(d,()=>T)},_=P=>{const T=s(d)();for(let x=0;x<T.length;x++)T[x]?.id===P.id&&T&&(T[x]=P);y(d,()=>T)},w=P=>{const T=s(d)(),x=T.findIndex(A=>A?.id===P);x!==-1&&(T[x]=void 0),y(d,()=>T)},k=()=>{y(d,()=>[]),y(u,()=>new Map)},E=()=>s(d),S=P=>{const T=s(u)();for(const x of P){const A=T.get(x);A?A.count++:T.set(x,{name:x,count:1})}y(u,()=>T)},N=P=>{const T=s(u)();for(const x of P){const A=T.get(x);A&&(A.count--,A.count<=0&&T.delete(x))}y(u,()=>T)},B=async()=>{const[P,T]=await Promise.all([ca(s(a),Ze),ca(s(a),dt).then(de=>de.reduce((Y,ae)=>Y.set(ae.name,ae),new Map))]),x=[],A=[];let H=0;for(const de of P)de.data.deletedAt&&Date.now()-de.data.deletedAt>v?x.push(de.id):(A.push(de),de.data.deletedAt&&(H+=1));y(l,H,!0);const J=Vl(A),ne=new Map;J.entries().forEach(([de,Y])=>{const ae=T.get(de);ne.set(de,{...ae,...Y})}),await wr(s(a),Ze,x),await Tt(s(a),dt),await mr(s(a),dt,Array.from(ne.values()).map(de=>({id:de.name,data:{pinned:de.pinned}}))),y(u,()=>ne),y(d,()=>A),y(c,!0)},b=async P=>{const T={id:jl(),data:{...P,createdAt:Date.now(),updatedAt:Date.now()}},x=s(u)();await Dt(s(a),Ze,T.id,{...T.data}),await mr(s(a),dt,P.tags.filter(A=>!x.has(A)).map(A=>({id:A,data:{}}))),f(T),S(P.tags),i.postMessage({type:"addNote",data:{note:T}})},p=async P=>{const x=s(d)().find(H=>H?.id===P);if(!x)return;const A=s(u)();w(P),N(x.data.tags),i.postMessage({type:"deleteNote",data:{id:P}}),y(l,s(l)-1),await os(s(a),Ze,P),await wr(s(a),dt,x.data.tags.filter(H=>{const J=A.get(H);return J?J.count<=1:!1}))},C=async(P,T)=>{const x={id:T.id,data:{...T.data,updatedAt:Date.now()}},A=s(u)(),H=T.data.tags.filter(ne=>!P.data.tags.includes(ne)),J=P.data.tags.filter(ne=>!T.data.tags.includes(ne));await Dt(s(a),Ze,x.id,{...x.data}),await mr(s(a),dt,H.filter(ne=>!A.has(ne)).map(ne=>({id:ne,data:{}}))),await wr(s(a),dt,J.filter(ne=>{const de=A.get(ne);return de?de.count<=1:!1})),_(x),N(J),S(H),i.postMessage({type:"updateNote",data:{note:x,tagsToAdd:H,tagsToDelete:J}})},F=async()=>{k(),i.postMessage({type:"clearNotes"}),await Tt(s(a),Ze),await Tt(s(a),dt)},$=P=>s(d)().find(x=>x?.id===P),ue=async(P,T)=>{const A=s(d)().find(J=>J?.id===P);if(!A)return;const H={id:P,data:{...A.data,pinned:T}};await Dt(s(a),Ze,H.id,{...H.data}),_(H),i.postMessage({type:"updateNote",data:{note:H,tagsToAdd:[],tagsToDelete:[]}})},X=async P=>{const x=s(d)().find(H=>H?.id===P);if(!x)return;const A={id:P,data:{...x.data,deletedAt:Date.now()}};y(l,s(l)+1),await Dt(s(a),Ze,A.id,{...A.data}),_(A),i.postMessage({type:"updateNote",data:{note:A,tagsToAdd:[],tagsToDelete:[]}})},te=async P=>{const x=s(d)().find(H=>H?.id===P);if(!x)return;const A={id:P,data:{...x.data,deletedAt:0}};y(l,s(l)-1),await Dt(s(a),Ze,A.id,{...A.data}),_(A),i.postMessage({type:"updateNote",data:{note:A,tagsToAdd:[],tagsToDelete:[]}})},z=async(P,T)=>{const x=s(u)();x.set(P,{name:P,count:x.get(P)?.count||0,pinned:T}),await Dt(s(a),dt,P,{pinned:T}),i.postMessage({type:"pinTag",data:{tag:P,pinned:T}}),y(u,()=>x)},Z=async P=>{const T=s(d)(),x={};P.forEach(A=>{const H=T.find(J=>J?.id===A.id);H?H&&H.data.updatedAt<A.data.updatedAt&&(x[A.id]=A):x[A.id]=A}),await mr(s(a),Ze,Object.values(x)),await B(),i.postMessage({type:"reloadNotes"})},ee=async()=>{const P=[];s(d)().forEach(x=>{x&&x.data.deletedAt&&P.push(x.id)}),y(l,0),await wr(s(a),Ze,P),await B(),i.postMessage({type:"emptyBin"})},pe=async P=>{const T=JSON.parse(P.data),x=T;if(T.tabId&&T.tabId===o){x.type==="exit"&&(k(),await Tt(s(a),Ze),await Tt(s(a),dt));return}if(x.type==="addNote"){const A=x.data.note;f(A),S(A.data.tags)}else if(x.type==="updateNote"){const A=x.data,J=s(d)().find(ne=>ne?.id===A.note.id);if(!J)return;J.data.deletedAt&&!A.note.data.deletedAt?y(l,s(l)-1):!J.data.deletedAt&&A.note.data.deletedAt&&y(l,s(l)+1),_(A.note),N(A.tagsToAdd),S(A.tagsToDelete)}else if(x.type==="deleteNote"){const A=x.data.id,J=s(d)().find(ne=>ne?.id===A);if(!J)return;y(l,s(l)-1),w(A),N(J.data.tags)}else if(x.type==="pinTag"){const A=x.data.tag,H=x.data.pinned,J=s(u)(),ne=J.get(A);ne&&(ne.pinned=H,y(u,()=>J))}else x.type==="clearNotes"?k():x.type==="reloadNotes"||x.type==="emptyBin"?B():x.type==="exit"&&k()};Te(()=>{}),Ce(()=>(B(),i.addEventListener(pe),()=>{i.removeEventListener(pe)})),Ul({isInitedNotes:g,addNote:b,updateNote:C,deleteNote:p,pinNote:ue,getGetNotes:E,importNotes:Z,clearNotes:F,getNoteById:$,getGetMapTags:()=>s(u),pinTag:z,moveNoteToBin:X,restoreNoteFromBin:te,checkNotesInBin:h,emptyBin:ee});var se=U(),W=M(se);ce(W,()=>t.children??ve),m(e,se),G()}const us={},Wl=()=>({working:!1,swipingRatio:1,isSwiping:!1,duration:.35});function Yl(e){Ne(us,e)}function Yn(){const e=Ae(us);if(!e)throw new Error("No AnimationSettingsContext found");return e}function Kl(e,t){K(t,!0);let n=Be(Wl());Yl(n);var r=U(),o=M(r);ce(o,()=>t.children??ve),m(e,r),G()}const ds={};function Gl(e){Ne(ds,e)}function fs(){const e=Ae(ds);if(!e)throw new Error("No ScrollingContext found");return e}function Xl(e,t){K(t,!0);let n=O(!1);const r=()=>s(n),o=ts(()=>{y(n,!1)},100);Gl({isScrolling:r,enable:()=>{y(n,!0),o()}});var i=U(),l=M(i);ce(l,()=>t.children??ve),m(e,i),G()}const vs={};function Zl(e){Ne(vs,e)}function Kn(){const e=Ae(vs);if(!e)throw new Error("No MobileSizeContext found");return e}function Jl(e,t){K(t,!0);const n=()=>window.matchMedia("(max-width: 767px)").matches;let r=O(Be(n())),o=Yn();const a=ts(()=>{o.working=!0},16),i=()=>{o.working=!1,a(),requestAnimationFrame(()=>{y(r,n(),!0)})};Zl({checkMobileSize:()=>s(r)}),Ce(()=>(window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)));var c=U(),u=M(c);ce(u,()=>t.children??ve),m(e,c),G()}const hs={};function Ql(e){Ne(hs,e)}function ur(){const e=Ae(hs);if(!e)throw new Error("No DialogContext found");return e}function $l(e,t){K(t,!0);let n=O(0),r=O(!1),o=O(!1);Ql({checkExistedDialog:()=>s(n)>0,showDialog:()=>{y(n,s(n)+1)},hideDialog:()=>{y(n,s(n)-1)},blockDialog:f=>{y(r,f,!0),f||y(o,!1)},checkBlockedDialog:()=>s(r),unBlockBackDialog:f=>{y(o,f,!0)},checkUnBlockedBackDialog:()=>s(o)});var g=U(),h=M(g);ce(h,()=>t.children??ve),m(e,g),G()}const gs={};function ec(e){Ne(gs,e)}function Da(){const e=Ae(gs);if(!e)throw new Error("No ScrollContainerContext found");return e}function tc(e,t){K(t,!0);let n=O(null);ec({setScrollContainer:l=>{y(n,l,!0)},getScrollContainer:()=>s(n)});var a=U(),i=M(a);ce(i,()=>t.children??ve),m(e,a),G()}const _s={};function nc(e){Ne(_s,e)}function Ta(){const e=Ae(_s);if(!e)throw new Error("No DialogPageHeightContext found");return e}function rc(e,t){K(t,!0);let n=O(200);nc({setDialogPageHeight:l=>{y(n,l,!0)},getDialogPageHeight:()=>s(n)});var a=U(),i=M(a);ce(i,()=>t.children??ve),m(e,a),G()}const ac=[Xn,Cr,Ze,Dn,Ml,dt,Bl];function oc(){return new Promise((e,t)=>{const n=indexedDB.open(Nl,Ll);Ie(n,"upgradeneeded",()=>{const r=n.result;for(const o of ac)r.objectStoreNames.contains(o)||r.createObjectStore(o,{keyPath:"id"})}),Ie(n,en,()=>{const r=n.result;e(r),r.onversionchange=function(){r?.close(),alert("app outdated, please reload the page")}}),Ie(n,"blocked",()=>{t(),alert("app outdated, please reload the page")}),Ie(n,tn,()=>{t()})})}function sc(e,t){K(t,!0);let n=O(null);Ce(()=>{oc().then(l=>{y(n,l,!0)})}),xl({getDB:()=>s(n)});var o=U(),a=M(o);{var i=l=>{var c=U(),u=M(c);ce(u,()=>t.children??ve),m(l,c)};V(a,l=>{s(n)&&l(i)})}m(e,o),G()}function ic(e,t){K(t,!0);const{getAppHistory:n,navigate:r}=_t(),o=()=>new URLSearchParams(n().search).get("stackPages")?.split(",")||[];let a=O(Be(o()));const i=w=>{const k=o();if(!k.includes(w)){k.push(w);const E=new URLSearchParams(n().search);E.set("stackPages",k.join(",")),y(a,k,!0),r(`${n().pathname}?${E.toString()}`)}};Rl({pushStackPages:i,hasStackPage:w=>o().includes(w),updateStackPages:()=>{y(a,o(),!0)},popStackPages:()=>{const w=s(a).slice(0,-1);y(a,w,!0)},getStackPages:()=>{const w=o();return w.length>=s(a).length?w.reduce((k,E)=>[...k,{page:E,shown:!0}],[]):s(a).reduce((k,E,S)=>[...k,{page:E,shown:w.length===0?!1:S!==s(a).length-1}],[])},clearStackPages:()=>{y(a,[],!0)},getPageUrl:(w,k)=>{if(k?.full)return`/${w}`;const E=o();E.includes(w)||E.push(w);const S=new URLSearchParams(n().search);return S.set("stackPages",E.join(",")),`${n().pathname}?${S}`},createHandlePage:(w,k)=>E=>{if(E.preventDefault(),k?.full){r(w);return}i(w)},getStackPagesFormUrl:o});var f=U(),_=M(f);ce(_,()=>t.children??ve),m(e,f),G()}function lc(e,t){K(t,!0);const n=h=>h.startsWith("/")?h:`/${h}`,r=Be({historyStack:[],pathname:n(window.location.pathname),search:window.location.search,historyLength:0}),o=()=>{r.pathname=n(document.location.pathname),r.search=document.location.search,r.historyLength=Math.max(0,r.historyLength-=1)},a=h=>{const[f,_]=h.split("?");r.pathname=n(f),r.search=_?`?${_}`:"",r.historyLength+=1,r.historyStack.push(`${window.location.pathname}${window.location.search}`),window.history.replaceState(null,"",h)},i=h=>{const[f,_]=h.split("?");r.pathname=n(f),r.search=_?`?${_}`:"",window.history.replaceState(null,"",h)};gl({getAppHistory:()=>r,navigate:a,replace:i,addSearchParam:(h,f)=>{const _=new URLSearchParams(r.search);_.append(h,f),i(`${r.pathname}${_.size>0?`?${_.toString()}`:""}`)},deleteSearchParam:h=>{const f=new URLSearchParams(r.search);f.delete(h),r.historyStack=r.historyStack.map(_=>{const w=new URLSearchParams(_.split("?")[1]);return w.delete(h),`${_.split("?")[0]}${f.size>0?`?${w.toString()}`:""}`}),i(`${r.pathname}${f.size>0?`?${f.toString()}`:""}`)},back:h=>{const{fallback:f="/",to:_}=h||{},[w,k]=f.split("?");if(r.historyLength<=0){const E=window.location.pathname,S=window.location.search;if(!S.includes("stackPages"))window.history.replaceState(null,"",f),r.historyLength=0,r.pathname=n(w),r.search=k?`?${k}`:"";else{const N=new URLSearchParams(S),B=N.get("stackPages")?.split(",")||[],b=B.slice(0,_&&B.includes(_)?B.indexOf(_)+1:-1);b.length===0?N.delete("stackPages"):N.set("stackPages",b.join(","));const p=`${E}${N.toString()?`?${N.toString()}`:""}`;window.history.replaceState(null,"",p),r.search=N.toString()?`?${N.toString()}`:""}}else if(r.historyStack.length>0){const S=new URLSearchParams(r.search).get("stackPages")?.split(",")||[];_&&S.includes(_)&&(r.historyStack=r.historyStack.slice(0,-(S.length-(S.indexOf(_)+1))+1),r.historyLength=r.historyStack.length);const N=r.historyStack.pop();if(N){const[B,b]=N.split("?");window.history.replaceState(null,"",N),r.historyLength=Math.max(0,r.historyLength-=1),r.pathname=n(B),r.search=b?`?${b}`:""}}},closeDialogStack:()=>{const h=r.historyStack.findIndex(_=>_.includes("stackPages")),f=h===-1?r.historyStack.slice(0):r.historyStack.slice(0,h);if(f.length>0){const _=f.pop();if(_){const[w,k]=_.split("?");window.history.replaceState(null,"",_),r.historyLength=Math.max(0,f.length),r.pathname=n(w),r.search=k?`?${k}`:"",r.historyStack=f}}else{const _=r.search,w=new URLSearchParams(_);w.delete("stackPages"),window.history.replaceState(null,"",w.toString()?"/?"+w.toString():"/"),r.historyLength=0,r.pathname="/",r.search=w.toString()?"?"+w.toString():"",r.historyStack=[]}}}),Ce(()=>(window.addEventListener("popstate",o),()=>{window.removeEventListener("popstate",o)}));var v=U(),g=M(v);ce(g,()=>t.children??ve),m(e,v),G()}const ps={};function cc(e){Ne(ps,e)}function uc(){const e=Ae(ps);if(!e)throw new Error("No KeyboardVisibleContext found");return e}function dc(e,t){K(t,!0);let n=Be({value:!1});const r=()=>n.value;Ce(()=>{const i=()=>{setTimeout(()=>{document.activeElement instanceof HTMLInputElement&&document.activeElement.type==="text"||document.activeElement instanceof HTMLTextAreaElement?n.value=!0:n.value=!1},0)};return i(),document.addEventListener("focusin",i),document.addEventListener("focusout",i),()=>{document.removeEventListener("focusin",i),document.removeEventListener("focusout",i)}}),cc({getIsKeyboardVisible:r});var o=U(),a=M(o);ce(a,()=>t.children??ve),m(e,o),G()}function fc(e,t){K(t,!0);const n=crypto.randomUUID(),r=(i,l)=>{i.postMessage(JSON.stringify({...l,tabId:n}))};Al({tabId:n,createBroadcastChannel:()=>{const i=new BroadcastChannel("app");return{postMessage:l=>r(i,l),addEventListener:l=>{i.addEventListener("message",l)},removeEventListener:l=>{i.removeEventListener("message",l)}}}});var o=U(),a=M(o);ce(a,()=>t.children??ve),m(e,o),G()}function vc(e,t){Kl(e,{children:(n,r)=>{Xl(n,{children:(o,a)=>{Jl(o,{children:(i,l)=>{$l(i,{children:(c,u)=>{tc(c,{children:(d,v)=>{rc(d,{children:(g,h)=>{dc(g,{children:(f,_)=>{lc(f,{children:(w,k)=>{ic(w,{children:(E,S)=>{sc(E,{children:(N,B)=>{fc(N,{children:(b,p)=>{var C=U(),F=M(C);ce(F,()=>t.children??ve),m(b,C)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})}function hc(e,t){vc(e,{children:(n,r)=>{ml(n,{children:(o,a)=>{_l(o,{children:(i,l)=>{yl(i,{children:(c,u)=>{Sl(c,{children:(d,v)=>{Pl(d,{children:(g,h)=>{Il(g,{children:(f,_)=>{Fl(f,{children:(w,k)=>{Hl(w,{children:(E,S)=>{ql(E,{children:(N,B)=>{var b=U(),p=M(b);ce(p,()=>t.children??ve),m(N,b)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})}})}let Ht=O(""),an=O(null),Zn=O(null),Jn=O(null);function zn(e,t){y(Ht,""),setTimeout(()=>{y(Ht,e,!0),t?.onFinish&&y(Zn,t.onFinish,!0),t?.onCancel&&y(Jn,t.onCancel,!0)},16)}const gc=(e,t,n,r,o)=>{e.preventDefault(),s(t)&&(y(n,null),s(t)(),y(t,null)),y(r,""),s(o)?.style.removeProperty("opacity")};var _c=j('<button type="button" class="undoButton svelte-1vxmgq5">undo</button>'),pc=j('<div class="notification svelte-1vxmgq5"><span> </span> <!></div>'),mc=j("<div><!></div>");function wc(e,t){K(t,!0),Te(()=>{s(Ht);const a=s(Jn)?2e3:800;s(Ht)&&(s(an)?.getBoundingClientRect(),s(an)?.style.setProperty("opacity","1"));const i=setTimeout(()=>{s(an)?.style.removeProperty("opacity")},a),l=setTimeout(()=>{y(Ht,""),s(Zn)&&s(Zn)(),y(Zn,null),y(Jn,null),s(an)?.style.removeProperty("opacity")},a+400);return()=>{clearTimeout(i),clearTimeout(l)}});var n=mc(),r=D(n);{var o=a=>{var i=pc(),l=D(i),c=D(l),u=R(l,2);{var d=v=>{var g=_c();g.__click=[gc,Jn,Zn,Ht,an],m(v,g)};V(u,v=>{s(Jn)&&v(d)})}Et(i,v=>y(an,v),()=>s(an)),le(()=>Zt(c,s(Ht))),m(a,i)};V(r,a=>{s(Ht)&&a(o)})}m(e,n),G()}tt(["click"]);var yc=j('<span class="vh svelte-1s25udk"><!></span>');function Qe(e,t){var n=yc(),r=D(n);ce(r,()=>t.children),m(e,n)}var bc=Qi('<svg class="svelte-18et5h9"><use></use></svg>');function ye(e,t){let n=re(t,"name",8,"");var r=bc(),o=D(r);le(()=>Pe(o,"href",`#icon-${n()??""}`)),m(e,r)}const Sc=(e,t,n,r)=>{const o=t().type;o==="closed"?n():o==="opened"&&r()};var kc=j('<button class="buttonMenu svelte-bpktnw"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>');function ms(e,t){K(t,!1);const{sidebarOpen:n,getSidebarState:r,sidebarClose:o}=Qo();Pa();var a=kc();a.__click=[Sc,r,n,o];var i=D(a);_e(i,()=>({"--size":"36px"})),ye(i.lastChild,{name:"sidebarMenu"});var l=R(i,2);Qe(l,{children:(c,u)=>{var d=De("Menu");m(c,d)}}),m(e,a),G()}tt(["click"]);var Cc=(e,t)=>t.onChange?.(e.target?.value||""),Ec=j('<input class="svelte-15lr19w"/>');function da(e,t){K(t,!0);let n=re(t,"value",15,"");var r=Ec();r.__input=[Cc,t],le(()=>Pe(r,"placeholder",t.placeholder)),Ca("focus",r,function(...o){t.onFocus?.apply(this,o)}),ul(r,n),m(e,r),G()}tt(["input"]);function ws(e,t){K(t,!0),Ce(()=>{const n=r=>{r.target&&t.dialog?.open&&t.dialogInner&&t.dialogInner!==r.target&&!t.dialogInner.contains(r.target)&&t.onClose()};return document.addEventListener("mousedown",n,{capture:!0}),()=>{document.removeEventListener("mousedown",n,{capture:!0})}}),G()}var Pc=j('<dialog><div class="dialogInner svelte-1x410nl"><!></div></dialog> <!>',1);function Aa(e,t){K(t,!0);let n=O(null),r=O(null),o=O(!1),{showDialog:a,hideDialog:i}=ur();const l=f=>{f?.preventDefault();const _=setTimeout(()=>{t.onClosed()},150);s(n)?.addEventListener("transitionend",()=>{clearTimeout(_),t.onClosed()},{once:!0}),y(o,!1)};Te(()=>{t.startClose&&l()}),Ce(()=>(s(n)?.showModal(),s(n)?.getClientRects(),y(o,!0),s(n)?.addEventListener("cancel",l),s(n)?.addEventListener("close",l),()=>{s(n)?.removeEventListener("cancel",l),s(n)?.removeEventListener("close",l)})),Ce(()=>(a(),()=>{i()}));var c=Pc(),u=M(c),d=D(u),v=D(d);ce(v,()=>t.children),Et(d,f=>y(r,f),()=>s(r)),Et(u,f=>y(n,f),()=>s(n));var g=R(u,2);{var h=f=>{ws(f,{get dialog(){return s(n)},get dialogInner(){return s(r)},onClose:l})};V(g,f=>{s(n)&&s(r)&&f(h)})}le(()=>ge(u,1,he(["dialog",{shown:s(o)}]),"svelte-1x410nl")),m(e,c),G()}var xc=j("<div><!></div>");function ys(e,t){K(t,!0);let n=O(!1),r=O(null);const o=()=>{const u=setTimeout(()=>{t.onClosed()},150);s(r)?.addEventListener("transitionend",()=>{clearTimeout(u),t.onClosed()},{once:!0}),y(n,!1)},a=u=>{u.target!==s(r)&&!s(r)?.contains(u.target)&&o()},i=u=>{u.target!==s(r)&&!s(r)?.contains(u.target)&&o()};Ce(()=>{s(r)?.getClientRects(),y(n,!0);const u=setTimeout(()=>{document.addEventListener("focusin",a),document.addEventListener("click",i)},0);return()=>{clearTimeout(u),document.removeEventListener("focusin",a),document.removeEventListener("click",i)}}),Te(()=>{t.startClose&&o()});var l=xc(),c=D(l);ce(c,()=>t.children),Et(l,u=>y(r,u),()=>s(r)),le(()=>ge(l,1,he(["menu",{top:t.positionTop,shown:s(n)}]),"svelte-ujw4xi")),m(e,l),G()}const Dc=(e,t)=>{s(t)||y(t,!0)};var Tc=(e,t)=>t("newest"),Ac=(e,t)=>t("oldest"),Nc=(e,t)=>t("AtoZ"),Lc=(e,t)=>t("ZtoA"),Mc=j("<div><button>Newest</button> <button>Oldest</button> <button>A to Z</button> <button>Z to A</button></div>"),Bc=j('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),Ic=j('<div class="orderMenu svelte-14zj87s"><button><!> <!></button> <!></div>');function Oc(e,t){K(t,!0);const n=(E,S=ve)=>{var N=Mc(),B=D(N);B.__click=[Tc,d];var b=R(B,2);b.__click=[Ac,d];var p=R(b,2);p.__click=[Nc,d];var C=R(p,2);C.__click=[Lc,d],le(()=>{ge(N,1,he(["menu",{menuDialog:S()}]),"svelte-14zj87s"),ge(B,1,he(["menuButton",{menuButtonDialog:S(),current:s(u)==="newest"}]),"svelte-14zj87s"),ge(b,1,he(["menuButton",{menuButtonDialog:S(),current:s(u)==="oldest"}]),"svelte-14zj87s"),ge(p,1,he(["menuButton",{menuButtonDialog:S(),current:s(u)==="AtoZ"}]),"svelte-14zj87s"),ge(C,1,he(["menuButton",{menuButtonDialog:S(),current:s(u)==="ZtoA"}]),"svelte-14zj87s")}),m(E,N)};let r=O(!1),o=O(!1);const{checkMobileSize:a}=Kn(),{getFeedOrder:i,setFeedOrder:l}=Zo();let c=I(a),u=I(i);const d=E=>{y(o,!0),l(E)},v=()=>{y(r,!1),y(o,!1)};Ce(()=>{const E=S=>{S.key==="Escape"&&y(o,!0)};return document.addEventListener("keydown",E),()=>document.removeEventListener("keydown",E)});var g=Ic(),h=D(g);h.__click=[Dc,r],ge(h,1,he(["button","buttonMenu"]),"svelte-14zj87s");var f=D(h);ye(f,{name:"filter"});var _=R(f,2);Qe(_,{children:(E,S)=>{var N=De("show feed order menu");m(E,N)}});var w=R(h,2);{var k=E=>{var S=U(),N=M(S);{var B=p=>{Aa(p,{get startClose(){return s(o)},onClosed:v,children:(C,F)=>{n(C,()=>!0)},$$slots:{default:!0}})},b=p=>{var C=Bc(),F=M(C);_e(F,()=>({"--right":"20px","--top":"60px"})),ys(F.lastChild,{get startClose(){return s(o)},onClosed:v,children:($,ue)=>{n($,()=>!1)},$$slots:{default:!0}}),m(p,C)};V(N,p=>{s(c)?p(B):p(b,!1)})}m(E,S)};V(w,E=>{s(r)&&E(k)})}m(e,g),G()}tt(["click"]);var q=(e=>(e.NewNote="newNote",e.EditNote="editNote",e.Settings="settings",e.ImportData="importData",e.ExportData="exportData",e.ClearStore="clearStore",e.Account="account",e.Sync="sync",e.Start="start",e.Auth="auth",e.Signin="signin",e.Signup="signup",e.AccessKeys="accessKeys",e.ConfirmAccessKey="confirmAccessKey",e.Subscription="subscription",e.Exit="exit",e.NotFound="notFound",e.About="about",e.Bin="bin",e))(q||{}),Rc=j("<a><!></a>"),Fc=j("<button><!></button>");function Qt(e,t){let n=re(t,"type",3,"standard"),r=re(t,"typeButton",3,"button"),o=re(t,"element",3,"button"),a=re(t,"href",3,""),i=re(t,"fullWidth",3,!1),l=re(t,"withoutMinWidth",3,!1);var c=U(),u=M(c);{var d=g=>{var h=Rc();h.__click=function(..._){t.onClick?.apply(this,_)};var f=D(h);ce(f,()=>t.children??ve),le(()=>{Pe(h,"href",a()),ge(h,1,he(["button","a",{dangerous:n()==="dangerous",secondary:n()==="secondary",fullWidth:i(),withoutMinWidth:l()}]),"svelte-aqjevc")}),m(g,h)},v=g=>{var h=Fc();h.__click=function(..._){t.onClick?.apply(this,_)};var f=D(h);ce(f,()=>t.children??ve),le(()=>{Pe(h,"type",r()),ge(h,1,he(["button",{dangerous:n()==="dangerous",secondary:n()==="secondary",fullWidth:i(),withoutMinWidth:l()}]),"svelte-aqjevc")}),m(g,h)};V(u,g=>{o()==="a"?g(d):g(v,!1)})}m(e,c)}tt(["click"]);var zc=j('<div class="block svelte-1dzbsx4"><span class="title svelte-1dzbsx4"> </span> <div class="controls svelte-1dzbsx4"><!> <!></div></div>');function bs(e,t){K(t,!0);let n=re(t,"buttonCancelTitle",3,"Cancel"),r=re(t,"buttonConfirmTitle",3,"Confirm"),o=O(!1),a=O(!1);const i=()=>{y(o,!0)},l=()=>{y(o,!0),y(a,!0)};Aa(e,{get startClose(){return s(o)},onClosed:()=>{s(a)?t.onConfirm():t.onCancel()},children:(u,d)=>{var v=zc(),g=D(v),h=D(g),f=R(g,2),_=D(f);Qt(_,{onClick:i,fullWidth:!0,withoutMinWidth:!0,type:"secondary",children:(k,E)=>{var S=De();le(()=>Zt(S,n())),m(k,S)},$$slots:{default:!0}});var w=R(_,2);Qt(w,{onClick:l,fullWidth:!0,withoutMinWidth:!0,type:"dangerous",children:(k,E)=>{var S=De();le(()=>Zt(S,r())),m(k,S)},$$slots:{default:!0}}),le(()=>Zt(h,t.title)),m(u,v)},$$slots:{default:!0}}),G()}const Hc=(e,t)=>{y(t,!0)};var Uc=j('<a class="link svelte-13t3afu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Notes</span></a>'),jc=j('<a class="link svelte-13t3afu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Bin</span></a>'),Vc=j('<button class="emptyBinButton svelte-13t3afu" type="button">Empty bin</button>'),qc=j('<a class="buttonAdd svelte-13t3afu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Note</span></a>'),Wc=j('<div class="header svelte-13t3afu"><div class="top svelte-13t3afu"><div class="menu svelte-13t3afu"><a class="link svelte-13t3afu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Settings</span></a> <a class="link svelte-13t3afu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Sync</span></a> <!></div> <div class="mobile svelte-13t3afu"><!></div> <!></div> <div class="bottom svelte-13t3afu"><div><div class="sidebarSearchWrapper"><!></div></div> <div class="right svelte-13t3afu"><div class="filter svelte-13t3afu"><div class="feedSearchWrapper svelte-13t3afu"><!></div> <!></div></div></div></div> <!>',1);function Yc(e,t){K(t,!0);const{createHandlePage:n,getPageUrl:r}=Bt(),o=Wo(),a=Go(),{getScrollContainer:i}=Da();let l=I(i);const{emptyBin:c,checkNotesInBin:u}=Vr(),{getAppHistory:d}=_t(),v=I(u),g=I(()=>d().pathname);let h=O(!1);const f=()=>{s(l)&&s(l).scrollTo({top:0,behavior:"smooth"})};var _=Wc(),w=M(_),k=D(w),E=D(k),S=D(E),N=I(()=>n(q.Settings));S.__click=function(...Y){s(N)?.apply(this,Y)};var B=D(S);_e(B,()=>({"--rotate":"30deg","--size":"20px"})),ye(B.lastChild,{name:"settings"});var b=R(S,2),p=I(()=>n(q.Sync));b.__click=function(...Y){s(p)?.apply(this,Y)};var C=D(b);_e(C,()=>({"--size":"20px"})),ye(C.lastChild,{name:"sync"});var F=R(b,2);{var $=Y=>{var ae=Uc(),be=I(()=>n("/",{full:!0}));ae.__click=function(...Ee){s(be)?.apply(this,Ee)};var me=D(ae);_e(me,()=>({"--size":"18px"})),ye(me.lastChild,{name:"note"}),le(Ee=>Pe(ae,"href",Ee),[()=>r("/",{full:!0})]),m(Y,ae)},ue=Y=>{var ae=U(),be=M(ae);{var me=Ee=>{var Se=jc(),nt=I(()=>n(q.Bin,{full:!0}));Se.__click=function(...Ge){s(nt)?.apply(this,Ge)};var Oe=D(Se);_e(Oe,()=>({"--size":"20px"})),ye(Oe.lastChild,{name:"bin"}),le(Ge=>Pe(Se,"href",Ge),[()=>r(q.Bin,{full:!0})]),m(Ee,Se)};V(be,Ee=>{s(v)&&Ee(me)},!0)}m(Y,ae)};V(F,Y=>{s(g)===`/${q.Bin}`?Y($):Y(ue,!1)})}var X=R(E,2),te=D(X);ms(te,{});var z=R(X,2);{var Z=Y=>{var ae=U(),be=M(ae);{var me=Ee=>{var Se=Vc();Se.__click=[Hc,h],m(Ee,Se)};V(be,Ee=>{s(v)&&Ee(me)})}m(Y,ae)},ee=Y=>{var ae=qc(),be=I(()=>n(q.NewNote));ae.__click=function(...Ee){s(be)?.apply(this,Ee)};var me=D(ae);_e(me,()=>({"--size":"16px","--color":"#b0b0b0"})),ye(me.lastChild,{name:"plus"}),le(Ee=>Pe(ae,"href",Ee),[()=>r(q.NewNote)]),m(Y,ae)};V(z,Y=>{s(g)===`/${q.Bin}`?Y(Z):Y(ee,!1)})}var pe=R(k,2),se=D(pe);ge(se,1,he(["left"]),"svelte-13t3afu");var W=D(se),P=D(W);da(P,{placeholder:"Search tag",get value(){return a.value},set value(Y){a.value=Y}});var T=R(se,2),x=D(T),A=D(x),H=D(A);da(H,{onFocus:f,placeholder:"Search",get value(){return o.value},set value(Y){o.value=Y}});var J=R(A,2);Oc(J,{});var ne=R(w,2);{var de=Y=>{bs(Y,{title:"Are you sure you want to empty the bin?",buttonConfirmTitle:"Empty",onConfirm:()=>{c(),y(h,!1)},onCancel:()=>{y(h,!1)}})};V(ne,Y=>{s(h)&&Y(de)})}le((Y,ae)=>{Pe(S,"href",Y),Pe(b,"href",ae)},[()=>r(q.Settings),()=>r(q.Sync)]),m(e,_),G()}tt(["click"]);function Kc(e,t){K(t,!0);const{getIsKeyboardVisible:n}=uc();let r=re(t,"dialog",7);const o=I(n),a=Yn();let i=null;const l=()=>{t.dialogState==="swiping"&&t.onClose()};Te(()=>(t.dialogState==="swiping"&&(i=setTimeout(l,3e3)),()=>{i&&(clearTimeout(i),i=null)}));let c=null,u=null;const d=3,v=50,g=5,h=.6,f=.3,_=.35,w=.95;let k=0,E=0,S=0,N=!1,B=!1,b=0,p=0,C=0;const F=()=>{k=0,E=0,N=!1,B=!1,b=0,p=0,C=0,S=0,c=null,u!==null&&(cancelAnimationFrame(u),u=null),i&&(clearTimeout(i),i=null)},$=W=>{r()&&t.dialogState==="opened"&&(k=W.touches[0].clientX,E=W.touches[0].clientY,S=performance.now(),N=!0,B=!1)},ue=W=>t.dialogState==="opened"&&W>0||t.dialogState==="swiping"&&W>0,X=()=>{if(r()){r().style.setProperty("--transition-timing","0s"),t.onSwipe(),navigator.vibrate&&navigator.vibrate(10);try{const W=window.getComputedStyle(r()),P=W.transform||W.webkitTransform||"";if(p=r().offsetWidth,(t.dialogState==="swiping"||t.dialogState==="opened")&&(b=0),P&&P!=="none")try{b=new DOMMatrix(P).m41}catch{}B=!0}catch{F()}}},te=()=>{if(!r())return;const P=Math.abs(b+C*p/100)/p;r().style.setProperty("--backdrop-bg",`rgba(0, 0, 0, ${.1*(1-P)})`)},z=()=>{if(u=null,!c||!N||!r()||s(o)){F();return}const W=[...c.touches].reduce((Y,ae)=>Y+ae.clientX,0)/c.touches.length,P=[...c.touches].reduce((Y,ae)=>Y+ae.clientY,0)/c.touches.length,T=W-k,x=P-E,A=Math.abs(T)>Math.abs(x),H=Math.abs(T)>d;if(!B)if(A&&H&&ue(T))try{X()}catch{F();return}else return;if(!ue(T))return;r().style.setProperty("--transition-timing","0s");let J=b+T*w;J=Math.max(0,Math.min(p,J)),r().style.transform=`translate3d(${J}px, 0, 0)`,a.swipingRatio=Math.abs(1-J/p),C=(J-b)/p*100,t.dialogState==="swiping"&&(i&&clearTimeout(i),i=setTimeout(l,3e3)),te()},Z=W=>{if(!N)return;c=W,u===null&&(u=requestAnimationFrame(z));const P=W.touches[0].clientX-k,T=W.touches[0].clientY-E,x=Math.abs(P)>Math.abs(T);B&&x&&W.preventDefault()},ee=W=>{const P=Math.abs(W);if(P>=h)return g;if(P>=f){const T=(P-f)/(h-f);return v-T*(v-g)}else return v},pe=(W,P)=>{if(Math.abs(W)>=h)return _*.5;const x=Math.abs(C)/100;return P?_*Math.max(.5,1-x):_*Math.max(.5,x)},se=W=>{if(u!==null&&(cancelAnimationFrame(u),u=null),!N||!r()){F();return}if(!B){F();return}let P=0;if(W?.changedTouches?.[0]){const J=W.changedTouches[0].clientX,de=performance.now()-S;de>0&&(P=(J-k)/de)}const T=ee(P);let x=null;t.dialogState==="swiping"&&(x=Math.abs(C)>T||P<-f?"close":"open");const A=t.dialogState==="swiping"&&x==="close",H=pe(P,A);a.duration=H-.02,r().style.setProperty("--transition-timing",`${H}s`),r().offsetWidth,r().style.transform="",x==="open"?t.onOpen():x==="close"&&t.onClose(),r()?.style.removeProperty("--backdrop-bg"),F()};Ce(()=>(r().addEventListener("touchstart",$,{passive:!0}),r().addEventListener("touchmove",Z,{passive:!1}),r().addEventListener("touchend",se,{passive:!0}),r().addEventListener("touchcancel",se,{passive:!0}),()=>{r().removeEventListener("touchstart",$),r().removeEventListener("touchmove",Z),r().removeEventListener("touchend",se),r().removeEventListener("touchcancel",se),u!==null&&cancelAnimationFrame(u)})),G()}var Gc=(e,t)=>{t.onStartClose()},Xc=j('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),Zc=j('<dialog><div class="dialogInner svelte-vr2o0t"><div class="header svelte-vr2o0t"><div><!></div></div> <!></div></dialog> <!>',1);function Jc(e,t){K(t,!0);let n=350;const{isScrolling:r,enable:o}=fs();let a=O(null),i=O(null);const l=Yn(),c=b=>{b.preventDefault(),t.onStartClose()};Ce(()=>(s(a)?.addEventListener("close",t.onClosed),s(a)?.addEventListener("cancel",c),()=>{s(a)?.removeEventListener("close",t.onClosed),s(a)?.removeEventListener("cancel",c)}));const u=()=>{s(a)?.style.removeProperty("--transition-timing"),s(a)?.style.removeProperty("transform"),s(a)?.style.removeProperty("--backdrop-bg")},d=()=>{o()},v=I(r);Te(()=>{if(t.dialogState,!!s(a))switch(t.dialogState){case"opening":{s(a).open||s(a).showModal(),s(a).getBoundingClientRect();const b=setTimeout(()=>{u()},n+1),p=()=>{clearTimeout(b),u()};return s(a)?.addEventListener("transitionend",p,{once:!0}),t.onOpened(),()=>{clearTimeout(b),s(a)?.removeEventListener("transitionend",p)}}case"closing":{const b=setTimeout(()=>{t.dialogState==="closing"&&t.onClosed()},n+1),p=()=>{clearTimeout(b),t.onClosed()};return s(a)?.addEventListener("transitionend",p,{once:!0}),()=>{clearTimeout(b),s(a)?.removeEventListener("transitionend",p)}}case"opened":u()}});var g=Zc(),h=M(g),f=D(h),_=D(f),w=D(_),k=D(w);{var E=b=>{var p=Xc();ge(p,1,he(["navigateButton","buttonBack"]),"svelte-vr2o0t"),p.__click=[Gc,t];var C=D(p);_e(C,()=>({"--size":"36px"})),ye(C.lastChild,{name:"back"});var F=R(C,2);Qe(F,{children:($,ue)=>{var X=De("back");m($,X)}}),m(b,p)};V(k,b=>{(!(t.blocked||t.hidden)||t.blocked&&t.unBlockedBack)&&b(E)})}var S=R(_,2);ce(S,()=>t.children),Et(f,b=>y(i,b),()=>s(i)),Et(h,b=>y(a,b),()=>s(a));var N=R(h,2);{var B=b=>{Kc(b,{get onClose(){return t.onStartClose},get onOpen(){return t.onStartOpen},get onSwipe(){return t.onSwipe},get dialogState(){return t.dialogState},get dialog(){return s(a)}})};V(N,b=>{(!s(v)&&t.dialogState==="opened"||t.dialogState==="swiping")&&(!t.blocked||t.unBlockedBack)&&b(B)})}le(()=>ge(h,1,he([{open:t.dialogState==="opened",hidden:t.hidden,isAnimationOn:l.working&&(!l.isSwiping||!t.hidden)},{hidden:t.hidden}]),"svelte-vr2o0t")),Ca("scroll",f,d),m(e,g),G()}tt(["click"]);const Ga=(e,t)=>{if(!t)return e;if(t.type==="closed")return{type:"closed"};switch(e.type){case"opened":return t.type==="close"?{type:"closing"}:t.type==="swipe"?{type:"swiping"}:e;case"closed":return t.type==="open"?{type:"opening"}:e;case"swiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"opening":return t.type==="opened"?{type:"opened"}:e;default:return e}};function Qc(e,t){K(t,!0);let n=re(t,"blocked",3,!1),r=re(t,"hiddenDialog",3,!1),o=re(t,"unBlockedBack",3,!1),a=re(t,"onStartClose",3,()=>{}),i=re(t,"onClose",3,()=>{});const l=Yn();let c=O(Be(Ga({type:"closed"})));const u=S=>{y(c,Ga(s(c),S),!0)},d=()=>{n()&&!o()||(a()(),u({type:"close"}))},v=()=>{u({type:"open"})},g=()=>{u({type:"opened"}),l.duration=.2},h=()=>{i()(),u({type:"closed"}),l.swipingRatio=1,l.duration=.2},f=()=>{u({type:"swipe"})};Te(()=>{s(c).type==="swiping"?l.isSwiping=!0:l.isSwiping=!1,s(c).type==="closed"&&t.shownDialog?v():s(c).type==="opened"&&!t.shownDialog&&d()});var _={handleComputeState:u},w=U(),k=M(w);{var E=S=>{Jc(S,{onSwipe:f,onOpened:g,onClosed:h,onStartClose:d,onStartOpen:v,get dialogState(){return s(c).type},get hidden(){return r()},get blocked(){return n()},get unBlockedBack(){return o()},children:(N,B)=>{var b=U(),p=M(b);ce(p,()=>t.children),m(N,b)},$$slots:{default:!0}})};V(k,S=>{s(c).type!=="closed"&&S(E)})}return m(e,w),G(_)}const $c=({getDialog:e,onOpen:t,onStartClose:n,onClose:r})=>{const o=i=>{i.preventDefault(),n()},a=()=>{r?.()};Ce(()=>{const i=e();return i?.addEventListener("cancel",o),i?.addEventListener("close",a),()=>{i?.removeEventListener("cancel",o),i?.removeEventListener("close",a)}}),Ce(()=>{const i=e();i?.showModal(),i?.getBoundingClientRect(),t()})};var eu=(e,t)=>{t.onStartBack()},tu=j('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),nu=(e,t)=>{t.onStartClose()},ru=j('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),au=j('<dialog><div class="dialogInner svelte-rt409n"><div class="header svelte-rt409n"><div><!></div> <div><!></div></div> <!></div></dialog> <!>',1);function ou(e,t){K(t,!0);let n=re(t,"blockedDialog",3,!1),r=re(t,"hiddenDialog",3,!1),o=re(t,"isDesktopAnimationOff",3,!1),a=O(null),i=O(null);$c({getDialog:()=>s(a),onOpen:t.onOpen,onStartClose:t.onStartClose,onClose:t.onClose});const l=Yn();Te(()=>{t.stateDialog==="closing"&&(l.working?s(a)?.addEventListener("transitionend",()=>{s(a)?.close()},{once:!0}):s(a)?.close())});const{getDialogPageHeight:c}=Ta(),u=I(c);var d=au(),v=M(d),g=D(v),h=D(g),f=D(h),_=D(f);{var w=b=>{var p=tu();ge(p,1,he(["navigateButton","buttonBack"]),"svelte-rt409n"),p.__click=[eu,t];var C=D(p);_e(C,()=>({"--size":"28px"})),ye(C.lastChild,{name:"back"});var F=R(C,2);Qe(F,{children:($,ue)=>{var X=De("back");m($,X)}}),m(b,p)};V(_,b=>{(!(n()||r())||n()&&t.unBlockedBack)&&t.onStartBack&&b(w)})}var k=R(f,2),E=D(k);{var S=b=>{var p=ru();ge(p,1,he(["navigateButton","buttonClose"]),"svelte-rt409n"),p.__click=[nu,t];var C=D(p);_e(C,()=>({"--size":"28px"})),ye(C.lastChild,{name:"close"});var F=R(C,2);Qe(F,{children:($,ue)=>{var X=De("close");m($,X)}}),m(b,p)};V(E,b=>{n()||r()||b(S)})}var N=R(h,2);ce(N,()=>t.children),Et(g,b=>y(i,b),()=>s(i)),Et(v,b=>y(a,b),()=>s(a));var B=R(v,2);ws(B,{get dialog(){return s(a)},get dialogInner(){return s(i)},get onClose(){return t.onStartClose}}),le(()=>{nr(v,`height: ${s(u)+74}px`),ge(v,1,he([{open:t.stateDialog==="open",isAnimationOn:l.working,isDesktopAnimationOff:o(),hiddenDialog:r()}]),"svelte-rt409n")}),m(e,d),G()}tt(["click"]);const su=({onStartClose:e,onClose:t})=>{let n=O("close");return{get state(){return s(n)},set state(i){y(n,i,!0)},handleStartClose:(i=!1)=>{i||(y(n,"closing"),e?.())},handleOpen:()=>{y(n,"open")},handleClose:()=>{y(n,"close"),t?.()}}};function iu(e,t){K(t,!0);let n=re(t,"blockedDialog",3,!1),r=re(t,"hiddenDialog",3,!1),o=re(t,"onStartClose",3,()=>{}),a=re(t,"onClose",3,()=>{}),i=su({onStartClose:o(),onClose:a()});Te(()=>{i.state==="close"&&t.shownDialog?i.state="opening":i.state==="open"&&!t.shownDialog&&i.handleStartClose(n())});const l=v=>{v.key==="Escape"&&(document.activeElement instanceof HTMLInputElement&&document.activeElement.type==="text"||document.activeElement instanceof HTMLTextAreaElement||n())&&(v.preventDefault(),v.stopPropagation())};Ce(()=>(document.addEventListener("keydown",l),()=>{document.removeEventListener("keydown",l)}));var c=U(),u=M(c);{var d=v=>{ou(v,{get stateDialog(){return i.state},get blockedDialog(){return n()},get unBlockedBack(){return t.unBlockedBack},get hiddenDialog(){return r()},get onOpen(){return i.handleOpen},get onStartBack(){return t.onStartBack},onStartClose:()=>{i.handleStartClose(n())},get onClose(){return i.handleClose},children:(g,h)=>{var f=U(),_=M(f);ce(_,()=>t.children),m(g,f)},$$slots:{default:!0}})};V(u,v=>{i.state!=="close"&&v(d)})}m(e,c),G()}function lu(e,t){K(t,!0);let n=re(t,"blockedDialog",3,!1),r=re(t,"hiddenDialog",3,!1),o=re(t,"isLastDialog",3,!1),a=re(t,"onStartClose",3,()=>{}),i=re(t,"onClose",3,()=>{});const l=I(()=>o()?void 0:t.onStartBack),{showDialog:c,hideDialog:u}=ur();Ce(()=>(c(),()=>{u()}));const{checkMobileSize:d}=Kn();var v=U(),g=M(v);{var h=_=>{Qc(_,{get shownDialog(){return t.shownDialog},get blocked(){return n()},get unBlockedBack(){return t.unBlockedBack},get hiddenDialog(){return r()},get children(){return t.children},get onStartClose(){return t.onStartBack},get onClose(){return i()}})},f=_=>{iu(_,{get shownDialog(){return t.shownDialog},get blockedDialog(){return n()},get unBlockedBack(){return t.unBlockedBack},get hiddenDialog(){return r()},get children(){return t.children},get onStartBack(){return s(l)},get onStartClose(){return a()},get onClose(){return i()}})};V(g,_=>{d()?_(h):_(f,!1)})}m(e,v),G()}function Xa(e,t){K(t,!0);const{back:n,closeDialogStack:r}=_t(),{popStackPages:o}=Bt();let a=re(t,"blocked",3,!1),i=re(t,"isLastDialog",3,!1),l=re(t,"onBack",3,()=>{});const{checkBlockedDialog:c,checkUnBlockedBackDialog:u}=ur(),d=I(()=>a()||t.hidden||c()),v=I(()=>u()&&!i());lu(e,{get shownDialog(){return t.shown},get blockedDialog(){return s(d)},get unBlockedBack(){return s(v)},get hiddenDialog(){return t.hidden},get isLastDialog(){return i()},onStartBack:()=>{(!s(d)||s(d)&&s(v))&&t.shown&&(n(),l()())},onStartClose:()=>{(!s(d)||s(d)&&s(v))&&t.shown&&r()},onClose:()=>{o()},children:(_,w)=>{var k=U(),E=M(k);ce(E,()=>t.children),m(_,k)},$$slots:{default:!0}}),G()}var cu=j('<h1 class="svelte-1ky72l5"><!></h1>');function uu(e,t){var n=cu(),r=D(n);ce(r,()=>t.children),m(e,n)}var du=j('<div class="block svelte-ujk4k"><!> <div class="container svelte-ujk4k"><!> <!></div></div>');function fu(e,t){K(t,!0);const{blockDialog:n}=ur(),{pushStackPages:r}=Bt(),{closeDialogStack:o}=_t(),{initLocalAccount:a}=xa();let i=O("idle");const l=()=>{y(i,"loading"),r(q.Auth)},c=async()=>{y(i,"loading"),Cl(),await a(),n(!1),o()};Te(()=>{n(s(i)==="idle"||s(i)==="loading")}),Ce(()=>(n(!0),()=>{n(!1)}));var u=du(),d=D(u);uu(d,{children:(f,_)=>{var w=De("use app");m(f,w)}});var v=R(d,2),g=D(v);Qt(g,{onClick:l,fullWidth:!0,children:(f,_)=>{var w=De("cloud account");m(f,w)},$$slots:{default:!0}});var h=R(g,2);Qt(h,{onClick:c,fullWidth:!0,type:"secondary",children:(f,_)=>{var w=De("without account");m(f,w)},$$slots:{default:!0}}),m(e,u),G()}var vu=j('<div class="svelte-1x9a4ve"><!></div>');function Me(e,t){K(t,!0);const{setDialogPageHeight:n}=Ta();let r=O(null);Ce(()=>{s(r)&&(s(r).getBoundingClientRect(),s(r).style.opacity="1");const i=new ResizeObserver(l=>{for(let c of l){const u=c.contentRect.height;n(u)}});if(s(r))return i.observe(s(r)),()=>{s(r)&&i.unobserve(s(r)),i.disconnect()}});var o=vu(),a=D(o);ce(a,()=>t.children),Et(o,i=>y(r,i),()=>s(r)),m(e,o),G()}var hu=j('<div class="svelte-stjbkr"><p class="svelte-stjbkr">Page not found</p> <!></div>');function gu(e,t){K(t,!1);const{navigate:n}=_t(),r=i=>{i.preventDefault(),n("/")};Pa();var o=hu(),a=R(D(o),2);Qt(a,{element:"a",href:"/",onClick:r,children:(i,l)=>{var c=De("close");m(i,c)},$$slots:{default:!0}}),m(e,o),G()}const _u="modulepreload",pu=function(e){return"/"+e},Za={},Re=function(t,n,r){let o=Promise.resolve();if(n&&n.length>0){let c=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=i?.nonce||i?.getAttribute("nonce");o=c(n.map(u=>{if(u=pu(u),u in Za)return;Za[u]=!0;const d=u.endsWith(".css"),v=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${v}`))return;const g=document.createElement("link");if(g.rel=d?"stylesheet":_u,d||(g.as="script"),g.crossOrigin="",g.href=u,l&&g.setAttribute("nonce",l),document.head.appendChild(g),d)return new Promise((h,f)=>{g.addEventListener("load",h),g.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${u}`)))})}))}function a(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return o.then(i=>{for(const l of i||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})};var mu=j('<div class="svelte-10xfz1h"><p class="svelte-10xfz1h">Something went wrong. Please reload the page</p> <!></div>');function wu(e){var t=mu(),n=R(D(t),2);Qt(n,{onClick:()=>location.reload(),children:(r,o)=>{var a=De("Reload");m(r,a)},$$slots:{default:!0}}),m(e,t)}var yu=j('<div><!> <div class="loader svelte-m0sno1"></div></div>');function Ss(e,t){K(t,!0);let n=O(!1);Ce(()=>{const a=setTimeout(()=>{y(n,!0)},200);return()=>{clearTimeout(a)}});var r=yu(),o=D(r);ce(o,()=>t.children??ve),le(()=>ge(r,1,he(["block",{shown:s(n)}]),"svelte-m0sno1")),m(e,r),G()}var bu=j('<div class="svelte-1mu1b44"><!></div>');function Su(e,t){K(t,!0);const{getDialogPageHeight:n}=Ta(),r=I(n);var o=bu(),a=D(o);Ss(a,{}),le(()=>nr(o,`min-height: ${s(r)??""}px;`)),m(e,o),G()}function ze(e,t){K(t,!0);const n={},r=Object.assign({"./Pages/About.svelte":()=>Re(()=>import("./bYeEfJGH.js"),__vite__mapDeps([0,1])),"./Pages/AccessKeys.svelte":()=>Re(()=>import("./Cy-iG3iB.js"),__vite__mapDeps([2,3,4,5])),"./Pages/Account.svelte":()=>Re(()=>import("./CLlWQUX8.js"),__vite__mapDeps([6,3,7])),"./Pages/Auth.svelte":()=>Re(()=>import("./BSdYyFOB.js"),__vite__mapDeps([8,9])),"./Pages/ClearStore.svelte":()=>Re(()=>import("./DGlqIshA.js"),__vite__mapDeps([10,11])),"./Pages/ConfirmAccessKey.svelte":()=>Re(()=>import("./9QygVAVo.js"),__vite__mapDeps([12,4,3,13,14,15,16])),"./Pages/EditNote.svelte":()=>Re(()=>import("./uQI0mhq6.js"),__vite__mapDeps([17,18,14,15,19,20])),"./Pages/Exit.svelte":()=>Re(()=>import("./BXUBqfKd.js"),__vite__mapDeps([21,22])),"./Pages/ExportData.svelte":()=>Re(()=>import("./Droblc97.js"),__vite__mapDeps([23,24])),"./Pages/ImportData.svelte":()=>Re(()=>import("./lBcQLSTl.js"),__vite__mapDeps([25,26])),"./Pages/NewNote.svelte":()=>Re(()=>import("./7Iv7IlCY.js"),__vite__mapDeps([27,18,14,15,19])),"./Pages/Settings.svelte":()=>Re(()=>import("./C8sRkNG7.js"),__vite__mapDeps([28,29])),"./Pages/Signin.svelte":()=>Re(()=>import("./y0SFeWBP.js"),__vite__mapDeps([30,4,3,13,31])),"./Pages/Signup.svelte":()=>Re(()=>import("./BjcBw0dT.js"),__vite__mapDeps([32,13,4,3,33])),"./Pages/Subscription.svelte":()=>Re(()=>import("./Dn_I4I7M.js"),__vite__mapDeps([34,35])),"./Pages/Sync.svelte":()=>Re(()=>import("./DXK-K5NV.js"),__vite__mapDeps([36,37]))}),o=async l=>{const c=`./Pages/${l[0].toUpperCase()+l.slice(1)}.svelte`;if(!n[l]){if(r[c]){const u=r[c]();return n[l]={promise:u},n[l].module=await u,n[l].module}throw new Error(`Page ${l} not found`)}return n[l].module||await n[l].promise};var a=U(),i=M(a);zo(i,()=>o(t.page),l=>{Su(l,{})},(l,c)=>{const u=I(()=>s(c).default);var d=U(),v=M(d);jo(v,()=>s(u),(g,h)=>{h(g,{get params(){return t.params},get hidden(){return t.hidden}})}),m(l,d)},l=>{wu(l)}),m(e,a),G()}var ku=j('<button> <svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></button>');function ks(e,t){let n=I(()=>t.style==="selected"?"45deg":"0deg");var r=ku();r.__click=function(...i){t.onClick?.apply(this,i)};var o=D(r),a=R(o);_e(a,()=>({"--size":t.size==="small"?"10px":"12px","--rotate":s(n)})),ye(a.lastChild,{name:"plus"}),le(()=>{Pe(r,"type",t.type),ge(r,1,he([{selectedTag:t.style==="selected",small:t.size==="small"}]),"svelte-uu8a24"),Zt(o,`${t.title??""} `)}),m(e,r)}tt(["click"]);var Cu=j("<div></div>");function Ja(e,t){K(t,!0);let n=re(t,"mobile",3,!1);var r=Cu();Hr(r,20,()=>t.tags,o=>o,(o,a)=>{ks(o,{get title(){return a},onClick:()=>t.handleTagClick(a)})}),le(()=>ge(r,1,he(["tags",{mobile:n()}]),"svelte-1c53r32")),m(e,r),G()}var Eu=j("<div></div>");function Qa(e,t){K(t,!0);var n=U(),r=M(n);{var o=a=>{var i=Eu();ge(i,1,he(["tags","selectedTags"]),"svelte-58z9m1"),Hr(i,20,()=>t.selectedTags,l=>l,(l,c)=>{ks(l,{get title(){return c},onClick:()=>t.handleSelectedTagClick(c),style:"selected"})}),m(a,i)};V(r,a=>{t.selectedTags.size>0&&a(o)})}m(e,n),G()}var Pu=(e,t,n)=>{t(),n("/",{full:!0})(e)},xu=j('<a class="link svelte-ltt61h"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a>'),Du=(e,t,n)=>{t(),n(q.Bin,{full:!0})(e)},Tu=j('<a class="link svelte-ltt61h"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a>'),Au=j('<div class="sidebarFixed svelte-ltt61h"><div class="nav svelte-ltt61h"><!> <div class="menu svelte-ltt61h"><a class="link svelte-ltt61h"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a> <a class="link svelte-ltt61h"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a> <!></div></div> <div class="searchWrapper svelte-ltt61h"><!></div> <!></div> <!>',1),Nu=j('<div class="sidebar svelte-ltt61h"><div class="sidebarFixed svelte-ltt61h"><!></div> <!></div>');function Lu(e,t){K(t,!0);const{checkMobileSize:n}=Kn(),{sidebarClose:r}=Qo(),{getAppHistory:o}=_t(),{getPageUrl:a,createHandlePage:i,getStackPagesFormUrl:l}=Bt(),c=Go(),u=I(()=>o().pathname),{getSelectedTags:d,addTag:v,removeTag:g}=es();let h=I(d);const{checkNotesInBin:f}=Vr();let _=re(t,"getNotes",3,()=>[]),w=re(t,"mode",3,"notes"),k=null;function E(){return k||(k=Re(()=>import("./BRY5IyTJ.js"),__vite__mapDeps([38,39]))),k}const S=z=>{v(z)},N=z=>{g(z)},B=()=>{if(s(h).has("inbox"))return[];const z=[];for(const Z of _()()||[])if(Z&&!(Z.data.deletedAt&&w()==="notes")&&!(!Z.data.deletedAt&&w()==="bin")){if(s(h).size===0){for(const ee of Z?.data.tags||[])z.includes(ee)||z.push(ee);continue}if(Z&&s(h).values().every(ee=>Z.data.tags.includes(ee)))for(const ee of Z.data.tags)!s(h).has(ee)&&!z.includes(ee)&&z.push(ee)}return z};let b=I(()=>B().filter(z=>c.value===""||z.toLowerCase().indexOf(c.value.toLowerCase())!==-1).sort((z,Z)=>z==="inbox"?-1:Z==="inbox"?1:z.localeCompare(Z))),p=I(n);Ce(()=>{s(p)&&E()});const{checkExistedDialog:C}=ur();let F=I(()=>l().length>0||C());var $=U(),ue=M($);{var X=z=>{var Z=U(),ee=M(Z);zo(ee,E,null,(pe,se)=>{const W=I(()=>s(se).default);var P=U(),T=M(P);jo(T,()=>s(W),(x,A)=>{A(x,{get blocked(){return s(F)},children:(H,J)=>{var ne=Au(),de=M(ne),Y=D(de),ae=D(Y);ms(ae,{});var be=R(ae,2),me=D(be),Ee=I(()=>i(q.Settings));me.__click=function(...xe){s(Ee)?.apply(this,xe)};var Se=D(me);_e(Se,()=>({"--size":"24px"})),ye(Se.lastChild,{name:"settings"});var nt=R(Se,2);Qe(nt,{children:(xe,Xe)=>{var Fe=De("Settings");m(xe,Fe)}});var Oe=R(me,2),Ge=I(()=>i(q.Sync));Oe.__click=function(...xe){s(Ge)?.apply(this,xe)};var ut=D(Oe);_e(ut,()=>({"--size":"24px"})),ye(ut.lastChild,{name:"sync"});var rt=R(ut,2);Qe(rt,{children:(xe,Xe)=>{var Fe=De("Sync");m(xe,Fe)}});var It=R(Oe,2);{var pt=xe=>{var Xe=xu();Xe.__click=[Pu,r,i];var Fe=D(Xe);_e(Fe,()=>({"--size":"24px"})),ye(Fe.lastChild,{name:"note"});var Rt=R(Fe,2);Qe(Rt,{children:(mt,nn)=>{var rn=De("Notes");m(mt,rn)}}),le(mt=>Pe(Xe,"href",mt),[()=>a("/",{full:!0})]),m(xe,Xe)},xt=xe=>{var Xe=U(),Fe=M(Xe);{var Rt=mt=>{var nn=Tu();nn.__click=[Du,r,i];var rn=D(nn);_e(rn,()=>({"--size":"24px"})),ye(rn.lastChild,{name:"bin"});var Ft=R(rn,2);Qe(Ft,{children:(zt,qr)=>{var Wr=De("Bin");m(zt,Wr)}}),le(zt=>Pe(nn,"href",zt),[()=>a(q.Bin,{full:!0})]),m(mt,nn)};V(Fe,mt=>{f()&&mt(Rt)},!0)}m(xe,Xe)};V(It,xe=>{s(u)===`/${q.Bin}`?xe(pt):xe(xt,!1)})}var dr=R(Y,2),Ot=D(dr);da(Ot,{placeholder:"Search tag",get value(){return c.value},set value(xe){c.value=xe}});var bn=R(dr,2);Qa(bn,{get selectedTags(){return s(h)},handleSelectedTagClick:N});var fr=R(de,2);Ja(fr,{get tags(){return s(b)},handleTagClick:S,mobile:!0}),le((xe,Xe)=>{Pe(me,"href",xe),Pe(Oe,"href",Xe)},[()=>a(q.Settings),()=>a(q.Sync)]),m(H,ne)},$$slots:{default:!0}})}),m(pe,P)}),m(z,Z)},te=z=>{var Z=Nu(),ee=D(Z),pe=D(ee);Qa(pe,{get selectedTags(){return s(h)},handleSelectedTagClick:N});var se=R(ee,2);Ja(se,{get tags(){return s(b)},handleTagClick:S}),m(z,Z)};V(ue,z=>{s(p)?z(X):z(te,!1)})}m(e,$),G()}tt(["click"]);const Mu=(e,t,n,r)=>{t(n.note.id,!n.note.data.pinned),n.note.data.pinned?zn("Note unpinned",{onCancel:()=>{t(n.note.id,!0)}}):zn("Note pinned",{onCancel:()=>{t(n.note.id,!1)}}),y(r,!0)},Bu=(e,t,n)=>{navigator.clipboard.writeText(t.note.data.url),zn("Link copied"),y(n,!0)};var Iu=j('<li class="svelte-8ve3pe"><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>Copy link</button></li>'),Ou=(e,t,n)=>{y(t,!0),y(n,!0)},Ru=j('<li class="svelte-8ve3pe"><button><span class="wrapperIcon svelte-8ve3pe"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></span>Delete</button></li>'),Fu=(e,t,n)=>{y(t,!0),y(n,!0)},zu=(e,t,n)=>{y(t,!0),y(n,!0)},Hu=j('<li class="svelte-8ve3pe"><button><span class="wrapperIcon svelte-8ve3pe"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></span>Restore</button></li> <li class="svelte-8ve3pe"><button><span class="wrapperIcon svelte-8ve3pe"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></span>Delete from bin</button></li>',1),Uu=j('<ul class="menu svelte-8ve3pe"><!> <li class="svelte-8ve3pe"><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> </button></li> <!></ul>'),ju=j('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),Vu=j("<!> <!>",1);function qu(e,t){K(t,!0);const n=(p,C=ve)=>{var F=Uu(),$=D(F);{var ue=W=>{var P=Iu(),T=D(P);T.__click=[Bu,t,u];var x=D(T);_e(x,()=>({"--size":"22px"})),ye(x.lastChild,{name:"copy"}),le(()=>ge(T,1,he(["button",{buttonMenuDialog:C()}]),"svelte-8ve3pe")),m(W,P)};V($,W=>{C()&&t.note.data.url&&W(ue)})}var X=R($,2),te=D(X);te.__click=[Mu,a,t,u];var z=D(te);{let W=I(()=>t.note.data.pinned?"pin-cancel":"pin");_e(z,()=>({"--size":"22px"})),ye(z.lastChild,{get name(){return s(W)}})}var Z=R(z),ee=R(X,2);{var pe=W=>{var P=Ru(),T=D(P);T.__click=[Ou,d,u];var x=D(T),A=D(x);_e(A,()=>({"--size":"18px"})),ye(A.lastChild,{name:"bin"}),le(()=>ge(T,1,he(["button",{buttonMenuDialog:C()}]),"svelte-8ve3pe")),m(W,P)},se=W=>{var P=Hu(),T=M(P),x=D(T);x.__click=[Fu,v,u];var A=D(x),H=D(A);_e(H,()=>({"--size":"18px"})),ye(H.lastChild,{name:"bin-cancel"});var J=R(T,2),ne=D(J);ne.__click=[zu,g,u];var de=D(ne),Y=D(de);_e(Y,()=>({"--size":"18px"})),ye(Y.lastChild,{name:"bin"}),le(()=>{ge(x,1,he(["button",{buttonMenuDialog:C()}]),"svelte-8ve3pe"),ge(ne,1,he(["button",{buttonMenuDialog:C()}]),"svelte-8ve3pe")}),m(W,P)};V(ee,W=>{l()==="notes"?W(pe):W(se,!1)})}le(()=>{ge(te,1,he(["button",{buttonMenuDialog:C()}]),"svelte-8ve3pe"),Zt(Z,` ${t.note.data.pinned?"Unpin":"Pin"}`)}),m(p,F)},{moveNoteToBin:r,deleteNote:o,pinNote:a,restoreNoteFromBin:i}=Vr();let l=re(t,"mode",3,"notes"),c=re(t,"shownMenu",15),u=O(!1),d=O(!1),v=O(!1),g=O(!1);const{checkMobileSize:h}=Kn();let f=I(h);const _=async()=>{r(t.note.id),zn("Note moved to bin",{onCancel:()=>{i(t.note.id)}})},w=()=>{i(t.note.id),zn("Note restored from bin",{onCancel:()=>{r(t.note.id)}})},k=()=>{s(d)?(y(d,!1),_()):s(v)&&(y(v,!1),w()),c(!1),y(u,!1)};var E=Vu(),S=M(E);{var N=p=>{var C=U(),F=M(C);{var $=X=>{Aa(X,{get startClose(){return s(u)},onClosed:k,children:(te,z)=>{n(te,()=>!0)},$$slots:{default:!0}})},ue=X=>{var te=ju(),z=M(te);_e(z,()=>({"--bottom":"-90px","--right":"20px"})),ys(z.lastChild,{get startClose(){return s(u)},get positionTop(){return t.showMenuUp},onClosed:k,children:(Z,ee)=>{n(Z,()=>!1)},$$slots:{default:!0}}),m(X,te)};V(F,X=>{s(f)?X($):X(ue,!1)})}m(p,C)};V(S,p=>{c()&&p(N)})}var B=R(S,2);{var b=p=>{bs(p,{title:"Are you sure you want to delete this note?",buttonConfirmTitle:"Delete",onConfirm:()=>{o(t.note.id),y(g,!1)},onCancel:()=>{y(g,!1)}})};V(B,p=>{s(g)&&p(b)})}m(e,E),G()}tt(["click"]);const Wu=(e,t)=>{y(t,!0)},Yu=(e,t,n)=>{navigator.clipboard.writeText(t.note.data.url),zn("Link copied"),y(n,!1)},Ku=(e,t)=>{y(t,!0)},Gu=(e,t)=>{y(t,!1)},Xu=(e,t,n,r)=>{e.preventDefault(),t(`${q.EditNote}?id=${n.note.id}`),y(r,!1)};var Zu=j('<div class="iconPlaceholder svelte-1jg44o9"></div>'),Ju=j('<img loading="lazy" class="noteIcon" height="16" width="16" alt=""/>'),Qu=j('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),$u=j('<div class="noteIconWrapper svelte-1jg44o9"><!></div>'),ed=j('<button class="button svelte-1jg44o9"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),td=(e,t)=>{y(t,!1)},nd=j('<!> <a target="_blank" rel="noopener noreferrer" class="button openLink svelte-1jg44o9"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a>',1),rd=j('<li><!> <a class="noteLink svelte-1jg44o9" target="_blank" rel="noopener noreferrer"> </a> <div><!> <button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button></div> <!></li>');function ad(e,t){K(t,!0);const{pushStackPages:n}=Bt(),{getFaviconEnabled:r}=Tl();let o=re(t,"mode",3,"notes"),a=O(!1),i=O(!1),l=O(!1),c=I(r);const{checkMobileSize:u}=Kn(),d=p=>{try{return`https://icons.duckduckgo.com/ip3/${new URL(p).host}.ico`}catch{return""}};var v=rd();v.__focusin=[Ku,i],v.__focusout=[Gu,i];var g=D(v);{var h=p=>{var C=$u(),F=D(C);{var $=X=>{var te=U(),z=M(te);{var Z=pe=>{var se=Zu();m(pe,se)},ee=pe=>{var se=Ju();le(W=>Pe(se,"src",W),[()=>d(t.note.data.url)]),Ca("error",se,()=>{y(l,!0)}),m(pe,se)};V(z,pe=>{s(l)?pe(Z):pe(ee,!1)})}m(X,te)},ue=X=>{var te=Qu(),z=M(te);_e(z,()=>({"--size":"16px"})),ye(z.lastChild,{name:"note"}),m(X,te)};V(F,X=>{t.note.data.url?X($):X(ue,!1)})}m(p,C)};V(g,p=>{s(c)&&p(h)})}var f=R(g,2);f.__click=[Xu,n,t,i];var _=D(f),w=R(f,2),k=D(w);{var E=p=>{var C=nd(),F=M(C);{var $=z=>{var Z=ed();Z.__click=[Yu,t,i];var ee=D(Z);_e(ee,()=>({"--size":"20px"})),ye(ee.lastChild,{name:"copy"});var pe=R(ee,2);Qe(pe,{children:(se,W)=>{var P=De("copy link");m(se,P)}}),le(()=>Pe(Z,"tabindex",t.focusHidden?-1:0)),m(z,Z)};V(F,z=>{u()||z($)})}var ue=R(F,2);ue.__click=[td,i];var X=D(ue);_e(X,()=>({"--size":"18px"})),ye(X.lastChild,{name:"open"});var te=R(X,2);Qe(te,{children:(z,Z)=>{var ee=De();le(()=>Zt(ee,t.note.data.name)),m(z,ee)}}),le(()=>{Pe(ue,"href",t.note.data.url),Pe(ue,"tabindex",t.focusHidden?-1:0)}),m(p,C)};V(k,p=>{t.note.data.url&&p(E)})}var S=R(k,2);S.__click=[Wu,a],ge(S,1,he(["button","buttonMenu"]),"svelte-1jg44o9");var N=D(S);_e(N,()=>({"--size":"18px","--rotate":"90deg"})),ye(N.lastChild,{name:"menu"});var B=R(N,2);Qe(B,{children:(p,C)=>{var F=De("show menu");m(p,F)}});var b=R(w,2);qu(b,{get mode(){return o()},get note(){return t.note},get showMenuUp(){return t.showMenuUp},get shownMenu(){return s(a)},set shownMenu(p){y(a,p,!0)}}),le(p=>{ge(v,1,he(["record",{pinned:t.note.data.pinned}]),"svelte-1jg44o9"),Pe(f,"tabindex",t.focusHidden?-1:0),Pe(f,"href",p),Zt(_,t.note.data.name),ge(w,1,he(["noteMenuWrapper",{noteMenuWrapperActive:s(i)}]),"svelte-1jg44o9"),Pe(S,"tabindex",t.focusHidden?-1:0)},[()=>`/?stackPages=${encodeURIComponent(`${q.EditNote}?id=${t.note.id}`)}`]),m(e,v),G()}tt(["focusin","focusout","click"]);var od=j('<p class="message">No notes in bin</p>'),sd=j('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Add note</span>',1),id=j('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span style="padding-left: 6px;">Import data</span>',1),ld=j('<p class="message">No notes found</p> <div class="wrapperButtonsAdd svelte-106i4nx"><!></div> <div>or</div> <div class="wrapperButtonsAdd svelte-106i4nx"><!></div>',1),cd=j('<div class="emptyStore svelte-106i4nx"><!></div>'),ud=j('<div class="emptyMessage svelte-106i4nx">No notes found</div>'),dd=j('<div class="feed svelte-106i4nx"><ul class="svelte-106i4nx"></ul></div>'),fd=j('<div class="wrapperFeed svelte-106i4nx"><div class="wrapperContainer svelte-106i4nx"><!></div></div>');function vd(e,t){K(t,!0);let n=re(t,"getNotes",3,()=>[]),r=re(t,"mode",3,"notes");const{getScrollContainer:o}=Da(),{createHandlePage:a,getPageUrl:i}=Bt(),{getSelectedTags:l}=es(),{getFeedOrder:c}=Zo(),u=Wo();let d=54,v=O(0),g=O(0),h=O(0),f=O(0),_=[],w=O(0),k=I(o),E=null,S=null;const N=I(l);Te(()=>{s(N),s(C),s(k)?.scrollTo(0,0)});const{enable:B}=fs(),b=()=>{B(),E||(E=requestAnimationFrame(()=>{const P=s(k)?.scrollTop||0;y(h,P,!0);const T=Math.ceil(s(v)/d);y(g,Math.floor(P/(d*T))*(d*T)),E=null}))},p=()=>{S||(S=requestAnimationFrame(()=>{y(v,window.innerHeight-180||0,!0);const P=s(k)?.scrollTop||0;y(h,P,!0);const T=Math.ceil(s(v)/d);y(g,Math.floor(P/(d*T))*(d*T)),S=null}))};Ce(()=>{p(),b()}),Te(()=>(s(k)?.addEventListener("scroll",b),window.addEventListener("resize",p),()=>{s(k)?.removeEventListener("scroll",b),window.removeEventListener("resize",p)}));const C=I(c);let F=O("");Te(()=>{s(C);const P=n()()||[];Ct(()=>s(F))!==s(C)&&Ct(()=>y(F,s(C),!0)),P.sort((A,H)=>{if(!A||!H)return 0;if(A.data.pinned&&!H.data.pinned)return 1;if(!A.data.pinned&&H.data.pinned)return-1;switch(s(C)){case"newest":return A.data.updatedAt<H.data.updatedAt?-1:1;case"oldest":return A.data.updatedAt>H.data.updatedAt?-1:1;case"AtoZ":return H.data.name.localeCompare(A.data.name);case"ZtoA":return A.data.name.localeCompare(H.data.name);default:return 0}});const x=[];for(let A=P.length-1;A>=0;A--){const H=P[A];r()==="notes"&&H?.data.deletedAt||r()==="bin"&&!H?.data.deletedAt||H&&(s(N).size&&s(N).values().some(J=>!H.data.tags.includes(J))||u&&!(H.data.name.toLowerCase().includes(u.value.toLowerCase())||H.data.url.toLowerCase().includes(u.value.toLowerCase())||H.data.text.toLowerCase().includes(u.value.toLowerCase()))||x.push(H))}y(f,x.length,!0),_=x,y(w,Date.now(),!0)});const $=I(()=>s(f)*d);let X=I(()=>{s(w);const P=Math.ceil(s(v)/d);let T=Math.floor(s(g)/d);return T=T-Math.min(T,P),_.slice(T,T+P*3)}),te=I(()=>d*Math.ceil(s(v)/d));const z=I(()=>s(g)-Math.min(s(g),s(te)));var Z=fd(),ee=D(Z),pe=D(ee);{var se=P=>{Ss(P,{})},W=P=>{var T=U(),x=M(T);{var A=J=>{var ne=cd(),de=D(ne);{var Y=be=>{var me=od();m(be,me)},ae=be=>{var me=ld(),Ee=R(M(me),2),Se=D(Ee);{let Ge=I(()=>i(q.NewNote)),ut=I(()=>a(q.NewNote));Qt(Se,{element:"a",get href(){return s(Ge)},get onClick(){return s(ut)},children:(rt,It)=>{var pt=sd(),xt=M(pt);_e(xt,()=>({"--size":"18px","--color":"#b0b0b0"})),ye(xt.lastChild,{name:"plus"}),m(rt,pt)},$$slots:{default:!0}})}var nt=R(Ee,4),Oe=D(nt);{let Ge=I(()=>i(q.ImportData)),ut=I(()=>a(q.ImportData));Qt(Oe,{element:"a",get href(){return s(Ge)},get onClick(){return s(ut)},children:(rt,It)=>{var pt=id(),xt=M(pt);_e(xt,()=>({"--size":"18px","--color":"#b0b0b0"})),ye(xt.lastChild,{name:"import"}),m(rt,pt)},$$slots:{default:!0}})}m(be,me)};V(de,be=>{r()==="bin"?be(Y):be(ae,!1)})}m(J,ne)},H=J=>{var ne=U(),de=M(ne);{var Y=be=>{var me=ud();m(be,me)},ae=be=>{var me=dd(),Ee=D(me);Hr(Ee,23,()=>s(X),Se=>Se.id,(Se,nt,Oe)=>{{let Ge=I(()=>s(Oe)*d<s(h)-s(z)-d/2||s(Oe)*d>s(h)-s(z)+Math.floor(s(v)/d)*d),ut=I(()=>(s(Oe)+3)*d<s(h)-s(z)-d/2||(s(Oe)+3)*d>s(h)-s(z)+Math.floor(s(v)/d)*d);ad(Se,{get mode(){return r()},get focusHidden(){return s(Ge)},get showMenuUp(){return s(ut)},get note(){return s(nt)}})}}),le(Se=>{nr(me,`min-height: ${Se??""}px`),nr(Ee,`transform: translateY(${s(z)??""}px);`)},[()=>Math.max((s($)>s(v),s($)),0)]),m(be,me)};V(de,be=>{s(X).length===0?be(Y):be(ae,!1)},!0)}m(J,ne)};V(x,J=>{(n()()||[]).length===0?J(A):J(H,!1)},!0)}m(P,T)};V(pe,P=>{t.readyNotes?P(W,!1):P(se)})}m(e,Z),G()}var hd=j('<!> <div class="content svelte-k57gez"><!></div>',1);function gd(e,t){K(t,!0);const{getAppHistory:n}=_t(),{getGetNotes:r,isInitedNotes:o}=Vr(),a=I(o),i=I(r),l=I(()=>n().pathname);var c=hd(),u=M(c);{let g=I(()=>s(l)==="/bin"?"bin":"notes");Lu(u,{get mode(){return s(g)},get getNotes(){return s(i)}})}var d=R(u,2),v=D(d);{let g=I(()=>s(l)==="/bin"?"bin":"notes");vd(v,{get mode(){return s(g)},get getNotes(){return s(i)},get readyNotes(){return s(a)}})}m(e,c),G()}const $a=(e,t=ve,n=ve,r)=>{let o=Or(()=>Hs(r?.(),!1));var a=U(),i=M(a);{var l=u=>{Me(u,{children:(d,v)=>{ze(d,{get hidden(){return s(o)},get page(){return q.Settings}})},$$slots:{default:!0}})},c=u=>{var d=U(),v=M(d);{var g=f=>{Me(f,{children:(_,w)=>{ze(_,{get hidden(){return s(o)},get page(){return q.NewNote}})},$$slots:{default:!0}})},h=f=>{var _=U(),w=M(_);{var k=S=>{Me(S,{children:(N,B)=>{ze(N,{get params(){return n()},get hidden(){return s(o)},get page(){return q.EditNote}})},$$slots:{default:!0}})},E=S=>{var N=U(),B=M(N);{var b=C=>{Me(C,{children:(F,$)=>{ze(F,{get hidden(){return s(o)},get page(){return q.ImportData}})},$$slots:{default:!0}})},p=C=>{var F=U(),$=M(F);{var ue=te=>{Me(te,{children:(z,Z)=>{ze(z,{get hidden(){return s(o)},get page(){return q.ExportData}})},$$slots:{default:!0}})},X=te=>{var z=U(),Z=M(z);{var ee=se=>{Me(se,{children:(W,P)=>{ze(W,{get hidden(){return s(o)},get page(){return q.ClearStore}})},$$slots:{default:!0}})},pe=se=>{var W=U(),P=M(W);{var T=A=>{Me(A,{children:(H,J)=>{fu(H,{})},$$slots:{default:!0}})},x=A=>{var H=U(),J=M(H);{var ne=Y=>{Me(Y,{children:(ae,be)=>{ze(ae,{get hidden(){return s(o)},get page(){return q.Auth}})},$$slots:{default:!0}})},de=Y=>{var ae=U(),be=M(ae);{var me=Se=>{Me(Se,{children:(nt,Oe)=>{ze(nt,{get hidden(){return s(o)},get page(){return q.Signup}})},$$slots:{default:!0}})},Ee=Se=>{var nt=U(),Oe=M(nt);{var Ge=rt=>{Me(rt,{children:(It,pt)=>{ze(It,{get hidden(){return s(o)},get page(){return q.Signin}})},$$slots:{default:!0}})},ut=rt=>{var It=U(),pt=M(It);{var xt=Ot=>{Me(Ot,{children:(bn,fr)=>{ze(bn,{get hidden(){return s(o)},get page(){return q.AccessKeys}})},$$slots:{default:!0}})},dr=Ot=>{var bn=U(),fr=M(bn);{var xe=Fe=>{Me(Fe,{children:(Rt,mt)=>{ze(Rt,{get hidden(){return s(o)},get page(){return q.Account}})},$$slots:{default:!0}})},Xe=Fe=>{var Rt=U(),mt=M(Rt);{var nn=Ft=>{Me(Ft,{children:(zt,qr)=>{ze(zt,{get hidden(){return s(o)},get page(){return q.ConfirmAccessKey}})},$$slots:{default:!0}})},rn=Ft=>{var zt=U(),qr=M(zt);{var Wr=Sn=>{Me(Sn,{children:(vr,Na)=>{ze(vr,{get hidden(){return s(o)},get page(){return q.Exit}})},$$slots:{default:!0}})},Cs=Sn=>{var vr=U(),Na=M(vr);{var Es=kn=>{Me(kn,{children:(hr,La)=>{ze(hr,{get hidden(){return s(o)},get page(){return q.Sync}})},$$slots:{default:!0}})},Ps=kn=>{var hr=U(),La=M(hr);{var xs=Cn=>{Me(Cn,{children:(gr,Ma)=>{ze(gr,{get hidden(){return s(o)},get page(){return q.Subscription}})},$$slots:{default:!0}})},Ds=Cn=>{var gr=U(),Ma=M(gr);{var Ts=En=>{Me(En,{children:(Yr,Ns)=>{ze(Yr,{get hidden(){return s(o)},get page(){return q.About}})},$$slots:{default:!0}})},As=En=>{Me(En,{children:(Yr,Ns)=>{gu(Yr,{})},$$slots:{default:!0}})};V(Ma,En=>{t()===q.About?En(Ts):En(As,!1)},!0)}m(Cn,gr)};V(La,Cn=>{t()===q.Subscription?Cn(xs):Cn(Ds,!1)},!0)}m(kn,hr)};V(Na,kn=>{t()===q.Sync?kn(Es):kn(Ps,!1)},!0)}m(Sn,vr)};V(qr,Sn=>{t()===q.Exit?Sn(Wr):Sn(Cs,!1)},!0)}m(Ft,zt)};V(mt,Ft=>{t()===q.ConfirmAccessKey?Ft(nn):Ft(rn,!1)},!0)}m(Fe,Rt)};V(fr,Fe=>{t()===q.Account?Fe(xe):Fe(Xe,!1)},!0)}m(Ot,bn)};V(pt,Ot=>{t()===q.AccessKeys?Ot(xt):Ot(dr,!1)},!0)}m(rt,It)};V(Oe,rt=>{t()===q.Signin?rt(Ge):rt(ut,!1)},!0)}m(Se,nt)};V(be,Se=>{t()===q.Signup?Se(me):Se(Ee,!1)},!0)}m(Y,ae)};V(J,Y=>{t()===q.Auth?Y(ne):Y(de,!1)},!0)}m(A,H)};V(P,A=>{t()===q.Start?A(T):A(x,!1)},!0)}m(se,W)};V(Z,se=>{t()===q.ClearStore?se(ee):se(pe,!1)},!0)}m(te,z)};V($,te=>{t()===q.ExportData?te(ue):te(X,!1)},!0)}m(C,F)};V(B,C=>{t()===q.ImportData?C(b):C(p,!1)},!0)}m(S,N)};V(w,S=>{t()===q.EditNote?S(k):S(E,!1)},!0)}m(f,_)};V(v,f=>{t()===q.NewNote?f(g):f(h,!1)},!0)}m(u,d)};V(i,u=>{t()===q.Settings?u(l):u(c,!1)})}m(e,a)};var _d=j("<!> <!>",1);function pd(e,t){K(t,!0);const{getStackPages:n,popStackPages:r}=Bt(),{getAccount:o}=xa();let a=I(n),i=I(()=>o()!==void 0);const{checkMobileSize:l}=Kn();var c=_d(),u=M(c);{var d=f=>{gd(f,{})};V(u,f=>{s(i)&&f(d)})}var v=R(u,2);{var g=f=>{var _=U(),w=M(_);Hr(w,19,()=>s(a),k=>k.page,(k,E,S)=>{const N=I(()=>s(E).page.split("?")[1]),B=I(()=>s(E).page.split("?")[0]);{let b=I(()=>s(S)!==s(a).length-1&&!!s(a)[s(S)+1]?.shown),p=I(()=>s(S)===0);Xa(k,{get shown(){return s(E).shown},get hidden(){return s(b)},get isLastDialog(){return s(p)},children:(C,F)=>{{let $=I(()=>s(S)!==s(a).length-1&&!!s(a)[s(S)+1]?.shown);$a(C,()=>s(B),()=>s(N),()=>s($))}},$$slots:{default:!0}})}}),m(f,_)},h=f=>{var _=U(),w=M(_);{var k=E=>{const S=I(()=>s(a)[s(a).length-1].page.split("?")[1]),N=I(()=>s(a)[s(a).length-1].page.split("?")[0]);{let B=I(()=>s(a).length===1);Xa(E,{onBack:()=>r(),get shown(){return s(a)[s(a).length-1].shown},hidden:!1,get isLastDialog(){return s(B)},children:(b,p)=>{$a(b,()=>s(N),()=>s(S))},$$slots:{default:!0}})}};V(w,E=>{s(a).length>0&&E(k)},!0)}m(f,_)};V(v,f=>{l()?f(g):f(h,!1)})}m(e,c),G()}function md(e,t){K(t,!1);let n=0;Ce(()=>{document.addEventListener("touchstart",r=>{n=r.touches[0].clientX},{passive:!1}),document.addEventListener("touchmove",r=>{const a=r.touches[0].clientX-n;(n<50&&a>0||n>window.innerWidth-50&&a<0)&&r.preventDefault()},{passive:!1}),document.addEventListener("touchend",()=>{n=0}),document.addEventListener("touchcancel",()=>{n=0})}),Pa(),G()}const wd=(e,t)=>{s(t)&&s(t).scrollTo({top:0})};var yd=j('<div class="wrapperButtonTop svelte-1n46o8q"><button class="buttonTop svelte-1n46o8q"><!> <span class="icon svelte-1n46o8q"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></span></button></div>'),bd=j('<!> <!> <main><div class="wrapperHeader svelte-1n46o8q"><!></div> <div class="container svelte-1n46o8q"><!></div></main> <!>',1);function Sd(e,t){K(t,!0);const{setScrollContainer:n}=Da(),{getAccount:r}=xa(),{getStackPagesFormUrl:o}=Bt(),a=Yn();Ce(async()=>{await new Promise(C=>setTimeout(C,100)),await Io(),a.working=!0});let i=O(!1),l=0,c=I(()=>o().length>0),u=I(r),d=O(null);Te(()=>{n(s(d))});const v=()=>{if(s(d)){const C=s(d).scrollTop||0;C===0?y(i,!1):!s(i)&&l>C?y(i,!0):s(i)&&l+50<C&&y(i,!1),l=C}},g=()=>{v()};Te(()=>(s(d)?.addEventListener("scroll",g),window.addEventListener("resize",g),()=>{s(d)?.removeEventListener("scroll",g),window.removeEventListener("resize",g)}));var h=bd(),f=M(h);md(f,{});var _=R(f,2);wc(_,{});var w=R(_,2),k=D(w),E=D(k);{var S=C=>{Yc(C,{})};V(E,C=>{s(u)!==void 0&&C(S)})}var N=R(k,2),B=D(N);pd(B,{}),Et(w,C=>y(d,C),()=>s(d));var b=R(w,2);{var p=C=>{var F=yd(),$=D(F);$.__click=[wd,d];var ue=D($);Qe(ue,{children:(z,Z)=>{var ee=De("top");m(z,ee)}});var X=R(ue,2),te=D(X);_e(te,()=>({"--rotate":"90deg","--size":"28px"})),ye(te.lastChild,{name:"back"}),m(C,F)};V(b,C=>{s(i)&&C(p)})}le(()=>{nr(w,`--swiping-ratio: ${a.swipingRatio}; --transition-timing-default: ${a.duration}s;`),ge(w,1,he(["main",{isAnimationOn:a.working&&!a.isSwiping,open:s(c)}]),"svelte-1n46o8q")}),m(e,h),G()}tt(["click"]);function kd(e){hc(e,{children:(t,n)=>{Sd(t,{})}})}window.addEventListener("unhandledrejection",e=>{alert("Error: "+e.reason.message)});window.isUnsupportedBrowser||$i(kd,{target:document.getElementById("app")});export{Yn as $,xa as A,Qt as B,Vr as C,Ca as D,Td as E,Pa as F,Pd as G,uu as H,ye as I,re as J,ge as K,Ss as L,he as M,xd as N,Dd as O,q as P,nr as Q,jl as R,Kn as S,Et as T,Cl as U,Qe as V,ks as W,ul as X,Tl as Y,uc as Z,Qo as _,_e as a,fs as a0,ce as a1,ws as a2,Pe as b,D as c,m as d,Hr as e,j as f,s as g,Bt as h,ur as i,O as j,Be as k,y as l,V as m,G as n,Ce as o,K as p,U as q,M as r,R as s,le as t,Te as u,tt as v,De as w,Zt as x,I as y,_t as z};
