const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["a/m7dQe_0r.js","a/BAW-HnOs.css","a/D34-AUUB.js","a/9q_jSmK4.js","a/BEGDcNQV.js","a/CoBIEQkN.css","a/CVta63HO.js","a/BYiYfrGn.css","a/CYh6XO_h.js","a/A07xSe-1.css","a/GnTXvIM6.js","a/B_UsPGEu.css","a/SoQvdXpz.js","a/Cpa8lgv9.js","a/iWBBAcpo.js","a/j0KFa_-O.css","a/hu7yjlv8.css","a/CEN1mWCE.js","a/C3jYhJMc.js","a/CTZccJ9I.css","a/HOTUjnfJ.css","a/DNoKeP4r.js","a/DdvqrzuO.css","a/D_37YdKA.js","a/B0cemaEl.css","a/Bu3T2B_p.js","a/wHiSqZiK.css","a/hcfp4qdb.js","a/KyY-3iMw.js","a/BJkY6727.css","a/fGbRVyev.js","a/CTvV7MYb.css","a/C8TXdi0X.js","a/D0s4m_LM.css","a/BraXb98o.js","a/CwLtx71M.css","a/Ckg7onTR.js","a/CBB22PtM.css","a/CkO7iKCo.js","a/1JBO3KHP.css"])))=>i.map(i=>d[i]);
var As=Object.defineProperty;var La=e=>{throw TypeError(e)};var Ts=(e,t,n)=>t in e?As(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var xn=(e,t,n)=>Ts(e,typeof t!="symbol"?t+"":t,n),qr=(e,t,n)=>t.has(e)||La("Cannot "+n);var L=(e,t,n)=>(qr(e,t,"read from private field"),n?n.call(e):t.get(e)),_e=(e,t,n)=>t.has(e)?La("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),ae=(e,t,n,r)=>(qr(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),qe=(e,t,n)=>(qr(e,t,"access private method"),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();const eo=!1;var ua=Array.isArray,Ns=Array.prototype.indexOf,da=Array.from,Qr=Object.defineProperty,An=Object.getOwnPropertyDescriptor,to=Object.getOwnPropertyDescriptors,Ls=Object.prototype,Bs=Array.prototype,fa=Object.getPrototypeOf,Ba=Object.isExtensible;const we=()=>{};function Ms(e){return typeof e?.then=="function"}function Is(e){return e()}function kr(e){for(var t=0;t<e.length;t++)e[t]()}function Os(){var e,t,n=new Promise((r,a)=>{e=r,t=a});return{promise:n,resolve:e,reject:t}}function Rs(e,t,n=!1){return e===void 0?n?t():t:e}const tt=2,va=4,Tr=8,Hn=16,Mt=32,pn=64,ha=128,ct=256,Cr=512,je=1024,ut=2048,Qt=4096,gt=8192,mn=16384,ga=32768,Un=65536,Ma=1<<17,Fs=1<<18,jn=1<<19,no=1<<20,$r=1<<21,_a=1<<22,fn=1<<23,vn=Symbol("$state"),zs=Symbol("legacy props"),Hs=Symbol(""),pa=new class extends Error{constructor(){super(...arguments);xn(this,"name","StaleReactionError");xn(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function ro(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Us(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function js(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Vs(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function qs(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Ws(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Ys(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function Ks(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Gs(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Zs(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Xs(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const Nr=1,Lr=2,ao=4,Js=8,Qs=16,$s=1,ei=2,ti=4,ni=8,ri=16,ai=1,oi=2,Ne=Symbol(),si="http://www.w3.org/1999/xhtml";let ii=!1;function oo(e){return e===this.v}function li(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function so(e){return!li(e,this.v)}let Vn=!1,ci=!1;function ui(){Vn=!0}let Se=null;function Xt(e){Se=e}function Be(e){return io().get(e)}function Me(e,t){return io().set(e,t),t}function X(e,t=!1,n){Se={p:Se,c:null,e:null,s:e,x:null,l:Vn&&!t?{s:null,u:null,$:[]}:null}}function J(e){var t=Se,n=t.e;if(n!==null){t.e=null;for(var r of n)ko(r)}return e!==void 0&&(t.x=e),Se=t.p,e??{}}function qn(){return!Vn||Se!==null&&Se.l===null}function io(e){return Se===null&&ro(),Se.c??(Se.c=new Map(di(Se)||void 0))}function di(e){let t=e.p;for(;t!==null;){const n=t.c;if(n!==null)return n;t=t.p}return null}let Wt=[],Er=[];function lo(){var e=Wt;Wt=[],kr(e)}function fi(){var e=Er;Er=[],kr(e)}function vi(){return Wt.length>0||Er.length>0}function wn(e){if(Wt.length===0&&!Qn){var t=Wt;queueMicrotask(()=>{t===Wt&&lo()})}Wt.push(e)}function hi(){Wt.length>0&&lo(),Er.length>0&&fi()}const gi=new WeakMap;function co(e){var t=fe;if(t===null)return ce.f|=fn,e;if((t.f&ga)===0){if((t.f&ha)===0)throw!t.parent&&e instanceof Error&&uo(e),e;t.b.error(e)}else On(e,t)}function On(e,t){for(;t!==null;){if((t.f&ha)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e instanceof Error&&uo(e),e}function uo(e){const t=gi.get(e);t&&(Qr(e,"message",{value:t.message}),Qr(e,"stack",{value:t.stack}))}const Wr=new Set;let Ce=null,mr=null,ea=new Set,_n=[],Br=null,ta=!1,Qn=!1;var rr,Bn,Ht,ar,or,sn,Mn,ln,Ut,In,sr,ir,_t,fo,wr,na;const xr=class xr{constructor(){_e(this,_t);xn(this,"current",new Map);_e(this,rr,new Map);_e(this,Bn,new Set);_e(this,Ht,0);_e(this,ar,null);_e(this,or,!1);_e(this,sn,[]);_e(this,Mn,[]);_e(this,ln,[]);_e(this,Ut,[]);_e(this,In,[]);_e(this,sr,[]);_e(this,ir,[]);xn(this,"skipped_effects",new Set)}process(t){_n=[],mr=null;for(const a of t)qe(this,_t,fo).call(this,a);if(L(this,sn).length===0&&L(this,Ht)===0){qe(this,_t,na).call(this);var n=L(this,ln),r=L(this,Ut);ae(this,ln,[]),ae(this,Ut,[]),ae(this,In,[]),mr=Ce,Ce=null,Ia(n),Ia(r),Ce===null?Ce=this:Wr.delete(this),L(this,ar)?.resolve()}else qe(this,_t,wr).call(this,L(this,ln)),qe(this,_t,wr).call(this,L(this,Ut)),qe(this,_t,wr).call(this,L(this,In));for(const a of L(this,sn))Ln(a);for(const a of L(this,Mn))Ln(a);ae(this,sn,[]),ae(this,Mn,[])}capture(t,n){L(this,rr).has(t)||L(this,rr).set(t,n),this.current.set(t,t.v)}activate(){Ce=this}deactivate(){Ce=null,mr=null;for(const t of ea)if(ea.delete(t),t(),Ce!==null)break}neuter(){ae(this,or,!0)}flush(){_n.length>0?ho():qe(this,_t,na).call(this),Ce===this&&(L(this,Ht)===0&&Wr.delete(this),this.deactivate())}increment(){ae(this,Ht,L(this,Ht)+1)}decrement(){if(ae(this,Ht,L(this,Ht)-1),L(this,Ht)===0){for(const t of L(this,sr))Xe(t,ut),Rn(t);for(const t of L(this,ir))Xe(t,Qt),Rn(t);ae(this,ln,[]),ae(this,Ut,[]),this.flush()}else this.deactivate()}add_callback(t){L(this,Bn).add(t)}settled(){return(L(this,ar)??ae(this,ar,Os())).promise}static ensure(){if(Ce===null){const t=Ce=new xr;Wr.add(Ce),Qn||xr.enqueue(()=>{Ce===t&&t.flush()})}return Ce}static enqueue(t){wn(t)}};rr=new WeakMap,Bn=new WeakMap,Ht=new WeakMap,ar=new WeakMap,or=new WeakMap,sn=new WeakMap,Mn=new WeakMap,ln=new WeakMap,Ut=new WeakMap,In=new WeakMap,sr=new WeakMap,ir=new WeakMap,_t=new WeakSet,fo=function(t){t.f^=je;for(var n=t.first;n!==null;){var r=n.f,a=(r&(Mt|pn))!==0,o=a&&(r&je)!==0,i=o||(r&gt)!==0||this.skipped_effects.has(n);if(!i&&n.fn!==null){if(a)n.f^=je;else if((r&va)!==0)L(this,Ut).push(n);else if((r&je)===0)if((r&_a)!==0){var l=n.b?.is_pending()?L(this,Mn):L(this,sn);l.push(n)}else Rr(n)&&((n.f&Hn)!==0&&L(this,In).push(n),Ln(n));var c=n.first;if(c!==null){n=c;continue}}var u=n.parent;for(n=n.next;n===null&&u!==null;)n=u.next,u=u.parent}},wr=function(t){for(const n of t)((n.f&ut)!==0?L(this,sr):L(this,ir)).push(n),Xe(n,je);t.length=0},na=function(){if(!L(this,or))for(const t of L(this,Bn))t();L(this,Bn).clear()};let Kt=xr;function vo(e){var t=Qn;Qn=!0;try{for(var n;;){if(hi(),_n.length===0&&!vi()&&(Ce?.flush(),_n.length===0))return Br=null,n;ho()}}finally{Qn=t}}function ho(){var e=Nn;ta=!0;try{var t=0;for(Fa(!0);_n.length>0;){var n=Kt.ensure();if(t++>1e3){var r,a;_i()}n.process(_n),Gt.clear()}}finally{ta=!1,Fa(e),Br=null}}function _i(){try{Ws()}catch(e){On(e,Br)}}let an=null;function Ia(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if((r.f&(mn|gt))===0&&Rr(r)&&(an=[],Ln(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?Po(r):r.fn=null),an?.length>0)){Gt.clear();for(const a of an)Ln(a);an=[]}}an=null}}function Rn(e){for(var t=Br=e;t.parent!==null;){t=t.parent;var n=t.f;if(ta&&t===fe&&(n&Hn)!==0)return;if((n&(pn|Mt))!==0){if((n&je)===0)return;t.f^=je}}_n.push(t)}function pi(e){let t=0,n=Lt(0),r;return()=>{Bi()&&(s(n),Or(()=>(t===0&&(r=xt(()=>e(()=>$n(n)))),t+=1,()=>{wn(()=>{t-=1,t===0&&(r?.(),r=void 0,$n(n))})})))}}var mi=Un|jn|ha;function wi(e,t,n){new yi(e,t,n)}var vt,it,ca,kt,cn,Ct,lt,Ze,Et,jt,un,Vt,dn,qt,Dr,Ar,Ye,Si,bi,yr,Sr,ra;class yi{constructor(t,n,r){_e(this,Ye);xn(this,"parent");_e(this,vt,!1);_e(this,it);_e(this,ca,null);_e(this,kt);_e(this,cn);_e(this,Ct);_e(this,lt,null);_e(this,Ze,null);_e(this,Et,null);_e(this,jt,null);_e(this,un,0);_e(this,Vt,0);_e(this,dn,!1);_e(this,qt,null);_e(this,Dr,()=>{L(this,qt)&&Tt(L(this,qt),L(this,un))});_e(this,Ar,pi(()=>(ae(this,qt,Lt(L(this,un))),()=>{ae(this,qt,null)})));ae(this,it,t),ae(this,kt,n),ae(this,cn,r),this.parent=fe.b,ae(this,vt,!!L(this,kt).pending),ae(this,Ct,Wn(()=>{fe.b=this;{try{ae(this,lt,Ue(()=>r(L(this,it))))}catch(a){this.error(a)}L(this,Vt)>0?qe(this,Ye,Sr).call(this):ae(this,vt,!1)}},mi))}is_pending(){return L(this,vt)||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!L(this,kt).pending}update_pending_count(t){qe(this,Ye,ra).call(this,t),ae(this,un,L(this,un)+t),ea.add(L(this,Dr))}get_effect_pending(){return L(this,Ar).call(this),s(L(this,qt))}error(t){var n=L(this,kt).onerror;let r=L(this,kt).failed;if(L(this,dn)||!n&&!r)throw t;L(this,lt)&&(et(L(this,lt)),ae(this,lt,null)),L(this,Ze)&&(et(L(this,Ze)),ae(this,Ze,null)),L(this,Et)&&(et(L(this,Et)),ae(this,Et,null));var a=!1,o=!1;const i=()=>{if(a){return}a=!0,o&&Xs(),Kt.ensure(),ae(this,un,0),L(this,Et)!==null&&Pt(L(this,Et),()=>{ae(this,Et,null)}),ae(this,vt,this.has_pending_snippet()),ae(this,lt,qe(this,Ye,yr).call(this,()=>(ae(this,dn,!1),Ue(()=>L(this,cn).call(this,L(this,it)))))),L(this,Vt)>0?qe(this,Ye,Sr).call(this):ae(this,vt,!1)};var l=ce;try{Ve(null),o=!0,n?.(t,i),o=!1}catch(c){On(c,L(this,Ct)&&L(this,Ct).parent)}finally{Ve(l)}r&&wn(()=>{ae(this,Et,qe(this,Ye,yr).call(this,()=>{ae(this,dn,!0);try{return Ue(()=>{r(L(this,it),()=>t,()=>i)})}catch(c){return On(c,L(this,Ct).parent),null}finally{ae(this,dn,!1)}}))})}}vt=new WeakMap,it=new WeakMap,ca=new WeakMap,kt=new WeakMap,cn=new WeakMap,Ct=new WeakMap,lt=new WeakMap,Ze=new WeakMap,Et=new WeakMap,jt=new WeakMap,un=new WeakMap,Vt=new WeakMap,dn=new WeakMap,qt=new WeakMap,Dr=new WeakMap,Ar=new WeakMap,Ye=new WeakSet,Si=function(){try{ae(this,lt,Ue(()=>L(this,cn).call(this,L(this,it))))}catch(t){this.error(t)}ae(this,vt,!1)},bi=function(){const t=L(this,kt).pending;t&&(ae(this,Ze,Ue(()=>t(L(this,it)))),Kt.enqueue(()=>{ae(this,lt,qe(this,Ye,yr).call(this,()=>(Kt.ensure(),Ue(()=>L(this,cn).call(this,L(this,it)))))),L(this,Vt)>0?qe(this,Ye,Sr).call(this):(Pt(L(this,Ze),()=>{ae(this,Ze,null)}),ae(this,vt,!1))}))},yr=function(t){var n=fe,r=ce,a=Se;dt(L(this,Ct)),Ve(L(this,Ct)),Xt(L(this,Ct).ctx);try{return t()}catch(o){return co(o),null}finally{dt(n),Ve(r),Xt(a)}},Sr=function(){const t=L(this,kt).pending;L(this,lt)!==null&&(ae(this,jt,document.createDocumentFragment()),ki(L(this,lt),L(this,jt))),L(this,Ze)===null&&ae(this,Ze,Ue(()=>t(L(this,it))))},ra=function(t){var n;if(!this.has_pending_snippet()){this.parent&&qe(n=this.parent,Ye,ra).call(n,t);return}ae(this,Vt,L(this,Vt)+t),L(this,Vt)===0&&(ae(this,vt,!1),L(this,Ze)&&Pt(L(this,Ze),()=>{ae(this,Ze,null)}),L(this,jt)&&(L(this,it).before(L(this,jt)),ae(this,jt,null)))};function ki(e,t){for(var n=e.nodes_start,r=e.nodes_end;n!==null;){var a=n===r?null:cr(n);t.append(n),n=a}}function Ci(e,t,n){const r=qn()?lr:Mr;if(t.length===0){n(e.map(r));return}var a=Ce,o=fe,i=Ei();Promise.all(t.map(l=>Pi(l))).then(l=>{a?.activate(),i();try{n([...e.map(r),...l])}catch(c){(o.f&mn)===0&&On(c,o)}a?.deactivate(),go()}).catch(l=>{On(l,o)})}function Ei(){var e=fe,t=ce,n=Se,r=Ce;return function(){dt(e),Ve(t),Xt(n),r?.activate()}}function go(){dt(null),Ve(null),Xt(null)}function lr(e){var t=tt|ut,n=ce!==null&&(ce.f&tt)!==0?ce:null;return fe===null||n!==null&&(n.f&ct)!==0?t|=ct:fe.f|=jn,{ctx:Se,deps:null,effects:null,equals:oo,f:t,fn:e,reactions:null,rv:0,v:Ne,wv:0,parent:n??fe,ac:null}}function Pi(e,t){let n=fe;n===null&&Us();var r=n.b,a=void 0,o=Lt(Ne),i=null,l=!ce;return Fi(()=>{try{var c=e();i&&Promise.resolve(c).catch(()=>{})}catch(g){c=Promise.reject(g)}var u=()=>c;a=i?.then(u,u)??Promise.resolve(c),i=a;var d=Ce,v=r.is_pending();l&&(r.update_pending_count(1),v||d.increment());const h=(g,f=void 0)=>{i=null,v||d.activate(),f?f!==pa&&(o.f|=fn,Tt(o,f)):((o.f&fn)!==0&&(o.f^=fn),Tt(o,g)),l&&(r.update_pending_count(-1),v||d.decrement()),go()};if(a.then(h,g=>h(null,g||"unknown")),d)return()=>{queueMicrotask(()=>d.neuter())}}),new Promise(c=>{function u(d){function v(){d===a?c(o):u(a)}d.then(v,v)}u(a)})}function I(e){const t=lr(e);return Ao(t),t}function Mr(e){const t=lr(e);return t.equals=so,t}function _o(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)et(t[n])}}function xi(e){for(var t=e.parent;t!==null;){if((t.f&tt)===0)return t;t=t.parent}return null}function ma(e){var t,n=fe;dt(xi(e));try{_o(e),t=Bo(e)}finally{dt(n)}return t}function po(e){var t=ma(e);if(e.equals(t)||(e.v=t,e.wv=No()),!Sn){var n=(Yt||(e.f&ct)!==0)&&e.deps!==null?Qt:je;Xe(e,n)}}const Gt=new Map;function Lt(e,t){var n={f:0,v:e,reactions:null,equals:oo,rv:0,wv:0};return n}function F(e,t){const n=Lt(e);return Ao(n),n}function aa(e,t=!1,n=!0){var a;const r=Lt(e);return t||(r.equals=so),Vn&&n&&Se!==null&&Se.l!==null&&((a=Se.l).s??(a.s=[])).push(r),r}function y(e,t,n=!1){ce!==null&&(!ht||(ce.f&Ma)!==0)&&qn()&&(ce.f&(tt|Hn|_a|Ma))!==0&&!Nt?.includes(e)&&Zs();let r=n?Oe(t):t;return Tt(e,r)}function Tt(e,t){if(!e.equals(t)){var n=e.v;Sn?Gt.set(e,t):Gt.set(e,n),e.v=t;var r=Kt.ensure();r.capture(e,n),(e.f&tt)!==0&&((e.f&ut)!==0&&ma(e),Xe(e,(e.f&ct)===0?je:Qt)),e.wv=No(),mo(e,ut),qn()&&fe!==null&&(fe.f&je)!==0&&(fe.f&(Mt|pn))===0&&(st===null?Ui([e]):st.push(e))}return t}function $n(e){y(e,e.v+1)}function mo(e,t){var n=e.reactions;if(n!==null)for(var r=qn(),a=n.length,o=0;o<a;o++){var i=n[o],l=i.f;if(!(!r&&i===fe)){var c=(l&ut)===0;c&&Xe(i,t),(l&tt)!==0?mo(i,Qt):c&&((l&Hn)!==0&&an!==null&&an.push(i),Rn(i))}}}function Oe(e){if(typeof e!="object"||e===null||vn in e)return e;const t=fa(e);if(t!==Ls&&t!==Bs)return e;var n=new Map,r=ua(e),a=F(0),o=hn,i=l=>{if(hn===o)return l();var c=ce,u=hn;Ve(null),Ha(o);var d=l();return Ve(c),Ha(u),d};return r&&n.set("length",F(e.length)),new Proxy(e,{defineProperty(l,c,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&Ks();var d=n.get(c);return d===void 0?d=i(()=>{var v=F(u.value);return n.set(c,v),v}):y(d,u.value,!0),!0},deleteProperty(l,c){var u=n.get(c);if(u===void 0){if(c in l){const d=i(()=>F(Ne));n.set(c,d),$n(a)}}else y(u,Ne),$n(a);return!0},get(l,c,u){if(c===vn)return e;var d=n.get(c),v=c in l;if(d===void 0&&(!v||An(l,c)?.writable)&&(d=i(()=>{var g=Oe(v?l[c]:Ne),f=F(g);return f}),n.set(c,d)),d!==void 0){var h=s(d);return h===Ne?void 0:h}return Reflect.get(l,c,u)},getOwnPropertyDescriptor(l,c){var u=Reflect.getOwnPropertyDescriptor(l,c);if(u&&"value"in u){var d=n.get(c);d&&(u.value=s(d))}else if(u===void 0){var v=n.get(c),h=v?.v;if(v!==void 0&&h!==Ne)return{enumerable:!0,configurable:!0,value:h,writable:!0}}return u},has(l,c){if(c===vn)return!0;var u=n.get(c),d=u!==void 0&&u.v!==Ne||Reflect.has(l,c);if(u!==void 0||fe!==null&&(!d||An(l,c)?.writable)){u===void 0&&(u=i(()=>{var h=d?Oe(l[c]):Ne,g=F(h);return g}),n.set(c,u));var v=s(u);if(v===Ne)return!1}return d},set(l,c,u,d){var v=n.get(c),h=c in l;if(r&&c==="length")for(var g=u;g<v.v;g+=1){var f=n.get(g+"");f!==void 0?y(f,Ne):g in l&&(f=i(()=>F(Ne)),n.set(g+"",f))}if(v===void 0)(!h||An(l,c)?.writable)&&(v=i(()=>F(void 0)),y(v,Oe(u)),n.set(c,v));else{h=v.v!==Ne;var _=i(()=>Oe(u));y(v,_)}var w=Reflect.getOwnPropertyDescriptor(l,c);if(w?.set&&w.set.call(d,u),!h){if(r&&typeof c=="string"){var b=n.get("length"),k=Number(c);Number.isInteger(k)&&k>=b.v&&y(b,k+1)}$n(a)}return!0},ownKeys(l){s(a);var c=Reflect.ownKeys(l).filter(v=>{var h=n.get(v);return h===void 0||h.v!==Ne});for(var[u,d]of n)d.v!==Ne&&!(u in l)&&c.push(u);return c},setPrototypeOf(){Gs()}})}var Oa,wo,yo,So;function Di(){if(Oa===void 0){Oa=window,wo=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;yo=An(t,"firstChild").get,So=An(t,"nextSibling").get,Ba(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Ba(n)&&(n.__t=void 0)}}function yn(e=""){return document.createTextNode(e)}function Fn(e){return yo.call(e)}function cr(e){return So.call(e)}function D(e,t){return Fn(e)}function M(e,t=!1){{var n=Fn(e);return n instanceof Comment&&n.data===""?cr(n):n}}function H(e,t=1,n=!1){let r=e;for(;t--;)r=cr(r);return r}function Ai(e){e.textContent=""}function wa(){return!1}let Ra=!1;function Ti(){Ra||(Ra=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function Ir(e){var t=ce,n=fe;Ve(null),dt(null);try{return e()}finally{Ve(t),dt(n)}}function Ni(e,t,n,r=n){e.addEventListener(t,()=>Ir(n));const a=e.__on_r;a?e.__on_r=()=>{a(),r(!0)}:e.__on_r=()=>r(!0),Ti()}function bo(e){fe===null&&ce===null&&qs(),ce!==null&&(ce.f&ct)!==0&&fe===null&&Vs(),Sn&&js()}function Li(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function At(e,t,n,r=!0){var a=fe;a!==null&&(a.f&gt)!==0&&(e|=gt);var o={ctx:Se,deps:null,nodes_start:null,nodes_end:null,f:e|ut,first:null,fn:t,last:null,next:null,parent:a,b:a&&a.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{Ln(o),o.f|=ga}catch(c){throw et(o),c}else t!==null&&Rn(o);if(r){var i=o;if(n&&i.deps===null&&i.teardown===null&&i.nodes_start===null&&i.first===i.last&&(i.f&jn)===0&&(i=i.first),i!==null&&(i.parent=a,a!==null&&Li(i,a),ce!==null&&(ce.f&tt)!==0&&(e&pn)===0)){var l=ce;(l.effects??(l.effects=[])).push(i)}}return o}function Bi(){return ce!==null&&!ht}function Mi(e){const t=At(Tr,null,!1);return Xe(t,je),t.teardown=e,t}function Le(e){bo();var t=fe.f,n=!ce&&(t&Mt)!==0&&(t&ga)===0;if(n){var r=Se;(r.e??(r.e=[])).push(e)}else return ko(e)}function ko(e){return At(va|no,e,!1)}function Ii(e){return bo(),At(Tr|no,e,!0)}function Oi(e){Kt.ensure();const t=At(pn|jn,e,!0);return(n={})=>new Promise(r=>{n.outro?Pt(t,()=>{et(t),r(void 0)}):(et(t),r(void 0))})}function Ri(e){return At(va,e,!1)}function Fi(e){return At(_a|jn,e,!0)}function Or(e,t=0){return At(Tr|t,e,!0)}function de(e,t=[],n=[]){Ci(t,n,r=>{At(Tr,()=>e(...r.map(s)),!0)})}function Wn(e,t=0){var n=At(Hn|t,e,!0);return n}function Ue(e,t=!0){return At(Mt|jn,e,!0,t)}function Co(e){var t=e.teardown;if(t!==null){const n=Sn,r=ce;za(!0),Ve(null);try{t.call(null)}finally{za(n),Ve(r)}}}function Eo(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const a=n.ac;a!==null&&Ir(()=>{a.abort(pa)});var r=n.next;(n.f&pn)!==0?n.parent=null:et(n,t),n=r}}function zi(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&Mt)===0&&et(t),t=n}}function et(e,t=!0){var n=!1;(t||(e.f&Fs)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(Hi(e.nodes_start,e.nodes_end),n=!0),Eo(e,t&&!n),Pr(e,0),Xe(e,mn);var r=e.transitions;if(r!==null)for(const o of r)o.stop();Co(e);var a=e.parent;a!==null&&a.first!==null&&Po(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function Hi(e,t){for(;e!==null;){var n=e===t?null:cr(e);e.remove(),e=n}}function Po(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function Pt(e,t){var n=[];ya(e,n,!0),xo(n,()=>{et(e),t&&t()})}function xo(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var a of e)a.out(r)}else t()}function ya(e,t,n){if((e.f&gt)===0){if(e.f^=gt,e.transitions!==null)for(const i of e.transitions)(i.is_global||n)&&t.push(i);for(var r=e.first;r!==null;){var a=r.next,o=(r.f&Un)!==0||(r.f&Mt)!==0;ya(r,t,o?n:!1),r=a}}}function Tn(e){Do(e,!0)}function Do(e,t){if((e.f&gt)!==0){e.f^=gt,(e.f&je)===0&&(Xe(e,ut),Rn(e));for(var n=e.first;n!==null;){var r=n.next,a=(n.f&Un)!==0||(n.f&Mt)!==0;Do(n,a?t:!1),n=r}if(e.transitions!==null)for(const o of e.transitions)(o.is_global||t)&&o.in()}}let Nn=!1;function Fa(e){Nn=e}let Sn=!1;function za(e){Sn=e}let ce=null,ht=!1;function Ve(e){ce=e}let fe=null;function dt(e){fe=e}let Nt=null;function Ao(e){ce!==null&&(Nt===null?Nt=[e]:Nt.push(e))}let We=null,Qe=0,st=null;function Ui(e){st=e}let To=1,tr=0,hn=tr;function Ha(e){hn=e}let Yt=!1;function No(){return++To}function Rr(e){var t=e.f;if((t&ut)!==0)return!0;if((t&Qt)!==0){var n=e.deps,r=(t&ct)!==0;if(n!==null){var a,o,i=(t&Cr)!==0,l=r&&fe!==null&&!Yt,c=n.length;if((i||l)&&(fe===null||(fe.f&mn)===0)){var u=e,d=u.parent;for(a=0;a<c;a++)o=n[a],(i||!o?.reactions?.includes(u))&&(o.reactions??(o.reactions=[])).push(u);i&&(u.f^=Cr),l&&d!==null&&(d.f&ct)===0&&(u.f^=ct)}for(a=0;a<c;a++)if(o=n[a],Rr(o)&&po(o),o.wv>e.wv)return!0}(!r||fe!==null&&!Yt)&&Xe(e,je)}return!1}function Lo(e,t,n=!0){var r=e.reactions;if(r!==null&&!Nt?.includes(e))for(var a=0;a<r.length;a++){var o=r[a];(o.f&tt)!==0?Lo(o,t,!1):t===o&&(n?Xe(o,ut):(o.f&je)!==0&&Xe(o,Qt),Rn(o))}}function Bo(e){var _;var t=We,n=Qe,r=st,a=ce,o=Yt,i=Nt,l=Se,c=ht,u=hn,d=e.f;We=null,Qe=0,st=null,Yt=(d&ct)!==0&&(ht||!Nn||ce===null),ce=(d&(Mt|pn))===0?e:null,Nt=null,Xt(e.ctx),ht=!1,hn=++tr,e.ac!==null&&(Ir(()=>{e.ac.abort(pa)}),e.ac=null);try{e.f|=$r;var v=e.fn,h=v(),g=e.deps;if(We!==null){var f;if(Pr(e,Qe),g!==null&&Qe>0)for(g.length=Qe+We.length,f=0;f<We.length;f++)g[Qe+f]=We[f];else e.deps=g=We;if(!Yt||(d&tt)!==0&&e.reactions!==null)for(f=Qe;f<g.length;f++)((_=g[f]).reactions??(_.reactions=[])).push(e)}else g!==null&&Qe<g.length&&(Pr(e,Qe),g.length=Qe);if(qn()&&st!==null&&!ht&&g!==null&&(e.f&(tt|Qt|ut))===0)for(f=0;f<st.length;f++)Lo(st[f],e);return a!==null&&a!==e&&(tr++,st!==null&&(r===null?r=st:r.push(...st))),(e.f&fn)!==0&&(e.f^=fn),h}catch(w){return co(w)}finally{e.f^=$r,We=t,Qe=n,st=r,ce=a,Yt=o,Nt=i,Xt(l),ht=c,hn=u}}function ji(e,t){let n=t.reactions;if(n!==null){var r=Ns.call(n,e);if(r!==-1){var a=n.length-1;a===0?n=t.reactions=null:(n[r]=n[a],n.pop())}}n===null&&(t.f&tt)!==0&&(We===null||!We.includes(t))&&(Xe(t,Qt),(t.f&(ct|Cr))===0&&(t.f^=Cr),_o(t),Pr(t,0))}function Pr(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)ji(e,n[r])}function Ln(e){var t=e.f;if((t&mn)===0){Xe(e,je);var n=fe,r=Nn;fe=e,Nn=!0;try{(t&Hn)!==0?zi(e):Eo(e),Co(e);var a=Bo(e);e.teardown=typeof a=="function"?a:null,e.wv=To;var o;eo&&ci&&(e.f&ut)!==0&&e.deps}finally{Nn=r,fe=n}}}async function Mo(){await Promise.resolve(),vo()}function s(e){var t=e.f,n=(t&tt)!==0;if(ce!==null&&!ht){var r=fe!==null&&(fe.f&mn)!==0;if(!r&&!Nt?.includes(e)){var a=ce.deps;if((ce.f&$r)!==0)e.rv<tr&&(e.rv=tr,We===null&&a!==null&&a[Qe]===e?Qe++:We===null?We=[e]:(!Yt||!We.includes(e))&&We.push(e));else{(ce.deps??(ce.deps=[])).push(e);var o=e.reactions;o===null?e.reactions=[ce]:o.includes(ce)||o.push(ce)}}}else if(n&&e.deps===null&&e.effects===null){var i=e,l=i.parent;l!==null&&(l.f&ct)===0&&(i.f^=ct)}if(Sn){if(Gt.has(e))return Gt.get(e);if(n){i=e;var c=i.v;return((i.f&je)===0&&i.reactions!==null||Io(i))&&(c=ma(i)),Gt.set(i,c),c}}else n&&(i=e,Rr(i)&&po(i));if((e.f&fn)!==0)throw e.v;return e.v}function Io(e){if(e.v===Ne)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(Gt.has(t)||(t.f&tt)!==0&&Io(t))return!0;return!1}function xt(e){var t=ht;try{return ht=!0,e()}finally{ht=t}}const Vi=-7169;function Xe(e,t){e.f=e.f&Vi|t}function qi(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(vn in e)oa(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&vn in n&&oa(n)}}}function oa(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{oa(e[r],t)}catch{}const n=fa(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=to(n);for(let a in r){const o=r[a].get;if(o)try{o.call(e)}catch{}}}}}const Wi=["touchstart","touchmove"];function Yi(e){return Wi.includes(e)}const Oo=new Set,sa=new Set;function Ki(e,t,n,r={}){function a(o){if(r.capture||Gn.call(t,o),!o.cancelBubble)return Ir(()=>n?.call(this,o))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?wn(()=>{t.addEventListener(e,a,r)}):t.addEventListener(e,a,r),a}function Sa(e,t,n,r,a){var o={capture:r,passive:a},i=Ki(e,t,n,o);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&Mi(()=>{t.removeEventListener(e,i,o)})}function nt(e){for(var t=0;t<e.length;t++)Oo.add(e[t]);for(var n of sa)n(e)}let Ua=null;function Gn(e){var t=this,n=t.ownerDocument,r=e.type,a=e.composedPath?.()||[],o=a[0]||e.target;Ua=e;var i=0,l=Ua===e&&e.__root;if(l){var c=a.indexOf(l);if(c!==-1&&(t===document||t===window)){e.__root=t;return}var u=a.indexOf(t);if(u===-1)return;c<=u&&(i=c)}if(o=a[i]||e.target,o!==t){Qr(e,"currentTarget",{configurable:!0,get(){return o||n}});var d=ce,v=fe;Ve(null),dt(null);try{for(var h,g=[];o!==null;){var f=o.assignedSlot||o.parentNode||o.host||null;try{var _=o["__"+r];if(_!=null&&(!o.disabled||e.target===o))if(ua(_)){var[w,...b]=_;w.apply(o,[e,...b])}else _.call(o,e)}catch(k){h?g.push(k):h=k}if(e.cancelBubble||f===t||f===null)break;o=f}if(h){for(let k of g)queueMicrotask(()=>{throw k});throw h}}finally{e.__root=t,delete e.currentTarget,Ve(d),dt(v)}}}function Ro(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function nr(e,t){var n=fe;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function U(e,t){var n=(t&ai)!==0,r=(t&oi)!==0,a,o=!e.startsWith("<!>");return()=>{a===void 0&&(a=Ro(o?e:"<!>"+e),n||(a=Fn(a)));var i=r||wo?document.importNode(a,!0):a.cloneNode(!0);if(n){var l=Fn(i),c=i.lastChild;nr(l,c)}else nr(i,i);return i}}function Gi(e,t,n="svg"){var r=!e.startsWith("<!>"),a=`<${n}>${r?e:"<!>"+e}</${n}>`,o;return()=>{if(!o){var i=Ro(a),l=Fn(i);o=Fn(l)}var c=o.cloneNode(!0);return nr(c,c),c}}function Zi(e,t){return Gi(e,t,"svg")}function Te(e=""){{var t=yn(e+"");return nr(t,t),t}}function z(){var e=document.createDocumentFragment(),t=document.createComment(""),n=yn();return e.append(t,n),nr(t,n),e}function p(e,t){e!==null&&e.before(t)}function yd(){var e;return(e=window.__svelte??(window.__svelte={})).uid??(e.uid=1),`c${window.__svelte.uid++}`}function Zt(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function Xi(e,t){return Ji(e,t)}const Dn=new Map;function Ji(e,{target:t,anchor:n,props:r={},events:a,context:o,intro:i=!0}){Di();var l=new Set,c=v=>{for(var h=0;h<v.length;h++){var g=v[h];if(!l.has(g)){l.add(g);var f=Yi(g);t.addEventListener(g,Gn,{passive:f});var _=Dn.get(g);_===void 0?(document.addEventListener(g,Gn,{passive:f}),Dn.set(g,1)):Dn.set(g,_+1)}}};c(da(Oo)),sa.add(c);var u=void 0,d=Oi(()=>{var v=n??t.appendChild(yn());return wi(v,{pending:()=>{}},h=>{if(o){X({});var g=Se;g.c=o}a&&(r.$$events=a),u=e(h,r)||{},o&&J()}),()=>{for(var h of l){t.removeEventListener(h,Gn);var g=Dn.get(h);--g===0?(document.removeEventListener(h,Gn),Dn.delete(h)):Dn.set(h,g)}sa.delete(c),v!==n&&v.parentNode?.removeChild(v)}});return Qi.set(u,d),u}let Qi=new WeakMap;const Yr=0,gr=1,Kr=2;function Fo(e,t,n,r,a){var o=e,i=qn(),l=Se,c=Ne,u,d,v,h=i?Lt(void 0):aa(void 0,!1,!1),g=i?Lt(void 0):aa(void 0,!1,!1),f=!1;function _(b,k){f=!0,k&&(dt(w),Ve(w),Xt(l));try{b===Yr&&n&&(u?Tn(u):u=Ue(()=>n(o))),b===gr&&r&&(d?Tn(d):d=Ue(()=>r(o,h))),b===Kr&&a&&(v?Tn(v):v=Ue(()=>a(o,g))),b!==Yr&&u&&Pt(u,()=>u=null),b!==gr&&d&&Pt(d,()=>d=null),b!==Kr&&v&&Pt(v,()=>v=null)}finally{k&&(Xt(null),Ve(null),dt(null),vo())}}var w=Wn(()=>{if(c!==(c=t())){if(Ms(c)){var b=c;f=!1,b.then(k=>{b===c&&(Tt(h,k),_(gr,!0))},k=>{if(b===c&&(Tt(g,k),_(Kr,!0),!a))throw g.v}),wn(()=>{f||_(Yr,!0)})}else Tt(h,c),_(gr,!1);return()=>c=Ne}})}function q(e,t,n=!1){var r=e,a=null,o=null,i=Ne,l=n?Un:0,c=!1;const u=(g,f=!0)=>{c=!0,h(f,g)};var d=null;function v(){d!==null&&(d.lastChild.remove(),r.before(d),d=null);var g=i?a:o,f=i?o:a;g&&Tn(g),f&&Pt(f,()=>{i?o=null:a=null})}const h=(g,f)=>{if(i!==(i=g)){var _=wa(),w=r;if(_&&(d=document.createDocumentFragment(),d.append(w=yn())),i?a??(a=f&&Ue(()=>f(w))):o??(o=f&&Ue(()=>f(w))),_){var b=Ce,k=i?a:o,m=i?o:a;k&&b.skipped_effects.delete(k),m&&b.skipped_effects.add(m),b.add_callback(v)}else v()}};Wn(()=>{c=!1,t(u),c||h(null,null)},l)}function ye(e,t){Or(()=>{var n=t();for(var r in n){var a=n[r];a?e.style.setProperty(r,a):e.style.removeProperty(r)}})}function $i(e,t,n){for(var r=e.items,a=[],o=t.length,i=0;i<o;i++)ya(t[i].e,a,!0);var l=o>0&&a.length===0&&n!==null;if(l){var c=n.parentNode;Ai(c),c.append(n),r.clear(),bt(e,t[0].prev,t[o-1].next)}xo(a,()=>{for(var u=0;u<o;u++){var d=t[u];l||(r.delete(d.k),bt(e,d.prev,d.next)),et(d.e,!l)}})}function Fr(e,t,n,r,a,o=null){var i=e,l={flags:t,items:new Map,first:null},c=(t&ao)!==0;if(c){var u=e;i=u.appendChild(yn())}var d=null,v=!1,h=new Map,g=Mr(()=>{var b=n();return ua(b)?b:b==null?[]:da(b)}),f,_;function w(){el(_,f,l,h,i,a,t,r,n),o!==null&&(f.length===0?d?Tn(d):d=Ue(()=>o(i)):d!==null&&Pt(d,()=>{d=null}))}Wn(()=>{_??(_=fe),f=s(g);var b=f.length;if(!(v&&b===0)){v=b===0;var k,m,A,B;if(wa()){var C=new Set,T=Ce;for(m=0;m<b;m+=1){A=f[m],B=r(A,m);var N=l.items.get(B)??h.get(B);N?(t&(Nr|Lr))!==0&&zo(N,A,m,t):(k=Ho(null,l,null,null,A,B,m,a,t,n,!0),h.set(B,k)),C.add(B)}for(const[O,ee]of l.items)C.has(O)||T.skipped_effects.add(ee.e);T.add_callback(w)}else w();s(g)}})}function el(e,t,n,r,a,o,i,l,c){var u=(i&Js)!==0,d=(i&(Nr|Lr))!==0,v=t.length,h=n.items,g=n.first,f=g,_,w=null,b,k=[],m=[],A,B,C,T;if(u)for(T=0;T<v;T+=1)A=t[T],B=l(A,T),C=h.get(B),C!==void 0&&(C.a?.measure(),(b??(b=new Set)).add(C));for(T=0;T<v;T+=1){if(A=t[T],B=l(A,T),C=h.get(B),C===void 0){var N=r.get(B);if(N!==void 0){r.delete(B),h.set(B,N);var O=w?w.next:f;bt(n,w,N),bt(n,N,O),Gr(N,O,a),w=N}else{var ee=f?f.e.nodes_start:a;w=Ho(ee,n,w,w===null?n.first:w.next,A,B,T,o,i,c)}h.set(B,w),k=[],m=[],f=w.next;continue}if(d&&zo(C,A,T,i),(C.e.f&gt)!==0&&(Tn(C.e),u&&(C.a?.unfix(),(b??(b=new Set)).delete(C))),C!==f){if(_!==void 0&&_.has(C)){if(k.length<m.length){var ge=m[0],se;w=ge.prev;var ne=k[0],V=k[k.length-1];for(se=0;se<k.length;se+=1)Gr(k[se],ge,a);for(se=0;se<m.length;se+=1)_.delete(m[se]);bt(n,ne.prev,V.next),bt(n,w,ne),bt(n,V,ge),f=ge,w=V,T-=1,k=[],m=[]}else _.delete(C),Gr(C,f,a),bt(n,C.prev,C.next),bt(n,C,w===null?n.first:w.next),bt(n,w,C),w=C;continue}for(k=[],m=[];f!==null&&f.k!==B;)(f.e.f&gt)===0&&(_??(_=new Set)).add(f),m.push(f),f=f.next;if(f===null)continue;C=f}k.push(C),w=C,f=C.next}if(f!==null||_!==void 0){for(var G=_===void 0?[]:da(_);f!==null;)(f.e.f&gt)===0&&G.push(f),f=f.next;var re=G.length;if(re>0){var R=(i&ao)!==0&&v===0?a:null;if(u){for(T=0;T<re;T+=1)G[T].a?.measure();for(T=0;T<re;T+=1)G[T].a?.fix()}$i(n,G,R)}}u&&wn(()=>{if(b!==void 0)for(C of b)C.a?.apply()}),e.first=n.first&&n.first.e,e.last=w&&w.e;for(var te of r.values())et(te.e);r.clear()}function zo(e,t,n,r){(r&Nr)!==0&&Tt(e.v,t),(r&Lr)!==0?Tt(e.i,n):e.i=n}function Ho(e,t,n,r,a,o,i,l,c,u,d){var v=(c&Nr)!==0,h=(c&Qs)===0,g=v?h?aa(a,!1,!1):Lt(a):a,f=(c&Lr)===0?i:Lt(i),_={i:f,v:g,k:o,a:null,e:null,prev:n,next:r};try{if(e===null){var w=document.createDocumentFragment();w.append(e=yn())}return _.e=Ue(()=>l(e,g,f,u),ii),_.e.prev=n&&n.e,_.e.next=r&&r.e,n===null?d||(t.first=_):(n.next=_,n.e.next=_.e),r!==null&&(r.prev=_,r.e.prev=_.e),_}finally{}}function Gr(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,a=t?t.e.nodes_start:n,o=e.e.nodes_start;o!==null&&o!==r;){var i=cr(o);a.before(o),o=i}}function bt(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function he(e,t,...n){var r=e,a=we,o;Wn(()=>{a!==(a=t())&&(o&&(et(o),o=null),o=Ue(()=>a(r,...n)))},Un)}function Uo(e,t,n){var r=e,a,o,i=null,l=null;function c(){o&&(Pt(o),o=null),i&&(i.lastChild.remove(),r.before(i),i=null),o=l,l=null}Wn(()=>{if(a!==(a=t())){var u=wa();if(a){var d=r;u&&(i=document.createDocumentFragment(),i.append(d=yn()),o&&Ce.skipped_effects.add(o)),l=Ue(()=>n(d,a))}u?Ce.add_callback(c):c()}},Un)}function jo(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=jo(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function tl(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=jo(e))&&(r&&(r+=" "),r+=t);return r}function pe(e){return typeof e=="object"?tl(e):e??""}const ja=[...` 	
\r\f \v\uFEFF`];function nl(e,t,n){var r=e==null?"":""+e;if(t&&(r=r?r+" "+t:t),n){for(var a in n)if(n[a])r=r?r+" "+a:a;else if(r.length)for(var o=a.length,i=0;(i=r.indexOf(a,i))>=0;){var l=i+o;(i===0||ja.includes(r[i-1]))&&(l===r.length||ja.includes(r[l]))?r=(i===0?"":r.substring(0,i))+r.substring(l+1):i=l}}return r===""?null:r}function rl(e,t){return e==null?null:String(e)}function me(e,t,n,r,a,o){var i=e.__className;if(i!==n||i===void 0){var l=nl(n,r,o);l==null?e.removeAttribute("class"):e.className=l,e.__className=n}else if(o&&a!==o)for(var c in o){var u=!!o[c];(a==null||u!==!!a[c])&&e.classList.toggle(c,u)}return o}function zn(e,t,n,r){var a=e.__style;if(a!==t){var o=rl(t);o==null?e.removeAttribute("style"):e.style.cssText=o,e.__style=t}return r}const al=Symbol("is custom element"),ol=Symbol("is html");function Sd(e,t){var n=ba(e);n.value===(n.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function bd(e,t){var n=ba(e);n.checked!==(n.checked=t??void 0)&&(e.checked=t)}function xe(e,t,n,r){var a=ba(e);a[t]!==(a[t]=n)&&(t==="loading"&&(e[Hs]=n),n==null?e.removeAttribute(t):typeof n!="string"&&sl(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function ba(e){return e.__attributes??(e.__attributes={[al]:e.nodeName.includes("-"),[ol]:e.namespaceURI===si})}var Va=new Map;function sl(e){var t=e.getAttribute("is")||e.nodeName,n=Va.get(t);if(n)return n;Va.set(t,n=[]);for(var r,a=e,o=Element.prototype;o!==a;){r=to(a);for(var i in r)r[i].set&&n.push(i);a=fa(a)}return n}function il(e,t,n=t){var r=new WeakSet;Ni(e,"input",async a=>{var o=a?e.defaultValue:e.value;if(o=Zr(e)?Xr(o):o,n(o),Ce!==null&&r.add(Ce),await Mo(),o!==(o=t())){var i=e.selectionStart,l=e.selectionEnd;e.value=o??"",l!==null&&(e.selectionStart=i,e.selectionEnd=Math.min(l,e.value.length))}}),xt(t)==null&&e.value&&(n(Zr(e)?Xr(e.value):e.value),Ce!==null&&r.add(Ce)),Or(()=>{var a=t();if(e===document.activeElement){var o=mr??Ce;if(r.has(o))return}Zr(e)&&a===Xr(e.value)||e.type==="date"&&!a&&!e.value||a!==e.value&&(e.value=a??"")})}function Zr(e){var t=e.type;return t==="number"||t==="range"}function Xr(e){return e===""?null:+e}function qa(e,t){return e===t||e?.[vn]===t}function Dt(e={},t,n,r){return Ri(()=>{var a,o;return Or(()=>{a=o,o=[],xt(()=>{e!==n(...o)&&(t(e,...o),a&&qa(n(...a),e)&&t(null,...a))})}),()=>{wn(()=>{o&&qa(n(...o),e)&&t(null,...o)})}}),e}function Vo(e=!1){const t=Se,n=t.l.u;if(!n)return;let r=()=>qi(t.s);if(e){let a=0,o={};const i=lr(()=>{let l=!1;const c=t.s;for(const u in c)c[u]!==o[u]&&(o[u]=c[u],l=!0);return l&&a++,a});r=()=>s(i)}n.b.length&&Ii(()=>{Wa(t,r),kr(n.b)}),Le(()=>{const a=xt(()=>n.m.map(Is));return()=>{for(const o of a)typeof o=="function"&&o()}}),n.a.length&&Le(()=>{Wa(t,r),kr(n.a)})}function Wa(e,t){if(e.l.s)for(const n of e.l.s)s(n);t()}let _r=!1;function ll(e){var t=_r;try{return _r=!1,[e(),_r]}finally{_r=t}}function le(e,t,n,r){var a=!Vn||(n&ei)!==0,o=(n&ni)!==0,i=(n&ri)!==0,l=r,c=!0,u=()=>(c&&(c=!1,l=i?xt(r):r),l),d;if(o){var v=vn in e||zs in e;d=An(e,t)?.set??(v&&t in e?m=>e[t]=m:void 0)}var h,g=!1;o?[h,g]=ll(()=>e[t]):h=e[t],h===void 0&&r!==void 0&&(h=u(),d&&(a&&Ys(),d(h)));var f;if(a?f=()=>{var m=e[t];return m===void 0?u():(c=!0,m)}:f=()=>{var m=e[t];return m!==void 0&&(l=void 0),m===void 0?l:m},a&&(n&ti)===0)return f;if(d){var _=e.$$legacy;return(function(m,A){return arguments.length>0?((!a||!A||_||g)&&d(A?f():m),m):f()})}var w=!1,b=((n&$s)!==0?lr:Mr)(()=>(w=!1,f()));o&&s(b);var k=fe;return(function(m,A){if(arguments.length>0){const B=A?s(b):a&&o?Oe(m):m;return y(b,B),w=!0,l!==void 0&&(l=B),m}return Sn&&w||(k.f&mn)!==0?b.v:s(b)})}function Ee(e){Se===null&&ro(),Vn&&Se.l!==null?cl(Se).m.push(e):Le(()=>{const t=xt(e);if(typeof t=="function")return t})}function cl(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const ul="5";var $a;typeof window<"u"&&(($a=window.__svelte??(window.__svelte={})).v??($a.v=new Set)).add(ul);ui();const qo={};function dl(e){Me(qo,e)}function Wo(){const e=Be(qo);if(!e)throw new Error("No SearchContext found");return e}const Yo={};function fl(e){Me(Yo,e)}function pt(){const e=Be(Yo);if(!e)throw new Error("No AppHistoryContext found");return e}function vl(e,t){X(t,!0);const{replace:n,getAppHistory:r}=pt(),a=I(r),o="search",i=Oe({value:new URLSearchParams(r().search).get(o)||""}),l=d=>{const v=new URLSearchParams(s(a).search),h=s(a).pathname;(v.get(o)||"")!==d&&(d===""?v.delete(o):v.set(o,d),n(`${h}${v.size>0?`?${v.toString()}`:""}`))};Le(()=>{const d=i.value;xt(()=>{l(d)})}),dl(i);var c=z(),u=M(c);he(u,()=>t.children??we),p(e,c),J()}const Ko={};function hl(e){Me(Ko,e)}function Go(){const e=Be(Ko);if(!e)throw new Error("No TagSearchContext found");return e}function gl(e,t){X(t,!0);const n=Oe({value:""});hl(n);var r=z(),a=M(r);he(a,()=>t.children??we),p(e,r),J()}const Zo={};function _l(e){Me(Zo,e)}function Xo(){const e=Be(Zo);if(!e)throw new Error("No FeedOrderContext found");return e}function pl(e,t){X(t,!0);const{navigate:n,getAppHistory:r}=pt(),a=I(r),o="feedOrder";let i=F(Oe(new URLSearchParams(r().search).get(o)||"newest"));_l({getFeedOrder:()=>s(i),setFeedOrder:v=>{y(i,v,!0);const h=new URLSearchParams(s(a).search);v==="newest"?h.delete(o):h.set(o,v),n(`${s(a).pathname}${h.size>0?`?${h.toString()}`:""}`)}});var u=z(),d=M(u);he(d,()=>t.children??we),p(e,u),J()}const Jo={};function ml(e){Me(Jo,e)}function ka(){const e=Be(Jo);if(!e)throw new Error("No SidebarContext found");return e}function wl(e,t){X(t,!0);const n=(d,v)=>{if(!v)return d;if(v.type==="closed")return{type:"closed"};switch(d.type){case"opened":return v.type==="close"?{type:"closing"}:v.type==="swipe"?{type:"openSwiping"}:d;case"closed":return v.type==="open"?{type:"opening"}:v.type==="swipe"?{type:"closeSwiping"}:d;case"openSwiping":return v.type==="open"?{type:"opening"}:v.type==="close"?{type:"closing"}:d;case"closeSwiping":return v.type==="open"?{type:"opening"}:v.type==="close"?{type:"closing"}:d;case"opening":return v.type==="opened"?{type:"opened"}:d;default:return d}};let r=F(Oe(n({type:"closed"})));const a=d=>{y(r,n(s(r),d),!0)};ml({sidebarOpen:()=>{a({type:"open"})},sidebarClose:()=>{a({type:"close"})},handleComputeState:a,getSidebarState:()=>s(r)});var c=z(),u=M(c);he(u,()=>t.children??we),p(e,c),J()}const Qo={};function yl(e){Me(Qo,e)}function $o(){const e=Be(Qo);if(!e)throw new Error("No SelectedTagsContext found");return e}const es=(e,t)=>{let n=null;return()=>{n&&clearTimeout(n),n=setTimeout(()=>{n=null,e()},t)}};async function Sl(){if(navigator.storage&&navigator.storage.persist)try{await navigator.storage.persisted()||await navigator.storage.persist()}catch{}}const bl=(e,t)=>{if(e.size!==t.size)return!0;for(const n of e)if(!t.has(n))return!0;return!1};function kl(e,t){X(t,!0);const{getAppHistory:n,replace:r}=pt(),a=I(n),o=I(()=>n().search),i="selectedTags",l=()=>new Set(new URLSearchParams(n().search).get(i)?.split(",")||[]);let c=F(Oe(l()));const u=()=>{const _=l();if(bl(_,s(c))){const w=new URLSearchParams(s(a).search),b=s(a).pathname;s(c).size===0?w.delete(i):w.set(i,Array.from(s(c)).join(",")),r(`${b}${w.size>0?`?${w.toString()}`:""}`)}};Le(()=>{s(o),s(c),xt(()=>{u()})}),yl({getSelectedTags:()=>s(c),addTag:_=>{s(c).has(_)||y(c,new Set([...s(c),_]),!0)},removeTag:_=>{const w=new Set(s(c));w.delete(_),y(c,w,!0)}});var g=z(),f=M(g);he(f,()=>t.children??we),p(e,g),J()}const ts={};function Cl(e){Me(ts,e)}function Ca(){const e=Be(ts);if(!e)throw new Error("No LocalDBContext found");return e}const ns={};function El(e){Me(ns,e)}function Pl(){const e=Be(ns);if(!e)throw new Error("No SettingsContext found");return e}const rs={};function xl(e){Me(rs,e)}function zr(){const e=Be(rs);if(!e)throw new Error("No BroadcastContext found");return e}const Dl="AppStorage",Al=1,Zn="account",br="settings",yt="notes",St="tags",Tl="syncLog",$t="success",en="error",Re=(e,t,n)=>{e?.addEventListener(t,n)},Ya=(e,t)=>new Promise((n,r)=>{const o=e?.transaction(t,"readonly")?.objectStore(t).getAll();Re(o,$t,()=>{const i=o?.result||[];n(i)}),Re(o,en,i=>{r(i)})}),ia=(e,t,n)=>new Promise((r,a)=>{const i=e?.transaction(t,"readonly")?.objectStore(t).get(n);Re(i,$t,()=>{const l=i?.result?.data;r(l)}),Re(i,en,l=>{a(l)})}),er=(e,t,n,r)=>new Promise((a,o)=>{const c=e?.transaction(t,"readwrite")?.objectStore(t)?.put({id:n,data:r});Re(c,$t,()=>{a()}),Re(c,en,u=>{o(u)})}),Jr=async(e,t,n)=>{const a=e?.transaction(t,"readwrite")?.objectStore(t);await Promise.all(n.map(o=>{const i=a?.put(o);return new Promise((l,c)=>{Re(i,$t,()=>{l()}),Re(i,en,u=>{c(u)})})}))},Nl=(e,t,n)=>new Promise((r,a)=>{const l=e?.transaction(t,"readwrite")?.objectStore(t)?.delete(n);Re(l,$t,()=>{r()}),Re(l,en,c=>{a(c)})}),pr=async(e,t,n)=>{const a=e?.transaction(t,"readwrite")?.objectStore(t);await Promise.all(n.map(o=>{const i=a?.delete(o);return new Promise((l,c)=>{Re(i,$t,()=>{l()}),Re(i,en,u=>{c(u)})})}))},on=(e,t)=>new Promise((n,r)=>{const i=e?.transaction(t,"readwrite")?.objectStore(t)?.clear();Re(i,$t,()=>{n()}),Re(i,en,l=>{r(l)})});function Ll(e,t){X(t,!0);let n=F(Oe({showFavicon:!1}));const{getDB:r}=Ca(),{createBroadcastChannel:a,tabId:o}=zr(),i=a(),l=I(r),c=async()=>{const _=await ia(s(l),br,"default");_&&y(n,_,!0)},u=async()=>{c()},d=async _=>{const w=JSON.parse(_.data),b=w;if(w.tabId&&w.tabId===o){b.type==="exit"&&(y(n,{showFavicon:!1},!0),on(s(l),br));return}b.type==="updateSettings"?c():b.type==="exit"&&y(n,{showFavicon:!1},!0)},v=()=>s(n).showFavicon,h=async _=>{s(n).showFavicon=_,await er(s(l),br,"default",{showFavicon:_}),i.postMessage({type:"updateSettings"})};Ee(()=>(u(),i.addEventListener(d),()=>{i.removeEventListener(d)})),El({getFaviconEnabled:v,setFaviconShown:h});var g=z(),f=M(g);he(f,()=>t.children??we),p(e,g),J()}const as={};function Bl(e){Me(as,e)}function Ea(){const e=Be(as);if(!e)throw new Error("No AccountContext found");return e}function Ml(e,t){X(t,!0);let n=F(void 0);const{getDB:r}=Ca(),{createBroadcastChannel:a,tabId:o}=zr(),i=I(r),l=a(),c=async()=>{const m=await ia(s(i),Zn,"default");y(n,m,!0)},u=m=>er(s(i),Zn,"default",m),d=async m=>{const A=await ia(s(i),Zn,"default");A!==void 0&&y(n,A,!0),m(A)},v=async m=>{const A=JSON.parse(m.data);if(A.tabId&&A.tabId===o)return;const B=A;B.type==="initLocalAccount"?y(n,null):B.type==="initCloudAccount"?c():B.type==="disconnectCloudAccount"?y(n,null):B.type==="exit"?y(n,void 0):B.type==="updateAccount"&&c()};Ee(()=>(l.addEventListener(v),()=>{l.removeEventListener(v)})),Bl({init:d,getAccount:()=>s(n),initLocalAccount:async()=>{y(n,null),await u(null),l.postMessage({type:"initLocalAccount"})},initCloudAccount:async m=>{const A={encryptedClientKey:m.encryptedClientKey||"",subscriptionExpires:m.subscriptionExpires||-1,lastSync:-1};await u(A),y(n,A,!0),l.postMessage({type:"initCloudAccount"})},disconnectCloudAccount:async()=>{y(n,null),await u(null),l.postMessage({type:"disconnectCloudAccount"})},updateSubscription:async m=>{if(!s(n))throw new Error("No account to update subscription for");const A={...s(n),subscriptionExpires:m};await u(A),l.postMessage({type:"updateAccount"})},exitApp:async()=>{y(n,void 0),l.postMessage({type:"exit"}),await on(s(i),Zn)}});var b=z(),k=M(b);he(k,()=>t.children??we),p(e,b),J()}const os={};function Il(e){Me(os,e)}function Hr(){const e=Be(os);if(!e)throw new Error("No NotesContext found");return e}const Ol=()=>crypto.randomUUID(),Rl=e=>{const t=new Map;for(const n of e||[])for(const r of n?.data.tags||[])t.set(r,{name:r,count:(t.get(r)?.count||0)+1});return t};function Fl(e,t){X(t,!0);const{getDB:n}=Ca(),{createBroadcastChannel:r,tabId:a}=zr(),o=I(n),i=r(),l=720*60*60*1e3;let c=F(0),u=F(!1),d=F(()=>new Map),v=F(()=>[]),h=F(()=>new Map);const g=()=>s(u),f=()=>s(c)>0,_=()=>{s(c)>0&&y(c,s(c)-1)},w=P=>{const x=s(v)(),S=s(h)(),E={...P};x.push(E),S.set(E.id,E),y(v,()=>x),y(h,()=>S)},b=P=>{const x=s(v)(),S=s(h)(),E=S.get(P.id);E&&(E.data=P.data),y(v,()=>x),y(h,()=>S)},k=P=>{const x=s(v)(),S=s(h)(),E=S.get(P);S.has(P)&&S.delete(P),E?.data?.type==="draft"&&S.delete("draft"),E&&(E.data=void 0),y(v,()=>x),y(h,()=>S)},m=()=>{y(v,()=>[]),y(d,()=>new Map),y(h,()=>new Map)},A=()=>s(v),B=P=>{const x=s(d)();for(const S of P){const E=x.get(S);E?E.count++:x.set(S,{name:S,count:1})}y(d,()=>x)},C=P=>{const x=s(d)();for(const S of P){const E=x.get(S);E&&(E.count--,E.count<=0&&x.delete(S))}y(d,()=>x)},T=async()=>{const[P,x]=await Promise.all([Ya(s(o),yt),Ya(s(o),St).then(oe=>oe.reduce((De,Pe)=>De.set(Pe.name,Pe),new Map))]),S=[],E=[],j=new Map;let ie=0;for(const oe of P)oe.data.deletedAt&&Date.now()-oe.data.deletedAt>l?S.push(oe.id):(E.push(oe),j.set(oe.id,oe),oe.data.deletedAt&&(ie+=1),oe.data.type==="draft"&&j.set("draft",oe));y(c,ie,!0);const $=Rl(E),ue=new Map;$.entries().forEach(([oe,De])=>{const Pe=x.get(oe);ue.set(oe,{...Pe,...De})}),await pr(s(o),yt,S),await on(s(o),St),await Jr(s(o),St,Array.from(ue.values()).map(oe=>({id:oe.name,data:{pinned:oe.pinned}}))),y(v,()=>E),y(h,()=>j),y(d,()=>ue),y(u,!0)},N=async()=>{const P=s(h)(),x=P.get("draft");if(x)return x;const S={id:Ol(),data:{type:"draft",url:"",name:"",text:"",tags:[],draft:{url:"",name:"",text:"",tags:[],createdAt:Date.now(),updatedAt:Date.now()},createdAt:Date.now(),updatedAt:Date.now()}};return await er(s(o),yt,S.id,{...S.data}),P.set("draft",S),w(S),i.postMessage({type:"createNoteDraft",data:{note:S}}),S},O=async P=>{const S=s(h)().get(P);if(!S||!S.data)return;const E=s(d)(),j=S.data.tags;C(j),k(P),i.postMessage({type:"deleteNote",data:{id:P}}),_(),await Nl(s(o),yt,P),await pr(s(o),St,j.filter(ie=>{const $=E.get(ie);return $?$.count<=1:!1}))},ee=async(P,x)=>{const S={id:x.id,data:{...x.data}},E=s(d)(),j=x.data.tags.filter($=>!P.data.tags.includes($)),ie=P.data.tags.filter($=>!x.data.tags.includes($));await er(s(o),yt,S.id,{...S.data}),await Jr(s(o),St,j.filter($=>!E.has($)).map($=>({id:$,data:{}}))),await pr(s(o),St,ie.filter($=>{const ue=E.get($);return ue?ue.count<=1:!1})),b(S),C(ie),B(j),i.postMessage({type:"updateNote",data:{note:S,tagsToAdd:j,tagsToDelete:ie}})},ge=async P=>{const x=s(h)(),S=ne(P);if(!S||!S.data)return;const E=x.get("draft");E&&E.id===S.id&&x.delete("draft");const j={id:P,data:{type:"note",name:S.data.draft?.name??S.data.name,url:S.data.draft?.url??S.data.url,text:S.data.draft?.text??S.data.text,tags:S.data.draft?.tags??S.data.tags,updatedAt:Date.now(),createdAt:S.data.createdAt,pinnedAt:S.data.pinnedAt,deletedAt:S.data.deletedAt,draft:void 0}};return ee(S,j)},se=async()=>{m(),i.postMessage({type:"clearNotes"}),await on(s(o),yt),await on(s(o),St)},ne=P=>{const x=s(h)();return P?x.get(P):x.get("draft")},V=async(P,x)=>{const E=s(h)().get(P);if(!E||!E.data)return;const j={id:P,data:{...E.data,pinnedAt:x?Date.now():void 0}};return ee(E,j)},G=async P=>{const S=s(h)().get(P);if(!S||!S.data)return;const E={id:P,data:{...S.data,deletedAt:Date.now()}};y(c,s(c)+1),await ee(S,E)},re=async P=>{const S=s(h)().get(P);if(!S||!S.data)return;const E={id:P,data:{...S.data,deletedAt:0}};_(),await ee(S,E)},R=async(P,x)=>{const S=s(d)();S.set(P,{name:P,count:S.get(P)?.count||0,pinned:x}),await er(s(o),St,P,{pinned:x}),i.postMessage({type:"pinTag",data:{tag:P,pinned:x}}),y(d,()=>S)},te=async P=>{const x=s(h)(),S={};P.forEach(E=>{const j=x.get(E.id);(!j||j&&j.data&&j.data.updatedAt<E.data.updatedAt)&&(S[E.id]=E)}),await Jr(s(o),yt,Object.values(S)),await T(),i.postMessage({type:"reloadNotes"})},Z=async()=>{const P=[];s(v)().forEach(S=>{S&&S.data&&S.data.deletedAt&&P.push(S.id)}),y(c,0),await pr(s(o),yt,P),await T(),i.postMessage({type:"emptyBin"})},Y=async(P,x)=>{if(P===""){const ie=s(h)().get("draft");ie?P=ie.id:P=(await N()).id}const S=ne(P);if(!S||!S.data)return;const E={id:P,data:{...S.data,draft:{...x,tags:x.tags,createdAt:S.data.draft?.createdAt||Date.now(),updatedAt:Date.now()}}};return await ee(S,E),S.id},K=async P=>{const x=s(h)(),S=ne(P);if(!S||!S.data||!S.data.draft)return;if(S.data.type==="draft"){P===x.get("draft")?.id&&x.delete("draft"),await O(P);return}const E={id:P,data:{...S.data,draft:void 0}};return ee(S,E)},Q=async P=>{const x=JSON.parse(P.data),S=x;if(x.tabId&&x.tabId===a){S.type==="exit"&&(m(),await on(s(o),yt),await on(s(o),St));return}if(S.type==="createNoteDraft"){const E=S.data.note;s(h)().set("draft",E),w(E)}else if(S.type==="updateNote"){const E=S.data,ie=s(h)().get(E.note.id);if(!ie||!ie.data)return;ie.data.deletedAt&&!E.note.data.deletedAt?_():!ie.data.deletedAt&&E.note.data.deletedAt&&y(c,s(c)+1),b(E.note),C(E.tagsToAdd),B(E.tagsToDelete)}else if(S.type==="deleteNote"){const E=S.data.id,ie=s(h)().get(E);if(!ie)return;_(),k(E),C(ie?.data?.tags||[])}else if(S.type==="pinTag"){const E=S.data.tag,j=S.data.pinned,ie=s(d)(),$=ie.get(E);$&&($.pinned=j,ie.set(E,$))}else S.type==="clearNotes"?m():S.type==="reloadNotes"||S.type==="emptyBin"?T():S.type==="exit"&&m()};Ee(()=>(T(),i.addEventListener(Q),()=>{i.removeEventListener(Q)})),Il({isInitedNotes:g,putNoteDraft:Y,deleteNoteDraft:K,deleteNote:O,pinNote:V,getGetNotes:A,importNotes:te,clearNotes:se,getNoteById:ne,getGetMapTags:()=>s(d),pinTag:R,moveNoteToBin:G,restoreNoteFromBin:re,checkNotesInBin:f,emptyBin:Z,saveNoteDraft:ge,countNotesInBin:()=>s(c)});var ve=z(),ke=M(ve);he(ke,()=>t.children??we),p(e,ve),J()}const ss={},zl=()=>({working:!1,swipingRatio:1,isSwiping:!1,duration:.35});function Hl(e){Me(ss,e)}function Yn(){const e=Be(ss);if(!e)throw new Error("No AnimationSettingsContext found");return e}function Ul(e,t){X(t,!0);let n=Oe(zl());Hl(n);var r=z(),a=M(r);he(a,()=>t.children??we),p(e,r),J()}const is={};function jl(e){Me(is,e)}function ls(){const e=Be(is);if(!e)throw new Error("No ScrollingContext found");return e}function Vl(e,t){X(t,!0);let n=F(!1);const r=()=>s(n),a=es(()=>{y(n,!1)},100);jl({isScrolling:r,enable:()=>{y(n,!0),a()}});var i=z(),l=M(i);he(l,()=>t.children??we),p(e,i),J()}const cs={};function ql(e){Me(cs,e)}function Kn(){const e=Be(cs);if(!e)throw new Error("No MobileSizeContext found");return e}function Wl(e,t){X(t,!0);const n=()=>window.matchMedia("(max-width: 767px)").matches;let r=F(Oe(n())),a=Yn();const o=es(()=>{a.working=!0},16),i=()=>{a.working=!1,o(),requestAnimationFrame(()=>{y(r,n(),!0)})};ql({checkMobileSize:()=>s(r)}),Ee(()=>(window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)));var c=z(),u=M(c);he(u,()=>t.children??we),p(e,c),J()}const us={};function Yl(e){Me(us,e)}function ur(){const e=Be(us);if(!e)throw new Error("No DialogContext found");return e}function Kl(e,t){X(t,!0);let n=F(0),r=F(!1),a=F(!1);Yl({checkExistedDialog:()=>s(n)>0,showDialog:()=>{y(n,s(n)+1)},hideDialog:()=>{y(n,s(n)-1)},blockDialog:f=>{y(r,f,!0),f||y(a,!1)},checkBlockedDialog:()=>s(r),unBlockBackDialog:f=>{y(a,f,!0)},checkUnBlockedBackDialog:()=>s(a)});var h=z(),g=M(h);he(g,()=>t.children??we),p(e,h),J()}const ds={};function Gl(e){Me(ds,e)}function Pa(){const e=Be(ds);if(!e)throw new Error("No ScrollContainerContext found");return e}function Zl(e,t){X(t,!0);let n=F(null);Gl({setScrollContainer:l=>{y(n,l,!0)},getScrollContainer:()=>s(n)});var o=z(),i=M(o);he(i,()=>t.children??we),p(e,o),J()}const fs={};function Xl(e){Me(fs,e)}function xa(){const e=Be(fs);if(!e)throw new Error("No DialogPageHeightContext found");return e}function Jl(e,t){X(t,!0);let n=F(200);Xl({setDialogPageHeight:l=>{y(n,l,!0)},getDialogPageHeight:()=>s(n)});var o=z(),i=M(o);he(i,()=>t.children??we),p(e,o),J()}const Ql=[Zn,br,yt,St,Tl];function $l(){return new Promise((e,t)=>{const n=indexedDB.open(Dl,Al);Re(n,"upgradeneeded",()=>{const r=n.result;for(const a of Ql)r.objectStoreNames.contains(a)||r.createObjectStore(a,{keyPath:"id"})}),Re(n,$t,()=>{const r=n.result;e(r),r.onversionchange=function(){r?.close(),alert("app outdated, please reload the page")}}),Re(n,"blocked",()=>{t(),alert("app outdated, please reload the page")}),Re(n,en,()=>{t()})})}function ec(e,t){X(t,!0);let n=F(null);Ee(()=>{$l().then(l=>{y(n,l,!0)})}),Cl({getDB:()=>s(n)});var a=z(),o=M(a);{var i=l=>{var c=z(),u=M(c);he(u,()=>t.children??we),p(l,c)};q(o,l=>{s(n)&&l(i)})}p(e,a),J()}const vs={};function tc(e){Me(vs,e)}function Bt(){const e=Be(vs);if(!e)throw new Error("No StackPagesContext found");return e}function nc(e,t){X(t,!0);const{getAppHistory:n,navigate:r}=pt(),a=()=>new URLSearchParams(n().search).get("stackPages")?.split(",")||[];let o=F(Oe(a()));const i=w=>{const b=a();if(!b.includes(w)){b.push(w);const k=new URLSearchParams(n().search);k.set("stackPages",b.join(",")),y(o,b,!0),r(`${n().pathname}?${k.toString()}`)}};tc({pushStackPages:i,hasStackPage:w=>a().includes(w),updateStackPages:()=>{y(o,a(),!0)},popStackPages:()=>{const w=s(o).slice(0,-1);y(o,w,!0)},getStackPages:()=>{const w=a();return w.length>=s(o).length?w.reduce((b,k)=>[...b,{page:k,shown:!0}],[]):s(o).reduce((b,k,m)=>[...b,{page:k,shown:w.length===0?!1:m!==s(o).length-1}],[])},clearStackPages:()=>{y(o,[],!0)},getPageUrl:(w,b)=>{if(b?.full)return`/${w}`;const k=a();k.includes(w)||k.push(w);const m=new URLSearchParams(n().search);return m.set("stackPages",k.join(",")),`${n().pathname}?${m}`},createHandlePage:(w,b)=>k=>{if(k.preventDefault(),b?.full){r(w);return}i(w)},getStackPagesFormUrl:a});var f=z(),_=M(f);he(_,()=>t.children??we),p(e,f),J()}function rc(e,t){X(t,!0);const n=g=>g.startsWith("/")?g:`/${g}`,r=Oe({historyStack:[],pathname:n(window.location.pathname),search:window.location.search,historyLength:0}),a=()=>{r.pathname=n(document.location.pathname),r.search=document.location.search,r.historyLength=Math.max(0,r.historyLength-=1)},o=g=>{const[f,_]=g.split("?");r.pathname=n(f),r.search=_?`?${_}`:"",r.historyLength+=1,r.historyStack.push(`${window.location.pathname}${window.location.search}`),window.history.replaceState(null,"",g)},i=g=>{const[f,_]=g.split("?");r.pathname=n(f),r.search=_?`?${_}`:"",window.history.replaceState(null,"",g)};fl({getAppHistory:()=>r,navigate:o,replace:i,addSearchParam:(g,f)=>{const _=new URLSearchParams(r.search);_.append(g,f),i(`${r.pathname}${_.size>0?`?${_.toString()}`:""}`)},deleteSearchParam:g=>{const f=new URLSearchParams(r.search);f.delete(g),r.historyStack=r.historyStack.map(_=>{const w=new URLSearchParams(_.split("?")[1]);return w.delete(g),`${_.split("?")[0]}${f.size>0?`?${w.toString()}`:""}`}),i(`${r.pathname}${f.size>0?`?${f.toString()}`:""}`)},back:g=>{const{fallback:f="/",to:_}=g||{},[w,b]=f.split("?");if(r.historyLength<=0){const k=window.location.pathname,m=window.location.search;if(!m.includes("stackPages"))window.history.replaceState(null,"",f),r.historyLength=0,r.pathname=n(w),r.search=b?`?${b}`:"";else{const A=new URLSearchParams(m),B=A.get("stackPages")?.split(",")||[],C=B.slice(0,_&&B.includes(_)?B.indexOf(_)+1:-1);C.length===0?A.delete("stackPages"):A.set("stackPages",C.join(","));const T=`${k}${A.toString()?`?${A.toString()}`:""}`;window.history.replaceState(null,"",T),r.search=A.toString()?`?${A.toString()}`:""}}else if(r.historyStack.length>0){const m=new URLSearchParams(r.search).get("stackPages")?.split(",")||[];_&&m.includes(_)&&(r.historyStack=r.historyStack.slice(0,-(m.length-(m.indexOf(_)+1))+1),r.historyLength=r.historyStack.length);const A=r.historyStack.pop();if(A){const[B,C]=A.split("?");window.history.replaceState(null,"",A),r.historyLength=Math.max(0,r.historyLength-=1),r.pathname=n(B),r.search=C?`?${C}`:""}}},closeDialogStack:()=>{const g=r.historyStack.findIndex(_=>_.includes("stackPages")),f=g===-1?r.historyStack.slice(0):r.historyStack.slice(0,g);if(f.length>0){const _=f.pop();if(_){const[w,b]=_.split("?");window.history.replaceState(null,"",_),r.historyLength=Math.max(0,f.length),r.pathname=n(w),r.search=b?`?${b}`:"",r.historyStack=f}}else{const _=r.search,w=new URLSearchParams(_);w.delete("stackPages"),window.history.replaceState(null,"",w.toString()?"/?"+w.toString():"/"),r.historyLength=0,r.pathname="/",r.search=w.toString()?"?"+w.toString():"",r.historyStack=[]}}}),Ee(()=>(window.addEventListener("popstate",a),()=>{window.removeEventListener("popstate",a)}));var v=z(),h=M(v);he(h,()=>t.children??we),p(e,v),J()}const hs={};function ac(e){Me(hs,e)}function oc(){const e=Be(hs);if(!e)throw new Error("No KeyboardVisibleContext found");return e}function sc(e,t){X(t,!0);let n=Oe({value:!1});const r=()=>n.value;Ee(()=>{const i=()=>{setTimeout(()=>{document.activeElement instanceof HTMLInputElement&&document.activeElement.type==="text"||document.activeElement instanceof HTMLTextAreaElement?n.value=!0:n.value=!1},0)};return i(),document.addEventListener("focusin",i),document.addEventListener("focusout",i),()=>{document.removeEventListener("focusin",i),document.removeEventListener("focusout",i)}}),ac({getIsKeyboardVisible:r});var a=z(),o=M(a);he(o,()=>t.children??we),p(e,a),J()}function ic(e,t){X(t,!0);const n=crypto.randomUUID(),r=(i,l)=>{i.postMessage(JSON.stringify({...l,tabId:n}))};xl({tabId:n,createBroadcastChannel:()=>{const i=new BroadcastChannel("app");return{postMessage:l=>r(i,l),addEventListener:l=>{i.addEventListener("message",l)},removeEventListener:l=>{i.removeEventListener("message",l)}}}});var a=z(),o=M(a);he(o,()=>t.children??we),p(e,a),J()}function lc(e,t){Ul(e,{children:(n,r)=>{Vl(n,{children:(a,o)=>{Wl(a,{children:(i,l)=>{Kl(i,{children:(c,u)=>{Zl(c,{children:(d,v)=>{Jl(d,{children:(h,g)=>{sc(h,{children:(f,_)=>{rc(f,{children:(w,b)=>{nc(w,{children:(k,m)=>{ec(k,{children:(A,B)=>{ic(A,{children:(C,T)=>{var N=z(),O=M(N);he(O,()=>t.children??we),p(C,N)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})}function cc(e,t){lc(e,{children:(n,r)=>{gl(n,{children:(a,o)=>{vl(a,{children:(i,l)=>{pl(i,{children:(c,u)=>{wl(c,{children:(d,v)=>{kl(d,{children:(h,g)=>{Ll(h,{children:(f,_)=>{Ml(f,{children:(w,b)=>{Fl(w,{children:(k,m)=>{var A=z(),B=M(A);he(B,()=>t.children??we),p(k,A)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})}})}let zt=F(""),rn=F(null),Xn=F(null),Jn=F(null);function gn(e,t){y(zt,""),setTimeout(()=>{y(zt,e,!0),t?.onFinish&&y(Xn,t.onFinish,!0),t?.onCancel&&y(Jn,t.onCancel,!0)},16)}const uc=(e,t,n,r,a)=>{e.preventDefault(),s(t)&&(y(n,null),s(t)(),y(t,null)),y(r,""),s(a)?.style.removeProperty("opacity")};var dc=U('<button type="button" class="undoButton svelte-1vxmgq5">undo</button>'),fc=U('<div class="notification svelte-1vxmgq5"><span> </span> <!></div>'),vc=U("<div><!></div>");function hc(e,t){X(t,!0),Le(()=>{s(zt);const o=s(Jn)?2e3:800;s(zt)&&(s(rn)?.getBoundingClientRect(),s(rn)?.style.setProperty("opacity","1"));const i=setTimeout(()=>{s(rn)?.style.removeProperty("opacity")},o),l=setTimeout(()=>{y(zt,""),s(Xn)&&s(Xn)(),y(Xn,null),y(Jn,null),s(rn)?.style.removeProperty("opacity")},o+400);return()=>{clearTimeout(i),clearTimeout(l)}});var n=vc(),r=D(n);{var a=o=>{var i=fc(),l=D(i),c=D(l),u=H(l,2);{var d=v=>{var h=dc();h.__click=[uc,Jn,Xn,zt,rn],p(v,h)};q(u,v=>{s(Jn)&&v(d)})}Dt(i,v=>y(rn,v),()=>s(rn)),de(()=>Zt(c,s(zt))),p(o,i)};q(r,o=>{s(zt)&&o(a)})}p(e,n),J()}nt(["click"]);var gc=U('<span class="vh svelte-1s25udk"><!></span>');function $e(e,t){var n=gc(),r=D(n);he(r,()=>t.children),p(e,n)}var _c=Zi('<svg class="svelte-18et5h9"><use></use></svg>');function be(e,t){let n=le(t,"name",8,"");var r=_c(),a=D(r);de(()=>xe(a,"href",`#icon-${n()??""}`)),p(e,r)}const pc=(e,t,n,r)=>{const a=t().type;a==="closed"?n():a==="opened"&&r()};var mc=U('<button class="buttonMenu svelte-bpktnw"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>');function gs(e,t){X(t,!1);const{sidebarOpen:n,getSidebarState:r,sidebarClose:a}=ka();Vo();var o=mc();o.__click=[pc,r,n,a];var i=D(o);ye(i,()=>({"--size":"36px"})),be(i.lastChild,{name:"sidebarMenu"});var l=H(i,2);$e(l,{children:(c,u)=>{var d=Te("Menu");p(c,d)}}),p(e,o),J()}nt(["click"]);var wc=(e,t)=>t.onChange?.(e.target?.value||""),yc=U('<input class="svelte-15lr19w"/>');function la(e,t){X(t,!0);let n=le(t,"value",15,"");var r=yc();r.__input=[wc,t],de(()=>xe(r,"placeholder",t.placeholder)),Sa("focus",r,function(...a){t.onFocus?.apply(this,a)}),il(r,n),p(e,r),J()}nt(["input"]);function _s(e,t){X(t,!0),Ee(()=>{const n=r=>{r.target&&t.dialog?.open&&t.dialogInner&&t.dialogInner!==r.target&&!t.dialogInner.contains(r.target)&&t.onClose()};return document.addEventListener("mousedown",n,{capture:!0}),()=>{document.removeEventListener("mousedown",n,{capture:!0})}}),J()}var Sc=U('<dialog><div class="dialogInner svelte-1x410nl"><!></div></dialog> <!>',1);function Da(e,t){X(t,!0);let n=F(null),r=F(null),a=F(!1),{showDialog:o,hideDialog:i}=ur();const l=f=>{f?.preventDefault();const _=setTimeout(()=>{t.onClosed()},150);s(n)?.addEventListener("transitionend",()=>{clearTimeout(_),t.onClosed()},{once:!0}),y(a,!1)};Le(()=>{t.startClose&&l()}),Ee(()=>(s(n)?.showModal(),s(n)?.getClientRects(),y(a,!0),s(n)?.addEventListener("cancel",l),s(n)?.addEventListener("close",l),()=>{s(n)?.removeEventListener("cancel",l),s(n)?.removeEventListener("close",l)})),Ee(()=>(o(),()=>{i()}));var c=Sc(),u=M(c),d=D(u),v=D(d);he(v,()=>t.children),Dt(d,f=>y(r,f),()=>s(r)),Dt(u,f=>y(n,f),()=>s(n));var h=H(u,2);{var g=f=>{_s(f,{get dialog(){return s(n)},get dialogInner(){return s(r)},onClose:l})};q(h,f=>{s(n)&&s(r)&&f(g)})}de(()=>me(u,1,pe(["dialog",{shown:s(a)}]),"svelte-1x410nl")),p(e,c),J()}var bc=U("<div><!></div>");function ps(e,t){X(t,!0);let n=F(!1),r=F(null);const a=()=>{const u=setTimeout(()=>{t.onClosed()},150);s(r)?.addEventListener("transitionend",()=>{clearTimeout(u),t.onClosed()},{once:!0}),y(n,!1)},o=u=>{u.target!==s(r)&&!s(r)?.contains(u.target)&&a()},i=u=>{u.target!==s(r)&&!s(r)?.contains(u.target)&&a()};Ee(()=>{s(r)?.getClientRects(),y(n,!0);const u=setTimeout(()=>{document.addEventListener("focusin",o),document.addEventListener("click",i)},0);return()=>{clearTimeout(u),document.removeEventListener("focusin",o),document.removeEventListener("click",i)}}),Le(()=>{t.startClose&&a()});var l=bc(),c=D(l);he(c,()=>t.children),Dt(l,u=>y(r,u),()=>s(r)),de(()=>me(l,1,pe(["menu",{top:t.positionTop,shown:s(n)}]),"svelte-ujw4xi")),p(e,l),J()}const kc=(e,t)=>{s(t)||y(t,!0)};var Cc=(e,t)=>t("newest"),Ec=(e,t)=>t("oldest"),Pc=(e,t)=>t("AtoZ"),xc=(e,t)=>t("ZtoA"),Dc=U("<div><button>Newest</button> <button>Oldest</button> <button>A to Z</button> <button>Z to A</button></div>"),Ac=U('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),Tc=U('<div class="orderMenu svelte-14zj87s"><button><!> <!></button> <!></div>');function Nc(e,t){X(t,!0);const n=(k,m=we)=>{var A=Dc(),B=D(A);B.__click=[Cc,d];var C=H(B,2);C.__click=[Ec,d];var T=H(C,2);T.__click=[Pc,d];var N=H(T,2);N.__click=[xc,d],de(()=>{me(A,1,pe(["menu",{menuDialog:m()}]),"svelte-14zj87s"),me(B,1,pe(["menuButton",{menuButtonDialog:m(),current:s(u)==="newest"}]),"svelte-14zj87s"),me(C,1,pe(["menuButton",{menuButtonDialog:m(),current:s(u)==="oldest"}]),"svelte-14zj87s"),me(T,1,pe(["menuButton",{menuButtonDialog:m(),current:s(u)==="AtoZ"}]),"svelte-14zj87s"),me(N,1,pe(["menuButton",{menuButtonDialog:m(),current:s(u)==="ZtoA"}]),"svelte-14zj87s")}),p(k,A)};let r=F(!1),a=F(!1);const{checkMobileSize:o}=Kn(),{getFeedOrder:i,setFeedOrder:l}=Xo();let c=I(o),u=I(i);const d=k=>{y(a,!0),l(k)},v=()=>{y(r,!1),y(a,!1)};Ee(()=>{const k=m=>{m.key==="Escape"&&y(a,!0)};return document.addEventListener("keydown",k),()=>document.removeEventListener("keydown",k)});var h=Tc(),g=D(h);g.__click=[kc,r],me(g,1,pe(["button","buttonMenu"]),"svelte-14zj87s");var f=D(g);be(f,{name:"filter"});var _=H(f,2);$e(_,{children:(k,m)=>{var A=Te("show feed order menu");p(k,A)}});var w=H(g,2);{var b=k=>{var m=z(),A=M(m);{var B=T=>{Da(T,{get startClose(){return s(a)},onClosed:v,children:(N,O)=>{n(N,()=>!0)},$$slots:{default:!0}})},C=T=>{var N=Ac(),O=M(N);ye(O,()=>({"--right":"20px","--top":"60px"})),ps(O.lastChild,{get startClose(){return s(a)},onClosed:v,children:(ee,ge)=>{n(ee,()=>!1)},$$slots:{default:!0}}),p(T,N)};q(A,T=>{s(c)?T(B):T(C,!1)})}p(k,m)};q(w,k=>{s(r)&&k(b)})}p(e,h),J()}nt(["click"]);var W=(e=>(e.NewNote="newNote",e.EditNote="editNote",e.Settings="settings",e.ImportData="importData",e.ExportData="exportData",e.ClearStore="clearStore",e.Account="account",e.Sync="sync",e.Start="start",e.Auth="auth",e.Signin="signin",e.Signup="signup",e.AccessKeys="accessKeys",e.ConfirmAccessKey="confirmAccessKey",e.Subscription="subscription",e.Exit="exit",e.NotFound="notFound",e.About="about",e.Bin="bin",e))(W||{}),Lc=U("<a><!></a>"),Bc=U("<button><!></button>");function Jt(e,t){let n=le(t,"type",3,"standard"),r=le(t,"typeButton",3,"button"),a=le(t,"element",3,"button"),o=le(t,"href",3,""),i=le(t,"fullWidth",3,!1),l=le(t,"withoutMinWidth",3,!1);var c=z(),u=M(c);{var d=h=>{var g=Lc();g.__click=function(..._){t.onClick?.apply(this,_)};var f=D(g);he(f,()=>t.children??we),de(()=>{xe(g,"href",o()),me(g,1,pe(["button","a",{dangerous:n()==="dangerous",secondary:n()==="secondary",fullWidth:i(),withoutMinWidth:l()}]),"svelte-aqjevc")}),p(h,g)},v=h=>{var g=Bc();g.__click=function(..._){t.onClick?.apply(this,_)};var f=D(g);he(f,()=>t.children??we),de(()=>{xe(g,"type",r()),me(g,1,pe(["button",{dangerous:n()==="dangerous",secondary:n()==="secondary",fullWidth:i(),withoutMinWidth:l()}]),"svelte-aqjevc")}),p(h,g)};q(u,h=>{a()==="a"?h(d):h(v,!1)})}p(e,c)}nt(["click"]);var Mc=U('<div class="block svelte-1dzbsx4"><span class="title svelte-1dzbsx4"> </span> <div class="controls svelte-1dzbsx4"><!> <!></div></div>');function ms(e,t){X(t,!0);let n=le(t,"buttonCancelTitle",3,"Cancel"),r=le(t,"buttonConfirmTitle",3,"Confirm"),a=F(!1),o=F(!1);const i=()=>{y(a,!0)},l=()=>{y(a,!0),y(o,!0)};Da(e,{get startClose(){return s(a)},onClosed:()=>{s(o)?t.onConfirm():t.onCancel()},children:(u,d)=>{var v=Mc(),h=D(v),g=D(h),f=H(h,2),_=D(f);Jt(_,{onClick:i,fullWidth:!0,withoutMinWidth:!0,type:"secondary",children:(b,k)=>{var m=Te();de(()=>Zt(m,n())),p(b,m)},$$slots:{default:!0}});var w=H(_,2);Jt(w,{onClick:l,fullWidth:!0,withoutMinWidth:!0,type:"dangerous",children:(b,k)=>{var m=Te();de(()=>Zt(m,r())),p(b,m)},$$slots:{default:!0}}),de(()=>Zt(g,t.title)),p(u,v)},$$slots:{default:!0}}),J()}const Ic=(e,t)=>{y(t,!0)};var Oc=U('<a class="link svelte-13t3afu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Notes</span></a>'),Rc=U('<a class="link svelte-13t3afu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Bin</span></a>'),Fc=U('<button class="emptyBinButton svelte-13t3afu" type="button">Empty bin</button>'),zc=U('<a class="buttonAdd svelte-13t3afu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Note</span></a>'),Hc=U('<div class="header svelte-13t3afu"><div class="top svelte-13t3afu"><div class="menu svelte-13t3afu"><a class="link svelte-13t3afu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Settings</span></a> <a class="link svelte-13t3afu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Sync</span></a> <!></div> <div class="mobile svelte-13t3afu"><!></div> <!></div> <div class="bottom svelte-13t3afu"><div><div class="sidebarSearchWrapper"><!></div></div> <div class="right svelte-13t3afu"><div class="filter svelte-13t3afu"><div class="feedSearchWrapper svelte-13t3afu"><!></div> <!></div></div></div></div> <!>',1);function Uc(e,t){X(t,!0);const{createHandlePage:n,getPageUrl:r}=Bt(),a=Wo(),o=Go(),{getScrollContainer:i}=Pa();let l=I(i);const{emptyBin:c,checkNotesInBin:u}=Hr(),{getAppHistory:d}=pt(),v=I(u),h=I(()=>d().pathname);let g=F(!1);const f=()=>{s(l)&&s(l).scrollTo({top:0,behavior:"smooth"})};var _=Hc(),w=M(_),b=D(w),k=D(b),m=D(k),A=I(()=>n(W.Settings));m.__click=function(...E){s(A)?.apply(this,E)};var B=D(m);ye(B,()=>({"--rotate":"30deg","--size":"20px"})),be(B.lastChild,{name:"settings"});var C=H(m,2),T=I(()=>n(W.Sync));C.__click=function(...E){s(T)?.apply(this,E)};var N=D(C);ye(N,()=>({"--size":"20px"})),be(N.lastChild,{name:"sync"});var O=H(C,2);{var ee=E=>{var j=Oc(),ie=I(()=>n("/",{full:!0}));j.__click=function(...ue){s(ie)?.apply(this,ue)};var $=D(j);ye($,()=>({"--size":"18px"})),be($.lastChild,{name:"note"}),de(ue=>xe(j,"href",ue),[()=>r("/",{full:!0})]),p(E,j)},ge=E=>{var j=z(),ie=M(j);{var $=ue=>{var oe=Rc(),De=I(()=>n(W.Bin,{full:!0}));oe.__click=function(...Ke){s(De)?.apply(this,Ke)};var Pe=D(oe);ye(Pe,()=>({"--size":"20px"})),be(Pe.lastChild,{name:"bin"}),de(Ke=>xe(oe,"href",Ke),[()=>r(W.Bin,{full:!0})]),p(ue,oe)};q(ie,ue=>{s(v)&&ue($)},!0)}p(E,j)};q(O,E=>{s(h)===`/${W.Bin}`?E(ee):E(ge,!1)})}var se=H(k,2),ne=D(se);gs(ne,{});var V=H(se,2);{var G=E=>{var j=z(),ie=M(j);{var $=ue=>{var oe=Fc();oe.__click=[Ic,g],p(ue,oe)};q(ie,ue=>{s(v)&&ue($)})}p(E,j)},re=E=>{var j=zc(),ie=I(()=>n(W.NewNote));j.__click=function(...ue){s(ie)?.apply(this,ue)};var $=D(j);ye($,()=>({"--size":"16px","--color":"#b0b0b0"})),be($.lastChild,{name:"plus"}),de(ue=>xe(j,"href",ue),[()=>r(W.NewNote)]),p(E,j)};q(V,E=>{s(h)===`/${W.Bin}`?E(G):E(re,!1)})}var R=H(b,2),te=D(R);me(te,1,pe(["left"]),"svelte-13t3afu");var Z=D(te),Y=D(Z);la(Y,{placeholder:"Search tag",get value(){return o.value},set value(E){o.value=E}});var K=H(te,2),Q=D(K),ve=D(Q),ke=D(ve);la(ke,{onFocus:f,placeholder:"Search",get value(){return a.value},set value(E){a.value=E}});var P=H(ve,2);Nc(P,{});var x=H(w,2);{var S=E=>{ms(E,{title:"Are you sure you want to empty the bin?",buttonConfirmTitle:"Empty",onConfirm:()=>{c(),y(g,!1)},onCancel:()=>{y(g,!1)}})};q(x,E=>{s(g)&&E(S)})}de((E,j)=>{xe(m,"href",E),xe(C,"href",j)},[()=>r(W.Settings),()=>r(W.Sync)]),p(e,_),J()}nt(["click"]);function jc(e,t){X(t,!0);const{getIsKeyboardVisible:n}=oc();let r=le(t,"dialog",7);const a=I(n),o=Yn();let i=null;const l=()=>{t.dialogState==="swiping"&&t.onClose()};Le(()=>(t.dialogState==="swiping"&&(i=setTimeout(l,3e3)),()=>{i&&(clearTimeout(i),i=null)}));let c=null,u=null;const d=3,v=50,h=5,g=.6,f=.3,_=.35,w=.95;let b=0,k=0,m=0,A=!1,B=!1,C=0,T=0,N=0;const O=()=>{b=0,k=0,A=!1,B=!1,C=0,T=0,N=0,m=0,c=null,u!==null&&(cancelAnimationFrame(u),u=null),i&&(clearTimeout(i),i=null)},ee=Z=>{r()&&t.dialogState==="opened"&&(b=Z.touches[0].clientX,k=Z.touches[0].clientY,m=performance.now(),A=!0,B=!1)},ge=Z=>t.dialogState==="opened"&&Z>0||t.dialogState==="swiping"&&Z>0,se=()=>{if(r()){r().style.setProperty("--transition-timing","0s"),t.onSwipe();try{const Z=window.getComputedStyle(r()),Y=Z.transform||Z.webkitTransform||"";if(T=r().offsetWidth,(t.dialogState==="swiping"||t.dialogState==="opened")&&(C=0),Y&&Y!=="none")try{C=new DOMMatrix(Y).m41}catch{}B=!0}catch{O()}}},ne=()=>{if(!r())return;const Y=Math.abs(C+N*T/100)/T;r().style.setProperty("--backdrop-bg",`rgba(0, 0, 0, ${.1*(1-Y)})`)},V=()=>{if(u=null,!c||!A||!r()||s(a)){O();return}const Z=[...c.touches].reduce((E,j)=>E+j.clientX,0)/c.touches.length,Y=[...c.touches].reduce((E,j)=>E+j.clientY,0)/c.touches.length,K=Z-b,Q=Y-k,ve=Math.abs(K)>Math.abs(Q),ke=Math.abs(K)>d;if(!B)if(ve&&ke&&ge(K))try{se()}catch{O();return}else return;let P=C+K*w;P=Math.max(0,Math.min(T,P)),!(P<0)&&(r().style.setProperty("--transition-timing","0s"),r().style.transform=`translate3d(${P}px, 0, 0)`,o.swipingRatio=Math.abs(1-P/T),N=(P-C)/T*100,t.dialogState==="swiping"&&(i&&clearTimeout(i),i=setTimeout(l,3e3)),ne())},G=Z=>{if(!A)return;c=Z,u===null&&(u=requestAnimationFrame(V));const Y=Z.touches[0].clientX-b,K=Z.touches[0].clientY-k,Q=Math.abs(Y)>Math.abs(K);B&&Q&&Z.preventDefault()},re=Z=>{const Y=Math.abs(Z);if(Y>=g)return h;if(Y>=f){const K=(Y-f)/(g-f);return v-K*(v-h)}else return v},R=(Z,Y)=>{if(Math.abs(Z)>=g)return _*.5;const Q=Math.abs(N)/100;return Y?_*Math.max(.5,1-Q):_*Math.max(.5,Q)},te=Z=>{if(u!==null&&(cancelAnimationFrame(u),u=null),!A||!r()){O();return}if(!B){O();return}let Y=0;if(Z?.changedTouches?.[0]){const P=Z.changedTouches[0].clientX,S=performance.now()-m;S>0&&(Y=(P-b)/S)}const K=re(Y);let Q=null;t.dialogState==="swiping"&&(Q=Math.abs(N)>K||Y<-f?"close":"open");const ve=t.dialogState==="swiping"&&Q==="close",ke=R(Y,ve);o.duration=ke-.02,r().style.setProperty("--transition-timing",`${ke}s`),r().offsetWidth,r().style.transform="",Q==="open"?t.onOpen():Q==="close"&&t.onClose(),r()?.style.removeProperty("--backdrop-bg"),O()};Ee(()=>(r().addEventListener("touchstart",ee,{passive:!0}),r().addEventListener("touchmove",G,{passive:!1}),r().addEventListener("touchend",te,{passive:!0}),r().addEventListener("touchcancel",te,{passive:!0}),()=>{r().removeEventListener("touchstart",ee),r().removeEventListener("touchmove",G),r().removeEventListener("touchend",te),r().removeEventListener("touchcancel",te),u!==null&&cancelAnimationFrame(u)})),J()}var Vc=(e,t)=>{t.onStartClose()},qc=U('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),Wc=U('<dialog><div class="dialogInner svelte-vr2o0t"><div class="header svelte-vr2o0t"><div><!></div></div> <!></div></dialog> <!>',1);function Yc(e,t){X(t,!0);let n=350;const{isScrolling:r,enable:a}=ls();let o=F(null),i=F(null);const l=Yn(),c=C=>{C.preventDefault(),t.onStartClose()};Ee(()=>(s(o)?.addEventListener("close",t.onClosed),s(o)?.addEventListener("cancel",c),()=>{s(o)?.removeEventListener("close",t.onClosed),s(o)?.removeEventListener("cancel",c)}));const u=()=>{s(o)?.style.removeProperty("--transition-timing"),s(o)?.style.removeProperty("transform"),s(o)?.style.removeProperty("--backdrop-bg")},d=()=>{a()},v=I(r);Le(()=>{if(t.dialogState,!!s(o))switch(t.dialogState){case"opening":{s(o).open||s(o).showModal(),s(o).getBoundingClientRect();const C=setTimeout(()=>{u()},n+1),T=()=>{clearTimeout(C),u()};return s(o)?.addEventListener("transitionend",T,{once:!0}),t.onOpened(),()=>{clearTimeout(C),s(o)?.removeEventListener("transitionend",T)}}case"closing":{const C=setTimeout(()=>{t.dialogState==="closing"&&t.onClosed()},n+1),T=()=>{clearTimeout(C),t.onClosed()};return s(o)?.addEventListener("transitionend",T,{once:!0}),()=>{clearTimeout(C),s(o)?.removeEventListener("transitionend",T)}}case"opened":u()}});var h=Wc(),g=M(h),f=D(g),_=D(f),w=D(_),b=D(w);{var k=C=>{var T=qc();me(T,1,pe(["navigateButton","buttonBack"]),"svelte-vr2o0t"),T.__click=[Vc,t];var N=D(T);ye(N,()=>({"--size":"36px"})),be(N.lastChild,{name:"back"});var O=H(N,2);$e(O,{children:(ee,ge)=>{var se=Te("back");p(ee,se)}}),p(C,T)};q(b,C=>{(!(t.blocked||t.hidden)||t.blocked&&t.unBlockedBack)&&C(k)})}var m=H(_,2);he(m,()=>t.children),Dt(f,C=>y(i,C),()=>s(i)),Dt(g,C=>y(o,C),()=>s(o));var A=H(g,2);{var B=C=>{jc(C,{get onClose(){return t.onStartClose},get onOpen(){return t.onStartOpen},get onSwipe(){return t.onSwipe},get dialogState(){return t.dialogState},get dialog(){return s(o)}})};q(A,C=>{(!s(v)&&t.dialogState==="opened"||t.dialogState==="swiping")&&(!t.blocked||t.unBlockedBack)&&C(B)})}de(()=>me(g,1,pe([{open:t.dialogState==="opened",hidden:t.hidden,isAnimationOn:l.working&&(!l.isSwiping||!t.hidden)},{hidden:t.hidden}]),"svelte-vr2o0t")),Sa("scroll",f,d),p(e,h),J()}nt(["click"]);const Ka=(e,t)=>{if(!t)return e;if(t.type==="closed")return{type:"closed"};switch(e.type){case"opened":return t.type==="close"?{type:"closing"}:t.type==="swipe"?{type:"swiping"}:e;case"closed":return t.type==="open"?{type:"opening"}:e;case"swiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"opening":return t.type==="opened"?{type:"opened"}:e;default:return e}};function Kc(e,t){X(t,!0);let n=le(t,"blocked",3,!1),r=le(t,"hiddenDialog",3,!1),a=le(t,"unBlockedBack",3,!1),o=le(t,"onStartClose",3,()=>{}),i=le(t,"onClose",3,()=>{});const l=Yn();let c=F(Oe(Ka({type:"closed"})));const u=m=>{y(c,Ka(s(c),m),!0)},d=()=>{n()&&!a()||(o()(),u({type:"close"}))},v=()=>{u({type:"open"})},h=()=>{u({type:"opened"}),l.swipingRatio=1,l.duration=.2},g=()=>{i()(),u({type:"closed"}),l.swipingRatio=1,l.duration=.2},f=()=>{u({type:"swipe"})};Le(()=>{s(c).type==="swiping"?l.isSwiping=!0:l.isSwiping=!1,s(c).type==="closed"&&t.shownDialog?v():s(c).type==="opened"&&!t.shownDialog&&d()});var _={handleComputeState:u},w=z(),b=M(w);{var k=m=>{Yc(m,{onSwipe:f,onOpened:h,onClosed:g,onStartClose:d,onStartOpen:v,get dialogState(){return s(c).type},get hidden(){return r()},get blocked(){return n()},get unBlockedBack(){return a()},children:(A,B)=>{var C=z(),T=M(C);he(T,()=>t.children),p(A,C)},$$slots:{default:!0}})};q(b,m=>{s(c).type!=="closed"&&m(k)})}return p(e,w),J(_)}const Gc=({getDialog:e,onOpen:t,onStartClose:n,onClose:r})=>{const a=i=>{i.preventDefault(),n()},o=()=>{r?.()};Ee(()=>{const i=e();return i?.addEventListener("cancel",a),i?.addEventListener("close",o),()=>{i?.removeEventListener("cancel",a),i?.removeEventListener("close",o)}}),Ee(()=>{const i=e();i?.showModal(),i?.getBoundingClientRect(),t()})};var Zc=(e,t)=>{t.onStartBack()},Xc=U('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),Jc=(e,t)=>{t.onStartClose()},Qc=U('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),$c=U('<dialog><div class="dialogInner svelte-rt409n"><div class="header svelte-rt409n"><div><!></div> <div><!></div></div> <!></div></dialog> <!>',1);function eu(e,t){X(t,!0);let n=le(t,"blockedDialog",3,!1),r=le(t,"hiddenDialog",3,!1),a=le(t,"isDesktopAnimationOff",3,!1),o=F(null),i=F(null);Gc({getDialog:()=>s(o),onOpen:t.onOpen,onStartClose:t.onStartClose,onClose:t.onClose});const l=Yn();Le(()=>{t.stateDialog==="closing"&&(l.working?s(o)?.addEventListener("transitionend",()=>{s(o)?.close()},{once:!0}):s(o)?.close())});const{getDialogPageHeight:c}=xa(),u=I(c);var d=$c(),v=M(d),h=D(v),g=D(h),f=D(g),_=D(f);{var w=C=>{var T=Xc();me(T,1,pe(["navigateButton","buttonBack"]),"svelte-rt409n"),T.__click=[Zc,t];var N=D(T);ye(N,()=>({"--size":"28px"})),be(N.lastChild,{name:"back"});var O=H(N,2);$e(O,{children:(ee,ge)=>{var se=Te("back");p(ee,se)}}),p(C,T)};q(_,C=>{(!(n()||r())||n()&&t.unBlockedBack)&&t.onStartBack&&C(w)})}var b=H(f,2),k=D(b);{var m=C=>{var T=Qc();me(T,1,pe(["navigateButton","buttonClose"]),"svelte-rt409n"),T.__click=[Jc,t];var N=D(T);ye(N,()=>({"--size":"28px"})),be(N.lastChild,{name:"close"});var O=H(N,2);$e(O,{children:(ee,ge)=>{var se=Te("close");p(ee,se)}}),p(C,T)};q(k,C=>{n()||r()||C(m)})}var A=H(g,2);he(A,()=>t.children),Dt(h,C=>y(i,C),()=>s(i)),Dt(v,C=>y(o,C),()=>s(o));var B=H(v,2);_s(B,{get dialog(){return s(o)},get dialogInner(){return s(i)},get onClose(){return t.onStartClose}}),de(()=>{zn(v,`height: ${s(u)+74}px`),me(v,1,pe([{open:t.stateDialog==="open",isAnimationOn:l.working,isDesktopAnimationOff:a(),hiddenDialog:r()}]),"svelte-rt409n")}),p(e,d),J()}nt(["click"]);const tu=({onStartClose:e,onClose:t})=>{let n=F("close");return{get state(){return s(n)},set state(i){y(n,i,!0)},handleStartClose:(i=!1)=>{i||(y(n,"closing"),e?.())},handleOpen:()=>{y(n,"open")},handleClose:()=>{y(n,"close"),t?.()}}};function nu(e,t){X(t,!0);let n=le(t,"blockedDialog",3,!1),r=le(t,"hiddenDialog",3,!1),a=le(t,"onStartClose",3,()=>{}),o=le(t,"onClose",3,()=>{}),i=tu({onStartClose:a(),onClose:o()});Le(()=>{i.state==="close"&&t.shownDialog?i.state="opening":i.state==="open"&&!t.shownDialog&&i.handleStartClose(n())});const l=v=>{v.key==="Escape"&&(document.activeElement instanceof HTMLInputElement&&document.activeElement.type==="text"||document.activeElement instanceof HTMLTextAreaElement||n())&&(v.preventDefault(),v.stopPropagation())};Ee(()=>(document.addEventListener("keydown",l),()=>{document.removeEventListener("keydown",l)}));var c=z(),u=M(c);{var d=v=>{eu(v,{get stateDialog(){return i.state},get blockedDialog(){return n()},get unBlockedBack(){return t.unBlockedBack},get hiddenDialog(){return r()},get onOpen(){return i.handleOpen},get onStartBack(){return t.onStartBack},onStartClose:()=>{i.handleStartClose(n())},get onClose(){return i.handleClose},children:(h,g)=>{var f=z(),_=M(f);he(_,()=>t.children),p(h,f)},$$slots:{default:!0}})};q(u,v=>{i.state!=="close"&&v(d)})}p(e,c),J()}function ru(e,t){X(t,!0);let n=le(t,"blockedDialog",3,!1),r=le(t,"hiddenDialog",3,!1),a=le(t,"isLastDialog",3,!1),o=le(t,"onStartClose",3,()=>{}),i=le(t,"onClose",3,()=>{});const l=I(()=>a()?void 0:t.onStartBack),{showDialog:c,hideDialog:u}=ur();Ee(()=>(c(),()=>{u()}));const{checkMobileSize:d}=Kn();var v=z(),h=M(v);{var g=_=>{Kc(_,{get shownDialog(){return t.shownDialog},get blocked(){return n()},get unBlockedBack(){return t.unBlockedBack},get hiddenDialog(){return r()},get children(){return t.children},get onStartClose(){return t.onStartBack},get onClose(){return i()}})},f=_=>{nu(_,{get shownDialog(){return t.shownDialog},get blockedDialog(){return n()},get unBlockedBack(){return t.unBlockedBack},get hiddenDialog(){return r()},get children(){return t.children},get onStartBack(){return s(l)},get onStartClose(){return o()},get onClose(){return i()}})};q(h,_=>{d()?_(g):_(f,!1)})}p(e,v),J()}function Ga(e,t){X(t,!0);const{back:n,closeDialogStack:r}=pt(),{popStackPages:a}=Bt();let o=le(t,"blocked",3,!1),i=le(t,"isLastDialog",3,!1),l=le(t,"onBack",3,()=>{});const{checkBlockedDialog:c,checkUnBlockedBackDialog:u}=ur(),d=I(()=>o()||t.hidden||c()),v=I(()=>u()&&!i());ru(e,{get shownDialog(){return t.shown},get blockedDialog(){return s(d)},get unBlockedBack(){return s(v)},get hiddenDialog(){return t.hidden},get isLastDialog(){return i()},onStartBack:()=>{(!s(d)||s(d)&&s(v))&&t.shown&&(n(),l()())},onStartClose:()=>{(!s(d)||s(d)&&s(v))&&t.shown&&r()},onClose:()=>{a()},children:(_,w)=>{var b=z(),k=M(b);he(k,()=>t.children),p(_,b)},$$slots:{default:!0}}),J()}var au=U('<h1 class="svelte-1ky72l5"><!></h1>');function ou(e,t){var n=au(),r=D(n);he(r,()=>t.children),p(e,n)}var su=U('<div class="block svelte-ujk4k"><!> <div class="container svelte-ujk4k"><!> <!></div></div>');function iu(e,t){X(t,!0);const{blockDialog:n}=ur(),{pushStackPages:r}=Bt(),{closeDialogStack:a}=pt(),{initLocalAccount:o}=Ea();let i=F("idle");const l=()=>{y(i,"loading"),r(W.Auth)},c=async()=>{y(i,"loading"),Sl(),await o(),n(!1),a()};Le(()=>{n(s(i)==="idle"||s(i)==="loading")}),Ee(()=>(n(!0),()=>{n(!1)}));var u=su(),d=D(u);ou(d,{children:(f,_)=>{var w=Te("use app");p(f,w)}});var v=H(d,2),h=D(v);Jt(h,{onClick:l,fullWidth:!0,children:(f,_)=>{var w=Te("cloud account");p(f,w)},$$slots:{default:!0}});var g=H(h,2);Jt(g,{onClick:c,fullWidth:!0,type:"secondary",children:(f,_)=>{var w=Te("without account");p(f,w)},$$slots:{default:!0}}),p(e,u),J()}var lu=U('<div class="svelte-1x9a4ve"><!></div>');function Ie(e,t){X(t,!0);const{setDialogPageHeight:n}=xa();let r=F(null);Ee(()=>{s(r)&&(s(r).getBoundingClientRect(),s(r).style.opacity="1");const i=new ResizeObserver(l=>{for(let c of l){const u=c.contentRect.height;n(u)}});if(s(r))return i.observe(s(r)),()=>{s(r)&&i.unobserve(s(r)),i.disconnect()}});var a=lu(),o=D(a);he(o,()=>t.children),Dt(a,i=>y(r,i),()=>s(r)),p(e,a),J()}var cu=U('<div class="svelte-stjbkr"><p class="svelte-stjbkr">Page not found</p> <!></div>');function uu(e,t){X(t,!1);const{navigate:n}=pt(),r=i=>{i.preventDefault(),n("/")};Vo();var a=cu(),o=H(D(a),2);Jt(o,{element:"a",href:"/",onClick:r,children:(i,l)=>{var c=Te("close");p(i,c)},$$slots:{default:!0}}),p(e,a),J()}const du="modulepreload",fu=function(e){return"/"+e},Za={},Fe=function(t,n,r){let a=Promise.resolve();if(n&&n.length>0){let c=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=i?.nonce||i?.getAttribute("nonce");a=c(n.map(u=>{if(u=fu(u),u in Za)return;Za[u]=!0;const d=u.endsWith(".css"),v=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${v}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":du,d||(h.as="script"),h.crossOrigin="",h.href=u,l&&h.setAttribute("nonce",l),document.head.appendChild(h),d)return new Promise((g,f)=>{h.addEventListener("load",g),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${u}`)))})}))}function o(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return a.then(i=>{for(const l of i||[])l.status==="rejected"&&o(l.reason);return t().catch(o)})};var vu=U('<div class="svelte-10xfz1h"><p class="svelte-10xfz1h">Something went wrong. Please reload the page</p> <!></div>');function hu(e){var t=vu(),n=H(D(t),2);Jt(n,{onClick:()=>location.reload(),children:(r,a)=>{var o=Te("Reload");p(r,o)},$$slots:{default:!0}}),p(e,t)}var gu=U('<div><!> <div class="loader svelte-m0sno1"></div></div>');function ws(e,t){X(t,!0);let n=F(!1);Ee(()=>{const o=setTimeout(()=>{y(n,!0)},200);return()=>{clearTimeout(o)}});var r=gu(),a=D(r);he(a,()=>t.children??we),de(()=>me(r,1,pe(["block",{shown:s(n)}]),"svelte-m0sno1")),p(e,r),J()}var _u=U('<div class="svelte-1mu1b44"><!></div>');function pu(e,t){X(t,!0);const{getDialogPageHeight:n}=xa(),r=I(n);var a=_u(),o=D(a);ws(o,{}),de(()=>zn(a,`min-height: ${s(r)??""}px;`)),p(e,a),J()}function He(e,t){X(t,!0);const n={},r=Object.assign({"./Pages/About.svelte":()=>Fe(()=>import("./m7dQe_0r.js"),__vite__mapDeps([0,1])),"./Pages/AccessKeys.svelte":()=>Fe(()=>import("./D34-AUUB.js"),__vite__mapDeps([2,3,4,5])),"./Pages/Account.svelte":()=>Fe(()=>import("./CVta63HO.js"),__vite__mapDeps([6,3,7])),"./Pages/Auth.svelte":()=>Fe(()=>import("./CYh6XO_h.js"),__vite__mapDeps([8,9])),"./Pages/ClearStore.svelte":()=>Fe(()=>import("./GnTXvIM6.js"),__vite__mapDeps([10,11])),"./Pages/ConfirmAccessKey.svelte":()=>Fe(()=>import("./SoQvdXpz.js"),__vite__mapDeps([12,4,3,13,14,15,16])),"./Pages/EditNote.svelte":()=>Fe(()=>import("./CEN1mWCE.js"),__vite__mapDeps([17,18,14,15,19,20])),"./Pages/Exit.svelte":()=>Fe(()=>import("./DNoKeP4r.js"),__vite__mapDeps([21,22])),"./Pages/ExportData.svelte":()=>Fe(()=>import("./D_37YdKA.js"),__vite__mapDeps([23,24])),"./Pages/ImportData.svelte":()=>Fe(()=>import("./Bu3T2B_p.js"),__vite__mapDeps([25,26])),"./Pages/NewNote.svelte":()=>Fe(()=>import("./hcfp4qdb.js"),__vite__mapDeps([27,18,14,15,19])),"./Pages/Settings.svelte":()=>Fe(()=>import("./KyY-3iMw.js"),__vite__mapDeps([28,29])),"./Pages/Signin.svelte":()=>Fe(()=>import("./fGbRVyev.js"),__vite__mapDeps([30,4,3,13,31])),"./Pages/Signup.svelte":()=>Fe(()=>import("./C8TXdi0X.js"),__vite__mapDeps([32,13,4,3,33])),"./Pages/Subscription.svelte":()=>Fe(()=>import("./BraXb98o.js"),__vite__mapDeps([34,35])),"./Pages/Sync.svelte":()=>Fe(()=>import("./Ckg7onTR.js"),__vite__mapDeps([36,37]))}),a=async l=>{const c=`./Pages/${l[0].toUpperCase()+l.slice(1)}.svelte`;if(!n[l]){if(r[c]){const u=r[c]();return n[l]={promise:u},n[l].module=await u,n[l].module}throw new Error(`Page ${l} not found`)}return n[l].module||await n[l].promise};var o=z(),i=M(o);Fo(i,()=>a(t.page),l=>{pu(l,{})},(l,c)=>{const u=I(()=>s(c).default);var d=z(),v=M(d);Uo(v,()=>s(u),(h,g)=>{g(h,{get params(){return t.params},get hidden(){return t.hidden}})}),p(l,d)},l=>{hu(l)}),p(e,o),J()}var mu=U('<button> <svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></button>');function ys(e,t){let n=I(()=>t.style==="selected"?"45deg":"0deg");var r=mu();r.__click=function(...i){t.onClick?.apply(this,i)};var a=D(r),o=H(a);ye(o,()=>({"--size":t.size==="small"?"10px":"12px","--rotate":s(n)})),be(o.lastChild,{name:"plus"}),de(()=>{xe(r,"type",t.type),me(r,1,pe([{selectedTag:t.style==="selected",small:t.size==="small"}]),"svelte-uu8a24"),Zt(a,`${t.title??""} `)}),p(e,r)}nt(["click"]);var wu=U("<div></div>");function Xa(e,t){X(t,!0);let n=le(t,"mobile",3,!1);var r=wu();Fr(r,20,()=>t.tags,a=>a,(a,o)=>{ys(a,{get title(){return o},onClick:()=>t.handleTagClick(o)})}),de(()=>me(r,1,pe(["tags",{mobile:n()}]),"svelte-1c53r32")),p(e,r),J()}var yu=U("<div></div>");function Ja(e,t){X(t,!0);var n=z(),r=M(n);{var a=o=>{var i=yu();me(i,1,pe(["tags","selectedTags"]),"svelte-58z9m1"),Fr(i,20,()=>t.selectedTags,l=>l,(l,c)=>{ys(l,{get title(){return c},onClick:()=>t.handleSelectedTagClick(c),style:"selected"})}),p(o,i)};q(r,o=>{t.selectedTags.size>0&&o(a)})}p(e,n),J()}var Su=(e,t,n)=>{t(),n("/",{full:!0})(e)},bu=U('<a class="link svelte-ltt61h"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a>'),ku=(e,t,n)=>{t(),n(W.Bin,{full:!0})(e)},Cu=U('<a class="link svelte-ltt61h"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a>'),Eu=U('<div class="sidebarFixed svelte-ltt61h"><div class="nav svelte-ltt61h"><!> <div class="menu svelte-ltt61h"><a class="link svelte-ltt61h"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a> <a class="link svelte-ltt61h"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a> <!></div></div> <div class="searchWrapper svelte-ltt61h"><!></div> <!></div> <!>',1),Pu=U('<div class="sidebar svelte-ltt61h"><div class="sidebarFixed svelte-ltt61h"><!></div> <!></div>');function xu(e,t){X(t,!0);const{checkMobileSize:n}=Kn(),{sidebarClose:r}=ka(),{getAppHistory:a}=pt(),{getPageUrl:o,createHandlePage:i,getStackPagesFormUrl:l}=Bt(),c=Go(),u=I(()=>a().pathname),{getSelectedTags:d,addTag:v,removeTag:h}=$o();let g=I(d);const{checkNotesInBin:f}=Hr();let _=le(t,"getNotes",3,()=>[]),w=le(t,"mode",3,"notes"),b=null;function k(){return b||(b=Fe(()=>import("./CkO7iKCo.js"),__vite__mapDeps([38,39]))),b}const m=V=>{v(V)},A=V=>{h(V)},B=()=>{if(s(g).has("inbox"))return[];const V=[],G=Array.from(s(g).values());for(const re of _()()||[])if(re.data&&!(re.data.deletedAt&&w()==="notes")&&!(!re.data.deletedAt&&w()==="bin")){if(s(g).size===0){for(const R of re?.data?.tags||[])V.includes(R)||V.push(R);for(const R of re?.data?.draft?.tags||[])V.includes(R)||V.push(R);continue}if(re.data&&G.every(R=>re.data?.tags.includes(R)))for(const R of re.data.tags)!s(g).has(R)&&!V.includes(R)&&V.push(R);if(re&&re.data.draft&&G.every(R=>re.data?.draft?.tags.includes(R)))for(const R of re.data.draft.tags)!s(g).has(R)&&!V.includes(R)&&V.push(R)}return V};let C=I(()=>B().filter(V=>c.value===""||V.toLowerCase().indexOf(c.value.toLowerCase())!==-1).sort((V,G)=>V==="inbox"?-1:G==="inbox"?1:V.localeCompare(G))),T=I(n);Ee(()=>{s(T)&&k()});const{checkExistedDialog:N}=ur();let O=I(()=>l().length>0||N());var ee=z(),ge=M(ee);{var se=V=>{var G=z(),re=M(G);Fo(re,k,null,(R,te)=>{const Z=I(()=>s(te).default);var Y=z(),K=M(Y);Uo(K,()=>s(Z),(Q,ve)=>{ve(Q,{get blocked(){return s(O)},children:(ke,P)=>{var x=Eu(),S=M(x),E=D(S),j=D(E);gs(j,{});var ie=H(j,2),$=D(ie),ue=I(()=>i(W.Settings));$.__click=function(...Ae){s(ue)?.apply(this,Ae)};var oe=D($);ye(oe,()=>({"--size":"24px"})),be(oe.lastChild,{name:"settings"});var De=H(oe,2);$e(De,{children:(Ae,Je)=>{var ze=Te("Settings");p(Ae,ze)}});var Pe=H($,2),Ke=I(()=>i(W.Sync));Pe.__click=function(...Ae){s(Ke)?.apply(this,Ae)};var rt=D(Pe);ye(rt,()=>({"--size":"24px"})),be(rt.lastChild,{name:"sync"});var Ge=H(rt,2);$e(Ge,{children:(Ae,Je)=>{var ze=Te("Sync");p(Ae,ze)}});var at=H(Pe,2);{var mt=Ae=>{var Je=bu();Je.__click=[Su,r,i];var ze=D(Je);ye(ze,()=>({"--size":"24px"})),be(ze.lastChild,{name:"note"});var Ot=H(ze,2);$e(Ot,{children:(wt,tn)=>{var nn=Te("Notes");p(wt,nn)}}),de(wt=>xe(Je,"href",wt),[()=>o("/",{full:!0})]),p(Ae,Je)},ft=Ae=>{var Je=z(),ze=M(Je);{var Ot=wt=>{var tn=Cu();tn.__click=[ku,r,i];var nn=D(tn);ye(nn,()=>({"--size":"24px"})),be(nn.lastChild,{name:"bin"});var Rt=H(nn,2);$e(Rt,{children:(Ft,Ur)=>{var jr=Te("Bin");p(Ft,jr)}}),de(Ft=>xe(tn,"href",Ft),[()=>o(W.Bin,{full:!0})]),p(wt,tn)};q(ze,wt=>{f()&&wt(Ot)},!0)}p(Ae,Je)};q(at,Ae=>{s(u)===`/${W.Bin}`?Ae(mt):Ae(ft,!1)})}var ot=H(E,2),It=D(ot);la(It,{placeholder:"Search tag",get value(){return c.value},set value(Ae){c.value=Ae}});var bn=H(ot,2);Ja(bn,{get selectedTags(){return s(g)},handleSelectedTagClick:A});var dr=H(S,2);Xa(dr,{get tags(){return s(C)},handleTagClick:m,mobile:!0}),de((Ae,Je)=>{xe($,"href",Ae),xe(Pe,"href",Je)},[()=>o(W.Settings),()=>o(W.Sync)]),p(ke,x)},$$slots:{default:!0}})}),p(R,Y)}),p(V,G)},ne=V=>{var G=Pu(),re=D(G),R=D(re);Ja(R,{get selectedTags(){return s(g)},handleSelectedTagClick:A});var te=H(re,2);Xa(te,{get tags(){return s(C)},handleTagClick:m}),p(V,G)};q(ge,V=>{s(T)?V(se):V(ne,!1)})}p(e,ee),J()}nt(["click"]);const Du=(e,t,n,r)=>{t.noteData.pinnedAt?(n(t.noteId,!1),gn("Note unpinned",{onCancel:()=>{n(t.noteId,!0)}})):(n(t.noteId,!0),gn("Note pinned",{onCancel:()=>{n(t.noteId,!1)}})),y(r,!0)},Au=(e,t,n)=>{navigator.clipboard.writeText(t.noteData.url),gn("Link copied"),y(n,!0)};var Tu=U('<li class="svelte-8ve3pe"><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>Copy link</button></li>'),Nu=(e,t,n)=>{y(t,!0),y(n,!0)},Lu=U('<li class="svelte-8ve3pe"><button><span class="wrapperIcon svelte-8ve3pe"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></span>Delete</button></li>'),Bu=(e,t,n)=>{y(t,!0),y(n,!0)},Mu=(e,t,n)=>{y(t,!0),y(n,!0)},Iu=U('<li class="svelte-8ve3pe"><button><span class="wrapperIcon svelte-8ve3pe"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></span>Restore</button></li> <li class="svelte-8ve3pe"><button><span class="wrapperIcon svelte-8ve3pe"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></span>Delete from bin</button></li>',1),Ou=U('<ul class="menu svelte-8ve3pe"><!> <li class="svelte-8ve3pe"><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> </button></li> <!></ul>'),Ru=U('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),Fu=U("<!> <!>",1);function zu(e,t){X(t,!0);const n=(N,O=we)=>{var ee=Ou(),ge=D(ee);{var se=Y=>{var K=Tu(),Q=D(K);Q.__click=[Au,t,u];var ve=D(Q);ye(ve,()=>({"--size":"22px"})),be(ve.lastChild,{name:"copy"}),de(()=>me(Q,1,pe(["button",{buttonMenuDialog:O()}]),"svelte-8ve3pe")),p(Y,K)};q(ge,Y=>{O()&&t.noteData.url&&Y(se)})}var ne=H(ge,2),V=D(ne);V.__click=[Du,t,o,u];var G=D(V);{let Y=I(()=>t.noteData.pinnedAt?"pin-cancel":"pin");ye(G,()=>({"--size":"22px"})),be(G.lastChild,{get name(){return s(Y)}})}var re=H(G),R=H(ne,2);{var te=Y=>{var K=Lu(),Q=D(K);Q.__click=[Nu,d,u];var ve=D(Q),ke=D(ve);ye(ke,()=>({"--size":"18px"})),be(ke.lastChild,{name:"bin"}),de(()=>me(Q,1,pe(["button",{buttonMenuDialog:O()}]),"svelte-8ve3pe")),p(Y,K)},Z=Y=>{var K=Iu(),Q=M(K),ve=D(Q);ve.__click=[Bu,v,u];var ke=D(ve),P=D(ke);ye(P,()=>({"--size":"18px"})),be(P.lastChild,{name:"bin-cancel"});var x=H(Q,2),S=D(x);S.__click=[Mu,h,u];var E=D(S),j=D(E);ye(j,()=>({"--size":"18px"})),be(j.lastChild,{name:"bin"}),de(()=>{me(ve,1,pe(["button",{buttonMenuDialog:O()}]),"svelte-8ve3pe"),me(S,1,pe(["button",{buttonMenuDialog:O()}]),"svelte-8ve3pe")}),p(Y,K)};q(R,Y=>{l()==="notes"?Y(te):Y(Z,!1)})}de(()=>{me(V,1,pe(["button",{buttonMenuDialog:O()}]),"svelte-8ve3pe"),Zt(re,` ${t.noteData.pinnedAt?"Unpin":"Pin"}`)}),p(N,ee)},{moveNoteToBin:r,deleteNote:a,pinNote:o,restoreNoteFromBin:i}=Hr();let l=le(t,"mode",3,"notes"),c=le(t,"shownMenu",15),u=F(!1),d=F(!1),v=F(!1),h=F(!1);const{checkMobileSize:g}=Kn();let f=I(g);const _=()=>{a(t.noteId),gn("Draft deleted")},w=async()=>{r(t.noteId),gn("Note moved to bin",{onCancel:()=>{i(t.noteId)}})},b=()=>{i(t.noteId),gn("Note restored from bin",{onCancel:()=>{r(t.noteId)}})},k=()=>{s(d)?(y(d,!1),t.noteData.type==="draft"?_():w()):s(v)&&(y(v,!1),b()),c(!1),y(u,!1)};var m=Fu(),A=M(m);{var B=N=>{var O=z(),ee=M(O);{var ge=ne=>{Da(ne,{get startClose(){return s(u)},onClosed:k,children:(V,G)=>{n(V,()=>!0)},$$slots:{default:!0}})},se=ne=>{var V=Ru(),G=M(V);ye(G,()=>({"--bottom":"-90px","--right":"20px"})),ps(G.lastChild,{get startClose(){return s(u)},get positionTop(){return t.showMenuUp},onClosed:k,children:(re,R)=>{n(re,()=>!1)},$$slots:{default:!0}}),p(ne,V)};q(ee,ne=>{s(f)?ne(ge):ne(se,!1)})}p(N,O)};q(A,N=>{c()&&N(B)})}var C=H(A,2);{var T=N=>{ms(N,{title:"Are you sure you want to delete this note?",buttonConfirmTitle:"Delete",onConfirm:()=>{a(t.noteId),y(h,!1)},onCancel:()=>{y(h,!1)}})};q(C,N=>{s(h)&&N(T)})}p(e,m),J()}nt(["click"]);const Hu=(e,t)=>{y(t,!0)},Uu=(e,t,n)=>{navigator.clipboard.writeText(t.noteData.url),gn("Link copied"),y(n,!1)},ju=(e,t)=>{y(t,!0)},Vu=(e,t)=>{y(t,!1)},qu=(e,t,n,r)=>{e.preventDefault(),t.noteData.type==="draft"?n(`${W.NewNote}`):n(`${W.EditNote}?id=${t.noteId}`),y(r,!1)};var Wu=U('<div class="iconPlaceholder svelte-1jg44o9"></div>'),Yu=U('<img loading="lazy" class="noteIcon" height="16" width="16" alt=""/>'),Ku=U('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),Gu=U('<div class="noteIconWrapper svelte-1jg44o9"><!></div>'),Zu=U('<button class="button svelte-1jg44o9"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),Xu=(e,t)=>{y(t,!1)},Ju=U('<!> <a target="_blank" rel="noopener noreferrer" class="button openLink svelte-1jg44o9"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a>',1),Qu=U('<li><!> <a class="noteLink svelte-1jg44o9" target="_blank" rel="noopener noreferrer"> </a> <div><!> <button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button></div> <!></li>');function $u(e,t){X(t,!0);const{pushStackPages:n}=Bt(),{getFaviconEnabled:r}=Pl();let a=le(t,"mode",3,"notes"),o=F(!1),i=F(!1),l=F(!1),c=I(r);const{checkMobileSize:u}=Kn(),d=N=>{try{return`https://icons.duckduckgo.com/ip3/${new URL(N).host}.ico`}catch{return""}},v=t.noteData.url||t.noteData.draft?.url||"";var h=Qu();h.__focusin=[ju,i],h.__focusout=[Vu,i];var g=D(h);{var f=N=>{var O=Gu(),ee=D(O);{var ge=ne=>{var V=z(),G=M(V);{var re=te=>{var Z=Wu();p(te,Z)},R=te=>{var Z=Yu();de(Y=>xe(Z,"src",Y),[()=>d(v)]),Sa("error",Z,()=>{y(l,!0)}),p(te,Z)};q(G,te=>{s(l)?te(re):te(R,!1)})}p(ne,V)},se=ne=>{var V=Ku(),G=M(V);ye(G,()=>({"--size":"16px"})),be(G.lastChild,{name:"note"}),p(ne,V)};q(ee,ne=>{v?ne(ge):ne(se,!1)})}p(N,O)};q(g,N=>{s(c)&&N(f)})}var _=H(g,2);_.__click=[qu,t,n,i];var w=D(_),b=H(_,2),k=D(b);{var m=N=>{var O=Ju(),ee=M(O);{var ge=G=>{var re=Zu();re.__click=[Uu,t,i];var R=D(re);ye(R,()=>({"--size":"20px"})),be(R.lastChild,{name:"copy"});var te=H(R,2);$e(te,{children:(Z,Y)=>{var K=Te("copy link");p(Z,K)}}),de(()=>xe(re,"tabindex",t.focusHidden?-1:0)),p(G,re)};q(ee,G=>{u()||G(ge)})}var se=H(ee,2);se.__click=[Xu,i];var ne=D(se);ye(ne,()=>({"--size":"18px"})),be(ne.lastChild,{name:"open"});var V=H(ne,2);$e(V,{children:(G,re)=>{var R=Te();de(()=>Zt(R,t.noteData.draft?.name||t.noteData.name||"unknown")),p(G,R)}}),de(()=>{xe(se,"href",v),xe(se,"tabindex",t.focusHidden?-1:0)}),p(N,O)};q(k,N=>{v&&N(m)})}var A=H(k,2);A.__click=[Hu,o],me(A,1,pe(["button","buttonMenu"]),"svelte-1jg44o9");var B=D(A);ye(B,()=>({"--size":"18px","--rotate":"90deg"})),be(B.lastChild,{name:"menu"});var C=H(B,2);$e(C,{children:(N,O)=>{var ee=Te("show menu");p(N,ee)}});var T=H(b,2);zu(T,{get mode(){return a()},get noteId(){return t.noteId},get noteData(){return t.noteData},get showMenuUp(){return t.showMenuUp},get shownMenu(){return s(o)},set shownMenu(N){y(o,N,!0)}}),de((N,O)=>{me(h,1,N,"svelte-1jg44o9"),xe(_,"tabindex",t.focusHidden?-1:0),xe(_,"href",O),Zt(w,t.noteData?.draft?.name||t.noteData?.name||"unknown"),me(b,1,pe(["noteMenuWrapper",{noteMenuWrapperActive:s(i)}]),"svelte-1jg44o9"),xe(A,"tabindex",t.focusHidden?-1:0)},[()=>pe(["record",{pinned:!!t.noteData.pinnedAt,draft:!!t.noteData.draft}]),()=>`/?stackPages=${encodeURIComponent(`${W.EditNote}?id=${t.noteId}`)}`]),p(e,h),J()}nt(["focusin","focusout","click"]);var ed=U('<p class="message">No notes in bin</p>'),td=U('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Add note</span>',1),nd=U('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span style="padding-left: 6px;">Import data</span>',1),rd=U('<p class="message">No notes found</p> <div class="wrapperButtonsAdd svelte-106i4nx"><!></div> <div>or</div> <div class="wrapperButtonsAdd svelte-106i4nx"><!></div>',1),ad=U('<div class="emptyStore svelte-106i4nx"><!></div>'),od=U('<div class="emptyMessage svelte-106i4nx">No notes found</div>'),sd=U('<div class="feed svelte-106i4nx"><ul class="svelte-106i4nx"></ul></div>'),id=U('<div class="wrapperFeed svelte-106i4nx"><div class="wrapperContainer svelte-106i4nx"><!></div></div>');function ld(e,t){X(t,!0);let n=le(t,"getNotes",3,()=>[]),r=le(t,"mode",3,"notes");const{getScrollContainer:a}=Pa(),{createHandlePage:o,getPageUrl:i}=Bt(),{getSelectedTags:l}=$o(),{getFeedOrder:c}=Xo(),u=Wo();let d=54,v=F(0),h=F(0),g=F(0),f=F(0),_=[],w=F(0),b=I(a),k=null,m=null;const A=I(l);Le(()=>{s(A),s(O),s(b)?.scrollTo(0,0)});const{enable:B}=ls(),C=()=>{B(),k||(k=requestAnimationFrame(()=>{const K=s(b)?.scrollTop||0;y(g,K,!0);const Q=Math.ceil(s(v)/d);y(h,Math.floor(K/(d*Q))*(d*Q)),k=null}))},T=()=>{m||(m=requestAnimationFrame(()=>{y(v,window.innerHeight-180||0,!0);const K=s(b)?.scrollTop||0;y(g,K,!0);const Q=Math.ceil(s(v)/d);y(h,Math.floor(K/(d*Q))*(d*Q)),m=null}))};Ee(()=>{T(),C()});const N=()=>{C()};Le(()=>(s(b)?.addEventListener("scroll",N),window.addEventListener("resize",T),()=>{s(b)?.removeEventListener("scroll",N),window.removeEventListener("resize",T)}));const O=I(c);let ee=F("");Le(()=>{s(O);const K=n()()||[];xt(()=>s(ee))!==s(O)&&xt(()=>y(ee,s(O),!0)),K.sort((P,x)=>{if(!P||!x||!P.data||!x.data)return 0;if(P.data.pinnedAt&&!x.data.pinnedAt)return 1;if(!P.data.pinnedAt&&x.data.pinnedAt)return-1;if(P.data.pinnedAt&&x.data.pinnedAt){if(P.data.pinnedAt<x.data.pinnedAt)return-1;if(P.data.pinnedAt>x.data.pinnedAt)return 1}if(P.data.draft&&!x.data.draft)return 1;if(!P.data.draft&&x.data.draft)return-1;if(P.data.draft&&x.data.draft){if(P.data.draft.updatedAt<x.data.draft.updatedAt)return-1;if(P.data.draft.updatedAt>x.data.draft.updatedAt)return 1}switch(s(O)){case"newest":return P.data.updatedAt<x.data.updatedAt?-1:1;case"oldest":return P.data.updatedAt>x.data.updatedAt?-1:1;case"AtoZ":return x.data.name.localeCompare(P.data.name);case"ZtoA":return P.data.name.localeCompare(x.data.name);default:return 0}});const ve=[],ke=Array.from(s(A).values());for(let P=K.length-1;P>=0;P--){if(!K[P]||!K[P].data)continue;const x=K[P];r()==="notes"&&x?.data.deletedAt||r()==="bin"&&!x?.data.deletedAt||s(A).size&&ke.some(S=>!x.data?.tags.includes(S))&&(!x.data.draft||ke.some(S=>!x.data?.draft?.tags.includes(S)))||u&&!(x.data.name.toLowerCase().includes(u.value.toLowerCase())||x.data.url.toLowerCase().includes(u.value.toLowerCase())||x.data.text.toLowerCase().includes(u.value.toLowerCase()))||ve.push(x)}y(f,ve.length,!0),_=ve,y(w,Date.now(),!0)});const ge=I(()=>s(f)*d);let ne=I(()=>{s(w);const K=Math.ceil(s(v)/d);let Q=Math.floor(s(h)/d);return Q=Q-Math.min(Q,K),_.slice(Q,Q+K*3)}),V=I(()=>d*Math.ceil(s(v)/d));const G=I(()=>s(h)-Math.min(s(h),s(V)));var re=id(),R=D(re),te=D(R);{var Z=K=>{ws(K,{})},Y=K=>{var Q=z(),ve=M(Q);{var ke=x=>{var S=ad(),E=D(S);{var j=$=>{var ue=ed();p($,ue)},ie=$=>{var ue=rd(),oe=H(M(ue),2),De=D(oe);{let rt=I(()=>i(W.NewNote)),Ge=I(()=>o(W.NewNote));Jt(De,{element:"a",get href(){return s(rt)},get onClick(){return s(Ge)},children:(at,mt)=>{var ft=td(),ot=M(ft);ye(ot,()=>({"--size":"18px","--color":"#b0b0b0"})),be(ot.lastChild,{name:"plus"}),p(at,ft)},$$slots:{default:!0}})}var Pe=H(oe,4),Ke=D(Pe);{let rt=I(()=>i(W.ImportData)),Ge=I(()=>o(W.ImportData));Jt(Ke,{element:"a",get href(){return s(rt)},get onClick(){return s(Ge)},children:(at,mt)=>{var ft=nd(),ot=M(ft);ye(ot,()=>({"--size":"18px","--color":"#b0b0b0"})),be(ot.lastChild,{name:"import"}),p(at,ft)},$$slots:{default:!0}})}p($,ue)};q(E,$=>{r()==="bin"?$(j):$(ie,!1)})}p(x,S)},P=x=>{var S=z(),E=M(S);{var j=$=>{var ue=od();p($,ue)},ie=$=>{var ue=sd(),oe=D(ue);Fr(oe,23,()=>s(ne),De=>De.data,(De,Pe,Ke)=>{var rt=z(),Ge=M(rt);{var at=mt=>{{let ft=I(()=>s(Ke)*d<s(g)-s(G)-d/2||s(Ke)*d>s(g)-s(G)+Math.floor(s(v)/d)*d),ot=I(()=>(s(Ke)+3)*d<s(g)-s(G)-d/2||(s(Ke)+3)*d>s(g)-s(G)+Math.floor(s(v)/d)*d);$u(mt,{get mode(){return r()},get focusHidden(){return s(ft)},get showMenuUp(){return s(ot)},get noteId(){return s(Pe).id},get noteData(){return s(Pe).data}})}};q(Ge,mt=>{s(Pe).data&&mt(at)})}p(De,rt)}),de(De=>{zn(ue,`min-height: ${De??""}px`),zn(oe,`transform: translateY(${s(G)??""}px);`)},[()=>Math.max((s(ge)>s(v),s(ge)),0)]),p($,ue)};q(E,$=>{s(ne).length===0?$(j):$(ie,!1)},!0)}p(x,S)};q(ve,x=>{(n()()||[]).length===0||r()==="notes"&&(n()()||[]).length-t.countNotesInBin()===0?x(ke):x(P,!1)},!0)}p(K,Q)};q(te,K=>{t.readyNotes?K(Y,!1):K(Z)})}p(e,re),J()}var cd=U('<!> <div class="content svelte-k57gez"><!></div>',1);function ud(e,t){X(t,!0);const{getAppHistory:n}=pt(),{getGetNotes:r,isInitedNotes:a,countNotesInBin:o}=Hr(),i=I(a),l=I(r),c=I(()=>n().pathname);var u=cd(),d=M(u);{let g=I(()=>s(c)==="/bin"?"bin":"notes");xu(d,{get mode(){return s(g)},get getNotes(){return s(l)}})}var v=H(d,2),h=D(v);{let g=I(()=>s(c)==="/bin"?"bin":"notes");ld(h,{get mode(){return s(g)},get getNotes(){return s(l)},get countNotesInBin(){return o},get readyNotes(){return s(i)}})}p(e,u),J()}const Qa=(e,t=we,n=we,r)=>{let a=Mr(()=>Rs(r?.(),!1));var o=z(),i=M(o);{var l=u=>{Ie(u,{children:(d,v)=>{He(d,{get hidden(){return s(a)},get page(){return W.Settings}})},$$slots:{default:!0}})},c=u=>{var d=z(),v=M(d);{var h=f=>{Ie(f,{children:(_,w)=>{He(_,{get hidden(){return s(a)},get page(){return W.NewNote}})},$$slots:{default:!0}})},g=f=>{var _=z(),w=M(_);{var b=m=>{Ie(m,{children:(A,B)=>{He(A,{get params(){return n()},get hidden(){return s(a)},get page(){return W.EditNote}})},$$slots:{default:!0}})},k=m=>{var A=z(),B=M(A);{var C=N=>{Ie(N,{children:(O,ee)=>{He(O,{get hidden(){return s(a)},get page(){return W.ImportData}})},$$slots:{default:!0}})},T=N=>{var O=z(),ee=M(O);{var ge=ne=>{Ie(ne,{children:(V,G)=>{He(V,{get hidden(){return s(a)},get page(){return W.ExportData}})},$$slots:{default:!0}})},se=ne=>{var V=z(),G=M(V);{var re=te=>{Ie(te,{children:(Z,Y)=>{He(Z,{get hidden(){return s(a)},get page(){return W.ClearStore}})},$$slots:{default:!0}})},R=te=>{var Z=z(),Y=M(Z);{var K=ve=>{Ie(ve,{children:(ke,P)=>{iu(ke,{})},$$slots:{default:!0}})},Q=ve=>{var ke=z(),P=M(ke);{var x=E=>{Ie(E,{children:(j,ie)=>{He(j,{get hidden(){return s(a)},get page(){return W.Auth}})},$$slots:{default:!0}})},S=E=>{var j=z(),ie=M(j);{var $=oe=>{Ie(oe,{children:(De,Pe)=>{He(De,{get hidden(){return s(a)},get page(){return W.Signup}})},$$slots:{default:!0}})},ue=oe=>{var De=z(),Pe=M(De);{var Ke=Ge=>{Ie(Ge,{children:(at,mt)=>{He(at,{get hidden(){return s(a)},get page(){return W.Signin}})},$$slots:{default:!0}})},rt=Ge=>{var at=z(),mt=M(at);{var ft=It=>{Ie(It,{children:(bn,dr)=>{He(bn,{get hidden(){return s(a)},get page(){return W.AccessKeys}})},$$slots:{default:!0}})},ot=It=>{var bn=z(),dr=M(bn);{var Ae=ze=>{Ie(ze,{children:(Ot,wt)=>{He(Ot,{get hidden(){return s(a)},get page(){return W.Account}})},$$slots:{default:!0}})},Je=ze=>{var Ot=z(),wt=M(Ot);{var tn=Rt=>{Ie(Rt,{children:(Ft,Ur)=>{He(Ft,{get hidden(){return s(a)},get page(){return W.ConfirmAccessKey}})},$$slots:{default:!0}})},nn=Rt=>{var Ft=z(),Ur=M(Ft);{var jr=kn=>{Ie(kn,{children:(fr,Aa)=>{He(fr,{get hidden(){return s(a)},get page(){return W.Exit}})},$$slots:{default:!0}})},Ss=kn=>{var fr=z(),Aa=M(fr);{var bs=Cn=>{Ie(Cn,{children:(vr,Ta)=>{He(vr,{get hidden(){return s(a)},get page(){return W.Sync}})},$$slots:{default:!0}})},ks=Cn=>{var vr=z(),Ta=M(vr);{var Cs=En=>{Ie(En,{children:(hr,Na)=>{He(hr,{get hidden(){return s(a)},get page(){return W.Subscription}})},$$slots:{default:!0}})},Es=En=>{var hr=z(),Na=M(hr);{var Ps=Pn=>{Ie(Pn,{children:(Vr,Ds)=>{He(Vr,{get hidden(){return s(a)},get page(){return W.About}})},$$slots:{default:!0}})},xs=Pn=>{Ie(Pn,{children:(Vr,Ds)=>{uu(Vr,{})},$$slots:{default:!0}})};q(Na,Pn=>{t()===W.About?Pn(Ps):Pn(xs,!1)},!0)}p(En,hr)};q(Ta,En=>{t()===W.Subscription?En(Cs):En(Es,!1)},!0)}p(Cn,vr)};q(Aa,Cn=>{t()===W.Sync?Cn(bs):Cn(ks,!1)},!0)}p(kn,fr)};q(Ur,kn=>{t()===W.Exit?kn(jr):kn(Ss,!1)},!0)}p(Rt,Ft)};q(wt,Rt=>{t()===W.ConfirmAccessKey?Rt(tn):Rt(nn,!1)},!0)}p(ze,Ot)};q(dr,ze=>{t()===W.Account?ze(Ae):ze(Je,!1)},!0)}p(It,bn)};q(mt,It=>{t()===W.AccessKeys?It(ft):It(ot,!1)},!0)}p(Ge,at)};q(Pe,Ge=>{t()===W.Signin?Ge(Ke):Ge(rt,!1)},!0)}p(oe,De)};q(ie,oe=>{t()===W.Signup?oe($):oe(ue,!1)},!0)}p(E,j)};q(P,E=>{t()===W.Auth?E(x):E(S,!1)},!0)}p(ve,ke)};q(Y,ve=>{t()===W.Start?ve(K):ve(Q,!1)},!0)}p(te,Z)};q(G,te=>{t()===W.ClearStore?te(re):te(R,!1)},!0)}p(ne,V)};q(ee,ne=>{t()===W.ExportData?ne(ge):ne(se,!1)},!0)}p(N,O)};q(B,N=>{t()===W.ImportData?N(C):N(T,!1)},!0)}p(m,A)};q(w,m=>{t()===W.EditNote?m(b):m(k,!1)},!0)}p(f,_)};q(v,f=>{t()===W.NewNote?f(h):f(g,!1)},!0)}p(u,d)};q(i,u=>{t()===W.Settings?u(l):u(c,!1)})}p(e,o)};var dd=U("<!> <!>",1);function fd(e,t){X(t,!0);const{getStackPages:n,popStackPages:r}=Bt(),{getAccount:a}=Ea();let o=I(n),i=I(()=>a()!==void 0);const{checkMobileSize:l}=Kn();var c=dd(),u=M(c);{var d=f=>{ud(f,{})};q(u,f=>{s(i)&&f(d)})}var v=H(u,2);{var h=f=>{var _=z(),w=M(_);Fr(w,19,()=>s(o),b=>b.page,(b,k,m)=>{const A=I(()=>s(k).page.split("?")[1]),B=I(()=>s(k).page.split("?")[0]);{let C=I(()=>s(m)!==s(o).length-1&&!!s(o)[s(m)+1]?.shown),T=I(()=>s(m)===0);Ga(b,{get shown(){return s(k).shown},get hidden(){return s(C)},get isLastDialog(){return s(T)},children:(N,O)=>{{let ee=I(()=>s(m)!==s(o).length-1&&!!s(o)[s(m)+1]?.shown);Qa(N,()=>s(B),()=>s(A),()=>s(ee))}},$$slots:{default:!0}})}}),p(f,_)},g=f=>{var _=z(),w=M(_);{var b=k=>{const m=I(()=>s(o)[s(o).length-1].page.split("?")[1]),A=I(()=>s(o)[s(o).length-1].page.split("?")[0]);{let B=I(()=>s(o).length===1);Ga(k,{onBack:()=>r(),get shown(){return s(o)[s(o).length-1].shown},hidden:!1,get isLastDialog(){return s(B)},children:(C,T)=>{Qa(C,()=>s(A),()=>s(m))},$$slots:{default:!0}})}};q(w,k=>{s(o).length>0&&k(b)},!0)}p(f,_)};q(v,f=>{l()?f(h):f(g,!1)})}p(e,c),J()}const vd=(e,t)=>{s(t)&&s(t).scrollTo({top:0})};var hd=U('<div><button class="buttonTop svelte-1n46o8q"><!> <span class="icon svelte-1n46o8q"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></span></button></div>'),gd=U('<!> <main><div class="wrapperHeader svelte-1n46o8q"><!></div> <div class="container svelte-1n46o8q"><!></div></main> <!>',1);function _d(e,t){X(t,!0);const{navigate:n}=pt(),{hasStackPage:r,pushStackPages:a,clearStackPages:o}=Bt(),{setScrollContainer:i}=Pa(),{getAccount:l,init:c}=Ea(),{getStackPagesFormUrl:u}=Bt(),{createBroadcastChannel:d,tabId:v}=zr(),h=d(),{getSidebarState:g}=ka();Ee(()=>{c(te=>{te===void 0?(n("/"),a("start")):(r("start")&&(o(),n("/")),te?y(k,te):y(k,null))});const R=async te=>{const Z=JSON.parse(te.data);if(Z.tabId&&Z.tabId===v)return;const Y=Z;Y.type==="initLocalAccount"||Y.type==="initCloudAccount"||Y.type==="updateAccount"||Y.type==="disconnectCloudAccount"?(o(),n("/")):Y.type==="exit"&&(o(),n("/"),a("start"))};return h.addEventListener(R),()=>h.removeEventListener(R)});const f=Yn();Ee(async()=>{await new Promise(R=>setTimeout(R,100)),await Mo(),f.working=!0});let _=F(!1),w=0,b=I(()=>u().length>0),k=I(l),m=F(null);Le(()=>{i(s(m))});const A=()=>{if(s(m)){const R=s(m).scrollTop||0;R===0?y(_,!1):!s(_)&&w>R?y(_,!0):s(_)&&w+50<R&&y(_,!1),w=R}},B=()=>{A()};Le(()=>(s(m)?.addEventListener("scroll",B),window.addEventListener("resize",B),()=>{s(m)?.removeEventListener("scroll",B),window.removeEventListener("resize",B)}));const C=I(g);var T=gd(),N=M(T);hc(N,{});var O=H(N,2),ee=D(O),ge=D(ee);{var se=R=>{Uc(R,{})};q(ge,R=>{s(k)!==void 0&&R(se)})}var ne=H(ee,2),V=D(ne);fd(V,{}),Dt(O,R=>y(m,R),()=>s(m));var G=H(O,2);{var re=R=>{var te=hd(),Z=D(te);Z.__click=[vd,m];var Y=D(Z);$e(Y,{children:(ve,ke)=>{var P=Te("top");p(ve,P)}});var K=H(Y,2),Q=D(K);ye(Q,()=>({"--rotate":"90deg","--size":"28px"})),be(Q.lastChild,{name:"back"}),de(()=>{zn(te,`--swiping-ratio: ${f.swipingRatio}; --transition-timing-default: ${f.duration}s;`),me(te,1,pe(["wrapperButtonTop",{isAnimationOn:f.working&&!f.isSwiping,open:s(b)||s(C).type!=="closed"}]),"svelte-1n46o8q")}),p(R,te)};q(G,R=>{s(_)&&R(re)})}de(()=>{zn(O,`--swiping-ratio: ${f.swipingRatio}; --transition-timing-default: ${f.duration}s;`),me(O,1,pe(["main",{isAnimationOn:f.working&&!f.isSwiping,open:s(b)||s(C).type!=="closed"}]),"svelte-1n46o8q")}),p(e,T),J()}nt(["click"]);function pd(e){cc(e,{children:(t,n)=>{_d(t,{})}})}window.addEventListener("unhandledrejection",e=>{alert("Error: "+e.reason.message)});window.isUnsupportedBrowser||Xi(pd,{target:document.getElementById("app")});export{ka as $,Ea as A,Jt as B,Hr as C,Sa as D,Vo as E,yd as F,le as G,ou as H,be as I,me as J,pe as K,ws as L,Sd as M,bd as N,zn as O,W as P,Ol as Q,Kn as R,Dt as S,Sl as T,ys as U,$e as V,il as W,zr as X,Pl as Y,Yn as Z,oc as _,ye as a,ls as a0,he as a1,_s as a2,xe as b,D as c,p as d,Fr as e,U as f,s as g,Bt as h,ur as i,F as j,Oe as k,y as l,q as m,J as n,Ee as o,X as p,z as q,M as r,H as s,de as t,Le as u,nt as v,Te as w,Zt as x,I as y,pt as z};
