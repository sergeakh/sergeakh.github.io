import{p as P,C as T,E as U,z as q,q as m,r as p,m as v,d as s,n as z,g as t,y as l,f as F,s as H,c as L,B as R,w as j}from"./D8xBwbrB.js";import{N as G}from"./DW_SvAvV.js";import"./UandXPPn.js";var J=F('<div class="block svelte-14glnia"><p class="svelte-14glnia">Note not found</p> <!></div>');function W(N,u){P(u,!0);const{updateNote:h,getNoteById:_,isInitedNotes:g}=T(),{getDraft:x,isInitedDrafts:A}=U(),C=l(g);let e=l(()=>{if(t(C)===!1)return null;const a=new URLSearchParams(u.params).get("id");return a&&_(a)||null}),b=l(()=>t(e)?x(t(e).id):void 0);const{navigate:y}=q(),k=a=>{a.preventDefault(),y("/")},D=({name:a,url:n,text:o,tags:i})=>{t(e)&&h(t(e),{...t(e),data:{...t(e).data,name:a,url:n,text:o,tags:i.map(d=>d.trim())}})};var f=m(),I=p(f);{var w=a=>{var n=m(),o=p(n);{var i=r=>{var c=J(),B=H(L(c),2);R(B,{element:"a",href:"/",onClick:k,children:(E,M)=>{var S=j("close");s(E,S)},$$slots:{default:!0}}),s(r,c)},d=r=>{G(r,{get initialName(){return t(e).data.name},get initialUrl(){return t(e).data.url},get initialText(){return t(e).data.text},get initialTags(){return t(e).data.tags},get createdAt(){return t(e).data.createdAt},get updatedAt(){return t(e).data.updatedAt},get noteId(){return t(e).id},get draft(){return t(b)},onSubmit:D,mode:"edit"})};v(o,r=>{t(e)?r(d,!1):r(i)})}s(a,n)};v(I,a=>{g()&&A()&&a(w)})}s(N,f),z()}export{W as default};
