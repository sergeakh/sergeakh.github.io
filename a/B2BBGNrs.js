import{p as _e,h as me,z as he,A as be,i as we,o as Ae,u as Pe,g as y,j as N,f as v,m as n,c as L,d as e,n as Se,l as I,r as i,H as T,w as A,s as C,B as W,q as f,P as xe,L as ke}from"./BO13GsCm.js";const R=()=>window.installPrompt;function ye(){const l=navigator.userAgent,B=/iPad|iPhone|iPod/.test(l);return B?!!B:!1}const Q=()=>{const l=navigator.userAgent;return/android/i.test(l)},Y=()=>{const l=navigator.userAgent;return/chrome|crios/i.test(l)&&!/edge|edgios|edga/i.test(l)},U=()=>{const l=navigator.userAgent;return!!(/Safari/.test(l)&&!/Chrome/.test(l)&&!/CriOS/.test(l)&&!/FxiOS/.test(l))};var Ce=v('<p class="message svelte-1uagzbf">App is already installed.</p>'),ze=v('<p class="message svelte-1uagzbf">For install app, select the share button and select "Add to Home Screen".</p>'),$e=v('<p class="message svelte-1uagzbf">Install app available on Safari.</p>'),Ie=v(`<p class="message svelte-1uagzbf">From the menu bar, choose File > Add to Dock. Or click the Share button in the Safari
				toolbar, then choose Add to Dock.</p>`),Be=v(`<p class="message svelte-1uagzbf">App is already installed or installation is not supported in this browser. use Chrome,
				Brave, Edge.</p>`),Oe=v('<p class="message svelte-1uagzbf">For better experience, install app from Chrome.</p>'),Fe=v(`<!> <p class="message svelte-1uagzbf">You can install app to have a better experience and more reliable storage or you can use it in
			your browser and install later.</p> <!> <div class="container svelte-1uagzbf"><!> <!></div>`,1),We=v('<!> <div class="loader svelte-1uagzbf"><!></div>',1),De=v('<p class="message svelte-1uagzbf">Open the app from your device.</p>'),He=v('<!> <!> <div class="container svelte-1uagzbf"><!> <!></div>',1),Ee=v('<div class="block svelte-1uagzbf"><!></div>');function Re(l,B){_e(B,!0);const{pushStackPages:V,clearStackPages:X}=me(),{navigate:Z}=he(),{getAccount:ee}=be(),{blockDialog:ae}=we();let g=N("idle"),O=N(!1);const te=async()=>{if("getInstalledRelatedApps"in navigator){const o=await navigator.getInstalledRelatedApps();console.log("relatedApps",o),I(O,o.some(c=>c.platform==="webapp"),!0)}},re=()=>{ee()===void 0?V(xe.AccountSetup):X()},G=()=>{re()},se=async()=>{const o=R();try{o&&(I(g,"installing"),"onappinstalled"in window&&window.addEventListener("appinstalled",()=>{I(O,!0),Q()||Z("/?stackPages=installSuccess")}),setTimeout(()=>{y(O)?I(g,"success"):I(g,"idle")},5e3),await o.prompt(),o.userChoice?.then(c=>{c.outcome==="accepted"?window.installPrompt=null:I(g,"idle")}))}catch(c){console.error("Error during install prompt:",c)}};Ae(()=>{te()}),Pe(()=>{ae(y(g)==="installing")});var J=Ee(),oe=L(J);{var ne=o=>{var c=Fe(),D=i(c);T(D,{children:(a,r)=>{var p=A("install app");e(a,p)}});var H=C(D,4);{var j=a=>{var r=Ce();e(a,r)},_=a=>{var r=f(),p=i(r);{var k=d=>{var h=f(),t=i(h);{var u=s=>{var w=ze();e(s,w)},b=s=>{var w=$e();e(s,w)};n(t,s=>{U()?s(u):s(b,!1)})}e(d,h)},m=d=>{var h=f(),t=i(h);{var u=s=>{var w=Ie();e(s,w)},b=s=>{var w=f(),ie=i(w);{var ce=$=>{var E=Be();e($,E)},ve=$=>{var E=f(),pe=i(E);{var de=q=>{var K=f(),ue=i(K);{var fe=M=>{var ge=Oe();e(M,ge)};n(ue,M=>{!Y()&&R()&&M(fe)})}e(q,K)};n(pe,q=>{Q()&&q(de)},!0)}e($,E)};n(ie,$=>{R()?$(ve,!1):$(ce)},!0)}e(s,w)};n(t,s=>{U()?s(u):s(b,!1)},!0)}e(d,h)};n(p,d=>{ye()?d(k):d(m,!1)},!0)}e(a,r)};n(H,a=>{y(O)?a(j):a(_,!1)})}var P=C(H,2),S=L(P);{var F=a=>{W(a,{onClick:se,fullWidth:!0,children:(r,p)=>{var k=A("install web app");e(r,k)},$$slots:{default:!0}})},x=a=>{var r=f(),p=i(r);{var k=m=>{W(m,{element:"a",target:"_blank",rel:"noopener noreferrer",href:`${window.location.origin}`,fullWidth:!0,children:(d,h)=>{var t=A("open app");e(d,t)},$$slots:{default:!0}})};n(p,m=>{y(O)&&m(k)},!0)}e(a,r)};n(S,a=>{R()?a(F):a(x,!1)})}var z=C(S,2);W(z,{onClick:G,fullWidth:!0,type:"secondary",children:(a,r)=>{var p=A("continue in browser");e(a,p)},$$slots:{default:!0}}),e(o,c)},le=o=>{var c=f(),D=i(c);{var H=_=>{var P=We(),S=i(P);T(S,{children:(z,a)=>{var r=A("installing app...");e(z,r)}});var F=C(S,2),x=L(F);ke(x,{}),e(_,P)},j=_=>{var P=f(),S=i(P);{var F=x=>{var z=He(),a=i(z);T(a,{children:(t,u)=>{var b=A("app installed successfully!");e(t,b)}});var r=C(a,2);{var p=t=>{var u=De();e(t,u)};n(r,t=>{Y()||t(p)})}var k=C(r,2),m=L(k);{var d=t=>{W(t,{element:"a",target:"_blank",rel:"noopener noreferrer",href:`${window.location.origin}`,fullWidth:!0,children:(u,b)=>{var s=A("open app");e(u,s)},$$slots:{default:!0}})};n(m,t=>{Y()&&t(d)})}var h=C(m,2);W(h,{onClick:G,fullWidth:!0,type:"secondary",children:(t,u)=>{var b=A("continue in browser");e(t,b)},$$slots:{default:!0}}),e(x,z)};n(S,x=>{y(g)==="success"&&x(F)},!0)}e(_,P)};n(D,_=>{y(g)==="installing"?_(H):_(j,!1)},!0)}e(o,c)};n(oe,o=>{y(g)==="idle"?o(ne):o(le,!1)})}e(l,J),Se()}export{Re as default};
