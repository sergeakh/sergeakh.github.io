import{p as W,Y as he,j as X,k as me,o as ee,f as M,s,c as a,J as S,K as C,b as p,a as v,I as d,t as B,M as K,N as Y,g as i,d as F,n as ae,l as se,v as te,h as ue,Z as fe,m as V,_ as _e,y as k,P as r,x as ke}from"./7BxkvHMl.js";import{S as ye}from"./DQceye4A.js";var be=M('<div class="wrapper svelte-1rhfuek"><fieldset class="switcher svelte-1rhfuek"><legend class="vh svelte-1rhfuek">Color Scheme</legend> <input id="light" type="radio" aria-label="Light"/> <label for="light" title="Light" aria-label="Light"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <input id="system" type="radio" aria-label="System"/> <label for="system" title="System" aria-label="System"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <input id="dark" type="radio" aria-label="Dark"/> <label for="dark" title="Dark" aria-label="Dark"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <div class="wrapSwitcherStatus svelte-1rhfuek"><div class="switcherStatus svelte-1rhfuek"></div></div></fieldset></div>');function ge(N,H){W(H,!0);const{createBroadcastChannel:h}=he(),x=h(),t={Light:"light",System:"system",Dark:"dark"};let y=X(me(localStorage.getItem("colorScheme")||t.System));const m=l=>{localStorage.setItem("colorScheme",l),l===t.System?window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.dataset.colorScheme=t.Dark:document.documentElement.dataset.colorScheme=t.Light:document.documentElement.dataset.colorScheme=l,se(y,l,!0)},b=l=>{const u=l.target.value;m(u),x.postMessage({type:"setColorScheme",data:{scheme:u}})},$="color-scheme-switcher";ee(()=>{const l=u=>{const f=JSON.parse(u.data);f?.type==="setColorScheme"&&f?.data.scheme&&m(f.data.scheme)};return x.addEventListener(l),()=>{x.removeEventListener(l)}});var z={setColorScheme:m,handleChange:b},D=be(),A=a(D),o=s(a(A),2);S(o,1,C(["vh","input"]),"svelte-1rhfuek"),p(o,"name",$),o.__change=b;var E=s(o,2);S(E,1,C(["switcherButton","light"]),"svelte-1rhfuek");var I=a(E);v(I,()=>({"--size":"20px"})),d(I.lastChild,{name:"sun"});var n=s(E,2);S(n,1,C(["vh","input"]),"svelte-1rhfuek"),p(n,"name",$),n.__change=b;var L=s(n,2);S(L,1,C(["switcherButton","system"]),"svelte-1rhfuek");var P=a(L);v(P,()=>({"--size":"14px"})),d(P.lastChild,{name:"a"});var c=s(L,2);S(c,1,C(["vh","input"]),"svelte-1rhfuek"),p(c,"name",$),c.__change=b;var g=s(c,2);S(g,1,C(["switcherButton","dark"]),"svelte-1rhfuek");var T=a(g);return v(T,()=>({"--size":"20px"})),d(T.lastChild,{name:"moon"}),B(()=>{K(o,t.Light),Y(o,i(y)===t.Light),K(n,t.System),Y(n,i(y)===t.System),K(c,t.Dark),Y(c,i(y)===t.Dark)}),F(N,D),ae(z)}te(["change"]);var we=M('<li class="svelte-1pi6mf7"><a class="button svelte-1pi6mf7"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1pi6mf7">Install app</span></a></li>'),Se=M("<span> </span>"),Ce=M('<div class="block svelte-1pi6mf7"><!> <ul class="svelte-1pi6mf7"><!> <li class="svelte-1pi6mf7"><a class="button svelte-1pi6mf7"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1pi6mf7">Account</span></a></li> <li class="svelte-1pi6mf7"><a class="button svelte-1pi6mf7"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1pi6mf7">Import data</span></a></li> <li class="svelte-1pi6mf7"><a class="button svelte-1pi6mf7"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1pi6mf7">Export data</span></a></li> <li class="svelte-1pi6mf7"><a class="button svelte-1pi6mf7"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1pi6mf7">Clear storage</span></a></li> <li class="svelte-1pi6mf7"><a class="button svelte-1pi6mf7"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1pi6mf7">About</span></a></li></ul> <div class="favicons svelte-1pi6mf7"><span class="faviconsLabel svelte-1pi6mf7">show favicons (use duckduckgo servers)</span> <!></div> <div class="hotkeys svelte-1pi6mf7"><div class="hotkey__head svelte-1pi6mf7">Hotkeys:</div> <div>New note: <span class="hotkey svelte-1pi6mf7">N</span></div> <div>Search notes: <span class="hotkey svelte-1pi6mf7">Ctrl/Cmd + K</span></div> <div>Open sidebar: <span class="hotkey svelte-1pi6mf7">Ctrl/Cmd + B</span></div> <div>Close window: <span class="hotkey svelte-1pi6mf7">Esc</span></div></div> <div class="version svelte-1pi6mf7"><!></div></div>');function De(N,H){W(H,!0);const{createHandlePage:h}=ue(),{setFaviconShown:x,getFaviconEnabled:t}=fe();let y=k(t),m=X("");const b=async e=>{try{const _=await(await fetch("/build-metadata.json",{signal:e})).json();se(m,`${_.buildHash}`)}catch{console.error("Failed to load build metadata")}};ee(()=>{const e=new AbortController;return b(e.signal),()=>{e.abort()}});const $=e=>{x(e)};var z=Ce(),D=a(z);ge(D,{});var A=s(D,2),o=a(A);{var E=e=>{var w=we(),_=a(w),J=k(()=>h(r.Install));_.__click=function(...de){i(J)?.apply(this,de)};var U=a(_);v(U,()=>({"--size":"28px"})),d(U.lastChild,{name:"install"}),B(()=>p(_,"href",`/?stackPages=${r.Install}`)),F(e,w)};V(o,e=>{_e()||e(E)})}var I=s(o,2),n=a(I),L=k(()=>h(r.Account));n.__click=function(...e){i(L)?.apply(this,e)};var P=a(n);v(P,()=>({"--size":"28px"})),d(P.lastChild,{name:"account"});var c=s(I,2),g=a(c),T=k(()=>h(r.ImportData));g.__click=function(...e){i(T)?.apply(this,e)};var l=a(g);v(l,()=>({"--size":"28px"})),d(l.lastChild,{name:"import"});var u=s(c,2),f=a(u),le=k(()=>h(r.ExportData));f.__click=function(...e){i(le)?.apply(this,e)};var Z=a(f);v(Z,()=>({"--size":"28px"})),d(Z.lastChild,{name:"export"});var q=s(u,2),j=a(q),re=k(()=>h(r.ClearStore));j.__click=function(...e){i(re)?.apply(this,e)};var G=a(j);v(G,()=>({"--size":"28px"})),d(G.lastChild,{name:"clear"});var ie=s(q,2),O=a(ie),ne=k(()=>h(r.About));O.__click=function(...e){i(ne)?.apply(this,e)};var Q=a(O);v(Q,()=>({"--size":"28px"})),d(Q.lastChild,{name:"about"});var R=s(A,2),oe=s(a(R),2);ye(oe,{get checked(){return i(y)},onChange:$});var ce=s(R,4),pe=a(ce);{var ve=e=>{var w=Se(),_=a(w);B(J=>ke(_,`version: 0.0.30 build_date: "${J??""}" build_hash:
				${i(m)??""}`),[()=>new Date(1761369194957).toISOString().replaceAll("T"," ").replace(/\..*/,"")]),F(e,w)};V(pe,e=>{i(m)&&e(ve)})}B(()=>{p(n,"href",`/?stackPages=${r.Account}`),p(g,"href",`/?stackPages=${r.ImportData}`),p(f,"href",`/?stackPages=${r.ExportData}`),p(j,"href",`/?stackPages=${r.ClearStore}`),p(O,"href",`/?stackPages=${r.About}`)}),F(N,z),ae()}te(["click"]);export{De as default};
