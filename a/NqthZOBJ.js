import{p as ua,h as fa,z as ga,A as _a,i as ma,o as ha,l as W,j as T,u as ba,g as C,f as v,m as l,c as G,d as a,n as Aa,r as i,H as J,w as y,s as E,B as K,q as d,L as wa}from"./dPep4g6Y.js";const P=()=>window.installPrompt;function Sa(){const r=navigator.userAgent,k=/iPad|iPhone|iPod/.test(r);return k?!!k:!1}const Pa=()=>{const r=navigator.userAgent;return/android/i.test(r)},xa=()=>{const r=navigator.userAgent;return/chrome|crios/i.test(r)&&!/edge|edgios|edga/i.test(r)},U=()=>{const r=navigator.userAgent;return!!(/Safari/.test(r)&&!/Chrome/.test(r)&&!/CriOS/.test(r)&&!/FxiOS/.test(r))};var Ca=v('<p class="message svelte-1uagzbf">App is already installed.</p>'),ya=v('<p class="message svelte-1uagzbf">App is already installed. But you can install another version.</p>'),ka=v('<p class="message svelte-1uagzbf">For better experience, install app from Chrome.</p>'),za=v(`<p class="message svelte-1uagzbf">App is already installed or installation is not supported in this browser. use Chrome,
					Brave, Edge.</p>`),Ia=v('<p class="message svelte-1uagzbf">For install app, select the share button and select "Add to Home Screen".</p>'),Ba=v('<p class="message svelte-1uagzbf">Install app available on Safari.</p>'),Fa=v(`<p class="message svelte-1uagzbf">From the menu bar, choose File > Add to Dock. Or click the Share button in the Safari
				toolbar, then choose Add to Dock.</p>`),Oa=v(`<p class="message svelte-1uagzbf">App is already installed or installation is not supported in this browser. use Chrome,
				Brave, Edge.</p>`),Da=v(`<!> <p class="message svelte-1uagzbf">You can install app to have a better experience and more reliable storage or you can use it in
			your browser and install later.</p> <!> <div class="container svelte-1uagzbf"><!> <!></div>`,1),Ea=v("<!> <!>",1),Ha=v('<!> <div class="container svelte-1uagzbf"><!></div>',1),La=v('<div class="block svelte-1uagzbf"><!></div>');function Ra(r,k){ua(k,!0);const{pushStackPages:V,clearStackPages:X}=fa(),{navigate:Z}=ga(),{getAccount:aa}=_a(),{blockDialog:ea}=ma();let h=T("idle"),R=T(!1);const ta=()=>{aa()===void 0?V("accountSetup"):X()},N=()=>{ta()},sa=async()=>{const s=P();try{s&&(W(h,"installing"),"onappinstalled"in window&&window.addEventListener("appinstalled",()=>{W(h,"success")}),await s.prompt(),s.userChoice?.then(c=>{c.outcome==="accepted"?(window.installPrompt=null,Z("/?stackPages=installSuccess")):W(h,"idle")}))}catch(c){console.error("Error during install prompt:",c)}};ha(async()=>{if("getInstalledRelatedApps"in navigator){const s=await navigator.getInstalledRelatedApps();console.log("relatedApps",s),W(R,s.some(c=>c.platform==="webapp"),!0)}}),ba(()=>{ea(C(h)==="installing")});var Q=La(),ra=G(Q);{var oa=s=>{var c=Da(),H=i(c);J(H,{children:(e,o)=>{var f=y("install app");a(e,f)}});var L=E(H,4);{var j=e=>{var o=Ca();a(e,o)},u=e=>{var o=d(),f=i(o);{var I=g=>{var _=ya();a(g,_)},B=g=>{var _=d(),la=i(_);{var ia=x=>{var F=d(),q=i(F);{var M=n=>{var p=ka();a(n,p)},Y=n=>{var p=d(),O=i(p);{var D=S=>{var t=za();a(S,t)};l(O,S=>{P()||S(D)},!0)}a(n,p)};l(q,n=>{!xa()&&P()?n(M):n(Y,!1)})}a(x,F)},va=x=>{var F=d(),q=i(F);{var M=n=>{var p=d(),O=i(p);{var D=t=>{var m=Ia();a(t,m)},S=t=>{var m=Ba();a(t,m)};l(O,t=>{U()?t(D):t(S,!1)})}a(n,p)},Y=n=>{var p=d(),O=i(p);{var D=t=>{var m=Fa();a(t,m)},S=t=>{var m=d(),ca=i(m);{var pa=$=>{var da=Oa();a($,da)};l(ca,$=>{P()||$(pa)},!0)}a(t,m)};l(O,t=>{U()?t(D):t(S,!1)},!0)}a(n,p)};l(q,n=>{Sa()?n(M):n(Y,!1)},!0)}a(x,F)};l(la,x=>{Pa()?x(ia):x(va,!1)},!0)}a(g,_)};l(f,g=>{C(R)&&P()?g(I):g(B,!1)},!0)}a(e,o)};l(L,e=>{C(R)&&!P()?e(j):e(u,!1)})}var b=E(L,2),A=G(b);{var z=e=>{K(e,{onClick:sa,fullWidth:!0,children:(o,f)=>{var I=y("install web app");a(o,I)},$$slots:{default:!0}})};l(A,e=>{P()&&e(z)})}var w=E(A,2);K(w,{onClick:N,fullWidth:!0,type:"secondary",children:(e,o)=>{var f=y("continue in browser");a(e,f)},$$slots:{default:!0}}),a(s,c)},na=s=>{var c=d(),H=i(c);{var L=u=>{var b=Ea(),A=i(b);J(A,{children:(w,e)=>{var o=y("installing app...");a(w,o)}});var z=E(A,2);wa(z,{}),a(u,b)},j=u=>{var b=d(),A=i(b);{var z=w=>{var e=Ha(),o=i(e);J(o,{children:(B,g)=>{var _=y("installed app successfully!");a(B,_)}});var f=E(o,2),I=G(f);K(I,{onClick:N,fullWidth:!0,children:(B,g)=>{var _=y("continue");a(B,_)},$$slots:{default:!0}}),a(w,e)};l(A,w=>{C(h)==="success"&&w(z)},!0)}a(u,b)};l(H,u=>{C(h)==="installing"?u(L):u(j,!1)},!0)}a(s,c)};l(ra,s=>{C(h)==="idle"?s(oa):s(na,!1)})}a(r,Q),Aa()}export{Ra as default};
