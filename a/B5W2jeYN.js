import{p as ua,h as fa,z as ga,A as _a,i as ma,o as ha,l as M,j as J,u as ba,g as x,f as p,m as n,c as K,d as a,n as Aa,r as i,H as N,w as O,s as D,B as Q,q as c,L as wa}from"./DHUnNjYr.js";const g=()=>window.installPrompt;function Sa(){const r=navigator.userAgent,b=/iPad|iPhone|iPod/.test(r);return b?!!b:!1}const Ca=()=>{const r=navigator.userAgent;return/android/i.test(r)},Pa=()=>{const r=navigator.userAgent;return/chrome|crios/i.test(r)&&!/edge|edgios|edga/i.test(r)},T=()=>{const r=navigator.userAgent;return!!(/Safari/.test(r)&&!/Chrome/.test(r)&&!/CriOS/.test(r)&&!/FxiOS/.test(r))};var xa=p('<p class="message svelte-1uagzbf">App is already installed.</p>'),ya=p('<p class="message svelte-1uagzbf">App is already installed. But you can install another version.</p>'),ka=p('<p class="message svelte-1uagzbf">For better experience, install app from Chrome.</p>'),za=p(`<p class="message svelte-1uagzbf">App is already installed or installation is not supported in this browser. use Chrome,
					Brave, Edge.</p>`),Ia=p('<p class="message svelte-1uagzbf">For install app, select the share button and select "Add to Home Screen".</p>'),Ba=p('<p class="message svelte-1uagzbf">Install app available on Safari.</p>'),Fa=p(`<p class="message svelte-1uagzbf">From the menu bar, choose File > Add to Dock. Or click the Share button in the Safari
				toolbar, then choose Add to Dock.</p>`),Oa=p(`<p class="message svelte-1uagzbf">App is already installed or installation is not supported in this browser. use Chrome,
				Brave, Edge.</p>`),Da=p(`<!> <p class="message svelte-1uagzbf">You can install app to have a better experience and more reliable storage or you can use it in
			your browser and install later.</p> <!> <div class="container svelte-1uagzbf"><!> <!></div>`,1),Ea=p("<!> <!>",1),Ha=p('<div class="block svelte-1uagzbf"><!></div>');function Ra(r,b){ua(b,!0);const{pushStackPages:U,clearStackPages:V}=fa(),{navigate:X}=ga(),{getAccount:Z}=_a(),{blockDialog:$}=ma();let A=J("idle"),E=J(!1);const aa=()=>{Z()===void 0?U("accountSetup"):V()},ea=()=>{aa()},ta=async()=>{const s=g();try{s&&(M(A,"installing"),"onappinstalled"in window&&window.addEventListener("appinstalled",()=>{X("/?stackPages=installSuccess")}),await s.prompt(),s.userChoice?.then(l=>{l.outcome==="accepted"?window.installPrompt=null:M(A,"idle")}))}catch(l){console.error("Error during install prompt:",l)}};ha(async()=>{if("getInstalledRelatedApps"in navigator){const s=await navigator.getInstalledRelatedApps();console.log("relatedApps",s),M(E,s.some(l=>l.platform==="webapp"),!0)}}),ba(()=>{$(x(A)==="installing")});var Y=Ha(),sa=K(Y);{var ra=s=>{var l=Da(),y=i(l);N(y,{children:(e,d)=>{var _=O("install app");a(e,_)}});var k=D(y,4);{var w=e=>{var d=xa();a(e,d)},z=e=>{var d=c(),_=i(d);{var L=m=>{var F=ya();a(m,F)},na=m=>{var F=c(),la=i(F);{var ia=h=>{var S=c(),R=i(S);{var W=o=>{var v=ka();a(o,v)},j=o=>{var v=c(),C=i(v);{var P=f=>{var t=za();a(f,t)};n(C,f=>{g()||f(P)},!0)}a(o,v)};n(R,o=>{!Pa()&&g()?o(W):o(j,!1)})}a(h,S)},pa=h=>{var S=c(),R=i(S);{var W=o=>{var v=c(),C=i(v);{var P=t=>{var u=Ia();a(t,u)},f=t=>{var u=Ba();a(t,u)};n(C,t=>{T()?t(P):t(f,!1)})}a(o,v)},j=o=>{var v=c(),C=i(v);{var P=t=>{var u=Fa();a(t,u)},f=t=>{var u=c(),va=i(u);{var ca=q=>{var da=Oa();a(q,da)};n(va,q=>{g()||q(ca)},!0)}a(t,u)};n(C,t=>{T()?t(P):t(f,!1)},!0)}a(o,v)};n(R,o=>{Sa()?o(W):o(j,!1)},!0)}a(h,S)};n(la,h=>{Ca()?h(ia):h(pa,!1)},!0)}a(m,F)};n(_,m=>{x(E)&&g()?m(L):m(na,!1)},!0)}a(e,d)};n(k,e=>{x(E)&&!g()?e(w):e(z,!1)})}var I=D(k,2),B=K(I);{var H=e=>{Q(e,{onClick:ta,fullWidth:!0,children:(d,_)=>{var L=O("install web app");a(d,L)},$$slots:{default:!0}})};n(B,e=>{g()&&e(H)})}var G=D(B,2);Q(G,{onClick:ea,fullWidth:!0,type:"secondary",children:(e,d)=>{var _=O("continue in browser");a(e,_)},$$slots:{default:!0}}),a(s,l)},oa=s=>{var l=c(),y=i(l);{var k=w=>{var z=Ea(),I=i(z);N(I,{children:(H,G)=>{var e=O("installing app...");a(H,e)}});var B=D(I,2);wa(B,{}),a(w,z)};n(y,w=>{x(A)==="installing"&&w(k)},!0)}a(s,l)};n(sa,s=>{x(A)==="idle"?s(ra):s(oa,!1)})}a(r,Y),Aa()}export{Ra as default};
