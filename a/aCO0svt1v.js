import{p as R,Z as ta,h as la,r as na,o as ra,f as J,s as l,c as a,b as i,a as d,I as v,t as K,K as T,M as q,g as o,d as O,j as U,k as ca,w as V,n as oa,_ as pa,i as ia,$ as da,y as u,P as r}from"./aPaHtHcX5.js";import{S as va}from"./aDUakbyx0.js";var ha=J('<div class="a p-2tj5ga"><fieldset class="b p-2tj5ga"><legend class="c p-2tj5ga">Color Scheme</legend> <input id="light" class="c d p-2tj5ga" type="radio" aria-label="Light"/> <label for="light" class="e f p-2tj5ga" title="Light" aria-label="Light"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <input id="system" class="c d p-2tj5ga" type="radio" aria-label="System"/> <label for="system" class="e g p-2tj5ga" title="System" aria-label="System"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <input id="dark" class="c d p-2tj5ga" type="radio" aria-label="Dark"/> <label for="dark" class="e h p-2tj5ga" title="Dark" aria-label="Dark"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <div class="i p-2tj5ga"><div class="j p-2tj5ga"></div></div></fieldset></div>');function ma(M,P){R(P,!0);const{createBroadcastChannel:h}=ta(),c=h(),s={Light:"light",System:"system",Dark:"dark"};let y=la(na(localStorage.getItem("colorScheme")||s.System));const S=t=>{localStorage.setItem("colorScheme",t);const n=document.querySelector('meta[name="theme-color"]'),m=document.querySelector('meta[name="apple-mobile-web-app-status-bar-style"]');t===s.System?window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.dataset.colorScheme=s.Dark:document.documentElement.dataset.colorScheme=s.Light:document.documentElement.dataset.colorScheme=t,n&&(t===s.Dark||t===s.System&&window.matchMedia("(prefers-color-scheme: dark)").matches?(n.content="#000",m.content="black"):(n.content="#f7f7f7",m.content="black-translucent")),ca(y,t,!0)},x=t=>{const n=t.target.value;S(n),c.postMessage({type:"setColorScheme",data:{scheme:n}})},f="color-scheme-switcher";ra(()=>{const t=n=>{const m=JSON.parse(n.data);m?.type==="setColorScheme"&&m?.data.scheme&&S(m.data.scheme)};return c.addEventListener(t),()=>{c.removeEventListener(t)}});var I={setColorScheme:S,handleChange:x},w=ha(),z=a(w),_=l(a(z),2);i(_,"name",f),_.__change=x;var k=l(_,2),b=a(k);d(b,()=>({"--size":"20px"})),v(b.lastChild,{name:"sun"});var g=l(k,2);i(g,"name",f),g.__change=x;var C=l(g,2),D=a(C);d(D,()=>({"--size":"14px"})),v(D.lastChild,{name:"a"});var p=l(C,2);i(p,"name",f),p.__change=x;var B=l(p,2),j=a(B);return d(j,()=>({"--size":"20px"})),v(j.lastChild,{name:"moon"}),K(()=>{T(_,s.Light),q(_,o(y)===s.Light),T(g,s.System),q(g,o(y)===s.System),T(p,s.Dark),q(p,o(y)===s.Dark)}),O(M,w),U(I)}V(["change"]);var _a=J('<li class="p-1n1lsx"><a class="b p-1n1lsx"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="c p-1n1lsx">Install app</span></a></li>'),ga=J('<div class="a p-1n1lsx"><!> <ul class="p-1n1lsx"><!> <li class="p-1n1lsx"><a class="b p-1n1lsx"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="c p-1n1lsx">Account</span></a></li> <li class="p-1n1lsx"><a class="b p-1n1lsx"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="c p-1n1lsx">Import data</span></a></li> <li class="p-1n1lsx"><a class="b p-1n1lsx"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="c p-1n1lsx">Export data</span></a></li> <li class="p-1n1lsx"><a class="b p-1n1lsx"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="c p-1n1lsx">Clear storage</span></a></li> <li class="p-1n1lsx"><a class="b p-1n1lsx"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="c p-1n1lsx">About</span></a></li></ul> <div class="d p-1n1lsx"><span class="e p-1n1lsx">show favicons (use duckduckgo servers)</span> <!></div> <div class="f p-1n1lsx"><div class="g p-1n1lsx">Hotkeys:</div> <div>New note: <span class="h p-1n1lsx">N</span></div> <div>Search notes: <span class="h p-1n1lsx">Ctrl/Cmd + K</span></div> <div>Open sidebar: <span class="h p-1n1lsx">Ctrl/Cmd + B</span></div> <div>Close window: <span class="h p-1n1lsx">Esc</span></div></div></div>');function xa(M,P){R(P,!0);const{createDialogPageHref:h,createHandleClickDialogPage:c}=oa(),{setFaviconShown:s,getFaviconEnabled:y}=pa();let S=u(y);const x=e=>{s(e)};var f=ga(),I=a(f);ma(I,{});var w=l(I,2),z=a(w);{var _=e=>{var L=_a(),E=a(L),$=u(()=>c(r.Install));E.__click=function(...H){o($)?.apply(this,H)};var A=a(E);d(A,()=>({"--size":"28px"})),v(A.lastChild,{name:"install"}),K(H=>i(E,"href",H),[()=>h(r.Install)]),O(e,L)};ia(z,e=>{da()||e(_)})}var k=l(z,2),b=a(k),g=u(()=>c(r.Account));b.__click=function(...e){o(g)?.apply(this,e)};var C=a(b);d(C,()=>({"--size":"28px"})),v(C.lastChild,{name:"account"});var D=l(k,2),p=a(D),B=u(()=>c(r.ImportData));p.__click=function(...e){o(B)?.apply(this,e)};var j=a(p);d(j,()=>({"--size":"28px"})),v(j.lastChild,{name:"import"});var t=l(D,2),n=a(t),m=u(()=>c(r.ExportData));n.__click=function(...e){o(m)?.apply(this,e)};var W=a(n);d(W,()=>({"--size":"28px"})),v(W.lastChild,{name:"export"});var Z=l(t,2),F=a(Z),X=u(()=>c(r.ClearStore));F.__click=function(...e){o(X)?.apply(this,e)};var G=a(F);d(G,()=>({"--size":"28px"})),v(G.lastChild,{name:"clear"});var Y=l(Z,2),N=a(Y),aa=u(()=>c(r.About));N.__click=function(...e){o(aa)?.apply(this,e)};var Q=a(N);d(Q,()=>({"--size":"28px"})),v(Q.lastChild,{name:"about"});var ea=l(w,2),sa=l(a(ea),2);va(sa,{get checked(){return o(S)},onChange:x}),K((e,L,E,$,A)=>{i(b,"href",e),i(p,"href",L),i(n,"href",E),i(F,"href",$),i(N,"href",A)},[()=>h(r.Account),()=>h(r.ImportData),()=>h(r.ExportData),()=>h(r.ClearStore),()=>h(r.About)]),O(M,f),U()}V(["click"]);export{xa as default};
