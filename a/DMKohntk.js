const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["a/Bv2ocV67.js","a/1JBO3KHP.css","a/q5gh-AzR.js","a/BAW-HnOs.css","a/CaA-3DG-.js","a/9q_jSmK4.js","a/BEGDcNQV.js","a/CoBIEQkN.css","a/BhXiMg2M.js","a/BYiYfrGn.css","a/Bm0_2pnm.js","a/A07xSe-1.css","a/CHHK59cT.js","a/B_UsPGEu.css","a/BbekH15Z.js","a/Cpa8lgv9.js","a/DmN3pgfk.js","a/j0KFa_-O.css","a/hu7yjlv8.css","a/DDz67Cht.js","a/C8xmMaG3.js","a/DfRmfh2L.css","a/HOTUjnfJ.css","a/BYLsI1aE.js","a/DdvqrzuO.css","a/BCsKuIMb.js","a/B0cemaEl.css","a/Ckpb1fdh.js","a/wHiSqZiK.css","a/DPVMsAjd.js","a/BP9Ll-gD.js","a/BJkY6727.css","a/0_fQDin0.js","a/CTvV7MYb.css","a/B9M0okLN.js","a/D0s4m_LM.css","a/B9VeUoKw.js","a/CwLtx71M.css","a/BqEa19Jf.js","a/CBB22PtM.css"])))=>i.map(i=>d[i]);
var Ts=Object.defineProperty;var Fa=e=>{throw TypeError(e)};var As=(e,t,n)=>t in e?Ts(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var En=(e,t,n)=>As(e,typeof t!="symbol"?t+"":t,n),Xr=(e,t,n)=>t.has(e)||Fa("Cannot "+n);var T=(e,t,n)=>(Xr(e,t,"read from private field"),n?n.call(e):t.get(e)),ue=(e,t,n)=>t.has(e)?Fa("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Z=(e,t,n,r)=>(Xr(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),qe=(e,t,n)=>(Xr(e,t,"access private method"),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();const ro=!1;var ga=Array.isArray,Ls=Array.prototype.indexOf,_a=Array.from,ra=Object.defineProperty,Dn=Object.getOwnPropertyDescriptor,ao=Object.getOwnPropertyDescriptors,Bs=Object.prototype,Ms=Array.prototype,pa=Object.getPrototypeOf,Ha=Object.isExtensible;const ce=()=>{};function Is(e){return typeof e?.then=="function"}function Os(e){return e()}function Pr(e){for(var t=0;t<e.length;t++)e[t]()}function Rs(){var e,t,n=new Promise((r,a)=>{e=r,t=a});return{promise:n,resolve:e,reject:t}}function Fs(e,t,n=!1){return e===void 0?n?t():t:e}const et=2,ma=4,Br=8,zn=16,Lt=32,dn=64,wa=128,it=256,xr=512,Ue=1024,lt=2048,$t=4096,_t=8192,fn=16384,ya=32768,Un=65536,za=1<<17,Hs=1<<18,jn=1<<19,oo=1<<20,aa=1<<21,Sa=1<<22,an=1<<23,on=Symbol("$state"),zs=Symbol("legacy props"),Us=Symbol(""),ba=new class extends Error{constructor(){super(...arguments);En(this,"name","StaleReactionError");En(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function so(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function js(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Vs(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function qs(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Ws(e){throw new Error("https://svelte.dev/e/effect_orphan")}function $s(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Ys(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function Ks(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Gs(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Xs(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Zs(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const Mr=1,Ir=2,io=4,Js=8,Qs=16,ei=1,ti=2,ni=4,ri=8,ai=16,oi=1,si=2,Te=Symbol(),ii="http://www.w3.org/1999/xhtml";let li=!1;function lo(e){return e===this.v}function ci(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function co(e){return!ci(e,this.v)}let Vn=!1,ui=!1;function di(){Vn=!0}let me=null;function Wt(e){me=e}function Ce(e){return uo().get(e)}function Pe(e,t){return uo().set(e,t),t}function $(e,t=!1,n){me={p:me,c:null,e:null,s:e,x:null,l:Vn&&!t?{s:null,u:null,$:[]}:null}}function Y(e){var t=me,n=t.e;if(n!==null){t.e=null;for(var r of n)Po(r)}return e!==void 0&&(t.x=e),me=t.p,e??{}}function qn(){return!Vn||me!==null&&me.l===null}function uo(e){return me===null&&so(),me.c??(me.c=new Map(fi(me)||void 0))}function fi(e){let t=e.p;for(;t!==null;){const n=t.c;if(n!==null)return n;t=t.p}return null}let Ut=[],Dr=[];function fo(){var e=Ut;Ut=[],Pr(e)}function vi(){var e=Dr;Dr=[],Pr(e)}function hi(){return Ut.length>0||Dr.length>0}function vn(e){if(Ut.length===0&&!Qn){var t=Ut;queueMicrotask(()=>{t===Ut&&fo()})}Ut.push(e)}function gi(){Ut.length>0&&fo(),Dr.length>0&&vi()}const _i=new WeakMap;function vo(e){var t=se;if(t===null)return re.f|=an,e;if((t.f&ya)===0){if((t.f&wa)===0)throw!t.parent&&e instanceof Error&&ho(e),e;t.b.error(e)}else On(e,t)}function On(e,t){for(;t!==null;){if((t.f&wa)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e instanceof Error&&ho(e),e}function ho(e){const t=_i.get(e);t&&(ra(e,"message",{value:t.message}),ra(e,"stack",{value:t.stack}))}const Zr=new Set;let we=null,Sr=null,oa=new Set,cn=[],Or=null,sa=!1,Qn=!1;var or,Bn,Ot,sr,ir,Qt,Mn,en,Rt,In,lr,cr,pt,go,br,ia;const Tr=class Tr{constructor(){ue(this,pt);En(this,"current",new Map);ue(this,or,new Map);ue(this,Bn,new Set);ue(this,Ot,0);ue(this,sr,null);ue(this,ir,!1);ue(this,Qt,[]);ue(this,Mn,[]);ue(this,en,[]);ue(this,Rt,[]);ue(this,In,[]);ue(this,lr,[]);ue(this,cr,[]);En(this,"skipped_effects",new Set)}process(t){cn=[],Sr=null;for(const a of t)qe(this,pt,go).call(this,a);if(T(this,Qt).length===0&&T(this,Ot)===0){qe(this,pt,ia).call(this);var n=T(this,en),r=T(this,Rt);Z(this,en,[]),Z(this,Rt,[]),Z(this,In,[]),Sr=we,we=null,Ua(n),Ua(r),we===null?we=this:Zr.delete(this),T(this,sr)?.resolve()}else qe(this,pt,br).call(this,T(this,en)),qe(this,pt,br).call(this,T(this,Rt)),qe(this,pt,br).call(this,T(this,In));for(const a of T(this,Qt))An(a);for(const a of T(this,Mn))An(a);Z(this,Qt,[]),Z(this,Mn,[])}capture(t,n){T(this,or).has(t)||T(this,or).set(t,n),this.current.set(t,t.v)}activate(){we=this}deactivate(){we=null,Sr=null;for(const t of oa)if(oa.delete(t),t(),we!==null)break}neuter(){Z(this,ir,!0)}flush(){cn.length>0?po():qe(this,pt,ia).call(this),we===this&&(T(this,Ot)===0&&Zr.delete(this),this.deactivate())}increment(){Z(this,Ot,T(this,Ot)+1)}decrement(){if(Z(this,Ot,T(this,Ot)-1),T(this,Ot)===0){for(const t of T(this,lr))Ke(t,lt),Rn(t);for(const t of T(this,cr))Ke(t,$t),Rn(t);Z(this,en,[]),Z(this,Rt,[]),this.flush()}else this.deactivate()}add_callback(t){T(this,Bn).add(t)}settled(){return(T(this,sr)??Z(this,sr,Rs())).promise}static ensure(){if(we===null){const t=we=new Tr;Zr.add(we),Qn||Tr.enqueue(()=>{we===t&&t.flush()})}return we}static enqueue(t){vn(t)}};or=new WeakMap,Bn=new WeakMap,Ot=new WeakMap,sr=new WeakMap,ir=new WeakMap,Qt=new WeakMap,Mn=new WeakMap,en=new WeakMap,Rt=new WeakMap,In=new WeakMap,lr=new WeakMap,cr=new WeakMap,pt=new WeakSet,go=function(t){t.f^=Ue;for(var n=t.first;n!==null;){var r=n.f,a=(r&(Lt|dn))!==0,o=a&&(r&Ue)!==0,s=o||(r&_t)!==0||this.skipped_effects.has(n);if(!s&&n.fn!==null){if(a)n.f^=Ue;else if((r&ma)!==0)T(this,Rt).push(n);else if((r&Ue)===0)if((r&Sa)!==0){var l=n.b?.is_pending()?T(this,Mn):T(this,Qt);l.push(n)}else zr(n)&&((n.f&zn)!==0&&T(this,In).push(n),An(n));var c=n.first;if(c!==null){n=c;continue}}var u=n.parent;for(n=n.next;n===null&&u!==null;)n=u.next,u=u.parent}},br=function(t){for(const n of t)((n.f&lt)!==0?T(this,lr):T(this,cr)).push(n),Ke(n,Ue);t.length=0},ia=function(){if(!T(this,ir))for(const t of T(this,Bn))t();T(this,Bn).clear()};let Vt=Tr;function _o(e){var t=Qn;Qn=!0;try{for(var n;;){if(gi(),cn.length===0&&!hi()&&(we?.flush(),cn.length===0))return Or=null,n;po()}}finally{Qn=t}}function po(){var e=Tn;sa=!0;try{var t=0;for(qa(!0);cn.length>0;){var n=Vt.ensure();if(t++>1e3){var r,a;pi()}n.process(cn),qt.clear()}}finally{sa=!1,qa(e),Or=null}}function pi(){try{$s()}catch(e){On(e,Or)}}let Jt=null;function Ua(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if((r.f&(fn|_t))===0&&zr(r)&&(Jt=[],An(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?No(r):r.fn=null),Jt?.length>0)){qt.clear();for(const a of Jt)An(a);Jt=[]}}Jt=null}}function Rn(e){for(var t=Or=e;t.parent!==null;){t=t.parent;var n=t.f;if(sa&&t===se&&(n&zn)!==0)return;if((n&(dn|Lt))!==0){if((n&Ue)===0)return;t.f^=Ue}}cn.push(t)}function mi(e){let t=0,n=Tt(0),r;return()=>{Mi()&&(i(n),Hr(()=>(t===0&&(r=At(()=>e(()=>er(n)))),t+=1,()=>{vn(()=>{t-=1,t===0&&(r?.(),r=void 0,er(n))})})))}}var wi=Un|jn|wa;function yi(e,t,n){new Si(e,t,n)}var ht,ot,ha,bt,tn,kt,st,Ye,Et,Ft,nn,Ht,rn,zt,Ar,Lr,$e,bi,ki,kr,Er,la;class Si{constructor(t,n,r){ue(this,$e);En(this,"parent");ue(this,ht,!1);ue(this,ot);ue(this,ha,null);ue(this,bt);ue(this,tn);ue(this,kt);ue(this,st,null);ue(this,Ye,null);ue(this,Et,null);ue(this,Ft,null);ue(this,nn,0);ue(this,Ht,0);ue(this,rn,!1);ue(this,zt,null);ue(this,Ar,()=>{T(this,zt)&&Dt(T(this,zt),T(this,nn))});ue(this,Lr,mi(()=>(Z(this,zt,Tt(T(this,nn))),()=>{Z(this,zt,null)})));Z(this,ot,t),Z(this,bt,n),Z(this,tn,r),this.parent=se.b,Z(this,ht,!!T(this,bt).pending),Z(this,kt,Wn(()=>{se.b=this;{try{Z(this,st,ze(()=>r(T(this,ot))))}catch(a){this.error(a)}T(this,Ht)>0?qe(this,$e,Er).call(this):Z(this,ht,!1)}},wi))}is_pending(){return T(this,ht)||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!T(this,bt).pending}update_pending_count(t){qe(this,$e,la).call(this,t),Z(this,nn,T(this,nn)+t),oa.add(T(this,Ar))}get_effect_pending(){return T(this,Lr).call(this),i(T(this,zt))}error(t){var n=T(this,bt).onerror;let r=T(this,bt).failed;if(T(this,rn)||!n&&!r)throw t;T(this,st)&&(Qe(T(this,st)),Z(this,st,null)),T(this,Ye)&&(Qe(T(this,Ye)),Z(this,Ye,null)),T(this,Et)&&(Qe(T(this,Et)),Z(this,Et,null));var a=!1,o=!1;const s=()=>{if(a){return}a=!0,o&&Zs(),Vt.ensure(),Z(this,nn,0),T(this,Et)!==null&&Ct(T(this,Et),()=>{Z(this,Et,null)}),Z(this,ht,this.has_pending_snippet()),Z(this,st,qe(this,$e,kr).call(this,()=>(Z(this,rn,!1),ze(()=>T(this,tn).call(this,T(this,ot)))))),T(this,Ht)>0?qe(this,$e,Er).call(this):Z(this,ht,!1)};var l=re;try{je(null),o=!0,n?.(t,s),o=!1}catch(c){On(c,T(this,kt)&&T(this,kt).parent)}finally{je(l)}r&&vn(()=>{Z(this,Et,qe(this,$e,kr).call(this,()=>{Z(this,rn,!0);try{return ze(()=>{r(T(this,ot),()=>t,()=>s)})}catch(c){return On(c,T(this,kt).parent),null}finally{Z(this,rn,!1)}}))})}}ht=new WeakMap,ot=new WeakMap,ha=new WeakMap,bt=new WeakMap,tn=new WeakMap,kt=new WeakMap,st=new WeakMap,Ye=new WeakMap,Et=new WeakMap,Ft=new WeakMap,nn=new WeakMap,Ht=new WeakMap,rn=new WeakMap,zt=new WeakMap,Ar=new WeakMap,Lr=new WeakMap,$e=new WeakSet,bi=function(){try{Z(this,st,ze(()=>T(this,tn).call(this,T(this,ot))))}catch(t){this.error(t)}Z(this,ht,!1)},ki=function(){const t=T(this,bt).pending;t&&(Z(this,Ye,ze(()=>t(T(this,ot)))),Vt.enqueue(()=>{Z(this,st,qe(this,$e,kr).call(this,()=>(Vt.ensure(),ze(()=>T(this,tn).call(this,T(this,ot)))))),T(this,Ht)>0?qe(this,$e,Er).call(this):(Ct(T(this,Ye),()=>{Z(this,Ye,null)}),Z(this,ht,!1))}))},kr=function(t){var n=se,r=re,a=me;ct(T(this,kt)),je(T(this,kt)),Wt(T(this,kt).ctx);try{return t()}catch(o){return vo(o),null}finally{ct(n),je(r),Wt(a)}},Er=function(){const t=T(this,bt).pending;T(this,st)!==null&&(Z(this,Ft,document.createDocumentFragment()),Ei(T(this,st),T(this,Ft))),T(this,Ye)===null&&Z(this,Ye,ze(()=>t(T(this,ot))))},la=function(t){var n;if(!this.has_pending_snippet()){this.parent&&qe(n=this.parent,$e,la).call(n,t);return}Z(this,Ht,T(this,Ht)+t),T(this,Ht)===0&&(Z(this,ht,!1),T(this,Ye)&&Ct(T(this,Ye),()=>{Z(this,Ye,null)}),T(this,Ft)&&(T(this,ot).before(T(this,Ft)),Z(this,Ft,null)))};function Ei(e,t){for(var n=e.nodes_start,r=e.nodes_end;n!==null;){var a=n===r?null:dr(n);t.append(n),n=a}}function Ci(e,t,n){const r=qn()?ur:Rr;if(t.length===0){n(e.map(r));return}var a=we,o=se,s=Pi();Promise.all(t.map(l=>xi(l))).then(l=>{a?.activate(),s();try{n([...e.map(r),...l])}catch(c){(o.f&fn)===0&&On(c,o)}a?.deactivate(),mo()}).catch(l=>{On(l,o)})}function Pi(){var e=se,t=re,n=me,r=we;return function(){ct(e),je(t),Wt(n),r?.activate()}}function mo(){ct(null),je(null),Wt(null)}function ur(e){var t=et|lt,n=re!==null&&(re.f&et)!==0?re:null;return se===null||n!==null&&(n.f&it)!==0?t|=it:se.f|=jn,{ctx:me,deps:null,effects:null,equals:lo,f:t,fn:e,reactions:null,rv:0,v:Te,wv:0,parent:n??se,ac:null}}function xi(e,t){let n=se;n===null&&js();var r=n.b,a=void 0,o=Tt(Te),s=null,l=!re;return Hi(()=>{try{var c=e();s&&Promise.resolve(c).catch(()=>{})}catch(h){c=Promise.reject(h)}var u=()=>c;a=s?.then(u,u)??Promise.resolve(c),s=a;var f=we,d=r.is_pending();l&&(r.update_pending_count(1),d||f.increment());const g=(h,v=void 0)=>{s=null,d||f.activate(),v?v!==ba&&(o.f|=an,Dt(o,v)):((o.f&an)!==0&&(o.f^=an),Dt(o,h)),l&&(r.update_pending_count(-1),d||f.decrement()),mo()};if(a.then(g,h=>g(null,h||"unknown")),f)return()=>{queueMicrotask(()=>f.neuter())}}),new Promise(c=>{function u(f){function d(){f===a?c(o):u(a)}f.then(d,d)}u(a)})}function R(e){const t=ur(e);return Lo(t),t}function Rr(e){const t=ur(e);return t.equals=co,t}function wo(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)Qe(t[n])}}function Di(e){for(var t=e.parent;t!==null;){if((t.f&et)===0)return t;t=t.parent}return null}function ka(e){var t,n=se;ct(Di(e));try{wo(e),t=Oo(e)}finally{ct(n)}return t}function yo(e){var t=ka(e);if(e.equals(t)||(e.v=t,e.wv=Mo()),!gn){var n=(jt||(e.f&it)!==0)&&e.deps!==null?$t:Ue;Ke(e,n)}}const qt=new Map;function Tt(e,t){var n={f:0,v:e,reactions:null,equals:lo,rv:0,wv:0};return n}function z(e,t){const n=Tt(e);return Lo(n),n}function ca(e,t=!1,n=!0){var a;const r=Tt(e);return t||(r.equals=co),Vn&&n&&me!==null&&me.l!==null&&((a=me.l).s??(a.s=[])).push(r),r}function P(e,t,n=!1){re!==null&&(!gt||(re.f&za)!==0)&&qn()&&(re.f&(et|zn|Sa|za))!==0&&!Nt?.includes(e)&&Xs();let r=n?Oe(t):t;return Dt(e,r)}function Dt(e,t){if(!e.equals(t)){var n=e.v;gn?qt.set(e,t):qt.set(e,n),e.v=t;var r=Vt.ensure();r.capture(e,n),(e.f&et)!==0&&((e.f&lt)!==0&&ka(e),Ke(e,(e.f&it)===0?Ue:$t)),e.wv=Mo(),So(e,lt),qn()&&se!==null&&(se.f&Ue)!==0&&(se.f&(Lt|dn))===0&&(at===null?ji([e]):at.push(e))}return t}function er(e){P(e,e.v+1)}function So(e,t){var n=e.reactions;if(n!==null)for(var r=qn(),a=n.length,o=0;o<a;o++){var s=n[o],l=s.f;if(!(!r&&s===se)){var c=(l&lt)===0;c&&Ke(s,t),(l&et)!==0?So(s,$t):c&&((l&zn)!==0&&Jt!==null&&Jt.push(s),Rn(s))}}}function Oe(e){if(typeof e!="object"||e===null||on in e)return e;const t=pa(e);if(t!==Bs&&t!==Ms)return e;var n=new Map,r=ga(e),a=z(0),o=sn,s=l=>{if(sn===o)return l();var c=re,u=sn;je(null),$a(o);var f=l();return je(c),$a(u),f};return r&&n.set("length",z(e.length)),new Proxy(e,{defineProperty(l,c,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&Ks();var f=n.get(c);return f===void 0?f=s(()=>{var d=z(u.value);return n.set(c,d),d}):P(f,u.value,!0),!0},deleteProperty(l,c){var u=n.get(c);if(u===void 0){if(c in l){const f=s(()=>z(Te));n.set(c,f),er(a)}}else P(u,Te),er(a);return!0},get(l,c,u){if(c===on)return e;var f=n.get(c),d=c in l;if(f===void 0&&(!d||Dn(l,c)?.writable)&&(f=s(()=>{var h=Oe(d?l[c]:Te),v=z(h);return v}),n.set(c,f)),f!==void 0){var g=i(f);return g===Te?void 0:g}return Reflect.get(l,c,u)},getOwnPropertyDescriptor(l,c){var u=Reflect.getOwnPropertyDescriptor(l,c);if(u&&"value"in u){var f=n.get(c);f&&(u.value=i(f))}else if(u===void 0){var d=n.get(c),g=d?.v;if(d!==void 0&&g!==Te)return{enumerable:!0,configurable:!0,value:g,writable:!0}}return u},has(l,c){if(c===on)return!0;var u=n.get(c),f=u!==void 0&&u.v!==Te||Reflect.has(l,c);if(u!==void 0||se!==null&&(!f||Dn(l,c)?.writable)){u===void 0&&(u=s(()=>{var g=f?Oe(l[c]):Te,h=z(g);return h}),n.set(c,u));var d=i(u);if(d===Te)return!1}return f},set(l,c,u,f){var d=n.get(c),g=c in l;if(r&&c==="length")for(var h=u;h<d.v;h+=1){var v=n.get(h+"");v!==void 0?P(v,Te):h in l&&(v=s(()=>z(Te)),n.set(h+"",v))}if(d===void 0)(!g||Dn(l,c)?.writable)&&(d=s(()=>z(void 0)),P(d,Oe(u)),n.set(c,d));else{g=d.v!==Te;var _=s(()=>Oe(u));P(d,_)}var w=Reflect.getOwnPropertyDescriptor(l,c);if(w?.set&&w.set.call(f,u),!g){if(r&&typeof c=="string"){var b=n.get("length"),k=Number(c);Number.isInteger(k)&&k>=b.v&&P(b,k+1)}er(a)}return!0},ownKeys(l){i(a);var c=Reflect.ownKeys(l).filter(d=>{var g=n.get(d);return g===void 0||g.v!==Te});for(var[u,f]of n)f.v!==Te&&!(u in l)&&c.push(u);return c},setPrototypeOf(){Gs()}})}var ja,bo,ko,Eo;function Ni(){if(ja===void 0){ja=window,bo=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;ko=Dn(t,"firstChild").get,Eo=Dn(t,"nextSibling").get,Ha(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Ha(n)&&(n.__t=void 0)}}function hn(e=""){return document.createTextNode(e)}function Fn(e){return ko.call(e)}function dr(e){return Eo.call(e)}function N(e,t){return Fn(e)}function B(e,t=!1){{var n=Fn(e);return n instanceof Comment&&n.data===""?dr(n):n}}function j(e,t=1,n=!1){let r=e;for(;t--;)r=dr(r);return r}function Ti(e){e.textContent=""}function Ea(){return!1}let Va=!1;function Ai(){Va||(Va=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function Fr(e){var t=re,n=se;je(null),ct(null);try{return e()}finally{je(t),ct(n)}}function Li(e,t,n,r=n){e.addEventListener(t,()=>Fr(n));const a=e.__on_r;a?e.__on_r=()=>{a(),r(!0)}:e.__on_r=()=>r(!0),Ai()}function Co(e){se===null&&re===null&&Ws(),re!==null&&(re.f&it)!==0&&se===null&&qs(),gn&&Vs()}function Bi(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function Pt(e,t,n,r=!0){var a=se;a!==null&&(a.f&_t)!==0&&(e|=_t);var o={ctx:me,deps:null,nodes_start:null,nodes_end:null,f:e|lt,first:null,fn:t,last:null,next:null,parent:a,b:a&&a.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{An(o),o.f|=ya}catch(c){throw Qe(o),c}else t!==null&&Rn(o);if(r){var s=o;if(n&&s.deps===null&&s.teardown===null&&s.nodes_start===null&&s.first===s.last&&(s.f&jn)===0&&(s=s.first),s!==null&&(s.parent=a,a!==null&&Bi(s,a),re!==null&&(re.f&et)!==0&&(e&dn)===0)){var l=re;(l.effects??(l.effects=[])).push(s)}}return o}function Mi(){return re!==null&&!gt}function Ii(e){const t=Pt(Br,null,!1);return Ke(t,Ue),t.teardown=e,t}function Be(e){Co();var t=se.f,n=!re&&(t&Lt)!==0&&(t&ya)===0;if(n){var r=me;(r.e??(r.e=[])).push(e)}else return Po(e)}function Po(e){return Pt(ma|oo,e,!1)}function Oi(e){return Co(),Pt(Br|oo,e,!0)}function Ri(e){Vt.ensure();const t=Pt(dn|jn,e,!0);return(n={})=>new Promise(r=>{n.outro?Ct(t,()=>{Qe(t),r(void 0)}):(Qe(t),r(void 0))})}function Fi(e){return Pt(ma,e,!1)}function Hi(e){return Pt(Sa|jn,e,!0)}function Hr(e,t=0){return Pt(Br|t,e,!0)}function ve(e,t=[],n=[]){Ci(t,n,r=>{Pt(Br,()=>e(...r.map(i)),!0)})}function Wn(e,t=0){var n=Pt(zn|t,e,!0);return n}function ze(e,t=!0){return Pt(Lt|jn,e,!0,t)}function xo(e){var t=e.teardown;if(t!==null){const n=gn,r=re;Wa(!0),je(null);try{t.call(null)}finally{Wa(n),je(r)}}}function Do(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const a=n.ac;a!==null&&Fr(()=>{a.abort(ba)});var r=n.next;(n.f&dn)!==0?n.parent=null:Qe(n,t),n=r}}function zi(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&Lt)===0&&Qe(t),t=n}}function Qe(e,t=!0){var n=!1;(t||(e.f&Hs)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(Ui(e.nodes_start,e.nodes_end),n=!0),Do(e,t&&!n),Nr(e,0),Ke(e,fn);var r=e.transitions;if(r!==null)for(const o of r)o.stop();xo(e);var a=e.parent;a!==null&&a.first!==null&&No(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function Ui(e,t){for(;e!==null;){var n=e===t?null:dr(e);e.remove(),e=n}}function No(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function Ct(e,t){var n=[];Ca(e,n,!0),To(n,()=>{Qe(e),t&&t()})}function To(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var a of e)a.out(r)}else t()}function Ca(e,t,n){if((e.f&_t)===0){if(e.f^=_t,e.transitions!==null)for(const s of e.transitions)(s.is_global||n)&&t.push(s);for(var r=e.first;r!==null;){var a=r.next,o=(r.f&Un)!==0||(r.f&Lt)!==0;Ca(r,t,o?n:!1),r=a}}}function Nn(e){Ao(e,!0)}function Ao(e,t){if((e.f&_t)!==0){e.f^=_t,(e.f&Ue)===0&&(Ke(e,lt),Rn(e));for(var n=e.first;n!==null;){var r=n.next,a=(n.f&Un)!==0||(n.f&Lt)!==0;Ao(n,a?t:!1),n=r}if(e.transitions!==null)for(const o of e.transitions)(o.is_global||t)&&o.in()}}let Tn=!1;function qa(e){Tn=e}let gn=!1;function Wa(e){gn=e}let re=null,gt=!1;function je(e){re=e}let se=null;function ct(e){se=e}let Nt=null;function Lo(e){re!==null&&(Nt===null?Nt=[e]:Nt.push(e))}let We=null,Ze=0,at=null;function ji(e){at=e}let Bo=1,tr=0,sn=tr;function $a(e){sn=e}let jt=!1;function Mo(){return++Bo}function zr(e){var t=e.f;if((t&lt)!==0)return!0;if((t&$t)!==0){var n=e.deps,r=(t&it)!==0;if(n!==null){var a,o,s=(t&xr)!==0,l=r&&se!==null&&!jt,c=n.length;if((s||l)&&(se===null||(se.f&fn)===0)){var u=e,f=u.parent;for(a=0;a<c;a++)o=n[a],(s||!o?.reactions?.includes(u))&&(o.reactions??(o.reactions=[])).push(u);s&&(u.f^=xr),l&&f!==null&&(f.f&it)===0&&(u.f^=it)}for(a=0;a<c;a++)if(o=n[a],zr(o)&&yo(o),o.wv>e.wv)return!0}(!r||se!==null&&!jt)&&Ke(e,Ue)}return!1}function Io(e,t,n=!0){var r=e.reactions;if(r!==null&&!Nt?.includes(e))for(var a=0;a<r.length;a++){var o=r[a];(o.f&et)!==0?Io(o,t,!1):t===o&&(n?Ke(o,lt):(o.f&Ue)!==0&&Ke(o,$t),Rn(o))}}function Oo(e){var _;var t=We,n=Ze,r=at,a=re,o=jt,s=Nt,l=me,c=gt,u=sn,f=e.f;We=null,Ze=0,at=null,jt=(f&it)!==0&&(gt||!Tn||re===null),re=(f&(Lt|dn))===0?e:null,Nt=null,Wt(e.ctx),gt=!1,sn=++tr,e.ac!==null&&(Fr(()=>{e.ac.abort(ba)}),e.ac=null);try{e.f|=aa;var d=e.fn,g=d(),h=e.deps;if(We!==null){var v;if(Nr(e,Ze),h!==null&&Ze>0)for(h.length=Ze+We.length,v=0;v<We.length;v++)h[Ze+v]=We[v];else e.deps=h=We;if(!jt||(f&et)!==0&&e.reactions!==null)for(v=Ze;v<h.length;v++)((_=h[v]).reactions??(_.reactions=[])).push(e)}else h!==null&&Ze<h.length&&(Nr(e,Ze),h.length=Ze);if(qn()&&at!==null&&!gt&&h!==null&&(e.f&(et|$t|lt))===0)for(v=0;v<at.length;v++)Io(at[v],e);return a!==null&&a!==e&&(tr++,at!==null&&(r===null?r=at:r.push(...at))),(e.f&an)!==0&&(e.f^=an),g}catch(w){return vo(w)}finally{e.f^=aa,We=t,Ze=n,at=r,re=a,jt=o,Nt=s,Wt(l),gt=c,sn=u}}function Vi(e,t){let n=t.reactions;if(n!==null){var r=Ls.call(n,e);if(r!==-1){var a=n.length-1;a===0?n=t.reactions=null:(n[r]=n[a],n.pop())}}n===null&&(t.f&et)!==0&&(We===null||!We.includes(t))&&(Ke(t,$t),(t.f&(it|xr))===0&&(t.f^=xr),wo(t),Nr(t,0))}function Nr(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)Vi(e,n[r])}function An(e){var t=e.f;if((t&fn)===0){Ke(e,Ue);var n=se,r=Tn;se=e,Tn=!0;try{(t&zn)!==0?zi(e):Do(e),xo(e);var a=Oo(e);e.teardown=typeof a=="function"?a:null,e.wv=Bo;var o;ro&&ui&&(e.f&lt)!==0&&e.deps}finally{Tn=r,se=n}}}async function Ro(){await Promise.resolve(),_o()}function i(e){var t=e.f,n=(t&et)!==0;if(re!==null&&!gt){var r=se!==null&&(se.f&fn)!==0;if(!r&&!Nt?.includes(e)){var a=re.deps;if((re.f&aa)!==0)e.rv<tr&&(e.rv=tr,We===null&&a!==null&&a[Ze]===e?Ze++:We===null?We=[e]:(!jt||!We.includes(e))&&We.push(e));else{(re.deps??(re.deps=[])).push(e);var o=e.reactions;o===null?e.reactions=[re]:o.includes(re)||o.push(re)}}}else if(n&&e.deps===null&&e.effects===null){var s=e,l=s.parent;l!==null&&(l.f&it)===0&&(s.f^=it)}if(gn){if(qt.has(e))return qt.get(e);if(n){s=e;var c=s.v;return((s.f&Ue)===0&&s.reactions!==null||Fo(s))&&(c=ka(s)),qt.set(s,c),c}}else n&&(s=e,zr(s)&&yo(s));if((e.f&an)!==0)throw e.v;return e.v}function Fo(e){if(e.v===Te)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(qt.has(t)||(t.f&et)!==0&&Fo(t))return!0;return!1}function At(e){var t=gt;try{return gt=!0,e()}finally{gt=t}}const qi=-7169;function Ke(e,t){e.f=e.f&qi|t}function Wi(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(on in e)ua(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&on in n&&ua(n)}}}function ua(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{ua(e[r],t)}catch{}const n=pa(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=ao(n);for(let a in r){const o=r[a].get;if(o)try{o.call(e)}catch{}}}}}const $i=["touchstart","touchmove"];function Yi(e){return $i.includes(e)}const Ho=new Set,da=new Set;function Ki(e,t,n,r={}){function a(o){if(r.capture||Kn.call(t,o),!o.cancelBubble)return Fr(()=>n?.call(this,o))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?vn(()=>{t.addEventListener(e,a,r)}):t.addEventListener(e,a,r),a}function Pa(e,t,n,r,a){var o={capture:r,passive:a},s=Ki(e,t,n,o);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&Ii(()=>{t.removeEventListener(e,s,o)})}function tt(e){for(var t=0;t<e.length;t++)Ho.add(e[t]);for(var n of da)n(e)}let Ya=null;function Kn(e){var t=this,n=t.ownerDocument,r=e.type,a=e.composedPath?.()||[],o=a[0]||e.target;Ya=e;var s=0,l=Ya===e&&e.__root;if(l){var c=a.indexOf(l);if(c!==-1&&(t===document||t===window)){e.__root=t;return}var u=a.indexOf(t);if(u===-1)return;c<=u&&(s=c)}if(o=a[s]||e.target,o!==t){ra(e,"currentTarget",{configurable:!0,get(){return o||n}});var f=re,d=se;je(null),ct(null);try{for(var g,h=[];o!==null;){var v=o.assignedSlot||o.parentNode||o.host||null;try{var _=o["__"+r];if(_!=null&&(!o.disabled||e.target===o))if(ga(_)){var[w,...b]=_;w.apply(o,[e,...b])}else _.call(o,e)}catch(k){g?h.push(k):g=k}if(e.cancelBubble||v===t||v===null)break;o=v}if(g){for(let k of h)queueMicrotask(()=>{throw k});throw g}}finally{e.__root=t,delete e.currentTarget,je(f),ct(d)}}}function zo(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function nr(e,t){var n=se;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function W(e,t){var n=(t&oi)!==0,r=(t&si)!==0,a,o=!e.startsWith("<!>");return()=>{a===void 0&&(a=zo(o?e:"<!>"+e),n||(a=Fn(a)));var s=r||bo?document.importNode(a,!0):a.cloneNode(!0);if(n){var l=Fn(s),c=s.lastChild;nr(l,c)}else nr(s,s);return s}}function Gi(e,t,n="svg"){var r=!e.startsWith("<!>"),a=`<${n}>${r?e:"<!>"+e}</${n}>`,o;return()=>{if(!o){var s=zo(a),l=Fn(s);o=Fn(l)}var c=o.cloneNode(!0);return nr(c,c),c}}function Xi(e,t){return Gi(e,t,"svg")}function Le(e=""){{var t=hn(e+"");return nr(t,t),t}}function F(){var e=document.createDocumentFragment(),t=document.createComment(""),n=hn();return e.append(t,n),nr(t,n),e}function m(e,t){e!==null&&e.before(t)}function yd(){var e;return(e=window.__svelte??(window.__svelte={})).uid??(e.uid=1),`c${window.__svelte.uid++}`}function rr(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function Zi(e,t){return Ji(e,t)}const Cn=new Map;function Ji(e,{target:t,anchor:n,props:r={},events:a,context:o,intro:s=!0}){Ni();var l=new Set,c=d=>{for(var g=0;g<d.length;g++){var h=d[g];if(!l.has(h)){l.add(h);var v=Yi(h);t.addEventListener(h,Kn,{passive:v});var _=Cn.get(h);_===void 0?(document.addEventListener(h,Kn,{passive:v}),Cn.set(h,1)):Cn.set(h,_+1)}}};c(_a(Ho)),da.add(c);var u=void 0,f=Ri(()=>{var d=n??t.appendChild(hn());return yi(d,{pending:()=>{}},g=>{if(o){$({});var h=me;h.c=o}a&&(r.$$events=a),u=e(g,r)||{},o&&Y()}),()=>{for(var g of l){t.removeEventListener(g,Kn);var h=Cn.get(g);--h===0?(document.removeEventListener(g,Kn),Cn.delete(g)):Cn.set(g,h)}da.delete(c),d!==n&&d.parentNode?.removeChild(d)}});return Qi.set(u,f),u}let Qi=new WeakMap;const Jr=0,wr=1,Qr=2;function Uo(e,t,n,r,a){var o=e,s=qn(),l=me,c=Te,u,f,d,g=s?Tt(void 0):ca(void 0,!1,!1),h=s?Tt(void 0):ca(void 0,!1,!1),v=!1;function _(b,k){v=!0,k&&(ct(w),je(w),Wt(l));try{b===Jr&&n&&(u?Nn(u):u=ze(()=>n(o))),b===wr&&r&&(f?Nn(f):f=ze(()=>r(o,g))),b===Qr&&a&&(d?Nn(d):d=ze(()=>a(o,h))),b!==Jr&&u&&Ct(u,()=>u=null),b!==wr&&f&&Ct(f,()=>f=null),b!==Qr&&d&&Ct(d,()=>d=null)}finally{k&&(Wt(null),je(null),ct(null),_o())}}var w=Wn(()=>{if(c!==(c=t())){if(Is(c)){var b=c;v=!1,b.then(k=>{b===c&&(Dt(g,k),_(wr,!0))},k=>{if(b===c&&(Dt(h,k),_(Qr,!0),!a))throw h.v}),vn(()=>{v||_(Jr,!0)})}else Dt(g,c),_(wr,!1);return()=>c=Te}})}function U(e,t,n=!1){var r=e,a=null,o=null,s=Te,l=n?Un:0,c=!1;const u=(h,v=!0)=>{c=!0,g(v,h)};var f=null;function d(){f!==null&&(f.lastChild.remove(),r.before(f),f=null);var h=s?a:o,v=s?o:a;h&&Nn(h),v&&Ct(v,()=>{s?o=null:a=null})}const g=(h,v)=>{if(s!==(s=h)){var _=Ea(),w=r;if(_&&(f=document.createDocumentFragment(),f.append(w=hn())),s?a??(a=v&&ze(()=>v(w))):o??(o=v&&ze(()=>v(w))),_){var b=we,k=s?a:o,E=s?o:a;k&&b.skipped_effects.delete(k),E&&b.skipped_effects.add(E),b.add_callback(d)}else d()}};Wn(()=>{c=!1,t(u),c||g(null,null)},l)}function ke(e,t){Hr(()=>{var n=t();for(var r in n){var a=n[r];a?e.style.setProperty(r,a):e.style.removeProperty(r)}})}function el(e,t,n){for(var r=e.items,a=[],o=t.length,s=0;s<o;s++)Ca(t[s].e,a,!0);var l=o>0&&a.length===0&&n!==null;if(l){var c=n.parentNode;Ti(c),c.append(n),r.clear(),St(e,t[0].prev,t[o-1].next)}To(a,()=>{for(var u=0;u<o;u++){var f=t[u];l||(r.delete(f.k),St(e,f.prev,f.next)),Qe(f.e,!l)}})}function xn(e,t,n,r,a,o=null){var s=e,l={flags:t,items:new Map,first:null},c=(t&io)!==0;if(c){var u=e;s=u.appendChild(hn())}var f=null,d=!1,g=new Map,h=Rr(()=>{var b=n();return ga(b)?b:b==null?[]:_a(b)}),v,_;function w(){tl(_,v,l,g,s,a,t,r,n),o!==null&&(v.length===0?f?Nn(f):f=ze(()=>o(s)):f!==null&&Ct(f,()=>{f=null}))}Wn(()=>{_??(_=se),v=i(h);var b=v.length;if(!(d&&b===0)){d=b===0;var k,E,D,C;if(Ea()){var p=new Set,S=we;for(E=0;E<b;E+=1){D=v[E],C=r(D,E);var y=l.items.get(C)??g.get(C);y?(t&(Mr|Ir))!==0&&jo(y,D,E,t):(k=Vo(null,l,null,null,D,C,E,a,t,n,!0),g.set(C,k)),p.add(C)}for(const[x,A]of l.items)p.has(x)||S.skipped_effects.add(A.e);S.add_callback(w)}else w();i(h)}})}function tl(e,t,n,r,a,o,s,l,c){var u=(s&Js)!==0,f=(s&(Mr|Ir))!==0,d=t.length,g=n.items,h=n.first,v=h,_,w=null,b,k=[],E=[],D,C,p,S;if(u)for(S=0;S<d;S+=1)D=t[S],C=l(D,S),p=g.get(C),p!==void 0&&(p.a?.measure(),(b??(b=new Set)).add(p));for(S=0;S<d;S+=1){if(D=t[S],C=l(D,S),p=g.get(C),p===void 0){var y=r.get(C);if(y!==void 0){r.delete(C),g.set(C,y);var x=w?w.next:v;St(n,w,y),St(n,y,x),ea(y,x,a),w=y}else{var A=v?v.e.nodes_start:a;w=Vo(A,n,w,w===null?n.first:w.next,D,C,S,o,s,c)}g.set(C,w),k=[],E=[],v=w.next;continue}if(f&&jo(p,D,S,s),(p.e.f&_t)!==0&&(Nn(p.e),u&&(p.a?.unfix(),(b??(b=new Set)).delete(p))),p!==v){if(_!==void 0&&_.has(p)){if(k.length<E.length){var O=E[0],G;w=O.prev;var te=k[0],ie=k[k.length-1];for(G=0;G<k.length;G+=1)ea(k[G],O,a);for(G=0;G<E.length;G+=1)_.delete(E[G]);St(n,te.prev,ie.next),St(n,w,te),St(n,ie,O),v=O,w=ie,S-=1,k=[],E=[]}else _.delete(p),ea(p,v,a),St(n,p.prev,p.next),St(n,p,w===null?n.first:w.next),St(n,w,p),w=p;continue}for(k=[],E=[];v!==null&&v.k!==C;)(v.e.f&_t)===0&&(_??(_=new Set)).add(v),E.push(v),v=v.next;if(v===null)continue;p=v}k.push(p),w=p,v=p.next}if(v!==null||_!==void 0){for(var ae=_===void 0?[]:_a(_);v!==null;)(v.e.f&_t)===0&&ae.push(v),v=v.next;var J=ae.length;if(J>0){var L=(s&io)!==0&&d===0?a:null;if(u){for(S=0;S<J;S+=1)ae[S].a?.measure();for(S=0;S<J;S+=1)ae[S].a?.fix()}el(n,ae,L)}}u&&vn(()=>{if(b!==void 0)for(p of b)p.a?.apply()}),e.first=n.first&&n.first.e,e.last=w&&w.e;for(var I of r.values())Qe(I.e);r.clear()}function jo(e,t,n,r){(r&Mr)!==0&&Dt(e.v,t),(r&Ir)!==0?Dt(e.i,n):e.i=n}function Vo(e,t,n,r,a,o,s,l,c,u,f){var d=(c&Mr)!==0,g=(c&Qs)===0,h=d?g?ca(a,!1,!1):Tt(a):a,v=(c&Ir)===0?s:Tt(s),_={i:v,v:h,k:o,a:null,e:null,prev:n,next:r};try{if(e===null){var w=document.createDocumentFragment();w.append(e=hn())}return _.e=ze(()=>l(e,h,v,u),li),_.e.prev=n&&n.e,_.e.next=r&&r.e,n===null?f||(t.first=_):(n.next=_,n.e.next=_.e),r!==null&&(r.prev=_,r.e.prev=_.e),_}finally{}}function ea(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,a=t?t.e.nodes_start:n,o=e.e.nodes_start;o!==null&&o!==r;){var s=dr(o);a.before(o),o=s}}function St(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function oe(e,t,...n){var r=e,a=ce,o;Wn(()=>{a!==(a=t())&&(o&&(Qe(o),o=null),o=ze(()=>a(r,...n)))},Un)}function qo(e,t,n){var r=e,a,o,s=null,l=null;function c(){o&&(Ct(o),o=null),s&&(s.lastChild.remove(),r.before(s),s=null),o=l,l=null}Wn(()=>{if(a!==(a=t())){var u=Ea();if(a){var f=r;u&&(s=document.createDocumentFragment(),s.append(f=hn()),o&&we.skipped_effects.add(o)),l=ze(()=>n(f,a))}u?we.add_callback(c):c()}},Un)}function Wo(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=Wo(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function nl(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=Wo(e))&&(r&&(r+=" "),r+=t);return r}function he(e){return typeof e=="object"?nl(e):e??""}const Ka=[...` 	
\r\f \v\uFEFF`];function rl(e,t,n){var r=e==null?"":""+e;if(t&&(r=r?r+" "+t:t),n){for(var a in n)if(n[a])r=r?r+" "+a:a;else if(r.length)for(var o=a.length,s=0;(s=r.indexOf(a,s))>=0;){var l=s+o;(s===0||Ka.includes(r[s-1]))&&(l===r.length||Ka.includes(r[l]))?r=(s===0?"":r.substring(0,s))+r.substring(l+1):s=l}}return r===""?null:r}function al(e,t){return e==null?null:String(e)}function ge(e,t,n,r,a,o){var s=e.__className;if(s!==n||s===void 0){var l=rl(n,r,o);l==null?e.removeAttribute("class"):e.className=l,e.__className=n}else if(o&&a!==o)for(var c in o){var u=!!o[c];(a==null||u!==!!a[c])&&e.classList.toggle(c,u)}return o}function ar(e,t,n,r){var a=e.__style;if(a!==t){var o=al(t);o==null?e.removeAttribute("style"):e.style.cssText=o,e.__style=t}return r}const ol=Symbol("is custom element"),sl=Symbol("is html");function Sd(e,t){var n=xa(e);n.value===(n.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function bd(e,t){var n=xa(e);n.checked!==(n.checked=t??void 0)&&(e.checked=t)}function xe(e,t,n,r){var a=xa(e);a[t]!==(a[t]=n)&&(t==="loading"&&(e[Us]=n),n==null?e.removeAttribute(t):typeof n!="string"&&il(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function xa(e){return e.__attributes??(e.__attributes={[ol]:e.nodeName.includes("-"),[sl]:e.namespaceURI===ii})}var Ga=new Map;function il(e){var t=e.getAttribute("is")||e.nodeName,n=Ga.get(t);if(n)return n;Ga.set(t,n=[]);for(var r,a=e,o=Element.prototype;o!==a;){r=ao(a);for(var s in r)r[s].set&&n.push(s);a=pa(a)}return n}function ll(e,t,n=t){var r=new WeakSet;Li(e,"input",async a=>{var o=a?e.defaultValue:e.value;if(o=ta(e)?na(o):o,n(o),we!==null&&r.add(we),await Ro(),o!==(o=t())){var s=e.selectionStart,l=e.selectionEnd;e.value=o??"",l!==null&&(e.selectionStart=s,e.selectionEnd=Math.min(l,e.value.length))}}),At(t)==null&&e.value&&(n(ta(e)?na(e.value):e.value),we!==null&&r.add(we)),Hr(()=>{var a=t();if(e===document.activeElement){var o=Sr??we;if(r.has(o))return}ta(e)&&a===na(e.value)||e.type==="date"&&!a&&!e.value||a!==e.value&&(e.value=a??"")})}function ta(e){var t=e.type;return t==="number"||t==="range"}function na(e){return e===""?null:+e}function Xa(e,t){return e===t||e?.[on]===t}function mt(e={},t,n,r){return Fi(()=>{var a,o;return Hr(()=>{a=o,o=[],At(()=>{e!==n(...o)&&(t(e,...o),a&&Xa(n(...a),e)&&t(null,...a))})}),()=>{vn(()=>{o&&Xa(n(...o),e)&&t(null,...o)})}}),e}function Da(e=!1){const t=me,n=t.l.u;if(!n)return;let r=()=>Wi(t.s);if(e){let a=0,o={};const s=ur(()=>{let l=!1;const c=t.s;for(const u in c)c[u]!==o[u]&&(o[u]=c[u],l=!0);return l&&a++,a});r=()=>i(s)}n.b.length&&Oi(()=>{Za(t,r),Pr(n.b)}),Be(()=>{const a=At(()=>n.m.map(Os));return()=>{for(const o of a)typeof o=="function"&&o()}}),n.a.length&&Be(()=>{Za(t,r),Pr(n.a)})}function Za(e,t){if(e.l.s)for(const n of e.l.s)i(n);t()}let yr=!1;function cl(e){var t=yr;try{return yr=!1,[e(),yr]}finally{yr=t}}function fe(e,t,n,r){var a=!Vn||(n&ti)!==0,o=(n&ri)!==0,s=(n&ai)!==0,l=r,c=!0,u=()=>(c&&(c=!1,l=s?At(r):r),l),f;if(o){var d=on in e||zs in e;f=Dn(e,t)?.set??(d&&t in e?E=>e[t]=E:void 0)}var g,h=!1;o?[g,h]=cl(()=>e[t]):g=e[t],g===void 0&&r!==void 0&&(g=u(),f&&(a&&Ys(),f(g)));var v;if(a?v=()=>{var E=e[t];return E===void 0?u():(c=!0,E)}:v=()=>{var E=e[t];return E!==void 0&&(l=void 0),E===void 0?l:E},a&&(n&ni)===0)return v;if(f){var _=e.$$legacy;return(function(E,D){return arguments.length>0?((!a||!D||_||h)&&f(D?v():E),E):v()})}var w=!1,b=((n&ei)!==0?ur:Rr)(()=>(w=!1,v()));o&&i(b);var k=se;return(function(E,D){if(arguments.length>0){const C=D?i(b):a&&o?Oe(E):E;return P(b,C),w=!0,l!==void 0&&(l=C),E}return gn&&w||(k.f&fn)!==0?b.v:i(b)})}function ye(e){me===null&&so(),Vn&&me.l!==null?ul(me).m.push(e):Be(()=>{const t=At(e);if(typeof t=="function")return t})}function ul(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const dl="5";var no;typeof window<"u"&&((no=window.__svelte??(window.__svelte={})).v??(no.v=new Set)).add(dl);di();const $o={};function fl(e){Pe($o,e)}function Na(){const e=Ce($o);if(!e)throw new Error("No RelatedTagsContext found");return e}function vl(e,t){$(t,!0);let n=z({});fl({getRelatedTags:()=>i(n),setRelatedTags:o=>{P(n,o)}});var r=F(),a=B(r);oe(a,()=>t.children??ce),m(e,r),Y()}const Yo={};function hl(e){Pe(Yo,e)}function Ko(){const e=Ce(Yo);if(!e)throw new Error("No SearchContext found");return e}const Go={};function gl(e){Pe(Go,e)}function wt(){const e=Ce(Go);if(!e)throw new Error("No AppHistoryContext found");return e}function _l(e,t){$(t,!0);const{replace:n,getAppHistory:r}=wt(),a=R(r),o="search",s=Oe({value:new URLSearchParams(r().search).get(o)||""}),l=f=>{const d=new URLSearchParams(i(a).search),g=i(a).pathname;(d.get(o)||"")!==f&&(f===""?d.delete(o):d.set(o,f),n(`${g}${d.size>0?`?${d.toString()}`:""}`))};Be(()=>{const f=s.value;At(()=>{l(f)})}),hl(s);var c=F(),u=B(c);oe(u,()=>t.children??ce),m(e,c),Y()}const Xo={};function pl(e){Pe(Xo,e)}function Zo(){const e=Ce(Xo);if(!e)throw new Error("No TagSearchContext found");return e}function ml(e,t){$(t,!0);const n=Oe({value:""});pl(n);var r=F(),a=B(r);oe(a,()=>t.children??ce),m(e,r),Y()}const Jo={};function wl(e){Pe(Jo,e)}function Qo(){const e=Ce(Jo);if(!e)throw new Error("No FeedOrderContext found");return e}function yl(e,t){$(t,!0);const{navigate:n,getAppHistory:r}=wt(),a=R(r),o="feedOrder";let s=z(Oe(new URLSearchParams(r().search).get(o)||"newest"));wl({getFeedOrder:()=>i(s),setFeedOrder:d=>{P(s,d,!0);const g=new URLSearchParams(i(a).search);d==="newest"?g.delete(o):g.set(o,d),n(`${i(a).pathname}${g.size>0?`?${g.toString()}`:""}`)}});var u=F(),f=B(u);oe(f,()=>t.children??ce),m(e,u),Y()}const es={};function Sl(e){Pe(es,e)}function ts(){const e=Ce(es);if(!e)throw new Error("No SidebarContext found");return e}function bl(e,t){$(t,!0);const n=(f,d)=>{if(!d)return f;if(d.type==="closed")return{type:"closed"};switch(f.type){case"opened":return d.type==="close"?{type:"closing"}:d.type==="swipe"?{type:"openSwiping"}:f;case"closed":return d.type==="open"?{type:"opening"}:d.type==="swipe"?{type:"closeSwiping"}:f;case"openSwiping":return d.type==="open"?{type:"opening"}:d.type==="close"?{type:"closing"}:f;case"closeSwiping":return d.type==="open"?{type:"opening"}:d.type==="close"?{type:"closing"}:f;case"opening":return d.type==="opened"?{type:"opened"}:f;default:return f}};let r=z(Oe(n({type:"closed"})));const a=f=>{P(r,n(i(r),f),!0)};Sl({sidebarOpen:()=>{a({type:"open"})},sidebarClose:()=>{a({type:"close"})},handleComputeState:a,getSidebarState:()=>i(r)});var c=F(),u=B(c);oe(u,()=>t.children??ce),m(e,c),Y()}const ns={};function kl(e){Pe(ns,e)}function El(){const e=Ce(ns);if(!e)throw new Error("No SelectedTagsContext found");return e}function Cl(e,t){$(t,!0);const{getAppHistory:n}=wt(),r=()=>new URLSearchParams(n().search).get("selectedTags")?.split(",")||[];let a=r();kl({getSelectedTags:()=>{const c=r();return c.join(",")===a.join(",")||(a=c),a}});var s=F(),l=B(s);oe(l,()=>t.children??ce),m(e,s),Y()}const rs={};function Pl(e){Pe(rs,e)}function fr(){const e=Ce(rs);if(!e)throw new Error("No LocalDBContext found");return e}const as={};function xl(e){Pe(as,e)}function Dl(){const e=Ce(as);if(!e)throw new Error("No SettingsContext found");return e}const os={};function Nl(e){Pe(os,e)}function vr(){const e=Ce(os);if(!e)throw new Error("No BroadcastContext found");return e}const Tl="AppStorage",Al=1,Gn="account",Cr="settings",vt="notes",Xn="drafts",Zt="bin",Ll="tags",Bl="syncLog",_n="success",pn="error",Ve=(e,t,n)=>{e?.addEventListener(t,n)},Ln=(e,t)=>new Promise((n,r)=>{const o=e?.transaction(t,"readonly")?.objectStore(t).getAll();Ve(o,_n,()=>{const s=o?.result||[];n(s)}),Ve(o,pn,s=>{r(s)})}),fa=(e,t,n)=>new Promise((r,a)=>{const s=e?.transaction(t,"readonly")?.objectStore(t).get(n);Ve(s,_n,()=>{const l=s?.result?.data;r(l)}),Ve(s,pn,l=>{a(l)})}),ln=(e,t,n,r)=>new Promise((a,o)=>{const c=e?.transaction(t,"readwrite")?.objectStore(t)?.put({id:n,data:r});Ve(c,_n,()=>{a()}),Ve(c,pn,u=>{o(u)})}),Ml=async(e,t,n)=>{const a=e?.transaction(t,"readwrite")?.objectStore(t);await Promise.all(n.map(o=>{const s=a?.put(o);return new Promise((l,c)=>{Ve(s,_n,()=>{l()}),Ve(s,pn,u=>{c(u)})})}))},Ta=(e,t,n)=>new Promise((r,a)=>{const l=e?.transaction(t,"readwrite")?.objectStore(t)?.delete(n);Ve(l,_n,()=>{r()}),Ve(l,pn,c=>{a(c)})}),un=(e,t)=>new Promise((n,r)=>{const s=e?.transaction(t,"readwrite")?.objectStore(t)?.clear();Ve(s,_n,()=>{n()}),Ve(s,pn,l=>{r(l)})});function Il(e,t){$(t,!0);let n=z(Oe({showFavicon:!1}));const{getDB:r}=fr(),{createBroadcastChannel:a,tabId:o}=vr(),s=a(),l=R(r),c=async()=>{const _=await fa(i(l),Cr,"default");_&&P(n,_,!0)},u=async()=>{c()},f=async _=>{const w=JSON.parse(_.data),b=w;if(w.tabId&&w.tabId===o){b.type==="exit"&&(P(n,{showFavicon:!1},!0),un(i(l),Cr));return}b.type==="updateSettings"?c():b.type==="exit"&&P(n,{showFavicon:!1},!0)},d=()=>i(n).showFavicon,g=async _=>{i(n).showFavicon=_,await ln(i(l),Cr,"default",{showFavicon:_}),s.postMessage({type:"updateSettings"})};ye(()=>(u(),s.addEventListener(f),()=>{s.removeEventListener(f)})),xl({getFaviconEnabled:d,setFaviconShown:g});var h=F(),v=B(h);oe(v,()=>t.children??ce),m(e,h),Y()}const ss={};function Ol(e){Pe(ss,e)}function Aa(){const e=Ce(ss);if(!e)throw new Error("No AccountContext found");return e}const is={};function Rl(e){Pe(is,e)}function Bt(){const e=Ce(is);if(!e)throw new Error("No StackPagesContext found");return e}function Fl(e,t){$(t,!0);const{navigate:n}=wt(),{hasStackPage:r,pushStackPages:a,clearStackPages:o}=Bt();let s=z(void 0);const{getDB:l}=fr(),{createBroadcastChannel:c,tabId:u}=vr(),f=R(l),d=c(),g=async()=>{const S=await fa(i(f),Gn,"default");S&&(P(s,S,!0),o(),n("/"))},h=S=>ln(i(f),Gn,"default",S),v=async()=>{const S=await fa(i(f),Gn,"default");S===void 0?a("start"):(r("start")&&(o(),n("/")),S?P(s,S,!0):P(s,null))},_=async S=>{const y=JSON.parse(S.data);if(y.tabId&&y.tabId===u)return;const x=y;x.type==="initLocalAccount"?(P(s,null),o(),n("/")):x.type==="initCloudAccount"?(g(),o(),n("/")):x.type==="disconnectCloudAccount"?P(s,null):x.type==="exit"?P(s,void 0):x.type==="updateAccount"&&g()};ye(()=>(v(),d.addEventListener(_),()=>{d.removeEventListener(_)})),Ol({getAccount:()=>i(s),initLocalAccount:async()=>{P(s,null),await h(null),d.postMessage({type:"initLocalAccount"})},initCloudAccount:async S=>{const y={encryptedClientKey:S.encryptedClientKey||"",subscriptionExpires:S.subscriptionExpires||-1,lastSync:-1};await h(y),P(s,y,!0),d.postMessage({type:"initCloudAccount"})},disconnectCloudAccount:async()=>{P(s,null),await h(null),d.postMessage({type:"disconnectCloudAccount"})},updateSubscription:async S=>{if(!i(s))throw new Error("No account to update subscription for");const y={...i(s),subscriptionExpires:S};await h(y),d.postMessage({type:"updateAccount"})},exitApp:async()=>{P(s,void 0),d.postMessage({type:"exit"}),await un(i(f),Gn)}});var C=F(),p=B(C);oe(p,()=>t.children??ce),m(e,C),Y()}const ls={};function Hl(e){Pe(ls,e)}function zl(){const e=Ce(ls);if(!e)throw new Error("No DraftsContext found");return e}function Ul(e,t){$(t,!0);const{getDB:n}=fr(),{createBroadcastChannel:r,tabId:a}=vr(),o=R(n),s=r();let l=z(void 0);const c=()=>{const C=i(l)?.();if(!C)throw new Error("Drafts state is not initialized");return{mapDrafts:C}},u=C=>{P(l,()=>C)},f=C=>{const p=new Map;C.forEach(S=>{p.set(S.id,S)}),P(l,()=>p)},d=async()=>{const C=await Ln(i(o),Xn);f(C)},g=C=>{const{mapDrafts:p}=c();return p.get(C)},h=C=>{const{mapDrafts:p}=c();p.delete(C),u(p)},v=C=>{const{mapDrafts:p}=c();p.set(C.id,C),u(p)},_=async C=>{const p={...C};v(p),s.postMessage({type:"putDraft",data:{draft:p}}),await ln(i(o),Xn,p.id,{...p.data})},w=async C=>{h(C),await Ta(i(o),Xn,C),s.postMessage({type:"deleteDraft",data:{id:C}})},b=()=>!!i(l)?.(),k=async C=>{const p=JSON.parse(C.data),S=p;if(p.tabId&&p.tabId===a){S.type==="exit"&&(u(new Map),un(i(o),Xn));return}if(S.type==="putDraft"){const y=S.data.draft;v(y)}else if(S.type==="deleteDraft"){const y=S.data.id;h(y)}else S.type==="exit"&&u(new Map)};ye(()=>(d(),s.addEventListener(k),()=>{s.removeEventListener(k)})),Hl({getDraft:g,putDraft:_,deleteDraft:w,isReadyDrafts:b});var E=F(),D=B(E);oe(D,()=>t.children??ce),m(e,E),Y()}const cs={};function jl(e){Pe(cs,e)}function Ur(){const e=Ce(cs);if(!e)throw new Error("No NotesContext found");return e}const Vl=()=>crypto.randomUUID(),us={};function ql(e){Pe(us,e)}function La(){const e=Ce(us);if(!e)throw new Error("No NotesBinContext found");return e}function Wl(e,t){$(t,!0);const{getDB:n}=fr(),{createBroadcastChannel:r,tabId:a}=vr(),o=R(n),s=r(),{deleteDraft:l}=zl(),{addNoteInBin:c}=La();let u=z(()=>{}),f=z(()=>{});const d=()=>{const L=i(u)?.(),I=i(f)?.();if(!L||!I)throw new Error("Notes state is not initialized");return{notes:L,mapNotes:I}},g=(L,I)=>{P(u,()=>L),P(f,()=>I)},h=L=>{const I=[],M=new Map;for(const H of L)I.push(H),M.set(H.id,H);g(I,M)},v=async()=>{const L=await Ln(i(o),vt);h(L)},_=()=>i(u),w=()=>i(f),b=L=>{const{notes:I,mapNotes:M}=d(),H={...L};I.push(H),M.set(H.id,H),g(I,M)},k=L=>{const{notes:I,mapNotes:M}=d();for(let H=0;H<I.length;H++)I[H]?.id===L.id&&I&&(I[H]=L);M.set(L.id,L),g(I,M)},E=L=>{const{notes:I,mapNotes:M}=d();M.delete(L);const H=I.findIndex(ee=>ee?.id===L);H!==-1&&(I[H]=void 0),g(I,M)},D=()=>{h([])},C=async L=>{const I={id:Vl(),data:{...L,createdAt:Date.now(),updatedAt:Date.now()}};b(I),s.postMessage({type:"addNote",data:{note:I}}),await ln(i(o),vt,I.id,{...I.data})},p=async L=>{const I={id:L.id,data:{...L.data,updatedAt:Date.now()}};s.postMessage({type:"updateNote",data:{note:I}}),k(I),await ln(i(o),vt,I.id,{...I.data})},S=(L,I)=>{const{mapNotes:M}=d(),H=M.get(L);if(!H)return;const ee={...H,deleting:I};s.postMessage({type:"updateNote",data:{note:ee}}),k(ee)},y=async(L,I)=>{const{mapNotes:M}=d(),H=M.get(L);if(!H)return;const ee={id:L,data:{...H.data,pinned:I}};s.postMessage({type:"updateNote",data:{note:ee}}),k(ee),await ln(i(o),vt,ee.id,{...ee.data})},x=async L=>{const{mapNotes:I}=d(),M=I.get(L);M&&(M&&l(M.id),s.postMessage({type:"deleteNote",data:{id:L}}),E(L),await c(M),await Ta(i(o),vt,L))},A=async()=>{s.postMessage({type:"clearNotes"}),D(),await un(i(o),vt)},O=async L=>{const{mapNotes:I}=d(),M={};L.forEach(ee=>{const _e=I.get(ee.id);_e?_e&&_e.data.updatedAt<ee.data.updatedAt&&(M[ee.id]=ee):M[ee.id]=ee}),await Ml(i(o),vt,Object.values(M)),s.postMessage({type:"reloadNotes"});const H=await Ln(i(o),vt);h(H)},G=L=>{const{mapNotes:I}=d();return I.get(L)},te=()=>!!i(f)?.(),ie=async L=>{const I=JSON.parse(L.data),M=I;if(I.tabId&&I.tabId===a){M.type==="exit"&&(g([],new Map),await un(i(o),vt));return}if(M.type==="addNote"){const H=M.data.note;b(H)}else if(M.type==="updateNote"){const H=M.data.note;k(H)}else if(M.type==="deleteNote"){const H=M.data.id;E(H)}else if(M.type==="clearNotes")D();else if(M.type==="reloadNotes"){const H=await Ln(i(o),vt);h(H)}else M.type==="exit"&&g([],new Map)};ye(()=>(v(),s.addEventListener(ie),()=>{s.removeEventListener(ie)})),jl({addNote:C,updateNote:p,deleteNote:x,pinNote:y,setDeleting:S,getGetNotes:_,getGetMapNotes:w,importNotes:O,clearNotes:A,getNoteById:G,isReadyNotes:te});var ae=F(),J=B(ae);oe(J,()=>t.children??ce),m(e,ae),Y()}function $l(e,t){$(t,!0);const n=720*60*60*1e3,{getDB:r}=fr(),{createBroadcastChannel:a,tabId:o}=vr(),s=R(r),l=a();let c=z(()=>{}),u=z(()=>{});const f=()=>{const y=i(c)?.(),x=i(u)?.();if(!y||!x)throw new Error("NotesBin state is not initialized");return{notesBin:y,mapNotesBin:x}},d=(y,x)=>{P(c,()=>y),P(u,()=>x)},g=y=>{const x=[],A=new Map;y.forEach(O=>{x.push(O),A.set(O.id,O)}),d(x,A)},h=async()=>{const x=(await Ln(i(s),Zt)).filter(A=>A.data.deletedAt&&Date.now()-A.data.deletedAt<n?!0:(Ta(i(s),Zt,A.id),!1));g(x)},v=y=>{const{notesBin:x,mapNotesBin:A}=f(),O={...y};x.push(O),A.set(O.id,O),d(x,A)},_=y=>{const{notesBin:x,mapNotesBin:A}=f();for(let O=0;O<x.length;O++)x[O]?.id===y.id&&x&&(x[O]=y);A.set(y.id,y),d(x,A)},w=y=>{const{mapNotesBin:x,notesBin:A}=f();x.delete(y);const O=A.findIndex(G=>G?.id===y);O!==-1&&(A[O]=void 0),d(A,x)},b=()=>{g([])},k=async y=>{const x={id:y.id,data:{...y.data,deletedAt:Date.now()}};v(x),l.postMessage({type:"deleteNoteFromBin",data:{id:x.id}}),await ln(i(s),Zt,x.id,{...x.data})},E=()=>(i(c)()?.length||0)>0,D=async()=>{b(),await un(i(s),Zt),l.postMessage({type:"emptyBin"})},C=async y=>{const x=JSON.parse(y.data),A=x;if(x.tabId&&x.tabId===o){A.type==="exit"&&(d([],new Map),un(i(s),Zt));return}if(A.type==="addNoteInBin"){const O=A.data.note;v(O)}else if(A.type==="updateNoteBin"){const O=A.data.note;_(O)}else if(A.type==="deleteNoteFromBin"){const O=A.data.id;w(O)}else if(A.type==="emptyBin")b();else if(A.type==="reloadNotesBin"){const O=await Ln(i(s),Zt);g(O)}else A.type==="exit"&&d([],new Map)};ye(()=>(h(),l.addEventListener(C),()=>{l.removeEventListener(C)})),ql({addNoteInBin:k,checkNotesInBin:E,emptyBin:D});var p=F(),S=B(p);oe(S,()=>t.children??ce),m(e,p),Y()}const ds={},Yl=()=>({working:!1,swipingRatio:1,isSwiping:!1,duration:.35});function Kl(e){Pe(ds,e)}function $n(){const e=Ce(ds);if(!e)throw new Error("No AnimationSettingsContext found");return e}function Gl(e,t){$(t,!0);let n=Oe(Yl());Kl(n);var r=F(),a=B(r);oe(a,()=>t.children??ce),m(e,r),Y()}const fs={};function Xl(e){Pe(fs,e)}function vs(){const e=Ce(fs);if(!e)throw new Error("No ScrollingContext found");return e}const hs=(e,t)=>{let n=null;return()=>{n&&clearTimeout(n),n=setTimeout(()=>{n=null,e()},t)}};async function Zl(){if(navigator.storage&&navigator.storage.persist)try{await navigator.storage.persisted()||await navigator.storage.persist()}catch{}}function Jl(e,t){$(t,!0);let n=z(!1);const r=()=>i(n),a=hs(()=>{P(n,!1)},100);Xl({isScrolling:r,enable:()=>{P(n,!0),a()}});var s=F(),l=B(s);oe(l,()=>t.children??ce),m(e,s),Y()}const gs={};function Ql(e){Pe(gs,e)}function Yn(){const e=Ce(gs);if(!e)throw new Error("No MobileSizeContext found");return e}function ec(e,t){$(t,!0);const n=()=>window.matchMedia("(max-width: 767px)").matches;let r=z(Oe(n())),a=$n();const o=hs(()=>{a.working=!0},16),s=()=>{a.working=!1,o(),requestAnimationFrame(()=>{P(r,n(),!0)})};Ql({checkMobileSize:()=>i(r)}),ye(()=>(window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)));var c=F(),u=B(c);oe(u,()=>t.children??ce),m(e,c),Y()}const _s={};function tc(e){Pe(_s,e)}function hr(){const e=Ce(_s);if(!e)throw new Error("No DialogContext found");return e}function nc(e,t){$(t,!0);let n=z(0),r=z(!1),a=z(!1);tc({checkExistedDialog:()=>i(n)>0,showDialog:()=>{P(n,i(n)+1)},hideDialog:()=>{P(n,i(n)-1)},blockDialog:v=>{P(r,v,!0),v||P(a,!1)},checkBlockedDialog:()=>i(r),unBlockBackDialog:v=>{P(a,v,!0)},checkUnBlockedBackDialog:()=>i(a)});var g=F(),h=B(g);oe(h,()=>t.children??ce),m(e,g),Y()}const ps={};function rc(e){Pe(ps,e)}function Ba(){const e=Ce(ps);if(!e)throw new Error("No ScrollContainerContext found");return e}function ac(e,t){$(t,!0);let n=z(null);rc({setScrollContainer:l=>{P(n,l,!0)},getScrollContainer:()=>i(n)});var o=F(),s=B(o);oe(s,()=>t.children??ce),m(e,o),Y()}const ms={};function oc(e){Pe(ms,e)}function Ma(){const e=Ce(ms);if(!e)throw new Error("No DialogPageHeightContext found");return e}function sc(e,t){$(t,!0);let n=z(200);oc({setDialogPageHeight:l=>{P(n,l,!0)},getDialogPageHeight:()=>i(n)});var o=F(),s=B(o);oe(s,()=>t.children??ce),m(e,o),Y()}const ic=[Gn,Cr,vt,Xn,Zt,Ll,Bl];function lc(){return new Promise((e,t)=>{const n=indexedDB.open(Tl,Al);Ve(n,"upgradeneeded",()=>{const r=n.result;for(const a of ic)r.objectStoreNames.contains(a)||r.createObjectStore(a,{keyPath:"id"})}),Ve(n,_n,()=>{const r=n.result;e(r),r.onversionchange=function(){r?.close(),alert("app outdated, please reload the page")}}),Ve(n,"blocked",()=>{t(),alert("app outdated, please reload the page")}),Ve(n,pn,()=>{t()})})}function cc(e,t){$(t,!0);let n=z(null);ye(()=>{lc().then(l=>{P(n,l,!0)})}),Pl({getDB:()=>i(n)});var a=F(),o=B(a);{var s=l=>{var c=F(),u=B(c);oe(u,()=>t.children??ce),m(l,c)};U(o,l=>{i(n)&&l(s)})}m(e,a),Y()}function uc(e,t){$(t,!0);const{getAppHistory:n,navigate:r}=wt(),a=()=>new URLSearchParams(n().search).get("stackPages")?.split(",")||[];let o=z(Oe(a()));const s=w=>{const b=a();if(!b.includes(w)){b.push(w);const k=new URLSearchParams(n().search);k.set("stackPages",b.join(",")),P(o,b,!0),r(`${n().pathname}?${k.toString()}`)}};Rl({pushStackPages:s,hasStackPage:w=>a().includes(w),updateStackPages:()=>{P(o,a(),!0)},popStackPages:()=>{const w=i(o).slice(0,-1);P(o,w,!0)},getStackPages:()=>{const w=a();return w.length>=i(o).length?w.reduce((b,k)=>[...b,{page:k,shown:!0}],[]):i(o).reduce((b,k,E)=>[...b,{page:k,shown:w.length===0?!1:E!==i(o).length-1}],[])},clearStackPages:()=>{P(o,[],!0)},getPageUrl:(w,b)=>{if(b?.full)return`/${w}`;const k=a();k.includes(w)||k.push(w);const E=new URLSearchParams(n().search);return E.set("stackPages",k.join(",")),`${n().pathname}?${E}`},createHandlePage:(w,b)=>k=>{if(k.preventDefault(),b?.full){r(w);return}s(w)},getStackPagesFormUrl:a});var v=F(),_=B(v);oe(_,()=>t.children??ce),m(e,v),Y()}function dc(e,t){$(t,!0);const n=h=>h.startsWith("/")?h:`/${h}`,r=Oe({historyStack:[],pathname:n(window.location.pathname),search:window.location.search,historyLength:0}),a=()=>{r.pathname=n(document.location.pathname),r.search=document.location.search,r.historyLength=Math.max(0,r.historyLength-=1)},o=h=>{const[v,_]=h.split("?");r.pathname=n(v),r.search=_?`?${_}`:"",r.historyLength+=1,r.historyStack.push(`${window.location.pathname}${window.location.search}`),window.history.replaceState(null,"",h)},s=h=>{const[v,_]=h.split("?");r.pathname=n(v),r.search=_?`?${_}`:"",window.history.replaceState(null,"",h)};gl({getAppHistory:()=>r,navigate:o,replace:s,addSearchParam:(h,v)=>{const _=new URLSearchParams(r.search);_.append(h,v),s(`${r.pathname}${_.size>0?`?${_.toString()}`:""}`)},deleteSearchParam:h=>{const v=new URLSearchParams(r.search);v.delete(h),r.historyStack=r.historyStack.map(_=>{const w=new URLSearchParams(_.split("?")[1]);return w.delete(h),`${_.split("?")[0]}${v.size>0?`?${w.toString()}`:""}`}),s(`${r.pathname}${v.size>0?`?${v.toString()}`:""}`)},back:h=>{const{fallback:v="/",to:_}=h||{},[w,b]=v.split("?");if(r.historyLength<=0){const k=window.location.pathname,E=window.location.search;if(!E.includes("stackPages"))window.history.replaceState(null,"",v),r.historyLength=0,r.pathname=n(w),r.search=b?`?${b}`:"";else{const D=new URLSearchParams(E),C=D.get("stackPages")?.split(",")||[],p=C.slice(0,_&&C.includes(_)?C.indexOf(_)+1:-1);p.length===0?D.delete("stackPages"):D.set("stackPages",p.join(","));const S=`${k}${D.toString()?`?${D.toString()}`:""}`;window.history.replaceState(null,"",S),r.search=D.toString()?`?${D.toString()}`:""}}else if(r.historyStack.length>0){const E=new URLSearchParams(r.search).get("stackPages")?.split(",")||[];_&&E.includes(_)&&(r.historyStack=r.historyStack.slice(0,-(E.length-(E.indexOf(_)+1))+1),r.historyLength=r.historyStack.length);const D=r.historyStack.pop();if(D){const[C,p]=D.split("?");window.history.replaceState(null,"",D),r.historyLength=Math.max(0,r.historyLength-=1),r.pathname=n(C),r.search=p?`?${p}`:""}}},closeDialogStack:()=>{const h=r.historyStack.findIndex(_=>_.includes("stackPages")),v=h===-1?r.historyStack.slice(0):r.historyStack.slice(0,h);if(v.length>0){const _=v.pop();if(_){const[w,b]=_.split("?");window.history.replaceState(null,"",_),r.historyLength=Math.max(0,v.length),r.pathname=n(w),r.search=b?`?${b}`:"",r.historyStack=v}}else{const _=r.search,w=new URLSearchParams(_);w.delete("stackPages"),window.history.replaceState(null,"",w.toString()?"/?"+w.toString():"/"),r.historyLength=0,r.pathname="/",r.search=w.toString()?"?"+w.toString():"",r.historyStack=[]}}}),ye(()=>(window.addEventListener("popstate",a),()=>{window.removeEventListener("popstate",a)}));var d=F(),g=B(d);oe(g,()=>t.children??ce),m(e,d),Y()}const ws={};function fc(e){Pe(ws,e)}function vc(){const e=Ce(ws);if(!e)throw new Error("No KeyboardVisibleContext found");return e}function hc(e,t){$(t,!0);let n=Oe({value:!1});const r=()=>n.value;ye(()=>{const s=()=>{setTimeout(()=>{document.activeElement instanceof HTMLInputElement&&document.activeElement.type==="text"||document.activeElement instanceof HTMLTextAreaElement?n.value=!0:n.value=!1},0)};return s(),document.addEventListener("focusin",s),document.addEventListener("focusout",s),()=>{document.removeEventListener("focusin",s),document.removeEventListener("focusout",s)}}),fc({getIsKeyboardVisible:r});var a=F(),o=B(a);oe(o,()=>t.children??ce),m(e,a),Y()}function gc(e,t){$(t,!0);const n=crypto.randomUUID(),r=(s,l)=>{s.postMessage(JSON.stringify({...l,tabId:n}))};Nl({tabId:n,createBroadcastChannel:()=>{const s=new BroadcastChannel("app");return{postMessage:l=>r(s,l),addEventListener:l=>{s.addEventListener("message",l)},removeEventListener:l=>{s.removeEventListener("message",l)}}}});var a=F(),o=B(a);oe(o,()=>t.children??ce),m(e,a),Y()}function _c(e,t){Gl(e,{children:(n,r)=>{Jl(n,{children:(a,o)=>{ec(a,{children:(s,l)=>{nc(s,{children:(c,u)=>{ac(c,{children:(f,d)=>{sc(f,{children:(g,h)=>{hc(g,{children:(v,_)=>{dc(v,{children:(w,b)=>{uc(w,{children:(k,E)=>{cc(k,{children:(D,C)=>{gc(D,{children:(p,S)=>{var y=F(),x=B(y);oe(x,()=>t.children??ce),m(p,y)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})}function pc(e,t){_c(e,{children:(n,r)=>{vl(n,{children:(a,o)=>{ml(a,{children:(s,l)=>{_l(s,{children:(c,u)=>{yl(c,{children:(f,d)=>{bl(f,{children:(g,h)=>{Cl(g,{children:(v,_)=>{Il(v,{children:(w,b)=>{Fl(w,{children:(k,E)=>{$l(k,{children:(D,C)=>{Ul(D,{children:(p,S)=>{Wl(p,{children:(y,x)=>{var A=F(),O=B(A);oe(O,()=>t.children??ce),m(y,A)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})}})}let It=z(""),Xt=z(null),Zn=z(null),Jn=z(null);function jr(e,t){P(It,""),setTimeout(()=>{P(It,e,!0),t?.onFinish&&P(Zn,t.onFinish,!0),t?.onCancel&&P(Jn,t.onCancel,!0)},16)}const mc=(e,t,n,r,a)=>{e.preventDefault(),i(t)&&(P(n,null),i(t)(),P(t,null)),P(r,""),i(a)?.style.removeProperty("opacity")};var wc=W('<button type="button" class="undoButton svelte-1vxmgq5">undo</button>'),yc=W('<div class="notification svelte-1vxmgq5"><span> </span> <!></div>'),Sc=W("<div><!></div>");function bc(e,t){$(t,!0),Be(()=>{i(It);const o=i(Jn)?2e3:800;i(It)&&(i(Xt)?.getBoundingClientRect(),i(Xt)?.style.setProperty("opacity","1"));const s=setTimeout(()=>{i(Xt)?.style.removeProperty("opacity")},o),l=setTimeout(()=>{P(It,""),i(Zn)&&i(Zn)(),P(Zn,null),P(Jn,null),i(Xt)?.style.removeProperty("opacity")},o+400);return()=>{clearTimeout(s),clearTimeout(l)}});var n=Sc(),r=N(n);{var a=o=>{var s=yc(),l=N(s),c=N(l),u=j(l,2);{var f=d=>{var g=wc();g.__click=[mc,Jn,Zn,It,Xt],m(d,g)};U(u,d=>{i(Jn)&&d(f)})}mt(s,d=>P(Xt,d),()=>i(Xt)),ve(()=>rr(c,i(It))),m(o,s)};U(r,o=>{i(It)&&o(a)})}m(e,n),Y()}tt(["click"]);var kc=W('<span class="vh svelte-1s25udk"><!></span>');function Je(e,t){var n=kc(),r=N(n);oe(r,()=>t.children),m(e,n)}var Ec=Xi('<svg class="svelte-18et5h9"><use></use></svg>');function Ee(e,t){let n=fe(t,"name",8,"");var r=Ec(),a=N(r);ve(()=>xe(a,"href",`#icon-${n()??""}`)),m(e,r)}const Cc=(e,t,n,r)=>{const a=t().type;a==="closed"?n():a==="opened"&&r()};var Pc=W('<button class="buttonMenu svelte-bpktnw"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>');function ys(e,t){$(t,!1);const{sidebarOpen:n,getSidebarState:r,sidebarClose:a}=ts();Da();var o=Pc();o.__click=[Cc,r,n,a];var s=N(o);ke(s,()=>({"--size":"36px"})),Ee(s.lastChild,{name:"sidebarMenu"});var l=j(s,2);Je(l,{children:(c,u)=>{var f=Le("Menu");m(c,f)}}),m(e,o),Y()}tt(["click"]);var xc=(e,t)=>t.onChange?.(e.target?.value||""),Dc=W('<input class="svelte-15lr19w"/>');function va(e,t){$(t,!0);let n=fe(t,"value",15,"");var r=Dc();r.__input=[xc,t],ve(()=>xe(r,"placeholder",t.placeholder)),Pa("focus",r,function(...a){t.onFocus?.apply(this,a)}),ll(r,n),m(e,r),Y()}tt(["input"]);function Ss(e,t){$(t,!0),ye(()=>{const n=r=>{r.target&&t.dialog?.open&&t.dialogInner&&t.dialogInner!==r.target&&!t.dialogInner.contains(r.target)&&t.onClose()};return document.addEventListener("mousedown",n,{capture:!0}),()=>{document.removeEventListener("mousedown",n,{capture:!0})}}),Y()}var Nc=W('<dialog><div class="dialogInner svelte-1x410nl"><!></div></dialog> <!>',1);function bs(e,t){$(t,!0);let n=z(null),r=z(null),a=z(!1),{showDialog:o,hideDialog:s}=hr();const l=()=>{const v=setTimeout(()=>{t.onClosed()},150);i(n)?.addEventListener("transitionend",()=>{clearTimeout(v),t.onClosed()},{once:!0}),P(a,!1)};Be(()=>{t.startClose&&l()}),ye(()=>{i(n)?.showModal(),i(n)?.getClientRects(),P(a,!0)}),ye(()=>(o(),()=>{s()}));var c=Nc(),u=B(c),f=N(u),d=N(f);oe(d,()=>t.children),mt(f,v=>P(r,v),()=>i(r)),mt(u,v=>P(n,v),()=>i(n));var g=j(u,2);{var h=v=>{Ss(v,{get dialog(){return i(n)},get dialogInner(){return i(r)},onClose:l})};U(g,v=>{i(n)&&i(r)&&v(h)})}ve(()=>ge(u,1,he(["dialog",{shown:i(a)}]),"svelte-1x410nl")),m(e,c),Y()}var Tc=W("<div><!></div>");function ks(e,t){$(t,!0);let n=z(!1),r=z(null);const a=()=>{const u=setTimeout(()=>{t.onClosed()},150);i(r)?.addEventListener("transitionend",()=>{clearTimeout(u),t.onClosed()},{once:!0}),P(n,!1)},o=u=>{u.target!==i(r)&&!i(r)?.contains(u.target)&&a()},s=u=>{u.target!==i(r)&&!i(r)?.contains(u.target)&&a()};ye(()=>{i(r)?.getClientRects(),P(n,!0);const u=setTimeout(()=>{document.addEventListener("focusin",o),document.addEventListener("click",s)},0);return()=>{clearTimeout(u),document.removeEventListener("focusin",o),document.removeEventListener("click",s)}}),Be(()=>{t.startClose&&a()});var l=Tc(),c=N(l);oe(c,()=>t.children),mt(l,u=>P(r,u),()=>i(r)),ve(()=>ge(l,1,he(["menu",{top:t.positionTop,shown:i(n)}]),"svelte-ujw4xi")),m(e,l),Y()}const Ac=(e,t)=>{i(t)||P(t,!0)};var Lc=(e,t)=>t("newest"),Bc=(e,t)=>t("oldest"),Mc=(e,t)=>t("AtoZ"),Ic=(e,t)=>t("ZtoA"),Oc=W("<div><button>Newest</button> <button>Oldest</button> <button>A to Z</button> <button>Z to A</button></div>"),Rc=W('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),Fc=W('<div class="orderMenu svelte-14zj87s"><button><!> <!></button> <!></div>');function Hc(e,t){$(t,!0);const n=(k,E=ce)=>{var D=Oc(),C=N(D);C.__click=[Lc,f];var p=j(C,2);p.__click=[Bc,f];var S=j(p,2);S.__click=[Mc,f];var y=j(S,2);y.__click=[Ic,f],ve(()=>{ge(D,1,he(["menu",{menuDialog:E()}]),"svelte-14zj87s"),ge(C,1,he(["menuButton",{menuButtonDialog:E(),current:i(u)==="newest"}]),"svelte-14zj87s"),ge(p,1,he(["menuButton",{menuButtonDialog:E(),current:i(u)==="oldest"}]),"svelte-14zj87s"),ge(S,1,he(["menuButton",{menuButtonDialog:E(),current:i(u)==="AtoZ"}]),"svelte-14zj87s"),ge(y,1,he(["menuButton",{menuButtonDialog:E(),current:i(u)==="ZtoA"}]),"svelte-14zj87s")}),m(k,D)};let r=z(!1),a=z(!1);const{checkMobileSize:o}=Yn(),{getFeedOrder:s,setFeedOrder:l}=Qo();let c=R(o),u=R(s);const f=k=>{P(a,!0),l(k)},d=()=>{P(r,!1),P(a,!1)};var g=Fc(),h=N(g);h.__click=[Ac,r],ge(h,1,he(["button","buttonMenu"]),"svelte-14zj87s");var v=N(h);Ee(v,{name:"filter"});var _=j(v,2);Je(_,{children:(k,E)=>{var D=Le("show feed order menu");m(k,D)}});var w=j(h,2);{var b=k=>{var E=F(),D=B(E);{var C=S=>{bs(S,{get startClose(){return i(a)},onClosed:d,children:(y,x)=>{n(y,()=>!0)},$$slots:{default:!0}})},p=S=>{var y=Rc(),x=B(y);ke(x,()=>({"--right":"20px","--top":"60px"})),ks(x.lastChild,{get startClose(){return i(a)},onClosed:d,children:(A,O)=>{n(A,()=>!1)},$$slots:{default:!0}}),m(S,y)};U(D,S=>{i(c)?S(C):S(p,!1)})}m(k,E)};U(w,k=>{i(r)&&k(b)})}m(e,g),Y()}tt(["click"]);var q=(e=>(e.NewNote="newNote",e.EditNote="editNote",e.Settings="settings",e.ImportData="importData",e.ExportData="exportData",e.ClearStore="clearStore",e.Account="account",e.Sync="sync",e.Start="start",e.Auth="auth",e.Signin="signin",e.Signup="signup",e.AccessKeys="accessKeys",e.ConfirmAccessKey="confirmAccessKey",e.Subscription="subscription",e.Exit="exit",e.NotFound="notFound",e.About="about",e.Bin="bin",e))(q||{}),zc=W('<a class="link svelte-13t3afu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Notes</span></a>'),Uc=W('<a class="link svelte-13t3afu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Bin</span></a>'),jc=W('<button class="emptyBinButton svelte-13t3afu" type="button">Empty bin</button>'),Vc=W('<a class="buttonAdd svelte-13t3afu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Note</span></a>'),qc=W('<div class="header svelte-13t3afu"><div class="top svelte-13t3afu"><div class="menu svelte-13t3afu"><a class="link svelte-13t3afu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Settings</span></a> <a class="link svelte-13t3afu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Sync</span></a> <!></div> <div class="mobile svelte-13t3afu"><!></div> <!></div> <div class="bottom svelte-13t3afu"><div><div class="sidebarSearchWrapper"><!></div></div> <div class="right svelte-13t3afu"><div class="filter svelte-13t3afu"><div class="feedSearchWrapper svelte-13t3afu"><!></div> <!></div></div></div></div>');function Wc(e,t){$(t,!0);const{createHandlePage:n,getPageUrl:r}=Bt(),a=Ko(),o=Zo(),{getScrollContainer:s}=Ba();let l=R(s);const{emptyBin:c,checkNotesInBin:u}=La(),{getAppHistory:f}=wt(),d=R(()=>f().pathname),g=()=>{i(l)&&i(l).scrollTo({top:0,behavior:"smooth"})};var h=qc(),v=N(h),_=N(v),w=N(_),b=R(()=>n(q.Settings));w.__click=function(...V){i(b)?.apply(this,V)};var k=N(w);ke(k,()=>({"--rotate":"30deg","--size":"20px"})),Ee(k.lastChild,{name:"settings"});var E=j(w,2),D=R(()=>n(q.Sync));E.__click=function(...V){i(D)?.apply(this,V)};var C=N(E);ke(C,()=>({"--size":"20px"})),Ee(C.lastChild,{name:"sync"});var p=j(E,2);{var S=V=>{var X=zc(),ne=R(()=>n("/",{full:!0}));X.__click=function(...Q){i(ne)?.apply(this,Q)};var de=N(X);ke(de,()=>({"--size":"18px"})),Ee(de.lastChild,{name:"note"}),ve(Q=>xe(X,"href",Q),[()=>r("/",{full:!0})]),m(V,X)},y=V=>{var X=F(),ne=B(X);{var de=Q=>{var K=Uc(),Se=R(()=>n(q.Bin,{full:!0}));K.__click=function(...nt){i(Se)?.apply(this,nt)};var Me=N(K);ke(Me,()=>({"--size":"20px"})),Ee(Me.lastChild,{name:"bin"}),ve(nt=>xe(K,"href",nt),[()=>r(q.Bin,{full:!0})]),m(Q,K)};U(ne,Q=>{u()&&Q(de)},!0)}m(V,X)};U(p,V=>{i(d)===`/${q.Bin}`?V(S):V(y,!1)})}var x=j(_,2),A=N(x);ys(A,{});var O=j(x,2);{var G=V=>{var X=F(),ne=B(X);{var de=Q=>{var K=jc();K.__click=c,m(Q,K)};U(ne,Q=>{u()&&Q(de)})}m(V,X)},te=V=>{var X=Vc(),ne=R(()=>n(q.NewNote));X.__click=function(...Q){i(ne)?.apply(this,Q)};var de=N(X);ke(de,()=>({"--size":"16px","--color":"#b0b0b0"})),Ee(de.lastChild,{name:"plus"}),ve(Q=>xe(X,"href",Q),[()=>r(q.NewNote)]),m(V,X)};U(O,V=>{i(d)===`/${q.Bin}`?V(G):V(te,!1)})}var ie=j(v,2),ae=N(ie);ge(ae,1,he(["left"]),"svelte-13t3afu");var J=N(ae),L=N(J);va(L,{placeholder:"Search tag",get value(){return o.value},set value(V){o.value=V}});var I=j(ae,2),M=N(I),H=N(M),ee=N(H);va(ee,{onFocus:g,placeholder:"Search",get value(){return a.value},set value(V){a.value=V}});var _e=j(H,2);Hc(_e,{}),ve((V,X)=>{xe(w,"href",V),xe(E,"href",X)},[()=>r(q.Settings),()=>r(q.Sync)]),m(e,h),Y()}tt(["click"]);function $c(e,t){$(t,!0);const{getIsKeyboardVisible:n}=vc();let r=fe(t,"dialog",7);const a=R(n),o=$n();let s=null;const l=()=>{t.dialogState==="swiping"&&t.onClose()};Be(()=>(t.dialogState==="swiping"&&(s=setTimeout(l,3e3)),()=>{s&&(clearTimeout(s),s=null)}));let c=null,u=null;const f=3,d=50,g=5,h=.6,v=.3,_=.35,w=.95;let b=0,k=0,E=0,D=!1,C=!1,p=0,S=0,y=0;const x=()=>{b=0,k=0,D=!1,C=!1,p=0,S=0,y=0,E=0,c=null,u!==null&&(cancelAnimationFrame(u),u=null),s&&(clearTimeout(s),s=null)},A=M=>{r()&&t.dialogState==="opened"&&(b=M.touches[0].clientX,k=M.touches[0].clientY,E=performance.now(),D=!0,C=!1)},O=M=>t.dialogState==="opened"&&M>0||t.dialogState==="swiping"&&M>0,G=()=>{if(r()){r().style.setProperty("--transition-timing","0s"),t.onSwipe(),navigator.vibrate&&navigator.vibrate(10);try{const M=window.getComputedStyle(r()),H=M.transform||M.webkitTransform||"";if(S=r().offsetWidth,(t.dialogState==="swiping"||t.dialogState==="opened")&&(p=0),H&&H!=="none")try{p=new DOMMatrix(H).m41}catch{}C=!0}catch{x()}}},te=()=>{if(!r())return;const H=Math.abs(p+y*S/100)/S;r().style.setProperty("--backdrop-bg",`rgba(0, 0, 0, ${.1*(1-H)})`)},ie=()=>{if(u=null,!c||!D||!r()||i(a)){x();return}const M=c.touches[0].clientX,H=c.touches[0].clientY,ee=M-b,_e=H-k,V=Math.abs(ee)>Math.abs(_e),X=Math.abs(ee)>f;if(!C)if(V&&X&&O(ee))try{G()}catch{x();return}else return;if(!O(ee))return;r().style.setProperty("--transition-timing","0s");let ne=p+ee*w;ne=Math.max(0,Math.min(S,ne)),r().style.transform=`translate3d(${ne}px, 0, 0)`,o.swipingRatio=Math.abs(1-ne/S),y=(ne-p)/S*100,t.dialogState==="swiping"&&(s&&clearTimeout(s),s=setTimeout(l,3e3)),te()},ae=M=>{if(!D)return;c=M,u===null&&(u=requestAnimationFrame(ie));const H=M.touches[0].clientX-b,ee=M.touches[0].clientY-k,_e=Math.abs(H)>Math.abs(ee);C&&_e&&M.preventDefault()},J=M=>{const H=Math.abs(M);if(H>=h)return g;if(H>=v){const ee=(H-v)/(h-v);return d-ee*(d-g)}else return d},L=(M,H)=>{if(Math.abs(M)>=h)return _*.5;const _e=Math.abs(y)/100;return H?_*Math.max(.5,1-_e):_*Math.max(.5,_e)},I=M=>{if(u!==null&&(cancelAnimationFrame(u),u=null),!D||!r()){x();return}if(!C){x();return}let H=0;if(M?.changedTouches?.[0]){const ne=M.changedTouches[0].clientX,Q=performance.now()-E;Q>0&&(H=(ne-b)/Q)}const ee=J(H);let _e=null;t.dialogState==="swiping"&&(_e=Math.abs(y)>ee||H<-v?"close":"open");const V=t.dialogState==="swiping"&&_e==="close",X=L(H,V);o.duration=X-.02,r().style.setProperty("--transition-timing",`${X}s`),r().offsetWidth,r().style.transform="",_e==="open"?t.onOpen():_e==="close"&&t.onClose(),r()?.style.removeProperty("--backdrop-bg"),x()};ye(()=>(r().addEventListener("touchstart",A,{passive:!0}),r().addEventListener("touchmove",ae,{passive:!1}),r().addEventListener("touchend",I,{passive:!0}),r().addEventListener("touchcancel",I,{passive:!0}),()=>{r().removeEventListener("touchstart",A),r().removeEventListener("touchmove",ae),r().removeEventListener("touchend",I),r().removeEventListener("touchcancel",I),u!==null&&cancelAnimationFrame(u)})),Y()}var Yc=(e,t)=>{t.onStartClose()},Kc=W('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),Gc=W('<dialog><div class="dialogInner svelte-vr2o0t"><div class="header svelte-vr2o0t"><div><!></div></div> <!></div></dialog> <!>',1);function Xc(e,t){$(t,!0);let n=350;const{isScrolling:r,enable:a}=vs();let o=z(null),s=z(null);const l=$n(),c=p=>{p.preventDefault(),t.onStartClose()};ye(()=>(i(o)?.addEventListener("close",t.onClosed),i(o)?.addEventListener("cancel",c),()=>{i(o)?.removeEventListener("close",t.onClosed),i(o)?.removeEventListener("cancel",c)}));const u=()=>{i(o)?.style.removeProperty("--transition-timing"),i(o)?.style.removeProperty("transform"),i(o)?.style.removeProperty("--backdrop-bg")},f=()=>{a()},d=R(r);Be(()=>{if(t.dialogState,!!i(o))switch(t.dialogState){case"opening":{i(o).open||i(o).showModal(),i(o).getBoundingClientRect();const p=setTimeout(()=>{u()},n+1),S=()=>{clearTimeout(p),u()};return i(o)?.addEventListener("transitionend",S,{once:!0}),t.onOpened(),()=>{i(o)?.removeEventListener("transitionend",S)}}case"closing":{const p=setTimeout(()=>{t.dialogState==="closing"&&t.onClosed()},n+1),S=()=>{clearTimeout(p),t.onClosed()};return i(o)?.addEventListener("transitionend",S,{once:!0}),()=>{i(o)?.removeEventListener("transitionend",S)}}case"opened":u()}});var g=Gc(),h=B(g),v=N(h),_=N(v),w=N(_),b=N(w);{var k=p=>{var S=Kc();ge(S,1,he(["navigateButton","buttonBack"]),"svelte-vr2o0t"),S.__click=[Yc,t];var y=N(S);ke(y,()=>({"--size":"36px"})),Ee(y.lastChild,{name:"back"});var x=j(y,2);Je(x,{children:(A,O)=>{var G=Le("back");m(A,G)}}),m(p,S)};U(b,p=>{(!(t.blocked||t.hidden)||t.blocked&&t.unBlockedBack)&&p(k)})}var E=j(_,2);oe(E,()=>t.children),mt(v,p=>P(s,p),()=>i(s)),mt(h,p=>P(o,p),()=>i(o));var D=j(h,2);{var C=p=>{$c(p,{get onClose(){return t.onStartClose},get onOpen(){return t.onStartOpen},get onSwipe(){return t.onSwipe},get dialogState(){return t.dialogState},get dialog(){return i(o)}})};U(D,p=>{(!i(d)&&t.dialogState==="opened"||t.dialogState==="swiping")&&(!t.blocked||t.unBlockedBack)&&p(C)})}ve(()=>ge(h,1,he([{open:t.dialogState==="opened",hidden:t.hidden,isAnimationOn:l.working&&(!l.isSwiping||!t.hidden)},{hidden:t.hidden}]),"svelte-vr2o0t")),Pa("scroll",v,f),m(e,g),Y()}tt(["click"]);const Ja=(e,t)=>{if(!t)return e;if(t.type==="closed")return{type:"closed"};switch(e.type){case"opened":return t.type==="close"?{type:"closing"}:t.type==="swipe"?{type:"swiping"}:e;case"closed":return t.type==="open"?{type:"opening"}:e;case"swiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"opening":return t.type==="opened"?{type:"opened"}:e;default:return e}};function Zc(e,t){$(t,!0);let n=fe(t,"blocked",3,!1),r=fe(t,"hiddenDialog",3,!1),a=fe(t,"unBlockedBack",3,!1),o=fe(t,"onStartClose",3,()=>{}),s=fe(t,"onClose",3,()=>{});const l=$n();let c=z(Oe(Ja({type:"closed"})));const u=E=>{P(c,Ja(i(c),E),!0)},f=()=>{n()&&!a()||(o()(),u({type:"close"}))},d=()=>{u({type:"open"})},g=()=>{u({type:"opened"}),l.duration=.2},h=()=>{s()(),u({type:"closed"}),l.swipingRatio=1,l.duration=.2},v=()=>{u({type:"swipe"})};Be(()=>{i(c).type==="swiping"?l.isSwiping=!0:l.isSwiping=!1,i(c).type==="closed"&&t.shownDialog?d():i(c).type==="opened"&&!t.shownDialog&&f()});var _={handleComputeState:u},w=F(),b=B(w);{var k=E=>{Xc(E,{onSwipe:v,onOpened:g,onClosed:h,onStartClose:f,onStartOpen:d,get dialogState(){return i(c).type},get hidden(){return r()},get blocked(){return n()},get unBlockedBack(){return a()},children:(D,C)=>{var p=F(),S=B(p);oe(S,()=>t.children),m(D,p)},$$slots:{default:!0}})};U(b,E=>{i(c).type!=="closed"&&E(k)})}return m(e,w),Y(_)}const Jc=({getDialog:e,onOpen:t,onStartClose:n,onClose:r})=>{const a=s=>{s.preventDefault(),n()},o=()=>{r?.()};ye(()=>{const s=e();return s?.addEventListener("cancel",a),s?.addEventListener("close",o),()=>{s?.removeEventListener("cancel",a),s?.removeEventListener("close",o)}}),ye(()=>{const s=e();s?.showModal(),s?.getBoundingClientRect(),t()})};var Qc=(e,t)=>{t.onStartBack()},eu=W('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),tu=(e,t)=>{t.onStartClose()},nu=W('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),ru=W('<dialog><div class="dialogInner svelte-rt409n"><div class="header svelte-rt409n"><div><!></div> <div><!></div></div> <!></div></dialog> <!>',1);function au(e,t){$(t,!0);let n=fe(t,"blockedDialog",3,!1),r=fe(t,"hiddenDialog",3,!1),a=fe(t,"isDesktopAnimationOff",3,!1),o=z(null),s=z(null);Jc({getDialog:()=>i(o),onOpen:t.onOpen,onStartClose:t.onStartClose,onClose:t.onClose});const l=$n();Be(()=>{t.stateDialog==="closing"&&(l.working?i(o)?.addEventListener("transitionend",()=>{i(o)?.close()},{once:!0}):i(o)?.close())});const{getDialogPageHeight:c}=Ma(),u=R(c);var f=ru(),d=B(f),g=N(d),h=N(g),v=N(h),_=N(v);{var w=p=>{var S=eu();ge(S,1,he(["navigateButton","buttonBack"]),"svelte-rt409n"),S.__click=[Qc,t];var y=N(S);ke(y,()=>({"--size":"28px"})),Ee(y.lastChild,{name:"back"});var x=j(y,2);Je(x,{children:(A,O)=>{var G=Le("back");m(A,G)}}),m(p,S)};U(_,p=>{(!(n()||r())||n()&&t.unBlockedBack)&&t.onStartBack&&p(w)})}var b=j(v,2),k=N(b);{var E=p=>{var S=nu();ge(S,1,he(["navigateButton","buttonClose"]),"svelte-rt409n"),S.__click=[tu,t];var y=N(S);ke(y,()=>({"--size":"28px"})),Ee(y.lastChild,{name:"close"});var x=j(y,2);Je(x,{children:(A,O)=>{var G=Le("close");m(A,G)}}),m(p,S)};U(k,p=>{n()||r()||p(E)})}var D=j(h,2);oe(D,()=>t.children),mt(g,p=>P(s,p),()=>i(s)),mt(d,p=>P(o,p),()=>i(o));var C=j(d,2);Ss(C,{get dialog(){return i(o)},get dialogInner(){return i(s)},get onClose(){return t.onStartClose}}),ve(()=>{ar(d,`height: ${i(u)+74}px`),ge(d,1,he([{open:t.stateDialog==="open",isAnimationOn:l.working,isDesktopAnimationOff:a(),hiddenDialog:r()}]),"svelte-rt409n")}),m(e,f),Y()}tt(["click"]);const ou=({onStartClose:e,onClose:t})=>{let n=z("close");return{get state(){return i(n)},set state(s){P(n,s,!0)},handleStartClose:(s=!1)=>{s||(P(n,"closing"),e?.())},handleOpen:()=>{P(n,"open")},handleClose:()=>{P(n,"close"),t?.()}}};function su(e,t){$(t,!0);let n=fe(t,"blockedDialog",3,!1),r=fe(t,"hiddenDialog",3,!1),a=fe(t,"onStartClose",3,()=>{}),o=fe(t,"onClose",3,()=>{}),s=ou({onStartClose:a(),onClose:o()});Be(()=>{s.state==="close"&&t.shownDialog?s.state="opening":s.state==="open"&&!t.shownDialog&&s.handleStartClose(n())});const l=d=>{d.key==="Escape"&&(document.activeElement instanceof HTMLInputElement&&document.activeElement.type==="text"||document.activeElement instanceof HTMLTextAreaElement||n())&&(d.preventDefault(),d.stopPropagation())};ye(()=>(document.addEventListener("keydown",l),()=>{document.removeEventListener("keydown",l)}));var c=F(),u=B(c);{var f=d=>{au(d,{get stateDialog(){return s.state},get blockedDialog(){return n()},get unBlockedBack(){return t.unBlockedBack},get hiddenDialog(){return r()},get onOpen(){return s.handleOpen},get onStartBack(){return t.onStartBack},onStartClose:()=>{s.handleStartClose(n())},get onClose(){return s.handleClose},children:(g,h)=>{var v=F(),_=B(v);oe(_,()=>t.children),m(g,v)},$$slots:{default:!0}})};U(u,d=>{s.state!=="close"&&d(f)})}m(e,c),Y()}function iu(e,t){$(t,!0);let n=fe(t,"blockedDialog",3,!1),r=fe(t,"hiddenDialog",3,!1),a=fe(t,"isLastDialog",3,!1),o=fe(t,"onStartClose",3,()=>{}),s=fe(t,"onClose",3,()=>{});const l=R(()=>a()?void 0:t.onStartBack),{showDialog:c,hideDialog:u}=hr();ye(()=>(c(),()=>{u()}));const{checkMobileSize:f}=Yn();var d=F(),g=B(d);{var h=_=>{Zc(_,{get shownDialog(){return t.shownDialog},get blocked(){return n()},get unBlockedBack(){return t.unBlockedBack},get hiddenDialog(){return r()},get children(){return t.children},get onStartClose(){return t.onStartBack},get onClose(){return s()}})},v=_=>{su(_,{get shownDialog(){return t.shownDialog},get blockedDialog(){return n()},get unBlockedBack(){return t.unBlockedBack},get hiddenDialog(){return r()},get children(){return t.children},get onStartBack(){return i(l)},get onStartClose(){return o()},get onClose(){return s()}})};U(g,_=>{f()?_(h):_(v,!1)})}m(e,d),Y()}function Qa(e,t){$(t,!0);const{back:n,closeDialogStack:r}=wt(),{popStackPages:a}=Bt();let o=fe(t,"blocked",3,!1),s=fe(t,"isLastDialog",3,!1),l=fe(t,"onBack",3,()=>{});const{checkBlockedDialog:c,checkUnBlockedBackDialog:u}=hr(),f=R(()=>o()||t.hidden||c()),d=R(()=>u()&&!s());iu(e,{get shownDialog(){return t.shown},get blockedDialog(){return i(f)},get unBlockedBack(){return i(d)},get hiddenDialog(){return t.hidden},get isLastDialog(){return s()},onStartBack:()=>{(!i(f)||i(f)&&i(d))&&t.shown&&(n(),l()())},onStartClose:()=>{(!i(f)||i(f)&&i(d))&&t.shown&&r()},onClose:()=>{a()},children:(_,w)=>{var b=F(),k=B(b);oe(k,()=>t.children),m(_,b)},$$slots:{default:!0}}),Y()}const lu="modulepreload",cu=function(e){return"/"+e},eo={},Ie=function(t,n,r){let a=Promise.resolve();if(n&&n.length>0){let c=function(u){return Promise.all(u.map(f=>Promise.resolve(f).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),l=s?.nonce||s?.getAttribute("nonce");a=c(n.map(u=>{if(u=cu(u),u in eo)return;eo[u]=!0;const f=u.endsWith(".css"),d=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const g=document.createElement("link");if(g.rel=f?"stylesheet":lu,f||(g.as="script"),g.crossOrigin="",g.href=u,l&&g.setAttribute("nonce",l),document.head.appendChild(g),f)return new Promise((h,v)=>{g.addEventListener("load",h),g.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${u}`)))})}))}function o(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return a.then(s=>{for(const l of s||[])l.status==="rejected"&&o(l.reason);return t().catch(o)})};var uu=W('<button> <svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></button>');function Pn(e,t){let n=R(()=>t.style==="selected"?"45deg":"0deg");var r=uu();r.__click=function(...s){t.onClick?.apply(this,s)};var a=N(r),o=j(a);ke(o,()=>({"--size":t.size==="small"?"10px":"12px","--rotate":i(n)})),Ee(o.lastChild,{name:"plus"}),ve(()=>{xe(r,"type",t.type),ge(r,1,he([{selectedTag:t.style==="selected",small:t.size==="small"}]),"svelte-uu8a24"),rr(a,`${t.title??""} `)}),m(e,r)}tt(["click"]);var du=(e,t,n)=>{t(),n("/",{full:!0})(e)},fu=W('<a class="link svelte-1hv280f"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a>'),vu=(e,t,n)=>{t(),n(q.Bin,{full:!0})(e)},hu=W('<a class="link svelte-1hv280f"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a>'),gu=W("<div></div>"),_u=W('<div class="sidebarFixed svelte-1hv280f"><div class="nav svelte-1hv280f"><!> <div class="menu svelte-1hv280f"><a class="link svelte-1hv280f"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a> <a class="link svelte-1hv280f"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a> <!></div></div> <div class="searchWrapper svelte-1hv280f"><!></div> <!></div> <div><!> <!></div>',1),pu=W("<div></div>"),mu=W('<div class="sidebar svelte-1hv280f"><div class="sidebarFixed svelte-1hv280f"><!></div> <div class="tags svelte-1hv280f"><!> <!></div></div>');function wu(e,t){$(t,!0);const{checkMobileSize:n}=Yn(),{getRelatedTags:r}=Na(),{sidebarClose:a}=ts(),{isReadyNotes:o}=Ur(),{getAppHistory:s,navigate:l}=wt(),{getPageUrl:c,createHandlePage:u,getStackPagesFormUrl:f}=Bt(),d=Zo(),{checkNotesInBin:g}=La(),h=R(()=>s().pathname),v=R(s),_=R(o);let w=z(null),b=R(()=>new URLSearchParams(i(v).search).get("selectedTags")?.split(",")||[]),k=null;function E(){return k||(k=Ie(()=>import("./Bv2ocV67.js"),__vite__mapDeps([0,1]))),k}const D=J=>{const L=new URLSearchParams(i(v).search);L.set("selectedTags",[...i(b),J].join(",")),l(`${i(v).pathname}${L.size>0?`?${L.toString()}`:""}`),d.value=""},C=J=>{const L=new URLSearchParams(i(v).search),I=i(b).filter(M=>M!==J);I.length===0?L.delete("selectedTags"):L.set("selectedTags",I.join(",")),l(`${i(v).pathname}${L.size>0?`?${L.toString()}`:""}`)};let p=R(r),S=R(()=>i(_)?Object.values(i(p)).filter(J=>!i(b).some(L=>J.name===L)&&J.name!=="inbox").sort((J,L)=>J.name.localeCompare(L.name)):[]),y=R(()=>i(p).inbox&&i(b).includes("inbox")===!1?i(p).inbox:null),x=R(n);ye(()=>{i(x)&&E()});const{checkExistedDialog:A}=hr();let O=R(()=>f().length>0||A());var G=F(),te=B(G);{var ie=J=>{var L=F(),I=B(L);Uo(I,E,null,(M,H)=>{const ee=R(()=>i(H).default);var _e=F(),V=B(_e);qo(V,()=>i(ee),(X,ne)=>{ne(X,{get blocked(){return i(O)},children:(de,Q)=>{var K=_u(),Se=B(K),Me=N(Se),nt=N(Me);ys(nt,{});var Yt=j(nt,2),De=N(Yt),Re=R(()=>u(q.Settings));De.__click=function(...le){i(Re)?.apply(this,le)};var Ge=N(De);ke(Ge,()=>({"--size":"24px"})),Ee(Ge.lastChild,{name:"settings"});var Xe=j(Ge,2);Je(Xe,{children:(le,pe)=>{var be=Le("Settings");m(le,be)}});var yt=j(De,2),Ne=R(()=>u(q.Sync));yt.__click=function(...le){i(Ne)?.apply(this,le)};var Fe=N(yt);ke(Fe,()=>({"--size":"24px"})),Ee(Fe.lastChild,{name:"sync"});var mn=j(Fe,2);Je(mn,{children:(le,pe)=>{var be=Le("Sync");m(le,be)}});var Vr=j(yt,2);{var qr=le=>{var pe=fu();pe.__click=[du,a,u];var be=N(pe);ke(be,()=>({"--size":"24px"})),Ee(be.lastChild,{name:"note"});var ut=j(be,2);Je(ut,{children:(dt,ft)=>{var rt=Le("Notes");m(dt,rt)}}),ve(dt=>xe(pe,"href",dt),[()=>c("/",{full:!0})]),m(le,pe)},Mt=le=>{var pe=F(),be=B(pe);{var ut=dt=>{var ft=hu();ft.__click=[vu,a,u];var rt=N(ft);ke(rt,()=>({"--size":"24px"})),Ee(rt.lastChild,{name:"bin"});var wn=j(rt,2);Je(wn,{children:(yn,Ia)=>{var Kr=Le("Bin");m(yn,Kr)}}),ve(yn=>xe(ft,"href",yn),[()=>c(q.Bin,{full:!0})]),m(dt,ft)};U(be,dt=>{g()&&dt(ut)},!0)}m(le,pe)};U(Vr,le=>{i(h)===`/${q.Bin}`?le(qr):le(Mt,!1)})}var Kt=j(Me,2),gr=N(Kt);va(gr,{placeholder:"Search tag",get value(){return d.value},set value(le){d.value=le}});var Wr=j(Kt,2);{var $r=le=>{var pe=gu();ge(pe,1,he(["tags","selectedTags"]),"svelte-1hv280f"),xn(pe,20,()=>i(b),be=>be,(be,ut)=>{Pn(be,{get title(){return ut},onClick:()=>C(ut),style:"selected"})}),mt(pe,be=>P(w,be),()=>i(w)),m(le,pe)};U(Wr,le=>{i(b).length>0&&le($r)})}var xt=j(Se,2);ge(xt,1,he(["tags","tagsWrapper"]),"svelte-1hv280f");var Gt=N(xt);{var _r=le=>{Pn(le,{get title(){return i(y).name},onClick:()=>D(i(y).name)})};U(Gt,le=>{i(y)&&le(_r)})}var Yr=j(Gt,2);xn(Yr,17,()=>i(S),le=>le.name,(le,pe)=>{var be=F(),ut=B(be);{var dt=ft=>{Pn(ft,{get title(){return i(pe).name},onClick:()=>D(i(pe).name)})};U(ut,ft=>{(d.value===""||i(pe).name.toLowerCase().indexOf(d.value.toLowerCase())!==-1)&&ft(dt)})}m(le,be)}),ve((le,pe)=>{xe(De,"href",le),xe(yt,"href",pe)},[()=>c(q.Settings),()=>c(q.Sync)]),m(de,K)},$$slots:{default:!0}})}),m(M,_e)}),m(J,L)},ae=J=>{var L=mu(),I=N(L),M=N(I);{var H=ne=>{var de=pu();ge(de,1,he(["tags","selectedTags"]),"svelte-1hv280f"),xn(de,20,()=>i(b),Q=>Q,(Q,K)=>{Pn(Q,{get title(){return K},onClick:()=>C(K),style:"selected"})}),m(ne,de)};U(M,ne=>{i(b).length>0&&ne(H)})}var ee=j(I,2),_e=N(ee);{var V=ne=>{Pn(ne,{get title(){return i(y).name},onClick:()=>D(i(y).name)})};U(_e,ne=>{i(y)&&ne(V)})}var X=j(_e,2);xn(X,17,()=>i(S),ne=>ne.name,(ne,de)=>{var Q=F(),K=B(Q);{var Se=Me=>{Pn(Me,{get title(){return i(de).name},onClick:()=>D(i(de).name)})};U(K,Me=>{(d.value===""||i(de).name.toLowerCase().indexOf(d.value.toLowerCase())!==-1)&&Me(Se)})}m(ne,Q)}),m(J,L)};U(te,J=>{i(x)?J(ie):J(ae,!1)})}m(e,G),Y()}tt(["click"]);const yu=(e,t,n)=>{P(t,!0),P(n,!0)},Su=(e,t,n,r)=>{t(n.note.id,!n.note.data.pinned),jr(n.note.data.pinned?"Note unpinned":"Note pinned"),P(r,!0)},bu=(e,t,n)=>{navigator.clipboard.writeText(t.note.data.url),jr("Link copied"),P(n,!0)};var ku=W("<div><button>Copy link</button></div>"),Eu=W('<div class="menu svelte-8ve3pe"><!> <div><button> </button></div> <div><button>Delete</button></div></div>'),Cu=W('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1);function Pu(e,t){$(t,!0);const n=(C,p=ce)=>{var S=Eu(),y=N(S);{var x=ae=>{var J=ku(),L=N(J);L.__click=[bu,t,d],ve(()=>ge(L,1,he(["button",{buttonMenuDialog:p()}]),"svelte-8ve3pe")),m(ae,J)};U(y,ae=>{p()&&t.note.data.url&&ae(x)})}var A=j(y,2),O=N(A);O.__click=[Su,l,t,d];var G=N(O),te=j(A,2),ie=N(te);ie.__click=[yu,g,d],ve(()=>{ge(O,1,he(["button",{buttonMenuDialog:p()}]),"svelte-8ve3pe"),rr(G,t.note.data.pinned?"Unpin":"Pin"),ge(ie,1,he(["button",{buttonMenuDialog:p()}]),"svelte-8ve3pe")}),m(C,S)},{getRelatedTags:r}=Na(),{getAppHistory:a,replace:o}=wt(),{deleteNote:s,pinNote:l,setDeleting:c}=Ur();let u=R(a),f=fe(t,"shownMenu",15),d=z(!1),g=z(!1);const{checkMobileSize:h}=Yn();let v=R(h),_=R(()=>new URLSearchParams(i(u).search).get("selectedTags")?.split(",")||[]);const w=async()=>{const C=r();c(t.note.id,!0);let p=!1;jr("Note deleted",{onCancel:()=>{p=!0,c(t.note.id,!1)},onFinish:()=>{p||(t.note.data.tags.forEach(S=>{if(i(_).includes(S)&&C[S].connections===1){const y=new URLSearchParams(i(u).search),x=i(_).filter(A=>A!==S);x.length===0?y.delete("selectedTags"):y.set("selectedTags",x.join(",")),o(`${i(u).pathname}${y.size>0?`?${y.toString()}`:""}`)}}),s(t.note.id))}})},b=()=>{i(g)&&w(),f(!1),P(d,!1)};var k=F(),E=B(k);{var D=C=>{var p=F(),S=B(p);{var y=A=>{bs(A,{get startClose(){return i(d)},onClosed:b,children:(O,G)=>{n(O,()=>!0)},$$slots:{default:!0}})},x=A=>{var O=Cu(),G=B(O);ke(G,()=>({"--bottom":"-90px","--right":"20px"})),ks(G.lastChild,{get startClose(){return i(d)},get positionTop(){return t.showMenuUp},onClosed:b,children:(te,ie)=>{n(te,()=>!1)},$$slots:{default:!0}}),m(A,O)};U(S,A=>{i(v)?A(y):A(x,!1)})}m(C,p)};U(E,C=>{f()&&C(D)})}m(e,k),Y()}tt(["click"]);const xu=(e,t)=>{P(t,!0)},Du=(e,t,n)=>{navigator.clipboard.writeText(t.note.data.url),jr("Link copied"),P(n,!1)},Nu=(e,t)=>{P(t,!0)},Tu=(e,t)=>{P(t,!1)},Au=(e,t,n,r)=>{e.preventDefault(),t(`${q.EditNote}?id=${n.note.id}`),P(r,!1)};var Lu=W('<div class="iconPlaceholder svelte-1jg44o9"></div>'),Bu=W('<img loading="lazy" class="noteIcon" height="16" width="16" alt=""/>'),Mu=W('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),Iu=W('<div class="noteIconWrapper svelte-1jg44o9"><!></div>'),Ou=W('<button class="button svelte-1jg44o9"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),Ru=(e,t)=>{P(t,!1)},Fu=W('<!> <a target="_blank" rel="noopener noreferrer" class="button openLink svelte-1jg44o9"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a>',1),Hu=W('<li><!> <a class="noteLink svelte-1jg44o9" target="_blank" rel="noopener noreferrer"> </a> <div><!> <button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button></div> <!></li>');function zu(e,t){$(t,!0);const{pushStackPages:n}=Bt(),{getFaviconEnabled:r}=Dl();let a=z(!1),o=z(!1),s=z(!1),l=R(r);const{checkMobileSize:c}=Yn(),u=p=>{try{return`https://icons.duckduckgo.com/ip3/${new URL(p).host}.ico`}catch{return""}};var f=Hu();f.__focusin=[Nu,o],f.__focusout=[Tu,o];var d=N(f);{var g=p=>{var S=Iu(),y=N(S);{var x=O=>{var G=F(),te=B(G);{var ie=J=>{var L=Lu();m(J,L)},ae=J=>{var L=Bu();ve(I=>xe(L,"src",I),[()=>u(t.note.data.url)]),Pa("error",L,()=>{P(s,!0)}),m(J,L)};U(te,J=>{i(s)?J(ie):J(ae,!1)})}m(O,G)},A=O=>{var G=Mu(),te=B(G);ke(te,()=>({"--size":"16px"})),Ee(te.lastChild,{name:"note"}),m(O,G)};U(y,O=>{t.note.data.url?O(x):O(A,!1)})}m(p,S)};U(d,p=>{i(l)&&p(g)})}var h=j(d,2);h.__click=[Au,n,t,o];var v=N(h),_=j(h,2),w=N(_);{var b=p=>{var S=Fu(),y=B(S);{var x=te=>{var ie=Ou();ie.__click=[Du,t,o];var ae=N(ie);ke(ae,()=>({"--size":"20px"})),Ee(ae.lastChild,{name:"copy"});var J=j(ae,2);Je(J,{children:(L,I)=>{var M=Le("copy link");m(L,M)}}),ve(()=>xe(ie,"tabindex",t.focusHidden?-1:0)),m(te,ie)};U(y,te=>{c()||te(x)})}var A=j(y,2);A.__click=[Ru,o];var O=N(A);ke(O,()=>({"--size":"18px"})),Ee(O.lastChild,{name:"open"});var G=j(O,2);Je(G,{children:(te,ie)=>{var ae=Le();ve(()=>rr(ae,t.note.data.name)),m(te,ae)}}),ve(()=>{xe(A,"href",t.note.data.url),xe(A,"tabindex",t.focusHidden?-1:0)}),m(p,S)};U(w,p=>{t.note.data.url&&p(b)})}var k=j(w,2);k.__click=[xu,a],ge(k,1,he(["button","buttonMenu"]),"svelte-1jg44o9");var E=N(k);ke(E,()=>({"--size":"18px","--rotate":"90deg"})),Ee(E.lastChild,{name:"menu"});var D=j(E,2);Je(D,{children:(p,S)=>{var y=Le("show menu");m(p,y)}});var C=j(_,2);Pu(C,{get note(){return t.note},get showMenuUp(){return t.showMenuUp},get shownMenu(){return i(a)},set shownMenu(p){P(a,p,!0)}}),ve(p=>{ge(f,1,he(["record",{pinned:t.note.data.pinned}]),"svelte-1jg44o9"),xe(h,"tabindex",t.focusHidden?-1:0),xe(h,"href",p),rr(v,t.note.data.name),ge(_,1,he(["noteMenuWrapper",{noteMenuWrapperActive:i(o)}]),"svelte-1jg44o9"),xe(k,"tabindex",t.focusHidden?-1:0)},[()=>`/?stackPages=${encodeURIComponent(`${q.EditNote}?id=${t.note.id}`)}`]),m(e,f),Y()}tt(["focusin","focusout","click"]);var Uu=W("<a><!></a>"),ju=W("<button><!></button>");function Hn(e,t){let n=fe(t,"type",3,"standard"),r=fe(t,"typeButton",3,"button"),a=fe(t,"element",3,"button"),o=fe(t,"href",3,""),s=fe(t,"fullWidth",3,!1),l=fe(t,"withoutMinWidth",3,!1);var c=F(),u=B(c);{var f=g=>{var h=Uu();h.__click=function(..._){t.onClick?.apply(this,_)};var v=N(h);oe(v,()=>t.children??ce),ve(()=>{xe(h,"href",o()),ge(h,1,he(["button","a",{dangerous:n()==="dangerous",secondary:n()==="secondary",fullWidth:s(),withoutMinWidth:l()}]),"svelte-aqjevc")}),m(g,h)},d=g=>{var h=ju();h.__click=function(..._){t.onClick?.apply(this,_)};var v=N(h);oe(v,()=>t.children??ce),ve(()=>{xe(h,"type",r()),ge(h,1,he(["button",{dangerous:n()==="dangerous",secondary:n()==="secondary",fullWidth:s(),withoutMinWidth:l()}]),"svelte-aqjevc")}),m(g,h)};U(u,g=>{a()==="a"?g(f):g(d,!1)})}m(e,c)}tt(["click"]);var Vu=W('<div><!> <div class="loader svelte-m0sno1"></div></div>');function Es(e,t){$(t,!0);let n=z(!1);ye(()=>{const o=setTimeout(()=>{P(n,!0)},200);return()=>{clearTimeout(o)}});var r=Vu(),a=N(r);oe(a,()=>t.children??ce),ve(()=>ge(r,1,he(["block",{shown:i(n)}]),"svelte-m0sno1")),m(e,r),Y()}var qu=W('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Add note</span>',1),Wu=W('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span style="padding-left: 6px;">Import data</span>',1),$u=W('<div class="emptyStore svelte-n515mf"><p class="message">No notes found</p> <div class="wrapperButtonsAdd svelte-n515mf"><!></div> <div>or</div> <div class="wrapperButtonsAdd svelte-n515mf"><!></div></div>'),Yu=W('<div class="emptyMessage svelte-n515mf">No notes found</div>'),Ku=W('<div class="feed svelte-n515mf"><ul class="svelte-n515mf"></ul></div>'),Gu=W('<div class="wrapperFeed svelte-n515mf"><div class="wrapperContainer svelte-n515mf"><!></div></div>');function Xu(e,t){$(t,!0);const{setRelatedTags:n}=Na(),{getScrollContainer:r}=Ba(),{createHandlePage:a,getPageUrl:o}=Bt(),{getSelectedTags:s}=El(),{getFeedOrder:l}=Qo(),c=Ko(),{getGetNotes:u,isReadyNotes:f}=Ur();let d=54,g=z(0),h=z(0),v=z(0),_=z(0),w=[],b=z(0),k=R(r),E=null,D=null;const C=R(s),p=R(f);Be(()=>{i(C),i(A),i(k)?.scrollTo(0,0)});const{enable:S}=vs(),y=()=>{S(),E||(E=requestAnimationFrame(()=>{const V=i(k)?.scrollTop||0;P(v,V,!0);const X=Math.ceil(i(g)/d);P(h,Math.floor(V/(d*X))*(d*X)),E=null}))},x=()=>{D||(D=requestAnimationFrame(()=>{P(g,window.innerHeight-180||0,!0);const V=i(k)?.scrollTop||0;P(v,V,!0);const X=Math.ceil(i(g)/d);P(h,Math.floor(V/(d*X))*(d*X)),D=null}))};ye(()=>{x(),y()}),Be(()=>(i(k)?.addEventListener("scroll",y),window.addEventListener("resize",x),()=>{i(k)?.removeEventListener("scroll",y),window.removeEventListener("resize",x)}));const A=R(l);let O=z(""),G=R(u);Be(()=>{i(A);const V=i(G)()||[];At(()=>i(O))!==i(A)&&At(()=>P(O,i(A),!0)),V.sort((Q,K)=>{if(!Q||!K)return 0;if(Q.data.pinned&&!K.data.pinned)return 1;if(!Q.data.pinned&&K.data.pinned)return-1;switch(i(A)){case"newest":return Q.data.updatedAt<K.data.updatedAt?-1:1;case"oldest":return Q.data.updatedAt>K.data.updatedAt?-1:1;case"AtoZ":return K.data.name.localeCompare(Q.data.name);case"ZtoA":return Q.data.name.localeCompare(K.data.name);default:return 0}});const ne=[],de={};for(let Q=V.length-1;Q>=0;Q--){const K=V[Q];if(K&&!(i(C).length&&i(C).some(Se=>!K.data.tags.includes(Se)))&&!K.deleting&&!(c&&!(K.data.name.toLowerCase().includes(c.value.toLowerCase())||K.data.url.toLowerCase().includes(c.value.toLowerCase())||K.data.text.toLowerCase().includes(c.value.toLowerCase())))){if(K.data.tags)for(const Se of K.data.tags)de[Se]?de[Se].connections++:de[Se]={name:Se,connections:1};ne.push(K)}}n(de),P(_,ne.length,!0),w=ne,P(b,Date.now(),!0)});const te=R(()=>i(_)*d);let ae=R(()=>{i(b);const V=Math.ceil(i(g)/d);let X=Math.floor(i(h)/d);return X=X-Math.min(X,V),w.slice(X,X+V*3)}),J=R(()=>d*Math.ceil(i(g)/d));const L=R(()=>i(h)-Math.min(i(h),i(J)));var I=Gu(),M=N(I),H=N(M);{var ee=V=>{Es(V,{})},_e=V=>{var X=F(),ne=B(X);{var de=K=>{var Se=$u(),Me=j(N(Se),2),nt=N(Me);{let Re=R(()=>o(q.NewNote)),Ge=R(()=>a(q.NewNote));Hn(nt,{element:"a",get href(){return i(Re)},get onClick(){return i(Ge)},children:(Xe,yt)=>{var Ne=qu(),Fe=B(Ne);ke(Fe,()=>({"--size":"18px","--color":"#b0b0b0"})),Ee(Fe.lastChild,{name:"plus"}),m(Xe,Ne)},$$slots:{default:!0}})}var Yt=j(Me,4),De=N(Yt);{let Re=R(()=>o(q.ImportData)),Ge=R(()=>a(q.ImportData));Hn(De,{element:"a",get href(){return i(Re)},get onClick(){return i(Ge)},children:(Xe,yt)=>{var Ne=Wu(),Fe=B(Ne);ke(Fe,()=>({"--size":"18px","--color":"#b0b0b0"})),Ee(Fe.lastChild,{name:"import"}),m(Xe,Ne)},$$slots:{default:!0}})}m(K,Se)},Q=K=>{var Se=F(),Me=B(Se);{var nt=De=>{var Re=Yu();m(De,Re)},Yt=De=>{var Re=Ku(),Ge=N(Re);xn(Ge,23,()=>i(ae),Xe=>Xe.id,(Xe,yt,Ne)=>{{let Fe=R(()=>i(Ne)*d<i(v)-i(L)-d/2||i(Ne)*d>i(v)-i(L)+Math.floor(i(g)/d)*d),mn=R(()=>(i(Ne)+3)*d<i(v)-i(L)-d/2||(i(Ne)+3)*d>i(v)-i(L)+Math.floor(i(g)/d)*d);zu(Xe,{get focusHidden(){return i(Fe)},get showMenuUp(){return i(mn)},get note(){return i(yt)}})}}),ve(Xe=>{ar(Re,`min-height: ${Xe??""}px`),ar(Ge,`transform: translateY(${i(L)??""}px);`)},[()=>Math.max((i(te)>i(g),i(te)),0)]),m(De,Re)};U(Me,De=>{i(ae).length===0?De(nt):De(Yt,!1)},!0)}m(K,Se)};U(ne,K=>{(i(G)()||[]).length===0?K(de):K(Q,!1)},!0)}m(V,X)};U(H,V=>{i(p)?V(_e,!1):V(ee)})}m(e,I),Y()}var Zu=W('<!> <div class="content svelte-6sscvv"><!></div>',1);function Ju(e){var t=Zu(),n=B(t);wu(n,{});var r=j(n,2),a=N(r);Xu(a,{}),m(e,t)}var Qu=W('<h1 class="svelte-1ky72l5"><!></h1>');function ed(e,t){var n=Qu(),r=N(n);oe(r,()=>t.children),m(e,n)}var td=W('<div class="block svelte-ujk4k"><!> <div class="container svelte-ujk4k"><!> <!></div></div>');function nd(e,t){$(t,!0);const{blockDialog:n}=hr(),{pushStackPages:r}=Bt(),{closeDialogStack:a}=wt(),{initLocalAccount:o}=Aa();let s=z("idle");const l=()=>{P(s,"loading"),r(q.Auth)},c=async()=>{P(s,"loading"),Zl(),await o(),n(!1),a()};Be(()=>{n(i(s)==="idle"||i(s)==="loading")}),ye(()=>(n(!0),()=>{n(!1)}));var u=td(),f=N(u);ed(f,{children:(v,_)=>{var w=Le("use app");m(v,w)}});var d=j(f,2),g=N(d);Hn(g,{onClick:l,fullWidth:!0,children:(v,_)=>{var w=Le("cloud account");m(v,w)},$$slots:{default:!0}});var h=j(g,2);Hn(h,{onClick:c,fullWidth:!0,type:"secondary",children:(v,_)=>{var w=Le("without account");m(v,w)},$$slots:{default:!0}}),m(e,u),Y()}var rd=W('<div class="svelte-1x9a4ve"><!></div>');function Ae(e,t){$(t,!0);const{setDialogPageHeight:n}=Ma();let r=z(null);ye(()=>{i(r)&&(i(r).getBoundingClientRect(),i(r).style.opacity="1");const s=new ResizeObserver(l=>{for(let c of l){const u=c.contentRect.height;n(u)}});if(i(r))return s.observe(i(r)),()=>{i(r)&&s.unobserve(i(r)),s.disconnect()}});var a=rd(),o=N(a);oe(o,()=>t.children),mt(a,s=>P(r,s),()=>i(r)),m(e,a),Y()}var ad=W('<div class="svelte-stjbkr"><p class="svelte-stjbkr">Page not found</p> <!></div>');function od(e,t){$(t,!1);const{navigate:n}=wt(),r=s=>{s.preventDefault(),n("/")};Da();var a=ad(),o=j(N(a),2);Hn(o,{element:"a",href:"/",onClick:r,children:(s,l)=>{var c=Le("close");m(s,c)},$$slots:{default:!0}}),m(e,a),Y()}var sd=W('<div class="svelte-10xfz1h"><p class="svelte-10xfz1h">Something went wrong. Please reload the page</p> <!></div>');function id(e){var t=sd(),n=j(N(t),2);Hn(n,{onClick:()=>location.reload(),children:(r,a)=>{var o=Le("Reload");m(r,o)},$$slots:{default:!0}}),m(e,t)}var ld=W('<div class="svelte-1mu1b44"><!></div>');function cd(e,t){$(t,!0);const{getDialogPageHeight:n}=Ma(),r=R(n);var a=ld(),o=N(a);Es(o,{}),ve(()=>ar(a,`min-height: ${i(r)??""}px;`)),m(e,a),Y()}function He(e,t){$(t,!0);const n={},r=Object.assign({"./Pages/About.svelte":()=>Ie(()=>import("./q5gh-AzR.js"),__vite__mapDeps([2,3])),"./Pages/AccessKeys.svelte":()=>Ie(()=>import("./CaA-3DG-.js"),__vite__mapDeps([4,5,6,7])),"./Pages/Account.svelte":()=>Ie(()=>import("./BhXiMg2M.js"),__vite__mapDeps([8,5,9])),"./Pages/Auth.svelte":()=>Ie(()=>import("./Bm0_2pnm.js"),__vite__mapDeps([10,11])),"./Pages/ClearStore.svelte":()=>Ie(()=>import("./CHHK59cT.js"),__vite__mapDeps([12,13])),"./Pages/ConfirmAccessKey.svelte":()=>Ie(()=>import("./BbekH15Z.js"),__vite__mapDeps([14,6,5,15,16,17,18])),"./Pages/EditNote.svelte":()=>Ie(()=>import("./DDz67Cht.js"),__vite__mapDeps([19,20,16,17,21,22])),"./Pages/Exit.svelte":()=>Ie(()=>import("./BYLsI1aE.js"),__vite__mapDeps([23,24])),"./Pages/ExportData.svelte":()=>Ie(()=>import("./BCsKuIMb.js"),__vite__mapDeps([25,26])),"./Pages/ImportData.svelte":()=>Ie(()=>import("./Ckpb1fdh.js"),__vite__mapDeps([27,28])),"./Pages/NewNote.svelte":()=>Ie(()=>import("./DPVMsAjd.js"),__vite__mapDeps([29,20,16,17,21])),"./Pages/Settings.svelte":()=>Ie(()=>import("./BP9Ll-gD.js"),__vite__mapDeps([30,31])),"./Pages/Signin.svelte":()=>Ie(()=>import("./0_fQDin0.js"),__vite__mapDeps([32,6,5,15,33])),"./Pages/Signup.svelte":()=>Ie(()=>import("./B9M0okLN.js"),__vite__mapDeps([34,15,6,5,35])),"./Pages/Subscription.svelte":()=>Ie(()=>import("./B9VeUoKw.js"),__vite__mapDeps([36,37])),"./Pages/Sync.svelte":()=>Ie(()=>import("./BqEa19Jf.js"),__vite__mapDeps([38,39]))}),a=async l=>{const c=`./Pages/${l[0].toUpperCase()+l.slice(1)}.svelte`;if(!n[l]){if(r[c]){const u=r[c]();return n[l]={promise:u},n[l].module=await u,n[l].module}throw new Error(`Page ${l} not found`)}return n[l].module||await n[l].promise};var o=F(),s=B(o);Uo(s,()=>a(t.page),l=>{cd(l,{})},(l,c)=>{const u=R(()=>i(c).default);var f=F(),d=B(f);qo(d,()=>i(u),(g,h)=>{h(g,{get params(){return t.params},get hidden(){return t.hidden}})}),m(l,f)},l=>{id(l)}),m(e,o),Y()}const to=(e,t=ce,n=ce,r)=>{let a=Rr(()=>Fs(r?.(),!1));var o=F(),s=B(o);{var l=u=>{Ae(u,{children:(f,d)=>{He(f,{get hidden(){return i(a)},get page(){return q.Settings}})},$$slots:{default:!0}})},c=u=>{var f=F(),d=B(f);{var g=v=>{Ae(v,{children:(_,w)=>{He(_,{get hidden(){return i(a)},get page(){return q.NewNote}})},$$slots:{default:!0}})},h=v=>{var _=F(),w=B(_);{var b=E=>{Ae(E,{children:(D,C)=>{He(D,{get params(){return n()},get hidden(){return i(a)},get page(){return q.EditNote}})},$$slots:{default:!0}})},k=E=>{var D=F(),C=B(D);{var p=y=>{Ae(y,{children:(x,A)=>{He(x,{get hidden(){return i(a)},get page(){return q.ImportData}})},$$slots:{default:!0}})},S=y=>{var x=F(),A=B(x);{var O=te=>{Ae(te,{children:(ie,ae)=>{He(ie,{get hidden(){return i(a)},get page(){return q.ExportData}})},$$slots:{default:!0}})},G=te=>{var ie=F(),ae=B(ie);{var J=I=>{Ae(I,{children:(M,H)=>{He(M,{get hidden(){return i(a)},get page(){return q.ClearStore}})},$$slots:{default:!0}})},L=I=>{var M=F(),H=B(M);{var ee=V=>{Ae(V,{children:(X,ne)=>{nd(X,{})},$$slots:{default:!0}})},_e=V=>{var X=F(),ne=B(X);{var de=K=>{Ae(K,{children:(Se,Me)=>{He(Se,{get hidden(){return i(a)},get page(){return q.Auth}})},$$slots:{default:!0}})},Q=K=>{var Se=F(),Me=B(Se);{var nt=De=>{Ae(De,{children:(Re,Ge)=>{He(Re,{get hidden(){return i(a)},get page(){return q.Signup}})},$$slots:{default:!0}})},Yt=De=>{var Re=F(),Ge=B(Re);{var Xe=Ne=>{Ae(Ne,{children:(Fe,mn)=>{He(Fe,{get hidden(){return i(a)},get page(){return q.Signin}})},$$slots:{default:!0}})},yt=Ne=>{var Fe=F(),mn=B(Fe);{var Vr=Mt=>{Ae(Mt,{children:(Kt,gr)=>{He(Kt,{get hidden(){return i(a)},get page(){return q.AccessKeys}})},$$slots:{default:!0}})},qr=Mt=>{var Kt=F(),gr=B(Kt);{var Wr=xt=>{Ae(xt,{children:(Gt,_r)=>{He(Gt,{get hidden(){return i(a)},get page(){return q.Account}})},$$slots:{default:!0}})},$r=xt=>{var Gt=F(),_r=B(Gt);{var Yr=pe=>{Ae(pe,{children:(be,ut)=>{He(be,{get hidden(){return i(a)},get page(){return q.ConfirmAccessKey}})},$$slots:{default:!0}})},le=pe=>{var be=F(),ut=B(be);{var dt=rt=>{Ae(rt,{children:(wn,yn)=>{He(wn,{get hidden(){return i(a)},get page(){return q.Exit}})},$$slots:{default:!0}})},ft=rt=>{var wn=F(),yn=B(wn);{var Ia=Sn=>{Ae(Sn,{children:(pr,Oa)=>{He(pr,{get hidden(){return i(a)},get page(){return q.Sync}})},$$slots:{default:!0}})},Kr=Sn=>{var pr=F(),Oa=B(pr);{var Cs=bn=>{Ae(bn,{children:(mr,Ra)=>{He(mr,{get hidden(){return i(a)},get page(){return q.Subscription}})},$$slots:{default:!0}})},Ps=bn=>{var mr=F(),Ra=B(mr);{var xs=kn=>{Ae(kn,{children:(Gr,Ns)=>{He(Gr,{get hidden(){return i(a)},get page(){return q.About}})},$$slots:{default:!0}})},Ds=kn=>{Ae(kn,{children:(Gr,Ns)=>{od(Gr,{})},$$slots:{default:!0}})};U(Ra,kn=>{t()===q.About?kn(xs):kn(Ds,!1)},!0)}m(bn,mr)};U(Oa,bn=>{t()===q.Subscription?bn(Cs):bn(Ps,!1)},!0)}m(Sn,pr)};U(yn,Sn=>{t()===q.Sync?Sn(Ia):Sn(Kr,!1)},!0)}m(rt,wn)};U(ut,rt=>{t()===q.Exit?rt(dt):rt(ft,!1)},!0)}m(pe,be)};U(_r,pe=>{t()===q.ConfirmAccessKey?pe(Yr):pe(le,!1)},!0)}m(xt,Gt)};U(gr,xt=>{t()===q.Account?xt(Wr):xt($r,!1)},!0)}m(Mt,Kt)};U(mn,Mt=>{t()===q.AccessKeys?Mt(Vr):Mt(qr,!1)},!0)}m(Ne,Fe)};U(Ge,Ne=>{t()===q.Signin?Ne(Xe):Ne(yt,!1)},!0)}m(De,Re)};U(Me,De=>{t()===q.Signup?De(nt):De(Yt,!1)},!0)}m(K,Se)};U(ne,K=>{t()===q.Auth?K(de):K(Q,!1)},!0)}m(V,X)};U(H,V=>{t()===q.Start?V(ee):V(_e,!1)},!0)}m(I,M)};U(ae,I=>{t()===q.ClearStore?I(J):I(L,!1)},!0)}m(te,ie)};U(A,te=>{t()===q.ExportData?te(O):te(G,!1)},!0)}m(y,x)};U(C,y=>{t()===q.ImportData?y(p):y(S,!1)},!0)}m(E,D)};U(w,E=>{t()===q.EditNote?E(b):E(k,!1)},!0)}m(v,_)};U(d,v=>{t()===q.NewNote?v(g):v(h,!1)},!0)}m(u,f)};U(s,u=>{t()===q.Settings?u(l):u(c,!1)})}m(e,o)};var ud=W("<!> <!>",1);function dd(e,t){$(t,!0);const{isReadyNotes:n}=Ur(),{getStackPages:r,popStackPages:a}=Bt(),{getAccount:o}=Aa();let s=R(r),l=R(()=>n()&&o()!==void 0);const{checkMobileSize:c}=Yn();var u=ud(),f=B(u);{var d=_=>{Ju(_)};U(f,_=>{i(l)&&_(d)})}var g=j(f,2);{var h=_=>{var w=F(),b=B(w);xn(b,19,()=>i(s),k=>k.page,(k,E,D)=>{const C=R(()=>i(E).page.split("?")[1]),p=R(()=>i(E).page.split("?")[0]);{let S=R(()=>i(D)!==i(s).length-1&&!!i(s)[i(D)+1]?.shown),y=R(()=>i(D)===0);Qa(k,{get shown(){return i(E).shown},get hidden(){return i(S)},get isLastDialog(){return i(y)},children:(x,A)=>{{let O=R(()=>i(D)!==i(s).length-1&&!!i(s)[i(D)+1]?.shown);to(x,()=>i(p),()=>i(C),()=>i(O))}},$$slots:{default:!0}})}}),m(_,w)},v=_=>{var w=F(),b=B(w);{var k=E=>{const D=R(()=>i(s)[i(s).length-1].page.split("?")[1]),C=R(()=>i(s)[i(s).length-1].page.split("?")[0]);{let p=R(()=>i(s).length===1);Qa(E,{onBack:()=>a(),get shown(){return i(s)[i(s).length-1].shown},hidden:!1,get isLastDialog(){return i(p)},children:(S,y)=>{to(S,()=>i(C),()=>i(D))},$$slots:{default:!0}})}};U(b,E=>{i(s).length>0&&E(k)},!0)}m(_,w)};U(g,_=>{c()?_(h):_(v,!1)})}m(e,u),Y()}function fd(e,t){$(t,!1);let n=0;ye(()=>{document.addEventListener("touchstart",r=>{n=r.touches[0].clientX},{passive:!1}),document.addEventListener("touchmove",r=>{const o=r.touches[0].clientX-n;(n<50&&o>0||n>window.innerWidth-50&&o<0)&&r.preventDefault()},{passive:!1}),document.addEventListener("touchend",()=>{n=0}),document.addEventListener("touchcancel",()=>{n=0})}),Da(),Y()}const vd=(e,t)=>{i(t)&&i(t).scrollTo({top:0})};var hd=W('<div class="wrapperButtonTop svelte-1n46o8q"><button class="buttonTop svelte-1n46o8q"><!> <span class="icon svelte-1n46o8q"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></span></button></div>'),gd=W('<!> <!> <main><div class="wrapperHeader svelte-1n46o8q"><!></div> <div class="container svelte-1n46o8q"><!></div></main> <!>',1);function _d(e,t){$(t,!0);const{setScrollContainer:n}=Ba(),{getAccount:r}=Aa(),{getStackPagesFormUrl:a}=Bt(),o=$n();ye(async()=>{await new Promise(y=>setTimeout(y,100)),await Ro(),o.working=!0});let s=z(!1),l=0,c=R(()=>a().length>0),u=R(r),f=z(null);Be(()=>{n(i(f))});const d=()=>{if(i(f)){const y=i(f).scrollTop||0;y===0?P(s,!1):!i(s)&&l>y?P(s,!0):i(s)&&l+50<y&&P(s,!1),l=y}},g=()=>{d()};Be(()=>(i(f)?.addEventListener("scroll",g),window.addEventListener("resize",g),()=>{i(f)?.removeEventListener("scroll",g),window.removeEventListener("resize",g)}));var h=gd(),v=B(h);fd(v,{});var _=j(v,2);bc(_,{});var w=j(_,2),b=N(w),k=N(b);{var E=y=>{Wc(y,{})};U(k,y=>{i(u)!==void 0&&y(E)})}var D=j(b,2),C=N(D);dd(C,{}),mt(w,y=>P(f,y),()=>i(f));var p=j(w,2);{var S=y=>{var x=hd(),A=N(x);A.__click=[vd,f];var O=N(A);Je(O,{children:(ie,ae)=>{var J=Le("top");m(ie,J)}});var G=j(O,2),te=N(G);ke(te,()=>({"--rotate":"90deg","--size":"28px"})),Ee(te.lastChild,{name:"back"}),m(y,x)};U(p,y=>{i(s)&&y(S)})}ve(()=>{ar(w,`--swiping-ratio: ${o.swipingRatio}; --transition-timing-default: ${o.duration}s;`),ge(w,1,he(["main",{isAnimationOn:o.working&&!o.isSwiping,open:i(c)}]),"svelte-1n46o8q")}),m(e,h),Y()}tt(["click"]);function pd(e){pc(e,{children:(t,n)=>{_d(t,{})}})}window.addEventListener("unhandledrejection",e=>{alert("Error: "+e.reason.message)});window.isUnsupportedBrowser||Zi(pd,{target:document.getElementById("app")});export{$n as $,Aa as A,Hn as B,Ur as C,Pa as D,zl as E,Da as F,yd as G,ed as H,Ee as I,fe as J,ge as K,Es as L,he as M,Sd as N,bd as O,q as P,ar as Q,Vl as R,Yn as S,mt as T,Zl as U,Je as V,Pn as W,ll as X,Dl as Y,vc as Z,ts as _,ke as a,vs as a0,oe as a1,Ss as a2,xe as b,N as c,m as d,xn as e,W as f,i as g,Bt as h,hr as i,z as j,Oe as k,P as l,U as m,Y as n,ye as o,$ as p,F as q,B as r,j as s,ve as t,Be as u,tt as v,Le as w,rr as x,R as y,wt as z};
