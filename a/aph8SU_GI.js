import{p as ze,u as ye,C as Se,D as ke,v as We,o as oe,a as h,b as V,g as f,x as $e,f as i,j as t,c as H,i as e,m as De,L as se,y as v,n as s,s as z,T as ne,B as M,z as y,U as Ee,W as le,P as ie,H as ve,X as ee,Y as Le,Z as pe}from"./aCID6XVPP.js";const Be=async()=>{if("getInstalledRelatedApps"in navigator){console.log("checkWebAppInstalled");const U=await navigator?.getInstalledRelatedApps?.();return console.log("relatedApps",U),U?.some(N=>N.platform==="webapp")??!1}return!1},G=()=>window.installPrompt;var Fe=i('<div class="b p-1n4u0vz"><!></div>'),Oe=i('<p class="c p-1n4u0vz">App is already installed.</p>'),Re=i('<p class="c p-1n4u0vz">For install app, select the share button and select "Add to Home Screen".</p>'),Te=i('<p class="c p-1n4u0vz">Install app available on Safari.</p>'),He=i(`<p class="c p-1n4u0vz">From the menu bar, choose File > Add to Dock. Or click the Share button in the Safari
				toolbar, then choose Add to Dock.</p>`),Me=i('<p class="c p-1n4u0vz">Installation is not supported in this browser. use Brave, Chrome or Edge.</p>'),Ge=i(`<p class="c p-1n4u0vz">App is already installed or installation is not supported in this browser. use Brave,
					Chrome or Edge.</p>`),Ue=i('<p class="c p-1n4u0vz">For better experience, install app from Chrome.</p>'),Ye=i(`<p class="c p-1n4u0vz">You can install app to have a better experience and more reliable storage or you can use it in
			your browser and install later.</p> <!> <div class="d p-1n4u0vz"><!> <!></div>`,1),je=i('<!> <div class="b p-1n4u0vz"><!></div>',1),Ne=i('<p class="c p-1n4u0vz">Open the app from your device.</p>'),Xe=i('<!> <!> <div class="d p-1n4u0vz"><!> <!></div>',1),Ze=i('<div class="a p-1n4u0vz"><!></div>');function Je(U,N){ze(N,!0);const{pushDialogPage:ce,clearDialogPages:de}=ye(),{replaceSearchParams:ue}=Se(),{getAccount:fe}=ke(),{blockDialog:ae}=We();let d=V("preLoader"),E=V(!1),Y=V(null);const S=()=>Ee()&&!le(),_e=()=>{fe()===void 0?ce(ie.AccountSetup):de()},re=()=>{_e()},ge=async()=>{const l=G();try{l&&(h(d,"installing"),"onappinstalled"in window&&window.addEventListener("appinstalled",()=>{h(E,!0),ee()||(ae(!1),ue(`${Le}=${encodeURIComponent(`${ie.InstallSuccess}`)}`))}),await l.prompt(),l.userChoice?.then(_=>{_.outcome==="accepted"?(window.installPrompt=null,ee()&&h(Y,setTimeout(()=>{h(Y,null),f(E)?h(d,"success"):h(d,"idle")},5e3),!0)):h(d,"idle")}))}catch(_){console.error("Error during install prompt:",_)}};oe(()=>(Be().then(l=>{h(E,l,!0)}),()=>{f(Y)&&clearTimeout(f(Y))})),$e(()=>{ae(f(d)==="installing")}),oe(()=>{setTimeout(()=>{h(d,"idle")},2e3)});var te=Ze(),me=H(te);{var he=l=>{var _=Fe(),X=H(_);se(X,{}),e(l,_)},be=l=>{var _=v(),X=s(_);{var we=k=>{var L=Ye(),j=z(s(L),2);{var Z=a=>{var n=Oe();e(a,n)},q=a=>{var n=v(),p=s(n);{var I=c=>{var A=v(),C=s(A);{var o=r=>{var u=Re();e(r,u)},g=r=>{var u=Te();e(r,u)};t(C,r=>{pe()?r(o):r(g,!1)})}e(c,A)},x=c=>{var A=v(),C=s(A);{var o=r=>{var u=He();e(r,u)},g=r=>{var u=v(),Pe=s(u);{var Ie=$=>{var F=v(),J=s(F);{var K=m=>{var D=Me();e(m,D)},O=m=>{var D=v(),Q=s(D);{var R=T=>{var Ce=Ge();e(T,Ce)};t(Q,T=>{S()||T(R)},!0)}e(m,D)};t(J,m=>{ne()?m(O,!1):m(K)})}e($,F)},xe=$=>{var F=v(),J=s(F);{var K=O=>{var m=v(),D=s(m);{var Q=R=>{var T=Ue();e(R,T)};t(D,R=>{!S()&&G()&&R(Q)})}e(O,m)};t(J,O=>{ee()&&O(K)},!0)}e($,F)};t(Pe,$=>{G()?$(xe,!1):$(Ie)},!0)}e(r,u)};t(C,r=>{pe()?r(o):r(g,!1)},!0)}e(c,A)};t(p,c=>{le()?c(I):c(x,!1)},!0)}e(a,n)};t(j,a=>{f(E)||S()&&!G()&&ne()?a(Z):a(q,!1)})}var b=z(j,2),w=H(b);{var W=a=>{M(a,{onClick:ge,fullWidth:!0,children:(n,p)=>{var I=y("install web app");e(n,I)},$$slots:{default:!0}})},B=a=>{var n=v(),p=s(n);{var I=x=>{M(x,{element:"a",target:"_blank",rel:"noopener noreferrer",href:`${window.location.origin}`,fullWidth:!0,children:(c,A)=>{var C=y("open app");e(c,C)},$$slots:{default:!0}})};t(p,x=>{(f(E)||S())&&x(I)},!0)}e(a,n)};t(w,a=>{G()?a(W):a(B,!1)})}var P=z(w,2);M(P,{onClick:re,fullWidth:!0,type:"secondary",children:(a,n)=>{var p=y("continue in browser");e(a,p)},$$slots:{default:!0}}),e(k,L)},Ae=k=>{var L=v(),j=s(L);{var Z=b=>{var w=je(),W=s(w);ve(W,{children:(a,n)=>{var p=y("installing app...");e(a,p)}});var B=z(W,2),P=H(B);se(P,{}),e(b,w)},q=b=>{var w=v(),W=s(w);{var B=P=>{var a=Xe(),n=s(a);ve(n,{children:(o,g)=>{var r=y("app installed successfully!");e(o,r)}});var p=z(n,2);{var I=o=>{var g=Ne();e(o,g)};t(p,o=>{S()||o(I)})}var x=z(p,2),c=H(x);{var A=o=>{M(o,{element:"a",target:"_blank",rel:"noopener noreferrer",href:`${window.location.origin}`,fullWidth:!0,children:(g,r)=>{var u=y("open app");e(g,u)},$$slots:{default:!0}})};t(c,o=>{S()&&o(A)})}var C=z(c,2);M(C,{onClick:re,fullWidth:!0,type:"secondary",children:(o,g)=>{var r=y("continue in browser");e(o,r)},$$slots:{default:!0}}),e(P,a)};t(W,P=>{f(d)==="success"&&P(B)},!0)}e(b,w)};t(j,b=>{f(d)==="installing"?b(Z):b(q,!1)},!0)}e(k,L)};t(X,k=>{f(d)==="idle"?k(we):k(Ae,!1)},!0)}e(l,_)};t(me,l=>{f(d)==="preLoader"?l(he):l(be,!1)})}e(U,te),De()}export{Je as default};
