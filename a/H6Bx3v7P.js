const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["a/BHqYtQ8U.js","a/B3ySkiVu.css","a/c9ro2f6E.js","a/9q_jSmK4.js","a/bA9hIFUQ.js","a/Df0fAQHq.css","a/D02kosMY.js","a/GKJynjgv.css","a/JZnNoHub.js","a/BMjxyC5e.css","a/Dr1U_Dr5.js","a/DgPIJwnn.css","a/CQtz61a3.js","a/B_UsPGEu.css","a/D-tn_7kr.js","a/Cpa8lgv9.js","a/BYDUuyWz.js","a/j0KFa_-O.css","a/hu7yjlv8.css","a/CTmrlZ2q.js","a/Cnswj65v.js","a/B-92R3b8.js","a/EZ_l8VDb.css","a/B_Zcg-eh.css","a/HOTUjnfJ.css","a/9khYiT-J.js","a/Bs6Vrlio.css","a/2SkvVk6x.js","a/CCtlgutt.css","a/6oARG7-Y.js","a/DZNlfyYK.css","a/BP_RRCqn.js","a/CJkK19aw.css","a/E75_FUSN.js","a/DlxBpJjD.css","a/CtOIbWwE.js","a/Wpy3Ul5v.js","a/DaxC3cdO.css","a/dpwHslVX.js","a/Bib31qW-.css","a/zvfIFsSp.js","a/Br15UghP.css","a/-I_L_jr0.js","a/CTzb1Nvm.css"])))=>i.map(i=>d[i]);
var oi=Object.defineProperty;var Xr=t=>{throw TypeError(t)};var ii=(t,e,n)=>e in t?oi(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var lt=(t,e,n)=>ii(t,typeof e!="symbol"?e+"":e,n),tr=(t,e,n)=>e.has(t)||Xr("Cannot "+n);var M=(t,e,n)=>(tr(t,e,"read from private field"),n?n.call(t):e.get(t)),ke=(t,e,n)=>e.has(t)?Xr("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ce=(t,e,n,a)=>(tr(t,e,"write to private field"),a?a.call(t,n):e.set(t,n),n),Ne=(t,e,n)=>(tr(t,e,"access private method"),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();const ps=!1;var kr=Array.isArray,li=Array.prototype.indexOf,Cr=Array.from,lr=Object.defineProperty,Rn=Object.getOwnPropertyDescriptor,_s=Object.getOwnPropertyDescriptors,ci=Object.prototype,ui=Array.prototype,Er=Object.getPrototypeOf,Gr=Object.isExtensible;const Ee=()=>{};function di(t){return typeof t?.then=="function"}function fi(t){return t()}function cr(t){for(var e=0;e<t.length;e++)t[e]()}function ms(){var t,e,n=new Promise((a,s)=>{t=a,e=s});return{promise:n,resolve:t,reject:e}}function vi(t,e,n=!1){return t===void 0?n?e():e:t}const Ze=2,Pr=4,Ha=8,Vt=16,Wt=32,bn=64,ja=128,Qe=1024,st=2048,tn=4096,ut=8192,zt=16384,xr=32768,$t=65536,Zr=1<<17,hi=1<<18,Zn=1<<19,ws=1<<20,pt=256,La=512,Ma=32768,ur=1<<21,Tr=1<<22,gn=1<<23,pn=Symbol("$state"),gi=Symbol("legacy props"),pi=Symbol(""),Bn=new class extends Error{constructor(){super(...arguments);lt(this,"name","StaleReactionError");lt(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function ys(t){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function _i(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function mi(t){throw new Error("https://svelte.dev/e/effect_in_teardown")}function wi(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function yi(t){throw new Error("https://svelte.dev/e/effect_orphan")}function bi(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Si(t){throw new Error("https://svelte.dev/e/props_invalid_value")}function ki(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Ci(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Ei(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Pi(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const Ua=1,Va=2,bs=4,xi=8,Ti=16,Ai=1,Di=2,Ni=4,Li=8,Mi=16,Ii=1,Oi=2,Ke=Symbol(),Bi="http://www.w3.org/1999/xhtml";function Ri(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}let zi=!1;function Ss(t){return t===this.v}function Fi(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function ks(t){return!Fi(t,this.v)}let Jn=!1,Hi=!1;function ji(){Jn=!0}let De=null;function Kn(t){De=t}function Fe(t){return Cs().get(t)}function He(t,e){return Cs().set(t,e),e}function ae(t,e=!1,n){De={p:De,c:null,e:null,s:t,x:null,l:Jn&&!e?{s:null,u:null,$:[]}:null}}function re(t){var e=De,n=e.e;if(n!==null){e.e=null;for(var a of n)Vs(a)}return t!==void 0&&(e.x=t),De=e.p,t??{}}function Qn(){return!Jn||De!==null&&De.l===null}function Cs(t){return De===null&&ys(),De.c??(De.c=new Map(Ui(De)||void 0))}function Ui(t){let e=t.p;for(;e!==null;){const n=e.c;if(n!==null)return n;e=e.p}return null}let un=[];function Es(){var t=un;un=[],cr(t)}function Sn(t){if(un.length===0&&!zn){var e=un;queueMicrotask(()=>{e===un&&Es()})}un.push(t)}function Vi(){for(;un.length>0;)Es()}const Wi=new WeakMap;function Ps(t){var e=me;if(e===null)return _e.f|=gn,t;if((e.f&xr)===0){if((e.f&ja)===0)throw!e.parent&&t instanceof Error&&xs(t),t;e.b.error(t)}else Yn(t,e)}function Yn(t,e){for(;e!==null;){if((e.f&ja)!==0)try{e.b.error(t);return}catch(n){t=n}e=e.parent}throw t instanceof Error&&xs(t),t}function xs(t){const e=Wi.get(t);e&&(lr(t,"message",{value:e.message}),lr(t,"stack",{value:e.stack}))}const Ca=new Set;let Ae=null,xa=null,wt=null,dr=new Set,At=[],Wa=null,fr=!1,zn=!1;var jn,Un,Vn,dn,ua,Wn,qn,Ye,vr,ln,hr,Ts;const Ra=class Ra{constructor(){ke(this,Ye);lt(this,"committed",!1);lt(this,"current",new Map);ke(this,jn,new Map);ke(this,Un,new Set);ke(this,Vn,0);ke(this,dn,0);ke(this,ua,null);ke(this,Wn,[]);ke(this,qn,[]);lt(this,"skipped_effects",new Set)}process(e){At=[],xa=null,this.apply();var n={parent:null,effect:null,effects:[],render_effects:[],block_effects:[]};for(const a of e)Ne(this,Ye,vr).call(this,a,n);Ne(this,Ye,hr).call(this),M(this,dn)>0?(Ne(this,Ye,ln).call(this,n.effects),Ne(this,Ye,ln).call(this,n.render_effects),Ne(this,Ye,ln).call(this,n.block_effects)):(xa=this,Ae=null,Jr(n.render_effects),Jr(n.effects),xa=null),wt=null}capture(e,n){M(this,jn).has(e)||M(this,jn).set(e,n),this.current.set(e,e.v),wt?.set(e,e.v)}activate(){Ae=this}deactivate(){Ae=null,wt=null}flush(){if(At.length>0){if(this.activate(),Ds(),Ae!==null&&Ae!==this)return}else Ne(this,Ye,hr).call(this);this.deactivate();for(const e of dr)if(dr.delete(e),e(),Ae!==null)break}increment(e){ce(this,Vn,M(this,Vn)+1),e&&ce(this,dn,M(this,dn)+1)}decrement(e){ce(this,Vn,M(this,Vn)-1),e&&ce(this,dn,M(this,dn)-1);for(const n of M(this,Wn))$e(n,st),wn(n);for(const n of M(this,qn))$e(n,tn),wn(n);ce(this,Wn,[]),ce(this,qn,[]),this.flush()}add_callback(e){M(this,Un).add(e)}settled(){return(M(this,ua)??ce(this,ua,ms())).promise}static ensure(){if(Ae===null){const e=Ae=new Ra;Ca.add(Ae),zn||Ra.enqueue(()=>{Ae===e&&e.flush()})}return Ae}static enqueue(e){Sn(e)}apply(){}};jn=new WeakMap,Un=new WeakMap,Vn=new WeakMap,dn=new WeakMap,ua=new WeakMap,Wn=new WeakMap,qn=new WeakMap,Ye=new WeakSet,vr=function(e,n){e.f^=Qe;for(var a=e.first;a!==null;){var s=a.f,o=(s&(Wt|bn))!==0,i=o&&(s&Qe)!==0,l=i||(s&ut)!==0||this.skipped_effects.has(a);if((a.f&ja)!==0&&a.b?.is_pending()&&(n={parent:n,effect:a,effects:[],render_effects:[],block_effects:[]}),!l&&a.fn!==null){o?a.f^=Qe:(s&Pr)!==0?n.effects.push(a):Xa(a)&&((a.f&Vt)!==0&&n.block_effects.push(a),Ba(a));var c=a.first;if(c!==null){a=c;continue}}var u=a.parent;for(a=a.next;a===null&&u!==null;)u===n.effect&&(Ne(this,Ye,ln).call(this,n.effects),Ne(this,Ye,ln).call(this,n.render_effects),Ne(this,Ye,ln).call(this,n.block_effects),n=n.parent),a=u.next,u=u.parent}},ln=function(e){for(const n of e)((n.f&st)!==0?M(this,Wn):M(this,qn)).push(n),$e(n,Qe)},hr=function(){if(M(this,dn)===0){for(const e of M(this,Un))e();M(this,Un).clear()}M(this,Vn)===0&&Ne(this,Ye,Ts).call(this)},Ts=function(){var s;if(Ca.size>1){M(this,jn).clear();var e=wt,n=!0,a={parent:null,effect:null,effects:[],render_effects:[],block_effects:[]};for(const o of Ca){if(o===this){n=!1;continue}const i=[];for(const[c,u]of this.current){if(o.current.has(c))if(n&&u!==o.current.get(c))o.current.set(c,u);else continue;i.push(c)}if(i.length===0)continue;const l=[...o.current.keys()].filter(c=>!this.current.has(c));if(l.length>0){const c=new Set,u=new Map;for(const d of i)Ns(d,l,c,u);if(At.length>0){Ae=o,o.apply();for(const d of At)Ne(s=o,Ye,vr).call(s,d,a);At=[],o.deactivate()}}}Ae=null,wt=e}this.committed=!0,Ca.delete(this),M(this,ua)?.resolve()};let Rt=Ra;function As(t){var e=zn;zn=!0;try{for(var n;;){if(Vi(),At.length===0&&(Ae?.flush(),At.length===0))return Wa=null,n;Ds()}}finally{zn=e}}function Ds(){var t=Hn;fr=!0;try{var e=0;for(es(!0);At.length>0;){var n=Rt.ensure();if(e++>1e3){var a,s;qi()}n.process(At),Jt.clear()}}finally{fr=!1,es(t),Wa=null}}function qi(){try{bi()}catch(t){Yn(t,Wa)}}let It=null;function Jr(t){var e=t.length;if(e!==0){for(var n=0;n<e;){var a=t[n++];if((a.f&(zt|ut))===0&&Xa(a)&&(It=new Set,Ba(a),a.deps===null&&a.first===null&&a.nodes_start===null&&(a.teardown===null&&a.ac===null?Ks(a):a.fn=null),It?.size>0)){Jt.clear();for(const s of It){if((s.f&(zt|ut))!==0)continue;const o=[s];let i=s.parent;for(;i!==null;)It.has(i)&&(It.delete(i),o.push(i)),i=i.parent;for(let l=o.length-1;l>=0;l--){const c=o[l];(c.f&(zt|ut))===0&&Ba(c)}}It.clear()}}It=null}}function Ns(t,e,n,a){if(!n.has(t)&&(n.add(t),t.reactions!==null))for(const s of t.reactions){const o=s.f;(o&Ze)!==0?Ns(s,e,n,a):(o&(Tr|Vt))!==0&&(o&st)===0&&Ls(s,e,a)&&($e(s,st),wn(s))}}function Ls(t,e,n){const a=n.get(t);if(a!==void 0)return a;if(t.deps!==null)for(const s of t.deps){if(e.includes(s))return!0;if((s.f&Ze)!==0&&Ls(s,e,n))return n.set(s,!0),!0}return n.set(t,!1),!1}function wn(t){for(var e=Wa=t;e.parent!==null;){e=e.parent;var n=e.f;if(fr&&e===me&&(n&Vt)!==0)return;if((n&(bn|Wt))!==0){if((n&Qe)===0)return;e.f^=Qe}}At.push(e)}function Ki(t){let e=0,n=jt(0),a;return()=>{ol()&&(r(n),Ya(()=>(e===0&&(a=it(()=>t(()=>sa(n)))),e+=1,()=>{Sn(()=>{e-=1,e===0&&(a?.(),a=void 0,sa(n))})})))}}var Yi=$t|Zn|ja;function Xi(t,e,n){new Gi(t,e,n)}var vt,ht,Sr,Et,fn,Pt,gt,nt,xt,Ot,Yt,vn,Xt,hn,Gt,za,Fa,We,Zi,Ji,gr,Ta,Aa,pr;class Gi{constructor(e,n,a){ke(this,We);lt(this,"parent");ke(this,vt,!1);ke(this,ht);ke(this,Sr,null);ke(this,Et);ke(this,fn);ke(this,Pt);ke(this,gt,null);ke(this,nt,null);ke(this,xt,null);ke(this,Ot,null);ke(this,Yt,null);ke(this,vn,0);ke(this,Xt,0);ke(this,hn,!1);ke(this,Gt,null);ke(this,za,()=>{M(this,Gt)&&Ft(M(this,Gt),M(this,vn))});ke(this,Fa,Ki(()=>(ce(this,Gt,jt(M(this,vn))),()=>{ce(this,Gt,null)})));ce(this,ht,e),ce(this,Et,n),ce(this,fn,a),this.parent=me.b,ce(this,vt,!!M(this,Et).pending),ce(this,Pt,$n(()=>{me.b=this;{var s=Ne(this,We,gr).call(this);try{ce(this,gt,mt(()=>a(s)))}catch(o){this.error(o)}M(this,Xt)>0?Ne(this,We,Aa).call(this):ce(this,vt,!1)}return()=>{M(this,Yt)?.remove()}},Yi))}is_pending(){return M(this,vt)||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!M(this,Et).pending}update_pending_count(e){Ne(this,We,pr).call(this,e),ce(this,vn,M(this,vn)+e),dr.add(M(this,za))}get_effect_pending(){return M(this,Fa).call(this),r(M(this,Gt))}error(e){var n=M(this,Et).onerror;let a=M(this,Et).failed;if(M(this,hn)||!n&&!a)throw e;M(this,gt)&&(rt(M(this,gt)),ce(this,gt,null)),M(this,nt)&&(rt(M(this,nt)),ce(this,nt,null)),M(this,xt)&&(rt(M(this,xt)),ce(this,xt,null));var s=!1,o=!1;const i=()=>{if(s){Ri();return}s=!0,o&&Pi(),Rt.ensure(),ce(this,vn,0),M(this,xt)!==null&&Fn(M(this,xt),()=>{ce(this,xt,null)}),ce(this,vt,this.has_pending_snippet()),ce(this,gt,Ne(this,We,Ta).call(this,()=>(ce(this,hn,!1),mt(()=>M(this,fn).call(this,M(this,ht)))))),M(this,Xt)>0?Ne(this,We,Aa).call(this):ce(this,vt,!1)};var l=_e;try{at(null),o=!0,n?.(e,i),o=!1}catch(c){Yn(c,M(this,Pt)&&M(this,Pt).parent)}finally{at(l)}a&&Sn(()=>{ce(this,xt,Ne(this,We,Ta).call(this,()=>{Rt.ensure(),ce(this,hn,!0);try{return mt(()=>{a(M(this,ht),()=>e,()=>i)})}catch(c){return Yn(c,M(this,Pt).parent),null}finally{ce(this,hn,!1)}}))})}}vt=new WeakMap,ht=new WeakMap,Sr=new WeakMap,Et=new WeakMap,fn=new WeakMap,Pt=new WeakMap,gt=new WeakMap,nt=new WeakMap,xt=new WeakMap,Ot=new WeakMap,Yt=new WeakMap,vn=new WeakMap,Xt=new WeakMap,hn=new WeakMap,Gt=new WeakMap,za=new WeakMap,Fa=new WeakMap,We=new WeakSet,Zi=function(){try{ce(this,gt,mt(()=>M(this,fn).call(this,M(this,ht))))}catch(e){this.error(e)}ce(this,vt,!1)},Ji=function(){const e=M(this,Et).pending;e&&(ce(this,nt,mt(()=>e(M(this,ht)))),Rt.enqueue(()=>{var n=Ne(this,We,gr).call(this);ce(this,gt,Ne(this,We,Ta).call(this,()=>(Rt.ensure(),mt(()=>M(this,fn).call(this,n))))),M(this,Xt)>0?Ne(this,We,Aa).call(this):(Fn(M(this,nt),()=>{ce(this,nt,null)}),ce(this,vt,!1))}))},gr=function(){var e=M(this,ht);return M(this,vt)&&(ce(this,Yt,en()),M(this,ht).before(M(this,Yt)),e=M(this,Yt)),e},Ta=function(e){var n=me,a=_e,s=De;Nt(M(this,Pt)),at(M(this,Pt)),Kn(M(this,Pt).ctx);try{return e()}catch(o){return Ps(o),null}finally{Nt(n),at(a),Kn(s)}},Aa=function(){const e=M(this,Et).pending;M(this,gt)!==null&&(ce(this,Ot,document.createDocumentFragment()),M(this,Ot).append(M(this,Yt)),Gs(M(this,gt),M(this,Ot))),M(this,nt)===null&&ce(this,nt,mt(()=>e(M(this,ht))))},pr=function(e){var n;if(!this.has_pending_snippet()){this.parent&&Ne(n=this.parent,We,pr).call(n,e);return}ce(this,Xt,M(this,Xt)+e),M(this,Xt)===0&&(ce(this,vt,!1),M(this,nt)&&Fn(M(this,nt),()=>{ce(this,nt,null)}),M(this,Ot)&&(M(this,ht).before(M(this,Ot)),ce(this,Ot,null)))};function Qi(t,e,n){const a=Qn()?va:qa;if(e.length===0){n(t.map(a));return}var s=Ae,o=me,i=Ms();Promise.all(e.map(l=>$i(l))).then(l=>{i();try{n([...t.map(a),...l])}catch(c){(o.f&zt)===0&&Yn(c,o)}s?.deactivate(),Ia()}).catch(l=>{Yn(l,o)})}function Ms(){var t=me,e=_e,n=De,a=Ae;return function(){Nt(t),at(e),Kn(n),a?.activate()}}function Ia(){Nt(null),at(null),Kn(null)}function va(t){var e=Ze|st,n=_e!==null&&(_e.f&Ze)!==0?_e:null;return me===null||n!==null&&(n.f&pt)!==0?e|=pt:me.f|=Zn,{ctx:De,deps:null,effects:null,equals:Ss,f:e,fn:t,reactions:null,rv:0,v:Ke,wv:0,parent:n??me,ac:null}}function $i(t,e){let n=me;n===null&&_i();var a=n.b,s=void 0,o=jt(Ke),i=!_e,l=new Map;return ul(()=>{var c=ms();s=c.promise;try{Promise.resolve(t()).then(c.resolve,c.reject).then(()=>{u===Ae&&u.committed&&u.deactivate(),Ia()})}catch(v){c.reject(v),Ia()}var u=Ae;if(i){var d=!a.is_pending();a.update_pending_count(1),u.increment(d),l.get(u)?.reject(Bn),l.delete(u),l.set(u,c)}const f=(v,g=void 0)=>{if(u.activate(),g)g!==Bn&&(o.f|=gn,Ft(o,g));else{(o.f&gn)!==0&&(o.f^=gn),Ft(o,v);for(const[h,m]of l){if(l.delete(h),h===u)break;m.reject(Bn)}}i&&(a.update_pending_count(-1),u.decrement(d))};c.promise.then(f,v=>f(null,v||"unknown"))}),Us(()=>{for(const c of l.values())c.reject(Bn)}),new Promise(c=>{function u(d){function f(){d===s?c(o):u(s)}d.then(f,f)}u(s)})}function R(t){const e=va(t);return Zs(e),e}function qa(t){const e=va(t);return e.equals=ks,e}function Is(t){var e=t.effects;if(e!==null){t.effects=null;for(var n=0;n<e.length;n+=1)rt(e[n])}}function el(t){for(var e=t.parent;e!==null;){if((e.f&Ze)===0)return e;e=e.parent}return null}function Ar(t){var e,n=me;Nt(el(t));try{t.f&=~Ma,Is(t),e=eo(t)}finally{Nt(n)}return e}function Os(t){var e=Ar(t);if(t.equals(e)||(t.v=e,t.wv=Qs()),!kn)if(wt!==null)wt.set(t,t.v);else{var n=(Zt||(t.f&pt)!==0)&&t.deps!==null?tn:Qe;$e(t,n)}}const Jt=new Map;function jt(t,e){var n={f:0,v:t,reactions:null,equals:Ss,rv:0,wv:0};return n}function V(t,e){const n=jt(t);return Zs(n),n}function _r(t,e=!1,n=!0){var s;const a=jt(t);return e||(a.equals=ks),Jn&&n&&De!==null&&De.l!==null&&((s=De.l).s??(s.s=[])).push(a),a}function w(t,e,n=!1){_e!==null&&(!yt||(_e.f&Zr)!==0)&&Qn()&&(_e.f&(Ze|Vt|Tr|Zr))!==0&&!Ht?.includes(t)&&Ei();let a=n?Oe(e):e;return Ft(t,a)}function Ft(t,e){if(!t.equals(e)){var n=t.v;kn?Jt.set(t,e):Jt.set(t,n),t.v=e;var a=Rt.ensure();a.capture(t,n),(t.f&Ze)!==0&&((t.f&st)!==0&&Ar(t),$e(t,(t.f&pt)===0?Qe:tn)),t.wv=Qs(),Bs(t,st),Qn()&&me!==null&&(me.f&Qe)!==0&&(me.f&(Wt|bn))===0&&(ft===null?vl([t]):ft.push(t))}return e}function sa(t){w(t,t.v+1)}function Bs(t,e){var n=t.reactions;if(n!==null)for(var a=Qn(),s=n.length,o=0;o<s;o++){var i=n[o],l=i.f;if(!(!a&&i===me)){var c=(l&st)===0;c&&$e(i,e),(l&Ze)!==0?(l&Ma)===0&&(i.f|=Ma,Bs(i,tn)):c&&((l&Vt)!==0&&It!==null&&It.add(i),wn(i))}}}function Oe(t){if(typeof t!="object"||t===null||pn in t)return t;const e=Er(t);if(e!==ci&&e!==ui)return t;var n=new Map,a=kr(t),s=V(0),o=_n,i=l=>{if(_n===o)return l();var c=_e,u=_n;at(null),ns(o);var d=l();return at(c),ns(u),d};return a&&n.set("length",V(t.length)),new Proxy(t,{defineProperty(l,c,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&ki();var d=n.get(c);return d===void 0?d=i(()=>{var f=V(u.value);return n.set(c,f),f}):w(d,u.value,!0),!0},deleteProperty(l,c){var u=n.get(c);if(u===void 0){if(c in l){const d=i(()=>V(Ke));n.set(c,d),sa(s)}}else w(u,Ke),sa(s);return!0},get(l,c,u){if(c===pn)return t;var d=n.get(c),f=c in l;if(d===void 0&&(!f||Rn(l,c)?.writable)&&(d=i(()=>{var g=Oe(f?l[c]:Ke),h=V(g);return h}),n.set(c,d)),d!==void 0){var v=r(d);return v===Ke?void 0:v}return Reflect.get(l,c,u)},getOwnPropertyDescriptor(l,c){var u=Reflect.getOwnPropertyDescriptor(l,c);if(u&&"value"in u){var d=n.get(c);d&&(u.value=r(d))}else if(u===void 0){var f=n.get(c),v=f?.v;if(f!==void 0&&v!==Ke)return{enumerable:!0,configurable:!0,value:v,writable:!0}}return u},has(l,c){if(c===pn)return!0;var u=n.get(c),d=u!==void 0&&u.v!==Ke||Reflect.has(l,c);if(u!==void 0||me!==null&&(!d||Rn(l,c)?.writable)){u===void 0&&(u=i(()=>{var v=d?Oe(l[c]):Ke,g=V(v);return g}),n.set(c,u));var f=r(u);if(f===Ke)return!1}return d},set(l,c,u,d){var f=n.get(c),v=c in l;if(a&&c==="length")for(var g=u;g<f.v;g+=1){var h=n.get(g+"");h!==void 0?w(h,Ke):g in l&&(h=i(()=>V(Ke)),n.set(g+"",h))}if(f===void 0)(!v||Rn(l,c)?.writable)&&(f=i(()=>V(void 0)),w(f,Oe(u)),n.set(c,f));else{v=f.v!==Ke;var m=i(()=>Oe(u));w(f,m)}var p=Reflect.getOwnPropertyDescriptor(l,c);if(p?.set&&p.set.call(d,u),!v){if(a&&typeof c=="string"){var P=n.get("length"),x=Number(c);Number.isInteger(x)&&x>=P.v&&w(P,x+1)}sa(s)}return!0},ownKeys(l){r(s);var c=Reflect.ownKeys(l).filter(f=>{var v=n.get(f);return v===void 0||v.v!==Ke});for(var[u,d]of n)d.v!==Ke&&!(u in l)&&c.push(u);return c},setPrototypeOf(){Ci()}})}var Qr,Rs,zs,Fs;function tl(){if(Qr===void 0){Qr=window,Rs=/Firefox/.test(navigator.userAgent);var t=Element.prototype,e=Node.prototype,n=Text.prototype;zs=Rn(e,"firstChild").get,Fs=Rn(e,"nextSibling").get,Gr(t)&&(t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__style=void 0,t.__e=void 0),Gr(n)&&(n.__t=void 0)}}function en(t=""){return document.createTextNode(t)}function Xn(t){return zs.call(t)}function ha(t){return Fs.call(t)}function b(t,e){return Xn(t)}function B(t,e=!1){{var n=Xn(t);return n instanceof Comment&&n.data===""?ha(n):n}}function z(t,e=1,n=!1){let a=t;for(;e--;)a=ha(a);return a}function nl(t){t.textContent=""}function Hs(){return!1}let $r=!1;function al(){$r||($r=!0,document.addEventListener("reset",t=>{Promise.resolve().then(()=>{if(!t.defaultPrevented)for(const e of t.target.elements)e.__on_r?.()})},{capture:!0}))}function Ka(t){var e=_e,n=me;at(null),Nt(null);try{return t()}finally{at(e),Nt(n)}}function rl(t,e,n,a=n){t.addEventListener(e,()=>Ka(n));const s=t.__on_r;s?t.__on_r=()=>{s(),a(!0)}:t.__on_r=()=>a(!0),al()}function js(t){me===null&&_e===null&&yi(),_e!==null&&(_e.f&pt)!==0&&me===null&&wi(),kn&&mi()}function sl(t,e){var n=e.last;n===null?e.last=e.first=t:(n.next=t,t.prev=n,e.last=t)}function Lt(t,e,n,a=!0){var s=me;s!==null&&(s.f&ut)!==0&&(t|=ut);var o={ctx:De,deps:null,nodes_start:null,nodes_end:null,f:t|st,first:null,fn:e,last:null,next:null,parent:s,b:s&&s.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{Ba(o),o.f|=xr}catch(c){throw rt(o),c}else e!==null&&wn(o);if(a){var i=o;if(n&&i.deps===null&&i.teardown===null&&i.nodes_start===null&&i.first===i.last&&(i.f&Zn)===0&&(i=i.first,(t&Vt)!==0&&(t&$t)!==0&&i!==null&&(i.f|=$t)),i!==null&&(i.parent=s,s!==null&&sl(i,s),_e!==null&&(_e.f&Ze)!==0&&(t&bn)===0)){var l=_e;(l.effects??(l.effects=[])).push(i)}}return o}function ol(){return _e!==null&&!yt}function Us(t){const e=Lt(Ha,null,!1);return $e(e,Qe),e.teardown=t,e}function Te(t){js();var e=me.f,n=!_e&&(e&Wt)!==0&&(e&xr)===0;if(n){var a=De;(a.e??(a.e=[])).push(t)}else return Vs(t)}function Vs(t){return Lt(Pr|ws,t,!1)}function il(t){return js(),Lt(Ha|ws,t,!0)}function ll(t){Rt.ensure();const e=Lt(bn|Zn,t,!0);return(n={})=>new Promise(a=>{n.outro?Fn(e,()=>{rt(e),a(void 0)}):(rt(e),a(void 0))})}function cl(t){return Lt(Pr,t,!1)}function ul(t){return Lt(Tr|Zn,t,!0)}function Ya(t,e=0){return Lt(Ha|e,t,!0)}function ie(t,e=[],n=[]){Qi(e,n,a=>{Lt(Ha,()=>t(...a.map(r)),!0)})}function $n(t,e=0){var n=Lt(Vt|e,t,!0);return n}function mt(t,e=!0){return Lt(Wt|Zn,t,!0,e)}function Ws(t){var e=t.teardown;if(e!==null){const n=kn,a=_e;ts(!0),at(null);try{e.call(null)}finally{ts(n),at(a)}}}function qs(t,e=!1){var n=t.first;for(t.first=t.last=null;n!==null;){const s=n.ac;s!==null&&Ka(()=>{s.abort(Bn)});var a=n.next;(n.f&bn)!==0?n.parent=null:rt(n,e),n=a}}function dl(t){for(var e=t.first;e!==null;){var n=e.next;(e.f&Wt)===0&&rt(e),e=n}}function rt(t,e=!0){var n=!1;(e||(t.f&hi)!==0)&&t.nodes_start!==null&&t.nodes_end!==null&&(fl(t.nodes_start,t.nodes_end),n=!0),qs(t,e&&!n),Oa(t,0),$e(t,zt);var a=t.transitions;if(a!==null)for(const o of a)o.stop();Ws(t);var s=t.parent;s!==null&&s.first!==null&&Ks(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes_start=t.nodes_end=t.ac=null}function fl(t,e){for(;t!==null;){var n=t===e?null:ha(t);t.remove(),t=n}}function Ks(t){var e=t.parent,n=t.prev,a=t.next;n!==null&&(n.next=a),a!==null&&(a.prev=n),e!==null&&(e.first===t&&(e.first=a),e.last===t&&(e.last=n))}function Fn(t,e,n=!0){var a=[];Dr(t,a,!0),Ys(a,()=>{n&&rt(t),e&&e()})}function Ys(t,e){var n=t.length;if(n>0){var a=()=>--n||e();for(var s of t)s.out(a)}else e()}function Dr(t,e,n){if((t.f&ut)===0){if(t.f^=ut,t.transitions!==null)for(const i of t.transitions)(i.is_global||n)&&e.push(i);for(var a=t.first;a!==null;){var s=a.next,o=(a.f&$t)!==0||(a.f&Wt)!==0&&(t.f&Vt)!==0;Dr(a,e,o?n:!1),a=s}}}function Nr(t){Xs(t,!0)}function Xs(t,e){if((t.f&ut)!==0){t.f^=ut,(t.f&Qe)===0&&($e(t,st),wn(t));for(var n=t.first;n!==null;){var a=n.next,s=(n.f&$t)!==0||(n.f&Wt)!==0;Xs(n,s?e:!1),n=a}if(t.transitions!==null)for(const o of t.transitions)(o.is_global||e)&&o.in()}}function Gs(t,e){for(var n=t.nodes_start,a=t.nodes_end;n!==null;){var s=n===a?null:ha(n);e.append(n),n=s}}let Hn=!1;function es(t){Hn=t}let kn=!1;function ts(t){kn=t}let _e=null,yt=!1;function at(t){_e=t}let me=null;function Nt(t){me=t}let Ht=null;function Zs(t){_e!==null&&(Ht===null?Ht=[t]:Ht.push(t))}let Je=null,ct=0,ft=null;function vl(t){ft=t}let Js=1,ia=0,_n=ia;function ns(t){_n=t}let Zt=!1;function Qs(){return++Js}function Xa(t){var e=t.f;if((e&st)!==0)return!0;if((e&tn)!==0){var n=t.deps,a=(e&pt)!==0;if(e&Ze&&(t.f&=~Ma),n!==null){var s,o,i=(e&La)!==0,l=a&&me!==null&&!Zt,c=n.length;if((i||l)&&(me===null||(me.f&zt)===0)){var u=t,d=u.parent;for(s=0;s<c;s++)o=n[s],(i||!o?.reactions?.includes(u))&&(o.reactions??(o.reactions=[])).push(u);i&&(u.f^=La),l&&d!==null&&(d.f&pt)===0&&(u.f^=pt)}for(s=0;s<c;s++)if(o=n[s],Xa(o)&&Os(o),o.wv>t.wv)return!0}(!a||me!==null&&!Zt)&&$e(t,Qe)}return!1}function $s(t,e,n=!0){var a=t.reactions;if(a!==null&&!Ht?.includes(t))for(var s=0;s<a.length;s++){var o=a[s];(o.f&Ze)!==0?$s(o,e,!1):e===o&&(n?$e(o,st):(o.f&Qe)!==0&&$e(o,tn),wn(o))}}function eo(t){var m;var e=Je,n=ct,a=ft,s=_e,o=Zt,i=Ht,l=De,c=yt,u=_n,d=t.f;Je=null,ct=0,ft=null,Zt=(d&pt)!==0&&(yt||!Hn||_e===null),_e=(d&(Wt|bn))===0?t:null,Ht=null,Kn(t.ctx),yt=!1,_n=++ia,t.ac!==null&&(Ka(()=>{t.ac.abort(Bn)}),t.ac=null);try{t.f|=ur;var f=t.fn,v=f(),g=t.deps;if(Je!==null){var h;if(Oa(t,ct),g!==null&&ct>0)for(g.length=ct+Je.length,h=0;h<Je.length;h++)g[ct+h]=Je[h];else t.deps=g=Je;if(!Zt||(d&Ze)!==0&&t.reactions!==null)for(h=ct;h<g.length;h++)((m=g[h]).reactions??(m.reactions=[])).push(t)}else g!==null&&ct<g.length&&(Oa(t,ct),g.length=ct);if(Qn()&&ft!==null&&!yt&&g!==null&&(t.f&(Ze|tn|st))===0)for(h=0;h<ft.length;h++)$s(ft[h],t);return s!==null&&s!==t&&(ia++,ft!==null&&(a===null?a=ft:a.push(...ft))),(t.f&gn)!==0&&(t.f^=gn),v}catch(p){return Ps(p)}finally{t.f^=ur,Je=e,ct=n,ft=a,_e=s,Zt=o,Ht=i,Kn(l),yt=c,_n=u}}function hl(t,e){let n=e.reactions;if(n!==null){var a=li.call(n,t);if(a!==-1){var s=n.length-1;s===0?n=e.reactions=null:(n[a]=n[s],n.pop())}}n===null&&(e.f&Ze)!==0&&(Je===null||!Je.includes(e))&&($e(e,tn),(e.f&(pt|La))===0&&(e.f^=La),Is(e),Oa(e,0))}function Oa(t,e){var n=t.deps;if(n!==null)for(var a=e;a<n.length;a++)hl(t,n[a])}function Ba(t){var e=t.f;if((e&zt)===0){$e(t,Qe);var n=me,a=Hn;me=t,Hn=!0;try{(e&Vt)!==0?dl(t):qs(t),Ws(t);var s=eo(t);t.teardown=typeof s=="function"?s:null,t.wv=Js;var o;ps&&Hi&&(t.f&st)!==0&&t.deps}finally{Hn=a,me=n}}}async function to(){await Promise.resolve(),As()}function r(t){var e=t.f,n=(e&Ze)!==0;if(_e!==null&&!yt){var a=me!==null&&(me.f&zt)!==0;if(!a&&!Ht?.includes(t)){var s=_e.deps;if((_e.f&ur)!==0)t.rv<ia&&(t.rv=ia,Je===null&&s!==null&&s[ct]===t?ct++:Je===null?Je=[t]:(!Zt||!Je.includes(t))&&Je.push(t));else{(_e.deps??(_e.deps=[])).push(t);var o=t.reactions;o===null?t.reactions=[_e]:o.includes(_e)||o.push(_e)}}}else if(n&&t.deps===null&&t.effects===null){var i=t,l=i.parent;l!==null&&(l.f&pt)===0&&(i.f^=pt)}if(kn){if(Jt.has(t))return Jt.get(t);if(n){i=t;var c=i.v;return((i.f&Qe)===0&&i.reactions!==null||no(i))&&(c=Ar(i)),Jt.set(i,c),c}}else if(n){if(i=t,wt?.has(i))return wt.get(i);Xa(i)&&Os(i)}if(wt?.has(t))return wt.get(t);if((t.f&gn)!==0)throw t.v;return t.v}function no(t){if(t.v===Ke)return!0;if(t.deps===null)return!1;for(const e of t.deps)if(Jt.has(e)||(e.f&Ze)!==0&&no(e))return!0;return!1}function it(t){var e=yt;try{return yt=!0,t()}finally{yt=e}}const gl=-7169;function $e(t,e){t.f=t.f&gl|e}function pl(t){if(!(typeof t!="object"||!t||t instanceof EventTarget)){if(pn in t)mr(t);else if(!Array.isArray(t))for(let e in t){const n=t[e];typeof n=="object"&&n&&pn in n&&mr(n)}}}function mr(t,e=new Set){if(typeof t=="object"&&t!==null&&!(t instanceof EventTarget)&&!e.has(t)){e.add(t),t instanceof Date&&t.getTime();for(let a in t)try{mr(t[a],e)}catch{}const n=Er(t);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const a=_s(n);for(let s in a){const o=a[s].get;if(o)try{o.call(t)}catch{}}}}}const _l=["touchstart","touchmove"];function ml(t){return _l.includes(t)}const ao=new Set,wr=new Set;function wl(t,e,n,a={}){function s(o){if(a.capture||ta.call(e,o),!o.cancelBubble)return Ka(()=>n?.call(this,o))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?Sn(()=>{e.addEventListener(t,s,a)}):e.addEventListener(t,s,a),s}function Lr(t,e,n,a,s){var o={capture:a,passive:s},i=wl(t,e,n,o);(e===document.body||e===window||e===document||e instanceof HTMLMediaElement)&&Us(()=>{e.removeEventListener(t,i,o)})}function qe(t){for(var e=0;e<t.length;e++)ao.add(t[e]);for(var n of wr)n(t)}let as=null;function ta(t){var e=this,n=e.ownerDocument,a=t.type,s=t.composedPath?.()||[],o=s[0]||t.target;as=t;var i=0,l=as===t&&t.__root;if(l){var c=s.indexOf(l);if(c!==-1&&(e===document||e===window)){t.__root=e;return}var u=s.indexOf(e);if(u===-1)return;c<=u&&(i=c)}if(o=s[i]||t.target,o!==e){lr(t,"currentTarget",{configurable:!0,get(){return o||n}});var d=_e,f=me;at(null),Nt(null);try{for(var v,g=[];o!==null;){var h=o.assignedSlot||o.parentNode||o.host||null;try{var m=o["__"+a];if(m!=null&&(!o.disabled||t.target===o))if(kr(m)){var[p,...P]=m;p.apply(o,[t,...P])}else m.call(o,t)}catch(x){v?g.push(x):v=x}if(t.cancelBubble||h===e||h===null)break;o=h}if(v){for(let x of g)queueMicrotask(()=>{throw x});throw v}}finally{t.__root=e,delete t.currentTarget,at(d),Nt(f)}}}function ro(t){var e=document.createElement("template");return e.innerHTML=t.replaceAll("<!>","<!---->"),e.content}function la(t,e){var n=me;n.nodes_start===null&&(n.nodes_start=t,n.nodes_end=e)}function W(t,e){var n=(e&Ii)!==0,a=(e&Oi)!==0,s,o=!t.startsWith("<!>");return()=>{s===void 0&&(s=ro(o?t:"<!>"+t),n||(s=Xn(s)));var i=a||Rs?document.importNode(s,!0):s.cloneNode(!0);if(n){var l=Xn(i),c=i.lastChild;la(l,c)}else la(i,i);return i}}function yl(t,e,n="svg"){var a=!t.startsWith("<!>"),s=`<${n}>${a?t:"<!>"+t}</${n}>`,o;return()=>{if(!o){var i=ro(s),l=Xn(i);o=Xn(l)}var c=o.cloneNode(!0);return la(c,c),c}}function bl(t,e){return yl(t,e,"svg")}function Me(t=""){{var e=en(t+"");return la(e,e),e}}function $(){var t=document.createDocumentFragment(),e=document.createComment(""),n=en();return t.append(e,n),la(e,n),t}function _(t,e){t!==null&&t.before(e)}function Ef(){var t;return(t=window.__svelte??(window.__svelte={})).uid??(t.uid=1),`c${window.__svelte.uid++}`}function Dt(t,e){var n=e==null?"":typeof e=="object"?e+"":e;n!==(t.__t??(t.__t=t.nodeValue))&&(t.__t=n,t.nodeValue=n+"")}function Sl(t,e){return kl(t,e)}const On=new Map;function kl(t,{target:e,anchor:n,props:a={},events:s,context:o,intro:i=!0}){tl();var l=new Set,c=f=>{for(var v=0;v<f.length;v++){var g=f[v];if(!l.has(g)){l.add(g);var h=ml(g);e.addEventListener(g,ta,{passive:h});var m=On.get(g);m===void 0?(document.addEventListener(g,ta,{passive:h}),On.set(g,1)):On.set(g,m+1)}}};c(Cr(ao)),wr.add(c);var u=void 0,d=ll(()=>{var f=n??e.appendChild(en());return Xi(f,{pending:()=>{}},v=>{if(o){ae({});var g=De;g.c=o}s&&(a.$$events=s),u=t(v,a)||{},o&&re()}),()=>{for(var v of l){e.removeEventListener(v,ta);var g=On.get(v);--g===0?(document.removeEventListener(v,ta),On.delete(v)):On.set(v,g)}wr.delete(c),f!==n&&f.parentNode?.removeChild(f)}});return Cl.set(u,d),u}let Cl=new WeakMap;var Bt,Tt,_t,da,fa;class Ga{constructor(e,n=!0){lt(this,"anchor");ke(this,Bt,new Map);ke(this,Tt,new Map);ke(this,_t,new Map);ke(this,da,!0);ke(this,fa,()=>{var e=Ae;if(M(this,Bt).has(e)){var n=M(this,Bt).get(e),a=M(this,Tt).get(n);if(a)Nr(a);else{var s=M(this,_t).get(n);s&&(M(this,Tt).set(n,s.effect),M(this,_t).delete(n),s.fragment.lastChild.remove(),this.anchor.before(s.fragment),a=s.effect)}for(const[o,i]of M(this,Bt)){if(M(this,Bt).delete(o),o===e)break;const l=M(this,_t).get(i);l&&(rt(l.effect),M(this,_t).delete(i))}for(const[o,i]of M(this,Tt)){if(o===n)continue;const l=()=>{if(Array.from(M(this,Bt).values()).includes(o)){var u=document.createDocumentFragment();Gs(i,u),u.append(en()),M(this,_t).set(o,{effect:i,fragment:u})}else rt(i);M(this,Tt).delete(o)};M(this,da)||!a?Fn(i,l,!1):l()}}});this.anchor=e,ce(this,da,n)}ensure(e,n){var a=Ae,s=Hs();if(n&&!M(this,Tt).has(e)&&!M(this,_t).has(e))if(s){var o=document.createDocumentFragment(),i=en();o.append(i),M(this,_t).set(e,{effect:mt(()=>n(i)),fragment:o})}else M(this,Tt).set(e,mt(()=>n(this.anchor)));if(M(this,Bt).set(a,e),s){for(const[l,c]of M(this,Tt))l===e?a.skipped_effects.delete(c):a.skipped_effects.add(c);for(const[l,c]of M(this,_t))l===e?a.skipped_effects.delete(c.effect):a.skipped_effects.add(c.effect);a.add_callback(M(this,fa))}else M(this,fa).call(this)}}Bt=new WeakMap,Tt=new WeakMap,_t=new WeakMap,da=new WeakMap,fa=new WeakMap;const El=0,nr=1;function Pl(t,e,n,a,s){var o=Qn(),i=Ke,l=o?jt(i):_r(i,!1,!1),c=o?jt(i):_r(i,!1,!1),u=new Ga(t);$n(()=>{var d=e(),f=!1;if(di(d)){var v=Ms(),g=!1;const h=m=>{if(!f){g=!0,v();try{m()}finally{Ia(),zn||As()}}};d.then(m=>{h(()=>{Ft(l,m),u.ensure(nr,a&&(p=>a(p,l)))})},m=>{h(()=>{if(Ft(c,m),u.ensure(nr,s&&(p=>s(p,c))),!s)throw c.v})}),Sn(()=>{g||h(()=>{u.ensure(El,n)})})}else Ft(l,d),u.ensure(nr,a&&(h=>a(h,l)));return()=>{f=!0}})}function K(t,e,n=!1){var a=new Ga(t),s=n?$t:0;function o(i,l){a.ensure(i,l)}$n(()=>{var i=!1;e((l,c=!0)=>{i=!0,o(c,l)}),i||o(!1,null)},s)}function ue(t,e){Ya(()=>{var n=e();for(var a in n){var s=n[a];s?t.style.setProperty(a,s):t.style.removeProperty(a)}})}function xl(t,e,n){for(var a=t.items,s=[],o=e.length,i=0;i<o;i++)Dr(e[i].e,s,!0);var l=o>0&&s.length===0&&n!==null;if(l){var c=n.parentNode;nl(c),c.append(n),a.clear(),Ct(t,e[0].prev,e[o-1].next)}Ys(s,()=>{for(var u=0;u<o;u++){var d=e[u];l||(a.delete(d.k),Ct(t,d.prev,d.next)),rt(d.e,!l)}})}function Za(t,e,n,a,s,o=null){var i=t,l={flags:e,items:new Map,first:null},c=(e&bs)!==0;if(c){var u=t;i=u.appendChild(en())}var d=null,f=!1,v=new Map,g=qa(()=>{var P=n();return kr(P)?P:P==null?[]:Cr(P)}),h,m;function p(){Tl(m,h,l,v,i,s,e,a,n),o!==null&&(h.length===0?d?Nr(d):d=mt(()=>o(i)):d!==null&&Fn(d,()=>{d=null}))}$n(()=>{m??(m=me),h=r(g);var P=h.length;if(!(f&&P===0)){f=P===0;var x,y,C,E;if(Hs()){var A=new Set,k=Ae;for(y=0;y<P;y+=1){C=h[y],E=a(C,y);var T=l.items.get(E)??v.get(E);T?(e&(Ua|Va))!==0&&so(T,C,y,e):(x=oo(null,l,null,null,C,E,y,s,e,n,!0),v.set(E,x)),A.add(E)}for(const[L,Z]of l.items)A.has(L)||k.skipped_effects.add(Z.e);k.add_callback(p)}else p();r(g)}})}function Tl(t,e,n,a,s,o,i,l,c){var u=(i&xi)!==0,d=(i&(Ua|Va))!==0,f=e.length,v=n.items,g=n.first,h=g,m,p=null,P,x=[],y=[],C,E,A,k;if(u)for(k=0;k<f;k+=1)C=e[k],E=l(C,k),A=v.get(E),A!==void 0&&(A.a?.measure(),(P??(P=new Set)).add(A));for(k=0;k<f;k+=1){if(C=e[k],E=l(C,k),A=v.get(E),A===void 0){var T=a.get(E);if(T!==void 0){a.delete(E),v.set(E,T);var L=p?p.next:h;Ct(n,p,T),Ct(n,T,L),ar(T,L,s),p=T}else{var Z=h?h.e.nodes_start:s;p=oo(Z,n,p,p===null?n.first:p.next,C,E,k,o,i,c)}v.set(E,p),x=[],y=[],h=p.next;continue}if(d&&so(A,C,k,i),(A.e.f&ut)!==0&&(Nr(A.e),u&&(A.a?.unfix(),(P??(P=new Set)).delete(A))),A!==h){if(m!==void 0&&m.has(A)){if(x.length<y.length){var te=y[0],H;p=te.prev;var Y=x[0],U=x[x.length-1];for(H=0;H<x.length;H+=1)ar(x[H],te,s);for(H=0;H<y.length;H+=1)m.delete(y[H]);Ct(n,Y.prev,U.next),Ct(n,p,Y),Ct(n,U,te),h=te,p=U,k-=1,x=[],y=[]}else m.delete(A),ar(A,h,s),Ct(n,A.prev,A.next),Ct(n,A,p===null?n.first:p.next),Ct(n,p,A),p=A;continue}for(x=[],y=[];h!==null&&h.k!==E;)(h.e.f&ut)===0&&(m??(m=new Set)).add(h),y.push(h),h=h.next;if(h===null)continue;A=h}x.push(A),p=A,h=A.next}if(h!==null||m!==void 0){for(var ne=m===void 0?[]:Cr(m);h!==null;)(h.e.f&ut)===0&&ne.push(h),h=h.next;var le=ne.length;if(le>0){var Q=(i&bs)!==0&&f===0?s:null;if(u){for(k=0;k<le;k+=1)ne[k].a?.measure();for(k=0;k<le;k+=1)ne[k].a?.fix()}xl(n,ne,Q)}}u&&Sn(()=>{if(P!==void 0)for(A of P)A.a?.apply()}),t.first=n.first&&n.first.e,t.last=p&&p.e;for(var J of a.values())rt(J.e);a.clear()}function so(t,e,n,a){(a&Ua)!==0&&Ft(t.v,e),(a&Va)!==0?Ft(t.i,n):t.i=n}function oo(t,e,n,a,s,o,i,l,c,u,d){var f=(c&Ua)!==0,v=(c&Ti)===0,g=f?v?_r(s,!1,!1):jt(s):s,h=(c&Va)===0?i:jt(i),m={i:h,v:g,k:o,a:null,e:null,prev:n,next:a};try{if(t===null){var p=document.createDocumentFragment();p.append(t=en())}return m.e=mt(()=>l(t,g,h,u),zi),m.e.prev=n&&n.e,m.e.next=a&&a.e,n===null?d||(e.first=m):(n.next=m,n.e.next=m.e),a!==null&&(a.prev=m,a.e.prev=m.e),m}finally{}}function ar(t,e,n){for(var a=t.next?t.next.e.nodes_start:n,s=e?e.e.nodes_start:n,o=t.e.nodes_start;o!==null&&o!==a;){var i=ha(o);s.before(o),o=i}}function Ct(t,e,n){e===null?t.first=n:(e.next=n,e.e.next=n&&n.e),n!==null&&(n.prev=e,n.e.prev=e&&e.e)}function we(t,e,...n){var a=new Ga(t);$n(()=>{const s=e()??null;a.ensure(s,s&&(o=>s(o,...n)))},$t)}function Al(t,e,n){var a=new Ga(t);$n(()=>{var s=e()??null;a.ensure(s,s&&(o=>n(o,s)))},$t)}function io(t){var e,n,a="";if(typeof t=="string"||typeof t=="number")a+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=io(t[e]))&&(a&&(a+=" "),a+=n)}else for(n in t)t[n]&&(a&&(a+=" "),a+=n);return a}function Dl(){for(var t,e,n=0,a="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=io(t))&&(a&&(a+=" "),a+=e);return a}function he(t){return typeof t=="object"?Dl(t):t??""}const rs=[...` 	
\r\f \v\uFEFF`];function Nl(t,e,n){var a=t==null?"":""+t;if(e&&(a=a?a+" "+e:e),n){for(var s in n)if(n[s])a=a?a+" "+s:s;else if(a.length)for(var o=s.length,i=0;(i=a.indexOf(s,i))>=0;){var l=i+o;(i===0||rs.includes(a[i-1]))&&(l===a.length||rs.includes(a[l]))?a=(i===0?"":a.substring(0,i))+a.substring(l+1):i=l}}return a===""?null:a}function Ll(t,e){return t==null?null:String(t)}function ge(t,e,n,a,s,o){var i=t.__className;if(i!==n||i===void 0){var l=Nl(n,a,o);l==null?t.removeAttribute("class"):t.className=l,t.__className=n}else if(o&&s!==o)for(var c in o){var u=!!o[c];(s==null||u!==!!s[c])&&t.classList.toggle(c,u)}return o}function yn(t,e,n,a){var s=t.__style;if(s!==e){var o=Ll(e);o==null?t.removeAttribute("style"):t.style.cssText=o,t.__style=e}return a}const Ml=Symbol("is custom element"),Il=Symbol("is html");function rr(t,e){var n=Mr(t);n.value===(n.value=e??void 0)||t.value===e&&(e!==0||t.nodeName!=="PROGRESS")||(t.value=e??"")}function Da(t,e){var n=Mr(t);n.checked!==(n.checked=e??void 0)&&(t.checked=e)}function Ce(t,e,n,a){var s=Mr(t);s[e]!==(s[e]=n)&&(e==="loading"&&(t[pi]=n),n==null?t.removeAttribute(e):typeof n!="string"&&Ol(t).includes(e)?t[e]=n:t.setAttribute(e,n))}function Mr(t){return t.__attributes??(t.__attributes={[Ml]:t.nodeName.includes("-"),[Il]:t.namespaceURI===Bi})}var ss=new Map;function Ol(t){var e=t.getAttribute("is")||t.nodeName,n=ss.get(e);if(n)return n;ss.set(e,n=[]);for(var a,s=t,o=Element.prototype;o!==s;){a=_s(s);for(var i in a)a[i].set&&n.push(i);s=Er(s)}return n}function Bl(t,e,n=e){var a=new WeakSet;rl(t,"input",async s=>{var o=s?t.defaultValue:t.value;if(o=sr(t)?or(o):o,n(o),Ae!==null&&a.add(Ae),await to(),o!==(o=e())){var i=t.selectionStart,l=t.selectionEnd,c=t.value.length;if(t.value=o??"",l!==null){var u=t.value.length;i===l&&l===c&&u>c?(t.selectionStart=u,t.selectionEnd=u):(t.selectionStart=i,t.selectionEnd=Math.min(l,u))}}}),it(e)==null&&t.value&&(n(sr(t)?or(t.value):t.value),Ae!==null&&a.add(Ae)),Ya(()=>{var s=e();if(t===document.activeElement){var o=xa??Ae;if(a.has(o))return}sr(t)&&s===or(t.value)||t.type==="date"&&!s&&!t.value||s!==t.value&&(t.value=s??"")})}function sr(t){var e=t.type;return e==="number"||e==="range"}function or(t){return t===""?null:+t}function os(t,e){return t===e||t?.[pn]===e}function ot(t={},e,n,a){return cl(()=>{var s,o;return Ya(()=>{s=o,o=[],it(()=>{t!==n(...o)&&(e(t,...o),s&&os(n(...s),t)&&e(null,...s))})}),()=>{Sn(()=>{o&&os(n(...o),t)&&e(null,...o)})}}),t}function Ja(t=!1){const e=De,n=e.l.u;if(!n)return;let a=()=>pl(e.s);if(t){let s=0,o={};const i=va(()=>{let l=!1;const c=e.s;for(const u in c)c[u]!==o[u]&&(o[u]=c[u],l=!0);return l&&s++,s});a=()=>r(i)}n.b.length&&il(()=>{is(e,a),cr(n.b)}),Te(()=>{const s=it(()=>n.m.map(fi));return()=>{for(const o of s)typeof o=="function"&&o()}}),n.a.length&&Te(()=>{is(e,a),cr(n.a)})}function is(t,e){if(t.l.s)for(const n of t.l.s)r(n);e()}let Ea=!1;function Rl(t){var e=Ea;try{return Ea=!1,[t(),Ea]}finally{Ea=e}}function fe(t,e,n,a){var s=!Jn||(n&Di)!==0,o=(n&Li)!==0,i=(n&Mi)!==0,l=a,c=!0,u=()=>(c&&(c=!1,l=i?it(a):a),l),d;if(o){var f=pn in t||gi in t;d=Rn(t,e)?.set??(f&&e in t?y=>t[e]=y:void 0)}var v,g=!1;o?[v,g]=Rl(()=>t[e]):v=t[e],v===void 0&&a!==void 0&&(v=u(),d&&(s&&Si(),d(v)));var h;if(s?h=()=>{var y=t[e];return y===void 0?u():(c=!0,y)}:h=()=>{var y=t[e];return y!==void 0&&(l=void 0),y===void 0?l:y},s&&(n&Ni)===0)return h;if(d){var m=t.$$legacy;return(function(y,C){return arguments.length>0?((!s||!C||m||g)&&d(C?h():y),y):h()})}var p=!1,P=((n&Ai)!==0?va:qa)(()=>(p=!1,h()));o&&r(P);var x=me;return(function(y,C){if(arguments.length>0){const E=C?r(P):s&&o?Oe(y):y;return w(P,E),p=!0,l!==void 0&&(l=E),y}return kn&&p||(x.f&zt)!==0?P.v:r(P)})}function ye(t){De===null&&ys(),Jn&&De.l!==null?zl(De).m.push(t):Te(()=>{const e=it(t);if(typeof e=="function")return e})}function zl(t){var e=t.l;return e.u??(e.u={a:[],b:[],m:[]})}const Fl="5";var gs;typeof window<"u"&&((gs=window.__svelte??(window.__svelte={})).v??(gs.v=new Set)).add(Fl);ji();const lo={};function Hl(t){He(lo,t)}function co(){const t=Fe(lo);if(!t)throw new Error("No SearchContext found");return t}const uo={};function jl(t){He(uo,t)}function Mt(){const t=Fe(uo);if(!t)throw new Error("No AppHistoryContext found");return t}function Ul(t,e){ae(e,!0);const{addSearchParam:n,deleteSearchParam:a,getAppLocation:s}=Mt(),o=R(()=>s().searchParams),i="search",l=Oe({value:s().searchParams.get(i)||""}),c=f=>{(r(o).get(i)||"")!==f&&(f===""?a(i):n(i,f))};Te(()=>{r(o);const f=l.value;it(()=>{c(f)})}),Hl(l);var u=$(),d=B(u);we(d,()=>e.children??Ee),_(t,u),re()}const fo={};function Vl(t){He(fo,t)}function vo(){const t=Fe(fo);if(!t)throw new Error("No TagSearchContext found");return t}function Wl(t,e){ae(e,!0);const n=Oe({value:""});Vl(n);var a=$(),s=B(a);we(s,()=>e.children??Ee),_(t,a),re()}const ho={};function ql(t){He(ho,t)}function go(){const t=Fe(ho);if(!t)throw new Error("No FeedOrderContext found");return t}function Kl(t,e){ae(e,!0);const{addSearchParam:n,deleteSearchParam:a,getAppLocation:s}=Mt(),o=R(()=>s().searchParams),i="feedOrder";let l=V(Oe(s().searchParams.get(i)||"newest"));const c=g=>{(r(o).get(i)||"newest")!==g&&(g==="newest"?a(i):n(i,g))};Te(()=>{r(o),r(l),it(()=>{c(r(l))})}),ql({getFeedOrder:()=>r(l),setFeedOrder:g=>{w(l,g,!0)}});var f=$(),v=B(f);we(v,()=>e.children??Ee),_(t,f),re()}const po={};function Yl(t){He(po,t)}function Qa(){const t=Fe(po);if(!t)throw new Error("No SidebarContext found");return t}function Xl(t,e){ae(e,!0);const n=(d,f)=>{if(!f)return d;if(f.type==="closed")return{type:"closed"};switch(d.type){case"opened":return f.type==="open"?{type:"opening"}:f.type==="close"?{type:"closing"}:f.type==="swipe"?{type:"openSwiping"}:d;case"closed":return f.type==="open"?{type:"opening"}:f.type==="swipe"?{type:"closeSwiping"}:d;case"openSwiping":return f.type==="open"?{type:"opening"}:f.type==="close"?{type:"closing"}:d;case"closeSwiping":return f.type==="open"?{type:"opening"}:f.type==="close"?{type:"closing"}:d;case"opening":return f.type==="opened"?{type:"opened"}:d;default:return d}};let a=V(Oe(n({type:"closed"})));const s=d=>{const f=it(()=>r(a));w(a,n(f,d),!0)};Yl({sidebarOpen:()=>{s({type:"open"})},sidebarClose:()=>{s({type:"close"})},handleComputeState:s,getSidebarState:()=>r(a)});var c=$(),u=B(c);we(u,()=>e.children??Ee),_(t,c),re()}const _o={};function Gl(t){He(_o,t)}function mo(){const t=Fe(_o);if(!t)throw new Error("No SelectedTagsContext found");return t}const wo=(t,e)=>{let n=null;return()=>{n&&clearTimeout(n),n=setTimeout(()=>{n=null,t()},e)}};async function Pf(){if(navigator.storage&&navigator.storage.persist)try{await navigator.storage.persisted()||await navigator.storage.persist()}catch{console.error("")}}const Zl=(t,e)=>{if(t.size!==e.size)return!0;for(const n of t)if(!e.has(n))return!0;return!1};function Jl(t,e){ae(e,!0);const{getAppLocation:n,replace:a}=Mt(),s=R(n),o=R(()=>r(s).searchParams),i="selectedTags",l=()=>new Set(n().searchParams.get(i)?.split(",")||[]);let c=V(Oe(l()));const u=()=>{const m=l();if(Zl(m,r(c))){const p=r(s).pathname;r(c).size===0?r(o).delete(i):r(o).set(i,Array.from(r(c)).join(",")),a(`${p}${r(o).size>0?`?${r(o).toString()}`:""}`)}};Te(()=>{r(o),r(c),it(()=>{u()})}),Gl({getSelectedTags:()=>r(c),addTag:m=>{r(c).has(m)||w(c,new Set([...r(c),m]),!0)},removeTag:m=>{const p=new Set(r(c));p.delete(m),w(c,p,!0)}});var g=$(),h=B(g);we(h,()=>e.children??Ee),_(t,g),re()}const yo={};function Ql(t){He(yo,t)}function Ir(){const t=Fe(yo);if(!t)throw new Error("No LocalDBContext found");return t}const bo={};function $l(t){He(bo,t)}function So(){const t=Fe(bo);if(!t)throw new Error("No SettingsContext found");return t}const ko={};function ec(t){He(ko,t)}function Cn(){const t=Fe(ko);if(!t)throw new Error("No BroadcastContext found");return t}const tc="AppStorage",nc=1,na="account",Na="settings",St="notes",kt="tags",ac="syncLog",nn="success",Ut="error",Ve=(t,e,n)=>{t?.addEventListener(e,n)},ls=(t,e)=>new Promise((n,a)=>{const o=t?.transaction(e,"readonly")?.objectStore(e).getAll();Ve(o,nn,()=>{const i=o?.result||[];n(i)}),Ve(o,Ut,i=>{a(i)})}),yr=(t,e,n)=>new Promise((a,s)=>{const i=t?.transaction(e,"readonly")?.objectStore(e).get(n);Ve(i,nn,()=>{const l=i?.result?.data;a(l)}),Ve(i,Ut,l=>{s(l)})}),oa=(t,e,n,a)=>new Promise((s,o)=>{const c=t?.transaction(e,"readwrite")?.objectStore(e)?.put({id:n,data:a});Ve(c,nn,()=>{s()}),Ve(c,Ut,u=>{o(u)})}),ir=async(t,e,n)=>{const s=t?.transaction(e,"readwrite")?.objectStore(e);await Promise.all(n.map(o=>{const i=s?.put(o);return new Promise((l,c)=>{Ve(i,nn,()=>{l()}),Ve(i,Ut,u=>{c(u)})})}))},rc=(t,e,n)=>new Promise((a,s)=>{const l=t?.transaction(e,"readwrite")?.objectStore(e)?.delete(n);Ve(l,nn,()=>{a()}),Ve(l,Ut,c=>{s(c)})}),Pa=async(t,e,n)=>{const s=t?.transaction(e,"readwrite")?.objectStore(e);await Promise.all(n.map(o=>{const i=s?.delete(o);return new Promise((l,c)=>{Ve(i,nn,()=>{l()}),Ve(i,Ut,u=>{c(u)})})}))},cn=(t,e)=>new Promise((n,a)=>{const i=t?.transaction(e,"readwrite")?.objectStore(e)?.clear();Ve(i,nn,()=>{n()}),Ve(i,Ut,l=>{a(l)})});function sc(t,e){ae(e,!0);let n=V(Oe({showFavicon:!0}));const{getDB:a}=Ir(),{createBroadcastChannel:s,tabId:o}=Cn(),i=s(),l=R(a),c=async()=>{const m=await yr(r(l),Na,"default");m&&w(n,m,!0)},u=async()=>{c()},d=async m=>{const p=JSON.parse(m.data),P=p;if(p.tabId&&p.tabId===o){P.type==="exit"&&(w(n,{showFavicon:!0},!0),cn(r(l),Na));return}P.type==="updateSettings"?c():P.type==="exit"&&w(n,{showFavicon:!0},!0)},f=()=>r(n).showFavicon,v=async m=>{r(n).showFavicon=m,await oa(r(l),Na,"default",{showFavicon:m}),i.postMessage({type:"updateSettings"})};ye(()=>(u(),i.addEventListener(d),()=>{i.removeEventListener(d)})),$l({getFaviconEnabled:f,setFaviconShown:v});var g=$(),h=B(g);we(h,()=>e.children??Ee),_(t,g),re()}const Co={};function oc(t){He(Co,t)}function Eo(){const t=Fe(Co);if(!t)throw new Error("No AccountContext found");return t}function ic(t,e){ae(e,!0);let n=V(void 0);const{getDB:a}=Ir(),{createBroadcastChannel:s,tabId:o}=Cn(),i=R(a),l=s(),c=async()=>{const y=await yr(r(i),na,"default");w(n,y,!0)},u=y=>oa(r(i),na,"default",y),d=async y=>{const C=await yr(r(i),na,"default");C!==void 0&&w(n,C,!0),y(C)},f=async y=>{const C=JSON.parse(y.data);if(C.tabId&&C.tabId===o)return;const E=C;E.type==="initLocalAccount"?w(n,null):E.type==="initCloudAccount"?c():E.type==="disconnectCloudAccount"?w(n,null):E.type==="exit"?w(n,void 0):E.type==="updateAccount"&&c()};ye(()=>(l.addEventListener(f),()=>{l.removeEventListener(f)})),oc({init:d,getAccount:()=>r(n),initLocalAccount:async()=>{w(n,null),await u(null),l.postMessage({type:"initLocalAccount"})},initCloudAccount:async y=>{const C={encryptedClientKey:y.encryptedClientKey||"",subscriptionExpires:y.subscriptionExpires||-1,lastSync:-1};await u(C),w(n,C,!0),l.postMessage({type:"initCloudAccount"})},disconnectCloudAccount:async()=>{w(n,null),await u(null),l.postMessage({type:"disconnectCloudAccount"})},updateSubscription:async y=>{if(!r(n))throw new Error("No account to update subscription for");const C={...r(n),subscriptionExpires:y};await u(C),l.postMessage({type:"updateAccount"})},exitApp:async()=>{w(n,void 0),l.postMessage({type:"exit"}),await cn(r(i),na)}});var P=$(),x=B(P);we(x,()=>e.children??Ee),_(t,P),re()}const Po={};function lc(t){He(Po,t)}function En(){const t=Fe(Po);if(!t)throw new Error("No NotesContext found");return t}const cc=()=>crypto.randomUUID(),uc=t=>{const e=new Map;for(const n of t||[])for(const a of n?.data.tags||[])e.set(a,{name:a,count:(e.get(a)?.count||0)+1});return e};function dc(t,e){ae(e,!0);const{getDB:n}=Ir(),{createBroadcastChannel:a,tabId:s}=Cn(),o=R(n),i=a(),l=720*60*60*1e3;let c=V(0),u=V(!1),d=V(()=>new Map),f=V(()=>[]),v=V(()=>new Map);const g=()=>r(u),h=()=>r(c)>0,m=()=>{r(c)>0&&w(c,r(c)-1)},p=D=>{const F=r(f)(),S=r(v)(),O={...D};F.push(O),S.set(O.id,O),w(f,()=>F),w(v,()=>S)},P=D=>{const F=r(f)(),S=r(v)(),O=S.get(D.id);O&&(O.data=D.data),w(f,()=>F),w(v,()=>S)},x=D=>{const F=r(f)(),S=r(v)(),O=S.get(D);S.has(D)&&S.delete(D),O?.data?.type==="draft"&&S.delete("draft"),O&&(O.data=void 0),w(f,()=>F),w(v,()=>S)},y=()=>{w(f,()=>[]),w(d,()=>new Map),w(v,()=>new Map)},C=()=>r(f),E=D=>{const F=r(d)();for(const S of D){const O=F.get(S);O?O.count++:F.set(S,{name:S,count:1})}w(d,()=>F)},A=D=>{const F=r(d)();for(const S of D){const O=F.get(S);O&&(O.count--,O.count<=0&&F.delete(S))}w(d,()=>F)},k=async()=>{const[D,F]=await Promise.all([ls(r(o),St),ls(r(o),kt).then(ee=>ee.reduce((Pe,Ie)=>Pe.set(Ie.id,Ie.data),new Map))]),S=[],O=[],oe=new Map;let be=0;for(const ee of D)ee.data.deletedAt&&Date.now()-ee.data.deletedAt>l?S.push(ee.id):(O.push(ee),oe.set(ee.id,ee),ee.data.deletedAt&&(be+=1),ee.data.type==="draft"&&oe.set("draft",ee));w(c,be,!0);const pe=uc(O),Le=new Map;pe.entries().forEach(([ee,Pe])=>{const Ie=F.get(ee);Le.set(ee,{...Pe,...Ie})}),await Pa(r(o),St,S),await cn(r(o),kt),await ir(r(o),kt,Array.from(Le.values()).map(ee=>({id:ee.name,data:{pinned:ee.pinned}}))),w(f,()=>O),w(v,()=>oe),w(d,()=>Le),w(u,!0)},T=async()=>{const D=r(v)(),F=D.get("draft");if(F)return F;const S={id:cc(),data:{type:"draft",url:"",name:"",text:"",tags:[],draft:{url:"",name:"",text:"",tags:[],createdAt:Date.now(),updatedAt:Date.now()},createdAt:Date.now(),updatedAt:Date.now()}};return await oa(r(o),St,S.id,{...S.data}),D.set("draft",S),p(S),i.postMessage({type:"createNoteDraft",data:{note:S}}),S},L=async D=>{const S=r(v)().get(D);if(!S||!S.data)return;const O=r(d)(),oe=S.data.tags;A(oe),x(D),i.postMessage({type:"deleteNote",data:{id:D}}),m(),await rc(r(o),St,D),await Pa(r(o),kt,oe.filter(be=>{const pe=O.get(be);return pe?pe.count<=1:!1}))},Z=async(D,F)=>{const S={id:F.id,data:{...F.data}},O=r(d)(),oe=F.data.tags.filter(pe=>!D.data.tags.includes(pe)),be=D.data.tags.filter(pe=>!F.data.tags.includes(pe));await oa(r(o),St,S.id,{...S.data}),await ir(r(o),kt,oe.filter(pe=>!O.has(pe)).map(pe=>({id:pe,data:{}}))),await Pa(r(o),kt,be.filter(pe=>{const Le=O.get(pe);return Le?Le.count<=1:!1})),P(S),A(be),E(oe),i.postMessage({type:"updateNote",data:{note:S,tagsToAdd:oe,tagsToDelete:be}})},te=async D=>{const F=r(v)(),S=Y(D);if(!S||!S.data)return;const O=F.get("draft");O&&O.id===S.id&&F.delete("draft");const oe={id:D,data:{type:"note",name:S.data.draft?.name??S.data.name,url:S.data.draft?.url??S.data.url,text:S.data.draft?.text??S.data.text,tags:S.data.draft?.tags??S.data.tags,updatedAt:Date.now(),createdAt:S.data.createdAt,pinnedAt:S.data.pinnedAt,deletedAt:S.data.deletedAt,draft:void 0}};return Z(S,oe)},H=async()=>{y(),i.postMessage({type:"clearNotes"}),await cn(r(o),St),await cn(r(o),kt)},Y=D=>{const F=r(v)();return D?F.get(D):F.get("draft")},U=async(D,F)=>{const O=r(v)().get(D);if(!O||!O.data)return;const oe={id:D,data:{...O.data,pinnedAt:F?Date.now():void 0}};return Z(O,oe)},ne=async D=>{const S=r(v)().get(D);if(!S||!S.data)return;const O={id:D,data:{...S.data,deletedAt:Date.now()}};w(c,r(c)+1),await Z(S,O)},le=async D=>{const S=r(v)().get(D);if(!S||!S.data)return;const O={id:D,data:{...S.data,deletedAt:0}};m(),await Z(S,O)},Q=async(D,F)=>{const S=r(d)();S.set(D,{name:D,count:S.get(D)?.count||0,pinned:F}),await oa(r(o),kt,D,{pinned:F}),i.postMessage({type:"pinTag",data:{tag:D,pinned:F}}),w(d,()=>S)},J=async D=>{const F=r(v)(),S={};D.forEach(O=>{const oe=F.get(O.id);(!oe||oe&&oe.data&&oe.data.updatedAt<O.data.updatedAt)&&(S[O.id]=O)}),await ir(r(o),St,Object.values(S)),await k(),i.postMessage({type:"reloadNotes"})},j=async()=>{const D=[];r(f)().forEach(S=>{S&&S.data&&S.data.deletedAt&&D.push(S.id)}),w(c,0),await Pa(r(o),St,D),await k(),i.postMessage({type:"emptyBin"})},X=async(D,F)=>{if(D===""){const be=r(v)().get("draft");be?D=be.id:D=(await T()).id}const S=Y(D);if(!S||!S.data)return;const O={id:D,data:{...S.data,draft:{...F,tags:F.tags,createdAt:S.data.draft?.createdAt||Date.now(),updatedAt:Date.now()}}};return await Z(S,O),S.id},N=async D=>{const F=r(v)(),S=Y(D);if(!S||!S.data||!S.data.draft)return;if(S.data.type==="draft"){D===F.get("draft")?.id&&F.delete("draft"),await L(D);return}const O={id:D,data:{...S.data,draft:void 0}};return Z(S,O)},I=async D=>{const F=JSON.parse(D.data),S=F;if(F.tabId&&F.tabId===s){S.type==="exit"&&(y(),await cn(r(o),St),await cn(r(o),kt));return}if(S.type==="createNoteDraft"){const O=S.data.note;r(v)().set("draft",O),p(O)}else if(S.type==="updateNote"){const O=S.data,be=r(v)().get(O.note.id);if(!be||!be.data)return;be.data.deletedAt&&!O.note.data.deletedAt?m():!be.data.deletedAt&&O.note.data.deletedAt&&w(c,r(c)+1),P(O.note),A(O.tagsToAdd),E(O.tagsToDelete)}else if(S.type==="deleteNote"){const O=S.data.id,be=r(v)().get(O);if(!be)return;m(),x(O),A(be?.data?.tags||[])}else if(S.type==="pinTag"){const O=S.data.tag,oe=S.data.pinned,be=r(d)(),pe=be.get(O);pe&&(pe.pinned=oe,be.set(O,pe)),w(d,()=>be)}else S.type==="clearNotes"?y():S.type==="reloadNotes"||S.type==="emptyBin"?k():S.type==="exit"&&y()};ye(()=>(k(),i.addEventListener(I),()=>{i.removeEventListener(I)})),lc({isInitedNotes:g,putNoteDraft:X,deleteNoteDraft:N,deleteNote:L,pinNote:U,getGetNotes:C,importNotes:J,clearNotes:H,getNoteById:Y,getGetMapTags:()=>r(d),pinTag:Q,moveNoteToBin:ne,restoreNoteFromBin:le,checkNotesInBin:h,emptyBin:j,saveNoteDraft:te,countNotesInBin:()=>r(c)});var G=$(),se=B(G);we(se,()=>e.children??Ee),_(t,G),re()}const xo={},fc=()=>({working:!1,swipingRatio:1,isSwiping:!1,duration:.35});function vc(t){He(xo,t)}function an(){const t=Fe(xo);if(!t)throw new Error("No AnimationSettingsContext found");return t}function hc(t,e){ae(e,!0);let n=Oe(fc());vc(n);var a=$(),s=B(a);we(s,()=>e.children??Ee),_(t,a),re()}const To={};function gc(t){He(To,t)}function Or(){const t=Fe(To);if(!t)throw new Error("No ScrollingContext found");return t}function pc(t,e){ae(e,!0);let n=V(!1);const a=()=>r(n),s=wo(()=>{w(n,!1)},100);gc({isScrolling:a,enable:()=>{w(n,!0),s()}});var i=$(),l=B(i);we(l,()=>e.children??Ee),_(t,i),re()}const Ao={};function _c(t){He(Ao,t)}function rn(){const t=Fe(Ao);if(!t)throw new Error("No MobileSizeContext found");return t}function mc(t,e){ae(e,!0);const n=()=>window.matchMedia("(max-width: 767px)").matches;let a=V(Oe(n())),s=an();const o=wo(()=>{s.working=!0},16),i=()=>{s.working=!1,o(),requestAnimationFrame(()=>{w(a,n(),!0)})};_c({checkMobileSize:()=>r(a)}),ye(()=>(window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)));var c=$(),u=B(c);we(u,()=>e.children??Ee),_(t,c),re()}const Do={};function wc(t){He(Do,t)}function sn(){const t=Fe(Do);if(!t)throw new Error("No DialogContext found");return t}function yc(t,e){ae(e,!0);let n=V(0),a=V(!1),s=V(!0);wc({checkExistedDialog:()=>r(n)>0,showDialog:()=>{w(n,r(n)+1)},hideDialog:()=>{w(n,r(n)-1)},blockDialog:h=>{w(a,h,!0)},checkBlockedDialog:()=>r(a),setClosableDialog:h=>{w(s,h,!0)},checkClosableDialog:()=>r(s)});var v=$(),g=B(v);we(g,()=>e.children??Ee),_(t,v),re()}const No={};function bc(t){He(No,t)}function Br(){const t=Fe(No);if(!t)throw new Error("No ScrollContainerContext found");return t}function Sc(t,e){ae(e,!0);let n=V(null);bc({setScrollContainer:l=>{w(n,l,!0)},getScrollContainer:()=>r(n)});var o=$(),i=B(o);we(i,()=>e.children??Ee),_(t,o),re()}const Lo={};function kc(t){He(Lo,t)}function Rr(){const t=Fe(Lo);if(!t)throw new Error("No DialogPageHeightContext found");return t}function Cc(t,e){ae(e,!0);let n=V(200);kc({setDialogPageHeight:l=>{w(n,l,!0)},getDialogPageHeight:()=>r(n)});var o=$(),i=B(o);we(i,()=>e.children??Ee),_(t,o),re()}const Ec=[na,Na,St,kt,ac];function Pc(){return new Promise((t,e)=>{const n=indexedDB.open(tc,nc);Ve(n,"upgradeneeded",()=>{const a=n.result;for(const s of Ec)a.objectStoreNames.contains(s)||a.createObjectStore(s,{keyPath:"id"})}),Ve(n,nn,()=>{const a=n.result;t(a),a.onversionchange=function(){a?.close(),alert("app outdated, please reload the page")}}),Ve(n,"blocked",()=>{e(),alert("app outdated, please reload the page")}),Ve(n,Ut,()=>{e(),console.error(Ut,n.error)})})}function xc(t,e){ae(e,!0);let n=V(null);ye(()=>{Pc().then(l=>{w(n,l,!0)}).catch(l=>{console.error("Failed to initialize LocalDB:",l)})}),Ql({getDB:()=>r(n)});var s=$(),o=B(s);{var i=l=>{var c=$(),u=B(c);we(u,()=>e.children??Ee),_(l,c)};K(o,l=>{r(n)&&l(i)})}_(t,s),re()}const Mo={};function Tc(t){He(Mo,t)}function dt(){const t=Fe(Mo);if(!t)throw new Error("No StackPagesContext found");return t}function Ac(t,e){ae(e,!0);const{createBroadcastChannel:n,tabId:a}=Cn(),s=n(),{getAppLocation:o,getAppHistoryStack:i,navigate:l,goBack:c,replace:u}=Mt(),d=R(o),f=R(()=>r(d).searchParams),v="stackPages",g=()=>r(f).get(v)?.split(",")||[];let h=V(Oe([]));const m=()=>{const k=g();r(h).join(",")!==k.join(",")&&w(h,k,!0)};Te(()=>{r(f),it(()=>{m()})});const p=k=>{if(!r(h).find(T=>{const[L]=T.split("?");return L===k})){const T=new URLSearchParams(r(d).search),L=r(d).pathname;T.set(v,[...r(h),k].join(",")),l(`${L}${T.size>0?`?${T.toString()}`:""}`)}},P=k=>r(h).find(T=>{const[L]=T.split("?");return L===k})!==void 0,x=()=>{const k=i(),T=k.findIndex(L=>L.searchParams.has(v));if(k.length<=1||T===-1){const L=new URLSearchParams(r(d).search);L.delete(v),u(`${r(d).pathname}${L.size>0?`?${L.toString()}`:""}`)}else if(T===0){c(k.length-T+1);const L=new URLSearchParams(r(d).search);L.delete(v),u(`${r(d).pathname}${L.size>0?`?${L.toString()}`:""}`)}else c(k.length-T)},y=(k,T)=>{if(T?.full)return`/${k}`;const L=r(h).slice();L.includes(k)||L.push(k);const Z=new URLSearchParams(r(d).search);return Z.set(v,L.join(",")),`${r(d).pathname}?${Z}`},C=(k,T)=>L=>{if(L.preventDefault(),T?.full){l(k);return}p(k)};ye(()=>{const k=T=>{const L=JSON.parse(T.data),Z=L;if(L.tabId&&L.tabId===a){if(Z.type==="navigateBack"&&r(h).length>0){const te=new URLSearchParams(r(d).search);r(h).length>1?te.set(v,r(h).slice(0,-1).join(",")):te.delete(v),u(`${r(d).pathname}${te.size>0?`?${te.toString()}`:""}`)}return}};return s.addEventListener(k),()=>{s.removeEventListener(k)}}),Tc({getStackPages:()=>r(h),pushStackPages:p,hasStackPage:P,clearStackPages:x,getPageUrl:y,createHandlePage:C,getStackPagesFormUrl:g});var E=$(),A=B(E);we(A,()=>e.children??Ee),_(t,E),re()}function Dc(t,e){ae(e,!0);const{createBroadcastChannel:n}=Cn(),a=n(),s=p=>p.startsWith("/")?p:`/${p}`,o=p=>{const[P,x]=p.split("?");return{href:s(p),pathname:s(P),search:x?`?${x}`:"",searchParams:new URLSearchParams(x)}};let i=V(Oe([{href:`${s(window.location.pathname)}${window.location.search}`,pathname:s(window.location.pathname),search:window.location.search,searchParams:new URLSearchParams(window.location.search)}]));const l=p=>{r(i).push(o(p)),window.history.replaceState(null,"",p)},c=p=>{r(i)[r(i).length-1]=o(p),window.history.replaceState(null,"",p)};jl({getAppLocation:()=>r(i)[r(i).length-1],getAppHistoryStack:()=>r(i),navigate:l,replace:c,addSearchParam:(p,P)=>{const x=r(i)[r(i).length-1],y=x.searchParams;y.set(p,P),c(`${x.pathname}${y.size>0?`?${y.toString()}`:""}`)},deleteSearchParam:p=>{const P=r(i)[r(i).length-1],x=P.searchParams;x.delete(p),c(`${P.pathname}${x.size>0?`?${x.toString()}`:""}`)},back:p=>{const{to:P}=p||{};if(r(i).length>1){if(P){const y=r(i).findIndex(C=>C.href===P);if(y!==-1){w(i,r(i).slice(0,y+1),!0);const C=r(i)[r(i).length-1];window.history.replaceState(null,"",C.href)}else c(P);return}r(i).pop();const x=r(i)[r(i).length-1];window.history.replaceState(null,"",x.href)}else P?c(P):a.postMessage({type:"navigateBack"})},goBack:p=>{if(r(i).length>=p){w(i,r(i).slice(0,-p),!0);const P=r(i)[r(i).length-1];window.history.replaceState(null,"",P.href)}},clearHistoryStack:()=>{w(i,r(i).slice(-1),!0)}});var h=$(),m=B(h);we(m,()=>e.children??Ee),_(t,h),re()}const Io={};function Nc(t){He(Io,t)}function Oo(){const t=Fe(Io);if(!t)throw new Error("No KeyboardVisibleContext found");return t}function Lc(t,e){ae(e,!0);let n=Oe({value:!1});const a=()=>n.value;ye(()=>{const i=()=>{setTimeout(()=>{document.activeElement instanceof HTMLInputElement&&document.activeElement.type==="text"||document.activeElement instanceof HTMLTextAreaElement?n.value=!0:n.value=!1},0)};return i(),document.addEventListener("focusin",i),document.addEventListener("focusout",i),()=>{document.removeEventListener("focusin",i),document.removeEventListener("focusout",i)}}),Nc({getIsKeyboardVisible:a});var s=$(),o=B(s);we(o,()=>e.children??Ee),_(t,s),re()}function Mc(t,e){ae(e,!0);const n=crypto.randomUUID(),a=(i,l)=>{i.postMessage(JSON.stringify({...l,tabId:n}))};ec({tabId:n,createBroadcastChannel:()=>{const i=new BroadcastChannel("app");return{postMessage:l=>a(i,l),addEventListener:l=>{i.addEventListener("message",l)},removeEventListener:l=>{i.removeEventListener("message",l)}}}});var s=$(),o=B(s);we(o,()=>e.children??Ee),_(t,s),re()}function Ic(t,e){xc(t,{children:(n,a)=>{Mc(n,{children:(s,o)=>{hc(s,{children:(i,l)=>{pc(i,{children:(c,u)=>{mc(c,{children:(d,f)=>{yc(d,{children:(v,g)=>{Sc(v,{children:(h,m)=>{Cc(h,{children:(p,P)=>{Lc(p,{children:(x,y)=>{Dc(x,{children:(C,E)=>{Ac(C,{children:(A,k)=>{var T=$(),L=B(T);we(L,()=>e.children??Ee),_(A,T)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})}function Oc(t,e){Ic(t,{children:(n,a)=>{Wl(n,{children:(s,o)=>{Ul(s,{children:(i,l)=>{Kl(i,{children:(c,u)=>{Xl(c,{children:(d,f)=>{Jl(d,{children:(v,g)=>{sc(v,{children:(h,m)=>{ic(h,{children:(p,P)=>{dc(p,{children:(x,y)=>{var C=$(),E=B(C);we(E,()=>e.children??Ee),_(x,C)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})}})}let Kt=V(""),on=V(null),aa=V(null),ra=V(null);function mn(t,e){w(Kt,""),setTimeout(()=>{w(Kt,t,!0),e?.onFinish&&w(aa,e.onFinish,!0),e?.onCancel&&w(ra,e.onCancel,!0)},16)}const Bc=(t,e,n,a,s)=>{t.preventDefault(),r(e)&&(w(n,null),r(e)(),w(e,null)),w(a,""),r(s)?.style.removeProperty("opacity")};var Rc=W('<button type="button" class="undoButton svelte-1vxmgq5">undo</button>'),zc=W('<div class="notification svelte-1vxmgq5"><span> </span> <!></div>'),Fc=W("<div><!></div>");function Hc(t,e){ae(e,!0),Te(()=>{r(Kt);const o=r(ra)?2e3:800;r(Kt)&&(r(on)?.getBoundingClientRect(),r(on)?.style.setProperty("opacity","1"));const i=setTimeout(()=>{r(on)?.style.removeProperty("opacity")},o),l=setTimeout(()=>{w(Kt,""),r(aa)&&r(aa)(),w(aa,null),w(ra,null),r(on)?.style.removeProperty("opacity")},o+400);return()=>{clearTimeout(i),clearTimeout(l)}});var n=Fc(),a=b(n);{var s=o=>{var i=zc(),l=b(i),c=b(l),u=z(l,2);{var d=f=>{var v=Rc();v.__click=[Bc,ra,aa,Kt,on],_(f,v)};K(u,f=>{r(ra)&&f(d)})}ot(i,f=>w(on,f),()=>r(on)),ie(()=>Dt(c,r(Kt))),_(o,i)};K(a,o=>{r(Kt)&&o(s)})}_(t,n),re()}qe(["click"]);var jc=W('<span class="vh svelte-s92gzo"><!></span>');function Xe(t,e){var n=jc(),a=b(n);we(a,()=>e.children),_(t,n)}var Uc=bl('<svg class="svelte-18et5h9"><use></use></svg>');function de(t,e){let n=fe(e,"name",8,"");var a=Uc(),s=b(a);ie(()=>Ce(s,"href",`#icon-${n()??""}`)),_(t,a)}const Vc=(t,e,n,a,s)=>{if(r(e))return;const o=n().type;o==="closed"?a():o==="opened"&&s()};var Wc=W('<button class="buttonMenu svelte-bpktnw"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>');function Bo(t,e){ae(e,!0);const{sidebarOpen:n,getSidebarState:a,sidebarClose:s}=Qa(),{getStackPagesFormUrl:o}=dt(),{checkExistedDialog:i}=sn();let l=R(()=>o().length>0||i());var c=Wc();c.__click=[Vc,l,a,n,s];var u=b(c);ue(u,()=>({"--size":"32px"})),de(u.lastChild,{name:"sidebarMenu"});var d=z(u,2);Xe(d,{children:(f,v)=>{var g=Me("Menu");_(f,g)}}),_(t,c),re()}qe(["click"]);var qc=(t,e)=>e.onChange?.(t.target?.value||""),Kc=W('<input class="svelte-15lr19w"/>');function br(t,e){ae(e,!0);let n=fe(e,"value",15,""),a=fe(e,"ref",15,null);var s=Kc();s.__input=[qc,e],ot(s,o=>a(o),()=>a()),ie(()=>Ce(s,"placeholder",e.placeholder)),Lr("focus",s,function(...o){e.onFocus?.apply(this,o)}),Bl(s,n),_(t,s),re()}qe(["input"]);function zr(t,e){ae(e,!0),ye(()=>{const n=a=>{a.target&&e.dialog?.open&&e.dialogInner&&e.dialogInner!==a.target&&!e.dialogInner.contains(a.target)&&e.onClose()};return document.addEventListener("mousedown",n,{capture:!0}),()=>{document.removeEventListener("mousedown",n,{capture:!0})}}),re()}var Yc=W('<dialog><div class="dialogInner svelte-1x410nl"><!></div></dialog> <!>',1);function $a(t,e){ae(e,!0);let n=V(null),a=V(null),s=V(!1),{showDialog:o,hideDialog:i}=sn();const l=h=>{h?.preventDefault();const m=setTimeout(()=>{e.onClosed()},150);r(n)?.addEventListener("transitionend",()=>{clearTimeout(m),e.onClosed()},{once:!0}),w(s,!1)};Te(()=>{e.startClose&&l()}),ye(()=>(r(n)?.showModal(),r(n)?.getClientRects(),w(s,!0),r(n)?.addEventListener("cancel",l),r(n)?.addEventListener("close",l),()=>{r(n)?.removeEventListener("cancel",l),r(n)?.removeEventListener("close",l)})),ye(()=>(o(),()=>{i()}));var c=Yc(),u=B(c),d=b(u),f=b(d);we(f,()=>e.children),ot(d,h=>w(a,h),()=>r(a)),ot(u,h=>w(n,h),()=>r(n));var v=z(u,2);{var g=h=>{zr(h,{get dialog(){return r(n)},get dialogInner(){return r(a)},onClose:l})};K(v,h=>{r(n)&&r(a)&&h(g)})}ie(()=>ge(u,1,he(["dialog",{shown:r(s)}]),"svelte-1x410nl")),_(t,c),re()}var Xc=W("<div><!></div>");function Fr(t,e){ae(e,!0);let n=fe(e,"transformOrigin",3,"top right"),a=V(!1),s=V(null);const o=()=>{const d=setTimeout(()=>{e.onClosed()},150);r(s)?.addEventListener("transitionend",()=>{clearTimeout(d),e.onClosed()},{once:!0}),w(a,!1)},i=d=>{d.target!==r(s)&&!r(s)?.contains(d.target)&&o()},l=d=>{d.target!==r(s)&&!r(s)?.contains(d.target)&&o()};ye(()=>{r(s)?.getClientRects(),w(a,!0);const d=setTimeout(()=>{document.addEventListener("focusin",i),document.addEventListener("click",l)},0);return()=>{clearTimeout(d),document.removeEventListener("focusin",i),document.removeEventListener("click",l)}}),Te(()=>{e.startClose&&o()});var c=Xc(),u=b(c);we(u,()=>e.children),ot(c,d=>w(s,d),()=>r(s)),ie(()=>{yn(c,`transform-origin: ${e.positionTop?"top right":n()};`),ge(c,1,he(["menu",{top:e.positionTop,shown:r(a)}]),"svelte-ujw4xi")}),_(t,c),re()}const Gc=(t,e)=>{r(e)||w(e,!0)};var Zc=(t,e)=>e("newest"),Jc=(t,e)=>e("oldest"),Qc=(t,e)=>e("AtoZ"),$c=(t,e)=>e("ZtoA"),eu=W("<div><button>Newest</button> <button>Oldest</button> <button>A to Z</button> <button>Z to A</button></div>"),tu=W('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),nu=W('<div class="orderMenu svelte-14zj87s"><button><!> <!></button> <!></div>');function au(t,e){ae(e,!0);const n=(x,y=Ee)=>{var C=eu(),E=b(C);E.__click=[Zc,d];var A=z(E,2);A.__click=[Jc,d];var k=z(A,2);k.__click=[Qc,d];var T=z(k,2);T.__click=[$c,d],ie(()=>{ge(C,1,he(["menu",{menuDialog:y()}]),"svelte-14zj87s"),ge(E,1,he(["menuButton",{menuButtonDialog:y(),current:r(u)==="newest"}]),"svelte-14zj87s"),ge(A,1,he(["menuButton",{menuButtonDialog:y(),current:r(u)==="oldest"}]),"svelte-14zj87s"),ge(k,1,he(["menuButton",{menuButtonDialog:y(),current:r(u)==="AtoZ"}]),"svelte-14zj87s"),ge(T,1,he(["menuButton",{menuButtonDialog:y(),current:r(u)==="ZtoA"}]),"svelte-14zj87s")}),_(x,C)};let a=V(!1),s=V(!1);const{checkMobileSize:o}=rn(),{getFeedOrder:i,setFeedOrder:l}=go();let c=R(o),u=R(i);const d=x=>{w(s,!0),l(x)},f=()=>{w(a,!1),w(s,!1)};ye(()=>{const x=y=>{y.key==="Escape"&&w(s,!0)};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)});var v=nu(),g=b(v);g.__click=[Gc,a],ge(g,1,he(["button","buttonMenu"]),"svelte-14zj87s");var h=b(g);de(h,{name:"filter"});var m=z(h,2);Xe(m,{children:(x,y)=>{var C=Me("show feed order menu");_(x,C)}});var p=z(g,2);{var P=x=>{var y=$(),C=B(y);{var E=k=>{$a(k,{get startClose(){return r(s)},onClosed:f,children:(T,L)=>{n(T,()=>!0)},$$slots:{default:!0}})},A=k=>{var T=tu(),L=B(T);ue(L,()=>({"--right":"20px","--top":"60px"})),Fr(L.lastChild,{get startClose(){return r(s)},onClosed:f,children:(Z,te)=>{n(Z,()=>!1)},$$slots:{default:!0}}),_(k,T)};K(C,k=>{r(c)?k(E):k(A,!1)})}_(x,y)};K(p,x=>{r(a)&&x(P)})}_(t,v),re()}qe(["click"]);var q=(t=>(t.NewNote="newNote",t.EditNote="editNote",t.Settings="settings",t.ImportData="importData",t.ExportData="exportData",t.ClearStore="clearStore",t.Account="account",t.Sync="sync",t.AccountSetup="accountSetup",t.Auth="auth",t.Signin="signin",t.Signup="signup",t.AccessKeys="accessKeys",t.ConfirmAccessKey="confirmAccessKey",t.Subscription="subscription",t.Exit="exit",t.NotFound="notFound",t.About="about",t.Bin="bin",t.Install="install",t.InstallSuccess="installSuccess",t.Wellcome="wellcome",t))(q||{}),ru=W("<a><!></a>"),su=W("<button><!></button>");function Qt(t,e){let n=fe(e,"type",3,"standard"),a=fe(e,"typeButton",3,"button"),s=fe(e,"element",3,"button"),o=fe(e,"href",3,""),i=fe(e,"fullWidth",3,!1),l=fe(e,"withoutMinWidth",3,!1);var c=$(),u=B(c);{var d=v=>{var g=ru();g.__click=function(...m){e.onClick?.apply(this,m)};var h=b(g);we(h,()=>e.children??Ee),ie(()=>{Ce(g,"target",e.target),Ce(g,"rel",e.rel),Ce(g,"href",o()),ge(g,1,he(["button","a",{dangerous:n()==="dangerous",secondary:n()==="secondary",fullWidth:i(),withoutMinWidth:l()}]),"svelte-aqjevc")}),_(v,g)},f=v=>{var g=su();g.__click=function(...m){e.onClick?.apply(this,m)};var h=b(g);we(h,()=>e.children??Ee),ie(()=>{Ce(g,"type",a()),ge(g,1,he(["button",{dangerous:n()==="dangerous",secondary:n()==="secondary",fullWidth:i(),withoutMinWidth:l()}]),"svelte-aqjevc")}),_(v,g)};K(u,v=>{s()==="a"?v(d):v(f,!1)})}_(t,c)}qe(["click"]);var ou=W('<div class="block svelte-1dzbsx4"><span class="title svelte-1dzbsx4"> </span> <div class="controls svelte-1dzbsx4"><!> <!></div></div>');function Ro(t,e){ae(e,!0);let n=fe(e,"buttonCancelTitle",3,"Cancel"),a=fe(e,"buttonConfirmTitle",3,"Confirm"),s=V(!1),o=V(!1);const i=()=>{w(s,!0)},l=()=>{w(s,!0),w(o,!0)};$a(t,{get startClose(){return r(s)},onClosed:()=>{r(o)?e.onConfirm():e.onCancel()},children:(u,d)=>{var f=ou(),v=b(f),g=b(v),h=z(v,2),m=b(h);Qt(m,{onClick:i,fullWidth:!0,withoutMinWidth:!0,type:"secondary",children:(P,x)=>{var y=Me();ie(()=>Dt(y,n())),_(P,y)},$$slots:{default:!0}});var p=z(m,2);Qt(p,{onClick:l,fullWidth:!0,withoutMinWidth:!0,type:"dangerous",children:(P,x)=>{var y=Me();ie(()=>Dt(y,a())),_(P,y)},$$slots:{default:!0}}),ie(()=>Dt(g,e.title)),_(u,f)},$$slots:{default:!0}}),re()}const ca=t=>{const e=n=>{const a=n.target,s=a?.tagName;if(s==="INPUT"||s==="TEXTAREA"||a?.isContentEditable)return;const o=n.key.toLowerCase(),i=n.metaKey,l=n.ctrlKey,c=n.shiftKey;if(o===t.key&&!!t.meta==!!i&&!!t.ctrl==!!l&&!!t.shift==!!c){n.preventDefault(),t.action();return}};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}};var iu=W('<div class="block svelte-lfflvc"><a class="buttonAdd svelte-lfflvc"><span class="mobile svelte-lfflvc"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></span> <span class="desktop svelte-lfflvc"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Add note</span></span></a></div>');function lu(t,e){ae(e,!1);const{createHandlePage:n,getPageUrl:a,pushStackPages:s,getStackPages:o}=dt(),{checkExistedDialog:i}=sn(),l=()=>{o.length===0&&!i()&&s(q.NewNote)};ye(()=>ca({key:"n",action:l})),Ja();var c=iu(),u=b(c),d=R(()=>n(q.NewNote));u.__click=function(...p){r(d)?.apply(this,p)};var f=b(u),v=b(f);ue(v,()=>({"--size":"32px","--color":"#b0b0b0"})),de(v.lastChild,{name:"add"});var g=z(v,2);Xe(g,{children:(p,P)=>{var x=Me("Add note");_(p,x)}});var h=z(f,2),m=b(h);ue(m,()=>({"--size":"16px","--color":"#b0b0b0"})),de(m.lastChild,{name:"plus"}),ie(p=>Ce(u,"href",p),[()=>a(q.NewNote)]),_(t,c),re()}qe(["click"]);const cu=(t,e)=>{w(e,!0)};var uu=(t,e)=>{e("/",{full:!0})(t)},du=W('<a class="link svelte-13t3afu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Notes</span></a>'),fu=(t,e)=>{e(q.Bin,{full:!0})(t)},vu=W('<a class="link svelte-13t3afu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Bin</span></a>'),hu=W('<button class="emptyBinButton svelte-13t3afu" type="button">Empty bin</button>'),gu=W('<div class="header svelte-13t3afu"><div class="top svelte-13t3afu"><div class="menu svelte-13t3afu"><a class="link svelte-13t3afu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Settings</span></a> <a class="link svelte-13t3afu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Sync</span></a> <!></div> <div class="mobile svelte-13t3afu"><!></div> <!></div> <div class="bottom svelte-13t3afu"><div><div class="sidebarSearchWrapper"><!></div></div> <div class="right svelte-13t3afu"><div class="filter svelte-13t3afu"><div class="feedSearchWrapper svelte-13t3afu"><!></div> <!></div></div></div></div> <!>',1);function pu(t,e){ae(e,!0);const n=co(),a=vo(),{getScrollContainer:s}=Br();let o=R(s);const{emptyBin:i,checkNotesInBin:l}=En(),{getAppLocation:c,navigate:u}=Mt(),{createHandlePage:d,getPageUrl:f,getStackPages:v}=dt(),{checkExistedDialog:g}=sn();let h=V(null);const m=R(l),p=R(()=>c().pathname);let P=V(!1);const x=()=>{r(o)&&r(o).scrollTo({top:0,behavior:"smooth"})},y=()=>{v.length===0&&!g()&&r(h)?.focus()};ye(()=>ca({key:"k",meta:!0,action:y})),ye(()=>ca({key:"k",ctrl:!0,action:y}));var C=gu(),E=B(C),A=b(E),k=b(A),T=b(k),L=R(()=>d(q.Settings));T.__click=function(...ee){r(L)?.apply(this,ee)};var Z=b(T);ue(Z,()=>({"--rotate":"30deg","--size":"20px"})),de(Z.lastChild,{name:"settings"});var te=z(T,2),H=R(()=>d(q.Sync));te.__click=function(...ee){r(H)?.apply(this,ee)};var Y=b(te);ue(Y,()=>({"--size":"20px"})),de(Y.lastChild,{name:"sync"});var U=z(te,2);{var ne=ee=>{var Pe=du();Pe.__click=[uu,d];var Ie=b(Pe);ue(Ie,()=>({"--size":"18px"})),de(Ie.lastChild,{name:"note"}),ie(Re=>Ce(Pe,"href",Re),[()=>f("/",{full:!0})]),_(ee,Pe)},le=ee=>{var Pe=$(),Ie=B(Pe);{var Re=ve=>{var Se=vu();Se.__click=[fu,d];var xe=b(Se);ue(xe,()=>({"--size":"20px"})),de(xe.lastChild,{name:"bin"}),ie(et=>Ce(Se,"href",et),[()=>f(q.Bin,{full:!0})]),_(ve,Se)};K(Ie,ve=>{r(m)&&ve(Re)},!0)}_(ee,Pe)};K(U,ee=>{r(p)===`/${q.Bin}`?ee(ne):ee(le,!1)})}var Q=z(k,2),J=b(Q);Bo(J,{});var j=z(Q,2);{var X=ee=>{var Pe=$(),Ie=B(Pe);{var Re=ve=>{var Se=hu();Se.__click=[cu,P],_(ve,Se)};K(Ie,ve=>{r(m)&&ve(Re)})}_(ee,Pe)},N=ee=>{lu(ee,{})};K(j,ee=>{r(p)===`/${q.Bin}`?ee(X):ee(N,!1)})}var I=z(A,2),G=b(I);ge(G,1,he(["left"]),"svelte-13t3afu");var se=b(G),D=b(se);br(D,{placeholder:"Search tag",get value(){return a.value},set value(ee){a.value=ee}});var F=z(G,2),S=b(F),O=b(S),oe=b(O);br(oe,{onFocus:x,placeholder:"Search",get ref(){return r(h)},set ref(ee){w(h,ee,!0)},get value(){return n.value},set value(ee){n.value=ee}});var be=z(O,2);au(be,{});var pe=z(E,2);{var Le=ee=>{Ro(ee,{title:"Are you sure you want to empty the bin?",buttonConfirmTitle:"Empty",onConfirm:()=>{i(),w(P,!1),u("/")},onCancel:()=>{w(P,!1)}})};K(pe,ee=>{r(P)&&ee(Le)})}ie((ee,Pe)=>{Ce(T,"href",ee),Ce(te,"href",Pe)},[()=>f(q.Settings),()=>f(q.Sync)]),_(t,C),re()}qe(["click"]);function _u(t,e){ae(e,!0);const{getIsKeyboardVisible:n}=Oo();let a=fe(e,"dialog",7);const s=R(n),o=an();let i=null;const l=()=>{e.dialogState==="swiping"&&e.onClose()};Te(()=>(e.dialogState==="swiping"&&(i=setTimeout(l,3e3)),()=>{i&&(clearTimeout(i),i=null)}));let c=null,u=null;const d=3,f=50,v=5,g=.6,h=.3,m=.35,p=.95;let P=0,x=0,y=0,C=!1,E=!1,A=0,k=0,T=0;const L=()=>{P=0,x=0,C=!1,E=!1,A=0,k=0,T=0,y=0,c=null,u!==null&&(cancelAnimationFrame(u),u=null),i&&(clearTimeout(i),i=null)},Z=j=>{if(!a()){console.warn("Touch start: No dialog element");return}if(e.dialogState!=="opened"){console.warn(`Touch start: Invalid sidebar state: ${e.dialogState}`);return}P=j.touches[0].clientX,x=j.touches[0].clientY,y=performance.now(),C=!0,E=!1},te=j=>e.dialogState==="opened"&&j>0||e.dialogState==="swiping"&&j>0,H=()=>{if(a()){a().style.setProperty("--transition-timing","0s"),e.onSwipe();try{const j=window.getComputedStyle(a()),X=j.transform||j.webkitTransform||"";if(k=a().offsetWidth,(e.dialogState==="swiping"||e.dialogState==="opened")&&(A=0),X&&X!=="none")try{A=new DOMMatrix(X).m41}catch{console.warn("Could not parse transform matrix, using default position")}E=!0}catch(j){console.error("Error during swipe initialization:",j),L()}}},Y=()=>{if(!a())return;const X=Math.abs(A+T*k/100)/k;a().style.setProperty("--backdrop-bg",`rgba(0, 0, 0, ${.1*(1-X)})`)},U=()=>{if(u=null,!c||!C||!a()||r(s)){L();return}const j=[...c.touches].reduce((O,oe)=>O+oe.clientX,0)/c.touches.length,X=[...c.touches].reduce((O,oe)=>O+oe.clientY,0)/c.touches.length,N=j-P,I=X-x,G=Math.abs(N)>Math.abs(I),se=Math.abs(N)>d;if(!E)if(G&&se&&te(N))try{H()}catch(O){console.error("Error initializing swipe:",O),L();return}else return;let D=A+N*p;D=Math.max(0,Math.min(k,D)),!(D<0)&&(a().style.setProperty("--transition-timing","0s"),a().style.transform=`translate3d(${D}px, 0, 0)`,o.swipingRatio=Math.abs(1-D/k),T=(D-A)/k*100,e.dialogState==="swiping"&&(i&&clearTimeout(i),i=setTimeout(l,3e3)),Y())},ne=j=>{if(!C)return;c=j,u===null&&(u=requestAnimationFrame(U));const X=j.touches[0].clientX-P,N=j.touches[0].clientY-x,I=Math.abs(X)>Math.abs(N);E&&I&&j.preventDefault()},le=j=>{const X=Math.abs(j);if(X>=g)return v;if(X>=h){const N=(X-h)/(g-h);return f-N*(f-v)}else return f},Q=(j,X)=>{if(Math.abs(j)>=g)return m*.5;const I=Math.abs(T)/100;return X?m*Math.max(.5,1-I):m*Math.max(.5,I)},J=j=>{if(u!==null&&(cancelAnimationFrame(u),u=null),!C||!a()){L();return}if(!E){L();return}let X=0;if(j?.changedTouches?.[0]){const D=j.changedTouches[0].clientX,S=performance.now()-y;S>0&&(X=(D-P)/S)}const N=le(X);let I=null;e.dialogState==="swiping"&&(I=Math.abs(T)>N||X<-h?"close":"open");const G=e.dialogState==="swiping"&&I==="close",se=Q(X,G);o.duration=se-.02,a().style.setProperty("--transition-timing",`${se}s`),a().offsetWidth,a().style.transform="",I==="open"?e.onOpen():I==="close"&&e.onClose(),a()?.style.removeProperty("--backdrop-bg"),L()};ye(()=>(a().addEventListener("touchstart",Z,{passive:!0}),a().addEventListener("touchmove",ne,{passive:!1}),a().addEventListener("touchend",J,{passive:!0}),a().addEventListener("touchcancel",J,{passive:!0}),()=>{a().removeEventListener("touchstart",Z),a().removeEventListener("touchmove",ne),a().removeEventListener("touchend",J),a().removeEventListener("touchcancel",J),u!==null&&cancelAnimationFrame(u)})),re()}var mu=(t,e)=>{e.onStartClose()},wu=W('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),yu=W('<dialog><div class="dialogInner svelte-vr2o0t"><div class="header svelte-vr2o0t"><div class="navigation__wrapper svelte-vr2o0t"><!></div></div> <!></div></dialog> <!>',1);function bu(t,e){ae(e,!0);let n=350;const{isScrolling:a,enable:s}=Or();let o=V(null),i=V(null);const l=an(),c=A=>{A.preventDefault(),e.onStartClose()};ye(()=>(r(o)?.addEventListener("close",e.onClosed),r(o)?.addEventListener("cancel",c),()=>{r(o)?.removeEventListener("close",e.onClosed),r(o)?.removeEventListener("cancel",c)}));const u=()=>{r(o)?.style.removeProperty("--transition-timing"),r(o)?.style.removeProperty("transform"),r(o)?.style.removeProperty("--backdrop-bg")},d=()=>{s()},f=R(a);Te(()=>{if(e.dialogState,!!r(o))switch(e.dialogState){case"opening":{r(o).open||r(o).showModal(),r(o).getBoundingClientRect();const A=setTimeout(()=>{u()},n+1),k=()=>{clearTimeout(A),u()};return r(o)?.addEventListener("transitionend",k,{once:!0}),e.onOpened(),()=>{clearTimeout(A),r(o)?.removeEventListener("transitionend",k)}}case"closing":{const A=setTimeout(()=>{e.dialogState==="closing"&&e.onClosed()},n+1),k=()=>{clearTimeout(A),e.onClosed()};return r(o)?.addEventListener("transitionend",k,{once:!0}),()=>{clearTimeout(A),r(o)?.removeEventListener("transitionend",k)}}case"opened":u()}});var v=yu(),g=B(v),h=b(g),m=b(h),p=b(m),P=b(p);{var x=A=>{var k=wu();ge(k,1,he(["navigateButton","buttonBack"]),"svelte-vr2o0t"),k.__click=[mu,e];var T=b(k);ue(T,()=>({"--size":"32px"})),de(T.lastChild,{name:"back"});var L=z(T,2);Xe(L,{children:(Z,te)=>{var H=Me("back");_(Z,H)}}),_(A,k)};K(P,A=>{e.blocked||A(x)})}var y=z(m,2);we(y,()=>e.children),ot(h,A=>w(i,A),()=>r(i)),ot(g,A=>w(o,A),()=>r(o));var C=z(g,2);{var E=A=>{_u(A,{get onClose(){return e.onStartClose},get onOpen(){return e.onStartOpen},get onSwipe(){return e.onSwipe},get dialogState(){return e.dialogState},get dialog(){return r(o)}})};K(C,A=>{(!r(f)&&e.dialogState==="opened"||e.dialogState==="swiping")&&!e.blocked&&A(E)})}ie(()=>ge(g,1,he([{open:e.dialogState==="opened",hidden:e.hidden,isAnimationOn:l.working&&(!l.isSwiping||!e.hidden)},{hidden:e.hidden}]),"svelte-vr2o0t")),Lr("scroll",h,d),_(t,v),re()}qe(["click"]);const cs=(t,e)=>{if(!e)return t;if(e.type==="closed")return{type:"closed"};switch(t.type){case"opened":return e.type==="close"?{type:"closing"}:e.type==="swipe"?{type:"swiping"}:t;case"closed":return e.type==="open"?{type:"opening"}:t;case"swiping":return e.type==="open"?{type:"opening"}:e.type==="close"?{type:"closing"}:t;case"opening":return e.type==="opened"?{type:"opened"}:t;default:return t}};function Su(t,e){ae(e,!0);let n=fe(e,"hiddenDialog",3,!1),a=fe(e,"onClose",3,()=>{});const s=an();let o=V(Oe(cs({type:"closed"})));const i=p=>{w(o,cs(r(o),p),!0)},l=()=>{e.onStartClose&&(e.onStartClose(),i({type:"close"}))},c=()=>{i({type:"open"})},u=()=>{i({type:"opened"}),s.swipingRatio=1,s.duration=.2},d=()=>{a()(),i({type:"closed"}),s.swipingRatio=1,s.duration=.2},f=()=>{i({type:"swipe"})};Te(()=>{r(o).type==="swiping"?s.isSwiping=!0:s.isSwiping=!1,r(o).type==="closed"&&e.shownDialog?c():r(o).type==="opened"&&!e.shownDialog&&l()});var v={handleComputeState:i},g=$(),h=B(g);{var m=p=>{{let P=R(()=>!e.onStartClose);bu(p,{onSwipe:f,onOpened:u,onClosed:d,onStartClose:l,onStartOpen:c,get dialogState(){return r(o).type},get hidden(){return n()},get blocked(){return r(P)},children:(x,y)=>{var C=$(),E=B(C);we(E,()=>e.children),_(x,C)},$$slots:{default:!0}})}};K(h,p=>{r(o).type!=="closed"&&p(m)})}return _(t,g),re(v)}const ku=({getDialog:t,onOpen:e,onStartClose:n,onClose:a})=>{const s=i=>{i.preventDefault(),n()},o=()=>{a?.()};ye(()=>{const i=t();return i?.addEventListener("cancel",s),i?.addEventListener("close",o),()=>{i?.removeEventListener("cancel",s),i?.removeEventListener("close",o)}}),ye(()=>{const i=t();i?.showModal(),i?.getBoundingClientRect(),e()})};var Cu=(t,e)=>{e.onStartBack()},Eu=W('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),Pu=(t,e)=>{e.onStartClose()},xu=W('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),Tu=W('<dialog><div class="dialogInner svelte-rt409n"><div class="header svelte-rt409n"><div class="navigation__wrapper svelte-rt409n"><div><!></div> <div><!></div></div></div> <!></div></dialog> <!>',1);function Au(t,e){ae(e,!0);let n=fe(e,"blockedDialog",3,!1),a=fe(e,"hiddenDialog",3,!1),s=fe(e,"isDesktopAnimationOff",3,!1),o=V(null),i=V(null),l=V(!1);ku({getDialog:()=>r(o),onOpen:e.onOpen,onStartClose:e.onStartClose,onClose:e.onClose});const c=an();Te(()=>{e.stateDialog==="closing"&&(c.working?r(o)?.addEventListener("transitionend",()=>{r(o)?.close()},{once:!0}):r(o)?.close())});const{getDialogPageHeight:u}=Rr(),d=R(u);ye(()=>{setTimeout(()=>{w(l,!0)},50)});var f=Tu(),v=B(f),g=b(v),h=b(g),m=b(h),p=b(m),P=b(p);{var x=T=>{var L=Eu();ge(L,1,he(["navigateButton","buttonBack"]),"svelte-rt409n"),L.__click=[Cu,e];var Z=b(L);ue(Z,()=>({"--size":"28px"})),de(Z.lastChild,{name:"back"});var te=z(Z,2);Xe(te,{children:(H,Y)=>{var U=Me("back");_(H,U)}}),_(T,L)};K(P,T=>{(!(n()||a())||n())&&e.onStartBack&&T(x)})}var y=z(p,2),C=b(y);{var E=T=>{var L=xu();ge(L,1,he(["navigateButton","buttonClose"]),"svelte-rt409n"),L.__click=[Pu,e];var Z=b(L);ue(Z,()=>({"--size":"28px"})),de(Z.lastChild,{name:"close"});var te=z(Z,2);Xe(te,{children:(H,Y)=>{var U=Me("close");_(H,U)}}),_(T,L)};K(C,T=>{n()||a()||T(E)})}var A=z(h,2);we(A,()=>e.children),ot(g,T=>w(i,T),()=>r(i)),ot(v,T=>w(o,T),()=>r(o));var k=z(v,2);zr(k,{get dialog(){return r(o)},get dialogInner(){return r(i)},get onClose(){return e.onStartClose}}),ie(()=>{yn(v,`height: ${r(d)+74}px`),ge(v,1,he([{open:e.stateDialog==="open",isHeightAnimationOn:r(l),isAnimationOn:c.working,isDesktopAnimationOff:s(),hiddenDialog:a()}]),"svelte-rt409n")}),_(t,f),re()}qe(["click"]);const Du=({onStartClose:t,onClose:e})=>{let n=V("close");return{get state(){return r(n)},set state(i){w(n,i,!0)},handleStartClose:(i=!1)=>{i||(w(n,"closing"),t?.())},handleOpen:()=>{w(n,"open")},handleClose:()=>{w(n,"close"),e?.()}}};function Nu(t,e){ae(e,!0);let n=fe(e,"blockedDialog",3,!1),a=fe(e,"hiddenDialog",3,!1),s=fe(e,"onStartClose",3,()=>{}),o=fe(e,"onClose",3,()=>{}),i=Du({onStartClose:s(),onClose:o()});Te(()=>{i.state==="close"&&e.shownDialog?i.state="opening":i.state==="open"&&!e.shownDialog&&i.handleStartClose(n())});const l=f=>{f.key==="Escape"&&n()&&(f.preventDefault(),f.stopPropagation())};ye(()=>(document.addEventListener("keydown",l),()=>{document.removeEventListener("keydown",l)}));var c=$(),u=B(c);{var d=f=>{Au(f,{get stateDialog(){return i.state},get blockedDialog(){return n()},get hiddenDialog(){return a()},get onOpen(){return i.handleOpen},get onStartBack(){return e.onStartBack},onStartClose:()=>{i.handleStartClose(n())},get onClose(){return i.handleClose},children:(v,g)=>{var h=$(),m=B(h);we(m,()=>e.children),_(v,h)},$$slots:{default:!0}})};K(u,f=>{i.state!=="close"&&f(d)})}_(t,c),re()}function Lu(t,e){ae(e,!0);let n=fe(e,"blockedDialog",3,!1),a=fe(e,"hiddenDialog",3,!1),s=fe(e,"blockedBack",3,!1),o=fe(e,"onStartClose",3,()=>{}),i=fe(e,"onClose",3,()=>{});const l=R(()=>s()?void 0:e.onStartBack),{showDialog:c,hideDialog:u}=sn();ye(()=>(c(),()=>{u()}));const{checkMobileSize:d}=rn();var f=$(),v=B(f);{var g=m=>{Su(m,{get shownDialog(){return e.shownDialog},get hiddenDialog(){return a()},get children(){return e.children},get onStartClose(){return r(l)},get onClose(){return i()}})},h=m=>{Nu(m,{get shownDialog(){return e.shownDialog},get blockedDialog(){return n()},get hiddenDialog(){return a()},get children(){return e.children},get onStartBack(){return r(l)},get onStartClose(){return o()},get onClose(){return i()}})};K(v,m=>{d()?m(g):m(h,!1)})}_(t,f),re()}function us(t,e){ae(e,!0);const{back:n}=Mt(),{clearStackPages:a}=dt(),{checkMobileSize:s}=rn();let o=fe(e,"blocked",3,!1),i=fe(e,"isLastDialog",3,!1),l=fe(e,"onBack",3,()=>{}),c=fe(e,"onClosed",3,()=>{});const{checkBlockedDialog:u,checkClosableDialog:d}=sn(),f=R(()=>o()||u()),v=R(d),g=()=>{(!r(f)||r(f))&&e.shown&&(n(),l()())},h=()=>{((!r(f)||r(f)&&r(v))&&e.shown||!e.shown)&&a()},m=()=>{c()()};{let p=R(()=>r(f)&&e.shown||r(v)===!1),P=R(()=>r(f)||i()&&(r(v)===!1||!s()));Lu(t,{get shownDialog(){return e.shown},get blockedDialog(){return r(p)},get hiddenDialog(){return e.hidden},get blockedBack(){return r(P)},onStartBack:g,onStartClose:h,onClose:m,children:(x,y)=>{var C=$(),E=B(C);we(E,()=>e.children),_(x,C)},$$slots:{default:!0}})}re()}var Mu=W('<div class="svelte-1x9a4ve"><!></div>');function Be(t,e){ae(e,!0);const{setDialogPageHeight:n}=Rr();let a=V(null);ye(()=>{r(a)&&(r(a).getBoundingClientRect(),r(a).style.opacity="1");const i=new ResizeObserver(l=>{for(let c of l){const u=c.contentRect.height;n(u)}});if(r(a))return i.observe(r(a)),()=>{r(a)&&i.unobserve(r(a)),i.disconnect()}});var s=Mu(),o=b(s);we(o,()=>e.children),ot(s,i=>w(a,i),()=>r(a)),_(t,s),re()}var Iu=W('<div class="svelte-stjbkr"><p class="svelte-stjbkr">Page not found</p> <!></div>');function Ou(t,e){ae(e,!1);const{navigate:n}=Mt(),a=i=>{i.preventDefault(),n("/")};Ja();var s=Iu(),o=z(b(s),2);Qt(o,{element:"a",href:"/",onClick:a,children:(i,l)=>{var c=Me("close");_(i,c)},$$slots:{default:!0}}),_(t,s),re()}const Bu="modulepreload",Ru=function(t){return"/"+t},ds={},je=function(e,n,a){let s=Promise.resolve();if(n&&n.length>0){let c=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=i?.nonce||i?.getAttribute("nonce");s=c(n.map(u=>{if(u=Ru(u),u in ds)return;ds[u]=!0;const d=u.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const v=document.createElement("link");if(v.rel=d?"stylesheet":Bu,d||(v.as="script"),v.crossOrigin="",v.href=u,l&&v.setAttribute("nonce",l),document.head.appendChild(v),d)return new Promise((g,h)=>{v.addEventListener("load",g),v.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${u}`)))})}))}function o(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return s.then(i=>{for(const l of i||[])l.status==="rejected"&&o(l.reason);return e().catch(o)})};var zu=W('<div class="svelte-10xfz1h"><p class="svelte-10xfz1h">Something went wrong. Please reload the page</p> <!></div>');function Fu(t){var e=zu(),n=z(b(e),2);Qt(n,{onClick:()=>location.reload(),children:(a,s)=>{var o=Me("Reload");_(a,o)},$$slots:{default:!0}}),_(t,e)}var Hu=W('<div><!> <div class="loader svelte-m0sno1"></div></div>');function zo(t,e){ae(e,!0);let n=V(!1);ye(()=>{const o=setTimeout(()=>{w(n,!0)},200);return()=>{clearTimeout(o)}});var a=Hu(),s=b(a);we(s,()=>e.children??Ee),ie(()=>ge(a,1,he(["block",{shown:r(n)}]),"svelte-m0sno1")),_(t,a),re()}var ju=W('<div class="svelte-1mu1b44"><!></div>');function Uu(t,e){ae(e,!0);const{getDialogPageHeight:n}=Rr(),a=R(n);var s=ju(),o=b(s);zo(o,{}),ie(()=>yn(s,`min-height: ${r(a)??""}px;`)),_(t,s),re()}function Ue(t,e){ae(e,!0);const n={},a=Object.assign({"./Pages/About.svelte":()=>je(()=>import("./BHqYtQ8U.js"),__vite__mapDeps([0,1])),"./Pages/AccessKeys.svelte":()=>je(()=>import("./c9ro2f6E.js"),__vite__mapDeps([2,3,4,5])),"./Pages/Account.svelte":()=>je(()=>import("./D02kosMY.js"),__vite__mapDeps([6,3,7])),"./Pages/AccountSetup.svelte":()=>je(()=>import("./JZnNoHub.js"),__vite__mapDeps([8,9])),"./Pages/Auth.svelte":()=>je(()=>import("./Dr1U_Dr5.js"),__vite__mapDeps([10,11])),"./Pages/ClearStore.svelte":()=>je(()=>import("./CQtz61a3.js"),__vite__mapDeps([12,13])),"./Pages/ConfirmAccessKey.svelte":()=>je(()=>import("./D-tn_7kr.js"),__vite__mapDeps([14,4,3,15,16,17,18])),"./Pages/EditNote.svelte":()=>je(()=>import("./CTmrlZ2q.js"),__vite__mapDeps([19,20,21,16,17,22,23,24])),"./Pages/Exit.svelte":()=>je(()=>import("./9khYiT-J.js"),__vite__mapDeps([25,26])),"./Pages/ExportData.svelte":()=>je(()=>import("./2SkvVk6x.js"),__vite__mapDeps([27,21,16,17,22,28])),"./Pages/ImportData.svelte":()=>je(()=>import("./6oARG7-Y.js"),__vite__mapDeps([29,21,16,17,22,30])),"./Pages/Install.svelte":()=>je(()=>import("./BP_RRCqn.js"),__vite__mapDeps([31,32])),"./Pages/InstallSuccess.svelte":()=>je(()=>import("./E75_FUSN.js"),__vite__mapDeps([33,34])),"./Pages/NewNote.svelte":()=>je(()=>import("./CtOIbWwE.js"),__vite__mapDeps([35,20,21,16,17,22,23])),"./Pages/Signin.svelte":()=>je(()=>import("./Wpy3Ul5v.js"),__vite__mapDeps([36,4,3,15,37])),"./Pages/Signup.svelte":()=>je(()=>import("./dpwHslVX.js"),__vite__mapDeps([38,15,4,3,39])),"./Pages/Subscription.svelte":()=>je(()=>import("./zvfIFsSp.js"),__vite__mapDeps([40,41])),"./Pages/Sync.svelte":()=>je(()=>import("./-I_L_jr0.js"),__vite__mapDeps([42,43]))}),s=async l=>{const c=`./Pages/${l[0].toUpperCase()+l.slice(1)}.svelte`;if(!n[l]){if(a[c]){const u=a[c]();return n[l]={promise:u},n[l].module=await u,n[l].module}throw new Error(`Page ${l} not found`)}return n[l].module||await n[l].promise};var o=$(),i=B(o);Pl(i,()=>s(e.page),l=>{Uu(l,{})},(l,c)=>{const u=R(()=>r(c).default);var d=$(),f=B(d);Al(f,()=>r(u),(v,g)=>{g(v,{get params(){return e.params},get hidden(){return e.hidden}})}),_(l,d)},l=>{Fu(l)}),_(t,o),re()}var Vu=W('<button><!> <svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>');function Fo(t,e){ae(e,!0);let n=fe(e,"type",3,"button"),a=!1,s=V(null);Te(()=>{e.onRef&&e.onRef(r(s))});const o=g=>{(g.key==="Enter"||g.key===" ")&&(a=!0)},i=g=>{e.onClick(a),a&&(a=!1)};let l=R(()=>e.style==="selected"?"45deg":"0deg");var c=Vu();c.__keydown=o,c.__click=i;var u=b(c);we(u,()=>e.children??Ee);var d=z(u,2);ue(d,()=>({"--size":e.size==="small"?"10px":"12px","--rotate":r(l)})),de(d.lastChild,{name:"plus"});var f=z(d,2);{var v=g=>{Xe(g,{children:(h,m)=>{var p=Me("add tag");_(h,p)}})};K(f,g=>{e.children===void 0&&g(v)})}ot(c,g=>w(s,g),()=>r(s)),ie(()=>{Ce(c,"type",n()),ge(c,1,he([{selectedTag:e.style==="selected",small:e.size==="small",empty:e.children===void 0}]),"svelte-uu8a24")}),_(t,c),re()}qe(["keydown","click"]);var Wu=W('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),qu=W("<!> <span> </span>",1),Ku=W("<div></div>");function fs(t,e){ae(e,!0);let n=fe(e,"mobile",3,!1);const{getGetMapTags:a}=En();let s=V(null),o=V(Oe({value:!1}));const i=d=>{w(s,d,!0)};let c=R(()=>{const d=a()();return[...e.tags].sort((f,v)=>f.toLowerCase()==="inbox"?-1:v.toLowerCase()==="inbox"?1:d.get(f)?.pinned?-1:d.get(v)?.pinned?1:f.localeCompare(v))});Te(()=>{r(o),it(()=>{r(s)&&r(o).value&&r(s).focus()})});var u=Ku();Za(u,22,()=>r(c),d=>d,(d,f,v)=>{{let g=R(()=>r(v)===0?i:void 0);Fo(d,{get onRef(){return r(g)},onClick:h=>{h?w(o,{value:!0},!0):w(o,{value:!1},!0),e.handleTagClick(f)},children:(h,m)=>{var p=qu(),P=B(p);{var x=E=>{var A=Wu(),k=B(A);ue(k,()=>({"--size":"18px"})),de(k.lastChild,{name:"pin"}),_(E,A)};K(P,E=>{a()().get(f)?.pinned&&E(x)})}var y=z(P,2),C=b(y);ie(()=>Dt(C,f)),_(h,p)},$$slots:{default:!0}})}}),ie(()=>ge(u,1,he(["tags",{mobile:n()}]),"svelte-1c53r32")),_(t,u),re()}const Yu=(t,e)=>{r(e)||w(e,!0)},Xu=(t,e,n,a)=>{for(const s of e.selectedTags)n(s,!0);w(a,!0)},Gu=(t,e,n,a)=>{for(const s of e.selectedTags)n(s,!1);w(a,!0)};var Zu=W('<li class="svelte-58z9m1"><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> Pin</button></li>'),Ju=W('<li class="svelte-58z9m1"><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> Unpin</button></li>'),Qu=W("<ul><!> <!></ul>"),$u=W('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),ed=W("<!> <span> </span>",1),td=W('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),nd=W('<div><div><!> <div class="tagsMenu__wrapper svelte-58z9m1"><button class="tagsMenu svelte-58z9m1"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button></div></div> <!></div>');function vs(t,e){ae(e,!0);const n=(C,E=Ee)=>{var A=Qu(),k=b(A);{var T=te=>{var H=Zu(),Y=b(H);Y.__click=[Xu,e,o,d];var U=b(Y);ue(U,()=>({"--size":"22px"})),de(U.lastChild,{name:"pin"}),ie(()=>ge(Y,1,he(["button",{buttonMenuDialog:E()}]),"svelte-58z9m1")),_(te,H)};K(k,te=>{r(p)&&te(T)})}var L=z(k,2);{var Z=te=>{var H=Ju(),Y=b(H);Y.__click=[Gu,e,o,d];var U=b(Y);ue(U,()=>({"--size":"22px"})),de(U.lastChild,{name:"pin-cancel"}),ie(()=>ge(Y,1,he(["button",{buttonMenuDialog:E()}]),"svelte-58z9m1")),_(te,H)};K(L,te=>{r(m)&&te(Z)})}ie(()=>ge(A,1,he(["menu",{menuDialog:E()}]),"svelte-58z9m1")),_(C,A)},{checkMobileSize:a}=rn(),{getGetMapTags:s,pinTag:o}=En();let i=R(a),l=V(null),c=V(Oe({value:!1})),u=V(!1),d=V(!1);const f=C=>{w(l,C,!0)},v=()=>{w(u,!1),w(d,!1)},g=()=>{const C=s()();for(const E of e.selectedTags)if(C.get(E)?.pinned)return!0;return!1},h=()=>{const C=s()();for(const E of e.selectedTags)if(!C.get(E)?.pinned)return!0;return!1};let m=R(g),p=R(h);Te(()=>{r(c),it(()=>{r(l)&&r(c).value&&r(l).focus()})});var P=$(),x=B(P);{var y=C=>{var E=nd(),A=b(E);ge(A,1,he(["tags","selectedTags"]),"svelte-58z9m1");var k=b(A);Za(k,18,()=>e.selectedTags,U=>U,(U,ne,le)=>{{let Q=R(()=>r(le)===e.selectedTags.size-1?f:void 0);Fo(U,{get onRef(){return r(Q)},onClick:J=>{J?w(c,{value:!0},!0):w(c,{value:!1},!0),e.handleSelectedTagClick(ne)},style:"selected",children:(J,j)=>{var X=ed(),N=B(X);{var I=D=>{var F=$u(),S=B(F);ue(S,()=>({"--size":"18px"})),de(S.lastChild,{name:"pin"}),_(D,F)};K(N,D=>{s()().get(ne)?.pinned&&D(I)})}var G=z(N,2),se=b(G);ie(()=>Dt(se,ne)),_(J,X)},$$slots:{default:!0}})}});var T=z(k,2),L=b(T);L.__click=[Yu,u];var Z=b(L);ue(Z,()=>({"--size":"20px"})),de(Z.lastChild,{name:"menu"});var te=z(Z,2);Xe(te,{children:(U,ne)=>{var le=Me("tags menu");_(U,le)}});var H=z(A,2);{var Y=U=>{var ne=$(),le=B(ne);{var Q=j=>{$a(j,{get startClose(){return r(d)},onClosed:v,children:(X,N)=>{n(X,()=>!0)},$$slots:{default:!0}})},J=j=>{var X=td(),N=B(X);ue(N,()=>({"--right":"50px","--top":"calc(100% - 8px)"})),Fr(N.lastChild,{transformOrigin:"top",get startClose(){return r(d)},onClosed:v,children:(I,G)=>{n(I,()=>!1)},$$slots:{default:!0}}),_(j,X)};K(le,j=>{r(i)?j(Q):j(J,!1)})}_(U,ne)};K(H,U=>{r(u)&&U(Y)})}_(C,E)};K(x,C=>{e.selectedTags.size>0&&C(y)})}_(t,P),re()}qe(["click"]);const ad=(t,e,n)=>{if(t.has("inbox"))return[];const a=[],s=Array.from(t.values());for(const o of e)if(o.data&&!(n&&!n(o))){if(t.size===0){for(const i of o?.data?.tags||[])a.includes(i)||a.push(i);for(const i of o?.data?.draft?.tags||[])a.includes(i)||a.push(i);continue}if(o.data&&s.every(i=>o.data?.tags.includes(i)))for(const i of o.data.tags)!t.has(i)&&!a.includes(i)&&a.push(i);if(o&&o.data.draft&&s.every(i=>o.data?.draft?.tags.includes(i)))for(const i of o.data.draft.tags)!t.has(i)&&!a.includes(i)&&a.push(i)}return a};function rd(t,e){ae(e,!0);const n=an(),{getIsKeyboardVisible:a}=Oo();let s=fe(e,"dialog",7);const o=R(a),i=3,l=50,c=5,u=.6,d=.3,f=.35,v=.95;let g=0,h=0,m=0,p=!1,P=!1,x=0,y=0,C=0;const E=()=>{g=0,h=0,p=!1,P=!1,x=0,y=0,C=0,m=0,A!==null&&(cancelAnimationFrame(A),A=null),k=null};let A=null,k=null;const T=Q=>{if(!s()){console.warn("Touch start: No dialog element");return}if(e.sidebarState!=="opened"&&e.sidebarState!=="closed"){console.warn(`Touch start: Invalid sidebar state: ${e.sidebarState}`);return}g=Q.touches[0].clientX,h=Q.touches[0].clientY,m=performance.now(),p=!0,P=!1},L=Q=>e.sidebarState==="closed"&&Q>0||e.sidebarState==="closeSwiping"&&Q>0||e.sidebarState==="opened"&&Q<0||e.sidebarState==="openSwiping"&&Q<0,Z=()=>{if(s()){if(s().style.setProperty("--transition-timing","0s"),!s().open&&e.sidebarState==="closed")try{s().showModal(),s().offsetWidth}catch(Q){console.error("Error opening dialog:",Q);return}e.onSwipe();try{const Q=window.getComputedStyle(s()),J=Q.transform||Q.webkitTransform||"";if(y=s().offsetWidth,e.sidebarState==="closeSwiping"||e.sidebarState==="closed"?x=-y:(e.sidebarState==="openSwiping"||e.sidebarState==="opened")&&(x=0),J&&J!=="none")try{x=new DOMMatrix(J).m41}catch{console.warn("Could not parse transform matrix, using default position")}P=!0}catch(Q){console.error("Error during swipe initialization:",Q),E()}}},te=()=>{if(!s())return;const Q=-(y*.3),J=-y;let j=0;const X=window.getComputedStyle(s()),N=X.transform||X.webkitTransform||"";if(N&&N!=="none")try{j=new DOMMatrix(N).m41}catch{j=0}const se=.25*Math.min(1,Math.max(0,(j-J)/(Q-J)));s().style.setProperty("--backdrop-bg",`rgba(0, 0, 0, ${se})`)},H=()=>{if(A=null,!k||!p||!s()||r(o))return;const{x:Q,y:J}=k;k=null;const j=Q-g,X=J-h,N=Math.abs(j)>Math.abs(X),I=Math.abs(j)>i;if(!P)if(N&&I&&L(j))try{Z()}catch(S){console.error("Error initializing swipe:",S),E();return}else return;let G=x+j*v;const se=-y,D=-(y*.3);let F=Math.max(se,Math.min(D,G));s().style.setProperty("--transition-timing","0s"),s().style.transform=`translate3d(${F}px, 0, 0)`,n.swipingRatio=(-1+Math.abs(F/y))/7*10,C=(F-x)/y*100,te()},Y=Q=>{if(!p)return;const J=Q.touches[0].clientX,j=Q.touches[0].clientY;k={x:J,y:j},A===null&&(A=requestAnimationFrame(H)),P&&Math.abs(J-g)>Math.abs(j-h)&&Q.preventDefault()},U=Q=>{const J=Math.abs(Q);if(J>=u)return c;if(J>=d){const j=(J-d)/(u-d);return l-j*(l-c)}else return l},ne=(Q,J)=>{if(Math.abs(Q)>=u)return f*.5;const X=Math.abs(C)/100;return J?f*Math.max(.5,1-X):f*Math.max(.5,X)},le=Q=>{if(A!==null&&(cancelAnimationFrame(A),A=null),k=null,!p||!s()){E();return}if(!P){E();return}let J=0;if(Q?.changedTouches?.[0]){const G=Q.changedTouches[0].clientX,D=performance.now()-m;D>0&&(J=(G-g)/D)}const j=U(J);let X=null;e.sidebarState==="closeSwiping"?X=Math.abs(C)>j||J>d?"open":"close":e.sidebarState==="openSwiping"&&(X=Math.abs(C)>j||J<-d?"close":"open");const N=e.sidebarState==="closeSwiping"&&X==="open"||e.sidebarState==="openSwiping"&&X==="close",I=ne(J,N);n.duration=I-.02,s().style.setProperty("--transition-timing",`${I}s`),s().offsetWidth,s().style.transform="",X==="open"?e.onOpen():X==="close"&&e.onClose(),s()?.style.removeProperty("--backdrop-bg"),E()};ye(()=>(document.addEventListener("touchstart",T,{passive:!0}),document.addEventListener("touchmove",Y,{passive:!1}),document.addEventListener("touchend",le,{passive:!0}),document.addEventListener("touchcancel",le,{passive:!0}),()=>{document.removeEventListener("touchstart",T),document.removeEventListener("touchmove",Y),document.removeEventListener("touchend",le),document.removeEventListener("touchcancel",le),A!==null&&cancelAnimationFrame(A)})),re()}var sd=W('<dialog><div class="dialogInner svelte-1nov8pn"><!></div></dialog> <!> <!>',1);function od(t,e){ae(e,!0);const{getStackPages:n}=dt(),{getSidebarState:a,handleComputeState:s}=Qa();let o=350;const i=an(),{isScrolling:l}=Or();let c=V(null),u=V(null),d=R(a);Te(()=>{n().length>0&&s({type:"close"})});const f=()=>{e.blocked||s({type:"close"})},v=()=>{e.blocked||s({type:"open"})},g=()=>{s({type:"opened"}),i.swipingRatio=-1,i.duration=.2},h=()=>{s({type:"closed"})},m=()=>{s({type:"swipe"})},p=H=>{H.preventDefault(),f()};ye(()=>(r(c)?.addEventListener("close",h),r(c)?.addEventListener("cancel",p),()=>{r(c)?.removeEventListener("close",h),r(c)?.removeEventListener("cancel",p)}));const P=()=>{r(c)?.style.removeProperty("--transition-timing"),r(c)?.style.removeProperty("transform"),r(c)?.style.removeProperty("--backdrop-bg")},x=R(l);Te(()=>{if(r(d),!!r(c))switch(r(d).type==="openSwiping"||r(d).type==="closeSwiping"?i.isSwiping=!0:i.isSwiping=!1,r(d).type){case"closeSwiping":{const H=setTimeout(()=>{f()},3e3);return()=>{clearTimeout(H)}}case"openSwiping":{const H=setTimeout(()=>{v()},3e3);return()=>{clearTimeout(H)}}case"opening":{r(c).open||r(c).showModal(),r(c).getBoundingClientRect();const H=setTimeout(()=>{P()},o+1),Y=()=>{clearTimeout(H),P()};return r(c)?.addEventListener("transitionend",Y,{once:!0}),g(),()=>{clearTimeout(H),r(c)?.removeEventListener("transitionend",Y)}}case"closing":{i.swipingRatio=0,i.duration=.2;const H=setTimeout(()=>{r(d).type==="closing"&&h()},o+1),Y=()=>{clearTimeout(H),h()};return r(c)?.addEventListener("transitionend",Y,{once:!0}),()=>{clearTimeout(H),r(c)?.removeEventListener("transitionend",Y)}}case"closed":r(c)?.close(),P();break;case"opened":P();break}}),ye(()=>{r(d).type==="opened"&&s({type:"open"})});var y=sd(),C=B(y),E=b(C),A=b(E);{var k=H=>{var Y=$(),U=B(Y);we(U,()=>e.children),_(H,Y)};K(A,H=>{r(d).type!=="closed"&&H(k)})}ot(E,H=>w(u,H),()=>r(u)),ot(C,H=>w(c,H),()=>r(c));var T=z(C,2);{var L=H=>{zr(H,{get dialog(){return r(c)},get dialogInner(){return r(u)},onClose:f})};K(T,H=>{r(d).type==="opened"&&!e.blocked&&H(L)})}var Z=z(T,2);{var te=H=>{rd(H,{onClose:f,onOpen:v,onSwipe:m,get sidebarState(){return r(d).type},get dialog(){return r(c)}})};K(Z,H=>{(!r(x)&&r(d).type==="closed"||r(d).type==="opened"||r(d).type==="openSwiping"||r(d).type==="closeSwiping")&&!e.blocked&&H(te)})}ie(()=>ge(C,1,he([{open:r(d).type==="opened",isAnimationOn:i.working&&(!i.isSwiping||!e.blocked)}]),"svelte-1nov8pn")),_(t,y),re()}var id=(t,e,n)=>{e(),n("/",{full:!0})(t)},ld=W('<a class="link svelte-ltt61h"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a>'),cd=(t,e,n)=>{e(),n(q.Bin,{full:!0})(t)},ud=W('<a class="link svelte-ltt61h"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a>'),dd=W('<div class="sidebarFixed svelte-ltt61h"><div class="nav svelte-ltt61h"><!> <div class="menu svelte-ltt61h"><a class="link svelte-ltt61h"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a> <a class="link svelte-ltt61h"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a> <!></div></div> <div class="searchWrapper svelte-ltt61h"><!></div> <!></div> <!>',1),fd=W('<div class="sidebar svelte-ltt61h"><div class="sidebarFixed svelte-ltt61h"><!></div> <!></div>');function vd(t,e){ae(e,!0);const{checkMobileSize:n}=rn(),{sidebarClose:a,getSidebarState:s,sidebarOpen:o}=Qa(),{getAppLocation:i}=Mt(),{getPageUrl:l,createHandlePage:c,getStackPagesFormUrl:u}=dt(),d=vo(),f=R(()=>i().pathname),{getSelectedTags:v,addTag:g,removeTag:h}=mo();let m=R(v);const{checkNotesInBin:p}=En();let P=fe(e,"getNotes",3,()=>[]),x=fe(e,"mode",3,"notes");const y=U=>{g(U)},C=U=>{h(U)};let E=R(()=>ad(r(m),P()()||[],U=>!(U?.data&&U.data.deletedAt&&x()==="notes"||U?.data&&!U.data.deletedAt&&x()==="bin")).filter(U=>d.value===""||U.toLowerCase().indexOf(d.value.toLowerCase())!==-1)),A=R(n);const{checkExistedDialog:k}=sn();let T=R(()=>u().length>0||k());const L=()=>{if(r(A)){if(r(T))return;s().type==="opened"?a():s().type==="closed"&&o()}};ye(()=>ca({key:"b",meta:!0,action:L})),ye(()=>ca({key:"b",ctrl:!0,action:L}));var Z=$(),te=B(Z);{var H=U=>{od(U,{get blocked(){return r(T)},children:(ne,le)=>{var Q=dd(),J=B(Q),j=b(J),X=b(j);Bo(X,{});var N=z(X,2),I=b(N),G=R(()=>c(q.Settings));I.__click=function(...ve){r(G)?.apply(this,ve)};var se=b(I);ue(se,()=>({"--size":"24px"})),de(se.lastChild,{name:"settings"});var D=z(se,2);Xe(D,{children:(ve,Se)=>{var xe=Me("Settings");_(ve,xe)}});var F=z(I,2),S=R(()=>c(q.Sync));F.__click=function(...ve){r(S)?.apply(this,ve)};var O=b(F);ue(O,()=>({"--size":"24px"})),de(O.lastChild,{name:"sync"});var oe=z(O,2);Xe(oe,{children:(ve,Se)=>{var xe=Me("Sync");_(ve,xe)}});var be=z(F,2);{var pe=ve=>{var Se=ld();Se.__click=[id,a,c];var xe=b(Se);ue(xe,()=>({"--size":"24px"})),de(xe.lastChild,{name:"note"});var et=z(xe,2);Xe(et,{children:(ze,Ge)=>{var tt=Me("Notes");_(ze,tt)}}),ie(ze=>Ce(Se,"href",ze),[()=>l("/",{full:!0})]),_(ve,Se)},Le=ve=>{var Se=$(),xe=B(Se);{var et=ze=>{var Ge=ud();Ge.__click=[cd,a,c];var tt=b(Ge);ue(tt,()=>({"--size":"24px"})),de(tt.lastChild,{name:"bin"});var qt=z(tt,2);Xe(qt,{children:(bt,ga)=>{var ea=Me("Bin");_(bt,ea)}}),ie(bt=>Ce(Ge,"href",bt),[()=>l(q.Bin,{full:!0})]),_(ze,Ge)};K(xe,ze=>{p()&&ze(et)},!0)}_(ve,Se)};K(be,ve=>{r(f)===`/${q.Bin}`?ve(pe):ve(Le,!1)})}var ee=z(j,2),Pe=b(ee);br(Pe,{placeholder:"Search tag",get value(){return d.value},set value(ve){d.value=ve}});var Ie=z(ee,2);vs(Ie,{get selectedTags(){return r(m)},handleSelectedTagClick:C});var Re=z(J,2);fs(Re,{get tags(){return r(E)},handleTagClick:y,mobile:!0}),ie((ve,Se)=>{Ce(I,"href",ve),Ce(F,"href",Se)},[()=>l(q.Settings),()=>l(q.Sync)]),_(ne,Q)},$$slots:{default:!0}})},Y=U=>{var ne=fd(),le=b(ne),Q=b(le);vs(Q,{get selectedTags(){return r(m)},handleSelectedTagClick:C});var J=z(le,2);fs(J,{get tags(){return r(E)},handleTagClick:y}),_(U,ne)};K(te,U=>{r(A)?U(H):U(Y,!1)})}_(t,Z),re()}qe(["click"]);const hd=(t,e,n,a)=>{e.noteData.pinnedAt?(n(e.noteId,!1),mn("Note unpinned",{onCancel:()=>{n(e.noteId,!0)}})):(n(e.noteId,!0),mn("Note pinned",{onCancel:()=>{n(e.noteId,!1)}})),w(a,!0)},gd=(t,e,n)=>{navigator.clipboard.writeText(e.noteData.url),mn("Link copied"),w(n,!0)};var pd=W('<li class="svelte-8ve3pe"><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>Copy link</button></li>'),_d=(t,e,n)=>{w(e,!0),w(n,!0)},md=W('<li class="svelte-8ve3pe"><button><span class="wrapperIcon svelte-8ve3pe"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></span>Delete</button></li>'),wd=(t,e,n)=>{w(e,!0),w(n,!0)},yd=(t,e,n)=>{w(e,!0),w(n,!0)},bd=W('<li class="svelte-8ve3pe"><button><span class="wrapperIcon svelte-8ve3pe"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></span>Restore</button></li> <li class="svelte-8ve3pe"><button><span class="wrapperIcon svelte-8ve3pe"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></span>Delete from bin</button></li>',1),Sd=W('<ul class="menu svelte-8ve3pe"><!> <li class="svelte-8ve3pe"><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> </button></li> <!></ul>'),kd=W('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),Cd=W("<!> <!>",1);function Ed(t,e){ae(e,!0);const n=(T,L=Ee)=>{var Z=Sd(),te=b(Z);{var H=X=>{var N=pd(),I=b(N);I.__click=[gd,e,u];var G=b(I);ue(G,()=>({"--size":"22px"})),de(G.lastChild,{name:"copy"}),ie(()=>ge(I,1,he(["button",{buttonMenuDialog:L()}]),"svelte-8ve3pe")),_(X,N)};K(te,X=>{L()&&e.noteData.url&&X(H)})}var Y=z(te,2),U=b(Y);U.__click=[hd,e,o,u];var ne=b(U);{let X=R(()=>e.noteData.pinnedAt?"pin-cancel":"pin");ue(ne,()=>({"--size":"22px"})),de(ne.lastChild,{get name(){return r(X)}})}var le=z(ne),Q=z(Y,2);{var J=X=>{var N=md(),I=b(N);I.__click=[_d,d,u];var G=b(I),se=b(G);ue(se,()=>({"--size":"18px"})),de(se.lastChild,{name:"bin"}),ie(()=>ge(I,1,he(["button",{buttonMenuDialog:L()}]),"svelte-8ve3pe")),_(X,N)},j=X=>{var N=bd(),I=B(N),G=b(I);G.__click=[wd,f,u];var se=b(G),D=b(se);ue(D,()=>({"--size":"18px"})),de(D.lastChild,{name:"bin-cancel"});var F=z(I,2),S=b(F);S.__click=[yd,v,u];var O=b(S),oe=b(O);ue(oe,()=>({"--size":"18px"})),de(oe.lastChild,{name:"bin"}),ie(()=>{ge(G,1,he(["button",{buttonMenuDialog:L()}]),"svelte-8ve3pe"),ge(S,1,he(["button",{buttonMenuDialog:L()}]),"svelte-8ve3pe")}),_(X,N)};K(Q,X=>{l()==="notes"?X(J):X(j,!1)})}ie(()=>{ge(U,1,he(["button",{buttonMenuDialog:L()}]),"svelte-8ve3pe"),Dt(le,` ${e.noteData.pinnedAt?"Unpin":"Pin"}`)}),_(T,Z)},{moveNoteToBin:a,deleteNote:s,pinNote:o,restoreNoteFromBin:i}=En();let l=fe(e,"mode",3,"notes"),c=fe(e,"shownMenu",15),u=V(!1),d=V(!1),f=V(!1),v=V(!1);const{checkMobileSize:g}=rn();let h=R(g);const m=()=>{s(e.noteId),mn("Draft deleted")},p=async()=>{a(e.noteId),mn("Note moved to bin",{onCancel:()=>{i(e.noteId)}})},P=()=>{i(e.noteId),mn("Note restored from bin",{onCancel:()=>{a(e.noteId)}})},x=()=>{r(d)?(w(d,!1),e.noteData.type==="draft"?m():p()):r(f)&&(w(f,!1),P()),c(!1),w(u,!1)};var y=Cd(),C=B(y);{var E=T=>{var L=$(),Z=B(L);{var te=Y=>{$a(Y,{get startClose(){return r(u)},onClosed:x,children:(U,ne)=>{n(U,()=>!0)},$$slots:{default:!0}})},H=Y=>{var U=kd(),ne=B(U);ue(ne,()=>({"--bottom":"-100px","--right":"20px"})),Fr(ne.lastChild,{get startClose(){return r(u)},get positionTop(){return e.showMenuUp},onClosed:x,children:(le,Q)=>{n(le,()=>!1)},$$slots:{default:!0}}),_(Y,U)};K(Z,Y=>{r(h)?Y(te):Y(H,!1)})}_(T,L)};K(C,T=>{c()&&T(E)})}var A=z(C,2);{var k=T=>{Ro(T,{title:"Are you sure you want to delete this note?",buttonConfirmTitle:"Delete",onConfirm:()=>{s(e.noteId),w(v,!1)},onCancel:()=>{w(v,!1)}})};K(A,T=>{r(v)&&T(k)})}_(t,y),re()}qe(["click"]);const Pd=(t,e)=>{w(e,!0)},xd=(t,e,n)=>{navigator.clipboard.writeText(e.noteData.url),mn("Link copied"),w(n,!1)},Td=(t,e)=>{w(e,!0)},Ad=(t,e)=>{w(e,!1)},Dd=(t,e,n,a)=>{t.preventDefault(),e.noteData.type==="draft"?n(`${q.NewNote}`):n(`${q.EditNote}?id=${e.noteId}`),w(a,!1)};var Nd=W('<div class="iconPlaceholder svelte-1jg44o9"></div>'),Ld=W('<img loading="lazy" class="noteIcon" height="16" width="16" alt=""/>'),Md=W('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),Id=W('<div class="noteIconWrapper svelte-1jg44o9"><!></div>'),Od=W('<button class="button svelte-1jg44o9"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),Bd=(t,e)=>{w(e,!1)},Rd=W('<!> <a target="_blank" rel="noopener noreferrer" class="button openLink svelte-1jg44o9"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a>',1),zd=W('<li><!> <a class="noteLink svelte-1jg44o9" target="_blank" rel="noopener noreferrer"> </a> <div><!> <button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button></div> <!></li>');function Fd(t,e){ae(e,!0);const{pushStackPages:n}=dt(),{getFaviconEnabled:a}=So();let s=fe(e,"mode",3,"notes"),o=V(!1),i=V(!1),l=V(!1),c=R(a);const{checkMobileSize:u}=rn(),d=T=>{try{return`https://icons.duckduckgo.com/ip3/${new URL(T).host}.ico`}catch{return""}},f=e.noteData.url||e.noteData.draft?.url||"";var v=zd();v.__focusin=[Td,i],v.__focusout=[Ad,i];var g=b(v);{var h=T=>{var L=Id(),Z=b(L);{var te=Y=>{var U=$(),ne=B(U);{var le=J=>{var j=Nd();_(J,j)},Q=J=>{var j=Ld();ie(X=>Ce(j,"src",X),[()=>d(f)]),Lr("error",j,()=>{w(l,!0)}),_(J,j)};K(ne,J=>{r(l)?J(le):J(Q,!1)})}_(Y,U)},H=Y=>{var U=Md(),ne=B(U);ue(ne,()=>({"--size":"16px"})),de(ne.lastChild,{name:"note"}),_(Y,U)};K(Z,Y=>{f?Y(te):Y(H,!1)})}_(T,L)};K(g,T=>{r(c)&&T(h)})}var m=z(g,2);m.__click=[Dd,e,n,i];var p=b(m),P=z(m,2),x=b(P);{var y=T=>{var L=Rd(),Z=B(L);{var te=ne=>{var le=Od();le.__click=[xd,e,i];var Q=b(le);ue(Q,()=>({"--size":"20px"})),de(Q.lastChild,{name:"copy"});var J=z(Q,2);Xe(J,{children:(j,X)=>{var N=Me("copy link");_(j,N)}}),ie(()=>Ce(le,"tabindex",e.focusHidden?-1:0)),_(ne,le)};K(Z,ne=>{u()||ne(te)})}var H=z(Z,2);H.__click=[Bd,i];var Y=b(H);ue(Y,()=>({"--size":"18px"})),de(Y.lastChild,{name:"open"});var U=z(Y,2);Xe(U,{children:(ne,le)=>{var Q=Me();ie(()=>Dt(Q,e.noteData.draft?.name||e.noteData.name||"unknown")),_(ne,Q)}}),ie(()=>{Ce(H,"href",f),Ce(H,"tabindex",e.focusHidden?-1:0)}),_(T,L)};K(x,T=>{f&&T(y)})}var C=z(x,2);C.__click=[Pd,o],ge(C,1,he(["button","buttonMenu"]),"svelte-1jg44o9");var E=b(C);ue(E,()=>({"--size":"18px","--rotate":"90deg"})),de(E.lastChild,{name:"menu"});var A=z(E,2);Xe(A,{children:(T,L)=>{var Z=Me("show menu");_(T,Z)}});var k=z(P,2);Ed(k,{get mode(){return s()},get noteId(){return e.noteId},get noteData(){return e.noteData},get showMenuUp(){return e.showMenuUp},get shownMenu(){return r(o)},set shownMenu(T){w(o,T,!0)}}),ie((T,L)=>{ge(v,1,T,"svelte-1jg44o9"),Ce(m,"tabindex",e.focusHidden?-1:0),Ce(m,"href",L),Dt(p,e.noteData?.draft?.name||e.noteData?.name||"unknown"),ge(P,1,he(["noteMenuWrapper",{noteMenuWrapperActive:r(i)}]),"svelte-1jg44o9"),Ce(C,"tabindex",e.focusHidden?-1:0)},[()=>he(["record",{pinned:!!e.noteData.pinnedAt,draft:!!e.noteData.draft}]),()=>`/?stackPages=${encodeURIComponent(`${q.EditNote}?id=${e.noteId}`)}`]),_(t,v),re()}qe(["focusin","focusout","click"]);var Gn,Ho,jo;class Hd{constructor(e){ke(this,Gn);lt(this,"data");lt(this,"compare");this.data=[],this.compare=e}insert(e){this.data.push(e),Ne(this,Gn,Ho).call(this)}extractMin(){if(this.data.length===0)return;const e=this.data[0],n=this.data.pop();return this.data.length&&n!==void 0&&(this.data[0]=n,Ne(this,Gn,jo).call(this)),e}isEmpty(){return this.data.length===0}}Gn=new WeakSet,Ho=function(){let e=this.data.length-1;const n=this.data[e];for(;e>0;){const a=Math.floor((e-1)/2);if(this.compare(n,this.data[a])>=0)break;[this.data[e],this.data[a]]=[this.data[a],this.data[e]],e=a}},jo=function(){let e=0;const n=this.data.length;for(;;){const a=2*e+1,s=2*e+2;let o=e;if(a<n&&this.compare(this.data[a],this.data[o])<0&&(o=a),s<n&&this.compare(this.data[s],this.data[o])<0&&(o=s),o===e)break;[this.data[e],this.data[o]]=[this.data[o],this.data[e]],e=o}};class jd{constructor(e,n){lt(this,"heap");lt(this,"done");lt(this,"cache",[]);this.heap=new Hd(n);for(const a of e)this.heap.insert(a);this.done=!1}get(e,n){const a=this.cache.slice(e,n);for(;a.length<n-e&&!this.heap.isEmpty();){const s=this.heap.extractMin();s!==void 0&&(this.cache.push(s),a.push(s))}return this.heap.isEmpty()&&(this.done=!0),a}}var Ud=W('<p class="message">No notes in bin</p>'),Vd=W('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Add note</span>',1),Wd=W('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span style="padding-left: 6px;">Import notes</span>',1),qd=W('<p class="message">No notes found</p> <div class="wrapperButtonsAdd svelte-106i4nx"><!></div> <div>or</div> <div class="wrapperButtonsAdd svelte-106i4nx"><!></div>',1),Kd=W('<div class="emptyStore svelte-106i4nx"><!></div>'),Yd=W("<span>Back to notes</span>"),Xd=W('<div class="emptyMessage svelte-106i4nx">No notes in bin</div> <div class="wrapperButtonsAdd svelte-106i4nx"><!></div>',1),Gd=W('<div class="emptyMessage svelte-106i4nx">No notes found</div>'),Zd=W('<div class="feed svelte-106i4nx"><ul class="svelte-106i4nx"></ul></div>'),Jd=W('<div class="wrapperFeed svelte-106i4nx"><div class="wrapperContainer svelte-106i4nx"><!></div></div>');function Qd(t,e){ae(e,!0);let n=fe(e,"getNotes",3,()=>[]),a=fe(e,"mode",3,"notes");const{getScrollContainer:s}=Br(),{createHandlePage:o,getPageUrl:i}=dt(),{getSelectedTags:l}=mo(),{getFeedOrder:c}=go(),u=co();let d=54,f=V(0),v=V(0),g=V(0),h=V(0),m=[],p=V(0),P=V(null),x=R(s),y=null,C=null;const E=R(l);Te(()=>{r(E),r(Z),r(x)?.scrollTo(0,0)});const{enable:A}=Or(),k=()=>{A(),y||(y=requestAnimationFrame(()=>{const N=r(x)?.scrollTop||0;w(g,N,!0);const I=Math.ceil(r(f)/d);w(v,Math.floor(N/(d*I))*(d*I)),y=null}))},T=()=>{C||(C=requestAnimationFrame(()=>{w(f,window.innerHeight-180||0,!0);const N=r(x)?.scrollTop||0;w(g,N,!0);const I=Math.ceil(r(f)/d);w(v,Math.floor(N/(d*I))*(d*I)),C=null}))};ye(()=>{T(),k()});const L=()=>{k()};Te(()=>(r(x)?.addEventListener("scroll",L),window.addEventListener("resize",T),()=>{r(x)?.removeEventListener("scroll",L),window.removeEventListener("resize",T)}));const Z=R(c);Te(()=>{const N=n()()||[],I=[],G=Array.from(r(E).values());for(let se=N.length-1;se>=0;se--){if(!N[se]||!N[se].data)continue;const D=N[se];a()==="notes"&&D?.data.deletedAt||a()==="bin"&&!D?.data.deletedAt||r(E).size&&G.some(F=>!D.data?.tags.includes(F))&&(!D.data.draft||G.some(F=>!D.data?.draft?.tags.includes(F)))||u&&!(D.data.name.toLowerCase().includes(u.value.toLowerCase())||D.data.url.toLowerCase().includes(u.value.toLowerCase())||D.data.text.toLowerCase().includes(u.value.toLowerCase()))||I.push(D)}w(h,I.length,!0),m=I,w(p,Date.now(),!0)}),Te(()=>{r(Z),r(p),w(P,new jd(m,(N,I)=>{if(!N||!I||!N.data||!I.data)return 0;if(N.data.pinnedAt&&!I.data.pinnedAt)return-1;if(!N.data.pinnedAt&&I.data.pinnedAt)return 1;if(N.data.pinnedAt&&I.data.pinnedAt){if(N.data.pinnedAt<I.data.pinnedAt)return 1;if(N.data.pinnedAt>I.data.pinnedAt)return-1}if(N.data.draft&&!I.data.draft)return-1;if(!N.data.draft&&I.data.draft)return 1;if(N.data.draft&&I.data.draft){if(N.data.draft.updatedAt<I.data.draft.updatedAt)return 1;if(N.data.draft.updatedAt>I.data.draft.updatedAt)return-1}switch(r(Z)){case"newest":return N.data.updatedAt<I.data.updatedAt?1:-1;case"oldest":return N.data.updatedAt>I.data.updatedAt?1:-1;case"AtoZ":return N.data.name.localeCompare(I.data.name);case"ZtoA":return I.data.name.localeCompare(N.data.name);default:return 0}}),!0)});const te=R(()=>r(h)*d);let Y=R(()=>{r(p);const N=Math.ceil(r(f)/d);let I=Math.floor(r(v)/d);return I=I-Math.min(I,N),r(P)?.get(I,I+N*3)||[]}),U=R(()=>d*Math.ceil(r(f)/d));const ne=R(()=>r(v)-Math.min(r(v),r(U)));var le=Jd(),Q=b(le),J=b(Q);{var j=N=>{zo(N,{})},X=N=>{var I=$(),G=B(I);{var se=F=>{var S=Kd(),O=b(S);{var oe=pe=>{var Le=Ud();_(pe,Le)},be=pe=>{var Le=qd(),ee=z(B(Le),2),Pe=b(ee);{let ve=R(()=>i(q.NewNote)),Se=R(()=>o(q.NewNote));Qt(Pe,{element:"a",get href(){return r(ve)},get onClick(){return r(Se)},children:(xe,et)=>{var ze=Vd(),Ge=B(ze);ue(Ge,()=>({"--size":"18px","--color":"#b0b0b0"})),de(Ge.lastChild,{name:"plus"}),_(xe,ze)},$$slots:{default:!0}})}var Ie=z(ee,4),Re=b(Ie);{let ve=R(()=>i(q.ImportData)),Se=R(()=>o(q.ImportData));Qt(Re,{element:"a",get href(){return r(ve)},get onClick(){return r(Se)},children:(xe,et)=>{var ze=Wd(),Ge=B(ze);ue(Ge,()=>({"--size":"18px","--color":"#b0b0b0"})),de(Ge.lastChild,{name:"import"}),_(xe,ze)},$$slots:{default:!0}})}_(pe,Le)};K(O,pe=>{a()==="bin"?pe(oe):pe(be,!1)})}_(F,S)},D=F=>{var S=$(),O=B(S);{var oe=pe=>{var Le=Xd(),ee=z(B(Le),2),Pe=b(ee);{let Ie=R(()=>i("/",{full:!0})),Re=R(()=>o("/",{full:!0}));Qt(Pe,{element:"a",get href(){return r(Ie)},get onClick(){return r(Re)},children:(ve,Se)=>{var xe=Yd();_(ve,xe)},$$slots:{default:!0}})}_(pe,Le)},be=pe=>{var Le=$(),ee=B(Le);{var Pe=Re=>{var ve=Gd();_(Re,ve)},Ie=Re=>{var ve=Zd(),Se=b(ve);Za(Se,23,()=>r(Y),xe=>xe.data,(xe,et,ze)=>{var Ge=$(),tt=B(Ge);{var qt=bt=>{{let ga=R(()=>r(ze)*d<r(g)-r(ne)-d/2||r(ze)*d>r(g)-r(ne)+Math.floor(r(f)/d)*d),ea=R(()=>(r(ze)+3)*d<r(g)-r(ne)-d/2||(r(ze)+3)*d>r(g)-r(ne)+Math.floor(r(f)/d)*d);Fd(bt,{get mode(){return a()},get focusHidden(){return r(ga)},get showMenuUp(){return r(ea)},get noteId(){return r(et).id},get noteData(){return r(et).data}})}};K(tt,bt=>{r(et).data&&bt(qt)})}_(xe,Ge)}),ie(xe=>{yn(ve,`min-height: ${xe??""}px`),yn(Se,`transform: translateY(${r(ne)??""}px);`)},[()=>Math.max((r(te)>r(f),r(te)),0)]),_(Re,ve)};K(ee,Re=>{r(Y).length===0?Re(Pe):Re(Ie,!1)},!0)}_(pe,Le)};K(O,pe=>{a()==="bin"&&e.countNotesInBin()===0?pe(oe):pe(be,!1)},!0)}_(F,S)};K(G,F=>{(n()()||[]).length===0||a()==="notes"&&(n()()||[]).length-e.countNotesInBin()===0?F(se):F(D,!1)},!0)}_(N,I)};K(J,N=>{e.readyNotes?N(X,!1):N(j)})}_(t,le),re()}var $d=W('<!> <div class="content svelte-k57gez"><!></div>',1);function ef(t,e){ae(e,!0);const{getAppLocation:n}=Mt(),{getGetNotes:a,isInitedNotes:s,countNotesInBin:o}=En(),i=R(s),l=R(a),c=R(()=>n().pathname);var u=$d(),d=B(u);{let g=R(()=>r(c)==="/bin"?"bin":"notes");vd(d,{get mode(){return r(g)},get getNotes(){return r(l)}})}var f=z(d,2),v=b(f);{let g=R(()=>r(c)==="/bin"?"bin":"notes");Qd(v,{get mode(){return r(g)},get getNotes(){return r(l)},get countNotesInBin(){return o},get readyNotes(){return r(i)}})}_(t,u),re()}var tf=W('<h1 class="svelte-1ky72l5"><!></h1>');function nf(t,e){var n=tf(),a=b(n);we(a,()=>e.children),_(t,n)}const Uo=()=>window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0;var af=W('<div class="block svelte-4rc64"><!> <p class="message svelte-4rc64">Enjoy using the app!</p> <div class="container svelte-4rc64"><!></div></div>');function rf(t,e){ae(e,!1);const{pushStackPages:n}=dt(),a=()=>{Uo()?n(q.AccountSetup):n(q.Install)};Ja();var s=af(),o=b(s);nf(o,{children:(c,u)=>{var d=Me("Wellcome");_(c,d)}});var i=z(o,4),l=b(i);Qt(l,{onClick:a,fullWidth:!0,children:(c,u)=>{var d=Me("Start");_(c,d)},$$slots:{default:!0}}),_(t,s),re()}var sf=W('<div class="wrapper svelte-1rhfuek"><fieldset class="switcher svelte-1rhfuek"><legend class="vh svelte-1rhfuek">Color Scheme</legend> <input id="light" type="radio" aria-label="Light"/> <label for="light" title="Light" aria-label="Light"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <input id="system" type="radio" aria-label="System"/> <label for="system" title="System" aria-label="System"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <input id="dark" type="radio" aria-label="Dark"/> <label for="dark" title="Dark" aria-label="Dark"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <div class="wrapSwitcherStatus svelte-1rhfuek"><div class="switcherStatus svelte-1rhfuek"></div></div></fieldset></div>');function of(t,e){ae(e,!0);const{createBroadcastChannel:n}=Cn(),a=n(),s={Light:"light",System:"system",Dark:"dark"};let o=V(Oe(localStorage.getItem("colorScheme")||s.System));const i=E=>{localStorage.setItem("colorScheme",E),E===s.System?window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.dataset.colorScheme=s.Dark:document.documentElement.dataset.colorScheme=s.Light:document.documentElement.dataset.colorScheme=E,w(o,E,!0)},l=E=>{const A=E.target.value;i(A),a.postMessage({type:"setColorScheme",data:{scheme:A}})},c="color-scheme-switcher";ye(()=>{const E=A=>{const k=JSON.parse(A.data);k?.type==="setColorScheme"&&k?.data.scheme&&i(k.data.scheme)};return a.addEventListener(E),()=>{a.removeEventListener(E)}});var u={setColorScheme:i,handleChange:l},d=sf(),f=b(d),v=z(b(f),2);ge(v,1,he(["vh","input"]),"svelte-1rhfuek"),Ce(v,"name",c),v.__change=l;var g=z(v,2);ge(g,1,he(["switcherButton","light"]),"svelte-1rhfuek");var h=b(g);ue(h,()=>({"--size":"20px"})),de(h.lastChild,{name:"sun"});var m=z(g,2);ge(m,1,he(["vh","input"]),"svelte-1rhfuek"),Ce(m,"name",c),m.__change=l;var p=z(m,2);ge(p,1,he(["switcherButton","system"]),"svelte-1rhfuek");var P=b(p);ue(P,()=>({"--size":"14px"})),de(P.lastChild,{name:"a"});var x=z(p,2);ge(x,1,he(["vh","input"]),"svelte-1rhfuek"),Ce(x,"name",c),x.__change=l;var y=z(x,2);ge(y,1,he(["switcherButton","dark"]),"svelte-1rhfuek");var C=b(y);return ue(C,()=>({"--size":"20px"})),de(C.lastChild,{name:"moon"}),ie(()=>{rr(v,s.Light),Da(v,r(o)===s.Light),rr(m,s.System),Da(m,r(o)===s.System),rr(x,s.Dark),Da(x,r(o)===s.Dark)}),_(t,d),re(u)}qe(["change"]);const lf=(t,e)=>{e.onChange(!e.checked)};var cf=W('<label class="switch svelte-18l3no4"><input class="vh svelte-18l3no4" type="checkbox"/> <span class="slider svelte-18l3no4"></span> <!></label>');function uf(t,e){ae(e,!0);var n=cf(),a=b(n);a.__change=[lf,e];var s=z(a,4);Xe(s,{children:(o,i)=>{var l=Me("Toggle switch");_(o,l)}}),ie(()=>Da(a,e.checked)),_(t,n),re()}qe(["change"]);var df=W('<li class="svelte-94ovk9"><a class="button svelte-94ovk9"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-94ovk9">Install app</span></a></li>'),ff=W("<span> </span>"),vf=W('<div class="block svelte-94ovk9"><!> <ul class="svelte-94ovk9"><!> <li class="svelte-94ovk9"><a class="button svelte-94ovk9"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-94ovk9">Account</span></a></li> <li class="svelte-94ovk9"><a class="button svelte-94ovk9"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-94ovk9">Import data</span></a></li> <li class="svelte-94ovk9"><a class="button svelte-94ovk9"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-94ovk9">Export data</span></a></li> <li class="svelte-94ovk9"><a class="button svelte-94ovk9"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-94ovk9">Clear storage</span></a></li> <li class="svelte-94ovk9"><a class="button svelte-94ovk9"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-94ovk9">About</span></a></li></ul> <div class="favicons svelte-94ovk9"><span class="faviconsLabel svelte-94ovk9">show favicons (use duckduckgo servers)</span> <!></div> <div class="hotkeys svelte-94ovk9"><div class="hotkey__head svelte-94ovk9">Hotkeys:</div> <div>New note: <span class="hotkey svelte-94ovk9">N</span></div> <div>Search notes: <span class="hotkey svelte-94ovk9">Ctrl/Cmd + K</span></div> <div>Open sidebar: <span class="hotkey svelte-94ovk9">Ctrl/Cmd + B</span></div> <div>Close window: <span class="hotkey svelte-94ovk9">Esc</span></div></div> <div class="version svelte-94ovk9"><!></div></div>');function hf(t,e){ae(e,!0);const{createHandlePage:n}=dt(),{setFaviconShown:a,getFaviconEnabled:s}=So();let o=R(s),i=V("");const l=async G=>{try{const D=await(await fetch("/build-metadata.json",{signal:G})).json();w(i,`${D.buildHash}`)}catch{console.error("Failed to load build metadata")}};ye(()=>{const G=new AbortController;return l(G.signal),()=>{G.abort()}});const c=G=>{a(G)};var u=vf(),d=b(u);of(d,{});var f=z(d,2),v=b(f);{var g=G=>{var se=df(),D=b(se),F=R(()=>n(q.Install));D.__click=function(...O){r(F)?.apply(this,O)};var S=b(D);ue(S,()=>({"--size":"28px"})),de(S.lastChild,{name:"install"}),ie(()=>Ce(D,"href",`/?stackPages=${q.Install}`)),_(G,se)};K(v,G=>{Uo()||G(g)})}var h=z(v,2),m=b(h),p=R(()=>n(q.Account));m.__click=function(...G){r(p)?.apply(this,G)};var P=b(m);ue(P,()=>({"--size":"28px"})),de(P.lastChild,{name:"account"});var x=z(h,2),y=b(x),C=R(()=>n(q.ImportData));y.__click=function(...G){r(C)?.apply(this,G)};var E=b(y);ue(E,()=>({"--size":"28px"})),de(E.lastChild,{name:"import"});var A=z(x,2),k=b(A),T=R(()=>n(q.ExportData));k.__click=function(...G){r(T)?.apply(this,G)};var L=b(k);ue(L,()=>({"--size":"28px"})),de(L.lastChild,{name:"export"});var Z=z(A,2),te=b(Z),H=R(()=>n(q.ClearStore));te.__click=function(...G){r(H)?.apply(this,G)};var Y=b(te);ue(Y,()=>({"--size":"28px"})),de(Y.lastChild,{name:"clear"});var U=z(Z,2),ne=b(U),le=R(()=>n(q.About));ne.__click=function(...G){r(le)?.apply(this,G)};var Q=b(ne);ue(Q,()=>({"--size":"28px"})),de(Q.lastChild,{name:"about"});var J=z(f,2),j=z(b(J),2);uf(j,{get checked(){return r(o)},onChange:c});var X=z(J,4),N=b(X);{var I=G=>{var se=ff(),D=b(se);ie(F=>Dt(D,`version: 0.0.29 build_date: "${F??""}" build_hash:
				${r(i)??""}`),[()=>new Date(1761360554418).toISOString().replaceAll("T"," ").replace(/\..*/,"")]),_(G,se)};K(N,G=>{r(i)&&G(I)})}ie(()=>{Ce(m,"href",`/?stackPages=${q.Account}`),Ce(y,"href",`/?stackPages=${q.ImportData}`),Ce(k,"href",`/?stackPages=${q.ExportData}`),Ce(te,"href",`/?stackPages=${q.ClearStore}`),Ce(ne,"href",`/?stackPages=${q.About}`)}),_(t,u),re()}qe(["click"]);const hs=(t,e=Ee,n=Ee,a)=>{let s=qa(()=>vi(a?.(),!1));var o=$(),i=B(o);{var l=u=>{Be(u,{children:(d,f)=>{hf(d,{})},$$slots:{default:!0}})},c=u=>{var d=$(),f=B(d);{var v=h=>{Be(h,{children:(m,p)=>{Ue(m,{get hidden(){return r(s)},get page(){return q.NewNote}})},$$slots:{default:!0}})},g=h=>{var m=$(),p=B(m);{var P=y=>{Be(y,{children:(C,E)=>{Ue(C,{get params(){return n()},get hidden(){return r(s)},get page(){return q.EditNote}})},$$slots:{default:!0}})},x=y=>{var C=$(),E=B(C);{var A=T=>{Be(T,{children:(L,Z)=>{Ue(L,{get hidden(){return r(s)},get page(){return q.ImportData}})},$$slots:{default:!0}})},k=T=>{var L=$(),Z=B(L);{var te=Y=>{Be(Y,{children:(U,ne)=>{Ue(U,{get hidden(){return r(s)},get page(){return q.ExportData}})},$$slots:{default:!0}})},H=Y=>{var U=$(),ne=B(U);{var le=J=>{Be(J,{children:(j,X)=>{Ue(j,{get hidden(){return r(s)},get page(){return q.ClearStore}})},$$slots:{default:!0}})},Q=J=>{var j=$(),X=B(j);{var N=G=>{Be(G,{children:(se,D)=>{Ue(se,{get hidden(){return r(s)},get page(){return q.AccountSetup}})},$$slots:{default:!0}})},I=G=>{var se=$(),D=B(se);{var F=O=>{Be(O,{children:(oe,be)=>{Ue(oe,{get hidden(){return r(s)},get page(){return q.Install}})},$$slots:{default:!0}})},S=O=>{var oe=$(),be=B(oe);{var pe=ee=>{Be(ee,{children:(Pe,Ie)=>{Ue(Pe,{get hidden(){return r(s)},get page(){return q.InstallSuccess}})},$$slots:{default:!0}})},Le=ee=>{var Pe=$(),Ie=B(Pe);{var Re=Se=>{Be(Se,{children:(xe,et)=>{rf(xe,{})},$$slots:{default:!0}})},ve=Se=>{var xe=$(),et=B(xe);{var ze=tt=>{Be(tt,{children:(qt,bt)=>{Ue(qt,{get hidden(){return r(s)},get page(){return q.Auth}})},$$slots:{default:!0}})},Ge=tt=>{var qt=$(),bt=B(qt);{var ga=Pn=>{Be(Pn,{children:(pa,Hr)=>{Ue(pa,{get hidden(){return r(s)},get page(){return q.Signup}})},$$slots:{default:!0}})},ea=Pn=>{var pa=$(),Hr=B(pa);{var Vo=xn=>{Be(xn,{children:(_a,jr)=>{Ue(_a,{get hidden(){return r(s)},get page(){return q.Signin}})},$$slots:{default:!0}})},Wo=xn=>{var _a=$(),jr=B(_a);{var qo=Tn=>{Be(Tn,{children:(ma,Ur)=>{Ue(ma,{get hidden(){return r(s)},get page(){return q.AccessKeys}})},$$slots:{default:!0}})},Ko=Tn=>{var ma=$(),Ur=B(ma);{var Yo=An=>{Be(An,{children:(wa,Vr)=>{Ue(wa,{get hidden(){return r(s)},get page(){return q.Account}})},$$slots:{default:!0}})},Xo=An=>{var wa=$(),Vr=B(wa);{var Go=Dn=>{Be(Dn,{children:(ya,Wr)=>{Ue(ya,{get hidden(){return r(s)},get page(){return q.ConfirmAccessKey}})},$$slots:{default:!0}})},Zo=Dn=>{var ya=$(),Wr=B(ya);{var Jo=Nn=>{Be(Nn,{children:(ba,qr)=>{Ue(ba,{get hidden(){return r(s)},get page(){return q.Exit}})},$$slots:{default:!0}})},Qo=Nn=>{var ba=$(),qr=B(ba);{var $o=Ln=>{Be(Ln,{children:(Sa,Kr)=>{Ue(Sa,{get hidden(){return r(s)},get page(){return q.Sync}})},$$slots:{default:!0}})},ei=Ln=>{var Sa=$(),Kr=B(Sa);{var ti=Mn=>{Be(Mn,{children:(ka,Yr)=>{Ue(ka,{get hidden(){return r(s)},get page(){return q.Subscription}})},$$slots:{default:!0}})},ni=Mn=>{var ka=$(),Yr=B(ka);{var ai=In=>{Be(In,{children:(er,si)=>{Ue(er,{get hidden(){return r(s)},get page(){return q.About}})},$$slots:{default:!0}})},ri=In=>{Be(In,{children:(er,si)=>{Ou(er,{})},$$slots:{default:!0}})};K(Yr,In=>{e()===q.About?In(ai):In(ri,!1)},!0)}_(Mn,ka)};K(Kr,Mn=>{e()===q.Subscription?Mn(ti):Mn(ni,!1)},!0)}_(Ln,Sa)};K(qr,Ln=>{e()===q.Sync?Ln($o):Ln(ei,!1)},!0)}_(Nn,ba)};K(Wr,Nn=>{e()===q.Exit?Nn(Jo):Nn(Qo,!1)},!0)}_(Dn,ya)};K(Vr,Dn=>{e()===q.ConfirmAccessKey?Dn(Go):Dn(Zo,!1)},!0)}_(An,wa)};K(Ur,An=>{e()===q.Account?An(Yo):An(Xo,!1)},!0)}_(Tn,ma)};K(jr,Tn=>{e()===q.AccessKeys?Tn(qo):Tn(Ko,!1)},!0)}_(xn,_a)};K(Hr,xn=>{e()===q.Signin?xn(Vo):xn(Wo,!1)},!0)}_(Pn,pa)};K(bt,Pn=>{e()===q.Signup?Pn(ga):Pn(ea,!1)},!0)}_(tt,qt)};K(et,tt=>{e()===q.Auth?tt(ze):tt(Ge,!1)},!0)}_(Se,xe)};K(Ie,Se=>{e()===q.Wellcome?Se(Re):Se(ve,!1)},!0)}_(ee,Pe)};K(be,ee=>{e()===q.InstallSuccess?ee(pe):ee(Le,!1)},!0)}_(O,oe)};K(D,O=>{e()===q.Install?O(F):O(S,!1)},!0)}_(G,se)};K(X,G=>{e()===q.AccountSetup?G(N):G(I,!1)},!0)}_(J,j)};K(ne,J=>{e()===q.ClearStore?J(le):J(Q,!1)},!0)}_(Y,U)};K(Z,Y=>{e()===q.ExportData?Y(te):Y(H,!1)},!0)}_(T,L)};K(E,T=>{e()===q.ImportData?T(A):T(k,!1)},!0)}_(y,C)};K(p,y=>{e()===q.EditNote?y(P):y(x,!1)},!0)}_(h,m)};K(f,h=>{e()===q.NewNote?h(v):h(g,!1)},!0)}_(u,d)};K(i,u=>{e()===q.Settings?u(l):u(c,!1)})}_(t,o)};var gf=W("<!> <!>",1);function pf(t,e){ae(e,!0);const{getStackPages:n}=dt(),{getAccount:a}=Eo();let s=R(n),o=R(()=>a()!==void 0);const{checkMobileSize:i}=rn();let l=V(Oe([]));const c=R(i);Te(()=>{r(s),r(c),it(()=>{if(r(c))r(s).length>=r(l).length?w(l,r(s).map(p=>({page:p,shown:!0})),!0):w(l,r(l).map((p,P)=>({page:p.page,shown:P<r(s).length})),!0);else if(r(s).length>=r(l).length)w(l,r(s).map(p=>({page:p,shown:!0})),!0);else{if(r(s).length===0){w(l,[{page:r(l)[r(l).length-1].page,shown:!1}],!0);return}w(l,r(s).map(p=>({page:p,shown:!0})),!0)}})});const u=()=>{w(l,r(s).map(p=>({page:p,shown:!0})),!0)};var d=gf(),f=B(d);{var v=p=>{ef(p,{})};K(f,p=>{r(o)&&p(v)})}var g=z(f,2);{var h=p=>{var P=$(),x=B(P);Za(x,19,()=>r(l),y=>y.page,(y,C,E)=>{const A=R(()=>r(C).page.split("?")[1]),k=R(()=>r(C).page.split("?")[0]);{let T=R(()=>r(E)!==r(l).length-1&&!!r(l)[r(E)+1]?.shown),L=R(()=>r(E)===0);us(y,{onClosed:u,get shown(){return r(C).shown},get hidden(){return r(T)},get isLastDialog(){return r(L)},children:(Z,te)=>{{let H=R(()=>r(E)!==r(l).length-1&&!!r(l)[r(E)+1]?.shown);hs(Z,()=>r(k),()=>r(A),()=>r(H))}},$$slots:{default:!0}})}}),_(p,P)},m=p=>{var P=$(),x=B(P);{var y=C=>{const E=R(()=>r(l)[r(l).length-1].page.split("?")[1]),A=R(()=>r(l)[r(l).length-1].page.split("?")[0]);{let k=R(()=>r(l).length===1);us(C,{onClosed:u,get shown(){return r(l)[r(l).length-1].shown},hidden:!1,get isLastDialog(){return r(k)},children:(T,L)=>{hs(T,()=>r(A),()=>r(E))},$$slots:{default:!0}})}};K(x,C=>{r(l).length>0&&C(y)},!0)}_(p,P)};K(g,p=>{i()?p(h):p(m,!1)})}_(t,d),re()}function _f(t,e){ae(e,!1);let n=0;ye(()=>{document.addEventListener("touchstart",a=>{n=a.touches[0].clientX},{passive:!1}),document.addEventListener("touchmove",a=>{const o=a.touches[0].clientX-n;(n<30&&o>0||n>window.innerWidth-30&&o<0)&&a.preventDefault()},{passive:!1}),document.addEventListener("touchend",()=>{n=0}),document.addEventListener("touchcancel",()=>{n=0})}),Ja(),re()}const mf=(t,e)=>{r(e)&&r(e).scrollTo({top:0})};var wf=W('<div><button class="buttonTop svelte-1n46o8q"><!> <span class="icon svelte-1n46o8q"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></span></button></div>'),yf=W('<!> <!> <main><div class="wrapperHeader svelte-1n46o8q"><!></div> <div class="container svelte-1n46o8q"><!></div></main> <!>',1);function bf(t,e){ae(e,!0);const{navigate:n}=Mt(),{hasStackPage:a}=dt(),{setScrollContainer:s}=Br(),{getAccount:o,init:i}=Eo(),{isInitedNotes:l}=En(),{getStackPagesFormUrl:c}=dt(),{createBroadcastChannel:u,tabId:d}=Cn(),f=u(),{getSidebarState:v}=Qa(),{setClosableDialog:g}=sn(),h=()=>{n("/?stackPages=wellcome")};ye(()=>{i(I=>{I===void 0?h():((a("wellcome")||a("accountSetup"))&&n("/"),I?w(y,I):w(y,null))});const N=async I=>{const G=JSON.parse(I.data);if(G.tabId&&G.tabId===d)return;const se=G;se.type==="initLocalAccount"||se.type==="initCloudAccount"||se.type==="updateAccount"||se.type==="disconnectCloudAccount"?n("/"):se.type==="exit"&&(n("/"),setTimeout(()=>{h()}))};return f.addEventListener(N),()=>f.removeEventListener(N)});const m=an();ye(async()=>{await new Promise(N=>setTimeout(N,100)),await to(),m.working=!0});let p=V(!1),P=0,x=R(()=>c().length>0),y=R(o),C=R(l),E=V(null);Te(()=>{g(r(y)!==void 0)}),Te(()=>{s(r(E))});const A=()=>{if(r(E)){const N=r(E).scrollTop||0;N===0?w(p,!1):!r(p)&&P>N?w(p,!0):r(p)&&P+50<N&&w(p,!1),P=N}},k=()=>{A()};Te(()=>(r(E)?.addEventListener("scroll",k),window.addEventListener("resize",k),()=>{r(E)?.removeEventListener("scroll",k),window.removeEventListener("resize",k)}));const T=R(v);var L=yf(),Z=B(L);_f(Z,{});var te=z(Z,2);Hc(te,{});var H=z(te,2),Y=b(H),U=b(Y);{var ne=N=>{pu(N,{})};K(U,N=>{r(y)!==void 0&&N(ne)})}var le=z(Y,2),Q=b(le);{var J=N=>{pf(N,{})};K(Q,N=>{r(C)&&N(J)})}ot(H,N=>w(E,N),()=>r(E));var j=z(H,2);{var X=N=>{var I=wf(),G=b(I);G.__click=[mf,E];var se=b(G);Xe(se,{children:(S,O)=>{var oe=Me("top");_(S,oe)}});var D=z(se,2),F=b(D);ue(F,()=>({"--rotate":"90deg","--size":"28px"})),de(F.lastChild,{name:"back"}),ie(()=>{yn(I,`--swiping-ratio: ${m.swipingRatio}; --transition-timing-default: ${m.duration}s;`),ge(I,1,he(["wrapperButtonTop",{isAnimationOn:m.working&&!m.isSwiping,open:r(x)||r(T).type!=="closed"}]),"svelte-1n46o8q")}),_(N,I)};K(j,N=>{r(p)&&N(X)})}ie(()=>{yn(H,`--swiping-ratio: ${m.swipingRatio}; --transition-timing-default: ${m.duration}s;`),ge(H,1,he(["main",{isAnimationOn:m.working&&!m.isSwiping,open:r(x)||r(T).type!=="closed"}]),"svelte-1n46o8q")}),_(t,L),re()}qe(["click"]);function Sf(t){Oc(t,{children:(e,n)=>{bf(e,{})}})}window.addEventListener("unhandledrejection",t=>{alert("Error: "+t.reason.message)});window.isUnsupportedBrowser||Sl(Sf,{target:document.getElementById("app")});export{Eo as A,Qt as B,Ja as C,En as D,Lr as E,Ef as F,fe as G,nf as H,de as I,ge as J,he as K,zo as L,rr as M,Da as N,yn as O,q as P,rn as Q,cc as R,uf as S,ot as T,Pf as U,Xe as V,Fo as W,ad as X,Bl as Y,ue as a,Ce as b,b as c,_ as d,Za as e,W as f,r as g,dt as h,sn as i,V as j,Oe as k,w as l,K as m,re as n,ye as o,ae as p,$ as q,B as r,z as s,ie as t,Te as u,qe as v,Me as w,Dt as x,R as y,Mt as z};
