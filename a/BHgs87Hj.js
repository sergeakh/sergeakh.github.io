import{p as ge,h as _e,z as me,A as he,i as be,o as we,u as Ae,g as k,j as N,f as u,m as l,c as H,d as e,n as Pe,l as I,r as i,H as Y,w as m,s as C,B,q as f,P as Se,L as xe}from"./CDpWjAHY.js";const E=()=>window.installPrompt;function ke(){const s=navigator.userAgent,y=/iPad|iPhone|iPod/.test(s);return y?!!y:!1}const Q=()=>{const s=navigator.userAgent;return/android/i.test(s)},Ce=()=>{const s=navigator.userAgent;return/chrome|crios/i.test(s)&&!/edge|edgios|edga/i.test(s)},T=()=>{const s=navigator.userAgent;return!!(/Safari/.test(s)&&!/Chrome/.test(s)&&!/CriOS/.test(s)&&!/FxiOS/.test(s))};var ye=u('<p class="message svelte-1uagzbf">App is already installed.</p>'),$e=u('<p class="message svelte-1uagzbf">For install app, select the share button and select "Add to Home Screen".</p>'),ze=u('<p class="message svelte-1uagzbf">Install app available on Safari.</p>'),Ie=u(`<p class="message svelte-1uagzbf">From the menu bar, choose File > Add to Dock. Or click the Share button in the Safari
				toolbar, then choose Add to Dock.</p>`),Be=u(`<p class="message svelte-1uagzbf">App is already installed or installation is not supported in this browser. use Chrome,
				Brave, Edge.</p>`),Fe=u('<p class="message svelte-1uagzbf">For better experience, install app from Chrome.</p>'),Oe=u(`<!> <p class="message svelte-1uagzbf">You can install app to have a better experience and more reliable storage or you can use it in
			your browser and install later.</p> <!> <div class="container svelte-1uagzbf"><!> <!></div>`,1),We=u('<!> <div class="loader svelte-1uagzbf"><!></div>',1),De=u('<!> <div class="container svelte-1uagzbf"><!> <!></div>',1),He=u('<div class="block svelte-1uagzbf"><!></div>');function Le(s,y){ge(y,!0);const{pushStackPages:U,clearStackPages:V}=_e(),{navigate:X}=me(),{getAccount:Z}=he(),{blockDialog:ee}=be();let h=N("success"),F=N(!1);const ae=async()=>{if("getInstalledRelatedApps"in navigator){const r=await navigator.getInstalledRelatedApps();console.log("relatedApps",r),I(F,r.some(c=>c.platform==="webapp"),!0)}},te=()=>{Z()===void 0?U(Se.AccountSetup):V()},G=()=>{te()},re=async()=>{const r=E();try{r&&(I(h,"installing"),"onappinstalled"in window&&window.addEventListener("appinstalled",()=>{I(h,"success"),I(F,!0),Q()||X("/?stackPages=installSuccess")}),await r.prompt(),r.userChoice?.then(c=>{c.outcome==="accepted"?window.installPrompt=null:I(h,"idle")}))}catch(c){console.error("Error during install prompt:",c)}};we(()=>{ae()}),Ae(()=>{ee(k(h)==="installing")});var J=He(),se=H(J);{var oe=r=>{var c=Oe(),O=i(c);Y(O,{children:(a,t)=>{var v=m("install app");e(a,v)}});var W=C(O,4);{var L=a=>{var t=ye();e(a,t)},g=a=>{var t=f(),v=i(t);{var P=d=>{var n=f(),z=i(n);{var R=o=>{var _=$e();e(o,_)},j=o=>{var _=ze();e(o,_)};l(z,o=>{T()?o(R):o(j,!1)})}e(d,n)},p=d=>{var n=f(),z=i(n);{var R=o=>{var _=Ie();e(o,_)},j=o=>{var _=f(),le=i(_);{var ie=x=>{var D=Be();e(x,D)},ce=x=>{var D=f(),ve=i(D);{var pe=q=>{var K=f(),de=i(K);{var ue=M=>{var fe=Fe();e(M,fe)};l(de,M=>{!Ce()&&E()&&M(ue)})}e(q,K)};l(ve,q=>{Q()&&q(pe)},!0)}e(x,D)};l(le,x=>{E()?x(ce,!1):x(ie)},!0)}e(o,_)};l(z,o=>{T()?o(R):o(j,!1)},!0)}e(d,n)};l(v,d=>{ke()?d(P):d(p,!1)},!0)}e(a,t)};l(W,a=>{k(F)?a(L):a(g,!1)})}var b=C(W,2),w=H(b);{var $=a=>{B(a,{onClick:re,fullWidth:!0,children:(t,v)=>{var P=m("install web app");e(t,P)},$$slots:{default:!0}})},A=a=>{var t=f(),v=i(t);{var P=p=>{B(p,{element:"a",target:"_blank",rel:"noopener noreferrer",href:`${window.location.origin}`,fullWidth:!0,children:(d,n)=>{var z=m("open app");e(d,z)},$$slots:{default:!0}})};l(v,p=>{k(F)&&p(P)},!0)}e(a,t)};l(w,a=>{E()?a($):a(A,!1)})}var S=C(w,2);B(S,{onClick:G,fullWidth:!0,type:"secondary",children:(a,t)=>{var v=m("continue in browser");e(a,v)},$$slots:{default:!0}}),e(r,c)},ne=r=>{var c=f(),O=i(c);{var W=g=>{var b=We(),w=i(b);Y(w,{children:(S,a)=>{var t=m("installing app...");e(S,t)}});var $=C(w,2),A=H($);xe(A,{}),e(g,b)},L=g=>{var b=f(),w=i(b);{var $=A=>{var S=De(),a=i(S);Y(a,{children:(p,d)=>{var n=m("app installed successfully!");e(p,n)}});var t=C(a,2),v=H(t);B(v,{element:"a",target:"_blank",rel:"noopener noreferrer",href:`${window.location.origin}`,fullWidth:!0,children:(p,d)=>{var n=m("open app");e(p,n)},$$slots:{default:!0}});var P=C(v,2);B(P,{onClick:G,fullWidth:!0,type:"secondary",children:(p,d)=>{var n=m("continue in browser");e(p,n)},$$slots:{default:!0}}),e(A,S)};l(w,A=>{k(h)==="success"&&A($)},!0)}e(g,b)};l(O,g=>{k(h)==="installing"?g(W):g(L,!1)},!0)}e(r,c)};l(se,r=>{k(h)==="idle"?r(oe):r(ne,!1)})}e(s,J),Pe()}export{Le as default};
