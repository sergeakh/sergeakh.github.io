const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["a/Cc_C0hMu.js","a/BAW-HnOs.css","a/CQZEKcSX.js","a/9q_jSmK4.js","a/BEGDcNQV.js","a/Df0fAQHq.css","a/CfksNsXO.js","a/GKJynjgv.css","a/CEXSFBCm.js","a/BMjxyC5e.css","a/tIfsuMq5.js","a/DgPIJwnn.css","a/CVVIZ9wO.js","a/B_UsPGEu.css","a/DScxp1ff.js","a/Cpa8lgv9.js","a/RdnXtMIu.js","a/j0KFa_-O.css","a/hu7yjlv8.css","a/d6G-PTev.js","a/COmJR9Fj.js","a/32H9feC1.js","a/EZ_l8VDb.css","a/B_Zcg-eh.css","a/HOTUjnfJ.css","a/BgfAJi1k.js","a/Bs6Vrlio.css","a/D1eglndR.js","a/B4hIXq8_.css","a/gkM29rSD.js","a/Dv0LbEl0.css","a/B1zb9yBJ.js","a/B-qfT0BU.css","a/DIG4cCKt.js","a/CwmelK06.js","a/DaxC3cdO.css","a/-fZo9auU.js","a/Bib31qW-.css","a/DEoUWNck.js","a/Br15UghP.css","a/5QDHV44a.js","a/CTzb1Nvm.css"])))=>i.map(i=>d[i]);
var Qs=Object.defineProperty;var Va=t=>{throw TypeError(t)};var $s=(t,e,n)=>e in t?Qs(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var it=(t,e,n)=>$s(t,typeof e!="symbol"?e+"":e,n),Zr=(t,e,n)=>e.has(t)||Va("Cannot "+n);var L=(t,e,n)=>(Zr(t,e,"read from private field"),n?n.call(t):e.get(t)),Se=(t,e,n)=>e.has(t)?Va("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ce=(t,e,n,r)=>(Zr(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),ze=(t,e,n)=>(Zr(t,e,"access private method"),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();const fo=!1;var ma=Array.isArray,ei=Array.prototype.indexOf,wa=Array.from,ra=Object.defineProperty,Nn=Object.getOwnPropertyDescriptor,vo=Object.getOwnPropertyDescriptors,ti=Object.prototype,ni=Array.prototype,ya=Object.getPrototypeOf,qa=Object.isExtensible;const xe=()=>{};function ri(t){return typeof t?.then=="function"}function ai(t){return t()}function aa(t){for(var e=0;e<t.length;e++)t[e]()}function ho(){var t,e,n=new Promise((r,o)=>{t=r,e=o});return{promise:n,resolve:t,reject:e}}function oi(t,e,n=!1){return t===void 0?n?e():e:t}const Ze=2,ba=4,Or=8,gn=16,Ft=32,pn=64,Sa=128,dt=256,Ar=512,Ye=1024,at=2048,Xt=4096,wt=8192,_n=16384,ka=32768,qn=65536,Wa=1<<17,si=1<<18,Wn=1<<19,go=1<<20,oa=1<<21,Ca=1<<22,cn=1<<23,un=Symbol("$state"),ii=Symbol("legacy props"),li=Symbol(""),Tn=new class extends Error{constructor(){super(...arguments);it(this,"name","StaleReactionError");it(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function po(t){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function ci(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function ui(t){throw new Error("https://svelte.dev/e/effect_in_teardown")}function di(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function fi(t){throw new Error("https://svelte.dev/e/effect_orphan")}function vi(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function hi(t){throw new Error("https://svelte.dev/e/props_invalid_value")}function gi(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function pi(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function _i(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function mi(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const Br=1,Rr=2,_o=4,wi=8,yi=16,bi=1,Si=2,ki=4,Ci=8,Ei=16,xi=1,Pi=2,Ve=Symbol(),Ai="http://www.w3.org/1999/xhtml";let Di=!1;function mo(t){return t===this.v}function Ti(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function wo(t){return!Ti(t,this.v)}let Yn=!1,Ni=!1;function Li(){Yn=!0}let Pe=null;function zn(t){Pe=t}function Re(t){return yo().get(t)}function Fe(t,e){return yo().set(t,e),e}function $(t,e=!1,n){Pe={p:Pe,c:null,e:null,s:t,x:null,l:Yn&&!e?{s:null,u:null,$:[]}:null}}function ee(t){var e=Pe,n=e.e;if(n!==null){e.e=null;for(var r of n)Fo(r)}return t!==void 0&&(e.x=t),Pe=e.p,t??{}}function Kn(){return!Yn||Pe!==null&&Pe.l===null}function yo(t){return Pe===null&&po(),Pe.c??(Pe.c=new Map(Mi(Pe)||void 0))}function Mi(t){let e=t.p;for(;e!==null;){const n=e.c;if(n!==null)return n;e=e.p}return null}let nn=[];function bo(){var t=nn;nn=[],aa(t)}function Kt(t){if(nn.length===0&&!Ln){var e=nn;queueMicrotask(()=>{e===nn&&bo()})}nn.push(t)}function Ii(){for(;nn.length>0;)bo()}const Oi=new WeakMap;function So(t){var e=me;if(e===null)return he.f|=cn,t;if((e.f&ka)===0){if((e.f&Sa)===0)throw!e.parent&&t instanceof Error&&ko(t),t;e.b.error(t)}else Hn(t,e)}function Hn(t,e){for(;e!==null;){if((e.f&Sa)!==0)try{e.b.error(t);return}catch(n){t=n}e=e.parent}throw t instanceof Error&&ko(t),t}function ko(t){const e=Oi.get(t);e&&(ra(t,"message",{value:e.message}),ra(t,"stack",{value:e.stack}))}const wr=new Set;let Te=null,Sr=null,_t=null,sa=new Set,Pt=[],Fr=null,ia=!1,Ln=!1;var On,Bn,rn,ar,Rn,an,Fn,or,sr,ft,la,kr,ca;const Lr=class Lr{constructor(){Se(this,ft);it(this,"current",new Map);Se(this,On,new Map);Se(this,Bn,new Set);Se(this,rn,0);Se(this,ar,null);Se(this,Rn,[]);Se(this,an,[]);Se(this,Fn,[]);Se(this,or,[]);Se(this,sr,[]);it(this,"skipped_effects",new Set)}process(e){Pt=[],Sr=null,this.apply();for(const s of e)ze(this,ft,la).call(this,s);if(L(this,rn)===0){var n=_t;ze(this,ft,ca).call(this);var r=L(this,Rn),o=L(this,an);ce(this,Rn,[]),ce(this,an,[]),ce(this,Fn,[]),Sr=this,Te=null,_t=n,Ya(r),Ya(o),Sr=null,L(this,ar)?.resolve()}else ze(this,ft,kr).call(this,L(this,Rn)),ze(this,ft,kr).call(this,L(this,an)),ze(this,ft,kr).call(this,L(this,Fn));_t=null}capture(e,n){L(this,On).has(e)||L(this,On).set(e,n),this.current.set(e,e.v),_t?.set(e,e.v)}activate(){Te=this}deactivate(){Te=null,_t=null}flush(){if(Pt.length>0){if(this.activate(),Eo(),Te!==null&&Te!==this)return}else L(this,rn)===0&&ze(this,ft,ca).call(this);this.deactivate();for(const e of sa)if(sa.delete(e),e(),Te!==null)break}increment(){ce(this,rn,L(this,rn)+1)}decrement(){ce(this,rn,L(this,rn)-1);for(const e of L(this,or))Xe(e,at),vn(e);for(const e of L(this,sr))Xe(e,Xt),vn(e);this.flush()}add_callback(e){L(this,Bn).add(e)}settled(){return(L(this,ar)??ce(this,ar,ho())).promise}static ensure(){if(Te===null){const e=Te=new Lr;wr.add(Te),Ln||Lr.enqueue(()=>{Te===e&&e.flush()})}return Te}static enqueue(e){Kt(e)}apply(){}};On=new WeakMap,Bn=new WeakMap,rn=new WeakMap,ar=new WeakMap,Rn=new WeakMap,an=new WeakMap,Fn=new WeakMap,or=new WeakMap,sr=new WeakMap,ft=new WeakSet,la=function(e){e.f^=Ye;for(var n=e.first;n!==null;){var r=n.f,o=(r&(Ft|pn))!==0,s=o&&(r&Ye)!==0,i=s||(r&wt)!==0||this.skipped_effects.has(n);if(!i&&n.fn!==null){o?n.f^=Ye:(r&ba)!==0?L(this,an).push(n):Ur(n)&&((n.f&gn)!==0&&L(this,Fn).push(n),Nr(n));var l=n.first;if(l!==null){n=l;continue}}var c=n.parent;for(n=n.next;n===null&&c!==null;)n=c.next,c=c.parent}},kr=function(e){for(const n of e)((n.f&at)!==0?L(this,or):L(this,sr)).push(n),Xe(n,Ye);e.length=0},ca=function(){var e;for(const n of L(this,Bn))n();if(L(this,Bn).clear(),wr.size>1){L(this,On).clear();let n=!0;for(const r of wr){if(r===this){n=!1;continue}const o=[];for(const[i,l]of this.current){if(r.current.has(i))if(n&&l!==r.current.get(i))r.current.set(i,l);else continue;o.push(i)}if(o.length===0)continue;const s=[...r.current.keys()].filter(i=>!this.current.has(i));if(s.length>0){for(const i of o)xo(i,s);if(Pt.length>0){Te=r,r.apply();for(const i of Pt)ze(e=r,ft,la).call(e,i);Pt=[],r.deactivate()}}}Te=null}wr.delete(this)};let Mt=Lr;function Co(t){var e=Ln;Ln=!0;try{for(var n;;){if(Ii(),Pt.length===0&&(Te?.flush(),Pt.length===0))return Fr=null,n;Eo()}}finally{Ln=e}}function Eo(){var t=In;ia=!0;try{var e=0;for(Ga(!0);Pt.length>0;){var n=Mt.ensure();if(e++>1e3){var r,o;Bi()}n.process(Pt),Wt.clear()}}finally{ia=!1,Ga(t),Fr=null}}function Bi(){try{vi()}catch(t){Hn(t,Fr)}}let en=null;function Ya(t){var e=t.length;if(e!==0){for(var n=0;n<e;){var r=t[n++];if((r.f&(_n|wt))===0&&Ur(r)&&(en=[],Nr(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?jo(r):r.fn=null),en?.length>0)){Wt.clear();for(const o of en)Nr(o);en=[]}}en=null}}function xo(t,e){if(t.reactions!==null)for(const n of t.reactions){const r=n.f;(r&Ze)!==0?xo(n,e):(r&(Ca|gn))!==0&&Po(n,e)&&(Xe(n,at),vn(n))}}function Po(t,e){if(t.deps!==null){for(const n of t.deps)if(e.includes(n)||(n.f&Ze)!==0&&Po(n,e))return!0}return!1}function vn(t){for(var e=Fr=t;e.parent!==null;){e=e.parent;var n=e.f;if(ia&&e===me&&(n&gn)!==0)return;if((n&(pn|Ft))!==0){if((n&Ye)===0)return;e.f^=Ye}}Pt.push(e)}function Ri(t){let e=0,n=Rt(0),r;return()=>{Ji()&&(a(n),jr(()=>(e===0&&(r=vt(()=>t(()=>er(n)))),e+=1,()=>{Kt(()=>{e-=1,e===0&&(r?.(),r=void 0,er(n))})})))}}var Fi=qn|Wn|Sa;function zi(t,e,n){new Hi(t,e,n)}var ht,ct,_a,kt,on,Ct,ut,et,Et,jt,sn,Ut,ln,Vt,Mr,Ir,Ge,ji,Ui,Cr,Er,ua;class Hi{constructor(e,n,r){Se(this,Ge);it(this,"parent");Se(this,ht,!1);Se(this,ct);Se(this,_a,null);Se(this,kt);Se(this,on);Se(this,Ct);Se(this,ut,null);Se(this,et,null);Se(this,Et,null);Se(this,jt,null);Se(this,sn,0);Se(this,Ut,0);Se(this,ln,!1);Se(this,Vt,null);Se(this,Mr,()=>{L(this,Vt)&&It(L(this,Vt),L(this,sn))});Se(this,Ir,Ri(()=>(ce(this,Vt,Rt(L(this,sn))),()=>{ce(this,Vt,null)})));ce(this,ct,e),ce(this,kt,n),ce(this,on,r),this.parent=me.b,ce(this,ht,!!L(this,kt).pending),ce(this,Ct,Xn(()=>{me.b=this;{try{ce(this,ut,pt(()=>r(L(this,ct))))}catch(o){this.error(o)}L(this,Ut)>0?ze(this,Ge,Er).call(this):ce(this,ht,!1)}},Fi))}is_pending(){return L(this,ht)||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!L(this,kt).pending}update_pending_count(e){ze(this,Ge,ua).call(this,e),ce(this,sn,L(this,sn)+e),sa.add(L(this,Mr))}get_effect_pending(){return L(this,Ir).call(this),a(L(this,Vt))}error(e){var n=L(this,kt).onerror;let r=L(this,kt).failed;if(L(this,ln)||!n&&!r)throw e;L(this,ut)&&(nt(L(this,ut)),ce(this,ut,null)),L(this,et)&&(nt(L(this,et)),ce(this,et,null)),L(this,Et)&&(nt(L(this,Et)),ce(this,Et,null));var o=!1,s=!1;const i=()=>{if(o){return}o=!0,s&&mi(),Mt.ensure(),ce(this,sn,0),L(this,Et)!==null&&Mn(L(this,Et),()=>{ce(this,Et,null)}),ce(this,ht,this.has_pending_snippet()),ce(this,ut,ze(this,Ge,Cr).call(this,()=>(ce(this,ln,!1),pt(()=>L(this,on).call(this,L(this,ct)))))),L(this,Ut)>0?ze(this,Ge,Er).call(this):ce(this,ht,!1)};var l=he;try{tt(null),s=!0,n?.(e,i),s=!1}catch(c){Hn(c,L(this,Ct)&&L(this,Ct).parent)}finally{tt(l)}r&&Kt(()=>{ce(this,Et,ze(this,Ge,Cr).call(this,()=>{ce(this,ln,!0);try{return pt(()=>{r(L(this,ct),()=>e,()=>i)})}catch(c){return Hn(c,L(this,Ct).parent),null}finally{ce(this,ln,!1)}}))})}}ht=new WeakMap,ct=new WeakMap,_a=new WeakMap,kt=new WeakMap,on=new WeakMap,Ct=new WeakMap,ut=new WeakMap,et=new WeakMap,Et=new WeakMap,jt=new WeakMap,sn=new WeakMap,Ut=new WeakMap,ln=new WeakMap,Vt=new WeakMap,Mr=new WeakMap,Ir=new WeakMap,Ge=new WeakSet,ji=function(){try{ce(this,ut,pt(()=>L(this,on).call(this,L(this,ct))))}catch(e){this.error(e)}ce(this,ht,!1)},Ui=function(){const e=L(this,kt).pending;e&&(ce(this,et,pt(()=>e(L(this,ct)))),Mt.enqueue(()=>{ce(this,ut,ze(this,Ge,Cr).call(this,()=>(Mt.ensure(),pt(()=>L(this,on).call(this,L(this,ct)))))),L(this,Ut)>0?ze(this,Ge,Er).call(this):(Mn(L(this,et),()=>{ce(this,et,null)}),ce(this,ht,!1))}))},Cr=function(e){var n=me,r=he,o=Pe;At(L(this,Ct)),tt(L(this,Ct)),zn(L(this,Ct).ctx);try{return e()}catch(s){return So(s),null}finally{At(n),tt(r),zn(o)}},Er=function(){const e=L(this,kt).pending;L(this,ut)!==null&&(ce(this,jt,document.createDocumentFragment()),qo(L(this,ut),L(this,jt))),L(this,et)===null&&ce(this,et,pt(()=>e(L(this,ct))))},ua=function(e){var n;if(!this.has_pending_snippet()){this.parent&&ze(n=this.parent,Ge,ua).call(n,e);return}ce(this,Ut,L(this,Ut)+e),L(this,Ut)===0&&(ce(this,ht,!1),L(this,et)&&Mn(L(this,et),()=>{ce(this,et,null)}),L(this,jt)&&(L(this,ct).before(L(this,jt)),ce(this,jt,null)),Kt(()=>{Mt.ensure().flush()}))};function Vi(t,e,n){const r=Kn()?cr:zr;if(e.length===0){n(t.map(r));return}var o=Te,s=me,i=Ao();Promise.all(e.map(l=>qi(l))).then(l=>{i();try{n([...t.map(r),...l])}catch(c){(s.f&_n)===0&&Hn(c,s)}o?.deactivate(),Dr()}).catch(l=>{Hn(l,s)})}function Ao(){var t=me,e=he,n=Pe,r=Te;return function(){At(t),tt(e),zn(n),r?.activate()}}function Dr(){At(null),tt(null),zn(null)}function cr(t){var e=Ze|at,n=he!==null&&(he.f&Ze)!==0?he:null;return me===null||n!==null&&(n.f&dt)!==0?e|=dt:me.f|=Wn,{ctx:Pe,deps:null,effects:null,equals:mo,f:e,fn:t,reactions:null,rv:0,v:Ve,wv:0,parent:n??me,ac:null}}function qi(t,e){let n=me;n===null&&ci();var r=n.b,o=void 0,s=Rt(Ve),i=!he,l=new Map;return tl(()=>{var c=ho();o=c.promise;try{Promise.resolve(t()).then(c.resolve,c.reject).then(Dr)}catch(v){c.reject(v),Dr()}var u=Te,d=r.is_pending();i&&(r.update_pending_count(1),d||(u.increment(),l.get(u)?.reject(Tn),l.delete(u),l.set(u,c)));const f=(v,p=void 0)=>{if(d||u.activate(),p)p!==Tn&&(s.f|=cn,It(s,p));else{(s.f&cn)!==0&&(s.f^=cn),It(s,v);for(const[h,g]of l){if(l.delete(h),h===u)break;g.reject(Tn)}}i&&(r.update_pending_count(-1),d||u.decrement())};c.promise.then(f,v=>f(null,v||"unknown"))}),Ro(()=>{for(const c of l.values())c.reject(Tn)}),new Promise(c=>{function u(d){function f(){d===o?c(s):u(o)}d.then(f,f)}u(o)})}function H(t){const e=cr(t);return Wo(e),e}function zr(t){const e=cr(t);return e.equals=wo,e}function Do(t){var e=t.effects;if(e!==null){t.effects=null;for(var n=0;n<e.length;n+=1)nt(e[n])}}function Wi(t){for(var e=t.parent;e!==null;){if((e.f&Ze)===0)return e;e=e.parent}return null}function Ea(t){var e,n=me;At(Wi(t));try{Do(t),e=Go(t)}finally{At(n)}return e}function To(t){var e=Ea(t);if(t.equals(e)||(t.v=e,t.wv=Ko()),!mn)if(_t!==null)_t.set(t,t.v);else{var n=(qt||(t.f&dt)!==0)&&t.deps!==null?Xt:Ye;Xe(t,n)}}const Wt=new Map;function Rt(t,e){var n={f:0,v:t,reactions:null,equals:mo,rv:0,wv:0};return n}function U(t,e){const n=Rt(t);return Wo(n),n}function da(t,e=!1,n=!0){var o;const r=Rt(t);return e||(r.equals=wo),Yn&&n&&Pe!==null&&Pe.l!==null&&((o=Pe.l).s??(o.s=[])).push(r),r}function w(t,e,n=!1){he!==null&&(!mt||(he.f&Wa)!==0)&&Kn()&&(he.f&(Ze|gn|Ca|Wa))!==0&&!Ot?.includes(t)&&_i();let r=n?Be(e):e;return It(t,r)}function It(t,e){if(!t.equals(e)){var n=t.v;mn?Wt.set(t,e):Wt.set(t,n),t.v=e;var r=Mt.ensure();r.capture(t,n),(t.f&Ze)!==0&&((t.f&at)!==0&&Ea(t),Xe(t,(t.f&dt)===0?Ye:Xt)),t.wv=Ko(),No(t,at),Kn()&&me!==null&&(me.f&Ye)!==0&&(me.f&(Ft|pn))===0&&(lt===null?al([t]):lt.push(t))}return e}function er(t){w(t,t.v+1)}function No(t,e){var n=t.reactions;if(n!==null)for(var r=Kn(),o=n.length,s=0;s<o;s++){var i=n[s],l=i.f;if(!(!r&&i===me)){var c=(l&at)===0;c&&Xe(i,e),(l&Ze)!==0?No(i,Xt):c&&((l&gn)!==0&&en!==null&&en.push(i),vn(i))}}}function Be(t){if(typeof t!="object"||t===null||un in t)return t;const e=ya(t);if(e!==ti&&e!==ni)return t;var n=new Map,r=ma(t),o=U(0),s=dn,i=l=>{if(dn===s)return l();var c=he,u=dn;tt(null),Ja(s);var d=l();return tt(c),Ja(u),d};return r&&n.set("length",U(t.length)),new Proxy(t,{defineProperty(l,c,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&gi();var d=n.get(c);return d===void 0?d=i(()=>{var f=U(u.value);return n.set(c,f),f}):w(d,u.value,!0),!0},deleteProperty(l,c){var u=n.get(c);if(u===void 0){if(c in l){const d=i(()=>U(Ve));n.set(c,d),er(o)}}else w(u,Ve),er(o);return!0},get(l,c,u){if(c===un)return t;var d=n.get(c),f=c in l;if(d===void 0&&(!f||Nn(l,c)?.writable)&&(d=i(()=>{var p=Be(f?l[c]:Ve),h=U(p);return h}),n.set(c,d)),d!==void 0){var v=a(d);return v===Ve?void 0:v}return Reflect.get(l,c,u)},getOwnPropertyDescriptor(l,c){var u=Reflect.getOwnPropertyDescriptor(l,c);if(u&&"value"in u){var d=n.get(c);d&&(u.value=a(d))}else if(u===void 0){var f=n.get(c),v=f?.v;if(f!==void 0&&v!==Ve)return{enumerable:!0,configurable:!0,value:v,writable:!0}}return u},has(l,c){if(c===un)return!0;var u=n.get(c),d=u!==void 0&&u.v!==Ve||Reflect.has(l,c);if(u!==void 0||me!==null&&(!d||Nn(l,c)?.writable)){u===void 0&&(u=i(()=>{var v=d?Be(l[c]):Ve,p=U(v);return p}),n.set(c,u));var f=a(u);if(f===Ve)return!1}return d},set(l,c,u,d){var f=n.get(c),v=c in l;if(r&&c==="length")for(var p=u;p<f.v;p+=1){var h=n.get(p+"");h!==void 0?w(h,Ve):p in l&&(h=i(()=>U(Ve)),n.set(p+"",h))}if(f===void 0)(!v||Nn(l,c)?.writable)&&(f=i(()=>U(void 0)),w(f,Be(u)),n.set(c,f));else{v=f.v!==Ve;var g=i(()=>Be(u));w(f,g)}var m=Reflect.getOwnPropertyDescriptor(l,c);if(m?.set&&m.set.call(d,u),!v){if(r&&typeof c=="string"){var C=n.get("length"),x=Number(c);Number.isInteger(x)&&x>=C.v&&w(C,x+1)}er(o)}return!0},ownKeys(l){a(o);var c=Reflect.ownKeys(l).filter(f=>{var v=n.get(f);return v===void 0||v.v!==Ve});for(var[u,d]of n)d.v!==Ve&&!(u in l)&&c.push(u);return c},setPrototypeOf(){pi()}})}var Ka,Lo,Mo,Io;function Yi(){if(Ka===void 0){Ka=window,Lo=/Firefox/.test(navigator.userAgent);var t=Element.prototype,e=Node.prototype,n=Text.prototype;Mo=Nn(e,"firstChild").get,Io=Nn(e,"nextSibling").get,qa(t)&&(t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__style=void 0,t.__e=void 0),qa(n)&&(n.__t=void 0)}}function hn(t=""){return document.createTextNode(t)}function jn(t){return Mo.call(t)}function ur(t){return Io.call(t)}function k(t,e){return jn(t)}function B(t,e=!1){{var n=jn(t);return n instanceof Comment&&n.data===""?ur(n):n}}function R(t,e=1,n=!1){let r=t;for(;e--;)r=ur(r);return r}function Ki(t){t.textContent=""}function Oo(){return!1}let Xa=!1;function Xi(){Xa||(Xa=!0,document.addEventListener("reset",t=>{Promise.resolve().then(()=>{if(!t.defaultPrevented)for(const e of t.target.elements)e.__on_r?.()})},{capture:!0}))}function Hr(t){var e=he,n=me;tt(null),At(null);try{return t()}finally{tt(e),At(n)}}function Gi(t,e,n,r=n){t.addEventListener(e,()=>Hr(n));const o=t.__on_r;o?t.__on_r=()=>{o(),r(!0)}:t.__on_r=()=>r(!0),Xi()}function Bo(t){me===null&&he===null&&fi(),he!==null&&(he.f&dt)!==0&&me===null&&di(),mn&&ui()}function Zi(t,e){var n=e.last;n===null?e.last=e.first=t:(n.next=t,t.prev=n,e.last=t)}function Dt(t,e,n,r=!0){var o=me;o!==null&&(o.f&wt)!==0&&(t|=wt);var s={ctx:Pe,deps:null,nodes_start:null,nodes_end:null,f:t|at,first:null,fn:e,last:null,next:null,parent:o,b:o&&o.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{Nr(s),s.f|=ka}catch(c){throw nt(s),c}else e!==null&&vn(s);if(r){var i=s;if(n&&i.deps===null&&i.teardown===null&&i.nodes_start===null&&i.first===i.last&&(i.f&Wn)===0&&(i=i.first),i!==null&&(i.parent=o,o!==null&&Zi(i,o),he!==null&&(he.f&Ze)!==0&&(t&pn)===0)){var l=he;(l.effects??(l.effects=[])).push(i)}}return s}function Ji(){return he!==null&&!mt}function Ro(t){const e=Dt(Or,null,!1);return Xe(e,Ye),e.teardown=t,e}function Ne(t){Bo();var e=me.f,n=!he&&(e&Ft)!==0&&(e&ka)===0;if(n){var r=Pe;(r.e??(r.e=[])).push(t)}else return Fo(t)}function Fo(t){return Dt(ba|go,t,!1)}function Qi(t){return Bo(),Dt(Or|go,t,!0)}function $i(t){Mt.ensure();const e=Dt(pn|Wn,t,!0);return(n={})=>new Promise(r=>{n.outro?Mn(e,()=>{nt(e),r(void 0)}):(nt(e),r(void 0))})}function el(t){return Dt(ba,t,!1)}function tl(t){return Dt(Ca|Wn,t,!0)}function jr(t,e=0){return Dt(Or|e,t,!0)}function de(t,e=[],n=[]){Vi(e,n,r=>{Dt(Or,()=>t(...r.map(a)),!0)})}function Xn(t,e=0){var n=Dt(gn|e,t,!0);return n}function pt(t,e=!0){return Dt(Ft|Wn,t,!0,e)}function zo(t){var e=t.teardown;if(e!==null){const n=mn,r=he;Za(!0),tt(null);try{e.call(null)}finally{Za(n),tt(r)}}}function Ho(t,e=!1){var n=t.first;for(t.first=t.last=null;n!==null;){const o=n.ac;o!==null&&Hr(()=>{o.abort(Tn)});var r=n.next;(n.f&pn)!==0?n.parent=null:nt(n,e),n=r}}function nl(t){for(var e=t.first;e!==null;){var n=e.next;(e.f&Ft)===0&&nt(e),e=n}}function nt(t,e=!0){var n=!1;(e||(t.f&si)!==0)&&t.nodes_start!==null&&t.nodes_end!==null&&(rl(t.nodes_start,t.nodes_end),n=!0),Ho(t,e&&!n),Tr(t,0),Xe(t,_n);var r=t.transitions;if(r!==null)for(const s of r)s.stop();zo(t);var o=t.parent;o!==null&&o.first!==null&&jo(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes_start=t.nodes_end=t.ac=null}function rl(t,e){for(;t!==null;){var n=t===e?null:ur(t);t.remove(),t=n}}function jo(t){var e=t.parent,n=t.prev,r=t.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),e!==null&&(e.first===t&&(e.first=r),e.last===t&&(e.last=n))}function Mn(t,e,n=!0){var r=[];xa(t,r,!0),Uo(r,()=>{n&&nt(t),e&&e()})}function Uo(t,e){var n=t.length;if(n>0){var r=()=>--n||e();for(var o of t)o.out(r)}else e()}function xa(t,e,n){if((t.f&wt)===0){if(t.f^=wt,t.transitions!==null)for(const i of t.transitions)(i.is_global||n)&&e.push(i);for(var r=t.first;r!==null;){var o=r.next,s=(r.f&qn)!==0||(r.f&Ft)!==0;xa(r,e,s?n:!1),r=o}}}function Pa(t){Vo(t,!0)}function Vo(t,e){if((t.f&wt)!==0){t.f^=wt,(t.f&Ye)===0&&(Xe(t,at),vn(t));for(var n=t.first;n!==null;){var r=n.next,o=(n.f&qn)!==0||(n.f&Ft)!==0;Vo(n,o?e:!1),n=r}if(t.transitions!==null)for(const s of t.transitions)(s.is_global||e)&&s.in()}}function qo(t,e){for(var n=t.nodes_start,r=t.nodes_end;n!==null;){var o=n===r?null:ur(n);e.append(n),n=o}}let In=!1;function Ga(t){In=t}let mn=!1;function Za(t){mn=t}let he=null,mt=!1;function tt(t){he=t}let me=null;function At(t){me=t}let Ot=null;function Wo(t){he!==null&&(Ot===null?Ot=[t]:Ot.push(t))}let We=null,rt=0,lt=null;function al(t){lt=t}let Yo=1,nr=0,dn=nr;function Ja(t){dn=t}let qt=!1;function Ko(){return++Yo}function Ur(t){var e=t.f;if((e&at)!==0)return!0;if((e&Xt)!==0){var n=t.deps,r=(e&dt)!==0;if(n!==null){var o,s,i=(e&Ar)!==0,l=r&&me!==null&&!qt,c=n.length;if((i||l)&&(me===null||(me.f&_n)===0)){var u=t,d=u.parent;for(o=0;o<c;o++)s=n[o],(i||!s?.reactions?.includes(u))&&(s.reactions??(s.reactions=[])).push(u);i&&(u.f^=Ar),l&&d!==null&&(d.f&dt)===0&&(u.f^=dt)}for(o=0;o<c;o++)if(s=n[o],Ur(s)&&To(s),s.wv>t.wv)return!0}(!r||me!==null&&!qt)&&Xe(t,Ye)}return!1}function Xo(t,e,n=!0){var r=t.reactions;if(r!==null&&!Ot?.includes(t))for(var o=0;o<r.length;o++){var s=r[o];(s.f&Ze)!==0?Xo(s,e,!1):e===s&&(n?Xe(s,at):(s.f&Ye)!==0&&Xe(s,Xt),vn(s))}}function Go(t){var g;var e=We,n=rt,r=lt,o=he,s=qt,i=Ot,l=Pe,c=mt,u=dn,d=t.f;We=null,rt=0,lt=null,qt=(d&dt)!==0&&(mt||!In||he===null),he=(d&(Ft|pn))===0?t:null,Ot=null,zn(t.ctx),mt=!1,dn=++nr,t.ac!==null&&(Hr(()=>{t.ac.abort(Tn)}),t.ac=null);try{t.f|=oa;var f=t.fn,v=f(),p=t.deps;if(We!==null){var h;if(Tr(t,rt),p!==null&&rt>0)for(p.length=rt+We.length,h=0;h<We.length;h++)p[rt+h]=We[h];else t.deps=p=We;if(!qt||(d&Ze)!==0&&t.reactions!==null)for(h=rt;h<p.length;h++)((g=p[h]).reactions??(g.reactions=[])).push(t)}else p!==null&&rt<p.length&&(Tr(t,rt),p.length=rt);if(Kn()&&lt!==null&&!mt&&p!==null&&(t.f&(Ze|Xt|at))===0)for(h=0;h<lt.length;h++)Xo(lt[h],t);return o!==null&&o!==t&&(nr++,lt!==null&&(r===null?r=lt:r.push(...lt))),(t.f&cn)!==0&&(t.f^=cn),v}catch(m){return So(m)}finally{t.f^=oa,We=e,rt=n,lt=r,he=o,qt=s,Ot=i,zn(l),mt=c,dn=u}}function ol(t,e){let n=e.reactions;if(n!==null){var r=ei.call(n,t);if(r!==-1){var o=n.length-1;o===0?n=e.reactions=null:(n[r]=n[o],n.pop())}}n===null&&(e.f&Ze)!==0&&(We===null||!We.includes(e))&&(Xe(e,Xt),(e.f&(dt|Ar))===0&&(e.f^=Ar),Do(e),Tr(e,0))}function Tr(t,e){var n=t.deps;if(n!==null)for(var r=e;r<n.length;r++)ol(t,n[r])}function Nr(t){var e=t.f;if((e&_n)===0){Xe(t,Ye);var n=me,r=In;me=t,In=!0;try{(e&gn)!==0?nl(t):Ho(t),zo(t);var o=Go(t);t.teardown=typeof o=="function"?o:null,t.wv=Yo;var s;fo&&Ni&&(t.f&at)!==0&&t.deps}finally{In=r,me=n}}}async function Zo(){await Promise.resolve(),Co()}function a(t){var e=t.f,n=(e&Ze)!==0;if(he!==null&&!mt){var r=me!==null&&(me.f&_n)!==0;if(!r&&!Ot?.includes(t)){var o=he.deps;if((he.f&oa)!==0)t.rv<nr&&(t.rv=nr,We===null&&o!==null&&o[rt]===t?rt++:We===null?We=[t]:(!qt||!We.includes(t))&&We.push(t));else{(he.deps??(he.deps=[])).push(t);var s=t.reactions;s===null?t.reactions=[he]:s.includes(he)||s.push(he)}}}else if(n&&t.deps===null&&t.effects===null){var i=t,l=i.parent;l!==null&&(l.f&dt)===0&&(i.f^=dt)}if(mn){if(Wt.has(t))return Wt.get(t);if(n){i=t;var c=i.v;return((i.f&Ye)===0&&i.reactions!==null||Jo(i))&&(c=Ea(i)),Wt.set(i,c),c}}else if(n){if(i=t,_t?.has(i))return _t.get(i);Ur(i)&&To(i)}if(_t?.has(t))return _t.get(t);if((t.f&cn)!==0)throw t.v;return t.v}function Jo(t){if(t.v===Ve)return!0;if(t.deps===null)return!1;for(const e of t.deps)if(Wt.has(e)||(e.f&Ze)!==0&&Jo(e))return!0;return!1}function vt(t){var e=mt;try{return mt=!0,t()}finally{mt=e}}const sl=-7169;function Xe(t,e){t.f=t.f&sl|e}function il(t){if(!(typeof t!="object"||!t||t instanceof EventTarget)){if(un in t)fa(t);else if(!Array.isArray(t))for(let e in t){const n=t[e];typeof n=="object"&&n&&un in n&&fa(n)}}}function fa(t,e=new Set){if(typeof t=="object"&&t!==null&&!(t instanceof EventTarget)&&!e.has(t)){e.add(t),t instanceof Date&&t.getTime();for(let r in t)try{fa(t[r],e)}catch{}const n=ya(t);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=vo(n);for(let o in r){const s=r[o].get;if(s)try{s.call(t)}catch{}}}}}const ll=["touchstart","touchmove"];function cl(t){return ll.includes(t)}const Qo=new Set,va=new Set;function ul(t,e,n,r={}){function o(s){if(r.capture||Zn.call(e,s),!s.cancelBubble)return Hr(()=>n?.call(this,s))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?Kt(()=>{e.addEventListener(t,o,r)}):e.addEventListener(t,o,r),o}function Aa(t,e,n,r,o){var s={capture:r,passive:o},i=ul(t,e,n,s);(e===document.body||e===window||e===document||e instanceof HTMLMediaElement)&&Ro(()=>{e.removeEventListener(t,i,s)})}function qe(t){for(var e=0;e<t.length;e++)Qo.add(t[e]);for(var n of va)n(t)}let Qa=null;function Zn(t){var e=this,n=e.ownerDocument,r=t.type,o=t.composedPath?.()||[],s=o[0]||t.target;Qa=t;var i=0,l=Qa===t&&t.__root;if(l){var c=o.indexOf(l);if(c!==-1&&(e===document||e===window)){t.__root=e;return}var u=o.indexOf(e);if(u===-1)return;c<=u&&(i=c)}if(s=o[i]||t.target,s!==e){ra(t,"currentTarget",{configurable:!0,get(){return s||n}});var d=he,f=me;tt(null),At(null);try{for(var v,p=[];s!==null;){var h=s.assignedSlot||s.parentNode||s.host||null;try{var g=s["__"+r];if(g!=null&&(!s.disabled||t.target===s))if(ma(g)){var[m,...C]=g;m.apply(s,[t,...C])}else g.call(s,t)}catch(x){v?p.push(x):v=x}if(t.cancelBubble||h===e||h===null)break;s=h}if(v){for(let x of p)queueMicrotask(()=>{throw x});throw v}}finally{t.__root=e,delete t.currentTarget,tt(d),At(f)}}}function $o(t){var e=document.createElement("template");return e.innerHTML=t.replaceAll("<!>","<!---->"),e.content}function rr(t,e){var n=me;n.nodes_start===null&&(n.nodes_start=t,n.nodes_end=e)}function V(t,e){var n=(e&xi)!==0,r=(e&Pi)!==0,o,s=!t.startsWith("<!>");return()=>{o===void 0&&(o=$o(s?t:"<!>"+t),n||(o=jn(o)));var i=r||Lo?document.importNode(o,!0):o.cloneNode(!0);if(n){var l=jn(i),c=i.lastChild;rr(l,c)}else rr(i,i);return i}}function dl(t,e,n="svg"){var r=!t.startsWith("<!>"),o=`<${n}>${r?t:"<!>"+t}</${n}>`,s;return()=>{if(!s){var i=$o(o),l=jn(i);s=jn(l)}var c=s.cloneNode(!0);return rr(c,c),c}}function fl(t,e){return dl(t,e,"svg")}function Ie(t=""){{var e=hn(t+"");return rr(e,e),e}}function X(){var t=document.createDocumentFragment(),e=document.createComment(""),n=hn();return t.append(e,n),rr(e,n),t}function _(t,e){t!==null&&t.before(e)}function df(){var t;return(t=window.__svelte??(window.__svelte={})).uid??(t.uid=1),`c${window.__svelte.uid++}`}function Bt(t,e){var n=e==null?"":typeof e=="object"?e+"":e;n!==(t.__t??(t.__t=t.nodeValue))&&(t.__t=n,t.nodeValue=n+"")}function vl(t,e){return hl(t,e)}const Dn=new Map;function hl(t,{target:e,anchor:n,props:r={},events:o,context:s,intro:i=!0}){Yi();var l=new Set,c=f=>{for(var v=0;v<f.length;v++){var p=f[v];if(!l.has(p)){l.add(p);var h=cl(p);e.addEventListener(p,Zn,{passive:h});var g=Dn.get(p);g===void 0?(document.addEventListener(p,Zn,{passive:h}),Dn.set(p,1)):Dn.set(p,g+1)}}};c(wa(Qo)),va.add(c);var u=void 0,d=$i(()=>{var f=n??e.appendChild(hn());return zi(f,{pending:()=>{}},v=>{if(s){$({});var p=Pe;p.c=s}o&&(r.$$events=o),u=t(v,r)||{},s&&ee()}),()=>{for(var v of l){e.removeEventListener(v,Zn);var p=Dn.get(v);--p===0?(document.removeEventListener(v,Zn),Dn.delete(v)):Dn.set(v,p)}va.delete(c),f!==n&&f.parentNode?.removeChild(f)}});return gl.set(u,d),u}let gl=new WeakMap;var Lt,xt,gt,ir,lr;class Vr{constructor(e,n=!0){it(this,"anchor");Se(this,Lt,new Map);Se(this,xt,new Map);Se(this,gt,new Map);Se(this,ir,!0);Se(this,lr,()=>{var e=Te;if(L(this,Lt).has(e)){var n=L(this,Lt).get(e),r=L(this,xt).get(n);if(r)Pa(r);else{var o=L(this,gt).get(n);o&&(L(this,xt).set(n,o.effect),L(this,gt).delete(n),o.fragment.lastChild.remove(),this.anchor.before(o.fragment),r=o.effect)}for(const[s,i]of L(this,Lt)){if(L(this,Lt).delete(s),s===e)break;const l=L(this,gt).get(i);l&&(nt(l.effect),L(this,gt).delete(i))}for(const[s,i]of L(this,xt)){if(s===n)continue;const l=()=>{if(Array.from(L(this,Lt).values()).includes(s)){var u=document.createDocumentFragment();qo(i,u),u.append(hn()),L(this,gt).set(s,{effect:i,fragment:u})}else nt(i);L(this,xt).delete(s)};L(this,ir)||!r?Mn(i,l,!1):l()}}});this.anchor=e,ce(this,ir,n)}ensure(e,n){var r=Te,o=Oo();if(n&&!L(this,xt).has(e)&&!L(this,gt).has(e))if(o){var s=document.createDocumentFragment(),i=hn();s.append(i),L(this,gt).set(e,{effect:pt(()=>n(i)),fragment:s})}else L(this,xt).set(e,pt(()=>n(this.anchor)));if(L(this,Lt).set(r,e),o){for(const[l,c]of L(this,xt))l===e?r.skipped_effects.delete(c):r.skipped_effects.add(c);for(const[l,c]of L(this,gt))l===e?r.skipped_effects.delete(c.effect):r.skipped_effects.add(c.effect);r.add_callback(L(this,lr))}else L(this,lr).call(this)}}Lt=new WeakMap,xt=new WeakMap,gt=new WeakMap,ir=new WeakMap,lr=new WeakMap;const pl=0,Jr=1;function _l(t,e,n,r,o){var s=Kn(),i=Ve,l=s?Rt(i):da(i,!1,!1),c=s?Rt(i):da(i,!1,!1),u=new Vr(t);Xn(()=>{var d=e(),f=!1;if(ri(d)){var v=Ao(),p=!1;const h=g=>{if(!f){p=!0,v();try{g()}finally{Dr(),Ln||Co()}}};d.then(g=>{h(()=>{It(l,g),u.ensure(Jr,r&&(m=>r(m,l)))})},g=>{h(()=>{if(It(c,g),u.ensure(Jr,o&&(m=>o(m,c))),!o)throw c.v})}),Kt(()=>{p||h(()=>{u.ensure(pl,n)})})}else It(l,d),u.ensure(Jr,r&&(h=>r(h,l)));return()=>{f=!0}})}function W(t,e,n=!1){var r=new Vr(t),o=n?qn:0;function s(i,l){r.ensure(i,l)}Xn(()=>{var i=!1;e((l,c=!0)=>{i=!0,s(c,l)}),i||s(!1,null)},o)}function _e(t,e){jr(()=>{var n=e();for(var r in n){var o=n[r];o?t.style.setProperty(r,o):t.style.removeProperty(r)}})}function ml(t,e,n){for(var r=t.items,o=[],s=e.length,i=0;i<s;i++)xa(e[i].e,o,!0);var l=s>0&&o.length===0&&n!==null;if(l){var c=n.parentNode;Ki(c),c.append(n),r.clear(),St(t,e[0].prev,e[s-1].next)}Uo(o,()=>{for(var u=0;u<s;u++){var d=e[u];l||(r.delete(d.k),St(t,d.prev,d.next)),nt(d.e,!l)}})}function qr(t,e,n,r,o,s=null){var i=t,l={flags:e,items:new Map,first:null},c=(e&_o)!==0;if(c){var u=t;i=u.appendChild(hn())}var d=null,f=!1,v=new Map,p=zr(()=>{var C=n();return ma(C)?C:C==null?[]:wa(C)}),h,g;function m(){wl(g,h,l,v,i,o,e,r,n),s!==null&&(h.length===0?d?Pa(d):d=pt(()=>s(i)):d!==null&&Mn(d,()=>{d=null}))}Xn(()=>{g??(g=me),h=a(p);var C=h.length;if(!(f&&C===0)){f=C===0;var x,y,D,A;if(Oo()){var P=new Set,b=Te;for(y=0;y<C;y+=1){D=h[y],A=r(D,y);var E=l.items.get(A)??v.get(A);E?(e&(Br|Rr))!==0&&es(E,D,y,e):(x=ts(null,l,null,null,D,A,y,o,e,n,!0),v.set(A,x)),P.add(A)}for(const[M,G]of l.items)P.has(M)||b.skipped_effects.add(G.e);b.add_callback(m)}else m();a(p)}})}function wl(t,e,n,r,o,s,i,l,c){var u=(i&wi)!==0,d=(i&(Br|Rr))!==0,f=e.length,v=n.items,p=n.first,h=p,g,m=null,C,x=[],y=[],D,A,P,b;if(u)for(b=0;b<f;b+=1)D=e[b],A=l(D,b),P=v.get(A),P!==void 0&&(P.a?.measure(),(C??(C=new Set)).add(P));for(b=0;b<f;b+=1){if(D=e[b],A=l(D,b),P=v.get(A),P===void 0){var E=r.get(A);if(E!==void 0){r.delete(A),v.set(A,E);var M=m?m.next:h;St(n,m,E),St(n,E,M),Qr(E,M,o),m=E}else{var G=h?h.e.nodes_start:o;m=ts(G,n,m,m===null?n.first:m.next,D,A,b,s,i,c)}v.set(A,m),x=[],y=[],h=m.next;continue}if(d&&es(P,D,b,i),(P.e.f&wt)!==0&&(Pa(P.e),u&&(P.a?.unfix(),(C??(C=new Set)).delete(P))),P!==h){if(g!==void 0&&g.has(P)){if(x.length<y.length){var Y=y[0],F;m=Y.prev;var K=x[0],se=x[x.length-1];for(F=0;F<x.length;F+=1)Qr(x[F],Y,o);for(F=0;F<y.length;F+=1)g.delete(y[F]);St(n,K.prev,se.next),St(n,m,K),St(n,se,Y),h=Y,m=se,b-=1,x=[],y=[]}else g.delete(P),Qr(P,h,o),St(n,P.prev,P.next),St(n,P,m===null?n.first:m.next),St(n,m,P),m=P;continue}for(x=[],y=[];h!==null&&h.k!==A;)(h.e.f&wt)===0&&(g??(g=new Set)).add(h),y.push(h),h=h.next;if(h===null)continue;P=h}x.push(P),m=P,h=P.next}if(h!==null||g!==void 0){for(var te=g===void 0?[]:wa(g);h!==null;)(h.e.f&wt)===0&&te.push(h),h=h.next;var re=te.length;if(re>0){var Q=(i&_o)!==0&&f===0?o:null;if(u){for(b=0;b<re;b+=1)te[b].a?.measure();for(b=0;b<re;b+=1)te[b].a?.fix()}ml(n,te,Q)}}u&&Kt(()=>{if(C!==void 0)for(P of C)P.a?.apply()}),t.first=n.first&&n.first.e,t.last=m&&m.e;for(var J of r.values())nt(J.e);r.clear()}function es(t,e,n,r){(r&Br)!==0&&It(t.v,e),(r&Rr)!==0?It(t.i,n):t.i=n}function ts(t,e,n,r,o,s,i,l,c,u,d){var f=(c&Br)!==0,v=(c&yi)===0,p=f?v?da(o,!1,!1):Rt(o):o,h=(c&Rr)===0?i:Rt(i),g={i:h,v:p,k:s,a:null,e:null,prev:n,next:r};try{if(t===null){var m=document.createDocumentFragment();m.append(t=hn())}return g.e=pt(()=>l(t,p,h,u),Di),g.e.prev=n&&n.e,g.e.next=r&&r.e,n===null?d||(e.first=g):(n.next=g,n.e.next=g.e),r!==null&&(r.prev=g,r.e.prev=g.e),g}finally{}}function Qr(t,e,n){for(var r=t.next?t.next.e.nodes_start:n,o=e?e.e.nodes_start:n,s=t.e.nodes_start;s!==null&&s!==r;){var i=ur(s);o.before(s),s=i}}function St(t,e,n){e===null?t.first=n:(e.next=n,e.e.next=n&&n.e),n!==null&&(n.prev=e,n.e.prev=e&&e.e)}function ye(t,e,...n){var r=new Vr(t);Xn(()=>{const o=e()??null;r.ensure(o,o&&(s=>o(s,...n)))},qn)}function yl(t,e,n){var r=new Vr(t);Xn(()=>{var o=e()??null;r.ensure(o,o&&(s=>n(s,o)))},qn)}function ns(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var o=t.length;for(e=0;e<o;e++)t[e]&&(n=ns(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function bl(){for(var t,e,n=0,r="",o=arguments.length;n<o;n++)(t=arguments[n])&&(e=ns(t))&&(r&&(r+=" "),r+=e);return r}function ge(t){return typeof t=="object"?bl(t):t??""}const $a=[...` 	
\r\f \v\uFEFF`];function Sl(t,e,n){var r=t==null?"":""+t;if(e&&(r=r?r+" "+e:e),n){for(var o in n)if(n[o])r=r?r+" "+o:o;else if(r.length)for(var s=o.length,i=0;(i=r.indexOf(o,i))>=0;){var l=i+s;(i===0||$a.includes(r[i-1]))&&(l===r.length||$a.includes(r[l]))?r=(i===0?"":r.substring(0,i))+r.substring(l+1):i=l}}return r===""?null:r}function kl(t,e){return t==null?null:String(t)}function pe(t,e,n,r,o,s){var i=t.__className;if(i!==n||i===void 0){var l=Sl(n,r,s);l==null?t.removeAttribute("class"):t.className=l,t.__className=n}else if(s&&o!==s)for(var c in s){var u=!!s[c];(o==null||u!==!!o[c])&&t.classList.toggle(c,u)}return s}function Un(t,e,n,r){var o=t.__style;if(o!==e){var s=kl(e);s==null?t.removeAttribute("style"):t.style.cssText=s,t.__style=e}return r}const Cl=Symbol("is custom element"),El=Symbol("is html");function $r(t,e){var n=Da(t);n.value===(n.value=e??void 0)||t.value===e&&(e!==0||t.nodeName!=="PROGRESS")||(t.value=e??"")}function xr(t,e){var n=Da(t);n.checked!==(n.checked=e??void 0)&&(t.checked=e)}function Me(t,e,n,r){var o=Da(t);o[e]!==(o[e]=n)&&(e==="loading"&&(t[li]=n),n==null?t.removeAttribute(e):typeof n!="string"&&xl(t).includes(e)?t[e]=n:t.setAttribute(e,n))}function Da(t){return t.__attributes??(t.__attributes={[Cl]:t.nodeName.includes("-"),[El]:t.namespaceURI===Ai})}var eo=new Map;function xl(t){var e=t.getAttribute("is")||t.nodeName,n=eo.get(e);if(n)return n;eo.set(e,n=[]);for(var r,o=t,s=Element.prototype;s!==o;){r=vo(o);for(var i in r)r[i].set&&n.push(i);o=ya(o)}return n}function Pl(t,e,n=e){var r=new WeakSet;Gi(t,"input",async o=>{var s=o?t.defaultValue:t.value;if(s=ea(t)?ta(s):s,n(s),Te!==null&&r.add(Te),await Zo(),s!==(s=e())){var i=t.selectionStart,l=t.selectionEnd,c=t.value.length;if(t.value=s??"",l!==null){var u=t.value.length;i===l&&l===c&&u>c?(t.selectionStart=u,t.selectionEnd=u):(t.selectionStart=i,t.selectionEnd=Math.min(l,u))}}}),vt(e)==null&&t.value&&(n(ea(t)?ta(t.value):t.value),Te!==null&&r.add(Te)),jr(()=>{var o=e();if(t===document.activeElement){var s=Sr??Te;if(r.has(s))return}ea(t)&&o===ta(t.value)||t.type==="date"&&!o&&!t.value||o!==t.value&&(t.value=o??"")})}function ea(t){var e=t.type;return e==="number"||e==="range"}function ta(t){return t===""?null:+t}function to(t,e){return t===e||t?.[un]===e}function ot(t={},e,n,r){return el(()=>{var o,s;return jr(()=>{o=s,s=[],vt(()=>{t!==n(...s)&&(e(t,...s),o&&to(n(...o),t)&&e(null,...o))})}),()=>{Kt(()=>{s&&to(n(...s),t)&&e(null,...s)})}}),t}function Wr(t=!1){const e=Pe,n=e.l.u;if(!n)return;let r=()=>il(e.s);if(t){let o=0,s={};const i=cr(()=>{let l=!1;const c=e.s;for(const u in c)c[u]!==s[u]&&(s[u]=c[u],l=!0);return l&&o++,o});r=()=>a(i)}n.b.length&&Qi(()=>{no(e,r),aa(n.b)}),Ne(()=>{const o=vt(()=>n.m.map(ai));return()=>{for(const s of o)typeof s=="function"&&s()}}),n.a.length&&Ne(()=>{no(e,r),aa(n.a)})}function no(t,e){if(t.l.s)for(const n of t.l.s)a(n);e()}let yr=!1;function Al(t){var e=yr;try{return yr=!1,[t(),yr]}finally{yr=e}}function ve(t,e,n,r){var o=!Yn||(n&Si)!==0,s=(n&Ci)!==0,i=(n&Ei)!==0,l=r,c=!0,u=()=>(c&&(c=!1,l=i?vt(r):r),l),d;if(s){var f=un in t||ii in t;d=Nn(t,e)?.set??(f&&e in t?y=>t[e]=y:void 0)}var v,p=!1;s?[v,p]=Al(()=>t[e]):v=t[e],v===void 0&&r!==void 0&&(v=u(),d&&(o&&hi(),d(v)));var h;if(o?h=()=>{var y=t[e];return y===void 0?u():(c=!0,y)}:h=()=>{var y=t[e];return y!==void 0&&(l=void 0),y===void 0?l:y},o&&(n&ki)===0)return h;if(d){var g=t.$$legacy;return(function(y,D){return arguments.length>0?((!o||!D||g||p)&&d(D?h():y),y):h()})}var m=!1,C=((n&bi)!==0?cr:zr)(()=>(m=!1,h()));s&&a(C);var x=me;return(function(y,D){if(arguments.length>0){const A=D?a(C):o&&s?Be(y):y;return w(C,A),m=!0,l!==void 0&&(l=A),y}return mn&&m||(x.f&_n)!==0?C.v:a(C)})}function ke(t){Pe===null&&po(),Yn&&Pe.l!==null?Dl(Pe).m.push(t):Ne(()=>{const e=vt(t);if(typeof e=="function")return e})}function Dl(t){var e=t.l;return e.u??(e.u={a:[],b:[],m:[]})}const Tl="5";var uo;typeof window<"u"&&((uo=window.__svelte??(window.__svelte={})).v??(uo.v=new Set)).add(Tl);Li();const rs={};function Nl(t){Fe(rs,t)}function as(){const t=Re(rs);if(!t)throw new Error("No SearchContext found");return t}const os={};function Ll(t){Fe(os,t)}function Tt(){const t=Re(os);if(!t)throw new Error("No AppHistoryContext found");return t}function Ml(t,e){$(e,!0);const{addSearchParam:n,deleteSearchParam:r,getAppLocation:o}=Tt(),s=H(()=>o().searchParams),i="search",l=Be({value:o().searchParams.get(i)||""}),c=f=>{(a(s).get(i)||"")!==f&&(f===""?r(i):n(i,f))};Ne(()=>{a(s);const f=l.value;vt(()=>{c(f)})}),Nl(l);var u=X(),d=B(u);ye(d,()=>e.children??xe),_(t,u),ee()}const ss={};function Il(t){Fe(ss,t)}function is(){const t=Re(ss);if(!t)throw new Error("No TagSearchContext found");return t}function Ol(t,e){$(e,!0);const n=Be({value:""});Il(n);var r=X(),o=B(r);ye(o,()=>e.children??xe),_(t,r),ee()}const ls={};function Bl(t){Fe(ls,t)}function cs(){const t=Re(ls);if(!t)throw new Error("No FeedOrderContext found");return t}function Rl(t,e){$(e,!0);const{addSearchParam:n,deleteSearchParam:r,getAppLocation:o}=Tt(),s=H(()=>o().searchParams),i="feedOrder";let l=U(Be(o().searchParams.get(i)||"newest"));const c=p=>{(a(s).get(i)||"newest")!==p&&(p==="newest"?r(i):n(i,p))};Ne(()=>{a(s),a(l),vt(()=>{c(a(l))})}),Bl({getFeedOrder:()=>a(l),setFeedOrder:p=>{w(l,p,!0)}});var f=X(),v=B(f);ye(v,()=>e.children??xe),_(t,f),ee()}const us={};function Fl(t){Fe(us,t)}function Yr(){const t=Re(us);if(!t)throw new Error("No SidebarContext found");return t}function zl(t,e){$(e,!0);const n=(d,f)=>{if(!f)return d;if(f.type==="closed")return{type:"closed"};switch(d.type){case"opened":return f.type==="close"?{type:"closing"}:f.type==="swipe"?{type:"openSwiping"}:d;case"closed":return f.type==="open"?{type:"opening"}:f.type==="swipe"?{type:"closeSwiping"}:d;case"openSwiping":return f.type==="open"?{type:"opening"}:f.type==="close"?{type:"closing"}:d;case"closeSwiping":return f.type==="open"?{type:"opening"}:f.type==="close"?{type:"closing"}:d;case"opening":return f.type==="opened"?{type:"opened"}:d;default:return d}};let r=U(Be(n({type:"closed"})));const o=d=>{const f=vt(()=>a(r));w(r,n(f,d),!0)};Fl({sidebarOpen:()=>{o({type:"open"})},sidebarClose:()=>{o({type:"close"})},handleComputeState:o,getSidebarState:()=>a(r)});var c=X(),u=B(c);ye(u,()=>e.children??xe),_(t,c),ee()}const ds={};function Hl(t){Fe(ds,t)}function fs(){const t=Re(ds);if(!t)throw new Error("No SelectedTagsContext found");return t}const vs=(t,e)=>{let n=null;return()=>{n&&clearTimeout(n),n=setTimeout(()=>{n=null,t()},e)}};async function ff(){if(navigator.storage&&navigator.storage.persist)try{await navigator.storage.persisted()||await navigator.storage.persist()}catch{}}const jl=(t,e)=>{if(t.size!==e.size)return!0;for(const n of t)if(!e.has(n))return!0;return!1};function Ul(t,e){$(e,!0);const{getAppLocation:n,replace:r}=Tt(),o=H(n),s=H(()=>a(o).searchParams),i="selectedTags",l=()=>new Set(n().searchParams.get(i)?.split(",")||[]);let c=U(Be(l()));const u=()=>{const g=l();if(jl(g,a(c))){const m=a(o).pathname;a(c).size===0?a(s).delete(i):a(s).set(i,Array.from(a(c)).join(",")),r(`${m}${a(s).size>0?`?${a(s).toString()}`:""}`)}};Ne(()=>{a(s),a(c),vt(()=>{u()})}),Hl({getSelectedTags:()=>a(c),addTag:g=>{a(c).has(g)||w(c,new Set([...a(c),g]),!0)},removeTag:g=>{const m=new Set(a(c));m.delete(g),w(c,m,!0)}});var p=X(),h=B(p);ye(h,()=>e.children??xe),_(t,p),ee()}const hs={};function Vl(t){Fe(hs,t)}function Ta(){const t=Re(hs);if(!t)throw new Error("No LocalDBContext found");return t}const gs={};function ql(t){Fe(gs,t)}function ps(){const t=Re(gs);if(!t)throw new Error("No SettingsContext found");return t}const _s={};function Wl(t){Fe(_s,t)}function wn(){const t=Re(_s);if(!t)throw new Error("No BroadcastContext found");return t}const Yl="AppStorage",Kl=1,Jn="account",Pr="settings",yt="notes",bt="tags",Xl="syncLog",Gt="success",Zt="error",He=(t,e,n)=>{t?.addEventListener(e,n)},ro=(t,e)=>new Promise((n,r)=>{const s=t?.transaction(e,"readonly")?.objectStore(e).getAll();He(s,Gt,()=>{const i=s?.result||[];n(i)}),He(s,Zt,i=>{r(i)})}),ha=(t,e,n)=>new Promise((r,o)=>{const i=t?.transaction(e,"readonly")?.objectStore(e).get(n);He(i,Gt,()=>{const l=i?.result?.data;r(l)}),He(i,Zt,l=>{o(l)})}),tr=(t,e,n,r)=>new Promise((o,s)=>{const c=t?.transaction(e,"readwrite")?.objectStore(e)?.put({id:n,data:r});He(c,Gt,()=>{o()}),He(c,Zt,u=>{s(u)})}),na=async(t,e,n)=>{const o=t?.transaction(e,"readwrite")?.objectStore(e);await Promise.all(n.map(s=>{const i=o?.put(s);return new Promise((l,c)=>{He(i,Gt,()=>{l()}),He(i,Zt,u=>{c(u)})})}))},Gl=(t,e,n)=>new Promise((r,o)=>{const l=t?.transaction(e,"readwrite")?.objectStore(e)?.delete(n);He(l,Gt,()=>{r()}),He(l,Zt,c=>{o(c)})}),br=async(t,e,n)=>{const o=t?.transaction(e,"readwrite")?.objectStore(e);await Promise.all(n.map(s=>{const i=o?.delete(s);return new Promise((l,c)=>{He(i,Gt,()=>{l()}),He(i,Zt,u=>{c(u)})})}))},tn=(t,e)=>new Promise((n,r)=>{const i=t?.transaction(e,"readwrite")?.objectStore(e)?.clear();He(i,Gt,()=>{n()}),He(i,Zt,l=>{r(l)})});function Zl(t,e){$(e,!0);let n=U(Be({showFavicon:!1}));const{getDB:r}=Ta(),{createBroadcastChannel:o,tabId:s}=wn(),i=o(),l=H(r),c=async()=>{const g=await ha(a(l),Pr,"default");g&&w(n,g,!0)},u=async()=>{c()},d=async g=>{const m=JSON.parse(g.data),C=m;if(m.tabId&&m.tabId===s){C.type==="exit"&&(w(n,{showFavicon:!1},!0),tn(a(l),Pr));return}C.type==="updateSettings"?c():C.type==="exit"&&w(n,{showFavicon:!1},!0)},f=()=>a(n).showFavicon,v=async g=>{a(n).showFavicon=g,await tr(a(l),Pr,"default",{showFavicon:g}),i.postMessage({type:"updateSettings"})};ke(()=>(u(),i.addEventListener(d),()=>{i.removeEventListener(d)})),ql({getFaviconEnabled:f,setFaviconShown:v});var p=X(),h=B(p);ye(h,()=>e.children??xe),_(t,p),ee()}const ms={};function Jl(t){Fe(ms,t)}function ws(){const t=Re(ms);if(!t)throw new Error("No AccountContext found");return t}function Ql(t,e){$(e,!0);let n=U(void 0);const{getDB:r}=Ta(),{createBroadcastChannel:o,tabId:s}=wn(),i=H(r),l=o(),c=async()=>{const y=await ha(a(i),Jn,"default");w(n,y,!0)},u=y=>tr(a(i),Jn,"default",y),d=async y=>{const D=await ha(a(i),Jn,"default");D!==void 0&&w(n,D,!0),y(D)},f=async y=>{const D=JSON.parse(y.data);if(D.tabId&&D.tabId===s)return;const A=D;A.type==="initLocalAccount"?w(n,null):A.type==="initCloudAccount"?c():A.type==="disconnectCloudAccount"?w(n,null):A.type==="exit"?w(n,void 0):A.type==="updateAccount"&&c()};ke(()=>(l.addEventListener(f),()=>{l.removeEventListener(f)})),Jl({init:d,getAccount:()=>a(n),initLocalAccount:async()=>{w(n,null),await u(null),l.postMessage({type:"initLocalAccount"})},initCloudAccount:async y=>{const D={encryptedClientKey:y.encryptedClientKey||"",subscriptionExpires:y.subscriptionExpires||-1,lastSync:-1};await u(D),w(n,D,!0),l.postMessage({type:"initCloudAccount"})},disconnectCloudAccount:async()=>{w(n,null),await u(null),l.postMessage({type:"disconnectCloudAccount"})},updateSubscription:async y=>{if(!a(n))throw new Error("No account to update subscription for");const D={...a(n),subscriptionExpires:y};await u(D),l.postMessage({type:"updateAccount"})},exitApp:async()=>{w(n,void 0),l.postMessage({type:"exit"}),await tn(a(i),Jn)}});var C=X(),x=B(C);ye(x,()=>e.children??xe),_(t,C),ee()}const ys={};function $l(t){Fe(ys,t)}function dr(){const t=Re(ys);if(!t)throw new Error("No NotesContext found");return t}const ec=()=>crypto.randomUUID(),tc=t=>{const e=new Map;for(const n of t||[])for(const r of n?.data.tags||[])e.set(r,{name:r,count:(e.get(r)?.count||0)+1});return e};function nc(t,e){$(e,!0);const{getDB:n}=Ta(),{createBroadcastChannel:r,tabId:o}=wn(),s=H(n),i=r(),l=720*60*60*1e3;let c=U(0),u=U(!1),d=U(()=>new Map),f=U(()=>[]),v=U(()=>new Map);const p=()=>a(u),h=()=>a(c)>0,g=()=>{a(c)>0&&w(c,a(c)-1)},m=T=>{const z=a(f)(),S=a(v)(),O={...T};z.push(O),S.set(O.id,O),w(f,()=>z),w(v,()=>S)},C=T=>{const z=a(f)(),S=a(v)(),O=S.get(T.id);O&&(O.data=T.data),w(f,()=>z),w(v,()=>S)},x=T=>{const z=a(f)(),S=a(v)(),O=S.get(T);S.has(T)&&S.delete(T),O?.data?.type==="draft"&&S.delete("draft"),O&&(O.data=void 0),w(f,()=>z),w(v,()=>S)},y=()=>{w(f,()=>[]),w(d,()=>new Map),w(v,()=>new Map)},D=()=>a(f),A=T=>{const z=a(d)();for(const S of T){const O=z.get(S);O?O.count++:z.set(S,{name:S,count:1})}w(d,()=>z)},P=T=>{const z=a(d)();for(const S of T){const O=z.get(S);O&&(O.count--,O.count<=0&&z.delete(S))}w(d,()=>z)},b=async()=>{const[T,z]=await Promise.all([ro(a(s),yt),ro(a(s),bt).then(ie=>ie.reduce((ue,Ce)=>ue.set(Ce.name,Ce),new Map))]),S=[],O=[],oe=new Map;let be=0;for(const ie of T)ie.data.deletedAt&&Date.now()-ie.data.deletedAt>l?S.push(ie.id):(O.push(ie),oe.set(ie.id,ie),ie.data.deletedAt&&(be+=1),ie.data.type==="draft"&&oe.set("draft",ie));w(c,be,!0);const fe=tc(O),ne=new Map;fe.entries().forEach(([ie,ue])=>{const Ce=z.get(ie);ne.set(ie,{...Ce,...ue})}),await br(a(s),yt,S),await tn(a(s),bt),await na(a(s),bt,Array.from(ne.values()).map(ie=>({id:ie.name,data:{pinned:ie.pinned}}))),w(f,()=>O),w(v,()=>oe),w(d,()=>ne),w(u,!0)},E=async()=>{const T=a(v)(),z=T.get("draft");if(z)return z;const S={id:ec(),data:{type:"draft",url:"",name:"",text:"",tags:[],draft:{url:"",name:"",text:"",tags:[],createdAt:Date.now(),updatedAt:Date.now()},createdAt:Date.now(),updatedAt:Date.now()}};return await tr(a(s),yt,S.id,{...S.data}),T.set("draft",S),m(S),i.postMessage({type:"createNoteDraft",data:{note:S}}),S},M=async T=>{const S=a(v)().get(T);if(!S||!S.data)return;const O=a(d)(),oe=S.data.tags;P(oe),x(T),i.postMessage({type:"deleteNote",data:{id:T}}),g(),await Gl(a(s),yt,T),await br(a(s),bt,oe.filter(be=>{const fe=O.get(be);return fe?fe.count<=1:!1}))},G=async(T,z)=>{const S={id:z.id,data:{...z.data}},O=a(d)(),oe=z.data.tags.filter(fe=>!T.data.tags.includes(fe)),be=T.data.tags.filter(fe=>!z.data.tags.includes(fe));await tr(a(s),yt,S.id,{...S.data}),await na(a(s),bt,oe.filter(fe=>!O.has(fe)).map(fe=>({id:fe,data:{}}))),await br(a(s),bt,be.filter(fe=>{const ne=O.get(fe);return ne?ne.count<=1:!1})),C(S),P(be),A(oe),i.postMessage({type:"updateNote",data:{note:S,tagsToAdd:oe,tagsToDelete:be}})},Y=async T=>{const z=a(v)(),S=K(T);if(!S||!S.data)return;const O=z.get("draft");O&&O.id===S.id&&z.delete("draft");const oe={id:T,data:{type:"note",name:S.data.draft?.name??S.data.name,url:S.data.draft?.url??S.data.url,text:S.data.draft?.text??S.data.text,tags:S.data.draft?.tags??S.data.tags,updatedAt:Date.now(),createdAt:S.data.createdAt,pinnedAt:S.data.pinnedAt,deletedAt:S.data.deletedAt,draft:void 0}};return G(S,oe)},F=async()=>{y(),i.postMessage({type:"clearNotes"}),await tn(a(s),yt),await tn(a(s),bt)},K=T=>{const z=a(v)();return T?z.get(T):z.get("draft")},se=async(T,z)=>{const O=a(v)().get(T);if(!O||!O.data)return;const oe={id:T,data:{...O.data,pinnedAt:z?Date.now():void 0}};return G(O,oe)},te=async T=>{const S=a(v)().get(T);if(!S||!S.data)return;const O={id:T,data:{...S.data,deletedAt:Date.now()}};w(c,a(c)+1),await G(S,O)},re=async T=>{const S=a(v)().get(T);if(!S||!S.data)return;const O={id:T,data:{...S.data,deletedAt:0}};g(),await G(S,O)},Q=async(T,z)=>{const S=a(d)();S.set(T,{name:T,count:S.get(T)?.count||0,pinned:z}),await tr(a(s),bt,T,{pinned:z}),i.postMessage({type:"pinTag",data:{tag:T,pinned:z}}),w(d,()=>S)},J=async T=>{const z=a(v)(),S={};T.forEach(O=>{const oe=z.get(O.id);(!oe||oe&&oe.data&&oe.data.updatedAt<O.data.updatedAt)&&(S[O.id]=O)}),await na(a(s),yt,Object.values(S)),await b(),i.postMessage({type:"reloadNotes"})},j=async()=>{const T=[];a(f)().forEach(S=>{S&&S.data&&S.data.deletedAt&&T.push(S.id)}),w(c,0),await br(a(s),yt,T),await b(),i.postMessage({type:"emptyBin"})},Z=async(T,z)=>{if(T===""){const be=a(v)().get("draft");be?T=be.id:T=(await E()).id}const S=K(T);if(!S||!S.data)return;const O={id:T,data:{...S.data,draft:{...z,tags:z.tags,createdAt:S.data.draft?.createdAt||Date.now(),updatedAt:Date.now()}}};return await G(S,O),S.id},N=async T=>{const z=a(v)(),S=K(T);if(!S||!S.data||!S.data.draft)return;if(S.data.type==="draft"){T===z.get("draft")?.id&&z.delete("draft"),await M(T);return}const O={id:T,data:{...S.data,draft:void 0}};return G(S,O)},I=async T=>{const z=JSON.parse(T.data),S=z;if(z.tabId&&z.tabId===o){S.type==="exit"&&(y(),await tn(a(s),yt),await tn(a(s),bt));return}if(S.type==="createNoteDraft"){const O=S.data.note;a(v)().set("draft",O),m(O)}else if(S.type==="updateNote"){const O=S.data,be=a(v)().get(O.note.id);if(!be||!be.data)return;be.data.deletedAt&&!O.note.data.deletedAt?g():!be.data.deletedAt&&O.note.data.deletedAt&&w(c,a(c)+1),C(O.note),P(O.tagsToAdd),A(O.tagsToDelete)}else if(S.type==="deleteNote"){const O=S.data.id,be=a(v)().get(O);if(!be)return;g(),x(O),P(be?.data?.tags||[])}else if(S.type==="pinTag"){const O=S.data.tag,oe=S.data.pinned,be=a(d)(),fe=be.get(O);fe&&(fe.pinned=oe,be.set(O,fe))}else S.type==="clearNotes"?y():S.type==="reloadNotes"||S.type==="emptyBin"?b():S.type==="exit"&&y()};ke(()=>(b(),i.addEventListener(I),()=>{i.removeEventListener(I)})),$l({isInitedNotes:p,putNoteDraft:Z,deleteNoteDraft:N,deleteNote:M,pinNote:se,getGetNotes:D,importNotes:J,clearNotes:F,getNoteById:K,getGetMapTags:()=>a(d),pinTag:Q,moveNoteToBin:te,restoreNoteFromBin:re,checkNotesInBin:h,emptyBin:j,saveNoteDraft:Y,countNotesInBin:()=>a(c)});var ae=X(),le=B(ae);ye(le,()=>e.children??xe),_(t,ae),ee()}const bs={},rc=()=>({working:!1,swipingRatio:1,isSwiping:!1,duration:.35});function ac(t){Fe(bs,t)}function Jt(){const t=Re(bs);if(!t)throw new Error("No AnimationSettingsContext found");return t}function oc(t,e){$(e,!0);let n=Be(rc());ac(n);var r=X(),o=B(r);ye(o,()=>e.children??xe),_(t,r),ee()}const Ss={};function sc(t){Fe(Ss,t)}function Na(){const t=Re(Ss);if(!t)throw new Error("No ScrollingContext found");return t}function ic(t,e){$(e,!0);let n=U(!1);const r=()=>a(n),o=vs(()=>{w(n,!1)},100);sc({isScrolling:r,enable:()=>{w(n,!0),o()}});var i=X(),l=B(i);ye(l,()=>e.children??xe),_(t,i),ee()}const ks={};function lc(t){Fe(ks,t)}function Gn(){const t=Re(ks);if(!t)throw new Error("No MobileSizeContext found");return t}function cc(t,e){$(e,!0);const n=()=>window.matchMedia("(max-width: 767px)").matches;let r=U(Be(n())),o=Jt();const s=vs(()=>{o.working=!0},16),i=()=>{o.working=!1,s(),requestAnimationFrame(()=>{w(r,n(),!0)})};lc({checkMobileSize:()=>a(r)}),ke(()=>(window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)));var c=X(),u=B(c);ye(u,()=>e.children??xe),_(t,c),ee()}const Cs={};function uc(t){Fe(Cs,t)}function Qt(){const t=Re(Cs);if(!t)throw new Error("No DialogContext found");return t}function dc(t,e){$(e,!0);let n=U(0),r=U(!1),o=U(!0);uc({checkExistedDialog:()=>a(n)>0,showDialog:()=>{w(n,a(n)+1)},hideDialog:()=>{w(n,a(n)-1)},blockDialog:h=>{w(r,h,!0)},checkBlockedDialog:()=>a(r),setClosableDialog:h=>{w(o,h,!0)},checkClosableDialog:()=>a(o)});var v=X(),p=B(v);ye(p,()=>e.children??xe),_(t,v),ee()}const Es={};function fc(t){Fe(Es,t)}function La(){const t=Re(Es);if(!t)throw new Error("No ScrollContainerContext found");return t}function vc(t,e){$(e,!0);let n=U(null);fc({setScrollContainer:l=>{w(n,l,!0)},getScrollContainer:()=>a(n)});var s=X(),i=B(s);ye(i,()=>e.children??xe),_(t,s),ee()}const xs={};function hc(t){Fe(xs,t)}function Ma(){const t=Re(xs);if(!t)throw new Error("No DialogPageHeightContext found");return t}function gc(t,e){$(e,!0);let n=U(200);hc({setDialogPageHeight:l=>{w(n,l,!0)},getDialogPageHeight:()=>a(n)});var s=X(),i=B(s);ye(i,()=>e.children??xe),_(t,s),ee()}const pc=[Jn,Pr,yt,bt,Xl];function _c(){return new Promise((t,e)=>{const n=indexedDB.open(Yl,Kl);He(n,"upgradeneeded",()=>{const r=n.result;for(const o of pc)r.objectStoreNames.contains(o)||r.createObjectStore(o,{keyPath:"id"})}),He(n,Gt,()=>{const r=n.result;t(r),r.onversionchange=function(){r?.close(),alert("app outdated, please reload the page")}}),He(n,"blocked",()=>{e(),alert("app outdated, please reload the page")}),He(n,Zt,()=>{e()})})}function mc(t,e){$(e,!0);let n=U(null);ke(()=>{_c().then(l=>{w(n,l,!0)}).catch(l=>{})}),Vl({getDB:()=>a(n)});var o=X(),s=B(o);{var i=l=>{var c=X(),u=B(c);ye(u,()=>e.children??xe),_(l,c)};W(s,l=>{a(n)&&l(i)})}_(t,o),ee()}const Ps={};function wc(t){Fe(Ps,t)}function st(){const t=Re(Ps);if(!t)throw new Error("No StackPagesContext found");return t}function yc(t,e){$(e,!0);const{createBroadcastChannel:n,tabId:r}=wn(),o=n(),{getAppLocation:s,getAppHistoryStack:i,navigate:l,goBack:c,replace:u}=Tt(),d=H(s),f=H(()=>a(d).searchParams),v="stackPages",p=()=>a(f).get(v)?.split(",")||[];let h=U(Be([]));const g=()=>{const b=p();a(h).join(",")!==b.join(",")&&w(h,b,!0)};Ne(()=>{a(f),vt(()=>{g()})});const m=b=>{if(!a(h).find(E=>{const[M]=E.split("?");return M===b})){const E=new URLSearchParams(a(d).search),M=a(d).pathname;E.set(v,[...a(h),b].join(",")),l(`${M}${E.size>0?`?${E.toString()}`:""}`)}},C=b=>a(h).find(E=>{const[M]=E.split("?");return M===b})!==void 0,x=()=>{const b=i(),E=b.findIndex(M=>M.searchParams.has(v));if(b.length<=1||E===-1){const M=new URLSearchParams(a(d).search);M.delete(v),u(`${a(d).pathname}${M.size>0?`?${M.toString()}`:""}`)}else if(E===0){c(b.length-E+1);const M=new URLSearchParams(a(d).search);M.delete(v),u(`${a(d).pathname}${M.size>0?`?${M.toString()}`:""}`)}else c(b.length-E)},y=(b,E)=>{if(E?.full)return`/${b}`;const M=a(h).slice();M.includes(b)||M.push(b);const G=new URLSearchParams(a(d).search);return G.set(v,M.join(",")),`${a(d).pathname}?${G}`},D=(b,E)=>M=>{if(M.preventDefault(),E?.full){l(b);return}m(b)};ke(()=>{const b=E=>{const M=JSON.parse(E.data),G=M;if(M.tabId&&M.tabId===r){if(G.type==="navigateBack"&&a(h).length>0){const Y=new URLSearchParams(a(d).search);a(h).length>1?Y.set(v,a(h).slice(0,-1).join(",")):Y.delete(v),u(`${a(d).pathname}${Y.size>0?`?${Y.toString()}`:""}`)}return}};return o.addEventListener(b),()=>{o.removeEventListener(b)}}),wc({getStackPages:()=>a(h),pushStackPages:m,hasStackPage:C,clearStackPages:x,getPageUrl:y,createHandlePage:D,getStackPagesFormUrl:p});var A=X(),P=B(A);ye(P,()=>e.children??xe),_(t,A),ee()}function bc(t,e){$(e,!0);const{createBroadcastChannel:n}=wn(),r=n(),o=g=>g.startsWith("/")?g:`/${g}`,s=g=>{const[m,C]=g.split("?");return{href:o(g),pathname:o(m),search:C?`?${C}`:"",searchParams:new URLSearchParams(C)}};let i=U(Be([{href:`${o(window.location.pathname)}${window.location.search}`,pathname:o(window.location.pathname),search:window.location.search,searchParams:new URLSearchParams(window.location.search)}]));const l=g=>{a(i).push(s(g)),window.history.replaceState(null,"",g)},c=g=>{a(i)[a(i).length-1]=s(g),window.history.replaceState(null,"",g)};Ll({getAppLocation:()=>a(i)[a(i).length-1],getAppHistoryStack:()=>a(i),navigate:l,replace:c,addSearchParam:(g,m)=>{const C=a(i)[a(i).length-1],x=C.searchParams;x.set(g,m),c(`${C.pathname}${x.size>0?`?${x.toString()}`:""}`)},deleteSearchParam:g=>{const m=a(i)[a(i).length-1],C=m.searchParams;C.delete(g),c(`${m.pathname}${C.size>0?`?${C.toString()}`:""}`)},back:g=>{const{to:m}=g||{};if(a(i).length>1){if(m){const x=a(i).findIndex(y=>y.href===m);if(x!==-1){w(i,a(i).slice(0,x+1),!0);const y=a(i)[a(i).length-1];window.history.replaceState(null,"",y.href)}else c(m);return}a(i).pop();const C=a(i)[a(i).length-1];window.history.replaceState(null,"",C.href)}else m?c(m):r.postMessage({type:"navigateBack"})},goBack:g=>{if(a(i).length>=g){w(i,a(i).slice(0,-g),!0);const m=a(i)[a(i).length-1];window.history.replaceState(null,"",m.href)}}});var p=X(),h=B(p);ye(h,()=>e.children??xe),_(t,p),ee()}const As={};function Sc(t){Fe(As,t)}function Ds(){const t=Re(As);if(!t)throw new Error("No KeyboardVisibleContext found");return t}function kc(t,e){$(e,!0);let n=Be({value:!1});const r=()=>n.value;ke(()=>{const i=()=>{setTimeout(()=>{document.activeElement instanceof HTMLInputElement&&document.activeElement.type==="text"||document.activeElement instanceof HTMLTextAreaElement?n.value=!0:n.value=!1},0)};return i(),document.addEventListener("focusin",i),document.addEventListener("focusout",i),()=>{document.removeEventListener("focusin",i),document.removeEventListener("focusout",i)}}),Sc({getIsKeyboardVisible:r});var o=X(),s=B(o);ye(s,()=>e.children??xe),_(t,o),ee()}function Cc(t,e){$(e,!0);const n=crypto.randomUUID(),r=(i,l)=>{i.postMessage(JSON.stringify({...l,tabId:n}))};Wl({tabId:n,createBroadcastChannel:()=>{const i=new BroadcastChannel("app");return{postMessage:l=>r(i,l),addEventListener:l=>{i.addEventListener("message",l)},removeEventListener:l=>{i.removeEventListener("message",l)}}}});var o=X(),s=B(o);ye(s,()=>e.children??xe),_(t,o),ee()}function Ec(t,e){mc(t,{children:(n,r)=>{Cc(n,{children:(o,s)=>{oc(o,{children:(i,l)=>{ic(i,{children:(c,u)=>{cc(c,{children:(d,f)=>{dc(d,{children:(v,p)=>{vc(v,{children:(h,g)=>{gc(h,{children:(m,C)=>{kc(m,{children:(x,y)=>{bc(x,{children:(D,A)=>{yc(D,{children:(P,b)=>{var E=X(),M=B(E);ye(M,()=>e.children??xe),_(P,E)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})}function xc(t,e){Ec(t,{children:(n,r)=>{Ol(n,{children:(o,s)=>{Ml(o,{children:(i,l)=>{Rl(i,{children:(c,u)=>{zl(c,{children:(d,f)=>{Ul(d,{children:(v,p)=>{Zl(v,{children:(h,g)=>{Ql(h,{children:(m,C)=>{nc(m,{children:(x,y)=>{var D=X(),A=B(D);ye(A,()=>e.children??xe),_(x,D)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})}})}let Ht=U(""),$t=U(null),Qn=U(null),$n=U(null);function fn(t,e){w(Ht,""),setTimeout(()=>{w(Ht,t,!0),e?.onFinish&&w(Qn,e.onFinish,!0),e?.onCancel&&w($n,e.onCancel,!0)},16)}const Pc=(t,e,n,r,o)=>{t.preventDefault(),a(e)&&(w(n,null),a(e)(),w(e,null)),w(r,""),a(o)?.style.removeProperty("opacity")};var Ac=V('<button type="button" class="undoButton svelte-1vxmgq5">undo</button>'),Dc=V('<div class="notification svelte-1vxmgq5"><span> </span> <!></div>'),Tc=V("<div><!></div>");function Nc(t,e){$(e,!0),Ne(()=>{a(Ht);const s=a($n)?2e3:800;a(Ht)&&(a($t)?.getBoundingClientRect(),a($t)?.style.setProperty("opacity","1"));const i=setTimeout(()=>{a($t)?.style.removeProperty("opacity")},s),l=setTimeout(()=>{w(Ht,""),a(Qn)&&a(Qn)(),w(Qn,null),w($n,null),a($t)?.style.removeProperty("opacity")},s+400);return()=>{clearTimeout(i),clearTimeout(l)}});var n=Tc(),r=k(n);{var o=s=>{var i=Dc(),l=k(i),c=k(l),u=R(l,2);{var d=f=>{var v=Ac();v.__click=[Pc,$n,Qn,Ht,$t],_(f,v)};W(u,f=>{a($n)&&f(d)})}ot(i,f=>w($t,f),()=>a($t)),de(()=>Bt(c,a(Ht))),_(s,i)};W(r,s=>{a(Ht)&&s(o)})}_(t,n),ee()}qe(["click"]);var Lc=V('<span class="vh svelte-s92gzo"><!></span>');function Ke(t,e){var n=Lc(),r=k(n);ye(r,()=>e.children),_(t,n)}var Mc=fl('<svg class="svelte-18et5h9"><use></use></svg>');function we(t,e){let n=ve(e,"name",8,"");var r=Mc(),o=k(r);de(()=>Me(o,"href",`#icon-${n()??""}`)),_(t,r)}const Ic=(t,e,n,r,o)=>{if(a(e))return;const s=n().type;s==="closed"?r():s==="opened"&&o()};var Oc=V('<button class="buttonMenu svelte-bpktnw"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>');function Ts(t,e){$(e,!0);const{sidebarOpen:n,getSidebarState:r,sidebarClose:o}=Yr(),{getStackPagesFormUrl:s}=st(),{checkExistedDialog:i}=Qt();let l=H(()=>s().length>0||i());var c=Oc();c.__click=[Ic,l,r,n,o];var u=k(c);_e(u,()=>({"--size":"36px"})),we(u.lastChild,{name:"sidebarMenu"});var d=R(u,2);Ke(d,{children:(f,v)=>{var p=Ie("Menu");_(f,p)}}),_(t,c),ee()}qe(["click"]);var Bc=(t,e)=>e.onChange?.(t.target?.value||""),Rc=V('<input class="svelte-15lr19w"/>');function ga(t,e){$(e,!0);let n=ve(e,"value",15,""),r=ve(e,"ref",15,null);var o=Rc();o.__input=[Bc,e],ot(o,s=>r(s),()=>r()),de(()=>Me(o,"placeholder",e.placeholder)),Aa("focus",o,function(...s){e.onFocus?.apply(this,s)}),Pl(o,n),_(t,o),ee()}qe(["input"]);function Ia(t,e){$(e,!0),ke(()=>{const n=r=>{r.target&&e.dialog?.open&&e.dialogInner&&e.dialogInner!==r.target&&!e.dialogInner.contains(r.target)&&e.onClose()};return document.addEventListener("mousedown",n,{capture:!0}),()=>{document.removeEventListener("mousedown",n,{capture:!0})}}),ee()}var Fc=V('<dialog><div class="dialogInner svelte-1x410nl"><!></div></dialog> <!>',1);function Oa(t,e){$(e,!0);let n=U(null),r=U(null),o=U(!1),{showDialog:s,hideDialog:i}=Qt();const l=h=>{h?.preventDefault();const g=setTimeout(()=>{e.onClosed()},150);a(n)?.addEventListener("transitionend",()=>{clearTimeout(g),e.onClosed()},{once:!0}),w(o,!1)};Ne(()=>{e.startClose&&l()}),ke(()=>(a(n)?.showModal(),a(n)?.getClientRects(),w(o,!0),a(n)?.addEventListener("cancel",l),a(n)?.addEventListener("close",l),()=>{a(n)?.removeEventListener("cancel",l),a(n)?.removeEventListener("close",l)})),ke(()=>(s(),()=>{i()}));var c=Fc(),u=B(c),d=k(u),f=k(d);ye(f,()=>e.children),ot(d,h=>w(r,h),()=>a(r)),ot(u,h=>w(n,h),()=>a(n));var v=R(u,2);{var p=h=>{Ia(h,{get dialog(){return a(n)},get dialogInner(){return a(r)},onClose:l})};W(v,h=>{a(n)&&a(r)&&h(p)})}de(()=>pe(u,1,ge(["dialog",{shown:a(o)}]),"svelte-1x410nl")),_(t,c),ee()}var zc=V("<div><!></div>");function Ns(t,e){$(e,!0);let n=U(!1),r=U(null);const o=()=>{const u=setTimeout(()=>{e.onClosed()},150);a(r)?.addEventListener("transitionend",()=>{clearTimeout(u),e.onClosed()},{once:!0}),w(n,!1)},s=u=>{u.target!==a(r)&&!a(r)?.contains(u.target)&&o()},i=u=>{u.target!==a(r)&&!a(r)?.contains(u.target)&&o()};ke(()=>{a(r)?.getClientRects(),w(n,!0);const u=setTimeout(()=>{document.addEventListener("focusin",s),document.addEventListener("click",i)},0);return()=>{clearTimeout(u),document.removeEventListener("focusin",s),document.removeEventListener("click",i)}}),Ne(()=>{e.startClose&&o()});var l=zc(),c=k(l);ye(c,()=>e.children),ot(l,u=>w(r,u),()=>a(r)),de(()=>pe(l,1,ge(["menu",{top:e.positionTop,shown:a(n)}]),"svelte-ujw4xi")),_(t,l),ee()}const Hc=(t,e)=>{a(e)||w(e,!0)};var jc=(t,e)=>e("newest"),Uc=(t,e)=>e("oldest"),Vc=(t,e)=>e("AtoZ"),qc=(t,e)=>e("ZtoA"),Wc=V("<div><button>Newest</button> <button>Oldest</button> <button>A to Z</button> <button>Z to A</button></div>"),Yc=V('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),Kc=V('<div class="orderMenu svelte-14zj87s"><button><!> <!></button> <!></div>');function Xc(t,e){$(e,!0);const n=(x,y=xe)=>{var D=Wc(),A=k(D);A.__click=[jc,d];var P=R(A,2);P.__click=[Uc,d];var b=R(P,2);b.__click=[Vc,d];var E=R(b,2);E.__click=[qc,d],de(()=>{pe(D,1,ge(["menu",{menuDialog:y()}]),"svelte-14zj87s"),pe(A,1,ge(["menuButton",{menuButtonDialog:y(),current:a(u)==="newest"}]),"svelte-14zj87s"),pe(P,1,ge(["menuButton",{menuButtonDialog:y(),current:a(u)==="oldest"}]),"svelte-14zj87s"),pe(b,1,ge(["menuButton",{menuButtonDialog:y(),current:a(u)==="AtoZ"}]),"svelte-14zj87s"),pe(E,1,ge(["menuButton",{menuButtonDialog:y(),current:a(u)==="ZtoA"}]),"svelte-14zj87s")}),_(x,D)};let r=U(!1),o=U(!1);const{checkMobileSize:s}=Gn(),{getFeedOrder:i,setFeedOrder:l}=cs();let c=H(s),u=H(i);const d=x=>{w(o,!0),l(x)},f=()=>{w(r,!1),w(o,!1)};ke(()=>{const x=y=>{y.key==="Escape"&&w(o,!0)};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)});var v=Kc(),p=k(v);p.__click=[Hc,r],pe(p,1,ge(["button","buttonMenu"]),"svelte-14zj87s");var h=k(p);we(h,{name:"filter"});var g=R(h,2);Ke(g,{children:(x,y)=>{var D=Ie("show feed order menu");_(x,D)}});var m=R(p,2);{var C=x=>{var y=X(),D=B(y);{var A=b=>{Oa(b,{get startClose(){return a(o)},onClosed:f,children:(E,M)=>{n(E,()=>!0)},$$slots:{default:!0}})},P=b=>{var E=Yc(),M=B(E);_e(M,()=>({"--right":"20px","--top":"60px"})),Ns(M.lastChild,{get startClose(){return a(o)},onClosed:f,children:(G,Y)=>{n(G,()=>!1)},$$slots:{default:!0}}),_(b,E)};W(D,b=>{a(c)?b(A):b(P,!1)})}_(x,y)};W(m,x=>{a(r)&&x(C)})}_(t,v),ee()}qe(["click"]);var q=(t=>(t.NewNote="newNote",t.EditNote="editNote",t.Settings="settings",t.ImportData="importData",t.ExportData="exportData",t.ClearStore="clearStore",t.Account="account",t.Sync="sync",t.AccountSetup="accountSetup",t.Auth="auth",t.Signin="signin",t.Signup="signup",t.AccessKeys="accessKeys",t.ConfirmAccessKey="confirmAccessKey",t.Subscription="subscription",t.Exit="exit",t.NotFound="notFound",t.About="about",t.Bin="bin",t.Install="install",t.Wellcome="wellcome",t))(q||{}),Gc=V("<a><!></a>"),Zc=V("<button><!></button>");function Yt(t,e){let n=ve(e,"type",3,"standard"),r=ve(e,"typeButton",3,"button"),o=ve(e,"element",3,"button"),s=ve(e,"href",3,""),i=ve(e,"fullWidth",3,!1),l=ve(e,"withoutMinWidth",3,!1);var c=X(),u=B(c);{var d=v=>{var p=Gc();p.__click=function(...g){e.onClick?.apply(this,g)};var h=k(p);ye(h,()=>e.children??xe),de(()=>{Me(p,"href",s()),pe(p,1,ge(["button","a",{dangerous:n()==="dangerous",secondary:n()==="secondary",fullWidth:i(),withoutMinWidth:l()}]),"svelte-aqjevc")}),_(v,p)},f=v=>{var p=Zc();p.__click=function(...g){e.onClick?.apply(this,g)};var h=k(p);ye(h,()=>e.children??xe),de(()=>{Me(p,"type",r()),pe(p,1,ge(["button",{dangerous:n()==="dangerous",secondary:n()==="secondary",fullWidth:i(),withoutMinWidth:l()}]),"svelte-aqjevc")}),_(v,p)};W(u,v=>{o()==="a"?v(d):v(f,!1)})}_(t,c)}qe(["click"]);var Jc=V('<div class="block svelte-1dzbsx4"><span class="title svelte-1dzbsx4"> </span> <div class="controls svelte-1dzbsx4"><!> <!></div></div>');function Ls(t,e){$(e,!0);let n=ve(e,"buttonCancelTitle",3,"Cancel"),r=ve(e,"buttonConfirmTitle",3,"Confirm"),o=U(!1),s=U(!1);const i=()=>{w(o,!0)},l=()=>{w(o,!0),w(s,!0)};Oa(t,{get startClose(){return a(o)},onClosed:()=>{a(s)?e.onConfirm():e.onCancel()},children:(u,d)=>{var f=Jc(),v=k(f),p=k(v),h=R(v,2),g=k(h);Yt(g,{onClick:i,fullWidth:!0,withoutMinWidth:!0,type:"secondary",children:(C,x)=>{var y=Ie();de(()=>Bt(y,n())),_(C,y)},$$slots:{default:!0}});var m=R(g,2);Yt(m,{onClick:l,fullWidth:!0,withoutMinWidth:!0,type:"dangerous",children:(C,x)=>{var y=Ie();de(()=>Bt(y,r())),_(C,y)},$$slots:{default:!0}}),de(()=>Bt(p,e.title)),_(u,f)},$$slots:{default:!0}}),ee()}const pa=t=>{const e=n=>{const r=n.target,o=r?.tagName;if(o==="INPUT"||o==="TEXTAREA"||r?.isContentEditable)return;const s=n.key.toLowerCase(),i=n.metaKey,l=n.ctrlKey,c=n.shiftKey;if(s===t.key&&!!t.meta==!!i&&!!t.ctrl==!!l&&!!t.shift==!!c){n.preventDefault(),t.action();return}};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}};var Qc=V('<a class="buttonAdd svelte-lfflvc"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Add note</span></a>');function $c(t,e){$(e,!1);const{createHandlePage:n,getPageUrl:r,pushStackPages:o,getStackPages:s}=st(),{checkExistedDialog:i}=Qt(),l=()=>{s.length===0&&!i()&&o(q.NewNote)};ke(()=>pa({key:"n",action:l})),Wr();var c=Qc(),u=H(()=>n(q.NewNote));c.__click=function(...f){a(u)?.apply(this,f)};var d=k(c);_e(d,()=>({"--size":"16px","--color":"#b0b0b0"})),we(d.lastChild,{name:"plus"}),de(f=>Me(c,"href",f),[()=>r(q.NewNote)]),_(t,c),ee()}qe(["click"]);const eu=(t,e)=>{w(e,!0)};var tu=(t,e)=>{e("/",{full:!0})(t)},nu=V('<a class="link svelte-13t3afu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Notes</span></a>'),ru=(t,e)=>{e(q.Bin,{full:!0})(t)},au=V('<a class="link svelte-13t3afu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Bin</span></a>'),ou=V('<button class="emptyBinButton svelte-13t3afu" type="button">Empty bin</button>'),su=V('<div class="header svelte-13t3afu"><div class="top svelte-13t3afu"><div class="menu svelte-13t3afu"><a class="link svelte-13t3afu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Settings</span></a> <a class="link svelte-13t3afu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Sync</span></a> <!></div> <div class="mobile svelte-13t3afu"><!></div> <!></div> <div class="bottom svelte-13t3afu"><div><div class="sidebarSearchWrapper"><!></div></div> <div class="right svelte-13t3afu"><div class="filter svelte-13t3afu"><div class="feedSearchWrapper svelte-13t3afu"><!></div> <!></div></div></div></div> <!>',1);function iu(t,e){$(e,!0);const n=as(),r=is(),{getScrollContainer:o}=La();let s=H(o);const{emptyBin:i,checkNotesInBin:l}=dr(),{getAppLocation:c}=Tt(),{createHandlePage:u,getPageUrl:d,getStackPages:f}=st(),{checkExistedDialog:v}=Qt();let p=U(null);const h=H(l),g=H(()=>c().pathname);let m=U(!1);const C=()=>{a(s)&&a(s).scrollTo({top:0,behavior:"smooth"})},x=()=>{f.length===0&&!v()&&a(p)?.focus()};ke(()=>pa({key:"k",meta:!0,action:x})),ke(()=>pa({key:"k",ctrl:!0,action:x}));var y=su(),D=B(y),A=k(D),P=k(A),b=k(P),E=H(()=>u(q.Settings));b.__click=function(...ne){a(E)?.apply(this,ne)};var M=k(b);_e(M,()=>({"--rotate":"30deg","--size":"20px"})),we(M.lastChild,{name:"settings"});var G=R(b,2),Y=H(()=>u(q.Sync));G.__click=function(...ne){a(Y)?.apply(this,ne)};var F=k(G);_e(F,()=>({"--size":"20px"})),we(F.lastChild,{name:"sync"});var K=R(G,2);{var se=ne=>{var ie=nu();ie.__click=[tu,u];var ue=k(ie);_e(ue,()=>({"--size":"18px"})),we(ue.lastChild,{name:"note"}),de(Ce=>Me(ie,"href",Ce),[()=>d("/",{full:!0})]),_(ne,ie)},te=ne=>{var ie=X(),ue=B(ie);{var Ce=Ee=>{var Ae=au();Ae.__click=[ru,u];var De=k(Ae);_e(De,()=>({"--size":"20px"})),we(De.lastChild,{name:"bin"}),de(Le=>Me(Ae,"href",Le),[()=>d(q.Bin,{full:!0})]),_(Ee,Ae)};W(ue,Ee=>{a(h)&&Ee(Ce)},!0)}_(ne,ie)};W(K,ne=>{a(g)===`/${q.Bin}`?ne(se):ne(te,!1)})}var re=R(P,2),Q=k(re);Ts(Q,{});var J=R(re,2);{var j=ne=>{var ie=X(),ue=B(ie);{var Ce=Ee=>{var Ae=ou();Ae.__click=[eu,m],_(Ee,Ae)};W(ue,Ee=>{a(h)&&Ee(Ce)})}_(ne,ie)},Z=ne=>{$c(ne,{})};W(J,ne=>{a(g)===`/${q.Bin}`?ne(j):ne(Z,!1)})}var N=R(A,2),I=k(N);pe(I,1,ge(["left"]),"svelte-13t3afu");var ae=k(I),le=k(ae);ga(le,{placeholder:"Search tag",get value(){return r.value},set value(ne){r.value=ne}});var T=R(I,2),z=k(T),S=k(z),O=k(S);ga(O,{onFocus:C,placeholder:"Search",get ref(){return a(p)},set ref(ne){w(p,ne,!0)},get value(){return n.value},set value(ne){n.value=ne}});var oe=R(S,2);Xc(oe,{});var be=R(D,2);{var fe=ne=>{Ls(ne,{title:"Are you sure you want to empty the bin?",buttonConfirmTitle:"Empty",onConfirm:()=>{i(),w(m,!1)},onCancel:()=>{w(m,!1)}})};W(be,ne=>{a(m)&&ne(fe)})}de((ne,ie)=>{Me(b,"href",ne),Me(G,"href",ie)},[()=>d(q.Settings),()=>d(q.Sync)]),_(t,y),ee()}qe(["click"]);function lu(t,e){$(e,!0);const{getIsKeyboardVisible:n}=Ds();let r=ve(e,"dialog",7);const o=H(n),s=Jt();let i=null;const l=()=>{e.dialogState==="swiping"&&e.onClose()};Ne(()=>(e.dialogState==="swiping"&&(i=setTimeout(l,3e3)),()=>{i&&(clearTimeout(i),i=null)}));let c=null,u=null;const d=3,f=50,v=5,p=.6,h=.3,g=.35,m=.95;let C=0,x=0,y=0,D=!1,A=!1,P=0,b=0,E=0;const M=()=>{C=0,x=0,D=!1,A=!1,P=0,b=0,E=0,y=0,c=null,u!==null&&(cancelAnimationFrame(u),u=null),i&&(clearTimeout(i),i=null)},G=j=>{r()&&e.dialogState==="opened"&&(C=j.touches[0].clientX,x=j.touches[0].clientY,y=performance.now(),D=!0,A=!1)},Y=j=>e.dialogState==="opened"&&j>0||e.dialogState==="swiping"&&j>0,F=()=>{if(r()){r().style.setProperty("--transition-timing","0s"),e.onSwipe();try{const j=window.getComputedStyle(r()),Z=j.transform||j.webkitTransform||"";if(b=r().offsetWidth,(e.dialogState==="swiping"||e.dialogState==="opened")&&(P=0),Z&&Z!=="none")try{P=new DOMMatrix(Z).m41}catch{}A=!0}catch{M()}}},K=()=>{if(!r())return;const Z=Math.abs(P+E*b/100)/b;r().style.setProperty("--backdrop-bg",`rgba(0, 0, 0, ${.1*(1-Z)})`)},se=()=>{if(u=null,!c||!D||!r()||a(o)){M();return}const j=[...c.touches].reduce((O,oe)=>O+oe.clientX,0)/c.touches.length,Z=[...c.touches].reduce((O,oe)=>O+oe.clientY,0)/c.touches.length,N=j-C,I=Z-x,ae=Math.abs(N)>Math.abs(I),le=Math.abs(N)>d;if(!A)if(ae&&le&&Y(N))try{F()}catch{M();return}else return;let T=P+N*m;T=Math.max(0,Math.min(b,T)),!(T<0)&&(r().style.setProperty("--transition-timing","0s"),r().style.transform=`translate3d(${T}px, 0, 0)`,s.swipingRatio=Math.abs(1-T/b),E=(T-P)/b*100,e.dialogState==="swiping"&&(i&&clearTimeout(i),i=setTimeout(l,3e3)),K())},te=j=>{if(!D)return;c=j,u===null&&(u=requestAnimationFrame(se));const Z=j.touches[0].clientX-C,N=j.touches[0].clientY-x,I=Math.abs(Z)>Math.abs(N);A&&I&&j.preventDefault()},re=j=>{const Z=Math.abs(j);if(Z>=p)return v;if(Z>=h){const N=(Z-h)/(p-h);return f-N*(f-v)}else return f},Q=(j,Z)=>{if(Math.abs(j)>=p)return g*.5;const I=Math.abs(E)/100;return Z?g*Math.max(.5,1-I):g*Math.max(.5,I)},J=j=>{if(u!==null&&(cancelAnimationFrame(u),u=null),!D||!r()){M();return}if(!A){M();return}let Z=0;if(j?.changedTouches?.[0]){const T=j.changedTouches[0].clientX,S=performance.now()-y;S>0&&(Z=(T-C)/S)}const N=re(Z);let I=null;e.dialogState==="swiping"&&(I=Math.abs(E)>N||Z<-h?"close":"open");const ae=e.dialogState==="swiping"&&I==="close",le=Q(Z,ae);s.duration=le-.02,r().style.setProperty("--transition-timing",`${le}s`),r().offsetWidth,r().style.transform="",I==="open"?e.onOpen():I==="close"&&e.onClose(),r()?.style.removeProperty("--backdrop-bg"),M()};ke(()=>(r().addEventListener("touchstart",G,{passive:!0}),r().addEventListener("touchmove",te,{passive:!1}),r().addEventListener("touchend",J,{passive:!0}),r().addEventListener("touchcancel",J,{passive:!0}),()=>{r().removeEventListener("touchstart",G),r().removeEventListener("touchmove",te),r().removeEventListener("touchend",J),r().removeEventListener("touchcancel",J),u!==null&&cancelAnimationFrame(u)})),ee()}var cu=(t,e)=>{e.onStartClose()},uu=V('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),du=V('<dialog><div class="dialogInner svelte-vr2o0t"><div class="header svelte-vr2o0t"><div><!></div></div> <!></div></dialog> <!>',1);function fu(t,e){$(e,!0);let n=350;const{isScrolling:r,enable:o}=Na();let s=U(null),i=U(null);const l=Jt(),c=P=>{P.preventDefault(),e.onStartClose()};ke(()=>(a(s)?.addEventListener("close",e.onClosed),a(s)?.addEventListener("cancel",c),()=>{a(s)?.removeEventListener("close",e.onClosed),a(s)?.removeEventListener("cancel",c)}));const u=()=>{a(s)?.style.removeProperty("--transition-timing"),a(s)?.style.removeProperty("transform"),a(s)?.style.removeProperty("--backdrop-bg")},d=()=>{o()},f=H(r);Ne(()=>{if(e.dialogState,!!a(s))switch(e.dialogState){case"opening":{a(s).open||a(s).showModal(),a(s).getBoundingClientRect();const P=setTimeout(()=>{u()},n+1),b=()=>{clearTimeout(P),u()};return a(s)?.addEventListener("transitionend",b,{once:!0}),e.onOpened(),()=>{clearTimeout(P),a(s)?.removeEventListener("transitionend",b)}}case"closing":{const P=setTimeout(()=>{e.dialogState==="closing"&&e.onClosed()},n+1),b=()=>{clearTimeout(P),e.onClosed()};return a(s)?.addEventListener("transitionend",b,{once:!0}),()=>{clearTimeout(P),a(s)?.removeEventListener("transitionend",b)}}case"opened":u()}});var v=du(),p=B(v),h=k(p),g=k(h),m=k(g),C=k(m);{var x=P=>{var b=uu();pe(b,1,ge(["navigateButton","buttonBack"]),"svelte-vr2o0t"),b.__click=[cu,e];var E=k(b);_e(E,()=>({"--size":"36px"})),we(E.lastChild,{name:"back"});var M=R(E,2);Ke(M,{children:(G,Y)=>{var F=Ie("back");_(G,F)}}),_(P,b)};W(C,P=>{e.blocked||P(x)})}var y=R(g,2);ye(y,()=>e.children),ot(h,P=>w(i,P),()=>a(i)),ot(p,P=>w(s,P),()=>a(s));var D=R(p,2);{var A=P=>{lu(P,{get onClose(){return e.onStartClose},get onOpen(){return e.onStartOpen},get onSwipe(){return e.onSwipe},get dialogState(){return e.dialogState},get dialog(){return a(s)}})};W(D,P=>{(!a(f)&&e.dialogState==="opened"||e.dialogState==="swiping")&&!e.blocked&&P(A)})}de(()=>pe(p,1,ge([{open:e.dialogState==="opened",hidden:e.hidden,isAnimationOn:l.working&&(!l.isSwiping||!e.hidden)},{hidden:e.hidden}]),"svelte-vr2o0t")),Aa("scroll",h,d),_(t,v),ee()}qe(["click"]);const ao=(t,e)=>{if(!e)return t;if(e.type==="closed")return{type:"closed"};switch(t.type){case"opened":return e.type==="close"?{type:"closing"}:e.type==="swipe"?{type:"swiping"}:t;case"closed":return e.type==="open"?{type:"opening"}:t;case"swiping":return e.type==="open"?{type:"opening"}:e.type==="close"?{type:"closing"}:t;case"opening":return e.type==="opened"?{type:"opened"}:t;default:return t}};function vu(t,e){$(e,!0);let n=ve(e,"hiddenDialog",3,!1),r=ve(e,"onClose",3,()=>{});const o=Jt();let s=U(Be(ao({type:"closed"})));const i=m=>{w(s,ao(a(s),m),!0)},l=()=>{e.onStartClose&&(e.onStartClose(),i({type:"close"}))},c=()=>{i({type:"open"})},u=()=>{i({type:"opened"}),o.swipingRatio=1,o.duration=.2},d=()=>{r()(),i({type:"closed"}),o.swipingRatio=1,o.duration=.2},f=()=>{i({type:"swipe"})};Ne(()=>{a(s).type==="swiping"?o.isSwiping=!0:o.isSwiping=!1,a(s).type==="closed"&&e.shownDialog?c():a(s).type==="opened"&&!e.shownDialog&&l()});var v={handleComputeState:i},p=X(),h=B(p);{var g=m=>{{let C=H(()=>!e.onStartClose);fu(m,{onSwipe:f,onOpened:u,onClosed:d,onStartClose:l,onStartOpen:c,get dialogState(){return a(s).type},get hidden(){return n()},get blocked(){return a(C)},children:(x,y)=>{var D=X(),A=B(D);ye(A,()=>e.children),_(x,D)},$$slots:{default:!0}})}};W(h,m=>{a(s).type!=="closed"&&m(g)})}return _(t,p),ee(v)}const hu=({getDialog:t,onOpen:e,onStartClose:n,onClose:r})=>{const o=i=>{i.preventDefault(),n()},s=()=>{r?.()};ke(()=>{const i=t();return i?.addEventListener("cancel",o),i?.addEventListener("close",s),()=>{i?.removeEventListener("cancel",o),i?.removeEventListener("close",s)}}),ke(()=>{const i=t();i?.showModal(),i?.getBoundingClientRect(),e()})};var gu=(t,e)=>{e.onStartBack()},pu=V('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),_u=(t,e)=>{e.onStartClose()},mu=V('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),wu=V('<dialog><div class="dialogInner svelte-rt409n"><div class="header svelte-rt409n"><div><!></div> <div><!></div></div> <!></div></dialog> <!>',1);function yu(t,e){$(e,!0);let n=ve(e,"blockedDialog",3,!1),r=ve(e,"hiddenDialog",3,!1),o=ve(e,"isDesktopAnimationOff",3,!1),s=U(null),i=U(null),l=U(!1);hu({getDialog:()=>a(s),onOpen:e.onOpen,onStartClose:e.onStartClose,onClose:e.onClose});const c=Jt();Ne(()=>{e.stateDialog==="closing"&&(c.working?a(s)?.addEventListener("transitionend",()=>{a(s)?.close()},{once:!0}):a(s)?.close())});const{getDialogPageHeight:u}=Ma(),d=H(u);ke(()=>{setTimeout(()=>{w(l,!0)},50)});var f=wu(),v=B(f),p=k(v),h=k(p),g=k(h),m=k(g);{var C=b=>{var E=pu();pe(E,1,ge(["navigateButton","buttonBack"]),"svelte-rt409n"),E.__click=[gu,e];var M=k(E);_e(M,()=>({"--size":"28px"})),we(M.lastChild,{name:"back"});var G=R(M,2);Ke(G,{children:(Y,F)=>{var K=Ie("back");_(Y,K)}}),_(b,E)};W(m,b=>{(!(n()||r())||n())&&e.onStartBack&&b(C)})}var x=R(g,2),y=k(x);{var D=b=>{var E=mu();pe(E,1,ge(["navigateButton","buttonClose"]),"svelte-rt409n"),E.__click=[_u,e];var M=k(E);_e(M,()=>({"--size":"28px"})),we(M.lastChild,{name:"close"});var G=R(M,2);Ke(G,{children:(Y,F)=>{var K=Ie("close");_(Y,K)}}),_(b,E)};W(y,b=>{n()||r()||b(D)})}var A=R(h,2);ye(A,()=>e.children),ot(p,b=>w(i,b),()=>a(i)),ot(v,b=>w(s,b),()=>a(s));var P=R(v,2);Ia(P,{get dialog(){return a(s)},get dialogInner(){return a(i)},get onClose(){return e.onStartClose}}),de(()=>{Un(v,`height: ${a(d)+74}px`),pe(v,1,ge([{open:e.stateDialog==="open",isHeightAnimationOn:a(l),isAnimationOn:c.working,isDesktopAnimationOff:o(),hiddenDialog:r()}]),"svelte-rt409n")}),_(t,f),ee()}qe(["click"]);const bu=({onStartClose:t,onClose:e})=>{let n=U("close");return{get state(){return a(n)},set state(i){w(n,i,!0)},handleStartClose:(i=!1)=>{i||(w(n,"closing"),t?.())},handleOpen:()=>{w(n,"open")},handleClose:()=>{w(n,"close"),e?.()}}};function Su(t,e){$(e,!0);let n=ve(e,"blockedDialog",3,!1),r=ve(e,"hiddenDialog",3,!1),o=ve(e,"onStartClose",3,()=>{}),s=ve(e,"onClose",3,()=>{}),i=bu({onStartClose:o(),onClose:s()});Ne(()=>{i.state==="close"&&e.shownDialog?i.state="opening":i.state==="open"&&!e.shownDialog&&i.handleStartClose(n())});const l=f=>{f.key==="Escape"&&n()&&(f.preventDefault(),f.stopPropagation())};ke(()=>(document.addEventListener("keydown",l),()=>{document.removeEventListener("keydown",l)}));var c=X(),u=B(c);{var d=f=>{yu(f,{get stateDialog(){return i.state},get blockedDialog(){return n()},get hiddenDialog(){return r()},get onOpen(){return i.handleOpen},get onStartBack(){return e.onStartBack},onStartClose:()=>{i.handleStartClose(n())},get onClose(){return i.handleClose},children:(v,p)=>{var h=X(),g=B(h);ye(g,()=>e.children),_(v,h)},$$slots:{default:!0}})};W(u,f=>{i.state!=="close"&&f(d)})}_(t,c),ee()}function ku(t,e){$(e,!0);let n=ve(e,"blockedDialog",3,!1),r=ve(e,"hiddenDialog",3,!1),o=ve(e,"blockedBack",3,!1),s=ve(e,"onStartClose",3,()=>{}),i=ve(e,"onClose",3,()=>{});const l=H(()=>o()?void 0:e.onStartBack),{showDialog:c,hideDialog:u}=Qt();ke(()=>(c(),()=>{u()}));const{checkMobileSize:d}=Gn();var f=X(),v=B(f);{var p=g=>{vu(g,{get shownDialog(){return e.shownDialog},get hiddenDialog(){return r()},get children(){return e.children},get onStartClose(){return a(l)},get onClose(){return i()}})},h=g=>{Su(g,{get shownDialog(){return e.shownDialog},get blockedDialog(){return n()},get hiddenDialog(){return r()},get children(){return e.children},get onStartBack(){return a(l)},get onStartClose(){return s()},get onClose(){return i()}})};W(v,g=>{d()?g(p):g(h,!1)})}_(t,f),ee()}function oo(t,e){$(e,!0);const{back:n}=Tt(),{clearStackPages:r}=st();let o=ve(e,"blocked",3,!1),s=ve(e,"isLastDialog",3,!1),i=ve(e,"onBack",3,()=>{}),l=ve(e,"onClosed",3,()=>{});const{checkBlockedDialog:c,checkClosableDialog:u}=Qt(),d=H(()=>o()||c()),f=H(u),v=()=>{(!a(d)||a(d))&&e.shown&&(n(),i()())},p=()=>{((!a(d)||a(d)&&a(f))&&e.shown||!e.shown)&&r()},h=()=>{l()()};{let g=H(()=>a(d)&&e.shown||a(f)===!1),m=H(()=>a(d)||s()&&a(f)===!1);ku(t,{get shownDialog(){return e.shown},get blockedDialog(){return a(g)},get hiddenDialog(){return e.hidden},get blockedBack(){return a(m)},onStartBack:v,onStartClose:p,onClose:h,children:(C,x)=>{var y=X(),D=B(y);ye(D,()=>e.children),_(C,y)},$$slots:{default:!0}})}ee()}var Cu=V('<div class="svelte-1x9a4ve"><!></div>');function Oe(t,e){$(e,!0);const{setDialogPageHeight:n}=Ma();let r=U(null);ke(()=>{a(r)&&(a(r).getBoundingClientRect(),a(r).style.opacity="1");const i=new ResizeObserver(l=>{for(let c of l){const u=c.contentRect.height;n(u)}});if(a(r))return i.observe(a(r)),()=>{a(r)&&i.unobserve(a(r)),i.disconnect()}});var o=Cu(),s=k(o);ye(s,()=>e.children),ot(o,i=>w(r,i),()=>a(r)),_(t,o),ee()}var Eu=V('<div class="svelte-stjbkr"><p class="svelte-stjbkr">Page not found</p> <!></div>');function xu(t,e){$(e,!1);const{navigate:n}=Tt(),r=i=>{i.preventDefault(),n("/")};Wr();var o=Eu(),s=R(k(o),2);Yt(s,{element:"a",href:"/",onClick:r,children:(i,l)=>{var c=Ie("close");_(i,c)},$$slots:{default:!0}}),_(t,o),ee()}const Pu="modulepreload",Au=function(t){return"/"+t},so={},je=function(e,n,r){let o=Promise.resolve();if(n&&n.length>0){let c=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=i?.nonce||i?.getAttribute("nonce");o=c(n.map(u=>{if(u=Au(u),u in so)return;so[u]=!0;const d=u.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const v=document.createElement("link");if(v.rel=d?"stylesheet":Pu,d||(v.as="script"),v.crossOrigin="",v.href=u,l&&v.setAttribute("nonce",l),document.head.appendChild(v),d)return new Promise((p,h)=>{v.addEventListener("load",p),v.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return o.then(i=>{for(const l of i||[])l.status==="rejected"&&s(l.reason);return e().catch(s)})};var Du=V('<div class="svelte-10xfz1h"><p class="svelte-10xfz1h">Something went wrong. Please reload the page</p> <!></div>');function Tu(t){var e=Du(),n=R(k(e),2);Yt(n,{onClick:()=>location.reload(),children:(r,o)=>{var s=Ie("Reload");_(r,s)},$$slots:{default:!0}}),_(t,e)}var Nu=V('<div><!> <div class="loader svelte-m0sno1"></div></div>');function Ms(t,e){$(e,!0);let n=U(!1);ke(()=>{const s=setTimeout(()=>{w(n,!0)},200);return()=>{clearTimeout(s)}});var r=Nu(),o=k(r);ye(o,()=>e.children??xe),de(()=>pe(r,1,ge(["block",{shown:a(n)}]),"svelte-m0sno1")),_(t,r),ee()}var Lu=V('<div class="svelte-1mu1b44"><!></div>');function Mu(t,e){$(e,!0);const{getDialogPageHeight:n}=Ma(),r=H(n);var o=Lu(),s=k(o);Ms(s,{}),de(()=>Un(o,`min-height: ${a(r)??""}px;`)),_(t,o),ee()}function Ue(t,e){$(e,!0);const n={},r=Object.assign({"./Pages/About.svelte":()=>je(()=>import("./Cc_C0hMu.js"),__vite__mapDeps([0,1])),"./Pages/AccessKeys.svelte":()=>je(()=>import("./CQZEKcSX.js"),__vite__mapDeps([2,3,4,5])),"./Pages/Account.svelte":()=>je(()=>import("./CfksNsXO.js"),__vite__mapDeps([6,3,7])),"./Pages/AccountSetup.svelte":()=>je(()=>import("./CEXSFBCm.js"),__vite__mapDeps([8,9])),"./Pages/Auth.svelte":()=>je(()=>import("./tIfsuMq5.js"),__vite__mapDeps([10,11])),"./Pages/ClearStore.svelte":()=>je(()=>import("./CVVIZ9wO.js"),__vite__mapDeps([12,13])),"./Pages/ConfirmAccessKey.svelte":()=>je(()=>import("./DScxp1ff.js"),__vite__mapDeps([14,4,3,15,16,17,18])),"./Pages/EditNote.svelte":()=>je(()=>import("./d6G-PTev.js"),__vite__mapDeps([19,20,21,16,17,22,23,24])),"./Pages/Exit.svelte":()=>je(()=>import("./BgfAJi1k.js"),__vite__mapDeps([25,26])),"./Pages/ExportData.svelte":()=>je(()=>import("./D1eglndR.js"),__vite__mapDeps([27,21,16,17,22,28])),"./Pages/ImportData.svelte":()=>je(()=>import("./gkM29rSD.js"),__vite__mapDeps([29,21,16,17,22,30])),"./Pages/Install.svelte":()=>je(()=>import("./B1zb9yBJ.js"),__vite__mapDeps([31,32])),"./Pages/NewNote.svelte":()=>je(()=>import("./DIG4cCKt.js"),__vite__mapDeps([33,20,21,16,17,22,23])),"./Pages/Signin.svelte":()=>je(()=>import("./CwmelK06.js"),__vite__mapDeps([34,4,3,15,35])),"./Pages/Signup.svelte":()=>je(()=>import("./-fZo9auU.js"),__vite__mapDeps([36,15,4,3,37])),"./Pages/Subscription.svelte":()=>je(()=>import("./DEoUWNck.js"),__vite__mapDeps([38,39])),"./Pages/Sync.svelte":()=>je(()=>import("./5QDHV44a.js"),__vite__mapDeps([40,41]))}),o=async l=>{const c=`./Pages/${l[0].toUpperCase()+l.slice(1)}.svelte`;if(!n[l]){if(r[c]){const u=r[c]();return n[l]={promise:u},n[l].module=await u,n[l].module}throw new Error(`Page ${l} not found`)}return n[l].module||await n[l].promise};var s=X(),i=B(s);_l(i,()=>o(e.page),l=>{Mu(l,{})},(l,c)=>{const u=H(()=>a(c).default);var d=X(),f=B(d);yl(f,()=>a(u),(v,p)=>{p(v,{get params(){return e.params},get hidden(){return e.hidden}})}),_(l,d)},l=>{Tu(l)}),_(t,s),ee()}var Iu=V('<button> <svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>');function Is(t,e){let n=H(()=>e.style==="selected"?"45deg":"0deg");var r=Iu();r.__click=function(...c){e.onClick?.apply(this,c)};var o=k(r),s=R(o);_e(s,()=>({"--size":e.size==="small"?"10px":"12px","--rotate":a(n)})),we(s.lastChild,{name:"plus"});var i=R(s,2);{var l=c=>{Ke(c,{children:(u,d)=>{var f=Ie("add tag");_(u,f)}})};W(i,c=>{e.title===void 0&&c(l)})}de(()=>{Me(r,"type",e.type),pe(r,1,ge([{selectedTag:e.style==="selected",small:e.size==="small",empty:e.title===void 0}]),"svelte-uu8a24"),Bt(o,`${e.title??""} `)}),_(t,r)}qe(["click"]);var Ou=V("<div></div>");function io(t,e){$(e,!0);let n=ve(e,"mobile",3,!1);var r=Ou();qr(r,20,()=>e.tags,o=>o,(o,s)=>{Is(o,{get title(){return s},onClick:()=>e.handleTagClick(s)})}),de(()=>pe(r,1,ge(["tags",{mobile:n()}]),"svelte-1c53r32")),_(t,r),ee()}var Bu=V("<div></div>");function lo(t,e){$(e,!0);var n=X(),r=B(n);{var o=s=>{var i=Bu();pe(i,1,ge(["tags","selectedTags"]),"svelte-58z9m1"),qr(i,20,()=>e.selectedTags,l=>l,(l,c)=>{Is(l,{get title(){return c},onClick:()=>e.handleSelectedTagClick(c),style:"selected"})}),_(s,i)};W(r,s=>{e.selectedTags.size>0&&s(o)})}_(t,n),ee()}const Ru=(t,e,n)=>{if(t.has("inbox"))return[];const r=[],o=Array.from(t.values());for(const s of e)if(s.data&&!(n&&!n(s))){if(t.size===0){for(const i of s?.data?.tags||[])r.includes(i)||r.push(i);for(const i of s?.data?.draft?.tags||[])r.includes(i)||r.push(i);continue}if(s.data&&o.every(i=>s.data?.tags.includes(i)))for(const i of s.data.tags)!t.has(i)&&!r.includes(i)&&r.push(i);if(s&&s.data.draft&&o.every(i=>s.data?.draft?.tags.includes(i)))for(const i of s.data.draft.tags)!t.has(i)&&!r.includes(i)&&r.push(i)}return r};function Fu(t,e){$(e,!0);const n=Jt(),{getIsKeyboardVisible:r}=Ds();let o=ve(e,"dialog",7);const s=H(r),i=3,l=50,c=5,u=.6,d=.3,f=.35,v=.95;let p=0,h=0,g=0,m=!1,C=!1,x=0,y=0,D=0;const A=()=>{p=0,h=0,m=!1,C=!1,x=0,y=0,D=0,g=0,P!==null&&(cancelAnimationFrame(P),P=null),b=null};let P=null,b=null;const E=Q=>{o()&&(e.sidebarState!=="opened"&&e.sidebarState!=="closed"||(p=Q.touches[0].clientX,h=Q.touches[0].clientY,g=performance.now(),m=!0,C=!1))},M=Q=>e.sidebarState==="closed"&&Q>0||e.sidebarState==="closeSwiping"&&Q>0||e.sidebarState==="opened"&&Q<0||e.sidebarState==="openSwiping"&&Q<0,G=()=>{if(o()){if(o().style.setProperty("--transition-timing","0s"),!o().open&&e.sidebarState==="closed")try{o().showModal(),o().offsetWidth}catch{return}e.onSwipe();try{const Q=window.getComputedStyle(o()),J=Q.transform||Q.webkitTransform||"";if(y=o().offsetWidth,e.sidebarState==="closeSwiping"||e.sidebarState==="closed"?x=-y:(e.sidebarState==="openSwiping"||e.sidebarState==="opened")&&(x=0),J&&J!=="none")try{x=new DOMMatrix(J).m41}catch{}C=!0}catch{A()}}},Y=()=>{if(!o())return;const Q=-(y*.3),J=-y;let j=0;const Z=window.getComputedStyle(o()),N=Z.transform||Z.webkitTransform||"";if(N&&N!=="none")try{j=new DOMMatrix(N).m41}catch{j=0}const le=.25*Math.min(1,Math.max(0,(j-J)/(Q-J)));o().style.setProperty("--backdrop-bg",`rgba(0, 0, 0, ${le})`)},F=()=>{if(P=null,!b||!m||!o()||a(s))return;const{x:Q,y:J}=b;b=null;const j=Q-p,Z=J-h,N=Math.abs(j)>Math.abs(Z),I=Math.abs(j)>i;if(!C)if(N&&I&&M(j))try{G()}catch{A();return}else return;let ae=x+j*v;const le=-y,T=-(y*.3);let z=Math.max(le,Math.min(T,ae));o().style.setProperty("--transition-timing","0s"),o().style.transform=`translate3d(${z}px, 0, 0)`,n.swipingRatio=(-1+Math.abs(z/y))/7*10,D=(z-x)/y*100,Y()},K=Q=>{if(!m)return;const J=Q.touches[0].clientX,j=Q.touches[0].clientY;b={x:J,y:j},P===null&&(P=requestAnimationFrame(F)),C&&Math.abs(J-p)>Math.abs(j-h)&&Q.preventDefault()},se=Q=>{const J=Math.abs(Q);if(J>=u)return c;if(J>=d){const j=(J-d)/(u-d);return l-j*(l-c)}else return l},te=(Q,J)=>{if(Math.abs(Q)>=u)return f*.5;const Z=Math.abs(D)/100;return J?f*Math.max(.5,1-Z):f*Math.max(.5,Z)},re=Q=>{if(P!==null&&(cancelAnimationFrame(P),P=null),b=null,!m||!o()){A();return}if(!C){A();return}let J=0;if(Q?.changedTouches?.[0]){const ae=Q.changedTouches[0].clientX,T=performance.now()-g;T>0&&(J=(ae-p)/T)}const j=se(J);let Z=null;e.sidebarState==="closeSwiping"?Z=Math.abs(D)>j||J>d?"open":"close":e.sidebarState==="openSwiping"&&(Z=Math.abs(D)>j||J<-d?"close":"open");const N=e.sidebarState==="closeSwiping"&&Z==="open"||e.sidebarState==="openSwiping"&&Z==="close",I=te(J,N);n.duration=I-.02,o().style.setProperty("--transition-timing",`${I}s`),o().offsetWidth,o().style.transform="",Z==="open"?e.onOpen():Z==="close"&&e.onClose(),o()?.style.removeProperty("--backdrop-bg"),A()};ke(()=>(document.addEventListener("touchstart",E,{passive:!0}),document.addEventListener("touchmove",K,{passive:!1}),document.addEventListener("touchend",re,{passive:!0}),document.addEventListener("touchcancel",re,{passive:!0}),()=>{document.removeEventListener("touchstart",E),document.removeEventListener("touchmove",K),document.removeEventListener("touchend",re),document.removeEventListener("touchcancel",re),P!==null&&cancelAnimationFrame(P)})),ee()}var zu=V('<dialog><div class="dialogInner svelte-1nov8pn"><!></div></dialog> <!> <!>',1);function Hu(t,e){$(e,!0);const{getStackPages:n}=st(),{getSidebarState:r,handleComputeState:o}=Yr();let s=350;const i=Jt(),{isScrolling:l}=Na();let c=U(null),u=U(null),d=H(r);Ne(()=>{n().length>0&&o({type:"close"})});const f=()=>{e.blocked||o({type:"close"})},v=()=>{e.blocked||o({type:"open"})},p=()=>{o({type:"opened"}),i.swipingRatio=-1,i.duration=.2},h=()=>{o({type:"closed"})},g=()=>{o({type:"swipe"})},m=F=>{F.preventDefault(),f()};ke(()=>(a(c)?.addEventListener("close",h),a(c)?.addEventListener("cancel",m),()=>{a(c)?.removeEventListener("close",h),a(c)?.removeEventListener("cancel",m)}));const C=()=>{a(c)?.style.removeProperty("--transition-timing"),a(c)?.style.removeProperty("transform"),a(c)?.style.removeProperty("--backdrop-bg")},x=H(l);Ne(()=>{if(a(d),!!a(c))switch(a(d).type==="openSwiping"||a(d).type==="closeSwiping"?i.isSwiping=!0:i.isSwiping=!1,a(d).type){case"closeSwiping":{const F=setTimeout(()=>{f()},3e3);return()=>{clearTimeout(F)}}case"openSwiping":{const F=setTimeout(()=>{v()},3e3);return()=>{clearTimeout(F)}}case"opening":{a(c).open||a(c).showModal(),a(c).getBoundingClientRect();const F=setTimeout(()=>{C()},s+1),K=()=>{clearTimeout(F),C()};return a(c)?.addEventListener("transitionend",K,{once:!0}),p(),()=>{clearTimeout(F),a(c)?.removeEventListener("transitionend",K)}}case"closing":{i.swipingRatio=0,i.duration=.2;const F=setTimeout(()=>{a(d).type==="closing"&&h()},s+1),K=()=>{clearTimeout(F),h()};return a(c)?.addEventListener("transitionend",K,{once:!0}),()=>{clearTimeout(F),a(c)?.removeEventListener("transitionend",K)}}case"closed":a(c)?.close(),C();break;case"opened":C();break}});var y=zu(),D=B(y),A=k(D),P=k(A);{var b=F=>{var K=X(),se=B(K);ye(se,()=>e.children),_(F,K)};W(P,F=>{a(d).type!=="closed"&&F(b)})}ot(A,F=>w(u,F),()=>a(u)),ot(D,F=>w(c,F),()=>a(c));var E=R(D,2);{var M=F=>{Ia(F,{get dialog(){return a(c)},get dialogInner(){return a(u)},onClose:f})};W(E,F=>{a(d).type==="opened"&&!e.blocked&&F(M)})}var G=R(E,2);{var Y=F=>{Fu(F,{onClose:f,onOpen:v,onSwipe:g,get sidebarState(){return a(d).type},get dialog(){return a(c)}})};W(G,F=>{(!a(x)&&a(d).type==="closed"||a(d).type==="opened"||a(d).type==="openSwiping"||a(d).type==="closeSwiping")&&!e.blocked&&F(Y)})}de(()=>pe(D,1,ge([{open:a(d).type==="opened",hidden:e.blocked,isAnimationOn:i.working&&(!i.isSwiping||!e.blocked)}]),"svelte-1nov8pn")),_(t,y),ee()}var ju=(t,e,n)=>{e(),n("/",{full:!0})(t)},Uu=V('<a class="link svelte-ltt61h"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a>'),Vu=(t,e,n)=>{e(),n(q.Bin,{full:!0})(t)},qu=V('<a class="link svelte-ltt61h"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a>'),Wu=V('<div class="sidebarFixed svelte-ltt61h"><div class="nav svelte-ltt61h"><!> <div class="menu svelte-ltt61h"><a class="link svelte-ltt61h"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a> <a class="link svelte-ltt61h"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a> <!></div></div> <div class="searchWrapper svelte-ltt61h"><!></div> <!></div> <!>',1),Yu=V('<div class="sidebar svelte-ltt61h"><div class="sidebarFixed svelte-ltt61h"><!></div> <!></div>');function Ku(t,e){$(e,!0);const{checkMobileSize:n}=Gn(),{sidebarClose:r}=Yr(),{getAppLocation:o}=Tt(),{getPageUrl:s,createHandlePage:i,getStackPagesFormUrl:l}=st(),c=is(),u=H(()=>o().pathname),{getSelectedTags:d,addTag:f,removeTag:v}=fs();let p=H(d);const{checkNotesInBin:h}=dr();let g=ve(e,"getNotes",3,()=>[]),m=ve(e,"mode",3,"notes");const C=Y=>{f(Y)},x=Y=>{v(Y)};let y=H(()=>Ru(a(p),g()()||[],Y=>!(Y?.data&&Y.data.deletedAt&&m()==="notes"||Y?.data&&!Y.data.deletedAt&&m()==="bin")).filter(Y=>c.value===""||Y.toLowerCase().indexOf(c.value.toLowerCase())!==-1).sort((Y,F)=>Y==="inbox"?-1:F==="inbox"?1:Y.localeCompare(F))),D=H(n);const{checkExistedDialog:A}=Qt();let P=H(()=>l().length>0||A());var b=X(),E=B(b);{var M=Y=>{Hu(Y,{get blocked(){return a(P)},children:(F,K)=>{var se=Wu(),te=B(se),re=k(te),Q=k(re);Ts(Q,{});var J=R(Q,2),j=k(J),Z=H(()=>i(q.Settings));j.__click=function(...ue){a(Z)?.apply(this,ue)};var N=k(j);_e(N,()=>({"--size":"24px"})),we(N.lastChild,{name:"settings"});var I=R(N,2);Ke(I,{children:(ue,Ce)=>{var Ee=Ie("Settings");_(ue,Ee)}});var ae=R(j,2),le=H(()=>i(q.Sync));ae.__click=function(...ue){a(le)?.apply(this,ue)};var T=k(ae);_e(T,()=>({"--size":"24px"})),we(T.lastChild,{name:"sync"});var z=R(T,2);Ke(z,{children:(ue,Ce)=>{var Ee=Ie("Sync");_(ue,Ee)}});var S=R(ae,2);{var O=ue=>{var Ce=Uu();Ce.__click=[ju,r,i];var Ee=k(Ce);_e(Ee,()=>({"--size":"24px"})),we(Ee.lastChild,{name:"note"});var Ae=R(Ee,2);Ke(Ae,{children:(De,Le)=>{var Je=Ie("Notes");_(De,Je)}}),de(De=>Me(Ce,"href",De),[()=>s("/",{full:!0})]),_(ue,Ce)},oe=ue=>{var Ce=X(),Ee=B(Ce);{var Ae=De=>{var Le=qu();Le.__click=[Vu,r,i];var Je=k(Le);_e(Je,()=>({"--size":"24px"})),we(Je.lastChild,{name:"bin"});var Qe=R(Je,2);Ke(Qe,{children:($e,Nt)=>{var zt=Ie("Bin");_($e,zt)}}),de($e=>Me(Le,"href",$e),[()=>s(q.Bin,{full:!0})]),_(De,Le)};W(Ee,De=>{h()&&De(Ae)},!0)}_(ue,Ce)};W(S,ue=>{a(u)===`/${q.Bin}`?ue(O):ue(oe,!1)})}var be=R(re,2),fe=k(be);ga(fe,{placeholder:"Search tag",get value(){return c.value},set value(ue){c.value=ue}});var ne=R(be,2);lo(ne,{get selectedTags(){return a(p)},handleSelectedTagClick:x});var ie=R(te,2);io(ie,{get tags(){return a(y)},handleTagClick:C,mobile:!0}),de((ue,Ce)=>{Me(j,"href",ue),Me(ae,"href",Ce)},[()=>s(q.Settings),()=>s(q.Sync)]),_(F,se)},$$slots:{default:!0}})},G=Y=>{var F=Yu(),K=k(F),se=k(K);lo(se,{get selectedTags(){return a(p)},handleSelectedTagClick:x});var te=R(K,2);io(te,{get tags(){return a(y)},handleTagClick:C}),_(Y,F)};W(E,Y=>{a(D)?Y(M):Y(G,!1)})}_(t,b),ee()}qe(["click"]);const Xu=(t,e,n,r)=>{e.noteData.pinnedAt?(n(e.noteId,!1),fn("Note unpinned",{onCancel:()=>{n(e.noteId,!0)}})):(n(e.noteId,!0),fn("Note pinned",{onCancel:()=>{n(e.noteId,!1)}})),w(r,!0)},Gu=(t,e,n)=>{navigator.clipboard.writeText(e.noteData.url),fn("Link copied"),w(n,!0)};var Zu=V('<li class="svelte-8ve3pe"><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>Copy link</button></li>'),Ju=(t,e,n)=>{w(e,!0),w(n,!0)},Qu=V('<li class="svelte-8ve3pe"><button><span class="wrapperIcon svelte-8ve3pe"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></span>Delete</button></li>'),$u=(t,e,n)=>{w(e,!0),w(n,!0)},ed=(t,e,n)=>{w(e,!0),w(n,!0)},td=V('<li class="svelte-8ve3pe"><button><span class="wrapperIcon svelte-8ve3pe"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></span>Restore</button></li> <li class="svelte-8ve3pe"><button><span class="wrapperIcon svelte-8ve3pe"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></span>Delete from bin</button></li>',1),nd=V('<ul class="menu svelte-8ve3pe"><!> <li class="svelte-8ve3pe"><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> </button></li> <!></ul>'),rd=V('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),ad=V("<!> <!>",1);function od(t,e){$(e,!0);const n=(E,M=xe)=>{var G=nd(),Y=k(G);{var F=Z=>{var N=Zu(),I=k(N);I.__click=[Gu,e,u];var ae=k(I);_e(ae,()=>({"--size":"22px"})),we(ae.lastChild,{name:"copy"}),de(()=>pe(I,1,ge(["button",{buttonMenuDialog:M()}]),"svelte-8ve3pe")),_(Z,N)};W(Y,Z=>{M()&&e.noteData.url&&Z(F)})}var K=R(Y,2),se=k(K);se.__click=[Xu,e,s,u];var te=k(se);{let Z=H(()=>e.noteData.pinnedAt?"pin-cancel":"pin");_e(te,()=>({"--size":"22px"})),we(te.lastChild,{get name(){return a(Z)}})}var re=R(te),Q=R(K,2);{var J=Z=>{var N=Qu(),I=k(N);I.__click=[Ju,d,u];var ae=k(I),le=k(ae);_e(le,()=>({"--size":"18px"})),we(le.lastChild,{name:"bin"}),de(()=>pe(I,1,ge(["button",{buttonMenuDialog:M()}]),"svelte-8ve3pe")),_(Z,N)},j=Z=>{var N=td(),I=B(N),ae=k(I);ae.__click=[$u,f,u];var le=k(ae),T=k(le);_e(T,()=>({"--size":"18px"})),we(T.lastChild,{name:"bin-cancel"});var z=R(I,2),S=k(z);S.__click=[ed,v,u];var O=k(S),oe=k(O);_e(oe,()=>({"--size":"18px"})),we(oe.lastChild,{name:"bin"}),de(()=>{pe(ae,1,ge(["button",{buttonMenuDialog:M()}]),"svelte-8ve3pe"),pe(S,1,ge(["button",{buttonMenuDialog:M()}]),"svelte-8ve3pe")}),_(Z,N)};W(Q,Z=>{l()==="notes"?Z(J):Z(j,!1)})}de(()=>{pe(se,1,ge(["button",{buttonMenuDialog:M()}]),"svelte-8ve3pe"),Bt(re,` ${e.noteData.pinnedAt?"Unpin":"Pin"}`)}),_(E,G)},{moveNoteToBin:r,deleteNote:o,pinNote:s,restoreNoteFromBin:i}=dr();let l=ve(e,"mode",3,"notes"),c=ve(e,"shownMenu",15),u=U(!1),d=U(!1),f=U(!1),v=U(!1);const{checkMobileSize:p}=Gn();let h=H(p);const g=()=>{o(e.noteId),fn("Draft deleted")},m=async()=>{r(e.noteId),fn("Note moved to bin",{onCancel:()=>{i(e.noteId)}})},C=()=>{i(e.noteId),fn("Note restored from bin",{onCancel:()=>{r(e.noteId)}})},x=()=>{a(d)?(w(d,!1),e.noteData.type==="draft"?g():m()):a(f)&&(w(f,!1),C()),c(!1),w(u,!1)};var y=ad(),D=B(y);{var A=E=>{var M=X(),G=B(M);{var Y=K=>{Oa(K,{get startClose(){return a(u)},onClosed:x,children:(se,te)=>{n(se,()=>!0)},$$slots:{default:!0}})},F=K=>{var se=rd(),te=B(se);_e(te,()=>({"--bottom":"-90px","--right":"20px"})),Ns(te.lastChild,{get startClose(){return a(u)},get positionTop(){return e.showMenuUp},onClosed:x,children:(re,Q)=>{n(re,()=>!1)},$$slots:{default:!0}}),_(K,se)};W(G,K=>{a(h)?K(Y):K(F,!1)})}_(E,M)};W(D,E=>{c()&&E(A)})}var P=R(D,2);{var b=E=>{Ls(E,{title:"Are you sure you want to delete this note?",buttonConfirmTitle:"Delete",onConfirm:()=>{o(e.noteId),w(v,!1)},onCancel:()=>{w(v,!1)}})};W(P,E=>{a(v)&&E(b)})}_(t,y),ee()}qe(["click"]);const sd=(t,e)=>{w(e,!0)},id=(t,e,n)=>{navigator.clipboard.writeText(e.noteData.url),fn("Link copied"),w(n,!1)},ld=(t,e)=>{w(e,!0)},cd=(t,e)=>{w(e,!1)},ud=(t,e,n,r)=>{t.preventDefault(),e.noteData.type==="draft"?n(`${q.NewNote}`):n(`${q.EditNote}?id=${e.noteId}`),w(r,!1)};var dd=V('<div class="iconPlaceholder svelte-1jg44o9"></div>'),fd=V('<img loading="lazy" class="noteIcon" height="16" width="16" alt=""/>'),vd=V('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),hd=V('<div class="noteIconWrapper svelte-1jg44o9"><!></div>'),gd=V('<button class="button svelte-1jg44o9"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),pd=(t,e)=>{w(e,!1)},_d=V('<!> <a target="_blank" rel="noopener noreferrer" class="button openLink svelte-1jg44o9"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a>',1),md=V('<li><!> <a class="noteLink svelte-1jg44o9" target="_blank" rel="noopener noreferrer"> </a> <div><!> <button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button></div> <!></li>');function wd(t,e){$(e,!0);const{pushStackPages:n}=st(),{getFaviconEnabled:r}=ps();let o=ve(e,"mode",3,"notes"),s=U(!1),i=U(!1),l=U(!1),c=H(r);const{checkMobileSize:u}=Gn(),d=E=>{try{return`https://icons.duckduckgo.com/ip3/${new URL(E).host}.ico`}catch{return""}},f=e.noteData.url||e.noteData.draft?.url||"";var v=md();v.__focusin=[ld,i],v.__focusout=[cd,i];var p=k(v);{var h=E=>{var M=hd(),G=k(M);{var Y=K=>{var se=X(),te=B(se);{var re=J=>{var j=dd();_(J,j)},Q=J=>{var j=fd();de(Z=>Me(j,"src",Z),[()=>d(f)]),Aa("error",j,()=>{w(l,!0)}),_(J,j)};W(te,J=>{a(l)?J(re):J(Q,!1)})}_(K,se)},F=K=>{var se=vd(),te=B(se);_e(te,()=>({"--size":"16px"})),we(te.lastChild,{name:"note"}),_(K,se)};W(G,K=>{f?K(Y):K(F,!1)})}_(E,M)};W(p,E=>{a(c)&&E(h)})}var g=R(p,2);g.__click=[ud,e,n,i];var m=k(g),C=R(g,2),x=k(C);{var y=E=>{var M=_d(),G=B(M);{var Y=te=>{var re=gd();re.__click=[id,e,i];var Q=k(re);_e(Q,()=>({"--size":"20px"})),we(Q.lastChild,{name:"copy"});var J=R(Q,2);Ke(J,{children:(j,Z)=>{var N=Ie("copy link");_(j,N)}}),de(()=>Me(re,"tabindex",e.focusHidden?-1:0)),_(te,re)};W(G,te=>{u()||te(Y)})}var F=R(G,2);F.__click=[pd,i];var K=k(F);_e(K,()=>({"--size":"18px"})),we(K.lastChild,{name:"open"});var se=R(K,2);Ke(se,{children:(te,re)=>{var Q=Ie();de(()=>Bt(Q,e.noteData.draft?.name||e.noteData.name||"unknown")),_(te,Q)}}),de(()=>{Me(F,"href",f),Me(F,"tabindex",e.focusHidden?-1:0)}),_(E,M)};W(x,E=>{f&&E(y)})}var D=R(x,2);D.__click=[sd,s],pe(D,1,ge(["button","buttonMenu"]),"svelte-1jg44o9");var A=k(D);_e(A,()=>({"--size":"18px","--rotate":"90deg"})),we(A.lastChild,{name:"menu"});var P=R(A,2);Ke(P,{children:(E,M)=>{var G=Ie("show menu");_(E,G)}});var b=R(C,2);od(b,{get mode(){return o()},get noteId(){return e.noteId},get noteData(){return e.noteData},get showMenuUp(){return e.showMenuUp},get shownMenu(){return a(s)},set shownMenu(E){w(s,E,!0)}}),de((E,M)=>{pe(v,1,E,"svelte-1jg44o9"),Me(g,"tabindex",e.focusHidden?-1:0),Me(g,"href",M),Bt(m,e.noteData?.draft?.name||e.noteData?.name||"unknown"),pe(C,1,ge(["noteMenuWrapper",{noteMenuWrapperActive:a(i)}]),"svelte-1jg44o9"),Me(D,"tabindex",e.focusHidden?-1:0)},[()=>ge(["record",{pinned:!!e.noteData.pinnedAt,draft:!!e.noteData.draft}]),()=>`/?stackPages=${encodeURIComponent(`${q.EditNote}?id=${e.noteId}`)}`]),_(t,v),ee()}qe(["focusin","focusout","click"]);var Vn,Os,Bs;class yd{constructor(e){Se(this,Vn);it(this,"data");it(this,"compare");this.data=[],this.compare=e}insert(e){this.data.push(e),ze(this,Vn,Os).call(this)}extractMin(){if(this.data.length===0)return;const e=this.data[0],n=this.data.pop();return this.data.length&&n!==void 0&&(this.data[0]=n,ze(this,Vn,Bs).call(this)),e}isEmpty(){return this.data.length===0}}Vn=new WeakSet,Os=function(){let e=this.data.length-1;const n=this.data[e];for(;e>0;){const r=Math.floor((e-1)/2);if(this.compare(n,this.data[r])>=0)break;[this.data[e],this.data[r]]=[this.data[r],this.data[e]],e=r}},Bs=function(){let e=0;const n=this.data.length;for(;;){const r=2*e+1,o=2*e+2;let s=e;if(r<n&&this.compare(this.data[r],this.data[s])<0&&(s=r),o<n&&this.compare(this.data[o],this.data[s])<0&&(s=o),s===e)break;[this.data[e],this.data[s]]=[this.data[s],this.data[e]],e=s}};class bd{constructor(e,n){it(this,"heap");it(this,"done");it(this,"cache",[]);this.heap=new yd(n);for(const r of e)this.heap.insert(r);this.done=!1}get(e,n){const r=this.cache.slice(e,n);for(;r.length<n-e&&!this.heap.isEmpty();){const o=this.heap.extractMin();o!==void 0&&(this.cache.push(o),r.push(o))}return this.heap.isEmpty()&&(this.done=!0),r}}var Sd=V('<p class="message">No notes in bin</p>'),kd=V('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Add note</span>',1),Cd=V('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span style="padding-left: 6px;">Import notes</span>',1),Ed=V('<p class="message">No notes found</p> <div class="wrapperButtonsAdd svelte-106i4nx"><!></div> <div>or</div> <div class="wrapperButtonsAdd svelte-106i4nx"><!></div>',1),xd=V('<div class="emptyStore svelte-106i4nx"><!></div>'),Pd=V("<span>Back to notes</span>"),Ad=V('<div class="emptyMessage svelte-106i4nx">No notes in bin</div> <div class="wrapperButtonsAdd svelte-106i4nx"><!></div>',1),Dd=V('<div class="emptyMessage svelte-106i4nx">No notes found</div>'),Td=V('<div class="feed svelte-106i4nx"><ul class="svelte-106i4nx"></ul></div>'),Nd=V('<div class="wrapperFeed svelte-106i4nx"><div class="wrapperContainer svelte-106i4nx"><!></div></div>');function Ld(t,e){$(e,!0);let n=ve(e,"getNotes",3,()=>[]),r=ve(e,"mode",3,"notes");const{getScrollContainer:o}=La(),{createHandlePage:s,getPageUrl:i}=st(),{getSelectedTags:l}=fs(),{getFeedOrder:c}=cs(),u=as();let d=54,f=U(0),v=U(0),p=U(0),h=U(0),g=[],m=U(0),C=U(null),x=H(o),y=null,D=null;const A=H(l);Ne(()=>{a(A),a(G),a(x)?.scrollTo(0,0)});const{enable:P}=Na(),b=()=>{P(),y||(y=requestAnimationFrame(()=>{const N=a(x)?.scrollTop||0;w(p,N,!0);const I=Math.ceil(a(f)/d);w(v,Math.floor(N/(d*I))*(d*I)),y=null}))},E=()=>{D||(D=requestAnimationFrame(()=>{w(f,window.innerHeight-180||0,!0);const N=a(x)?.scrollTop||0;w(p,N,!0);const I=Math.ceil(a(f)/d);w(v,Math.floor(N/(d*I))*(d*I)),D=null}))};ke(()=>{E(),b()});const M=()=>{b()};Ne(()=>(a(x)?.addEventListener("scroll",M),window.addEventListener("resize",E),()=>{a(x)?.removeEventListener("scroll",M),window.removeEventListener("resize",E)}));const G=H(c);Ne(()=>{const N=n()()||[],I=[],ae=Array.from(a(A).values());for(let le=N.length-1;le>=0;le--){if(!N[le]||!N[le].data)continue;const T=N[le];r()==="notes"&&T?.data.deletedAt||r()==="bin"&&!T?.data.deletedAt||a(A).size&&ae.some(z=>!T.data?.tags.includes(z))&&(!T.data.draft||ae.some(z=>!T.data?.draft?.tags.includes(z)))||u&&!(T.data.name.toLowerCase().includes(u.value.toLowerCase())||T.data.url.toLowerCase().includes(u.value.toLowerCase())||T.data.text.toLowerCase().includes(u.value.toLowerCase()))||I.push(T)}w(h,I.length,!0),g=I,w(m,Date.now(),!0)}),Ne(()=>{a(G),a(m),w(C,new bd(g,(N,I)=>{if(!N||!I||!N.data||!I.data)return 0;if(N.data.pinnedAt&&!I.data.pinnedAt)return-1;if(!N.data.pinnedAt&&I.data.pinnedAt)return 1;if(N.data.pinnedAt&&I.data.pinnedAt){if(N.data.pinnedAt<I.data.pinnedAt)return 1;if(N.data.pinnedAt>I.data.pinnedAt)return-1}if(N.data.draft&&!I.data.draft)return-1;if(!N.data.draft&&I.data.draft)return 1;if(N.data.draft&&I.data.draft){if(N.data.draft.updatedAt<I.data.draft.updatedAt)return 1;if(N.data.draft.updatedAt>I.data.draft.updatedAt)return-1}switch(a(G)){case"newest":return N.data.updatedAt<I.data.updatedAt?1:-1;case"oldest":return N.data.updatedAt>I.data.updatedAt?1:-1;case"AtoZ":return N.data.name.localeCompare(I.data.name);case"ZtoA":return I.data.name.localeCompare(N.data.name);default:return 0}}),!0)});const Y=H(()=>a(h)*d);let K=H(()=>{a(m);const N=Math.ceil(a(f)/d);let I=Math.floor(a(v)/d);return I=I-Math.min(I,N),a(C)?.get(I,I+N*3)||[]}),se=H(()=>d*Math.ceil(a(f)/d));const te=H(()=>a(v)-Math.min(a(v),a(se)));var re=Nd(),Q=k(re),J=k(Q);{var j=N=>{Ms(N,{})},Z=N=>{var I=X(),ae=B(I);{var le=z=>{var S=xd(),O=k(S);{var oe=fe=>{var ne=Sd();_(fe,ne)},be=fe=>{var ne=Ed(),ie=R(B(ne),2),ue=k(ie);{let Ae=H(()=>i(q.NewNote)),De=H(()=>s(q.NewNote));Yt(ue,{element:"a",get href(){return a(Ae)},get onClick(){return a(De)},children:(Le,Je)=>{var Qe=kd(),$e=B(Qe);_e($e,()=>({"--size":"18px","--color":"#b0b0b0"})),we($e.lastChild,{name:"plus"}),_(Le,Qe)},$$slots:{default:!0}})}var Ce=R(ie,4),Ee=k(Ce);{let Ae=H(()=>i(q.ImportData)),De=H(()=>s(q.ImportData));Yt(Ee,{element:"a",get href(){return a(Ae)},get onClick(){return a(De)},children:(Le,Je)=>{var Qe=Cd(),$e=B(Qe);_e($e,()=>({"--size":"18px","--color":"#b0b0b0"})),we($e.lastChild,{name:"import"}),_(Le,Qe)},$$slots:{default:!0}})}_(fe,ne)};W(O,fe=>{r()==="bin"?fe(oe):fe(be,!1)})}_(z,S)},T=z=>{var S=X(),O=B(S);{var oe=fe=>{var ne=Ad(),ie=R(B(ne),2),ue=k(ie);{let Ce=H(()=>i("/",{full:!0})),Ee=H(()=>s("/",{full:!0}));Yt(ue,{element:"a",get href(){return a(Ce)},get onClick(){return a(Ee)},children:(Ae,De)=>{var Le=Pd();_(Ae,Le)},$$slots:{default:!0}})}_(fe,ne)},be=fe=>{var ne=X(),ie=B(ne);{var ue=Ee=>{var Ae=Dd();_(Ee,Ae)},Ce=Ee=>{var Ae=Td(),De=k(Ae);qr(De,23,()=>a(K),Le=>Le.data,(Le,Je,Qe)=>{var $e=X(),Nt=B($e);{var zt=yn=>{{let Kr=H(()=>a(Qe)*d<a(p)-a(te)-d/2||a(Qe)*d>a(p)-a(te)+Math.floor(a(f)/d)*d),Xr=H(()=>(a(Qe)+3)*d<a(p)-a(te)-d/2||(a(Qe)+3)*d>a(p)-a(te)+Math.floor(a(f)/d)*d);wd(yn,{get mode(){return r()},get focusHidden(){return a(Kr)},get showMenuUp(){return a(Xr)},get noteId(){return a(Je).id},get noteData(){return a(Je).data}})}};W(Nt,yn=>{a(Je).data&&yn(zt)})}_(Le,$e)}),de(Le=>{Un(Ae,`min-height: ${Le??""}px`),Un(De,`transform: translateY(${a(te)??""}px);`)},[()=>Math.max((a(Y)>a(f),a(Y)),0)]),_(Ee,Ae)};W(ie,Ee=>{a(K).length===0?Ee(ue):Ee(Ce,!1)},!0)}_(fe,ne)};W(O,fe=>{r()==="bin"&&e.countNotesInBin()===0?fe(oe):fe(be,!1)},!0)}_(z,S)};W(ae,z=>{(n()()||[]).length===0||r()==="notes"&&(n()()||[]).length-e.countNotesInBin()===0?z(le):z(T,!1)},!0)}_(N,I)};W(J,N=>{e.readyNotes?N(Z,!1):N(j)})}_(t,re),ee()}var Md=V('<!> <div class="content svelte-k57gez"><!></div>',1);function Id(t,e){$(e,!0);const{getAppLocation:n}=Tt(),{getGetNotes:r,isInitedNotes:o,countNotesInBin:s}=dr(),i=H(o),l=H(r),c=H(()=>n().pathname);var u=Md(),d=B(u);{let p=H(()=>a(c)==="/bin"?"bin":"notes");Ku(d,{get mode(){return a(p)},get getNotes(){return a(l)}})}var f=R(d,2),v=k(f);{let p=H(()=>a(c)==="/bin"?"bin":"notes");Ld(v,{get mode(){return a(p)},get getNotes(){return a(l)},get countNotesInBin(){return s},get readyNotes(){return a(i)}})}_(t,u),ee()}var Od=V('<h1 class="svelte-1ky72l5"><!></h1>');function Bd(t,e){var n=Od(),r=k(n);ye(r,()=>e.children),_(t,n)}const Rd=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0,Fd=()=>Rd;var zd=V('<div class="block svelte-4rc64"><!> <p class="message svelte-4rc64">Enjoy using the app!</p> <div class="container svelte-4rc64"><!></div></div>');function Hd(t,e){$(e,!1);const{pushStackPages:n}=st(),r=()=>{Fd()?n(q.AccountSetup):n(q.Install)};Wr();var o=zd(),s=k(o);Bd(s,{children:(c,u)=>{var d=Ie("Wellcome");_(c,d)}});var i=R(s,4),l=k(i);Yt(l,{onClick:r,fullWidth:!0,children:(c,u)=>{var d=Ie("Start");_(c,d)},$$slots:{default:!0}}),_(t,o),ee()}var jd=V('<div class="wrapper svelte-1rhfuek"><fieldset class="switcher svelte-1rhfuek"><legend class="vh svelte-1rhfuek">Color Scheme</legend> <input id="light" type="radio" aria-label="Light"/> <label for="light" title="Light" aria-label="Light"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <input id="system" type="radio" aria-label="System"/> <label for="system" title="System" aria-label="System"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <input id="dark" type="radio" aria-label="Dark"/> <label for="dark" title="Dark" aria-label="Dark"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <div class="wrapSwitcherStatus svelte-1rhfuek"><div class="switcherStatus svelte-1rhfuek"></div></div></fieldset></div>');function Ud(t,e){$(e,!0);const{createBroadcastChannel:n}=wn(),r=n(),o={Light:"light",System:"system",Dark:"dark"};let s=U(Be(localStorage.getItem("colorScheme")||o.System));const i=A=>{localStorage.setItem("colorScheme",A),A===o.System?window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.dataset.colorScheme=o.Dark:document.documentElement.dataset.colorScheme=o.Light:document.documentElement.dataset.colorScheme=A,w(s,A,!0)},l=A=>{const P=A.target.value;i(P),r.postMessage({type:"setColorScheme",data:{scheme:P}})},c="color-scheme-switcher";ke(()=>{const A=P=>{const b=JSON.parse(P.data);b?.type==="setColorScheme"&&b?.data.scheme&&i(b.data.scheme)};return r.addEventListener(A),()=>{r.removeEventListener(A)}});var u={setColorScheme:i,handleChange:l},d=jd(),f=k(d),v=R(k(f),2);pe(v,1,ge(["vh","input"]),"svelte-1rhfuek"),Me(v,"name",c),v.__change=l;var p=R(v,2);pe(p,1,ge(["switcherButton","light"]),"svelte-1rhfuek");var h=k(p);_e(h,()=>({"--size":"20px"})),we(h.lastChild,{name:"sun"});var g=R(p,2);pe(g,1,ge(["vh","input"]),"svelte-1rhfuek"),Me(g,"name",c),g.__change=l;var m=R(g,2);pe(m,1,ge(["switcherButton","system"]),"svelte-1rhfuek");var C=k(m);_e(C,()=>({"--size":"14px"})),we(C.lastChild,{name:"a"});var x=R(m,2);pe(x,1,ge(["vh","input"]),"svelte-1rhfuek"),Me(x,"name",c),x.__change=l;var y=R(x,2);pe(y,1,ge(["switcherButton","dark"]),"svelte-1rhfuek");var D=k(y);return _e(D,()=>({"--size":"20px"})),we(D.lastChild,{name:"moon"}),de(()=>{$r(v,o.Light),xr(v,a(s)===o.Light),$r(g,o.System),xr(g,a(s)===o.System),$r(x,o.Dark),xr(x,a(s)===o.Dark)}),_(t,d),ee(u)}qe(["change"]);const Vd=(t,e)=>{e.onChange(!e.checked)};var qd=V('<label class="switch svelte-18l3no4"><input class="vh svelte-18l3no4" type="checkbox"/> <span class="slider svelte-18l3no4"></span> <!></label>');function Wd(t,e){$(e,!0);var n=qd(),r=k(n);r.__change=[Vd,e];var o=R(r,4);Ke(o,{children:(s,i)=>{var l=Ie("Toggle switch");_(s,l)}}),de(()=>xr(r,e.checked)),_(t,n),ee()}qe(["change"]);const Yd=(t,e)=>{e(q.ImportData)},Kd=(t,e)=>{e(q.ExportData)},Xd=(t,e)=>{e(q.ClearStore)},Gd=(t,e)=>{e(q.Account)},Zd=(t,e)=>{e(q.About)};var Jd=V("<span> </span>"),Qd=V('<div class="svelte-94ovk9"><!> <ul class="svelte-94ovk9"><li class="svelte-94ovk9"><button class="button svelte-94ovk9"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-94ovk9">Account</span></button></li> <li class="svelte-94ovk9"><button class="button svelte-94ovk9"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-94ovk9">Import data</span></button></li> <li class="svelte-94ovk9"><button class="button svelte-94ovk9"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-94ovk9">Export data</span></button></li> <li class="svelte-94ovk9"><button class="button svelte-94ovk9"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-94ovk9">Clear storage</span></button></li> <li class="svelte-94ovk9"><button class="button svelte-94ovk9"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-94ovk9">About</span></button></li></ul> <div class="favicons svelte-94ovk9"><span class="faviconsLabel svelte-94ovk9">show favicons (use duckduckgo servers)</span> <!></div> <div class="hotkeys svelte-94ovk9"><span class="hotkey__head svelte-94ovk9">Hotkeys:</span> <span>New note: <span class="hotkey svelte-94ovk9">N</span></span> <span>Search notes: <span class="hotkey svelte-94ovk9">Ctrl + K</span> or <span class="hotkey svelte-94ovk9">Cmd + K</span></span></div> <div class="version svelte-94ovk9"><!></div></div>');function $d(t,e){$(e,!0);const{pushStackPages:n}=st(),{setFaviconShown:r,getFaviconEnabled:o}=ps();let s=H(o),i=U("");const l=async re=>{try{const J=await(await fetch("/build-metadata.json",{signal:re})).json();w(i,`${J.buildHash}`)}catch{}};ke(()=>{const re=new AbortController;return l(re.signal),()=>{re.abort()}});const c=re=>{r(re)};var u=Qd(),d=k(u);Ud(d,{});var f=R(d,2),v=k(f),p=k(v);p.__click=[Gd,n];var h=k(p);_e(h,()=>({"--size":"28px"})),we(h.lastChild,{name:"account"});var g=R(v,2),m=k(g);m.__click=[Yd,n];var C=k(m);_e(C,()=>({"--size":"28px"})),we(C.lastChild,{name:"import"});var x=R(g,2),y=k(x);y.__click=[Kd,n];var D=k(y);_e(D,()=>({"--size":"28px"})),we(D.lastChild,{name:"export"});var A=R(x,2),P=k(A);P.__click=[Xd,n];var b=k(P);_e(b,()=>({"--size":"28px"})),we(b.lastChild,{name:"clear"});var E=R(A,2),M=k(E);M.__click=[Zd,n];var G=k(M);_e(G,()=>({"--size":"28px"})),we(G.lastChild,{name:"about"});var Y=R(f,2),F=R(k(Y),2);Wd(F,{get checked(){return a(s)},onChange:c});var K=R(Y,4),se=k(K);{var te=re=>{var Q=Jd(),J=k(Q);de(j=>Bt(J,`version: 0.0.8 build_date: "${j??""}" build_hash:
				${a(i)??""}`),[()=>new Date(1761093455576).toISOString().replaceAll("T"," ").replace(/\..*/,"")]),_(re,Q)};W(se,re=>{a(i)&&re(te)})}_(t,u),ee()}qe(["click"]);const co=(t,e=xe,n=xe,r)=>{let o=zr(()=>oi(r?.(),!1));var s=X(),i=B(s);{var l=u=>{Oe(u,{children:(d,f)=>{$d(d,{})},$$slots:{default:!0}})},c=u=>{var d=X(),f=B(d);{var v=h=>{Oe(h,{children:(g,m)=>{Ue(g,{get hidden(){return a(o)},get page(){return q.NewNote}})},$$slots:{default:!0}})},p=h=>{var g=X(),m=B(g);{var C=y=>{Oe(y,{children:(D,A)=>{Ue(D,{get params(){return n()},get hidden(){return a(o)},get page(){return q.EditNote}})},$$slots:{default:!0}})},x=y=>{var D=X(),A=B(D);{var P=E=>{Oe(E,{children:(M,G)=>{Ue(M,{get hidden(){return a(o)},get page(){return q.ImportData}})},$$slots:{default:!0}})},b=E=>{var M=X(),G=B(M);{var Y=K=>{Oe(K,{children:(se,te)=>{Ue(se,{get hidden(){return a(o)},get page(){return q.ExportData}})},$$slots:{default:!0}})},F=K=>{var se=X(),te=B(se);{var re=J=>{Oe(J,{children:(j,Z)=>{Ue(j,{get hidden(){return a(o)},get page(){return q.ClearStore}})},$$slots:{default:!0}})},Q=J=>{var j=X(),Z=B(j);{var N=ae=>{Oe(ae,{children:(le,T)=>{Ue(le,{get hidden(){return a(o)},get page(){return q.AccountSetup}})},$$slots:{default:!0}})},I=ae=>{var le=X(),T=B(le);{var z=O=>{Oe(O,{children:(oe,be)=>{Ue(oe,{get hidden(){return a(o)},get page(){return q.Install}})},$$slots:{default:!0}})},S=O=>{var oe=X(),be=B(oe);{var fe=ie=>{Oe(ie,{children:(ue,Ce)=>{Hd(ue,{})},$$slots:{default:!0}})},ne=ie=>{var ue=X(),Ce=B(ue);{var Ee=De=>{Oe(De,{children:(Le,Je)=>{Ue(Le,{get hidden(){return a(o)},get page(){return q.Auth}})},$$slots:{default:!0}})},Ae=De=>{var Le=X(),Je=B(Le);{var Qe=Nt=>{Oe(Nt,{children:(zt,yn)=>{Ue(zt,{get hidden(){return a(o)},get page(){return q.Signup}})},$$slots:{default:!0}})},$e=Nt=>{var zt=X(),yn=B(zt);{var Kr=bn=>{Oe(bn,{children:(fr,Ba)=>{Ue(fr,{get hidden(){return a(o)},get page(){return q.Signin}})},$$slots:{default:!0}})},Xr=bn=>{var fr=X(),Ba=B(fr);{var Rs=Sn=>{Oe(Sn,{children:(vr,Ra)=>{Ue(vr,{get hidden(){return a(o)},get page(){return q.AccessKeys}})},$$slots:{default:!0}})},Fs=Sn=>{var vr=X(),Ra=B(vr);{var zs=kn=>{Oe(kn,{children:(hr,Fa)=>{Ue(hr,{get hidden(){return a(o)},get page(){return q.Account}})},$$slots:{default:!0}})},Hs=kn=>{var hr=X(),Fa=B(hr);{var js=Cn=>{Oe(Cn,{children:(gr,za)=>{Ue(gr,{get hidden(){return a(o)},get page(){return q.ConfirmAccessKey}})},$$slots:{default:!0}})},Us=Cn=>{var gr=X(),za=B(gr);{var Vs=En=>{Oe(En,{children:(pr,Ha)=>{Ue(pr,{get hidden(){return a(o)},get page(){return q.Exit}})},$$slots:{default:!0}})},qs=En=>{var pr=X(),Ha=B(pr);{var Ws=xn=>{Oe(xn,{children:(_r,ja)=>{Ue(_r,{get hidden(){return a(o)},get page(){return q.Sync}})},$$slots:{default:!0}})},Ys=xn=>{var _r=X(),ja=B(_r);{var Ks=Pn=>{Oe(Pn,{children:(mr,Ua)=>{Ue(mr,{get hidden(){return a(o)},get page(){return q.Subscription}})},$$slots:{default:!0}})},Xs=Pn=>{var mr=X(),Ua=B(mr);{var Gs=An=>{Oe(An,{children:(Gr,Js)=>{Ue(Gr,{get hidden(){return a(o)},get page(){return q.About}})},$$slots:{default:!0}})},Zs=An=>{Oe(An,{children:(Gr,Js)=>{xu(Gr,{})},$$slots:{default:!0}})};W(Ua,An=>{e()===q.About?An(Gs):An(Zs,!1)},!0)}_(Pn,mr)};W(ja,Pn=>{e()===q.Subscription?Pn(Ks):Pn(Xs,!1)},!0)}_(xn,_r)};W(Ha,xn=>{e()===q.Sync?xn(Ws):xn(Ys,!1)},!0)}_(En,pr)};W(za,En=>{e()===q.Exit?En(Vs):En(qs,!1)},!0)}_(Cn,gr)};W(Fa,Cn=>{e()===q.ConfirmAccessKey?Cn(js):Cn(Us,!1)},!0)}_(kn,hr)};W(Ra,kn=>{e()===q.Account?kn(zs):kn(Hs,!1)},!0)}_(Sn,vr)};W(Ba,Sn=>{e()===q.AccessKeys?Sn(Rs):Sn(Fs,!1)},!0)}_(bn,fr)};W(yn,bn=>{e()===q.Signin?bn(Kr):bn(Xr,!1)},!0)}_(Nt,zt)};W(Je,Nt=>{e()===q.Signup?Nt(Qe):Nt($e,!1)},!0)}_(De,Le)};W(Ce,De=>{e()===q.Auth?De(Ee):De(Ae,!1)},!0)}_(ie,ue)};W(be,ie=>{e()===q.Wellcome?ie(fe):ie(ne,!1)},!0)}_(O,oe)};W(T,O=>{e()===q.Install?O(z):O(S,!1)},!0)}_(ae,le)};W(Z,ae=>{e()===q.AccountSetup?ae(N):ae(I,!1)},!0)}_(J,j)};W(te,J=>{e()===q.ClearStore?J(re):J(Q,!1)},!0)}_(K,se)};W(G,K=>{e()===q.ExportData?K(Y):K(F,!1)},!0)}_(E,M)};W(A,E=>{e()===q.ImportData?E(P):E(b,!1)},!0)}_(y,D)};W(m,y=>{e()===q.EditNote?y(C):y(x,!1)},!0)}_(h,g)};W(f,h=>{e()===q.NewNote?h(v):h(p,!1)},!0)}_(u,d)};W(i,u=>{e()===q.Settings?u(l):u(c,!1)})}_(t,s)};var ef=V("<!> <!>",1);function tf(t,e){$(e,!0);const{getStackPages:n}=st(),{getAccount:r}=ws();let o=H(n),s=H(()=>r()!==void 0);const{checkMobileSize:i}=Gn();let l=U(Be([]));const c=H(i);Ne(()=>{a(o),a(c),vt(()=>{if(a(c))a(o).length>=a(l).length?w(l,a(o).map(m=>({page:m,shown:!0})),!0):w(l,a(l).map((m,C)=>({page:m.page,shown:C<a(o).length})),!0);else if(a(o).length>=a(l).length)w(l,a(o).map(m=>({page:m,shown:!0})),!0);else{if(a(o).length===0){w(l,[{page:a(l)[a(l).length-1].page,shown:!1}],!0);return}w(l,a(o).map(m=>({page:m,shown:!0})),!0)}})});const u=()=>{w(l,a(o).map(m=>({page:m,shown:!0})),!0)};var d=ef(),f=B(d);{var v=m=>{Id(m,{})};W(f,m=>{a(s)&&m(v)})}var p=R(f,2);{var h=m=>{var C=X(),x=B(C);qr(x,19,()=>a(l),y=>y.page,(y,D,A)=>{const P=H(()=>a(D).page.split("?")[1]),b=H(()=>a(D).page.split("?")[0]);{let E=H(()=>a(A)!==a(l).length-1&&!!a(l)[a(A)+1]?.shown),M=H(()=>a(A)===0);oo(y,{onClosed:u,get shown(){return a(D).shown},get hidden(){return a(E)},get isLastDialog(){return a(M)},children:(G,Y)=>{{let F=H(()=>a(A)!==a(l).length-1&&!!a(l)[a(A)+1]?.shown);co(G,()=>a(b),()=>a(P),()=>a(F))}},$$slots:{default:!0}})}}),_(m,C)},g=m=>{var C=X(),x=B(C);{var y=D=>{const A=H(()=>a(l)[a(l).length-1].page.split("?")[1]),P=H(()=>a(l)[a(l).length-1].page.split("?")[0]);{let b=H(()=>a(l).length===1);oo(D,{onClosed:u,get shown(){return a(l)[a(l).length-1].shown},hidden:!1,get isLastDialog(){return a(b)},children:(E,M)=>{co(E,()=>a(P),()=>a(A))},$$slots:{default:!0}})}};W(x,D=>{a(l).length>0&&D(y)},!0)}_(m,C)};W(p,m=>{i()?m(h):m(g,!1)})}_(t,d),ee()}function nf(t,e){$(e,!1);let n=0;ke(()=>{document.addEventListener("touchstart",r=>{n=r.touches[0].clientX},{passive:!1}),document.addEventListener("touchmove",r=>{const s=r.touches[0].clientX-n;(n<30&&s>0||n>window.innerWidth-30&&s<0)&&r.preventDefault()},{passive:!1}),document.addEventListener("touchend",()=>{n=0}),document.addEventListener("touchcancel",()=>{n=0})}),Wr(),ee()}const rf=(t,e)=>{a(e)&&a(e).scrollTo({top:0})};var af=V('<div><button class="buttonTop svelte-1n46o8q"><!> <span class="icon svelte-1n46o8q"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></span></button></div>'),of=V('<!> <!> <main><div class="wrapperHeader svelte-1n46o8q"><!></div> <div class="container svelte-1n46o8q"><!></div></main> <!>',1);function sf(t,e){$(e,!0);const{navigate:n}=Tt(),{hasStackPage:r}=st(),{setScrollContainer:o}=La(),{getAccount:s,init:i}=ws(),{isInitedNotes:l}=dr(),{getStackPagesFormUrl:c}=st(),{createBroadcastChannel:u,tabId:d}=wn(),f=u(),{getSidebarState:v}=Yr(),{setClosableDialog:p}=Qt(),h=()=>{n("/?stackPages=wellcome")};ke(()=>{i(I=>{I===void 0?h():((r("wellcome")||r("accountSetup"))&&n("/"),I?w(y,I):w(y,null))});const N=async I=>{const ae=JSON.parse(I.data);if(ae.tabId&&ae.tabId===d)return;const le=ae;le.type==="initLocalAccount"||le.type==="initCloudAccount"||le.type==="updateAccount"||le.type==="disconnectCloudAccount"?n("/"):le.type==="exit"&&(n("/"),setTimeout(()=>{h()}))};return f.addEventListener(N),()=>f.removeEventListener(N)});const g=Jt();ke(async()=>{await new Promise(N=>setTimeout(N,100)),await Zo(),g.working=!0});let m=U(!1),C=0,x=H(()=>c().length>0),y=H(s),D=H(l),A=U(null);Ne(()=>{p(a(y)!==void 0)}),Ne(()=>{o(a(A))});const P=()=>{if(a(A)){const N=a(A).scrollTop||0;N===0?w(m,!1):!a(m)&&C>N?w(m,!0):a(m)&&C+50<N&&w(m,!1),C=N}},b=()=>{P()};Ne(()=>(a(A)?.addEventListener("scroll",b),window.addEventListener("resize",b),()=>{a(A)?.removeEventListener("scroll",b),window.removeEventListener("resize",b)}));const E=H(v);var M=of(),G=B(M);nf(G,{});var Y=R(G,2);Nc(Y,{});var F=R(Y,2),K=k(F),se=k(K);{var te=N=>{iu(N,{})};W(se,N=>{a(y)!==void 0&&N(te)})}var re=R(K,2),Q=k(re);{var J=N=>{tf(N,{})};W(Q,N=>{a(D)&&N(J)})}ot(F,N=>w(A,N),()=>a(A));var j=R(F,2);{var Z=N=>{var I=af(),ae=k(I);ae.__click=[rf,A];var le=k(ae);Ke(le,{children:(S,O)=>{var oe=Ie("top");_(S,oe)}});var T=R(le,2),z=k(T);_e(z,()=>({"--rotate":"90deg","--size":"28px"})),we(z.lastChild,{name:"back"}),de(()=>{Un(I,`--swiping-ratio: ${g.swipingRatio}; --transition-timing-default: ${g.duration}s;`),pe(I,1,ge(["wrapperButtonTop",{isAnimationOn:g.working&&!g.isSwiping,open:a(x)||a(E).type!=="closed"}]),"svelte-1n46o8q")}),_(N,I)};W(j,N=>{a(m)&&N(Z)})}de(()=>{Un(F,`--swiping-ratio: ${g.swipingRatio}; --transition-timing-default: ${g.duration}s;`),pe(F,1,ge(["main",{isAnimationOn:g.working&&!g.isSwiping,open:a(x)||a(E).type!=="closed"}]),"svelte-1n46o8q")}),_(t,M),ee()}qe(["click"]);function lf(t){xc(t,{children:(e,n)=>{sf(e,{})}})}window.addEventListener("unhandledrejection",t=>{alert("Error: "+t.reason.message)});window.isUnsupportedBrowser||vl(lf,{target:document.getElementById("app")});export{ws as A,Yt as B,Wr as C,dr as D,Aa as E,df as F,ve as G,Bd as H,we as I,pe as J,ge as K,Ms as L,$r as M,xr as N,Un as O,q as P,Gn as Q,ec as R,Wd as S,ot as T,ff as U,Ke as V,Is as W,Ru as X,Pl as Y,_e as a,Me as b,k as c,_ as d,qr as e,V as f,a as g,st as h,Qt as i,U as j,Be as k,w as l,W as m,ee as n,ke as o,$ as p,X as q,B as r,R as s,de as t,Ne as u,qe as v,Ie as w,Bt as x,H as y,Tt as z};
