const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["a/D5uvntjQ.js","a/BAW-HnOs.css","a/-efOww8n.js","a/9q_jSmK4.js","a/BEGDcNQV.js","a/CjhdjYO4.css","a/HeYHxRB1.js","a/D5mnDQ30.css","a/Pj66GTCL.js","a/BMjxyC5e.css","a/DzzgSod-.js","a/DgPIJwnn.css","a/uCtYnmsV.js","a/B_UsPGEu.css","a/BYoGmeKB.js","a/Cpa8lgv9.js","a/DvaEirB2.js","a/j0KFa_-O.css","a/hu7yjlv8.css","a/BsvUehql.js","a/Cqj6PRJK.js","a/0X-vq1Pt.js","a/EZ_l8VDb.css","a/B_Zcg-eh.css","a/HOTUjnfJ.css","a/DXwpS2Qv.js","a/Bs6Vrlio.css","a/o2mGVbTU.js","a/B8neLUb6.css","a/CLdSri1M.js","a/Dz9AXCrV.css","a/CW9lciqi.js","a/T29gp9rs.css","a/B5GBhkeC.js","a/DwgAKYEM.js","a/DaxC3cdO.css","a/DL04gLDy.js","a/Bib31qW-.css","a/BgWWLGaJ.js","a/Br15UghP.css","a/DK88asQA.js","a/CTzb1Nvm.css"])))=>i.map(i=>d[i]);
var $s=Object.defineProperty;var Va=t=>{throw TypeError(t)};var ei=(t,e,n)=>e in t?$s(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var it=(t,e,n)=>ei(t,typeof e!="symbol"?e+"":e,n),Zr=(t,e,n)=>e.has(t)||Va("Cannot "+n);var L=(t,e,n)=>(Zr(t,e,"read from private field"),n?n.call(t):e.get(t)),be=(t,e,n)=>e.has(t)?Va("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),le=(t,e,n,r)=>(Zr(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),ze=(t,e,n)=>(Zr(t,e,"access private method"),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();const fo=!1;var ma=Array.isArray,ti=Array.prototype.indexOf,wa=Array.from,ra=Object.defineProperty,Ln=Object.getOwnPropertyDescriptor,vo=Object.getOwnPropertyDescriptors,ni=Object.prototype,ri=Array.prototype,ya=Object.getPrototypeOf,qa=Object.isExtensible;const xe=()=>{};function ai(t){return typeof t?.then=="function"}function oi(t){return t()}function aa(t){for(var e=0;e<t.length;e++)t[e]()}function ho(){var t,e,n=new Promise((r,o)=>{t=r,e=o});return{promise:n,resolve:t,reject:e}}function si(t,e,n=!1){return t===void 0?n?e():e:t}const Je=2,ba=4,Or=8,pn=16,Ft=32,_n=64,Sa=128,dt=256,Ar=512,Ke=1024,at=2048,Gt=4096,wt=8192,mn=16384,ka=32768,Wn=65536,Wa=1<<17,ii=1<<18,Yn=1<<19,go=1<<20,oa=1<<21,Ca=1<<22,un=1<<23,dn=Symbol("$state"),li=Symbol("legacy props"),ci=Symbol(""),Nn=new class extends Error{constructor(){super(...arguments);it(this,"name","StaleReactionError");it(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function po(t){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function ui(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function di(t){throw new Error("https://svelte.dev/e/effect_in_teardown")}function fi(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function vi(t){throw new Error("https://svelte.dev/e/effect_orphan")}function hi(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function gi(t){throw new Error("https://svelte.dev/e/props_invalid_value")}function pi(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function _i(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function mi(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function wi(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const Br=1,Rr=2,_o=4,yi=8,bi=16,Si=1,ki=2,Ci=4,Ei=8,xi=16,Pi=1,Ai=2,Ve=Symbol(),Di="http://www.w3.org/1999/xhtml";let Ti=!1;function mo(t){return t===this.v}function Ni(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function wo(t){return!Ni(t,this.v)}let Kn=!1,Li=!1;function Mi(){Kn=!0}let Pe=null;function Hn(t){Pe=t}function Re(t){return yo().get(t)}function Fe(t,e){return yo().set(t,e),e}function ee(t,e=!1,n){Pe={p:Pe,c:null,e:null,s:t,x:null,l:Kn&&!e?{s:null,u:null,$:[]}:null}}function te(t){var e=Pe,n=e.e;if(n!==null){e.e=null;for(var r of n)Fo(r)}return t!==void 0&&(e.x=t),Pe=e.p,t??{}}function Xn(){return!Kn||Pe!==null&&Pe.l===null}function yo(t){return Pe===null&&po(),Pe.c??(Pe.c=new Map(Ii(Pe)||void 0))}function Ii(t){let e=t.p;for(;e!==null;){const n=e.c;if(n!==null)return n;e=e.p}return null}let rn=[];function bo(){var t=rn;rn=[],aa(t)}function Xt(t){if(rn.length===0&&!Mn){var e=rn;queueMicrotask(()=>{e===rn&&bo()})}rn.push(t)}function Oi(){for(;rn.length>0;)bo()}const Bi=new WeakMap;function So(t){var e=_e;if(e===null)return ve.f|=un,t;if((e.f&ka)===0){if((e.f&Sa)===0)throw!e.parent&&t instanceof Error&&ko(t),t;e.b.error(t)}else jn(t,e)}function jn(t,e){for(;e!==null;){if((e.f&Sa)!==0)try{e.b.error(t);return}catch(n){t=n}e=e.parent}throw t instanceof Error&&ko(t),t}function ko(t){const e=Bi.get(t);e&&(ra(t,"message",{value:e.message}),ra(t,"stack",{value:e.stack}))}const wr=new Set;let Te=null,Sr=null,_t=null,sa=new Set,Pt=[],Fr=null,ia=!1,Mn=!1;var Bn,Rn,an,ar,Fn,on,zn,or,sr,ft,la,kr,ca;const Lr=class Lr{constructor(){be(this,ft);it(this,"current",new Map);be(this,Bn,new Map);be(this,Rn,new Set);be(this,an,0);be(this,ar,null);be(this,Fn,[]);be(this,on,[]);be(this,zn,[]);be(this,or,[]);be(this,sr,[]);it(this,"skipped_effects",new Set)}process(e){Pt=[],Sr=null,this.apply();for(const s of e)ze(this,ft,la).call(this,s);if(L(this,an)===0){var n=_t;ze(this,ft,ca).call(this);var r=L(this,Fn),o=L(this,on);le(this,Fn,[]),le(this,on,[]),le(this,zn,[]),Sr=this,Te=null,_t=n,Ya(r),Ya(o),Sr=null,L(this,ar)?.resolve()}else ze(this,ft,kr).call(this,L(this,Fn)),ze(this,ft,kr).call(this,L(this,on)),ze(this,ft,kr).call(this,L(this,zn));_t=null}capture(e,n){L(this,Bn).has(e)||L(this,Bn).set(e,n),this.current.set(e,e.v),_t?.set(e,e.v)}activate(){Te=this}deactivate(){Te=null,_t=null}flush(){if(Pt.length>0){if(this.activate(),Eo(),Te!==null&&Te!==this)return}else L(this,an)===0&&ze(this,ft,ca).call(this);this.deactivate();for(const e of sa)if(sa.delete(e),e(),Te!==null)break}increment(){le(this,an,L(this,an)+1)}decrement(){le(this,an,L(this,an)-1);for(const e of L(this,or))Ge(e,at),hn(e);for(const e of L(this,sr))Ge(e,Gt),hn(e);this.flush()}add_callback(e){L(this,Rn).add(e)}settled(){return(L(this,ar)??le(this,ar,ho())).promise}static ensure(){if(Te===null){const e=Te=new Lr;wr.add(Te),Mn||Lr.enqueue(()=>{Te===e&&e.flush()})}return Te}static enqueue(e){Xt(e)}apply(){}};Bn=new WeakMap,Rn=new WeakMap,an=new WeakMap,ar=new WeakMap,Fn=new WeakMap,on=new WeakMap,zn=new WeakMap,or=new WeakMap,sr=new WeakMap,ft=new WeakSet,la=function(e){e.f^=Ke;for(var n=e.first;n!==null;){var r=n.f,o=(r&(Ft|_n))!==0,s=o&&(r&Ke)!==0,i=s||(r&wt)!==0||this.skipped_effects.has(n);if(!i&&n.fn!==null){o?n.f^=Ke:(r&ba)!==0?L(this,on).push(n):Ur(n)&&((n.f&pn)!==0&&L(this,zn).push(n),Nr(n));var l=n.first;if(l!==null){n=l;continue}}var c=n.parent;for(n=n.next;n===null&&c!==null;)n=c.next,c=c.parent}},kr=function(e){for(const n of e)((n.f&at)!==0?L(this,or):L(this,sr)).push(n),Ge(n,Ke);e.length=0},ca=function(){var e;for(const n of L(this,Rn))n();if(L(this,Rn).clear(),wr.size>1){L(this,Bn).clear();let n=!0;for(const r of wr){if(r===this){n=!1;continue}const o=[];for(const[i,l]of this.current){if(r.current.has(i))if(n&&l!==r.current.get(i))r.current.set(i,l);else continue;o.push(i)}if(o.length===0)continue;const s=[...r.current.keys()].filter(i=>!this.current.has(i));if(s.length>0){for(const i of o)xo(i,s);if(Pt.length>0){Te=r,r.apply();for(const i of Pt)ze(e=r,ft,la).call(e,i);Pt=[],r.deactivate()}}}Te=null}wr.delete(this)};let Mt=Lr;function Co(t){var e=Mn;Mn=!0;try{for(var n;;){if(Oi(),Pt.length===0&&(Te?.flush(),Pt.length===0))return Fr=null,n;Eo()}}finally{Mn=e}}function Eo(){var t=On;ia=!0;try{var e=0;for(Ga(!0);Pt.length>0;){var n=Mt.ensure();if(e++>1e3){var r,o;Ri()}n.process(Pt),Yt.clear()}}finally{ia=!1,Ga(t),Fr=null}}function Ri(){try{hi()}catch(t){jn(t,Fr)}}let tn=null;function Ya(t){var e=t.length;if(e!==0){for(var n=0;n<e;){var r=t[n++];if((r.f&(mn|wt))===0&&Ur(r)&&(tn=[],Nr(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?jo(r):r.fn=null),tn?.length>0)){Yt.clear();for(const o of tn)Nr(o);tn=[]}}tn=null}}function xo(t,e){if(t.reactions!==null)for(const n of t.reactions){const r=n.f;(r&Je)!==0?xo(n,e):(r&(Ca|pn))!==0&&Po(n,e)&&(Ge(n,at),hn(n))}}function Po(t,e){if(t.deps!==null){for(const n of t.deps)if(e.includes(n)||(n.f&Je)!==0&&Po(n,e))return!0}return!1}function hn(t){for(var e=Fr=t;e.parent!==null;){e=e.parent;var n=e.f;if(ia&&e===_e&&(n&pn)!==0)return;if((n&(_n|Ft))!==0){if((n&Ke)===0)return;e.f^=Ke}}Pt.push(e)}function Fi(t){let e=0,n=Rt(0),r;return()=>{Qi()&&(a(n),jr(()=>(e===0&&(r=vt(()=>t(()=>er(n)))),e+=1,()=>{Xt(()=>{e-=1,e===0&&(r?.(),r=void 0,er(n))})})))}}var zi=Wn|Yn|Sa;function Hi(t,e,n){new ji(t,e,n)}var ht,ct,_a,kt,sn,Ct,ut,et,Et,Ut,ln,Vt,cn,qt,Mr,Ir,Ze,Ui,Vi,Cr,Er,ua;class ji{constructor(e,n,r){be(this,Ze);it(this,"parent");be(this,ht,!1);be(this,ct);be(this,_a,null);be(this,kt);be(this,sn);be(this,Ct);be(this,ut,null);be(this,et,null);be(this,Et,null);be(this,Ut,null);be(this,ln,0);be(this,Vt,0);be(this,cn,!1);be(this,qt,null);be(this,Mr,()=>{L(this,qt)&&It(L(this,qt),L(this,ln))});be(this,Ir,Fi(()=>(le(this,qt,Rt(L(this,ln))),()=>{le(this,qt,null)})));le(this,ct,e),le(this,kt,n),le(this,sn,r),this.parent=_e.b,le(this,ht,!!L(this,kt).pending),le(this,Ct,Gn(()=>{_e.b=this;{try{le(this,ut,pt(()=>r(L(this,ct))))}catch(o){this.error(o)}L(this,Vt)>0?ze(this,Ze,Er).call(this):le(this,ht,!1)}},zi))}is_pending(){return L(this,ht)||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!L(this,kt).pending}update_pending_count(e){ze(this,Ze,ua).call(this,e),le(this,ln,L(this,ln)+e),sa.add(L(this,Mr))}get_effect_pending(){return L(this,Ir).call(this),a(L(this,qt))}error(e){var n=L(this,kt).onerror;let r=L(this,kt).failed;if(L(this,cn)||!n&&!r)throw e;L(this,ut)&&(nt(L(this,ut)),le(this,ut,null)),L(this,et)&&(nt(L(this,et)),le(this,et,null)),L(this,Et)&&(nt(L(this,Et)),le(this,Et,null));var o=!1,s=!1;const i=()=>{if(o){return}o=!0,s&&wi(),Mt.ensure(),le(this,ln,0),L(this,Et)!==null&&In(L(this,Et),()=>{le(this,Et,null)}),le(this,ht,this.has_pending_snippet()),le(this,ut,ze(this,Ze,Cr).call(this,()=>(le(this,cn,!1),pt(()=>L(this,sn).call(this,L(this,ct)))))),L(this,Vt)>0?ze(this,Ze,Er).call(this):le(this,ht,!1)};var l=ve;try{tt(null),s=!0,n?.(e,i),s=!1}catch(c){jn(c,L(this,Ct)&&L(this,Ct).parent)}finally{tt(l)}r&&Xt(()=>{le(this,Et,ze(this,Ze,Cr).call(this,()=>{le(this,cn,!0);try{return pt(()=>{r(L(this,ct),()=>e,()=>i)})}catch(c){return jn(c,L(this,Ct).parent),null}finally{le(this,cn,!1)}}))})}}ht=new WeakMap,ct=new WeakMap,_a=new WeakMap,kt=new WeakMap,sn=new WeakMap,Ct=new WeakMap,ut=new WeakMap,et=new WeakMap,Et=new WeakMap,Ut=new WeakMap,ln=new WeakMap,Vt=new WeakMap,cn=new WeakMap,qt=new WeakMap,Mr=new WeakMap,Ir=new WeakMap,Ze=new WeakSet,Ui=function(){try{le(this,ut,pt(()=>L(this,sn).call(this,L(this,ct))))}catch(e){this.error(e)}le(this,ht,!1)},Vi=function(){const e=L(this,kt).pending;e&&(le(this,et,pt(()=>e(L(this,ct)))),Mt.enqueue(()=>{le(this,ut,ze(this,Ze,Cr).call(this,()=>(Mt.ensure(),pt(()=>L(this,sn).call(this,L(this,ct)))))),L(this,Vt)>0?ze(this,Ze,Er).call(this):(In(L(this,et),()=>{le(this,et,null)}),le(this,ht,!1))}))},Cr=function(e){var n=_e,r=ve,o=Pe;At(L(this,Ct)),tt(L(this,Ct)),Hn(L(this,Ct).ctx);try{return e()}catch(s){return So(s),null}finally{At(n),tt(r),Hn(o)}},Er=function(){const e=L(this,kt).pending;L(this,ut)!==null&&(le(this,Ut,document.createDocumentFragment()),qo(L(this,ut),L(this,Ut))),L(this,et)===null&&le(this,et,pt(()=>e(L(this,ct))))},ua=function(e){var n;if(!this.has_pending_snippet()){this.parent&&ze(n=this.parent,Ze,ua).call(n,e);return}le(this,Vt,L(this,Vt)+e),L(this,Vt)===0&&(le(this,ht,!1),L(this,et)&&In(L(this,et),()=>{le(this,et,null)}),L(this,Ut)&&(L(this,ct).before(L(this,Ut)),le(this,Ut,null)),Xt(()=>{Mt.ensure().flush()}))};function qi(t,e,n){const r=Xn()?cr:zr;if(e.length===0){n(t.map(r));return}var o=Te,s=_e,i=Ao();Promise.all(e.map(l=>Wi(l))).then(l=>{i();try{n([...t.map(r),...l])}catch(c){(s.f&mn)===0&&jn(c,s)}o?.deactivate(),Dr()}).catch(l=>{jn(l,s)})}function Ao(){var t=_e,e=ve,n=Pe,r=Te;return function(){At(t),tt(e),Hn(n),r?.activate()}}function Dr(){At(null),tt(null),Hn(null)}function cr(t){var e=Je|at,n=ve!==null&&(ve.f&Je)!==0?ve:null;return _e===null||n!==null&&(n.f&dt)!==0?e|=dt:_e.f|=Yn,{ctx:Pe,deps:null,effects:null,equals:mo,f:e,fn:t,reactions:null,rv:0,v:Ve,wv:0,parent:n??_e,ac:null}}function Wi(t,e){let n=_e;n===null&&ui();var r=n.b,o=void 0,s=Rt(Ve),i=!ve,l=new Map;return nl(()=>{var c=ho();o=c.promise;try{Promise.resolve(t()).then(c.resolve,c.reject).then(Dr)}catch(v){c.reject(v),Dr()}var u=Te,d=r.is_pending();i&&(r.update_pending_count(1),d||(u.increment(),l.get(u)?.reject(Nn),l.delete(u),l.set(u,c)));const f=(v,p=void 0)=>{if(d||u.activate(),p)p!==Nn&&(s.f|=un,It(s,p));else{(s.f&un)!==0&&(s.f^=un),It(s,v);for(const[h,g]of l){if(l.delete(h),h===u)break;g.reject(Nn)}}i&&(r.update_pending_count(-1),d||u.decrement())};c.promise.then(f,v=>f(null,v||"unknown"))}),Ro(()=>{for(const c of l.values())c.reject(Nn)}),new Promise(c=>{function u(d){function f(){d===o?c(s):u(o)}d.then(f,f)}u(o)})}function j(t){const e=cr(t);return Wo(e),e}function zr(t){const e=cr(t);return e.equals=wo,e}function Do(t){var e=t.effects;if(e!==null){t.effects=null;for(var n=0;n<e.length;n+=1)nt(e[n])}}function Yi(t){for(var e=t.parent;e!==null;){if((e.f&Je)===0)return e;e=e.parent}return null}function Ea(t){var e,n=_e;At(Yi(t));try{Do(t),e=Go(t)}finally{At(n)}return e}function To(t){var e=Ea(t);if(t.equals(e)||(t.v=e,t.wv=Ko()),!wn)if(_t!==null)_t.set(t,t.v);else{var n=(Wt||(t.f&dt)!==0)&&t.deps!==null?Gt:Ke;Ge(t,n)}}const Yt=new Map;function Rt(t,e){var n={f:0,v:t,reactions:null,equals:mo,rv:0,wv:0};return n}function U(t,e){const n=Rt(t);return Wo(n),n}function da(t,e=!1,n=!0){var o;const r=Rt(t);return e||(r.equals=wo),Kn&&n&&Pe!==null&&Pe.l!==null&&((o=Pe.l).s??(o.s=[])).push(r),r}function w(t,e,n=!1){ve!==null&&(!mt||(ve.f&Wa)!==0)&&Xn()&&(ve.f&(Je|pn|Ca|Wa))!==0&&!Ot?.includes(t)&&mi();let r=n?Be(e):e;return It(t,r)}function It(t,e){if(!t.equals(e)){var n=t.v;wn?Yt.set(t,e):Yt.set(t,n),t.v=e;var r=Mt.ensure();r.capture(t,n),(t.f&Je)!==0&&((t.f&at)!==0&&Ea(t),Ge(t,(t.f&dt)===0?Ke:Gt)),t.wv=Ko(),No(t,at),Xn()&&_e!==null&&(_e.f&Ke)!==0&&(_e.f&(Ft|_n))===0&&(lt===null?ol([t]):lt.push(t))}return e}function er(t){w(t,t.v+1)}function No(t,e){var n=t.reactions;if(n!==null)for(var r=Xn(),o=n.length,s=0;s<o;s++){var i=n[s],l=i.f;if(!(!r&&i===_e)){var c=(l&at)===0;c&&Ge(i,e),(l&Je)!==0?No(i,Gt):c&&((l&pn)!==0&&tn!==null&&tn.push(i),hn(i))}}}function Be(t){if(typeof t!="object"||t===null||dn in t)return t;const e=ya(t);if(e!==ni&&e!==ri)return t;var n=new Map,r=ma(t),o=U(0),s=fn,i=l=>{if(fn===s)return l();var c=ve,u=fn;tt(null),Ja(s);var d=l();return tt(c),Ja(u),d};return r&&n.set("length",U(t.length)),new Proxy(t,{defineProperty(l,c,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&pi();var d=n.get(c);return d===void 0?d=i(()=>{var f=U(u.value);return n.set(c,f),f}):w(d,u.value,!0),!0},deleteProperty(l,c){var u=n.get(c);if(u===void 0){if(c in l){const d=i(()=>U(Ve));n.set(c,d),er(o)}}else w(u,Ve),er(o);return!0},get(l,c,u){if(c===dn)return t;var d=n.get(c),f=c in l;if(d===void 0&&(!f||Ln(l,c)?.writable)&&(d=i(()=>{var p=Be(f?l[c]:Ve),h=U(p);return h}),n.set(c,d)),d!==void 0){var v=a(d);return v===Ve?void 0:v}return Reflect.get(l,c,u)},getOwnPropertyDescriptor(l,c){var u=Reflect.getOwnPropertyDescriptor(l,c);if(u&&"value"in u){var d=n.get(c);d&&(u.value=a(d))}else if(u===void 0){var f=n.get(c),v=f?.v;if(f!==void 0&&v!==Ve)return{enumerable:!0,configurable:!0,value:v,writable:!0}}return u},has(l,c){if(c===dn)return!0;var u=n.get(c),d=u!==void 0&&u.v!==Ve||Reflect.has(l,c);if(u!==void 0||_e!==null&&(!d||Ln(l,c)?.writable)){u===void 0&&(u=i(()=>{var v=d?Be(l[c]):Ve,p=U(v);return p}),n.set(c,u));var f=a(u);if(f===Ve)return!1}return d},set(l,c,u,d){var f=n.get(c),v=c in l;if(r&&c==="length")for(var p=u;p<f.v;p+=1){var h=n.get(p+"");h!==void 0?w(h,Ve):p in l&&(h=i(()=>U(Ve)),n.set(p+"",h))}if(f===void 0)(!v||Ln(l,c)?.writable)&&(f=i(()=>U(void 0)),w(f,Be(u)),n.set(c,f));else{v=f.v!==Ve;var g=i(()=>Be(u));w(f,g)}var m=Reflect.getOwnPropertyDescriptor(l,c);if(m?.set&&m.set.call(d,u),!v){if(r&&typeof c=="string"){var E=n.get("length"),x=Number(c);Number.isInteger(x)&&x>=E.v&&w(E,x+1)}er(o)}return!0},ownKeys(l){a(o);var c=Reflect.ownKeys(l).filter(f=>{var v=n.get(f);return v===void 0||v.v!==Ve});for(var[u,d]of n)d.v!==Ve&&!(u in l)&&c.push(u);return c},setPrototypeOf(){_i()}})}var Ka,Lo,Mo,Io;function Ki(){if(Ka===void 0){Ka=window,Lo=/Firefox/.test(navigator.userAgent);var t=Element.prototype,e=Node.prototype,n=Text.prototype;Mo=Ln(e,"firstChild").get,Io=Ln(e,"nextSibling").get,qa(t)&&(t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__style=void 0,t.__e=void 0),qa(n)&&(n.__t=void 0)}}function gn(t=""){return document.createTextNode(t)}function Un(t){return Mo.call(t)}function ur(t){return Io.call(t)}function C(t,e){return Un(t)}function R(t,e=!1){{var n=Un(t);return n instanceof Comment&&n.data===""?ur(n):n}}function F(t,e=1,n=!1){let r=t;for(;e--;)r=ur(r);return r}function Xi(t){t.textContent=""}function Oo(){return!1}let Xa=!1;function Gi(){Xa||(Xa=!0,document.addEventListener("reset",t=>{Promise.resolve().then(()=>{if(!t.defaultPrevented)for(const e of t.target.elements)e.__on_r?.()})},{capture:!0}))}function Hr(t){var e=ve,n=_e;tt(null),At(null);try{return t()}finally{tt(e),At(n)}}function Zi(t,e,n,r=n){t.addEventListener(e,()=>Hr(n));const o=t.__on_r;o?t.__on_r=()=>{o(),r(!0)}:t.__on_r=()=>r(!0),Gi()}function Bo(t){_e===null&&ve===null&&vi(),ve!==null&&(ve.f&dt)!==0&&_e===null&&fi(),wn&&di()}function Ji(t,e){var n=e.last;n===null?e.last=e.first=t:(n.next=t,t.prev=n,e.last=t)}function Dt(t,e,n,r=!0){var o=_e;o!==null&&(o.f&wt)!==0&&(t|=wt);var s={ctx:Pe,deps:null,nodes_start:null,nodes_end:null,f:t|at,first:null,fn:e,last:null,next:null,parent:o,b:o&&o.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{Nr(s),s.f|=ka}catch(c){throw nt(s),c}else e!==null&&hn(s);if(r){var i=s;if(n&&i.deps===null&&i.teardown===null&&i.nodes_start===null&&i.first===i.last&&(i.f&Yn)===0&&(i=i.first),i!==null&&(i.parent=o,o!==null&&Ji(i,o),ve!==null&&(ve.f&Je)!==0&&(t&_n)===0)){var l=ve;(l.effects??(l.effects=[])).push(i)}}return s}function Qi(){return ve!==null&&!mt}function Ro(t){const e=Dt(Or,null,!1);return Ge(e,Ke),e.teardown=t,e}function Ne(t){Bo();var e=_e.f,n=!ve&&(e&Ft)!==0&&(e&ka)===0;if(n){var r=Pe;(r.e??(r.e=[])).push(t)}else return Fo(t)}function Fo(t){return Dt(ba|go,t,!1)}function $i(t){return Bo(),Dt(Or|go,t,!0)}function el(t){Mt.ensure();const e=Dt(_n|Yn,t,!0);return(n={})=>new Promise(r=>{n.outro?In(e,()=>{nt(e),r(void 0)}):(nt(e),r(void 0))})}function tl(t){return Dt(ba,t,!1)}function nl(t){return Dt(Ca|Yn,t,!0)}function jr(t,e=0){return Dt(Or|e,t,!0)}function ce(t,e=[],n=[]){qi(e,n,r=>{Dt(Or,()=>t(...r.map(a)),!0)})}function Gn(t,e=0){var n=Dt(pn|e,t,!0);return n}function pt(t,e=!0){return Dt(Ft|Yn,t,!0,e)}function zo(t){var e=t.teardown;if(e!==null){const n=wn,r=ve;Za(!0),tt(null);try{e.call(null)}finally{Za(n),tt(r)}}}function Ho(t,e=!1){var n=t.first;for(t.first=t.last=null;n!==null;){const o=n.ac;o!==null&&Hr(()=>{o.abort(Nn)});var r=n.next;(n.f&_n)!==0?n.parent=null:nt(n,e),n=r}}function rl(t){for(var e=t.first;e!==null;){var n=e.next;(e.f&Ft)===0&&nt(e),e=n}}function nt(t,e=!0){var n=!1;(e||(t.f&ii)!==0)&&t.nodes_start!==null&&t.nodes_end!==null&&(al(t.nodes_start,t.nodes_end),n=!0),Ho(t,e&&!n),Tr(t,0),Ge(t,mn);var r=t.transitions;if(r!==null)for(const s of r)s.stop();zo(t);var o=t.parent;o!==null&&o.first!==null&&jo(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes_start=t.nodes_end=t.ac=null}function al(t,e){for(;t!==null;){var n=t===e?null:ur(t);t.remove(),t=n}}function jo(t){var e=t.parent,n=t.prev,r=t.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),e!==null&&(e.first===t&&(e.first=r),e.last===t&&(e.last=n))}function In(t,e,n=!0){var r=[];xa(t,r,!0),Uo(r,()=>{n&&nt(t),e&&e()})}function Uo(t,e){var n=t.length;if(n>0){var r=()=>--n||e();for(var o of t)o.out(r)}else e()}function xa(t,e,n){if((t.f&wt)===0){if(t.f^=wt,t.transitions!==null)for(const i of t.transitions)(i.is_global||n)&&e.push(i);for(var r=t.first;r!==null;){var o=r.next,s=(r.f&Wn)!==0||(r.f&Ft)!==0;xa(r,e,s?n:!1),r=o}}}function Pa(t){Vo(t,!0)}function Vo(t,e){if((t.f&wt)!==0){t.f^=wt,(t.f&Ke)===0&&(Ge(t,at),hn(t));for(var n=t.first;n!==null;){var r=n.next,o=(n.f&Wn)!==0||(n.f&Ft)!==0;Vo(n,o?e:!1),n=r}if(t.transitions!==null)for(const s of t.transitions)(s.is_global||e)&&s.in()}}function qo(t,e){for(var n=t.nodes_start,r=t.nodes_end;n!==null;){var o=n===r?null:ur(n);e.append(n),n=o}}let On=!1;function Ga(t){On=t}let wn=!1;function Za(t){wn=t}let ve=null,mt=!1;function tt(t){ve=t}let _e=null;function At(t){_e=t}let Ot=null;function Wo(t){ve!==null&&(Ot===null?Ot=[t]:Ot.push(t))}let Ye=null,rt=0,lt=null;function ol(t){lt=t}let Yo=1,nr=0,fn=nr;function Ja(t){fn=t}let Wt=!1;function Ko(){return++Yo}function Ur(t){var e=t.f;if((e&at)!==0)return!0;if((e&Gt)!==0){var n=t.deps,r=(e&dt)!==0;if(n!==null){var o,s,i=(e&Ar)!==0,l=r&&_e!==null&&!Wt,c=n.length;if((i||l)&&(_e===null||(_e.f&mn)===0)){var u=t,d=u.parent;for(o=0;o<c;o++)s=n[o],(i||!s?.reactions?.includes(u))&&(s.reactions??(s.reactions=[])).push(u);i&&(u.f^=Ar),l&&d!==null&&(d.f&dt)===0&&(u.f^=dt)}for(o=0;o<c;o++)if(s=n[o],Ur(s)&&To(s),s.wv>t.wv)return!0}(!r||_e!==null&&!Wt)&&Ge(t,Ke)}return!1}function Xo(t,e,n=!0){var r=t.reactions;if(r!==null&&!Ot?.includes(t))for(var o=0;o<r.length;o++){var s=r[o];(s.f&Je)!==0?Xo(s,e,!1):e===s&&(n?Ge(s,at):(s.f&Ke)!==0&&Ge(s,Gt),hn(s))}}function Go(t){var g;var e=Ye,n=rt,r=lt,o=ve,s=Wt,i=Ot,l=Pe,c=mt,u=fn,d=t.f;Ye=null,rt=0,lt=null,Wt=(d&dt)!==0&&(mt||!On||ve===null),ve=(d&(Ft|_n))===0?t:null,Ot=null,Hn(t.ctx),mt=!1,fn=++nr,t.ac!==null&&(Hr(()=>{t.ac.abort(Nn)}),t.ac=null);try{t.f|=oa;var f=t.fn,v=f(),p=t.deps;if(Ye!==null){var h;if(Tr(t,rt),p!==null&&rt>0)for(p.length=rt+Ye.length,h=0;h<Ye.length;h++)p[rt+h]=Ye[h];else t.deps=p=Ye;if(!Wt||(d&Je)!==0&&t.reactions!==null)for(h=rt;h<p.length;h++)((g=p[h]).reactions??(g.reactions=[])).push(t)}else p!==null&&rt<p.length&&(Tr(t,rt),p.length=rt);if(Xn()&&lt!==null&&!mt&&p!==null&&(t.f&(Je|Gt|at))===0)for(h=0;h<lt.length;h++)Xo(lt[h],t);return o!==null&&o!==t&&(nr++,lt!==null&&(r===null?r=lt:r.push(...lt))),(t.f&un)!==0&&(t.f^=un),v}catch(m){return So(m)}finally{t.f^=oa,Ye=e,rt=n,lt=r,ve=o,Wt=s,Ot=i,Hn(l),mt=c,fn=u}}function sl(t,e){let n=e.reactions;if(n!==null){var r=ti.call(n,t);if(r!==-1){var o=n.length-1;o===0?n=e.reactions=null:(n[r]=n[o],n.pop())}}n===null&&(e.f&Je)!==0&&(Ye===null||!Ye.includes(e))&&(Ge(e,Gt),(e.f&(dt|Ar))===0&&(e.f^=Ar),Do(e),Tr(e,0))}function Tr(t,e){var n=t.deps;if(n!==null)for(var r=e;r<n.length;r++)sl(t,n[r])}function Nr(t){var e=t.f;if((e&mn)===0){Ge(t,Ke);var n=_e,r=On;_e=t,On=!0;try{(e&pn)!==0?rl(t):Ho(t),zo(t);var o=Go(t);t.teardown=typeof o=="function"?o:null,t.wv=Yo;var s;fo&&Li&&(t.f&at)!==0&&t.deps}finally{On=r,_e=n}}}async function Zo(){await Promise.resolve(),Co()}function a(t){var e=t.f,n=(e&Je)!==0;if(ve!==null&&!mt){var r=_e!==null&&(_e.f&mn)!==0;if(!r&&!Ot?.includes(t)){var o=ve.deps;if((ve.f&oa)!==0)t.rv<nr&&(t.rv=nr,Ye===null&&o!==null&&o[rt]===t?rt++:Ye===null?Ye=[t]:(!Wt||!Ye.includes(t))&&Ye.push(t));else{(ve.deps??(ve.deps=[])).push(t);var s=t.reactions;s===null?t.reactions=[ve]:s.includes(ve)||s.push(ve)}}}else if(n&&t.deps===null&&t.effects===null){var i=t,l=i.parent;l!==null&&(l.f&dt)===0&&(i.f^=dt)}if(wn){if(Yt.has(t))return Yt.get(t);if(n){i=t;var c=i.v;return((i.f&Ke)===0&&i.reactions!==null||Jo(i))&&(c=Ea(i)),Yt.set(i,c),c}}else if(n){if(i=t,_t?.has(i))return _t.get(i);Ur(i)&&To(i)}if(_t?.has(t))return _t.get(t);if((t.f&un)!==0)throw t.v;return t.v}function Jo(t){if(t.v===Ve)return!0;if(t.deps===null)return!1;for(const e of t.deps)if(Yt.has(e)||(e.f&Je)!==0&&Jo(e))return!0;return!1}function vt(t){var e=mt;try{return mt=!0,t()}finally{mt=e}}const il=-7169;function Ge(t,e){t.f=t.f&il|e}function ll(t){if(!(typeof t!="object"||!t||t instanceof EventTarget)){if(dn in t)fa(t);else if(!Array.isArray(t))for(let e in t){const n=t[e];typeof n=="object"&&n&&dn in n&&fa(n)}}}function fa(t,e=new Set){if(typeof t=="object"&&t!==null&&!(t instanceof EventTarget)&&!e.has(t)){e.add(t),t instanceof Date&&t.getTime();for(let r in t)try{fa(t[r],e)}catch{}const n=ya(t);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=vo(n);for(let o in r){const s=r[o].get;if(s)try{s.call(t)}catch{}}}}}const cl=["touchstart","touchmove"];function ul(t){return cl.includes(t)}const Qo=new Set,va=new Set;function dl(t,e,n,r={}){function o(s){if(r.capture||Zn.call(e,s),!s.cancelBubble)return Hr(()=>n?.call(this,s))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?Xt(()=>{e.addEventListener(t,o,r)}):e.addEventListener(t,o,r),o}function Aa(t,e,n,r,o){var s={capture:r,passive:o},i=dl(t,e,n,s);(e===document.body||e===window||e===document||e instanceof HTMLMediaElement)&&Ro(()=>{e.removeEventListener(t,i,s)})}function qe(t){for(var e=0;e<t.length;e++)Qo.add(t[e]);for(var n of va)n(t)}let Qa=null;function Zn(t){var e=this,n=e.ownerDocument,r=t.type,o=t.composedPath?.()||[],s=o[0]||t.target;Qa=t;var i=0,l=Qa===t&&t.__root;if(l){var c=o.indexOf(l);if(c!==-1&&(e===document||e===window)){t.__root=e;return}var u=o.indexOf(e);if(u===-1)return;c<=u&&(i=c)}if(s=o[i]||t.target,s!==e){ra(t,"currentTarget",{configurable:!0,get(){return s||n}});var d=ve,f=_e;tt(null),At(null);try{for(var v,p=[];s!==null;){var h=s.assignedSlot||s.parentNode||s.host||null;try{var g=s["__"+r];if(g!=null&&(!s.disabled||t.target===s))if(ma(g)){var[m,...E]=g;m.apply(s,[t,...E])}else g.call(s,t)}catch(x){v?p.push(x):v=x}if(t.cancelBubble||h===e||h===null)break;s=h}if(v){for(let x of p)queueMicrotask(()=>{throw x});throw v}}finally{t.__root=e,delete t.currentTarget,tt(d),At(f)}}}function $o(t){var e=document.createElement("template");return e.innerHTML=t.replaceAll("<!>","<!---->"),e.content}function rr(t,e){var n=_e;n.nodes_start===null&&(n.nodes_start=t,n.nodes_end=e)}function q(t,e){var n=(e&Pi)!==0,r=(e&Ai)!==0,o,s=!t.startsWith("<!>");return()=>{o===void 0&&(o=$o(s?t:"<!>"+t),n||(o=Un(o)));var i=r||Lo?document.importNode(o,!0):o.cloneNode(!0);if(n){var l=Un(i),c=i.lastChild;rr(l,c)}else rr(i,i);return i}}function fl(t,e,n="svg"){var r=!t.startsWith("<!>"),o=`<${n}>${r?t:"<!>"+t}</${n}>`,s;return()=>{if(!s){var i=$o(o),l=Un(i);s=Un(l)}var c=s.cloneNode(!0);return rr(c,c),c}}function vl(t,e){return fl(t,e,"svg")}function Ie(t=""){{var e=gn(t+"");return rr(e,e),e}}function G(){var t=document.createDocumentFragment(),e=document.createComment(""),n=gn();return t.append(e,n),rr(e,n),t}function _(t,e){t!==null&&t.before(e)}function ff(){var t;return(t=window.__svelte??(window.__svelte={})).uid??(t.uid=1),`c${window.__svelte.uid++}`}function Bt(t,e){var n=e==null?"":typeof e=="object"?e+"":e;n!==(t.__t??(t.__t=t.nodeValue))&&(t.__t=n,t.nodeValue=n+"")}function hl(t,e){return gl(t,e)}const Tn=new Map;function gl(t,{target:e,anchor:n,props:r={},events:o,context:s,intro:i=!0}){Ki();var l=new Set,c=f=>{for(var v=0;v<f.length;v++){var p=f[v];if(!l.has(p)){l.add(p);var h=ul(p);e.addEventListener(p,Zn,{passive:h});var g=Tn.get(p);g===void 0?(document.addEventListener(p,Zn,{passive:h}),Tn.set(p,1)):Tn.set(p,g+1)}}};c(wa(Qo)),va.add(c);var u=void 0,d=el(()=>{var f=n??e.appendChild(gn());return Hi(f,{pending:()=>{}},v=>{if(s){ee({});var p=Pe;p.c=s}o&&(r.$$events=o),u=t(v,r)||{},s&&te()}),()=>{for(var v of l){e.removeEventListener(v,Zn);var p=Tn.get(v);--p===0?(document.removeEventListener(v,Zn),Tn.delete(v)):Tn.set(v,p)}va.delete(c),f!==n&&f.parentNode?.removeChild(f)}});return pl.set(u,d),u}let pl=new WeakMap;var Lt,xt,gt,ir,lr;class Vr{constructor(e,n=!0){it(this,"anchor");be(this,Lt,new Map);be(this,xt,new Map);be(this,gt,new Map);be(this,ir,!0);be(this,lr,()=>{var e=Te;if(L(this,Lt).has(e)){var n=L(this,Lt).get(e),r=L(this,xt).get(n);if(r)Pa(r);else{var o=L(this,gt).get(n);o&&(L(this,xt).set(n,o.effect),L(this,gt).delete(n),o.fragment.lastChild.remove(),this.anchor.before(o.fragment),r=o.effect)}for(const[s,i]of L(this,Lt)){if(L(this,Lt).delete(s),s===e)break;const l=L(this,gt).get(i);l&&(nt(l.effect),L(this,gt).delete(i))}for(const[s,i]of L(this,xt)){if(s===n)continue;const l=()=>{if(Array.from(L(this,Lt).values()).includes(s)){var u=document.createDocumentFragment();qo(i,u),u.append(gn()),L(this,gt).set(s,{effect:i,fragment:u})}else nt(i);L(this,xt).delete(s)};L(this,ir)||!r?In(i,l,!1):l()}}});this.anchor=e,le(this,ir,n)}ensure(e,n){var r=Te,o=Oo();if(n&&!L(this,xt).has(e)&&!L(this,gt).has(e))if(o){var s=document.createDocumentFragment(),i=gn();s.append(i),L(this,gt).set(e,{effect:pt(()=>n(i)),fragment:s})}else L(this,xt).set(e,pt(()=>n(this.anchor)));if(L(this,Lt).set(r,e),o){for(const[l,c]of L(this,xt))l===e?r.skipped_effects.delete(c):r.skipped_effects.add(c);for(const[l,c]of L(this,gt))l===e?r.skipped_effects.delete(c.effect):r.skipped_effects.add(c.effect);r.add_callback(L(this,lr))}else L(this,lr).call(this)}}Lt=new WeakMap,xt=new WeakMap,gt=new WeakMap,ir=new WeakMap,lr=new WeakMap;const _l=0,Jr=1;function ml(t,e,n,r,o){var s=Xn(),i=Ve,l=s?Rt(i):da(i,!1,!1),c=s?Rt(i):da(i,!1,!1),u=new Vr(t);Gn(()=>{var d=e(),f=!1;if(ai(d)){var v=Ao(),p=!1;const h=g=>{if(!f){p=!0,v();try{g()}finally{Dr(),Mn||Co()}}};d.then(g=>{h(()=>{It(l,g),u.ensure(Jr,r&&(m=>r(m,l)))})},g=>{h(()=>{if(It(c,g),u.ensure(Jr,o&&(m=>o(m,c))),!o)throw c.v})}),Xt(()=>{p||h(()=>{u.ensure(_l,n)})})}else It(l,d),u.ensure(Jr,r&&(h=>r(h,l)));return()=>{f=!0}})}function Y(t,e,n=!1){var r=new Vr(t),o=n?Wn:0;function s(i,l){r.ensure(i,l)}Gn(()=>{var i=!1;e((l,c=!0)=>{i=!0,s(c,l)}),i||s(!1,null)},o)}function pe(t,e){jr(()=>{var n=e();for(var r in n){var o=n[r];o?t.style.setProperty(r,o):t.style.removeProperty(r)}})}function wl(t,e,n){for(var r=t.items,o=[],s=e.length,i=0;i<s;i++)xa(e[i].e,o,!0);var l=s>0&&o.length===0&&n!==null;if(l){var c=n.parentNode;Xi(c),c.append(n),r.clear(),St(t,e[0].prev,e[s-1].next)}Uo(o,()=>{for(var u=0;u<s;u++){var d=e[u];l||(r.delete(d.k),St(t,d.prev,d.next)),nt(d.e,!l)}})}function qr(t,e,n,r,o,s=null){var i=t,l={flags:e,items:new Map,first:null},c=(e&_o)!==0;if(c){var u=t;i=u.appendChild(gn())}var d=null,f=!1,v=new Map,p=zr(()=>{var E=n();return ma(E)?E:E==null?[]:wa(E)}),h,g;function m(){yl(g,h,l,v,i,o,e,r,n),s!==null&&(h.length===0?d?Pa(d):d=pt(()=>s(i)):d!==null&&In(d,()=>{d=null}))}Gn(()=>{g??(g=_e),h=a(p);var E=h.length;if(!(f&&E===0)){f=E===0;var x,y,D,A;if(Oo()){var P=new Set,b=Te;for(y=0;y<E;y+=1){D=h[y],A=r(D,y);var k=l.items.get(A)??v.get(A);k?(e&(Br|Rr))!==0&&es(k,D,y,e):(x=ts(null,l,null,null,D,A,y,o,e,n,!0),v.set(A,x)),P.add(A)}for(const[M,J]of l.items)P.has(M)||b.skipped_effects.add(J.e);b.add_callback(m)}else m();a(p)}})}function yl(t,e,n,r,o,s,i,l,c){var u=(i&yi)!==0,d=(i&(Br|Rr))!==0,f=e.length,v=n.items,p=n.first,h=p,g,m=null,E,x=[],y=[],D,A,P,b;if(u)for(b=0;b<f;b+=1)D=e[b],A=l(D,b),P=v.get(A),P!==void 0&&(P.a?.measure(),(E??(E=new Set)).add(P));for(b=0;b<f;b+=1){if(D=e[b],A=l(D,b),P=v.get(A),P===void 0){var k=r.get(A);if(k!==void 0){r.delete(A),v.set(A,k);var M=m?m.next:h;St(n,m,k),St(n,k,M),Qr(k,M,o),m=k}else{var J=h?h.e.nodes_start:o;m=ts(J,n,m,m===null?n.first:m.next,D,A,b,s,i,c)}v.set(A,m),x=[],y=[],h=m.next;continue}if(d&&es(P,D,b,i),(P.e.f&wt)!==0&&(Pa(P.e),u&&(P.a?.unfix(),(E??(E=new Set)).delete(P))),P!==h){if(g!==void 0&&g.has(P)){if(x.length<y.length){var V=y[0],z;m=V.prev;var X=x[0],ae=x[x.length-1];for(z=0;z<x.length;z+=1)Qr(x[z],V,o);for(z=0;z<y.length;z+=1)g.delete(y[z]);St(n,X.prev,ae.next),St(n,m,X),St(n,ae,V),h=V,m=ae,b-=1,x=[],y=[]}else g.delete(P),Qr(P,h,o),St(n,P.prev,P.next),St(n,P,m===null?n.first:m.next),St(n,m,P),m=P;continue}for(x=[],y=[];h!==null&&h.k!==A;)(h.e.f&wt)===0&&(g??(g=new Set)).add(h),y.push(h),h=h.next;if(h===null)continue;P=h}x.push(P),m=P,h=P.next}if(h!==null||g!==void 0){for(var ne=g===void 0?[]:wa(g);h!==null;)(h.e.f&wt)===0&&ne.push(h),h=h.next;var fe=ne.length;if(fe>0){var $=(i&_o)!==0&&f===0?o:null;if(u){for(b=0;b<fe;b+=1)ne[b].a?.measure();for(b=0;b<fe;b+=1)ne[b].a?.fix()}wl(n,ne,$)}}u&&Xt(()=>{if(E!==void 0)for(P of E)P.a?.apply()}),t.first=n.first&&n.first.e,t.last=m&&m.e;for(var Q of r.values())nt(Q.e);r.clear()}function es(t,e,n,r){(r&Br)!==0&&It(t.v,e),(r&Rr)!==0?It(t.i,n):t.i=n}function ts(t,e,n,r,o,s,i,l,c,u,d){var f=(c&Br)!==0,v=(c&bi)===0,p=f?v?da(o,!1,!1):Rt(o):o,h=(c&Rr)===0?i:Rt(i),g={i:h,v:p,k:s,a:null,e:null,prev:n,next:r};try{if(t===null){var m=document.createDocumentFragment();m.append(t=gn())}return g.e=pt(()=>l(t,p,h,u),Ti),g.e.prev=n&&n.e,g.e.next=r&&r.e,n===null?d||(e.first=g):(n.next=g,n.e.next=g.e),r!==null&&(r.prev=g,r.e.prev=g.e),g}finally{}}function Qr(t,e,n){for(var r=t.next?t.next.e.nodes_start:n,o=e?e.e.nodes_start:n,s=t.e.nodes_start;s!==null&&s!==r;){var i=ur(s);o.before(s),s=i}}function St(t,e,n){e===null?t.first=n:(e.next=n,e.e.next=n&&n.e),n!==null&&(n.prev=e,n.e.prev=e&&e.e)}function we(t,e,...n){var r=new Vr(t);Gn(()=>{const o=e()??null;r.ensure(o,o&&(s=>o(s,...n)))},Wn)}function bl(t,e,n){var r=new Vr(t);Gn(()=>{var o=e()??null;r.ensure(o,o&&(s=>n(s,o)))},Wn)}function ns(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var o=t.length;for(e=0;e<o;e++)t[e]&&(n=ns(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Sl(){for(var t,e,n=0,r="",o=arguments.length;n<o;n++)(t=arguments[n])&&(e=ns(t))&&(r&&(r+=" "),r+=e);return r}function he(t){return typeof t=="object"?Sl(t):t??""}const $a=[...` 	
\r\f \v\uFEFF`];function kl(t,e,n){var r=t==null?"":""+t;if(e&&(r=r?r+" "+e:e),n){for(var o in n)if(n[o])r=r?r+" "+o:o;else if(r.length)for(var s=o.length,i=0;(i=r.indexOf(o,i))>=0;){var l=i+s;(i===0||$a.includes(r[i-1]))&&(l===r.length||$a.includes(r[l]))?r=(i===0?"":r.substring(0,i))+r.substring(l+1):i=l}}return r===""?null:r}function Cl(t,e){return t==null?null:String(t)}function ge(t,e,n,r,o,s){var i=t.__className;if(i!==n||i===void 0){var l=kl(n,r,s);l==null?t.removeAttribute("class"):t.className=l,t.__className=n}else if(s&&o!==s)for(var c in s){var u=!!s[c];(o==null||u!==!!o[c])&&t.classList.toggle(c,u)}return s}function Vn(t,e,n,r){var o=t.__style;if(o!==e){var s=Cl(e);s==null?t.removeAttribute("style"):t.style.cssText=s,t.__style=e}return r}const El=Symbol("is custom element"),xl=Symbol("is html");function $r(t,e){var n=Da(t);n.value===(n.value=e??void 0)||t.value===e&&(e!==0||t.nodeName!=="PROGRESS")||(t.value=e??"")}function xr(t,e){var n=Da(t);n.checked!==(n.checked=e??void 0)&&(t.checked=e)}function Le(t,e,n,r){var o=Da(t);o[e]!==(o[e]=n)&&(e==="loading"&&(t[ci]=n),n==null?t.removeAttribute(e):typeof n!="string"&&Pl(t).includes(e)?t[e]=n:t.setAttribute(e,n))}function Da(t){return t.__attributes??(t.__attributes={[El]:t.nodeName.includes("-"),[xl]:t.namespaceURI===Di})}var eo=new Map;function Pl(t){var e=t.getAttribute("is")||t.nodeName,n=eo.get(e);if(n)return n;eo.set(e,n=[]);for(var r,o=t,s=Element.prototype;s!==o;){r=vo(o);for(var i in r)r[i].set&&n.push(i);o=ya(o)}return n}function Al(t,e,n=e){var r=new WeakSet;Zi(t,"input",async o=>{var s=o?t.defaultValue:t.value;if(s=ea(t)?ta(s):s,n(s),Te!==null&&r.add(Te),await Zo(),s!==(s=e())){var i=t.selectionStart,l=t.selectionEnd,c=t.value.length;if(t.value=s??"",l!==null){var u=t.value.length;i===l&&l===c&&u>c?(t.selectionStart=u,t.selectionEnd=u):(t.selectionStart=i,t.selectionEnd=Math.min(l,u))}}}),vt(e)==null&&t.value&&(n(ea(t)?ta(t.value):t.value),Te!==null&&r.add(Te)),jr(()=>{var o=e();if(t===document.activeElement){var s=Sr??Te;if(r.has(s))return}ea(t)&&o===ta(t.value)||t.type==="date"&&!o&&!t.value||o!==t.value&&(t.value=o??"")})}function ea(t){var e=t.type;return e==="number"||e==="range"}function ta(t){return t===""?null:+t}function to(t,e){return t===e||t?.[dn]===e}function ot(t={},e,n,r){return tl(()=>{var o,s;return jr(()=>{o=s,s=[],vt(()=>{t!==n(...s)&&(e(t,...s),o&&to(n(...o),t)&&e(null,...o))})}),()=>{Xt(()=>{s&&to(n(...s),t)&&e(null,...s)})}}),t}function Wr(t=!1){const e=Pe,n=e.l.u;if(!n)return;let r=()=>ll(e.s);if(t){let o=0,s={};const i=cr(()=>{let l=!1;const c=e.s;for(const u in c)c[u]!==s[u]&&(s[u]=c[u],l=!0);return l&&o++,o});r=()=>a(i)}n.b.length&&$i(()=>{no(e,r),aa(n.b)}),Ne(()=>{const o=vt(()=>n.m.map(oi));return()=>{for(const s of o)typeof s=="function"&&s()}}),n.a.length&&Ne(()=>{no(e,r),aa(n.a)})}function no(t,e){if(t.l.s)for(const n of t.l.s)a(n);e()}let yr=!1;function Dl(t){var e=yr;try{return yr=!1,[t(),yr]}finally{yr=e}}function de(t,e,n,r){var o=!Kn||(n&ki)!==0,s=(n&Ei)!==0,i=(n&xi)!==0,l=r,c=!0,u=()=>(c&&(c=!1,l=i?vt(r):r),l),d;if(s){var f=dn in t||li in t;d=Ln(t,e)?.set??(f&&e in t?y=>t[e]=y:void 0)}var v,p=!1;s?[v,p]=Dl(()=>t[e]):v=t[e],v===void 0&&r!==void 0&&(v=u(),d&&(o&&gi(),d(v)));var h;if(o?h=()=>{var y=t[e];return y===void 0?u():(c=!0,y)}:h=()=>{var y=t[e];return y!==void 0&&(l=void 0),y===void 0?l:y},o&&(n&Ci)===0)return h;if(d){var g=t.$$legacy;return(function(y,D){return arguments.length>0?((!o||!D||g||p)&&d(D?h():y),y):h()})}var m=!1,E=((n&Si)!==0?cr:zr)(()=>(m=!1,h()));s&&a(E);var x=_e;return(function(y,D){if(arguments.length>0){const A=D?a(E):o&&s?Be(y):y;return w(E,A),m=!0,l!==void 0&&(l=A),y}return wn&&m||(x.f&mn)!==0?E.v:a(E)})}function ke(t){Pe===null&&po(),Kn&&Pe.l!==null?Tl(Pe).m.push(t):Ne(()=>{const e=vt(t);if(typeof e=="function")return e})}function Tl(t){var e=t.l;return e.u??(e.u={a:[],b:[],m:[]})}const Nl="5";var uo;typeof window<"u"&&((uo=window.__svelte??(window.__svelte={})).v??(uo.v=new Set)).add(Nl);Mi();const rs={};function Ll(t){Fe(rs,t)}function as(){const t=Re(rs);if(!t)throw new Error("No SearchContext found");return t}const os={};function Ml(t){Fe(os,t)}function Tt(){const t=Re(os);if(!t)throw new Error("No AppHistoryContext found");return t}function Il(t,e){ee(e,!0);const{addSearchParam:n,deleteSearchParam:r,getAppLocation:o}=Tt(),s=j(()=>o().searchParams),i="search",l=Be({value:o().searchParams.get(i)||""}),c=f=>{(a(s).get(i)||"")!==f&&(f===""?r(i):n(i,f))};Ne(()=>{a(s);const f=l.value;vt(()=>{c(f)})}),Ll(l);var u=G(),d=R(u);we(d,()=>e.children??xe),_(t,u),te()}const ss={};function Ol(t){Fe(ss,t)}function is(){const t=Re(ss);if(!t)throw new Error("No TagSearchContext found");return t}function Bl(t,e){ee(e,!0);const n=Be({value:""});Ol(n);var r=G(),o=R(r);we(o,()=>e.children??xe),_(t,r),te()}const ls={};function Rl(t){Fe(ls,t)}function cs(){const t=Re(ls);if(!t)throw new Error("No FeedOrderContext found");return t}function Fl(t,e){ee(e,!0);const{addSearchParam:n,deleteSearchParam:r,getAppLocation:o}=Tt(),s=j(()=>o().searchParams),i="feedOrder";let l=U(Be(o().searchParams.get(i)||"newest"));const c=p=>{(a(s).get(i)||"newest")!==p&&(p==="newest"?r(i):n(i,p))};Ne(()=>{a(s),a(l),vt(()=>{c(a(l))})}),Rl({getFeedOrder:()=>a(l),setFeedOrder:p=>{w(l,p,!0)}});var f=G(),v=R(f);we(v,()=>e.children??xe),_(t,f),te()}const us={};function zl(t){Fe(us,t)}function Yr(){const t=Re(us);if(!t)throw new Error("No SidebarContext found");return t}function Hl(t,e){ee(e,!0);const n=(d,f)=>{if(!f)return d;if(f.type==="closed")return{type:"closed"};switch(d.type){case"opened":return f.type==="close"?{type:"closing"}:f.type==="swipe"?{type:"openSwiping"}:d;case"closed":return f.type==="open"?{type:"opening"}:f.type==="swipe"?{type:"closeSwiping"}:d;case"openSwiping":return f.type==="open"?{type:"opening"}:f.type==="close"?{type:"closing"}:d;case"closeSwiping":return f.type==="open"?{type:"opening"}:f.type==="close"?{type:"closing"}:d;case"opening":return f.type==="opened"?{type:"opened"}:d;default:return d}};let r=U(Be(n({type:"closed"})));const o=d=>{const f=vt(()=>a(r));w(r,n(f,d),!0)};zl({sidebarOpen:()=>{o({type:"open"})},sidebarClose:()=>{o({type:"close"})},handleComputeState:o,getSidebarState:()=>a(r)});var c=G(),u=R(c);we(u,()=>e.children??xe),_(t,c),te()}const ds={};function jl(t){Fe(ds,t)}function fs(){const t=Re(ds);if(!t)throw new Error("No SelectedTagsContext found");return t}const vs=(t,e)=>{let n=null;return()=>{n&&clearTimeout(n),n=setTimeout(()=>{n=null,t()},e)}};async function vf(){if(navigator.storage&&navigator.storage.persist)try{await navigator.storage.persisted()||await navigator.storage.persist()}catch{}}const Ul=(t,e)=>{if(t.size!==e.size)return!0;for(const n of t)if(!e.has(n))return!0;return!1};function Vl(t,e){ee(e,!0);const{getAppLocation:n,replace:r}=Tt(),o=j(n),s=j(()=>a(o).searchParams),i="selectedTags",l=()=>new Set(n().searchParams.get(i)?.split(",")||[]);let c=U(Be(l()));const u=()=>{const g=l();if(Ul(g,a(c))){const m=a(o).pathname;a(c).size===0?a(s).delete(i):a(s).set(i,Array.from(a(c)).join(",")),r(`${m}${a(s).size>0?`?${a(s).toString()}`:""}`)}};Ne(()=>{a(s),a(c),vt(()=>{u()})}),jl({getSelectedTags:()=>a(c),addTag:g=>{a(c).has(g)||w(c,new Set([...a(c),g]),!0)},removeTag:g=>{const m=new Set(a(c));m.delete(g),w(c,m,!0)}});var p=G(),h=R(p);we(h,()=>e.children??xe),_(t,p),te()}const hs={};function ql(t){Fe(hs,t)}function Ta(){const t=Re(hs);if(!t)throw new Error("No LocalDBContext found");return t}const gs={};function Wl(t){Fe(gs,t)}function ps(){const t=Re(gs);if(!t)throw new Error("No SettingsContext found");return t}const _s={};function Yl(t){Fe(_s,t)}function yn(){const t=Re(_s);if(!t)throw new Error("No BroadcastContext found");return t}const Kl="AppStorage",Xl=1,Jn="account",Pr="settings",yt="notes",bt="tags",Gl="syncLog",Zt="success",Jt="error",He=(t,e,n)=>{t?.addEventListener(e,n)},ro=(t,e)=>new Promise((n,r)=>{const s=t?.transaction(e,"readonly")?.objectStore(e).getAll();He(s,Zt,()=>{const i=s?.result||[];n(i)}),He(s,Jt,i=>{r(i)})}),ha=(t,e,n)=>new Promise((r,o)=>{const i=t?.transaction(e,"readonly")?.objectStore(e).get(n);He(i,Zt,()=>{const l=i?.result?.data;r(l)}),He(i,Jt,l=>{o(l)})}),tr=(t,e,n,r)=>new Promise((o,s)=>{const c=t?.transaction(e,"readwrite")?.objectStore(e)?.put({id:n,data:r});He(c,Zt,()=>{o()}),He(c,Jt,u=>{s(u)})}),na=async(t,e,n)=>{const o=t?.transaction(e,"readwrite")?.objectStore(e);await Promise.all(n.map(s=>{const i=o?.put(s);return new Promise((l,c)=>{He(i,Zt,()=>{l()}),He(i,Jt,u=>{c(u)})})}))},Zl=(t,e,n)=>new Promise((r,o)=>{const l=t?.transaction(e,"readwrite")?.objectStore(e)?.delete(n);He(l,Zt,()=>{r()}),He(l,Jt,c=>{o(c)})}),br=async(t,e,n)=>{const o=t?.transaction(e,"readwrite")?.objectStore(e);await Promise.all(n.map(s=>{const i=o?.delete(s);return new Promise((l,c)=>{He(i,Zt,()=>{l()}),He(i,Jt,u=>{c(u)})})}))},nn=(t,e)=>new Promise((n,r)=>{const i=t?.transaction(e,"readwrite")?.objectStore(e)?.clear();He(i,Zt,()=>{n()}),He(i,Jt,l=>{r(l)})});function Jl(t,e){ee(e,!0);let n=U(Be({showFavicon:!1}));const{getDB:r}=Ta(),{createBroadcastChannel:o,tabId:s}=yn(),i=o(),l=j(r),c=async()=>{const g=await ha(a(l),Pr,"default");g&&w(n,g,!0)},u=async()=>{c()},d=async g=>{const m=JSON.parse(g.data),E=m;if(m.tabId&&m.tabId===s){E.type==="exit"&&(w(n,{showFavicon:!1},!0),nn(a(l),Pr));return}E.type==="updateSettings"?c():E.type==="exit"&&w(n,{showFavicon:!1},!0)},f=()=>a(n).showFavicon,v=async g=>{a(n).showFavicon=g,await tr(a(l),Pr,"default",{showFavicon:g}),i.postMessage({type:"updateSettings"})};ke(()=>(u(),i.addEventListener(d),()=>{i.removeEventListener(d)})),Wl({getFaviconEnabled:f,setFaviconShown:v});var p=G(),h=R(p);we(h,()=>e.children??xe),_(t,p),te()}const ms={};function Ql(t){Fe(ms,t)}function ws(){const t=Re(ms);if(!t)throw new Error("No AccountContext found");return t}function $l(t,e){ee(e,!0);let n=U(void 0);const{getDB:r}=Ta(),{createBroadcastChannel:o,tabId:s}=yn(),i=j(r),l=o(),c=async()=>{const y=await ha(a(i),Jn,"default");w(n,y,!0)},u=y=>tr(a(i),Jn,"default",y),d=async y=>{const D=await ha(a(i),Jn,"default");D!==void 0&&w(n,D,!0),y(D)},f=async y=>{const D=JSON.parse(y.data);if(D.tabId&&D.tabId===s)return;const A=D;A.type==="initLocalAccount"?w(n,null):A.type==="initCloudAccount"?c():A.type==="disconnectCloudAccount"?w(n,null):A.type==="exit"?w(n,void 0):A.type==="updateAccount"&&c()};ke(()=>(l.addEventListener(f),()=>{l.removeEventListener(f)})),Ql({init:d,getAccount:()=>a(n),initLocalAccount:async()=>{w(n,null),await u(null),l.postMessage({type:"initLocalAccount"})},initCloudAccount:async y=>{const D={encryptedClientKey:y.encryptedClientKey||"",subscriptionExpires:y.subscriptionExpires||-1,lastSync:-1};await u(D),w(n,D,!0),l.postMessage({type:"initCloudAccount"})},disconnectCloudAccount:async()=>{w(n,null),await u(null),l.postMessage({type:"disconnectCloudAccount"})},updateSubscription:async y=>{if(!a(n))throw new Error("No account to update subscription for");const D={...a(n),subscriptionExpires:y};await u(D),l.postMessage({type:"updateAccount"})},exitApp:async()=>{w(n,void 0),l.postMessage({type:"exit"}),await nn(a(i),Jn)}});var E=G(),x=R(E);we(x,()=>e.children??xe),_(t,E),te()}const ys={};function ec(t){Fe(ys,t)}function dr(){const t=Re(ys);if(!t)throw new Error("No NotesContext found");return t}const tc=()=>crypto.randomUUID(),nc=t=>{const e=new Map;for(const n of t||[])for(const r of n?.data.tags||[])e.set(r,{name:r,count:(e.get(r)?.count||0)+1});return e};function rc(t,e){ee(e,!0);const{getDB:n}=Ta(),{createBroadcastChannel:r,tabId:o}=yn(),s=j(n),i=r(),l=720*60*60*1e3;let c=U(0),u=U(!1),d=U(()=>new Map),f=U(()=>[]),v=U(()=>new Map);const p=()=>a(u),h=()=>a(c)>0,g=()=>{a(c)>0&&w(c,a(c)-1)},m=N=>{const H=a(f)(),S=a(v)(),I={...N};H.push(I),S.set(I.id,I),w(f,()=>H),w(v,()=>S)},E=N=>{const H=a(f)(),S=a(v)(),I=S.get(N.id);I&&(I.data=N.data),w(f,()=>H),w(v,()=>S)},x=N=>{const H=a(f)(),S=a(v)(),I=S.get(N);S.has(N)&&S.delete(N),I?.data?.type==="draft"&&S.delete("draft"),I&&(I.data=void 0),w(f,()=>H),w(v,()=>S)},y=()=>{w(f,()=>[]),w(d,()=>new Map),w(v,()=>new Map)},D=()=>a(f),A=N=>{const H=a(d)();for(const S of N){const I=H.get(S);I?I.count++:H.set(S,{name:S,count:1})}w(d,()=>H)},P=N=>{const H=a(d)();for(const S of N){const I=H.get(S);I&&(I.count--,I.count<=0&&H.delete(S))}w(d,()=>H)},b=async()=>{const[N,H]=await Promise.all([ro(a(s),yt),ro(a(s),bt).then(Z=>Z.reduce((se,Se)=>se.set(Se.name,Se),new Map))]),S=[],I=[],oe=new Map;let ye=0;for(const Z of N)Z.data.deletedAt&&Date.now()-Z.data.deletedAt>l?S.push(Z.id):(I.push(Z),oe.set(Z.id,Z),Z.data.deletedAt&&(ye+=1),Z.data.type==="draft"&&oe.set("draft",Z));w(c,ye,!0);const ue=nc(I),Me=new Map;ue.entries().forEach(([Z,se])=>{const Se=H.get(Z);Me.set(Z,{...Se,...se})}),await br(a(s),yt,S),await nn(a(s),bt),await na(a(s),bt,Array.from(Me.values()).map(Z=>({id:Z.name,data:{pinned:Z.pinned}}))),w(f,()=>I),w(v,()=>oe),w(d,()=>Me),w(u,!0)},k=async()=>{const N=a(v)(),H=N.get("draft");if(H)return H;const S={id:tc(),data:{type:"draft",url:"",name:"",text:"",tags:[],draft:{url:"",name:"",text:"",tags:[],createdAt:Date.now(),updatedAt:Date.now()},createdAt:Date.now(),updatedAt:Date.now()}};return await tr(a(s),yt,S.id,{...S.data}),N.set("draft",S),m(S),i.postMessage({type:"createNoteDraft",data:{note:S}}),S},M=async N=>{const S=a(v)().get(N);if(!S||!S.data)return;const I=a(d)(),oe=S.data.tags;P(oe),x(N),i.postMessage({type:"deleteNote",data:{id:N}}),g(),await Zl(a(s),yt,N),await br(a(s),bt,oe.filter(ye=>{const ue=I.get(ye);return ue?ue.count<=1:!1}))},J=async(N,H)=>{const S={id:H.id,data:{...H.data}},I=a(d)(),oe=H.data.tags.filter(ue=>!N.data.tags.includes(ue)),ye=N.data.tags.filter(ue=>!H.data.tags.includes(ue));await tr(a(s),yt,S.id,{...S.data}),await na(a(s),bt,oe.filter(ue=>!I.has(ue)).map(ue=>({id:ue,data:{}}))),await br(a(s),bt,ye.filter(ue=>{const Me=I.get(ue);return Me?Me.count<=1:!1})),E(S),P(ye),A(oe),i.postMessage({type:"updateNote",data:{note:S,tagsToAdd:oe,tagsToDelete:ye}})},V=async N=>{const H=a(v)(),S=X(N);if(!S||!S.data)return;const I=H.get("draft");I&&I.id===S.id&&H.delete("draft");const oe={id:N,data:{type:"note",name:S.data.draft?.name??S.data.name,url:S.data.draft?.url??S.data.url,text:S.data.draft?.text??S.data.text,tags:S.data.draft?.tags??S.data.tags,updatedAt:Date.now(),createdAt:S.data.createdAt,pinnedAt:S.data.pinnedAt,deletedAt:S.data.deletedAt,draft:void 0}};return J(S,oe)},z=async()=>{y(),i.postMessage({type:"clearNotes"}),await nn(a(s),yt),await nn(a(s),bt)},X=N=>{const H=a(v)();return N?H.get(N):H.get("draft")},ae=async(N,H)=>{const I=a(v)().get(N);if(!I||!I.data)return;const oe={id:N,data:{...I.data,pinnedAt:H?Date.now():void 0}};return J(I,oe)},ne=async N=>{const S=a(v)().get(N);if(!S||!S.data)return;const I={id:N,data:{...S.data,deletedAt:Date.now()}};w(c,a(c)+1),await J(S,I)},fe=async N=>{const S=a(v)().get(N);if(!S||!S.data)return;const I={id:N,data:{...S.data,deletedAt:0}};g(),await J(S,I)},$=async(N,H)=>{const S=a(d)();S.set(N,{name:N,count:S.get(N)?.count||0,pinned:H}),await tr(a(s),bt,N,{pinned:H}),i.postMessage({type:"pinTag",data:{tag:N,pinned:H}}),w(d,()=>S)},Q=async N=>{const H=a(v)(),S={};N.forEach(I=>{const oe=H.get(I.id);(!oe||oe&&oe.data&&oe.data.updatedAt<I.data.updatedAt)&&(S[I.id]=I)}),await na(a(s),yt,Object.values(S)),await b(),i.postMessage({type:"reloadNotes"})},O=async()=>{const N=[];a(f)().forEach(S=>{S&&S.data&&S.data.deletedAt&&N.push(S.id)}),w(c,0),await br(a(s),yt,N),await b(),i.postMessage({type:"emptyBin"})},W=async(N,H)=>{if(N===""){const ye=a(v)().get("draft");ye?N=ye.id:N=(await k()).id}const S=X(N);if(!S||!S.data)return;const I={id:N,data:{...S.data,draft:{...H,tags:H.tags,createdAt:S.data.draft?.createdAt||Date.now(),updatedAt:Date.now()}}};return await J(S,I),S.id},T=async N=>{const H=a(v)(),S=X(N);if(!S||!S.data||!S.data.draft)return;if(S.data.type==="draft"){N===H.get("draft")?.id&&H.delete("draft"),await M(N);return}const I={id:N,data:{...S.data,draft:void 0}};return J(S,I)},B=async N=>{const H=JSON.parse(N.data),S=H;if(H.tabId&&H.tabId===o){S.type==="exit"&&(y(),await nn(a(s),yt),await nn(a(s),bt));return}if(S.type==="createNoteDraft"){const I=S.data.note;a(v)().set("draft",I),m(I)}else if(S.type==="updateNote"){const I=S.data,ye=a(v)().get(I.note.id);if(!ye||!ye.data)return;ye.data.deletedAt&&!I.note.data.deletedAt?g():!ye.data.deletedAt&&I.note.data.deletedAt&&w(c,a(c)+1),E(I.note),P(I.tagsToAdd),A(I.tagsToDelete)}else if(S.type==="deleteNote"){const I=S.data.id,ye=a(v)().get(I);if(!ye)return;g(),x(I),P(ye?.data?.tags||[])}else if(S.type==="pinTag"){const I=S.data.tag,oe=S.data.pinned,ye=a(d)(),ue=ye.get(I);ue&&(ue.pinned=oe,ye.set(I,ue))}else S.type==="clearNotes"?y():S.type==="reloadNotes"||S.type==="emptyBin"?b():S.type==="exit"&&y()};ke(()=>(b(),i.addEventListener(B),()=>{i.removeEventListener(B)})),ec({isInitedNotes:p,putNoteDraft:W,deleteNoteDraft:T,deleteNote:M,pinNote:ae,getGetNotes:D,importNotes:Q,clearNotes:z,getNoteById:X,getGetMapTags:()=>a(d),pinTag:$,moveNoteToBin:ne,restoreNoteFromBin:fe,checkNotesInBin:h,emptyBin:O,saveNoteDraft:V,countNotesInBin:()=>a(c)});var re=G(),ie=R(re);we(ie,()=>e.children??xe),_(t,re),te()}const bs={},ac=()=>({working:!1,swipingRatio:1,isSwiping:!1,duration:.35});function oc(t){Fe(bs,t)}function Qt(){const t=Re(bs);if(!t)throw new Error("No AnimationSettingsContext found");return t}function sc(t,e){ee(e,!0);let n=Be(ac());oc(n);var r=G(),o=R(r);we(o,()=>e.children??xe),_(t,r),te()}const Ss={};function ic(t){Fe(Ss,t)}function Na(){const t=Re(Ss);if(!t)throw new Error("No ScrollingContext found");return t}function lc(t,e){ee(e,!0);let n=U(!1);const r=()=>a(n),o=vs(()=>{w(n,!1)},100);ic({isScrolling:r,enable:()=>{w(n,!0),o()}});var i=G(),l=R(i);we(l,()=>e.children??xe),_(t,i),te()}const ks={};function cc(t){Fe(ks,t)}function zt(){const t=Re(ks);if(!t)throw new Error("No MobileSizeContext found");return t}function uc(t,e){ee(e,!0);const n=()=>window.matchMedia("(max-width: 767px)").matches;let r=U(Be(n())),o=Qt();const s=vs(()=>{o.working=!0},16),i=()=>{o.working=!1,s(),requestAnimationFrame(()=>{w(r,n(),!0)})};cc({checkMobileSize:()=>a(r)}),ke(()=>(window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)));var c=G(),u=R(c);we(u,()=>e.children??xe),_(t,c),te()}const Cs={};function dc(t){Fe(Cs,t)}function $t(){const t=Re(Cs);if(!t)throw new Error("No DialogContext found");return t}function fc(t,e){ee(e,!0);let n=U(0),r=U(!1),o=U(!0);dc({checkExistedDialog:()=>a(n)>0,showDialog:()=>{w(n,a(n)+1)},hideDialog:()=>{w(n,a(n)-1)},blockDialog:h=>{w(r,h,!0)},checkBlockedDialog:()=>a(r),setClosableDialog:h=>{w(o,h,!0)},checkClosableDialog:()=>a(o)});var v=G(),p=R(v);we(p,()=>e.children??xe),_(t,v),te()}const Es={};function vc(t){Fe(Es,t)}function La(){const t=Re(Es);if(!t)throw new Error("No ScrollContainerContext found");return t}function hc(t,e){ee(e,!0);let n=U(null);vc({setScrollContainer:l=>{w(n,l,!0)},getScrollContainer:()=>a(n)});var s=G(),i=R(s);we(i,()=>e.children??xe),_(t,s),te()}const xs={};function gc(t){Fe(xs,t)}function Ma(){const t=Re(xs);if(!t)throw new Error("No DialogPageHeightContext found");return t}function pc(t,e){ee(e,!0);let n=U(200);gc({setDialogPageHeight:l=>{w(n,l,!0)},getDialogPageHeight:()=>a(n)});var s=G(),i=R(s);we(i,()=>e.children??xe),_(t,s),te()}const _c=[Jn,Pr,yt,bt,Gl];function mc(){return new Promise((t,e)=>{const n=indexedDB.open(Kl,Xl);He(n,"upgradeneeded",()=>{const r=n.result;for(const o of _c)r.objectStoreNames.contains(o)||r.createObjectStore(o,{keyPath:"id"})}),He(n,Zt,()=>{const r=n.result;t(r),r.onversionchange=function(){r?.close(),alert("app outdated, please reload the page")}}),He(n,"blocked",()=>{e(),alert("app outdated, please reload the page")}),He(n,Jt,()=>{e()})})}function wc(t,e){ee(e,!0);let n=U(null);ke(()=>{mc().then(l=>{w(n,l,!0)}).catch(l=>{})}),ql({getDB:()=>a(n)});var o=G(),s=R(o);{var i=l=>{var c=G(),u=R(c);we(u,()=>e.children??xe),_(l,c)};Y(s,l=>{a(n)&&l(i)})}_(t,o),te()}const Ps={};function yc(t){Fe(Ps,t)}function st(){const t=Re(Ps);if(!t)throw new Error("No StackPagesContext found");return t}function bc(t,e){ee(e,!0);const{createBroadcastChannel:n,tabId:r}=yn(),o=n(),{getAppLocation:s,getAppHistoryStack:i,navigate:l,goBack:c,replace:u}=Tt(),d=j(s),f=j(()=>a(d).searchParams),v="stackPages",p=()=>a(f).get(v)?.split(",")||[];let h=U(Be([]));const g=()=>{const b=p();a(h).join(",")!==b.join(",")&&w(h,b,!0)};Ne(()=>{a(f),vt(()=>{g()})});const m=b=>{if(!a(h).find(k=>{const[M]=k.split("?");return M===b})){const k=new URLSearchParams(a(d).search),M=a(d).pathname;k.set(v,[...a(h),b].join(",")),l(`${M}${k.size>0?`?${k.toString()}`:""}`)}},E=b=>a(h).find(k=>{const[M]=k.split("?");return M===b})!==void 0,x=()=>{const b=i(),k=b.findIndex(M=>M.searchParams.has(v));if(b.length<=1||k===-1){const M=new URLSearchParams(a(d).search);M.delete(v),u(`${a(d).pathname}${M.size>0?`?${M.toString()}`:""}`)}else if(k===0){c(b.length-k+1);const M=new URLSearchParams(a(d).search);M.delete(v),u(`${a(d).pathname}${M.size>0?`?${M.toString()}`:""}`)}else c(b.length-k)},y=(b,k)=>{if(k?.full)return`/${b}`;const M=a(h).slice();M.includes(b)||M.push(b);const J=new URLSearchParams(a(d).search);return J.set(v,M.join(",")),`${a(d).pathname}?${J}`},D=(b,k)=>M=>{if(M.preventDefault(),k?.full){l(b);return}m(b)};ke(()=>{const b=k=>{const M=JSON.parse(k.data),J=M;if(M.tabId&&M.tabId===r){if(J.type==="navigateBack"&&a(h).length>0){const V=new URLSearchParams(a(d).search);a(h).length>1?V.set(v,a(h).slice(0,-1).join(",")):V.delete(v),u(`${a(d).pathname}${V.size>0?`?${V.toString()}`:""}`)}return}};return o.addEventListener(b),()=>{o.removeEventListener(b)}}),yc({getStackPages:()=>a(h),pushStackPages:m,hasStackPage:E,clearStackPages:x,getPageUrl:y,createHandlePage:D,getStackPagesFormUrl:p});var A=G(),P=R(A);we(P,()=>e.children??xe),_(t,A),te()}function Sc(t,e){ee(e,!0);const{createBroadcastChannel:n}=yn(),r=n(),o=g=>g.startsWith("/")?g:`/${g}`,s=g=>{const[m,E]=g.split("?");return{href:o(g),pathname:o(m),search:E?`?${E}`:"",searchParams:new URLSearchParams(E)}};let i=U(Be([{href:`${o(window.location.pathname)}${window.location.search}`,pathname:o(window.location.pathname),search:window.location.search,searchParams:new URLSearchParams(window.location.search)}]));const l=g=>{a(i).push(s(g)),window.history.replaceState(null,"",g)},c=g=>{a(i)[a(i).length-1]=s(g),window.history.replaceState(null,"",g)};Ml({getAppLocation:()=>a(i)[a(i).length-1],getAppHistoryStack:()=>a(i),navigate:l,replace:c,addSearchParam:(g,m)=>{const E=a(i)[a(i).length-1],x=E.searchParams;x.set(g,m),c(`${E.pathname}${x.size>0?`?${x.toString()}`:""}`)},deleteSearchParam:g=>{const m=a(i)[a(i).length-1],E=m.searchParams;E.delete(g),c(`${m.pathname}${E.size>0?`?${E.toString()}`:""}`)},back:g=>{const{to:m}=g||{};if(a(i).length>1){if(m){const x=a(i).findIndex(y=>y.href===m);if(x!==-1){w(i,a(i).slice(0,x+1),!0);const y=a(i)[a(i).length-1];window.history.replaceState(null,"",y.href)}else c(m);return}a(i).pop();const E=a(i)[a(i).length-1];window.history.replaceState(null,"",E.href)}else m?c(m):r.postMessage({type:"navigateBack"})},goBack:g=>{if(a(i).length>=g){w(i,a(i).slice(0,-g),!0);const m=a(i)[a(i).length-1];window.history.replaceState(null,"",m.href)}}});var p=G(),h=R(p);we(h,()=>e.children??xe),_(t,p),te()}const As={};function kc(t){Fe(As,t)}function Ds(){const t=Re(As);if(!t)throw new Error("No KeyboardVisibleContext found");return t}function Cc(t,e){ee(e,!0);let n=Be({value:!1});const r=()=>n.value;ke(()=>{const i=()=>{setTimeout(()=>{document.activeElement instanceof HTMLInputElement&&document.activeElement.type==="text"||document.activeElement instanceof HTMLTextAreaElement?n.value=!0:n.value=!1},0)};return i(),document.addEventListener("focusin",i),document.addEventListener("focusout",i),()=>{document.removeEventListener("focusin",i),document.removeEventListener("focusout",i)}}),kc({getIsKeyboardVisible:r});var o=G(),s=R(o);we(s,()=>e.children??xe),_(t,o),te()}function Ec(t,e){ee(e,!0);const n=crypto.randomUUID(),r=(i,l)=>{i.postMessage(JSON.stringify({...l,tabId:n}))};Yl({tabId:n,createBroadcastChannel:()=>{const i=new BroadcastChannel("app");return{postMessage:l=>r(i,l),addEventListener:l=>{i.addEventListener("message",l)},removeEventListener:l=>{i.removeEventListener("message",l)}}}});var o=G(),s=R(o);we(s,()=>e.children??xe),_(t,o),te()}function xc(t,e){wc(t,{children:(n,r)=>{Ec(n,{children:(o,s)=>{sc(o,{children:(i,l)=>{lc(i,{children:(c,u)=>{uc(c,{children:(d,f)=>{fc(d,{children:(v,p)=>{hc(v,{children:(h,g)=>{pc(h,{children:(m,E)=>{Cc(m,{children:(x,y)=>{Sc(x,{children:(D,A)=>{bc(D,{children:(P,b)=>{var k=G(),M=R(k);we(M,()=>e.children??xe),_(P,k)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})}function Pc(t,e){xc(t,{children:(n,r)=>{Bl(n,{children:(o,s)=>{Il(o,{children:(i,l)=>{Fl(i,{children:(c,u)=>{Hl(c,{children:(d,f)=>{Vl(d,{children:(v,p)=>{Jl(v,{children:(h,g)=>{$l(h,{children:(m,E)=>{rc(m,{children:(x,y)=>{var D=G(),A=R(D);we(A,()=>e.children??xe),_(x,D)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})}})}let jt=U(""),en=U(null),Qn=U(null),$n=U(null);function vn(t,e){w(jt,""),setTimeout(()=>{w(jt,t,!0),e?.onFinish&&w(Qn,e.onFinish,!0),e?.onCancel&&w($n,e.onCancel,!0)},16)}const Ac=(t,e,n,r,o)=>{t.preventDefault(),a(e)&&(w(n,null),a(e)(),w(e,null)),w(r,""),a(o)?.style.removeProperty("opacity")};var Dc=q('<button type="button" class="undoButton svelte-1vxmgq5">undo</button>'),Tc=q('<div class="notification svelte-1vxmgq5"><span> </span> <!></div>'),Nc=q("<div><!></div>");function Lc(t,e){ee(e,!0),Ne(()=>{a(jt);const s=a($n)?2e3:800;a(jt)&&(a(en)?.getBoundingClientRect(),a(en)?.style.setProperty("opacity","1"));const i=setTimeout(()=>{a(en)?.style.removeProperty("opacity")},s),l=setTimeout(()=>{w(jt,""),a(Qn)&&a(Qn)(),w(Qn,null),w($n,null),a(en)?.style.removeProperty("opacity")},s+400);return()=>{clearTimeout(i),clearTimeout(l)}});var n=Nc(),r=C(n);{var o=s=>{var i=Tc(),l=C(i),c=C(l),u=F(l,2);{var d=f=>{var v=Dc();v.__click=[Ac,$n,Qn,jt,en],_(f,v)};Y(u,f=>{a($n)&&f(d)})}ot(i,f=>w(en,f),()=>a(en)),ce(()=>Bt(c,a(jt))),_(s,i)};Y(r,s=>{a(jt)&&s(o)})}_(t,n),te()}qe(["click"]);var Mc=q('<span class="vh svelte-s92gzo"><!></span>');function Xe(t,e){var n=Mc(),r=C(n);we(r,()=>e.children),_(t,n)}var Ic=vl('<svg class="svelte-18et5h9"><use></use></svg>');function me(t,e){let n=de(e,"name",8,"");var r=Ic(),o=C(r);ce(()=>Le(o,"href",`#icon-${n()??""}`)),_(t,r)}const Oc=(t,e,n,r,o)=>{if(a(e))return;const s=n().type;s==="closed"?r():s==="opened"&&o()};var Bc=q('<button class="buttonMenu svelte-bpktnw"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>');function Ts(t,e){ee(e,!0);const{sidebarOpen:n,getSidebarState:r,sidebarClose:o}=Yr(),{getStackPagesFormUrl:s}=st(),{checkExistedDialog:i}=$t();let l=j(()=>s().length>0||i());var c=Bc();c.__click=[Oc,l,r,n,o];var u=C(c);pe(u,()=>({"--size":"36px"})),me(u.lastChild,{name:"sidebarMenu"});var d=F(u,2);Xe(d,{children:(f,v)=>{var p=Ie("Menu");_(f,p)}}),_(t,c),te()}qe(["click"]);var Rc=(t,e)=>e.onChange?.(t.target?.value||""),Fc=q('<input class="svelte-15lr19w"/>');function ga(t,e){ee(e,!0);let n=de(e,"value",15,""),r=de(e,"ref",15,null);var o=Fc();o.__input=[Rc,e],ot(o,s=>r(s),()=>r()),ce(()=>Le(o,"placeholder",e.placeholder)),Aa("focus",o,function(...s){e.onFocus?.apply(this,s)}),Al(o,n),_(t,o),te()}qe(["input"]);function Ia(t,e){ee(e,!0),ke(()=>{const n=r=>{r.target&&e.dialog?.open&&e.dialogInner&&e.dialogInner!==r.target&&!e.dialogInner.contains(r.target)&&e.onClose()};return document.addEventListener("mousedown",n,{capture:!0}),()=>{document.removeEventListener("mousedown",n,{capture:!0})}}),te()}var zc=q('<dialog><div class="dialogInner svelte-1x410nl"><!></div></dialog> <!>',1);function Oa(t,e){ee(e,!0);let n=U(null),r=U(null),o=U(!1),{showDialog:s,hideDialog:i}=$t();const l=h=>{h?.preventDefault();const g=setTimeout(()=>{e.onClosed()},150);a(n)?.addEventListener("transitionend",()=>{clearTimeout(g),e.onClosed()},{once:!0}),w(o,!1)};Ne(()=>{e.startClose&&l()}),ke(()=>(a(n)?.showModal(),a(n)?.getClientRects(),w(o,!0),a(n)?.addEventListener("cancel",l),a(n)?.addEventListener("close",l),()=>{a(n)?.removeEventListener("cancel",l),a(n)?.removeEventListener("close",l)})),ke(()=>(s(),()=>{i()}));var c=zc(),u=R(c),d=C(u),f=C(d);we(f,()=>e.children),ot(d,h=>w(r,h),()=>a(r)),ot(u,h=>w(n,h),()=>a(n));var v=F(u,2);{var p=h=>{Ia(h,{get dialog(){return a(n)},get dialogInner(){return a(r)},onClose:l})};Y(v,h=>{a(n)&&a(r)&&h(p)})}ce(()=>ge(u,1,he(["dialog",{shown:a(o)}]),"svelte-1x410nl")),_(t,c),te()}var Hc=q("<div><!></div>");function Ns(t,e){ee(e,!0);let n=U(!1),r=U(null);const o=()=>{const u=setTimeout(()=>{e.onClosed()},150);a(r)?.addEventListener("transitionend",()=>{clearTimeout(u),e.onClosed()},{once:!0}),w(n,!1)},s=u=>{u.target!==a(r)&&!a(r)?.contains(u.target)&&o()},i=u=>{u.target!==a(r)&&!a(r)?.contains(u.target)&&o()};ke(()=>{a(r)?.getClientRects(),w(n,!0);const u=setTimeout(()=>{document.addEventListener("focusin",s),document.addEventListener("click",i)},0);return()=>{clearTimeout(u),document.removeEventListener("focusin",s),document.removeEventListener("click",i)}}),Ne(()=>{e.startClose&&o()});var l=Hc(),c=C(l);we(c,()=>e.children),ot(l,u=>w(r,u),()=>a(r)),ce(()=>ge(l,1,he(["menu",{top:e.positionTop,shown:a(n)}]),"svelte-ujw4xi")),_(t,l),te()}const jc=(t,e)=>{a(e)||w(e,!0)};var Uc=(t,e)=>e("newest"),Vc=(t,e)=>e("oldest"),qc=(t,e)=>e("AtoZ"),Wc=(t,e)=>e("ZtoA"),Yc=q("<div><button>Newest</button> <button>Oldest</button> <button>A to Z</button> <button>Z to A</button></div>"),Kc=q('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),Xc=q('<div class="orderMenu svelte-14zj87s"><button><!> <!></button> <!></div>');function Gc(t,e){ee(e,!0);const n=(x,y=xe)=>{var D=Yc(),A=C(D);A.__click=[Uc,d];var P=F(A,2);P.__click=[Vc,d];var b=F(P,2);b.__click=[qc,d];var k=F(b,2);k.__click=[Wc,d],ce(()=>{ge(D,1,he(["menu",{menuDialog:y()}]),"svelte-14zj87s"),ge(A,1,he(["menuButton",{menuButtonDialog:y(),current:a(u)==="newest"}]),"svelte-14zj87s"),ge(P,1,he(["menuButton",{menuButtonDialog:y(),current:a(u)==="oldest"}]),"svelte-14zj87s"),ge(b,1,he(["menuButton",{menuButtonDialog:y(),current:a(u)==="AtoZ"}]),"svelte-14zj87s"),ge(k,1,he(["menuButton",{menuButtonDialog:y(),current:a(u)==="ZtoA"}]),"svelte-14zj87s")}),_(x,D)};let r=U(!1),o=U(!1);const{checkMobileSize:s}=zt(),{getFeedOrder:i,setFeedOrder:l}=cs();let c=j(s),u=j(i);const d=x=>{w(o,!0),l(x)},f=()=>{w(r,!1),w(o,!1)};ke(()=>{const x=y=>{y.key==="Escape"&&w(o,!0)};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)});var v=Xc(),p=C(v);p.__click=[jc,r],ge(p,1,he(["button","buttonMenu"]),"svelte-14zj87s");var h=C(p);me(h,{name:"filter"});var g=F(h,2);Xe(g,{children:(x,y)=>{var D=Ie("show feed order menu");_(x,D)}});var m=F(p,2);{var E=x=>{var y=G(),D=R(y);{var A=b=>{Oa(b,{get startClose(){return a(o)},onClosed:f,children:(k,M)=>{n(k,()=>!0)},$$slots:{default:!0}})},P=b=>{var k=Kc(),M=R(k);pe(M,()=>({"--right":"20px","--top":"60px"})),Ns(M.lastChild,{get startClose(){return a(o)},onClosed:f,children:(J,V)=>{n(J,()=>!1)},$$slots:{default:!0}}),_(b,k)};Y(D,b=>{a(c)?b(A):b(P,!1)})}_(x,y)};Y(m,x=>{a(r)&&x(E)})}_(t,v),te()}qe(["click"]);var K=(t=>(t.NewNote="newNote",t.EditNote="editNote",t.Settings="settings",t.ImportData="importData",t.ExportData="exportData",t.ClearStore="clearStore",t.Account="account",t.Sync="sync",t.AccountSetup="accountSetup",t.Auth="auth",t.Signin="signin",t.Signup="signup",t.AccessKeys="accessKeys",t.ConfirmAccessKey="confirmAccessKey",t.Subscription="subscription",t.Exit="exit",t.NotFound="notFound",t.About="about",t.Bin="bin",t.Install="install",t.Wellcome="wellcome",t))(K||{}),Zc=q("<a><!></a>"),Jc=q("<button><!></button>");function Kt(t,e){let n=de(e,"type",3,"standard"),r=de(e,"typeButton",3,"button"),o=de(e,"element",3,"button"),s=de(e,"href",3,""),i=de(e,"fullWidth",3,!1),l=de(e,"withoutMinWidth",3,!1);var c=G(),u=R(c);{var d=v=>{var p=Zc();p.__click=function(...g){e.onClick?.apply(this,g)};var h=C(p);we(h,()=>e.children??xe),ce(()=>{Le(p,"href",s()),ge(p,1,he(["button","a",{dangerous:n()==="dangerous",secondary:n()==="secondary",fullWidth:i(),withoutMinWidth:l()}]),"svelte-aqjevc")}),_(v,p)},f=v=>{var p=Jc();p.__click=function(...g){e.onClick?.apply(this,g)};var h=C(p);we(h,()=>e.children??xe),ce(()=>{Le(p,"type",r()),ge(p,1,he(["button",{dangerous:n()==="dangerous",secondary:n()==="secondary",fullWidth:i(),withoutMinWidth:l()}]),"svelte-aqjevc")}),_(v,p)};Y(u,v=>{o()==="a"?v(d):v(f,!1)})}_(t,c)}qe(["click"]);var Qc=q('<div class="block svelte-1dzbsx4"><span class="title svelte-1dzbsx4"> </span> <div class="controls svelte-1dzbsx4"><!> <!></div></div>');function Ls(t,e){ee(e,!0);let n=de(e,"buttonCancelTitle",3,"Cancel"),r=de(e,"buttonConfirmTitle",3,"Confirm"),o=U(!1),s=U(!1);const i=()=>{w(o,!0)},l=()=>{w(o,!0),w(s,!0)};Oa(t,{get startClose(){return a(o)},onClosed:()=>{a(s)?e.onConfirm():e.onCancel()},children:(u,d)=>{var f=Qc(),v=C(f),p=C(v),h=F(v,2),g=C(h);Kt(g,{onClick:i,fullWidth:!0,withoutMinWidth:!0,type:"secondary",children:(E,x)=>{var y=Ie();ce(()=>Bt(y,n())),_(E,y)},$$slots:{default:!0}});var m=F(g,2);Kt(m,{onClick:l,fullWidth:!0,withoutMinWidth:!0,type:"dangerous",children:(E,x)=>{var y=Ie();ce(()=>Bt(y,r())),_(E,y)},$$slots:{default:!0}}),ce(()=>Bt(p,e.title)),_(u,f)},$$slots:{default:!0}}),te()}const pa=t=>{const e=n=>{const r=n.target,o=r?.tagName;if(o==="INPUT"||o==="TEXTAREA"||r?.isContentEditable)return;const s=n.key.toLowerCase(),i=n.metaKey,l=n.ctrlKey,c=n.shiftKey;if(s===t.key&&!!t.meta==!!i&&!!t.ctrl==!!l&&!!t.shift==!!c){n.preventDefault(),t.action();return}};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}};var $c=q('<a class="buttonAdd svelte-lfflvc"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Add note</span></a>');function eu(t,e){ee(e,!1);const{createHandlePage:n,getPageUrl:r,pushStackPages:o,getStackPages:s}=st(),{checkExistedDialog:i}=$t(),{checkMobileSize:l}=zt(),c=()=>{s.length===0&&!i()&&!l()&&o(K.NewNote)};ke(()=>pa({key:"n",action:c})),Wr();var u=$c(),d=j(()=>n(K.NewNote));u.__click=function(...v){a(d)?.apply(this,v)};var f=C(u);pe(f,()=>({"--size":"16px","--color":"#b0b0b0"})),me(f.lastChild,{name:"plus"}),ce(v=>Le(u,"href",v),[()=>r(K.NewNote)]),_(t,u),te()}qe(["click"]);const tu=(t,e)=>{w(e,!0)};var nu=(t,e)=>{e("/",{full:!0})(t)},ru=q('<a class="link svelte-13t3afu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Notes</span></a>'),au=(t,e)=>{e(K.Bin,{full:!0})(t)},ou=q('<a class="link svelte-13t3afu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Bin</span></a>'),su=q('<button class="emptyBinButton svelte-13t3afu" type="button">Empty bin</button>'),iu=q('<div class="header svelte-13t3afu"><div class="top svelte-13t3afu"><div class="menu svelte-13t3afu"><a class="link svelte-13t3afu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Settings</span></a> <a class="link svelte-13t3afu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Sync</span></a> <!></div> <div class="mobile svelte-13t3afu"><!></div> <!></div> <div class="bottom svelte-13t3afu"><div><div class="sidebarSearchWrapper"><!></div></div> <div class="right svelte-13t3afu"><div class="filter svelte-13t3afu"><div class="feedSearchWrapper svelte-13t3afu"><!></div> <!></div></div></div></div> <!>',1);function lu(t,e){ee(e,!0);const n=as(),r=is(),{getScrollContainer:o}=La();let s=j(o);const{emptyBin:i,checkNotesInBin:l}=dr(),{getAppLocation:c}=Tt(),{createHandlePage:u,getPageUrl:d,getStackPages:f}=st(),{checkExistedDialog:v}=$t(),{checkMobileSize:p}=zt();let h=U(null);const g=j(l),m=j(()=>c().pathname);let E=U(!1);const x=()=>{a(s)&&a(s).scrollTo({top:0,behavior:"smooth"})},y=()=>{f.length===0&&!v()&&!p()&&a(h)?.focus()};ke(()=>pa({key:"k",meta:!0,action:y})),ke(()=>pa({key:"k",ctrl:!0,action:y}));var D=iu(),A=R(D),P=C(A),b=C(P),k=C(b),M=j(()=>u(K.Settings));k.__click=function(...Z){a(M)?.apply(this,Z)};var J=C(k);pe(J,()=>({"--rotate":"30deg","--size":"20px"})),me(J.lastChild,{name:"settings"});var V=F(k,2),z=j(()=>u(K.Sync));V.__click=function(...Z){a(z)?.apply(this,Z)};var X=C(V);pe(X,()=>({"--size":"20px"})),me(X.lastChild,{name:"sync"});var ae=F(V,2);{var ne=Z=>{var se=ru();se.__click=[nu,u];var Se=C(se);pe(Se,()=>({"--size":"18px"})),me(Se.lastChild,{name:"note"}),ce(Ee=>Le(se,"href",Ee),[()=>d("/",{full:!0})]),_(Z,se)},fe=Z=>{var se=G(),Se=R(se);{var Ee=Ae=>{var Ce=ou();Ce.__click=[au,u];var De=C(Ce);pe(De,()=>({"--size":"20px"})),me(De.lastChild,{name:"bin"}),ce(We=>Le(Ce,"href",We),[()=>d(K.Bin,{full:!0})]),_(Ae,Ce)};Y(Se,Ae=>{a(g)&&Ae(Ee)},!0)}_(Z,se)};Y(ae,Z=>{a(m)===`/${K.Bin}`?Z(ne):Z(fe,!1)})}var $=F(b,2),Q=C($);Ts(Q,{});var O=F($,2);{var W=Z=>{var se=G(),Se=R(se);{var Ee=Ae=>{var Ce=su();Ce.__click=[tu,E],_(Ae,Ce)};Y(Se,Ae=>{a(g)&&Ae(Ee)})}_(Z,se)},T=Z=>{eu(Z,{})};Y(O,Z=>{a(m)===`/${K.Bin}`?Z(W):Z(T,!1)})}var B=F(P,2),re=C(B);ge(re,1,he(["left"]),"svelte-13t3afu");var ie=C(re),N=C(ie);ga(N,{placeholder:"Search tag",get value(){return r.value},set value(Z){r.value=Z}});var H=F(re,2),S=C(H),I=C(S),oe=C(I);ga(oe,{onFocus:x,placeholder:"Search",get ref(){return a(h)},set ref(Z){w(h,Z,!0)},get value(){return n.value},set value(Z){n.value=Z}});var ye=F(I,2);Gc(ye,{});var ue=F(A,2);{var Me=Z=>{Ls(Z,{title:"Are you sure you want to empty the bin?",buttonConfirmTitle:"Empty",onConfirm:()=>{i(),w(E,!1)},onCancel:()=>{w(E,!1)}})};Y(ue,Z=>{a(E)&&Z(Me)})}ce((Z,se)=>{Le(k,"href",Z),Le(V,"href",se)},[()=>d(K.Settings),()=>d(K.Sync)]),_(t,D),te()}qe(["click"]);function cu(t,e){ee(e,!0);const{getIsKeyboardVisible:n}=Ds();let r=de(e,"dialog",7);const o=j(n),s=Qt();let i=null;const l=()=>{e.dialogState==="swiping"&&e.onClose()};Ne(()=>(e.dialogState==="swiping"&&(i=setTimeout(l,3e3)),()=>{i&&(clearTimeout(i),i=null)}));let c=null,u=null;const d=3,f=50,v=5,p=.6,h=.3,g=.35,m=.95;let E=0,x=0,y=0,D=!1,A=!1,P=0,b=0,k=0;const M=()=>{E=0,x=0,D=!1,A=!1,P=0,b=0,k=0,y=0,c=null,u!==null&&(cancelAnimationFrame(u),u=null),i&&(clearTimeout(i),i=null)},J=O=>{r()&&e.dialogState==="opened"&&(E=O.touches[0].clientX,x=O.touches[0].clientY,y=performance.now(),D=!0,A=!1)},V=O=>e.dialogState==="opened"&&O>0||e.dialogState==="swiping"&&O>0,z=()=>{if(r()){r().style.setProperty("--transition-timing","0s"),e.onSwipe();try{const O=window.getComputedStyle(r()),W=O.transform||O.webkitTransform||"";if(b=r().offsetWidth,(e.dialogState==="swiping"||e.dialogState==="opened")&&(P=0),W&&W!=="none")try{P=new DOMMatrix(W).m41}catch{}A=!0}catch{M()}}},X=()=>{if(!r())return;const W=Math.abs(P+k*b/100)/b;r().style.setProperty("--backdrop-bg",`rgba(0, 0, 0, ${.1*(1-W)})`)},ae=()=>{if(u=null,!c||!D||!r()||a(o)){M();return}const O=[...c.touches].reduce((I,oe)=>I+oe.clientX,0)/c.touches.length,W=[...c.touches].reduce((I,oe)=>I+oe.clientY,0)/c.touches.length,T=O-E,B=W-x,re=Math.abs(T)>Math.abs(B),ie=Math.abs(T)>d;if(!A)if(re&&ie&&V(T))try{z()}catch{M();return}else return;let N=P+T*m;N=Math.max(0,Math.min(b,N)),!(N<0)&&(r().style.setProperty("--transition-timing","0s"),r().style.transform=`translate3d(${N}px, 0, 0)`,s.swipingRatio=Math.abs(1-N/b),k=(N-P)/b*100,e.dialogState==="swiping"&&(i&&clearTimeout(i),i=setTimeout(l,3e3)),X())},ne=O=>{if(!D)return;c=O,u===null&&(u=requestAnimationFrame(ae));const W=O.touches[0].clientX-E,T=O.touches[0].clientY-x,B=Math.abs(W)>Math.abs(T);A&&B&&O.preventDefault()},fe=O=>{const W=Math.abs(O);if(W>=p)return v;if(W>=h){const T=(W-h)/(p-h);return f-T*(f-v)}else return f},$=(O,W)=>{if(Math.abs(O)>=p)return g*.5;const B=Math.abs(k)/100;return W?g*Math.max(.5,1-B):g*Math.max(.5,B)},Q=O=>{if(u!==null&&(cancelAnimationFrame(u),u=null),!D||!r()){M();return}if(!A){M();return}let W=0;if(O?.changedTouches?.[0]){const N=O.changedTouches[0].clientX,S=performance.now()-y;S>0&&(W=(N-E)/S)}const T=fe(W);let B=null;e.dialogState==="swiping"&&(B=Math.abs(k)>T||W<-h?"close":"open");const re=e.dialogState==="swiping"&&B==="close",ie=$(W,re);s.duration=ie-.02,r().style.setProperty("--transition-timing",`${ie}s`),r().offsetWidth,r().style.transform="",B==="open"?e.onOpen():B==="close"&&e.onClose(),r()?.style.removeProperty("--backdrop-bg"),M()};ke(()=>(r().addEventListener("touchstart",J,{passive:!0}),r().addEventListener("touchmove",ne,{passive:!1}),r().addEventListener("touchend",Q,{passive:!0}),r().addEventListener("touchcancel",Q,{passive:!0}),()=>{r().removeEventListener("touchstart",J),r().removeEventListener("touchmove",ne),r().removeEventListener("touchend",Q),r().removeEventListener("touchcancel",Q),u!==null&&cancelAnimationFrame(u)})),te()}var uu=(t,e)=>{e.onStartClose()},du=q('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),fu=q('<dialog><div class="dialogInner svelte-vr2o0t"><div class="header svelte-vr2o0t"><div><!></div></div> <!></div></dialog> <!>',1);function vu(t,e){ee(e,!0);let n=350;const{isScrolling:r,enable:o}=Na();let s=U(null),i=U(null);const l=Qt(),c=P=>{P.preventDefault(),e.onStartClose()};ke(()=>(a(s)?.addEventListener("close",e.onClosed),a(s)?.addEventListener("cancel",c),()=>{a(s)?.removeEventListener("close",e.onClosed),a(s)?.removeEventListener("cancel",c)}));const u=()=>{a(s)?.style.removeProperty("--transition-timing"),a(s)?.style.removeProperty("transform"),a(s)?.style.removeProperty("--backdrop-bg")},d=()=>{o()},f=j(r);Ne(()=>{if(e.dialogState,!!a(s))switch(e.dialogState){case"opening":{a(s).open||a(s).showModal(),a(s).getBoundingClientRect();const P=setTimeout(()=>{u()},n+1),b=()=>{clearTimeout(P),u()};return a(s)?.addEventListener("transitionend",b,{once:!0}),e.onOpened(),()=>{clearTimeout(P),a(s)?.removeEventListener("transitionend",b)}}case"closing":{const P=setTimeout(()=>{e.dialogState==="closing"&&e.onClosed()},n+1),b=()=>{clearTimeout(P),e.onClosed()};return a(s)?.addEventListener("transitionend",b,{once:!0}),()=>{clearTimeout(P),a(s)?.removeEventListener("transitionend",b)}}case"opened":u()}});var v=fu(),p=R(v),h=C(p),g=C(h),m=C(g),E=C(m);{var x=P=>{var b=du();ge(b,1,he(["navigateButton","buttonBack"]),"svelte-vr2o0t"),b.__click=[uu,e];var k=C(b);pe(k,()=>({"--size":"36px"})),me(k.lastChild,{name:"back"});var M=F(k,2);Xe(M,{children:(J,V)=>{var z=Ie("back");_(J,z)}}),_(P,b)};Y(E,P=>{e.blocked||P(x)})}var y=F(g,2);we(y,()=>e.children),ot(h,P=>w(i,P),()=>a(i)),ot(p,P=>w(s,P),()=>a(s));var D=F(p,2);{var A=P=>{cu(P,{get onClose(){return e.onStartClose},get onOpen(){return e.onStartOpen},get onSwipe(){return e.onSwipe},get dialogState(){return e.dialogState},get dialog(){return a(s)}})};Y(D,P=>{(!a(f)&&e.dialogState==="opened"||e.dialogState==="swiping")&&!e.blocked&&P(A)})}ce(()=>ge(p,1,he([{open:e.dialogState==="opened",hidden:e.hidden,isAnimationOn:l.working&&(!l.isSwiping||!e.hidden)},{hidden:e.hidden}]),"svelte-vr2o0t")),Aa("scroll",h,d),_(t,v),te()}qe(["click"]);const ao=(t,e)=>{if(!e)return t;if(e.type==="closed")return{type:"closed"};switch(t.type){case"opened":return e.type==="close"?{type:"closing"}:e.type==="swipe"?{type:"swiping"}:t;case"closed":return e.type==="open"?{type:"opening"}:t;case"swiping":return e.type==="open"?{type:"opening"}:e.type==="close"?{type:"closing"}:t;case"opening":return e.type==="opened"?{type:"opened"}:t;default:return t}};function hu(t,e){ee(e,!0);let n=de(e,"hiddenDialog",3,!1),r=de(e,"onClose",3,()=>{});const o=Qt();let s=U(Be(ao({type:"closed"})));const i=m=>{w(s,ao(a(s),m),!0)},l=()=>{e.onStartClose&&(e.onStartClose(),i({type:"close"}))},c=()=>{i({type:"open"})},u=()=>{i({type:"opened"}),o.swipingRatio=1,o.duration=.2},d=()=>{r()(),i({type:"closed"}),o.swipingRatio=1,o.duration=.2},f=()=>{i({type:"swipe"})};Ne(()=>{a(s).type==="swiping"?o.isSwiping=!0:o.isSwiping=!1,a(s).type==="closed"&&e.shownDialog?c():a(s).type==="opened"&&!e.shownDialog&&l()});var v={handleComputeState:i},p=G(),h=R(p);{var g=m=>{{let E=j(()=>!e.onStartClose);vu(m,{onSwipe:f,onOpened:u,onClosed:d,onStartClose:l,onStartOpen:c,get dialogState(){return a(s).type},get hidden(){return n()},get blocked(){return a(E)},children:(x,y)=>{var D=G(),A=R(D);we(A,()=>e.children),_(x,D)},$$slots:{default:!0}})}};Y(h,m=>{a(s).type!=="closed"&&m(g)})}return _(t,p),te(v)}const gu=({getDialog:t,onOpen:e,onStartClose:n,onClose:r})=>{const o=i=>{i.preventDefault(),n()},s=()=>{r?.()};ke(()=>{const i=t();return i?.addEventListener("cancel",o),i?.addEventListener("close",s),()=>{i?.removeEventListener("cancel",o),i?.removeEventListener("close",s)}}),ke(()=>{const i=t();i?.showModal(),i?.getBoundingClientRect(),e()})};var pu=(t,e)=>{e.onStartBack()},_u=q('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),mu=(t,e)=>{e.onStartClose()},wu=q('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),yu=q('<dialog><div class="dialogInner svelte-rt409n"><div class="header svelte-rt409n"><div><!></div> <div><!></div></div> <!></div></dialog> <!>',1);function bu(t,e){ee(e,!0);let n=de(e,"blockedDialog",3,!1),r=de(e,"hiddenDialog",3,!1),o=de(e,"isDesktopAnimationOff",3,!1),s=U(null),i=U(null),l=U(!1);gu({getDialog:()=>a(s),onOpen:e.onOpen,onStartClose:e.onStartClose,onClose:e.onClose});const c=Qt();Ne(()=>{e.stateDialog==="closing"&&(c.working?a(s)?.addEventListener("transitionend",()=>{a(s)?.close()},{once:!0}):a(s)?.close())});const{getDialogPageHeight:u}=Ma(),d=j(u);ke(()=>{setTimeout(()=>{w(l,!0)},50)});var f=yu(),v=R(f),p=C(v),h=C(p),g=C(h),m=C(g);{var E=b=>{var k=_u();ge(k,1,he(["navigateButton","buttonBack"]),"svelte-rt409n"),k.__click=[pu,e];var M=C(k);pe(M,()=>({"--size":"28px"})),me(M.lastChild,{name:"back"});var J=F(M,2);Xe(J,{children:(V,z)=>{var X=Ie("back");_(V,X)}}),_(b,k)};Y(m,b=>{(!(n()||r())||n())&&e.onStartBack&&b(E)})}var x=F(g,2),y=C(x);{var D=b=>{var k=wu();ge(k,1,he(["navigateButton","buttonClose"]),"svelte-rt409n"),k.__click=[mu,e];var M=C(k);pe(M,()=>({"--size":"28px"})),me(M.lastChild,{name:"close"});var J=F(M,2);Xe(J,{children:(V,z)=>{var X=Ie("close");_(V,X)}}),_(b,k)};Y(y,b=>{n()||r()||b(D)})}var A=F(h,2);we(A,()=>e.children),ot(p,b=>w(i,b),()=>a(i)),ot(v,b=>w(s,b),()=>a(s));var P=F(v,2);Ia(P,{get dialog(){return a(s)},get dialogInner(){return a(i)},get onClose(){return e.onStartClose}}),ce(()=>{Vn(v,`height: ${a(d)+74}px`),ge(v,1,he([{open:e.stateDialog==="open",isHeightAnimationOn:a(l),isAnimationOn:c.working,isDesktopAnimationOff:o(),hiddenDialog:r()}]),"svelte-rt409n")}),_(t,f),te()}qe(["click"]);const Su=({onStartClose:t,onClose:e})=>{let n=U("close");return{get state(){return a(n)},set state(i){w(n,i,!0)},handleStartClose:(i=!1)=>{i||(w(n,"closing"),t?.())},handleOpen:()=>{w(n,"open")},handleClose:()=>{w(n,"close"),e?.()}}};function ku(t,e){ee(e,!0);let n=de(e,"blockedDialog",3,!1),r=de(e,"hiddenDialog",3,!1),o=de(e,"onStartClose",3,()=>{}),s=de(e,"onClose",3,()=>{}),i=Su({onStartClose:o(),onClose:s()});Ne(()=>{i.state==="close"&&e.shownDialog?i.state="opening":i.state==="open"&&!e.shownDialog&&i.handleStartClose(n())});const l=f=>{f.key==="Escape"&&n()&&(f.preventDefault(),f.stopPropagation())};ke(()=>(document.addEventListener("keydown",l),()=>{document.removeEventListener("keydown",l)}));var c=G(),u=R(c);{var d=f=>{bu(f,{get stateDialog(){return i.state},get blockedDialog(){return n()},get hiddenDialog(){return r()},get onOpen(){return i.handleOpen},get onStartBack(){return e.onStartBack},onStartClose:()=>{i.handleStartClose(n())},get onClose(){return i.handleClose},children:(v,p)=>{var h=G(),g=R(h);we(g,()=>e.children),_(v,h)},$$slots:{default:!0}})};Y(u,f=>{i.state!=="close"&&f(d)})}_(t,c),te()}function Cu(t,e){ee(e,!0);let n=de(e,"blockedDialog",3,!1),r=de(e,"hiddenDialog",3,!1),o=de(e,"blockedBack",3,!1),s=de(e,"onStartClose",3,()=>{}),i=de(e,"onClose",3,()=>{});const l=j(()=>o()?void 0:e.onStartBack),{showDialog:c,hideDialog:u}=$t();ke(()=>(c(),()=>{u()}));const{checkMobileSize:d}=zt();var f=G(),v=R(f);{var p=g=>{hu(g,{get shownDialog(){return e.shownDialog},get hiddenDialog(){return r()},get children(){return e.children},get onStartClose(){return a(l)},get onClose(){return i()}})},h=g=>{ku(g,{get shownDialog(){return e.shownDialog},get blockedDialog(){return n()},get hiddenDialog(){return r()},get children(){return e.children},get onStartBack(){return a(l)},get onStartClose(){return s()},get onClose(){return i()}})};Y(v,g=>{d()?g(p):g(h,!1)})}_(t,f),te()}function oo(t,e){ee(e,!0);const{back:n}=Tt(),{clearStackPages:r}=st();let o=de(e,"blocked",3,!1),s=de(e,"isLastDialog",3,!1),i=de(e,"onBack",3,()=>{}),l=de(e,"onClosed",3,()=>{});const{checkBlockedDialog:c,checkClosableDialog:u}=$t(),d=j(()=>o()||c()),f=j(u),v=()=>{(!a(d)||a(d))&&e.shown&&(n(),i()())},p=()=>{((!a(d)||a(d)&&a(f))&&e.shown||!e.shown)&&r()},h=()=>{l()()};{let g=j(()=>a(d)&&e.shown||a(f)===!1),m=j(()=>a(d)||s()&&a(f)===!1);Cu(t,{get shownDialog(){return e.shown},get blockedDialog(){return a(g)},get hiddenDialog(){return e.hidden},get blockedBack(){return a(m)},onStartBack:v,onStartClose:p,onClose:h,children:(E,x)=>{var y=G(),D=R(y);we(D,()=>e.children),_(E,y)},$$slots:{default:!0}})}te()}var Eu=q('<div class="svelte-1x9a4ve"><!></div>');function Oe(t,e){ee(e,!0);const{setDialogPageHeight:n}=Ma();let r=U(null);ke(()=>{a(r)&&(a(r).getBoundingClientRect(),a(r).style.opacity="1");const i=new ResizeObserver(l=>{for(let c of l){const u=c.contentRect.height;n(u)}});if(a(r))return i.observe(a(r)),()=>{a(r)&&i.unobserve(a(r)),i.disconnect()}});var o=Eu(),s=C(o);we(s,()=>e.children),ot(o,i=>w(r,i),()=>a(r)),_(t,o),te()}var xu=q('<div class="svelte-stjbkr"><p class="svelte-stjbkr">Page not found</p> <!></div>');function Pu(t,e){ee(e,!1);const{navigate:n}=Tt(),r=i=>{i.preventDefault(),n("/")};Wr();var o=xu(),s=F(C(o),2);Kt(s,{element:"a",href:"/",onClick:r,children:(i,l)=>{var c=Ie("close");_(i,c)},$$slots:{default:!0}}),_(t,o),te()}const Au="modulepreload",Du=function(t){return"/"+t},so={},je=function(e,n,r){let o=Promise.resolve();if(n&&n.length>0){let c=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=i?.nonce||i?.getAttribute("nonce");o=c(n.map(u=>{if(u=Du(u),u in so)return;so[u]=!0;const d=u.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const v=document.createElement("link");if(v.rel=d?"stylesheet":Au,d||(v.as="script"),v.crossOrigin="",v.href=u,l&&v.setAttribute("nonce",l),document.head.appendChild(v),d)return new Promise((p,h)=>{v.addEventListener("load",p),v.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return o.then(i=>{for(const l of i||[])l.status==="rejected"&&s(l.reason);return e().catch(s)})};var Tu=q('<div class="svelte-10xfz1h"><p class="svelte-10xfz1h">Something went wrong. Please reload the page</p> <!></div>');function Nu(t){var e=Tu(),n=F(C(e),2);Kt(n,{onClick:()=>location.reload(),children:(r,o)=>{var s=Ie("Reload");_(r,s)},$$slots:{default:!0}}),_(t,e)}var Lu=q('<div><!> <div class="loader svelte-m0sno1"></div></div>');function Ms(t,e){ee(e,!0);let n=U(!1);ke(()=>{const s=setTimeout(()=>{w(n,!0)},200);return()=>{clearTimeout(s)}});var r=Lu(),o=C(r);we(o,()=>e.children??xe),ce(()=>ge(r,1,he(["block",{shown:a(n)}]),"svelte-m0sno1")),_(t,r),te()}var Mu=q('<div class="svelte-1mu1b44"><!></div>');function Iu(t,e){ee(e,!0);const{getDialogPageHeight:n}=Ma(),r=j(n);var o=Mu(),s=C(o);Ms(s,{}),ce(()=>Vn(o,`min-height: ${a(r)??""}px;`)),_(t,o),te()}function Ue(t,e){ee(e,!0);const n={},r=Object.assign({"./Pages/About.svelte":()=>je(()=>import("./D5uvntjQ.js"),__vite__mapDeps([0,1])),"./Pages/AccessKeys.svelte":()=>je(()=>import("./-efOww8n.js"),__vite__mapDeps([2,3,4,5])),"./Pages/Account.svelte":()=>je(()=>import("./HeYHxRB1.js"),__vite__mapDeps([6,3,7])),"./Pages/AccountSetup.svelte":()=>je(()=>import("./Pj66GTCL.js"),__vite__mapDeps([8,9])),"./Pages/Auth.svelte":()=>je(()=>import("./DzzgSod-.js"),__vite__mapDeps([10,11])),"./Pages/ClearStore.svelte":()=>je(()=>import("./uCtYnmsV.js"),__vite__mapDeps([12,13])),"./Pages/ConfirmAccessKey.svelte":()=>je(()=>import("./BYoGmeKB.js"),__vite__mapDeps([14,4,3,15,16,17,18])),"./Pages/EditNote.svelte":()=>je(()=>import("./BsvUehql.js"),__vite__mapDeps([19,20,21,16,17,22,23,24])),"./Pages/Exit.svelte":()=>je(()=>import("./DXwpS2Qv.js"),__vite__mapDeps([25,26])),"./Pages/ExportData.svelte":()=>je(()=>import("./o2mGVbTU.js"),__vite__mapDeps([27,21,16,17,22,28])),"./Pages/ImportData.svelte":()=>je(()=>import("./CLdSri1M.js"),__vite__mapDeps([29,21,16,17,22,30])),"./Pages/Install.svelte":()=>je(()=>import("./CW9lciqi.js"),__vite__mapDeps([31,32])),"./Pages/NewNote.svelte":()=>je(()=>import("./B5GBhkeC.js"),__vite__mapDeps([33,20,21,16,17,22,23])),"./Pages/Signin.svelte":()=>je(()=>import("./DwgAKYEM.js"),__vite__mapDeps([34,4,3,15,35])),"./Pages/Signup.svelte":()=>je(()=>import("./DL04gLDy.js"),__vite__mapDeps([36,15,4,3,37])),"./Pages/Subscription.svelte":()=>je(()=>import("./BgWWLGaJ.js"),__vite__mapDeps([38,39])),"./Pages/Sync.svelte":()=>je(()=>import("./DK88asQA.js"),__vite__mapDeps([40,41]))}),o=async l=>{const c=`./Pages/${l[0].toUpperCase()+l.slice(1)}.svelte`;if(!n[l]){if(r[c]){const u=r[c]();return n[l]={promise:u},n[l].module=await u,n[l].module}throw new Error(`Page ${l} not found`)}return n[l].module||await n[l].promise};var s=G(),i=R(s);ml(i,()=>o(e.page),l=>{Iu(l,{})},(l,c)=>{const u=j(()=>a(c).default);var d=G(),f=R(d);bl(f,()=>a(u),(v,p)=>{p(v,{get params(){return e.params},get hidden(){return e.hidden}})}),_(l,d)},l=>{Nu(l)}),_(t,s),te()}var Ou=q('<button> <svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>');function Is(t,e){let n=j(()=>e.style==="selected"?"45deg":"0deg");var r=Ou();r.__click=function(...c){e.onClick?.apply(this,c)};var o=C(r),s=F(o);pe(s,()=>({"--size":e.size==="small"?"10px":"12px","--rotate":a(n)})),me(s.lastChild,{name:"plus"});var i=F(s,2);{var l=c=>{Xe(c,{children:(u,d)=>{var f=Ie("add tag");_(u,f)}})};Y(i,c=>{e.title===void 0&&c(l)})}ce(()=>{Le(r,"type",e.type),ge(r,1,he([{selectedTag:e.style==="selected",small:e.size==="small",empty:e.title===void 0}]),"svelte-uu8a24"),Bt(o,`${e.title??""} `)}),_(t,r)}qe(["click"]);var Bu=q("<div></div>");function io(t,e){ee(e,!0);let n=de(e,"mobile",3,!1);var r=Bu();qr(r,20,()=>e.tags,o=>o,(o,s)=>{Is(o,{get title(){return s},onClick:()=>e.handleTagClick(s)})}),ce(()=>ge(r,1,he(["tags",{mobile:n()}]),"svelte-1c53r32")),_(t,r),te()}var Ru=q("<div></div>");function lo(t,e){ee(e,!0);var n=G(),r=R(n);{var o=s=>{var i=Ru();ge(i,1,he(["tags","selectedTags"]),"svelte-58z9m1"),qr(i,20,()=>e.selectedTags,l=>l,(l,c)=>{Is(l,{get title(){return c},onClick:()=>e.handleSelectedTagClick(c),style:"selected"})}),_(s,i)};Y(r,s=>{e.selectedTags.size>0&&s(o)})}_(t,n),te()}const Fu=(t,e,n)=>{if(t.has("inbox"))return[];const r=[],o=Array.from(t.values());for(const s of e)if(s.data&&!(n&&!n(s))){if(t.size===0){for(const i of s?.data?.tags||[])r.includes(i)||r.push(i);for(const i of s?.data?.draft?.tags||[])r.includes(i)||r.push(i);continue}if(s.data&&o.every(i=>s.data?.tags.includes(i)))for(const i of s.data.tags)!t.has(i)&&!r.includes(i)&&r.push(i);if(s&&s.data.draft&&o.every(i=>s.data?.draft?.tags.includes(i)))for(const i of s.data.draft.tags)!t.has(i)&&!r.includes(i)&&r.push(i)}return r};function zu(t,e){ee(e,!0);const n=Qt(),{getIsKeyboardVisible:r}=Ds();let o=de(e,"dialog",7);const s=j(r),i=3,l=50,c=5,u=.6,d=.3,f=.35,v=.95;let p=0,h=0,g=0,m=!1,E=!1,x=0,y=0,D=0;const A=()=>{p=0,h=0,m=!1,E=!1,x=0,y=0,D=0,g=0,P!==null&&(cancelAnimationFrame(P),P=null),b=null};let P=null,b=null;const k=$=>{o()&&(e.sidebarState!=="opened"&&e.sidebarState!=="closed"||(p=$.touches[0].clientX,h=$.touches[0].clientY,g=performance.now(),m=!0,E=!1))},M=$=>e.sidebarState==="closed"&&$>0||e.sidebarState==="closeSwiping"&&$>0||e.sidebarState==="opened"&&$<0||e.sidebarState==="openSwiping"&&$<0,J=()=>{if(o()){if(o().style.setProperty("--transition-timing","0s"),!o().open&&e.sidebarState==="closed")try{o().showModal(),o().offsetWidth}catch{return}e.onSwipe();try{const $=window.getComputedStyle(o()),Q=$.transform||$.webkitTransform||"";if(y=o().offsetWidth,e.sidebarState==="closeSwiping"||e.sidebarState==="closed"?x=-y:(e.sidebarState==="openSwiping"||e.sidebarState==="opened")&&(x=0),Q&&Q!=="none")try{x=new DOMMatrix(Q).m41}catch{}E=!0}catch{A()}}},V=()=>{if(!o())return;const $=-(y*.3),Q=-y;let O=0;const W=window.getComputedStyle(o()),T=W.transform||W.webkitTransform||"";if(T&&T!=="none")try{O=new DOMMatrix(T).m41}catch{O=0}const ie=.25*Math.min(1,Math.max(0,(O-Q)/($-Q)));o().style.setProperty("--backdrop-bg",`rgba(0, 0, 0, ${ie})`)},z=()=>{if(P=null,!b||!m||!o()||a(s))return;const{x:$,y:Q}=b;b=null;const O=$-p,W=Q-h,T=Math.abs(O)>Math.abs(W),B=Math.abs(O)>i;if(!E)if(T&&B&&M(O))try{J()}catch{A();return}else return;let re=x+O*v;const ie=-y,N=-(y*.3);let H=Math.max(ie,Math.min(N,re));o().style.setProperty("--transition-timing","0s"),o().style.transform=`translate3d(${H}px, 0, 0)`,n.swipingRatio=(-1+Math.abs(H/y))/7*10,D=(H-x)/y*100,V()},X=$=>{if(!m)return;const Q=$.touches[0].clientX,O=$.touches[0].clientY;b={x:Q,y:O},P===null&&(P=requestAnimationFrame(z)),E&&Math.abs(Q-p)>Math.abs(O-h)&&$.preventDefault()},ae=$=>{const Q=Math.abs($);if(Q>=u)return c;if(Q>=d){const O=(Q-d)/(u-d);return l-O*(l-c)}else return l},ne=($,Q)=>{if(Math.abs($)>=u)return f*.5;const W=Math.abs(D)/100;return Q?f*Math.max(.5,1-W):f*Math.max(.5,W)},fe=$=>{if(P!==null&&(cancelAnimationFrame(P),P=null),b=null,!m||!o()){A();return}if(!E){A();return}let Q=0;if($?.changedTouches?.[0]){const re=$.changedTouches[0].clientX,N=performance.now()-g;N>0&&(Q=(re-p)/N)}const O=ae(Q);let W=null;e.sidebarState==="closeSwiping"?W=Math.abs(D)>O||Q>d?"open":"close":e.sidebarState==="openSwiping"&&(W=Math.abs(D)>O||Q<-d?"close":"open");const T=e.sidebarState==="closeSwiping"&&W==="open"||e.sidebarState==="openSwiping"&&W==="close",B=ne(Q,T);n.duration=B-.02,o().style.setProperty("--transition-timing",`${B}s`),o().offsetWidth,o().style.transform="",W==="open"?e.onOpen():W==="close"&&e.onClose(),o()?.style.removeProperty("--backdrop-bg"),A()};ke(()=>(document.addEventListener("touchstart",k,{passive:!0}),document.addEventListener("touchmove",X,{passive:!1}),document.addEventListener("touchend",fe,{passive:!0}),document.addEventListener("touchcancel",fe,{passive:!0}),()=>{document.removeEventListener("touchstart",k),document.removeEventListener("touchmove",X),document.removeEventListener("touchend",fe),document.removeEventListener("touchcancel",fe),P!==null&&cancelAnimationFrame(P)})),te()}var Hu=q('<dialog><div class="dialogInner svelte-1nov8pn"><!></div></dialog> <!> <!>',1);function ju(t,e){ee(e,!0);const{getStackPages:n}=st(),{getSidebarState:r,handleComputeState:o}=Yr();let s=350;const i=Qt(),{isScrolling:l}=Na();let c=U(null),u=U(null),d=j(r);Ne(()=>{n().length>0&&o({type:"close"})});const f=()=>{e.blocked||o({type:"close"})},v=()=>{e.blocked||o({type:"open"})},p=()=>{o({type:"opened"}),i.swipingRatio=-1,i.duration=.2},h=()=>{o({type:"closed"})},g=()=>{o({type:"swipe"})},m=z=>{z.preventDefault(),f()};ke(()=>(a(c)?.addEventListener("close",h),a(c)?.addEventListener("cancel",m),()=>{a(c)?.removeEventListener("close",h),a(c)?.removeEventListener("cancel",m)}));const E=()=>{a(c)?.style.removeProperty("--transition-timing"),a(c)?.style.removeProperty("transform"),a(c)?.style.removeProperty("--backdrop-bg")},x=j(l);Ne(()=>{if(a(d),!!a(c))switch(a(d).type==="openSwiping"||a(d).type==="closeSwiping"?i.isSwiping=!0:i.isSwiping=!1,a(d).type){case"closeSwiping":{const z=setTimeout(()=>{f()},3e3);return()=>{clearTimeout(z)}}case"openSwiping":{const z=setTimeout(()=>{v()},3e3);return()=>{clearTimeout(z)}}case"opening":{a(c).open||a(c).showModal(),a(c).getBoundingClientRect();const z=setTimeout(()=>{E()},s+1),X=()=>{clearTimeout(z),E()};return a(c)?.addEventListener("transitionend",X,{once:!0}),p(),()=>{clearTimeout(z),a(c)?.removeEventListener("transitionend",X)}}case"closing":{i.swipingRatio=0,i.duration=.2;const z=setTimeout(()=>{a(d).type==="closing"&&h()},s+1),X=()=>{clearTimeout(z),h()};return a(c)?.addEventListener("transitionend",X,{once:!0}),()=>{clearTimeout(z),a(c)?.removeEventListener("transitionend",X)}}case"closed":a(c)?.close(),E();break;case"opened":E();break}});var y=Hu(),D=R(y),A=C(D),P=C(A);{var b=z=>{var X=G(),ae=R(X);we(ae,()=>e.children),_(z,X)};Y(P,z=>{a(d).type!=="closed"&&z(b)})}ot(A,z=>w(u,z),()=>a(u)),ot(D,z=>w(c,z),()=>a(c));var k=F(D,2);{var M=z=>{Ia(z,{get dialog(){return a(c)},get dialogInner(){return a(u)},onClose:f})};Y(k,z=>{a(d).type==="opened"&&!e.blocked&&z(M)})}var J=F(k,2);{var V=z=>{zu(z,{onClose:f,onOpen:v,onSwipe:g,get sidebarState(){return a(d).type},get dialog(){return a(c)}})};Y(J,z=>{(!a(x)&&a(d).type==="closed"||a(d).type==="opened"||a(d).type==="openSwiping"||a(d).type==="closeSwiping")&&!e.blocked&&z(V)})}ce(()=>ge(D,1,he([{open:a(d).type==="opened",hidden:e.blocked,isAnimationOn:i.working&&(!i.isSwiping||!e.blocked)}]),"svelte-1nov8pn")),_(t,y),te()}var Uu=(t,e,n)=>{e(),n("/",{full:!0})(t)},Vu=q('<a class="link svelte-ltt61h"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a>'),qu=(t,e,n)=>{e(),n(K.Bin,{full:!0})(t)},Wu=q('<a class="link svelte-ltt61h"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a>'),Yu=q('<div class="sidebarFixed svelte-ltt61h"><div class="nav svelte-ltt61h"><!> <div class="menu svelte-ltt61h"><a class="link svelte-ltt61h"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a> <a class="link svelte-ltt61h"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a> <!></div></div> <div class="searchWrapper svelte-ltt61h"><!></div> <!></div> <!>',1),Ku=q('<div class="sidebar svelte-ltt61h"><div class="sidebarFixed svelte-ltt61h"><!></div> <!></div>');function Xu(t,e){ee(e,!0);const{checkMobileSize:n}=zt(),{sidebarClose:r}=Yr(),{getAppLocation:o}=Tt(),{getPageUrl:s,createHandlePage:i,getStackPagesFormUrl:l}=st(),c=is(),u=j(()=>o().pathname),{getSelectedTags:d,addTag:f,removeTag:v}=fs();let p=j(d);const{checkNotesInBin:h}=dr();let g=de(e,"getNotes",3,()=>[]),m=de(e,"mode",3,"notes");const E=V=>{f(V)},x=V=>{v(V)};let y=j(()=>Fu(a(p),g()()||[],V=>!(V?.data&&V.data.deletedAt&&m()==="notes"||V?.data&&!V.data.deletedAt&&m()==="bin")).filter(V=>c.value===""||V.toLowerCase().indexOf(c.value.toLowerCase())!==-1).sort((V,z)=>V==="inbox"?-1:z==="inbox"?1:V.localeCompare(z))),D=j(n);const{checkExistedDialog:A}=$t();let P=j(()=>l().length>0||A());var b=G(),k=R(b);{var M=V=>{ju(V,{get blocked(){return a(P)},children:(z,X)=>{var ae=Yu(),ne=R(ae),fe=C(ne),$=C(fe);Ts($,{});var Q=F($,2),O=C(Q),W=j(()=>i(K.Settings));O.__click=function(...se){a(W)?.apply(this,se)};var T=C(O);pe(T,()=>({"--size":"24px"})),me(T.lastChild,{name:"settings"});var B=F(T,2);Xe(B,{children:(se,Se)=>{var Ee=Ie("Settings");_(se,Ee)}});var re=F(O,2),ie=j(()=>i(K.Sync));re.__click=function(...se){a(ie)?.apply(this,se)};var N=C(re);pe(N,()=>({"--size":"24px"})),me(N.lastChild,{name:"sync"});var H=F(N,2);Xe(H,{children:(se,Se)=>{var Ee=Ie("Sync");_(se,Ee)}});var S=F(re,2);{var I=se=>{var Se=Vu();Se.__click=[Uu,r,i];var Ee=C(Se);pe(Ee,()=>({"--size":"24px"})),me(Ee.lastChild,{name:"note"});var Ae=F(Ee,2);Xe(Ae,{children:(Ce,De)=>{var We=Ie("Notes");_(Ce,We)}}),ce(Ce=>Le(Se,"href",Ce),[()=>s("/",{full:!0})]),_(se,Se)},oe=se=>{var Se=G(),Ee=R(Se);{var Ae=Ce=>{var De=Wu();De.__click=[qu,r,i];var We=C(De);pe(We,()=>({"--size":"24px"})),me(We.lastChild,{name:"bin"});var Qe=F(We,2);Xe(Qe,{children:($e,Nt)=>{var Ht=Ie("Bin");_($e,Ht)}}),ce($e=>Le(De,"href",$e),[()=>s(K.Bin,{full:!0})]),_(Ce,De)};Y(Ee,Ce=>{h()&&Ce(Ae)},!0)}_(se,Se)};Y(S,se=>{a(u)===`/${K.Bin}`?se(I):se(oe,!1)})}var ye=F(fe,2),ue=C(ye);ga(ue,{placeholder:"Search tag",get value(){return c.value},set value(se){c.value=se}});var Me=F(ye,2);lo(Me,{get selectedTags(){return a(p)},handleSelectedTagClick:x});var Z=F(ne,2);io(Z,{get tags(){return a(y)},handleTagClick:E,mobile:!0}),ce((se,Se)=>{Le(O,"href",se),Le(re,"href",Se)},[()=>s(K.Settings),()=>s(K.Sync)]),_(z,ae)},$$slots:{default:!0}})},J=V=>{var z=Ku(),X=C(z),ae=C(X);lo(ae,{get selectedTags(){return a(p)},handleSelectedTagClick:x});var ne=F(X,2);io(ne,{get tags(){return a(y)},handleTagClick:E}),_(V,z)};Y(k,V=>{a(D)?V(M):V(J,!1)})}_(t,b),te()}qe(["click"]);const Gu=(t,e,n,r)=>{e.noteData.pinnedAt?(n(e.noteId,!1),vn("Note unpinned",{onCancel:()=>{n(e.noteId,!0)}})):(n(e.noteId,!0),vn("Note pinned",{onCancel:()=>{n(e.noteId,!1)}})),w(r,!0)},Zu=(t,e,n)=>{navigator.clipboard.writeText(e.noteData.url),vn("Link copied"),w(n,!0)};var Ju=q('<li class="svelte-8ve3pe"><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>Copy link</button></li>'),Qu=(t,e,n)=>{w(e,!0),w(n,!0)},$u=q('<li class="svelte-8ve3pe"><button><span class="wrapperIcon svelte-8ve3pe"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></span>Delete</button></li>'),ed=(t,e,n)=>{w(e,!0),w(n,!0)},td=(t,e,n)=>{w(e,!0),w(n,!0)},nd=q('<li class="svelte-8ve3pe"><button><span class="wrapperIcon svelte-8ve3pe"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></span>Restore</button></li> <li class="svelte-8ve3pe"><button><span class="wrapperIcon svelte-8ve3pe"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></span>Delete from bin</button></li>',1),rd=q('<ul class="menu svelte-8ve3pe"><!> <li class="svelte-8ve3pe"><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> </button></li> <!></ul>'),ad=q('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),od=q("<!> <!>",1);function sd(t,e){ee(e,!0);const n=(k,M=xe)=>{var J=rd(),V=C(J);{var z=W=>{var T=Ju(),B=C(T);B.__click=[Zu,e,u];var re=C(B);pe(re,()=>({"--size":"22px"})),me(re.lastChild,{name:"copy"}),ce(()=>ge(B,1,he(["button",{buttonMenuDialog:M()}]),"svelte-8ve3pe")),_(W,T)};Y(V,W=>{M()&&e.noteData.url&&W(z)})}var X=F(V,2),ae=C(X);ae.__click=[Gu,e,s,u];var ne=C(ae);{let W=j(()=>e.noteData.pinnedAt?"pin-cancel":"pin");pe(ne,()=>({"--size":"22px"})),me(ne.lastChild,{get name(){return a(W)}})}var fe=F(ne),$=F(X,2);{var Q=W=>{var T=$u(),B=C(T);B.__click=[Qu,d,u];var re=C(B),ie=C(re);pe(ie,()=>({"--size":"18px"})),me(ie.lastChild,{name:"bin"}),ce(()=>ge(B,1,he(["button",{buttonMenuDialog:M()}]),"svelte-8ve3pe")),_(W,T)},O=W=>{var T=nd(),B=R(T),re=C(B);re.__click=[ed,f,u];var ie=C(re),N=C(ie);pe(N,()=>({"--size":"18px"})),me(N.lastChild,{name:"bin-cancel"});var H=F(B,2),S=C(H);S.__click=[td,v,u];var I=C(S),oe=C(I);pe(oe,()=>({"--size":"18px"})),me(oe.lastChild,{name:"bin"}),ce(()=>{ge(re,1,he(["button",{buttonMenuDialog:M()}]),"svelte-8ve3pe"),ge(S,1,he(["button",{buttonMenuDialog:M()}]),"svelte-8ve3pe")}),_(W,T)};Y($,W=>{l()==="notes"?W(Q):W(O,!1)})}ce(()=>{ge(ae,1,he(["button",{buttonMenuDialog:M()}]),"svelte-8ve3pe"),Bt(fe,` ${e.noteData.pinnedAt?"Unpin":"Pin"}`)}),_(k,J)},{moveNoteToBin:r,deleteNote:o,pinNote:s,restoreNoteFromBin:i}=dr();let l=de(e,"mode",3,"notes"),c=de(e,"shownMenu",15),u=U(!1),d=U(!1),f=U(!1),v=U(!1);const{checkMobileSize:p}=zt();let h=j(p);const g=()=>{o(e.noteId),vn("Draft deleted")},m=async()=>{r(e.noteId),vn("Note moved to bin",{onCancel:()=>{i(e.noteId)}})},E=()=>{i(e.noteId),vn("Note restored from bin",{onCancel:()=>{r(e.noteId)}})},x=()=>{a(d)?(w(d,!1),e.noteData.type==="draft"?g():m()):a(f)&&(w(f,!1),E()),c(!1),w(u,!1)};var y=od(),D=R(y);{var A=k=>{var M=G(),J=R(M);{var V=X=>{Oa(X,{get startClose(){return a(u)},onClosed:x,children:(ae,ne)=>{n(ae,()=>!0)},$$slots:{default:!0}})},z=X=>{var ae=ad(),ne=R(ae);pe(ne,()=>({"--bottom":"-90px","--right":"20px"})),Ns(ne.lastChild,{get startClose(){return a(u)},get positionTop(){return e.showMenuUp},onClosed:x,children:(fe,$)=>{n(fe,()=>!1)},$$slots:{default:!0}}),_(X,ae)};Y(J,X=>{a(h)?X(V):X(z,!1)})}_(k,M)};Y(D,k=>{c()&&k(A)})}var P=F(D,2);{var b=k=>{Ls(k,{title:"Are you sure you want to delete this note?",buttonConfirmTitle:"Delete",onConfirm:()=>{o(e.noteId),w(v,!1)},onCancel:()=>{w(v,!1)}})};Y(P,k=>{a(v)&&k(b)})}_(t,y),te()}qe(["click"]);const id=(t,e)=>{w(e,!0)},ld=(t,e,n)=>{navigator.clipboard.writeText(e.noteData.url),vn("Link copied"),w(n,!1)},cd=(t,e)=>{w(e,!0)},ud=(t,e)=>{w(e,!1)},dd=(t,e,n,r)=>{t.preventDefault(),e.noteData.type==="draft"?n(`${K.NewNote}`):n(`${K.EditNote}?id=${e.noteId}`),w(r,!1)};var fd=q('<div class="iconPlaceholder svelte-1jg44o9"></div>'),vd=q('<img loading="lazy" class="noteIcon" height="16" width="16" alt=""/>'),hd=q('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),gd=q('<div class="noteIconWrapper svelte-1jg44o9"><!></div>'),pd=q('<button class="button svelte-1jg44o9"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),_d=(t,e)=>{w(e,!1)},md=q('<!> <a target="_blank" rel="noopener noreferrer" class="button openLink svelte-1jg44o9"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a>',1),wd=q('<li><!> <a class="noteLink svelte-1jg44o9" target="_blank" rel="noopener noreferrer"> </a> <div><!> <button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button></div> <!></li>');function yd(t,e){ee(e,!0);const{pushStackPages:n}=st(),{getFaviconEnabled:r}=ps();let o=de(e,"mode",3,"notes"),s=U(!1),i=U(!1),l=U(!1),c=j(r);const{checkMobileSize:u}=zt(),d=k=>{try{return`https://icons.duckduckgo.com/ip3/${new URL(k).host}.ico`}catch{return""}},f=e.noteData.url||e.noteData.draft?.url||"";var v=wd();v.__focusin=[cd,i],v.__focusout=[ud,i];var p=C(v);{var h=k=>{var M=gd(),J=C(M);{var V=X=>{var ae=G(),ne=R(ae);{var fe=Q=>{var O=fd();_(Q,O)},$=Q=>{var O=vd();ce(W=>Le(O,"src",W),[()=>d(f)]),Aa("error",O,()=>{w(l,!0)}),_(Q,O)};Y(ne,Q=>{a(l)?Q(fe):Q($,!1)})}_(X,ae)},z=X=>{var ae=hd(),ne=R(ae);pe(ne,()=>({"--size":"16px"})),me(ne.lastChild,{name:"note"}),_(X,ae)};Y(J,X=>{f?X(V):X(z,!1)})}_(k,M)};Y(p,k=>{a(c)&&k(h)})}var g=F(p,2);g.__click=[dd,e,n,i];var m=C(g),E=F(g,2),x=C(E);{var y=k=>{var M=md(),J=R(M);{var V=ne=>{var fe=pd();fe.__click=[ld,e,i];var $=C(fe);pe($,()=>({"--size":"20px"})),me($.lastChild,{name:"copy"});var Q=F($,2);Xe(Q,{children:(O,W)=>{var T=Ie("copy link");_(O,T)}}),ce(()=>Le(fe,"tabindex",e.focusHidden?-1:0)),_(ne,fe)};Y(J,ne=>{u()||ne(V)})}var z=F(J,2);z.__click=[_d,i];var X=C(z);pe(X,()=>({"--size":"18px"})),me(X.lastChild,{name:"open"});var ae=F(X,2);Xe(ae,{children:(ne,fe)=>{var $=Ie();ce(()=>Bt($,e.noteData.draft?.name||e.noteData.name||"unknown")),_(ne,$)}}),ce(()=>{Le(z,"href",f),Le(z,"tabindex",e.focusHidden?-1:0)}),_(k,M)};Y(x,k=>{f&&k(y)})}var D=F(x,2);D.__click=[id,s],ge(D,1,he(["button","buttonMenu"]),"svelte-1jg44o9");var A=C(D);pe(A,()=>({"--size":"18px","--rotate":"90deg"})),me(A.lastChild,{name:"menu"});var P=F(A,2);Xe(P,{children:(k,M)=>{var J=Ie("show menu");_(k,J)}});var b=F(E,2);sd(b,{get mode(){return o()},get noteId(){return e.noteId},get noteData(){return e.noteData},get showMenuUp(){return e.showMenuUp},get shownMenu(){return a(s)},set shownMenu(k){w(s,k,!0)}}),ce((k,M)=>{ge(v,1,k,"svelte-1jg44o9"),Le(g,"tabindex",e.focusHidden?-1:0),Le(g,"href",M),Bt(m,e.noteData?.draft?.name||e.noteData?.name||"unknown"),ge(E,1,he(["noteMenuWrapper",{noteMenuWrapperActive:a(i)}]),"svelte-1jg44o9"),Le(D,"tabindex",e.focusHidden?-1:0)},[()=>he(["record",{pinned:!!e.noteData.pinnedAt,draft:!!e.noteData.draft}]),()=>`/?stackPages=${encodeURIComponent(`${K.EditNote}?id=${e.noteId}`)}`]),_(t,v),te()}qe(["focusin","focusout","click"]);var qn,Os,Bs;class bd{constructor(e){be(this,qn);it(this,"data");it(this,"compare");this.data=[],this.compare=e}insert(e){this.data.push(e),ze(this,qn,Os).call(this)}extractMin(){if(this.data.length===0)return;const e=this.data[0],n=this.data.pop();return this.data.length&&n!==void 0&&(this.data[0]=n,ze(this,qn,Bs).call(this)),e}isEmpty(){return this.data.length===0}}qn=new WeakSet,Os=function(){let e=this.data.length-1;const n=this.data[e];for(;e>0;){const r=Math.floor((e-1)/2);if(this.compare(n,this.data[r])>=0)break;[this.data[e],this.data[r]]=[this.data[r],this.data[e]],e=r}},Bs=function(){let e=0;const n=this.data.length;for(;;){const r=2*e+1,o=2*e+2;let s=e;if(r<n&&this.compare(this.data[r],this.data[s])<0&&(s=r),o<n&&this.compare(this.data[o],this.data[s])<0&&(s=o),s===e)break;[this.data[e],this.data[s]]=[this.data[s],this.data[e]],e=s}};class Sd{constructor(e,n){it(this,"heap");it(this,"done");it(this,"cache",[]);this.heap=new bd(n);for(const r of e)this.heap.insert(r);this.done=!1}get(e,n){const r=this.cache.slice(e,n);for(;r.length<n-e&&!this.heap.isEmpty();){const o=this.heap.extractMin();o!==void 0&&(this.cache.push(o),r.push(o))}return this.heap.isEmpty()&&(this.done=!0),r}}var kd=q('<p class="message">No notes in bin</p>'),Cd=q('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Add note</span>',1),Ed=q('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span style="padding-left: 6px;">Import notes</span>',1),xd=q('<p class="message">No notes found</p> <div class="wrapperButtonsAdd svelte-106i4nx"><!></div> <div>or</div> <div class="wrapperButtonsAdd svelte-106i4nx"><!></div>',1),Pd=q('<div class="emptyStore svelte-106i4nx"><!></div>'),Ad=q("<span>Back to notes</span>"),Dd=q('<div class="emptyMessage svelte-106i4nx">No notes in bin</div> <div class="wrapperButtonsAdd svelte-106i4nx"><!></div>',1),Td=q('<div class="emptyMessage svelte-106i4nx">No notes found</div>'),Nd=q('<div class="feed svelte-106i4nx"><ul class="svelte-106i4nx"></ul></div>'),Ld=q('<div class="wrapperFeed svelte-106i4nx"><div class="wrapperContainer svelte-106i4nx"><!></div></div>');function Md(t,e){ee(e,!0);let n=de(e,"getNotes",3,()=>[]),r=de(e,"mode",3,"notes");const{getScrollContainer:o}=La(),{createHandlePage:s,getPageUrl:i}=st(),{getSelectedTags:l}=fs(),{getFeedOrder:c}=cs(),u=as();let d=54,f=U(0),v=U(0),p=U(0),h=U(0),g=[],m=U(0),E=U(null),x=j(o),y=null,D=null;const A=j(l);Ne(()=>{a(A),a(J),a(x)?.scrollTo(0,0)});const{enable:P}=Na(),b=()=>{P(),y||(y=requestAnimationFrame(()=>{const T=a(x)?.scrollTop||0;w(p,T,!0);const B=Math.ceil(a(f)/d);w(v,Math.floor(T/(d*B))*(d*B)),y=null}))},k=()=>{D||(D=requestAnimationFrame(()=>{w(f,window.innerHeight-180||0,!0);const T=a(x)?.scrollTop||0;w(p,T,!0);const B=Math.ceil(a(f)/d);w(v,Math.floor(T/(d*B))*(d*B)),D=null}))};ke(()=>{k(),b()});const M=()=>{b()};Ne(()=>(a(x)?.addEventListener("scroll",M),window.addEventListener("resize",k),()=>{a(x)?.removeEventListener("scroll",M),window.removeEventListener("resize",k)}));const J=j(c);Ne(()=>{const T=n()()||[],B=[],re=Array.from(a(A).values());for(let ie=T.length-1;ie>=0;ie--){if(!T[ie]||!T[ie].data)continue;const N=T[ie];r()==="notes"&&N?.data.deletedAt||r()==="bin"&&!N?.data.deletedAt||a(A).size&&re.some(H=>!N.data?.tags.includes(H))&&(!N.data.draft||re.some(H=>!N.data?.draft?.tags.includes(H)))||u&&!(N.data.name.toLowerCase().includes(u.value.toLowerCase())||N.data.url.toLowerCase().includes(u.value.toLowerCase())||N.data.text.toLowerCase().includes(u.value.toLowerCase()))||B.push(N)}w(h,B.length,!0),g=B,w(m,Date.now(),!0)}),Ne(()=>{a(J),a(m),w(E,new Sd(g,(T,B)=>{if(!T||!B||!T.data||!B.data)return 0;if(T.data.pinnedAt&&!B.data.pinnedAt)return-1;if(!T.data.pinnedAt&&B.data.pinnedAt)return 1;if(T.data.pinnedAt&&B.data.pinnedAt){if(T.data.pinnedAt<B.data.pinnedAt)return 1;if(T.data.pinnedAt>B.data.pinnedAt)return-1}if(T.data.draft&&!B.data.draft)return-1;if(!T.data.draft&&B.data.draft)return 1;if(T.data.draft&&B.data.draft){if(T.data.draft.updatedAt<B.data.draft.updatedAt)return 1;if(T.data.draft.updatedAt>B.data.draft.updatedAt)return-1}switch(a(J)){case"newest":return T.data.updatedAt<B.data.updatedAt?1:-1;case"oldest":return T.data.updatedAt>B.data.updatedAt?1:-1;case"AtoZ":return T.data.name.localeCompare(B.data.name);case"ZtoA":return B.data.name.localeCompare(T.data.name);default:return 0}}),!0)});const V=j(()=>a(h)*d);let X=j(()=>{a(m);const T=Math.ceil(a(f)/d);let B=Math.floor(a(v)/d);return B=B-Math.min(B,T),a(E)?.get(B,B+T*3)||[]}),ae=j(()=>d*Math.ceil(a(f)/d));const ne=j(()=>a(v)-Math.min(a(v),a(ae)));var fe=Ld(),$=C(fe),Q=C($);{var O=T=>{Ms(T,{})},W=T=>{var B=G(),re=R(B);{var ie=H=>{var S=Pd(),I=C(S);{var oe=ue=>{var Me=kd();_(ue,Me)},ye=ue=>{var Me=xd(),Z=F(R(Me),2),se=C(Z);{let Ae=j(()=>i(K.NewNote)),Ce=j(()=>s(K.NewNote));Kt(se,{element:"a",get href(){return a(Ae)},get onClick(){return a(Ce)},children:(De,We)=>{var Qe=Cd(),$e=R(Qe);pe($e,()=>({"--size":"18px","--color":"#b0b0b0"})),me($e.lastChild,{name:"plus"}),_(De,Qe)},$$slots:{default:!0}})}var Se=F(Z,4),Ee=C(Se);{let Ae=j(()=>i(K.ImportData)),Ce=j(()=>s(K.ImportData));Kt(Ee,{element:"a",get href(){return a(Ae)},get onClick(){return a(Ce)},children:(De,We)=>{var Qe=Ed(),$e=R(Qe);pe($e,()=>({"--size":"18px","--color":"#b0b0b0"})),me($e.lastChild,{name:"import"}),_(De,Qe)},$$slots:{default:!0}})}_(ue,Me)};Y(I,ue=>{r()==="bin"?ue(oe):ue(ye,!1)})}_(H,S)},N=H=>{var S=G(),I=R(S);{var oe=ue=>{var Me=Dd(),Z=F(R(Me),2),se=C(Z);{let Se=j(()=>i("/",{full:!0})),Ee=j(()=>s("/",{full:!0}));Kt(se,{element:"a",get href(){return a(Se)},get onClick(){return a(Ee)},children:(Ae,Ce)=>{var De=Ad();_(Ae,De)},$$slots:{default:!0}})}_(ue,Me)},ye=ue=>{var Me=G(),Z=R(Me);{var se=Ee=>{var Ae=Td();_(Ee,Ae)},Se=Ee=>{var Ae=Nd(),Ce=C(Ae);qr(Ce,23,()=>a(X),De=>De.data,(De,We,Qe)=>{var $e=G(),Nt=R($e);{var Ht=bn=>{{let Kr=j(()=>a(Qe)*d<a(p)-a(ne)-d/2||a(Qe)*d>a(p)-a(ne)+Math.floor(a(f)/d)*d),Xr=j(()=>(a(Qe)+3)*d<a(p)-a(ne)-d/2||(a(Qe)+3)*d>a(p)-a(ne)+Math.floor(a(f)/d)*d);yd(bn,{get mode(){return r()},get focusHidden(){return a(Kr)},get showMenuUp(){return a(Xr)},get noteId(){return a(We).id},get noteData(){return a(We).data}})}};Y(Nt,bn=>{a(We).data&&bn(Ht)})}_(De,$e)}),ce(De=>{Vn(Ae,`min-height: ${De??""}px`),Vn(Ce,`transform: translateY(${a(ne)??""}px);`)},[()=>Math.max((a(V)>a(f),a(V)),0)]),_(Ee,Ae)};Y(Z,Ee=>{a(X).length===0?Ee(se):Ee(Se,!1)},!0)}_(ue,Me)};Y(I,ue=>{r()==="bin"&&e.countNotesInBin()===0?ue(oe):ue(ye,!1)},!0)}_(H,S)};Y(re,H=>{(n()()||[]).length===0||r()==="notes"&&(n()()||[]).length-e.countNotesInBin()===0?H(ie):H(N,!1)},!0)}_(T,B)};Y(Q,T=>{e.readyNotes?T(W,!1):T(O)})}_(t,fe),te()}var Id=q('<!> <div class="content svelte-k57gez"><!></div>',1);function Od(t,e){ee(e,!0);const{getAppLocation:n}=Tt(),{getGetNotes:r,isInitedNotes:o,countNotesInBin:s}=dr(),i=j(o),l=j(r),c=j(()=>n().pathname);var u=Id(),d=R(u);{let p=j(()=>a(c)==="/bin"?"bin":"notes");Xu(d,{get mode(){return a(p)},get getNotes(){return a(l)}})}var f=F(d,2),v=C(f);{let p=j(()=>a(c)==="/bin"?"bin":"notes");Md(v,{get mode(){return a(p)},get getNotes(){return a(l)},get countNotesInBin(){return s},get readyNotes(){return a(i)}})}_(t,u),te()}var Bd=q('<h1 class="svelte-1ky72l5"><!></h1>');function Rd(t,e){var n=Bd(),r=C(n);we(r,()=>e.children),_(t,n)}const Fd=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0,Rs=()=>Fd;var zd=q('<div class="block svelte-4rc64"><!> <p class="message svelte-4rc64">Enjoy using the app!</p> <div class="container svelte-4rc64"><!></div></div>');function Hd(t,e){ee(e,!1);const{pushStackPages:n}=st(),r=()=>{Rs()?n(K.AccountSetup):n(K.Install)};Wr();var o=zd(),s=C(o);Rd(s,{children:(c,u)=>{var d=Ie("Wellcome");_(c,d)}});var i=F(s,4),l=C(i);Kt(l,{onClick:r,fullWidth:!0,children:(c,u)=>{var d=Ie("Start");_(c,d)},$$slots:{default:!0}}),_(t,o),te()}var jd=q('<div class="wrapper svelte-1rhfuek"><fieldset class="switcher svelte-1rhfuek"><legend class="vh svelte-1rhfuek">Color Scheme</legend> <input id="light" type="radio" aria-label="Light"/> <label for="light" title="Light" aria-label="Light"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <input id="system" type="radio" aria-label="System"/> <label for="system" title="System" aria-label="System"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <input id="dark" type="radio" aria-label="Dark"/> <label for="dark" title="Dark" aria-label="Dark"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <div class="wrapSwitcherStatus svelte-1rhfuek"><div class="switcherStatus svelte-1rhfuek"></div></div></fieldset></div>');function Ud(t,e){ee(e,!0);const{createBroadcastChannel:n}=yn(),r=n(),o={Light:"light",System:"system",Dark:"dark"};let s=U(Be(localStorage.getItem("colorScheme")||o.System));const i=A=>{localStorage.setItem("colorScheme",A),A===o.System?window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.dataset.colorScheme=o.Dark:document.documentElement.dataset.colorScheme=o.Light:document.documentElement.dataset.colorScheme=A,w(s,A,!0)},l=A=>{const P=A.target.value;i(P),r.postMessage({type:"setColorScheme",data:{scheme:P}})},c="color-scheme-switcher";ke(()=>{const A=P=>{const b=JSON.parse(P.data);b?.type==="setColorScheme"&&b?.data.scheme&&i(b.data.scheme)};return r.addEventListener(A),()=>{r.removeEventListener(A)}});var u={setColorScheme:i,handleChange:l},d=jd(),f=C(d),v=F(C(f),2);ge(v,1,he(["vh","input"]),"svelte-1rhfuek"),Le(v,"name",c),v.__change=l;var p=F(v,2);ge(p,1,he(["switcherButton","light"]),"svelte-1rhfuek");var h=C(p);pe(h,()=>({"--size":"20px"})),me(h.lastChild,{name:"sun"});var g=F(p,2);ge(g,1,he(["vh","input"]),"svelte-1rhfuek"),Le(g,"name",c),g.__change=l;var m=F(g,2);ge(m,1,he(["switcherButton","system"]),"svelte-1rhfuek");var E=C(m);pe(E,()=>({"--size":"14px"})),me(E.lastChild,{name:"a"});var x=F(m,2);ge(x,1,he(["vh","input"]),"svelte-1rhfuek"),Le(x,"name",c),x.__change=l;var y=F(x,2);ge(y,1,he(["switcherButton","dark"]),"svelte-1rhfuek");var D=C(y);return pe(D,()=>({"--size":"20px"})),me(D.lastChild,{name:"moon"}),ce(()=>{$r(v,o.Light),xr(v,a(s)===o.Light),$r(g,o.System),xr(g,a(s)===o.System),$r(x,o.Dark),xr(x,a(s)===o.Dark)}),_(t,d),te(u)}qe(["change"]);const Vd=(t,e)=>{e.onChange(!e.checked)};var qd=q('<label class="switch svelte-18l3no4"><input class="vh svelte-18l3no4" type="checkbox"/> <span class="slider svelte-18l3no4"></span> <!></label>');function Wd(t,e){ee(e,!0);var n=qd(),r=C(n);r.__change=[Vd,e];var o=F(r,4);Xe(o,{children:(s,i)=>{var l=Ie("Toggle switch");_(s,l)}}),ce(()=>xr(r,e.checked)),_(t,n),te()}qe(["change"]);const Yd=(t,e)=>{e(K.ImportData)},Kd=(t,e)=>{e(K.ExportData)},Xd=(t,e)=>{e(K.ClearStore)},Gd=(t,e)=>{e(K.Account)},Zd=(t,e)=>{e(K.About)};var Jd=q('<div class="hotkeys svelte-94ovk9"><span class="hotkey__head svelte-94ovk9">Hotkeys:</span> <span>New note: <span class="hotkey svelte-94ovk9">N</span></span> <span>Search notes: <span class="hotkey svelte-94ovk9">Ctrl + K</span> or <span class="hotkey svelte-94ovk9">Cmd + K</span></span></div>'),Qd=q("<span> </span>"),$d=q('<div class="svelte-94ovk9"><!> <ul class="svelte-94ovk9"><li class="svelte-94ovk9"><button class="button svelte-94ovk9"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-94ovk9">Account</span></button></li> <li class="svelte-94ovk9"><button class="button svelte-94ovk9"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-94ovk9">Import data</span></button></li> <li class="svelte-94ovk9"><button class="button svelte-94ovk9"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-94ovk9">Export data</span></button></li> <li class="svelte-94ovk9"><button class="button svelte-94ovk9"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-94ovk9">Clear storage</span></button></li> <li class="svelte-94ovk9"><button class="button svelte-94ovk9"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-94ovk9">About</span></button></li></ul> <div class="favicons svelte-94ovk9"><span class="faviconsLabel svelte-94ovk9">show favicons (use duckduckgo servers)</span> <!></div> <!> <div class="version svelte-94ovk9"><!></div></div>');function ef(t,e){ee(e,!0);const{pushStackPages:n}=st(),{setFaviconShown:r,getFaviconEnabled:o}=ps(),{checkMobileSize:s}=zt();let i=j(o),l=U("");const c=async O=>{try{const T=await(await fetch("/build-metadata.json",{signal:O})).json();w(l,`${T.buildHash}`)}catch{}};ke(()=>{const O=new AbortController;return c(O.signal),()=>{O.abort()}});const u=O=>{r(O)};var d=$d(),f=C(d);Ud(f,{});var v=F(f,2),p=C(v),h=C(p);h.__click=[Gd,n];var g=C(h);pe(g,()=>({"--size":"28px"})),me(g.lastChild,{name:"account"});var m=F(p,2),E=C(m);E.__click=[Yd,n];var x=C(E);pe(x,()=>({"--size":"28px"})),me(x.lastChild,{name:"import"});var y=F(m,2),D=C(y);D.__click=[Kd,n];var A=C(D);pe(A,()=>({"--size":"28px"})),me(A.lastChild,{name:"export"});var P=F(y,2),b=C(P);b.__click=[Xd,n];var k=C(b);pe(k,()=>({"--size":"28px"})),me(k.lastChild,{name:"clear"});var M=F(P,2),J=C(M);J.__click=[Zd,n];var V=C(J);pe(V,()=>({"--size":"28px"})),me(V.lastChild,{name:"about"});var z=F(v,2),X=F(C(z),2);Wd(X,{get checked(){return a(i)},onChange:u});var ae=F(z,2);{var ne=O=>{var W=Jd();_(O,W)};Y(ae,O=>{s()||O(ne)})}var fe=F(ae,2),$=C(fe);{var Q=O=>{var W=Qd(),T=C(W);ce(B=>Bt(T,`version: 0.0.8 build_date: "${B??""}" build_hash:
				${a(l)??""}`),[()=>new Date(1761076462883).toISOString().replaceAll("T"," ").replace(/\..*/,"")]),_(O,W)};Y($,O=>{a(l)&&O(Q)})}_(t,d),te()}qe(["click"]);const co=(t,e=xe,n=xe,r)=>{let o=zr(()=>si(r?.(),!1));var s=G(),i=R(s);{var l=u=>{Oe(u,{children:(d,f)=>{ef(d,{})},$$slots:{default:!0}})},c=u=>{var d=G(),f=R(d);{var v=h=>{Oe(h,{children:(g,m)=>{Ue(g,{get hidden(){return a(o)},get page(){return K.NewNote}})},$$slots:{default:!0}})},p=h=>{var g=G(),m=R(g);{var E=y=>{Oe(y,{children:(D,A)=>{Ue(D,{get params(){return n()},get hidden(){return a(o)},get page(){return K.EditNote}})},$$slots:{default:!0}})},x=y=>{var D=G(),A=R(D);{var P=k=>{Oe(k,{children:(M,J)=>{Ue(M,{get hidden(){return a(o)},get page(){return K.ImportData}})},$$slots:{default:!0}})},b=k=>{var M=G(),J=R(M);{var V=X=>{Oe(X,{children:(ae,ne)=>{Ue(ae,{get hidden(){return a(o)},get page(){return K.ExportData}})},$$slots:{default:!0}})},z=X=>{var ae=G(),ne=R(ae);{var fe=Q=>{Oe(Q,{children:(O,W)=>{Ue(O,{get hidden(){return a(o)},get page(){return K.ClearStore}})},$$slots:{default:!0}})},$=Q=>{var O=G(),W=R(O);{var T=re=>{Oe(re,{children:(ie,N)=>{Ue(ie,{get hidden(){return a(o)},get page(){return K.AccountSetup}})},$$slots:{default:!0}})},B=re=>{var ie=G(),N=R(ie);{var H=I=>{Oe(I,{children:(oe,ye)=>{Ue(oe,{get hidden(){return a(o)},get page(){return K.Install}})},$$slots:{default:!0}})},S=I=>{var oe=G(),ye=R(oe);{var ue=Z=>{Oe(Z,{children:(se,Se)=>{Hd(se,{})},$$slots:{default:!0}})},Me=Z=>{var se=G(),Se=R(se);{var Ee=Ce=>{Oe(Ce,{children:(De,We)=>{Ue(De,{get hidden(){return a(o)},get page(){return K.Auth}})},$$slots:{default:!0}})},Ae=Ce=>{var De=G(),We=R(De);{var Qe=Nt=>{Oe(Nt,{children:(Ht,bn)=>{Ue(Ht,{get hidden(){return a(o)},get page(){return K.Signup}})},$$slots:{default:!0}})},$e=Nt=>{var Ht=G(),bn=R(Ht);{var Kr=Sn=>{Oe(Sn,{children:(fr,Ba)=>{Ue(fr,{get hidden(){return a(o)},get page(){return K.Signin}})},$$slots:{default:!0}})},Xr=Sn=>{var fr=G(),Ba=R(fr);{var Fs=kn=>{Oe(kn,{children:(vr,Ra)=>{Ue(vr,{get hidden(){return a(o)},get page(){return K.AccessKeys}})},$$slots:{default:!0}})},zs=kn=>{var vr=G(),Ra=R(vr);{var Hs=Cn=>{Oe(Cn,{children:(hr,Fa)=>{Ue(hr,{get hidden(){return a(o)},get page(){return K.Account}})},$$slots:{default:!0}})},js=Cn=>{var hr=G(),Fa=R(hr);{var Us=En=>{Oe(En,{children:(gr,za)=>{Ue(gr,{get hidden(){return a(o)},get page(){return K.ConfirmAccessKey}})},$$slots:{default:!0}})},Vs=En=>{var gr=G(),za=R(gr);{var qs=xn=>{Oe(xn,{children:(pr,Ha)=>{Ue(pr,{get hidden(){return a(o)},get page(){return K.Exit}})},$$slots:{default:!0}})},Ws=xn=>{var pr=G(),Ha=R(pr);{var Ys=Pn=>{Oe(Pn,{children:(_r,ja)=>{Ue(_r,{get hidden(){return a(o)},get page(){return K.Sync}})},$$slots:{default:!0}})},Ks=Pn=>{var _r=G(),ja=R(_r);{var Xs=An=>{Oe(An,{children:(mr,Ua)=>{Ue(mr,{get hidden(){return a(o)},get page(){return K.Subscription}})},$$slots:{default:!0}})},Gs=An=>{var mr=G(),Ua=R(mr);{var Zs=Dn=>{Oe(Dn,{children:(Gr,Qs)=>{Ue(Gr,{get hidden(){return a(o)},get page(){return K.About}})},$$slots:{default:!0}})},Js=Dn=>{Oe(Dn,{children:(Gr,Qs)=>{Pu(Gr,{})},$$slots:{default:!0}})};Y(Ua,Dn=>{e()===K.About?Dn(Zs):Dn(Js,!1)},!0)}_(An,mr)};Y(ja,An=>{e()===K.Subscription?An(Xs):An(Gs,!1)},!0)}_(Pn,_r)};Y(Ha,Pn=>{e()===K.Sync?Pn(Ys):Pn(Ks,!1)},!0)}_(xn,pr)};Y(za,xn=>{e()===K.Exit?xn(qs):xn(Ws,!1)},!0)}_(En,gr)};Y(Fa,En=>{e()===K.ConfirmAccessKey?En(Us):En(Vs,!1)},!0)}_(Cn,hr)};Y(Ra,Cn=>{e()===K.Account?Cn(Hs):Cn(js,!1)},!0)}_(kn,vr)};Y(Ba,kn=>{e()===K.AccessKeys?kn(Fs):kn(zs,!1)},!0)}_(Sn,fr)};Y(bn,Sn=>{e()===K.Signin?Sn(Kr):Sn(Xr,!1)},!0)}_(Nt,Ht)};Y(We,Nt=>{e()===K.Signup?Nt(Qe):Nt($e,!1)},!0)}_(Ce,De)};Y(Se,Ce=>{e()===K.Auth?Ce(Ee):Ce(Ae,!1)},!0)}_(Z,se)};Y(ye,Z=>{e()===K.Wellcome?Z(ue):Z(Me,!1)},!0)}_(I,oe)};Y(N,I=>{e()===K.Install?I(H):I(S,!1)},!0)}_(re,ie)};Y(W,re=>{e()===K.AccountSetup?re(T):re(B,!1)},!0)}_(Q,O)};Y(ne,Q=>{e()===K.ClearStore?Q(fe):Q($,!1)},!0)}_(X,ae)};Y(J,X=>{e()===K.ExportData?X(V):X(z,!1)},!0)}_(k,M)};Y(A,k=>{e()===K.ImportData?k(P):k(b,!1)},!0)}_(y,D)};Y(m,y=>{e()===K.EditNote?y(E):y(x,!1)},!0)}_(h,g)};Y(f,h=>{e()===K.NewNote?h(v):h(p,!1)},!0)}_(u,d)};Y(i,u=>{e()===K.Settings?u(l):u(c,!1)})}_(t,s)};var tf=q("<!> <!>",1);function nf(t,e){ee(e,!0);const{getStackPages:n}=st(),{getAccount:r}=ws();let o=j(n),s=j(()=>r()!==void 0);const{checkMobileSize:i}=zt();let l=U(Be([]));const c=j(i);Ne(()=>{a(o),a(c),vt(()=>{if(a(c))a(o).length>=a(l).length?w(l,a(o).map(m=>({page:m,shown:!0})),!0):w(l,a(l).map((m,E)=>({page:m.page,shown:E<a(o).length})),!0);else if(a(o).length>=a(l).length)w(l,a(o).map(m=>({page:m,shown:!0})),!0);else{if(a(o).length===0){w(l,[{page:a(l)[a(l).length-1].page,shown:!1}],!0);return}w(l,a(o).map(m=>({page:m,shown:!0})),!0)}})});const u=()=>{w(l,a(o).map(m=>({page:m,shown:!0})),!0)};var d=tf(),f=R(d);{var v=m=>{Od(m,{})};Y(f,m=>{a(s)&&m(v)})}var p=F(f,2);{var h=m=>{var E=G(),x=R(E);qr(x,19,()=>a(l),y=>y.page,(y,D,A)=>{const P=j(()=>a(D).page.split("?")[1]),b=j(()=>a(D).page.split("?")[0]);{let k=j(()=>a(A)!==a(l).length-1&&!!a(l)[a(A)+1]?.shown),M=j(()=>a(A)===0);oo(y,{onClosed:u,get shown(){return a(D).shown},get hidden(){return a(k)},get isLastDialog(){return a(M)},children:(J,V)=>{{let z=j(()=>a(A)!==a(l).length-1&&!!a(l)[a(A)+1]?.shown);co(J,()=>a(b),()=>a(P),()=>a(z))}},$$slots:{default:!0}})}}),_(m,E)},g=m=>{var E=G(),x=R(E);{var y=D=>{const A=j(()=>a(l)[a(l).length-1].page.split("?")[1]),P=j(()=>a(l)[a(l).length-1].page.split("?")[0]);{let b=j(()=>a(l).length===1);oo(D,{onClosed:u,get shown(){return a(l)[a(l).length-1].shown},hidden:!1,get isLastDialog(){return a(b)},children:(k,M)=>{co(k,()=>a(P),()=>a(A))},$$slots:{default:!0}})}};Y(x,D=>{a(l).length>0&&D(y)},!0)}_(m,E)};Y(p,m=>{i()?m(h):m(g,!1)})}_(t,d),te()}function rf(t,e){ee(e,!1);let n=0;ke(()=>{document.addEventListener("touchstart",r=>{n=r.touches[0].clientX},{passive:!1}),document.addEventListener("touchmove",r=>{const s=r.touches[0].clientX-n;(n<30&&s>0||n>window.innerWidth-30&&s<0)&&r.preventDefault()},{passive:!1}),document.addEventListener("touchend",()=>{n=0}),document.addEventListener("touchcancel",()=>{n=0})}),Wr(),te()}const af=(t,e)=>{a(e)&&a(e).scrollTo({top:0})};var of=q('<div><button class="buttonTop svelte-1n46o8q"><!> <span class="icon svelte-1n46o8q"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></span></button></div>'),sf=q('<!> <!> <main><div class="wrapperHeader svelte-1n46o8q"><!></div> <div class="container svelte-1n46o8q"><!></div></main> <!>',1);function lf(t,e){ee(e,!0);const{navigate:n}=Tt(),{hasStackPage:r}=st(),{setScrollContainer:o}=La(),{getAccount:s,init:i}=ws(),{isInitedNotes:l}=dr(),{getStackPagesFormUrl:c}=st(),{createBroadcastChannel:u,tabId:d}=yn(),f=u(),{getSidebarState:v}=Yr(),{setClosableDialog:p}=$t(),h=()=>{Rs()||n("/?stackPages=wellcome")};ke(()=>{i(B=>{B===void 0?h():((r("wellcome")||r("accountSetup"))&&n("/"),B?w(y,B):w(y,null))});const T=async B=>{const re=JSON.parse(B.data);if(re.tabId&&re.tabId===d)return;const ie=re;ie.type==="initLocalAccount"||ie.type==="initCloudAccount"||ie.type==="updateAccount"||ie.type==="disconnectCloudAccount"?n("/"):ie.type==="exit"&&(n("/"),setTimeout(()=>{h()}))};return f.addEventListener(T),()=>f.removeEventListener(T)});const g=Qt();ke(async()=>{await new Promise(T=>setTimeout(T,100)),await Zo(),g.working=!0});let m=U(!1),E=0,x=j(()=>c().length>0),y=j(s),D=j(l),A=U(null);Ne(()=>{p(a(y)!==void 0)}),Ne(()=>{o(a(A))});const P=()=>{if(a(A)){const T=a(A).scrollTop||0;T===0?w(m,!1):!a(m)&&E>T?w(m,!0):a(m)&&E+50<T&&w(m,!1),E=T}},b=()=>{P()};Ne(()=>(a(A)?.addEventListener("scroll",b),window.addEventListener("resize",b),()=>{a(A)?.removeEventListener("scroll",b),window.removeEventListener("resize",b)}));const k=j(v);var M=sf(),J=R(M);rf(J,{});var V=F(J,2);Lc(V,{});var z=F(V,2),X=C(z),ae=C(X);{var ne=T=>{lu(T,{})};Y(ae,T=>{a(y)!==void 0&&T(ne)})}var fe=F(X,2),$=C(fe);{var Q=T=>{nf(T,{})};Y($,T=>{a(D)&&T(Q)})}ot(z,T=>w(A,T),()=>a(A));var O=F(z,2);{var W=T=>{var B=of(),re=C(B);re.__click=[af,A];var ie=C(re);Xe(ie,{children:(S,I)=>{var oe=Ie("top");_(S,oe)}});var N=F(ie,2),H=C(N);pe(H,()=>({"--rotate":"90deg","--size":"28px"})),me(H.lastChild,{name:"back"}),ce(()=>{Vn(B,`--swiping-ratio: ${g.swipingRatio}; --transition-timing-default: ${g.duration}s;`),ge(B,1,he(["wrapperButtonTop",{isAnimationOn:g.working&&!g.isSwiping,open:a(x)||a(k).type!=="closed"}]),"svelte-1n46o8q")}),_(T,B)};Y(O,T=>{a(m)&&T(W)})}ce(()=>{Vn(z,`--swiping-ratio: ${g.swipingRatio}; --transition-timing-default: ${g.duration}s;`),ge(z,1,he(["main",{isAnimationOn:g.working&&!g.isSwiping,open:a(x)||a(k).type!=="closed"}]),"svelte-1n46o8q")}),_(t,M),te()}qe(["click"]);function cf(t){Pc(t,{children:(e,n)=>{lf(e,{})}})}window.addEventListener("unhandledrejection",t=>{alert("Error: "+t.reason.message)});window.isUnsupportedBrowser||hl(cf,{target:document.getElementById("app")});export{ws as A,Kt as B,Wr as C,dr as D,Aa as E,ff as F,de as G,Rd as H,me as I,ge as J,he as K,Ms as L,$r as M,xr as N,Vn as O,K as P,zt as Q,tc as R,Wd as S,ot as T,vf as U,Xe as V,Is as W,Fu as X,Al as Y,pe as a,Le as b,C as c,_ as d,qr as e,q as f,a as g,st as h,$t as i,U as j,Be as k,w as l,Y as m,te as n,ke as o,ee as p,G as q,R as r,F as s,ce as t,Ne as u,qe as v,Ie as w,Bt as x,j as y,Tt as z};
