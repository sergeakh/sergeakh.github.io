const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["a/BG8AZJJ6.js","a/BAW-HnOs.css","a/TRFC_wik.js","a/9q_jSmK4.js","a/BEGDcNQV.js","a/CoBIEQkN.css","a/DCJtijZR.js","a/BYiYfrGn.css","a/BtYC4SN0.js","a/A07xSe-1.css","a/B4pjDvOE.js","a/B_UsPGEu.css","a/DVH-6DiS.js","a/Cpa8lgv9.js","a/BIuaY6fu.js","a/j0KFa_-O.css","a/hu7yjlv8.css","a/Co6lKi0o.js","a/BoNXNBCW.js","a/CTZccJ9I.css","a/HOTUjnfJ.css","a/CyUtf5kK.js","a/DdvqrzuO.css","a/D_azMfkn.js","a/B0cemaEl.css","a/B6HY_FLY.js","a/wHiSqZiK.css","a/CSFz4EjW.js","a/sCcV_h3V.js","a/BJkY6727.css","a/COYIc1h3.js","a/CTvV7MYb.css","a/BsUifwUK.js","a/D0s4m_LM.css","a/Cw3jLbtw.js","a/CwLtx71M.css","a/NQWzhMAH.js","a/CBB22PtM.css","a/CHwhSugK.js","a/1JBO3KHP.css"])))=>i.map(i=>d[i]);
var As=Object.defineProperty;var La=e=>{throw TypeError(e)};var Ts=(e,t,n)=>t in e?As(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var xn=(e,t,n)=>Ts(e,typeof t!="symbol"?t+"":t,n),Wr=(e,t,n)=>t.has(e)||La("Cannot "+n);var L=(e,t,n)=>(Wr(e,t,"read from private field"),n?n.call(e):t.get(e)),ge=(e,t,n)=>t.has(e)?La("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),oe=(e,t,n,r)=>(Wr(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),qe=(e,t,n)=>(Wr(e,t,"access private method"),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();const eo=!1;var da=Array.isArray,Ns=Array.prototype.indexOf,fa=Array.from,$r=Object.defineProperty,An=Object.getOwnPropertyDescriptor,to=Object.getOwnPropertyDescriptors,Ls=Object.prototype,Bs=Array.prototype,va=Object.getPrototypeOf,Ba=Object.isExtensible;const we=()=>{};function Ms(e){return typeof e?.then=="function"}function Is(e){return e()}function kr(e){for(var t=0;t<e.length;t++)e[t]()}function Os(){var e,t,n=new Promise((r,a)=>{e=r,t=a});return{promise:n,resolve:e,reject:t}}function Rs(e,t,n=!1){return e===void 0?n?t():t:e}const et=2,ha=4,Tr=8,Hn=16,Mt=32,pn=64,ga=128,ct=256,Cr=512,je=1024,ut=2048,Qt=4096,gt=8192,mn=16384,_a=32768,Un=65536,Ma=1<<17,Fs=1<<18,jn=1<<19,no=1<<20,ea=1<<21,pa=1<<22,fn=1<<23,vn=Symbol("$state"),zs=Symbol("legacy props"),Hs=Symbol(""),ma=new class extends Error{constructor(){super(...arguments);xn(this,"name","StaleReactionError");xn(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function ro(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Us(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function js(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Vs(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function qs(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Ws(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Ys(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function Ks(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Gs(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Zs(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Xs(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const Nr=1,Lr=2,ao=4,Js=8,Qs=16,$s=1,ei=2,ti=4,ni=8,ri=16,ai=1,oi=2,Ne=Symbol(),si="http://www.w3.org/1999/xhtml";let ii=!1;function oo(e){return e===this.v}function li(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function so(e){return!li(e,this.v)}let Vn=!1,ci=!1;function ui(){Vn=!0}let be=null;function Xt(e){be=e}function Be(e){return io().get(e)}function Me(e,t){return io().set(e,t),t}function X(e,t=!1,n){be={p:be,c:null,e:null,s:e,x:null,l:Vn&&!t?{s:null,u:null,$:[]}:null}}function J(e){var t=be,n=t.e;if(n!==null){t.e=null;for(var r of n)ko(r)}return e!==void 0&&(t.x=e),be=t.p,e??{}}function qn(){return!Vn||be!==null&&be.l===null}function io(e){return be===null&&ro(),be.c??(be.c=new Map(di(be)||void 0))}function di(e){let t=e.p;for(;t!==null;){const n=t.c;if(n!==null)return n;t=t.p}return null}let Wt=[],Er=[];function lo(){var e=Wt;Wt=[],kr(e)}function fi(){var e=Er;Er=[],kr(e)}function vi(){return Wt.length>0||Er.length>0}function wn(e){if(Wt.length===0&&!Qn){var t=Wt;queueMicrotask(()=>{t===Wt&&lo()})}Wt.push(e)}function hi(){Wt.length>0&&lo(),Er.length>0&&fi()}const gi=new WeakMap;function co(e){var t=de;if(t===null)return ce.f|=fn,e;if((t.f&_a)===0){if((t.f&ga)===0)throw!t.parent&&e instanceof Error&&uo(e),e;t.b.error(e)}else On(e,t)}function On(e,t){for(;t!==null;){if((t.f&ga)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e instanceof Error&&uo(e),e}function uo(e){const t=gi.get(e);t&&($r(e,"message",{value:t.message}),$r(e,"stack",{value:t.stack}))}const Yr=new Set;let Ee=null,mr=null,ta=new Set,_n=[],Br=null,na=!1,Qn=!1;var rr,Bn,Ht,ar,or,sn,Mn,ln,Ut,In,sr,ir,_t,fo,wr,ra;const xr=class xr{constructor(){ge(this,_t);xn(this,"current",new Map);ge(this,rr,new Map);ge(this,Bn,new Set);ge(this,Ht,0);ge(this,ar,null);ge(this,or,!1);ge(this,sn,[]);ge(this,Mn,[]);ge(this,ln,[]);ge(this,Ut,[]);ge(this,In,[]);ge(this,sr,[]);ge(this,ir,[]);xn(this,"skipped_effects",new Set)}process(t){_n=[],mr=null;for(const a of t)qe(this,_t,fo).call(this,a);if(L(this,sn).length===0&&L(this,Ht)===0){qe(this,_t,ra).call(this);var n=L(this,ln),r=L(this,Ut);oe(this,ln,[]),oe(this,Ut,[]),oe(this,In,[]),mr=Ee,Ee=null,Ia(n),Ia(r),Ee===null?Ee=this:Yr.delete(this),L(this,ar)?.resolve()}else qe(this,_t,wr).call(this,L(this,ln)),qe(this,_t,wr).call(this,L(this,Ut)),qe(this,_t,wr).call(this,L(this,In));for(const a of L(this,sn))Ln(a);for(const a of L(this,Mn))Ln(a);oe(this,sn,[]),oe(this,Mn,[])}capture(t,n){L(this,rr).has(t)||L(this,rr).set(t,n),this.current.set(t,t.v)}activate(){Ee=this}deactivate(){Ee=null,mr=null;for(const t of ta)if(ta.delete(t),t(),Ee!==null)break}neuter(){oe(this,or,!0)}flush(){_n.length>0?ho():qe(this,_t,ra).call(this),Ee===this&&(L(this,Ht)===0&&Yr.delete(this),this.deactivate())}increment(){oe(this,Ht,L(this,Ht)+1)}decrement(){if(oe(this,Ht,L(this,Ht)-1),L(this,Ht)===0){for(const t of L(this,sr))Ze(t,ut),Rn(t);for(const t of L(this,ir))Ze(t,Qt),Rn(t);oe(this,ln,[]),oe(this,Ut,[]),this.flush()}else this.deactivate()}add_callback(t){L(this,Bn).add(t)}settled(){return(L(this,ar)??oe(this,ar,Os())).promise}static ensure(){if(Ee===null){const t=Ee=new xr;Yr.add(Ee),Qn||xr.enqueue(()=>{Ee===t&&t.flush()})}return Ee}static enqueue(t){wn(t)}};rr=new WeakMap,Bn=new WeakMap,Ht=new WeakMap,ar=new WeakMap,or=new WeakMap,sn=new WeakMap,Mn=new WeakMap,ln=new WeakMap,Ut=new WeakMap,In=new WeakMap,sr=new WeakMap,ir=new WeakMap,_t=new WeakSet,fo=function(t){t.f^=je;for(var n=t.first;n!==null;){var r=n.f,a=(r&(Mt|pn))!==0,o=a&&(r&je)!==0,i=o||(r&gt)!==0||this.skipped_effects.has(n);if(!i&&n.fn!==null){if(a)n.f^=je;else if((r&ha)!==0)L(this,Ut).push(n);else if((r&je)===0)if((r&pa)!==0){var l=n.b?.is_pending()?L(this,Mn):L(this,sn);l.push(n)}else Rr(n)&&((n.f&Hn)!==0&&L(this,In).push(n),Ln(n));var c=n.first;if(c!==null){n=c;continue}}var u=n.parent;for(n=n.next;n===null&&u!==null;)n=u.next,u=u.parent}},wr=function(t){for(const n of t)((n.f&ut)!==0?L(this,sr):L(this,ir)).push(n),Ze(n,je);t.length=0},ra=function(){if(!L(this,or))for(const t of L(this,Bn))t();L(this,Bn).clear()};let Kt=xr;function vo(e){var t=Qn;Qn=!0;try{for(var n;;){if(hi(),_n.length===0&&!vi()&&(Ee?.flush(),_n.length===0))return Br=null,n;ho()}}finally{Qn=t}}function ho(){var e=Nn;na=!0;try{var t=0;for(Fa(!0);_n.length>0;){var n=Kt.ensure();if(t++>1e3){var r,a;_i()}n.process(_n),Gt.clear()}}finally{na=!1,Fa(e),Br=null}}function _i(){try{Ws()}catch(e){On(e,Br)}}let an=null;function Ia(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if((r.f&(mn|gt))===0&&Rr(r)&&(an=[],Ln(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?Po(r):r.fn=null),an?.length>0)){Gt.clear();for(const a of an)Ln(a);an=[]}}an=null}}function Rn(e){for(var t=Br=e;t.parent!==null;){t=t.parent;var n=t.f;if(na&&t===de&&(n&Hn)!==0)return;if((n&(pn|Mt))!==0){if((n&je)===0)return;t.f^=je}}_n.push(t)}function pi(e){let t=0,n=Lt(0),r;return()=>{Bi()&&(s(n),Or(()=>(t===0&&(r=xt(()=>e(()=>$n(n)))),t+=1,()=>{wn(()=>{t-=1,t===0&&(r?.(),r=void 0,$n(n))})})))}}var mi=Un|jn|ga;function wi(e,t,n){new yi(e,t,n)}var vt,it,ua,kt,cn,Ct,lt,Ge,Et,jt,un,Vt,dn,qt,Dr,Ar,Ye,Si,bi,yr,Sr,aa;class yi{constructor(t,n,r){ge(this,Ye);xn(this,"parent");ge(this,vt,!1);ge(this,it);ge(this,ua,null);ge(this,kt);ge(this,cn);ge(this,Ct);ge(this,lt,null);ge(this,Ge,null);ge(this,Et,null);ge(this,jt,null);ge(this,un,0);ge(this,Vt,0);ge(this,dn,!1);ge(this,qt,null);ge(this,Dr,()=>{L(this,qt)&&Tt(L(this,qt),L(this,un))});ge(this,Ar,pi(()=>(oe(this,qt,Lt(L(this,un))),()=>{oe(this,qt,null)})));oe(this,it,t),oe(this,kt,n),oe(this,cn,r),this.parent=de.b,oe(this,vt,!!L(this,kt).pending),oe(this,Ct,Wn(()=>{de.b=this;{try{oe(this,lt,Ue(()=>r(L(this,it))))}catch(a){this.error(a)}L(this,Vt)>0?qe(this,Ye,Sr).call(this):oe(this,vt,!1)}},mi))}is_pending(){return L(this,vt)||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!L(this,kt).pending}update_pending_count(t){qe(this,Ye,aa).call(this,t),oe(this,un,L(this,un)+t),ta.add(L(this,Dr))}get_effect_pending(){return L(this,Ar).call(this),s(L(this,qt))}error(t){var n=L(this,kt).onerror;let r=L(this,kt).failed;if(L(this,dn)||!n&&!r)throw t;L(this,lt)&&($e(L(this,lt)),oe(this,lt,null)),L(this,Ge)&&($e(L(this,Ge)),oe(this,Ge,null)),L(this,Et)&&($e(L(this,Et)),oe(this,Et,null));var a=!1,o=!1;const i=()=>{if(a){return}a=!0,o&&Xs(),Kt.ensure(),oe(this,un,0),L(this,Et)!==null&&Pt(L(this,Et),()=>{oe(this,Et,null)}),oe(this,vt,this.has_pending_snippet()),oe(this,lt,qe(this,Ye,yr).call(this,()=>(oe(this,dn,!1),Ue(()=>L(this,cn).call(this,L(this,it)))))),L(this,Vt)>0?qe(this,Ye,Sr).call(this):oe(this,vt,!1)};var l=ce;try{Ve(null),o=!0,n?.(t,i),o=!1}catch(c){On(c,L(this,Ct)&&L(this,Ct).parent)}finally{Ve(l)}r&&wn(()=>{oe(this,Et,qe(this,Ye,yr).call(this,()=>{oe(this,dn,!0);try{return Ue(()=>{r(L(this,it),()=>t,()=>i)})}catch(c){return On(c,L(this,Ct).parent),null}finally{oe(this,dn,!1)}}))})}}vt=new WeakMap,it=new WeakMap,ua=new WeakMap,kt=new WeakMap,cn=new WeakMap,Ct=new WeakMap,lt=new WeakMap,Ge=new WeakMap,Et=new WeakMap,jt=new WeakMap,un=new WeakMap,Vt=new WeakMap,dn=new WeakMap,qt=new WeakMap,Dr=new WeakMap,Ar=new WeakMap,Ye=new WeakSet,Si=function(){try{oe(this,lt,Ue(()=>L(this,cn).call(this,L(this,it))))}catch(t){this.error(t)}oe(this,vt,!1)},bi=function(){const t=L(this,kt).pending;t&&(oe(this,Ge,Ue(()=>t(L(this,it)))),Kt.enqueue(()=>{oe(this,lt,qe(this,Ye,yr).call(this,()=>(Kt.ensure(),Ue(()=>L(this,cn).call(this,L(this,it)))))),L(this,Vt)>0?qe(this,Ye,Sr).call(this):(Pt(L(this,Ge),()=>{oe(this,Ge,null)}),oe(this,vt,!1))}))},yr=function(t){var n=de,r=ce,a=be;dt(L(this,Ct)),Ve(L(this,Ct)),Xt(L(this,Ct).ctx);try{return t()}catch(o){return co(o),null}finally{dt(n),Ve(r),Xt(a)}},Sr=function(){const t=L(this,kt).pending;L(this,lt)!==null&&(oe(this,jt,document.createDocumentFragment()),ki(L(this,lt),L(this,jt))),L(this,Ge)===null&&oe(this,Ge,Ue(()=>t(L(this,it))))},aa=function(t){var n;if(!this.has_pending_snippet()){this.parent&&qe(n=this.parent,Ye,aa).call(n,t);return}oe(this,Vt,L(this,Vt)+t),L(this,Vt)===0&&(oe(this,vt,!1),L(this,Ge)&&Pt(L(this,Ge),()=>{oe(this,Ge,null)}),L(this,jt)&&(L(this,it).before(L(this,jt)),oe(this,jt,null)))};function ki(e,t){for(var n=e.nodes_start,r=e.nodes_end;n!==null;){var a=n===r?null:cr(n);t.append(n),n=a}}function Ci(e,t,n){const r=qn()?lr:Mr;if(t.length===0){n(e.map(r));return}var a=Ee,o=de,i=Ei();Promise.all(t.map(l=>Pi(l))).then(l=>{a?.activate(),i();try{n([...e.map(r),...l])}catch(c){(o.f&mn)===0&&On(c,o)}a?.deactivate(),go()}).catch(l=>{On(l,o)})}function Ei(){var e=de,t=ce,n=be,r=Ee;return function(){dt(e),Ve(t),Xt(n),r?.activate()}}function go(){dt(null),Ve(null),Xt(null)}function lr(e){var t=et|ut,n=ce!==null&&(ce.f&et)!==0?ce:null;return de===null||n!==null&&(n.f&ct)!==0?t|=ct:de.f|=jn,{ctx:be,deps:null,effects:null,equals:oo,f:t,fn:e,reactions:null,rv:0,v:Ne,wv:0,parent:n??de,ac:null}}function Pi(e,t){let n=de;n===null&&Us();var r=n.b,a=void 0,o=Lt(Ne),i=null,l=!ce;return Fi(()=>{try{var c=e();i&&Promise.resolve(c).catch(()=>{})}catch(g){c=Promise.reject(g)}var u=()=>c;a=i?.then(u,u)??Promise.resolve(c),i=a;var d=Ee,v=r.is_pending();l&&(r.update_pending_count(1),v||d.increment());const h=(g,f=void 0)=>{i=null,v||d.activate(),f?f!==ma&&(o.f|=fn,Tt(o,f)):((o.f&fn)!==0&&(o.f^=fn),Tt(o,g)),l&&(r.update_pending_count(-1),v||d.decrement()),go()};if(a.then(h,g=>h(null,g||"unknown")),d)return()=>{queueMicrotask(()=>d.neuter())}}),new Promise(c=>{function u(d){function v(){d===a?c(o):u(a)}d.then(v,v)}u(a)})}function R(e){const t=lr(e);return Ao(t),t}function Mr(e){const t=lr(e);return t.equals=so,t}function _o(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)$e(t[n])}}function xi(e){for(var t=e.parent;t!==null;){if((t.f&et)===0)return t;t=t.parent}return null}function wa(e){var t,n=de;dt(xi(e));try{_o(e),t=Bo(e)}finally{dt(n)}return t}function po(e){var t=wa(e);if(e.equals(t)||(e.v=t,e.wv=No()),!Sn){var n=(Yt||(e.f&ct)!==0)&&e.deps!==null?Qt:je;Ze(e,n)}}const Gt=new Map;function Lt(e,t){var n={f:0,v:e,reactions:null,equals:oo,rv:0,wv:0};return n}function z(e,t){const n=Lt(e);return Ao(n),n}function oa(e,t=!1,n=!0){var a;const r=Lt(e);return t||(r.equals=so),Vn&&n&&be!==null&&be.l!==null&&((a=be.l).s??(a.s=[])).push(r),r}function y(e,t,n=!1){ce!==null&&(!ht||(ce.f&Ma)!==0)&&qn()&&(ce.f&(et|Hn|pa|Ma))!==0&&!Nt?.includes(e)&&Zs();let r=n?Oe(t):t;return Tt(e,r)}function Tt(e,t){if(!e.equals(t)){var n=e.v;Sn?Gt.set(e,t):Gt.set(e,n),e.v=t;var r=Kt.ensure();r.capture(e,n),(e.f&et)!==0&&((e.f&ut)!==0&&wa(e),Ze(e,(e.f&ct)===0?je:Qt)),e.wv=No(),mo(e,ut),qn()&&de!==null&&(de.f&je)!==0&&(de.f&(Mt|pn))===0&&(st===null?Ui([e]):st.push(e))}return t}function $n(e){y(e,e.v+1)}function mo(e,t){var n=e.reactions;if(n!==null)for(var r=qn(),a=n.length,o=0;o<a;o++){var i=n[o],l=i.f;if(!(!r&&i===de)){var c=(l&ut)===0;c&&Ze(i,t),(l&et)!==0?mo(i,Qt):c&&((l&Hn)!==0&&an!==null&&an.push(i),Rn(i))}}}function Oe(e){if(typeof e!="object"||e===null||vn in e)return e;const t=va(e);if(t!==Ls&&t!==Bs)return e;var n=new Map,r=da(e),a=z(0),o=hn,i=l=>{if(hn===o)return l();var c=ce,u=hn;Ve(null),Ha(o);var d=l();return Ve(c),Ha(u),d};return r&&n.set("length",z(e.length)),new Proxy(e,{defineProperty(l,c,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&Ks();var d=n.get(c);return d===void 0?d=i(()=>{var v=z(u.value);return n.set(c,v),v}):y(d,u.value,!0),!0},deleteProperty(l,c){var u=n.get(c);if(u===void 0){if(c in l){const d=i(()=>z(Ne));n.set(c,d),$n(a)}}else y(u,Ne),$n(a);return!0},get(l,c,u){if(c===vn)return e;var d=n.get(c),v=c in l;if(d===void 0&&(!v||An(l,c)?.writable)&&(d=i(()=>{var g=Oe(v?l[c]:Ne),f=z(g);return f}),n.set(c,d)),d!==void 0){var h=s(d);return h===Ne?void 0:h}return Reflect.get(l,c,u)},getOwnPropertyDescriptor(l,c){var u=Reflect.getOwnPropertyDescriptor(l,c);if(u&&"value"in u){var d=n.get(c);d&&(u.value=s(d))}else if(u===void 0){var v=n.get(c),h=v?.v;if(v!==void 0&&h!==Ne)return{enumerable:!0,configurable:!0,value:h,writable:!0}}return u},has(l,c){if(c===vn)return!0;var u=n.get(c),d=u!==void 0&&u.v!==Ne||Reflect.has(l,c);if(u!==void 0||de!==null&&(!d||An(l,c)?.writable)){u===void 0&&(u=i(()=>{var h=d?Oe(l[c]):Ne,g=z(h);return g}),n.set(c,u));var v=s(u);if(v===Ne)return!1}return d},set(l,c,u,d){var v=n.get(c),h=c in l;if(r&&c==="length")for(var g=u;g<v.v;g+=1){var f=n.get(g+"");f!==void 0?y(f,Ne):g in l&&(f=i(()=>z(Ne)),n.set(g+"",f))}if(v===void 0)(!h||An(l,c)?.writable)&&(v=i(()=>z(void 0)),y(v,Oe(u)),n.set(c,v));else{h=v.v!==Ne;var _=i(()=>Oe(u));y(v,_)}var m=Reflect.getOwnPropertyDescriptor(l,c);if(m?.set&&m.set.call(d,u),!h){if(r&&typeof c=="string"){var b=n.get("length"),k=Number(c);Number.isInteger(k)&&k>=b.v&&y(b,k+1)}$n(a)}return!0},ownKeys(l){s(a);var c=Reflect.ownKeys(l).filter(v=>{var h=n.get(v);return h===void 0||h.v!==Ne});for(var[u,d]of n)d.v!==Ne&&!(u in l)&&c.push(u);return c},setPrototypeOf(){Gs()}})}var Oa,wo,yo,So;function Di(){if(Oa===void 0){Oa=window,wo=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;yo=An(t,"firstChild").get,So=An(t,"nextSibling").get,Ba(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Ba(n)&&(n.__t=void 0)}}function yn(e=""){return document.createTextNode(e)}function Fn(e){return yo.call(e)}function cr(e){return So.call(e)}function A(e,t){return Fn(e)}function M(e,t=!1){{var n=Fn(e);return n instanceof Comment&&n.data===""?cr(n):n}}function U(e,t=1,n=!1){let r=e;for(;t--;)r=cr(r);return r}function Ai(e){e.textContent=""}function ya(){return!1}let Ra=!1;function Ti(){Ra||(Ra=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function Ir(e){var t=ce,n=de;Ve(null),dt(null);try{return e()}finally{Ve(t),dt(n)}}function Ni(e,t,n,r=n){e.addEventListener(t,()=>Ir(n));const a=e.__on_r;a?e.__on_r=()=>{a(),r(!0)}:e.__on_r=()=>r(!0),Ti()}function bo(e){de===null&&ce===null&&qs(),ce!==null&&(ce.f&ct)!==0&&de===null&&Vs(),Sn&&js()}function Li(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function At(e,t,n,r=!0){var a=de;a!==null&&(a.f&gt)!==0&&(e|=gt);var o={ctx:be,deps:null,nodes_start:null,nodes_end:null,f:e|ut,first:null,fn:t,last:null,next:null,parent:a,b:a&&a.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{Ln(o),o.f|=_a}catch(c){throw $e(o),c}else t!==null&&Rn(o);if(r){var i=o;if(n&&i.deps===null&&i.teardown===null&&i.nodes_start===null&&i.first===i.last&&(i.f&jn)===0&&(i=i.first),i!==null&&(i.parent=a,a!==null&&Li(i,a),ce!==null&&(ce.f&et)!==0&&(e&pn)===0)){var l=ce;(l.effects??(l.effects=[])).push(i)}}return o}function Bi(){return ce!==null&&!ht}function Mi(e){const t=At(Tr,null,!1);return Ze(t,je),t.teardown=e,t}function Le(e){bo();var t=de.f,n=!ce&&(t&Mt)!==0&&(t&_a)===0;if(n){var r=be;(r.e??(r.e=[])).push(e)}else return ko(e)}function ko(e){return At(ha|no,e,!1)}function Ii(e){return bo(),At(Tr|no,e,!0)}function Oi(e){Kt.ensure();const t=At(pn|jn,e,!0);return(n={})=>new Promise(r=>{n.outro?Pt(t,()=>{$e(t),r(void 0)}):($e(t),r(void 0))})}function Ri(e){return At(ha,e,!1)}function Fi(e){return At(pa|jn,e,!0)}function Or(e,t=0){return At(Tr|t,e,!0)}function ue(e,t=[],n=[]){Ci(t,n,r=>{At(Tr,()=>e(...r.map(s)),!0)})}function Wn(e,t=0){var n=At(Hn|t,e,!0);return n}function Ue(e,t=!0){return At(Mt|jn,e,!0,t)}function Co(e){var t=e.teardown;if(t!==null){const n=Sn,r=ce;za(!0),Ve(null);try{t.call(null)}finally{za(n),Ve(r)}}}function Eo(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const a=n.ac;a!==null&&Ir(()=>{a.abort(ma)});var r=n.next;(n.f&pn)!==0?n.parent=null:$e(n,t),n=r}}function zi(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&Mt)===0&&$e(t),t=n}}function $e(e,t=!0){var n=!1;(t||(e.f&Fs)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(Hi(e.nodes_start,e.nodes_end),n=!0),Eo(e,t&&!n),Pr(e,0),Ze(e,mn);var r=e.transitions;if(r!==null)for(const o of r)o.stop();Co(e);var a=e.parent;a!==null&&a.first!==null&&Po(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function Hi(e,t){for(;e!==null;){var n=e===t?null:cr(e);e.remove(),e=n}}function Po(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function Pt(e,t){var n=[];Sa(e,n,!0),xo(n,()=>{$e(e),t&&t()})}function xo(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var a of e)a.out(r)}else t()}function Sa(e,t,n){if((e.f&gt)===0){if(e.f^=gt,e.transitions!==null)for(const i of e.transitions)(i.is_global||n)&&t.push(i);for(var r=e.first;r!==null;){var a=r.next,o=(r.f&Un)!==0||(r.f&Mt)!==0;Sa(r,t,o?n:!1),r=a}}}function Tn(e){Do(e,!0)}function Do(e,t){if((e.f&gt)!==0){e.f^=gt,(e.f&je)===0&&(Ze(e,ut),Rn(e));for(var n=e.first;n!==null;){var r=n.next,a=(n.f&Un)!==0||(n.f&Mt)!==0;Do(n,a?t:!1),n=r}if(e.transitions!==null)for(const o of e.transitions)(o.is_global||t)&&o.in()}}let Nn=!1;function Fa(e){Nn=e}let Sn=!1;function za(e){Sn=e}let ce=null,ht=!1;function Ve(e){ce=e}let de=null;function dt(e){de=e}let Nt=null;function Ao(e){ce!==null&&(Nt===null?Nt=[e]:Nt.push(e))}let We=null,Je=0,st=null;function Ui(e){st=e}let To=1,tr=0,hn=tr;function Ha(e){hn=e}let Yt=!1;function No(){return++To}function Rr(e){var t=e.f;if((t&ut)!==0)return!0;if((t&Qt)!==0){var n=e.deps,r=(t&ct)!==0;if(n!==null){var a,o,i=(t&Cr)!==0,l=r&&de!==null&&!Yt,c=n.length;if((i||l)&&(de===null||(de.f&mn)===0)){var u=e,d=u.parent;for(a=0;a<c;a++)o=n[a],(i||!o?.reactions?.includes(u))&&(o.reactions??(o.reactions=[])).push(u);i&&(u.f^=Cr),l&&d!==null&&(d.f&ct)===0&&(u.f^=ct)}for(a=0;a<c;a++)if(o=n[a],Rr(o)&&po(o),o.wv>e.wv)return!0}(!r||de!==null&&!Yt)&&Ze(e,je)}return!1}function Lo(e,t,n=!0){var r=e.reactions;if(r!==null&&!Nt?.includes(e))for(var a=0;a<r.length;a++){var o=r[a];(o.f&et)!==0?Lo(o,t,!1):t===o&&(n?Ze(o,ut):(o.f&je)!==0&&Ze(o,Qt),Rn(o))}}function Bo(e){var _;var t=We,n=Je,r=st,a=ce,o=Yt,i=Nt,l=be,c=ht,u=hn,d=e.f;We=null,Je=0,st=null,Yt=(d&ct)!==0&&(ht||!Nn||ce===null),ce=(d&(Mt|pn))===0?e:null,Nt=null,Xt(e.ctx),ht=!1,hn=++tr,e.ac!==null&&(Ir(()=>{e.ac.abort(ma)}),e.ac=null);try{e.f|=ea;var v=e.fn,h=v(),g=e.deps;if(We!==null){var f;if(Pr(e,Je),g!==null&&Je>0)for(g.length=Je+We.length,f=0;f<We.length;f++)g[Je+f]=We[f];else e.deps=g=We;if(!Yt||(d&et)!==0&&e.reactions!==null)for(f=Je;f<g.length;f++)((_=g[f]).reactions??(_.reactions=[])).push(e)}else g!==null&&Je<g.length&&(Pr(e,Je),g.length=Je);if(qn()&&st!==null&&!ht&&g!==null&&(e.f&(et|Qt|ut))===0)for(f=0;f<st.length;f++)Lo(st[f],e);return a!==null&&a!==e&&(tr++,st!==null&&(r===null?r=st:r.push(...st))),(e.f&fn)!==0&&(e.f^=fn),h}catch(m){return co(m)}finally{e.f^=ea,We=t,Je=n,st=r,ce=a,Yt=o,Nt=i,Xt(l),ht=c,hn=u}}function ji(e,t){let n=t.reactions;if(n!==null){var r=Ns.call(n,e);if(r!==-1){var a=n.length-1;a===0?n=t.reactions=null:(n[r]=n[a],n.pop())}}n===null&&(t.f&et)!==0&&(We===null||!We.includes(t))&&(Ze(t,Qt),(t.f&(ct|Cr))===0&&(t.f^=Cr),_o(t),Pr(t,0))}function Pr(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)ji(e,n[r])}function Ln(e){var t=e.f;if((t&mn)===0){Ze(e,je);var n=de,r=Nn;de=e,Nn=!0;try{(t&Hn)!==0?zi(e):Eo(e),Co(e);var a=Bo(e);e.teardown=typeof a=="function"?a:null,e.wv=To;var o;eo&&ci&&(e.f&ut)!==0&&e.deps}finally{Nn=r,de=n}}}async function Mo(){await Promise.resolve(),vo()}function s(e){var t=e.f,n=(t&et)!==0;if(ce!==null&&!ht){var r=de!==null&&(de.f&mn)!==0;if(!r&&!Nt?.includes(e)){var a=ce.deps;if((ce.f&ea)!==0)e.rv<tr&&(e.rv=tr,We===null&&a!==null&&a[Je]===e?Je++:We===null?We=[e]:(!Yt||!We.includes(e))&&We.push(e));else{(ce.deps??(ce.deps=[])).push(e);var o=e.reactions;o===null?e.reactions=[ce]:o.includes(ce)||o.push(ce)}}}else if(n&&e.deps===null&&e.effects===null){var i=e,l=i.parent;l!==null&&(l.f&ct)===0&&(i.f^=ct)}if(Sn){if(Gt.has(e))return Gt.get(e);if(n){i=e;var c=i.v;return((i.f&je)===0&&i.reactions!==null||Io(i))&&(c=wa(i)),Gt.set(i,c),c}}else n&&(i=e,Rr(i)&&po(i));if((e.f&fn)!==0)throw e.v;return e.v}function Io(e){if(e.v===Ne)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(Gt.has(t)||(t.f&et)!==0&&Io(t))return!0;return!1}function xt(e){var t=ht;try{return ht=!0,e()}finally{ht=t}}const Vi=-7169;function Ze(e,t){e.f=e.f&Vi|t}function qi(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(vn in e)sa(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&vn in n&&sa(n)}}}function sa(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{sa(e[r],t)}catch{}const n=va(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=to(n);for(let a in r){const o=r[a].get;if(o)try{o.call(e)}catch{}}}}}const Wi=["touchstart","touchmove"];function Yi(e){return Wi.includes(e)}const Oo=new Set,ia=new Set;function Ki(e,t,n,r={}){function a(o){if(r.capture||Gn.call(t,o),!o.cancelBubble)return Ir(()=>n?.call(this,o))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?wn(()=>{t.addEventListener(e,a,r)}):t.addEventListener(e,a,r),a}function ba(e,t,n,r,a){var o={capture:r,passive:a},i=Ki(e,t,n,o);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&Mi(()=>{t.removeEventListener(e,i,o)})}function tt(e){for(var t=0;t<e.length;t++)Oo.add(e[t]);for(var n of ia)n(e)}let Ua=null;function Gn(e){var t=this,n=t.ownerDocument,r=e.type,a=e.composedPath?.()||[],o=a[0]||e.target;Ua=e;var i=0,l=Ua===e&&e.__root;if(l){var c=a.indexOf(l);if(c!==-1&&(t===document||t===window)){e.__root=t;return}var u=a.indexOf(t);if(u===-1)return;c<=u&&(i=c)}if(o=a[i]||e.target,o!==t){$r(e,"currentTarget",{configurable:!0,get(){return o||n}});var d=ce,v=de;Ve(null),dt(null);try{for(var h,g=[];o!==null;){var f=o.assignedSlot||o.parentNode||o.host||null;try{var _=o["__"+r];if(_!=null&&(!o.disabled||e.target===o))if(da(_)){var[m,...b]=_;m.apply(o,[e,...b])}else _.call(o,e)}catch(k){h?g.push(k):h=k}if(e.cancelBubble||f===t||f===null)break;o=f}if(h){for(let k of g)queueMicrotask(()=>{throw k});throw h}}finally{e.__root=t,delete e.currentTarget,Ve(d),dt(v)}}}function Ro(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function nr(e,t){var n=de;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function j(e,t){var n=(t&ai)!==0,r=(t&oi)!==0,a,o=!e.startsWith("<!>");return()=>{a===void 0&&(a=Ro(o?e:"<!>"+e),n||(a=Fn(a)));var i=r||wo?document.importNode(a,!0):a.cloneNode(!0);if(n){var l=Fn(i),c=i.lastChild;nr(l,c)}else nr(i,i);return i}}function Gi(e,t,n="svg"){var r=!e.startsWith("<!>"),a=`<${n}>${r?e:"<!>"+e}</${n}>`,o;return()=>{if(!o){var i=Ro(a),l=Fn(i);o=Fn(l)}var c=o.cloneNode(!0);return nr(c,c),c}}function Zi(e,t){return Gi(e,t,"svg")}function Te(e=""){{var t=yn(e+"");return nr(t,t),t}}function H(){var e=document.createDocumentFragment(),t=document.createComment(""),n=yn();return e.append(t,n),nr(t,n),e}function p(e,t){e!==null&&e.before(t)}function bd(){var e;return(e=window.__svelte??(window.__svelte={})).uid??(e.uid=1),`c${window.__svelte.uid++}`}function Zt(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function Xi(e,t){return Ji(e,t)}const Dn=new Map;function Ji(e,{target:t,anchor:n,props:r={},events:a,context:o,intro:i=!0}){Di();var l=new Set,c=v=>{for(var h=0;h<v.length;h++){var g=v[h];if(!l.has(g)){l.add(g);var f=Yi(g);t.addEventListener(g,Gn,{passive:f});var _=Dn.get(g);_===void 0?(document.addEventListener(g,Gn,{passive:f}),Dn.set(g,1)):Dn.set(g,_+1)}}};c(fa(Oo)),ia.add(c);var u=void 0,d=Oi(()=>{var v=n??t.appendChild(yn());return wi(v,{pending:()=>{}},h=>{if(o){X({});var g=be;g.c=o}a&&(r.$$events=a),u=e(h,r)||{},o&&J()}),()=>{for(var h of l){t.removeEventListener(h,Gn);var g=Dn.get(h);--g===0?(document.removeEventListener(h,Gn),Dn.delete(h)):Dn.set(h,g)}ia.delete(c),v!==n&&v.parentNode?.removeChild(v)}});return Qi.set(u,d),u}let Qi=new WeakMap;const Kr=0,gr=1,Gr=2;function Fo(e,t,n,r,a){var o=e,i=qn(),l=be,c=Ne,u,d,v,h=i?Lt(void 0):oa(void 0,!1,!1),g=i?Lt(void 0):oa(void 0,!1,!1),f=!1;function _(b,k){f=!0,k&&(dt(m),Ve(m),Xt(l));try{b===Kr&&n&&(u?Tn(u):u=Ue(()=>n(o))),b===gr&&r&&(d?Tn(d):d=Ue(()=>r(o,h))),b===Gr&&a&&(v?Tn(v):v=Ue(()=>a(o,g))),b!==Kr&&u&&Pt(u,()=>u=null),b!==gr&&d&&Pt(d,()=>d=null),b!==Gr&&v&&Pt(v,()=>v=null)}finally{k&&(Xt(null),Ve(null),dt(null),vo())}}var m=Wn(()=>{if(c!==(c=t())){if(Ms(c)){var b=c;f=!1,b.then(k=>{b===c&&(Tt(h,k),_(gr,!0))},k=>{if(b===c&&(Tt(g,k),_(Gr,!0),!a))throw g.v}),wn(()=>{f||_(Kr,!0)})}else Tt(h,c),_(gr,!1);return()=>c=Ne}})}function q(e,t,n=!1){var r=e,a=null,o=null,i=Ne,l=n?Un:0,c=!1;const u=(g,f=!0)=>{c=!0,h(f,g)};var d=null;function v(){d!==null&&(d.lastChild.remove(),r.before(d),d=null);var g=i?a:o,f=i?o:a;g&&Tn(g),f&&Pt(f,()=>{i?o=null:a=null})}const h=(g,f)=>{if(i!==(i=g)){var _=ya(),m=r;if(_&&(d=document.createDocumentFragment(),d.append(m=yn())),i?a??(a=f&&Ue(()=>f(m))):o??(o=f&&Ue(()=>f(m))),_){var b=Ee,k=i?a:o,w=i?o:a;k&&b.skipped_effects.delete(k),w&&b.skipped_effects.add(w),b.add_callback(v)}else v()}};Wn(()=>{c=!1,t(u),c||h(null,null)},l)}function ye(e,t){Or(()=>{var n=t();for(var r in n){var a=n[r];a?e.style.setProperty(r,a):e.style.removeProperty(r)}})}function $i(e,t,n){for(var r=e.items,a=[],o=t.length,i=0;i<o;i++)Sa(t[i].e,a,!0);var l=o>0&&a.length===0&&n!==null;if(l){var c=n.parentNode;Ai(c),c.append(n),r.clear(),bt(e,t[0].prev,t[o-1].next)}xo(a,()=>{for(var u=0;u<o;u++){var d=t[u];l||(r.delete(d.k),bt(e,d.prev,d.next)),$e(d.e,!l)}})}function Fr(e,t,n,r,a,o=null){var i=e,l={flags:t,items:new Map,first:null},c=(t&ao)!==0;if(c){var u=e;i=u.appendChild(yn())}var d=null,v=!1,h=new Map,g=Mr(()=>{var b=n();return da(b)?b:b==null?[]:fa(b)}),f,_;function m(){el(_,f,l,h,i,a,t,r,n),o!==null&&(f.length===0?d?Tn(d):d=Ue(()=>o(i)):d!==null&&Pt(d,()=>{d=null}))}Wn(()=>{_??(_=de),f=s(g);var b=f.length;if(!(v&&b===0)){v=b===0;var k,w,P,B;if(ya()){var C=new Set,x=Ee;for(w=0;w<b;w+=1){P=f[w],B=r(P,w);var N=l.items.get(B)??h.get(B);N?(t&(Nr|Lr))!==0&&zo(N,P,w,t):(k=Ho(null,l,null,null,P,B,w,a,t,n,!0),h.set(B,k)),C.add(B)}for(const[O,$]of l.items)C.has(O)||x.skipped_effects.add($.e);x.add_callback(m)}else m();s(g)}})}function el(e,t,n,r,a,o,i,l,c){var u=(i&Js)!==0,d=(i&(Nr|Lr))!==0,v=t.length,h=n.items,g=n.first,f=g,_,m=null,b,k=[],w=[],P,B,C,x;if(u)for(x=0;x<v;x+=1)P=t[x],B=l(P,x),C=h.get(B),C!==void 0&&(C.a?.measure(),(b??(b=new Set)).add(C));for(x=0;x<v;x+=1){if(P=t[x],B=l(P,x),C=h.get(B),C===void 0){var N=r.get(B);if(N!==void 0){r.delete(B),h.set(B,N);var O=m?m.next:f;bt(n,m,N),bt(n,N,O),Zr(N,O,a),m=N}else{var $=f?f.e.nodes_start:a;m=Ho($,n,m,m===null?n.first:m.next,P,B,x,o,i,c)}h.set(B,m),k=[],w=[],f=m.next;continue}if(d&&zo(C,P,x,i),(C.e.f&gt)!==0&&(Tn(C.e),u&&(C.a?.unfix(),(b??(b=new Set)).delete(C))),C!==f){if(_!==void 0&&_.has(C)){if(k.length<w.length){var he=w[0],le;m=he.prev;var ne=k[0],V=k[k.length-1];for(le=0;le<k.length;le+=1)Zr(k[le],he,a);for(le=0;le<w.length;le+=1)_.delete(w[le]);bt(n,ne.prev,V.next),bt(n,m,ne),bt(n,V,he),f=he,m=V,x-=1,k=[],w=[]}else _.delete(C),Zr(C,f,a),bt(n,C.prev,C.next),bt(n,C,m===null?n.first:m.next),bt(n,m,C),m=C;continue}for(k=[],w=[];f!==null&&f.k!==B;)(f.e.f&gt)===0&&(_??(_=new Set)).add(f),w.push(f),f=f.next;if(f===null)continue;C=f}k.push(C),m=C,f=C.next}if(f!==null||_!==void 0){for(var Z=_===void 0?[]:fa(_);f!==null;)(f.e.f&gt)===0&&Z.push(f),f=f.next;var re=Z.length;if(re>0){var F=(i&ao)!==0&&v===0?a:null;if(u){for(x=0;x<re;x+=1)Z[x].a?.measure();for(x=0;x<re;x+=1)Z[x].a?.fix()}$i(n,Z,F)}}u&&wn(()=>{if(b!==void 0)for(C of b)C.a?.apply()}),e.first=n.first&&n.first.e,e.last=m&&m.e;for(var se of r.values())$e(se.e);r.clear()}function zo(e,t,n,r){(r&Nr)!==0&&Tt(e.v,t),(r&Lr)!==0?Tt(e.i,n):e.i=n}function Ho(e,t,n,r,a,o,i,l,c,u,d){var v=(c&Nr)!==0,h=(c&Qs)===0,g=v?h?oa(a,!1,!1):Lt(a):a,f=(c&Lr)===0?i:Lt(i),_={i:f,v:g,k:o,a:null,e:null,prev:n,next:r};try{if(e===null){var m=document.createDocumentFragment();m.append(e=yn())}return _.e=Ue(()=>l(e,g,f,u),ii),_.e.prev=n&&n.e,_.e.next=r&&r.e,n===null?d||(t.first=_):(n.next=_,n.e.next=_.e),r!==null&&(r.prev=_,r.e.prev=_.e),_}finally{}}function Zr(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,a=t?t.e.nodes_start:n,o=e.e.nodes_start;o!==null&&o!==r;){var i=cr(o);a.before(o),o=i}}function bt(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function ve(e,t,...n){var r=e,a=we,o;Wn(()=>{a!==(a=t())&&(o&&($e(o),o=null),o=Ue(()=>a(r,...n)))},Un)}function Uo(e,t,n){var r=e,a,o,i=null,l=null;function c(){o&&(Pt(o),o=null),i&&(i.lastChild.remove(),r.before(i),i=null),o=l,l=null}Wn(()=>{if(a!==(a=t())){var u=ya();if(a){var d=r;u&&(i=document.createDocumentFragment(),i.append(d=yn()),o&&Ee.skipped_effects.add(o)),l=Ue(()=>n(d,a))}u?Ee.add_callback(c):c()}},Un)}function jo(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=jo(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function tl(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=jo(e))&&(r&&(r+=" "),r+=t);return r}function pe(e){return typeof e=="object"?tl(e):e??""}const ja=[...` 	
\r\f \v\uFEFF`];function nl(e,t,n){var r=e==null?"":""+e;if(t&&(r=r?r+" "+t:t),n){for(var a in n)if(n[a])r=r?r+" "+a:a;else if(r.length)for(var o=a.length,i=0;(i=r.indexOf(a,i))>=0;){var l=i+o;(i===0||ja.includes(r[i-1]))&&(l===r.length||ja.includes(r[l]))?r=(i===0?"":r.substring(0,i))+r.substring(l+1):i=l}}return r===""?null:r}function rl(e,t){return e==null?null:String(e)}function me(e,t,n,r,a,o){var i=e.__className;if(i!==n||i===void 0){var l=nl(n,r,o);l==null?e.removeAttribute("class"):e.className=l,e.__className=n}else if(o&&a!==o)for(var c in o){var u=!!o[c];(a==null||u!==!!a[c])&&e.classList.toggle(c,u)}return o}function zn(e,t,n,r){var a=e.__style;if(a!==t){var o=rl(t);o==null?e.removeAttribute("style"):e.style.cssText=o,e.__style=t}return r}const al=Symbol("is custom element"),ol=Symbol("is html");function kd(e,t){var n=ka(e);n.value===(n.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function Cd(e,t){var n=ka(e);n.checked!==(n.checked=t??void 0)&&(e.checked=t)}function De(e,t,n,r){var a=ka(e);a[t]!==(a[t]=n)&&(t==="loading"&&(e[Hs]=n),n==null?e.removeAttribute(t):typeof n!="string"&&sl(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function ka(e){return e.__attributes??(e.__attributes={[al]:e.nodeName.includes("-"),[ol]:e.namespaceURI===si})}var Va=new Map;function sl(e){var t=e.getAttribute("is")||e.nodeName,n=Va.get(t);if(n)return n;Va.set(t,n=[]);for(var r,a=e,o=Element.prototype;o!==a;){r=to(a);for(var i in r)r[i].set&&n.push(i);a=va(a)}return n}function il(e,t,n=t){var r=new WeakSet;Ni(e,"input",async a=>{var o=a?e.defaultValue:e.value;if(o=Xr(e)?Jr(o):o,n(o),Ee!==null&&r.add(Ee),await Mo(),o!==(o=t())){var i=e.selectionStart,l=e.selectionEnd;e.value=o??"",l!==null&&(e.selectionStart=i,e.selectionEnd=Math.min(l,e.value.length))}}),xt(t)==null&&e.value&&(n(Xr(e)?Jr(e.value):e.value),Ee!==null&&r.add(Ee)),Or(()=>{var a=t();if(e===document.activeElement){var o=mr??Ee;if(r.has(o))return}Xr(e)&&a===Jr(e.value)||e.type==="date"&&!a&&!e.value||a!==e.value&&(e.value=a??"")})}function Xr(e){var t=e.type;return t==="number"||t==="range"}function Jr(e){return e===""?null:+e}function qa(e,t){return e===t||e?.[vn]===t}function Dt(e={},t,n,r){return Ri(()=>{var a,o;return Or(()=>{a=o,o=[],xt(()=>{e!==n(...o)&&(t(e,...o),a&&qa(n(...a),e)&&t(null,...a))})}),()=>{wn(()=>{o&&qa(n(...o),e)&&t(null,...o)})}}),e}function Vo(e=!1){const t=be,n=t.l.u;if(!n)return;let r=()=>qi(t.s);if(e){let a=0,o={};const i=lr(()=>{let l=!1;const c=t.s;for(const u in c)c[u]!==o[u]&&(o[u]=c[u],l=!0);return l&&a++,a});r=()=>s(i)}n.b.length&&Ii(()=>{Wa(t,r),kr(n.b)}),Le(()=>{const a=xt(()=>n.m.map(Is));return()=>{for(const o of a)typeof o=="function"&&o()}}),n.a.length&&Le(()=>{Wa(t,r),kr(n.a)})}function Wa(e,t){if(e.l.s)for(const n of e.l.s)s(n);t()}let _r=!1;function ll(e){var t=_r;try{return _r=!1,[e(),_r]}finally{_r=t}}function ie(e,t,n,r){var a=!Vn||(n&ei)!==0,o=(n&ni)!==0,i=(n&ri)!==0,l=r,c=!0,u=()=>(c&&(c=!1,l=i?xt(r):r),l),d;if(o){var v=vn in e||zs in e;d=An(e,t)?.set??(v&&t in e?w=>e[t]=w:void 0)}var h,g=!1;o?[h,g]=ll(()=>e[t]):h=e[t],h===void 0&&r!==void 0&&(h=u(),d&&(a&&Ys(),d(h)));var f;if(a?f=()=>{var w=e[t];return w===void 0?u():(c=!0,w)}:f=()=>{var w=e[t];return w!==void 0&&(l=void 0),w===void 0?l:w},a&&(n&ti)===0)return f;if(d){var _=e.$$legacy;return(function(w,P){return arguments.length>0?((!a||!P||_||g)&&d(P?f():w),w):f()})}var m=!1,b=((n&$s)!==0?lr:Mr)(()=>(m=!1,f()));o&&s(b);var k=de;return(function(w,P){if(arguments.length>0){const B=P?s(b):a&&o?Oe(w):w;return y(b,B),m=!0,l!==void 0&&(l=B),w}return Sn&&m||(k.f&mn)!==0?b.v:s(b)})}function Pe(e){be===null&&ro(),Vn&&be.l!==null?cl(be).m.push(e):Le(()=>{const t=xt(e);if(typeof t=="function")return t})}function cl(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const ul="5";var $a;typeof window<"u"&&(($a=window.__svelte??(window.__svelte={})).v??($a.v=new Set)).add(ul);ui();const qo={};function dl(e){Me(qo,e)}function Wo(){const e=Be(qo);if(!e)throw new Error("No SearchContext found");return e}const Yo={};function fl(e){Me(Yo,e)}function pt(){const e=Be(Yo);if(!e)throw new Error("No AppHistoryContext found");return e}function vl(e,t){X(t,!0);const{replace:n,getAppHistory:r}=pt(),a=R(r),o="search",i=Oe({value:new URLSearchParams(r().search).get(o)||""}),l=d=>{const v=new URLSearchParams(s(a).search),h=s(a).pathname;(v.get(o)||"")!==d&&(d===""?v.delete(o):v.set(o,d),n(`${h}${v.size>0?`?${v.toString()}`:""}`))};Le(()=>{const d=i.value;xt(()=>{l(d)})}),dl(i);var c=H(),u=M(c);ve(u,()=>t.children??we),p(e,c),J()}const Ko={};function hl(e){Me(Ko,e)}function Go(){const e=Be(Ko);if(!e)throw new Error("No TagSearchContext found");return e}function gl(e,t){X(t,!0);const n=Oe({value:""});hl(n);var r=H(),a=M(r);ve(a,()=>t.children??we),p(e,r),J()}const Zo={};function _l(e){Me(Zo,e)}function Xo(){const e=Be(Zo);if(!e)throw new Error("No FeedOrderContext found");return e}function pl(e,t){X(t,!0);const{navigate:n,getAppHistory:r}=pt(),a=R(r),o="feedOrder";let i=z(Oe(new URLSearchParams(r().search).get(o)||"newest"));_l({getFeedOrder:()=>s(i),setFeedOrder:v=>{y(i,v,!0);const h=new URLSearchParams(s(a).search);v==="newest"?h.delete(o):h.set(o,v),n(`${s(a).pathname}${h.size>0?`?${h.toString()}`:""}`)}});var u=H(),d=M(u);ve(d,()=>t.children??we),p(e,u),J()}const Jo={};function ml(e){Me(Jo,e)}function zr(){const e=Be(Jo);if(!e)throw new Error("No SidebarContext found");return e}function wl(e,t){X(t,!0);const n=(d,v)=>{if(!v)return d;if(v.type==="closed")return{type:"closed"};switch(d.type){case"opened":return v.type==="close"?{type:"closing"}:v.type==="swipe"?{type:"openSwiping"}:d;case"closed":return v.type==="open"?{type:"opening"}:v.type==="swipe"?{type:"closeSwiping"}:d;case"openSwiping":return v.type==="open"?{type:"opening"}:v.type==="close"?{type:"closing"}:d;case"closeSwiping":return v.type==="open"?{type:"opening"}:v.type==="close"?{type:"closing"}:d;case"opening":return v.type==="opened"?{type:"opened"}:d;default:return d}};let r=z(Oe(n({type:"closed"})));const a=d=>{y(r,n(s(r),d),!0)};ml({sidebarOpen:()=>{a({type:"open"})},sidebarClose:()=>{a({type:"close"})},handleComputeState:a,getSidebarState:()=>s(r)});var c=H(),u=M(c);ve(u,()=>t.children??we),p(e,c),J()}const Qo={};function yl(e){Me(Qo,e)}function $o(){const e=Be(Qo);if(!e)throw new Error("No SelectedTagsContext found");return e}const es=(e,t)=>{let n=null;return()=>{n&&clearTimeout(n),n=setTimeout(()=>{n=null,e()},t)}};async function Sl(){if(navigator.storage&&navigator.storage.persist)try{await navigator.storage.persisted()||await navigator.storage.persist()}catch{}}const bl=(e,t)=>{if(e.size!==t.size)return!0;for(const n of e)if(!t.has(n))return!0;return!1};function kl(e,t){X(t,!0);const{getAppHistory:n,replace:r}=pt(),a=R(n),o=R(()=>n().search),i="selectedTags",l=()=>new Set(new URLSearchParams(n().search).get(i)?.split(",")||[]);let c=z(Oe(l()));const u=()=>{const _=l();if(bl(_,s(c))){const m=new URLSearchParams(s(a).search),b=s(a).pathname;s(c).size===0?m.delete(i):m.set(i,Array.from(s(c)).join(",")),r(`${b}${m.size>0?`?${m.toString()}`:""}`)}};Le(()=>{s(o),s(c),xt(()=>{u()})}),yl({getSelectedTags:()=>s(c),addTag:_=>{s(c).has(_)||y(c,new Set([...s(c),_]),!0)},removeTag:_=>{const m=new Set(s(c));m.delete(_),y(c,m,!0)}});var g=H(),f=M(g);ve(f,()=>t.children??we),p(e,g),J()}const ts={};function Cl(e){Me(ts,e)}function Ca(){const e=Be(ts);if(!e)throw new Error("No LocalDBContext found");return e}const ns={};function El(e){Me(ns,e)}function Pl(){const e=Be(ns);if(!e)throw new Error("No SettingsContext found");return e}const rs={};function xl(e){Me(rs,e)}function Hr(){const e=Be(rs);if(!e)throw new Error("No BroadcastContext found");return e}const Dl="AppStorage",Al=1,Zn="account",br="settings",yt="notes",St="tags",Tl="syncLog",$t="success",en="error",Re=(e,t,n)=>{e?.addEventListener(t,n)},Ya=(e,t)=>new Promise((n,r)=>{const o=e?.transaction(t,"readonly")?.objectStore(t).getAll();Re(o,$t,()=>{const i=o?.result||[];n(i)}),Re(o,en,i=>{r(i)})}),la=(e,t,n)=>new Promise((r,a)=>{const i=e?.transaction(t,"readonly")?.objectStore(t).get(n);Re(i,$t,()=>{const l=i?.result?.data;r(l)}),Re(i,en,l=>{a(l)})}),er=(e,t,n,r)=>new Promise((a,o)=>{const c=e?.transaction(t,"readwrite")?.objectStore(t)?.put({id:n,data:r});Re(c,$t,()=>{a()}),Re(c,en,u=>{o(u)})}),Qr=async(e,t,n)=>{const a=e?.transaction(t,"readwrite")?.objectStore(t);await Promise.all(n.map(o=>{const i=a?.put(o);return new Promise((l,c)=>{Re(i,$t,()=>{l()}),Re(i,en,u=>{c(u)})})}))},Nl=(e,t,n)=>new Promise((r,a)=>{const l=e?.transaction(t,"readwrite")?.objectStore(t)?.delete(n);Re(l,$t,()=>{r()}),Re(l,en,c=>{a(c)})}),pr=async(e,t,n)=>{const a=e?.transaction(t,"readwrite")?.objectStore(t);await Promise.all(n.map(o=>{const i=a?.delete(o);return new Promise((l,c)=>{Re(i,$t,()=>{l()}),Re(i,en,u=>{c(u)})})}))},on=(e,t)=>new Promise((n,r)=>{const i=e?.transaction(t,"readwrite")?.objectStore(t)?.clear();Re(i,$t,()=>{n()}),Re(i,en,l=>{r(l)})});function Ll(e,t){X(t,!0);let n=z(Oe({showFavicon:!1}));const{getDB:r}=Ca(),{createBroadcastChannel:a,tabId:o}=Hr(),i=a(),l=R(r),c=async()=>{const _=await la(s(l),br,"default");_&&y(n,_,!0)},u=async()=>{c()},d=async _=>{const m=JSON.parse(_.data),b=m;if(m.tabId&&m.tabId===o){b.type==="exit"&&(y(n,{showFavicon:!1},!0),on(s(l),br));return}b.type==="updateSettings"?c():b.type==="exit"&&y(n,{showFavicon:!1},!0)},v=()=>s(n).showFavicon,h=async _=>{s(n).showFavicon=_,await er(s(l),br,"default",{showFavicon:_}),i.postMessage({type:"updateSettings"})};Pe(()=>(u(),i.addEventListener(d),()=>{i.removeEventListener(d)})),El({getFaviconEnabled:v,setFaviconShown:h});var g=H(),f=M(g);ve(f,()=>t.children??we),p(e,g),J()}const as={};function Bl(e){Me(as,e)}function Ea(){const e=Be(as);if(!e)throw new Error("No AccountContext found");return e}function Ml(e,t){X(t,!0);let n=z(void 0);const{getDB:r}=Ca(),{createBroadcastChannel:a,tabId:o}=Hr(),i=R(r),l=a(),c=async()=>{const w=await la(s(i),Zn,"default");y(n,w,!0)},u=w=>er(s(i),Zn,"default",w),d=async w=>{const P=await la(s(i),Zn,"default");P!==void 0&&y(n,P,!0),w(P)},v=async w=>{const P=JSON.parse(w.data);if(P.tabId&&P.tabId===o)return;const B=P;B.type==="initLocalAccount"?y(n,null):B.type==="initCloudAccount"?c():B.type==="disconnectCloudAccount"?y(n,null):B.type==="exit"?y(n,void 0):B.type==="updateAccount"&&c()};Pe(()=>(l.addEventListener(v),()=>{l.removeEventListener(v)})),Bl({init:d,getAccount:()=>s(n),initLocalAccount:async()=>{y(n,null),await u(null),l.postMessage({type:"initLocalAccount"})},initCloudAccount:async w=>{const P={encryptedClientKey:w.encryptedClientKey||"",subscriptionExpires:w.subscriptionExpires||-1,lastSync:-1};await u(P),y(n,P,!0),l.postMessage({type:"initCloudAccount"})},disconnectCloudAccount:async()=>{y(n,null),await u(null),l.postMessage({type:"disconnectCloudAccount"})},updateSubscription:async w=>{if(!s(n))throw new Error("No account to update subscription for");const P={...s(n),subscriptionExpires:w};await u(P),l.postMessage({type:"updateAccount"})},exitApp:async()=>{y(n,void 0),l.postMessage({type:"exit"}),await on(s(i),Zn)}});var b=H(),k=M(b);ve(k,()=>t.children??we),p(e,b),J()}const os={};function Il(e){Me(os,e)}function Ur(){const e=Be(os);if(!e)throw new Error("No NotesContext found");return e}const Ol=()=>crypto.randomUUID(),Rl=e=>{const t=new Map;for(const n of e||[])for(const r of n?.data.tags||[])t.set(r,{name:r,count:(t.get(r)?.count||0)+1});return t};function Fl(e,t){X(t,!0);const{getDB:n}=Ca(),{createBroadcastChannel:r,tabId:a}=Hr(),o=R(n),i=r(),l=720*60*60*1e3;let c=z(0),u=z(!1),d=z(()=>new Map),v=z(()=>[]),h=z(()=>new Map);const g=()=>s(u),f=()=>s(c)>0,_=()=>{s(c)>0&&y(c,s(c)-1)},m=E=>{const D=s(v)(),S=s(h)(),T={...E};D.push(T),S.set(T.id,T),y(v,()=>D),y(h,()=>S)},b=E=>{const D=s(v)(),S=s(h)(),T=S.get(E.id);T&&(T.data=E.data),y(v,()=>D),y(h,()=>S)},k=E=>{const D=s(v)(),S=s(h)(),T=S.get(E);S.has(E)&&S.delete(E),T?.data?.type==="draft"&&S.delete("draft"),T&&(T.data=void 0),y(v,()=>D),y(h,()=>S)},w=()=>{y(v,()=>[]),y(d,()=>new Map),y(h,()=>new Map)},P=()=>s(v),B=E=>{const D=s(d)();for(const S of E){const T=D.get(S);T?T.count++:D.set(S,{name:S,count:1})}y(d,()=>D)},C=E=>{const D=s(d)();for(const S of E){const T=D.get(S);T&&(T.count--,T.count<=0&&D.delete(S))}y(d,()=>D)},x=async()=>{const[E,D]=await Promise.all([Ya(s(o),yt),Ya(s(o),St).then(ae=>ae.reduce((Ce,xe)=>Ce.set(xe.name,xe),new Map))]),S=[],T=[],I=new Map;let ee=0;for(const ae of E)ae.data.deletedAt&&Date.now()-ae.data.deletedAt>l?S.push(ae.id):(T.push(ae),I.set(ae.id,ae),ae.data.deletedAt&&(ee+=1),ae.data.type==="draft"&&I.set("draft",ae));y(c,ee,!0);const te=Rl(T),_e=new Map;te.entries().forEach(([ae,Ce])=>{const xe=D.get(ae);_e.set(ae,{...xe,...Ce})}),await pr(s(o),yt,S),await on(s(o),St),await Qr(s(o),St,Array.from(_e.values()).map(ae=>({id:ae.name,data:{pinned:ae.pinned}}))),y(v,()=>T),y(h,()=>I),y(d,()=>_e),y(u,!0)},N=async()=>{const E=s(h)(),D=E.get("draft");if(D)return D;const S={id:Ol(),data:{type:"draft",url:"",name:"",text:"",tags:[],draft:{url:"",name:"",text:"",tags:[],createdAt:Date.now(),updatedAt:Date.now()},createdAt:Date.now(),updatedAt:Date.now()}};return await er(s(o),yt,S.id,{...S.data}),E.set("draft",S),m(S),i.postMessage({type:"createNoteDraft",data:{note:S}}),S},O=async E=>{const S=s(h)().get(E);if(!S||!S.data)return;const T=s(d)(),I=S.data.tags;C(I),k(E),i.postMessage({type:"deleteNote",data:{id:E}}),_(),await Nl(s(o),yt,E),await pr(s(o),St,I.filter(ee=>{const te=T.get(ee);return te?te.count<=1:!1}))},$=async(E,D)=>{const S={id:D.id,data:{...D.data}},T=s(d)(),I=D.data.tags.filter(te=>!E.data.tags.includes(te)),ee=E.data.tags.filter(te=>!D.data.tags.includes(te));await er(s(o),yt,S.id,{...S.data}),await Qr(s(o),St,I.filter(te=>!T.has(te)).map(te=>({id:te,data:{}}))),await pr(s(o),St,ee.filter(te=>{const _e=T.get(te);return _e?_e.count<=1:!1})),b(S),C(ee),B(I),i.postMessage({type:"updateNote",data:{note:S,tagsToAdd:I,tagsToDelete:ee}})},he=async E=>{const D=s(h)(),S=ne(E);if(!S||!S.data)return;const T=D.get("draft");T&&T.id===S.id&&D.delete("draft");const I={id:E,data:{type:"note",name:S.data.draft?.name??S.data.name,url:S.data.draft?.url??S.data.url,text:S.data.draft?.text??S.data.text,tags:S.data.draft?.tags??S.data.tags,updatedAt:Date.now(),createdAt:S.data.createdAt,pinnedAt:S.data.pinnedAt,deletedAt:S.data.deletedAt,draft:void 0}};return $(S,I)},le=async()=>{w(),i.postMessage({type:"clearNotes"}),await on(s(o),yt),await on(s(o),St)},ne=E=>{const D=s(h)();return E?D.get(E):D.get("draft")},V=async(E,D)=>{const T=s(h)().get(E);if(!T||!T.data)return;const I={id:E,data:{...T.data,pinnedAt:D?Date.now():void 0}};return $(T,I)},Z=async E=>{const S=s(h)().get(E);if(!S||!S.data)return;const T={id:E,data:{...S.data,deletedAt:Date.now()}};y(c,s(c)+1),await $(S,T)},re=async E=>{const S=s(h)().get(E);if(!S||!S.data)return;const T={id:E,data:{...S.data,deletedAt:0}};_(),await $(S,T)},F=async(E,D)=>{const S=s(d)();S.set(E,{name:E,count:S.get(E)?.count||0,pinned:D}),await er(s(o),St,E,{pinned:D}),i.postMessage({type:"pinTag",data:{tag:E,pinned:D}}),y(d,()=>S)},se=async E=>{const D=s(h)(),S={};E.forEach(T=>{const I=D.get(T.id);(!I||I&&I.data&&I.data.updatedAt<T.data.updatedAt)&&(S[T.id]=T)}),await Qr(s(o),yt,Object.values(S)),await x(),i.postMessage({type:"reloadNotes"})},K=async()=>{const E=[];s(v)().forEach(S=>{S&&S.data&&S.data.deletedAt&&E.push(S.id)}),y(c,0),await pr(s(o),yt,E),await x(),i.postMessage({type:"emptyBin"})},Y=async(E,D)=>{if(E===""){const ee=s(h)().get("draft");ee?E=ee.id:E=(await N()).id}const S=ne(E);if(!S||!S.data)return;const T={id:E,data:{...S.data,draft:{...D,tags:D.tags,createdAt:S.data.draft?.createdAt||Date.now(),updatedAt:Date.now()}}};return await $(S,T),S.id},G=async E=>{const D=s(h)(),S=ne(E);if(!S||!S.data||!S.data.draft)return;if(S.data.type==="draft"){E===D.get("draft")?.id&&D.delete("draft"),await O(E);return}const T={id:E,data:{...S.data,draft:void 0}};return $(S,T)},Q=async E=>{const D=JSON.parse(E.data),S=D;if(D.tabId&&D.tabId===a){S.type==="exit"&&(w(),await on(s(o),yt),await on(s(o),St));return}if(S.type==="createNoteDraft"){const T=S.data.note;s(h)().set("draft",T),m(T)}else if(S.type==="updateNote"){const T=S.data,ee=s(h)().get(T.note.id);if(!ee||!ee.data)return;ee.data.deletedAt&&!T.note.data.deletedAt?_():!ee.data.deletedAt&&T.note.data.deletedAt&&y(c,s(c)+1),b(T.note),C(T.tagsToAdd),B(T.tagsToDelete)}else if(S.type==="deleteNote"){const T=S.data.id,ee=s(h)().get(T);if(!ee)return;_(),k(T),C(ee?.data?.tags||[])}else if(S.type==="pinTag"){const T=S.data.tag,I=S.data.pinned,ee=s(d)(),te=ee.get(T);te&&(te.pinned=I,ee.set(T,te))}else S.type==="clearNotes"?w():S.type==="reloadNotes"||S.type==="emptyBin"?x():S.type==="exit"&&w()};Pe(()=>(x(),i.addEventListener(Q),()=>{i.removeEventListener(Q)})),Il({isInitedNotes:g,putNoteDraft:Y,deleteNoteDraft:G,deleteNote:O,pinNote:V,getGetNotes:P,importNotes:se,clearNotes:le,getNoteById:ne,getGetMapTags:()=>s(d),pinTag:F,moveNoteToBin:Z,restoreNoteFromBin:re,checkNotesInBin:f,emptyBin:K,saveNoteDraft:he,countNotesInBin:()=>s(c)});var fe=H(),Se=M(fe);ve(Se,()=>t.children??we),p(e,fe),J()}const ss={},zl=()=>({working:!1,swipingRatio:1,isSwiping:!1,duration:.35});function Hl(e){Me(ss,e)}function Yn(){const e=Be(ss);if(!e)throw new Error("No AnimationSettingsContext found");return e}function Ul(e,t){X(t,!0);let n=Oe(zl());Hl(n);var r=H(),a=M(r);ve(a,()=>t.children??we),p(e,r),J()}const is={};function jl(e){Me(is,e)}function ls(){const e=Be(is);if(!e)throw new Error("No ScrollingContext found");return e}function Vl(e,t){X(t,!0);let n=z(!1);const r=()=>s(n),a=es(()=>{y(n,!1)},100);jl({isScrolling:r,enable:()=>{y(n,!0),a()}});var i=H(),l=M(i);ve(l,()=>t.children??we),p(e,i),J()}const cs={};function ql(e){Me(cs,e)}function Kn(){const e=Be(cs);if(!e)throw new Error("No MobileSizeContext found");return e}function Wl(e,t){X(t,!0);const n=()=>window.matchMedia("(max-width: 767px)").matches;let r=z(Oe(n())),a=Yn();const o=es(()=>{a.working=!0},16),i=()=>{a.working=!1,o(),requestAnimationFrame(()=>{y(r,n(),!0)})};ql({checkMobileSize:()=>s(r)}),Pe(()=>(window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)));var c=H(),u=M(c);ve(u,()=>t.children??we),p(e,c),J()}const us={};function Yl(e){Me(us,e)}function ur(){const e=Be(us);if(!e)throw new Error("No DialogContext found");return e}function Kl(e,t){X(t,!0);let n=z(0),r=z(!1),a=z(!1);Yl({checkExistedDialog:()=>s(n)>0,showDialog:()=>{y(n,s(n)+1)},hideDialog:()=>{y(n,s(n)-1)},blockDialog:f=>{y(r,f,!0),f||y(a,!1)},checkBlockedDialog:()=>s(r),unBlockBackDialog:f=>{y(a,f,!0)},checkUnBlockedBackDialog:()=>s(a)});var h=H(),g=M(h);ve(g,()=>t.children??we),p(e,h),J()}const ds={};function Gl(e){Me(ds,e)}function Pa(){const e=Be(ds);if(!e)throw new Error("No ScrollContainerContext found");return e}function Zl(e,t){X(t,!0);let n=z(null);Gl({setScrollContainer:l=>{y(n,l,!0)},getScrollContainer:()=>s(n)});var o=H(),i=M(o);ve(i,()=>t.children??we),p(e,o),J()}const fs={};function Xl(e){Me(fs,e)}function xa(){const e=Be(fs);if(!e)throw new Error("No DialogPageHeightContext found");return e}function Jl(e,t){X(t,!0);let n=z(200);Xl({setDialogPageHeight:l=>{y(n,l,!0)},getDialogPageHeight:()=>s(n)});var o=H(),i=M(o);ve(i,()=>t.children??we),p(e,o),J()}const Ql=[Zn,br,yt,St,Tl];function $l(){return new Promise((e,t)=>{const n=indexedDB.open(Dl,Al);Re(n,"upgradeneeded",()=>{const r=n.result;for(const a of Ql)r.objectStoreNames.contains(a)||r.createObjectStore(a,{keyPath:"id"})}),Re(n,$t,()=>{const r=n.result;e(r),r.onversionchange=function(){r?.close(),alert("app outdated, please reload the page")}}),Re(n,"blocked",()=>{t(),alert("app outdated, please reload the page")}),Re(n,en,()=>{t()})})}function ec(e,t){X(t,!0);let n=z(null);Pe(()=>{$l().then(l=>{y(n,l,!0)})}),Cl({getDB:()=>s(n)});var a=H(),o=M(a);{var i=l=>{var c=H(),u=M(c);ve(u,()=>t.children??we),p(l,c)};q(o,l=>{s(n)&&l(i)})}p(e,a),J()}const vs={};function tc(e){Me(vs,e)}function Bt(){const e=Be(vs);if(!e)throw new Error("No StackPagesContext found");return e}function nc(e,t){X(t,!0);const{getAppHistory:n,navigate:r}=pt(),a=()=>new URLSearchParams(n().search).get("stackPages")?.split(",")||[];let o=z(Oe(a()));const i=m=>{const b=a();if(!b.includes(m)){b.push(m);const k=new URLSearchParams(n().search);k.set("stackPages",b.join(",")),y(o,b,!0),r(`${n().pathname}?${k.toString()}`)}};tc({pushStackPages:i,hasStackPage:m=>a().includes(m),updateStackPages:()=>{y(o,a(),!0)},popStackPages:()=>{const m=s(o).slice(0,-1);y(o,m,!0)},getStackPages:()=>{const m=a();return m.length>=s(o).length?m.reduce((b,k)=>[...b,{page:k,shown:!0}],[]):s(o).reduce((b,k,w)=>[...b,{page:k,shown:m.length===0?!1:w!==s(o).length-1}],[])},clearStackPages:()=>{y(o,[],!0)},getPageUrl:(m,b)=>{if(b?.full)return`/${m}`;const k=a();k.includes(m)||k.push(m);const w=new URLSearchParams(n().search);return w.set("stackPages",k.join(",")),`${n().pathname}?${w}`},createHandlePage:(m,b)=>k=>{if(k.preventDefault(),b?.full){r(m);return}i(m)},getStackPagesFormUrl:a});var f=H(),_=M(f);ve(_,()=>t.children??we),p(e,f),J()}function rc(e,t){X(t,!0);const n=g=>g.startsWith("/")?g:`/${g}`,r=Oe({historyStack:[],pathname:n(window.location.pathname),search:window.location.search,historyLength:0}),a=()=>{r.pathname=n(document.location.pathname),r.search=document.location.search,r.historyLength=Math.max(0,r.historyLength-=1)},o=g=>{const[f,_]=g.split("?");r.pathname=n(f),r.search=_?`?${_}`:"",r.historyLength+=1,r.historyStack.push(`${window.location.pathname}${window.location.search}`),window.history.replaceState(null,"",g)},i=g=>{const[f,_]=g.split("?");r.pathname=n(f),r.search=_?`?${_}`:"",window.history.replaceState(null,"",g)};fl({getAppHistory:()=>r,navigate:o,replace:i,addSearchParam:(g,f)=>{const _=new URLSearchParams(r.search);_.append(g,f),i(`${r.pathname}${_.size>0?`?${_.toString()}`:""}`)},deleteSearchParam:g=>{const f=new URLSearchParams(r.search);f.delete(g),r.historyStack=r.historyStack.map(_=>{const m=new URLSearchParams(_.split("?")[1]);return m.delete(g),`${_.split("?")[0]}${f.size>0?`?${m.toString()}`:""}`}),i(`${r.pathname}${f.size>0?`?${f.toString()}`:""}`)},back:g=>{const{fallback:f="/",to:_}=g||{},[m,b]=f.split("?");if(r.historyLength<=0){const k=window.location.pathname,w=window.location.search;if(!w.includes("stackPages"))window.history.replaceState(null,"",f),r.historyLength=0,r.pathname=n(m),r.search=b?`?${b}`:"";else{const P=new URLSearchParams(w),B=P.get("stackPages")?.split(",")||[],C=B.slice(0,_&&B.includes(_)?B.indexOf(_)+1:-1);C.length===0?P.delete("stackPages"):P.set("stackPages",C.join(","));const x=`${k}${P.toString()?`?${P.toString()}`:""}`;window.history.replaceState(null,"",x),r.search=P.toString()?`?${P.toString()}`:""}}else if(r.historyStack.length>0){const w=new URLSearchParams(r.search).get("stackPages")?.split(",")||[];_&&w.includes(_)&&(r.historyStack=r.historyStack.slice(0,-(w.length-(w.indexOf(_)+1))+1),r.historyLength=r.historyStack.length);const P=r.historyStack.pop();if(P){const[B,C]=P.split("?");window.history.replaceState(null,"",P),r.historyLength=Math.max(0,r.historyLength-=1),r.pathname=n(B),r.search=C?`?${C}`:""}}},closeDialogStack:()=>{const g=r.historyStack.findIndex(_=>_.includes("stackPages")),f=g===-1?r.historyStack.slice(0):r.historyStack.slice(0,g);if(f.length>0){const _=f.pop();if(_){const[m,b]=_.split("?");window.history.replaceState(null,"",_),r.historyLength=Math.max(0,f.length),r.pathname=n(m),r.search=b?`?${b}`:"",r.historyStack=f}}else{const _=r.search,m=new URLSearchParams(_);m.delete("stackPages"),window.history.replaceState(null,"",m.toString()?"/?"+m.toString():"/"),r.historyLength=0,r.pathname="/",r.search=m.toString()?"?"+m.toString():"",r.historyStack=[]}}}),Pe(()=>(window.addEventListener("popstate",a),()=>{window.removeEventListener("popstate",a)}));var v=H(),h=M(v);ve(h,()=>t.children??we),p(e,v),J()}const hs={};function ac(e){Me(hs,e)}function oc(){const e=Be(hs);if(!e)throw new Error("No KeyboardVisibleContext found");return e}function sc(e,t){X(t,!0);let n=Oe({value:!1});const r=()=>n.value;Pe(()=>{const i=()=>{setTimeout(()=>{document.activeElement instanceof HTMLInputElement&&document.activeElement.type==="text"||document.activeElement instanceof HTMLTextAreaElement?n.value=!0:n.value=!1},0)};return i(),document.addEventListener("focusin",i),document.addEventListener("focusout",i),()=>{document.removeEventListener("focusin",i),document.removeEventListener("focusout",i)}}),ac({getIsKeyboardVisible:r});var a=H(),o=M(a);ve(o,()=>t.children??we),p(e,a),J()}function ic(e,t){X(t,!0);const n=crypto.randomUUID(),r=(i,l)=>{i.postMessage(JSON.stringify({...l,tabId:n}))};xl({tabId:n,createBroadcastChannel:()=>{const i=new BroadcastChannel("app");return{postMessage:l=>r(i,l),addEventListener:l=>{i.addEventListener("message",l)},removeEventListener:l=>{i.removeEventListener("message",l)}}}});var a=H(),o=M(a);ve(o,()=>t.children??we),p(e,a),J()}function lc(e,t){Ul(e,{children:(n,r)=>{Vl(n,{children:(a,o)=>{Wl(a,{children:(i,l)=>{Kl(i,{children:(c,u)=>{Zl(c,{children:(d,v)=>{Jl(d,{children:(h,g)=>{sc(h,{children:(f,_)=>{rc(f,{children:(m,b)=>{nc(m,{children:(k,w)=>{ec(k,{children:(P,B)=>{ic(P,{children:(C,x)=>{var N=H(),O=M(N);ve(O,()=>t.children??we),p(C,N)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})}function cc(e,t){lc(e,{children:(n,r)=>{gl(n,{children:(a,o)=>{vl(a,{children:(i,l)=>{pl(i,{children:(c,u)=>{wl(c,{children:(d,v)=>{kl(d,{children:(h,g)=>{Ll(h,{children:(f,_)=>{Ml(f,{children:(m,b)=>{Fl(m,{children:(k,w)=>{var P=H(),B=M(P);ve(B,()=>t.children??we),p(k,P)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})}})}let zt=z(""),rn=z(null),Xn=z(null),Jn=z(null);function gn(e,t){y(zt,""),setTimeout(()=>{y(zt,e,!0),t?.onFinish&&y(Xn,t.onFinish,!0),t?.onCancel&&y(Jn,t.onCancel,!0)},16)}const uc=(e,t,n,r,a)=>{e.preventDefault(),s(t)&&(y(n,null),s(t)(),y(t,null)),y(r,""),s(a)?.style.removeProperty("opacity")};var dc=j('<button type="button" class="undoButton svelte-1vxmgq5">undo</button>'),fc=j('<div class="notification svelte-1vxmgq5"><span> </span> <!></div>'),vc=j("<div><!></div>");function hc(e,t){X(t,!0),Le(()=>{s(zt);const o=s(Jn)?2e3:800;s(zt)&&(s(rn)?.getBoundingClientRect(),s(rn)?.style.setProperty("opacity","1"));const i=setTimeout(()=>{s(rn)?.style.removeProperty("opacity")},o),l=setTimeout(()=>{y(zt,""),s(Xn)&&s(Xn)(),y(Xn,null),y(Jn,null),s(rn)?.style.removeProperty("opacity")},o+400);return()=>{clearTimeout(i),clearTimeout(l)}});var n=vc(),r=A(n);{var a=o=>{var i=fc(),l=A(i),c=A(l),u=U(l,2);{var d=v=>{var h=dc();h.__click=[uc,Jn,Xn,zt,rn],p(v,h)};q(u,v=>{s(Jn)&&v(d)})}Dt(i,v=>y(rn,v),()=>s(rn)),ue(()=>Zt(c,s(zt))),p(o,i)};q(r,o=>{s(zt)&&o(a)})}p(e,n),J()}tt(["click"]);var gc=j('<span class="vh svelte-1s25udk"><!></span>');function Qe(e,t){var n=gc(),r=A(n);ve(r,()=>t.children),p(e,n)}var _c=Zi('<svg class="svelte-18et5h9"><use></use></svg>');function ke(e,t){let n=ie(t,"name",8,"");var r=_c(),a=A(r);ue(()=>De(a,"href",`#icon-${n()??""}`)),p(e,r)}const pc=(e,t,n,r)=>{const a=t().type;a==="closed"?n():a==="opened"&&r()};var mc=j('<button class="buttonMenu svelte-bpktnw"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>');function gs(e,t){X(t,!1);const{sidebarOpen:n,getSidebarState:r,sidebarClose:a}=zr();Vo();var o=mc();o.__click=[pc,r,n,a];var i=A(o);ye(i,()=>({"--size":"36px"})),ke(i.lastChild,{name:"sidebarMenu"});var l=U(i,2);Qe(l,{children:(c,u)=>{var d=Te("Menu");p(c,d)}}),p(e,o),J()}tt(["click"]);var wc=(e,t)=>t.onChange?.(e.target?.value||""),yc=j('<input class="svelte-15lr19w"/>');function ca(e,t){X(t,!0);let n=ie(t,"value",15,"");var r=yc();r.__input=[wc,t],ue(()=>De(r,"placeholder",t.placeholder)),ba("focus",r,function(...a){t.onFocus?.apply(this,a)}),il(r,n),p(e,r),J()}tt(["input"]);function _s(e,t){X(t,!0),Pe(()=>{const n=r=>{r.target&&t.dialog?.open&&t.dialogInner&&t.dialogInner!==r.target&&!t.dialogInner.contains(r.target)&&t.onClose()};return document.addEventListener("mousedown",n,{capture:!0}),()=>{document.removeEventListener("mousedown",n,{capture:!0})}}),J()}var Sc=j('<dialog><div class="dialogInner svelte-1x410nl"><!></div></dialog> <!>',1);function Da(e,t){X(t,!0);let n=z(null),r=z(null),a=z(!1),{showDialog:o,hideDialog:i}=ur();const l=f=>{f?.preventDefault();const _=setTimeout(()=>{t.onClosed()},150);s(n)?.addEventListener("transitionend",()=>{clearTimeout(_),t.onClosed()},{once:!0}),y(a,!1)};Le(()=>{t.startClose&&l()}),Pe(()=>(s(n)?.showModal(),s(n)?.getClientRects(),y(a,!0),s(n)?.addEventListener("cancel",l),s(n)?.addEventListener("close",l),()=>{s(n)?.removeEventListener("cancel",l),s(n)?.removeEventListener("close",l)})),Pe(()=>(o(),()=>{i()}));var c=Sc(),u=M(c),d=A(u),v=A(d);ve(v,()=>t.children),Dt(d,f=>y(r,f),()=>s(r)),Dt(u,f=>y(n,f),()=>s(n));var h=U(u,2);{var g=f=>{_s(f,{get dialog(){return s(n)},get dialogInner(){return s(r)},onClose:l})};q(h,f=>{s(n)&&s(r)&&f(g)})}ue(()=>me(u,1,pe(["dialog",{shown:s(a)}]),"svelte-1x410nl")),p(e,c),J()}var bc=j("<div><!></div>");function ps(e,t){X(t,!0);let n=z(!1),r=z(null);const a=()=>{const u=setTimeout(()=>{t.onClosed()},150);s(r)?.addEventListener("transitionend",()=>{clearTimeout(u),t.onClosed()},{once:!0}),y(n,!1)},o=u=>{u.target!==s(r)&&!s(r)?.contains(u.target)&&a()},i=u=>{u.target!==s(r)&&!s(r)?.contains(u.target)&&a()};Pe(()=>{s(r)?.getClientRects(),y(n,!0);const u=setTimeout(()=>{document.addEventListener("focusin",o),document.addEventListener("click",i)},0);return()=>{clearTimeout(u),document.removeEventListener("focusin",o),document.removeEventListener("click",i)}}),Le(()=>{t.startClose&&a()});var l=bc(),c=A(l);ve(c,()=>t.children),Dt(l,u=>y(r,u),()=>s(r)),ue(()=>me(l,1,pe(["menu",{top:t.positionTop,shown:s(n)}]),"svelte-ujw4xi")),p(e,l),J()}const kc=(e,t)=>{s(t)||y(t,!0)};var Cc=(e,t)=>t("newest"),Ec=(e,t)=>t("oldest"),Pc=(e,t)=>t("AtoZ"),xc=(e,t)=>t("ZtoA"),Dc=j("<div><button>Newest</button> <button>Oldest</button> <button>A to Z</button> <button>Z to A</button></div>"),Ac=j('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),Tc=j('<div class="orderMenu svelte-14zj87s"><button><!> <!></button> <!></div>');function Nc(e,t){X(t,!0);const n=(k,w=we)=>{var P=Dc(),B=A(P);B.__click=[Cc,d];var C=U(B,2);C.__click=[Ec,d];var x=U(C,2);x.__click=[Pc,d];var N=U(x,2);N.__click=[xc,d],ue(()=>{me(P,1,pe(["menu",{menuDialog:w()}]),"svelte-14zj87s"),me(B,1,pe(["menuButton",{menuButtonDialog:w(),current:s(u)==="newest"}]),"svelte-14zj87s"),me(C,1,pe(["menuButton",{menuButtonDialog:w(),current:s(u)==="oldest"}]),"svelte-14zj87s"),me(x,1,pe(["menuButton",{menuButtonDialog:w(),current:s(u)==="AtoZ"}]),"svelte-14zj87s"),me(N,1,pe(["menuButton",{menuButtonDialog:w(),current:s(u)==="ZtoA"}]),"svelte-14zj87s")}),p(k,P)};let r=z(!1),a=z(!1);const{checkMobileSize:o}=Kn(),{getFeedOrder:i,setFeedOrder:l}=Xo();let c=R(o),u=R(i);const d=k=>{y(a,!0),l(k)},v=()=>{y(r,!1),y(a,!1)};Pe(()=>{const k=w=>{w.key==="Escape"&&y(a,!0)};return document.addEventListener("keydown",k),()=>document.removeEventListener("keydown",k)});var h=Tc(),g=A(h);g.__click=[kc,r],me(g,1,pe(["button","buttonMenu"]),"svelte-14zj87s");var f=A(g);ke(f,{name:"filter"});var _=U(f,2);Qe(_,{children:(k,w)=>{var P=Te("show feed order menu");p(k,P)}});var m=U(g,2);{var b=k=>{var w=H(),P=M(w);{var B=x=>{Da(x,{get startClose(){return s(a)},onClosed:v,children:(N,O)=>{n(N,()=>!0)},$$slots:{default:!0}})},C=x=>{var N=Ac(),O=M(N);ye(O,()=>({"--right":"20px","--top":"60px"})),ps(O.lastChild,{get startClose(){return s(a)},onClosed:v,children:($,he)=>{n($,()=>!1)},$$slots:{default:!0}}),p(x,N)};q(P,x=>{s(c)?x(B):x(C,!1)})}p(k,w)};q(m,k=>{s(r)&&k(b)})}p(e,h),J()}tt(["click"]);var W=(e=>(e.NewNote="newNote",e.EditNote="editNote",e.Settings="settings",e.ImportData="importData",e.ExportData="exportData",e.ClearStore="clearStore",e.Account="account",e.Sync="sync",e.Start="start",e.Auth="auth",e.Signin="signin",e.Signup="signup",e.AccessKeys="accessKeys",e.ConfirmAccessKey="confirmAccessKey",e.Subscription="subscription",e.Exit="exit",e.NotFound="notFound",e.About="about",e.Bin="bin",e))(W||{}),Lc=j("<a><!></a>"),Bc=j("<button><!></button>");function Jt(e,t){let n=ie(t,"type",3,"standard"),r=ie(t,"typeButton",3,"button"),a=ie(t,"element",3,"button"),o=ie(t,"href",3,""),i=ie(t,"fullWidth",3,!1),l=ie(t,"withoutMinWidth",3,!1);var c=H(),u=M(c);{var d=h=>{var g=Lc();g.__click=function(..._){t.onClick?.apply(this,_)};var f=A(g);ve(f,()=>t.children??we),ue(()=>{De(g,"href",o()),me(g,1,pe(["button","a",{dangerous:n()==="dangerous",secondary:n()==="secondary",fullWidth:i(),withoutMinWidth:l()}]),"svelte-aqjevc")}),p(h,g)},v=h=>{var g=Bc();g.__click=function(..._){t.onClick?.apply(this,_)};var f=A(g);ve(f,()=>t.children??we),ue(()=>{De(g,"type",r()),me(g,1,pe(["button",{dangerous:n()==="dangerous",secondary:n()==="secondary",fullWidth:i(),withoutMinWidth:l()}]),"svelte-aqjevc")}),p(h,g)};q(u,h=>{a()==="a"?h(d):h(v,!1)})}p(e,c)}tt(["click"]);var Mc=j('<div class="block svelte-1dzbsx4"><span class="title svelte-1dzbsx4"> </span> <div class="controls svelte-1dzbsx4"><!> <!></div></div>');function ms(e,t){X(t,!0);let n=ie(t,"buttonCancelTitle",3,"Cancel"),r=ie(t,"buttonConfirmTitle",3,"Confirm"),a=z(!1),o=z(!1);const i=()=>{y(a,!0)},l=()=>{y(a,!0),y(o,!0)};Da(e,{get startClose(){return s(a)},onClosed:()=>{s(o)?t.onConfirm():t.onCancel()},children:(u,d)=>{var v=Mc(),h=A(v),g=A(h),f=U(h,2),_=A(f);Jt(_,{onClick:i,fullWidth:!0,withoutMinWidth:!0,type:"secondary",children:(b,k)=>{var w=Te();ue(()=>Zt(w,n())),p(b,w)},$$slots:{default:!0}});var m=U(_,2);Jt(m,{onClick:l,fullWidth:!0,withoutMinWidth:!0,type:"dangerous",children:(b,k)=>{var w=Te();ue(()=>Zt(w,r())),p(b,w)},$$slots:{default:!0}}),ue(()=>Zt(g,t.title)),p(u,v)},$$slots:{default:!0}}),J()}const Ic=(e,t)=>{y(t,!0)};var Oc=(e,t,n)=>{t(),n("/",{full:!0})(e)},Rc=j('<a class="link svelte-13t3afu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Notes</span></a>'),Fc=(e,t,n)=>{t(),n(W.Bin,{full:!0})(e)},zc=j('<a class="link svelte-13t3afu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Bin</span></a>'),Hc=j('<button class="emptyBinButton svelte-13t3afu" type="button">Empty bin</button>'),Uc=j('<a class="buttonAdd svelte-13t3afu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Note</span></a>'),jc=j('<div class="header svelte-13t3afu"><div class="top svelte-13t3afu"><div class="menu svelte-13t3afu"><a class="link svelte-13t3afu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Settings</span></a> <a class="link svelte-13t3afu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Sync</span></a> <!></div> <div class="mobile svelte-13t3afu"><!></div> <!></div> <div class="bottom svelte-13t3afu"><div><div class="sidebarSearchWrapper"><!></div></div> <div class="right svelte-13t3afu"><div class="filter svelte-13t3afu"><div class="feedSearchWrapper svelte-13t3afu"><!></div> <!></div></div></div></div> <!>',1);function Vc(e,t){X(t,!0);const{createHandlePage:n,getPageUrl:r}=Bt(),a=Wo(),o=Go(),{getScrollContainer:i}=Pa();let l=R(i);const{emptyBin:c,checkNotesInBin:u}=Ur(),{getAppHistory:d}=pt(),{sidebarClose:v}=zr(),h=R(u),g=R(()=>d().pathname);let f=z(!1);const _=()=>{s(l)&&s(l).scrollTo({top:0,behavior:"smooth"})};var m=jc(),b=M(m),k=A(b),w=A(k),P=A(w),B=R(()=>n(W.Settings));P.__click=function(...I){s(B)?.apply(this,I)};var C=A(P);ye(C,()=>({"--rotate":"30deg","--size":"20px"})),ke(C.lastChild,{name:"settings"});var x=U(P,2),N=R(()=>n(W.Sync));x.__click=function(...I){s(N)?.apply(this,I)};var O=A(x);ye(O,()=>({"--size":"20px"})),ke(O.lastChild,{name:"sync"});var $=U(x,2);{var he=I=>{var ee=Rc();ee.__click=[Oc,v,n];var te=A(ee);ye(te,()=>({"--size":"18px"})),ke(te.lastChild,{name:"note"}),ue(_e=>De(ee,"href",_e),[()=>r("/",{full:!0})]),p(I,ee)},le=I=>{var ee=H(),te=M(ee);{var _e=ae=>{var Ce=zc();Ce.__click=[Fc,v,n];var xe=A(Ce);ye(xe,()=>({"--size":"20px"})),ke(xe.lastChild,{name:"bin"}),ue(nt=>De(Ce,"href",nt),[()=>r(W.Bin,{full:!0})]),p(ae,Ce)};q(te,ae=>{s(h)&&ae(_e)},!0)}p(I,ee)};q($,I=>{s(g)===`/${W.Bin}`?I(he):I(le,!1)})}var ne=U(w,2),V=A(ne);gs(V,{});var Z=U(ne,2);{var re=I=>{var ee=H(),te=M(ee);{var _e=ae=>{var Ce=Hc();Ce.__click=[Ic,f],p(ae,Ce)};q(te,ae=>{s(h)&&ae(_e)})}p(I,ee)},F=I=>{var ee=Uc(),te=R(()=>n(W.NewNote));ee.__click=function(...ae){s(te)?.apply(this,ae)};var _e=A(ee);ye(_e,()=>({"--size":"16px","--color":"#b0b0b0"})),ke(_e.lastChild,{name:"plus"}),ue(ae=>De(ee,"href",ae),[()=>r(W.NewNote)]),p(I,ee)};q(Z,I=>{s(g)===`/${W.Bin}`?I(re):I(F,!1)})}var se=U(k,2),K=A(se);me(K,1,pe(["left"]),"svelte-13t3afu");var Y=A(K),G=A(Y);ca(G,{placeholder:"Search tag",get value(){return o.value},set value(I){o.value=I}});var Q=U(K,2),fe=A(Q),Se=A(fe),E=A(Se);ca(E,{onFocus:_,placeholder:"Search",get value(){return a.value},set value(I){a.value=I}});var D=U(Se,2);Nc(D,{});var S=U(b,2);{var T=I=>{ms(I,{title:"Are you sure you want to empty the bin?",buttonConfirmTitle:"Empty",onConfirm:()=>{c(),y(f,!1)},onCancel:()=>{y(f,!1)}})};q(S,I=>{s(f)&&I(T)})}ue((I,ee)=>{De(P,"href",I),De(x,"href",ee)},[()=>r(W.Settings),()=>r(W.Sync)]),p(e,m),J()}tt(["click"]);function qc(e,t){X(t,!0);const{getIsKeyboardVisible:n}=oc();let r=ie(t,"dialog",7);const a=R(n),o=Yn();let i=null;const l=()=>{t.dialogState==="swiping"&&t.onClose()};Le(()=>(t.dialogState==="swiping"&&(i=setTimeout(l,3e3)),()=>{i&&(clearTimeout(i),i=null)}));let c=null,u=null;const d=3,v=50,h=5,g=.6,f=.3,_=.35,m=.95;let b=0,k=0,w=0,P=!1,B=!1,C=0,x=0,N=0;const O=()=>{b=0,k=0,P=!1,B=!1,C=0,x=0,N=0,w=0,c=null,u!==null&&(cancelAnimationFrame(u),u=null),i&&(clearTimeout(i),i=null)},$=K=>{r()&&t.dialogState==="opened"&&(b=K.touches[0].clientX,k=K.touches[0].clientY,w=performance.now(),P=!0,B=!1)},he=K=>t.dialogState==="opened"&&K>0||t.dialogState==="swiping"&&K>0,le=()=>{if(r()){r().style.setProperty("--transition-timing","0s"),t.onSwipe();try{const K=window.getComputedStyle(r()),Y=K.transform||K.webkitTransform||"";if(x=r().offsetWidth,(t.dialogState==="swiping"||t.dialogState==="opened")&&(C=0),Y&&Y!=="none")try{C=new DOMMatrix(Y).m41}catch{}B=!0}catch{O()}}},ne=()=>{if(!r())return;const Y=Math.abs(C+N*x/100)/x;r().style.setProperty("--backdrop-bg",`rgba(0, 0, 0, ${.1*(1-Y)})`)},V=()=>{if(u=null,!c||!P||!r()||s(a)){O();return}const K=[...c.touches].reduce((T,I)=>T+I.clientX,0)/c.touches.length,Y=[...c.touches].reduce((T,I)=>T+I.clientY,0)/c.touches.length,G=K-b,Q=Y-k,fe=Math.abs(G)>Math.abs(Q),Se=Math.abs(G)>d;if(!B)if(fe&&Se&&he(G))try{le()}catch{O();return}else return;let E=C+G*m;E=Math.max(0,Math.min(x,E)),!(E<0)&&(r().style.setProperty("--transition-timing","0s"),r().style.transform=`translate3d(${E}px, 0, 0)`,o.swipingRatio=Math.abs(1-E/x),N=(E-C)/x*100,t.dialogState==="swiping"&&(i&&clearTimeout(i),i=setTimeout(l,3e3)),ne())},Z=K=>{if(!P)return;c=K,u===null&&(u=requestAnimationFrame(V));const Y=K.touches[0].clientX-b,G=K.touches[0].clientY-k,Q=Math.abs(Y)>Math.abs(G);B&&Q&&K.preventDefault()},re=K=>{const Y=Math.abs(K);if(Y>=g)return h;if(Y>=f){const G=(Y-f)/(g-f);return v-G*(v-h)}else return v},F=(K,Y)=>{if(Math.abs(K)>=g)return _*.5;const Q=Math.abs(N)/100;return Y?_*Math.max(.5,1-Q):_*Math.max(.5,Q)},se=K=>{if(u!==null&&(cancelAnimationFrame(u),u=null),!P||!r()){O();return}if(!B){O();return}let Y=0;if(K?.changedTouches?.[0]){const E=K.changedTouches[0].clientX,S=performance.now()-w;S>0&&(Y=(E-b)/S)}const G=re(Y);let Q=null;t.dialogState==="swiping"&&(Q=Math.abs(N)>G||Y<-f?"close":"open");const fe=t.dialogState==="swiping"&&Q==="close",Se=F(Y,fe);o.duration=Se-.02,r().style.setProperty("--transition-timing",`${Se}s`),r().offsetWidth,r().style.transform="",Q==="open"?t.onOpen():Q==="close"&&t.onClose(),r()?.style.removeProperty("--backdrop-bg"),O()};Pe(()=>(r().addEventListener("touchstart",$,{passive:!0}),r().addEventListener("touchmove",Z,{passive:!1}),r().addEventListener("touchend",se,{passive:!0}),r().addEventListener("touchcancel",se,{passive:!0}),()=>{r().removeEventListener("touchstart",$),r().removeEventListener("touchmove",Z),r().removeEventListener("touchend",se),r().removeEventListener("touchcancel",se),u!==null&&cancelAnimationFrame(u)})),J()}var Wc=(e,t)=>{t.onStartClose()},Yc=j('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),Kc=j('<dialog><div class="dialogInner svelte-vr2o0t"><div class="header svelte-vr2o0t"><div><!></div></div> <!></div></dialog> <!>',1);function Gc(e,t){X(t,!0);let n=350;const{isScrolling:r,enable:a}=ls();let o=z(null),i=z(null);const l=Yn(),c=C=>{C.preventDefault(),t.onStartClose()};Pe(()=>(s(o)?.addEventListener("close",t.onClosed),s(o)?.addEventListener("cancel",c),()=>{s(o)?.removeEventListener("close",t.onClosed),s(o)?.removeEventListener("cancel",c)}));const u=()=>{s(o)?.style.removeProperty("--transition-timing"),s(o)?.style.removeProperty("transform"),s(o)?.style.removeProperty("--backdrop-bg")},d=()=>{a()},v=R(r);Le(()=>{if(t.dialogState,!!s(o))switch(t.dialogState){case"opening":{s(o).open||s(o).showModal(),s(o).getBoundingClientRect();const C=setTimeout(()=>{u()},n+1),x=()=>{clearTimeout(C),u()};return s(o)?.addEventListener("transitionend",x,{once:!0}),t.onOpened(),()=>{clearTimeout(C),s(o)?.removeEventListener("transitionend",x)}}case"closing":{const C=setTimeout(()=>{t.dialogState==="closing"&&t.onClosed()},n+1),x=()=>{clearTimeout(C),t.onClosed()};return s(o)?.addEventListener("transitionend",x,{once:!0}),()=>{clearTimeout(C),s(o)?.removeEventListener("transitionend",x)}}case"opened":u()}});var h=Kc(),g=M(h),f=A(g),_=A(f),m=A(_),b=A(m);{var k=C=>{var x=Yc();me(x,1,pe(["navigateButton","buttonBack"]),"svelte-vr2o0t"),x.__click=[Wc,t];var N=A(x);ye(N,()=>({"--size":"36px"})),ke(N.lastChild,{name:"back"});var O=U(N,2);Qe(O,{children:($,he)=>{var le=Te("back");p($,le)}}),p(C,x)};q(b,C=>{(!(t.blocked||t.hidden)||t.blocked&&t.unBlockedBack)&&C(k)})}var w=U(_,2);ve(w,()=>t.children),Dt(f,C=>y(i,C),()=>s(i)),Dt(g,C=>y(o,C),()=>s(o));var P=U(g,2);{var B=C=>{qc(C,{get onClose(){return t.onStartClose},get onOpen(){return t.onStartOpen},get onSwipe(){return t.onSwipe},get dialogState(){return t.dialogState},get dialog(){return s(o)}})};q(P,C=>{(!s(v)&&t.dialogState==="opened"||t.dialogState==="swiping")&&(!t.blocked||t.unBlockedBack)&&C(B)})}ue(()=>me(g,1,pe([{open:t.dialogState==="opened",hidden:t.hidden,isAnimationOn:l.working&&(!l.isSwiping||!t.hidden)},{hidden:t.hidden}]),"svelte-vr2o0t")),ba("scroll",f,d),p(e,h),J()}tt(["click"]);const Ka=(e,t)=>{if(!t)return e;if(t.type==="closed")return{type:"closed"};switch(e.type){case"opened":return t.type==="close"?{type:"closing"}:t.type==="swipe"?{type:"swiping"}:e;case"closed":return t.type==="open"?{type:"opening"}:e;case"swiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"opening":return t.type==="opened"?{type:"opened"}:e;default:return e}};function Zc(e,t){X(t,!0);let n=ie(t,"blocked",3,!1),r=ie(t,"hiddenDialog",3,!1),a=ie(t,"unBlockedBack",3,!1),o=ie(t,"onStartClose",3,()=>{}),i=ie(t,"onClose",3,()=>{});const l=Yn();let c=z(Oe(Ka({type:"closed"})));const u=w=>{y(c,Ka(s(c),w),!0)},d=()=>{n()&&!a()||(o()(),u({type:"close"}))},v=()=>{u({type:"open"})},h=()=>{u({type:"opened"}),l.swipingRatio=1,l.duration=.2},g=()=>{i()(),u({type:"closed"}),l.swipingRatio=1,l.duration=.2},f=()=>{u({type:"swipe"})};Le(()=>{s(c).type==="swiping"?l.isSwiping=!0:l.isSwiping=!1,s(c).type==="closed"&&t.shownDialog?v():s(c).type==="opened"&&!t.shownDialog&&d()});var _={handleComputeState:u},m=H(),b=M(m);{var k=w=>{Gc(w,{onSwipe:f,onOpened:h,onClosed:g,onStartClose:d,onStartOpen:v,get dialogState(){return s(c).type},get hidden(){return r()},get blocked(){return n()},get unBlockedBack(){return a()},children:(P,B)=>{var C=H(),x=M(C);ve(x,()=>t.children),p(P,C)},$$slots:{default:!0}})};q(b,w=>{s(c).type!=="closed"&&w(k)})}return p(e,m),J(_)}const Xc=({getDialog:e,onOpen:t,onStartClose:n,onClose:r})=>{const a=i=>{i.preventDefault(),n()},o=()=>{r?.()};Pe(()=>{const i=e();return i?.addEventListener("cancel",a),i?.addEventListener("close",o),()=>{i?.removeEventListener("cancel",a),i?.removeEventListener("close",o)}}),Pe(()=>{const i=e();i?.showModal(),i?.getBoundingClientRect(),t()})};var Jc=(e,t)=>{t.onStartBack()},Qc=j('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),$c=(e,t)=>{t.onStartClose()},eu=j('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),tu=j('<dialog><div class="dialogInner svelte-rt409n"><div class="header svelte-rt409n"><div><!></div> <div><!></div></div> <!></div></dialog> <!>',1);function nu(e,t){X(t,!0);let n=ie(t,"blockedDialog",3,!1),r=ie(t,"hiddenDialog",3,!1),a=ie(t,"isDesktopAnimationOff",3,!1),o=z(null),i=z(null);Xc({getDialog:()=>s(o),onOpen:t.onOpen,onStartClose:t.onStartClose,onClose:t.onClose});const l=Yn();Le(()=>{t.stateDialog==="closing"&&(l.working?s(o)?.addEventListener("transitionend",()=>{s(o)?.close()},{once:!0}):s(o)?.close())});const{getDialogPageHeight:c}=xa(),u=R(c);var d=tu(),v=M(d),h=A(v),g=A(h),f=A(g),_=A(f);{var m=C=>{var x=Qc();me(x,1,pe(["navigateButton","buttonBack"]),"svelte-rt409n"),x.__click=[Jc,t];var N=A(x);ye(N,()=>({"--size":"28px"})),ke(N.lastChild,{name:"back"});var O=U(N,2);Qe(O,{children:($,he)=>{var le=Te("back");p($,le)}}),p(C,x)};q(_,C=>{(!(n()||r())||n()&&t.unBlockedBack)&&t.onStartBack&&C(m)})}var b=U(f,2),k=A(b);{var w=C=>{var x=eu();me(x,1,pe(["navigateButton","buttonClose"]),"svelte-rt409n"),x.__click=[$c,t];var N=A(x);ye(N,()=>({"--size":"28px"})),ke(N.lastChild,{name:"close"});var O=U(N,2);Qe(O,{children:($,he)=>{var le=Te("close");p($,le)}}),p(C,x)};q(k,C=>{n()||r()||C(w)})}var P=U(g,2);ve(P,()=>t.children),Dt(h,C=>y(i,C),()=>s(i)),Dt(v,C=>y(o,C),()=>s(o));var B=U(v,2);_s(B,{get dialog(){return s(o)},get dialogInner(){return s(i)},get onClose(){return t.onStartClose}}),ue(()=>{zn(v,`height: ${s(u)+74}px`),me(v,1,pe([{open:t.stateDialog==="open",isAnimationOn:l.working,isDesktopAnimationOff:a(),hiddenDialog:r()}]),"svelte-rt409n")}),p(e,d),J()}tt(["click"]);const ru=({onStartClose:e,onClose:t})=>{let n=z("close");return{get state(){return s(n)},set state(i){y(n,i,!0)},handleStartClose:(i=!1)=>{i||(y(n,"closing"),e?.())},handleOpen:()=>{y(n,"open")},handleClose:()=>{y(n,"close"),t?.()}}};function au(e,t){X(t,!0);let n=ie(t,"blockedDialog",3,!1),r=ie(t,"hiddenDialog",3,!1),a=ie(t,"onStartClose",3,()=>{}),o=ie(t,"onClose",3,()=>{}),i=ru({onStartClose:a(),onClose:o()});Le(()=>{i.state==="close"&&t.shownDialog?i.state="opening":i.state==="open"&&!t.shownDialog&&i.handleStartClose(n())});const l=v=>{v.key==="Escape"&&(document.activeElement instanceof HTMLInputElement&&document.activeElement.type==="text"||document.activeElement instanceof HTMLTextAreaElement||n())&&(v.preventDefault(),v.stopPropagation())};Pe(()=>(document.addEventListener("keydown",l),()=>{document.removeEventListener("keydown",l)}));var c=H(),u=M(c);{var d=v=>{nu(v,{get stateDialog(){return i.state},get blockedDialog(){return n()},get unBlockedBack(){return t.unBlockedBack},get hiddenDialog(){return r()},get onOpen(){return i.handleOpen},get onStartBack(){return t.onStartBack},onStartClose:()=>{i.handleStartClose(n())},get onClose(){return i.handleClose},children:(h,g)=>{var f=H(),_=M(f);ve(_,()=>t.children),p(h,f)},$$slots:{default:!0}})};q(u,v=>{i.state!=="close"&&v(d)})}p(e,c),J()}function ou(e,t){X(t,!0);let n=ie(t,"blockedDialog",3,!1),r=ie(t,"hiddenDialog",3,!1),a=ie(t,"isLastDialog",3,!1),o=ie(t,"onStartClose",3,()=>{}),i=ie(t,"onClose",3,()=>{});const l=R(()=>a()?void 0:t.onStartBack),{showDialog:c,hideDialog:u}=ur();Pe(()=>(c(),()=>{u()}));const{checkMobileSize:d}=Kn();var v=H(),h=M(v);{var g=_=>{Zc(_,{get shownDialog(){return t.shownDialog},get blocked(){return n()},get unBlockedBack(){return t.unBlockedBack},get hiddenDialog(){return r()},get children(){return t.children},get onStartClose(){return t.onStartBack},get onClose(){return i()}})},f=_=>{au(_,{get shownDialog(){return t.shownDialog},get blockedDialog(){return n()},get unBlockedBack(){return t.unBlockedBack},get hiddenDialog(){return r()},get children(){return t.children},get onStartBack(){return s(l)},get onStartClose(){return o()},get onClose(){return i()}})};q(h,_=>{d()?_(g):_(f,!1)})}p(e,v),J()}function Ga(e,t){X(t,!0);const{back:n,closeDialogStack:r}=pt(),{popStackPages:a}=Bt();let o=ie(t,"blocked",3,!1),i=ie(t,"isLastDialog",3,!1),l=ie(t,"onBack",3,()=>{});const{checkBlockedDialog:c,checkUnBlockedBackDialog:u}=ur(),d=R(()=>o()||t.hidden||c()),v=R(()=>u()&&!i());ou(e,{get shownDialog(){return t.shown},get blockedDialog(){return s(d)},get unBlockedBack(){return s(v)},get hiddenDialog(){return t.hidden},get isLastDialog(){return i()},onStartBack:()=>{(!s(d)||s(d)&&s(v))&&t.shown&&(n(),l()())},onStartClose:()=>{(!s(d)||s(d)&&s(v))&&t.shown&&r()},onClose:()=>{a()},children:(_,m)=>{var b=H(),k=M(b);ve(k,()=>t.children),p(_,b)},$$slots:{default:!0}}),J()}var su=j('<h1 class="svelte-1ky72l5"><!></h1>');function iu(e,t){var n=su(),r=A(n);ve(r,()=>t.children),p(e,n)}var lu=j('<div class="block svelte-ujk4k"><!> <div class="container svelte-ujk4k"><!> <!></div></div>');function cu(e,t){X(t,!0);const{blockDialog:n}=ur(),{pushStackPages:r}=Bt(),{closeDialogStack:a}=pt(),{initLocalAccount:o}=Ea();let i=z("idle");const l=()=>{y(i,"loading"),r(W.Auth)},c=async()=>{y(i,"loading"),Sl(),await o(),n(!1),a()};Le(()=>{n(s(i)==="idle"||s(i)==="loading")}),Pe(()=>(n(!0),()=>{n(!1)}));var u=lu(),d=A(u);iu(d,{children:(f,_)=>{var m=Te("use app");p(f,m)}});var v=U(d,2),h=A(v);Jt(h,{onClick:l,fullWidth:!0,children:(f,_)=>{var m=Te("cloud account");p(f,m)},$$slots:{default:!0}});var g=U(h,2);Jt(g,{onClick:c,fullWidth:!0,type:"secondary",children:(f,_)=>{var m=Te("without account");p(f,m)},$$slots:{default:!0}}),p(e,u),J()}var uu=j('<div class="svelte-1x9a4ve"><!></div>');function Ie(e,t){X(t,!0);const{setDialogPageHeight:n}=xa();let r=z(null);Pe(()=>{s(r)&&(s(r).getBoundingClientRect(),s(r).style.opacity="1");const i=new ResizeObserver(l=>{for(let c of l){const u=c.contentRect.height;n(u)}});if(s(r))return i.observe(s(r)),()=>{s(r)&&i.unobserve(s(r)),i.disconnect()}});var a=uu(),o=A(a);ve(o,()=>t.children),Dt(a,i=>y(r,i),()=>s(r)),p(e,a),J()}var du=j('<div class="svelte-stjbkr"><p class="svelte-stjbkr">Page not found</p> <!></div>');function fu(e,t){X(t,!1);const{navigate:n}=pt(),r=i=>{i.preventDefault(),n("/")};Vo();var a=du(),o=U(A(a),2);Jt(o,{element:"a",href:"/",onClick:r,children:(i,l)=>{var c=Te("close");p(i,c)},$$slots:{default:!0}}),p(e,a),J()}const vu="modulepreload",hu=function(e){return"/"+e},Za={},Fe=function(t,n,r){let a=Promise.resolve();if(n&&n.length>0){let c=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=i?.nonce||i?.getAttribute("nonce");a=c(n.map(u=>{if(u=hu(u),u in Za)return;Za[u]=!0;const d=u.endsWith(".css"),v=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${v}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":vu,d||(h.as="script"),h.crossOrigin="",h.href=u,l&&h.setAttribute("nonce",l),document.head.appendChild(h),d)return new Promise((g,f)=>{h.addEventListener("load",g),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${u}`)))})}))}function o(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return a.then(i=>{for(const l of i||[])l.status==="rejected"&&o(l.reason);return t().catch(o)})};var gu=j('<div class="svelte-10xfz1h"><p class="svelte-10xfz1h">Something went wrong. Please reload the page</p> <!></div>');function _u(e){var t=gu(),n=U(A(t),2);Jt(n,{onClick:()=>location.reload(),children:(r,a)=>{var o=Te("Reload");p(r,o)},$$slots:{default:!0}}),p(e,t)}var pu=j('<div><!> <div class="loader svelte-m0sno1"></div></div>');function ws(e,t){X(t,!0);let n=z(!1);Pe(()=>{const o=setTimeout(()=>{y(n,!0)},200);return()=>{clearTimeout(o)}});var r=pu(),a=A(r);ve(a,()=>t.children??we),ue(()=>me(r,1,pe(["block",{shown:s(n)}]),"svelte-m0sno1")),p(e,r),J()}var mu=j('<div class="svelte-1mu1b44"><!></div>');function wu(e,t){X(t,!0);const{getDialogPageHeight:n}=xa(),r=R(n);var a=mu(),o=A(a);ws(o,{}),ue(()=>zn(a,`min-height: ${s(r)??""}px;`)),p(e,a),J()}function He(e,t){X(t,!0);const n={},r=Object.assign({"./Pages/About.svelte":()=>Fe(()=>import("./BG8AZJJ6.js"),__vite__mapDeps([0,1])),"./Pages/AccessKeys.svelte":()=>Fe(()=>import("./TRFC_wik.js"),__vite__mapDeps([2,3,4,5])),"./Pages/Account.svelte":()=>Fe(()=>import("./DCJtijZR.js"),__vite__mapDeps([6,3,7])),"./Pages/Auth.svelte":()=>Fe(()=>import("./BtYC4SN0.js"),__vite__mapDeps([8,9])),"./Pages/ClearStore.svelte":()=>Fe(()=>import("./B4pjDvOE.js"),__vite__mapDeps([10,11])),"./Pages/ConfirmAccessKey.svelte":()=>Fe(()=>import("./DVH-6DiS.js"),__vite__mapDeps([12,4,3,13,14,15,16])),"./Pages/EditNote.svelte":()=>Fe(()=>import("./Co6lKi0o.js"),__vite__mapDeps([17,18,14,15,19,20])),"./Pages/Exit.svelte":()=>Fe(()=>import("./CyUtf5kK.js"),__vite__mapDeps([21,22])),"./Pages/ExportData.svelte":()=>Fe(()=>import("./D_azMfkn.js"),__vite__mapDeps([23,24])),"./Pages/ImportData.svelte":()=>Fe(()=>import("./B6HY_FLY.js"),__vite__mapDeps([25,26])),"./Pages/NewNote.svelte":()=>Fe(()=>import("./CSFz4EjW.js"),__vite__mapDeps([27,18,14,15,19])),"./Pages/Settings.svelte":()=>Fe(()=>import("./sCcV_h3V.js"),__vite__mapDeps([28,29])),"./Pages/Signin.svelte":()=>Fe(()=>import("./COYIc1h3.js"),__vite__mapDeps([30,4,3,13,31])),"./Pages/Signup.svelte":()=>Fe(()=>import("./BsUifwUK.js"),__vite__mapDeps([32,13,4,3,33])),"./Pages/Subscription.svelte":()=>Fe(()=>import("./Cw3jLbtw.js"),__vite__mapDeps([34,35])),"./Pages/Sync.svelte":()=>Fe(()=>import("./NQWzhMAH.js"),__vite__mapDeps([36,37]))}),a=async l=>{const c=`./Pages/${l[0].toUpperCase()+l.slice(1)}.svelte`;if(!n[l]){if(r[c]){const u=r[c]();return n[l]={promise:u},n[l].module=await u,n[l].module}throw new Error(`Page ${l} not found`)}return n[l].module||await n[l].promise};var o=H(),i=M(o);Fo(i,()=>a(t.page),l=>{wu(l,{})},(l,c)=>{const u=R(()=>s(c).default);var d=H(),v=M(d);Uo(v,()=>s(u),(h,g)=>{g(h,{get params(){return t.params},get hidden(){return t.hidden}})}),p(l,d)},l=>{_u(l)}),p(e,o),J()}var yu=j('<button> <svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></button>');function ys(e,t){let n=R(()=>t.style==="selected"?"45deg":"0deg");var r=yu();r.__click=function(...i){t.onClick?.apply(this,i)};var a=A(r),o=U(a);ye(o,()=>({"--size":t.size==="small"?"10px":"12px","--rotate":s(n)})),ke(o.lastChild,{name:"plus"}),ue(()=>{De(r,"type",t.type),me(r,1,pe([{selectedTag:t.style==="selected",small:t.size==="small"}]),"svelte-uu8a24"),Zt(a,`${t.title??""} `)}),p(e,r)}tt(["click"]);var Su=j("<div></div>");function Xa(e,t){X(t,!0);let n=ie(t,"mobile",3,!1);var r=Su();Fr(r,20,()=>t.tags,a=>a,(a,o)=>{ys(a,{get title(){return o},onClick:()=>t.handleTagClick(o)})}),ue(()=>me(r,1,pe(["tags",{mobile:n()}]),"svelte-1c53r32")),p(e,r),J()}var bu=j("<div></div>");function Ja(e,t){X(t,!0);var n=H(),r=M(n);{var a=o=>{var i=bu();me(i,1,pe(["tags","selectedTags"]),"svelte-58z9m1"),Fr(i,20,()=>t.selectedTags,l=>l,(l,c)=>{ys(l,{get title(){return c},onClick:()=>t.handleSelectedTagClick(c),style:"selected"})}),p(o,i)};q(r,o=>{t.selectedTags.size>0&&o(a)})}p(e,n),J()}var ku=(e,t,n)=>{t(),n("/",{full:!0})(e)},Cu=j('<a class="link svelte-ltt61h"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a>'),Eu=(e,t,n)=>{t(),n(W.Bin,{full:!0})(e)},Pu=j('<a class="link svelte-ltt61h"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a>'),xu=j('<div class="sidebarFixed svelte-ltt61h"><div class="nav svelte-ltt61h"><!> <div class="menu svelte-ltt61h"><a class="link svelte-ltt61h"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a> <a class="link svelte-ltt61h"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a> <!></div></div> <div class="searchWrapper svelte-ltt61h"><!></div> <!></div> <!>',1),Du=j('<div class="sidebar svelte-ltt61h"><div class="sidebarFixed svelte-ltt61h"><!></div> <!></div>');function Au(e,t){X(t,!0);const{checkMobileSize:n}=Kn(),{sidebarClose:r}=zr(),{getAppHistory:a}=pt(),{getPageUrl:o,createHandlePage:i,getStackPagesFormUrl:l}=Bt(),c=Go(),u=R(()=>a().pathname),{getSelectedTags:d,addTag:v,removeTag:h}=$o();let g=R(d);const{checkNotesInBin:f}=Ur();let _=ie(t,"getNotes",3,()=>[]),m=ie(t,"mode",3,"notes"),b=null;function k(){return b||(b=Fe(()=>import("./CHwhSugK.js"),__vite__mapDeps([38,39]))),b}const w=V=>{v(V)},P=V=>{h(V)},B=()=>{if(s(g).has("inbox"))return[];const V=[],Z=Array.from(s(g).values());for(const re of _()()||[])if(re.data&&!(re.data.deletedAt&&m()==="notes")&&!(!re.data.deletedAt&&m()==="bin")){if(s(g).size===0){for(const F of re?.data?.tags||[])V.includes(F)||V.push(F);for(const F of re?.data?.draft?.tags||[])V.includes(F)||V.push(F);continue}if(re.data&&Z.every(F=>re.data?.tags.includes(F)))for(const F of re.data.tags)!s(g).has(F)&&!V.includes(F)&&V.push(F);if(re&&re.data.draft&&Z.every(F=>re.data?.draft?.tags.includes(F)))for(const F of re.data.draft.tags)!s(g).has(F)&&!V.includes(F)&&V.push(F)}return V};let C=R(()=>B().filter(V=>c.value===""||V.toLowerCase().indexOf(c.value.toLowerCase())!==-1).sort((V,Z)=>V==="inbox"?-1:Z==="inbox"?1:V.localeCompare(Z))),x=R(n);Pe(()=>{s(x)&&k()});const{checkExistedDialog:N}=ur();let O=R(()=>l().length>0||N());var $=H(),he=M($);{var le=V=>{var Z=H(),re=M(Z);Fo(re,k,null,(F,se)=>{const K=R(()=>s(se).default);var Y=H(),G=M(Y);Uo(G,()=>s(K),(Q,fe)=>{fe(Q,{get blocked(){return s(O)},children:(Se,E)=>{var D=xu(),S=M(D),T=A(S),I=A(T);gs(I,{});var ee=U(I,2),te=A(ee),_e=R(()=>i(W.Settings));te.__click=function(...Ae){s(_e)?.apply(this,Ae)};var ae=A(te);ye(ae,()=>({"--size":"24px"})),ke(ae.lastChild,{name:"settings"});var Ce=U(ae,2);Qe(Ce,{children:(Ae,Xe)=>{var ze=Te("Settings");p(Ae,ze)}});var xe=U(te,2),nt=R(()=>i(W.Sync));xe.__click=function(...Ae){s(nt)?.apply(this,Ae)};var rt=A(xe);ye(rt,()=>({"--size":"24px"})),ke(rt.lastChild,{name:"sync"});var Ke=U(rt,2);Qe(Ke,{children:(Ae,Xe)=>{var ze=Te("Sync");p(Ae,ze)}});var at=U(xe,2);{var mt=Ae=>{var Xe=Cu();Xe.__click=[ku,r,i];var ze=A(Xe);ye(ze,()=>({"--size":"24px"})),ke(ze.lastChild,{name:"note"});var Ot=U(ze,2);Qe(Ot,{children:(wt,tn)=>{var nn=Te("Notes");p(wt,nn)}}),ue(wt=>De(Xe,"href",wt),[()=>o("/",{full:!0})]),p(Ae,Xe)},ft=Ae=>{var Xe=H(),ze=M(Xe);{var Ot=wt=>{var tn=Pu();tn.__click=[Eu,r,i];var nn=A(tn);ye(nn,()=>({"--size":"24px"})),ke(nn.lastChild,{name:"bin"});var Rt=U(nn,2);Qe(Rt,{children:(Ft,jr)=>{var Vr=Te("Bin");p(Ft,Vr)}}),ue(Ft=>De(tn,"href",Ft),[()=>o(W.Bin,{full:!0})]),p(wt,tn)};q(ze,wt=>{f()&&wt(Ot)},!0)}p(Ae,Xe)};q(at,Ae=>{s(u)===`/${W.Bin}`?Ae(mt):Ae(ft,!1)})}var ot=U(T,2),It=A(ot);ca(It,{placeholder:"Search tag",get value(){return c.value},set value(Ae){c.value=Ae}});var bn=U(ot,2);Ja(bn,{get selectedTags(){return s(g)},handleSelectedTagClick:P});var dr=U(S,2);Xa(dr,{get tags(){return s(C)},handleTagClick:w,mobile:!0}),ue((Ae,Xe)=>{De(te,"href",Ae),De(xe,"href",Xe)},[()=>o(W.Settings),()=>o(W.Sync)]),p(Se,D)},$$slots:{default:!0}})}),p(F,Y)}),p(V,Z)},ne=V=>{var Z=Du(),re=A(Z),F=A(re);Ja(F,{get selectedTags(){return s(g)},handleSelectedTagClick:P});var se=U(re,2);Xa(se,{get tags(){return s(C)},handleTagClick:w}),p(V,Z)};q(he,V=>{s(x)?V(le):V(ne,!1)})}p(e,$),J()}tt(["click"]);const Tu=(e,t,n,r)=>{t.noteData.pinnedAt?(n(t.noteId,!1),gn("Note unpinned",{onCancel:()=>{n(t.noteId,!0)}})):(n(t.noteId,!0),gn("Note pinned",{onCancel:()=>{n(t.noteId,!1)}})),y(r,!0)},Nu=(e,t,n)=>{navigator.clipboard.writeText(t.noteData.url),gn("Link copied"),y(n,!0)};var Lu=j('<li class="svelte-8ve3pe"><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>Copy link</button></li>'),Bu=(e,t,n)=>{y(t,!0),y(n,!0)},Mu=j('<li class="svelte-8ve3pe"><button><span class="wrapperIcon svelte-8ve3pe"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></span>Delete</button></li>'),Iu=(e,t,n)=>{y(t,!0),y(n,!0)},Ou=(e,t,n)=>{y(t,!0),y(n,!0)},Ru=j('<li class="svelte-8ve3pe"><button><span class="wrapperIcon svelte-8ve3pe"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></span>Restore</button></li> <li class="svelte-8ve3pe"><button><span class="wrapperIcon svelte-8ve3pe"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></span>Delete from bin</button></li>',1),Fu=j('<ul class="menu svelte-8ve3pe"><!> <li class="svelte-8ve3pe"><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> </button></li> <!></ul>'),zu=j('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),Hu=j("<!> <!>",1);function Uu(e,t){X(t,!0);const n=(N,O=we)=>{var $=Fu(),he=A($);{var le=Y=>{var G=Lu(),Q=A(G);Q.__click=[Nu,t,u];var fe=A(Q);ye(fe,()=>({"--size":"22px"})),ke(fe.lastChild,{name:"copy"}),ue(()=>me(Q,1,pe(["button",{buttonMenuDialog:O()}]),"svelte-8ve3pe")),p(Y,G)};q(he,Y=>{O()&&t.noteData.url&&Y(le)})}var ne=U(he,2),V=A(ne);V.__click=[Tu,t,o,u];var Z=A(V);{let Y=R(()=>t.noteData.pinnedAt?"pin-cancel":"pin");ye(Z,()=>({"--size":"22px"})),ke(Z.lastChild,{get name(){return s(Y)}})}var re=U(Z),F=U(ne,2);{var se=Y=>{var G=Mu(),Q=A(G);Q.__click=[Bu,d,u];var fe=A(Q),Se=A(fe);ye(Se,()=>({"--size":"18px"})),ke(Se.lastChild,{name:"bin"}),ue(()=>me(Q,1,pe(["button",{buttonMenuDialog:O()}]),"svelte-8ve3pe")),p(Y,G)},K=Y=>{var G=Ru(),Q=M(G),fe=A(Q);fe.__click=[Iu,v,u];var Se=A(fe),E=A(Se);ye(E,()=>({"--size":"18px"})),ke(E.lastChild,{name:"bin-cancel"});var D=U(Q,2),S=A(D);S.__click=[Ou,h,u];var T=A(S),I=A(T);ye(I,()=>({"--size":"18px"})),ke(I.lastChild,{name:"bin"}),ue(()=>{me(fe,1,pe(["button",{buttonMenuDialog:O()}]),"svelte-8ve3pe"),me(S,1,pe(["button",{buttonMenuDialog:O()}]),"svelte-8ve3pe")}),p(Y,G)};q(F,Y=>{l()==="notes"?Y(se):Y(K,!1)})}ue(()=>{me(V,1,pe(["button",{buttonMenuDialog:O()}]),"svelte-8ve3pe"),Zt(re,` ${t.noteData.pinnedAt?"Unpin":"Pin"}`)}),p(N,$)},{moveNoteToBin:r,deleteNote:a,pinNote:o,restoreNoteFromBin:i}=Ur();let l=ie(t,"mode",3,"notes"),c=ie(t,"shownMenu",15),u=z(!1),d=z(!1),v=z(!1),h=z(!1);const{checkMobileSize:g}=Kn();let f=R(g);const _=()=>{a(t.noteId),gn("Draft deleted")},m=async()=>{r(t.noteId),gn("Note moved to bin",{onCancel:()=>{i(t.noteId)}})},b=()=>{i(t.noteId),gn("Note restored from bin",{onCancel:()=>{r(t.noteId)}})},k=()=>{s(d)?(y(d,!1),t.noteData.type==="draft"?_():m()):s(v)&&(y(v,!1),b()),c(!1),y(u,!1)};var w=Hu(),P=M(w);{var B=N=>{var O=H(),$=M(O);{var he=ne=>{Da(ne,{get startClose(){return s(u)},onClosed:k,children:(V,Z)=>{n(V,()=>!0)},$$slots:{default:!0}})},le=ne=>{var V=zu(),Z=M(V);ye(Z,()=>({"--bottom":"-90px","--right":"20px"})),ps(Z.lastChild,{get startClose(){return s(u)},get positionTop(){return t.showMenuUp},onClosed:k,children:(re,F)=>{n(re,()=>!1)},$$slots:{default:!0}}),p(ne,V)};q($,ne=>{s(f)?ne(he):ne(le,!1)})}p(N,O)};q(P,N=>{c()&&N(B)})}var C=U(P,2);{var x=N=>{ms(N,{title:"Are you sure you want to delete this note?",buttonConfirmTitle:"Delete",onConfirm:()=>{a(t.noteId),y(h,!1)},onCancel:()=>{y(h,!1)}})};q(C,N=>{s(h)&&N(x)})}p(e,w),J()}tt(["click"]);const ju=(e,t)=>{y(t,!0)},Vu=(e,t,n)=>{navigator.clipboard.writeText(t.noteData.url),gn("Link copied"),y(n,!1)},qu=(e,t)=>{y(t,!0)},Wu=(e,t)=>{y(t,!1)},Yu=(e,t,n,r)=>{e.preventDefault(),t.noteData.type==="draft"?n(`${W.NewNote}`):n(`${W.EditNote}?id=${t.noteId}`),y(r,!1)};var Ku=j('<div class="iconPlaceholder svelte-1jg44o9"></div>'),Gu=j('<img loading="lazy" class="noteIcon" height="16" width="16" alt=""/>'),Zu=j('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),Xu=j('<div class="noteIconWrapper svelte-1jg44o9"><!></div>'),Ju=j('<button class="button svelte-1jg44o9"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),Qu=(e,t)=>{y(t,!1)},$u=j('<!> <a target="_blank" rel="noopener noreferrer" class="button openLink svelte-1jg44o9"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a>',1),ed=j('<li><!> <a class="noteLink svelte-1jg44o9" target="_blank" rel="noopener noreferrer"> </a> <div><!> <button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button></div> <!></li>');function td(e,t){X(t,!0);const{pushStackPages:n}=Bt(),{getFaviconEnabled:r}=Pl();let a=ie(t,"mode",3,"notes"),o=z(!1),i=z(!1),l=z(!1),c=R(r);const{checkMobileSize:u}=Kn(),d=N=>{try{return`https://icons.duckduckgo.com/ip3/${new URL(N).host}.ico`}catch{return""}},v=t.noteData.url||t.noteData.draft?.url||"";var h=ed();h.__focusin=[qu,i],h.__focusout=[Wu,i];var g=A(h);{var f=N=>{var O=Xu(),$=A(O);{var he=ne=>{var V=H(),Z=M(V);{var re=se=>{var K=Ku();p(se,K)},F=se=>{var K=Gu();ue(Y=>De(K,"src",Y),[()=>d(v)]),ba("error",K,()=>{y(l,!0)}),p(se,K)};q(Z,se=>{s(l)?se(re):se(F,!1)})}p(ne,V)},le=ne=>{var V=Zu(),Z=M(V);ye(Z,()=>({"--size":"16px"})),ke(Z.lastChild,{name:"note"}),p(ne,V)};q($,ne=>{v?ne(he):ne(le,!1)})}p(N,O)};q(g,N=>{s(c)&&N(f)})}var _=U(g,2);_.__click=[Yu,t,n,i];var m=A(_),b=U(_,2),k=A(b);{var w=N=>{var O=$u(),$=M(O);{var he=Z=>{var re=Ju();re.__click=[Vu,t,i];var F=A(re);ye(F,()=>({"--size":"20px"})),ke(F.lastChild,{name:"copy"});var se=U(F,2);Qe(se,{children:(K,Y)=>{var G=Te("copy link");p(K,G)}}),ue(()=>De(re,"tabindex",t.focusHidden?-1:0)),p(Z,re)};q($,Z=>{u()||Z(he)})}var le=U($,2);le.__click=[Qu,i];var ne=A(le);ye(ne,()=>({"--size":"18px"})),ke(ne.lastChild,{name:"open"});var V=U(ne,2);Qe(V,{children:(Z,re)=>{var F=Te();ue(()=>Zt(F,t.noteData.draft?.name||t.noteData.name||"unknown")),p(Z,F)}}),ue(()=>{De(le,"href",v),De(le,"tabindex",t.focusHidden?-1:0)}),p(N,O)};q(k,N=>{v&&N(w)})}var P=U(k,2);P.__click=[ju,o],me(P,1,pe(["button","buttonMenu"]),"svelte-1jg44o9");var B=A(P);ye(B,()=>({"--size":"18px","--rotate":"90deg"})),ke(B.lastChild,{name:"menu"});var C=U(B,2);Qe(C,{children:(N,O)=>{var $=Te("show menu");p(N,$)}});var x=U(b,2);Uu(x,{get mode(){return a()},get noteId(){return t.noteId},get noteData(){return t.noteData},get showMenuUp(){return t.showMenuUp},get shownMenu(){return s(o)},set shownMenu(N){y(o,N,!0)}}),ue((N,O)=>{me(h,1,N,"svelte-1jg44o9"),De(_,"tabindex",t.focusHidden?-1:0),De(_,"href",O),Zt(m,t.noteData?.draft?.name||t.noteData?.name||"unknown"),me(b,1,pe(["noteMenuWrapper",{noteMenuWrapperActive:s(i)}]),"svelte-1jg44o9"),De(P,"tabindex",t.focusHidden?-1:0)},[()=>pe(["record",{pinned:!!t.noteData.pinnedAt,draft:!!t.noteData.draft}]),()=>`/?stackPages=${encodeURIComponent(`${W.EditNote}?id=${t.noteId}`)}`]),p(e,h),J()}tt(["focusin","focusout","click"]);var nd=j('<p class="message">No notes in bin</p>'),rd=j('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Add note</span>',1),ad=j('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span style="padding-left: 6px;">Import data</span>',1),od=j('<p class="message">No notes found</p> <div class="wrapperButtonsAdd svelte-106i4nx"><!></div> <div>or</div> <div class="wrapperButtonsAdd svelte-106i4nx"><!></div>',1),sd=j('<div class="emptyStore svelte-106i4nx"><!></div>'),id=j('<div class="emptyMessage svelte-106i4nx">No notes found</div>'),ld=j('<div class="feed svelte-106i4nx"><ul class="svelte-106i4nx"></ul></div>'),cd=j('<div class="wrapperFeed svelte-106i4nx"><div class="wrapperContainer svelte-106i4nx"><!></div></div>');function ud(e,t){X(t,!0);let n=ie(t,"getNotes",3,()=>[]),r=ie(t,"mode",3,"notes");const{getScrollContainer:a}=Pa(),{createHandlePage:o,getPageUrl:i}=Bt(),{getSelectedTags:l}=$o(),{getFeedOrder:c}=Xo(),u=Wo();let d=54,v=z(0),h=z(0),g=z(0),f=z(0),_=[],m=z(0),b=R(a),k=null,w=null;const P=R(l);Le(()=>{s(P),s(O),s(b)?.scrollTo(0,0)});const{enable:B}=ls(),C=()=>{B(),k||(k=requestAnimationFrame(()=>{const G=s(b)?.scrollTop||0;y(g,G,!0);const Q=Math.ceil(s(v)/d);y(h,Math.floor(G/(d*Q))*(d*Q)),k=null}))},x=()=>{w||(w=requestAnimationFrame(()=>{y(v,window.innerHeight-180||0,!0);const G=s(b)?.scrollTop||0;y(g,G,!0);const Q=Math.ceil(s(v)/d);y(h,Math.floor(G/(d*Q))*(d*Q)),w=null}))};Pe(()=>{x(),C()});const N=()=>{C()};Le(()=>(s(b)?.addEventListener("scroll",N),window.addEventListener("resize",x),()=>{s(b)?.removeEventListener("scroll",N),window.removeEventListener("resize",x)}));const O=R(c);let $=z("");Le(()=>{s(O);const G=n()()||[];xt(()=>s($))!==s(O)&&xt(()=>y($,s(O),!0)),G.sort((E,D)=>{if(!E||!D||!E.data||!D.data)return 0;if(E.data.pinnedAt&&!D.data.pinnedAt)return 1;if(!E.data.pinnedAt&&D.data.pinnedAt)return-1;if(E.data.pinnedAt&&D.data.pinnedAt){if(E.data.pinnedAt<D.data.pinnedAt)return-1;if(E.data.pinnedAt>D.data.pinnedAt)return 1}if(E.data.draft&&!D.data.draft)return 1;if(!E.data.draft&&D.data.draft)return-1;if(E.data.draft&&D.data.draft){if(E.data.draft.updatedAt<D.data.draft.updatedAt)return-1;if(E.data.draft.updatedAt>D.data.draft.updatedAt)return 1}switch(s(O)){case"newest":return E.data.updatedAt<D.data.updatedAt?-1:1;case"oldest":return E.data.updatedAt>D.data.updatedAt?-1:1;case"AtoZ":return D.data.name.localeCompare(E.data.name);case"ZtoA":return E.data.name.localeCompare(D.data.name);default:return 0}});const fe=[],Se=Array.from(s(P).values());for(let E=G.length-1;E>=0;E--){if(!G[E]||!G[E].data)continue;const D=G[E];r()==="notes"&&D?.data.deletedAt||r()==="bin"&&!D?.data.deletedAt||s(P).size&&Se.some(S=>!D.data?.tags.includes(S))&&(!D.data.draft||Se.some(S=>!D.data?.draft?.tags.includes(S)))||u&&!(D.data.name.toLowerCase().includes(u.value.toLowerCase())||D.data.url.toLowerCase().includes(u.value.toLowerCase())||D.data.text.toLowerCase().includes(u.value.toLowerCase()))||fe.push(D)}y(f,fe.length,!0),_=fe,y(m,Date.now(),!0)});const he=R(()=>s(f)*d);let ne=R(()=>{s(m);const G=Math.ceil(s(v)/d);let Q=Math.floor(s(h)/d);return Q=Q-Math.min(Q,G),_.slice(Q,Q+G*3)}),V=R(()=>d*Math.ceil(s(v)/d));const Z=R(()=>s(h)-Math.min(s(h),s(V)));var re=cd(),F=A(re),se=A(F);{var K=G=>{ws(G,{})},Y=G=>{var Q=H(),fe=M(Q);{var Se=D=>{var S=sd(),T=A(S);{var I=te=>{var _e=nd();p(te,_e)},ee=te=>{var _e=od(),ae=U(M(_e),2),Ce=A(ae);{let rt=R(()=>i(W.NewNote)),Ke=R(()=>o(W.NewNote));Jt(Ce,{element:"a",get href(){return s(rt)},get onClick(){return s(Ke)},children:(at,mt)=>{var ft=rd(),ot=M(ft);ye(ot,()=>({"--size":"18px","--color":"#b0b0b0"})),ke(ot.lastChild,{name:"plus"}),p(at,ft)},$$slots:{default:!0}})}var xe=U(ae,4),nt=A(xe);{let rt=R(()=>i(W.ImportData)),Ke=R(()=>o(W.ImportData));Jt(nt,{element:"a",get href(){return s(rt)},get onClick(){return s(Ke)},children:(at,mt)=>{var ft=ad(),ot=M(ft);ye(ot,()=>({"--size":"18px","--color":"#b0b0b0"})),ke(ot.lastChild,{name:"import"}),p(at,ft)},$$slots:{default:!0}})}p(te,_e)};q(T,te=>{r()==="bin"?te(I):te(ee,!1)})}p(D,S)},E=D=>{var S=H(),T=M(S);{var I=te=>{var _e=id();p(te,_e)},ee=te=>{var _e=ld(),ae=A(_e);Fr(ae,23,()=>s(ne),Ce=>Ce.data,(Ce,xe,nt)=>{var rt=H(),Ke=M(rt);{var at=mt=>{{let ft=R(()=>s(nt)*d<s(g)-s(Z)-d/2||s(nt)*d>s(g)-s(Z)+Math.floor(s(v)/d)*d),ot=R(()=>(s(nt)+3)*d<s(g)-s(Z)-d/2||(s(nt)+3)*d>s(g)-s(Z)+Math.floor(s(v)/d)*d);td(mt,{get mode(){return r()},get focusHidden(){return s(ft)},get showMenuUp(){return s(ot)},get noteId(){return s(xe).id},get noteData(){return s(xe).data}})}};q(Ke,mt=>{s(xe).data&&mt(at)})}p(Ce,rt)}),ue(Ce=>{zn(_e,`min-height: ${Ce??""}px`),zn(ae,`transform: translateY(${s(Z)??""}px);`)},[()=>Math.max((s(he)>s(v),s(he)),0)]),p(te,_e)};q(T,te=>{s(ne).length===0?te(I):te(ee,!1)},!0)}p(D,S)};q(fe,D=>{(n()()||[]).length===0||r()==="notes"&&(n()()||[]).length-t.countNotesInBin()===0?D(Se):D(E,!1)},!0)}p(G,Q)};q(se,G=>{t.readyNotes?G(Y,!1):G(K)})}p(e,re),J()}var dd=j('<!> <div class="content svelte-k57gez"><!></div>',1);function fd(e,t){X(t,!0);const{getAppHistory:n}=pt(),{getGetNotes:r,isInitedNotes:a,countNotesInBin:o}=Ur(),i=R(a),l=R(r),c=R(()=>n().pathname);var u=dd(),d=M(u);{let g=R(()=>s(c)==="/bin"?"bin":"notes");Au(d,{get mode(){return s(g)},get getNotes(){return s(l)}})}var v=U(d,2),h=A(v);{let g=R(()=>s(c)==="/bin"?"bin":"notes");ud(h,{get mode(){return s(g)},get getNotes(){return s(l)},get countNotesInBin(){return o},get readyNotes(){return s(i)}})}p(e,u),J()}const Qa=(e,t=we,n=we,r)=>{let a=Mr(()=>Rs(r?.(),!1));var o=H(),i=M(o);{var l=u=>{Ie(u,{children:(d,v)=>{He(d,{get hidden(){return s(a)},get page(){return W.Settings}})},$$slots:{default:!0}})},c=u=>{var d=H(),v=M(d);{var h=f=>{Ie(f,{children:(_,m)=>{He(_,{get hidden(){return s(a)},get page(){return W.NewNote}})},$$slots:{default:!0}})},g=f=>{var _=H(),m=M(_);{var b=w=>{Ie(w,{children:(P,B)=>{He(P,{get params(){return n()},get hidden(){return s(a)},get page(){return W.EditNote}})},$$slots:{default:!0}})},k=w=>{var P=H(),B=M(P);{var C=N=>{Ie(N,{children:(O,$)=>{He(O,{get hidden(){return s(a)},get page(){return W.ImportData}})},$$slots:{default:!0}})},x=N=>{var O=H(),$=M(O);{var he=ne=>{Ie(ne,{children:(V,Z)=>{He(V,{get hidden(){return s(a)},get page(){return W.ExportData}})},$$slots:{default:!0}})},le=ne=>{var V=H(),Z=M(V);{var re=se=>{Ie(se,{children:(K,Y)=>{He(K,{get hidden(){return s(a)},get page(){return W.ClearStore}})},$$slots:{default:!0}})},F=se=>{var K=H(),Y=M(K);{var G=fe=>{Ie(fe,{children:(Se,E)=>{cu(Se,{})},$$slots:{default:!0}})},Q=fe=>{var Se=H(),E=M(Se);{var D=T=>{Ie(T,{children:(I,ee)=>{He(I,{get hidden(){return s(a)},get page(){return W.Auth}})},$$slots:{default:!0}})},S=T=>{var I=H(),ee=M(I);{var te=ae=>{Ie(ae,{children:(Ce,xe)=>{He(Ce,{get hidden(){return s(a)},get page(){return W.Signup}})},$$slots:{default:!0}})},_e=ae=>{var Ce=H(),xe=M(Ce);{var nt=Ke=>{Ie(Ke,{children:(at,mt)=>{He(at,{get hidden(){return s(a)},get page(){return W.Signin}})},$$slots:{default:!0}})},rt=Ke=>{var at=H(),mt=M(at);{var ft=It=>{Ie(It,{children:(bn,dr)=>{He(bn,{get hidden(){return s(a)},get page(){return W.AccessKeys}})},$$slots:{default:!0}})},ot=It=>{var bn=H(),dr=M(bn);{var Ae=ze=>{Ie(ze,{children:(Ot,wt)=>{He(Ot,{get hidden(){return s(a)},get page(){return W.Account}})},$$slots:{default:!0}})},Xe=ze=>{var Ot=H(),wt=M(Ot);{var tn=Rt=>{Ie(Rt,{children:(Ft,jr)=>{He(Ft,{get hidden(){return s(a)},get page(){return W.ConfirmAccessKey}})},$$slots:{default:!0}})},nn=Rt=>{var Ft=H(),jr=M(Ft);{var Vr=kn=>{Ie(kn,{children:(fr,Aa)=>{He(fr,{get hidden(){return s(a)},get page(){return W.Exit}})},$$slots:{default:!0}})},Ss=kn=>{var fr=H(),Aa=M(fr);{var bs=Cn=>{Ie(Cn,{children:(vr,Ta)=>{He(vr,{get hidden(){return s(a)},get page(){return W.Sync}})},$$slots:{default:!0}})},ks=Cn=>{var vr=H(),Ta=M(vr);{var Cs=En=>{Ie(En,{children:(hr,Na)=>{He(hr,{get hidden(){return s(a)},get page(){return W.Subscription}})},$$slots:{default:!0}})},Es=En=>{var hr=H(),Na=M(hr);{var Ps=Pn=>{Ie(Pn,{children:(qr,Ds)=>{He(qr,{get hidden(){return s(a)},get page(){return W.About}})},$$slots:{default:!0}})},xs=Pn=>{Ie(Pn,{children:(qr,Ds)=>{fu(qr,{})},$$slots:{default:!0}})};q(Na,Pn=>{t()===W.About?Pn(Ps):Pn(xs,!1)},!0)}p(En,hr)};q(Ta,En=>{t()===W.Subscription?En(Cs):En(Es,!1)},!0)}p(Cn,vr)};q(Aa,Cn=>{t()===W.Sync?Cn(bs):Cn(ks,!1)},!0)}p(kn,fr)};q(jr,kn=>{t()===W.Exit?kn(Vr):kn(Ss,!1)},!0)}p(Rt,Ft)};q(wt,Rt=>{t()===W.ConfirmAccessKey?Rt(tn):Rt(nn,!1)},!0)}p(ze,Ot)};q(dr,ze=>{t()===W.Account?ze(Ae):ze(Xe,!1)},!0)}p(It,bn)};q(mt,It=>{t()===W.AccessKeys?It(ft):It(ot,!1)},!0)}p(Ke,at)};q(xe,Ke=>{t()===W.Signin?Ke(nt):Ke(rt,!1)},!0)}p(ae,Ce)};q(ee,ae=>{t()===W.Signup?ae(te):ae(_e,!1)},!0)}p(T,I)};q(E,T=>{t()===W.Auth?T(D):T(S,!1)},!0)}p(fe,Se)};q(Y,fe=>{t()===W.Start?fe(G):fe(Q,!1)},!0)}p(se,K)};q(Z,se=>{t()===W.ClearStore?se(re):se(F,!1)},!0)}p(ne,V)};q($,ne=>{t()===W.ExportData?ne(he):ne(le,!1)},!0)}p(N,O)};q(B,N=>{t()===W.ImportData?N(C):N(x,!1)},!0)}p(w,P)};q(m,w=>{t()===W.EditNote?w(b):w(k,!1)},!0)}p(f,_)};q(v,f=>{t()===W.NewNote?f(h):f(g,!1)},!0)}p(u,d)};q(i,u=>{t()===W.Settings?u(l):u(c,!1)})}p(e,o)};var vd=j("<!> <!>",1);function hd(e,t){X(t,!0);const{getStackPages:n,popStackPages:r}=Bt(),{getAccount:a}=Ea();let o=R(n),i=R(()=>a()!==void 0);const{checkMobileSize:l}=Kn();var c=vd(),u=M(c);{var d=f=>{fd(f,{})};q(u,f=>{s(i)&&f(d)})}var v=U(u,2);{var h=f=>{var _=H(),m=M(_);Fr(m,19,()=>s(o),b=>b.page,(b,k,w)=>{const P=R(()=>s(k).page.split("?")[1]),B=R(()=>s(k).page.split("?")[0]);{let C=R(()=>s(w)!==s(o).length-1&&!!s(o)[s(w)+1]?.shown),x=R(()=>s(w)===0);Ga(b,{get shown(){return s(k).shown},get hidden(){return s(C)},get isLastDialog(){return s(x)},children:(N,O)=>{{let $=R(()=>s(w)!==s(o).length-1&&!!s(o)[s(w)+1]?.shown);Qa(N,()=>s(B),()=>s(P),()=>s($))}},$$slots:{default:!0}})}}),p(f,_)},g=f=>{var _=H(),m=M(_);{var b=k=>{const w=R(()=>s(o)[s(o).length-1].page.split("?")[1]),P=R(()=>s(o)[s(o).length-1].page.split("?")[0]);{let B=R(()=>s(o).length===1);Ga(k,{onBack:()=>r(),get shown(){return s(o)[s(o).length-1].shown},hidden:!1,get isLastDialog(){return s(B)},children:(C,x)=>{Qa(C,()=>s(P),()=>s(w))},$$slots:{default:!0}})}};q(m,k=>{s(o).length>0&&k(b)},!0)}p(f,_)};q(v,f=>{l()?f(h):f(g,!1)})}p(e,c),J()}const gd=(e,t)=>{s(t)&&s(t).scrollTo({top:0})};var _d=j('<div><button class="buttonTop svelte-1n46o8q"><!> <span class="icon svelte-1n46o8q"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></span></button></div>'),pd=j('<!> <main><div class="wrapperHeader svelte-1n46o8q"><!></div> <div class="container svelte-1n46o8q"><!></div></main> <!>',1);function md(e,t){X(t,!0);const{navigate:n}=pt(),{hasStackPage:r,pushStackPages:a,clearStackPages:o}=Bt(),{setScrollContainer:i}=Pa(),{getAccount:l,init:c}=Ea(),{getStackPagesFormUrl:u}=Bt(),{createBroadcastChannel:d,tabId:v}=Hr(),h=d(),{getSidebarState:g}=zr();Pe(()=>{c(se=>{se===void 0?(n("/"),a("start")):(r("start")&&(o(),n("/")),se?y(k,se):y(k,null))});const F=async se=>{const K=JSON.parse(se.data);if(K.tabId&&K.tabId===v)return;const Y=K;Y.type==="initLocalAccount"||Y.type==="initCloudAccount"||Y.type==="updateAccount"||Y.type==="disconnectCloudAccount"?(o(),n("/")):Y.type==="exit"&&(o(),n("/"),a("start"))};return h.addEventListener(F),()=>h.removeEventListener(F)});const f=Yn();Pe(async()=>{await new Promise(F=>setTimeout(F,100)),await Mo(),f.working=!0});let _=z(!1),m=0,b=R(()=>u().length>0),k=R(l),w=z(null);Le(()=>{i(s(w))});const P=()=>{if(s(w)){const F=s(w).scrollTop||0;F===0?y(_,!1):!s(_)&&m>F?y(_,!0):s(_)&&m+50<F&&y(_,!1),m=F}},B=()=>{P()};Le(()=>(s(w)?.addEventListener("scroll",B),window.addEventListener("resize",B),()=>{s(w)?.removeEventListener("scroll",B),window.removeEventListener("resize",B)}));const C=R(g);var x=pd(),N=M(x);hc(N,{});var O=U(N,2),$=A(O),he=A($);{var le=F=>{Vc(F,{})};q(he,F=>{s(k)!==void 0&&F(le)})}var ne=U($,2),V=A(ne);hd(V,{}),Dt(O,F=>y(w,F),()=>s(w));var Z=U(O,2);{var re=F=>{var se=_d(),K=A(se);K.__click=[gd,w];var Y=A(K);Qe(Y,{children:(fe,Se)=>{var E=Te("top");p(fe,E)}});var G=U(Y,2),Q=A(G);ye(Q,()=>({"--rotate":"90deg","--size":"28px"})),ke(Q.lastChild,{name:"back"}),ue(()=>{zn(se,`--swiping-ratio: ${f.swipingRatio}; --transition-timing-default: ${f.duration}s;`),me(se,1,pe(["wrapperButtonTop",{isAnimationOn:f.working&&!f.isSwiping,open:s(b)||s(C).type!=="closed"}]),"svelte-1n46o8q")}),p(F,se)};q(Z,F=>{s(_)&&F(re)})}ue(()=>{zn(O,`--swiping-ratio: ${f.swipingRatio}; --transition-timing-default: ${f.duration}s;`),me(O,1,pe(["main",{isAnimationOn:f.working&&!f.isSwiping,open:s(b)||s(C).type!=="closed"}]),"svelte-1n46o8q")}),p(e,x),J()}tt(["click"]);function wd(e){cc(e,{children:(t,n)=>{md(t,{})}})}window.addEventListener("unhandledrejection",e=>{alert("Error: "+e.reason.message)});window.isUnsupportedBrowser||Xi(wd,{target:document.getElementById("app")});export{zr as $,Ea as A,Jt as B,Ur as C,ba as D,Vo as E,bd as F,ie as G,iu as H,ke as I,me as J,pe as K,ws as L,kd as M,Cd as N,zn as O,W as P,Ol as Q,Kn as R,Dt as S,Sl as T,ys as U,Qe as V,il as W,Hr as X,Pl as Y,Yn as Z,oc as _,ye as a,ls as a0,ve as a1,_s as a2,De as b,A as c,p as d,Fr as e,j as f,s as g,Bt as h,ur as i,z as j,Oe as k,y as l,q as m,J as n,Pe as o,X as p,H as q,M as r,U as s,ue as t,Le as u,tt as v,Te as w,Zt as x,R as y,pt as z};
