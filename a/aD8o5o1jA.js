import{p as U,$ as le,b as re,w as ce,o as oe,f as G,s as t,c as e,h as d,d as v,I as m,t as H,a0 as j,a1 as q,g as n,i as R,m as V,a as ne,r as X,u as pe,a2 as ie,j as de,a3 as ve,A as _,P as o}from"./aBl2sOZC9.js";import{a as me,S as he}from"./aCbjq8DCr.js";var ue=G('<div class="a p-104wypr"><fieldset class="b p-104wypr"><legend class="c p-104wypr">Color Scheme</legend> <input id="light" class="c d p-104wypr" type="radio" aria-label="Light"/> <label for="light" class="e f p-104wypr" title="Light" aria-label="Light"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <input id="system" class="c d p-104wypr" type="radio" aria-label="System"/> <label for="system" class="e g p-104wypr" title="System" aria-label="System"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <input id="dark" class="c d p-104wypr" type="radio" aria-label="Dark"/> <label for="dark" class="e h p-104wypr" title="Dark" aria-label="Dark"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <div class="i p-104wypr"><div class="j p-104wypr"></div></div></fieldset></div>');function we(M,P){U(P,!0);const{createBroadcastChannel:h}=le(),p=h(),l={Light:"light",System:"system",Dark:"dark"};let y=re(ce(localStorage.getItem("colorScheme")||l.System));const b=s=>{localStorage.setItem("colorScheme",s);const r=document.querySelector('meta[name="theme-color"]'),c=document.querySelector('meta[name="apple-mobile-web-app-status-bar-style"]');s===l.System?window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.dataset.colorScheme=l.Dark:document.documentElement.dataset.colorScheme=l.Light:document.documentElement.dataset.colorScheme=s,r&&c&&(s===l.Dark||s===l.System&&window.matchMedia("(prefers-color-scheme: dark)").matches?(r.content="#202020",c.content="black"):(r.content="#fff",c.content="black-translucent")),ne(y,s,!0)},k=s=>{const r=s.target.value;b(r),p.postMessage({type:"setColorScheme",data:{scheme:r}})},f="color-scheme-switcher";oe(()=>{const s=r=>{const c=JSON.parse(r.data);c?.type==="setColorScheme"&&c?.data.scheme&&b(c.data.scheme)};return p.addEventListener(s),()=>{p.removeEventListener(s)}});var B={setColorScheme:b,handleChange:k},I=ue(),L=e(I),i=t(e(L),2);d(i,"name",f),i.__change=k;var x=t(i,2),S=e(x);v(S,()=>({"--size":"20px"})),m(S.lastChild,{name:"sun"});var u=t(x,2);d(u,"name",f),u.__change=k;var C=t(u,2),g=e(C);v(g,()=>({"--size":"14px"})),m(g.lastChild,{name:"a"});var w=t(C,2);d(w,"name",f),w.__change=k;var z=t(w,2),D=e(z);return v(D,()=>({"--size":"20px"})),m(D.lastChild,{name:"moon"}),H(()=>{j(i,l.Light),q(i,n(y)===l.Light),j(u,l.System),q(u,n(y)===l.System),j(w,l.Dark),q(w,n(y)===l.Dark)}),R(M,I),V(B)}X(["change"]);var _e=G('<li class="p-kwcsxa"><a class="b p-kwcsxa"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="c p-kwcsxa">Install app</span></a></li>'),ye=G('<div class="a p-kwcsxa"><!> <ul class="p-kwcsxa"><!> <li class="p-kwcsxa"><a class="b p-kwcsxa"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="c p-kwcsxa">Account</span></a></li> <li class="p-kwcsxa"><a class="b p-kwcsxa"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="c p-kwcsxa">Import</span></a></li> <li class="p-kwcsxa"><a class="b p-kwcsxa"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="c p-kwcsxa">Export</span></a></li> <li class="p-kwcsxa"><a class="b p-kwcsxa"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="c p-kwcsxa">About</span></a></li></ul> <div class="d p-kwcsxa"><span class="e p-kwcsxa">favicons (by DuckDuckGo)</span> <!></div> <div><span class="e p-kwcsxa">record mode:</span> <!></div></div>');function be(M,P){U(P,!0);const{createDialogPageHref:h,createHandleClickDialogPage:p}=pe(),{setFaviconShown:l,getFaviconEnabled:y,getRecordMode:b,setRecordMode:k}=ie();let f=_(y),B=_(b);const I=a=>{l(a)};var L=ye(),i=e(L);we(i,{});var x=t(i,2),S=e(x);{var u=a=>{var A=_e(),E=e(A),N=_(()=>p(o.Install));E.__click=function(...T){n(N)?.apply(this,T)};var Q=e(E);v(Q,()=>({"--size":"28px"})),m(Q.lastChild,{name:"install"}),H(T=>d(E,"href",T),[()=>h(o.Install)]),R(a,A)};de(S,a=>{ve()||a(u)})}var C=t(S,2),g=e(C),w=_(()=>p(o.Account));g.__click=function(...a){n(w)?.apply(this,a)};var z=e(g);v(z,()=>({"--size":"28px"})),m(z.lastChild,{name:"account"});var D=t(C,2),s=e(D),r=_(()=>p(o.ImportData));s.__click=function(...a){n(r)?.apply(this,a)};var c=e(s);v(c,()=>({"--size":"28px"})),m(c.lastChild,{name:"import"});var J=t(D,2),F=e(J),Y=_(()=>p(o.ExportData));F.__click=function(...a){n(Y)?.apply(this,a)};var O=e(F);v(O,()=>({"--size":"28px"})),m(O.lastChild,{name:"export"});var Z=t(J,2),$=e(Z),ee=_(()=>p(o.About));$.__click=function(...a){n(ee)?.apply(this,a)};var W=e($);v(W,()=>({"--size":"28px"})),m(W.lastChild,{name:"about"});var K=t(x,2),ae=t(e(K),2);me(ae,{get checked(){return n(f)},onChange:I});var se=t(K,2),te=t(e(se),2);he(te,{items:[{title:"Bookmark",value:"bookmark"},{title:"Note",value:"note"}],get value(){return n(B)},onChange:a=>{k(a)}}),H((a,A,E,N)=>{d(g,"href",a),d(s,"href",A),d(F,"href",E),d($,"href",N)},[()=>h(o.Account),()=>h(o.ImportData),()=>h(o.ExportData),()=>h(o.About)]),R(M,L),V()}X(["click"]);export{be as default};
