import{p as Q,Y as re,h as ne,r as ie,o as G,g as c,f as K,s as r,c as e,J as w,K as C,b as v,a as d,I as m,t as H,M as F,N as q,d as J,j as R,k as ce,w as U,n as oe,Z as pe,i as ve,_ as de,y as k,P as n}from"./aCNbvQ7rt.js";import{S as me}from"./aBwn3cS4I.js";var he=K('<div class="wrapper svelte-1rhfuek"><fieldset class="switcher svelte-1rhfuek"><legend class="vh svelte-1rhfuek">Color Scheme</legend> <input id="light" type="radio" aria-label="Light"/> <label for="light" title="Light" aria-label="Light"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <input id="system" type="radio" aria-label="System"/> <label for="system" title="System" aria-label="System"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <input id="dark" type="radio" aria-label="Dark"/> <label for="dark" title="Dark" aria-label="Dark"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <div class="wrapSwitcherStatus svelte-1rhfuek"><div class="switcherStatus svelte-1rhfuek"></div></div></fieldset></div>');function ue(z,$){Q($,!0);const{createBroadcastChannel:h}=re(),x=h(),s={Light:"light",System:"system",Dark:"dark"};let f=ne(ie(localStorage.getItem("colorScheme")||s.System));const T=t=>{localStorage.setItem("colorScheme",t);const i=document.querySelector('meta[name="theme-color"]'),l=document.querySelector('meta[name="apple-mobile-web-app-status-bar-style"]');t===s.System?window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.dataset.colorScheme=s.Dark:document.documentElement.dataset.colorScheme=s.Light:document.documentElement.dataset.colorScheme=t,i&&(t===s.Dark||t===s.System&&window.matchMedia("(prefers-color-scheme: dark)").matches?(i.content="#000",l.content="black"):(i.content="#f7f7f7",l.content="black-translucent")),ce(f,t,!0)},_=t=>{const i=t.target.value;T(i),x.postMessage({type:"setColorScheme",data:{scheme:i}})},g="color-scheme-switcher";G(()=>{const t=i=>{const l=JSON.parse(i.data);l?.type==="setColorScheme"&&l?.data.scheme&&T(l.data.scheme)};return x.addEventListener(t),()=>{x.removeEventListener(t)}}),G(()=>{const t=()=>{setTimeout(()=>{document.querySelector('meta[name="theme-color"]').remove();const l=document.createElement("meta");l.name="theme-color",l.content="#ff0000",document.head.appendChild(l),setTimeout(()=>{l.content=c(f)==="dark"?"#000":"#f7f7f7"},3e3)},3e3)};return document.addEventListener("visibilitychange",t),()=>document.removeEventListener("visibilitychange",t)});var I={setColorScheme:T,handleChange:_},E=he(),A=e(E),o=r(e(A),2);w(o,1,C(["vh","input"]),"svelte-1rhfuek"),v(o,"name",g),o.__change=_;var y=r(o,2);w(y,1,C(["switcherButton","light"]),"svelte-1rhfuek");var P=e(y);d(P,()=>({"--size":"20px"})),m(P.lastChild,{name:"sun"});var p=r(y,2);w(p,1,C(["vh","input"]),"svelte-1rhfuek"),v(p,"name",g),p.__change=_;var b=r(p,2);w(b,1,C(["switcherButton","system"]),"svelte-1rhfuek");var S=e(b);d(S,()=>({"--size":"14px"})),m(S.lastChild,{name:"a"});var u=r(b,2);w(u,1,C(["vh","input"]),"svelte-1rhfuek"),v(u,"name",g),u.__change=_;var D=r(u,2);w(D,1,C(["switcherButton","dark"]),"svelte-1rhfuek");var L=e(D);return d(L,()=>({"--size":"20px"})),m(L.lastChild,{name:"moon"}),H(()=>{F(o,s.Light),q(o,c(f)===s.Light),F(p,s.System),q(p,c(f)===s.System),F(u,s.Dark),q(u,c(f)===s.Dark)}),J(z,E),R(I)}U(["change"]);var fe=K('<li class="svelte-1pi6mf7"><a class="button svelte-1pi6mf7"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1pi6mf7">Install app</span></a></li>'),_e=K('<div class="block svelte-1pi6mf7"><!> <ul class="svelte-1pi6mf7"><!> <li class="svelte-1pi6mf7"><a class="button svelte-1pi6mf7"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1pi6mf7">Account</span></a></li> <li class="svelte-1pi6mf7"><a class="button svelte-1pi6mf7"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1pi6mf7">Import data</span></a></li> <li class="svelte-1pi6mf7"><a class="button svelte-1pi6mf7"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1pi6mf7">Export data</span></a></li> <li class="svelte-1pi6mf7"><a class="button svelte-1pi6mf7"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1pi6mf7">Clear storage</span></a></li> <li class="svelte-1pi6mf7"><a class="button svelte-1pi6mf7"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1pi6mf7">About</span></a></li></ul> <div class="favicons svelte-1pi6mf7"><span class="faviconsLabel svelte-1pi6mf7">show favicons (use duckduckgo servers)</span> <!></div> <div class="hotkeys svelte-1pi6mf7"><div class="hotkey__head svelte-1pi6mf7">Hotkeys:</div> <div>New note: <span class="hotkey svelte-1pi6mf7">N</span></div> <div>Search notes: <span class="hotkey svelte-1pi6mf7">Ctrl/Cmd + K</span></div> <div>Open sidebar: <span class="hotkey svelte-1pi6mf7">Ctrl/Cmd + B</span></div> <div>Close window: <span class="hotkey svelte-1pi6mf7">Esc</span></div></div></div>');function ge(z,$){Q($,!0);const{createHandlePage:h}=oe(),{setFaviconShown:x,getFaviconEnabled:s}=pe();let f=k(s);const T=a=>{x(a)};var _=_e(),g=e(_);ue(g,{});var I=r(g,2),E=e(I);{var A=a=>{var Y=fe(),N=e(Y),se=k(()=>h(n.Install));N.__click=function(...le){c(se)?.apply(this,le)};var Z=e(N);d(Z,()=>({"--size":"28px"})),m(Z.lastChild,{name:"install"}),H(()=>v(N,"href",`/?stackPages=${n.Install}`)),J(a,Y)};ve(E,a=>{de()||a(A)})}var o=r(E,2),y=e(o),P=k(()=>h(n.Account));y.__click=function(...a){c(P)?.apply(this,a)};var p=e(y);d(p,()=>({"--size":"28px"})),m(p.lastChild,{name:"account"});var b=r(o,2),S=e(b),u=k(()=>h(n.ImportData));S.__click=function(...a){c(u)?.apply(this,a)};var D=e(S);d(D,()=>({"--size":"28px"})),m(D.lastChild,{name:"import"});var L=r(b,2),t=e(L),i=k(()=>h(n.ExportData));t.__click=function(...a){c(i)?.apply(this,a)};var l=e(t);d(l,()=>({"--size":"28px"})),m(l.lastChild,{name:"export"});var O=r(L,2),B=e(O),V=k(()=>h(n.ClearStore));B.__click=function(...a){c(V)?.apply(this,a)};var j=e(B);d(j,()=>({"--size":"28px"})),m(j.lastChild,{name:"clear"});var X=r(O,2),M=e(X),ee=k(()=>h(n.About));M.__click=function(...a){c(ee)?.apply(this,a)};var W=e(M);d(W,()=>({"--size":"28px"})),m(W.lastChild,{name:"about"});var te=r(I,2),ae=r(e(te),2);me(ae,{get checked(){return c(f)},onChange:T}),H(()=>{v(y,"href",`/?stackPages=${n.Account}`),v(S,"href",`/?stackPages=${n.ImportData}`),v(t,"href",`/?stackPages=${n.ExportData}`),v(B,"href",`/?stackPages=${n.ClearStore}`),v(M,"href",`/?stackPages=${n.About}`)}),J(z,_),R()}U(["click"]);export{ge as default};
