const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["a/CPYXH2Sk.js","a/BAW-HnOs.css","a/6LHWD0Ht.js","a/9q_jSmK4.js","a/BEGDcNQV.js","a/CoBIEQkN.css","a/CwffZA6x.js","a/BYiYfrGn.css","a/BuZx1MVC.js","a/A07xSe-1.css","a/Bz2q4pzR.js","a/B_UsPGEu.css","a/BQlW6EUM.js","a/Cpa8lgv9.js","a/CmhYqtP3.js","a/j0KFa_-O.css","a/hu7yjlv8.css","a/BpER6Cte.js","a/BbR5b1VU.js","a/CTZccJ9I.css","a/HOTUjnfJ.css","a/kHBiordy.js","a/DdvqrzuO.css","a/BP7mXCBF.js","a/B0cemaEl.css","a/0DM8hy3d.js","a/wHiSqZiK.css","a/CzcOEp6p.js","a/CMsTAw-f.js","a/BJkY6727.css","a/COiyh7Tp.js","a/CTvV7MYb.css","a/9pUTpuOr.js","a/D0s4m_LM.css","a/DfvxFHZh.js","a/CwLtx71M.css","a/BcBU6HdW.js","a/CBB22PtM.css","a/D9O9Al5x.js","a/1JBO3KHP.css"])))=>i.map(i=>d[i]);
var Ls=Object.defineProperty;var Ba=t=>{throw TypeError(t)};var Bs=(t,e,n)=>e in t?Ls(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var vt=(t,e,n)=>Bs(t,typeof e!="symbol"?e+"":e,n),Wr=(t,e,n)=>e.has(t)||Ba("Cannot "+n);var N=(t,e,n)=>(Wr(t,e,"read from private field"),n?n.call(t):e.get(t)),pe=(t,e,n)=>e.has(t)?Ba("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ae=(t,e,n,r)=>(Wr(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),He=(t,e,n)=>(Wr(t,e,"access private method"),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();const to=!1;var da=Array.isArray,Ms=Array.prototype.indexOf,fa=Array.from,$r=Object.defineProperty,Tn=Object.getOwnPropertyDescriptor,no=Object.getOwnPropertyDescriptors,Is=Object.prototype,Os=Array.prototype,va=Object.getPrototypeOf,Ma=Object.isExtensible;const ye=()=>{};function Rs(t){return typeof t?.then=="function"}function Fs(t){return t()}function Cr(t){for(var e=0;e<t.length;e++)t[e]()}function zs(){var t,e,n=new Promise((r,a)=>{t=r,e=a});return{promise:n,resolve:t,reject:e}}function Hs(t,e,n=!1){return t===void 0?n?e():e:t}const ot=2,ha=4,Nr=8,jn=16,Ot=32,yn=64,ga=128,ut=256,Er=512,Ye=1024,dt=2048,en=4096,pt=8192,bn=16384,pa=32768,Vn=65536,Ia=1<<17,Us=1<<18,qn=1<<19,ro=1<<20,ea=1<<21,_a=1<<22,gn=1<<23,pn=Symbol("$state"),js=Symbol("legacy props"),Vs=Symbol(""),ma=new class extends Error{constructor(){super(...arguments);vt(this,"name","StaleReactionError");vt(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function ao(t){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function qs(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Ws(t){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Ys(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Ks(t){throw new Error("https://svelte.dev/e/effect_orphan")}function Gs(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Zs(t){throw new Error("https://svelte.dev/e/props_invalid_value")}function Xs(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Js(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Qs(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function $s(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const Lr=1,Br=2,oo=4,ei=8,ti=16,ni=1,ri=2,ai=4,oi=8,si=16,ii=1,li=2,Le=Symbol(),ci="http://www.w3.org/1999/xhtml";let ui=!1;function so(t){return t===this.v}function di(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function io(t){return!di(t,this.v)}let Wn=!1,fi=!1;function vi(){Wn=!0}let Se=null;function $t(t){Se=t}function Be(t){return lo().get(t)}function Me(t,e){return lo().set(t,e),e}function J(t,e=!1,n){Se={p:Se,c:null,e:null,s:t,x:null,l:Wn&&!e?{s:null,u:null,$:[]}:null}}function Q(t){var e=Se,n=e.e;if(n!==null){e.e=null;for(var r of n)Co(r)}return t!==void 0&&(e.x=t),Se=e.p,t??{}}function Yn(){return!Wn||Se!==null&&Se.l===null}function lo(t){return Se===null&&ao(),Se.c??(Se.c=new Map(hi(Se)||void 0))}function hi(t){let e=t.p;for(;e!==null;){const n=e.c;if(n!==null)return n;e=e.p}return null}let Gt=[],Pr=[];function co(){var t=Gt;Gt=[],Cr(t)}function gi(){var t=Pr;Pr=[],Cr(t)}function pi(){return Gt.length>0||Pr.length>0}function Sn(t){if(Gt.length===0&&!er){var e=Gt;queueMicrotask(()=>{e===Gt&&co()})}Gt.push(t)}function _i(){Gt.length>0&&co(),Pr.length>0&&gi()}const mi=new WeakMap;function uo(t){var e=de;if(e===null)return ce.f|=gn,t;if((e.f&pa)===0){if((e.f&ga)===0)throw!e.parent&&t instanceof Error&&fo(t),t;e.b.error(t)}else Rn(t,e)}function Rn(t,e){for(;e!==null;){if((e.f&ga)!==0)try{e.b.error(t);return}catch(n){t=n}e=e.parent}throw t instanceof Error&&fo(t),t}function fo(t){const e=mi.get(t);e&&($r(t,"message",{value:e.message}),$r(t,"stack",{value:e.stack}))}const Yr=new Set;let Ce=null,wr=null,ta=new Set,wn=[],Mr=null,na=!1,er=!1;var or,Mn,Vt,sr,ir,un,In,dn,qt,On,lr,cr,_t,vo,yr,ra;const Ar=class Ar{constructor(){pe(this,_t);vt(this,"current",new Map);pe(this,or,new Map);pe(this,Mn,new Set);pe(this,Vt,0);pe(this,sr,null);pe(this,ir,!1);pe(this,un,[]);pe(this,In,[]);pe(this,dn,[]);pe(this,qt,[]);pe(this,On,[]);pe(this,lr,[]);pe(this,cr,[]);vt(this,"skipped_effects",new Set)}process(e){wn=[],wr=null;for(const a of e)He(this,_t,vo).call(this,a);if(N(this,un).length===0&&N(this,Vt)===0){He(this,_t,ra).call(this);var n=N(this,dn),r=N(this,qt);ae(this,dn,[]),ae(this,qt,[]),ae(this,On,[]),wr=Ce,Ce=null,Oa(n),Oa(r),Ce===null?Ce=this:Yr.delete(this),N(this,sr)?.resolve()}else He(this,_t,yr).call(this,N(this,dn)),He(this,_t,yr).call(this,N(this,qt)),He(this,_t,yr).call(this,N(this,On));for(const a of N(this,un))Bn(a);for(const a of N(this,In))Bn(a);ae(this,un,[]),ae(this,In,[])}capture(e,n){N(this,or).has(e)||N(this,or).set(e,n),this.current.set(e,e.v)}activate(){Ce=this}deactivate(){Ce=null,wr=null;for(const e of ta)if(ta.delete(e),e(),Ce!==null)break}neuter(){ae(this,ir,!0)}flush(){wn.length>0?go():He(this,_t,ra).call(this),Ce===this&&(N(this,Vt)===0&&Yr.delete(this),this.deactivate())}increment(){ae(this,Vt,N(this,Vt)+1)}decrement(){if(ae(this,Vt,N(this,Vt)-1),N(this,Vt)===0){for(const e of N(this,lr))et(e,dt),Fn(e);for(const e of N(this,cr))et(e,en),Fn(e);ae(this,dn,[]),ae(this,qt,[]),this.flush()}else this.deactivate()}add_callback(e){N(this,Mn).add(e)}settled(){return(N(this,sr)??ae(this,sr,zs())).promise}static ensure(){if(Ce===null){const e=Ce=new Ar;Yr.add(Ce),er||Ar.enqueue(()=>{Ce===e&&e.flush()})}return Ce}static enqueue(e){Sn(e)}};or=new WeakMap,Mn=new WeakMap,Vt=new WeakMap,sr=new WeakMap,ir=new WeakMap,un=new WeakMap,In=new WeakMap,dn=new WeakMap,qt=new WeakMap,On=new WeakMap,lr=new WeakMap,cr=new WeakMap,_t=new WeakSet,vo=function(e){e.f^=Ye;for(var n=e.first;n!==null;){var r=n.f,a=(r&(Ot|yn))!==0,o=a&&(r&Ye)!==0,i=o||(r&pt)!==0||this.skipped_effects.has(n);if(!i&&n.fn!==null){if(a)n.f^=Ye;else if((r&ha)!==0)N(this,qt).push(n);else if((r&Ye)===0)if((r&_a)!==0){var l=n.b?.is_pending()?N(this,In):N(this,un);l.push(n)}else Fr(n)&&((n.f&jn)!==0&&N(this,On).push(n),Bn(n));var c=n.first;if(c!==null){n=c;continue}}var u=n.parent;for(n=n.next;n===null&&u!==null;)n=u.next,u=u.parent}},yr=function(e){for(const n of e)((n.f&dt)!==0?N(this,lr):N(this,cr)).push(n),et(n,Ye);e.length=0},ra=function(){if(!N(this,ir))for(const e of N(this,Mn))e();N(this,Mn).clear()};let Xt=Ar;function ho(t){var e=er;er=!0;try{for(var n;;){if(_i(),wn.length===0&&!pi()&&(Ce?.flush(),wn.length===0))return Mr=null,n;go()}}finally{er=e}}function go(){var t=Ln;na=!0;try{var e=0;for(za(!0);wn.length>0;){var n=Xt.ensure();if(e++>1e3){var r,a;wi()}n.process(wn),Jt.clear()}}finally{na=!1,za(t),Mr=null}}function wi(){try{Gs()}catch(t){Rn(t,Mr)}}let ln=null;function Oa(t){var e=t.length;if(e!==0){for(var n=0;n<e;){var r=t[n++];if((r.f&(bn|pt))===0&&Fr(r)&&(ln=[],Bn(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?xo(r):r.fn=null),ln?.length>0)){Jt.clear();for(const a of ln)Bn(a);ln=[]}}ln=null}}function Fn(t){for(var e=Mr=t;e.parent!==null;){e=e.parent;var n=e.f;if(na&&e===de&&(n&jn)!==0)return;if((n&(yn|Ot))!==0){if((n&Ye)===0)return;e.f^=Ye}}wn.push(e)}function yi(t){let e=0,n=Mt(0),r;return()=>{Oi()&&(s(n),Rr(()=>(e===0&&(r=tn(()=>t(()=>tr(n)))),e+=1,()=>{Sn(()=>{e-=1,e===0&&(r?.(),r=void 0,tr(n))})})))}}var bi=Vn|qn|ga;function Si(t,e,n){new ki(t,e,n)}var ht,lt,ua,Et,fn,Pt,ct,$e,xt,Wt,vn,Yt,hn,Kt,Dr,Tr,Xe,Ci,Ei,br,Sr,aa;class ki{constructor(e,n,r){pe(this,Xe);vt(this,"parent");pe(this,ht,!1);pe(this,lt);pe(this,ua,null);pe(this,Et);pe(this,fn);pe(this,Pt);pe(this,ct,null);pe(this,$e,null);pe(this,xt,null);pe(this,Wt,null);pe(this,vn,0);pe(this,Yt,0);pe(this,hn,!1);pe(this,Kt,null);pe(this,Dr,()=>{N(this,Kt)&&Nt(N(this,Kt),N(this,vn))});pe(this,Tr,yi(()=>(ae(this,Kt,Mt(N(this,vn))),()=>{ae(this,Kt,null)})));ae(this,lt,e),ae(this,Et,n),ae(this,fn,r),this.parent=de.b,ae(this,ht,!!N(this,Et).pending),ae(this,Pt,Kn(()=>{de.b=this;{try{ae(this,ct,We(()=>r(N(this,lt))))}catch(a){this.error(a)}N(this,Yt)>0?He(this,Xe,Sr).call(this):ae(this,ht,!1)}},bi))}is_pending(){return N(this,ht)||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!N(this,Et).pending}update_pending_count(e){He(this,Xe,aa).call(this,e),ae(this,vn,N(this,vn)+e),ta.add(N(this,Dr))}get_effect_pending(){return N(this,Tr).call(this),s(N(this,Kt))}error(e){var n=N(this,Et).onerror;let r=N(this,Et).failed;if(N(this,hn)||!n&&!r)throw e;N(this,ct)&&(at(N(this,ct)),ae(this,ct,null)),N(this,$e)&&(at(N(this,$e)),ae(this,$e,null)),N(this,xt)&&(at(N(this,xt)),ae(this,xt,null));var a=!1,o=!1;const i=()=>{if(a){return}a=!0,o&&$s(),Xt.ensure(),ae(this,vn,0),N(this,xt)!==null&&At(N(this,xt),()=>{ae(this,xt,null)}),ae(this,ht,this.has_pending_snippet()),ae(this,ct,He(this,Xe,br).call(this,()=>(ae(this,hn,!1),We(()=>N(this,fn).call(this,N(this,lt)))))),N(this,Yt)>0?He(this,Xe,Sr).call(this):ae(this,ht,!1)};var l=ce;try{Ke(null),o=!0,n?.(e,i),o=!1}catch(c){Rn(c,N(this,Pt)&&N(this,Pt).parent)}finally{Ke(l)}r&&Sn(()=>{ae(this,xt,He(this,Xe,br).call(this,()=>{ae(this,hn,!0);try{return We(()=>{r(N(this,lt),()=>e,()=>i)})}catch(c){return Rn(c,N(this,Pt).parent),null}finally{ae(this,hn,!1)}}))})}}ht=new WeakMap,lt=new WeakMap,ua=new WeakMap,Et=new WeakMap,fn=new WeakMap,Pt=new WeakMap,ct=new WeakMap,$e=new WeakMap,xt=new WeakMap,Wt=new WeakMap,vn=new WeakMap,Yt=new WeakMap,hn=new WeakMap,Kt=new WeakMap,Dr=new WeakMap,Tr=new WeakMap,Xe=new WeakSet,Ci=function(){try{ae(this,ct,We(()=>N(this,fn).call(this,N(this,lt))))}catch(e){this.error(e)}ae(this,ht,!1)},Ei=function(){const e=N(this,Et).pending;e&&(ae(this,$e,We(()=>e(N(this,lt)))),Xt.enqueue(()=>{ae(this,ct,He(this,Xe,br).call(this,()=>(Xt.ensure(),We(()=>N(this,fn).call(this,N(this,lt)))))),N(this,Yt)>0?He(this,Xe,Sr).call(this):(At(N(this,$e),()=>{ae(this,$e,null)}),ae(this,ht,!1))}))},br=function(e){var n=de,r=ce,a=Se;ft(N(this,Pt)),Ke(N(this,Pt)),$t(N(this,Pt).ctx);try{return e()}catch(o){return uo(o),null}finally{ft(n),Ke(r),$t(a)}},Sr=function(){const e=N(this,Et).pending;N(this,ct)!==null&&(ae(this,Wt,document.createDocumentFragment()),Pi(N(this,ct),N(this,Wt))),N(this,$e)===null&&ae(this,$e,We(()=>e(N(this,lt))))},aa=function(e){var n;if(!this.has_pending_snippet()){this.parent&&He(n=this.parent,Xe,aa).call(n,e);return}ae(this,Yt,N(this,Yt)+e),N(this,Yt)===0&&(ae(this,ht,!1),N(this,$e)&&At(N(this,$e),()=>{ae(this,$e,null)}),N(this,Wt)&&(N(this,lt).before(N(this,Wt)),ae(this,Wt,null)))};function Pi(t,e){for(var n=t.nodes_start,r=t.nodes_end;n!==null;){var a=n===r?null:dr(n);e.append(n),n=a}}function xi(t,e,n){const r=Yn()?ur:Ir;if(e.length===0){n(t.map(r));return}var a=Ce,o=de,i=Ai();Promise.all(e.map(l=>Di(l))).then(l=>{a?.activate(),i();try{n([...t.map(r),...l])}catch(c){(o.f&bn)===0&&Rn(c,o)}a?.deactivate(),po()}).catch(l=>{Rn(l,o)})}function Ai(){var t=de,e=ce,n=Se,r=Ce;return function(){ft(t),Ke(e),$t(n),r?.activate()}}function po(){ft(null),Ke(null),$t(null)}function ur(t){var e=ot|dt,n=ce!==null&&(ce.f&ot)!==0?ce:null;return de===null||n!==null&&(n.f&ut)!==0?e|=ut:de.f|=qn,{ctx:Se,deps:null,effects:null,equals:so,f:e,fn:t,reactions:null,rv:0,v:Le,wv:0,parent:n??de,ac:null}}function Di(t,e){let n=de;n===null&&qs();var r=n.b,a=void 0,o=Mt(Le),i=null,l=!ce;return Ui(()=>{try{var c=t();i&&Promise.resolve(c).catch(()=>{})}catch(g){c=Promise.reject(g)}var u=()=>c;a=i?.then(u,u)??Promise.resolve(c),i=a;var d=Ce,v=r.is_pending();l&&(r.update_pending_count(1),v||d.increment());const h=(g,f=void 0)=>{i=null,v||d.activate(),f?f!==ma&&(o.f|=gn,Nt(o,f)):((o.f&gn)!==0&&(o.f^=gn),Nt(o,g)),l&&(r.update_pending_count(-1),v||d.decrement()),po()};if(a.then(h,g=>h(null,g||"unknown")),d)return()=>{queueMicrotask(()=>d.neuter())}}),new Promise(c=>{function u(d){function v(){d===a?c(o):u(a)}d.then(v,v)}u(a)})}function R(t){const e=ur(t);return To(e),e}function Ir(t){const e=ur(t);return e.equals=io,e}function _o(t){var e=t.effects;if(e!==null){t.effects=null;for(var n=0;n<e.length;n+=1)at(e[n])}}function Ti(t){for(var e=t.parent;e!==null;){if((e.f&ot)===0)return e;e=e.parent}return null}function wa(t){var e,n=de;ft(Ti(t));try{_o(t),e=Mo(t)}finally{ft(n)}return e}function mo(t){var e=wa(t);if(t.equals(e)||(t.v=e,t.wv=Lo()),!Cn){var n=(Zt||(t.f&ut)!==0)&&t.deps!==null?en:Ye;et(t,n)}}const Jt=new Map;function Mt(t,e){var n={f:0,v:t,reactions:null,equals:so,rv:0,wv:0};return n}function z(t,e){const n=Mt(t);return To(n),n}function oa(t,e=!1,n=!0){var a;const r=Mt(t);return e||(r.equals=io),Wn&&n&&Se!==null&&Se.l!==null&&((a=Se.l).s??(a.s=[])).push(r),r}function y(t,e,n=!1){ce!==null&&(!gt||(ce.f&Ia)!==0)&&Yn()&&(ce.f&(ot|jn|_a|Ia))!==0&&!Lt?.includes(t)&&Qs();let r=n?Re(e):e;return Nt(t,r)}function Nt(t,e){if(!t.equals(e)){var n=t.v;Cn?Jt.set(t,e):Jt.set(t,n),t.v=e;var r=Xt.ensure();r.capture(t,n),(t.f&ot)!==0&&((t.f&dt)!==0&&wa(t),et(t,(t.f&ut)===0?Ye:en)),t.wv=Lo(),wo(t,dt),Yn()&&de!==null&&(de.f&Ye)!==0&&(de.f&(Ot|yn))===0&&(it===null?qi([t]):it.push(t))}return e}function tr(t){y(t,t.v+1)}function wo(t,e){var n=t.reactions;if(n!==null)for(var r=Yn(),a=n.length,o=0;o<a;o++){var i=n[o],l=i.f;if(!(!r&&i===de)){var c=(l&dt)===0;c&&et(i,e),(l&ot)!==0?wo(i,en):c&&((l&jn)!==0&&ln!==null&&ln.push(i),Fn(i))}}}function Re(t){if(typeof t!="object"||t===null||pn in t)return t;const e=va(t);if(e!==Is&&e!==Os)return t;var n=new Map,r=da(t),a=z(0),o=_n,i=l=>{if(_n===o)return l();var c=ce,u=_n;Ke(null),Ua(o);var d=l();return Ke(c),Ua(u),d};return r&&n.set("length",z(t.length)),new Proxy(t,{defineProperty(l,c,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&Xs();var d=n.get(c);return d===void 0?d=i(()=>{var v=z(u.value);return n.set(c,v),v}):y(d,u.value,!0),!0},deleteProperty(l,c){var u=n.get(c);if(u===void 0){if(c in l){const d=i(()=>z(Le));n.set(c,d),tr(a)}}else y(u,Le),tr(a);return!0},get(l,c,u){if(c===pn)return t;var d=n.get(c),v=c in l;if(d===void 0&&(!v||Tn(l,c)?.writable)&&(d=i(()=>{var g=Re(v?l[c]:Le),f=z(g);return f}),n.set(c,d)),d!==void 0){var h=s(d);return h===Le?void 0:h}return Reflect.get(l,c,u)},getOwnPropertyDescriptor(l,c){var u=Reflect.getOwnPropertyDescriptor(l,c);if(u&&"value"in u){var d=n.get(c);d&&(u.value=s(d))}else if(u===void 0){var v=n.get(c),h=v?.v;if(v!==void 0&&h!==Le)return{enumerable:!0,configurable:!0,value:h,writable:!0}}return u},has(l,c){if(c===pn)return!0;var u=n.get(c),d=u!==void 0&&u.v!==Le||Reflect.has(l,c);if(u!==void 0||de!==null&&(!d||Tn(l,c)?.writable)){u===void 0&&(u=i(()=>{var h=d?Re(l[c]):Le,g=z(h);return g}),n.set(c,u));var v=s(u);if(v===Le)return!1}return d},set(l,c,u,d){var v=n.get(c),h=c in l;if(r&&c==="length")for(var g=u;g<v.v;g+=1){var f=n.get(g+"");f!==void 0?y(f,Le):g in l&&(f=i(()=>z(Le)),n.set(g+"",f))}if(v===void 0)(!h||Tn(l,c)?.writable)&&(v=i(()=>z(void 0)),y(v,Re(u)),n.set(c,v));else{h=v.v!==Le;var p=i(()=>Re(u));y(v,p)}var w=Reflect.getOwnPropertyDescriptor(l,c);if(w?.set&&w.set.call(d,u),!h){if(r&&typeof c=="string"){var S=n.get("length"),k=Number(c);Number.isInteger(k)&&k>=S.v&&y(S,k+1)}tr(a)}return!0},ownKeys(l){s(a);var c=Reflect.ownKeys(l).filter(v=>{var h=n.get(v);return h===void 0||h.v!==Le});for(var[u,d]of n)d.v!==Le&&!(u in l)&&c.push(u);return c},setPrototypeOf(){Js()}})}var Ra,yo,bo,So;function Ni(){if(Ra===void 0){Ra=window,yo=/Firefox/.test(navigator.userAgent);var t=Element.prototype,e=Node.prototype,n=Text.prototype;bo=Tn(e,"firstChild").get,So=Tn(e,"nextSibling").get,Ma(t)&&(t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__style=void 0,t.__e=void 0),Ma(n)&&(n.__t=void 0)}}function kn(t=""){return document.createTextNode(t)}function zn(t){return bo.call(t)}function dr(t){return So.call(t)}function P(t,e){return zn(t)}function B(t,e=!1){{var n=zn(t);return n instanceof Comment&&n.data===""?dr(n):n}}function V(t,e=1,n=!1){let r=t;for(;e--;)r=dr(r);return r}function Li(t){t.textContent=""}function ya(){return!1}let Fa=!1;function Bi(){Fa||(Fa=!0,document.addEventListener("reset",t=>{Promise.resolve().then(()=>{if(!t.defaultPrevented)for(const e of t.target.elements)e.__on_r?.()})},{capture:!0}))}function Or(t){var e=ce,n=de;Ke(null),ft(null);try{return t()}finally{Ke(e),ft(n)}}function Mi(t,e,n,r=n){t.addEventListener(e,()=>Or(n));const a=t.__on_r;a?t.__on_r=()=>{a(),r(!0)}:t.__on_r=()=>r(!0),Bi()}function ko(t){de===null&&ce===null&&Ks(),ce!==null&&(ce.f&ut)!==0&&de===null&&Ys(),Cn&&Ws()}function Ii(t,e){var n=e.last;n===null?e.last=e.first=t:(n.next=t,t.prev=n,e.last=t)}function Tt(t,e,n,r=!0){var a=de;a!==null&&(a.f&pt)!==0&&(t|=pt);var o={ctx:Se,deps:null,nodes_start:null,nodes_end:null,f:t|dt,first:null,fn:e,last:null,next:null,parent:a,b:a&&a.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{Bn(o),o.f|=pa}catch(c){throw at(o),c}else e!==null&&Fn(o);if(r){var i=o;if(n&&i.deps===null&&i.teardown===null&&i.nodes_start===null&&i.first===i.last&&(i.f&qn)===0&&(i=i.first),i!==null&&(i.parent=a,a!==null&&Ii(i,a),ce!==null&&(ce.f&ot)!==0&&(t&yn)===0)){var l=ce;(l.effects??(l.effects=[])).push(i)}}return o}function Oi(){return ce!==null&&!gt}function Ri(t){const e=Tt(Nr,null,!1);return et(e,Ye),e.teardown=t,e}function De(t){ko();var e=de.f,n=!ce&&(e&Ot)!==0&&(e&pa)===0;if(n){var r=Se;(r.e??(r.e=[])).push(t)}else return Co(t)}function Co(t){return Tt(ha|ro,t,!1)}function Fi(t){return ko(),Tt(Nr|ro,t,!0)}function zi(t){Xt.ensure();const e=Tt(yn|qn,t,!0);return(n={})=>new Promise(r=>{n.outro?At(e,()=>{at(e),r(void 0)}):(at(e),r(void 0))})}function Hi(t){return Tt(ha,t,!1)}function Ui(t){return Tt(_a|qn,t,!0)}function Rr(t,e=0){return Tt(Nr|e,t,!0)}function ue(t,e=[],n=[]){xi(e,n,r=>{Tt(Nr,()=>t(...r.map(s)),!0)})}function Kn(t,e=0){var n=Tt(jn|e,t,!0);return n}function We(t,e=!0){return Tt(Ot|qn,t,!0,e)}function Eo(t){var e=t.teardown;if(e!==null){const n=Cn,r=ce;Ha(!0),Ke(null);try{e.call(null)}finally{Ha(n),Ke(r)}}}function Po(t,e=!1){var n=t.first;for(t.first=t.last=null;n!==null;){const a=n.ac;a!==null&&Or(()=>{a.abort(ma)});var r=n.next;(n.f&yn)!==0?n.parent=null:at(n,e),n=r}}function ji(t){for(var e=t.first;e!==null;){var n=e.next;(e.f&Ot)===0&&at(e),e=n}}function at(t,e=!0){var n=!1;(e||(t.f&Us)!==0)&&t.nodes_start!==null&&t.nodes_end!==null&&(Vi(t.nodes_start,t.nodes_end),n=!0),Po(t,e&&!n),xr(t,0),et(t,bn);var r=t.transitions;if(r!==null)for(const o of r)o.stop();Eo(t);var a=t.parent;a!==null&&a.first!==null&&xo(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes_start=t.nodes_end=t.ac=null}function Vi(t,e){for(;t!==null;){var n=t===e?null:dr(t);t.remove(),t=n}}function xo(t){var e=t.parent,n=t.prev,r=t.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),e!==null&&(e.first===t&&(e.first=r),e.last===t&&(e.last=n))}function At(t,e){var n=[];ba(t,n,!0),Ao(n,()=>{at(t),e&&e()})}function Ao(t,e){var n=t.length;if(n>0){var r=()=>--n||e();for(var a of t)a.out(r)}else e()}function ba(t,e,n){if((t.f&pt)===0){if(t.f^=pt,t.transitions!==null)for(const i of t.transitions)(i.is_global||n)&&e.push(i);for(var r=t.first;r!==null;){var a=r.next,o=(r.f&Vn)!==0||(r.f&Ot)!==0;ba(r,e,o?n:!1),r=a}}}function Nn(t){Do(t,!0)}function Do(t,e){if((t.f&pt)!==0){t.f^=pt,(t.f&Ye)===0&&(et(t,dt),Fn(t));for(var n=t.first;n!==null;){var r=n.next,a=(n.f&Vn)!==0||(n.f&Ot)!==0;Do(n,a?e:!1),n=r}if(t.transitions!==null)for(const o of t.transitions)(o.is_global||e)&&o.in()}}let Ln=!1;function za(t){Ln=t}let Cn=!1;function Ha(t){Cn=t}let ce=null,gt=!1;function Ke(t){ce=t}let de=null;function ft(t){de=t}let Lt=null;function To(t){ce!==null&&(Lt===null?Lt=[t]:Lt.push(t))}let Ze=null,nt=0,it=null;function qi(t){it=t}let No=1,rr=0,_n=rr;function Ua(t){_n=t}let Zt=!1;function Lo(){return++No}function Fr(t){var e=t.f;if((e&dt)!==0)return!0;if((e&en)!==0){var n=t.deps,r=(e&ut)!==0;if(n!==null){var a,o,i=(e&Er)!==0,l=r&&de!==null&&!Zt,c=n.length;if((i||l)&&(de===null||(de.f&bn)===0)){var u=t,d=u.parent;for(a=0;a<c;a++)o=n[a],(i||!o?.reactions?.includes(u))&&(o.reactions??(o.reactions=[])).push(u);i&&(u.f^=Er),l&&d!==null&&(d.f&ut)===0&&(u.f^=ut)}for(a=0;a<c;a++)if(o=n[a],Fr(o)&&mo(o),o.wv>t.wv)return!0}(!r||de!==null&&!Zt)&&et(t,Ye)}return!1}function Bo(t,e,n=!0){var r=t.reactions;if(r!==null&&!Lt?.includes(t))for(var a=0;a<r.length;a++){var o=r[a];(o.f&ot)!==0?Bo(o,e,!1):e===o&&(n?et(o,dt):(o.f&Ye)!==0&&et(o,en),Fn(o))}}function Mo(t){var p;var e=Ze,n=nt,r=it,a=ce,o=Zt,i=Lt,l=Se,c=gt,u=_n,d=t.f;Ze=null,nt=0,it=null,Zt=(d&ut)!==0&&(gt||!Ln||ce===null),ce=(d&(Ot|yn))===0?t:null,Lt=null,$t(t.ctx),gt=!1,_n=++rr,t.ac!==null&&(Or(()=>{t.ac.abort(ma)}),t.ac=null);try{t.f|=ea;var v=t.fn,h=v(),g=t.deps;if(Ze!==null){var f;if(xr(t,nt),g!==null&&nt>0)for(g.length=nt+Ze.length,f=0;f<Ze.length;f++)g[nt+f]=Ze[f];else t.deps=g=Ze;if(!Zt||(d&ot)!==0&&t.reactions!==null)for(f=nt;f<g.length;f++)((p=g[f]).reactions??(p.reactions=[])).push(t)}else g!==null&&nt<g.length&&(xr(t,nt),g.length=nt);if(Yn()&&it!==null&&!gt&&g!==null&&(t.f&(ot|en|dt))===0)for(f=0;f<it.length;f++)Bo(it[f],t);return a!==null&&a!==t&&(rr++,it!==null&&(r===null?r=it:r.push(...it))),(t.f&gn)!==0&&(t.f^=gn),h}catch(w){return uo(w)}finally{t.f^=ea,Ze=e,nt=n,it=r,ce=a,Zt=o,Lt=i,$t(l),gt=c,_n=u}}function Wi(t,e){let n=e.reactions;if(n!==null){var r=Ms.call(n,t);if(r!==-1){var a=n.length-1;a===0?n=e.reactions=null:(n[r]=n[a],n.pop())}}n===null&&(e.f&ot)!==0&&(Ze===null||!Ze.includes(e))&&(et(e,en),(e.f&(ut|Er))===0&&(e.f^=Er),_o(e),xr(e,0))}function xr(t,e){var n=t.deps;if(n!==null)for(var r=e;r<n.length;r++)Wi(t,n[r])}function Bn(t){var e=t.f;if((e&bn)===0){et(t,Ye);var n=de,r=Ln;de=t,Ln=!0;try{(e&jn)!==0?ji(t):Po(t),Eo(t);var a=Mo(t);t.teardown=typeof a=="function"?a:null,t.wv=No;var o;to&&fi&&(t.f&dt)!==0&&t.deps}finally{Ln=r,de=n}}}async function Io(){await Promise.resolve(),ho()}function s(t){var e=t.f,n=(e&ot)!==0;if(ce!==null&&!gt){var r=de!==null&&(de.f&bn)!==0;if(!r&&!Lt?.includes(t)){var a=ce.deps;if((ce.f&ea)!==0)t.rv<rr&&(t.rv=rr,Ze===null&&a!==null&&a[nt]===t?nt++:Ze===null?Ze=[t]:(!Zt||!Ze.includes(t))&&Ze.push(t));else{(ce.deps??(ce.deps=[])).push(t);var o=t.reactions;o===null?t.reactions=[ce]:o.includes(ce)||o.push(ce)}}}else if(n&&t.deps===null&&t.effects===null){var i=t,l=i.parent;l!==null&&(l.f&ut)===0&&(i.f^=ut)}if(Cn){if(Jt.has(t))return Jt.get(t);if(n){i=t;var c=i.v;return((i.f&Ye)===0&&i.reactions!==null||Oo(i))&&(c=wa(i)),Jt.set(i,c),c}}else n&&(i=t,Fr(i)&&mo(i));if((t.f&gn)!==0)throw t.v;return t.v}function Oo(t){if(t.v===Le)return!0;if(t.deps===null)return!1;for(const e of t.deps)if(Jt.has(e)||(e.f&ot)!==0&&Oo(e))return!0;return!1}function tn(t){var e=gt;try{return gt=!0,t()}finally{gt=e}}const Yi=-7169;function et(t,e){t.f=t.f&Yi|e}function Ki(t){if(!(typeof t!="object"||!t||t instanceof EventTarget)){if(pn in t)sa(t);else if(!Array.isArray(t))for(let e in t){const n=t[e];typeof n=="object"&&n&&pn in n&&sa(n)}}}function sa(t,e=new Set){if(typeof t=="object"&&t!==null&&!(t instanceof EventTarget)&&!e.has(t)){e.add(t),t instanceof Date&&t.getTime();for(let r in t)try{sa(t[r],e)}catch{}const n=va(t);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=no(n);for(let a in r){const o=r[a].get;if(o)try{o.call(t)}catch{}}}}}const Gi=["touchstart","touchmove"];function Zi(t){return Gi.includes(t)}const Ro=new Set,ia=new Set;function Xi(t,e,n,r={}){function a(o){if(r.capture||Xn.call(e,o),!o.cancelBubble)return Or(()=>n?.call(this,o))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?Sn(()=>{e.addEventListener(t,a,r)}):e.addEventListener(t,a,r),a}function Sa(t,e,n,r,a){var o={capture:r,passive:a},i=Xi(t,e,n,o);(e===document.body||e===window||e===document||e instanceof HTMLMediaElement)&&Ri(()=>{e.removeEventListener(t,i,o)})}function st(t){for(var e=0;e<t.length;e++)Ro.add(t[e]);for(var n of ia)n(t)}let ja=null;function Xn(t){var e=this,n=e.ownerDocument,r=t.type,a=t.composedPath?.()||[],o=a[0]||t.target;ja=t;var i=0,l=ja===t&&t.__root;if(l){var c=a.indexOf(l);if(c!==-1&&(e===document||e===window)){t.__root=e;return}var u=a.indexOf(e);if(u===-1)return;c<=u&&(i=c)}if(o=a[i]||t.target,o!==e){$r(t,"currentTarget",{configurable:!0,get(){return o||n}});var d=ce,v=de;Ke(null),ft(null);try{for(var h,g=[];o!==null;){var f=o.assignedSlot||o.parentNode||o.host||null;try{var p=o["__"+r];if(p!=null&&(!o.disabled||t.target===o))if(da(p)){var[w,...S]=p;w.apply(o,[t,...S])}else p.call(o,t)}catch(k){h?g.push(k):h=k}if(t.cancelBubble||f===e||f===null)break;o=f}if(h){for(let k of g)queueMicrotask(()=>{throw k});throw h}}finally{t.__root=e,delete t.currentTarget,Ke(d),ft(v)}}}function Fo(t){var e=document.createElement("template");return e.innerHTML=t.replaceAll("<!>","<!---->"),e.content}function ar(t,e){var n=de;n.nodes_start===null&&(n.nodes_start=t,n.nodes_end=e)}function H(t,e){var n=(e&ii)!==0,r=(e&li)!==0,a,o=!t.startsWith("<!>");return()=>{a===void 0&&(a=Fo(o?t:"<!>"+t),n||(a=zn(a)));var i=r||yo?document.importNode(a,!0):a.cloneNode(!0);if(n){var l=zn(i),c=i.lastChild;ar(l,c)}else ar(i,i);return i}}function Ji(t,e,n="svg"){var r=!t.startsWith("<!>"),a=`<${n}>${r?t:"<!>"+t}</${n}>`,o;return()=>{if(!o){var i=Fo(a),l=zn(i);o=zn(l)}var c=o.cloneNode(!0);return ar(c,c),c}}function Qi(t,e){return Ji(t,e,"svg")}function Te(t=""){{var e=kn(t+"");return ar(e,e),e}}function j(){var t=document.createDocumentFragment(),e=document.createComment(""),n=kn();return t.append(e,n),ar(e,n),t}function _(t,e){t!==null&&t.before(e)}function Dd(){var t;return(t=window.__svelte??(window.__svelte={})).uid??(t.uid=1),`c${window.__svelte.uid++}`}function Qt(t,e){var n=e==null?"":typeof e=="object"?e+"":e;n!==(t.__t??(t.__t=t.nodeValue))&&(t.__t=n,t.nodeValue=n+"")}function $i(t,e){return el(t,e)}const Dn=new Map;function el(t,{target:e,anchor:n,props:r={},events:a,context:o,intro:i=!0}){Ni();var l=new Set,c=v=>{for(var h=0;h<v.length;h++){var g=v[h];if(!l.has(g)){l.add(g);var f=Zi(g);e.addEventListener(g,Xn,{passive:f});var p=Dn.get(g);p===void 0?(document.addEventListener(g,Xn,{passive:f}),Dn.set(g,1)):Dn.set(g,p+1)}}};c(fa(Ro)),ia.add(c);var u=void 0,d=zi(()=>{var v=n??e.appendChild(kn());return Si(v,{pending:()=>{}},h=>{if(o){J({});var g=Se;g.c=o}a&&(r.$$events=a),u=t(h,r)||{},o&&Q()}),()=>{for(var h of l){e.removeEventListener(h,Xn);var g=Dn.get(h);--g===0?(document.removeEventListener(h,Xn),Dn.delete(h)):Dn.set(h,g)}ia.delete(c),v!==n&&v.parentNode?.removeChild(v)}});return tl.set(u,d),u}let tl=new WeakMap;const Kr=0,pr=1,Gr=2;function zo(t,e,n,r,a){var o=t,i=Yn(),l=Se,c=Le,u,d,v,h=i?Mt(void 0):oa(void 0,!1,!1),g=i?Mt(void 0):oa(void 0,!1,!1),f=!1;function p(S,k){f=!0,k&&(ft(w),Ke(w),$t(l));try{S===Kr&&n&&(u?Nn(u):u=We(()=>n(o))),S===pr&&r&&(d?Nn(d):d=We(()=>r(o,h))),S===Gr&&a&&(v?Nn(v):v=We(()=>a(o,g))),S!==Kr&&u&&At(u,()=>u=null),S!==pr&&d&&At(d,()=>d=null),S!==Gr&&v&&At(v,()=>v=null)}finally{k&&($t(null),Ke(null),ft(null),ho())}}var w=Kn(()=>{if(c!==(c=e())){if(Rs(c)){var S=c;f=!1,S.then(k=>{S===c&&(Nt(h,k),p(pr,!0))},k=>{if(S===c&&(Nt(g,k),p(Gr,!0),!a))throw g.v}),Sn(()=>{f||p(Kr,!0)})}else Nt(h,c),p(pr,!1);return()=>c=Le}})}function Y(t,e,n=!1){var r=t,a=null,o=null,i=Le,l=n?Vn:0,c=!1;const u=(g,f=!0)=>{c=!0,h(f,g)};var d=null;function v(){d!==null&&(d.lastChild.remove(),r.before(d),d=null);var g=i?a:o,f=i?o:a;g&&Nn(g),f&&At(f,()=>{i?o=null:a=null})}const h=(g,f)=>{if(i!==(i=g)){var p=ya(),w=r;if(p&&(d=document.createDocumentFragment(),d.append(w=kn())),i?a??(a=f&&We(()=>f(w))):o??(o=f&&We(()=>f(w))),p){var S=Ce,k=i?a:o,m=i?o:a;k&&S.skipped_effects.delete(k),m&&S.skipped_effects.add(m),S.add_callback(v)}else v()}};Kn(()=>{c=!1,e(u),c||h(null,null)},l)}function be(t,e){Rr(()=>{var n=e();for(var r in n){var a=n[r];a?t.style.setProperty(r,a):t.style.removeProperty(r)}})}function nl(t,e,n){for(var r=t.items,a=[],o=e.length,i=0;i<o;i++)ba(e[i].e,a,!0);var l=o>0&&a.length===0&&n!==null;if(l){var c=n.parentNode;Li(c),c.append(n),r.clear(),Ct(t,e[0].prev,e[o-1].next)}Ao(a,()=>{for(var u=0;u<o;u++){var d=e[u];l||(r.delete(d.k),Ct(t,d.prev,d.next)),at(d.e,!l)}})}function zr(t,e,n,r,a,o=null){var i=t,l={flags:e,items:new Map,first:null},c=(e&oo)!==0;if(c){var u=t;i=u.appendChild(kn())}var d=null,v=!1,h=new Map,g=Ir(()=>{var S=n();return da(S)?S:S==null?[]:fa(S)}),f,p;function w(){rl(p,f,l,h,i,a,e,r,n),o!==null&&(f.length===0?d?Nn(d):d=We(()=>o(i)):d!==null&&At(d,()=>{d=null}))}Kn(()=>{p??(p=de),f=s(g);var S=f.length;if(!(v&&S===0)){v=S===0;var k,m,A,L;if(ya()){var C=new Set,D=Ce;for(m=0;m<S;m+=1){A=f[m],L=r(A,m);var T=l.items.get(L)??h.get(L);T?(e&(Lr|Br))!==0&&Ho(T,A,m,e):(k=Uo(null,l,null,null,A,L,m,a,e,n,!0),h.set(L,k)),C.add(L)}for(const[U,$]of l.items)C.has(U)||D.skipped_effects.add($.e);D.add_callback(w)}else w();s(g)}})}function rl(t,e,n,r,a,o,i,l,c){var u=(i&ei)!==0,d=(i&(Lr|Br))!==0,v=e.length,h=n.items,g=n.first,f=g,p,w=null,S,k=[],m=[],A,L,C,D;if(u)for(D=0;D<v;D+=1)A=e[D],L=l(A,D),C=h.get(L),C!==void 0&&(C.a?.measure(),(S??(S=new Set)).add(C));for(D=0;D<v;D+=1){if(A=e[D],L=l(A,D),C=h.get(L),C===void 0){var T=r.get(L);if(T!==void 0){r.delete(L),h.set(L,T);var U=w?w.next:f;Ct(n,w,T),Ct(n,T,U),Zr(T,U,a),w=T}else{var $=f?f.e.nodes_start:a;w=Uo($,n,w,w===null?n.first:w.next,A,L,D,o,i,c)}h.set(L,w),k=[],m=[],f=w.next;continue}if(d&&Ho(C,A,D,i),(C.e.f&pt)!==0&&(Nn(C.e),u&&(C.a?.unfix(),(S??(S=new Set)).delete(C))),C!==f){if(p!==void 0&&p.has(C)){if(k.length<m.length){var he=m[0],ie;w=he.prev;var ne=k[0],W=k[k.length-1];for(ie=0;ie<k.length;ie+=1)Zr(k[ie],he,a);for(ie=0;ie<m.length;ie+=1)p.delete(m[ie]);Ct(n,ne.prev,W.next),Ct(n,w,ne),Ct(n,W,he),f=he,w=W,D-=1,k=[],m=[]}else p.delete(C),Zr(C,f,a),Ct(n,C.prev,C.next),Ct(n,C,w===null?n.first:w.next),Ct(n,w,C),w=C;continue}for(k=[],m=[];f!==null&&f.k!==L;)(f.e.f&pt)===0&&(p??(p=new Set)).add(f),m.push(f),f=f.next;if(f===null)continue;C=f}k.push(C),w=C,f=C.next}if(f!==null||p!==void 0){for(var Z=p===void 0?[]:fa(p);f!==null;)(f.e.f&pt)===0&&Z.push(f),f=f.next;var re=Z.length;if(re>0){var F=(i&oo)!==0&&v===0?a:null;if(u){for(D=0;D<re;D+=1)Z[D].a?.measure();for(D=0;D<re;D+=1)Z[D].a?.fix()}nl(n,Z,F)}}u&&Sn(()=>{if(S!==void 0)for(C of S)C.a?.apply()}),t.first=n.first&&n.first.e,t.last=w&&w.e;for(var te of r.values())at(te.e);r.clear()}function Ho(t,e,n,r){(r&Lr)!==0&&Nt(t.v,e),(r&Br)!==0?Nt(t.i,n):t.i=n}function Uo(t,e,n,r,a,o,i,l,c,u,d){var v=(c&Lr)!==0,h=(c&ti)===0,g=v?h?oa(a,!1,!1):Mt(a):a,f=(c&Br)===0?i:Mt(i),p={i:f,v:g,k:o,a:null,e:null,prev:n,next:r};try{if(t===null){var w=document.createDocumentFragment();w.append(t=kn())}return p.e=We(()=>l(t,g,f,u),ui),p.e.prev=n&&n.e,p.e.next=r&&r.e,n===null?d||(e.first=p):(n.next=p,n.e.next=p.e),r!==null&&(r.prev=p,r.e.prev=p.e),p}finally{}}function Zr(t,e,n){for(var r=t.next?t.next.e.nodes_start:n,a=e?e.e.nodes_start:n,o=t.e.nodes_start;o!==null&&o!==r;){var i=dr(o);a.before(o),o=i}}function Ct(t,e,n){e===null?t.first=n:(e.next=n,e.e.next=n&&n.e),n!==null&&(n.prev=e,n.e.prev=e&&e.e)}function ve(t,e,...n){var r=t,a=ye,o;Kn(()=>{a!==(a=e())&&(o&&(at(o),o=null),o=We(()=>a(r,...n)))},Vn)}function jo(t,e,n){var r=t,a,o,i=null,l=null;function c(){o&&(At(o),o=null),i&&(i.lastChild.remove(),r.before(i),i=null),o=l,l=null}Kn(()=>{if(a!==(a=e())){var u=ya();if(a){var d=r;u&&(i=document.createDocumentFragment(),i.append(d=kn()),o&&Ce.skipped_effects.add(o)),l=We(()=>n(d,a))}u?Ce.add_callback(c):c()}},Vn)}function Vo(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=Vo(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function al(){for(var t,e,n=0,r="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=Vo(t))&&(r&&(r+=" "),r+=e);return r}function _e(t){return typeof t=="object"?al(t):t??""}const Va=[...` 	
\r\f \v\uFEFF`];function ol(t,e,n){var r=t==null?"":""+t;if(e&&(r=r?r+" "+e:e),n){for(var a in n)if(n[a])r=r?r+" "+a:a;else if(r.length)for(var o=a.length,i=0;(i=r.indexOf(a,i))>=0;){var l=i+o;(i===0||Va.includes(r[i-1]))&&(l===r.length||Va.includes(r[l]))?r=(i===0?"":r.substring(0,i))+r.substring(l+1):i=l}}return r===""?null:r}function sl(t,e){return t==null?null:String(t)}function me(t,e,n,r,a,o){var i=t.__className;if(i!==n||i===void 0){var l=ol(n,r,o);l==null?t.removeAttribute("class"):t.className=l,t.__className=n}else if(o&&a!==o)for(var c in o){var u=!!o[c];(a==null||u!==!!a[c])&&t.classList.toggle(c,u)}return o}function Hn(t,e,n,r){var a=t.__style;if(a!==e){var o=sl(e);o==null?t.removeAttribute("style"):t.style.cssText=o,t.__style=e}return r}const il=Symbol("is custom element"),ll=Symbol("is html");function Td(t,e){var n=ka(t);n.value===(n.value=e??void 0)||t.value===e&&(e!==0||t.nodeName!=="PROGRESS")||(t.value=e??"")}function Nd(t,e){var n=ka(t);n.checked!==(n.checked=e??void 0)&&(t.checked=e)}function xe(t,e,n,r){var a=ka(t);a[e]!==(a[e]=n)&&(e==="loading"&&(t[Vs]=n),n==null?t.removeAttribute(e):typeof n!="string"&&cl(t).includes(e)?t[e]=n:t.setAttribute(e,n))}function ka(t){return t.__attributes??(t.__attributes={[il]:t.nodeName.includes("-"),[ll]:t.namespaceURI===ci})}var qa=new Map;function cl(t){var e=t.getAttribute("is")||t.nodeName,n=qa.get(e);if(n)return n;qa.set(e,n=[]);for(var r,a=t,o=Element.prototype;o!==a;){r=no(a);for(var i in r)r[i].set&&n.push(i);a=va(a)}return n}function ul(t,e,n=e){var r=new WeakSet;Mi(t,"input",async a=>{var o=a?t.defaultValue:t.value;if(o=Xr(t)?Jr(o):o,n(o),Ce!==null&&r.add(Ce),await Io(),o!==(o=e())){var i=t.selectionStart,l=t.selectionEnd;t.value=o??"",l!==null&&(t.selectionStart=i,t.selectionEnd=Math.min(l,t.value.length))}}),tn(e)==null&&t.value&&(n(Xr(t)?Jr(t.value):t.value),Ce!==null&&r.add(Ce)),Rr(()=>{var a=e();if(t===document.activeElement){var o=wr??Ce;if(r.has(o))return}Xr(t)&&a===Jr(t.value)||t.type==="date"&&!a&&!t.value||a!==t.value&&(t.value=a??"")})}function Xr(t){var e=t.type;return e==="number"||e==="range"}function Jr(t){return t===""?null:+t}function Wa(t,e){return t===e||t?.[pn]===e}function Dt(t={},e,n,r){return Hi(()=>{var a,o;return Rr(()=>{a=o,o=[],tn(()=>{t!==n(...o)&&(e(t,...o),a&&Wa(n(...a),t)&&e(null,...a))})}),()=>{Sn(()=>{o&&Wa(n(...o),t)&&e(null,...o)})}}),t}function qo(t=!1){const e=Se,n=e.l.u;if(!n)return;let r=()=>Ki(e.s);if(t){let a=0,o={};const i=ur(()=>{let l=!1;const c=e.s;for(const u in c)c[u]!==o[u]&&(o[u]=c[u],l=!0);return l&&a++,a});r=()=>s(i)}n.b.length&&Fi(()=>{Ya(e,r),Cr(n.b)}),De(()=>{const a=tn(()=>n.m.map(Fs));return()=>{for(const o of a)typeof o=="function"&&o()}}),n.a.length&&De(()=>{Ya(e,r),Cr(n.a)})}function Ya(t,e){if(t.l.s)for(const n of t.l.s)s(n);e()}let _r=!1;function dl(t){var e=_r;try{return _r=!1,[t(),_r]}finally{_r=e}}function le(t,e,n,r){var a=!Wn||(n&ri)!==0,o=(n&oi)!==0,i=(n&si)!==0,l=r,c=!0,u=()=>(c&&(c=!1,l=i?tn(r):r),l),d;if(o){var v=pn in t||js in t;d=Tn(t,e)?.set??(v&&e in t?m=>t[e]=m:void 0)}var h,g=!1;o?[h,g]=dl(()=>t[e]):h=t[e],h===void 0&&r!==void 0&&(h=u(),d&&(a&&Zs(),d(h)));var f;if(a?f=()=>{var m=t[e];return m===void 0?u():(c=!0,m)}:f=()=>{var m=t[e];return m!==void 0&&(l=void 0),m===void 0?l:m},a&&(n&ai)===0)return f;if(d){var p=t.$$legacy;return(function(m,A){return arguments.length>0?((!a||!A||p||g)&&d(A?f():m),m):f()})}var w=!1,S=((n&ni)!==0?ur:Ir)(()=>(w=!1,f()));o&&s(S);var k=de;return(function(m,A){if(arguments.length>0){const L=A?s(S):a&&o?Re(m):m;return y(S,L),w=!0,l!==void 0&&(l=L),m}return Cn&&w||(k.f&bn)!==0?S.v:s(S)})}function Ee(t){Se===null&&ao(),Wn&&Se.l!==null?fl(Se).m.push(t):De(()=>{const e=tn(t);if(typeof e=="function")return e})}function fl(t){var e=t.l;return e.u??(e.u={a:[],b:[],m:[]})}const vl="5";var eo;typeof window<"u"&&((eo=window.__svelte??(window.__svelte={})).v??(eo.v=new Set)).add(vl);vi();const Wo={};function hl(t){Me(Wo,t)}function Yo(){const t=Be(Wo);if(!t)throw new Error("No SearchContext found");return t}const Ko={};function gl(t){Me(Ko,t)}function mt(){const t=Be(Ko);if(!t)throw new Error("No AppHistoryContext found");return t}function pl(t,e){J(e,!0);const{replace:n,getAppHistory:r}=mt(),a=R(r),o="search",i=Re({value:new URLSearchParams(r().search).get(o)||""}),l=d=>{const v=new URLSearchParams(s(a).search),h=s(a).pathname;(v.get(o)||"")!==d&&(d===""?v.delete(o):v.set(o,d),n(`${h}${v.size>0?`?${v.toString()}`:""}`))};De(()=>{const d=i.value;tn(()=>{l(d)})}),hl(i);var c=j(),u=B(c);ve(u,()=>e.children??ye),_(t,c),Q()}const Go={};function _l(t){Me(Go,t)}function Zo(){const t=Be(Go);if(!t)throw new Error("No TagSearchContext found");return t}function ml(t,e){J(e,!0);const n=Re({value:""});_l(n);var r=j(),a=B(r);ve(a,()=>e.children??ye),_(t,r),Q()}const Xo={};function wl(t){Me(Xo,t)}function Jo(){const t=Be(Xo);if(!t)throw new Error("No FeedOrderContext found");return t}function yl(t,e){J(e,!0);const{navigate:n,getAppHistory:r}=mt(),a=R(r),o="feedOrder";let i=z(Re(new URLSearchParams(r().search).get(o)||"newest"));wl({getFeedOrder:()=>s(i),setFeedOrder:v=>{y(i,v,!0);const h=new URLSearchParams(s(a).search);v==="newest"?h.delete(o):h.set(o,v),n(`${s(a).pathname}${h.size>0?`?${h.toString()}`:""}`)}});var u=j(),d=B(u);ve(d,()=>e.children??ye),_(t,u),Q()}const Qo={};function bl(t){Me(Qo,t)}function Ca(){const t=Be(Qo);if(!t)throw new Error("No SidebarContext found");return t}function Sl(t,e){J(e,!0);const n=(d,v)=>{if(!v)return d;if(v.type==="closed")return{type:"closed"};switch(d.type){case"opened":return v.type==="close"?{type:"closing"}:v.type==="swipe"?{type:"openSwiping"}:d;case"closed":return v.type==="open"?{type:"opening"}:v.type==="swipe"?{type:"closeSwiping"}:d;case"openSwiping":return v.type==="open"?{type:"opening"}:v.type==="close"?{type:"closing"}:d;case"closeSwiping":return v.type==="open"?{type:"opening"}:v.type==="close"?{type:"closing"}:d;case"opening":return v.type==="opened"?{type:"opened"}:d;default:return d}};let r=z(Re(n({type:"closed"})));const a=d=>{y(r,n(s(r),d),!0)};bl({sidebarOpen:()=>{a({type:"open"})},sidebarClose:()=>{a({type:"close"})},handleComputeState:a,getSidebarState:()=>s(r)});var c=j(),u=B(c);ve(u,()=>e.children??ye),_(t,c),Q()}const $o={};function kl(t){Me($o,t)}function es(){const t=Be($o);if(!t)throw new Error("No SelectedTagsContext found");return t}const ts=(t,e)=>{let n=null;return()=>{n&&clearTimeout(n),n=setTimeout(()=>{n=null,t()},e)}};async function Cl(){if(navigator.storage&&navigator.storage.persist)try{await navigator.storage.persisted()||await navigator.storage.persist()}catch{}}const El=(t,e)=>{if(t.size!==e.size)return!0;for(const n of t)if(!e.has(n))return!0;return!1};function Pl(t,e){J(e,!0);const{getAppHistory:n,replace:r}=mt(),a=R(n),o=R(()=>n().search),i="selectedTags",l=()=>new Set(new URLSearchParams(n().search).get(i)?.split(",")||[]);let c=z(Re(l()));const u=()=>{const p=l();if(El(p,s(c))){const w=new URLSearchParams(s(a).search),S=s(a).pathname;s(c).size===0?w.delete(i):w.set(i,Array.from(s(c)).join(",")),r(`${S}${w.size>0?`?${w.toString()}`:""}`)}};De(()=>{s(o),s(c),tn(()=>{u()})}),kl({getSelectedTags:()=>s(c),addTag:p=>{s(c).has(p)||y(c,new Set([...s(c),p]),!0)},removeTag:p=>{const w=new Set(s(c));w.delete(p),y(c,w,!0)}});var g=j(),f=B(g);ve(f,()=>e.children??ye),_(t,g),Q()}const ns={};function xl(t){Me(ns,t)}function Ea(){const t=Be(ns);if(!t)throw new Error("No LocalDBContext found");return t}const rs={};function Al(t){Me(rs,t)}function Dl(){const t=Be(rs);if(!t)throw new Error("No SettingsContext found");return t}const as={};function Tl(t){Me(as,t)}function Hr(){const t=Be(as);if(!t)throw new Error("No BroadcastContext found");return t}const Nl="AppStorage",Ll=1,Jn="account",kr="settings",St="notes",kt="tags",Bl="syncLog",nn="success",rn="error",Fe=(t,e,n)=>{t?.addEventListener(e,n)},Ka=(t,e)=>new Promise((n,r)=>{const o=t?.transaction(e,"readonly")?.objectStore(e).getAll();Fe(o,nn,()=>{const i=o?.result||[];n(i)}),Fe(o,rn,i=>{r(i)})}),la=(t,e,n)=>new Promise((r,a)=>{const i=t?.transaction(e,"readonly")?.objectStore(e).get(n);Fe(i,nn,()=>{const l=i?.result?.data;r(l)}),Fe(i,rn,l=>{a(l)})}),nr=(t,e,n,r)=>new Promise((a,o)=>{const c=t?.transaction(e,"readwrite")?.objectStore(e)?.put({id:n,data:r});Fe(c,nn,()=>{a()}),Fe(c,rn,u=>{o(u)})}),Qr=async(t,e,n)=>{const a=t?.transaction(e,"readwrite")?.objectStore(e);await Promise.all(n.map(o=>{const i=a?.put(o);return new Promise((l,c)=>{Fe(i,nn,()=>{l()}),Fe(i,rn,u=>{c(u)})})}))},Ml=(t,e,n)=>new Promise((r,a)=>{const l=t?.transaction(e,"readwrite")?.objectStore(e)?.delete(n);Fe(l,nn,()=>{r()}),Fe(l,rn,c=>{a(c)})}),mr=async(t,e,n)=>{const a=t?.transaction(e,"readwrite")?.objectStore(e);await Promise.all(n.map(o=>{const i=a?.delete(o);return new Promise((l,c)=>{Fe(i,nn,()=>{l()}),Fe(i,rn,u=>{c(u)})})}))},cn=(t,e)=>new Promise((n,r)=>{const i=t?.transaction(e,"readwrite")?.objectStore(e)?.clear();Fe(i,nn,()=>{n()}),Fe(i,rn,l=>{r(l)})});function Il(t,e){J(e,!0);let n=z(Re({showFavicon:!1}));const{getDB:r}=Ea(),{createBroadcastChannel:a,tabId:o}=Hr(),i=a(),l=R(r),c=async()=>{const p=await la(s(l),kr,"default");p&&y(n,p,!0)},u=async()=>{c()},d=async p=>{const w=JSON.parse(p.data),S=w;if(w.tabId&&w.tabId===o){S.type==="exit"&&(y(n,{showFavicon:!1},!0),cn(s(l),kr));return}S.type==="updateSettings"?c():S.type==="exit"&&y(n,{showFavicon:!1},!0)},v=()=>s(n).showFavicon,h=async p=>{s(n).showFavicon=p,await nr(s(l),kr,"default",{showFavicon:p}),i.postMessage({type:"updateSettings"})};Ee(()=>(u(),i.addEventListener(d),()=>{i.removeEventListener(d)})),Al({getFaviconEnabled:v,setFaviconShown:h});var g=j(),f=B(g);ve(f,()=>e.children??ye),_(t,g),Q()}const os={};function Ol(t){Me(os,t)}function Pa(){const t=Be(os);if(!t)throw new Error("No AccountContext found");return t}function Rl(t,e){J(e,!0);let n=z(void 0);const{getDB:r}=Ea(),{createBroadcastChannel:a,tabId:o}=Hr(),i=R(r),l=a(),c=async()=>{const m=await la(s(i),Jn,"default");y(n,m,!0)},u=m=>nr(s(i),Jn,"default",m),d=async m=>{const A=await la(s(i),Jn,"default");A!==void 0&&y(n,A,!0),m(A)},v=async m=>{const A=JSON.parse(m.data);if(A.tabId&&A.tabId===o)return;const L=A;L.type==="initLocalAccount"?y(n,null):L.type==="initCloudAccount"?c():L.type==="disconnectCloudAccount"?y(n,null):L.type==="exit"?y(n,void 0):L.type==="updateAccount"&&c()};Ee(()=>(l.addEventListener(v),()=>{l.removeEventListener(v)})),Ol({init:d,getAccount:()=>s(n),initLocalAccount:async()=>{y(n,null),await u(null),l.postMessage({type:"initLocalAccount"})},initCloudAccount:async m=>{const A={encryptedClientKey:m.encryptedClientKey||"",subscriptionExpires:m.subscriptionExpires||-1,lastSync:-1};await u(A),y(n,A,!0),l.postMessage({type:"initCloudAccount"})},disconnectCloudAccount:async()=>{y(n,null),await u(null),l.postMessage({type:"disconnectCloudAccount"})},updateSubscription:async m=>{if(!s(n))throw new Error("No account to update subscription for");const A={...s(n),subscriptionExpires:m};await u(A),l.postMessage({type:"updateAccount"})},exitApp:async()=>{y(n,void 0),l.postMessage({type:"exit"}),await cn(s(i),Jn)}});var S=j(),k=B(S);ve(k,()=>e.children??ye),_(t,S),Q()}const ss={};function Fl(t){Me(ss,t)}function Ur(){const t=Be(ss);if(!t)throw new Error("No NotesContext found");return t}const zl=()=>crypto.randomUUID(),Hl=t=>{const e=new Map;for(const n of t||[])for(const r of n?.data.tags||[])e.set(r,{name:r,count:(e.get(r)?.count||0)+1});return e};function Ul(t,e){J(e,!0);const{getDB:n}=Ea(),{createBroadcastChannel:r,tabId:a}=Hr(),o=R(n),i=r(),l=720*60*60*1e3;let c=z(0),u=z(!1),d=z(()=>new Map),v=z(()=>[]),h=z(()=>new Map);const g=()=>s(u),f=()=>s(c)>0,p=()=>{s(c)>0&&y(c,s(c)-1)},w=x=>{const M=s(v)(),b=s(h)(),E={...x};M.push(E),b.set(E.id,E),y(v,()=>M),y(h,()=>b)},S=x=>{const M=s(v)(),b=s(h)(),E=b.get(x.id);E&&(E.data=x.data),y(v,()=>M),y(h,()=>b)},k=x=>{const M=s(v)(),b=s(h)(),E=b.get(x);b.has(x)&&b.delete(x),E?.data?.type==="draft"&&b.delete("draft"),E&&(E.data=void 0),y(v,()=>M),y(h,()=>b)},m=()=>{y(v,()=>[]),y(d,()=>new Map),y(h,()=>new Map)},A=()=>s(v),L=x=>{const M=s(d)();for(const b of x){const E=M.get(b);E?E.count++:M.set(b,{name:b,count:1})}y(d,()=>M)},C=x=>{const M=s(d)();for(const b of x){const E=M.get(b);E&&(E.count--,E.count<=0&&M.delete(b))}y(d,()=>M)},D=async()=>{const[x,M]=await Promise.all([Ka(s(o),St),Ka(s(o),kt).then(oe=>oe.reduce((Ne,Ae)=>Ne.set(Ae.name,Ae),new Map))]),b=[],E=[],q=new Map;let se=0;for(const oe of x)oe.data.deletedAt&&Date.now()-oe.data.deletedAt>l?b.push(oe.id):(E.push(oe),q.set(oe.id,oe),oe.data.deletedAt&&(se+=1),oe.data.type==="draft"&&q.set("draft",oe));y(c,se,!0);const ee=Hl(E),ge=new Map;ee.entries().forEach(([oe,Ne])=>{const Ae=M.get(oe);ge.set(oe,{...Ae,...Ne})}),await mr(s(o),St,b),await cn(s(o),kt),await Qr(s(o),kt,Array.from(ge.values()).map(oe=>({id:oe.name,data:{pinned:oe.pinned}}))),y(v,()=>E),y(h,()=>q),y(d,()=>ge),y(u,!0)},T=async()=>{const x=s(h)(),M=x.get("draft");if(M)return M;const b={id:zl(),data:{type:"draft",url:"",name:"",text:"",tags:[],draft:{url:"",name:"",text:"",tags:[],createdAt:Date.now(),updatedAt:Date.now()},createdAt:Date.now(),updatedAt:Date.now()}};return await nr(s(o),St,b.id,{...b.data}),x.set("draft",b),w(b),i.postMessage({type:"createNoteDraft",data:{note:b}}),b},U=async x=>{const b=s(h)().get(x);if(!b||!b.data)return;const E=s(d)(),q=b.data.tags;C(q),k(x),i.postMessage({type:"deleteNote",data:{id:x}}),p(),await Ml(s(o),St,x),await mr(s(o),kt,q.filter(se=>{const ee=E.get(se);return ee?ee.count<=1:!1}))},$=async(x,M)=>{const b={id:M.id,data:{...M.data}},E=s(d)(),q=M.data.tags.filter(ee=>!x.data.tags.includes(ee)),se=x.data.tags.filter(ee=>!M.data.tags.includes(ee));await nr(s(o),St,b.id,{...b.data}),await Qr(s(o),kt,q.filter(ee=>!E.has(ee)).map(ee=>({id:ee,data:{}}))),await mr(s(o),kt,se.filter(ee=>{const ge=E.get(ee);return ge?ge.count<=1:!1})),S(b),C(se),L(q),i.postMessage({type:"updateNote",data:{note:b,tagsToAdd:q,tagsToDelete:se}})},he=async x=>{const M=s(h)(),b=ne(x);if(!b||!b.data)return;const E=M.get("draft");E&&E.id===b.id&&M.delete("draft");const q={id:x,data:{type:"note",name:b.data.draft?.name??b.data.name,url:b.data.draft?.url??b.data.url,text:b.data.draft?.text??b.data.text,tags:b.data.draft?.tags??b.data.tags,updatedAt:Date.now(),createdAt:b.data.createdAt,pinnedAt:b.data.pinnedAt,deletedAt:b.data.deletedAt,draft:void 0}};return $(b,q)},ie=async()=>{m(),i.postMessage({type:"clearNotes"}),await cn(s(o),St),await cn(s(o),kt)},ne=x=>{const M=s(h)();return x?M.get(x):M.get("draft")},W=async(x,M)=>{const E=s(h)().get(x);if(!E||!E.data)return;const q={id:x,data:{...E.data,pinnedAt:M?Date.now():void 0}};return $(E,q)},Z=async x=>{const b=s(h)().get(x);if(!b||!b.data)return;const E={id:x,data:{...b.data,deletedAt:Date.now()}};y(c,s(c)+1),await $(b,E)},re=async x=>{const b=s(h)().get(x);if(!b||!b.data)return;const E={id:x,data:{...b.data,deletedAt:0}};p(),await $(b,E)},F=async(x,M)=>{const b=s(d)();b.set(x,{name:x,count:b.get(x)?.count||0,pinned:M}),await nr(s(o),kt,x,{pinned:M}),i.postMessage({type:"pinTag",data:{tag:x,pinned:M}}),y(d,()=>b)},te=async x=>{const M=s(h)(),b={};x.forEach(E=>{const q=M.get(E.id);(!q||q&&q.data&&q.data.updatedAt<E.data.updatedAt)&&(b[E.id]=E)}),await Qr(s(o),St,Object.values(b)),await D(),i.postMessage({type:"reloadNotes"})},X=async()=>{const x=[];s(v)().forEach(b=>{b&&b.data&&b.data.deletedAt&&x.push(b.id)}),y(c,0),await mr(s(o),St,x),await D(),i.postMessage({type:"emptyBin"})},G=async(x,M)=>{if(x===""){const se=s(h)().get("draft");se?x=se.id:x=(await T()).id}const b=ne(x);if(!b||!b.data)return;const E={id:x,data:{...b.data,draft:{...M,tags:M.tags,createdAt:b.data.draft?.createdAt||Date.now(),updatedAt:Date.now()}}};return await $(b,E),b.id},I=async x=>{const M=s(h)(),b=ne(x);if(!b||!b.data||!b.data.draft)return;if(b.data.type==="draft"){x===M.get("draft")?.id&&M.delete("draft"),await U(x);return}const E={id:x,data:{...b.data,draft:void 0}};return $(b,E)},O=async x=>{const M=JSON.parse(x.data),b=M;if(M.tabId&&M.tabId===a){b.type==="exit"&&(m(),await cn(s(o),St),await cn(s(o),kt));return}if(b.type==="createNoteDraft"){const E=b.data.note;s(h)().set("draft",E),w(E)}else if(b.type==="updateNote"){const E=b.data,se=s(h)().get(E.note.id);if(!se||!se.data)return;se.data.deletedAt&&!E.note.data.deletedAt?p():!se.data.deletedAt&&E.note.data.deletedAt&&y(c,s(c)+1),S(E.note),C(E.tagsToAdd),L(E.tagsToDelete)}else if(b.type==="deleteNote"){const E=b.data.id,se=s(h)().get(E);if(!se)return;p(),k(E),C(se?.data?.tags||[])}else if(b.type==="pinTag"){const E=b.data.tag,q=b.data.pinned,se=s(d)(),ee=se.get(E);ee&&(ee.pinned=q,se.set(E,ee))}else b.type==="clearNotes"?m():b.type==="reloadNotes"||b.type==="emptyBin"?D():b.type==="exit"&&m()};Ee(()=>(D(),i.addEventListener(O),()=>{i.removeEventListener(O)})),Fl({isInitedNotes:g,putNoteDraft:G,deleteNoteDraft:I,deleteNote:U,pinNote:W,getGetNotes:A,importNotes:te,clearNotes:ie,getNoteById:ne,getGetMapTags:()=>s(d),pinTag:F,moveNoteToBin:Z,restoreNoteFromBin:re,checkNotesInBin:f,emptyBin:X,saveNoteDraft:he,countNotesInBin:()=>s(c)});var fe=j(),we=B(fe);ve(we,()=>e.children??ye),_(t,fe),Q()}const is={},jl=()=>({working:!1,swipingRatio:1,isSwiping:!1,duration:.35});function Vl(t){Me(is,t)}function Gn(){const t=Be(is);if(!t)throw new Error("No AnimationSettingsContext found");return t}function ql(t,e){J(e,!0);let n=Re(jl());Vl(n);var r=j(),a=B(r);ve(a,()=>e.children??ye),_(t,r),Q()}const ls={};function Wl(t){Me(ls,t)}function cs(){const t=Be(ls);if(!t)throw new Error("No ScrollingContext found");return t}function Yl(t,e){J(e,!0);let n=z(!1);const r=()=>s(n),a=ts(()=>{y(n,!1)},100);Wl({isScrolling:r,enable:()=>{y(n,!0),a()}});var i=j(),l=B(i);ve(l,()=>e.children??ye),_(t,i),Q()}const us={};function Kl(t){Me(us,t)}function Zn(){const t=Be(us);if(!t)throw new Error("No MobileSizeContext found");return t}function Gl(t,e){J(e,!0);const n=()=>window.matchMedia("(max-width: 767px)").matches;let r=z(Re(n())),a=Gn();const o=ts(()=>{a.working=!0},16),i=()=>{a.working=!1,o(),requestAnimationFrame(()=>{y(r,n(),!0)})};Kl({checkMobileSize:()=>s(r)}),Ee(()=>(window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)));var c=j(),u=B(c);ve(u,()=>e.children??ye),_(t,c),Q()}const ds={};function Zl(t){Me(ds,t)}function fr(){const t=Be(ds);if(!t)throw new Error("No DialogContext found");return t}function Xl(t,e){J(e,!0);let n=z(0),r=z(!1),a=z(!1);Zl({checkExistedDialog:()=>s(n)>0,showDialog:()=>{y(n,s(n)+1)},hideDialog:()=>{y(n,s(n)-1)},blockDialog:f=>{y(r,f,!0),f||y(a,!1)},checkBlockedDialog:()=>s(r),unBlockBackDialog:f=>{y(a,f,!0)},checkUnBlockedBackDialog:()=>s(a)});var h=j(),g=B(h);ve(g,()=>e.children??ye),_(t,h),Q()}const fs={};function Jl(t){Me(fs,t)}function xa(){const t=Be(fs);if(!t)throw new Error("No ScrollContainerContext found");return t}function Ql(t,e){J(e,!0);let n=z(null);Jl({setScrollContainer:l=>{y(n,l,!0)},getScrollContainer:()=>s(n)});var o=j(),i=B(o);ve(i,()=>e.children??ye),_(t,o),Q()}const vs={};function $l(t){Me(vs,t)}function Aa(){const t=Be(vs);if(!t)throw new Error("No DialogPageHeightContext found");return t}function ec(t,e){J(e,!0);let n=z(200);$l({setDialogPageHeight:l=>{y(n,l,!0)},getDialogPageHeight:()=>s(n)});var o=j(),i=B(o);ve(i,()=>e.children??ye),_(t,o),Q()}const tc=[Jn,kr,St,kt,Bl];function nc(){return new Promise((t,e)=>{const n=indexedDB.open(Nl,Ll);Fe(n,"upgradeneeded",()=>{const r=n.result;for(const a of tc)r.objectStoreNames.contains(a)||r.createObjectStore(a,{keyPath:"id"})}),Fe(n,nn,()=>{const r=n.result;t(r),r.onversionchange=function(){r?.close(),alert("app outdated, please reload the page")}}),Fe(n,"blocked",()=>{e(),alert("app outdated, please reload the page")}),Fe(n,rn,()=>{e()})})}function rc(t,e){J(e,!0);let n=z(null);Ee(()=>{nc().then(l=>{y(n,l,!0)})}),xl({getDB:()=>s(n)});var a=j(),o=B(a);{var i=l=>{var c=j(),u=B(c);ve(u,()=>e.children??ye),_(l,c)};Y(o,l=>{s(n)&&l(i)})}_(t,a),Q()}const hs={};function ac(t){Me(hs,t)}function It(){const t=Be(hs);if(!t)throw new Error("No StackPagesContext found");return t}function oc(t,e){J(e,!0);const{getAppHistory:n,navigate:r}=mt(),a=()=>new URLSearchParams(n().search).get("stackPages")?.split(",")||[];let o=z(Re(a()));const i=w=>{const S=a();if(!S.includes(w)){S.push(w);const k=new URLSearchParams(n().search);k.set("stackPages",S.join(",")),y(o,S,!0),r(`${n().pathname}?${k.toString()}`)}};ac({pushStackPages:i,hasStackPage:w=>a().includes(w),updateStackPages:()=>{y(o,a(),!0)},popStackPages:()=>{const w=s(o).slice(0,-1);y(o,w,!0)},getStackPages:()=>{const w=a();return w.length>=s(o).length?w.reduce((S,k)=>[...S,{page:k,shown:!0}],[]):s(o).reduce((S,k,m)=>[...S,{page:k,shown:w.length===0?!1:m!==s(o).length-1}],[])},clearStackPages:()=>{y(o,[],!0)},getPageUrl:(w,S)=>{if(S?.full)return`/${w}`;const k=a();k.includes(w)||k.push(w);const m=new URLSearchParams(n().search);return m.set("stackPages",k.join(",")),`${n().pathname}?${m}`},createHandlePage:(w,S)=>k=>{if(k.preventDefault(),S?.full){r(w);return}i(w)},getStackPagesFormUrl:a});var f=j(),p=B(f);ve(p,()=>e.children??ye),_(t,f),Q()}function sc(t,e){J(e,!0);const n=g=>g.startsWith("/")?g:`/${g}`,r=Re({historyStack:[],pathname:n(window.location.pathname),search:window.location.search,historyLength:0}),a=()=>{r.pathname=n(document.location.pathname),r.search=document.location.search,r.historyLength=Math.max(0,r.historyLength-=1)},o=g=>{const[f,p]=g.split("?");r.pathname=n(f),r.search=p?`?${p}`:"",r.historyLength+=1,r.historyStack.push(`${window.location.pathname}${window.location.search}`),window.history.replaceState(null,"",g)},i=g=>{const[f,p]=g.split("?");r.pathname=n(f),r.search=p?`?${p}`:"",window.history.replaceState(null,"",g)};gl({getAppHistory:()=>r,navigate:o,replace:i,addSearchParam:(g,f)=>{const p=new URLSearchParams(r.search);p.append(g,f),i(`${r.pathname}${p.size>0?`?${p.toString()}`:""}`)},deleteSearchParam:g=>{const f=new URLSearchParams(r.search);f.delete(g),r.historyStack=r.historyStack.map(p=>{const w=new URLSearchParams(p.split("?")[1]);return w.delete(g),`${p.split("?")[0]}${f.size>0?`?${w.toString()}`:""}`}),i(`${r.pathname}${f.size>0?`?${f.toString()}`:""}`)},back:g=>{const{fallback:f="/",to:p}=g||{},[w,S]=f.split("?");if(r.historyLength<=0){const k=window.location.pathname,m=window.location.search;if(!m.includes("stackPages"))window.history.replaceState(null,"",f),r.historyLength=0,r.pathname=n(w),r.search=S?`?${S}`:"";else{const A=new URLSearchParams(m),L=A.get("stackPages")?.split(",")||[],C=L.slice(0,p&&L.includes(p)?L.indexOf(p)+1:-1);C.length===0?A.delete("stackPages"):A.set("stackPages",C.join(","));const D=`${k}${A.toString()?`?${A.toString()}`:""}`;window.history.replaceState(null,"",D),r.search=A.toString()?`?${A.toString()}`:""}}else if(r.historyStack.length>0){const m=new URLSearchParams(r.search).get("stackPages")?.split(",")||[];p&&m.includes(p)&&(r.historyStack=r.historyStack.slice(0,-(m.length-(m.indexOf(p)+1))+1),r.historyLength=r.historyStack.length);const A=r.historyStack.pop();if(A){const[L,C]=A.split("?");window.history.replaceState(null,"",A),r.historyLength=Math.max(0,r.historyLength-=1),r.pathname=n(L),r.search=C?`?${C}`:""}}},closeDialogStack:()=>{const g=r.historyStack.findIndex(p=>p.includes("stackPages")),f=g===-1?r.historyStack.slice(0):r.historyStack.slice(0,g);if(f.length>0){const p=f.pop();if(p){const[w,S]=p.split("?");window.history.replaceState(null,"",p),r.historyLength=Math.max(0,f.length),r.pathname=n(w),r.search=S?`?${S}`:"",r.historyStack=f}}else{const p=r.search,w=new URLSearchParams(p);w.delete("stackPages"),window.history.replaceState(null,"",w.toString()?"/?"+w.toString():"/"),r.historyLength=0,r.pathname="/",r.search=w.toString()?"?"+w.toString():"",r.historyStack=[]}}}),Ee(()=>(window.addEventListener("popstate",a),()=>{window.removeEventListener("popstate",a)}));var v=j(),h=B(v);ve(h,()=>e.children??ye),_(t,v),Q()}const gs={};function ic(t){Me(gs,t)}function lc(){const t=Be(gs);if(!t)throw new Error("No KeyboardVisibleContext found");return t}function cc(t,e){J(e,!0);let n=Re({value:!1});const r=()=>n.value;Ee(()=>{const i=()=>{setTimeout(()=>{document.activeElement instanceof HTMLInputElement&&document.activeElement.type==="text"||document.activeElement instanceof HTMLTextAreaElement?n.value=!0:n.value=!1},0)};return i(),document.addEventListener("focusin",i),document.addEventListener("focusout",i),()=>{document.removeEventListener("focusin",i),document.removeEventListener("focusout",i)}}),ic({getIsKeyboardVisible:r});var a=j(),o=B(a);ve(o,()=>e.children??ye),_(t,a),Q()}function uc(t,e){J(e,!0);const n=crypto.randomUUID(),r=(i,l)=>{i.postMessage(JSON.stringify({...l,tabId:n}))};Tl({tabId:n,createBroadcastChannel:()=>{const i=new BroadcastChannel("app");return{postMessage:l=>r(i,l),addEventListener:l=>{i.addEventListener("message",l)},removeEventListener:l=>{i.removeEventListener("message",l)}}}});var a=j(),o=B(a);ve(o,()=>e.children??ye),_(t,a),Q()}function dc(t,e){ql(t,{children:(n,r)=>{Yl(n,{children:(a,o)=>{Gl(a,{children:(i,l)=>{Xl(i,{children:(c,u)=>{Ql(c,{children:(d,v)=>{ec(d,{children:(h,g)=>{cc(h,{children:(f,p)=>{sc(f,{children:(w,S)=>{oc(w,{children:(k,m)=>{rc(k,{children:(A,L)=>{uc(A,{children:(C,D)=>{var T=j(),U=B(T);ve(U,()=>e.children??ye),_(C,T)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})}function fc(t,e){dc(t,{children:(n,r)=>{ml(n,{children:(a,o)=>{pl(a,{children:(i,l)=>{yl(i,{children:(c,u)=>{Sl(c,{children:(d,v)=>{Pl(d,{children:(h,g)=>{Il(h,{children:(f,p)=>{Rl(f,{children:(w,S)=>{Ul(w,{children:(k,m)=>{var A=j(),L=B(A);ve(L,()=>e.children??ye),_(k,A)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})}})}let jt=z(""),sn=z(null),Qn=z(null),$n=z(null);function mn(t,e){y(jt,""),setTimeout(()=>{y(jt,t,!0),e?.onFinish&&y(Qn,e.onFinish,!0),e?.onCancel&&y($n,e.onCancel,!0)},16)}const vc=(t,e,n,r,a)=>{t.preventDefault(),s(e)&&(y(n,null),s(e)(),y(e,null)),y(r,""),s(a)?.style.removeProperty("opacity")};var hc=H('<button type="button" class="undoButton svelte-1vxmgq5">undo</button>'),gc=H('<div class="notification svelte-1vxmgq5"><span> </span> <!></div>'),pc=H("<div><!></div>");function _c(t,e){J(e,!0),De(()=>{s(jt);const o=s($n)?2e3:800;s(jt)&&(s(sn)?.getBoundingClientRect(),s(sn)?.style.setProperty("opacity","1"));const i=setTimeout(()=>{s(sn)?.style.removeProperty("opacity")},o),l=setTimeout(()=>{y(jt,""),s(Qn)&&s(Qn)(),y(Qn,null),y($n,null),s(sn)?.style.removeProperty("opacity")},o+400);return()=>{clearTimeout(i),clearTimeout(l)}});var n=pc(),r=P(n);{var a=o=>{var i=gc(),l=P(i),c=P(l),u=V(l,2);{var d=v=>{var h=hc();h.__click=[vc,$n,Qn,jt,sn],_(v,h)};Y(u,v=>{s($n)&&v(d)})}Dt(i,v=>y(sn,v),()=>s(sn)),ue(()=>Qt(c,s(jt))),_(o,i)};Y(r,o=>{s(jt)&&o(a)})}_(t,n),Q()}st(["click"]);var mc=H('<span class="vh svelte-1s25udk"><!></span>');function rt(t,e){var n=mc(),r=P(n);ve(r,()=>e.children),_(t,n)}var wc=Qi('<svg class="svelte-18et5h9"><use></use></svg>');function ke(t,e){let n=le(e,"name",8,"");var r=wc(),a=P(r);ue(()=>xe(a,"href",`#icon-${n()??""}`)),_(t,r)}const yc=(t,e,n,r)=>{const a=e().type;a==="closed"?n():a==="opened"&&r()};var bc=H('<button class="buttonMenu svelte-bpktnw"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>');function ps(t,e){J(e,!1);const{sidebarOpen:n,getSidebarState:r,sidebarClose:a}=Ca();qo();var o=bc();o.__click=[yc,r,n,a];var i=P(o);be(i,()=>({"--size":"36px"})),ke(i.lastChild,{name:"sidebarMenu"});var l=V(i,2);rt(l,{children:(c,u)=>{var d=Te("Menu");_(c,d)}}),_(t,o),Q()}st(["click"]);var Sc=(t,e)=>e.onChange?.(t.target?.value||""),kc=H('<input class="svelte-15lr19w"/>');function ca(t,e){J(e,!0);let n=le(e,"value",15,"");var r=kc();r.__input=[Sc,e],ue(()=>xe(r,"placeholder",e.placeholder)),Sa("focus",r,function(...a){e.onFocus?.apply(this,a)}),ul(r,n),_(t,r),Q()}st(["input"]);function _s(t,e){J(e,!0),Ee(()=>{const n=r=>{r.target&&e.dialog?.open&&e.dialogInner&&e.dialogInner!==r.target&&!e.dialogInner.contains(r.target)&&e.onClose()};return document.addEventListener("mousedown",n,{capture:!0}),()=>{document.removeEventListener("mousedown",n,{capture:!0})}}),Q()}var Cc=H('<dialog><div class="dialogInner svelte-1x410nl"><!></div></dialog> <!>',1);function Da(t,e){J(e,!0);let n=z(null),r=z(null),a=z(!1),{showDialog:o,hideDialog:i}=fr();const l=f=>{f?.preventDefault();const p=setTimeout(()=>{e.onClosed()},150);s(n)?.addEventListener("transitionend",()=>{clearTimeout(p),e.onClosed()},{once:!0}),y(a,!1)};De(()=>{e.startClose&&l()}),Ee(()=>(s(n)?.showModal(),s(n)?.getClientRects(),y(a,!0),s(n)?.addEventListener("cancel",l),s(n)?.addEventListener("close",l),()=>{s(n)?.removeEventListener("cancel",l),s(n)?.removeEventListener("close",l)})),Ee(()=>(o(),()=>{i()}));var c=Cc(),u=B(c),d=P(u),v=P(d);ve(v,()=>e.children),Dt(d,f=>y(r,f),()=>s(r)),Dt(u,f=>y(n,f),()=>s(n));var h=V(u,2);{var g=f=>{_s(f,{get dialog(){return s(n)},get dialogInner(){return s(r)},onClose:l})};Y(h,f=>{s(n)&&s(r)&&f(g)})}ue(()=>me(u,1,_e(["dialog",{shown:s(a)}]),"svelte-1x410nl")),_(t,c),Q()}var Ec=H("<div><!></div>");function ms(t,e){J(e,!0);let n=z(!1),r=z(null);const a=()=>{const u=setTimeout(()=>{e.onClosed()},150);s(r)?.addEventListener("transitionend",()=>{clearTimeout(u),e.onClosed()},{once:!0}),y(n,!1)},o=u=>{u.target!==s(r)&&!s(r)?.contains(u.target)&&a()},i=u=>{u.target!==s(r)&&!s(r)?.contains(u.target)&&a()};Ee(()=>{s(r)?.getClientRects(),y(n,!0);const u=setTimeout(()=>{document.addEventListener("focusin",o),document.addEventListener("click",i)},0);return()=>{clearTimeout(u),document.removeEventListener("focusin",o),document.removeEventListener("click",i)}}),De(()=>{e.startClose&&a()});var l=Ec(),c=P(l);ve(c,()=>e.children),Dt(l,u=>y(r,u),()=>s(r)),ue(()=>me(l,1,_e(["menu",{top:e.positionTop,shown:s(n)}]),"svelte-ujw4xi")),_(t,l),Q()}const Pc=(t,e)=>{s(e)||y(e,!0)};var xc=(t,e)=>e("newest"),Ac=(t,e)=>e("oldest"),Dc=(t,e)=>e("AtoZ"),Tc=(t,e)=>e("ZtoA"),Nc=H("<div><button>Newest</button> <button>Oldest</button> <button>A to Z</button> <button>Z to A</button></div>"),Lc=H('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),Bc=H('<div class="orderMenu svelte-14zj87s"><button><!> <!></button> <!></div>');function Mc(t,e){J(e,!0);const n=(k,m=ye)=>{var A=Nc(),L=P(A);L.__click=[xc,d];var C=V(L,2);C.__click=[Ac,d];var D=V(C,2);D.__click=[Dc,d];var T=V(D,2);T.__click=[Tc,d],ue(()=>{me(A,1,_e(["menu",{menuDialog:m()}]),"svelte-14zj87s"),me(L,1,_e(["menuButton",{menuButtonDialog:m(),current:s(u)==="newest"}]),"svelte-14zj87s"),me(C,1,_e(["menuButton",{menuButtonDialog:m(),current:s(u)==="oldest"}]),"svelte-14zj87s"),me(D,1,_e(["menuButton",{menuButtonDialog:m(),current:s(u)==="AtoZ"}]),"svelte-14zj87s"),me(T,1,_e(["menuButton",{menuButtonDialog:m(),current:s(u)==="ZtoA"}]),"svelte-14zj87s")}),_(k,A)};let r=z(!1),a=z(!1);const{checkMobileSize:o}=Zn(),{getFeedOrder:i,setFeedOrder:l}=Jo();let c=R(o),u=R(i);const d=k=>{y(a,!0),l(k)},v=()=>{y(r,!1),y(a,!1)};Ee(()=>{const k=m=>{m.key==="Escape"&&y(a,!0)};return document.addEventListener("keydown",k),()=>document.removeEventListener("keydown",k)});var h=Bc(),g=P(h);g.__click=[Pc,r],me(g,1,_e(["button","buttonMenu"]),"svelte-14zj87s");var f=P(g);ke(f,{name:"filter"});var p=V(f,2);rt(p,{children:(k,m)=>{var A=Te("show feed order menu");_(k,A)}});var w=V(g,2);{var S=k=>{var m=j(),A=B(m);{var L=D=>{Da(D,{get startClose(){return s(a)},onClosed:v,children:(T,U)=>{n(T,()=>!0)},$$slots:{default:!0}})},C=D=>{var T=Lc(),U=B(T);be(U,()=>({"--right":"20px","--top":"60px"})),ms(U.lastChild,{get startClose(){return s(a)},onClosed:v,children:($,he)=>{n($,()=>!1)},$$slots:{default:!0}}),_(D,T)};Y(A,D=>{s(c)?D(L):D(C,!1)})}_(k,m)};Y(w,k=>{s(r)&&k(S)})}_(t,h),Q()}st(["click"]);var K=(t=>(t.NewNote="newNote",t.EditNote="editNote",t.Settings="settings",t.ImportData="importData",t.ExportData="exportData",t.ClearStore="clearStore",t.Account="account",t.Sync="sync",t.Start="start",t.Auth="auth",t.Signin="signin",t.Signup="signup",t.AccessKeys="accessKeys",t.ConfirmAccessKey="confirmAccessKey",t.Subscription="subscription",t.Exit="exit",t.NotFound="notFound",t.About="about",t.Bin="bin",t))(K||{}),Ic=H("<a><!></a>"),Oc=H("<button><!></button>");function Bt(t,e){let n=le(e,"type",3,"standard"),r=le(e,"typeButton",3,"button"),a=le(e,"element",3,"button"),o=le(e,"href",3,""),i=le(e,"fullWidth",3,!1),l=le(e,"withoutMinWidth",3,!1);var c=j(),u=B(c);{var d=h=>{var g=Ic();g.__click=function(...p){e.onClick?.apply(this,p)};var f=P(g);ve(f,()=>e.children??ye),ue(()=>{xe(g,"href",o()),me(g,1,_e(["button","a",{dangerous:n()==="dangerous",secondary:n()==="secondary",fullWidth:i(),withoutMinWidth:l()}]),"svelte-aqjevc")}),_(h,g)},v=h=>{var g=Oc();g.__click=function(...p){e.onClick?.apply(this,p)};var f=P(g);ve(f,()=>e.children??ye),ue(()=>{xe(g,"type",r()),me(g,1,_e(["button",{dangerous:n()==="dangerous",secondary:n()==="secondary",fullWidth:i(),withoutMinWidth:l()}]),"svelte-aqjevc")}),_(h,g)};Y(u,h=>{a()==="a"?h(d):h(v,!1)})}_(t,c)}st(["click"]);var Rc=H('<div class="block svelte-1dzbsx4"><span class="title svelte-1dzbsx4"> </span> <div class="controls svelte-1dzbsx4"><!> <!></div></div>');function ws(t,e){J(e,!0);let n=le(e,"buttonCancelTitle",3,"Cancel"),r=le(e,"buttonConfirmTitle",3,"Confirm"),a=z(!1),o=z(!1);const i=()=>{y(a,!0)},l=()=>{y(a,!0),y(o,!0)};Da(t,{get startClose(){return s(a)},onClosed:()=>{s(o)?e.onConfirm():e.onCancel()},children:(u,d)=>{var v=Rc(),h=P(v),g=P(h),f=V(h,2),p=P(f);Bt(p,{onClick:i,fullWidth:!0,withoutMinWidth:!0,type:"secondary",children:(S,k)=>{var m=Te();ue(()=>Qt(m,n())),_(S,m)},$$slots:{default:!0}});var w=V(p,2);Bt(w,{onClick:l,fullWidth:!0,withoutMinWidth:!0,type:"dangerous",children:(S,k)=>{var m=Te();ue(()=>Qt(m,r())),_(S,m)},$$slots:{default:!0}}),ue(()=>Qt(g,e.title)),_(u,v)},$$slots:{default:!0}}),Q()}const Fc=(t,e)=>{y(e,!0)};var zc=(t,e)=>{e("/",{full:!0})(t)},Hc=H('<a class="link svelte-13t3afu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Notes</span></a>'),Uc=(t,e)=>{e(K.Bin,{full:!0})(t)},jc=H('<a class="link svelte-13t3afu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Bin</span></a>'),Vc=H('<button class="emptyBinButton svelte-13t3afu" type="button">Empty bin</button>'),qc=H('<a class="buttonAdd svelte-13t3afu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Add note</span></a>'),Wc=H('<div class="header svelte-13t3afu"><div class="top svelte-13t3afu"><div class="menu svelte-13t3afu"><a class="link svelte-13t3afu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Settings</span></a> <a class="link svelte-13t3afu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Sync</span></a> <!></div> <div class="mobile svelte-13t3afu"><!></div> <!></div> <div class="bottom svelte-13t3afu"><div><div class="sidebarSearchWrapper"><!></div></div> <div class="right svelte-13t3afu"><div class="filter svelte-13t3afu"><div class="feedSearchWrapper svelte-13t3afu"><!></div> <!></div></div></div></div> <!>',1);function Yc(t,e){J(e,!0);const{createHandlePage:n,getPageUrl:r}=It(),a=Yo(),o=Zo(),{getScrollContainer:i}=xa();let l=R(i);const{emptyBin:c,checkNotesInBin:u}=Ur(),{getAppHistory:d}=mt(),v=R(u),h=R(()=>d().pathname);let g=z(!1);const f=()=>{s(l)&&s(l).scrollTo({top:0,behavior:"smooth"})};var p=Wc(),w=B(p),S=P(w),k=P(S),m=P(k),A=R(()=>n(K.Settings));m.__click=function(...E){s(A)?.apply(this,E)};var L=P(m);be(L,()=>({"--rotate":"30deg","--size":"20px"})),ke(L.lastChild,{name:"settings"});var C=V(m,2),D=R(()=>n(K.Sync));C.__click=function(...E){s(D)?.apply(this,E)};var T=P(C);be(T,()=>({"--size":"20px"})),ke(T.lastChild,{name:"sync"});var U=V(C,2);{var $=E=>{var q=Hc();q.__click=[zc,n];var se=P(q);be(se,()=>({"--size":"18px"})),ke(se.lastChild,{name:"note"}),ue(ee=>xe(q,"href",ee),[()=>r("/",{full:!0})]),_(E,q)},he=E=>{var q=j(),se=B(q);{var ee=ge=>{var oe=jc();oe.__click=[Uc,n];var Ne=P(oe);be(Ne,()=>({"--size":"20px"})),ke(Ne.lastChild,{name:"bin"}),ue(Ae=>xe(oe,"href",Ae),[()=>r(K.Bin,{full:!0})]),_(ge,oe)};Y(se,ge=>{s(v)&&ge(ee)},!0)}_(E,q)};Y(U,E=>{s(h)===`/${K.Bin}`?E($):E(he,!1)})}var ie=V(k,2),ne=P(ie);ps(ne,{});var W=V(ie,2);{var Z=E=>{var q=j(),se=B(q);{var ee=ge=>{var oe=Vc();oe.__click=[Fc,g],_(ge,oe)};Y(se,ge=>{s(v)&&ge(ee)})}_(E,q)},re=E=>{var q=qc(),se=R(()=>n(K.NewNote));q.__click=function(...ge){s(se)?.apply(this,ge)};var ee=P(q);be(ee,()=>({"--size":"16px","--color":"#b0b0b0"})),ke(ee.lastChild,{name:"plus"}),ue(ge=>xe(q,"href",ge),[()=>r(K.NewNote)]),_(E,q)};Y(W,E=>{s(h)===`/${K.Bin}`?E(Z):E(re,!1)})}var F=V(S,2),te=P(F);me(te,1,_e(["left"]),"svelte-13t3afu");var X=P(te),G=P(X);ca(G,{placeholder:"Search tag",get value(){return o.value},set value(E){o.value=E}});var I=V(te,2),O=P(I),fe=P(O),we=P(fe);ca(we,{onFocus:f,placeholder:"Search",get value(){return a.value},set value(E){a.value=E}});var x=V(fe,2);Mc(x,{});var M=V(w,2);{var b=E=>{ws(E,{title:"Are you sure you want to empty the bin?",buttonConfirmTitle:"Empty",onConfirm:()=>{c(),y(g,!1)},onCancel:()=>{y(g,!1)}})};Y(M,E=>{s(g)&&E(b)})}ue((E,q)=>{xe(m,"href",E),xe(C,"href",q)},[()=>r(K.Settings),()=>r(K.Sync)]),_(t,p),Q()}st(["click"]);function Kc(t,e){J(e,!0);const{getIsKeyboardVisible:n}=lc();let r=le(e,"dialog",7);const a=R(n),o=Gn();let i=null;const l=()=>{e.dialogState==="swiping"&&e.onClose()};De(()=>(e.dialogState==="swiping"&&(i=setTimeout(l,3e3)),()=>{i&&(clearTimeout(i),i=null)}));let c=null,u=null;const d=3,v=50,h=5,g=.6,f=.3,p=.35,w=.95;let S=0,k=0,m=0,A=!1,L=!1,C=0,D=0,T=0;const U=()=>{S=0,k=0,A=!1,L=!1,C=0,D=0,T=0,m=0,c=null,u!==null&&(cancelAnimationFrame(u),u=null),i&&(clearTimeout(i),i=null)},$=X=>{r()&&e.dialogState==="opened"&&(S=X.touches[0].clientX,k=X.touches[0].clientY,m=performance.now(),A=!0,L=!1)},he=X=>e.dialogState==="opened"&&X>0||e.dialogState==="swiping"&&X>0,ie=()=>{if(r()){r().style.setProperty("--transition-timing","0s"),e.onSwipe();try{const X=window.getComputedStyle(r()),G=X.transform||X.webkitTransform||"";if(D=r().offsetWidth,(e.dialogState==="swiping"||e.dialogState==="opened")&&(C=0),G&&G!=="none")try{C=new DOMMatrix(G).m41}catch{}L=!0}catch{U()}}},ne=()=>{if(!r())return;const G=Math.abs(C+T*D/100)/D;r().style.setProperty("--backdrop-bg",`rgba(0, 0, 0, ${.1*(1-G)})`)},W=()=>{if(u=null,!c||!A||!r()||s(a)){U();return}const X=[...c.touches].reduce((E,q)=>E+q.clientX,0)/c.touches.length,G=[...c.touches].reduce((E,q)=>E+q.clientY,0)/c.touches.length,I=X-S,O=G-k,fe=Math.abs(I)>Math.abs(O),we=Math.abs(I)>d;if(!L)if(fe&&we&&he(I))try{ie()}catch{U();return}else return;let x=C+I*w;x=Math.max(0,Math.min(D,x)),!(x<0)&&(r().style.setProperty("--transition-timing","0s"),r().style.transform=`translate3d(${x}px, 0, 0)`,o.swipingRatio=Math.abs(1-x/D),T=(x-C)/D*100,e.dialogState==="swiping"&&(i&&clearTimeout(i),i=setTimeout(l,3e3)),ne())},Z=X=>{if(!A)return;c=X,u===null&&(u=requestAnimationFrame(W));const G=X.touches[0].clientX-S,I=X.touches[0].clientY-k,O=Math.abs(G)>Math.abs(I);L&&O&&X.preventDefault()},re=X=>{const G=Math.abs(X);if(G>=g)return h;if(G>=f){const I=(G-f)/(g-f);return v-I*(v-h)}else return v},F=(X,G)=>{if(Math.abs(X)>=g)return p*.5;const O=Math.abs(T)/100;return G?p*Math.max(.5,1-O):p*Math.max(.5,O)},te=X=>{if(u!==null&&(cancelAnimationFrame(u),u=null),!A||!r()){U();return}if(!L){U();return}let G=0;if(X?.changedTouches?.[0]){const x=X.changedTouches[0].clientX,b=performance.now()-m;b>0&&(G=(x-S)/b)}const I=re(G);let O=null;e.dialogState==="swiping"&&(O=Math.abs(T)>I||G<-f?"close":"open");const fe=e.dialogState==="swiping"&&O==="close",we=F(G,fe);o.duration=we-.02,r().style.setProperty("--transition-timing",`${we}s`),r().offsetWidth,r().style.transform="",O==="open"?e.onOpen():O==="close"&&e.onClose(),r()?.style.removeProperty("--backdrop-bg"),U()};Ee(()=>(r().addEventListener("touchstart",$,{passive:!0}),r().addEventListener("touchmove",Z,{passive:!1}),r().addEventListener("touchend",te,{passive:!0}),r().addEventListener("touchcancel",te,{passive:!0}),()=>{r().removeEventListener("touchstart",$),r().removeEventListener("touchmove",Z),r().removeEventListener("touchend",te),r().removeEventListener("touchcancel",te),u!==null&&cancelAnimationFrame(u)})),Q()}var Gc=(t,e)=>{e.onStartClose()},Zc=H('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),Xc=H('<dialog><div class="dialogInner svelte-vr2o0t"><div class="header svelte-vr2o0t"><div><!></div></div> <!></div></dialog> <!>',1);function Jc(t,e){J(e,!0);let n=350;const{isScrolling:r,enable:a}=cs();let o=z(null),i=z(null);const l=Gn(),c=C=>{C.preventDefault(),e.onStartClose()};Ee(()=>(s(o)?.addEventListener("close",e.onClosed),s(o)?.addEventListener("cancel",c),()=>{s(o)?.removeEventListener("close",e.onClosed),s(o)?.removeEventListener("cancel",c)}));const u=()=>{s(o)?.style.removeProperty("--transition-timing"),s(o)?.style.removeProperty("transform"),s(o)?.style.removeProperty("--backdrop-bg")},d=()=>{a()},v=R(r);De(()=>{if(e.dialogState,!!s(o))switch(e.dialogState){case"opening":{s(o).open||s(o).showModal(),s(o).getBoundingClientRect();const C=setTimeout(()=>{u()},n+1),D=()=>{clearTimeout(C),u()};return s(o)?.addEventListener("transitionend",D,{once:!0}),e.onOpened(),()=>{clearTimeout(C),s(o)?.removeEventListener("transitionend",D)}}case"closing":{const C=setTimeout(()=>{e.dialogState==="closing"&&e.onClosed()},n+1),D=()=>{clearTimeout(C),e.onClosed()};return s(o)?.addEventListener("transitionend",D,{once:!0}),()=>{clearTimeout(C),s(o)?.removeEventListener("transitionend",D)}}case"opened":u()}});var h=Xc(),g=B(h),f=P(g),p=P(f),w=P(p),S=P(w);{var k=C=>{var D=Zc();me(D,1,_e(["navigateButton","buttonBack"]),"svelte-vr2o0t"),D.__click=[Gc,e];var T=P(D);be(T,()=>({"--size":"36px"})),ke(T.lastChild,{name:"back"});var U=V(T,2);rt(U,{children:($,he)=>{var ie=Te("back");_($,ie)}}),_(C,D)};Y(S,C=>{(!(e.blocked||e.hidden)||e.blocked&&e.unBlockedBack)&&C(k)})}var m=V(p,2);ve(m,()=>e.children),Dt(f,C=>y(i,C),()=>s(i)),Dt(g,C=>y(o,C),()=>s(o));var A=V(g,2);{var L=C=>{Kc(C,{get onClose(){return e.onStartClose},get onOpen(){return e.onStartOpen},get onSwipe(){return e.onSwipe},get dialogState(){return e.dialogState},get dialog(){return s(o)}})};Y(A,C=>{(!s(v)&&e.dialogState==="opened"||e.dialogState==="swiping")&&(!e.blocked||e.unBlockedBack)&&C(L)})}ue(()=>me(g,1,_e([{open:e.dialogState==="opened",hidden:e.hidden,isAnimationOn:l.working&&(!l.isSwiping||!e.hidden)},{hidden:e.hidden}]),"svelte-vr2o0t")),Sa("scroll",f,d),_(t,h),Q()}st(["click"]);const Ga=(t,e)=>{if(!e)return t;if(e.type==="closed")return{type:"closed"};switch(t.type){case"opened":return e.type==="close"?{type:"closing"}:e.type==="swipe"?{type:"swiping"}:t;case"closed":return e.type==="open"?{type:"opening"}:t;case"swiping":return e.type==="open"?{type:"opening"}:e.type==="close"?{type:"closing"}:t;case"opening":return e.type==="opened"?{type:"opened"}:t;default:return t}};function Qc(t,e){J(e,!0);let n=le(e,"blocked",3,!1),r=le(e,"hiddenDialog",3,!1),a=le(e,"unBlockedBack",3,!1),o=le(e,"onStartClose",3,()=>{}),i=le(e,"onClose",3,()=>{});const l=Gn();let c=z(Re(Ga({type:"closed"})));const u=m=>{y(c,Ga(s(c),m),!0)},d=()=>{n()&&!a()||(o()(),u({type:"close"}))},v=()=>{u({type:"open"})},h=()=>{u({type:"opened"}),l.swipingRatio=1,l.duration=.2},g=()=>{i()(),u({type:"closed"}),l.swipingRatio=1,l.duration=.2},f=()=>{u({type:"swipe"})};De(()=>{s(c).type==="swiping"?l.isSwiping=!0:l.isSwiping=!1,s(c).type==="closed"&&e.shownDialog?v():s(c).type==="opened"&&!e.shownDialog&&d()});var p={handleComputeState:u},w=j(),S=B(w);{var k=m=>{Jc(m,{onSwipe:f,onOpened:h,onClosed:g,onStartClose:d,onStartOpen:v,get dialogState(){return s(c).type},get hidden(){return r()},get blocked(){return n()},get unBlockedBack(){return a()},children:(A,L)=>{var C=j(),D=B(C);ve(D,()=>e.children),_(A,C)},$$slots:{default:!0}})};Y(S,m=>{s(c).type!=="closed"&&m(k)})}return _(t,w),Q(p)}const $c=({getDialog:t,onOpen:e,onStartClose:n,onClose:r})=>{const a=i=>{i.preventDefault(),n()},o=()=>{r?.()};Ee(()=>{const i=t();return i?.addEventListener("cancel",a),i?.addEventListener("close",o),()=>{i?.removeEventListener("cancel",a),i?.removeEventListener("close",o)}}),Ee(()=>{const i=t();i?.showModal(),i?.getBoundingClientRect(),e()})};var eu=(t,e)=>{e.onStartBack()},tu=H('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),nu=(t,e)=>{e.onStartClose()},ru=H('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),au=H('<dialog><div class="dialogInner svelte-rt409n"><div class="header svelte-rt409n"><div><!></div> <div><!></div></div> <!></div></dialog> <!>',1);function ou(t,e){J(e,!0);let n=le(e,"blockedDialog",3,!1),r=le(e,"hiddenDialog",3,!1),a=le(e,"isDesktopAnimationOff",3,!1),o=z(null),i=z(null);$c({getDialog:()=>s(o),onOpen:e.onOpen,onStartClose:e.onStartClose,onClose:e.onClose});const l=Gn();De(()=>{e.stateDialog==="closing"&&(l.working?s(o)?.addEventListener("transitionend",()=>{s(o)?.close()},{once:!0}):s(o)?.close())});const{getDialogPageHeight:c}=Aa(),u=R(c);var d=au(),v=B(d),h=P(v),g=P(h),f=P(g),p=P(f);{var w=C=>{var D=tu();me(D,1,_e(["navigateButton","buttonBack"]),"svelte-rt409n"),D.__click=[eu,e];var T=P(D);be(T,()=>({"--size":"28px"})),ke(T.lastChild,{name:"back"});var U=V(T,2);rt(U,{children:($,he)=>{var ie=Te("back");_($,ie)}}),_(C,D)};Y(p,C=>{(!(n()||r())||n()&&e.unBlockedBack)&&e.onStartBack&&C(w)})}var S=V(f,2),k=P(S);{var m=C=>{var D=ru();me(D,1,_e(["navigateButton","buttonClose"]),"svelte-rt409n"),D.__click=[nu,e];var T=P(D);be(T,()=>({"--size":"28px"})),ke(T.lastChild,{name:"close"});var U=V(T,2);rt(U,{children:($,he)=>{var ie=Te("close");_($,ie)}}),_(C,D)};Y(k,C=>{n()||r()||C(m)})}var A=V(g,2);ve(A,()=>e.children),Dt(h,C=>y(i,C),()=>s(i)),Dt(v,C=>y(o,C),()=>s(o));var L=V(v,2);_s(L,{get dialog(){return s(o)},get dialogInner(){return s(i)},get onClose(){return e.onStartClose}}),ue(()=>{Hn(v,`height: ${s(u)+74}px`),me(v,1,_e([{open:e.stateDialog==="open",isAnimationOn:l.working,isDesktopAnimationOff:a(),hiddenDialog:r()}]),"svelte-rt409n")}),_(t,d),Q()}st(["click"]);const su=({onStartClose:t,onClose:e})=>{let n=z("close");return{get state(){return s(n)},set state(i){y(n,i,!0)},handleStartClose:(i=!1)=>{i||(y(n,"closing"),t?.())},handleOpen:()=>{y(n,"open")},handleClose:()=>{y(n,"close"),e?.()}}};function iu(t,e){J(e,!0);let n=le(e,"blockedDialog",3,!1),r=le(e,"hiddenDialog",3,!1),a=le(e,"onStartClose",3,()=>{}),o=le(e,"onClose",3,()=>{}),i=su({onStartClose:a(),onClose:o()});De(()=>{i.state==="close"&&e.shownDialog?i.state="opening":i.state==="open"&&!e.shownDialog&&i.handleStartClose(n())});const l=v=>{v.key==="Escape"&&(document.activeElement instanceof HTMLInputElement&&document.activeElement.type==="text"||document.activeElement instanceof HTMLTextAreaElement||n())&&(v.preventDefault(),v.stopPropagation())};Ee(()=>(document.addEventListener("keydown",l),()=>{document.removeEventListener("keydown",l)}));var c=j(),u=B(c);{var d=v=>{ou(v,{get stateDialog(){return i.state},get blockedDialog(){return n()},get unBlockedBack(){return e.unBlockedBack},get hiddenDialog(){return r()},get onOpen(){return i.handleOpen},get onStartBack(){return e.onStartBack},onStartClose:()=>{i.handleStartClose(n())},get onClose(){return i.handleClose},children:(h,g)=>{var f=j(),p=B(f);ve(p,()=>e.children),_(h,f)},$$slots:{default:!0}})};Y(u,v=>{i.state!=="close"&&v(d)})}_(t,c),Q()}function lu(t,e){J(e,!0);let n=le(e,"blockedDialog",3,!1),r=le(e,"hiddenDialog",3,!1),a=le(e,"isLastDialog",3,!1),o=le(e,"onStartClose",3,()=>{}),i=le(e,"onClose",3,()=>{});const l=R(()=>a()?void 0:e.onStartBack),{showDialog:c,hideDialog:u}=fr();Ee(()=>(c(),()=>{u()}));const{checkMobileSize:d}=Zn();var v=j(),h=B(v);{var g=p=>{Qc(p,{get shownDialog(){return e.shownDialog},get blocked(){return n()},get unBlockedBack(){return e.unBlockedBack},get hiddenDialog(){return r()},get children(){return e.children},get onStartClose(){return e.onStartBack},get onClose(){return i()}})},f=p=>{iu(p,{get shownDialog(){return e.shownDialog},get blockedDialog(){return n()},get unBlockedBack(){return e.unBlockedBack},get hiddenDialog(){return r()},get children(){return e.children},get onStartBack(){return s(l)},get onStartClose(){return o()},get onClose(){return i()}})};Y(h,p=>{d()?p(g):p(f,!1)})}_(t,v),Q()}function Za(t,e){J(e,!0);const{back:n,closeDialogStack:r}=mt(),{popStackPages:a}=It();let o=le(e,"blocked",3,!1),i=le(e,"isLastDialog",3,!1),l=le(e,"onBack",3,()=>{});const{checkBlockedDialog:c,checkUnBlockedBackDialog:u}=fr(),d=R(()=>o()||e.hidden||c()),v=R(()=>u()&&!i());lu(t,{get shownDialog(){return e.shown},get blockedDialog(){return s(d)},get unBlockedBack(){return s(v)},get hiddenDialog(){return e.hidden},get isLastDialog(){return i()},onStartBack:()=>{(!s(d)||s(d)&&s(v))&&e.shown&&(n(),l()())},onStartClose:()=>{(!s(d)||s(d)&&s(v))&&e.shown&&r()},onClose:()=>{a()},children:(p,w)=>{var S=j(),k=B(S);ve(k,()=>e.children),_(p,S)},$$slots:{default:!0}}),Q()}var cu=H('<h1 class="svelte-1ky72l5"><!></h1>');function uu(t,e){var n=cu(),r=P(n);ve(r,()=>e.children),_(t,n)}var du=H('<div class="block svelte-ujk4k"><!> <div class="container svelte-ujk4k"><!> <!></div></div>');function fu(t,e){J(e,!0);const{blockDialog:n}=fr(),{pushStackPages:r}=It(),{closeDialogStack:a}=mt(),{initLocalAccount:o}=Pa();let i=z("idle");const l=()=>{y(i,"loading"),r(K.Auth)},c=async()=>{y(i,"loading"),Cl(),await o(),n(!1),a()};De(()=>{n(s(i)==="idle"||s(i)==="loading")}),Ee(()=>(n(!0),()=>{n(!1)}));var u=du(),d=P(u);uu(d,{children:(f,p)=>{var w=Te("use app");_(f,w)}});var v=V(d,2),h=P(v);Bt(h,{onClick:l,fullWidth:!0,children:(f,p)=>{var w=Te("cloud account");_(f,w)},$$slots:{default:!0}});var g=V(h,2);Bt(g,{onClick:c,fullWidth:!0,type:"secondary",children:(f,p)=>{var w=Te("without account");_(f,w)},$$slots:{default:!0}}),_(t,u),Q()}var vu=H('<div class="svelte-1x9a4ve"><!></div>');function Oe(t,e){J(e,!0);const{setDialogPageHeight:n}=Aa();let r=z(null);Ee(()=>{s(r)&&(s(r).getBoundingClientRect(),s(r).style.opacity="1");const i=new ResizeObserver(l=>{for(let c of l){const u=c.contentRect.height;n(u)}});if(s(r))return i.observe(s(r)),()=>{s(r)&&i.unobserve(s(r)),i.disconnect()}});var a=vu(),o=P(a);ve(o,()=>e.children),Dt(a,i=>y(r,i),()=>s(r)),_(t,a),Q()}var hu=H('<div class="svelte-stjbkr"><p class="svelte-stjbkr">Page not found</p> <!></div>');function gu(t,e){J(e,!1);const{navigate:n}=mt(),r=i=>{i.preventDefault(),n("/")};qo();var a=hu(),o=V(P(a),2);Bt(o,{element:"a",href:"/",onClick:r,children:(i,l)=>{var c=Te("close");_(i,c)},$$slots:{default:!0}}),_(t,a),Q()}const pu="modulepreload",_u=function(t){return"/"+t},Xa={},Ue=function(e,n,r){let a=Promise.resolve();if(n&&n.length>0){let c=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=i?.nonce||i?.getAttribute("nonce");a=c(n.map(u=>{if(u=_u(u),u in Xa)return;Xa[u]=!0;const d=u.endsWith(".css"),v=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${v}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":pu,d||(h.as="script"),h.crossOrigin="",h.href=u,l&&h.setAttribute("nonce",l),document.head.appendChild(h),d)return new Promise((g,f)=>{h.addEventListener("load",g),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${u}`)))})}))}function o(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return a.then(i=>{for(const l of i||[])l.status==="rejected"&&o(l.reason);return e().catch(o)})};var mu=H('<div class="svelte-10xfz1h"><p class="svelte-10xfz1h">Something went wrong. Please reload the page</p> <!></div>');function wu(t){var e=mu(),n=V(P(e),2);Bt(n,{onClick:()=>location.reload(),children:(r,a)=>{var o=Te("Reload");_(r,o)},$$slots:{default:!0}}),_(t,e)}var yu=H('<div><!> <div class="loader svelte-m0sno1"></div></div>');function ys(t,e){J(e,!0);let n=z(!1);Ee(()=>{const o=setTimeout(()=>{y(n,!0)},200);return()=>{clearTimeout(o)}});var r=yu(),a=P(r);ve(a,()=>e.children??ye),ue(()=>me(r,1,_e(["block",{shown:s(n)}]),"svelte-m0sno1")),_(t,r),Q()}var bu=H('<div class="svelte-1mu1b44"><!></div>');function Su(t,e){J(e,!0);const{getDialogPageHeight:n}=Aa(),r=R(n);var a=bu(),o=P(a);ys(o,{}),ue(()=>Hn(a,`min-height: ${s(r)??""}px;`)),_(t,a),Q()}function qe(t,e){J(e,!0);const n={},r=Object.assign({"./Pages/About.svelte":()=>Ue(()=>import("./CPYXH2Sk.js"),__vite__mapDeps([0,1])),"./Pages/AccessKeys.svelte":()=>Ue(()=>import("./6LHWD0Ht.js"),__vite__mapDeps([2,3,4,5])),"./Pages/Account.svelte":()=>Ue(()=>import("./CwffZA6x.js"),__vite__mapDeps([6,3,7])),"./Pages/Auth.svelte":()=>Ue(()=>import("./BuZx1MVC.js"),__vite__mapDeps([8,9])),"./Pages/ClearStore.svelte":()=>Ue(()=>import("./Bz2q4pzR.js"),__vite__mapDeps([10,11])),"./Pages/ConfirmAccessKey.svelte":()=>Ue(()=>import("./BQlW6EUM.js"),__vite__mapDeps([12,4,3,13,14,15,16])),"./Pages/EditNote.svelte":()=>Ue(()=>import("./BpER6Cte.js"),__vite__mapDeps([17,18,14,15,19,20])),"./Pages/Exit.svelte":()=>Ue(()=>import("./kHBiordy.js"),__vite__mapDeps([21,22])),"./Pages/ExportData.svelte":()=>Ue(()=>import("./BP7mXCBF.js"),__vite__mapDeps([23,24])),"./Pages/ImportData.svelte":()=>Ue(()=>import("./0DM8hy3d.js"),__vite__mapDeps([25,26])),"./Pages/NewNote.svelte":()=>Ue(()=>import("./CzcOEp6p.js"),__vite__mapDeps([27,18,14,15,19])),"./Pages/Settings.svelte":()=>Ue(()=>import("./CMsTAw-f.js"),__vite__mapDeps([28,29])),"./Pages/Signin.svelte":()=>Ue(()=>import("./COiyh7Tp.js"),__vite__mapDeps([30,4,3,13,31])),"./Pages/Signup.svelte":()=>Ue(()=>import("./9pUTpuOr.js"),__vite__mapDeps([32,13,4,3,33])),"./Pages/Subscription.svelte":()=>Ue(()=>import("./DfvxFHZh.js"),__vite__mapDeps([34,35])),"./Pages/Sync.svelte":()=>Ue(()=>import("./BcBU6HdW.js"),__vite__mapDeps([36,37]))}),a=async l=>{const c=`./Pages/${l[0].toUpperCase()+l.slice(1)}.svelte`;if(!n[l]){if(r[c]){const u=r[c]();return n[l]={promise:u},n[l].module=await u,n[l].module}throw new Error(`Page ${l} not found`)}return n[l].module||await n[l].promise};var o=j(),i=B(o);zo(i,()=>a(e.page),l=>{Su(l,{})},(l,c)=>{const u=R(()=>s(c).default);var d=j(),v=B(d);jo(v,()=>s(u),(h,g)=>{g(h,{get params(){return e.params},get hidden(){return e.hidden}})}),_(l,d)},l=>{wu(l)}),_(t,o),Q()}var ku=H('<button> <svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></button>');function bs(t,e){let n=R(()=>e.style==="selected"?"45deg":"0deg");var r=ku();r.__click=function(...i){e.onClick?.apply(this,i)};var a=P(r),o=V(a);be(o,()=>({"--size":e.size==="small"?"10px":"12px","--rotate":s(n)})),ke(o.lastChild,{name:"plus"}),ue(()=>{xe(r,"type",e.type),me(r,1,_e([{selectedTag:e.style==="selected",small:e.size==="small",empty:e.title===void 0}]),"svelte-uu8a24"),Qt(a,`${e.title??""} `)}),_(t,r)}st(["click"]);var Cu=H("<div></div>");function Ja(t,e){J(e,!0);let n=le(e,"mobile",3,!1);var r=Cu();zr(r,20,()=>e.tags,a=>a,(a,o)=>{bs(a,{get title(){return o},onClick:()=>e.handleTagClick(o)})}),ue(()=>me(r,1,_e(["tags",{mobile:n()}]),"svelte-1c53r32")),_(t,r),Q()}var Eu=H("<div></div>");function Qa(t,e){J(e,!0);var n=j(),r=B(n);{var a=o=>{var i=Eu();me(i,1,_e(["tags","selectedTags"]),"svelte-58z9m1"),zr(i,20,()=>e.selectedTags,l=>l,(l,c)=>{bs(l,{get title(){return c},onClick:()=>e.handleSelectedTagClick(c),style:"selected"})}),_(o,i)};Y(r,o=>{e.selectedTags.size>0&&o(a)})}_(t,n),Q()}var Pu=(t,e,n)=>{e(),n("/",{full:!0})(t)},xu=H('<a class="link svelte-ltt61h"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a>'),Au=(t,e,n)=>{e(),n(K.Bin,{full:!0})(t)},Du=H('<a class="link svelte-ltt61h"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a>'),Tu=H('<div class="sidebarFixed svelte-ltt61h"><div class="nav svelte-ltt61h"><!> <div class="menu svelte-ltt61h"><a class="link svelte-ltt61h"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a> <a class="link svelte-ltt61h"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a> <!></div></div> <div class="searchWrapper svelte-ltt61h"><!></div> <!></div> <!>',1),Nu=H('<div class="sidebar svelte-ltt61h"><div class="sidebarFixed svelte-ltt61h"><!></div> <!></div>');function Lu(t,e){J(e,!0);const{checkMobileSize:n}=Zn(),{sidebarClose:r}=Ca(),{getAppHistory:a}=mt(),{getPageUrl:o,createHandlePage:i,getStackPagesFormUrl:l}=It(),c=Zo(),u=R(()=>a().pathname),{getSelectedTags:d,addTag:v,removeTag:h}=es();let g=R(d);const{checkNotesInBin:f}=Ur();let p=le(e,"getNotes",3,()=>[]),w=le(e,"mode",3,"notes"),S=null;function k(){return S||(S=Ue(()=>import("./D9O9Al5x.js"),__vite__mapDeps([38,39]))),S}const m=W=>{v(W)},A=W=>{h(W)},L=()=>{if(s(g).has("inbox"))return[];const W=[],Z=Array.from(s(g).values());for(const re of p()()||[])if(re.data&&!(re.data.deletedAt&&w()==="notes")&&!(!re.data.deletedAt&&w()==="bin")){if(s(g).size===0){for(const F of re?.data?.tags||[])W.includes(F)||W.push(F);for(const F of re?.data?.draft?.tags||[])W.includes(F)||W.push(F);continue}if(re.data&&Z.every(F=>re.data?.tags.includes(F)))for(const F of re.data.tags)!s(g).has(F)&&!W.includes(F)&&W.push(F);if(re&&re.data.draft&&Z.every(F=>re.data?.draft?.tags.includes(F)))for(const F of re.data.draft.tags)!s(g).has(F)&&!W.includes(F)&&W.push(F)}return W};let C=R(()=>L().filter(W=>c.value===""||W.toLowerCase().indexOf(c.value.toLowerCase())!==-1).sort((W,Z)=>W==="inbox"?-1:Z==="inbox"?1:W.localeCompare(Z))),D=R(n);Ee(()=>{s(D)&&k()});const{checkExistedDialog:T}=fr();let U=R(()=>l().length>0||T());var $=j(),he=B($);{var ie=W=>{var Z=j(),re=B(Z);zo(re,k,null,(F,te)=>{const X=R(()=>s(te).default);var G=j(),I=B(G);jo(I,()=>s(X),(O,fe)=>{fe(O,{get blocked(){return s(U)},children:(we,x)=>{var M=Tu(),b=B(M),E=P(b),q=P(E);ps(q,{});var se=V(q,2),ee=P(se),ge=R(()=>i(K.Settings));ee.__click=function(...Pe){s(ge)?.apply(this,Pe)};var oe=P(ee);be(oe,()=>({"--size":"24px"})),ke(oe.lastChild,{name:"settings"});var Ne=V(oe,2);rt(Ne,{children:(Pe,Ge)=>{var Ve=Te("Settings");_(Pe,Ve)}});var Ae=V(ee,2),Je=R(()=>i(K.Sync));Ae.__click=function(...Pe){s(Je)?.apply(this,Pe)};var ze=P(Ae);be(ze,()=>({"--size":"24px"})),ke(ze.lastChild,{name:"sync"});var je=V(ze,2);rt(je,{children:(Pe,Ge)=>{var Ve=Te("Sync");_(Pe,Ve)}});var Ie=V(Ae,2);{var wt=Pe=>{var Ge=xu();Ge.__click=[Pu,r,i];var Ve=P(Ge);be(Ve,()=>({"--size":"24px"})),ke(Ve.lastChild,{name:"note"});var zt=V(Ve,2);rt(zt,{children:(bt,an)=>{var on=Te("Notes");_(bt,on)}}),ue(bt=>xe(Ge,"href",bt),[()=>o("/",{full:!0})]),_(Pe,Ge)},Qe=Pe=>{var Ge=j(),Ve=B(Ge);{var zt=bt=>{var an=Du();an.__click=[Au,r,i];var on=P(an);be(on,()=>({"--size":"24px"})),ke(on.lastChild,{name:"bin"});var Ht=V(on,2);rt(Ht,{children:(Ut,jr)=>{var Vr=Te("Bin");_(Ut,Vr)}}),ue(Ut=>xe(an,"href",Ut),[()=>o(K.Bin,{full:!0})]),_(bt,an)};Y(Ve,bt=>{f()&&bt(zt)},!0)}_(Pe,Ge)};Y(Ie,Pe=>{s(u)===`/${K.Bin}`?Pe(wt):Pe(Qe,!1)})}var tt=V(E,2),yt=P(tt);ca(yt,{placeholder:"Search tag",get value(){return c.value},set value(Pe){c.value=Pe}});var Rt=V(tt,2);Qa(Rt,{get selectedTags(){return s(g)},handleSelectedTagClick:A});var Ft=V(b,2);Ja(Ft,{get tags(){return s(C)},handleTagClick:m,mobile:!0}),ue((Pe,Ge)=>{xe(ee,"href",Pe),xe(Ae,"href",Ge)},[()=>o(K.Settings),()=>o(K.Sync)]),_(we,M)},$$slots:{default:!0}})}),_(F,G)}),_(W,Z)},ne=W=>{var Z=Nu(),re=P(Z),F=P(re);Qa(F,{get selectedTags(){return s(g)},handleSelectedTagClick:A});var te=V(re,2);Ja(te,{get tags(){return s(C)},handleTagClick:m}),_(W,Z)};Y(he,W=>{s(D)?W(ie):W(ne,!1)})}_(t,$),Q()}st(["click"]);const Bu=(t,e,n,r)=>{e.noteData.pinnedAt?(n(e.noteId,!1),mn("Note unpinned",{onCancel:()=>{n(e.noteId,!0)}})):(n(e.noteId,!0),mn("Note pinned",{onCancel:()=>{n(e.noteId,!1)}})),y(r,!0)},Mu=(t,e,n)=>{navigator.clipboard.writeText(e.noteData.url),mn("Link copied"),y(n,!0)};var Iu=H('<li class="svelte-8ve3pe"><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>Copy link</button></li>'),Ou=(t,e,n)=>{y(e,!0),y(n,!0)},Ru=H('<li class="svelte-8ve3pe"><button><span class="wrapperIcon svelte-8ve3pe"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></span>Delete</button></li>'),Fu=(t,e,n)=>{y(e,!0),y(n,!0)},zu=(t,e,n)=>{y(e,!0),y(n,!0)},Hu=H('<li class="svelte-8ve3pe"><button><span class="wrapperIcon svelte-8ve3pe"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></span>Restore</button></li> <li class="svelte-8ve3pe"><button><span class="wrapperIcon svelte-8ve3pe"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></span>Delete from bin</button></li>',1),Uu=H('<ul class="menu svelte-8ve3pe"><!> <li class="svelte-8ve3pe"><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> </button></li> <!></ul>'),ju=H('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),Vu=H("<!> <!>",1);function qu(t,e){J(e,!0);const n=(T,U=ye)=>{var $=Uu(),he=P($);{var ie=G=>{var I=Iu(),O=P(I);O.__click=[Mu,e,u];var fe=P(O);be(fe,()=>({"--size":"22px"})),ke(fe.lastChild,{name:"copy"}),ue(()=>me(O,1,_e(["button",{buttonMenuDialog:U()}]),"svelte-8ve3pe")),_(G,I)};Y(he,G=>{U()&&e.noteData.url&&G(ie)})}var ne=V(he,2),W=P(ne);W.__click=[Bu,e,o,u];var Z=P(W);{let G=R(()=>e.noteData.pinnedAt?"pin-cancel":"pin");be(Z,()=>({"--size":"22px"})),ke(Z.lastChild,{get name(){return s(G)}})}var re=V(Z),F=V(ne,2);{var te=G=>{var I=Ru(),O=P(I);O.__click=[Ou,d,u];var fe=P(O),we=P(fe);be(we,()=>({"--size":"18px"})),ke(we.lastChild,{name:"bin"}),ue(()=>me(O,1,_e(["button",{buttonMenuDialog:U()}]),"svelte-8ve3pe")),_(G,I)},X=G=>{var I=Hu(),O=B(I),fe=P(O);fe.__click=[Fu,v,u];var we=P(fe),x=P(we);be(x,()=>({"--size":"18px"})),ke(x.lastChild,{name:"bin-cancel"});var M=V(O,2),b=P(M);b.__click=[zu,h,u];var E=P(b),q=P(E);be(q,()=>({"--size":"18px"})),ke(q.lastChild,{name:"bin"}),ue(()=>{me(fe,1,_e(["button",{buttonMenuDialog:U()}]),"svelte-8ve3pe"),me(b,1,_e(["button",{buttonMenuDialog:U()}]),"svelte-8ve3pe")}),_(G,I)};Y(F,G=>{l()==="notes"?G(te):G(X,!1)})}ue(()=>{me(W,1,_e(["button",{buttonMenuDialog:U()}]),"svelte-8ve3pe"),Qt(re,` ${e.noteData.pinnedAt?"Unpin":"Pin"}`)}),_(T,$)},{moveNoteToBin:r,deleteNote:a,pinNote:o,restoreNoteFromBin:i}=Ur();let l=le(e,"mode",3,"notes"),c=le(e,"shownMenu",15),u=z(!1),d=z(!1),v=z(!1),h=z(!1);const{checkMobileSize:g}=Zn();let f=R(g);const p=()=>{a(e.noteId),mn("Draft deleted")},w=async()=>{r(e.noteId),mn("Note moved to bin",{onCancel:()=>{i(e.noteId)}})},S=()=>{i(e.noteId),mn("Note restored from bin",{onCancel:()=>{r(e.noteId)}})},k=()=>{s(d)?(y(d,!1),e.noteData.type==="draft"?p():w()):s(v)&&(y(v,!1),S()),c(!1),y(u,!1)};var m=Vu(),A=B(m);{var L=T=>{var U=j(),$=B(U);{var he=ne=>{Da(ne,{get startClose(){return s(u)},onClosed:k,children:(W,Z)=>{n(W,()=>!0)},$$slots:{default:!0}})},ie=ne=>{var W=ju(),Z=B(W);be(Z,()=>({"--bottom":"-90px","--right":"20px"})),ms(Z.lastChild,{get startClose(){return s(u)},get positionTop(){return e.showMenuUp},onClosed:k,children:(re,F)=>{n(re,()=>!1)},$$slots:{default:!0}}),_(ne,W)};Y($,ne=>{s(f)?ne(he):ne(ie,!1)})}_(T,U)};Y(A,T=>{c()&&T(L)})}var C=V(A,2);{var D=T=>{ws(T,{title:"Are you sure you want to delete this note?",buttonConfirmTitle:"Delete",onConfirm:()=>{a(e.noteId),y(h,!1)},onCancel:()=>{y(h,!1)}})};Y(C,T=>{s(h)&&T(D)})}_(t,m),Q()}st(["click"]);const Wu=(t,e)=>{y(e,!0)},Yu=(t,e,n)=>{navigator.clipboard.writeText(e.noteData.url),mn("Link copied"),y(n,!1)},Ku=(t,e)=>{y(e,!0)},Gu=(t,e)=>{y(e,!1)},Zu=(t,e,n,r)=>{t.preventDefault(),e.noteData.type==="draft"?n(`${K.NewNote}`):n(`${K.EditNote}?id=${e.noteId}`),y(r,!1)};var Xu=H('<div class="iconPlaceholder svelte-1jg44o9"></div>'),Ju=H('<img loading="lazy" class="noteIcon" height="16" width="16" alt=""/>'),Qu=H('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),$u=H('<div class="noteIconWrapper svelte-1jg44o9"><!></div>'),ed=H('<button class="button svelte-1jg44o9"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),td=(t,e)=>{y(e,!1)},nd=H('<!> <a target="_blank" rel="noopener noreferrer" class="button openLink svelte-1jg44o9"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a>',1),rd=H('<li><!> <a class="noteLink svelte-1jg44o9" target="_blank" rel="noopener noreferrer"> </a> <div><!> <button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button></div> <!></li>');function ad(t,e){J(e,!0);const{pushStackPages:n}=It(),{getFaviconEnabled:r}=Dl();let a=le(e,"mode",3,"notes"),o=z(!1),i=z(!1),l=z(!1),c=R(r);const{checkMobileSize:u}=Zn(),d=T=>{try{return`https://icons.duckduckgo.com/ip3/${new URL(T).host}.ico`}catch{return""}},v=e.noteData.url||e.noteData.draft?.url||"";var h=rd();h.__focusin=[Ku,i],h.__focusout=[Gu,i];var g=P(h);{var f=T=>{var U=$u(),$=P(U);{var he=ne=>{var W=j(),Z=B(W);{var re=te=>{var X=Xu();_(te,X)},F=te=>{var X=Ju();ue(G=>xe(X,"src",G),[()=>d(v)]),Sa("error",X,()=>{y(l,!0)}),_(te,X)};Y(Z,te=>{s(l)?te(re):te(F,!1)})}_(ne,W)},ie=ne=>{var W=Qu(),Z=B(W);be(Z,()=>({"--size":"16px"})),ke(Z.lastChild,{name:"note"}),_(ne,W)};Y($,ne=>{v?ne(he):ne(ie,!1)})}_(T,U)};Y(g,T=>{s(c)&&T(f)})}var p=V(g,2);p.__click=[Zu,e,n,i];var w=P(p),S=V(p,2),k=P(S);{var m=T=>{var U=nd(),$=B(U);{var he=Z=>{var re=ed();re.__click=[Yu,e,i];var F=P(re);be(F,()=>({"--size":"20px"})),ke(F.lastChild,{name:"copy"});var te=V(F,2);rt(te,{children:(X,G)=>{var I=Te("copy link");_(X,I)}}),ue(()=>xe(re,"tabindex",e.focusHidden?-1:0)),_(Z,re)};Y($,Z=>{u()||Z(he)})}var ie=V($,2);ie.__click=[td,i];var ne=P(ie);be(ne,()=>({"--size":"18px"})),ke(ne.lastChild,{name:"open"});var W=V(ne,2);rt(W,{children:(Z,re)=>{var F=Te();ue(()=>Qt(F,e.noteData.draft?.name||e.noteData.name||"unknown")),_(Z,F)}}),ue(()=>{xe(ie,"href",v),xe(ie,"tabindex",e.focusHidden?-1:0)}),_(T,U)};Y(k,T=>{v&&T(m)})}var A=V(k,2);A.__click=[Wu,o],me(A,1,_e(["button","buttonMenu"]),"svelte-1jg44o9");var L=P(A);be(L,()=>({"--size":"18px","--rotate":"90deg"})),ke(L.lastChild,{name:"menu"});var C=V(L,2);rt(C,{children:(T,U)=>{var $=Te("show menu");_(T,$)}});var D=V(S,2);qu(D,{get mode(){return a()},get noteId(){return e.noteId},get noteData(){return e.noteData},get showMenuUp(){return e.showMenuUp},get shownMenu(){return s(o)},set shownMenu(T){y(o,T,!0)}}),ue((T,U)=>{me(h,1,T,"svelte-1jg44o9"),xe(p,"tabindex",e.focusHidden?-1:0),xe(p,"href",U),Qt(w,e.noteData?.draft?.name||e.noteData?.name||"unknown"),me(S,1,_e(["noteMenuWrapper",{noteMenuWrapperActive:s(i)}]),"svelte-1jg44o9"),xe(A,"tabindex",e.focusHidden?-1:0)},[()=>_e(["record",{pinned:!!e.noteData.pinnedAt,draft:!!e.noteData.draft}]),()=>`/?stackPages=${encodeURIComponent(`${K.EditNote}?id=${e.noteId}`)}`]),_(t,h),Q()}st(["focusin","focusout","click"]);var Un,Ss,ks;class od{constructor(e){pe(this,Un);vt(this,"data");vt(this,"compare");this.data=[],this.compare=e}insert(e){this.data.push(e),He(this,Un,Ss).call(this)}extractMin(){if(this.data.length===0)return;const e=this.data[0],n=this.data.pop();return this.data.length&&n!==void 0&&(this.data[0]=n,He(this,Un,ks).call(this)),e}isEmpty(){return this.data.length===0}}Un=new WeakSet,Ss=function(){let e=this.data.length-1;const n=this.data[e];for(;e>0;){const r=Math.floor((e-1)/2);if(this.compare(n,this.data[r])>=0)break;[this.data[e],this.data[r]]=[this.data[r],this.data[e]],e=r}},ks=function(){let e=0;const n=this.data.length;for(;;){const r=2*e+1,a=2*e+2;let o=e;if(r<n&&this.compare(this.data[r],this.data[o])<0&&(o=r),a<n&&this.compare(this.data[a],this.data[o])<0&&(o=a),o===e)break;[this.data[e],this.data[o]]=[this.data[o],this.data[e]],e=o}};class sd{constructor(e,n){vt(this,"heap");vt(this,"done");vt(this,"cache",[]);this.heap=new od(n);for(const r of e)this.heap.insert(r);this.done=!1}get(e,n){const r=this.cache.slice(e,n);for(;r.length<n-e&&!this.heap.isEmpty();){const a=this.heap.extractMin();a!==void 0&&(this.cache.push(a),r.push(a))}return this.heap.isEmpty()&&(this.done=!0),r}}var id=H('<p class="message">No notes in bin</p>'),ld=H('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Add note</span>',1),cd=H('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span style="padding-left: 6px;">Import data</span>',1),ud=H('<p class="message">No notes found</p> <div class="wrapperButtonsAdd svelte-106i4nx"><!></div> <div>or</div> <div class="wrapperButtonsAdd svelte-106i4nx"><!></div>',1),dd=H('<div class="emptyStore svelte-106i4nx"><!></div>'),fd=H("<span>Back to notes</span>"),vd=H('<div class="emptyMessage svelte-106i4nx">No notes in bin</div> <div class="wrapperButtonsAdd svelte-106i4nx"><!></div>',1),hd=H('<div class="emptyMessage svelte-106i4nx">No notes found</div>'),gd=H('<div class="feed svelte-106i4nx"><ul class="svelte-106i4nx"></ul></div>'),pd=H('<div class="wrapperFeed svelte-106i4nx"><div class="wrapperContainer svelte-106i4nx"><!></div></div>');function _d(t,e){J(e,!0);let n=le(e,"getNotes",3,()=>[]),r=le(e,"mode",3,"notes");const{getScrollContainer:a}=xa(),{createHandlePage:o,getPageUrl:i}=It(),{getSelectedTags:l}=es(),{getFeedOrder:c}=Jo(),u=Yo();let d=54,v=z(0),h=z(0),g=z(0),f=z(0),p=[],w=z(0),S=z(null),k=R(a),m=null,A=null;const L=R(l);De(()=>{s(L),s($),s(k)?.scrollTo(0,0)});const{enable:C}=cs(),D=()=>{C(),m||(m=requestAnimationFrame(()=>{const I=s(k)?.scrollTop||0;y(g,I,!0);const O=Math.ceil(s(v)/d);y(h,Math.floor(I/(d*O))*(d*O)),m=null}))},T=()=>{A||(A=requestAnimationFrame(()=>{y(v,window.innerHeight-180||0,!0);const I=s(k)?.scrollTop||0;y(g,I,!0);const O=Math.ceil(s(v)/d);y(h,Math.floor(I/(d*O))*(d*O)),A=null}))};Ee(()=>{T(),D()});const U=()=>{D()};De(()=>(s(k)?.addEventListener("scroll",U),window.addEventListener("resize",T),()=>{s(k)?.removeEventListener("scroll",U),window.removeEventListener("resize",T)}));const $=R(c);De(()=>{const I=n()()||[],O=[],fe=Array.from(s(L).values());for(let we=I.length-1;we>=0;we--){if(!I[we]||!I[we].data)continue;const x=I[we];r()==="notes"&&x?.data.deletedAt||r()==="bin"&&!x?.data.deletedAt||s(L).size&&fe.some(M=>!x.data?.tags.includes(M))&&(!x.data.draft||fe.some(M=>!x.data?.draft?.tags.includes(M)))||u&&!(x.data.name.toLowerCase().includes(u.value.toLowerCase())||x.data.url.toLowerCase().includes(u.value.toLowerCase())||x.data.text.toLowerCase().includes(u.value.toLowerCase()))||O.push(x)}y(f,O.length,!0),p=O,y(w,Date.now(),!0)}),De(()=>{s($),s(w),y(S,new sd(p,(I,O)=>{if(!I||!O||!I.data||!O.data)return 0;if(I.data.pinnedAt&&!O.data.pinnedAt)return-1;if(!I.data.pinnedAt&&O.data.pinnedAt)return 1;if(I.data.pinnedAt&&O.data.pinnedAt){if(I.data.pinnedAt<O.data.pinnedAt)return 1;if(I.data.pinnedAt>O.data.pinnedAt)return-1}if(I.data.draft&&!O.data.draft)return-1;if(!I.data.draft&&O.data.draft)return 1;if(I.data.draft&&O.data.draft){if(I.data.draft.updatedAt<O.data.draft.updatedAt)return 1;if(I.data.draft.updatedAt>O.data.draft.updatedAt)return-1}switch(s($)){case"newest":return I.data.updatedAt<O.data.updatedAt?1:-1;case"oldest":return I.data.updatedAt>O.data.updatedAt?1:-1;case"AtoZ":return I.data.name.localeCompare(O.data.name);case"ZtoA":return O.data.name.localeCompare(I.data.name);default:return 0}}),!0)});const he=R(()=>s(f)*d);let ne=R(()=>{s(w);const I=Math.ceil(s(v)/d);let O=Math.floor(s(h)/d);return O=O-Math.min(O,I),s(S)?.get(O,O+I*3)||[]}),W=R(()=>d*Math.ceil(s(v)/d));const Z=R(()=>s(h)-Math.min(s(h),s(W)));var re=pd(),F=P(re),te=P(F);{var X=I=>{ys(I,{})},G=I=>{var O=j(),fe=B(O);{var we=M=>{var b=dd(),E=P(b);{var q=ee=>{var ge=id();_(ee,ge)},se=ee=>{var ge=ud(),oe=V(B(ge),2),Ne=P(oe);{let ze=R(()=>i(K.NewNote)),je=R(()=>o(K.NewNote));Bt(Ne,{element:"a",get href(){return s(ze)},get onClick(){return s(je)},children:(Ie,wt)=>{var Qe=ld(),tt=B(Qe);be(tt,()=>({"--size":"18px","--color":"#b0b0b0"})),ke(tt.lastChild,{name:"plus"}),_(Ie,Qe)},$$slots:{default:!0}})}var Ae=V(oe,4),Je=P(Ae);{let ze=R(()=>i(K.ImportData)),je=R(()=>o(K.ImportData));Bt(Je,{element:"a",get href(){return s(ze)},get onClick(){return s(je)},children:(Ie,wt)=>{var Qe=cd(),tt=B(Qe);be(tt,()=>({"--size":"18px","--color":"#b0b0b0"})),ke(tt.lastChild,{name:"import"}),_(Ie,Qe)},$$slots:{default:!0}})}_(ee,ge)};Y(E,ee=>{r()==="bin"?ee(q):ee(se,!1)})}_(M,b)},x=M=>{var b=j(),E=B(b);{var q=ee=>{var ge=vd(),oe=V(B(ge),2),Ne=P(oe);{let Ae=R(()=>i("/",{full:!0})),Je=R(()=>o("/",{full:!0}));Bt(Ne,{element:"a",get href(){return s(Ae)},get onClick(){return s(Je)},children:(ze,je)=>{var Ie=fd();_(ze,Ie)},$$slots:{default:!0}})}_(ee,ge)},se=ee=>{var ge=j(),oe=B(ge);{var Ne=Je=>{var ze=hd();_(Je,ze)},Ae=Je=>{var ze=gd(),je=P(ze);zr(je,23,()=>s(ne),Ie=>Ie.data,(Ie,wt,Qe)=>{var tt=j(),yt=B(tt);{var Rt=Ft=>{{let Pe=R(()=>s(Qe)*d<s(g)-s(Z)-d/2||s(Qe)*d>s(g)-s(Z)+Math.floor(s(v)/d)*d),Ge=R(()=>(s(Qe)+3)*d<s(g)-s(Z)-d/2||(s(Qe)+3)*d>s(g)-s(Z)+Math.floor(s(v)/d)*d);ad(Ft,{get mode(){return r()},get focusHidden(){return s(Pe)},get showMenuUp(){return s(Ge)},get noteId(){return s(wt).id},get noteData(){return s(wt).data}})}};Y(yt,Ft=>{s(wt).data&&Ft(Rt)})}_(Ie,tt)}),ue(Ie=>{Hn(ze,`min-height: ${Ie??""}px`),Hn(je,`transform: translateY(${s(Z)??""}px);`)},[()=>Math.max((s(he)>s(v),s(he)),0)]),_(Je,ze)};Y(oe,Je=>{s(ne).length===0?Je(Ne):Je(Ae,!1)},!0)}_(ee,ge)};Y(E,ee=>{r()==="bin"&&e.countNotesInBin()===0?ee(q):ee(se,!1)},!0)}_(M,b)};Y(fe,M=>{(n()()||[]).length===0||r()==="notes"&&(n()()||[]).length-e.countNotesInBin()===0?M(we):M(x,!1)},!0)}_(I,O)};Y(te,I=>{e.readyNotes?I(G,!1):I(X)})}_(t,re),Q()}var md=H('<!> <div class="content svelte-k57gez"><!></div>',1);function wd(t,e){J(e,!0);const{getAppHistory:n}=mt(),{getGetNotes:r,isInitedNotes:a,countNotesInBin:o}=Ur(),i=R(a),l=R(r),c=R(()=>n().pathname);var u=md(),d=B(u);{let g=R(()=>s(c)==="/bin"?"bin":"notes");Lu(d,{get mode(){return s(g)},get getNotes(){return s(l)}})}var v=V(d,2),h=P(v);{let g=R(()=>s(c)==="/bin"?"bin":"notes");_d(h,{get mode(){return s(g)},get getNotes(){return s(l)},get countNotesInBin(){return o},get readyNotes(){return s(i)}})}_(t,u),Q()}const $a=(t,e=ye,n=ye,r)=>{let a=Ir(()=>Hs(r?.(),!1));var o=j(),i=B(o);{var l=u=>{Oe(u,{children:(d,v)=>{qe(d,{get hidden(){return s(a)},get page(){return K.Settings}})},$$slots:{default:!0}})},c=u=>{var d=j(),v=B(d);{var h=f=>{Oe(f,{children:(p,w)=>{qe(p,{get hidden(){return s(a)},get page(){return K.NewNote}})},$$slots:{default:!0}})},g=f=>{var p=j(),w=B(p);{var S=m=>{Oe(m,{children:(A,L)=>{qe(A,{get params(){return n()},get hidden(){return s(a)},get page(){return K.EditNote}})},$$slots:{default:!0}})},k=m=>{var A=j(),L=B(A);{var C=T=>{Oe(T,{children:(U,$)=>{qe(U,{get hidden(){return s(a)},get page(){return K.ImportData}})},$$slots:{default:!0}})},D=T=>{var U=j(),$=B(U);{var he=ne=>{Oe(ne,{children:(W,Z)=>{qe(W,{get hidden(){return s(a)},get page(){return K.ExportData}})},$$slots:{default:!0}})},ie=ne=>{var W=j(),Z=B(W);{var re=te=>{Oe(te,{children:(X,G)=>{qe(X,{get hidden(){return s(a)},get page(){return K.ClearStore}})},$$slots:{default:!0}})},F=te=>{var X=j(),G=B(X);{var I=fe=>{Oe(fe,{children:(we,x)=>{fu(we,{})},$$slots:{default:!0}})},O=fe=>{var we=j(),x=B(we);{var M=E=>{Oe(E,{children:(q,se)=>{qe(q,{get hidden(){return s(a)},get page(){return K.Auth}})},$$slots:{default:!0}})},b=E=>{var q=j(),se=B(q);{var ee=oe=>{Oe(oe,{children:(Ne,Ae)=>{qe(Ne,{get hidden(){return s(a)},get page(){return K.Signup}})},$$slots:{default:!0}})},ge=oe=>{var Ne=j(),Ae=B(Ne);{var Je=je=>{Oe(je,{children:(Ie,wt)=>{qe(Ie,{get hidden(){return s(a)},get page(){return K.Signin}})},$$slots:{default:!0}})},ze=je=>{var Ie=j(),wt=B(Ie);{var Qe=yt=>{Oe(yt,{children:(Rt,Ft)=>{qe(Rt,{get hidden(){return s(a)},get page(){return K.AccessKeys}})},$$slots:{default:!0}})},tt=yt=>{var Rt=j(),Ft=B(Rt);{var Pe=Ve=>{Oe(Ve,{children:(zt,bt)=>{qe(zt,{get hidden(){return s(a)},get page(){return K.Account}})},$$slots:{default:!0}})},Ge=Ve=>{var zt=j(),bt=B(zt);{var an=Ht=>{Oe(Ht,{children:(Ut,jr)=>{qe(Ut,{get hidden(){return s(a)},get page(){return K.ConfirmAccessKey}})},$$slots:{default:!0}})},on=Ht=>{var Ut=j(),jr=B(Ut);{var Vr=En=>{Oe(En,{children:(vr,Ta)=>{qe(vr,{get hidden(){return s(a)},get page(){return K.Exit}})},$$slots:{default:!0}})},Cs=En=>{var vr=j(),Ta=B(vr);{var Es=Pn=>{Oe(Pn,{children:(hr,Na)=>{qe(hr,{get hidden(){return s(a)},get page(){return K.Sync}})},$$slots:{default:!0}})},Ps=Pn=>{var hr=j(),Na=B(hr);{var xs=xn=>{Oe(xn,{children:(gr,La)=>{qe(gr,{get hidden(){return s(a)},get page(){return K.Subscription}})},$$slots:{default:!0}})},As=xn=>{var gr=j(),La=B(gr);{var Ds=An=>{Oe(An,{children:(qr,Ns)=>{qe(qr,{get hidden(){return s(a)},get page(){return K.About}})},$$slots:{default:!0}})},Ts=An=>{Oe(An,{children:(qr,Ns)=>{gu(qr,{})},$$slots:{default:!0}})};Y(La,An=>{e()===K.About?An(Ds):An(Ts,!1)},!0)}_(xn,gr)};Y(Na,xn=>{e()===K.Subscription?xn(xs):xn(As,!1)},!0)}_(Pn,hr)};Y(Ta,Pn=>{e()===K.Sync?Pn(Es):Pn(Ps,!1)},!0)}_(En,vr)};Y(jr,En=>{e()===K.Exit?En(Vr):En(Cs,!1)},!0)}_(Ht,Ut)};Y(bt,Ht=>{e()===K.ConfirmAccessKey?Ht(an):Ht(on,!1)},!0)}_(Ve,zt)};Y(Ft,Ve=>{e()===K.Account?Ve(Pe):Ve(Ge,!1)},!0)}_(yt,Rt)};Y(wt,yt=>{e()===K.AccessKeys?yt(Qe):yt(tt,!1)},!0)}_(je,Ie)};Y(Ae,je=>{e()===K.Signin?je(Je):je(ze,!1)},!0)}_(oe,Ne)};Y(se,oe=>{e()===K.Signup?oe(ee):oe(ge,!1)},!0)}_(E,q)};Y(x,E=>{e()===K.Auth?E(M):E(b,!1)},!0)}_(fe,we)};Y(G,fe=>{e()===K.Start?fe(I):fe(O,!1)},!0)}_(te,X)};Y(Z,te=>{e()===K.ClearStore?te(re):te(F,!1)},!0)}_(ne,W)};Y($,ne=>{e()===K.ExportData?ne(he):ne(ie,!1)},!0)}_(T,U)};Y(L,T=>{e()===K.ImportData?T(C):T(D,!1)},!0)}_(m,A)};Y(w,m=>{e()===K.EditNote?m(S):m(k,!1)},!0)}_(f,p)};Y(v,f=>{e()===K.NewNote?f(h):f(g,!1)},!0)}_(u,d)};Y(i,u=>{e()===K.Settings?u(l):u(c,!1)})}_(t,o)};var yd=H("<!> <!>",1);function bd(t,e){J(e,!0);const{getStackPages:n,popStackPages:r}=It(),{getAccount:a}=Pa();let o=R(n),i=R(()=>a()!==void 0);const{checkMobileSize:l}=Zn();var c=yd(),u=B(c);{var d=f=>{wd(f,{})};Y(u,f=>{s(i)&&f(d)})}var v=V(u,2);{var h=f=>{var p=j(),w=B(p);zr(w,19,()=>s(o),S=>S.page,(S,k,m)=>{const A=R(()=>s(k).page.split("?")[1]),L=R(()=>s(k).page.split("?")[0]);{let C=R(()=>s(m)!==s(o).length-1&&!!s(o)[s(m)+1]?.shown),D=R(()=>s(m)===0);Za(S,{get shown(){return s(k).shown},get hidden(){return s(C)},get isLastDialog(){return s(D)},children:(T,U)=>{{let $=R(()=>s(m)!==s(o).length-1&&!!s(o)[s(m)+1]?.shown);$a(T,()=>s(L),()=>s(A),()=>s($))}},$$slots:{default:!0}})}}),_(f,p)},g=f=>{var p=j(),w=B(p);{var S=k=>{const m=R(()=>s(o)[s(o).length-1].page.split("?")[1]),A=R(()=>s(o)[s(o).length-1].page.split("?")[0]);{let L=R(()=>s(o).length===1);Za(k,{onBack:()=>r(),get shown(){return s(o)[s(o).length-1].shown},hidden:!1,get isLastDialog(){return s(L)},children:(C,D)=>{$a(C,()=>s(A),()=>s(m))},$$slots:{default:!0}})}};Y(w,k=>{s(o).length>0&&k(S)},!0)}_(f,p)};Y(v,f=>{l()?f(h):f(g,!1)})}_(t,c),Q()}const Sd=(t,e)=>{s(e)&&s(e).scrollTo({top:0})};var kd=H('<div><button class="buttonTop svelte-1n46o8q"><!> <span class="icon svelte-1n46o8q"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></span></button></div>'),Cd=H('<!> <main><div class="wrapperHeader svelte-1n46o8q"><!></div> <div class="container svelte-1n46o8q"><!></div></main> <!>',1);function Ed(t,e){J(e,!0);const{navigate:n}=mt(),{hasStackPage:r,pushStackPages:a,clearStackPages:o}=It(),{setScrollContainer:i}=xa(),{getAccount:l,init:c}=Pa(),{getStackPagesFormUrl:u}=It(),{createBroadcastChannel:d,tabId:v}=Hr(),h=d(),{getSidebarState:g}=Ca();Ee(()=>{c(te=>{te===void 0?(n("/"),a("start")):(r("start")&&(o(),n("/")),te?y(k,te):y(k,null))});const F=async te=>{const X=JSON.parse(te.data);if(X.tabId&&X.tabId===v)return;const G=X;G.type==="initLocalAccount"||G.type==="initCloudAccount"||G.type==="updateAccount"||G.type==="disconnectCloudAccount"?(o(),n("/")):G.type==="exit"&&(o(),n("/"),a("start"))};return h.addEventListener(F),()=>h.removeEventListener(F)});const f=Gn();Ee(async()=>{await new Promise(F=>setTimeout(F,100)),await Io(),f.working=!0});let p=z(!1),w=0,S=R(()=>u().length>0),k=R(l),m=z(null);De(()=>{i(s(m))});const A=()=>{if(s(m)){const F=s(m).scrollTop||0;F===0?y(p,!1):!s(p)&&w>F?y(p,!0):s(p)&&w+50<F&&y(p,!1),w=F}},L=()=>{A()};De(()=>(s(m)?.addEventListener("scroll",L),window.addEventListener("resize",L),()=>{s(m)?.removeEventListener("scroll",L),window.removeEventListener("resize",L)}));const C=R(g);var D=Cd(),T=B(D);_c(T,{});var U=V(T,2),$=P(U),he=P($);{var ie=F=>{Yc(F,{})};Y(he,F=>{s(k)!==void 0&&F(ie)})}var ne=V($,2),W=P(ne);bd(W,{}),Dt(U,F=>y(m,F),()=>s(m));var Z=V(U,2);{var re=F=>{var te=kd(),X=P(te);X.__click=[Sd,m];var G=P(X);rt(G,{children:(fe,we)=>{var x=Te("top");_(fe,x)}});var I=V(G,2),O=P(I);be(O,()=>({"--rotate":"90deg","--size":"28px"})),ke(O.lastChild,{name:"back"}),ue(()=>{Hn(te,`--swiping-ratio: ${f.swipingRatio}; --transition-timing-default: ${f.duration}s;`),me(te,1,_e(["wrapperButtonTop",{isAnimationOn:f.working&&!f.isSwiping,open:s(S)||s(C).type!=="closed"}]),"svelte-1n46o8q")}),_(F,te)};Y(Z,F=>{s(p)&&F(re)})}ue(()=>{Hn(U,`--swiping-ratio: ${f.swipingRatio}; --transition-timing-default: ${f.duration}s;`),me(U,1,_e(["main",{isAnimationOn:f.working&&!f.isSwiping,open:s(S)||s(C).type!=="closed"}]),"svelte-1n46o8q")}),_(t,D),Q()}st(["click"]);function Pd(t){fc(t,{children:(e,n)=>{Ed(e,{})}})}window.addEventListener("unhandledrejection",t=>{alert("Error: "+t.reason.message)});window.isUnsupportedBrowser||$i(Pd,{target:document.getElementById("app")});export{Ca as $,Pa as A,Bt as B,Ur as C,Sa as D,qo as E,Dd as F,le as G,uu as H,ke as I,me as J,_e as K,ys as L,Td as M,Nd as N,Hn as O,K as P,zl as Q,Zn as R,Dt as S,Cl as T,bs as U,rt as V,ul as W,Hr as X,Dl as Y,Gn as Z,lc as _,be as a,cs as a0,ve as a1,_s as a2,xe as b,P as c,_ as d,zr as e,H as f,s as g,It as h,fr as i,z as j,Re as k,y as l,Y as m,Q as n,Ee as o,J as p,j as q,B as r,V as s,ue as t,De as u,st as v,Te as w,Qt as x,R as y,mt as z};
