import{p as ze,u as ye,C as Se,D as ke,v as $e,o as oe,a as h,b as Q,g as f,x as De,f as i,j as t,c as H,i as e,m as We,L as se,y as v,n as s,s as z,T as ne,B as M,z as y,U as Ee,W as le,P as ie,H as ve,X as V,Y as Le,Z as pe}from"./aDPjdViMP.js";const Be=async()=>"getInstalledRelatedApps"in navigator?(await navigator?.getInstalledRelatedApps?.())?.some(j=>j.platform==="webapp")??!1:!1,G=()=>window.installPrompt;var Fe=i('<div class="b p-1n4u0vz"><!></div>'),Oe=i('<p class="c p-1n4u0vz">App is already installed.</p>'),Re=i('<p class="c p-1n4u0vz">For install app, select the share button and select "Add to Home Screen".</p>'),Te=i('<p class="c p-1n4u0vz">Install app available on Safari.</p>'),He=i(`<p class="c p-1n4u0vz">From the menu bar, choose File > Add to Dock. Or click the Share button in the Safari
				toolbar, then choose Add to Dock.</p>`),Me=i('<p class="c p-1n4u0vz">Installation is not supported in this browser. use Brave, Chrome or Edge.</p>'),Ge=i(`<p class="c p-1n4u0vz">App is already installed or installation is not supported in this browser. use Brave,
					Chrome or Edge.</p>`),Ue=i('<p class="c p-1n4u0vz">For better experience, install app from Chrome.</p>'),Ye=i(`<p class="c p-1n4u0vz">You can install app to have a better experience and more reliable storage or you can use it in
			your browser and install later.</p> <!> <div class="d p-1n4u0vz"><!> <!></div>`,1),je=i('<!> <div class="b p-1n4u0vz"><!></div>',1),Ne=i('<p class="c p-1n4u0vz">Open the app from your device.</p>'),Xe=i('<!> <!> <div class="d p-1n4u0vz"><!> <!></div>',1),Ze=i('<div class="a p-1n4u0vz"><!></div>');function Je(ee,j){ze(j,!0);const{pushDialogPage:ce,clearDialogPages:de}=ye(),{replaceSearchParams:ue}=Se(),{getAccount:fe}=ke(),{blockDialog:ae}=$e();let d=Q("preLoader"),E=Q(!1),U=Q(null);const S=()=>Ee()&&!le(),_e=()=>{fe()===void 0?ce(ie.AccountSetup):de()},re=()=>{_e()},me=async()=>{const l=G();try{l&&(h(d,"installing"),"onappinstalled"in window&&window.addEventListener("appinstalled",()=>{h(E,!0),V()||(ae(!1),ue(`${Le}=${encodeURIComponent(`${ie.InstallSuccess}`)}`))}),await l.prompt(),l.userChoice?.then(_=>{_.outcome==="accepted"?(window.installPrompt=null,V()&&h(U,setTimeout(()=>{h(U,null),f(E)?h(d,"success"):h(d,"idle")},5e3),!0)):h(d,"idle")}))}catch(_){console.error("Error during install prompt:",_)}};oe(()=>(Be().then(l=>{h(E,l,!0)}),()=>{f(U)&&clearTimeout(f(U))})),De(()=>{ae(f(d)==="installing")}),oe(()=>{setTimeout(()=>{h(d,"idle")},2e3)});var te=Ze(),ge=H(te);{var he=l=>{var _=Fe(),N=H(_);se(N,{}),e(l,_)},be=l=>{var _=v(),N=s(_);{var we=k=>{var L=Ye(),Y=z(s(L),2);{var X=a=>{var n=Oe();e(a,n)},Z=a=>{var n=v(),p=s(n);{var I=c=>{var A=v(),C=s(A);{var o=r=>{var u=Re();e(r,u)},m=r=>{var u=Te();e(r,u)};t(C,r=>{pe()?r(o):r(m,!1)})}e(c,A)},x=c=>{var A=v(),C=s(A);{var o=r=>{var u=He();e(r,u)},m=r=>{var u=v(),Pe=s(u);{var Ie=D=>{var F=v(),q=s(F);{var J=g=>{var W=Me();e(g,W)},O=g=>{var W=v(),K=s(W);{var R=T=>{var Ce=Ge();e(T,Ce)};t(K,T=>{S()||T(R)},!0)}e(g,W)};t(q,g=>{ne()?g(O,!1):g(J)})}e(D,F)},xe=D=>{var F=v(),q=s(F);{var J=O=>{var g=v(),W=s(g);{var K=R=>{var T=Ue();e(R,T)};t(W,R=>{!S()&&G()&&R(K)})}e(O,g)};t(q,O=>{V()&&O(J)},!0)}e(D,F)};t(Pe,D=>{G()?D(xe,!1):D(Ie)},!0)}e(r,u)};t(C,r=>{pe()?r(o):r(m,!1)},!0)}e(c,A)};t(p,c=>{le()?c(I):c(x,!1)},!0)}e(a,n)};t(Y,a=>{f(E)||S()&&!G()&&ne()?a(X):a(Z,!1)})}var b=z(Y,2),w=H(b);{var $=a=>{M(a,{onClick:me,fullWidth:!0,children:(n,p)=>{var I=y("install web app");e(n,I)},$$slots:{default:!0}})},B=a=>{var n=v(),p=s(n);{var I=x=>{M(x,{element:"a",target:"_blank",rel:"noopener noreferrer",href:`${window.location.origin}`,fullWidth:!0,children:(c,A)=>{var C=y("open app");e(c,C)},$$slots:{default:!0}})};t(p,x=>{(f(E)||S())&&x(I)},!0)}e(a,n)};t(w,a=>{G()?a($):a(B,!1)})}var P=z(w,2);M(P,{onClick:re,fullWidth:!0,type:"secondary",children:(a,n)=>{var p=y("continue in browser");e(a,p)},$$slots:{default:!0}}),e(k,L)},Ae=k=>{var L=v(),Y=s(L);{var X=b=>{var w=je(),$=s(w);ve($,{children:(a,n)=>{var p=y("installing app...");e(a,p)}});var B=z($,2),P=H(B);se(P,{}),e(b,w)},Z=b=>{var w=v(),$=s(w);{var B=P=>{var a=Xe(),n=s(a);ve(n,{children:(o,m)=>{var r=y("app installed successfully!");e(o,r)}});var p=z(n,2);{var I=o=>{var m=Ne();e(o,m)};t(p,o=>{S()||o(I)})}var x=z(p,2),c=H(x);{var A=o=>{M(o,{element:"a",target:"_blank",rel:"noopener noreferrer",href:`${window.location.origin}`,fullWidth:!0,children:(m,r)=>{var u=y("open app");e(m,u)},$$slots:{default:!0}})};t(c,o=>{S()&&o(A)})}var C=z(c,2);M(C,{onClick:re,fullWidth:!0,type:"secondary",children:(o,m)=>{var r=y("continue in browser");e(o,r)},$$slots:{default:!0}}),e(P,a)};t($,P=>{f(d)==="success"&&P(B)},!0)}e(b,w)};t(Y,b=>{f(d)==="installing"?b(X):b(Z,!1)},!0)}e(k,L)};t(N,k=>{f(d)==="idle"?k(we):k(Ae,!1)},!0)}e(l,_)};t(ge,l=>{f(d)==="preLoader"?l(he):l(be,!1)})}e(ee,te),We()}export{Je as default};
