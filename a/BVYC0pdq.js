const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["a/DhVhR7xG.js","a/BAW-HnOs.css","a/CO4GCWOZ.js","a/9q_jSmK4.js","a/BEGDcNQV.js","a/CoBIEQkN.css","a/CDsjfWm6.js","a/BYiYfrGn.css","a/BX7hmKmV.js","a/A07xSe-1.css","a/CDZDVT5j.js","a/B_UsPGEu.css","a/Duq-6s-C.js","a/Cpa8lgv9.js","a/BqTMGlwo.js","a/j0KFa_-O.css","a/hu7yjlv8.css","a/ciWORmH5.js","a/9qxG7YRw.js","a/CTZccJ9I.css","a/HOTUjnfJ.css","a/BcDwTKGf.js","a/DdvqrzuO.css","a/C3hnXqEa.js","a/B0cemaEl.css","a/65Yo8fmo.js","a/wHiSqZiK.css","a/D-3O2fFD.js","a/Cj_S1z1h.js","a/BJkY6727.css","a/Xtv8-TUt.js","a/CTvV7MYb.css","a/hqbG7AFL.js","a/D0s4m_LM.css","a/x77yeWG9.js","a/CwLtx71M.css","a/BWKbJtwS.js","a/CBB22PtM.css","a/DAjxd5Ox.js","a/1JBO3KHP.css"])))=>i.map(i=>d[i]);
var As=Object.defineProperty;var Ba=e=>{throw TypeError(e)};var Ts=(e,t,n)=>t in e?As(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Pn=(e,t,n)=>Ts(e,typeof t!="symbol"?t+"":t,n),qr=(e,t,n)=>t.has(e)||Ba("Cannot "+n);var N=(e,t,n)=>(qr(e,t,"read from private field"),n?n.call(e):t.get(e)),pe=(e,t,n)=>t.has(e)?Ba("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),re=(e,t,n,r)=>(qr(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),qe=(e,t,n)=>(qr(e,t,"access private method"),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();const to=!1;var ua=Array.isArray,Ns=Array.prototype.indexOf,da=Array.from,Qr=Object.defineProperty,Dn=Object.getOwnPropertyDescriptor,no=Object.getOwnPropertyDescriptors,Ls=Object.prototype,Bs=Array.prototype,fa=Object.getPrototypeOf,Ma=Object.isExtensible;const ye=()=>{};function Ms(e){return typeof e?.then=="function"}function Is(e){return e()}function kr(e){for(var t=0;t<e.length;t++)e[t]()}function Os(){var e,t,n=new Promise((r,a)=>{e=r,t=a});return{promise:n,resolve:e,reject:t}}function Rs(e,t,n=!1){return e===void 0?n?t():t:e}const tt=2,va=4,Tr=8,Fn=16,Bt=32,_n=64,ha=128,lt=256,Cr=512,je=1024,ct=2048,Jt=4096,gt=8192,pn=16384,ga=32768,zn=65536,Ia=1<<17,Fs=1<<18,Hn=1<<19,ro=1<<20,$r=1<<21,_a=1<<22,dn=1<<23,fn=Symbol("$state"),zs=Symbol("legacy props"),Hs=Symbol(""),pa=new class extends Error{constructor(){super(...arguments);Pn(this,"name","StaleReactionError");Pn(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function ao(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Us(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function js(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Vs(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function qs(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Ws(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Ys(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function Ks(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Gs(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Xs(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Zs(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const Nr=1,Lr=2,oo=4,Js=8,Qs=16,$s=1,ei=2,ti=4,ni=8,ri=16,ai=1,oi=2,Te=Symbol(),si="http://www.w3.org/1999/xhtml";let ii=!1;function so(e){return e===this.v}function li(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function io(e){return!li(e,this.v)}let Un=!1,ci=!1;function ui(){Un=!0}let Se=null;function Xt(e){Se=e}function Le(e){return lo().get(e)}function Be(e,t){return lo().set(e,t),t}function Z(e,t=!1,n){Se={p:Se,c:null,e:null,s:e,x:null,l:Un&&!t?{s:null,u:null,$:[]}:null}}function J(e){var t=Se,n=t.e;if(n!==null){t.e=null;for(var r of n)Co(r)}return e!==void 0&&(t.x=e),Se=t.p,e??{}}function jn(){return!Un||Se!==null&&Se.l===null}function lo(e){return Se===null&&ao(),Se.c??(Se.c=new Map(di(Se)||void 0))}function di(e){let t=e.p;for(;t!==null;){const n=t.c;if(n!==null)return n;t=t.p}return null}let qt=[],Er=[];function co(){var e=qt;qt=[],kr(e)}function fi(){var e=Er;Er=[],kr(e)}function vi(){return qt.length>0||Er.length>0}function mn(e){if(qt.length===0&&!Zn){var t=qt;queueMicrotask(()=>{t===qt&&co()})}qt.push(e)}function hi(){qt.length>0&&co(),Er.length>0&&fi()}const gi=new WeakMap;function uo(e){var t=de;if(t===null)return ue.f|=dn,e;if((t.f&ga)===0){if((t.f&ha)===0)throw!t.parent&&e instanceof Error&&fo(e),e;t.b.error(e)}else In(e,t)}function In(e,t){for(;t!==null;){if((t.f&ha)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e instanceof Error&&fo(e),e}function fo(e){const t=gi.get(e);t&&(Qr(e,"message",{value:t.message}),Qr(e,"stack",{value:t.stack}))}const Wr=new Set;let Ce=null,mr=null,ea=new Set,gn=[],Br=null,ta=!1,Zn=!1;var nr,Ln,zt,rr,ar,on,Bn,sn,Ht,Mn,or,sr,_t,vo,wr,na;const xr=class xr{constructor(){pe(this,_t);Pn(this,"current",new Map);pe(this,nr,new Map);pe(this,Ln,new Set);pe(this,zt,0);pe(this,rr,null);pe(this,ar,!1);pe(this,on,[]);pe(this,Bn,[]);pe(this,sn,[]);pe(this,Ht,[]);pe(this,Mn,[]);pe(this,or,[]);pe(this,sr,[]);Pn(this,"skipped_effects",new Set)}process(t){gn=[],mr=null;for(const a of t)qe(this,_t,vo).call(this,a);if(N(this,on).length===0&&N(this,zt)===0){qe(this,_t,na).call(this);var n=N(this,sn),r=N(this,Ht);re(this,sn,[]),re(this,Ht,[]),re(this,Mn,[]),mr=Ce,Ce=null,Oa(n),Oa(r),Ce===null?Ce=this:Wr.delete(this),N(this,rr)?.resolve()}else qe(this,_t,wr).call(this,N(this,sn)),qe(this,_t,wr).call(this,N(this,Ht)),qe(this,_t,wr).call(this,N(this,Mn));for(const a of N(this,on))Nn(a);for(const a of N(this,Bn))Nn(a);re(this,on,[]),re(this,Bn,[])}capture(t,n){N(this,nr).has(t)||N(this,nr).set(t,n),this.current.set(t,t.v)}activate(){Ce=this}deactivate(){Ce=null,mr=null;for(const t of ea)if(ea.delete(t),t(),Ce!==null)break}neuter(){re(this,ar,!0)}flush(){gn.length>0?go():qe(this,_t,na).call(this),Ce===this&&(N(this,zt)===0&&Wr.delete(this),this.deactivate())}increment(){re(this,zt,N(this,zt)+1)}decrement(){if(re(this,zt,N(this,zt)-1),N(this,zt)===0){for(const t of N(this,or))Ze(t,ct),On(t);for(const t of N(this,sr))Ze(t,Jt),On(t);re(this,sn,[]),re(this,Ht,[]),this.flush()}else this.deactivate()}add_callback(t){N(this,Ln).add(t)}settled(){return(N(this,rr)??re(this,rr,Os())).promise}static ensure(){if(Ce===null){const t=Ce=new xr;Wr.add(Ce),Zn||xr.enqueue(()=>{Ce===t&&t.flush()})}return Ce}static enqueue(t){mn(t)}};nr=new WeakMap,Ln=new WeakMap,zt=new WeakMap,rr=new WeakMap,ar=new WeakMap,on=new WeakMap,Bn=new WeakMap,sn=new WeakMap,Ht=new WeakMap,Mn=new WeakMap,or=new WeakMap,sr=new WeakMap,_t=new WeakSet,vo=function(t){t.f^=je;for(var n=t.first;n!==null;){var r=n.f,a=(r&(Bt|_n))!==0,o=a&&(r&je)!==0,i=o||(r&gt)!==0||this.skipped_effects.has(n);if(!i&&n.fn!==null){if(a)n.f^=je;else if((r&va)!==0)N(this,Ht).push(n);else if((r&je)===0)if((r&_a)!==0){var l=n.b?.is_pending()?N(this,Bn):N(this,on);l.push(n)}else Rr(n)&&((n.f&Fn)!==0&&N(this,Mn).push(n),Nn(n));var c=n.first;if(c!==null){n=c;continue}}var u=n.parent;for(n=n.next;n===null&&u!==null;)n=u.next,u=u.parent}},wr=function(t){for(const n of t)((n.f&ct)!==0?N(this,or):N(this,sr)).push(n),Ze(n,je);t.length=0},na=function(){if(!N(this,ar))for(const t of N(this,Ln))t();N(this,Ln).clear()};let Yt=xr;function ho(e){var t=Zn;Zn=!0;try{for(var n;;){if(hi(),gn.length===0&&!vi()&&(Ce?.flush(),gn.length===0))return Br=null,n;go()}}finally{Zn=t}}function go(){var e=Tn;ta=!0;try{var t=0;for(za(!0);gn.length>0;){var n=Yt.ensure();if(t++>1e3){var r,a;_i()}n.process(gn),Kt.clear()}}finally{ta=!1,za(e),Br=null}}function _i(){try{Ws()}catch(e){In(e,Br)}}let rn=null;function Oa(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if((r.f&(pn|gt))===0&&Rr(r)&&(rn=[],Nn(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?xo(r):r.fn=null),rn?.length>0)){Kt.clear();for(const a of rn)Nn(a);rn=[]}}rn=null}}function On(e){for(var t=Br=e;t.parent!==null;){t=t.parent;var n=t.f;if(ta&&t===de&&(n&Fn)!==0)return;if((n&(_n|Bt))!==0){if((n&je)===0)return;t.f^=je}}gn.push(t)}function pi(e){let t=0,n=Nt(0),r;return()=>{Bi()&&(s(n),Or(()=>(t===0&&(r=Pt(()=>e(()=>Jn(n)))),t+=1,()=>{mn(()=>{t-=1,t===0&&(r?.(),r=void 0,Jn(n))})})))}}var mi=zn|Hn|ha;function wi(e,t,n){new yi(e,t,n)}var vt,st,ca,St,ln,kt,it,Xe,Ct,Ut,cn,jt,un,Vt,Dr,Ar,Ye,bi,Si,yr,br,ra;class yi{constructor(t,n,r){pe(this,Ye);Pn(this,"parent");pe(this,vt,!1);pe(this,st);pe(this,ca,null);pe(this,St);pe(this,ln);pe(this,kt);pe(this,it,null);pe(this,Xe,null);pe(this,Ct,null);pe(this,Ut,null);pe(this,cn,0);pe(this,jt,0);pe(this,un,!1);pe(this,Vt,null);pe(this,Dr,()=>{N(this,Vt)&&At(N(this,Vt),N(this,cn))});pe(this,Ar,pi(()=>(re(this,Vt,Nt(N(this,cn))),()=>{re(this,Vt,null)})));re(this,st,t),re(this,St,n),re(this,ln,r),this.parent=de.b,re(this,vt,!!N(this,St).pending),re(this,kt,Vn(()=>{de.b=this;{try{re(this,it,Ue(()=>r(N(this,st))))}catch(a){this.error(a)}N(this,jt)>0?qe(this,Ye,br).call(this):re(this,vt,!1)}},mi))}is_pending(){return N(this,vt)||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!N(this,St).pending}update_pending_count(t){qe(this,Ye,ra).call(this,t),re(this,cn,N(this,cn)+t),ea.add(N(this,Dr))}get_effect_pending(){return N(this,Ar).call(this),s(N(this,Vt))}error(t){var n=N(this,St).onerror;let r=N(this,St).failed;if(N(this,un)||!n&&!r)throw t;N(this,it)&&(et(N(this,it)),re(this,it,null)),N(this,Xe)&&(et(N(this,Xe)),re(this,Xe,null)),N(this,Ct)&&(et(N(this,Ct)),re(this,Ct,null));var a=!1,o=!1;const i=()=>{if(a){return}a=!0,o&&Zs(),Yt.ensure(),re(this,cn,0),N(this,Ct)!==null&&Et(N(this,Ct),()=>{re(this,Ct,null)}),re(this,vt,this.has_pending_snippet()),re(this,it,qe(this,Ye,yr).call(this,()=>(re(this,un,!1),Ue(()=>N(this,ln).call(this,N(this,st)))))),N(this,jt)>0?qe(this,Ye,br).call(this):re(this,vt,!1)};var l=ue;try{Ve(null),o=!0,n?.(t,i),o=!1}catch(c){In(c,N(this,kt)&&N(this,kt).parent)}finally{Ve(l)}r&&mn(()=>{re(this,Ct,qe(this,Ye,yr).call(this,()=>{re(this,un,!0);try{return Ue(()=>{r(N(this,st),()=>t,()=>i)})}catch(c){return In(c,N(this,kt).parent),null}finally{re(this,un,!1)}}))})}}vt=new WeakMap,st=new WeakMap,ca=new WeakMap,St=new WeakMap,ln=new WeakMap,kt=new WeakMap,it=new WeakMap,Xe=new WeakMap,Ct=new WeakMap,Ut=new WeakMap,cn=new WeakMap,jt=new WeakMap,un=new WeakMap,Vt=new WeakMap,Dr=new WeakMap,Ar=new WeakMap,Ye=new WeakSet,bi=function(){try{re(this,it,Ue(()=>N(this,ln).call(this,N(this,st))))}catch(t){this.error(t)}re(this,vt,!1)},Si=function(){const t=N(this,St).pending;t&&(re(this,Xe,Ue(()=>t(N(this,st)))),Yt.enqueue(()=>{re(this,it,qe(this,Ye,yr).call(this,()=>(Yt.ensure(),Ue(()=>N(this,ln).call(this,N(this,st)))))),N(this,jt)>0?qe(this,Ye,br).call(this):(Et(N(this,Xe),()=>{re(this,Xe,null)}),re(this,vt,!1))}))},yr=function(t){var n=de,r=ue,a=Se;ut(N(this,kt)),Ve(N(this,kt)),Xt(N(this,kt).ctx);try{return t()}catch(o){return uo(o),null}finally{ut(n),Ve(r),Xt(a)}},br=function(){const t=N(this,St).pending;N(this,it)!==null&&(re(this,Ut,document.createDocumentFragment()),ki(N(this,it),N(this,Ut))),N(this,Xe)===null&&re(this,Xe,Ue(()=>t(N(this,st))))},ra=function(t){var n;if(!this.has_pending_snippet()){this.parent&&qe(n=this.parent,Ye,ra).call(n,t);return}re(this,jt,N(this,jt)+t),N(this,jt)===0&&(re(this,vt,!1),N(this,Xe)&&Et(N(this,Xe),()=>{re(this,Xe,null)}),N(this,Ut)&&(N(this,st).before(N(this,Ut)),re(this,Ut,null)))};function ki(e,t){for(var n=e.nodes_start,r=e.nodes_end;n!==null;){var a=n===r?null:lr(n);t.append(n),n=a}}function Ci(e,t,n){const r=jn()?ir:Mr;if(t.length===0){n(e.map(r));return}var a=Ce,o=de,i=Ei();Promise.all(t.map(l=>Pi(l))).then(l=>{a?.activate(),i();try{n([...e.map(r),...l])}catch(c){(o.f&pn)===0&&In(c,o)}a?.deactivate(),_o()}).catch(l=>{In(l,o)})}function Ei(){var e=de,t=ue,n=Se,r=Ce;return function(){ut(e),Ve(t),Xt(n),r?.activate()}}function _o(){ut(null),Ve(null),Xt(null)}function ir(e){var t=tt|ct,n=ue!==null&&(ue.f&tt)!==0?ue:null;return de===null||n!==null&&(n.f&lt)!==0?t|=lt:de.f|=Hn,{ctx:Se,deps:null,effects:null,equals:so,f:t,fn:e,reactions:null,rv:0,v:Te,wv:0,parent:n??de,ac:null}}function Pi(e,t){let n=de;n===null&&Us();var r=n.b,a=void 0,o=Nt(Te),i=null,l=!ue;return Fi(()=>{try{var c=e();i&&Promise.resolve(c).catch(()=>{})}catch(g){c=Promise.reject(g)}var u=()=>c;a=i?.then(u,u)??Promise.resolve(c),i=a;var d=Ce,v=r.is_pending();l&&(r.update_pending_count(1),v||d.increment());const h=(g,f=void 0)=>{i=null,v||d.activate(),f?f!==pa&&(o.f|=dn,At(o,f)):((o.f&dn)!==0&&(o.f^=dn),At(o,g)),l&&(r.update_pending_count(-1),v||d.decrement()),_o()};if(a.then(h,g=>h(null,g||"unknown")),d)return()=>{queueMicrotask(()=>d.neuter())}}),new Promise(c=>{function u(d){function v(){d===a?c(o):u(a)}d.then(v,v)}u(a)})}function O(e){const t=ir(e);return To(t),t}function Mr(e){const t=ir(e);return t.equals=io,t}function po(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)et(t[n])}}function xi(e){for(var t=e.parent;t!==null;){if((t.f&tt)===0)return t;t=t.parent}return null}function ma(e){var t,n=de;ut(xi(e));try{po(e),t=Mo(e)}finally{ut(n)}return t}function mo(e){var t=ma(e);if(e.equals(t)||(e.v=t,e.wv=Lo()),!yn){var n=(Wt||(e.f&lt)!==0)&&e.deps!==null?Jt:je;Ze(e,n)}}const Kt=new Map;function Nt(e,t){var n={f:0,v:e,reactions:null,equals:so,rv:0,wv:0};return n}function F(e,t){const n=Nt(e);return To(n),n}function aa(e,t=!1,n=!0){var a;const r=Nt(e);return t||(r.equals=io),Un&&n&&Se!==null&&Se.l!==null&&((a=Se.l).s??(a.s=[])).push(r),r}function y(e,t,n=!1){ue!==null&&(!ht||(ue.f&Ia)!==0)&&jn()&&(ue.f&(tt|Fn|_a|Ia))!==0&&!Tt?.includes(e)&&Xs();let r=n?Oe(t):t;return At(e,r)}function At(e,t){if(!e.equals(t)){var n=e.v;yn?Kt.set(e,t):Kt.set(e,n),e.v=t;var r=Yt.ensure();r.capture(e,n),(e.f&tt)!==0&&((e.f&ct)!==0&&ma(e),Ze(e,(e.f&lt)===0?je:Jt)),e.wv=Lo(),wo(e,ct),jn()&&de!==null&&(de.f&je)!==0&&(de.f&(Bt|_n))===0&&(ot===null?Ui([e]):ot.push(e))}return t}function Jn(e){y(e,e.v+1)}function wo(e,t){var n=e.reactions;if(n!==null)for(var r=jn(),a=n.length,o=0;o<a;o++){var i=n[o],l=i.f;if(!(!r&&i===de)){var c=(l&ct)===0;c&&Ze(i,t),(l&tt)!==0?wo(i,Jt):c&&((l&Fn)!==0&&rn!==null&&rn.push(i),On(i))}}}function Oe(e){if(typeof e!="object"||e===null||fn in e)return e;const t=fa(e);if(t!==Ls&&t!==Bs)return e;var n=new Map,r=ua(e),a=F(0),o=vn,i=l=>{if(vn===o)return l();var c=ue,u=vn;Ve(null),Ua(o);var d=l();return Ve(c),Ua(u),d};return r&&n.set("length",F(e.length)),new Proxy(e,{defineProperty(l,c,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&Ks();var d=n.get(c);return d===void 0?d=i(()=>{var v=F(u.value);return n.set(c,v),v}):y(d,u.value,!0),!0},deleteProperty(l,c){var u=n.get(c);if(u===void 0){if(c in l){const d=i(()=>F(Te));n.set(c,d),Jn(a)}}else y(u,Te),Jn(a);return!0},get(l,c,u){if(c===fn)return e;var d=n.get(c),v=c in l;if(d===void 0&&(!v||Dn(l,c)?.writable)&&(d=i(()=>{var g=Oe(v?l[c]:Te),f=F(g);return f}),n.set(c,d)),d!==void 0){var h=s(d);return h===Te?void 0:h}return Reflect.get(l,c,u)},getOwnPropertyDescriptor(l,c){var u=Reflect.getOwnPropertyDescriptor(l,c);if(u&&"value"in u){var d=n.get(c);d&&(u.value=s(d))}else if(u===void 0){var v=n.get(c),h=v?.v;if(v!==void 0&&h!==Te)return{enumerable:!0,configurable:!0,value:h,writable:!0}}return u},has(l,c){if(c===fn)return!0;var u=n.get(c),d=u!==void 0&&u.v!==Te||Reflect.has(l,c);if(u!==void 0||de!==null&&(!d||Dn(l,c)?.writable)){u===void 0&&(u=i(()=>{var h=d?Oe(l[c]):Te,g=F(h);return g}),n.set(c,u));var v=s(u);if(v===Te)return!1}return d},set(l,c,u,d){var v=n.get(c),h=c in l;if(r&&c==="length")for(var g=u;g<v.v;g+=1){var f=n.get(g+"");f!==void 0?y(f,Te):g in l&&(f=i(()=>F(Te)),n.set(g+"",f))}if(v===void 0)(!h||Dn(l,c)?.writable)&&(v=i(()=>F(void 0)),y(v,Oe(u)),n.set(c,v));else{h=v.v!==Te;var _=i(()=>Oe(u));y(v,_)}var w=Reflect.getOwnPropertyDescriptor(l,c);if(w?.set&&w.set.call(d,u),!h){if(r&&typeof c=="string"){var S=n.get("length"),C=Number(c);Number.isInteger(C)&&C>=S.v&&y(S,C+1)}Jn(a)}return!0},ownKeys(l){s(a);var c=Reflect.ownKeys(l).filter(v=>{var h=n.get(v);return h===void 0||h.v!==Te});for(var[u,d]of n)d.v!==Te&&!(u in l)&&c.push(u);return c},setPrototypeOf(){Gs()}})}var Ra,yo,bo,So;function Di(){if(Ra===void 0){Ra=window,yo=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;bo=Dn(t,"firstChild").get,So=Dn(t,"nextSibling").get,Ma(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Ma(n)&&(n.__t=void 0)}}function wn(e=""){return document.createTextNode(e)}function Rn(e){return bo.call(e)}function lr(e){return So.call(e)}function x(e,t){return Rn(e)}function B(e,t=!1){{var n=Rn(e);return n instanceof Comment&&n.data===""?lr(n):n}}function z(e,t=1,n=!1){let r=e;for(;t--;)r=lr(r);return r}function Ai(e){e.textContent=""}function wa(){return!1}let Fa=!1;function Ti(){Fa||(Fa=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function Ir(e){var t=ue,n=de;Ve(null),ut(null);try{return e()}finally{Ve(t),ut(n)}}function Ni(e,t,n,r=n){e.addEventListener(t,()=>Ir(n));const a=e.__on_r;a?e.__on_r=()=>{a(),r(!0)}:e.__on_r=()=>r(!0),Ti()}function ko(e){de===null&&ue===null&&qs(),ue!==null&&(ue.f&lt)!==0&&de===null&&Vs(),yn&&js()}function Li(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function Dt(e,t,n,r=!0){var a=de;a!==null&&(a.f&gt)!==0&&(e|=gt);var o={ctx:Se,deps:null,nodes_start:null,nodes_end:null,f:e|ct,first:null,fn:t,last:null,next:null,parent:a,b:a&&a.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{Nn(o),o.f|=ga}catch(c){throw et(o),c}else t!==null&&On(o);if(r){var i=o;if(n&&i.deps===null&&i.teardown===null&&i.nodes_start===null&&i.first===i.last&&(i.f&Hn)===0&&(i=i.first),i!==null&&(i.parent=a,a!==null&&Li(i,a),ue!==null&&(ue.f&tt)!==0&&(e&_n)===0)){var l=ue;(l.effects??(l.effects=[])).push(i)}}return o}function Bi(){return ue!==null&&!ht}function Mi(e){const t=Dt(Tr,null,!1);return Ze(t,je),t.teardown=e,t}function Ne(e){ko();var t=de.f,n=!ue&&(t&Bt)!==0&&(t&ga)===0;if(n){var r=Se;(r.e??(r.e=[])).push(e)}else return Co(e)}function Co(e){return Dt(va|ro,e,!1)}function Ii(e){return ko(),Dt(Tr|ro,e,!0)}function Oi(e){Yt.ensure();const t=Dt(_n|Hn,e,!0);return(n={})=>new Promise(r=>{n.outro?Et(t,()=>{et(t),r(void 0)}):(et(t),r(void 0))})}function Ri(e){return Dt(va,e,!1)}function Fi(e){return Dt(_a|Hn,e,!0)}function Or(e,t=0){return Dt(Tr|t,e,!0)}function ve(e,t=[],n=[]){Ci(t,n,r=>{Dt(Tr,()=>e(...r.map(s)),!0)})}function Vn(e,t=0){var n=Dt(Fn|t,e,!0);return n}function Ue(e,t=!0){return Dt(Bt|Hn,e,!0,t)}function Eo(e){var t=e.teardown;if(t!==null){const n=yn,r=ue;Ha(!0),Ve(null);try{t.call(null)}finally{Ha(n),Ve(r)}}}function Po(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const a=n.ac;a!==null&&Ir(()=>{a.abort(pa)});var r=n.next;(n.f&_n)!==0?n.parent=null:et(n,t),n=r}}function zi(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&Bt)===0&&et(t),t=n}}function et(e,t=!0){var n=!1;(t||(e.f&Fs)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(Hi(e.nodes_start,e.nodes_end),n=!0),Po(e,t&&!n),Pr(e,0),Ze(e,pn);var r=e.transitions;if(r!==null)for(const o of r)o.stop();Eo(e);var a=e.parent;a!==null&&a.first!==null&&xo(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function Hi(e,t){for(;e!==null;){var n=e===t?null:lr(e);e.remove(),e=n}}function xo(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function Et(e,t){var n=[];ya(e,n,!0),Do(n,()=>{et(e),t&&t()})}function Do(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var a of e)a.out(r)}else t()}function ya(e,t,n){if((e.f&gt)===0){if(e.f^=gt,e.transitions!==null)for(const i of e.transitions)(i.is_global||n)&&t.push(i);for(var r=e.first;r!==null;){var a=r.next,o=(r.f&zn)!==0||(r.f&Bt)!==0;ya(r,t,o?n:!1),r=a}}}function An(e){Ao(e,!0)}function Ao(e,t){if((e.f&gt)!==0){e.f^=gt,(e.f&je)===0&&(Ze(e,ct),On(e));for(var n=e.first;n!==null;){var r=n.next,a=(n.f&zn)!==0||(n.f&Bt)!==0;Ao(n,a?t:!1),n=r}if(e.transitions!==null)for(const o of e.transitions)(o.is_global||t)&&o.in()}}let Tn=!1;function za(e){Tn=e}let yn=!1;function Ha(e){yn=e}let ue=null,ht=!1;function Ve(e){ue=e}let de=null;function ut(e){de=e}let Tt=null;function To(e){ue!==null&&(Tt===null?Tt=[e]:Tt.push(e))}let We=null,Qe=0,ot=null;function Ui(e){ot=e}let No=1,$n=0,vn=$n;function Ua(e){vn=e}let Wt=!1;function Lo(){return++No}function Rr(e){var t=e.f;if((t&ct)!==0)return!0;if((t&Jt)!==0){var n=e.deps,r=(t&lt)!==0;if(n!==null){var a,o,i=(t&Cr)!==0,l=r&&de!==null&&!Wt,c=n.length;if((i||l)&&(de===null||(de.f&pn)===0)){var u=e,d=u.parent;for(a=0;a<c;a++)o=n[a],(i||!o?.reactions?.includes(u))&&(o.reactions??(o.reactions=[])).push(u);i&&(u.f^=Cr),l&&d!==null&&(d.f&lt)===0&&(u.f^=lt)}for(a=0;a<c;a++)if(o=n[a],Rr(o)&&mo(o),o.wv>e.wv)return!0}(!r||de!==null&&!Wt)&&Ze(e,je)}return!1}function Bo(e,t,n=!0){var r=e.reactions;if(r!==null&&!Tt?.includes(e))for(var a=0;a<r.length;a++){var o=r[a];(o.f&tt)!==0?Bo(o,t,!1):t===o&&(n?Ze(o,ct):(o.f&je)!==0&&Ze(o,Jt),On(o))}}function Mo(e){var _;var t=We,n=Qe,r=ot,a=ue,o=Wt,i=Tt,l=Se,c=ht,u=vn,d=e.f;We=null,Qe=0,ot=null,Wt=(d&lt)!==0&&(ht||!Tn||ue===null),ue=(d&(Bt|_n))===0?e:null,Tt=null,Xt(e.ctx),ht=!1,vn=++$n,e.ac!==null&&(Ir(()=>{e.ac.abort(pa)}),e.ac=null);try{e.f|=$r;var v=e.fn,h=v(),g=e.deps;if(We!==null){var f;if(Pr(e,Qe),g!==null&&Qe>0)for(g.length=Qe+We.length,f=0;f<We.length;f++)g[Qe+f]=We[f];else e.deps=g=We;if(!Wt||(d&tt)!==0&&e.reactions!==null)for(f=Qe;f<g.length;f++)((_=g[f]).reactions??(_.reactions=[])).push(e)}else g!==null&&Qe<g.length&&(Pr(e,Qe),g.length=Qe);if(jn()&&ot!==null&&!ht&&g!==null&&(e.f&(tt|Jt|ct))===0)for(f=0;f<ot.length;f++)Bo(ot[f],e);return a!==null&&a!==e&&($n++,ot!==null&&(r===null?r=ot:r.push(...ot))),(e.f&dn)!==0&&(e.f^=dn),h}catch(w){return uo(w)}finally{e.f^=$r,We=t,Qe=n,ot=r,ue=a,Wt=o,Tt=i,Xt(l),ht=c,vn=u}}function ji(e,t){let n=t.reactions;if(n!==null){var r=Ns.call(n,e);if(r!==-1){var a=n.length-1;a===0?n=t.reactions=null:(n[r]=n[a],n.pop())}}n===null&&(t.f&tt)!==0&&(We===null||!We.includes(t))&&(Ze(t,Jt),(t.f&(lt|Cr))===0&&(t.f^=Cr),po(t),Pr(t,0))}function Pr(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)ji(e,n[r])}function Nn(e){var t=e.f;if((t&pn)===0){Ze(e,je);var n=de,r=Tn;de=e,Tn=!0;try{(t&Fn)!==0?zi(e):Po(e),Eo(e);var a=Mo(e);e.teardown=typeof a=="function"?a:null,e.wv=No;var o;to&&ci&&(e.f&ct)!==0&&e.deps}finally{Tn=r,de=n}}}async function Io(){await Promise.resolve(),ho()}function s(e){var t=e.f,n=(t&tt)!==0;if(ue!==null&&!ht){var r=de!==null&&(de.f&pn)!==0;if(!r&&!Tt?.includes(e)){var a=ue.deps;if((ue.f&$r)!==0)e.rv<$n&&(e.rv=$n,We===null&&a!==null&&a[Qe]===e?Qe++:We===null?We=[e]:(!Wt||!We.includes(e))&&We.push(e));else{(ue.deps??(ue.deps=[])).push(e);var o=e.reactions;o===null?e.reactions=[ue]:o.includes(ue)||o.push(ue)}}}else if(n&&e.deps===null&&e.effects===null){var i=e,l=i.parent;l!==null&&(l.f&lt)===0&&(i.f^=lt)}if(yn){if(Kt.has(e))return Kt.get(e);if(n){i=e;var c=i.v;return((i.f&je)===0&&i.reactions!==null||Oo(i))&&(c=ma(i)),Kt.set(i,c),c}}else n&&(i=e,Rr(i)&&mo(i));if((e.f&dn)!==0)throw e.v;return e.v}function Oo(e){if(e.v===Te)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(Kt.has(t)||(t.f&tt)!==0&&Oo(t))return!0;return!1}function Pt(e){var t=ht;try{return ht=!0,e()}finally{ht=t}}const Vi=-7169;function Ze(e,t){e.f=e.f&Vi|t}function qi(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(fn in e)oa(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&fn in n&&oa(n)}}}function oa(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{oa(e[r],t)}catch{}const n=fa(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=no(n);for(let a in r){const o=r[a].get;if(o)try{o.call(e)}catch{}}}}}const Wi=["touchstart","touchmove"];function Yi(e){return Wi.includes(e)}const Ro=new Set,sa=new Set;function Ki(e,t,n,r={}){function a(o){if(r.capture||Yn.call(t,o),!o.cancelBubble)return Ir(()=>n?.call(this,o))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?mn(()=>{t.addEventListener(e,a,r)}):t.addEventListener(e,a,r),a}function ba(e,t,n,r,a){var o={capture:r,passive:a},i=Ki(e,t,n,o);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&Mi(()=>{t.removeEventListener(e,i,o)})}function nt(e){for(var t=0;t<e.length;t++)Ro.add(e[t]);for(var n of sa)n(e)}let ja=null;function Yn(e){var t=this,n=t.ownerDocument,r=e.type,a=e.composedPath?.()||[],o=a[0]||e.target;ja=e;var i=0,l=ja===e&&e.__root;if(l){var c=a.indexOf(l);if(c!==-1&&(t===document||t===window)){e.__root=t;return}var u=a.indexOf(t);if(u===-1)return;c<=u&&(i=c)}if(o=a[i]||e.target,o!==t){Qr(e,"currentTarget",{configurable:!0,get(){return o||n}});var d=ue,v=de;Ve(null),ut(null);try{for(var h,g=[];o!==null;){var f=o.assignedSlot||o.parentNode||o.host||null;try{var _=o["__"+r];if(_!=null&&(!o.disabled||e.target===o))if(ua(_)){var[w,...S]=_;w.apply(o,[e,...S])}else _.call(o,e)}catch(C){h?g.push(C):h=C}if(e.cancelBubble||f===t||f===null)break;o=f}if(h){for(let C of g)queueMicrotask(()=>{throw C});throw h}}finally{e.__root=t,delete e.currentTarget,Ve(d),ut(v)}}}function Fo(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function er(e,t){var n=de;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function U(e,t){var n=(t&ai)!==0,r=(t&oi)!==0,a,o=!e.startsWith("<!>");return()=>{a===void 0&&(a=Fo(o?e:"<!>"+e),n||(a=Rn(a)));var i=r||yo?document.importNode(a,!0):a.cloneNode(!0);if(n){var l=Rn(i),c=i.lastChild;er(l,c)}else er(i,i);return i}}function Gi(e,t,n="svg"){var r=!e.startsWith("<!>"),a=`<${n}>${r?e:"<!>"+e}</${n}>`,o;return()=>{if(!o){var i=Fo(a),l=Rn(i);o=Rn(l)}var c=o.cloneNode(!0);return er(c,c),c}}function Xi(e,t){return Gi(e,t,"svg")}function Ae(e=""){{var t=wn(e+"");return er(t,t),t}}function H(){var e=document.createDocumentFragment(),t=document.createComment(""),n=wn();return e.append(t,n),er(t,n),e}function p(e,t){e!==null&&e.before(t)}function bd(){var e;return(e=window.__svelte??(window.__svelte={})).uid??(e.uid=1),`c${window.__svelte.uid++}`}function Gt(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function Zi(e,t){return Ji(e,t)}const xn=new Map;function Ji(e,{target:t,anchor:n,props:r={},events:a,context:o,intro:i=!0}){Di();var l=new Set,c=v=>{for(var h=0;h<v.length;h++){var g=v[h];if(!l.has(g)){l.add(g);var f=Yi(g);t.addEventListener(g,Yn,{passive:f});var _=xn.get(g);_===void 0?(document.addEventListener(g,Yn,{passive:f}),xn.set(g,1)):xn.set(g,_+1)}}};c(da(Ro)),sa.add(c);var u=void 0,d=Oi(()=>{var v=n??t.appendChild(wn());return wi(v,{pending:()=>{}},h=>{if(o){Z({});var g=Se;g.c=o}a&&(r.$$events=a),u=e(h,r)||{},o&&J()}),()=>{for(var h of l){t.removeEventListener(h,Yn);var g=xn.get(h);--g===0?(document.removeEventListener(h,Yn),xn.delete(h)):xn.set(h,g)}sa.delete(c),v!==n&&v.parentNode?.removeChild(v)}});return Qi.set(u,d),u}let Qi=new WeakMap;const Yr=0,gr=1,Kr=2;function zo(e,t,n,r,a){var o=e,i=jn(),l=Se,c=Te,u,d,v,h=i?Nt(void 0):aa(void 0,!1,!1),g=i?Nt(void 0):aa(void 0,!1,!1),f=!1;function _(S,C){f=!0,C&&(ut(w),Ve(w),Xt(l));try{S===Yr&&n&&(u?An(u):u=Ue(()=>n(o))),S===gr&&r&&(d?An(d):d=Ue(()=>r(o,h))),S===Kr&&a&&(v?An(v):v=Ue(()=>a(o,g))),S!==Yr&&u&&Et(u,()=>u=null),S!==gr&&d&&Et(d,()=>d=null),S!==Kr&&v&&Et(v,()=>v=null)}finally{C&&(Xt(null),Ve(null),ut(null),ho())}}var w=Vn(()=>{if(c!==(c=t())){if(Ms(c)){var S=c;f=!1,S.then(C=>{S===c&&(At(h,C),_(gr,!0))},C=>{if(S===c&&(At(g,C),_(Kr,!0),!a))throw g.v}),mn(()=>{f||_(Yr,!0)})}else At(h,c),_(gr,!1);return()=>c=Te}})}function q(e,t,n=!1){var r=e,a=null,o=null,i=Te,l=n?zn:0,c=!1;const u=(g,f=!0)=>{c=!0,h(f,g)};var d=null;function v(){d!==null&&(d.lastChild.remove(),r.before(d),d=null);var g=i?a:o,f=i?o:a;g&&An(g),f&&Et(f,()=>{i?o=null:a=null})}const h=(g,f)=>{if(i!==(i=g)){var _=wa(),w=r;if(_&&(d=document.createDocumentFragment(),d.append(w=wn())),i?a??(a=f&&Ue(()=>f(w))):o??(o=f&&Ue(()=>f(w))),_){var S=Ce,C=i?a:o,m=i?o:a;C&&S.skipped_effects.delete(C),m&&S.skipped_effects.add(m),S.add_callback(v)}else v()}};Vn(()=>{c=!1,t(u),c||h(null,null)},l)}function be(e,t){Or(()=>{var n=t();for(var r in n){var a=n[r];a?e.style.setProperty(r,a):e.style.removeProperty(r)}})}function $i(e,t,n){for(var r=e.items,a=[],o=t.length,i=0;i<o;i++)ya(t[i].e,a,!0);var l=o>0&&a.length===0&&n!==null;if(l){var c=n.parentNode;Ai(c),c.append(n),r.clear(),bt(e,t[0].prev,t[o-1].next)}Do(a,()=>{for(var u=0;u<o;u++){var d=t[u];l||(r.delete(d.k),bt(e,d.prev,d.next)),et(d.e,!l)}})}function Fr(e,t,n,r,a,o=null){var i=e,l={flags:t,items:new Map,first:null},c=(t&oo)!==0;if(c){var u=e;i=u.appendChild(wn())}var d=null,v=!1,h=new Map,g=Mr(()=>{var S=n();return ua(S)?S:S==null?[]:da(S)}),f,_;function w(){el(_,f,l,h,i,a,t,r,n),o!==null&&(f.length===0?d?An(d):d=Ue(()=>o(i)):d!==null&&Et(d,()=>{d=null}))}Vn(()=>{_??(_=de),f=s(g);var S=f.length;if(!(v&&S===0)){v=S===0;var C,m,D,L;if(wa()){var E=new Set,A=Ce;for(m=0;m<S;m+=1){D=f[m],L=r(D,m);var T=l.items.get(L)??h.get(L);T?(t&(Nr|Lr))!==0&&Ho(T,D,m,t):(C=Uo(null,l,null,null,D,L,m,a,t,n,!0),h.set(L,C)),E.add(L)}for(const[V,X]of l.items)E.has(V)||A.skipped_effects.add(X.e);A.add_callback(w)}else w();s(g)}})}function el(e,t,n,r,a,o,i,l,c){var u=(i&Js)!==0,d=(i&(Nr|Lr))!==0,v=t.length,h=n.items,g=n.first,f=g,_,w=null,S,C=[],m=[],D,L,E,A;if(u)for(A=0;A<v;A+=1)D=t[A],L=l(D,A),E=h.get(L),E!==void 0&&(E.a?.measure(),(S??(S=new Set)).add(E));for(A=0;A<v;A+=1){if(D=t[A],L=l(D,A),E=h.get(L),E===void 0){var T=r.get(L);if(T!==void 0){r.delete(L),h.set(L,T);var V=w?w.next:f;bt(n,w,T),bt(n,T,V),Gr(T,V,a),w=T}else{var X=f?f.e.nodes_start:a;w=Uo(X,n,w,w===null?n.first:w.next,D,L,A,o,i,c)}h.set(L,w),C=[],m=[],f=w.next;continue}if(d&&Ho(E,D,A,i),(E.e.f&gt)!==0&&(An(E.e),u&&(E.a?.unfix(),(S??(S=new Set)).delete(E))),E!==f){if(_!==void 0&&_.has(E)){if(C.length<m.length){var _e=m[0],ie;w=_e.prev;var ae=C[0],R=C[C.length-1];for(ie=0;ie<C.length;ie+=1)Gr(C[ie],_e,a);for(ie=0;ie<m.length;ie+=1)_.delete(m[ie]);bt(n,ae.prev,R.next),bt(n,w,ae),bt(n,R,_e),f=_e,w=R,A-=1,C=[],m=[]}else _.delete(E),Gr(E,f,a),bt(n,E.prev,E.next),bt(n,E,w===null?n.first:w.next),bt(n,w,E),w=E;continue}for(C=[],m=[];f!==null&&f.k!==L;)(f.e.f&gt)===0&&(_??(_=new Set)).add(f),m.push(f),f=f.next;if(f===null)continue;E=f}C.push(E),w=E,f=E.next}if(f!==null||_!==void 0){for(var Q=_===void 0?[]:da(_);f!==null;)(f.e.f&gt)===0&&Q.push(f),f=f.next;var oe=Q.length;if(oe>0){var ee=(i&oo)!==0&&v===0?a:null;if(u){for(A=0;A<oe;A+=1)Q[A].a?.measure();for(A=0;A<oe;A+=1)Q[A].a?.fix()}$i(n,Q,ee)}}u&&mn(()=>{if(S!==void 0)for(E of S)E.a?.apply()}),e.first=n.first&&n.first.e,e.last=w&&w.e;for(var Y of r.values())et(Y.e);r.clear()}function Ho(e,t,n,r){(r&Nr)!==0&&At(e.v,t),(r&Lr)!==0?At(e.i,n):e.i=n}function Uo(e,t,n,r,a,o,i,l,c,u,d){var v=(c&Nr)!==0,h=(c&Qs)===0,g=v?h?aa(a,!1,!1):Nt(a):a,f=(c&Lr)===0?i:Nt(i),_={i:f,v:g,k:o,a:null,e:null,prev:n,next:r};try{if(e===null){var w=document.createDocumentFragment();w.append(e=wn())}return _.e=Ue(()=>l(e,g,f,u),ii),_.e.prev=n&&n.e,_.e.next=r&&r.e,n===null?d||(t.first=_):(n.next=_,n.e.next=_.e),r!==null&&(r.prev=_,r.e.prev=_.e),_}finally{}}function Gr(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,a=t?t.e.nodes_start:n,o=e.e.nodes_start;o!==null&&o!==r;){var i=lr(o);a.before(o),o=i}}function bt(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function he(e,t,...n){var r=e,a=ye,o;Vn(()=>{a!==(a=t())&&(o&&(et(o),o=null),o=Ue(()=>a(r,...n)))},zn)}function jo(e,t,n){var r=e,a,o,i=null,l=null;function c(){o&&(Et(o),o=null),i&&(i.lastChild.remove(),r.before(i),i=null),o=l,l=null}Vn(()=>{if(a!==(a=t())){var u=wa();if(a){var d=r;u&&(i=document.createDocumentFragment(),i.append(d=wn()),o&&Ce.skipped_effects.add(o)),l=Ue(()=>n(d,a))}u?Ce.add_callback(c):c()}},zn)}function Vo(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=Vo(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function tl(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=Vo(e))&&(r&&(r+=" "),r+=t);return r}function me(e){return typeof e=="object"?tl(e):e??""}const Va=[...` 	
\r\f \v\uFEFF`];function nl(e,t,n){var r=e==null?"":""+e;if(t&&(r=r?r+" "+t:t),n){for(var a in n)if(n[a])r=r?r+" "+a:a;else if(r.length)for(var o=a.length,i=0;(i=r.indexOf(a,i))>=0;){var l=i+o;(i===0||Va.includes(r[i-1]))&&(l===r.length||Va.includes(r[l]))?r=(i===0?"":r.substring(0,i))+r.substring(l+1):i=l}}return r===""?null:r}function rl(e,t){return e==null?null:String(e)}function we(e,t,n,r,a,o){var i=e.__className;if(i!==n||i===void 0){var l=nl(n,r,o);l==null?e.removeAttribute("class"):e.className=l,e.__className=n}else if(o&&a!==o)for(var c in o){var u=!!o[c];(a==null||u!==!!a[c])&&e.classList.toggle(c,u)}return o}function tr(e,t,n,r){var a=e.__style;if(a!==t){var o=rl(t);o==null?e.removeAttribute("style"):e.style.cssText=o,e.__style=t}return r}const al=Symbol("is custom element"),ol=Symbol("is html");function Sd(e,t){var n=Sa(e);n.value===(n.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function kd(e,t){var n=Sa(e);n.checked!==(n.checked=t??void 0)&&(e.checked=t)}function xe(e,t,n,r){var a=Sa(e);a[t]!==(a[t]=n)&&(t==="loading"&&(e[Hs]=n),n==null?e.removeAttribute(t):typeof n!="string"&&sl(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function Sa(e){return e.__attributes??(e.__attributes={[al]:e.nodeName.includes("-"),[ol]:e.namespaceURI===si})}var qa=new Map;function sl(e){var t=e.getAttribute("is")||e.nodeName,n=qa.get(t);if(n)return n;qa.set(t,n=[]);for(var r,a=e,o=Element.prototype;o!==a;){r=no(a);for(var i in r)r[i].set&&n.push(i);a=fa(a)}return n}function il(e,t,n=t){var r=new WeakSet;Ni(e,"input",async a=>{var o=a?e.defaultValue:e.value;if(o=Xr(e)?Zr(o):o,n(o),Ce!==null&&r.add(Ce),await Io(),o!==(o=t())){var i=e.selectionStart,l=e.selectionEnd;e.value=o??"",l!==null&&(e.selectionStart=i,e.selectionEnd=Math.min(l,e.value.length))}}),Pt(t)==null&&e.value&&(n(Xr(e)?Zr(e.value):e.value),Ce!==null&&r.add(Ce)),Or(()=>{var a=t();if(e===document.activeElement){var o=mr??Ce;if(r.has(o))return}Xr(e)&&a===Zr(e.value)||e.type==="date"&&!a&&!e.value||a!==e.value&&(e.value=a??"")})}function Xr(e){var t=e.type;return t==="number"||t==="range"}function Zr(e){return e===""?null:+e}function Wa(e,t){return e===t||e?.[fn]===t}function xt(e={},t,n,r){return Ri(()=>{var a,o;return Or(()=>{a=o,o=[],Pt(()=>{e!==n(...o)&&(t(e,...o),a&&Wa(n(...a),e)&&t(null,...a))})}),()=>{mn(()=>{o&&Wa(n(...o),e)&&t(null,...o)})}}),e}function ka(e=!1){const t=Se,n=t.l.u;if(!n)return;let r=()=>qi(t.s);if(e){let a=0,o={};const i=ir(()=>{let l=!1;const c=t.s;for(const u in c)c[u]!==o[u]&&(o[u]=c[u],l=!0);return l&&a++,a});r=()=>s(i)}n.b.length&&Ii(()=>{Ya(t,r),kr(n.b)}),Ne(()=>{const a=Pt(()=>n.m.map(Is));return()=>{for(const o of a)typeof o=="function"&&o()}}),n.a.length&&Ne(()=>{Ya(t,r),kr(n.a)})}function Ya(e,t){if(e.l.s)for(const n of e.l.s)s(n);t()}let _r=!1;function ll(e){var t=_r;try{return _r=!1,[e(),_r]}finally{_r=t}}function ce(e,t,n,r){var a=!Un||(n&ei)!==0,o=(n&ni)!==0,i=(n&ri)!==0,l=r,c=!0,u=()=>(c&&(c=!1,l=i?Pt(r):r),l),d;if(o){var v=fn in e||zs in e;d=Dn(e,t)?.set??(v&&t in e?m=>e[t]=m:void 0)}var h,g=!1;o?[h,g]=ll(()=>e[t]):h=e[t],h===void 0&&r!==void 0&&(h=u(),d&&(a&&Ys(),d(h)));var f;if(a?f=()=>{var m=e[t];return m===void 0?u():(c=!0,m)}:f=()=>{var m=e[t];return m!==void 0&&(l=void 0),m===void 0?l:m},a&&(n&ti)===0)return f;if(d){var _=e.$$legacy;return(function(m,D){return arguments.length>0?((!a||!D||_||g)&&d(D?f():m),m):f()})}var w=!1,S=((n&$s)!==0?ir:Mr)(()=>(w=!1,f()));o&&s(S);var C=de;return(function(m,D){if(arguments.length>0){const L=D?s(S):a&&o?Oe(m):m;return y(S,L),w=!0,l!==void 0&&(l=L),m}return yn&&w||(C.f&pn)!==0?S.v:s(S)})}function Ee(e){Se===null&&ao(),Un&&Se.l!==null?cl(Se).m.push(e):Ne(()=>{const t=Pt(e);if(typeof t=="function")return t})}function cl(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const ul="5";var eo;typeof window<"u"&&((eo=window.__svelte??(window.__svelte={})).v??(eo.v=new Set)).add(ul);ui();const qo={};function dl(e){Be(qo,e)}function Wo(){const e=Le(qo);if(!e)throw new Error("No SearchContext found");return e}const Yo={};function fl(e){Be(Yo,e)}function pt(){const e=Le(Yo);if(!e)throw new Error("No AppHistoryContext found");return e}function vl(e,t){Z(t,!0);const{replace:n,getAppHistory:r}=pt(),a=O(r),o="search",i=Oe({value:new URLSearchParams(r().search).get(o)||""}),l=d=>{const v=new URLSearchParams(s(a).search),h=s(a).pathname;(v.get(o)||"")!==d&&(d===""?v.delete(o):v.set(o,d),n(`${h}${v.size>0?`?${v.toString()}`:""}`))};Ne(()=>{const d=i.value;Pt(()=>{l(d)})}),dl(i);var c=H(),u=B(c);he(u,()=>t.children??ye),p(e,c),J()}const Ko={};function hl(e){Be(Ko,e)}function Go(){const e=Le(Ko);if(!e)throw new Error("No TagSearchContext found");return e}function gl(e,t){Z(t,!0);const n=Oe({value:""});hl(n);var r=H(),a=B(r);he(a,()=>t.children??ye),p(e,r),J()}const Xo={};function _l(e){Be(Xo,e)}function Zo(){const e=Le(Xo);if(!e)throw new Error("No FeedOrderContext found");return e}function pl(e,t){Z(t,!0);const{navigate:n,getAppHistory:r}=pt(),a=O(r),o="feedOrder";let i=F(Oe(new URLSearchParams(r().search).get(o)||"newest"));_l({getFeedOrder:()=>s(i),setFeedOrder:v=>{y(i,v,!0);const h=new URLSearchParams(s(a).search);v==="newest"?h.delete(o):h.set(o,v),n(`${s(a).pathname}${h.size>0?`?${h.toString()}`:""}`)}});var u=H(),d=B(u);he(d,()=>t.children??ye),p(e,u),J()}const Jo={};function ml(e){Be(Jo,e)}function Ca(){const e=Le(Jo);if(!e)throw new Error("No SidebarContext found");return e}function wl(e,t){Z(t,!0);const n=(d,v)=>{if(!v)return d;if(v.type==="closed")return{type:"closed"};switch(d.type){case"opened":return v.type==="close"?{type:"closing"}:v.type==="swipe"?{type:"openSwiping"}:d;case"closed":return v.type==="open"?{type:"opening"}:v.type==="swipe"?{type:"closeSwiping"}:d;case"openSwiping":return v.type==="open"?{type:"opening"}:v.type==="close"?{type:"closing"}:d;case"closeSwiping":return v.type==="open"?{type:"opening"}:v.type==="close"?{type:"closing"}:d;case"opening":return v.type==="opened"?{type:"opened"}:d;default:return d}};let r=F(Oe(n({type:"closed"})));const a=d=>{y(r,n(s(r),d),!0)};ml({sidebarOpen:()=>{a({type:"open"})},sidebarClose:()=>{a({type:"close"})},handleComputeState:a,getSidebarState:()=>s(r)});var c=H(),u=B(c);he(u,()=>t.children??ye),p(e,c),J()}const Qo={};function yl(e){Be(Qo,e)}function $o(){const e=Le(Qo);if(!e)throw new Error("No SelectedTagsContext found");return e}const es=(e,t)=>{let n=null;return()=>{n&&clearTimeout(n),n=setTimeout(()=>{n=null,e()},t)}};async function bl(){if(navigator.storage&&navigator.storage.persist)try{await navigator.storage.persisted()||await navigator.storage.persist()}catch{}}const Sl=(e,t)=>{if(e.size!==t.size)return!0;for(const n of e)if(!t.has(n))return!0;return!1};function kl(e,t){Z(t,!0);const{getAppHistory:n,replace:r}=pt(),a=O(n),o=O(()=>n().search),i="selectedTags",l=()=>new Set(new URLSearchParams(n().search).get(i)?.split(",")||[]);let c=F(Oe(l()));const u=()=>{const _=l();if(Sl(_,s(c))){const w=new URLSearchParams(s(a).search),S=s(a).pathname;s(c).size===0?w.delete(i):w.set(i,Array.from(s(c)).join(",")),r(`${S}${w.size>0?`?${w.toString()}`:""}`)}};Ne(()=>{s(o),s(c),Pt(()=>{u()})}),yl({getSelectedTags:()=>s(c),addTag:_=>{s(c).has(_)||y(c,new Set([...s(c),_]),!0)},removeTag:_=>{const w=new Set(s(c));w.delete(_),y(c,w,!0)}});var g=H(),f=B(g);he(f,()=>t.children??ye),p(e,g),J()}const ts={};function Cl(e){Be(ts,e)}function Ea(){const e=Le(ts);if(!e)throw new Error("No LocalDBContext found");return e}const ns={};function El(e){Be(ns,e)}function Pl(){const e=Le(ns);if(!e)throw new Error("No SettingsContext found");return e}const rs={};function xl(e){Be(rs,e)}function zr(){const e=Le(rs);if(!e)throw new Error("No BroadcastContext found");return e}const Dl="AppStorage",Al=1,Kn="account",Sr="settings",wt="notes",yt="tags",Tl="syncLog",Qt="success",$t="error",Re=(e,t,n)=>{e?.addEventListener(t,n)},Ka=(e,t)=>new Promise((n,r)=>{const o=e?.transaction(t,"readonly")?.objectStore(t).getAll();Re(o,Qt,()=>{const i=o?.result||[];n(i)}),Re(o,$t,i=>{r(i)})}),ia=(e,t,n)=>new Promise((r,a)=>{const i=e?.transaction(t,"readonly")?.objectStore(t).get(n);Re(i,Qt,()=>{const l=i?.result?.data;r(l)}),Re(i,$t,l=>{a(l)})}),Qn=(e,t,n,r)=>new Promise((a,o)=>{const c=e?.transaction(t,"readwrite")?.objectStore(t)?.put({id:n,data:r});Re(c,Qt,()=>{a()}),Re(c,$t,u=>{o(u)})}),Jr=async(e,t,n)=>{const a=e?.transaction(t,"readwrite")?.objectStore(t);await Promise.all(n.map(o=>{const i=a?.put(o);return new Promise((l,c)=>{Re(i,Qt,()=>{l()}),Re(i,$t,u=>{c(u)})})}))},Nl=(e,t,n)=>new Promise((r,a)=>{const l=e?.transaction(t,"readwrite")?.objectStore(t)?.delete(n);Re(l,Qt,()=>{r()}),Re(l,$t,c=>{a(c)})}),pr=async(e,t,n)=>{const a=e?.transaction(t,"readwrite")?.objectStore(t);await Promise.all(n.map(o=>{const i=a?.delete(o);return new Promise((l,c)=>{Re(i,Qt,()=>{l()}),Re(i,$t,u=>{c(u)})})}))},an=(e,t)=>new Promise((n,r)=>{const i=e?.transaction(t,"readwrite")?.objectStore(t)?.clear();Re(i,Qt,()=>{n()}),Re(i,$t,l=>{r(l)})});function Ll(e,t){Z(t,!0);let n=F(Oe({showFavicon:!1}));const{getDB:r}=Ea(),{createBroadcastChannel:a,tabId:o}=zr(),i=a(),l=O(r),c=async()=>{const _=await ia(s(l),Sr,"default");_&&y(n,_,!0)},u=async()=>{c()},d=async _=>{const w=JSON.parse(_.data),S=w;if(w.tabId&&w.tabId===o){S.type==="exit"&&(y(n,{showFavicon:!1},!0),an(s(l),Sr));return}S.type==="updateSettings"?c():S.type==="exit"&&y(n,{showFavicon:!1},!0)},v=()=>s(n).showFavicon,h=async _=>{s(n).showFavicon=_,await Qn(s(l),Sr,"default",{showFavicon:_}),i.postMessage({type:"updateSettings"})};Ee(()=>(u(),i.addEventListener(d),()=>{i.removeEventListener(d)})),El({getFaviconEnabled:v,setFaviconShown:h});var g=H(),f=B(g);he(f,()=>t.children??ye),p(e,g),J()}const as={};function Bl(e){Be(as,e)}function Pa(){const e=Le(as);if(!e)throw new Error("No AccountContext found");return e}function Ml(e,t){Z(t,!0);let n=F(void 0);const{getDB:r}=Ea(),{createBroadcastChannel:a,tabId:o}=zr(),i=O(r),l=a(),c=async()=>{const m=await ia(s(i),Kn,"default");y(n,m,!0)},u=m=>Qn(s(i),Kn,"default",m),d=async m=>{const D=await ia(s(i),Kn,"default");D!==void 0&&y(n,D,!0),m(D)},v=async m=>{const D=JSON.parse(m.data);if(D.tabId&&D.tabId===o)return;const L=D;L.type==="initLocalAccount"?y(n,null):L.type==="initCloudAccount"?c():L.type==="disconnectCloudAccount"?y(n,null):L.type==="exit"?y(n,void 0):L.type==="updateAccount"&&c()};Ee(()=>(l.addEventListener(v),()=>{l.removeEventListener(v)})),Bl({init:d,getAccount:()=>s(n),initLocalAccount:async()=>{y(n,null),await u(null),l.postMessage({type:"initLocalAccount"})},initCloudAccount:async m=>{const D={encryptedClientKey:m.encryptedClientKey||"",subscriptionExpires:m.subscriptionExpires||-1,lastSync:-1};await u(D),y(n,D,!0),l.postMessage({type:"initCloudAccount"})},disconnectCloudAccount:async()=>{y(n,null),await u(null),l.postMessage({type:"disconnectCloudAccount"})},updateSubscription:async m=>{if(!s(n))throw new Error("No account to update subscription for");const D={...s(n),subscriptionExpires:m};await u(D),l.postMessage({type:"updateAccount"})},exitApp:async()=>{y(n,void 0),l.postMessage({type:"exit"}),await an(s(i),Kn)}});var S=H(),C=B(S);he(C,()=>t.children??ye),p(e,S),J()}const os={};function Il(e){Be(os,e)}function Hr(){const e=Le(os);if(!e)throw new Error("No NotesContext found");return e}const Ol=()=>crypto.randomUUID(),Rl=e=>{const t=new Map;for(const n of e||[])for(const r of n?.data.tags||[])t.set(r,{name:r,count:(t.get(r)?.count||0)+1});return t};function Fl(e,t){Z(t,!0);const{getDB:n}=Ea(),{createBroadcastChannel:r,tabId:a}=zr(),o=O(n),i=r(),l=720*60*60*1e3;let c=F(0),u=F(!1),d=F(()=>new Map),v=F(()=>[]),h=F(()=>new Map);const g=()=>s(u),f=()=>s(c)>0,_=()=>{s(c)>0&&y(c,s(c)-1)},w=k=>{const I=s(v)(),b=s(h)(),P={...k};I.push(P),b.set(P.id,P),y(v,()=>I),y(h,()=>b)},S=k=>{const I=s(v)(),b=s(h)(),P=b.get(k.id);P&&(P.data=k.data),y(v,()=>I),y(h,()=>b)},C=k=>{const I=s(v)(),b=s(h)(),P=b.get(k);b.has(k)&&b.delete(k),P?.data?.type==="draft"&&b.delete("draft"),P&&(P.data=void 0),y(v,()=>I),y(h,()=>b)},m=()=>{y(v,()=>[]),y(d,()=>new Map),y(h,()=>new Map)},D=()=>s(v),L=k=>{const I=s(d)();for(const b of k){const P=I.get(b);P?P.count++:I.set(b,{name:b,count:1})}y(d,()=>I)},E=k=>{const I=s(d)();for(const b of k){const P=I.get(b);P&&(P.count--,P.count<=0&&I.delete(b))}y(d,()=>I)},A=async()=>{const[k,I]=await Promise.all([Ka(s(o),wt),Ka(s(o),yt).then(se=>se.reduce((Me,Pe)=>Me.set(Pe.name,Pe),new Map))]),b=[],P=[],j=new Map;let $=0;for(const se of k)se.data.deletedAt&&Date.now()-se.data.deletedAt>l?b.push(se.id):(P.push(se),j.set(se.id,se),se.data.deletedAt&&($+=1),se.data.type==="draft"&&j.set("draft",se));y(c,$,!0);const ne=Rl(P),ge=new Map;ne.entries().forEach(([se,Me])=>{const Pe=I.get(se);ge.set(se,{...Pe,...Me})}),await pr(s(o),wt,b),await an(s(o),yt),await Jr(s(o),yt,Array.from(ge.values()).map(se=>({id:se.name,data:{pinned:se.pinned}}))),y(v,()=>P),y(h,()=>j),y(d,()=>ge),y(u,!0)},T=async()=>{const k=s(h)(),I=k.get("draft");if(I)return I;const b={id:Ol(),data:{type:"draft",url:"",name:"",text:"",tags:[],draft:{url:"",name:"",text:"",tags:[],createdAt:Date.now(),updatedAt:Date.now()},createdAt:Date.now(),updatedAt:Date.now()}};return await Qn(s(o),wt,b.id,{...b.data}),k.set("draft",b),w(b),i.postMessage({type:"createNoteDraft",data:{note:b}}),b},V=async k=>{const b=s(h)().get(k);if(!b||!b.data)return;const P=s(d)(),j=b.data.tags;E(j),C(k),i.postMessage({type:"deleteNote",data:{id:k}}),_(),await Nl(s(o),wt,k),await pr(s(o),yt,j.filter($=>{const ne=P.get($);return ne?ne.count<=1:!1}))},X=async(k,I)=>{const b={id:I.id,data:{...I.data}},P=s(d)(),j=I.data.tags.filter(ne=>!k.data.tags.includes(ne)),$=k.data.tags.filter(ne=>!I.data.tags.includes(ne));await Qn(s(o),wt,b.id,{...b.data}),await Jr(s(o),yt,j.filter(ne=>!P.has(ne)).map(ne=>({id:ne,data:{}}))),await pr(s(o),yt,$.filter(ne=>{const ge=P.get(ne);return ge?ge.count<=1:!1})),S(b),E($),L(j),i.postMessage({type:"updateNote",data:{note:b,tagsToAdd:j,tagsToDelete:$}})},_e=async k=>{const I=s(h)(),b=ae(k);if(!b||!b.data)return;const P=I.get("draft");P&&P.id===b.id&&I.delete("draft");const j={id:k,data:{type:"note",name:b.data.draft?.name??b.data.name,url:b.data.draft?.url??b.data.url,text:b.data.draft?.text??b.data.text,tags:b.data.draft?.tags??b.data.tags,updatedAt:Date.now(),createdAt:b.data.createdAt,pinnedAt:b.data.pinnedAt,deletedAt:b.data.deletedAt,draft:void 0}};return X(b,j)},ie=async()=>{m(),i.postMessage({type:"clearNotes"}),await an(s(o),wt),await an(s(o),yt)},ae=k=>{const I=s(h)();return k?I.get(k):I.get("draft")},R=async(k,I)=>{const P=s(h)().get(k);if(!P||!P.data)return;const j={id:k,data:{...P.data,pinnedAt:I?Date.now():void 0}};return X(P,j)},Q=async k=>{const b=s(h)().get(k);if(!b||!b.data)return;const P={id:k,data:{...b.data,deletedAt:Date.now()}};y(c,s(c)+1),await X(b,P)},oe=async k=>{const b=s(h)().get(k);if(!b||!b.data)return;const P={id:k,data:{...b.data,deletedAt:0}};_(),await X(b,P)},ee=async(k,I)=>{const b=s(d)();b.set(k,{name:k,count:b.get(k)?.count||0,pinned:I}),await Qn(s(o),yt,k,{pinned:I}),i.postMessage({type:"pinTag",data:{tag:k,pinned:I}}),y(d,()=>b)},Y=async k=>{const I=s(h)(),b={};k.forEach(P=>{const j=I.get(P.id);(!j||j&&j.data&&j.data.updatedAt<P.data.updatedAt)&&(b[P.id]=P)}),await Jr(s(o),wt,Object.values(b)),await A(),i.postMessage({type:"reloadNotes"})},K=async()=>{const k=[];s(v)().forEach(b=>{b&&b.data&&b.data.deletedAt&&k.push(b.id)}),y(c,0),await pr(s(o),wt,k),await A(),i.postMessage({type:"emptyBin"})},M=async(k,I)=>{if(k===""){const $=s(h)().get("draft");$?k=$.id:k=(await T()).id}const b=ae(k);if(!b||!b.data)return;const P={id:k,data:{...b.data,draft:{...I,tags:I.tags,createdAt:b.data.draft?.createdAt||Date.now(),updatedAt:Date.now()}}};return await X(b,P),b.id},G=async k=>{const I=s(h)(),b=ae(k);if(!b||!b.data||!b.data.draft)return;if(b.data.type==="draft"){k===I.get("draft")?.id&&I.delete("draft"),await V(k);return}const P={id:k,data:{...b.data,draft:void 0}};return X(b,P)},le=async k=>{const I=JSON.parse(k.data),b=I;if(I.tabId&&I.tabId===a){b.type==="exit"&&(m(),await an(s(o),wt),await an(s(o),yt));return}if(b.type==="createNoteDraft"){const P=b.data.note;s(h)().set("draft",P),w(P)}else if(b.type==="updateNote"){const P=b.data,$=s(h)().get(P.note.id);if(!$||!$.data)return;$.data.deletedAt&&!P.note.data.deletedAt?_():!$.data.deletedAt&&P.note.data.deletedAt&&y(c,s(c)+1),S(P.note),E(P.tagsToAdd),L(P.tagsToDelete)}else if(b.type==="deleteNote"){const P=b.data.id,$=s(h)().get(P);if(!$)return;_(),C(P),E($?.data?.tags||[])}else if(b.type==="pinTag"){const P=b.data.tag,j=b.data.pinned,$=s(d)(),ne=$.get(P);ne&&(ne.pinned=j,$.set(P,ne))}else b.type==="clearNotes"?m():b.type==="reloadNotes"||b.type==="emptyBin"?A():b.type==="exit"&&m()};Ee(()=>(A(),i.addEventListener(le),()=>{i.removeEventListener(le)})),Il({isInitedNotes:g,putNoteDraft:M,deleteNoteDraft:G,deleteNote:V,pinNote:R,getGetNotes:D,importNotes:Y,clearNotes:ie,getNoteById:ae,getGetMapTags:()=>s(d),pinTag:ee,moveNoteToBin:Q,restoreNoteFromBin:oe,checkNotesInBin:f,emptyBin:K,saveNoteDraft:_e,countNotesInBin:()=>s(c)});var fe=H(),te=B(fe);he(te,()=>t.children??ye),p(e,fe),J()}const ss={},zl=()=>({working:!1,swipingRatio:1,isSwiping:!1,duration:.35});function Hl(e){Be(ss,e)}function qn(){const e=Le(ss);if(!e)throw new Error("No AnimationSettingsContext found");return e}function Ul(e,t){Z(t,!0);let n=Oe(zl());Hl(n);var r=H(),a=B(r);he(a,()=>t.children??ye),p(e,r),J()}const is={};function jl(e){Be(is,e)}function ls(){const e=Le(is);if(!e)throw new Error("No ScrollingContext found");return e}function Vl(e,t){Z(t,!0);let n=F(!1);const r=()=>s(n),a=es(()=>{y(n,!1)},100);jl({isScrolling:r,enable:()=>{y(n,!0),a()}});var i=H(),l=B(i);he(l,()=>t.children??ye),p(e,i),J()}const cs={};function ql(e){Be(cs,e)}function Wn(){const e=Le(cs);if(!e)throw new Error("No MobileSizeContext found");return e}function Wl(e,t){Z(t,!0);const n=()=>window.matchMedia("(max-width: 767px)").matches;let r=F(Oe(n())),a=qn();const o=es(()=>{a.working=!0},16),i=()=>{a.working=!1,o(),requestAnimationFrame(()=>{y(r,n(),!0)})};ql({checkMobileSize:()=>s(r)}),Ee(()=>(window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)));var c=H(),u=B(c);he(u,()=>t.children??ye),p(e,c),J()}const us={};function Yl(e){Be(us,e)}function cr(){const e=Le(us);if(!e)throw new Error("No DialogContext found");return e}function Kl(e,t){Z(t,!0);let n=F(0),r=F(!1),a=F(!1);Yl({checkExistedDialog:()=>s(n)>0,showDialog:()=>{y(n,s(n)+1)},hideDialog:()=>{y(n,s(n)-1)},blockDialog:f=>{y(r,f,!0),f||y(a,!1)},checkBlockedDialog:()=>s(r),unBlockBackDialog:f=>{y(a,f,!0)},checkUnBlockedBackDialog:()=>s(a)});var h=H(),g=B(h);he(g,()=>t.children??ye),p(e,h),J()}const ds={};function Gl(e){Be(ds,e)}function xa(){const e=Le(ds);if(!e)throw new Error("No ScrollContainerContext found");return e}function Xl(e,t){Z(t,!0);let n=F(null);Gl({setScrollContainer:l=>{y(n,l,!0)},getScrollContainer:()=>s(n)});var o=H(),i=B(o);he(i,()=>t.children??ye),p(e,o),J()}const fs={};function Zl(e){Be(fs,e)}function Da(){const e=Le(fs);if(!e)throw new Error("No DialogPageHeightContext found");return e}function Jl(e,t){Z(t,!0);let n=F(200);Zl({setDialogPageHeight:l=>{y(n,l,!0)},getDialogPageHeight:()=>s(n)});var o=H(),i=B(o);he(i,()=>t.children??ye),p(e,o),J()}const Ql=[Kn,Sr,wt,yt,Tl];function $l(){return new Promise((e,t)=>{const n=indexedDB.open(Dl,Al);Re(n,"upgradeneeded",()=>{const r=n.result;for(const a of Ql)r.objectStoreNames.contains(a)||r.createObjectStore(a,{keyPath:"id"})}),Re(n,Qt,()=>{const r=n.result;e(r),r.onversionchange=function(){r?.close(),alert("app outdated, please reload the page")}}),Re(n,"blocked",()=>{t(),alert("app outdated, please reload the page")}),Re(n,$t,()=>{t()})})}function ec(e,t){Z(t,!0);let n=F(null);Ee(()=>{$l().then(l=>{y(n,l,!0)})}),Cl({getDB:()=>s(n)});var a=H(),o=B(a);{var i=l=>{var c=H(),u=B(c);he(u,()=>t.children??ye),p(l,c)};q(o,l=>{s(n)&&l(i)})}p(e,a),J()}const vs={};function tc(e){Be(vs,e)}function Lt(){const e=Le(vs);if(!e)throw new Error("No StackPagesContext found");return e}function nc(e,t){Z(t,!0);const{getAppHistory:n,navigate:r}=pt(),a=()=>new URLSearchParams(n().search).get("stackPages")?.split(",")||[];let o=F(Oe(a()));const i=w=>{const S=a();if(!S.includes(w)){S.push(w);const C=new URLSearchParams(n().search);C.set("stackPages",S.join(",")),y(o,S,!0),r(`${n().pathname}?${C.toString()}`)}};tc({pushStackPages:i,hasStackPage:w=>a().includes(w),updateStackPages:()=>{y(o,a(),!0)},popStackPages:()=>{const w=s(o).slice(0,-1);y(o,w,!0)},getStackPages:()=>{const w=a();return w.length>=s(o).length?w.reduce((S,C)=>[...S,{page:C,shown:!0}],[]):s(o).reduce((S,C,m)=>[...S,{page:C,shown:w.length===0?!1:m!==s(o).length-1}],[])},clearStackPages:()=>{y(o,[],!0)},getPageUrl:(w,S)=>{if(S?.full)return`/${w}`;const C=a();C.includes(w)||C.push(w);const m=new URLSearchParams(n().search);return m.set("stackPages",C.join(",")),`${n().pathname}?${m}`},createHandlePage:(w,S)=>C=>{if(C.preventDefault(),S?.full){r(w);return}i(w)},getStackPagesFormUrl:a});var f=H(),_=B(f);he(_,()=>t.children??ye),p(e,f),J()}function rc(e,t){Z(t,!0);const n=g=>g.startsWith("/")?g:`/${g}`,r=Oe({historyStack:[],pathname:n(window.location.pathname),search:window.location.search,historyLength:0}),a=()=>{r.pathname=n(document.location.pathname),r.search=document.location.search,r.historyLength=Math.max(0,r.historyLength-=1)},o=g=>{const[f,_]=g.split("?");r.pathname=n(f),r.search=_?`?${_}`:"",r.historyLength+=1,r.historyStack.push(`${window.location.pathname}${window.location.search}`),window.history.replaceState(null,"",g)},i=g=>{const[f,_]=g.split("?");r.pathname=n(f),r.search=_?`?${_}`:"",window.history.replaceState(null,"",g)};fl({getAppHistory:()=>r,navigate:o,replace:i,addSearchParam:(g,f)=>{const _=new URLSearchParams(r.search);_.append(g,f),i(`${r.pathname}${_.size>0?`?${_.toString()}`:""}`)},deleteSearchParam:g=>{const f=new URLSearchParams(r.search);f.delete(g),r.historyStack=r.historyStack.map(_=>{const w=new URLSearchParams(_.split("?")[1]);return w.delete(g),`${_.split("?")[0]}${f.size>0?`?${w.toString()}`:""}`}),i(`${r.pathname}${f.size>0?`?${f.toString()}`:""}`)},back:g=>{const{fallback:f="/",to:_}=g||{},[w,S]=f.split("?");if(r.historyLength<=0){const C=window.location.pathname,m=window.location.search;if(!m.includes("stackPages"))window.history.replaceState(null,"",f),r.historyLength=0,r.pathname=n(w),r.search=S?`?${S}`:"";else{const D=new URLSearchParams(m),L=D.get("stackPages")?.split(",")||[],E=L.slice(0,_&&L.includes(_)?L.indexOf(_)+1:-1);E.length===0?D.delete("stackPages"):D.set("stackPages",E.join(","));const A=`${C}${D.toString()?`?${D.toString()}`:""}`;window.history.replaceState(null,"",A),r.search=D.toString()?`?${D.toString()}`:""}}else if(r.historyStack.length>0){const m=new URLSearchParams(r.search).get("stackPages")?.split(",")||[];_&&m.includes(_)&&(r.historyStack=r.historyStack.slice(0,-(m.length-(m.indexOf(_)+1))+1),r.historyLength=r.historyStack.length);const D=r.historyStack.pop();if(D){const[L,E]=D.split("?");window.history.replaceState(null,"",D),r.historyLength=Math.max(0,r.historyLength-=1),r.pathname=n(L),r.search=E?`?${E}`:""}}},closeDialogStack:()=>{const g=r.historyStack.findIndex(_=>_.includes("stackPages")),f=g===-1?r.historyStack.slice(0):r.historyStack.slice(0,g);if(f.length>0){const _=f.pop();if(_){const[w,S]=_.split("?");window.history.replaceState(null,"",_),r.historyLength=Math.max(0,f.length),r.pathname=n(w),r.search=S?`?${S}`:"",r.historyStack=f}}else{const _=r.search,w=new URLSearchParams(_);w.delete("stackPages"),window.history.replaceState(null,"",w.toString()?"/?"+w.toString():"/"),r.historyLength=0,r.pathname="/",r.search=w.toString()?"?"+w.toString():"",r.historyStack=[]}}}),Ee(()=>(window.addEventListener("popstate",a),()=>{window.removeEventListener("popstate",a)}));var v=H(),h=B(v);he(h,()=>t.children??ye),p(e,v),J()}const hs={};function ac(e){Be(hs,e)}function oc(){const e=Le(hs);if(!e)throw new Error("No KeyboardVisibleContext found");return e}function sc(e,t){Z(t,!0);let n=Oe({value:!1});const r=()=>n.value;Ee(()=>{const i=()=>{setTimeout(()=>{document.activeElement instanceof HTMLInputElement&&document.activeElement.type==="text"||document.activeElement instanceof HTMLTextAreaElement?n.value=!0:n.value=!1},0)};return i(),document.addEventListener("focusin",i),document.addEventListener("focusout",i),()=>{document.removeEventListener("focusin",i),document.removeEventListener("focusout",i)}}),ac({getIsKeyboardVisible:r});var a=H(),o=B(a);he(o,()=>t.children??ye),p(e,a),J()}function ic(e,t){Z(t,!0);const n=crypto.randomUUID(),r=(i,l)=>{i.postMessage(JSON.stringify({...l,tabId:n}))};xl({tabId:n,createBroadcastChannel:()=>{const i=new BroadcastChannel("app");return{postMessage:l=>r(i,l),addEventListener:l=>{i.addEventListener("message",l)},removeEventListener:l=>{i.removeEventListener("message",l)}}}});var a=H(),o=B(a);he(o,()=>t.children??ye),p(e,a),J()}function lc(e,t){Ul(e,{children:(n,r)=>{Vl(n,{children:(a,o)=>{Wl(a,{children:(i,l)=>{Kl(i,{children:(c,u)=>{Xl(c,{children:(d,v)=>{Jl(d,{children:(h,g)=>{sc(h,{children:(f,_)=>{rc(f,{children:(w,S)=>{nc(w,{children:(C,m)=>{ec(C,{children:(D,L)=>{ic(D,{children:(E,A)=>{var T=H(),V=B(T);he(V,()=>t.children??ye),p(E,T)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})}function cc(e,t){lc(e,{children:(n,r)=>{gl(n,{children:(a,o)=>{vl(a,{children:(i,l)=>{pl(i,{children:(c,u)=>{wl(c,{children:(d,v)=>{kl(d,{children:(h,g)=>{Ll(h,{children:(f,_)=>{Ml(f,{children:(w,S)=>{Fl(w,{children:(C,m)=>{var D=H(),L=B(D);he(L,()=>t.children??ye),p(C,D)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})}})}let Ft=F(""),nn=F(null),Gn=F(null),Xn=F(null);function hn(e,t){y(Ft,""),setTimeout(()=>{y(Ft,e,!0),t?.onFinish&&y(Gn,t.onFinish,!0),t?.onCancel&&y(Xn,t.onCancel,!0)},16)}const uc=(e,t,n,r,a)=>{e.preventDefault(),s(t)&&(y(n,null),s(t)(),y(t,null)),y(r,""),s(a)?.style.removeProperty("opacity")};var dc=U('<button type="button" class="undoButton svelte-1vxmgq5">undo</button>'),fc=U('<div class="notification svelte-1vxmgq5"><span> </span> <!></div>'),vc=U("<div><!></div>");function hc(e,t){Z(t,!0),Ne(()=>{s(Ft);const o=s(Xn)?2e3:800;s(Ft)&&(s(nn)?.getBoundingClientRect(),s(nn)?.style.setProperty("opacity","1"));const i=setTimeout(()=>{s(nn)?.style.removeProperty("opacity")},o),l=setTimeout(()=>{y(Ft,""),s(Gn)&&s(Gn)(),y(Gn,null),y(Xn,null),s(nn)?.style.removeProperty("opacity")},o+400);return()=>{clearTimeout(i),clearTimeout(l)}});var n=vc(),r=x(n);{var a=o=>{var i=fc(),l=x(i),c=x(l),u=z(l,2);{var d=v=>{var h=dc();h.__click=[uc,Xn,Gn,Ft,nn],p(v,h)};q(u,v=>{s(Xn)&&v(d)})}xt(i,v=>y(nn,v),()=>s(nn)),ve(()=>Gt(c,s(Ft))),p(o,i)};q(r,o=>{s(Ft)&&o(a)})}p(e,n),J()}nt(["click"]);var gc=U('<span class="vh svelte-1s25udk"><!></span>');function $e(e,t){var n=gc(),r=x(n);he(r,()=>t.children),p(e,n)}var _c=Xi('<svg class="svelte-18et5h9"><use></use></svg>');function ke(e,t){let n=ce(t,"name",8,"");var r=_c(),a=x(r);ve(()=>xe(a,"href",`#icon-${n()??""}`)),p(e,r)}const pc=(e,t,n,r)=>{const a=t().type;a==="closed"?n():a==="opened"&&r()};var mc=U('<button class="buttonMenu svelte-bpktnw"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>');function gs(e,t){Z(t,!1);const{sidebarOpen:n,getSidebarState:r,sidebarClose:a}=Ca();ka();var o=mc();o.__click=[pc,r,n,a];var i=x(o);be(i,()=>({"--size":"36px"})),ke(i.lastChild,{name:"sidebarMenu"});var l=z(i,2);$e(l,{children:(c,u)=>{var d=Ae("Menu");p(c,d)}}),p(e,o),J()}nt(["click"]);var wc=(e,t)=>t.onChange?.(e.target?.value||""),yc=U('<input class="svelte-15lr19w"/>');function la(e,t){Z(t,!0);let n=ce(t,"value",15,"");var r=yc();r.__input=[wc,t],ve(()=>xe(r,"placeholder",t.placeholder)),ba("focus",r,function(...a){t.onFocus?.apply(this,a)}),il(r,n),p(e,r),J()}nt(["input"]);function _s(e,t){Z(t,!0),Ee(()=>{const n=r=>{r.target&&t.dialog?.open&&t.dialogInner&&t.dialogInner!==r.target&&!t.dialogInner.contains(r.target)&&t.onClose()};return document.addEventListener("mousedown",n,{capture:!0}),()=>{document.removeEventListener("mousedown",n,{capture:!0})}}),J()}var bc=U('<dialog><div class="dialogInner svelte-1x410nl"><!></div></dialog> <!>',1);function Aa(e,t){Z(t,!0);let n=F(null),r=F(null),a=F(!1),{showDialog:o,hideDialog:i}=cr();const l=f=>{f?.preventDefault();const _=setTimeout(()=>{t.onClosed()},150);s(n)?.addEventListener("transitionend",()=>{clearTimeout(_),t.onClosed()},{once:!0}),y(a,!1)};Ne(()=>{t.startClose&&l()}),Ee(()=>(s(n)?.showModal(),s(n)?.getClientRects(),y(a,!0),s(n)?.addEventListener("cancel",l),s(n)?.addEventListener("close",l),()=>{s(n)?.removeEventListener("cancel",l),s(n)?.removeEventListener("close",l)})),Ee(()=>(o(),()=>{i()}));var c=bc(),u=B(c),d=x(u),v=x(d);he(v,()=>t.children),xt(d,f=>y(r,f),()=>s(r)),xt(u,f=>y(n,f),()=>s(n));var h=z(u,2);{var g=f=>{_s(f,{get dialog(){return s(n)},get dialogInner(){return s(r)},onClose:l})};q(h,f=>{s(n)&&s(r)&&f(g)})}ve(()=>we(u,1,me(["dialog",{shown:s(a)}]),"svelte-1x410nl")),p(e,c),J()}var Sc=U("<div><!></div>");function ps(e,t){Z(t,!0);let n=F(!1),r=F(null);const a=()=>{const u=setTimeout(()=>{t.onClosed()},150);s(r)?.addEventListener("transitionend",()=>{clearTimeout(u),t.onClosed()},{once:!0}),y(n,!1)},o=u=>{u.target!==s(r)&&!s(r)?.contains(u.target)&&a()},i=u=>{u.target!==s(r)&&!s(r)?.contains(u.target)&&a()};Ee(()=>{s(r)?.getClientRects(),y(n,!0);const u=setTimeout(()=>{document.addEventListener("focusin",o),document.addEventListener("click",i)},0);return()=>{clearTimeout(u),document.removeEventListener("focusin",o),document.removeEventListener("click",i)}}),Ne(()=>{t.startClose&&a()});var l=Sc(),c=x(l);he(c,()=>t.children),xt(l,u=>y(r,u),()=>s(r)),ve(()=>we(l,1,me(["menu",{top:t.positionTop,shown:s(n)}]),"svelte-ujw4xi")),p(e,l),J()}const kc=(e,t)=>{s(t)||y(t,!0)};var Cc=(e,t)=>t("newest"),Ec=(e,t)=>t("oldest"),Pc=(e,t)=>t("AtoZ"),xc=(e,t)=>t("ZtoA"),Dc=U("<div><button>Newest</button> <button>Oldest</button> <button>A to Z</button> <button>Z to A</button></div>"),Ac=U('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),Tc=U('<div class="orderMenu svelte-14zj87s"><button><!> <!></button> <!></div>');function Nc(e,t){Z(t,!0);const n=(C,m=ye)=>{var D=Dc(),L=x(D);L.__click=[Cc,d];var E=z(L,2);E.__click=[Ec,d];var A=z(E,2);A.__click=[Pc,d];var T=z(A,2);T.__click=[xc,d],ve(()=>{we(D,1,me(["menu",{menuDialog:m()}]),"svelte-14zj87s"),we(L,1,me(["menuButton",{menuButtonDialog:m(),current:s(u)==="newest"}]),"svelte-14zj87s"),we(E,1,me(["menuButton",{menuButtonDialog:m(),current:s(u)==="oldest"}]),"svelte-14zj87s"),we(A,1,me(["menuButton",{menuButtonDialog:m(),current:s(u)==="AtoZ"}]),"svelte-14zj87s"),we(T,1,me(["menuButton",{menuButtonDialog:m(),current:s(u)==="ZtoA"}]),"svelte-14zj87s")}),p(C,D)};let r=F(!1),a=F(!1);const{checkMobileSize:o}=Wn(),{getFeedOrder:i,setFeedOrder:l}=Zo();let c=O(o),u=O(i);const d=C=>{y(a,!0),l(C)},v=()=>{y(r,!1),y(a,!1)};Ee(()=>{const C=m=>{m.key==="Escape"&&y(a,!0)};return document.addEventListener("keydown",C),()=>document.removeEventListener("keydown",C)});var h=Tc(),g=x(h);g.__click=[kc,r],we(g,1,me(["button","buttonMenu"]),"svelte-14zj87s");var f=x(g);ke(f,{name:"filter"});var _=z(f,2);$e(_,{children:(C,m)=>{var D=Ae("show feed order menu");p(C,D)}});var w=z(g,2);{var S=C=>{var m=H(),D=B(m);{var L=A=>{Aa(A,{get startClose(){return s(a)},onClosed:v,children:(T,V)=>{n(T,()=>!0)},$$slots:{default:!0}})},E=A=>{var T=Ac(),V=B(T);be(V,()=>({"--right":"20px","--top":"60px"})),ps(V.lastChild,{get startClose(){return s(a)},onClosed:v,children:(X,_e)=>{n(X,()=>!1)},$$slots:{default:!0}}),p(A,T)};q(D,A=>{s(c)?A(L):A(E,!1)})}p(C,m)};q(w,C=>{s(r)&&C(S)})}p(e,h),J()}nt(["click"]);var W=(e=>(e.NewNote="newNote",e.EditNote="editNote",e.Settings="settings",e.ImportData="importData",e.ExportData="exportData",e.ClearStore="clearStore",e.Account="account",e.Sync="sync",e.Start="start",e.Auth="auth",e.Signin="signin",e.Signup="signup",e.AccessKeys="accessKeys",e.ConfirmAccessKey="confirmAccessKey",e.Subscription="subscription",e.Exit="exit",e.NotFound="notFound",e.About="about",e.Bin="bin",e))(W||{}),Lc=U("<a><!></a>"),Bc=U("<button><!></button>");function Zt(e,t){let n=ce(t,"type",3,"standard"),r=ce(t,"typeButton",3,"button"),a=ce(t,"element",3,"button"),o=ce(t,"href",3,""),i=ce(t,"fullWidth",3,!1),l=ce(t,"withoutMinWidth",3,!1);var c=H(),u=B(c);{var d=h=>{var g=Lc();g.__click=function(..._){t.onClick?.apply(this,_)};var f=x(g);he(f,()=>t.children??ye),ve(()=>{xe(g,"href",o()),we(g,1,me(["button","a",{dangerous:n()==="dangerous",secondary:n()==="secondary",fullWidth:i(),withoutMinWidth:l()}]),"svelte-aqjevc")}),p(h,g)},v=h=>{var g=Bc();g.__click=function(..._){t.onClick?.apply(this,_)};var f=x(g);he(f,()=>t.children??ye),ve(()=>{xe(g,"type",r()),we(g,1,me(["button",{dangerous:n()==="dangerous",secondary:n()==="secondary",fullWidth:i(),withoutMinWidth:l()}]),"svelte-aqjevc")}),p(h,g)};q(u,h=>{a()==="a"?h(d):h(v,!1)})}p(e,c)}nt(["click"]);var Mc=U('<div class="block svelte-1dzbsx4"><span class="title svelte-1dzbsx4"> </span> <div class="controls svelte-1dzbsx4"><!> <!></div></div>');function ms(e,t){Z(t,!0);let n=ce(t,"buttonCancelTitle",3,"Cancel"),r=ce(t,"buttonConfirmTitle",3,"Confirm"),a=F(!1),o=F(!1);const i=()=>{y(a,!0)},l=()=>{y(a,!0),y(o,!0)};Aa(e,{get startClose(){return s(a)},onClosed:()=>{s(o)?t.onConfirm():t.onCancel()},children:(u,d)=>{var v=Mc(),h=x(v),g=x(h),f=z(h,2),_=x(f);Zt(_,{onClick:i,fullWidth:!0,withoutMinWidth:!0,type:"secondary",children:(S,C)=>{var m=Ae();ve(()=>Gt(m,n())),p(S,m)},$$slots:{default:!0}});var w=z(_,2);Zt(w,{onClick:l,fullWidth:!0,withoutMinWidth:!0,type:"dangerous",children:(S,C)=>{var m=Ae();ve(()=>Gt(m,r())),p(S,m)},$$slots:{default:!0}}),ve(()=>Gt(g,t.title)),p(u,v)},$$slots:{default:!0}}),J()}const Ic=(e,t)=>{y(t,!0)};var Oc=U('<a class="link svelte-13t3afu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Notes</span></a>'),Rc=U('<a class="link svelte-13t3afu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Bin</span></a>'),Fc=U('<button class="emptyBinButton svelte-13t3afu" type="button">Empty bin</button>'),zc=U('<a class="buttonAdd svelte-13t3afu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Note</span></a>'),Hc=U('<div class="header svelte-13t3afu"><div class="top svelte-13t3afu"><div class="menu svelte-13t3afu"><a class="link svelte-13t3afu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Settings</span></a> <a class="link svelte-13t3afu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Sync</span></a> <!></div> <div class="mobile svelte-13t3afu"><!></div> <!></div> <div class="bottom svelte-13t3afu"><div><div class="sidebarSearchWrapper"><!></div></div> <div class="right svelte-13t3afu"><div class="filter svelte-13t3afu"><div class="feedSearchWrapper svelte-13t3afu"><!></div> <!></div></div></div></div> <!>',1);function Uc(e,t){Z(t,!0);const{createHandlePage:n,getPageUrl:r}=Lt(),a=Wo(),o=Go(),{getScrollContainer:i}=xa();let l=O(i);const{emptyBin:c,checkNotesInBin:u}=Hr(),{getAppHistory:d}=pt(),v=O(u),h=O(()=>d().pathname);let g=F(!1);const f=()=>{s(l)&&s(l).scrollTo({top:0,behavior:"smooth"})};var _=Hc(),w=B(_),S=x(w),C=x(S),m=x(C),D=O(()=>n(W.Settings));m.__click=function(...P){s(D)?.apply(this,P)};var L=x(m);be(L,()=>({"--rotate":"30deg","--size":"20px"})),ke(L.lastChild,{name:"settings"});var E=z(m,2),A=O(()=>n(W.Sync));E.__click=function(...P){s(A)?.apply(this,P)};var T=x(E);be(T,()=>({"--size":"20px"})),ke(T.lastChild,{name:"sync"});var V=z(E,2);{var X=P=>{var j=Oc(),$=O(()=>n("/",{full:!0}));j.__click=function(...ge){s($)?.apply(this,ge)};var ne=x(j);be(ne,()=>({"--size":"18px"})),ke(ne.lastChild,{name:"note"}),ve(ge=>xe(j,"href",ge),[()=>r("/",{full:!0})]),p(P,j)},_e=P=>{var j=H(),$=B(j);{var ne=ge=>{var se=Rc(),Me=O(()=>n(W.Bin,{full:!0}));se.__click=function(...Ke){s(Me)?.apply(this,Ke)};var Pe=x(se);be(Pe,()=>({"--size":"20px"})),ke(Pe.lastChild,{name:"bin"}),ve(Ke=>xe(se,"href",Ke),[()=>r(W.Bin,{full:!0})]),p(ge,se)};q($,ge=>{s(v)&&ge(ne)},!0)}p(P,j)};q(V,P=>{s(h)===`/${W.Bin}`?P(X):P(_e,!1)})}var ie=z(C,2),ae=x(ie);gs(ae,{});var R=z(ie,2);{var Q=P=>{var j=H(),$=B(j);{var ne=ge=>{var se=Fc();se.__click=[Ic,g],p(ge,se)};q($,ge=>{s(v)&&ge(ne)})}p(P,j)},oe=P=>{var j=zc(),$=O(()=>n(W.NewNote));j.__click=function(...ge){s($)?.apply(this,ge)};var ne=x(j);be(ne,()=>({"--size":"16px","--color":"#b0b0b0"})),ke(ne.lastChild,{name:"plus"}),ve(ge=>xe(j,"href",ge),[()=>r(W.NewNote)]),p(P,j)};q(R,P=>{s(h)===`/${W.Bin}`?P(Q):P(oe,!1)})}var ee=z(S,2),Y=x(ee);we(Y,1,me(["left"]),"svelte-13t3afu");var K=x(Y),M=x(K);la(M,{placeholder:"Search tag",get value(){return o.value},set value(P){o.value=P}});var G=z(Y,2),le=x(G),fe=x(le),te=x(fe);la(te,{onFocus:f,placeholder:"Search",get value(){return a.value},set value(P){a.value=P}});var k=z(fe,2);Nc(k,{});var I=z(w,2);{var b=P=>{ms(P,{title:"Are you sure you want to empty the bin?",buttonConfirmTitle:"Empty",onConfirm:()=>{c(),y(g,!1)},onCancel:()=>{y(g,!1)}})};q(I,P=>{s(g)&&P(b)})}ve((P,j)=>{xe(m,"href",P),xe(E,"href",j)},[()=>r(W.Settings),()=>r(W.Sync)]),p(e,_),J()}nt(["click"]);function jc(e,t){Z(t,!0);const{getIsKeyboardVisible:n}=oc();let r=ce(t,"dialog",7);const a=O(n),o=qn();let i=null;const l=()=>{t.dialogState==="swiping"&&t.onClose()};Ne(()=>(t.dialogState==="swiping"&&(i=setTimeout(l,3e3)),()=>{i&&(clearTimeout(i),i=null)}));let c=null,u=null;const d=3,v=50,h=5,g=.6,f=.3,_=.35,w=.95;let S=0,C=0,m=0,D=!1,L=!1,E=0,A=0,T=0;const V=()=>{S=0,C=0,D=!1,L=!1,E=0,A=0,T=0,m=0,c=null,u!==null&&(cancelAnimationFrame(u),u=null),i&&(clearTimeout(i),i=null)},X=K=>{r()&&t.dialogState==="opened"&&(S=K.touches[0].clientX,C=K.touches[0].clientY,m=performance.now(),D=!0,L=!1)},_e=K=>t.dialogState==="opened"&&K>0||t.dialogState==="swiping"&&K>0,ie=()=>{if(r()){r().style.setProperty("--transition-timing","0s"),t.onSwipe(),navigator.vibrate&&navigator.vibrate(10);try{const K=window.getComputedStyle(r()),M=K.transform||K.webkitTransform||"";if(A=r().offsetWidth,(t.dialogState==="swiping"||t.dialogState==="opened")&&(E=0),M&&M!=="none")try{E=new DOMMatrix(M).m41}catch{}L=!0}catch{V()}}},ae=()=>{if(!r())return;const M=Math.abs(E+T*A/100)/A;r().style.setProperty("--backdrop-bg",`rgba(0, 0, 0, ${.1*(1-M)})`)},R=()=>{if(u=null,!c||!D||!r()||s(a)){V();return}const K=[...c.touches].reduce((P,j)=>P+j.clientX,0)/c.touches.length,M=[...c.touches].reduce((P,j)=>P+j.clientY,0)/c.touches.length,G=K-S,le=M-C,fe=Math.abs(G)>Math.abs(le),te=Math.abs(G)>d;if(!L)if(fe&&te&&_e(G))try{ie()}catch{V();return}else return;let k=E+G*w;k=Math.max(0,Math.min(A,k)),!(k<0)&&(r().style.setProperty("--transition-timing","0s"),r().style.transform=`translate3d(${k}px, 0, 0)`,o.swipingRatio=Math.abs(1-k/A),T=(k-E)/A*100,t.dialogState==="swiping"&&(i&&clearTimeout(i),i=setTimeout(l,3e3)),ae())},Q=K=>{if(!D)return;c=K,u===null&&(u=requestAnimationFrame(R));const M=K.touches[0].clientX-S,G=K.touches[0].clientY-C,le=Math.abs(M)>Math.abs(G);L&&le&&K.preventDefault()},oe=K=>{const M=Math.abs(K);if(M>=g)return h;if(M>=f){const G=(M-f)/(g-f);return v-G*(v-h)}else return v},ee=(K,M)=>{if(Math.abs(K)>=g)return _*.5;const le=Math.abs(T)/100;return M?_*Math.max(.5,1-le):_*Math.max(.5,le)},Y=K=>{if(u!==null&&(cancelAnimationFrame(u),u=null),!D||!r()){V();return}if(!L){V();return}let M=0;if(K?.changedTouches?.[0]){const k=K.changedTouches[0].clientX,b=performance.now()-m;b>0&&(M=(k-S)/b)}const G=oe(M);let le=null;t.dialogState==="swiping"&&(le=Math.abs(T)>G||M<-f?"close":"open");const fe=t.dialogState==="swiping"&&le==="close",te=ee(M,fe);o.duration=te-.02,r().style.setProperty("--transition-timing",`${te}s`),r().offsetWidth,r().style.transform="",le==="open"?t.onOpen():le==="close"&&t.onClose(),r()?.style.removeProperty("--backdrop-bg"),V()};Ee(()=>(r().addEventListener("touchstart",X,{passive:!0}),r().addEventListener("touchmove",Q,{passive:!1}),r().addEventListener("touchend",Y,{passive:!0}),r().addEventListener("touchcancel",Y,{passive:!0}),()=>{r().removeEventListener("touchstart",X),r().removeEventListener("touchmove",Q),r().removeEventListener("touchend",Y),r().removeEventListener("touchcancel",Y),u!==null&&cancelAnimationFrame(u)})),J()}var Vc=(e,t)=>{t.onStartClose()},qc=U('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),Wc=U('<dialog><div class="dialogInner svelte-vr2o0t"><div class="header svelte-vr2o0t"><div><!></div></div> <!></div></dialog> <!>',1);function Yc(e,t){Z(t,!0);let n=350;const{isScrolling:r,enable:a}=ls();let o=F(null),i=F(null);const l=qn(),c=E=>{E.preventDefault(),t.onStartClose()};Ee(()=>(s(o)?.addEventListener("close",t.onClosed),s(o)?.addEventListener("cancel",c),()=>{s(o)?.removeEventListener("close",t.onClosed),s(o)?.removeEventListener("cancel",c)}));const u=()=>{s(o)?.style.removeProperty("--transition-timing"),s(o)?.style.removeProperty("transform"),s(o)?.style.removeProperty("--backdrop-bg")},d=()=>{a()},v=O(r);Ne(()=>{if(t.dialogState,!!s(o))switch(t.dialogState){case"opening":{s(o).open||s(o).showModal(),s(o).getBoundingClientRect();const E=setTimeout(()=>{u()},n+1),A=()=>{clearTimeout(E),u()};return s(o)?.addEventListener("transitionend",A,{once:!0}),t.onOpened(),()=>{clearTimeout(E),s(o)?.removeEventListener("transitionend",A)}}case"closing":{const E=setTimeout(()=>{t.dialogState==="closing"&&t.onClosed()},n+1),A=()=>{clearTimeout(E),t.onClosed()};return s(o)?.addEventListener("transitionend",A,{once:!0}),()=>{clearTimeout(E),s(o)?.removeEventListener("transitionend",A)}}case"opened":u()}});var h=Wc(),g=B(h),f=x(g),_=x(f),w=x(_),S=x(w);{var C=E=>{var A=qc();we(A,1,me(["navigateButton","buttonBack"]),"svelte-vr2o0t"),A.__click=[Vc,t];var T=x(A);be(T,()=>({"--size":"36px"})),ke(T.lastChild,{name:"back"});var V=z(T,2);$e(V,{children:(X,_e)=>{var ie=Ae("back");p(X,ie)}}),p(E,A)};q(S,E=>{(!(t.blocked||t.hidden)||t.blocked&&t.unBlockedBack)&&E(C)})}var m=z(_,2);he(m,()=>t.children),xt(f,E=>y(i,E),()=>s(i)),xt(g,E=>y(o,E),()=>s(o));var D=z(g,2);{var L=E=>{jc(E,{get onClose(){return t.onStartClose},get onOpen(){return t.onStartOpen},get onSwipe(){return t.onSwipe},get dialogState(){return t.dialogState},get dialog(){return s(o)}})};q(D,E=>{(!s(v)&&t.dialogState==="opened"||t.dialogState==="swiping")&&(!t.blocked||t.unBlockedBack)&&E(L)})}ve(()=>we(g,1,me([{open:t.dialogState==="opened",hidden:t.hidden,isAnimationOn:l.working&&(!l.isSwiping||!t.hidden)},{hidden:t.hidden}]),"svelte-vr2o0t")),ba("scroll",f,d),p(e,h),J()}nt(["click"]);const Ga=(e,t)=>{if(!t)return e;if(t.type==="closed")return{type:"closed"};switch(e.type){case"opened":return t.type==="close"?{type:"closing"}:t.type==="swipe"?{type:"swiping"}:e;case"closed":return t.type==="open"?{type:"opening"}:e;case"swiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"opening":return t.type==="opened"?{type:"opened"}:e;default:return e}};function Kc(e,t){Z(t,!0);let n=ce(t,"blocked",3,!1),r=ce(t,"hiddenDialog",3,!1),a=ce(t,"unBlockedBack",3,!1),o=ce(t,"onStartClose",3,()=>{}),i=ce(t,"onClose",3,()=>{});const l=qn();let c=F(Oe(Ga({type:"closed"})));const u=m=>{y(c,Ga(s(c),m),!0)},d=()=>{n()&&!a()||(o()(),u({type:"close"}))},v=()=>{u({type:"open"})},h=()=>{u({type:"opened"}),l.swipingRatio=1,l.duration=.2},g=()=>{i()(),u({type:"closed"}),l.swipingRatio=1,l.duration=.2},f=()=>{u({type:"swipe"})};Ne(()=>{s(c).type==="swiping"?l.isSwiping=!0:l.isSwiping=!1,s(c).type==="closed"&&t.shownDialog?v():s(c).type==="opened"&&!t.shownDialog&&d()});var _={handleComputeState:u},w=H(),S=B(w);{var C=m=>{Yc(m,{onSwipe:f,onOpened:h,onClosed:g,onStartClose:d,onStartOpen:v,get dialogState(){return s(c).type},get hidden(){return r()},get blocked(){return n()},get unBlockedBack(){return a()},children:(D,L)=>{var E=H(),A=B(E);he(A,()=>t.children),p(D,E)},$$slots:{default:!0}})};q(S,m=>{s(c).type!=="closed"&&m(C)})}return p(e,w),J(_)}const Gc=({getDialog:e,onOpen:t,onStartClose:n,onClose:r})=>{const a=i=>{i.preventDefault(),n()},o=()=>{r?.()};Ee(()=>{const i=e();return i?.addEventListener("cancel",a),i?.addEventListener("close",o),()=>{i?.removeEventListener("cancel",a),i?.removeEventListener("close",o)}}),Ee(()=>{const i=e();i?.showModal(),i?.getBoundingClientRect(),t()})};var Xc=(e,t)=>{t.onStartBack()},Zc=U('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),Jc=(e,t)=>{t.onStartClose()},Qc=U('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),$c=U('<dialog><div class="dialogInner svelte-rt409n"><div class="header svelte-rt409n"><div><!></div> <div><!></div></div> <!></div></dialog> <!>',1);function eu(e,t){Z(t,!0);let n=ce(t,"blockedDialog",3,!1),r=ce(t,"hiddenDialog",3,!1),a=ce(t,"isDesktopAnimationOff",3,!1),o=F(null),i=F(null);Gc({getDialog:()=>s(o),onOpen:t.onOpen,onStartClose:t.onStartClose,onClose:t.onClose});const l=qn();Ne(()=>{t.stateDialog==="closing"&&(l.working?s(o)?.addEventListener("transitionend",()=>{s(o)?.close()},{once:!0}):s(o)?.close())});const{getDialogPageHeight:c}=Da(),u=O(c);var d=$c(),v=B(d),h=x(v),g=x(h),f=x(g),_=x(f);{var w=E=>{var A=Zc();we(A,1,me(["navigateButton","buttonBack"]),"svelte-rt409n"),A.__click=[Xc,t];var T=x(A);be(T,()=>({"--size":"28px"})),ke(T.lastChild,{name:"back"});var V=z(T,2);$e(V,{children:(X,_e)=>{var ie=Ae("back");p(X,ie)}}),p(E,A)};q(_,E=>{(!(n()||r())||n()&&t.unBlockedBack)&&t.onStartBack&&E(w)})}var S=z(f,2),C=x(S);{var m=E=>{var A=Qc();we(A,1,me(["navigateButton","buttonClose"]),"svelte-rt409n"),A.__click=[Jc,t];var T=x(A);be(T,()=>({"--size":"28px"})),ke(T.lastChild,{name:"close"});var V=z(T,2);$e(V,{children:(X,_e)=>{var ie=Ae("close");p(X,ie)}}),p(E,A)};q(C,E=>{n()||r()||E(m)})}var D=z(g,2);he(D,()=>t.children),xt(h,E=>y(i,E),()=>s(i)),xt(v,E=>y(o,E),()=>s(o));var L=z(v,2);_s(L,{get dialog(){return s(o)},get dialogInner(){return s(i)},get onClose(){return t.onStartClose}}),ve(()=>{tr(v,`height: ${s(u)+74}px`),we(v,1,me([{open:t.stateDialog==="open",isAnimationOn:l.working,isDesktopAnimationOff:a(),hiddenDialog:r()}]),"svelte-rt409n")}),p(e,d),J()}nt(["click"]);const tu=({onStartClose:e,onClose:t})=>{let n=F("close");return{get state(){return s(n)},set state(i){y(n,i,!0)},handleStartClose:(i=!1)=>{i||(y(n,"closing"),e?.())},handleOpen:()=>{y(n,"open")},handleClose:()=>{y(n,"close"),t?.()}}};function nu(e,t){Z(t,!0);let n=ce(t,"blockedDialog",3,!1),r=ce(t,"hiddenDialog",3,!1),a=ce(t,"onStartClose",3,()=>{}),o=ce(t,"onClose",3,()=>{}),i=tu({onStartClose:a(),onClose:o()});Ne(()=>{i.state==="close"&&t.shownDialog?i.state="opening":i.state==="open"&&!t.shownDialog&&i.handleStartClose(n())});const l=v=>{v.key==="Escape"&&(document.activeElement instanceof HTMLInputElement&&document.activeElement.type==="text"||document.activeElement instanceof HTMLTextAreaElement||n())&&(v.preventDefault(),v.stopPropagation())};Ee(()=>(document.addEventListener("keydown",l),()=>{document.removeEventListener("keydown",l)}));var c=H(),u=B(c);{var d=v=>{eu(v,{get stateDialog(){return i.state},get blockedDialog(){return n()},get unBlockedBack(){return t.unBlockedBack},get hiddenDialog(){return r()},get onOpen(){return i.handleOpen},get onStartBack(){return t.onStartBack},onStartClose:()=>{i.handleStartClose(n())},get onClose(){return i.handleClose},children:(h,g)=>{var f=H(),_=B(f);he(_,()=>t.children),p(h,f)},$$slots:{default:!0}})};q(u,v=>{i.state!=="close"&&v(d)})}p(e,c),J()}function ru(e,t){Z(t,!0);let n=ce(t,"blockedDialog",3,!1),r=ce(t,"hiddenDialog",3,!1),a=ce(t,"isLastDialog",3,!1),o=ce(t,"onStartClose",3,()=>{}),i=ce(t,"onClose",3,()=>{});const l=O(()=>a()?void 0:t.onStartBack),{showDialog:c,hideDialog:u}=cr();Ee(()=>(c(),()=>{u()}));const{checkMobileSize:d}=Wn();var v=H(),h=B(v);{var g=_=>{Kc(_,{get shownDialog(){return t.shownDialog},get blocked(){return n()},get unBlockedBack(){return t.unBlockedBack},get hiddenDialog(){return r()},get children(){return t.children},get onStartClose(){return t.onStartBack},get onClose(){return i()}})},f=_=>{nu(_,{get shownDialog(){return t.shownDialog},get blockedDialog(){return n()},get unBlockedBack(){return t.unBlockedBack},get hiddenDialog(){return r()},get children(){return t.children},get onStartBack(){return s(l)},get onStartClose(){return o()},get onClose(){return i()}})};q(h,_=>{d()?_(g):_(f,!1)})}p(e,v),J()}function Xa(e,t){Z(t,!0);const{back:n,closeDialogStack:r}=pt(),{popStackPages:a}=Lt();let o=ce(t,"blocked",3,!1),i=ce(t,"isLastDialog",3,!1),l=ce(t,"onBack",3,()=>{});const{checkBlockedDialog:c,checkUnBlockedBackDialog:u}=cr(),d=O(()=>o()||t.hidden||c()),v=O(()=>u()&&!i());ru(e,{get shownDialog(){return t.shown},get blockedDialog(){return s(d)},get unBlockedBack(){return s(v)},get hiddenDialog(){return t.hidden},get isLastDialog(){return i()},onStartBack:()=>{(!s(d)||s(d)&&s(v))&&t.shown&&(n(),l()())},onStartClose:()=>{(!s(d)||s(d)&&s(v))&&t.shown&&r()},onClose:()=>{a()},children:(_,w)=>{var S=H(),C=B(S);he(C,()=>t.children),p(_,S)},$$slots:{default:!0}}),J()}var au=U('<h1 class="svelte-1ky72l5"><!></h1>');function ou(e,t){var n=au(),r=x(n);he(r,()=>t.children),p(e,n)}var su=U('<div class="block svelte-ujk4k"><!> <div class="container svelte-ujk4k"><!> <!></div></div>');function iu(e,t){Z(t,!0);const{blockDialog:n}=cr(),{pushStackPages:r}=Lt(),{closeDialogStack:a}=pt(),{initLocalAccount:o}=Pa();let i=F("idle");const l=()=>{y(i,"loading"),r(W.Auth)},c=async()=>{y(i,"loading"),bl(),await o(),n(!1),a()};Ne(()=>{n(s(i)==="idle"||s(i)==="loading")}),Ee(()=>(n(!0),()=>{n(!1)}));var u=su(),d=x(u);ou(d,{children:(f,_)=>{var w=Ae("use app");p(f,w)}});var v=z(d,2),h=x(v);Zt(h,{onClick:l,fullWidth:!0,children:(f,_)=>{var w=Ae("cloud account");p(f,w)},$$slots:{default:!0}});var g=z(h,2);Zt(g,{onClick:c,fullWidth:!0,type:"secondary",children:(f,_)=>{var w=Ae("without account");p(f,w)},$$slots:{default:!0}}),p(e,u),J()}var lu=U('<div class="svelte-1x9a4ve"><!></div>');function Ie(e,t){Z(t,!0);const{setDialogPageHeight:n}=Da();let r=F(null);Ee(()=>{s(r)&&(s(r).getBoundingClientRect(),s(r).style.opacity="1");const i=new ResizeObserver(l=>{for(let c of l){const u=c.contentRect.height;n(u)}});if(s(r))return i.observe(s(r)),()=>{s(r)&&i.unobserve(s(r)),i.disconnect()}});var a=lu(),o=x(a);he(o,()=>t.children),xt(a,i=>y(r,i),()=>s(r)),p(e,a),J()}var cu=U('<div class="svelte-stjbkr"><p class="svelte-stjbkr">Page not found</p> <!></div>');function uu(e,t){Z(t,!1);const{navigate:n}=pt(),r=i=>{i.preventDefault(),n("/")};ka();var a=cu(),o=z(x(a),2);Zt(o,{element:"a",href:"/",onClick:r,children:(i,l)=>{var c=Ae("close");p(i,c)},$$slots:{default:!0}}),p(e,a),J()}const du="modulepreload",fu=function(e){return"/"+e},Za={},Fe=function(t,n,r){let a=Promise.resolve();if(n&&n.length>0){let c=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=i?.nonce||i?.getAttribute("nonce");a=c(n.map(u=>{if(u=fu(u),u in Za)return;Za[u]=!0;const d=u.endsWith(".css"),v=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${v}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":du,d||(h.as="script"),h.crossOrigin="",h.href=u,l&&h.setAttribute("nonce",l),document.head.appendChild(h),d)return new Promise((g,f)=>{h.addEventListener("load",g),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${u}`)))})}))}function o(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return a.then(i=>{for(const l of i||[])l.status==="rejected"&&o(l.reason);return t().catch(o)})};var vu=U('<div class="svelte-10xfz1h"><p class="svelte-10xfz1h">Something went wrong. Please reload the page</p> <!></div>');function hu(e){var t=vu(),n=z(x(t),2);Zt(n,{onClick:()=>location.reload(),children:(r,a)=>{var o=Ae("Reload");p(r,o)},$$slots:{default:!0}}),p(e,t)}var gu=U('<div><!> <div class="loader svelte-m0sno1"></div></div>');function ws(e,t){Z(t,!0);let n=F(!1);Ee(()=>{const o=setTimeout(()=>{y(n,!0)},200);return()=>{clearTimeout(o)}});var r=gu(),a=x(r);he(a,()=>t.children??ye),ve(()=>we(r,1,me(["block",{shown:s(n)}]),"svelte-m0sno1")),p(e,r),J()}var _u=U('<div class="svelte-1mu1b44"><!></div>');function pu(e,t){Z(t,!0);const{getDialogPageHeight:n}=Da(),r=O(n);var a=_u(),o=x(a);ws(o,{}),ve(()=>tr(a,`min-height: ${s(r)??""}px;`)),p(e,a),J()}function He(e,t){Z(t,!0);const n={},r=Object.assign({"./Pages/About.svelte":()=>Fe(()=>import("./DhVhR7xG.js"),__vite__mapDeps([0,1])),"./Pages/AccessKeys.svelte":()=>Fe(()=>import("./CO4GCWOZ.js"),__vite__mapDeps([2,3,4,5])),"./Pages/Account.svelte":()=>Fe(()=>import("./CDsjfWm6.js"),__vite__mapDeps([6,3,7])),"./Pages/Auth.svelte":()=>Fe(()=>import("./BX7hmKmV.js"),__vite__mapDeps([8,9])),"./Pages/ClearStore.svelte":()=>Fe(()=>import("./CDZDVT5j.js"),__vite__mapDeps([10,11])),"./Pages/ConfirmAccessKey.svelte":()=>Fe(()=>import("./Duq-6s-C.js"),__vite__mapDeps([12,4,3,13,14,15,16])),"./Pages/EditNote.svelte":()=>Fe(()=>import("./ciWORmH5.js"),__vite__mapDeps([17,18,14,15,19,20])),"./Pages/Exit.svelte":()=>Fe(()=>import("./BcDwTKGf.js"),__vite__mapDeps([21,22])),"./Pages/ExportData.svelte":()=>Fe(()=>import("./C3hnXqEa.js"),__vite__mapDeps([23,24])),"./Pages/ImportData.svelte":()=>Fe(()=>import("./65Yo8fmo.js"),__vite__mapDeps([25,26])),"./Pages/NewNote.svelte":()=>Fe(()=>import("./D-3O2fFD.js"),__vite__mapDeps([27,18,14,15,19])),"./Pages/Settings.svelte":()=>Fe(()=>import("./Cj_S1z1h.js"),__vite__mapDeps([28,29])),"./Pages/Signin.svelte":()=>Fe(()=>import("./Xtv8-TUt.js"),__vite__mapDeps([30,4,3,13,31])),"./Pages/Signup.svelte":()=>Fe(()=>import("./hqbG7AFL.js"),__vite__mapDeps([32,13,4,3,33])),"./Pages/Subscription.svelte":()=>Fe(()=>import("./x77yeWG9.js"),__vite__mapDeps([34,35])),"./Pages/Sync.svelte":()=>Fe(()=>import("./BWKbJtwS.js"),__vite__mapDeps([36,37]))}),a=async l=>{const c=`./Pages/${l[0].toUpperCase()+l.slice(1)}.svelte`;if(!n[l]){if(r[c]){const u=r[c]();return n[l]={promise:u},n[l].module=await u,n[l].module}throw new Error(`Page ${l} not found`)}return n[l].module||await n[l].promise};var o=H(),i=B(o);zo(i,()=>a(t.page),l=>{pu(l,{})},(l,c)=>{const u=O(()=>s(c).default);var d=H(),v=B(d);jo(v,()=>s(u),(h,g)=>{g(h,{get params(){return t.params},get hidden(){return t.hidden}})}),p(l,d)},l=>{hu(l)}),p(e,o),J()}var mu=U('<button> <svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></button>');function ys(e,t){let n=O(()=>t.style==="selected"?"45deg":"0deg");var r=mu();r.__click=function(...i){t.onClick?.apply(this,i)};var a=x(r),o=z(a);be(o,()=>({"--size":t.size==="small"?"10px":"12px","--rotate":s(n)})),ke(o.lastChild,{name:"plus"}),ve(()=>{xe(r,"type",t.type),we(r,1,me([{selectedTag:t.style==="selected",small:t.size==="small"}]),"svelte-uu8a24"),Gt(a,`${t.title??""} `)}),p(e,r)}nt(["click"]);var wu=U("<div></div>");function Ja(e,t){Z(t,!0);let n=ce(t,"mobile",3,!1);var r=wu();Fr(r,20,()=>t.tags,a=>a,(a,o)=>{ys(a,{get title(){return o},onClick:()=>t.handleTagClick(o)})}),ve(()=>we(r,1,me(["tags",{mobile:n()}]),"svelte-1c53r32")),p(e,r),J()}var yu=U("<div></div>");function Qa(e,t){Z(t,!0);var n=H(),r=B(n);{var a=o=>{var i=yu();we(i,1,me(["tags","selectedTags"]),"svelte-58z9m1"),Fr(i,20,()=>t.selectedTags,l=>l,(l,c)=>{ys(l,{get title(){return c},onClick:()=>t.handleSelectedTagClick(c),style:"selected"})}),p(o,i)};q(r,o=>{t.selectedTags.size>0&&o(a)})}p(e,n),J()}var bu=(e,t,n)=>{t(),n("/",{full:!0})(e)},Su=U('<a class="link svelte-ltt61h"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a>'),ku=(e,t,n)=>{t(),n(W.Bin,{full:!0})(e)},Cu=U('<a class="link svelte-ltt61h"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a>'),Eu=U('<div class="sidebarFixed svelte-ltt61h"><div class="nav svelte-ltt61h"><!> <div class="menu svelte-ltt61h"><a class="link svelte-ltt61h"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a> <a class="link svelte-ltt61h"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a> <!></div></div> <div class="searchWrapper svelte-ltt61h"><!></div> <!></div> <!>',1),Pu=U('<div class="sidebar svelte-ltt61h"><div class="sidebarFixed svelte-ltt61h"><!></div> <!></div>');function xu(e,t){Z(t,!0);const{checkMobileSize:n}=Wn(),{sidebarClose:r}=Ca(),{getAppHistory:a}=pt(),{getPageUrl:o,createHandlePage:i,getStackPagesFormUrl:l}=Lt(),c=Go(),u=O(()=>a().pathname),{getSelectedTags:d,addTag:v,removeTag:h}=$o();let g=O(d);const{checkNotesInBin:f}=Hr();let _=ce(t,"getNotes",3,()=>[]),w=ce(t,"mode",3,"notes"),S=null;function C(){return S||(S=Fe(()=>import("./DAjxd5Ox.js"),__vite__mapDeps([38,39]))),S}const m=R=>{v(R)},D=R=>{h(R)},L=()=>{if(s(g).has("inbox"))return[];const R=[],Q=Array.from(s(g).values());for(const oe of _()()||[])if(oe.data&&!(oe.data.deletedAt&&w()==="notes")&&!(!oe.data.deletedAt&&w()==="bin")){if(s(g).size===0){for(const ee of oe?.data?.tags||[])R.includes(ee)||R.push(ee);for(const ee of oe?.data?.draft?.tags||[])R.includes(ee)||R.push(ee);continue}if(oe.data&&Q.every(ee=>oe.data?.tags.includes(ee)))for(const ee of oe.data.tags)!s(g).has(ee)&&!R.includes(ee)&&R.push(ee);if(oe&&oe.data.draft&&Q.every(ee=>oe.data?.draft?.tags.includes(ee)))for(const ee of oe.data.draft.tags)!s(g).has(ee)&&!R.includes(ee)&&R.push(ee)}return R};let E=O(()=>L().filter(R=>c.value===""||R.toLowerCase().indexOf(c.value.toLowerCase())!==-1).sort((R,Q)=>R==="inbox"?-1:Q==="inbox"?1:R.localeCompare(Q))),A=O(n);Ee(()=>{s(A)&&C()});const{checkExistedDialog:T}=cr();let V=O(()=>l().length>0||T());var X=H(),_e=B(X);{var ie=R=>{var Q=H(),oe=B(Q);zo(oe,C,null,(ee,Y)=>{const K=O(()=>s(Y).default);var M=H(),G=B(M);jo(G,()=>s(K),(le,fe)=>{fe(le,{get blocked(){return s(V)},children:(te,k)=>{var I=Eu(),b=B(I),P=x(b),j=x(P);gs(j,{});var $=z(j,2),ne=x($),ge=O(()=>i(W.Settings));ne.__click=function(...De){s(ge)?.apply(this,De)};var se=x(ne);be(se,()=>({"--size":"24px"})),ke(se.lastChild,{name:"settings"});var Me=z(se,2);$e(Me,{children:(De,Je)=>{var ze=Ae("Settings");p(De,ze)}});var Pe=z(ne,2),Ke=O(()=>i(W.Sync));Pe.__click=function(...De){s(Ke)?.apply(this,De)};var dt=x(Pe);be(dt,()=>({"--size":"24px"})),ke(dt.lastChild,{name:"sync"});var Ge=z(dt,2);$e(Ge,{children:(De,Je)=>{var ze=Ae("Sync");p(De,ze)}});var rt=z(Pe,2);{var at=De=>{var Je=Su();Je.__click=[bu,r,i];var ze=x(Je);be(ze,()=>({"--size":"24px"})),ke(ze.lastChild,{name:"note"});var It=z(ze,2);$e(It,{children:(mt,en)=>{var tn=Ae("Notes");p(mt,tn)}}),ve(mt=>xe(Je,"href",mt),[()=>o("/",{full:!0})]),p(De,Je)},ft=De=>{var Je=H(),ze=B(Je);{var It=mt=>{var en=Cu();en.__click=[ku,r,i];var tn=x(en);be(tn,()=>({"--size":"24px"})),ke(tn.lastChild,{name:"bin"});var Ot=z(tn,2);$e(Ot,{children:(Rt,Ur)=>{var jr=Ae("Bin");p(Rt,jr)}}),ve(Rt=>xe(en,"href",Rt),[()=>o(W.Bin,{full:!0})]),p(mt,en)};q(ze,mt=>{f()&&mt(It)},!0)}p(De,Je)};q(rt,De=>{s(u)===`/${W.Bin}`?De(at):De(ft,!1)})}var ur=z(P,2),Mt=x(ur);la(Mt,{placeholder:"Search tag",get value(){return c.value},set value(De){c.value=De}});var bn=z(ur,2);Qa(bn,{get selectedTags(){return s(g)},handleSelectedTagClick:D});var dr=z(b,2);Ja(dr,{get tags(){return s(E)},handleTagClick:m,mobile:!0}),ve((De,Je)=>{xe(ne,"href",De),xe(Pe,"href",Je)},[()=>o(W.Settings),()=>o(W.Sync)]),p(te,I)},$$slots:{default:!0}})}),p(ee,M)}),p(R,Q)},ae=R=>{var Q=Pu(),oe=x(Q),ee=x(oe);Qa(ee,{get selectedTags(){return s(g)},handleSelectedTagClick:D});var Y=z(oe,2);Ja(Y,{get tags(){return s(E)},handleTagClick:m}),p(R,Q)};q(_e,R=>{s(A)?R(ie):R(ae,!1)})}p(e,X),J()}nt(["click"]);const Du=(e,t,n,r)=>{t.noteData.pinnedAt?(n(t.noteId,!1),hn("Note unpinned",{onCancel:()=>{n(t.noteId,!0)}})):(n(t.noteId,!0),hn("Note pinned",{onCancel:()=>{n(t.noteId,!1)}})),y(r,!0)},Au=(e,t,n)=>{navigator.clipboard.writeText(t.noteData.url),hn("Link copied"),y(n,!0)};var Tu=U('<li class="svelte-8ve3pe"><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>Copy link</button></li>'),Nu=(e,t,n)=>{y(t,!0),y(n,!0)},Lu=U('<li class="svelte-8ve3pe"><button><span class="wrapperIcon svelte-8ve3pe"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></span>Delete</button></li>'),Bu=(e,t,n)=>{y(t,!0),y(n,!0)},Mu=(e,t,n)=>{y(t,!0),y(n,!0)},Iu=U('<li class="svelte-8ve3pe"><button><span class="wrapperIcon svelte-8ve3pe"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></span>Restore</button></li> <li class="svelte-8ve3pe"><button><span class="wrapperIcon svelte-8ve3pe"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></span>Delete from bin</button></li>',1),Ou=U('<ul class="menu svelte-8ve3pe"><!> <li class="svelte-8ve3pe"><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> </button></li> <!></ul>'),Ru=U('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),Fu=U("<!> <!>",1);function zu(e,t){Z(t,!0);const n=(T,V=ye)=>{var X=Ou(),_e=x(X);{var ie=M=>{var G=Tu(),le=x(G);le.__click=[Au,t,u];var fe=x(le);be(fe,()=>({"--size":"22px"})),ke(fe.lastChild,{name:"copy"}),ve(()=>we(le,1,me(["button",{buttonMenuDialog:V()}]),"svelte-8ve3pe")),p(M,G)};q(_e,M=>{V()&&t.noteData.url&&M(ie)})}var ae=z(_e,2),R=x(ae);R.__click=[Du,t,o,u];var Q=x(R);{let M=O(()=>t.noteData.pinnedAt?"pin-cancel":"pin");be(Q,()=>({"--size":"22px"})),ke(Q.lastChild,{get name(){return s(M)}})}var oe=z(Q),ee=z(ae,2);{var Y=M=>{var G=Lu(),le=x(G);le.__click=[Nu,d,u];var fe=x(le),te=x(fe);be(te,()=>({"--size":"18px"})),ke(te.lastChild,{name:"bin"}),ve(()=>we(le,1,me(["button",{buttonMenuDialog:V()}]),"svelte-8ve3pe")),p(M,G)},K=M=>{var G=Iu(),le=B(G),fe=x(le);fe.__click=[Bu,v,u];var te=x(fe),k=x(te);be(k,()=>({"--size":"18px"})),ke(k.lastChild,{name:"bin-cancel"});var I=z(le,2),b=x(I);b.__click=[Mu,h,u];var P=x(b),j=x(P);be(j,()=>({"--size":"18px"})),ke(j.lastChild,{name:"bin"}),ve(()=>{we(fe,1,me(["button",{buttonMenuDialog:V()}]),"svelte-8ve3pe"),we(b,1,me(["button",{buttonMenuDialog:V()}]),"svelte-8ve3pe")}),p(M,G)};q(ee,M=>{l()==="notes"?M(Y):M(K,!1)})}ve(()=>{we(R,1,me(["button",{buttonMenuDialog:V()}]),"svelte-8ve3pe"),Gt(oe,` ${t.noteData.pinnedAt?"Unpin":"Pin"}`)}),p(T,X)},{moveNoteToBin:r,deleteNote:a,pinNote:o,restoreNoteFromBin:i}=Hr();let l=ce(t,"mode",3,"notes"),c=ce(t,"shownMenu",15),u=F(!1),d=F(!1),v=F(!1),h=F(!1);const{checkMobileSize:g}=Wn();let f=O(g);const _=()=>{a(t.noteId),hn("Draft deleted")},w=async()=>{r(t.noteId),hn("Note moved to bin",{onCancel:()=>{i(t.noteId)}})},S=()=>{i(t.noteId),hn("Note restored from bin",{onCancel:()=>{r(t.noteId)}})},C=()=>{s(d)?(y(d,!1),t.noteData.type==="draft"?_():w()):s(v)&&(y(v,!1),S()),c(!1),y(u,!1)};var m=Fu(),D=B(m);{var L=T=>{var V=H(),X=B(V);{var _e=ae=>{Aa(ae,{get startClose(){return s(u)},onClosed:C,children:(R,Q)=>{n(R,()=>!0)},$$slots:{default:!0}})},ie=ae=>{var R=Ru(),Q=B(R);be(Q,()=>({"--bottom":"-90px","--right":"20px"})),ps(Q.lastChild,{get startClose(){return s(u)},get positionTop(){return t.showMenuUp},onClosed:C,children:(oe,ee)=>{n(oe,()=>!1)},$$slots:{default:!0}}),p(ae,R)};q(X,ae=>{s(f)?ae(_e):ae(ie,!1)})}p(T,V)};q(D,T=>{c()&&T(L)})}var E=z(D,2);{var A=T=>{ms(T,{title:"Are you sure you want to delete this note?",buttonConfirmTitle:"Delete",onConfirm:()=>{a(t.noteId),y(h,!1)},onCancel:()=>{y(h,!1)}})};q(E,T=>{s(h)&&T(A)})}p(e,m),J()}nt(["click"]);const Hu=(e,t)=>{y(t,!0)},Uu=(e,t,n)=>{navigator.clipboard.writeText(t.noteData.url),hn("Link copied"),y(n,!1)},ju=(e,t)=>{y(t,!0)},Vu=(e,t)=>{y(t,!1)},qu=(e,t,n,r)=>{e.preventDefault(),t.noteData.type==="draft"?n(`${W.NewNote}`):n(`${W.EditNote}?id=${t.noteId}`),y(r,!1)};var Wu=U('<div class="iconPlaceholder svelte-1jg44o9"></div>'),Yu=U('<img loading="lazy" class="noteIcon" height="16" width="16" alt=""/>'),Ku=U('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),Gu=U('<div class="noteIconWrapper svelte-1jg44o9"><!></div>'),Xu=U('<button class="button svelte-1jg44o9"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),Zu=(e,t)=>{y(t,!1)},Ju=U('<!> <a target="_blank" rel="noopener noreferrer" class="button openLink svelte-1jg44o9"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a>',1),Qu=U('<li><!> <a class="noteLink svelte-1jg44o9" target="_blank" rel="noopener noreferrer"> </a> <div><!> <button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button></div> <!></li>');function $u(e,t){Z(t,!0);const{pushStackPages:n}=Lt(),{getFaviconEnabled:r}=Pl();let a=ce(t,"mode",3,"notes"),o=F(!1),i=F(!1),l=F(!1),c=O(r);const{checkMobileSize:u}=Wn(),d=T=>{try{return`https://icons.duckduckgo.com/ip3/${new URL(T).host}.ico`}catch{return""}},v=t.noteData.url||t.noteData.draft?.url||"";var h=Qu();h.__focusin=[ju,i],h.__focusout=[Vu,i];var g=x(h);{var f=T=>{var V=Gu(),X=x(V);{var _e=ae=>{var R=H(),Q=B(R);{var oe=Y=>{var K=Wu();p(Y,K)},ee=Y=>{var K=Yu();ve(M=>xe(K,"src",M),[()=>d(v)]),ba("error",K,()=>{y(l,!0)}),p(Y,K)};q(Q,Y=>{s(l)?Y(oe):Y(ee,!1)})}p(ae,R)},ie=ae=>{var R=Ku(),Q=B(R);be(Q,()=>({"--size":"16px"})),ke(Q.lastChild,{name:"note"}),p(ae,R)};q(X,ae=>{v?ae(_e):ae(ie,!1)})}p(T,V)};q(g,T=>{s(c)&&T(f)})}var _=z(g,2);_.__click=[qu,t,n,i];var w=x(_),S=z(_,2),C=x(S);{var m=T=>{var V=Ju(),X=B(V);{var _e=Q=>{var oe=Xu();oe.__click=[Uu,t,i];var ee=x(oe);be(ee,()=>({"--size":"20px"})),ke(ee.lastChild,{name:"copy"});var Y=z(ee,2);$e(Y,{children:(K,M)=>{var G=Ae("copy link");p(K,G)}}),ve(()=>xe(oe,"tabindex",t.focusHidden?-1:0)),p(Q,oe)};q(X,Q=>{u()||Q(_e)})}var ie=z(X,2);ie.__click=[Zu,i];var ae=x(ie);be(ae,()=>({"--size":"18px"})),ke(ae.lastChild,{name:"open"});var R=z(ae,2);$e(R,{children:(Q,oe)=>{var ee=Ae();ve(()=>Gt(ee,t.noteData.draft?.name||t.noteData.name||"unknown")),p(Q,ee)}}),ve(()=>{xe(ie,"href",v),xe(ie,"tabindex",t.focusHidden?-1:0)}),p(T,V)};q(C,T=>{v&&T(m)})}var D=z(C,2);D.__click=[Hu,o],we(D,1,me(["button","buttonMenu"]),"svelte-1jg44o9");var L=x(D);be(L,()=>({"--size":"18px","--rotate":"90deg"})),ke(L.lastChild,{name:"menu"});var E=z(L,2);$e(E,{children:(T,V)=>{var X=Ae("show menu");p(T,X)}});var A=z(S,2);zu(A,{get mode(){return a()},get noteId(){return t.noteId},get noteData(){return t.noteData},get showMenuUp(){return t.showMenuUp},get shownMenu(){return s(o)},set shownMenu(T){y(o,T,!0)}}),ve((T,V)=>{we(h,1,T,"svelte-1jg44o9"),xe(_,"tabindex",t.focusHidden?-1:0),xe(_,"href",V),Gt(w,t.noteData?.draft?.name||t.noteData?.name||"unknown"),we(S,1,me(["noteMenuWrapper",{noteMenuWrapperActive:s(i)}]),"svelte-1jg44o9"),xe(D,"tabindex",t.focusHidden?-1:0)},[()=>me(["record",{pinned:!!t.noteData.pinnedAt,draft:!!t.noteData.draft}]),()=>`/?stackPages=${encodeURIComponent(`${W.EditNote}?id=${t.noteId}`)}`]),p(e,h),J()}nt(["focusin","focusout","click"]);var ed=U('<p class="message">No notes in bin</p>'),td=U('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Add note</span>',1),nd=U('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span style="padding-left: 6px;">Import data</span>',1),rd=U('<p class="message">No notes found</p> <div class="wrapperButtonsAdd svelte-106i4nx"><!></div> <div>or</div> <div class="wrapperButtonsAdd svelte-106i4nx"><!></div>',1),ad=U('<div class="emptyStore svelte-106i4nx"><!></div>'),od=U('<div class="emptyMessage svelte-106i4nx">No notes found</div>'),sd=U('<div class="feed svelte-106i4nx"><ul class="svelte-106i4nx"></ul></div>'),id=U('<div class="wrapperFeed svelte-106i4nx"><div class="wrapperContainer svelte-106i4nx"><!></div></div>');function ld(e,t){Z(t,!0);let n=ce(t,"getNotes",3,()=>[]),r=ce(t,"mode",3,"notes");const{getScrollContainer:a}=xa(),{createHandlePage:o,getPageUrl:i}=Lt(),{getSelectedTags:l}=$o(),{getFeedOrder:c}=Zo(),u=Wo();let d=54,v=F(0),h=F(0),g=F(0),f=F(0),_=[],w=F(0),S=O(a),C=null,m=null;const D=O(l);Ne(()=>{s(D),s(T),s(S)?.scrollTo(0,0)});const{enable:L}=ls(),E=()=>{L(),C||(C=requestAnimationFrame(()=>{const M=s(S)?.scrollTop||0;y(g,M,!0);const G=Math.ceil(s(v)/d);y(h,Math.floor(M/(d*G))*(d*G)),C=null}))},A=()=>{m||(m=requestAnimationFrame(()=>{y(v,window.innerHeight-180||0,!0);const M=s(S)?.scrollTop||0;y(g,M,!0);const G=Math.ceil(s(v)/d);y(h,Math.floor(M/(d*G))*(d*G)),m=null}))};Ee(()=>{A(),E()}),Ne(()=>(s(S)?.addEventListener("scroll",E),window.addEventListener("resize",A),()=>{s(S)?.removeEventListener("scroll",E),window.removeEventListener("resize",A)}));const T=O(c);let V=F("");Ne(()=>{s(T);const M=n()()||[];Pt(()=>s(V))!==s(T)&&Pt(()=>y(V,s(T),!0)),M.sort((te,k)=>{if(!te||!k||!te.data||!k.data)return 0;if(te.data.pinnedAt&&!k.data.pinnedAt)return 1;if(!te.data.pinnedAt&&k.data.pinnedAt)return-1;if(te.data.pinnedAt&&k.data.pinnedAt){if(te.data.pinnedAt<k.data.pinnedAt)return-1;if(te.data.pinnedAt>k.data.pinnedAt)return 1}if(te.data.draft&&!k.data.draft)return 1;if(!te.data.draft&&k.data.draft)return-1;if(te.data.draft&&k.data.draft){if(te.data.draft.updatedAt<k.data.draft.updatedAt)return-1;if(te.data.draft.updatedAt>k.data.draft.updatedAt)return 1}switch(s(T)){case"newest":return te.data.updatedAt<k.data.updatedAt?-1:1;case"oldest":return te.data.updatedAt>k.data.updatedAt?-1:1;case"AtoZ":return k.data.name.localeCompare(te.data.name);case"ZtoA":return te.data.name.localeCompare(k.data.name);default:return 0}});const le=[],fe=Array.from(s(D).values());for(let te=M.length-1;te>=0;te--){if(!M[te]||!M[te].data)continue;const k=M[te];r()==="notes"&&k?.data.deletedAt||r()==="bin"&&!k?.data.deletedAt||s(D).size&&fe.some(I=>!k.data?.tags.includes(I))&&(!k.data.draft||fe.some(I=>!k.data?.draft?.tags.includes(I)))||u&&!(k.data.name.toLowerCase().includes(u.value.toLowerCase())||k.data.url.toLowerCase().includes(u.value.toLowerCase())||k.data.text.toLowerCase().includes(u.value.toLowerCase()))||le.push(k)}y(f,le.length,!0),_=le,y(w,Date.now(),!0)});const X=O(()=>s(f)*d);let ie=O(()=>{s(w);const M=Math.ceil(s(v)/d);let G=Math.floor(s(h)/d);return G=G-Math.min(G,M),_.slice(G,G+M*3)}),ae=O(()=>d*Math.ceil(s(v)/d));const R=O(()=>s(h)-Math.min(s(h),s(ae)));var Q=id(),oe=x(Q),ee=x(oe);{var Y=M=>{ws(M,{})},K=M=>{var G=H(),le=B(G);{var fe=k=>{var I=ad(),b=x(I);{var P=$=>{var ne=ed();p($,ne)},j=$=>{var ne=rd(),ge=z(B(ne),2),se=x(ge);{let Ke=O(()=>i(W.NewNote)),dt=O(()=>o(W.NewNote));Zt(se,{element:"a",get href(){return s(Ke)},get onClick(){return s(dt)},children:(Ge,rt)=>{var at=td(),ft=B(at);be(ft,()=>({"--size":"18px","--color":"#b0b0b0"})),ke(ft.lastChild,{name:"plus"}),p(Ge,at)},$$slots:{default:!0}})}var Me=z(ge,4),Pe=x(Me);{let Ke=O(()=>i(W.ImportData)),dt=O(()=>o(W.ImportData));Zt(Pe,{element:"a",get href(){return s(Ke)},get onClick(){return s(dt)},children:(Ge,rt)=>{var at=nd(),ft=B(at);be(ft,()=>({"--size":"18px","--color":"#b0b0b0"})),ke(ft.lastChild,{name:"import"}),p(Ge,at)},$$slots:{default:!0}})}p($,ne)};q(b,$=>{r()==="bin"?$(P):$(j,!1)})}p(k,I)},te=k=>{var I=H(),b=B(I);{var P=$=>{var ne=od();p($,ne)},j=$=>{var ne=sd(),ge=x(ne);Fr(ge,23,()=>s(ie),se=>se.data,(se,Me,Pe)=>{var Ke=H(),dt=B(Ke);{var Ge=rt=>{{let at=O(()=>s(Pe)*d<s(g)-s(R)-d/2||s(Pe)*d>s(g)-s(R)+Math.floor(s(v)/d)*d),ft=O(()=>(s(Pe)+3)*d<s(g)-s(R)-d/2||(s(Pe)+3)*d>s(g)-s(R)+Math.floor(s(v)/d)*d);$u(rt,{get mode(){return r()},get focusHidden(){return s(at)},get showMenuUp(){return s(ft)},get noteId(){return s(Me).id},get noteData(){return s(Me).data}})}};q(dt,rt=>{s(Me).data&&rt(Ge)})}p(se,Ke)}),ve(se=>{tr(ne,`min-height: ${se??""}px`),tr(ge,`transform: translateY(${s(R)??""}px);`)},[()=>Math.max((s(X)>s(v),s(X)),0)]),p($,ne)};q(b,$=>{s(ie).length===0?$(P):$(j,!1)},!0)}p(k,I)};q(le,k=>{(n()()||[]).length===0||r()==="notes"&&(n()()||[]).length-t.countNotesInBin()===0?k(fe):k(te,!1)},!0)}p(M,G)};q(ee,M=>{t.readyNotes?M(K,!1):M(Y)})}p(e,Q),J()}var cd=U('<!> <div class="content svelte-k57gez"><!></div>',1);function ud(e,t){Z(t,!0);const{getAppHistory:n}=pt(),{getGetNotes:r,isInitedNotes:a,countNotesInBin:o}=Hr(),i=O(a),l=O(r),c=O(()=>n().pathname);var u=cd(),d=B(u);{let g=O(()=>s(c)==="/bin"?"bin":"notes");xu(d,{get mode(){return s(g)},get getNotes(){return s(l)}})}var v=z(d,2),h=x(v);{let g=O(()=>s(c)==="/bin"?"bin":"notes");ld(h,{get mode(){return s(g)},get getNotes(){return s(l)},get countNotesInBin(){return o},get readyNotes(){return s(i)}})}p(e,u),J()}const $a=(e,t=ye,n=ye,r)=>{let a=Mr(()=>Rs(r?.(),!1));var o=H(),i=B(o);{var l=u=>{Ie(u,{children:(d,v)=>{He(d,{get hidden(){return s(a)},get page(){return W.Settings}})},$$slots:{default:!0}})},c=u=>{var d=H(),v=B(d);{var h=f=>{Ie(f,{children:(_,w)=>{He(_,{get hidden(){return s(a)},get page(){return W.NewNote}})},$$slots:{default:!0}})},g=f=>{var _=H(),w=B(_);{var S=m=>{Ie(m,{children:(D,L)=>{He(D,{get params(){return n()},get hidden(){return s(a)},get page(){return W.EditNote}})},$$slots:{default:!0}})},C=m=>{var D=H(),L=B(D);{var E=T=>{Ie(T,{children:(V,X)=>{He(V,{get hidden(){return s(a)},get page(){return W.ImportData}})},$$slots:{default:!0}})},A=T=>{var V=H(),X=B(V);{var _e=ae=>{Ie(ae,{children:(R,Q)=>{He(R,{get hidden(){return s(a)},get page(){return W.ExportData}})},$$slots:{default:!0}})},ie=ae=>{var R=H(),Q=B(R);{var oe=Y=>{Ie(Y,{children:(K,M)=>{He(K,{get hidden(){return s(a)},get page(){return W.ClearStore}})},$$slots:{default:!0}})},ee=Y=>{var K=H(),M=B(K);{var G=fe=>{Ie(fe,{children:(te,k)=>{iu(te,{})},$$slots:{default:!0}})},le=fe=>{var te=H(),k=B(te);{var I=P=>{Ie(P,{children:(j,$)=>{He(j,{get hidden(){return s(a)},get page(){return W.Auth}})},$$slots:{default:!0}})},b=P=>{var j=H(),$=B(j);{var ne=se=>{Ie(se,{children:(Me,Pe)=>{He(Me,{get hidden(){return s(a)},get page(){return W.Signup}})},$$slots:{default:!0}})},ge=se=>{var Me=H(),Pe=B(Me);{var Ke=Ge=>{Ie(Ge,{children:(rt,at)=>{He(rt,{get hidden(){return s(a)},get page(){return W.Signin}})},$$slots:{default:!0}})},dt=Ge=>{var rt=H(),at=B(rt);{var ft=Mt=>{Ie(Mt,{children:(bn,dr)=>{He(bn,{get hidden(){return s(a)},get page(){return W.AccessKeys}})},$$slots:{default:!0}})},ur=Mt=>{var bn=H(),dr=B(bn);{var De=ze=>{Ie(ze,{children:(It,mt)=>{He(It,{get hidden(){return s(a)},get page(){return W.Account}})},$$slots:{default:!0}})},Je=ze=>{var It=H(),mt=B(It);{var en=Ot=>{Ie(Ot,{children:(Rt,Ur)=>{He(Rt,{get hidden(){return s(a)},get page(){return W.ConfirmAccessKey}})},$$slots:{default:!0}})},tn=Ot=>{var Rt=H(),Ur=B(Rt);{var jr=Sn=>{Ie(Sn,{children:(fr,Ta)=>{He(fr,{get hidden(){return s(a)},get page(){return W.Exit}})},$$slots:{default:!0}})},bs=Sn=>{var fr=H(),Ta=B(fr);{var Ss=kn=>{Ie(kn,{children:(vr,Na)=>{He(vr,{get hidden(){return s(a)},get page(){return W.Sync}})},$$slots:{default:!0}})},ks=kn=>{var vr=H(),Na=B(vr);{var Cs=Cn=>{Ie(Cn,{children:(hr,La)=>{He(hr,{get hidden(){return s(a)},get page(){return W.Subscription}})},$$slots:{default:!0}})},Es=Cn=>{var hr=H(),La=B(hr);{var Ps=En=>{Ie(En,{children:(Vr,Ds)=>{He(Vr,{get hidden(){return s(a)},get page(){return W.About}})},$$slots:{default:!0}})},xs=En=>{Ie(En,{children:(Vr,Ds)=>{uu(Vr,{})},$$slots:{default:!0}})};q(La,En=>{t()===W.About?En(Ps):En(xs,!1)},!0)}p(Cn,hr)};q(Na,Cn=>{t()===W.Subscription?Cn(Cs):Cn(Es,!1)},!0)}p(kn,vr)};q(Ta,kn=>{t()===W.Sync?kn(Ss):kn(ks,!1)},!0)}p(Sn,fr)};q(Ur,Sn=>{t()===W.Exit?Sn(jr):Sn(bs,!1)},!0)}p(Ot,Rt)};q(mt,Ot=>{t()===W.ConfirmAccessKey?Ot(en):Ot(tn,!1)},!0)}p(ze,It)};q(dr,ze=>{t()===W.Account?ze(De):ze(Je,!1)},!0)}p(Mt,bn)};q(at,Mt=>{t()===W.AccessKeys?Mt(ft):Mt(ur,!1)},!0)}p(Ge,rt)};q(Pe,Ge=>{t()===W.Signin?Ge(Ke):Ge(dt,!1)},!0)}p(se,Me)};q($,se=>{t()===W.Signup?se(ne):se(ge,!1)},!0)}p(P,j)};q(k,P=>{t()===W.Auth?P(I):P(b,!1)},!0)}p(fe,te)};q(M,fe=>{t()===W.Start?fe(G):fe(le,!1)},!0)}p(Y,K)};q(Q,Y=>{t()===W.ClearStore?Y(oe):Y(ee,!1)},!0)}p(ae,R)};q(X,ae=>{t()===W.ExportData?ae(_e):ae(ie,!1)},!0)}p(T,V)};q(L,T=>{t()===W.ImportData?T(E):T(A,!1)},!0)}p(m,D)};q(w,m=>{t()===W.EditNote?m(S):m(C,!1)},!0)}p(f,_)};q(v,f=>{t()===W.NewNote?f(h):f(g,!1)},!0)}p(u,d)};q(i,u=>{t()===W.Settings?u(l):u(c,!1)})}p(e,o)};var dd=U("<!> <!>",1);function fd(e,t){Z(t,!0);const{getStackPages:n,popStackPages:r}=Lt(),{getAccount:a}=Pa();let o=O(n),i=O(()=>a()!==void 0);const{checkMobileSize:l}=Wn();var c=dd(),u=B(c);{var d=f=>{ud(f,{})};q(u,f=>{s(i)&&f(d)})}var v=z(u,2);{var h=f=>{var _=H(),w=B(_);Fr(w,19,()=>s(o),S=>S.page,(S,C,m)=>{const D=O(()=>s(C).page.split("?")[1]),L=O(()=>s(C).page.split("?")[0]);{let E=O(()=>s(m)!==s(o).length-1&&!!s(o)[s(m)+1]?.shown),A=O(()=>s(m)===0);Xa(S,{get shown(){return s(C).shown},get hidden(){return s(E)},get isLastDialog(){return s(A)},children:(T,V)=>{{let X=O(()=>s(m)!==s(o).length-1&&!!s(o)[s(m)+1]?.shown);$a(T,()=>s(L),()=>s(D),()=>s(X))}},$$slots:{default:!0}})}}),p(f,_)},g=f=>{var _=H(),w=B(_);{var S=C=>{const m=O(()=>s(o)[s(o).length-1].page.split("?")[1]),D=O(()=>s(o)[s(o).length-1].page.split("?")[0]);{let L=O(()=>s(o).length===1);Xa(C,{onBack:()=>r(),get shown(){return s(o)[s(o).length-1].shown},hidden:!1,get isLastDialog(){return s(L)},children:(E,A)=>{$a(E,()=>s(D),()=>s(m))},$$slots:{default:!0}})}};q(w,C=>{s(o).length>0&&C(S)},!0)}p(f,_)};q(v,f=>{l()?f(h):f(g,!1)})}p(e,c),J()}function vd(e,t){Z(t,!1);let n=0;Ee(()=>{document.addEventListener("touchstart",r=>{n=r.touches[0].clientX},{passive:!1}),document.addEventListener("touchmove",r=>{const o=r.touches[0].clientX-n;(n<50&&o>0||n>window.innerWidth-50&&o<0)&&r.preventDefault()},{passive:!1}),document.addEventListener("touchend",()=>{n=0}),document.addEventListener("touchcancel",()=>{n=0})}),ka(),J()}const hd=(e,t)=>{s(t)&&s(t).scrollTo({top:0})};var gd=U('<div class="wrapperButtonTop svelte-1n46o8q"><button class="buttonTop svelte-1n46o8q"><!> <span class="icon svelte-1n46o8q"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></span></button></div>'),_d=U('<!> <!> <main><div class="wrapperHeader svelte-1n46o8q"><!></div> <div class="container svelte-1n46o8q"><!></div></main> <!>',1);function pd(e,t){Z(t,!0);const{navigate:n}=pt(),{hasStackPage:r,pushStackPages:a,clearStackPages:o}=Lt(),{setScrollContainer:i}=xa(),{getAccount:l,init:c}=Pa(),{getStackPagesFormUrl:u}=Lt(),{createBroadcastChannel:d,tabId:v}=zr(),h=d(),{getSidebarState:g}=Ca();Ee(()=>{c(K=>{K===void 0?(n("/"),a("start")):(r("start")&&(o(),n("/")),K?y(C,K):y(C,null))});const Y=async K=>{const M=JSON.parse(K.data);if(M.tabId&&M.tabId===v)return;const G=M;G.type==="initLocalAccount"||G.type==="initCloudAccount"||G.type==="updateAccount"||G.type==="disconnectCloudAccount"?(o(),n("/")):G.type==="exit"&&(o(),n("/"),a("start"))};return h.addEventListener(Y),()=>h.removeEventListener(Y)});const f=qn();Ee(async()=>{await new Promise(Y=>setTimeout(Y,100)),await Io(),f.working=!0});let _=F(!1),w=0,S=O(()=>u().length>0),C=O(l),m=F(null);Ne(()=>{i(s(m))});const D=()=>{if(s(m)){const Y=s(m).scrollTop||0;Y===0?y(_,!1):!s(_)&&w>Y?y(_,!0):s(_)&&w+50<Y&&y(_,!1),w=Y}},L=()=>{D()};Ne(()=>(s(m)?.addEventListener("scroll",L),window.addEventListener("resize",L),()=>{s(m)?.removeEventListener("scroll",L),window.removeEventListener("resize",L)}));const E=O(g);var A=_d(),T=B(A);vd(T,{});var V=z(T,2);hc(V,{});var X=z(V,2),_e=x(X),ie=x(_e);{var ae=Y=>{Uc(Y,{})};q(ie,Y=>{s(C)!==void 0&&Y(ae)})}var R=z(_e,2),Q=x(R);fd(Q,{}),xt(X,Y=>y(m,Y),()=>s(m));var oe=z(X,2);{var ee=Y=>{var K=gd(),M=x(K);M.__click=[hd,m];var G=x(M);$e(G,{children:(te,k)=>{var I=Ae("top");p(te,I)}});var le=z(G,2),fe=x(le);be(fe,()=>({"--rotate":"90deg","--size":"28px"})),ke(fe.lastChild,{name:"back"}),p(Y,K)};q(oe,Y=>{s(_)&&Y(ee)})}ve(()=>{tr(X,`--swiping-ratio: ${f.swipingRatio}; --transition-timing-default: ${f.duration}s;`),we(X,1,me(["main",{isAnimationOn:f.working&&!f.isSwiping,open:s(S)||s(E).type!=="closed"}]),"svelte-1n46o8q")}),p(e,A),J()}nt(["click"]);function md(e){cc(e,{children:(t,n)=>{pd(t,{})}})}window.addEventListener("unhandledrejection",e=>{alert("Error: "+e.reason.message)});window.isUnsupportedBrowser||Zi(md,{target:document.getElementById("app")});export{Ca as $,Pa as A,Zt as B,Hr as C,ba as D,ka as E,bd as F,ce as G,ou as H,ke as I,we as J,me as K,ws as L,Sd as M,kd as N,tr as O,W as P,Ol as Q,Wn as R,xt as S,bl as T,ys as U,$e as V,il as W,zr as X,Pl as Y,qn as Z,oc as _,be as a,ls as a0,he as a1,_s as a2,xe as b,x as c,p as d,Fr as e,U as f,s as g,Lt as h,cr as i,F as j,Oe as k,y as l,q as m,J as n,Ee as o,Z as p,H as q,B as r,z as s,ve as t,Ne as u,nt as v,Ae as w,Gt as x,O as y,pt as z};
