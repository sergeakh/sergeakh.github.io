const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/MobileSidebar-CiZiI6f3.js","assets/MobileSidebar-CUCj13hK.css","assets/About-PBbW1vec.js","assets/About-DhrgDPiX.css","assets/AccessKeys-CeJVHEJC.js","assets/api-C5JaEwh0.js","assets/AccessKeys-DF5NA1tk.css","assets/Account-DXnYUj1x.js","assets/Account-LI89flHz.css","assets/ClearStore-BcvOptf0.js","assets/ClearStore-DiVqV26R.css","assets/ConfirmAccessKey-B2o35Xco.js","assets/Input-BRcP0O3z.js","assets/Input-KO0oOGze.css","assets/ConfirmAccessKey-BEOXyioc.css","assets/EditNote-DsPofl3A.js","assets/NoteForm-BIZlgP1b.js","assets/NoteForm-UykrpwC7.css","assets/Exit-Bu9Wmitk.js","assets/Exit-B7Im9AKN.css","assets/ExportData-B4nSPF-Q.js","assets/ExportData-Gq8zQKAw.css","assets/ImportData-DA6pQIgj.js","assets/ImportData-CZGzVRRc.css","assets/NewNote-CaPyVquf.js","assets/Signin-D6q7aeQ9.js","assets/Signin-CnX7iJxK.css","assets/Signup-DcwPJhgF.js","assets/Subscription-BavRcnlY.js","assets/Subscription-2ryrsj8c.css","assets/Sync-BOMLZYOx.js","assets/Sync-DZBzq12x.css"])))=>i.map(i=>d[i]);
var Fo=Object.defineProperty;var ka=e=>{throw TypeError(e)};var Uo=(e,t,n)=>t in e?Fo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var wn=(e,t,n)=>Uo(e,typeof t!="symbol"?t+"":t,n),yr=(e,t,n)=>t.has(e)||ka("Cannot "+n);var ne=(e,t,n)=>(yr(e,t,"read from private field"),n?n.call(e):t.get(e)),Le=(e,t,n)=>t.has(e)?ka("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Ke=(e,t,n,r)=>(yr(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),xt=(e,t,n)=>(yr(e,t,"access private method"),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(a){if(a.ep)return;a.ep=!0;const s=n(a);fetch(a.href,s)}})();const Ka=!1;var qr=Array.isArray,zo=Array.prototype.indexOf,Kr=Array.from,Nr=Object.defineProperty,nn=Object.getOwnPropertyDescriptor,Wa=Object.getOwnPropertyDescriptors,Ho=Object.prototype,Vo=Array.prototype,Wr=Object.getPrototypeOf,Ea=Object.isExtensible;const et=()=>{};function qo(e){return typeof e?.then=="function"}function Ko(e){return e()}function nr(e){for(var t=0;t<e.length;t++)e[t]()}function Wo(){var e,t,n=new Promise((r,a)=>{e=r,t=a});return{promise:n,resolve:e,reject:t}}function Yo(e,t,n=!1){return e===void 0?n?t():t:e}const ze=2,Yr=4,lr=8,hn=16,ht=32,zt=64,Ya=128,Ye=256,rr=512,Pe=1024,Ge=2048,Ct=4096,Je=8192,Ht=16384,Gr=32768,On=65536,Ca=1<<17,Go=1<<18,Mn=1<<19,Ga=1<<20,Dr=1<<21,Xr=1<<22,Lt=1<<23,Ot=Symbol("$state"),Xo=Symbol("legacy props"),Zo=Symbol(""),Zr=new class extends Error{constructor(){super(...arguments);wn(this,"name","StaleReactionError");wn(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function Jo(){throw new Error("https://svelte.dev/e/await_outside_boundary")}function Xa(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Qo(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function $o(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function ei(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function ti(e){throw new Error("https://svelte.dev/e/effect_orphan")}function ni(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function ri(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function ai(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function si(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function oi(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}const cr=1,ur=2,Za=4,ii=8,li=16,ci=1,ui=2,di=4,fi=8,vi=16,hi=1,gi=2,ye=Symbol(),_i="http://www.w3.org/1999/xhtml";let pi=!1;function Ja(e){return e===this.v}function mi(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Qa(e){return!mi(e,this.v)}let gn=!1,wi=!1;function yi(){gn=!0}let le=null;function un(e){le=e}function $a(e){return ts().get(e)}function es(e,t){return ts().set(e,t),t}function X(e,t=!1,n){le={p:le,c:null,e:null,s:e,x:null,l:gn&&!t?{s:null,u:null,$:[]}:null}}function Z(e){var t=le,n=t.e;if(n!==null){t.e=null;for(var r of n)_s(r)}return e!==void 0&&(t.x=e),le=t.p,e??{}}function _n(){return!gn||le!==null&&le.l===null}function ts(e){return le===null&&Xa(),le.c??(le.c=new Map(bi(le)||void 0))}function bi(e){let t=e.p;for(;t!==null;){const n=t.c;if(n!==null)return n;t=t.p}return null}const Si=new WeakMap;function ki(e){var t=ee;if(t===null)return J.f|=Lt,e;if((t.f&Gr)===0){if((t.f&Ya)===0)throw!t.parent&&e instanceof Error&&ns(e),e;t.b.error(e)}else Jr(e,t)}function Jr(e,t){for(;t!==null;){if((t.f&Ya)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e instanceof Error&&ns(e),e}function ns(e){const t=Si.get(e);t&&(Nr(e,"message",{value:t.message}),Nr(e,"stack",{value:t.stack}))}let kn=[],Lr=[];function rs(){var e=kn;kn=[],nr(e)}function Ei(){var e=Lr;Lr=[],nr(e)}function dr(e){kn.length===0&&queueMicrotask(rs),kn.push(e)}function Ci(){kn.length>0&&rs(),Lr.length>0&&Ei()}function Pi(){const e=ee.b;return e===null&&Jo(),e}function In(e){var t=ze|Ge,n=J!==null&&(J.f&ze)!==0?J:null;return ee===null||n!==null&&(n.f&Ye)!==0?t|=Ye:ee.f|=Mn,{ctx:le,deps:null,effects:null,equals:Ja,f:t,fn:e,reactions:null,rv:0,v:ye,wv:0,parent:n??ee,ac:null}}function xi(e,t){let n=ee;n===null&&Qo();var r=n.b,a=void 0,s=Ft(ye),i=null,l=!J;return zi(()=>{try{var c=e();i&&Promise.resolve(c).catch(()=>{})}catch(g){c=Promise.reject(g)}var u=()=>c;a=i?.then(u,u)??Promise.resolve(c),i=a;var d=ie,h=r.is_pending();l&&(r.update_pending_count(1),h||d.increment());const v=(g,f=void 0)=>{i=null,h||d.activate(),f?f!==Zr&&(s.f|=Lt,yt(s,f)):((s.f&Lt)!==0&&(s.f^=Lt),yt(s,g)),l&&(r.update_pending_count(-1),h||d.decrement()),os()};if(a.then(v,g=>v(null,g||"unknown")),d)return()=>{queueMicrotask(()=>d.neuter())}}),new Promise(c=>{function u(d){function h(){d===a?c(s):u(a)}d.then(h,h)}u(a)})}function O(e){const t=In(e);return Ss(t),t}function fr(e){const t=In(e);return t.equals=Qa,t}function as(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)it(t[n])}}function Ai(e){for(var t=e.parent;t!==null;){if((t.f&ze)===0)return t;t=t.parent}return null}function Qr(e){var t,n=ee;lt(Ai(e));try{as(e),t=Ps(e)}finally{lt(n)}return t}function ss(e){var t=Qr(e);if(e.equals(t)||(e.v=t,e.wv=Es()),!qt){var n=(pt||(e.f&Ye)!==0)&&e.deps!==null?Ct:Pe;Re(e,n)}}function Ti(e,t,n){const r=_n()?In:fr;if(t.length===0){n(e.map(r));return}var a=ie,s=ee,i=Ni(),l=Pi();Promise.all(t.map(c=>xi(c))).then(c=>{a?.activate(),i();try{n([...e.map(r),...c])}catch(u){(s.f&Ht)===0&&Jr(u,s)}a?.deactivate(),os()}).catch(c=>{l.error(c)})}function Ni(){var e=ee,t=J,n=le,r=ie;return function(){lt(e),Xe(t),un(n),r?.activate()}}function os(){lt(null),Xe(null),un(null)}const br=new Set;let ie=null,Qn=null,Pa=new Set,ar=[];function is(){const e=ar.shift();ar.length>0&&queueMicrotask(is),e()}let jt=[],vr=null,Or=!1,$n=!1;var An,on,gt,Tn,Nn,Nt,ln,Dt,_t,cn,Dn,Ln,$e,ls,er,Mr;const ir=class ir{constructor(){Le(this,$e);wn(this,"current",new Map);Le(this,An,new Map);Le(this,on,new Set);Le(this,gt,0);Le(this,Tn,null);Le(this,Nn,!1);Le(this,Nt,[]);Le(this,ln,[]);Le(this,Dt,[]);Le(this,_t,[]);Le(this,cn,[]);Le(this,Dn,[]);Le(this,Ln,[]);wn(this,"skipped_effects",new Set)}process(t){jt=[],Qn=null;for(const a of t)xt(this,$e,ls).call(this,a);if(ne(this,Nt).length===0&&ne(this,gt)===0){xt(this,$e,Mr).call(this);var n=ne(this,Dt),r=ne(this,_t);Ke(this,Dt,[]),Ke(this,_t,[]),Ke(this,cn,[]),Qn=ie,ie=null,xa(n),xa(r),ie===null?ie=this:br.delete(this),ne(this,Tn)?.resolve()}else xt(this,$e,er).call(this,ne(this,Dt)),xt(this,$e,er).call(this,ne(this,_t)),xt(this,$e,er).call(this,ne(this,cn));for(const a of ne(this,Nt))sn(a);for(const a of ne(this,ln))sn(a);Ke(this,Nt,[]),Ke(this,ln,[])}capture(t,n){ne(this,An).has(t)||ne(this,An).set(t,n),this.current.set(t,t.v)}activate(){ie=this}deactivate(){ie=null,Qn=null;for(const t of Pa)if(Pa.delete(t),t(),ie!==null)break}neuter(){Ke(this,Nn,!0)}flush(){jt.length>0?us():xt(this,$e,Mr).call(this),ie===this&&(ne(this,gt)===0&&br.delete(this),this.deactivate())}increment(){Ke(this,gt,ne(this,gt)+1)}decrement(){if(Ke(this,gt,ne(this,gt)-1),ne(this,gt)===0){for(const t of ne(this,Dn))Re(t,Ge),dn(t);for(const t of ne(this,Ln))Re(t,Ct),dn(t);Ke(this,Dt,[]),Ke(this,_t,[]),this.flush()}else this.deactivate()}add_callback(t){ne(this,on).add(t)}settled(){return(ne(this,Tn)??Ke(this,Tn,Wo())).promise}static ensure(){if(ie===null){const t=ie=new ir;br.add(ie),$n||ir.enqueue(()=>{ie===t&&t.flush()})}return ie}static enqueue(t){ar.length===0&&queueMicrotask(is),ar.unshift(t)}};An=new WeakMap,on=new WeakMap,gt=new WeakMap,Tn=new WeakMap,Nn=new WeakMap,Nt=new WeakMap,ln=new WeakMap,Dt=new WeakMap,_t=new WeakMap,cn=new WeakMap,Dn=new WeakMap,Ln=new WeakMap,$e=new WeakSet,ls=function(t){t.f^=Pe;for(var n=t.first;n!==null;){var r=n.f,a=(r&(ht|zt))!==0,s=a&&(r&Pe)!==0,i=s||(r&Je)!==0||this.skipped_effects.has(n);if(!i&&n.fn!==null){if(a)n.f^=Pe;else if((r&Yr)!==0)ne(this,_t).push(n);else if((r&Pe)===0)if((r&Xr)!==0){var l=n.b?.is_pending()?ne(this,ln):ne(this,Nt);l.push(n)}else _r(n)&&((n.f&hn)!==0&&ne(this,cn).push(n),sn(n));var c=n.first;if(c!==null){n=c;continue}}var u=n.parent;for(n=n.next;n===null&&u!==null;)n=u.next,u=u.parent}},er=function(t){for(const n of t)((n.f&Ge)!==0?ne(this,Dn):ne(this,Ln)).push(n),Re(n,Pe);t.length=0},Mr=function(){if(!ne(this,Nn))for(const t of ne(this,on))t();ne(this,on).clear()};let En=ir;function cs(e){var t=$n;$n=!0;try{for(var n;;){if(Ci(),jt.length===0&&(ie?.flush(),jt.length===0))return vr=null,n;us()}}finally{$n=t}}function us(){var e=an;Or=!0;try{var t=0;for(Na(!0);jt.length>0;){var n=En.ensure();if(t++>1e3){var r,a;Di()}n.process(jt),wt.clear()}}finally{Or=!1,Na(e),vr=null}}function Di(){try{ni()}catch(e){Jr(e,vr)}}let At=null;function xa(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if((r.f&(Ht|Je))===0&&_r(r)&&(At=[],sn(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?ws(r):r.fn=null),At?.length>0)){wt.clear();for(const a of At)sn(a);At=[]}}At=null}}function dn(e){for(var t=vr=e;t.parent!==null;){t=t.parent;var n=t.f;if(Or&&t===ee&&(n&hn)!==0)return;if((n&(zt|ht))!==0){if((n&Pe)===0)return;t.f^=Pe}}jt.push(t)}const wt=new Map;function Ft(e,t){var n={f:0,v:e,reactions:null,equals:Ja,rv:0,wv:0};return n}function M(e,t){const n=Ft(e);return Ss(n),n}function Ir(e,t=!1,n=!0){var a;const r=Ft(e);return t||(r.equals=Qa),gn&&n&&le!==null&&le.l!==null&&((a=le.l).s??(a.s=[])).push(r),r}function C(e,t,n=!1){J!==null&&(!at||(J.f&Ca)!==0)&&_n()&&(J.f&(ze|hn|Xr|Ca))!==0&&!ft?.includes(e)&&oi();let r=n?pe(t):t;return yt(e,r)}function yt(e,t){if(!e.equals(t)){var n=e.v;qt?wt.set(e,t):wt.set(e,n),e.v=t;var r=En.ensure();r.capture(e,n),(e.f&ze)!==0&&((e.f&Ge)!==0&&Qr(e),Re(e,(e.f&Ye)===0?Pe:Ct)),e.wv=Es(),ds(e,Ge),_n()&&ee!==null&&(ee.f&Pe)!==0&&(ee.f&(ht|zt))===0&&(We===null?qi([e]):We.push(e))}return t}function Sr(e){C(e,e.v+1)}function ds(e,t){var n=e.reactions;if(n!==null)for(var r=_n(),a=n.length,s=0;s<a;s++){var i=n[s],l=i.f;if(!(!r&&i===ee)){var c=(l&Ge)===0;c&&Re(i,t),(l&ze)!==0?ds(i,Ct):c&&((l&hn)!==0&&At!==null&&At.push(i),dn(i))}}}function pe(e){if(typeof e!="object"||e===null||Ot in e)return e;const t=Wr(e);if(t!==Ho&&t!==Vo)return e;var n=new Map,r=qr(e),a=M(0),s=It,i=l=>{if(It===s)return l();var c=J,u=It;Xe(null),La(s);var d=l();return Xe(c),La(u),d};return r&&n.set("length",M(e.length)),new Proxy(e,{defineProperty(l,c,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&ai();var d=n.get(c);return d===void 0?d=i(()=>{var h=M(u.value);return n.set(c,h),h}):C(d,u.value,!0),!0},deleteProperty(l,c){var u=n.get(c);if(u===void 0){if(c in l){const d=i(()=>M(ye));n.set(c,d),Sr(a)}}else C(u,ye),Sr(a);return!0},get(l,c,u){if(c===Ot)return e;var d=n.get(c),h=c in l;if(d===void 0&&(!h||nn(l,c)?.writable)&&(d=i(()=>{var g=pe(h?l[c]:ye),f=M(g);return f}),n.set(c,d)),d!==void 0){var v=o(d);return v===ye?void 0:v}return Reflect.get(l,c,u)},getOwnPropertyDescriptor(l,c){var u=Reflect.getOwnPropertyDescriptor(l,c);if(u&&"value"in u){var d=n.get(c);d&&(u.value=o(d))}else if(u===void 0){var h=n.get(c),v=h?.v;if(h!==void 0&&v!==ye)return{enumerable:!0,configurable:!0,value:v,writable:!0}}return u},has(l,c){if(c===Ot)return!0;var u=n.get(c),d=u!==void 0&&u.v!==ye||Reflect.has(l,c);if(u!==void 0||ee!==null&&(!d||nn(l,c)?.writable)){u===void 0&&(u=i(()=>{var v=d?pe(l[c]):ye,g=M(v);return g}),n.set(c,u));var h=o(u);if(h===ye)return!1}return d},set(l,c,u,d){var h=n.get(c),v=c in l;if(r&&c==="length")for(var g=u;g<h.v;g+=1){var f=n.get(g+"");f!==void 0?C(f,ye):g in l&&(f=i(()=>M(ye)),n.set(g+"",f))}if(h===void 0)(!v||nn(l,c)?.writable)&&(h=i(()=>M(void 0)),C(h,pe(u)),n.set(c,h));else{v=h.v!==ye;var p=i(()=>pe(u));C(h,p)}var w=Reflect.getOwnPropertyDescriptor(l,c);if(w?.set&&w.set.call(d,u),!v){if(r&&typeof c=="string"){var b=n.get("length"),S=Number(c);Number.isInteger(S)&&S>=b.v&&C(b,S+1)}Sr(a)}return!0},ownKeys(l){o(a);var c=Reflect.ownKeys(l).filter(h=>{var v=n.get(h);return v===void 0||v.v!==ye});for(var[u,d]of n)d.v!==ye&&!(u in l)&&c.push(u);return c},setPrototypeOf(){si()}})}var Aa,fs,vs,hs;function Li(){if(Aa===void 0){Aa=window,fs=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;vs=nn(t,"firstChild").get,hs=nn(t,"nextSibling").get,Ea(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Ea(n)&&(n.__t=void 0)}}function Vt(e=""){return document.createTextNode(e)}function fn(e){return vs.call(e)}function hr(e){return hs.call(e)}function y(e,t){return fn(e)}function L(e,t){{var n=fn(e);return n instanceof Comment&&n.data===""?hr(n):n}}function A(e,t=1,n=!1){let r=e;for(;t--;)r=hr(r);return r}function Oi(e){e.textContent=""}function $r(){return!1}let Ta=!1;function Mi(){Ta||(Ta=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function gr(e){var t=J,n=ee;Xe(null),lt(null);try{return e()}finally{Xe(t),lt(n)}}function Ii(e,t,n,r=n){e.addEventListener(t,()=>gr(n));const a=e.__on_r;a?e.__on_r=()=>{a(),r(!0)}:e.__on_r=()=>r(!0),Mi()}function gs(e){ee===null&&J===null&&ti(),J!==null&&(J.f&Ye)!==0&&ee===null&&ei(),qt&&$o()}function Ri(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function ct(e,t,n,r=!0){var a=ee;a!==null&&(a.f&Je)!==0&&(e|=Je);var s={ctx:le,deps:null,nodes_start:null,nodes_end:null,f:e|Ge,first:null,fn:t,last:null,next:null,parent:a,b:a&&a.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{sn(s),s.f|=Gr}catch(c){throw it(s),c}else t!==null&&dn(s);if(r){var i=s;if(n&&i.deps===null&&i.teardown===null&&i.nodes_start===null&&i.first===i.last&&(i.f&Mn)===0&&(i=i.first),i!==null&&(i.parent=a,a!==null&&Ri(i,a),J!==null&&(J.f&ze)!==0&&(e&zt)===0)){var l=J;(l.effects??(l.effects=[])).push(i)}}return s}function Bi(e){const t=ct(lr,null,!1);return Re(t,Pe),t.teardown=e,t}function Ee(e){gs();var t=ee.f,n=!J&&(t&ht)!==0&&(t&Gr)===0;if(n){var r=le;(r.e??(r.e=[])).push(e)}else return _s(e)}function _s(e){return ct(Yr|Ga,e,!1)}function ji(e){return gs(),ct(lr|Ga,e,!0)}function Fi(e){En.ensure();const t=ct(zt|Mn,e,!0);return(n={})=>new Promise(r=>{n.outro?Mt(t,()=>{it(t),r(void 0)}):(it(t),r(void 0))})}function Ui(e){return ct(Yr,e,!1)}function zi(e){return ct(Xr|Mn,e,!0)}function ea(e,t=0){return ct(lr|t,e,!0)}function se(e,t=[],n=[]){Ti(t,n,r=>{ct(lr,()=>e(...r.map(o)),!0)})}function Rn(e,t=0){var n=ct(hn|t,e,!0);return n}function ot(e,t=!0){return ct(ht|Mn,e,!0,t)}function ps(e){var t=e.teardown;if(t!==null){const n=qt,r=J;Da(!0),Xe(null);try{t.call(null)}finally{Da(n),Xe(r)}}}function ms(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const a=n.ac;a!==null&&gr(()=>{a.abort(Zr)});var r=n.next;(n.f&zt)!==0?n.parent=null:it(n,t),n=r}}function Hi(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&ht)===0&&it(t),t=n}}function it(e,t=!0){var n=!1;(t||(e.f&Go)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(Vi(e.nodes_start,e.nodes_end),n=!0),ms(e,t&&!n),sr(e,0),Re(e,Ht);var r=e.transitions;if(r!==null)for(const s of r)s.stop();ps(e);var a=e.parent;a!==null&&a.first!==null&&ws(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function Vi(e,t){for(;e!==null;){var n=e===t?null:hr(e);e.remove(),e=n}}function ws(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function Mt(e,t){var n=[];ta(e,n,!0),ys(n,()=>{it(e),t&&t()})}function ys(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var a of e)a.out(r)}else t()}function ta(e,t,n){if((e.f&Je)===0){if(e.f^=Je,e.transitions!==null)for(const i of e.transitions)(i.is_global||n)&&t.push(i);for(var r=e.first;r!==null;){var a=r.next,s=(r.f&On)!==0||(r.f&ht)!==0;ta(r,t,s?n:!1),r=a}}}function rn(e){bs(e,!0)}function bs(e,t){if((e.f&Je)!==0){e.f^=Je,(e.f&Pe)===0&&(Re(e,Ge),dn(e));for(var n=e.first;n!==null;){var r=n.next,a=(n.f&On)!==0||(n.f&ht)!==0;bs(n,a?t:!1),n=r}if(e.transitions!==null)for(const s of e.transitions)(s.is_global||t)&&s.in()}}let an=!1;function Na(e){an=e}let qt=!1;function Da(e){qt=e}let J=null,at=!1;function Xe(e){J=e}let ee=null;function lt(e){ee=e}let ft=null;function Ss(e){J!==null&&(ft===null?ft=[e]:ft.push(e))}let xe=null,Ue=0,We=null;function qi(e){We=e}let ks=1,Cn=0,It=Cn;function La(e){It=e}let pt=!1;function Es(){return++ks}function _r(e){var t=e.f;if((t&Ge)!==0)return!0;if((t&Ct)!==0){var n=e.deps,r=(t&Ye)!==0;if(n!==null){var a,s,i=(t&rr)!==0,l=r&&ee!==null&&!pt,c=n.length;if((i||l)&&(ee===null||(ee.f&Ht)===0)){var u=e,d=u.parent;for(a=0;a<c;a++)s=n[a],(i||!s?.reactions?.includes(u))&&(s.reactions??(s.reactions=[])).push(u);i&&(u.f^=rr),l&&d!==null&&(d.f&Ye)===0&&(u.f^=Ye)}for(a=0;a<c;a++)if(s=n[a],_r(s)&&ss(s),s.wv>e.wv)return!0}(!r||ee!==null&&!pt)&&Re(e,Pe)}return!1}function Cs(e,t,n=!0){var r=e.reactions;if(r!==null&&!ft?.includes(e))for(var a=0;a<r.length;a++){var s=r[a];(s.f&ze)!==0?Cs(s,t,!1):t===s&&(n?Re(s,Ge):(s.f&Pe)!==0&&Re(s,Ct),dn(s))}}function Ps(e){var p;var t=xe,n=Ue,r=We,a=J,s=pt,i=ft,l=le,c=at,u=It,d=e.f;xe=null,Ue=0,We=null,pt=(d&Ye)!==0&&(at||!an||J===null),J=(d&(ht|zt))===0?e:null,ft=null,un(e.ctx),at=!1,It=++Cn,e.ac!==null&&(gr(()=>{e.ac.abort(Zr)}),e.ac=null);try{e.f|=Dr;var h=e.fn,v=h(),g=e.deps;if(xe!==null){var f;if(sr(e,Ue),g!==null&&Ue>0)for(g.length=Ue+xe.length,f=0;f<xe.length;f++)g[Ue+f]=xe[f];else e.deps=g=xe;if(!pt||(d&ze)!==0&&e.reactions!==null)for(f=Ue;f<g.length;f++)((p=g[f]).reactions??(p.reactions=[])).push(e)}else g!==null&&Ue<g.length&&(sr(e,Ue),g.length=Ue);if(_n()&&We!==null&&!at&&g!==null&&(e.f&(ze|Ct|Ge))===0)for(f=0;f<We.length;f++)Cs(We[f],e);return a!==null&&a!==e&&(Cn++,We!==null&&(r===null?r=We:r.push(...We))),(e.f&Lt)!==0&&(e.f^=Lt),v}catch(w){return ki(w)}finally{e.f^=Dr,xe=t,Ue=n,We=r,J=a,pt=s,ft=i,un(l),at=c,It=u}}function Ki(e,t){let n=t.reactions;if(n!==null){var r=zo.call(n,e);if(r!==-1){var a=n.length-1;a===0?n=t.reactions=null:(n[r]=n[a],n.pop())}}n===null&&(t.f&ze)!==0&&(xe===null||!xe.includes(t))&&(Re(t,Ct),(t.f&(Ye|rr))===0&&(t.f^=rr),as(t),sr(t,0))}function sr(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)Ki(e,n[r])}function sn(e){var t=e.f;if((t&Ht)===0){Re(e,Pe);var n=ee,r=an;ee=e,an=!0;try{(t&hn)!==0?Hi(e):ms(e),ps(e);var a=Ps(e);e.teardown=typeof a=="function"?a:null,e.wv=ks;var s;Ka&&wi&&(e.f&Ge)!==0&&e.deps}finally{an=r,ee=n}}}async function xs(){await Promise.resolve(),cs()}function o(e){var t=e.f,n=(t&ze)!==0;if(J!==null&&!at){var r=ee!==null&&(ee.f&Ht)!==0;if(!r&&!ft?.includes(e)){var a=J.deps;if((J.f&Dr)!==0)e.rv<Cn&&(e.rv=Cn,xe===null&&a!==null&&a[Ue]===e?Ue++:xe===null?xe=[e]:(!pt||!xe.includes(e))&&xe.push(e));else{(J.deps??(J.deps=[])).push(e);var s=e.reactions;s===null?e.reactions=[J]:s.includes(J)||s.push(J)}}}else if(n&&e.deps===null&&e.effects===null){var i=e,l=i.parent;l!==null&&(l.f&Ye)===0&&(i.f^=Ye)}if(qt){if(wt.has(e))return wt.get(e);if(n){i=e;var c=i.v;return((i.f&Pe)===0&&i.reactions!==null||As(i))&&(c=Qr(i)),wt.set(i,c),c}}else n&&(i=e,_r(i)&&ss(i));if((e.f&Lt)!==0)throw e.v;return e.v}function As(e){if(e.v===ye)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(wt.has(t)||(t.f&ze)!==0&&As(t))return!0;return!1}function Ut(e){var t=at;try{return at=!0,e()}finally{at=t}}const Wi=-7169;function Re(e,t){e.f=e.f&Wi|t}function Yi(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Ot in e)Rr(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&Ot in n&&Rr(n)}}}function Rr(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{Rr(e[r],t)}catch{}const n=Wr(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=Wa(n);for(let a in r){const s=r[a].get;if(s)try{s.call(e)}catch{}}}}}const Gi=["touchstart","touchmove"];function Xi(e){return Gi.includes(e)}const Ts=new Set,Br=new Set;function Zi(e,t,n,r={}){function a(s){if(r.capture||bn.call(t,s),!s.cancelBubble)return gr(()=>n?.call(this,s))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?dr(()=>{t.addEventListener(e,a,r)}):t.addEventListener(e,a,r),a}function na(e,t,n,r,a){var s={capture:r,passive:a},i=Zi(e,t,n,s);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&Bi(()=>{t.removeEventListener(e,i,s)})}function Te(e){for(var t=0;t<e.length;t++)Ts.add(e[t]);for(var n of Br)n(e)}let Oa=null;function bn(e){var t=this,n=t.ownerDocument,r=e.type,a=e.composedPath?.()||[],s=a[0]||e.target;Oa=e;var i=0,l=Oa===e&&e.__root;if(l){var c=a.indexOf(l);if(c!==-1&&(t===document||t===window)){e.__root=t;return}var u=a.indexOf(t);if(u===-1)return;c<=u&&(i=c)}if(s=a[i]||e.target,s!==t){Nr(e,"currentTarget",{configurable:!0,get(){return s||n}});var d=J,h=ee;Xe(null),lt(null);try{for(var v,g=[];s!==null;){var f=s.assignedSlot||s.parentNode||s.host||null;try{var p=s["__"+r];if(p!=null&&(!s.disabled||e.target===s))if(qr(p)){var[w,...b]=p;w.apply(s,[e,...b])}else p.call(s,e)}catch(S){v?g.push(S):v=S}if(e.cancelBubble||f===t||f===null)break;s=f}if(v){for(let S of g)queueMicrotask(()=>{throw S});throw v}}finally{e.__root=t,delete e.currentTarget,Xe(d),lt(h)}}}function Ns(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function Pn(e,t){var n=ee;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function I(e,t){var n=(t&hi)!==0,r=(t&gi)!==0,a,s=!e.startsWith("<!>");return()=>{a===void 0&&(a=Ns(s?e:"<!>"+e),n||(a=fn(a)));var i=r||fs?document.importNode(a,!0):a.cloneNode(!0);if(n){var l=fn(i),c=i.lastChild;Pn(l,c)}else Pn(i,i);return i}}function Ji(e,t,n="svg"){var r=!e.startsWith("<!>"),a=`<${n}>${r?e:"<!>"+e}</${n}>`,s;return()=>{if(!s){var i=Ns(a),l=fn(i);s=fn(l)}var c=s.cloneNode(!0);return Pn(c,c),c}}function Qi(e,t){return Ji(e,t,"svg")}function Ce(e=""){{var t=Vt(e+"");return Pn(t,t),t}}function q(){var e=document.createDocumentFragment(),t=document.createComment(""),n=Vt();return e.append(t,n),Pn(t,n),e}function m(e,t){e!==null&&e.before(t)}function ld(){var e;return(e=window.__svelte??(window.__svelte={})).uid??(e.uid=1),`c${window.__svelte.uid++}`}function vn(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function $i(e,t){return el(e,t)}const $t=new Map;function el(e,{target:t,anchor:n,props:r={},events:a,context:s,intro:i=!0}){Li();var l=new Set,c=h=>{for(var v=0;v<h.length;v++){var g=h[v];if(!l.has(g)){l.add(g);var f=Xi(g);t.addEventListener(g,bn,{passive:f});var p=$t.get(g);p===void 0?(document.addEventListener(g,bn,{passive:f}),$t.set(g,1)):$t.set(g,p+1)}}};c(Kr(Ts)),Br.add(c);var u=void 0,d=Fi(()=>{var h=n??t.appendChild(Vt());return ot(()=>{if(s){X({});var v=le;v.c=s}a&&(r.$$events=a),u=e(h,r)||{},s&&Z()}),()=>{for(var v of l){t.removeEventListener(v,bn);var g=$t.get(v);--g===0?(document.removeEventListener(v,bn),$t.delete(v)):$t.set(v,g)}Br.delete(c),h!==n&&h.parentNode?.removeChild(h)}});return tl.set(u,d),u}let tl=new WeakMap;const kr=0,Xn=1,Er=2;function Ds(e,t,n,r,a){var s=e,i=_n(),l=le,c=ye,u,d,h,v=i?Ft(void 0):Ir(void 0,!1,!1),g=i?Ft(void 0):Ir(void 0,!1,!1),f=!1;function p(b,S){f=!0,S&&(lt(w),Xe(w),un(l));try{b===kr&&n&&(u?rn(u):u=ot(()=>n(s))),b===Xn&&r&&(d?rn(d):d=ot(()=>r(s,v))),b===Er&&a&&(h?rn(h):h=ot(()=>a(s,g))),b!==kr&&u&&Mt(u,()=>u=null),b!==Xn&&d&&Mt(d,()=>d=null),b!==Er&&h&&Mt(h,()=>h=null)}finally{S&&(un(null),Xe(null),lt(null),cs())}}var w=Rn(()=>{if(c!==(c=t())){if(qo(c)){var b=c;f=!1,b.then(S=>{b===c&&(yt(v,S),p(Xn,!0))},S=>{if(b===c&&(yt(g,S),p(Er,!0),!a))throw g.v}),dr(()=>{f||p(kr,!0)})}else yt(v,c),p(Xn,!1);return()=>c=ye}})}function R(e,t,n=!1){var r=e,a=null,s=null,i=ye,l=n?On:0,c=!1;const u=(g,f=!0)=>{c=!0,v(f,g)};var d=null;function h(){d!==null&&(d.lastChild.remove(),r.before(d),d=null);var g=i?a:s,f=i?s:a;g&&rn(g),f&&Mt(f,()=>{i?s=null:a=null})}const v=(g,f)=>{if(i!==(i=g)){var p=$r(),w=r;if(p&&(d=document.createDocumentFragment(),d.append(w=Vt())),i?a??(a=f&&ot(()=>f(w))):s??(s=f&&ot(()=>f(w))),p){var b=ie,S=i?a:s,_=i?s:a;S&&b.skipped_effects.delete(S),_&&b.skipped_effects.add(_),b.add_callback(h)}else h()}};Rn(()=>{c=!1,t(u),c||v(null,null)},l)}function oe(e,t){ea(()=>{var n=t();for(var r in n){var a=n[r];a?e.style.setProperty(r,a):e.style.removeProperty(r)}})}function nl(e,t,n){for(var r=e.items,a=[],s=t.length,i=0;i<s;i++)ta(t[i].e,a,!0);var l=s>0&&a.length===0&&n!==null;if(l){var c=n.parentNode;Oi(c),c.append(n),r.clear(),rt(e,t[0].prev,t[s-1].next)}ys(a,()=>{for(var u=0;u<s;u++){var d=t[u];l||(r.delete(d.k),rt(e,d.prev,d.next)),it(d.e,!l)}})}function tn(e,t,n,r,a,s=null){var i=e,l={flags:t,items:new Map,first:null},c=(t&Za)!==0;if(c){var u=e;i=u.appendChild(Vt())}var d=null,h=!1,v=new Map,g=fr(()=>{var b=n();return qr(b)?b:b==null?[]:Kr(b)}),f,p;function w(){rl(p,f,l,v,i,a,t,r,n),s!==null&&(f.length===0?d?rn(d):d=ot(()=>s(i)):d!==null&&Mt(d,()=>{d=null}))}Rn(()=>{p??(p=ee),f=o(g);var b=f.length;if(!(h&&b===0)){h=b===0;var S,_,x,E;if($r()){var k=new Set,P=ie;for(_=0;_<b;_+=1){x=f[_],E=r(x,_);var N=l.items.get(E)??v.get(E);N?(t&(cr|ur))!==0&&Ls(N,x,_,t):(S=Os(null,l,null,null,x,E,_,a,t,n,!0),v.set(E,S)),k.add(E)}for(const[V,U]of l.items)k.has(V)||P.skipped_effects.add(U.e);P.add_callback(w)}else w();o(g)}})}function rl(e,t,n,r,a,s,i,l,c){var u=(i&ii)!==0,d=(i&(cr|ur))!==0,h=t.length,v=n.items,g=n.first,f=g,p,w=null,b,S=[],_=[],x,E,k,P;if(u)for(P=0;P<h;P+=1)x=t[P],E=l(x,P),k=v.get(E),k!==void 0&&(k.a?.measure(),(b??(b=new Set)).add(k));for(P=0;P<h;P+=1){if(x=t[P],E=l(x,P),k=v.get(E),k===void 0){var N=r.get(E);if(N!==void 0){r.delete(E),v.set(E,N);var V=w?w.next:f;rt(n,w,N),rt(n,N,V),Cr(N,V,a),w=N}else{var U=f?f.e.nodes_start:a;w=Os(U,n,w,w===null?n.first:w.next,x,E,P,s,i,c)}v.set(E,w),S=[],_=[],f=w.next;continue}if(d&&Ls(k,x,P,i),(k.e.f&Je)!==0&&(rn(k.e),u&&(k.a?.unfix(),(b??(b=new Set)).delete(k))),k!==f){if(p!==void 0&&p.has(k)){if(S.length<_.length){var Y=_[0],j;w=Y.prev;var z=S[0],B=S[S.length-1];for(j=0;j<S.length;j+=1)Cr(S[j],Y,a);for(j=0;j<_.length;j+=1)p.delete(_[j]);rt(n,z.prev,B.next),rt(n,w,z),rt(n,B,Y),f=Y,w=B,P-=1,S=[],_=[]}else p.delete(k),Cr(k,f,a),rt(n,k.prev,k.next),rt(n,k,w===null?n.first:w.next),rt(n,w,k),w=k;continue}for(S=[],_=[];f!==null&&f.k!==E;)(f.e.f&Je)===0&&(p??(p=new Set)).add(f),_.push(f),f=f.next;if(f===null)continue;k=f}S.push(k),w=k,f=k.next}if(f!==null||p!==void 0){for(var W=p===void 0?[]:Kr(p);f!==null;)(f.e.f&Je)===0&&W.push(f),f=f.next;var de=W.length;if(de>0){var G=(i&Za)!==0&&h===0?a:null;if(u){for(P=0;P<de;P+=1)W[P].a?.measure();for(P=0;P<de;P+=1)W[P].a?.fix()}nl(n,W,G)}}u&&dr(()=>{if(b!==void 0)for(k of b)k.a?.apply()}),e.first=n.first&&n.first.e,e.last=w&&w.e;for(var F of r.values())it(F.e);r.clear()}function Ls(e,t,n,r){(r&cr)!==0&&yt(e.v,t),(r&ur)!==0?yt(e.i,n):e.i=n}function Os(e,t,n,r,a,s,i,l,c,u,d){var h=(c&cr)!==0,v=(c&li)===0,g=h?v?Ir(a,!1,!1):Ft(a):a,f=(c&ur)===0?i:Ft(i),p={i:f,v:g,k:s,a:null,e:null,prev:n,next:r};try{if(e===null){var w=document.createDocumentFragment();w.append(e=Vt())}return p.e=ot(()=>l(e,g,f,u),pi),p.e.prev=n&&n.e,p.e.next=r&&r.e,n===null?d||(t.first=p):(n.next=p,n.e.next=p.e),r!==null&&(r.prev=p,r.e.prev=p.e),p}finally{}}function Cr(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,a=t?t.e.nodes_start:n,s=e.e.nodes_start;s!==null&&s!==r;){var i=hr(s);a.before(s),s=i}}function rt(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function Ae(e,t,...n){var r=e,a=et,s;Rn(()=>{a!==(a=t())&&(s&&(it(s),s=null),s=ot(()=>a(r,...n)))},On)}function Ms(e,t,n){var r=e,a,s,i=null,l=null;function c(){s&&(Mt(s),s=null),i&&(i.lastChild.remove(),r.before(i),i=null),s=l,l=null}Rn(()=>{if(a!==(a=t())){var u=$r();if(a){var d=r;u&&(i=document.createDocumentFragment(),i.append(d=Vt()),s&&ie.skipped_effects.add(s)),l=ot(()=>n(d,a))}u?ie.add_callback(c):c()}},On)}function Is(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=Is(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function al(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=Is(e))&&(r&&(r+=" "),r+=t);return r}function Q(e){return typeof e=="object"?al(e):e??""}const Ma=[...` 	
\r\f \v\uFEFF`];function sl(e,t,n){var r=e==null?"":""+e;if(t&&(r=r?r+" "+t:t),n){for(var a in n)if(n[a])r=r?r+" "+a:a;else if(r.length)for(var s=a.length,i=0;(i=r.indexOf(a,i))>=0;){var l=i+s;(i===0||Ma.includes(r[i-1]))&&(l===r.length||Ma.includes(r[l]))?r=(i===0?"":r.substring(0,i))+r.substring(l+1):i=l}}return r===""?null:r}function ol(e,t){return e==null?null:String(e)}function $(e,t,n,r,a,s){var i=e.__className;if(i!==n||i===void 0){var l=sl(n,r,s);l==null?e.removeAttribute("class"):e.className=l,e.__className=n}else if(s&&a!==s)for(var c in s){var u=!!s[c];(a==null||u!==!!a[c])&&e.classList.toggle(c,u)}return s}function xn(e,t,n,r){var a=e.__style;if(a!==t){var s=ol(t);s==null?e.removeAttribute("style"):e.style.cssText=s,e.__style=t}return r}const il=Symbol("is custom element"),ll=Symbol("is html");function Pr(e,t){var n=ra(e);n.value===(n.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function tr(e,t){var n=ra(e);n.checked!==(n.checked=t??void 0)&&(e.checked=t)}function _e(e,t,n,r){var a=ra(e);a[t]!==(a[t]=n)&&(t==="loading"&&(e[Zo]=n),n==null?e.removeAttribute(t):typeof n!="string"&&cl(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function ra(e){return e.__attributes??(e.__attributes={[il]:e.nodeName.includes("-"),[ll]:e.namespaceURI===_i})}var Ia=new Map;function cl(e){var t=e.getAttribute("is")||e.nodeName,n=Ia.get(t);if(n)return n;Ia.set(t,n=[]);for(var r,a=e,s=Element.prototype;s!==a;){r=Wa(a);for(var i in r)r[i].set&&n.push(i);a=Wr(a)}return n}function ul(e,t,n=t){var r=new WeakSet;Ii(e,"input",async a=>{var s=a?e.defaultValue:e.value;if(s=xr(e)?Ar(s):s,n(s),ie!==null&&r.add(ie),await xs(),s!==(s=t())){var i=e.selectionStart,l=e.selectionEnd;e.value=s??"",l!==null&&(e.selectionStart=i,e.selectionEnd=Math.min(l,e.value.length))}}),Ut(t)==null&&e.value&&(n(xr(e)?Ar(e.value):e.value),ie!==null&&r.add(ie)),ea(()=>{var a=t();if(e===document.activeElement){var s=Qn??ie;if(r.has(s))return}xr(e)&&a===Ar(e.value)||e.type==="date"&&!a&&!e.value||a!==e.value&&(e.value=a??"")})}function xr(e){var t=e.type;return t==="number"||t==="range"}function Ar(e){return e===""?null:+e}function Ra(e,t){return e===t||e?.[Ot]===t}function tt(e={},t,n,r){return Ui(()=>{var a,s;return ea(()=>{a=s,s=[],Ut(()=>{e!==n(...s)&&(t(e,...s),a&&Ra(n(...a),e)&&t(null,...a))})}),()=>{dr(()=>{s&&Ra(n(...s),e)&&t(null,...s)})}}),e}function Bn(e=!1){const t=le,n=t.l.u;if(!n)return;let r=()=>Yi(t.s);if(e){let a=0,s={};const i=In(()=>{let l=!1;const c=t.s;for(const u in c)c[u]!==s[u]&&(s[u]=c[u],l=!0);return l&&a++,a});r=()=>o(i)}n.b.length&&ji(()=>{Ba(t,r),nr(n.b)}),Ee(()=>{const a=Ut(()=>n.m.map(Ko));return()=>{for(const s of a)typeof s=="function"&&s()}}),n.a.length&&Ee(()=>{Ba(t,r),nr(n.a)})}function Ba(e,t){if(e.l.s)for(const n of e.l.s)o(n);t()}let Zn=!1;function dl(e){var t=Zn;try{return Zn=!1,[e(),Zn]}finally{Zn=t}}function ae(e,t,n,r){var a=!gn||(n&ui)!==0,s=(n&fi)!==0,i=(n&vi)!==0,l=r,c=!0,u=()=>(c&&(c=!1,l=i?Ut(r):r),l),d;if(s){var h=Ot in e||Xo in e;d=nn(e,t)?.set??(h&&t in e?_=>e[t]=_:void 0)}var v,g=!1;s?[v,g]=dl(()=>e[t]):v=e[t],v===void 0&&r!==void 0&&(v=u(),d&&(a&&ri(),d(v)));var f;if(a?f=()=>{var _=e[t];return _===void 0?u():(c=!0,_)}:f=()=>{var _=e[t];return _!==void 0&&(l=void 0),_===void 0?l:_},a&&(n&di)===0)return f;if(d){var p=e.$$legacy;return(function(_,x){return arguments.length>0?((!a||!x||p||g)&&d(x?f():_),_):f()})}var w=!1,b=((n&ci)!==0?In:fr)(()=>(w=!1,f()));s&&o(b);var S=ee;return(function(_,x){if(arguments.length>0){const E=x?o(b):a&&s?pe(_):_;return C(b,E),w=!0,l!==void 0&&(l=E),_}return qt&&w||(S.f&Ht)!==0?b.v:o(b)})}function he(e){le===null&&Xa(),gn&&le.l!==null?fl(le).m.push(e):Ee(()=>{const t=Ut(e);if(typeof t=="function")return t})}function fl(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const vl="5";var qa;typeof window<"u"&&((qa=window.__svelte??(window.__svelte={})).v??(qa.v=new Set)).add(vl);yi();const Rs={},hl=()=>({working:!1,swipingRatio:1,isSwiping:!1,duration:.35});function gl(e){es(Rs,e)}function jn(){const e=$a(Rs);if(!e)throw new Error("No AnimationSettingsContext found");return e}function _l(e,t){X(t,!0);let n=pe(hl());gl(n);var r=q(),a=L(r);Ae(a,()=>t.children??et),m(e,r),Z()}const Bs={};function pl(e){es(Bs,e)}function js(){const e=$a(Bs);if(!e)throw new Error("No AnimationSettingsContext found");return e}const ml=(e,t)=>{let n=null;return()=>{n&&clearTimeout(n),n=setTimeout(()=>{n=null,e()},t)}};async function aa(){if(navigator.storage&&navigator.storage.persist)try{await navigator.storage.persisted()||await navigator.storage.persist()}catch{}}function wl(e,t){X(t,!0);let n=M(!1);const r=()=>o(n),a=ml(()=>{C(n,!1)},100);pl({isScrolling:r,enable:()=>{C(n,!0),a()}});var i=q(),l=L(i);Ae(l,()=>t.children??et),m(e,i),Z()}function yl(e,t){_l(e,{children:(n,r)=>{wl(n,{children:(a,s)=>{var i=q(),l=L(i);Ae(l,()=>t.children??et),m(a,i)},$$slots:{default:!0}})},$$slots:{default:!0}})}let Tt=M(""),en=M(null);function sa(e){C(Tt,""),setTimeout(()=>{C(Tt,e,!0)},16)}var bl=I('<div class="notification svelte-1a2zucn"> </div>'),Sl=I("<div><!></div>");function kl(e,t){X(t,!0),Ee(()=>{o(Tt),o(Tt)&&(o(en)?.getBoundingClientRect(),o(en)?.style.setProperty("opacity","1"));const s=setTimeout(()=>{o(en)?.style.removeProperty("opacity")},800),i=setTimeout(()=>{C(Tt,""),o(en)?.style.removeProperty("opacity")},1200);return()=>{clearTimeout(s),clearTimeout(i)}});var n=Sl(),r=y(n);{var a=s=>{var i=bl(),l=y(i);tt(i,c=>C(en,c),()=>o(en)),se(()=>vn(l,o(Tt))),m(s,i)};R(r,s=>{o(Tt)&&s(a)})}m(e,n),Z()}var El=I('<span class="vh svelte-14jjkpd"><!></span>');function Qe(e,t){var n=El(),r=y(n);Ae(r,()=>t.children),m(e,n)}var Cl=Qi('<svg class="svelte-gv09tg"><use></use></svg>');function ce(e,t){let n=ae(t,"name",8,"");var r=Cl(),a=y(r);se(()=>_e(a,"href",`#icon-${n()??""}`)),m(e,r)}const Fs=(e,t)=>{if(!t)return e;if(t.type==="closed")return{type:"closed"};switch(e.type){case"opened":return t.type==="close"?{type:"closing"}:t.type==="swipe"?{type:"openSwiping"}:e;case"closed":return t.type==="open"?{type:"opening"}:t.type==="swipe"?{type:"closeSwiping"}:e;case"openSwiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"closeSwiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"opening":return t.type==="opened"?{type:"opened"}:e;default:return e}};let jr=M(pe(Fs({type:"closed"})));const Us=e=>{C(jr,Fs(o(jr),e),!0)},Pl=()=>o(jr),xl=()=>{Us({type:"open"})},Al=()=>{Us({type:"close"})},Tl=()=>{const e=Pl().type;e==="closed"?xl():e==="opened"&&Al()};var Nl=I('<button class="buttonMenu svelte-hxzs42"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>');function zs(e,t){X(t,!1),Bn();var n=Nl();n.__click=[Tl];var r=y(n);oe(r,()=>({"--size":"36px"})),ce(r.lastChild,{name:"sidebarMenu"});var a=A(r,2);Qe(a,{children:(s,i)=>{var l=Ce("Menu");m(s,l)}}),m(e,n),Z()}Te(["click"]);var Dl=(e,t)=>t.onChange?.(e.target?.value||""),Ll=I('<input class="svelte-krv4jy"/>');function Fr(e,t){X(t,!0);let n=ae(t,"value",15,"");var r=Ll();r.__input=[Dl,t],se(()=>_e(r,"placeholder",t.placeholder)),na("focus",r,function(...a){t.onFocus?.apply(this,a)}),ul(r,n),m(e,r),Z()}Te(["input"]);const T=pe({historyStack:[],pathname:window.location.pathname,search:window.location.search,historyLength:0});let Hs=M(pe(new URLSearchParams(T.search).get("feedOrder")||"newest"));const Vs=()=>o(Hs),Ol=e=>{C(Hs,e,!0);const t=new URLSearchParams(T.search);e==="newest"?t.delete("feedOrder"):t.set("feedOrder",e),vt(`${T.pathname}${t.size>0?`?${t.toString()}`:""}`)};let qs=M(pe(new URLSearchParams(T.search).get("search")||""));const Ks=()=>o(qs),Ml=e=>{C(qs,e,!0);const t=new URLSearchParams(T.search);e===""?t.delete("search"):t.set("search",e),vt(`${T.pathname}${t.size>0?`?${t.toString()}`:""}`)},cd=(e,t)=>{const n=new URLSearchParams(T.search);n.append(e,t),oa(`${T.pathname}${n.size>0?`?${n.toString()}`:""}`)},ud=e=>{const t=new URLSearchParams(T.search);t.delete(e),T.historyStack=T.historyStack.map(n=>{const r=new URLSearchParams(n.split("?")[1]);return r.delete(e),`${n.split("?")[0]}${t.size>0?`?${r.toString()}`:""}`}),oa(`${T.pathname}${t.size>0?`?${t.toString()}`:""}`)},Ws=()=>new URLSearchParams(T.search).get("selectedTags")?.split(",")||[];let Jn=Ws();const Il=()=>{const e=Ws();return e.join(",")===Jn.join(",")||(Jn=e),Jn},Rl=()=>{T.pathname=document.location.pathname,T.search=document.location.search,T.historyLength=Math.max(0,T.historyLength-=1)};window.addEventListener("popstate",Rl);const vt=e=>{const[t,n]=e.split("?");T.pathname=t,T.search=n?`?${n}`:"",T.historyLength+=1,T.historyStack.push(window.location.href),window.history.replaceState(null,"",e)},oa=e=>{const[t,n]=e.split("?");T.pathname=t,T.search=n?`?${n}`:"",window.history.replaceState(null,"",e)},Bl=e=>{const{fallback:t="/",to:n}=e||{},[r,a]=t.split("?");if(T.historyLength<=0){const s=window.location.href,[i,l]=s.split("?");if(!l.includes("stackPages"))window.history.replaceState(null,"",t),T.historyLength=0,T.pathname=r,T.search=a?`?${a}`:"";else{const c=new URLSearchParams(l),u=c.get("stackPages")?.split(",")||[],d=u.slice(0,n&&u.includes(n)?u.indexOf(n)+1:-1);d.length===0?c.delete("stackPages"):c.set("stackPages",d.join(","));const h=`${i}${c.toString()?`?${c.toString()}`:""}`;window.history.replaceState(null,"",h),T.search=c.toString()?`?${c.toString()}`:""}}else if(T.historyStack.length>0){const i=new URLSearchParams(T.search).get("stackPages")?.split(",")||[];n&&i.includes(n)&&(T.historyStack=T.historyStack.slice(0,-(i.length-(i.indexOf(n)+1))+1),T.historyLength=T.historyStack.length);const l=T.historyStack.pop();if(l){const[c,u]=l.split("?");window.history.replaceState(null,"",l),T.historyLength=Math.max(0,T.historyLength-=1),T.pathname=c,T.search=u?`?${u}`:""}}},Ys=()=>{const e=T.historyStack.findIndex(n=>n.includes("stackPages")),t=e===-1?T.historyStack.slice(0):T.historyStack.slice(0,e);if(t.length>0){const n=t.pop();if(n){const[r,a]=n.split("?");window.history.replaceState(null,"",n),T.historyLength=Math.max(0,t.length),T.pathname=r,T.search=a?`?${a}`:"",T.historyStack=t}}else{const n=T.search,r=new URLSearchParams(n);r.delete("stackPages"),window.history.replaceState(null,"",r.toString()?"/?"+r.toString():"/"),T.historyLength=0,T.pathname="/",T.search=r.toString()?"?"+r.toString():"",T.historyStack=[]}},dt=pe({value:""}),jl=pe({value:Ks()}),Fl=(e,t)=>{let n=null;return()=>{n&&clearTimeout(n),n=setTimeout(()=>{e()},t)}},Gs=()=>window.matchMedia("(max-width: 768px)").matches;let Xs=M(pe(Gs()));const Ul=Fl(()=>{C(Xs,Gs(),!0)},16);window.addEventListener("resize",Ul);const pn=()=>o(Xs);function Zs(e,t){X(t,!0),he(()=>{const n=r=>{r.target&&t.dialog?.open&&t.dialogInner&&t.dialogInner!==r.target&&!t.dialogInner.contains(r.target)&&t.onClose()};return document.addEventListener("mousedown",n,{capture:!0}),()=>{document.removeEventListener("mousedown",n,{capture:!0})}}),Z()}const ia=pe({count:0}),zl=()=>ia.count>0,Js=()=>{ia.count+=1},Qs=()=>{ia.count-=1};var Hl=I('<dialog><div class="dialogInner svelte-1wekt4o"><!></div></dialog> <!>',1);function $s(e,t){X(t,!0);let n=M(null),r=M(null),a=M(!1);const s=()=>{const v=setTimeout(()=>{t.onClosed()},150);o(n)?.addEventListener("transitionend",()=>{clearTimeout(v),t.onClosed()},{once:!0}),C(a,!1)};Ee(()=>{t.startClose&&s()}),he(()=>{o(n)?.showModal(),o(n)?.getClientRects(),C(a,!0)}),he(()=>(Js(),()=>{Qs()}));var i=Hl(),l=L(i),c=y(l),u=y(c);Ae(u,()=>t.children),tt(c,v=>C(r,v),()=>o(r)),tt(l,v=>C(n,v),()=>o(n));var d=A(l,2);{var h=v=>{Zs(v,{get dialog(){return o(n)},get dialogInner(){return o(r)},onClose:s})};R(d,v=>{o(n)&&o(r)&&v(h)})}se(()=>$(l,1,Q(["dialog",{shown:o(a)}]),"svelte-1wekt4o")),m(e,i),Z()}var Vl=I("<div><!></div>");function eo(e,t){X(t,!0);let n=M(!1),r=M(null);const a=()=>{const u=setTimeout(()=>{t.onClosed()},150);o(r)?.addEventListener("transitionend",()=>{clearTimeout(u),t.onClosed()},{once:!0}),C(n,!1)},s=u=>{u.target!==o(r)&&!o(r)?.contains(u.target)&&a()},i=u=>{u.target!==o(r)&&!o(r)?.contains(u.target)&&a()};he(()=>{o(r)?.getClientRects(),C(n,!0);const u=setTimeout(()=>{document.addEventListener("focusin",s),document.addEventListener("click",i)},0);return()=>{clearTimeout(u),document.removeEventListener("focusin",s),document.removeEventListener("click",i)}}),Ee(()=>{t.startClose&&a()});var l=Vl(),c=y(l);Ae(c,()=>t.children),tt(l,u=>C(r,u),()=>o(r)),se(()=>$(l,1,Q(["menu",{top:t.positionTop,shown:o(n)}]),"svelte-vbw57a")),m(e,l),Z()}const ql=(e,t)=>{o(t)||C(t,!0)};var Kl=(e,t)=>t("newest"),Wl=(e,t)=>t("oldest"),Yl=(e,t)=>t("AtoZ"),Gl=(e,t)=>t("ZtoA"),Xl=I("<div><button>Newest</button> <button>Oldest</button> <button>A to Z</button> <button>Z to A</button></div>"),Zl=I('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),Jl=I('<div class="orderMenu svelte-110m8z1"><button><!> <!></button> <!></div>');function Ql(e,t){X(t,!0);const n=(p,w=et)=>{var b=Xl(),S=y(b);S.__click=[Kl,l];var _=A(S,2);_.__click=[Wl,l];var x=A(_,2);x.__click=[Yl,l];var E=A(x,2);E.__click=[Gl,l],se(()=>{$(b,1,Q(["menu",{menuDialog:w()}]),"svelte-110m8z1"),$(S,1,Q(["menuButton",{menuButtonDialog:w(),current:o(i)==="newest"}]),"svelte-110m8z1"),$(_,1,Q(["menuButton",{menuButtonDialog:w(),current:o(i)==="oldest"}]),"svelte-110m8z1"),$(x,1,Q(["menuButton",{menuButtonDialog:w(),current:o(i)==="AtoZ"}]),"svelte-110m8z1"),$(E,1,Q(["menuButton",{menuButtonDialog:w(),current:o(i)==="ZtoA"}]),"svelte-110m8z1")}),m(p,b)};let r=M(!1),a=M(!1),s=O(pn),i=O(Vs);const l=p=>{C(a,!0),Ol(p)},c=()=>{C(r,!1),C(a,!1)};var u=Jl(),d=y(u);d.__click=[ql,r],$(d,1,Q(["button","buttonMenu"]),"svelte-110m8z1");var h=y(d);ce(h,{name:"filter"});var v=A(h,2);Qe(v,{children:(p,w)=>{var b=Ce("show feed order menu");m(p,b)}});var g=A(d,2);{var f=p=>{var w=q(),b=L(w);{var S=x=>{$s(x,{get startClose(){return o(a)},onClosed:c,children:(E,k)=>{n(E,()=>!0)},$$slots:{default:!0}})},_=x=>{var E=Zl(),k=L(E);oe(k,()=>({"--right":"20px","--top":"60px"})),eo(k.lastChild,{get startClose(){return o(a)},onClosed:c,children:(P,N)=>{n(P,()=>!1)},$$slots:{default:!0}}),m(x,E)};R(b,x=>{o(s)?x(S):x(_,!1)})}m(p,w)};R(g,p=>{o(r)&&p(f)})}m(e,u),Z()}Te(["click"]);const la=pe({ref:null}),Pt=()=>new URLSearchParams(T.search).get("stackPages")?.split(",")||[];let bt=M(pe(Pt()));const nt=e=>{const t=Pt();if(!t.includes(e)){t.push(e);const n=new URLSearchParams(T.search);n.set("stackPages",t.join(",")),C(bt,t,!0),vt(`${T.pathname}?${n.toString()}`)}},$l=e=>Pt().includes(e),dd=()=>{C(bt,Pt(),!0)},to=()=>{const e=o(bt).slice(0,-1);C(bt,e,!0)},ec=()=>{const e=Pt();return e.length>=o(bt).length?e.reduce((t,n)=>[...t,{page:n,shown:!0}],[]):o(bt).reduce((t,n,r)=>[...t,{page:n,shown:e.length===0?!1:r!==o(bt).length-1}],[])},Ur=()=>{C(bt,[],!0)},Rt=e=>{const t=Pt();t.includes(e)||t.push(e);const n=new URLSearchParams(T.search);return n.set("stackPages",t.join(",")),`${T.pathname}?${n}`},Bt=e=>t=>{t.preventDefault(),nt(e)};var D=(e=>(e.NewNote="newNote",e.EditNote="editNote",e.Settings="settings",e.ImportData="importData",e.ExportData="exportData",e.ClearStore="clearStore",e.Account="account",e.Sync="sync",e.Start="start",e.Auth="auth",e.Signin="signin",e.Signup="signup",e.AccessKeys="accessKeys",e.ConfirmAccessKey="confirmAccessKey",e.Subscription="subscription",e.Exit="exit",e.NotFound="notFound",e.About="about",e))(D||{}),tc=I('<div class="header svelte-1o3mutr"><div class="top svelte-1o3mutr"><div class="menu svelte-1o3mutr"><a class="link svelte-1o3mutr"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Settings</span></a> <a class="link svelte-1o3mutr"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Sync</span></a></div> <div class="mobile svelte-1o3mutr"><!></div> <a class="buttonAdd svelte-1o3mutr"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Note</span></a></div> <div class="bottom svelte-1o3mutr"><div><div class="sidebarSearchWrapper"><!></div></div> <div class="right svelte-1o3mutr"><div class="filter svelte-1o3mutr"><div class="feedSearchWrapper svelte-1o3mutr"><!></div> <!></div></div></div></div>');function nc(e,t){X(t,!0);let n=O(()=>la.ref);const r=()=>{o(n)&&o(n).scrollTo({top:0,behavior:"smooth"})},a=j=>{Ml(j)};var s=tc(),i=y(s),l=y(i),c=y(l),u=O(()=>Bt(D.Settings));c.__click=function(...j){o(u)?.apply(this,j)};var d=y(c);oe(d,()=>({"--rotate":"30deg","--size":"20px"})),ce(d.lastChild,{name:"settings"});var h=A(c,2),v=O(()=>Bt(D.Sync));h.__click=function(...j){o(v)?.apply(this,j)};var g=y(h);oe(g,()=>({"--size":"20px"})),ce(g.lastChild,{name:"sync"});var f=A(l,2),p=y(f);zs(p,{});var w=A(f,2),b=O(()=>Bt(D.NewNote));w.__click=function(...j){o(b)?.apply(this,j)};var S=y(w);oe(S,()=>({"--size":"16px","--color":"#b0b0b0"})),ce(S.lastChild,{name:"plus"});var _=A(i,2),x=y(_);$(x,1,Q(["left"]),"svelte-1o3mutr");var E=y(x),k=y(E);Fr(k,{placeholder:"Search tag",get value(){return dt.value},set value(j){dt.value=j}});var P=A(x,2),N=y(P),V=y(N),U=y(V);Fr(U,{onFocus:r,onChange:a,placeholder:"Search",get value(){return jl.value}});var Y=A(V,2);Ql(Y,{}),se((j,z,B)=>{_e(c,"href",j),_e(h,"href",z),_e(w,"href",B)},[()=>Rt(D.Settings),()=>Rt(D.Sync),()=>Rt(D.NewNote)]),m(e,s),Z()}Te(["click"]);const rc="modulepreload",ac=function(e){return"/"+e},ja={},ge=function(t,n,r){let a=Promise.resolve();if(n&&n.length>0){let c=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=i?.nonce||i?.getAttribute("nonce");a=c(n.map(u=>{if(u=ac(u),u in ja)return;ja[u]=!0;const d=u.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${h}`))return;const v=document.createElement("link");if(v.rel=d?"stylesheet":rc,d||(v.as="script"),v.crossOrigin="",v.href=u,l&&v.setAttribute("nonce",l),document.head.appendChild(v),d)return new Promise((g,f)=>{v.addEventListener("load",g),v.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return a.then(i=>{for(const l of i||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})};let zr=!1;const Tr=()=>{document.activeElement instanceof HTMLInputElement&&document.activeElement.type==="text"||document.activeElement instanceof HTMLTextAreaElement?zr=!0:zr=!1},sc=()=>zr;function oc(e,t){X(t,!0);let n=ae(t,"dialog",7);const r=jn();let a=null;const s=()=>{t.dialogState==="swiping"&&t.onClose()};Ee(()=>(t.dialogState==="swiping"&&(a=setTimeout(s,3e3)),()=>{a&&(clearTimeout(a),a=null)}));let i=null,l=null;const c=3,u=50,d=5,h=.6,v=.3,g=.35,f=.95;let p=0,w=0,b=0,S=!1,_=!1,x=0,E=0,k=0;const P=()=>{p=0,w=0,S=!1,_=!1,x=0,E=0,k=0,b=0,i=null,l!==null&&(cancelAnimationFrame(l),l=null),a&&(clearTimeout(a),a=null)},N=G=>{n()&&t.dialogState==="opened"&&(p=G.touches[0].clientX,w=G.touches[0].clientY,b=performance.now(),S=!0,_=!1)},V=G=>t.dialogState==="opened"&&G>0||t.dialogState==="swiping"&&G>0,U=()=>{if(n()){n().style.setProperty("--transition-timing","0s"),t.onSwipe(),navigator.vibrate&&navigator.vibrate(10);try{const G=window.getComputedStyle(n()),F=G.transform||G.webkitTransform||"";if(E=n().offsetWidth,(t.dialogState==="swiping"||t.dialogState==="opened")&&(x=0),F&&F!=="none")try{x=new DOMMatrix(F).m41}catch{}_=!0}catch{P()}}},Y=()=>{if(!n())return;const F=Math.abs(x+k*E/100)/E;n().style.setProperty("--backdrop-bg",`rgba(0, 0, 0, ${.1*(1-F)})`)},j=()=>{if(l=null,!i||!S||!n()||sc()){P();return}const G=i.touches[0].clientX,F=i.touches[0].clientY,H=G-p,te=F-w,He=Math.abs(H)>Math.abs(te),Ne=Math.abs(H)>c;if(!_)if(He&&Ne&&V(H))try{U()}catch{P();return}else return;if(!V(H))return;n().style.setProperty("--transition-timing","0s");let ve=x+H*f;ve=Math.max(0,Math.min(E,ve)),n().style.transform=`translate3d(${ve}px, 0, 0)`,r.swipingRatio=Math.abs(1-ve/E),k=(ve-x)/E*100,t.dialogState==="swiping"&&(a&&clearTimeout(a),a=setTimeout(s,3e3)),Y()},z=G=>{if(!S)return;i=G,l===null&&(l=requestAnimationFrame(j));const F=G.touches[0].clientX-p,H=G.touches[0].clientY-w,te=Math.abs(F)>Math.abs(H);_&&te&&G.preventDefault()},B=G=>{const F=Math.abs(G);if(F>=h)return d;if(F>=v){const H=(F-v)/(h-v);return u-H*(u-d)}else return u},W=(G,F)=>{if(Math.abs(G)>=h)return g*.5;const te=Math.abs(k)/100;return F?g*Math.max(.5,1-te):g*Math.max(.5,te)},de=G=>{if(l!==null&&(cancelAnimationFrame(l),l=null),!S||!n()){P();return}if(!_){P();return}let F=0;if(G?.changedTouches?.[0]){const ve=G.changedTouches[0].clientX,be=performance.now()-b;be>0&&(F=(ve-p)/be)}const H=B(F);let te=null;t.dialogState==="swiping"&&(te=Math.abs(k)>H||F<-v?"close":"open");const He=t.dialogState==="swiping"&&te==="close",Ne=W(F,He);r.duration=Ne-.02,n().style.setProperty("--transition-timing",`${Ne}s`),n().offsetWidth,n().style.transform="",te==="open"?t.onOpen():te==="close"&&t.onClose(),n()?.style.removeProperty("--backdrop-bg"),P()};he(()=>(n().addEventListener("touchstart",N,{passive:!0}),n().addEventListener("touchmove",z,{passive:!1}),n().addEventListener("touchend",de,{passive:!0}),n().addEventListener("touchcancel",de,{passive:!0}),()=>{n().removeEventListener("touchstart",N),n().removeEventListener("touchmove",z),n().removeEventListener("touchend",de),n().removeEventListener("touchcancel",de),l!==null&&cancelAnimationFrame(l)})),Z()}var ic=(e,t)=>{t.onStartClose()},lc=I('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),cc=I('<dialog><div class="dialogInner svelte-14atrge"><div class="header svelte-14atrge"><div><!></div></div> <!></div></dialog> <!>',1);function uc(e,t){X(t,!0);let n=350;const{isScrolling:r,enable:a}=js();let s=M(null),i=M(null);const l=jn(),c=k=>{k.preventDefault(),t.onStartClose()};he(()=>(o(s)?.addEventListener("close",t.onClosed),o(s)?.addEventListener("cancel",c),()=>{o(s)?.removeEventListener("close",t.onClosed),o(s)?.removeEventListener("cancel",c)}));const u=()=>{o(s)?.style.removeProperty("--transition-timing"),o(s)?.style.removeProperty("transform"),o(s)?.style.removeProperty("--backdrop-bg")},d=()=>{a()},h=O(r);Ee(()=>{if(t.dialogState,!!o(s))switch(t.dialogState){case"opening":{o(s).open||o(s).showModal(),o(s).getBoundingClientRect();const k=setTimeout(()=>{u()},n+1),P=()=>{clearTimeout(k),u()};return o(s)?.addEventListener("transitionend",P,{once:!0}),t.onOpened(),()=>{o(s)?.removeEventListener("transitionend",P)}}case"closing":{const k=setTimeout(()=>{t.dialogState==="closing"&&t.onClosed()},n+1),P=()=>{clearTimeout(k),t.onClosed()};return o(s)?.addEventListener("transitionend",P,{once:!0}),()=>{o(s)?.removeEventListener("transitionend",P)}}case"opened":u()}});var v=cc(),g=L(v),f=y(g),p=y(f),w=y(p),b=y(w);{var S=k=>{var P=lc();$(P,1,Q(["navigateButton","buttonBack"]),"svelte-14atrge"),P.__click=[ic,t];var N=y(P);oe(N,()=>({"--size":"36px"})),ce(N.lastChild,{name:"back"});var V=A(N,2);Qe(V,{children:(U,Y)=>{var j=Ce("back");m(U,j)}}),m(k,P)};R(b,k=>{(!(t.blocked||t.hidden)||t.blocked&&t.unBlockedBack)&&k(S)})}var _=A(p,2);Ae(_,()=>t.children),tt(f,k=>C(i,k),()=>o(i)),tt(g,k=>C(s,k),()=>o(s));var x=A(g,2);{var E=k=>{oc(k,{get onClose(){return t.onStartClose},get onOpen(){return t.onStartOpen},get onSwipe(){return t.onSwipe},get dialogState(){return t.dialogState},get dialog(){return o(s)}})};R(x,k=>{(!o(h)&&t.dialogState==="opened"||t.dialogState==="swiping")&&(!t.blocked||t.unBlockedBack)&&k(E)})}se(()=>$(g,1,Q([{open:t.dialogState==="opened",hidden:t.hidden,isAnimationOn:l.working&&(!l.isSwiping||!t.hidden)},{hidden:t.hidden}]),"svelte-14atrge")),na("scroll",f,d),m(e,v),Z()}Te(["click"]);const Fa=(e,t)=>{if(!t)return e;if(t.type==="closed")return{type:"closed"};switch(e.type){case"opened":return t.type==="close"?{type:"closing"}:t.type==="swipe"?{type:"swiping"}:e;case"closed":return t.type==="open"?{type:"opening"}:e;case"swiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"opening":return t.type==="opened"?{type:"opened"}:e;default:return e}};function dc(e,t){X(t,!0);let n=ae(t,"blocked",3,!1),r=ae(t,"hiddenDialog",3,!1),a=ae(t,"unBlockedBack",3,!1),s=ae(t,"onStartClose",3,()=>{}),i=ae(t,"onClose",3,()=>{});const l=jn();let c=M(pe(Fa({type:"closed"})));const u=_=>{C(c,Fa(o(c),_),!0)},d=()=>{n()&&!a()||(s()(),u({type:"close"}))},h=()=>{u({type:"open"})},v=()=>{u({type:"opened"}),l.duration=.2},g=()=>{i()(),u({type:"closed"}),l.swipingRatio=1,l.duration=.2},f=()=>{u({type:"swipe"})};Ee(()=>{o(c).type==="swiping"?l.isSwiping=!0:l.isSwiping=!1,o(c).type==="closed"&&t.shownDialog?h():o(c).type==="opened"&&!t.shownDialog&&d()});var p={handleComputeState:u},w=q(),b=L(w);{var S=_=>{uc(_,{onSwipe:f,onOpened:v,onClosed:g,onStartClose:d,onStartOpen:h,get dialogState(){return o(c).type},get hidden(){return r()},get blocked(){return n()},get unBlockedBack(){return a()},children:(x,E)=>{var k=q(),P=L(k);Ae(P,()=>t.children),m(x,k)},$$slots:{default:!0}})};R(b,_=>{o(c).type!=="closed"&&_(S)})}return m(e,w),Z(p)}const fc=({getDialog:e,onOpen:t,onStartClose:n,onClose:r})=>{const a=i=>{i.preventDefault(),n()},s=()=>{r?.()};he(()=>{const i=e();return i?.addEventListener("cancel",a),i?.addEventListener("close",s),()=>{i?.removeEventListener("cancel",a),i?.removeEventListener("close",s)}}),he(()=>{const i=e();i?.showModal(),i?.getBoundingClientRect(),t()})};let no=M(200);const vc=e=>{C(no,e,!0)},ro=()=>o(no);var hc=(e,t)=>{t.onStartBack()},gc=I('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),_c=(e,t)=>{t.onStartClose()},pc=I('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),mc=I('<dialog><div class="dialogInner svelte-rm8syc"><div class="header svelte-rm8syc"><div><!></div> <div><!></div></div> <!></div></dialog> <!>',1);function wc(e,t){X(t,!0);let n=ae(t,"blockedDialog",3,!1),r=ae(t,"hiddenDialog",3,!1),a=ae(t,"isDesktopAnimationOff",3,!1),s=M(null),i=M(null);fc({getDialog:()=>o(s),onOpen:t.onOpen,onStartClose:t.onStartClose,onClose:t.onClose});const l=jn();Ee(()=>{t.stateDialog==="closing"&&(l.working?o(s)?.addEventListener("transitionend",()=>{o(s)?.close()},{once:!0}):o(s)?.close())});const c=O(ro);var u=mc(),d=L(u),h=y(d),v=y(h),g=y(v),f=y(g);{var p=E=>{var k=gc();$(k,1,Q(["navigateButton","buttonBack"]),"svelte-rm8syc"),k.__click=[hc,t];var P=y(k);oe(P,()=>({"--size":"28px"})),ce(P.lastChild,{name:"back"});var N=A(P,2);Qe(N,{children:(V,U)=>{var Y=Ce("back");m(V,Y)}}),m(E,k)};R(f,E=>{(!(n()||r())||n()&&t.unBlockedBack)&&t.onStartBack&&E(p)})}var w=A(g,2),b=y(w);{var S=E=>{var k=pc();$(k,1,Q(["navigateButton","buttonClose"]),"svelte-rm8syc"),k.__click=[_c,t];var P=y(k);oe(P,()=>({"--size":"28px"})),ce(P.lastChild,{name:"close"});var N=A(P,2);Qe(N,{children:(V,U)=>{var Y=Ce("close");m(V,Y)}}),m(E,k)};R(b,E=>{n()||r()||E(S)})}var _=A(v,2);Ae(_,()=>t.children),tt(h,E=>C(i,E),()=>o(i)),tt(d,E=>C(s,E),()=>o(s));var x=A(d,2);Zs(x,{get dialog(){return o(s)},get dialogInner(){return o(i)},get onClose(){return t.onStartClose}}),se(()=>{xn(d,`height: ${o(c)+74}px`),$(d,1,Q([{open:t.stateDialog==="open",isAnimationOn:l.working,isDesktopAnimationOff:a(),hiddenDialog:r()}]),"svelte-rm8syc")}),m(e,u),Z()}Te(["click"]);const yc=({onStartClose:e,onClose:t})=>{let n=M("close");return{get state(){return o(n)},set state(i){C(n,i,!0)},handleStartClose:(i=!1)=>{i||(C(n,"closing"),e?.())},handleOpen:()=>{C(n,"open")},handleClose:()=>{C(n,"close"),t?.()}}};function bc(e,t){X(t,!0);let n=ae(t,"blockedDialog",3,!1),r=ae(t,"hiddenDialog",3,!1),a=ae(t,"onStartClose",3,()=>{}),s=ae(t,"onClose",3,()=>{}),i=yc({onStartClose:a(),onClose:s()});Ee(()=>{i.state==="close"&&t.shownDialog?i.state="opening":i.state==="open"&&!t.shownDialog&&i.handleStartClose(n())});const l=h=>{h.key==="Escape"&&(document.activeElement instanceof HTMLInputElement&&document.activeElement.type==="text"||document.activeElement instanceof HTMLTextAreaElement||n())&&(h.preventDefault(),h.stopPropagation())};he(()=>(document.addEventListener("keydown",l),()=>{document.removeEventListener("keydown",l)}));var c=q(),u=L(c);{var d=h=>{wc(h,{get stateDialog(){return i.state},get blockedDialog(){return n()},get unBlockedBack(){return t.unBlockedBack},get hiddenDialog(){return r()},get onOpen(){return i.handleOpen},get onStartBack(){return t.onStartBack},onStartClose:()=>{i.handleStartClose(n())},get onClose(){return i.handleClose},children:(v,g)=>{var f=q(),p=L(f);Ae(p,()=>t.children),m(v,f)},$$slots:{default:!0}})};R(u,h=>{i.state!=="close"&&h(d)})}m(e,c),Z()}function Sc(e,t){X(t,!0);let n=ae(t,"blockedDialog",3,!1),r=ae(t,"hiddenDialog",3,!1),a=ae(t,"isLastDialog",3,!1),s=ae(t,"onStartClose",3,()=>{}),i=ae(t,"onClose",3,()=>{});const l=O(()=>a()?void 0:t.onStartBack);he(()=>(Js(),()=>{Qs()}));var c=q(),u=L(c);{var d=v=>{dc(v,{get shownDialog(){return t.shownDialog},get blocked(){return n()},get unBlockedBack(){return t.unBlockedBack},get hiddenDialog(){return r()},get children(){return t.children},get onStartClose(){return t.onStartBack},get onClose(){return i()}})},h=v=>{bc(v,{get shownDialog(){return t.shownDialog},get blockedDialog(){return n()},get unBlockedBack(){return t.unBlockedBack},get hiddenDialog(){return r()},get children(){return t.children},get onStartBack(){return o(l)},get onStartClose(){return s()},get onClose(){return i()}})};R(u,v=>{pn()?v(d):v(h,!1)})}m(e,c),Z()}let ao=M(!1),ca=M(!1);const Sn=e=>{C(ao,e,!0),e||C(ca,!1)},kc=()=>o(ao),Ua=e=>{C(ca,e,!0)},Ec=()=>o(ca);function za(e,t){X(t,!0);let n=ae(t,"blocked",3,!1),r=ae(t,"isLastDialog",3,!1),a=ae(t,"onBack",3,()=>{});const s=O(()=>n()||t.hidden||kc()),i=O(()=>Ec()&&!r());Sc(e,{get shownDialog(){return t.shown},get blockedDialog(){return o(s)},get unBlockedBack(){return o(i)},get hiddenDialog(){return t.hidden},get isLastDialog(){return r()},onStartBack:()=>{(!o(s)||o(s)&&o(i))&&t.shown&&(Bl(),a()())},onStartClose:()=>{(!o(s)||o(s)&&o(i))&&t.shown&&Ys()},onClose:()=>{to()},children:(d,h)=>{var v=q(),g=L(v);Ae(g,()=>t.children),m(d,v)},$$slots:{default:!0}}),Z()}let Hr=M(pe({showFavicon:!0}));const so=()=>o(Hr).showFavicon,ua=e=>{e&&C(Hr,{...o(Hr),...e},!0)};let K=M({initedDB:!1});const Cc=()=>{C(K,{initedDB:!0})},st=async e=>{C(K,{...o(K),account:e})},Fn=async e=>{const t=[],n=new Map;e.forEach(r=>{t.push(r),n.set(r.id,r)}),C(K,{...o(K),notes:t,mapNotes:n,getNotes:()=>t,getMapNotes:()=>n})},pr=()=>o(K).notes&&o(K).mapNotes,oo=()=>o(K).account,Pc=()=>o(K).getNotes||(()=>o(K).notes||[]),xc=()=>o(K).getMapNotes||(()=>o(K).mapNotes||new Map),io=e=>{if(!o(K).notes||!o(K).mapNotes)throw new Error("Notes appState is not initialized");const t={...e};o(K).notes.push(t),o(K).mapNotes.set(t.id,t),C(K,{...o(K),getNotes:()=>o(K).notes,getMapNotes:()=>o(K).mapNotes})},da=async e=>{if(!o(K).notes||!o(K).mapNotes)throw new Error("Notes appState is not initialized");o(K).notes.forEach((t,n)=>{t?.id===e.id&&o(K).notes&&(o(K).notes[n]=e)}),o(K).mapNotes.set(e.id,e),C(K,{...o(K),getNotes:()=>o(K).notes,getMapNotes:()=>o(K).mapNotes})},lo=async e=>{if(!o(K).notes||!o(K).mapNotes)throw new Error("Notes appState is not initialized");o(K).mapNotes.delete(e);const t=o(K).notes.findIndex(n=>n?.id===e);t!==-1&&(o(K).notes[t]=void 0),C(K,{...o(K),getNotes:()=>o(K).notes,getMapNotes:()=>o(K).mapNotes})},co=async()=>{const e=[],t=new Map;C(K,{...o(K),notes:e,mapNotes:t,getNotes:()=>e,getMapNotes:()=>t})},uo=async()=>{C(K,{initedDB:!0,account:void 0,notes:void 0,mapNotes:void 0,getNotes:()=>{},getMapNotes:()=>{}})};let fo=M({});const vo=()=>o(fo),Ac=e=>{C(fo,e)};var Tc=I('<button> <svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></button>');function yn(e,t){let n=O(()=>t.style==="selected"?"45deg":"0deg");var r=Tc();r.__click=function(...i){t.onClick?.apply(this,i)};var a=y(r),s=A(a);oe(s,()=>({"--size":t.size==="small"?"10px":"12px","--rotate":o(n)})),ce(s.lastChild,{name:"plus"}),se(()=>{_e(r,"type",t.type),$(r,1,Q([{selectedTag:t.style==="selected",small:t.size==="small"}]),"svelte-15zw27r"),vn(a,`${t.title??""} `)}),m(e,r)}Te(["click"]);var Nc=I("<div></div>"),Dc=I('<div class="sidebarFixed svelte-rnyoa6"><div class="nav svelte-rnyoa6"><!> <div class="menu svelte-rnyoa6"><a class="link svelte-rnyoa6"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a> <a class="link svelte-rnyoa6"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a></div></div> <div class="searchWrapper svelte-rnyoa6"><!></div> <!></div> <div></div>',1),Lc=I("<div></div>"),Oc=I('<div class="sidebar svelte-rnyoa6"><div class="sidebarFixed svelte-rnyoa6"><!></div> <div class="tags svelte-rnyoa6"><!> <!></div></div>');function Mc(e,t){X(t,!0);let n=M(null),r=O(()=>new URLSearchParams(T.search).get("selectedTags")?.split(",")||[]),a=null;function s(){return a||(a=ge(()=>import("./MobileSidebar-CiZiI6f3.js"),__vite__mapDeps([0,1]))),a}const i=b=>{const S=new URLSearchParams(T.search);S.set("selectedTags",[...o(r),b].join(",")),vt(`${T.pathname}${S.size>0?`?${S.toString()}`:""}`),dt.value=""},l=b=>{const S=new URLSearchParams(T.search),_=o(r).filter(x=>x!==b);_.length===0?S.delete("selectedTags"):S.set("selectedTags",_.join(",")),vt(`${T.pathname}${S.size>0?`?${S.toString()}`:""}`)};let c=O(vo),u=O(()=>pr()?Object.values(o(c)).filter(b=>!o(r).some(S=>b.name===S)&&b.name!=="inbox").sort((b,S)=>b.name.localeCompare(S.name)):[]),d=O(()=>o(c).inbox&&o(r).includes("inbox")===!1?o(c).inbox:null),h=O(pn);he(()=>{o(h)&&s()});let v=O(()=>Pt().length>0||zl());var g=q(),f=L(g);{var p=b=>{var S=q(),_=L(S);Ds(_,s,null,(x,E)=>{const k=O(()=>o(E).default);var P=q(),N=L(P);Ms(N,()=>o(k),(V,U)=>{U(V,{get blocked(){return o(v)},children:(Y,j)=>{var z=Dc(),B=L(z),W=y(B),de=y(W);zs(de,{});var G=A(de,2),F=y(G),H=O(()=>Bt(D.Settings));F.__click=function(...fe){o(H)?.apply(this,fe)};var te=y(F);oe(te,()=>({"--size":"24px"})),ce(te.lastChild,{name:"settings"});var He=A(te,2);Qe(He,{children:(fe,De)=>{var we=Ce("Settings");m(fe,we)}});var Ne=A(F,2),ve=O(()=>Bt(D.Sync));Ne.__click=function(...fe){o(ve)?.apply(this,fe)};var me=y(Ne);oe(me,()=>({"--size":"24px"})),ce(me.lastChild,{name:"sync"});var be=A(me,2);Qe(be,{children:(fe,De)=>{var we=Ce("Sync");m(fe,we)}});var Ve=A(W,2),je=y(Ve);Fr(je,{placeholder:"Search tag",get value(){return dt.value},set value(fe){dt.value=fe}});var qe=A(Ve,2);{var ke=fe=>{var De=Nc();$(De,1,Q(["tags","selectedTags"]),"svelte-rnyoa6"),tn(De,20,()=>o(r),we=>we,(we,ut)=>{yn(we,{get title(){return ut},onClick:()=>l(ut),style:"selected"})}),tt(De,we=>C(n,we),()=>o(n)),m(fe,De)};R(qe,fe=>{o(r).length>0&&fe(ke)})}var Fe=A(B,2);$(Fe,1,Q(["tags","tagsWrapper"]),"svelte-rnyoa6"),tn(Fe,21,()=>o(u),fe=>fe.name,(fe,De)=>{var we=q(),ut=L(we);{var zn=mn=>{yn(mn,{get title(){return o(De).name},onClick:()=>i(o(De).name)})};R(ut,mn=>{(dt.value===""||o(De).name.toLowerCase().indexOf(dt.value.toLowerCase())!==-1)&&mn(zn)})}m(fe,we)}),se((fe,De)=>{_e(F,"href",fe),_e(Ne,"href",De)},[()=>Rt(D.Settings),()=>Rt(D.Sync)]),m(Y,z)},$$slots:{default:!0}})}),m(x,P)}),m(b,S)},w=b=>{var S=Oc(),_=y(S),x=y(_);{var E=U=>{var Y=Lc();$(Y,1,Q(["tags","selectedTags"]),"svelte-rnyoa6"),tn(Y,20,()=>o(r),j=>j,(j,z)=>{yn(j,{get title(){return z},onClick:()=>l(z),style:"selected"})}),m(U,Y)};R(x,U=>{o(r).length>0&&U(E)})}var k=A(_,2),P=y(k);{var N=U=>{yn(U,{get title(){return o(d).name},onClick:()=>i(o(d).name)})};R(P,U=>{o(d)&&U(N)})}var V=A(P,2);tn(V,17,()=>o(u),U=>U.name,(U,Y)=>{var j=q(),z=L(j);{var B=W=>{yn(W,{get title(){return o(Y).name},onClick:()=>i(o(Y).name)})};R(z,W=>{(dt.value===""||o(Y).name.toLowerCase().indexOf(dt.value.toLowerCase())!==-1)&&W(B)})}m(U,j)}),m(b,S)};R(f,b=>{o(h)?b(p):b(w,!1)})}m(e,g),Z()}Te(["click"]);function mt(e){const t=String.fromCharCode(...new Uint8Array(e));return window.btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function fa(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");const n=t.length%4;return n&&(t+="=".repeat(4-n)),t}function va(e){try{const t=atob(e),n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n.buffer}catch(t){throw t}}function fd(e){const t=fa(e);return va(t)}const vd=async({challenge:e,clientKey:t})=>{const n=Math.floor(Math.random()*100),r={challenge:va(fa(e)),rp:{id:"localhost",name:"notes"},user:{id:new Uint8Array([...t,...crypto.getRandomValues(new Uint8Array(16))]).buffer,name:`account_${n}`,displayName:`account_${n}`},pubKeyCredParams:[{type:"public-key",alg:-7},{type:"public-key",alg:-257}],authenticatorSelection:{userVerification:"required"},timeout:6e4,attestation:"none"},a=await navigator.credentials.create({publicKey:r});if(a){const s=a.response;return{challenge:e,id:a.id,rawId:mt(a.rawId),type:a.type,response:{clientDataJSON:mt(s.clientDataJSON),attestationObject:mt(s.attestationObject)}}}else throw new Error},hd=async({challenge:e})=>{const t={challenge:va(fa(e)),timeout:6e4,rpId:"localhost",userVerification:"required"},n=await navigator.credentials.get({publicKey:t});if(n){const r=n.response;new DataView(r.authenticatorData).getUint32(33,!1);const a={challenge:e,id:n.id,rawId:mt(n.rawId),type:n.type,response:{authenticatorData:mt(r.authenticatorData),clientDataJSON:mt(r.clientDataJSON),signature:mt(r.signature)}};if(!r.userHandle)throw new Error("No credential found");const s=new Uint8Array(r.userHandle).slice(0,32);return{credentialData:a,clientKey:s}}else throw new Error("No credential found")},Ic=async e=>{const t=await crypto.subtle.importKey("raw",e.serverKey,{name:"HKDF"},!1,["deriveKey"]),n=await crypto.subtle.deriveKey({name:"HKDF",salt:new Uint8Array(12),info:new TextEncoder().encode("aes-gcm-shared"),hash:"SHA-256"},t,{name:"AES-GCM",length:256},!1,["encrypt"]);return{encryptedClientKey:await crypto.subtle.encrypt({name:"AES-GCM",iv:new Uint8Array(12)},n,e.clientKey)}},gd=async e=>{const t=await crypto.subtle.importKey("raw",e.serverKey,{name:"HKDF"},!1,["deriveKey"]),n=await crypto.subtle.deriveKey({name:"HKDF",info:new TextEncoder().encode("aes-gcm-shared"),hash:"SHA-256",salt:new Uint8Array(12)},t,{name:"AES-GCM",length:256},!1,["decrypt"]),r=await crypto.subtle.decrypt({name:"AES-GCM",iv:new Uint8Array(12)},n,e.encryptedClientKey);return new Uint8Array(r)},Rc=()=>crypto.randomUUID(),Bc="AppStorage",jc=1,Be="notes",Ha="tags",or="syncLog",St="account",kt="settings",Me="success",Ie="error",re=(e,t,n)=>{e?.addEventListener(t,n)};function Fc(){return new Promise((e,t)=>{const n=indexedDB.open(Bc,jc);re(n,"upgradeneeded",()=>{const r=n.result;r.objectStoreNames.contains(Be)||r.createObjectStore(Be,{keyPath:"id"}),r.objectStoreNames.contains(Ha)||r.createObjectStore(Ha,{keyPath:"id"}),r.objectStoreNames.contains(St)||r.createObjectStore(St,{keyPath:"id"}),r.objectStoreNames.contains(kt)||r.createObjectStore(kt,{keyPath:"id"}),r.objectStoreNames.contains(or)||r.createObjectStore(or,{keyPath:"id"})}),re(n,Me,()=>{const r=n.result;e(r),r.onversionchange=function(){r?.close(),alert("app outdated, please reload the page")}}),re(n,"blocked",()=>{t(),alert("app outdated, please reload the page")}),re(n,Ie,()=>{t()})})}function ho(e){return new Promise((t,n)=>{const a=e?.transaction(kt,"readonly")?.objectStore(kt).get("default");re(a,Me,()=>{const s=a?.result?.settings;t(s)}),re(a,Ie,()=>{n()})})}function Uc(e,t){return new Promise((n,r)=>{const i=e?.transaction(kt,"readwrite")?.objectStore(kt)?.put({id:"default",settings:t});re(i,Me,()=>{n()}),re(i,Ie,()=>{r()})})}function Vr(e){return new Promise((t,n)=>{const a=e?.transaction(St,"readonly")?.objectStore(St).get("default");re(a,Me,()=>{const s=a?.result?.account;t(s)}),re(a,Ie,()=>{n()})})}function mr(e,t){return new Promise((n,r)=>{const i=e?.transaction(St,"readwrite")?.objectStore(St)?.put({id:"default",account:t});re(i,Me,()=>{n()}),re(i,Ie,()=>{r()})})}function Un(e){return new Promise((t,n)=>{const a=e?.transaction(Be,"readonly")?.objectStore(Be).getAll();re(a,Me,()=>{const s=a?.result||[];t(s)}),re(a,Ie,()=>{n()})})}function ha(e,t){return new Promise((n,r)=>{const i=e?.transaction(Be,"readwrite")?.objectStore(Be)?.put({...t});re(i,Me,()=>{n()}),re(i,Ie,()=>{r()})})}function zc(e,t){return new Promise((n,r)=>{const i=e?.transaction(Be,"readwrite")?.objectStore(Be)?.delete(t);re(i,Me,()=>{n()}),re(i,Ie,()=>{r()})})}function Hc(e){return new Promise((t,n)=>{const s=e?.transaction(Be,"readwrite")?.objectStore(Be)?.clear();re(s,Me,()=>{t()}),re(s,Ie,()=>{n()})})}function ga(e){return Promise.all([new Promise((t,n)=>{const s=e?.transaction(St,"readwrite")?.objectStore(St)?.clear();re(s,Me,()=>{t()}),re(s,Ie,()=>{n()})}),new Promise((t,n)=>{const s=e?.transaction(Be,"readwrite")?.objectStore(Be)?.clear();re(s,Me,()=>{t()}),re(s,Ie,()=>{n()})}),new Promise((t,n)=>{const s=e?.transaction(kt,"readwrite")?.objectStore(kt)?.clear();re(s,Me,()=>{t()}),re(s,Ie,()=>{n()})}),new Promise((t,n)=>{const s=e?.transaction(or,"readwrite")?.objectStore(or)?.clear();re(s,Me,()=>{t()}),re(s,Ie,()=>{n()})})])}async function Vc(e,t){const n=(await Un(e)).reduce((i,l)=>(i[l.id]=l,i),{}),r={},s=e?.transaction(Be,"readwrite")?.objectStore(Be);t.forEach(i=>{n[i.id]?n[i.id].updatedAt<i.updatedAt&&(r[i.id]=i):r[i.id]=i}),await Promise.all(Object.values(r).map(i=>{const l=s?.put(i);return new Promise((c,u)=>{re(l,Me,()=>{c()}),re(l,Ie,()=>{u()})})}))}let ue=null;const go=crypto.randomUUID(),_o=new BroadcastChannel("app"),Ze=(e,t)=>{_o.postMessage(JSON.stringify({tabId:go,type:e,data:t}))};_o.addEventListener("message",async e=>{if(e.data&&typeof e.data=="string"){const t=JSON.parse(e.data);if(t.tabId&&t.tabId===go)return;if(t.type==="addNote"){const n=t.data;io(n)}else if(t.type==="updateNote"){const n=t.data;da(n)}else if(t.type==="deleteNote"){const n=t.data;lo(n)}else if(t.type==="clearNotes")co();else if(t.type==="reloadNotes"){const n=await Un(ue);await Fn(n)}else if(t.type==="initLocalAccount")st(null),Ur(),vt("/");else if(t.type==="initAccount"){const n=await Vr(ue);n&&(st(n),Ur(),vt("/"))}else if(t.type==="updateSettings"){const n=await ho(ue);n&&ua(n)}else if(t.type==="disconnectCloudAccount")st(null);else if(t.type==="exit")uo();else if(t.type==="updateAccount"){const n=await Vr(ue);n&&st(n)}}});(async()=>{ue=await Fc(),Cc();const e=await ho(ue);ua(e);const t=await Vr(ue);if(t===void 0)nt(D.Start);else{$l(D.Start)&&(Ur(),vt("/")),t?(st(t),await aa()):st(null);const n=await Un(ue);await Fn(n)}})();const _d=async e=>{const t={...e,id:Rc(),createdAt:Date.now(),updatedAt:Date.now()};io(t),Ze("addNote",t),await ha(ue,{...t})},pd=async e=>{const t={...e,updatedAt:Date.now()};Ze("updateNote",t),da(t),await ha(ue,t)},qc=async(e,t)=>{const n=xc()()?.get(e);if(!n)return;const r={...n,pinned:t};Ze("updateNote",r),da(r),await ha(ue,r)},Kc=async e=>{ua({showFavicon:e}),await Uc(ue,{showFavicon:e}),Ze("updateSettings")},Wc=async e=>{Ze("deleteNote",e),lo(e),await zc(ue,e)},md=async()=>{Ze("clearNotes"),co(),await Hc(ue)},wd=async e=>{await Vc(ue,e),Ze("reloadNotes");const t=await Un(ue);await Fn(t)},Yc=async()=>{await ga(ue),await aa(),await mr(ue,null),st(null),await Fn([]),Ze("initLocalAccount")},yd=async()=>{st(null),await mr(ue,null);try{await fetch("/api/dropSession",{method:"POST"})}catch{}Ze("disconnectCloudAccount")},bd=async e=>{await ga(ue),await aa();const{encryptedClientKey:t}=await Ic({clientKey:e.clientKey,serverKey:e.serverKey}),n={encryptedClientKey:mt(t),subscriptionExpires:e.subscriptionExpires||-1,lastSync:-1};await mr(ue,n),st(n);const r=await Un(ue);await Fn(r),Ze("initAccount")},Sd=async e=>{const t=oo();if(!t)return;const n={...t,subscriptionExpires:e};await mr(ue,n),st(n),Ze("updateAccount")},kd=async()=>{uo(),await ga(ue),Ze("exit")},Gc=(e,t,n)=>{C(t,!0),C(n,!0)},Xc=(e,t,n)=>{qc(t.note.id,!t.note.pinned),sa(t.note.pinned?"Note pinned":"Note unpinned"),C(n,!0)},Zc=(e,t,n)=>{navigator.clipboard.writeText(t.note.url),sa("Link copied"),C(n,!0)};var Jc=I("<div><button>Copy link</button></div>"),Qc=I('<div class="menu svelte-xxw0l"><!> <div><button> </button></div> <div><button>Delete</button></div></div>'),$c=I('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1);function eu(e,t){X(t,!0);const n=(g,f=et)=>{var p=Qc(),w=y(p);{var b=P=>{var N=Jc(),V=y(N);V.__click=[Zc,t,a],se(()=>$(V,1,Q(["button",{buttonMenuDialog:f()}]),"svelte-xxw0l")),m(P,N)};R(w,P=>{f()&&t.note.url&&P(b)})}var S=A(w,2),_=y(S);_.__click=[Xc,t,a];var x=y(_),E=A(S,2),k=y(E);k.__click=[Gc,s,a],se(()=>{$(_,1,Q(["button",{buttonMenuDialog:f()}]),"svelte-xxw0l"),vn(x,t.note.pinned?"Unpin":"Pin"),$(k,1,Q(["button",{buttonMenuDialog:f()}]),"svelte-xxw0l")}),m(g,p)};let r=ae(t,"shownMenu",15),a=M(!1),s=M(!1),i=O(pn),l=O(()=>new URLSearchParams(T.search).get("selectedTags")?.split(",")||[]);const c=()=>{const g=vo();t.note.tags.forEach(f=>{if(o(l).includes(f)&&g[f].connections===1){const p=new URLSearchParams(T.search),w=o(l).filter(b=>b!==f);w.length===0?p.delete("selectedTags"):p.set("selectedTags",w.join(",")),oa(`${T.pathname}${p.size>0?`?${p.toString()}`:""}`)}}),Wc(t.note.id)},u=()=>{o(s)&&c(),r(!1),C(a,!1)};var d=q(),h=L(d);{var v=g=>{var f=q(),p=L(f);{var w=S=>{$s(S,{get startClose(){return o(a)},onClosed:u,children:(_,x)=>{n(_,()=>!0)},$$slots:{default:!0}})},b=S=>{var _=$c(),x=L(_);oe(x,()=>({"--bottom":"-90px","--right":"20px"})),eo(x.lastChild,{get startClose(){return o(a)},get positionTop(){return t.showMenuUp},onClosed:u,children:(E,k)=>{n(E,()=>!1)},$$slots:{default:!0}}),m(S,_)};R(p,S=>{o(i)?S(w):S(b,!1)})}m(g,f)};R(h,g=>{r()&&g(v)})}m(e,d),Z()}Te(["click"]);const tu=(e,t)=>{C(t,!0)},nu=(e,t,n)=>{navigator.clipboard.writeText(t.note.url),sa("Link copied"),C(n,!1)},ru=(e,t)=>{C(t,!0)},au=(e,t)=>{C(t,!1)},su=(e,t,n)=>{e.preventDefault(),nt(`${D.EditNote}?id=${t.note.id}`),C(n,!1)};var ou=I('<div class="iconPlaceholder svelte-qwgtkc"></div>'),iu=I('<img loading="lazy" class="noteIcon" height="16" width="16" alt=""/>'),lu=I('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),cu=I('<div class="noteIconWrapper svelte-qwgtkc"><!></div>'),uu=I('<button class="button svelte-qwgtkc"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),du=(e,t)=>{C(t,!1)},fu=I('<!> <a target="_blank" rel="noopener noreferrer" class="button openLink svelte-qwgtkc"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a>',1),vu=I('<li><!> <a class="noteLink svelte-qwgtkc" target="_blank" rel="noopener noreferrer"> </a> <div><!> <button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button></div> <!></li>');function hu(e,t){X(t,!0);let n=M(!1),r=M(!1),a=M(!1),s=O(so);const i=_=>{try{return`https://icons.duckduckgo.com/ip3/${new URL(_).host}.ico`}catch{return""}};var l=vu();l.__focusin=[ru,r],l.__focusout=[au,r];var c=y(l);{var u=_=>{var x=cu(),E=y(x);{var k=N=>{var V=q(),U=L(V);{var Y=z=>{var B=ou();m(z,B)},j=z=>{var B=iu();se(W=>_e(B,"src",W),[()=>i(t.note.url)]),na("error",B,()=>{C(a,!0)}),m(z,B)};R(U,z=>{o(a)?z(Y):z(j,!1)})}m(N,V)},P=N=>{var V=lu(),U=L(V);oe(U,()=>({"--size":"16px"})),ce(U.lastChild,{name:"note"}),m(N,V)};R(E,N=>{t.note.url?N(k):N(P,!1)})}m(_,x)};R(c,_=>{o(s)&&_(u)})}var d=A(c,2);d.__click=[su,t,r];var h=y(d),v=A(d,2),g=y(v);{var f=_=>{var x=fu(),E=L(x);{var k=U=>{var Y=uu();Y.__click=[nu,t,r];var j=y(Y);oe(j,()=>({"--size":"20px"})),ce(j.lastChild,{name:"copy"});var z=A(j,2);Qe(z,{children:(B,W)=>{var de=Ce("copy link");m(B,de)}}),se(()=>_e(Y,"tabindex",t.focusHidden?-1:0)),m(U,Y)};R(E,U=>{pn()||U(k)})}var P=A(E,2);P.__click=[du,r];var N=y(P);oe(N,()=>({"--size":"18px"})),ce(N.lastChild,{name:"open"});var V=A(N,2);Qe(V,{children:(U,Y)=>{var j=Ce();se(()=>vn(j,t.note.name)),m(U,j)}}),se(()=>{_e(P,"href",t.note.url),_e(P,"tabindex",t.focusHidden?-1:0)}),m(_,x)};R(g,_=>{t.note.url&&_(f)})}var p=A(g,2);p.__click=[tu,n],$(p,1,Q(["button","buttonMenu"]),"svelte-qwgtkc");var w=y(p);oe(w,()=>({"--size":"18px","--rotate":"90deg"})),ce(w.lastChild,{name:"menu"});var b=A(w,2);Qe(b,{children:(_,x)=>{var E=Ce("show menu");m(_,E)}});var S=A(v,2);eu(S,{get note(){return t.note},get showMenuUp(){return t.showMenuUp},get shownMenu(){return o(n)},set shownMenu(_){C(n,_,!0)}}),se(_=>{$(l,1,Q(["record",{pinned:t.note.pinned}]),"svelte-qwgtkc"),_e(d,"tabindex",t.focusHidden?-1:0),_e(d,"href",_),vn(h,t.note.name),$(v,1,Q(["noteMenuWrapper",{noteMenuWrapperActive:o(r)}]),"svelte-qwgtkc"),_e(p,"tabindex",t.focusHidden?-1:0)},[()=>`/?stackPages=${encodeURIComponent(`${D.EditNote}?id=${t.note.id}`)}`]),m(e,l),Z()}Te(["focusin","focusout","click"]);var gu=I('<div><!> <div class="loader svelte-1wuuvr"></div></div>');function po(e,t){X(t,!0);let n=M(!1);he(()=>{const s=setTimeout(()=>{C(n,!0)},200);return()=>{clearTimeout(s)}});var r=gu(),a=y(r);Ae(a,()=>t.children??et),se(()=>$(r,1,Q(["block",{shown:o(n)}]),"svelte-1wuuvr")),m(e,r),Z()}var _u=I("<a><!></a>"),pu=I("<button><!></button>");function Et(e,t){let n=ae(t,"type",3,"standard"),r=ae(t,"typeButton",3,"button"),a=ae(t,"element",3,"button"),s=ae(t,"href",3,""),i=ae(t,"fullWidth",3,!1);var l=q(),c=L(l);{var u=h=>{var v=_u();v.__click=function(...f){t.onClick?.apply(this,f)};var g=y(v);Ae(g,()=>t.children??et),se(()=>{_e(v,"href",s()),$(v,1,Q(["button","a",{dangerous:n()==="dangerous",secondary:n()==="secondary",fullWidth:i()}]),"svelte-1jdpwur")}),m(h,v)},d=h=>{var v=pu();v.__click=function(...f){t.onClick?.apply(this,f)};var g=y(v);Ae(g,()=>t.children??et),se(()=>{_e(v,"type",r()),$(v,1,Q(["button",{dangerous:n()==="dangerous",secondary:n()==="secondary",fullWidth:i()}]),"svelte-1jdpwur")}),m(h,v)};R(c,h=>{a()==="a"?h(u):h(d,!1)})}m(e,l)}Te(["click"]);var mu=I('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Add note</span>',1),wu=I('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span style="padding-left: 6px;">Import data</span>',1),yu=I('<div class="emptyStore svelte-16l11aw"><p class="message">No notes found</p> <div class="wrapperButtonsAdd svelte-16l11aw"><!></div> <div>or</div> <div class="wrapperButtonsAdd svelte-16l11aw"><!></div></div>'),bu=I('<div class="emptyMessage svelte-16l11aw">No notes found</div>'),Su=I('<div class="feed svelte-16l11aw"><ul class="svelte-16l11aw"></ul></div>'),ku=I('<div class="wrapperFeed svelte-16l11aw"><div class="wrapperContainer svelte-16l11aw"><!></div></div>');function Eu(e,t){X(t,!0);let n=54,r=M(0),a=M(0),s=M(0),i=O(Ks),l=M(0),c=[],u=M(0),d=O(()=>la.ref),h=null,v=null;const g=O(Il);Ee(()=>{o(i),o(g),o(b),o(d)?.scrollTo(0,0)});const{enable:f}=js(),p=()=>{f(),h||(h=requestAnimationFrame(()=>{const B=o(d)?.scrollTop||0;C(s,B,!0);const W=Math.ceil(o(r)/n);C(a,Math.floor(B/(n*W))*(n*W)),h=null}))},w=()=>{v||(v=requestAnimationFrame(()=>{C(r,window.innerHeight-180||0,!0);const B=o(d)?.scrollTop||0;C(s,B,!0);const W=Math.ceil(o(r)/n);C(a,Math.floor(B/(n*W))*(n*W)),v=null}))};he(()=>{w(),p()}),Ee(()=>(o(d)?.addEventListener("scroll",p),window.addEventListener("resize",w),()=>{o(d)?.removeEventListener("scroll",p),window.removeEventListener("resize",w)}));const b=O(Vs);let S=M(""),_=O(Pc);Ee(()=>{o(b);const B=o(_)()||[];Ut(()=>o(S))!==o(b)&&Ut(()=>C(S,o(b),!0)),B.sort((F,H)=>{if(!F||!H)return 0;if(F.pinned&&!H.pinned)return 1;if(!F.pinned&&H.pinned)return-1;switch(o(b)){case"newest":return F.updatedAt<H.updatedAt?-1:1;case"oldest":return F.updatedAt>H.updatedAt?-1:1;case"AtoZ":return H.name.localeCompare(F.name);case"ZtoA":return F.name.localeCompare(H.name);default:return 0}});const de=[],G={};for(let F=B.length-1;F>=0;F--){const H=B[F];if(H&&!(o(g).length&&o(g).some(te=>!H.tags.includes(te)))&&!(o(i)&&!(H.name.toLowerCase().includes(o(i).toLowerCase())||H.url.toLowerCase().includes(o(i).toLowerCase())||H.text.toLowerCase().includes(o(i).toLowerCase())))){if(H.tags)for(const te of H.tags)G[te]?G[te].connections++:G[te]={name:te,connections:1};de.push(H)}}Ac(G),C(l,de.length,!0),c=de,C(u,Date.now(),!0)});const x=O(()=>o(l)*n);let k=O(()=>{o(u);const B=Math.ceil(o(r)/n);let W=Math.floor(o(a)/n);return W=W-Math.min(W,B),c.slice(W,W+B*3)}),P=O(()=>n*Math.ceil(o(r)/n));const N=O(()=>o(a)-Math.min(o(a),o(P)));var V=ku(),U=y(V),Y=y(U);{var j=B=>{po(B,{})},z=B=>{var W=q(),de=L(W);{var G=H=>{var te=yu(),He=A(y(te),2),Ne=y(He);{let be=O(()=>Rt(D.NewNote)),Ve=O(()=>Bt(D.NewNote));Et(Ne,{element:"a",get href(){return o(be)},get onClick(){return o(Ve)},children:(je,qe)=>{var ke=mu(),Fe=L(ke);oe(Fe,()=>({"--size":"18px","--color":"#b0b0b0"})),ce(Fe.lastChild,{name:"plus"}),m(je,ke)},$$slots:{default:!0}})}var ve=A(He,4),me=y(ve);{let be=O(()=>Rt(D.ImportData)),Ve=O(()=>Bt(D.ImportData));Et(me,{element:"a",get href(){return o(be)},get onClick(){return o(Ve)},children:(je,qe)=>{var ke=wu(),Fe=L(ke);oe(Fe,()=>({"--size":"18px","--color":"#b0b0b0"})),ce(Fe.lastChild,{name:"import"}),m(je,ke)},$$slots:{default:!0}})}m(H,te)},F=H=>{var te=q(),He=L(te);{var Ne=me=>{var be=bu();m(me,be)},ve=me=>{var be=Su(),Ve=y(be);tn(Ve,23,()=>o(k),je=>je.id,(je,qe,ke)=>{{let Fe=O(()=>o(ke)*n<o(s)-o(N)-n/2||o(ke)*n>o(s)-o(N)+Math.floor(o(r)/n)*n),fe=O(()=>(o(ke)+3)*n<o(s)-o(N)-n/2||(o(ke)+3)*n>o(s)-o(N)+Math.floor(o(r)/n)*n);hu(je,{get focusHidden(){return o(Fe)},get showMenuUp(){return o(fe)},get note(){return o(qe)}})}}),se(je=>{xn(be,`min-height: ${je??""}px`),xn(Ve,`transform: translateY(${o(N)??""}px);`)},[()=>Math.max((o(x)>o(r),o(x)),0)]),m(me,be)};R(He,me=>{o(k).length===0?me(Ne):me(ve,!1)},!0)}m(H,te)};R(de,H=>{(o(_)()||[]).length===0?H(G):H(F,!1)},!0)}m(B,W)};R(Y,B=>{pr()?B(z,!1):B(j)})}m(e,V),Z()}var Cu=I('<!> <div class="content svelte-cu0ar8"><!></div>',1);function mo(e){var t=Cu(),n=L(t);Mc(n,{});var r=A(n,2),a=y(r);Eu(a,{}),m(e,t)}const Pu=Object.freeze(Object.defineProperty({__proto__:null,default:mo},Symbol.toStringTag,{value:"Module"}));var xu=I('<div class="wrapper svelte-1syxvud"><fieldset class="switcher svelte-1syxvud"><legend class="vh svelte-1syxvud">Color Scheme</legend> <input id="light" type="radio" aria-label="Light"/> <label for="light" title="Light" aria-label="Light"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <input id="system" type="radio" aria-label="System"/> <label for="system" title="System" aria-label="System"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <input id="dark" type="radio" aria-label="Dark"/> <label for="dark" title="Dark" aria-label="Dark"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <div class="wrapSwitcherStatus svelte-1syxvud"><div class="switcherStatus svelte-1syxvud"></div></div></fieldset></div>');function Au(e,t){X(t,!0);const n={Light:"light",System:"system",Dark:"dark"};let r=M(pe(localStorage.getItem("colorScheme")||n.System));const a=_=>{localStorage.setItem("colorScheme",_),_===n.System?window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.dataset.colorScheme=n.Dark:document.documentElement.dataset.colorScheme=n.Light:document.documentElement.dataset.colorScheme=_,C(r,_,!0)},s=_=>{const x=_.target.value;a(x)},i="color-scheme-switcher";var l={setColorScheme:a,handleChange:s},c=xu(),u=y(c),d=A(y(u),2);$(d,1,Q(["vh","input"]),"svelte-1syxvud"),_e(d,"name",i),d.__change=s;var h=A(d,2);$(h,1,Q(["switcherButton","light"]),"svelte-1syxvud");var v=y(h);oe(v,()=>({"--size":"20px"})),ce(v.lastChild,{name:"sun"});var g=A(h,2);$(g,1,Q(["vh","input"]),"svelte-1syxvud"),_e(g,"name",i),g.__change=s;var f=A(g,2);$(f,1,Q(["switcherButton","system"]),"svelte-1syxvud");var p=y(f);oe(p,()=>({"--size":"14px"})),ce(p.lastChild,{name:"a"});var w=A(f,2);$(w,1,Q(["vh","input"]),"svelte-1syxvud"),_e(w,"name",i),w.__change=s;var b=A(w,2);$(b,1,Q(["switcherButton","dark"]),"svelte-1syxvud");var S=y(b);return oe(S,()=>({"--size":"20px"})),ce(S.lastChild,{name:"moon"}),se(()=>{Pr(d,n.Light),tr(d,o(r)===n.Light),Pr(g,n.System),tr(g,o(r)===n.System),Pr(w,n.Dark),tr(w,o(r)===n.Dark)}),m(e,c),Z(l)}Te(["change"]);const Tu=(e,t)=>{t.onChange(!t.checked)};var Nu=I('<label class="switch svelte-15kl8eb"><input class="vh svelte-15kl8eb" type="checkbox"/> <span class="slider svelte-15kl8eb"></span></label>');function Du(e,t){X(t,!0);var n=Nu(),r=y(n);r.__change=[Tu,t],se(()=>tr(r,t.checked)),m(e,n),Z()}Te(["change"]);const Lu=()=>{nt(D.ImportData)},Ou=()=>{nt(D.ExportData)},Mu=()=>{nt(D.ClearStore)},Iu=()=>{nt(D.Account)},Ru=()=>{nt(D.About)};var Bu=I("<span> </span>"),ju=I('<div class="svelte-1kuxgbs"><!> <ul class="svelte-1kuxgbs"><li class="svelte-1kuxgbs"><button class="button svelte-1kuxgbs"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1kuxgbs">Import data</span></button></li> <li class="svelte-1kuxgbs"><button class="button svelte-1kuxgbs"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1kuxgbs">Export data</span></button></li> <li class="svelte-1kuxgbs"><button class="button svelte-1kuxgbs"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1kuxgbs">Clear storage</span></button></li> <li class="svelte-1kuxgbs"><button class="button svelte-1kuxgbs"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1kuxgbs">Account</span></button></li> <li class="svelte-1kuxgbs"><button class="button svelte-1kuxgbs"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1kuxgbs">About</span></button></li></ul> <div class="favicons svelte-1kuxgbs"><span class="faviconsLabel svelte-1kuxgbs">show favicons (use duckduckgo servers)</span> <!></div> <div class="version svelte-1kuxgbs"><!></div></div>');function wo(e,t){X(t,!0);let n=M("");const r=async z=>{try{const W=await(await fetch("/build-metadata.json",{signal:z})).json();C(n,`${W.buildHash}`)}catch{}};he(()=>{const z=new AbortController;return r(z.signal),()=>{z.abort()}});let a=O(so);const s=z=>{Kc(z)};he(()=>{});var i=ju(),l=y(i);Au(l,{});var c=A(l,2),u=y(c),d=y(u);d.__click=[Lu];var h=y(d);oe(h,()=>({"--size":"28px"})),ce(h.lastChild,{name:"import"});var v=A(u,2),g=y(v);g.__click=[Ou];var f=y(g);oe(f,()=>({"--size":"28px"})),ce(f.lastChild,{name:"export"});var p=A(v,2),w=y(p);w.__click=[Mu];var b=y(w);oe(b,()=>({"--size":"28px"})),ce(b.lastChild,{name:"trash"});var S=A(p,2),_=y(S);_.__click=[Iu];var x=y(_);oe(x,()=>({"--size":"28px"})),ce(x.lastChild,{name:"account"});var E=A(S,2),k=y(E);k.__click=[Ru];var P=y(k);oe(P,()=>({"--size":"28px"})),ce(P.lastChild,{name:"about"});var N=A(c,2),V=A(y(N),2);Du(V,{get checked(){return o(a)},onChange:s});var U=A(N,2),Y=y(U);{var j=z=>{var B=Bu(),W=y(B);se(de=>vn(W,`version: 0.0.1 build_date: "${de??""}" build_hash:
				${o(n)??""}`),[()=>new Date(1757884097822).toISOString().replaceAll("T"," ").replace(/\..*/,"")]),m(z,B)};R(Y,z=>{o(n)&&z(j)})}m(e,i),Z()}Te(["click"]);const Fu=Object.freeze(Object.defineProperty({__proto__:null,default:wo},Symbol.toStringTag,{value:"Module"}));var Uu=I('<div class="content svelte-9hh95f"><p class="message svelte-9hh95f">use app</p> <div class="buttonContainer svelte-9hh95f"><div class="buttonContainerItem svelte-9hh95f"><!></div> <div class="buttonContainerItem svelte-9hh95f"><!></div></div></div>');function yo(e,t){X(t,!0);let n=M("idle");const r=()=>{C(n,"loading"),nt(D.Auth)},a=async()=>{C(n,"loading"),await Yc(),Sn(!1),Ys()};Ee(()=>{Sn(o(n)==="idle"||o(n)==="loading")}),he(()=>(Sn(!0),()=>{Sn(!1)}));var s=Uu(),i=A(y(s),2),l=y(i),c=y(l);Et(c,{onClick:r,fullWidth:!0,children:(h,v)=>{var g=Ce("cloud account");m(h,g)},$$slots:{default:!0}});var u=A(l,2),d=y(u);Et(d,{onClick:a,fullWidth:!0,type:"secondary",children:(h,v)=>{var g=Ce("local account");m(h,g)},$$slots:{default:!0}}),m(e,s),Z()}const zu=Object.freeze(Object.defineProperty({__proto__:null,default:yo},Symbol.toStringTag,{value:"Module"}));var Hu=I('<div class="content svelte-9hh95f"><p class="message svelte-9hh95f">sign in / sign up</p> <div class="buttonContainer svelte-9hh95f"><div class="buttonContainerItem svelte-9hh95f"><!></div> <div class="buttonContainerItem svelte-9hh95f"><!></div></div></div>');function bo(e,t){X(t,!0);let n=O(oo);const r=async()=>{nt(D.Signin)},a=async()=>{nt(D.Signup)};he(()=>(o(n)===void 0&&(Sn(!0),Ua(!0)),()=>{Ua(!1)}));var s=Hu(),i=A(y(s),2),l=y(i),c=y(l);Et(c,{onClick:r,fullWidth:!0,children:(h,v)=>{var g=Ce("sign in");m(h,g)},$$slots:{default:!0}});var u=A(l,2),d=y(u);Et(d,{onClick:a,fullWidth:!0,children:(h,v)=>{var g=Ce("sign up");m(h,g)},$$slots:{default:!0}}),m(e,s),Z()}const Vu=Object.freeze(Object.defineProperty({__proto__:null,default:bo},Symbol.toStringTag,{value:"Module"}));var qu=I('<div class="svelte-frpywy"><!></div>');function Se(e,t){X(t,!0);let n=M(null);he(()=>{o(n)&&(o(n).getBoundingClientRect(),o(n).style.opacity="1");const s=new ResizeObserver(i=>{for(let l of i){const c=l.contentRect.height;vc(c)}});if(o(n))return s.observe(o(n)),()=>{o(n)&&s.unobserve(o(n)),s.disconnect()}});var r=qu(),a=y(r);Ae(a,()=>t.children),tt(r,s=>C(n,s),()=>o(n)),m(e,r),Z()}var Ku=I('<div class="svelte-ndasxn"><p class="svelte-ndasxn">Page not found</p> <!></div>');function So(e,t){X(t,!1);const n=s=>{s.preventDefault(),vt("/")};Bn();var r=Ku(),a=A(y(r),2);Et(a,{element:"a",href:"/",onClick:n,children:(s,i)=>{var l=Ce("close");m(s,l)},$$slots:{default:!0}}),m(e,r),Z()}const Wu=Object.freeze(Object.defineProperty({__proto__:null,default:So},Symbol.toStringTag,{value:"Module"}));var Yu=I('<div class="svelte-1tpcci8"><p class="svelte-1tpcci8">Something went wrong. Please reload the page</p> <!></div>');function Gu(e){var t=Yu(),n=A(y(t),2);Et(n,{onClick:()=>location.reload(),children:(r,a)=>{var s=Ce("Reload");m(r,s)},$$slots:{default:!0}}),m(e,t)}var Xu=I('<div class="svelte-uzefkz"><!></div>');function Zu(e,t){X(t,!1);const n=ro();Bn();var r=Xu(),a=y(r);po(a,{}),se(()=>xn(r,`min-height: ${n??""}px;`)),m(e,r),Z()}function Oe(e,t){X(t,!0);const n={},r=Object.assign({"./Pages/About.svelte":()=>ge(()=>import("./About-PBbW1vec.js"),__vite__mapDeps([2,3])),"./Pages/AccessKeys.svelte":()=>ge(()=>import("./AccessKeys-CeJVHEJC.js"),__vite__mapDeps([4,5,6])),"./Pages/Account.svelte":()=>ge(()=>import("./Account-DXnYUj1x.js"),__vite__mapDeps([7,8])),"./Pages/Auth.svelte":()=>ge(()=>Promise.resolve().then(()=>Vu),void 0),"./Pages/ClearStore.svelte":()=>ge(()=>import("./ClearStore-BcvOptf0.js"),__vite__mapDeps([9,10])),"./Pages/ConfirmAccessKey.svelte":()=>ge(()=>import("./ConfirmAccessKey-B2o35Xco.js"),__vite__mapDeps([11,5,12,13,14])),"./Pages/EditNote.svelte":()=>ge(()=>import("./EditNote-DsPofl3A.js"),__vite__mapDeps([15,16,12,13,17])),"./Pages/Exit.svelte":()=>ge(()=>import("./Exit-Bu9Wmitk.js"),__vite__mapDeps([18,19])),"./Pages/ExportData.svelte":()=>ge(()=>import("./ExportData-B4nSPF-Q.js"),__vite__mapDeps([20,21])),"./Pages/Home.svelte":()=>ge(()=>Promise.resolve().then(()=>Pu),void 0),"./Pages/ImportData.svelte":()=>ge(()=>import("./ImportData-DA6pQIgj.js"),__vite__mapDeps([22,23])),"./Pages/NewNote.svelte":()=>ge(()=>import("./NewNote-CaPyVquf.js"),__vite__mapDeps([24,16,12,13,17])),"./Pages/NotFound.svelte":()=>ge(()=>Promise.resolve().then(()=>Wu),void 0),"./Pages/Settings.svelte":()=>ge(()=>Promise.resolve().then(()=>Fu),void 0),"./Pages/Signin.svelte":()=>ge(()=>import("./Signin-D6q7aeQ9.js"),__vite__mapDeps([25,5,26])),"./Pages/Signup.svelte":()=>ge(()=>import("./Signup-DcwPJhgF.js"),__vite__mapDeps([27,5,26])),"./Pages/Start.svelte":()=>ge(()=>Promise.resolve().then(()=>zu),void 0),"./Pages/Subscription.svelte":()=>ge(()=>import("./Subscription-BavRcnlY.js"),__vite__mapDeps([28,29])),"./Pages/Sync.svelte":()=>ge(()=>import("./Sync-BOMLZYOx.js"),__vite__mapDeps([30,31]))}),a=async l=>{const c=`./Pages/${l[0].toUpperCase()+l.slice(1)}.svelte`;if(!n[l]){if(r[c]){const u=r[c]();return n[l]={promise:u},n[l].module=await u,n[l].module}throw new Error(`Page ${l} not found`)}return n[l].module||await n[l].promise};var s=q(),i=L(s);Ds(i,()=>a(t.page),l=>{Zu(l,{})},(l,c)=>{const u=O(()=>o(c).default);var d=q(),h=L(d);Ms(h,()=>o(u),(v,g)=>{g(v,{get params(){return t.params},get hidden(){return t.hidden}})}),m(l,d)},l=>{Gu(l)}),m(e,s),Z()}const Va=(e,t=et,n=et,r)=>{let a=fr(()=>Yo(r?.(),!1));var s=q(),i=L(s);{var l=u=>{Se(u,{children:(d,h)=>{wo(d,{})},$$slots:{default:!0}})},c=u=>{var d=q(),h=L(d);{var v=f=>{Se(f,{children:(p,w)=>{Oe(p,{get hidden(){return o(a)},get page(){return D.NewNote}})},$$slots:{default:!0}})},g=f=>{var p=q(),w=L(p);{var b=_=>{Se(_,{children:(x,E)=>{Oe(x,{get params(){return n()},get hidden(){return o(a)},get page(){return D.EditNote}})},$$slots:{default:!0}})},S=_=>{var x=q(),E=L(x);{var k=N=>{Se(N,{children:(V,U)=>{Oe(V,{get hidden(){return o(a)},get page(){return D.ImportData}})},$$slots:{default:!0}})},P=N=>{var V=q(),U=L(V);{var Y=z=>{Se(z,{children:(B,W)=>{Oe(B,{get hidden(){return o(a)},get page(){return D.ExportData}})},$$slots:{default:!0}})},j=z=>{var B=q(),W=L(B);{var de=F=>{Se(F,{children:(H,te)=>{Oe(H,{get hidden(){return o(a)},get page(){return D.ClearStore}})},$$slots:{default:!0}})},G=F=>{var H=q(),te=L(H);{var He=ve=>{Se(ve,{children:(me,be)=>{yo(me,{})},$$slots:{default:!0}})},Ne=ve=>{var me=q(),be=L(me);{var Ve=qe=>{Se(qe,{children:(ke,Fe)=>{bo(ke,{})},$$slots:{default:!0}})},je=qe=>{var ke=q(),Fe=L(ke);{var fe=we=>{Se(we,{children:(ut,zn)=>{Oe(ut,{get hidden(){return o(a)},get page(){return D.Signup}})},$$slots:{default:!0}})},De=we=>{var ut=q(),zn=L(ut);{var mn=Kt=>{Se(Kt,{children:(Hn,_a)=>{Oe(Hn,{get hidden(){return o(a)},get page(){return D.Signin}})},$$slots:{default:!0}})},ko=Kt=>{var Hn=q(),_a=L(Hn);{var Eo=Wt=>{Se(Wt,{children:(Vn,pa)=>{Oe(Vn,{get hidden(){return o(a)},get page(){return D.AccessKeys}})},$$slots:{default:!0}})},Co=Wt=>{var Vn=q(),pa=L(Vn);{var Po=Yt=>{Se(Yt,{children:(qn,ma)=>{Oe(qn,{get hidden(){return o(a)},get page(){return D.Account}})},$$slots:{default:!0}})},xo=Yt=>{var qn=q(),ma=L(qn);{var Ao=Gt=>{Se(Gt,{children:(Kn,wa)=>{Oe(Kn,{get hidden(){return o(a)},get page(){return D.ConfirmAccessKey}})},$$slots:{default:!0}})},To=Gt=>{var Kn=q(),wa=L(Kn);{var No=Xt=>{Se(Xt,{children:(Wn,ya)=>{Oe(Wn,{get hidden(){return o(a)},get page(){return D.Exit}})},$$slots:{default:!0}})},Do=Xt=>{var Wn=q(),ya=L(Wn);{var Lo=Zt=>{Se(Zt,{children:(Yn,ba)=>{Oe(Yn,{get hidden(){return o(a)},get page(){return D.Sync}})},$$slots:{default:!0}})},Oo=Zt=>{var Yn=q(),ba=L(Yn);{var Mo=Jt=>{Se(Jt,{children:(Gn,Sa)=>{Oe(Gn,{get hidden(){return o(a)},get page(){return D.Subscription}})},$$slots:{default:!0}})},Io=Jt=>{var Gn=q(),Sa=L(Gn);{var Ro=Qt=>{Se(Qt,{children:(wr,jo)=>{Oe(wr,{get hidden(){return o(a)},get page(){return D.About}})},$$slots:{default:!0}})},Bo=Qt=>{Se(Qt,{children:(wr,jo)=>{So(wr,{})},$$slots:{default:!0}})};R(Sa,Qt=>{t()===D.About?Qt(Ro):Qt(Bo,!1)},!0)}m(Jt,Gn)};R(ba,Jt=>{t()===D.Subscription?Jt(Mo):Jt(Io,!1)},!0)}m(Zt,Yn)};R(ya,Zt=>{t()===D.Sync?Zt(Lo):Zt(Oo,!1)},!0)}m(Xt,Wn)};R(wa,Xt=>{t()===D.Exit?Xt(No):Xt(Do,!1)},!0)}m(Gt,Kn)};R(ma,Gt=>{t()===D.ConfirmAccessKey?Gt(Ao):Gt(To,!1)},!0)}m(Yt,qn)};R(pa,Yt=>{t()===D.Account?Yt(Po):Yt(xo,!1)},!0)}m(Wt,Vn)};R(_a,Wt=>{t()===D.AccessKeys?Wt(Eo):Wt(Co,!1)},!0)}m(Kt,Hn)};R(zn,Kt=>{t()===D.Signin?Kt(mn):Kt(ko,!1)},!0)}m(we,ut)};R(Fe,we=>{t()===D.Signup?we(fe):we(De,!1)},!0)}m(qe,ke)};R(be,qe=>{t()===D.Auth?qe(Ve):qe(je,!1)},!0)}m(ve,me)};R(te,ve=>{t()===D.Start?ve(He):ve(Ne,!1)},!0)}m(F,H)};R(W,F=>{t()===D.ClearStore?F(de):F(G,!1)},!0)}m(z,B)};R(U,z=>{t()===D.ExportData?z(Y):z(j,!1)},!0)}m(N,V)};R(E,N=>{t()===D.ImportData?N(k):N(P,!1)},!0)}m(_,x)};R(w,_=>{t()===D.EditNote?_(b):_(S,!1)},!0)}m(f,p)};R(h,f=>{t()===D.NewNote?f(v):f(g,!1)},!0)}m(u,d)};R(i,u=>{t()==="settings"?u(l):u(c,!1)})}m(e,s)};var Ju=I("<!> <!>",1);function Qu(e,t){X(t,!0);let n=O(ec),r=O(pr);var a=Ju(),s=L(a);{var i=d=>{mo(d)};R(s,d=>{o(r)&&d(i)})}var l=A(s,2);{var c=d=>{var h=q(),v=L(h);tn(v,19,()=>o(n),g=>g.page,(g,f,p)=>{const w=O(()=>o(f).page.split("?")[1]),b=O(()=>o(f).page.split("?")[0]);{let S=O(()=>o(p)!==o(n).length-1&&!!o(n)[o(p)+1]?.shown),_=O(()=>o(p)===0);za(g,{get shown(){return o(f).shown},get hidden(){return o(S)},get isLastDialog(){return o(_)},children:(x,E)=>{{let k=O(()=>o(p)!==o(n).length-1&&!!o(n)[o(p)+1]?.shown);Va(x,()=>o(b),()=>o(w),()=>o(k))}},$$slots:{default:!0}})}}),m(d,h)},u=d=>{var h=q(),v=L(h);{var g=f=>{const p=O(()=>o(n)[o(n).length-1].page.split("?")[1]),w=O(()=>o(n)[o(n).length-1].page.split("?")[0]);{let b=O(()=>o(n).length===1);za(f,{onBack:()=>to(),get shown(){return o(n)[o(n).length-1].shown},hidden:!1,get isLastDialog(){return o(b)},children:(S,_)=>{Va(S,()=>o(w),()=>o(p))},$$slots:{default:!0}})}};R(v,f=>{o(n).length>0&&f(g)},!0)}m(d,h)};R(l,d=>{pn()?d(c):d(u,!1)})}m(e,a),Z()}function $u(e,t){X(t,!1),he(()=>{Tr(),document.addEventListener("focusin",Tr),document.addEventListener("focusout",Tr)}),Bn(),Z()}function ed(e,t){X(t,!1);let n=0;he(()=>{document.addEventListener("touchstart",r=>{n=r.touches[0].clientX},{passive:!1}),document.addEventListener("touchmove",r=>{const s=r.touches[0].clientX-n;(n<50&&s>0||n>window.innerWidth-50&&s<0)&&r.preventDefault()},{passive:!1}),document.addEventListener("touchend",()=>{n=0}),document.addEventListener("touchcancel",()=>{n=0})}),Bn(),Z()}const td=(e,t)=>{o(t)&&o(t).scrollTo({top:0})};var nd=I('<div class="wrapperButtonTop svelte-1rgtneh"><button class="buttonTop svelte-1rgtneh"><!> <span class="icon svelte-1rgtneh"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></span></button></div>'),rd=I('<!> <!> <!> <main><!> <div class="container svelte-1rgtneh"><!></div></main> <!>',1);function ad(e,t){X(t,!0);const n=jn();he(async()=>{await new Promise(E=>setTimeout(E,100)),await xs(),n.working=!0});let r=M(!1),a=0,s=O(()=>Pt().length>0),i=O(pr),l=M(null);Ee(()=>{la.ref=o(l)});const c=()=>{if(o(l)){const E=o(l).scrollTop||0;E===0?C(r,!1):!o(r)&&a>E?C(r,!0):o(r)&&a+50<E&&C(r,!1),a=E}},u=()=>{c()};Ee(()=>(o(l)?.addEventListener("scroll",u),window.addEventListener("resize",u),()=>{o(l)?.removeEventListener("scroll",u),window.removeEventListener("resize",u)}));var d=rd(),h=L(d);ed(h,{});var v=A(h,2);$u(v,{});var g=A(v,2);kl(g,{});var f=A(g,2),p=y(f);{var w=E=>{nc(E,{})};R(p,E=>{o(i)&&E(w)})}var b=A(p,2),S=y(b);Qu(S,{}),tt(f,E=>C(l,E),()=>o(l));var _=A(f,2);{var x=E=>{var k=nd(),P=y(k);P.__click=[td,l];var N=y(P);Qe(N,{children:(Y,j)=>{var z=Ce("top");m(Y,z)}});var V=A(N,2),U=y(V);oe(U,()=>({"--rotate":"90deg","--size":"28px"})),ce(U.lastChild,{name:"back"}),m(E,k)};R(_,E=>{o(r)&&E(x)})}se(()=>{xn(f,`--swiping-ratio: ${n.swipingRatio}; --transition-timing-default: ${n.duration}s;`),$(f,1,Q(["main",{isAnimationOn:n.working&&!n.isSwiping,open:o(s)}]),"svelte-1rgtneh")}),m(e,d),Z()}Te(["click"]);function sd(e){yl(e,{children:(t,n)=>{ad(t,{})}})}window.addEventListener("unhandledrejection",e=>{alert("Error: "+e.reason.message)});window.isUnsupportedBrowser||$i(sd,{target:document.getElementById("app")});export{tr as $,oo as A,Et as B,yd as C,nt as D,cd as E,md as F,Ys as G,na as H,ce as I,gd as J,fd as K,po as L,vd as M,to as N,Bl as O,D as P,xc as Q,pd as R,Bn as S,kd as T,ld as U,Qe as V,ae as W,$ as X,Q as Y,_e as Z,Pr as _,oe as a,xn as a0,Pc as a1,Rc as a2,pn as a3,tt as a4,wd as a5,_d as a6,yn as a7,pr as a8,ul as a9,Ua as aa,bd as ab,T as ac,ud as ad,dd as ae,Sd as af,sc as ag,jn as ah,js as ai,ec as aj,Us as ak,Pl as al,Ae as am,Zs as an,m as b,y as c,M as d,pe as e,I as f,Sn as g,o as h,C as i,R as j,Z as k,q as l,L as m,Te as n,he as o,X as p,tn as q,vn as r,A as s,se as t,Ee as u,Ce as v,hd as w,O as x,Bt as y,Rt as z};
