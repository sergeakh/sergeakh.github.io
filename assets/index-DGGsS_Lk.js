const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/MobileSidebar-CRW2929T.js","assets/MobileSidebar-1JBO3KHP.css","assets/About-B8Gu4EnM.js","assets/About-Dq-CGdnI.css","assets/AccessKeys-CG0sdYRZ.js","assets/api-C5JaEwh0.js","assets/AccessKeys-BDHupy-W.css","assets/Account-DYUwZUf4.js","assets/Account-B_4WPOGa.css","assets/Auth-CuvDinQh.js","assets/Auth-DUSiNlzc.css","assets/ClearStore-n95Q-cIo.js","assets/ClearStore-CFMXavw3.css","assets/ConfirmAccessKey-Ds_UNf03.js","assets/Input-BwXXhkUc.js","assets/Input-j0KFa_-O.css","assets/ConfirmAccessKey-C5pMGk3u.css","assets/EditNote-DCcAd0oT.js","assets/NoteForm-DdXFoIQZ.js","assets/NoteForm-DfRmfh2L.css","assets/Exit-C48CUcjT.js","assets/Exit-BVeFekri.css","assets/ExportData-CyhFPsAx.js","assets/ExportData-DAHHg6lv.css","assets/ImportData-B7bl9AzP.js","assets/ImportData-BoD3Qa8Y.css","assets/NewNote-Dw9VblIz.js","assets/Settings-CThpVvxW.js","assets/Settings-BN8xpILX.css","assets/Signin-CMLNh4gd.js","assets/Signin-DlYwjIyC.css","assets/Signup-C4N4Qfqd.js","assets/Signup-BlQ-6iHI.css","assets/Subscription-cI1zSGiF.js","assets/Subscription-DkTFHdRa.css","assets/Sync-AhtEamvr.js","assets/Sync-QQfGH1sn.css"])))=>i.map(i=>d[i]);
var Ts=Object.defineProperty;var Oa=e=>{throw TypeError(e)};var Ls=(e,t,n)=>t in e?Ts(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var yn=(e,t,n)=>Ls(e,typeof t!="symbol"?t+"":t,n),Vr=(e,t,n)=>t.has(e)||Oa("Cannot "+n);var A=(e,t,n)=>(Vr(e,t,"read from private field"),n?n.call(e):t.get(e)),ae=(e,t,n)=>t.has(e)?Oa("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),$=(e,t,n,r)=>(Vr(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Ue=(e,t,n)=>(Vr(e,t,"access private method"),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();const no=!1;var ca=Array.isArray,Os=Array.prototype.indexOf,ua=Array.from,Jr=Object.defineProperty,Cn=Object.getOwnPropertyDescriptor,ro=Object.getOwnPropertyDescriptors,Ms=Object.prototype,Is=Array.prototype,da=Object.getPrototypeOf,Ma=Object.isExtensible;const oe=()=>{};function Rs(e){return typeof e?.then=="function"}function Bs(e){return e()}function kr(e){for(var t=0;t<e.length;t++)e[t]()}function Fs(){var e,t,n=new Promise((r,a)=>{e=r,t=a});return{promise:n,resolve:e,reject:t}}function js(e,t,n=!1){return e===void 0?n?t():t:e}const et=2,fa=4,Nr=8,In=16,Lt=32,cn=64,va=128,lt=256,Cr=512,Be=1024,ct=2048,Xt=4096,ht=8192,un=16384,ha=32768,Rn=65536,Ia=1<<17,Hs=1<<18,Bn=1<<19,ao=1<<20,Qr=1<<21,ga=1<<22,an=1<<23,on=Symbol("$state"),Us=Symbol("legacy props"),zs=Symbol(""),_a=new class extends Error{constructor(){super(...arguments);yn(this,"name","StaleReactionError");yn(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function oo(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Vs(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function qs(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Ks(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Ws(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Ys(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function $s(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function Gs(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Xs(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Zs(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Js(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const Tr=1,Lr=2,so=4,Qs=8,ei=16,ti=1,ni=2,ri=4,ai=8,oi=16,si=1,ii=2,Ee=Symbol(),li="http://www.w3.org/1999/xhtml";let ci=!1;function io(e){return e===this.v}function ui(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function lo(e){return!ui(e,this.v)}let Fn=!1,di=!1;function fi(){Fn=!0}let fe=null;function Wt(e){fe=e}function ye(e){return co().get(e)}function Se(e,t){return co().set(e,t),t}function V(e,t=!1,n){fe={p:fe,c:null,e:null,s:e,x:null,l:Fn&&!t?{s:null,u:null,$:[]}:null}}function q(e){var t=fe,n=t.e;if(n!==null){t.e=null;for(var r of n)Eo(r)}return e!==void 0&&(t.x=e),fe=t.p,e??{}}function jn(){return!Fn||fe!==null&&fe.l===null}function co(e){return fe===null&&oo(),fe.c??(fe.c=new Map(vi(fe)||void 0))}function vi(e){let t=e.p;for(;t!==null;){const n=t.c;if(n!==null)return n;t=t.p}return null}let Ut=[],Er=[];function uo(){var e=Ut;Ut=[],kr(e)}function hi(){var e=Er;Er=[],kr(e)}function gi(){return Ut.length>0||Er.length>0}function dn(e){if(Ut.length===0&&!Yn){var t=Ut;queueMicrotask(()=>{t===Ut&&uo()})}Ut.push(e)}function _i(){Ut.length>0&&uo(),Er.length>0&&hi()}const pi=new WeakMap;function fo(e){var t=Q;if(t===null)return Z.f|=an,e;if((t.f&ha)===0){if((t.f&va)===0)throw!t.parent&&e instanceof Error&&vo(e),e;t.b.error(e)}else Tn(e,t)}function Tn(e,t){for(;t!==null;){if((t.f&va)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e instanceof Error&&vo(e),e}function vo(e){const t=pi.get(e);t&&(Jr(e,"message",{value:t.message}),Jr(e,"stack",{value:t.stack}))}const qr=new Set;let ve=null,mr=null,ea=new Set,ln=[],Or=null,ta=!1,Yn=!1;var Qn,Dn,Rt,er,tr,Qt,An,en,Bt,Nn,nr,rr,_t,ho,wr,na;const xr=class xr{constructor(){ae(this,_t);yn(this,"current",new Map);ae(this,Qn,new Map);ae(this,Dn,new Set);ae(this,Rt,0);ae(this,er,null);ae(this,tr,!1);ae(this,Qt,[]);ae(this,An,[]);ae(this,en,[]);ae(this,Bt,[]);ae(this,Nn,[]);ae(this,nr,[]);ae(this,rr,[]);yn(this,"skipped_effects",new Set)}process(t){ln=[],mr=null;for(const a of t)Ue(this,_t,ho).call(this,a);if(A(this,Qt).length===0&&A(this,Rt)===0){Ue(this,_t,na).call(this);var n=A(this,en),r=A(this,Bt);$(this,en,[]),$(this,Bt,[]),$(this,Nn,[]),mr=ve,ve=null,Ra(n),Ra(r),ve===null?ve=this:qr.delete(this),A(this,er)?.resolve()}else Ue(this,_t,wr).call(this,A(this,en)),Ue(this,_t,wr).call(this,A(this,Bt)),Ue(this,_t,wr).call(this,A(this,Nn));for(const a of A(this,Qt))xn(a);for(const a of A(this,An))xn(a);$(this,Qt,[]),$(this,An,[])}capture(t,n){A(this,Qn).has(t)||A(this,Qn).set(t,n),this.current.set(t,t.v)}activate(){ve=this}deactivate(){ve=null,mr=null;for(const t of ea)if(ea.delete(t),t(),ve!==null)break}neuter(){$(this,tr,!0)}flush(){ln.length>0?_o():Ue(this,_t,na).call(this),ve===this&&(A(this,Rt)===0&&qr.delete(this),this.deactivate())}increment(){$(this,Rt,A(this,Rt)+1)}decrement(){if($(this,Rt,A(this,Rt)-1),A(this,Rt)===0){for(const t of A(this,nr))Ge(t,ct),Ln(t);for(const t of A(this,rr))Ge(t,Xt),Ln(t);$(this,en,[]),$(this,Bt,[]),this.flush()}else this.deactivate()}add_callback(t){A(this,Dn).add(t)}settled(){return(A(this,er)??$(this,er,Fs())).promise}static ensure(){if(ve===null){const t=ve=new xr;qr.add(ve),Yn||xr.enqueue(()=>{ve===t&&t.flush()})}return ve}static enqueue(t){dn(t)}};Qn=new WeakMap,Dn=new WeakMap,Rt=new WeakMap,er=new WeakMap,tr=new WeakMap,Qt=new WeakMap,An=new WeakMap,en=new WeakMap,Bt=new WeakMap,Nn=new WeakMap,nr=new WeakMap,rr=new WeakMap,_t=new WeakSet,ho=function(t){t.f^=Be;for(var n=t.first;n!==null;){var r=n.f,a=(r&(Lt|cn))!==0,o=a&&(r&Be)!==0,i=o||(r&ht)!==0||this.skipped_effects.has(n);if(!i&&n.fn!==null){if(a)n.f^=Be;else if((r&fa)!==0)A(this,Bt).push(n);else if((r&Be)===0)if((r&ga)!==0){var l=n.b?.is_pending()?A(this,An):A(this,Qt);l.push(n)}else Br(n)&&((n.f&In)!==0&&A(this,Nn).push(n),xn(n));var c=n.first;if(c!==null){n=c;continue}}var u=n.parent;for(n=n.next;n===null&&u!==null;)n=u.next,u=u.parent}},wr=function(t){for(const n of t)((n.f&ct)!==0?A(this,nr):A(this,rr)).push(n),Ge(n,Be);t.length=0},na=function(){if(!A(this,tr))for(const t of A(this,Dn))t();A(this,Dn).clear()};let qt=xr;function go(e){var t=Yn;Yn=!0;try{for(var n;;){if(_i(),ln.length===0&&!gi()&&(ve?.flush(),ln.length===0))return Or=null,n;_o()}}finally{Yn=t}}function _o(){var e=Pn;ta=!0;try{var t=0;for(ja(!0);ln.length>0;){var n=qt.ensure();if(t++>1e3){var r,a;mi()}n.process(ln),Kt.clear()}}finally{ta=!1,ja(e),Or=null}}function mi(){try{Ys()}catch(e){Tn(e,Or)}}let Jt=null;function Ra(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if((r.f&(un|ht))===0&&Br(r)&&(Jt=[],xn(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?Do(r):r.fn=null),Jt?.length>0)){Kt.clear();for(const a of Jt)xn(a);Jt=[]}}Jt=null}}function Ln(e){for(var t=Or=e;t.parent!==null;){t=t.parent;var n=t.f;if(ta&&t===Q&&(n&In)!==0)return;if((n&(cn|Lt))!==0){if((n&Be)===0)return;t.f^=Be}}ln.push(t)}function wi(e){let t=0,n=Tt(0),r;return()=>{Ii()&&(s(n),Rr(()=>(t===0&&(r=Yt(()=>e(()=>$n(n)))),t+=1,()=>{dn(()=>{t-=1,t===0&&(r?.(),r=void 0,$n(n))})})))}}var yi=Rn|Bn|va;function Si(e,t,n){new bi(e,t,n)}var ft,st,la,wt,tn,yt,it,$e,St,Ft,nn,jt,rn,Ht,Dr,Ar,qe,ki,Ci,yr,Sr,ra;class bi{constructor(t,n,r){ae(this,qe);yn(this,"parent");ae(this,ft,!1);ae(this,st);ae(this,la,null);ae(this,wt);ae(this,tn);ae(this,yt);ae(this,it,null);ae(this,$e,null);ae(this,St,null);ae(this,Ft,null);ae(this,nn,0);ae(this,jt,0);ae(this,rn,!1);ae(this,Ht,null);ae(this,Dr,()=>{A(this,Ht)&&At(A(this,Ht),A(this,nn))});ae(this,Ar,wi(()=>($(this,Ht,Tt(A(this,nn))),()=>{$(this,Ht,null)})));$(this,st,t),$(this,wt,n),$(this,tn,r),this.parent=Q.b,$(this,ft,!!A(this,wt).pending),$(this,yt,Hn(()=>{Q.b=this;{try{$(this,it,Re(()=>r(A(this,st))))}catch(a){this.error(a)}A(this,jt)>0?Ue(this,qe,Sr).call(this):$(this,ft,!1)}},yi))}is_pending(){return A(this,ft)||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!A(this,wt).pending}update_pending_count(t){Ue(this,qe,ra).call(this,t),$(this,nn,A(this,nn)+t),ea.add(A(this,Dr))}get_effect_pending(){return A(this,Ar).call(this),s(A(this,Ht))}error(t){var n=A(this,wt).onerror;let r=A(this,wt).failed;if(A(this,rn)||!n&&!r)throw t;A(this,it)&&(Qe(A(this,it)),$(this,it,null)),A(this,$e)&&(Qe(A(this,$e)),$(this,$e,null)),A(this,St)&&(Qe(A(this,St)),$(this,St,null));var a=!1,o=!1;const i=()=>{if(a){return}a=!0,o&&Js(),qt.ensure(),$(this,nn,0),A(this,St)!==null&&bt(A(this,St),()=>{$(this,St,null)}),$(this,ft,this.has_pending_snippet()),$(this,it,Ue(this,qe,yr).call(this,()=>($(this,rn,!1),Re(()=>A(this,tn).call(this,A(this,st)))))),A(this,jt)>0?Ue(this,qe,Sr).call(this):$(this,ft,!1)};var l=Z;try{Fe(null),o=!0,n?.(t,i),o=!1}catch(c){Tn(c,A(this,yt)&&A(this,yt).parent)}finally{Fe(l)}r&&dn(()=>{$(this,St,Ue(this,qe,yr).call(this,()=>{$(this,rn,!0);try{return Re(()=>{r(A(this,st),()=>t,()=>i)})}catch(c){return Tn(c,A(this,yt).parent),null}finally{$(this,rn,!1)}}))})}}ft=new WeakMap,st=new WeakMap,la=new WeakMap,wt=new WeakMap,tn=new WeakMap,yt=new WeakMap,it=new WeakMap,$e=new WeakMap,St=new WeakMap,Ft=new WeakMap,nn=new WeakMap,jt=new WeakMap,rn=new WeakMap,Ht=new WeakMap,Dr=new WeakMap,Ar=new WeakMap,qe=new WeakSet,ki=function(){try{$(this,it,Re(()=>A(this,tn).call(this,A(this,st))))}catch(t){this.error(t)}$(this,ft,!1)},Ci=function(){const t=A(this,wt).pending;t&&($(this,$e,Re(()=>t(A(this,st)))),qt.enqueue(()=>{$(this,it,Ue(this,qe,yr).call(this,()=>(qt.ensure(),Re(()=>A(this,tn).call(this,A(this,st)))))),A(this,jt)>0?Ue(this,qe,Sr).call(this):(bt(A(this,$e),()=>{$(this,$e,null)}),$(this,ft,!1))}))},yr=function(t){var n=Q,r=Z,a=fe;ut(A(this,yt)),Fe(A(this,yt)),Wt(A(this,yt).ctx);try{return t()}catch(o){return fo(o),null}finally{ut(n),Fe(r),Wt(a)}},Sr=function(){const t=A(this,wt).pending;A(this,it)!==null&&($(this,Ft,document.createDocumentFragment()),Ei(A(this,it),A(this,Ft))),A(this,$e)===null&&$(this,$e,Re(()=>t(A(this,st))))},ra=function(t){var n;if(!this.has_pending_snippet()){this.parent&&Ue(n=this.parent,qe,ra).call(n,t);return}$(this,jt,A(this,jt)+t),A(this,jt)===0&&($(this,ft,!1),A(this,$e)&&bt(A(this,$e),()=>{$(this,$e,null)}),A(this,Ft)&&(A(this,st).before(A(this,Ft)),$(this,Ft,null)))};function Ei(e,t){for(var n=e.nodes_start,r=e.nodes_end;n!==null;){var a=n===r?null:or(n);t.append(n),n=a}}function Pi(e,t,n){const r=jn()?ar:Mr;if(t.length===0){n(e.map(r));return}var a=ve,o=Q,i=xi();Promise.all(t.map(l=>Di(l))).then(l=>{a?.activate(),i();try{n([...e.map(r),...l])}catch(c){(o.f&un)===0&&Tn(c,o)}a?.deactivate(),po()}).catch(l=>{Tn(l,o)})}function xi(){var e=Q,t=Z,n=fe,r=ve;return function(){ut(e),Fe(t),Wt(n),r?.activate()}}function po(){ut(null),Fe(null),Wt(null)}function ar(e){var t=et|ct,n=Z!==null&&(Z.f&et)!==0?Z:null;return Q===null||n!==null&&(n.f&lt)!==0?t|=lt:Q.f|=Bn,{ctx:fe,deps:null,effects:null,equals:io,f:t,fn:e,reactions:null,rv:0,v:Ee,wv:0,parent:n??Q,ac:null}}function Di(e,t){let n=Q;n===null&&Vs();var r=n.b,a=void 0,o=Tt(Ee),i=null,l=!Z;return Hi(()=>{try{var c=e();i&&Promise.resolve(c).catch(()=>{})}catch(g){c=Promise.reject(g)}var u=()=>c;a=i?.then(u,u)??Promise.resolve(c),i=a;var f=ve,v=r.is_pending();l&&(r.update_pending_count(1),v||f.increment());const h=(g,d=void 0)=>{i=null,v||f.activate(),d?d!==_a&&(o.f|=an,At(o,d)):((o.f&an)!==0&&(o.f^=an),At(o,g)),l&&(r.update_pending_count(-1),v||f.decrement()),po()};if(a.then(h,g=>h(null,g||"unknown")),f)return()=>{queueMicrotask(()=>f.neuter())}}),new Promise(c=>{function u(f){function v(){f===a?c(o):u(a)}f.then(v,v)}u(a)})}function O(e){const t=ar(e);return To(t),t}function Mr(e){const t=ar(e);return t.equals=lo,t}function mo(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)Qe(t[n])}}function Ai(e){for(var t=e.parent;t!==null;){if((t.f&et)===0)return t;t=t.parent}return null}function pa(e){var t,n=Q;ut(Ai(e));try{mo(e),t=Io(e)}finally{ut(n)}return t}function wo(e){var t=pa(e);if(e.equals(t)||(e.v=t,e.wv=Oo()),!vn){var n=(zt||(e.f&lt)!==0)&&e.deps!==null?Xt:Be;Ge(e,n)}}const Kt=new Map;function Tt(e,t){var n={f:0,v:e,reactions:null,equals:io,rv:0,wv:0};return n}function I(e,t){const n=Tt(e);return To(n),n}function aa(e,t=!1,n=!0){var a;const r=Tt(e);return t||(r.equals=lo),Fn&&n&&fe!==null&&fe.l!==null&&((a=fe.l).s??(a.s=[])).push(r),r}function b(e,t,n=!1){Z!==null&&(!vt||(Z.f&Ia)!==0)&&jn()&&(Z.f&(et|In|ga|Ia))!==0&&!Nt?.includes(e)&&Zs();let r=n?Me(t):t;return At(e,r)}function At(e,t){if(!e.equals(t)){var n=e.v;vn?Kt.set(e,t):Kt.set(e,n),e.v=t;var r=qt.ensure();r.capture(e,n),(e.f&et)!==0&&((e.f&ct)!==0&&pa(e),Ge(e,(e.f&lt)===0?Be:Xt)),e.wv=Oo(),yo(e,ct),jn()&&Q!==null&&(Q.f&Be)!==0&&(Q.f&(Lt|cn))===0&&(ot===null?Vi([e]):ot.push(e))}return t}function $n(e){b(e,e.v+1)}function yo(e,t){var n=e.reactions;if(n!==null)for(var r=jn(),a=n.length,o=0;o<a;o++){var i=n[o],l=i.f;if(!(!r&&i===Q)){var c=(l&ct)===0;c&&Ge(i,t),(l&et)!==0?yo(i,Xt):c&&((l&In)!==0&&Jt!==null&&Jt.push(i),Ln(i))}}}function Me(e){if(typeof e!="object"||e===null||on in e)return e;const t=da(e);if(t!==Ms&&t!==Is)return e;var n=new Map,r=ca(e),a=I(0),o=sn,i=l=>{if(sn===o)return l();var c=Z,u=sn;Fe(null),Ua(o);var f=l();return Fe(c),Ua(u),f};return r&&n.set("length",I(e.length)),new Proxy(e,{defineProperty(l,c,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&Gs();var f=n.get(c);return f===void 0?f=i(()=>{var v=I(u.value);return n.set(c,v),v}):b(f,u.value,!0),!0},deleteProperty(l,c){var u=n.get(c);if(u===void 0){if(c in l){const f=i(()=>I(Ee));n.set(c,f),$n(a)}}else b(u,Ee),$n(a);return!0},get(l,c,u){if(c===on)return e;var f=n.get(c),v=c in l;if(f===void 0&&(!v||Cn(l,c)?.writable)&&(f=i(()=>{var g=Me(v?l[c]:Ee),d=I(g);return d}),n.set(c,f)),f!==void 0){var h=s(f);return h===Ee?void 0:h}return Reflect.get(l,c,u)},getOwnPropertyDescriptor(l,c){var u=Reflect.getOwnPropertyDescriptor(l,c);if(u&&"value"in u){var f=n.get(c);f&&(u.value=s(f))}else if(u===void 0){var v=n.get(c),h=v?.v;if(v!==void 0&&h!==Ee)return{enumerable:!0,configurable:!0,value:h,writable:!0}}return u},has(l,c){if(c===on)return!0;var u=n.get(c),f=u!==void 0&&u.v!==Ee||Reflect.has(l,c);if(u!==void 0||Q!==null&&(!f||Cn(l,c)?.writable)){u===void 0&&(u=i(()=>{var h=f?Me(l[c]):Ee,g=I(h);return g}),n.set(c,u));var v=s(u);if(v===Ee)return!1}return f},set(l,c,u,f){var v=n.get(c),h=c in l;if(r&&c==="length")for(var g=u;g<v.v;g+=1){var d=n.get(g+"");d!==void 0?b(d,Ee):g in l&&(d=i(()=>I(Ee)),n.set(g+"",d))}if(v===void 0)(!h||Cn(l,c)?.writable)&&(v=i(()=>I(void 0)),b(v,Me(u)),n.set(c,v));else{h=v.v!==Ee;var _=i(()=>Me(u));b(v,_)}var S=Reflect.getOwnPropertyDescriptor(l,c);if(S?.set&&S.set.call(f,u),!h){if(r&&typeof c=="string"){var k=n.get("length"),w=Number(c);Number.isInteger(w)&&w>=k.v&&b(k,w+1)}$n(a)}return!0},ownKeys(l){s(a);var c=Reflect.ownKeys(l).filter(v=>{var h=n.get(v);return h===void 0||h.v!==Ee});for(var[u,f]of n)f.v!==Ee&&!(u in l)&&c.push(u);return c},setPrototypeOf(){Xs()}})}var Ba,So,bo,ko;function Ni(){if(Ba===void 0){Ba=window,So=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;bo=Cn(t,"firstChild").get,ko=Cn(t,"nextSibling").get,Ma(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Ma(n)&&(n.__t=void 0)}}function fn(e=""){return document.createTextNode(e)}function On(e){return bo.call(e)}function or(e){return ko.call(e)}function N(e,t){return On(e)}function T(e,t=!1){{var n=On(e);return n instanceof Comment&&n.data===""?or(n):n}}function B(e,t=1,n=!1){let r=e;for(;t--;)r=or(r);return r}function Ti(e){e.textContent=""}function ma(){return!1}let Fa=!1;function Li(){Fa||(Fa=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function Ir(e){var t=Z,n=Q;Fe(null),ut(null);try{return e()}finally{Fe(t),ut(n)}}function Oi(e,t,n,r=n){e.addEventListener(t,()=>Ir(n));const a=e.__on_r;a?e.__on_r=()=>{a(),r(!0)}:e.__on_r=()=>r(!0),Li()}function Co(e){Q===null&&Z===null&&Ws(),Z!==null&&(Z.f&lt)!==0&&Q===null&&Ks(),vn&&qs()}function Mi(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function Ct(e,t,n,r=!0){var a=Q;a!==null&&(a.f&ht)!==0&&(e|=ht);var o={ctx:fe,deps:null,nodes_start:null,nodes_end:null,f:e|ct,first:null,fn:t,last:null,next:null,parent:a,b:a&&a.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{xn(o),o.f|=ha}catch(c){throw Qe(o),c}else t!==null&&Ln(o);if(r){var i=o;if(n&&i.deps===null&&i.teardown===null&&i.nodes_start===null&&i.first===i.last&&(i.f&Bn)===0&&(i=i.first),i!==null&&(i.parent=a,a!==null&&Mi(i,a),Z!==null&&(Z.f&et)!==0&&(e&cn)===0)){var l=Z;(l.effects??(l.effects=[])).push(i)}}return o}function Ii(){return Z!==null&&!vt}function Ri(e){const t=Ct(Nr,null,!1);return Ge(t,Be),t.teardown=e,t}function Pe(e){Co();var t=Q.f,n=!Z&&(t&Lt)!==0&&(t&ha)===0;if(n){var r=fe;(r.e??(r.e=[])).push(e)}else return Eo(e)}function Eo(e){return Ct(fa|ao,e,!1)}function Bi(e){return Co(),Ct(Nr|ao,e,!0)}function Fi(e){qt.ensure();const t=Ct(cn|Bn,e,!0);return(n={})=>new Promise(r=>{n.outro?bt(t,()=>{Qe(t),r(void 0)}):(Qe(t),r(void 0))})}function ji(e){return Ct(fa,e,!1)}function Hi(e){return Ct(ga|Bn,e,!0)}function Rr(e,t=0){return Ct(Nr|t,e,!0)}function pe(e,t=[],n=[]){Pi(t,n,r=>{Ct(Nr,()=>e(...r.map(s)),!0)})}function Hn(e,t=0){var n=Ct(In|t,e,!0);return n}function Re(e,t=!0){return Ct(Lt|Bn,e,!0,t)}function Po(e){var t=e.teardown;if(t!==null){const n=vn,r=Z;Ha(!0),Fe(null);try{t.call(null)}finally{Ha(n),Fe(r)}}}function xo(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const a=n.ac;a!==null&&Ir(()=>{a.abort(_a)});var r=n.next;(n.f&cn)!==0?n.parent=null:Qe(n,t),n=r}}function Ui(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&Lt)===0&&Qe(t),t=n}}function Qe(e,t=!0){var n=!1;(t||(e.f&Hs)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(zi(e.nodes_start,e.nodes_end),n=!0),xo(e,t&&!n),Pr(e,0),Ge(e,un);var r=e.transitions;if(r!==null)for(const o of r)o.stop();Po(e);var a=e.parent;a!==null&&a.first!==null&&Do(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function zi(e,t){for(;e!==null;){var n=e===t?null:or(e);e.remove(),e=n}}function Do(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function bt(e,t){var n=[];wa(e,n,!0),Ao(n,()=>{Qe(e),t&&t()})}function Ao(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var a of e)a.out(r)}else t()}function wa(e,t,n){if((e.f&ht)===0){if(e.f^=ht,e.transitions!==null)for(const i of e.transitions)(i.is_global||n)&&t.push(i);for(var r=e.first;r!==null;){var a=r.next,o=(r.f&Rn)!==0||(r.f&Lt)!==0;wa(r,t,o?n:!1),r=a}}}function En(e){No(e,!0)}function No(e,t){if((e.f&ht)!==0){e.f^=ht,(e.f&Be)===0&&(Ge(e,ct),Ln(e));for(var n=e.first;n!==null;){var r=n.next,a=(n.f&Rn)!==0||(n.f&Lt)!==0;No(n,a?t:!1),n=r}if(e.transitions!==null)for(const o of e.transitions)(o.is_global||t)&&o.in()}}let Pn=!1;function ja(e){Pn=e}let vn=!1;function Ha(e){vn=e}let Z=null,vt=!1;function Fe(e){Z=e}let Q=null;function ut(e){Q=e}let Nt=null;function To(e){Z!==null&&(Nt===null?Nt=[e]:Nt.push(e))}let ze=null,Je=0,ot=null;function Vi(e){ot=e}let Lo=1,Gn=0,sn=Gn;function Ua(e){sn=e}let zt=!1;function Oo(){return++Lo}function Br(e){var t=e.f;if((t&ct)!==0)return!0;if((t&Xt)!==0){var n=e.deps,r=(t&lt)!==0;if(n!==null){var a,o,i=(t&Cr)!==0,l=r&&Q!==null&&!zt,c=n.length;if((i||l)&&(Q===null||(Q.f&un)===0)){var u=e,f=u.parent;for(a=0;a<c;a++)o=n[a],(i||!o?.reactions?.includes(u))&&(o.reactions??(o.reactions=[])).push(u);i&&(u.f^=Cr),l&&f!==null&&(f.f&lt)===0&&(u.f^=lt)}for(a=0;a<c;a++)if(o=n[a],Br(o)&&wo(o),o.wv>e.wv)return!0}(!r||Q!==null&&!zt)&&Ge(e,Be)}return!1}function Mo(e,t,n=!0){var r=e.reactions;if(r!==null&&!Nt?.includes(e))for(var a=0;a<r.length;a++){var o=r[a];(o.f&et)!==0?Mo(o,t,!1):t===o&&(n?Ge(o,ct):(o.f&Be)!==0&&Ge(o,Xt),Ln(o))}}function Io(e){var _;var t=ze,n=Je,r=ot,a=Z,o=zt,i=Nt,l=fe,c=vt,u=sn,f=e.f;ze=null,Je=0,ot=null,zt=(f&lt)!==0&&(vt||!Pn||Z===null),Z=(f&(Lt|cn))===0?e:null,Nt=null,Wt(e.ctx),vt=!1,sn=++Gn,e.ac!==null&&(Ir(()=>{e.ac.abort(_a)}),e.ac=null);try{e.f|=Qr;var v=e.fn,h=v(),g=e.deps;if(ze!==null){var d;if(Pr(e,Je),g!==null&&Je>0)for(g.length=Je+ze.length,d=0;d<ze.length;d++)g[Je+d]=ze[d];else e.deps=g=ze;if(!zt||(f&et)!==0&&e.reactions!==null)for(d=Je;d<g.length;d++)((_=g[d]).reactions??(_.reactions=[])).push(e)}else g!==null&&Je<g.length&&(Pr(e,Je),g.length=Je);if(jn()&&ot!==null&&!vt&&g!==null&&(e.f&(et|Xt|ct))===0)for(d=0;d<ot.length;d++)Mo(ot[d],e);return a!==null&&a!==e&&(Gn++,ot!==null&&(r===null?r=ot:r.push(...ot))),(e.f&an)!==0&&(e.f^=an),h}catch(S){return fo(S)}finally{e.f^=Qr,ze=t,Je=n,ot=r,Z=a,zt=o,Nt=i,Wt(l),vt=c,sn=u}}function qi(e,t){let n=t.reactions;if(n!==null){var r=Os.call(n,e);if(r!==-1){var a=n.length-1;a===0?n=t.reactions=null:(n[r]=n[a],n.pop())}}n===null&&(t.f&et)!==0&&(ze===null||!ze.includes(t))&&(Ge(t,Xt),(t.f&(lt|Cr))===0&&(t.f^=Cr),mo(t),Pr(t,0))}function Pr(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)qi(e,n[r])}function xn(e){var t=e.f;if((t&un)===0){Ge(e,Be);var n=Q,r=Pn;Q=e,Pn=!0;try{(t&In)!==0?Ui(e):xo(e),Po(e);var a=Io(e);e.teardown=typeof a=="function"?a:null,e.wv=Lo;var o;no&&di&&(e.f&ct)!==0&&e.deps}finally{Pn=r,Q=n}}}async function Ro(){await Promise.resolve(),go()}function s(e){var t=e.f,n=(t&et)!==0;if(Z!==null&&!vt){var r=Q!==null&&(Q.f&un)!==0;if(!r&&!Nt?.includes(e)){var a=Z.deps;if((Z.f&Qr)!==0)e.rv<Gn&&(e.rv=Gn,ze===null&&a!==null&&a[Je]===e?Je++:ze===null?ze=[e]:(!zt||!ze.includes(e))&&ze.push(e));else{(Z.deps??(Z.deps=[])).push(e);var o=e.reactions;o===null?e.reactions=[Z]:o.includes(Z)||o.push(Z)}}}else if(n&&e.deps===null&&e.effects===null){var i=e,l=i.parent;l!==null&&(l.f&lt)===0&&(i.f^=lt)}if(vn){if(Kt.has(e))return Kt.get(e);if(n){i=e;var c=i.v;return((i.f&Be)===0&&i.reactions!==null||Bo(i))&&(c=pa(i)),Kt.set(i,c),c}}else n&&(i=e,Br(i)&&wo(i));if((e.f&an)!==0)throw e.v;return e.v}function Bo(e){if(e.v===Ee)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(Kt.has(t)||(t.f&et)!==0&&Bo(t))return!0;return!1}function Yt(e){var t=vt;try{return vt=!0,e()}finally{vt=t}}const Ki=-7169;function Ge(e,t){e.f=e.f&Ki|t}function Wi(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(on in e)oa(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&on in n&&oa(n)}}}function oa(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{oa(e[r],t)}catch{}const n=da(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=ro(n);for(let a in r){const o=r[a].get;if(o)try{o.call(e)}catch{}}}}}const Yi=["touchstart","touchmove"];function $i(e){return Yi.includes(e)}const Fo=new Set,sa=new Set;function Gi(e,t,n,r={}){function a(o){if(r.capture||qn.call(t,o),!o.cancelBubble)return Ir(()=>n?.call(this,o))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?dn(()=>{t.addEventListener(e,a,r)}):t.addEventListener(e,a,r),a}function ya(e,t,n,r,a){var o={capture:r,passive:a},i=Gi(e,t,n,o);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&Ri(()=>{t.removeEventListener(e,i,o)})}function tt(e){for(var t=0;t<e.length;t++)Fo.add(e[t]);for(var n of sa)n(e)}let za=null;function qn(e){var t=this,n=t.ownerDocument,r=e.type,a=e.composedPath?.()||[],o=a[0]||e.target;za=e;var i=0,l=za===e&&e.__root;if(l){var c=a.indexOf(l);if(c!==-1&&(t===document||t===window)){e.__root=t;return}var u=a.indexOf(t);if(u===-1)return;c<=u&&(i=c)}if(o=a[i]||e.target,o!==t){Jr(e,"currentTarget",{configurable:!0,get(){return o||n}});var f=Z,v=Q;Fe(null),ut(null);try{for(var h,g=[];o!==null;){var d=o.assignedSlot||o.parentNode||o.host||null;try{var _=o["__"+r];if(_!=null&&(!o.disabled||e.target===o))if(ca(_)){var[S,...k]=_;S.apply(o,[e,...k])}else _.call(o,e)}catch(w){h?g.push(w):h=w}if(e.cancelBubble||d===t||d===null)break;o=d}if(h){for(let w of g)queueMicrotask(()=>{throw w});throw h}}finally{e.__root=t,delete e.currentTarget,Fe(f),ut(v)}}}function jo(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function Xn(e,t){var n=Q;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function K(e,t){var n=(t&si)!==0,r=(t&ii)!==0,a,o=!e.startsWith("<!>");return()=>{a===void 0&&(a=jo(o?e:"<!>"+e),n||(a=On(a)));var i=r||So?document.importNode(a,!0):a.cloneNode(!0);if(n){var l=On(i),c=i.lastChild;Xn(l,c)}else Xn(i,i);return i}}function Xi(e,t,n="svg"){var r=!e.startsWith("<!>"),a=`<${n}>${r?e:"<!>"+e}</${n}>`,o;return()=>{if(!o){var i=jo(a),l=On(i);o=On(l)}var c=o.cloneNode(!0);return Xn(c,c),c}}function Zi(e,t){return Xi(e,t,"svg")}function Ve(e=""){{var t=fn(e+"");return Xn(t,t),t}}function M(){var e=document.createDocumentFragment(),t=document.createComment(""),n=fn();return e.append(t,n),Xn(t,n),e}function m(e,t){e!==null&&e.before(t)}function pd(){var e;return(e=window.__svelte??(window.__svelte={})).uid??(e.uid=1),`c${window.__svelte.uid++}`}function Zn(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function Ji(e,t){return Qi(e,t)}const Sn=new Map;function Qi(e,{target:t,anchor:n,props:r={},events:a,context:o,intro:i=!0}){Ni();var l=new Set,c=v=>{for(var h=0;h<v.length;h++){var g=v[h];if(!l.has(g)){l.add(g);var d=$i(g);t.addEventListener(g,qn,{passive:d});var _=Sn.get(g);_===void 0?(document.addEventListener(g,qn,{passive:d}),Sn.set(g,1)):Sn.set(g,_+1)}}};c(ua(Fo)),sa.add(c);var u=void 0,f=Fi(()=>{var v=n??t.appendChild(fn());return Si(v,{pending:()=>{}},h=>{if(o){V({});var g=fe;g.c=o}a&&(r.$$events=a),u=e(h,r)||{},o&&q()}),()=>{for(var h of l){t.removeEventListener(h,qn);var g=Sn.get(h);--g===0?(document.removeEventListener(h,qn),Sn.delete(h)):Sn.set(h,g)}sa.delete(c),v!==n&&v.parentNode?.removeChild(v)}});return el.set(u,f),u}let el=new WeakMap;const Kr=0,gr=1,Wr=2;function Ho(e,t,n,r,a){var o=e,i=jn(),l=fe,c=Ee,u,f,v,h=i?Tt(void 0):aa(void 0,!1,!1),g=i?Tt(void 0):aa(void 0,!1,!1),d=!1;function _(k,w){d=!0,w&&(ut(S),Fe(S),Wt(l));try{k===Kr&&n&&(u?En(u):u=Re(()=>n(o))),k===gr&&r&&(f?En(f):f=Re(()=>r(o,h))),k===Wr&&a&&(v?En(v):v=Re(()=>a(o,g))),k!==Kr&&u&&bt(u,()=>u=null),k!==gr&&f&&bt(f,()=>f=null),k!==Wr&&v&&bt(v,()=>v=null)}finally{w&&(Wt(null),Fe(null),ut(null),go())}}var S=Hn(()=>{if(c!==(c=t())){if(Rs(c)){var k=c;d=!1,k.then(w=>{k===c&&(At(h,w),_(gr,!0))},w=>{if(k===c&&(At(g,w),_(Wr,!0),!a))throw g.v}),dn(()=>{d||_(Kr,!0)})}else At(h,c),_(gr,!1);return()=>c=Ee}})}function F(e,t,n=!1){var r=e,a=null,o=null,i=Ee,l=n?Rn:0,c=!1;const u=(g,d=!0)=>{c=!0,h(d,g)};var f=null;function v(){f!==null&&(f.lastChild.remove(),r.before(f),f=null);var g=i?a:o,d=i?o:a;g&&En(g),d&&bt(d,()=>{i?o=null:a=null})}const h=(g,d)=>{if(i!==(i=g)){var _=ma(),S=r;if(_&&(f=document.createDocumentFragment(),f.append(S=fn())),i?a??(a=d&&Re(()=>d(S))):o??(o=d&&Re(()=>d(S))),_){var k=ve,w=i?a:o,y=i?o:a;w&&k.skipped_effects.delete(w),y&&k.skipped_effects.add(y),k.add_callback(v)}else v()}};Hn(()=>{c=!1,t(u),c||h(null,null)},l)}function xe(e,t){Rr(()=>{var n=t();for(var r in n){var a=n[r];a?e.style.setProperty(r,a):e.style.removeProperty(r)}})}function tl(e,t,n){for(var r=e.items,a=[],o=t.length,i=0;i<o;i++)wa(t[i].e,a,!0);var l=o>0&&a.length===0&&n!==null;if(l){var c=n.parentNode;Ti(c),c.append(n),r.clear(),mt(e,t[0].prev,t[o-1].next)}Ao(a,()=>{for(var u=0;u<o;u++){var f=t[u];l||(r.delete(f.k),mt(e,f.prev,f.next)),Qe(f.e,!l)}})}function kn(e,t,n,r,a,o=null){var i=e,l={flags:t,items:new Map,first:null},c=(t&so)!==0;if(c){var u=e;i=u.appendChild(fn())}var f=null,v=!1,h=new Map,g=Mr(()=>{var k=n();return ca(k)?k:k==null?[]:ua(k)}),d,_;function S(){nl(_,d,l,h,i,a,t,r,n),o!==null&&(d.length===0?f?En(f):f=Re(()=>o(i)):f!==null&&bt(f,()=>{f=null}))}Hn(()=>{_??(_=Q),d=s(g);var k=d.length;if(!(v&&k===0)){v=k===0;var w,y,x,E;if(ma()){var p=new Set,C=ve;for(y=0;y<k;y+=1){x=d[y],E=r(x,y);var P=l.items.get(E)??h.get(E);P?(t&(Tr|Lr))!==0&&Uo(P,x,y,t):(w=zo(null,l,null,null,x,E,y,a,t,n,!0),h.set(E,w)),p.add(E)}for(const[R,U]of l.items)p.has(R)||C.skipped_effects.add(U.e);C.add_callback(S)}else S();s(g)}})}function nl(e,t,n,r,a,o,i,l,c){var u=(i&Qs)!==0,f=(i&(Tr|Lr))!==0,v=t.length,h=n.items,g=n.first,d=g,_,S=null,k,w=[],y=[],x,E,p,C;if(u)for(C=0;C<v;C+=1)x=t[C],E=l(x,C),p=h.get(E),p!==void 0&&(p.a?.measure(),(k??(k=new Set)).add(p));for(C=0;C<v;C+=1){if(x=t[C],E=l(x,C),p=h.get(E),p===void 0){var P=r.get(E);if(P!==void 0){r.delete(E),h.set(E,P);var R=S?S.next:d;mt(n,S,P),mt(n,P,R),Yr(P,R,a),S=P}else{var U=d?d.e.nodes_start:a;S=zo(U,n,S,S===null?n.first:S.next,x,E,C,o,i,c)}h.set(E,S),w=[],y=[],d=S.next;continue}if(f&&Uo(p,x,C,i),(p.e.f&ht)!==0&&(En(p.e),u&&(p.a?.unfix(),(k??(k=new Set)).delete(p))),p!==d){if(_!==void 0&&_.has(p)){if(w.length<y.length){var W=y[0],G;S=W.prev;var j=w[0],D=w[w.length-1];for(G=0;G<w.length;G+=1)Yr(w[G],W,a);for(G=0;G<y.length;G+=1)_.delete(y[G]);mt(n,j.prev,D.next),mt(n,S,j),mt(n,D,W),d=W,S=D,C-=1,w=[],y=[]}else _.delete(p),Yr(p,d,a),mt(n,p.prev,p.next),mt(n,p,S===null?n.first:S.next),mt(n,S,p),S=p;continue}for(w=[],y=[];d!==null&&d.k!==E;)(d.e.f&ht)===0&&(_??(_=new Set)).add(d),y.push(d),d=d.next;if(d===null)continue;p=d}w.push(p),S=p,d=p.next}if(d!==null||_!==void 0){for(var L=_===void 0?[]:ua(_);d!==null;)(d.e.f&ht)===0&&L.push(d),d=d.next;var H=L.length;if(H>0){var Y=(i&so)!==0&&v===0?a:null;if(u){for(C=0;C<H;C+=1)L[C].a?.measure();for(C=0;C<H;C+=1)L[C].a?.fix()}tl(n,L,Y)}}u&&dn(()=>{if(k!==void 0)for(p of k)p.a?.apply()}),e.first=n.first&&n.first.e,e.last=S&&S.e;for(var ce of r.values())Qe(ce.e);r.clear()}function Uo(e,t,n,r){(r&Tr)!==0&&At(e.v,t),(r&Lr)!==0?At(e.i,n):e.i=n}function zo(e,t,n,r,a,o,i,l,c,u,f){var v=(c&Tr)!==0,h=(c&ei)===0,g=v?h?aa(a,!1,!1):Tt(a):a,d=(c&Lr)===0?i:Tt(i),_={i:d,v:g,k:o,a:null,e:null,prev:n,next:r};try{if(e===null){var S=document.createDocumentFragment();S.append(e=fn())}return _.e=Re(()=>l(e,g,d,u),ci),_.e.prev=n&&n.e,_.e.next=r&&r.e,n===null?f||(t.first=_):(n.next=_,n.e.next=_.e),r!==null&&(r.prev=_,r.e.prev=_.e),_}finally{}}function Yr(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,a=t?t.e.nodes_start:n,o=e.e.nodes_start;o!==null&&o!==r;){var i=or(o);a.before(o),o=i}}function mt(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function te(e,t,...n){var r=e,a=oe,o;Hn(()=>{a!==(a=t())&&(o&&(Qe(o),o=null),o=Re(()=>a(r,...n)))},Rn)}function Vo(e,t,n){var r=e,a,o,i=null,l=null;function c(){o&&(bt(o),o=null),i&&(i.lastChild.remove(),r.before(i),i=null),o=l,l=null}Hn(()=>{if(a!==(a=t())){var u=ma();if(a){var f=r;u&&(i=document.createDocumentFragment(),i.append(f=fn()),o&&ve.skipped_effects.add(o)),l=Re(()=>n(f,a))}u?ve.add_callback(c):c()}},Rn)}function qo(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=qo(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function rl(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=qo(e))&&(r&&(r+=" "),r+=t);return r}function ue(e){return typeof e=="object"?rl(e):e??""}const Va=[...` 	
\r\f \v\uFEFF`];function al(e,t,n){var r=e==null?"":""+e;if(t&&(r=r?r+" "+t:t),n){for(var a in n)if(n[a])r=r?r+" "+a:a;else if(r.length)for(var o=a.length,i=0;(i=r.indexOf(a,i))>=0;){var l=i+o;(i===0||Va.includes(r[i-1]))&&(l===r.length||Va.includes(r[l]))?r=(i===0?"":r.substring(0,i))+r.substring(l+1):i=l}}return r===""?null:r}function ol(e,t){return e==null?null:String(e)}function de(e,t,n,r,a,o){var i=e.__className;if(i!==n||i===void 0){var l=al(n,r,o);l==null?e.removeAttribute("class"):e.className=l,e.__className=n}else if(o&&a!==o)for(var c in o){var u=!!o[c];(a==null||u!==!!a[c])&&e.classList.toggle(c,u)}return o}function Jn(e,t,n,r){var a=e.__style;if(a!==t){var o=ol(t);o==null?e.removeAttribute("style"):e.style.cssText=o,e.__style=t}return r}const sl=Symbol("is custom element"),il=Symbol("is html");function md(e,t){var n=Sa(e);n.value===(n.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function wd(e,t){var n=Sa(e);n.checked!==(n.checked=t??void 0)&&(e.checked=t)}function Oe(e,t,n,r){var a=Sa(e);a[t]!==(a[t]=n)&&(t==="loading"&&(e[zs]=n),n==null?e.removeAttribute(t):typeof n!="string"&&ll(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function Sa(e){return e.__attributes??(e.__attributes={[sl]:e.nodeName.includes("-"),[il]:e.namespaceURI===li})}var qa=new Map;function ll(e){var t=e.getAttribute("is")||e.nodeName,n=qa.get(t);if(n)return n;qa.set(t,n=[]);for(var r,a=e,o=Element.prototype;o!==a;){r=ro(a);for(var i in r)r[i].set&&n.push(i);a=da(a)}return n}function cl(e,t,n=t){var r=new WeakSet;Oi(e,"input",async a=>{var o=a?e.defaultValue:e.value;if(o=$r(e)?Gr(o):o,n(o),ve!==null&&r.add(ve),await Ro(),o!==(o=t())){var i=e.selectionStart,l=e.selectionEnd;e.value=o??"",l!==null&&(e.selectionStart=i,e.selectionEnd=Math.min(l,e.value.length))}}),Yt(t)==null&&e.value&&(n($r(e)?Gr(e.value):e.value),ve!==null&&r.add(ve)),Rr(()=>{var a=t();if(e===document.activeElement){var o=mr??ve;if(r.has(o))return}$r(e)&&a===Gr(e.value)||e.type==="date"&&!a&&!e.value||a!==e.value&&(e.value=a??"")})}function $r(e){var t=e.type;return t==="number"||t==="range"}function Gr(e){return e===""?null:+e}function Ka(e,t){return e===t||e?.[on]===t}function pt(e={},t,n,r){return ji(()=>{var a,o;return Rr(()=>{a=o,o=[],Yt(()=>{e!==n(...o)&&(t(e,...o),a&&Ka(n(...a),e)&&t(null,...a))})}),()=>{dn(()=>{o&&Ka(n(...o),e)&&t(null,...o)})}}),e}function ba(e=!1){const t=fe,n=t.l.u;if(!n)return;let r=()=>Wi(t.s);if(e){let a=0,o={};const i=ar(()=>{let l=!1;const c=t.s;for(const u in c)c[u]!==o[u]&&(o[u]=c[u],l=!0);return l&&a++,a});r=()=>s(i)}n.b.length&&Bi(()=>{Wa(t,r),kr(n.b)}),Pe(()=>{const a=Yt(()=>n.m.map(Bs));return()=>{for(const o of a)typeof o=="function"&&o()}}),n.a.length&&Pe(()=>{Wa(t,r),kr(n.a)})}function Wa(e,t){if(e.l.s)for(const n of e.l.s)s(n);t()}let _r=!1;function ul(e){var t=_r;try{return _r=!1,[e(),_r]}finally{_r=t}}function se(e,t,n,r){var a=!Fn||(n&ni)!==0,o=(n&ai)!==0,i=(n&oi)!==0,l=r,c=!0,u=()=>(c&&(c=!1,l=i?Yt(r):r),l),f;if(o){var v=on in e||Us in e;f=Cn(e,t)?.set??(v&&t in e?y=>e[t]=y:void 0)}var h,g=!1;o?[h,g]=ul(()=>e[t]):h=e[t],h===void 0&&r!==void 0&&(h=u(),f&&(a&&$s(),f(h)));var d;if(a?d=()=>{var y=e[t];return y===void 0?u():(c=!0,y)}:d=()=>{var y=e[t];return y!==void 0&&(l=void 0),y===void 0?l:y},a&&(n&ri)===0)return d;if(f){var _=e.$$legacy;return(function(y,x){return arguments.length>0?((!a||!x||_||g)&&f(x?d():y),y):d()})}var S=!1,k=((n&ti)!==0?ar:Mr)(()=>(S=!1,d()));o&&s(k);var w=Q;return(function(y,x){if(arguments.length>0){const E=x?s(k):a&&o?Me(y):y;return b(k,E),S=!0,l!==void 0&&(l=E),y}return vn&&S||(w.f&un)!==0?k.v:s(k)})}function ge(e){fe===null&&oo(),Fn&&fe.l!==null?dl(fe).m.push(e):Pe(()=>{const t=Yt(e);if(typeof t=="function")return t})}function dl(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const fl="5";var to;typeof window<"u"&&((to=window.__svelte??(window.__svelte={})).v??(to.v=new Set)).add(fl);fi();const Ko={};function vl(e){Se(Ko,e)}function Fr(){const e=ye(Ko);if(!e)throw new Error("No LocalDBContext found");return e}const hl="AppStorage",gl=1,dt="notes",Ya="tags",$a="syncLog",$t="account",Gt="settings",kt="drafts",je="success",He="error",ne=(e,t,n)=>{e?.addEventListener(t,n)};function Ga(e){return new Promise((t,n)=>{const a=e?.transaction($t,"readonly")?.objectStore($t).get("default");ne(a,je,()=>{const o=a?.result?.account;t(o)}),ne(a,He,()=>{n()})})}function pr(e,t){return new Promise((n,r)=>{const i=e?.transaction($t,"readwrite")?.objectStore($t)?.put({id:"default",account:t});ne(i,je,()=>{n()}),ne(i,He,()=>{r()})})}function _l(e){return new Promise((t,n)=>{const o=e?.transaction($t,"readwrite")?.objectStore($t)?.clear();ne(o,je,()=>{t()}),ne(o,He,()=>{n()})})}const Wo={};function pl(e){Se(Wo,e)}function Yo(){const e=ye(Wo);if(!e)throw new Error("No AccountContext found");return e}const $o={};function ml(e){Se($o,e)}function jr(){const e=ye($o);if(!e)throw new Error("No BroadcastContext found");return e}function Vt(e){const t=String.fromCharCode(...new Uint8Array(e));return window.btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function ka(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");const n=t.length%4;return n&&(t+="=".repeat(4-n)),t}function Ca(e){try{const t=atob(e),n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n.buffer}catch(t){throw t}}function yd(e){const t=ka(e);return Ca(t)}const Sd=async({challenge:e,clientKey:t})=>{const n=Math.floor(Math.random()*100),r={challenge:Ca(ka(e)),rp:{id:"localhost",name:"notes"},user:{id:new Uint8Array([...t,...crypto.getRandomValues(new Uint8Array(16))]).buffer,name:`account_${n}`,displayName:`account_${n}`},pubKeyCredParams:[{type:"public-key",alg:-7},{type:"public-key",alg:-257}],authenticatorSelection:{userVerification:"required"},timeout:6e4,attestation:"none"},a=await navigator.credentials.create({publicKey:r});if(a){const o=a.response;return{challenge:e,id:a.id,rawId:Vt(a.rawId),type:a.type,response:{clientDataJSON:Vt(o.clientDataJSON),attestationObject:Vt(o.attestationObject)}}}else throw new Error},bd=async({challenge:e})=>{const t={challenge:Ca(ka(e)),timeout:6e4,rpId:"localhost",userVerification:"required"},n=await navigator.credentials.get({publicKey:t});if(n){const r=n.response;new DataView(r.authenticatorData).getUint32(33,!1);const a={challenge:e,id:n.id,rawId:Vt(n.rawId),type:n.type,response:{authenticatorData:Vt(r.authenticatorData),clientDataJSON:Vt(r.clientDataJSON),signature:Vt(r.signature)}};if(!r.userHandle)throw new Error("No credential found");const o=new Uint8Array(r.userHandle).slice(0,32);return{credentialData:a,clientKey:o}}else throw new Error("No credential found")},wl=async e=>{const t=await crypto.subtle.importKey("raw",e.serverKey,{name:"HKDF"},!1,["deriveKey"]),n=await crypto.subtle.deriveKey({name:"HKDF",salt:new Uint8Array(12),info:new TextEncoder().encode("aes-gcm-shared"),hash:"SHA-256"},t,{name:"AES-GCM",length:256},!1,["encrypt"]);return{encryptedClientKey:await crypto.subtle.encrypt({name:"AES-GCM",iv:new Uint8Array(12)},n,e.clientKey)}},kd=async e=>{const t=await crypto.subtle.importKey("raw",e.serverKey,{name:"HKDF"},!1,["deriveKey"]),n=await crypto.subtle.deriveKey({name:"HKDF",info:new TextEncoder().encode("aes-gcm-shared"),hash:"SHA-256",salt:new Uint8Array(12)},t,{name:"AES-GCM",length:256},!1,["decrypt"]),r=await crypto.subtle.decrypt({name:"AES-GCM",iv:new Uint8Array(12)},n,e.encryptedClientKey);return new Uint8Array(r)},yl=(e,t)=>{let n=null;return()=>{n&&clearTimeout(n),n=setTimeout(()=>{n=null,e()},t)}};async function Xr(){if(navigator.storage&&navigator.storage.persist)try{await navigator.storage.persisted()||await navigator.storage.persist()}catch{}}const Go={};function Sl(e){Se(Go,e)}function Et(){const e=ye(Go);if(!e)throw new Error("No AppHistoryContext found");return e}const Xo={};function bl(e){Se(Xo,e)}function Ot(){const e=ye(Xo);if(!e)throw new Error("No StackPagesContext found");return e}function kl(e,t){V(t,!0);const{navigate:n}=Et(),{hasStackPage:r,pushStackPages:a,clearStackPages:o}=Ot();let i=I(void 0);const{getDB:l}=Fr(),c=jr(),u=O(l),f=O(()=>c.getBroadcastChannel()),v=async()=>{const E=await Ga(s(u));E&&(b(i,E,!0),o(),n("/"))},h=async()=>{const E=await Ga(s(u));E===void 0?a("start"):(r("start")&&(o(),n("/")),E?(b(i,E,!0),await Xr()):b(i,null))},g=async E=>{const p=JSON.parse(E.data);if(p.tabId&&p.tabId===c.tabId)return;const C=p;C.type==="initLocalAccount"?(b(i,null),o(),n("/")):C.type==="initCloudAccount"?(v(),o(),n("/")):C.type==="disconnectCloudAccount"?b(i,null):C.type==="exit"?b(i,void 0):C.type==="updateAccount"&&v()};ge(()=>(h(),s(f).addEventListener("message",g),()=>{s(f).removeEventListener("message",g)})),pl({getAccount:()=>s(i),initLocalAccount:async()=>{await Xr(),b(i,null),await pr(s(u),null),c.send({type:"initLocalAccount"})},initCloudAccount:async E=>{await Xr();const{encryptedClientKey:p}=await wl({clientKey:E.clientKey,serverKey:E.serverKey}),C={encryptedClientKey:Vt(p),subscriptionExpires:E.subscriptionExpires||-1,lastSync:-1};await pr(s(u),C),b(i,C,!0),c.send({type:"initCloudAccount"})},disconnectCloudAccount:async()=>{b(i,null),await pr(s(u),null);try{await fetch("/api/dropSession",{method:"POST"})}catch{}c.send({type:"disconnectCloudAccount"})},updateSubscription:async E=>{if(!s(i))throw new Error("No account to update subscription for");const p={...s(i),subscriptionExpires:E};await pr(s(u),p),c.send({type:"updateAccount"})},exitApp:async()=>{b(i,void 0),await _l(s(u)),c.send({type:"exit"})}});var y=M(),x=T(y);te(x,()=>t.children??oe),m(e,y),q()}const Zo={},Cl=()=>({working:!1,swipingRatio:1,isSwiping:!1,duration:.35});function El(e){Se(Zo,e)}function sr(){const e=ye(Zo);if(!e)throw new Error("No AnimationSettingsContext found");return e}function Pl(e,t){V(t,!0);let n=Me(Cl());El(n);var r=M(),a=T(r);te(a,()=>t.children??oe),m(e,r),q()}function xl(e,t){V(t,!0);const n=Me({historyStack:[],pathname:window.location.pathname,search:window.location.search,historyLength:0}),r=()=>{n.pathname=document.location.pathname,n.search=document.location.search,n.historyLength=Math.max(0,n.historyLength-=1)},a=h=>{const[g,d]=h.split("?");n.pathname=g,n.search=d?`?${d}`:"",n.historyLength+=1,n.historyStack.push(window.location.href),window.history.replaceState(null,"",h)},o=h=>{const[g,d]=h.split("?");n.pathname=g,n.search=d?`?${d}`:"",window.history.replaceState(null,"",h)};Sl({getAppHistory:()=>n,navigate:a,replace:o,addSearchParam:(h,g)=>{const d=new URLSearchParams(n.search);d.append(h,g),o(`${n.pathname}${d.size>0?`?${d.toString()}`:""}`)},deleteSearchParam:h=>{const g=new URLSearchParams(n.search);g.delete(h),n.historyStack=n.historyStack.map(d=>{const _=new URLSearchParams(d.split("?")[1]);return _.delete(h),`${d.split("?")[0]}${g.size>0?`?${_.toString()}`:""}`}),o(`${n.pathname}${g.size>0?`?${g.toString()}`:""}`)},back:h=>{const{fallback:g="/",to:d}=h||{},[_,S]=g.split("?");if(n.historyLength<=0){const k=window.location.href,[w,y]=k.split("?");if(!y.includes("stackPages"))window.history.replaceState(null,"",g),n.historyLength=0,n.pathname=_,n.search=S?`?${S}`:"";else{const x=new URLSearchParams(y),E=x.get("stackPages")?.split(",")||[],p=E.slice(0,d&&E.includes(d)?E.indexOf(d)+1:-1);p.length===0?x.delete("stackPages"):x.set("stackPages",p.join(","));const C=`${w}${x.toString()?`?${x.toString()}`:""}`;window.history.replaceState(null,"",C),n.search=x.toString()?`?${x.toString()}`:""}}else if(n.historyStack.length>0){const w=new URLSearchParams(n.search).get("stackPages")?.split(",")||[];d&&w.includes(d)&&(n.historyStack=n.historyStack.slice(0,-(w.length-(w.indexOf(d)+1))+1),n.historyLength=n.historyStack.length);const y=n.historyStack.pop();if(y){const[x,E]=y.split("?");window.history.replaceState(null,"",y),n.historyLength=Math.max(0,n.historyLength-=1),n.pathname=x,n.search=E?`?${E}`:""}}},closeDialogStack:()=>{const h=n.historyStack.findIndex(d=>d.includes("stackPages")),g=h===-1?n.historyStack.slice(0):n.historyStack.slice(0,h);if(g.length>0){const d=g.pop();if(d){const[_,S]=d.split("?");window.history.replaceState(null,"",d),n.historyLength=Math.max(0,g.length),n.pathname=_,n.search=S?`?${S}`:"",n.historyStack=g}}else{const d=n.search,_=new URLSearchParams(d);_.delete("stackPages"),window.history.replaceState(null,"",_.toString()?"/?"+_.toString():"/"),n.historyLength=0,n.pathname="/",n.search=_.toString()?"?"+_.toString():"",n.historyStack=[]}}}),ge(()=>(window.addEventListener("popstate",r),()=>{window.removeEventListener("popstate",r)}));var f=M(),v=T(f);te(v,()=>t.children??oe),m(e,f),q()}function Dl(e,t){V(t,!0);const n=crypto.randomUUID(),r=new BroadcastChannel("app");ml({tabId:n,send:l=>{r.postMessage(JSON.stringify({...l,tabId:n}))},getBroadcastChannel:()=>r});var o=M(),i=T(o);te(i,()=>t.children??oe),m(e,o),q()}const Jo={};function Al(e){Se(Jo,e)}function ir(){const e=ye(Jo);if(!e)throw new Error("No DialogContext found");return e}function Nl(e,t){V(t,!0);let n=I(0),r=I(!1),a=I(!1);Al({checkExistedDialog:()=>s(n)>0,showDialog:()=>{b(n,s(n)+1)},hideDialog:()=>{b(n,s(n)-1)},blockDialog:d=>{b(r,d,!0),d||b(a,!1)},checkBlockedDialog:()=>s(r),unBlockBackDialog:d=>{b(a,d,!0)},checkUnBlockedBackDialog:()=>s(a)});var h=M(),g=T(h);te(g,()=>t.children??oe),m(e,h),q()}const Qo={};function Tl(e){Se(Qo,e)}function Ea(){const e=ye(Qo);if(!e)throw new Error("No DialogPageHeightContext found");return e}function Ll(e,t){V(t,!0);let n=I(200);Tl({setDialogPageHeight:l=>{b(n,l,!0)},getDialogPageHeight:()=>s(n)});var o=M(),i=T(o);te(i,()=>t.children??oe),m(e,o),q()}const es={};function Ol(e){Se(es,e)}function Cd(){const e=ye(es);if(!e)throw new Error("No DraftsContext found");return e}function Ml(e){return new Promise((t,n)=>{const a=e?.transaction(kt,"readonly")?.objectStore(kt).getAll();ne(a,je,()=>{const o=a?.result||[];t(o)}),ne(a,He,()=>{n()})})}function Il(e,t){return new Promise((n,r)=>{const i=e?.transaction(kt,"readwrite")?.objectStore(kt)?.put({...t});ne(i,je,()=>{n()}),ne(i,He,()=>{r()})})}function Rl(e,t){return new Promise((n,r)=>{const i=e?.transaction(kt,"readwrite")?.objectStore(kt)?.delete(t);ne(i,je,()=>{n()}),ne(i,He,()=>{r()})})}function Bl(e){return new Promise((t,n)=>{const o=e?.transaction(kt,"readwrite")?.objectStore(kt)?.clear();ne(o,je,()=>{t()}),ne(o,He,()=>{n()})})}function Fl(e,t){V(t,!0);let n,r=I(void 0);const{getDB:a}=Fr(),o=jr(),i=O(a),l=O(()=>o.getBroadcastChannel()),c=w=>{const y=new Map;w.forEach(x=>{y.set(x.id,x)}),n=y,b(r,()=>n)},u=async()=>{const w=await Ml(s(i));c(w)},f=w=>s(r)?.()?.get(w),v=w=>{if(!n)throw new Error("Drafts state is not initialized");n.delete(w),b(r,()=>n)},h=w=>{if(!n)throw new Error("Drafts state is not initialized");n.set(w.id,w),b(r,()=>n)},g=async w=>{const y={...w};h(y),o.send({type:"putDraft",data:{draft:y}}),await Il(s(i),{...y})},d=async w=>{v(w),await Rl(s(i),w),o.send({type:"deleteDraft",data:{id:w}})},_=async w=>{const y=JSON.parse(w.data),x=y;if(y.tabId&&y.tabId===o.tabId){x.type==="exit"&&(n=void 0,b(r,()=>{}),Bl(s(i)));return}if(x.type==="putDraft"){const E=x.data.draft;h(E)}else if(x.type==="deleteDraft"){const E=x.data.id;v(E)}else x.type==="exit"&&(n=void 0,b(r,()=>{}))};ge(()=>(u(),s(l).addEventListener("message",_),()=>{s(l).removeEventListener("message",_)})),Ol({getDraft:f,putDraft:g,deleteDraft:d});var S=M(),k=T(S);te(k,()=>t.children??oe),m(e,S),q()}const ts={};function jl(e){Se(ts,e)}function ns(){const e=ye(ts);if(!e)throw new Error("No FeedOrderContext found");return e}function Hl(e,t){V(t,!0);const{navigate:n,getAppHistory:r}=Et(),a=O(r),o="feedOrder";let i=I(Me(new URLSearchParams(r().search).get(o)||"newest"));jl({getFeedOrder:()=>s(i),setFeedOrder:v=>{b(i,v,!0);const h=new URLSearchParams(s(a).search);v==="newest"?h.delete(o):h.set(o,v),n(`${s(a).pathname}${h.size>0?`?${h.toString()}`:""}`)}});var u=M(),f=T(u);te(f,()=>t.children??oe),m(e,u),q()}const rs={};function Ul(e){Se(rs,e)}function Pa(){const e=ye(rs);if(!e)throw new Error("No FeedSearchContext found");return e}function zl(e,t){V(t,!0);const{navigate:n,getAppHistory:r}=Et(),a=O(r),o="feedSearch";let i=I(Me(new URLSearchParams(r().search).get(o)||""));Ul({getFeedSearch:()=>s(i),setFeedSearch:v=>{b(i,v,!0);const h=new URLSearchParams(s(a).search);v===""?h.delete(o):h.set(o,v),n(`${s(a).pathname}${h.size>0?`?${h.toString()}`:""}`)}});var u=M(),f=T(u);te(f,()=>t.children??oe),m(e,u),q()}const as={};function Vl(e){Se(as,e)}function ql(){const e=ye(as);if(!e)throw new Error("No KeyboardVisibleContext found");return e}function Kl(e,t){V(t,!0);let n=Me({value:!1});const r=()=>n.value;ge(()=>{const i=()=>{setTimeout(()=>{document.activeElement instanceof HTMLInputElement&&document.activeElement.type==="text"||document.activeElement instanceof HTMLTextAreaElement?n.value=!0:n.value=!1},0)};return i(),document.addEventListener("focusin",i),document.addEventListener("focusout",i),()=>{document.removeEventListener("focusin",i),document.removeEventListener("focusout",i)}}),Vl({getIsKeyboardVisible:r});var a=M(),o=T(a);te(o,()=>t.children??oe),m(e,a),q()}function Wl(){return new Promise((e,t)=>{const n=indexedDB.open(hl,gl);ne(n,"upgradeneeded",()=>{const r=n.result;r.objectStoreNames.contains(dt)||r.createObjectStore(dt,{keyPath:"id"}),r.objectStoreNames.contains(Ya)||r.createObjectStore(Ya,{keyPath:"id"}),r.objectStoreNames.contains($t)||r.createObjectStore($t,{keyPath:"id"}),r.objectStoreNames.contains(Gt)||r.createObjectStore(Gt,{keyPath:"id"}),r.objectStoreNames.contains($a)||r.createObjectStore($a,{keyPath:"id"}),r.objectStoreNames.contains(kt)||r.createObjectStore(kt,{keyPath:"id"})}),ne(n,je,()=>{const r=n.result;e(r),r.onversionchange=function(){r?.close(),alert("app outdated, please reload the page")}}),ne(n,"blocked",()=>{t(),alert("app outdated, please reload the page")}),ne(n,He,()=>{t()})})}function Yl(e,t){V(t,!0);let n=I(null);ge(()=>{Wl().then(l=>{b(n,l,!0)})}),vl({getDB:()=>s(n)});var a=M(),o=T(a);{var i=l=>{var c=M(),u=T(c);te(u,()=>t.children??oe),m(l,c)};F(o,l=>{s(n)&&l(i)})}m(e,a),q()}const os={};function $l(e){Se(os,e)}function Un(){const e=ye(os);if(!e)throw new Error("No MobileSizeContext found");return e}const Gl=(e,t,n={})=>{let r=null;return()=>{r||(e(),r=setTimeout(()=>{if(r=null,n.trailing){e();return}},t))}};function Xl(e,t){V(t,!0);const n=()=>window.matchMedia("(max-width: 767px)").matches;let r=I(Me(n()));const a=Gl(()=>{b(r,n(),!0)},16,{trailing:!0});$l({checkMobileSize:()=>s(r)}),ge(()=>(window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)));var i=M(),l=T(i);te(l,()=>t.children??oe),m(e,i),q()}const Zl=()=>crypto.randomUUID();function br(e){return new Promise((t,n)=>{const a=e?.transaction(dt,"readonly")?.objectStore(dt).getAll();ne(a,je,()=>{const o=a?.result||[];t(o)}),ne(a,He,()=>{n()})})}function Zr(e,t){return new Promise((n,r)=>{const i=e?.transaction(dt,"readwrite")?.objectStore(dt)?.put({...t});ne(i,je,()=>{n()}),ne(i,He,()=>{r()})})}function Jl(e,t){return new Promise((n,r)=>{const i=e?.transaction(dt,"readwrite")?.objectStore(dt)?.delete(t);ne(i,je,()=>{n()}),ne(i,He,()=>{r()})})}function Xa(e){return new Promise((t,n)=>{const o=e?.transaction(dt,"readwrite")?.objectStore(dt)?.clear();ne(o,je,()=>{t()}),ne(o,He,()=>{n()})})}async function Ql(e,t){const n=(await br(e)).reduce((i,l)=>(i[l.id]=l,i),{}),r={},o=e?.transaction(dt,"readwrite")?.objectStore(dt);t.forEach(i=>{n[i.id]?n[i.id].updatedAt<i.updatedAt&&(r[i.id]=i):r[i.id]=i}),await Promise.all(Object.values(r).map(i=>{const l=o?.put(i);return new Promise((c,u)=>{ne(l,je,()=>{c()}),ne(l,He,()=>{u()})})}))}const ss={};function ec(e){Se(ss,e)}function Hr(){const e=ye(ss);if(!e)throw new Error("No NotesContext found");return e}function tc(e,t){V(t,!0);let n,r,a=I(()=>n),o=I(()=>r);const{getDB:i}=Fr(),l=jr(),c=O(i),u=O(()=>l.getBroadcastChannel()),f=D=>{n=[],r=new Map;for(const L of D)n.push(L),r.set(L.id,L);b(a,()=>n),b(o,()=>r)},v=async()=>{const D=await br(s(c));f(D)},h=()=>s(a)||(()=>n||[]),g=()=>s(o)||(()=>r||new Map),d=D=>{if(!n||!r)throw new Error("Notes appState is not initialized");const L={...D};n.push(L),r.set(L.id,L),b(a,()=>n),b(o,()=>r)},_=D=>{if(!n||!r)throw new Error("Notes appState is not initialized");for(let L=0;L<n.length;L++)n[L]?.id===D.id&&n&&(n[L]=D);r.set(D.id,D),b(a,()=>n),b(o,()=>r)},S=D=>{if(!n||!r)throw new Error("Notes state is not initialized");r.delete(D);const L=n.findIndex(H=>H?.id===D);L!==-1&&(n[L]=void 0),b(a,()=>n),b(o,()=>r)},k=()=>{f([])},w=async D=>{const L={...D,id:Zl(),createdAt:Date.now(),updatedAt:Date.now()};d(L),l.send({type:"addNote",data:{note:L}}),await Zr(s(c),{...L})},y=async D=>{const L={...D,updatedAt:Date.now()};l.send({type:"updateNote",data:{note:L}}),_(L),await Zr(s(c),L)},x=(D,L)=>{const H=r?.get(D);if(!H)return;const Y={...H,deleting:L};l.send({type:"updateNote",data:{note:Y}}),_(Y)},E=async(D,L)=>{const H=r?.get(D);if(!H)return;const Y={...H,pinned:L};l.send({type:"updateNote",data:{note:Y}}),_(Y),await Zr(s(c),Y)},p=async D=>{r?.get(D),l.send({type:"deleteNote",data:{id:D}}),S(D),await Jl(s(c),D)},C=async()=>{l.send({type:"clearNotes"}),k(),await Xa(s(c))},P=async D=>{await Ql(s(c),D),l.send({type:"reloadNotes"});const L=await br(s(c));f(L)},R=D=>s(o)?.()?.get(D),U=()=>{const D=s(a)?.(),L=s(o)?.();return D!==void 0&&L!==void 0},W=async D=>{const L=JSON.parse(D.data),H=L;if(L.tabId&&L.tabId===l.tabId){H.type==="exit"&&(n=void 0,b(a,()=>{}),r=void 0,b(o,()=>{}),Xa(s(c)));return}if(H.type==="addNote"){const Y=H.data.note;d(Y)}else if(H.type==="updateNote"){const Y=H.data.note;_(Y)}else if(H.type==="deleteNote"){const Y=H.data.id;S(Y)}else if(H.type==="clearNotes")k();else if(H.type==="reloadNotes"){const Y=await br(s(c));f(Y)}else H.type==="exit"&&(n=void 0,b(a,()=>{}),r=void 0,b(o,()=>{}))};ge(()=>(v(),s(u).addEventListener("message",W),()=>{s(u).removeEventListener("message",W)})),ec({addNote:w,updateNote:y,deleteNote:p,pinNote:E,setDeleting:x,getGetNotes:h,getGetMapNotes:g,importNotes:P,clearNotes:C,getNoteById:R,isReadyStore:U});var G=M(),j=T(G);te(j,()=>t.children??oe),m(e,G),q()}const is={};function nc(e){Se(is,e)}function xa(){const e=ye(is);if(!e)throw new Error("No RelatedTagsContext found");return e}function rc(e,t){V(t,!0);let n=I({});nc({getRelatedTags:()=>s(n),setRelatedTags:o=>{b(n,o)}});var r=M(),a=T(r);te(a,()=>t.children??oe),m(e,r),q()}const ls={};function ac(e){Se(ls,e)}function Da(){const e=ye(ls);if(!e)throw new Error("No ScrollContainerContext found");return e}function oc(e,t){V(t,!0);let n=I(null);ac({setScrollContainer:l=>{b(n,l,!0)},getScrollContainer:()=>s(n)});var o=M(),i=T(o);te(i,()=>t.children??oe),m(e,o),q()}const cs={};function sc(e){Se(cs,e)}function us(){const e=ye(cs);if(!e)throw new Error("No ScrollingContext found");return e}function ic(e,t){V(t,!0);let n=I(!1);const r=()=>s(n),a=yl(()=>{b(n,!1)},100);sc({isScrolling:r,enable:()=>{b(n,!0),a()}});var i=M(),l=T(i);te(l,()=>t.children??oe),m(e,i),q()}const ds={};function lc(e){Se(ds,e)}function fs(){const e=ye(ds);if(!e)throw new Error("No SearchContext found");return e}function cc(e,t){V(t,!0);const{getFeedSearch:n}=Pa(),r=Me({feedSearch:n(),tagSearch:""});lc(r);var a=M(),o=T(a);te(o,()=>t.children??oe),m(e,a),q()}const vs={};function uc(e){Se(vs,e)}function dc(){const e=ye(vs);if(!e)throw new Error("No SelectedTagsContext found");return e}function fc(e,t){V(t,!0);const{getAppHistory:n}=Et(),r=()=>new URLSearchParams(n().search).get("selectedTags")?.split(",")||[];let a=r();uc({getSelectedTags:()=>{const c=r();return c.join(",")===a.join(",")||(a=c),a}});var i=M(),l=T(i);te(l,()=>t.children??oe),m(e,i),q()}function vc(e){return new Promise((t,n)=>{const a=e?.transaction(Gt,"readonly")?.objectStore(Gt).get("default");ne(a,je,()=>{const o=a?.result?.settings;t(o)}),ne(a,He,()=>{n()})})}function hc(e,t){return new Promise((n,r)=>{const i=e?.transaction(Gt,"readwrite")?.objectStore(Gt)?.put({id:"default",settings:t});ne(i,je,()=>{n()}),ne(i,He,()=>{r()})})}function gc(e){return new Promise((t,n)=>{const o=e?.transaction(Gt,"readwrite")?.objectStore(Gt)?.clear();ne(o,je,()=>{t()}),ne(o,He,()=>{n()})})}const hs={};function _c(e){Se(hs,e)}function pc(){const e=ye(hs);if(!e)throw new Error("No SettingsContext found");return e}function mc(e,t){V(t,!0);let n=I(Me({showFavicon:!1}));const{getDB:r}=Fr(),a=jr(),o=O(r),i=O(()=>a.getBroadcastChannel()),l=async()=>{const d=await vc(s(o));d&&b(n,d,!0)},c=async()=>{l()},u=async d=>{const _=JSON.parse(d.data),S=_;if(_.tabId&&_.tabId===a.tabId){S.type==="exit"&&(b(n,{showFavicon:!1},!0),gc(s(o)));return}S.type==="updateSettings"?l():S.type==="exit"&&b(n,{showFavicon:!1},!0)},f=()=>s(n).showFavicon,v=async d=>{s(n).showFavicon=d,await hc(s(o),{showFavicon:d}),a.send({type:"updateSettings"})};ge(()=>(c(),s(i).addEventListener("message",u),()=>{s(i).removeEventListener("message",u)})),_c({getFaviconEnabled:f,setFaviconShown:v});var h=M(),g=T(h);te(g,()=>t.children??oe),m(e,h),q()}const gs={};function wc(e){Se(gs,e)}function yc(){const e=ye(gs);if(!e)throw new Error("No SidebarContext found");return e}function Sc(e,t){V(t,!0);const n=(f,v)=>{if(!v)return f;if(v.type==="closed")return{type:"closed"};switch(f.type){case"opened":return v.type==="close"?{type:"closing"}:v.type==="swipe"?{type:"openSwiping"}:f;case"closed":return v.type==="open"?{type:"opening"}:v.type==="swipe"?{type:"closeSwiping"}:f;case"openSwiping":return v.type==="open"?{type:"opening"}:v.type==="close"?{type:"closing"}:f;case"closeSwiping":return v.type==="open"?{type:"opening"}:v.type==="close"?{type:"closing"}:f;case"opening":return v.type==="opened"?{type:"opened"}:f;default:return f}};let r=I(Me(n({type:"closed"})));const a=f=>{b(r,n(s(r),f),!0)};wc({sidebarOpen:()=>{a({type:"open"})},sidebarClose:()=>{a({type:"close"})},handleComputeState:a,getSidebarState:()=>s(r)});var c=M(),u=T(c);te(u,()=>t.children??oe),m(e,c),q()}function bc(e,t){V(t,!0);const{getAppHistory:n,navigate:r}=Et(),a=()=>new URLSearchParams(n().search).get("stackPages")?.split(",")||[];let o=I(Me(a()));const i=S=>{const k=a();if(!k.includes(S)){k.push(S);const w=new URLSearchParams(n().search);w.set("stackPages",k.join(",")),b(o,k,!0),r(`${n().pathname}?${w.toString()}`)}};bl({pushStackPages:i,hasStackPage:S=>a().includes(S),updateStackPages:()=>{b(o,a(),!0)},popStackPages:()=>{const S=s(o).slice(0,-1);b(o,S,!0)},getStackPages:()=>{const S=a();return S.length>=s(o).length?S.reduce((k,w)=>[...k,{page:w,shown:!0}],[]):s(o).reduce((k,w,y)=>[...k,{page:w,shown:S.length===0?!1:y!==s(o).length-1}],[])},clearStackPages:()=>{b(o,[],!0)},getPageUrl:S=>{const k=a();k.includes(S)||k.push(S);const w=new URLSearchParams(n().search);return w.set("stackPages",k.join(",")),`${n().pathname}?${w}`},createHandlePage:S=>k=>{k.preventDefault(),i(S)},getStackPagesFormUrl:a});var d=M(),_=T(d);te(_,()=>t.children??oe),m(e,d),q()}function kc(e,t){Pl(e,{children:(n,r)=>{ic(n,{children:(a,o)=>{Xl(a,{children:(i,l)=>{Nl(i,{children:(c,u)=>{oc(c,{children:(f,v)=>{Ll(f,{children:(h,g)=>{Kl(h,{children:(d,_)=>{xl(d,{children:(S,k)=>{bc(S,{children:(w,y)=>{Yl(w,{children:(x,E)=>{Dl(x,{children:(p,C)=>{var P=M(),R=T(P);te(R,()=>t.children??oe),m(p,P)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})}function Cc(e,t){kc(e,{children:(n,r)=>{rc(n,{children:(a,o)=>{zl(a,{children:(i,l)=>{cc(i,{children:(c,u)=>{Hl(c,{children:(f,v)=>{Sc(f,{children:(h,g)=>{fc(h,{children:(d,_)=>{mc(d,{children:(S,k)=>{kl(S,{children:(w,y)=>{Fl(w,{children:(x,E)=>{tc(x,{children:(p,C)=>{var P=M(),R=T(P);te(R,()=>t.children??oe),m(p,P)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})}})}let It=I(""),Zt=I(null),Kn=I(null),Wn=I(null);function Ur(e,t){b(It,""),setTimeout(()=>{b(It,e,!0),t?.onFinish&&b(Kn,t.onFinish,!0),t?.onCancel&&b(Wn,t.onCancel,!0)},16)}const Ec=(e,t,n,r,a)=>{e.preventDefault(),s(t)&&(b(n,null),s(t)(),b(t,null)),b(r,""),s(a)?.style.removeProperty("opacity")};var Pc=K('<button type="button" class="undoButton svelte-1vxmgq5">undo</button>'),xc=K('<div class="notification svelte-1vxmgq5"><span> </span> <!></div>'),Dc=K("<div><!></div>");function Ac(e,t){V(t,!0),Pe(()=>{s(It);const o=s(Wn)?2e3:800;s(It)&&(s(Zt)?.getBoundingClientRect(),s(Zt)?.style.setProperty("opacity","1"));const i=setTimeout(()=>{s(Zt)?.style.removeProperty("opacity")},o),l=setTimeout(()=>{b(It,""),s(Kn)&&s(Kn)(),b(Kn,null),b(Wn,null),s(Zt)?.style.removeProperty("opacity")},o+400);return()=>{clearTimeout(i),clearTimeout(l)}});var n=Dc(),r=N(n);{var a=o=>{var i=xc(),l=N(i),c=N(l),u=B(l,2);{var f=v=>{var h=Pc();h.__click=[Ec,Wn,Kn,It,Zt],m(v,h)};F(u,v=>{s(Wn)&&v(f)})}pt(i,v=>b(Zt,v),()=>s(Zt)),pe(()=>Zn(c,s(It))),m(o,i)};F(r,o=>{s(It)&&o(a)})}m(e,n),q()}tt(["click"]);var Nc=K('<span class="vh svelte-1s25udk"><!></span>');function gt(e,t){var n=Nc(),r=N(n);te(r,()=>t.children),m(e,n)}var Tc=K("<a><!></a>"),Lc=K("<button><!></button>");function Mn(e,t){let n=se(t,"type",3,"standard"),r=se(t,"typeButton",3,"button"),a=se(t,"element",3,"button"),o=se(t,"href",3,""),i=se(t,"fullWidth",3,!1),l=se(t,"withoutMinWidth",3,!1);var c=M(),u=T(c);{var f=h=>{var g=Tc();g.__click=function(..._){t.onClick?.apply(this,_)};var d=N(g);te(d,()=>t.children??oe),pe(()=>{Oe(g,"href",o()),de(g,1,ue(["button","a",{dangerous:n()==="dangerous",secondary:n()==="secondary",fullWidth:i(),withoutMinWidth:l()}]),"svelte-aqjevc")}),m(h,g)},v=h=>{var g=Lc();g.__click=function(..._){t.onClick?.apply(this,_)};var d=N(g);te(d,()=>t.children??oe),pe(()=>{Oe(g,"type",r()),de(g,1,ue(["button",{dangerous:n()==="dangerous",secondary:n()==="secondary",fullWidth:i(),withoutMinWidth:l()}]),"svelte-aqjevc")}),m(h,g)};F(u,h=>{a()==="a"?h(f):h(v,!1)})}m(e,c)}tt(["click"]);var Oc=Zi('<svg class="svelte-18et5h9"><use></use></svg>');function Ae(e,t){let n=se(t,"name",8,"");var r=Oc(),a=N(r);pe(()=>Oe(a,"href",`#icon-${n()??""}`)),m(e,r)}var Mc=K('<button> <svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></button>');function bn(e,t){let n=O(()=>t.style==="selected"?"45deg":"0deg");var r=Mc();r.__click=function(...i){t.onClick?.apply(this,i)};var a=N(r),o=B(a);xe(o,()=>({"--size":t.size==="small"?"10px":"12px","--rotate":s(n)})),Ae(o.lastChild,{name:"plus"}),pe(()=>{Oe(r,"type",t.type),de(r,1,ue([{selectedTag:t.style==="selected",small:t.size==="small"}]),"svelte-uu8a24"),Zn(a,`${t.title??""} `)}),m(e,r)}tt(["click"]);const Ic=(e,t,n,r)=>{const a=t().type;a==="closed"?n():a==="opened"&&r()};var Rc=K('<button class="buttonMenu svelte-bpktnw"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>');function _s(e,t){V(t,!1);const{sidebarOpen:n,getSidebarState:r,sidebarClose:a}=yc();ba();var o=Rc();o.__click=[Ic,r,n,a];var i=N(o);xe(i,()=>({"--size":"36px"})),Ae(i.lastChild,{name:"sidebarMenu"});var l=B(i,2);gt(l,{children:(c,u)=>{var f=Ve("Menu");m(c,f)}}),m(e,o),q()}tt(["click"]);var Bc=(e,t)=>t.onChange?.(e.target?.value||""),Fc=K('<input class="svelte-15lr19w"/>');function ia(e,t){V(t,!0);let n=se(t,"value",15,"");var r=Fc();r.__input=[Bc,t],pe(()=>Oe(r,"placeholder",t.placeholder)),ya("focus",r,function(...a){t.onFocus?.apply(this,a)}),cl(r,n),m(e,r),q()}tt(["input"]);function ps(e,t){V(t,!0),ge(()=>{const n=r=>{r.target&&t.dialog?.open&&t.dialogInner&&t.dialogInner!==r.target&&!t.dialogInner.contains(r.target)&&t.onClose()};return document.addEventListener("mousedown",n,{capture:!0}),()=>{document.removeEventListener("mousedown",n,{capture:!0})}}),q()}var jc=K('<dialog><div class="dialogInner svelte-1x410nl"><!></div></dialog> <!>',1);function ms(e,t){V(t,!0);let n=I(null),r=I(null),a=I(!1),{showDialog:o,hideDialog:i}=ir();const l=()=>{const d=setTimeout(()=>{t.onClosed()},150);s(n)?.addEventListener("transitionend",()=>{clearTimeout(d),t.onClosed()},{once:!0}),b(a,!1)};Pe(()=>{t.startClose&&l()}),ge(()=>{s(n)?.showModal(),s(n)?.getClientRects(),b(a,!0)}),ge(()=>(o(),()=>{i()}));var c=jc(),u=T(c),f=N(u),v=N(f);te(v,()=>t.children),pt(f,d=>b(r,d),()=>s(r)),pt(u,d=>b(n,d),()=>s(n));var h=B(u,2);{var g=d=>{ps(d,{get dialog(){return s(n)},get dialogInner(){return s(r)},onClose:l})};F(h,d=>{s(n)&&s(r)&&d(g)})}pe(()=>de(u,1,ue(["dialog",{shown:s(a)}]),"svelte-1x410nl")),m(e,c),q()}var Hc=K("<div><!></div>");function ws(e,t){V(t,!0);let n=I(!1),r=I(null);const a=()=>{const u=setTimeout(()=>{t.onClosed()},150);s(r)?.addEventListener("transitionend",()=>{clearTimeout(u),t.onClosed()},{once:!0}),b(n,!1)},o=u=>{u.target!==s(r)&&!s(r)?.contains(u.target)&&a()},i=u=>{u.target!==s(r)&&!s(r)?.contains(u.target)&&a()};ge(()=>{s(r)?.getClientRects(),b(n,!0);const u=setTimeout(()=>{document.addEventListener("focusin",o),document.addEventListener("click",i)},0);return()=>{clearTimeout(u),document.removeEventListener("focusin",o),document.removeEventListener("click",i)}}),Pe(()=>{t.startClose&&a()});var l=Hc(),c=N(l);te(c,()=>t.children),pt(l,u=>b(r,u),()=>s(r)),pe(()=>de(l,1,ue(["menu",{top:t.positionTop,shown:s(n)}]),"svelte-ujw4xi")),m(e,l),q()}const Uc=(e,t)=>{s(t)||b(t,!0)};var zc=(e,t)=>t("newest"),Vc=(e,t)=>t("oldest"),qc=(e,t)=>t("AtoZ"),Kc=(e,t)=>t("ZtoA"),Wc=K("<div><button>Newest</button> <button>Oldest</button> <button>A to Z</button> <button>Z to A</button></div>"),Yc=K('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),$c=K('<div class="orderMenu svelte-14zj87s"><button><!> <!></button> <!></div>');function Gc(e,t){V(t,!0);const n=(w,y=oe)=>{var x=Wc(),E=N(x);E.__click=[zc,f];var p=B(E,2);p.__click=[Vc,f];var C=B(p,2);C.__click=[qc,f];var P=B(C,2);P.__click=[Kc,f],pe(()=>{de(x,1,ue(["menu",{menuDialog:y()}]),"svelte-14zj87s"),de(E,1,ue(["menuButton",{menuButtonDialog:y(),current:s(u)==="newest"}]),"svelte-14zj87s"),de(p,1,ue(["menuButton",{menuButtonDialog:y(),current:s(u)==="oldest"}]),"svelte-14zj87s"),de(C,1,ue(["menuButton",{menuButtonDialog:y(),current:s(u)==="AtoZ"}]),"svelte-14zj87s"),de(P,1,ue(["menuButton",{menuButtonDialog:y(),current:s(u)==="ZtoA"}]),"svelte-14zj87s")}),m(w,x)};let r=I(!1),a=I(!1);const{checkMobileSize:o}=Un(),{getFeedOrder:i,setFeedOrder:l}=ns();let c=O(o),u=O(i);const f=w=>{b(a,!0),l(w)},v=()=>{b(r,!1),b(a,!1)};var h=$c(),g=N(h);g.__click=[Uc,r],de(g,1,ue(["button","buttonMenu"]),"svelte-14zj87s");var d=N(g);Ae(d,{name:"filter"});var _=B(d,2);gt(_,{children:(w,y)=>{var x=Ve("show feed order menu");m(w,x)}});var S=B(g,2);{var k=w=>{var y=M(),x=T(y);{var E=C=>{ms(C,{get startClose(){return s(a)},onClosed:v,children:(P,R)=>{n(P,()=>!0)},$$slots:{default:!0}})},p=C=>{var P=Yc(),R=T(P);xe(R,()=>({"--right":"20px","--top":"60px"})),ws(R.lastChild,{get startClose(){return s(a)},onClosed:v,children:(U,W)=>{n(U,()=>!1)},$$slots:{default:!0}}),m(C,P)};F(x,C=>{s(c)?C(E):C(p,!1)})}m(w,y)};F(S,w=>{s(r)&&w(k)})}m(e,h),q()}tt(["click"]);var z=(e=>(e.NewNote="newNote",e.EditNote="editNote",e.Settings="settings",e.ImportData="importData",e.ExportData="exportData",e.ClearStore="clearStore",e.Account="account",e.Sync="sync",e.Start="start",e.Auth="auth",e.Signin="signin",e.Signup="signup",e.AccessKeys="accessKeys",e.ConfirmAccessKey="confirmAccessKey",e.Subscription="subscription",e.Exit="exit",e.NotFound="notFound",e.About="about",e))(z||{}),Xc=K('<div class="header svelte-13t3afu"><div class="top svelte-13t3afu"><div class="menu svelte-13t3afu"><a class="link svelte-13t3afu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Settings</span></a> <a class="link svelte-13t3afu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Sync</span></a></div> <div class="mobile svelte-13t3afu"><!></div> <a class="buttonAdd svelte-13t3afu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Note</span></a></div> <div class="bottom svelte-13t3afu"><div><div class="sidebarSearchWrapper"><!></div></div> <div class="right svelte-13t3afu"><div class="filter svelte-13t3afu"><div class="feedSearchWrapper svelte-13t3afu"><!></div> <!></div></div></div></div>');function Zc(e,t){V(t,!0);const{createHandlePage:n,getPageUrl:r}=Ot(),a=fs(),{setFeedSearch:o}=Pa(),{getScrollContainer:i}=Da();let l=O(i);const c=()=>{s(l)&&s(l).scrollTo({top:0,behavior:"smooth"})},u=Y=>{o(Y)};var f=Xc(),v=N(f),h=N(v),g=N(h),d=O(()=>n(z.Settings));g.__click=function(...Y){s(d)?.apply(this,Y)};var _=N(g);xe(_,()=>({"--rotate":"30deg","--size":"20px"})),Ae(_.lastChild,{name:"settings"});var S=B(g,2),k=O(()=>n(z.Sync));S.__click=function(...Y){s(k)?.apply(this,Y)};var w=N(S);xe(w,()=>({"--size":"20px"})),Ae(w.lastChild,{name:"sync"});var y=B(h,2),x=N(y);_s(x,{});var E=B(y,2),p=O(()=>n(z.NewNote));E.__click=function(...Y){s(p)?.apply(this,Y)};var C=N(E);xe(C,()=>({"--size":"16px","--color":"#b0b0b0"})),Ae(C.lastChild,{name:"plus"});var P=B(v,2),R=N(P);de(R,1,ue(["left"]),"svelte-13t3afu");var U=N(R),W=N(U);ia(W,{placeholder:"Search tag",get value(){return a.tagSearch},set value(Y){a.tagSearch=Y}});var G=B(R,2),j=N(G),D=N(j),L=N(D);ia(L,{onFocus:c,onChange:u,placeholder:"Search",get value(){return a.feedSearch}});var H=B(D,2);Gc(H,{}),pe((Y,ce,X)=>{Oe(g,"href",Y),Oe(S,"href",ce),Oe(E,"href",X)},[()=>r(z.Settings),()=>r(z.Sync),()=>r(z.NewNote)]),m(e,f),q()}tt(["click"]);function Jc(e,t){V(t,!0);const{getIsKeyboardVisible:n}=ql();let r=se(t,"dialog",7);const a=O(n),o=sr();let i=null;const l=()=>{t.dialogState==="swiping"&&t.onClose()};Pe(()=>(t.dialogState==="swiping"&&(i=setTimeout(l,3e3)),()=>{i&&(clearTimeout(i),i=null)}));let c=null,u=null;const f=3,v=50,h=5,g=.6,d=.3,_=.35,S=.95;let k=0,w=0,y=0,x=!1,E=!1,p=0,C=0,P=0;const R=()=>{k=0,w=0,x=!1,E=!1,p=0,C=0,P=0,y=0,c=null,u!==null&&(cancelAnimationFrame(u),u=null),i&&(clearTimeout(i),i=null)},U=X=>{r()&&t.dialogState==="opened"&&(k=X.touches[0].clientX,w=X.touches[0].clientY,y=performance.now(),x=!0,E=!1)},W=X=>t.dialogState==="opened"&&X>0||t.dialogState==="swiping"&&X>0,G=()=>{if(r()){r().style.setProperty("--transition-timing","0s"),t.onSwipe(),navigator.vibrate&&navigator.vibrate(10);try{const X=window.getComputedStyle(r()),ie=X.transform||X.webkitTransform||"";if(C=r().offsetWidth,(t.dialogState==="swiping"||t.dialogState==="opened")&&(p=0),ie&&ie!=="none")try{p=new DOMMatrix(ie).m41}catch{}E=!0}catch{R()}}},j=()=>{if(!r())return;const ie=Math.abs(p+P*C/100)/C;r().style.setProperty("--backdrop-bg",`rgba(0, 0, 0, ${.1*(1-ie)})`)},D=()=>{if(u=null,!c||!x||!r()||s(a)){R();return}const X=c.touches[0].clientX,ie=c.touches[0].clientY,we=X-k,le=ie-w,me=Math.abs(we)>Math.abs(le),J=Math.abs(we)>f;if(!E)if(me&&J&&W(we))try{G()}catch{R();return}else return;if(!W(we))return;r().style.setProperty("--transition-timing","0s");let ee=p+we*S;ee=Math.max(0,Math.min(C,ee)),r().style.transform=`translate3d(${ee}px, 0, 0)`,o.swipingRatio=Math.abs(1-ee/C),P=(ee-p)/C*100,t.dialogState==="swiping"&&(i&&clearTimeout(i),i=setTimeout(l,3e3)),j()},L=X=>{if(!x)return;c=X,u===null&&(u=requestAnimationFrame(D));const ie=X.touches[0].clientX-k,we=X.touches[0].clientY-w,le=Math.abs(ie)>Math.abs(we);E&&le&&X.preventDefault()},H=X=>{const ie=Math.abs(X);if(ie>=g)return h;if(ie>=d){const we=(ie-d)/(g-d);return v-we*(v-h)}else return v},Y=(X,ie)=>{if(Math.abs(X)>=g)return _*.5;const le=Math.abs(P)/100;return ie?_*Math.max(.5,1-le):_*Math.max(.5,le)},ce=X=>{if(u!==null&&(cancelAnimationFrame(u),u=null),!x||!r()){R();return}if(!E){R();return}let ie=0;if(X?.changedTouches?.[0]){const ee=X.changedTouches[0].clientX,ke=performance.now()-y;ke>0&&(ie=(ee-k)/ke)}const we=H(ie);let le=null;t.dialogState==="swiping"&&(le=Math.abs(P)>we||ie<-d?"close":"open");const me=t.dialogState==="swiping"&&le==="close",J=Y(ie,me);o.duration=J-.02,r().style.setProperty("--transition-timing",`${J}s`),r().offsetWidth,r().style.transform="",le==="open"?t.onOpen():le==="close"&&t.onClose(),r()?.style.removeProperty("--backdrop-bg"),R()};ge(()=>(r().addEventListener("touchstart",U,{passive:!0}),r().addEventListener("touchmove",L,{passive:!1}),r().addEventListener("touchend",ce,{passive:!0}),r().addEventListener("touchcancel",ce,{passive:!0}),()=>{r().removeEventListener("touchstart",U),r().removeEventListener("touchmove",L),r().removeEventListener("touchend",ce),r().removeEventListener("touchcancel",ce),u!==null&&cancelAnimationFrame(u)})),q()}var Qc=(e,t)=>{t.onStartClose()},eu=K('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),tu=K('<dialog><div class="dialogInner svelte-vr2o0t"><div class="header svelte-vr2o0t"><div><!></div></div> <!></div></dialog> <!>',1);function nu(e,t){V(t,!0);let n=350;const{isScrolling:r,enable:a}=us();let o=I(null),i=I(null);const l=sr(),c=p=>{p.preventDefault(),t.onStartClose()};ge(()=>(s(o)?.addEventListener("close",t.onClosed),s(o)?.addEventListener("cancel",c),()=>{s(o)?.removeEventListener("close",t.onClosed),s(o)?.removeEventListener("cancel",c)}));const u=()=>{s(o)?.style.removeProperty("--transition-timing"),s(o)?.style.removeProperty("transform"),s(o)?.style.removeProperty("--backdrop-bg")},f=()=>{a()},v=O(r);Pe(()=>{if(t.dialogState,!!s(o))switch(t.dialogState){case"opening":{s(o).open||s(o).showModal(),s(o).getBoundingClientRect();const p=setTimeout(()=>{u()},n+1),C=()=>{clearTimeout(p),u()};return s(o)?.addEventListener("transitionend",C,{once:!0}),t.onOpened(),()=>{s(o)?.removeEventListener("transitionend",C)}}case"closing":{const p=setTimeout(()=>{t.dialogState==="closing"&&t.onClosed()},n+1),C=()=>{clearTimeout(p),t.onClosed()};return s(o)?.addEventListener("transitionend",C,{once:!0}),()=>{s(o)?.removeEventListener("transitionend",C)}}case"opened":u()}});var h=tu(),g=T(h),d=N(g),_=N(d),S=N(_),k=N(S);{var w=p=>{var C=eu();de(C,1,ue(["navigateButton","buttonBack"]),"svelte-vr2o0t"),C.__click=[Qc,t];var P=N(C);xe(P,()=>({"--size":"36px"})),Ae(P.lastChild,{name:"back"});var R=B(P,2);gt(R,{children:(U,W)=>{var G=Ve("back");m(U,G)}}),m(p,C)};F(k,p=>{(!(t.blocked||t.hidden)||t.blocked&&t.unBlockedBack)&&p(w)})}var y=B(_,2);te(y,()=>t.children),pt(d,p=>b(i,p),()=>s(i)),pt(g,p=>b(o,p),()=>s(o));var x=B(g,2);{var E=p=>{Jc(p,{get onClose(){return t.onStartClose},get onOpen(){return t.onStartOpen},get onSwipe(){return t.onSwipe},get dialogState(){return t.dialogState},get dialog(){return s(o)}})};F(x,p=>{(!s(v)&&t.dialogState==="opened"||t.dialogState==="swiping")&&(!t.blocked||t.unBlockedBack)&&p(E)})}pe(()=>de(g,1,ue([{open:t.dialogState==="opened",hidden:t.hidden,isAnimationOn:l.working&&(!l.isSwiping||!t.hidden)},{hidden:t.hidden}]),"svelte-vr2o0t")),ya("scroll",d,f),m(e,h),q()}tt(["click"]);const Za=(e,t)=>{if(!t)return e;if(t.type==="closed")return{type:"closed"};switch(e.type){case"opened":return t.type==="close"?{type:"closing"}:t.type==="swipe"?{type:"swiping"}:e;case"closed":return t.type==="open"?{type:"opening"}:e;case"swiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"opening":return t.type==="opened"?{type:"opened"}:e;default:return e}};function ru(e,t){V(t,!0);let n=se(t,"blocked",3,!1),r=se(t,"hiddenDialog",3,!1),a=se(t,"unBlockedBack",3,!1),o=se(t,"onStartClose",3,()=>{}),i=se(t,"onClose",3,()=>{});const l=sr();let c=I(Me(Za({type:"closed"})));const u=y=>{b(c,Za(s(c),y),!0)},f=()=>{n()&&!a()||(o()(),u({type:"close"}))},v=()=>{u({type:"open"})},h=()=>{u({type:"opened"}),l.duration=.2},g=()=>{i()(),u({type:"closed"}),l.swipingRatio=1,l.duration=.2},d=()=>{u({type:"swipe"})};Pe(()=>{s(c).type==="swiping"?l.isSwiping=!0:l.isSwiping=!1,s(c).type==="closed"&&t.shownDialog?v():s(c).type==="opened"&&!t.shownDialog&&f()});var _={handleComputeState:u},S=M(),k=T(S);{var w=y=>{nu(y,{onSwipe:d,onOpened:h,onClosed:g,onStartClose:f,onStartOpen:v,get dialogState(){return s(c).type},get hidden(){return r()},get blocked(){return n()},get unBlockedBack(){return a()},children:(x,E)=>{var p=M(),C=T(p);te(C,()=>t.children),m(x,p)},$$slots:{default:!0}})};F(k,y=>{s(c).type!=="closed"&&y(w)})}return m(e,S),q(_)}const au=({getDialog:e,onOpen:t,onStartClose:n,onClose:r})=>{const a=i=>{i.preventDefault(),n()},o=()=>{r?.()};ge(()=>{const i=e();return i?.addEventListener("cancel",a),i?.addEventListener("close",o),()=>{i?.removeEventListener("cancel",a),i?.removeEventListener("close",o)}}),ge(()=>{const i=e();i?.showModal(),i?.getBoundingClientRect(),t()})};var ou=(e,t)=>{t.onStartBack()},su=K('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),iu=(e,t)=>{t.onStartClose()},lu=K('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),cu=K('<dialog><div class="dialogInner svelte-rt409n"><div class="header svelte-rt409n"><div><!></div> <div><!></div></div> <!></div></dialog> <!>',1);function uu(e,t){V(t,!0);let n=se(t,"blockedDialog",3,!1),r=se(t,"hiddenDialog",3,!1),a=se(t,"isDesktopAnimationOff",3,!1),o=I(null),i=I(null);au({getDialog:()=>s(o),onOpen:t.onOpen,onStartClose:t.onStartClose,onClose:t.onClose});const l=sr();Pe(()=>{t.stateDialog==="closing"&&(l.working?s(o)?.addEventListener("transitionend",()=>{s(o)?.close()},{once:!0}):s(o)?.close())});const{getDialogPageHeight:c}=Ea(),u=O(c);var f=cu(),v=T(f),h=N(v),g=N(h),d=N(g),_=N(d);{var S=p=>{var C=su();de(C,1,ue(["navigateButton","buttonBack"]),"svelte-rt409n"),C.__click=[ou,t];var P=N(C);xe(P,()=>({"--size":"28px"})),Ae(P.lastChild,{name:"back"});var R=B(P,2);gt(R,{children:(U,W)=>{var G=Ve("back");m(U,G)}}),m(p,C)};F(_,p=>{(!(n()||r())||n()&&t.unBlockedBack)&&t.onStartBack&&p(S)})}var k=B(d,2),w=N(k);{var y=p=>{var C=lu();de(C,1,ue(["navigateButton","buttonClose"]),"svelte-rt409n"),C.__click=[iu,t];var P=N(C);xe(P,()=>({"--size":"28px"})),Ae(P.lastChild,{name:"close"});var R=B(P,2);gt(R,{children:(U,W)=>{var G=Ve("close");m(U,G)}}),m(p,C)};F(w,p=>{n()||r()||p(y)})}var x=B(g,2);te(x,()=>t.children),pt(h,p=>b(i,p),()=>s(i)),pt(v,p=>b(o,p),()=>s(o));var E=B(v,2);ps(E,{get dialog(){return s(o)},get dialogInner(){return s(i)},get onClose(){return t.onStartClose}}),pe(()=>{Jn(v,`height: ${s(u)+74}px`),de(v,1,ue([{open:t.stateDialog==="open",isAnimationOn:l.working,isDesktopAnimationOff:a(),hiddenDialog:r()}]),"svelte-rt409n")}),m(e,f),q()}tt(["click"]);const du=({onStartClose:e,onClose:t})=>{let n=I("close");return{get state(){return s(n)},set state(i){b(n,i,!0)},handleStartClose:(i=!1)=>{i||(b(n,"closing"),e?.())},handleOpen:()=>{b(n,"open")},handleClose:()=>{b(n,"close"),t?.()}}};function fu(e,t){V(t,!0);let n=se(t,"blockedDialog",3,!1),r=se(t,"hiddenDialog",3,!1),a=se(t,"onStartClose",3,()=>{}),o=se(t,"onClose",3,()=>{}),i=du({onStartClose:a(),onClose:o()});Pe(()=>{i.state==="close"&&t.shownDialog?i.state="opening":i.state==="open"&&!t.shownDialog&&i.handleStartClose(n())});const l=v=>{v.key==="Escape"&&(document.activeElement instanceof HTMLInputElement&&document.activeElement.type==="text"||document.activeElement instanceof HTMLTextAreaElement||n())&&(v.preventDefault(),v.stopPropagation())};ge(()=>(document.addEventListener("keydown",l),()=>{document.removeEventListener("keydown",l)}));var c=M(),u=T(c);{var f=v=>{uu(v,{get stateDialog(){return i.state},get blockedDialog(){return n()},get unBlockedBack(){return t.unBlockedBack},get hiddenDialog(){return r()},get onOpen(){return i.handleOpen},get onStartBack(){return t.onStartBack},onStartClose:()=>{i.handleStartClose(n())},get onClose(){return i.handleClose},children:(h,g)=>{var d=M(),_=T(d);te(_,()=>t.children),m(h,d)},$$slots:{default:!0}})};F(u,v=>{i.state!=="close"&&v(f)})}m(e,c),q()}function vu(e,t){V(t,!0);let n=se(t,"blockedDialog",3,!1),r=se(t,"hiddenDialog",3,!1),a=se(t,"isLastDialog",3,!1),o=se(t,"onStartClose",3,()=>{}),i=se(t,"onClose",3,()=>{});const l=O(()=>a()?void 0:t.onStartBack),{showDialog:c,hideDialog:u}=ir();ge(()=>(c(),()=>{u()}));const{checkMobileSize:f}=Un();var v=M(),h=T(v);{var g=_=>{ru(_,{get shownDialog(){return t.shownDialog},get blocked(){return n()},get unBlockedBack(){return t.unBlockedBack},get hiddenDialog(){return r()},get children(){return t.children},get onStartClose(){return t.onStartBack},get onClose(){return i()}})},d=_=>{fu(_,{get shownDialog(){return t.shownDialog},get blockedDialog(){return n()},get unBlockedBack(){return t.unBlockedBack},get hiddenDialog(){return r()},get children(){return t.children},get onStartBack(){return s(l)},get onStartClose(){return o()},get onClose(){return i()}})};F(h,_=>{f()?_(g):_(d,!1)})}m(e,v),q()}function Ja(e,t){V(t,!0);const{back:n,closeDialogStack:r}=Et(),{popStackPages:a}=Ot();let o=se(t,"blocked",3,!1),i=se(t,"isLastDialog",3,!1),l=se(t,"onBack",3,()=>{});const{checkBlockedDialog:c,checkUnBlockedBackDialog:u}=ir(),f=O(()=>o()||t.hidden||c()),v=O(()=>u()&&!i());vu(e,{get shownDialog(){return t.shown},get blockedDialog(){return s(f)},get unBlockedBack(){return s(v)},get hiddenDialog(){return t.hidden},get isLastDialog(){return i()},onStartBack:()=>{(!s(f)||s(f)&&s(v))&&t.shown&&(n(),l()())},onStartClose:()=>{(!s(f)||s(f)&&s(v))&&t.shown&&r()},onClose:()=>{a()},children:(_,S)=>{var k=M(),w=T(k);te(w,()=>t.children),m(_,k)},$$slots:{default:!0}}),q()}const hu="modulepreload",gu=function(e){return"/"+e},Qa={},Le=function(t,n,r){let a=Promise.resolve();if(n&&n.length>0){let c=function(u){return Promise.all(u.map(f=>Promise.resolve(f).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=i?.nonce||i?.getAttribute("nonce");a=c(n.map(u=>{if(u=gu(u),u in Qa)return;Qa[u]=!0;const f=u.endsWith(".css"),v=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${v}`))return;const h=document.createElement("link");if(h.rel=f?"stylesheet":hu,f||(h.as="script"),h.crossOrigin="",h.href=u,l&&h.setAttribute("nonce",l),document.head.appendChild(h),f)return new Promise((g,d)=>{h.addEventListener("load",g),h.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${u}`)))})}))}function o(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return a.then(i=>{for(const l of i||[])l.status==="rejected"&&o(l.reason);return t().catch(o)})};var _u=K("<div></div>"),pu=K('<div class="sidebarFixed svelte-1hv280f"><div class="nav svelte-1hv280f"><!> <div class="menu svelte-1hv280f"><a class="link svelte-1hv280f"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a> <a class="link svelte-1hv280f"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a></div></div> <div class="searchWrapper svelte-1hv280f"><!></div> <!></div> <div><!> <!></div>',1),mu=K("<div></div>"),wu=K('<div class="sidebar svelte-1hv280f"><div class="sidebarFixed svelte-1hv280f"><!></div> <div class="tags svelte-1hv280f"><!> <!></div></div>');function yu(e,t){V(t,!0);const{checkMobileSize:n}=Un(),{getRelatedTags:r}=xa(),{isReadyStore:a}=Hr(),{getAppHistory:o,navigate:i}=Et(),{getPageUrl:l,createHandlePage:c,getStackPagesFormUrl:u}=Ot(),f=fs(),v=O(o),h=O(a);let g=I(null),d=O(()=>new URLSearchParams(s(v).search).get("selectedTags")?.split(",")||[]),_=null;function S(){return _||(_=Le(()=>import("./MobileSidebar-CRW2929T.js"),__vite__mapDeps([0,1]))),_}const k=j=>{const D=new URLSearchParams(s(v).search);D.set("selectedTags",[...s(d),j].join(",")),i(`${s(v).pathname}${D.size>0?`?${D.toString()}`:""}`),f.tagSearch=""},w=j=>{const D=new URLSearchParams(s(v).search),L=s(d).filter(H=>H!==j);L.length===0?D.delete("selectedTags"):D.set("selectedTags",L.join(",")),i(`${s(v).pathname}${D.size>0?`?${D.toString()}`:""}`)};let y=O(r),x=O(()=>s(h)?Object.values(s(y)).filter(j=>!s(d).some(D=>j.name===D)&&j.name!=="inbox").sort((j,D)=>j.name.localeCompare(D.name)):[]),E=O(()=>s(y).inbox&&s(d).includes("inbox")===!1?s(y).inbox:null),p=O(n);ge(()=>{s(p)&&S()});const{checkExistedDialog:C}=ir();let P=O(()=>u().length>0||C());var R=M(),U=T(R);{var W=j=>{var D=M(),L=T(D);Ho(L,S,null,(H,Y)=>{const ce=O(()=>s(Y).default);var X=M(),ie=T(X);Vo(ie,()=>s(ce),(we,le)=>{le(we,{get blocked(){return s(P)},children:(me,J)=>{var ee=pu(),Ke=T(ee),ke=N(Ke),_e=N(ke);_s(_e,{});var re=B(_e,2),be=N(re),Mt=O(()=>c(z.Settings));be.__click=function(...he){s(Mt)?.apply(this,he)};var Pt=N(be);xe(Pt,()=>({"--size":"24px"})),Ae(Pt.lastChild,{name:"settings"});var nt=B(Pt,2);gt(nt,{children:(he,Ye)=>{var Ce=Ve("Settings");m(he,Ce)}});var Ne=B(be,2),We=O(()=>c(z.Sync));Ne.__click=function(...he){s(We)?.apply(this,he)};var rt=N(Ne);xe(rt,()=>({"--size":"24px"})),Ae(rt.lastChild,{name:"sync"});var Xe=B(rt,2);gt(Xe,{children:(he,Ye)=>{var Ce=Ve("Sync");m(he,Ce)}});var Ze=B(ke,2),Te=N(Ze);ia(Te,{placeholder:"Search tag",get value(){return f.tagSearch},set value(he){f.tagSearch=he}});var at=B(Ze,2);{var zn=he=>{var Ye=_u();de(Ye,1,ue(["tags","selectedTags"]),"svelte-1hv280f"),kn(Ye,20,()=>s(d),Ce=>Ce,(Ce,Dt)=>{bn(Ce,{get title(){return Dt},onClick:()=>w(Dt),style:"selected"})}),pt(Ye,Ce=>b(g,Ce),()=>s(g)),m(he,Ye)};F(at,he=>{s(d).length>0&&he(zn)})}var lr=B(Ke,2);de(lr,1,ue(["tags","tagsWrapper"]),"svelte-1hv280f");var xt=N(lr);{var hn=he=>{bn(he,{get title(){return s(E).name},onClick:()=>k(s(E).name)})};F(xt,he=>{s(E)&&he(hn)})}var cr=B(xt,2);kn(cr,17,()=>s(x),he=>he.name,(he,Ye)=>{var Ce=M(),Dt=T(Ce);{var ur=Vn=>{bn(Vn,{get title(){return s(Ye).name},onClick:()=>k(s(Ye).name)})};F(Dt,Vn=>{(f.tagSearch===""||s(Ye).name.toLowerCase().indexOf(f.tagSearch.toLowerCase())!==-1)&&Vn(ur)})}m(he,Ce)}),pe((he,Ye)=>{Oe(be,"href",he),Oe(Ne,"href",Ye)},[()=>l(z.Settings),()=>l(z.Sync)]),m(me,ee)},$$slots:{default:!0}})}),m(H,X)}),m(j,D)},G=j=>{var D=wu(),L=N(D),H=N(L);{var Y=le=>{var me=mu();de(me,1,ue(["tags","selectedTags"]),"svelte-1hv280f"),kn(me,20,()=>s(d),J=>J,(J,ee)=>{bn(J,{get title(){return ee},onClick:()=>w(ee),style:"selected"})}),m(le,me)};F(H,le=>{s(d).length>0&&le(Y)})}var ce=B(L,2),X=N(ce);{var ie=le=>{bn(le,{get title(){return s(E).name},onClick:()=>k(s(E).name)})};F(X,le=>{s(E)&&le(ie)})}var we=B(X,2);kn(we,17,()=>s(x),le=>le.name,(le,me)=>{var J=M(),ee=T(J);{var Ke=ke=>{bn(ke,{get title(){return s(me).name},onClick:()=>k(s(me).name)})};F(ee,ke=>{(f.tagSearch===""||s(me).name.toLowerCase().indexOf(f.tagSearch.toLowerCase())!==-1)&&ke(Ke)})}m(le,J)}),m(j,D)};F(U,j=>{s(p)?j(W):j(G,!1)})}m(e,R),q()}tt(["click"]);const Su=(e,t,n)=>{b(t,!0),b(n,!0)},bu=(e,t,n,r)=>{t(n.note.id,!n.note.pinned),Ur(n.note.pinned?"Note unpinned":"Note pinned"),b(r,!0)},ku=(e,t,n)=>{navigator.clipboard.writeText(t.note.url),Ur("Link copied"),b(n,!0)};var Cu=K("<div><button>Copy link</button></div>"),Eu=K('<div class="menu svelte-8ve3pe"><!> <div><button> </button></div> <div><button>Delete</button></div></div>'),Pu=K('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1);function xu(e,t){V(t,!0);const n=(E,p=oe)=>{var C=Eu(),P=N(C);{var R=L=>{var H=Cu(),Y=N(H);Y.__click=[ku,t,v],pe(()=>de(Y,1,ue(["button",{buttonMenuDialog:p()}]),"svelte-8ve3pe")),m(L,H)};F(P,L=>{p()&&t.note.url&&L(R)})}var U=B(P,2),W=N(U);W.__click=[bu,l,t,v];var G=N(W),j=B(U,2),D=N(j);D.__click=[Su,h,v],pe(()=>{de(W,1,ue(["button",{buttonMenuDialog:p()}]),"svelte-8ve3pe"),Zn(G,t.note.pinned?"Unpin":"Pin"),de(D,1,ue(["button",{buttonMenuDialog:p()}]),"svelte-8ve3pe")}),m(E,C)},{getRelatedTags:r}=xa(),{getAppHistory:a,replace:o}=Et(),{deleteNote:i,pinNote:l,setDeleting:c}=Hr();let u=O(a),f=se(t,"shownMenu",15),v=I(!1),h=I(!1);const{checkMobileSize:g}=Un();let d=O(g),_=O(()=>new URLSearchParams(s(u).search).get("selectedTags")?.split(",")||[]);const S=async()=>{const E=r();c(t.note.id,!0);let p=!1;Ur("Note deleted",{onCancel:()=>{p=!0,c(t.note.id,!1)},onFinish:()=>{p||(t.note.tags.forEach(C=>{if(s(_).includes(C)&&E[C].connections===1){const P=new URLSearchParams(s(u).search),R=s(_).filter(U=>U!==C);R.length===0?P.delete("selectedTags"):P.set("selectedTags",R.join(",")),o(`${s(u).pathname}${P.size>0?`?${P.toString()}`:""}`)}}),i(t.note.id))}})},k=()=>{s(h)&&S(),f(!1),b(v,!1)};var w=M(),y=T(w);{var x=E=>{var p=M(),C=T(p);{var P=U=>{ms(U,{get startClose(){return s(v)},onClosed:k,children:(W,G)=>{n(W,()=>!0)},$$slots:{default:!0}})},R=U=>{var W=Pu(),G=T(W);xe(G,()=>({"--bottom":"-90px","--right":"20px"})),ws(G.lastChild,{get startClose(){return s(v)},get positionTop(){return t.showMenuUp},onClosed:k,children:(j,D)=>{n(j,()=>!1)},$$slots:{default:!0}}),m(U,W)};F(C,U=>{s(d)?U(P):U(R,!1)})}m(E,p)};F(y,E=>{f()&&E(x)})}m(e,w),q()}tt(["click"]);const Du=(e,t)=>{b(t,!0)},Au=(e,t,n)=>{navigator.clipboard.writeText(t.note.url),Ur("Link copied"),b(n,!1)},Nu=(e,t)=>{b(t,!0)},Tu=(e,t)=>{b(t,!1)},Lu=(e,t,n,r)=>{e.preventDefault(),t(`${z.EditNote}?id=${n.note.id}`),b(r,!1)};var Ou=K('<div class="iconPlaceholder svelte-1jg44o9"></div>'),Mu=K('<img loading="lazy" class="noteIcon" height="16" width="16" alt=""/>'),Iu=K('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),Ru=K('<div class="noteIconWrapper svelte-1jg44o9"><!></div>'),Bu=K('<button class="button svelte-1jg44o9"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),Fu=(e,t)=>{b(t,!1)},ju=K('<!> <a target="_blank" rel="noopener noreferrer" class="button openLink svelte-1jg44o9"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a>',1),Hu=K('<li><!> <a class="noteLink svelte-1jg44o9" target="_blank" rel="noopener noreferrer"> </a> <div><!> <button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button></div> <!></li>');function Uu(e,t){V(t,!0);const{pushStackPages:n}=Ot(),{getFaviconEnabled:r}=pc();let a=I(!1),o=I(!1),i=I(!1),l=O(r);const{checkMobileSize:c}=Un(),u=p=>{try{return`https://icons.duckduckgo.com/ip3/${new URL(p).host}.ico`}catch{return""}};var f=Hu();f.__focusin=[Nu,o],f.__focusout=[Tu,o];var v=N(f);{var h=p=>{var C=Ru(),P=N(C);{var R=W=>{var G=M(),j=T(G);{var D=H=>{var Y=Ou();m(H,Y)},L=H=>{var Y=Mu();pe(ce=>Oe(Y,"src",ce),[()=>u(t.note.url)]),ya("error",Y,()=>{b(i,!0)}),m(H,Y)};F(j,H=>{s(i)?H(D):H(L,!1)})}m(W,G)},U=W=>{var G=Iu(),j=T(G);xe(j,()=>({"--size":"16px"})),Ae(j.lastChild,{name:"note"}),m(W,G)};F(P,W=>{t.note.url?W(R):W(U,!1)})}m(p,C)};F(v,p=>{s(l)&&p(h)})}var g=B(v,2);g.__click=[Lu,n,t,o];var d=N(g),_=B(g,2),S=N(_);{var k=p=>{var C=ju(),P=T(C);{var R=j=>{var D=Bu();D.__click=[Au,t,o];var L=N(D);xe(L,()=>({"--size":"20px"})),Ae(L.lastChild,{name:"copy"});var H=B(L,2);gt(H,{children:(Y,ce)=>{var X=Ve("copy link");m(Y,X)}}),pe(()=>Oe(D,"tabindex",t.focusHidden?-1:0)),m(j,D)};F(P,j=>{c()||j(R)})}var U=B(P,2);U.__click=[Fu,o];var W=N(U);xe(W,()=>({"--size":"18px"})),Ae(W.lastChild,{name:"open"});var G=B(W,2);gt(G,{children:(j,D)=>{var L=Ve();pe(()=>Zn(L,t.note.name)),m(j,L)}}),pe(()=>{Oe(U,"href",t.note.url),Oe(U,"tabindex",t.focusHidden?-1:0)}),m(p,C)};F(S,p=>{t.note.url&&p(k)})}var w=B(S,2);w.__click=[Du,a],de(w,1,ue(["button","buttonMenu"]),"svelte-1jg44o9");var y=N(w);xe(y,()=>({"--size":"18px","--rotate":"90deg"})),Ae(y.lastChild,{name:"menu"});var x=B(y,2);gt(x,{children:(p,C)=>{var P=Ve("show menu");m(p,P)}});var E=B(_,2);xu(E,{get note(){return t.note},get showMenuUp(){return t.showMenuUp},get shownMenu(){return s(a)},set shownMenu(p){b(a,p,!0)}}),pe(p=>{de(f,1,ue(["record",{pinned:t.note.pinned}]),"svelte-1jg44o9"),Oe(g,"tabindex",t.focusHidden?-1:0),Oe(g,"href",p),Zn(d,t.note.name),de(_,1,ue(["noteMenuWrapper",{noteMenuWrapperActive:s(o)}]),"svelte-1jg44o9"),Oe(w,"tabindex",t.focusHidden?-1:0)},[()=>`/?stackPages=${encodeURIComponent(`${z.EditNote}?id=${t.note.id}`)}`]),m(e,f),q()}tt(["focusin","focusout","click"]);var zu=K('<div><!> <div class="loader svelte-m0sno1"></div></div>');function ys(e,t){V(t,!0);let n=I(!1);ge(()=>{const o=setTimeout(()=>{b(n,!0)},200);return()=>{clearTimeout(o)}});var r=zu(),a=N(r);te(a,()=>t.children??oe),pe(()=>de(r,1,ue(["block",{shown:s(n)}]),"svelte-m0sno1")),m(e,r),q()}var Vu=K('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Add note</span>',1),qu=K('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span style="padding-left: 6px;">Import data</span>',1),Ku=K('<div class="emptyStore svelte-n515mf"><p class="message">No notes found</p> <div class="wrapperButtonsAdd svelte-n515mf"><!></div> <div>or</div> <div class="wrapperButtonsAdd svelte-n515mf"><!></div></div>'),Wu=K('<div class="emptyMessage svelte-n515mf">No notes found</div>'),Yu=K('<div class="feed svelte-n515mf"><ul class="svelte-n515mf"></ul></div>'),$u=K('<div class="wrapperFeed svelte-n515mf"><div class="wrapperContainer svelte-n515mf"><!></div></div>');function Gu(e,t){V(t,!0);const{setRelatedTags:n}=xa(),{getScrollContainer:r}=Da(),{createHandlePage:a,getPageUrl:o}=Ot(),{getSelectedTags:i}=dc(),{getFeedOrder:l}=ns(),{getFeedSearch:c}=Pa(),{getGetNotes:u,isReadyStore:f}=Hr();let v=54,h=I(0),g=I(0),d=I(0),_=O(c),S=I(0),k=[],w=I(0),y=O(r),x=null,E=null;const p=O(i),C=O(f);Pe(()=>{}),Pe(()=>{s(_),s(p),s(W),s(y)?.scrollTo(0,0)});const{enable:P}=us(),R=()=>{P(),x||(x=requestAnimationFrame(()=>{const J=s(y)?.scrollTop||0;b(d,J,!0);const ee=Math.ceil(s(h)/v);b(g,Math.floor(J/(v*ee))*(v*ee)),x=null}))},U=()=>{E||(E=requestAnimationFrame(()=>{b(h,window.innerHeight-180||0,!0);const J=s(y)?.scrollTop||0;b(d,J,!0);const ee=Math.ceil(s(h)/v);b(g,Math.floor(J/(v*ee))*(v*ee)),E=null}))};ge(()=>{U(),R()}),Pe(()=>(s(y)?.addEventListener("scroll",R),window.addEventListener("resize",U),()=>{s(y)?.removeEventListener("scroll",R),window.removeEventListener("resize",U)}));const W=O(l);let G=I(""),j=O(u);Pe(()=>{s(W);const J=s(j)()||[];Yt(()=>s(G))!==s(W)&&Yt(()=>b(G,s(W),!0)),J.sort((_e,re)=>{if(!_e||!re)return 0;if(_e.pinned&&!re.pinned)return 1;if(!_e.pinned&&re.pinned)return-1;switch(s(W)){case"newest":return _e.updatedAt<re.updatedAt?-1:1;case"oldest":return _e.updatedAt>re.updatedAt?-1:1;case"AtoZ":return re.name.localeCompare(_e.name);case"ZtoA":return _e.name.localeCompare(re.name);default:return 0}});const Ke=[],ke={};for(let _e=J.length-1;_e>=0;_e--){const re=J[_e];if(re&&!(s(p).length&&s(p).some(be=>!re.tags.includes(be)))&&!re.deleting&&!(s(_)&&!(re.name.toLowerCase().includes(s(_).toLowerCase())||re.url.toLowerCase().includes(s(_).toLowerCase())||re.text.toLowerCase().includes(s(_).toLowerCase())))){if(re.tags)for(const be of re.tags)ke[be]?ke[be].connections++:ke[be]={name:be,connections:1};Ke.push(re)}}n(ke),b(S,Ke.length,!0),k=Ke,b(w,Date.now(),!0)});const D=O(()=>s(S)*v);let H=O(()=>{s(w);const J=Math.ceil(s(h)/v);let ee=Math.floor(s(g)/v);return ee=ee-Math.min(ee,J),k.slice(ee,ee+J*3)}),Y=O(()=>v*Math.ceil(s(h)/v));const ce=O(()=>s(g)-Math.min(s(g),s(Y)));var X=$u(),ie=N(X),we=N(ie);{var le=J=>{ys(J,{})},me=J=>{var ee=M(),Ke=T(ee);{var ke=re=>{var be=Ku(),Mt=B(N(be),2),Pt=N(Mt);{let We=O(()=>o(z.NewNote)),rt=O(()=>a(z.NewNote));Mn(Pt,{element:"a",get href(){return s(We)},get onClick(){return s(rt)},children:(Xe,Ze)=>{var Te=Vu(),at=T(Te);xe(at,()=>({"--size":"18px","--color":"#b0b0b0"})),Ae(at.lastChild,{name:"plus"}),m(Xe,Te)},$$slots:{default:!0}})}var nt=B(Mt,4),Ne=N(nt);{let We=O(()=>o(z.ImportData)),rt=O(()=>a(z.ImportData));Mn(Ne,{element:"a",get href(){return s(We)},get onClick(){return s(rt)},children:(Xe,Ze)=>{var Te=qu(),at=T(Te);xe(at,()=>({"--size":"18px","--color":"#b0b0b0"})),Ae(at.lastChild,{name:"import"}),m(Xe,Te)},$$slots:{default:!0}})}m(re,be)},_e=re=>{var be=M(),Mt=T(be);{var Pt=Ne=>{var We=Wu();m(Ne,We)},nt=Ne=>{var We=Yu(),rt=N(We);kn(rt,23,()=>s(H),Xe=>Xe.id,(Xe,Ze,Te)=>{{let at=O(()=>s(Te)*v<s(d)-s(ce)-v/2||s(Te)*v>s(d)-s(ce)+Math.floor(s(h)/v)*v),zn=O(()=>(s(Te)+3)*v<s(d)-s(ce)-v/2||(s(Te)+3)*v>s(d)-s(ce)+Math.floor(s(h)/v)*v);Uu(Xe,{get focusHidden(){return s(at)},get showMenuUp(){return s(zn)},get note(){return s(Ze)}})}}),pe(Xe=>{Jn(We,`min-height: ${Xe??""}px`),Jn(rt,`transform: translateY(${s(ce)??""}px);`)},[()=>Math.max((s(D)>s(h),s(D)),0)]),m(Ne,We)};F(Mt,Ne=>{s(H).length===0?Ne(Pt):Ne(nt,!1)},!0)}m(re,be)};F(Ke,re=>{(s(j)()||[]).length===0?re(ke):re(_e,!1)},!0)}m(J,ee)};F(we,J=>{s(C)?J(me,!1):J(le)})}m(e,X),q()}var Xu=K('<!> <div class="content svelte-6sscvv"><!></div>',1);function Zu(e){var t=Xu(),n=T(t);yu(n,{});var r=B(n,2),a=N(r);Gu(a,{}),m(e,t)}var Ju=K('<div class="content svelte-ujk4k"><p class="message svelte-ujk4k">use app</p> <div class="buttonContainer svelte-ujk4k"><div class="buttonContainerItem svelte-ujk4k"><!></div> <div class="buttonContainerItem svelte-ujk4k"><!></div></div></div>');function Qu(e,t){V(t,!0);const{blockDialog:n}=ir(),{pushStackPages:r}=Ot(),{closeDialogStack:a}=Et(),{initLocalAccount:o}=Yo();let i=I("idle");const l=()=>{b(i,"loading"),r(z.Auth)},c=async()=>{b(i,"loading"),await o(),n(!1),a()};Pe(()=>{n(s(i)==="idle"||s(i)==="loading")}),ge(()=>(n(!0),()=>{n(!1)}));var u=Ju(),f=B(N(u),2),v=N(f),h=N(v);Mn(h,{onClick:l,fullWidth:!0,children:(_,S)=>{var k=Ve("cloud account");m(_,k)},$$slots:{default:!0}});var g=B(v,2),d=N(g);Mn(d,{onClick:c,fullWidth:!0,type:"secondary",children:(_,S)=>{var k=Ve("local account");m(_,k)},$$slots:{default:!0}}),m(e,u),q()}var ed=K('<div class="svelte-1x9a4ve"><!></div>');function De(e,t){V(t,!0);const{setDialogPageHeight:n}=Ea();let r=I(null);ge(()=>{s(r)&&(s(r).getBoundingClientRect(),s(r).style.opacity="1");const i=new ResizeObserver(l=>{for(let c of l){const u=c.contentRect.height;n(u)}});if(s(r))return i.observe(s(r)),()=>{s(r)&&i.unobserve(s(r)),i.disconnect()}});var a=ed(),o=N(a);te(o,()=>t.children),pt(a,i=>b(r,i),()=>s(r)),m(e,a),q()}var td=K('<div class="svelte-stjbkr"><p class="svelte-stjbkr">Page not found</p> <!></div>');function nd(e,t){V(t,!1);const{navigate:n}=Et(),r=i=>{i.preventDefault(),n("/")};ba();var a=td(),o=B(N(a),2);Mn(o,{element:"a",href:"/",onClick:r,children:(i,l)=>{var c=Ve("close");m(i,c)},$$slots:{default:!0}}),m(e,a),q()}var rd=K('<div class="svelte-10xfz1h"><p class="svelte-10xfz1h">Something went wrong. Please reload the page</p> <!></div>');function ad(e){var t=rd(),n=B(N(t),2);Mn(n,{onClick:()=>location.reload(),children:(r,a)=>{var o=Ve("Reload");m(r,o)},$$slots:{default:!0}}),m(e,t)}var od=K('<div class="svelte-1mu1b44"><!></div>');function sd(e,t){V(t,!0);const{getDialogPageHeight:n}=Ea(),r=O(n);var a=od(),o=N(a);ys(o,{}),pe(()=>Jn(a,`min-height: ${s(r)??""}px;`)),m(e,a),q()}function Ie(e,t){V(t,!0);const n={},r=Object.assign({"./Pages/About.svelte":()=>Le(()=>import("./About-B8Gu4EnM.js"),__vite__mapDeps([2,3])),"./Pages/AccessKeys.svelte":()=>Le(()=>import("./AccessKeys-CG0sdYRZ.js"),__vite__mapDeps([4,5,6])),"./Pages/Account.svelte":()=>Le(()=>import("./Account-DYUwZUf4.js"),__vite__mapDeps([7,8])),"./Pages/Auth.svelte":()=>Le(()=>import("./Auth-CuvDinQh.js"),__vite__mapDeps([9,10])),"./Pages/ClearStore.svelte":()=>Le(()=>import("./ClearStore-n95Q-cIo.js"),__vite__mapDeps([11,12])),"./Pages/ConfirmAccessKey.svelte":()=>Le(()=>import("./ConfirmAccessKey-Ds_UNf03.js"),__vite__mapDeps([13,14,15,5,16])),"./Pages/EditNote.svelte":()=>Le(()=>import("./EditNote-DCcAd0oT.js"),__vite__mapDeps([17,18,14,15,19])),"./Pages/Exit.svelte":()=>Le(()=>import("./Exit-C48CUcjT.js"),__vite__mapDeps([20,21])),"./Pages/ExportData.svelte":()=>Le(()=>import("./ExportData-CyhFPsAx.js"),__vite__mapDeps([22,23])),"./Pages/ImportData.svelte":()=>Le(()=>import("./ImportData-B7bl9AzP.js"),__vite__mapDeps([24,25])),"./Pages/NewNote.svelte":()=>Le(()=>import("./NewNote-Dw9VblIz.js"),__vite__mapDeps([26,18,14,15,19])),"./Pages/Settings.svelte":()=>Le(()=>import("./Settings-CThpVvxW.js"),__vite__mapDeps([27,28])),"./Pages/Signin.svelte":()=>Le(()=>import("./Signin-CMLNh4gd.js"),__vite__mapDeps([29,5,30])),"./Pages/Signup.svelte":()=>Le(()=>import("./Signup-C4N4Qfqd.js"),__vite__mapDeps([31,5,32])),"./Pages/Subscription.svelte":()=>Le(()=>import("./Subscription-cI1zSGiF.js"),__vite__mapDeps([33,34])),"./Pages/Sync.svelte":()=>Le(()=>import("./Sync-AhtEamvr.js"),__vite__mapDeps([35,36]))}),a=async l=>{const c=`./Pages/${l[0].toUpperCase()+l.slice(1)}.svelte`;if(!n[l]){if(r[c]){const u=r[c]();return n[l]={promise:u},n[l].module=await u,n[l].module}throw new Error(`Page ${l} not found`)}return n[l].module||await n[l].promise};var o=M(),i=T(o);Ho(i,()=>a(t.page),l=>{sd(l,{})},(l,c)=>{const u=O(()=>s(c).default);var f=M(),v=T(f);Vo(v,()=>s(u),(h,g)=>{g(h,{get params(){return t.params},get hidden(){return t.hidden}})}),m(l,f)},l=>{ad(l)}),m(e,o),q()}const eo=(e,t=oe,n=oe,r)=>{let a=Mr(()=>js(r?.(),!1));var o=M(),i=T(o);{var l=u=>{De(u,{children:(f,v)=>{Ie(f,{get hidden(){return s(a)},get page(){return z.Settings}})},$$slots:{default:!0}})},c=u=>{var f=M(),v=T(f);{var h=d=>{De(d,{children:(_,S)=>{Ie(_,{get hidden(){return s(a)},get page(){return z.NewNote}})},$$slots:{default:!0}})},g=d=>{var _=M(),S=T(_);{var k=y=>{De(y,{children:(x,E)=>{Ie(x,{get params(){return n()},get hidden(){return s(a)},get page(){return z.EditNote}})},$$slots:{default:!0}})},w=y=>{var x=M(),E=T(x);{var p=P=>{De(P,{children:(R,U)=>{Ie(R,{get hidden(){return s(a)},get page(){return z.ImportData}})},$$slots:{default:!0}})},C=P=>{var R=M(),U=T(R);{var W=j=>{De(j,{children:(D,L)=>{Ie(D,{get hidden(){return s(a)},get page(){return z.ExportData}})},$$slots:{default:!0}})},G=j=>{var D=M(),L=T(D);{var H=ce=>{De(ce,{children:(X,ie)=>{Ie(X,{get hidden(){return s(a)},get page(){return z.ClearStore}})},$$slots:{default:!0}})},Y=ce=>{var X=M(),ie=T(X);{var we=me=>{De(me,{children:(J,ee)=>{Qu(J,{})},$$slots:{default:!0}})},le=me=>{var J=M(),ee=T(J);{var Ke=_e=>{De(_e,{children:(re,be)=>{Ie(re,{get hidden(){return s(a)},get page(){return z.Auth}})},$$slots:{default:!0}})},ke=_e=>{var re=M(),be=T(re);{var Mt=nt=>{De(nt,{children:(Ne,We)=>{Ie(Ne,{get hidden(){return s(a)},get page(){return z.Signup}})},$$slots:{default:!0}})},Pt=nt=>{var Ne=M(),We=T(Ne);{var rt=Ze=>{De(Ze,{children:(Te,at)=>{Ie(Te,{get hidden(){return s(a)},get page(){return z.Signin}})},$$slots:{default:!0}})},Xe=Ze=>{var Te=M(),at=T(Te);{var zn=xt=>{De(xt,{children:(hn,cr)=>{Ie(hn,{get hidden(){return s(a)},get page(){return z.AccessKeys}})},$$slots:{default:!0}})},lr=xt=>{var hn=M(),cr=T(hn);{var he=Ce=>{De(Ce,{children:(Dt,ur)=>{Ie(Dt,{get hidden(){return s(a)},get page(){return z.Account}})},$$slots:{default:!0}})},Ye=Ce=>{var Dt=M(),ur=T(Dt);{var Vn=gn=>{De(gn,{children:(dr,Aa)=>{Ie(dr,{get hidden(){return s(a)},get page(){return z.ConfirmAccessKey}})},$$slots:{default:!0}})},Ss=gn=>{var dr=M(),Aa=T(dr);{var bs=_n=>{De(_n,{children:(fr,Na)=>{Ie(fr,{get hidden(){return s(a)},get page(){return z.Exit}})},$$slots:{default:!0}})},ks=_n=>{var fr=M(),Na=T(fr);{var Cs=pn=>{De(pn,{children:(vr,Ta)=>{Ie(vr,{get hidden(){return s(a)},get page(){return z.Sync}})},$$slots:{default:!0}})},Es=pn=>{var vr=M(),Ta=T(vr);{var Ps=mn=>{De(mn,{children:(hr,La)=>{Ie(hr,{get hidden(){return s(a)},get page(){return z.Subscription}})},$$slots:{default:!0}})},xs=mn=>{var hr=M(),La=T(hr);{var Ds=wn=>{De(wn,{children:(zr,Ns)=>{Ie(zr,{get hidden(){return s(a)},get page(){return z.About}})},$$slots:{default:!0}})},As=wn=>{De(wn,{children:(zr,Ns)=>{nd(zr,{})},$$slots:{default:!0}})};F(La,wn=>{t()===z.About?wn(Ds):wn(As,!1)},!0)}m(mn,hr)};F(Ta,mn=>{t()===z.Subscription?mn(Ps):mn(xs,!1)},!0)}m(pn,vr)};F(Na,pn=>{t()===z.Sync?pn(Cs):pn(Es,!1)},!0)}m(_n,fr)};F(Aa,_n=>{t()===z.Exit?_n(bs):_n(ks,!1)},!0)}m(gn,dr)};F(ur,gn=>{t()===z.ConfirmAccessKey?gn(Vn):gn(Ss,!1)},!0)}m(Ce,Dt)};F(cr,Ce=>{t()===z.Account?Ce(he):Ce(Ye,!1)},!0)}m(xt,hn)};F(at,xt=>{t()===z.AccessKeys?xt(zn):xt(lr,!1)},!0)}m(Ze,Te)};F(We,Ze=>{t()===z.Signin?Ze(rt):Ze(Xe,!1)},!0)}m(nt,Ne)};F(be,nt=>{t()===z.Signup?nt(Mt):nt(Pt,!1)},!0)}m(_e,re)};F(ee,_e=>{t()===z.Auth?_e(Ke):_e(ke,!1)},!0)}m(me,J)};F(ie,me=>{t()===z.Start?me(we):me(le,!1)},!0)}m(ce,X)};F(L,ce=>{t()===z.ClearStore?ce(H):ce(Y,!1)},!0)}m(j,D)};F(U,j=>{t()===z.ExportData?j(W):j(G,!1)},!0)}m(P,R)};F(E,P=>{t()===z.ImportData?P(p):P(C,!1)},!0)}m(y,x)};F(S,y=>{t()===z.EditNote?y(k):y(w,!1)},!0)}m(d,_)};F(v,d=>{t()===z.NewNote?d(h):d(g,!1)},!0)}m(u,f)};F(i,u=>{t()===z.Settings?u(l):u(c,!1)})}m(e,o)};var id=K("<!> <!>",1);function ld(e,t){V(t,!0);const{isReadyStore:n}=Hr(),{getStackPages:r,popStackPages:a}=Ot();let o=O(r),i=O(n);Pe(()=>{});const{checkMobileSize:l}=Un();var c=id(),u=T(c);{var f=d=>{Zu(d)};F(u,d=>{s(i)&&d(f)})}var v=B(u,2);{var h=d=>{var _=M(),S=T(_);kn(S,19,()=>s(o),k=>k.page,(k,w,y)=>{const x=O(()=>s(w).page.split("?")[1]),E=O(()=>s(w).page.split("?")[0]);{let p=O(()=>s(y)!==s(o).length-1&&!!s(o)[s(y)+1]?.shown),C=O(()=>s(y)===0);Ja(k,{get shown(){return s(w).shown},get hidden(){return s(p)},get isLastDialog(){return s(C)},children:(P,R)=>{{let U=O(()=>s(y)!==s(o).length-1&&!!s(o)[s(y)+1]?.shown);eo(P,()=>s(E),()=>s(x),()=>s(U))}},$$slots:{default:!0}})}}),m(d,_)},g=d=>{var _=M(),S=T(_);{var k=w=>{const y=O(()=>s(o)[s(o).length-1].page.split("?")[1]),x=O(()=>s(o)[s(o).length-1].page.split("?")[0]);{let E=O(()=>s(o).length===1);Ja(w,{onBack:()=>a(),get shown(){return s(o)[s(o).length-1].shown},hidden:!1,get isLastDialog(){return s(E)},children:(p,C)=>{eo(p,()=>s(x),()=>s(y))},$$slots:{default:!0}})}};F(S,w=>{s(o).length>0&&w(k)},!0)}m(d,_)};F(v,d=>{l()?d(h):d(g,!1)})}m(e,c),q()}function cd(e,t){V(t,!1);let n=0;ge(()=>{document.addEventListener("touchstart",r=>{n=r.touches[0].clientX},{passive:!1}),document.addEventListener("touchmove",r=>{const o=r.touches[0].clientX-n;(n<50&&o>0||n>window.innerWidth-50&&o<0)&&r.preventDefault()},{passive:!1}),document.addEventListener("touchend",()=>{n=0}),document.addEventListener("touchcancel",()=>{n=0})}),ba(),q()}const ud=(e,t)=>{s(t)&&s(t).scrollTo({top:0})};var dd=K('<div class="wrapperButtonTop svelte-1n46o8q"><button class="buttonTop svelte-1n46o8q"><!> <span class="icon svelte-1n46o8q"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></span></button></div>'),fd=K('<!> <!> <main><div class="wrapperHeader svelte-1n46o8q"><!></div> <div class="container svelte-1n46o8q"><!></div></main> <!>',1);function vd(e,t){V(t,!0);const{setScrollContainer:n}=Da(),{getAccount:r}=Yo(),{getStackPagesFormUrl:a}=Ot(),o=sr();ge(async()=>{await new Promise(P=>setTimeout(P,100)),await Ro(),o.working=!0});let i=I(!1),l=0,c=O(()=>a().length>0),u=O(r),f=I(null);Pe(()=>{n(s(f))});const v=()=>{if(s(f)){const P=s(f).scrollTop||0;P===0?b(i,!1):!s(i)&&l>P?b(i,!0):s(i)&&l+50<P&&b(i,!1),l=P}},h=()=>{v()};Pe(()=>(s(f)?.addEventListener("scroll",h),window.addEventListener("resize",h),()=>{s(f)?.removeEventListener("scroll",h),window.removeEventListener("resize",h)}));var g=fd(),d=T(g);cd(d,{});var _=B(d,2);Ac(_,{});var S=B(_,2),k=N(S),w=N(k);{var y=P=>{Zc(P,{})};F(w,P=>{s(u)!==void 0&&P(y)})}var x=B(k,2),E=N(x);ld(E,{}),pt(S,P=>b(f,P),()=>s(f));var p=B(S,2);{var C=P=>{var R=dd(),U=N(R);U.__click=[ud,f];var W=N(U);gt(W,{children:(D,L)=>{var H=Ve("top");m(D,H)}});var G=B(W,2),j=N(G);xe(j,()=>({"--rotate":"90deg","--size":"28px"})),Ae(j.lastChild,{name:"back"}),m(P,R)};F(p,P=>{s(i)&&P(C)})}pe(()=>{Jn(S,`--swiping-ratio: ${o.swipingRatio}; --transition-timing-default: ${o.duration}s;`),de(S,1,ue(["main",{isAnimationOn:o.working&&!o.isSwiping,open:s(c)}]),"svelte-1n46o8q")}),m(e,g),q()}tt(["click"]);function hd(e){Cc(e,{children:(t,n)=>{vd(t,{})}})}window.addEventListener("unhandledrejection",e=>{alert("Error: "+e.reason.message)});window.isUnsupportedBrowser||Ji(hd,{target:document.getElementById("app")});export{ql as $,Yo as A,Mn as B,Hr as C,ya as D,kd as E,yd as F,Sd as G,Cd as H,Ae as I,ba as J,pd as K,ys as L,se as M,de as N,ue as O,z as P,Oe as Q,md as R,wd as S,Jn as T,Zl as U,gt as V,Un as W,pt as X,bn as Y,cl as Z,pc as _,xe as a,yc as a0,sr as a1,us as a2,te as a3,ps as a4,m as b,N as c,ir as d,I as e,K as f,Ot as g,Me as h,s as i,b as j,F as k,q as l,M as m,T as n,ge as o,V as p,tt as q,kn as r,B as s,pe as t,Pe as u,Zn as v,Ve as w,bd as x,O as y,Et as z};
