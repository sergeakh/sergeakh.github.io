const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/MobileSidebar-cHVwB8IU.js","assets/MobileSidebar-CUCj13hK.css","assets/About-DRrnCLDm.js","assets/About-DhrgDPiX.css","assets/AccessKeys-DH7YLAxx.js","assets/api-C5JaEwh0.js","assets/AccessKeys-DF5NA1tk.css","assets/Account-C9fx59GD.js","assets/Account-LI89flHz.css","assets/Auth-DKHO3qQ6.js","assets/Auth-CnX7iJxK.css","assets/ClearStore-DjZ5yFvb.js","assets/ClearStore-DiVqV26R.css","assets/ConfirmAccessKey-DqsgACM0.js","assets/Input-BmQCHwHc.js","assets/Input-KO0oOGze.css","assets/ConfirmAccessKey-BEOXyioc.css","assets/EditNote-CvGGM-eG.js","assets/NoteForm-Bu0l4MiN.js","assets/NoteForm-uWrWhO-G.css","assets/Exit-BUcA9dEI.js","assets/Exit-B7Im9AKN.css","assets/ExportData-DPTSj4fq.js","assets/ExportData-Gq8zQKAw.css","assets/ImportData-DLJUXNDZ.js","assets/ImportData-CZGzVRRc.css","assets/NewNote-CzKCjFO7.js","assets/Settings-bTX7xIVK.js","assets/Settings-BFT2w4xS.css","assets/Signin-D8npEnUx.js","assets/Signup-BRrZifg9.js","assets/Subscription-DwPfAC8Q.js","assets/Subscription-2ryrsj8c.css","assets/Sync-aagXbFup.js","assets/Sync-DZBzq12x.css"])))=>i.map(i=>d[i]);
var os=Object.defineProperty;var la=e=>{throw TypeError(e)};var ss=(e,t,n)=>t in e?os(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Cn=(e,t,n)=>ss(e,typeof t!="symbol"?t+"":t,n),wr=(e,t,n)=>t.has(e)||la("Cannot "+n);var ae=(e,t,n)=>(wr(e,t,"read from private field"),n?n.call(e):t.get(e)),ze=(e,t,n)=>t.has(e)?la("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Ze=(e,t,n,r)=>(wr(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Mt=(e,t,n)=>(wr(e,t,"access private method"),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();const Da=!1;var Br=Array.isArray,is=Array.prototype.indexOf,Fr=Array.from,Dr=Object.defineProperty,cn=Object.getOwnPropertyDescriptor,Na=Object.getOwnPropertyDescriptors,ls=Object.prototype,cs=Array.prototype,jr=Object.getPrototypeOf,ca=Object.isExtensible;const ce=()=>{};function us(e){return typeof e?.then=="function"}function ds(e){return e()}function nr(e){for(var t=0;t<e.length;t++)e[t]()}function fs(){var e,t,n=new Promise((r,o)=>{e=r,t=o});return{promise:n,resolve:e,reject:t}}function vs(e,t,n=!1){return e===void 0?n?t():t:e}const Ye=2,Hr=4,lr=8,yn=16,wt=32,Kt=64,Aa=128,Qe=256,rr=512,Ie=1024,$e=2048,Tt=4096,rt=8192,Wt=16384,Ur=32768,jn=65536,ua=1<<17,gs=1<<18,Hn=1<<19,Ta=1<<20,Nr=1<<21,zr=1<<22,Ft=1<<23,jt=Symbol("$state"),hs=Symbol("legacy props"),ps=Symbol(""),qr=new class extends Error{constructor(){super(...arguments);Cn(this,"name","StaleReactionError");Cn(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function _s(){throw new Error("https://svelte.dev/e/await_outside_boundary")}function La(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function ms(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function ws(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function ys(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Ss(e){throw new Error("https://svelte.dev/e/effect_orphan")}function bs(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function ks(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function Cs(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Es(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Ps(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}const cr=1,ur=2,Ma=4,xs=8,Ds=16,Ns=1,As=2,Ts=4,Ls=8,Ms=16,Os=1,Rs=2,ke=Symbol(),Is="http://www.w3.org/1999/xhtml";let Bs=!1;function Oa(e){return e===this.v}function Fs(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Ra(e){return!Fs(e,this.v)}let Sn=!1,js=!1;function Hs(){Sn=!0}let ve=null;function pn(e){ve=e}function Ee(e){return Ia().get(e)}function Pe(e,t){return Ia().set(e,t),t}function V(e,t=!1,n){ve={p:ve,c:null,e:null,s:e,x:null,l:Sn&&!t?{s:null,u:null,$:[]}:null}}function K(e){var t=ve,n=t.e;if(n!==null){t.e=null;for(var r of n)Ja(r)}return e!==void 0&&(t.x=e),ve=t.p,e??{}}function bn(){return!Sn||ve!==null&&ve.l===null}function Ia(e){return ve===null&&La(),ve.c??(ve.c=new Map(Us(ve)||void 0))}function Us(e){let t=e.p;for(;t!==null;){const n=t.c;if(n!==null)return n;t=t.p}return null}const zs=new WeakMap;function qs(e){var t=$;if(t===null)return J.f|=Ft,e;if((t.f&Ur)===0){if((t.f&Aa)===0)throw!t.parent&&e instanceof Error&&Ba(e),e;t.b.error(e)}else Vr(e,t)}function Vr(e,t){for(;t!==null;){if((t.f&Aa)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e instanceof Error&&Ba(e),e}function Ba(e){const t=zs.get(e);t&&(Dr(e,"message",{value:t.message}),Dr(e,"stack",{value:t.stack}))}let Dn=[],Ar=[];function Fa(){var e=Dn;Dn=[],nr(e)}function Vs(){var e=Ar;Ar=[],nr(e)}function dr(e){Dn.length===0&&queueMicrotask(Fa),Dn.push(e)}function Ks(){Dn.length>0&&Fa(),Ar.length>0&&Vs()}function Ws(){const e=$.b;return e===null&&_s(),e}function Un(e){var t=Ye|$e,n=J!==null&&(J.f&Ye)!==0?J:null;return $===null||n!==null&&(n.f&Qe)!==0?t|=Qe:$.f|=Hn,{ctx:ve,deps:null,effects:null,equals:Oa,f:t,fn:e,reactions:null,rv:0,v:ke,wv:0,parent:n??$,ac:null}}function Gs(e,t){let n=$;n===null&&ms();var r=n.b,o=void 0,a=qt(ke),s=null,l=!J;return ii(()=>{try{var c=e();s&&Promise.resolve(c).catch(()=>{})}catch(h){c=Promise.reject(h)}var u=()=>c;o=s?.then(u,u)??Promise.resolve(c),s=o;var f=fe,v=r.is_pending();l&&(r.update_pending_count(1),v||f.increment());const g=(h,d=void 0)=>{s=null,v||f.activate(),d?d!==qr&&(a.f|=Ft,Dt(a,d)):((a.f&Ft)!==0&&(a.f^=Ft),Dt(a,h)),l&&(r.update_pending_count(-1),v||f.decrement()),Ua()};if(o.then(g,h=>g(null,h||"unknown")),f)return()=>{queueMicrotask(()=>f.neuter())}}),new Promise(c=>{function u(f){function v(){f===o?c(a):u(o)}f.then(v,v)}u(o)})}function R(e){const t=Un(e);return ro(t),t}function fr(e){const t=Un(e);return t.equals=Ra,t}function ja(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)dt(t[n])}}function Ys(e){for(var t=e.parent;t!==null;){if((t.f&Ye)===0)return t;t=t.parent}return null}function Kr(e){var t,n=$;ft(Ys(e));try{ja(e),t=io(e)}finally{ft(n)}return t}function Ha(e){var t=Kr(e);if(e.equals(t)||(e.v=t,e.wv=oo()),!Yt){var n=(Et||(e.f&Qe)!==0)&&e.deps!==null?Tt:Ie;qe(e,n)}}function Xs(e,t,n){const r=bn()?Un:fr;if(t.length===0){n(e.map(r));return}var o=fe,a=$,s=Zs(),l=Ws();Promise.all(t.map(c=>Gs(c))).then(c=>{o?.activate(),s();try{n([...e.map(r),...c])}catch(u){(a.f&Wt)===0&&Vr(u,a)}o?.deactivate(),Ua()}).catch(c=>{l.error(c)})}function Zs(){var e=$,t=J,n=ve,r=fe;return function(){ft(e),et(t),pn(n),r?.activate()}}function Ua(){ft(null),et(null),pn(null)}const yr=new Set;let fe=null,$n=null,da=new Set,ar=[];function za(){const e=ar.shift();ar.length>0&&queueMicrotask(za),e()}let zt=[],vr=null,Tr=!1,er=!1;var On,vn,kt,Rn,In,It,gn,Bt,Ct,hn,Bn,Fn,ot,qa,tr,Lr;const ir=class ir{constructor(){ze(this,ot);Cn(this,"current",new Map);ze(this,On,new Map);ze(this,vn,new Set);ze(this,kt,0);ze(this,Rn,null);ze(this,In,!1);ze(this,It,[]);ze(this,gn,[]);ze(this,Bt,[]);ze(this,Ct,[]);ze(this,hn,[]);ze(this,Bn,[]);ze(this,Fn,[]);Cn(this,"skipped_effects",new Set)}process(t){zt=[],$n=null;for(const o of t)Mt(this,ot,qa).call(this,o);if(ae(this,It).length===0&&ae(this,kt)===0){Mt(this,ot,Lr).call(this);var n=ae(this,Bt),r=ae(this,Ct);Ze(this,Bt,[]),Ze(this,Ct,[]),Ze(this,hn,[]),$n=fe,fe=null,fa(n),fa(r),fe===null?fe=this:yr.delete(this),ae(this,Rn)?.resolve()}else Mt(this,ot,tr).call(this,ae(this,Bt)),Mt(this,ot,tr).call(this,ae(this,Ct)),Mt(this,ot,tr).call(this,ae(this,hn));for(const o of ae(this,It))fn(o);for(const o of ae(this,gn))fn(o);Ze(this,It,[]),Ze(this,gn,[])}capture(t,n){ae(this,On).has(t)||ae(this,On).set(t,n),this.current.set(t,t.v)}activate(){fe=this}deactivate(){fe=null,$n=null;for(const t of da)if(da.delete(t),t(),fe!==null)break}neuter(){Ze(this,In,!0)}flush(){zt.length>0?Ka():Mt(this,ot,Lr).call(this),fe===this&&(ae(this,kt)===0&&yr.delete(this),this.deactivate())}increment(){Ze(this,kt,ae(this,kt)+1)}decrement(){if(Ze(this,kt,ae(this,kt)-1),ae(this,kt)===0){for(const t of ae(this,Bn))qe(t,$e),_n(t);for(const t of ae(this,Fn))qe(t,Tt),_n(t);Ze(this,Bt,[]),Ze(this,Ct,[]),this.flush()}else this.deactivate()}add_callback(t){ae(this,vn).add(t)}settled(){return(ae(this,Rn)??Ze(this,Rn,fs())).promise}static ensure(){if(fe===null){const t=fe=new ir;yr.add(fe),er||ir.enqueue(()=>{fe===t&&t.flush()})}return fe}static enqueue(t){ar.length===0&&queueMicrotask(za),ar.unshift(t)}};On=new WeakMap,vn=new WeakMap,kt=new WeakMap,Rn=new WeakMap,In=new WeakMap,It=new WeakMap,gn=new WeakMap,Bt=new WeakMap,Ct=new WeakMap,hn=new WeakMap,Bn=new WeakMap,Fn=new WeakMap,ot=new WeakSet,qa=function(t){t.f^=Ie;for(var n=t.first;n!==null;){var r=n.f,o=(r&(wt|Kt))!==0,a=o&&(r&Ie)!==0,s=a||(r&rt)!==0||this.skipped_effects.has(n);if(!s&&n.fn!==null){if(o)n.f^=Ie;else if((r&Hr)!==0)ae(this,Ct).push(n);else if((r&Ie)===0)if((r&zr)!==0){var l=n.b?.is_pending()?ae(this,gn):ae(this,It);l.push(n)}else pr(n)&&((n.f&yn)!==0&&ae(this,hn).push(n),fn(n));var c=n.first;if(c!==null){n=c;continue}}var u=n.parent;for(n=n.next;n===null&&u!==null;)n=u.next,u=u.parent}},tr=function(t){for(const n of t)((n.f&$e)!==0?ae(this,Bn):ae(this,Fn)).push(n),qe(n,Ie);t.length=0},Lr=function(){if(!ae(this,In))for(const t of ae(this,vn))t();ae(this,vn).clear()};let Nn=ir;function Va(e){var t=er;er=!0;try{for(var n;;){if(Ks(),zt.length===0&&(fe?.flush(),zt.length===0))return vr=null,n;Ka()}}finally{er=t}}function Ka(){var e=dn;Tr=!0;try{var t=0;for(ha(!0);zt.length>0;){var n=Nn.ensure();if(t++>1e3){var r,o;Js()}n.process(zt),xt.clear()}}finally{Tr=!1,ha(e),vr=null}}function Js(){try{bs()}catch(e){Vr(e,vr)}}let Rt=null;function fa(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if((r.f&(Wt|rt))===0&&pr(r)&&(Rt=[],fn(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?eo(r):r.fn=null),Rt?.length>0)){xt.clear();for(const o of Rt)fn(o);Rt=[]}}Rt=null}}function _n(e){for(var t=vr=e;t.parent!==null;){t=t.parent;var n=t.f;if(Tr&&t===$&&(n&yn)!==0)return;if((n&(Kt|wt))!==0){if((n&Ie)===0)return;t.f^=Ie}}zt.push(t)}const xt=new Map;function qt(e,t){var n={f:0,v:e,reactions:null,equals:Oa,rv:0,wv:0};return n}function B(e,t){const n=qt(e);return ro(n),n}function Mr(e,t=!1,n=!0){var o;const r=qt(e);return t||(r.equals=Ra),Sn&&n&&ve!==null&&ve.l!==null&&((o=ve.l).s??(o.s=[])).push(r),r}function E(e,t,n=!1){J!==null&&(!ct||(J.f&ua)!==0)&&bn()&&(J.f&(Ye|yn|zr|ua))!==0&&!mt?.includes(e)&&Ps();let r=n?Le(t):t;return Dt(e,r)}function Dt(e,t){if(!e.equals(t)){var n=e.v;Yt?xt.set(e,t):xt.set(e,n),e.v=t;var r=Nn.ensure();r.capture(e,n),(e.f&Ye)!==0&&((e.f&$e)!==0&&Kr(e),qe(e,(e.f&Qe)===0?Ie:Tt)),e.wv=oo(),Wa(e,$e),bn()&&$!==null&&($.f&Ie)!==0&&($.f&(wt|Kt))===0&&(Je===null?ui([e]):Je.push(e))}return t}function Sr(e){E(e,e.v+1)}function Wa(e,t){var n=e.reactions;if(n!==null)for(var r=bn(),o=n.length,a=0;a<o;a++){var s=n[a],l=s.f;if(!(!r&&s===$)){var c=(l&$e)===0;c&&qe(s,t),(l&Ye)!==0?Wa(s,Tt):c&&((l&yn)!==0&&Rt!==null&&Rt.push(s),_n(s))}}}function Le(e){if(typeof e!="object"||e===null||jt in e)return e;const t=jr(e);if(t!==ls&&t!==cs)return e;var n=new Map,r=Br(e),o=B(0),a=Ut,s=l=>{if(Ut===a)return l();var c=J,u=Ut;et(null),_a(a);var f=l();return et(c),_a(u),f};return r&&n.set("length",B(e.length)),new Proxy(e,{defineProperty(l,c,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&Cs();var f=n.get(c);return f===void 0?f=s(()=>{var v=B(u.value);return n.set(c,v),v}):E(f,u.value,!0),!0},deleteProperty(l,c){var u=n.get(c);if(u===void 0){if(c in l){const f=s(()=>B(ke));n.set(c,f),Sr(o)}}else E(u,ke),Sr(o);return!0},get(l,c,u){if(c===jt)return e;var f=n.get(c),v=c in l;if(f===void 0&&(!v||cn(l,c)?.writable)&&(f=s(()=>{var h=Le(v?l[c]:ke),d=B(h);return d}),n.set(c,f)),f!==void 0){var g=i(f);return g===ke?void 0:g}return Reflect.get(l,c,u)},getOwnPropertyDescriptor(l,c){var u=Reflect.getOwnPropertyDescriptor(l,c);if(u&&"value"in u){var f=n.get(c);f&&(u.value=i(f))}else if(u===void 0){var v=n.get(c),g=v?.v;if(v!==void 0&&g!==ke)return{enumerable:!0,configurable:!0,value:g,writable:!0}}return u},has(l,c){if(c===jt)return!0;var u=n.get(c),f=u!==void 0&&u.v!==ke||Reflect.has(l,c);if(u!==void 0||$!==null&&(!f||cn(l,c)?.writable)){u===void 0&&(u=s(()=>{var g=f?Le(l[c]):ke,h=B(g);return h}),n.set(c,u));var v=i(u);if(v===ke)return!1}return f},set(l,c,u,f){var v=n.get(c),g=c in l;if(r&&c==="length")for(var h=u;h<v.v;h+=1){var d=n.get(h+"");d!==void 0?E(d,ke):h in l&&(d=s(()=>B(ke)),n.set(h+"",d))}if(v===void 0)(!g||cn(l,c)?.writable)&&(v=s(()=>B(void 0)),E(v,Le(u)),n.set(c,v));else{g=v.v!==ke;var p=s(()=>Le(u));E(v,p)}var w=Reflect.getOwnPropertyDescriptor(l,c);if(w?.set&&w.set.call(f,u),!g){if(r&&typeof c=="string"){var S=n.get("length"),y=Number(c);Number.isInteger(y)&&y>=S.v&&E(S,y+1)}Sr(o)}return!0},ownKeys(l){i(o);var c=Reflect.ownKeys(l).filter(v=>{var g=n.get(v);return g===void 0||g.v!==ke});for(var[u,f]of n)f.v!==ke&&!(u in l)&&c.push(u);return c},setPrototypeOf(){Es()}})}var va,Ga,Ya,Xa;function Qs(){if(va===void 0){va=window,Ga=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;Ya=cn(t,"firstChild").get,Xa=cn(t,"nextSibling").get,ca(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),ca(n)&&(n.__t=void 0)}}function Gt(e=""){return document.createTextNode(e)}function mn(e){return Ya.call(e)}function gr(e){return Xa.call(e)}function N(e,t){return mn(e)}function M(e,t){{var n=mn(e);return n instanceof Comment&&n.data===""?gr(n):n}}function F(e,t=1,n=!1){let r=e;for(;t--;)r=gr(r);return r}function $s(e){e.textContent=""}function Wr(){return!1}let ga=!1;function ei(){ga||(ga=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function hr(e){var t=J,n=$;et(null),ft(null);try{return e()}finally{et(t),ft(n)}}function ti(e,t,n,r=n){e.addEventListener(t,()=>hr(n));const o=e.__on_r;o?e.__on_r=()=>{o(),r(!0)}:e.__on_r=()=>r(!0),ei()}function Za(e){$===null&&J===null&&Ss(),J!==null&&(J.f&Qe)!==0&&$===null&&ys(),Yt&&ws()}function ni(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function gt(e,t,n,r=!0){var o=$;o!==null&&(o.f&rt)!==0&&(e|=rt);var a={ctx:ve,deps:null,nodes_start:null,nodes_end:null,f:e|$e,first:null,fn:t,last:null,next:null,parent:o,b:o&&o.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{fn(a),a.f|=Ur}catch(c){throw dt(a),c}else t!==null&&_n(a);if(r){var s=a;if(n&&s.deps===null&&s.teardown===null&&s.nodes_start===null&&s.first===s.last&&(s.f&Hn)===0&&(s=s.first),s!==null&&(s.parent=o,o!==null&&ni(s,o),J!==null&&(J.f&Ye)!==0&&(e&Kt)===0)){var l=J;(l.effects??(l.effects=[])).push(s)}}return a}function ri(e){const t=gt(lr,null,!1);return qe(t,Ie),t.teardown=e,t}function Me(e){Za();var t=$.f,n=!J&&(t&wt)!==0&&(t&Ur)===0;if(n){var r=ve;(r.e??(r.e=[])).push(e)}else return Ja(e)}function Ja(e){return gt(Hr|Ta,e,!1)}function ai(e){return Za(),gt(lr|Ta,e,!0)}function oi(e){Nn.ensure();const t=gt(Kt|Hn,e,!0);return(n={})=>new Promise(r=>{n.outro?Ht(t,()=>{dt(t),r(void 0)}):(dt(t),r(void 0))})}function si(e){return gt(Hr,e,!1)}function ii(e){return gt(zr|Hn,e,!0)}function Gr(e,t=0){return gt(lr|t,e,!0)}function he(e,t=[],n=[]){Xs(t,n,r=>{gt(lr,()=>e(...r.map(i)),!0)})}function zn(e,t=0){var n=gt(yn|t,e,!0);return n}function ut(e,t=!0){return gt(wt|Hn,e,!0,t)}function Qa(e){var t=e.teardown;if(t!==null){const n=Yt,r=J;pa(!0),et(null);try{t.call(null)}finally{pa(n),et(r)}}}function $a(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const o=n.ac;o!==null&&hr(()=>{o.abort(qr)});var r=n.next;(n.f&Kt)!==0?n.parent=null:dt(n,t),n=r}}function li(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&wt)===0&&dt(t),t=n}}function dt(e,t=!0){var n=!1;(t||(e.f&gs)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(ci(e.nodes_start,e.nodes_end),n=!0),$a(e,t&&!n),or(e,0),qe(e,Wt);var r=e.transitions;if(r!==null)for(const a of r)a.stop();Qa(e);var o=e.parent;o!==null&&o.first!==null&&eo(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function ci(e,t){for(;e!==null;){var n=e===t?null:gr(e);e.remove(),e=n}}function eo(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function Ht(e,t){var n=[];Yr(e,n,!0),to(n,()=>{dt(e),t&&t()})}function to(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var o of e)o.out(r)}else t()}function Yr(e,t,n){if((e.f&rt)===0){if(e.f^=rt,e.transitions!==null)for(const s of e.transitions)(s.is_global||n)&&t.push(s);for(var r=e.first;r!==null;){var o=r.next,a=(r.f&jn)!==0||(r.f&wt)!==0;Yr(r,t,a?n:!1),r=o}}}function un(e){no(e,!0)}function no(e,t){if((e.f&rt)!==0){e.f^=rt,(e.f&Ie)===0&&(qe(e,$e),_n(e));for(var n=e.first;n!==null;){var r=n.next,o=(n.f&jn)!==0||(n.f&wt)!==0;no(n,o?t:!1),n=r}if(e.transitions!==null)for(const a of e.transitions)(a.is_global||t)&&a.in()}}let dn=!1;function ha(e){dn=e}let Yt=!1;function pa(e){Yt=e}let J=null,ct=!1;function et(e){J=e}let $=null;function ft(e){$=e}let mt=null;function ro(e){J!==null&&(mt===null?mt=[e]:mt.push(e))}let Be=null,Ge=0,Je=null;function ui(e){Je=e}let ao=1,An=0,Ut=An;function _a(e){Ut=e}let Et=!1;function oo(){return++ao}function pr(e){var t=e.f;if((t&$e)!==0)return!0;if((t&Tt)!==0){var n=e.deps,r=(t&Qe)!==0;if(n!==null){var o,a,s=(t&rr)!==0,l=r&&$!==null&&!Et,c=n.length;if((s||l)&&($===null||($.f&Wt)===0)){var u=e,f=u.parent;for(o=0;o<c;o++)a=n[o],(s||!a?.reactions?.includes(u))&&(a.reactions??(a.reactions=[])).push(u);s&&(u.f^=rr),l&&f!==null&&(f.f&Qe)===0&&(u.f^=Qe)}for(o=0;o<c;o++)if(a=n[o],pr(a)&&Ha(a),a.wv>e.wv)return!0}(!r||$!==null&&!Et)&&qe(e,Ie)}return!1}function so(e,t,n=!0){var r=e.reactions;if(r!==null&&!mt?.includes(e))for(var o=0;o<r.length;o++){var a=r[o];(a.f&Ye)!==0?so(a,t,!1):t===a&&(n?qe(a,$e):(a.f&Ie)!==0&&qe(a,Tt),_n(a))}}function io(e){var p;var t=Be,n=Ge,r=Je,o=J,a=Et,s=mt,l=ve,c=ct,u=Ut,f=e.f;Be=null,Ge=0,Je=null,Et=(f&Qe)!==0&&(ct||!dn||J===null),J=(f&(wt|Kt))===0?e:null,mt=null,pn(e.ctx),ct=!1,Ut=++An,e.ac!==null&&(hr(()=>{e.ac.abort(qr)}),e.ac=null);try{e.f|=Nr;var v=e.fn,g=v(),h=e.deps;if(Be!==null){var d;if(or(e,Ge),h!==null&&Ge>0)for(h.length=Ge+Be.length,d=0;d<Be.length;d++)h[Ge+d]=Be[d];else e.deps=h=Be;if(!Et||(f&Ye)!==0&&e.reactions!==null)for(d=Ge;d<h.length;d++)((p=h[d]).reactions??(p.reactions=[])).push(e)}else h!==null&&Ge<h.length&&(or(e,Ge),h.length=Ge);if(bn()&&Je!==null&&!ct&&h!==null&&(e.f&(Ye|Tt|$e))===0)for(d=0;d<Je.length;d++)so(Je[d],e);return o!==null&&o!==e&&(An++,Je!==null&&(r===null?r=Je:r.push(...Je))),(e.f&Ft)!==0&&(e.f^=Ft),g}catch(w){return qs(w)}finally{e.f^=Nr,Be=t,Ge=n,Je=r,J=o,Et=a,mt=s,pn(l),ct=c,Ut=u}}function di(e,t){let n=t.reactions;if(n!==null){var r=is.call(n,e);if(r!==-1){var o=n.length-1;o===0?n=t.reactions=null:(n[r]=n[o],n.pop())}}n===null&&(t.f&Ye)!==0&&(Be===null||!Be.includes(t))&&(qe(t,Tt),(t.f&(Qe|rr))===0&&(t.f^=rr),ja(t),or(t,0))}function or(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)di(e,n[r])}function fn(e){var t=e.f;if((t&Wt)===0){qe(e,Ie);var n=$,r=dn;$=e,dn=!0;try{(t&yn)!==0?li(e):$a(e),Qa(e);var o=io(e);e.teardown=typeof o=="function"?o:null,e.wv=ao;var a;Da&&js&&(e.f&$e)!==0&&e.deps}finally{dn=r,$=n}}}async function lo(){await Promise.resolve(),Va()}function i(e){var t=e.f,n=(t&Ye)!==0;if(J!==null&&!ct){var r=$!==null&&($.f&Wt)!==0;if(!r&&!mt?.includes(e)){var o=J.deps;if((J.f&Nr)!==0)e.rv<An&&(e.rv=An,Be===null&&o!==null&&o[Ge]===e?Ge++:Be===null?Be=[e]:(!Et||!Be.includes(e))&&Be.push(e));else{(J.deps??(J.deps=[])).push(e);var a=e.reactions;a===null?e.reactions=[J]:a.includes(J)||a.push(J)}}}else if(n&&e.deps===null&&e.effects===null){var s=e,l=s.parent;l!==null&&(l.f&Qe)===0&&(s.f^=Qe)}if(Yt){if(xt.has(e))return xt.get(e);if(n){s=e;var c=s.v;return((s.f&Ie)===0&&s.reactions!==null||co(s))&&(c=Kr(s)),xt.set(s,c),c}}else n&&(s=e,pr(s)&&Ha(s));if((e.f&Ft)!==0)throw e.v;return e.v}function co(e){if(e.v===ke)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(xt.has(t)||(t.f&Ye)!==0&&co(t))return!0;return!1}function Vt(e){var t=ct;try{return ct=!0,e()}finally{ct=t}}const fi=-7169;function qe(e,t){e.f=e.f&fi|t}function vi(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(jt in e)Or(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&jt in n&&Or(n)}}}function Or(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{Or(e[r],t)}catch{}const n=jr(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=Na(n);for(let o in r){const a=r[o].get;if(a)try{a.call(e)}catch{}}}}}const gi=["touchstart","touchmove"];function hi(e){return gi.includes(e)}const uo=new Set,Rr=new Set;function pi(e,t,n,r={}){function o(a){if(r.capture||En.call(t,a),!a.cancelBubble)return hr(()=>n?.call(this,a))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?dr(()=>{t.addEventListener(e,o,r)}):t.addEventListener(e,o,r),o}function Xr(e,t,n,r,o){var a={capture:r,passive:o},s=pi(e,t,n,a);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&ri(()=>{t.removeEventListener(e,s,a)})}function Xe(e){for(var t=0;t<e.length;t++)uo.add(e[t]);for(var n of Rr)n(e)}let ma=null;function En(e){var t=this,n=t.ownerDocument,r=e.type,o=e.composedPath?.()||[],a=o[0]||e.target;ma=e;var s=0,l=ma===e&&e.__root;if(l){var c=o.indexOf(l);if(c!==-1&&(t===document||t===window)){e.__root=t;return}var u=o.indexOf(t);if(u===-1)return;c<=u&&(s=c)}if(a=o[s]||e.target,a!==t){Dr(e,"currentTarget",{configurable:!0,get(){return a||n}});var f=J,v=$;et(null),ft(null);try{for(var g,h=[];a!==null;){var d=a.assignedSlot||a.parentNode||a.host||null;try{var p=a["__"+r];if(p!=null&&(!a.disabled||e.target===a))if(Br(p)){var[w,...S]=p;w.apply(a,[e,...S])}else p.call(a,e)}catch(y){g?h.push(y):g=y}if(e.cancelBubble||d===t||d===null)break;a=d}if(g){for(let y of h)queueMicrotask(()=>{throw y});throw g}}finally{e.__root=t,delete e.currentTarget,et(f),ft(v)}}}function fo(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function Tn(e,t){var n=$;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function U(e,t){var n=(t&Os)!==0,r=(t&Rs)!==0,o,a=!e.startsWith("<!>");return()=>{o===void 0&&(o=fo(a?e:"<!>"+e),n||(o=mn(o)));var s=r||Ga?document.importNode(o,!0):o.cloneNode(!0);if(n){var l=mn(s),c=s.lastChild;Tn(l,c)}else Tn(s,s);return s}}function _i(e,t,n="svg"){var r=!e.startsWith("<!>"),o=`<${n}>${r?e:"<!>"+e}</${n}>`,a;return()=>{if(!a){var s=fo(o),l=mn(s);a=mn(l)}var c=a.cloneNode(!0);return Tn(c,c),c}}function mi(e,t){return _i(e,t,"svg")}function Fe(e=""){{var t=Gt(e+"");return Tn(t,t),t}}function O(){var e=document.createDocumentFragment(),t=document.createComment(""),n=Gt();return e.append(t,n),Tn(t,n),e}function _(e,t){e!==null&&e.before(t)}function Hu(){var e;return(e=window.__svelte??(window.__svelte={})).uid??(e.uid=1),`c${window.__svelte.uid++}`}function Ln(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function wi(e,t){return yi(e,t)}const on=new Map;function yi(e,{target:t,anchor:n,props:r={},events:o,context:a,intro:s=!0}){Qs();var l=new Set,c=v=>{for(var g=0;g<v.length;g++){var h=v[g];if(!l.has(h)){l.add(h);var d=hi(h);t.addEventListener(h,En,{passive:d});var p=on.get(h);p===void 0?(document.addEventListener(h,En,{passive:d}),on.set(h,1)):on.set(h,p+1)}}};c(Fr(uo)),Rr.add(c);var u=void 0,f=oi(()=>{var v=n??t.appendChild(Gt());return ut(()=>{if(a){V({});var g=ve;g.c=a}o&&(r.$$events=o),u=e(v,r)||{},a&&K()}),()=>{for(var g of l){t.removeEventListener(g,En);var h=on.get(g);--h===0?(document.removeEventListener(g,En),on.delete(g)):on.set(g,h)}Rr.delete(c),v!==n&&v.parentNode?.removeChild(v)}});return Si.set(u,f),u}let Si=new WeakMap;const br=0,Jn=1,kr=2;function vo(e,t,n,r,o){var a=e,s=bn(),l=ve,c=ke,u,f,v,g=s?qt(void 0):Mr(void 0,!1,!1),h=s?qt(void 0):Mr(void 0,!1,!1),d=!1;function p(S,y){d=!0,y&&(ft(w),et(w),pn(l));try{S===br&&n&&(u?un(u):u=ut(()=>n(a))),S===Jn&&r&&(f?un(f):f=ut(()=>r(a,g))),S===kr&&o&&(v?un(v):v=ut(()=>o(a,h))),S!==br&&u&&Ht(u,()=>u=null),S!==Jn&&f&&Ht(f,()=>f=null),S!==kr&&v&&Ht(v,()=>v=null)}finally{y&&(pn(null),et(null),ft(null),Va())}}var w=zn(()=>{if(c!==(c=t())){if(us(c)){var S=c;d=!1,S.then(y=>{S===c&&(Dt(g,y),p(Jn,!0))},y=>{if(S===c&&(Dt(h,y),p(kr,!0),!o))throw h.v}),dr(()=>{d||p(br,!0)})}else Dt(g,c),p(Jn,!1);return()=>c=ke}})}function j(e,t,n=!1){var r=e,o=null,a=null,s=ke,l=n?jn:0,c=!1;const u=(h,d=!0)=>{c=!0,g(d,h)};var f=null;function v(){f!==null&&(f.lastChild.remove(),r.before(f),f=null);var h=s?o:a,d=s?a:o;h&&un(h),d&&Ht(d,()=>{s?a=null:o=null})}const g=(h,d)=>{if(s!==(s=h)){var p=Wr(),w=r;if(p&&(f=document.createDocumentFragment(),f.append(w=Gt())),s?o??(o=d&&ut(()=>d(w))):a??(a=d&&ut(()=>d(w))),p){var S=fe,y=s?o:a,b=s?a:o;y&&S.skipped_effects.delete(y),b&&S.skipped_effects.add(b),S.add_callback(v)}else v()}};zn(()=>{c=!1,t(u),c||g(null,null)},l)}function Ce(e,t){Gr(()=>{var n=t();for(var r in n){var o=n[r];o?e.style.setProperty(r,o):e.style.removeProperty(r)}})}function bi(e,t,n){for(var r=e.items,o=[],a=t.length,s=0;s<a;s++)Yr(t[s].e,o,!0);var l=a>0&&o.length===0&&n!==null;if(l){var c=n.parentNode;$s(c),c.append(n),r.clear(),lt(e,t[0].prev,t[a-1].next)}to(o,()=>{for(var u=0;u<a;u++){var f=t[u];l||(r.delete(f.k),lt(e,f.prev,f.next)),dt(f.e,!l)}})}function ln(e,t,n,r,o,a=null){var s=e,l={flags:t,items:new Map,first:null},c=(t&Ma)!==0;if(c){var u=e;s=u.appendChild(Gt())}var f=null,v=!1,g=new Map,h=fr(()=>{var S=n();return Br(S)?S:S==null?[]:Fr(S)}),d,p;function w(){ki(p,d,l,g,s,o,t,r,n),a!==null&&(d.length===0?f?un(f):f=ut(()=>a(s)):f!==null&&Ht(f,()=>{f=null}))}zn(()=>{p??(p=$),d=i(h);var S=d.length;if(!(v&&S===0)){v=S===0;var y,b,A,T;if(Wr()){var m=new Set,k=fe;for(b=0;b<S;b+=1){A=d[b],T=r(A,b);var x=l.items.get(T)??g.get(T);x?(t&(cr|ur))!==0&&go(x,A,b,t):(y=ho(null,l,null,null,A,T,b,o,t,n,!0),g.set(T,y)),m.add(T)}for(const[I,D]of l.items)m.has(I)||k.skipped_effects.add(D.e);k.add_callback(w)}else w();i(h)}})}function ki(e,t,n,r,o,a,s,l,c){var u=(s&xs)!==0,f=(s&(cr|ur))!==0,v=t.length,g=n.items,h=n.first,d=h,p,w=null,S,y=[],b=[],A,T,m,k;if(u)for(k=0;k<v;k+=1)A=t[k],T=l(A,k),m=g.get(T),m!==void 0&&(m.a?.measure(),(S??(S=new Set)).add(m));for(k=0;k<v;k+=1){if(A=t[k],T=l(A,k),m=g.get(T),m===void 0){var x=r.get(T);if(x!==void 0){r.delete(T),g.set(T,x);var I=w?w.next:d;lt(n,w,x),lt(n,x,I),Cr(x,I,o),w=x}else{var D=d?d.e.nodes_start:o;w=ho(D,n,w,w===null?n.first:w.next,A,T,k,a,s,c)}g.set(T,w),y=[],b=[],d=w.next;continue}if(f&&go(m,A,k,s),(m.e.f&rt)!==0&&(un(m.e),u&&(m.a?.unfix(),(S??(S=new Set)).delete(m))),m!==d){if(p!==void 0&&p.has(m)){if(y.length<b.length){var P=b[0],C;w=P.prev;var L=y[0],z=y[y.length-1];for(C=0;C<y.length;C+=1)Cr(y[C],P,o);for(C=0;C<b.length;C+=1)p.delete(b[C]);lt(n,L.prev,z.next),lt(n,w,L),lt(n,z,P),d=P,w=z,k-=1,y=[],b=[]}else p.delete(m),Cr(m,d,o),lt(n,m.prev,m.next),lt(n,m,w===null?n.first:w.next),lt(n,w,m),w=m;continue}for(y=[],b=[];d!==null&&d.k!==T;)(d.e.f&rt)===0&&(p??(p=new Set)).add(d),b.push(d),d=d.next;if(d===null)continue;m=d}y.push(m),w=m,d=m.next}if(d!==null||p!==void 0){for(var G=p===void 0?[]:Fr(p);d!==null;)(d.e.f&rt)===0&&G.push(d),d=d.next;var ne=G.length;if(ne>0){var Y=(s&Ma)!==0&&v===0?o:null;if(u){for(k=0;k<ne;k+=1)G[k].a?.measure();for(k=0;k<ne;k+=1)G[k].a?.fix()}bi(n,G,Y)}}u&&dr(()=>{if(S!==void 0)for(m of S)m.a?.apply()}),e.first=n.first&&n.first.e,e.last=w&&w.e;for(var se of r.values())dt(se.e);r.clear()}function go(e,t,n,r){(r&cr)!==0&&Dt(e.v,t),(r&ur)!==0?Dt(e.i,n):e.i=n}function ho(e,t,n,r,o,a,s,l,c,u,f){var v=(c&cr)!==0,g=(c&Ds)===0,h=v?g?Mr(o,!1,!1):qt(o):o,d=(c&ur)===0?s:qt(s),p={i:d,v:h,k:a,a:null,e:null,prev:n,next:r};try{if(e===null){var w=document.createDocumentFragment();w.append(e=Gt())}return p.e=ut(()=>l(e,h,d,u),Bs),p.e.prev=n&&n.e,p.e.next=r&&r.e,n===null?f||(t.first=p):(n.next=p,n.e.next=p.e),r!==null&&(r.prev=p,r.e.prev=p.e),p}finally{}}function Cr(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,o=t?t.e.nodes_start:n,a=e.e.nodes_start;a!==null&&a!==r;){var s=gr(a);o.before(a),a=s}}function lt(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function te(e,t,...n){var r=e,o=ce,a;zn(()=>{o!==(o=t())&&(a&&(dt(a),a=null),a=ut(()=>o(r,...n)))},jn)}function po(e,t,n){var r=e,o,a,s=null,l=null;function c(){a&&(Ht(a),a=null),s&&(s.lastChild.remove(),r.before(s),s=null),a=l,l=null}zn(()=>{if(o!==(o=t())){var u=Wr();if(o){var f=r;u&&(s=document.createDocumentFragment(),s.append(f=Gt()),a&&fe.skipped_effects.add(a)),l=ut(()=>n(f,o))}u?fe.add_callback(c):c()}},jn)}function _o(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=_o(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Ci(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=_o(e))&&(r&&(r+=" "),r+=t);return r}function ie(e){return typeof e=="object"?Ci(e):e??""}const wa=[...` 	
\r\f \v\uFEFF`];function Ei(e,t,n){var r=e==null?"":""+e;if(t&&(r=r?r+" "+t:t),n){for(var o in n)if(n[o])r=r?r+" "+o:o;else if(r.length)for(var a=o.length,s=0;(s=r.indexOf(o,s))>=0;){var l=s+a;(s===0||wa.includes(r[s-1]))&&(l===r.length||wa.includes(r[l]))?r=(s===0?"":r.substring(0,s))+r.substring(l+1):s=l}}return r===""?null:r}function Pi(e,t){return e==null?null:String(e)}function le(e,t,n,r,o,a){var s=e.__className;if(s!==n||s===void 0){var l=Ei(n,r,a);l==null?e.removeAttribute("class"):e.className=l,e.__className=n}else if(a&&o!==a)for(var c in a){var u=!!a[c];(o==null||u!==!!o[c])&&e.classList.toggle(c,u)}return a}function Mn(e,t,n,r){var o=e.__style;if(o!==t){var a=Pi(t);a==null?e.removeAttribute("style"):e.style.cssText=a,e.__style=t}return r}const xi=Symbol("is custom element"),Di=Symbol("is html");function Uu(e,t){var n=Zr(e);n.value===(n.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function zu(e,t){var n=Zr(e);n.checked!==(n.checked=t??void 0)&&(e.checked=t)}function Te(e,t,n,r){var o=Zr(e);o[t]!==(o[t]=n)&&(t==="loading"&&(e[ps]=n),n==null?e.removeAttribute(t):typeof n!="string"&&Ni(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function Zr(e){return e.__attributes??(e.__attributes={[xi]:e.nodeName.includes("-"),[Di]:e.namespaceURI===Is})}var ya=new Map;function Ni(e){var t=e.getAttribute("is")||e.nodeName,n=ya.get(t);if(n)return n;ya.set(t,n=[]);for(var r,o=e,a=Element.prototype;a!==o;){r=Na(o);for(var s in r)r[s].set&&n.push(s);o=jr(o)}return n}function Ai(e,t,n=t){var r=new WeakSet;ti(e,"input",async o=>{var a=o?e.defaultValue:e.value;if(a=Er(e)?Pr(a):a,n(a),fe!==null&&r.add(fe),await lo(),a!==(a=t())){var s=e.selectionStart,l=e.selectionEnd;e.value=a??"",l!==null&&(e.selectionStart=s,e.selectionEnd=Math.min(l,e.value.length))}}),Vt(t)==null&&e.value&&(n(Er(e)?Pr(e.value):e.value),fe!==null&&r.add(fe)),Gr(()=>{var o=t();if(e===document.activeElement){var a=$n??fe;if(r.has(a))return}Er(e)&&o===Pr(e.value)||e.type==="date"&&!o&&!e.value||o!==e.value&&(e.value=o??"")})}function Er(e){var t=e.type;return t==="number"||t==="range"}function Pr(e){return e===""?null:+e}function Sa(e,t){return e===t||e?.[jt]===t}function st(e={},t,n,r){return si(()=>{var o,a;return Gr(()=>{o=a,a=[],Vt(()=>{e!==n(...a)&&(t(e,...a),o&&Sa(n(...o),e)&&t(null,...o))})}),()=>{dr(()=>{a&&Sa(n(...a),e)&&t(null,...a)})}}),e}function Jr(e=!1){const t=ve,n=t.l.u;if(!n)return;let r=()=>vi(t.s);if(e){let o=0,a={};const s=Un(()=>{let l=!1;const c=t.s;for(const u in c)c[u]!==a[u]&&(a[u]=c[u],l=!0);return l&&o++,o});r=()=>i(s)}n.b.length&&ai(()=>{ba(t,r),nr(n.b)}),Me(()=>{const o=Vt(()=>n.m.map(ds));return()=>{for(const a of o)typeof a=="function"&&a()}}),n.a.length&&Me(()=>{ba(t,r),nr(n.a)})}function ba(e,t){if(e.l.s)for(const n of e.l.s)i(n);t()}let Qn=!1;function Ti(e){var t=Qn;try{return Qn=!1,[e(),Qn]}finally{Qn=t}}function oe(e,t,n,r){var o=!Sn||(n&As)!==0,a=(n&Ls)!==0,s=(n&Ms)!==0,l=r,c=!0,u=()=>(c&&(c=!1,l=s?Vt(r):r),l),f;if(a){var v=jt in e||hs in e;f=cn(e,t)?.set??(v&&t in e?b=>e[t]=b:void 0)}var g,h=!1;a?[g,h]=Ti(()=>e[t]):g=e[t],g===void 0&&r!==void 0&&(g=u(),f&&(o&&ks(),f(g)));var d;if(o?d=()=>{var b=e[t];return b===void 0?u():(c=!0,b)}:d=()=>{var b=e[t];return b!==void 0&&(l=void 0),b===void 0?l:b},o&&(n&Ts)===0)return d;if(f){var p=e.$$legacy;return(function(b,A){return arguments.length>0?((!o||!A||p||h)&&f(A?d():b),b):d()})}var w=!1,S=((n&Ns)!==0?Un:fr)(()=>(w=!1,d()));a&&i(S);var y=$;return(function(b,A){if(arguments.length>0){const T=A?i(S):o&&a?Le(b):b;return E(S,T),w=!0,l!==void 0&&(l=T),b}return Yt&&w||(y.f&Wt)!==0?S.v:i(S)})}function me(e){ve===null&&La(),Sn&&ve.l!==null?Li(ve).m.push(e):Me(()=>{const t=Vt(e);if(typeof t=="function")return t})}function Li(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const Mi="5";var xa;typeof window<"u"&&((xa=window.__svelte??(window.__svelte={})).v??(xa.v=new Set)).add(Mi);Hs();const mo={},Oi=()=>({working:!1,swipingRatio:1,isSwiping:!1,duration:.35});function Ri(e){Pe(mo,e)}function qn(){const e=Ee(mo);if(!e)throw new Error("No AnimationSettingsContext found");return e}function Ii(e,t){V(t,!0);let n=Le(Oi());Ri(n);var r=O(),o=M(r);te(o,()=>t.children??ce),_(e,r),K()}const wo={};function Bi(e){Pe(wo,e)}function yo(){const e=Ee(wo);if(!e)throw new Error("No ScrollingContext found");return e}const Fi=(e,t)=>{let n=null;return()=>{n&&clearTimeout(n),n=setTimeout(()=>{n=null,e()},t)}};async function xr(){if(navigator.storage&&navigator.storage.persist)try{await navigator.storage.persisted()||await navigator.storage.persist()}catch{}}function ji(e,t){V(t,!0);let n=B(!1);const r=()=>i(n),o=Fi(()=>{E(n,!1)},100);Bi({isScrolling:r,enable:()=>{E(n,!0),o()}});var s=O(),l=M(s);te(l,()=>t.children??ce),_(e,s),K()}const So={};function Hi(e){Pe(So,e)}function kn(){const e=Ee(So);if(!e)throw new Error("No MobileSizeContext found");return e}const Ui=(e,t,n={})=>{let r=null;return()=>{r||(e(),r=setTimeout(()=>{if(r=null,n.trailing){e();return}},t))}};function zi(e,t){V(t,!0);const n=()=>window.matchMedia("(max-width: 767px)").matches;let r=B(Le(n()));const o=Ui(()=>{E(r,n(),!0)},16,{trailing:!0});Hi({checkMobileSize:()=>i(r)}),me(()=>(window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)));var s=O(),l=M(s);te(l,()=>t.children??ce),_(e,s),K()}const bo={};function qi(e){Pe(bo,e)}function Vn(){const e=Ee(bo);if(!e)throw new Error("No DialogContext found");return e}function Vi(e,t){V(t,!0);let n=B(0),r=B(!1),o=B(!1);qi({checkExistedDialog:()=>i(n)>0,showDialog:()=>{E(n,i(n)+1)},hideDialog:()=>{E(n,i(n)-1)},blockDialog:d=>{E(r,d,!0),d||E(o,!1)},checkBlockedDialog:()=>i(r),unBlockBackDialog:d=>{E(o,d,!0)},checkUnBlockedBackDialog:()=>i(o)});var g=O(),h=M(g);te(h,()=>t.children??ce),_(e,g),K()}const ko={};function Ki(e){Pe(ko,e)}function Qr(){const e=Ee(ko);if(!e)throw new Error("No ScrollContainerContext found");return e}function Wi(e,t){V(t,!0);let n=B(null);Ki({setScrollContainer:l=>{E(n,l,!0)},getScrollContainer:()=>i(n)});var a=O(),s=M(a);te(s,()=>t.children??ce),_(e,a),K()}const Co={};function Gi(e){Pe(Co,e)}function $r(){const e=Ee(Co);if(!e)throw new Error("No DialogPageHeightContext found");return e}function Yi(e,t){V(t,!0);let n=B(200);Gi({setDialogPageHeight:l=>{E(n,l,!0)},getDialogPageHeight:()=>i(n)});var a=O(),s=M(a);te(s,()=>t.children??ce),_(e,a),K()}const Eo={};function Xi(e){Pe(Eo,e)}function ea(){const e=Ee(Eo);if(!e)throw new Error("No RelatedTagsContext found");return e}function Zi(e,t){V(t,!0);let n=B({});Xi({getRelatedTags:()=>i(n),setRelatedTags:a=>{E(n,a)}});var r=O(),o=M(r);te(o,()=>t.children??ce),_(e,r),K()}const Po={};function Ji(e){Pe(Po,e)}function xo(){const e=Ee(Po);if(!e)throw new Error("No LocalDBContext found");return e}const Qi=()=>crypto.randomUUID(),$i="AppStorage",el=1,Ve="notes",sr="tags",vt="syncLog",Nt="account",At="settings",tt="drafts",pe="success",_e="error",q=(e,t,n)=>{e?.addEventListener(t,n)};function tl(){return new Promise((e,t)=>{const n=indexedDB.open($i,el);q(n,"upgradeneeded",()=>{const r=n.result;r.objectStoreNames.contains(Ve)||r.createObjectStore(Ve,{keyPath:"id"}),r.objectStoreNames.contains(sr)||r.createObjectStore(sr,{keyPath:"id"}),r.objectStoreNames.contains(Nt)||r.createObjectStore(Nt,{keyPath:"id"}),r.objectStoreNames.contains(At)||r.createObjectStore(At,{keyPath:"id"}),r.objectStoreNames.contains(vt)||r.createObjectStore(vt,{keyPath:"id"}),r.objectStoreNames.contains(tt)||r.createObjectStore(tt,{keyPath:"id"})}),q(n,pe,()=>{const r=n.result;e(r),r.onversionchange=function(){r?.close(),alert("app outdated, please reload the page")}}),q(n,"blocked",()=>{t(),alert("app outdated, please reload the page")}),q(n,_e,()=>{t()})})}function nl(e){return new Promise((t,n)=>{const o=e?.transaction(At,"readonly")?.objectStore(At).get("default");q(o,pe,()=>{const a=o?.result?.settings;t(a)}),q(o,_e,()=>{n()})})}function rl(e,t){return new Promise((n,r)=>{const s=e?.transaction(At,"readwrite")?.objectStore(At)?.put({id:"default",settings:t});q(s,pe,()=>{n()}),q(s,_e,()=>{r()})})}function al(e){return new Promise((t,n)=>{const o=e?.transaction(Nt,"readonly")?.objectStore(Nt).get("default");q(o,pe,()=>{const a=o?.result?.account;t(a)}),q(o,_e,()=>{n()})})}function ol(e,t){return new Promise((n,r)=>{const s=e?.transaction(Nt,"readwrite")?.objectStore(Nt)?.put({id:"default",account:t});q(s,pe,()=>{n()}),q(s,_e,()=>{r()})})}function Do(e){return new Promise((t,n)=>{const o=e?.transaction(Ve,"readonly")?.objectStore(Ve).getAll();q(o,pe,()=>{const a=o?.result||[];t(a)}),q(o,_e,()=>{n()})})}function sl(e){return new Promise((t,n)=>{const o=e?.transaction(sr,"readonly")?.objectStore(sr).getAll();q(o,pe,()=>{const a=o?.result||[];t(a)}),q(o,_e,()=>{n()})})}function il(e,t){return new Promise((n,r)=>{const s=e?.transaction(Ve,"readwrite")?.objectStore(Ve)?.put({...t});q(s,pe,()=>{n()}),q(s,_e,()=>{r()})})}function ll(e,t){return new Promise((n,r)=>{const s=e?.transaction(Ve,"readwrite")?.objectStore(Ve)?.delete(t);q(s,pe,()=>{n()}),q(s,_e,()=>{r()})})}function cl(e){return new Promise((t,n)=>{const a=e?.transaction(Ve,"readwrite")?.objectStore(Ve)?.clear();q(a,pe,()=>{t()}),q(a,_e,()=>{n()})})}function ul(e){return Promise.all([new Promise((t,n)=>{const a=e?.transaction(Nt,"readwrite")?.objectStore(Nt)?.clear();q(a,pe,()=>{t()}),q(a,_e,()=>{n()})}),new Promise((t,n)=>{const a=e?.transaction(Ve,"readwrite")?.objectStore(Ve)?.clear();q(a,pe,()=>{t()}),q(a,_e,()=>{n()})}),new Promise((t,n)=>{const a=e?.transaction(At,"readwrite")?.objectStore(At)?.clear();q(a,pe,()=>{t()}),q(a,_e,()=>{n()})}),new Promise((t,n)=>{const a=e?.transaction(vt,"readwrite")?.objectStore(vt)?.clear();q(a,pe,()=>{t()}),q(a,_e,()=>{n()})}),new Promise((t,n)=>{const a=e?.transaction(tt,"readwrite")?.objectStore(tt)?.clear();q(a,pe,()=>{t()}),q(a,_e,()=>{n()})})])}async function dl(e,t){const n=(await Do(e)).reduce((s,l)=>(s[l.id]=l,s),{}),r={},a=e?.transaction(Ve,"readwrite")?.objectStore(Ve);t.forEach(s=>{n[s.id]?n[s.id].updatedAt<s.updatedAt&&(r[s.id]=s):r[s.id]=s}),await Promise.all(Object.values(r).map(s=>{const l=a?.put(s);return new Promise((c,u)=>{q(l,pe,()=>{c()}),q(l,_e,()=>{u()})})}))}function fl(e,t){return new Promise((n,r)=>{const s=e?.transaction(vt,"readwrite")?.objectStore(vt)?.put({...t});q(s,pe,()=>{n()}),q(s,_e,()=>{r()})})}function vl(e,t){return new Promise((n,r)=>{const a=e?.transaction(vt,"readwrite")?.objectStore(vt);Promise.all(t.map(s=>new Promise((l,c)=>{const u=a?.delete(s);q(u,pe,()=>{l()}),q(u,_e,()=>{c()})}))).then(()=>{n()}).catch(()=>{r()})})}function gl(e){return new Promise((t,n)=>{const a=e?.transaction(vt,"readwrite")?.objectStore(vt)?.clear();q(a,pe,()=>{t()}),q(a,_e,()=>{n()})})}function hl(e){return new Promise((t,n)=>{const o=e?.transaction(tt,"readonly")?.objectStore(tt).getAll();q(o,pe,()=>{const a=o?.result||[];t(a)}),q(o,_e,()=>{n()})})}function pl(e,t){return new Promise((n,r)=>{const s=e?.transaction(tt,"readwrite")?.objectStore(tt)?.put({...t});q(s,pe,()=>{n()}),q(s,_e,()=>{r()})})}function _l(e,t){return new Promise((n,r)=>{const s=e?.transaction(tt,"readwrite")?.objectStore(tt)?.delete(t);q(s,pe,()=>{n()}),q(s,_e,()=>{r()})})}function ml(e){return new Promise((t,n)=>{const a=e?.transaction(tt,"readwrite")?.objectStore(tt)?.clear();q(a,pe,()=>{t()}),q(a,_e,()=>{n()})})}function wl(e,t){V(t,!0);let n=B(null);me(()=>{tl().then(s=>{E(n,s,!0)})}),Ji({getSettings:()=>nl(i(n)),putSettings:s=>rl(i(n),s),getAccount:()=>al(i(n)),putAccount:s=>ol(i(n),s),getAllNotes:()=>Do(i(n)),getAllTags:()=>sl(i(n)),putNote:s=>il(i(n),s),deleteNote:s=>ll(i(n),s),clearNotes:()=>cl(i(n)),clearAllLocalData:()=>ul(i(n)),importNotes:s=>dl(i(n),s),putSyncLogRecord:s=>fl(i(n),s),deleteSyncLogRecord:s=>vl(i(n),s),clearSyncLog:()=>gl(i(n)),getAllDrafts:()=>hl(i(n)),putDraft:s=>pl(i(n),s),deleteDraft:s=>_l(i(n),s),clearDrafts:()=>ml(i(n))});var r=O(),o=M(r);{var a=s=>{var l=O(),c=M(l);te(c,()=>t.children??ce),_(s,l)};j(o,s=>{i(n)&&s(a)})}_(e,r),K()}const No={};function yl(e){Pe(No,e)}function Xt(){const e=Ee(No);if(!e)throw new Error("No AppStateContext found");return e}function Sl(e,t){V(t,!0);let n=B(Le({showFavicon:!0}));const r=()=>i(n).showFavicon,o=D=>{D&&E(n,{...i(n),...D},!0)};let a=B({initedDB:!1});yl({faviconEnabled:r,setSettings:o,init:()=>{E(a,{initedDB:!0})},setAccount:D=>{E(a,{...i(a),account:D})},setNotes:D=>{const P=[],C=new Map;D.forEach(L=>{P.push(L),C.set(L.id,L)}),E(a,{...i(a),notes:P,mapNotes:C,getNotes:()=>P,getMapNotes:()=>C})},setDrafts:D=>{const P=new Map;D.forEach(C=>{P.set(C.id,C)}),E(a,{...i(a),mapDrafts:P,getMapDrafts:()=>P})},isReadyDB:()=>i(a).initedDB,isReadyAccount:()=>i(a).account!==void 0,isReadyStore:()=>!!(i(a).notes&&i(a).mapNotes),getAccount:()=>i(a).account,getGetNotes:()=>i(a).getNotes||(()=>i(a).notes||[]),getGetMapNotes:()=>i(a).getMapNotes||(()=>i(a).mapNotes||new Map),addNote:D=>{if(!i(a).notes||!i(a).mapNotes)throw new Error("Notes appState is not initialized");const P={...D};i(a).notes.push(P),i(a).mapNotes.set(P.id,P),E(a,{...i(a),getNotes:()=>i(a).notes,getMapNotes:()=>i(a).mapNotes})},updateNote:D=>{if(!i(a).notes||!i(a).mapNotes)throw new Error("Notes appState is not initialized");i(a).notes.forEach((P,C)=>{P?.id===D.id&&i(a).notes&&(i(a).notes[C]=D)}),i(a).mapNotes.set(D.id,D),E(a,{...i(a),getNotes:()=>i(a).notes,getMapNotes:()=>i(a).mapNotes})},deleteNote:D=>{if(!i(a).notes||!i(a).mapNotes)throw new Error("Notes appState is not initialized");i(a).mapNotes.delete(D);const P=i(a).notes.findIndex(C=>C?.id===D);P!==-1&&(i(a).notes[P]=void 0),E(a,{...i(a),getNotes:()=>i(a).notes,getMapNotes:()=>i(a).mapNotes})},clearNotes:()=>{const D=[],P=new Map,C=new Map;E(a,{...i(a),notes:D,mapNotes:P,getNotes:()=>D,getMapNotes:()=>P,mapDrafts:C,getMapDrafts:()=>C})},clearAllData:()=>{E(a,{initedDB:!0,account:void 0,notes:void 0,mapNotes:void 0,getNotes:()=>{},getMapNotes:()=>{},mapDrafts:void 0,getMapDrafts:()=>{}})},getDraft:D=>i(a)?.getMapDrafts?.()?.get(D),deleteDraft:D=>{if(!i(a).mapDrafts)throw new Error("Drafts appState is not initialized");i(a).mapDrafts.delete(D),E(a,{...i(a),getMapDrafts:()=>i(a).mapDrafts})},putDraft:D=>{if(!i(a).mapDrafts)throw new Error("Drafts appState is not initialized");i(a).mapDrafts.set(D.id,D),E(a,{...i(a),getMapDrafts:()=>i(a).mapDrafts})}});var x=O(),I=M(x);te(I,()=>t.children??ce),_(e,x),K()}const Ao={};function bl(e){Pe(Ao,e)}function ht(){const e=Ee(Ao);if(!e)throw new Error("No StackPagesContext found");return e}const To={};function kl(e){Pe(To,e)}function it(){const e=Ee(To);if(!e)throw new Error("No AppHistoryContext found");return e}function Cl(e,t){V(t,!0);const{getAppHistory:n,navigate:r}=it(),o=()=>new URLSearchParams(n().search).get("stackPages")?.split(",")||[];let a=B(Le(o()));const s=w=>{const S=o();if(!S.includes(w)){S.push(w);const y=new URLSearchParams(n().search);y.set("stackPages",S.join(",")),E(a,S,!0),r(`${n().pathname}?${y.toString()}`)}};bl({pushStackPages:s,hasStackPage:w=>o().includes(w),updateStackPages:()=>{E(a,o(),!0)},popStackPages:()=>{const w=i(a).slice(0,-1);E(a,w,!0)},getStackPages:()=>{const w=o();return w.length>=i(a).length?w.reduce((S,y)=>[...S,{page:y,shown:!0}],[]):i(a).reduce((S,y,b)=>[...S,{page:y,shown:w.length===0?!1:b!==i(a).length-1}],[])},clearStackPages:()=>{E(a,[],!0)},getPageUrl:w=>{const S=o();S.includes(w)||S.push(w);const y=new URLSearchParams(n().search);return y.set("stackPages",S.join(",")),`${n().pathname}?${y}`},createHandlePage:w=>S=>{S.preventDefault(),s(w)},getStackPagesFormUrl:o});var d=O(),p=M(d);te(p,()=>t.children??ce),_(e,d),K()}function El(e,t){V(t,!0);const n=Le({historyStack:[],pathname:window.location.pathname,search:window.location.search,historyLength:0}),r=()=>{n.pathname=document.location.pathname,n.search=document.location.search,n.historyLength=Math.max(0,n.historyLength-=1)},o=g=>{const[h,d]=g.split("?");n.pathname=h,n.search=d?`?${d}`:"",n.historyLength+=1,n.historyStack.push(window.location.href),window.history.replaceState(null,"",g)},a=g=>{const[h,d]=g.split("?");n.pathname=h,n.search=d?`?${d}`:"",window.history.replaceState(null,"",g)};kl({getAppHistory:()=>n,navigate:o,replace:a,addSearchParam:(g,h)=>{const d=new URLSearchParams(n.search);d.append(g,h),a(`${n.pathname}${d.size>0?`?${d.toString()}`:""}`)},deleteSearchParam:g=>{const h=new URLSearchParams(n.search);h.delete(g),n.historyStack=n.historyStack.map(d=>{const p=new URLSearchParams(d.split("?")[1]);return p.delete(g),`${d.split("?")[0]}${h.size>0?`?${p.toString()}`:""}`}),a(`${n.pathname}${h.size>0?`?${h.toString()}`:""}`)},back:g=>{const{fallback:h="/",to:d}=g||{},[p,w]=h.split("?");if(n.historyLength<=0){const S=window.location.href,[y,b]=S.split("?");if(!b.includes("stackPages"))window.history.replaceState(null,"",h),n.historyLength=0,n.pathname=p,n.search=w?`?${w}`:"";else{const A=new URLSearchParams(b),T=A.get("stackPages")?.split(",")||[],m=T.slice(0,d&&T.includes(d)?T.indexOf(d)+1:-1);m.length===0?A.delete("stackPages"):A.set("stackPages",m.join(","));const k=`${y}${A.toString()?`?${A.toString()}`:""}`;window.history.replaceState(null,"",k),n.search=A.toString()?`?${A.toString()}`:""}}else if(n.historyStack.length>0){const y=new URLSearchParams(n.search).get("stackPages")?.split(",")||[];d&&y.includes(d)&&(n.historyStack=n.historyStack.slice(0,-(y.length-(y.indexOf(d)+1))+1),n.historyLength=n.historyStack.length);const b=n.historyStack.pop();if(b){const[A,T]=b.split("?");window.history.replaceState(null,"",b),n.historyLength=Math.max(0,n.historyLength-=1),n.pathname=A,n.search=T?`?${T}`:""}}},closeDialogStack:()=>{const g=n.historyStack.findIndex(d=>d.includes("stackPages")),h=g===-1?n.historyStack.slice(0):n.historyStack.slice(0,g);if(h.length>0){const d=h.pop();if(d){const[p,w]=d.split("?");window.history.replaceState(null,"",d),n.historyLength=Math.max(0,h.length),n.pathname=p,n.search=w?`?${w}`:"",n.historyStack=h}}else{const d=n.search,p=new URLSearchParams(d);p.delete("stackPages"),window.history.replaceState(null,"",p.toString()?"/?"+p.toString():"/"),n.historyLength=0,n.pathname="/",n.search=p.toString()?"?"+p.toString():"",n.historyStack=[]}}}),me(()=>(window.addEventListener("popstate",r),()=>{window.removeEventListener("popstate",r)}));var f=O(),v=M(f);te(v,()=>t.children??ce),_(e,f),K()}const Lo={};function Pl(e){Pe(Lo,e)}function xl(){const e=Ee(Lo);if(!e)throw new Error("No KeyboardVisibleContext found");return e}function Dl(e,t){V(t,!0);let n=Le({value:!1});const r=()=>n.value;me(()=>{const s=()=>{setTimeout(()=>{document.activeElement instanceof HTMLInputElement&&document.activeElement.type==="text"||document.activeElement instanceof HTMLTextAreaElement?n.value=!0:n.value=!1},0)};return s(),document.addEventListener("focusin",s),document.addEventListener("focusout",s),()=>{document.removeEventListener("focusin",s),document.removeEventListener("focusout",s)}}),Pl({getIsKeyboardVisible:r});var o=O(),a=M(o);te(a,()=>t.children??ce),_(e,o),K()}function Pt(e){const t=String.fromCharCode(...new Uint8Array(e));return window.btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function ta(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");const n=t.length%4;return n&&(t+="=".repeat(4-n)),t}function na(e){try{const t=atob(e),n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n.buffer}catch(t){throw t}}function qu(e){const t=ta(e);return na(t)}const Vu=async({challenge:e,clientKey:t})=>{const n=Math.floor(Math.random()*100),r={challenge:na(ta(e)),rp:{id:"localhost",name:"notes"},user:{id:new Uint8Array([...t,...crypto.getRandomValues(new Uint8Array(16))]).buffer,name:`account_${n}`,displayName:`account_${n}`},pubKeyCredParams:[{type:"public-key",alg:-7},{type:"public-key",alg:-257}],authenticatorSelection:{userVerification:"required"},timeout:6e4,attestation:"none"},o=await navigator.credentials.create({publicKey:r});if(o){const a=o.response;return{challenge:e,id:o.id,rawId:Pt(o.rawId),type:o.type,response:{clientDataJSON:Pt(a.clientDataJSON),attestationObject:Pt(a.attestationObject)}}}else throw new Error},Ku=async({challenge:e})=>{const t={challenge:na(ta(e)),timeout:6e4,rpId:"localhost",userVerification:"required"},n=await navigator.credentials.get({publicKey:t});if(n){const r=n.response;new DataView(r.authenticatorData).getUint32(33,!1);const o={challenge:e,id:n.id,rawId:Pt(n.rawId),type:n.type,response:{authenticatorData:Pt(r.authenticatorData),clientDataJSON:Pt(r.clientDataJSON),signature:Pt(r.signature)}};if(!r.userHandle)throw new Error("No credential found");const a=new Uint8Array(r.userHandle).slice(0,32);return{credentialData:o,clientKey:a}}else throw new Error("No credential found")},Nl=async e=>{const t=await crypto.subtle.importKey("raw",e.serverKey,{name:"HKDF"},!1,["deriveKey"]),n=await crypto.subtle.deriveKey({name:"HKDF",salt:new Uint8Array(12),info:new TextEncoder().encode("aes-gcm-shared"),hash:"SHA-256"},t,{name:"AES-GCM",length:256},!1,["encrypt"]);return{encryptedClientKey:await crypto.subtle.encrypt({name:"AES-GCM",iv:new Uint8Array(12)},n,e.clientKey)}},Wu=async e=>{const t=await crypto.subtle.importKey("raw",e.serverKey,{name:"HKDF"},!1,["deriveKey"]),n=await crypto.subtle.deriveKey({name:"HKDF",info:new TextEncoder().encode("aes-gcm-shared"),hash:"SHA-256",salt:new Uint8Array(12)},t,{name:"AES-GCM",length:256},!1,["decrypt"]),r=await crypto.subtle.decrypt({name:"AES-GCM",iv:new Uint8Array(12)},n,e.encryptedClientKey);return new Uint8Array(r)},Mo={};function Al(e){Pe(Mo,e)}function Tl(){const e=Ee(Mo);if(!e)throw new Error("No BroadcastContext found");return e}const Oo={};function Ll(e){Pe(Oo,e)}function Ro(){const e=Ee(Oo);if(!e)throw new Error("No ControllerContext found");return e}function Ml(e,t){V(t,!0);const{navigate:n}=it(),{hasStackPage:r,pushStackPages:o,clearStackPages:a}=ht(),s=Xt(),l=xo(),c=Tl(),u=async()=>{s.init();const P=await l.getSettings();s.setSettings(P);const C=await l.getAccount();if(C===void 0)o("start");else{r("start")&&(a(),n("/")),C?(s.setAccount(C),await xr()):s.setAccount(null);const L=await l.getAllDrafts();await s.setDrafts(L);const z=await l.getAllNotes();await s.setNotes(z)}};me(()=>{u()});const f=async P=>{const C={...P,id:Qi(),createdAt:Date.now(),updatedAt:Date.now()};s.addNote(C),c.send({type:"addNote",data:{note:C}}),await l.putNote({...C})},v=async P=>{const C={...P};s.putDraft(C),c.send({type:"putDraft",data:{draft:C}}),await l.putDraft({...C})},g=async P=>{s.deleteDraft(P),await l.deleteDraft(P),c.send({type:"deleteDraft",data:{id:P}})};Ll({addNote:f,putDraft:v,deleteDraft:g,updateNote:async P=>{const C={...P,updatedAt:Date.now()};c.send({type:"updateNote",data:{note:C}}),s.updateNote(C),await l.putNote(C)},setDeleting:(P,C)=>{const L=s.getGetMapNotes()()?.get(P);if(!L)return;const z={...L,deleting:C};c.send({type:"updateNote",data:{note:z}}),s.updateNote(z)},pinNote:async(P,C)=>{const L=s.getGetMapNotes()()?.get(P);if(!L)return;const z={...L,pinned:C};c.send({type:"updateNote",data:{note:z}}),s.updateNote(z),await l.putNote(z)},setFaviconShown:async P=>{s.setSettings({showFavicon:P}),await l.putSettings({showFavicon:P}),c.send({type:"updateSettings"})},deleteNote:async P=>{const C=s.getGetMapNotes()()?.get(P);C&&g(C.id),c.send({type:"deleteNote",data:{id:P}}),s.deleteNote(P),await l.deleteNote(P)},clearNotes:async()=>{c.send({type:"clearNotes"}),s.clearNotes(),await l.clearNotes()},importToStore:async P=>{await l.importNotes(P),c.send({type:"reloadNotes"});const C=await l.getAllNotes();s.setNotes(C)},initLocalAccount:async()=>{await l.clearAllLocalData(),await xr(),await l.putAccount(null),s.setAccount(null),s.setDrafts([]),s.setNotes([]),c.send({type:"initLocalAccount"})},disconnectCloudAccount:async()=>{s.setAccount(null),await l.putAccount(null);try{await fetch("/api/dropSession",{method:"POST"})}catch{}c.send({type:"disconnectAccount"})},initAccount:async P=>{await l.clearAllLocalData(),await xr();const{encryptedClientKey:C}=await Nl({clientKey:P.clientKey,serverKey:P.serverKey}),L={encryptedClientKey:Pt(C),subscriptionExpires:P.subscriptionExpires||-1,lastSync:-1};await l.putAccount(L),s.setAccount(L);const z=await l.getAllDrafts();await s.setDrafts(z);const G=await l.getAllNotes();await s.setNotes(G),c.send({type:"initAccount"})},updateSubscription:async P=>{const C=s.getAccount();if(!C)return;const L={...C,subscriptionExpires:P};await l.putAccount(L),s.setAccount(L),c.send({type:"updateAccount"})},exitApp:async()=>{s.clearAllData(),await l.clearAllLocalData(),c.send({type:"exit"})}});var I=O(),D=M(I);te(D,()=>t.children??ce),_(e,I),K()}function Ol(e,t){V(t,!0);const n=Xt(),r=xo(),{navigate:o}=it(),a=ht(),s=crypto.randomUUID(),l=new BroadcastChannel("app"),c=g=>{l.postMessage(JSON.stringify({...g,tabId:s}))},u=async g=>{if(g.data&&typeof g.data=="string"){const h=JSON.parse(g.data);if(h.tabId&&h.tabId===s)return;const d=h;if(d.type==="addNote"){const p=d.data.note;n.addNote(p)}else if(d.type==="putDraft"){const p=d.data.draft;n.putDraft(p)}else if(d.type==="updateNote"){const p=d.data.note;n.updateNote(p)}else if(d.type==="deleteNote"){const p=d.data.id;n.deleteNote(p)}else if(d.type==="clearNotes")n.clearNotes();else if(d.type==="reloadNotes"){const p=await r.getAllNotes();n.setNotes(p)}else if(d.type==="initLocalAccount")n.setAccount(null),a.clearStackPages(),o("/");else if(d.type==="initAccount"){const p=await r.getAccount();p&&(n.setAccount(p),a.clearStackPages(),o("/"))}else if(d.type==="updateSettings"){const p=await r.getSettings();p&&n.setSettings(p)}else if(d.type==="disconnectAccount")n.setAccount(null);else if(d.type==="exit")n.clearAllData();else if(d.type==="updateAccount"){const p=await r.getAccount();p&&n.setAccount(p)}else if(d.type==="deleteDraft"){const p=d.data.id;n.deleteDraft(p)}}};me(()=>(l.addEventListener("message",u),()=>{l.removeEventListener("message",u)})),Al({send:c,broadcast:l});var f=O(),v=M(f);te(v,()=>t.children??ce),_(e,f),K()}const Io={};function Rl(e){Pe(Io,e)}function Bo(){const e=Ee(Io);if(!e)throw new Error("No SearchContext found");return e}const Fo={};function Il(e){Pe(Fo,e)}function ra(){const e=Ee(Fo);if(!e)throw new Error("No FeedSearchContext found");return e}function Bl(e,t){V(t,!0);const{getFeedSearch:n}=ra(),r=Le({feedSearch:n(),tagSearch:""});Rl(r);var o=O(),a=M(o);te(a,()=>t.children??ce),_(e,o),K()}function Fl(e,t){V(t,!0);const{navigate:n,getAppHistory:r}=it(),o=R(r),a="feedSearch";let s=B(Le(new URLSearchParams(r().search).get(a)||""));Il({getFeedSearch:()=>i(s),setFeedSearch:v=>{E(s,v,!0);const g=new URLSearchParams(i(o).search);v===""?g.delete(a):g.set(a,v),n(`${i(o).pathname}${g.size>0?`?${g.toString()}`:""}`)}});var u=O(),f=M(u);te(f,()=>t.children??ce),_(e,u),K()}const jo={};function jl(e){Pe(jo,e)}function Ho(){const e=Ee(jo);if(!e)throw new Error("No FeedOrderContext found");return e}function Hl(e,t){V(t,!0);const{navigate:n,getAppHistory:r}=it(),o=R(r),a="feedOrder";let s=B(Le(new URLSearchParams(r().search).get(a)||"newest"));jl({getFeedOrder:()=>i(s),setFeedOrder:v=>{E(s,v,!0);const g=new URLSearchParams(i(o).search);v==="newest"?g.delete(a):g.set(a,v),n(`${i(o).pathname}${g.size>0?`?${g.toString()}`:""}`)}});var u=O(),f=M(u);te(f,()=>t.children??ce),_(e,u),K()}const Uo={};function Ul(e){Pe(Uo,e)}function zl(){const e=Ee(Uo);if(!e)throw new Error("No SidebarContext found");return e}function ql(e,t){V(t,!0);const n=(f,v)=>{if(!v)return f;if(v.type==="closed")return{type:"closed"};switch(f.type){case"opened":return v.type==="close"?{type:"closing"}:v.type==="swipe"?{type:"openSwiping"}:f;case"closed":return v.type==="open"?{type:"opening"}:v.type==="swipe"?{type:"closeSwiping"}:f;case"openSwiping":return v.type==="open"?{type:"opening"}:v.type==="close"?{type:"closing"}:f;case"closeSwiping":return v.type==="open"?{type:"opening"}:v.type==="close"?{type:"closing"}:f;case"opening":return v.type==="opened"?{type:"opened"}:f;default:return f}};let r=B(Le(n({type:"closed"})));const o=f=>{E(r,n(i(r),f),!0)};Ul({sidebarOpen:()=>{o({type:"open"})},sidebarClose:()=>{o({type:"close"})},handleComputeState:o,getSidebarState:()=>i(r)});var c=O(),u=M(c);te(u,()=>t.children??ce),_(e,c),K()}const zo={};function Vl(e){Pe(zo,e)}function Kl(){const e=Ee(zo);if(!e)throw new Error("No SelectedTagsContext found");return e}function Wl(e,t){V(t,!0);const{getAppHistory:n}=it(),r=()=>new URLSearchParams(n().search).get("selectedTags")?.split(",")||[];let o=r();Vl({getSelectedTags:()=>{const c=r();return c.join(",")===o.join(",")||(o=c),o}});var s=O(),l=M(s);te(l,()=>t.children??ce),_(e,s),K()}function Gl(e,t){Ii(e,{children:(n,r)=>{ji(n,{children:(o,a)=>{zi(o,{children:(s,l)=>{Vi(s,{children:(c,u)=>{Wi(c,{children:(f,v)=>{Yi(f,{children:(g,h)=>{Dl(g,{children:(d,p)=>{El(d,{children:(w,S)=>{Cl(w,{children:(y,b)=>{wl(y,{children:(A,T)=>{Sl(A,{children:(m,k)=>{Ol(m,{children:(x,I)=>{Zi(x,{children:(D,P)=>{Ml(D,{children:(C,L)=>{Fl(C,{children:(z,G)=>{Bl(z,{children:(ne,Y)=>{Hl(ne,{children:(se,W)=>{ql(se,{children:(re,ee)=>{Wl(re,{children:(ue,X)=>{var Z=O(),ge=M(Z);te(ge,()=>t.children??ce),_(ue,Z)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})}let bt=B(""),Ot=B(null),Pn=B(null),xn=B(null);function _r(e,t){E(bt,""),setTimeout(()=>{E(bt,e,!0),t?.onFinish&&E(Pn,t.onFinish,!0),t?.onCancel&&E(xn,t.onCancel,!0)},16)}const Yl=(e,t,n,r,o)=>{e.preventDefault(),i(t)&&(E(n,null),i(t)(),E(t,null)),E(r,""),i(o)?.style.removeProperty("opacity")};var Xl=U('<button type="button" class="undoButton svelte-7afsz8">undo</button>'),Zl=U('<div class="notification svelte-7afsz8"><span> </span> <!></div>'),Jl=U("<div><!></div>");function Ql(e,t){V(t,!0),Me(()=>{i(bt);const a=i(xn)?2e3:800;i(bt)&&(i(Ot)?.getBoundingClientRect(),i(Ot)?.style.setProperty("opacity","1"));const s=setTimeout(()=>{i(Ot)?.style.removeProperty("opacity")},a),l=setTimeout(()=>{E(bt,""),i(Pn)&&i(Pn)(),E(Pn,null),E(xn,null),i(Ot)?.style.removeProperty("opacity")},a+400);return()=>{clearTimeout(s),clearTimeout(l)}});var n=Jl(),r=N(n);{var o=a=>{var s=Zl(),l=N(s),c=N(l),u=F(l,2);{var f=v=>{var g=Xl();g.__click=[Yl,xn,Pn,bt,Ot],_(v,g)};j(u,v=>{i(xn)&&v(f)})}st(s,v=>E(Ot,v),()=>i(Ot)),he(()=>Ln(c,i(bt))),_(a,s)};j(r,a=>{i(bt)&&a(o)})}_(e,n),K()}Xe(["click"]);var $l=U('<span class="vh svelte-14jjkpd"><!></span>');function at(e,t){var n=$l(),r=N(n);te(r,()=>t.children),_(e,n)}var ec=mi('<svg class="svelte-gv09tg"><use></use></svg>');function De(e,t){let n=oe(t,"name",8,"");var r=ec(),o=N(r);he(()=>Te(o,"href",`#icon-${n()??""}`)),_(e,r)}const tc=(e,t,n,r)=>{const o=t().type;o==="closed"?n():o==="opened"&&r()};var nc=U('<button class="buttonMenu svelte-hxzs42"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>');function qo(e,t){V(t,!1);const{sidebarOpen:n,getSidebarState:r,sidebarClose:o}=zl();Jr();var a=nc();a.__click=[tc,r,n,o];var s=N(a);Ce(s,()=>({"--size":"36px"})),De(s.lastChild,{name:"sidebarMenu"});var l=F(s,2);at(l,{children:(c,u)=>{var f=Fe("Menu");_(c,f)}}),_(e,a),K()}Xe(["click"]);var rc=(e,t)=>t.onChange?.(e.target?.value||""),ac=U('<input class="svelte-krv4jy"/>');function Ir(e,t){V(t,!0);let n=oe(t,"value",15,"");var r=ac();r.__input=[rc,t],he(()=>Te(r,"placeholder",t.placeholder)),Xr("focus",r,function(...o){t.onFocus?.apply(this,o)}),Ai(r,n),_(e,r),K()}Xe(["input"]);function Vo(e,t){V(t,!0),me(()=>{const n=r=>{r.target&&t.dialog?.open&&t.dialogInner&&t.dialogInner!==r.target&&!t.dialogInner.contains(r.target)&&t.onClose()};return document.addEventListener("mousedown",n,{capture:!0}),()=>{document.removeEventListener("mousedown",n,{capture:!0})}}),K()}var oc=U('<dialog><div class="dialogInner svelte-1wekt4o"><!></div></dialog> <!>',1);function Ko(e,t){V(t,!0);let n=B(null),r=B(null),o=B(!1),{showDialog:a,hideDialog:s}=Vn();const l=()=>{const d=setTimeout(()=>{t.onClosed()},150);i(n)?.addEventListener("transitionend",()=>{clearTimeout(d),t.onClosed()},{once:!0}),E(o,!1)};Me(()=>{t.startClose&&l()}),me(()=>{i(n)?.showModal(),i(n)?.getClientRects(),E(o,!0)}),me(()=>(a(),()=>{s()}));var c=oc(),u=M(c),f=N(u),v=N(f);te(v,()=>t.children),st(f,d=>E(r,d),()=>i(r)),st(u,d=>E(n,d),()=>i(n));var g=F(u,2);{var h=d=>{Vo(d,{get dialog(){return i(n)},get dialogInner(){return i(r)},onClose:l})};j(g,d=>{i(n)&&i(r)&&d(h)})}he(()=>le(u,1,ie(["dialog",{shown:i(o)}]),"svelte-1wekt4o")),_(e,c),K()}var sc=U("<div><!></div>");function Wo(e,t){V(t,!0);let n=B(!1),r=B(null);const o=()=>{const u=setTimeout(()=>{t.onClosed()},150);i(r)?.addEventListener("transitionend",()=>{clearTimeout(u),t.onClosed()},{once:!0}),E(n,!1)},a=u=>{u.target!==i(r)&&!i(r)?.contains(u.target)&&o()},s=u=>{u.target!==i(r)&&!i(r)?.contains(u.target)&&o()};me(()=>{i(r)?.getClientRects(),E(n,!0);const u=setTimeout(()=>{document.addEventListener("focusin",a),document.addEventListener("click",s)},0);return()=>{clearTimeout(u),document.removeEventListener("focusin",a),document.removeEventListener("click",s)}}),Me(()=>{t.startClose&&o()});var l=sc(),c=N(l);te(c,()=>t.children),st(l,u=>E(r,u),()=>i(r)),he(()=>le(l,1,ie(["menu",{top:t.positionTop,shown:i(n)}]),"svelte-vbw57a")),_(e,l),K()}const ic=(e,t)=>{i(t)||E(t,!0)};var lc=(e,t)=>t("newest"),cc=(e,t)=>t("oldest"),uc=(e,t)=>t("AtoZ"),dc=(e,t)=>t("ZtoA"),fc=U("<div><button>Newest</button> <button>Oldest</button> <button>A to Z</button> <button>Z to A</button></div>"),vc=U('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),gc=U('<div class="orderMenu svelte-110m8z1"><button><!> <!></button> <!></div>');function hc(e,t){V(t,!0);const n=(y,b=ce)=>{var A=fc(),T=N(A);T.__click=[lc,f];var m=F(T,2);m.__click=[cc,f];var k=F(m,2);k.__click=[uc,f];var x=F(k,2);x.__click=[dc,f],he(()=>{le(A,1,ie(["menu",{menuDialog:b()}]),"svelte-110m8z1"),le(T,1,ie(["menuButton",{menuButtonDialog:b(),current:i(u)==="newest"}]),"svelte-110m8z1"),le(m,1,ie(["menuButton",{menuButtonDialog:b(),current:i(u)==="oldest"}]),"svelte-110m8z1"),le(k,1,ie(["menuButton",{menuButtonDialog:b(),current:i(u)==="AtoZ"}]),"svelte-110m8z1"),le(x,1,ie(["menuButton",{menuButtonDialog:b(),current:i(u)==="ZtoA"}]),"svelte-110m8z1")}),_(y,A)};let r=B(!1),o=B(!1);const{checkMobileSize:a}=kn(),{getFeedOrder:s,setFeedOrder:l}=Ho();let c=R(a),u=R(s);const f=y=>{E(o,!0),l(y)},v=()=>{E(r,!1),E(o,!1)};var g=gc(),h=N(g);h.__click=[ic,r],le(h,1,ie(["button","buttonMenu"]),"svelte-110m8z1");var d=N(h);De(d,{name:"filter"});var p=F(d,2);at(p,{children:(y,b)=>{var A=Fe("show feed order menu");_(y,A)}});var w=F(h,2);{var S=y=>{var b=O(),A=M(b);{var T=k=>{Ko(k,{get startClose(){return i(o)},onClosed:v,children:(x,I)=>{n(x,()=>!0)},$$slots:{default:!0}})},m=k=>{var x=vc(),I=M(x);Ce(I,()=>({"--right":"20px","--top":"60px"})),Wo(I.lastChild,{get startClose(){return i(o)},onClosed:v,children:(D,P)=>{n(D,()=>!1)},$$slots:{default:!0}}),_(k,x)};j(A,k=>{i(c)?k(T):k(m,!1)})}_(y,b)};j(w,y=>{i(r)&&y(S)})}_(e,g),K()}Xe(["click"]);var H=(e=>(e.NewNote="newNote",e.EditNote="editNote",e.Settings="settings",e.ImportData="importData",e.ExportData="exportData",e.ClearStore="clearStore",e.Account="account",e.Sync="sync",e.Start="start",e.Auth="auth",e.Signin="signin",e.Signup="signup",e.AccessKeys="accessKeys",e.ConfirmAccessKey="confirmAccessKey",e.Subscription="subscription",e.Exit="exit",e.NotFound="notFound",e.About="about",e))(H||{}),pc=U('<div class="header svelte-a73915"><div class="top svelte-a73915"><div class="menu svelte-a73915"><a class="link svelte-a73915"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Settings</span></a> <a class="link svelte-a73915"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Sync</span></a></div> <div class="mobile svelte-a73915"><!></div> <a class="buttonAdd svelte-a73915"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Note</span></a></div> <div class="bottom svelte-a73915"><div><div class="sidebarSearchWrapper"><!></div></div> <div class="right svelte-a73915"><div class="filter svelte-a73915"><div class="feedSearchWrapper svelte-a73915"><!></div> <!></div></div></div></div>');function _c(e,t){V(t,!0);const{createHandlePage:n,getPageUrl:r}=ht(),o=Bo(),{setFeedSearch:a}=ra(),{getScrollContainer:s}=Qr();let l=R(s);const c=()=>{i(l)&&i(l).scrollTo({top:0,behavior:"smooth"})},u=Y=>{a(Y)};var f=pc(),v=N(f),g=N(v),h=N(g),d=R(()=>n(H.Settings));h.__click=function(...Y){i(d)?.apply(this,Y)};var p=N(h);Ce(p,()=>({"--rotate":"30deg","--size":"20px"})),De(p.lastChild,{name:"settings"});var w=F(h,2),S=R(()=>n(H.Sync));w.__click=function(...Y){i(S)?.apply(this,Y)};var y=N(w);Ce(y,()=>({"--size":"20px"})),De(y.lastChild,{name:"sync"});var b=F(g,2),A=N(b);qo(A,{});var T=F(b,2),m=R(()=>n(H.NewNote));T.__click=function(...Y){i(m)?.apply(this,Y)};var k=N(T);Ce(k,()=>({"--size":"16px","--color":"#b0b0b0"})),De(k.lastChild,{name:"plus"});var x=F(v,2),I=N(x);le(I,1,ie(["left"]),"svelte-a73915");var D=N(I),P=N(D);Ir(P,{placeholder:"Search tag",get value(){return o.tagSearch},set value(Y){o.tagSearch=Y}});var C=F(I,2),L=N(C),z=N(L),G=N(z);Ir(G,{onFocus:c,onChange:u,placeholder:"Search",get value(){return o.feedSearch}});var ne=F(z,2);hc(ne,{}),he((Y,se,W)=>{Te(h,"href",Y),Te(w,"href",se),Te(T,"href",W)},[()=>r(H.Settings),()=>r(H.Sync),()=>r(H.NewNote)]),_(e,f),K()}Xe(["click"]);function mc(e,t){V(t,!0);const{getIsKeyboardVisible:n}=xl();let r=oe(t,"dialog",7);const o=R(n),a=qn();let s=null;const l=()=>{t.dialogState==="swiping"&&t.onClose()};Me(()=>(t.dialogState==="swiping"&&(s=setTimeout(l,3e3)),()=>{s&&(clearTimeout(s),s=null)}));let c=null,u=null;const f=3,v=50,g=5,h=.6,d=.3,p=.35,w=.95;let S=0,y=0,b=0,A=!1,T=!1,m=0,k=0,x=0;const I=()=>{S=0,y=0,A=!1,T=!1,m=0,k=0,x=0,b=0,c=null,u!==null&&(cancelAnimationFrame(u),u=null),s&&(clearTimeout(s),s=null)},D=W=>{r()&&t.dialogState==="opened"&&(S=W.touches[0].clientX,y=W.touches[0].clientY,b=performance.now(),A=!0,T=!1)},P=W=>t.dialogState==="opened"&&W>0||t.dialogState==="swiping"&&W>0,C=()=>{if(r()){r().style.setProperty("--transition-timing","0s"),t.onSwipe(),navigator.vibrate&&navigator.vibrate(10);try{const W=window.getComputedStyle(r()),re=W.transform||W.webkitTransform||"";if(k=r().offsetWidth,(t.dialogState==="swiping"||t.dialogState==="opened")&&(m=0),re&&re!=="none")try{m=new DOMMatrix(re).m41}catch{}T=!0}catch{I()}}},L=()=>{if(!r())return;const re=Math.abs(m+x*k/100)/k;r().style.setProperty("--backdrop-bg",`rgba(0, 0, 0, ${.1*(1-re)})`)},z=()=>{if(u=null,!c||!A||!r()||i(o)){I();return}const W=c.touches[0].clientX,re=c.touches[0].clientY,ee=W-S,ue=re-y,X=Math.abs(ee)>Math.abs(ue),Z=Math.abs(ee)>f;if(!T)if(X&&Z&&P(ee))try{C()}catch{I();return}else return;if(!P(ee))return;r().style.setProperty("--transition-timing","0s");let ge=m+ee*w;ge=Math.max(0,Math.min(k,ge)),r().style.transform=`translate3d(${ge}px, 0, 0)`,a.swipingRatio=Math.abs(1-ge/k),x=(ge-m)/k*100,t.dialogState==="swiping"&&(s&&clearTimeout(s),s=setTimeout(l,3e3)),L()},G=W=>{if(!A)return;c=W,u===null&&(u=requestAnimationFrame(z));const re=W.touches[0].clientX-S,ee=W.touches[0].clientY-y,ue=Math.abs(re)>Math.abs(ee);T&&ue&&W.preventDefault()},ne=W=>{const re=Math.abs(W);if(re>=h)return g;if(re>=d){const ee=(re-d)/(h-d);return v-ee*(v-g)}else return v},Y=(W,re)=>{if(Math.abs(W)>=h)return p*.5;const ue=Math.abs(x)/100;return re?p*Math.max(.5,1-ue):p*Math.max(.5,ue)},se=W=>{if(u!==null&&(cancelAnimationFrame(u),u=null),!A||!r()){I();return}if(!T){I();return}let re=0;if(W?.changedTouches?.[0]){const ge=W.changedTouches[0].clientX,we=performance.now()-b;we>0&&(re=(ge-S)/we)}const ee=ne(re);let ue=null;t.dialogState==="swiping"&&(ue=Math.abs(x)>ee||re<-d?"close":"open");const X=t.dialogState==="swiping"&&ue==="close",Z=Y(re,X);a.duration=Z-.02,r().style.setProperty("--transition-timing",`${Z}s`),r().offsetWidth,r().style.transform="",ue==="open"?t.onOpen():ue==="close"&&t.onClose(),r()?.style.removeProperty("--backdrop-bg"),I()};me(()=>(r().addEventListener("touchstart",D,{passive:!0}),r().addEventListener("touchmove",G,{passive:!1}),r().addEventListener("touchend",se,{passive:!0}),r().addEventListener("touchcancel",se,{passive:!0}),()=>{r().removeEventListener("touchstart",D),r().removeEventListener("touchmove",G),r().removeEventListener("touchend",se),r().removeEventListener("touchcancel",se),u!==null&&cancelAnimationFrame(u)})),K()}var wc=(e,t)=>{t.onStartClose()},yc=U('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),Sc=U('<dialog><div class="dialogInner svelte-14atrge"><div class="header svelte-14atrge"><div><!></div></div> <!></div></dialog> <!>',1);function bc(e,t){V(t,!0);let n=350;const{isScrolling:r,enable:o}=yo();let a=B(null),s=B(null);const l=qn(),c=m=>{m.preventDefault(),t.onStartClose()};me(()=>(i(a)?.addEventListener("close",t.onClosed),i(a)?.addEventListener("cancel",c),()=>{i(a)?.removeEventListener("close",t.onClosed),i(a)?.removeEventListener("cancel",c)}));const u=()=>{i(a)?.style.removeProperty("--transition-timing"),i(a)?.style.removeProperty("transform"),i(a)?.style.removeProperty("--backdrop-bg")},f=()=>{o()},v=R(r);Me(()=>{if(t.dialogState,!!i(a))switch(t.dialogState){case"opening":{i(a).open||i(a).showModal(),i(a).getBoundingClientRect();const m=setTimeout(()=>{u()},n+1),k=()=>{clearTimeout(m),u()};return i(a)?.addEventListener("transitionend",k,{once:!0}),t.onOpened(),()=>{i(a)?.removeEventListener("transitionend",k)}}case"closing":{const m=setTimeout(()=>{t.dialogState==="closing"&&t.onClosed()},n+1),k=()=>{clearTimeout(m),t.onClosed()};return i(a)?.addEventListener("transitionend",k,{once:!0}),()=>{i(a)?.removeEventListener("transitionend",k)}}case"opened":u()}});var g=Sc(),h=M(g),d=N(h),p=N(d),w=N(p),S=N(w);{var y=m=>{var k=yc();le(k,1,ie(["navigateButton","buttonBack"]),"svelte-14atrge"),k.__click=[wc,t];var x=N(k);Ce(x,()=>({"--size":"36px"})),De(x.lastChild,{name:"back"});var I=F(x,2);at(I,{children:(D,P)=>{var C=Fe("back");_(D,C)}}),_(m,k)};j(S,m=>{(!(t.blocked||t.hidden)||t.blocked&&t.unBlockedBack)&&m(y)})}var b=F(p,2);te(b,()=>t.children),st(d,m=>E(s,m),()=>i(s)),st(h,m=>E(a,m),()=>i(a));var A=F(h,2);{var T=m=>{mc(m,{get onClose(){return t.onStartClose},get onOpen(){return t.onStartOpen},get onSwipe(){return t.onSwipe},get dialogState(){return t.dialogState},get dialog(){return i(a)}})};j(A,m=>{(!i(v)&&t.dialogState==="opened"||t.dialogState==="swiping")&&(!t.blocked||t.unBlockedBack)&&m(T)})}he(()=>le(h,1,ie([{open:t.dialogState==="opened",hidden:t.hidden,isAnimationOn:l.working&&(!l.isSwiping||!t.hidden)},{hidden:t.hidden}]),"svelte-14atrge")),Xr("scroll",d,f),_(e,g),K()}Xe(["click"]);const ka=(e,t)=>{if(!t)return e;if(t.type==="closed")return{type:"closed"};switch(e.type){case"opened":return t.type==="close"?{type:"closing"}:t.type==="swipe"?{type:"swiping"}:e;case"closed":return t.type==="open"?{type:"opening"}:e;case"swiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"opening":return t.type==="opened"?{type:"opened"}:e;default:return e}};function kc(e,t){V(t,!0);let n=oe(t,"blocked",3,!1),r=oe(t,"hiddenDialog",3,!1),o=oe(t,"unBlockedBack",3,!1),a=oe(t,"onStartClose",3,()=>{}),s=oe(t,"onClose",3,()=>{});const l=qn();let c=B(Le(ka({type:"closed"})));const u=b=>{E(c,ka(i(c),b),!0)},f=()=>{n()&&!o()||(a()(),u({type:"close"}))},v=()=>{u({type:"open"})},g=()=>{u({type:"opened"}),l.duration=.2},h=()=>{s()(),u({type:"closed"}),l.swipingRatio=1,l.duration=.2},d=()=>{u({type:"swipe"})};Me(()=>{i(c).type==="swiping"?l.isSwiping=!0:l.isSwiping=!1,i(c).type==="closed"&&t.shownDialog?v():i(c).type==="opened"&&!t.shownDialog&&f()});var p={handleComputeState:u},w=O(),S=M(w);{var y=b=>{bc(b,{onSwipe:d,onOpened:g,onClosed:h,onStartClose:f,onStartOpen:v,get dialogState(){return i(c).type},get hidden(){return r()},get blocked(){return n()},get unBlockedBack(){return o()},children:(A,T)=>{var m=O(),k=M(m);te(k,()=>t.children),_(A,m)},$$slots:{default:!0}})};j(S,b=>{i(c).type!=="closed"&&b(y)})}return _(e,w),K(p)}const Cc=({getDialog:e,onOpen:t,onStartClose:n,onClose:r})=>{const o=s=>{s.preventDefault(),n()},a=()=>{r?.()};me(()=>{const s=e();return s?.addEventListener("cancel",o),s?.addEventListener("close",a),()=>{s?.removeEventListener("cancel",o),s?.removeEventListener("close",a)}}),me(()=>{const s=e();s?.showModal(),s?.getBoundingClientRect(),t()})};var Ec=(e,t)=>{t.onStartBack()},Pc=U('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),xc=(e,t)=>{t.onStartClose()},Dc=U('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),Nc=U('<dialog><div class="dialogInner svelte-rm8syc"><div class="header svelte-rm8syc"><div><!></div> <div><!></div></div> <!></div></dialog> <!>',1);function Ac(e,t){V(t,!0);let n=oe(t,"blockedDialog",3,!1),r=oe(t,"hiddenDialog",3,!1),o=oe(t,"isDesktopAnimationOff",3,!1),a=B(null),s=B(null);Cc({getDialog:()=>i(a),onOpen:t.onOpen,onStartClose:t.onStartClose,onClose:t.onClose});const l=qn();Me(()=>{t.stateDialog==="closing"&&(l.working?i(a)?.addEventListener("transitionend",()=>{i(a)?.close()},{once:!0}):i(a)?.close())});const{getDialogPageHeight:c}=$r(),u=R(c);var f=Nc(),v=M(f),g=N(v),h=N(g),d=N(h),p=N(d);{var w=m=>{var k=Pc();le(k,1,ie(["navigateButton","buttonBack"]),"svelte-rm8syc"),k.__click=[Ec,t];var x=N(k);Ce(x,()=>({"--size":"28px"})),De(x.lastChild,{name:"back"});var I=F(x,2);at(I,{children:(D,P)=>{var C=Fe("back");_(D,C)}}),_(m,k)};j(p,m=>{(!(n()||r())||n()&&t.unBlockedBack)&&t.onStartBack&&m(w)})}var S=F(d,2),y=N(S);{var b=m=>{var k=Dc();le(k,1,ie(["navigateButton","buttonClose"]),"svelte-rm8syc"),k.__click=[xc,t];var x=N(k);Ce(x,()=>({"--size":"28px"})),De(x.lastChild,{name:"close"});var I=F(x,2);at(I,{children:(D,P)=>{var C=Fe("close");_(D,C)}}),_(m,k)};j(y,m=>{n()||r()||m(b)})}var A=F(h,2);te(A,()=>t.children),st(g,m=>E(s,m),()=>i(s)),st(v,m=>E(a,m),()=>i(a));var T=F(v,2);Vo(T,{get dialog(){return i(a)},get dialogInner(){return i(s)},get onClose(){return t.onStartClose}}),he(()=>{Mn(v,`height: ${i(u)+74}px`),le(v,1,ie([{open:t.stateDialog==="open",isAnimationOn:l.working,isDesktopAnimationOff:o(),hiddenDialog:r()}]),"svelte-rm8syc")}),_(e,f),K()}Xe(["click"]);const Tc=({onStartClose:e,onClose:t})=>{let n=B("close");return{get state(){return i(n)},set state(s){E(n,s,!0)},handleStartClose:(s=!1)=>{s||(E(n,"closing"),e?.())},handleOpen:()=>{E(n,"open")},handleClose:()=>{E(n,"close"),t?.()}}};function Lc(e,t){V(t,!0);let n=oe(t,"blockedDialog",3,!1),r=oe(t,"hiddenDialog",3,!1),o=oe(t,"onStartClose",3,()=>{}),a=oe(t,"onClose",3,()=>{}),s=Tc({onStartClose:o(),onClose:a()});Me(()=>{s.state==="close"&&t.shownDialog?s.state="opening":s.state==="open"&&!t.shownDialog&&s.handleStartClose(n())});const l=v=>{v.key==="Escape"&&(document.activeElement instanceof HTMLInputElement&&document.activeElement.type==="text"||document.activeElement instanceof HTMLTextAreaElement||n())&&(v.preventDefault(),v.stopPropagation())};me(()=>(document.addEventListener("keydown",l),()=>{document.removeEventListener("keydown",l)}));var c=O(),u=M(c);{var f=v=>{Ac(v,{get stateDialog(){return s.state},get blockedDialog(){return n()},get unBlockedBack(){return t.unBlockedBack},get hiddenDialog(){return r()},get onOpen(){return s.handleOpen},get onStartBack(){return t.onStartBack},onStartClose:()=>{s.handleStartClose(n())},get onClose(){return s.handleClose},children:(g,h)=>{var d=O(),p=M(d);te(p,()=>t.children),_(g,d)},$$slots:{default:!0}})};j(u,v=>{s.state!=="close"&&v(f)})}_(e,c),K()}function Mc(e,t){V(t,!0);let n=oe(t,"blockedDialog",3,!1),r=oe(t,"hiddenDialog",3,!1),o=oe(t,"isLastDialog",3,!1),a=oe(t,"onStartClose",3,()=>{}),s=oe(t,"onClose",3,()=>{});const l=R(()=>o()?void 0:t.onStartBack),{showDialog:c,hideDialog:u}=Vn();me(()=>(c(),()=>{u()}));const{checkMobileSize:f}=kn();var v=O(),g=M(v);{var h=p=>{kc(p,{get shownDialog(){return t.shownDialog},get blocked(){return n()},get unBlockedBack(){return t.unBlockedBack},get hiddenDialog(){return r()},get children(){return t.children},get onStartClose(){return t.onStartBack},get onClose(){return s()}})},d=p=>{Lc(p,{get shownDialog(){return t.shownDialog},get blockedDialog(){return n()},get unBlockedBack(){return t.unBlockedBack},get hiddenDialog(){return r()},get children(){return t.children},get onStartBack(){return i(l)},get onStartClose(){return a()},get onClose(){return s()}})};j(g,p=>{f()?p(h):p(d,!1)})}_(e,v),K()}function Ca(e,t){V(t,!0);const{back:n,closeDialogStack:r}=it(),{popStackPages:o}=ht();let a=oe(t,"blocked",3,!1),s=oe(t,"isLastDialog",3,!1),l=oe(t,"onBack",3,()=>{});const{checkBlockedDialog:c,checkUnBlockedBackDialog:u}=Vn(),f=R(()=>a()||t.hidden||c()),v=R(()=>u()&&!s());Mc(e,{get shownDialog(){return t.shown},get blockedDialog(){return i(f)},get unBlockedBack(){return i(v)},get hiddenDialog(){return t.hidden},get isLastDialog(){return s()},onStartBack:()=>{(!i(f)||i(f)&&i(v))&&t.shown&&(n(),l()())},onStartClose:()=>{(!i(f)||i(f)&&i(v))&&t.shown&&r()},onClose:()=>{o()},children:(p,w)=>{var S=O(),y=M(S);te(y,()=>t.children),_(p,S)},$$slots:{default:!0}}),K()}const Oc="modulepreload",Rc=function(e){return"/"+e},Ea={},Ae=function(t,n,r){let o=Promise.resolve();if(n&&n.length>0){let c=function(u){return Promise.all(u.map(f=>Promise.resolve(f).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),l=s?.nonce||s?.getAttribute("nonce");o=c(n.map(u=>{if(u=Rc(u),u in Ea)return;Ea[u]=!0;const f=u.endsWith(".css"),v=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${v}`))return;const g=document.createElement("link");if(g.rel=f?"stylesheet":Oc,f||(g.as="script"),g.crossOrigin="",g.href=u,l&&g.setAttribute("nonce",l),document.head.appendChild(g),f)return new Promise((h,d)=>{g.addEventListener("load",h),g.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${u}`)))})}))}function a(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return o.then(s=>{for(const l of s||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})};var Ic=U('<button> <svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></button>');function sn(e,t){let n=R(()=>t.style==="selected"?"45deg":"0deg");var r=Ic();r.__click=function(...s){t.onClick?.apply(this,s)};var o=N(r),a=F(o);Ce(a,()=>({"--size":t.size==="small"?"10px":"12px","--rotate":i(n)})),De(a.lastChild,{name:"plus"}),he(()=>{Te(r,"type",t.type),le(r,1,ie([{selectedTag:t.style==="selected",small:t.size==="small"}]),"svelte-15zw27r"),Ln(o,`${t.title??""} `)}),_(e,r)}Xe(["click"]);var Bc=U("<div></div>"),Fc=U('<div class="sidebarFixed svelte-rnyoa6"><div class="nav svelte-rnyoa6"><!> <div class="menu svelte-rnyoa6"><a class="link svelte-rnyoa6"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a> <a class="link svelte-rnyoa6"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a></div></div> <div class="searchWrapper svelte-rnyoa6"><!></div> <!></div> <div><!> <!></div>',1),jc=U("<div></div>"),Hc=U('<div class="sidebar svelte-rnyoa6"><div class="sidebarFixed svelte-rnyoa6"><!></div> <div class="tags svelte-rnyoa6"><!> <!></div></div>');function Uc(e,t){V(t,!0);const{checkMobileSize:n}=kn(),{getRelatedTags:r}=ea(),{isReadyStore:o}=Xt(),{getAppHistory:a,navigate:s}=it(),{getPageUrl:l,createHandlePage:c,getStackPagesFormUrl:u}=ht(),f=Bo(),v=R(a);let g=B(null),h=R(()=>new URLSearchParams(i(v).search).get("selectedTags")?.split(",")||[]),d=null;function p(){return d||(d=Ae(()=>import("./MobileSidebar-cHVwB8IU.js"),__vite__mapDeps([0,1]))),d}const w=C=>{const L=new URLSearchParams(i(v).search);L.set("selectedTags",[...i(h),C].join(",")),s(`${i(v).pathname}${L.size>0?`?${L.toString()}`:""}`),f.tagSearch=""},S=C=>{const L=new URLSearchParams(i(v).search),z=i(h).filter(G=>G!==C);z.length===0?L.delete("selectedTags"):L.set("selectedTags",z.join(",")),s(`${i(v).pathname}${L.size>0?`?${L.toString()}`:""}`)};let y=R(r),b=R(()=>o()?Object.values(i(y)).filter(C=>!i(h).some(L=>C.name===L)&&C.name!=="inbox").sort((C,L)=>C.name.localeCompare(L.name)):[]),A=R(()=>i(y).inbox&&i(h).includes("inbox")===!1?i(y).inbox:null),T=R(n);me(()=>{i(T)&&p()});const{checkExistedDialog:m}=Vn();let k=R(()=>u().length>0||m());var x=O(),I=M(x);{var D=C=>{var L=O(),z=M(L);vo(z,p,null,(G,ne)=>{const Y=R(()=>i(ne).default);var se=O(),W=M(se);po(W,()=>i(Y),(re,ee)=>{ee(re,{get blocked(){return i(k)},children:(ue,X)=>{var Z=Fc(),ge=M(Z),Ne=N(ge),we=N(Ne);qo(we,{});var Q=F(we,2),ye=N(Q),pt=R(()=>c(H.Settings));ye.__click=function(...de){i(pt)?.apply(this,de)};var _t=N(ye);Ce(_t,()=>({"--size":"24px"})),De(_t.lastChild,{name:"settings"});var Lt=F(_t,2);at(Lt,{children:(de,He)=>{var Ue=Fe("Settings");_(de,Ue)}});var Se=F(ye,2),Oe=R(()=>c(H.Sync));Se.__click=function(...de){i(Oe)?.apply(this,de)};var Ke=N(Se);Ce(Ke,()=>({"--size":"24px"})),De(Ke.lastChild,{name:"sync"});var We=F(Ke,2);at(We,{children:(de,He)=>{var Ue=Fe("Sync");_(de,Ue)}});var yt=F(Ne,2),be=N(yt);Ir(be,{placeholder:"Search tag",get value(){return f.tagSearch},set value(de){f.tagSearch=de}});var je=F(yt,2);{var Zt=de=>{var He=Bc();le(He,1,ie(["tags","selectedTags"]),"svelte-rnyoa6"),ln(He,20,()=>i(h),Ue=>Ue,(Ue,nt)=>{sn(Ue,{get title(){return nt},onClick:()=>S(nt),style:"selected"})}),st(He,Ue=>E(g,Ue),()=>i(g)),_(de,He)};j(je,de=>{i(h).length>0&&de(Zt)})}var Kn=F(ge,2);le(Kn,1,ie(["tags","tagsWrapper"]),"svelte-rnyoa6");var Wn=N(Kn);{var St=de=>{sn(de,{get title(){return i(A).name},onClick:()=>w(i(A).name)})};j(Wn,de=>{i(A)&&de(St)})}var Jt=F(Wn,2);ln(Jt,17,()=>i(b),de=>de.name,(de,He)=>{var Ue=O(),nt=M(Ue);{var Qt=$t=>{sn($t,{get title(){return i(He).name},onClick:()=>w(i(He).name)})};j(nt,$t=>{(f.tagSearch===""||i(He).name.toLowerCase().indexOf(f.tagSearch.toLowerCase())!==-1)&&$t(Qt)})}_(de,Ue)}),he((de,He)=>{Te(ye,"href",de),Te(Se,"href",He)},[()=>l(H.Settings),()=>l(H.Sync)]),_(ue,Z)},$$slots:{default:!0}})}),_(G,se)}),_(C,L)},P=C=>{var L=Hc(),z=N(L),G=N(z);{var ne=ee=>{var ue=jc();le(ue,1,ie(["tags","selectedTags"]),"svelte-rnyoa6"),ln(ue,20,()=>i(h),X=>X,(X,Z)=>{sn(X,{get title(){return Z},onClick:()=>S(Z),style:"selected"})}),_(ee,ue)};j(G,ee=>{i(h).length>0&&ee(ne)})}var Y=F(z,2),se=N(Y);{var W=ee=>{sn(ee,{get title(){return i(A).name},onClick:()=>w(i(A).name)})};j(se,ee=>{i(A)&&ee(W)})}var re=F(se,2);ln(re,17,()=>i(b),ee=>ee.name,(ee,ue)=>{var X=O(),Z=M(X);{var ge=Ne=>{sn(Ne,{get title(){return i(ue).name},onClick:()=>w(i(ue).name)})};j(Z,Ne=>{(f.tagSearch===""||i(ue).name.toLowerCase().indexOf(f.tagSearch.toLowerCase())!==-1)&&Ne(ge)})}_(ee,X)}),_(C,L)};j(I,C=>{i(T)?C(D):C(P,!1)})}_(e,x),K()}Xe(["click"]);const zc=(e,t,n)=>{E(t,!0),E(n,!0)},qc=(e,t,n,r)=>{t(n.note.id,!n.note.pinned),_r(n.note.pinned?"Note unpinned":"Note pinned"),E(r,!0)},Vc=(e,t,n)=>{navigator.clipboard.writeText(t.note.url),_r("Link copied"),E(n,!0)};var Kc=U("<div><button>Copy link</button></div>"),Wc=U('<div class="menu svelte-xxw0l"><!> <div><button> </button></div> <div><button>Delete</button></div></div>'),Gc=U('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1);function Yc(e,t){V(t,!0);const n=(T,m=ce)=>{var k=Wc(),x=N(k);{var I=G=>{var ne=Kc(),Y=N(ne);Y.__click=[Vc,t,v],he(()=>le(Y,1,ie(["button",{buttonMenuDialog:m()}]),"svelte-xxw0l")),_(G,ne)};j(x,G=>{m()&&t.note.url&&G(I)})}var D=F(x,2),P=N(D);P.__click=[qc,l,t,v];var C=N(P),L=F(D,2),z=N(L);z.__click=[zc,g,v],he(()=>{le(P,1,ie(["button",{buttonMenuDialog:m()}]),"svelte-xxw0l"),Ln(C,t.note.pinned?"Unpin":"Pin"),le(z,1,ie(["button",{buttonMenuDialog:m()}]),"svelte-xxw0l")}),_(T,k)},{getRelatedTags:r}=ea(),{getAppHistory:o,replace:a}=it(),{deleteNote:s,pinNote:l,setDeleting:c}=Ro();let u=R(o),f=oe(t,"shownMenu",15),v=B(!1),g=B(!1);const{checkMobileSize:h}=kn();let d=R(h),p=R(()=>new URLSearchParams(i(u).search).get("selectedTags")?.split(",")||[]);const w=async()=>{const T=r();c(t.note.id,!0);let m=!1;_r("Note deleted",{onCancel:()=>{m=!0,c(t.note.id,!1)},onFinish:()=>{m||(t.note.tags.forEach(k=>{if(i(p).includes(k)&&T[k].connections===1){const x=new URLSearchParams(i(u).search),I=i(p).filter(D=>D!==k);I.length===0?x.delete("selectedTags"):x.set("selectedTags",I.join(",")),a(`${i(u).pathname}${x.size>0?`?${x.toString()}`:""}`)}}),s(t.note.id))}})},S=()=>{i(g)&&w(),f(!1),E(v,!1)};var y=O(),b=M(y);{var A=T=>{var m=O(),k=M(m);{var x=D=>{Ko(D,{get startClose(){return i(v)},onClosed:S,children:(P,C)=>{n(P,()=>!0)},$$slots:{default:!0}})},I=D=>{var P=Gc(),C=M(P);Ce(C,()=>({"--bottom":"-90px","--right":"20px"})),Wo(C.lastChild,{get startClose(){return i(v)},get positionTop(){return t.showMenuUp},onClosed:S,children:(L,z)=>{n(L,()=>!1)},$$slots:{default:!0}}),_(D,P)};j(k,D=>{i(d)?D(x):D(I,!1)})}_(T,m)};j(b,T=>{f()&&T(A)})}_(e,y),K()}Xe(["click"]);const Xc=(e,t)=>{E(t,!0)},Zc=(e,t,n)=>{navigator.clipboard.writeText(t.note.url),_r("Link copied"),E(n,!1)},Jc=(e,t)=>{E(t,!0)},Qc=(e,t)=>{E(t,!1)},$c=(e,t,n,r)=>{e.preventDefault(),t(`${H.EditNote}?id=${n.note.id}`),E(r,!1)};var eu=U('<div class="iconPlaceholder svelte-qwgtkc"></div>'),tu=U('<img loading="lazy" class="noteIcon" height="16" width="16" alt=""/>'),nu=U('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),ru=U('<div class="noteIconWrapper svelte-qwgtkc"><!></div>'),au=U('<button class="button svelte-qwgtkc"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),ou=(e,t)=>{E(t,!1)},su=U('<!> <a target="_blank" rel="noopener noreferrer" class="button openLink svelte-qwgtkc"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a>',1),iu=U('<li><!> <a class="noteLink svelte-qwgtkc" target="_blank" rel="noopener noreferrer"> </a> <div><!> <button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button></div> <!></li>');function lu(e,t){V(t,!0);const{pushStackPages:n}=ht(),{faviconEnabled:r}=Xt();let o=B(!1),a=B(!1),s=B(!1),l=R(r);const{checkMobileSize:c}=kn(),u=m=>{try{return`https://icons.duckduckgo.com/ip3/${new URL(m).host}.ico`}catch{return""}};var f=iu();f.__focusin=[Jc,a],f.__focusout=[Qc,a];var v=N(f);{var g=m=>{var k=ru(),x=N(k);{var I=P=>{var C=O(),L=M(C);{var z=ne=>{var Y=eu();_(ne,Y)},G=ne=>{var Y=tu();he(se=>Te(Y,"src",se),[()=>u(t.note.url)]),Xr("error",Y,()=>{E(s,!0)}),_(ne,Y)};j(L,ne=>{i(s)?ne(z):ne(G,!1)})}_(P,C)},D=P=>{var C=nu(),L=M(C);Ce(L,()=>({"--size":"16px"})),De(L.lastChild,{name:"note"}),_(P,C)};j(x,P=>{t.note.url?P(I):P(D,!1)})}_(m,k)};j(v,m=>{i(l)&&m(g)})}var h=F(v,2);h.__click=[$c,n,t,a];var d=N(h),p=F(h,2),w=N(p);{var S=m=>{var k=su(),x=M(k);{var I=L=>{var z=au();z.__click=[Zc,t,a];var G=N(z);Ce(G,()=>({"--size":"20px"})),De(G.lastChild,{name:"copy"});var ne=F(G,2);at(ne,{children:(Y,se)=>{var W=Fe("copy link");_(Y,W)}}),he(()=>Te(z,"tabindex",t.focusHidden?-1:0)),_(L,z)};j(x,L=>{c()||L(I)})}var D=F(x,2);D.__click=[ou,a];var P=N(D);Ce(P,()=>({"--size":"18px"})),De(P.lastChild,{name:"open"});var C=F(P,2);at(C,{children:(L,z)=>{var G=Fe();he(()=>Ln(G,t.note.name)),_(L,G)}}),he(()=>{Te(D,"href",t.note.url),Te(D,"tabindex",t.focusHidden?-1:0)}),_(m,k)};j(w,m=>{t.note.url&&m(S)})}var y=F(w,2);y.__click=[Xc,o],le(y,1,ie(["button","buttonMenu"]),"svelte-qwgtkc");var b=N(y);Ce(b,()=>({"--size":"18px","--rotate":"90deg"})),De(b.lastChild,{name:"menu"});var A=F(b,2);at(A,{children:(m,k)=>{var x=Fe("show menu");_(m,x)}});var T=F(p,2);Yc(T,{get note(){return t.note},get showMenuUp(){return t.showMenuUp},get shownMenu(){return i(o)},set shownMenu(m){E(o,m,!0)}}),he(m=>{le(f,1,ie(["record",{pinned:t.note.pinned}]),"svelte-qwgtkc"),Te(h,"tabindex",t.focusHidden?-1:0),Te(h,"href",m),Ln(d,t.note.name),le(p,1,ie(["noteMenuWrapper",{noteMenuWrapperActive:i(a)}]),"svelte-qwgtkc"),Te(y,"tabindex",t.focusHidden?-1:0)},[()=>`/?stackPages=${encodeURIComponent(`${H.EditNote}?id=${t.note.id}`)}`]),_(e,f),K()}Xe(["focusin","focusout","click"]);var cu=U('<div><!> <div class="loader svelte-1wuuvr"></div></div>');function Go(e,t){V(t,!0);let n=B(!1);me(()=>{const a=setTimeout(()=>{E(n,!0)},200);return()=>{clearTimeout(a)}});var r=cu(),o=N(r);te(o,()=>t.children??ce),he(()=>le(r,1,ie(["block",{shown:i(n)}]),"svelte-1wuuvr")),_(e,r),K()}var uu=U("<a><!></a>"),du=U("<button><!></button>");function wn(e,t){let n=oe(t,"type",3,"standard"),r=oe(t,"typeButton",3,"button"),o=oe(t,"element",3,"button"),a=oe(t,"href",3,""),s=oe(t,"fullWidth",3,!1),l=oe(t,"withoutMinWidth",3,!1);var c=O(),u=M(c);{var f=g=>{var h=uu();h.__click=function(...p){t.onClick?.apply(this,p)};var d=N(h);te(d,()=>t.children??ce),he(()=>{Te(h,"href",a()),le(h,1,ie(["button","a",{dangerous:n()==="dangerous",secondary:n()==="secondary",fullWidth:s(),withoutMinWidth:l()}]),"svelte-194r7qo")}),_(g,h)},v=g=>{var h=du();h.__click=function(...p){t.onClick?.apply(this,p)};var d=N(h);te(d,()=>t.children??ce),he(()=>{Te(h,"type",r()),le(h,1,ie(["button",{dangerous:n()==="dangerous",secondary:n()==="secondary",fullWidth:s(),withoutMinWidth:l()}]),"svelte-194r7qo")}),_(g,h)};j(u,g=>{o()==="a"?g(f):g(v,!1)})}_(e,c)}Xe(["click"]);var fu=U('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Add note</span>',1),vu=U('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span style="padding-left: 6px;">Import data</span>',1),gu=U('<div class="emptyStore svelte-1h4bvw7"><p class="message">No notes found</p> <div class="wrapperButtonsAdd svelte-1h4bvw7"><!></div> <div>or</div> <div class="wrapperButtonsAdd svelte-1h4bvw7"><!></div></div>'),hu=U('<div class="emptyMessage svelte-1h4bvw7">No notes found</div>'),pu=U('<div class="feed svelte-1h4bvw7"><ul class="svelte-1h4bvw7"></ul></div>'),_u=U('<div class="wrapperFeed svelte-1h4bvw7"><div class="wrapperContainer svelte-1h4bvw7"><!></div></div>');function mu(e,t){V(t,!0);const{setRelatedTags:n}=ea(),{getScrollContainer:r}=Qr(),{createHandlePage:o,getPageUrl:a}=ht(),{getSelectedTags:s}=Kl(),{getFeedOrder:l}=Ho(),{getFeedSearch:c}=ra(),{getGetNotes:u,isReadyStore:f}=Xt();let v=54,g=B(0),h=B(0),d=B(0),p=R(c),w=B(0),S=[],y=B(0),b=R(r),A=null,T=null;const m=R(s);Me(()=>{i(p),i(m),i(D),i(b)?.scrollTo(0,0)});const{enable:k}=yo(),x=()=>{k(),A||(A=requestAnimationFrame(()=>{const X=i(b)?.scrollTop||0;E(d,X,!0);const Z=Math.ceil(i(g)/v);E(h,Math.floor(X/(v*Z))*(v*Z)),A=null}))},I=()=>{T||(T=requestAnimationFrame(()=>{E(g,window.innerHeight-180||0,!0);const X=i(b)?.scrollTop||0;E(d,X,!0);const Z=Math.ceil(i(g)/v);E(h,Math.floor(X/(v*Z))*(v*Z)),T=null}))};me(()=>{I(),x()}),Me(()=>(i(b)?.addEventListener("scroll",x),window.addEventListener("resize",I),()=>{i(b)?.removeEventListener("scroll",x),window.removeEventListener("resize",I)}));const D=R(l);let P=B(""),C=R(u);Me(()=>{i(D);const X=i(C)()||[];Vt(()=>i(P))!==i(D)&&Vt(()=>E(P,i(D),!0)),X.sort((we,Q)=>{if(!we||!Q)return 0;if(we.pinned&&!Q.pinned)return 1;if(!we.pinned&&Q.pinned)return-1;switch(i(D)){case"newest":return we.updatedAt<Q.updatedAt?-1:1;case"oldest":return we.updatedAt>Q.updatedAt?-1:1;case"AtoZ":return Q.name.localeCompare(we.name);case"ZtoA":return we.name.localeCompare(Q.name);default:return 0}});const ge=[],Ne={};for(let we=X.length-1;we>=0;we--){const Q=X[we];if(Q&&!(i(m).length&&i(m).some(ye=>!Q.tags.includes(ye)))&&!Q.deleting&&!(i(p)&&!(Q.name.toLowerCase().includes(i(p).toLowerCase())||Q.url.toLowerCase().includes(i(p).toLowerCase())||Q.text.toLowerCase().includes(i(p).toLowerCase())))){if(Q.tags)for(const ye of Q.tags)Ne[ye]?Ne[ye].connections++:Ne[ye]={name:ye,connections:1};ge.push(Q)}}n(Ne),E(w,ge.length,!0),S=ge,E(y,Date.now(),!0)});const L=R(()=>i(w)*v);let G=R(()=>{i(y);const X=Math.ceil(i(g)/v);let Z=Math.floor(i(h)/v);return Z=Z-Math.min(Z,X),S.slice(Z,Z+X*3)}),ne=R(()=>v*Math.ceil(i(g)/v));const Y=R(()=>i(h)-Math.min(i(h),i(ne)));var se=_u(),W=N(se),re=N(W);{var ee=X=>{Go(X,{})},ue=X=>{var Z=O(),ge=M(Z);{var Ne=Q=>{var ye=gu(),pt=F(N(ye),2),_t=N(pt);{let Oe=R(()=>a(H.NewNote)),Ke=R(()=>o(H.NewNote));wn(_t,{element:"a",get href(){return i(Oe)},get onClick(){return i(Ke)},children:(We,yt)=>{var be=fu(),je=M(be);Ce(je,()=>({"--size":"18px","--color":"#b0b0b0"})),De(je.lastChild,{name:"plus"}),_(We,be)},$$slots:{default:!0}})}var Lt=F(pt,4),Se=N(Lt);{let Oe=R(()=>a(H.ImportData)),Ke=R(()=>o(H.ImportData));wn(Se,{element:"a",get href(){return i(Oe)},get onClick(){return i(Ke)},children:(We,yt)=>{var be=vu(),je=M(be);Ce(je,()=>({"--size":"18px","--color":"#b0b0b0"})),De(je.lastChild,{name:"import"}),_(We,be)},$$slots:{default:!0}})}_(Q,ye)},we=Q=>{var ye=O(),pt=M(ye);{var _t=Se=>{var Oe=hu();_(Se,Oe)},Lt=Se=>{var Oe=pu(),Ke=N(Oe);ln(Ke,23,()=>i(G),We=>We.id,(We,yt,be)=>{{let je=R(()=>i(be)*v<i(d)-i(Y)-v/2||i(be)*v>i(d)-i(Y)+Math.floor(i(g)/v)*v),Zt=R(()=>(i(be)+3)*v<i(d)-i(Y)-v/2||(i(be)+3)*v>i(d)-i(Y)+Math.floor(i(g)/v)*v);lu(We,{get focusHidden(){return i(je)},get showMenuUp(){return i(Zt)},get note(){return i(yt)}})}}),he(We=>{Mn(Oe,`min-height: ${We??""}px`),Mn(Ke,`transform: translateY(${i(Y)??""}px);`)},[()=>Math.max((i(L)>i(g),i(L)),0)]),_(Se,Oe)};j(pt,Se=>{i(G).length===0?Se(_t):Se(Lt,!1)},!0)}_(Q,ye)};j(ge,Q=>{(i(C)()||[]).length===0?Q(Ne):Q(we,!1)},!0)}_(X,Z)};j(re,X=>{f()?X(ue,!1):X(ee)})}_(e,se),K()}var wu=U('<!> <div class="content svelte-cu0ar8"><!></div>',1);function yu(e){var t=wu(),n=M(t);Uc(n,{});var r=F(n,2),o=N(r);mu(o,{}),_(e,t)}var Su=U('<div class="content svelte-9hh95f"><p class="message svelte-9hh95f">use app</p> <div class="buttonContainer svelte-9hh95f"><div class="buttonContainerItem svelte-9hh95f"><!></div> <div class="buttonContainerItem svelte-9hh95f"><!></div></div></div>');function bu(e,t){V(t,!0);const{blockDialog:n}=Vn(),{pushStackPages:r}=ht(),{closeDialogStack:o}=it(),{initLocalAccount:a}=Ro();let s=B("idle");const l=()=>{E(s,"loading"),r(H.Auth)},c=async()=>{E(s,"loading"),await a(),n(!1),o()};Me(()=>{n(i(s)==="idle"||i(s)==="loading")}),me(()=>(n(!0),()=>{n(!1)}));var u=Su(),f=F(N(u),2),v=N(f),g=N(v);wn(g,{onClick:l,fullWidth:!0,children:(p,w)=>{var S=Fe("cloud account");_(p,S)},$$slots:{default:!0}});var h=F(v,2),d=N(h);wn(d,{onClick:c,fullWidth:!0,type:"secondary",children:(p,w)=>{var S=Fe("local account");_(p,S)},$$slots:{default:!0}}),_(e,u),K()}var ku=U('<div class="svelte-frpywy"><!></div>');function xe(e,t){V(t,!0);const{setDialogPageHeight:n}=$r();let r=B(null);me(()=>{i(r)&&(i(r).getBoundingClientRect(),i(r).style.opacity="1");const s=new ResizeObserver(l=>{for(let c of l){const u=c.contentRect.height;n(u)}});if(i(r))return s.observe(i(r)),()=>{i(r)&&s.unobserve(i(r)),s.disconnect()}});var o=ku(),a=N(o);te(a,()=>t.children),st(o,s=>E(r,s),()=>i(r)),_(e,o),K()}var Cu=U('<div class="svelte-ndasxn"><p class="svelte-ndasxn">Page not found</p> <!></div>');function Eu(e,t){V(t,!1);const{navigate:n}=it(),r=s=>{s.preventDefault(),n("/")};Jr();var o=Cu(),a=F(N(o),2);wn(a,{element:"a",href:"/",onClick:r,children:(s,l)=>{var c=Fe("close");_(s,c)},$$slots:{default:!0}}),_(e,o),K()}var Pu=U('<div class="svelte-1tpcci8"><p class="svelte-1tpcci8">Something went wrong. Please reload the page</p> <!></div>');function xu(e){var t=Pu(),n=F(N(t),2);wn(n,{onClick:()=>location.reload(),children:(r,o)=>{var a=Fe("Reload");_(r,a)},$$slots:{default:!0}}),_(e,t)}var Du=U('<div class="svelte-uzefkz"><!></div>');function Nu(e,t){V(t,!0);const{getDialogPageHeight:n}=$r(),r=R(n);var o=Du(),a=N(o);Go(a,{}),he(()=>Mn(o,`min-height: ${i(r)??""}px;`)),_(e,o),K()}function Re(e,t){V(t,!0);const n={},r=Object.assign({"./Pages/About.svelte":()=>Ae(()=>import("./About-DRrnCLDm.js"),__vite__mapDeps([2,3])),"./Pages/AccessKeys.svelte":()=>Ae(()=>import("./AccessKeys-DH7YLAxx.js"),__vite__mapDeps([4,5,6])),"./Pages/Account.svelte":()=>Ae(()=>import("./Account-C9fx59GD.js"),__vite__mapDeps([7,8])),"./Pages/Auth.svelte":()=>Ae(()=>import("./Auth-DKHO3qQ6.js"),__vite__mapDeps([9,10])),"./Pages/ClearStore.svelte":()=>Ae(()=>import("./ClearStore-DjZ5yFvb.js"),__vite__mapDeps([11,12])),"./Pages/ConfirmAccessKey.svelte":()=>Ae(()=>import("./ConfirmAccessKey-DqsgACM0.js"),__vite__mapDeps([13,5,14,15,16])),"./Pages/EditNote.svelte":()=>Ae(()=>import("./EditNote-CvGGM-eG.js"),__vite__mapDeps([17,18,14,15,19])),"./Pages/Exit.svelte":()=>Ae(()=>import("./Exit-BUcA9dEI.js"),__vite__mapDeps([20,21])),"./Pages/ExportData.svelte":()=>Ae(()=>import("./ExportData-DPTSj4fq.js"),__vite__mapDeps([22,23])),"./Pages/ImportData.svelte":()=>Ae(()=>import("./ImportData-DLJUXNDZ.js"),__vite__mapDeps([24,25])),"./Pages/NewNote.svelte":()=>Ae(()=>import("./NewNote-CzKCjFO7.js"),__vite__mapDeps([26,18,14,15,19])),"./Pages/Settings.svelte":()=>Ae(()=>import("./Settings-bTX7xIVK.js"),__vite__mapDeps([27,28])),"./Pages/Signin.svelte":()=>Ae(()=>import("./Signin-D8npEnUx.js"),__vite__mapDeps([29,5,10])),"./Pages/Signup.svelte":()=>Ae(()=>import("./Signup-BRrZifg9.js"),__vite__mapDeps([30,5,10])),"./Pages/Subscription.svelte":()=>Ae(()=>import("./Subscription-DwPfAC8Q.js"),__vite__mapDeps([31,32])),"./Pages/Sync.svelte":()=>Ae(()=>import("./Sync-aagXbFup.js"),__vite__mapDeps([33,34]))}),o=async l=>{const c=`./Pages/${l[0].toUpperCase()+l.slice(1)}.svelte`;if(!n[l]){if(r[c]){const u=r[c]();return n[l]={promise:u},n[l].module=await u,n[l].module}throw new Error(`Page ${l} not found`)}return n[l].module||await n[l].promise};var a=O(),s=M(a);vo(s,()=>o(t.page),l=>{Nu(l,{})},(l,c)=>{const u=R(()=>i(c).default);var f=O(),v=M(f);po(v,()=>i(u),(g,h)=>{h(g,{get params(){return t.params},get hidden(){return t.hidden}})}),_(l,f)},l=>{xu(l)}),_(e,a),K()}const Pa=(e,t=ce,n=ce,r)=>{let o=fr(()=>vs(r?.(),!1));var a=O(),s=M(a);{var l=u=>{xe(u,{children:(f,v)=>{Re(f,{get hidden(){return i(o)},get page(){return H.Settings}})},$$slots:{default:!0}})},c=u=>{var f=O(),v=M(f);{var g=d=>{xe(d,{children:(p,w)=>{Re(p,{get hidden(){return i(o)},get page(){return H.NewNote}})},$$slots:{default:!0}})},h=d=>{var p=O(),w=M(p);{var S=b=>{xe(b,{children:(A,T)=>{Re(A,{get params(){return n()},get hidden(){return i(o)},get page(){return H.EditNote}})},$$slots:{default:!0}})},y=b=>{var A=O(),T=M(A);{var m=x=>{xe(x,{children:(I,D)=>{Re(I,{get hidden(){return i(o)},get page(){return H.ImportData}})},$$slots:{default:!0}})},k=x=>{var I=O(),D=M(I);{var P=L=>{xe(L,{children:(z,G)=>{Re(z,{get hidden(){return i(o)},get page(){return H.ExportData}})},$$slots:{default:!0}})},C=L=>{var z=O(),G=M(z);{var ne=se=>{xe(se,{children:(W,re)=>{Re(W,{get hidden(){return i(o)},get page(){return H.ClearStore}})},$$slots:{default:!0}})},Y=se=>{var W=O(),re=M(W);{var ee=X=>{xe(X,{children:(Z,ge)=>{bu(Z,{})},$$slots:{default:!0}})},ue=X=>{var Z=O(),ge=M(Z);{var Ne=Q=>{xe(Q,{children:(ye,pt)=>{Re(ye,{get hidden(){return i(o)},get page(){return H.Auth}})},$$slots:{default:!0}})},we=Q=>{var ye=O(),pt=M(ye);{var _t=Se=>{xe(Se,{children:(Oe,Ke)=>{Re(Oe,{get hidden(){return i(o)},get page(){return H.Signup}})},$$slots:{default:!0}})},Lt=Se=>{var Oe=O(),Ke=M(Oe);{var We=be=>{xe(be,{children:(je,Zt)=>{Re(je,{get hidden(){return i(o)},get page(){return H.Signin}})},$$slots:{default:!0}})},yt=be=>{var je=O(),Zt=M(je);{var Kn=St=>{xe(St,{children:(Jt,de)=>{Re(Jt,{get hidden(){return i(o)},get page(){return H.AccessKeys}})},$$slots:{default:!0}})},Wn=St=>{var Jt=O(),de=M(Jt);{var He=nt=>{xe(nt,{children:(Qt,$t)=>{Re(Qt,{get hidden(){return i(o)},get page(){return H.Account}})},$$slots:{default:!0}})},Ue=nt=>{var Qt=O(),$t=M(Qt);{var Yo=en=>{xe(en,{children:(Gn,aa)=>{Re(Gn,{get hidden(){return i(o)},get page(){return H.ConfirmAccessKey}})},$$slots:{default:!0}})},Xo=en=>{var Gn=O(),aa=M(Gn);{var Zo=tn=>{xe(tn,{children:(Yn,oa)=>{Re(Yn,{get hidden(){return i(o)},get page(){return H.Exit}})},$$slots:{default:!0}})},Jo=tn=>{var Yn=O(),oa=M(Yn);{var Qo=nn=>{xe(nn,{children:(Xn,sa)=>{Re(Xn,{get hidden(){return i(o)},get page(){return H.Sync}})},$$slots:{default:!0}})},$o=nn=>{var Xn=O(),sa=M(Xn);{var es=rn=>{xe(rn,{children:(Zn,ia)=>{Re(Zn,{get hidden(){return i(o)},get page(){return H.Subscription}})},$$slots:{default:!0}})},ts=rn=>{var Zn=O(),ia=M(Zn);{var ns=an=>{xe(an,{children:(mr,as)=>{Re(mr,{get hidden(){return i(o)},get page(){return H.About}})},$$slots:{default:!0}})},rs=an=>{xe(an,{children:(mr,as)=>{Eu(mr,{})},$$slots:{default:!0}})};j(ia,an=>{t()===H.About?an(ns):an(rs,!1)},!0)}_(rn,Zn)};j(sa,rn=>{t()===H.Subscription?rn(es):rn(ts,!1)},!0)}_(nn,Xn)};j(oa,nn=>{t()===H.Sync?nn(Qo):nn($o,!1)},!0)}_(tn,Yn)};j(aa,tn=>{t()===H.Exit?tn(Zo):tn(Jo,!1)},!0)}_(en,Gn)};j($t,en=>{t()===H.ConfirmAccessKey?en(Yo):en(Xo,!1)},!0)}_(nt,Qt)};j(de,nt=>{t()===H.Account?nt(He):nt(Ue,!1)},!0)}_(St,Jt)};j(Zt,St=>{t()===H.AccessKeys?St(Kn):St(Wn,!1)},!0)}_(be,je)};j(Ke,be=>{t()===H.Signin?be(We):be(yt,!1)},!0)}_(Se,Oe)};j(pt,Se=>{t()===H.Signup?Se(_t):Se(Lt,!1)},!0)}_(Q,ye)};j(ge,Q=>{t()===H.Auth?Q(Ne):Q(we,!1)},!0)}_(X,Z)};j(re,X=>{t()===H.Start?X(ee):X(ue,!1)},!0)}_(se,W)};j(G,se=>{t()===H.ClearStore?se(ne):se(Y,!1)},!0)}_(L,z)};j(D,L=>{t()===H.ExportData?L(P):L(C,!1)},!0)}_(x,I)};j(T,x=>{t()===H.ImportData?x(m):x(k,!1)},!0)}_(b,A)};j(w,b=>{t()===H.EditNote?b(S):b(y,!1)},!0)}_(d,p)};j(v,d=>{t()===H.NewNote?d(g):d(h,!1)},!0)}_(u,f)};j(s,u=>{t()===H.Settings?u(l):u(c,!1)})}_(e,a)};var Au=U("<!> <!>",1);function Tu(e,t){V(t,!0);const{isReadyStore:n}=Xt(),{getStackPages:r,popStackPages:o}=ht();let a=R(r),s=R(n);const{checkMobileSize:l}=kn();var c=Au(),u=M(c);{var f=d=>{yu(d)};j(u,d=>{i(s)&&d(f)})}var v=F(u,2);{var g=d=>{var p=O(),w=M(p);ln(w,19,()=>i(a),S=>S.page,(S,y,b)=>{const A=R(()=>i(y).page.split("?")[1]),T=R(()=>i(y).page.split("?")[0]);{let m=R(()=>i(b)!==i(a).length-1&&!!i(a)[i(b)+1]?.shown),k=R(()=>i(b)===0);Ca(S,{get shown(){return i(y).shown},get hidden(){return i(m)},get isLastDialog(){return i(k)},children:(x,I)=>{{let D=R(()=>i(b)!==i(a).length-1&&!!i(a)[i(b)+1]?.shown);Pa(x,()=>i(T),()=>i(A),()=>i(D))}},$$slots:{default:!0}})}}),_(d,p)},h=d=>{var p=O(),w=M(p);{var S=y=>{const b=R(()=>i(a)[i(a).length-1].page.split("?")[1]),A=R(()=>i(a)[i(a).length-1].page.split("?")[0]);{let T=R(()=>i(a).length===1);Ca(y,{onBack:()=>o(),get shown(){return i(a)[i(a).length-1].shown},hidden:!1,get isLastDialog(){return i(T)},children:(m,k)=>{Pa(m,()=>i(A),()=>i(b))},$$slots:{default:!0}})}};j(w,y=>{i(a).length>0&&y(S)},!0)}_(d,p)};j(v,d=>{l()?d(g):d(h,!1)})}_(e,c),K()}function Lu(e,t){V(t,!1);let n=0;me(()=>{document.addEventListener("touchstart",r=>{n=r.touches[0].clientX},{passive:!1}),document.addEventListener("touchmove",r=>{const a=r.touches[0].clientX-n;(n<50&&a>0||n>window.innerWidth-50&&a<0)&&r.preventDefault()},{passive:!1}),document.addEventListener("touchend",()=>{n=0}),document.addEventListener("touchcancel",()=>{n=0})}),Jr(),K()}const Mu=(e,t)=>{i(t)&&i(t).scrollTo({top:0})};var Ou=U('<div class="wrapperButtonTop svelte-w3nmci"><button class="buttonTop svelte-w3nmci"><!> <span class="icon svelte-w3nmci"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></span></button></div>'),Ru=U('<!> <!> <main><div class="wrapperHeader svelte-w3nmci"><!></div> <div class="container svelte-w3nmci"><!></div></main> <!>',1);function Iu(e,t){V(t,!0);const{setScrollContainer:n}=Qr(),{getAccount:r}=Xt(),{getStackPagesFormUrl:o}=ht(),a=qn();me(async()=>{await new Promise(x=>setTimeout(x,100)),await lo(),a.working=!0});let s=B(!1),l=0,c=R(()=>o().length>0),u=R(r),f=B(null);Me(()=>{n(i(f))});const v=()=>{if(i(f)){const x=i(f).scrollTop||0;x===0?E(s,!1):!i(s)&&l>x?E(s,!0):i(s)&&l+50<x&&E(s,!1),l=x}},g=()=>{v()};Me(()=>(i(f)?.addEventListener("scroll",g),window.addEventListener("resize",g),()=>{i(f)?.removeEventListener("scroll",g),window.removeEventListener("resize",g)}));var h=Ru(),d=M(h);Lu(d,{});var p=F(d,2);Ql(p,{});var w=F(p,2),S=N(w),y=N(S);{var b=x=>{_c(x,{})};j(y,x=>{i(u)!==void 0&&x(b)})}var A=F(S,2),T=N(A);Tu(T,{}),st(w,x=>E(f,x),()=>i(f));var m=F(w,2);{var k=x=>{var I=Ou(),D=N(I);D.__click=[Mu,f];var P=N(D);at(P,{children:(z,G)=>{var ne=Fe("top");_(z,ne)}});var C=F(P,2),L=N(C);Ce(L,()=>({"--rotate":"90deg","--size":"28px"})),De(L.lastChild,{name:"back"}),_(x,I)};j(m,x=>{i(s)&&x(k)})}he(()=>{Mn(w,`--swiping-ratio: ${a.swipingRatio}; --transition-timing-default: ${a.duration}s;`),le(w,1,ie(["main",{isAnimationOn:a.working&&!a.isSwiping,open:i(c)}]),"svelte-w3nmci")}),_(e,h),K()}Xe(["click"]);function Bu(e){Gl(e,{children:(t,n)=>{Iu(t,{})}})}window.addEventListener("unhandledrejection",e=>{alert("Error: "+e.reason.message)});window.isUnsupportedBrowser||wi(Bu,{target:document.getElementById("app")});export{qn as $,it as A,wn as B,Ro as C,Xr as D,Wu as E,qu as F,Vu as G,Jr as H,De as I,Hu as J,oe as K,Go as L,le as M,ie as N,Te as O,H as P,Uu as Q,zu as R,Mn as S,Qi as T,kn as U,at as V,st as W,sn as X,Ai as Y,xl as Z,zl as _,Ce as a,yo as a0,te as a1,Vo as a2,_ as b,N as c,Vn as d,B as e,U as f,ht as g,Le as h,i,E as j,j as k,K as l,O as m,M as n,me as o,V as p,Xe as q,ln as r,F as s,he as t,Me as u,Ln as v,Fe as w,Ku as x,R as y,Xt as z};
