import{p as N,C as x,H as h,h as A,m as b,n as v,k as y,b as C,l as S,i as _,y as k}from"./index-D3sDlWLV.js";import{N as D}from"./NoteForm-l_1esU3e.js";import"./Input-Cv9ybiUC.js";function B(n,r){N(r,!0);const{updateNote:i,getNoteById:o}=x(),{getDraft:d}=h();let t=A((()=>{const e=new URLSearchParams(r.params).get("id");return e&&o(e)||null})()),s=k(()=>t?d(t.id):void 0);const u=({name:e,url:l,text:f,tags:p})=>{t&&i({...t,name:e,url:l,text:f,tags:p.map(c=>c.trim())})};var a=b(),g=v(a);{var m=e=>{D(e,{get initialName(){return t.name},get initialUrl(){return t.url},get initialText(){return t.text},get initialTags(){return t.tags},get createdAt(){return t.createdAt},get updatedAt(){return t.updatedAt},get noteId(){return t.id},get draft(){return _(s)},onSubmit:u,mode:"edit"})};y(g,e=>{t&&e(m)})}C(n,a),S()}export{B as default};
