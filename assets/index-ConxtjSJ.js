const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/MobileSidebar-JoCU7I0h.js","assets/MobileSidebar-CUCj13hK.css","assets/About-DIO1cUln.js","assets/About-DhrgDPiX.css","assets/AccessKeys-DHycABp2.js","assets/api-C5JaEwh0.js","assets/AccessKeys-DF5NA1tk.css","assets/Account-XX4KnUoH.js","assets/Account-LI89flHz.css","assets/ClearStore-DcyS858o.js","assets/ClearStore-DiVqV26R.css","assets/ConfirmAccessKey-BMc2qAlD.js","assets/Input-D4uvp8Yq.js","assets/Input-KO0oOGze.css","assets/ConfirmAccessKey-BEOXyioc.css","assets/EditNote-BycWwO4y.js","assets/NoteForm-CDcfSbwd.js","assets/NoteForm-BHc3yOF2.css","assets/Exit-DumhpXRG.js","assets/Exit-B7Im9AKN.css","assets/ExportData-B74QwHCb.js","assets/ExportData-Gq8zQKAw.css","assets/ImportData-ChRmRFKV.js","assets/ImportData-CZGzVRRc.css","assets/NewNote-CxhBRlc6.js","assets/Signin-DkOt46GW.js","assets/Signin-CnX7iJxK.css","assets/Signup-BgsKxdor.js","assets/Subscription-CO1FE56k.js","assets/Subscription-2ryrsj8c.css","assets/Sync-DYpcq8En.js","assets/Sync-DZBzq12x.css"])))=>i.map(i=>d[i]);
var Vo=Object.defineProperty;var Da=e=>{throw TypeError(e)};var Ko=(e,t,n)=>t in e?Vo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var En=(e,t,n)=>Ko(e,typeof t!="symbol"?t+"":t,n),kr=(e,t,n)=>t.has(e)||Da("Cannot "+n);var ne=(e,t,n)=>(kr(e,t,"read from private field"),n?n.call(e):t.get(e)),Ie=(e,t,n)=>t.has(e)?Da("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Ke=(e,t,n,r)=>(kr(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),At=(e,t,n)=>(kr(e,t,"access private method"),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(a){if(a.ep)return;a.ep=!0;const s=n(a);fetch(a.href,s)}})();const Za=!1;var Yr=Array.isArray,Wo=Array.prototype.indexOf,Gr=Array.from,Or=Object.defineProperty,cn=Object.getOwnPropertyDescriptor,Ja=Object.getOwnPropertyDescriptors,Yo=Object.prototype,Go=Array.prototype,Xr=Object.getPrototypeOf,Aa=Object.isExtensible;const Ge=()=>{};function Xo(e){return typeof e?.then=="function"}function Zo(e){return e()}function sr(e){for(var t=0;t<e.length;t++)e[t]()}function Jo(){var e,t,n=new Promise((r,a)=>{e=r,t=a});return{promise:n,resolve:e,reject:t}}function Qo(e,t,n=!1){return e===void 0?n?t():t:e}const Ue=2,Zr=4,dr=8,yn=16,gt=32,Ht=64,Qa=128,Ye=256,or=512,xe=1024,Xe=2048,xt=4096,et=8192,Vt=16384,Jr=32768,Bn=65536,Ta=1<<17,$o=1<<18,jn=1<<19,$a=1<<20,Mr=1<<21,Qr=1<<22,Mt=1<<23,It=Symbol("$state"),ei=Symbol("legacy props"),ti=Symbol(""),$r=new class extends Error{constructor(){super(...arguments);En(this,"name","StaleReactionError");En(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function ni(){throw new Error("https://svelte.dev/e/await_outside_boundary")}function es(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function ri(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function ai(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function si(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function oi(e){throw new Error("https://svelte.dev/e/effect_orphan")}function ii(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function li(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function ci(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function ui(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function di(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}const fr=1,vr=2,ts=4,fi=8,vi=16,hi=1,gi=2,pi=4,_i=8,mi=16,wi=1,yi=2,we=Symbol(),bi="http://www.w3.org/1999/xhtml";let Si=!1;function ns(e){return e===this.v}function ki(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function rs(e){return!ki(e,this.v)}let bn=!1,Ei=!1;function Ci(){bn=!0}let de=null;function pn(e){de=e}function ea(e){return as().get(e)}function ta(e,t){return as().set(e,t),t}function X(e,t=!1,n){de={p:de,c:null,e:null,s:e,x:null,l:bn&&!t?{s:null,u:null,$:[]}:null}}function Z(e){var t=de,n=t.e;if(n!==null){t.e=null;for(var r of n)ws(r)}return e!==void 0&&(t.x=e),de=t.p,e??{}}function Sn(){return!bn||de!==null&&de.l===null}function as(e){return de===null&&es(),de.c??(de.c=new Map(Pi(de)||void 0))}function Pi(e){let t=e.p;for(;t!==null;){const n=t.c;if(n!==null)return n;t=t.p}return null}const xi=new WeakMap;function Di(e){var t=te;if(t===null)return Q.f|=Mt,e;if((t.f&Jr)===0){if((t.f&Qa)===0)throw!t.parent&&e instanceof Error&&ss(e),e;t.b.error(e)}else na(e,t)}function na(e,t){for(;t!==null;){if((t.f&Qa)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e instanceof Error&&ss(e),e}function ss(e){const t=xi.get(e);t&&(Or(e,"message",{value:t.message}),Or(e,"stack",{value:t.stack}))}let xn=[],Ir=[];function os(){var e=xn;xn=[],sr(e)}function Ai(){var e=Ir;Ir=[],sr(e)}function hr(e){xn.length===0&&queueMicrotask(os),xn.push(e)}function Ti(){xn.length>0&&os(),Ir.length>0&&Ai()}function Ni(){const e=te.b;return e===null&&ni(),e}function zn(e){var t=Ue|Xe,n=Q!==null&&(Q.f&Ue)!==0?Q:null;return te===null||n!==null&&(n.f&Ye)!==0?t|=Ye:te.f|=jn,{ctx:de,deps:null,effects:null,equals:ns,f:t,fn:e,reactions:null,rv:0,v:we,wv:0,parent:n??te,ac:null}}function Li(e,t){let n=te;n===null&&ri();var r=n.b,a=void 0,s=Ut(we),i=null,l=!Q;return Wi(()=>{try{var c=e();i&&Promise.resolve(c).catch(()=>{})}catch(g){c=Promise.reject(g)}var u=()=>c;a=i?.then(u,u)??Promise.resolve(c),i=a;var d=ue,f=r.is_pending();l&&(r.update_pending_count(1),f||d.increment());const h=(g,v=void 0)=>{i=null,f||d.activate(),v?v!==$r&&(s.f|=Mt,St(s,v)):((s.f&Mt)!==0&&(s.f^=Mt),St(s,g)),l&&(r.update_pending_count(-1),f||d.decrement()),cs()};if(a.then(h,g=>h(null,g||"unknown")),d)return()=>{queueMicrotask(()=>d.neuter())}}),new Promise(c=>{function u(d){function f(){d===a?c(s):u(a)}d.then(f,f)}u(a)})}function M(e){const t=zn(e);return Cs(t),t}function gr(e){const t=zn(e);return t.equals=rs,t}function is(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)ct(t[n])}}function Oi(e){for(var t=e.parent;t!==null;){if((t.f&Ue)===0)return t;t=t.parent}return null}function ra(e){var t,n=te;ut(Oi(e));try{is(e),t=As(e)}finally{ut(n)}return t}function ls(e){var t=ra(e);if(e.equals(t)||(e.v=t,e.wv=xs()),!Wt){var n=(wt||(e.f&Ye)!==0)&&e.deps!==null?xt:xe;Be(e,n)}}function Mi(e,t,n){const r=Sn()?zn:gr;if(t.length===0){n(e.map(r));return}var a=ue,s=te,i=Ii(),l=Ni();Promise.all(t.map(c=>Li(c))).then(c=>{a?.activate(),i();try{n([...e.map(r),...c])}catch(u){(s.f&Vt)===0&&na(u,s)}a?.deactivate(),cs()}).catch(c=>{l.error(c)})}function Ii(){var e=te,t=Q,n=de,r=ue;return function(){ut(e),Ze(t),pn(n),r?.activate()}}function cs(){ut(null),Ze(null),pn(null)}const Er=new Set;let ue=null,tr=null,Na=new Set,ir=[];function us(){const e=ir.shift();ir.length>0&&queueMicrotask(us),e()}let Ft=[],pr=null,Rr=!1,nr=!1;var Ln,vn,_t,On,Mn,Lt,hn,Ot,mt,gn,In,Rn,nt,ds,rr,Br;const ur=class ur{constructor(){Ie(this,nt);En(this,"current",new Map);Ie(this,Ln,new Map);Ie(this,vn,new Set);Ie(this,_t,0);Ie(this,On,null);Ie(this,Mn,!1);Ie(this,Lt,[]);Ie(this,hn,[]);Ie(this,Ot,[]);Ie(this,mt,[]);Ie(this,gn,[]);Ie(this,In,[]);Ie(this,Rn,[]);En(this,"skipped_effects",new Set)}process(t){Ft=[],tr=null;for(const a of t)At(this,nt,ds).call(this,a);if(ne(this,Lt).length===0&&ne(this,_t)===0){At(this,nt,Br).call(this);var n=ne(this,Ot),r=ne(this,mt);Ke(this,Ot,[]),Ke(this,mt,[]),Ke(this,gn,[]),tr=ue,ue=null,La(n),La(r),ue===null?ue=this:Er.delete(this),ne(this,On)?.resolve()}else At(this,nt,rr).call(this,ne(this,Ot)),At(this,nt,rr).call(this,ne(this,mt)),At(this,nt,rr).call(this,ne(this,gn));for(const a of ne(this,Lt))fn(a);for(const a of ne(this,hn))fn(a);Ke(this,Lt,[]),Ke(this,hn,[])}capture(t,n){ne(this,Ln).has(t)||ne(this,Ln).set(t,n),this.current.set(t,t.v)}activate(){ue=this}deactivate(){ue=null,tr=null;for(const t of Na)if(Na.delete(t),t(),ue!==null)break}neuter(){Ke(this,Mn,!0)}flush(){Ft.length>0?vs():At(this,nt,Br).call(this),ue===this&&(ne(this,_t)===0&&Er.delete(this),this.deactivate())}increment(){Ke(this,_t,ne(this,_t)+1)}decrement(){if(Ke(this,_t,ne(this,_t)-1),ne(this,_t)===0){for(const t of ne(this,In))Be(t,Xe),_n(t);for(const t of ne(this,Rn))Be(t,xt),_n(t);Ke(this,Ot,[]),Ke(this,mt,[]),this.flush()}else this.deactivate()}add_callback(t){ne(this,vn).add(t)}settled(){return(ne(this,On)??Ke(this,On,Jo())).promise}static ensure(){if(ue===null){const t=ue=new ur;Er.add(ue),nr||ur.enqueue(()=>{ue===t&&t.flush()})}return ue}static enqueue(t){ir.length===0&&queueMicrotask(us),ir.unshift(t)}};Ln=new WeakMap,vn=new WeakMap,_t=new WeakMap,On=new WeakMap,Mn=new WeakMap,Lt=new WeakMap,hn=new WeakMap,Ot=new WeakMap,mt=new WeakMap,gn=new WeakMap,In=new WeakMap,Rn=new WeakMap,nt=new WeakSet,ds=function(t){t.f^=xe;for(var n=t.first;n!==null;){var r=n.f,a=(r&(gt|Ht))!==0,s=a&&(r&xe)!==0,i=s||(r&et)!==0||this.skipped_effects.has(n);if(!i&&n.fn!==null){if(a)n.f^=xe;else if((r&Zr)!==0)ne(this,mt).push(n);else if((r&xe)===0)if((r&Qr)!==0){var l=n.b?.is_pending()?ne(this,hn):ne(this,Lt);l.push(n)}else wr(n)&&((n.f&yn)!==0&&ne(this,gn).push(n),fn(n));var c=n.first;if(c!==null){n=c;continue}}var u=n.parent;for(n=n.next;n===null&&u!==null;)n=u.next,u=u.parent}},rr=function(t){for(const n of t)((n.f&Xe)!==0?ne(this,In):ne(this,Rn)).push(n),Be(n,xe);t.length=0},Br=function(){if(!ne(this,Mn))for(const t of ne(this,vn))t();ne(this,vn).clear()};let Dn=ur;function fs(e){var t=nr;nr=!0;try{for(var n;;){if(Ti(),Ft.length===0&&(ue?.flush(),Ft.length===0))return pr=null,n;vs()}}finally{nr=t}}function vs(){var e=dn;Rr=!0;try{var t=0;for(Ia(!0);Ft.length>0;){var n=Dn.ensure();if(t++>1e3){var r,a;Ri()}n.process(Ft),bt.clear()}}finally{Rr=!1,Ia(e),pr=null}}function Ri(){try{ii()}catch(e){na(e,pr)}}let Tt=null;function La(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if((r.f&(Vt|et))===0&&wr(r)&&(Tt=[],fn(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?Ss(r):r.fn=null),Tt?.length>0)){bt.clear();for(const a of Tt)fn(a);Tt=[]}}Tt=null}}function _n(e){for(var t=pr=e;t.parent!==null;){t=t.parent;var n=t.f;if(Rr&&t===te&&(n&yn)!==0)return;if((n&(Ht|gt))!==0){if((n&xe)===0)return;t.f^=xe}}Ft.push(t)}const bt=new Map;function Ut(e,t){var n={f:0,v:e,reactions:null,equals:ns,rv:0,wv:0};return n}function I(e,t){const n=Ut(e);return Cs(n),n}function jr(e,t=!1,n=!0){var a;const r=Ut(e);return t||(r.equals=rs),bn&&n&&de!==null&&de.l!==null&&((a=de.l).s??(a.s=[])).push(r),r}function P(e,t,n=!1){Q!==null&&(!ot||(Q.f&Ta)!==0)&&Sn()&&(Q.f&(Ue|yn|Qr|Ta))!==0&&!vt?.includes(e)&&di();let r=n?me(t):t;return St(e,r)}function St(e,t){if(!e.equals(t)){var n=e.v;Wt?bt.set(e,t):bt.set(e,n),e.v=t;var r=Dn.ensure();r.capture(e,n),(e.f&Ue)!==0&&((e.f&Xe)!==0&&ra(e),Be(e,(e.f&Ye)===0?xe:xt)),e.wv=xs(),hs(e,Xe),Sn()&&te!==null&&(te.f&xe)!==0&&(te.f&(gt|Ht))===0&&(We===null?Xi([e]):We.push(e))}return t}function Cr(e){P(e,e.v+1)}function hs(e,t){var n=e.reactions;if(n!==null)for(var r=Sn(),a=n.length,s=0;s<a;s++){var i=n[s],l=i.f;if(!(!r&&i===te)){var c=(l&Xe)===0;c&&Be(i,t),(l&Ue)!==0?hs(i,xt):c&&((l&yn)!==0&&Tt!==null&&Tt.push(i),_n(i))}}}function me(e){if(typeof e!="object"||e===null||It in e)return e;const t=Xr(e);if(t!==Yo&&t!==Go)return e;var n=new Map,r=Yr(e),a=I(0),s=Bt,i=l=>{if(Bt===s)return l();var c=Q,u=Bt;Ze(null),Ba(s);var d=l();return Ze(c),Ba(u),d};return r&&n.set("length",I(e.length)),new Proxy(e,{defineProperty(l,c,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&ci();var d=n.get(c);return d===void 0?d=i(()=>{var f=I(u.value);return n.set(c,f),f}):P(d,u.value,!0),!0},deleteProperty(l,c){var u=n.get(c);if(u===void 0){if(c in l){const d=i(()=>I(we));n.set(c,d),Cr(a)}}else P(u,we),Cr(a);return!0},get(l,c,u){if(c===It)return e;var d=n.get(c),f=c in l;if(d===void 0&&(!f||cn(l,c)?.writable)&&(d=i(()=>{var g=me(f?l[c]:we),v=I(g);return v}),n.set(c,d)),d!==void 0){var h=o(d);return h===we?void 0:h}return Reflect.get(l,c,u)},getOwnPropertyDescriptor(l,c){var u=Reflect.getOwnPropertyDescriptor(l,c);if(u&&"value"in u){var d=n.get(c);d&&(u.value=o(d))}else if(u===void 0){var f=n.get(c),h=f?.v;if(f!==void 0&&h!==we)return{enumerable:!0,configurable:!0,value:h,writable:!0}}return u},has(l,c){if(c===It)return!0;var u=n.get(c),d=u!==void 0&&u.v!==we||Reflect.has(l,c);if(u!==void 0||te!==null&&(!d||cn(l,c)?.writable)){u===void 0&&(u=i(()=>{var h=d?me(l[c]):we,g=I(h);return g}),n.set(c,u));var f=o(u);if(f===we)return!1}return d},set(l,c,u,d){var f=n.get(c),h=c in l;if(r&&c==="length")for(var g=u;g<f.v;g+=1){var v=n.get(g+"");v!==void 0?P(v,we):g in l&&(v=i(()=>I(we)),n.set(g+"",v))}if(f===void 0)(!h||cn(l,c)?.writable)&&(f=i(()=>I(void 0)),P(f,me(u)),n.set(c,f));else{h=f.v!==we;var y=i(()=>me(u));P(f,y)}var m=Reflect.getOwnPropertyDescriptor(l,c);if(m?.set&&m.set.call(d,u),!h){if(r&&typeof c=="string"){var E=n.get("length"),k=Number(c);Number.isInteger(k)&&k>=E.v&&P(E,k+1)}Cr(a)}return!0},ownKeys(l){o(a);var c=Reflect.ownKeys(l).filter(f=>{var h=n.get(f);return h===void 0||h.v!==we});for(var[u,d]of n)d.v!==we&&!(u in l)&&c.push(u);return c},setPrototypeOf(){ui()}})}var Oa,gs,ps,_s;function Bi(){if(Oa===void 0){Oa=window,gs=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;ps=cn(t,"firstChild").get,_s=cn(t,"nextSibling").get,Aa(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Aa(n)&&(n.__t=void 0)}}function Kt(e=""){return document.createTextNode(e)}function mn(e){return ps.call(e)}function _r(e){return _s.call(e)}function w(e,t){return mn(e)}function L(e,t){{var n=mn(e);return n instanceof Comment&&n.data===""?_r(n):n}}function D(e,t=1,n=!1){let r=e;for(;t--;)r=_r(r);return r}function ji(e){e.textContent=""}function aa(){return!1}let Ma=!1;function zi(){Ma||(Ma=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function mr(e){var t=Q,n=te;Ze(null),ut(null);try{return e()}finally{Ze(t),ut(n)}}function Fi(e,t,n,r=n){e.addEventListener(t,()=>mr(n));const a=e.__on_r;a?e.__on_r=()=>{a(),r(!0)}:e.__on_r=()=>r(!0),zi()}function ms(e){te===null&&Q===null&&oi(),Q!==null&&(Q.f&Ye)!==0&&te===null&&si(),Wt&&ai()}function Ui(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function dt(e,t,n,r=!0){var a=te;a!==null&&(a.f&et)!==0&&(e|=et);var s={ctx:de,deps:null,nodes_start:null,nodes_end:null,f:e|Xe,first:null,fn:t,last:null,next:null,parent:a,b:a&&a.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{fn(s),s.f|=Jr}catch(c){throw ct(s),c}else t!==null&&_n(s);if(r){var i=s;if(n&&i.deps===null&&i.teardown===null&&i.nodes_start===null&&i.first===i.last&&(i.f&jn)===0&&(i=i.first),i!==null&&(i.parent=a,a!==null&&Ui(i,a),Q!==null&&(Q.f&Ue)!==0&&(e&Ht)===0)){var l=Q;(l.effects??(l.effects=[])).push(i)}}return s}function qi(e){const t=dt(dr,null,!1);return Be(t,xe),t.teardown=e,t}function Ce(e){ms();var t=te.f,n=!Q&&(t&gt)!==0&&(t&Jr)===0;if(n){var r=de;(r.e??(r.e=[])).push(e)}else return ws(e)}function ws(e){return dt(Zr|$a,e,!1)}function Hi(e){return ms(),dt(dr|$a,e,!0)}function Vi(e){Dn.ensure();const t=dt(Ht|jn,e,!0);return(n={})=>new Promise(r=>{n.outro?Rt(t,()=>{ct(t),r(void 0)}):(ct(t),r(void 0))})}function Ki(e){return dt(Zr,e,!1)}function Wi(e){return dt(Qr|jn,e,!0)}function sa(e,t=0){return dt(dr|t,e,!0)}function ie(e,t=[],n=[]){Mi(t,n,r=>{dt(dr,()=>e(...r.map(o)),!0)})}function Fn(e,t=0){var n=dt(yn|t,e,!0);return n}function lt(e,t=!0){return dt(gt|jn,e,!0,t)}function ys(e){var t=e.teardown;if(t!==null){const n=Wt,r=Q;Ra(!0),Ze(null);try{t.call(null)}finally{Ra(n),Ze(r)}}}function bs(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const a=n.ac;a!==null&&mr(()=>{a.abort($r)});var r=n.next;(n.f&Ht)!==0?n.parent=null:ct(n,t),n=r}}function Yi(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&gt)===0&&ct(t),t=n}}function ct(e,t=!0){var n=!1;(t||(e.f&$o)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(Gi(e.nodes_start,e.nodes_end),n=!0),bs(e,t&&!n),lr(e,0),Be(e,Vt);var r=e.transitions;if(r!==null)for(const s of r)s.stop();ys(e);var a=e.parent;a!==null&&a.first!==null&&Ss(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function Gi(e,t){for(;e!==null;){var n=e===t?null:_r(e);e.remove(),e=n}}function Ss(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function Rt(e,t){var n=[];oa(e,n,!0),ks(n,()=>{ct(e),t&&t()})}function ks(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var a of e)a.out(r)}else t()}function oa(e,t,n){if((e.f&et)===0){if(e.f^=et,e.transitions!==null)for(const i of e.transitions)(i.is_global||n)&&t.push(i);for(var r=e.first;r!==null;){var a=r.next,s=(r.f&Bn)!==0||(r.f&gt)!==0;oa(r,t,s?n:!1),r=a}}}function un(e){Es(e,!0)}function Es(e,t){if((e.f&et)!==0){e.f^=et,(e.f&xe)===0&&(Be(e,Xe),_n(e));for(var n=e.first;n!==null;){var r=n.next,a=(n.f&Bn)!==0||(n.f&gt)!==0;Es(n,a?t:!1),n=r}if(e.transitions!==null)for(const s of e.transitions)(s.is_global||t)&&s.in()}}let dn=!1;function Ia(e){dn=e}let Wt=!1;function Ra(e){Wt=e}let Q=null,ot=!1;function Ze(e){Q=e}let te=null;function ut(e){te=e}let vt=null;function Cs(e){Q!==null&&(vt===null?vt=[e]:vt.push(e))}let Ae=null,Fe=0,We=null;function Xi(e){We=e}let Ps=1,An=0,Bt=An;function Ba(e){Bt=e}let wt=!1;function xs(){return++Ps}function wr(e){var t=e.f;if((t&Xe)!==0)return!0;if((t&xt)!==0){var n=e.deps,r=(t&Ye)!==0;if(n!==null){var a,s,i=(t&or)!==0,l=r&&te!==null&&!wt,c=n.length;if((i||l)&&(te===null||(te.f&Vt)===0)){var u=e,d=u.parent;for(a=0;a<c;a++)s=n[a],(i||!s?.reactions?.includes(u))&&(s.reactions??(s.reactions=[])).push(u);i&&(u.f^=or),l&&d!==null&&(d.f&Ye)===0&&(u.f^=Ye)}for(a=0;a<c;a++)if(s=n[a],wr(s)&&ls(s),s.wv>e.wv)return!0}(!r||te!==null&&!wt)&&Be(e,xe)}return!1}function Ds(e,t,n=!0){var r=e.reactions;if(r!==null&&!vt?.includes(e))for(var a=0;a<r.length;a++){var s=r[a];(s.f&Ue)!==0?Ds(s,t,!1):t===s&&(n?Be(s,Xe):(s.f&xe)!==0&&Be(s,xt),_n(s))}}function As(e){var y;var t=Ae,n=Fe,r=We,a=Q,s=wt,i=vt,l=de,c=ot,u=Bt,d=e.f;Ae=null,Fe=0,We=null,wt=(d&Ye)!==0&&(ot||!dn||Q===null),Q=(d&(gt|Ht))===0?e:null,vt=null,pn(e.ctx),ot=!1,Bt=++An,e.ac!==null&&(mr(()=>{e.ac.abort($r)}),e.ac=null);try{e.f|=Mr;var f=e.fn,h=f(),g=e.deps;if(Ae!==null){var v;if(lr(e,Fe),g!==null&&Fe>0)for(g.length=Fe+Ae.length,v=0;v<Ae.length;v++)g[Fe+v]=Ae[v];else e.deps=g=Ae;if(!wt||(d&Ue)!==0&&e.reactions!==null)for(v=Fe;v<g.length;v++)((y=g[v]).reactions??(y.reactions=[])).push(e)}else g!==null&&Fe<g.length&&(lr(e,Fe),g.length=Fe);if(Sn()&&We!==null&&!ot&&g!==null&&(e.f&(Ue|xt|Xe))===0)for(v=0;v<We.length;v++)Ds(We[v],e);return a!==null&&a!==e&&(An++,We!==null&&(r===null?r=We:r.push(...We))),(e.f&Mt)!==0&&(e.f^=Mt),h}catch(m){return Di(m)}finally{e.f^=Mr,Ae=t,Fe=n,We=r,Q=a,wt=s,vt=i,pn(l),ot=c,Bt=u}}function Zi(e,t){let n=t.reactions;if(n!==null){var r=Wo.call(n,e);if(r!==-1){var a=n.length-1;a===0?n=t.reactions=null:(n[r]=n[a],n.pop())}}n===null&&(t.f&Ue)!==0&&(Ae===null||!Ae.includes(t))&&(Be(t,xt),(t.f&(Ye|or))===0&&(t.f^=or),is(t),lr(t,0))}function lr(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)Zi(e,n[r])}function fn(e){var t=e.f;if((t&Vt)===0){Be(e,xe);var n=te,r=dn;te=e,dn=!0;try{(t&yn)!==0?Yi(e):bs(e),ys(e);var a=As(e);e.teardown=typeof a=="function"?a:null,e.wv=Ps;var s;Za&&Ei&&(e.f&Xe)!==0&&e.deps}finally{dn=r,te=n}}}async function Ts(){await Promise.resolve(),fs()}function o(e){var t=e.f,n=(t&Ue)!==0;if(Q!==null&&!ot){var r=te!==null&&(te.f&Vt)!==0;if(!r&&!vt?.includes(e)){var a=Q.deps;if((Q.f&Mr)!==0)e.rv<An&&(e.rv=An,Ae===null&&a!==null&&a[Fe]===e?Fe++:Ae===null?Ae=[e]:(!wt||!Ae.includes(e))&&Ae.push(e));else{(Q.deps??(Q.deps=[])).push(e);var s=e.reactions;s===null?e.reactions=[Q]:s.includes(Q)||s.push(Q)}}}else if(n&&e.deps===null&&e.effects===null){var i=e,l=i.parent;l!==null&&(l.f&Ye)===0&&(i.f^=Ye)}if(Wt){if(bt.has(e))return bt.get(e);if(n){i=e;var c=i.v;return((i.f&xe)===0&&i.reactions!==null||Ns(i))&&(c=ra(i)),bt.set(i,c),c}}else n&&(i=e,wr(i)&&ls(i));if((e.f&Mt)!==0)throw e.v;return e.v}function Ns(e){if(e.v===we)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(bt.has(t)||(t.f&Ue)!==0&&Ns(t))return!0;return!1}function qt(e){var t=ot;try{return ot=!0,e()}finally{ot=t}}const Ji=-7169;function Be(e,t){e.f=e.f&Ji|t}function Qi(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(It in e)zr(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&It in n&&zr(n)}}}function zr(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{zr(e[r],t)}catch{}const n=Xr(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=Ja(n);for(let a in r){const s=r[a].get;if(s)try{s.call(e)}catch{}}}}}const $i=["touchstart","touchmove"];function el(e){return $i.includes(e)}const Ls=new Set,Fr=new Set;function tl(e,t,n,r={}){function a(s){if(r.capture||Cn.call(t,s),!s.cancelBubble)return mr(()=>n?.call(this,s))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?hr(()=>{t.addEventListener(e,a,r)}):t.addEventListener(e,a,r),a}function ia(e,t,n,r,a){var s={capture:r,passive:a},i=tl(e,t,n,s);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&qi(()=>{t.removeEventListener(e,i,s)})}function Te(e){for(var t=0;t<e.length;t++)Ls.add(e[t]);for(var n of Fr)n(e)}let ja=null;function Cn(e){var t=this,n=t.ownerDocument,r=e.type,a=e.composedPath?.()||[],s=a[0]||e.target;ja=e;var i=0,l=ja===e&&e.__root;if(l){var c=a.indexOf(l);if(c!==-1&&(t===document||t===window)){e.__root=t;return}var u=a.indexOf(t);if(u===-1)return;c<=u&&(i=c)}if(s=a[i]||e.target,s!==t){Or(e,"currentTarget",{configurable:!0,get(){return s||n}});var d=Q,f=te;Ze(null),ut(null);try{for(var h,g=[];s!==null;){var v=s.assignedSlot||s.parentNode||s.host||null;try{var y=s["__"+r];if(y!=null&&(!s.disabled||e.target===s))if(Yr(y)){var[m,...E]=y;m.apply(s,[e,...E])}else y.call(s,e)}catch(k){h?g.push(k):h=k}if(e.cancelBubble||v===t||v===null)break;s=v}if(h){for(let k of g)queueMicrotask(()=>{throw k});throw h}}finally{e.__root=t,delete e.currentTarget,Ze(d),ut(f)}}}function Os(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function Tn(e,t){var n=te;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function R(e,t){var n=(t&wi)!==0,r=(t&yi)!==0,a,s=!e.startsWith("<!>");return()=>{a===void 0&&(a=Os(s?e:"<!>"+e),n||(a=mn(a)));var i=r||gs?document.importNode(a,!0):a.cloneNode(!0);if(n){var l=mn(i),c=i.lastChild;Tn(l,c)}else Tn(i,i);return i}}function nl(e,t,n="svg"){var r=!e.startsWith("<!>"),a=`<${n}>${r?e:"<!>"+e}</${n}>`,s;return()=>{if(!s){var i=Os(a),l=mn(i);s=mn(l)}var c=s.cloneNode(!0);return Tn(c,c),c}}function rl(e,t){return nl(e,t,"svg")}function Pe(e=""){{var t=Kt(e+"");return Tn(t,t),t}}function W(){var e=document.createDocumentFragment(),t=document.createComment(""),n=Kt();return e.append(t,n),Tn(t,n),e}function _(e,t){e!==null&&e.before(t)}function _d(){var e;return(e=window.__svelte??(window.__svelte={})).uid??(e.uid=1),`c${window.__svelte.uid++}`}function wn(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function al(e,t){return sl(e,t)}const an=new Map;function sl(e,{target:t,anchor:n,props:r={},events:a,context:s,intro:i=!0}){Bi();var l=new Set,c=f=>{for(var h=0;h<f.length;h++){var g=f[h];if(!l.has(g)){l.add(g);var v=el(g);t.addEventListener(g,Cn,{passive:v});var y=an.get(g);y===void 0?(document.addEventListener(g,Cn,{passive:v}),an.set(g,1)):an.set(g,y+1)}}};c(Gr(Ls)),Fr.add(c);var u=void 0,d=Vi(()=>{var f=n??t.appendChild(Kt());return lt(()=>{if(s){X({});var h=de;h.c=s}a&&(r.$$events=a),u=e(f,r)||{},s&&Z()}),()=>{for(var h of l){t.removeEventListener(h,Cn);var g=an.get(h);--g===0?(document.removeEventListener(h,Cn),an.delete(h)):an.set(h,g)}Fr.delete(c),f!==n&&f.parentNode?.removeChild(f)}});return ol.set(u,d),u}let ol=new WeakMap;const Pr=0,Qn=1,xr=2;function Ms(e,t,n,r,a){var s=e,i=Sn(),l=de,c=we,u,d,f,h=i?Ut(void 0):jr(void 0,!1,!1),g=i?Ut(void 0):jr(void 0,!1,!1),v=!1;function y(E,k){v=!0,k&&(ut(m),Ze(m),pn(l));try{E===Pr&&n&&(u?un(u):u=lt(()=>n(s))),E===Qn&&r&&(d?un(d):d=lt(()=>r(s,h))),E===xr&&a&&(f?un(f):f=lt(()=>a(s,g))),E!==Pr&&u&&Rt(u,()=>u=null),E!==Qn&&d&&Rt(d,()=>d=null),E!==xr&&f&&Rt(f,()=>f=null)}finally{k&&(pn(null),Ze(null),ut(null),fs())}}var m=Fn(()=>{if(c!==(c=t())){if(Xo(c)){var E=c;v=!1,E.then(k=>{E===c&&(St(h,k),y(Qn,!0))},k=>{if(E===c&&(St(g,k),y(xr,!0),!a))throw g.v}),hr(()=>{v||y(Pr,!0)})}else St(h,c),y(Qn,!1);return()=>c=we}})}function j(e,t,n=!1){var r=e,a=null,s=null,i=we,l=n?Bn:0,c=!1;const u=(g,v=!0)=>{c=!0,h(v,g)};var d=null;function f(){d!==null&&(d.lastChild.remove(),r.before(d),d=null);var g=i?a:s,v=i?s:a;g&&un(g),v&&Rt(v,()=>{i?s=null:a=null})}const h=(g,v)=>{if(i!==(i=g)){var y=aa(),m=r;if(y&&(d=document.createDocumentFragment(),d.append(m=Kt())),i?a??(a=v&&lt(()=>v(m))):s??(s=v&&lt(()=>v(m))),y){var E=ue,k=i?a:s,p=i?s:a;k&&E.skipped_effects.delete(k),p&&E.skipped_effects.add(p),E.add_callback(f)}else f()}};Fn(()=>{c=!1,t(u),c||h(null,null)},l)}function le(e,t){sa(()=>{var n=t();for(var r in n){var a=n[r];a?e.style.setProperty(r,a):e.style.removeProperty(r)}})}function il(e,t,n){for(var r=e.items,a=[],s=t.length,i=0;i<s;i++)oa(t[i].e,a,!0);var l=s>0&&a.length===0&&n!==null;if(l){var c=n.parentNode;ji(c),c.append(n),r.clear(),st(e,t[0].prev,t[s-1].next)}ks(a,()=>{for(var u=0;u<s;u++){var d=t[u];l||(r.delete(d.k),st(e,d.prev,d.next)),ct(d.e,!l)}})}function ln(e,t,n,r,a,s=null){var i=e,l={flags:t,items:new Map,first:null},c=(t&ts)!==0;if(c){var u=e;i=u.appendChild(Kt())}var d=null,f=!1,h=new Map,g=gr(()=>{var E=n();return Yr(E)?E:E==null?[]:Gr(E)}),v,y;function m(){ll(y,v,l,h,i,a,t,r,n),s!==null&&(v.length===0?d?un(d):d=lt(()=>s(i)):d!==null&&Rt(d,()=>{d=null}))}Fn(()=>{y??(y=te),v=o(g);var E=v.length;if(!(f&&E===0)){f=E===0;var k,p,C,S;if(aa()){var b=new Set,x=ue;for(p=0;p<E;p+=1){C=v[p],S=r(C,p);var T=l.items.get(S)??h.get(S);T?(t&(fr|vr))!==0&&Is(T,C,p,t):(k=Rs(null,l,null,null,C,S,p,a,t,n,!0),h.set(S,k)),b.add(S)}for(const[F,J]of l.items)b.has(F)||x.skipped_effects.add(J.e);x.add_callback(m)}else m();o(g)}})}function ll(e,t,n,r,a,s,i,l,c){var u=(i&fi)!==0,d=(i&(fr|vr))!==0,f=t.length,h=n.items,g=n.first,v=g,y,m=null,E,k=[],p=[],C,S,b,x;if(u)for(x=0;x<f;x+=1)C=t[x],S=l(C,x),b=h.get(S),b!==void 0&&(b.a?.measure(),(E??(E=new Set)).add(b));for(x=0;x<f;x+=1){if(C=t[x],S=l(C,x),b=h.get(S),b===void 0){var T=r.get(S);if(T!==void 0){r.delete(S),h.set(S,T);var F=m?m.next:v;st(n,m,T),st(n,T,F),Dr(T,F,a),m=T}else{var J=v?v.e.nodes_start:a;m=Rs(J,n,m,m===null?n.first:m.next,C,S,x,s,i,c)}h.set(S,m),k=[],p=[],v=m.next;continue}if(d&&Is(b,C,x,i),(b.e.f&et)!==0&&(un(b.e),u&&(b.a?.unfix(),(E??(E=new Set)).delete(b))),b!==v){if(y!==void 0&&y.has(b)){if(k.length<p.length){var q=p[0],z;m=q.prev;var H=k[0],B=k[k.length-1];for(z=0;z<k.length;z+=1)Dr(k[z],q,a);for(z=0;z<p.length;z+=1)y.delete(p[z]);st(n,H.prev,B.next),st(n,m,H),st(n,B,q),v=q,m=B,x-=1,k=[],p=[]}else y.delete(b),Dr(b,v,a),st(n,b.prev,b.next),st(n,b,m===null?n.first:m.next),st(n,m,b),m=b;continue}for(k=[],p=[];v!==null&&v.k!==S;)(v.e.f&et)===0&&(y??(y=new Set)).add(v),p.push(v),v=v.next;if(v===null)continue;b=v}k.push(b),m=b,v=b.next}if(v!==null||y!==void 0){for(var K=y===void 0?[]:Gr(y);v!==null;)(v.e.f&et)===0&&K.push(v),v=v.next;var oe=K.length;if(oe>0){var Y=(i&ts)!==0&&f===0?a:null;if(u){for(x=0;x<oe;x+=1)K[x].a?.measure();for(x=0;x<oe;x+=1)K[x].a?.fix()}il(n,K,Y)}}u&&hr(()=>{if(E!==void 0)for(b of E)b.a?.apply()}),e.first=n.first&&n.first.e,e.last=m&&m.e;for(var V of r.values())ct(V.e);r.clear()}function Is(e,t,n,r){(r&fr)!==0&&St(e.v,t),(r&vr)!==0?St(e.i,n):e.i=n}function Rs(e,t,n,r,a,s,i,l,c,u,d){var f=(c&fr)!==0,h=(c&vi)===0,g=f?h?jr(a,!1,!1):Ut(a):a,v=(c&vr)===0?i:Ut(i),y={i:v,v:g,k:s,a:null,e:null,prev:n,next:r};try{if(e===null){var m=document.createDocumentFragment();m.append(e=Kt())}return y.e=lt(()=>l(e,g,v,u),Si),y.e.prev=n&&n.e,y.e.next=r&&r.e,n===null?d||(t.first=y):(n.next=y,n.e.next=y.e),r!==null&&(r.prev=y,r.e.prev=y.e),y}finally{}}function Dr(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,a=t?t.e.nodes_start:n,s=e.e.nodes_start;s!==null&&s!==r;){var i=_r(s);a.before(s),s=i}}function st(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function De(e,t,...n){var r=e,a=Ge,s;Fn(()=>{a!==(a=t())&&(s&&(ct(s),s=null),s=lt(()=>a(r,...n)))},Bn)}function Bs(e,t,n){var r=e,a,s,i=null,l=null;function c(){s&&(Rt(s),s=null),i&&(i.lastChild.remove(),r.before(i),i=null),s=l,l=null}Fn(()=>{if(a!==(a=t())){var u=aa();if(a){var d=r;u&&(i=document.createDocumentFragment(),i.append(d=Kt()),s&&ue.skipped_effects.add(s)),l=lt(()=>n(d,a))}u?ue.add_callback(c):c()}},Bn)}function js(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=js(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function cl(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=js(e))&&(r&&(r+=" "),r+=t);return r}function $(e){return typeof e=="object"?cl(e):e??""}const za=[...` 	
\r\f \v\uFEFF`];function ul(e,t,n){var r=e==null?"":""+e;if(t&&(r=r?r+" "+t:t),n){for(var a in n)if(n[a])r=r?r+" "+a:a;else if(r.length)for(var s=a.length,i=0;(i=r.indexOf(a,i))>=0;){var l=i+s;(i===0||za.includes(r[i-1]))&&(l===r.length||za.includes(r[l]))?r=(i===0?"":r.substring(0,i))+r.substring(l+1):i=l}}return r===""?null:r}function dl(e,t){return e==null?null:String(e)}function ee(e,t,n,r,a,s){var i=e.__className;if(i!==n||i===void 0){var l=ul(n,r,s);l==null?e.removeAttribute("class"):e.className=l,e.__className=n}else if(s&&a!==s)for(var c in s){var u=!!s[c];(a==null||u!==!!a[c])&&e.classList.toggle(c,u)}return s}function Nn(e,t,n,r){var a=e.__style;if(a!==t){var s=dl(t);s==null?e.removeAttribute("style"):e.style.cssText=s,e.__style=t}return r}const fl=Symbol("is custom element"),vl=Symbol("is html");function Ar(e,t){var n=la(e);n.value===(n.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function ar(e,t){var n=la(e);n.checked!==(n.checked=t??void 0)&&(e.checked=t)}function _e(e,t,n,r){var a=la(e);a[t]!==(a[t]=n)&&(t==="loading"&&(e[ti]=n),n==null?e.removeAttribute(t):typeof n!="string"&&hl(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function la(e){return e.__attributes??(e.__attributes={[fl]:e.nodeName.includes("-"),[vl]:e.namespaceURI===bi})}var Fa=new Map;function hl(e){var t=e.getAttribute("is")||e.nodeName,n=Fa.get(t);if(n)return n;Fa.set(t,n=[]);for(var r,a=e,s=Element.prototype;s!==a;){r=Ja(a);for(var i in r)r[i].set&&n.push(i);a=Xr(a)}return n}function gl(e,t,n=t){var r=new WeakSet;Fi(e,"input",async a=>{var s=a?e.defaultValue:e.value;if(s=Tr(e)?Nr(s):s,n(s),ue!==null&&r.add(ue),await Ts(),s!==(s=t())){var i=e.selectionStart,l=e.selectionEnd;e.value=s??"",l!==null&&(e.selectionStart=i,e.selectionEnd=Math.min(l,e.value.length))}}),qt(t)==null&&e.value&&(n(Tr(e)?Nr(e.value):e.value),ue!==null&&r.add(ue)),sa(()=>{var a=t();if(e===document.activeElement){var s=tr??ue;if(r.has(s))return}Tr(e)&&a===Nr(e.value)||e.type==="date"&&!a&&!e.value||a!==e.value&&(e.value=a??"")})}function Tr(e){var t=e.type;return t==="number"||t==="range"}function Nr(e){return e===""?null:+e}function Ua(e,t){return e===t||e?.[It]===t}function rt(e={},t,n,r){return Ki(()=>{var a,s;return sa(()=>{a=s,s=[],qt(()=>{e!==n(...s)&&(t(e,...s),a&&Ua(n(...a),e)&&t(null,...a))})}),()=>{hr(()=>{s&&Ua(n(...s),e)&&t(null,...s)})}}),e}function Un(e=!1){const t=de,n=t.l.u;if(!n)return;let r=()=>Qi(t.s);if(e){let a=0,s={};const i=zn(()=>{let l=!1;const c=t.s;for(const u in c)c[u]!==s[u]&&(s[u]=c[u],l=!0);return l&&a++,a});r=()=>o(i)}n.b.length&&Hi(()=>{qa(t,r),sr(n.b)}),Ce(()=>{const a=qt(()=>n.m.map(Zo));return()=>{for(const s of a)typeof s=="function"&&s()}}),n.a.length&&Ce(()=>{qa(t,r),sr(n.a)})}function qa(e,t){if(e.l.s)for(const n of e.l.s)o(n);t()}let $n=!1;function pl(e){var t=$n;try{return $n=!1,[e(),$n]}finally{$n=t}}function ae(e,t,n,r){var a=!bn||(n&gi)!==0,s=(n&_i)!==0,i=(n&mi)!==0,l=r,c=!0,u=()=>(c&&(c=!1,l=i?qt(r):r),l),d;if(s){var f=It in e||ei in e;d=cn(e,t)?.set??(f&&t in e?p=>e[t]=p:void 0)}var h,g=!1;s?[h,g]=pl(()=>e[t]):h=e[t],h===void 0&&r!==void 0&&(h=u(),d&&(a&&li(),d(h)));var v;if(a?v=()=>{var p=e[t];return p===void 0?u():(c=!0,p)}:v=()=>{var p=e[t];return p!==void 0&&(l=void 0),p===void 0?l:p},a&&(n&pi)===0)return v;if(d){var y=e.$$legacy;return(function(p,C){return arguments.length>0?((!a||!C||y||g)&&d(C?v():p),p):v()})}var m=!1,E=((n&hi)!==0?zn:gr)(()=>(m=!1,v()));s&&o(E);var k=te;return(function(p,C){if(arguments.length>0){const S=C?o(E):a&&s?me(p):p;return P(E,S),m=!0,l!==void 0&&(l=S),p}return Wt&&m||(k.f&Vt)!==0?E.v:o(E)})}function he(e){de===null&&es(),bn&&de.l!==null?_l(de).m.push(e):Ce(()=>{const t=qt(e);if(typeof t=="function")return t})}function _l(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const ml="5";var Xa;typeof window<"u"&&((Xa=window.__svelte??(window.__svelte={})).v??(Xa.v=new Set)).add(ml);Ci();const zs={},wl=()=>({working:!1,swipingRatio:1,isSwiping:!1,duration:.35});function yl(e){ta(zs,e)}function qn(){const e=ea(zs);if(!e)throw new Error("No AnimationSettingsContext found");return e}function bl(e,t){X(t,!0);let n=me(wl());yl(n);var r=W(),a=L(r);De(a,()=>t.children??Ge),_(e,r),Z()}const Fs={};function Sl(e){ta(Fs,e)}function Us(){const e=ea(Fs);if(!e)throw new Error("No ScrollingContext found");return e}const kl=(e,t)=>{let n=null;return()=>{n&&clearTimeout(n),n=setTimeout(()=>{n=null,e()},t)}};async function ca(){if(navigator.storage&&navigator.storage.persist)try{await navigator.storage.persisted()||await navigator.storage.persist()}catch{}}function El(e,t){X(t,!0);let n=I(!1);const r=()=>o(n),a=kl(()=>{P(n,!1)},100);Sl({isScrolling:r,enable:()=>{P(n,!0),a()}});var i=W(),l=L(i);De(l,()=>t.children??Ge),_(e,i),Z()}const qs={};function Cl(e){ta(qs,e)}function kn(){const e=ea(qs);if(!e)throw new Error("No MobileSizeContext found");return e}const Pl=(e,t,n={})=>{let r=null;return()=>{r||(e(),r=setTimeout(()=>{if(r=null,n.trailing){e();return}},t))}};function xl(e,t){X(t,!0);const n=()=>window.matchMedia("(max-width: 767px)").matches;let r=I(me(n()));const a=Pl(()=>{P(r,n(),!0)},16,{trailing:!0}),s=()=>o(r);Cl({checkMobileSize:s}),he(()=>(window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)));var i={checkMobileSize:s},l=W(),c=L(l);return De(c,()=>t.children??Ge),_(e,l),Z(i)}function Dl(e,t){bl(e,{children:(n,r)=>{El(n,{children:(a,s)=>{xl(a,{children:(i,l)=>{var c=W(),u=L(c);De(u,()=>t.children??Ge),_(i,c)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})}let Nt=I(""),sn=I(null);function ua(e){P(Nt,""),setTimeout(()=>{P(Nt,e,!0)},16)}var Al=R('<div class="notification svelte-1a2zucn"> </div>'),Tl=R("<div><!></div>");function Nl(e,t){X(t,!0),Ce(()=>{o(Nt),o(Nt)&&(o(sn)?.getBoundingClientRect(),o(sn)?.style.setProperty("opacity","1"));const s=setTimeout(()=>{o(sn)?.style.removeProperty("opacity")},800),i=setTimeout(()=>{P(Nt,""),o(sn)?.style.removeProperty("opacity")},1200);return()=>{clearTimeout(s),clearTimeout(i)}});var n=Tl(),r=w(n);{var a=s=>{var i=Al(),l=w(i);rt(i,c=>P(sn,c),()=>o(sn)),ie(()=>wn(l,o(Nt))),_(s,i)};j(r,s=>{o(Nt)&&s(a)})}_(e,n),Z()}var Ll=R('<span class="vh svelte-14jjkpd"><!></span>');function tt(e,t){var n=Ll(),r=w(n);De(r,()=>t.children),_(e,n)}var Ol=rl('<svg class="svelte-gv09tg"><use></use></svg>');function fe(e,t){let n=ae(t,"name",8,"");var r=Ol(),a=w(r);ie(()=>_e(a,"href",`#icon-${n()??""}`)),_(e,r)}const Hs=(e,t)=>{if(!t)return e;if(t.type==="closed")return{type:"closed"};switch(e.type){case"opened":return t.type==="close"?{type:"closing"}:t.type==="swipe"?{type:"openSwiping"}:e;case"closed":return t.type==="open"?{type:"opening"}:t.type==="swipe"?{type:"closeSwiping"}:e;case"openSwiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"closeSwiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"opening":return t.type==="opened"?{type:"opened"}:e;default:return e}};let Ur=I(me(Hs({type:"closed"})));const Vs=e=>{P(Ur,Hs(o(Ur),e),!0)},Ml=()=>o(Ur),Il=()=>{Vs({type:"open"})},Rl=()=>{Vs({type:"close"})},Bl=()=>{const e=Ml().type;e==="closed"?Il():e==="opened"&&Rl()};var jl=R('<button class="buttonMenu svelte-hxzs42"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>');function Ks(e,t){X(t,!1),Un();var n=jl();n.__click=[Bl];var r=w(n);le(r,()=>({"--size":"36px"})),fe(r.lastChild,{name:"sidebarMenu"});var a=D(r,2);tt(a,{children:(s,i)=>{var l=Pe("Menu");_(s,l)}}),_(e,n),Z()}Te(["click"]);var zl=(e,t)=>t.onChange?.(e.target?.value||""),Fl=R('<input class="svelte-krv4jy"/>');function qr(e,t){X(t,!0);let n=ae(t,"value",15,"");var r=Fl();r.__input=[zl,t],ie(()=>_e(r,"placeholder",t.placeholder)),ia("focus",r,function(...a){t.onFocus?.apply(this,a)}),gl(r,n),_(e,r),Z()}Te(["input"]);const A=me({historyStack:[],pathname:window.location.pathname,search:window.location.search,historyLength:0});let Ws=I(me(new URLSearchParams(A.search).get("feedOrder")||"newest"));const Ys=()=>o(Ws),Ul=e=>{P(Ws,e,!0);const t=new URLSearchParams(A.search);e==="newest"?t.delete("feedOrder"):t.set("feedOrder",e),ht(`${A.pathname}${t.size>0?`?${t.toString()}`:""}`)};let Gs=I(me(new URLSearchParams(A.search).get("search")||""));const Xs=()=>o(Gs),ql=e=>{P(Gs,e,!0);const t=new URLSearchParams(A.search);e===""?t.delete("search"):t.set("search",e),ht(`${A.pathname}${t.size>0?`?${t.toString()}`:""}`)},md=(e,t)=>{const n=new URLSearchParams(A.search);n.append(e,t),da(`${A.pathname}${n.size>0?`?${n.toString()}`:""}`)},wd=e=>{const t=new URLSearchParams(A.search);t.delete(e),A.historyStack=A.historyStack.map(n=>{const r=new URLSearchParams(n.split("?")[1]);return r.delete(e),`${n.split("?")[0]}${t.size>0?`?${r.toString()}`:""}`}),da(`${A.pathname}${t.size>0?`?${t.toString()}`:""}`)},Zs=()=>new URLSearchParams(A.search).get("selectedTags")?.split(",")||[];let er=Zs();const Hl=()=>{const e=Zs();return e.join(",")===er.join(",")||(er=e),er},Vl=()=>{A.pathname=document.location.pathname,A.search=document.location.search,A.historyLength=Math.max(0,A.historyLength-=1)};window.addEventListener("popstate",Vl);const ht=e=>{const[t,n]=e.split("?");A.pathname=t,A.search=n?`?${n}`:"",A.historyLength+=1,A.historyStack.push(window.location.href),window.history.replaceState(null,"",e)},da=e=>{const[t,n]=e.split("?");A.pathname=t,A.search=n?`?${n}`:"",window.history.replaceState(null,"",e)},Kl=e=>{const{fallback:t="/",to:n}=e||{},[r,a]=t.split("?");if(A.historyLength<=0){const s=window.location.href,[i,l]=s.split("?");if(!l.includes("stackPages"))window.history.replaceState(null,"",t),A.historyLength=0,A.pathname=r,A.search=a?`?${a}`:"";else{const c=new URLSearchParams(l),u=c.get("stackPages")?.split(",")||[],d=u.slice(0,n&&u.includes(n)?u.indexOf(n)+1:-1);d.length===0?c.delete("stackPages"):c.set("stackPages",d.join(","));const f=`${i}${c.toString()?`?${c.toString()}`:""}`;window.history.replaceState(null,"",f),A.search=c.toString()?`?${c.toString()}`:""}}else if(A.historyStack.length>0){const i=new URLSearchParams(A.search).get("stackPages")?.split(",")||[];n&&i.includes(n)&&(A.historyStack=A.historyStack.slice(0,-(i.length-(i.indexOf(n)+1))+1),A.historyLength=A.historyStack.length);const l=A.historyStack.pop();if(l){const[c,u]=l.split("?");window.history.replaceState(null,"",l),A.historyLength=Math.max(0,A.historyLength-=1),A.pathname=c,A.search=u?`?${u}`:""}}},Js=()=>{const e=A.historyStack.findIndex(n=>n.includes("stackPages")),t=e===-1?A.historyStack.slice(0):A.historyStack.slice(0,e);if(t.length>0){const n=t.pop();if(n){const[r,a]=n.split("?");window.history.replaceState(null,"",n),A.historyLength=Math.max(0,t.length),A.pathname=r,A.search=a?`?${a}`:"",A.historyStack=t}}else{const n=A.search,r=new URLSearchParams(n);r.delete("stackPages"),window.history.replaceState(null,"",r.toString()?"/?"+r.toString():"/"),A.historyLength=0,A.pathname="/",A.search=r.toString()?"?"+r.toString():"",A.historyStack=[]}},ft=me({value:""}),Wl=me({value:Xs()});function Qs(e,t){X(t,!0),he(()=>{const n=r=>{r.target&&t.dialog?.open&&t.dialogInner&&t.dialogInner!==r.target&&!t.dialogInner.contains(r.target)&&t.onClose()};return document.addEventListener("mousedown",n,{capture:!0}),()=>{document.removeEventListener("mousedown",n,{capture:!0})}}),Z()}const fa=me({count:0}),Yl=()=>fa.count>0,$s=()=>{fa.count+=1},eo=()=>{fa.count-=1};var Gl=R('<dialog><div class="dialogInner svelte-1wekt4o"><!></div></dialog> <!>',1);function to(e,t){X(t,!0);let n=I(null),r=I(null),a=I(!1);const s=()=>{const h=setTimeout(()=>{t.onClosed()},150);o(n)?.addEventListener("transitionend",()=>{clearTimeout(h),t.onClosed()},{once:!0}),P(a,!1)};Ce(()=>{t.startClose&&s()}),he(()=>{o(n)?.showModal(),o(n)?.getClientRects(),P(a,!0)}),he(()=>($s(),()=>{eo()}));var i=Gl(),l=L(i),c=w(l),u=w(c);De(u,()=>t.children),rt(c,h=>P(r,h),()=>o(r)),rt(l,h=>P(n,h),()=>o(n));var d=D(l,2);{var f=h=>{Qs(h,{get dialog(){return o(n)},get dialogInner(){return o(r)},onClose:s})};j(d,h=>{o(n)&&o(r)&&h(f)})}ie(()=>ee(l,1,$(["dialog",{shown:o(a)}]),"svelte-1wekt4o")),_(e,i),Z()}var Xl=R("<div><!></div>");function no(e,t){X(t,!0);let n=I(!1),r=I(null);const a=()=>{const u=setTimeout(()=>{t.onClosed()},150);o(r)?.addEventListener("transitionend",()=>{clearTimeout(u),t.onClosed()},{once:!0}),P(n,!1)},s=u=>{u.target!==o(r)&&!o(r)?.contains(u.target)&&a()},i=u=>{u.target!==o(r)&&!o(r)?.contains(u.target)&&a()};he(()=>{o(r)?.getClientRects(),P(n,!0);const u=setTimeout(()=>{document.addEventListener("focusin",s),document.addEventListener("click",i)},0);return()=>{clearTimeout(u),document.removeEventListener("focusin",s),document.removeEventListener("click",i)}}),Ce(()=>{t.startClose&&a()});var l=Xl(),c=w(l);De(c,()=>t.children),rt(l,u=>P(r,u),()=>o(r)),ie(()=>ee(l,1,$(["menu",{top:t.positionTop,shown:o(n)}]),"svelte-vbw57a")),_(e,l),Z()}const Zl=(e,t)=>{o(t)||P(t,!0)};var Jl=(e,t)=>t("newest"),Ql=(e,t)=>t("oldest"),$l=(e,t)=>t("AtoZ"),ec=(e,t)=>t("ZtoA"),tc=R("<div><button>Newest</button> <button>Oldest</button> <button>A to Z</button> <button>Z to A</button></div>"),nc=R('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),rc=R('<div class="orderMenu svelte-110m8z1"><button><!> <!></button> <!></div>');function ac(e,t){X(t,!0);const n=(m,E=Ge)=>{var k=tc(),p=w(k);p.__click=[Jl,c];var C=D(p,2);C.__click=[Ql,c];var S=D(C,2);S.__click=[$l,c];var b=D(S,2);b.__click=[ec,c],ie(()=>{ee(k,1,$(["menu",{menuDialog:E()}]),"svelte-110m8z1"),ee(p,1,$(["menuButton",{menuButtonDialog:E(),current:o(l)==="newest"}]),"svelte-110m8z1"),ee(C,1,$(["menuButton",{menuButtonDialog:E(),current:o(l)==="oldest"}]),"svelte-110m8z1"),ee(S,1,$(["menuButton",{menuButtonDialog:E(),current:o(l)==="AtoZ"}]),"svelte-110m8z1"),ee(b,1,$(["menuButton",{menuButtonDialog:E(),current:o(l)==="ZtoA"}]),"svelte-110m8z1")}),_(m,k)};let r=I(!1),a=I(!1);const{checkMobileSize:s}=kn();let i=M(s),l=M(Ys);const c=m=>{P(a,!0),Ul(m)},u=()=>{P(r,!1),P(a,!1)};var d=rc(),f=w(d);f.__click=[Zl,r],ee(f,1,$(["button","buttonMenu"]),"svelte-110m8z1");var h=w(f);fe(h,{name:"filter"});var g=D(h,2);tt(g,{children:(m,E)=>{var k=Pe("show feed order menu");_(m,k)}});var v=D(f,2);{var y=m=>{var E=W(),k=L(E);{var p=S=>{to(S,{get startClose(){return o(a)},onClosed:u,children:(b,x)=>{n(b,()=>!0)},$$slots:{default:!0}})},C=S=>{var b=nc(),x=L(b);le(x,()=>({"--right":"20px","--top":"60px"})),no(x.lastChild,{get startClose(){return o(a)},onClosed:u,children:(T,F)=>{n(T,()=>!1)},$$slots:{default:!0}}),_(S,b)};j(k,S=>{o(i)?S(p):S(C,!1)})}_(m,E)};j(v,m=>{o(r)&&m(y)})}_(e,d),Z()}Te(["click"]);const va=me({ref:null}),Dt=()=>new URLSearchParams(A.search).get("stackPages")?.split(",")||[];let kt=I(me(Dt()));const at=e=>{const t=Dt();if(!t.includes(e)){t.push(e);const n=new URLSearchParams(A.search);n.set("stackPages",t.join(",")),P(kt,t,!0),ht(`${A.pathname}?${n.toString()}`)}},sc=e=>Dt().includes(e),yd=()=>{P(kt,Dt(),!0)},ro=()=>{const e=o(kt).slice(0,-1);P(kt,e,!0)},oc=()=>{const e=Dt();return e.length>=o(kt).length?e.reduce((t,n)=>[...t,{page:n,shown:!0}],[]):o(kt).reduce((t,n,r)=>[...t,{page:n,shown:e.length===0?!1:r!==o(kt).length-1}],[])},Hr=()=>{P(kt,[],!0)},jt=e=>{const t=Dt();t.includes(e)||t.push(e);const n=new URLSearchParams(A.search);return n.set("stackPages",t.join(",")),`${A.pathname}?${n}`},zt=e=>t=>{t.preventDefault(),at(e)};var N=(e=>(e.NewNote="newNote",e.EditNote="editNote",e.Settings="settings",e.ImportData="importData",e.ExportData="exportData",e.ClearStore="clearStore",e.Account="account",e.Sync="sync",e.Start="start",e.Auth="auth",e.Signin="signin",e.Signup="signup",e.AccessKeys="accessKeys",e.ConfirmAccessKey="confirmAccessKey",e.Subscription="subscription",e.Exit="exit",e.NotFound="notFound",e.About="about",e))(N||{}),ic=R('<div class="header svelte-1o3mutr"><div class="top svelte-1o3mutr"><div class="menu svelte-1o3mutr"><a class="link svelte-1o3mutr"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Settings</span></a> <a class="link svelte-1o3mutr"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Sync</span></a></div> <div class="mobile svelte-1o3mutr"><!></div> <a class="buttonAdd svelte-1o3mutr"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Note</span></a></div> <div class="bottom svelte-1o3mutr"><div><div class="sidebarSearchWrapper"><!></div></div> <div class="right svelte-1o3mutr"><div class="filter svelte-1o3mutr"><div class="feedSearchWrapper svelte-1o3mutr"><!></div> <!></div></div></div></div>');function lc(e,t){X(t,!0);let n=M(()=>va.ref);const r=()=>{o(n)&&o(n).scrollTo({top:0,behavior:"smooth"})},a=z=>{ql(z)};var s=ic(),i=w(s),l=w(i),c=w(l),u=M(()=>zt(N.Settings));c.__click=function(...z){o(u)?.apply(this,z)};var d=w(c);le(d,()=>({"--rotate":"30deg","--size":"20px"})),fe(d.lastChild,{name:"settings"});var f=D(c,2),h=M(()=>zt(N.Sync));f.__click=function(...z){o(h)?.apply(this,z)};var g=w(f);le(g,()=>({"--size":"20px"})),fe(g.lastChild,{name:"sync"});var v=D(l,2),y=w(v);Ks(y,{});var m=D(v,2),E=M(()=>zt(N.NewNote));m.__click=function(...z){o(E)?.apply(this,z)};var k=w(m);le(k,()=>({"--size":"16px","--color":"#b0b0b0"})),fe(k.lastChild,{name:"plus"});var p=D(i,2),C=w(p);ee(C,1,$(["left"]),"svelte-1o3mutr");var S=w(C),b=w(S);qr(b,{placeholder:"Search tag",get value(){return ft.value},set value(z){ft.value=z}});var x=D(C,2),T=w(x),F=w(T),J=w(F);qr(J,{onFocus:r,onChange:a,placeholder:"Search",get value(){return Wl.value}});var q=D(F,2);ac(q,{}),ie((z,H,B)=>{_e(c,"href",z),_e(f,"href",H),_e(m,"href",B)},[()=>jt(N.Settings),()=>jt(N.Sync),()=>jt(N.NewNote)]),_(e,s),Z()}Te(["click"]);let Vr=!1;const Lr=()=>{document.activeElement instanceof HTMLInputElement&&document.activeElement.type==="text"||document.activeElement instanceof HTMLTextAreaElement?Vr=!0:Vr=!1},cc=()=>Vr;function uc(e,t){X(t,!0);let n=ae(t,"dialog",7);const r=qn();let a=null;const s=()=>{t.dialogState==="swiping"&&t.onClose()};Ce(()=>(t.dialogState==="swiping"&&(a=setTimeout(s,3e3)),()=>{a&&(clearTimeout(a),a=null)}));let i=null,l=null;const c=3,u=50,d=5,f=.6,h=.3,g=.35,v=.95;let y=0,m=0,E=0,k=!1,p=!1,C=0,S=0,b=0;const x=()=>{y=0,m=0,k=!1,p=!1,C=0,S=0,b=0,E=0,i=null,l!==null&&(cancelAnimationFrame(l),l=null),a&&(clearTimeout(a),a=null)},T=Y=>{n()&&t.dialogState==="opened"&&(y=Y.touches[0].clientX,m=Y.touches[0].clientY,E=performance.now(),k=!0,p=!1)},F=Y=>t.dialogState==="opened"&&Y>0||t.dialogState==="swiping"&&Y>0,J=()=>{if(n()){n().style.setProperty("--transition-timing","0s"),t.onSwipe(),navigator.vibrate&&navigator.vibrate(10);try{const Y=window.getComputedStyle(n()),V=Y.transform||Y.webkitTransform||"";if(S=n().offsetWidth,(t.dialogState==="swiping"||t.dialogState==="opened")&&(C=0),V&&V!=="none")try{C=new DOMMatrix(V).m41}catch{}p=!0}catch{x()}}},q=()=>{if(!n())return;const V=Math.abs(C+b*S/100)/S;n().style.setProperty("--backdrop-bg",`rgba(0, 0, 0, ${.1*(1-V)})`)},z=()=>{if(l=null,!i||!k||!n()||cc()){x();return}const Y=i.touches[0].clientX,V=i.touches[0].clientY,U=Y-y,re=V-m,Ne=Math.abs(U)>Math.abs(re),qe=Math.abs(U)>c;if(!p)if(Ne&&qe&&F(U))try{J()}catch{x();return}else return;if(!F(U))return;n().style.setProperty("--transition-timing","0s");let ve=C+U*v;ve=Math.max(0,Math.min(S,ve)),n().style.transform=`translate3d(${ve}px, 0, 0)`,r.swipingRatio=Math.abs(1-ve/S),b=(ve-C)/S*100,t.dialogState==="swiping"&&(a&&clearTimeout(a),a=setTimeout(s,3e3)),q()},H=Y=>{if(!k)return;i=Y,l===null&&(l=requestAnimationFrame(z));const V=Y.touches[0].clientX-y,U=Y.touches[0].clientY-m,re=Math.abs(V)>Math.abs(U);p&&re&&Y.preventDefault()},B=Y=>{const V=Math.abs(Y);if(V>=f)return d;if(V>=h){const U=(V-h)/(f-h);return u-U*(u-d)}else return u},K=(Y,V)=>{if(Math.abs(Y)>=f)return g*.5;const re=Math.abs(b)/100;return V?g*Math.max(.5,1-re):g*Math.max(.5,re)},oe=Y=>{if(l!==null&&(cancelAnimationFrame(l),l=null),!k||!n()){x();return}if(!p){x();return}let V=0;if(Y?.changedTouches?.[0]){const ve=Y.changedTouches[0].clientX,ge=performance.now()-E;ge>0&&(V=(ve-y)/ge)}const U=B(V);let re=null;t.dialogState==="swiping"&&(re=Math.abs(b)>U||V<-h?"close":"open");const Ne=t.dialogState==="swiping"&&re==="close",qe=K(V,Ne);r.duration=qe-.02,n().style.setProperty("--transition-timing",`${qe}s`),n().offsetWidth,n().style.transform="",re==="open"?t.onOpen():re==="close"&&t.onClose(),n()?.style.removeProperty("--backdrop-bg"),x()};he(()=>(n().addEventListener("touchstart",T,{passive:!0}),n().addEventListener("touchmove",H,{passive:!1}),n().addEventListener("touchend",oe,{passive:!0}),n().addEventListener("touchcancel",oe,{passive:!0}),()=>{n().removeEventListener("touchstart",T),n().removeEventListener("touchmove",H),n().removeEventListener("touchend",oe),n().removeEventListener("touchcancel",oe),l!==null&&cancelAnimationFrame(l)})),Z()}var dc=(e,t)=>{t.onStartClose()},fc=R('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),vc=R('<dialog><div class="dialogInner svelte-14atrge"><div class="header svelte-14atrge"><div><!></div></div> <!></div></dialog> <!>',1);function hc(e,t){X(t,!0);let n=350;const{isScrolling:r,enable:a}=Us();let s=I(null),i=I(null);const l=qn(),c=b=>{b.preventDefault(),t.onStartClose()};he(()=>(o(s)?.addEventListener("close",t.onClosed),o(s)?.addEventListener("cancel",c),()=>{o(s)?.removeEventListener("close",t.onClosed),o(s)?.removeEventListener("cancel",c)}));const u=()=>{o(s)?.style.removeProperty("--transition-timing"),o(s)?.style.removeProperty("transform"),o(s)?.style.removeProperty("--backdrop-bg")},d=()=>{a()},f=M(r);Ce(()=>{if(t.dialogState,!!o(s))switch(t.dialogState){case"opening":{o(s).open||o(s).showModal(),o(s).getBoundingClientRect();const b=setTimeout(()=>{u()},n+1),x=()=>{clearTimeout(b),u()};return o(s)?.addEventListener("transitionend",x,{once:!0}),t.onOpened(),()=>{o(s)?.removeEventListener("transitionend",x)}}case"closing":{const b=setTimeout(()=>{t.dialogState==="closing"&&t.onClosed()},n+1),x=()=>{clearTimeout(b),t.onClosed()};return o(s)?.addEventListener("transitionend",x,{once:!0}),()=>{o(s)?.removeEventListener("transitionend",x)}}case"opened":u()}});var h=vc(),g=L(h),v=w(g),y=w(v),m=w(y),E=w(m);{var k=b=>{var x=fc();ee(x,1,$(["navigateButton","buttonBack"]),"svelte-14atrge"),x.__click=[dc,t];var T=w(x);le(T,()=>({"--size":"36px"})),fe(T.lastChild,{name:"back"});var F=D(T,2);tt(F,{children:(J,q)=>{var z=Pe("back");_(J,z)}}),_(b,x)};j(E,b=>{(!(t.blocked||t.hidden)||t.blocked&&t.unBlockedBack)&&b(k)})}var p=D(y,2);De(p,()=>t.children),rt(v,b=>P(i,b),()=>o(i)),rt(g,b=>P(s,b),()=>o(s));var C=D(g,2);{var S=b=>{uc(b,{get onClose(){return t.onStartClose},get onOpen(){return t.onStartOpen},get onSwipe(){return t.onSwipe},get dialogState(){return t.dialogState},get dialog(){return o(s)}})};j(C,b=>{(!o(f)&&t.dialogState==="opened"||t.dialogState==="swiping")&&(!t.blocked||t.unBlockedBack)&&b(S)})}ie(()=>ee(g,1,$([{open:t.dialogState==="opened",hidden:t.hidden,isAnimationOn:l.working&&(!l.isSwiping||!t.hidden)},{hidden:t.hidden}]),"svelte-14atrge")),ia("scroll",v,d),_(e,h),Z()}Te(["click"]);const Ha=(e,t)=>{if(!t)return e;if(t.type==="closed")return{type:"closed"};switch(e.type){case"opened":return t.type==="close"?{type:"closing"}:t.type==="swipe"?{type:"swiping"}:e;case"closed":return t.type==="open"?{type:"opening"}:e;case"swiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"opening":return t.type==="opened"?{type:"opened"}:e;default:return e}};function gc(e,t){X(t,!0);let n=ae(t,"blocked",3,!1),r=ae(t,"hiddenDialog",3,!1),a=ae(t,"unBlockedBack",3,!1),s=ae(t,"onStartClose",3,()=>{}),i=ae(t,"onClose",3,()=>{});const l=qn();let c=I(me(Ha({type:"closed"})));const u=p=>{P(c,Ha(o(c),p),!0)},d=()=>{n()&&!a()||(s()(),u({type:"close"}))},f=()=>{u({type:"open"})},h=()=>{u({type:"opened"}),l.duration=.2},g=()=>{i()(),u({type:"closed"}),l.swipingRatio=1,l.duration=.2},v=()=>{u({type:"swipe"})};Ce(()=>{o(c).type==="swiping"?l.isSwiping=!0:l.isSwiping=!1,o(c).type==="closed"&&t.shownDialog?f():o(c).type==="opened"&&!t.shownDialog&&d()});var y={handleComputeState:u},m=W(),E=L(m);{var k=p=>{hc(p,{onSwipe:v,onOpened:h,onClosed:g,onStartClose:d,onStartOpen:f,get dialogState(){return o(c).type},get hidden(){return r()},get blocked(){return n()},get unBlockedBack(){return a()},children:(C,S)=>{var b=W(),x=L(b);De(x,()=>t.children),_(C,b)},$$slots:{default:!0}})};j(E,p=>{o(c).type!=="closed"&&p(k)})}return _(e,m),Z(y)}const pc=({getDialog:e,onOpen:t,onStartClose:n,onClose:r})=>{const a=i=>{i.preventDefault(),n()},s=()=>{r?.()};he(()=>{const i=e();return i?.addEventListener("cancel",a),i?.addEventListener("close",s),()=>{i?.removeEventListener("cancel",a),i?.removeEventListener("close",s)}}),he(()=>{const i=e();i?.showModal(),i?.getBoundingClientRect(),t()})};let ao=I(200);const _c=e=>{P(ao,e,!0)},so=()=>o(ao);var mc=(e,t)=>{t.onStartBack()},wc=R('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),yc=(e,t)=>{t.onStartClose()},bc=R('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),Sc=R('<dialog><div class="dialogInner svelte-rm8syc"><div class="header svelte-rm8syc"><div><!></div> <div><!></div></div> <!></div></dialog> <!>',1);function kc(e,t){X(t,!0);let n=ae(t,"blockedDialog",3,!1),r=ae(t,"hiddenDialog",3,!1),a=ae(t,"isDesktopAnimationOff",3,!1),s=I(null),i=I(null);pc({getDialog:()=>o(s),onOpen:t.onOpen,onStartClose:t.onStartClose,onClose:t.onClose});const l=qn();Ce(()=>{t.stateDialog==="closing"&&(l.working?o(s)?.addEventListener("transitionend",()=>{o(s)?.close()},{once:!0}):o(s)?.close())});const c=M(so);var u=Sc(),d=L(u),f=w(d),h=w(f),g=w(h),v=w(g);{var y=S=>{var b=wc();ee(b,1,$(["navigateButton","buttonBack"]),"svelte-rm8syc"),b.__click=[mc,t];var x=w(b);le(x,()=>({"--size":"28px"})),fe(x.lastChild,{name:"back"});var T=D(x,2);tt(T,{children:(F,J)=>{var q=Pe("back");_(F,q)}}),_(S,b)};j(v,S=>{(!(n()||r())||n()&&t.unBlockedBack)&&t.onStartBack&&S(y)})}var m=D(g,2),E=w(m);{var k=S=>{var b=bc();ee(b,1,$(["navigateButton","buttonClose"]),"svelte-rm8syc"),b.__click=[yc,t];var x=w(b);le(x,()=>({"--size":"28px"})),fe(x.lastChild,{name:"close"});var T=D(x,2);tt(T,{children:(F,J)=>{var q=Pe("close");_(F,q)}}),_(S,b)};j(E,S=>{n()||r()||S(k)})}var p=D(h,2);De(p,()=>t.children),rt(f,S=>P(i,S),()=>o(i)),rt(d,S=>P(s,S),()=>o(s));var C=D(d,2);Qs(C,{get dialog(){return o(s)},get dialogInner(){return o(i)},get onClose(){return t.onStartClose}}),ie(()=>{Nn(d,`height: ${o(c)+74}px`),ee(d,1,$([{open:t.stateDialog==="open",isAnimationOn:l.working,isDesktopAnimationOff:a(),hiddenDialog:r()}]),"svelte-rm8syc")}),_(e,u),Z()}Te(["click"]);const Ec=({onStartClose:e,onClose:t})=>{let n=I("close");return{get state(){return o(n)},set state(i){P(n,i,!0)},handleStartClose:(i=!1)=>{i||(P(n,"closing"),e?.())},handleOpen:()=>{P(n,"open")},handleClose:()=>{P(n,"close"),t?.()}}};function Cc(e,t){X(t,!0);let n=ae(t,"blockedDialog",3,!1),r=ae(t,"hiddenDialog",3,!1),a=ae(t,"onStartClose",3,()=>{}),s=ae(t,"onClose",3,()=>{}),i=Ec({onStartClose:a(),onClose:s()});Ce(()=>{i.state==="close"&&t.shownDialog?i.state="opening":i.state==="open"&&!t.shownDialog&&i.handleStartClose(n())});const l=f=>{f.key==="Escape"&&(document.activeElement instanceof HTMLInputElement&&document.activeElement.type==="text"||document.activeElement instanceof HTMLTextAreaElement||n())&&(f.preventDefault(),f.stopPropagation())};he(()=>(document.addEventListener("keydown",l),()=>{document.removeEventListener("keydown",l)}));var c=W(),u=L(c);{var d=f=>{kc(f,{get stateDialog(){return i.state},get blockedDialog(){return n()},get unBlockedBack(){return t.unBlockedBack},get hiddenDialog(){return r()},get onOpen(){return i.handleOpen},get onStartBack(){return t.onStartBack},onStartClose:()=>{i.handleStartClose(n())},get onClose(){return i.handleClose},children:(h,g)=>{var v=W(),y=L(v);De(y,()=>t.children),_(h,v)},$$slots:{default:!0}})};j(u,f=>{i.state!=="close"&&f(d)})}_(e,c),Z()}function Pc(e,t){X(t,!0);let n=ae(t,"blockedDialog",3,!1),r=ae(t,"hiddenDialog",3,!1),a=ae(t,"isLastDialog",3,!1),s=ae(t,"onStartClose",3,()=>{}),i=ae(t,"onClose",3,()=>{});const l=M(()=>a()?void 0:t.onStartBack);he(()=>($s(),()=>{eo()}));const{checkMobileSize:c}=kn();var u=W(),d=L(u);{var f=g=>{gc(g,{get shownDialog(){return t.shownDialog},get blocked(){return n()},get unBlockedBack(){return t.unBlockedBack},get hiddenDialog(){return r()},get children(){return t.children},get onStartClose(){return t.onStartBack},get onClose(){return i()}})},h=g=>{Cc(g,{get shownDialog(){return t.shownDialog},get blockedDialog(){return n()},get unBlockedBack(){return t.unBlockedBack},get hiddenDialog(){return r()},get children(){return t.children},get onStartBack(){return o(l)},get onStartClose(){return s()},get onClose(){return i()}})};j(d,g=>{c()?g(f):g(h,!1)})}_(e,u),Z()}let oo=I(!1),ha=I(!1);const Pn=e=>{P(oo,e,!0),e||P(ha,!1)},xc=()=>o(oo),Va=e=>{P(ha,e,!0)},Dc=()=>o(ha);function Ka(e,t){X(t,!0);let n=ae(t,"blocked",3,!1),r=ae(t,"isLastDialog",3,!1),a=ae(t,"onBack",3,()=>{});const s=M(()=>n()||t.hidden||xc()),i=M(()=>Dc()&&!r());Pc(e,{get shownDialog(){return t.shown},get blockedDialog(){return o(s)},get unBlockedBack(){return o(i)},get hiddenDialog(){return t.hidden},get isLastDialog(){return r()},onStartBack:()=>{(!o(s)||o(s)&&o(i))&&t.shown&&(Kl(),a()())},onStartClose:()=>{(!o(s)||o(s)&&o(i))&&t.shown&&Js()},onClose:()=>{ro()},children:(d,f)=>{var h=W(),g=L(h);De(g,()=>t.children),_(d,h)},$$slots:{default:!0}}),Z()}const Ac="modulepreload",Tc=function(e){return"/"+e},Wa={},pe=function(t,n,r){let a=Promise.resolve();if(n&&n.length>0){let c=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=i?.nonce||i?.getAttribute("nonce");a=c(n.map(u=>{if(u=Tc(u),u in Wa)return;Wa[u]=!0;const d=u.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":Ac,d||(h.as="script"),h.crossOrigin="",h.href=u,l&&h.setAttribute("nonce",l),document.head.appendChild(h),d)return new Promise((g,v)=>{h.addEventListener("load",g),h.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return a.then(i=>{for(const l of i||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})};let Kr=I(me({showFavicon:!0}));const io=()=>o(Kr).showFavicon,ga=e=>{e&&P(Kr,{...o(Kr),...e},!0)};let O=I({initedDB:!1});const Nc=()=>{P(O,{initedDB:!0})},it=async e=>{P(O,{...o(O),account:e})},Hn=async e=>{const t=[],n=new Map;e.forEach(r=>{t.push(r),n.set(r.id,r)}),P(O,{...o(O),notes:t,mapNotes:n,getNotes:()=>t,getMapNotes:()=>n})},pa=async e=>{const t=new Map;e.forEach(n=>{t.set(n.id,n)}),P(O,{...o(O),mapDrafts:t,getMapDrafts:()=>t})},yr=()=>o(O).notes&&o(O).mapNotes,lo=()=>o(O).account,Lc=()=>o(O).getNotes||(()=>o(O).notes||[]),co=()=>o(O).getMapNotes||(()=>o(O).mapNotes||new Map),uo=e=>{if(!o(O).notes||!o(O).mapNotes)throw new Error("Notes appState is not initialized");const t={...e};o(O).notes.push(t),o(O).mapNotes.set(t.id,t),P(O,{...o(O),getNotes:()=>o(O).notes,getMapNotes:()=>o(O).mapNotes})},_a=async e=>{if(!o(O).notes||!o(O).mapNotes)throw new Error("Notes appState is not initialized");o(O).notes.forEach((t,n)=>{t?.id===e.id&&o(O).notes&&(o(O).notes[n]=e)}),o(O).mapNotes.set(e.id,e),P(O,{...o(O),getNotes:()=>o(O).notes,getMapNotes:()=>o(O).mapNotes})},fo=async e=>{if(!o(O).notes||!o(O).mapNotes)throw new Error("Notes appState is not initialized");o(O).mapNotes.delete(e);const t=o(O).notes.findIndex(n=>n?.id===e);t!==-1&&(o(O).notes[t]=void 0),P(O,{...o(O),getNotes:()=>o(O).notes,getMapNotes:()=>o(O).mapNotes})},vo=async()=>{const e=[],t=new Map,n=new Map;P(O,{...o(O),notes:e,mapNotes:t,getNotes:()=>e,getMapNotes:()=>t,mapDrafts:n,getMapDrafts:()=>n})},ho=async()=>{P(O,{initedDB:!0,account:void 0,notes:void 0,mapNotes:void 0,getNotes:()=>{},getMapNotes:()=>{},mapDrafts:void 0,getMapDrafts:()=>{}})},bd=e=>o(O)?.getMapDrafts?.()?.get(e),go=e=>{if(!o(O).mapDrafts)throw new Error("Drafts appState is not initialized");o(O).mapDrafts.delete(e),P(O,{...o(O),getMapDrafts:()=>o(O).mapDrafts})},po=e=>{if(!o(O).mapDrafts)throw new Error("Drafts appState is not initialized");o(O).mapDrafts.set(e.id,e),P(O,{...o(O),getMapDrafts:()=>o(O).mapDrafts})};let _o=I({});const mo=()=>o(_o),Oc=e=>{P(_o,e)};var Mc=R('<button> <svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></button>');function on(e,t){let n=M(()=>t.style==="selected"?"45deg":"0deg");var r=Mc();r.__click=function(...i){t.onClick?.apply(this,i)};var a=w(r),s=D(a);le(s,()=>({"--size":t.size==="small"?"10px":"12px","--rotate":o(n)})),fe(s.lastChild,{name:"plus"}),ie(()=>{_e(r,"type",t.type),ee(r,1,$([{selectedTag:t.style==="selected",small:t.size==="small"}]),"svelte-15zw27r"),wn(a,`${t.title??""} `)}),_(e,r)}Te(["click"]);var Ic=R("<div></div>"),Rc=R('<div class="sidebarFixed svelte-rnyoa6"><div class="nav svelte-rnyoa6"><!> <div class="menu svelte-rnyoa6"><a class="link svelte-rnyoa6"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a> <a class="link svelte-rnyoa6"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a></div></div> <div class="searchWrapper svelte-rnyoa6"><!></div> <!></div> <div><!> <!></div>',1),Bc=R("<div></div>"),jc=R('<div class="sidebar svelte-rnyoa6"><div class="sidebarFixed svelte-rnyoa6"><!></div> <div class="tags svelte-rnyoa6"><!> <!></div></div>');function zc(e,t){X(t,!0);const{checkMobileSize:n}=kn();let r=I(null),a=M(()=>new URLSearchParams(A.search).get("selectedTags")?.split(",")||[]),s=null;function i(){return s||(s=pe(()=>import("./MobileSidebar-JoCU7I0h.js"),__vite__mapDeps([0,1]))),s}const l=k=>{const p=new URLSearchParams(A.search);p.set("selectedTags",[...o(a),k].join(",")),ht(`${A.pathname}${p.size>0?`?${p.toString()}`:""}`),ft.value=""},c=k=>{const p=new URLSearchParams(A.search),C=o(a).filter(S=>S!==k);C.length===0?p.delete("selectedTags"):p.set("selectedTags",C.join(",")),ht(`${A.pathname}${p.size>0?`?${p.toString()}`:""}`)};let u=M(mo),d=M(()=>yr()?Object.values(o(u)).filter(k=>!o(a).some(p=>k.name===p)&&k.name!=="inbox").sort((k,p)=>k.name.localeCompare(p.name)):[]),f=M(()=>o(u).inbox&&o(a).includes("inbox")===!1?o(u).inbox:null),h=M(n);he(()=>{o(h)&&i()});let g=M(()=>Dt().length>0||Yl());var v=W(),y=L(v);{var m=k=>{var p=W(),C=L(p);Ms(C,i,null,(S,b)=>{const x=M(()=>o(b).default);var T=W(),F=L(T);Bs(F,()=>o(x),(J,q)=>{q(J,{get blocked(){return o(g)},children:(z,H)=>{var B=Rc(),K=L(B),oe=w(K),Y=w(oe);Ks(Y,{});var V=D(Y,2),U=w(V),re=M(()=>zt(N.Settings));U.__click=function(...ce){o(re)?.apply(this,ce)};var Ne=w(U);le(Ne,()=>({"--size":"24px"})),fe(Ne.lastChild,{name:"settings"});var qe=D(Ne,2);tt(qe,{children:(ce,Oe)=>{var Me=Pe("Settings");_(ce,Me)}});var ve=D(U,2),ke=M(()=>zt(N.Sync));ve.__click=function(...ce){o(ke)?.apply(this,ce)};var ge=w(ve);le(ge,()=>({"--size":"24px"})),fe(ge.lastChild,{name:"sync"});var Qe=D(ge,2);tt(Qe,{children:(ce,Oe)=>{var Me=Pe("Sync");_(ce,Me)}});var Le=D(oe,2),He=w(Le);qr(He,{placeholder:"Search tag",get value(){return ft.value},set value(ce){ft.value=ce}});var Ee=D(Le,2);{var Ve=ce=>{var Oe=Ic();ee(Oe,1,$(["tags","selectedTags"]),"svelte-rnyoa6"),ln(Oe,20,()=>o(a),Me=>Me,(Me,$e)=>{on(Me,{get title(){return $e},onClick:()=>c($e),style:"selected"})}),rt(Oe,Me=>P(r,Me),()=>o(r)),_(ce,Oe)};j(Ee,ce=>{o(a).length>0&&ce(Ve)})}var Yt=D(K,2);ee(Yt,1,$(["tags","tagsWrapper"]),"svelte-rnyoa6");var Kn=w(Yt);{var pt=ce=>{on(ce,{get title(){return o(f).name},onClick:()=>l(o(f).name)})};j(Kn,ce=>{o(f)&&ce(pt)})}var Gt=D(Kn,2);ln(Gt,17,()=>o(d),ce=>ce.name,(ce,Oe)=>{var Me=W(),$e=L(Me);{var Xt=Zt=>{on(Zt,{get title(){return o(Oe).name},onClick:()=>l(o(Oe).name)})};j($e,Zt=>{(ft.value===""||o(Oe).name.toLowerCase().indexOf(ft.value.toLowerCase())!==-1)&&Zt(Xt)})}_(ce,Me)}),ie((ce,Oe)=>{_e(U,"href",ce),_e(ve,"href",Oe)},[()=>jt(N.Settings),()=>jt(N.Sync)]),_(z,B)},$$slots:{default:!0}})}),_(S,T)}),_(k,p)},E=k=>{var p=jc(),C=w(p),S=w(C);{var b=q=>{var z=Bc();ee(z,1,$(["tags","selectedTags"]),"svelte-rnyoa6"),ln(z,20,()=>o(a),H=>H,(H,B)=>{on(H,{get title(){return B},onClick:()=>c(B),style:"selected"})}),_(q,z)};j(S,q=>{o(a).length>0&&q(b)})}var x=D(C,2),T=w(x);{var F=q=>{on(q,{get title(){return o(f).name},onClick:()=>l(o(f).name)})};j(T,q=>{o(f)&&q(F)})}var J=D(T,2);ln(J,17,()=>o(d),q=>q.name,(q,z)=>{var H=W(),B=L(H);{var K=oe=>{on(oe,{get title(){return o(z).name},onClick:()=>l(o(z).name)})};j(B,oe=>{(ft.value===""||o(z).name.toLowerCase().indexOf(ft.value.toLowerCase())!==-1)&&oe(K)})}_(q,H)}),_(k,p)};j(y,k=>{o(h)?k(m):k(E,!1)})}_(e,v),Z()}Te(["click"]);function yt(e){const t=String.fromCharCode(...new Uint8Array(e));return window.btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function ma(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");const n=t.length%4;return n&&(t+="=".repeat(4-n)),t}function wa(e){try{const t=atob(e),n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n.buffer}catch(t){throw t}}function Sd(e){const t=ma(e);return wa(t)}const kd=async({challenge:e,clientKey:t})=>{const n=Math.floor(Math.random()*100),r={challenge:wa(ma(e)),rp:{id:"localhost",name:"notes"},user:{id:new Uint8Array([...t,...crypto.getRandomValues(new Uint8Array(16))]).buffer,name:`account_${n}`,displayName:`account_${n}`},pubKeyCredParams:[{type:"public-key",alg:-7},{type:"public-key",alg:-257}],authenticatorSelection:{userVerification:"required"},timeout:6e4,attestation:"none"},a=await navigator.credentials.create({publicKey:r});if(a){const s=a.response;return{challenge:e,id:a.id,rawId:yt(a.rawId),type:a.type,response:{clientDataJSON:yt(s.clientDataJSON),attestationObject:yt(s.attestationObject)}}}else throw new Error},Ed=async({challenge:e})=>{const t={challenge:wa(ma(e)),timeout:6e4,rpId:"localhost",userVerification:"required"},n=await navigator.credentials.get({publicKey:t});if(n){const r=n.response;new DataView(r.authenticatorData).getUint32(33,!1);const a={challenge:e,id:n.id,rawId:yt(n.rawId),type:n.type,response:{authenticatorData:yt(r.authenticatorData),clientDataJSON:yt(r.clientDataJSON),signature:yt(r.signature)}};if(!r.userHandle)throw new Error("No credential found");const s=new Uint8Array(r.userHandle).slice(0,32);return{credentialData:a,clientKey:s}}else throw new Error("No credential found")},Fc=async e=>{const t=await crypto.subtle.importKey("raw",e.serverKey,{name:"HKDF"},!1,["deriveKey"]),n=await crypto.subtle.deriveKey({name:"HKDF",salt:new Uint8Array(12),info:new TextEncoder().encode("aes-gcm-shared"),hash:"SHA-256"},t,{name:"AES-GCM",length:256},!1,["encrypt"]);return{encryptedClientKey:await crypto.subtle.encrypt({name:"AES-GCM",iv:new Uint8Array(12)},n,e.clientKey)}},Cd=async e=>{const t=await crypto.subtle.importKey("raw",e.serverKey,{name:"HKDF"},!1,["deriveKey"]),n=await crypto.subtle.deriveKey({name:"HKDF",info:new TextEncoder().encode("aes-gcm-shared"),hash:"SHA-256",salt:new Uint8Array(12)},t,{name:"AES-GCM",length:256},!1,["decrypt"]),r=await crypto.subtle.decrypt({name:"AES-GCM",iv:new Uint8Array(12)},n,e.encryptedClientKey);return new Uint8Array(r)},Uc=()=>crypto.randomUUID(),qc="AppStorage",Hc=1,je="notes",Ya="tags",cr="syncLog",Et="account",Ct="settings",Je="drafts",ye="success",be="error",G=(e,t,n)=>{e?.addEventListener(t,n)};function Vc(){return new Promise((e,t)=>{const n=indexedDB.open(qc,Hc);G(n,"upgradeneeded",()=>{const r=n.result;r.objectStoreNames.contains(je)||r.createObjectStore(je,{keyPath:"id"}),r.objectStoreNames.contains(Ya)||r.createObjectStore(Ya,{keyPath:"id"}),r.objectStoreNames.contains(Et)||r.createObjectStore(Et,{keyPath:"id"}),r.objectStoreNames.contains(Ct)||r.createObjectStore(Ct,{keyPath:"id"}),r.objectStoreNames.contains(cr)||r.createObjectStore(cr,{keyPath:"id"}),r.objectStoreNames.contains(Je)||r.createObjectStore(Je,{keyPath:"id"})}),G(n,ye,()=>{const r=n.result;e(r),r.onversionchange=function(){r?.close(),alert("app outdated, please reload the page")}}),G(n,"blocked",()=>{t(),alert("app outdated, please reload the page")}),G(n,be,()=>{t()})})}function wo(e){return new Promise((t,n)=>{const a=e?.transaction(Ct,"readonly")?.objectStore(Ct).get("default");G(a,ye,()=>{const s=a?.result?.settings;t(s)}),G(a,be,()=>{n()})})}function Kc(e,t){return new Promise((n,r)=>{const i=e?.transaction(Ct,"readwrite")?.objectStore(Ct)?.put({id:"default",settings:t});G(i,ye,()=>{n()}),G(i,be,()=>{r()})})}function Wr(e){return new Promise((t,n)=>{const a=e?.transaction(Et,"readonly")?.objectStore(Et).get("default");G(a,ye,()=>{const s=a?.result?.account;t(s)}),G(a,be,()=>{n()})})}function br(e,t){return new Promise((n,r)=>{const i=e?.transaction(Et,"readwrite")?.objectStore(Et)?.put({id:"default",account:t});G(i,ye,()=>{n()}),G(i,be,()=>{r()})})}function Vn(e){return new Promise((t,n)=>{const a=e?.transaction(je,"readonly")?.objectStore(je).getAll();G(a,ye,()=>{const s=a?.result||[];t(s)}),G(a,be,()=>{n()})})}function ya(e,t){return new Promise((n,r)=>{const i=e?.transaction(je,"readwrite")?.objectStore(je)?.put({...t});G(i,ye,()=>{n()}),G(i,be,()=>{r()})})}function Wc(e,t){return new Promise((n,r)=>{const i=e?.transaction(je,"readwrite")?.objectStore(je)?.delete(t);G(i,ye,()=>{n()}),G(i,be,()=>{r()})})}function Yc(e){return new Promise((t,n)=>{const s=e?.transaction(je,"readwrite")?.objectStore(je)?.clear();G(s,ye,()=>{t()}),G(s,be,()=>{n()})})}function ba(e){return Promise.all([new Promise((t,n)=>{const s=e?.transaction(Et,"readwrite")?.objectStore(Et)?.clear();G(s,ye,()=>{t()}),G(s,be,()=>{n()})}),new Promise((t,n)=>{const s=e?.transaction(je,"readwrite")?.objectStore(je)?.clear();G(s,ye,()=>{t()}),G(s,be,()=>{n()})}),new Promise((t,n)=>{const s=e?.transaction(Ct,"readwrite")?.objectStore(Ct)?.clear();G(s,ye,()=>{t()}),G(s,be,()=>{n()})}),new Promise((t,n)=>{const s=e?.transaction(cr,"readwrite")?.objectStore(cr)?.clear();G(s,ye,()=>{t()}),G(s,be,()=>{n()})}),new Promise((t,n)=>{const s=e?.transaction(Je,"readwrite")?.objectStore(Je)?.clear();G(s,ye,()=>{t()}),G(s,be,()=>{n()})})])}async function Gc(e,t){const n=(await Vn(e)).reduce((i,l)=>(i[l.id]=l,i),{}),r={},s=e?.transaction(je,"readwrite")?.objectStore(je);t.forEach(i=>{n[i.id]?n[i.id].updatedAt<i.updatedAt&&(r[i.id]=i):r[i.id]=i}),await Promise.all(Object.values(r).map(i=>{const l=s?.put(i);return new Promise((c,u)=>{G(l,ye,()=>{c()}),G(l,be,()=>{u()})})}))}function yo(e){return new Promise((t,n)=>{const a=e?.transaction(Je,"readonly")?.objectStore(Je).getAll();G(a,ye,()=>{const s=a?.result||[];t(s)}),G(a,be,()=>{n()})})}function Xc(e,t){return new Promise((n,r)=>{const i=e?.transaction(Je,"readwrite")?.objectStore(Je)?.put({...t});G(i,ye,()=>{n()}),G(i,be,()=>{r()})})}function Zc(e,t){return new Promise((n,r)=>{const i=e?.transaction(Je,"readwrite")?.objectStore(Je)?.delete(t);G(i,ye,()=>{n()}),G(i,be,()=>{r()})})}function Jc(e){return new Promise((t,n)=>{const s=e?.transaction(Je,"readwrite")?.objectStore(Je)?.clear();G(s,ye,()=>{t()}),G(s,be,()=>{n()})})}let se=null;const bo=crypto.randomUUID(),So=new BroadcastChannel("app"),ze=(e,t)=>{So.postMessage(JSON.stringify({tabId:bo,type:e,data:t}))};So.addEventListener("message",async e=>{if(e.data&&typeof e.data=="string"){const t=JSON.parse(e.data);if(t.tabId&&t.tabId===bo)return;if(t.type==="addNote"){const n=t.data;uo(n)}else if(t.type==="putDraft"){const n=t.data;po(n)}else if(t.type==="updateNote"){const n=t.data;_a(n)}else if(t.type==="deleteNote"){const n=t.data;fo(n)}else if(t.type==="clearNotes")vo();else if(t.type==="reloadNotes"){const n=await Vn(se);await Hn(n)}else if(t.type==="initLocalAccount")it(null),Hr(),ht("/");else if(t.type==="initAccount"){const n=await Wr(se);n&&(it(n),Hr(),ht("/"))}else if(t.type==="updateSettings"){const n=await wo(se);n&&ga(n)}else if(t.type==="disconnectCloudAccount")it(null);else if(t.type==="exit")ho();else if(t.type==="updateAccount"){const n=await Wr(se);n&&it(n)}else if(t.type==="deleteDraft"){const n=t.data;go(n)}}});(async()=>{se=await Vc(),Nc();const e=await wo(se);ga(e);const t=await Wr(se);if(t===void 0)at(N.Start);else{sc(N.Start)&&(Hr(),ht("/")),t?(it(t),await ca()):it(null);const n=await Vn(se);await Hn(n);const r=await yo(se);await pa(r)}})();const Pd=async e=>{const t={...e,id:Uc(),createdAt:Date.now(),updatedAt:Date.now()};uo(t),ze("addNote",t),await ya(se,{...t})},xd=async e=>{const t={...e};po(t),ze("putDraft",t),await Xc(se,{...t})},Qc=async e=>{go(e),await Zc(se,e),ze("deleteDraft",e)},Dd=async e=>{const t={...e,updatedAt:Date.now()};ze("updateNote",t),_a(t),await ya(se,t)},$c=async(e,t)=>{const n=co()()?.get(e);if(!n)return;const r={...n,pinned:t};ze("updateNote",r),_a(r),await ya(se,r)},eu=async e=>{ga({showFavicon:e}),await Kc(se,{showFavicon:e}),ze("updateSettings")},tu=async e=>{const t=co()()?.get(e);t&&Qc(t.id),ze("deleteNote",e),fo(e),await Wc(se,e)},Ad=async()=>{ze("clearNotes"),vo(),await Yc(se),await Jc(se)},Td=async e=>{await Gc(se,e),ze("reloadNotes");const t=await Vn(se);await Hn(t)},nu=async()=>{await ba(se),await ca(),await br(se,null),it(null),await Hn([]),await pa([]),ze("initLocalAccount")},Nd=async()=>{it(null),await br(se,null);try{await fetch("/api/dropSession",{method:"POST"})}catch{}ze("disconnectCloudAccount")},Ld=async e=>{await ba(se),await ca();const{encryptedClientKey:t}=await Fc({clientKey:e.clientKey,serverKey:e.serverKey}),n={encryptedClientKey:yt(t),subscriptionExpires:e.subscriptionExpires||-1,lastSync:-1};await br(se,n),it(n);const r=await Vn(se);await Hn(r);const a=await yo(se);await pa(a),ze("initAccount")},Od=async e=>{const t=lo();if(!t)return;const n={...t,subscriptionExpires:e};await br(se,n),it(n),ze("updateAccount")},Md=async()=>{ho(),await ba(se),ze("exit")},ru=(e,t,n)=>{P(t,!0),P(n,!0)},au=(e,t,n)=>{$c(t.note.id,!t.note.pinned),ua(t.note.pinned?"Note unpinned":"Note pinned"),P(n,!0)},su=(e,t,n)=>{navigator.clipboard.writeText(t.note.url),ua("Link copied"),P(n,!0)};var ou=R("<div><button>Copy link</button></div>"),iu=R('<div class="menu svelte-xxw0l"><!> <div><button> </button></div> <div><button>Delete</button></div></div>'),lu=R('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1);function cu(e,t){X(t,!0);const n=(v,y=Ge)=>{var m=iu(),E=w(m);{var k=T=>{var F=ou(),J=w(F);J.__click=[su,t,a],ie(()=>ee(J,1,$(["button",{buttonMenuDialog:y()}]),"svelte-xxw0l")),_(T,F)};j(E,T=>{y()&&t.note.url&&T(k)})}var p=D(E,2),C=w(p);C.__click=[au,t,a];var S=w(C),b=D(p,2),x=w(b);x.__click=[ru,s,a],ie(()=>{ee(C,1,$(["button",{buttonMenuDialog:y()}]),"svelte-xxw0l"),wn(S,t.note.pinned?"Unpin":"Pin"),ee(x,1,$(["button",{buttonMenuDialog:y()}]),"svelte-xxw0l")}),_(v,m)};let r=ae(t,"shownMenu",15),a=I(!1),s=I(!1);const{checkMobileSize:i}=kn();let l=M(i),c=M(()=>new URLSearchParams(A.search).get("selectedTags")?.split(",")||[]);const u=()=>{const v=mo();t.note.tags.forEach(y=>{if(o(c).includes(y)&&v[y].connections===1){const m=new URLSearchParams(A.search),E=o(c).filter(k=>k!==y);E.length===0?m.delete("selectedTags"):m.set("selectedTags",E.join(",")),da(`${A.pathname}${m.size>0?`?${m.toString()}`:""}`)}}),tu(t.note.id)},d=()=>{o(s)&&u(),r(!1),P(a,!1)};var f=W(),h=L(f);{var g=v=>{var y=W(),m=L(y);{var E=p=>{to(p,{get startClose(){return o(a)},onClosed:d,children:(C,S)=>{n(C,()=>!0)},$$slots:{default:!0}})},k=p=>{var C=lu(),S=L(C);le(S,()=>({"--bottom":"-90px","--right":"20px"})),no(S.lastChild,{get startClose(){return o(a)},get positionTop(){return t.showMenuUp},onClosed:d,children:(b,x)=>{n(b,()=>!1)},$$slots:{default:!0}}),_(p,C)};j(m,p=>{o(l)?p(E):p(k,!1)})}_(v,y)};j(h,v=>{r()&&v(g)})}_(e,f),Z()}Te(["click"]);const uu=(e,t)=>{P(t,!0)},du=(e,t,n)=>{navigator.clipboard.writeText(t.note.url),ua("Link copied"),P(n,!1)},fu=(e,t)=>{P(t,!0)},vu=(e,t)=>{P(t,!1)},hu=(e,t,n)=>{e.preventDefault(),at(`${N.EditNote}?id=${t.note.id}`),P(n,!1)};var gu=R('<div class="iconPlaceholder svelte-qwgtkc"></div>'),pu=R('<img loading="lazy" class="noteIcon" height="16" width="16" alt=""/>'),_u=R('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),mu=R('<div class="noteIconWrapper svelte-qwgtkc"><!></div>'),wu=R('<button class="button svelte-qwgtkc"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),yu=(e,t)=>{P(t,!1)},bu=R('<!> <a target="_blank" rel="noopener noreferrer" class="button openLink svelte-qwgtkc"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a>',1),Su=R('<li><!> <a class="noteLink svelte-qwgtkc" target="_blank" rel="noopener noreferrer"> </a> <div><!> <button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button></div> <!></li>');function ku(e,t){X(t,!0);let n=I(!1),r=I(!1),a=I(!1),s=M(io);const{checkMobileSize:i}=kn(),l=C=>{try{return`https://icons.duckduckgo.com/ip3/${new URL(C).host}.ico`}catch{return""}};var c=Su();c.__focusin=[fu,r],c.__focusout=[vu,r];var u=w(c);{var d=C=>{var S=mu(),b=w(S);{var x=F=>{var J=W(),q=L(J);{var z=B=>{var K=gu();_(B,K)},H=B=>{var K=pu();ie(oe=>_e(K,"src",oe),[()=>l(t.note.url)]),ia("error",K,()=>{P(a,!0)}),_(B,K)};j(q,B=>{o(a)?B(z):B(H,!1)})}_(F,J)},T=F=>{var J=_u(),q=L(J);le(q,()=>({"--size":"16px"})),fe(q.lastChild,{name:"note"}),_(F,J)};j(b,F=>{t.note.url?F(x):F(T,!1)})}_(C,S)};j(u,C=>{o(s)&&C(d)})}var f=D(u,2);f.__click=[hu,t,r];var h=w(f),g=D(f,2),v=w(g);{var y=C=>{var S=bu(),b=L(S);{var x=q=>{var z=wu();z.__click=[du,t,r];var H=w(z);le(H,()=>({"--size":"20px"})),fe(H.lastChild,{name:"copy"});var B=D(H,2);tt(B,{children:(K,oe)=>{var Y=Pe("copy link");_(K,Y)}}),ie(()=>_e(z,"tabindex",t.focusHidden?-1:0)),_(q,z)};j(b,q=>{i()||q(x)})}var T=D(b,2);T.__click=[yu,r];var F=w(T);le(F,()=>({"--size":"18px"})),fe(F.lastChild,{name:"open"});var J=D(F,2);tt(J,{children:(q,z)=>{var H=Pe();ie(()=>wn(H,t.note.name)),_(q,H)}}),ie(()=>{_e(T,"href",t.note.url),_e(T,"tabindex",t.focusHidden?-1:0)}),_(C,S)};j(v,C=>{t.note.url&&C(y)})}var m=D(v,2);m.__click=[uu,n],ee(m,1,$(["button","buttonMenu"]),"svelte-qwgtkc");var E=w(m);le(E,()=>({"--size":"18px","--rotate":"90deg"})),fe(E.lastChild,{name:"menu"});var k=D(E,2);tt(k,{children:(C,S)=>{var b=Pe("show menu");_(C,b)}});var p=D(g,2);cu(p,{get note(){return t.note},get showMenuUp(){return t.showMenuUp},get shownMenu(){return o(n)},set shownMenu(C){P(n,C,!0)}}),ie(C=>{ee(c,1,$(["record",{pinned:t.note.pinned}]),"svelte-qwgtkc"),_e(f,"tabindex",t.focusHidden?-1:0),_e(f,"href",C),wn(h,t.note.name),ee(g,1,$(["noteMenuWrapper",{noteMenuWrapperActive:o(r)}]),"svelte-qwgtkc"),_e(m,"tabindex",t.focusHidden?-1:0)},[()=>`/?stackPages=${encodeURIComponent(`${N.EditNote}?id=${t.note.id}`)}`]),_(e,c),Z()}Te(["focusin","focusout","click"]);var Eu=R('<div><!> <div class="loader svelte-1wuuvr"></div></div>');function ko(e,t){X(t,!0);let n=I(!1);he(()=>{const s=setTimeout(()=>{P(n,!0)},200);return()=>{clearTimeout(s)}});var r=Eu(),a=w(r);De(a,()=>t.children??Ge),ie(()=>ee(r,1,$(["block",{shown:o(n)}]),"svelte-1wuuvr")),_(e,r),Z()}var Cu=R("<a><!></a>"),Pu=R("<button><!></button>");function Pt(e,t){let n=ae(t,"type",3,"standard"),r=ae(t,"typeButton",3,"button"),a=ae(t,"element",3,"button"),s=ae(t,"href",3,""),i=ae(t,"fullWidth",3,!1);var l=W(),c=L(l);{var u=f=>{var h=Cu();h.__click=function(...v){t.onClick?.apply(this,v)};var g=w(h);De(g,()=>t.children??Ge),ie(()=>{_e(h,"href",s()),ee(h,1,$(["button","a",{dangerous:n()==="dangerous",secondary:n()==="secondary",fullWidth:i()}]),"svelte-ex7b38")}),_(f,h)},d=f=>{var h=Pu();h.__click=function(...v){t.onClick?.apply(this,v)};var g=w(h);De(g,()=>t.children??Ge),ie(()=>{_e(h,"type",r()),ee(h,1,$(["button",{dangerous:n()==="dangerous",secondary:n()==="secondary",fullWidth:i()}]),"svelte-ex7b38")}),_(f,h)};j(c,f=>{a()==="a"?f(u):f(d,!1)})}_(e,l)}Te(["click"]);var xu=R('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Add note</span>',1),Du=R('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span style="padding-left: 6px;">Import data</span>',1),Au=R('<div class="emptyStore svelte-16l11aw"><p class="message">No notes found</p> <div class="wrapperButtonsAdd svelte-16l11aw"><!></div> <div>or</div> <div class="wrapperButtonsAdd svelte-16l11aw"><!></div></div>'),Tu=R('<div class="emptyMessage svelte-16l11aw">No notes found</div>'),Nu=R('<div class="feed svelte-16l11aw"><ul class="svelte-16l11aw"></ul></div>'),Lu=R('<div class="wrapperFeed svelte-16l11aw"><div class="wrapperContainer svelte-16l11aw"><!></div></div>');function Ou(e,t){X(t,!0);let n=54,r=I(0),a=I(0),s=I(0),i=M(Xs),l=I(0),c=[],u=I(0),d=M(()=>va.ref),f=null,h=null;const g=M(Hl);Ce(()=>{o(i),o(g),o(E),o(d)?.scrollTo(0,0)});const{enable:v}=Us(),y=()=>{v(),f||(f=requestAnimationFrame(()=>{const B=o(d)?.scrollTop||0;P(s,B,!0);const K=Math.ceil(o(r)/n);P(a,Math.floor(B/(n*K))*(n*K)),f=null}))},m=()=>{h||(h=requestAnimationFrame(()=>{P(r,window.innerHeight-180||0,!0);const B=o(d)?.scrollTop||0;P(s,B,!0);const K=Math.ceil(o(r)/n);P(a,Math.floor(B/(n*K))*(n*K)),h=null}))};he(()=>{m(),y()}),Ce(()=>(o(d)?.addEventListener("scroll",y),window.addEventListener("resize",m),()=>{o(d)?.removeEventListener("scroll",y),window.removeEventListener("resize",m)}));const E=M(Ys);let k=I(""),p=M(Lc);Ce(()=>{o(E);const B=o(p)()||[];qt(()=>o(k))!==o(E)&&qt(()=>P(k,o(E),!0)),B.sort((V,U)=>{if(!V||!U)return 0;if(V.pinned&&!U.pinned)return 1;if(!V.pinned&&U.pinned)return-1;switch(o(E)){case"newest":return V.updatedAt<U.updatedAt?-1:1;case"oldest":return V.updatedAt>U.updatedAt?-1:1;case"AtoZ":return U.name.localeCompare(V.name);case"ZtoA":return V.name.localeCompare(U.name);default:return 0}});const oe=[],Y={};for(let V=B.length-1;V>=0;V--){const U=B[V];if(U&&!(o(g).length&&o(g).some(re=>!U.tags.includes(re)))&&!(o(i)&&!(U.name.toLowerCase().includes(o(i).toLowerCase())||U.url.toLowerCase().includes(o(i).toLowerCase())||U.text.toLowerCase().includes(o(i).toLowerCase())))){if(U.tags)for(const re of U.tags)Y[re]?Y[re].connections++:Y[re]={name:re,connections:1};oe.push(U)}}Oc(Y),P(l,oe.length,!0),c=oe,P(u,Date.now(),!0)});const C=M(()=>o(l)*n);let b=M(()=>{o(u);const B=Math.ceil(o(r)/n);let K=Math.floor(o(a)/n);return K=K-Math.min(K,B),c.slice(K,K+B*3)}),x=M(()=>n*Math.ceil(o(r)/n));const T=M(()=>o(a)-Math.min(o(a),o(x)));var F=Lu(),J=w(F),q=w(J);{var z=B=>{ko(B,{})},H=B=>{var K=W(),oe=L(K);{var Y=U=>{var re=Au(),Ne=D(w(re),2),qe=w(Ne);{let ge=M(()=>jt(N.NewNote)),Qe=M(()=>zt(N.NewNote));Pt(qe,{element:"a",get href(){return o(ge)},get onClick(){return o(Qe)},children:(Le,He)=>{var Ee=xu(),Ve=L(Ee);le(Ve,()=>({"--size":"18px","--color":"#b0b0b0"})),fe(Ve.lastChild,{name:"plus"}),_(Le,Ee)},$$slots:{default:!0}})}var ve=D(Ne,4),ke=w(ve);{let ge=M(()=>jt(N.ImportData)),Qe=M(()=>zt(N.ImportData));Pt(ke,{element:"a",get href(){return o(ge)},get onClick(){return o(Qe)},children:(Le,He)=>{var Ee=Du(),Ve=L(Ee);le(Ve,()=>({"--size":"18px","--color":"#b0b0b0"})),fe(Ve.lastChild,{name:"import"}),_(Le,Ee)},$$slots:{default:!0}})}_(U,re)},V=U=>{var re=W(),Ne=L(re);{var qe=ke=>{var ge=Tu();_(ke,ge)},ve=ke=>{var ge=Nu(),Qe=w(ge);ln(Qe,23,()=>o(b),Le=>Le.id,(Le,He,Ee)=>{{let Ve=M(()=>o(Ee)*n<o(s)-o(T)-n/2||o(Ee)*n>o(s)-o(T)+Math.floor(o(r)/n)*n),Yt=M(()=>(o(Ee)+3)*n<o(s)-o(T)-n/2||(o(Ee)+3)*n>o(s)-o(T)+Math.floor(o(r)/n)*n);ku(Le,{get focusHidden(){return o(Ve)},get showMenuUp(){return o(Yt)},get note(){return o(He)}})}}),ie(Le=>{Nn(ge,`min-height: ${Le??""}px`),Nn(Qe,`transform: translateY(${o(T)??""}px);`)},[()=>Math.max((o(C)>o(r),o(C)),0)]),_(ke,ge)};j(Ne,ke=>{o(b).length===0?ke(qe):ke(ve,!1)},!0)}_(U,re)};j(oe,U=>{(o(p)()||[]).length===0?U(Y):U(V,!1)},!0)}_(B,K)};j(q,B=>{yr()?B(H,!1):B(z)})}_(e,F),Z()}var Mu=R('<!> <div class="content svelte-cu0ar8"><!></div>',1);function Eo(e){var t=Mu(),n=L(t);zc(n,{});var r=D(n,2),a=w(r);Ou(a,{}),_(e,t)}const Iu=Object.freeze(Object.defineProperty({__proto__:null,default:Eo},Symbol.toStringTag,{value:"Module"}));var Ru=R('<div class="wrapper svelte-1syxvud"><fieldset class="switcher svelte-1syxvud"><legend class="vh svelte-1syxvud">Color Scheme</legend> <input id="light" type="radio" aria-label="Light"/> <label for="light" title="Light" aria-label="Light"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <input id="system" type="radio" aria-label="System"/> <label for="system" title="System" aria-label="System"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <input id="dark" type="radio" aria-label="Dark"/> <label for="dark" title="Dark" aria-label="Dark"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <div class="wrapSwitcherStatus svelte-1syxvud"><div class="switcherStatus svelte-1syxvud"></div></div></fieldset></div>');function Bu(e,t){X(t,!0);const n={Light:"light",System:"system",Dark:"dark"};let r=I(me(localStorage.getItem("colorScheme")||n.System));const a=p=>{localStorage.setItem("colorScheme",p),p===n.System?window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.dataset.colorScheme=n.Dark:document.documentElement.dataset.colorScheme=n.Light:document.documentElement.dataset.colorScheme=p,P(r,p,!0)},s=p=>{const C=p.target.value;a(C)},i="color-scheme-switcher";var l={setColorScheme:a,handleChange:s},c=Ru(),u=w(c),d=D(w(u),2);ee(d,1,$(["vh","input"]),"svelte-1syxvud"),_e(d,"name",i),d.__change=s;var f=D(d,2);ee(f,1,$(["switcherButton","light"]),"svelte-1syxvud");var h=w(f);le(h,()=>({"--size":"20px"})),fe(h.lastChild,{name:"sun"});var g=D(f,2);ee(g,1,$(["vh","input"]),"svelte-1syxvud"),_e(g,"name",i),g.__change=s;var v=D(g,2);ee(v,1,$(["switcherButton","system"]),"svelte-1syxvud");var y=w(v);le(y,()=>({"--size":"14px"})),fe(y.lastChild,{name:"a"});var m=D(v,2);ee(m,1,$(["vh","input"]),"svelte-1syxvud"),_e(m,"name",i),m.__change=s;var E=D(m,2);ee(E,1,$(["switcherButton","dark"]),"svelte-1syxvud");var k=w(E);return le(k,()=>({"--size":"20px"})),fe(k.lastChild,{name:"moon"}),ie(()=>{Ar(d,n.Light),ar(d,o(r)===n.Light),Ar(g,n.System),ar(g,o(r)===n.System),Ar(m,n.Dark),ar(m,o(r)===n.Dark)}),_(e,c),Z(l)}Te(["change"]);const ju=(e,t)=>{t.onChange(!t.checked)};var zu=R('<label class="switch svelte-15kl8eb"><input class="vh svelte-15kl8eb" type="checkbox"/> <span class="slider svelte-15kl8eb"></span></label>');function Fu(e,t){X(t,!0);var n=zu(),r=w(n);r.__change=[ju,t],ie(()=>ar(r,t.checked)),_(e,n),Z()}Te(["change"]);const Uu=()=>{at(N.ImportData)},qu=()=>{at(N.ExportData)},Hu=()=>{at(N.ClearStore)},Vu=()=>{at(N.Account)},Ku=()=>{at(N.About)};var Wu=R("<span> </span>"),Yu=R('<div class="svelte-1kuxgbs"><!> <ul class="svelte-1kuxgbs"><li class="svelte-1kuxgbs"><button class="button svelte-1kuxgbs"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1kuxgbs">Import data</span></button></li> <li class="svelte-1kuxgbs"><button class="button svelte-1kuxgbs"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1kuxgbs">Export data</span></button></li> <li class="svelte-1kuxgbs"><button class="button svelte-1kuxgbs"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1kuxgbs">Clear storage</span></button></li> <li class="svelte-1kuxgbs"><button class="button svelte-1kuxgbs"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1kuxgbs">Account</span></button></li> <li class="svelte-1kuxgbs"><button class="button svelte-1kuxgbs"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1kuxgbs">About</span></button></li></ul> <div class="favicons svelte-1kuxgbs"><span class="faviconsLabel svelte-1kuxgbs">show favicons (use duckduckgo servers)</span> <!></div> <div class="version svelte-1kuxgbs"><!></div></div>');function Co(e,t){X(t,!0);let n=I("");const r=async H=>{try{const K=await(await fetch("/build-metadata.json",{signal:H})).json();P(n,`${K.buildHash}`)}catch{}};he(()=>{const H=new AbortController;return r(H.signal),()=>{H.abort()}});let a=M(io);const s=H=>{eu(H)};he(()=>{});var i=Yu(),l=w(i);Bu(l,{});var c=D(l,2),u=w(c),d=w(u);d.__click=[Uu];var f=w(d);le(f,()=>({"--size":"28px"})),fe(f.lastChild,{name:"import"});var h=D(u,2),g=w(h);g.__click=[qu];var v=w(g);le(v,()=>({"--size":"28px"})),fe(v.lastChild,{name:"export"});var y=D(h,2),m=w(y);m.__click=[Hu];var E=w(m);le(E,()=>({"--size":"28px"})),fe(E.lastChild,{name:"trash"});var k=D(y,2),p=w(k);p.__click=[Vu];var C=w(p);le(C,()=>({"--size":"28px"})),fe(C.lastChild,{name:"account"});var S=D(k,2),b=w(S);b.__click=[Ku];var x=w(b);le(x,()=>({"--size":"28px"})),fe(x.lastChild,{name:"about"});var T=D(c,2),F=D(w(T),2);Fu(F,{get checked(){return o(a)},onChange:s});var J=D(T,2),q=w(J);{var z=H=>{var B=Wu(),K=w(B);ie(oe=>wn(K,`version: 0.0.1 build_date: "${oe??""}" build_hash:
				${o(n)??""}`),[()=>new Date(1757979582231).toISOString().replaceAll("T"," ").replace(/\..*/,"")]),_(H,B)};j(q,H=>{o(n)&&H(z)})}_(e,i),Z()}Te(["click"]);const Gu=Object.freeze(Object.defineProperty({__proto__:null,default:Co},Symbol.toStringTag,{value:"Module"}));var Xu=R('<div class="content svelte-9hh95f"><p class="message svelte-9hh95f">use app</p> <div class="buttonContainer svelte-9hh95f"><div class="buttonContainerItem svelte-9hh95f"><!></div> <div class="buttonContainerItem svelte-9hh95f"><!></div></div></div>');function Po(e,t){X(t,!0);let n=I("idle");const r=()=>{P(n,"loading"),at(N.Auth)},a=async()=>{P(n,"loading"),await nu(),Pn(!1),Js()};Ce(()=>{Pn(o(n)==="idle"||o(n)==="loading")}),he(()=>(Pn(!0),()=>{Pn(!1)}));var s=Xu(),i=D(w(s),2),l=w(i),c=w(l);Pt(c,{onClick:r,fullWidth:!0,children:(f,h)=>{var g=Pe("cloud account");_(f,g)},$$slots:{default:!0}});var u=D(l,2),d=w(u);Pt(d,{onClick:a,fullWidth:!0,type:"secondary",children:(f,h)=>{var g=Pe("local account");_(f,g)},$$slots:{default:!0}}),_(e,s),Z()}const Zu=Object.freeze(Object.defineProperty({__proto__:null,default:Po},Symbol.toStringTag,{value:"Module"}));var Ju=R('<div class="content svelte-9hh95f"><p class="message svelte-9hh95f">sign in / sign up</p> <div class="buttonContainer svelte-9hh95f"><div class="buttonContainerItem svelte-9hh95f"><!></div> <div class="buttonContainerItem svelte-9hh95f"><!></div></div></div>');function xo(e,t){X(t,!0);let n=M(lo);const r=async()=>{at(N.Signin)},a=async()=>{at(N.Signup)};he(()=>(o(n)===void 0&&(Pn(!0),Va(!0)),()=>{Va(!1)}));var s=Ju(),i=D(w(s),2),l=w(i),c=w(l);Pt(c,{onClick:r,fullWidth:!0,children:(f,h)=>{var g=Pe("sign in");_(f,g)},$$slots:{default:!0}});var u=D(l,2),d=w(u);Pt(d,{onClick:a,fullWidth:!0,children:(f,h)=>{var g=Pe("sign up");_(f,g)},$$slots:{default:!0}}),_(e,s),Z()}const Qu=Object.freeze(Object.defineProperty({__proto__:null,default:xo},Symbol.toStringTag,{value:"Module"}));var $u=R('<div class="svelte-frpywy"><!></div>');function Se(e,t){X(t,!0);let n=I(null);he(()=>{o(n)&&(o(n).getBoundingClientRect(),o(n).style.opacity="1");const s=new ResizeObserver(i=>{for(let l of i){const c=l.contentRect.height;_c(c)}});if(o(n))return s.observe(o(n)),()=>{o(n)&&s.unobserve(o(n)),s.disconnect()}});var r=$u(),a=w(r);De(a,()=>t.children),rt(r,s=>P(n,s),()=>o(n)),_(e,r),Z()}var ed=R('<div class="svelte-ndasxn"><p class="svelte-ndasxn">Page not found</p> <!></div>');function Do(e,t){X(t,!1);const n=s=>{s.preventDefault(),ht("/")};Un();var r=ed(),a=D(w(r),2);Pt(a,{element:"a",href:"/",onClick:n,children:(s,i)=>{var l=Pe("close");_(s,l)},$$slots:{default:!0}}),_(e,r),Z()}const td=Object.freeze(Object.defineProperty({__proto__:null,default:Do},Symbol.toStringTag,{value:"Module"}));var nd=R('<div class="svelte-1tpcci8"><p class="svelte-1tpcci8">Something went wrong. Please reload the page</p> <!></div>');function rd(e){var t=nd(),n=D(w(t),2);Pt(n,{onClick:()=>location.reload(),children:(r,a)=>{var s=Pe("Reload");_(r,s)},$$slots:{default:!0}}),_(e,t)}var ad=R('<div class="svelte-uzefkz"><!></div>');function sd(e,t){X(t,!1);const n=so();Un();var r=ad(),a=w(r);ko(a,{}),ie(()=>Nn(r,`min-height: ${n??""}px;`)),_(e,r),Z()}function Re(e,t){X(t,!0);const n={},r=Object.assign({"./Pages/About.svelte":()=>pe(()=>import("./About-DIO1cUln.js"),__vite__mapDeps([2,3])),"./Pages/AccessKeys.svelte":()=>pe(()=>import("./AccessKeys-DHycABp2.js"),__vite__mapDeps([4,5,6])),"./Pages/Account.svelte":()=>pe(()=>import("./Account-XX4KnUoH.js"),__vite__mapDeps([7,8])),"./Pages/Auth.svelte":()=>pe(()=>Promise.resolve().then(()=>Qu),void 0),"./Pages/ClearStore.svelte":()=>pe(()=>import("./ClearStore-DcyS858o.js"),__vite__mapDeps([9,10])),"./Pages/ConfirmAccessKey.svelte":()=>pe(()=>import("./ConfirmAccessKey-BMc2qAlD.js"),__vite__mapDeps([11,5,12,13,14])),"./Pages/EditNote.svelte":()=>pe(()=>import("./EditNote-BycWwO4y.js"),__vite__mapDeps([15,16,12,13,17])),"./Pages/Exit.svelte":()=>pe(()=>import("./Exit-DumhpXRG.js"),__vite__mapDeps([18,19])),"./Pages/ExportData.svelte":()=>pe(()=>import("./ExportData-B74QwHCb.js"),__vite__mapDeps([20,21])),"./Pages/Home.svelte":()=>pe(()=>Promise.resolve().then(()=>Iu),void 0),"./Pages/ImportData.svelte":()=>pe(()=>import("./ImportData-ChRmRFKV.js"),__vite__mapDeps([22,23])),"./Pages/NewNote.svelte":()=>pe(()=>import("./NewNote-CxhBRlc6.js"),__vite__mapDeps([24,16,12,13,17])),"./Pages/NotFound.svelte":()=>pe(()=>Promise.resolve().then(()=>td),void 0),"./Pages/Settings.svelte":()=>pe(()=>Promise.resolve().then(()=>Gu),void 0),"./Pages/Signin.svelte":()=>pe(()=>import("./Signin-DkOt46GW.js"),__vite__mapDeps([25,5,26])),"./Pages/Signup.svelte":()=>pe(()=>import("./Signup-BgsKxdor.js"),__vite__mapDeps([27,5,26])),"./Pages/Start.svelte":()=>pe(()=>Promise.resolve().then(()=>Zu),void 0),"./Pages/Subscription.svelte":()=>pe(()=>import("./Subscription-CO1FE56k.js"),__vite__mapDeps([28,29])),"./Pages/Sync.svelte":()=>pe(()=>import("./Sync-DYpcq8En.js"),__vite__mapDeps([30,31]))}),a=async l=>{const c=`./Pages/${l[0].toUpperCase()+l.slice(1)}.svelte`;if(!n[l]){if(r[c]){const u=r[c]();return n[l]={promise:u},n[l].module=await u,n[l].module}throw new Error(`Page ${l} not found`)}return n[l].module||await n[l].promise};var s=W(),i=L(s);Ms(i,()=>a(t.page),l=>{sd(l,{})},(l,c)=>{const u=M(()=>o(c).default);var d=W(),f=L(d);Bs(f,()=>o(u),(h,g)=>{g(h,{get params(){return t.params},get hidden(){return t.hidden}})}),_(l,d)},l=>{rd(l)}),_(e,s),Z()}const Ga=(e,t=Ge,n=Ge,r)=>{let a=gr(()=>Qo(r?.(),!1));var s=W(),i=L(s);{var l=u=>{Se(u,{children:(d,f)=>{Co(d,{})},$$slots:{default:!0}})},c=u=>{var d=W(),f=L(d);{var h=v=>{Se(v,{children:(y,m)=>{Re(y,{get hidden(){return o(a)},get page(){return N.NewNote}})},$$slots:{default:!0}})},g=v=>{var y=W(),m=L(y);{var E=p=>{Se(p,{children:(C,S)=>{Re(C,{get params(){return n()},get hidden(){return o(a)},get page(){return N.EditNote}})},$$slots:{default:!0}})},k=p=>{var C=W(),S=L(C);{var b=T=>{Se(T,{children:(F,J)=>{Re(F,{get hidden(){return o(a)},get page(){return N.ImportData}})},$$slots:{default:!0}})},x=T=>{var F=W(),J=L(F);{var q=H=>{Se(H,{children:(B,K)=>{Re(B,{get hidden(){return o(a)},get page(){return N.ExportData}})},$$slots:{default:!0}})},z=H=>{var B=W(),K=L(B);{var oe=V=>{Se(V,{children:(U,re)=>{Re(U,{get hidden(){return o(a)},get page(){return N.ClearStore}})},$$slots:{default:!0}})},Y=V=>{var U=W(),re=L(U);{var Ne=ve=>{Se(ve,{children:(ke,ge)=>{Po(ke,{})},$$slots:{default:!0}})},qe=ve=>{var ke=W(),ge=L(ke);{var Qe=He=>{Se(He,{children:(Ee,Ve)=>{xo(Ee,{})},$$slots:{default:!0}})},Le=He=>{var Ee=W(),Ve=L(Ee);{var Yt=pt=>{Se(pt,{children:(Gt,ce)=>{Re(Gt,{get hidden(){return o(a)},get page(){return N.Signup}})},$$slots:{default:!0}})},Kn=pt=>{var Gt=W(),ce=L(Gt);{var Oe=$e=>{Se($e,{children:(Xt,Zt)=>{Re(Xt,{get hidden(){return o(a)},get page(){return N.Signin}})},$$slots:{default:!0}})},Me=$e=>{var Xt=W(),Zt=L(Xt);{var Ao=Jt=>{Se(Jt,{children:(Wn,Sa)=>{Re(Wn,{get hidden(){return o(a)},get page(){return N.AccessKeys}})},$$slots:{default:!0}})},To=Jt=>{var Wn=W(),Sa=L(Wn);{var No=Qt=>{Se(Qt,{children:(Yn,ka)=>{Re(Yn,{get hidden(){return o(a)},get page(){return N.Account}})},$$slots:{default:!0}})},Lo=Qt=>{var Yn=W(),ka=L(Yn);{var Oo=$t=>{Se($t,{children:(Gn,Ea)=>{Re(Gn,{get hidden(){return o(a)},get page(){return N.ConfirmAccessKey}})},$$slots:{default:!0}})},Mo=$t=>{var Gn=W(),Ea=L(Gn);{var Io=en=>{Se(en,{children:(Xn,Ca)=>{Re(Xn,{get hidden(){return o(a)},get page(){return N.Exit}})},$$slots:{default:!0}})},Ro=en=>{var Xn=W(),Ca=L(Xn);{var Bo=tn=>{Se(tn,{children:(Zn,Pa)=>{Re(Zn,{get hidden(){return o(a)},get page(){return N.Sync}})},$$slots:{default:!0}})},jo=tn=>{var Zn=W(),Pa=L(Zn);{var zo=nn=>{Se(nn,{children:(Jn,xa)=>{Re(Jn,{get hidden(){return o(a)},get page(){return N.Subscription}})},$$slots:{default:!0}})},Fo=nn=>{var Jn=W(),xa=L(Jn);{var Uo=rn=>{Se(rn,{children:(Sr,Ho)=>{Re(Sr,{get hidden(){return o(a)},get page(){return N.About}})},$$slots:{default:!0}})},qo=rn=>{Se(rn,{children:(Sr,Ho)=>{Do(Sr,{})},$$slots:{default:!0}})};j(xa,rn=>{t()===N.About?rn(Uo):rn(qo,!1)},!0)}_(nn,Jn)};j(Pa,nn=>{t()===N.Subscription?nn(zo):nn(Fo,!1)},!0)}_(tn,Zn)};j(Ca,tn=>{t()===N.Sync?tn(Bo):tn(jo,!1)},!0)}_(en,Xn)};j(Ea,en=>{t()===N.Exit?en(Io):en(Ro,!1)},!0)}_($t,Gn)};j(ka,$t=>{t()===N.ConfirmAccessKey?$t(Oo):$t(Mo,!1)},!0)}_(Qt,Yn)};j(Sa,Qt=>{t()===N.Account?Qt(No):Qt(Lo,!1)},!0)}_(Jt,Wn)};j(Zt,Jt=>{t()===N.AccessKeys?Jt(Ao):Jt(To,!1)},!0)}_($e,Xt)};j(ce,$e=>{t()===N.Signin?$e(Oe):$e(Me,!1)},!0)}_(pt,Gt)};j(Ve,pt=>{t()===N.Signup?pt(Yt):pt(Kn,!1)},!0)}_(He,Ee)};j(ge,He=>{t()===N.Auth?He(Qe):He(Le,!1)},!0)}_(ve,ke)};j(re,ve=>{t()===N.Start?ve(Ne):ve(qe,!1)},!0)}_(V,U)};j(K,V=>{t()===N.ClearStore?V(oe):V(Y,!1)},!0)}_(H,B)};j(J,H=>{t()===N.ExportData?H(q):H(z,!1)},!0)}_(T,F)};j(S,T=>{t()===N.ImportData?T(b):T(x,!1)},!0)}_(p,C)};j(m,p=>{t()===N.EditNote?p(E):p(k,!1)},!0)}_(v,y)};j(f,v=>{t()===N.NewNote?v(h):v(g,!1)},!0)}_(u,d)};j(i,u=>{t()==="settings"?u(l):u(c,!1)})}_(e,s)};var od=R("<!> <!>",1);function id(e,t){X(t,!0);let n=M(oc),r=M(yr);const{checkMobileSize:a}=kn();var s=od(),i=L(s);{var l=f=>{Eo(f)};j(i,f=>{o(r)&&f(l)})}var c=D(i,2);{var u=f=>{var h=W(),g=L(h);ln(g,19,()=>o(n),v=>v.page,(v,y,m)=>{const E=M(()=>o(y).page.split("?")[1]),k=M(()=>o(y).page.split("?")[0]);{let p=M(()=>o(m)!==o(n).length-1&&!!o(n)[o(m)+1]?.shown),C=M(()=>o(m)===0);Ka(v,{get shown(){return o(y).shown},get hidden(){return o(p)},get isLastDialog(){return o(C)},children:(S,b)=>{{let x=M(()=>o(m)!==o(n).length-1&&!!o(n)[o(m)+1]?.shown);Ga(S,()=>o(k),()=>o(E),()=>o(x))}},$$slots:{default:!0}})}}),_(f,h)},d=f=>{var h=W(),g=L(h);{var v=y=>{const m=M(()=>o(n)[o(n).length-1].page.split("?")[1]),E=M(()=>o(n)[o(n).length-1].page.split("?")[0]);{let k=M(()=>o(n).length===1);Ka(y,{onBack:()=>ro(),get shown(){return o(n)[o(n).length-1].shown},hidden:!1,get isLastDialog(){return o(k)},children:(p,C)=>{Ga(p,()=>o(E),()=>o(m))},$$slots:{default:!0}})}};j(g,y=>{o(n).length>0&&y(v)},!0)}_(f,h)};j(c,f=>{a()?f(u):f(d,!1)})}_(e,s),Z()}function ld(e,t){X(t,!1),he(()=>{Lr(),document.addEventListener("focusin",Lr),document.addEventListener("focusout",Lr)}),Un(),Z()}function cd(e,t){X(t,!1);let n=0;he(()=>{document.addEventListener("touchstart",r=>{n=r.touches[0].clientX},{passive:!1}),document.addEventListener("touchmove",r=>{const s=r.touches[0].clientX-n;(n<50&&s>0||n>window.innerWidth-50&&s<0)&&r.preventDefault()},{passive:!1}),document.addEventListener("touchend",()=>{n=0}),document.addEventListener("touchcancel",()=>{n=0})}),Un(),Z()}const ud=(e,t)=>{o(t)&&o(t).scrollTo({top:0})};var dd=R('<div class="wrapperButtonTop svelte-1rgtneh"><button class="buttonTop svelte-1rgtneh"><!> <span class="icon svelte-1rgtneh"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></span></button></div>'),fd=R('<!> <!> <!> <main><!> <div class="container svelte-1rgtneh"><!></div></main> <!>',1);function vd(e,t){X(t,!0);const n=qn();he(async()=>{await new Promise(S=>setTimeout(S,100)),await Ts(),n.working=!0});let r=I(!1),a=0,s=M(()=>Dt().length>0),i=M(yr),l=I(null);Ce(()=>{va.ref=o(l)});const c=()=>{if(o(l)){const S=o(l).scrollTop||0;S===0?P(r,!1):!o(r)&&a>S?P(r,!0):o(r)&&a+50<S&&P(r,!1),a=S}},u=()=>{c()};Ce(()=>(o(l)?.addEventListener("scroll",u),window.addEventListener("resize",u),()=>{o(l)?.removeEventListener("scroll",u),window.removeEventListener("resize",u)}));var d=fd(),f=L(d);cd(f,{});var h=D(f,2);ld(h,{});var g=D(h,2);Nl(g,{});var v=D(g,2),y=w(v);{var m=S=>{lc(S,{})};j(y,S=>{o(i)&&S(m)})}var E=D(y,2),k=w(E);id(k,{}),rt(v,S=>P(l,S),()=>o(l));var p=D(v,2);{var C=S=>{var b=dd(),x=w(b);x.__click=[ud,l];var T=w(x);tt(T,{children:(q,z)=>{var H=Pe("top");_(q,H)}});var F=D(T,2),J=w(F);le(J,()=>({"--rotate":"90deg","--size":"28px"})),fe(J.lastChild,{name:"back"}),_(S,b)};j(p,S=>{o(r)&&S(C)})}ie(()=>{Nn(v,`--swiping-ratio: ${n.swipingRatio}; --transition-timing-default: ${n.duration}s;`),ee(v,1,$(["main",{isAnimationOn:n.working&&!n.isSwiping,open:o(s)}]),"svelte-1rgtneh")}),_(e,d),Z()}Te(["click"]);function hd(e){Dl(e,{children:(t,n)=>{vd(t,{})}})}window.addEventListener("unhandledrejection",e=>{alert("Error: "+e.reason.message)});window.isUnsupportedBrowser||al(hd,{target:document.getElementById("app")});export{ar as $,lo as A,Pt as B,Nd as C,at as D,md as E,Ad as F,Js as G,ia as H,fe as I,Cd as J,Sd as K,ko as L,kd as M,ro as N,Kl as O,N as P,co as Q,Dd as R,Un as S,Md as T,_d as U,tt as V,ae as W,ee as X,$ as Y,_e as Z,Ar as _,le as a,Nn as a0,Lc as a1,Uc as a2,kn as a3,rt as a4,Td as a5,Pd as a6,on as a7,yr as a8,bd as a9,gl as aa,xd as ab,Qc as ac,Va as ad,Ld as ae,A as af,wd as ag,yd as ah,Od as ai,cc as aj,qn as ak,Us as al,oc as am,Vs as an,Ml as ao,De as ap,Qs as aq,_ as b,w as c,I as d,me as e,R as f,Pn as g,o as h,P as i,j,Z as k,W as l,L as m,Te as n,he as o,X as p,ln as q,wn as r,D as s,ie as t,Ce as u,Pe as v,Ed as w,M as x,zt as y,jt as z};
