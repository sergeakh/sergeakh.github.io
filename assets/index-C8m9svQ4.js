(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();const bn=!1;var an=Array.isArray,Rr=Array.prototype.indexOf,on=Array.from,Nr=Object.defineProperty,Ke=Object.getOwnPropertyDescriptor,Hn=Object.getOwnPropertyDescriptors,qr=Object.prototype,Hr=Array.prototype,sn=Object.getPrototypeOf,Sn=Object.isExtensible;const jn=()=>{};function jr(e){return e()}function St(e){for(var t=0;t<e.length;t++)e[t]()}const Ce=2,Fn=4,It=8,ln=16,Be=32,at=64,Et=128,pe=256,xt=512,fe=1024,Oe=2048,Xe=4096,Ae=8192,Bt=16384,Fr=32768,Rt=65536,zr=1<<17,Ur=1<<19,zn=1<<20,Kt=1<<21,We=Symbol("$state"),Vr=Symbol("legacy props"),Wr=Symbol("");function Un(e){return e===this.v}function Yr(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function cn(e){return!Yr(e,this.v)}function Xr(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Zr(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Gr(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Kr(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Jr(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function Qr(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function $r(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function ea(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let ot=!1,ta=!1;function na(){ot=!0}const un=1,dn=2,Vn=4,ra=8,aa=16,oa=1,sa=2,ia=4,la=8,ca=16,ua=1,da=2,ue=Symbol(),va="http://www.w3.org/1999/xhtml";function Wn(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let Y=null;function En(e){Y=e}function fa(e){return Yn().get(e)}function ha(e,t){return Yn().set(e,t),t}function V(e,t=!1,n){var r=Y={p:Y,c:null,d:!1,e:null,m:!1,s:e,x:null,l:null};ot&&!t&&(Y.l={s:null,u:null,r1:[],r2:ft(!1)}),vn(()=>{r.d=!0})}function W(e){const t=Y;if(t!==null){e!==void 0&&(t.x=e);const s=t.e;if(s!==null){var n=K,r=U;t.e=null;try{for(var a=0;a<s.length;a++){var o=s[a];je(o.effect),Me(o.reaction),fn(o.fn)}}finally{je(n),Me(r)}}Y=t.p,t.m=!0}return e||{}}function pt(){return!ot||Y!==null&&Y.l===null}function Yn(e){return Y===null&&Wn(),Y.c??(Y.c=new Map(ga(Y)||void 0))}function ga(e){let t=e.p;for(;t!==null;){const n=t.c;if(n!==null)return n;t=t.p}return null}function ae(e){if(typeof e!="object"||e===null||We in e)return e;const t=sn(e);if(t!==qr&&t!==Hr)return e;var n=new Map,r=an(e),a=N(0),o=U,s=l=>{var c=U;Me(o);var d=l();return Me(c),d};return r&&n.set("length",N(e.length)),new Proxy(e,{defineProperty(l,c,d){(!("value"in d)||d.configurable===!1||d.enumerable===!1||d.writable===!1)&&Qr();var u=n.get(c);return u===void 0?(u=s(()=>N(d.value)),n.set(c,u)):C(u,s(()=>ae(d.value))),!0},deleteProperty(l,c){var d=n.get(c);if(d===void 0)c in l&&n.set(c,s(()=>N(ue)));else{if(r&&typeof c=="string"){var u=n.get("length"),f=Number(c);Number.isInteger(f)&&f<u.v&&C(u,f)}C(d,ue),xn(a)}return!0},get(l,c,d){var h;if(c===We)return e;var u=n.get(c),f=c in l;if(u===void 0&&(!f||(h=Ke(l,c))!=null&&h.writable)&&(u=s(()=>N(ae(f?l[c]:ue))),n.set(c,u)),u!==void 0){var v=i(u);return v===ue?void 0:v}return Reflect.get(l,c,d)},getOwnPropertyDescriptor(l,c){var d=Reflect.getOwnPropertyDescriptor(l,c);if(d&&"value"in d){var u=n.get(c);u&&(d.value=i(u))}else if(d===void 0){var f=n.get(c),v=f==null?void 0:f.v;if(f!==void 0&&v!==ue)return{enumerable:!0,configurable:!0,value:v,writable:!0}}return d},has(l,c){var v;if(c===We)return!0;var d=n.get(c),u=d!==void 0&&d.v!==ue||Reflect.has(l,c);if(d!==void 0||K!==null&&(!u||(v=Ke(l,c))!=null&&v.writable)){d===void 0&&(d=s(()=>N(u?ae(l[c]):ue)),n.set(c,d));var f=i(d);if(f===ue)return!1}return u},set(l,c,d,u){var p;var f=n.get(c),v=c in l;if(r&&c==="length")for(var h=d;h<f.v;h+=1){var g=n.get(h+"");g!==void 0?C(g,ue):h in l&&(g=s(()=>N(ue)),n.set(h+"",g))}f===void 0?(!v||(p=Ke(l,c))!=null&&p.writable)&&(f=s(()=>N(void 0)),C(f,s(()=>ae(d))),n.set(c,f)):(v=f.v!==ue,C(f,s(()=>ae(d))));var y=Reflect.getOwnPropertyDescriptor(l,c);if(y!=null&&y.set&&y.set.call(u,d),!v){if(r&&typeof c=="string"){var _=n.get("length"),w=Number(c);Number.isInteger(w)&&w>=_.v&&C(_,w+1)}xn(a)}return!0},ownKeys(l){i(a);var c=Reflect.ownKeys(l).filter(f=>{var v=n.get(f);return v===void 0||v.v!==ue});for(var[d,u]of n)u.v!==ue&&!(d in l)&&c.push(d);return c},setPrototypeOf(){$r()}})}function xn(e,t=1){C(e,e.v+t)}function Qe(e){var t=Ce|Oe,n=U!==null&&(U.f&Ce)!==0?U:null;return K===null||n!==null&&(n.f&pe)!==0?t|=pe:K.f|=zn,{ctx:Y,deps:null,effects:null,equals:Un,f:t,fn:e,reactions:null,rv:0,v:null,wv:0,parent:n??K}}function oe(e){const t=Qe(e);return cr(t),t}function Xn(e){const t=Qe(e);return t.equals=cn,t}function Zn(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)Ie(t[n])}}function pa(e){for(var t=e.parent;t!==null;){if((t.f&Ce)===0)return t;t=t.parent}return null}function Gn(e){var t,n=K;je(pa(e));try{Zn(e),t=fr(e)}finally{je(n)}return t}function Kn(e){var t=Gn(e),n=(qe||(e.f&pe)!==0)&&e.deps!==null?Xe:fe;Te(e,n),e.equals(t)||(e.v=t,e.wv=dr())}const vt=new Map;function ft(e,t){var n={f:0,v:e,reactions:null,equals:Un,rv:0,wv:0};return n}function N(e,t){const n=ft(e);return cr(n),n}function Jn(e,t=!1){var r;const n=ft(e);return t||(n.equals=cn),ot&&Y!==null&&Y.l!==null&&((r=Y.l).s??(r.s=[])).push(n),n}function C(e,t,n=!1){U!==null&&!Pe&&pt()&&(U.f&(Ce|ln))!==0&&!(ce!=null&&ce.includes(e))&&ea();let r=n?ae(t):t;return Jt(e,r)}function Jt(e,t){if(!e.equals(t)){var n=e.v;_t?vt.set(e,t):vt.set(e,n),e.v=t,(e.f&Ce)!==0&&((e.f&Oe)!==0&&Gn(e),Te(e,(e.f&pe)===0?fe:Xe)),e.wv=dr(),Qn(e,Oe),pt()&&K!==null&&(K.f&fe)!==0&&(K.f&(Be|at))===0&&(ye===null?xa([e]):ye.push(e))}return t}function Qn(e,t){var n=e.reactions;if(n!==null)for(var r=pt(),a=n.length,o=0;o<a;o++){var s=n[o],l=s.f;(l&Oe)===0&&(!r&&s===K||(Te(s,t),(l&(fe|pe))!==0&&((l&Ce)!==0?Qn(s,Xe):zt(s))))}}let _a=!1;var Cn,$n,er,tr;function ma(){if(Cn===void 0){Cn=window,$n=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;er=Ke(t,"firstChild").get,tr=Ke(t,"nextSibling").get,Sn(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Sn(n)&&(n.__t=void 0)}}function Nt(e=""){return document.createTextNode(e)}function $e(e){return er.call(e)}function qt(e){return tr.call(e)}function x(e,t){return $e(e)}function z(e,t){{var n=$e(e);return n instanceof Comment&&n.data===""?qt(n):n}}function T(e,t=1,n=!1){let r=e;for(;t--;)r=qt(r);return r}function wa(e){e.textContent=""}function nr(e){K===null&&U===null&&Gr(),U!==null&&(U.f&pe)!==0&&K===null&&Zr(),_t&&Xr()}function ya(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function st(e,t,n,r=!0){var a=K,o={ctx:Y,deps:null,nodes_start:null,nodes_end:null,f:e|Oe,first:null,fn:t,last:null,next:null,parent:a,prev:null,teardown:null,transitions:null,wv:0};if(n)try{pn(o),o.f|=Fr}catch(c){throw Ie(o),c}else t!==null&&zt(o);var s=n&&o.deps===null&&o.first===null&&o.nodes_start===null&&o.teardown===null&&(o.f&(zn|Et))===0;if(!s&&r&&(a!==null&&ya(o,a),U!==null&&(U.f&Ce)!==0)){var l=U;(l.effects??(l.effects=[])).push(o)}return o}function vn(e){const t=st(It,null,!1);return Te(t,fe),t.teardown=e,t}function ve(e){nr();var t=K!==null&&(K.f&Be)!==0&&Y!==null&&!Y.m;if(t){var n=Y;(n.e??(n.e=[])).push({fn:e,effect:K,reaction:U})}else{var r=fn(e);return r}}function ka(e){return nr(),Ht(e)}function ba(e){const t=st(at,e,!0);return(n={})=>new Promise(r=>{n.outro?Ct(t,()=>{Ie(t),r(void 0)}):(Ie(t),r(void 0))})}function fn(e){return st(Fn,e,!1)}function Ht(e){return st(It,e,!0)}function ne(e,t=[],n=Qe){const r=t.map(n);return jt(()=>e(...r.map(i)))}function jt(e,t=0){return st(It|ln|t,e,!0)}function et(e,t=!0){return st(It|Be,e,!0,t)}function rr(e){var t=e.teardown;if(t!==null){const n=_t,r=U;Ln(!0),Me(null);try{t.call(null)}finally{Ln(n),Me(r)}}}function ar(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){var r=n.next;(n.f&at)!==0?n.parent=null:Ie(n,t),n=r}}function Sa(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&Be)===0&&Ie(t),t=n}}function Ie(e,t=!0){var n=!1;if((t||(e.f&Ur)!==0)&&e.nodes_start!==null){for(var r=e.nodes_start,a=e.nodes_end;r!==null;){var o=r===a?null:qt(r);r.remove(),r=o}n=!0}ar(e,t&&!n),Ot(e,0),Te(e,Bt);var s=e.transitions;if(s!==null)for(const c of s)c.stop();rr(e);var l=e.parent;l!==null&&l.first!==null&&or(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function or(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function Ct(e,t){var n=[];hn(e,n,!0),sr(n,()=>{Ie(e),t&&t()})}function sr(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var a of e)a.out(r)}else t()}function hn(e,t,n){if((e.f&Ae)===0){if(e.f^=Ae,e.transitions!==null)for(const s of e.transitions)(s.is_global||n)&&t.push(s);for(var r=e.first;r!==null;){var a=r.next,o=(r.f&Rt)!==0||(r.f&Be)!==0;hn(r,t,o?n:!1),r=a}}}function Tt(e){ir(e,!0)}function ir(e,t){if((e.f&Ae)!==0){e.f^=Ae,(e.f&fe)===0&&(e.f^=fe),mt(e)&&(Te(e,Oe),zt(e));for(var n=e.first;n!==null;){var r=n.next,a=(n.f&Rt)!==0||(n.f&Be)!==0;ir(n,a?t:!1),n=r}if(e.transitions!==null)for(const o of e.transitions)(o.is_global||t)&&o.in()}}let ht=[],Qt=[];function lr(){var e=ht;ht=[],St(e)}function Ea(){var e=Qt;Qt=[],St(e)}function gn(e){ht.length===0&&queueMicrotask(lr),ht.push(e)}function Tn(){ht.length>0&&lr(),Qt.length>0&&Ea()}let bt=!1,Lt=!1,Dt=null,Ye=!1,_t=!1;function Ln(e){_t=e}let dt=[];let U=null,Pe=!1;function Me(e){U=e}let K=null;function je(e){K=e}let ce=null;function cr(e){U!==null&&U.f&Kt&&(ce===null?ce=[e]:ce.push(e))}let le=null,ge=0,ye=null;function xa(e){ye=e}let ur=1,Pt=0,qe=!1;function dr(){return++ur}function mt(e){var f;var t=e.f;if((t&Oe)!==0)return!0;if((t&Xe)!==0){var n=e.deps,r=(t&pe)!==0;if(n!==null){var a,o,s=(t&xt)!==0,l=r&&K!==null&&!qe,c=n.length;if(s||l){var d=e,u=d.parent;for(a=0;a<c;a++)o=n[a],(s||!((f=o==null?void 0:o.reactions)!=null&&f.includes(d)))&&(o.reactions??(o.reactions=[])).push(d);s&&(d.f^=xt),l&&u!==null&&(u.f&pe)===0&&(d.f^=pe)}for(a=0;a<c;a++)if(o=n[a],mt(o)&&Kn(o),o.wv>e.wv)return!0}(!r||K!==null&&!qe)&&Te(e,fe)}return!1}function Ca(e,t){for(var n=t;n!==null;){if((n.f&Et)!==0)try{n.fn(e);return}catch{n.f^=Et}n=n.parent}throw bt=!1,e}function Ta(e){return(e.f&Bt)===0&&(e.parent===null||(e.parent.f&Et)===0)}function Ft(e,t,n,r){if(bt){if(n===null&&(bt=!1),Ta(t))throw e;return}n!==null&&(bt=!0);{Ca(e,t);return}}function vr(e,t,n=!0){var r=e.reactions;if(r!==null)for(var a=0;a<r.length;a++){var o=r[a];ce!=null&&ce.includes(e)||((o.f&Ce)!==0?vr(o,t,!1):t===o&&(n?Te(o,Oe):(o.f&fe)!==0&&Te(o,Xe),zt(o)))}}function fr(e){var h;var t=le,n=ge,r=ye,a=U,o=qe,s=ce,l=Y,c=Pe,d=e.f;le=null,ge=0,ye=null,qe=(d&pe)!==0&&(Pe||!Ye||U===null),U=(d&(Be|at))===0?e:null,ce=null,En(e.ctx),Pe=!1,Pt++,e.f|=Kt;try{var u=(0,e.fn)(),f=e.deps;if(le!==null){var v;if(Ot(e,ge),f!==null&&ge>0)for(f.length=ge+le.length,v=0;v<le.length;v++)f[ge+v]=le[v];else e.deps=f=le;if(!qe)for(v=ge;v<f.length;v++)((h=f[v]).reactions??(h.reactions=[])).push(e)}else f!==null&&ge<f.length&&(Ot(e,ge),f.length=ge);if(pt()&&ye!==null&&!Pe&&f!==null&&(e.f&(Ce|Xe|Oe))===0)for(v=0;v<ye.length;v++)vr(ye[v],e);return a!==e&&(Pt++,ye!==null&&(r===null?r=ye:r.push(...ye))),u}finally{le=t,ge=n,ye=r,U=a,qe=o,ce=s,En(l),Pe=c,e.f^=Kt}}function La(e,t){let n=t.reactions;if(n!==null){var r=Rr.call(n,e);if(r!==-1){var a=n.length-1;a===0?n=t.reactions=null:(n[r]=n[a],n.pop())}}n===null&&(t.f&Ce)!==0&&(le===null||!le.includes(t))&&(Te(t,Xe),(t.f&(pe|xt))===0&&(t.f^=xt),Zn(t),Ot(t,0))}function Ot(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)La(e,n[r])}function pn(e){var t=e.f;if((t&Bt)===0){Te(e,fe);var n=K,r=Y,a=Ye;K=e,Ye=!0;try{(t&ln)!==0?Sa(e):ar(e),rr(e);var o=fr(e);e.teardown=typeof o=="function"?o:null,e.wv=ur;var s=e.deps,l;bn&&ta&&e.f&Oe}catch(c){Ft(c,e,n,r||e.ctx)}finally{Ye=a,K=n}}}function Da(){try{Kr()}catch(e){if(Dt!==null)Ft(e,Dt,null);else throw e}}function hr(){var e=Ye;try{var t=0;for(Ye=!0;dt.length>0;){t++>1e3&&Da();var n=dt,r=n.length;dt=[];for(var a=0;a<r;a++){var o=Oa(n[a]);Pa(o)}vt.clear()}}finally{Lt=!1,Ye=e,Dt=null}}function Pa(e){var t=e.length;if(t!==0)for(var n=0;n<t;n++){var r=e[n];if((r.f&(Bt|Ae))===0)try{mt(r)&&(pn(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null?or(r):r.fn=null))}catch(a){Ft(a,r,null,r.ctx)}}}function zt(e){Lt||(Lt=!0,queueMicrotask(hr));for(var t=Dt=e;t.parent!==null;){t=t.parent;var n=t.f;if((n&(at|Be))!==0){if((n&fe)===0)return;t.f^=fe}}dt.push(t)}function Oa(e){for(var t=[],n=e;n!==null;){var r=n.f,a=(r&(Be|at))!==0,o=a&&(r&fe)!==0;if(!o&&(r&Ae)===0){if((r&Fn)!==0)t.push(n);else if(a)n.f^=fe;else{var s=U;try{U=n,mt(n)&&pn(n)}catch(d){Ft(d,n,null,n.ctx)}finally{U=s}}var l=n.first;if(l!==null){n=l;continue}}var c=n.parent;for(n=n.next;n===null&&c!==null;)n=c.next,c=c.parent}return t}function Ma(e){var t;for(Tn();dt.length>0;)Lt=!0,hr(),Tn();return t}async function Aa(){await Promise.resolve(),Ma()}function i(e){var t=e.f,n=(t&Ce)!==0;if(U!==null&&!Pe){if(!(ce!=null&&ce.includes(e))){var r=U.deps;e.rv<Pt&&(e.rv=Pt,le===null&&r!==null&&r[ge]===e?ge++:le===null?le=[e]:(!qe||!le.includes(e))&&le.push(e))}}else if(n&&e.deps===null&&e.effects===null){var a=e,o=a.parent;o!==null&&(o.f&pe)===0&&(a.f^=pe)}return n&&(a=e,mt(a)&&Kn(a)),_t&&vt.has(e)?vt.get(e):e.v}function tt(e){var t=Pe;try{return Pe=!0,e()}finally{Pe=t}}const Ia=-7169;function Te(e,t){e.f=e.f&Ia|t}function Ba(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(We in e)$t(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&We in n&&$t(n)}}}function $t(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{$t(e[r],t)}catch{}const n=sn(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=Hn(n);for(let a in r){const o=r[a].get;if(o)try{o.call(e)}catch{}}}}}const Ra=["touchstart","touchmove"];function Na(e){return Ra.includes(e)}let Dn=!1;function qa(){Dn||(Dn=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const n of e.target.elements)(t=n.__on_r)==null||t.call(n)})},{capture:!0}))}function gr(e){var t=U,n=K;Me(null),je(null);try{return e()}finally{Me(t),je(n)}}function Ha(e,t,n,r=n){e.addEventListener(t,()=>gr(n));const a=e.__on_r;a?e.__on_r=()=>{a(),r(!0)}:e.__on_r=()=>r(!0),qa()}const pr=new Set,en=new Set;function ja(e,t,n,r={}){function a(o){if(r.capture||ct.call(t,o),!o.cancelBubble)return gr(()=>n==null?void 0:n.call(this,o))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?gn(()=>{t.addEventListener(e,a,r)}):t.addEventListener(e,a,r),a}function Ue(e,t,n,r,a){var o={capture:r,passive:a},s=ja(e,t,n,o);(t===document.body||t===window||t===document)&&vn(()=>{t.removeEventListener(e,s,o)})}function me(e){for(var t=0;t<e.length;t++)pr.add(e[t]);for(var n of en)n(e)}function ct(e){var p;var t=this,n=t.ownerDocument,r=e.type,a=((p=e.composedPath)==null?void 0:p.call(e))||[],o=a[0]||e.target,s=0,l=e.__root;if(l){var c=a.indexOf(l);if(c!==-1&&(t===document||t===window)){e.__root=t;return}var d=a.indexOf(t);if(d===-1)return;c<=d&&(s=c)}if(o=a[s]||e.target,o!==t){Nr(e,"currentTarget",{configurable:!0,get(){return o||n}});var u=U,f=K;Me(null),je(null);try{for(var v,h=[];o!==null;){var g=o.assignedSlot||o.parentNode||o.host||null;try{var y=o["__"+r];if(y!=null&&(!o.disabled||e.target===o))if(an(y)){var[_,...w]=y;_.apply(o,[e,...w])}else y.call(o,e)}catch(L){v?h.push(L):v=L}if(e.cancelBubble||g===t||g===null)break;o=g}if(v){for(let L of h)queueMicrotask(()=>{throw L});throw v}}finally{e.__root=t,delete e.currentTarget,Me(u),je(f)}}}function _r(e){var t=document.createElement("template");return t.innerHTML=e,t.content}function gt(e,t){var n=K;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function q(e,t){var n=(t&ua)!==0,r=(t&da)!==0,a,o=!e.startsWith("<!>");return()=>{a===void 0&&(a=_r(o?e:"<!>"+e),n||(a=$e(a)));var s=r||$n?document.importNode(a,!0):a.cloneNode(!0);if(n){var l=$e(s),c=s.lastChild;gt(l,c)}else gt(s,s);return s}}function De(e,t,n="svg"){var r=!e.startsWith("<!>"),a=`<${n}>${r?e:"<!>"+e}</${n}>`,o;return()=>{if(!o){var s=_r(a),l=$e(s);o=$e(l)}var c=o.cloneNode(!0);return gt(c,c),c}}function te(e=""){{var t=Nt(e+"");return gt(t,t),t}}function _e(){var e=document.createDocumentFragment(),t=document.createComment(""),n=Nt();return e.append(t,n),gt(t,n),e}function b(e,t){e!==null&&e.before(t)}function it(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function Fa(e,t){return za(e,t)}const Ge=new Map;function za(e,{target:t,anchor:n,props:r={},events:a,context:o,intro:s=!0}){ma();var l=new Set,c=f=>{for(var v=0;v<f.length;v++){var h=f[v];if(!l.has(h)){l.add(h);var g=Na(h);t.addEventListener(h,ct,{passive:g});var y=Ge.get(h);y===void 0?(document.addEventListener(h,ct,{passive:g}),Ge.set(h,1)):Ge.set(h,y+1)}}};c(on(pr)),en.add(c);var d=void 0,u=ba(()=>{var f=n??t.appendChild(Nt());return et(()=>{if(o){V({});var v=Y;v.c=o}a&&(r.$$events=a),d=e(f,r)||{},o&&W()}),()=>{var g;for(var v of l){t.removeEventListener(v,ct);var h=Ge.get(v);--h===0?(document.removeEventListener(v,ct),Ge.delete(v)):Ge.set(v,h)}en.delete(c),f!==n&&((g=f.parentNode)==null||g.removeChild(f))}});return Ua.set(d,u),d}let Ua=new WeakMap;function H(e,t,[n,r]=[0,0]){var a=e,o=null,s=null,l=ue,c=n>0?Rt:0,d=!1;const u=(v,h=!0)=>{d=!0,f(h,v)},f=(v,h)=>{l!==(l=v)&&(l?(o?Tt(o):h&&(o=et(()=>h(a))),s&&Ct(s,()=>{s=null})):(s?Tt(s):h&&(s=et(()=>h(a,[n+1,r]))),o&&Ct(o,()=>{o=null})))};jt(()=>{d=!1,t(u),d||f(null,null)},c)}function Ee(e,t){Ht(()=>{var n=t();for(var r in n){var a=n[r];a?e.style.setProperty(r,a):e.style.removeProperty(r)}}),vn(()=>{e.remove()})}function Va(e,t){return t}function Wa(e,t,n,r){for(var a=[],o=t.length,s=0;s<o;s++)hn(t[s].e,a,!0);var l=o>0&&a.length===0&&n!==null;if(l){var c=n.parentNode;wa(c),c.append(n),r.clear(),Ne(e,t[0].prev,t[o-1].next)}sr(a,()=>{for(var d=0;d<o;d++){var u=t[d];l||(r.delete(u.k),Ne(e,u.prev,u.next)),Ie(u.e,!l)}})}function He(e,t,n,r,a,o=null){var s=e,l={flags:t,items:new Map,first:null},c=(t&Vn)!==0;if(c){var d=e;s=d.appendChild(Nt())}var u=null,f=!1,v=Xn(()=>{var h=n();return an(h)?h:h==null?[]:on(h)});jt(()=>{var h=i(v),g=h.length;f&&g===0||(f=g===0,Ya(h,l,s,a,t,r,n),o!==null&&(g===0?u?Tt(u):u=et(()=>o(s)):u!==null&&Ct(u,()=>{u=null})),i(v))})}function Ya(e,t,n,r,a,o,s){var O,X,j,re;var l=(a&ra)!==0,c=(a&(un|dn))!==0,d=e.length,u=t.items,f=t.first,v=f,h,g=null,y,_=[],w=[],p,L,m,S;if(l)for(S=0;S<d;S+=1)p=e[S],L=o(p,S),m=u.get(L),m!==void 0&&((O=m.a)==null||O.measure(),(y??(y=new Set)).add(m));for(S=0;S<d;S+=1){if(p=e[S],L=o(p,S),m=u.get(L),m===void 0){var k=v?v.e.nodes_start:n;g=Za(k,t,g,g===null?t.first:g.next,p,L,S,r,a,s),u.set(L,g),_=[],w=[],v=g.next;continue}if(c&&Xa(m,p,S,a),(m.e.f&Ae)!==0&&(Tt(m.e),l&&((X=m.a)==null||X.unfix(),(y??(y=new Set)).delete(m))),m!==v){if(h!==void 0&&h.has(m)){if(_.length<w.length){var D=w[0],B;g=D.prev;var P=_[0],M=_[_.length-1];for(B=0;B<_.length;B+=1)Pn(_[B],D,n);for(B=0;B<w.length;B+=1)h.delete(w[B]);Ne(t,P.prev,M.next),Ne(t,g,P),Ne(t,M,D),v=D,g=M,S-=1,_=[],w=[]}else h.delete(m),Pn(m,v,n),Ne(t,m.prev,m.next),Ne(t,m,g===null?t.first:g.next),Ne(t,g,m),g=m;continue}for(_=[],w=[];v!==null&&v.k!==L;)(v.e.f&Ae)===0&&(h??(h=new Set)).add(v),w.push(v),v=v.next;if(v===null)continue;m=v}_.push(m),g=m,v=m.next}if(v!==null||h!==void 0){for(var A=h===void 0?[]:on(h);v!==null;)(v.e.f&Ae)===0&&A.push(v),v=v.next;var E=A.length;if(E>0){var I=(a&Vn)!==0&&d===0?n:null;if(l){for(S=0;S<E;S+=1)(j=A[S].a)==null||j.measure();for(S=0;S<E;S+=1)(re=A[S].a)==null||re.fix()}Wa(t,A,I,u)}}l&&gn(()=>{var ee;if(y!==void 0)for(m of y)(ee=m.a)==null||ee.apply()}),K.first=t.first&&t.first.e,K.last=g&&g.e}function Xa(e,t,n,r){(r&un)!==0&&Jt(e.v,t),(r&dn)!==0?Jt(e.i,n):e.i=n}function Za(e,t,n,r,a,o,s,l,c,d){var u=(c&un)!==0,f=(c&aa)===0,v=u?f?Jn(a):ft(a):a,h=(c&dn)===0?s:ft(s),g={i:h,v,k:o,a:null,e:null,prev:n,next:r};try{return g.e=et(()=>l(e,v,h,d),_a),g.e.prev=n&&n.e,g.e.next=r&&r.e,n===null?t.first=g:(n.next=g,n.e.next=g.e),r!==null&&(r.prev=g,r.e.prev=g.e),g}finally{}}function Pn(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,a=t?t.e.nodes_start:n,o=e.e.nodes_start;o!==r;){var s=qt(o);a.before(o),o=s}}function Ne(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function Ze(e,t,...n){var r=e,a=jn,o;jt(()=>{a!==(a=t())&&(o&&(Ie(o),o=null),o=et(()=>a(r,...n)))},Rt)}function mr(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=mr(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Ga(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=mr(e))&&(r&&(r+=" "),r+=t);return r}function Q(e){return typeof e=="object"?Ga(e):e??""}const On=[...` 	
\r\f \v\uFEFF`];function Ka(e,t,n){var r=e==null?"":""+e;if(t&&(r=r?r+" "+t:t),n){for(var a in n)if(n[a])r=r?r+" "+a:a;else if(r.length)for(var o=a.length,s=0;(s=r.indexOf(a,s))>=0;){var l=s+o;(s===0||On.includes(r[s-1]))&&(l===r.length||On.includes(r[l]))?r=(s===0?"":r.substring(0,s))+r.substring(l+1):s=l}}return r===""?null:r}function Ja(e,t){return e==null?null:String(e)}function G(e,t,n,r,a,o){var s=e.__className;if(s!==n||s===void 0){var l=Ka(n,r,o);l==null?e.removeAttribute("class"):e.className=l,e.__className=n}else if(o&&a!==o)for(var c in o){var d=!!o[c];(a==null||d!==!!a[c])&&e.classList.toggle(c,d)}return o}function nt(e,t,n,r){var a=e.__style;if(a!==t){var o=Ja(t);o==null?e.removeAttribute("style"):e.style.cssText=o,e.__style=t}return r}const Qa=Symbol("is custom element"),$a=Symbol("is html");function Vt(e,t){var n=_n(e);n.value===(n.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function Wt(e,t){var n=_n(e);n.checked!==(n.checked=t??void 0)&&(e.checked=t)}function xe(e,t,n,r){var a=_n(e);a[t]!==(a[t]=n)&&(t==="loading"&&(e[Wr]=n),n==null?e.removeAttribute(t):typeof n!="string"&&eo(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function _n(e){return e.__attributes??(e.__attributes={[Qa]:e.nodeName.includes("-"),[$a]:e.namespaceURI===va})}var Mn=new Map;function eo(e){var t=Mn.get(e.nodeName);if(t)return t;Mn.set(e.nodeName,t=[]);for(var n,r=e,a=Element.prototype;a!==r;){n=Hn(r);for(var o in n)n[o].set&&t.push(o);r=sn(r)}return t}function mn(e,t,n=t){var r=pt();Ha(e,"input",a=>{var o=a?e.defaultValue:e.value;if(o=Yt(e)?Xt(o):o,n(o),r&&o!==(o=t())){var s=e.selectionStart,l=e.selectionEnd;e.value=o??"",l!==null&&(e.selectionStart=s,e.selectionEnd=Math.min(l,e.value.length))}}),tt(t)==null&&e.value&&n(Yt(e)?Xt(e.value):e.value),Ht(()=>{var a=t();Yt(e)&&a===Xt(e.value)||e.type==="date"&&!a&&!e.value||a!==e.value&&(e.value=a??"")})}function Yt(e){var t=e.type;return t==="number"||t==="range"}function Xt(e){return e===""?null:+e}function An(e,t){return e===t||(e==null?void 0:e[We])===t}function ke(e={},t,n,r){return fn(()=>{var a,o;return Ht(()=>{a=o,o=[],tt(()=>{e!==n(...o)&&(t(e,...o),a&&An(n(...a),e)&&t(null,...a))})}),()=>{gn(()=>{o&&An(n(...o),e)&&t(null,...o)})}}),e}function Ut(e=!1){const t=Y,n=t.l.u;if(!n)return;let r=()=>Ba(t.s);if(e){let a=0,o={};const s=Qe(()=>{let l=!1;const c=t.s;for(const d in c)c[d]!==o[d]&&(o[d]=c[d],l=!0);return l&&a++,a});r=()=>i(s)}n.b.length&&ka(()=>{In(t,r),St(n.b)}),ve(()=>{const a=tt(()=>n.m.map(jr));return()=>{for(const o of a)typeof o=="function"&&o()}}),n.a.length&&ve(()=>{In(t,r),St(n.a)})}function In(e,t){if(e.l.s)for(const n of e.l.s)i(n);t()}let yt=!1;function to(e){var t=yt;try{return yt=!1,[e(),yt]}finally{yt=t}}function Bn(e){var t;return((t=e.ctx)==null?void 0:t.d)??!1}function J(e,t,n,r){var k;var a=(n&oa)!==0,o=!ot||(n&sa)!==0,s=(n&la)!==0,l=(n&ca)!==0,c=!1,d;s?[d,c]=to(()=>e[t]):d=e[t];var u=We in e||Vr in e,f=s&&(((k=Ke(e,t))==null?void 0:k.set)??(u&&t in e&&(D=>e[t]=D)))||void 0,v=r,h=!0,g=!1,y=()=>(g=!0,h&&(h=!1,l?v=tt(r):v=r),v);d===void 0&&r!==void 0&&(f&&o&&Jr(),d=y(),f&&f(d));var _;if(o)_=()=>{var D=e[t];return D===void 0?y():(h=!0,g=!1,D)};else{var w=(a?Qe:Xn)(()=>e[t]);w.f|=zr,_=()=>{var D=i(w);return D!==void 0&&(v=void 0),D===void 0?v:D}}if((n&ia)===0)return _;if(f){var p=e.$$legacy;return function(D,B){return arguments.length>0?((!o||!B||p||c)&&f(B?_():D),D):_()}}var L=!1,m=Jn(d),S=Qe(()=>{var D=_(),B=i(m);return L?(L=!1,B):m.v=D});return s&&i(S),a||(S.equals=cn),function(D,B){if(arguments.length>0){const P=B?i(S):o&&s?ae(D):D;if(!S.equals(P)){if(L=!0,C(m,P),g&&v!==void 0&&(v=P),Bn(S))return D;tt(()=>i(S))}return D}return Bn(S)?S.v:i(S)}}function Le(e){Y===null&&Wn(),ot&&Y.l!==null?no(Y).m.push(e):ve(()=>{const t=tt(e);if(typeof t=="function")return t})}function no(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const ro="5";var qn;typeof window<"u"&&((qn=window.__svelte??(window.__svelte={})).v??(qn.v=new Set)).add(ro);let ut=N("");function ao(e){C(ut,e,!0)}var oo=q('<div class="notification svelte-1h5k2zn"> </div>');function so(e,t){V(t,!0),ve(()=>{i(ut);const o=setTimeout(()=>{C(ut,"")},800);return()=>{clearTimeout(o)}});var n=_e(),r=z(n);{var a=o=>{var s=oo(),l=x(s);ne(()=>it(l,i(ut))),b(o,s)};H(r,o=>{i(ut)&&o(a)})}b(e,n),W()}na();var io=q('<span class="vh svelte-14jjkpd"> </span>');function rt(e,t){var n=io(),r=x(n);ne(()=>it(r,t.children)),b(e,n)}var lo=De('<svg viewBox="0 0 135.467 135.467" xmlns="http://www.w3.org/2000/svg" class="svelte-1lqi79o"><rect style="fill:currentColor;stroke-width:.275876" width="132.292" height="21.167" x="1.587" y="12.171" rx="8.467" ry="8.467"></rect><rect style="fill:currentColor;stroke-width:.275876" width="132.292" height="21.167" x="1.587" y="102.129" rx="8.467" ry="8.467"></rect><rect style="fill:currentColor;stroke-width:.275876" width="132.292" height="21.167" x="1.587" y="57.15" rx="8.467" ry="8.467"></rect></svg>');function co(e){var t=lo();b(e,t)}const wr=(e,t)=>{if(!t)return e;if(t.type==="closed")return{type:"closed"};switch(e.type){case"opened":return t.type==="close"?{type:"closing"}:t.type==="swipe"?{type:"openSwiping"}:e;case"closed":return t.type==="open"?{type:"opening"}:t.type==="swipe"?{type:"closeSwiping"}:e;case"openSwiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"closeSwiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"opening":return t.type==="opened"?{type:"opened"}:e;default:return e}};let tn=N(ae(wr({type:"closed"})));const ze=e=>{C(tn,wr(i(tn),e),!0)},yr=()=>i(tn),uo=()=>{ze({type:"open"})},vo=()=>{ze({type:"close"})},fo=()=>{const e=yr().type;e==="closed"?uo():e==="opened"&&vo()};var ho=q('<button class="buttonMenu svelte-1tlpicf"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>');function kr(e,t){V(t,!1),Ut();var n=ho();n.__click=[fo];var r=x(n);Ee(r,()=>({"--size":"28px"})),co(r.lastChild);var a=T(r,2);rt(a,{children:(o,s)=>{var l=te("Menu");b(o,l)}}),b(e,n),W()}me(["click"]);var go=De('<svg width="24" height="24" viewBox="0 0 0.72 0.72" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-1lqi79o"><path d="M.16.26h.4m-.4.2h.4M.11.26h.5m-.5.2h.5m-.4.15.1-.5m.1.5.1-.5" stroke="currentColor" stroke-width=".1" stroke-linecap="round" stroke-linejoin="round"></path></svg>');function po(e){var t=go();b(e,t)}var _o=De('<svg viewBox="0 0 13.229 13.229" xmlns="http://www.w3.org/2000/svg" class="svelte-1lqi79o"><rect style="fill:currentColor;stroke-width:.275872" width="8.467" height="1.587" x="2.381" y="5.821" rx=".529" ry=".529"></rect><rect style="fill:currentColor;stroke-width:.275872" width="8.467" height="1.587" x="-10.848" y="5.821" rx=".529" ry=".529" transform="rotate(-90)"></rect></svg>');function mo(e){var t=_o();b(e,t)}var wo=De('<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-1lqi79o"><path fill-rule="evenodd" clip-rule="evenodd" d="M14.279 2.152C13.909 2 13.439 2 12.5 2s-1.409 0-1.779.152a2.008 2.008 0 0 0-1.09 1.083c-.094.223-.13.484-.145.863a1.615 1.615 0 0 1-.796 1.353 1.64 1.64 0 0 1-1.579.008c-.338-.178-.583-.276-.825-.308a2.026 2.026 0 0 0-1.49.396c-.318.242-.553.646-1.022 1.453-.47.807-.704 1.21-.757 1.605-.07.526.074 1.058.4 1.479.148.192.357.353.68.555.477.297.783.803.783 1.361 0 .558-.306 1.064-.782 1.36-.324.203-.533.364-.682.556-.325.421-.469.953-.399 1.479.053.394.287.798.757 1.605.47.807.704 1.21 1.022 1.453.424.323.96.465 1.49.396.242-.032.487-.13.825-.308a1.64 1.64 0 0 1 1.58.008c.486.28.774.795.795 1.353.015.38.051.64.145.863.204.49.596.88 1.09 1.083.37.152.84.152 1.779.152s1.409 0 1.779-.152a2.008 2.008 0 0 0 1.09-1.083c.094-.223.13-.483.145-.863.02-.558.309-1.074.796-1.353a1.64 1.64 0 0 1 1.579-.008c.338.178.583.276.825.308.53.07 1.066-.073 1.49-.396.318-.242.553-.646 1.022-1.453.47-.807.704-1.21.757-1.605a1.99 1.99 0 0 0-.4-1.479c-.148-.192-.357-.353-.68-.555-.477-.297-.783-.803-.783-1.361 0-.558.306-1.064.782-1.36.324-.203.533-.364.682-.556a1.99 1.99 0 0 0 .399-1.479c-.053-.394-.287-.798-.757-1.605-.47-.807-.704-1.21-1.022-1.453a2.026 2.026 0 0 0-1.49-.396c-.242.032-.487.13-.825.308a1.64 1.64 0 0 1-1.58-.008 1.615 1.615 0 0 1-.795-1.353c-.015-.38-.051-.64-.145-.863a2.007 2.007 0 0 0-1.09-1.083ZM12.5 15c1.67 0 3.023-1.343 3.023-3S14.169 9 12.5 9c-1.67 0-3.023 1.343-3.023 3s1.354 3 3.023 3Z" fill="currentColor"></path></svg>');function br(e){var t=wo();b(e,t)}const F=ae({pathname:window.location.pathname,search:window.location.search,historyLength:0}),Sr=()=>{var e;return((e=new URLSearchParams(F.search).get("selectedTags"))==null?void 0:e.split(","))||[]};let kt=Sr();const yo=()=>{const e=Sr();return e.join(",")===kt.join(",")||(kt=e),kt},ko=()=>{F.pathname=document.location.pathname,F.search=document.location.search,F.historyLength=Math.max(0,F.historyLength-=1)};window.addEventListener("popstate",ko);const Mt=e=>{const[t,n]=e.split("?");F.pathname=t,F.search=n?`?${n}`:"",F.historyLength+=1,window.history.pushState(null,"",e)},bo=e=>{const[t,n]=e.split("?");F.pathname=t,F.search=n?`?${n}`:"",window.history.replaceState(null,"",e)},wt=(e="/")=>{const[t,n]=e.split("?");F.historyLength<=0?(window.history.replaceState(null,"",e),F.historyLength=0,F.pathname=t,F.search=n?`?${n}`:""):window.history.back()},Fe=()=>{var e;return((e=new URLSearchParams(F.search).get("stackPages"))==null?void 0:e.split(","))||[]};let Je=N(ae(Fe()));const lt=e=>{const t=Fe();t.push(e);const n=new URLSearchParams(F.search);n.set("stackPages",t.join(",")),C(Je,t,!0),Mt(`${F.pathname}?${n.toString()}`)},So=()=>{const e=i(Je).slice(0,-1);C(Je,e,!0)},Eo=()=>{const e=Fe();return e.length>=i(Je).length?e.reduce((t,n)=>[...t,{page:n,shown:!0}],[]):i(Je).reduce((t,n,r)=>[...t,{page:n,shown:r!==i(Je).length-1}],[])},xo=e=>{e.preventDefault(),lt("settings")},Co=e=>{e.preventDefault(),Mt("/")},To=e=>{e.preventDefault(),lt("newBookmark")};var Lo=q('<a href="/"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Home</span></a>'),Do=q('<a class="link svelte-f7zdrg"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Settings</span></a>'),Po=q('<a class="addBookmark svelte-f7zdrg"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Add bookmark</span></a>'),Oo=q('<div class="header svelte-f7zdrg"><div class="top svelte-f7zdrg"><div class="desktop svelte-f7zdrg"><!></div> <div class="mobile svelte-f7zdrg"><!></div> <!></div></div>');function Mo(e,t){V(t,!0);const n=()=>{const _=Fe();_.includes("settings")||_.push("settings");const w=new URLSearchParams(F.search);return w.set("stackPages",_.join(",")),`${F.pathname}?${w}`};let a=oe(()=>{const _=Fe();_.includes("newBookmark")||_.push("newBookmark");const w=new URLSearchParams(F.search);return w.set("stackPages",_.join(",")),`${F.pathname}?${w}`}),o=oe(n);var s=Oo(),l=x(s),c=x(l),d=x(c);{var u=_=>{var w=Lo();w.__click=[Co],G(w,1,Q(["link","hash"]),"svelte-f7zdrg");var p=x(w);Ee(p,()=>({"--size":"20px"})),po(p.lastChild),b(_,w)},f=_=>{var w=Do();w.__click=[xo];var p=x(w);Ee(p,()=>({"--size":"20px"})),br(p.lastChild),ne(()=>xe(w,"href",i(o))),b(_,w)};H(d,_=>{F.pathname==="/settings"?_(u):_(f,!1)})}var v=T(c,2),h=x(v);kr(h,{});var g=T(v,2);{var y=_=>{var w=Po();w.__click=[To];var p=x(w);Ee(p,()=>({"--size":"24px","--color":"#b0b0b0"})),mo(p.lastChild),ne(()=>xe(w,"href",i(a))),b(_,w)};H(g,_=>{F.pathname!=="/settings"&&_(y)})}b(e,s),W()}me(["click"]);const Er=()=>window.matchMedia("(max-width: 768px)").matches;let xr=N(ae(Er()));const Ao=(e,t)=>{let n=null;return()=>{n&&clearTimeout(n),n=setTimeout(()=>{e()},t)}},Io=Ao(()=>{C(xr,Er(),!0)},16);window.addEventListener("resize",Io);const Cr=()=>i(xr),de=ae({working:!1,swipingPercentage:1,isSwiping:!1});function Bo(e,t){V(t,!0);let n=J(t,"dialog",7),r=null;const a=()=>{t.dialogState==="swiping"&&t.onClose()};ve(()=>(t.dialogState==="swiping"&&(r=setTimeout(a,3e3)),()=>{r&&(clearTimeout(r),r=null)}));const o=3,s=50,l=5,c=.6,d=.3,u=.2,f=.95;let v=0,h=0,g=0,y=!1,_=!1,w=0,p=0,L=0;const m=()=>{v=0,h=0,y=!1,_=!1,w=0,p=0,L=0,g=0,r&&clearTimeout(r)},S=I=>{if(!n()){console.warn("Touch start: No dialog element");return}if(t.dialogState!=="opened"){console.warn(`Touch start: Invalid sidebar state: ${t.dialogState}`);return}v=I.touches[0].clientX,h=I.touches[0].clientY,g=performance.now(),y=!0,_=!1},k=I=>t.dialogState==="opened"&&I>0||t.dialogState==="swiping"&&I>0,D=I=>{if(n()){n().style.setProperty("--transition-timing","0s"),t.onSwipe();try{const O=window.getComputedStyle(n()),X=O.transform||O.webkitTransform||"";if(p=n().offsetWidth,(t.dialogState==="swiping"||t.dialogState==="opened")&&(w=0),X&&X!=="none")try{w=new DOMMatrix(X).m41}catch{console.warn("Could not parse transform matrix, using default position")}_=!0}catch(O){console.error("Error during swipe initialization:",O),m()}}},B=()=>{if(!n())return;const O=Math.abs(w+L*p/100)/p;n().style.setProperty("--backdrop-bg",`rgba(0, 0, 0, ${.25*(1-O)})`)},P=I=>{if(!y)return;const O=I.touches[0].clientX,X=I.touches[0].clientY,j=O-v,re=X-h,ee=Math.abs(j)>Math.abs(re),se=Math.abs(j)>o;if(!_)if(ee&&se&&k(j))try{D(j)}catch(be){console.error("Error initializing swipe:",be),m();return}else return;if(!n()||(_&&ee&&I.preventDefault(),!k(j)))return;let R=w+j*f;R=Math.max(0,Math.min(p,R)),n().style.transform=`translate3d(${R}px, 0, 0)`,de.swipingPercentage=Math.abs(1-R/p),L=(R-w)/p*100,t.dialogState==="swiping"&&(r&&clearTimeout(r),r=setTimeout(a,3e3)),B()},M=I=>{const O=Math.abs(I);if(O>=c)return l;if(O>=d){const X=(O-d)/(c-d);return s-X*(s-l)}else return s},A=(I,O)=>{if(Math.abs(I)>=c)return u*.5;const j=Math.abs(L)/100;return O?u*Math.max(.5,1-j):u*Math.max(.5,j)},E=I=>{var se,R;if(!y||!n()){m();return}if(!_){m();return}let O=0;if((se=I==null?void 0:I.changedTouches)!=null&&se[0]){const Z=I.changedTouches[0].clientX,be=performance.now()-g;be>0&&(O=(Z-v)/be)}const X=M(O);let j=null;t.dialogState==="swiping"&&(j=Math.abs(L)>X||O<-.3?"close":"open");const re=t.dialogState==="swiping"&&j==="close",ee=A(O,re);n().style.setProperty("--transition-timing",`${ee}s`),n().addEventListener("transitionend",()=>{var Z;(Z=n())==null||Z.style.removeProperty("--transition-timing")},{once:!0}),n().offsetWidth,n().style.transform="",j==="open"?t.onOpen():j==="close"&&t.onClose(),(R=n())==null||R.style.removeProperty("--backdrop-bg"),m()};Le(()=>(n().addEventListener("touchstart",S,{passive:!0}),n().addEventListener("touchmove",P,{passive:!1}),n().addEventListener("touchend",E,{passive:!0}),n().addEventListener("touchcancel",E,{passive:!0}),()=>{n().removeEventListener("touchstart",S),n().removeEventListener("touchmove",P),n().removeEventListener("touchend",E),n().removeEventListener("touchcancel",E)})),W()}var Ro=De('<svg viewBox="0 0 5.292 5.292" xmlns="http://www.w3.org/2000/svg" class="svelte-1lqi79o"><path style="fill:currentColor;stroke-width:.374736" transform="scale(1.02869 .97047) rotate(45)" d="M2.678-1.906h.514V1.18h-.514z"></path><path style="fill:currentColor;stroke-width:.374736" transform="scale(-1.02869 -.97047) rotate(-45)" d="M.664-5.762h.514v3.086H.664z"></path></svg>');function Tr(e){var t=Ro();b(e,t)}var No=(e,t)=>{t.onStartClose()},qo=q('<dialog><div class="dialogInner svelte-yc4win"><span tabindex="1"></span> <!> <div class="header svelte-yc4win"><div><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button></div></div></div></dialog> <!>',1);function Ho(e,t){V(t,!0);let n=200,r=N(null),a=N(null);const o=p=>{p.preventDefault(),t.onStartClose()};Le(()=>{var p,L;return console.log("swiping mounted"),(p=i(r))==null||p.addEventListener("close",t.onClosed),(L=i(r))==null||L.addEventListener("cancel",o),()=>{var m,S;(m=i(r))==null||m.removeEventListener("close",t.onClosed),(S=i(r))==null||S.removeEventListener("cancel",o)}});const s=()=>{var p,L,m;(p=i(r))==null||p.style.removeProperty("--transition-timing"),(L=i(r))==null||L.style.removeProperty("transform"),(m=i(r))==null||m.style.removeProperty("--backdrop-bg")};ve(()=>{var p,L;if(t.dialogState,!!i(r))switch(t.dialogState){case"opening":{i(r).open||i(r).showModal(),i(r).getBoundingClientRect();const m=setTimeout(()=>{s()},n+1),S=()=>{clearTimeout(m),s()};return(p=i(r))==null||p.addEventListener("transitionend",S,{once:!0}),t.onOpened(),()=>{var k;(k=i(r))==null||k.removeEventListener("transitionend",S)}}case"closing":{const m=setTimeout(()=>{t.dialogState==="closing"&&t.onClosed()},n+1),S=()=>{clearTimeout(m),t.onClosed()};return(L=i(r))==null||L.addEventListener("transitionend",S,{once:!0}),()=>{var k;(k=i(r))==null||k.removeEventListener("transitionend",S)}}}});var l=qo(),c=z(l);nt(c,`--transition-timing-default: ${n}ms`);var d=x(c),u=T(x(d),2);Ze(u,()=>t.children);var f=T(u,2),v=x(f),h=x(v);G(h,1,Q(["navigateButton","buttonBack"]),"svelte-yc4win"),h.__click=[No,t];var g=x(h);Ee(g,()=>({"--size":"20px"})),Tr(g.lastChild);var y=T(g,2);rt(y,{children:(p,L)=>{var m=te("back");b(p,m)}}),ke(d,p=>C(a,p),()=>i(a)),ke(c,p=>C(r,p),()=>i(r));var _=T(c,2);{var w=p=>{Bo(p,{get onClose(){return t.onStartClose},get onOpen(){return t.onStartOpen},get onSwipe(){return t.onSwipe},get dialogState(){return t.dialogState},get dialog(){return i(r)}})};H(_,p=>{(t.dialogState==="opened"||t.dialogState==="swiping")&&!t.blocked&&p(w)})}ne(()=>G(c,1,Q([{open:t.dialogState==="opened",hidden:t.hidden,isAnimationOn:de.working&&(!de.isSwiping||!t.hidden)},{hidden:t.hidden}]),"svelte-yc4win")),b(e,l),W()}me(["click"]);const Rn=(e,t)=>{if(!t)return e;if(t.type==="closed")return{type:"closed"};switch(e.type){case"opened":return t.type==="close"?{type:"closing"}:t.type==="swipe"?{type:"swiping"}:e;case"closed":return t.type==="open"?{type:"opening"}:e;case"swiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"opening":return t.type==="opened"?{type:"opened"}:e;default:return e}};function jo(e,t){V(t,!0);let n=J(t,"blocked",3,!1),r=J(t,"hiddenDialog",3,!1),a=J(t,"onStartClose",3,()=>{}),o=J(t,"onClose",3,()=>{}),s=N(ae(Rn({type:"closed"})));const l=_=>{C(s,Rn(i(s),_),!0)},c=()=>{n()||(a()(),l({type:"close"}))},d=()=>{n()||l({type:"open"})},u=()=>{l({type:"opened"})},f=()=>{o()(),l({type:"closed"}),de.swipingPercentage=1},v=()=>{l({type:"swipe"})};ve(()=>{i(s).type==="swiping"?de.isSwiping=!0:de.isSwiping=!1,i(s).type==="closed"&&t.shownDialog?d():i(s).type==="opened"&&!t.shownDialog&&c()});var h=_e(),g=z(h);{var y=_=>{Ho(_,{onSwipe:v,onOpened:u,onClosed:f,onStartClose:c,onStartOpen:d,get dialogState(){return i(s).type},get hidden(){return r()},get blocked(){return n()},children:(w,p)=>{var L=_e(),m=z(L);Ze(m,()=>t.children),b(w,L)},$$slots:{default:!0}})};H(g,_=>{i(s).type!=="closed"&&_(y)})}return b(e,h),W({handleComputeState:l})}var Fo=De('<svg viewBox="0 0 5.292 5.292" xmlns="http://www.w3.org/2000/svg" class="svelte-1lqi79o"><path style="fill:currentColor;stroke-width:.584099" transform="rotate(45)" d="M3.341-2.405h.802v4.811h-.802z"></path><path style="fill:currentColor;stroke-width:.584099" transform="rotate(135)" d="M-.401-6.147h.802v4.811h-.802z"></path></svg>');function zo(e){var t=Fo();b(e,t)}const Uo=({getDialog:e,onOpen:t,onStartClose:n,onClose:r})=>{const a=s=>{s.preventDefault(),n()},o=()=>{r==null||r()};Le(()=>{const s=e();return s==null||s.addEventListener("close",o),s==null||s.addEventListener("cancel",a),()=>{s==null||s.removeEventListener("close",o),s==null||s.removeEventListener("cancel",a)}}),Le(()=>{const s=e();s==null||s.showModal(),s==null||s.getBoundingClientRect(),t()})};function Lr(e,t){V(t,!0),Le(()=>{const n=r=>{var a;r.target&&((a=t.dialog)!=null&&a.open)&&t.dialogInner&&t.dialogInner!==r.target&&!t.dialogInner.contains(r.target)&&t.onClose()};return document.addEventListener("mousedown",n,{capture:!0}),()=>{document.removeEventListener("mousedown",n,{capture:!0})}}),W()}var Vo=(e,t)=>{t.onStartClose()},Wo=(e,t)=>{t.onStartClose()},Yo=q('<dialog><div class="dialogInner svelte-1ka5n2u"><span tabindex="1"></span> <!> <div class="header svelte-1ka5n2u"><div><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button></div> <div><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button></div></div></div></dialog> <!>',1);function Xo(e,t){V(t,!0);let n=J(t,"hiddenDialog",3,!1),r=J(t,"isDesktopAnimationOff",3,!1),a=N(null),o=N(null);Uo({getDialog:()=>i(a),onOpen:t.onOpen,onStartClose:t.onStartClose,onClose:t.onClose}),ve(()=>{var m,S;t.stateDialog==="closing"&&(de.working?(m=i(a))==null||m.addEventListener("transitionend",()=>{var k;(k=i(a))==null||k.close()},{once:!0}):(S=i(a))==null||S.close())});var s=Yo(),l=z(s),c=x(l),d=T(x(c),2);Ze(d,()=>t.children);var u=T(d,2),f=x(u),v=x(f);G(v,1,Q(["navigateButton","buttonBack"]),"svelte-1ka5n2u"),v.__click=[Vo,t];var h=x(v);Ee(h,()=>({"--size":"20px"})),Tr(h.lastChild);var g=T(h,2);rt(g,{children:(m,S)=>{var k=te("back");b(m,k)}});var y=T(f,2),_=x(y);G(_,1,Q(["navigateButton","buttonClose"]),"svelte-1ka5n2u"),_.__click=[Wo,t];var w=x(_);Ee(w,()=>({"--size":"20px"})),zo(w.lastChild);var p=T(w,2);rt(p,{children:(m,S)=>{var k=te("close");b(m,k)}}),ke(c,m=>C(o,m),()=>i(o)),ke(l,m=>C(a,m),()=>i(a));var L=T(l,2);Lr(L,{get dialog(){return i(a)},get dialogInner(){return i(o)},get onClose(){return t.onStartClose}}),ne(()=>G(l,1,Q([{open:t.stateDialog==="open",isAnimationOn:de.working,isDesktopAnimationOff:r(),hiddenDialog:n()}]),"svelte-1ka5n2u")),b(e,s),W()}me(["click"]);const Zo=({onStartClose:e,onClose:t})=>{let n=N("close");return{get state(){return i(n)},set state(s){C(n,s,!0)},handleStartClose:(s=!1)=>{s||(C(n,"closing"),e==null||e())},handleOpen:()=>{C(n,"open")},handleClose:()=>{C(n,"close"),t==null||t()}}};function Go(e,t){V(t,!0);let n=J(t,"blockedClose",3,!1),r=J(t,"hiddenDialog",3,!1),a=J(t,"onStartClose",3,()=>{}),o=J(t,"onClose",3,()=>{}),s=Zo({onStartClose:a(),onClose:o()});ve(()=>{s.state==="close"&&t.shownDialog?s.state="opening":s.state==="open"&&!t.shownDialog&&s.handleStartClose(n())});var l=_e(),c=z(l);{var d=u=>{Xo(u,{get stateDialog(){return s.state},get hiddenDialog(){return r()},get onOpen(){return s.handleOpen},onStartClose:()=>s.handleStartClose(n()),get onClose(){return s.handleClose},children:(f,v)=>{var h=_e(),g=z(h);Ze(g,()=>t.children),b(f,h)},$$slots:{default:!0}})};H(c,u=>{s.state!=="close"&&u(d)})}b(e,l),W()}function Dr(e,t){V(t,!0);let n=J(t,"blockedClose",3,!1),r=J(t,"hiddenDialog",3,!1),a=J(t,"onStartClose",3,()=>{}),o=J(t,"onClose",3,()=>{});var s=_e(),l=z(s);{var c=u=>{jo(u,{get shownDialog(){return t.shownDialog},get blocked(){return n()},get hiddenDialog(){return r()},get children(){return t.children},get onStartClose(){return a()},get onClose(){return o()}})},d=u=>{Go(u,{get shownDialog(){return t.shownDialog},get blockedClose(){return n()},get hiddenDialog(){return r()},get children(){return t.children},get onStartClose(){return a()},get onClose(){return o()}})};H(l,u=>{Cr()?u(c):u(d,!1)})}b(e,s),W()}function Ko(e,t){V(t,!0),Dr(e,{get shownDialog(){return t.shown},get blockedClose(){return t.hidden},get hiddenDialog(){return t.hidden},onStartClose:()=>{wt()},onClose:()=>{So()},children:(a,o)=>{var s=_e(),l=z(s);Ze(l,()=>t.children),b(a,s)},$$slots:{default:!0}}),W()}const Pr=()=>crypto.randomUUID(),nn=(e,t,n,r=new Set,a={})=>{var o,s;for(const l of e.children)if(l.tagName==="DT"){const c=l.querySelector(":scope > A"),d=l.querySelector(":scope > H3");if(c){const u=c.getAttribute("href"),f=c.textContent||"unknown";if(!u)return n;const v=t.find(h=>h.toLowerCase()==="bookmarks bar")?t.filter(h=>h.toLowerCase()!=="bookmarks bar"):["other"];if(a[u])a[u].tags=[...new Set([...a[u].tags,...v])];else{const h={id:Pr(),order:n.length,url:u,title:f,description:"",tags:v.length>0?v:[],lastUpdatedTimestamp:Date.now(),createdTimestamp:Date.now()};a[h.url]=h,n.push(h)}}else if(d){const u=(o=d.textContent)==null?void 0:o.trim();if(u&&((s=d.nextElementSibling)==null?void 0:s.tagName)==="DL"){const f=[...t];f.push(u);const v=d.nextElementSibling;r.has(v)||(r.add(v),nn(v,f,n,r,a))}}}else l.tagName!=="DL"&&l.children.length>0&&(r.has(l)||(r.add(l),nn(l,[...t],n,r,a)));return n},Jo=async e=>{const t=await e.text(),a=new DOMParser().parseFromString(t,"text/html").querySelector("DL");return a?nn(a,[],[]):[]},Qo=e=>{const t=Math.floor(Date.now()/1e3),n={};e.forEach(a=>{const o=a.tags||["Imported"];if(o.length===0){n.ROOT||(n.ROOT=[]),n.ROOT.push(a);return}o.forEach(s=>{n[s]||(n[s]=[]),n[s].push(a)})});let r=`<!DOCTYPE NETSCAPE-Bookmark-file-1>
<!-- This is an automatically generated file.
 It will be read and overwritten.
 DO NOT EDIT! -->
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8">
<TITLE>Bookmarks</TITLE>
<H1>Bookmarks</H1>
<DL><p>
<DT><H3 ADD_DATE="${t}" LAST_MODIFIED="${t}" PERSONAL_TOOLBAR_FOLDER="true">Bookmarks Bar</H3>
<DL><p>`;return Object.keys(n).forEach(a=>{a!=="ROOT"&&a!=="other"&&(r+=`
	<DT><H3 ADD_DATE="${t}" LAST_MODIFIED="${t}">${a}</H3>
	<DL><p>`,n[a].forEach(o=>{const s=o.title.replace(/"/g,"&quot;");r+=`
		<DT><A HREF="${o.url}" ADD_DATE="${Math.floor(o.createdTimestamp/1e3)||t}">${s}</A>`}),r+=`
	</DL><p>`)}),n.ROOT&&n.ROOT.forEach(a=>{const o=a.title.replace(/"/g,"&quot;");r+=`
	<DT><A HREF="${a.url}" ADD_DATE="${Math.floor(a.createdTimestamp/1e3)||t}">${o}</A>`}),r+=`
</DL><p>`,n.other&&n.other.forEach(a=>{const o=a.title.replace(/"/g,"&quot;");r+=`
	<DT><A HREF="${a.url}" ADD_DATE="${Math.floor(a.createdTimestamp/1e3)||t}">${o}</A>`}),r+="</DL><p>",r},$o="bookmarksStore",es=1,he="bookmarks";let $;window.addEventListener("unhandledrejection",e=>{alert("Error: "+e.reason.message)});const ts=()=>new Promise((e,t)=>{const n=indexedDB.open($o,es);n.addEventListener("upgradeneeded",()=>{const r=n.result;console.log("success upgradeneeded"),r.objectStoreNames.contains(he)||r.createObjectStore(he,{keyPath:"id"})}),n.addEventListener("success",()=>{console.log("success open"),e(),$=n.result,$.onversionchange=function(){$==null||$.close(),alert("app outdated, please reload the page")}}),n.addEventListener("blocked",()=>{t(),alert("app outdated, please reload the page")}),n.addEventListener("error",()=>{t(),console.error("Error",n.error)})}),Or=()=>new Promise((e,t)=>{const n=$==null?void 0:$.transaction(he,"readonly"),r=n==null?void 0:n.objectStore(he).getAll();r==null||r.addEventListener("success",()=>{const a=r.result;e(a)}),r==null||r.addEventListener("error",()=>{t()})}),ns=async e=>new Promise((t,n)=>{const r=$==null?void 0:$.transaction(he,"readwrite"),a=r==null?void 0:r.objectStore(he),o=a==null?void 0:a.put({...e});o==null||o.addEventListener("success",()=>{t()}),o==null||o.addEventListener("error",()=>{n()})}),rs=async e=>new Promise((t,n)=>{const r=$==null?void 0:$.transaction(he,"readwrite"),a=r==null?void 0:r.objectStore(he),o=a==null?void 0:a.delete(e);o==null||o.addEventListener("success",()=>{t()}),o==null||o.addEventListener("error",()=>{n()})}),as=()=>new Promise((e,t)=>{const n=$==null?void 0:$.transaction(he,"readwrite"),r=n==null?void 0:n.objectStore(he),a=r==null?void 0:r.clear();a==null||a.addEventListener("success",()=>{e()}),a==null||a.addEventListener("error",()=>{t()})}),os=async()=>{await as()},ss=async e=>{const t=(await Or()).reduce((o,s)=>(o[s.id]=s,o),{}),n={},r=$==null?void 0:$.transaction(he,"readwrite"),a=r==null?void 0:r.objectStore(he);e.forEach(o=>{t[o.id]?t[o.id].lastUpdatedTimestamp<o.lastUpdatedTimestamp&&(n[o.id]=o):n[o.id]=o}),await Promise.all(Object.values(n).map(o=>{const s=a==null?void 0:a.put(o);return new Promise((l,c)=>{s==null||s.addEventListener("success",()=>{l()}),s==null||s.addEventListener("error",()=>{c()})})}))},is=async e=>{const t=$==null?void 0:$.transaction(he,"readwrite"),n=t==null?void 0:t.objectStore(he);await Promise.all(Array.from({length:25},(r,a)=>{const o=[];for(let c=0;c<Math.random()*4;c++){const d=(Math.random()*4).toFixed();o.includes(d)||o.push(d)}const s={...e,url:`${e.url}${a}`,order:a,id:Pr(),createdTimestamp:Date.now(),lastUpdatedTimestamp:Date.now(),title:o.join("#"),tags:o},l=n==null?void 0:n.put(s);return new Promise((c,d)=>{l==null||l.addEventListener("success",()=>{a%1e4===0&&console.log(`bookmark ${a} done`),c()}),l==null||l.addEventListener("error",()=>{console.log(`bookmark ${a} error`),d()})})}))};let ie=N({inited:!1,bookmarks:[],mapBookmarks:new Map});const wn=async()=>{const e=await Or(),t=new Map,n=[];e.forEach(r=>{n[r.order]=r,t.set(r.id,r)}),C(ie,{...i(ie),bookmarks:n,mapBookmarks:t,inited:!0})};ts().then(async()=>{await wn()}).catch(()=>{console.error("failed to init db")});const At=()=>i(ie).inited,Mr=()=>i(ie).bookmarks,ls=()=>i(ie).mapBookmarks,cs=async e=>{const t={...e,lastUpdatedTimestamp:Date.now()};i(ie).bookmarks[t.order]=t,i(ie).mapBookmarks.set(t.id,t),C(ie,{...i(ie)}),await ns(t)},us=async e=>{await is(e),await wn()},ds=async e=>{const t=i(ie).mapBookmarks.get(e);i(ie).mapBookmarks.delete(e),i(ie).bookmarks[(t==null?void 0:t.order)||0]=void 0,C(ie,{...i(ie)}),await rs(e)},vs=async()=>{C(ie,{inited:!1,bookmarks:[],mapBookmarks:new Map}),await os()},fs=async(e="bookmarks-export.json")=>{const t=JSON.stringify({bookmarks:i(ie).bookmarks}),n=new Blob([t],{type:"application/json"}),r=URL.createObjectURL(n),a=document.createElement("a");a.href=r,a.download=e,document.body.appendChild(a),a.click(),setTimeout(()=>{document.body.removeChild(a),URL.revokeObjectURL(r)},0)},Nn=async e=>{await ss(e),await wn()};let Ar=N({});const Ir=()=>i(Ar),hs=e=>{C(Ar,e)};var gs=q('<input class="svelte-1jzizl8">');function rn(e,t){V(t,!0);let n=J(t,"value",15,"");var r=gs();ne(()=>xe(r,"placeholder",t.placeholder)),mn(r,n),b(e,r),W()}function ps(e,t){V(t,!0);let n=J(t,"dialog",7);const r=3,a=50,o=5,s=.6,l=.3,c=.2,d=.95;let u=0,f=0,v=0,h=!1,g=!1,y=0,_=0,w=0;const p=()=>{u=0,f=0,h=!1,g=!1,y=0,_=0,w=0,v=0},L=A=>{if(!n()){console.warn("Touch start: No dialog element");return}if(t.sidebarState!=="opened"&&t.sidebarState!=="closed"){console.warn(`Touch start: Invalid sidebar state: ${t.sidebarState}`);return}u=A.touches[0].clientX,f=A.touches[0].clientY,v=performance.now(),h=!0,g=!1},m=A=>t.sidebarState==="closed"&&A>0||t.sidebarState==="closeSwiping"&&A>0||t.sidebarState==="opened"&&A<0||t.sidebarState==="openSwiping"&&A<0,S=A=>{if(n()){if(n().style.setProperty("--transition-timing","0s"),!n().open&&t.sidebarState==="closed")try{n().showModal(),n().offsetWidth}catch(E){console.error("Error opening dialog:",E);return}t.onSwipe();try{const E=window.getComputedStyle(n()),I=E.transform||E.webkitTransform||"";if(_=n().offsetWidth,t.sidebarState==="closeSwiping"||t.sidebarState==="closed"?y=-_:(t.sidebarState==="openSwiping"||t.sidebarState==="opened")&&(y=0),I&&I!=="none")try{y=new DOMMatrix(I).m41}catch{console.warn("Could not parse transform matrix, using default position")}g=!0}catch(E){console.error("Error during swipe initialization:",E),p()}}},k=()=>{if(!n())return;const E=Math.abs(y+w*_/100)/_;n().style.setProperty("--backdrop-bg",`rgba(0, 0, 0, ${.25*(1-E)})`)},D=A=>{if(!h)return;const E=A.touches[0].clientX,I=A.touches[0].clientY,O=E-u,X=I-f,j=Math.abs(O)>Math.abs(X),re=Math.abs(O)>r;if(!g)if(j&&re&&m(O))try{S(O)}catch(Z){console.error("Error initializing swipe:",Z),p();return}else return;if(!n()||(g&&j&&A.preventDefault(),!m(O)))return;let ee=y+O*d;const se=-_;ee=Math.max(se,Math.min(0,ee)),n().style.transform=`translate3d(${ee}px, 0, 0)`,w=(ee-y)/_*100,k()},B=A=>{const E=Math.abs(A);if(E>=s)return o;if(E>=l){const I=(E-l)/(s-l);return a-I*(a-o)}else return a},P=(A,E)=>{if(Math.abs(A)>=s)return c*.5;const O=Math.abs(w)/100;return E?c*Math.max(.5,1-O):c*Math.max(.5,O)},M=A=>{var re,ee;if(!h||!n()){p();return}if(!g){p();return}let E=0;if((re=A==null?void 0:A.changedTouches)!=null&&re[0]){const se=A.changedTouches[0].clientX,Z=performance.now()-v;Z>0&&(E=(se-u)/Z)}const I=B(E);let O=null;t.sidebarState==="closeSwiping"?O=Math.abs(w)>I||E>l?"open":"close":t.sidebarState==="openSwiping"&&(O=Math.abs(w)>I||E<-.3?"close":"open");const X=t.sidebarState==="closeSwiping"&&O==="open"||t.sidebarState==="openSwiping"&&O==="close",j=P(E,X);n().style.setProperty("--transition-timing",`${j}s`),n().addEventListener("transitionend",()=>{var se;(se=n())==null||se.style.removeProperty("--transition-timing")},{once:!0}),n().offsetWidth,n().style.transform="",O==="open"?t.onOpen():O==="close"&&t.onClose(),(ee=n())==null||ee.style.removeProperty("--backdrop-bg"),p()};Le(()=>(document.addEventListener("touchstart",L,{passive:!0}),document.addEventListener("touchmove",D,{passive:!1}),document.addEventListener("touchend",M,{passive:!0}),document.addEventListener("touchcancel",M,{passive:!0}),()=>{document.removeEventListener("touchstart",L),document.removeEventListener("touchmove",D),document.removeEventListener("touchend",M),document.removeEventListener("touchcancel",M)})),W()}var _s=q('<dialog><div class="dialogInner svelte-8768ia"><!></div></dialog> <!> <!>',1);function ms(e,t){V(t,!0);let n=200,r=N(null),a=N(null),o=oe(yr);const s=()=>{t.blocked||ze({type:"close"})},l=()=>{t.blocked||ze({type:"open"})},c=()=>{ze({type:"opened"})},d=()=>{ze({type:"closed"})},u=()=>{ze({type:"swipe"})},f=k=>{k.preventDefault(),s()};Le(()=>{var k,D;return(k=i(r))==null||k.addEventListener("close",d),(D=i(r))==null||D.addEventListener("cancel",f),()=>{var B,P;(B=i(r))==null||B.removeEventListener("close",d),(P=i(r))==null||P.removeEventListener("cancel",f)}});const v=()=>{var k,D,B;(k=i(r))==null||k.style.removeProperty("--transition-timing"),(D=i(r))==null||D.style.removeProperty("transform"),(B=i(r))==null||B.style.removeProperty("--backdrop-bg")};ve(()=>{var k,D,B;if(i(o),console.log(i(o).type),!!i(r))switch(i(o).type){case"closeSwiping":{const P=setTimeout(()=>{s()},3e3);return()=>{clearTimeout(P)}}case"openSwiping":{const P=setTimeout(()=>{l()},3e3);return()=>{clearTimeout(P)}}case"opening":{i(r).open||i(r).showModal(),i(r).getBoundingClientRect();const P=setTimeout(()=>{v()},n+1),M=()=>{clearTimeout(P),v()};return(k=i(r))==null||k.addEventListener("transitionend",M,{once:!0}),c(),()=>{var A;(A=i(r))==null||A.removeEventListener("transitionend",M)}}case"closing":{const P=setTimeout(()=>{i(o).type==="closing"&&d()},n+1),M=()=>{clearTimeout(P),d()};return(D=i(r))==null||D.addEventListener("transitionend",M,{once:!0}),()=>{var A;(A=i(r))==null||A.removeEventListener("transitionend",M)}}case"closed":(B=i(r))==null||B.close(),v();break}});var h=_s(),g=z(h);nt(g,`--transition-timing-default: ${n}ms`);var y=x(g),_=x(y);{var w=k=>{var D=_e(),B=z(D);Ze(B,()=>t.children),b(k,D)};H(_,k=>{i(o).type!=="closed"&&k(w)})}ke(y,k=>C(a,k),()=>i(a)),ke(g,k=>C(r,k),()=>i(r));var p=T(g,2);{var L=k=>{Lr(k,{get dialog(){return i(r)},get dialogInner(){return i(a)},onClose:s})};H(p,k=>{i(o).type==="opened"&&!t.blocked&&k(L)})}var m=T(p,2);{var S=k=>{ps(k,{onClose:s,onOpen:l,onSwipe:u,get sidebarState(){return i(o).type},get dialog(){return i(r)}})};H(m,k=>{(i(o).type==="closed"||i(o).type==="opened"||i(o).type==="openSwiping"||i(o).type==="closeSwiping")&&!t.blocked&&k(S)})}ne(()=>G(g,1,Q([{open:i(o).type==="opened",hidden:t.blocked,isAnimationOn:de.working&&(!de.isSwiping||!t.blocked)}]),"svelte-8768ia")),b(e,h),W()}var ws=q("<button> </button>");function Ve(e,t){var n=ws();n.__click=function(...a){var o;(o=t.onClick)==null||o.apply(this,a)};var r=x(n);ne(()=>{xe(n,"type",t.type),G(n,1,Q([{selectedTag:t.style==="selected"}]),"svelte-1ik9jr8"),it(r,t.title)}),b(e,n)}me(["click"]);const ys=e=>{e.preventDefault(),lt("settings")};var ks=q("<div></div>"),bs=q('<div class="sidebarFixed svelte-10otxxm"><div class="nav svelte-10otxxm"><!> <a class="link svelte-10otxxm"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Settings</span></a></div> <div class="searchWrapper svelte-10otxxm"><!></div> <!></div> <div class="tags svelte-10otxxm"></div>',1),Ss=q("<div></div>"),Es=q('<div class="sidebar svelte-10otxxm"><div class="sidebarFixed svelte-10otxxm"><div class="searchWrapper svelte-10otxxm"><!></div> <!></div> <div class="tags svelte-10otxxm"></div></div>');function xs(e,t){V(t,!0);let n=N(""),r=oe(()=>{var g;return((g=new URLSearchParams(F.search).get("selectedTags"))==null?void 0:g.split(","))||[]});const a=()=>{const g=Fe();g.includes("settings")||g.push("settings");const y=new URLSearchParams(F.search);return y.set("stackPages",g.join(",")),`${F.pathname}?${y}`},o=g=>{const y=new URLSearchParams(F.search);y.set("selectedTags",[...i(r),g].join(",")),Mt(`${F.pathname}${y.size>0?`?${y.toString()}`:""}`),C(n,"")},s=g=>{const y=new URLSearchParams(F.search),_=i(r).filter(w=>w!==g);_.length===0?y.delete("selectedTags"):y.set("selectedTags",_.join(",")),Mt(`${F.pathname}${y.size>0?`?${y.toString()}`:""}`)};let l=oe(()=>At()?Object.values(Ir()).filter(g=>!i(r).some(y=>g.name===y)):[]),c=oe(a),d=oe(()=>Fe().length>0);var u=_e(),f=z(u);{var v=g=>{ms(g,{get blocked(){return i(d)},children:(y,_)=>{var w=bs(),p=z(w),L=x(p),m=x(L);kr(m,{});var S=T(m,2);S.__click=[ys];var k=x(S);Ee(k,()=>({"--size":"20px"})),br(k.lastChild);var D=T(L,2),B=x(D);rn(B,{placeholder:"Search tag",get value(){return i(n)},set value(E){C(n,E,!0)}});var P=T(D,2);{var M=E=>{var I=ks();G(I,1,Q(["tags","selectedTags"]),"svelte-10otxxm"),He(I,20,()=>i(r),O=>O,(O,X)=>{Ve(O,{get title(){return X},onClick:()=>s(X),style:"selected"})}),b(E,I)};H(P,E=>{i(r).length>0&&E(M)})}var A=T(p,2);He(A,21,()=>i(l),E=>E.name,(E,I)=>{var O=_e(),X=z(O);{var j=re=>{Ve(re,{get title(){return i(I).name},onClick:()=>o(i(I).name)})};H(X,re=>{(i(n)===""||i(I).name.toLowerCase().indexOf(i(n).toLowerCase())!==-1)&&re(j)})}b(E,O)}),ne(()=>xe(S,"href",i(c))),b(y,w)},$$slots:{default:!0}})},h=g=>{var y=Es(),_=x(y),w=x(_),p=x(w);rn(p,{placeholder:"Search tag",get value(){return i(n)},set value(k){C(n,k,!0)}});var L=T(w,2);{var m=k=>{var D=Ss();G(D,1,Q(["tags","selectedTags"]),"svelte-10otxxm"),He(D,20,()=>i(r),B=>B,(B,P)=>{Ve(B,{get title(){return P},onClick:()=>s(P),style:"selected"})}),b(k,D)};H(L,k=>{i(r).length>0&&k(m)})}var S=T(_,2);He(S,21,()=>i(l),k=>k.name,(k,D)=>{var B=_e(),P=z(B);{var M=A=>{Ve(A,{get title(){return i(D).name},onClick:()=>o(i(D).name)})};H(P,A=>{(i(n)===""||i(D).name.toLowerCase().indexOf(i(n).toLowerCase())!==-1)&&A(M)})}b(k,B)}),b(g,y)};H(f,g=>{Cr()?g(v):g(h,!1)})}b(e,u),W()}me(["click"]);var Cs=q('<div class="input-container svelte-1pvj8hs"><input> <div class="error-message svelte-1pvj8hs"><!></div></div>');function Zt(e,t){V(t,!0);let n=J(t,"value",15,""),r=J(t,"error",3,"");var a=Cs(),o=x(a);o.__input=function(...u){var f;(f=t.onInput)==null||f.apply(this,u)};let s;var l=T(o,2),c=x(l);{var d=u=>{var f=te();ne(()=>it(f,r())),b(u,f)};H(c,u=>{r()&&u(d)})}ne(u=>{xe(o,"placeholder",t.placeholder),s=G(o,1,"svelte-1pvj8hs",null,s,u)},[()=>({error:!!r()})]),Ue("blur",o,function(...u){var f;(f=t.onBlur)==null||f.apply(this,u)}),Ue("focus",o,function(...u){var f;(f=t.onFocus)==null||f.apply(this,u)}),mn(o,n),b(e,a),W()}me(["input"]);var Ts=q("<div></div>"),Ls=q('<form class="svelte-qxch5w"><!> <!> <textarea placeholder="description" class="svelte-qxch5w"></textarea> <div class="boxtags"><div class="sidebarFixed"><!></div> <div class="tags svelte-qxch5w"><!> <!></div> <div class="searchWrapper svelte-qxch5w"><!></div></div> <button class="buttonSubmit svelte-qxch5w" type="submit"> </button></form>');function Br(e,t){V(t,!0);let n=J(t,"initialTitle",3,""),r=J(t,"initialUrl",3,""),a=J(t,"initialDescription",3,""),o=J(t,"initialTags",19,()=>[]),s=J(t,"mode",3,"add"),l=N(""),c=N(ae(n())),d=N(ae(r())),u=N(ae(a())),f=N(ae(o()));const v=R=>{i(f).includes(R)||C(f,[...i(f),R],!0)},h=R=>{const Z=i(f).filter(we=>we!==R);Z.length===0?C(f,[],!0):C(f,Z,!0)};let g=oe(()=>At()?[...Mr().reduce((R,Z)=>(Z==null||Z.tags.forEach(we=>{R.has(we)||R.add(we)}),R),new Set)]:[]),y=oe(()=>At()?i(g).filter(R=>!i(f).some(Z=>R===Z)&&R!=="inbox"):[]),_=oe(()=>i(y).find(R=>R.toLowerCase()===i(l).toLowerCase())||i(f).includes(i(l))),w=oe(()=>i(y).filter(R=>i(l)===""?!0:R.toLowerCase().indexOf(i(l).toLowerCase())!==-1).slice(0,i(_)||i(l)===""?3:2));const p=R=>{R.preventDefault(),t.onSubmit({title:i(c).trim().slice(0,256)||"unkwown",url:i(d).trim().slice(0,2048),description:i(u).trim().slice(0,2048),tags:i(f).length>0?i(f):["inbox"]})};var L=Ls(),m=x(L);Zt(m,{placeholder:"url",get value(){return i(d)},set value(R){C(d,R,!0)}});var S=T(m,2);Zt(S,{placeholder:"title",get value(){return i(c)},set value(R){C(c,R,!0)}});var k=T(S,2),D=T(k,2),B=x(D),P=x(B);{var M=R=>{var Z=Ts();G(Z,1,Q(["tags","selectedTags"]),"svelte-qxch5w"),He(Z,20,()=>i(f),we=>we,(we,be)=>{Ve(we,{get title(){return be},onClick:()=>h(be),type:"button",style:"selected"})}),b(R,Z)};H(P,R=>{i(f).length>0&&R(M)})}var A=T(B,2),E=x(A);{var I=R=>{var Z=_e(),we=z(Z);He(we,16,()=>i(w),be=>be,(be,kn)=>{Ve(be,{get title(){return kn},onClick:()=>v(kn)})}),b(R,Z)};H(E,R=>{i(l)!==""&&R(I)})}var O=T(E,2);{var X=R=>{Ve(R,{get title(){return i(l)},onClick:()=>{v(i(l)),C(l,"")}})};H(O,R=>{!i(_)&&i(l)!==""&&R(X)})}var j=T(A,2),re=x(j);Zt(re,{placeholder:"tag",get value(){return i(l)},set value(R){C(l,R,!0)}});var ee=T(D,2),se=x(ee);ne(()=>it(se,s()==="add"?"add":"edit")),Ue("submit",L,p),mn(k,()=>i(u),R=>C(u,R)),b(e,L),W()}function Ds(e,t){V(t,!0);let n=N(!0);const r=()=>{t.onClose()},a=()=>{C(n,!1)},o=({title:s,url:l,description:c,tags:d})=>{cs({...t.bookmark,title:s,url:l,description:c,tags:d.map(u=>u.trim())}),a()};Dr(e,{get shownDialog(){return i(n)},onClose:r,children:(s,l)=>{Br(s,{get initialTitle(){return t.bookmark.title},get initialUrl(){return t.bookmark.url},get initialDescription(){return t.bookmark.description},get initialTags(){return t.bookmark.tags},onSubmit:o,mode:"edit"})},$$slots:{default:!0}}),W()}var Ps=De('<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-1lqi79o"><path d="M16 16v2.8c0 1.12 0 1.68-.218 2.108a2 2 0 0 1-.874.874C14.48 22 13.92 22 12.8 22H5.2c-1.12 0-1.68 0-2.108-.218a2 2 0 0 1-.874-.874C2 20.48 2 19.92 2 18.8v-7.6c0-1.12 0-1.68.218-2.108a2 2 0 0 1 .874-.874C3.52 8 4.08 8 5.2 8H8m3.2 8h7.6c1.12 0 1.68 0 2.108-.218a2 2 0 0 0 .874-.874C22 14.48 22 13.92 22 12.8V5.2c0-1.12 0-1.68-.218-2.108a2 2 0 0 0-.874-.874C20.48 2 19.92 2 18.8 2h-7.6c-1.12 0-1.68 0-2.108.218a2 2 0 0 0-.874.874C8 3.52 8 4.08 8 5.2v7.6c0 1.12 0 1.68.218 2.108a2 2 0 0 0 .874.874C9.52 16 10.08 16 11.2 16Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>');function Os(e){var t=Ps();b(e,t)}var Ms=De('<svg viewBox="0 0 13.229 13.229" xmlns="http://www.w3.org/2000/svg" class="svelte-1lqi79o"><circle style="fill:currentColor;stroke-width:.4378" cx="3.175" cy="6.615" r="1.058"></circle><circle style="fill:currentColor;stroke-width:.4378" cx="6.615" cy="6.615" r="1.058"></circle><circle style="fill:currentColor;stroke-width:.4378" cx="10.054" cy="6.615" r="1.058"></circle></svg>');function As(e){var t=Ms();b(e,t)}const Is=(e,t,n)=>{const r=Ir();t.bookmark.tags.forEach(a=>{if(i(n).includes(a)&&r[a].connections===1){const o=new URLSearchParams(F.search),s=i(n).filter(l=>l!==a);s.length===0?o.delete("selectedTags"):o.set("selectedTags",s.join(",")),bo(`${F.pathname}${o.size>0?`?${o.toString()}`:""}`)}}),ds(t.bookmark.id)},Bs=(e,t)=>{C(t,!0)},Rs=(e,t,n)=>{C(t,!1),C(n,!0)},Ns=(e,t)=>{navigator.clipboard.writeText(t.bookmark.url),ao("Link copied to clipboard")};var qs=q('<li class="bookmark svelte-hwv8qt"><div class="bookmarkTitle svelte-hwv8qt"><img class="bookmarkIcon" height="16" width="16" alt="icon"> <a class="bookmarkLink svelte-hwv8qt" target="_blank" rel="noopener noreferrer"> </a></div> <div><button class="button svelte-hwv8qt"><!> <!></button> <div><button class="menuButton svelte-hwv8qt">Edit</button> <button class="menuButton svelte-hwv8qt">Delete</button></div> <button><!> <!></button></div></li> <!>',1);function Hs(e,t){V(t,!0);let n=oe(()=>{var E;return((E=new URLSearchParams(F.search).get("selectedTags"))==null?void 0:E.split(","))||[]}),r=N(!1),a=N(!1),o=N(null),s=N(null);const l=E=>{var I,O;E.target!==i(s)&&E.target!==i(o)&&!((I=i(o))!=null&&I.contains(E.target))&&!((O=i(s))!=null&&O.contains(E.target))&&C(r,!1)},c=()=>{C(a,!1)};ve(()=>(document.addEventListener("click",l),()=>{document.removeEventListener("click",l)}));const d=E=>{try{return`https://www.google.com/s2/favicons?domain=${new URL(E).host}&sz=32`}catch{return""}};var u=qs(),f=z(u),v=x(f),h=x(v),g=T(h,2),y=x(g),_=T(v,2),w=x(_);w.__click=[Ns,t];var p=x(w);Os(p);var L=T(p,2);rt(L,{children:(E,I)=>{var O=te("copy link");b(E,O)}});var m=T(w,2),S=x(m);S.__click=[Rs,r,a];var k=T(S,2);k.__click=[Is,t,n],ke(m,E=>C(s,E),()=>i(s));var D=T(m,2);D.__click=[Bs,r],G(D,1,Q(["button","buttonMenu"]),"svelte-hwv8qt");var B=x(D);As(B);var P=T(B,2);rt(P,{children:(E,I)=>{var O=te("show menu");b(E,O)}}),ke(D,E=>C(o,E),()=>i(o));var M=T(f,2);{var A=E=>{Ds(E,{get bookmark(){return t.bookmark},onClose:c})};H(M,E=>{i(a)&&E(A)})}ne(E=>{xe(h,"src",E),xe(g,"href",t.bookmark.url),it(y,t.bookmark.title),G(_,1,Q(["bookmarkMenuWrapper",{bookmarkMenuWrapperActive:i(r)}]),"svelte-hwv8qt"),G(m,1,Q(["bookmarkMenu",{bookmarkShownMenu:i(r)}]),"svelte-hwv8qt")},[()=>d(t.bookmark.url)]),b(e,u),W()}me(["click"]);var js=q('<div class="emptyMessage svelte-10e5k3k">No bookmarks found</div>'),Fs=q('<div class="searchWrapper svelte-10e5k3k"><!></div> <div class="feed svelte-10e5k3k"><ul class="svelte-10e5k3k"><!> <!></ul></div>',1);function zs(e,t){V(t,!0);let n=N(null),r=44,a=N(0),o=N(0),s=N(ae([])),l=N("");const c=fa("main");let d=oe(c),u=null;const f=oe(yo);ve(()=>{var P;i(l),i(f),(P=i(d))==null||P.scrollTo(0,0)});const v=()=>{u&&cancelAnimationFrame(u),u=requestAnimationFrame(()=>{var M;const P=((M=i(d))==null?void 0:M.scrollTop)||0;C(o,Math.floor(P/r)*r)})},h=()=>{var P;v(),i(n)&&C(a,window.innerHeight-((P=i(n))==null?void 0:P.getBoundingClientRect().top))};Le(()=>{h(),v()}),ve(()=>{var P;return(P=i(d))==null||P.addEventListener("scroll",v),window.addEventListener("resize",h),()=>{var M;(M=i(d))==null||M.removeEventListener("scroll",v),window.removeEventListener("resize",h)}}),ve(()=>{const P=Mr(),M=[],A={};for(let E=P.length-1;E>=0;E--){const I=P[E];if(I&&!(i(f).length&&i(f).some(O=>!I.tags.includes(O)))&&!(i(l)&&!(I.title.toLowerCase().includes(i(l).toLowerCase())||I.url.toLowerCase().includes(i(l).toLowerCase())))){if(I.tags)for(const O of I.tags)A[O]?A[O].connections++:A[O]={name:O,connections:1};M.push(I)}}hs(A),C(s,M,!0)});const g=oe(()=>i(s).length*r);let _=oe(()=>{const P=Math.ceil(i(a)/r),M=Math.floor(i(o)/r);return i(s).slice(M,M+P)});var w=Fs(),p=z(w),L=x(p);rn(L,{placeholder:"Search",get value(){return i(l)},set value(P){C(l,P,!0)}});var m=T(p,2),S=x(m),k=x(S);He(k,17,()=>i(_),P=>P.id,(P,M)=>{Hs(P,{get bookmark(){return i(M)}})});var D=T(k,2);{var B=P=>{var M=js();b(P,M)};H(D,P=>{i(_).length===0&&At()&&P(B)})}ke(S,P=>C(n,P),()=>i(n)),ne(P=>{nt(m,`height: ${P??""}px`),nt(S,`height: ${i(a)??""}px; transform: translateY(${i(o)??""}px)`)},[()=>Math.max(i(g),30)]),b(e,w),W()}var Us=q('<!> <div class="content svelte-cu0ar8"><!></div>',1);function Vs(e){var t=Us(),n=z(t);xs(n,{});var r=T(n,2),a=x(r);zs(a,{}),b(e,t)}var Ws=De('<svg width="800" height="800" viewBox="-3 0 32 32" xmlns="http://www.w3.org/2000/svg" class="svelte-1lqi79o"><path d="M23 8H3a1 1 0 1 1 0-2h20a1 1 0 0 1 0 2Zm-1 20a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V10h18v18ZM10 3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v1h-6V3Zm14 1h-6V2a2 2 0 0 0-2-2h-6a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v2a2 2 0 0 0 2 2v18a4 4 0 0 0 4 4h14a4 4 0 0 0 4-4V10a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2ZM13 28a1 1 0 0 0 1-1V15a1 1 0 0 0-2 0v12a1 1 0 0 0 1 1Zm-5 0a1 1 0 0 0 1-1V15a1 1 0 0 0-2 0v12a1 1 0 0 0 1 1Zm10 0a1 1 0 0 0 1-1V15a1 1 0 0 0-2 0v12a1 1 0 0 0 1 1Z" fill="currentColor" fill-rule="evenodd"></path></svg>');function Ys(e){var t=Ws();b(e,t)}var Xs=De('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" class="svelte-1lqi79o"><path fill-rule="evenodd" stroke="currentColor" fill="currentColor" d="M14 9.004a1 1 0 0 1 1 1v3a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-3a1 1 0 0 1 2 0v3h10v-3a1 1 0 0 1 1-1ZM8 1.59l3.707 3.707a1 1 0 0 1-1.414 1.414L9 5.418v4.586a1 1 0 1 1-2 0V5.418L5.707 6.711a1 1 0 0 1-1.414-1.414L8 1.59Z"></path></svg>');function Zs(e){var t=Xs();b(e,t)}var Gs=De('<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" class="svelte-1lqi79o"><path fill-rule="evenodd" stroke="currentColor" fill="currentColor" d="M14 9a1 1 0 0 1 1 1v3a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-3a1 1 0 0 1 2 0v3h10v-3a1 1 0 0 1 1-1ZM8 1a1 1 0 0 1 1 1v4.586l1.293-1.293a1 1 0 1 1 1.414 1.414L8 10.414 4.293 6.707a1 1 0 0 1 1.414-1.414L7 6.586V2a1 1 0 0 1 1-1Z"></path></svg>');function Ks(e){var t=Gs();b(e,t)}var Re=(e=>(e.Light="light",e.Auto="auto",e.Dark="dark",e))(Re||{});const Gt=(e,t)=>{const n=e.target.value;localStorage.setItem("colorScheme",n),document.documentElement.setAttribute("data-color-scheme",n),C(t,n,!0)};var Js=q('<div class="wrapper svelte-1lqc4qo"><fieldset class="switcher svelte-1lqc4qo"><legend class="vh svelte-1lqc4qo">Color Scheme</legend> <input id="light" type="radio" aria-label="Light"> <label for="light" title="Light" aria-label="Light"></label> <input id="auto" type="radio" aria-label="Auto"> <label for="auto" title="Auto" aria-label="Auto"></label> <input id="dark" type="radio" aria-label="Dark"> <label for="dark" title="Dark" aria-label="Dark"></label> <div class="wrapSwitcherStatus svelte-1lqc4qo"><div class="switcherStatus svelte-1lqc4qo"></div></div></fieldset></div>');function Qs(e,t){V(t,!0);let n=N(ae(localStorage.getItem("colorScheme")||Re.Auto));const r="color-scheme-switcher";var a=Js(),o=x(a),s=T(x(o),2);G(s,1,Q(["vh","input"]),"svelte-1lqc4qo"),xe(s,"name",r),s.__change=[Gt,n];var l=T(s,2);G(l,1,Q(["switcherButton","light"]),"svelte-1lqc4qo");var c=T(l,2);G(c,1,Q(["vh","input"]),"svelte-1lqc4qo"),xe(c,"name",r),c.__change=[Gt,n];var d=T(c,2);G(d,1,Q(["switcherButton","auto"]),"svelte-1lqc4qo");var u=T(d,2);G(u,1,Q(["vh","input"]),"svelte-1lqc4qo"),xe(u,"name",r),u.__change=[Gt,n];var f=T(u,2);G(f,1,Q(["switcherButton","dark"]),"svelte-1lqc4qo"),ne(()=>{Vt(s,Re.Light),Wt(s,i(n)===Re.Light),Vt(c,Re.Auto),Wt(c,i(n)===Re.Auto),Vt(u,Re.Dark),Wt(u,i(n)===Re.Dark)}),b(e,a),W()}me(["change"]);const $s=()=>{lt("importBookmarks")},ei=()=>{lt("exportBookmarks")},ti=()=>{lt("clearStore")};var ni=q('<div class="svelte-oc46cj"><!> <ul class="svelte-oc46cj"><li class="svelte-oc46cj"><button class="button svelte-oc46cj"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-oc46cj">import bookmarks</span></button></li> <li class="svelte-oc46cj"><button class="button svelte-oc46cj"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-oc46cj">export bookmarks</span></button></li> <li class="svelte-oc46cj"><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-oc46cj">clear store</span></button></li></ul> <div class="svelte-oc46cj"></div></div>');function ri(e,t){V(t,!1),Ut();var n=ni(),r=x(n);Qs(r,{});var a=T(r,2),o=x(a),s=x(o);s.__click=[$s];var l=x(s);Ee(l,()=>({"--size":"20px"})),Ks(l.lastChild);var c=T(o,2),d=x(c);d.__click=[ei];var u=x(d);Ee(u,()=>({"--size":"20px"})),Zs(u.lastChild);var f=T(c,2),v=x(f);v.__click=[ti],G(v,1,Q(["button","clearButton"]),"svelte-oc46cj");var h=x(v);Ee(h,()=>({"--size":"20px"})),Ys(h.lastChild);var g=T(a,2);g.textContent="50051eed-ed56-423f-b91a-e44d813d6516",b(e,n),W()}me(["click"]);function ai(e,t){V(t,!1);const n=()=>{wt()},r=({title:a,url:o,description:s,tags:l})=>{us({title:a,url:o,description:s,tags:l.map(c=>c.trim())}),n()};Ut(),Br(e,{onSubmit:r}),W()}var oi=q("<button><!></button>");function Se(e,t){let n=J(t,"type",3,"standard");var r=oi();r.__click=function(...o){var s;(s=t.onClick)==null||s.apply(this,o)};var a=x(r);Ze(a,()=>t.children),ne(()=>G(r,1,Q(["button",{dangerous:n()==="dangerous"}]),"svelte-v0y8yx")),b(e,r)}me(["click"]);var si=q('<div class="loader svelte-b80p9x"></div>');function yn(e){var t=si();b(e,t)}const ii=async(e,t)=>{const n=e.target;!n.files||n.files.length===0||await t(n.files[0])};var li=q('<p class="message svelte-19xh4q5">select a file to import your bookmarks</p> <div role="button" tabindex="0"><div class="dropzone-content svelte-19xh4q5"><p class="svelte-19xh4q5">Drag and drop your JSON file here</p> <p class="svelte-19xh4q5">or</p> <!></div> <input type="file" accept=".json, .html" style="display: none;"></div> <div class="buttonContainer svelte-19xh4q5"><!></div>',1),ci=q('<p class="message svelte-19xh4q5">importing bookmarks...</p> <!>',1),ui=q('<p class="message success svelte-19xh4q5">bookmarks imported successfully!</p> <div class="buttonContainer svelte-19xh4q5"><!></div>',1),di=q('<p class="message error svelte-19xh4q5">something went wrong</p> <div class="buttonContainer svelte-19xh4q5"><!> <!></div>',1),vi=q('<div class="content svelte-19xh4q5"><!></div>');function fi(e,t){V(t,!0);let n=N("idle"),r=N(null),a=N(!1),o=N(null);const s=()=>{wt()},l=async p=>{const L=await p.text(),m=JSON.parse(L),S=[];if(!m.bookmarks)throw new Error("Invalid import file format");for(const k of Object.values(m.bookmarks))k&&S.push(k);await Nn(S)},c=async p=>{C(n,"loading");try{if(p.name.endsWith(".json"))await l(p);else if(p.name.endsWith(".html"))await Nn(await Jo(p));else throw new Error("Unsupported file format. Please upload a JSON or HTML file.");C(n,"success")}catch{C(n,"error")}},d=()=>{var p;(p=i(r))==null||p.click()},u=p=>{p.preventDefault(),p.stopPropagation(),C(a,!0)},f=p=>{p.preventDefault(),p.stopPropagation(),C(a,!1)},v=p=>{p.preventDefault(),p.stopPropagation(),C(a,!0)},h=async p=>{var m;if(p.preventDefault(),p.stopPropagation(),C(a,!1),!((m=p.dataTransfer)!=null&&m.files)||p.dataTransfer.files.length===0)return;const L=p.dataTransfer.files[0];if(L.type!=="application/json"&&L.type!=="text/html"){C(n,"error");return}await c(L)};var g=vi(),y=x(g);{var _=p=>{var L=li(),m=T(z(L),2),S=x(m),k=T(x(S),4);Se(k,{onClick:d,children:(M,A)=>{var E=te("Select File");b(M,E)},$$slots:{default:!0}});var D=T(S,2);D.__change=[ii,c],ke(D,M=>C(r,M),()=>i(r)),ke(m,M=>C(o,M),()=>i(o));var B=T(m,2),P=x(B);Se(P,{onClick:s,children:(M,A)=>{var E=te("cancel");b(M,E)},$$slots:{default:!0}}),ne(()=>G(m,1,Q(["dropzone",{active:i(a)}]),"svelte-19xh4q5")),Ue("dragenter",m,u),Ue("dragover",m,v),Ue("dragleave",m,f),Ue("drop",m,h),b(p,L)},w=(p,L)=>{{var m=k=>{var D=ci(),B=T(z(D),2);yn(B),b(k,D)},S=(k,D)=>{{var B=M=>{var A=ui(),E=T(z(A),2),I=x(E);Se(I,{onClick:s,children:(O,X)=>{var j=te("close");b(O,j)},$$slots:{default:!0}}),b(M,A)},P=(M,A)=>{{var E=I=>{var O=di(),X=T(z(O),2),j=x(X);Se(j,{onClick:()=>{C(n,"idle")},children:(ee,se)=>{var R=te("Try Again");b(ee,R)},$$slots:{default:!0}});var re=T(j,2);Se(re,{onClick:s,children:(ee,se)=>{var R=te("Cancel");b(ee,R)},$$slots:{default:!0}}),b(I,O)};H(M,I=>{i(n)==="error"&&I(E)},A)}};H(k,M=>{i(n)==="success"?M(B):M(P,!1)},D)}};H(p,k=>{i(n)==="loading"?k(m):k(S,!1)},L)}};H(y,p=>{i(n)==="idle"?p(_):p(w,!1)})}b(e,g),W()}me(["change"]);var hi=(e,t)=>C(t,"json"),gi=(e,t)=>C(t,"html"),pi=q('<p class="message svelte-1kp07xg">Export bookmarks</p> <div class="format-switcher svelte-1kp07xg"><div class="switcher-wrapper svelte-1kp07xg"><div class="background svelte-1kp07xg"></div> <div class="active-indicator svelte-1kp07xg"></div> <button>JSON</button> <button>HTML</button></div> <p class="format-description svelte-1kp07xg"><!></p></div> <div class="buttonContainer svelte-1kp07xg"><!> <!></div>',1),_i=q('<p class="message svelte-1kp07xg">Exporting data...</p> <div class="buttonContainer svelte-1kp07xg"><!></div>',1),mi=q('<p class="message svelte-1kp07xg">Bookmarks exported successfully!</p> <div class="buttonContainer svelte-1kp07xg"><!></div>',1),wi=q('<div class="content svelte-1kp07xg"><!></div>');function yi(e,t){V(t,!0);let n=N("idle"),r=N("json");const a=()=>{wt()},o=async()=>{C(n,"loading"),setTimeout(async()=>{if(i(r)==="json")await fs().finally(()=>{C(n,"success")});else try{const u=Qo(ls()),f=new Blob([u],{type:"text/html"}),v=URL.createObjectURL(f),h=document.createElement("a");h.href=v,h.download=`bookmarks_${new Date().toLocaleDateString().replace(/\//g,"_")}.html`,document.body.appendChild(h),h.click(),document.body.removeChild(h),URL.revokeObjectURL(v),C(n,"success")}catch(u){console.error("Error exporting as HTML:",u),C(n,"success")}},0)};var s=wi(),l=x(s);{var c=u=>{var f=pi(),v=T(z(f),2),h=x(v),g=T(x(h),2),y=T(g,2);let _;y.__click=[hi,r];var w=T(y,2);let p;w.__click=[gi,r];var L=T(h,2),m=x(L);{var S=M=>{var A=te("JSON format (for app import)");b(M,A)},k=M=>{var A=te("HTML format (Chrome compatible)");b(M,A)};H(m,M=>{i(r)==="json"?M(S):M(k,!1)})}var D=T(v,2),B=x(D);Se(B,{onClick:o,children:(M,A)=>{var E=te("Export");b(M,E)},$$slots:{default:!0}});var P=T(B,2);Se(P,{onClick:a,children:(M,A)=>{var E=te("Cancel");b(M,E)},$$slots:{default:!0}}),ne((M,A)=>{nt(g,`transform: translateX(${(i(r)==="json"?"0":"100%")??""})`),_=G(y,1,"switcher-option svelte-1kp07xg",null,_,M),p=G(w,1,"switcher-option svelte-1kp07xg",null,p,A)},[()=>({active:i(r)==="json"}),()=>({active:i(r)==="html"})]),b(u,f)},d=(u,f)=>{{var v=g=>{var y=_i(),_=T(z(y),2),w=x(_);yn(w),b(g,y)},h=(g,y)=>{{var _=w=>{var p=mi(),L=T(z(p),2),m=x(L);Se(m,{onClick:a,children:(S,k)=>{var D=te("Close");b(S,D)},$$slots:{default:!0}}),b(w,p)};H(g,w=>{i(n)==="success"&&w(_)},y)}};H(u,g=>{i(n)==="loading"?g(v):g(h,!1)},f)}};H(l,u=>{i(n)==="idle"?u(c):u(d,!1)})}b(e,s),W()}me(["click"]);var ki=q('<p class="message svelte-w4337z">Are you sure you want to clear the store?</p> <div class="buttonContainer svelte-w4337z"><!> <!></div>',1),bi=q('<p class="message svelte-w4337z">clearing store...</p> <div class="buttonContainer svelte-w4337z"><!></div>',1),Si=q('<p class="message svelte-w4337z">store cleared</p> <div class="buttonContainer svelte-w4337z"><!></div>',1),Ei=q('<div class="content svelte-w4337z"><!></div>');function xi(e,t){V(t,!0);let n=N("idle");const r=()=>{wt()},a=()=>{C(n,"loading"),vs().finally(()=>{setTimeout(()=>{C(n,"success")},1e3)})};var o=Ei(),s=x(o);{var l=d=>{var u=ki(),f=T(z(u),2),v=x(f);Se(v,{onClick:r,children:(g,y)=>{var _=te("no");b(g,_)},$$slots:{default:!0}});var h=T(v,2);Se(h,{onClick:a,type:"dangerous",children:(g,y)=>{var _=te("yes");b(g,_)},$$slots:{default:!0}}),b(d,u)},c=(d,u)=>{{var f=h=>{var g=bi(),y=T(z(g),2),_=x(y);yn(_),b(h,g)},v=(h,g)=>{{var y=_=>{var w=Si(),p=T(z(w),2),L=x(p);Se(L,{onClick:r,children:(m,S)=>{var k=te("close");b(m,k)},$$slots:{default:!0}}),b(_,w)};H(h,_=>{i(n)==="success"&&_(y)},g)}};H(d,h=>{i(n)==="loading"?h(f):h(v,!1)},u)}};H(s,d=>{i(n)==="idle"?d(l):d(c,!1)})}b(e,o),W()}const Ci=(e,t=jn)=>{var n=_e(),r=z(n);{var a=s=>{ri(s,{})},o=(s,l)=>{{var c=u=>{ai(u,{})},d=(u,f)=>{{var v=g=>{fi(g,{})},h=(g,y)=>{{var _=p=>{yi(p,{})},w=(p,L)=>{{var m=S=>{xi(S,{})};H(p,S=>{t()==="clearStore"&&S(m)},L)}};H(g,p=>{t()==="exportBookmarks"?p(_):p(w,!1)},y)}};H(u,g=>{t()==="importBookmarks"?g(v):g(h,!1)},f)}};H(s,u=>{t()==="newBookmark"?u(c):u(d,!1)},l)}};H(r,s=>{t()==="settings"?s(a):s(o,!1)})}b(e,n)};var Ti=q("<!> <!>",1);function Li(e,t){V(t,!0);let n=oe(Eo);var r=Ti(),a=z(r);Vs(a);var o=T(a,2);He(o,17,()=>i(n),Va,(s,l,c)=>{const d=oe(()=>{var u;return c!==i(n).length-1&&!!((u=i(n)[c+1])!=null&&u.shown)});Ko(s,{get shown(){return i(l).shown},get hidden(){return i(d)},children:(u,f)=>{Ci(u,()=>i(l).page)},$$slots:{default:!0}})}),b(e,r),W()}function Di(){const e=navigator.userAgent;if(!(/iPad|iPhone|iPod/.test(e)&&!window.MSStream))return!1;const n=/Safari/.test(e)&&!/Chrome/.test(e)&&!/CriOS/.test(e)&&!/FxiOS/.test(e),r=/Macintosh/.test(e)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>1;return!!n||!!r}const Pi=Di();function Oi(e,t){V(t,!1);let n=0;Le(()=>{const r=document.querySelector("div");r&&Pi&&r.addEventListener("touchstart",a=>{a.pageX>20&&a.pageX<window.innerWidth-20||a.preventDefault()}),document.addEventListener("touchstart",a=>{n=a.touches[0].clientX},{passive:!1}),document.addEventListener("touchmove",a=>{const s=a.touches[0].clientX-n;(n<50&&s>0||n>window.innerWidth-50&&s<0)&&a.preventDefault()},{passive:!1}),document.addEventListener("touchend",()=>{n=0}),document.addEventListener("touchcancel",()=>{n=0})}),Ut(),W()}var Mi=q('<!> <main><!> <div class="container svelte-zec11o"><!></div> <!></main>',1);function Ai(e,t){V(t,!0);let n=N(null),r=!1;ha("main",()=>i(n));const a=()=>{document.activeElement instanceof HTMLInputElement||document.activeElement instanceof HTMLTextAreaElement?r=!0:r=!1};Le(()=>{a(),document.addEventListener("focusin",a),document.addEventListener("focusout",a),document.addEventListener("touchmove",function(h){r&&h.preventDefault()},{passive:!1})}),Le(async()=>{await new Promise(h=>setTimeout(h,100)),await Aa(),de.working=!0});let o=oe(()=>Fe().length>0);var s=Mi(),l=z(s);Oi(l,{});var c=T(l,2),d=x(c);Mo(d,{});var u=T(d,2),f=x(u);Li(f,{});var v=T(u,2);so(v,{}),ke(c,h=>C(n,h),()=>i(n)),ne(()=>{nt(c,`--swiping-percentage: ${de.swipingPercentage}`),G(c,1,Q(["main",{isAnimationOn:de.working&&!de.isSwiping,open:i(o)}]),"svelte-zec11o")}),b(e,s),W()}Fa(Ai,{target:document.getElementById("app")});
