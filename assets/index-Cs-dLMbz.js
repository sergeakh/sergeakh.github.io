(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();const En=!1;var on=Array.isArray,qr=Array.prototype.indexOf,sn=Array.from,Hr=Object.defineProperty,Je=Object.getOwnPropertyDescriptor,jn=Object.getOwnPropertyDescriptors,Fr=Object.prototype,jr=Array.prototype,ln=Object.getPrototypeOf,xn=Object.isExtensible;const zn=()=>{};function zr(e){return e()}function St(e){for(var t=0;t<e.length;t++)e[t]()}const Ce=2,Un=4,Bt=8,cn=16,Re=32,at=64,Et=128,me=256,xt=512,he=1024,Me=2048,Ze=4096,Ie=8192,Rt=16384,Ur=32768,Nt=65536,Vr=1<<17,Yr=1<<19,Vn=1<<20,Jt=1<<21,We=Symbol("$state"),Wr=Symbol("legacy props"),Xr=Symbol("");function Yn(e){return e===this.v}function Zr(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function un(e){return!Zr(e,this.v)}function Gr(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Kr(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Jr(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Qr(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function $r(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function ea(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function ta(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function na(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let ot=!1,ra=!1;function aa(){ot=!0}const dn=1,vn=2,Wn=4,oa=8,sa=16,ia=1,la=2,ca=4,ua=8,da=16,va=1,fa=2,ve=Symbol(),ha="http://www.w3.org/1999/xhtml";function Xn(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let G=null;function Tn(e){G=e}function ga(e){return Zn().get(e)}function pa(e,t){return Zn().set(e,t),t}function X(e,t=!1,n){var r=G={p:G,c:null,d:!1,e:null,m:!1,s:e,x:null,l:null};ot&&!t&&(G.l={s:null,u:null,r1:[],r2:ft(!1)}),fn(()=>{r.d=!0})}function Z(e){const t=G;if(t!==null){e!==void 0&&(t.x=e);const s=t.e;if(s!==null){var n=Q,r=W;t.e=null;try{for(var a=0;a<s.length;a++){var o=s[a];je(o.effect),Ae(o.reaction),hn(o.fn)}}finally{je(n),Ae(r)}}G=t.p,t.m=!0}return e||{}}function pt(){return!ot||G!==null&&G.l===null}function Zn(e){return G===null&&Xn(),G.c??(G.c=new Map(_a(G)||void 0))}function _a(e){let t=e.p;for(;t!==null;){const n=t.c;if(n!==null)return n;t=t.p}return null}function se(e){if(typeof e!="object"||e===null||We in e)return e;const t=ln(e);if(t!==Fr&&t!==jr)return e;var n=new Map,r=on(e),a=R(0),o=W,s=l=>{var c=W;Ae(o);var d=l();return Ae(c),d};return r&&n.set("length",R(e.length)),new Proxy(e,{defineProperty(l,c,d){(!("value"in d)||d.configurable===!1||d.enumerable===!1||d.writable===!1)&&ea();var u=n.get(c);return u===void 0?(u=s(()=>R(d.value)),n.set(c,u)):T(u,s(()=>se(d.value))),!0},deleteProperty(l,c){var d=n.get(c);if(d===void 0)c in l&&n.set(c,s(()=>R(ve)));else{if(r&&typeof c=="string"){var u=n.get("length"),f=Number(c);Number.isInteger(f)&&f<u.v&&T(u,f)}T(d,ve),Cn(a)}return!0},get(l,c,d){var g;if(c===We)return e;var u=n.get(c),f=c in l;if(u===void 0&&(!f||(g=Je(l,c))!=null&&g.writable)&&(u=s(()=>R(se(f?l[c]:ve))),n.set(c,u)),u!==void 0){var v=i(u);return v===ve?void 0:v}return Reflect.get(l,c,d)},getOwnPropertyDescriptor(l,c){var d=Reflect.getOwnPropertyDescriptor(l,c);if(d&&"value"in d){var u=n.get(c);u&&(d.value=i(u))}else if(d===void 0){var f=n.get(c),v=f==null?void 0:f.v;if(f!==void 0&&v!==ve)return{enumerable:!0,configurable:!0,value:v,writable:!0}}return d},has(l,c){var v;if(c===We)return!0;var d=n.get(c),u=d!==void 0&&d.v!==ve||Reflect.has(l,c);if(d!==void 0||Q!==null&&(!u||(v=Je(l,c))!=null&&v.writable)){d===void 0&&(d=s(()=>R(u?se(l[c]):ve)),n.set(c,d));var f=i(d);if(f===ve)return!1}return u},set(l,c,d,u){var p;var f=n.get(c),v=c in l;if(r&&c==="length")for(var g=d;g<f.v;g+=1){var h=n.get(g+"");h!==void 0?T(h,ve):g in l&&(h=s(()=>R(ve)),n.set(g+"",h))}f===void 0?(!v||(p=Je(l,c))!=null&&p.writable)&&(f=s(()=>R(void 0)),T(f,s(()=>se(d))),n.set(c,f)):(v=f.v!==ve,T(f,s(()=>se(d))));var b=Reflect.getOwnPropertyDescriptor(l,c);if(b!=null&&b.set&&b.set.call(u,d),!v){if(r&&typeof c=="string"){var m=n.get("length"),w=Number(c);Number.isInteger(w)&&w>=m.v&&T(m,w+1)}Cn(a)}return!0},ownKeys(l){i(a);var c=Reflect.ownKeys(l).filter(f=>{var v=n.get(f);return v===void 0||v.v!==ve});for(var[d,u]of n)u.v!==ve&&!(d in l)&&c.push(d);return c},setPrototypeOf(){ta()}})}function Cn(e,t=1){T(e,e.v+t)}function $e(e){var t=Ce|Me,n=W!==null&&(W.f&Ce)!==0?W:null;return Q===null||n!==null&&(n.f&me)!==0?t|=me:Q.f|=Vn,{ctx:G,deps:null,effects:null,equals:Yn,f:t,fn:e,reactions:null,rv:0,v:null,wv:0,parent:n??Q}}function ie(e){const t=$e(e);return dr(t),t}function Gn(e){const t=$e(e);return t.equals=un,t}function Kn(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)Be(t[n])}}function ma(e){for(var t=e.parent;t!==null;){if((t.f&Ce)===0)return t;t=t.parent}return null}function Jn(e){var t,n=Q;je(ma(e));try{Kn(e),t=gr(e)}finally{je(n)}return t}function Qn(e){var t=Jn(e),n=(He||(e.f&me)!==0)&&e.deps!==null?Ze:he;Le(e,n),e.equals(t)||(e.v=t,e.wv=fr())}const vt=new Map;function ft(e,t){var n={f:0,v:e,reactions:null,equals:Yn,rv:0,wv:0};return n}function R(e,t){const n=ft(e);return dr(n),n}function $n(e,t=!1){var r;const n=ft(e);return t||(n.equals=un),ot&&G!==null&&G.l!==null&&((r=G.l).s??(r.s=[])).push(n),n}function T(e,t,n=!1){W!==null&&!Oe&&pt()&&(W.f&(Ce|cn))!==0&&!(de!=null&&de.includes(e))&&na();let r=n?se(t):t;return Qt(e,r)}function Qt(e,t){if(!e.equals(t)){var n=e.v;_t?vt.set(e,t):vt.set(e,n),e.v=t,(e.f&Ce)!==0&&((e.f&Me)!==0&&Jn(e),Le(e,(e.f&me)===0?he:Ze)),e.wv=fr(),er(e,Me),pt()&&Q!==null&&(Q.f&he)!==0&&(Q.f&(Re|at))===0&&(be===null?Ca([e]):be.push(e))}return t}function er(e,t){var n=e.reactions;if(n!==null)for(var r=pt(),a=n.length,o=0;o<a;o++){var s=n[o],l=s.f;(l&Me)===0&&(!r&&s===Q||(Le(s,t),(l&(he|me))!==0&&((l&Ce)!==0?er(s,Ze):Ut(s))))}}let wa=!1;var Ln,tr,nr,rr;function ya(){if(Ln===void 0){Ln=window,tr=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;nr=Je(t,"firstChild").get,rr=Je(t,"nextSibling").get,xn(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),xn(n)&&(n.__t=void 0)}}function qt(e=""){return document.createTextNode(e)}function et(e){return nr.call(e)}function Ht(e){return rr.call(e)}function x(e,t){return et(e)}function V(e,t){{var n=et(e);return n instanceof Comment&&n.data===""?Ht(n):n}}function C(e,t=1,n=!1){let r=e;for(;t--;)r=Ht(r);return r}function ka(e){e.textContent=""}function ar(e){Q===null&&W===null&&Jr(),W!==null&&(W.f&me)!==0&&Q===null&&Kr(),_t&&Gr()}function ba(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function st(e,t,n,r=!0){var a=Q,o={ctx:G,deps:null,nodes_start:null,nodes_end:null,f:e|Me,first:null,fn:t,last:null,next:null,parent:a,prev:null,teardown:null,transitions:null,wv:0};if(n)try{_n(o),o.f|=Ur}catch(c){throw Be(o),c}else t!==null&&Ut(o);var s=n&&o.deps===null&&o.first===null&&o.nodes_start===null&&o.teardown===null&&(o.f&(Vn|Et))===0;if(!s&&r&&(a!==null&&ba(o,a),W!==null&&(W.f&Ce)!==0)){var l=W;(l.effects??(l.effects=[])).push(o)}return o}function fn(e){const t=st(Bt,null,!1);return Le(t,he),t.teardown=e,t}function fe(e){ar();var t=Q!==null&&(Q.f&Re)!==0&&G!==null&&!G.m;if(t){var n=G;(n.e??(n.e=[])).push({fn:e,effect:Q,reaction:W})}else{var r=hn(e);return r}}function Sa(e){return ar(),Ft(e)}function Ea(e){const t=st(at,e,!0);return(n={})=>new Promise(r=>{n.outro?Tt(t,()=>{Be(t),r(void 0)}):(Be(t),r(void 0))})}function hn(e){return st(Un,e,!1)}function Ft(e){return st(Bt,e,!0)}function oe(e,t=[],n=$e){const r=t.map(n);return jt(()=>e(...r.map(i)))}function jt(e,t=0){return st(Bt|cn|t,e,!0)}function tt(e,t=!0){return st(Bt|Re,e,!0,t)}function or(e){var t=e.teardown;if(t!==null){const n=_t,r=W;Pn(!0),Ae(null);try{t.call(null)}finally{Pn(n),Ae(r)}}}function sr(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){var r=n.next;(n.f&at)!==0?n.parent=null:Be(n,t),n=r}}function xa(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&Re)===0&&Be(t),t=n}}function Be(e,t=!0){var n=!1;if((t||(e.f&Yr)!==0)&&e.nodes_start!==null){for(var r=e.nodes_start,a=e.nodes_end;r!==null;){var o=r===a?null:Ht(r);r.remove(),r=o}n=!0}sr(e,t&&!n),Ot(e,0),Le(e,Rt);var s=e.transitions;if(s!==null)for(const c of s)c.stop();or(e);var l=e.parent;l!==null&&l.first!==null&&ir(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function ir(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function Tt(e,t){var n=[];gn(e,n,!0),lr(n,()=>{Be(e),t&&t()})}function lr(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var a of e)a.out(r)}else t()}function gn(e,t,n){if((e.f&Ie)===0){if(e.f^=Ie,e.transitions!==null)for(const s of e.transitions)(s.is_global||n)&&t.push(s);for(var r=e.first;r!==null;){var a=r.next,o=(r.f&Nt)!==0||(r.f&Re)!==0;gn(r,t,o?n:!1),r=a}}}function Ct(e){cr(e,!0)}function cr(e,t){if((e.f&Ie)!==0){e.f^=Ie,(e.f&he)===0&&(e.f^=he),mt(e)&&(Le(e,Me),Ut(e));for(var n=e.first;n!==null;){var r=n.next,a=(n.f&Nt)!==0||(n.f&Re)!==0;cr(n,a?t:!1),n=r}if(e.transitions!==null)for(const o of e.transitions)(o.is_global||t)&&o.in()}}let ht=[],$t=[];function ur(){var e=ht;ht=[],St(e)}function Ta(){var e=$t;$t=[],St(e)}function pn(e){ht.length===0&&queueMicrotask(ur),ht.push(e)}function Dn(){ht.length>0&&ur(),$t.length>0&&Ta()}let bt=!1,Lt=!1,Dt=null,Xe=!1,_t=!1;function Pn(e){_t=e}let dt=[];let W=null,Oe=!1;function Ae(e){W=e}let Q=null;function je(e){Q=e}let de=null;function dr(e){W!==null&&W.f&Jt&&(de===null?de=[e]:de.push(e))}let ue=null,_e=0,be=null;function Ca(e){be=e}let vr=1,Pt=0,He=!1;function fr(){return++vr}function mt(e){var f;var t=e.f;if((t&Me)!==0)return!0;if((t&Ze)!==0){var n=e.deps,r=(t&me)!==0;if(n!==null){var a,o,s=(t&xt)!==0,l=r&&Q!==null&&!He,c=n.length;if(s||l){var d=e,u=d.parent;for(a=0;a<c;a++)o=n[a],(s||!((f=o==null?void 0:o.reactions)!=null&&f.includes(d)))&&(o.reactions??(o.reactions=[])).push(d);s&&(d.f^=xt),l&&u!==null&&(u.f&me)===0&&(d.f^=me)}for(a=0;a<c;a++)if(o=n[a],mt(o)&&Qn(o),o.wv>e.wv)return!0}(!r||Q!==null&&!He)&&Le(e,he)}return!1}function La(e,t){for(var n=t;n!==null;){if((n.f&Et)!==0)try{n.fn(e);return}catch{n.f^=Et}n=n.parent}throw bt=!1,e}function Da(e){return(e.f&Rt)===0&&(e.parent===null||(e.parent.f&Et)===0)}function zt(e,t,n,r){if(bt){if(n===null&&(bt=!1),Da(t))throw e;return}n!==null&&(bt=!0);{La(e,t);return}}function hr(e,t,n=!0){var r=e.reactions;if(r!==null)for(var a=0;a<r.length;a++){var o=r[a];de!=null&&de.includes(e)||((o.f&Ce)!==0?hr(o,t,!1):t===o&&(n?Le(o,Me):(o.f&he)!==0&&Le(o,Ze),Ut(o)))}}function gr(e){var g;var t=ue,n=_e,r=be,a=W,o=He,s=de,l=G,c=Oe,d=e.f;ue=null,_e=0,be=null,He=(d&me)!==0&&(Oe||!Xe||W===null),W=(d&(Re|at))===0?e:null,de=null,Tn(e.ctx),Oe=!1,Pt++,e.f|=Jt;try{var u=(0,e.fn)(),f=e.deps;if(ue!==null){var v;if(Ot(e,_e),f!==null&&_e>0)for(f.length=_e+ue.length,v=0;v<ue.length;v++)f[_e+v]=ue[v];else e.deps=f=ue;if(!He)for(v=_e;v<f.length;v++)((g=f[v]).reactions??(g.reactions=[])).push(e)}else f!==null&&_e<f.length&&(Ot(e,_e),f.length=_e);if(pt()&&be!==null&&!Oe&&f!==null&&(e.f&(Ce|Ze|Me))===0)for(v=0;v<be.length;v++)hr(be[v],e);return a!==e&&(Pt++,be!==null&&(r===null?r=be:r.push(...be))),u}finally{ue=t,_e=n,be=r,W=a,He=o,de=s,Tn(l),Oe=c,e.f^=Jt}}function Pa(e,t){let n=t.reactions;if(n!==null){var r=qr.call(n,e);if(r!==-1){var a=n.length-1;a===0?n=t.reactions=null:(n[r]=n[a],n.pop())}}n===null&&(t.f&Ce)!==0&&(ue===null||!ue.includes(t))&&(Le(t,Ze),(t.f&(me|xt))===0&&(t.f^=xt),Kn(t),Ot(t,0))}function Ot(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)Pa(e,n[r])}function _n(e){var t=e.f;if((t&Rt)===0){Le(e,he);var n=Q,r=G,a=Xe;Q=e,Xe=!0;try{(t&cn)!==0?xa(e):sr(e),or(e);var o=gr(e);e.teardown=typeof o=="function"?o:null,e.wv=vr;var s=e.deps,l;En&&ra&&e.f&Me}catch(c){zt(c,e,n,r||e.ctx)}finally{Xe=a,Q=n}}}function Oa(){try{Qr()}catch(e){if(Dt!==null)zt(e,Dt,null);else throw e}}function pr(){var e=Xe;try{var t=0;for(Xe=!0;dt.length>0;){t++>1e3&&Oa();var n=dt,r=n.length;dt=[];for(var a=0;a<r;a++){var o=Aa(n[a]);Ma(o)}vt.clear()}}finally{Lt=!1,Xe=e,Dt=null}}function Ma(e){var t=e.length;if(t!==0)for(var n=0;n<t;n++){var r=e[n];if((r.f&(Rt|Ie))===0)try{mt(r)&&(_n(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null?ir(r):r.fn=null))}catch(a){zt(a,r,null,r.ctx)}}}function Ut(e){Lt||(Lt=!0,queueMicrotask(pr));for(var t=Dt=e;t.parent!==null;){t=t.parent;var n=t.f;if((n&(at|Re))!==0){if((n&he)===0)return;t.f^=he}}dt.push(t)}function Aa(e){for(var t=[],n=e;n!==null;){var r=n.f,a=(r&(Re|at))!==0,o=a&&(r&he)!==0;if(!o&&(r&Ie)===0){if((r&Un)!==0)t.push(n);else if(a)n.f^=he;else{var s=W;try{W=n,mt(n)&&_n(n)}catch(d){zt(d,n,null,n.ctx)}finally{W=s}}var l=n.first;if(l!==null){n=l;continue}}var c=n.parent;for(n=n.next;n===null&&c!==null;)n=c.next,c=c.parent}return t}function Ia(e){var t;for(Dn();dt.length>0;)Lt=!0,pr(),Dn();return t}async function Ba(){await Promise.resolve(),Ia()}function i(e){var t=e.f,n=(t&Ce)!==0;if(W!==null&&!Oe){if(!(de!=null&&de.includes(e))){var r=W.deps;e.rv<Pt&&(e.rv=Pt,ue===null&&r!==null&&r[_e]===e?_e++:ue===null?ue=[e]:(!He||!ue.includes(e))&&ue.push(e))}}else if(n&&e.deps===null&&e.effects===null){var a=e,o=a.parent;o!==null&&(o.f&me)===0&&(a.f^=me)}return n&&(a=e,mt(a)&&Qn(a)),_t&&vt.has(e)?vt.get(e):e.v}function nt(e){var t=Oe;try{return Oe=!0,e()}finally{Oe=t}}const Ra=-7169;function Le(e,t){e.f=e.f&Ra|t}function Na(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(We in e)en(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&We in n&&en(n)}}}function en(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{en(e[r],t)}catch{}const n=ln(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=jn(n);for(let a in r){const o=r[a].get;if(o)try{o.call(e)}catch{}}}}}const qa=["touchstart","touchmove"];function Ha(e){return qa.includes(e)}let On=!1;function Fa(){On||(On=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const n of e.target.elements)(t=n.__on_r)==null||t.call(n)})},{capture:!0}))}function _r(e){var t=W,n=Q;Ae(null),je(null);try{return e()}finally{Ae(t),je(n)}}function ja(e,t,n,r=n){e.addEventListener(t,()=>_r(n));const a=e.__on_r;a?e.__on_r=()=>{a(),r(!0)}:e.__on_r=()=>r(!0),Fa()}const mr=new Set,tn=new Set;function za(e,t,n,r={}){function a(o){if(r.capture||ct.call(t,o),!o.cancelBubble)return _r(()=>n==null?void 0:n.call(this,o))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?pn(()=>{t.addEventListener(e,a,r)}):t.addEventListener(e,a,r),a}function Ve(e,t,n,r,a){var o={capture:r,passive:a},s=za(e,t,n,o);(t===document.body||t===window||t===document)&&fn(()=>{t.removeEventListener(e,s,o)})}function ye(e){for(var t=0;t<e.length;t++)mr.add(e[t]);for(var n of tn)n(e)}function ct(e){var p;var t=this,n=t.ownerDocument,r=e.type,a=((p=e.composedPath)==null?void 0:p.call(e))||[],o=a[0]||e.target,s=0,l=e.__root;if(l){var c=a.indexOf(l);if(c!==-1&&(t===document||t===window)){e.__root=t;return}var d=a.indexOf(t);if(d===-1)return;c<=d&&(s=c)}if(o=a[s]||e.target,o!==t){Hr(e,"currentTarget",{configurable:!0,get(){return o||n}});var u=W,f=Q;Ae(null),je(null);try{for(var v,g=[];o!==null;){var h=o.assignedSlot||o.parentNode||o.host||null;try{var b=o["__"+r];if(b!=null&&(!o.disabled||e.target===o))if(on(b)){var[m,...w]=b;m.apply(o,[e,...w])}else b.call(o,e)}catch(E){v?g.push(E):v=E}if(e.cancelBubble||h===t||h===null)break;o=h}if(v){for(let E of g)queueMicrotask(()=>{throw E});throw v}}finally{e.__root=t,delete e.currentTarget,Ae(u),je(f)}}}function wr(e){var t=document.createElement("template");return t.innerHTML=e,t.content}function gt(e,t){var n=Q;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function F(e,t){var n=(t&va)!==0,r=(t&fa)!==0,a,o=!e.startsWith("<!>");return()=>{a===void 0&&(a=wr(o?e:"<!>"+e),n||(a=et(a)));var s=r||tr?document.importNode(a,!0):a.cloneNode(!0);if(n){var l=et(s),c=s.lastChild;gt(l,c)}else gt(s,s);return s}}function Pe(e,t,n="svg"){var r=!e.startsWith("<!>"),a=`<${n}>${r?e:"<!>"+e}</${n}>`,o;return()=>{if(!o){var s=wr(a),l=et(s);o=et(l)}var c=o.cloneNode(!0);return gt(c,c),c}}function ae(e=""){{var t=qt(e+"");return gt(t,t),t}}function we(){var e=document.createDocumentFragment(),t=document.createComment(""),n=qt();return e.append(t,n),gt(t,n),e}function S(e,t){e!==null&&e.before(t)}function it(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function Ua(e,t){return Va(e,t)}const Ke=new Map;function Va(e,{target:t,anchor:n,props:r={},events:a,context:o,intro:s=!0}){ya();var l=new Set,c=f=>{for(var v=0;v<f.length;v++){var g=f[v];if(!l.has(g)){l.add(g);var h=Ha(g);t.addEventListener(g,ct,{passive:h});var b=Ke.get(g);b===void 0?(document.addEventListener(g,ct,{passive:h}),Ke.set(g,1)):Ke.set(g,b+1)}}};c(sn(mr)),tn.add(c);var d=void 0,u=Ea(()=>{var f=n??t.appendChild(qt());return tt(()=>{if(o){X({});var v=G;v.c=o}a&&(r.$$events=a),d=e(f,r)||{},o&&Z()}),()=>{var h;for(var v of l){t.removeEventListener(v,ct);var g=Ke.get(v);--g===0?(document.removeEventListener(v,ct),Ke.delete(v)):Ke.set(v,g)}tn.delete(c),f!==n&&((h=f.parentNode)==null||h.removeChild(f))}});return Ya.set(d,u),d}let Ya=new WeakMap;function z(e,t,[n,r]=[0,0]){var a=e,o=null,s=null,l=ve,c=n>0?Nt:0,d=!1;const u=(v,g=!0)=>{d=!0,f(g,v)},f=(v,g)=>{l!==(l=v)&&(l?(o?Ct(o):g&&(o=tt(()=>g(a))),s&&Tt(s,()=>{s=null})):(s?Ct(s):g&&(s=tt(()=>g(a,[n+1,r]))),o&&Tt(o,()=>{o=null})))};jt(()=>{d=!1,t(u),d||f(null,null)},c)}function xe(e,t){Ft(()=>{var n=t();for(var r in n){var a=n[r];a?e.style.setProperty(r,a):e.style.removeProperty(r)}}),fn(()=>{e.remove()})}function Wa(e,t){return t}function Xa(e,t,n,r){for(var a=[],o=t.length,s=0;s<o;s++)gn(t[s].e,a,!0);var l=o>0&&a.length===0&&n!==null;if(l){var c=n.parentNode;ka(c),c.append(n),r.clear(),qe(e,t[0].prev,t[o-1].next)}lr(a,()=>{for(var d=0;d<o;d++){var u=t[d];l||(r.delete(u.k),qe(e,u.prev,u.next)),Be(u.e,!l)}})}function Fe(e,t,n,r,a,o=null){var s=e,l={flags:t,items:new Map,first:null},c=(t&Wn)!==0;if(c){var d=e;s=d.appendChild(qt())}var u=null,f=!1,v=Gn(()=>{var g=n();return on(g)?g:g==null?[]:sn(g)});jt(()=>{var g=i(v),h=g.length;f&&h===0||(f=h===0,Za(g,l,s,a,t,r,n),o!==null&&(h===0?u?Ct(u):u=tt(()=>o(s)):u!==null&&Tt(u,()=>{u=null})),i(v))})}function Za(e,t,n,r,a,o,s){var A,H,I,q;var l=(a&oa)!==0,c=(a&(dn|vn))!==0,d=e.length,u=t.items,f=t.first,v=f,g,h=null,b,m=[],w=[],p,E,_,k;if(l)for(k=0;k<d;k+=1)p=e[k],E=o(p,k),_=u.get(E),_!==void 0&&((A=_.a)==null||A.measure(),(b??(b=new Set)).add(_));for(k=0;k<d;k+=1){if(p=e[k],E=o(p,k),_=u.get(E),_===void 0){var y=v?v.e.nodes_start:n;h=Ka(y,t,h,h===null?t.first:h.next,p,E,k,r,a,s),u.set(E,h),m=[],w=[],v=h.next;continue}if(c&&Ga(_,p,k,a),(_.e.f&Ie)!==0&&(Ct(_.e),l&&((H=_.a)==null||H.unfix(),(b??(b=new Set)).delete(_))),_!==v){if(g!==void 0&&g.has(_)){if(m.length<w.length){var L=w[0],M;h=L.prev;var D=m[0],P=m[m.length-1];for(M=0;M<m.length;M+=1)Mn(m[M],L,n);for(M=0;M<w.length;M+=1)g.delete(w[M]);qe(t,D.prev,P.next),qe(t,h,D),qe(t,P,L),v=L,h=P,k-=1,m=[],w=[]}else g.delete(_),Mn(_,v,n),qe(t,_.prev,_.next),qe(t,_,h===null?t.first:h.next),qe(t,h,_),h=_;continue}for(m=[],w=[];v!==null&&v.k!==E;)(v.e.f&Ie)===0&&(g??(g=new Set)).add(v),w.push(v),v=v.next;if(v===null)continue;_=v}m.push(_),h=_,v=_.next}if(v!==null||g!==void 0){for(var N=g===void 0?[]:sn(g);v!==null;)(v.e.f&Ie)===0&&N.push(v),v=v.next;var O=N.length;if(O>0){var j=(a&Wn)!==0&&d===0?n:null;if(l){for(k=0;k<O;k+=1)(I=N[k].a)==null||I.measure();for(k=0;k<O;k+=1)(q=N[k].a)==null||q.fix()}Xa(t,N,j,u)}}l&&pn(()=>{var Y;if(b!==void 0)for(_ of b)(Y=_.a)==null||Y.apply()}),Q.first=t.first&&t.first.e,Q.last=h&&h.e}function Ga(e,t,n,r){(r&dn)!==0&&Qt(e.v,t),(r&vn)!==0?Qt(e.i,n):e.i=n}function Ka(e,t,n,r,a,o,s,l,c,d){var u=(c&dn)!==0,f=(c&sa)===0,v=u?f?$n(a):ft(a):a,g=(c&vn)===0?s:ft(s),h={i:g,v,k:o,a:null,e:null,prev:n,next:r};try{return h.e=tt(()=>l(e,v,g,d),wa),h.e.prev=n&&n.e,h.e.next=r&&r.e,n===null?t.first=h:(n.next=h,n.e.next=h.e),r!==null&&(r.prev=h,r.e.prev=h.e),h}finally{}}function Mn(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,a=t?t.e.nodes_start:n,o=e.e.nodes_start;o!==r;){var s=Ht(o);a.before(o),o=s}}function qe(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function Ge(e,t,...n){var r=e,a=zn,o;jt(()=>{a!==(a=t())&&(o&&(Be(o),o=null),o=tt(()=>a(r,...n)))},Nt)}function yr(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=yr(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Ja(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=yr(e))&&(r&&(r+=" "),r+=t);return r}function te(e){return typeof e=="object"?Ja(e):e??""}const An=[...` 	
\r\f \v\uFEFF`];function Qa(e,t,n){var r=e==null?"":""+e;if(t&&(r=r?r+" "+t:t),n){for(var a in n)if(n[a])r=r?r+" "+a:a;else if(r.length)for(var o=a.length,s=0;(s=r.indexOf(a,s))>=0;){var l=s+o;(s===0||An.includes(r[s-1]))&&(l===r.length||An.includes(r[l]))?r=(s===0?"":r.substring(0,s))+r.substring(l+1):s=l}}return r===""?null:r}function $a(e,t){return e==null?null:String(e)}function J(e,t,n,r,a,o){var s=e.__className;if(s!==n||s===void 0){var l=Qa(n,r,o);l==null?e.removeAttribute("class"):e.className=l,e.__className=n}else if(o&&a!==o)for(var c in o){var d=!!o[c];(a==null||d!==!!a[c])&&e.classList.toggle(c,d)}return o}function Mt(e,t,n,r){var a=e.__style;if(a!==t){var o=$a(t);o==null?e.removeAttribute("style"):e.style.cssText=o,e.__style=t}return r}const eo=Symbol("is custom element"),to=Symbol("is html");function Yt(e,t){var n=mn(e);n.value===(n.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function Wt(e,t){var n=mn(e);n.checked!==(n.checked=t??void 0)&&(e.checked=t)}function Te(e,t,n,r){var a=mn(e);a[t]!==(a[t]=n)&&(t==="loading"&&(e[Xr]=n),n==null?e.removeAttribute(t):typeof n!="string"&&no(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function mn(e){return e.__attributes??(e.__attributes={[eo]:e.nodeName.includes("-"),[to]:e.namespaceURI===ha})}var In=new Map;function no(e){var t=In.get(e.nodeName);if(t)return t;In.set(e.nodeName,t=[]);for(var n,r=e,a=Element.prototype;a!==r;){n=jn(r);for(var o in n)n[o].set&&t.push(o);r=ln(r)}return t}function wn(e,t,n=t){var r=pt();ja(e,"input",a=>{var o=a?e.defaultValue:e.value;if(o=Xt(e)?Zt(o):o,n(o),r&&o!==(o=t())){var s=e.selectionStart,l=e.selectionEnd;e.value=o??"",l!==null&&(e.selectionStart=s,e.selectionEnd=Math.min(l,e.value.length))}}),nt(t)==null&&e.value&&n(Xt(e)?Zt(e.value):e.value),Ft(()=>{var a=t();Xt(e)&&a===Zt(e.value)||e.type==="date"&&!a&&!e.value||a!==e.value&&(e.value=a??"")})}function Xt(e){var t=e.type;return t==="number"||t==="range"}function Zt(e){return e===""?null:+e}function Bn(e,t){return e===t||(e==null?void 0:e[We])===t}function Se(e={},t,n,r){return hn(()=>{var a,o;return Ft(()=>{a=o,o=[],nt(()=>{e!==n(...o)&&(t(e,...o),a&&Bn(n(...a),e)&&t(null,...a))})}),()=>{pn(()=>{o&&Bn(n(...o),e)&&t(null,...o)})}}),e}function Vt(e=!1){const t=G,n=t.l.u;if(!n)return;let r=()=>Na(t.s);if(e){let a=0,o={};const s=$e(()=>{let l=!1;const c=t.s;for(const d in c)c[d]!==o[d]&&(o[d]=c[d],l=!0);return l&&a++,a});r=()=>i(s)}n.b.length&&Sa(()=>{Rn(t,r),St(n.b)}),fe(()=>{const a=nt(()=>n.m.map(zr));return()=>{for(const o of a)typeof o=="function"&&o()}}),n.a.length&&fe(()=>{Rn(t,r),St(n.a)})}function Rn(e,t){if(e.l.s)for(const n of e.l.s)i(n);t()}let yt=!1;function ro(e){var t=yt;try{return yt=!1,[e(),yt]}finally{yt=t}}function Nn(e){var t;return((t=e.ctx)==null?void 0:t.d)??!1}function ee(e,t,n,r){var y;var a=(n&ia)!==0,o=!ot||(n&la)!==0,s=(n&ua)!==0,l=(n&da)!==0,c=!1,d;s?[d,c]=ro(()=>e[t]):d=e[t];var u=We in e||Wr in e,f=s&&(((y=Je(e,t))==null?void 0:y.set)??(u&&t in e&&(L=>e[t]=L)))||void 0,v=r,g=!0,h=!1,b=()=>(h=!0,g&&(g=!1,l?v=nt(r):v=r),v);d===void 0&&r!==void 0&&(f&&o&&$r(),d=b(),f&&f(d));var m;if(o)m=()=>{var L=e[t];return L===void 0?b():(g=!0,h=!1,L)};else{var w=(a?$e:Gn)(()=>e[t]);w.f|=Vr,m=()=>{var L=i(w);return L!==void 0&&(v=void 0),L===void 0?v:L}}if((n&ca)===0)return m;if(f){var p=e.$$legacy;return function(L,M){return arguments.length>0?((!o||!M||p||c)&&f(M?m():L),L):m()}}var E=!1,_=$n(d),k=$e(()=>{var L=m(),M=i(_);return E?(E=!1,M):_.v=L});return s&&i(k),a||(k.equals=un),function(L,M){if(arguments.length>0){const D=M?i(k):o&&s?se(L):L;if(!k.equals(D)){if(E=!0,T(_,D),h&&v!==void 0&&(v=D),Nn(k))return L;nt(()=>i(k))}return L}return Nn(k)?k.v:i(k)}}function De(e){G===null&&Xn(),ot&&G.l!==null?ao(G).m.push(e):fe(()=>{const t=nt(e);if(typeof t=="function")return t})}function ao(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const oo="5";var Fn;typeof window<"u"&&((Fn=window.__svelte??(window.__svelte={})).v??(Fn.v=new Set)).add(oo);let ut=R("");function so(e){T(ut,e,!0)}var io=F('<div class="notification svelte-1h5k2zn"> </div>');function lo(e,t){X(t,!0),fe(()=>{i(ut);const o=setTimeout(()=>{T(ut,"")},800);return()=>{clearTimeout(o)}});var n=we(),r=V(n);{var a=o=>{var s=io(),l=x(s);oe(()=>it(l,i(ut))),S(o,s)};z(r,o=>{i(ut)&&o(a)})}S(e,n),Z()}aa();var co=F('<span class="vh svelte-14jjkpd"> </span>');function rt(e,t){var n=co(),r=x(n);oe(()=>it(r,t.children)),S(e,n)}var uo=Pe('<svg viewBox="0 0 135.467 135.467" xmlns="http://www.w3.org/2000/svg" class="svelte-1lqi79o"><rect style="fill:currentColor;stroke-width:.275876" width="132.292" height="21.167" x="1.587" y="12.171" rx="8.467" ry="8.467"></rect><rect style="fill:currentColor;stroke-width:.275876" width="132.292" height="21.167" x="1.587" y="102.129" rx="8.467" ry="8.467"></rect><rect style="fill:currentColor;stroke-width:.275876" width="132.292" height="21.167" x="1.587" y="57.15" rx="8.467" ry="8.467"></rect></svg>');function vo(e){var t=uo();S(e,t)}const kr=(e,t)=>{if(!t)return e;if(t.type==="closed")return{type:"closed"};switch(e.type){case"opened":return t.type==="close"?{type:"closing"}:t.type==="swipe"?{type:"openSwiping"}:e;case"closed":return t.type==="open"?{type:"opening"}:t.type==="swipe"?{type:"closeSwiping"}:e;case"openSwiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"closeSwiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"opening":return t.type==="opened"?{type:"opened"}:e;default:return e}};let nn=R(se(kr({type:"closed"})));const Ue=e=>{T(nn,kr(i(nn),e),!0)},br=()=>i(nn),fo=()=>{Ue({type:"open"})},ho=()=>{Ue({type:"close"})},go=()=>{const e=br().type;e==="closed"?fo():e==="opened"&&ho()};var po=F('<button class="buttonMenu svelte-1tlpicf"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>');function Sr(e,t){X(t,!1),Vt();var n=po();n.__click=[go];var r=x(n);xe(r,()=>({"--size":"28px"})),vo(r.lastChild);var a=C(r,2);rt(a,{children:(o,s)=>{var l=ae("Menu");S(o,l)}}),S(e,n),Z()}ye(["click"]);var _o=Pe('<svg width="24" height="24" viewBox="0 0 0.72 0.72" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-1lqi79o"><path d="M.16.26h.4m-.4.2h.4M.11.26h.5m-.5.2h.5m-.4.15.1-.5m.1.5.1-.5" stroke="currentColor" stroke-width=".1" stroke-linecap="round" stroke-linejoin="round"></path></svg>');function mo(e){var t=_o();S(e,t)}var wo=Pe('<svg viewBox="0 0 13.229 13.229" xmlns="http://www.w3.org/2000/svg" class="svelte-1lqi79o"><rect style="fill:currentColor;stroke-width:.275872" width="8.467" height="1.587" x="2.381" y="5.821" rx=".529" ry=".529"></rect><rect style="fill:currentColor;stroke-width:.275872" width="8.467" height="1.587" x="-10.848" y="5.821" rx=".529" ry=".529" transform="rotate(-90)"></rect></svg>');function yo(e){var t=wo();S(e,t)}var ko=Pe('<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-1lqi79o"><path fill-rule="evenodd" clip-rule="evenodd" d="M14.279 2.152C13.909 2 13.439 2 12.5 2s-1.409 0-1.779.152a2.008 2.008 0 0 0-1.09 1.083c-.094.223-.13.484-.145.863a1.615 1.615 0 0 1-.796 1.353 1.64 1.64 0 0 1-1.579.008c-.338-.178-.583-.276-.825-.308a2.026 2.026 0 0 0-1.49.396c-.318.242-.553.646-1.022 1.453-.47.807-.704 1.21-.757 1.605-.07.526.074 1.058.4 1.479.148.192.357.353.68.555.477.297.783.803.783 1.361 0 .558-.306 1.064-.782 1.36-.324.203-.533.364-.682.556-.325.421-.469.953-.399 1.479.053.394.287.798.757 1.605.47.807.704 1.21 1.022 1.453.424.323.96.465 1.49.396.242-.032.487-.13.825-.308a1.64 1.64 0 0 1 1.58.008c.486.28.774.795.795 1.353.015.38.051.64.145.863.204.49.596.88 1.09 1.083.37.152.84.152 1.779.152s1.409 0 1.779-.152a2.008 2.008 0 0 0 1.09-1.083c.094-.223.13-.483.145-.863.02-.558.309-1.074.796-1.353a1.64 1.64 0 0 1 1.579-.008c.338.178.583.276.825.308.53.07 1.066-.073 1.49-.396.318-.242.553-.646 1.022-1.453.47-.807.704-1.21.757-1.605a1.99 1.99 0 0 0-.4-1.479c-.148-.192-.357-.353-.68-.555-.477-.297-.783-.803-.783-1.361 0-.558.306-1.064.782-1.36.324-.203.533-.364.682-.556a1.99 1.99 0 0 0 .399-1.479c-.053-.394-.287-.798-.757-1.605-.47-.807-.704-1.21-1.022-1.453a2.026 2.026 0 0 0-1.49-.396c-.242.032-.487.13-.825.308a1.64 1.64 0 0 1-1.58-.008 1.615 1.615 0 0 1-.795-1.353c-.015-.38-.051-.64-.145-.863a2.007 2.007 0 0 0-1.09-1.083ZM12.5 15c1.67 0 3.023-1.343 3.023-3S14.169 9 12.5 9c-1.67 0-3.023 1.343-3.023 3s1.354 3 3.023 3Z" fill="currentColor"></path></svg>');function Er(e){var t=ko();S(e,t)}const U=se({pathname:window.location.pathname,search:window.location.search,historyLength:0}),xr=()=>{var e;return((e=new URLSearchParams(U.search).get("selectedTags"))==null?void 0:e.split(","))||[]};let kt=xr();const bo=()=>{const e=xr();return e.join(",")===kt.join(",")||(kt=e),kt},So=()=>{U.pathname=document.location.pathname,U.search=document.location.search,U.historyLength=Math.max(0,U.historyLength-=1)};window.addEventListener("popstate",So);const At=e=>{const[t,n]=e.split("?");U.pathname=t,U.search=n?`?${n}`:"",U.historyLength+=1,window.history.pushState(null,"",e)},Eo=e=>{const[t,n]=e.split("?");U.pathname=t,U.search=n?`?${n}`:"",window.history.replaceState(null,"",e)},wt=(e="/")=>{const[t,n]=e.split("?");U.historyLength<=0?(window.history.replaceState(null,"",e),U.historyLength=0,U.pathname=t,U.search=n?`?${n}`:""):window.history.back()},ze=()=>{var e;return((e=new URLSearchParams(U.search).get("stackPages"))==null?void 0:e.split(","))||[]};let Qe=R(se(ze()));const lt=e=>{const t=ze();t.push(e);const n=new URLSearchParams(U.search);n.set("stackPages",t.join(",")),T(Qe,t,!0),At(`${U.pathname}?${n.toString()}`)},xo=()=>{const e=i(Qe).slice(0,-1);T(Qe,e,!0)},To=()=>{const e=ze();return e.length>=i(Qe).length?e.reduce((t,n)=>[...t,{page:n,shown:!0}],[]):i(Qe).reduce((t,n,r)=>[...t,{page:n,shown:r!==i(Qe).length-1}],[])},Co=e=>{e.preventDefault(),lt("settings")},Lo=e=>{e.preventDefault(),At("/")},Do=e=>{e.preventDefault(),lt("newBookmark")};var Po=F('<a href="/"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Home</span></a>'),Oo=F('<a class="link svelte-f7zdrg"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Settings</span></a>'),Mo=F('<a class="addBookmark svelte-f7zdrg"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Add bookmark</span></a>'),Ao=F('<div class="header svelte-f7zdrg"><div class="top svelte-f7zdrg"><div class="desktop svelte-f7zdrg"><!></div> <div class="mobile svelte-f7zdrg"><!></div> <!></div></div>');function Io(e,t){X(t,!0);const n=()=>{const m=ze();m.includes("settings")||m.push("settings");const w=new URLSearchParams(U.search);return w.set("stackPages",m.join(",")),`${U.pathname}?${w}`};let a=ie(()=>{const m=ze();m.includes("newBookmark")||m.push("newBookmark");const w=new URLSearchParams(U.search);return w.set("stackPages",m.join(",")),`${U.pathname}?${w}`}),o=ie(n);var s=Ao(),l=x(s),c=x(l),d=x(c);{var u=m=>{var w=Po();w.__click=[Lo],J(w,1,te(["link","hash"]),"svelte-f7zdrg");var p=x(w);xe(p,()=>({"--size":"20px"})),mo(p.lastChild),S(m,w)},f=m=>{var w=Oo();w.__click=[Co];var p=x(w);xe(p,()=>({"--size":"20px"})),Er(p.lastChild),oe(()=>Te(w,"href",i(o))),S(m,w)};z(d,m=>{U.pathname==="/settings"?m(u):m(f,!1)})}var v=C(c,2),g=x(v);Sr(g,{});var h=C(v,2);{var b=m=>{var w=Mo();w.__click=[Do];var p=x(w);xe(p,()=>({"--size":"24px","--color":"#b0b0b0"})),yo(p.lastChild),oe(()=>Te(w,"href",i(a))),S(m,w)};z(h,m=>{U.pathname!=="/settings"&&m(b)})}S(e,s),Z()}ye(["click"]);const Tr=()=>window.matchMedia("(max-width: 768px)").matches;let Cr=R(se(Tr()));const Bo=(e,t)=>{let n=null;return()=>{n&&clearTimeout(n),n=setTimeout(()=>{e()},t)}},Ro=Bo(()=>{T(Cr,Tr(),!0)},16);window.addEventListener("resize",Ro);const Lr=()=>i(Cr),le=se({working:!1,swipingPercentage:1,isSwiping:!1,duration:.35});function No(e,t){X(t,!0);let n=ee(t,"dialog",7),r=null;const a=()=>{t.dialogState==="swiping"&&t.onClose()};fe(()=>(t.dialogState==="swiping"&&(r=setTimeout(a,3e3)),()=>{r&&(clearTimeout(r),r=null)}));let o=null,s=null;const l=3,c=50,d=5,u=.6,f=.3,v=.35,g=.95;let h=0,b=0,m=0,w=!1,p=!1,E=0,_=0,k=0;const y=()=>{h=0,b=0,w=!1,p=!1,E=0,_=0,k=0,m=0,o=null,s!==null&&(cancelAnimationFrame(s),s=null),r&&(clearTimeout(r),r=null)},L=I=>{if(!n()){console.warn("Touch start: No dialog element");return}if(t.dialogState!=="opened"){console.warn(`Touch start: Invalid sidebar state: ${t.dialogState}`);return}h=I.touches[0].clientX,b=I.touches[0].clientY,m=performance.now(),w=!0,p=!1},M=I=>t.dialogState==="opened"&&I>0||t.dialogState==="swiping"&&I>0,D=I=>{if(n()){n().style.setProperty("--transition-timing","0s"),t.onSwipe(),navigator.vibrate(10);try{const q=window.getComputedStyle(n()),Y=q.transform||q.webkitTransform||"";if(_=n().offsetWidth,(t.dialogState==="swiping"||t.dialogState==="opened")&&(E=0),Y&&Y!=="none")try{E=new DOMMatrix(Y).m41}catch{console.warn("Could not parse transform matrix, using default position")}p=!0}catch(q){console.error("Error during swipe initialization:",q),y()}}},P=()=>{if(!n())return;const q=Math.abs(E+k*_/100)/_;n().style.setProperty("--backdrop-bg",`rgba(0, 0, 0, ${.1*(1-q)})`)},N=()=>{if(s=null,!o||!w||!n()){y();return}const I=o.touches[0].clientX,q=o.touches[0].clientY,Y=I-h,re=q-b,B=Math.abs(Y)>Math.abs(re),$=Math.abs(Y)>l;if(!p)if(B&&$&&M(Y))try{D(Y)}catch(bn){console.error("Error initializing swipe:",bn),y();return}else return;if(!M(Y))return;let K=E+Y*g;K=Math.max(0,Math.min(_,K)),n().style.transform=`translate3d(${K}px, 0, 0)`,le.swipingPercentage=Math.abs(1-K/_),k=(K-E)/_*100,t.dialogState==="swiping"&&(r&&clearTimeout(r),r=setTimeout(a,3e3)),P()},O=I=>{if(!w)return;o=I,s===null&&(s=requestAnimationFrame(N));const q=I.touches[0].clientX-h,Y=I.touches[0].clientY-b,re=Math.abs(q)>Math.abs(Y);p&&re&&I.preventDefault()},j=I=>{const q=Math.abs(I);if(q>=u)return d;if(q>=f){const Y=(q-f)/(u-f);return c-Y*(c-d)}else return c},A=(I,q)=>{if(Math.abs(I)>=u)return v*.5;const re=Math.abs(k)/100;return q?v*Math.max(.5,1-re):v*Math.max(.5,re)},H=I=>{var K,pe;if(s!==null&&(cancelAnimationFrame(s),s=null),!w||!n()){y();return}if(!p){y();return}let q=0;if((K=I==null?void 0:I.changedTouches)!=null&&K[0]){const ke=I.changedTouches[0].clientX,Sn=performance.now()-m;Sn>0&&(q=(ke-h)/Sn)}const Y=j(q);let re=null;t.dialogState==="swiping"&&(re=Math.abs(k)>Y||q<-.3?"close":"open");const B=t.dialogState==="swiping"&&re==="close",$=A(q,B);le.duration=$-.02,n().style.setProperty("--transition-timing",`${$}s`),n().addEventListener("transitionend",()=>{var ke;(ke=n())==null||ke.style.removeProperty("--transition-timing")},{once:!0}),n().offsetWidth,n().style.transform="",re==="open"?t.onOpen():re==="close"&&t.onClose(),(pe=n())==null||pe.style.removeProperty("--backdrop-bg"),y()};De(()=>(n().addEventListener("touchstart",L,{passive:!0}),n().addEventListener("touchmove",O,{passive:!1}),n().addEventListener("touchend",H,{passive:!0}),n().addEventListener("touchcancel",H,{passive:!0}),()=>{n().removeEventListener("touchstart",L),n().removeEventListener("touchmove",O),n().removeEventListener("touchend",H),n().removeEventListener("touchcancel",H),s!==null&&cancelAnimationFrame(s)})),Z()}var qo=Pe('<svg viewBox="0 0 5.292 5.292" xmlns="http://www.w3.org/2000/svg" class="svelte-1lqi79o"><path style="fill:currentColor;stroke-width:.374736" transform="scale(1.02869 .97047) rotate(45)" d="M2.678-1.906h.514V1.18h-.514z"></path><path style="fill:currentColor;stroke-width:.374736" transform="scale(-1.02869 -.97047) rotate(-45)" d="M.664-5.762h.514v3.086H.664z"></path></svg>');function Dr(e){var t=qo();S(e,t)}var Ho=(e,t)=>{t.onStartClose()},Fo=F('<dialog><div class="dialogInner svelte-1ygfh29"><span tabindex="1"></span> <!> <div class="header svelte-1ygfh29"><div><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button></div></div></div></dialog> <!>',1);function jo(e,t){X(t,!0);let n=350,r=R(null),a=R(null);const o=p=>{p.preventDefault(),t.onStartClose()};De(()=>{var p,E;return console.log("swiping mounted"),(p=i(r))==null||p.addEventListener("close",t.onClosed),(E=i(r))==null||E.addEventListener("cancel",o),()=>{var _,k;(_=i(r))==null||_.removeEventListener("close",t.onClosed),(k=i(r))==null||k.removeEventListener("cancel",o)}});const s=()=>{var p,E,_;(p=i(r))==null||p.style.removeProperty("--transition-timing"),(E=i(r))==null||E.style.removeProperty("transform"),(_=i(r))==null||_.style.removeProperty("--backdrop-bg")};fe(()=>{var p,E;if(t.dialogState,!!i(r))switch(t.dialogState){case"opening":{i(r).open||i(r).showModal(),i(r).getBoundingClientRect();const _=setTimeout(()=>{s()},n+1),k=()=>{clearTimeout(_),s()};return(p=i(r))==null||p.addEventListener("transitionend",k,{once:!0}),t.onOpened(),()=>{var y;(y=i(r))==null||y.removeEventListener("transitionend",k)}}case"closing":{const _=setTimeout(()=>{t.dialogState==="closing"&&t.onClosed()},n+1),k=()=>{clearTimeout(_),t.onClosed()};return(E=i(r))==null||E.addEventListener("transitionend",k,{once:!0}),()=>{var y;(y=i(r))==null||y.removeEventListener("transitionend",k)}}}});var l=Fo(),c=V(l),d=x(c),u=C(x(d),2);Ge(u,()=>t.children);var f=C(u,2),v=x(f),g=x(v);J(g,1,te(["navigateButton","buttonBack"]),"svelte-1ygfh29"),g.__click=[Ho,t];var h=x(g);xe(h,()=>({"--size":"20px"})),Dr(h.lastChild);var b=C(h,2);rt(b,{children:(p,E)=>{var _=ae("back");S(p,_)}}),Se(d,p=>T(a,p),()=>i(a)),Se(c,p=>T(r,p),()=>i(r));var m=C(c,2);{var w=p=>{No(p,{get onClose(){return t.onStartClose},get onOpen(){return t.onStartOpen},get onSwipe(){return t.onSwipe},get dialogState(){return t.dialogState},get dialog(){return i(r)}})};z(m,p=>{(t.dialogState==="opened"||t.dialogState==="swiping")&&!t.blocked&&p(w)})}oe(()=>J(c,1,te([{open:t.dialogState==="opened",hidden:t.hidden,isAnimationOn:le.working&&(!le.isSwiping||!t.hidden)},{hidden:t.hidden}]),"svelte-1ygfh29")),S(e,l),Z()}ye(["click"]);const qn=(e,t)=>{if(!t)return e;if(t.type==="closed")return{type:"closed"};switch(e.type){case"opened":return t.type==="close"?{type:"closing"}:t.type==="swipe"?{type:"swiping"}:e;case"closed":return t.type==="open"?{type:"opening"}:e;case"swiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"opening":return t.type==="opened"?{type:"opened"}:e;default:return e}};function zo(e,t){X(t,!0);let n=ee(t,"blocked",3,!1),r=ee(t,"hiddenDialog",3,!1),a=ee(t,"onStartClose",3,()=>{}),o=ee(t,"onClose",3,()=>{}),s=R(se(qn({type:"closed"})));const l=m=>{T(s,qn(i(s),m),!0)},c=()=>{n()||(a()(),l({type:"close"}))},d=()=>{n()||l({type:"open"})},u=()=>{l({type:"opened"}),le.duration=.2},f=()=>{o()(),l({type:"closed"}),le.swipingPercentage=1,le.duration=.2},v=()=>{l({type:"swipe"})};fe(()=>{i(s).type==="swiping"?le.isSwiping=!0:le.isSwiping=!1,i(s).type==="closed"&&t.shownDialog?d():i(s).type==="opened"&&!t.shownDialog&&c()});var g=we(),h=V(g);{var b=m=>{jo(m,{onSwipe:v,onOpened:u,onClosed:f,onStartClose:c,onStartOpen:d,get dialogState(){return i(s).type},get hidden(){return r()},get blocked(){return n()},children:(w,p)=>{var E=we(),_=V(E);Ge(_,()=>t.children),S(w,E)},$$slots:{default:!0}})};z(h,m=>{i(s).type!=="closed"&&m(b)})}return S(e,g),Z({handleComputeState:l})}var Uo=Pe('<svg viewBox="0 0 5.292 5.292" xmlns="http://www.w3.org/2000/svg" class="svelte-1lqi79o"><path style="fill:currentColor;stroke-width:.584099" transform="rotate(45)" d="M3.341-2.405h.802v4.811h-.802z"></path><path style="fill:currentColor;stroke-width:.584099" transform="rotate(135)" d="M-.401-6.147h.802v4.811h-.802z"></path></svg>');function Vo(e){var t=Uo();S(e,t)}const Yo=({getDialog:e,onOpen:t,onStartClose:n,onClose:r})=>{const a=s=>{s.preventDefault(),n()},o=()=>{r==null||r()};De(()=>{const s=e();return s==null||s.addEventListener("close",o),s==null||s.addEventListener("cancel",a),()=>{s==null||s.removeEventListener("close",o),s==null||s.removeEventListener("cancel",a)}}),De(()=>{const s=e();s==null||s.showModal(),s==null||s.getBoundingClientRect(),t()})};function Pr(e,t){X(t,!0),De(()=>{const n=r=>{var a;r.target&&((a=t.dialog)!=null&&a.open)&&t.dialogInner&&t.dialogInner!==r.target&&!t.dialogInner.contains(r.target)&&t.onClose()};return document.addEventListener("mousedown",n,{capture:!0}),()=>{document.removeEventListener("mousedown",n,{capture:!0})}}),Z()}var Wo=(e,t)=>{t.onStartClose()},Xo=(e,t)=>{t.onStartClose()},Zo=F('<dialog><div class="dialogInner svelte-1ka5n2u"><span tabindex="1"></span> <!> <div class="header svelte-1ka5n2u"><div><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button></div> <div><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button></div></div></div></dialog> <!>',1);function Go(e,t){X(t,!0);let n=ee(t,"hiddenDialog",3,!1),r=ee(t,"isDesktopAnimationOff",3,!1),a=R(null),o=R(null);Yo({getDialog:()=>i(a),onOpen:t.onOpen,onStartClose:t.onStartClose,onClose:t.onClose}),fe(()=>{var _,k;t.stateDialog==="closing"&&(le.working?(_=i(a))==null||_.addEventListener("transitionend",()=>{var y;(y=i(a))==null||y.close()},{once:!0}):(k=i(a))==null||k.close())});var s=Zo(),l=V(s),c=x(l),d=C(x(c),2);Ge(d,()=>t.children);var u=C(d,2),f=x(u),v=x(f);J(v,1,te(["navigateButton","buttonBack"]),"svelte-1ka5n2u"),v.__click=[Wo,t];var g=x(v);xe(g,()=>({"--size":"20px"})),Dr(g.lastChild);var h=C(g,2);rt(h,{children:(_,k)=>{var y=ae("back");S(_,y)}});var b=C(f,2),m=x(b);J(m,1,te(["navigateButton","buttonClose"]),"svelte-1ka5n2u"),m.__click=[Xo,t];var w=x(m);xe(w,()=>({"--size":"20px"})),Vo(w.lastChild);var p=C(w,2);rt(p,{children:(_,k)=>{var y=ae("close");S(_,y)}}),Se(c,_=>T(o,_),()=>i(o)),Se(l,_=>T(a,_),()=>i(a));var E=C(l,2);Pr(E,{get dialog(){return i(a)},get dialogInner(){return i(o)},get onClose(){return t.onStartClose}}),oe(()=>J(l,1,te([{open:t.stateDialog==="open",isAnimationOn:le.working,isDesktopAnimationOff:r(),hiddenDialog:n()}]),"svelte-1ka5n2u")),S(e,s),Z()}ye(["click"]);const Ko=({onStartClose:e,onClose:t})=>{let n=R("close");return{get state(){return i(n)},set state(s){T(n,s,!0)},handleStartClose:(s=!1)=>{s||(T(n,"closing"),e==null||e())},handleOpen:()=>{T(n,"open")},handleClose:()=>{T(n,"close"),t==null||t()}}};function Jo(e,t){X(t,!0);let n=ee(t,"blockedClose",3,!1),r=ee(t,"hiddenDialog",3,!1),a=ee(t,"onStartClose",3,()=>{}),o=ee(t,"onClose",3,()=>{}),s=Ko({onStartClose:a(),onClose:o()});fe(()=>{s.state==="close"&&t.shownDialog?s.state="opening":s.state==="open"&&!t.shownDialog&&s.handleStartClose(n())});var l=we(),c=V(l);{var d=u=>{Go(u,{get stateDialog(){return s.state},get hiddenDialog(){return r()},get onOpen(){return s.handleOpen},onStartClose:()=>s.handleStartClose(n()),get onClose(){return s.handleClose},children:(f,v)=>{var g=we(),h=V(g);Ge(h,()=>t.children),S(f,g)},$$slots:{default:!0}})};z(c,u=>{s.state!=="close"&&u(d)})}S(e,l),Z()}function Or(e,t){X(t,!0);let n=ee(t,"blockedClose",3,!1),r=ee(t,"hiddenDialog",3,!1),a=ee(t,"onStartClose",3,()=>{}),o=ee(t,"onClose",3,()=>{});var s=we(),l=V(s);{var c=u=>{zo(u,{get shownDialog(){return t.shownDialog},get blocked(){return n()},get hiddenDialog(){return r()},get children(){return t.children},get onStartClose(){return a()},get onClose(){return o()}})},d=u=>{Jo(u,{get shownDialog(){return t.shownDialog},get blockedClose(){return n()},get hiddenDialog(){return r()},get children(){return t.children},get onStartClose(){return a()},get onClose(){return o()}})};z(l,u=>{Lr()?u(c):u(d,!1)})}S(e,s),Z()}function Qo(e,t){X(t,!0),Or(e,{get shownDialog(){return t.shown},get blockedClose(){return t.hidden},get hiddenDialog(){return t.hidden},onStartClose:()=>{wt()},onClose:()=>{xo()},children:(a,o)=>{var s=we(),l=V(s);Ge(l,()=>t.children),S(a,s)},$$slots:{default:!0}}),Z()}const Mr=()=>crypto.randomUUID(),rn=(e,t,n,r=new Set,a={})=>{var o,s;for(const l of e.children)if(l.tagName==="DT"){const c=l.querySelector(":scope > A"),d=l.querySelector(":scope > H3");if(c){const u=c.getAttribute("href"),f=c.textContent||"unknown";if(!u)return n;const v=t.find(g=>g.toLowerCase()==="bookmarks bar")?t.filter(g=>g.toLowerCase()!=="bookmarks bar"):["other"];if(a[u])a[u].tags=[...new Set([...a[u].tags,...v])];else{const g={id:Mr(),order:n.length,url:u,title:f,description:"",tags:v.length>0?v:[],lastUpdatedTimestamp:Date.now(),createdTimestamp:Date.now()};a[g.url]=g,n.push(g)}}else if(d){const u=(o=d.textContent)==null?void 0:o.trim();if(u&&((s=d.nextElementSibling)==null?void 0:s.tagName)==="DL"){const f=[...t];f.push(u);const v=d.nextElementSibling;r.has(v)||(r.add(v),rn(v,f,n,r,a))}}}else l.tagName!=="DL"&&l.children.length>0&&(r.has(l)||(r.add(l),rn(l,[...t],n,r,a)));return n},$o=async e=>{const t=await e.text(),a=new DOMParser().parseFromString(t,"text/html").querySelector("DL");return a?rn(a,[],[]):[]},es=e=>{const t=Math.floor(Date.now()/1e3),n={};e.forEach(a=>{const o=a.tags||["Imported"];if(o.length===0){n.ROOT||(n.ROOT=[]),n.ROOT.push(a);return}o.forEach(s=>{n[s]||(n[s]=[]),n[s].push(a)})});let r=`<!DOCTYPE NETSCAPE-Bookmark-file-1>
<!-- This is an automatically generated file.
 It will be read and overwritten.
 DO NOT EDIT! -->
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8">
<TITLE>Bookmarks</TITLE>
<H1>Bookmarks</H1>
<DL><p>
<DT><H3 ADD_DATE="${t}" LAST_MODIFIED="${t}" PERSONAL_TOOLBAR_FOLDER="true">Bookmarks Bar</H3>
<DL><p>`;return Object.keys(n).forEach(a=>{a!=="ROOT"&&a!=="other"&&(r+=`
	<DT><H3 ADD_DATE="${t}" LAST_MODIFIED="${t}">${a}</H3>
	<DL><p>`,n[a].forEach(o=>{const s=o.title.replace(/"/g,"&quot;");r+=`
		<DT><A HREF="${o.url}" ADD_DATE="${Math.floor(o.createdTimestamp/1e3)||t}">${s}</A>`}),r+=`
	</DL><p>`)}),n.ROOT&&n.ROOT.forEach(a=>{const o=a.title.replace(/"/g,"&quot;");r+=`
	<DT><A HREF="${a.url}" ADD_DATE="${Math.floor(a.createdTimestamp/1e3)||t}">${o}</A>`}),r+=`
</DL><p>`,n.other&&n.other.forEach(a=>{const o=a.title.replace(/"/g,"&quot;");r+=`
	<DT><A HREF="${a.url}" ADD_DATE="${Math.floor(a.createdTimestamp/1e3)||t}">${o}</A>`}),r+="</DL><p>",r},ts="bookmarksStore",ns=1,ge="bookmarks";let ne;window.addEventListener("unhandledrejection",e=>{alert("Error: "+e.reason.message)});const rs=()=>new Promise((e,t)=>{const n=indexedDB.open(ts,ns);n.addEventListener("upgradeneeded",()=>{const r=n.result;console.log("success upgradeneeded"),r.objectStoreNames.contains(ge)||r.createObjectStore(ge,{keyPath:"id"})}),n.addEventListener("success",()=>{console.log("success open"),e(),ne=n.result,ne.onversionchange=function(){ne==null||ne.close(),alert("app outdated, please reload the page")}}),n.addEventListener("blocked",()=>{t(),alert("app outdated, please reload the page")}),n.addEventListener("error",()=>{t(),console.error("Error",n.error)})}),Ar=()=>new Promise((e,t)=>{const n=ne==null?void 0:ne.transaction(ge,"readonly"),r=n==null?void 0:n.objectStore(ge).getAll();r==null||r.addEventListener("success",()=>{const a=r.result;e(a)}),r==null||r.addEventListener("error",()=>{t()})}),as=async e=>new Promise((t,n)=>{const r=ne==null?void 0:ne.transaction(ge,"readwrite"),a=r==null?void 0:r.objectStore(ge),o=a==null?void 0:a.put({...e});o==null||o.addEventListener("success",()=>{t()}),o==null||o.addEventListener("error",()=>{n()})}),os=async e=>new Promise((t,n)=>{const r=ne==null?void 0:ne.transaction(ge,"readwrite"),a=r==null?void 0:r.objectStore(ge),o=a==null?void 0:a.delete(e);o==null||o.addEventListener("success",()=>{t()}),o==null||o.addEventListener("error",()=>{n()})}),ss=()=>new Promise((e,t)=>{const n=ne==null?void 0:ne.transaction(ge,"readwrite"),r=n==null?void 0:n.objectStore(ge),a=r==null?void 0:r.clear();a==null||a.addEventListener("success",()=>{e()}),a==null||a.addEventListener("error",()=>{t()})}),is=async()=>{await ss()},ls=async e=>{const t=(await Ar()).reduce((o,s)=>(o[s.id]=s,o),{}),n={},r=ne==null?void 0:ne.transaction(ge,"readwrite"),a=r==null?void 0:r.objectStore(ge);e.forEach(o=>{t[o.id]?t[o.id].lastUpdatedTimestamp<o.lastUpdatedTimestamp&&(n[o.id]=o):n[o.id]=o}),await Promise.all(Object.values(n).map(o=>{const s=a==null?void 0:a.put(o);return new Promise((l,c)=>{s==null||s.addEventListener("success",()=>{l()}),s==null||s.addEventListener("error",()=>{c()})})}))},cs=async e=>{const t=ne==null?void 0:ne.transaction(ge,"readwrite"),n=t==null?void 0:t.objectStore(ge);await Promise.all(Array.from({length:25},(r,a)=>{const o=[];for(let c=0;c<Math.random()*4;c++){const d=(Math.random()*4).toFixed();o.includes(d)||o.push(d)}const s={...e,url:`${e.url}${a}`,order:a,id:Mr(),createdTimestamp:Date.now(),lastUpdatedTimestamp:Date.now(),title:o.join("#"),tags:o},l=n==null?void 0:n.put(s);return new Promise((c,d)=>{l==null||l.addEventListener("success",()=>{a%1e4===0&&console.log(`bookmark ${a} done`),c()}),l==null||l.addEventListener("error",()=>{console.log(`bookmark ${a} error`),d()})})}))};let ce=R({inited:!1,bookmarks:[],mapBookmarks:new Map});const yn=async()=>{const e=await Ar(),t=new Map,n=[];e.forEach(r=>{n[r.order]=r,t.set(r.id,r)}),T(ce,{...i(ce),bookmarks:n,mapBookmarks:t,inited:!0})};rs().then(async()=>{await yn()}).catch(()=>{console.error("failed to init db")});const It=()=>i(ce).inited,Ir=()=>i(ce).bookmarks,us=()=>i(ce).mapBookmarks,ds=async e=>{const t={...e,lastUpdatedTimestamp:Date.now()};i(ce).bookmarks[t.order]=t,i(ce).mapBookmarks.set(t.id,t),T(ce,{...i(ce)}),await as(t)},vs=async e=>{await cs(e),await yn()},fs=async e=>{const t=i(ce).mapBookmarks.get(e);i(ce).mapBookmarks.delete(e),i(ce).bookmarks[(t==null?void 0:t.order)||0]=void 0,T(ce,{...i(ce)}),await os(e)},hs=async()=>{T(ce,{inited:!1,bookmarks:[],mapBookmarks:new Map}),await is()},gs=async(e="bookmarks-export.json")=>{const t=JSON.stringify({bookmarks:i(ce).bookmarks}),n=new Blob([t],{type:"application/json"}),r=URL.createObjectURL(n),a=document.createElement("a");a.href=r,a.download=e,document.body.appendChild(a),a.click(),setTimeout(()=>{document.body.removeChild(a),URL.revokeObjectURL(r)},0)},Hn=async e=>{await ls(e),await yn()};let Br=R({});const Rr=()=>i(Br),ps=e=>{T(Br,e)};var _s=F('<input class="svelte-1jzizl8">');function an(e,t){X(t,!0);let n=ee(t,"value",15,"");var r=_s();oe(()=>Te(r,"placeholder",t.placeholder)),wn(r,n),S(e,r),Z()}function ms(e,t){X(t,!0);let n=ee(t,"dialog",7);const r=3,a=50,o=5,s=.6,l=.3,c=.35,d=.95;let u=0,f=0,v=0,g=!1,h=!1,b=0,m=0,w=0;const p=()=>{u=0,f=0,g=!1,h=!1,b=0,m=0,w=0,v=0,E!==null&&(cancelAnimationFrame(E),E=null),_=null};let E=null,_=null;const k=A=>{if(!n()){console.warn("Touch start: No dialog element");return}if(t.sidebarState!=="opened"&&t.sidebarState!=="closed"){console.warn(`Touch start: Invalid sidebar state: ${t.sidebarState}`);return}u=A.touches[0].clientX,f=A.touches[0].clientY,v=performance.now(),g=!0,h=!1},y=A=>t.sidebarState==="closed"&&A>0||t.sidebarState==="closeSwiping"&&A>0||t.sidebarState==="opened"&&A<0||t.sidebarState==="openSwiping"&&A<0,L=A=>{if(n()){if(n().style.setProperty("--transition-timing","0s"),!n().open&&t.sidebarState==="closed")try{n().showModal(),n().offsetWidth}catch(H){console.error("Error opening dialog:",H);return}t.onSwipe();try{const H=window.getComputedStyle(n()),I=H.transform||H.webkitTransform||"";if(m=n().offsetWidth,t.sidebarState==="closeSwiping"||t.sidebarState==="closed"?b=-m:(t.sidebarState==="openSwiping"||t.sidebarState==="opened")&&(b=0),I&&I!=="none")try{b=new DOMMatrix(I).m41}catch{console.warn("Could not parse transform matrix, using default position")}h=!0}catch(H){console.error("Error during swipe initialization:",H),p()}}},M=()=>{if(!n())return;const H=Math.abs(b+w*m/100)/m;n().style.setProperty("--backdrop-bg",`rgba(0, 0, 0, ${.25*(1-H)})`)},D=()=>{if(E=null,!_||!g||!n())return;const{x:A,y:H}=_;_=null;const I=A-u,q=H-f,Y=Math.abs(I)>Math.abs(q),re=Math.abs(I)>r;if(!h)if(Y&&re&&y(I))try{L(I)}catch(pe){console.error("Error initializing swipe:",pe),p();return}else return;if(!y(I))return;let B=b+I*d;const $=-m;B=Math.max($,Math.min(0,B)),n().style.transform=`translate3d(${B}px, 0, 0)`,w=(B-b)/m*100,M()},P=A=>{if(!g)return;const H=A.touches[0].clientX,I=A.touches[0].clientY;_={x:H,y:I},E===null&&(E=requestAnimationFrame(D)),h&&Math.abs(H-u)>Math.abs(I-f)&&A.preventDefault()},N=A=>{const H=Math.abs(A);if(H>=s)return o;if(H>=l){const I=(H-l)/(s-l);return a-I*(a-o)}else return a},O=(A,H)=>{if(Math.abs(A)>=s)return c*.5;const q=Math.abs(w)/100;return H?c*Math.max(.5,1-q):c*Math.max(.5,q)},j=A=>{var B,$;if(E!==null&&(cancelAnimationFrame(E),E=null),_=null,!g||!n()){p();return}if(!h){p();return}let H=0;if((B=A==null?void 0:A.changedTouches)!=null&&B[0]){const K=A.changedTouches[0].clientX,ke=performance.now()-v;ke>0&&(H=(K-u)/ke)}const I=N(H);let q=null;t.sidebarState==="closeSwiping"?q=Math.abs(w)>I||H>l?"open":"close":t.sidebarState==="openSwiping"&&(q=Math.abs(w)>I||H<-.3?"close":"open");const Y=t.sidebarState==="closeSwiping"&&q==="open"||t.sidebarState==="openSwiping"&&q==="close",re=O(H,Y);n().style.setProperty("--transition-timing",`${re}s`),n().addEventListener("transitionend",()=>{var K;(K=n())==null||K.style.removeProperty("--transition-timing")},{once:!0}),n().offsetWidth,n().style.transform="",q==="open"?t.onOpen():q==="close"&&t.onClose(),($=n())==null||$.style.removeProperty("--backdrop-bg"),p()};De(()=>(document.addEventListener("touchstart",k,{passive:!0}),document.addEventListener("touchmove",P,{passive:!1}),document.addEventListener("touchend",j,{passive:!0}),document.addEventListener("touchcancel",j,{passive:!0}),()=>{document.removeEventListener("touchstart",k),document.removeEventListener("touchmove",P),document.removeEventListener("touchend",j),document.removeEventListener("touchcancel",j),E!==null&&cancelAnimationFrame(E)})),Z()}var ws=F('<dialog><div class="dialogInner svelte-1ijmos8"><!></div></dialog> <!> <!>',1);function ys(e,t){X(t,!0);let n=350,r=R(null),a=R(null),o=ie(br);const s=()=>{t.blocked||Ue({type:"close"})},l=()=>{t.blocked||Ue({type:"open"})},c=()=>{Ue({type:"opened"})},d=()=>{Ue({type:"closed"})},u=()=>{Ue({type:"swipe"})},f=y=>{y.preventDefault(),s()};De(()=>{var y,L;return(y=i(r))==null||y.addEventListener("close",d),(L=i(r))==null||L.addEventListener("cancel",f),()=>{var M,D;(M=i(r))==null||M.removeEventListener("close",d),(D=i(r))==null||D.removeEventListener("cancel",f)}});const v=()=>{var y,L,M;(y=i(r))==null||y.style.removeProperty("--transition-timing"),(L=i(r))==null||L.style.removeProperty("transform"),(M=i(r))==null||M.style.removeProperty("--backdrop-bg")};fe(()=>{var y,L,M;if(i(o),console.log(i(o).type),!!i(r))switch(i(o).type){case"closeSwiping":{const D=setTimeout(()=>{s()},3e3);return()=>{clearTimeout(D)}}case"openSwiping":{const D=setTimeout(()=>{l()},3e3);return()=>{clearTimeout(D)}}case"opening":{i(r).open||i(r).showModal(),i(r).getBoundingClientRect();const D=setTimeout(()=>{v()},n+1),P=()=>{clearTimeout(D),v()};return(y=i(r))==null||y.addEventListener("transitionend",P,{once:!0}),c(),()=>{var N;(N=i(r))==null||N.removeEventListener("transitionend",P)}}case"closing":{const D=setTimeout(()=>{i(o).type==="closing"&&d()},n+1),P=()=>{clearTimeout(D),d()};return(L=i(r))==null||L.addEventListener("transitionend",P,{once:!0}),()=>{var N;(N=i(r))==null||N.removeEventListener("transitionend",P)}}case"closed":(M=i(r))==null||M.close(),v();break}});var g=ws(),h=V(g),b=x(h),m=x(b);{var w=y=>{var L=we(),M=V(L);Ge(M,()=>t.children),S(y,L)};z(m,y=>{i(o).type!=="closed"&&y(w)})}Se(b,y=>T(a,y),()=>i(a)),Se(h,y=>T(r,y),()=>i(r));var p=C(h,2);{var E=y=>{Pr(y,{get dialog(){return i(r)},get dialogInner(){return i(a)},onClose:s})};z(p,y=>{i(o).type==="opened"&&!t.blocked&&y(E)})}var _=C(p,2);{var k=y=>{ms(y,{onClose:s,onOpen:l,onSwipe:u,get sidebarState(){return i(o).type},get dialog(){return i(r)}})};z(_,y=>{(i(o).type==="closed"||i(o).type==="opened"||i(o).type==="openSwiping"||i(o).type==="closeSwiping")&&!t.blocked&&y(k)})}oe(()=>J(h,1,te([{open:i(o).type==="opened",hidden:t.blocked,isAnimationOn:le.working&&(!le.isSwiping||!t.blocked)}]),"svelte-1ijmos8")),S(e,g),Z()}var ks=F("<button> </button>");function Ye(e,t){var n=ks();n.__click=function(...a){var o;(o=t.onClick)==null||o.apply(this,a)};var r=x(n);oe(()=>{Te(n,"type",t.type),J(n,1,te([{selectedTag:t.style==="selected"}]),"svelte-1ik9jr8"),it(r,t.title)}),S(e,n)}ye(["click"]);const bs=e=>{e.preventDefault(),lt("settings")};var Ss=F("<div></div>"),Es=F('<div class="sidebarFixed svelte-10otxxm"><div class="nav svelte-10otxxm"><!> <a class="link svelte-10otxxm"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Settings</span></a></div> <div class="searchWrapper svelte-10otxxm"><!></div> <!></div> <div class="tags svelte-10otxxm"></div>',1),xs=F("<div></div>"),Ts=F('<div class="sidebar svelte-10otxxm"><div class="sidebarFixed svelte-10otxxm"><div class="searchWrapper svelte-10otxxm"><!></div> <!></div> <div class="tags svelte-10otxxm"></div></div>');function Cs(e,t){X(t,!0);let n=R(""),r=ie(()=>{var h;return((h=new URLSearchParams(U.search).get("selectedTags"))==null?void 0:h.split(","))||[]});const a=()=>{const h=ze();h.includes("settings")||h.push("settings");const b=new URLSearchParams(U.search);return b.set("stackPages",h.join(",")),`${U.pathname}?${b}`},o=h=>{const b=new URLSearchParams(U.search);b.set("selectedTags",[...i(r),h].join(",")),At(`${U.pathname}${b.size>0?`?${b.toString()}`:""}`),T(n,"")},s=h=>{const b=new URLSearchParams(U.search),m=i(r).filter(w=>w!==h);m.length===0?b.delete("selectedTags"):b.set("selectedTags",m.join(",")),At(`${U.pathname}${b.size>0?`?${b.toString()}`:""}`)};let l=ie(()=>It()?Object.values(Rr()).filter(h=>!i(r).some(b=>h.name===b)):[]),c=ie(a),d=ie(()=>ze().length>0);var u=we(),f=V(u);{var v=h=>{ys(h,{get blocked(){return i(d)},children:(b,m)=>{var w=Es(),p=V(w),E=x(p),_=x(E);Sr(_,{});var k=C(_,2);k.__click=[bs];var y=x(k);xe(y,()=>({"--size":"20px"})),Er(y.lastChild);var L=C(E,2),M=x(L);an(M,{placeholder:"Search tag",get value(){return i(n)},set value(O){T(n,O,!0)}});var D=C(L,2);{var P=O=>{var j=Ss();J(j,1,te(["tags","selectedTags"]),"svelte-10otxxm"),Fe(j,20,()=>i(r),A=>A,(A,H)=>{Ye(A,{get title(){return H},onClick:()=>s(H),style:"selected"})}),S(O,j)};z(D,O=>{i(r).length>0&&O(P)})}var N=C(p,2);Fe(N,21,()=>i(l),O=>O.name,(O,j)=>{var A=we(),H=V(A);{var I=q=>{Ye(q,{get title(){return i(j).name},onClick:()=>o(i(j).name)})};z(H,q=>{(i(n)===""||i(j).name.toLowerCase().indexOf(i(n).toLowerCase())!==-1)&&q(I)})}S(O,A)}),oe(()=>Te(k,"href",i(c))),S(b,w)},$$slots:{default:!0}})},g=h=>{var b=Ts(),m=x(b),w=x(m),p=x(w);an(p,{placeholder:"Search tag",get value(){return i(n)},set value(y){T(n,y,!0)}});var E=C(w,2);{var _=y=>{var L=xs();J(L,1,te(["tags","selectedTags"]),"svelte-10otxxm"),Fe(L,20,()=>i(r),M=>M,(M,D)=>{Ye(M,{get title(){return D},onClick:()=>s(D),style:"selected"})}),S(y,L)};z(E,y=>{i(r).length>0&&y(_)})}var k=C(m,2);Fe(k,21,()=>i(l),y=>y.name,(y,L)=>{var M=we(),D=V(M);{var P=N=>{Ye(N,{get title(){return i(L).name},onClick:()=>o(i(L).name)})};z(D,N=>{(i(n)===""||i(L).name.toLowerCase().indexOf(i(n).toLowerCase())!==-1)&&N(P)})}S(y,M)}),S(h,b)};z(f,h=>{Lr()?h(v):h(g,!1)})}S(e,u),Z()}ye(["click"]);var Ls=F('<div class="input-container svelte-1pvj8hs"><input> <div class="error-message svelte-1pvj8hs"><!></div></div>');function Gt(e,t){X(t,!0);let n=ee(t,"value",15,""),r=ee(t,"error",3,"");var a=Ls(),o=x(a);o.__input=function(...u){var f;(f=t.onInput)==null||f.apply(this,u)};let s;var l=C(o,2),c=x(l);{var d=u=>{var f=ae();oe(()=>it(f,r())),S(u,f)};z(c,u=>{r()&&u(d)})}oe(u=>{Te(o,"placeholder",t.placeholder),s=J(o,1,"svelte-1pvj8hs",null,s,u)},[()=>({error:!!r()})]),Ve("blur",o,function(...u){var f;(f=t.onBlur)==null||f.apply(this,u)}),Ve("focus",o,function(...u){var f;(f=t.onFocus)==null||f.apply(this,u)}),wn(o,n),S(e,a),Z()}ye(["input"]);var Ds=F("<div></div>"),Ps=F('<form class="svelte-qxch5w"><!> <!> <textarea placeholder="description" class="svelte-qxch5w"></textarea> <div class="boxtags"><div class="sidebarFixed"><!></div> <div class="tags svelte-qxch5w"><!> <!></div> <div class="searchWrapper svelte-qxch5w"><!></div></div> <button class="buttonSubmit svelte-qxch5w" type="submit"> </button></form>');function Nr(e,t){X(t,!0);let n=ee(t,"initialTitle",3,""),r=ee(t,"initialUrl",3,""),a=ee(t,"initialDescription",3,""),o=ee(t,"initialTags",19,()=>[]),s=ee(t,"mode",3,"add"),l=R(""),c=R(se(n())),d=R(se(r())),u=R(se(a())),f=R(se(o()));const v=B=>{i(f).includes(B)||T(f,[...i(f),B],!0)},g=B=>{const $=i(f).filter(K=>K!==B);$.length===0?T(f,[],!0):T(f,$,!0)};let h=ie(()=>It()?[...Ir().reduce((B,$)=>($==null||$.tags.forEach(K=>{B.has(K)||B.add(K)}),B),new Set)]:[]),b=ie(()=>It()?i(h).filter(B=>!i(f).some($=>B===$)&&B!=="inbox"):[]),m=ie(()=>i(b).find(B=>B.toLowerCase()===i(l).toLowerCase())||i(f).includes(i(l))),w=ie(()=>i(b).filter(B=>i(l)===""?!0:B.toLowerCase().indexOf(i(l).toLowerCase())!==-1).slice(0,i(m)||i(l)===""?3:2));const p=B=>{B.preventDefault(),t.onSubmit({title:i(c).trim().slice(0,256)||"unkwown",url:i(d).trim().slice(0,2048),description:i(u).trim().slice(0,2048),tags:i(f).length>0?i(f):["inbox"]})};var E=Ps(),_=x(E);Gt(_,{placeholder:"url",get value(){return i(d)},set value(B){T(d,B,!0)}});var k=C(_,2);Gt(k,{placeholder:"title",get value(){return i(c)},set value(B){T(c,B,!0)}});var y=C(k,2),L=C(y,2),M=x(L),D=x(M);{var P=B=>{var $=Ds();J($,1,te(["tags","selectedTags"]),"svelte-qxch5w"),Fe($,20,()=>i(f),K=>K,(K,pe)=>{Ye(K,{get title(){return pe},onClick:()=>g(pe),type:"button",style:"selected"})}),S(B,$)};z(D,B=>{i(f).length>0&&B(P)})}var N=C(M,2),O=x(N);{var j=B=>{var $=we(),K=V($);Fe(K,16,()=>i(w),pe=>pe,(pe,ke)=>{Ye(pe,{get title(){return ke},onClick:()=>v(ke)})}),S(B,$)};z(O,B=>{i(l)!==""&&B(j)})}var A=C(O,2);{var H=B=>{Ye(B,{get title(){return i(l)},onClick:()=>{v(i(l)),T(l,"")}})};z(A,B=>{!i(m)&&i(l)!==""&&B(H)})}var I=C(N,2),q=x(I);Gt(q,{placeholder:"tag",get value(){return i(l)},set value(B){T(l,B,!0)}});var Y=C(L,2),re=x(Y);oe(()=>it(re,s()==="add"?"add":"edit")),Ve("submit",E,p),wn(y,()=>i(u),B=>T(u,B)),S(e,E),Z()}function Os(e,t){X(t,!0);let n=R(!0);const r=()=>{t.onClose()},a=()=>{T(n,!1)},o=({title:s,url:l,description:c,tags:d})=>{ds({...t.bookmark,title:s,url:l,description:c,tags:d.map(u=>u.trim())}),a()};Or(e,{get shownDialog(){return i(n)},onClose:r,children:(s,l)=>{Nr(s,{get initialTitle(){return t.bookmark.title},get initialUrl(){return t.bookmark.url},get initialDescription(){return t.bookmark.description},get initialTags(){return t.bookmark.tags},onSubmit:o,mode:"edit"})},$$slots:{default:!0}}),Z()}var Ms=Pe('<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-1lqi79o"><path d="M16 16v2.8c0 1.12 0 1.68-.218 2.108a2 2 0 0 1-.874.874C14.48 22 13.92 22 12.8 22H5.2c-1.12 0-1.68 0-2.108-.218a2 2 0 0 1-.874-.874C2 20.48 2 19.92 2 18.8v-7.6c0-1.12 0-1.68.218-2.108a2 2 0 0 1 .874-.874C3.52 8 4.08 8 5.2 8H8m3.2 8h7.6c1.12 0 1.68 0 2.108-.218a2 2 0 0 0 .874-.874C22 14.48 22 13.92 22 12.8V5.2c0-1.12 0-1.68-.218-2.108a2 2 0 0 0-.874-.874C20.48 2 19.92 2 18.8 2h-7.6c-1.12 0-1.68 0-2.108.218a2 2 0 0 0-.874.874C8 3.52 8 4.08 8 5.2v7.6c0 1.12 0 1.68.218 2.108a2 2 0 0 0 .874.874C9.52 16 10.08 16 11.2 16Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>');function As(e){var t=Ms();S(e,t)}var Is=Pe('<svg viewBox="0 0 13.229 13.229" xmlns="http://www.w3.org/2000/svg" class="svelte-1lqi79o"><circle style="fill:currentColor;stroke-width:.4378" cx="3.175" cy="6.615" r="1.058"></circle><circle style="fill:currentColor;stroke-width:.4378" cx="6.615" cy="6.615" r="1.058"></circle><circle style="fill:currentColor;stroke-width:.4378" cx="10.054" cy="6.615" r="1.058"></circle></svg>');function Bs(e){var t=Is();S(e,t)}const Rs=(e,t,n)=>{const r=Rr();t.bookmark.tags.forEach(a=>{if(i(n).includes(a)&&r[a].connections===1){const o=new URLSearchParams(U.search),s=i(n).filter(l=>l!==a);s.length===0?o.delete("selectedTags"):o.set("selectedTags",s.join(",")),Eo(`${U.pathname}${o.size>0?`?${o.toString()}`:""}`)}}),fs(t.bookmark.id)},Ns=(e,t)=>{T(t,!0)},qs=(e,t,n)=>{T(t,!1),T(n,!0)},Hs=(e,t)=>{navigator.clipboard.writeText(t.bookmark.url),so("Link copied to clipboard")};var Fs=F('<li class="bookmark svelte-hwv8qt"><div class="bookmarkTitle svelte-hwv8qt"><img class="bookmarkIcon" height="16" width="16" alt="icon"> <a class="bookmarkLink svelte-hwv8qt" target="_blank" rel="noopener noreferrer"> </a></div> <div><button class="button svelte-hwv8qt"><!> <!></button> <div><button class="menuButton svelte-hwv8qt">Edit</button> <button class="menuButton svelte-hwv8qt">Delete</button></div> <button><!> <!></button></div></li> <!>',1);function js(e,t){X(t,!0);let n=ie(()=>{var O;return((O=new URLSearchParams(U.search).get("selectedTags"))==null?void 0:O.split(","))||[]}),r=R(!1),a=R(!1),o=R(null),s=R(null);const l=O=>{var j,A;O.target!==i(s)&&O.target!==i(o)&&!((j=i(o))!=null&&j.contains(O.target))&&!((A=i(s))!=null&&A.contains(O.target))&&T(r,!1)},c=()=>{T(a,!1)};fe(()=>(document.addEventListener("click",l),()=>{document.removeEventListener("click",l)}));const d=O=>{try{return`https://www.google.com/s2/favicons?domain=${new URL(O).host}&sz=32`}catch{return""}};var u=Fs(),f=V(u),v=x(f),g=x(v),h=C(g,2),b=x(h),m=C(v,2),w=x(m);w.__click=[Hs,t];var p=x(w);As(p);var E=C(p,2);rt(E,{children:(O,j)=>{var A=ae("copy link");S(O,A)}});var _=C(w,2),k=x(_);k.__click=[qs,r,a];var y=C(k,2);y.__click=[Rs,t,n],Se(_,O=>T(s,O),()=>i(s));var L=C(_,2);L.__click=[Ns,r],J(L,1,te(["button","buttonMenu"]),"svelte-hwv8qt");var M=x(L);Bs(M);var D=C(M,2);rt(D,{children:(O,j)=>{var A=ae("show menu");S(O,A)}}),Se(L,O=>T(o,O),()=>i(o));var P=C(f,2);{var N=O=>{Os(O,{get bookmark(){return t.bookmark},onClose:c})};z(P,O=>{i(a)&&O(N)})}oe(O=>{Te(g,"src",O),Te(h,"href",t.bookmark.url),it(b,t.bookmark.title),J(m,1,te(["bookmarkMenuWrapper",{bookmarkMenuWrapperActive:i(r)}]),"svelte-hwv8qt"),J(_,1,te(["bookmarkMenu",{bookmarkShownMenu:i(r)}]),"svelte-hwv8qt")},[()=>d(t.bookmark.url)]),S(e,u),Z()}ye(["click"]);var zs=F('<div class="emptyMessage svelte-10e5k3k">No bookmarks found</div>'),Us=F('<div class="searchWrapper svelte-10e5k3k"><!></div> <div class="feed svelte-10e5k3k"><ul class="svelte-10e5k3k"><!> <!></ul></div>',1);function Vs(e,t){X(t,!0);let n=R(null),r=44,a=R(0),o=R(0),s=R(se([])),l=R("");const c=ga("main");let d=ie(c),u=null;const f=ie(bo);fe(()=>{var D;i(l),i(f),(D=i(d))==null||D.scrollTo(0,0)});const v=()=>{u&&cancelAnimationFrame(u),u=requestAnimationFrame(()=>{var P;const D=((P=i(d))==null?void 0:P.scrollTop)||0;T(o,Math.floor(D/r)*r)})},g=()=>{var D;v(),i(n)&&T(a,window.innerHeight-((D=i(n))==null?void 0:D.getBoundingClientRect().top))};De(()=>{g(),v()}),fe(()=>{var D;return(D=i(d))==null||D.addEventListener("scroll",v),window.addEventListener("resize",g),()=>{var P;(P=i(d))==null||P.removeEventListener("scroll",v),window.removeEventListener("resize",g)}}),fe(()=>{const D=Ir(),P=[],N={};for(let O=D.length-1;O>=0;O--){const j=D[O];if(j&&!(i(f).length&&i(f).some(A=>!j.tags.includes(A)))&&!(i(l)&&!(j.title.toLowerCase().includes(i(l).toLowerCase())||j.url.toLowerCase().includes(i(l).toLowerCase())))){if(j.tags)for(const A of j.tags)N[A]?N[A].connections++:N[A]={name:A,connections:1};P.push(j)}}ps(N),T(s,P,!0)});const h=ie(()=>i(s).length*r);let m=ie(()=>{const D=Math.ceil(i(a)/r),P=Math.floor(i(o)/r);return i(s).slice(P,P+D)});var w=Us(),p=V(w),E=x(p);an(E,{placeholder:"Search",get value(){return i(l)},set value(D){T(l,D,!0)}});var _=C(p,2),k=x(_),y=x(k);Fe(y,17,()=>i(m),D=>D.id,(D,P)=>{js(D,{get bookmark(){return i(P)}})});var L=C(y,2);{var M=D=>{var P=zs();S(D,P)};z(L,D=>{i(m).length===0&&It()&&D(M)})}Se(k,D=>T(n,D),()=>i(n)),oe(D=>{Mt(_,`height: ${D??""}px`),Mt(k,`height: ${i(a)??""}px; transform: translateY(${i(o)??""}px)`)},[()=>Math.max(i(h),30)]),S(e,w),Z()}var Ys=F('<!> <div class="content svelte-cu0ar8"><!></div>',1);function Ws(e){var t=Ys(),n=V(t);Cs(n,{});var r=C(n,2),a=x(r);Vs(a,{}),S(e,t)}var Xs=Pe('<svg width="800" height="800" viewBox="-3 0 32 32" xmlns="http://www.w3.org/2000/svg" class="svelte-1lqi79o"><path d="M23 8H3a1 1 0 1 1 0-2h20a1 1 0 0 1 0 2Zm-1 20a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V10h18v18ZM10 3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v1h-6V3Zm14 1h-6V2a2 2 0 0 0-2-2h-6a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v2a2 2 0 0 0 2 2v18a4 4 0 0 0 4 4h14a4 4 0 0 0 4-4V10a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2ZM13 28a1 1 0 0 0 1-1V15a1 1 0 0 0-2 0v12a1 1 0 0 0 1 1Zm-5 0a1 1 0 0 0 1-1V15a1 1 0 0 0-2 0v12a1 1 0 0 0 1 1Zm10 0a1 1 0 0 0 1-1V15a1 1 0 0 0-2 0v12a1 1 0 0 0 1 1Z" fill="currentColor" fill-rule="evenodd"></path></svg>');function Zs(e){var t=Xs();S(e,t)}var Gs=Pe('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" class="svelte-1lqi79o"><path fill-rule="evenodd" stroke="currentColor" fill="currentColor" d="M14 9.004a1 1 0 0 1 1 1v3a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-3a1 1 0 0 1 2 0v3h10v-3a1 1 0 0 1 1-1ZM8 1.59l3.707 3.707a1 1 0 0 1-1.414 1.414L9 5.418v4.586a1 1 0 1 1-2 0V5.418L5.707 6.711a1 1 0 0 1-1.414-1.414L8 1.59Z"></path></svg>');function Ks(e){var t=Gs();S(e,t)}var Js=Pe('<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" class="svelte-1lqi79o"><path fill-rule="evenodd" stroke="currentColor" fill="currentColor" d="M14 9a1 1 0 0 1 1 1v3a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-3a1 1 0 0 1 2 0v3h10v-3a1 1 0 0 1 1-1ZM8 1a1 1 0 0 1 1 1v4.586l1.293-1.293a1 1 0 1 1 1.414 1.414L8 10.414 4.293 6.707a1 1 0 0 1 1.414-1.414L7 6.586V2a1 1 0 0 1 1-1Z"></path></svg>');function Qs(e){var t=Js();S(e,t)}var Ne=(e=>(e.Light="light",e.Auto="auto",e.Dark="dark",e))(Ne||{});const Kt=(e,t)=>{const n=e.target.value;localStorage.setItem("colorScheme",n),document.documentElement.setAttribute("data-color-scheme",n),T(t,n,!0)};var $s=F('<div class="wrapper svelte-1lqc4qo"><fieldset class="switcher svelte-1lqc4qo"><legend class="vh svelte-1lqc4qo">Color Scheme</legend> <input id="light" type="radio" aria-label="Light"> <label for="light" title="Light" aria-label="Light"></label> <input id="auto" type="radio" aria-label="Auto"> <label for="auto" title="Auto" aria-label="Auto"></label> <input id="dark" type="radio" aria-label="Dark"> <label for="dark" title="Dark" aria-label="Dark"></label> <div class="wrapSwitcherStatus svelte-1lqc4qo"><div class="switcherStatus svelte-1lqc4qo"></div></div></fieldset></div>');function ei(e,t){X(t,!0);let n=R(se(localStorage.getItem("colorScheme")||Ne.Auto));const r="color-scheme-switcher";var a=$s(),o=x(a),s=C(x(o),2);J(s,1,te(["vh","input"]),"svelte-1lqc4qo"),Te(s,"name",r),s.__change=[Kt,n];var l=C(s,2);J(l,1,te(["switcherButton","light"]),"svelte-1lqc4qo");var c=C(l,2);J(c,1,te(["vh","input"]),"svelte-1lqc4qo"),Te(c,"name",r),c.__change=[Kt,n];var d=C(c,2);J(d,1,te(["switcherButton","auto"]),"svelte-1lqc4qo");var u=C(d,2);J(u,1,te(["vh","input"]),"svelte-1lqc4qo"),Te(u,"name",r),u.__change=[Kt,n];var f=C(u,2);J(f,1,te(["switcherButton","dark"]),"svelte-1lqc4qo"),oe(()=>{Yt(s,Ne.Light),Wt(s,i(n)===Ne.Light),Yt(c,Ne.Auto),Wt(c,i(n)===Ne.Auto),Yt(u,Ne.Dark),Wt(u,i(n)===Ne.Dark)}),S(e,a),Z()}ye(["change"]);const ti=()=>{lt("importBookmarks")},ni=()=>{lt("exportBookmarks")},ri=()=>{lt("clearStore")};var ai=F('<div class="svelte-oc46cj"><!> <ul class="svelte-oc46cj"><li class="svelte-oc46cj"><button class="button svelte-oc46cj"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-oc46cj">import bookmarks</span></button></li> <li class="svelte-oc46cj"><button class="button svelte-oc46cj"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-oc46cj">export bookmarks</span></button></li> <li class="svelte-oc46cj"><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-oc46cj">clear store</span></button></li></ul> <div class="svelte-oc46cj"></div></div>');function oi(e,t){X(t,!1),Vt();var n=ai(),r=x(n);ei(r,{});var a=C(r,2),o=x(a),s=x(o);s.__click=[ti];var l=x(s);xe(l,()=>({"--size":"20px"})),Qs(l.lastChild);var c=C(o,2),d=x(c);d.__click=[ni];var u=x(d);xe(u,()=>({"--size":"20px"})),Ks(u.lastChild);var f=C(c,2),v=x(f);v.__click=[ri],J(v,1,te(["button","clearButton"]),"svelte-oc46cj");var g=x(v);xe(g,()=>({"--size":"20px"})),Zs(g.lastChild);var h=C(a,2);h.textContent="ed5d4247-ebe1-4128-9469-cb82dbf4d038",S(e,n),Z()}ye(["click"]);function si(e,t){X(t,!1);const n=()=>{wt()},r=({title:a,url:o,description:s,tags:l})=>{vs({title:a,url:o,description:s,tags:l.map(c=>c.trim())}),n()};Vt(),Nr(e,{onSubmit:r}),Z()}var ii=F("<button><!></button>");function Ee(e,t){let n=ee(t,"type",3,"standard");var r=ii();r.__click=function(...o){var s;(s=t.onClick)==null||s.apply(this,o)};var a=x(r);Ge(a,()=>t.children),oe(()=>J(r,1,te(["button",{dangerous:n()==="dangerous"}]),"svelte-v0y8yx")),S(e,r)}ye(["click"]);var li=F('<div class="loader svelte-b80p9x"></div>');function kn(e){var t=li();S(e,t)}const ci=async(e,t)=>{const n=e.target;!n.files||n.files.length===0||await t(n.files[0])};var ui=F('<p class="message svelte-19xh4q5">select a file to import your bookmarks</p> <div role="button" tabindex="0"><div class="dropzone-content svelte-19xh4q5"><p class="svelte-19xh4q5">Drag and drop your JSON file here</p> <p class="svelte-19xh4q5">or</p> <!></div> <input type="file" accept=".json, .html" style="display: none;"></div> <div class="buttonContainer svelte-19xh4q5"><!></div>',1),di=F('<p class="message svelte-19xh4q5">importing bookmarks...</p> <!>',1),vi=F('<p class="message success svelte-19xh4q5">bookmarks imported successfully!</p> <div class="buttonContainer svelte-19xh4q5"><!></div>',1),fi=F('<p class="message error svelte-19xh4q5">something went wrong</p> <div class="buttonContainer svelte-19xh4q5"><!> <!></div>',1),hi=F('<div class="content svelte-19xh4q5"><!></div>');function gi(e,t){X(t,!0);let n=R("idle"),r=R(null),a=R(!1),o=R(null);const s=()=>{wt()},l=async p=>{const E=await p.text(),_=JSON.parse(E),k=[];if(!_.bookmarks)throw new Error("Invalid import file format");for(const y of Object.values(_.bookmarks))y&&k.push(y);await Hn(k)},c=async p=>{T(n,"loading");try{if(p.name.endsWith(".json"))await l(p);else if(p.name.endsWith(".html"))await Hn(await $o(p));else throw new Error("Unsupported file format. Please upload a JSON or HTML file.");T(n,"success")}catch{T(n,"error")}},d=()=>{var p;(p=i(r))==null||p.click()},u=p=>{p.preventDefault(),p.stopPropagation(),T(a,!0)},f=p=>{p.preventDefault(),p.stopPropagation(),T(a,!1)},v=p=>{p.preventDefault(),p.stopPropagation(),T(a,!0)},g=async p=>{var _;if(p.preventDefault(),p.stopPropagation(),T(a,!1),!((_=p.dataTransfer)!=null&&_.files)||p.dataTransfer.files.length===0)return;const E=p.dataTransfer.files[0];if(E.type!=="application/json"&&E.type!=="text/html"){T(n,"error");return}await c(E)};var h=hi(),b=x(h);{var m=p=>{var E=ui(),_=C(V(E),2),k=x(_),y=C(x(k),4);Ee(y,{onClick:d,children:(P,N)=>{var O=ae("Select File");S(P,O)},$$slots:{default:!0}});var L=C(k,2);L.__change=[ci,c],Se(L,P=>T(r,P),()=>i(r)),Se(_,P=>T(o,P),()=>i(o));var M=C(_,2),D=x(M);Ee(D,{onClick:s,children:(P,N)=>{var O=ae("cancel");S(P,O)},$$slots:{default:!0}}),oe(()=>J(_,1,te(["dropzone",{active:i(a)}]),"svelte-19xh4q5")),Ve("dragenter",_,u),Ve("dragover",_,v),Ve("dragleave",_,f),Ve("drop",_,g),S(p,E)},w=(p,E)=>{{var _=y=>{var L=di(),M=C(V(L),2);kn(M),S(y,L)},k=(y,L)=>{{var M=P=>{var N=vi(),O=C(V(N),2),j=x(O);Ee(j,{onClick:s,children:(A,H)=>{var I=ae("close");S(A,I)},$$slots:{default:!0}}),S(P,N)},D=(P,N)=>{{var O=j=>{var A=fi(),H=C(V(A),2),I=x(H);Ee(I,{onClick:()=>{T(n,"idle")},children:(Y,re)=>{var B=ae("Try Again");S(Y,B)},$$slots:{default:!0}});var q=C(I,2);Ee(q,{onClick:s,children:(Y,re)=>{var B=ae("Cancel");S(Y,B)},$$slots:{default:!0}}),S(j,A)};z(P,j=>{i(n)==="error"&&j(O)},N)}};z(y,P=>{i(n)==="success"?P(M):P(D,!1)},L)}};z(p,y=>{i(n)==="loading"?y(_):y(k,!1)},E)}};z(b,p=>{i(n)==="idle"?p(m):p(w,!1)})}S(e,h),Z()}ye(["change"]);var pi=(e,t)=>T(t,"json"),_i=(e,t)=>T(t,"html"),mi=F('<p class="message svelte-1kp07xg">Export bookmarks</p> <div class="format-switcher svelte-1kp07xg"><div class="switcher-wrapper svelte-1kp07xg"><div class="background svelte-1kp07xg"></div> <div class="active-indicator svelte-1kp07xg"></div> <button>JSON</button> <button>HTML</button></div> <p class="format-description svelte-1kp07xg"><!></p></div> <div class="buttonContainer svelte-1kp07xg"><!> <!></div>',1),wi=F('<p class="message svelte-1kp07xg">Exporting data...</p> <div class="buttonContainer svelte-1kp07xg"><!></div>',1),yi=F('<p class="message svelte-1kp07xg">Bookmarks exported successfully!</p> <div class="buttonContainer svelte-1kp07xg"><!></div>',1),ki=F('<div class="content svelte-1kp07xg"><!></div>');function bi(e,t){X(t,!0);let n=R("idle"),r=R("json");const a=()=>{wt()},o=async()=>{T(n,"loading"),setTimeout(async()=>{if(i(r)==="json")await gs().finally(()=>{T(n,"success")});else try{const u=es(us()),f=new Blob([u],{type:"text/html"}),v=URL.createObjectURL(f),g=document.createElement("a");g.href=v,g.download=`bookmarks_${new Date().toLocaleDateString().replace(/\//g,"_")}.html`,document.body.appendChild(g),g.click(),document.body.removeChild(g),URL.revokeObjectURL(v),T(n,"success")}catch(u){console.error("Error exporting as HTML:",u),T(n,"success")}},0)};var s=ki(),l=x(s);{var c=u=>{var f=mi(),v=C(V(f),2),g=x(v),h=C(x(g),2),b=C(h,2);let m;b.__click=[pi,r];var w=C(b,2);let p;w.__click=[_i,r];var E=C(g,2),_=x(E);{var k=P=>{var N=ae("JSON format (for app import)");S(P,N)},y=P=>{var N=ae("HTML format (Chrome compatible)");S(P,N)};z(_,P=>{i(r)==="json"?P(k):P(y,!1)})}var L=C(v,2),M=x(L);Ee(M,{onClick:o,children:(P,N)=>{var O=ae("Export");S(P,O)},$$slots:{default:!0}});var D=C(M,2);Ee(D,{onClick:a,children:(P,N)=>{var O=ae("Cancel");S(P,O)},$$slots:{default:!0}}),oe((P,N)=>{Mt(h,`transform: translateX(${(i(r)==="json"?"0":"100%")??""})`),m=J(b,1,"switcher-option svelte-1kp07xg",null,m,P),p=J(w,1,"switcher-option svelte-1kp07xg",null,p,N)},[()=>({active:i(r)==="json"}),()=>({active:i(r)==="html"})]),S(u,f)},d=(u,f)=>{{var v=h=>{var b=wi(),m=C(V(b),2),w=x(m);kn(w),S(h,b)},g=(h,b)=>{{var m=w=>{var p=yi(),E=C(V(p),2),_=x(E);Ee(_,{onClick:a,children:(k,y)=>{var L=ae("Close");S(k,L)},$$slots:{default:!0}}),S(w,p)};z(h,w=>{i(n)==="success"&&w(m)},b)}};z(u,h=>{i(n)==="loading"?h(v):h(g,!1)},f)}};z(l,u=>{i(n)==="idle"?u(c):u(d,!1)})}S(e,s),Z()}ye(["click"]);var Si=F('<p class="message svelte-w4337z">Are you sure you want to clear the store?</p> <div class="buttonContainer svelte-w4337z"><!> <!></div>',1),Ei=F('<p class="message svelte-w4337z">clearing store...</p> <div class="buttonContainer svelte-w4337z"><!></div>',1),xi=F('<p class="message svelte-w4337z">store cleared</p> <div class="buttonContainer svelte-w4337z"><!></div>',1),Ti=F('<div class="content svelte-w4337z"><!></div>');function Ci(e,t){X(t,!0);let n=R("idle");const r=()=>{wt()},a=()=>{T(n,"loading"),hs().finally(()=>{setTimeout(()=>{T(n,"success")},1e3)})};var o=Ti(),s=x(o);{var l=d=>{var u=Si(),f=C(V(u),2),v=x(f);Ee(v,{onClick:r,children:(h,b)=>{var m=ae("no");S(h,m)},$$slots:{default:!0}});var g=C(v,2);Ee(g,{onClick:a,type:"dangerous",children:(h,b)=>{var m=ae("yes");S(h,m)},$$slots:{default:!0}}),S(d,u)},c=(d,u)=>{{var f=g=>{var h=Ei(),b=C(V(h),2),m=x(b);kn(m),S(g,h)},v=(g,h)=>{{var b=m=>{var w=xi(),p=C(V(w),2),E=x(p);Ee(E,{onClick:r,children:(_,k)=>{var y=ae("close");S(_,y)},$$slots:{default:!0}}),S(m,w)};z(g,m=>{i(n)==="success"&&m(b)},h)}};z(d,g=>{i(n)==="loading"?g(f):g(v,!1)},u)}};z(s,d=>{i(n)==="idle"?d(l):d(c,!1)})}S(e,o),Z()}const Li=(e,t=zn)=>{var n=we(),r=V(n);{var a=s=>{oi(s,{})},o=(s,l)=>{{var c=u=>{si(u,{})},d=(u,f)=>{{var v=h=>{gi(h,{})},g=(h,b)=>{{var m=p=>{bi(p,{})},w=(p,E)=>{{var _=k=>{Ci(k,{})};z(p,k=>{t()==="clearStore"&&k(_)},E)}};z(h,p=>{t()==="exportBookmarks"?p(m):p(w,!1)},b)}};z(u,h=>{t()==="importBookmarks"?h(v):h(g,!1)},f)}};z(s,u=>{t()==="newBookmark"?u(c):u(d,!1)},l)}};z(r,s=>{t()==="settings"?s(a):s(o,!1)})}S(e,n)};var Di=F("<!> <!>",1);function Pi(e,t){X(t,!0);let n=ie(To);var r=Di(),a=V(r);Ws(a);var o=C(a,2);Fe(o,17,()=>i(n),Wa,(s,l,c)=>{const d=ie(()=>{var u;return c!==i(n).length-1&&!!((u=i(n)[c+1])!=null&&u.shown)});Qo(s,{get shown(){return i(l).shown},get hidden(){return i(d)},children:(u,f)=>{Li(u,()=>i(l).page)},$$slots:{default:!0}})}),S(e,r),Z()}function Oi(){const e=navigator.userAgent;if(!(/iPad|iPhone|iPod/.test(e)&&!window.MSStream))return!1;const n=/Safari/.test(e)&&!/Chrome/.test(e)&&!/CriOS/.test(e)&&!/FxiOS/.test(e),r=/Macintosh/.test(e)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>1;return!!n||!!r}const Mi=Oi();function Ai(e,t){X(t,!1);let n=0;De(()=>{const r=document.querySelector("div");r&&Mi&&r.addEventListener("touchstart",a=>{a.pageX>20&&a.pageX<window.innerWidth-20||a.preventDefault()}),document.addEventListener("touchstart",a=>{n=a.touches[0].clientX},{passive:!1}),document.addEventListener("touchmove",a=>{const s=a.touches[0].clientX-n;(n<50&&s>0||n>window.innerWidth-50&&s<0)&&a.preventDefault()},{passive:!1}),document.addEventListener("touchend",()=>{n=0}),document.addEventListener("touchcancel",()=>{n=0})}),Vt(),Z()}var Ii=F('<!> <main><!> <div class="container svelte-126c0hr"><!></div> <!></main>',1);function Bi(e,t){X(t,!0);let n=R(null),r=!1;pa("main",()=>i(n));const a=()=>{document.activeElement instanceof HTMLInputElement||document.activeElement instanceof HTMLTextAreaElement?r=!0:r=!1};De(()=>{a(),document.addEventListener("focusin",a),document.addEventListener("focusout",a),document.addEventListener("touchmove",function(g){r&&g.preventDefault()},{passive:!1})}),De(async()=>{await new Promise(g=>setTimeout(g,100)),await Ba(),le.working=!0});let o=ie(()=>ze().length>0);var s=Ii(),l=V(s);Ai(l,{});var c=C(l,2),d=x(c);Io(d,{});var u=C(d,2),f=x(u);Pi(f,{});var v=C(u,2);lo(v,{}),Se(c,g=>T(n,g),()=>i(n)),oe(()=>{Mt(c,`--swiping-percentage: ${le.swipingPercentage}; --transition-timing-default: ${le.duration}s;`),J(c,1,te(["main",{isAnimationOn:le.working&&!le.isSwiping,open:i(o)}]),"svelte-126c0hr")}),S(e,s),Z()}Ua(Bi,{target:document.getElementById("app")});
