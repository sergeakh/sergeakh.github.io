import{U as G,p as F,W as Q,f as b,q as X,m as E,X as j,Y as S,s as g,t as H,Z as D,h as c,_ as Y,$ as J,r as V,c as p,b as v,a0 as W,k as P,n as Z,u as z,g as B,d as I,o as K,j as k,i as L,B as M,v as x,l as U,a1 as ee,Q as te,L as ae,G as se}from"./index-BZKyeLya.js";const oe=h=>{const s=Math.floor(Date.now()/1e3),e={};h.forEach(t=>{const a=t.tags||["Imported"];if(a.length===0){e.ROOT||(e.ROOT=[]),e.ROOT.push(t);return}a.forEach(d=>{e[d]||(e[d]=[]),e[d].push(t)})});let o=`<!DOCTYPE NETSCAPE-Note-file-1>
<!-- This is an automatically generated file.
 It will be read and overwritten.
 DO NOT EDIT! -->
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8">
<TITLE>notes</TITLE>
<H1>notes</H1>
<DL><p>
<DT><H3 ADD_DATE="${s}" LAST_MODIFIED="${s}" PERSONAL_TOOLBAR_FOLDER="true">notes Bar</H3>
<DL><p>`;return Object.keys(e).forEach(t=>{t!=="ROOT"&&t!=="other"&&(o+=`
    <DT><H3 ADD_DATE="${s}" LAST_MODIFIED="${s}">${t}</H3>
    <DL><p>`,e[t].forEach(a=>{const d=a.title.replace(/"/g,"&quot;");o+=`
        <DT><A HREF="${a.url}" ADD_DATE="${Math.floor(a.createdAt/1e3)||s}">${d}</A>`}),o+=`
    </DL><p>`)}),e.ROOT&&e.ROOT.forEach(t=>{const a=t.title.replace(/"/g,"&quot;");o+=`
    <DT><A HREF="${t.url}" ADD_DATE="${Math.floor(t.createdAt/1e3)||s}">${a}</A>`}),o+=`
</DL><p>`,e.other&&e.other.forEach(t=>{const a=t.title.replace(/"/g,"&quot;");o+=`
    <DT><A HREF="${t.url}" ADD_DATE="${Math.floor(t.createdAt/1e3)||s}">${a}</A>`}),o+="</DL><p>",o},re=async h=>{const s="notes-export.json",e=JSON.stringify({notes:h}),o=new Blob([e],{type:"application/json"}),t=URL.createObjectURL(o),a=document.createElement("a");a.href=t,a.download=s,document.body.appendChild(a),a.click(),setTimeout(()=>{document.body.removeChild(a),URL.revokeObjectURL(t)},0)},le=(h,s,e)=>{s(h.target.value),e.onChange(s())};var ne=b('<input type="radio"/> <label> </label>',1),ce=b('<div class="wrapper svelte-egvjdf"><fieldset class="switcher svelte-egvjdf"><!> <div class="wrapSwitcherStatus svelte-egvjdf"><div class="switcherStatus svelte-egvjdf"></div></div></fieldset></div>');function ie(h,s){const e=G();F(s,!0);let o=Q(s,"value",7);const t=`switcher-${e}`;var a=ce(),d=p(a),y=p(d);X(y,17,()=>s.items,l=>l.title,(l,n)=>{var f=ne(),r=E(f);j(r,1,S(["vh","input"]),"svelte-egvjdf"),r.__change=[le,o,s];var m=g(r,2);j(m,1,S(["switcherButton"]),"svelte-egvjdf");var u=p(m);H(()=>{D(r,"id",`${c(n).title}-${e}`),D(r,"name",t),Y(r,c(n).value),J(r,c(n).value===o()),D(r,"aria-label",c(n).title),D(m,"for",`${c(n).title}-${e}`),D(m,"title",c(n).title),D(m,"aria-label",c(n).title),V(u,c(n).title)}),v(l,f)});var C=g(y,2),R=p(C);H(l=>W(R,l),[()=>`transform: translateX(${s.items.findIndex(l=>l.value===o())*100}%)`]),v(h,a),P()}Z(["change"]);var ve=b('<p class="message svelte-owa53m">Export data</p> <div class="format-switcher svelte-owa53m"><!> <p class="format-description svelte-owa53m"><!></p></div> <div class="buttonContainer svelte-owa53m"><!></div>',1),de=b('<p class="message svelte-owa53m">Exporting data...</p> <div class="buttonContainer svelte-owa53m"><!></div>',1),fe=b('<p class="message svelte-owa53m">Data exported successfully!</p> <div class="buttonContainer svelte-owa53m"><!></div>',1),ue=b('<div class="content svelte-owa53m"><!></div>');function me(h,s){F(s,!0);let e=I("idle"),o=I("sync");const t=()=>{se()};z(()=>{B(c(e)==="loading")}),K(()=>()=>{B(!1)});const a=async()=>{L(e,"loading"),setTimeout(async()=>{if(c(o)==="sync")await re(ee()()||[]).finally(()=>{L(e,"success")});else try{const l=oe(te()()||new Map),n=new Blob([l],{type:"text/html"}),f=URL.createObjectURL(n),r=document.createElement("a");r.href=f,r.download=`items_${new Date().toLocaleDateString().replace(/\//g,"_")}.html`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(f),L(e,"success")}catch{L(e,"success")}},0)};var d=ue(),y=p(d);{var C=l=>{var n=ve(),f=g(E(n),2),r=p(f);ie(r,{items:[{title:"Sync",value:"sync"},{title:"Bookmarks",value:"bookmarks"}],get value(){return c(o)},onChange:i=>{L(o,i,!0)}});var m=g(r,2),u=p(m);{var _=i=>{var T=x("App format for sync or backup");v(i,T)},w=i=>{var T=x("Browser bookmarks format (exports only bookmarks, not notes)");v(i,T)};k(u,i=>{c(o)==="sync"?i(_):i(w,!1)})}var O=g(f,2),A=p(O);M(A,{onClick:a,children:(i,T)=>{var $=x("Export");v(i,$)},$$slots:{default:!0}}),v(l,n)},R=l=>{var n=U(),f=E(n);{var r=u=>{var _=de(),w=g(E(_),2),O=p(w);ae(O,{}),v(u,_)},m=u=>{var _=U(),w=E(_);{var O=A=>{var i=fe(),T=g(E(i),2),$=p(T);M($,{onClick:t,children:(N,pe)=>{var q=x("Close");v(N,q)},$$slots:{default:!0}}),v(A,i)};k(w,A=>{c(e)==="success"&&A(O)},!0)}v(u,_)};k(f,u=>{c(e)==="loading"?u(r):u(m,!1)},!0)}v(l,n)};k(y,l=>{c(e)==="idle"?l(C):l(R,!1)})}v(h,d),P()}export{me as default};
