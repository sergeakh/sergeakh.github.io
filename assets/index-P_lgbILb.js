const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/MobileSidebar-EPz50m_5.js","assets/MobileSidebar-CUCj13hK.css","assets/About-Btujdbbk.js","assets/About-DhrgDPiX.css","assets/AccessKeys-kaXiy0Tm.js","assets/api-C5JaEwh0.js","assets/AccessKeys-DF5NA1tk.css","assets/Account-CU7aihsM.js","assets/Account-LI89flHz.css","assets/ClearStore-uB3DCHNO.js","assets/ClearStore-DiVqV26R.css","assets/ConfirmAccessKey-CCJX-MmY.js","assets/Input-BCHndn3x.js","assets/Input-BfRVWwCk.css","assets/ConfirmAccessKey-BEOXyioc.css","assets/EditNote-C5JnL-ZC.js","assets/NoteForm-VpYUF0aC.js","assets/NoteForm--x1pEj7S.css","assets/Exit-42JQMifl.js","assets/Exit-B7Im9AKN.css","assets/ExportData-C3np6UbW.js","assets/ExportData-Gq8zQKAw.css","assets/ImportData-DQ5Ec7sp.js","assets/ImportData-CZGzVRRc.css","assets/NewNote-DaWuZFdw.js","assets/Signin-C-O3KrOK.js","assets/Signin-CnX7iJxK.css","assets/Signup-CLcTivn_.js","assets/Subscription-DNhQPaSH.js","assets/Subscription-2ryrsj8c.css","assets/Sync-CL4ow26K.js","assets/Sync-DZBzq12x.css"])))=>i.map(i=>d[i]);
var Io=Object.defineProperty;var wa=e=>{throw TypeError(e)};var Mo=(e,t,n)=>t in e?Io(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var _n=(e,t,n)=>Mo(e,typeof t!="symbol"?t+"":t,n),yr=(e,t,n)=>t.has(e)||wa("Cannot "+n);var ee=(e,t,n)=>(yr(e,t,"read from private field"),n?n.call(e):t.get(e)),De=(e,t,n)=>t.has(e)?wa("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),qe=(e,t,n,r)=>(yr(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),xt=(e,t,n)=>(yr(e,t,"access private method"),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(a){if(a.ep)return;a.ep=!0;const s=n(a);fetch(a.href,s)}})();const Ua=!1;var qr=Array.isArray,Ro=Array.prototype.indexOf,Kr=Array.from,Nr=Object.defineProperty,nn=Object.getOwnPropertyDescriptor,Va=Object.getOwnPropertyDescriptors,Bo=Object.prototype,jo=Array.prototype,Wr=Object.getPrototypeOf,ya=Object.isExtensible;const at=()=>{};function Fo(e){return typeof e?.then=="function"}function zo(e){return e()}function tr(e){for(var t=0;t<e.length;t++)e[t]()}function Uo(){var e,t,n=new Promise((r,a)=>{e=r,t=a});return{promise:n,resolve:e,reject:t}}function Vo(e,t,n=!1){return e===void 0?n?t():t:e}const ze=2,Yr=4,ir=8,vn=16,ht=32,Ut=64,Ha=128,We=256,nr=512,Ee=1024,Ye=2048,Ct=4096,Ze=8192,Vt=16384,Gr=32768,Ln=65536,ba=1<<17,Ho=1<<18,On=1<<19,qa=1<<20,Dr=1<<21,Xr=1<<22,Lt=1<<23,Ot=Symbol("$state"),qo=Symbol("legacy props"),Ko=Symbol(""),Zr=new class extends Error{constructor(){super(...arguments);_n(this,"name","StaleReactionError");_n(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function Wo(){throw new Error("https://svelte.dev/e/await_outside_boundary")}function Ka(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Yo(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Go(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Xo(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Zo(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Jo(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Qo(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function $o(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function ei(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function ti(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}const lr=1,cr=2,Wa=4,ni=8,ri=16,ai=1,si=2,oi=4,ii=8,li=16,ci=1,ui=2,we=Symbol(),di="http://www.w3.org/1999/xhtml";let fi=!1;function Ya(e){return e===this.v}function vi(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Ga(e){return!vi(e,this.v)}let hn=!1,hi=!1;function gi(){hn=!0}let oe=null;function un(e){oe=e}function Xa(e){return Ja().get(e)}function Za(e,t){return Ja().set(e,t),t}function G(e,t=!1,n){oe={p:oe,c:null,e:null,s:e,x:null,l:hn&&!t?{s:null,u:null,$:[]}:null}}function X(e){var t=oe,n=t.e;if(n!==null){t.e=null;for(var r of n)fs(r)}return e!==void 0&&(t.x=e),oe=t.p,e??{}}function gn(){return!hn||oe!==null&&oe.l===null}function Ja(e){return oe===null&&Ka(),oe.c??(oe.c=new Map(pi(oe)||void 0))}function pi(e){let t=e.p;for(;t!==null;){const n=t.c;if(n!==null)return n;t=t.p}return null}const _i=new WeakMap;function mi(e){var t=J;if(t===null)return Y.f|=Lt,e;if((t.f&Gr)===0){if((t.f&Ha)===0)throw!t.parent&&e instanceof Error&&Qa(e),e;t.b.error(e)}else Jr(e,t)}function Jr(e,t){for(;t!==null;){if((t.f&Ha)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e instanceof Error&&Qa(e),e}function Qa(e){const t=_i.get(e);t&&(Nr(e,"message",{value:t.message}),Nr(e,"stack",{value:t.stack}))}let bn=[],Lr=[];function $a(){var e=bn;bn=[],tr(e)}function wi(){var e=Lr;Lr=[],tr(e)}function ur(e){bn.length===0&&queueMicrotask($a),bn.push(e)}function yi(){bn.length>0&&$a(),Lr.length>0&&wi()}function bi(){const e=J.b;return e===null&&Wo(),e}function In(e){var t=ze|Ye,n=Y!==null&&(Y.f&ze)!==0?Y:null;return J===null||n!==null&&(n.f&We)!==0?t|=We:J.f|=On,{ctx:oe,deps:null,effects:null,equals:Ya,f:t,fn:e,reactions:null,rv:0,v:we,wv:0,parent:n??J,ac:null}}function Si(e,t){let n=J;n===null&&Yo();var r=n.b,a=void 0,s=Ft(we),i=null,l=!Y;return Ri(()=>{try{var c=e();i&&Promise.resolve(c).catch(()=>{})}catch(g){c=Promise.reject(g)}var u=()=>c;a=i?.then(u,u)??Promise.resolve(c),i=a;var d=se,h=r.is_pending();l&&(r.update_pending_count(1),h||d.increment());const f=(g,v=void 0)=>{i=null,h||d.activate(),v?v!==Zr&&(s.f|=Lt,yt(s,v)):((s.f&Lt)!==0&&(s.f^=Lt),yt(s,g)),l&&(r.update_pending_count(-1),h||d.decrement()),ns()};if(a.then(f,g=>f(null,g||"unknown")),d)return()=>{queueMicrotask(()=>d.neuter())}}),new Promise(c=>{function u(d){function h(){d===a?c(s):u(a)}d.then(h,h)}u(a)})}function L(e){const t=In(e);return ms(t),t}function dr(e){const t=In(e);return t.equals=Ga,t}function es(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)st(t[n])}}function ki(e){for(var t=e.parent;t!==null;){if((t.f&ze)===0)return t;t=t.parent}return null}function Qr(e){var t,n=J;ot(ki(e));try{es(e),t=Ss(e)}finally{ot(n)}return t}function ts(e){var t=Qr(e);if(e.equals(t)||(e.v=t,e.wv=ys()),!qt){var n=(_t||(e.f&We)!==0)&&e.deps!==null?Ct:Ee;Oe(e,n)}}function Ei(e,t,n){const r=gn()?In:dr;if(t.length===0){n(e.map(r));return}var a=se,s=J,i=Ci(),l=bi();Promise.all(t.map(c=>Si(c))).then(c=>{a?.activate(),i();try{n([...e.map(r),...c])}catch(u){(s.f&Vt)===0&&Jr(u,s)}a?.deactivate(),ns()}).catch(c=>{l.error(c)})}function Ci(){var e=J,t=Y,n=oe,r=se;return function(){ot(e),Ge(t),un(n),r?.activate()}}function ns(){ot(null),Ge(null),un(null)}const br=new Set;let se=null,Jn=null,Sa=new Set,rr=[];function rs(){const e=rr.shift();rr.length>0&&queueMicrotask(rs),e()}let jt=[],fr=null,Or=!1,Qn=!1;var xn,on,gt,An,Tn,Nt,ln,Dt,pt,cn,Nn,Dn,Je,as,$n,Ir;const or=class or{constructor(){De(this,Je);_n(this,"current",new Map);De(this,xn,new Map);De(this,on,new Set);De(this,gt,0);De(this,An,null);De(this,Tn,!1);De(this,Nt,[]);De(this,ln,[]);De(this,Dt,[]);De(this,pt,[]);De(this,cn,[]);De(this,Nn,[]);De(this,Dn,[]);_n(this,"skipped_effects",new Set)}process(t){jt=[],Jn=null;for(const a of t)xt(this,Je,as).call(this,a);if(ee(this,Nt).length===0&&ee(this,gt)===0){xt(this,Je,Ir).call(this);var n=ee(this,Dt),r=ee(this,pt);qe(this,Dt,[]),qe(this,pt,[]),qe(this,cn,[]),Jn=se,se=null,ka(n),ka(r),se===null?se=this:br.delete(this),ee(this,An)?.resolve()}else xt(this,Je,$n).call(this,ee(this,Dt)),xt(this,Je,$n).call(this,ee(this,pt)),xt(this,Je,$n).call(this,ee(this,cn));for(const a of ee(this,Nt))sn(a);for(const a of ee(this,ln))sn(a);qe(this,Nt,[]),qe(this,ln,[])}capture(t,n){ee(this,xn).has(t)||ee(this,xn).set(t,n),this.current.set(t,t.v)}activate(){se=this}deactivate(){se=null,Jn=null;for(const t of Sa)if(Sa.delete(t),t(),se!==null)break}neuter(){qe(this,Tn,!0)}flush(){jt.length>0?os():xt(this,Je,Ir).call(this),se===this&&(ee(this,gt)===0&&br.delete(this),this.deactivate())}increment(){qe(this,gt,ee(this,gt)+1)}decrement(){if(qe(this,gt,ee(this,gt)-1),ee(this,gt)===0){for(const t of ee(this,Nn))Oe(t,Ye),dn(t);for(const t of ee(this,Dn))Oe(t,Ct),dn(t);qe(this,Dt,[]),qe(this,pt,[]),this.flush()}else this.deactivate()}add_callback(t){ee(this,on).add(t)}settled(){return(ee(this,An)??qe(this,An,Uo())).promise}static ensure(){if(se===null){const t=se=new or;br.add(se),Qn||or.enqueue(()=>{se===t&&t.flush()})}return se}static enqueue(t){rr.length===0&&queueMicrotask(rs),rr.unshift(t)}};xn=new WeakMap,on=new WeakMap,gt=new WeakMap,An=new WeakMap,Tn=new WeakMap,Nt=new WeakMap,ln=new WeakMap,Dt=new WeakMap,pt=new WeakMap,cn=new WeakMap,Nn=new WeakMap,Dn=new WeakMap,Je=new WeakSet,as=function(t){t.f^=Ee;for(var n=t.first;n!==null;){var r=n.f,a=(r&(ht|Ut))!==0,s=a&&(r&Ee)!==0,i=s||(r&Ze)!==0||this.skipped_effects.has(n);if(!i&&n.fn!==null){if(a)n.f^=Ee;else if((r&Yr)!==0)ee(this,pt).push(n);else if((r&Ee)===0)if((r&Xr)!==0){var l=n.b?.is_pending()?ee(this,ln):ee(this,Nt);l.push(n)}else gr(n)&&((n.f&vn)!==0&&ee(this,cn).push(n),sn(n));var c=n.first;if(c!==null){n=c;continue}}var u=n.parent;for(n=n.next;n===null&&u!==null;)n=u.next,u=u.parent}},$n=function(t){for(const n of t)((n.f&Ye)!==0?ee(this,Nn):ee(this,Dn)).push(n),Oe(n,Ee);t.length=0},Ir=function(){if(!ee(this,Tn))for(const t of ee(this,on))t();ee(this,on).clear()};let Sn=or;function ss(e){var t=Qn;Qn=!0;try{for(var n;;){if(yi(),jt.length===0&&(se?.flush(),jt.length===0))return fr=null,n;os()}}finally{Qn=t}}function os(){var e=an;Or=!0;try{var t=0;for(Pa(!0);jt.length>0;){var n=Sn.ensure();if(t++>1e3){var r,a;Pi()}n.process(jt),wt.clear()}}finally{Or=!1,Pa(e),fr=null}}function Pi(){try{Jo()}catch(e){Jr(e,fr)}}let At=null;function ka(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if((r.f&(Vt|Ze))===0&&gr(r)&&(At=[],sn(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?gs(r):r.fn=null),At?.length>0)){wt.clear();for(const a of At)sn(a);At=[]}}At=null}}function dn(e){for(var t=fr=e;t.parent!==null;){t=t.parent;var n=t.f;if(Or&&t===J&&(n&vn)!==0)return;if((n&(Ut|ht))!==0){if((n&Ee)===0)return;t.f^=Ee}}jt.push(t)}const wt=new Map;function Ft(e,t){var n={f:0,v:e,reactions:null,equals:Ya,rv:0,wv:0};return n}function O(e,t){const n=Ft(e);return ms(n),n}function Mr(e,t=!1,n=!0){var a;const r=Ft(e);return t||(r.equals=Ga),hn&&n&&oe!==null&&oe.l!==null&&((a=oe.l).s??(a.s=[])).push(r),r}function P(e,t,n=!1){Y!==null&&(!tt||(Y.f&ba)!==0)&&gn()&&(Y.f&(ze|vn|Xr|ba))!==0&&!ft?.includes(e)&&ti();let r=n?pe(t):t;return yt(e,r)}function yt(e,t){if(!e.equals(t)){var n=e.v;qt?wt.set(e,t):wt.set(e,n),e.v=t;var r=Sn.ensure();r.capture(e,n),(e.f&ze)!==0&&((e.f&Ye)!==0&&Qr(e),Oe(e,(e.f&We)===0?Ee:Ct)),e.wv=ys(),is(e,Ye),gn()&&J!==null&&(J.f&Ee)!==0&&(J.f&(ht|Ut))===0&&(Ke===null?Fi([e]):Ke.push(e))}return t}function Sr(e){P(e,e.v+1)}function is(e,t){var n=e.reactions;if(n!==null)for(var r=gn(),a=n.length,s=0;s<a;s++){var i=n[s],l=i.f;if(!(!r&&i===J)){var c=(l&Ye)===0;c&&Oe(i,t),(l&ze)!==0?is(i,Ct):c&&((l&vn)!==0&&At!==null&&At.push(i),dn(i))}}}function pe(e){if(typeof e!="object"||e===null||Ot in e)return e;const t=Wr(e);if(t!==Bo&&t!==jo)return e;var n=new Map,r=qr(e),a=O(0),s=Mt,i=l=>{if(Mt===s)return l();var c=Y,u=Mt;Ge(null),Aa(s);var d=l();return Ge(c),Aa(u),d};return r&&n.set("length",O(e.length)),new Proxy(e,{defineProperty(l,c,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&$o();var d=n.get(c);return d===void 0?d=i(()=>{var h=O(u.value);return n.set(c,h),h}):P(d,u.value,!0),!0},deleteProperty(l,c){var u=n.get(c);if(u===void 0){if(c in l){const d=i(()=>O(we));n.set(c,d),Sr(a)}}else P(u,we),Sr(a);return!0},get(l,c,u){if(c===Ot)return e;var d=n.get(c),h=c in l;if(d===void 0&&(!h||nn(l,c)?.writable)&&(d=i(()=>{var g=pe(h?l[c]:we),v=O(g);return v}),n.set(c,d)),d!==void 0){var f=o(d);return f===we?void 0:f}return Reflect.get(l,c,u)},getOwnPropertyDescriptor(l,c){var u=Reflect.getOwnPropertyDescriptor(l,c);if(u&&"value"in u){var d=n.get(c);d&&(u.value=o(d))}else if(u===void 0){var h=n.get(c),f=h?.v;if(h!==void 0&&f!==we)return{enumerable:!0,configurable:!0,value:f,writable:!0}}return u},has(l,c){if(c===Ot)return!0;var u=n.get(c),d=u!==void 0&&u.v!==we||Reflect.has(l,c);if(u!==void 0||J!==null&&(!d||nn(l,c)?.writable)){u===void 0&&(u=i(()=>{var f=d?pe(l[c]):we,g=O(f);return g}),n.set(c,u));var h=o(u);if(h===we)return!1}return d},set(l,c,u,d){var h=n.get(c),f=c in l;if(r&&c==="length")for(var g=u;g<h.v;g+=1){var v=n.get(g+"");v!==void 0?P(v,we):g in l&&(v=i(()=>O(we)),n.set(g+"",v))}if(h===void 0)(!f||nn(l,c)?.writable)&&(h=i(()=>O(void 0)),P(h,pe(u)),n.set(c,h));else{f=h.v!==we;var _=i(()=>pe(u));P(h,_)}var y=Reflect.getOwnPropertyDescriptor(l,c);if(y?.set&&y.set.call(d,u),!f){if(r&&typeof c=="string"){var S=n.get("length"),m=Number(c);Number.isInteger(m)&&m>=S.v&&P(S,m+1)}Sr(a)}return!0},ownKeys(l){o(a);var c=Reflect.ownKeys(l).filter(h=>{var f=n.get(h);return f===void 0||f.v!==we});for(var[u,d]of n)d.v!==we&&!(u in l)&&c.push(u);return c},setPrototypeOf(){ei()}})}var Ea,ls,cs,us;function xi(){if(Ea===void 0){Ea=window,ls=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;cs=nn(t,"firstChild").get,us=nn(t,"nextSibling").get,ya(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),ya(n)&&(n.__t=void 0)}}function Ht(e=""){return document.createTextNode(e)}function fn(e){return cs.call(e)}function vr(e){return us.call(e)}function b(e,t){return fn(e)}function D(e,t){{var n=fn(e);return n instanceof Comment&&n.data===""?vr(n):n}}function A(e,t=1,n=!1){let r=e;for(;t--;)r=vr(r);return r}function Ai(e){e.textContent=""}function $r(){return!1}let Ca=!1;function Ti(){Ca||(Ca=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function hr(e){var t=Y,n=J;Ge(null),ot(null);try{return e()}finally{Ge(t),ot(n)}}function Ni(e,t,n,r=n){e.addEventListener(t,()=>hr(n));const a=e.__on_r;a?e.__on_r=()=>{a(),r(!0)}:e.__on_r=()=>r(!0),Ti()}function ds(e){J===null&&Y===null&&Zo(),Y!==null&&(Y.f&We)!==0&&J===null&&Xo(),qt&&Go()}function Di(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function lt(e,t,n,r=!0){var a=J;a!==null&&(a.f&Ze)!==0&&(e|=Ze);var s={ctx:oe,deps:null,nodes_start:null,nodes_end:null,f:e|Ye,first:null,fn:t,last:null,next:null,parent:a,b:a&&a.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{sn(s),s.f|=Gr}catch(c){throw st(s),c}else t!==null&&dn(s);if(r){var i=s;if(n&&i.deps===null&&i.teardown===null&&i.nodes_start===null&&i.first===i.last&&(i.f&On)===0&&(i=i.first),i!==null&&(i.parent=a,a!==null&&Di(i,a),Y!==null&&(Y.f&ze)!==0&&(e&Ut)===0)){var l=Y;(l.effects??(l.effects=[])).push(i)}}return s}function Li(e){const t=lt(ir,null,!1);return Oe(t,Ee),t.teardown=e,t}function ke(e){ds();var t=J.f,n=!Y&&(t&ht)!==0&&(t&Gr)===0;if(n){var r=oe;(r.e??(r.e=[])).push(e)}else return fs(e)}function fs(e){return lt(Yr|qa,e,!1)}function Oi(e){return ds(),lt(ir|qa,e,!0)}function Ii(e){Sn.ensure();const t=lt(Ut|On,e,!0);return(n={})=>new Promise(r=>{n.outro?It(t,()=>{st(t),r(void 0)}):(st(t),r(void 0))})}function Mi(e){return lt(Yr,e,!1)}function Ri(e){return lt(Xr|On,e,!0)}function ea(e,t=0){return lt(ir|t,e,!0)}function ce(e,t=[],n=[]){Ei(t,n,r=>{lt(ir,()=>e(...r.map(o)),!0)})}function Mn(e,t=0){var n=lt(vn|t,e,!0);return n}function rt(e,t=!0){return lt(ht|On,e,!0,t)}function vs(e){var t=e.teardown;if(t!==null){const n=qt,r=Y;xa(!0),Ge(null);try{t.call(null)}finally{xa(n),Ge(r)}}}function hs(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const a=n.ac;a!==null&&hr(()=>{a.abort(Zr)});var r=n.next;(n.f&Ut)!==0?n.parent=null:st(n,t),n=r}}function Bi(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&ht)===0&&st(t),t=n}}function st(e,t=!0){var n=!1;(t||(e.f&Ho)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(ji(e.nodes_start,e.nodes_end),n=!0),hs(e,t&&!n),ar(e,0),Oe(e,Vt);var r=e.transitions;if(r!==null)for(const s of r)s.stop();vs(e);var a=e.parent;a!==null&&a.first!==null&&gs(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function ji(e,t){for(;e!==null;){var n=e===t?null:vr(e);e.remove(),e=n}}function gs(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function It(e,t){var n=[];ta(e,n,!0),ps(n,()=>{st(e),t&&t()})}function ps(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var a of e)a.out(r)}else t()}function ta(e,t,n){if((e.f&Ze)===0){if(e.f^=Ze,e.transitions!==null)for(const i of e.transitions)(i.is_global||n)&&t.push(i);for(var r=e.first;r!==null;){var a=r.next,s=(r.f&Ln)!==0||(r.f&ht)!==0;ta(r,t,s?n:!1),r=a}}}function rn(e){_s(e,!0)}function _s(e,t){if((e.f&Ze)!==0){e.f^=Ze,(e.f&Ee)===0&&(Oe(e,Ye),dn(e));for(var n=e.first;n!==null;){var r=n.next,a=(n.f&Ln)!==0||(n.f&ht)!==0;_s(n,a?t:!1),n=r}if(e.transitions!==null)for(const s of e.transitions)(s.is_global||t)&&s.in()}}let an=!1;function Pa(e){an=e}let qt=!1;function xa(e){qt=e}let Y=null,tt=!1;function Ge(e){Y=e}let J=null;function ot(e){J=e}let ft=null;function ms(e){Y!==null&&(ft===null?ft=[e]:ft.push(e))}let xe=null,Be=0,Ke=null;function Fi(e){Ke=e}let ws=1,kn=0,Mt=kn;function Aa(e){Mt=e}let _t=!1;function ys(){return++ws}function gr(e){var t=e.f;if((t&Ye)!==0)return!0;if((t&Ct)!==0){var n=e.deps,r=(t&We)!==0;if(n!==null){var a,s,i=(t&nr)!==0,l=r&&J!==null&&!_t,c=n.length;if((i||l)&&(J===null||(J.f&Vt)===0)){var u=e,d=u.parent;for(a=0;a<c;a++)s=n[a],(i||!s?.reactions?.includes(u))&&(s.reactions??(s.reactions=[])).push(u);i&&(u.f^=nr),l&&d!==null&&(d.f&We)===0&&(u.f^=We)}for(a=0;a<c;a++)if(s=n[a],gr(s)&&ts(s),s.wv>e.wv)return!0}(!r||J!==null&&!_t)&&Oe(e,Ee)}return!1}function bs(e,t,n=!0){var r=e.reactions;if(r!==null&&!ft?.includes(e))for(var a=0;a<r.length;a++){var s=r[a];(s.f&ze)!==0?bs(s,t,!1):t===s&&(n?Oe(s,Ye):(s.f&Ee)!==0&&Oe(s,Ct),dn(s))}}function Ss(e){var _;var t=xe,n=Be,r=Ke,a=Y,s=_t,i=ft,l=oe,c=tt,u=Mt,d=e.f;xe=null,Be=0,Ke=null,_t=(d&We)!==0&&(tt||!an||Y===null),Y=(d&(ht|Ut))===0?e:null,ft=null,un(e.ctx),tt=!1,Mt=++kn,e.ac!==null&&(hr(()=>{e.ac.abort(Zr)}),e.ac=null);try{e.f|=Dr;var h=e.fn,f=h(),g=e.deps;if(xe!==null){var v;if(ar(e,Be),g!==null&&Be>0)for(g.length=Be+xe.length,v=0;v<xe.length;v++)g[Be+v]=xe[v];else e.deps=g=xe;if(!_t||(d&ze)!==0&&e.reactions!==null)for(v=Be;v<g.length;v++)((_=g[v]).reactions??(_.reactions=[])).push(e)}else g!==null&&Be<g.length&&(ar(e,Be),g.length=Be);if(gn()&&Ke!==null&&!tt&&g!==null&&(e.f&(ze|Ct|Ye))===0)for(v=0;v<Ke.length;v++)bs(Ke[v],e);return a!==null&&a!==e&&(kn++,Ke!==null&&(r===null?r=Ke:r.push(...Ke))),(e.f&Lt)!==0&&(e.f^=Lt),f}catch(y){return mi(y)}finally{e.f^=Dr,xe=t,Be=n,Ke=r,Y=a,_t=s,ft=i,un(l),tt=c,Mt=u}}function zi(e,t){let n=t.reactions;if(n!==null){var r=Ro.call(n,e);if(r!==-1){var a=n.length-1;a===0?n=t.reactions=null:(n[r]=n[a],n.pop())}}n===null&&(t.f&ze)!==0&&(xe===null||!xe.includes(t))&&(Oe(t,Ct),(t.f&(We|nr))===0&&(t.f^=nr),es(t),ar(t,0))}function ar(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)zi(e,n[r])}function sn(e){var t=e.f;if((t&Vt)===0){Oe(e,Ee);var n=J,r=an;J=e,an=!0;try{(t&vn)!==0?Bi(e):hs(e),vs(e);var a=Ss(e);e.teardown=typeof a=="function"?a:null,e.wv=ws;var s;Ua&&hi&&(e.f&Ye)!==0&&e.deps}finally{an=r,J=n}}}async function ks(){await Promise.resolve(),ss()}function o(e){var t=e.f,n=(t&ze)!==0;if(Y!==null&&!tt){var r=J!==null&&(J.f&Vt)!==0;if(!r&&!ft?.includes(e)){var a=Y.deps;if((Y.f&Dr)!==0)e.rv<kn&&(e.rv=kn,xe===null&&a!==null&&a[Be]===e?Be++:xe===null?xe=[e]:(!_t||!xe.includes(e))&&xe.push(e));else{(Y.deps??(Y.deps=[])).push(e);var s=e.reactions;s===null?e.reactions=[Y]:s.includes(Y)||s.push(Y)}}}else if(n&&e.deps===null&&e.effects===null){var i=e,l=i.parent;l!==null&&(l.f&We)===0&&(i.f^=We)}if(qt){if(wt.has(e))return wt.get(e);if(n){i=e;var c=i.v;return((i.f&Ee)===0&&i.reactions!==null||Es(i))&&(c=Qr(i)),wt.set(i,c),c}}else n&&(i=e,gr(i)&&ts(i));if((e.f&Lt)!==0)throw e.v;return e.v}function Es(e){if(e.v===we)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(wt.has(t)||(t.f&ze)!==0&&Es(t))return!0;return!1}function zt(e){var t=tt;try{return tt=!0,e()}finally{tt=t}}const Ui=-7169;function Oe(e,t){e.f=e.f&Ui|t}function Vi(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Ot in e)Rr(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&Ot in n&&Rr(n)}}}function Rr(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{Rr(e[r],t)}catch{}const n=Wr(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=Va(n);for(let a in r){const s=r[a].get;if(s)try{s.call(e)}catch{}}}}}const Hi=["touchstart","touchmove"];function qi(e){return Hi.includes(e)}const Cs=new Set,Br=new Set;function Ki(e,t,n,r={}){function a(s){if(r.capture||wn.call(t,s),!s.cancelBubble)return hr(()=>n?.call(this,s))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?ur(()=>{t.addEventListener(e,a,r)}):t.addEventListener(e,a,r),a}function na(e,t,n,r,a){var s={capture:r,passive:a},i=Ki(e,t,n,s);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&Li(()=>{t.removeEventListener(e,i,s)})}function Ie(e){for(var t=0;t<e.length;t++)Cs.add(e[t]);for(var n of Br)n(e)}let Ta=null;function wn(e){var t=this,n=t.ownerDocument,r=e.type,a=e.composedPath?.()||[],s=a[0]||e.target;Ta=e;var i=0,l=Ta===e&&e.__root;if(l){var c=a.indexOf(l);if(c!==-1&&(t===document||t===window)){e.__root=t;return}var u=a.indexOf(t);if(u===-1)return;c<=u&&(i=c)}if(s=a[i]||e.target,s!==t){Nr(e,"currentTarget",{configurable:!0,get(){return s||n}});var d=Y,h=J;Ge(null),ot(null);try{for(var f,g=[];s!==null;){var v=s.assignedSlot||s.parentNode||s.host||null;try{var _=s["__"+r];if(_!=null&&(!s.disabled||e.target===s))if(qr(_)){var[y,...S]=_;y.apply(s,[e,...S])}else _.call(s,e)}catch(m){f?g.push(m):f=m}if(e.cancelBubble||v===t||v===null)break;s=v}if(f){for(let m of g)queueMicrotask(()=>{throw m});throw f}}finally{e.__root=t,delete e.currentTarget,Ge(d),ot(h)}}}function Ps(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function En(e,t){var n=J;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function M(e,t){var n=(t&ci)!==0,r=(t&ui)!==0,a,s=!e.startsWith("<!>");return()=>{a===void 0&&(a=Ps(s?e:"<!>"+e),n||(a=fn(a)));var i=r||ls?document.importNode(a,!0):a.cloneNode(!0);if(n){var l=fn(i),c=i.lastChild;En(l,c)}else En(i,i);return i}}function Wi(e,t,n="svg"){var r=!e.startsWith("<!>"),a=`<${n}>${r?e:"<!>"+e}</${n}>`,s;return()=>{if(!s){var i=Ps(a),l=fn(i);s=fn(l)}var c=s.cloneNode(!0);return En(c,c),c}}function Yi(e,t){return Wi(e,t,"svg")}function Ce(e=""){{var t=Ht(e+"");return En(t,t),t}}function U(){var e=document.createDocumentFragment(),t=document.createComment(""),n=Ht();return e.append(t,n),En(t,n),e}function p(e,t){e!==null&&e.before(t)}function Xu(){var e;return(e=window.__svelte??(window.__svelte={})).uid??(e.uid=1),`c${window.__svelte.uid++}`}function Cn(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function Gi(e,t){return Xi(e,t)}const $t=new Map;function Xi(e,{target:t,anchor:n,props:r={},events:a,context:s,intro:i=!0}){xi();var l=new Set,c=h=>{for(var f=0;f<h.length;f++){var g=h[f];if(!l.has(g)){l.add(g);var v=qi(g);t.addEventListener(g,wn,{passive:v});var _=$t.get(g);_===void 0?(document.addEventListener(g,wn,{passive:v}),$t.set(g,1)):$t.set(g,_+1)}}};c(Kr(Cs)),Br.add(c);var u=void 0,d=Ii(()=>{var h=n??t.appendChild(Ht());return rt(()=>{if(s){G({});var f=oe;f.c=s}a&&(r.$$events=a),u=e(h,r)||{},s&&X()}),()=>{for(var f of l){t.removeEventListener(f,wn);var g=$t.get(f);--g===0?(document.removeEventListener(f,wn),$t.delete(f)):$t.set(f,g)}Br.delete(c),h!==n&&h.parentNode?.removeChild(h)}});return Zi.set(u,d),u}let Zi=new WeakMap;const kr=0,Gn=1,Er=2;function xs(e,t,n,r,a){var s=e,i=gn(),l=oe,c=we,u,d,h,f=i?Ft(void 0):Mr(void 0,!1,!1),g=i?Ft(void 0):Mr(void 0,!1,!1),v=!1;function _(S,m){v=!0,m&&(ot(y),Ge(y),un(l));try{S===kr&&n&&(u?rn(u):u=rt(()=>n(s))),S===Gn&&r&&(d?rn(d):d=rt(()=>r(s,f))),S===Er&&a&&(h?rn(h):h=rt(()=>a(s,g))),S!==kr&&u&&It(u,()=>u=null),S!==Gn&&d&&It(d,()=>d=null),S!==Er&&h&&It(h,()=>h=null)}finally{m&&(un(null),Ge(null),ot(null),ss())}}var y=Mn(()=>{if(c!==(c=t())){if(Fo(c)){var S=c;v=!1,S.then(m=>{S===c&&(yt(f,m),_(Gn,!0))},m=>{if(S===c&&(yt(g,m),_(Er,!0),!a))throw g.v}),ur(()=>{v||_(kr,!0)})}else yt(f,c),_(Gn,!1);return()=>c=we}})}function R(e,t,n=!1){var r=e,a=null,s=null,i=we,l=n?Ln:0,c=!1;const u=(g,v=!0)=>{c=!0,f(v,g)};var d=null;function h(){d!==null&&(d.lastChild.remove(),r.before(d),d=null);var g=i?a:s,v=i?s:a;g&&rn(g),v&&It(v,()=>{i?s=null:a=null})}const f=(g,v)=>{if(i!==(i=g)){var _=$r(),y=r;if(_&&(d=document.createDocumentFragment(),d.append(y=Ht())),i?a??(a=v&&rt(()=>v(y))):s??(s=v&&rt(()=>v(y))),_){var S=se,m=i?a:s,w=i?s:a;m&&S.skipped_effects.delete(m),w&&S.skipped_effects.add(w),S.add_callback(h)}else h()}};Mn(()=>{c=!1,t(u),c||f(null,null)},l)}function ie(e,t){ea(()=>{var n=t();for(var r in n){var a=n[r];a?e.style.setProperty(r,a):e.style.removeProperty(r)}})}function Ji(e,t,n){for(var r=e.items,a=[],s=t.length,i=0;i<s;i++)ta(t[i].e,a,!0);var l=s>0&&a.length===0&&n!==null;if(l){var c=n.parentNode;Ai(c),c.append(n),r.clear(),et(e,t[0].prev,t[s-1].next)}ps(a,()=>{for(var u=0;u<s;u++){var d=t[u];l||(r.delete(d.k),et(e,d.prev,d.next)),st(d.e,!l)}})}function tn(e,t,n,r,a,s=null){var i=e,l={flags:t,items:new Map,first:null},c=(t&Wa)!==0;if(c){var u=e;i=u.appendChild(Ht())}var d=null,h=!1,f=new Map,g=dr(()=>{var S=n();return qr(S)?S:S==null?[]:Kr(S)}),v,_;function y(){Qi(_,v,l,f,i,a,t,r,n),s!==null&&(v.length===0?d?rn(d):d=rt(()=>s(i)):d!==null&&It(d,()=>{d=null}))}Mn(()=>{_??(_=J),v=o(g);var S=v.length;if(!(h&&S===0)){h=S===0;var m,w,x,E;if($r()){var k=new Set,C=se;for(w=0;w<S;w+=1){x=v[w],E=r(x,w);var I=l.items.get(E)??f.get(E);I?(t&(lr|cr))!==0&&As(I,x,w,t):(m=Ts(null,l,null,null,x,E,w,a,t,n,!0),f.set(E,m)),k.add(E)}for(const[Z,W]of l.items)k.has(Z)||C.skipped_effects.add(W.e);C.add_callback(y)}else y();o(g)}})}function Qi(e,t,n,r,a,s,i,l,c){var u=(i&ni)!==0,d=(i&(lr|cr))!==0,h=t.length,f=n.items,g=n.first,v=g,_,y=null,S,m=[],w=[],x,E,k,C;if(u)for(C=0;C<h;C+=1)x=t[C],E=l(x,C),k=f.get(E),k!==void 0&&(k.a?.measure(),(S??(S=new Set)).add(k));for(C=0;C<h;C+=1){if(x=t[C],E=l(x,C),k=f.get(E),k===void 0){var I=r.get(E);if(I!==void 0){r.delete(E),f.set(E,I);var Z=y?y.next:v;et(n,y,I),et(n,I,Z),Cr(I,Z,a),y=I}else{var W=v?v.e.nodes_start:a;y=Ts(W,n,y,y===null?n.first:y.next,x,E,C,s,i,c)}f.set(E,y),m=[],w=[],v=y.next;continue}if(d&&As(k,x,C,i),(k.e.f&Ze)!==0&&(rn(k.e),u&&(k.a?.unfix(),(S??(S=new Set)).delete(k))),k!==v){if(_!==void 0&&_.has(k)){if(m.length<w.length){var Q=w[0],V;y=Q.prev;var H=m[0],z=m[m.length-1];for(V=0;V<m.length;V+=1)Cr(m[V],Q,a);for(V=0;V<w.length;V+=1)_.delete(w[V]);et(n,H.prev,z.next),et(n,y,H),et(n,z,Q),v=Q,y=z,C-=1,m=[],w=[]}else _.delete(k),Cr(k,v,a),et(n,k.prev,k.next),et(n,k,y===null?n.first:y.next),et(n,y,k),y=k;continue}for(m=[],w=[];v!==null&&v.k!==E;)(v.e.f&Ze)===0&&(_??(_=new Set)).add(v),w.push(v),v=v.next;if(v===null)continue;k=v}m.push(k),y=k,v=k.next}if(v!==null||_!==void 0){for(var q=_===void 0?[]:Kr(_);v!==null;)(v.e.f&Ze)===0&&q.push(v),v=v.next;var de=q.length;if(de>0){var K=(i&Wa)!==0&&h===0?a:null;if(u){for(C=0;C<de;C+=1)q[C].a?.measure();for(C=0;C<de;C+=1)q[C].a?.fix()}Ji(n,q,K)}}u&&ur(()=>{if(S!==void 0)for(k of S)k.a?.apply()}),e.first=n.first&&n.first.e,e.last=y&&y.e;for(var B of r.values())st(B.e);r.clear()}function As(e,t,n,r){(r&lr)!==0&&yt(e.v,t),(r&cr)!==0?yt(e.i,n):e.i=n}function Ts(e,t,n,r,a,s,i,l,c,u,d){var h=(c&lr)!==0,f=(c&ri)===0,g=h?f?Mr(a,!1,!1):Ft(a):a,v=(c&cr)===0?i:Ft(i),_={i:v,v:g,k:s,a:null,e:null,prev:n,next:r};try{if(e===null){var y=document.createDocumentFragment();y.append(e=Ht())}return _.e=rt(()=>l(e,g,v,u),fi),_.e.prev=n&&n.e,_.e.next=r&&r.e,n===null?d||(t.first=_):(n.next=_,n.e.next=_.e),r!==null&&(r.prev=_,r.e.prev=_.e),_}finally{}}function Cr(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,a=t?t.e.nodes_start:n,s=e.e.nodes_start;s!==null&&s!==r;){var i=vr(s);a.before(s),s=i}}function et(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function Ae(e,t,...n){var r=e,a=at,s;Mn(()=>{a!==(a=t())&&(s&&(st(s),s=null),s=rt(()=>a(r,...n)))},Ln)}function Ns(e,t,n){var r=e,a,s,i=null,l=null;function c(){s&&(It(s),s=null),i&&(i.lastChild.remove(),r.before(i),i=null),s=l,l=null}Mn(()=>{if(a!==(a=t())){var u=$r();if(a){var d=r;u&&(i=document.createDocumentFragment(),i.append(d=Ht()),s&&se.skipped_effects.add(s)),l=rt(()=>n(d,a))}u?se.add_callback(c):c()}},Ln)}function Ds(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=Ds(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function $i(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=Ds(e))&&(r&&(r+=" "),r+=t);return r}function te(e){return typeof e=="object"?$i(e):e??""}const Na=[...` 	
\r\f \v\uFEFF`];function el(e,t,n){var r=e==null?"":""+e;if(t&&(r=r?r+" "+t:t),n){for(var a in n)if(n[a])r=r?r+" "+a:a;else if(r.length)for(var s=a.length,i=0;(i=r.indexOf(a,i))>=0;){var l=i+s;(i===0||Na.includes(r[i-1]))&&(l===r.length||Na.includes(r[l]))?r=(i===0?"":r.substring(0,i))+r.substring(l+1):i=l}}return r===""?null:r}function tl(e,t){return e==null?null:String(e)}function ne(e,t,n,r,a,s){var i=e.__className;if(i!==n||i===void 0){var l=el(n,r,s);l==null?e.removeAttribute("class"):e.className=l,e.__className=n}else if(s&&a!==s)for(var c in s){var u=!!s[c];(a==null||u!==!!a[c])&&e.classList.toggle(c,u)}return s}function Pn(e,t,n,r){var a=e.__style;if(a!==t){var s=tl(t);s==null?e.removeAttribute("style"):e.style.cssText=s,e.__style=t}return r}const nl=Symbol("is custom element"),rl=Symbol("is html");function Pr(e,t){var n=ra(e);n.value===(n.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function er(e,t){var n=ra(e);n.checked!==(n.checked=t??void 0)&&(e.checked=t)}function ye(e,t,n,r){var a=ra(e);a[t]!==(a[t]=n)&&(t==="loading"&&(e[Ko]=n),n==null?e.removeAttribute(t):typeof n!="string"&&al(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function ra(e){return e.__attributes??(e.__attributes={[nl]:e.nodeName.includes("-"),[rl]:e.namespaceURI===di})}var Da=new Map;function al(e){var t=e.getAttribute("is")||e.nodeName,n=Da.get(t);if(n)return n;Da.set(t,n=[]);for(var r,a=e,s=Element.prototype;s!==a;){r=Va(a);for(var i in r)r[i].set&&n.push(i);a=Wr(a)}return n}function sl(e,t,n=t){var r=new WeakSet;Ni(e,"input",async a=>{var s=a?e.defaultValue:e.value;if(s=xr(e)?Ar(s):s,n(s),se!==null&&r.add(se),await ks(),s!==(s=t())){var i=e.selectionStart,l=e.selectionEnd;e.value=s??"",l!==null&&(e.selectionStart=i,e.selectionEnd=Math.min(l,e.value.length))}}),zt(t)==null&&e.value&&(n(xr(e)?Ar(e.value):e.value),se!==null&&r.add(se)),ea(()=>{var a=t();if(e===document.activeElement){var s=Jn??se;if(r.has(s))return}xr(e)&&a===Ar(e.value)||e.type==="date"&&!a&&!e.value||a!==e.value&&(e.value=a??"")})}function xr(e){var t=e.type;return t==="number"||t==="range"}function Ar(e){return e===""?null:+e}function La(e,t){return e===t||e?.[Ot]===t}function Qe(e={},t,n,r){return Mi(()=>{var a,s;return ea(()=>{a=s,s=[],zt(()=>{e!==n(...s)&&(t(e,...s),a&&La(n(...a),e)&&t(null,...a))})}),()=>{ur(()=>{s&&La(n(...s),e)&&t(null,...s)})}}),e}function Rn(e=!1){const t=oe,n=t.l.u;if(!n)return;let r=()=>Vi(t.s);if(e){let a=0,s={};const i=In(()=>{let l=!1;const c=t.s;for(const u in c)c[u]!==s[u]&&(s[u]=c[u],l=!0);return l&&a++,a});r=()=>o(i)}n.b.length&&Oi(()=>{Oa(t,r),tr(n.b)}),ke(()=>{const a=zt(()=>n.m.map(zo));return()=>{for(const s of a)typeof s=="function"&&s()}}),n.a.length&&ke(()=>{Oa(t,r),tr(n.a)})}function Oa(e,t){if(e.l.s)for(const n of e.l.s)o(n);t()}let Xn=!1;function ol(e){var t=Xn;try{return Xn=!1,[e(),Xn]}finally{Xn=t}}function ae(e,t,n,r){var a=!hn||(n&si)!==0,s=(n&ii)!==0,i=(n&li)!==0,l=r,c=!0,u=()=>(c&&(c=!1,l=i?zt(r):r),l),d;if(s){var h=Ot in e||qo in e;d=nn(e,t)?.set??(h&&t in e?w=>e[t]=w:void 0)}var f,g=!1;s?[f,g]=ol(()=>e[t]):f=e[t],f===void 0&&r!==void 0&&(f=u(),d&&(a&&Qo(),d(f)));var v;if(a?v=()=>{var w=e[t];return w===void 0?u():(c=!0,w)}:v=()=>{var w=e[t];return w!==void 0&&(l=void 0),w===void 0?l:w},a&&(n&oi)===0)return v;if(d){var _=e.$$legacy;return(function(w,x){return arguments.length>0?((!a||!x||_||g)&&d(x?v():w),w):v()})}var y=!1,S=((n&ai)!==0?In:dr)(()=>(y=!1,v()));s&&o(S);var m=J;return(function(w,x){if(arguments.length>0){const E=x?o(S):a&&s?pe(w):w;return P(S,E),y=!0,l!==void 0&&(l=E),w}return qt&&y||(m.f&Vt)!==0?S.v:o(S)})}function he(e){oe===null&&Ka(),hn&&oe.l!==null?il(oe).m.push(e):ke(()=>{const t=zt(e);if(typeof t=="function")return t})}function il(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const ll="5";var za;typeof window<"u"&&((za=window.__svelte??(window.__svelte={})).v??(za.v=new Set)).add(ll);gi();const Ls={},cl=()=>({working:!1,swipingRatio:1,isSwiping:!1,duration:.35});function ul(e){Za(Ls,e)}function Bn(){const e=Xa(Ls);if(!e)throw new Error("No AnimationSettingsContext found");return e}function dl(e,t){G(t,!0);let n=pe(cl());ul(n);var r=U(),a=D(r);Ae(a,()=>t.children??at),p(e,r),X()}const Os={};function fl(e){Za(Os,e)}function Is(){const e=Xa(Os);if(!e)throw new Error("No AnimationSettingsContext found");return e}const vl=(e,t)=>{let n=null;return()=>{n&&clearTimeout(n),n=setTimeout(()=>{n=null,e()},t)}};async function aa(){if(navigator.storage&&navigator.storage.persist)try{await navigator.storage.persisted()||await navigator.storage.persist()}catch{}}function hl(e,t){G(t,!0);let n=O(!1);const r=()=>o(n),a=vl(()=>{P(n,!1)},100);fl({isScrolling:r,enable:()=>{P(n,!0),a()}});var i=U(),l=D(i);Ae(l,()=>t.children??at),p(e,i),X()}function gl(e,t){dl(e,{children:(n,r)=>{hl(n,{children:(a,s)=>{var i=U(),l=D(i);Ae(l,()=>t.children??at),p(a,i)},$$slots:{default:!0}})},$$slots:{default:!0}})}let Tt=O(""),en=O(null);function pl(e){P(Tt,""),setTimeout(()=>{P(Tt,e,!0)},16)}var _l=M('<div class="notification svelte-1a2zucn"> </div>'),ml=M("<div><!></div>");function wl(e,t){G(t,!0),ke(()=>{o(Tt),o(Tt)&&(o(en)?.getBoundingClientRect(),o(en)?.style.setProperty("opacity","1"));const s=setTimeout(()=>{o(en)?.style.removeProperty("opacity")},800),i=setTimeout(()=>{P(Tt,""),o(en)?.style.removeProperty("opacity")},1200);return()=>{clearTimeout(s),clearTimeout(i)}});var n=ml(),r=b(n);{var a=s=>{var i=_l(),l=b(i);Qe(i,c=>P(en,c),()=>o(en)),ce(()=>Cn(l,o(Tt))),p(s,i)};R(r,s=>{o(Tt)&&s(a)})}p(e,n),X()}var yl=M('<span class="vh svelte-14jjkpd"><!></span>');function it(e,t){var n=yl(),r=b(n);Ae(r,()=>t.children),p(e,n)}var bl=Yi('<svg class="svelte-gv09tg"><use></use></svg>');function le(e,t){let n=ae(t,"name",8,"");var r=bl(),a=b(r);ce(()=>ye(a,"href",`#icon-${n()??""}`)),p(e,r)}const Ms=(e,t)=>{if(!t)return e;if(t.type==="closed")return{type:"closed"};switch(e.type){case"opened":return t.type==="close"?{type:"closing"}:t.type==="swipe"?{type:"openSwiping"}:e;case"closed":return t.type==="open"?{type:"opening"}:t.type==="swipe"?{type:"closeSwiping"}:e;case"openSwiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"closeSwiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"opening":return t.type==="opened"?{type:"opened"}:e;default:return e}};let jr=O(pe(Ms({type:"closed"})));const Rs=e=>{P(jr,Ms(o(jr),e),!0)},Sl=()=>o(jr),kl=()=>{Rs({type:"open"})},El=()=>{Rs({type:"close"})},Cl=()=>{const e=Sl().type;e==="closed"?kl():e==="opened"&&El()};var Pl=M('<button class="buttonMenu svelte-hxzs42"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>');function Bs(e,t){G(t,!1),Rn();var n=Pl();n.__click=[Cl];var r=b(n);ie(r,()=>({"--size":"36px"})),le(r.lastChild,{name:"sidebarMenu"});var a=A(r,2);it(a,{children:(s,i)=>{var l=Ce("Menu");p(s,l)}}),p(e,n),X()}Ie(["click"]);var xl=(e,t)=>t.onChange?.(e.target?.value||""),Al=M('<input class="svelte-krv4jy"/>');function Fr(e,t){G(t,!0);let n=ae(t,"value",15,"");var r=Al();r.__input=[xl,t],ce(()=>ye(r,"placeholder",t.placeholder)),na("focus",r,function(...a){t.onFocus?.apply(this,a)}),sl(r,n),p(e,r),X()}Ie(["input"]);const T=pe({historyStack:[],pathname:window.location.pathname,search:window.location.search,historyLength:0});let js=O(pe(new URLSearchParams(T.search).get("feedOrder")||"newest"));const Fs=()=>o(js),Tl=e=>{P(js,e,!0);const t=new URLSearchParams(T.search);e==="newest"?t.delete("feedOrder"):t.set("feedOrder",e),vt(`${T.pathname}${t.size>0?`?${t.toString()}`:""}`)};let zs=O(pe(new URLSearchParams(T.search).get("search")||""));const Us=()=>o(zs),Nl=e=>{P(zs,e,!0);const t=new URLSearchParams(T.search);e===""?t.delete("search"):t.set("search",e),vt(`${T.pathname}${t.size>0?`?${t.toString()}`:""}`)},Zu=(e,t)=>{const n=new URLSearchParams(T.search);n.append(e,t),Hs(`${T.pathname}${n.size>0?`?${n.toString()}`:""}`)},Ju=e=>{const t=new URLSearchParams(T.search);t.delete(e),T.historyStack=T.historyStack.map(n=>{const r=new URLSearchParams(n.split("?")[1]);return r.delete(e),`${n.split("?")[0]}${t.size>0?`?${r.toString()}`:""}`}),Hs(`${T.pathname}${t.size>0?`?${t.toString()}`:""}`)},Vs=()=>new URLSearchParams(T.search).get("selectedTags")?.split(",")||[];let Zn=Vs();const Dl=()=>{const e=Vs();return e.join(",")===Zn.join(",")||(Zn=e),Zn},Ll=()=>{T.pathname=document.location.pathname,T.search=document.location.search,T.historyLength=Math.max(0,T.historyLength-=1)};window.addEventListener("popstate",Ll);const vt=e=>{const[t,n]=e.split("?");T.pathname=t,T.search=n?`?${n}`:"",T.historyLength+=1,T.historyStack.push(window.location.href),window.history.replaceState(null,"",e)},Hs=e=>{const[t,n]=e.split("?");T.pathname=t,T.search=n?`?${n}`:"",window.history.replaceState(null,"",e)},Ol=e=>{const{fallback:t="/",to:n}=e||{},[r,a]=t.split("?");if(T.historyLength<=0){const s=window.location.href,[i,l]=s.split("?");if(!l.includes("stackPages"))window.history.replaceState(null,"",t),T.historyLength=0,T.pathname=r,T.search=a?`?${a}`:"";else{const c=new URLSearchParams(l),u=c.get("stackPages")?.split(",")||[],d=u.slice(0,n&&u.includes(n)?u.indexOf(n)+1:-1);d.length===0?c.delete("stackPages"):c.set("stackPages",d.join(","));const h=`${i}${c.toString()?`?${c.toString()}`:""}`;window.history.replaceState(null,"",h),T.search=c.toString()?`?${c.toString()}`:""}}else if(T.historyStack.length>0){const i=new URLSearchParams(T.search).get("stackPages")?.split(",")||[];n&&i.includes(n)&&(T.historyStack=T.historyStack.slice(0,-(i.length-(i.indexOf(n)+1))+1),T.historyLength=T.historyStack.length);const l=T.historyStack.pop();if(l){const[c,u]=l.split("?");window.history.replaceState(null,"",l),T.historyLength=Math.max(0,T.historyLength-=1),T.pathname=c,T.search=u?`?${u}`:""}}},qs=()=>{const e=T.historyStack.findIndex(n=>n.includes("stackPages")),t=e===-1?T.historyStack.slice(0):T.historyStack.slice(0,e);if(t.length>0){const n=t.pop();if(n){const[r,a]=n.split("?");window.history.replaceState(null,"",n),T.historyLength=Math.max(0,t.length),T.pathname=r,T.search=a?`?${a}`:"",T.historyStack=t}}else{const n=T.search,r=new URLSearchParams(n);r.delete("stackPages"),window.history.replaceState(null,"",r.toString()?"/?"+r.toString():"/"),T.historyLength=0,T.pathname="/",T.search=r.toString()?"?"+r.toString():"",T.historyStack=[]}},dt=pe({value:""}),Il=pe({value:Us()}),Ml=(e,t)=>{let n=null;return()=>{n&&clearTimeout(n),n=setTimeout(()=>{e()},t)}},Ks=()=>window.matchMedia("(max-width: 768px)").matches;let Ws=O(pe(Ks()));const Rl=Ml(()=>{P(Ws,Ks(),!0)},16);window.addEventListener("resize",Rl);const pr=()=>o(Ws);function Ys(e,t){G(t,!0),he(()=>{const n=r=>{r.target&&t.dialog?.open&&t.dialogInner&&t.dialogInner!==r.target&&!t.dialogInner.contains(r.target)&&t.onClose()};return document.addEventListener("mousedown",n,{capture:!0}),()=>{document.removeEventListener("mousedown",n,{capture:!0})}}),X()}const sa=pe({count:0}),Bl=()=>sa.count>0,Gs=()=>{sa.count+=1},Xs=()=>{sa.count-=1};var jl=M('<dialog><div class="dialogInner svelte-1wekt4o"><!></div></dialog> <!>',1);function Fl(e,t){G(t,!0);let n=O(null),r=O(null),a=O(!1);const s=()=>{const f=setTimeout(()=>{t.onClosed()},150);o(n)?.addEventListener("transitionend",()=>{clearTimeout(f),t.onClosed()},{once:!0}),P(a,!1)};ke(()=>{t.startClose&&s()}),he(()=>{o(n)?.showModal(),o(n)?.getClientRects(),P(a,!0)}),he(()=>(Gs(),()=>{Xs()}));var i=jl(),l=D(i),c=b(l),u=b(c);Ae(u,()=>t.children),Qe(c,f=>P(r,f),()=>o(r)),Qe(l,f=>P(n,f),()=>o(n));var d=A(l,2);{var h=f=>{Ys(f,{get dialog(){return o(n)},get dialogInner(){return o(r)},onClose:s})};R(d,f=>{o(n)&&o(r)&&f(h)})}ce(()=>ne(l,1,te(["dialog",{shown:o(a)}]),"svelte-1wekt4o")),p(e,i),X()}var zl=M("<div><!></div>");function Ul(e,t){G(t,!0);let n=O(!1),r=O(null);const a=()=>{const u=setTimeout(()=>{t.onClosed()},150);o(r)?.addEventListener("transitionend",()=>{clearTimeout(u),t.onClosed()},{once:!0}),P(n,!1)},s=u=>{u.target!==o(r)&&!o(r)?.contains(u.target)&&a()},i=u=>{u.target!==o(r)&&!o(r)?.contains(u.target)&&a()};he(()=>{o(r)?.getClientRects(),P(n,!0);const u=setTimeout(()=>{document.addEventListener("focusin",s),document.addEventListener("click",i)},0);return()=>{clearTimeout(u),document.removeEventListener("focusin",s),document.removeEventListener("click",i)}}),ke(()=>{t.startClose&&a()});var l=zl(),c=b(l);Ae(c,()=>t.children),Qe(l,u=>P(r,u),()=>o(r)),ce(()=>ne(l,1,te(["menu",{top:t.positionTop,shown:o(n)}]),"svelte-vbw57a")),p(e,l),X()}const Vl=(e,t)=>{o(t)||P(t,!0)};var Hl=(e,t)=>t("newest"),ql=(e,t)=>t("oldest"),Kl=(e,t)=>t("AtoZ"),Wl=(e,t)=>t("ZtoA"),Yl=M("<div><button>Newest</button> <button>Oldest</button> <button>A to Z</button> <button>Z to A</button></div>"),Gl=M('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),Xl=M('<div class="orderMenu svelte-110m8z1"><button><!> <!></button> <!></div>');function Zl(e,t){G(t,!0);const n=(_,y=at)=>{var S=Yl(),m=b(S);m.__click=[Hl,l];var w=A(m,2);w.__click=[ql,l];var x=A(w,2);x.__click=[Kl,l];var E=A(x,2);E.__click=[Wl,l],ce(()=>{ne(S,1,te(["menu",{menuDialog:y()}]),"svelte-110m8z1"),ne(m,1,te(["menuButton",{menuButtonDialog:y(),current:o(i)==="newest"}]),"svelte-110m8z1"),ne(w,1,te(["menuButton",{menuButtonDialog:y(),current:o(i)==="oldest"}]),"svelte-110m8z1"),ne(x,1,te(["menuButton",{menuButtonDialog:y(),current:o(i)==="AtoZ"}]),"svelte-110m8z1"),ne(E,1,te(["menuButton",{menuButtonDialog:y(),current:o(i)==="ZtoA"}]),"svelte-110m8z1")}),p(_,S)};let r=O(!1),a=O(!1),s=L(pr),i=L(Fs);const l=_=>{P(a,!0),Tl(_)},c=()=>{P(r,!1),P(a,!1)};var u=Xl(),d=b(u);d.__click=[Vl,r],ne(d,1,te(["button","buttonMenu"]),"svelte-110m8z1");var h=b(d);le(h,{name:"filter"});var f=A(h,2);it(f,{children:(_,y)=>{var S=Ce("show feed order menu");p(_,S)}});var g=A(d,2);{var v=_=>{var y=U(),S=D(y);{var m=x=>{Fl(x,{get startClose(){return o(a)},onClosed:c,children:(E,k)=>{n(E,()=>!0)},$$slots:{default:!0}})},w=x=>{var E=Gl(),k=D(E);ie(k,()=>({"--right":"20px","--top":"60px"})),Ul(k.lastChild,{get startClose(){return o(a)},onClosed:c,children:(C,I)=>{n(C,()=>!1)},$$slots:{default:!0}}),p(x,E)};R(S,x=>{o(s)?x(m):x(w,!1)})}p(_,y)};R(g,_=>{o(r)&&_(v)})}p(e,u),X()}Ie(["click"]);const oa=pe({ref:null}),Pt=()=>new URLSearchParams(T.search).get("stackPages")?.split(",")||[];let bt=O(pe(Pt()));const $e=e=>{const t=Pt();if(!t.includes(e)){t.push(e);const n=new URLSearchParams(T.search);n.set("stackPages",t.join(",")),P(bt,t,!0),vt(`${T.pathname}?${n.toString()}`)}},Jl=e=>Pt().includes(e),Qu=()=>{P(bt,Pt(),!0)},Zs=()=>{const e=o(bt).slice(0,-1);P(bt,e,!0)},Ql=()=>{const e=Pt();return e.length>=o(bt).length?e.reduce((t,n)=>[...t,{page:n,shown:!0}],[]):o(bt).reduce((t,n,r)=>[...t,{page:n,shown:e.length===0?!1:r!==o(bt).length-1}],[])},zr=()=>{P(bt,[],!0)},Rt=e=>{const t=Pt();t.includes(e)||t.push(e);const n=new URLSearchParams(T.search);return n.set("stackPages",t.join(",")),`${T.pathname}?${n}`},Bt=e=>t=>{t.preventDefault(),$e(e)};var N=(e=>(e.NewNote="newNote",e.EditNote="editNote",e.Settings="settings",e.ImportData="importData",e.ExportData="exportData",e.ClearStore="clearStore",e.Account="account",e.Sync="sync",e.Start="start",e.Auth="auth",e.Signin="signin",e.Signup="signup",e.AccessKeys="accessKeys",e.ConfirmAccessKey="confirmAccessKey",e.Subscription="subscription",e.Exit="exit",e.NotFound="notFound",e.About="about",e))(N||{}),$l=M('<div class="header svelte-1o3mutr"><div class="top svelte-1o3mutr"><div class="menu svelte-1o3mutr"><a class="link svelte-1o3mutr"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Settings</span></a> <a class="link svelte-1o3mutr"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Sync</span></a></div> <div class="mobile svelte-1o3mutr"><!></div> <a class="buttonAdd svelte-1o3mutr"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Note</span></a></div> <div class="bottom svelte-1o3mutr"><div><div class="sidebarSearchWrapper"><!></div></div> <div class="right svelte-1o3mutr"><div class="filter svelte-1o3mutr"><div class="feedSearchWrapper svelte-1o3mutr"><!></div> <!></div></div></div></div>');function ec(e,t){G(t,!0);let n=L(()=>oa.ref);const r=()=>{o(n)&&o(n).scrollTo({top:0,behavior:"smooth"})},a=V=>{Nl(V)};var s=$l(),i=b(s),l=b(i),c=b(l),u=L(()=>Bt(N.Settings));c.__click=function(...V){o(u)?.apply(this,V)};var d=b(c);ie(d,()=>({"--rotate":"30deg","--size":"20px"})),le(d.lastChild,{name:"settings"});var h=A(c,2),f=L(()=>Bt(N.Sync));h.__click=function(...V){o(f)?.apply(this,V)};var g=b(h);ie(g,()=>({"--size":"20px"})),le(g.lastChild,{name:"sync"});var v=A(l,2),_=b(v);Bs(_,{});var y=A(v,2),S=L(()=>Bt(N.NewNote));y.__click=function(...V){o(S)?.apply(this,V)};var m=b(y);ie(m,()=>({"--size":"16px","--color":"#b0b0b0"})),le(m.lastChild,{name:"plus"});var w=A(i,2),x=b(w);ne(x,1,te(["left"]),"svelte-1o3mutr");var E=b(x),k=b(E);Fr(k,{placeholder:"Search tag",get value(){return dt.value},set value(V){dt.value=V}});var C=A(x,2),I=b(C),Z=b(I),W=b(Z);Fr(W,{onFocus:r,onChange:a,placeholder:"Search",get value(){return Il.value}});var Q=A(Z,2);Zl(Q,{}),ce((V,H,z)=>{ye(c,"href",V),ye(h,"href",H),ye(y,"href",z)},[()=>Rt(N.Settings),()=>Rt(N.Sync),()=>Rt(N.NewNote)]),p(e,s),X()}Ie(["click"]);const tc="modulepreload",nc=function(e){return"/"+e},Ia={},ge=function(t,n,r){let a=Promise.resolve();if(n&&n.length>0){let c=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=i?.nonce||i?.getAttribute("nonce");a=c(n.map(u=>{if(u=nc(u),u in Ia)return;Ia[u]=!0;const d=u.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${h}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":tc,d||(f.as="script"),f.crossOrigin="",f.href=u,l&&f.setAttribute("nonce",l),document.head.appendChild(f),d)return new Promise((g,v)=>{f.addEventListener("load",g),f.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return a.then(i=>{for(const l of i||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})};let Ur=!1;const Tr=()=>{document.activeElement instanceof HTMLInputElement&&document.activeElement.type==="text"||document.activeElement instanceof HTMLTextAreaElement?Ur=!0:Ur=!1},rc=()=>Ur;function ac(e,t){G(t,!0);let n=ae(t,"dialog",7);const r=Bn();let a=null;const s=()=>{t.dialogState==="swiping"&&t.onClose()};ke(()=>(t.dialogState==="swiping"&&(a=setTimeout(s,3e3)),()=>{a&&(clearTimeout(a),a=null)}));let i=null,l=null;const c=3,u=50,d=5,h=.6,f=.3,g=.35,v=.95;let _=0,y=0,S=0,m=!1,w=!1,x=0,E=0,k=0;const C=()=>{_=0,y=0,m=!1,w=!1,x=0,E=0,k=0,S=0,i=null,l!==null&&(cancelAnimationFrame(l),l=null),a&&(clearTimeout(a),a=null)},I=K=>{n()&&t.dialogState==="opened"&&(_=K.touches[0].clientX,y=K.touches[0].clientY,S=performance.now(),m=!0,w=!1)},Z=K=>t.dialogState==="opened"&&K>0||t.dialogState==="swiping"&&K>0,W=()=>{if(n()){n().style.setProperty("--transition-timing","0s"),t.onSwipe(),navigator.vibrate&&navigator.vibrate(10);try{const K=window.getComputedStyle(n()),B=K.transform||K.webkitTransform||"";if(E=n().offsetWidth,(t.dialogState==="swiping"||t.dialogState==="opened")&&(x=0),B&&B!=="none")try{x=new DOMMatrix(B).m41}catch{}w=!0}catch{C()}}},Q=()=>{if(!n())return;const B=Math.abs(x+k*E/100)/E;n().style.setProperty("--backdrop-bg",`rgba(0, 0, 0, ${.1*(1-B)})`)},V=()=>{if(l=null,!i||!m||!n()||rc()){C();return}const K=i.touches[0].clientX,B=i.touches[0].clientY,j=K-_,$=B-y,Ue=Math.abs(j)>Math.abs($),Te=Math.abs(j)>c;if(!w)if(Ue&&Te&&Z(j))try{W()}catch{C();return}else return;if(!Z(j))return;n().style.setProperty("--transition-timing","0s");let fe=x+j*v;fe=Math.max(0,Math.min(E,fe)),n().style.transform=`translate3d(${fe}px, 0, 0)`,r.swipingRatio=Math.abs(1-fe/E),k=(fe-x)/E*100,t.dialogState==="swiping"&&(a&&clearTimeout(a),a=setTimeout(s,3e3)),Q()},H=K=>{if(!m)return;i=K,l===null&&(l=requestAnimationFrame(V));const B=K.touches[0].clientX-_,j=K.touches[0].clientY-y,$=Math.abs(B)>Math.abs(j);w&&$&&K.preventDefault()},z=K=>{const B=Math.abs(K);if(B>=h)return d;if(B>=f){const j=(B-f)/(h-f);return u-j*(u-d)}else return u},q=(K,B)=>{if(Math.abs(K)>=h)return g*.5;const $=Math.abs(k)/100;return B?g*Math.max(.5,1-$):g*Math.max(.5,$)},de=K=>{if(l!==null&&(cancelAnimationFrame(l),l=null),!m||!n()){C();return}if(!w){C();return}let B=0;if(K?.changedTouches?.[0]){const fe=K.changedTouches[0].clientX,be=performance.now()-S;be>0&&(B=(fe-_)/be)}const j=z(B);let $=null;t.dialogState==="swiping"&&($=Math.abs(k)>j||B<-f?"close":"open");const Ue=t.dialogState==="swiping"&&$==="close",Te=q(B,Ue);r.duration=Te-.02,n().style.setProperty("--transition-timing",`${Te}s`),n().offsetWidth,n().style.transform="",$==="open"?t.onOpen():$==="close"&&t.onClose(),n()?.style.removeProperty("--backdrop-bg"),C()};he(()=>(n().addEventListener("touchstart",I,{passive:!0}),n().addEventListener("touchmove",H,{passive:!1}),n().addEventListener("touchend",de,{passive:!0}),n().addEventListener("touchcancel",de,{passive:!0}),()=>{n().removeEventListener("touchstart",I),n().removeEventListener("touchmove",H),n().removeEventListener("touchend",de),n().removeEventListener("touchcancel",de),l!==null&&cancelAnimationFrame(l)})),X()}var sc=(e,t)=>{t.onStartClose()},oc=M('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),ic=M('<dialog><div class="dialogInner svelte-14atrge"><div class="header svelte-14atrge"><div><!></div></div> <!></div></dialog> <!>',1);function lc(e,t){G(t,!0);let n=350;const{isScrolling:r,enable:a}=Is();let s=O(null),i=O(null);const l=Bn(),c=k=>{k.preventDefault(),t.onStartClose()};he(()=>(o(s)?.addEventListener("close",t.onClosed),o(s)?.addEventListener("cancel",c),()=>{o(s)?.removeEventListener("close",t.onClosed),o(s)?.removeEventListener("cancel",c)}));const u=()=>{o(s)?.style.removeProperty("--transition-timing"),o(s)?.style.removeProperty("transform"),o(s)?.style.removeProperty("--backdrop-bg")},d=()=>{a()},h=L(r);ke(()=>{if(t.dialogState,!!o(s))switch(t.dialogState){case"opening":{o(s).open||o(s).showModal(),o(s).getBoundingClientRect();const k=setTimeout(()=>{u()},n+1),C=()=>{clearTimeout(k),u()};return o(s)?.addEventListener("transitionend",C,{once:!0}),t.onOpened(),()=>{o(s)?.removeEventListener("transitionend",C)}}case"closing":{const k=setTimeout(()=>{t.dialogState==="closing"&&t.onClosed()},n+1),C=()=>{clearTimeout(k),t.onClosed()};return o(s)?.addEventListener("transitionend",C,{once:!0}),()=>{o(s)?.removeEventListener("transitionend",C)}}case"opened":u()}});var f=ic(),g=D(f),v=b(g),_=b(v),y=b(_),S=b(y);{var m=k=>{var C=oc();ne(C,1,te(["navigateButton","buttonBack"]),"svelte-14atrge"),C.__click=[sc,t];var I=b(C);ie(I,()=>({"--size":"36px"})),le(I.lastChild,{name:"back"});var Z=A(I,2);it(Z,{children:(W,Q)=>{var V=Ce("back");p(W,V)}}),p(k,C)};R(S,k=>{(!(t.blocked||t.hidden)||t.blocked&&t.unBlockedBack)&&k(m)})}var w=A(_,2);Ae(w,()=>t.children),Qe(v,k=>P(i,k),()=>o(i)),Qe(g,k=>P(s,k),()=>o(s));var x=A(g,2);{var E=k=>{ac(k,{get onClose(){return t.onStartClose},get onOpen(){return t.onStartOpen},get onSwipe(){return t.onSwipe},get dialogState(){return t.dialogState},get dialog(){return o(s)}})};R(x,k=>{(!o(h)&&t.dialogState==="opened"||t.dialogState==="swiping")&&(!t.blocked||t.unBlockedBack)&&k(E)})}ce(()=>ne(g,1,te([{open:t.dialogState==="opened",hidden:t.hidden,isAnimationOn:l.working&&(!l.isSwiping||!t.hidden)},{hidden:t.hidden}]),"svelte-14atrge")),na("scroll",v,d),p(e,f),X()}Ie(["click"]);const Ma=(e,t)=>{if(!t)return e;if(t.type==="closed")return{type:"closed"};switch(e.type){case"opened":return t.type==="close"?{type:"closing"}:t.type==="swipe"?{type:"swiping"}:e;case"closed":return t.type==="open"?{type:"opening"}:e;case"swiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"opening":return t.type==="opened"?{type:"opened"}:e;default:return e}};function cc(e,t){G(t,!0);let n=ae(t,"blocked",3,!1),r=ae(t,"hiddenDialog",3,!1),a=ae(t,"unBlockedBack",3,!1),s=ae(t,"onStartClose",3,()=>{}),i=ae(t,"onClose",3,()=>{});const l=Bn();let c=O(pe(Ma({type:"closed"})));const u=w=>{P(c,Ma(o(c),w),!0)},d=()=>{n()&&!a()||(s()(),u({type:"close"}))},h=()=>{u({type:"open"})},f=()=>{u({type:"opened"}),l.duration=.2},g=()=>{i()(),u({type:"closed"}),l.swipingRatio=1,l.duration=.2},v=()=>{u({type:"swipe"})};ke(()=>{o(c).type==="swiping"?l.isSwiping=!0:l.isSwiping=!1,o(c).type==="closed"&&t.shownDialog?h():o(c).type==="opened"&&!t.shownDialog&&d()});var _={handleComputeState:u},y=U(),S=D(y);{var m=w=>{lc(w,{onSwipe:v,onOpened:f,onClosed:g,onStartClose:d,onStartOpen:h,get dialogState(){return o(c).type},get hidden(){return r()},get blocked(){return n()},get unBlockedBack(){return a()},children:(x,E)=>{var k=U(),C=D(k);Ae(C,()=>t.children),p(x,k)},$$slots:{default:!0}})};R(S,w=>{o(c).type!=="closed"&&w(m)})}return p(e,y),X(_)}const uc=({getDialog:e,onOpen:t,onStartClose:n,onClose:r})=>{const a=i=>{i.preventDefault(),n()},s=()=>{r?.()};he(()=>{const i=e();return i?.addEventListener("cancel",a),i?.addEventListener("close",s),()=>{i?.removeEventListener("cancel",a),i?.removeEventListener("close",s)}}),he(()=>{const i=e();i?.showModal(),i?.getBoundingClientRect(),t()})};let Js=O(200);const dc=e=>{P(Js,e,!0)},Qs=()=>o(Js);var fc=(e,t)=>{t.onStartBack()},vc=M('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),hc=(e,t)=>{t.onStartClose()},gc=M('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),pc=M('<dialog><div class="dialogInner svelte-rm8syc"><div class="header svelte-rm8syc"><div><!></div> <div><!></div></div> <!></div></dialog> <!>',1);function _c(e,t){G(t,!0);let n=ae(t,"blockedDialog",3,!1),r=ae(t,"hiddenDialog",3,!1),a=ae(t,"isDesktopAnimationOff",3,!1),s=O(null),i=O(null);uc({getDialog:()=>o(s),onOpen:t.onOpen,onStartClose:t.onStartClose,onClose:t.onClose});const l=Bn();ke(()=>{t.stateDialog==="closing"&&(l.working?o(s)?.addEventListener("transitionend",()=>{o(s)?.close()},{once:!0}):o(s)?.close())});const c=L(Qs);var u=pc(),d=D(u),h=b(d),f=b(h),g=b(f),v=b(g);{var _=E=>{var k=vc();ne(k,1,te(["navigateButton","buttonBack"]),"svelte-rm8syc"),k.__click=[fc,t];var C=b(k);ie(C,()=>({"--size":"28px"})),le(C.lastChild,{name:"back"});var I=A(C,2);it(I,{children:(Z,W)=>{var Q=Ce("back");p(Z,Q)}}),p(E,k)};R(v,E=>{(!(n()||r())||n()&&t.unBlockedBack)&&t.onStartBack&&E(_)})}var y=A(g,2),S=b(y);{var m=E=>{var k=gc();ne(k,1,te(["navigateButton","buttonClose"]),"svelte-rm8syc"),k.__click=[hc,t];var C=b(k);ie(C,()=>({"--size":"28px"})),le(C.lastChild,{name:"close"});var I=A(C,2);it(I,{children:(Z,W)=>{var Q=Ce("close");p(Z,Q)}}),p(E,k)};R(S,E=>{n()||r()||E(m)})}var w=A(f,2);Ae(w,()=>t.children),Qe(h,E=>P(i,E),()=>o(i)),Qe(d,E=>P(s,E),()=>o(s));var x=A(d,2);Ys(x,{get dialog(){return o(s)},get dialogInner(){return o(i)},get onClose(){return t.onStartClose}}),ce(()=>{Pn(d,`height: ${o(c)+74}px`),ne(d,1,te([{open:t.stateDialog==="open",isAnimationOn:l.working,isDesktopAnimationOff:a(),hiddenDialog:r()}]),"svelte-rm8syc")}),p(e,u),X()}Ie(["click"]);const mc=({onStartClose:e,onClose:t})=>{let n=O("close");return{get state(){return o(n)},set state(i){P(n,i,!0)},handleStartClose:(i=!1)=>{i||(P(n,"closing"),e?.())},handleOpen:()=>{P(n,"open")},handleClose:()=>{P(n,"close"),t?.()}}};function wc(e,t){G(t,!0);let n=ae(t,"blockedDialog",3,!1),r=ae(t,"hiddenDialog",3,!1),a=ae(t,"onStartClose",3,()=>{}),s=ae(t,"onClose",3,()=>{}),i=mc({onStartClose:a(),onClose:s()});ke(()=>{i.state==="close"&&t.shownDialog?i.state="opening":i.state==="open"&&!t.shownDialog&&i.handleStartClose(n())});const l=h=>{h.key==="Escape"&&(document.activeElement instanceof HTMLInputElement&&document.activeElement.type==="text"||document.activeElement instanceof HTMLTextAreaElement||n())&&(h.preventDefault(),h.stopPropagation())};he(()=>(document.addEventListener("keydown",l),()=>{document.removeEventListener("keydown",l)}));var c=U(),u=D(c);{var d=h=>{_c(h,{get stateDialog(){return i.state},get blockedDialog(){return n()},get unBlockedBack(){return t.unBlockedBack},get hiddenDialog(){return r()},get onOpen(){return i.handleOpen},get onStartBack(){return t.onStartBack},onStartClose:()=>{i.handleStartClose(n())},get onClose(){return i.handleClose},children:(f,g)=>{var v=U(),_=D(v);Ae(_,()=>t.children),p(f,v)},$$slots:{default:!0}})};R(u,h=>{i.state!=="close"&&h(d)})}p(e,c),X()}function yc(e,t){G(t,!0);let n=ae(t,"blockedDialog",3,!1),r=ae(t,"hiddenDialog",3,!1),a=ae(t,"isLastDialog",3,!1),s=ae(t,"onStartClose",3,()=>{}),i=ae(t,"onClose",3,()=>{});const l=L(()=>a()?void 0:t.onStartBack);he(()=>(Gs(),()=>{Xs()}));var c=U(),u=D(c);{var d=f=>{cc(f,{get shownDialog(){return t.shownDialog},get blocked(){return n()},get unBlockedBack(){return t.unBlockedBack},get hiddenDialog(){return r()},get children(){return t.children},get onStartClose(){return t.onStartBack},get onClose(){return i()}})},h=f=>{wc(f,{get shownDialog(){return t.shownDialog},get blockedDialog(){return n()},get unBlockedBack(){return t.unBlockedBack},get hiddenDialog(){return r()},get children(){return t.children},get onStartBack(){return o(l)},get onStartClose(){return s()},get onClose(){return i()}})};R(u,f=>{pr()?f(d):f(h,!1)})}p(e,c),X()}let $s=O(!1),ia=O(!1);const yn=e=>{P($s,e,!0),e||P(ia,!1)},bc=()=>o($s),Ra=e=>{P(ia,e,!0)},Sc=()=>o(ia);function Ba(e,t){G(t,!0);let n=ae(t,"blocked",3,!1),r=ae(t,"isLastDialog",3,!1),a=ae(t,"onBack",3,()=>{});const s=L(()=>n()||t.hidden||bc()),i=L(()=>Sc()&&!r());yc(e,{get shownDialog(){return t.shown},get blockedDialog(){return o(s)},get unBlockedBack(){return o(i)},get hiddenDialog(){return t.hidden},get isLastDialog(){return r()},onStartBack:()=>{(!o(s)||o(s)&&o(i))&&t.shown&&(Ol(),a()())},onStartClose:()=>{(!o(s)||o(s)&&o(i))&&t.shown&&qs()},onClose:()=>{Zs()},children:(d,h)=>{var f=U(),g=D(f);Ae(g,()=>t.children),p(d,f)},$$slots:{default:!0}}),X()}let Vr=O(pe({showFavicon:!0}));const eo=()=>o(Vr).showFavicon,la=e=>{e&&P(Vr,{...o(Vr),...e},!0)};let F=O({initedDB:!1});const kc=()=>{P(F,{initedDB:!0})},nt=async e=>{P(F,{...o(F),account:e})},jn=async e=>{const t=[],n=new Map;e.forEach(r=>{t.push(r),n.set(r.id,r)}),P(F,{...o(F),notes:t,mapNotes:n,getNotes:()=>t,getMapNotes:()=>n})},_r=()=>o(F).notes&&o(F).mapNotes,to=()=>o(F).account,Ec=()=>o(F).getNotes||(()=>o(F).notes||[]),$u=()=>o(F).getMapNotes||(()=>o(F).mapNotes||new Map),no=e=>{if(!o(F).notes||!o(F).mapNotes)throw new Error("Notes appState is not initialized");const t={...e};o(F).notes.push(t),o(F).mapNotes.set(t.id,t),P(F,{...o(F),getNotes:()=>o(F).notes,getMapNotes:()=>o(F).mapNotes})},ro=async e=>{if(!o(F).notes||!o(F).mapNotes)throw new Error("Notes appState is not initialized");o(F).notes.forEach((t,n)=>{t?.id===e.id&&o(F).notes&&(o(F).notes[n]=e)}),o(F).mapNotes.set(e.id,e),P(F,{...o(F),getNotes:()=>o(F).notes,getMapNotes:()=>o(F).mapNotes})},Cc=async e=>{if(!o(F).notes||!o(F).mapNotes)throw new Error("Notes appState is not initialized");o(F).mapNotes.delete(e);const t=o(F).notes.findIndex(n=>n?.id===e);t!==-1&&(o(F).notes[t]=void 0),P(F,{...o(F),getNotes:()=>o(F).notes,getMapNotes:()=>o(F).mapNotes})},ao=async()=>{const e=[],t=new Map;P(F,{...o(F),notes:e,mapNotes:t,getNotes:()=>e,getMapNotes:()=>t})},so=async()=>{P(F,{initedDB:!0,account:void 0,notes:void 0,mapNotes:void 0,getNotes:()=>{},getMapNotes:()=>{}})};let oo=O({});const Pc=()=>o(oo),xc=e=>{P(oo,e)};var Ac=M('<button> <svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></button>');function mn(e,t){let n=L(()=>t.style==="selected"?"45deg":"0deg");var r=Ac();r.__click=function(...i){t.onClick?.apply(this,i)};var a=b(r),s=A(a);ie(s,()=>({"--size":t.size==="small"?"10px":"12px","--rotate":o(n)})),le(s.lastChild,{name:"plus"}),ce(()=>{ye(r,"type",t.type),ne(r,1,te([{selectedTag:t.style==="selected",small:t.size==="small"}]),"svelte-15zw27r"),Cn(a,`${t.title??""} `)}),p(e,r)}Ie(["click"]);var Tc=M("<div></div>"),Nc=M('<div class="sidebarFixed svelte-rnyoa6"><div class="nav svelte-rnyoa6"><!> <div class="menu svelte-rnyoa6"><a class="link svelte-rnyoa6"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a> <a class="link svelte-rnyoa6"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a></div></div> <div class="searchWrapper svelte-rnyoa6"><!></div> <!></div> <div></div>',1),Dc=M("<div></div>"),Lc=M('<div class="sidebar svelte-rnyoa6"><div class="sidebarFixed svelte-rnyoa6"><!></div> <div class="tags svelte-rnyoa6"><!> <!></div></div>');function Oc(e,t){G(t,!0);let n=O(null),r=L(()=>new URLSearchParams(T.search).get("selectedTags")?.split(",")||[]),a=null;function s(){return a||(a=ge(()=>import("./MobileSidebar-EPz50m_5.js"),__vite__mapDeps([0,1]))),a}const i=S=>{const m=new URLSearchParams(T.search);m.set("selectedTags",[...o(r),S].join(",")),vt(`${T.pathname}${m.size>0?`?${m.toString()}`:""}`),dt.value=""},l=S=>{const m=new URLSearchParams(T.search),w=o(r).filter(x=>x!==S);w.length===0?m.delete("selectedTags"):m.set("selectedTags",w.join(",")),vt(`${T.pathname}${m.size>0?`?${m.toString()}`:""}`)};let c=L(Pc),u=L(()=>_r()?Object.values(o(c)).filter(S=>!o(r).some(m=>S.name===m)&&S.name!=="inbox").sort((S,m)=>S.name.localeCompare(m.name)):[]),d=L(()=>o(c).inbox&&o(r).includes("inbox")===!1?o(c).inbox:null),h=L(pr);he(()=>{o(h)&&s()});let f=L(()=>Pt().length>0||Bl());var g=U(),v=D(g);{var _=S=>{var m=U(),w=D(m);xs(w,s,null,(x,E)=>{const k=L(()=>o(E).default);var C=U(),I=D(C);Ns(I,()=>o(k),(Z,W)=>{W(Z,{get blocked(){return o(f)},children:(Q,V)=>{var H=Nc(),z=D(H),q=b(z),de=b(q);Bs(de,{});var K=A(de,2),B=b(K),j=L(()=>Bt(N.Settings));B.__click=function(...ve){o(j)?.apply(this,ve)};var $=b(B);ie($,()=>({"--size":"24px"})),le($.lastChild,{name:"settings"});var Ue=A($,2);it(Ue,{children:(ve,Ne)=>{var me=Ce("Settings");p(ve,me)}});var Te=A(B,2),fe=L(()=>Bt(N.Sync));Te.__click=function(...ve){o(fe)?.apply(this,ve)};var _e=b(Te);ie(_e,()=>({"--size":"24px"})),le(_e.lastChild,{name:"sync"});var be=A(_e,2);it(be,{children:(ve,Ne)=>{var me=Ce("Sync");p(ve,me)}});var Ve=A(q,2),Me=b(Ve);Fr(Me,{placeholder:"Search tag",get value(){return dt.value},set value(ve){dt.value=ve}});var He=A(Ve,2);{var Pe=ve=>{var Ne=Tc();ne(Ne,1,te(["tags","selectedTags"]),"svelte-rnyoa6"),tn(Ne,20,()=>o(r),me=>me,(me,ut)=>{mn(me,{get title(){return ut},onClick:()=>l(ut),style:"selected"})}),Qe(Ne,me=>P(n,me),()=>o(n)),p(ve,Ne)};R(He,ve=>{o(r).length>0&&ve(Pe)})}var Re=A(z,2);ne(Re,1,te(["tags","tagsWrapper"]),"svelte-rnyoa6"),tn(Re,21,()=>o(u),ve=>ve.name,(ve,Ne)=>{var me=U(),ut=D(me);{var zn=pn=>{mn(pn,{get title(){return o(Ne).name},onClick:()=>i(o(Ne).name)})};R(ut,pn=>{(dt.value===""||o(Ne).name.toLowerCase().indexOf(dt.value.toLowerCase())!==-1)&&pn(zn)})}p(ve,me)}),ce((ve,Ne)=>{ye(B,"href",ve),ye(Te,"href",Ne)},[()=>Rt(N.Settings),()=>Rt(N.Sync)]),p(Q,H)},$$slots:{default:!0}})}),p(x,C)}),p(S,m)},y=S=>{var m=Lc(),w=b(m),x=b(w);{var E=W=>{var Q=Dc();ne(Q,1,te(["tags","selectedTags"]),"svelte-rnyoa6"),tn(Q,20,()=>o(r),V=>V,(V,H)=>{mn(V,{get title(){return H},onClick:()=>l(H),style:"selected"})}),p(W,Q)};R(x,W=>{o(r).length>0&&W(E)})}var k=A(w,2),C=b(k);{var I=W=>{mn(W,{get title(){return o(d).name},onClick:()=>i(o(d).name)})};R(C,W=>{o(d)&&W(I)})}var Z=A(C,2);tn(Z,17,()=>o(u),W=>W.name,(W,Q)=>{var V=U(),H=D(V);{var z=q=>{mn(q,{get title(){return o(Q).name},onClick:()=>i(o(Q).name)})};R(H,q=>{(dt.value===""||o(Q).name.toLowerCase().indexOf(dt.value.toLowerCase())!==-1)&&q(z)})}p(W,V)}),p(S,m)};R(v,S=>{o(h)?S(_):S(y,!1)})}p(e,g),X()}Ie(["click"]);const Ic=(e,t,n)=>{navigator.clipboard.writeText(t.note.url),pl("Link copied to clipboard"),P(n,!1)},Mc=(e,t)=>{P(t,!0)},Rc=(e,t)=>{P(t,!1)},Bc=(e,t,n)=>{e.preventDefault(),$e(`${N.EditNote}?id=${t.note.id}`),P(n,!1)};var jc=M('<div class="iconPlaceholder svelte-14kyp2q"></div>'),Fc=M('<img loading="lazy" class="noteIcon" height="16" width="16" alt=""/>'),zc=M('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),Uc=M('<div class="noteIconWrapper svelte-14kyp2q"><!></div>'),Vc=(e,t)=>{P(t,!1)},Hc=M('<div><button class="button svelte-14kyp2q"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button> <a target="_blank" rel="noopener noreferrer" class="button openLink svelte-14kyp2q"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a></div>'),qc=M('<li class="record svelte-14kyp2q"><!> <a class="noteLink svelte-14kyp2q" target="_blank" rel="noopener noreferrer"> </a> <!></li>');function Kc(e,t){G(t,!0);let n=O(!1),r=O(!1),a=L(eo);const s=g=>{try{return`https://icons.duckduckgo.com/ip3/${new URL(g).host}.ico`}catch{return""}};var i=qc();i.__focusin=[Mc,n],i.__focusout=[Rc,n];var l=b(i);{var c=g=>{var v=Uc(),_=b(v);{var y=m=>{var w=U(),x=D(w);{var E=C=>{var I=jc();p(C,I)},k=C=>{var I=Fc();ce(Z=>ye(I,"src",Z),[()=>s(t.note.url)]),na("error",I,()=>{P(r,!0)}),p(C,I)};R(x,C=>{o(r)?C(E):C(k,!1)})}p(m,w)},S=m=>{var w=zc(),x=D(w);ie(x,()=>({"--size":"16px"})),le(x.lastChild,{name:"note"}),p(m,w)};R(_,m=>{t.note.url?m(y):m(S,!1)})}p(g,v)};R(l,g=>{o(a)&&g(c)})}var u=A(l,2);u.__click=[Bc,t,n];var d=b(u),h=A(u,2);{var f=g=>{var v=Hc(),_=b(v);_.__click=[Ic,t,n];var y=b(_);ie(y,()=>({"--size":"20px"})),le(y.lastChild,{name:"copy"});var S=A(y,2);it(S,{children:(E,k)=>{var C=Ce("copy link");p(E,C)}});var m=A(_,2);m.__click=[Vc,n];var w=b(m);ie(w,()=>({"--size":"18px"})),le(w.lastChild,{name:"open"});var x=A(w,2);it(x,{children:(E,k)=>{var C=Ce();ce(()=>Cn(C,t.note.title)),p(E,C)}}),ce(()=>{ne(v,1,te(["noteMenuWrapper",{noteMenuWrapperActive:o(n)}]),"svelte-14kyp2q"),ye(_,"tabindex",t.focusHidden?-1:0),ye(m,"href",t.note.url),ye(m,"tabindex",t.focusHidden?-1:0)}),p(g,v)};R(h,g=>{t.note.url&&g(f)})}ce(g=>{ye(u,"tabindex",t.focusHidden?-1:0),ye(u,"href",g),Cn(d,t.note.title)},[()=>`/?stackPages=${encodeURIComponent(`${N.EditNote}?id=${t.note.id}`)}`]),p(e,i),X()}Ie(["focusin","focusout","click"]);var Wc=M('<div><!> <div class="loader svelte-1wuuvr"></div></div>');function io(e,t){G(t,!0);let n=O(!1);he(()=>{const s=setTimeout(()=>{P(n,!0)},200);return()=>{clearTimeout(s)}});var r=Wc(),a=b(r);Ae(a,()=>t.children??at),ce(()=>ne(r,1,te(["block",{shown:o(n)}]),"svelte-1wuuvr")),p(e,r),X()}var Yc=M("<a><!></a>"),Gc=M("<button><!></button>");function St(e,t){let n=ae(t,"type",3,"standard"),r=ae(t,"typeButton",3,"button"),a=ae(t,"element",3,"button"),s=ae(t,"href",3,""),i=ae(t,"fullWidth",3,!1);var l=U(),c=D(l);{var u=h=>{var f=Yc();f.__click=function(...v){t.onClick?.apply(this,v)};var g=b(f);Ae(g,()=>t.children??at),ce(()=>{ye(f,"href",s()),ne(f,1,te(["button","a",{dangerous:n()==="dangerous",secondary:n()==="secondary",fullWidth:i()}]),"svelte-157gn59")}),p(h,f)},d=h=>{var f=Gc();f.__click=function(...v){t.onClick?.apply(this,v)};var g=b(f);Ae(g,()=>t.children??at),ce(()=>{ye(f,"type",r()),ne(f,1,te(["button",{dangerous:n()==="dangerous",secondary:n()==="secondary",fullWidth:i()}]),"svelte-157gn59")}),p(h,f)};R(c,h=>{a()==="a"?h(u):h(d,!1)})}p(e,l)}Ie(["click"]);var Xc=M('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Add note</span>',1),Zc=M('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span style="padding-left: 6px;">Import data</span>',1),Jc=M('<div class="emptyStore svelte-16l11aw"><p class="message">No notes found</p> <div class="wrapperButtonsAdd svelte-16l11aw"><!></div> <div>or</div> <div class="wrapperButtonsAdd svelte-16l11aw"><!></div></div>'),Qc=M('<div class="emptyMessage svelte-16l11aw">No notes found</div>'),$c=M('<div class="feed svelte-16l11aw"><ul class="svelte-16l11aw"></ul></div>'),eu=M('<div class="wrapperFeed svelte-16l11aw"><div class="wrapperContainer svelte-16l11aw"><!></div></div>');function tu(e,t){G(t,!0);let n=50,r=O(0),a=O(0),s=O(0),i=L(Us),l=O(0),c=[],u=O(0),d=L(()=>oa.ref),h=null,f=null;const g=L(Dl);ke(()=>{o(i),o(g),o(S),o(d)?.scrollTo(0,0)});const{enable:v}=Is(),_=()=>{v(),h||(h=requestAnimationFrame(()=>{const z=o(d)?.scrollTop||0;P(s,z,!0);const q=Math.ceil(o(r)/n);P(a,Math.floor(z/(n*q))*(n*q)),h=null}))},y=()=>{f||(f=requestAnimationFrame(()=>{P(r,window.innerHeight-180||0,!0);const z=o(d)?.scrollTop||0;P(s,z,!0);const q=Math.ceil(o(r)/n);P(a,Math.floor(z/(n*q))*(n*q)),f=null}))};he(()=>{y(),_()}),ke(()=>(o(d)?.addEventListener("scroll",_),window.addEventListener("resize",y),()=>{o(d)?.removeEventListener("scroll",_),window.removeEventListener("resize",y)}));const S=L(Fs);let m=O(""),w=L(Ec);ke(()=>{o(S);const z=o(w)()||[];zt(()=>o(m))!==o(S)&&zt(()=>P(m,o(S),!0)),z.sort((B,j)=>{if(!B||!j)return 0;switch(o(S)){case"newest":return B.createdAt<j.createdAt?-1:1;case"oldest":return B.createdAt>j.createdAt?-1:1;case"AtoZ":return j.title.localeCompare(B.title);case"ZtoA":return B.title.localeCompare(j.title);default:return 0}});const de=[],K={};for(let B=z.length-1;B>=0;B--){const j=z[B];if(j&&!(o(g).length&&o(g).some($=>!j.tags.includes($)))&&!(o(i)&&!(j.title.toLowerCase().includes(o(i).toLowerCase())||j.url.toLowerCase().includes(o(i).toLowerCase())||j.description.toLowerCase().includes(o(i).toLowerCase())))){if(j.tags)for(const $ of j.tags)K[$]?K[$].connections++:K[$]={name:$,connections:1};de.push(j)}}xc(K),P(l,de.length,!0),c=de,P(u,Date.now(),!0)});const x=L(()=>o(l)*n);let k=L(()=>{o(u);const z=Math.ceil(o(r)/n);let q=Math.floor(o(a)/n);return q=q-Math.min(q,z),c.slice(q,q+z*3)}),C=L(()=>n*Math.ceil(o(r)/n));const I=L(()=>o(a)-Math.min(o(a),o(C)));var Z=eu(),W=b(Z),Q=b(W);{var V=z=>{io(z,{})},H=z=>{var q=U(),de=D(q);{var K=j=>{var $=Jc(),Ue=A(b($),2),Te=b(Ue);{let be=L(()=>Rt(N.NewNote)),Ve=L(()=>Bt(N.NewNote));St(Te,{element:"a",get href(){return o(be)},get onClick(){return o(Ve)},children:(Me,He)=>{var Pe=Xc(),Re=D(Pe);ie(Re,()=>({"--size":"18px","--color":"#b0b0b0"})),le(Re.lastChild,{name:"plus"}),p(Me,Pe)},$$slots:{default:!0}})}var fe=A(Ue,4),_e=b(fe);{let be=L(()=>Rt(N.ImportData)),Ve=L(()=>Bt(N.ImportData));St(_e,{element:"a",get href(){return o(be)},get onClick(){return o(Ve)},children:(Me,He)=>{var Pe=Zc(),Re=D(Pe);ie(Re,()=>({"--size":"18px","--color":"#b0b0b0"})),le(Re.lastChild,{name:"import"}),p(Me,Pe)},$$slots:{default:!0}})}p(j,$)},B=j=>{var $=U(),Ue=D($);{var Te=_e=>{var be=Qc();p(_e,be)},fe=_e=>{var be=$c(),Ve=b(be);tn(Ve,23,()=>o(k),Me=>Me.id,(Me,He,Pe)=>{{let Re=L(()=>o(Pe)*n<o(s)-o(I)-n/2||o(Pe)*n>o(s)-o(I)+Math.floor(o(r)/n)*n);Kc(Me,{get focusHidden(){return o(Re)},get note(){return o(He)}})}}),ce(Me=>{Pn(be,`min-height: ${Me??""}px`),Pn(Ve,`transform: translateY(${o(I)??""}px);`)},[()=>Math.max((o(x)>o(r),o(x)),0)]),p(_e,be)};R(Ue,_e=>{o(k).length===0?_e(Te):_e(fe,!1)},!0)}p(j,$)};R(de,j=>{(o(w)()||[]).length===0?j(K):j(B,!1)},!0)}p(z,q)};R(Q,z=>{_r()?z(H,!1):z(V)})}p(e,Z),X()}var nu=M('<!> <div class="content svelte-cu0ar8"><!></div>',1);function lo(e){var t=nu(),n=D(t);Oc(n,{});var r=A(n,2),a=b(r);tu(a,{}),p(e,t)}const ru=Object.freeze(Object.defineProperty({__proto__:null,default:lo},Symbol.toStringTag,{value:"Module"}));var au=M('<div class="wrapper svelte-1syxvud"><fieldset class="switcher svelte-1syxvud"><legend class="vh svelte-1syxvud">Color Scheme</legend> <input id="light" type="radio" aria-label="Light"/> <label for="light" title="Light" aria-label="Light"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <input id="system" type="radio" aria-label="System"/> <label for="system" title="System" aria-label="System"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <input id="dark" type="radio" aria-label="Dark"/> <label for="dark" title="Dark" aria-label="Dark"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <div class="wrapSwitcherStatus svelte-1syxvud"><div class="switcherStatus svelte-1syxvud"></div></div></fieldset></div>');function su(e,t){G(t,!0);const n={Light:"light",System:"system",Dark:"dark"};let r=O(pe(localStorage.getItem("colorScheme")||n.System));const a=w=>{localStorage.setItem("colorScheme",w),w===n.System?window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.dataset.colorScheme=n.Dark:document.documentElement.dataset.colorScheme=n.Light:document.documentElement.dataset.colorScheme=w,P(r,w,!0)},s=w=>{const x=w.target.value;a(x)},i="color-scheme-switcher";var l={setColorScheme:a,handleChange:s},c=au(),u=b(c),d=A(b(u),2);ne(d,1,te(["vh","input"]),"svelte-1syxvud"),ye(d,"name",i),d.__change=s;var h=A(d,2);ne(h,1,te(["switcherButton","light"]),"svelte-1syxvud");var f=b(h);ie(f,()=>({"--size":"20px"})),le(f.lastChild,{name:"sun"});var g=A(h,2);ne(g,1,te(["vh","input"]),"svelte-1syxvud"),ye(g,"name",i),g.__change=s;var v=A(g,2);ne(v,1,te(["switcherButton","system"]),"svelte-1syxvud");var _=b(v);ie(_,()=>({"--size":"14px"})),le(_.lastChild,{name:"a"});var y=A(v,2);ne(y,1,te(["vh","input"]),"svelte-1syxvud"),ye(y,"name",i),y.__change=s;var S=A(y,2);ne(S,1,te(["switcherButton","dark"]),"svelte-1syxvud");var m=b(S);return ie(m,()=>({"--size":"20px"})),le(m.lastChild,{name:"moon"}),ce(()=>{Pr(d,n.Light),er(d,o(r)===n.Light),Pr(g,n.System),er(g,o(r)===n.System),Pr(y,n.Dark),er(y,o(r)===n.Dark)}),p(e,c),X(l)}Ie(["change"]);const ou=(e,t)=>{t.onChange(!t.checked)};var iu=M('<label class="switch svelte-15kl8eb"><input class="vh svelte-15kl8eb" type="checkbox"/> <span class="slider svelte-15kl8eb"></span></label>');function lu(e,t){G(t,!0);var n=iu(),r=b(n);r.__change=[ou,t],ce(()=>er(r,t.checked)),p(e,n),X()}Ie(["change"]);function mt(e){const t=String.fromCharCode(...new Uint8Array(e));return window.btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function ca(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");const n=t.length%4;return n&&(t+="=".repeat(4-n)),t}function ua(e){try{const t=atob(e),n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n.buffer}catch(t){throw t}}function ed(e){const t=ca(e);return ua(t)}const td=async({challenge:e,clientKey:t})=>{const n=Math.floor(Math.random()*100),r={challenge:ua(ca(e)),rp:{id:"localhost",name:"notes"},user:{id:new Uint8Array([...t,...crypto.getRandomValues(new Uint8Array(16))]).buffer,name:`account_${n}`,displayName:`account_${n}`},pubKeyCredParams:[{type:"public-key",alg:-7},{type:"public-key",alg:-257}],authenticatorSelection:{userVerification:"required"},timeout:6e4,attestation:"none"},a=await navigator.credentials.create({publicKey:r});if(a){const s=a.response;return{challenge:e,id:a.id,rawId:mt(a.rawId),type:a.type,response:{clientDataJSON:mt(s.clientDataJSON),attestationObject:mt(s.attestationObject)}}}else throw new Error},nd=async({challenge:e})=>{const t={challenge:ua(ca(e)),timeout:6e4,rpId:"localhost",userVerification:"required"},n=await navigator.credentials.get({publicKey:t});if(n){const r=n.response;new DataView(r.authenticatorData).getUint32(33,!1);const a={challenge:e,id:n.id,rawId:mt(n.rawId),type:n.type,response:{authenticatorData:mt(r.authenticatorData),clientDataJSON:mt(r.clientDataJSON),signature:mt(r.signature)}};if(!r.userHandle)throw new Error("No credential found");const s=new Uint8Array(r.userHandle).slice(0,32);return{credentialData:a,clientKey:s}}else throw new Error("No credential found")},cu=async e=>{const t=await crypto.subtle.importKey("raw",e.serverKey,{name:"HKDF"},!1,["deriveKey"]),n=await crypto.subtle.deriveKey({name:"HKDF",salt:new Uint8Array(12),info:new TextEncoder().encode("aes-gcm-shared"),hash:"SHA-256"},t,{name:"AES-GCM",length:256},!1,["encrypt"]);return{encryptedClientKey:await crypto.subtle.encrypt({name:"AES-GCM",iv:new Uint8Array(12)},n,e.clientKey)}},rd=async e=>{const t=await crypto.subtle.importKey("raw",e.serverKey,{name:"HKDF"},!1,["deriveKey"]),n=await crypto.subtle.deriveKey({name:"HKDF",info:new TextEncoder().encode("aes-gcm-shared"),hash:"SHA-256",salt:new Uint8Array(12)},t,{name:"AES-GCM",length:256},!1,["decrypt"]),r=await crypto.subtle.decrypt({name:"AES-GCM",iv:new Uint8Array(12)},n,e.encryptedClientKey);return new Uint8Array(r)},uu=()=>crypto.randomUUID(),du="AppStorage",fu=1,Xe="notes",ja="tags",sr="syncLog",kt="account",Et="settings",je="success",Fe="error",re=(e,t,n)=>{e?.addEventListener(t,n)};function vu(){return new Promise((e,t)=>{const n=indexedDB.open(du,fu);re(n,"upgradeneeded",()=>{const r=n.result;r.objectStoreNames.contains(Xe)||r.createObjectStore(Xe,{keyPath:"id"}),r.objectStoreNames.contains(ja)||r.createObjectStore(ja,{keyPath:"id"}),r.objectStoreNames.contains(kt)||r.createObjectStore(kt,{keyPath:"id"}),r.objectStoreNames.contains(Et)||r.createObjectStore(Et,{keyPath:"id"}),r.objectStoreNames.contains(sr)||r.createObjectStore(sr,{keyPath:"id"})}),re(n,je,()=>{const r=n.result;e(r),r.onversionchange=function(){r?.close(),alert("app outdated, please reload the page")}}),re(n,"blocked",()=>{t(),alert("app outdated, please reload the page")}),re(n,Fe,()=>{t()})})}function co(e){return new Promise((t,n)=>{const a=e?.transaction(Et,"readonly")?.objectStore(Et).get("default");re(a,je,()=>{const s=a?.result?.settings;t(s)}),re(a,Fe,()=>{n()})})}function hu(e,t){return new Promise((n,r)=>{const i=e?.transaction(Et,"readwrite")?.objectStore(Et)?.put({id:"default",settings:t});re(i,je,()=>{n()}),re(i,Fe,()=>{r()})})}function Hr(e){return new Promise((t,n)=>{const a=e?.transaction(kt,"readonly")?.objectStore(kt).get("default");re(a,je,()=>{const s=a?.result?.account;t(s)}),re(a,Fe,()=>{n()})})}function mr(e,t){return new Promise((n,r)=>{const i=e?.transaction(kt,"readwrite")?.objectStore(kt)?.put({id:"default",account:t});re(i,je,()=>{n()}),re(i,Fe,()=>{r()})})}function Fn(e){return new Promise((t,n)=>{const a=e?.transaction(Xe,"readonly")?.objectStore(Xe).getAll();re(a,je,()=>{const s=a?.result||[];t(s)}),re(a,Fe,()=>{n()})})}function uo(e,t){return new Promise((n,r)=>{const i=e?.transaction(Xe,"readwrite")?.objectStore(Xe)?.put({...t});re(i,je,()=>{n()}),re(i,Fe,()=>{r()})})}function gu(e){return new Promise((t,n)=>{const s=e?.transaction(Xe,"readwrite")?.objectStore(Xe)?.clear();re(s,je,()=>{t()}),re(s,Fe,()=>{n()})})}function da(e){return Promise.all([new Promise((t,n)=>{const s=e?.transaction(kt,"readwrite")?.objectStore(kt)?.clear();re(s,je,()=>{t()}),re(s,Fe,()=>{n()})}),new Promise((t,n)=>{const s=e?.transaction(Xe,"readwrite")?.objectStore(Xe)?.clear();re(s,je,()=>{t()}),re(s,Fe,()=>{n()})}),new Promise((t,n)=>{const s=e?.transaction(Et,"readwrite")?.objectStore(Et)?.clear();re(s,je,()=>{t()}),re(s,Fe,()=>{n()})}),new Promise((t,n)=>{const s=e?.transaction(sr,"readwrite")?.objectStore(sr)?.clear();re(s,je,()=>{t()}),re(s,Fe,()=>{n()})})])}async function pu(e,t){const n=(await Fn(e)).reduce((i,l)=>(i[l.id]=l,i),{}),r={},s=e?.transaction(Xe,"readwrite")?.objectStore(Xe);t.forEach(i=>{n[i.id]?n[i.id].updatedAt<i.updatedAt&&(r[i.id]=i):r[i.id]=i}),await Promise.all(Object.values(r).map(i=>{const l=s?.put(i);return new Promise((c,u)=>{re(l,je,()=>{c()}),re(l,Fe,()=>{u()})})}))}let ue=null;const fo=crypto.randomUUID(),vo=new BroadcastChannel("app"),ct=(e,t)=>{vo.postMessage(JSON.stringify({tabId:fo,type:e,data:t}))};vo.addEventListener("message",async e=>{if(e.data&&typeof e.data=="string"){const t=JSON.parse(e.data);if(t.tabId&&t.tabId===fo)return;if(t.type==="addNote"){const n=t.data;no(n)}else if(t.type==="updateNote"){const n=t.data;ro(n)}else if(t.type==="deleteNote"){const n=t.data;Cc(n)}else if(t.type==="clearNotes")ao();else if(t.type==="reloadNotes"){const n=await Fn(ue);await jn(n)}else if(t.type==="initLocalAccount")nt(null),zr(),vt("/");else if(t.type==="initAccount"){const n=await Hr(ue);n&&(nt(n),zr(),vt("/"))}else if(t.type==="updateSettings"){const n=await co(ue);n&&la(n)}else if(t.type==="disconnectCloudAccount")nt(null);else if(t.type==="exit")so();else if(t.type==="updateAccount"){const n=await Hr(ue);n&&nt(n)}}});(async()=>{ue=await vu(),kc();const e=await co(ue);la(e);const t=await Hr(ue);if(t===void 0)$e(N.Start);else{Jl(N.Start)&&(zr(),vt("/")),t?(nt(t),await aa()):nt(null);const n=await Fn(ue);await jn(n)}})();const ad=async e=>{const t={...e,id:uu(),createdAt:Date.now(),updatedAt:Date.now()};no(t),ct("addNote",t),await uo(ue,{...t})},sd=async e=>{const t={...e,updatedAt:Date.now()};ct("updateNote",t),ro(t),await uo(ue,t)},_u=async e=>{la({showFavicon:e}),await hu(ue,{showFavicon:e}),ct("updateSettings")},od=async()=>{ct("clearNotes"),ao(),await gu(ue)},id=async e=>{await pu(ue,e),ct("reloadNotes");const t=await Fn(ue);await jn(t)},mu=async()=>{await da(ue),await aa(),await mr(ue,null),nt(null),await jn([]),ct("initLocalAccount")},ld=async()=>{nt(null),await mr(ue,null);try{await fetch("/api/dropSession",{method:"POST"})}catch{}ct("disconnectCloudAccount")},cd=async e=>{await da(ue),await aa();const{encryptedClientKey:t}=await cu({clientKey:e.clientKey,serverKey:e.serverKey}),n={encryptedClientKey:mt(t),subscriptionExpires:e.subscriptionExpires||-1,lastSync:-1};await mr(ue,n),nt(n);const r=await Fn(ue);await jn(r),ct("initAccount")},ud=async e=>{const t=to();if(!t)return;const n={...t,subscriptionExpires:e};await mr(ue,n),nt(n),ct("updateAccount")},dd=async()=>{so(),await da(ue),ct("exit")},wu=()=>{$e(N.ImportData)},yu=()=>{$e(N.ExportData)},bu=()=>{$e(N.ClearStore)},Su=()=>{$e(N.Account)},ku=()=>{$e(N.About)};var Eu=M("<span> </span>"),Cu=M('<div class="svelte-1kuxgbs"><!> <ul class="svelte-1kuxgbs"><li class="svelte-1kuxgbs"><button class="button svelte-1kuxgbs"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1kuxgbs">Import data</span></button></li> <li class="svelte-1kuxgbs"><button class="button svelte-1kuxgbs"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1kuxgbs">Export data</span></button></li> <li class="svelte-1kuxgbs"><button class="button svelte-1kuxgbs"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1kuxgbs">Clear storage</span></button></li> <li class="svelte-1kuxgbs"><button class="button svelte-1kuxgbs"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1kuxgbs">Account</span></button></li> <li class="svelte-1kuxgbs"><button class="button svelte-1kuxgbs"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1kuxgbs">About</span></button></li></ul> <div class="favicons svelte-1kuxgbs"><span class="faviconsLabel svelte-1kuxgbs">show favicons (use duckduckgo servers)</span> <!></div> <div class="version svelte-1kuxgbs"><!></div></div>');function ho(e,t){G(t,!0);let n=O("");const r=async H=>{try{const q=await(await fetch("/build-metadata.json",{signal:H})).json();P(n,`${q.buildHash}`)}catch{}};he(()=>{const H=new AbortController;return r(H.signal),()=>{H.abort()}});let a=L(eo);const s=H=>{_u(H)};he(()=>{});var i=Cu(),l=b(i);su(l,{});var c=A(l,2),u=b(c),d=b(u);d.__click=[wu];var h=b(d);ie(h,()=>({"--size":"28px"})),le(h.lastChild,{name:"import"});var f=A(u,2),g=b(f);g.__click=[yu];var v=b(g);ie(v,()=>({"--size":"28px"})),le(v.lastChild,{name:"export"});var _=A(f,2),y=b(_);y.__click=[bu];var S=b(y);ie(S,()=>({"--size":"28px"})),le(S.lastChild,{name:"trash"});var m=A(_,2),w=b(m);w.__click=[Su];var x=b(w);ie(x,()=>({"--size":"28px"})),le(x.lastChild,{name:"account"});var E=A(m,2),k=b(E);k.__click=[ku];var C=b(k);ie(C,()=>({"--size":"28px"})),le(C.lastChild,{name:"about"});var I=A(c,2),Z=A(b(I),2);lu(Z,{get checked(){return o(a)},onChange:s});var W=A(I,2),Q=b(W);{var V=H=>{var z=Eu(),q=b(z);ce(de=>Cn(q,`version: 0.0.1 build_date: "${de??""}" build_hash:
				${o(n)??""}`),[()=>new Date(1757683062236).toISOString().replaceAll("T"," ").replace(/\..*/,"")]),p(H,z)};R(Q,H=>{o(n)&&H(V)})}p(e,i),X()}Ie(["click"]);const Pu=Object.freeze(Object.defineProperty({__proto__:null,default:ho},Symbol.toStringTag,{value:"Module"}));var xu=M('<div class="content svelte-9hh95f"><p class="message svelte-9hh95f">use app</p> <div class="buttonContainer svelte-9hh95f"><div class="buttonContainerItem svelte-9hh95f"><!></div> <div class="buttonContainerItem svelte-9hh95f"><!></div></div></div>');function go(e,t){G(t,!0);let n=O("idle");const r=()=>{P(n,"loading"),$e(N.Auth)},a=async()=>{P(n,"loading"),await mu(),yn(!1),qs()};ke(()=>{yn(o(n)==="idle"||o(n)==="loading")}),he(()=>(yn(!0),()=>{yn(!1)}));var s=xu(),i=A(b(s),2),l=b(i),c=b(l);St(c,{onClick:r,fullWidth:!0,children:(h,f)=>{var g=Ce("cloud account");p(h,g)},$$slots:{default:!0}});var u=A(l,2),d=b(u);St(d,{onClick:a,fullWidth:!0,type:"secondary",children:(h,f)=>{var g=Ce("local account");p(h,g)},$$slots:{default:!0}}),p(e,s),X()}const Au=Object.freeze(Object.defineProperty({__proto__:null,default:go},Symbol.toStringTag,{value:"Module"}));var Tu=M('<div class="content svelte-9hh95f"><p class="message svelte-9hh95f">sign in / sign up</p> <div class="buttonContainer svelte-9hh95f"><div class="buttonContainerItem svelte-9hh95f"><!></div> <div class="buttonContainerItem svelte-9hh95f"><!></div></div></div>');function po(e,t){G(t,!0);let n=L(to);const r=async()=>{$e(N.Signin)},a=async()=>{$e(N.Signup)};he(()=>(o(n)===void 0&&(yn(!0),Ra(!0)),()=>{Ra(!1)}));var s=Tu(),i=A(b(s),2),l=b(i),c=b(l);St(c,{onClick:r,fullWidth:!0,children:(h,f)=>{var g=Ce("sign in");p(h,g)},$$slots:{default:!0}});var u=A(l,2),d=b(u);St(d,{onClick:a,fullWidth:!0,children:(h,f)=>{var g=Ce("sign up");p(h,g)},$$slots:{default:!0}}),p(e,s),X()}const Nu=Object.freeze(Object.defineProperty({__proto__:null,default:po},Symbol.toStringTag,{value:"Module"}));var Du=M('<div class="svelte-frpywy"><!></div>');function Se(e,t){G(t,!0);let n=O(null);he(()=>{o(n)&&(o(n).getBoundingClientRect(),o(n).style.opacity="1");const s=new ResizeObserver(i=>{for(let l of i){const c=l.contentRect.height;dc(c)}});if(o(n))return s.observe(o(n)),()=>{o(n)&&s.unobserve(o(n)),s.disconnect()}});var r=Du(),a=b(r);Ae(a,()=>t.children),Qe(r,s=>P(n,s),()=>o(n)),p(e,r),X()}var Lu=M('<div class="svelte-ndasxn"><p class="svelte-ndasxn">Page not found</p> <!></div>');function _o(e,t){G(t,!1);const n=s=>{s.preventDefault(),vt("/")};Rn();var r=Lu(),a=A(b(r),2);St(a,{element:"a",href:"/",onClick:n,children:(s,i)=>{var l=Ce("close");p(s,l)},$$slots:{default:!0}}),p(e,r),X()}const Ou=Object.freeze(Object.defineProperty({__proto__:null,default:_o},Symbol.toStringTag,{value:"Module"}));var Iu=M('<div class="svelte-1tpcci8"><p class="svelte-1tpcci8">Something went wrong. Please reload the page</p> <!></div>');function Mu(e){var t=Iu(),n=A(b(t),2);St(n,{onClick:()=>location.reload(),children:(r,a)=>{var s=Ce("Reload");p(r,s)},$$slots:{default:!0}}),p(e,t)}var Ru=M('<div class="svelte-uzefkz"><!></div>');function Bu(e,t){G(t,!1);const n=Qs();Rn();var r=Ru(),a=b(r);io(a,{}),ce(()=>Pn(r,`min-height: ${n??""}px;`)),p(e,r),X()}function Le(e,t){G(t,!0);const n={},r=Object.assign({"./Pages/About.svelte":()=>ge(()=>import("./About-Btujdbbk.js"),__vite__mapDeps([2,3])),"./Pages/AccessKeys.svelte":()=>ge(()=>import("./AccessKeys-kaXiy0Tm.js"),__vite__mapDeps([4,5,6])),"./Pages/Account.svelte":()=>ge(()=>import("./Account-CU7aihsM.js"),__vite__mapDeps([7,8])),"./Pages/Auth.svelte":()=>ge(()=>Promise.resolve().then(()=>Nu),void 0),"./Pages/ClearStore.svelte":()=>ge(()=>import("./ClearStore-uB3DCHNO.js"),__vite__mapDeps([9,10])),"./Pages/ConfirmAccessKey.svelte":()=>ge(()=>import("./ConfirmAccessKey-CCJX-MmY.js"),__vite__mapDeps([11,5,12,13,14])),"./Pages/EditNote.svelte":()=>ge(()=>import("./EditNote-C5JnL-ZC.js"),__vite__mapDeps([15,16,12,13,17])),"./Pages/Exit.svelte":()=>ge(()=>import("./Exit-42JQMifl.js"),__vite__mapDeps([18,19])),"./Pages/ExportData.svelte":()=>ge(()=>import("./ExportData-C3np6UbW.js"),__vite__mapDeps([20,21])),"./Pages/Home.svelte":()=>ge(()=>Promise.resolve().then(()=>ru),void 0),"./Pages/ImportData.svelte":()=>ge(()=>import("./ImportData-DQ5Ec7sp.js"),__vite__mapDeps([22,23])),"./Pages/NewNote.svelte":()=>ge(()=>import("./NewNote-DaWuZFdw.js"),__vite__mapDeps([24,16,12,13,17])),"./Pages/NotFound.svelte":()=>ge(()=>Promise.resolve().then(()=>Ou),void 0),"./Pages/Settings.svelte":()=>ge(()=>Promise.resolve().then(()=>Pu),void 0),"./Pages/Signin.svelte":()=>ge(()=>import("./Signin-C-O3KrOK.js"),__vite__mapDeps([25,5,26])),"./Pages/Signup.svelte":()=>ge(()=>import("./Signup-CLcTivn_.js"),__vite__mapDeps([27,5,26])),"./Pages/Start.svelte":()=>ge(()=>Promise.resolve().then(()=>Au),void 0),"./Pages/Subscription.svelte":()=>ge(()=>import("./Subscription-DNhQPaSH.js"),__vite__mapDeps([28,29])),"./Pages/Sync.svelte":()=>ge(()=>import("./Sync-CL4ow26K.js"),__vite__mapDeps([30,31]))}),a=async l=>{const c=`./Pages/${l[0].toUpperCase()+l.slice(1)}.svelte`;if(!n[l]){if(r[c]){const u=r[c]();return n[l]={promise:u},n[l].module=await u,n[l].module}throw new Error(`Page ${l} not found`)}return n[l].module||await n[l].promise};var s=U(),i=D(s);xs(i,()=>a(t.page),l=>{Bu(l,{})},(l,c)=>{const u=L(()=>o(c).default);var d=U(),h=D(d);Ns(h,()=>o(u),(f,g)=>{g(f,{get params(){return t.params},get hidden(){return t.hidden}})}),p(l,d)},l=>{Mu(l)}),p(e,s),X()}const Fa=(e,t=at,n=at,r)=>{let a=dr(()=>Vo(r?.(),!1));var s=U(),i=D(s);{var l=u=>{Se(u,{children:(d,h)=>{ho(d,{})},$$slots:{default:!0}})},c=u=>{var d=U(),h=D(d);{var f=v=>{Se(v,{children:(_,y)=>{Le(_,{get hidden(){return o(a)},get page(){return N.NewNote}})},$$slots:{default:!0}})},g=v=>{var _=U(),y=D(_);{var S=w=>{Se(w,{children:(x,E)=>{Le(x,{get params(){return n()},get hidden(){return o(a)},get page(){return N.EditNote}})},$$slots:{default:!0}})},m=w=>{var x=U(),E=D(x);{var k=I=>{Se(I,{children:(Z,W)=>{Le(Z,{get hidden(){return o(a)},get page(){return N.ImportData}})},$$slots:{default:!0}})},C=I=>{var Z=U(),W=D(Z);{var Q=H=>{Se(H,{children:(z,q)=>{Le(z,{get hidden(){return o(a)},get page(){return N.ExportData}})},$$slots:{default:!0}})},V=H=>{var z=U(),q=D(z);{var de=B=>{Se(B,{children:(j,$)=>{Le(j,{get hidden(){return o(a)},get page(){return N.ClearStore}})},$$slots:{default:!0}})},K=B=>{var j=U(),$=D(j);{var Ue=fe=>{Se(fe,{children:(_e,be)=>{go(_e,{})},$$slots:{default:!0}})},Te=fe=>{var _e=U(),be=D(_e);{var Ve=He=>{Se(He,{children:(Pe,Re)=>{po(Pe,{})},$$slots:{default:!0}})},Me=He=>{var Pe=U(),Re=D(Pe);{var ve=me=>{Se(me,{children:(ut,zn)=>{Le(ut,{get hidden(){return o(a)},get page(){return N.Signup}})},$$slots:{default:!0}})},Ne=me=>{var ut=U(),zn=D(ut);{var pn=Kt=>{Se(Kt,{children:(Un,fa)=>{Le(Un,{get hidden(){return o(a)},get page(){return N.Signin}})},$$slots:{default:!0}})},mo=Kt=>{var Un=U(),fa=D(Un);{var wo=Wt=>{Se(Wt,{children:(Vn,va)=>{Le(Vn,{get hidden(){return o(a)},get page(){return N.AccessKeys}})},$$slots:{default:!0}})},yo=Wt=>{var Vn=U(),va=D(Vn);{var bo=Yt=>{Se(Yt,{children:(Hn,ha)=>{Le(Hn,{get hidden(){return o(a)},get page(){return N.Account}})},$$slots:{default:!0}})},So=Yt=>{var Hn=U(),ha=D(Hn);{var ko=Gt=>{Se(Gt,{children:(qn,ga)=>{Le(qn,{get hidden(){return o(a)},get page(){return N.ConfirmAccessKey}})},$$slots:{default:!0}})},Eo=Gt=>{var qn=U(),ga=D(qn);{var Co=Xt=>{Se(Xt,{children:(Kn,pa)=>{Le(Kn,{get hidden(){return o(a)},get page(){return N.Exit}})},$$slots:{default:!0}})},Po=Xt=>{var Kn=U(),pa=D(Kn);{var xo=Zt=>{Se(Zt,{children:(Wn,_a)=>{Le(Wn,{get hidden(){return o(a)},get page(){return N.Sync}})},$$slots:{default:!0}})},Ao=Zt=>{var Wn=U(),_a=D(Wn);{var To=Jt=>{Se(Jt,{children:(Yn,ma)=>{Le(Yn,{get hidden(){return o(a)},get page(){return N.Subscription}})},$$slots:{default:!0}})},No=Jt=>{var Yn=U(),ma=D(Yn);{var Do=Qt=>{Se(Qt,{children:(wr,Oo)=>{Le(wr,{get hidden(){return o(a)},get page(){return N.About}})},$$slots:{default:!0}})},Lo=Qt=>{Se(Qt,{children:(wr,Oo)=>{_o(wr,{})},$$slots:{default:!0}})};R(ma,Qt=>{t()===N.About?Qt(Do):Qt(Lo,!1)},!0)}p(Jt,Yn)};R(_a,Jt=>{t()===N.Subscription?Jt(To):Jt(No,!1)},!0)}p(Zt,Wn)};R(pa,Zt=>{t()===N.Sync?Zt(xo):Zt(Ao,!1)},!0)}p(Xt,Kn)};R(ga,Xt=>{t()===N.Exit?Xt(Co):Xt(Po,!1)},!0)}p(Gt,qn)};R(ha,Gt=>{t()===N.ConfirmAccessKey?Gt(ko):Gt(Eo,!1)},!0)}p(Yt,Hn)};R(va,Yt=>{t()===N.Account?Yt(bo):Yt(So,!1)},!0)}p(Wt,Vn)};R(fa,Wt=>{t()===N.AccessKeys?Wt(wo):Wt(yo,!1)},!0)}p(Kt,Un)};R(zn,Kt=>{t()===N.Signin?Kt(pn):Kt(mo,!1)},!0)}p(me,ut)};R(Re,me=>{t()===N.Signup?me(ve):me(Ne,!1)},!0)}p(He,Pe)};R(be,He=>{t()===N.Auth?He(Ve):He(Me,!1)},!0)}p(fe,_e)};R($,fe=>{t()===N.Start?fe(Ue):fe(Te,!1)},!0)}p(B,j)};R(q,B=>{t()===N.ClearStore?B(de):B(K,!1)},!0)}p(H,z)};R(W,H=>{t()===N.ExportData?H(Q):H(V,!1)},!0)}p(I,Z)};R(E,I=>{t()===N.ImportData?I(k):I(C,!1)},!0)}p(w,x)};R(y,w=>{t()===N.EditNote?w(S):w(m,!1)},!0)}p(v,_)};R(h,v=>{t()===N.NewNote?v(f):v(g,!1)},!0)}p(u,d)};R(i,u=>{t()==="settings"?u(l):u(c,!1)})}p(e,s)};var ju=M("<!> <!>",1);function Fu(e,t){G(t,!0);let n=L(Ql),r=L(_r);var a=ju(),s=D(a);{var i=d=>{lo(d)};R(s,d=>{o(r)&&d(i)})}var l=A(s,2);{var c=d=>{var h=U(),f=D(h);tn(f,19,()=>o(n),g=>g.page,(g,v,_)=>{const y=L(()=>o(v).page.split("?")[1]),S=L(()=>o(v).page.split("?")[0]);{let m=L(()=>o(_)!==o(n).length-1&&!!o(n)[o(_)+1]?.shown),w=L(()=>o(_)===0);Ba(g,{get shown(){return o(v).shown},get hidden(){return o(m)},get isLastDialog(){return o(w)},children:(x,E)=>{{let k=L(()=>o(_)!==o(n).length-1&&!!o(n)[o(_)+1]?.shown);Fa(x,()=>o(S),()=>o(y),()=>o(k))}},$$slots:{default:!0}})}}),p(d,h)},u=d=>{var h=U(),f=D(h);{var g=v=>{const _=L(()=>o(n)[o(n).length-1].page.split("?")[1]),y=L(()=>o(n)[o(n).length-1].page.split("?")[0]);{let S=L(()=>o(n).length===1);Ba(v,{onBack:()=>Zs(),get shown(){return o(n)[o(n).length-1].shown},hidden:!1,get isLastDialog(){return o(S)},children:(m,w)=>{Fa(m,()=>o(y),()=>o(_))},$$slots:{default:!0}})}};R(f,v=>{o(n).length>0&&v(g)},!0)}p(d,h)};R(l,d=>{pr()?d(c):d(u,!1)})}p(e,a),X()}function zu(e,t){G(t,!1),he(()=>{Tr(),document.addEventListener("focusin",Tr),document.addEventListener("focusout",Tr)}),Rn(),X()}function Uu(e,t){G(t,!1);let n=0;he(()=>{document.addEventListener("touchstart",r=>{n=r.touches[0].clientX},{passive:!1}),document.addEventListener("touchmove",r=>{const s=r.touches[0].clientX-n;(n<50&&s>0||n>window.innerWidth-50&&s<0)&&r.preventDefault()},{passive:!1}),document.addEventListener("touchend",()=>{n=0}),document.addEventListener("touchcancel",()=>{n=0})}),Rn(),X()}const Vu=(e,t)=>{o(t)&&o(t).scrollTo({top:0,behavior:"smooth"})};var Hu=M('<div class="wrapperButtonTop svelte-1rgtneh"><button class="buttonTop svelte-1rgtneh"><!> <span class="icon svelte-1rgtneh"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></span></button></div>'),qu=M('<!> <!> <!> <main><!> <div class="container svelte-1rgtneh"><!></div></main> <!>',1);function Ku(e,t){G(t,!0);const n=Bn();he(async()=>{await new Promise(E=>setTimeout(E,100)),await ks(),n.working=!0});let r=O(!1),a=0,s=L(()=>Pt().length>0),i=L(_r),l=O(null);ke(()=>{oa.ref=o(l)});const c=()=>{if(o(l)){const E=o(l).scrollTop||0;E===0?P(r,!1):!o(r)&&a>E?P(r,!0):o(r)&&a+50<E&&P(r,!1),a=E}},u=()=>{c()};ke(()=>(o(l)?.addEventListener("scroll",u),window.addEventListener("resize",u),()=>{o(l)?.removeEventListener("scroll",u),window.removeEventListener("resize",u)}));var d=qu(),h=D(d);Uu(h,{});var f=A(h,2);zu(f,{});var g=A(f,2);wl(g,{});var v=A(g,2),_=b(v);{var y=E=>{ec(E,{})};R(_,E=>{o(i)&&E(y)})}var S=A(_,2),m=b(S);Fu(m,{}),Qe(v,E=>P(l,E),()=>o(l));var w=A(v,2);{var x=E=>{var k=Hu(),C=b(k);C.__click=[Vu,l];var I=b(C);it(I,{children:(Q,V)=>{var H=Ce("top");p(Q,H)}});var Z=A(I,2),W=b(Z);ie(W,()=>({"--rotate":"90deg","--size":"28px"})),le(W.lastChild,{name:"back"}),p(E,k)};R(w,E=>{o(r)&&E(x)})}ce(()=>{Pn(v,`--swiping-ratio: ${n.swipingRatio}; --transition-timing-default: ${n.duration}s;`),ne(v,1,te(["main",{isAnimationOn:n.working&&!n.isSwiping,open:o(s)}]),"svelte-1rgtneh")}),p(e,d),X()}Ie(["click"]);function Wu(e){gl(e,{children:(t,n)=>{Ku(t,{})}})}window.addEventListener("unhandledrejection",e=>{alert("Error: "+e.reason.message)});window.isUnsupportedBrowser||Gi(Wu,{target:document.getElementById("app")});export{er as $,to as A,St as B,ld as C,$e as D,Zu as E,od as F,qs as G,na as H,le as I,rd as J,ed as K,io as L,td as M,Zs as N,Ol as O,N as P,$u as Q,sd as R,Rn as S,dd as T,Xu as U,it as V,ae as W,ne as X,te as Y,ye as Z,Pr as _,ie as a,Pn as a0,Ec as a1,uu as a2,pr as a3,Qe as a4,id as a5,ad as a6,mn as a7,_r as a8,sl as a9,Ra as aa,cd as ab,T as ac,Ju as ad,Qu as ae,ud as af,rc as ag,Bn as ah,Is as ai,Ql as aj,Rs as ak,Sl as al,Ae as am,Ys as an,p as b,b as c,O as d,pe as e,M as f,yn as g,o as h,P as i,R as j,X as k,U as l,D as m,Ie as n,he as o,G as p,tn as q,Cn as r,A as s,ce as t,ke as u,Ce as v,nd as w,L as x,Bt as y,Rt as z};
