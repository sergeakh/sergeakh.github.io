(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();const En=!1;var an=Array.isArray,zr=Array.prototype.indexOf,on=Array.from,Hr=Object.defineProperty,Qe=Object.getOwnPropertyDescriptor,jn=Object.getOwnPropertyDescriptors,Ur=Object.prototype,jr=Array.prototype,sn=Object.getPrototypeOf,Tn=Object.isExtensible;const qn=()=>{};function qr(e){return e()}function St(e){for(var t=0;t<e.length;t++)e[t]()}const Ce=2,Vn=4,It=8,ln=16,Re=32,ot=64,Et=128,me=256,Tt=512,he=1024,Oe=2048,Ge=4096,Ie=8192,Bt=16384,Vr=32768,Rt=65536,Yr=1<<17,Wr=1<<19,Yn=1<<20,Kt=1<<21,We=Symbol("$state"),Xr=Symbol("legacy props"),Gr=Symbol("");function Wn(e){return e===this.v}function Kr(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function cn(e){return!Kr(e,this.v)}function Jr(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Zr(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Qr(e){throw new Error("https://svelte.dev/e/effect_orphan")}function $r(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function ea(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function ta(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function na(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function ra(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let it=!1,aa=!1;function oa(){it=!0}const un=1,dn=2,Xn=4,ia=8,sa=16,la=1,ca=2,ua=4,da=8,fa=16,va=1,ha=2,fe=Symbol(),ga="http://www.w3.org/1999/xhtml";function Gn(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let X=null;function Cn(e){X=e}function pa(e){return Kn().get(e)}function ma(e,t){return Kn().set(e,t),t}function Y(e,t=!1,n){var r=X={p:X,c:null,d:!1,e:null,m:!1,s:e,x:null,l:null};it&&!t&&(X.l={s:null,u:null,r1:[],r2:vt(!1)}),fn(()=>{r.d=!0})}function W(e){const t=X;if(t!==null){e!==void 0&&(t.x=e);const i=t.e;if(i!==null){var n=J,r=K;t.e=null;try{for(var a=0;a<i.length;a++){var o=i[a];He(o.effect),Ae(o.reaction),vn(o.fn)}}finally{He(n),Ae(r)}}X=t.p,t.m=!0}return e||{}}function pt(){return!it||X!==null&&X.l===null}function Kn(e){return X===null&&Gn(),X.c??(X.c=new Map(_a(X)||void 0))}function _a(e){let t=e.p;for(;t!==null;){const n=t.c;if(n!==null)return n;t=t.p}return null}function se(e){if(typeof e!="object"||e===null||We in e)return e;const t=sn(e);if(t!==Ur&&t!==jr)return e;var n=new Map,r=an(e),a=N(0),o=K,i=l=>{var u=K;Ae(o);var d=l();return Ae(u),d};return r&&n.set("length",N(e.length)),new Proxy(e,{defineProperty(l,u,d){(!("value"in d)||d.configurable===!1||d.enumerable===!1||d.writable===!1)&&ta();var c=n.get(u);return c===void 0?(c=i(()=>N(d.value)),n.set(u,c)):T(c,i(()=>se(d.value))),!0},deleteProperty(l,u){var d=n.get(u);if(d===void 0)u in l&&(n.set(u,i(()=>N(fe))),qt(a));else{if(r&&typeof u=="string"){var c=n.get("length"),v=Number(u);Number.isInteger(v)&&v<c.v&&T(c,v)}T(d,fe),qt(a)}return!0},get(l,u,d){var g;if(u===We)return e;var c=n.get(u),v=u in l;if(c===void 0&&(!v||(g=Qe(l,u))!=null&&g.writable)&&(c=i(()=>N(se(v?l[u]:fe))),n.set(u,c)),c!==void 0){var f=s(c);return f===fe?void 0:f}return Reflect.get(l,u,d)},getOwnPropertyDescriptor(l,u){var d=Reflect.getOwnPropertyDescriptor(l,u);if(d&&"value"in d){var c=n.get(u);c&&(d.value=s(c))}else if(d===void 0){var v=n.get(u),f=v==null?void 0:v.v;if(v!==void 0&&f!==fe)return{enumerable:!0,configurable:!0,value:f,writable:!0}}return d},has(l,u){var f;if(u===We)return!0;var d=n.get(u),c=d!==void 0&&d.v!==fe||Reflect.has(l,u);if(d!==void 0||J!==null&&(!c||(f=Qe(l,u))!=null&&f.writable)){d===void 0&&(d=i(()=>N(c?se(l[u]):fe)),n.set(u,d));var v=s(d);if(v===fe)return!1}return c},set(l,u,d,c){var p;var v=n.get(u),f=u in l;if(r&&u==="length")for(var g=d;g<v.v;g+=1){var h=n.get(g+"");h!==void 0?T(h,fe):g in l&&(h=i(()=>N(fe)),n.set(g+"",h))}v===void 0?(!f||(p=Qe(l,u))!=null&&p.writable)&&(v=i(()=>N(void 0)),T(v,i(()=>se(d))),n.set(u,v)):(f=v.v!==fe,T(v,i(()=>se(d))));var _=Reflect.getOwnPropertyDescriptor(l,u);if(_!=null&&_.set&&_.set.call(c,d),!f){if(r&&typeof u=="string"){var w=n.get("length"),S=Number(u);Number.isInteger(S)&&S>=w.v&&T(w,S+1)}qt(a)}return!0},ownKeys(l){s(a);var u=Reflect.ownKeys(l).filter(v=>{var f=n.get(v);return f===void 0||f.v!==fe});for(var[d,c]of n)c.v!==fe&&!(d in l)&&u.push(d);return u},setPrototypeOf(){na()}})}function qt(e,t=1){T(e,e.v+t)}function et(e){var t=Ce|Oe,n=K!==null&&(K.f&Ce)!==0?K:null;return J===null||n!==null&&(n.f&me)!==0?t|=me:J.f|=Yn,{ctx:X,deps:null,effects:null,equals:Wn,f:t,fn:e,reactions:null,rv:0,v:null,wv:0,parent:n??J}}function ie(e){const t=et(e);return fr(t),t}function Jn(e){const t=et(e);return t.equals=cn,t}function Zn(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)Be(t[n])}}function wa(e){for(var t=e.parent;t!==null;){if((t.f&Ce)===0)return t;t=t.parent}return null}function Qn(e){var t,n=J;He(wa(e));try{Zn(e),t=pr(e)}finally{He(n)}return t}function $n(e){var t=Qn(e),n=(Fe||(e.f&me)!==0)&&e.deps!==null?Ge:he;xe(e,n),e.equals(t)||(e.v=t,e.wv=hr())}const ft=new Map;function vt(e,t){var n={f:0,v:e,reactions:null,equals:Wn,rv:0,wv:0};return n}function N(e,t){const n=vt(e);return fr(n),n}function er(e,t=!1){var r;const n=vt(e);return t||(n.equals=cn),it&&X!==null&&X.l!==null&&((r=X.l).s??(r.s=[])).push(n),n}function T(e,t,n=!1){K!==null&&!Le&&pt()&&(K.f&(Ce|ln))!==0&&!(de!=null&&de.includes(e))&&ra();let r=n?se(t):t;return Jt(e,r)}function Jt(e,t){if(!e.equals(t)){var n=e.v;mt?ft.set(e,t):ft.set(e,n),e.v=t,(e.f&Ce)!==0&&((e.f&Oe)!==0&&Qn(e),xe(e,(e.f&me)===0?he:Ge)),e.wv=hr(),tr(e,Oe),pt()&&J!==null&&(J.f&he)!==0&&(J.f&(Re|ot))===0&&(be===null?Da([e]):be.push(e))}return t}function tr(e,t){var n=e.reactions;if(n!==null)for(var r=pt(),a=n.length,o=0;o<a;o++){var i=n[o],l=i.f;(l&Oe)===0&&(!r&&i===J||(xe(i,t),(l&(he|me))!==0&&((l&Ce)!==0?tr(i,Ge):jt(i))))}}let ya=!1;var xn,nr,rr,ar;function ba(){if(xn===void 0){xn=window,nr=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;rr=Qe(t,"firstChild").get,ar=Qe(t,"nextSibling").get,Tn(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Tn(n)&&(n.__t=void 0)}}function Nt(e=""){return document.createTextNode(e)}function tt(e){return rr.call(e)}function Ft(e){return ar.call(e)}function E(e,t){return tt(e)}function q(e,t){{var n=tt(e);return n instanceof Comment&&n.data===""?Ft(n):n}}function L(e,t=1,n=!1){let r=e;for(;t--;)r=Ft(r);return r}function ka(e){e.textContent=""}function or(e){J===null&&K===null&&Qr(),K!==null&&(K.f&me)!==0&&J===null&&Zr(),mt&&Jr()}function Sa(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function st(e,t,n,r=!0){var a=J,o={ctx:X,deps:null,nodes_start:null,nodes_end:null,f:e|Oe,first:null,fn:t,last:null,next:null,parent:a,prev:null,teardown:null,transitions:null,wv:0};if(n)try{pn(o),o.f|=Vr}catch(u){throw Be(o),u}else t!==null&&jt(o);var i=n&&o.deps===null&&o.first===null&&o.nodes_start===null&&o.teardown===null&&(o.f&(Yn|Et))===0;if(!i&&r&&(a!==null&&Sa(o,a),K!==null&&(K.f&Ce)!==0)){var l=K;(l.effects??(l.effects=[])).push(o)}return o}function fn(e){const t=st(It,null,!1);return xe(t,he),t.teardown=e,t}function ve(e){or();var t=J!==null&&(J.f&Re)!==0&&X!==null&&!X.m;if(t){var n=X;(n.e??(n.e=[])).push({fn:e,effect:J,reaction:K})}else{var r=vn(e);return r}}function Ea(e){return or(),zt(e)}function Ta(e){const t=st(ot,e,!0);return(n={})=>new Promise(r=>{n.outro?Ct(t,()=>{Be(t),r(void 0)}):(Be(t),r(void 0))})}function vn(e){return st(Vn,e,!1)}function zt(e){return st(It,e,!0)}function re(e,t=[],n=et){const r=t.map(n);return Ht(()=>e(...r.map(s)))}function Ht(e,t=0){return st(It|ln|t,e,!0)}function nt(e,t=!0){return st(It|Re,e,!0,t)}function ir(e){var t=e.teardown;if(t!==null){const n=mt,r=K;Dn(!0),Ae(null);try{t.call(null)}finally{Dn(n),Ae(r)}}}function sr(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){var r=n.next;(n.f&ot)!==0?n.parent=null:Be(n,t),n=r}}function Ca(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&Re)===0&&Be(t),t=n}}function Be(e,t=!0){var n=!1;(t||(e.f&Wr)!==0)&&e.nodes_start!==null&&(xa(e.nodes_start,e.nodes_end),n=!0),sr(e,t&&!n),Ot(e,0),xe(e,Bt);var r=e.transitions;if(r!==null)for(const o of r)o.stop();ir(e);var a=e.parent;a!==null&&a.first!==null&&lr(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function xa(e,t){for(;e!==null;){var n=e===t?null:Ft(e);e.remove(),e=n}}function lr(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function Ct(e,t){var n=[];hn(e,n,!0),cr(n,()=>{Be(e),t&&t()})}function cr(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var a of e)a.out(r)}else t()}function hn(e,t,n){if((e.f&Ie)===0){if(e.f^=Ie,e.transitions!==null)for(const i of e.transitions)(i.is_global||n)&&t.push(i);for(var r=e.first;r!==null;){var a=r.next,o=(r.f&Rt)!==0||(r.f&Re)!==0;hn(r,t,o?n:!1),r=a}}}function xt(e){ur(e,!0)}function ur(e,t){if((e.f&Ie)!==0){e.f^=Ie,(e.f&he)===0&&(e.f^=he),_t(e)&&(xe(e,Oe),jt(e));for(var n=e.first;n!==null;){var r=n.next,a=(n.f&Rt)!==0||(n.f&Re)!==0;ur(n,a?t:!1),n=r}if(e.transitions!==null)for(const o of e.transitions)(o.is_global||t)&&o.in()}}let ht=[],Zt=[];function dr(){var e=ht;ht=[],St(e)}function La(){var e=Zt;Zt=[],St(e)}function gn(e){ht.length===0&&queueMicrotask(dr),ht.push(e)}function Ln(){ht.length>0&&dr(),Zt.length>0&&La()}let kt=!1,Lt=!1,Dt=null,Xe=!1,mt=!1;function Dn(e){mt=e}let dt=[];let K=null,Le=!1;function Ae(e){K=e}let J=null;function He(e){J=e}let de=null;function fr(e){K!==null&&K.f&Kt&&(de===null?de=[e]:de.push(e))}let ue=null,pe=0,be=null;function Da(e){be=e}let vr=1,Pt=0,Fe=!1;function hr(){return++vr}function _t(e){var v;var t=e.f;if((t&Oe)!==0)return!0;if((t&Ge)!==0){var n=e.deps,r=(t&me)!==0;if(n!==null){var a,o,i=(t&Tt)!==0,l=r&&J!==null&&!Fe,u=n.length;if(i||l){var d=e,c=d.parent;for(a=0;a<u;a++)o=n[a],(i||!((v=o==null?void 0:o.reactions)!=null&&v.includes(d)))&&(o.reactions??(o.reactions=[])).push(d);i&&(d.f^=Tt),l&&c!==null&&(c.f&me)===0&&(d.f^=me)}for(a=0;a<u;a++)if(o=n[a],_t(o)&&$n(o),o.wv>e.wv)return!0}(!r||J!==null&&!Fe)&&xe(e,he)}return!1}function Pa(e,t){for(var n=t;n!==null;){if((n.f&Et)!==0)try{n.fn(e);return}catch{n.f^=Et}n=n.parent}throw kt=!1,e}function Pn(e){return(e.f&Bt)===0&&(e.parent===null||(e.parent.f&Et)===0)}function Ut(e,t,n,r){if(kt){if(n===null&&(kt=!1),Pn(t))throw e;return}if(n!==null&&(kt=!0),Pa(e,t),Pn(t))throw e}function gr(e,t,n=!0){var r=e.reactions;if(r!==null)for(var a=0;a<r.length;a++){var o=r[a];de!=null&&de.includes(e)||((o.f&Ce)!==0?gr(o,t,!1):t===o&&(n?xe(o,Oe):(o.f&he)!==0&&xe(o,Ge),jt(o)))}}function pr(e){var g;var t=ue,n=pe,r=be,a=K,o=Fe,i=de,l=X,u=Le,d=e.f;ue=null,pe=0,be=null,Fe=(d&me)!==0&&(Le||!Xe||K===null),K=(d&(Re|ot))===0?e:null,de=null,Cn(e.ctx),Le=!1,Pt++,e.f|=Kt;try{var c=(0,e.fn)(),v=e.deps;if(ue!==null){var f;if(Ot(e,pe),v!==null&&pe>0)for(v.length=pe+ue.length,f=0;f<ue.length;f++)v[pe+f]=ue[f];else e.deps=v=ue;if(!Fe)for(f=pe;f<v.length;f++)((g=v[f]).reactions??(g.reactions=[])).push(e)}else v!==null&&pe<v.length&&(Ot(e,pe),v.length=pe);if(pt()&&be!==null&&!Le&&v!==null&&(e.f&(Ce|Ge|Oe))===0)for(f=0;f<be.length;f++)gr(be[f],e);return a!==null&&a!==e&&(Pt++,be!==null&&(r===null?r=be:r.push(...be))),c}finally{ue=t,pe=n,be=r,K=a,Fe=o,de=i,Cn(l),Le=u,e.f^=Kt}}function Oa(e,t){let n=t.reactions;if(n!==null){var r=zr.call(n,e);if(r!==-1){var a=n.length-1;a===0?n=t.reactions=null:(n[r]=n[a],n.pop())}}n===null&&(t.f&Ce)!==0&&(ue===null||!ue.includes(t))&&(xe(t,Ge),(t.f&(me|Tt))===0&&(t.f^=Tt),Zn(t),Ot(t,0))}function Ot(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)Oa(e,n[r])}function pn(e){var t=e.f;if((t&Bt)===0){xe(e,he);var n=J,r=X,a=Xe;J=e,Xe=!0;try{(t&ln)!==0?Ca(e):sr(e),ir(e);var o=pr(e);e.teardown=typeof o=="function"?o:null,e.wv=vr;var i=e.deps,l;En&&aa&&e.f&Oe}catch(u){Ut(u,e,n,r||e.ctx)}finally{Xe=a,J=n}}}function Aa(){try{$r()}catch(e){if(Dt!==null)Ut(e,Dt,null);else throw e}}function mr(){var e=Xe;try{var t=0;for(Xe=!0;dt.length>0;){t++>1e3&&Aa();var n=dt,r=n.length;dt=[];for(var a=0;a<r;a++){var o=Ia(n[a]);Ma(o)}ft.clear()}}finally{Lt=!1,Xe=e,Dt=null}}function Ma(e){var t=e.length;if(t!==0)for(var n=0;n<t;n++){var r=e[n];if((r.f&(Bt|Ie))===0)try{_t(r)&&(pn(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null?lr(r):r.fn=null))}catch(a){Ut(a,r,null,r.ctx)}}}function jt(e){Lt||(Lt=!0,queueMicrotask(mr));for(var t=Dt=e;t.parent!==null;){t=t.parent;var n=t.f;if((n&(ot|Re))!==0){if((n&he)===0)return;t.f^=he}}dt.push(t)}function Ia(e){for(var t=[],n=e;n!==null;){var r=n.f,a=(r&(Re|ot))!==0,o=a&&(r&he)!==0;if(!o&&(r&Ie)===0){if((r&Vn)!==0)t.push(n);else if(a)n.f^=he;else try{_t(n)&&pn(n)}catch(u){Ut(u,n,null,n.ctx)}var i=n.first;if(i!==null){n=i;continue}}var l=n.parent;for(n=n.next;n===null&&l!==null;)n=l.next,l=l.parent}return t}function Ba(e){var t;for(Ln();dt.length>0;)Lt=!0,mr(),Ln();return t}async function Ra(){await Promise.resolve(),Ba()}function s(e){var t=e.f,n=(t&Ce)!==0;if(K!==null&&!Le){if(!(de!=null&&de.includes(e))){var r=K.deps;e.rv<Pt&&(e.rv=Pt,ue===null&&r!==null&&r[pe]===e?pe++:ue===null?ue=[e]:(!Fe||!ue.includes(e))&&ue.push(e))}}else if(n&&e.deps===null&&e.effects===null){var a=e,o=a.parent;o!==null&&(o.f&me)===0&&(a.f^=me)}return n&&(a=e,_t(a)&&$n(a)),mt&&ft.has(e)?ft.get(e):e.v}function rt(e){var t=Le;try{return Le=!0,e()}finally{Le=t}}const Na=-7169;function xe(e,t){e.f=e.f&Na|t}function Fa(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(We in e)Qt(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&We in n&&Qt(n)}}}function Qt(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{Qt(e[r],t)}catch{}const n=sn(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=jn(n);for(let a in r){const o=r[a].get;if(o)try{o.call(e)}catch{}}}}}const za=["touchstart","touchmove"];function Ha(e){return za.includes(e)}let On=!1;function Ua(){On||(On=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const n of e.target.elements)(t=n.__on_r)==null||t.call(n)})},{capture:!0}))}function _r(e){var t=K,n=J;Ae(null),He(null);try{return e()}finally{Ae(t),He(n)}}function ja(e,t,n,r=n){e.addEventListener(t,()=>_r(n));const a=e.__on_r;a?e.__on_r=()=>{a(),r(!0)}:e.__on_r=()=>r(!0),Ua()}const wr=new Set,$t=new Set;function qa(e,t,n,r={}){function a(o){if(r.capture||ct.call(t,o),!o.cancelBubble)return _r(()=>n==null?void 0:n.call(this,o))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?gn(()=>{t.addEventListener(e,a,r)}):t.addEventListener(e,a,r),a}function Ve(e,t,n,r,a){var o={capture:r,passive:a},i=qa(e,t,n,o);(t===document.body||t===window||t===document)&&fn(()=>{t.removeEventListener(e,i,o)})}function ye(e){for(var t=0;t<e.length;t++)wr.add(e[t]);for(var n of $t)n(e)}function ct(e){var p;var t=this,n=t.ownerDocument,r=e.type,a=((p=e.composedPath)==null?void 0:p.call(e))||[],o=a[0]||e.target,i=0,l=e.__root;if(l){var u=a.indexOf(l);if(u!==-1&&(t===document||t===window)){e.__root=t;return}var d=a.indexOf(t);if(d===-1)return;u<=d&&(i=u)}if(o=a[i]||e.target,o!==t){Hr(e,"currentTarget",{configurable:!0,get(){return o||n}});var c=K,v=J;Ae(null),He(null);try{for(var f,g=[];o!==null;){var h=o.assignedSlot||o.parentNode||o.host||null;try{var _=o["__"+r];if(_!=null&&(!o.disabled||e.target===o))if(an(_)){var[w,...S]=_;w.apply(o,[e,...S])}else _.call(o,e)}catch(k){f?g.push(k):f=k}if(e.cancelBubble||h===t||h===null)break;o=h}if(f){for(let k of g)queueMicrotask(()=>{throw k});throw f}}finally{e.__root=t,delete e.currentTarget,Ae(c),He(v)}}}function yr(e){var t=document.createElement("template");return t.innerHTML=e,t.content}function gt(e,t){var n=J;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function H(e,t){var n=(t&va)!==0,r=(t&ha)!==0,a,o=!e.startsWith("<!>");return()=>{a===void 0&&(a=yr(o?e:"<!>"+e),n||(a=tt(a)));var i=r||nr?document.importNode(a,!0):a.cloneNode(!0);if(n){var l=tt(i),u=i.lastChild;gt(l,u)}else gt(i,i);return i}}function Va(e,t,n="svg"){var r=!e.startsWith("<!>"),a=`<${n}>${r?e:"<!>"+e}</${n}>`,o;return()=>{if(!o){var i=yr(a),l=tt(i);o=tt(l)}var u=o.cloneNode(!0);return gt(u,u),u}}function le(e=""){{var t=Nt(e+"");return gt(t,t),t}}function _e(){var e=document.createDocumentFragment(),t=document.createComment(""),n=Nt();return e.append(t,n),gt(t,n),e}function x(e,t){e!==null&&e.before(t)}function Ke(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function Ya(e,t){return Wa(e,t)}const Ze=new Map;function Wa(e,{target:t,anchor:n,props:r={},events:a,context:o,intro:i=!0}){ba();var l=new Set,u=v=>{for(var f=0;f<v.length;f++){var g=v[f];if(!l.has(g)){l.add(g);var h=Ha(g);t.addEventListener(g,ct,{passive:h});var _=Ze.get(g);_===void 0?(document.addEventListener(g,ct,{passive:h}),Ze.set(g,1)):Ze.set(g,_+1)}}};u(on(wr)),$t.add(u);var d=void 0,c=Ta(()=>{var v=n??t.appendChild(Nt());return nt(()=>{if(o){Y({});var f=X;f.c=o}a&&(r.$$events=a),d=e(v,r)||{},o&&W()}),()=>{var h;for(var f of l){t.removeEventListener(f,ct);var g=Ze.get(f);--g===0?(document.removeEventListener(f,ct),Ze.delete(f)):Ze.set(f,g)}$t.delete(u),v!==n&&((h=v.parentNode)==null||h.removeChild(v))}});return Xa.set(d,c),d}let Xa=new WeakMap;function j(e,t,[n,r]=[0,0]){var a=e,o=null,i=null,l=fe,u=n>0?Rt:0,d=!1;const c=(f,g=!0)=>{d=!0,v(g,f)},v=(f,g)=>{l!==(l=f)&&(l?(o?xt(o):g&&(o=nt(()=>g(a))),i&&Ct(i,()=>{i=null})):(i?xt(i):g&&(i=nt(()=>g(a,[n+1,r]))),o&&Ct(o,()=>{o=null})))};Ht(()=>{d=!1,t(c),d||v(null,null)},u)}function Pe(e,t){zt(()=>{var n=t();for(var r in n){var a=n[r];a?e.style.setProperty(r,a):e.style.removeProperty(r)}}),fn(()=>{e.remove()})}function Ga(e,t){return t}function Ka(e,t,n,r){for(var a=[],o=t.length,i=0;i<o;i++)hn(t[i].e,a,!0);var l=o>0&&a.length===0&&n!==null;if(l){var u=n.parentNode;ka(u),u.append(n),r.clear(),Ne(e,t[0].prev,t[o-1].next)}cr(a,()=>{for(var d=0;d<o;d++){var c=t[d];l||(r.delete(c.k),Ne(e,c.prev,c.next)),Be(c.e,!l)}})}function ze(e,t,n,r,a,o=null){var i=e,l={flags:t,items:new Map,first:null},u=(t&Xn)!==0;if(u){var d=e;i=d.appendChild(Nt())}var c=null,v=!1,f=Jn(()=>{var g=n();return an(g)?g:g==null?[]:on(g)});Ht(()=>{var g=s(f),h=g.length;v&&h===0||(v=h===0,Ja(g,l,i,a,t,r,n),o!==null&&(h===0?c?xt(c):c=nt(()=>o(i)):c!==null&&Ct(c,()=>{c=null})),s(f))})}function Ja(e,t,n,r,a,o,i){var M,z,I,F;var l=(a&ia)!==0,u=(a&(un|dn))!==0,d=e.length,c=t.items,v=t.first,f=v,g,h=null,_,w=[],S=[],p,k,m,b;if(l)for(b=0;b<d;b+=1)p=e[b],k=o(p,b),m=c.get(k),m!==void 0&&((M=m.a)==null||M.measure(),(_??(_=new Set)).add(m));for(b=0;b<d;b+=1){if(p=e[b],k=o(p,b),m=c.get(k),m===void 0){var y=f?f.e.nodes_start:n;h=Qa(y,t,h,h===null?t.first:h.next,p,k,b,r,a,i),c.set(k,h),w=[],S=[],f=h.next;continue}if(u&&Za(m,p,b,a),(m.e.f&Ie)!==0&&(xt(m.e),l&&((z=m.a)==null||z.unfix(),(_??(_=new Set)).delete(m))),m!==f){if(g!==void 0&&g.has(m)){if(w.length<S.length){var C=S[0],P;h=C.prev;var D=w[0],A=w[w.length-1];for(P=0;P<w.length;P+=1)An(w[P],C,n);for(P=0;P<S.length;P+=1)g.delete(S[P]);Ne(t,D.prev,A.next),Ne(t,h,D),Ne(t,A,C),f=C,h=A,b-=1,w=[],S=[]}else g.delete(m),An(m,f,n),Ne(t,m.prev,m.next),Ne(t,m,h===null?t.first:h.next),Ne(t,h,m),h=m;continue}for(w=[],S=[];f!==null&&f.k!==k;)(f.e.f&Ie)===0&&(g??(g=new Set)).add(f),S.push(f),f=f.next;if(f===null)continue;m=f}w.push(m),h=m,f=m.next}if(f!==null||g!==void 0){for(var R=g===void 0?[]:on(g);f!==null;)(f.e.f&Ie)===0&&R.push(f),f=f.next;var O=R.length;if(O>0){var U=(a&Xn)!==0&&d===0?n:null;if(l){for(b=0;b<O;b+=1)(I=R[b].a)==null||I.measure();for(b=0;b<O;b+=1)(F=R[b].a)==null||F.fix()}Ka(t,R,U,c)}}l&&gn(()=>{var G;if(_!==void 0)for(m of _)(G=m.a)==null||G.apply()}),J.first=t.first&&t.first.e,J.last=h&&h.e}function Za(e,t,n,r){(r&un)!==0&&Jt(e.v,t),(r&dn)!==0?Jt(e.i,n):e.i=n}function Qa(e,t,n,r,a,o,i,l,u,d){var c=(u&un)!==0,v=(u&sa)===0,f=c?v?er(a):vt(a):a,g=(u&dn)===0?i:vt(i),h={i:g,v:f,k:o,a:null,e:null,prev:n,next:r};try{return h.e=nt(()=>l(e,f,g,d),ya),h.e.prev=n&&n.e,h.e.next=r&&r.e,n===null?t.first=h:(n.next=h,n.e.next=h.e),r!==null&&(r.prev=h,r.e.prev=h.e),h}finally{}}function An(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,a=t?t.e.nodes_start:n,o=e.e.nodes_start;o!==r;){var i=Ft(o);a.before(o),o=i}}function Ne(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function Je(e,t,...n){var r=e,a=qn,o;Ht(()=>{a!==(a=t())&&(o&&(Be(o),o=null),o=nt(()=>a(r,...n)))},Rt)}function br(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=br(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function $a(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=br(e))&&(r&&(r+=" "),r+=t);return r}function te(e){return typeof e=="object"?$a(e):e??""}const Mn=[...` 	
\r\f \v\uFEFF`];function eo(e,t,n){var r=e==null?"":""+e;if(t&&(r=r?r+" "+t:t),n){for(var a in n)if(n[a])r=r?r+" "+a:a;else if(r.length)for(var o=a.length,i=0;(i=r.indexOf(a,i))>=0;){var l=i+o;(i===0||Mn.includes(r[i-1]))&&(l===r.length||Mn.includes(r[l]))?r=(i===0?"":r.substring(0,i))+r.substring(l+1):i=l}}return r===""?null:r}function to(e,t){return e==null?null:String(e)}function Z(e,t,n,r,a,o){var i=e.__className;if(i!==n||i===void 0){var l=eo(n,r,o);l==null?e.removeAttribute("class"):e.className=l,e.__className=n}else if(o&&a!==o)for(var u in o){var d=!!o[u];(a==null||d!==!!a[u])&&e.classList.toggle(u,d)}return o}function At(e,t,n,r){var a=e.__style;if(a!==t){var o=to(t);o==null?e.removeAttribute("style"):e.style.cssText=o,e.__style=t}return r}const no=Symbol("is custom element"),ro=Symbol("is html");function Vt(e,t){var n=mn(e);n.value===(n.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function Yt(e,t){var n=mn(e);n.checked!==(n.checked=t??void 0)&&(e.checked=t)}function ke(e,t,n,r){var a=mn(e);a[t]!==(a[t]=n)&&(t==="loading"&&(e[Gr]=n),n==null?e.removeAttribute(t):typeof n!="string"&&ao(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function mn(e){return e.__attributes??(e.__attributes={[no]:e.nodeName.includes("-"),[ro]:e.namespaceURI===ga})}var In=new Map;function ao(e){var t=In.get(e.nodeName);if(t)return t;In.set(e.nodeName,t=[]);for(var n,r=e,a=Element.prototype;a!==r;){n=jn(r);for(var o in n)n[o].set&&t.push(o);r=sn(r)}return t}function _n(e,t,n=t){var r=pt();ja(e,"input",a=>{var o=a?e.defaultValue:e.value;if(o=Wt(e)?Xt(o):o,n(o),r&&o!==(o=t())){var i=e.selectionStart,l=e.selectionEnd;e.value=o??"",l!==null&&(e.selectionStart=i,e.selectionEnd=Math.min(l,e.value.length))}}),rt(t)==null&&e.value&&n(Wt(e)?Xt(e.value):e.value),zt(()=>{var a=t();Wt(e)&&a===Xt(e.value)||e.type==="date"&&!a&&!e.value||a!==e.value&&(e.value=a??"")})}function Wt(e){var t=e.type;return t==="number"||t==="range"}function Xt(e){return e===""?null:+e}function Bn(e,t){return e===t||(e==null?void 0:e[We])===t}function we(e={},t,n,r){return vn(()=>{var a,o;return zt(()=>{a=o,o=[],rt(()=>{e!==n(...o)&&(t(e,...o),a&&Bn(n(...a),e)&&t(null,...a))})}),()=>{gn(()=>{o&&Bn(n(...o),e)&&t(null,...o)})}}),e}function wn(e=!1){const t=X,n=t.l.u;if(!n)return;let r=()=>Fa(t.s);if(e){let a=0,o={};const i=et(()=>{let l=!1;const u=t.s;for(const d in u)u[d]!==o[d]&&(o[d]=u[d],l=!0);return l&&a++,a});r=()=>s(i)}n.b.length&&Ea(()=>{Rn(t,r),St(n.b)}),ve(()=>{const a=rt(()=>n.m.map(qr));return()=>{for(const o of a)typeof o=="function"&&o()}}),n.a.length&&ve(()=>{Rn(t,r),St(n.a)})}function Rn(e,t){if(e.l.s)for(const n of e.l.s)s(n);t()}let yt=!1;function oo(e){var t=yt;try{return yt=!1,[e(),yt]}finally{yt=t}}function Nn(e){var t;return((t=e.ctx)==null?void 0:t.d)??!1}function Q(e,t,n,r){var y;var a=(n&la)!==0,o=!it||(n&ca)!==0,i=(n&da)!==0,l=(n&fa)!==0,u=!1,d;i?[d,u]=oo(()=>e[t]):d=e[t];var c=We in e||Xr in e,v=i&&(((y=Qe(e,t))==null?void 0:y.set)??(c&&t in e&&(C=>e[t]=C)))||void 0,f=r,g=!0,h=!1,_=()=>(h=!0,g&&(g=!1,l?f=rt(r):f=r),f);d===void 0&&r!==void 0&&(v&&o&&ea(),d=_(),v&&v(d));var w;if(o)w=()=>{var C=e[t];return C===void 0?_():(g=!0,h=!1,C)};else{var S=(a?et:Jn)(()=>e[t]);S.f|=Yr,w=()=>{var C=s(S);return C!==void 0&&(f=void 0),C===void 0?f:C}}if((n&ua)===0)return w;if(v){var p=e.$$legacy;return function(C,P){return arguments.length>0?((!o||!P||p||u)&&v(P?w():C),C):w()}}var k=!1,m=er(d),b=et(()=>{var C=w(),P=s(m);return k?(k=!1,P):m.v=C});return i&&s(b),a||(b.equals=cn),function(C,P){if(arguments.length>0){const D=P?s(b):o&&i?se(C):C;if(!b.equals(D)){if(k=!0,T(m,D),h&&f!==void 0&&(f=D),Nn(b))return C;rt(()=>s(b))}return C}return Nn(b)?b.v:s(b)}}function Ee(e){X===null&&Gn(),it&&X.l!==null?io(X).m.push(e):ve(()=>{const t=rt(e);if(typeof t=="function")return t})}function io(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const so="5";var Un;typeof window<"u"&&((Un=window.__svelte??(window.__svelte={})).v??(Un.v=new Set)).add(so);let ut=N("");function lo(e){T(ut,e,!0)}var co=H('<div class="notification svelte-1h5k2zn"> </div>');function uo(e,t){Y(t,!0),ve(()=>{s(ut);const o=setTimeout(()=>{T(ut,"")},800);return()=>{clearTimeout(o)}});var n=_e(),r=q(n);{var a=o=>{var i=co(),l=E(i);re(()=>Ke(l,s(ut))),x(o,i)};j(r,o=>{s(ut)&&o(a)})}x(e,n),W()}oa();var fo=H('<span class="vh svelte-14jjkpd"> </span>');function at(e,t){var n=fo(),r=E(n);re(()=>Ke(r,t.children)),x(e,n)}var vo=Va('<svg class="svelte-1lqi79o"><use></use></svg>');function Se(e,t){let n=Q(t,"name",8,"");var r=vo(),a=E(r);re(()=>ke(a,"href",`#icon-${n()??""}`)),x(e,r)}const kr=(e,t)=>{if(!t)return e;if(t.type==="closed")return{type:"closed"};switch(e.type){case"opened":return t.type==="close"?{type:"closing"}:t.type==="swipe"?{type:"openSwiping"}:e;case"closed":return t.type==="open"?{type:"opening"}:t.type==="swipe"?{type:"closeSwiping"}:e;case"openSwiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"closeSwiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"opening":return t.type==="opened"?{type:"opened"}:e;default:return e}};let en=N(se(kr({type:"closed"})));const qe=e=>{T(en,kr(s(en),e),!0)},Sr=()=>s(en),ho=()=>{qe({type:"open"})},go=()=>{qe({type:"close"})},po=()=>{const e=Sr().type;e==="closed"?ho():e==="opened"&&go()};var mo=H('<button class="buttonMenu svelte-uq0knv"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>');function Er(e,t){Y(t,!1),wn();var n=mo();n.__click=[po];var r=E(n);Pe(r,()=>({"--size":"28px"})),Se(r.lastChild,{name:"sidebarMenu"});var a=L(r,2);at(a,{children:(o,i)=>{var l=le("Menu");x(o,l)}}),x(e,n),W()}ye(["click"]);const V=se({pathname:window.location.pathname,search:window.location.search,historyLength:0}),Tr=()=>{var e;return((e=new URLSearchParams(V.search).get("selectedTags"))==null?void 0:e.split(","))||[]};let bt=Tr();const _o=()=>{const e=Tr();return e.join(",")===bt.join(",")||(bt=e),bt},wo=()=>{V.pathname=document.location.pathname,V.search=document.location.search,V.historyLength=Math.max(0,V.historyLength-=1)};window.addEventListener("popstate",wo);const tn=e=>{const[t,n]=e.split("?");V.pathname=t,V.search=n?`?${n}`:"",V.historyLength+=1,window.history.pushState(null,"",e)},yo=e=>{const[t,n]=e.split("?");V.pathname=t,V.search=n?`?${n}`:"",window.history.replaceState(null,"",e)},wt=(e="/")=>{const[t,n]=e.split("?");V.historyLength<=0?(window.history.replaceState(null,"",e),V.historyLength=0,V.pathname=t,V.search=n?`?${n}`:""):window.history.back()},Ue=()=>{var e;return((e=new URLSearchParams(V.search).get("stackPages"))==null?void 0:e.split(","))||[]};let $e=N(se(Ue()));const lt=e=>{const t=Ue();t.push(e);const n=new URLSearchParams(V.search);n.set("stackPages",t.join(",")),T($e,t,!0),tn(`${V.pathname}?${n.toString()}`)},bo=()=>{const e=s($e).slice(0,-1);T($e,e,!0)},ko=()=>{const e=Ue();return e.length>=s($e).length?e.reduce((t,n)=>[...t,{page:n,shown:!0}],[]):s($e).reduce((t,n,r)=>[...t,{page:n,shown:r!==s($e).length-1}],[])},So=e=>{e.preventDefault(),lt("settings")},Eo=e=>{e.preventDefault(),lt("newBookmark")};var To=H('<a class="addBookmark svelte-1air6am"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Add bookmark</span></a>'),Co=H('<div class="header svelte-1air6am"><div class="top svelte-1air6am"><div class="desktop svelte-1air6am"><a class="link svelte-1air6am"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Settings</span></a></div> <div class="mobile svelte-1air6am"><!></div> <!></div></div>');function xo(e,t){Y(t,!0);const n=()=>{const _=Ue();_.includes("settings")||_.push("settings");const w=new URLSearchParams(V.search);return w.set("stackPages",_.join(",")),`${V.pathname}?${w}`};let a=ie(()=>{const _=Ue();_.includes("newBookmark")||_.push("newBookmark");const w=new URLSearchParams(V.search);return w.set("stackPages",_.join(",")),`${V.pathname}?${w}`}),o=ie(n);var i=Co(),l=E(i),u=E(l),d=E(u);d.__click=[So];var c=E(d);Pe(c,()=>({"--size":"20px"})),Se(c.lastChild,{name:"settings"});var v=L(u,2),f=E(v);Er(f,{});var g=L(v,2);{var h=_=>{var w=To();w.__click=[Eo];var S=E(w);Pe(S,()=>({"--size":"24px","--color":"#b0b0b0"})),Se(S.lastChild,{name:"plus"}),re(()=>ke(w,"href",s(a))),x(_,w)};j(g,_=>{V.pathname!=="/settings"&&_(h)})}re(()=>ke(d,"href",s(o))),x(e,i),W()}ye(["click"]);const Cr=()=>window.matchMedia("(max-width: 768px)").matches;let xr=N(se(Cr()));const Lo=(e,t)=>{let n=null;return()=>{n&&clearTimeout(n),n=setTimeout(()=>{e()},t)}},Do=Lo(()=>{T(xr,Cr(),!0)},16);window.addEventListener("resize",Do);const yn=()=>s(xr),ce=se({working:!1,swipingRatio:1,isSwiping:!1,duration:.35});function Po(e,t){Y(t,!0);let n=Q(t,"dialog",7),r=null;const a=()=>{t.dialogState==="swiping"&&t.onClose()};ve(()=>(t.dialogState==="swiping"&&(r=setTimeout(a,3e3)),()=>{r&&(clearTimeout(r),r=null)}));let o=null,i=null;const l=3,u=50,d=5,c=.6,v=.3,f=.35,g=.95;let h=0,_=0,w=0,S=!1,p=!1,k=0,m=0,b=0;const y=()=>{h=0,_=0,S=!1,p=!1,k=0,m=0,b=0,w=0,o=null,i!==null&&(cancelAnimationFrame(i),i=null),r&&(clearTimeout(r),r=null)},C=I=>{if(!n()){console.warn("Touch start: No dialog element");return}if(t.dialogState!=="opened"){console.warn(`Touch start: Invalid sidebar state: ${t.dialogState}`);return}h=I.touches[0].clientX,_=I.touches[0].clientY,w=performance.now(),S=!0,p=!1},P=I=>t.dialogState==="opened"&&I>0||t.dialogState==="swiping"&&I>0,D=I=>{if(n()){n().style.setProperty("--transition-timing","0s"),t.onSwipe(),navigator.vibrate&&navigator.vibrate(10);try{const F=window.getComputedStyle(n()),G=F.transform||F.webkitTransform||"";if(m=n().offsetWidth,(t.dialogState==="swiping"||t.dialogState==="opened")&&(k=0),G&&G!=="none")try{k=new DOMMatrix(G).m41}catch{console.warn("Could not parse transform matrix, using default position")}p=!0}catch(F){console.error("Error during swipe initialization:",F),y()}}},A=()=>{if(!n())return;const F=Math.abs(k+b*m/100)/m;n().style.setProperty("--backdrop-bg",`rgba(0, 0, 0, ${.1*(1-F)})`)},R=()=>{if(i=null,!o||!S||!n()){y();return}const I=o.touches[0].clientX,F=o.touches[0].clientY,G=I-h,ae=F-_,B=Math.abs(G)>Math.abs(ae),$=Math.abs(G)>l;if(!p)if(B&&$&&P(G))try{D(G)}catch(kn){console.error("Error initializing swipe:",kn),y();return}else return;if(!P(G))return;n().style.setProperty("--transition-timing","0s");let ee=k+G*g;ee=Math.max(0,Math.min(m,ee)),n().style.transform=`translate3d(${ee}px, 0, 0)`,ce.swipingRatio=Math.abs(1-ee/m),b=(ee-k)/m*100,t.dialogState==="swiping"&&(r&&clearTimeout(r),r=setTimeout(a,3e3)),A()},O=I=>{if(!S)return;o=I,i===null&&(i=requestAnimationFrame(R));const F=I.touches[0].clientX-h,G=I.touches[0].clientY-_,ae=Math.abs(F)>Math.abs(G);p&&ae&&I.preventDefault()},U=I=>{const F=Math.abs(I);if(F>=c)return d;if(F>=v){const G=(F-v)/(c-v);return u-G*(u-d)}else return u},M=(I,F)=>{if(Math.abs(I)>=c)return f*.5;const ae=Math.abs(b)/100;return F?f*Math.max(.5,1-ae):f*Math.max(.5,ae)},z=I=>{var ee,ge;if(i!==null&&(cancelAnimationFrame(i),i=null),!S||!n()){y();return}if(!p){y();return}let F=0;if((ee=I==null?void 0:I.changedTouches)!=null&&ee[0]){const Me=I.changedTouches[0].clientX,Sn=performance.now()-w;Sn>0&&(F=(Me-h)/Sn)}const G=U(F);let ae=null;t.dialogState==="swiping"&&(ae=Math.abs(b)>G||F<-.3?"close":"open");const B=t.dialogState==="swiping"&&ae==="close",$=M(F,B);ce.duration=$-.02,n().style.setProperty("--transition-timing",`${$}s`),n().offsetWidth,n().style.transform="",ae==="open"?t.onOpen():ae==="close"&&t.onClose(),(ge=n())==null||ge.style.removeProperty("--backdrop-bg"),y()};Ee(()=>(n().addEventListener("touchstart",C,{passive:!0}),n().addEventListener("touchmove",O,{passive:!1}),n().addEventListener("touchend",z,{passive:!0}),n().addEventListener("touchcancel",z,{passive:!0}),()=>{n().removeEventListener("touchstart",C),n().removeEventListener("touchmove",O),n().removeEventListener("touchend",z),n().removeEventListener("touchcancel",z),i!==null&&cancelAnimationFrame(i)})),W()}var Oo=(e,t)=>{t.onStartClose()},Ao=H('<dialog><div class="dialogInner svelte-6oog5z"><span tabindex="1"></span> <!> <div class="header svelte-6oog5z"><div><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button></div></div></div></dialog> <!>',1);function Mo(e,t){Y(t,!0);let n=350,r=N(null),a=N(null);const o=p=>{p.preventDefault(),t.onStartClose()};Ee(()=>{var p,k;return console.log("swiping mounted"),(p=s(r))==null||p.addEventListener("close",t.onClosed),(k=s(r))==null||k.addEventListener("cancel",o),()=>{var m,b;(m=s(r))==null||m.removeEventListener("close",t.onClosed),(b=s(r))==null||b.removeEventListener("cancel",o)}});const i=()=>{var p,k,m;(p=s(r))==null||p.style.removeProperty("--transition-timing"),(k=s(r))==null||k.style.removeProperty("transform"),(m=s(r))==null||m.style.removeProperty("--backdrop-bg")};ve(()=>{var p,k;if(t.dialogState,!!s(r))switch(t.dialogState){case"opening":{s(r).open||s(r).showModal(),s(r).getBoundingClientRect();const m=setTimeout(()=>{i()},n+1),b=()=>{clearTimeout(m),i()};return(p=s(r))==null||p.addEventListener("transitionend",b,{once:!0}),t.onOpened(),()=>{var y;(y=s(r))==null||y.removeEventListener("transitionend",b)}}case"closing":{const m=setTimeout(()=>{t.dialogState==="closing"&&t.onClosed()},n+1),b=()=>{clearTimeout(m),t.onClosed()};return(k=s(r))==null||k.addEventListener("transitionend",b,{once:!0}),()=>{var y;(y=s(r))==null||y.removeEventListener("transitionend",b)}}case"opened":i()}});var l=Ao(),u=q(l),d=E(u),c=L(E(d),2);Je(c,()=>t.children);var v=L(c,2),f=E(v),g=E(f);Z(g,1,te(["navigateButton","buttonBack"]),"svelte-6oog5z"),g.__click=[Oo,t];var h=E(g);Pe(h,()=>({"--size":"20px"})),Se(h.lastChild,{name:"back"});var _=L(h,2);at(_,{children:(p,k)=>{var m=le("back");x(p,m)}}),we(d,p=>T(a,p),()=>s(a)),we(u,p=>T(r,p),()=>s(r));var w=L(u,2);{var S=p=>{Po(p,{get onClose(){return t.onStartClose},get onOpen(){return t.onStartOpen},get onSwipe(){return t.onSwipe},get dialogState(){return t.dialogState},get dialog(){return s(r)}})};j(w,p=>{(t.dialogState==="opened"||t.dialogState==="swiping")&&!t.blocked&&p(S)})}re(()=>Z(u,1,te([{open:t.dialogState==="opened",hidden:t.hidden,isAnimationOn:ce.working&&(!ce.isSwiping||!t.hidden)},{hidden:t.hidden}]),"svelte-6oog5z")),x(e,l),W()}ye(["click"]);const Fn=(e,t)=>{if(!t)return e;if(t.type==="closed")return{type:"closed"};switch(e.type){case"opened":return t.type==="close"?{type:"closing"}:t.type==="swipe"?{type:"swiping"}:e;case"closed":return t.type==="open"?{type:"opening"}:e;case"swiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"opening":return t.type==="opened"?{type:"opened"}:e;default:return e}};function Io(e,t){Y(t,!0);let n=Q(t,"blocked",3,!1),r=Q(t,"hiddenDialog",3,!1),a=Q(t,"onStartClose",3,()=>{}),o=Q(t,"onClose",3,()=>{}),i=N(se(Fn({type:"closed"})));const l=w=>{T(i,Fn(s(i),w),!0)},u=()=>{n()||(a()(),l({type:"close"}))},d=()=>{n()||l({type:"open"})},c=()=>{l({type:"opened"}),ce.duration=.2},v=()=>{o()(),l({type:"closed"}),ce.swipingRatio=1,ce.duration=.2},f=()=>{l({type:"swipe"})};ve(()=>{s(i).type==="swiping"?ce.isSwiping=!0:ce.isSwiping=!1,s(i).type==="closed"&&t.shownDialog?d():s(i).type==="opened"&&!t.shownDialog&&u()});var g=_e(),h=q(g);{var _=w=>{Mo(w,{onSwipe:f,onOpened:c,onClosed:v,onStartClose:u,onStartOpen:d,get dialogState(){return s(i).type},get hidden(){return r()},get blocked(){return n()},children:(S,p)=>{var k=_e(),m=q(k);Je(m,()=>t.children),x(S,k)},$$slots:{default:!0}})};j(h,w=>{s(i).type!=="closed"&&w(_)})}return x(e,g),W({handleComputeState:l})}const Bo=({getDialog:e,onOpen:t,onStartClose:n,onClose:r})=>{const a=i=>{i.preventDefault(),n()},o=()=>{r==null||r()};Ee(()=>{const i=e();return i==null||i.addEventListener("close",o),i==null||i.addEventListener("cancel",a),()=>{i==null||i.removeEventListener("close",o),i==null||i.removeEventListener("cancel",a)}}),Ee(()=>{const i=e();i==null||i.showModal(),i==null||i.getBoundingClientRect(),t()})};function Lr(e,t){Y(t,!0),Ee(()=>{const n=r=>{var a;r.target&&((a=t.dialog)!=null&&a.open)&&t.dialogInner&&t.dialogInner!==r.target&&!t.dialogInner.contains(r.target)&&t.onClose()};return document.addEventListener("mousedown",n,{capture:!0}),()=>{document.removeEventListener("mousedown",n,{capture:!0})}}),W()}var Ro=(e,t)=>{t.onStartClose()},No=(e,t)=>{t.onStartClose()},Fo=H('<dialog><div class="dialogInner svelte-zuec9t"><span tabindex="1"></span> <!> <div class="header svelte-zuec9t"><div><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button></div> <div><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button></div></div></div></dialog> <!>',1);function zo(e,t){Y(t,!0);let n=Q(t,"hiddenDialog",3,!1),r=Q(t,"isDesktopAnimationOff",3,!1),a=N(null),o=N(null);Bo({getDialog:()=>s(a),onOpen:t.onOpen,onStartClose:t.onStartClose,onClose:t.onClose}),ve(()=>{var m,b;t.stateDialog==="closing"&&(ce.working?(m=s(a))==null||m.addEventListener("transitionend",()=>{var y;(y=s(a))==null||y.close()},{once:!0}):(b=s(a))==null||b.close())});var i=Fo(),l=q(i),u=E(l),d=L(E(u),2);Je(d,()=>t.children);var c=L(d,2),v=E(c),f=E(v);Z(f,1,te(["navigateButton","buttonBack"]),"svelte-zuec9t"),f.__click=[Ro,t];var g=E(f);Pe(g,()=>({"--size":"20px"})),Se(g.lastChild,{name:"back"});var h=L(g,2);at(h,{children:(m,b)=>{var y=le("back");x(m,y)}});var _=L(v,2),w=E(_);Z(w,1,te(["navigateButton","buttonClose"]),"svelte-zuec9t"),w.__click=[No,t];var S=E(w);Pe(S,()=>({"--size":"20px"})),Se(S.lastChild,{name:"close"});var p=L(S,2);at(p,{children:(m,b)=>{var y=le("close");x(m,y)}}),we(u,m=>T(o,m),()=>s(o)),we(l,m=>T(a,m),()=>s(a));var k=L(l,2);Lr(k,{get dialog(){return s(a)},get dialogInner(){return s(o)},get onClose(){return t.onStartClose}}),re(()=>Z(l,1,te([{open:t.stateDialog==="open",isAnimationOn:ce.working,isDesktopAnimationOff:r(),hiddenDialog:n()}]),"svelte-zuec9t")),x(e,i),W()}ye(["click"]);const Ho=({onStartClose:e,onClose:t})=>{let n=N("close");return{get state(){return s(n)},set state(i){T(n,i,!0)},handleStartClose:(i=!1)=>{i||(T(n,"closing"),e==null||e())},handleOpen:()=>{T(n,"open")},handleClose:()=>{T(n,"close"),t==null||t()}}};function Uo(e,t){Y(t,!0);let n=Q(t,"blockedClose",3,!1),r=Q(t,"hiddenDialog",3,!1),a=Q(t,"onStartClose",3,()=>{}),o=Q(t,"onClose",3,()=>{}),i=Ho({onStartClose:a(),onClose:o()});ve(()=>{i.state==="close"&&t.shownDialog?i.state="opening":i.state==="open"&&!t.shownDialog&&i.handleStartClose(n())});var l=_e(),u=q(l);{var d=c=>{zo(c,{get stateDialog(){return i.state},get hiddenDialog(){return r()},get onOpen(){return i.handleOpen},onStartClose:()=>i.handleStartClose(n()),get onClose(){return i.handleClose},children:(v,f)=>{var g=_e(),h=q(g);Je(h,()=>t.children),x(v,g)},$$slots:{default:!0}})};j(u,c=>{i.state!=="close"&&c(d)})}x(e,l),W()}function Dr(e,t){Y(t,!0);let n=Q(t,"blockedClose",3,!1),r=Q(t,"hiddenDialog",3,!1),a=Q(t,"onStartClose",3,()=>{}),o=Q(t,"onClose",3,()=>{});var i=_e(),l=q(i);{var u=c=>{Io(c,{get shownDialog(){return t.shownDialog},get blocked(){return n()},get hiddenDialog(){return r()},get children(){return t.children},get onStartClose(){return a()},get onClose(){return o()}})},d=c=>{Uo(c,{get shownDialog(){return t.shownDialog},get blockedClose(){return n()},get hiddenDialog(){return r()},get children(){return t.children},get onStartClose(){return a()},get onClose(){return o()}})};j(l,c=>{yn()?c(u):c(d,!1)})}x(e,i),W()}function jo(e,t){Y(t,!0),Dr(e,{get shownDialog(){return t.shown},get blockedClose(){return t.hidden},get hiddenDialog(){return t.hidden},onStartClose:()=>{wt()},onClose:()=>{bo()},children:(a,o)=>{var i=_e(),l=q(i);Je(l,()=>t.children),x(a,i)},$$slots:{default:!0}}),W()}const Pr=()=>crypto.randomUUID(),nn=(e,t,n,r=new Set,a={})=>{var o,i;for(const l of e.children)if(l.tagName==="DT"){const u=l.querySelector(":scope > A"),d=l.querySelector(":scope > H3");if(u){const c=u.getAttribute("href"),v=u.textContent||"unknown";if(!c)return n;const f=t.find(g=>g.toLowerCase()==="bookmarks bar")?t.filter(g=>g.toLowerCase()!=="bookmarks bar"):["other"];if(a[c])a[c].tags=[...new Set([...a[c].tags,...f])];else{const g={id:Pr(),order:n.length,url:c,title:v,description:"",tags:f.length>0?f:[],lastUpdatedTimestamp:Date.now(),createdTimestamp:Date.now()};a[g.url]=g,n.push(g)}}else if(d){const c=(o=d.textContent)==null?void 0:o.trim();if(c&&((i=d.nextElementSibling)==null?void 0:i.tagName)==="DL"){const v=[...t];v.push(c);const f=d.nextElementSibling;r.has(f)||(r.add(f),nn(f,v,n,r,a))}}}else l.tagName!=="DL"&&l.children.length>0&&(r.has(l)||(r.add(l),nn(l,[...t],n,r,a)));return n},qo=async e=>{const t=await e.text(),a=new DOMParser().parseFromString(t,"text/html").querySelector("DL");return a?nn(a,[],[]):[]},Vo=e=>{const t=Math.floor(Date.now()/1e3),n={};e.forEach(a=>{const o=a.tags||["Imported"];if(o.length===0){n.ROOT||(n.ROOT=[]),n.ROOT.push(a);return}o.forEach(i=>{n[i]||(n[i]=[]),n[i].push(a)})});let r=`<!DOCTYPE NETSCAPE-Bookmark-file-1>
<!-- This is an automatically generated file.
 It will be read and overwritten.
 DO NOT EDIT! -->
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8">
<TITLE>Bookmarks</TITLE>
<H1>Bookmarks</H1>
<DL><p>
<DT><H3 ADD_DATE="${t}" LAST_MODIFIED="${t}" PERSONAL_TOOLBAR_FOLDER="true">Bookmarks Bar</H3>
<DL><p>`;return Object.keys(n).forEach(a=>{a!=="ROOT"&&a!=="other"&&(r+=`
	<DT><H3 ADD_DATE="${t}" LAST_MODIFIED="${t}">${a}</H3>
	<DL><p>`,n[a].forEach(o=>{const i=o.title.replace(/"/g,"&quot;");r+=`
		<DT><A HREF="${o.url}" ADD_DATE="${Math.floor(o.createdTimestamp/1e3)||t}">${i}</A>`}),r+=`
	</DL><p>`)}),n.ROOT&&n.ROOT.forEach(a=>{const o=a.title.replace(/"/g,"&quot;");r+=`
	<DT><A HREF="${a.url}" ADD_DATE="${Math.floor(a.createdTimestamp/1e3)||t}">${o}</A>`}),r+=`
</DL><p>`,n.other&&n.other.forEach(a=>{const o=a.title.replace(/"/g,"&quot;");r+=`
	<DT><A HREF="${a.url}" ADD_DATE="${Math.floor(a.createdTimestamp/1e3)||t}">${o}</A>`}),r+="</DL><p>",r},Yo="bookmarksStore",Wo=1,Te="bookmarks";let oe;window.addEventListener("unhandledrejection",e=>{alert("Error: "+e.reason.message)});const Xo=()=>new Promise((e,t)=>{const n=indexedDB.open(Yo,Wo);n.addEventListener("upgradeneeded",()=>{const r=n.result;console.log("success upgradeneeded"),r.objectStoreNames.contains(Te)||r.createObjectStore(Te,{keyPath:"id"})}),n.addEventListener("success",()=>{console.log("success open"),e(),oe=n.result,oe.onversionchange=function(){oe==null||oe.close(),alert("app outdated, please reload the page")}}),n.addEventListener("blocked",()=>{t(),alert("app outdated, please reload the page")}),n.addEventListener("error",()=>{t(),console.error("Error",n.error)})}),Or=()=>new Promise((e,t)=>{const n=oe==null?void 0:oe.transaction(Te,"readonly"),r=n==null?void 0:n.objectStore(Te).getAll();r==null||r.addEventListener("success",()=>{const a=r.result;e(a)}),r==null||r.addEventListener("error",()=>{t()})}),Ar=async e=>new Promise((t,n)=>{const r=oe==null?void 0:oe.transaction(Te,"readwrite"),a=r==null?void 0:r.objectStore(Te),o=a==null?void 0:a.put({...e});o==null||o.addEventListener("success",()=>{t()}),o==null||o.addEventListener("error",()=>{n()})}),Go=async e=>new Promise((t,n)=>{const r=oe==null?void 0:oe.transaction(Te,"readwrite"),a=r==null?void 0:r.objectStore(Te),o=a==null?void 0:a.delete(e);o==null||o.addEventListener("success",()=>{t()}),o==null||o.addEventListener("error",()=>{n()})}),Ko=()=>new Promise((e,t)=>{const n=oe==null?void 0:oe.transaction(Te,"readwrite"),r=n==null?void 0:n.objectStore(Te),a=r==null?void 0:r.clear();a==null||a.addEventListener("success",()=>{e()}),a==null||a.addEventListener("error",()=>{t()})}),Jo=async()=>{await Ko()},Zo=async e=>{const t=(await Or()).reduce((o,i)=>(o[i.id]=i,o),{}),n={},r=oe==null?void 0:oe.transaction(Te,"readwrite"),a=r==null?void 0:r.objectStore(Te);e.forEach(o=>{t[o.id]?t[o.id].lastUpdatedTimestamp<o.lastUpdatedTimestamp&&(n[o.id]=o):n[o.id]=o}),await Promise.all(Object.values(n).map(o=>{const i=a==null?void 0:a.put(o);return new Promise((l,u)=>{i==null||i.addEventListener("success",()=>{l()}),i==null||i.addEventListener("error",()=>{u()})})}))};let ne=N({inited:!1,bookmarks:[],mapBookmarks:new Map});const Mr=async()=>{const e=await Or(),t=new Map,n=[];e.forEach(r=>{n[r.order]=r,t.set(r.id,r)}),T(ne,{...s(ne),bookmarks:n,mapBookmarks:t,inited:!0})};Xo().then(async()=>{await Mr()}).catch(()=>{console.error("failed to init db")});const Mt=()=>s(ne).inited,Ir=()=>s(ne).bookmarks,Qo=()=>s(ne).mapBookmarks,$o=async e=>{var n;const t={id:Pr(),order:(((n=s(ne).bookmarks.at(-1))==null?void 0:n.order)||s(ne).bookmarks.length)+1,createdTimestamp:Date.now(),...e,lastUpdatedTimestamp:Date.now()};s(ne).bookmarks.push(t),s(ne).mapBookmarks.set(t.id,t),T(ne,{...s(ne)}),await Ar(t)},ei=async e=>{const t={...e,lastUpdatedTimestamp:Date.now()};s(ne).bookmarks[t.order]=t,s(ne).mapBookmarks.set(t.id,t),T(ne,{...s(ne)}),await Ar(t)},ti=async e=>{const t=s(ne).mapBookmarks.get(e);s(ne).mapBookmarks.delete(e),s(ne).bookmarks[(t==null?void 0:t.order)||0]=void 0,T(ne,{...s(ne)}),await Go(e)},ni=async()=>{T(ne,{inited:!1,bookmarks:[],mapBookmarks:new Map}),await Jo()},ri=async(e="bookmarks-export.json")=>{const t=JSON.stringify({bookmarks:s(ne).bookmarks}),n=new Blob([t],{type:"application/json"}),r=URL.createObjectURL(n),a=document.createElement("a");a.href=r,a.download=e,document.body.appendChild(a),a.click(),setTimeout(()=>{document.body.removeChild(a),URL.revokeObjectURL(r)},0)},zn=async e=>{await Zo(e),await Mr()};let Br=N({});const Rr=()=>s(Br),ai=e=>{T(Br,e)};var oi=H('<input class="svelte-wip592">');function rn(e,t){Y(t,!0);let n=Q(t,"value",15,"");var r=oi();re(()=>ke(r,"placeholder",t.placeholder)),_n(r,n),x(e,r),W()}function ii(e,t){Y(t,!0);let n=Q(t,"dialog",7);const r=3,a=50,o=5,i=.6,l=.3,u=.35,d=.95;let c=0,v=0,f=0,g=!1,h=!1,_=0,w=0,S=0;const p=()=>{c=0,v=0,g=!1,h=!1,_=0,w=0,S=0,f=0,k!==null&&(cancelAnimationFrame(k),k=null),m=null};let k=null,m=null;const b=M=>{if(!n()){console.warn("Touch start: No dialog element");return}if(t.sidebarState!=="opened"&&t.sidebarState!=="closed"){console.warn(`Touch start: Invalid sidebar state: ${t.sidebarState}`);return}c=M.touches[0].clientX,v=M.touches[0].clientY,f=performance.now(),g=!0,h=!1},y=M=>t.sidebarState==="closed"&&M>0||t.sidebarState==="closeSwiping"&&M>0||t.sidebarState==="opened"&&M<0||t.sidebarState==="openSwiping"&&M<0,C=M=>{if(n()){if(n().style.setProperty("--transition-timing","0s"),!n().open&&t.sidebarState==="closed")try{n().showModal(),n().offsetWidth}catch(z){console.error("Error opening dialog:",z);return}t.onSwipe();try{const z=window.getComputedStyle(n()),I=z.transform||z.webkitTransform||"";if(w=n().offsetWidth,t.sidebarState==="closeSwiping"||t.sidebarState==="closed"?_=-w:(t.sidebarState==="openSwiping"||t.sidebarState==="opened")&&(_=0),I&&I!=="none")try{_=new DOMMatrix(I).m41}catch{console.warn("Could not parse transform matrix, using default position")}h=!0}catch(z){console.error("Error during swipe initialization:",z),p()}}},P=()=>{if(!n())return;const z=Math.abs(_+S*w/100)/w;n().style.setProperty("--backdrop-bg",`rgba(0, 0, 0, ${.25*(1-z)})`)},D=()=>{if(k=null,!m||!g||!n())return;const{x:M,y:z}=m;m=null;const I=M-c,F=z-v,G=Math.abs(I)>Math.abs(F),ae=Math.abs(I)>r;if(!h)if(G&&ae&&y(I))try{C(I)}catch(ge){console.error("Error initializing swipe:",ge),p();return}else return;if(!y(I))return;n().style.setProperty("--transition-timing","0s");let B=_+I*d;const $=-w;B=Math.max($,Math.min(0,B)),n().style.transform=`translate3d(${B}px, 0, 0)`,S=(B-_)/w*100,P()},A=M=>{if(!g)return;const z=M.touches[0].clientX,I=M.touches[0].clientY;m={x:z,y:I},k===null&&(k=requestAnimationFrame(D)),h&&Math.abs(z-c)>Math.abs(I-v)&&M.preventDefault()},R=M=>{const z=Math.abs(M);if(z>=i)return o;if(z>=l){const I=(z-l)/(i-l);return a-I*(a-o)}else return a},O=(M,z)=>{if(Math.abs(M)>=i)return u*.5;const F=Math.abs(S)/100;return z?u*Math.max(.5,1-F):u*Math.max(.5,F)},U=M=>{var B,$;if(k!==null&&(cancelAnimationFrame(k),k=null),m=null,!g||!n()){p();return}if(!h){p();return}let z=0;if((B=M==null?void 0:M.changedTouches)!=null&&B[0]){const ee=M.changedTouches[0].clientX,Me=performance.now()-f;Me>0&&(z=(ee-c)/Me)}const I=R(z);let F=null;t.sidebarState==="closeSwiping"?F=Math.abs(S)>I||z>l?"open":"close":t.sidebarState==="openSwiping"&&(F=Math.abs(S)>I||z<-.3?"close":"open");const G=t.sidebarState==="closeSwiping"&&F==="open"||t.sidebarState==="openSwiping"&&F==="close",ae=O(z,G);n().style.setProperty("--transition-timing",`${ae}s`),n().offsetWidth,n().style.transform="",F==="open"?t.onOpen():F==="close"&&t.onClose(),($=n())==null||$.style.removeProperty("--backdrop-bg"),p()};Ee(()=>(document.addEventListener("touchstart",b,{passive:!0}),document.addEventListener("touchmove",A,{passive:!1}),document.addEventListener("touchend",U,{passive:!0}),document.addEventListener("touchcancel",U,{passive:!0}),()=>{document.removeEventListener("touchstart",b),document.removeEventListener("touchmove",A),document.removeEventListener("touchend",U),document.removeEventListener("touchcancel",U),k!==null&&cancelAnimationFrame(k)})),W()}var si=H('<dialog><div class="dialogInner svelte-183w7mj"><!></div></dialog> <!> <!>',1);function li(e,t){Y(t,!0);let n=350,r=N(null),a=N(null),o=ie(Sr);const i=()=>{t.blocked||qe({type:"close"})},l=()=>{t.blocked||qe({type:"open"})},u=()=>{qe({type:"opened"})},d=()=>{qe({type:"closed"})},c=()=>{qe({type:"swipe"})},v=y=>{y.preventDefault(),i()};Ee(()=>{var y,C;return(y=s(r))==null||y.addEventListener("close",d),(C=s(r))==null||C.addEventListener("cancel",v),()=>{var P,D;(P=s(r))==null||P.removeEventListener("close",d),(D=s(r))==null||D.removeEventListener("cancel",v)}});const f=()=>{var y,C,P;(y=s(r))==null||y.style.removeProperty("--transition-timing"),(C=s(r))==null||C.style.removeProperty("transform"),(P=s(r))==null||P.style.removeProperty("--backdrop-bg")};ve(()=>{var y,C,P;if(s(o),console.log(s(o).type),!!s(r))switch(s(o).type){case"closeSwiping":{const D=setTimeout(()=>{i()},3e3);return()=>{clearTimeout(D)}}case"openSwiping":{const D=setTimeout(()=>{l()},3e3);return()=>{clearTimeout(D)}}case"opening":{s(r).open||s(r).showModal(),s(r).getBoundingClientRect();const D=setTimeout(()=>{f()},n+1),A=()=>{clearTimeout(D),f()};return(y=s(r))==null||y.addEventListener("transitionend",A,{once:!0}),u(),()=>{var R;(R=s(r))==null||R.removeEventListener("transitionend",A)}}case"closing":{const D=setTimeout(()=>{s(o).type==="closing"&&d()},n+1),A=()=>{clearTimeout(D),d()};return(C=s(r))==null||C.addEventListener("transitionend",A,{once:!0}),()=>{var R;(R=s(r))==null||R.removeEventListener("transitionend",A)}}case"closed":(P=s(r))==null||P.close(),f();break;case"opened":f();break}});var g=si(),h=q(g),_=E(h),w=E(_);{var S=y=>{var C=_e(),P=q(C);Je(P,()=>t.children),x(y,C)};j(w,y=>{s(o).type!=="closed"&&y(S)})}we(_,y=>T(a,y),()=>s(a)),we(h,y=>T(r,y),()=>s(r));var p=L(h,2);{var k=y=>{Lr(y,{get dialog(){return s(r)},get dialogInner(){return s(a)},onClose:i})};j(p,y=>{s(o).type==="opened"&&!t.blocked&&y(k)})}var m=L(p,2);{var b=y=>{ii(y,{onClose:i,onOpen:l,onSwipe:c,get sidebarState(){return s(o).type},get dialog(){return s(r)}})};j(m,y=>{(s(o).type==="closed"||s(o).type==="opened"||s(o).type==="openSwiping"||s(o).type==="closeSwiping")&&!t.blocked&&y(b)})}re(()=>Z(h,1,te([{open:s(o).type==="opened",hidden:t.blocked,isAnimationOn:ce.working&&(!ce.isSwiping||!t.blocked)}]),"svelte-183w7mj")),x(e,g),W()}var ci=H("<button> </button>");function Ye(e,t){var n=ci();n.__click=function(...a){var o;(o=t.onClick)==null||o.apply(this,a)};var r=E(n);re(()=>{ke(n,"type",t.type),Z(n,1,te([{selectedTag:t.style==="selected"}]),"svelte-ep3nju"),Ke(r,t.title)}),x(e,n)}ye(["click"]);const ui=e=>{e.preventDefault(),lt("settings")};var di=H("<div></div>"),fi=H('<div class="sidebarFixed svelte-nyix1t"><div class="nav svelte-nyix1t"><!> <a class="link svelte-nyix1t"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Settings</span></a></div> <div class="searchWrapper svelte-nyix1t"><!></div> <!></div> <div class="tags svelte-nyix1t"></div>',1),vi=H("<div></div>"),hi=H('<div class="sidebar svelte-nyix1t"><div class="sidebarFixed svelte-nyix1t"><div class="searchWrapper svelte-nyix1t"><!></div> <!></div> <div class="tags svelte-nyix1t"></div></div>');function gi(e,t){Y(t,!0);let n=N(""),r=ie(()=>{var h;return((h=new URLSearchParams(V.search).get("selectedTags"))==null?void 0:h.split(","))||[]});const a=()=>{const h=Ue();h.includes("settings")||h.push("settings");const _=new URLSearchParams(V.search);return _.set("stackPages",h.join(",")),`${V.pathname}?${_}`},o=h=>{const _=new URLSearchParams(V.search);_.set("selectedTags",[...s(r),h].join(",")),tn(`${V.pathname}${_.size>0?`?${_.toString()}`:""}`),T(n,"")},i=h=>{const _=new URLSearchParams(V.search),w=s(r).filter(S=>S!==h);w.length===0?_.delete("selectedTags"):_.set("selectedTags",w.join(",")),tn(`${V.pathname}${_.size>0?`?${_.toString()}`:""}`)};let l=ie(()=>Mt()?Object.values(Rr()).filter(h=>!s(r).some(_=>h.name===_)):[]),u=ie(a),d=ie(()=>Ue().length>0);var c=_e(),v=q(c);{var f=h=>{li(h,{get blocked(){return s(d)},children:(_,w)=>{var S=fi(),p=q(S),k=E(p),m=E(k);Er(m,{});var b=L(m,2);b.__click=[ui];var y=E(b);Pe(y,()=>({"--size":"20px"})),Se(y.lastChild,{name:"settings"});var C=L(k,2),P=E(C);rn(P,{placeholder:"Search tag",get value(){return s(n)},set value(O){T(n,O,!0)}});var D=L(C,2);{var A=O=>{var U=di();Z(U,1,te(["tags","selectedTags"]),"svelte-nyix1t"),ze(U,20,()=>s(r),M=>M,(M,z)=>{Ye(M,{get title(){return z},onClick:()=>i(z),style:"selected"})}),x(O,U)};j(D,O=>{s(r).length>0&&O(A)})}var R=L(p,2);ze(R,21,()=>s(l),O=>O.name,(O,U)=>{var M=_e(),z=q(M);{var I=F=>{Ye(F,{get title(){return s(U).name},onClick:()=>o(s(U).name)})};j(z,F=>{(s(n)===""||s(U).name.toLowerCase().indexOf(s(n).toLowerCase())!==-1)&&F(I)})}x(O,M)}),re(()=>ke(b,"href",s(u))),x(_,S)},$$slots:{default:!0}})},g=h=>{var _=hi(),w=E(_),S=E(w),p=E(S);rn(p,{placeholder:"Search tag",get value(){return s(n)},set value(y){T(n,y,!0)}});var k=L(S,2);{var m=y=>{var C=vi();Z(C,1,te(["tags","selectedTags"]),"svelte-nyix1t"),ze(C,20,()=>s(r),P=>P,(P,D)=>{Ye(P,{get title(){return D},onClick:()=>i(D),style:"selected"})}),x(y,C)};j(k,y=>{s(r).length>0&&y(m)})}var b=L(w,2);ze(b,21,()=>s(l),y=>y.name,(y,C)=>{var P=_e(),D=q(P);{var A=R=>{Ye(R,{get title(){return s(C).name},onClick:()=>o(s(C).name)})};j(D,R=>{(s(n)===""||s(C).name.toLowerCase().indexOf(s(n).toLowerCase())!==-1)&&R(A)})}x(y,P)}),x(h,_)};j(v,h=>{yn()?h(f):h(g,!1)})}x(e,c),W()}ye(["click"]);var pi=H('<div class="input-container svelte-hz572l"><input> <div class="error-message svelte-hz572l"><!></div></div>');function Gt(e,t){Y(t,!0);let n=Q(t,"value",15,""),r=Q(t,"error",3,"");var a=pi(),o=E(a);o.__input=function(...c){var v;(v=t.onInput)==null||v.apply(this,c)};let i;var l=L(o,2),u=E(l);{var d=c=>{var v=le();re(()=>Ke(v,r())),x(c,v)};j(u,c=>{r()&&c(d)})}re(c=>{ke(o,"placeholder",t.placeholder),i=Z(o,1,"svelte-hz572l",null,i,c)},[()=>({error:!!r()})]),Ve("blur",o,function(...c){var v;(v=t.onBlur)==null||v.apply(this,c)}),Ve("focus",o,function(...c){var v;(v=t.onFocus)==null||v.apply(this,c)}),_n(o,n),x(e,a),W()}ye(["input"]);var mi=H("<div></div>"),_i=H('<form class="svelte-28zq6m"><!> <!> <textarea placeholder="notes" class="svelte-28zq6m"></textarea> <div class="boxtags"><div class="sidebarFixed"><!></div> <div class="tags svelte-28zq6m"><!> <!></div> <div class="searchWrapper svelte-28zq6m"><!></div></div> <button class="buttonSubmit svelte-28zq6m" type="submit"> </button></form>');function Nr(e,t){Y(t,!0);let n=Q(t,"initialTitle",3,""),r=Q(t,"initialUrl",3,""),a=Q(t,"initialDescription",3,""),o=Q(t,"initialTags",19,()=>[]),i=Q(t,"mode",3,"add"),l=N(""),u=N(se(n())),d=N(se(r())),c=N(se(a())),v=N(se(o().filter(B=>B!=="inbox")));const f=B=>{s(v).includes(B)||T(v,[...s(v),B],!0)},g=B=>{const $=s(v).filter(ee=>ee!==B);$.length===0?T(v,[],!0):T(v,$,!0)};let h=ie(()=>Mt()?[...Ir().reduce((B,$)=>($==null||$.tags.forEach(ee=>{B.has(ee)||B.add(ee)}),B),new Set)]:[]),_=ie(()=>Mt()?s(h).filter(B=>!s(v).some($=>B===$)&&B!=="inbox"):[]),w=ie(()=>s(_).find(B=>B.toLowerCase()===s(l).toLowerCase())||s(v).includes(s(l))),S=ie(()=>s(_).filter(B=>s(l)===""?!0:B.toLowerCase().indexOf(s(l).toLowerCase())!==-1).slice(0,s(w)||s(l)===""?3:2));const p=B=>{B.preventDefault(),t.onSubmit({title:s(u).trim().slice(0,256)||"unkwown",url:s(d).trim().slice(0,2048),description:s(c).trim().slice(0,2048),tags:s(v).length>0?s(v):["inbox"]})};var k=_i(),m=E(k);Gt(m,{placeholder:"url",get value(){return s(d)},set value(B){T(d,B,!0)}});var b=L(m,2);Gt(b,{placeholder:"title",get value(){return s(u)},set value(B){T(u,B,!0)}});var y=L(b,2),C=L(y,2),P=E(C),D=E(P);{var A=B=>{var $=mi();Z($,1,te(["tags","selectedTags"]),"svelte-28zq6m"),ze($,20,()=>s(v),ee=>ee,(ee,ge)=>{Ye(ee,{get title(){return ge},onClick:()=>g(ge),type:"button",style:"selected"})}),x(B,$)};j(D,B=>{s(v).length>0&&B(A)})}var R=L(P,2),O=E(R);{var U=B=>{var $=_e(),ee=q($);ze(ee,16,()=>s(S),ge=>ge,(ge,Me)=>{Ye(ge,{get title(){return Me},onClick:()=>f(Me)})}),x(B,$)};j(O,B=>{s(l)!==""&&B(U)})}var M=L(O,2);{var z=B=>{Ye(B,{get title(){return s(l)},onClick:()=>{f(s(l)),T(l,"")}})};j(M,B=>{!s(w)&&s(l)!==""&&B(z)})}var I=L(R,2),F=E(I);Gt(F,{placeholder:"search tag",get value(){return s(l)},set value(B){T(l,B,!0)}});var G=L(C,2),ae=E(G);re(()=>Ke(ae,i()==="add"?"add":"edit")),Ve("submit",k,p),_n(y,()=>s(c),B=>T(c,B)),x(e,k),W()}function wi(e,t){Y(t,!0);let n=N(!0);const r=()=>{t.onClose()},a=()=>{T(n,!1)},o=({title:i,url:l,description:u,tags:d})=>{ei({...t.bookmark,title:i,url:l,description:u,tags:d.map(c=>c.trim())}),a()};Dr(e,{get shownDialog(){return s(n)},onClose:r,children:(i,l)=>{Nr(i,{get initialTitle(){return t.bookmark.title},get initialUrl(){return t.bookmark.url},get initialDescription(){return t.bookmark.description},get initialTags(){return t.bookmark.tags},onSubmit:o,mode:"edit"})},$$slots:{default:!0}}),W()}const yi=(e,t,n)=>{const r=Rr();t.bookmark.tags.forEach(a=>{if(s(n).includes(a)&&r[a].connections===1){const o=new URLSearchParams(V.search),i=s(n).filter(l=>l!==a);i.length===0?o.delete("selectedTags"):o.set("selectedTags",i.join(",")),yo(`${V.pathname}${o.size>0?`?${o.toString()}`:""}`)}}),ti(t.bookmark.id)},bi=(e,t)=>{T(t,!0)},ki=(e,t,n)=>{T(t,!1),T(n,!0)},Si=(e,t)=>{navigator.clipboard.writeText(t.bookmark.url),lo("Link copied to clipboard")};var Ei=H('<li class="bookmark svelte-w2wdui"><div class="bookmarkTitle svelte-w2wdui"><img class="bookmarkIcon" height="16" width="16" alt="icon"> <a class="bookmarkLink svelte-w2wdui" target="_blank" rel="noopener noreferrer"> </a></div> <div><button class="button svelte-w2wdui"><!> <!></button> <div><button class="menuButton svelte-w2wdui">Edit</button> <button class="menuButton svelte-w2wdui">Delete</button></div> <button><!> <!></button></div></li> <!>',1);function Ti(e,t){Y(t,!0);let n=ie(()=>{var O;return((O=new URLSearchParams(V.search).get("selectedTags"))==null?void 0:O.split(","))||[]}),r=N(!1),a=N(!1),o=N(null),i=N(null);const l=O=>{var U,M;O.target!==s(i)&&O.target!==s(o)&&!((U=s(o))!=null&&U.contains(O.target))&&!((M=s(i))!=null&&M.contains(O.target))&&T(r,!1)},u=()=>{T(a,!1)};ve(()=>(document.addEventListener("click",l),()=>{document.removeEventListener("click",l)}));const d=O=>{try{return`https://www.google.com/s2/favicons?domain=${new URL(O).host}&sz=32`}catch{return""}};var c=Ei(),v=q(c),f=E(v),g=E(f),h=L(g,2),_=E(h),w=L(f,2),S=E(w);S.__click=[Si,t];var p=E(S);Se(p,{name:"copy"});var k=L(p,2);at(k,{children:(O,U)=>{var M=le("copy link");x(O,M)}});var m=L(S,2),b=E(m);b.__click=[ki,r,a];var y=L(b,2);y.__click=[yi,t,n],we(m,O=>T(i,O),()=>s(i));var C=L(m,2);C.__click=[bi,r],Z(C,1,te(["button","buttonMenu"]),"svelte-w2wdui");var P=E(C);Se(P,{name:"menu"});var D=L(P,2);at(D,{children:(O,U)=>{var M=le("show menu");x(O,M)}}),we(C,O=>T(o,O),()=>s(o));var A=L(v,2);{var R=O=>{wi(O,{get bookmark(){return t.bookmark},onClose:u})};j(A,O=>{s(a)&&O(R)})}re(O=>{ke(g,"src",O),ke(h,"href",t.bookmark.url),Ke(_,t.bookmark.title),Z(w,1,te(["bookmarkMenuWrapper",{bookmarkMenuWrapperActive:s(r)}]),"svelte-w2wdui"),Z(m,1,te(["bookmarkMenu",{bookmarkShownMenu:s(r)}]),"svelte-w2wdui")},[()=>d(t.bookmark.url)]),x(e,c),W()}ye(["click"]);var Ci=H('<div class="emptyMessage svelte-6cnb4o">No bookmarks found</div>'),xi=H('<div class="searchWrapper svelte-6cnb4o"><!></div> <div class="feed svelte-6cnb4o"><ul class="svelte-6cnb4o"><!> <!></ul></div>',1);function Li(e,t){Y(t,!0);let n=N(null),r=44,a=N(0),o=N(0),i=N(se([])),l=N("");const u=pa("main");let d=ie(u),c=null;const v=ie(_o);ve(()=>{var D;s(l),s(v),(D=s(d))==null||D.scrollTo(0,0)});const f=()=>{c&&cancelAnimationFrame(c),c=requestAnimationFrame(()=>{var A;const D=((A=s(d))==null?void 0:A.scrollTop)||0;T(o,Math.floor(D/r)*r)})},g=()=>{var D;f(),s(n)&&T(a,window.innerHeight-((D=s(n))==null?void 0:D.getBoundingClientRect().top))};Ee(()=>{g(),f()}),ve(()=>{var D;return(D=s(d))==null||D.addEventListener("scroll",f),window.addEventListener("resize",g),()=>{var A;(A=s(d))==null||A.removeEventListener("scroll",f),window.removeEventListener("resize",g)}}),ve(()=>{const D=Ir(),A=[],R={};for(let O=D.length-1;O>=0;O--){const U=D[O];if(U&&!(s(v).length&&s(v).some(M=>!U.tags.includes(M)))&&!(s(l)&&!(U.title.toLowerCase().includes(s(l).toLowerCase())||U.url.toLowerCase().includes(s(l).toLowerCase())))){if(U.tags)for(const M of U.tags)R[M]?R[M].connections++:R[M]={name:M,connections:1};A.push(U)}}ai(R),T(i,A,!0)});const h=ie(()=>s(i).length*r);let w=ie(()=>{const D=Math.ceil(s(a)/r),A=Math.floor(s(o)/r);return s(i).slice(A,A+D)});var S=xi(),p=q(S),k=E(p);rn(k,{placeholder:"Search",get value(){return s(l)},set value(D){T(l,D,!0)}});var m=L(p,2),b=E(m),y=E(b);ze(y,17,()=>s(w),D=>D.id,(D,A)=>{Ti(D,{get bookmark(){return s(A)}})});var C=L(y,2);{var P=D=>{var A=Ci();x(D,A)};j(C,D=>{s(w).length===0&&Mt()&&D(P)})}we(b,D=>T(n,D),()=>s(n)),re(D=>{At(m,`height: ${D??""}px`),At(b,`height: ${s(a)??""}px; transform: translateY(${s(o)??""}px)`)},[()=>Math.max(s(h),30)]),x(e,S),W()}var Di=H('<!> <div class="content svelte-cu0ar8"><!></div>',1);function Pi(e){var t=Di(),n=q(t);gi(n,{});var r=L(n,2),a=E(r);Li(a,{}),x(e,t)}var je=(e=>(e.Light="light",e.System="system",e.Dark="dark",e))(je||{});let Fr=N(se(localStorage.getItem("colorScheme")||"system"));const Oi=e=>{localStorage.setItem("colorScheme",e),e==="system"?window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.dataset.colorScheme="dark":document.documentElement.dataset.colorScheme="light":document.documentElement.dataset.colorScheme=e,T(Fr,e,!0)},Ai=()=>s(Fr);var Mi=H('<div class="wrapper svelte-1ws2gu"><fieldset class="switcher svelte-1ws2gu"><legend class="vh svelte-1ws2gu">Color Scheme</legend> <input id="light" type="radio" aria-label="Light"> <label for="light" title="Light" aria-label="Light"></label> <input id="system" type="radio" aria-label="System"> <label for="system" title="System" aria-label="System"></label> <input id="dark" type="radio" aria-label="Dark"> <label for="dark" title="Dark" aria-label="Dark"></label> <div class="wrapSwitcherStatus svelte-1ws2gu"><div class="switcherStatus svelte-1ws2gu"></div></div></fieldset></div>');function Ii(e,t){Y(t,!0);const n=ie(Ai),r=g=>{const h=g.target.value;Oi(h)},a="color-scheme-switcher";var o=Mi(),i=E(o),l=L(E(i),2);Z(l,1,te(["vh","input"]),"svelte-1ws2gu"),ke(l,"name",a),l.__change=r;var u=L(l,2);Z(u,1,te(["switcherButton","light"]),"svelte-1ws2gu");var d=L(u,2);Z(d,1,te(["vh","input"]),"svelte-1ws2gu"),ke(d,"name",a),d.__change=r;var c=L(d,2);Z(c,1,te(["switcherButton","system"]),"svelte-1ws2gu");var v=L(c,2);Z(v,1,te(["vh","input"]),"svelte-1ws2gu"),ke(v,"name",a),v.__change=r;var f=L(v,2);return Z(f,1,te(["switcherButton","dark"]),"svelte-1ws2gu"),re(()=>{Vt(l,je.Light),Yt(l,s(n)===je.Light),Vt(d,je.System),Yt(d,s(n)===je.System),Vt(v,je.Dark),Yt(v,s(n)===je.Dark)}),x(e,o),W({handleChange:r})}ye(["change"]);const Bi=()=>{lt("importBookmarks")},Ri=()=>{lt("exportBookmarks")},Ni=()=>{lt("clearStore")};var Fi=H('<div class="version svelte-3wf2id"><span> </span></div>'),zi=H('<div class="svelte-3wf2id"><!> <ul class="svelte-3wf2id"><li class="svelte-3wf2id"><button class="button svelte-3wf2id"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-3wf2id">import bookmarks</span></button></li> <li class="svelte-3wf2id"><button class="button svelte-3wf2id"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-3wf2id">export bookmarks</span></button></li> <li class="svelte-3wf2id"><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-3wf2id">clear store</span></button></li></ul> <!></div>');function Hi(e,t){Y(t,!0);let n=N("");Ee(()=>{const S=new AbortController;return fetch("/build-metadata.json",{signal:S.signal}).then(p=>p.json()).then(p=>{T(n,`${p.buildHash}`)}),()=>{S.abort()}});var r=zi(),a=E(r);Ii(a,{});var o=L(a,2),i=E(o),l=E(i);l.__click=[Bi];var u=E(l);Pe(u,()=>({"--size":"20px"})),Se(u.lastChild,{name:"import"});var d=L(i,2),c=E(d);c.__click=[Ri];var v=E(c);Pe(v,()=>({"--size":"20px"})),Se(v.lastChild,{name:"export"});var f=L(d,2),g=E(f);g.__click=[Ni],Z(g,1,te(["button","clearButton"]),"svelte-3wf2id");var h=E(g);Pe(h,()=>({"--size":"20px"})),Se(h.lastChild,{name:"trash"});var _=L(o,2);{var w=S=>{var p=Fi(),k=E(p),m=E(k);re(()=>Ke(m,`version: 0.0.0 hash: ${s(n)??""}`)),x(S,p)};j(_,S=>{s(n)&&S(w)})}x(e,r),W()}ye(["click"]);function Ui(e,t){Y(t,!1);const n=()=>{wt()},r=({title:a,url:o,description:i,tags:l})=>{$o({title:a,url:o,description:i,tags:l.map(u=>u.trim())}),n()};wn(),Nr(e,{onSubmit:r}),W()}var ji=H("<button><!></button>");function De(e,t){let n=Q(t,"type",3,"standard");var r=ji();r.__click=function(...o){var i;(i=t.onClick)==null||i.apply(this,o)};var a=E(r);Je(a,()=>t.children),re(()=>Z(r,1,te(["button",{dangerous:n()==="dangerous"}]),"svelte-1e0i457")),x(e,r)}ye(["click"]);var qi=H('<div class="loader svelte-1ygr46m"></div>');function bn(e){var t=qi();x(e,t)}const Hn=async(e,t)=>{const n=e.target;!n.files||n.files.length===0||await t(n.files[0])};var Vi=H('<div class="mobileContainer svelte-iu5kqw"><!></div> <input type="file" accept=".json, .html" style="display: none;">',1),Yi=H('<div role="button" tabindex="0"><div class="dropzone-content svelte-iu5kqw"><p class="svelte-iu5kqw">Drag and drop your JSON file here</p> <p class="svelte-iu5kqw">or</p> <!></div> <input type="file" accept=".json, .html" style="display: none;"></div>'),Wi=H('<p class="message svelte-iu5kqw">Select a file to import your bookmarks</p> <!>',1),Xi=H('<p class="message svelte-iu5kqw">Importing bookmarks...</p> <!>',1),Gi=H('<p class="message success svelte-iu5kqw">Bookmarks imported successfully!</p> <div class="buttonContainer svelte-iu5kqw"><!></div>',1),Ki=H('<p class="message error svelte-iu5kqw">Something went wrong</p> <div class="buttonContainer svelte-iu5kqw"><!></div>',1),Ji=H('<div class="content svelte-iu5kqw"><!></div>');function Zi(e,t){Y(t,!0);let n=N("idle"),r=N(null),a=N(!1),o=N(null);const i=()=>{wt()},l=async p=>{const k=await p.text(),m=JSON.parse(k),b=[];if(!m.bookmarks)throw new Error("Invalid import file format");for(const y of Object.values(m.bookmarks))y&&b.push(y);await zn(b)},u=async p=>{T(n,"loading");try{if(p.name.endsWith(".json"))await l(p);else if(p.name.endsWith(".html"))await zn(await qo(p));else throw new Error("Unsupported file format. Please upload a JSON or HTML file.");T(n,"success")}catch{T(n,"error")}},d=()=>{var p;(p=s(r))==null||p.click()},c=p=>{p.preventDefault(),p.stopPropagation(),T(a,!0)},v=p=>{p.preventDefault(),p.stopPropagation(),T(a,!1)},f=p=>{p.preventDefault(),p.stopPropagation(),T(a,!0)},g=async p=>{var m;if(p.preventDefault(),p.stopPropagation(),T(a,!1),!((m=p.dataTransfer)!=null&&m.files)||p.dataTransfer.files.length===0)return;const k=p.dataTransfer.files[0];if(k.type!=="application/json"&&k.type!=="text/html"){T(n,"error");return}await u(k)};var h=Ji(),_=E(h);{var w=p=>{var k=Wi(),m=L(q(k),2);{var b=C=>{var P=Vi(),D=q(P),A=E(D);De(A,{onClick:d,children:(O,U)=>{var M=le("Select File");x(O,M)},$$slots:{default:!0}});var R=L(D,2);R.__change=[Hn,u],we(R,O=>T(r,O),()=>s(r)),x(C,P)},y=C=>{var P=Yi(),D=E(P),A=L(E(D),4);De(A,{onClick:d,children:(O,U)=>{var M=le("Select File");x(O,M)},$$slots:{default:!0}});var R=L(D,2);R.__change=[Hn,u],we(R,O=>T(r,O),()=>s(r)),we(P,O=>T(o,O),()=>s(o)),re(()=>Z(P,1,te(["dropzone",{active:s(a)}]),"svelte-iu5kqw")),Ve("dragenter",P,c),Ve("dragover",P,f),Ve("dragleave",P,v),Ve("drop",P,g),x(C,P)};j(m,C=>{yn()?C(b):C(y,!1)})}x(p,k)},S=(p,k)=>{{var m=y=>{var C=Xi(),P=L(q(C),2);bn(P),x(y,C)},b=(y,C)=>{{var P=A=>{var R=Gi(),O=L(q(R),2),U=E(O);De(U,{onClick:i,children:(M,z)=>{var I=le("close");x(M,I)},$$slots:{default:!0}}),x(A,R)},D=(A,R)=>{{var O=U=>{var M=Ki(),z=L(q(M),2),I=E(z);De(I,{onClick:()=>{T(n,"idle")},children:(F,G)=>{var ae=le("Try Again");x(F,ae)},$$slots:{default:!0}}),x(U,M)};j(A,U=>{s(n)==="error"&&U(O)},R)}};j(y,A=>{s(n)==="success"?A(P):A(D,!1)},C)}};j(p,y=>{s(n)==="loading"?y(m):y(b,!1)},k)}};j(_,p=>{s(n)==="idle"?p(w):p(S,!1)})}x(e,h),W()}ye(["change"]);var Qi=(e,t)=>T(t,"json"),$i=(e,t)=>T(t,"html"),es=H('<p class="message svelte-1kp07xg">Export bookmarks</p> <div class="format-switcher svelte-1kp07xg"><div class="switcher-wrapper svelte-1kp07xg"><div class="background svelte-1kp07xg"></div> <div class="active-indicator svelte-1kp07xg"></div> <button>JSON</button> <button>HTML</button></div> <p class="format-description svelte-1kp07xg"><!></p></div> <div class="buttonContainer svelte-1kp07xg"><!> <!></div>',1),ts=H('<p class="message svelte-1kp07xg">Exporting data...</p> <div class="buttonContainer svelte-1kp07xg"><!></div>',1),ns=H('<p class="message svelte-1kp07xg">Bookmarks exported successfully!</p> <div class="buttonContainer svelte-1kp07xg"><!></div>',1),rs=H('<div class="content svelte-1kp07xg"><!></div>');function as(e,t){Y(t,!0);let n=N("idle"),r=N("json");const a=()=>{wt()},o=async()=>{T(n,"loading"),setTimeout(async()=>{if(s(r)==="json")await ri().finally(()=>{T(n,"success")});else try{const c=Vo(Qo()),v=new Blob([c],{type:"text/html"}),f=URL.createObjectURL(v),g=document.createElement("a");g.href=f,g.download=`bookmarks_${new Date().toLocaleDateString().replace(/\//g,"_")}.html`,document.body.appendChild(g),g.click(),document.body.removeChild(g),URL.revokeObjectURL(f),T(n,"success")}catch(c){console.error("Error exporting as HTML:",c),T(n,"success")}},0)};var i=rs(),l=E(i);{var u=c=>{var v=es(),f=L(q(v),2),g=E(f),h=L(E(g),2),_=L(h,2);let w;_.__click=[Qi,r];var S=L(_,2);let p;S.__click=[$i,r];var k=L(g,2),m=E(k);{var b=A=>{var R=le("JSON format (for app import)");x(A,R)},y=A=>{var R=le("HTML format (Chrome compatible)");x(A,R)};j(m,A=>{s(r)==="json"?A(b):A(y,!1)})}var C=L(f,2),P=E(C);De(P,{onClick:o,children:(A,R)=>{var O=le("Export");x(A,O)},$$slots:{default:!0}});var D=L(P,2);De(D,{onClick:a,children:(A,R)=>{var O=le("Cancel");x(A,O)},$$slots:{default:!0}}),re((A,R)=>{At(h,`transform: translateX(${s(r)==="json"?"0":"100%"})`),w=Z(_,1,"switcher-option svelte-1kp07xg",null,w,A),p=Z(S,1,"switcher-option svelte-1kp07xg",null,p,R)},[()=>({active:s(r)==="json"}),()=>({active:s(r)==="html"})]),x(c,v)},d=(c,v)=>{{var f=h=>{var _=ts(),w=L(q(_),2),S=E(w);bn(S),x(h,_)},g=(h,_)=>{{var w=S=>{var p=ns(),k=L(q(p),2),m=E(k);De(m,{onClick:a,children:(b,y)=>{var C=le("Close");x(b,C)},$$slots:{default:!0}}),x(S,p)};j(h,S=>{s(n)==="success"&&S(w)},_)}};j(c,h=>{s(n)==="loading"?h(f):h(g,!1)},v)}};j(l,c=>{s(n)==="idle"?c(u):c(d,!1)})}x(e,i),W()}ye(["click"]);var os=H('<p class="message svelte-w4337z">Are you sure you want to clear the store?</p> <div class="buttonContainer svelte-w4337z"><!> <!></div>',1),is=H('<p class="message svelte-w4337z">clearing store...</p> <div class="buttonContainer svelte-w4337z"><!></div>',1),ss=H('<p class="message svelte-w4337z">store cleared</p> <div class="buttonContainer svelte-w4337z"><!></div>',1),ls=H('<div class="content svelte-w4337z"><!></div>');function cs(e,t){Y(t,!0);let n=N("idle");const r=()=>{wt()},a=()=>{T(n,"loading"),ni().finally(()=>{setTimeout(()=>{T(n,"success")},1e3)})};var o=ls(),i=E(o);{var l=d=>{var c=os(),v=L(q(c),2),f=E(v);De(f,{onClick:r,children:(h,_)=>{var w=le("no");x(h,w)},$$slots:{default:!0}});var g=L(f,2);De(g,{onClick:a,type:"dangerous",children:(h,_)=>{var w=le("yes");x(h,w)},$$slots:{default:!0}}),x(d,c)},u=(d,c)=>{{var v=g=>{var h=is(),_=L(q(h),2),w=E(_);bn(w),x(g,h)},f=(g,h)=>{{var _=w=>{var S=ss(),p=L(q(S),2),k=E(p);De(k,{onClick:r,children:(m,b)=>{var y=le("close");x(m,y)},$$slots:{default:!0}}),x(w,S)};j(g,w=>{s(n)==="success"&&w(_)},h)}};j(d,g=>{s(n)==="loading"?g(v):g(f,!1)},c)}};j(i,d=>{s(n)==="idle"?d(l):d(u,!1)})}x(e,o),W()}const us=(e,t=qn)=>{var n=_e(),r=q(n);{var a=i=>{Hi(i,{})},o=(i,l)=>{{var u=c=>{Ui(c,{})},d=(c,v)=>{{var f=h=>{Zi(h,{})},g=(h,_)=>{{var w=p=>{as(p,{})},S=(p,k)=>{{var m=b=>{cs(b,{})};j(p,b=>{t()==="clearStore"&&b(m)},k)}};j(h,p=>{t()==="exportBookmarks"?p(w):p(S,!1)},_)}};j(c,h=>{t()==="importBookmarks"?h(f):h(g,!1)},v)}};j(i,c=>{t()==="newBookmark"?c(u):c(d,!1)},l)}};j(r,i=>{t()==="settings"?i(a):i(o,!1)})}x(e,n)};var ds=H("<!> <!>",1);function fs(e,t){Y(t,!0);let n=ie(ko);var r=ds(),a=q(r);Pi(a);var o=L(a,2);ze(o,17,()=>s(n),Ga,(i,l,u)=>{const d=ie(()=>{var c;return u!==s(n).length-1&&!!((c=s(n)[u+1])!=null&&c.shown)});jo(i,{get shown(){return s(l).shown},get hidden(){return s(d)},children:(c,v)=>{us(c,()=>s(l).page)},$$slots:{default:!0}})}),x(e,r),W()}function vs(){const e=navigator.userAgent;if(!(/iPad|iPhone|iPod/.test(e)&&!window.MSStream))return!1;const n=/Safari/.test(e)&&!/Chrome/.test(e)&&!/CriOS/.test(e)&&!/FxiOS/.test(e),r=/Macintosh/.test(e)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>1;return!!n||!!r}const hs=vs();function gs(e,t){Y(t,!1);let n=0;Ee(()=>{const r=document.querySelector("div");r&&hs&&r.addEventListener("touchstart",a=>{a.pageX>20&&a.pageX<window.innerWidth-20||a.preventDefault()}),document.addEventListener("touchstart",a=>{n=a.touches[0].clientX},{passive:!1}),document.addEventListener("touchmove",a=>{const i=a.touches[0].clientX-n;(n<50&&i>0||n>window.innerWidth-50&&i<0)&&a.preventDefault()},{passive:!1}),document.addEventListener("touchend",()=>{n=0}),document.addEventListener("touchcancel",()=>{n=0})}),wn(),W()}var ps=H('<!> <main><!> <div class="container svelte-1qxbcz0"><!></div> <!></main>',1);function ms(e,t){Y(t,!0);let n=N(null),r=!1;ma("main",()=>s(n));const a=()=>{document.activeElement instanceof HTMLInputElement||document.activeElement instanceof HTMLTextAreaElement?r=!0:r=!1};Ee(()=>{a(),document.addEventListener("focusin",a),document.addEventListener("focusout",a),document.addEventListener("touchmove",function(g){r&&g.preventDefault()},{passive:!1})}),Ee(async()=>{await new Promise(g=>setTimeout(g,100)),await Ra(),ce.working=!0});let o=ie(()=>Ue().length>0);var i=ps(),l=q(i);gs(l,{});var u=L(l,2),d=E(u);xo(d,{});var c=L(d,2),v=E(c);fs(v,{});var f=L(c,2);uo(f,{}),we(u,g=>T(n,g),()=>s(n)),re(()=>{At(u,`--swiping-ratio: ${ce.swipingRatio}; --transition-timing-default: ${ce.duration}s;`),Z(u,1,te(["main",{isAnimationOn:ce.working&&!ce.isSwiping,open:s(o)}]),"svelte-1qxbcz0")}),x(e,i),W()}Ya(ms,{target:document.getElementById("app")});
