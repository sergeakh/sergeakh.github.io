const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/MobileSidebar-DKVc6Hm-.js","assets/MobileSidebar-CUCj13hK.css","assets/About-B_eSml0F.js","assets/About-DhrgDPiX.css","assets/AccessKeys-CvP0bqxV.js","assets/api-C5JaEwh0.js","assets/AccessKeys-DF5NA1tk.css","assets/Account-BxR6eUsu.js","assets/Account-LI89flHz.css","assets/ClearStore-BtR8tmhR.js","assets/ClearStore-DiVqV26R.css","assets/ConfirmAccessKey-Cq7pm4yl.js","assets/Input-C4nAY136.js","assets/Input-DuuMPkkZ.css","assets/ConfirmAccessKey-BEOXyioc.css","assets/EditBookmark-BoyRGwjy.js","assets/BookmarkForm-peZVLIp2.js","assets/BookmarkForm-BJF9IsxJ.css","assets/Exit-DgId3SjQ.js","assets/Exit-B7Im9AKN.css","assets/ExportData-D5ATEyq_.js","assets/ExportData-Gq8zQKAw.css","assets/ImportData-BQ5KzwIz.js","assets/ImportData-CZGzVRRc.css","assets/NewBookmark-4y3KepHG.js","assets/Signin-B1qcivWb.js","assets/Signin-CnX7iJxK.css","assets/Signup-Cd50W8KL.js","assets/Subscription-bSNCLzh-.js","assets/Subscription-2ryrsj8c.css","assets/Sync-SQxtb9lZ.js","assets/Sync-DZBzq12x.css"])))=>i.map(i=>d[i]);
var zo=Object.defineProperty;var wa=e=>{throw TypeError(e)};var Fo=(e,t,n)=>t in e?zo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var pn=(e,t,n)=>Fo(e,typeof t!="symbol"?t+"":t,n),mr=(e,t,n)=>t.has(e)||wa("Cannot "+n);var ne=(e,t,n)=>(mr(e,t,"read from private field"),n?n.call(e):t.get(e)),Ne=(e,t,n)=>t.has(e)?wa("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Ve=(e,t,n,r)=>(mr(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Pt=(e,t,n)=>(mr(e,t,"access private method"),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(a){if(a.ep)return;a.ep=!0;const s=n(a);fetch(a.href,s)}})();const Ua=!1;var Vr=Array.isArray,Uo=Array.prototype.indexOf,Hr=Array.from,Ar=Object.defineProperty,nn=Object.getOwnPropertyDescriptor,Va=Object.getOwnPropertyDescriptors,Vo=Object.prototype,Ho=Array.prototype,Kr=Object.getPrototypeOf,ya=Object.isExtensible;const Ze=()=>{};function Ko(e){return typeof e?.then=="function"}function qo(e){return e()}function $n(e){for(var t=0;t<e.length;t++)e[t]()}function Wo(){var e,t,n=new Promise((r,a)=>{e=r,t=a});return{promise:n,resolve:e,reject:t}}function Yo(e,t,n=!1){return e===void 0?n?t():t:e}const Fe=2,qr=4,sr=8,vn=16,dt=32,Ft=64,Ha=128,Ke=256,er=512,Ce=1024,qe=2048,Et=4096,Ge=8192,Ut=16384,Wr=32768,Tn=65536,ba=1<<17,Go=1<<18,Dn=1<<19,Ka=1<<20,Tr=1<<21,Yr=1<<22,Nt=1<<23,Lt=Symbol("$state"),Xo=Symbol("legacy props"),Zo=Symbol(""),Gr=new class extends Error{constructor(){super(...arguments);pn(this,"name","StaleReactionError");pn(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function Jo(){throw new Error("https://svelte.dev/e/await_outside_boundary")}function qa(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Qo(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function $o(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function ei(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function ti(e){throw new Error("https://svelte.dev/e/effect_orphan")}function ni(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function ri(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function ai(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function si(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function oi(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}const or=1,ir=2,Wa=4,ii=8,li=16,ci=1,ui=2,di=4,fi=8,vi=16,hi=1,gi=2,me=Symbol(),pi="http://www.w3.org/1999/xhtml";let _i=!1;function Ya(e){return e===this.v}function mi(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Ga(e){return!mi(e,this.v)}let hn=!1,wi=!1;function yi(){hn=!0}let ie=null;function un(e){ie=e}function Xa(e){return Ja().get(e)}function Za(e,t){return Ja().set(e,t),t}function K(e,t=!1,n){ie={p:ie,c:null,e:null,s:e,x:null,l:hn&&!t?{s:null,u:null,$:[]}:null}}function q(e){var t=ie,n=t.e;if(n!==null){t.e=null;for(var r of n)fs(r)}return e!==void 0&&(t.x=e),ie=t.p,e??{}}function gn(){return!hn||ie!==null&&ie.l===null}function Ja(e){return ie===null&&qa(),ie.c??(ie.c=new Map(bi(ie)||void 0))}function bi(e){let t=e.p;for(;t!==null;){const n=t.c;if(n!==null)return n;t=t.p}return null}const Si=new WeakMap;function ki(e){var t=X;if(t===null)return Y.f|=Nt,e;if((t.f&Wr)===0){if((t.f&Ha)===0)throw!t.parent&&e instanceof Error&&Qa(e),e;t.b.error(e)}else Xr(e,t)}function Xr(e,t){for(;t!==null;){if((t.f&Ha)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e instanceof Error&&Qa(e),e}function Qa(e){const t=Si.get(e);t&&(Ar(e,"message",{value:t.message}),Ar(e,"stack",{value:t.stack}))}let wn=[],Dr=[];function $a(){var e=wn;wn=[],$n(e)}function Ei(){var e=Dr;Dr=[],$n(e)}function lr(e){wn.length===0&&queueMicrotask($a),wn.push(e)}function Ci(){wn.length>0&&$a(),Dr.length>0&&Ei()}function Pi(){for(var e=X.b;e!==null&&!e.has_pending_snippet();)e=e.parent;return e===null&&Jo(),e}function Nn(e){var t=Fe|qe,n=Y!==null&&(Y.f&Fe)!==0?Y:null;return X===null||n!==null&&(n.f&Ke)!==0?t|=Ke:X.f|=Dn,{ctx:ie,deps:null,effects:null,equals:Ya,f:t,fn:e,reactions:null,rv:0,v:me,wv:0,parent:n??X,ac:null}}function xi(e,t){let n=X;n===null&&Qo();var r=n.b,a=void 0,s=jt(me),i=null,l=!Y;return Ui(()=>{try{var c=e();i&&Promise.resolve(c).catch(()=>{})}catch(g){c=Promise.reject(g)}var u=()=>c;a=i?.then(u,u)??Promise.resolve(c),i=a;var d=oe,h=r.pending;l&&(r.update_pending_count(1),h||d.increment());const v=(g,f=void 0)=>{i=null,h||d.activate(),f?f!==Gr&&(s.f|=Nt,wt(s,f)):((s.f&Nt)!==0&&(s.f^=Nt),wt(s,g)),l&&(r.update_pending_count(-1),h||d.decrement()),ns()};if(a.then(v,g=>v(null,g||"unknown")),d)return()=>{queueMicrotask(()=>d.neuter())}}),new Promise(c=>{function u(d){function h(){d===a?c(s):u(a)}d.then(h,h)}u(a)})}function O(e){const t=Nn(e);return ms(t),t}function cr(e){const t=Nn(e);return t.equals=Ga,t}function es(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)at(t[n])}}function Ai(e){for(var t=e.parent;t!==null;){if((t.f&Fe)===0)return t;t=t.parent}return null}function Zr(e){var t,n=X;st(Ai(e));try{es(e),t=Ss(e)}finally{st(n)}return t}function ts(e){var t=Zr(e);if(e.equals(t)||(e.v=t,e.wv=ys()),!Ht){var n=(pt||(e.f&Ke)!==0)&&e.deps!==null?Et:Ce;Ie(e,n)}}function Ti(e,t,n){const r=gn()?Nn:cr;if(t.length===0){n(e.map(r));return}var a=oe,s=X,i=Di(),l=Pi();Promise.all(t.map(c=>xi(c))).then(c=>{a?.activate(),i();try{n([...e.map(r),...c])}catch(u){(s.f&Ut)===0&&Xr(u,s)}a?.deactivate(),ns()}).catch(c=>{l.error(c)})}function Di(){var e=X,t=Y,n=ie,r=oe;return function(){st(e),We(t),un(n),r?.activate()}}function ns(){st(null),We(null),un(null)}const wr=new Set;let oe=null,Xn=null,Sa=new Set,tr=[];function rs(){const e=tr.shift();tr.length>0&&queueMicrotask(rs),e()}let Bt=[],ur=null,Nr=!1,Zn=!1;var En,on,ht,Cn,Pn,Tt,ln,Dt,gt,cn,xn,An,Xe,as,Jn,Lr;const ar=class ar{constructor(){Ne(this,Xe);pn(this,"current",new Map);Ne(this,En,new Map);Ne(this,on,new Set);Ne(this,ht,0);Ne(this,Cn,null);Ne(this,Pn,!1);Ne(this,Tt,[]);Ne(this,ln,[]);Ne(this,Dt,[]);Ne(this,gt,[]);Ne(this,cn,[]);Ne(this,xn,[]);Ne(this,An,[]);pn(this,"skipped_effects",new Set)}process(t){Bt=[],Xn=null;for(const a of t)Pt(this,Xe,as).call(this,a);if(ne(this,Tt).length===0&&ne(this,ht)===0){Pt(this,Xe,Lr).call(this);var n=ne(this,Dt),r=ne(this,gt);Ve(this,Dt,[]),Ve(this,gt,[]),Ve(this,cn,[]),Xn=oe,oe=null,ka(n),ka(r),oe===null?oe=this:wr.delete(this),ne(this,Cn)?.resolve()}else Pt(this,Xe,Jn).call(this,ne(this,Dt)),Pt(this,Xe,Jn).call(this,ne(this,gt)),Pt(this,Xe,Jn).call(this,ne(this,cn));for(const a of ne(this,Tt))sn(a);for(const a of ne(this,ln))sn(a);Ve(this,Tt,[]),Ve(this,ln,[])}capture(t,n){ne(this,En).has(t)||ne(this,En).set(t,n),this.current.set(t,t.v)}activate(){oe=this}deactivate(){oe=null,Xn=null;for(const t of Sa)if(Sa.delete(t),t(),oe!==null)break}neuter(){Ve(this,Pn,!0)}flush(){Bt.length>0?os():Pt(this,Xe,Lr).call(this),oe===this&&(ne(this,ht)===0&&wr.delete(this),this.deactivate())}increment(){Ve(this,ht,ne(this,ht)+1)}decrement(){if(Ve(this,ht,ne(this,ht)-1),ne(this,ht)===0){for(const t of ne(this,xn))Ie(t,qe),dn(t);for(const t of ne(this,An))Ie(t,Et),dn(t);Ve(this,Dt,[]),Ve(this,gt,[]),this.flush()}else this.deactivate()}add_callback(t){ne(this,on).add(t)}settled(){return(ne(this,Cn)??Ve(this,Cn,Wo())).promise}static ensure(){if(oe===null){const t=oe=new ar;wr.add(oe),Zn||ar.enqueue(()=>{oe===t&&t.flush()})}return oe}static enqueue(t){tr.length===0&&queueMicrotask(rs),tr.unshift(t)}};En=new WeakMap,on=new WeakMap,ht=new WeakMap,Cn=new WeakMap,Pn=new WeakMap,Tt=new WeakMap,ln=new WeakMap,Dt=new WeakMap,gt=new WeakMap,cn=new WeakMap,xn=new WeakMap,An=new WeakMap,Xe=new WeakSet,as=function(t){t.f^=Ce;for(var n=t.first;n!==null;){var r=n.f,a=(r&(dt|Ft))!==0,s=a&&(r&Ce)!==0,i=s||(r&Ge)!==0||this.skipped_effects.has(n);if(!i&&n.fn!==null){if(a)n.f^=Ce;else if((r&qr)!==0)ne(this,gt).push(n);else if((r&Ce)===0)if((r&Yr)!==0){var l=n.b?.pending?ne(this,ln):ne(this,Tt);l.push(n)}else vr(n)&&((n.f&vn)!==0&&ne(this,cn).push(n),sn(n));var c=n.first;if(c!==null){n=c;continue}}var u=n.parent;for(n=n.next;n===null&&u!==null;)n=u.next,u=u.parent}},Jn=function(t){for(const n of t)((n.f&qe)!==0?ne(this,xn):ne(this,An)).push(n),Ie(n,Ce);t.length=0},Lr=function(){if(!ne(this,Pn))for(const t of ne(this,on))t();ne(this,on).clear()};let yn=ar;function ss(e){var t=Zn;Zn=!0;try{for(var n;;){if(Ci(),Bt.length===0&&(oe?.flush(),Bt.length===0))return ur=null,n;os()}}finally{Zn=t}}function os(){var e=an;Nr=!0;try{var t=0;for(Pa(!0);Bt.length>0;){var n=yn.ensure();if(t++>1e3){var r,a;Ni()}n.process(Bt),mt.clear()}}finally{Nr=!1,Pa(e),ur=null}}function Ni(){try{ni()}catch(e){Xr(e,ur)}}let xt=null;function ka(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if((r.f&(Ut|Ge))===0&&vr(r)&&(xt=[],sn(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?gs(r):r.fn=null),xt?.length>0)){mt.clear();for(const a of xt)sn(a);xt=[]}}xt=null}}function dn(e){for(var t=ur=e;t.parent!==null;){t=t.parent;var n=t.f;if(Nr&&t===X&&(n&vn)!==0)return;if((n&(Ft|dt))!==0){if((n&Ce)===0)return;t.f^=Ce}}Bt.push(t)}const mt=new Map;function jt(e,t){var n={f:0,v:e,reactions:null,equals:Ya,rv:0,wv:0};return n}function N(e,t){const n=jt(e);return ms(n),n}function Or(e,t=!1,n=!0){var a;const r=jt(e);return t||(r.equals=Ga),hn&&n&&ie!==null&&ie.l!==null&&((a=ie.l).s??(a.s=[])).push(r),r}function C(e,t,n=!1){Y!==null&&(!tt||(Y.f&ba)!==0)&&gn()&&(Y.f&(Fe|vn|Yr|ba))!==0&&!ct?.includes(e)&&oi();let r=n?pe(t):t;return wt(e,r)}function wt(e,t){if(!e.equals(t)){var n=e.v;Ht?mt.set(e,t):mt.set(e,n),e.v=t;var r=yn.ensure();r.capture(e,n),(e.f&Fe)!==0&&((e.f&qe)!==0&&Zr(e),Ie(e,(e.f&Ke)===0?Ce:Et)),e.wv=ys(),is(e,qe),gn()&&X!==null&&(X.f&Ce)!==0&&(X.f&(dt|Ft))===0&&(He===null?Ki([e]):He.push(e))}return t}function yr(e){C(e,e.v+1)}function is(e,t){var n=e.reactions;if(n!==null)for(var r=gn(),a=n.length,s=0;s<a;s++){var i=n[s],l=i.f;if(!(!r&&i===X)){var c=(l&qe)===0;c&&Ie(i,t),(l&Fe)!==0?is(i,Et):c&&((l&vn)!==0&&xt!==null&&xt.push(i),dn(i))}}}function pe(e){if(typeof e!="object"||e===null||Lt in e)return e;const t=Kr(e);if(t!==Vo&&t!==Ho)return e;var n=new Map,r=Vr(e),a=N(0),s=Mt,i=l=>{if(Mt===s)return l();var c=Y,u=Mt;We(null),Aa(s);var d=l();return We(c),Aa(u),d};return r&&n.set("length",N(e.length)),new Proxy(e,{defineProperty(l,c,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&ai();var d=n.get(c);return d===void 0?d=i(()=>{var h=N(u.value);return n.set(c,h),h}):C(d,u.value,!0),!0},deleteProperty(l,c){var u=n.get(c);if(u===void 0){if(c in l){const d=i(()=>N(me));n.set(c,d),yr(a)}}else C(u,me),yr(a);return!0},get(l,c,u){if(c===Lt)return e;var d=n.get(c),h=c in l;if(d===void 0&&(!h||nn(l,c)?.writable)&&(d=i(()=>{var g=pe(h?l[c]:me),f=N(g);return f}),n.set(c,d)),d!==void 0){var v=o(d);return v===me?void 0:v}return Reflect.get(l,c,u)},getOwnPropertyDescriptor(l,c){var u=Reflect.getOwnPropertyDescriptor(l,c);if(u&&"value"in u){var d=n.get(c);d&&(u.value=o(d))}else if(u===void 0){var h=n.get(c),v=h?.v;if(h!==void 0&&v!==me)return{enumerable:!0,configurable:!0,value:v,writable:!0}}return u},has(l,c){if(c===Lt)return!0;var u=n.get(c),d=u!==void 0&&u.v!==me||Reflect.has(l,c);if(u!==void 0||X!==null&&(!d||nn(l,c)?.writable)){u===void 0&&(u=i(()=>{var v=d?pe(l[c]):me,g=N(v);return g}),n.set(c,u));var h=o(u);if(h===me)return!1}return d},set(l,c,u,d){var h=n.get(c),v=c in l;if(r&&c==="length")for(var g=u;g<h.v;g+=1){var f=n.get(g+"");f!==void 0?C(f,me):g in l&&(f=i(()=>N(me)),n.set(g+"",f))}if(h===void 0)(!v||nn(l,c)?.writable)&&(h=i(()=>N(void 0)),C(h,pe(u)),n.set(c,h));else{v=h.v!==me;var p=i(()=>pe(u));C(h,p)}var _=Reflect.getOwnPropertyDescriptor(l,c);if(_?.set&&_.set.call(d,u),!v){if(r&&typeof c=="string"){var b=n.get("length"),S=Number(c);Number.isInteger(S)&&S>=b.v&&C(b,S+1)}yr(a)}return!0},ownKeys(l){o(a);var c=Reflect.ownKeys(l).filter(h=>{var v=n.get(h);return v===void 0||v.v!==me});for(var[u,d]of n)d.v!==me&&!(u in l)&&c.push(u);return c},setPrototypeOf(){si()}})}var Ea,ls,cs,us;function Li(){if(Ea===void 0){Ea=window,ls=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;cs=nn(t,"firstChild").get,us=nn(t,"nextSibling").get,ya(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),ya(n)&&(n.__t=void 0)}}function Vt(e=""){return document.createTextNode(e)}function fn(e){return cs.call(e)}function dr(e){return us.call(e)}function w(e,t){return fn(e)}function L(e,t){{var n=fn(e);return n instanceof Comment&&n.data===""?dr(n):n}}function A(e,t=1,n=!1){let r=e;for(;t--;)r=dr(r);return r}function Oi(e){e.textContent=""}function Jr(){return!1}let Ca=!1;function Mi(){Ca||(Ca=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function fr(e){var t=Y,n=X;We(null),st(null);try{return e()}finally{We(t),st(n)}}function Ii(e,t,n,r=n){e.addEventListener(t,()=>fr(n));const a=e.__on_r;a?e.__on_r=()=>{a(),r(!0)}:e.__on_r=()=>r(!0),Mi()}function ds(e){X===null&&Y===null&&ti(),Y!==null&&(Y.f&Ke)!==0&&X===null&&ei(),Ht&&$o()}function Ri(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function it(e,t,n,r=!0){var a=X;a!==null&&(a.f&Ge)!==0&&(e|=Ge);var s={ctx:ie,deps:null,nodes_start:null,nodes_end:null,f:e|qe,first:null,fn:t,last:null,next:null,parent:a,b:a&&a.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{sn(s),s.f|=Wr}catch(c){throw at(s),c}else t!==null&&dn(s);if(r){var i=s;if(n&&i.deps===null&&i.teardown===null&&i.nodes_start===null&&i.first===i.last&&(i.f&Dn)===0&&(i=i.first),i!==null&&(i.parent=a,a!==null&&Ri(i,a),Y!==null&&(Y.f&Fe)!==0&&(e&Ft)===0)){var l=Y;(l.effects??(l.effects=[])).push(i)}}return s}function Bi(e){const t=it(sr,null,!1);return Ie(t,Ce),t.teardown=e,t}function ke(e){ds();var t=X.f,n=!Y&&(t&dt)!==0&&(t&Wr)===0;if(n){var r=ie;(r.e??(r.e=[])).push(e)}else return fs(e)}function fs(e){return it(qr|Ka,e,!1)}function ji(e){return ds(),it(sr|Ka,e,!0)}function zi(e){yn.ensure();const t=it(Ft|Dn,e,!0);return(n={})=>new Promise(r=>{n.outro?Ot(t,()=>{at(t),r(void 0)}):(at(t),r(void 0))})}function Fi(e){return it(qr,e,!1)}function Ui(e){return it(Yr|Dn,e,!0)}function Qr(e,t=0){return it(sr|t,e,!0)}function ve(e,t=[],n=[]){Ti(t,n,r=>{it(sr,()=>e(...r.map(o)),!0)})}function Ln(e,t=0){var n=it(vn|t,e,!0);return n}function rt(e,t=!0){return it(dt|Dn,e,!0,t)}function vs(e){var t=e.teardown;if(t!==null){const n=Ht,r=Y;xa(!0),We(null);try{t.call(null)}finally{xa(n),We(r)}}}function hs(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const a=n.ac;a!==null&&fr(()=>{a.abort(Gr)});var r=n.next;(n.f&Ft)!==0?n.parent=null:at(n,t),n=r}}function Vi(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&dt)===0&&at(t),t=n}}function at(e,t=!0){var n=!1;(t||(e.f&Go)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(Hi(e.nodes_start,e.nodes_end),n=!0),hs(e,t&&!n),nr(e,0),Ie(e,Ut);var r=e.transitions;if(r!==null)for(const s of r)s.stop();vs(e);var a=e.parent;a!==null&&a.first!==null&&gs(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function Hi(e,t){for(;e!==null;){var n=e===t?null:dr(e);e.remove(),e=n}}function gs(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function Ot(e,t){var n=[];$r(e,n,!0),ps(n,()=>{at(e),t&&t()})}function ps(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var a of e)a.out(r)}else t()}function $r(e,t,n){if((e.f&Ge)===0){if(e.f^=Ge,e.transitions!==null)for(const i of e.transitions)(i.is_global||n)&&t.push(i);for(var r=e.first;r!==null;){var a=r.next,s=(r.f&Tn)!==0||(r.f&dt)!==0;$r(r,t,s?n:!1),r=a}}}function rn(e){_s(e,!0)}function _s(e,t){if((e.f&Ge)!==0){e.f^=Ge,(e.f&Ce)===0&&(Ie(e,qe),dn(e));for(var n=e.first;n!==null;){var r=n.next,a=(n.f&Tn)!==0||(n.f&dt)!==0;_s(n,a?t:!1),n=r}if(e.transitions!==null)for(const s of e.transitions)(s.is_global||t)&&s.in()}}let an=!1;function Pa(e){an=e}let Ht=!1;function xa(e){Ht=e}let Y=null,tt=!1;function We(e){Y=e}let X=null;function st(e){X=e}let ct=null;function ms(e){Y!==null&&(ct===null?ct=[e]:ct.push(e))}let xe=null,ze=0,He=null;function Ki(e){He=e}let ws=1,bn=0,Mt=bn;function Aa(e){Mt=e}let pt=!1;function ys(){return++ws}function vr(e){var t=e.f;if((t&qe)!==0)return!0;if((t&Et)!==0){var n=e.deps,r=(t&Ke)!==0;if(n!==null){var a,s,i=(t&er)!==0,l=r&&X!==null&&!pt,c=n.length;if((i||l)&&(X===null||(X.f&Ut)===0)){var u=e,d=u.parent;for(a=0;a<c;a++)s=n[a],(i||!s?.reactions?.includes(u))&&(s.reactions??(s.reactions=[])).push(u);i&&(u.f^=er),l&&d!==null&&(d.f&Ke)===0&&(u.f^=Ke)}for(a=0;a<c;a++)if(s=n[a],vr(s)&&ts(s),s.wv>e.wv)return!0}(!r||X!==null&&!pt)&&Ie(e,Ce)}return!1}function bs(e,t,n=!0){var r=e.reactions;if(r!==null&&!ct?.includes(e))for(var a=0;a<r.length;a++){var s=r[a];(s.f&Fe)!==0?bs(s,t,!1):t===s&&(n?Ie(s,qe):(s.f&Ce)!==0&&Ie(s,Et),dn(s))}}function Ss(e){var p;var t=xe,n=ze,r=He,a=Y,s=pt,i=ct,l=ie,c=tt,u=Mt,d=e.f;xe=null,ze=0,He=null,pt=(d&Ke)!==0&&(tt||!an||Y===null),Y=(d&(dt|Ft))===0?e:null,ct=null,un(e.ctx),tt=!1,Mt=++bn,e.ac!==null&&(fr(()=>{e.ac.abort(Gr)}),e.ac=null);try{e.f|=Tr;var h=e.fn,v=h(),g=e.deps;if(xe!==null){var f;if(nr(e,ze),g!==null&&ze>0)for(g.length=ze+xe.length,f=0;f<xe.length;f++)g[ze+f]=xe[f];else e.deps=g=xe;if(!pt||(d&Fe)!==0&&e.reactions!==null)for(f=ze;f<g.length;f++)((p=g[f]).reactions??(p.reactions=[])).push(e)}else g!==null&&ze<g.length&&(nr(e,ze),g.length=ze);if(gn()&&He!==null&&!tt&&g!==null&&(e.f&(Fe|Et|qe))===0)for(f=0;f<He.length;f++)bs(He[f],e);return a!==null&&a!==e&&(bn++,He!==null&&(r===null?r=He:r.push(...He))),(e.f&Nt)!==0&&(e.f^=Nt),v}catch(_){return ki(_)}finally{e.f^=Tr,xe=t,ze=n,He=r,Y=a,pt=s,ct=i,un(l),tt=c,Mt=u}}function qi(e,t){let n=t.reactions;if(n!==null){var r=Uo.call(n,e);if(r!==-1){var a=n.length-1;a===0?n=t.reactions=null:(n[r]=n[a],n.pop())}}n===null&&(t.f&Fe)!==0&&(xe===null||!xe.includes(t))&&(Ie(t,Et),(t.f&(Ke|er))===0&&(t.f^=er),es(t),nr(t,0))}function nr(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)qi(e,n[r])}function sn(e){var t=e.f;if((t&Ut)===0){Ie(e,Ce);var n=X,r=an;X=e,an=!0;try{(t&vn)!==0?Vi(e):hs(e),vs(e);var a=Ss(e);e.teardown=typeof a=="function"?a:null,e.wv=ws;var s;Ua&&wi&&(e.f&qe)!==0&&e.deps}finally{an=r,X=n}}}async function ks(){await Promise.resolve(),ss()}function o(e){var t=e.f,n=(t&Fe)!==0;if(Y!==null&&!tt){var r=X!==null&&(X.f&Ut)!==0;if(!r&&!ct?.includes(e)){var a=Y.deps;if((Y.f&Tr)!==0)e.rv<bn&&(e.rv=bn,xe===null&&a!==null&&a[ze]===e?ze++:xe===null?xe=[e]:(!pt||!xe.includes(e))&&xe.push(e));else{(Y.deps??(Y.deps=[])).push(e);var s=e.reactions;s===null?e.reactions=[Y]:s.includes(Y)||s.push(Y)}}}else if(n&&e.deps===null&&e.effects===null){var i=e,l=i.parent;l!==null&&(l.f&Ke)===0&&(i.f^=Ke)}if(Ht){if(mt.has(e))return mt.get(e);if(n){i=e;var c=i.v;return((i.f&Ce)===0&&i.reactions!==null||Es(i))&&(c=Zr(i)),mt.set(i,c),c}}else n&&(i=e,vr(i)&&ts(i));if((e.f&Nt)!==0)throw e.v;return e.v}function Es(e){if(e.v===me)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(mt.has(t)||(t.f&Fe)!==0&&Es(t))return!0;return!1}function zt(e){var t=tt;try{return tt=!0,e()}finally{tt=t}}const Wi=-7169;function Ie(e,t){e.f=e.f&Wi|t}function Yi(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Lt in e)Mr(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&Lt in n&&Mr(n)}}}function Mr(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{Mr(e[r],t)}catch{}const n=Kr(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=Va(n);for(let a in r){const s=r[a].get;if(s)try{s.call(e)}catch{}}}}}const Gi=["touchstart","touchmove"];function Xi(e){return Gi.includes(e)}const Cs=new Set,Ir=new Set;function Zi(e,t,n,r={}){function a(s){if(r.capture||_n.call(t,s),!s.cancelBubble)return fr(()=>n?.call(this,s))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?lr(()=>{t.addEventListener(e,a,r)}):t.addEventListener(e,a,r),a}function ea(e,t,n,r,a){var s={capture:r,passive:a},i=Zi(e,t,n,s);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&Bi(()=>{t.removeEventListener(e,i,s)})}function Te(e){for(var t=0;t<e.length;t++)Cs.add(e[t]);for(var n of Ir)n(e)}let Ta=null;function _n(e){var t=this,n=t.ownerDocument,r=e.type,a=e.composedPath?.()||[],s=a[0]||e.target;Ta=e;var i=0,l=Ta===e&&e.__root;if(l){var c=a.indexOf(l);if(c!==-1&&(t===document||t===window)){e.__root=t;return}var u=a.indexOf(t);if(u===-1)return;c<=u&&(i=c)}if(s=a[i]||e.target,s!==t){Ar(e,"currentTarget",{configurable:!0,get(){return s||n}});var d=Y,h=X;We(null),st(null);try{for(var v,g=[];s!==null;){var f=s.assignedSlot||s.parentNode||s.host||null;try{var p=s["__"+r];if(p!=null&&(!s.disabled||e.target===s))if(Vr(p)){var[_,...b]=p;_.apply(s,[e,...b])}else p.call(s,e)}catch(S){v?g.push(S):v=S}if(e.cancelBubble||f===t||f===null)break;s=f}if(v){for(let S of g)queueMicrotask(()=>{throw S});throw v}}finally{e.__root=t,delete e.currentTarget,We(d),st(h)}}}function Ps(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function Sn(e,t){var n=X;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function I(e,t){var n=(t&hi)!==0,r=(t&gi)!==0,a,s=!e.startsWith("<!>");return()=>{a===void 0&&(a=Ps(s?e:"<!>"+e),n||(a=fn(a)));var i=r||ls?document.importNode(a,!0):a.cloneNode(!0);if(n){var l=fn(i),c=i.lastChild;Sn(l,c)}else Sn(i,i);return i}}function Ji(e,t,n="svg"){var r=!e.startsWith("<!>"),a=`<${n}>${r?e:"<!>"+e}</${n}>`,s;return()=>{if(!s){var i=Ps(a),l=fn(i);s=fn(l)}var c=s.cloneNode(!0);return Sn(c,c),c}}function Qi(e,t){return Ji(e,t,"svg")}function Pe(e=""){{var t=Vt(e+"");return Sn(t,t),t}}function F(){var e=document.createDocumentFragment(),t=document.createComment(""),n=Vt();return e.append(t,n),Sn(t,n),e}function m(e,t){e!==null&&e.before(t)}function ed(){var e;return(e=window.__svelte??(window.__svelte={})).uid??(e.uid=1),`c${window.__svelte.uid++}`}function hr(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function $i(e,t){return el(e,t)}const $t=new Map;function el(e,{target:t,anchor:n,props:r={},events:a,context:s,intro:i=!0}){Li();var l=new Set,c=h=>{for(var v=0;v<h.length;v++){var g=h[v];if(!l.has(g)){l.add(g);var f=Xi(g);t.addEventListener(g,_n,{passive:f});var p=$t.get(g);p===void 0?(document.addEventListener(g,_n,{passive:f}),$t.set(g,1)):$t.set(g,p+1)}}};c(Hr(Cs)),Ir.add(c);var u=void 0,d=zi(()=>{var h=n??t.appendChild(Vt());return rt(()=>{if(s){K({});var v=ie;v.c=s}a&&(r.$$events=a),u=e(h,r)||{},s&&q()}),()=>{for(var v of l){t.removeEventListener(v,_n);var g=$t.get(v);--g===0?(document.removeEventListener(v,_n),$t.delete(v)):$t.set(v,g)}Ir.delete(c),h!==n&&h.parentNode?.removeChild(h)}});return tl.set(u,d),u}let tl=new WeakMap;const br=0,qn=1,Sr=2;function xs(e,t,n,r,a){var s=e,i=gn(),l=ie,c=me,u,d,h,v=i?jt(void 0):Or(void 0,!1,!1),g=i?jt(void 0):Or(void 0,!1,!1),f=!1;function p(b,S){f=!0,S&&(st(_),We(_),un(l));try{b===br&&n&&(u?rn(u):u=rt(()=>n(s))),b===qn&&r&&(d?rn(d):d=rt(()=>r(s,v))),b===Sr&&a&&(h?rn(h):h=rt(()=>a(s,g))),b!==br&&u&&Ot(u,()=>u=null),b!==qn&&d&&Ot(d,()=>d=null),b!==Sr&&h&&Ot(h,()=>h=null)}finally{S&&(un(null),We(null),st(null),ss())}}var _=Ln(()=>{if(c!==(c=t())){if(Ko(c)){var b=c;f=!1,b.then(S=>{b===c&&(wt(v,S),p(qn,!0))},S=>{if(b===c&&(wt(g,S),p(Sr,!0),!a))throw g.v}),lr(()=>{f||p(br,!0)})}else wt(v,c),p(qn,!1);return()=>c=me}})}function R(e,t,n=!1){var r=e,a=null,s=null,i=me,l=n?Tn:0,c=!1;const u=(g,f=!0)=>{c=!0,v(f,g)};var d=null;function h(){d!==null&&(d.lastChild.remove(),r.before(d),d=null);var g=i?a:s,f=i?s:a;g&&rn(g),f&&Ot(f,()=>{i?s=null:a=null})}const v=(g,f)=>{if(i!==(i=g)){var p=Jr(),_=r;if(p&&(d=document.createDocumentFragment(),d.append(_=Vt())),i?a??(a=f&&rt(()=>f(_))):s??(s=f&&rt(()=>f(_))),p){var b=oe,S=i?a:s,E=i?s:a;S&&b.skipped_effects.delete(S),E&&b.skipped_effects.add(E),b.add_callback(h)}else h()}};Ln(()=>{c=!1,t(u),c||v(null,null)},l)}function de(e,t){Qr(()=>{var n=t();for(var r in n){var a=n[r];a?e.style.setProperty(r,a):e.style.removeProperty(r)}})}function nl(e,t,n){for(var r=e.items,a=[],s=t.length,i=0;i<s;i++)$r(t[i].e,a,!0);var l=s>0&&a.length===0&&n!==null;if(l){var c=n.parentNode;Oi(c),c.append(n),r.clear(),et(e,t[0].prev,t[s-1].next)}ps(a,()=>{for(var u=0;u<s;u++){var d=t[u];l||(r.delete(d.k),et(e,d.prev,d.next)),at(d.e,!l)}})}function tn(e,t,n,r,a,s=null){var i=e,l={flags:t,items:new Map,first:null},c=(t&Wa)!==0;if(c){var u=e;i=u.appendChild(Vt())}var d=null,h=!1,v=new Map,g=cr(()=>{var b=n();return Vr(b)?b:b==null?[]:Hr(b)}),f,p;function _(){rl(p,f,l,v,i,a,t,r,n),s!==null&&(f.length===0?d?rn(d):d=rt(()=>s(i)):d!==null&&Ot(d,()=>{d=null}))}Ln(()=>{p??(p=X),f=o(g);var b=f.length;if(!(h&&b===0)){h=b===0;var S,E,P,k;if(Jr()){var y=new Set,x=oe;for(E=0;E<b;E+=1){P=f[E],k=r(P,E);var M=l.items.get(k)??v.get(k);M?(t&(or|ir))!==0&&As(M,P,E,t):(S=Ts(null,l,null,null,P,k,E,a,t,n,!0),v.set(k,S)),y.add(k)}for(const[U,Z]of l.items)y.has(U)||x.skipped_effects.add(Z.e);x.add_callback(_)}else _();o(g)}})}function rl(e,t,n,r,a,s,i,l,c){var u=(i&ii)!==0,d=(i&(or|ir))!==0,h=t.length,v=n.items,g=n.first,f=g,p,_=null,b,S=[],E=[],P,k,y,x;if(u)for(x=0;x<h;x+=1)P=t[x],k=l(P,x),y=v.get(k),y!==void 0&&(y.a?.measure(),(b??(b=new Set)).add(y));for(x=0;x<h;x+=1){if(P=t[x],k=l(P,x),y=v.get(k),y===void 0){var M=r.get(k);if(M!==void 0){r.delete(k),v.set(k,M);var U=_?_.next:f;et(n,_,M),et(n,M,U),kr(M,U,a),_=M}else{var Z=f?f.e.nodes_start:a;_=Ts(Z,n,_,_===null?n.first:_.next,P,k,x,s,i,c)}v.set(k,_),S=[],E=[],f=_.next;continue}if(d&&As(y,P,x,i),(y.e.f&Ge)!==0&&(rn(y.e),u&&(y.a?.unfix(),(b??(b=new Set)).delete(y))),y!==f){if(p!==void 0&&p.has(y)){if(S.length<E.length){var se=E[0],G;_=se.prev;var J=S[0],V=S[S.length-1];for(G=0;G<S.length;G+=1)kr(S[G],se,a);for(G=0;G<E.length;G+=1)p.delete(E[G]);et(n,J.prev,V.next),et(n,_,J),et(n,V,se),f=se,_=V,x-=1,S=[],E=[]}else p.delete(y),kr(y,f,a),et(n,y.prev,y.next),et(n,y,_===null?n.first:_.next),et(n,_,y),_=y;continue}for(S=[],E=[];f!==null&&f.k!==k;)(f.e.f&Ge)===0&&(p??(p=new Set)).add(f),E.push(f),f=f.next;if(f===null)continue;y=f}S.push(y),_=y,f=y.next}if(f!==null||p!==void 0){for(var Q=p===void 0?[]:Hr(p);f!==null;)(f.e.f&Ge)===0&&Q.push(f),f=f.next;var ce=Q.length;if(ce>0){var H=(i&Wa)!==0&&h===0?a:null;if(u){for(x=0;x<ce;x+=1)Q[x].a?.measure();for(x=0;x<ce;x+=1)Q[x].a?.fix()}nl(n,Q,H)}}u&&lr(()=>{if(b!==void 0)for(y of b)y.a?.apply()}),e.first=n.first&&n.first.e,e.last=_&&_.e;for(var B of r.values())at(B.e);r.clear()}function As(e,t,n,r){(r&or)!==0&&wt(e.v,t),(r&ir)!==0?wt(e.i,n):e.i=n}function Ts(e,t,n,r,a,s,i,l,c,u,d){var h=(c&or)!==0,v=(c&li)===0,g=h?v?Or(a,!1,!1):jt(a):a,f=(c&ir)===0?i:jt(i),p={i:f,v:g,k:s,a:null,e:null,prev:n,next:r};try{if(e===null){var _=document.createDocumentFragment();_.append(e=Vt())}return p.e=rt(()=>l(e,g,f,u),_i),p.e.prev=n&&n.e,p.e.next=r&&r.e,n===null?d||(t.first=p):(n.next=p,n.e.next=p.e),r!==null&&(r.prev=p,r.e.prev=p.e),p}finally{}}function kr(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,a=t?t.e.nodes_start:n,s=e.e.nodes_start;s!==null&&s!==r;){var i=dr(s);a.before(s),s=i}}function et(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function Ae(e,t,...n){var r=e,a=Ze,s;Ln(()=>{a!==(a=t())&&(s&&(at(s),s=null),s=rt(()=>a(r,...n)))},Tn)}function Ds(e,t,n){var r=e,a,s,i=null,l=null;function c(){s&&(Ot(s),s=null),i&&(i.lastChild.remove(),r.before(i),i=null),s=l,l=null}Ln(()=>{if(a!==(a=t())){var u=Jr();if(a){var d=r;u&&(i=document.createDocumentFragment(),i.append(d=Vt()),s&&oe.skipped_effects.add(s)),l=rt(()=>n(d,a))}u?oe.add_callback(c):c()}},Tn)}function Ns(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=Ns(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function al(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=Ns(e))&&(r&&(r+=" "),r+=t);return r}function $(e){return typeof e=="object"?al(e):e??""}const Da=[...` 	
\r\f \v\uFEFF`];function sl(e,t,n){var r=e==null?"":""+e;if(t&&(r=r?r+" "+t:t),n){for(var a in n)if(n[a])r=r?r+" "+a:a;else if(r.length)for(var s=a.length,i=0;(i=r.indexOf(a,i))>=0;){var l=i+s;(i===0||Da.includes(r[i-1]))&&(l===r.length||Da.includes(r[l]))?r=(i===0?"":r.substring(0,i))+r.substring(l+1):i=l}}return r===""?null:r}function ol(e,t){return e==null?null:String(e)}function ee(e,t,n,r,a,s){var i=e.__className;if(i!==n||i===void 0){var l=sl(n,r,s);l==null?e.removeAttribute("class"):e.className=l,e.__className=n}else if(s&&a!==s)for(var c in s){var u=!!s[c];(a==null||u!==!!a[c])&&e.classList.toggle(c,u)}return s}function kn(e,t,n,r){var a=e.__style;if(a!==t){var s=ol(t);s==null?e.removeAttribute("style"):e.style.cssText=s,e.__style=t}return r}const il=Symbol("is custom element"),ll=Symbol("is html");function Er(e,t){var n=ta(e);n.value===(n.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function Qn(e,t){var n=ta(e);n.checked!==(n.checked=t??void 0)&&(e.checked=t)}function Se(e,t,n,r){var a=ta(e);a[t]!==(a[t]=n)&&(t==="loading"&&(e[Zo]=n),n==null?e.removeAttribute(t):typeof n!="string"&&cl(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function ta(e){return e.__attributes??(e.__attributes={[il]:e.nodeName.includes("-"),[ll]:e.namespaceURI===pi})}var Na=new Map;function cl(e){var t=e.getAttribute("is")||e.nodeName,n=Na.get(t);if(n)return n;Na.set(t,n=[]);for(var r,a=e,s=Element.prototype;s!==a;){r=Va(a);for(var i in r)r[i].set&&n.push(i);a=Kr(a)}return n}function ul(e,t,n=t){var r=new WeakSet;Ii(e,"input",async a=>{var s=a?e.defaultValue:e.value;if(s=Cr(e)?Pr(s):s,n(s),oe!==null&&r.add(oe),await ks(),s!==(s=t())){var i=e.selectionStart,l=e.selectionEnd;e.value=s??"",l!==null&&(e.selectionStart=i,e.selectionEnd=Math.min(l,e.value.length))}}),zt(t)==null&&e.value&&(n(Cr(e)?Pr(e.value):e.value),oe!==null&&r.add(oe)),Qr(()=>{var a=t();if(e===document.activeElement){var s=Xn??oe;if(r.has(s))return}Cr(e)&&a===Pr(e.value)||e.type==="date"&&!a&&!e.value||a!==e.value&&(e.value=a??"")})}function Cr(e){var t=e.type;return t==="number"||t==="range"}function Pr(e){return e===""?null:+e}function La(e,t){return e===t||e?.[Lt]===t}function Je(e={},t,n,r){return Fi(()=>{var a,s;return Qr(()=>{a=s,s=[],zt(()=>{e!==n(...s)&&(t(e,...s),a&&La(n(...a),e)&&t(null,...a))})}),()=>{lr(()=>{s&&La(n(...s),e)&&t(null,...s)})}}),e}function On(e=!1){const t=ie,n=t.l.u;if(!n)return;let r=()=>Yi(t.s);if(e){let a=0,s={};const i=Nn(()=>{let l=!1;const c=t.s;for(const u in c)c[u]!==s[u]&&(s[u]=c[u],l=!0);return l&&a++,a});r=()=>o(i)}n.b.length&&ji(()=>{Oa(t,r),$n(n.b)}),ke(()=>{const a=zt(()=>n.m.map(qo));return()=>{for(const s of a)typeof s=="function"&&s()}}),n.a.length&&ke(()=>{Oa(t,r),$n(n.a)})}function Oa(e,t){if(e.l.s)for(const n of e.l.s)o(n);t()}let Wn=!1;function dl(e){var t=Wn;try{return Wn=!1,[e(),Wn]}finally{Wn=t}}function ae(e,t,n,r){var a=!hn||(n&ui)!==0,s=(n&fi)!==0,i=(n&vi)!==0,l=r,c=!0,u=()=>(c&&(c=!1,l=i?zt(r):r),l),d;if(s){var h=Lt in e||Xo in e;d=nn(e,t)?.set??(h&&t in e?E=>e[t]=E:void 0)}var v,g=!1;s?[v,g]=dl(()=>e[t]):v=e[t],v===void 0&&r!==void 0&&(v=u(),d&&(a&&ri(),d(v)));var f;if(a?f=()=>{var E=e[t];return E===void 0?u():(c=!0,E)}:f=()=>{var E=e[t];return E!==void 0&&(l=void 0),E===void 0?l:E},a&&(n&di)===0)return f;if(d){var p=e.$$legacy;return(function(E,P){return arguments.length>0?((!a||!P||p||g)&&d(P?f():E),E):f()})}var _=!1,b=((n&ci)!==0?Nn:cr)(()=>(_=!1,f()));s&&o(b);var S=X;return(function(E,P){if(arguments.length>0){const k=P?o(b):a&&s?pe(E):E;return C(b,k),_=!0,l!==void 0&&(l=k),E}return Ht&&_||(S.f&Ut)!==0?b.v:o(b)})}function _e(e){ie===null&&qa(),hn&&ie.l!==null?fl(ie).m.push(e):ke(()=>{const t=zt(e);if(typeof t=="function")return t})}function fl(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const vl="5";var Fa;typeof window<"u"&&((Fa=window.__svelte??(window.__svelte={})).v??(Fa.v=new Set)).add(vl);yi();const Ls={},hl=()=>({working:!1,swipingRatio:1,isSwiping:!1,duration:.35});function gl(e){Za(Ls,e)}function Mn(){const e=Xa(Ls);if(!e)throw new Error("No AnimationSettingsContext found");return e}function pl(e,t){K(t,!0);let n=pe(hl());gl(n);var r=F(),a=L(r);Ae(a,()=>t.children??Ze),m(e,r),q()}const Os={};function _l(e){Za(Os,e)}function Ms(){const e=Xa(Os);if(!e)throw new Error("No AnimationSettingsContext found");return e}const ml=(e,t)=>{let n=null;return()=>{n&&clearTimeout(n),n=setTimeout(()=>{n=null,e()},t)}};async function na(){if(navigator.storage&&navigator.storage.persist)try{await navigator.storage.persisted()||await navigator.storage.persist()}catch{}}function wl(e,t){K(t,!0);let n=N(!1);const r=()=>o(n),a=ml(()=>{C(n,!1)},100);_l({isScrolling:r,enable:()=>{C(n,!0),a()}});var i=F(),l=L(i);Ae(l,()=>t.children??Ze),m(e,i),q()}function yl(e,t){pl(e,{children:(n,r)=>{wl(n,{children:(a,s)=>{var i=F(),l=L(i);Ae(l,()=>t.children??Ze),m(a,i)},$$slots:{default:!0}})},$$slots:{default:!0}})}let At=N(""),en=N(null);function bl(e){C(At,""),setTimeout(()=>{C(At,e,!0)},16)}var Sl=I('<div class="notification svelte-1a2zucn"> </div>'),kl=I("<div><!></div>");function El(e,t){K(t,!0),ke(()=>{o(At),o(At)&&(o(en)?.getBoundingClientRect(),o(en)?.style.setProperty("opacity","1"));const s=setTimeout(()=>{o(en)?.style.removeProperty("opacity")},800),i=setTimeout(()=>{C(At,""),o(en)?.style.removeProperty("opacity")},1200);return()=>{clearTimeout(s),clearTimeout(i)}});var n=kl(),r=w(n);{var a=s=>{var i=Sl(),l=w(i);Je(i,c=>C(en,c),()=>o(en)),ve(()=>hr(l,o(At))),m(s,i)};R(r,s=>{o(At)&&s(a)})}m(e,n),q()}var Cl=I('<span class="vh svelte-14jjkpd"><!></span>');function ot(e,t){var n=Cl(),r=w(n);Ae(r,()=>t.children),m(e,n)}var Pl=Qi('<svg class="svelte-gv09tg"><use></use></svg>');function le(e,t){let n=ae(t,"name",8,"");var r=Pl(),a=w(r);ve(()=>Se(a,"href",`#icon-${n()??""}`)),m(e,r)}const Is=(e,t)=>{if(!t)return e;if(t.type==="closed")return{type:"closed"};switch(e.type){case"opened":return t.type==="close"?{type:"closing"}:t.type==="swipe"?{type:"openSwiping"}:e;case"closed":return t.type==="open"?{type:"opening"}:t.type==="swipe"?{type:"closeSwiping"}:e;case"openSwiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"closeSwiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"opening":return t.type==="opened"?{type:"opened"}:e;default:return e}};let Rr=N(pe(Is({type:"closed"})));const Rs=e=>{C(Rr,Is(o(Rr),e),!0)},xl=()=>o(Rr),Al=()=>{Rs({type:"open"})},Tl=()=>{Rs({type:"close"})},Dl=()=>{const e=xl().type;e==="closed"?Al():e==="opened"&&Tl()};var Nl=I('<button class="buttonMenu svelte-hxzs42"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>');function Bs(e,t){K(t,!1),On();var n=Nl();n.__click=[Dl];var r=w(n);de(r,()=>({"--size":"36px"})),le(r.lastChild,{name:"sidebarMenu"});var a=A(r,2);ot(a,{children:(s,i)=>{var l=Pe("Menu");m(s,l)}}),m(e,n),q()}Te(["click"]);var Ll=(e,t)=>t.onChange?.(e.target?.value||""),Ol=I('<input class="svelte-krv4jy"/>');function Br(e,t){K(t,!0);let n=ae(t,"value",15,"");var r=Ol();r.__input=[Ll,t],ve(()=>Se(r,"placeholder",t.placeholder)),ea("focus",r,function(...a){t.onFocus?.apply(this,a)}),ul(r,n),m(e,r),q()}Te(["input"]);const T=pe({historyStack:[],pathname:window.location.pathname,search:window.location.search,historyLength:0});let js=N(pe(new URLSearchParams(T.search).get("feedOrder")||"newest"));const zs=()=>o(js),Ml=e=>{C(js,e,!0);const t=new URLSearchParams(T.search);e==="newest"?t.delete("feedOrder"):t.set("feedOrder",e),ut(`${T.pathname}${t.size>0?`?${t.toString()}`:""}`)};let Fs=N(pe(new URLSearchParams(T.search).get("search")||""));const Us=()=>o(Fs),Il=e=>{C(Fs,e,!0);const t=new URLSearchParams(T.search);e===""?t.delete("search"):t.set("search",e),ut(`${T.pathname}${t.size>0?`?${t.toString()}`:""}`)},td=(e,t)=>{const n=new URLSearchParams(T.search);n.append(e,t),ra(`${T.pathname}${n.size>0?`?${n.toString()}`:""}`)},nd=e=>{const t=new URLSearchParams(T.search);t.delete(e),T.historyStack=T.historyStack.map(n=>{const r=new URLSearchParams(n.split("?")[1]);return r.delete(e),`${n.split("?")[0]}${t.size>0?`?${r.toString()}`:""}`}),ra(`${T.pathname}${t.size>0?`?${t.toString()}`:""}`)},Vs=()=>new URLSearchParams(T.search).get("selectedTags")?.split(",")||[];let Yn=Vs();const Rl=()=>{const e=Vs();return e.join(",")===Yn.join(",")||(Yn=e),Yn},Bl=()=>{T.pathname=document.location.pathname,T.search=document.location.search,T.historyLength=Math.max(0,T.historyLength-=1)};window.addEventListener("popstate",Bl);const ut=e=>{const[t,n]=e.split("?");T.pathname=t,T.search=n?`?${n}`:"",T.historyLength+=1,T.historyStack.push(window.location.href),window.history.replaceState(null,"",e)},ra=e=>{const[t,n]=e.split("?");T.pathname=t,T.search=n?`?${n}`:"",window.history.replaceState(null,"",e)},jl=e=>{const{fallback:t="/",to:n}=e||{},[r,a]=t.split("?");if(T.historyLength<=0){const s=window.location.href,[i,l]=s.split("?");if(!l.includes("stackPages"))window.history.replaceState(null,"",t),T.historyLength=0,T.pathname=r,T.search=a?`?${a}`:"";else{const c=new URLSearchParams(l),u=c.get("stackPages")?.split(",")||[],d=u.slice(0,n&&u.includes(n)?u.indexOf(n)+1:-1);d.length===0?c.delete("stackPages"):c.set("stackPages",d.join(","));const h=`${i}${c.toString()?`?${c.toString()}`:""}`;window.history.replaceState(null,"",h),T.search=c.toString()?`?${c.toString()}`:""}}else if(T.historyStack.length>0){const i=new URLSearchParams(T.search).get("stackPages")?.split(",")||[];n&&i.includes(n)&&(T.historyStack=T.historyStack.slice(0,-(i.length-(i.indexOf(n)+1))+1),T.historyLength=T.historyStack.length);const l=T.historyStack.pop();if(l){const[c,u]=l.split("?");window.history.replaceState(null,"",l),T.historyLength=Math.max(0,T.historyLength-=1),T.pathname=c,T.search=u?`?${u}`:""}}},Hs=()=>{const e=T.historyStack.findIndex(n=>n.includes("stackPages")),t=e===-1?T.historyStack.slice(0):T.historyStack.slice(0,e);if(t.length>0){const n=t.pop();if(n){const[r,a]=n.split("?");window.history.replaceState(null,"",n),T.historyLength=Math.max(0,t.length),T.pathname=r,T.search=a?`?${a}`:"",T.historyStack=t}}else{const n=T.search,r=new URLSearchParams(n);r.delete("stackPages"),window.history.replaceState(null,"",r.toString()?"/?"+r.toString():"/"),T.historyLength=0,T.pathname="/",T.search=r.toString()?"?"+r.toString():"",T.historyStack=[]}},lt=pe({value:""}),zl=pe({value:Us()}),Fl=(e,t)=>{let n=null;return()=>{n&&clearTimeout(n),n=setTimeout(()=>{e()},t)}},Ks=()=>window.matchMedia("(max-width: 768px)").matches;let qs=N(pe(Ks()));const Ul=Fl(()=>{C(qs,Ks(),!0)},16);window.addEventListener("resize",Ul);const In=()=>o(qs);function Ws(e,t){K(t,!0),_e(()=>{const n=r=>{r.target&&t.dialog?.open&&t.dialogInner&&t.dialogInner!==r.target&&!t.dialogInner.contains(r.target)&&t.onClose()};return document.addEventListener("mousedown",n,{capture:!0}),()=>{document.removeEventListener("mousedown",n,{capture:!0})}}),q()}const aa=pe({count:0}),Vl=()=>aa.count>0,Ys=()=>{aa.count+=1},Gs=()=>{aa.count-=1};var Hl=I('<dialog><div class="dialogInner svelte-1wekt4o"><!></div></dialog> <!>',1);function Xs(e,t){K(t,!0);let n=N(null),r=N(null),a=N(!1);const s=()=>{const v=setTimeout(()=>{t.onClosed()},150);o(n)?.addEventListener("transitionend",()=>{clearTimeout(v),t.onClosed()},{once:!0}),C(a,!1)};ke(()=>{t.startClose&&s()}),_e(()=>{o(n)?.showModal(),o(n)?.getClientRects(),C(a,!0)}),_e(()=>(Ys(),()=>{Gs()}));var i=Hl(),l=L(i),c=w(l),u=w(c);Ae(u,()=>t.children),Je(c,v=>C(r,v),()=>o(r)),Je(l,v=>C(n,v),()=>o(n));var d=A(l,2);{var h=v=>{Ws(v,{get dialog(){return o(n)},get dialogInner(){return o(r)},onClose:s})};R(d,v=>{o(n)&&o(r)&&v(h)})}ve(()=>ee(l,1,$(["dialog",{shown:o(a)}]),"svelte-1wekt4o")),m(e,i),q()}var Kl=I("<div><!></div>");function Zs(e,t){K(t,!0);let n=N(!1),r=N(null);const a=()=>{const u=setTimeout(()=>{t.onClosed()},150);o(r)?.addEventListener("transitionend",()=>{clearTimeout(u),t.onClosed()},{once:!0}),C(n,!1)},s=u=>{u.target!==o(r)&&!o(r)?.contains(u.target)&&a()},i=u=>{u.target!==o(r)&&!o(r)?.contains(u.target)&&a()};_e(()=>{o(r)?.getClientRects(),C(n,!0);const u=setTimeout(()=>{document.addEventListener("focusin",s),document.addEventListener("click",i)},0);return()=>{clearTimeout(u),document.removeEventListener("focusin",s),document.removeEventListener("click",i)}}),ke(()=>{t.startClose&&a()});var l=Kl(),c=w(l);Ae(c,()=>t.children),Je(l,u=>C(r,u),()=>o(r)),ve(()=>ee(l,1,$(["menu",{top:t.positionTop,shown:o(n)}]),"svelte-vbw57a")),m(e,l),q()}const ql=(e,t)=>{o(t)||C(t,!0)};var Wl=(e,t)=>t("newest"),Yl=(e,t)=>t("oldest"),Gl=(e,t)=>t("AtoZ"),Xl=(e,t)=>t("ZtoA"),Zl=I("<div><button>Newest</button> <button>Oldest</button> <button>A to Z</button> <button>Z to A</button></div>"),Jl=I('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),Ql=I('<div class="orderMenu svelte-110m8z1"><button><!> <!></button> <!></div>');function $l(e,t){K(t,!0);const n=(p,_=Ze)=>{var b=Zl(),S=w(b);S.__click=[Wl,l];var E=A(S,2);E.__click=[Yl,l];var P=A(E,2);P.__click=[Gl,l];var k=A(P,2);k.__click=[Xl,l],ve(()=>{ee(b,1,$(["menu",{menuDialog:_()}]),"svelte-110m8z1"),ee(S,1,$(["menuButton",{menuButtonDialog:_(),current:o(i)==="newest"}]),"svelte-110m8z1"),ee(E,1,$(["menuButton",{menuButtonDialog:_(),current:o(i)==="oldest"}]),"svelte-110m8z1"),ee(P,1,$(["menuButton",{menuButtonDialog:_(),current:o(i)==="AtoZ"}]),"svelte-110m8z1"),ee(k,1,$(["menuButton",{menuButtonDialog:_(),current:o(i)==="ZtoA"}]),"svelte-110m8z1")}),m(p,b)};let r=N(!1),a=N(!1),s=O(In),i=O(zs);const l=p=>{C(a,!0),Ml(p)},c=()=>{C(r,!1),C(a,!1)};var u=Ql(),d=w(u);d.__click=[ql,r],ee(d,1,$(["button","buttonMenu"]),"svelte-110m8z1");var h=w(d);le(h,{name:"filter"});var v=A(h,2);ot(v,{children:(p,_)=>{var b=Pe("show feed order menu");m(p,b)}});var g=A(d,2);{var f=p=>{var _=F(),b=L(_);{var S=P=>{Xs(P,{get startClose(){return o(a)},onClosed:c,children:(k,y)=>{n(k,()=>!0)},$$slots:{default:!0}})},E=P=>{var k=Jl(),y=L(k);de(y,()=>({"--right":"20px","--top":"60px"})),Zs(y.lastChild,{get startClose(){return o(a)},onClosed:c,children:(x,M)=>{n(x,()=>!1)},$$slots:{default:!0}}),m(P,k)};R(b,P=>{o(s)?P(S):P(E,!1)})}m(p,_)};R(g,p=>{o(r)&&p(f)})}m(e,u),q()}Te(["click"]);const sa=pe({ref:null}),Ct=()=>new URLSearchParams(T.search).get("stackPages")?.split(",")||[];let yt=N(pe(Ct()));const Qe=e=>{const t=Ct();if(!t.includes(e)){t.push(e);const n=new URLSearchParams(T.search);n.set("stackPages",t.join(",")),C(yt,t,!0),ut(`${T.pathname}?${n.toString()}`)}},ec=e=>Ct().includes(e),rd=()=>{C(yt,Ct(),!0)},Js=()=>{const e=o(yt).slice(0,-1);C(yt,e,!0)},tc=()=>{const e=Ct();return e.length>=o(yt).length?e.reduce((t,n)=>[...t,{page:n,shown:!0}],[]):o(yt).reduce((t,n,r)=>[...t,{page:n,shown:e.length===0?!1:r!==o(yt).length-1}],[])},jr=()=>{C(yt,[],!0)},It=e=>{const t=Ct();t.includes(e)||t.push(e);const n=new URLSearchParams(T.search);return n.set("stackPages",t.join(",")),`${T.pathname}?${n}`},Rt=e=>t=>{t.preventDefault(),Qe(e)};var D=(e=>(e.NewBookmark="newBookmark",e.EditBookmark="editBookmark",e.Settings="settings",e.ImportData="importData",e.ExportData="exportData",e.ClearStore="clearStore",e.Account="account",e.Sync="sync",e.Start="start",e.Auth="auth",e.Signin="signin",e.Signup="signup",e.AccessKeys="accessKeys",e.ConfirmAccessKey="confirmAccessKey",e.Subscription="subscription",e.Exit="exit",e.NotFound="notFound",e.About="about",e))(D||{}),nc=I('<div class="header svelte-1gwuppx"><div class="top svelte-1gwuppx"><div class="menu svelte-1gwuppx"><a class="link svelte-1gwuppx"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Settings</span></a> <a class="link svelte-1gwuppx"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Sync</span></a></div> <div class="mobile svelte-1gwuppx"><!></div> <a class="buttonAdd svelte-1gwuppx"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Bookmark</span></a></div> <div class="bottom svelte-1gwuppx"><div><div class="sidebarSearchWrapper"><!></div></div> <div class="right svelte-1gwuppx"><div class="filter svelte-1gwuppx"><div class="feedSearchWrapper svelte-1gwuppx"><!></div> <!></div></div></div></div>');function rc(e,t){K(t,!0);let n=O(()=>sa.ref);const r=()=>{o(n)&&o(n).scrollTo({top:0,behavior:"smooth"})},a=G=>{Il(G)};var s=nc(),i=w(s),l=w(i),c=w(l),u=O(()=>Rt(D.Settings));c.__click=function(...G){o(u)?.apply(this,G)};var d=w(c);de(d,()=>({"--rotate":"30deg","--size":"20px"})),le(d.lastChild,{name:"settings"});var h=A(c,2),v=O(()=>Rt(D.Sync));h.__click=function(...G){o(v)?.apply(this,G)};var g=w(h);de(g,()=>({"--size":"20px"})),le(g.lastChild,{name:"sync"});var f=A(l,2),p=w(f);Bs(p,{});var _=A(f,2),b=O(()=>Rt(D.NewBookmark));_.__click=function(...G){o(b)?.apply(this,G)};var S=w(_);de(S,()=>({"--size":"16px","--color":"#b0b0b0"})),le(S.lastChild,{name:"plus"});var E=A(i,2),P=w(E);ee(P,1,$(["left"]),"svelte-1gwuppx");var k=w(P),y=w(k);Br(y,{placeholder:"Search tag",get value(){return lt.value},set value(G){lt.value=G}});var x=A(P,2),M=w(x),U=w(M),Z=w(U);Br(Z,{onFocus:r,onChange:a,placeholder:"Search",get value(){return zl.value}});var se=A(U,2);$l(se,{}),ve((G,J,V)=>{Se(c,"href",G),Se(h,"href",J),Se(_,"href",V)},[()=>It(D.Settings),()=>It(D.Sync),()=>It(D.NewBookmark)]),m(e,s),q()}Te(["click"]);const ac="modulepreload",sc=function(e){return"/"+e},Ma={},ge=function(t,n,r){let a=Promise.resolve();if(n&&n.length>0){let c=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=i?.nonce||i?.getAttribute("nonce");a=c(n.map(u=>{if(u=sc(u),u in Ma)return;Ma[u]=!0;const d=u.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${h}`))return;const v=document.createElement("link");if(v.rel=d?"stylesheet":ac,d||(v.as="script"),v.crossOrigin="",v.href=u,l&&v.setAttribute("nonce",l),document.head.appendChild(v),d)return new Promise((g,f)=>{v.addEventListener("load",g),v.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return a.then(i=>{for(const l of i||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})};let zr=!1;const xr=()=>{document.activeElement instanceof HTMLInputElement&&document.activeElement.type==="text"||document.activeElement instanceof HTMLTextAreaElement?zr=!0:zr=!1},Qs=()=>zr;function oc(e,t){K(t,!0);let n=ae(t,"dialog",7);const r=Mn();let a=null;const s=()=>{t.dialogState==="swiping"&&t.onClose()};ke(()=>(t.dialogState==="swiping"&&(a=setTimeout(s,3e3)),()=>{a&&(clearTimeout(a),a=null)}));let i=null,l=null;const c=3,u=50,d=5,h=.6,v=.3,g=.35,f=.95;let p=0,_=0,b=0,S=!1,E=!1,P=0,k=0,y=0;const x=()=>{p=0,_=0,S=!1,E=!1,P=0,k=0,y=0,b=0,i=null,l!==null&&(cancelAnimationFrame(l),l=null),a&&(clearTimeout(a),a=null)},M=H=>{n()&&t.dialogState==="opened"&&(p=H.touches[0].clientX,_=H.touches[0].clientY,b=performance.now(),S=!0,E=!1)},U=H=>t.dialogState==="opened"&&H>0||t.dialogState==="swiping"&&H>0,Z=()=>{if(n()){n().style.setProperty("--transition-timing","0s"),t.onSwipe(),navigator.vibrate&&navigator.vibrate(10);try{const H=window.getComputedStyle(n()),B=H.transform||H.webkitTransform||"";if(k=n().offsetWidth,(t.dialogState==="swiping"||t.dialogState==="opened")&&(P=0),B&&B!=="none")try{P=new DOMMatrix(B).m41}catch{}E=!0}catch{x()}}},se=()=>{if(!n())return;const B=Math.abs(P+y*k/100)/k;n().style.setProperty("--backdrop-bg",`rgba(0, 0, 0, ${.1*(1-B)})`)},G=()=>{if(l=null,!i||!S||!n()||Qs()){x();return}const H=i.touches[0].clientX,B=i.touches[0].clientY,z=H-p,te=B-_,Ue=Math.abs(z)>Math.abs(te),De=Math.abs(z)>c;if(!E)if(Ue&&De&&U(z))try{Z()}catch{x();return}else return;if(!U(z))return;n().style.setProperty("--transition-timing","0s");let he=P+z*f;he=Math.max(0,Math.min(k,he)),n().style.transform=`translate3d(${he}px, 0, 0)`,r.swipingRatio=Math.abs(1-he/k),y=(he-P)/k*100,t.dialogState==="swiping"&&(a&&clearTimeout(a),a=setTimeout(s,3e3)),se()},J=H=>{if(!S)return;i=H,l===null&&(l=requestAnimationFrame(G));const B=H.touches[0].clientX-p,z=H.touches[0].clientY-_,te=Math.abs(B)>Math.abs(z);E&&te&&H.preventDefault()},V=H=>{const B=Math.abs(H);if(B>=h)return d;if(B>=v){const z=(B-v)/(h-v);return u-z*(u-d)}else return u},Q=(H,B)=>{if(Math.abs(H)>=h)return g*.5;const te=Math.abs(y)/100;return B?g*Math.max(.5,1-te):g*Math.max(.5,te)},ce=H=>{if(l!==null&&(cancelAnimationFrame(l),l=null),!S||!n()){x();return}if(!E){x();return}let B=0;if(H?.changedTouches?.[0]){const he=H.changedTouches[0].clientX,ye=performance.now()-b;ye>0&&(B=(he-p)/ye)}const z=V(B);let te=null;t.dialogState==="swiping"&&(te=Math.abs(y)>z||B<-v?"close":"open");const Ue=t.dialogState==="swiping"&&te==="close",De=Q(B,Ue);r.duration=De-.02,n().style.setProperty("--transition-timing",`${De}s`),n().offsetWidth,n().style.transform="",te==="open"?t.onOpen():te==="close"&&t.onClose(),n()?.style.removeProperty("--backdrop-bg"),x()};_e(()=>(n().addEventListener("touchstart",M,{passive:!0}),n().addEventListener("touchmove",J,{passive:!1}),n().addEventListener("touchend",ce,{passive:!0}),n().addEventListener("touchcancel",ce,{passive:!0}),()=>{n().removeEventListener("touchstart",M),n().removeEventListener("touchmove",J),n().removeEventListener("touchend",ce),n().removeEventListener("touchcancel",ce),l!==null&&cancelAnimationFrame(l)})),q()}var ic=(e,t)=>{t.onStartClose()},lc=I('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),cc=I('<dialog><div class="dialogInner svelte-gmmgbg"><div class="header svelte-gmmgbg"><div><!></div></div> <!></div></dialog> <!>',1);function uc(e,t){K(t,!0);let n=350;const{isScrolling:r,enable:a}=Ms();let s=N(null),i=N(null);const l=Mn(),c=y=>{y.preventDefault(),t.onStartClose()};_e(()=>(o(s)?.addEventListener("close",t.onClosed),o(s)?.addEventListener("cancel",c),()=>{o(s)?.removeEventListener("close",t.onClosed),o(s)?.removeEventListener("cancel",c)}));const u=()=>{o(s)?.style.removeProperty("--transition-timing"),o(s)?.style.removeProperty("transform"),o(s)?.style.removeProperty("--backdrop-bg")},d=()=>{a()},h=O(r);ke(()=>{if(t.dialogState,!!o(s))switch(t.dialogState){case"opening":{o(s).open||o(s).showModal(),o(s).getBoundingClientRect();const y=setTimeout(()=>{u()},n+1),x=()=>{clearTimeout(y),u()};return o(s)?.addEventListener("transitionend",x,{once:!0}),t.onOpened(),()=>{o(s)?.removeEventListener("transitionend",x)}}case"closing":{const y=setTimeout(()=>{t.dialogState==="closing"&&t.onClosed()},n+1),x=()=>{clearTimeout(y),t.onClosed()};return o(s)?.addEventListener("transitionend",x,{once:!0}),()=>{o(s)?.removeEventListener("transitionend",x)}}case"opened":u()}});var v=cc(),g=L(v),f=w(g),p=w(f),_=w(p),b=w(_);{var S=y=>{var x=lc();ee(x,1,$(["navigateButton","buttonBack"]),"svelte-gmmgbg"),x.__click=[ic,t];var M=w(x);de(M,()=>({"--size":"36px"})),le(M.lastChild,{name:"back"});var U=A(M,2);ot(U,{children:(Z,se)=>{var G=Pe("back");m(Z,G)}}),m(y,x)};R(b,y=>{(!(t.blocked||t.hidden)||t.blocked&&t.unBlockedBack)&&y(S)})}var E=A(p,2);Ae(E,()=>t.children),Je(f,y=>C(i,y),()=>o(i)),Je(g,y=>C(s,y),()=>o(s));var P=A(g,2);{var k=y=>{oc(y,{get onClose(){return t.onStartClose},get onOpen(){return t.onStartOpen},get onSwipe(){return t.onSwipe},get dialogState(){return t.dialogState},get dialog(){return o(s)}})};R(P,y=>{(!o(h)&&t.dialogState==="opened"||t.dialogState==="swiping")&&(!t.blocked||t.unBlockedBack)&&y(k)})}ve(()=>ee(g,1,$([{open:t.dialogState==="opened",hidden:t.hidden,isAnimationOn:l.working&&(!l.isSwiping||!t.hidden)},{hidden:t.hidden}]),"svelte-gmmgbg")),ea("scroll",f,d),m(e,v),q()}Te(["click"]);const Ia=(e,t)=>{if(!t)return e;if(t.type==="closed")return{type:"closed"};switch(e.type){case"opened":return t.type==="close"?{type:"closing"}:t.type==="swipe"?{type:"swiping"}:e;case"closed":return t.type==="open"?{type:"opening"}:e;case"swiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"opening":return t.type==="opened"?{type:"opened"}:e;default:return e}};function dc(e,t){K(t,!0);let n=ae(t,"blocked",3,!1),r=ae(t,"hiddenDialog",3,!1),a=ae(t,"unBlockedBack",3,!1),s=ae(t,"onStartClose",3,()=>{}),i=ae(t,"onClose",3,()=>{});const l=Mn();let c=N(pe(Ia({type:"closed"})));const u=S=>{C(c,Ia(o(c),S),!0)},d=()=>{n()&&!a()||(s()(),u({type:"close"}))},h=()=>{u({type:"open"})},v=()=>{u({type:"opened"}),l.duration=.2},g=()=>{i()(),u({type:"closed"}),l.swipingRatio=1,l.duration=.2},f=()=>{u({type:"swipe"})};ke(()=>{o(c).type==="swiping"?l.isSwiping=!0:l.isSwiping=!1,o(c).type==="closed"&&t.shownDialog?h():o(c).type==="opened"&&!t.shownDialog&&d()});var p=F(),_=L(p);{var b=S=>{uc(S,{onSwipe:f,onOpened:v,onClosed:g,onStartClose:d,onStartOpen:h,get dialogState(){return o(c).type},get hidden(){return r()},get blocked(){return n()},get unBlockedBack(){return a()},children:(E,P)=>{var k=F(),y=L(k);Ae(y,()=>t.children),m(E,k)},$$slots:{default:!0}})};R(_,S=>{o(c).type!=="closed"&&S(b)})}return m(e,p),q({handleComputeState:u})}const fc=({getDialog:e,onOpen:t,onStartClose:n,onClose:r})=>{const a=i=>{i.preventDefault(),n()},s=()=>{r?.()};_e(()=>{const i=e();return i?.addEventListener("cancel",a),i?.addEventListener("close",s),()=>{i?.removeEventListener("cancel",a),i?.removeEventListener("close",s)}}),_e(()=>{const i=e();i?.showModal(),i?.getBoundingClientRect(),t()})};let $s=N(200);const vc=e=>{C($s,e,!0)},eo=()=>o($s);var hc=(e,t)=>{t.onStartBack()},gc=I('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),pc=(e,t)=>{t.onStartClose()},_c=I('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),mc=I('<dialog><div class="dialogInner svelte-1uv89ht"><div class="header svelte-1uv89ht"><div><!></div> <div><!></div></div> <!></div></dialog> <!>',1);function wc(e,t){K(t,!0);let n=ae(t,"blockedDialog",3,!1),r=ae(t,"hiddenDialog",3,!1),a=ae(t,"isDesktopAnimationOff",3,!1),s=N(null),i=N(null);fc({getDialog:()=>o(s),onOpen:t.onOpen,onStartClose:t.onStartClose,onClose:t.onClose});const l=Mn();ke(()=>{t.stateDialog==="closing"&&(l.working?o(s)?.addEventListener("transitionend",()=>{o(s)?.close()},{once:!0}):o(s)?.close())});const c=O(eo);var u=mc(),d=L(u),h=w(d),v=w(h),g=w(v),f=w(g);{var p=k=>{var y=gc();ee(y,1,$(["navigateButton","buttonBack"]),"svelte-1uv89ht"),y.__click=[hc,t];var x=w(y);de(x,()=>({"--size":"28px"})),le(x.lastChild,{name:"back"});var M=A(x,2);ot(M,{children:(U,Z)=>{var se=Pe("back");m(U,se)}}),m(k,y)};R(f,k=>{(!(n()||r())||n()&&t.unBlockedBack)&&t.onStartBack&&k(p)})}var _=A(g,2),b=w(_);{var S=k=>{var y=_c();ee(y,1,$(["navigateButton","buttonClose"]),"svelte-1uv89ht"),y.__click=[pc,t];var x=w(y);de(x,()=>({"--size":"28px"})),le(x.lastChild,{name:"close"});var M=A(x,2);ot(M,{children:(U,Z)=>{var se=Pe("close");m(U,se)}}),m(k,y)};R(b,k=>{n()||r()||k(S)})}var E=A(v,2);Ae(E,()=>t.children),Je(h,k=>C(i,k),()=>o(i)),Je(d,k=>C(s,k),()=>o(s));var P=A(d,2);Ws(P,{get dialog(){return o(s)},get dialogInner(){return o(i)},get onClose(){return t.onStartClose}}),ve(()=>{kn(d,`height: ${o(c)+64}px`),ee(d,1,$([{open:t.stateDialog==="open",isAnimationOn:l.working,isDesktopAnimationOff:a(),hiddenDialog:r()}]),"svelte-1uv89ht")}),m(e,u),q()}Te(["click"]);const yc=({onStartClose:e,onClose:t})=>{let n=N("close");return{get state(){return o(n)},set state(i){C(n,i,!0)},handleStartClose:(i=!1)=>{i||(C(n,"closing"),e?.())},handleOpen:()=>{C(n,"open")},handleClose:()=>{C(n,"close"),t?.()}}};function bc(e,t){K(t,!0);let n=ae(t,"blockedDialog",3,!1),r=ae(t,"hiddenDialog",3,!1),a=ae(t,"onStartClose",3,()=>{}),s=ae(t,"onClose",3,()=>{}),i=yc({onStartClose:a(),onClose:s()});ke(()=>{i.state==="close"&&t.shownDialog?i.state="opening":i.state==="open"&&!t.shownDialog&&i.handleStartClose(n())});var l=F(),c=L(l);{var u=d=>{wc(d,{get stateDialog(){return i.state},get blockedDialog(){return n()},get unBlockedBack(){return t.unBlockedBack},get hiddenDialog(){return r()},get onOpen(){return i.handleOpen},get onStartBack(){return t.onStartBack},onStartClose:()=>{i.handleStartClose(n())},get onClose(){return i.handleClose},children:(h,v)=>{var g=F(),f=L(g);Ae(f,()=>t.children),m(h,g)},$$slots:{default:!0}})};R(c,d=>{i.state!=="close"&&d(u)})}m(e,l),q()}function Sc(e,t){K(t,!0);let n=ae(t,"blockedDialog",3,!1),r=ae(t,"hiddenDialog",3,!1),a=ae(t,"isLastDialog",3,!1),s=ae(t,"onStartClose",3,()=>{}),i=ae(t,"onClose",3,()=>{});const l=O(()=>a()?void 0:t.onStartBack);_e(()=>(Ys(),()=>{Gs()}));var c=F(),u=L(c);{var d=v=>{dc(v,{get shownDialog(){return t.shownDialog},get blocked(){return n()},get unBlockedBack(){return t.unBlockedBack},get hiddenDialog(){return r()},get children(){return t.children},get onStartClose(){return t.onStartBack},get onClose(){return i()}})},h=v=>{bc(v,{get shownDialog(){return t.shownDialog},get blockedDialog(){return n()},get unBlockedBack(){return t.unBlockedBack},get hiddenDialog(){return r()},get children(){return t.children},get onStartBack(){return o(l)},get onStartClose(){return s()},get onClose(){return i()}})};R(u,v=>{In()?v(d):v(h,!1)})}m(e,c),q()}let to=N(!1),oa=N(!1);const mn=e=>{C(to,e,!0),e||C(oa,!1)},kc=()=>o(to),Ra=e=>{C(oa,e,!0)},Ec=()=>o(oa);function Ba(e,t){K(t,!0);let n=ae(t,"blocked",3,!1),r=ae(t,"isLastDialog",3,!1),a=ae(t,"onBack",3,()=>{});const s=O(()=>n()||t.hidden||kc()),i=O(()=>Ec()&&!r());Sc(e,{get shownDialog(){return t.shown},get blockedDialog(){return o(s)},get unBlockedBack(){return o(i)},get hiddenDialog(){return t.hidden},get isLastDialog(){return r()},onStartBack:()=>{(!o(s)||o(s)&&o(i))&&t.shown&&(jl(),a()())},onStartClose:()=>{(!o(s)||o(s)&&o(i))&&t.shown&&Hs()},onClose:()=>{Js()},children:(d,h)=>{var v=F(),g=L(v);Ae(g,()=>t.children),m(d,v)},$$slots:{default:!0}}),q()}let Fr=N(pe({showFavicon:!0}));const no=()=>o(Fr).showFavicon,ia=e=>{e&&C(Fr,{...o(Fr),...e},!0)};let j=N({initedDB:!1});const Cc=()=>{C(j,{initedDB:!0})},nt=async e=>{C(j,{...o(j),account:e})},Rn=async e=>{const t=o(j).notes||[],n=o(j).mapNotes||new Map;e.forEach(r=>{t.push(r),n.set(r.id,r)}),C(j,{...o(j),notes:t,mapNotes:n,getNotes:()=>t,getMapNotes:()=>n})},gr=()=>o(j).notes&&o(j).mapNotes,ro=()=>o(j).account,Pc=()=>o(j).getNotes||(()=>o(j).notes||[]),ad=()=>o(j).getMapNotes||(()=>o(j).mapNotes||new Map),ao=e=>{if(!o(j).notes||!o(j).mapNotes)throw new Error("Notes appState is not initialized");const t={...e};o(j).notes.push(t),o(j).mapNotes.set(t.id,t),C(j,{...o(j),getNotes:()=>o(j).notes,getMapNotes:()=>o(j).mapNotes})},so=async e=>{if(!o(j).notes||!o(j).mapNotes)throw new Error("Notes appState is not initialized");o(j).notes.forEach((t,n)=>{t?.id===e.id&&o(j).notes&&(o(j).notes[n]=e)}),o(j).mapNotes.set(e.id,e),C(j,{...o(j),getNotes:()=>o(j).notes,getMapNotes:()=>o(j).mapNotes})},oo=async e=>{if(!o(j).notes||!o(j).mapNotes)throw new Error("Notes appState is not initialized");o(j).mapNotes.delete(e);const t=o(j).notes.findIndex(n=>n?.id===e);t!==-1&&(o(j).notes[t]=void 0),C(j,{...o(j),getNotes:()=>o(j).notes,getMapNotes:()=>o(j).mapNotes})},io=async()=>{const e=[],t=new Map;C(j,{...o(j),notes:e,mapNotes:t,getNotes:()=>e,getMapNotes:()=>t})},lo=async()=>{C(j,{initedDB:!0,account:void 0,notes:void 0,mapNotes:void 0,getNotes:()=>{},getMapNotes:()=>{}})};let co=N({});const uo=()=>o(co),xc=e=>{C(co,e)};var Ac=I('<button> <svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></button>');function Gn(e,t){let n=O(()=>t.style==="selected"?"45deg":"0deg");var r=Ac();r.__click=function(...i){t.onClick?.apply(this,i)};var a=w(r),s=A(a);de(s,()=>({"--size":t.size==="small"?"10px":"12px","--rotate":o(n)})),le(s.lastChild,{name:"plus"}),ve(()=>{Se(r,"type",t.type),ee(r,1,$([{selectedTag:t.style==="selected",small:t.size==="small"}]),"svelte-15zw27r"),hr(a,`${t.title??""} `)}),m(e,r)}Te(["click"]);var Tc=I("<div></div>"),Dc=I('<div class="sidebarFixed svelte-rnyoa6"><div class="nav svelte-rnyoa6"><!> <div class="menu svelte-rnyoa6"><a class="link svelte-rnyoa6"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a> <a class="link svelte-rnyoa6"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a></div></div> <div class="searchWrapper svelte-rnyoa6"><!></div> <!></div> <div></div>',1),Nc=I("<div></div>"),Lc=I('<div class="sidebar svelte-rnyoa6"><div class="sidebarFixed svelte-rnyoa6"><!></div> <div class="tags svelte-rnyoa6"></div></div>');function Oc(e,t){K(t,!0);let n=N(null),r=O(()=>new URLSearchParams(T.search).get("selectedTags")?.split(",")||[]),a=null;function s(){return a||(a=ge(()=>import("./MobileSidebar-DKVc6Hm-.js"),__vite__mapDeps([0,1]))),a}const i=p=>{const _=new URLSearchParams(T.search);_.set("selectedTags",[...o(r),p].join(",")),ut(`${T.pathname}${_.size>0?`?${_.toString()}`:""}`),lt.value=""},l=p=>{const _=new URLSearchParams(T.search),b=o(r).filter(S=>S!==p);b.length===0?_.delete("selectedTags"):_.set("selectedTags",b.join(",")),ut(`${T.pathname}${_.size>0?`?${_.toString()}`:""}`)};let c=O(()=>gr()?Object.values(uo()).filter(p=>!o(r).some(_=>p.name===_)).sort((p,_)=>p.name.localeCompare(_.name)):[]),u=O(In);_e(()=>{o(u)&&s()});let d=O(()=>Ct().length>0||Vl());var h=F(),v=L(h);{var g=p=>{var _=F(),b=L(_);xs(b,s,null,(S,E)=>{const P=O(()=>o(E).default);var k=F(),y=L(k);Ds(y,()=>o(P),(x,M)=>{M(x,{get blocked(){return o(d)},children:(U,Z)=>{var se=Dc(),G=L(se),J=w(G),V=w(J);Bs(V,{});var Q=A(V,2),ce=w(Q),H=O(()=>Rt(D.Settings));ce.__click=function(...W){o(H)?.apply(this,W)};var B=w(ce);de(B,()=>({"--size":"24px"})),le(B.lastChild,{name:"settings"});var z=A(B,2);ot(z,{children:(W,ue)=>{var Ee=Pe("Settings");m(W,Ee)}});var te=A(ce,2),Ue=O(()=>Rt(D.Sync));te.__click=function(...W){o(Ue)?.apply(this,W)};var De=w(te);de(De,()=>({"--size":"24px"})),le(De.lastChild,{name:"sync"});var he=A(De,2);ot(he,{children:(W,ue)=>{var Ee=Pe("Sync");m(W,Ee)}});var we=A(J,2),ye=w(we);Br(ye,{placeholder:"Search tag",get value(){return lt.value},set value(W){lt.value=W}});var Ye=A(we,2);{var Be=W=>{var ue=Tc();ee(ue,1,$(["tags","selectedTags"]),"svelte-rnyoa6"),tn(ue,20,()=>o(r),Ee=>Ee,(Ee,Kt)=>{Gn(Ee,{get title(){return Kt},onClick:()=>l(Kt),style:"selected"})}),Je(ue,Ee=>C(n,Ee),()=>o(n)),m(W,ue)};R(Ye,W=>{o(r).length>0&&W(Be)})}var je=A(G,2);ee(je,1,$(["tags","tagsWrapper"]),"svelte-rnyoa6"),tn(je,21,()=>o(c),W=>W.name,(W,ue)=>{var Ee=F(),Kt=L(Ee);{var ft=vt=>{Gn(vt,{get title(){return o(ue).name},onClick:()=>i(o(ue).name)})};R(Kt,vt=>{(lt.value===""||o(ue).name.toLowerCase().indexOf(lt.value.toLowerCase())!==-1)&&vt(ft)})}m(W,Ee)}),ve((W,ue)=>{Se(ce,"href",W),Se(te,"href",ue)},[()=>It(D.Settings),()=>It(D.Sync)]),m(U,se)},$$slots:{default:!0}})}),m(S,k)}),m(p,_)},f=p=>{var _=Lc(),b=w(_),S=w(b);{var E=k=>{var y=Nc();ee(y,1,$(["tags","selectedTags"]),"svelte-rnyoa6"),tn(y,20,()=>o(r),x=>x,(x,M)=>{Gn(x,{get title(){return M},onClick:()=>l(M),style:"selected"})}),m(k,y)};R(S,k=>{o(r).length>0&&k(E)})}var P=A(b,2);tn(P,21,()=>o(c),k=>k.name,(k,y)=>{var x=F(),M=L(x);{var U=Z=>{Gn(Z,{get title(){return o(y).name},onClick:()=>i(o(y).name)})};R(M,Z=>{(lt.value===""||o(y).name.toLowerCase().indexOf(lt.value.toLowerCase())!==-1)&&Z(U)})}m(k,x)}),m(p,_)};R(v,p=>{o(u)?p(g):p(f,!1)})}m(e,h),q()}Te(["click"]);function _t(e){const t=String.fromCharCode(...new Uint8Array(e));return window.btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function la(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");const n=t.length%4;return n&&(t+="=".repeat(4-n)),t}function ca(e){try{const t=atob(e),n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n.buffer}catch(t){throw t}}function sd(e){const t=la(e);return ca(t)}const od=async({challenge:e,clientKey:t})=>{const n=Math.floor(Math.random()*100),r={challenge:ca(la(e)),rp:{id:"localhost",name:"notes"},user:{id:new Uint8Array([...t,...crypto.getRandomValues(new Uint8Array(16))]).buffer,name:`account_${n}`,displayName:`account_${n}`},pubKeyCredParams:[{type:"public-key",alg:-7},{type:"public-key",alg:-257}],authenticatorSelection:{userVerification:"required"},timeout:6e4,attestation:"none"},a=await navigator.credentials.create({publicKey:r});if(a){const s=a.response;return{challenge:e,id:a.id,rawId:_t(a.rawId),type:a.type,response:{clientDataJSON:_t(s.clientDataJSON),attestationObject:_t(s.attestationObject)}}}else throw new Error},id=async({challenge:e})=>{const t={challenge:ca(la(e)),timeout:6e4,rpId:"localhost",userVerification:"required"},n=await navigator.credentials.get({publicKey:t});if(n){const r=n.response;new DataView(r.authenticatorData).getUint32(33,!1);const a={challenge:e,id:n.id,rawId:_t(n.rawId),type:n.type,response:{authenticatorData:_t(r.authenticatorData),clientDataJSON:_t(r.clientDataJSON),signature:_t(r.signature)}};if(!r.userHandle)throw new Error("No credential found");const s=new Uint8Array(r.userHandle).slice(0,32);return{credentialData:a,clientKey:s}}else throw new Error("No credential found")},Mc=async e=>{const t=await crypto.subtle.importKey("raw",e.serverKey,{name:"HKDF"},!1,["deriveKey"]),n=await crypto.subtle.deriveKey({name:"HKDF",salt:new Uint8Array(12),info:new TextEncoder().encode("aes-gcm-shared"),hash:"SHA-256"},t,{name:"AES-GCM",length:256},!1,["encrypt"]);return{encryptedClientKey:await crypto.subtle.encrypt({name:"AES-GCM",iv:new Uint8Array(12)},n,e.clientKey)}},ld=async e=>{const t=await crypto.subtle.importKey("raw",e.serverKey,{name:"HKDF"},!1,["deriveKey"]),n=await crypto.subtle.deriveKey({name:"HKDF",info:new TextEncoder().encode("aes-gcm-shared"),hash:"SHA-256",salt:new Uint8Array(12)},t,{name:"AES-GCM",length:256},!1,["decrypt"]),r=await crypto.subtle.decrypt({name:"AES-GCM",iv:new Uint8Array(12)},n,e.encryptedClientKey);return new Uint8Array(r)},Ic=()=>crypto.randomUUID(),Rc="AppStorage",Bc=1,Re="notes",ja="tags",rr="syncLog",bt="account",St="settings",Oe="success",Me="error",re=(e,t,n)=>{e?.addEventListener(t,n)};function jc(){return new Promise((e,t)=>{const n=indexedDB.open(Rc,Bc);re(n,"upgradeneeded",()=>{const r=n.result;r.objectStoreNames.contains(Re)||r.createObjectStore(Re,{keyPath:"id"}),r.objectStoreNames.contains(ja)||r.createObjectStore(ja,{keyPath:"id"}),r.objectStoreNames.contains(bt)||r.createObjectStore(bt,{keyPath:"id"}),r.objectStoreNames.contains(St)||r.createObjectStore(St,{keyPath:"id"}),r.objectStoreNames.contains(rr)||r.createObjectStore(rr,{keyPath:"id"})}),re(n,Oe,()=>{const r=n.result;e(r),r.onversionchange=function(){r?.close(),alert("app outdated, please reload the page")}}),re(n,"blocked",()=>{t(),alert("app outdated, please reload the page")}),re(n,Me,()=>{t()})})}function fo(e){return new Promise((t,n)=>{const a=e?.transaction(St,"readonly")?.objectStore(St).get("default");re(a,Oe,()=>{const s=a?.result?.settings;t(s)}),re(a,Me,()=>{n()})})}function zc(e,t){return new Promise((n,r)=>{const i=e?.transaction(St,"readwrite")?.objectStore(St)?.put({id:"default",settings:t});re(i,Oe,()=>{n()}),re(i,Me,()=>{r()})})}function Ur(e){return new Promise((t,n)=>{const a=e?.transaction(bt,"readonly")?.objectStore(bt).get("default");re(a,Oe,()=>{const s=a?.result?.account;t(s)}),re(a,Me,()=>{n()})})}function pr(e,t){return new Promise((n,r)=>{const i=e?.transaction(bt,"readwrite")?.objectStore(bt)?.put({id:"default",account:t});re(i,Oe,()=>{n()}),re(i,Me,()=>{r()})})}function Bn(e){return new Promise((t,n)=>{const a=e?.transaction(Re,"readonly")?.objectStore(Re).getAll();re(a,Oe,()=>{const s=a?.result||[];t(s)}),re(a,Me,()=>{n()})})}function vo(e,t){return new Promise((n,r)=>{const i=e?.transaction(Re,"readwrite")?.objectStore(Re)?.put({...t});re(i,Oe,()=>{n()}),re(i,Me,()=>{r()})})}function Fc(e,t){return new Promise((n,r)=>{const i=e?.transaction(Re,"readwrite")?.objectStore(Re)?.delete(t);re(i,Oe,()=>{n()}),re(i,Me,()=>{r()})})}function Uc(e){return new Promise((t,n)=>{const s=e?.transaction(Re,"readwrite")?.objectStore(Re)?.clear();re(s,Oe,()=>{t()}),re(s,Me,()=>{n()})})}function ua(e){return Promise.all([new Promise((t,n)=>{const s=e?.transaction(bt,"readwrite")?.objectStore(bt)?.clear();re(s,Oe,()=>{t()}),re(s,Me,()=>{n()})}),new Promise((t,n)=>{const s=e?.transaction(Re,"readwrite")?.objectStore(Re)?.clear();re(s,Oe,()=>{t()}),re(s,Me,()=>{n()})}),new Promise((t,n)=>{const s=e?.transaction(St,"readwrite")?.objectStore(St)?.clear();re(s,Oe,()=>{t()}),re(s,Me,()=>{n()})}),new Promise((t,n)=>{const s=e?.transaction(rr,"readwrite")?.objectStore(rr)?.clear();re(s,Oe,()=>{t()}),re(s,Me,()=>{n()})})])}async function Vc(e,t){const n=(await Bn(e)).reduce((i,l)=>(i[l.id]=l,i),{}),r={},s=e?.transaction(Re,"readwrite")?.objectStore(Re);t.forEach(i=>{n[i.id]?n[i.id].updatedAt<i.updatedAt&&(r[i.id]=i):r[i.id]=i}),await Promise.all(Object.values(r).map(i=>{const l=s?.put(i);return new Promise((c,u)=>{re(l,Oe,()=>{c()}),re(l,Me,()=>{u()})})}))}let fe=null;const ho=crypto.randomUUID(),go=new BroadcastChannel("app"),$e=(e,t)=>{go.postMessage(JSON.stringify({tabId:ho,type:e,data:t}))};go.addEventListener("message",async e=>{if(e.data&&typeof e.data=="string"){const t=JSON.parse(e.data);if(t.tabId&&t.tabId===ho)return;if(t.type==="addNote"){const n=t.data;ao(n)}else if(t.type==="updateNote"){const n=t.data;so(n)}else if(t.type==="deleteNote"){const n=t.data;oo(n)}else if(t.type==="clearNotes")io();else if(t.type==="reloadNotes"){const n=await Bn(fe);await Rn(n)}else if(t.type==="initLocalAccount")nt(null),jr(),ut("/");else if(t.type==="initAccount"){const n=await Ur(fe);n&&(nt(n),jr(),ut("/"))}else if(t.type==="updateSettings"){const n=await fo(fe);n&&ia(n)}else if(t.type==="disconnectCloudAccount")nt(null);else if(t.type==="exit")lo();else if(t.type==="updateAccount"){const n=await Ur(fe);n&&nt(n)}}});(async()=>{fe=await jc(),Cc();const e=await fo(fe);ia(e);const t=await Ur(fe);if(t===void 0)Qe(D.Start);else{ec(D.Start)&&(jr(),ut("/")),t?(nt(t),await na()):nt(null);const n=await Bn(fe);await Rn(n)}})();const cd=async e=>{const t={...e,id:Ic(),createdAt:Date.now(),updatedAt:Date.now()};ao(t),$e("addNote",t),await vo(fe,{...t})},ud=async e=>{const t={...e,updatedAt:Date.now()};$e("updateNote",t),so(t),await vo(fe,t)},Hc=async e=>{ia({showFavicon:e}),await zc(fe,{showFavicon:e}),$e("updateSettings")},Kc=async e=>{$e("deleteNote",e),oo(e),await Fc(fe,e)},dd=async()=>{$e("clearNotes"),io(),await Uc(fe)},fd=async e=>{await Vc(fe,e),$e("reloadNotes");const t=await Bn(fe);await Rn(t)},qc=async()=>{await ua(fe),await na(),await pr(fe,null),nt(null),await Rn([]),$e("initLocalAccount")},vd=async()=>{nt(null),await pr(fe,null);try{await fetch("/api/dropSession",{method:"POST"})}catch{}$e("disconnectCloudAccount")},hd=async e=>{await ua(fe),await na();const{encryptedClientKey:t}=await Mc({clientKey:e.clientKey,serverKey:e.serverKey}),n={encryptedClientKey:_t(t),subscriptionExpires:e.subscriptionExpires||-1,lastSync:-1};await pr(fe,n),nt(n);const r=await Bn(fe);await Rn(r),$e("initAccount")},gd=async e=>{const t=ro();if(!t)return;const n={...t,subscriptionExpires:e};await pr(fe,n),nt(n),$e("updateAccount")},pd=async()=>{lo(),await ua(fe),$e("exit")},Wc=(e,t,n)=>{C(t,!0),C(n,!0)},Yc=(e,t,n)=>{C(t,!0),Qe(`${D.EditBookmark}?id=${n.note.id}`)};var Gc=I('<div class="menu svelte-xxw0l"><div><button>Edit</button></div> <div><button>Delete</button></div></div>'),Xc=I('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1);function Zc(e,t){K(t,!0);const n=(g,f=Ze)=>{var p=Gc(),_=w(p),b=w(_);b.__click=[Yc,a,t];var S=A(_,2),E=w(S);E.__click=[Wc,s,a],ve(()=>{ee(b,1,$(["button",{buttonMenuDialog:f()}]),"svelte-xxw0l"),ee(E,1,$(["button",{buttonMenuDialog:f()}]),"svelte-xxw0l")}),m(g,p)};let r=ae(t,"shownMenu",15),a=N(!1),s=N(!1),i=O(In),l=O(()=>new URLSearchParams(T.search).get("selectedTags")?.split(",")||[]);const c=()=>{const g=uo();t.note.tags.forEach(f=>{if(o(l).includes(f)&&g[f].connections===1){const p=new URLSearchParams(T.search),_=o(l).filter(b=>b!==f);_.length===0?p.delete("selectedTags"):p.set("selectedTags",_.join(",")),ra(`${T.pathname}${p.size>0?`?${p.toString()}`:""}`)}}),Kc(t.note.id)},u=()=>{o(s)&&c(),r(!1),C(a,!1)};var d=F(),h=L(d);{var v=g=>{var f=F(),p=L(f);{var _=S=>{Xs(S,{get startClose(){return o(a)},onClosed:u,children:(E,P)=>{n(E,()=>!0)},$$slots:{default:!0}})},b=S=>{var E=Xc(),P=L(E);de(P,()=>({"--bottom":"-180%","--right":"30px"})),Zs(P.lastChild,{get startClose(){return o(a)},get positionTop(){return t.showMenuUp},onClosed:u,children:(k,y)=>{n(k,()=>!1)},$$slots:{default:!0}}),m(S,E)};R(p,S=>{o(i)?S(_):S(b,!1)})}m(g,f)};R(h,g=>{r()&&g(v)})}m(e,d),q()}Te(["click"]);const Jc=(e,t,n)=>{t.showMenuUp||C(n,!0)},Qc=(e,t)=>{navigator.clipboard.writeText(t.note.url),bl("Link copied to clipboard")},$c=(e,t)=>{C(t,!0)},eu=(e,t)=>{C(t,!1)};var tu=I('<div class="iconPlaceholder svelte-1xkj1zh"></div>'),nu=I('<img loading="lazy" class="noteIcon" height="16" width="16" alt=""/>'),ru=I('<div class="noteIconWrapper svelte-1xkj1zh"><!></div>'),au=I('<li class="record svelte-1xkj1zh"><!> <a class="noteLink svelte-1xkj1zh" target="_blank" rel="noopener noreferrer"> </a> <div class="spacer svelte-1xkj1zh"></div> <div><button class="button svelte-1xkj1zh"><!> <!></button> <button><!> <!></button> <!></div></li>');function su(e,t){K(t,!0);let n=N(!1),r=N(!1),a=N(!1),s=O(no);const i=P=>{try{return`https://${new URL(P).host}/favicon.ico`}catch{return""}};var l=au();l.__focusin=[$c,n],l.__focusout=[eu,n];var c=w(l);{var u=P=>{var k=ru(),y=w(k);{var x=U=>{var Z=tu();m(U,Z)},M=U=>{var Z=nu();ve(se=>Se(Z,"src",se),[()=>i(t.note.url)]),ea("error",Z,()=>{C(a,!0)}),m(U,Z)};R(y,U=>{o(a)?U(x):U(M,!1)})}m(P,k)};R(c,P=>{o(s)&&P(u)})}var d=A(c,2),h=w(d),v=A(d,4),g=w(v);g.__click=[Qc,t];var f=w(g);le(f,{name:"copy"});var p=A(f,2);ot(p,{children:(P,k)=>{var y=Pe("copy link");m(P,y)}});var _=A(g,2);_.__click=[Jc,t,r],ee(_,1,$(["button","buttonMenu"]),"svelte-1xkj1zh");var b=w(_);le(b,{name:"menu"});var S=A(b,2);ot(S,{children:(P,k)=>{var y=Pe("show menu");m(P,y)}});var E=A(_,2);Zc(E,{get note(){return t.note},get showMenuUp(){return t.showMenuUp},get shownMenu(){return o(r)},set shownMenu(P){C(r,P,!0)}}),ve(()=>{Se(d,"tabindex",t.focusHidden?-1:0),Se(d,"href",t.note.url),hr(h,t.note.title),ee(v,1,$(["noteMenuWrapper",{noteMenuWrapperActive:o(n)}]),"svelte-1xkj1zh"),Se(g,"tabindex",t.focusHidden?-1:0),Se(_,"tabindex",t.focusHidden?-1:0)}),m(e,l),q()}Te(["focusin","focusout","click"]);var ou=I('<div><!> <div class="loader svelte-1wuuvr"></div></div>');function po(e,t){K(t,!0);let n=N(!1);_e(()=>{const s=setTimeout(()=>{C(n,!0)},200);return()=>{clearTimeout(s)}});var r=ou(),a=w(r);Ae(a,()=>t.children??Ze),ve(()=>ee(r,1,$(["block",{shown:o(n)}]),"svelte-1wuuvr")),m(e,r),q()}var iu=I("<a><!></a>"),lu=I('<button type="button"><!></button>');function kt(e,t){let n=ae(t,"type",3,"standard"),r=ae(t,"element",3,"button"),a=ae(t,"href",3,""),s=ae(t,"fullWidth",3,!1);var i=F(),l=L(i);{var c=d=>{var h=iu();h.__click=function(...g){t.onClick?.apply(this,g)};var v=w(h);Ae(v,()=>t.children??Ze),ve(()=>{Se(h,"href",a()),ee(h,1,$(["button","a",{dangerous:n()==="dangerous",secondary:n()==="secondary",fullWidth:s()}]),"svelte-toxa1f")}),m(d,h)},u=d=>{var h=lu();h.__click=function(...g){t.onClick?.apply(this,g)};var v=w(h);Ae(v,()=>t.children??Ze),ve(()=>ee(h,1,$(["button",{dangerous:n()==="dangerous",secondary:n()==="secondary",fullWidth:s()}]),"svelte-toxa1f")),m(d,h)};R(l,d=>{r()==="a"?d(c):d(u,!1)})}m(e,i)}Te(["click"]);var cu=I('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Add note</span>',1),uu=I('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span style="padding-left: 6px;">Import data</span>',1),du=I('<div class="emptyStore svelte-18w0lzw"><p class="message">No notes found</p> <div class="wrapperButtonsAdd svelte-18w0lzw"><!></div> <div>or</div> <div class="wrapperButtonsAdd svelte-18w0lzw"><!></div></div>'),fu=I('<div class="emptyMessage svelte-18w0lzw">No notes found</div>'),vu=I('<div class="feed svelte-18w0lzw"><ul class="svelte-18w0lzw"></ul></div>'),hu=I('<div class="wrapperFeed svelte-18w0lzw"><div class="wrapperContainer svelte-18w0lzw"><!></div></div>');function gu(e,t){K(t,!0);let n=50,r=N(0),a=N(0),s=N(0),i=O(Us),l=N(0),c=[],u=N(0),d=O(()=>sa.ref),h=null,v=null;const g=O(Rl);ke(()=>{o(i),o(g),o(b),o(d)?.scrollTo(0,0)});const{enable:f}=Ms(),p=()=>{f(),h||(h=requestAnimationFrame(()=>{const V=o(d)?.scrollTop||0;C(s,V,!0);const Q=Math.ceil(o(r)/n);C(a,Math.floor(V/(n*Q))*(n*Q)),h=null}))},_=()=>{v||(v=requestAnimationFrame(()=>{C(r,window.innerHeight-180||0,!0);const V=o(d)?.scrollTop||0;C(s,V,!0);const Q=Math.ceil(o(r)/n);C(a,Math.floor(V/(n*Q))*(n*Q)),v=null}))};_e(()=>{_(),p()}),ke(()=>(o(d)?.addEventListener("scroll",p),window.addEventListener("resize",_),()=>{o(d)?.removeEventListener("scroll",p),window.removeEventListener("resize",_)}));const b=O(zs);let S=N(""),E=O(Pc);ke(()=>{o(b);const V=o(E)()||[];zt(()=>o(S))!==o(b)&&(zt(()=>C(S,o(b),!0)),V.sort((B,z)=>{if(!B||!z)return 0;switch(o(b)){case"newest":return B.createdAt<z.createdAt?-1:1;case"oldest":return B.createdAt>z.createdAt?-1:1;case"AtoZ":return z.title.localeCompare(B.title);case"ZtoA":return B.title.localeCompare(z.title);default:return 0}}));const ce=[],H={};for(let B=V.length-1;B>=0;B--){const z=V[B];if(z&&!(o(g).length&&o(g).some(te=>!z.tags.includes(te)))&&!(o(i)&&!(z.title.toLowerCase().includes(o(i).toLowerCase())||z.url.toLowerCase().includes(o(i).toLowerCase())||z.description.toLowerCase().includes(o(i).toLowerCase())))){if(z.tags)for(const te of z.tags)H[te]?H[te].connections++:H[te]={name:te,connections:1};ce.push(z)}}xc(H),C(l,ce.length,!0),c=ce,C(u,Date.now(),!0)});const P=O(()=>o(l)*n);let y=O(()=>{o(u);const V=Math.ceil(o(r)/n);let Q=Math.floor(o(a)/n);return Q=Q-Math.min(Q,V),c.slice(Q,Q+V*3)}),x=O(()=>n*Math.ceil(o(r)/n));const M=O(()=>o(a)-Math.min(o(a),o(x)));var U=hu(),Z=w(U),se=w(Z);{var G=V=>{po(V,{})},J=V=>{var Q=F(),ce=L(Q);{var H=z=>{var te=du(),Ue=A(w(te),2),De=w(Ue);{let ye=O(()=>It(D.NewBookmark)),Ye=O(()=>Rt(D.NewBookmark));kt(De,{element:"a",get href(){return o(ye)},get onClick(){return o(Ye)},children:(Be,je)=>{var W=cu(),ue=L(W);de(ue,()=>({"--size":"24px","--color":"#b0b0b0"})),le(ue.lastChild,{name:"plus"}),m(Be,W)},$$slots:{default:!0}})}var he=A(Ue,4),we=w(he);{let ye=O(()=>It(D.ImportData)),Ye=O(()=>Rt(D.ImportData));kt(we,{element:"a",get href(){return o(ye)},get onClick(){return o(Ye)},children:(Be,je)=>{var W=uu(),ue=L(W);de(ue,()=>({"--size":"18px","--color":"#b0b0b0"})),le(ue.lastChild,{name:"import"}),m(Be,W)},$$slots:{default:!0}})}m(z,te)},B=z=>{var te=F(),Ue=L(te);{var De=we=>{var ye=fu();m(we,ye)},he=we=>{var ye=vu(),Ye=w(ye);tn(Ye,23,()=>o(y),Be=>Be.id,(Be,je,W)=>{{let ue=O(()=>o(W)*n<o(s)-o(M)-n/2||o(W)*n>o(s)-o(M)+Math.floor(o(r)/n)*n),Ee=O(()=>(o(W)+3)*n<o(s)-o(M)-n/2||(o(W)+3)*n>o(s)-o(M)+Math.floor(o(r)/n)*n);su(Be,{get focusHidden(){return o(ue)},get showMenuUp(){return o(Ee)},get note(){return o(je)}})}}),ve(Be=>{kn(ye,`min-height: ${Be??""}px`),kn(Ye,`transform: translateY(${o(M)??""}px);`)},[()=>Math.max((o(P)>o(r),o(P)),0)]),m(we,ye)};R(Ue,we=>{o(y).length===0?we(De):we(he,!1)},!0)}m(z,te)};R(ce,z=>{(o(E)()||[]).length===0?z(H):z(B,!1)},!0)}m(V,Q)};R(se,V=>{gr()?V(J,!1):V(G)})}m(e,U),q()}var pu=I('<!> <div class="content svelte-cu0ar8"><!></div>',1);function _o(e){var t=pu(),n=L(t);Oc(n,{});var r=A(n,2),a=w(r);gu(a,{}),m(e,t)}const _u=Object.freeze(Object.defineProperty({__proto__:null,default:_o},Symbol.toStringTag,{value:"Module"}));var mu=I('<div class="wrapper svelte-1syxvud"><fieldset class="switcher svelte-1syxvud"><legend class="vh svelte-1syxvud">Color Scheme</legend> <input id="light" type="radio" aria-label="Light"/> <label for="light" title="Light" aria-label="Light"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <input id="system" type="radio" aria-label="System"/> <label for="system" title="System" aria-label="System"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <input id="dark" type="radio" aria-label="Dark"/> <label for="dark" title="Dark" aria-label="Dark"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <div class="wrapSwitcherStatus svelte-1syxvud"><div class="switcherStatus svelte-1syxvud"></div></div></fieldset></div>');function wu(e,t){K(t,!0);const n={Light:"light",System:"system",Dark:"dark"};let r=N(pe(localStorage.getItem("colorScheme")||n.System));const a=S=>{localStorage.setItem("colorScheme",S),S===n.System?window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.dataset.colorScheme=n.Dark:document.documentElement.dataset.colorScheme=n.Light:document.documentElement.dataset.colorScheme=S,C(r,S,!0)},s=S=>{const E=S.target.value;a(E)},i="color-scheme-switcher";var l=mu(),c=w(l),u=A(w(c),2);ee(u,1,$(["vh","input"]),"svelte-1syxvud"),Se(u,"name",i),u.__change=s;var d=A(u,2);ee(d,1,$(["switcherButton","light"]),"svelte-1syxvud");var h=w(d);de(h,()=>({"--size":"20px"})),le(h.lastChild,{name:"sun"});var v=A(d,2);ee(v,1,$(["vh","input"]),"svelte-1syxvud"),Se(v,"name",i),v.__change=s;var g=A(v,2);ee(g,1,$(["switcherButton","system"]),"svelte-1syxvud");var f=w(g);de(f,()=>({"--size":"14px"})),le(f.lastChild,{name:"a"});var p=A(g,2);ee(p,1,$(["vh","input"]),"svelte-1syxvud"),Se(p,"name",i),p.__change=s;var _=A(p,2);ee(_,1,$(["switcherButton","dark"]),"svelte-1syxvud");var b=w(_);return de(b,()=>({"--size":"20px"})),le(b.lastChild,{name:"moon"}),ve(()=>{Er(u,n.Light),Qn(u,o(r)===n.Light),Er(v,n.System),Qn(v,o(r)===n.System),Er(p,n.Dark),Qn(p,o(r)===n.Dark)}),m(e,l),q({setColorScheme:a,handleChange:s})}Te(["change"]);const yu=(e,t)=>{t.onChange(!t.checked)};var bu=I('<label class="switch svelte-15kl8eb"><input class="vh svelte-15kl8eb" type="checkbox"/> <span class="slider svelte-15kl8eb"></span></label>');function Su(e,t){K(t,!0);var n=bu(),r=w(n);r.__change=[yu,t],ve(()=>Qn(r,t.checked)),m(e,n),q()}Te(["change"]);const ku=()=>{Qe(D.ImportData)},Eu=()=>{Qe(D.ExportData)},Cu=()=>{Qe(D.ClearStore)},Pu=()=>{Qe(D.Account)},xu=()=>{Qe(D.About)};var Au=I("<span> </span>"),Tu=I('<div class="svelte-1kuxgbs"><!> <ul class="svelte-1kuxgbs"><li class="svelte-1kuxgbs"><button class="button svelte-1kuxgbs"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1kuxgbs">Import data</span></button></li> <li class="svelte-1kuxgbs"><button class="button svelte-1kuxgbs"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1kuxgbs">Export data</span></button></li> <li class="svelte-1kuxgbs"><button class="button svelte-1kuxgbs"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1kuxgbs">Clear storage</span></button></li> <li class="svelte-1kuxgbs"><button class="button svelte-1kuxgbs"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1kuxgbs">Account</span></button></li> <li class="svelte-1kuxgbs"><button class="button svelte-1kuxgbs"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1kuxgbs">About</span></button></li></ul> <div class="favicons svelte-1kuxgbs"><span class="faviconsLabel svelte-1kuxgbs">show favicons</span> <!></div> <div class="version svelte-1kuxgbs"><!></div></div>');function mo(e,t){K(t,!0);let n=N("");const r=async J=>{try{const Q=await(await fetch("/build-metadata.json",{signal:J})).json();C(n,`${Q.buildHash}`)}catch{}};_e(()=>{const J=new AbortController;return r(J.signal),()=>{J.abort()}});let a=O(no);const s=J=>{Hc(J)};_e(()=>{});var i=Tu(),l=w(i);wu(l,{});var c=A(l,2),u=w(c),d=w(u);d.__click=[ku];var h=w(d);de(h,()=>({"--size":"28px"})),le(h.lastChild,{name:"import"});var v=A(u,2),g=w(v);g.__click=[Eu];var f=w(g);de(f,()=>({"--size":"28px"})),le(f.lastChild,{name:"export"});var p=A(v,2),_=w(p);_.__click=[Cu];var b=w(_);de(b,()=>({"--size":"28px"})),le(b.lastChild,{name:"trash"});var S=A(p,2),E=w(S);E.__click=[Pu];var P=w(E);de(P,()=>({"--size":"28px"})),le(P.lastChild,{name:"account"});var k=A(S,2),y=w(k);y.__click=[xu];var x=w(y);de(x,()=>({"--size":"28px"})),le(x.lastChild,{name:"about"});var M=A(c,2),U=A(w(M),2);Su(U,{get checked(){return o(a)},onChange:s});var Z=A(M,2),se=w(Z);{var G=J=>{var V=Au(),Q=w(V);ve(ce=>hr(Q,`version: 0.0.1 build_date: "${ce??""}" build_hash:
				${o(n)??""}`),[()=>new Date(1757442565164).toISOString().replaceAll("T"," ").replace(/\..*/,"")]),m(J,V)};R(se,J=>{o(n)&&J(G)})}m(e,i),q()}Te(["click"]);const Du=Object.freeze(Object.defineProperty({__proto__:null,default:mo},Symbol.toStringTag,{value:"Module"}));var Nu=I('<div class="content svelte-9hh95f"><p class="message svelte-9hh95f">use app</p> <div class="buttonContainer svelte-9hh95f"><div class="buttonContainerItem svelte-9hh95f"><!></div> <div class="buttonContainerItem svelte-9hh95f"><!></div></div></div>');function wo(e,t){K(t,!0);let n=N("idle");const r=()=>{C(n,"loading"),Qe(D.Auth)},a=async()=>{C(n,"loading"),await qc(),mn(!1),Hs()};ke(()=>{mn(o(n)==="idle"||o(n)==="loading")}),_e(()=>(mn(!0),()=>{mn(!1)}));var s=Nu(),i=A(w(s),2),l=w(i),c=w(l);kt(c,{onClick:r,fullWidth:!0,children:(h,v)=>{var g=Pe("cloud account");m(h,g)},$$slots:{default:!0}});var u=A(l,2),d=w(u);kt(d,{onClick:a,fullWidth:!0,type:"secondary",children:(h,v)=>{var g=Pe("local account");m(h,g)},$$slots:{default:!0}}),m(e,s),q()}const Lu=Object.freeze(Object.defineProperty({__proto__:null,default:wo},Symbol.toStringTag,{value:"Module"}));var Ou=I('<div class="content svelte-9hh95f"><p class="message svelte-9hh95f">sign in / sign up</p> <div class="buttonContainer svelte-9hh95f"><div class="buttonContainerItem svelte-9hh95f"><!></div> <div class="buttonContainerItem svelte-9hh95f"><!></div></div></div>');function yo(e,t){K(t,!0);let n=O(ro);const r=async()=>{Qe(D.Signin)},a=async()=>{Qe(D.Signup)};_e(()=>(o(n)===void 0&&(mn(!0),Ra(!0)),()=>{Ra(!1)}));var s=Ou(),i=A(w(s),2),l=w(i),c=w(l);kt(c,{onClick:r,fullWidth:!0,children:(h,v)=>{var g=Pe("sign in");m(h,g)},$$slots:{default:!0}});var u=A(l,2),d=w(u);kt(d,{onClick:a,fullWidth:!0,children:(h,v)=>{var g=Pe("sign up");m(h,g)},$$slots:{default:!0}}),m(e,s),q()}const Mu=Object.freeze(Object.defineProperty({__proto__:null,default:yo},Symbol.toStringTag,{value:"Module"}));var Iu=I('<div class="svelte-m08fup"><!></div>');function be(e,t){K(t,!0);let n=N(null);_e(()=>{o(n)&&(o(n).getBoundingClientRect(),o(n).style.opacity="1");const s=new ResizeObserver(i=>{for(let l of i){const c=l.contentRect.height;vc(c)}});if(o(n))return s.observe(o(n)),()=>{o(n)&&s.unobserve(o(n)),s.disconnect()}});var r=Iu(),a=w(r);Ae(a,()=>t.children),Je(r,s=>C(n,s),()=>o(n)),m(e,r),q()}var Ru=I('<div class="svelte-ndasxn"><p class="svelte-ndasxn">Page not found</p> <!></div>');function bo(e,t){K(t,!1);const n=s=>{s.preventDefault(),ut("/")};On();var r=Ru(),a=A(w(r),2);kt(a,{element:"a",href:"/",onClick:n,children:(s,i)=>{var l=Pe("close");m(s,l)},$$slots:{default:!0}}),m(e,r),q()}const Bu=Object.freeze(Object.defineProperty({__proto__:null,default:bo},Symbol.toStringTag,{value:"Module"}));var ju=I('<div class="svelte-1tpcci8"><p class="svelte-1tpcci8">Something went wrong. Please reload the page</p> <!></div>');function zu(e){var t=ju(),n=A(w(t),2);kt(n,{onClick:()=>location.reload(),children:(r,a)=>{var s=Pe("Reload");m(r,s)},$$slots:{default:!0}}),m(e,t)}var Fu=I('<div class="svelte-uzefkz"><!></div>');function Uu(e,t){K(t,!1);const n=eo();On();var r=Fu(),a=w(r);po(a,{}),ve(()=>kn(r,`min-height: ${n??""}px;`)),m(e,r),q()}function Le(e,t){K(t,!0);const n={},r=Object.assign({"./Pages/About.svelte":()=>ge(()=>import("./About-B_eSml0F.js"),__vite__mapDeps([2,3])),"./Pages/AccessKeys.svelte":()=>ge(()=>import("./AccessKeys-CvP0bqxV.js"),__vite__mapDeps([4,5,6])),"./Pages/Account.svelte":()=>ge(()=>import("./Account-BxR6eUsu.js"),__vite__mapDeps([7,8])),"./Pages/Auth.svelte":()=>ge(()=>Promise.resolve().then(()=>Mu),void 0),"./Pages/ClearStore.svelte":()=>ge(()=>import("./ClearStore-BtR8tmhR.js"),__vite__mapDeps([9,10])),"./Pages/ConfirmAccessKey.svelte":()=>ge(()=>import("./ConfirmAccessKey-Cq7pm4yl.js"),__vite__mapDeps([11,5,12,13,14])),"./Pages/EditBookmark.svelte":()=>ge(()=>import("./EditBookmark-BoyRGwjy.js"),__vite__mapDeps([15,16,12,13,17])),"./Pages/Exit.svelte":()=>ge(()=>import("./Exit-DgId3SjQ.js"),__vite__mapDeps([18,19])),"./Pages/ExportData.svelte":()=>ge(()=>import("./ExportData-D5ATEyq_.js"),__vite__mapDeps([20,21])),"./Pages/Home.svelte":()=>ge(()=>Promise.resolve().then(()=>_u),void 0),"./Pages/ImportData.svelte":()=>ge(()=>import("./ImportData-BQ5KzwIz.js"),__vite__mapDeps([22,23])),"./Pages/NewBookmark.svelte":()=>ge(()=>import("./NewBookmark-4y3KepHG.js"),__vite__mapDeps([24,16,12,13,17])),"./Pages/NotFound.svelte":()=>ge(()=>Promise.resolve().then(()=>Bu),void 0),"./Pages/Settings.svelte":()=>ge(()=>Promise.resolve().then(()=>Du),void 0),"./Pages/Signin.svelte":()=>ge(()=>import("./Signin-B1qcivWb.js"),__vite__mapDeps([25,5,26])),"./Pages/Signup.svelte":()=>ge(()=>import("./Signup-Cd50W8KL.js"),__vite__mapDeps([27,5,26])),"./Pages/Start.svelte":()=>ge(()=>Promise.resolve().then(()=>Lu),void 0),"./Pages/Subscription.svelte":()=>ge(()=>import("./Subscription-bSNCLzh-.js"),__vite__mapDeps([28,29])),"./Pages/Sync.svelte":()=>ge(()=>import("./Sync-SQxtb9lZ.js"),__vite__mapDeps([30,31]))}),a=async l=>{const c=`./Pages/${l[0].toUpperCase()+l.slice(1)}.svelte`;if(!n[l]){if(r[c]){const u=r[c]();return n[l]={promise:u},n[l].module=await u,n[l].module}throw new Error(`Page ${l} not found`)}return n[l].module||await n[l].promise};var s=F(),i=L(s);xs(i,()=>a(t.page),l=>{Uu(l,{})},(l,c)=>{const u=O(()=>o(c).default);var d=F(),h=L(d);Ds(h,()=>o(u),(v,g)=>{g(v,{get params(){return t.params},get hidden(){return t.hidden}})}),m(l,d)},l=>{zu(l)}),m(e,s),q()}const za=(e,t=Ze,n=Ze,r)=>{let a=cr(()=>Yo(r?.(),!1));var s=F(),i=L(s);{var l=u=>{be(u,{children:(d,h)=>{mo(d,{})},$$slots:{default:!0}})},c=u=>{var d=F(),h=L(d);{var v=f=>{be(f,{children:(p,_)=>{Le(p,{get hidden(){return o(a)},get page(){return D.NewBookmark}})},$$slots:{default:!0}})},g=f=>{var p=F(),_=L(p);{var b=E=>{be(E,{children:(P,k)=>{Le(P,{get params(){return n()},get hidden(){return o(a)},get page(){return D.EditBookmark}})},$$slots:{default:!0}})},S=E=>{var P=F(),k=L(P);{var y=M=>{be(M,{children:(U,Z)=>{Le(U,{get hidden(){return o(a)},get page(){return D.ImportData}})},$$slots:{default:!0}})},x=M=>{var U=F(),Z=L(U);{var se=J=>{be(J,{children:(V,Q)=>{Le(V,{get hidden(){return o(a)},get page(){return D.ExportData}})},$$slots:{default:!0}})},G=J=>{var V=F(),Q=L(V);{var ce=B=>{be(B,{children:(z,te)=>{Le(z,{get hidden(){return o(a)},get page(){return D.ClearStore}})},$$slots:{default:!0}})},H=B=>{var z=F(),te=L(z);{var Ue=he=>{be(he,{children:(we,ye)=>{wo(we,{})},$$slots:{default:!0}})},De=he=>{var we=F(),ye=L(we);{var Ye=je=>{be(je,{children:(W,ue)=>{yo(W,{})},$$slots:{default:!0}})},Be=je=>{var W=F(),ue=L(W);{var Ee=ft=>{be(ft,{children:(vt,da)=>{Le(vt,{get hidden(){return o(a)},get page(){return D.Signup}})},$$slots:{default:!0}})},Kt=ft=>{var vt=F(),da=L(vt);{var So=qt=>{be(qt,{children:(jn,fa)=>{Le(jn,{get hidden(){return o(a)},get page(){return D.Signin}})},$$slots:{default:!0}})},ko=qt=>{var jn=F(),fa=L(jn);{var Eo=Wt=>{be(Wt,{children:(zn,va)=>{Le(zn,{get hidden(){return o(a)},get page(){return D.AccessKeys}})},$$slots:{default:!0}})},Co=Wt=>{var zn=F(),va=L(zn);{var Po=Yt=>{be(Yt,{children:(Fn,ha)=>{Le(Fn,{get hidden(){return o(a)},get page(){return D.Account}})},$$slots:{default:!0}})},xo=Yt=>{var Fn=F(),ha=L(Fn);{var Ao=Gt=>{be(Gt,{children:(Un,ga)=>{Le(Un,{get hidden(){return o(a)},get page(){return D.ConfirmAccessKey}})},$$slots:{default:!0}})},To=Gt=>{var Un=F(),ga=L(Un);{var Do=Xt=>{be(Xt,{children:(Vn,pa)=>{Le(Vn,{get hidden(){return o(a)},get page(){return D.Exit}})},$$slots:{default:!0}})},No=Xt=>{var Vn=F(),pa=L(Vn);{var Lo=Zt=>{be(Zt,{children:(Hn,_a)=>{Le(Hn,{get hidden(){return o(a)},get page(){return D.Sync}})},$$slots:{default:!0}})},Oo=Zt=>{var Hn=F(),_a=L(Hn);{var Mo=Jt=>{be(Jt,{children:(Kn,ma)=>{Le(Kn,{get hidden(){return o(a)},get page(){return D.Subscription}})},$$slots:{default:!0}})},Io=Jt=>{var Kn=F(),ma=L(Kn);{var Ro=Qt=>{be(Qt,{children:(_r,jo)=>{Le(_r,{get hidden(){return o(a)},get page(){return D.About}})},$$slots:{default:!0}})},Bo=Qt=>{be(Qt,{children:(_r,jo)=>{bo(_r,{})},$$slots:{default:!0}})};R(ma,Qt=>{t()===D.About?Qt(Ro):Qt(Bo,!1)},!0)}m(Jt,Kn)};R(_a,Jt=>{t()===D.Subscription?Jt(Mo):Jt(Io,!1)},!0)}m(Zt,Hn)};R(pa,Zt=>{t()===D.Sync?Zt(Lo):Zt(Oo,!1)},!0)}m(Xt,Vn)};R(ga,Xt=>{t()===D.Exit?Xt(Do):Xt(No,!1)},!0)}m(Gt,Un)};R(ha,Gt=>{t()===D.ConfirmAccessKey?Gt(Ao):Gt(To,!1)},!0)}m(Yt,Fn)};R(va,Yt=>{t()===D.Account?Yt(Po):Yt(xo,!1)},!0)}m(Wt,zn)};R(fa,Wt=>{t()===D.AccessKeys?Wt(Eo):Wt(Co,!1)},!0)}m(qt,jn)};R(da,qt=>{t()===D.Signin?qt(So):qt(ko,!1)},!0)}m(ft,vt)};R(ue,ft=>{t()===D.Signup?ft(Ee):ft(Kt,!1)},!0)}m(je,W)};R(ye,je=>{t()===D.Auth?je(Ye):je(Be,!1)},!0)}m(he,we)};R(te,he=>{t()===D.Start?he(Ue):he(De,!1)},!0)}m(B,z)};R(Q,B=>{t()===D.ClearStore?B(ce):B(H,!1)},!0)}m(J,V)};R(Z,J=>{t()===D.ExportData?J(se):J(G,!1)},!0)}m(M,U)};R(k,M=>{t()===D.ImportData?M(y):M(x,!1)},!0)}m(E,P)};R(_,E=>{t()===D.EditBookmark?E(b):E(S,!1)},!0)}m(f,p)};R(h,f=>{t()===D.NewBookmark?f(v):f(g,!1)},!0)}m(u,d)};R(i,u=>{t()==="settings"?u(l):u(c,!1)})}m(e,s)};var Vu=I("<!> <!>",1);function Hu(e,t){K(t,!0);let n=O(tc),r=O(gr);var a=Vu(),s=L(a);{var i=d=>{_o(d)};R(s,d=>{o(r)&&d(i)})}var l=A(s,2);{var c=d=>{var h=F(),v=L(h);tn(v,19,()=>o(n),g=>g.page,(g,f,p)=>{const _=O(()=>o(f).page.split("?")[1]),b=O(()=>o(f).page.split("?")[0]);{let S=O(()=>o(p)!==o(n).length-1&&!!o(n)[o(p)+1]?.shown),E=O(()=>o(p)===0);Ba(g,{get shown(){return o(f).shown},get hidden(){return o(S)},get isLastDialog(){return o(E)},children:(P,k)=>{{let y=O(()=>o(p)!==o(n).length-1&&!!o(n)[o(p)+1]?.shown);za(P,()=>o(b),()=>o(_),()=>o(y))}},$$slots:{default:!0}})}}),m(d,h)},u=d=>{var h=F(),v=L(h);{var g=f=>{const p=O(()=>o(n)[o(n).length-1].page.split("?")[1]),_=O(()=>o(n)[o(n).length-1].page.split("?")[0]);{let b=O(()=>o(n).length===1);Ba(f,{onBack:()=>Js(),get shown(){return o(n)[o(n).length-1].shown},hidden:!1,get isLastDialog(){return o(b)},children:(S,E)=>{za(S,()=>o(_),()=>o(p))},$$slots:{default:!0}})}};R(v,f=>{o(n).length>0&&f(g)},!0)}m(d,h)};R(l,d=>{In()?d(c):d(u,!1)})}m(e,a),q()}function Ku(){const e=navigator.userAgent;return/iPad|iPhone|iPod/.test(e)?!!(/Safari/.test(e)&&!/Chrome/.test(e)&&!/CriOS/.test(e)&&!/FxiOS/.test(e)):!1}function qu(e,t){K(t,!1);const n=Ku();_e(()=>{xr(),document.addEventListener("focusin",xr),document.addEventListener("focusout",xr),document.addEventListener("touchmove",function(r){Qs()&&n&&r.preventDefault()},{passive:!1})}),On(),q()}function Wu(e,t){K(t,!1);let n=0;_e(()=>{document.addEventListener("touchstart",r=>{n=r.touches[0].clientX},{passive:!1}),document.addEventListener("touchmove",r=>{const s=r.touches[0].clientX-n;(n<50&&s>0||n>window.innerWidth-50&&s<0)&&r.preventDefault()},{passive:!1}),document.addEventListener("touchend",()=>{n=0}),document.addEventListener("touchcancel",()=>{n=0})}),On(),q()}const Yu=(e,t)=>{o(t)&&o(t).scrollTo({top:0,behavior:"smooth"})};var Gu=I('<div class="wrapperButtonTop svelte-1rgtneh"><button class="buttonTop svelte-1rgtneh"><!> <span class="icon svelte-1rgtneh"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></span></button></div>'),Xu=I('<!> <!> <!> <main><!> <div class="container svelte-1rgtneh"><!></div></main> <!>',1);function Zu(e,t){K(t,!0);const n=Mn();_e(async()=>{await new Promise(k=>setTimeout(k,100)),await ks(),n.working=!0});let r=N(!1),a=0,s=O(()=>Ct().length>0),i=O(gr),l=N(null);ke(()=>{sa.ref=o(l)});const c=()=>{if(o(l)){const k=o(l).scrollTop||0;k===0?C(r,!1):!o(r)&&a>k?C(r,!0):o(r)&&a<k&&C(r,!1),a=k}},u=()=>{c()};ke(()=>(o(l)?.addEventListener("scroll",u),window.addEventListener("resize",u),()=>{o(l)?.removeEventListener("scroll",u),window.removeEventListener("resize",u)}));var d=Xu(),h=L(d);Wu(h,{});var v=A(h,2);qu(v,{});var g=A(v,2);El(g,{});var f=A(g,2),p=w(f);{var _=k=>{rc(k,{})};R(p,k=>{o(i)&&k(_)})}var b=A(p,2),S=w(b);Hu(S,{}),Je(f,k=>C(l,k),()=>o(l));var E=A(f,2);{var P=k=>{var y=Gu(),x=w(y);x.__click=[Yu,l];var M=w(x);ot(M,{children:(se,G)=>{var J=Pe("top");m(se,J)}});var U=A(M,2),Z=w(U);de(Z,()=>({"--rotate":"90deg","--size":"28px"})),le(Z.lastChild,{name:"back"}),m(k,y)};R(E,k=>{o(r)&&k(P)})}ve(()=>{kn(f,`--swiping-ratio: ${n.swipingRatio}; --transition-timing-default: ${n.duration}s;`),ee(f,1,$(["main",{isAnimationOn:n.working&&!n.isSwiping,open:o(s)}]),"svelte-1rgtneh")}),m(e,d),q()}Te(["click"]);function Ju(e){yl(e,{children:(t,n)=>{Zu(t,{})}})}window.addEventListener("unhandledrejection",e=>{alert("Error: "+e.reason.message)});window.isUnsupportedBrowser||$i(Ju,{target:document.getElementById("app")});export{Qn as $,ro as A,kt as B,vd as C,Qe as D,td as E,dd as F,Hs as G,ea as H,le as I,ld as J,sd as K,po as L,od as M,Js as N,jl as O,D as P,ad as Q,ud as R,On as S,pd as T,ed as U,ot as V,ae as W,ee as X,$ as Y,Se as Z,Er as _,de as a,kn as a0,Pc as a1,Ic as a2,In as a3,Je as a4,fd as a5,cd as a6,Gn as a7,ul as a8,gr as a9,Ra as aa,hd as ab,T as ac,nd as ad,rd as ae,gd as af,Qs as ag,Mn as ah,Ms as ai,tc as aj,Rs as ak,xl as al,Ae as am,Ws as an,m as b,w as c,N as d,pe as e,I as f,mn as g,o as h,C as i,R as j,q as k,F as l,L as m,Te as n,_e as o,K as p,tn as q,hr as r,A as s,ve as t,ke as u,Pe as v,id as w,O as x,Rt as y,It as z};
