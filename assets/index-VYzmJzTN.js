const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/MobileSidebar-DHaAN5tY.js","assets/MobileSidebar-1JBO3KHP.css","assets/About-Bf5kiYX0.js","assets/About-Dq-CGdnI.css","assets/AccessKeys-CkCLe3f8.js","assets/webauthn-Dy13XHj8.js","assets/AccessKeys-BDHupy-W.css","assets/Account-Bu65RS13.js","assets/Account-B_4WPOGa.css","assets/Auth-ClqMd0KL.js","assets/Auth-DUSiNlzc.css","assets/ClearStore-CGFwn4io.js","assets/ClearStore-CFMXavw3.css","assets/ConfirmAccessKey-D8JH6w1B.js","assets/Input-BZMBbnmx.js","assets/Input-j0KFa_-O.css","assets/crypto-Cpa8lgv9.js","assets/ConfirmAccessKey-C5pMGk3u.css","assets/EditNote-DOmKiz0I.js","assets/NoteForm-12qH1Dse.js","assets/NoteForm-DfRmfh2L.css","assets/Exit-CYvv5ENM.js","assets/Exit-BVeFekri.css","assets/ExportData-C2H2of4j.js","assets/ExportData-DAHHg6lv.css","assets/ImportData-CumZDZW0.js","assets/ImportData-BoD3Qa8Y.css","assets/NewNote-D56bQ_y-.js","assets/Settings-CCXFhWf2.js","assets/Settings-BN8xpILX.css","assets/Signin-lhG0QYl_.js","assets/Signin-DlYwjIyC.css","assets/Signup-BhnRQAhe.js","assets/Signup-BlQ-6iHI.css","assets/Subscription-Cj6R8B-U.js","assets/Subscription-DkTFHdRa.css","assets/Sync-CGkIncZZ.js","assets/Sync-QQfGH1sn.css"])))=>i.map(i=>d[i]);
var Ds=Object.defineProperty;var La=e=>{throw TypeError(e)};var Ts=(e,t,n)=>t in e?Ds(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var _n=(e,t,n)=>Ts(e,typeof t!="symbol"?t+"":t,n),Vr=(e,t,n)=>t.has(e)||La("Cannot "+n);var D=(e,t,n)=>(Vr(e,t,"read from private field"),n?n.call(e):t.get(e)),ae=(e,t,n)=>t.has(e)?La("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),X=(e,t,n,r)=>(Vr(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),je=(e,t,n)=>(Vr(e,t,"access private method"),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();const Qa=!1;var ca=Array.isArray,As=Array.prototype.indexOf,ua=Array.from,Zr=Object.defineProperty,bn=Object.getOwnPropertyDescriptor,eo=Object.getOwnPropertyDescriptors,Ns=Object.prototype,Ls=Array.prototype,da=Object.getPrototypeOf,Ma=Object.isExtensible;const oe=()=>{};function Ms(e){return typeof e?.then=="function"}function Os(e){return e()}function kr(e){for(var t=0;t<e.length;t++)e[t]()}function Is(){var e,t,n=new Promise((r,a)=>{e=r,t=a});return{promise:n,resolve:e,reject:t}}function Bs(e,t,n=!1){return e===void 0?n?t():t:e}const Je=2,fa=4,Ar=8,On=16,Tt=32,nn=64,va=128,it=256,Er=512,Be=1024,lt=2048,qt=4096,ft=8192,rn=16384,ha=32768,In=65536,Oa=1<<17,Rs=1<<18,Bn=1<<19,to=1<<20,Jr=1<<21,ga=1<<22,Jt=1<<23,Qt=Symbol("$state"),Fs=Symbol("legacy props"),js=Symbol(""),_a=new class extends Error{constructor(){super(...arguments);_n(this,"name","StaleReactionError");_n(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function no(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Hs(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function zs(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Us(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Vs(e){throw new Error("https://svelte.dev/e/effect_orphan")}function qs(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Ws(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function Ks(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Ys(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function $s(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Gs(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const Nr=1,Lr=2,ro=4,Xs=8,Zs=16,Js=1,Qs=2,ei=4,ti=8,ni=16,ri=1,ai=2,Ee=Symbol(),oi="http://www.w3.org/1999/xhtml";let si=!1;function ao(e){return e===this.v}function ii(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function oo(e){return!ii(e,this.v)}let Rn=!1,li=!1;function ci(){Rn=!0}let de=null;function Ut(e){de=e}function we(e){return so().get(e)}function ye(e,t){return so().set(e,t),t}function K(e,t=!1,n){de={p:de,c:null,e:null,s:e,x:null,l:Rn&&!t?{s:null,u:null,$:[]}:null}}function Y(e){var t=de,n=t.e;if(n!==null){t.e=null;for(var r of n)bo(r)}return e!==void 0&&(t.x=e),de=t.p,e??{}}function Fn(){return!Rn||de!==null&&de.l===null}function so(e){return de===null&&no(),de.c??(de.c=new Map(ui(de)||void 0))}function ui(e){let t=e.p;for(;t!==null;){const n=t.c;if(n!==null)return n;t=t.p}return null}let Ft=[],Pr=[];function io(){var e=Ft;Ft=[],kr(e)}function di(){var e=Pr;Pr=[],kr(e)}function fi(){return Ft.length>0||Pr.length>0}function an(e){if(Ft.length===0&&!Kn){var t=Ft;queueMicrotask(()=>{t===Ft&&io()})}Ft.push(e)}function vi(){Ft.length>0&&io(),Pr.length>0&&di()}const hi=new WeakMap;function lo(e){var t=ee;if(t===null)return J.f|=Jt,e;if((t.f&ha)===0){if((t.f&va)===0)throw!t.parent&&e instanceof Error&&co(e),e;t.b.error(e)}else An(e,t)}function An(e,t){for(;t!==null;){if((t.f&va)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e instanceof Error&&co(e),e}function co(e){const t=hi.get(e);t&&(Zr(e,"message",{value:t.message}),Zr(e,"stack",{value:t.stack}))}const qr=new Set;let fe=null,mr=null,Qr=new Set,tn=[],Mr=null,ea=!1,Kn=!1;var er,xn,Mt,tr,nr,Yt,Dn,$t,Ot,Tn,rr,ar,ht,uo,wr,ta;const xr=class xr{constructor(){ae(this,ht);_n(this,"current",new Map);ae(this,er,new Map);ae(this,xn,new Set);ae(this,Mt,0);ae(this,tr,null);ae(this,nr,!1);ae(this,Yt,[]);ae(this,Dn,[]);ae(this,$t,[]);ae(this,Ot,[]);ae(this,Tn,[]);ae(this,rr,[]);ae(this,ar,[]);_n(this,"skipped_effects",new Set)}process(t){tn=[],mr=null;for(const a of t)je(this,ht,uo).call(this,a);if(D(this,Yt).length===0&&D(this,Mt)===0){je(this,ht,ta).call(this);var n=D(this,$t),r=D(this,Ot);X(this,$t,[]),X(this,Ot,[]),X(this,Tn,[]),mr=fe,fe=null,Ia(n),Ia(r),fe===null?fe=this:qr.delete(this),D(this,tr)?.resolve()}else je(this,ht,wr).call(this,D(this,$t)),je(this,ht,wr).call(this,D(this,Ot)),je(this,ht,wr).call(this,D(this,Tn));for(const a of D(this,Yt))Pn(a);for(const a of D(this,Dn))Pn(a);X(this,Yt,[]),X(this,Dn,[])}capture(t,n){D(this,er).has(t)||D(this,er).set(t,n),this.current.set(t,t.v)}activate(){fe=this}deactivate(){fe=null,mr=null;for(const t of Qr)if(Qr.delete(t),t(),fe!==null)break}neuter(){X(this,nr,!0)}flush(){tn.length>0?vo():je(this,ht,ta).call(this),fe===this&&(D(this,Mt)===0&&qr.delete(this),this.deactivate())}increment(){X(this,Mt,D(this,Mt)+1)}decrement(){if(X(this,Mt,D(this,Mt)-1),D(this,Mt)===0){for(const t of D(this,rr))Ye(t,lt),Nn(t);for(const t of D(this,ar))Ye(t,qt),Nn(t);X(this,$t,[]),X(this,Ot,[]),this.flush()}else this.deactivate()}add_callback(t){D(this,xn).add(t)}settled(){return(D(this,tr)??X(this,tr,Is())).promise}static ensure(){if(fe===null){const t=fe=new xr;qr.add(fe),Kn||xr.enqueue(()=>{fe===t&&t.flush()})}return fe}static enqueue(t){an(t)}};er=new WeakMap,xn=new WeakMap,Mt=new WeakMap,tr=new WeakMap,nr=new WeakMap,Yt=new WeakMap,Dn=new WeakMap,$t=new WeakMap,Ot=new WeakMap,Tn=new WeakMap,rr=new WeakMap,ar=new WeakMap,ht=new WeakSet,uo=function(t){t.f^=Be;for(var n=t.first;n!==null;){var r=n.f,a=(r&(Tt|nn))!==0,o=a&&(r&Be)!==0,s=o||(r&ft)!==0||this.skipped_effects.has(n);if(!s&&n.fn!==null){if(a)n.f^=Be;else if((r&fa)!==0)D(this,Ot).push(n);else if((r&Be)===0)if((r&ga)!==0){var l=n.b?.is_pending()?D(this,Dn):D(this,Yt);l.push(n)}else Rr(n)&&((n.f&On)!==0&&D(this,Tn).push(n),Pn(n));var u=n.first;if(u!==null){n=u;continue}}var c=n.parent;for(n=n.next;n===null&&c!==null;)n=c.next,c=c.parent}},wr=function(t){for(const n of t)((n.f&lt)!==0?D(this,rr):D(this,ar)).push(n),Ye(n,Be);t.length=0},ta=function(){if(!D(this,nr))for(const t of D(this,xn))t();D(this,xn).clear()};let Ht=xr;function fo(e){var t=Kn;Kn=!0;try{for(var n;;){if(vi(),tn.length===0&&!fi()&&(fe?.flush(),tn.length===0))return Mr=null,n;vo()}}finally{Kn=t}}function vo(){var e=En;ea=!0;try{var t=0;for(Fa(!0);tn.length>0;){var n=Ht.ensure();if(t++>1e3){var r,a;gi()}n.process(tn),zt.clear()}}finally{ea=!1,Fa(e),Mr=null}}function gi(){try{qs()}catch(e){An(e,Mr)}}let Kt=null;function Ia(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if((r.f&(rn|ft))===0&&Rr(r)&&(Kt=[],Pn(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?Po(r):r.fn=null),Kt?.length>0)){zt.clear();for(const a of Kt)Pn(a);Kt=[]}}Kt=null}}function Nn(e){for(var t=Mr=e;t.parent!==null;){t=t.parent;var n=t.f;if(ea&&t===ee&&(n&On)!==0)return;if((n&(nn|Tt))!==0){if((n&Be)===0)return;t.f^=Be}}tn.push(t)}function _i(e){let t=0,n=Dt(0),r;return()=>{Li()&&(i(n),Br(()=>(t===0&&(r=Vt(()=>e(()=>Yn(n)))),t+=1,()=>{an(()=>{t-=1,t===0&&(r?.(),r=void 0,Yn(n))})})))}}var pi=In|Bn|va;function mi(e,t,n){new wi(e,t,n)}var ut,ot,la,pt,Gt,mt,st,Ke,wt,It,Xt,Bt,Zt,Rt,Dr,Tr,Ue,yi,Si,yr,Sr,na;class wi{constructor(t,n,r){ae(this,Ue);_n(this,"parent");ae(this,ut,!1);ae(this,ot);ae(this,la,null);ae(this,pt);ae(this,Gt);ae(this,mt);ae(this,st,null);ae(this,Ke,null);ae(this,wt,null);ae(this,It,null);ae(this,Xt,0);ae(this,Bt,0);ae(this,Zt,!1);ae(this,Rt,null);ae(this,Dr,()=>{D(this,Rt)&&Ct(D(this,Rt),D(this,Xt))});ae(this,Tr,_i(()=>(X(this,Rt,Dt(D(this,Xt))),()=>{X(this,Rt,null)})));X(this,ot,t),X(this,pt,n),X(this,Gt,r),this.parent=ee.b,X(this,ut,!!D(this,pt).pending),X(this,mt,jn(()=>{ee.b=this;{try{X(this,st,Ie(()=>r(D(this,ot))))}catch(a){this.error(a)}D(this,Bt)>0?je(this,Ue,Sr).call(this):X(this,ut,!1)}},pi))}is_pending(){return D(this,ut)||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!D(this,pt).pending}update_pending_count(t){je(this,Ue,na).call(this,t),X(this,Xt,D(this,Xt)+t),Qr.add(D(this,Dr))}get_effect_pending(){return D(this,Tr).call(this),i(D(this,Rt))}error(t){var n=D(this,pt).onerror;let r=D(this,pt).failed;if(D(this,Zt)||!n&&!r)throw t;D(this,st)&&(Ze(D(this,st)),X(this,st,null)),D(this,Ke)&&(Ze(D(this,Ke)),X(this,Ke,null)),D(this,wt)&&(Ze(D(this,wt)),X(this,wt,null));var a=!1,o=!1;const s=()=>{if(a){return}a=!0,o&&Gs(),Ht.ensure(),X(this,Xt,0),D(this,wt)!==null&&yt(D(this,wt),()=>{X(this,wt,null)}),X(this,ut,this.has_pending_snippet()),X(this,st,je(this,Ue,yr).call(this,()=>(X(this,Zt,!1),Ie(()=>D(this,Gt).call(this,D(this,ot)))))),D(this,Bt)>0?je(this,Ue,Sr).call(this):X(this,ut,!1)};var l=J;try{Re(null),o=!0,n?.(t,s),o=!1}catch(u){An(u,D(this,mt)&&D(this,mt).parent)}finally{Re(l)}r&&an(()=>{X(this,wt,je(this,Ue,yr).call(this,()=>{X(this,Zt,!0);try{return Ie(()=>{r(D(this,ot),()=>t,()=>s)})}catch(u){return An(u,D(this,mt).parent),null}finally{X(this,Zt,!1)}}))})}}ut=new WeakMap,ot=new WeakMap,la=new WeakMap,pt=new WeakMap,Gt=new WeakMap,mt=new WeakMap,st=new WeakMap,Ke=new WeakMap,wt=new WeakMap,It=new WeakMap,Xt=new WeakMap,Bt=new WeakMap,Zt=new WeakMap,Rt=new WeakMap,Dr=new WeakMap,Tr=new WeakMap,Ue=new WeakSet,yi=function(){try{X(this,st,Ie(()=>D(this,Gt).call(this,D(this,ot))))}catch(t){this.error(t)}X(this,ut,!1)},Si=function(){const t=D(this,pt).pending;t&&(X(this,Ke,Ie(()=>t(D(this,ot)))),Ht.enqueue(()=>{X(this,st,je(this,Ue,yr).call(this,()=>(Ht.ensure(),Ie(()=>D(this,Gt).call(this,D(this,ot)))))),D(this,Bt)>0?je(this,Ue,Sr).call(this):(yt(D(this,Ke),()=>{X(this,Ke,null)}),X(this,ut,!1))}))},yr=function(t){var n=ee,r=J,a=de;ct(D(this,mt)),Re(D(this,mt)),Ut(D(this,mt).ctx);try{return t()}catch(o){return lo(o),null}finally{ct(n),Re(r),Ut(a)}},Sr=function(){const t=D(this,pt).pending;D(this,st)!==null&&(X(this,It,document.createDocumentFragment()),bi(D(this,st),D(this,It))),D(this,Ke)===null&&X(this,Ke,Ie(()=>t(D(this,ot))))},na=function(t){var n;if(!this.has_pending_snippet()){this.parent&&je(n=this.parent,Ue,na).call(n,t);return}X(this,Bt,D(this,Bt)+t),D(this,Bt)===0&&(X(this,ut,!1),D(this,Ke)&&yt(D(this,Ke),()=>{X(this,Ke,null)}),D(this,It)&&(D(this,ot).before(D(this,It)),X(this,It,null)))};function bi(e,t){for(var n=e.nodes_start,r=e.nodes_end;n!==null;){var a=n===r?null:sr(n);t.append(n),n=a}}function ki(e,t,n){const r=Fn()?or:Or;if(t.length===0){n(e.map(r));return}var a=fe,o=ee,s=Ei();Promise.all(t.map(l=>Pi(l))).then(l=>{a?.activate(),s();try{n([...e.map(r),...l])}catch(u){(o.f&rn)===0&&An(u,o)}a?.deactivate(),ho()}).catch(l=>{An(l,o)})}function Ei(){var e=ee,t=J,n=de,r=fe;return function(){ct(e),Re(t),Ut(n),r?.activate()}}function ho(){ct(null),Re(null),Ut(null)}function or(e){var t=Je|lt,n=J!==null&&(J.f&Je)!==0?J:null;return ee===null||n!==null&&(n.f&it)!==0?t|=it:ee.f|=Bn,{ctx:de,deps:null,effects:null,equals:ao,f:t,fn:e,reactions:null,rv:0,v:Ee,wv:0,parent:n??ee,ac:null}}function Pi(e,t){let n=ee;n===null&&Hs();var r=n.b,a=void 0,o=Dt(Ee),s=null,l=!J;return Ri(()=>{try{var u=e();s&&Promise.resolve(u).catch(()=>{})}catch(g){u=Promise.reject(g)}var c=()=>u;a=s?.then(c,c)??Promise.resolve(u),s=a;var d=fe,v=r.is_pending();l&&(r.update_pending_count(1),v||d.increment());const h=(g,f=void 0)=>{s=null,v||d.activate(),f?f!==_a&&(o.f|=Jt,Ct(o,f)):((o.f&Jt)!==0&&(o.f^=Jt),Ct(o,g)),l&&(r.update_pending_count(-1),v||d.decrement()),ho()};if(a.then(h,g=>h(null,g||"unknown")),d)return()=>{queueMicrotask(()=>d.neuter())}}),new Promise(u=>{function c(d){function v(){d===a?u(o):c(a)}d.then(v,v)}c(a)})}function O(e){const t=or(e);return Do(t),t}function Or(e){const t=or(e);return t.equals=oo,t}function go(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)Ze(t[n])}}function Ci(e){for(var t=e.parent;t!==null;){if((t.f&Je)===0)return t;t=t.parent}return null}function pa(e){var t,n=ee;ct(Ci(e));try{go(e),t=Lo(e)}finally{ct(n)}return t}function _o(e){var t=pa(e);if(e.equals(t)||(e.v=t,e.wv=Ao()),!sn){var n=(jt||(e.f&it)!==0)&&e.deps!==null?qt:Be;Ye(e,n)}}const zt=new Map;function Dt(e,t){var n={f:0,v:e,reactions:null,equals:ao,rv:0,wv:0};return n}function B(e,t){const n=Dt(e);return Do(n),n}function ra(e,t=!1,n=!0){var a;const r=Dt(e);return t||(r.equals=oo),Rn&&n&&de!==null&&de.l!==null&&((a=de.l).s??(a.s=[])).push(r),r}function b(e,t,n=!1){J!==null&&(!dt||(J.f&Oa)!==0)&&Fn()&&(J.f&(Je|On|ga|Oa))!==0&&!xt?.includes(e)&&$s();let r=n?Le(t):t;return Ct(e,r)}function Ct(e,t){if(!e.equals(t)){var n=e.v;sn?zt.set(e,t):zt.set(e,n),e.v=t;var r=Ht.ensure();r.capture(e,n),(e.f&Je)!==0&&((e.f&lt)!==0&&pa(e),Ye(e,(e.f&it)===0?Be:qt)),e.wv=Ao(),po(e,lt),Fn()&&ee!==null&&(ee.f&Be)!==0&&(ee.f&(Tt|nn))===0&&(at===null?Hi([e]):at.push(e))}return t}function Yn(e){b(e,e.v+1)}function po(e,t){var n=e.reactions;if(n!==null)for(var r=Fn(),a=n.length,o=0;o<a;o++){var s=n[o],l=s.f;if(!(!r&&s===ee)){var u=(l&lt)===0;u&&Ye(s,t),(l&Je)!==0?po(s,qt):u&&((l&On)!==0&&Kt!==null&&Kt.push(s),Nn(s))}}}function Le(e){if(typeof e!="object"||e===null||Qt in e)return e;const t=da(e);if(t!==Ns&&t!==Ls)return e;var n=new Map,r=ca(e),a=B(0),o=en,s=l=>{if(en===o)return l();var u=J,c=en;Re(null),Ha(o);var d=l();return Re(u),Ha(c),d};return r&&n.set("length",B(e.length)),new Proxy(e,{defineProperty(l,u,c){(!("value"in c)||c.configurable===!1||c.enumerable===!1||c.writable===!1)&&Ks();var d=n.get(u);return d===void 0?d=s(()=>{var v=B(c.value);return n.set(u,v),v}):b(d,c.value,!0),!0},deleteProperty(l,u){var c=n.get(u);if(c===void 0){if(u in l){const d=s(()=>B(Ee));n.set(u,d),Yn(a)}}else b(c,Ee),Yn(a);return!0},get(l,u,c){if(u===Qt)return e;var d=n.get(u),v=u in l;if(d===void 0&&(!v||bn(l,u)?.writable)&&(d=s(()=>{var g=Le(v?l[u]:Ee),f=B(g);return f}),n.set(u,d)),d!==void 0){var h=i(d);return h===Ee?void 0:h}return Reflect.get(l,u,c)},getOwnPropertyDescriptor(l,u){var c=Reflect.getOwnPropertyDescriptor(l,u);if(c&&"value"in c){var d=n.get(u);d&&(c.value=i(d))}else if(c===void 0){var v=n.get(u),h=v?.v;if(v!==void 0&&h!==Ee)return{enumerable:!0,configurable:!0,value:h,writable:!0}}return c},has(l,u){if(u===Qt)return!0;var c=n.get(u),d=c!==void 0&&c.v!==Ee||Reflect.has(l,u);if(c!==void 0||ee!==null&&(!d||bn(l,u)?.writable)){c===void 0&&(c=s(()=>{var h=d?Le(l[u]):Ee,g=B(h);return g}),n.set(u,c));var v=i(c);if(v===Ee)return!1}return d},set(l,u,c,d){var v=n.get(u),h=u in l;if(r&&u==="length")for(var g=c;g<v.v;g+=1){var f=n.get(g+"");f!==void 0?b(f,Ee):g in l&&(f=s(()=>B(Ee)),n.set(g+"",f))}if(v===void 0)(!h||bn(l,u)?.writable)&&(v=s(()=>B(void 0)),b(v,Le(c)),n.set(u,v));else{h=v.v!==Ee;var _=s(()=>Le(c));b(v,_)}var y=Reflect.getOwnPropertyDescriptor(l,u);if(y?.set&&y.set.call(d,c),!h){if(r&&typeof u=="string"){var k=n.get("length"),E=Number(u);Number.isInteger(E)&&E>=k.v&&b(k,E+1)}Yn(a)}return!0},ownKeys(l){i(a);var u=Reflect.ownKeys(l).filter(v=>{var h=n.get(v);return h===void 0||h.v!==Ee});for(var[c,d]of n)d.v!==Ee&&!(c in l)&&u.push(c);return u},setPrototypeOf(){Ys()}})}var Ba,mo,wo,yo;function xi(){if(Ba===void 0){Ba=window,mo=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;wo=bn(t,"firstChild").get,yo=bn(t,"nextSibling").get,Ma(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Ma(n)&&(n.__t=void 0)}}function on(e=""){return document.createTextNode(e)}function Ln(e){return wo.call(e)}function sr(e){return yo.call(e)}function T(e,t){return Ln(e)}function A(e,t=!1){{var n=Ln(e);return n instanceof Comment&&n.data===""?sr(n):n}}function F(e,t=1,n=!1){let r=e;for(;t--;)r=sr(r);return r}function Di(e){e.textContent=""}function ma(){return!1}let Ra=!1;function Ti(){Ra||(Ra=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function Ir(e){var t=J,n=ee;Re(null),ct(null);try{return e()}finally{Re(t),ct(n)}}function Ai(e,t,n,r=n){e.addEventListener(t,()=>Ir(n));const a=e.__on_r;a?e.__on_r=()=>{a(),r(!0)}:e.__on_r=()=>r(!0),Ti()}function So(e){ee===null&&J===null&&Vs(),J!==null&&(J.f&it)!==0&&ee===null&&Us(),sn&&zs()}function Ni(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function St(e,t,n,r=!0){var a=ee;a!==null&&(a.f&ft)!==0&&(e|=ft);var o={ctx:de,deps:null,nodes_start:null,nodes_end:null,f:e|lt,first:null,fn:t,last:null,next:null,parent:a,b:a&&a.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{Pn(o),o.f|=ha}catch(u){throw Ze(o),u}else t!==null&&Nn(o);if(r){var s=o;if(n&&s.deps===null&&s.teardown===null&&s.nodes_start===null&&s.first===s.last&&(s.f&Bn)===0&&(s=s.first),s!==null&&(s.parent=a,a!==null&&Ni(s,a),J!==null&&(J.f&Je)!==0&&(e&nn)===0)){var l=J;(l.effects??(l.effects=[])).push(s)}}return o}function Li(){return J!==null&&!dt}function Mi(e){const t=St(Ar,null,!1);return Ye(t,Be),t.teardown=e,t}function Me(e){So();var t=ee.f,n=!J&&(t&Tt)!==0&&(t&ha)===0;if(n){var r=de;(r.e??(r.e=[])).push(e)}else return bo(e)}function bo(e){return St(fa|to,e,!1)}function Oi(e){return So(),St(Ar|to,e,!0)}function Ii(e){Ht.ensure();const t=St(nn|Bn,e,!0);return(n={})=>new Promise(r=>{n.outro?yt(t,()=>{Ze(t),r(void 0)}):(Ze(t),r(void 0))})}function Bi(e){return St(fa,e,!1)}function Ri(e){return St(ga|Bn,e,!0)}function Br(e,t=0){return St(Ar|t,e,!0)}function _e(e,t=[],n=[]){ki(t,n,r=>{St(Ar,()=>e(...r.map(i)),!0)})}function jn(e,t=0){var n=St(On|t,e,!0);return n}function Ie(e,t=!0){return St(Tt|Bn,e,!0,t)}function ko(e){var t=e.teardown;if(t!==null){const n=sn,r=J;ja(!0),Re(null);try{t.call(null)}finally{ja(n),Re(r)}}}function Eo(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const a=n.ac;a!==null&&Ir(()=>{a.abort(_a)});var r=n.next;(n.f&nn)!==0?n.parent=null:Ze(n,t),n=r}}function Fi(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&Tt)===0&&Ze(t),t=n}}function Ze(e,t=!0){var n=!1;(t||(e.f&Rs)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(ji(e.nodes_start,e.nodes_end),n=!0),Eo(e,t&&!n),Cr(e,0),Ye(e,rn);var r=e.transitions;if(r!==null)for(const o of r)o.stop();ko(e);var a=e.parent;a!==null&&a.first!==null&&Po(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function ji(e,t){for(;e!==null;){var n=e===t?null:sr(e);e.remove(),e=n}}function Po(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function yt(e,t){var n=[];wa(e,n,!0),Co(n,()=>{Ze(e),t&&t()})}function Co(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var a of e)a.out(r)}else t()}function wa(e,t,n){if((e.f&ft)===0){if(e.f^=ft,e.transitions!==null)for(const s of e.transitions)(s.is_global||n)&&t.push(s);for(var r=e.first;r!==null;){var a=r.next,o=(r.f&In)!==0||(r.f&Tt)!==0;wa(r,t,o?n:!1),r=a}}}function kn(e){xo(e,!0)}function xo(e,t){if((e.f&ft)!==0){e.f^=ft,(e.f&Be)===0&&(Ye(e,lt),Nn(e));for(var n=e.first;n!==null;){var r=n.next,a=(n.f&In)!==0||(n.f&Tt)!==0;xo(n,a?t:!1),n=r}if(e.transitions!==null)for(const o of e.transitions)(o.is_global||t)&&o.in()}}let En=!1;function Fa(e){En=e}let sn=!1;function ja(e){sn=e}let J=null,dt=!1;function Re(e){J=e}let ee=null;function ct(e){ee=e}let xt=null;function Do(e){J!==null&&(xt===null?xt=[e]:xt.push(e))}let He=null,Xe=0,at=null;function Hi(e){at=e}let To=1,Gn=0,en=Gn;function Ha(e){en=e}let jt=!1;function Ao(){return++To}function Rr(e){var t=e.f;if((t&lt)!==0)return!0;if((t&qt)!==0){var n=e.deps,r=(t&it)!==0;if(n!==null){var a,o,s=(t&Er)!==0,l=r&&ee!==null&&!jt,u=n.length;if((s||l)&&(ee===null||(ee.f&rn)===0)){var c=e,d=c.parent;for(a=0;a<u;a++)o=n[a],(s||!o?.reactions?.includes(c))&&(o.reactions??(o.reactions=[])).push(c);s&&(c.f^=Er),l&&d!==null&&(d.f&it)===0&&(c.f^=it)}for(a=0;a<u;a++)if(o=n[a],Rr(o)&&_o(o),o.wv>e.wv)return!0}(!r||ee!==null&&!jt)&&Ye(e,Be)}return!1}function No(e,t,n=!0){var r=e.reactions;if(r!==null&&!xt?.includes(e))for(var a=0;a<r.length;a++){var o=r[a];(o.f&Je)!==0?No(o,t,!1):t===o&&(n?Ye(o,lt):(o.f&Be)!==0&&Ye(o,qt),Nn(o))}}function Lo(e){var _;var t=He,n=Xe,r=at,a=J,o=jt,s=xt,l=de,u=dt,c=en,d=e.f;He=null,Xe=0,at=null,jt=(d&it)!==0&&(dt||!En||J===null),J=(d&(Tt|nn))===0?e:null,xt=null,Ut(e.ctx),dt=!1,en=++Gn,e.ac!==null&&(Ir(()=>{e.ac.abort(_a)}),e.ac=null);try{e.f|=Jr;var v=e.fn,h=v(),g=e.deps;if(He!==null){var f;if(Cr(e,Xe),g!==null&&Xe>0)for(g.length=Xe+He.length,f=0;f<He.length;f++)g[Xe+f]=He[f];else e.deps=g=He;if(!jt||(d&Je)!==0&&e.reactions!==null)for(f=Xe;f<g.length;f++)((_=g[f]).reactions??(_.reactions=[])).push(e)}else g!==null&&Xe<g.length&&(Cr(e,Xe),g.length=Xe);if(Fn()&&at!==null&&!dt&&g!==null&&(e.f&(Je|qt|lt))===0)for(f=0;f<at.length;f++)No(at[f],e);return a!==null&&a!==e&&(Gn++,at!==null&&(r===null?r=at:r.push(...at))),(e.f&Jt)!==0&&(e.f^=Jt),h}catch(y){return lo(y)}finally{e.f^=Jr,He=t,Xe=n,at=r,J=a,jt=o,xt=s,Ut(l),dt=u,en=c}}function zi(e,t){let n=t.reactions;if(n!==null){var r=As.call(n,e);if(r!==-1){var a=n.length-1;a===0?n=t.reactions=null:(n[r]=n[a],n.pop())}}n===null&&(t.f&Je)!==0&&(He===null||!He.includes(t))&&(Ye(t,qt),(t.f&(it|Er))===0&&(t.f^=Er),go(t),Cr(t,0))}function Cr(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)zi(e,n[r])}function Pn(e){var t=e.f;if((t&rn)===0){Ye(e,Be);var n=ee,r=En;ee=e,En=!0;try{(t&On)!==0?Fi(e):Eo(e),ko(e);var a=Lo(e);e.teardown=typeof a=="function"?a:null,e.wv=To;var o;Qa&&li&&(e.f&lt)!==0&&e.deps}finally{En=r,ee=n}}}async function Mo(){await Promise.resolve(),fo()}function i(e){var t=e.f,n=(t&Je)!==0;if(J!==null&&!dt){var r=ee!==null&&(ee.f&rn)!==0;if(!r&&!xt?.includes(e)){var a=J.deps;if((J.f&Jr)!==0)e.rv<Gn&&(e.rv=Gn,He===null&&a!==null&&a[Xe]===e?Xe++:He===null?He=[e]:(!jt||!He.includes(e))&&He.push(e));else{(J.deps??(J.deps=[])).push(e);var o=e.reactions;o===null?e.reactions=[J]:o.includes(J)||o.push(J)}}}else if(n&&e.deps===null&&e.effects===null){var s=e,l=s.parent;l!==null&&(l.f&it)===0&&(s.f^=it)}if(sn){if(zt.has(e))return zt.get(e);if(n){s=e;var u=s.v;return((s.f&Be)===0&&s.reactions!==null||Oo(s))&&(u=pa(s)),zt.set(s,u),u}}else n&&(s=e,Rr(s)&&_o(s));if((e.f&Jt)!==0)throw e.v;return e.v}function Oo(e){if(e.v===Ee)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(zt.has(t)||(t.f&Je)!==0&&Oo(t))return!0;return!1}function Vt(e){var t=dt;try{return dt=!0,e()}finally{dt=t}}const Ui=-7169;function Ye(e,t){e.f=e.f&Ui|t}function Vi(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Qt in e)aa(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&Qt in n&&aa(n)}}}function aa(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{aa(e[r],t)}catch{}const n=da(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=eo(n);for(let a in r){const o=r[a].get;if(o)try{o.call(e)}catch{}}}}}const qi=["touchstart","touchmove"];function Wi(e){return qi.includes(e)}const Io=new Set,oa=new Set;function Ki(e,t,n,r={}){function a(o){if(r.capture||Vn.call(t,o),!o.cancelBubble)return Ir(()=>n?.call(this,o))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?an(()=>{t.addEventListener(e,a,r)}):t.addEventListener(e,a,r),a}function ya(e,t,n,r,a){var o={capture:r,passive:a},s=Ki(e,t,n,o);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&Mi(()=>{t.removeEventListener(e,s,o)})}function Qe(e){for(var t=0;t<e.length;t++)Io.add(e[t]);for(var n of oa)n(e)}let za=null;function Vn(e){var t=this,n=t.ownerDocument,r=e.type,a=e.composedPath?.()||[],o=a[0]||e.target;za=e;var s=0,l=za===e&&e.__root;if(l){var u=a.indexOf(l);if(u!==-1&&(t===document||t===window)){e.__root=t;return}var c=a.indexOf(t);if(c===-1)return;u<=c&&(s=u)}if(o=a[s]||e.target,o!==t){Zr(e,"currentTarget",{configurable:!0,get(){return o||n}});var d=J,v=ee;Re(null),ct(null);try{for(var h,g=[];o!==null;){var f=o.assignedSlot||o.parentNode||o.host||null;try{var _=o["__"+r];if(_!=null&&(!o.disabled||e.target===o))if(ca(_)){var[y,...k]=_;y.apply(o,[e,...k])}else _.call(o,e)}catch(E){h?g.push(E):h=E}if(e.cancelBubble||f===t||f===null)break;o=f}if(h){for(let E of g)queueMicrotask(()=>{throw E});throw h}}finally{e.__root=t,delete e.currentTarget,Re(d),ct(v)}}}function Bo(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function Xn(e,t){var n=ee;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function $(e,t){var n=(t&ri)!==0,r=(t&ai)!==0,a,o=!e.startsWith("<!>");return()=>{a===void 0&&(a=Bo(o?e:"<!>"+e),n||(a=Ln(a)));var s=r||mo?document.importNode(a,!0):a.cloneNode(!0);if(n){var l=Ln(s),u=s.lastChild;Xn(l,u)}else Xn(s,s);return s}}function Yi(e,t,n="svg"){var r=!e.startsWith("<!>"),a=`<${n}>${r?e:"<!>"+e}</${n}>`,o;return()=>{if(!o){var s=Bo(a),l=Ln(s);o=Ln(l)}var u=o.cloneNode(!0);return Xn(u,u),u}}function $i(e,t){return Yi(e,t,"svg")}function ze(e=""){{var t=on(e+"");return Xn(t,t),t}}function I(){var e=document.createDocumentFragment(),t=document.createComment(""),n=on();return e.append(t,n),Xn(t,n),e}function m(e,t){e!==null&&e.before(t)}function ad(){var e;return(e=window.__svelte??(window.__svelte={})).uid??(e.uid=1),`c${window.__svelte.uid++}`}function Zn(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function Gi(e,t){return Xi(e,t)}const pn=new Map;function Xi(e,{target:t,anchor:n,props:r={},events:a,context:o,intro:s=!0}){xi();var l=new Set,u=v=>{for(var h=0;h<v.length;h++){var g=v[h];if(!l.has(g)){l.add(g);var f=Wi(g);t.addEventListener(g,Vn,{passive:f});var _=pn.get(g);_===void 0?(document.addEventListener(g,Vn,{passive:f}),pn.set(g,1)):pn.set(g,_+1)}}};u(ua(Io)),oa.add(u);var c=void 0,d=Ii(()=>{var v=n??t.appendChild(on());return mi(v,{pending:()=>{}},h=>{if(o){K({});var g=de;g.c=o}a&&(r.$$events=a),c=e(h,r)||{},o&&Y()}),()=>{for(var h of l){t.removeEventListener(h,Vn);var g=pn.get(h);--g===0?(document.removeEventListener(h,Vn),pn.delete(h)):pn.set(h,g)}oa.delete(u),v!==n&&v.parentNode?.removeChild(v)}});return Zi.set(c,d),c}let Zi=new WeakMap;const Wr=0,_r=1,Kr=2;function Ro(e,t,n,r,a){var o=e,s=Fn(),l=de,u=Ee,c,d,v,h=s?Dt(void 0):ra(void 0,!1,!1),g=s?Dt(void 0):ra(void 0,!1,!1),f=!1;function _(k,E){f=!0,E&&(ct(y),Re(y),Ut(l));try{k===Wr&&n&&(c?kn(c):c=Ie(()=>n(o))),k===_r&&r&&(d?kn(d):d=Ie(()=>r(o,h))),k===Kr&&a&&(v?kn(v):v=Ie(()=>a(o,g))),k!==Wr&&c&&yt(c,()=>c=null),k!==_r&&d&&yt(d,()=>d=null),k!==Kr&&v&&yt(v,()=>v=null)}finally{E&&(Ut(null),Re(null),ct(null),fo())}}var y=jn(()=>{if(u!==(u=t())){if(Ms(u)){var k=u;f=!1,k.then(E=>{k===u&&(Ct(h,E),_(_r,!0))},E=>{if(k===u&&(Ct(g,E),_(Kr,!0),!a))throw g.v}),an(()=>{f||_(Wr,!0)})}else Ct(h,u),_(_r,!1);return()=>u=Ee}})}function j(e,t,n=!1){var r=e,a=null,o=null,s=Ee,l=n?In:0,u=!1;const c=(g,f=!0)=>{u=!0,h(f,g)};var d=null;function v(){d!==null&&(d.lastChild.remove(),r.before(d),d=null);var g=s?a:o,f=s?o:a;g&&kn(g),f&&yt(f,()=>{s?o=null:a=null})}const h=(g,f)=>{if(s!==(s=g)){var _=ma(),y=r;if(_&&(d=document.createDocumentFragment(),d.append(y=on())),s?a??(a=f&&Ie(()=>f(y))):o??(o=f&&Ie(()=>f(y))),_){var k=fe,E=s?a:o,w=s?o:a;E&&k.skipped_effects.delete(E),w&&k.skipped_effects.add(w),k.add_callback(v)}else v()}};jn(()=>{u=!1,t(c),u||h(null,null)},l)}function Pe(e,t){Br(()=>{var n=t();for(var r in n){var a=n[r];a?e.style.setProperty(r,a):e.style.removeProperty(r)}})}function Ji(e,t,n){for(var r=e.items,a=[],o=t.length,s=0;s<o;s++)wa(t[s].e,a,!0);var l=o>0&&a.length===0&&n!==null;if(l){var u=n.parentNode;Di(u),u.append(n),r.clear(),_t(e,t[0].prev,t[o-1].next)}Co(a,()=>{for(var c=0;c<o;c++){var d=t[c];l||(r.delete(d.k),_t(e,d.prev,d.next)),Ze(d.e,!l)}})}function wn(e,t,n,r,a,o=null){var s=e,l={flags:t,items:new Map,first:null},u=(t&ro)!==0;if(u){var c=e;s=c.appendChild(on())}var d=null,v=!1,h=new Map,g=Or(()=>{var k=n();return ca(k)?k:k==null?[]:ua(k)}),f,_;function y(){Qi(_,f,l,h,s,a,t,r,n),o!==null&&(f.length===0?d?kn(d):d=Ie(()=>o(s)):d!==null&&yt(d,()=>{d=null}))}jn(()=>{_??(_=ee),f=i(g);var k=f.length;if(!(v&&k===0)){v=k===0;var E,w,x,C;if(ma()){var p=new Set,S=fe;for(w=0;w<k;w+=1){x=f[w],C=r(x,w);var P=l.items.get(C)??h.get(C);P?(t&(Nr|Lr))!==0&&Fo(P,x,w,t):(E=jo(null,l,null,null,x,C,w,a,t,n,!0),h.set(C,E)),p.add(C)}for(const[M,q]of l.items)p.has(M)||S.skipped_effects.add(q.e);S.add_callback(y)}else y();i(g)}})}function Qi(e,t,n,r,a,o,s,l,u){var c=(s&Xs)!==0,d=(s&(Nr|Lr))!==0,v=t.length,h=n.items,g=n.first,f=g,_,y=null,k,E=[],w=[],x,C,p,S;if(c)for(S=0;S<v;S+=1)x=t[S],C=l(x,S),p=h.get(C),p!==void 0&&(p.a?.measure(),(k??(k=new Set)).add(p));for(S=0;S<v;S+=1){if(x=t[S],C=l(x,S),p=h.get(C),p===void 0){var P=r.get(C);if(P!==void 0){r.delete(C),h.set(C,P);var M=y?y.next:f;_t(n,y,P),_t(n,P,M),Yr(P,M,a),y=P}else{var q=f?f.e.nodes_start:a;y=jo(q,n,y,y===null?n.first:y.next,x,C,S,o,s,u)}h.set(C,y),E=[],w=[],f=y.next;continue}if(d&&Fo(p,x,S,s),(p.e.f&ft)!==0&&(kn(p.e),c&&(p.a?.unfix(),(k??(k=new Set)).delete(p))),p!==f){if(_!==void 0&&_.has(p)){if(E.length<w.length){var W=w[0],Z;y=W.prev;var H=E[0],z=E[E.length-1];for(Z=0;Z<E.length;Z+=1)Yr(E[Z],W,a);for(Z=0;Z<w.length;Z+=1)_.delete(w[Z]);_t(n,H.prev,z.next),_t(n,y,H),_t(n,z,W),f=W,y=z,S-=1,E=[],w=[]}else _.delete(p),Yr(p,f,a),_t(n,p.prev,p.next),_t(n,p,y===null?n.first:y.next),_t(n,y,p),y=p;continue}for(E=[],w=[];f!==null&&f.k!==C;)(f.e.f&ft)===0&&(_??(_=new Set)).add(f),w.push(f),f=f.next;if(f===null)continue;p=f}E.push(p),y=p,f=p.next}if(f!==null||_!==void 0){for(var N=_===void 0?[]:ua(_);f!==null;)(f.e.f&ft)===0&&N.push(f),f=f.next;var L=N.length;if(L>0){var R=(s&ro)!==0&&v===0?a:null;if(c){for(S=0;S<L;S+=1)N[S].a?.measure();for(S=0;S<L;S+=1)N[S].a?.fix()}Ji(n,N,R)}}c&&an(()=>{if(k!==void 0)for(p of k)p.a?.apply()}),e.first=n.first&&n.first.e,e.last=y&&y.e;for(var U of r.values())Ze(U.e);r.clear()}function Fo(e,t,n,r){(r&Nr)!==0&&Ct(e.v,t),(r&Lr)!==0?Ct(e.i,n):e.i=n}function jo(e,t,n,r,a,o,s,l,u,c,d){var v=(u&Nr)!==0,h=(u&Zs)===0,g=v?h?ra(a,!1,!1):Dt(a):a,f=(u&Lr)===0?s:Dt(s),_={i:f,v:g,k:o,a:null,e:null,prev:n,next:r};try{if(e===null){var y=document.createDocumentFragment();y.append(e=on())}return _.e=Ie(()=>l(e,g,f,c),si),_.e.prev=n&&n.e,_.e.next=r&&r.e,n===null?d||(t.first=_):(n.next=_,n.e.next=_.e),r!==null&&(r.prev=_,r.e.prev=_.e),_}finally{}}function Yr(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,a=t?t.e.nodes_start:n,o=e.e.nodes_start;o!==null&&o!==r;){var s=sr(o);a.before(o),o=s}}function _t(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function ne(e,t,...n){var r=e,a=oe,o;jn(()=>{a!==(a=t())&&(o&&(Ze(o),o=null),o=Ie(()=>a(r,...n)))},In)}function Ho(e,t,n){var r=e,a,o,s=null,l=null;function u(){o&&(yt(o),o=null),s&&(s.lastChild.remove(),r.before(s),s=null),o=l,l=null}jn(()=>{if(a!==(a=t())){var c=ma();if(a){var d=r;c&&(s=document.createDocumentFragment(),s.append(d=on()),o&&fe.skipped_effects.add(o)),l=Ie(()=>n(d,a))}c?fe.add_callback(u):u()}},In)}function zo(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=zo(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function el(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=zo(e))&&(r&&(r+=" "),r+=t);return r}function ce(e){return typeof e=="object"?el(e):e??""}const Ua=[...` 	
\r\f \v\uFEFF`];function tl(e,t,n){var r=e==null?"":""+e;if(t&&(r=r?r+" "+t:t),n){for(var a in n)if(n[a])r=r?r+" "+a:a;else if(r.length)for(var o=a.length,s=0;(s=r.indexOf(a,s))>=0;){var l=s+o;(s===0||Ua.includes(r[s-1]))&&(l===r.length||Ua.includes(r[l]))?r=(s===0?"":r.substring(0,s))+r.substring(l+1):s=l}}return r===""?null:r}function nl(e,t){return e==null?null:String(e)}function ue(e,t,n,r,a,o){var s=e.__className;if(s!==n||s===void 0){var l=tl(n,r,o);l==null?e.removeAttribute("class"):e.className=l,e.__className=n}else if(o&&a!==o)for(var u in o){var c=!!o[u];(a==null||c!==!!a[u])&&e.classList.toggle(u,c)}return o}function Jn(e,t,n,r){var a=e.__style;if(a!==t){var o=nl(t);o==null?e.removeAttribute("style"):e.style.cssText=o,e.__style=t}return r}const rl=Symbol("is custom element"),al=Symbol("is html");function od(e,t){var n=Sa(e);n.value===(n.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function sd(e,t){var n=Sa(e);n.checked!==(n.checked=t??void 0)&&(e.checked=t)}function Ne(e,t,n,r){var a=Sa(e);a[t]!==(a[t]=n)&&(t==="loading"&&(e[js]=n),n==null?e.removeAttribute(t):typeof n!="string"&&ol(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function Sa(e){return e.__attributes??(e.__attributes={[rl]:e.nodeName.includes("-"),[al]:e.namespaceURI===oi})}var Va=new Map;function ol(e){var t=e.getAttribute("is")||e.nodeName,n=Va.get(t);if(n)return n;Va.set(t,n=[]);for(var r,a=e,o=Element.prototype;o!==a;){r=eo(a);for(var s in r)r[s].set&&n.push(s);a=da(a)}return n}function sl(e,t,n=t){var r=new WeakSet;Ai(e,"input",async a=>{var o=a?e.defaultValue:e.value;if(o=$r(e)?Gr(o):o,n(o),fe!==null&&r.add(fe),await Mo(),o!==(o=t())){var s=e.selectionStart,l=e.selectionEnd;e.value=o??"",l!==null&&(e.selectionStart=s,e.selectionEnd=Math.min(l,e.value.length))}}),Vt(t)==null&&e.value&&(n($r(e)?Gr(e.value):e.value),fe!==null&&r.add(fe)),Br(()=>{var a=t();if(e===document.activeElement){var o=mr??fe;if(r.has(o))return}$r(e)&&a===Gr(e.value)||e.type==="date"&&!a&&!e.value||a!==e.value&&(e.value=a??"")})}function $r(e){var t=e.type;return t==="number"||t==="range"}function Gr(e){return e===""?null:+e}function qa(e,t){return e===t||e?.[Qt]===t}function gt(e={},t,n,r){return Bi(()=>{var a,o;return Br(()=>{a=o,o=[],Vt(()=>{e!==n(...o)&&(t(e,...o),a&&qa(n(...a),e)&&t(null,...a))})}),()=>{an(()=>{o&&qa(n(...o),e)&&t(null,...o)})}}),e}function ba(e=!1){const t=de,n=t.l.u;if(!n)return;let r=()=>Vi(t.s);if(e){let a=0,o={};const s=or(()=>{let l=!1;const u=t.s;for(const c in u)u[c]!==o[c]&&(o[c]=u[c],l=!0);return l&&a++,a});r=()=>i(s)}n.b.length&&Oi(()=>{Wa(t,r),kr(n.b)}),Me(()=>{const a=Vt(()=>n.m.map(Os));return()=>{for(const o of a)typeof o=="function"&&o()}}),n.a.length&&Me(()=>{Wa(t,r),kr(n.a)})}function Wa(e,t){if(e.l.s)for(const n of e.l.s)i(n);t()}let pr=!1;function il(e){var t=pr;try{return pr=!1,[e(),pr]}finally{pr=t}}function se(e,t,n,r){var a=!Rn||(n&Qs)!==0,o=(n&ti)!==0,s=(n&ni)!==0,l=r,u=!0,c=()=>(u&&(u=!1,l=s?Vt(r):r),l),d;if(o){var v=Qt in e||Fs in e;d=bn(e,t)?.set??(v&&t in e?w=>e[t]=w:void 0)}var h,g=!1;o?[h,g]=il(()=>e[t]):h=e[t],h===void 0&&r!==void 0&&(h=c(),d&&(a&&Ws(),d(h)));var f;if(a?f=()=>{var w=e[t];return w===void 0?c():(u=!0,w)}:f=()=>{var w=e[t];return w!==void 0&&(l=void 0),w===void 0?l:w},a&&(n&ei)===0)return f;if(d){var _=e.$$legacy;return(function(w,x){return arguments.length>0?((!a||!x||_||g)&&d(x?f():w),w):f()})}var y=!1,k=((n&Js)!==0?or:Or)(()=>(y=!1,f()));o&&i(k);var E=ee;return(function(w,x){if(arguments.length>0){const C=x?i(k):a&&o?Le(w):w;return b(k,C),y=!0,l!==void 0&&(l=C),w}return sn&&y||(E.f&rn)!==0?k.v:i(k)})}function he(e){de===null&&no(),Rn&&de.l!==null?ll(de).m.push(e):Me(()=>{const t=Vt(e);if(typeof t=="function")return t})}function ll(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const cl="5";var Ja;typeof window<"u"&&((Ja=window.__svelte??(window.__svelte={})).v??(Ja.v=new Set)).add(cl);ci();const Uo={};function ul(e){ye(Uo,e)}function Fr(){const e=we(Uo);if(!e)throw new Error("No LocalDBContext found");return e}const Vo={};function dl(e){ye(Vo,e)}function ka(){const e=we(Vo);if(!e)throw new Error("No AccountContext found");return e}const qo={};function fl(e){ye(qo,e)}function jr(){const e=we(qo);if(!e)throw new Error("No BroadcastContext found");return e}const vl=(e,t)=>{let n=null;return()=>{n&&clearTimeout(n),n=setTimeout(()=>{n=null,e()},t)}};async function Xr(){if(navigator.storage&&navigator.storage.persist)try{await navigator.storage.persisted()||await navigator.storage.persist()}catch{}}const Wo={};function hl(e){ye(Wo,e)}function bt(){const e=we(Wo);if(!e)throw new Error("No AppHistoryContext found");return e}const Ko={};function gl(e){ye(Ko,e)}function At(){const e=we(Ko);if(!e)throw new Error("No StackPagesContext found");return e}const _l="AppStorage",pl=1,rt="notes",Ka="tags",Ya="syncLog",yn="account",$n="settings",Sn="drafts",ln="success",cn="error",Fe=(e,t,n)=>{e?.addEventListener(t,n)},br=(e,t)=>new Promise((n,r)=>{const o=e?.transaction(t,"readonly")?.objectStore(t).getAll();Fe(o,ln,()=>{const s=o?.result||[];n(s)}),Fe(o,cn,s=>{r(s)})}),sa=(e,t,n)=>new Promise((r,a)=>{const s=e?.transaction(t,"readonly")?.objectStore(t).get(n);Fe(s,ln,()=>{const l=s?.result?.data;r(l)}),Fe(s,cn,l=>{a(l)})}),Cn=(e,t,n,r)=>new Promise((a,o)=>{const u=e?.transaction(t,"readwrite")?.objectStore(t)?.put({id:n,data:r});Fe(u,ln,()=>{a()}),Fe(u,cn,c=>{o(c)})}),ml=async(e,t,n)=>{const a=e?.transaction(t,"readwrite")?.objectStore(t);await Promise.all(n.map(o=>{const s=a?.put(o);return new Promise((l,u)=>{Fe(s,ln,()=>{l()}),Fe(s,cn,c=>{u(c)})})}))},Yo=(e,t,n)=>new Promise((r,a)=>{const l=e?.transaction(t,"readwrite")?.objectStore(t)?.delete(n);Fe(l,ln,()=>{r()}),Fe(l,cn,u=>{a(u)})}),Qn=(e,t)=>new Promise((n,r)=>{const s=e?.transaction(t,"readwrite")?.objectStore(t)?.clear();Fe(s,ln,()=>{n()}),Fe(s,cn,l=>{r(l)})});function wl(e,t){K(t,!0);const{navigate:n}=bt(),{hasStackPage:r,pushStackPages:a,clearStackPages:o}=At();let s=B(void 0);const{getDB:l}=Fr(),{createBroadcastChannel:u,tabId:c}=jr(),d=O(l),v=u(),h=async()=>{const S=await sa(i(d),yn,"default");S&&(b(s,S,!0),o(),n("/"))},g=S=>Cn(i(d),yn,"default",S),f=async()=>{const S=await sa(i(d),yn,"default");S===void 0?a("start"):(r("start")&&(o(),n("/")),S?(b(s,S,!0),await Xr()):b(s,null))},_=async S=>{const P=JSON.parse(S.data);if(P.tabId&&P.tabId===c)return;const M=P;M.type==="initLocalAccount"?(b(s,null),o(),n("/")):M.type==="initCloudAccount"?(h(),o(),n("/")):M.type==="disconnectCloudAccount"?b(s,null):M.type==="exit"?b(s,void 0):M.type==="updateAccount"&&h()};he(()=>(f(),v.addEventListener(_),()=>{v.removeEventListener(_)})),dl({getAccount:()=>i(s),initLocalAccount:async()=>{await Xr(),b(s,null),await g(null),v.postMessage({type:"initLocalAccount"})},initCloudAccount:async S=>{await Xr();const P={encryptedClientKey:S.encryptedClientKey||"",subscriptionExpires:S.subscriptionExpires||-1,lastSync:-1};await g(P),b(s,P,!0),v.postMessage({type:"initCloudAccount"})},disconnectCloudAccount:async()=>{b(s,null),await g(null);try{await fetch("/api/dropSession",{method:"POST"})}catch{}v.postMessage({type:"disconnectCloudAccount"})},updateSubscription:async S=>{if(!i(s))throw new Error("No account to update subscription for");const P={...i(s),subscriptionExpires:S};await g(P),v.postMessage({type:"updateAccount"})},exitApp:async()=>{b(s,void 0),v.postMessage({type:"exit"}),await Qn(i(d),yn)}});var C=I(),p=A(C);ne(p,()=>t.children??oe),m(e,C),Y()}const $o={},yl=()=>({working:!1,swipingRatio:1,isSwiping:!1,duration:.35});function Sl(e){ye($o,e)}function ir(){const e=we($o);if(!e)throw new Error("No AnimationSettingsContext found");return e}function bl(e,t){K(t,!0);let n=Le(yl());Sl(n);var r=I(),a=A(r);ne(a,()=>t.children??oe),m(e,r),Y()}function kl(e,t){K(t,!0);const n=Le({historyStack:[],pathname:window.location.pathname,search:window.location.search,historyLength:0}),r=()=>{n.pathname=document.location.pathname,n.search=document.location.search,n.historyLength=Math.max(0,n.historyLength-=1)},a=h=>{const[g,f]=h.split("?");n.pathname=g,n.search=f?`?${f}`:"",n.historyLength+=1,n.historyStack.push(window.location.href),window.history.replaceState(null,"",h)},o=h=>{const[g,f]=h.split("?");n.pathname=g,n.search=f?`?${f}`:"",window.history.replaceState(null,"",h)};hl({getAppHistory:()=>n,navigate:a,replace:o,addSearchParam:(h,g)=>{const f=new URLSearchParams(n.search);f.append(h,g),o(`${n.pathname}${f.size>0?`?${f.toString()}`:""}`)},deleteSearchParam:h=>{const g=new URLSearchParams(n.search);g.delete(h),n.historyStack=n.historyStack.map(f=>{const _=new URLSearchParams(f.split("?")[1]);return _.delete(h),`${f.split("?")[0]}${g.size>0?`?${_.toString()}`:""}`}),o(`${n.pathname}${g.size>0?`?${g.toString()}`:""}`)},back:h=>{const{fallback:g="/",to:f}=h||{},[_,y]=g.split("?");if(n.historyLength<=0){const k=window.location.href,[E,w]=k.split("?");if(!w.includes("stackPages"))window.history.replaceState(null,"",g),n.historyLength=0,n.pathname=_,n.search=y?`?${y}`:"";else{const x=new URLSearchParams(w),C=x.get("stackPages")?.split(",")||[],p=C.slice(0,f&&C.includes(f)?C.indexOf(f)+1:-1);p.length===0?x.delete("stackPages"):x.set("stackPages",p.join(","));const S=`${E}${x.toString()?`?${x.toString()}`:""}`;window.history.replaceState(null,"",S),n.search=x.toString()?`?${x.toString()}`:""}}else if(n.historyStack.length>0){const E=new URLSearchParams(n.search).get("stackPages")?.split(",")||[];f&&E.includes(f)&&(n.historyStack=n.historyStack.slice(0,-(E.length-(E.indexOf(f)+1))+1),n.historyLength=n.historyStack.length);const w=n.historyStack.pop();if(w){const[x,C]=w.split("?");window.history.replaceState(null,"",w),n.historyLength=Math.max(0,n.historyLength-=1),n.pathname=x,n.search=C?`?${C}`:""}}},closeDialogStack:()=>{const h=n.historyStack.findIndex(f=>f.includes("stackPages")),g=h===-1?n.historyStack.slice(0):n.historyStack.slice(0,h);if(g.length>0){const f=g.pop();if(f){const[_,y]=f.split("?");window.history.replaceState(null,"",f),n.historyLength=Math.max(0,g.length),n.pathname=_,n.search=y?`?${y}`:"",n.historyStack=g}}else{const f=n.search,_=new URLSearchParams(f);_.delete("stackPages"),window.history.replaceState(null,"",_.toString()?"/?"+_.toString():"/"),n.historyLength=0,n.pathname="/",n.search=_.toString()?"?"+_.toString():"",n.historyStack=[]}}}),he(()=>(window.addEventListener("popstate",r),()=>{window.removeEventListener("popstate",r)}));var d=I(),v=A(d);ne(v,()=>t.children??oe),m(e,d),Y()}function El(e,t){K(t,!0);const n=crypto.randomUUID(),r=(s,l)=>{s.postMessage(JSON.stringify({...l,tabId:n}))};fl({tabId:n,createBroadcastChannel:()=>{const s=new BroadcastChannel("app");return{postMessage:l=>r(s,l),addEventListener:l=>{s.addEventListener("message",l)},removeEventListener:l=>{s.removeEventListener("message",l)}}}});var a=I(),o=A(a);ne(o,()=>t.children??oe),m(e,a),Y()}const Go={};function Pl(e){ye(Go,e)}function lr(){const e=we(Go);if(!e)throw new Error("No DialogContext found");return e}function Cl(e,t){K(t,!0);let n=B(0),r=B(!1),a=B(!1);Pl({checkExistedDialog:()=>i(n)>0,showDialog:()=>{b(n,i(n)+1)},hideDialog:()=>{b(n,i(n)-1)},blockDialog:f=>{b(r,f,!0),f||b(a,!1)},checkBlockedDialog:()=>i(r),unBlockBackDialog:f=>{b(a,f,!0)},checkUnBlockedBackDialog:()=>i(a)});var h=I(),g=A(h);ne(g,()=>t.children??oe),m(e,h),Y()}const Xo={};function xl(e){ye(Xo,e)}function Ea(){const e=we(Xo);if(!e)throw new Error("No DialogPageHeightContext found");return e}function Dl(e,t){K(t,!0);let n=B(200);xl({setDialogPageHeight:l=>{b(n,l,!0)},getDialogPageHeight:()=>i(n)});var o=I(),s=A(o);ne(s,()=>t.children??oe),m(e,o),Y()}const Zo={};function Tl(e){ye(Zo,e)}function id(){const e=we(Zo);if(!e)throw new Error("No DraftsContext found");return e}function Al(e,t){K(t,!0);let n,r=B(void 0);const{getDB:a}=Fr(),{createBroadcastChannel:o,tabId:s}=jr(),l=O(a),u=o(),c=w=>{const x=new Map;w.forEach(C=>{x.set(C.id,C)}),n=x,b(r,()=>n)},d=async()=>{const w=await br(i(l),Sn);c(w)},v=w=>i(r)?.()?.get(w),h=w=>{if(!n)throw new Error("Drafts state is not initialized");n.delete(w),b(r,()=>n)},g=w=>{if(!n)throw new Error("Drafts state is not initialized");n.set(w.id,w),b(r,()=>n)},f=async w=>{const x={...w};g(x),u.postMessage({type:"putDraft",data:{draft:x}}),await Cn(i(l),Sn,x.id,{...x.data})},_=async w=>{h(w),await Yo(i(l),Sn,w),u.postMessage({type:"deleteDraft",data:{id:w}})},y=async w=>{const x=JSON.parse(w.data),C=x;if(x.tabId&&x.tabId===s){C.type==="exit"&&(n=void 0,b(r,()=>{}),Qn(i(l),Sn));return}if(C.type==="putDraft"){const p=C.data.draft;g(p)}else if(C.type==="deleteDraft"){const p=C.data.id;h(p)}else C.type==="exit"&&(n=void 0,b(r,()=>{}))};he(()=>(d(),u.addEventListener(y),()=>{u.removeEventListener(y)})),Tl({getDraft:v,putDraft:f,deleteDraft:_});var k=I(),E=A(k);ne(E,()=>t.children??oe),m(e,k),Y()}const Jo={};function Nl(e){ye(Jo,e)}function Qo(){const e=we(Jo);if(!e)throw new Error("No FeedOrderContext found");return e}function Ll(e,t){K(t,!0);const{navigate:n,getAppHistory:r}=bt(),a=O(r),o="feedOrder";let s=B(Le(new URLSearchParams(r().search).get(o)||"newest"));Nl({getFeedOrder:()=>i(s),setFeedOrder:v=>{b(s,v,!0);const h=new URLSearchParams(i(a).search);v==="newest"?h.delete(o):h.set(o,v),n(`${i(a).pathname}${h.size>0?`?${h.toString()}`:""}`)}});var c=I(),d=A(c);ne(d,()=>t.children??oe),m(e,c),Y()}const es={};function Ml(e){ye(es,e)}function Pa(){const e=we(es);if(!e)throw new Error("No FeedSearchContext found");return e}function Ol(e,t){K(t,!0);const{navigate:n,getAppHistory:r}=bt(),a=O(r),o="feedSearch";let s=B(Le(new URLSearchParams(r().search).get(o)||""));Ml({getFeedSearch:()=>i(s),setFeedSearch:v=>{b(s,v,!0);const h=new URLSearchParams(i(a).search);v===""?h.delete(o):h.set(o,v),n(`${i(a).pathname}${h.size>0?`?${h.toString()}`:""}`)}});var c=I(),d=A(c);ne(d,()=>t.children??oe),m(e,c),Y()}const ts={};function Il(e){ye(ts,e)}function Bl(){const e=we(ts);if(!e)throw new Error("No KeyboardVisibleContext found");return e}function Rl(e,t){K(t,!0);let n=Le({value:!1});const r=()=>n.value;he(()=>{const s=()=>{setTimeout(()=>{document.activeElement instanceof HTMLInputElement&&document.activeElement.type==="text"||document.activeElement instanceof HTMLTextAreaElement?n.value=!0:n.value=!1},0)};return s(),document.addEventListener("focusin",s),document.addEventListener("focusout",s),()=>{document.removeEventListener("focusin",s),document.removeEventListener("focusout",s)}}),Il({getIsKeyboardVisible:r});var a=I(),o=A(a);ne(o,()=>t.children??oe),m(e,a),Y()}function Fl(){return new Promise((e,t)=>{const n=indexedDB.open(_l,pl);Fe(n,"upgradeneeded",()=>{const r=n.result;r.objectStoreNames.contains(rt)||r.createObjectStore(rt,{keyPath:"id"}),r.objectStoreNames.contains(Ka)||r.createObjectStore(Ka,{keyPath:"id"}),r.objectStoreNames.contains(yn)||r.createObjectStore(yn,{keyPath:"id"}),r.objectStoreNames.contains($n)||r.createObjectStore($n,{keyPath:"id"}),r.objectStoreNames.contains(Ya)||r.createObjectStore(Ya,{keyPath:"id"}),r.objectStoreNames.contains(Sn)||r.createObjectStore(Sn,{keyPath:"id"})}),Fe(n,ln,()=>{const r=n.result;e(r),r.onversionchange=function(){r?.close(),alert("app outdated, please reload the page")}}),Fe(n,"blocked",()=>{t(),alert("app outdated, please reload the page")}),Fe(n,cn,()=>{t()})})}function jl(e,t){K(t,!0);let n=B(null);he(()=>{Fl().then(l=>{b(n,l,!0)})}),ul({getDB:()=>i(n)});var a=I(),o=A(a);{var s=l=>{var u=I(),c=A(u);ne(c,()=>t.children??oe),m(l,u)};j(o,l=>{i(n)&&l(s)})}m(e,a),Y()}const ns={};function Hl(e){ye(ns,e)}function Hn(){const e=we(ns);if(!e)throw new Error("No MobileSizeContext found");return e}const zl=(e,t,n={})=>{let r=null;return()=>{r||(e(),r=setTimeout(()=>{if(r=null,n.trailing){e();return}},t))}};function Ul(e,t){K(t,!0);const n=()=>window.matchMedia("(max-width: 767px)").matches;let r=B(Le(n()));const a=zl(()=>{b(r,n(),!0)},16,{trailing:!0});Hl({checkMobileSize:()=>i(r)}),he(()=>(window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)));var s=I(),l=A(s);ne(l,()=>t.children??oe),m(e,s),Y()}const rs={};function Vl(e){ye(rs,e)}function Hr(){const e=we(rs);if(!e)throw new Error("No NotesContext found");return e}const ql=()=>crypto.randomUUID();function Wl(e,t){K(t,!0);let n,r,a=B(()=>n),o=B(()=>r);const{getDB:s}=Fr(),{createBroadcastChannel:l,tabId:u}=jr(),c=O(s),d=l(),v=N=>{n=[],r=new Map;for(const L of N)n.push(L),r.set(L.id,L);b(a,()=>n),b(o,()=>r)},h=async()=>{const N=await br(i(c),rt);v(N)},g=()=>i(a)||(()=>n||[]),f=()=>i(o)||(()=>r||new Map),_=N=>{if(!n||!r)throw new Error("Notes appState is not initialized");const L={...N};n.push(L),r.set(L.id,L),b(a,()=>n),b(o,()=>r)},y=N=>{if(!n||!r)throw new Error("Notes appState is not initialized");for(let L=0;L<n.length;L++)n[L]?.id===N.id&&n&&(n[L]=N);r.set(N.id,N),b(a,()=>n),b(o,()=>r)},k=N=>{if(!n||!r)throw new Error("Notes state is not initialized");r.delete(N);const L=n.findIndex(R=>R?.id===N);L!==-1&&(n[L]=void 0),b(a,()=>n),b(o,()=>r)},E=()=>{v([])},w=async N=>{const L={id:ql(),data:{...N,createdAt:Date.now(),updatedAt:Date.now()}};_(L),d.postMessage({type:"addNote",data:{note:L}}),await Cn(i(c),rt,L.id,{...L.data})},x=async N=>{const L={id:N.id,data:{...N.data,updatedAt:Date.now()}};d.postMessage({type:"updateNote",data:{note:L}}),y(L),await Cn(i(c),rt,L.id,{...L.data})},C=(N,L)=>{const R=r?.get(N);if(!R)return;const U={...R,deleting:L};d.postMessage({type:"updateNote",data:{note:U}}),y(U)},p=async(N,L)=>{const R=r?.get(N);if(!R)return;const U={id:N,data:{...R.data,pinned:L}};d.postMessage({type:"updateNote",data:{note:U}}),y(U),await Cn(i(c),rt,U.id,{...U.data})},S=async N=>{r?.get(N),d.postMessage({type:"deleteNote",data:{id:N}}),k(N),await Yo(i(c),rt,N)},P=async()=>{d.postMessage({type:"clearNotes"}),E(),await Qn(i(c),rt)},M=async N=>{const L={};N.forEach(U=>{const G=r?.get(U.id);G?G&&G.data.updatedAt<U.data.updatedAt&&(L[U.id]=U):L[U.id]=U}),await ml(i(c),rt,Object.values(L)),d.postMessage({type:"reloadNotes"});const R=await br(i(c),rt);v(R)},q=N=>i(o)?.()?.get(N),W=()=>{const N=i(a)?.(),L=i(o)?.();return N!==void 0&&L!==void 0},Z=async N=>{const L=JSON.parse(N.data),R=L;if(L.tabId&&L.tabId===u){R.type==="exit"&&(n=[],b(a,()=>n),r=new Map,b(o,()=>r),await Qn(i(c),rt));return}if(R.type==="addNote"){const U=R.data.note;_(U)}else if(R.type==="updateNote"){const U=R.data.note;y(U)}else if(R.type==="deleteNote"){const U=R.data.id;k(U)}else if(R.type==="clearNotes")E();else if(R.type==="reloadNotes"){const U=await br(i(c),rt);v(U)}else R.type==="exit"&&(n=[],b(a,()=>n),r=new Map,b(o,()=>r))};he(()=>(h(),d.addEventListener(Z),()=>{d.removeEventListener(Z)})),Vl({addNote:w,updateNote:x,deleteNote:S,pinNote:p,setDeleting:C,getGetNotes:g,getGetMapNotes:f,importNotes:M,clearNotes:P,getNoteById:q,isReadyStore:W});var H=I(),z=A(H);ne(z,()=>t.children??oe),m(e,H),Y()}const as={};function Kl(e){ye(as,e)}function Ca(){const e=we(as);if(!e)throw new Error("No RelatedTagsContext found");return e}function Yl(e,t){K(t,!0);let n=B({});Kl({getRelatedTags:()=>i(n),setRelatedTags:o=>{b(n,o)}});var r=I(),a=A(r);ne(a,()=>t.children??oe),m(e,r),Y()}const os={};function $l(e){ye(os,e)}function xa(){const e=we(os);if(!e)throw new Error("No ScrollContainerContext found");return e}function Gl(e,t){K(t,!0);let n=B(null);$l({setScrollContainer:l=>{b(n,l,!0)},getScrollContainer:()=>i(n)});var o=I(),s=A(o);ne(s,()=>t.children??oe),m(e,o),Y()}const ss={};function Xl(e){ye(ss,e)}function is(){const e=we(ss);if(!e)throw new Error("No ScrollingContext found");return e}function Zl(e,t){K(t,!0);let n=B(!1);const r=()=>i(n),a=vl(()=>{b(n,!1)},100);Xl({isScrolling:r,enable:()=>{b(n,!0),a()}});var s=I(),l=A(s);ne(l,()=>t.children??oe),m(e,s),Y()}const ls={};function Jl(e){ye(ls,e)}function cs(){const e=we(ls);if(!e)throw new Error("No SearchContext found");return e}function Ql(e,t){K(t,!0);const{getFeedSearch:n}=Pa(),r=Le({feedSearch:n(),tagSearch:""});Jl(r);var a=I(),o=A(a);ne(o,()=>t.children??oe),m(e,a),Y()}const us={};function ec(e){ye(us,e)}function tc(){const e=we(us);if(!e)throw new Error("No SelectedTagsContext found");return e}function nc(e,t){K(t,!0);const{getAppHistory:n}=bt(),r=()=>new URLSearchParams(n().search).get("selectedTags")?.split(",")||[];let a=r();ec({getSelectedTags:()=>{const u=r();return u.join(",")===a.join(",")||(a=u),a}});var s=I(),l=A(s);ne(l,()=>t.children??oe),m(e,s),Y()}const ds={};function rc(e){ye(ds,e)}function ac(){const e=we(ds);if(!e)throw new Error("No SettingsContext found");return e}function oc(e,t){K(t,!0);let n=B(Le({showFavicon:!1}));const{getDB:r}=Fr(),{createBroadcastChannel:a,tabId:o}=jr(),s=a(),l=O(r),u=async()=>{const _=await sa(i(l),$n,"default");_&&b(n,_,!0)},c=async()=>{u()},d=async _=>{const y=JSON.parse(_.data),k=y;if(y.tabId&&y.tabId===o){k.type==="exit"&&(b(n,{showFavicon:!1},!0),Qn(i(l),$n));return}k.type==="updateSettings"?u():k.type==="exit"&&b(n,{showFavicon:!1},!0)},v=()=>i(n).showFavicon,h=async _=>{i(n).showFavicon=_,await Cn(i(l),$n,"default",{showFavicon:_}),s.postMessage({type:"updateSettings"})};he(()=>(c(),s.addEventListener(d),()=>{s.removeEventListener(d)})),rc({getFaviconEnabled:v,setFaviconShown:h});var g=I(),f=A(g);ne(f,()=>t.children??oe),m(e,g),Y()}const fs={};function sc(e){ye(fs,e)}function ic(){const e=we(fs);if(!e)throw new Error("No SidebarContext found");return e}function lc(e,t){K(t,!0);const n=(d,v)=>{if(!v)return d;if(v.type==="closed")return{type:"closed"};switch(d.type){case"opened":return v.type==="close"?{type:"closing"}:v.type==="swipe"?{type:"openSwiping"}:d;case"closed":return v.type==="open"?{type:"opening"}:v.type==="swipe"?{type:"closeSwiping"}:d;case"openSwiping":return v.type==="open"?{type:"opening"}:v.type==="close"?{type:"closing"}:d;case"closeSwiping":return v.type==="open"?{type:"opening"}:v.type==="close"?{type:"closing"}:d;case"opening":return v.type==="opened"?{type:"opened"}:d;default:return d}};let r=B(Le(n({type:"closed"})));const a=d=>{b(r,n(i(r),d),!0)};sc({sidebarOpen:()=>{a({type:"open"})},sidebarClose:()=>{a({type:"close"})},handleComputeState:a,getSidebarState:()=>i(r)});var u=I(),c=A(u);ne(c,()=>t.children??oe),m(e,u),Y()}function cc(e,t){K(t,!0);const{getAppHistory:n,navigate:r}=bt(),a=()=>new URLSearchParams(n().search).get("stackPages")?.split(",")||[];let o=B(Le(a()));const s=y=>{const k=a();if(!k.includes(y)){k.push(y);const E=new URLSearchParams(n().search);E.set("stackPages",k.join(",")),b(o,k,!0),r(`${n().pathname}?${E.toString()}`)}};gl({pushStackPages:s,hasStackPage:y=>a().includes(y),updateStackPages:()=>{b(o,a(),!0)},popStackPages:()=>{const y=i(o).slice(0,-1);b(o,y,!0)},getStackPages:()=>{const y=a();return y.length>=i(o).length?y.reduce((k,E)=>[...k,{page:E,shown:!0}],[]):i(o).reduce((k,E,w)=>[...k,{page:E,shown:y.length===0?!1:w!==i(o).length-1}],[])},clearStackPages:()=>{b(o,[],!0)},getPageUrl:y=>{const k=a();k.includes(y)||k.push(y);const E=new URLSearchParams(n().search);return E.set("stackPages",k.join(",")),`${n().pathname}?${E}`},createHandlePage:y=>k=>{k.preventDefault(),s(y)},getStackPagesFormUrl:a});var f=I(),_=A(f);ne(_,()=>t.children??oe),m(e,f),Y()}function uc(e,t){bl(e,{children:(n,r)=>{Zl(n,{children:(a,o)=>{Ul(a,{children:(s,l)=>{Cl(s,{children:(u,c)=>{Gl(u,{children:(d,v)=>{Dl(d,{children:(h,g)=>{Rl(h,{children:(f,_)=>{kl(f,{children:(y,k)=>{cc(y,{children:(E,w)=>{jl(E,{children:(x,C)=>{El(x,{children:(p,S)=>{var P=I(),M=A(P);ne(M,()=>t.children??oe),m(p,P)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})}function dc(e,t){uc(e,{children:(n,r)=>{Yl(n,{children:(a,o)=>{Ol(a,{children:(s,l)=>{Ql(s,{children:(u,c)=>{Ll(u,{children:(d,v)=>{lc(d,{children:(h,g)=>{nc(h,{children:(f,_)=>{oc(f,{children:(y,k)=>{wl(y,{children:(E,w)=>{Al(E,{children:(x,C)=>{Wl(x,{children:(p,S)=>{var P=I(),M=A(P);ne(M,()=>t.children??oe),m(p,P)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})}})}let Lt=B(""),Wt=B(null),qn=B(null),Wn=B(null);function zr(e,t){b(Lt,""),setTimeout(()=>{b(Lt,e,!0),t?.onFinish&&b(qn,t.onFinish,!0),t?.onCancel&&b(Wn,t.onCancel,!0)},16)}const fc=(e,t,n,r,a)=>{e.preventDefault(),i(t)&&(b(n,null),i(t)(),b(t,null)),b(r,""),i(a)?.style.removeProperty("opacity")};var vc=$('<button type="button" class="undoButton svelte-1vxmgq5">undo</button>'),hc=$('<div class="notification svelte-1vxmgq5"><span> </span> <!></div>'),gc=$("<div><!></div>");function _c(e,t){K(t,!0),Me(()=>{i(Lt);const o=i(Wn)?2e3:800;i(Lt)&&(i(Wt)?.getBoundingClientRect(),i(Wt)?.style.setProperty("opacity","1"));const s=setTimeout(()=>{i(Wt)?.style.removeProperty("opacity")},o),l=setTimeout(()=>{b(Lt,""),i(qn)&&i(qn)(),b(qn,null),b(Wn,null),i(Wt)?.style.removeProperty("opacity")},o+400);return()=>{clearTimeout(s),clearTimeout(l)}});var n=gc(),r=T(n);{var a=o=>{var s=hc(),l=T(s),u=T(l),c=F(l,2);{var d=v=>{var h=vc();h.__click=[fc,Wn,qn,Lt,Wt],m(v,h)};j(c,v=>{i(Wn)&&v(d)})}gt(s,v=>b(Wt,v),()=>i(Wt)),_e(()=>Zn(u,i(Lt))),m(o,s)};j(r,o=>{i(Lt)&&o(a)})}m(e,n),Y()}Qe(["click"]);var pc=$('<span class="vh svelte-1s25udk"><!></span>');function vt(e,t){var n=pc(),r=T(n);ne(r,()=>t.children),m(e,n)}var mc=$("<a><!></a>"),wc=$("<button><!></button>");function Mn(e,t){let n=se(t,"type",3,"standard"),r=se(t,"typeButton",3,"button"),a=se(t,"element",3,"button"),o=se(t,"href",3,""),s=se(t,"fullWidth",3,!1),l=se(t,"withoutMinWidth",3,!1);var u=I(),c=A(u);{var d=h=>{var g=mc();g.__click=function(..._){t.onClick?.apply(this,_)};var f=T(g);ne(f,()=>t.children??oe),_e(()=>{Ne(g,"href",o()),ue(g,1,ce(["button","a",{dangerous:n()==="dangerous",secondary:n()==="secondary",fullWidth:s(),withoutMinWidth:l()}]),"svelte-aqjevc")}),m(h,g)},v=h=>{var g=wc();g.__click=function(..._){t.onClick?.apply(this,_)};var f=T(g);ne(f,()=>t.children??oe),_e(()=>{Ne(g,"type",r()),ue(g,1,ce(["button",{dangerous:n()==="dangerous",secondary:n()==="secondary",fullWidth:s(),withoutMinWidth:l()}]),"svelte-aqjevc")}),m(h,g)};j(c,h=>{a()==="a"?h(d):h(v,!1)})}m(e,u)}Qe(["click"]);var yc=$i('<svg class="svelte-18et5h9"><use></use></svg>');function xe(e,t){let n=se(t,"name",8,"");var r=yc(),a=T(r);_e(()=>Ne(a,"href",`#icon-${n()??""}`)),m(e,r)}var Sc=$('<button> <svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></button>');function mn(e,t){let n=O(()=>t.style==="selected"?"45deg":"0deg");var r=Sc();r.__click=function(...s){t.onClick?.apply(this,s)};var a=T(r),o=F(a);Pe(o,()=>({"--size":t.size==="small"?"10px":"12px","--rotate":i(n)})),xe(o.lastChild,{name:"plus"}),_e(()=>{Ne(r,"type",t.type),ue(r,1,ce([{selectedTag:t.style==="selected",small:t.size==="small"}]),"svelte-uu8a24"),Zn(a,`${t.title??""} `)}),m(e,r)}Qe(["click"]);const bc=(e,t,n,r)=>{const a=t().type;a==="closed"?n():a==="opened"&&r()};var kc=$('<button class="buttonMenu svelte-bpktnw"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>');function vs(e,t){K(t,!1);const{sidebarOpen:n,getSidebarState:r,sidebarClose:a}=ic();ba();var o=kc();o.__click=[bc,r,n,a];var s=T(o);Pe(s,()=>({"--size":"36px"})),xe(s.lastChild,{name:"sidebarMenu"});var l=F(s,2);vt(l,{children:(u,c)=>{var d=ze("Menu");m(u,d)}}),m(e,o),Y()}Qe(["click"]);var Ec=(e,t)=>t.onChange?.(e.target?.value||""),Pc=$('<input class="svelte-15lr19w"/>');function ia(e,t){K(t,!0);let n=se(t,"value",15,"");var r=Pc();r.__input=[Ec,t],_e(()=>Ne(r,"placeholder",t.placeholder)),ya("focus",r,function(...a){t.onFocus?.apply(this,a)}),sl(r,n),m(e,r),Y()}Qe(["input"]);function hs(e,t){K(t,!0),he(()=>{const n=r=>{r.target&&t.dialog?.open&&t.dialogInner&&t.dialogInner!==r.target&&!t.dialogInner.contains(r.target)&&t.onClose()};return document.addEventListener("mousedown",n,{capture:!0}),()=>{document.removeEventListener("mousedown",n,{capture:!0})}}),Y()}var Cc=$('<dialog><div class="dialogInner svelte-1x410nl"><!></div></dialog> <!>',1);function gs(e,t){K(t,!0);let n=B(null),r=B(null),a=B(!1),{showDialog:o,hideDialog:s}=lr();const l=()=>{const f=setTimeout(()=>{t.onClosed()},150);i(n)?.addEventListener("transitionend",()=>{clearTimeout(f),t.onClosed()},{once:!0}),b(a,!1)};Me(()=>{t.startClose&&l()}),he(()=>{i(n)?.showModal(),i(n)?.getClientRects(),b(a,!0)}),he(()=>(o(),()=>{s()}));var u=Cc(),c=A(u),d=T(c),v=T(d);ne(v,()=>t.children),gt(d,f=>b(r,f),()=>i(r)),gt(c,f=>b(n,f),()=>i(n));var h=F(c,2);{var g=f=>{hs(f,{get dialog(){return i(n)},get dialogInner(){return i(r)},onClose:l})};j(h,f=>{i(n)&&i(r)&&f(g)})}_e(()=>ue(c,1,ce(["dialog",{shown:i(a)}]),"svelte-1x410nl")),m(e,u),Y()}var xc=$("<div><!></div>");function _s(e,t){K(t,!0);let n=B(!1),r=B(null);const a=()=>{const c=setTimeout(()=>{t.onClosed()},150);i(r)?.addEventListener("transitionend",()=>{clearTimeout(c),t.onClosed()},{once:!0}),b(n,!1)},o=c=>{c.target!==i(r)&&!i(r)?.contains(c.target)&&a()},s=c=>{c.target!==i(r)&&!i(r)?.contains(c.target)&&a()};he(()=>{i(r)?.getClientRects(),b(n,!0);const c=setTimeout(()=>{document.addEventListener("focusin",o),document.addEventListener("click",s)},0);return()=>{clearTimeout(c),document.removeEventListener("focusin",o),document.removeEventListener("click",s)}}),Me(()=>{t.startClose&&a()});var l=xc(),u=T(l);ne(u,()=>t.children),gt(l,c=>b(r,c),()=>i(r)),_e(()=>ue(l,1,ce(["menu",{top:t.positionTop,shown:i(n)}]),"svelte-ujw4xi")),m(e,l),Y()}const Dc=(e,t)=>{i(t)||b(t,!0)};var Tc=(e,t)=>t("newest"),Ac=(e,t)=>t("oldest"),Nc=(e,t)=>t("AtoZ"),Lc=(e,t)=>t("ZtoA"),Mc=$("<div><button>Newest</button> <button>Oldest</button> <button>A to Z</button> <button>Z to A</button></div>"),Oc=$('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),Ic=$('<div class="orderMenu svelte-14zj87s"><button><!> <!></button> <!></div>');function Bc(e,t){K(t,!0);const n=(E,w=oe)=>{var x=Mc(),C=T(x);C.__click=[Tc,d];var p=F(C,2);p.__click=[Ac,d];var S=F(p,2);S.__click=[Nc,d];var P=F(S,2);P.__click=[Lc,d],_e(()=>{ue(x,1,ce(["menu",{menuDialog:w()}]),"svelte-14zj87s"),ue(C,1,ce(["menuButton",{menuButtonDialog:w(),current:i(c)==="newest"}]),"svelte-14zj87s"),ue(p,1,ce(["menuButton",{menuButtonDialog:w(),current:i(c)==="oldest"}]),"svelte-14zj87s"),ue(S,1,ce(["menuButton",{menuButtonDialog:w(),current:i(c)==="AtoZ"}]),"svelte-14zj87s"),ue(P,1,ce(["menuButton",{menuButtonDialog:w(),current:i(c)==="ZtoA"}]),"svelte-14zj87s")}),m(E,x)};let r=B(!1),a=B(!1);const{checkMobileSize:o}=Hn(),{getFeedOrder:s,setFeedOrder:l}=Qo();let u=O(o),c=O(s);const d=E=>{b(a,!0),l(E)},v=()=>{b(r,!1),b(a,!1)};var h=Ic(),g=T(h);g.__click=[Dc,r],ue(g,1,ce(["button","buttonMenu"]),"svelte-14zj87s");var f=T(g);xe(f,{name:"filter"});var _=F(f,2);vt(_,{children:(E,w)=>{var x=ze("show feed order menu");m(E,x)}});var y=F(g,2);{var k=E=>{var w=I(),x=A(w);{var C=S=>{gs(S,{get startClose(){return i(a)},onClosed:v,children:(P,M)=>{n(P,()=>!0)},$$slots:{default:!0}})},p=S=>{var P=Oc(),M=A(P);Pe(M,()=>({"--right":"20px","--top":"60px"})),_s(M.lastChild,{get startClose(){return i(a)},onClosed:v,children:(q,W)=>{n(q,()=>!1)},$$slots:{default:!0}}),m(S,P)};j(x,S=>{i(u)?S(C):S(p,!1)})}m(E,w)};j(y,E=>{i(r)&&E(k)})}m(e,h),Y()}Qe(["click"]);var V=(e=>(e.NewNote="newNote",e.EditNote="editNote",e.Settings="settings",e.ImportData="importData",e.ExportData="exportData",e.ClearStore="clearStore",e.Account="account",e.Sync="sync",e.Start="start",e.Auth="auth",e.Signin="signin",e.Signup="signup",e.AccessKeys="accessKeys",e.ConfirmAccessKey="confirmAccessKey",e.Subscription="subscription",e.Exit="exit",e.NotFound="notFound",e.About="about",e))(V||{}),Rc=$('<div class="header svelte-13t3afu"><div class="top svelte-13t3afu"><div class="menu svelte-13t3afu"><a class="link svelte-13t3afu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Settings</span></a> <a class="link svelte-13t3afu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Sync</span></a></div> <div class="mobile svelte-13t3afu"><!></div> <a class="buttonAdd svelte-13t3afu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Note</span></a></div> <div class="bottom svelte-13t3afu"><div><div class="sidebarSearchWrapper"><!></div></div> <div class="right svelte-13t3afu"><div class="filter svelte-13t3afu"><div class="feedSearchWrapper svelte-13t3afu"><!></div> <!></div></div></div></div>');function Fc(e,t){K(t,!0);const{createHandlePage:n,getPageUrl:r}=At(),a=cs(),{setFeedSearch:o}=Pa(),{getScrollContainer:s}=xa();let l=O(s);const u=()=>{i(l)&&i(l).scrollTo({top:0,behavior:"smooth"})},c=R=>{o(R)};var d=Rc(),v=T(d),h=T(v),g=T(h),f=O(()=>n(V.Settings));g.__click=function(...R){i(f)?.apply(this,R)};var _=T(g);Pe(_,()=>({"--rotate":"30deg","--size":"20px"})),xe(_.lastChild,{name:"settings"});var y=F(g,2),k=O(()=>n(V.Sync));y.__click=function(...R){i(k)?.apply(this,R)};var E=T(y);Pe(E,()=>({"--size":"20px"})),xe(E.lastChild,{name:"sync"});var w=F(h,2),x=T(w);vs(x,{});var C=F(w,2),p=O(()=>n(V.NewNote));C.__click=function(...R){i(p)?.apply(this,R)};var S=T(C);Pe(S,()=>({"--size":"16px","--color":"#b0b0b0"})),xe(S.lastChild,{name:"plus"});var P=F(v,2),M=T(P);ue(M,1,ce(["left"]),"svelte-13t3afu");var q=T(M),W=T(q);ia(W,{placeholder:"Search tag",get value(){return a.tagSearch},set value(R){a.tagSearch=R}});var Z=F(M,2),H=T(Z),z=T(H),N=T(z);ia(N,{onFocus:u,onChange:c,placeholder:"Search",get value(){return a.feedSearch}});var L=F(z,2);Bc(L,{}),_e((R,U,G)=>{Ne(g,"href",R),Ne(y,"href",U),Ne(C,"href",G)},[()=>r(V.Settings),()=>r(V.Sync),()=>r(V.NewNote)]),m(e,d),Y()}Qe(["click"]);function jc(e,t){K(t,!0);const{getIsKeyboardVisible:n}=Bl();let r=se(t,"dialog",7);const a=O(n),o=ir();let s=null;const l=()=>{t.dialogState==="swiping"&&t.onClose()};Me(()=>(t.dialogState==="swiping"&&(s=setTimeout(l,3e3)),()=>{s&&(clearTimeout(s),s=null)}));let u=null,c=null;const d=3,v=50,h=5,g=.6,f=.3,_=.35,y=.95;let k=0,E=0,w=0,x=!1,C=!1,p=0,S=0,P=0;const M=()=>{k=0,E=0,x=!1,C=!1,p=0,S=0,P=0,w=0,u=null,c!==null&&(cancelAnimationFrame(c),c=null),s&&(clearTimeout(s),s=null)},q=G=>{r()&&t.dialogState==="opened"&&(k=G.touches[0].clientX,E=G.touches[0].clientY,w=performance.now(),x=!0,C=!1)},W=G=>t.dialogState==="opened"&&G>0||t.dialogState==="swiping"&&G>0,Z=()=>{if(r()){r().style.setProperty("--transition-timing","0s"),t.onSwipe(),navigator.vibrate&&navigator.vibrate(10);try{const G=window.getComputedStyle(r()),ie=G.transform||G.webkitTransform||"";if(S=r().offsetWidth,(t.dialogState==="swiping"||t.dialogState==="opened")&&(p=0),ie&&ie!=="none")try{p=new DOMMatrix(ie).m41}catch{}C=!0}catch{M()}}},H=()=>{if(!r())return;const ie=Math.abs(p+P*S/100)/S;r().style.setProperty("--backdrop-bg",`rgba(0, 0, 0, ${.1*(1-ie)})`)},z=()=>{if(c=null,!u||!x||!r()||i(a)){M();return}const G=u.touches[0].clientX,ie=u.touches[0].clientY,me=G-k,le=ie-E,pe=Math.abs(me)>Math.abs(le),Q=Math.abs(me)>d;if(!C)if(pe&&Q&&W(me))try{Z()}catch{M();return}else return;if(!W(me))return;r().style.setProperty("--transition-timing","0s");let te=p+me*y;te=Math.max(0,Math.min(S,te)),r().style.transform=`translate3d(${te}px, 0, 0)`,o.swipingRatio=Math.abs(1-te/S),P=(te-p)/S*100,t.dialogState==="swiping"&&(s&&clearTimeout(s),s=setTimeout(l,3e3)),H()},N=G=>{if(!x)return;u=G,c===null&&(c=requestAnimationFrame(z));const ie=G.touches[0].clientX-k,me=G.touches[0].clientY-E,le=Math.abs(ie)>Math.abs(me);C&&le&&G.preventDefault()},L=G=>{const ie=Math.abs(G);if(ie>=g)return h;if(ie>=f){const me=(ie-f)/(g-f);return v-me*(v-h)}else return v},R=(G,ie)=>{if(Math.abs(G)>=g)return _*.5;const le=Math.abs(P)/100;return ie?_*Math.max(.5,1-le):_*Math.max(.5,le)},U=G=>{if(c!==null&&(cancelAnimationFrame(c),c=null),!x||!r()){M();return}if(!C){M();return}let ie=0;if(G?.changedTouches?.[0]){const te=G.changedTouches[0].clientX,be=performance.now()-w;be>0&&(ie=(te-k)/be)}const me=L(ie);let le=null;t.dialogState==="swiping"&&(le=Math.abs(P)>me||ie<-f?"close":"open");const pe=t.dialogState==="swiping"&&le==="close",Q=R(ie,pe);o.duration=Q-.02,r().style.setProperty("--transition-timing",`${Q}s`),r().offsetWidth,r().style.transform="",le==="open"?t.onOpen():le==="close"&&t.onClose(),r()?.style.removeProperty("--backdrop-bg"),M()};he(()=>(r().addEventListener("touchstart",q,{passive:!0}),r().addEventListener("touchmove",N,{passive:!1}),r().addEventListener("touchend",U,{passive:!0}),r().addEventListener("touchcancel",U,{passive:!0}),()=>{r().removeEventListener("touchstart",q),r().removeEventListener("touchmove",N),r().removeEventListener("touchend",U),r().removeEventListener("touchcancel",U),c!==null&&cancelAnimationFrame(c)})),Y()}var Hc=(e,t)=>{t.onStartClose()},zc=$('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),Uc=$('<dialog><div class="dialogInner svelte-vr2o0t"><div class="header svelte-vr2o0t"><div><!></div></div> <!></div></dialog> <!>',1);function Vc(e,t){K(t,!0);let n=350;const{isScrolling:r,enable:a}=is();let o=B(null),s=B(null);const l=ir(),u=p=>{p.preventDefault(),t.onStartClose()};he(()=>(i(o)?.addEventListener("close",t.onClosed),i(o)?.addEventListener("cancel",u),()=>{i(o)?.removeEventListener("close",t.onClosed),i(o)?.removeEventListener("cancel",u)}));const c=()=>{i(o)?.style.removeProperty("--transition-timing"),i(o)?.style.removeProperty("transform"),i(o)?.style.removeProperty("--backdrop-bg")},d=()=>{a()},v=O(r);Me(()=>{if(t.dialogState,!!i(o))switch(t.dialogState){case"opening":{i(o).open||i(o).showModal(),i(o).getBoundingClientRect();const p=setTimeout(()=>{c()},n+1),S=()=>{clearTimeout(p),c()};return i(o)?.addEventListener("transitionend",S,{once:!0}),t.onOpened(),()=>{i(o)?.removeEventListener("transitionend",S)}}case"closing":{const p=setTimeout(()=>{t.dialogState==="closing"&&t.onClosed()},n+1),S=()=>{clearTimeout(p),t.onClosed()};return i(o)?.addEventListener("transitionend",S,{once:!0}),()=>{i(o)?.removeEventListener("transitionend",S)}}case"opened":c()}});var h=Uc(),g=A(h),f=T(g),_=T(f),y=T(_),k=T(y);{var E=p=>{var S=zc();ue(S,1,ce(["navigateButton","buttonBack"]),"svelte-vr2o0t"),S.__click=[Hc,t];var P=T(S);Pe(P,()=>({"--size":"36px"})),xe(P.lastChild,{name:"back"});var M=F(P,2);vt(M,{children:(q,W)=>{var Z=ze("back");m(q,Z)}}),m(p,S)};j(k,p=>{(!(t.blocked||t.hidden)||t.blocked&&t.unBlockedBack)&&p(E)})}var w=F(_,2);ne(w,()=>t.children),gt(f,p=>b(s,p),()=>i(s)),gt(g,p=>b(o,p),()=>i(o));var x=F(g,2);{var C=p=>{jc(p,{get onClose(){return t.onStartClose},get onOpen(){return t.onStartOpen},get onSwipe(){return t.onSwipe},get dialogState(){return t.dialogState},get dialog(){return i(o)}})};j(x,p=>{(!i(v)&&t.dialogState==="opened"||t.dialogState==="swiping")&&(!t.blocked||t.unBlockedBack)&&p(C)})}_e(()=>ue(g,1,ce([{open:t.dialogState==="opened",hidden:t.hidden,isAnimationOn:l.working&&(!l.isSwiping||!t.hidden)},{hidden:t.hidden}]),"svelte-vr2o0t")),ya("scroll",f,d),m(e,h),Y()}Qe(["click"]);const $a=(e,t)=>{if(!t)return e;if(t.type==="closed")return{type:"closed"};switch(e.type){case"opened":return t.type==="close"?{type:"closing"}:t.type==="swipe"?{type:"swiping"}:e;case"closed":return t.type==="open"?{type:"opening"}:e;case"swiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"opening":return t.type==="opened"?{type:"opened"}:e;default:return e}};function qc(e,t){K(t,!0);let n=se(t,"blocked",3,!1),r=se(t,"hiddenDialog",3,!1),a=se(t,"unBlockedBack",3,!1),o=se(t,"onStartClose",3,()=>{}),s=se(t,"onClose",3,()=>{});const l=ir();let u=B(Le($a({type:"closed"})));const c=w=>{b(u,$a(i(u),w),!0)},d=()=>{n()&&!a()||(o()(),c({type:"close"}))},v=()=>{c({type:"open"})},h=()=>{c({type:"opened"}),l.duration=.2},g=()=>{s()(),c({type:"closed"}),l.swipingRatio=1,l.duration=.2},f=()=>{c({type:"swipe"})};Me(()=>{i(u).type==="swiping"?l.isSwiping=!0:l.isSwiping=!1,i(u).type==="closed"&&t.shownDialog?v():i(u).type==="opened"&&!t.shownDialog&&d()});var _={handleComputeState:c},y=I(),k=A(y);{var E=w=>{Vc(w,{onSwipe:f,onOpened:h,onClosed:g,onStartClose:d,onStartOpen:v,get dialogState(){return i(u).type},get hidden(){return r()},get blocked(){return n()},get unBlockedBack(){return a()},children:(x,C)=>{var p=I(),S=A(p);ne(S,()=>t.children),m(x,p)},$$slots:{default:!0}})};j(k,w=>{i(u).type!=="closed"&&w(E)})}return m(e,y),Y(_)}const Wc=({getDialog:e,onOpen:t,onStartClose:n,onClose:r})=>{const a=s=>{s.preventDefault(),n()},o=()=>{r?.()};he(()=>{const s=e();return s?.addEventListener("cancel",a),s?.addEventListener("close",o),()=>{s?.removeEventListener("cancel",a),s?.removeEventListener("close",o)}}),he(()=>{const s=e();s?.showModal(),s?.getBoundingClientRect(),t()})};var Kc=(e,t)=>{t.onStartBack()},Yc=$('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),$c=(e,t)=>{t.onStartClose()},Gc=$('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),Xc=$('<dialog><div class="dialogInner svelte-rt409n"><div class="header svelte-rt409n"><div><!></div> <div><!></div></div> <!></div></dialog> <!>',1);function Zc(e,t){K(t,!0);let n=se(t,"blockedDialog",3,!1),r=se(t,"hiddenDialog",3,!1),a=se(t,"isDesktopAnimationOff",3,!1),o=B(null),s=B(null);Wc({getDialog:()=>i(o),onOpen:t.onOpen,onStartClose:t.onStartClose,onClose:t.onClose});const l=ir();Me(()=>{t.stateDialog==="closing"&&(l.working?i(o)?.addEventListener("transitionend",()=>{i(o)?.close()},{once:!0}):i(o)?.close())});const{getDialogPageHeight:u}=Ea(),c=O(u);var d=Xc(),v=A(d),h=T(v),g=T(h),f=T(g),_=T(f);{var y=p=>{var S=Yc();ue(S,1,ce(["navigateButton","buttonBack"]),"svelte-rt409n"),S.__click=[Kc,t];var P=T(S);Pe(P,()=>({"--size":"28px"})),xe(P.lastChild,{name:"back"});var M=F(P,2);vt(M,{children:(q,W)=>{var Z=ze("back");m(q,Z)}}),m(p,S)};j(_,p=>{(!(n()||r())||n()&&t.unBlockedBack)&&t.onStartBack&&p(y)})}var k=F(f,2),E=T(k);{var w=p=>{var S=Gc();ue(S,1,ce(["navigateButton","buttonClose"]),"svelte-rt409n"),S.__click=[$c,t];var P=T(S);Pe(P,()=>({"--size":"28px"})),xe(P.lastChild,{name:"close"});var M=F(P,2);vt(M,{children:(q,W)=>{var Z=ze("close");m(q,Z)}}),m(p,S)};j(E,p=>{n()||r()||p(w)})}var x=F(g,2);ne(x,()=>t.children),gt(h,p=>b(s,p),()=>i(s)),gt(v,p=>b(o,p),()=>i(o));var C=F(v,2);hs(C,{get dialog(){return i(o)},get dialogInner(){return i(s)},get onClose(){return t.onStartClose}}),_e(()=>{Jn(v,`height: ${i(c)+74}px`),ue(v,1,ce([{open:t.stateDialog==="open",isAnimationOn:l.working,isDesktopAnimationOff:a(),hiddenDialog:r()}]),"svelte-rt409n")}),m(e,d),Y()}Qe(["click"]);const Jc=({onStartClose:e,onClose:t})=>{let n=B("close");return{get state(){return i(n)},set state(s){b(n,s,!0)},handleStartClose:(s=!1)=>{s||(b(n,"closing"),e?.())},handleOpen:()=>{b(n,"open")},handleClose:()=>{b(n,"close"),t?.()}}};function Qc(e,t){K(t,!0);let n=se(t,"blockedDialog",3,!1),r=se(t,"hiddenDialog",3,!1),a=se(t,"onStartClose",3,()=>{}),o=se(t,"onClose",3,()=>{}),s=Jc({onStartClose:a(),onClose:o()});Me(()=>{s.state==="close"&&t.shownDialog?s.state="opening":s.state==="open"&&!t.shownDialog&&s.handleStartClose(n())});const l=v=>{v.key==="Escape"&&(document.activeElement instanceof HTMLInputElement&&document.activeElement.type==="text"||document.activeElement instanceof HTMLTextAreaElement||n())&&(v.preventDefault(),v.stopPropagation())};he(()=>(document.addEventListener("keydown",l),()=>{document.removeEventListener("keydown",l)}));var u=I(),c=A(u);{var d=v=>{Zc(v,{get stateDialog(){return s.state},get blockedDialog(){return n()},get unBlockedBack(){return t.unBlockedBack},get hiddenDialog(){return r()},get onOpen(){return s.handleOpen},get onStartBack(){return t.onStartBack},onStartClose:()=>{s.handleStartClose(n())},get onClose(){return s.handleClose},children:(h,g)=>{var f=I(),_=A(f);ne(_,()=>t.children),m(h,f)},$$slots:{default:!0}})};j(c,v=>{s.state!=="close"&&v(d)})}m(e,u),Y()}function eu(e,t){K(t,!0);let n=se(t,"blockedDialog",3,!1),r=se(t,"hiddenDialog",3,!1),a=se(t,"isLastDialog",3,!1),o=se(t,"onStartClose",3,()=>{}),s=se(t,"onClose",3,()=>{});const l=O(()=>a()?void 0:t.onStartBack),{showDialog:u,hideDialog:c}=lr();he(()=>(u(),()=>{c()}));const{checkMobileSize:d}=Hn();var v=I(),h=A(v);{var g=_=>{qc(_,{get shownDialog(){return t.shownDialog},get blocked(){return n()},get unBlockedBack(){return t.unBlockedBack},get hiddenDialog(){return r()},get children(){return t.children},get onStartClose(){return t.onStartBack},get onClose(){return s()}})},f=_=>{Qc(_,{get shownDialog(){return t.shownDialog},get blockedDialog(){return n()},get unBlockedBack(){return t.unBlockedBack},get hiddenDialog(){return r()},get children(){return t.children},get onStartBack(){return i(l)},get onStartClose(){return o()},get onClose(){return s()}})};j(h,_=>{d()?_(g):_(f,!1)})}m(e,v),Y()}function Ga(e,t){K(t,!0);const{back:n,closeDialogStack:r}=bt(),{popStackPages:a}=At();let o=se(t,"blocked",3,!1),s=se(t,"isLastDialog",3,!1),l=se(t,"onBack",3,()=>{});const{checkBlockedDialog:u,checkUnBlockedBackDialog:c}=lr(),d=O(()=>o()||t.hidden||u()),v=O(()=>c()&&!s());eu(e,{get shownDialog(){return t.shown},get blockedDialog(){return i(d)},get unBlockedBack(){return i(v)},get hiddenDialog(){return t.hidden},get isLastDialog(){return s()},onStartBack:()=>{(!i(d)||i(d)&&i(v))&&t.shown&&(n(),l()())},onStartClose:()=>{(!i(d)||i(d)&&i(v))&&t.shown&&r()},onClose:()=>{a()},children:(_,y)=>{var k=I(),E=A(k);ne(E,()=>t.children),m(_,k)},$$slots:{default:!0}}),Y()}const tu="modulepreload",nu=function(e){return"/"+e},Xa={},Ae=function(t,n,r){let a=Promise.resolve();if(n&&n.length>0){let u=function(c){return Promise.all(c.map(d=>Promise.resolve(d).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),l=s?.nonce||s?.getAttribute("nonce");a=u(n.map(c=>{if(c=nu(c),c in Xa)return;Xa[c]=!0;const d=c.endsWith(".css"),v=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${v}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":tu,d||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),d)return new Promise((g,f)=>{h.addEventListener("load",g),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return a.then(s=>{for(const l of s||[])l.status==="rejected"&&o(l.reason);return t().catch(o)})};var ru=$("<div></div>"),au=$('<div class="sidebarFixed svelte-1hv280f"><div class="nav svelte-1hv280f"><!> <div class="menu svelte-1hv280f"><a class="link svelte-1hv280f"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a> <a class="link svelte-1hv280f"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a></div></div> <div class="searchWrapper svelte-1hv280f"><!></div> <!></div> <div><!> <!></div>',1),ou=$("<div></div>"),su=$('<div class="sidebar svelte-1hv280f"><div class="sidebarFixed svelte-1hv280f"><!></div> <div class="tags svelte-1hv280f"><!> <!></div></div>');function iu(e,t){K(t,!0);const{checkMobileSize:n}=Hn(),{getRelatedTags:r}=Ca(),{isReadyStore:a}=Hr(),{getAppHistory:o,navigate:s}=bt(),{getPageUrl:l,createHandlePage:u,getStackPagesFormUrl:c}=At(),d=cs(),v=O(o),h=O(a);let g=B(null),f=O(()=>new URLSearchParams(i(v).search).get("selectedTags")?.split(",")||[]),_=null;function y(){return _||(_=Ae(()=>import("./MobileSidebar-DHaAN5tY.js"),__vite__mapDeps([0,1]))),_}const k=H=>{const z=new URLSearchParams(i(v).search);z.set("selectedTags",[...i(f),H].join(",")),s(`${i(v).pathname}${z.size>0?`?${z.toString()}`:""}`),d.tagSearch=""},E=H=>{const z=new URLSearchParams(i(v).search),N=i(f).filter(L=>L!==H);N.length===0?z.delete("selectedTags"):z.set("selectedTags",N.join(",")),s(`${i(v).pathname}${z.size>0?`?${z.toString()}`:""}`)};let w=O(r),x=O(()=>i(h)?Object.values(i(w)).filter(H=>!i(f).some(z=>H.name===z)&&H.name!=="inbox").sort((H,z)=>H.name.localeCompare(z.name)):[]),C=O(()=>i(w).inbox&&i(f).includes("inbox")===!1?i(w).inbox:null),p=O(n);he(()=>{i(p)&&y()});const{checkExistedDialog:S}=lr();let P=O(()=>c().length>0||S());var M=I(),q=A(M);{var W=H=>{var z=I(),N=A(z);Ro(N,y,null,(L,R)=>{const U=O(()=>i(R).default);var G=I(),ie=A(G);Ho(ie,()=>i(U),(me,le)=>{le(me,{get blocked(){return i(P)},children:(pe,Q)=>{var te=au(),Ve=A(te),be=T(Ve),ge=T(be);vs(ge,{});var re=F(ge,2),Se=T(re),Nt=O(()=>u(V.Settings));Se.__click=function(...ve){i(Nt)?.apply(this,ve)};var kt=T(Se);Pe(kt,()=>({"--size":"24px"})),xe(kt.lastChild,{name:"settings"});var et=F(kt,2);vt(et,{children:(ve,We)=>{var ke=ze("Settings");m(ve,ke)}});var De=F(Se,2),qe=O(()=>u(V.Sync));De.__click=function(...ve){i(qe)?.apply(this,ve)};var tt=T(De);Pe(tt,()=>({"--size":"24px"})),xe(tt.lastChild,{name:"sync"});var $e=F(tt,2);vt($e,{children:(ve,We)=>{var ke=ze("Sync");m(ve,ke)}});var Ge=F(be,2),Te=T(Ge);ia(Te,{placeholder:"Search tag",get value(){return d.tagSearch},set value(ve){d.tagSearch=ve}});var nt=F(Ge,2);{var zn=ve=>{var We=ru();ue(We,1,ce(["tags","selectedTags"]),"svelte-1hv280f"),wn(We,20,()=>i(f),ke=>ke,(ke,Pt)=>{mn(ke,{get title(){return Pt},onClick:()=>E(Pt),style:"selected"})}),gt(We,ke=>b(g,ke),()=>i(g)),m(ve,We)};j(nt,ve=>{i(f).length>0&&ve(zn)})}var cr=F(Ve,2);ue(cr,1,ce(["tags","tagsWrapper"]),"svelte-1hv280f");var Et=T(cr);{var un=ve=>{mn(ve,{get title(){return i(C).name},onClick:()=>k(i(C).name)})};j(Et,ve=>{i(C)&&ve(un)})}var ur=F(Et,2);wn(ur,17,()=>i(x),ve=>ve.name,(ve,We)=>{var ke=I(),Pt=A(ke);{var dr=Un=>{mn(Un,{get title(){return i(We).name},onClick:()=>k(i(We).name)})};j(Pt,Un=>{(d.tagSearch===""||i(We).name.toLowerCase().indexOf(d.tagSearch.toLowerCase())!==-1)&&Un(dr)})}m(ve,ke)}),_e((ve,We)=>{Ne(Se,"href",ve),Ne(De,"href",We)},[()=>l(V.Settings),()=>l(V.Sync)]),m(pe,te)},$$slots:{default:!0}})}),m(L,G)}),m(H,z)},Z=H=>{var z=su(),N=T(z),L=T(N);{var R=le=>{var pe=ou();ue(pe,1,ce(["tags","selectedTags"]),"svelte-1hv280f"),wn(pe,20,()=>i(f),Q=>Q,(Q,te)=>{mn(Q,{get title(){return te},onClick:()=>E(te),style:"selected"})}),m(le,pe)};j(L,le=>{i(f).length>0&&le(R)})}var U=F(N,2),G=T(U);{var ie=le=>{mn(le,{get title(){return i(C).name},onClick:()=>k(i(C).name)})};j(G,le=>{i(C)&&le(ie)})}var me=F(G,2);wn(me,17,()=>i(x),le=>le.name,(le,pe)=>{var Q=I(),te=A(Q);{var Ve=be=>{mn(be,{get title(){return i(pe).name},onClick:()=>k(i(pe).name)})};j(te,be=>{(d.tagSearch===""||i(pe).name.toLowerCase().indexOf(d.tagSearch.toLowerCase())!==-1)&&be(Ve)})}m(le,Q)}),m(H,z)};j(q,H=>{i(p)?H(W):H(Z,!1)})}m(e,M),Y()}Qe(["click"]);const lu=(e,t,n)=>{b(t,!0),b(n,!0)},cu=(e,t,n,r)=>{t(n.note.id,!n.note.data.pinned),zr(n.note.data.pinned?"Note unpinned":"Note pinned"),b(r,!0)},uu=(e,t,n)=>{navigator.clipboard.writeText(t.note.data.url),zr("Link copied"),b(n,!0)};var du=$("<div><button>Copy link</button></div>"),fu=$('<div class="menu svelte-8ve3pe"><!> <div><button> </button></div> <div><button>Delete</button></div></div>'),vu=$('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1);function hu(e,t){K(t,!0);const n=(C,p=oe)=>{var S=fu(),P=T(S);{var M=N=>{var L=du(),R=T(L);R.__click=[uu,t,v],_e(()=>ue(R,1,ce(["button",{buttonMenuDialog:p()}]),"svelte-8ve3pe")),m(N,L)};j(P,N=>{p()&&t.note.data.url&&N(M)})}var q=F(P,2),W=T(q);W.__click=[cu,l,t,v];var Z=T(W),H=F(q,2),z=T(H);z.__click=[lu,h,v],_e(()=>{ue(W,1,ce(["button",{buttonMenuDialog:p()}]),"svelte-8ve3pe"),Zn(Z,t.note.data.pinned?"Unpin":"Pin"),ue(z,1,ce(["button",{buttonMenuDialog:p()}]),"svelte-8ve3pe")}),m(C,S)},{getRelatedTags:r}=Ca(),{getAppHistory:a,replace:o}=bt(),{deleteNote:s,pinNote:l,setDeleting:u}=Hr();let c=O(a),d=se(t,"shownMenu",15),v=B(!1),h=B(!1);const{checkMobileSize:g}=Hn();let f=O(g),_=O(()=>new URLSearchParams(i(c).search).get("selectedTags")?.split(",")||[]);const y=async()=>{const C=r();u(t.note.id,!0);let p=!1;zr("Note deleted",{onCancel:()=>{p=!0,u(t.note.id,!1)},onFinish:()=>{p||(t.note.data.tags.forEach(S=>{if(i(_).includes(S)&&C[S].connections===1){const P=new URLSearchParams(i(c).search),M=i(_).filter(q=>q!==S);M.length===0?P.delete("selectedTags"):P.set("selectedTags",M.join(",")),o(`${i(c).pathname}${P.size>0?`?${P.toString()}`:""}`)}}),s(t.note.id))}})},k=()=>{i(h)&&y(),d(!1),b(v,!1)};var E=I(),w=A(E);{var x=C=>{var p=I(),S=A(p);{var P=q=>{gs(q,{get startClose(){return i(v)},onClosed:k,children:(W,Z)=>{n(W,()=>!0)},$$slots:{default:!0}})},M=q=>{var W=vu(),Z=A(W);Pe(Z,()=>({"--bottom":"-90px","--right":"20px"})),_s(Z.lastChild,{get startClose(){return i(v)},get positionTop(){return t.showMenuUp},onClosed:k,children:(H,z)=>{n(H,()=>!1)},$$slots:{default:!0}}),m(q,W)};j(S,q=>{i(f)?q(P):q(M,!1)})}m(C,p)};j(w,C=>{d()&&C(x)})}m(e,E),Y()}Qe(["click"]);const gu=(e,t)=>{b(t,!0)},_u=(e,t,n)=>{navigator.clipboard.writeText(t.note.data.url),zr("Link copied"),b(n,!1)},pu=(e,t)=>{b(t,!0)},mu=(e,t)=>{b(t,!1)},wu=(e,t,n,r)=>{e.preventDefault(),t(`${V.EditNote}?id=${n.note.id}`),b(r,!1)};var yu=$('<div class="iconPlaceholder svelte-1jg44o9"></div>'),Su=$('<img loading="lazy" class="noteIcon" height="16" width="16" alt=""/>'),bu=$('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),ku=$('<div class="noteIconWrapper svelte-1jg44o9"><!></div>'),Eu=$('<button class="button svelte-1jg44o9"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),Pu=(e,t)=>{b(t,!1)},Cu=$('<!> <a target="_blank" rel="noopener noreferrer" class="button openLink svelte-1jg44o9"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a>',1),xu=$('<li><!> <a class="noteLink svelte-1jg44o9" target="_blank" rel="noopener noreferrer"> </a> <div><!> <button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button></div> <!></li>');function Du(e,t){K(t,!0);const{pushStackPages:n}=At(),{getFaviconEnabled:r}=ac();let a=B(!1),o=B(!1),s=B(!1),l=O(r);const{checkMobileSize:u}=Hn(),c=p=>{try{return`https://icons.duckduckgo.com/ip3/${new URL(p).host}.ico`}catch{return""}};var d=xu();d.__focusin=[pu,o],d.__focusout=[mu,o];var v=T(d);{var h=p=>{var S=ku(),P=T(S);{var M=W=>{var Z=I(),H=A(Z);{var z=L=>{var R=yu();m(L,R)},N=L=>{var R=Su();_e(U=>Ne(R,"src",U),[()=>c(t.note.data.url)]),ya("error",R,()=>{b(s,!0)}),m(L,R)};j(H,L=>{i(s)?L(z):L(N,!1)})}m(W,Z)},q=W=>{var Z=bu(),H=A(Z);Pe(H,()=>({"--size":"16px"})),xe(H.lastChild,{name:"note"}),m(W,Z)};j(P,W=>{t.note.data.url?W(M):W(q,!1)})}m(p,S)};j(v,p=>{i(l)&&p(h)})}var g=F(v,2);g.__click=[wu,n,t,o];var f=T(g),_=F(g,2),y=T(_);{var k=p=>{var S=Cu(),P=A(S);{var M=H=>{var z=Eu();z.__click=[_u,t,o];var N=T(z);Pe(N,()=>({"--size":"20px"})),xe(N.lastChild,{name:"copy"});var L=F(N,2);vt(L,{children:(R,U)=>{var G=ze("copy link");m(R,G)}}),_e(()=>Ne(z,"tabindex",t.focusHidden?-1:0)),m(H,z)};j(P,H=>{u()||H(M)})}var q=F(P,2);q.__click=[Pu,o];var W=T(q);Pe(W,()=>({"--size":"18px"})),xe(W.lastChild,{name:"open"});var Z=F(W,2);vt(Z,{children:(H,z)=>{var N=ze();_e(()=>Zn(N,t.note.data.name)),m(H,N)}}),_e(()=>{Ne(q,"href",t.note.data.url),Ne(q,"tabindex",t.focusHidden?-1:0)}),m(p,S)};j(y,p=>{t.note.data.url&&p(k)})}var E=F(y,2);E.__click=[gu,a],ue(E,1,ce(["button","buttonMenu"]),"svelte-1jg44o9");var w=T(E);Pe(w,()=>({"--size":"18px","--rotate":"90deg"})),xe(w.lastChild,{name:"menu"});var x=F(w,2);vt(x,{children:(p,S)=>{var P=ze("show menu");m(p,P)}});var C=F(_,2);hu(C,{get note(){return t.note},get showMenuUp(){return t.showMenuUp},get shownMenu(){return i(a)},set shownMenu(p){b(a,p,!0)}}),_e(p=>{ue(d,1,ce(["record",{pinned:t.note.data.pinned}]),"svelte-1jg44o9"),Ne(g,"tabindex",t.focusHidden?-1:0),Ne(g,"href",p),Zn(f,t.note.data.name),ue(_,1,ce(["noteMenuWrapper",{noteMenuWrapperActive:i(o)}]),"svelte-1jg44o9"),Ne(E,"tabindex",t.focusHidden?-1:0)},[()=>`/?stackPages=${encodeURIComponent(`${V.EditNote}?id=${t.note.id}`)}`]),m(e,d),Y()}Qe(["focusin","focusout","click"]);var Tu=$('<div><!> <div class="loader svelte-m0sno1"></div></div>');function ps(e,t){K(t,!0);let n=B(!1);he(()=>{const o=setTimeout(()=>{b(n,!0)},200);return()=>{clearTimeout(o)}});var r=Tu(),a=T(r);ne(a,()=>t.children??oe),_e(()=>ue(r,1,ce(["block",{shown:i(n)}]),"svelte-m0sno1")),m(e,r),Y()}var Au=$('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Add note</span>',1),Nu=$('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span style="padding-left: 6px;">Import data</span>',1),Lu=$('<div class="emptyStore svelte-n515mf"><p class="message">No notes found</p> <div class="wrapperButtonsAdd svelte-n515mf"><!></div> <div>or</div> <div class="wrapperButtonsAdd svelte-n515mf"><!></div></div>'),Mu=$('<div class="emptyMessage svelte-n515mf">No notes found</div>'),Ou=$('<div class="feed svelte-n515mf"><ul class="svelte-n515mf"></ul></div>'),Iu=$('<div class="wrapperFeed svelte-n515mf"><div class="wrapperContainer svelte-n515mf"><!></div></div>');function Bu(e,t){K(t,!0);const{setRelatedTags:n}=Ca(),{getScrollContainer:r}=xa(),{createHandlePage:a,getPageUrl:o}=At(),{getSelectedTags:s}=tc(),{getFeedOrder:l}=Qo(),{getFeedSearch:u}=Pa(),{getGetNotes:c,isReadyStore:d}=Hr();let v=54,h=B(0),g=B(0),f=B(0),_=O(u),y=B(0),k=[],E=B(0),w=O(r),x=null,C=null;const p=O(s),S=O(d);Me(()=>{i(_),i(p),i(W),i(w)?.scrollTo(0,0)});const{enable:P}=is(),M=()=>{P(),x||(x=requestAnimationFrame(()=>{const Q=i(w)?.scrollTop||0;b(f,Q,!0);const te=Math.ceil(i(h)/v);b(g,Math.floor(Q/(v*te))*(v*te)),x=null}))},q=()=>{C||(C=requestAnimationFrame(()=>{b(h,window.innerHeight-180||0,!0);const Q=i(w)?.scrollTop||0;b(f,Q,!0);const te=Math.ceil(i(h)/v);b(g,Math.floor(Q/(v*te))*(v*te)),C=null}))};he(()=>{q(),M()}),Me(()=>(i(w)?.addEventListener("scroll",M),window.addEventListener("resize",q),()=>{i(w)?.removeEventListener("scroll",M),window.removeEventListener("resize",q)}));const W=O(l);let Z=B(""),H=O(c);Me(()=>{i(W);const Q=i(H)()||[];Vt(()=>i(Z))!==i(W)&&Vt(()=>b(Z,i(W),!0)),Q.sort((ge,re)=>{if(!ge||!re)return 0;if(ge.data.pinned&&!re.data.pinned)return 1;if(!ge.data.pinned&&re.data.pinned)return-1;switch(i(W)){case"newest":return ge.data.updatedAt<re.data.updatedAt?-1:1;case"oldest":return ge.data.updatedAt>re.data.updatedAt?-1:1;case"AtoZ":return re.data.name.localeCompare(ge.data.name);case"ZtoA":return ge.data.name.localeCompare(re.data.name);default:return 0}});const Ve=[],be={};for(let ge=Q.length-1;ge>=0;ge--){const re=Q[ge];if(re&&!(i(p).length&&i(p).some(Se=>!re.data.tags.includes(Se)))&&!re.deleting&&!(i(_)&&!(re.data.name.toLowerCase().includes(i(_).toLowerCase())||re.data.url.toLowerCase().includes(i(_).toLowerCase())||re.data.text.toLowerCase().includes(i(_).toLowerCase())))){if(re.data.tags)for(const Se of re.data.tags)be[Se]?be[Se].connections++:be[Se]={name:Se,connections:1};Ve.push(re)}}n(be),b(y,Ve.length,!0),k=Ve,b(E,Date.now(),!0)});const z=O(()=>i(y)*v);let L=O(()=>{i(E);const Q=Math.ceil(i(h)/v);let te=Math.floor(i(g)/v);return te=te-Math.min(te,Q),k.slice(te,te+Q*3)}),R=O(()=>v*Math.ceil(i(h)/v));const U=O(()=>i(g)-Math.min(i(g),i(R)));var G=Iu(),ie=T(G),me=T(ie);{var le=Q=>{ps(Q,{})},pe=Q=>{var te=I(),Ve=A(te);{var be=re=>{var Se=Lu(),Nt=F(T(Se),2),kt=T(Nt);{let qe=O(()=>o(V.NewNote)),tt=O(()=>a(V.NewNote));Mn(kt,{element:"a",get href(){return i(qe)},get onClick(){return i(tt)},children:($e,Ge)=>{var Te=Au(),nt=A(Te);Pe(nt,()=>({"--size":"18px","--color":"#b0b0b0"})),xe(nt.lastChild,{name:"plus"}),m($e,Te)},$$slots:{default:!0}})}var et=F(Nt,4),De=T(et);{let qe=O(()=>o(V.ImportData)),tt=O(()=>a(V.ImportData));Mn(De,{element:"a",get href(){return i(qe)},get onClick(){return i(tt)},children:($e,Ge)=>{var Te=Nu(),nt=A(Te);Pe(nt,()=>({"--size":"18px","--color":"#b0b0b0"})),xe(nt.lastChild,{name:"import"}),m($e,Te)},$$slots:{default:!0}})}m(re,Se)},ge=re=>{var Se=I(),Nt=A(Se);{var kt=De=>{var qe=Mu();m(De,qe)},et=De=>{var qe=Ou(),tt=T(qe);wn(tt,23,()=>i(L),$e=>$e.id,($e,Ge,Te)=>{{let nt=O(()=>i(Te)*v<i(f)-i(U)-v/2||i(Te)*v>i(f)-i(U)+Math.floor(i(h)/v)*v),zn=O(()=>(i(Te)+3)*v<i(f)-i(U)-v/2||(i(Te)+3)*v>i(f)-i(U)+Math.floor(i(h)/v)*v);Du($e,{get focusHidden(){return i(nt)},get showMenuUp(){return i(zn)},get note(){return i(Ge)}})}}),_e($e=>{Jn(qe,`min-height: ${$e??""}px`),Jn(tt,`transform: translateY(${i(U)??""}px);`)},[()=>Math.max((i(z)>i(h),i(z)),0)]),m(De,qe)};j(Nt,De=>{i(L).length===0?De(kt):De(et,!1)},!0)}m(re,Se)};j(Ve,re=>{(i(H)()||[]).length===0?re(be):re(ge,!1)},!0)}m(Q,te)};j(me,Q=>{i(S)?Q(pe,!1):Q(le)})}m(e,G),Y()}var Ru=$('<!> <div class="content svelte-6sscvv"><!></div>',1);function Fu(e){var t=Ru(),n=A(t);iu(n,{});var r=F(n,2),a=T(r);Bu(a,{}),m(e,t)}var ju=$('<div class="content svelte-ujk4k"><p class="message svelte-ujk4k">use app</p> <div class="buttonContainer svelte-ujk4k"><div class="buttonContainerItem svelte-ujk4k"><!></div> <div class="buttonContainerItem svelte-ujk4k"><!></div></div></div>');function Hu(e,t){K(t,!0);const{blockDialog:n}=lr(),{pushStackPages:r}=At(),{closeDialogStack:a}=bt(),{initLocalAccount:o}=ka();let s=B("idle");const l=()=>{b(s,"loading"),r(V.Auth)},u=async()=>{b(s,"loading"),await o(),n(!1),a()};Me(()=>{n(i(s)==="idle"||i(s)==="loading")}),he(()=>(n(!0),()=>{n(!1)}));var c=ju(),d=F(T(c),2),v=T(d),h=T(v);Mn(h,{onClick:l,fullWidth:!0,children:(_,y)=>{var k=ze("cloud account");m(_,k)},$$slots:{default:!0}});var g=F(v,2),f=T(g);Mn(f,{onClick:u,fullWidth:!0,type:"secondary",children:(_,y)=>{var k=ze("local account");m(_,k)},$$slots:{default:!0}}),m(e,c),Y()}var zu=$('<div class="svelte-1x9a4ve"><!></div>');function Ce(e,t){K(t,!0);const{setDialogPageHeight:n}=Ea();let r=B(null);he(()=>{i(r)&&(i(r).getBoundingClientRect(),i(r).style.opacity="1");const s=new ResizeObserver(l=>{for(let u of l){const c=u.contentRect.height;n(c)}});if(i(r))return s.observe(i(r)),()=>{i(r)&&s.unobserve(i(r)),s.disconnect()}});var a=zu(),o=T(a);ne(o,()=>t.children),gt(a,s=>b(r,s),()=>i(r)),m(e,a),Y()}var Uu=$('<div class="svelte-stjbkr"><p class="svelte-stjbkr">Page not found</p> <!></div>');function Vu(e,t){K(t,!1);const{navigate:n}=bt(),r=s=>{s.preventDefault(),n("/")};ba();var a=Uu(),o=F(T(a),2);Mn(o,{element:"a",href:"/",onClick:r,children:(s,l)=>{var u=ze("close");m(s,u)},$$slots:{default:!0}}),m(e,a),Y()}var qu=$('<div class="svelte-10xfz1h"><p class="svelte-10xfz1h">Something went wrong. Please reload the page</p> <!></div>');function Wu(e){var t=qu(),n=F(T(t),2);Mn(n,{onClick:()=>location.reload(),children:(r,a)=>{var o=ze("Reload");m(r,o)},$$slots:{default:!0}}),m(e,t)}var Ku=$('<div class="svelte-1mu1b44"><!></div>');function Yu(e,t){K(t,!0);const{getDialogPageHeight:n}=Ea(),r=O(n);var a=Ku(),o=T(a);ps(o,{}),_e(()=>Jn(a,`min-height: ${i(r)??""}px;`)),m(e,a),Y()}function Oe(e,t){K(t,!0);const n={},r=Object.assign({"./Pages/About.svelte":()=>Ae(()=>import("./About-Bf5kiYX0.js"),__vite__mapDeps([2,3])),"./Pages/AccessKeys.svelte":()=>Ae(()=>import("./AccessKeys-CkCLe3f8.js"),__vite__mapDeps([4,5,6])),"./Pages/Account.svelte":()=>Ae(()=>import("./Account-Bu65RS13.js"),__vite__mapDeps([7,8])),"./Pages/Auth.svelte":()=>Ae(()=>import("./Auth-ClqMd0KL.js"),__vite__mapDeps([9,10])),"./Pages/ClearStore.svelte":()=>Ae(()=>import("./ClearStore-CGFwn4io.js"),__vite__mapDeps([11,12])),"./Pages/ConfirmAccessKey.svelte":()=>Ae(()=>import("./ConfirmAccessKey-D8JH6w1B.js"),__vite__mapDeps([13,14,15,5,16,17])),"./Pages/EditNote.svelte":()=>Ae(()=>import("./EditNote-DOmKiz0I.js"),__vite__mapDeps([18,19,14,15,20])),"./Pages/Exit.svelte":()=>Ae(()=>import("./Exit-CYvv5ENM.js"),__vite__mapDeps([21,22])),"./Pages/ExportData.svelte":()=>Ae(()=>import("./ExportData-C2H2of4j.js"),__vite__mapDeps([23,24])),"./Pages/ImportData.svelte":()=>Ae(()=>import("./ImportData-CumZDZW0.js"),__vite__mapDeps([25,26])),"./Pages/NewNote.svelte":()=>Ae(()=>import("./NewNote-D56bQ_y-.js"),__vite__mapDeps([27,19,14,15,20])),"./Pages/Settings.svelte":()=>Ae(()=>import("./Settings-CCXFhWf2.js"),__vite__mapDeps([28,29])),"./Pages/Signin.svelte":()=>Ae(()=>import("./Signin-lhG0QYl_.js"),__vite__mapDeps([30,16,5,31])),"./Pages/Signup.svelte":()=>Ae(()=>import("./Signup-BhnRQAhe.js"),__vite__mapDeps([32,5,16,33])),"./Pages/Subscription.svelte":()=>Ae(()=>import("./Subscription-Cj6R8B-U.js"),__vite__mapDeps([34,35])),"./Pages/Sync.svelte":()=>Ae(()=>import("./Sync-CGkIncZZ.js"),__vite__mapDeps([36,37]))}),a=async l=>{const u=`./Pages/${l[0].toUpperCase()+l.slice(1)}.svelte`;if(!n[l]){if(r[u]){const c=r[u]();return n[l]={promise:c},n[l].module=await c,n[l].module}throw new Error(`Page ${l} not found`)}return n[l].module||await n[l].promise};var o=I(),s=A(o);Ro(s,()=>a(t.page),l=>{Yu(l,{})},(l,u)=>{const c=O(()=>i(u).default);var d=I(),v=A(d);Ho(v,()=>i(c),(h,g)=>{g(h,{get params(){return t.params},get hidden(){return t.hidden}})}),m(l,d)},l=>{Wu(l)}),m(e,o),Y()}const Za=(e,t=oe,n=oe,r)=>{let a=Or(()=>Bs(r?.(),!1));var o=I(),s=A(o);{var l=c=>{Ce(c,{children:(d,v)=>{Oe(d,{get hidden(){return i(a)},get page(){return V.Settings}})},$$slots:{default:!0}})},u=c=>{var d=I(),v=A(d);{var h=f=>{Ce(f,{children:(_,y)=>{Oe(_,{get hidden(){return i(a)},get page(){return V.NewNote}})},$$slots:{default:!0}})},g=f=>{var _=I(),y=A(_);{var k=w=>{Ce(w,{children:(x,C)=>{Oe(x,{get params(){return n()},get hidden(){return i(a)},get page(){return V.EditNote}})},$$slots:{default:!0}})},E=w=>{var x=I(),C=A(x);{var p=P=>{Ce(P,{children:(M,q)=>{Oe(M,{get hidden(){return i(a)},get page(){return V.ImportData}})},$$slots:{default:!0}})},S=P=>{var M=I(),q=A(M);{var W=H=>{Ce(H,{children:(z,N)=>{Oe(z,{get hidden(){return i(a)},get page(){return V.ExportData}})},$$slots:{default:!0}})},Z=H=>{var z=I(),N=A(z);{var L=U=>{Ce(U,{children:(G,ie)=>{Oe(G,{get hidden(){return i(a)},get page(){return V.ClearStore}})},$$slots:{default:!0}})},R=U=>{var G=I(),ie=A(G);{var me=pe=>{Ce(pe,{children:(Q,te)=>{Hu(Q,{})},$$slots:{default:!0}})},le=pe=>{var Q=I(),te=A(Q);{var Ve=ge=>{Ce(ge,{children:(re,Se)=>{Oe(re,{get hidden(){return i(a)},get page(){return V.Auth}})},$$slots:{default:!0}})},be=ge=>{var re=I(),Se=A(re);{var Nt=et=>{Ce(et,{children:(De,qe)=>{Oe(De,{get hidden(){return i(a)},get page(){return V.Signup}})},$$slots:{default:!0}})},kt=et=>{var De=I(),qe=A(De);{var tt=Ge=>{Ce(Ge,{children:(Te,nt)=>{Oe(Te,{get hidden(){return i(a)},get page(){return V.Signin}})},$$slots:{default:!0}})},$e=Ge=>{var Te=I(),nt=A(Te);{var zn=Et=>{Ce(Et,{children:(un,ur)=>{Oe(un,{get hidden(){return i(a)},get page(){return V.AccessKeys}})},$$slots:{default:!0}})},cr=Et=>{var un=I(),ur=A(un);{var ve=ke=>{Ce(ke,{children:(Pt,dr)=>{Oe(Pt,{get hidden(){return i(a)},get page(){return V.Account}})},$$slots:{default:!0}})},We=ke=>{var Pt=I(),dr=A(Pt);{var Un=dn=>{Ce(dn,{children:(fr,Da)=>{Oe(fr,{get hidden(){return i(a)},get page(){return V.ConfirmAccessKey}})},$$slots:{default:!0}})},ms=dn=>{var fr=I(),Da=A(fr);{var ws=fn=>{Ce(fn,{children:(vr,Ta)=>{Oe(vr,{get hidden(){return i(a)},get page(){return V.Exit}})},$$slots:{default:!0}})},ys=fn=>{var vr=I(),Ta=A(vr);{var Ss=vn=>{Ce(vn,{children:(hr,Aa)=>{Oe(hr,{get hidden(){return i(a)},get page(){return V.Sync}})},$$slots:{default:!0}})},bs=vn=>{var hr=I(),Aa=A(hr);{var ks=hn=>{Ce(hn,{children:(gr,Na)=>{Oe(gr,{get hidden(){return i(a)},get page(){return V.Subscription}})},$$slots:{default:!0}})},Es=hn=>{var gr=I(),Na=A(gr);{var Ps=gn=>{Ce(gn,{children:(Ur,xs)=>{Oe(Ur,{get hidden(){return i(a)},get page(){return V.About}})},$$slots:{default:!0}})},Cs=gn=>{Ce(gn,{children:(Ur,xs)=>{Vu(Ur,{})},$$slots:{default:!0}})};j(Na,gn=>{t()===V.About?gn(Ps):gn(Cs,!1)},!0)}m(hn,gr)};j(Aa,hn=>{t()===V.Subscription?hn(ks):hn(Es,!1)},!0)}m(vn,hr)};j(Ta,vn=>{t()===V.Sync?vn(Ss):vn(bs,!1)},!0)}m(fn,vr)};j(Da,fn=>{t()===V.Exit?fn(ws):fn(ys,!1)},!0)}m(dn,fr)};j(dr,dn=>{t()===V.ConfirmAccessKey?dn(Un):dn(ms,!1)},!0)}m(ke,Pt)};j(ur,ke=>{t()===V.Account?ke(ve):ke(We,!1)},!0)}m(Et,un)};j(nt,Et=>{t()===V.AccessKeys?Et(zn):Et(cr,!1)},!0)}m(Ge,Te)};j(qe,Ge=>{t()===V.Signin?Ge(tt):Ge($e,!1)},!0)}m(et,De)};j(Se,et=>{t()===V.Signup?et(Nt):et(kt,!1)},!0)}m(ge,re)};j(te,ge=>{t()===V.Auth?ge(Ve):ge(be,!1)},!0)}m(pe,Q)};j(ie,pe=>{t()===V.Start?pe(me):pe(le,!1)},!0)}m(U,G)};j(N,U=>{t()===V.ClearStore?U(L):U(R,!1)},!0)}m(H,z)};j(q,H=>{t()===V.ExportData?H(W):H(Z,!1)},!0)}m(P,M)};j(C,P=>{t()===V.ImportData?P(p):P(S,!1)},!0)}m(w,x)};j(y,w=>{t()===V.EditNote?w(k):w(E,!1)},!0)}m(f,_)};j(v,f=>{t()===V.NewNote?f(h):f(g,!1)},!0)}m(c,d)};j(s,c=>{t()===V.Settings?c(l):c(u,!1)})}m(e,o)};var $u=$("<!> <!>",1);function Gu(e,t){K(t,!0);const{isReadyStore:n}=Hr(),{getStackPages:r,popStackPages:a}=At(),{getAccount:o}=ka();let s=O(r),l=O(()=>n()&&o()!==void 0);const{checkMobileSize:u}=Hn();var c=$u(),d=A(c);{var v=_=>{Fu(_)};j(d,_=>{i(l)&&_(v)})}var h=F(d,2);{var g=_=>{var y=I(),k=A(y);wn(k,19,()=>i(s),E=>E.page,(E,w,x)=>{const C=O(()=>i(w).page.split("?")[1]),p=O(()=>i(w).page.split("?")[0]);{let S=O(()=>i(x)!==i(s).length-1&&!!i(s)[i(x)+1]?.shown),P=O(()=>i(x)===0);Ga(E,{get shown(){return i(w).shown},get hidden(){return i(S)},get isLastDialog(){return i(P)},children:(M,q)=>{{let W=O(()=>i(x)!==i(s).length-1&&!!i(s)[i(x)+1]?.shown);Za(M,()=>i(p),()=>i(C),()=>i(W))}},$$slots:{default:!0}})}}),m(_,y)},f=_=>{var y=I(),k=A(y);{var E=w=>{const x=O(()=>i(s)[i(s).length-1].page.split("?")[1]),C=O(()=>i(s)[i(s).length-1].page.split("?")[0]);{let p=O(()=>i(s).length===1);Ga(w,{onBack:()=>a(),get shown(){return i(s)[i(s).length-1].shown},hidden:!1,get isLastDialog(){return i(p)},children:(S,P)=>{Za(S,()=>i(C),()=>i(x))},$$slots:{default:!0}})}};j(k,w=>{i(s).length>0&&w(E)},!0)}m(_,y)};j(h,_=>{u()?_(g):_(f,!1)})}m(e,c),Y()}function Xu(e,t){K(t,!1);let n=0;he(()=>{document.addEventListener("touchstart",r=>{n=r.touches[0].clientX},{passive:!1}),document.addEventListener("touchmove",r=>{const o=r.touches[0].clientX-n;(n<50&&o>0||n>window.innerWidth-50&&o<0)&&r.preventDefault()},{passive:!1}),document.addEventListener("touchend",()=>{n=0}),document.addEventListener("touchcancel",()=>{n=0})}),ba(),Y()}const Zu=(e,t)=>{i(t)&&i(t).scrollTo({top:0})};var Ju=$('<div class="wrapperButtonTop svelte-1n46o8q"><button class="buttonTop svelte-1n46o8q"><!> <span class="icon svelte-1n46o8q"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></span></button></div>'),Qu=$('<!> <!> <main><div class="wrapperHeader svelte-1n46o8q"><!></div> <div class="container svelte-1n46o8q"><!></div></main> <!>',1);function ed(e,t){K(t,!0);const{setScrollContainer:n}=xa(),{getAccount:r}=ka(),{getStackPagesFormUrl:a}=At(),o=ir();he(async()=>{await new Promise(P=>setTimeout(P,100)),await Mo(),o.working=!0});let s=B(!1),l=0,u=O(()=>a().length>0),c=O(r),d=B(null);Me(()=>{n(i(d))});const v=()=>{if(i(d)){const P=i(d).scrollTop||0;P===0?b(s,!1):!i(s)&&l>P?b(s,!0):i(s)&&l+50<P&&b(s,!1),l=P}},h=()=>{v()};Me(()=>(i(d)?.addEventListener("scroll",h),window.addEventListener("resize",h),()=>{i(d)?.removeEventListener("scroll",h),window.removeEventListener("resize",h)}));var g=Qu(),f=A(g);Xu(f,{});var _=F(f,2);_c(_,{});var y=F(_,2),k=T(y),E=T(k);{var w=P=>{Fc(P,{})};j(E,P=>{i(c)!==void 0&&P(w)})}var x=F(k,2),C=T(x);Gu(C,{}),gt(y,P=>b(d,P),()=>i(d));var p=F(y,2);{var S=P=>{var M=Ju(),q=T(M);q.__click=[Zu,d];var W=T(q);vt(W,{children:(z,N)=>{var L=ze("top");m(z,L)}});var Z=F(W,2),H=T(Z);Pe(H,()=>({"--rotate":"90deg","--size":"28px"})),xe(H.lastChild,{name:"back"}),m(P,M)};j(p,P=>{i(s)&&P(S)})}_e(()=>{Jn(y,`--swiping-ratio: ${o.swipingRatio}; --transition-timing-default: ${o.duration}s;`),ue(y,1,ce(["main",{isAnimationOn:o.working&&!o.isSwiping,open:i(u)}]),"svelte-1n46o8q")}),m(e,g),Y()}Qe(["click"]);function td(e){dc(e,{children:(t,n)=>{ed(t,{})}})}window.addEventListener("unhandledrejection",e=>{alert("Error: "+e.reason.message)});window.isUnsupportedBrowser||Gi(td,{target:document.getElementById("app")});export{ne as $,Hr as A,Mn as B,ya as C,id as D,ba as E,ad as F,se as G,ue as H,xe as I,ce as J,Ne as K,ps as L,od as M,sd as N,Jn as O,V as P,ql as Q,Hn as R,gt as S,mn as T,sl as U,vt as V,ac as W,Bl as X,ic as Y,ir as Z,is as _,Pe as a,hs as a0,m as b,T as c,lr as d,B as e,$ as f,At as g,Le as h,i,b as j,j as k,Y as l,I as m,A as n,he as o,K as p,Qe as q,wn as r,F as s,_e as t,Me as u,Zn as v,ze as w,O as x,bt as y,ka as z};
