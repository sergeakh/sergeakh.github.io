const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/MobileSidebar-YngdgsXx.js","assets/MobileSidebar-CUCj13hK.css","assets/About-Co0_xkBt.js","assets/About-DhrgDPiX.css","assets/AccessKeys-Cga4VPjW.js","assets/api-C5JaEwh0.js","assets/AccessKeys-DF5NA1tk.css","assets/Account-DA2swpe5.js","assets/Account-LI89flHz.css","assets/ClearStore-CrONDZg8.js","assets/ClearStore-DiVqV26R.css","assets/ConfirmAccessKey-AkkmPsZ2.js","assets/Input-C6da-zou.js","assets/Input-KO0oOGze.css","assets/ConfirmAccessKey-BEOXyioc.css","assets/EditNote-GyWAvN5B.js","assets/NoteForm-Prr6urdU.js","assets/NoteForm-BHc3yOF2.css","assets/Exit-BtLrN9vs.js","assets/Exit-B7Im9AKN.css","assets/ExportData-Cb_PJgI5.js","assets/ExportData-Gq8zQKAw.css","assets/ImportData-vcQMwnHU.js","assets/ImportData-CZGzVRRc.css","assets/NewNote-DNXhx3nu.js","assets/Signin-CPrjjYfA.js","assets/Signin-CnX7iJxK.css","assets/Signup-BfhreHHS.js","assets/Subscription-B4IP9NjZ.js","assets/Subscription-2ryrsj8c.css","assets/Sync-DBMcYoJb.js","assets/Sync-DZBzq12x.css"])))=>i.map(i=>d[i]);
var Yo=Object.defineProperty;var La=e=>{throw TypeError(e)};var Go=(e,t,n)=>t in e?Yo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var En=(e,t,n)=>Go(e,typeof t!="symbol"?t+"":t,n),xr=(e,t,n)=>t.has(e)||La("Cannot "+n);var ne=(e,t,n)=>(xr(e,t,"read from private field"),n?n.call(e):t.get(e)),Re=(e,t,n)=>t.has(e)?La("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),We=(e,t,n,r)=>(xr(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Tt=(e,t,n)=>(xr(e,t,"access private method"),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(a){if(a.ep)return;a.ep=!0;const s=n(a);fetch(a.href,s)}})();const ts=!1;var Jr=Array.isArray,Xo=Array.prototype.indexOf,Qr=Array.from,Br=Object.defineProperty,cn=Object.getOwnPropertyDescriptor,ns=Object.getOwnPropertyDescriptors,Zo=Object.prototype,Jo=Array.prototype,$r=Object.getPrototypeOf,Oa=Object.isExtensible;const Xe=()=>{};function Qo(e){return typeof e?.then=="function"}function $o(e){return e()}function ir(e){for(var t=0;t<e.length;t++)e[t]()}function ei(){var e,t,n=new Promise((r,a)=>{e=r,t=a});return{promise:n,resolve:e,reject:t}}function ti(e,t,n=!1){return e===void 0?n?t():t:e}const Ue=2,ea=4,vr=8,yn=16,gt=32,Vt=64,rs=128,Ge=256,lr=512,xe=1024,Ze=2048,Dt=4096,et=8192,Kt=16384,ta=32768,zn=65536,Ma=1<<17,ni=1<<18,Fn=1<<19,as=1<<20,jr=1<<21,na=1<<22,It=1<<23,Rt=Symbol("$state"),ri=Symbol("legacy props"),ai=Symbol(""),ra=new class extends Error{constructor(){super(...arguments);En(this,"name","StaleReactionError");En(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function si(){throw new Error("https://svelte.dev/e/await_outside_boundary")}function ss(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function oi(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function ii(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function li(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function ci(e){throw new Error("https://svelte.dev/e/effect_orphan")}function ui(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function di(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function fi(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function vi(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function hi(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}const hr=1,gr=2,os=4,gi=8,pi=16,_i=1,mi=2,wi=4,yi=8,bi=16,Si=1,ki=2,ye=Symbol(),Ei="http://www.w3.org/1999/xhtml";let Ci=!1;function is(e){return e===this.v}function Pi(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function ls(e){return!Pi(e,this.v)}let bn=!1,xi=!1;function Di(){bn=!0}let de=null;function pn(e){de=e}function aa(e){return cs().get(e)}function sa(e,t){return cs().set(e,t),t}function X(e,t=!1,n){de={p:de,c:null,e:null,s:e,x:null,l:bn&&!t?{s:null,u:null,$:[]}:null}}function Z(e){var t=de,n=t.e;if(n!==null){t.e=null;for(var r of n)Es(r)}return e!==void 0&&(t.x=e),de=t.p,e??{}}function Sn(){return!bn||de!==null&&de.l===null}function cs(e){return de===null&&ss(),de.c??(de.c=new Map(Ai(de)||void 0))}function Ai(e){let t=e.p;for(;t!==null;){const n=t.c;if(n!==null)return n;t=t.p}return null}const Ti=new WeakMap;function Ni(e){var t=te;if(t===null)return Q.f|=It,e;if((t.f&ta)===0){if((t.f&rs)===0)throw!t.parent&&e instanceof Error&&us(e),e;t.b.error(e)}else oa(e,t)}function oa(e,t){for(;t!==null;){if((t.f&rs)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e instanceof Error&&us(e),e}function us(e){const t=Ti.get(e);t&&(Br(e,"message",{value:t.message}),Br(e,"stack",{value:t.stack}))}let An=[],zr=[];function ds(){var e=An;An=[],ir(e)}function Li(){var e=zr;zr=[],ir(e)}function pr(e){An.length===0&&queueMicrotask(ds),An.push(e)}function Oi(){An.length>0&&ds(),zr.length>0&&Li()}function Mi(){const e=te.b;return e===null&&si(),e}function Un(e){var t=Ue|Ze,n=Q!==null&&(Q.f&Ue)!==0?Q:null;return te===null||n!==null&&(n.f&Ge)!==0?t|=Ge:te.f|=Fn,{ctx:de,deps:null,effects:null,equals:is,f:t,fn:e,reactions:null,rv:0,v:ye,wv:0,parent:n??te,ac:null}}function Ii(e,t){let n=te;n===null&&oi();var r=n.b,a=void 0,s=qt(ye),i=null,l=!Q;return Xi(()=>{try{var c=e();i&&Promise.resolve(c).catch(()=>{})}catch(g){c=Promise.reject(g)}var u=()=>c;a=i?.then(u,u)??Promise.resolve(c),i=a;var f=ue,d=r.is_pending();l&&(r.update_pending_count(1),d||f.increment());const v=(g,h=void 0)=>{i=null,d||f.activate(),h?h!==ra&&(s.f|=It,kt(s,h)):((s.f&It)!==0&&(s.f^=It),kt(s,g)),l&&(r.update_pending_count(-1),d||f.decrement()),hs()};if(a.then(v,g=>v(null,g||"unknown")),f)return()=>{queueMicrotask(()=>f.neuter())}}),new Promise(c=>{function u(f){function d(){f===a?c(s):u(a)}f.then(d,d)}u(a)})}function B(e){const t=Un(e);return Ts(t),t}function _r(e){const t=Un(e);return t.equals=ls,t}function fs(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)ct(t[n])}}function Ri(e){for(var t=e.parent;t!==null;){if((t.f&Ue)===0)return t;t=t.parent}return null}function ia(e){var t,n=te;ut(Ri(e));try{fs(e),t=Ms(e)}finally{ut(n)}return t}function vs(e){var t=ia(e);if(e.equals(t)||(e.v=t,e.wv=Ls()),!Yt){var n=(yt||(e.f&Ge)!==0)&&e.deps!==null?Dt:xe;je(e,n)}}function Bi(e,t,n){const r=Sn()?Un:_r;if(t.length===0){n(e.map(r));return}var a=ue,s=te,i=ji(),l=Mi();Promise.all(t.map(c=>Ii(c))).then(c=>{a?.activate(),i();try{n([...e.map(r),...c])}catch(u){(s.f&Kt)===0&&oa(u,s)}a?.deactivate(),hs()}).catch(c=>{l.error(c)})}function ji(){var e=te,t=Q,n=de,r=ue;return function(){ut(e),Je(t),pn(n),r?.activate()}}function hs(){ut(null),Je(null),pn(null)}const Dr=new Set;let ue=null,rr=null,Ia=new Set,cr=[];function gs(){const e=cr.shift();cr.length>0&&queueMicrotask(gs),e()}let Ut=[],mr=null,Fr=!1,ar=!1;var Mn,vn,mt,In,Rn,Ot,hn,Mt,wt,gn,Bn,jn,nt,ps,sr,Ur;const fr=class fr{constructor(){Re(this,nt);En(this,"current",new Map);Re(this,Mn,new Map);Re(this,vn,new Set);Re(this,mt,0);Re(this,In,null);Re(this,Rn,!1);Re(this,Ot,[]);Re(this,hn,[]);Re(this,Mt,[]);Re(this,wt,[]);Re(this,gn,[]);Re(this,Bn,[]);Re(this,jn,[]);En(this,"skipped_effects",new Set)}process(t){Ut=[],rr=null;for(const a of t)Tt(this,nt,ps).call(this,a);if(ne(this,Ot).length===0&&ne(this,mt)===0){Tt(this,nt,Ur).call(this);var n=ne(this,Mt),r=ne(this,wt);We(this,Mt,[]),We(this,wt,[]),We(this,gn,[]),rr=ue,ue=null,Ra(n),Ra(r),ue===null?ue=this:Dr.delete(this),ne(this,In)?.resolve()}else Tt(this,nt,sr).call(this,ne(this,Mt)),Tt(this,nt,sr).call(this,ne(this,wt)),Tt(this,nt,sr).call(this,ne(this,gn));for(const a of ne(this,Ot))fn(a);for(const a of ne(this,hn))fn(a);We(this,Ot,[]),We(this,hn,[])}capture(t,n){ne(this,Mn).has(t)||ne(this,Mn).set(t,n),this.current.set(t,t.v)}activate(){ue=this}deactivate(){ue=null,rr=null;for(const t of Ia)if(Ia.delete(t),t(),ue!==null)break}neuter(){We(this,Rn,!0)}flush(){Ut.length>0?ms():Tt(this,nt,Ur).call(this),ue===this&&(ne(this,mt)===0&&Dr.delete(this),this.deactivate())}increment(){We(this,mt,ne(this,mt)+1)}decrement(){if(We(this,mt,ne(this,mt)-1),ne(this,mt)===0){for(const t of ne(this,Bn))je(t,Ze),_n(t);for(const t of ne(this,jn))je(t,Dt),_n(t);We(this,Mt,[]),We(this,wt,[]),this.flush()}else this.deactivate()}add_callback(t){ne(this,vn).add(t)}settled(){return(ne(this,In)??We(this,In,ei())).promise}static ensure(){if(ue===null){const t=ue=new fr;Dr.add(ue),ar||fr.enqueue(()=>{ue===t&&t.flush()})}return ue}static enqueue(t){cr.length===0&&queueMicrotask(gs),cr.unshift(t)}};Mn=new WeakMap,vn=new WeakMap,mt=new WeakMap,In=new WeakMap,Rn=new WeakMap,Ot=new WeakMap,hn=new WeakMap,Mt=new WeakMap,wt=new WeakMap,gn=new WeakMap,Bn=new WeakMap,jn=new WeakMap,nt=new WeakSet,ps=function(t){t.f^=xe;for(var n=t.first;n!==null;){var r=n.f,a=(r&(gt|Vt))!==0,s=a&&(r&xe)!==0,i=s||(r&et)!==0||this.skipped_effects.has(n);if(!i&&n.fn!==null){if(a)n.f^=xe;else if((r&ea)!==0)ne(this,wt).push(n);else if((r&xe)===0)if((r&na)!==0){var l=n.b?.is_pending()?ne(this,hn):ne(this,Ot);l.push(n)}else br(n)&&((n.f&yn)!==0&&ne(this,gn).push(n),fn(n));var c=n.first;if(c!==null){n=c;continue}}var u=n.parent;for(n=n.next;n===null&&u!==null;)n=u.next,u=u.parent}},sr=function(t){for(const n of t)((n.f&Ze)!==0?ne(this,Bn):ne(this,jn)).push(n),je(n,xe);t.length=0},Ur=function(){if(!ne(this,Rn))for(const t of ne(this,vn))t();ne(this,vn).clear()};let Tn=fr;function _s(e){var t=ar;ar=!0;try{for(var n;;){if(Oi(),Ut.length===0&&(ue?.flush(),Ut.length===0))return mr=null,n;ms()}}finally{ar=t}}function ms(){var e=dn;Fr=!0;try{var t=0;for(za(!0);Ut.length>0;){var n=Tn.ensure();if(t++>1e3){var r,a;zi()}n.process(Ut),St.clear()}}finally{Fr=!1,za(e),mr=null}}function zi(){try{ui()}catch(e){oa(e,mr)}}let Lt=null;function Ra(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if((r.f&(Kt|et))===0&&br(r)&&(Lt=[],fn(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?xs(r):r.fn=null),Lt?.length>0)){St.clear();for(const a of Lt)fn(a);Lt=[]}}Lt=null}}function _n(e){for(var t=mr=e;t.parent!==null;){t=t.parent;var n=t.f;if(Fr&&t===te&&(n&yn)!==0)return;if((n&(Vt|gt))!==0){if((n&xe)===0)return;t.f^=xe}}Ut.push(t)}const St=new Map;function qt(e,t){var n={f:0,v:e,reactions:null,equals:is,rv:0,wv:0};return n}function O(e,t){const n=qt(e);return Ts(n),n}function qr(e,t=!1,n=!0){var a;const r=qt(e);return t||(r.equals=ls),bn&&n&&de!==null&&de.l!==null&&((a=de.l).s??(a.s=[])).push(r),r}function k(e,t,n=!1){Q!==null&&(!ot||(Q.f&Ma)!==0)&&Sn()&&(Q.f&(Ue|yn|na|Ma))!==0&&!vt?.includes(e)&&hi();let r=n?we(t):t;return kt(e,r)}function kt(e,t){if(!e.equals(t)){var n=e.v;Yt?St.set(e,t):St.set(e,n),e.v=t;var r=Tn.ensure();r.capture(e,n),(e.f&Ue)!==0&&((e.f&Ze)!==0&&ia(e),je(e,(e.f&Ge)===0?xe:Dt)),e.wv=Ls(),ws(e,Ze),Sn()&&te!==null&&(te.f&xe)!==0&&(te.f&(gt|Vt))===0&&(Ye===null?Qi([e]):Ye.push(e))}return t}function Ar(e){k(e,e.v+1)}function ws(e,t){var n=e.reactions;if(n!==null)for(var r=Sn(),a=n.length,s=0;s<a;s++){var i=n[s],l=i.f;if(!(!r&&i===te)){var c=(l&Ze)===0;c&&je(i,t),(l&Ue)!==0?ws(i,Dt):c&&((l&yn)!==0&&Lt!==null&&Lt.push(i),_n(i))}}}function we(e){if(typeof e!="object"||e===null||Rt in e)return e;const t=$r(e);if(t!==Zo&&t!==Jo)return e;var n=new Map,r=Jr(e),a=O(0),s=jt,i=l=>{if(jt===s)return l();var c=Q,u=jt;Je(null),Ua(s);var f=l();return Je(c),Ua(u),f};return r&&n.set("length",O(e.length)),new Proxy(e,{defineProperty(l,c,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&fi();var f=n.get(c);return f===void 0?f=i(()=>{var d=O(u.value);return n.set(c,d),d}):k(f,u.value,!0),!0},deleteProperty(l,c){var u=n.get(c);if(u===void 0){if(c in l){const f=i(()=>O(ye));n.set(c,f),Ar(a)}}else k(u,ye),Ar(a);return!0},get(l,c,u){if(c===Rt)return e;var f=n.get(c),d=c in l;if(f===void 0&&(!d||cn(l,c)?.writable)&&(f=i(()=>{var g=we(d?l[c]:ye),h=O(g);return h}),n.set(c,f)),f!==void 0){var v=o(f);return v===ye?void 0:v}return Reflect.get(l,c,u)},getOwnPropertyDescriptor(l,c){var u=Reflect.getOwnPropertyDescriptor(l,c);if(u&&"value"in u){var f=n.get(c);f&&(u.value=o(f))}else if(u===void 0){var d=n.get(c),v=d?.v;if(d!==void 0&&v!==ye)return{enumerable:!0,configurable:!0,value:v,writable:!0}}return u},has(l,c){if(c===Rt)return!0;var u=n.get(c),f=u!==void 0&&u.v!==ye||Reflect.has(l,c);if(u!==void 0||te!==null&&(!f||cn(l,c)?.writable)){u===void 0&&(u=i(()=>{var v=f?we(l[c]):ye,g=O(v);return g}),n.set(c,u));var d=o(u);if(d===ye)return!1}return f},set(l,c,u,f){var d=n.get(c),v=c in l;if(r&&c==="length")for(var g=u;g<d.v;g+=1){var h=n.get(g+"");h!==void 0?k(h,ye):g in l&&(h=i(()=>O(ye)),n.set(g+"",h))}if(d===void 0)(!v||cn(l,c)?.writable)&&(d=i(()=>O(void 0)),k(d,we(u)),n.set(c,d));else{v=d.v!==ye;var b=i(()=>we(u));k(d,b)}var w=Reflect.getOwnPropertyDescriptor(l,c);if(w?.set&&w.set.call(f,u),!v){if(r&&typeof c=="string"){var E=n.get("length"),S=Number(c);Number.isInteger(S)&&S>=E.v&&k(E,S+1)}Ar(a)}return!0},ownKeys(l){o(a);var c=Reflect.ownKeys(l).filter(d=>{var v=n.get(d);return v===void 0||v.v!==ye});for(var[u,f]of n)f.v!==ye&&!(u in l)&&c.push(u);return c},setPrototypeOf(){vi()}})}var Ba,ys,bs,Ss;function Fi(){if(Ba===void 0){Ba=window,ys=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;bs=cn(t,"firstChild").get,Ss=cn(t,"nextSibling").get,Oa(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Oa(n)&&(n.__t=void 0)}}function Wt(e=""){return document.createTextNode(e)}function mn(e){return bs.call(e)}function wr(e){return Ss.call(e)}function y(e,t){return mn(e)}function L(e,t){{var n=mn(e);return n instanceof Comment&&n.data===""?wr(n):n}}function D(e,t=1,n=!1){let r=e;for(;t--;)r=wr(r);return r}function Ui(e){e.textContent=""}function la(){return!1}let ja=!1;function qi(){ja||(ja=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function yr(e){var t=Q,n=te;Je(null),ut(null);try{return e()}finally{Je(t),ut(n)}}function Hi(e,t,n,r=n){e.addEventListener(t,()=>yr(n));const a=e.__on_r;a?e.__on_r=()=>{a(),r(!0)}:e.__on_r=()=>r(!0),qi()}function ks(e){te===null&&Q===null&&ci(),Q!==null&&(Q.f&Ge)!==0&&te===null&&li(),Yt&&ii()}function Vi(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function dt(e,t,n,r=!0){var a=te;a!==null&&(a.f&et)!==0&&(e|=et);var s={ctx:de,deps:null,nodes_start:null,nodes_end:null,f:e|Ze,first:null,fn:t,last:null,next:null,parent:a,b:a&&a.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{fn(s),s.f|=ta}catch(c){throw ct(s),c}else t!==null&&_n(s);if(r){var i=s;if(n&&i.deps===null&&i.teardown===null&&i.nodes_start===null&&i.first===i.last&&(i.f&Fn)===0&&(i=i.first),i!==null&&(i.parent=a,a!==null&&Vi(i,a),Q!==null&&(Q.f&Ue)!==0&&(e&Vt)===0)){var l=Q;(l.effects??(l.effects=[])).push(i)}}return s}function Ki(e){const t=dt(vr,null,!1);return je(t,xe),t.teardown=e,t}function Ce(e){ks();var t=te.f,n=!Q&&(t&gt)!==0&&(t&ta)===0;if(n){var r=de;(r.e??(r.e=[])).push(e)}else return Es(e)}function Es(e){return dt(ea|as,e,!1)}function Wi(e){return ks(),dt(vr|as,e,!0)}function Yi(e){Tn.ensure();const t=dt(Vt|Fn,e,!0);return(n={})=>new Promise(r=>{n.outro?Bt(t,()=>{ct(t),r(void 0)}):(ct(t),r(void 0))})}function Gi(e){return dt(ea,e,!1)}function Xi(e){return dt(na|Fn,e,!0)}function ca(e,t=0){return dt(vr|t,e,!0)}function ie(e,t=[],n=[]){Bi(t,n,r=>{dt(vr,()=>e(...r.map(o)),!0)})}function qn(e,t=0){var n=dt(yn|t,e,!0);return n}function lt(e,t=!0){return dt(gt|Fn,e,!0,t)}function Cs(e){var t=e.teardown;if(t!==null){const n=Yt,r=Q;Fa(!0),Je(null);try{t.call(null)}finally{Fa(n),Je(r)}}}function Ps(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const a=n.ac;a!==null&&yr(()=>{a.abort(ra)});var r=n.next;(n.f&Vt)!==0?n.parent=null:ct(n,t),n=r}}function Zi(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&gt)===0&&ct(t),t=n}}function ct(e,t=!0){var n=!1;(t||(e.f&ni)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(Ji(e.nodes_start,e.nodes_end),n=!0),Ps(e,t&&!n),ur(e,0),je(e,Kt);var r=e.transitions;if(r!==null)for(const s of r)s.stop();Cs(e);var a=e.parent;a!==null&&a.first!==null&&xs(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function Ji(e,t){for(;e!==null;){var n=e===t?null:wr(e);e.remove(),e=n}}function xs(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function Bt(e,t){var n=[];ua(e,n,!0),Ds(n,()=>{ct(e),t&&t()})}function Ds(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var a of e)a.out(r)}else t()}function ua(e,t,n){if((e.f&et)===0){if(e.f^=et,e.transitions!==null)for(const i of e.transitions)(i.is_global||n)&&t.push(i);for(var r=e.first;r!==null;){var a=r.next,s=(r.f&zn)!==0||(r.f&gt)!==0;ua(r,t,s?n:!1),r=a}}}function un(e){As(e,!0)}function As(e,t){if((e.f&et)!==0){e.f^=et,(e.f&xe)===0&&(je(e,Ze),_n(e));for(var n=e.first;n!==null;){var r=n.next,a=(n.f&zn)!==0||(n.f&gt)!==0;As(n,a?t:!1),n=r}if(e.transitions!==null)for(const s of e.transitions)(s.is_global||t)&&s.in()}}let dn=!1;function za(e){dn=e}let Yt=!1;function Fa(e){Yt=e}let Q=null,ot=!1;function Je(e){Q=e}let te=null;function ut(e){te=e}let vt=null;function Ts(e){Q!==null&&(vt===null?vt=[e]:vt.push(e))}let Te=null,Fe=0,Ye=null;function Qi(e){Ye=e}let Ns=1,Nn=0,jt=Nn;function Ua(e){jt=e}let yt=!1;function Ls(){return++Ns}function br(e){var t=e.f;if((t&Ze)!==0)return!0;if((t&Dt)!==0){var n=e.deps,r=(t&Ge)!==0;if(n!==null){var a,s,i=(t&lr)!==0,l=r&&te!==null&&!yt,c=n.length;if((i||l)&&(te===null||(te.f&Kt)===0)){var u=e,f=u.parent;for(a=0;a<c;a++)s=n[a],(i||!s?.reactions?.includes(u))&&(s.reactions??(s.reactions=[])).push(u);i&&(u.f^=lr),l&&f!==null&&(f.f&Ge)===0&&(u.f^=Ge)}for(a=0;a<c;a++)if(s=n[a],br(s)&&vs(s),s.wv>e.wv)return!0}(!r||te!==null&&!yt)&&je(e,xe)}return!1}function Os(e,t,n=!0){var r=e.reactions;if(r!==null&&!vt?.includes(e))for(var a=0;a<r.length;a++){var s=r[a];(s.f&Ue)!==0?Os(s,t,!1):t===s&&(n?je(s,Ze):(s.f&xe)!==0&&je(s,Dt),_n(s))}}function Ms(e){var b;var t=Te,n=Fe,r=Ye,a=Q,s=yt,i=vt,l=de,c=ot,u=jt,f=e.f;Te=null,Fe=0,Ye=null,yt=(f&Ge)!==0&&(ot||!dn||Q===null),Q=(f&(gt|Vt))===0?e:null,vt=null,pn(e.ctx),ot=!1,jt=++Nn,e.ac!==null&&(yr(()=>{e.ac.abort(ra)}),e.ac=null);try{e.f|=jr;var d=e.fn,v=d(),g=e.deps;if(Te!==null){var h;if(ur(e,Fe),g!==null&&Fe>0)for(g.length=Fe+Te.length,h=0;h<Te.length;h++)g[Fe+h]=Te[h];else e.deps=g=Te;if(!yt||(f&Ue)!==0&&e.reactions!==null)for(h=Fe;h<g.length;h++)((b=g[h]).reactions??(b.reactions=[])).push(e)}else g!==null&&Fe<g.length&&(ur(e,Fe),g.length=Fe);if(Sn()&&Ye!==null&&!ot&&g!==null&&(e.f&(Ue|Dt|Ze))===0)for(h=0;h<Ye.length;h++)Os(Ye[h],e);return a!==null&&a!==e&&(Nn++,Ye!==null&&(r===null?r=Ye:r.push(...Ye))),(e.f&It)!==0&&(e.f^=It),v}catch(w){return Ni(w)}finally{e.f^=jr,Te=t,Fe=n,Ye=r,Q=a,yt=s,vt=i,pn(l),ot=c,jt=u}}function $i(e,t){let n=t.reactions;if(n!==null){var r=Xo.call(n,e);if(r!==-1){var a=n.length-1;a===0?n=t.reactions=null:(n[r]=n[a],n.pop())}}n===null&&(t.f&Ue)!==0&&(Te===null||!Te.includes(t))&&(je(t,Dt),(t.f&(Ge|lr))===0&&(t.f^=lr),fs(t),ur(t,0))}function ur(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)$i(e,n[r])}function fn(e){var t=e.f;if((t&Kt)===0){je(e,xe);var n=te,r=dn;te=e,dn=!0;try{(t&yn)!==0?Zi(e):Ps(e),Cs(e);var a=Ms(e);e.teardown=typeof a=="function"?a:null,e.wv=Ns;var s;ts&&xi&&(e.f&Ze)!==0&&e.deps}finally{dn=r,te=n}}}async function Is(){await Promise.resolve(),_s()}function o(e){var t=e.f,n=(t&Ue)!==0;if(Q!==null&&!ot){var r=te!==null&&(te.f&Kt)!==0;if(!r&&!vt?.includes(e)){var a=Q.deps;if((Q.f&jr)!==0)e.rv<Nn&&(e.rv=Nn,Te===null&&a!==null&&a[Fe]===e?Fe++:Te===null?Te=[e]:(!yt||!Te.includes(e))&&Te.push(e));else{(Q.deps??(Q.deps=[])).push(e);var s=e.reactions;s===null?e.reactions=[Q]:s.includes(Q)||s.push(Q)}}}else if(n&&e.deps===null&&e.effects===null){var i=e,l=i.parent;l!==null&&(l.f&Ge)===0&&(i.f^=Ge)}if(Yt){if(St.has(e))return St.get(e);if(n){i=e;var c=i.v;return((i.f&xe)===0&&i.reactions!==null||Rs(i))&&(c=ia(i)),St.set(i,c),c}}else n&&(i=e,br(i)&&vs(i));if((e.f&It)!==0)throw e.v;return e.v}function Rs(e){if(e.v===ye)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(St.has(t)||(t.f&Ue)!==0&&Rs(t))return!0;return!1}function Ht(e){var t=ot;try{return ot=!0,e()}finally{ot=t}}const el=-7169;function je(e,t){e.f=e.f&el|t}function tl(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Rt in e)Hr(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&Rt in n&&Hr(n)}}}function Hr(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{Hr(e[r],t)}catch{}const n=$r(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=ns(n);for(let a in r){const s=r[a].get;if(s)try{s.call(e)}catch{}}}}}const nl=["touchstart","touchmove"];function rl(e){return nl.includes(e)}const Bs=new Set,Vr=new Set;function al(e,t,n,r={}){function a(s){if(r.capture||Cn.call(t,s),!s.cancelBubble)return yr(()=>n?.call(this,s))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?pr(()=>{t.addEventListener(e,a,r)}):t.addEventListener(e,a,r),a}function da(e,t,n,r,a){var s={capture:r,passive:a},i=al(e,t,n,s);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&Ki(()=>{t.removeEventListener(e,i,s)})}function Ae(e){for(var t=0;t<e.length;t++)Bs.add(e[t]);for(var n of Vr)n(e)}let qa=null;function Cn(e){var t=this,n=t.ownerDocument,r=e.type,a=e.composedPath?.()||[],s=a[0]||e.target;qa=e;var i=0,l=qa===e&&e.__root;if(l){var c=a.indexOf(l);if(c!==-1&&(t===document||t===window)){e.__root=t;return}var u=a.indexOf(t);if(u===-1)return;c<=u&&(i=c)}if(s=a[i]||e.target,s!==t){Br(e,"currentTarget",{configurable:!0,get(){return s||n}});var f=Q,d=te;Je(null),ut(null);try{for(var v,g=[];s!==null;){var h=s.assignedSlot||s.parentNode||s.host||null;try{var b=s["__"+r];if(b!=null&&(!s.disabled||e.target===s))if(Jr(b)){var[w,...E]=b;w.apply(s,[e,...E])}else b.call(s,e)}catch(S){v?g.push(S):v=S}if(e.cancelBubble||h===t||h===null)break;s=h}if(v){for(let S of g)queueMicrotask(()=>{throw S});throw v}}finally{e.__root=t,delete e.currentTarget,Je(f),ut(d)}}}function js(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function Ln(e,t){var n=te;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function M(e,t){var n=(t&Si)!==0,r=(t&ki)!==0,a,s=!e.startsWith("<!>");return()=>{a===void 0&&(a=js(s?e:"<!>"+e),n||(a=mn(a)));var i=r||ys?document.importNode(a,!0):a.cloneNode(!0);if(n){var l=mn(i),c=i.lastChild;Ln(l,c)}else Ln(i,i);return i}}function sl(e,t,n="svg"){var r=!e.startsWith("<!>"),a=`<${n}>${r?e:"<!>"+e}</${n}>`,s;return()=>{if(!s){var i=js(a),l=mn(i);s=mn(l)}var c=s.cloneNode(!0);return Ln(c,c),c}}function ol(e,t){return sl(e,t,"svg")}function Pe(e=""){{var t=Wt(e+"");return Ln(t,t),t}}function W(){var e=document.createDocumentFragment(),t=document.createComment(""),n=Wt();return e.append(t,n),Ln(t,n),e}function m(e,t){e!==null&&e.before(t)}function kd(){var e;return(e=window.__svelte??(window.__svelte={})).uid??(e.uid=1),`c${window.__svelte.uid++}`}function wn(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function il(e,t){return ll(e,t)}const sn=new Map;function ll(e,{target:t,anchor:n,props:r={},events:a,context:s,intro:i=!0}){Fi();var l=new Set,c=d=>{for(var v=0;v<d.length;v++){var g=d[v];if(!l.has(g)){l.add(g);var h=rl(g);t.addEventListener(g,Cn,{passive:h});var b=sn.get(g);b===void 0?(document.addEventListener(g,Cn,{passive:h}),sn.set(g,1)):sn.set(g,b+1)}}};c(Qr(Bs)),Vr.add(c);var u=void 0,f=Yi(()=>{var d=n??t.appendChild(Wt());return lt(()=>{if(s){X({});var v=de;v.c=s}a&&(r.$$events=a),u=e(d,r)||{},s&&Z()}),()=>{for(var v of l){t.removeEventListener(v,Cn);var g=sn.get(v);--g===0?(document.removeEventListener(v,Cn),sn.delete(v)):sn.set(v,g)}Vr.delete(c),d!==n&&d.parentNode?.removeChild(d)}});return cl.set(u,f),u}let cl=new WeakMap;const Tr=0,er=1,Nr=2;function zs(e,t,n,r,a){var s=e,i=Sn(),l=de,c=ye,u,f,d,v=i?qt(void 0):qr(void 0,!1,!1),g=i?qt(void 0):qr(void 0,!1,!1),h=!1;function b(E,S){h=!0,S&&(ut(w),Je(w),pn(l));try{E===Tr&&n&&(u?un(u):u=lt(()=>n(s))),E===er&&r&&(f?un(f):f=lt(()=>r(s,v))),E===Nr&&a&&(d?un(d):d=lt(()=>a(s,g))),E!==Tr&&u&&Bt(u,()=>u=null),E!==er&&f&&Bt(f,()=>f=null),E!==Nr&&d&&Bt(d,()=>d=null)}finally{S&&(pn(null),Je(null),ut(null),_s())}}var w=qn(()=>{if(c!==(c=t())){if(Qo(c)){var E=c;h=!1,E.then(S=>{E===c&&(kt(v,S),b(er,!0))},S=>{if(E===c&&(kt(g,S),b(Nr,!0),!a))throw g.v}),pr(()=>{h||b(Tr,!0)})}else kt(v,c),b(er,!1);return()=>c=ye}})}function R(e,t,n=!1){var r=e,a=null,s=null,i=ye,l=n?zn:0,c=!1;const u=(g,h=!0)=>{c=!0,v(h,g)};var f=null;function d(){f!==null&&(f.lastChild.remove(),r.before(f),f=null);var g=i?a:s,h=i?s:a;g&&un(g),h&&Bt(h,()=>{i?s=null:a=null})}const v=(g,h)=>{if(i!==(i=g)){var b=la(),w=r;if(b&&(f=document.createDocumentFragment(),f.append(w=Wt())),i?a??(a=h&&lt(()=>h(w))):s??(s=h&&lt(()=>h(w))),b){var E=ue,S=i?a:s,_=i?s:a;S&&E.skipped_effects.delete(S),_&&E.skipped_effects.add(_),E.add_callback(d)}else d()}};qn(()=>{c=!1,t(u),c||v(null,null)},l)}function le(e,t){ca(()=>{var n=t();for(var r in n){var a=n[r];a?e.style.setProperty(r,a):e.style.removeProperty(r)}})}function ul(e,t,n){for(var r=e.items,a=[],s=t.length,i=0;i<s;i++)ua(t[i].e,a,!0);var l=s>0&&a.length===0&&n!==null;if(l){var c=n.parentNode;Ui(c),c.append(n),r.clear(),st(e,t[0].prev,t[s-1].next)}Ds(a,()=>{for(var u=0;u<s;u++){var f=t[u];l||(r.delete(f.k),st(e,f.prev,f.next)),ct(f.e,!l)}})}function ln(e,t,n,r,a,s=null){var i=e,l={flags:t,items:new Map,first:null},c=(t&os)!==0;if(c){var u=e;i=u.appendChild(Wt())}var f=null,d=!1,v=new Map,g=_r(()=>{var E=n();return Jr(E)?E:E==null?[]:Qr(E)}),h,b;function w(){dl(b,h,l,v,i,a,t,r,n),s!==null&&(h.length===0?f?un(f):f=lt(()=>s(i)):f!==null&&Bt(f,()=>{f=null}))}qn(()=>{b??(b=te),h=o(g);var E=h.length;if(!(d&&E===0)){d=E===0;var S,_,C,P;if(la()){var p=new Set,x=ue;for(_=0;_<E;_+=1){C=h[_],P=r(C,_);var T=l.items.get(P)??v.get(P);T?(t&(hr|gr))!==0&&Fs(T,C,_,t):(S=Us(null,l,null,null,C,P,_,a,t,n,!0),v.set(P,S)),p.add(P)}for(const[F,J]of l.items)p.has(F)||x.skipped_effects.add(J.e);x.add_callback(w)}else w();o(g)}})}function dl(e,t,n,r,a,s,i,l,c){var u=(i&gi)!==0,f=(i&(hr|gr))!==0,d=t.length,v=n.items,g=n.first,h=g,b,w=null,E,S=[],_=[],C,P,p,x;if(u)for(x=0;x<d;x+=1)C=t[x],P=l(C,x),p=v.get(P),p!==void 0&&(p.a?.measure(),(E??(E=new Set)).add(p));for(x=0;x<d;x+=1){if(C=t[x],P=l(C,x),p=v.get(P),p===void 0){var T=r.get(P);if(T!==void 0){r.delete(P),v.set(P,T);var F=w?w.next:h;st(n,w,T),st(n,T,F),Lr(T,F,a),w=T}else{var J=h?h.e.nodes_start:a;w=Us(J,n,w,w===null?n.first:w.next,C,P,x,s,i,c)}v.set(P,w),S=[],_=[],h=w.next;continue}if(f&&Fs(p,C,x,i),(p.e.f&et)!==0&&(un(p.e),u&&(p.a?.unfix(),(E??(E=new Set)).delete(p))),p!==h){if(b!==void 0&&b.has(p)){if(S.length<_.length){var q=_[0],z;w=q.prev;var H=S[0],I=S[S.length-1];for(z=0;z<S.length;z+=1)Lr(S[z],q,a);for(z=0;z<_.length;z+=1)b.delete(_[z]);st(n,H.prev,I.next),st(n,w,H),st(n,I,q),h=q,w=I,x-=1,S=[],_=[]}else b.delete(p),Lr(p,h,a),st(n,p.prev,p.next),st(n,p,w===null?n.first:w.next),st(n,w,p),w=p;continue}for(S=[],_=[];h!==null&&h.k!==P;)(h.e.f&et)===0&&(b??(b=new Set)).add(h),_.push(h),h=h.next;if(h===null)continue;p=h}S.push(p),w=p,h=p.next}if(h!==null||b!==void 0){for(var K=b===void 0?[]:Qr(b);h!==null;)(h.e.f&et)===0&&K.push(h),h=h.next;var oe=K.length;if(oe>0){var Y=(i&os)!==0&&d===0?a:null;if(u){for(x=0;x<oe;x+=1)K[x].a?.measure();for(x=0;x<oe;x+=1)K[x].a?.fix()}ul(n,K,Y)}}u&&pr(()=>{if(E!==void 0)for(p of E)p.a?.apply()}),e.first=n.first&&n.first.e,e.last=w&&w.e;for(var V of r.values())ct(V.e);r.clear()}function Fs(e,t,n,r){(r&hr)!==0&&kt(e.v,t),(r&gr)!==0?kt(e.i,n):e.i=n}function Us(e,t,n,r,a,s,i,l,c,u,f){var d=(c&hr)!==0,v=(c&pi)===0,g=d?v?qr(a,!1,!1):qt(a):a,h=(c&gr)===0?i:qt(i),b={i:h,v:g,k:s,a:null,e:null,prev:n,next:r};try{if(e===null){var w=document.createDocumentFragment();w.append(e=Wt())}return b.e=lt(()=>l(e,g,h,u),Ci),b.e.prev=n&&n.e,b.e.next=r&&r.e,n===null?f||(t.first=b):(n.next=b,n.e.next=b.e),r!==null&&(r.prev=b,r.e.prev=b.e),b}finally{}}function Lr(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,a=t?t.e.nodes_start:n,s=e.e.nodes_start;s!==null&&s!==r;){var i=wr(s);a.before(s),s=i}}function st(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function De(e,t,...n){var r=e,a=Xe,s;qn(()=>{a!==(a=t())&&(s&&(ct(s),s=null),s=lt(()=>a(r,...n)))},zn)}function qs(e,t,n){var r=e,a,s,i=null,l=null;function c(){s&&(Bt(s),s=null),i&&(i.lastChild.remove(),r.before(i),i=null),s=l,l=null}qn(()=>{if(a!==(a=t())){var u=la();if(a){var f=r;u&&(i=document.createDocumentFragment(),i.append(f=Wt()),s&&ue.skipped_effects.add(s)),l=lt(()=>n(f,a))}u?ue.add_callback(c):c()}},zn)}function Hs(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=Hs(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function fl(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=Hs(e))&&(r&&(r+=" "),r+=t);return r}function $(e){return typeof e=="object"?fl(e):e??""}const Ha=[...` 	
\r\f \v\uFEFF`];function vl(e,t,n){var r=e==null?"":""+e;if(t&&(r=r?r+" "+t:t),n){for(var a in n)if(n[a])r=r?r+" "+a:a;else if(r.length)for(var s=a.length,i=0;(i=r.indexOf(a,i))>=0;){var l=i+s;(i===0||Ha.includes(r[i-1]))&&(l===r.length||Ha.includes(r[l]))?r=(i===0?"":r.substring(0,i))+r.substring(l+1):i=l}}return r===""?null:r}function hl(e,t){return e==null?null:String(e)}function ee(e,t,n,r,a,s){var i=e.__className;if(i!==n||i===void 0){var l=vl(n,r,s);l==null?e.removeAttribute("class"):e.className=l,e.__className=n}else if(s&&a!==s)for(var c in s){var u=!!s[c];(a==null||u!==!!a[c])&&e.classList.toggle(c,u)}return s}function On(e,t,n,r){var a=e.__style;if(a!==t){var s=hl(t);s==null?e.removeAttribute("style"):e.style.cssText=s,e.__style=t}return r}const gl=Symbol("is custom element"),pl=Symbol("is html");function Or(e,t){var n=fa(e);n.value===(n.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function or(e,t){var n=fa(e);n.checked!==(n.checked=t??void 0)&&(e.checked=t)}function _e(e,t,n,r){var a=fa(e);a[t]!==(a[t]=n)&&(t==="loading"&&(e[ai]=n),n==null?e.removeAttribute(t):typeof n!="string"&&_l(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function fa(e){return e.__attributes??(e.__attributes={[gl]:e.nodeName.includes("-"),[pl]:e.namespaceURI===Ei})}var Va=new Map;function _l(e){var t=e.getAttribute("is")||e.nodeName,n=Va.get(t);if(n)return n;Va.set(t,n=[]);for(var r,a=e,s=Element.prototype;s!==a;){r=ns(a);for(var i in r)r[i].set&&n.push(i);a=$r(a)}return n}function ml(e,t,n=t){var r=new WeakSet;Hi(e,"input",async a=>{var s=a?e.defaultValue:e.value;if(s=Mr(e)?Ir(s):s,n(s),ue!==null&&r.add(ue),await Is(),s!==(s=t())){var i=e.selectionStart,l=e.selectionEnd;e.value=s??"",l!==null&&(e.selectionStart=i,e.selectionEnd=Math.min(l,e.value.length))}}),Ht(t)==null&&e.value&&(n(Mr(e)?Ir(e.value):e.value),ue!==null&&r.add(ue)),ca(()=>{var a=t();if(e===document.activeElement){var s=rr??ue;if(r.has(s))return}Mr(e)&&a===Ir(e.value)||e.type==="date"&&!a&&!e.value||a!==e.value&&(e.value=a??"")})}function Mr(e){var t=e.type;return t==="number"||t==="range"}function Ir(e){return e===""?null:+e}function Ka(e,t){return e===t||e?.[Rt]===t}function rt(e={},t,n,r){return Gi(()=>{var a,s;return ca(()=>{a=s,s=[],Ht(()=>{e!==n(...s)&&(t(e,...s),a&&Ka(n(...a),e)&&t(null,...a))})}),()=>{pr(()=>{s&&Ka(n(...s),e)&&t(null,...s)})}}),e}function Hn(e=!1){const t=de,n=t.l.u;if(!n)return;let r=()=>tl(t.s);if(e){let a=0,s={};const i=Un(()=>{let l=!1;const c=t.s;for(const u in c)c[u]!==s[u]&&(s[u]=c[u],l=!0);return l&&a++,a});r=()=>o(i)}n.b.length&&Wi(()=>{Wa(t,r),ir(n.b)}),Ce(()=>{const a=Ht(()=>n.m.map($o));return()=>{for(const s of a)typeof s=="function"&&s()}}),n.a.length&&Ce(()=>{Wa(t,r),ir(n.a)})}function Wa(e,t){if(e.l.s)for(const n of e.l.s)o(n);t()}let tr=!1;function wl(e){var t=tr;try{return tr=!1,[e(),tr]}finally{tr=t}}function ae(e,t,n,r){var a=!bn||(n&mi)!==0,s=(n&yi)!==0,i=(n&bi)!==0,l=r,c=!0,u=()=>(c&&(c=!1,l=i?Ht(r):r),l),f;if(s){var d=Rt in e||ri in e;f=cn(e,t)?.set??(d&&t in e?_=>e[t]=_:void 0)}var v,g=!1;s?[v,g]=wl(()=>e[t]):v=e[t],v===void 0&&r!==void 0&&(v=u(),f&&(a&&di(),f(v)));var h;if(a?h=()=>{var _=e[t];return _===void 0?u():(c=!0,_)}:h=()=>{var _=e[t];return _!==void 0&&(l=void 0),_===void 0?l:_},a&&(n&wi)===0)return h;if(f){var b=e.$$legacy;return(function(_,C){return arguments.length>0?((!a||!C||b||g)&&f(C?h():_),_):h()})}var w=!1,E=((n&_i)!==0?Un:_r)(()=>(w=!1,h()));s&&o(E);var S=te;return(function(_,C){if(arguments.length>0){const P=C?o(E):a&&s?we(_):_;return k(E,P),w=!0,l!==void 0&&(l=P),_}return Yt&&w||(S.f&Kt)!==0?E.v:o(E)})}function he(e){de===null&&ss(),bn&&de.l!==null?yl(de).m.push(e):Ce(()=>{const t=Ht(e);if(typeof t=="function")return t})}function yl(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const bl="5";var es;typeof window<"u"&&((es=window.__svelte??(window.__svelte={})).v??(es.v=new Set)).add(bl);Di();const Vs={},Sl=()=>({working:!1,swipingRatio:1,isSwiping:!1,duration:.35});function kl(e){sa(Vs,e)}function Vn(){const e=aa(Vs);if(!e)throw new Error("No AnimationSettingsContext found");return e}function El(e,t){X(t,!0);let n=we(Sl());kl(n);var r=W(),a=L(r);De(a,()=>t.children??Xe),m(e,r),Z()}const Ks={};function Cl(e){sa(Ks,e)}function Ws(){const e=aa(Ks);if(!e)throw new Error("No ScrollingContext found");return e}const Pl=(e,t)=>{let n=null;return()=>{n&&clearTimeout(n),n=setTimeout(()=>{n=null,e()},t)}};async function va(){if(navigator.storage&&navigator.storage.persist)try{await navigator.storage.persisted()||await navigator.storage.persist()}catch{console.error("")}}function xl(e,t){X(t,!0);let n=O(!1);const r=()=>o(n),a=Pl(()=>{k(n,!1)},100);Cl({isScrolling:r,enable:()=>{k(n,!0),a()}});var i=W(),l=L(i);De(l,()=>t.children??Xe),m(e,i),Z()}const Ys={};function Dl(e){sa(Ys,e)}function kn(){const e=aa(Ys);if(!e)throw new Error("No MobileSizeContext found");return e}const Al=(e,t,n={})=>{let r=null;return()=>{r||(e(),r=setTimeout(()=>{if(r=null,n.trailing){e();return}},t))}};function Tl(e,t){X(t,!0);const n=()=>window.matchMedia("(max-width: 767px)").matches;let r=O(we(n()));const a=Al(()=>{k(r,n(),!0)},16,{trailing:!0}),s=()=>o(r);Dl({checkMobileSize:s}),he(()=>(window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)));var i={checkMobileSize:s},l=W(),c=L(l);return De(c,()=>t.children??Xe),m(e,l),Z(i)}function Nl(e,t){El(e,{children:(n,r)=>{xl(n,{children:(a,s)=>{Tl(a,{children:(i,l)=>{var c=W(),u=L(c);De(u,()=>t.children??Xe),m(i,c)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})}let _t=O(""),Nt=O(null),Pn=O(null),xn=O(null);function Sr(e,t){k(_t,""),setTimeout(()=>{k(_t,e,!0),t?.onFinish&&k(Pn,t.onFinish,!0),t?.onCancel&&k(xn,t.onCancel,!0)},16)}const Ll=(e,t,n,r,a)=>{e.preventDefault(),o(t)&&(k(n,null),o(t)(),k(t,null)),k(r,""),o(a)?.style.removeProperty("opacity")};var Ol=M('<button type="button" class="undoButton svelte-3lvuck">undo</button>'),Ml=M('<div class="notification svelte-3lvuck"><span> </span> <!></div>'),Il=M("<div><!></div>");function Rl(e,t){X(t,!0),Ce(()=>{o(_t);const s=o(xn)?2e3:800;o(_t)&&(o(Nt)?.getBoundingClientRect(),o(Nt)?.style.setProperty("opacity","1"));const i=setTimeout(()=>{o(Nt)?.style.removeProperty("opacity")},s),l=setTimeout(()=>{k(_t,""),o(Pn)&&o(Pn)(),k(Pn,null),k(xn,null),o(Nt)?.style.removeProperty("opacity")},s+400);return()=>{clearTimeout(i),clearTimeout(l)}});var n=Il(),r=y(n);{var a=s=>{var i=Ml(),l=y(i),c=y(l),u=D(l,2);{var f=d=>{var v=Ol();v.__click=[Ll,xn,Pn,_t,Nt],m(d,v)};R(u,d=>{o(xn)&&d(f)})}rt(i,d=>k(Nt,d),()=>o(Nt)),ie(()=>wn(c,o(_t))),m(s,i)};R(r,s=>{o(_t)&&s(a)})}m(e,n),Z()}Ae(["click"]);var Bl=M('<span class="vh svelte-14jjkpd"><!></span>');function tt(e,t){var n=Bl(),r=y(n);De(r,()=>t.children),m(e,n)}var jl=ol('<svg class="svelte-gv09tg"><use></use></svg>');function fe(e,t){let n=ae(t,"name",8,"");var r=jl(),a=y(r);ie(()=>_e(a,"href",`#icon-${n()??""}`)),m(e,r)}const Gs=(e,t)=>{if(!t)return e;if(t.type==="closed")return{type:"closed"};switch(e.type){case"opened":return t.type==="close"?{type:"closing"}:t.type==="swipe"?{type:"openSwiping"}:e;case"closed":return t.type==="open"?{type:"opening"}:t.type==="swipe"?{type:"closeSwiping"}:e;case"openSwiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"closeSwiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"opening":return t.type==="opened"?{type:"opened"}:e;default:return e}};let Kr=O(we(Gs({type:"closed"})));const Xs=e=>{k(Kr,Gs(o(Kr),e),!0)},zl=()=>o(Kr),Fl=()=>{Xs({type:"open"})},Ul=()=>{Xs({type:"close"})},ql=()=>{const e=zl().type;e==="closed"?Fl():e==="opened"&&Ul()};var Hl=M('<button class="buttonMenu svelte-hxzs42"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>');function Zs(e,t){X(t,!1),Hn();var n=Hl();n.__click=[ql];var r=y(n);le(r,()=>({"--size":"36px"})),fe(r.lastChild,{name:"sidebarMenu"});var a=D(r,2);tt(a,{children:(s,i)=>{var l=Pe("Menu");m(s,l)}}),m(e,n),Z()}Ae(["click"]);var Vl=(e,t)=>t.onChange?.(e.target?.value||""),Kl=M('<input class="svelte-krv4jy"/>');function Wr(e,t){X(t,!0);let n=ae(t,"value",15,"");var r=Kl();r.__input=[Vl,t],ie(()=>_e(r,"placeholder",t.placeholder)),da("focus",r,function(...a){t.onFocus?.apply(this,a)}),ml(r,n),m(e,r),Z()}Ae(["input"]);const A=we({historyStack:[],pathname:window.location.pathname,search:window.location.search,historyLength:0});let Js=O(we(new URLSearchParams(A.search).get("feedOrder")||"newest"));const Qs=()=>o(Js),Wl=e=>{k(Js,e,!0);const t=new URLSearchParams(A.search);e==="newest"?t.delete("feedOrder"):t.set("feedOrder",e),ht(`${A.pathname}${t.size>0?`?${t.toString()}`:""}`)};let $s=O(we(new URLSearchParams(A.search).get("search")||""));const eo=()=>o($s),Yl=e=>{k($s,e,!0);const t=new URLSearchParams(A.search);e===""?t.delete("search"):t.set("search",e),ht(`${A.pathname}${t.size>0?`?${t.toString()}`:""}`)},Ed=(e,t)=>{const n=new URLSearchParams(A.search);n.append(e,t),ha(`${A.pathname}${n.size>0?`?${n.toString()}`:""}`)},Cd=e=>{const t=new URLSearchParams(A.search);t.delete(e),A.historyStack=A.historyStack.map(n=>{const r=new URLSearchParams(n.split("?")[1]);return r.delete(e),`${n.split("?")[0]}${t.size>0?`?${r.toString()}`:""}`}),ha(`${A.pathname}${t.size>0?`?${t.toString()}`:""}`)},to=()=>new URLSearchParams(A.search).get("selectedTags")?.split(",")||[];let nr=to();const Gl=()=>{const e=to();return e.join(",")===nr.join(",")||(nr=e),nr},Xl=()=>{A.pathname=document.location.pathname,A.search=document.location.search,A.historyLength=Math.max(0,A.historyLength-=1)};window.addEventListener("popstate",Xl);const ht=e=>{const[t,n]=e.split("?");A.pathname=t,A.search=n?`?${n}`:"",A.historyLength+=1,A.historyStack.push(window.location.href),window.history.replaceState(null,"",e)},ha=e=>{const[t,n]=e.split("?");A.pathname=t,A.search=n?`?${n}`:"",window.history.replaceState(null,"",e)},Zl=e=>{const{fallback:t="/",to:n}=e||{},[r,a]=t.split("?");if(A.historyLength<=0){const s=window.location.href,[i,l]=s.split("?");if(!l.includes("stackPages"))window.history.replaceState(null,"",t),A.historyLength=0,A.pathname=r,A.search=a?`?${a}`:"";else{const c=new URLSearchParams(l),u=c.get("stackPages")?.split(",")||[],f=u.slice(0,n&&u.includes(n)?u.indexOf(n)+1:-1);f.length===0?c.delete("stackPages"):c.set("stackPages",f.join(","));const d=`${i}${c.toString()?`?${c.toString()}`:""}`;window.history.replaceState(null,"",d),A.search=c.toString()?`?${c.toString()}`:""}}else if(A.historyStack.length>0){const i=new URLSearchParams(A.search).get("stackPages")?.split(",")||[];n&&i.includes(n)&&(A.historyStack=A.historyStack.slice(0,-(i.length-(i.indexOf(n)+1))+1),A.historyLength=A.historyStack.length);const l=A.historyStack.pop();if(l){const[c,u]=l.split("?");window.history.replaceState(null,"",l),A.historyLength=Math.max(0,A.historyLength-=1),A.pathname=c,A.search=u?`?${u}`:""}}},no=()=>{const e=A.historyStack.findIndex(n=>n.includes("stackPages")),t=e===-1?A.historyStack.slice(0):A.historyStack.slice(0,e);if(t.length>0){const n=t.pop();if(n){const[r,a]=n.split("?");window.history.replaceState(null,"",n),A.historyLength=Math.max(0,t.length),A.pathname=r,A.search=a?`?${a}`:"",A.historyStack=t}}else{const n=A.search,r=new URLSearchParams(n);r.delete("stackPages"),window.history.replaceState(null,"",r.toString()?"/?"+r.toString():"/"),A.historyLength=0,A.pathname="/",A.search=r.toString()?"?"+r.toString():"",A.historyStack=[]}},ft=we({value:""}),Jl=we({value:eo()});function ro(e,t){X(t,!0),he(()=>{const n=r=>{r.target&&t.dialog?.open&&t.dialogInner&&t.dialogInner!==r.target&&!t.dialogInner.contains(r.target)&&t.onClose()};return document.addEventListener("mousedown",n,{capture:!0}),()=>{document.removeEventListener("mousedown",n,{capture:!0})}}),Z()}const ga=we({count:0}),Ql=()=>ga.count>0,ao=()=>{ga.count+=1},so=()=>{ga.count-=1};var $l=M('<dialog><div class="dialogInner svelte-1wekt4o"><!></div></dialog> <!>',1);function oo(e,t){X(t,!0);let n=O(null),r=O(null),a=O(!1);const s=()=>{const v=setTimeout(()=>{t.onClosed()},150);o(n)?.addEventListener("transitionend",()=>{clearTimeout(v),t.onClosed()},{once:!0}),k(a,!1)};Ce(()=>{t.startClose&&s()}),he(()=>{o(n)?.showModal(),o(n)?.getClientRects(),k(a,!0)}),he(()=>(ao(),()=>{so()}));var i=$l(),l=L(i),c=y(l),u=y(c);De(u,()=>t.children),rt(c,v=>k(r,v),()=>o(r)),rt(l,v=>k(n,v),()=>o(n));var f=D(l,2);{var d=v=>{ro(v,{get dialog(){return o(n)},get dialogInner(){return o(r)},onClose:s})};R(f,v=>{o(n)&&o(r)&&v(d)})}ie(()=>ee(l,1,$(["dialog",{shown:o(a)}]),"svelte-1wekt4o")),m(e,i),Z()}var ec=M("<div><!></div>");function io(e,t){X(t,!0);let n=O(!1),r=O(null);const a=()=>{const u=setTimeout(()=>{t.onClosed()},150);o(r)?.addEventListener("transitionend",()=>{clearTimeout(u),t.onClosed()},{once:!0}),k(n,!1)},s=u=>{u.target!==o(r)&&!o(r)?.contains(u.target)&&a()},i=u=>{u.target!==o(r)&&!o(r)?.contains(u.target)&&a()};he(()=>{o(r)?.getClientRects(),k(n,!0);const u=setTimeout(()=>{document.addEventListener("focusin",s),document.addEventListener("click",i)},0);return()=>{clearTimeout(u),document.removeEventListener("focusin",s),document.removeEventListener("click",i)}}),Ce(()=>{t.startClose&&a()});var l=ec(),c=y(l);De(c,()=>t.children),rt(l,u=>k(r,u),()=>o(r)),ie(()=>ee(l,1,$(["menu",{top:t.positionTop,shown:o(n)}]),"svelte-vbw57a")),m(e,l),Z()}const tc=(e,t)=>{o(t)||k(t,!0)};var nc=(e,t)=>t("newest"),rc=(e,t)=>t("oldest"),ac=(e,t)=>t("AtoZ"),sc=(e,t)=>t("ZtoA"),oc=M("<div><button>Newest</button> <button>Oldest</button> <button>A to Z</button> <button>Z to A</button></div>"),ic=M('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),lc=M('<div class="orderMenu svelte-110m8z1"><button><!> <!></button> <!></div>');function cc(e,t){X(t,!0);const n=(w,E=Xe)=>{var S=oc(),_=y(S);_.__click=[nc,c];var C=D(_,2);C.__click=[rc,c];var P=D(C,2);P.__click=[ac,c];var p=D(P,2);p.__click=[sc,c],ie(()=>{ee(S,1,$(["menu",{menuDialog:E()}]),"svelte-110m8z1"),ee(_,1,$(["menuButton",{menuButtonDialog:E(),current:o(l)==="newest"}]),"svelte-110m8z1"),ee(C,1,$(["menuButton",{menuButtonDialog:E(),current:o(l)==="oldest"}]),"svelte-110m8z1"),ee(P,1,$(["menuButton",{menuButtonDialog:E(),current:o(l)==="AtoZ"}]),"svelte-110m8z1"),ee(p,1,$(["menuButton",{menuButtonDialog:E(),current:o(l)==="ZtoA"}]),"svelte-110m8z1")}),m(w,S)};let r=O(!1),a=O(!1);const{checkMobileSize:s}=kn();let i=B(s),l=B(Qs);const c=w=>{k(a,!0),Wl(w)},u=()=>{k(r,!1),k(a,!1)};var f=lc(),d=y(f);d.__click=[tc,r],ee(d,1,$(["button","buttonMenu"]),"svelte-110m8z1");var v=y(d);fe(v,{name:"filter"});var g=D(v,2);tt(g,{children:(w,E)=>{var S=Pe("show feed order menu");m(w,S)}});var h=D(d,2);{var b=w=>{var E=W(),S=L(E);{var _=P=>{oo(P,{get startClose(){return o(a)},onClosed:u,children:(p,x)=>{n(p,()=>!0)},$$slots:{default:!0}})},C=P=>{var p=ic(),x=L(p);le(x,()=>({"--right":"20px","--top":"60px"})),io(x.lastChild,{get startClose(){return o(a)},onClosed:u,children:(T,F)=>{n(T,()=>!1)},$$slots:{default:!0}}),m(P,p)};R(S,P=>{o(i)?P(_):P(C,!1)})}m(w,E)};R(h,w=>{o(r)&&w(b)})}m(e,f),Z()}Ae(["click"]);const pa=we({ref:null}),At=()=>new URLSearchParams(A.search).get("stackPages")?.split(",")||[];let Et=O(we(At()));const at=e=>{const t=At();if(!t.includes(e)){t.push(e);const n=new URLSearchParams(A.search);n.set("stackPages",t.join(",")),k(Et,t,!0),ht(`${A.pathname}?${n.toString()}`)}},uc=e=>At().includes(e),Pd=()=>{k(Et,At(),!0)},lo=()=>{const e=o(Et).slice(0,-1);k(Et,e,!0)},dc=()=>{const e=At();return e.length>=o(Et).length?e.reduce((t,n)=>[...t,{page:n,shown:!0}],[]):o(Et).reduce((t,n,r)=>[...t,{page:n,shown:e.length===0?!1:r!==o(Et).length-1}],[])},Yr=()=>{k(Et,[],!0)},zt=e=>{const t=At();t.includes(e)||t.push(e);const n=new URLSearchParams(A.search);return n.set("stackPages",t.join(",")),`${A.pathname}?${n}`},Ft=e=>t=>{t.preventDefault(),at(e)};var N=(e=>(e.NewNote="newNote",e.EditNote="editNote",e.Settings="settings",e.ImportData="importData",e.ExportData="exportData",e.ClearStore="clearStore",e.Account="account",e.Sync="sync",e.Start="start",e.Auth="auth",e.Signin="signin",e.Signup="signup",e.AccessKeys="accessKeys",e.ConfirmAccessKey="confirmAccessKey",e.Subscription="subscription",e.Exit="exit",e.NotFound="notFound",e.About="about",e))(N||{}),fc=M('<div class="header svelte-1o3mutr"><div class="top svelte-1o3mutr"><div class="menu svelte-1o3mutr"><a class="link svelte-1o3mutr"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Settings</span></a> <a class="link svelte-1o3mutr"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Sync</span></a></div> <div class="mobile svelte-1o3mutr"><!></div> <a class="buttonAdd svelte-1o3mutr"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Note</span></a></div> <div class="bottom svelte-1o3mutr"><div><div class="sidebarSearchWrapper"><!></div></div> <div class="right svelte-1o3mutr"><div class="filter svelte-1o3mutr"><div class="feedSearchWrapper svelte-1o3mutr"><!></div> <!></div></div></div></div>');function vc(e,t){X(t,!0);let n=B(()=>pa.ref);const r=()=>{o(n)&&o(n).scrollTo({top:0,behavior:"smooth"})},a=z=>{Yl(z)};var s=fc(),i=y(s),l=y(i),c=y(l),u=B(()=>Ft(N.Settings));c.__click=function(...z){o(u)?.apply(this,z)};var f=y(c);le(f,()=>({"--rotate":"30deg","--size":"20px"})),fe(f.lastChild,{name:"settings"});var d=D(c,2),v=B(()=>Ft(N.Sync));d.__click=function(...z){o(v)?.apply(this,z)};var g=y(d);le(g,()=>({"--size":"20px"})),fe(g.lastChild,{name:"sync"});var h=D(l,2),b=y(h);Zs(b,{});var w=D(h,2),E=B(()=>Ft(N.NewNote));w.__click=function(...z){o(E)?.apply(this,z)};var S=y(w);le(S,()=>({"--size":"16px","--color":"#b0b0b0"})),fe(S.lastChild,{name:"plus"});var _=D(i,2),C=y(_);ee(C,1,$(["left"]),"svelte-1o3mutr");var P=y(C),p=y(P);Wr(p,{placeholder:"Search tag",get value(){return ft.value},set value(z){ft.value=z}});var x=D(C,2),T=y(x),F=y(T),J=y(F);Wr(J,{onFocus:r,onChange:a,placeholder:"Search",get value(){return Jl.value}});var q=D(F,2);cc(q,{}),ie((z,H,I)=>{_e(c,"href",z),_e(d,"href",H),_e(w,"href",I)},[()=>zt(N.Settings),()=>zt(N.Sync),()=>zt(N.NewNote)]),m(e,s),Z()}Ae(["click"]);let Gr=!1;const Rr=()=>{document.activeElement instanceof HTMLInputElement&&document.activeElement.type==="text"||document.activeElement instanceof HTMLTextAreaElement?Gr=!0:Gr=!1},hc=()=>Gr;function gc(e,t){X(t,!0);let n=ae(t,"dialog",7);const r=Vn();let a=null;const s=()=>{t.dialogState==="swiping"&&t.onClose()};Ce(()=>(t.dialogState==="swiping"&&(a=setTimeout(s,3e3)),()=>{a&&(clearTimeout(a),a=null)}));let i=null,l=null;const c=3,u=50,f=5,d=.6,v=.3,g=.35,h=.95;let b=0,w=0,E=0,S=!1,_=!1,C=0,P=0,p=0;const x=()=>{b=0,w=0,S=!1,_=!1,C=0,P=0,p=0,E=0,i=null,l!==null&&(cancelAnimationFrame(l),l=null),a&&(clearTimeout(a),a=null)},T=Y=>{if(!n()){console.warn("Touch start: No dialog element");return}if(t.dialogState!=="opened"){console.warn(`Touch start: Invalid sidebar state: ${t.dialogState}`);return}b=Y.touches[0].clientX,w=Y.touches[0].clientY,E=performance.now(),S=!0,_=!1},F=Y=>t.dialogState==="opened"&&Y>0||t.dialogState==="swiping"&&Y>0,J=()=>{if(n()){n().style.setProperty("--transition-timing","0s"),t.onSwipe(),navigator.vibrate&&navigator.vibrate(10);try{const Y=window.getComputedStyle(n()),V=Y.transform||Y.webkitTransform||"";if(P=n().offsetWidth,(t.dialogState==="swiping"||t.dialogState==="opened")&&(C=0),V&&V!=="none")try{C=new DOMMatrix(V).m41}catch{console.warn("Could not parse transform matrix, using default position")}_=!0}catch(Y){console.error("Error during swipe initialization:",Y),x()}}},q=()=>{if(!n())return;const V=Math.abs(C+p*P/100)/P;n().style.setProperty("--backdrop-bg",`rgba(0, 0, 0, ${.1*(1-V)})`)},z=()=>{if(l=null,!i||!S||!n()||hc()){x();return}const Y=i.touches[0].clientX,V=i.touches[0].clientY,U=Y-b,re=V-w,Le=Math.abs(U)>Math.abs(re),qe=Math.abs(U)>c;if(!_)if(Le&&qe&&F(U))try{J()}catch(He){console.error("Error initializing swipe:",He),x();return}else return;if(!F(U))return;n().style.setProperty("--transition-timing","0s");let ve=C+U*h;ve=Math.max(0,Math.min(P,ve)),n().style.transform=`translate3d(${ve}px, 0, 0)`,r.swipingRatio=Math.abs(1-ve/P),p=(ve-C)/P*100,t.dialogState==="swiping"&&(a&&clearTimeout(a),a=setTimeout(s,3e3)),q()},H=Y=>{if(!S)return;i=Y,l===null&&(l=requestAnimationFrame(z));const V=Y.touches[0].clientX-b,U=Y.touches[0].clientY-w,re=Math.abs(V)>Math.abs(U);_&&re&&Y.preventDefault()},I=Y=>{const V=Math.abs(Y);if(V>=d)return f;if(V>=v){const U=(V-v)/(d-v);return u-U*(u-f)}else return u},K=(Y,V)=>{if(Math.abs(Y)>=d)return g*.5;const re=Math.abs(p)/100;return V?g*Math.max(.5,1-re):g*Math.max(.5,re)},oe=Y=>{if(l!==null&&(cancelAnimationFrame(l),l=null),!S||!n()){x();return}if(!_){x();return}let V=0;if(Y?.changedTouches?.[0]){const ve=Y.changedTouches[0].clientX,ge=performance.now()-E;ge>0&&(V=(ve-b)/ge)}const U=I(V);let re=null;t.dialogState==="swiping"&&(re=Math.abs(p)>U||V<-v?"close":"open");const Le=t.dialogState==="swiping"&&re==="close",qe=K(V,Le);r.duration=qe-.02,n().style.setProperty("--transition-timing",`${qe}s`),n().offsetWidth,n().style.transform="",re==="open"?t.onOpen():re==="close"&&t.onClose(),n()?.style.removeProperty("--backdrop-bg"),x()};he(()=>(n().addEventListener("touchstart",T,{passive:!0}),n().addEventListener("touchmove",H,{passive:!1}),n().addEventListener("touchend",oe,{passive:!0}),n().addEventListener("touchcancel",oe,{passive:!0}),()=>{n().removeEventListener("touchstart",T),n().removeEventListener("touchmove",H),n().removeEventListener("touchend",oe),n().removeEventListener("touchcancel",oe),l!==null&&cancelAnimationFrame(l)})),Z()}var pc=(e,t)=>{t.onStartClose()},_c=M('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),mc=M('<dialog><div class="dialogInner svelte-14atrge"><div class="header svelte-14atrge"><div><!></div></div> <!></div></dialog> <!>',1);function wc(e,t){X(t,!0);let n=350;const{isScrolling:r,enable:a}=Ws();let s=O(null),i=O(null);const l=Vn(),c=p=>{p.preventDefault(),t.onStartClose()};he(()=>(o(s)?.addEventListener("close",t.onClosed),o(s)?.addEventListener("cancel",c),()=>{o(s)?.removeEventListener("close",t.onClosed),o(s)?.removeEventListener("cancel",c)}));const u=()=>{o(s)?.style.removeProperty("--transition-timing"),o(s)?.style.removeProperty("transform"),o(s)?.style.removeProperty("--backdrop-bg")},f=()=>{a()},d=B(r);Ce(()=>{if(t.dialogState,!!o(s))switch(t.dialogState){case"opening":{o(s).open||o(s).showModal(),o(s).getBoundingClientRect();const p=setTimeout(()=>{u()},n+1),x=()=>{clearTimeout(p),u()};return o(s)?.addEventListener("transitionend",x,{once:!0}),t.onOpened(),()=>{o(s)?.removeEventListener("transitionend",x)}}case"closing":{const p=setTimeout(()=>{t.dialogState==="closing"&&t.onClosed()},n+1),x=()=>{clearTimeout(p),t.onClosed()};return o(s)?.addEventListener("transitionend",x,{once:!0}),()=>{o(s)?.removeEventListener("transitionend",x)}}case"opened":u()}});var v=mc(),g=L(v),h=y(g),b=y(h),w=y(b),E=y(w);{var S=p=>{var x=_c();ee(x,1,$(["navigateButton","buttonBack"]),"svelte-14atrge"),x.__click=[pc,t];var T=y(x);le(T,()=>({"--size":"36px"})),fe(T.lastChild,{name:"back"});var F=D(T,2);tt(F,{children:(J,q)=>{var z=Pe("back");m(J,z)}}),m(p,x)};R(E,p=>{(!(t.blocked||t.hidden)||t.blocked&&t.unBlockedBack)&&p(S)})}var _=D(b,2);De(_,()=>t.children),rt(h,p=>k(i,p),()=>o(i)),rt(g,p=>k(s,p),()=>o(s));var C=D(g,2);{var P=p=>{gc(p,{get onClose(){return t.onStartClose},get onOpen(){return t.onStartOpen},get onSwipe(){return t.onSwipe},get dialogState(){return t.dialogState},get dialog(){return o(s)}})};R(C,p=>{(!o(d)&&t.dialogState==="opened"||t.dialogState==="swiping")&&(!t.blocked||t.unBlockedBack)&&p(P)})}ie(()=>ee(g,1,$([{open:t.dialogState==="opened",hidden:t.hidden,isAnimationOn:l.working&&(!l.isSwiping||!t.hidden)},{hidden:t.hidden}]),"svelte-14atrge")),da("scroll",h,f),m(e,v),Z()}Ae(["click"]);const Ya=(e,t)=>{if(!t)return e;if(t.type==="closed")return{type:"closed"};switch(e.type){case"opened":return t.type==="close"?{type:"closing"}:t.type==="swipe"?{type:"swiping"}:e;case"closed":return t.type==="open"?{type:"opening"}:e;case"swiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"opening":return t.type==="opened"?{type:"opened"}:e;default:return e}};function yc(e,t){X(t,!0);let n=ae(t,"blocked",3,!1),r=ae(t,"hiddenDialog",3,!1),a=ae(t,"unBlockedBack",3,!1),s=ae(t,"onStartClose",3,()=>{}),i=ae(t,"onClose",3,()=>{});const l=Vn();let c=O(we(Ya({type:"closed"})));const u=_=>{k(c,Ya(o(c),_),!0)},f=()=>{n()&&!a()||(s()(),u({type:"close"}))},d=()=>{u({type:"open"})},v=()=>{u({type:"opened"}),l.duration=.2},g=()=>{i()(),u({type:"closed"}),l.swipingRatio=1,l.duration=.2},h=()=>{u({type:"swipe"})};Ce(()=>{o(c).type==="swiping"?l.isSwiping=!0:l.isSwiping=!1,o(c).type==="closed"&&t.shownDialog?d():o(c).type==="opened"&&!t.shownDialog&&f()});var b={handleComputeState:u},w=W(),E=L(w);{var S=_=>{wc(_,{onSwipe:h,onOpened:v,onClosed:g,onStartClose:f,onStartOpen:d,get dialogState(){return o(c).type},get hidden(){return r()},get blocked(){return n()},get unBlockedBack(){return a()},children:(C,P)=>{var p=W(),x=L(p);De(x,()=>t.children),m(C,p)},$$slots:{default:!0}})};R(E,_=>{o(c).type!=="closed"&&_(S)})}return m(e,w),Z(b)}const bc=({getDialog:e,onOpen:t,onStartClose:n,onClose:r})=>{const a=i=>{i.preventDefault(),n()},s=()=>{r?.()};he(()=>{const i=e();return i?.addEventListener("cancel",a),i?.addEventListener("close",s),()=>{i?.removeEventListener("cancel",a),i?.removeEventListener("close",s)}}),he(()=>{const i=e();i?.showModal(),i?.getBoundingClientRect(),t()})};let co=O(200);const Sc=e=>{k(co,e,!0)},uo=()=>o(co);var kc=(e,t)=>{t.onStartBack()},Ec=M('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),Cc=(e,t)=>{t.onStartClose()},Pc=M('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),xc=M('<dialog><div class="dialogInner svelte-rm8syc"><div class="header svelte-rm8syc"><div><!></div> <div><!></div></div> <!></div></dialog> <!>',1);function Dc(e,t){X(t,!0);let n=ae(t,"blockedDialog",3,!1),r=ae(t,"hiddenDialog",3,!1),a=ae(t,"isDesktopAnimationOff",3,!1),s=O(null),i=O(null);bc({getDialog:()=>o(s),onOpen:t.onOpen,onStartClose:t.onStartClose,onClose:t.onClose});const l=Vn();Ce(()=>{t.stateDialog==="closing"&&(l.working?o(s)?.addEventListener("transitionend",()=>{o(s)?.close()},{once:!0}):o(s)?.close())});const c=B(uo);var u=xc(),f=L(u),d=y(f),v=y(d),g=y(v),h=y(g);{var b=P=>{var p=Ec();ee(p,1,$(["navigateButton","buttonBack"]),"svelte-rm8syc"),p.__click=[kc,t];var x=y(p);le(x,()=>({"--size":"28px"})),fe(x.lastChild,{name:"back"});var T=D(x,2);tt(T,{children:(F,J)=>{var q=Pe("back");m(F,q)}}),m(P,p)};R(h,P=>{(!(n()||r())||n()&&t.unBlockedBack)&&t.onStartBack&&P(b)})}var w=D(g,2),E=y(w);{var S=P=>{var p=Pc();ee(p,1,$(["navigateButton","buttonClose"]),"svelte-rm8syc"),p.__click=[Cc,t];var x=y(p);le(x,()=>({"--size":"28px"})),fe(x.lastChild,{name:"close"});var T=D(x,2);tt(T,{children:(F,J)=>{var q=Pe("close");m(F,q)}}),m(P,p)};R(E,P=>{n()||r()||P(S)})}var _=D(v,2);De(_,()=>t.children),rt(d,P=>k(i,P),()=>o(i)),rt(f,P=>k(s,P),()=>o(s));var C=D(f,2);ro(C,{get dialog(){return o(s)},get dialogInner(){return o(i)},get onClose(){return t.onStartClose}}),ie(()=>{On(f,`height: ${o(c)+74}px`),ee(f,1,$([{open:t.stateDialog==="open",isAnimationOn:l.working,isDesktopAnimationOff:a(),hiddenDialog:r()}]),"svelte-rm8syc")}),m(e,u),Z()}Ae(["click"]);const Ac=({onStartClose:e,onClose:t})=>{let n=O("close");return{get state(){return o(n)},set state(i){k(n,i,!0)},handleStartClose:(i=!1)=>{i||(k(n,"closing"),e?.())},handleOpen:()=>{k(n,"open")},handleClose:()=>{k(n,"close"),t?.()}}};function Tc(e,t){X(t,!0);let n=ae(t,"blockedDialog",3,!1),r=ae(t,"hiddenDialog",3,!1),a=ae(t,"onStartClose",3,()=>{}),s=ae(t,"onClose",3,()=>{}),i=Ac({onStartClose:a(),onClose:s()});Ce(()=>{i.state==="close"&&t.shownDialog?i.state="opening":i.state==="open"&&!t.shownDialog&&i.handleStartClose(n())});const l=d=>{d.key==="Escape"&&(document.activeElement instanceof HTMLInputElement&&document.activeElement.type==="text"||document.activeElement instanceof HTMLTextAreaElement||n())&&(d.preventDefault(),d.stopPropagation())};he(()=>(document.addEventListener("keydown",l),()=>{document.removeEventListener("keydown",l)}));var c=W(),u=L(c);{var f=d=>{Dc(d,{get stateDialog(){return i.state},get blockedDialog(){return n()},get unBlockedBack(){return t.unBlockedBack},get hiddenDialog(){return r()},get onOpen(){return i.handleOpen},get onStartBack(){return t.onStartBack},onStartClose:()=>{i.handleStartClose(n())},get onClose(){return i.handleClose},children:(v,g)=>{var h=W(),b=L(h);De(b,()=>t.children),m(v,h)},$$slots:{default:!0}})};R(u,d=>{i.state!=="close"&&d(f)})}m(e,c),Z()}function Nc(e,t){X(t,!0);let n=ae(t,"blockedDialog",3,!1),r=ae(t,"hiddenDialog",3,!1),a=ae(t,"isLastDialog",3,!1),s=ae(t,"onStartClose",3,()=>{}),i=ae(t,"onClose",3,()=>{});const l=B(()=>a()?void 0:t.onStartBack);he(()=>(ao(),()=>{so()}));const{checkMobileSize:c}=kn();var u=W(),f=L(u);{var d=g=>{yc(g,{get shownDialog(){return t.shownDialog},get blocked(){return n()},get unBlockedBack(){return t.unBlockedBack},get hiddenDialog(){return r()},get children(){return t.children},get onStartClose(){return t.onStartBack},get onClose(){return i()}})},v=g=>{Tc(g,{get shownDialog(){return t.shownDialog},get blockedDialog(){return n()},get unBlockedBack(){return t.unBlockedBack},get hiddenDialog(){return r()},get children(){return t.children},get onStartBack(){return o(l)},get onStartClose(){return s()},get onClose(){return i()}})};R(f,g=>{c()?g(d):g(v,!1)})}m(e,u),Z()}let fo=O(!1),_a=O(!1);const Dn=e=>{k(fo,e,!0),e||k(_a,!1)},Lc=()=>o(fo),Ga=e=>{k(_a,e,!0)},Oc=()=>o(_a);function Xa(e,t){X(t,!0);let n=ae(t,"blocked",3,!1),r=ae(t,"isLastDialog",3,!1),a=ae(t,"onBack",3,()=>{});const s=B(()=>n()||t.hidden||Lc()),i=B(()=>Oc()&&!r());Nc(e,{get shownDialog(){return t.shown},get blockedDialog(){return o(s)},get unBlockedBack(){return o(i)},get hiddenDialog(){return t.hidden},get isLastDialog(){return r()},onStartBack:()=>{(!o(s)||o(s)&&o(i))&&t.shown&&(Zl(),a()())},onStartClose:()=>{(!o(s)||o(s)&&o(i))&&t.shown&&no()},onClose:()=>{lo()},children:(f,d)=>{var v=W(),g=L(v);De(g,()=>t.children),m(f,v)},$$slots:{default:!0}}),Z()}const Mc="modulepreload",Ic=function(e){return"/"+e},Za={},pe=function(t,n,r){let a=Promise.resolve();if(n&&n.length>0){let c=function(u){return Promise.all(u.map(f=>Promise.resolve(f).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=i?.nonce||i?.getAttribute("nonce");a=c(n.map(u=>{if(u=Ic(u),u in Za)return;Za[u]=!0;const f=u.endsWith(".css"),d=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const v=document.createElement("link");if(v.rel=f?"stylesheet":Mc,f||(v.as="script"),v.crossOrigin="",v.href=u,l&&v.setAttribute("nonce",l),document.head.appendChild(v),f)return new Promise((g,h)=>{v.addEventListener("load",g),v.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return a.then(i=>{for(const l of i||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})};let Xr=O(we({showFavicon:!0}));const vo=()=>o(Xr).showFavicon,ma=e=>{e&&k(Xr,{...o(Xr),...e},!0)};let j=O({initedDB:!1});const Rc=()=>{k(j,{initedDB:!0})},it=async e=>{k(j,{...o(j),account:e})},Kn=async e=>{const t=[],n=new Map;e.forEach(r=>{t.push(r),n.set(r.id,r)}),k(j,{...o(j),notes:t,mapNotes:n,getNotes:()=>t,getMapNotes:()=>n})},wa=async e=>{const t=new Map;e.forEach(n=>{t.set(n.id,n)}),k(j,{...o(j),mapDrafts:t,getMapDrafts:()=>t})},kr=()=>o(j).notes&&o(j).mapNotes,ya=()=>o(j).account,Bc=()=>o(j).getNotes||(()=>o(j).notes||[]),ba=()=>o(j).getMapNotes||(()=>o(j).mapNotes||new Map),ho=e=>{if(!o(j).notes||!o(j).mapNotes)throw new Error("Notes appState is not initialized");const t={...e};o(j).notes.push(t),o(j).mapNotes.set(t.id,t),k(j,{...o(j),getNotes:()=>o(j).notes,getMapNotes:()=>o(j).mapNotes})},Er=async e=>{if(!o(j).notes||!o(j).mapNotes)throw new Error("Notes appState is not initialized");o(j).notes.forEach((t,n)=>{t?.id===e.id&&o(j).notes&&(o(j).notes[n]=e)}),o(j).mapNotes.set(e.id,e),k(j,{...o(j),getNotes:()=>o(j).notes,getMapNotes:()=>o(j).mapNotes})},go=async e=>{if(!o(j).notes||!o(j).mapNotes)throw new Error("Notes appState is not initialized");o(j).mapNotes.delete(e);const t=o(j).notes.findIndex(n=>n?.id===e);t!==-1&&(o(j).notes[t]=void 0),k(j,{...o(j),getNotes:()=>o(j).notes,getMapNotes:()=>o(j).mapNotes})},po=async()=>{const e=[],t=new Map,n=new Map;k(j,{...o(j),notes:e,mapNotes:t,getNotes:()=>e,getMapNotes:()=>t,mapDrafts:n,getMapDrafts:()=>n})},_o=async()=>{k(j,{initedDB:!0,account:void 0,notes:void 0,mapNotes:void 0,getNotes:()=>{},getMapNotes:()=>{},mapDrafts:void 0,getMapDrafts:()=>{}})},xd=e=>o(j)?.getMapDrafts?.()?.get(e),mo=e=>{if(!o(j).mapDrafts)throw new Error("Drafts appState is not initialized");o(j).mapDrafts.delete(e),k(j,{...o(j),getMapDrafts:()=>o(j).mapDrafts})},wo=e=>{if(!o(j).mapDrafts)throw new Error("Drafts appState is not initialized");o(j).mapDrafts.set(e.id,e),k(j,{...o(j),getMapDrafts:()=>o(j).mapDrafts})};let yo=O({});const bo=()=>o(yo),jc=e=>{k(yo,e)};var zc=M('<button> <svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></button>');function on(e,t){let n=B(()=>t.style==="selected"?"45deg":"0deg");var r=zc();r.__click=function(...i){t.onClick?.apply(this,i)};var a=y(r),s=D(a);le(s,()=>({"--size":t.size==="small"?"10px":"12px","--rotate":o(n)})),fe(s.lastChild,{name:"plus"}),ie(()=>{_e(r,"type",t.type),ee(r,1,$([{selectedTag:t.style==="selected",small:t.size==="small"}]),"svelte-15zw27r"),wn(a,`${t.title??""} `)}),m(e,r)}Ae(["click"]);var Fc=M("<div></div>"),Uc=M('<div class="sidebarFixed svelte-rnyoa6"><div class="nav svelte-rnyoa6"><!> <div class="menu svelte-rnyoa6"><a class="link svelte-rnyoa6"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a> <a class="link svelte-rnyoa6"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a></div></div> <div class="searchWrapper svelte-rnyoa6"><!></div> <!></div> <div><!> <!></div>',1),qc=M("<div></div>"),Hc=M('<div class="sidebar svelte-rnyoa6"><div class="sidebarFixed svelte-rnyoa6"><!></div> <div class="tags svelte-rnyoa6"><!> <!></div></div>');function Vc(e,t){X(t,!0);const{checkMobileSize:n}=kn();let r=O(null),a=B(()=>new URLSearchParams(A.search).get("selectedTags")?.split(",")||[]),s=null;function i(){return s||(s=pe(()=>import("./MobileSidebar-YngdgsXx.js"),__vite__mapDeps([0,1]))),s}const l=S=>{const _=new URLSearchParams(A.search);_.set("selectedTags",[...o(a),S].join(",")),ht(`${A.pathname}${_.size>0?`?${_.toString()}`:""}`),ft.value=""},c=S=>{const _=new URLSearchParams(A.search),C=o(a).filter(P=>P!==S);C.length===0?_.delete("selectedTags"):_.set("selectedTags",C.join(",")),ht(`${A.pathname}${_.size>0?`?${_.toString()}`:""}`)};let u=B(bo),f=B(()=>kr()?Object.values(o(u)).filter(S=>!o(a).some(_=>S.name===_)&&S.name!=="inbox").sort((S,_)=>S.name.localeCompare(_.name)):[]),d=B(()=>o(u).inbox&&o(a).includes("inbox")===!1?o(u).inbox:null),v=B(n);he(()=>{o(v)&&i()});let g=B(()=>At().length>0||Ql());var h=W(),b=L(h);{var w=S=>{var _=W(),C=L(_);zs(C,i,null,(P,p)=>{const x=B(()=>o(p).default);var T=W(),F=L(T);qs(F,()=>o(x),(J,q)=>{q(J,{get blocked(){return o(g)},children:(z,H)=>{var I=Uc(),K=L(I),oe=y(K),Y=y(oe);Zs(Y,{});var V=D(Y,2),U=y(V),re=B(()=>Ft(N.Settings));U.__click=function(...ce){o(re)?.apply(this,ce)};var Le=y(U);le(Le,()=>({"--size":"24px"})),fe(Le.lastChild,{name:"settings"});var qe=D(Le,2);tt(qe,{children:(ce,Me)=>{var Ie=Pe("Settings");m(ce,Ie)}});var ve=D(U,2),ke=B(()=>Ft(N.Sync));ve.__click=function(...ce){o(ke)?.apply(this,ce)};var ge=y(ve);le(ge,()=>({"--size":"24px"})),fe(ge.lastChild,{name:"sync"});var He=D(ge,2);tt(He,{children:(ce,Me)=>{var Ie=Pe("Sync");m(ce,Ie)}});var Oe=D(oe,2),Ve=y(Oe);Wr(Ve,{placeholder:"Search tag",get value(){return ft.value},set value(ce){ft.value=ce}});var Ee=D(Oe,2);{var Ke=ce=>{var Me=Fc();ee(Me,1,$(["tags","selectedTags"]),"svelte-rnyoa6"),ln(Me,20,()=>o(a),Ie=>Ie,(Ie,$e)=>{on(Ie,{get title(){return $e},onClick:()=>c($e),style:"selected"})}),rt(Me,Ie=>k(r,Ie),()=>o(r)),m(ce,Me)};R(Ee,ce=>{o(a).length>0&&ce(Ke)})}var Gt=D(K,2);ee(Gt,1,$(["tags","tagsWrapper"]),"svelte-rnyoa6");var Yn=y(Gt);{var pt=ce=>{on(ce,{get title(){return o(d).name},onClick:()=>l(o(d).name)})};R(Yn,ce=>{o(d)&&ce(pt)})}var Xt=D(Yn,2);ln(Xt,17,()=>o(f),ce=>ce.name,(ce,Me)=>{var Ie=W(),$e=L(Ie);{var Zt=Jt=>{on(Jt,{get title(){return o(Me).name},onClick:()=>l(o(Me).name)})};R($e,Jt=>{(ft.value===""||o(Me).name.toLowerCase().indexOf(ft.value.toLowerCase())!==-1)&&Jt(Zt)})}m(ce,Ie)}),ie((ce,Me)=>{_e(U,"href",ce),_e(ve,"href",Me)},[()=>zt(N.Settings),()=>zt(N.Sync)]),m(z,I)},$$slots:{default:!0}})}),m(P,T)}),m(S,_)},E=S=>{var _=Hc(),C=y(_),P=y(C);{var p=q=>{var z=qc();ee(z,1,$(["tags","selectedTags"]),"svelte-rnyoa6"),ln(z,20,()=>o(a),H=>H,(H,I)=>{on(H,{get title(){return I},onClick:()=>c(I),style:"selected"})}),m(q,z)};R(P,q=>{o(a).length>0&&q(p)})}var x=D(C,2),T=y(x);{var F=q=>{on(q,{get title(){return o(d).name},onClick:()=>l(o(d).name)})};R(T,q=>{o(d)&&q(F)})}var J=D(T,2);ln(J,17,()=>o(f),q=>q.name,(q,z)=>{var H=W(),I=L(H);{var K=oe=>{on(oe,{get title(){return o(z).name},onClick:()=>l(o(z).name)})};R(I,oe=>{(ft.value===""||o(z).name.toLowerCase().indexOf(ft.value.toLowerCase())!==-1)&&oe(K)})}m(q,H)}),m(S,_)};R(b,S=>{o(v)?S(w):S(E,!1)})}m(e,h),Z()}Ae(["click"]);function bt(e){const t=String.fromCharCode(...new Uint8Array(e));return window.btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function Sa(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");const n=t.length%4;return n&&(t+="=".repeat(4-n)),t}function ka(e){try{const t=atob(e),n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n.buffer}catch(t){throw console.error("Error decoding base64:",t,"Input:",e),t}}function Dd(e){const t=Sa(e);return ka(t)}const Ad=async({challenge:e,clientKey:t})=>{const n=Math.floor(Math.random()*100),r={challenge:ka(Sa(e)),rp:{id:"localhost",name:"notes"},user:{id:new Uint8Array([...t,...crypto.getRandomValues(new Uint8Array(16))]).buffer,name:`account_${n}`,displayName:`account_${n}`},pubKeyCredParams:[{type:"public-key",alg:-7},{type:"public-key",alg:-257}],authenticatorSelection:{userVerification:"required"},timeout:6e4,attestation:"none"},a=await navigator.credentials.create({publicKey:r});if(a){const s=a.response;return{challenge:e,id:a.id,rawId:bt(a.rawId),type:a.type,response:{clientDataJSON:bt(s.clientDataJSON),attestationObject:bt(s.attestationObject)}}}else throw new Error},Td=async({challenge:e})=>{const t={challenge:ka(Sa(e)),timeout:6e4,rpId:"localhost",userVerification:"required"},n=await navigator.credentials.get({publicKey:t});if(n){const r=n.response,a=new DataView(r.authenticatorData).getUint32(33,!1);console.log("Counter:",a);const s={challenge:e,id:n.id,rawId:bt(n.rawId),type:n.type,response:{authenticatorData:bt(r.authenticatorData),clientDataJSON:bt(r.clientDataJSON),signature:bt(r.signature)}};if(!r.userHandle)throw new Error("No credential found");const i=new Uint8Array(r.userHandle).slice(0,32);return{credentialData:s,clientKey:i}}else throw new Error("No credential found")},Kc=async e=>{const t=await crypto.subtle.importKey("raw",e.serverKey,{name:"HKDF"},!1,["deriveKey"]),n=await crypto.subtle.deriveKey({name:"HKDF",salt:new Uint8Array(12),info:new TextEncoder().encode("aes-gcm-shared"),hash:"SHA-256"},t,{name:"AES-GCM",length:256},!1,["encrypt"]);return{encryptedClientKey:await crypto.subtle.encrypt({name:"AES-GCM",iv:new Uint8Array(12)},n,e.clientKey)}},Nd=async e=>{const t=await crypto.subtle.importKey("raw",e.serverKey,{name:"HKDF"},!1,["deriveKey"]),n=await crypto.subtle.deriveKey({name:"HKDF",info:new TextEncoder().encode("aes-gcm-shared"),hash:"SHA-256",salt:new Uint8Array(12)},t,{name:"AES-GCM",length:256},!1,["decrypt"]),r=await crypto.subtle.decrypt({name:"AES-GCM",iv:new Uint8Array(12)},n,e.encryptedClientKey);return new Uint8Array(r)},Wc=()=>crypto.randomUUID(),Yc="AppStorage",Gc=1,ze="notes",Ja="tags",dr="syncLog",Ct="account",Pt="settings",Qe="drafts",be="success",me="error",G=(e,t,n)=>{e?.addEventListener(t,n)};function Xc(){return new Promise((e,t)=>{const n=indexedDB.open(Yc,Gc);G(n,"upgradeneeded",()=>{const r=n.result;r.objectStoreNames.contains(ze)||r.createObjectStore(ze,{keyPath:"id"}),r.objectStoreNames.contains(Ja)||r.createObjectStore(Ja,{keyPath:"id"}),r.objectStoreNames.contains(Ct)||r.createObjectStore(Ct,{keyPath:"id"}),r.objectStoreNames.contains(Pt)||r.createObjectStore(Pt,{keyPath:"id"}),r.objectStoreNames.contains(dr)||r.createObjectStore(dr,{keyPath:"id"}),r.objectStoreNames.contains(Qe)||r.createObjectStore(Qe,{keyPath:"id"})}),G(n,be,()=>{const r=n.result;e(r),r.onversionchange=function(){r?.close(),alert("app outdated, please reload the page")}}),G(n,"blocked",()=>{t(),alert("app outdated, please reload the page")}),G(n,me,()=>{t(),console.error(me,n.error)})})}function So(e){return new Promise((t,n)=>{const a=e?.transaction(Pt,"readonly")?.objectStore(Pt).get("default");G(a,be,()=>{const s=a?.result?.settings;t(s)}),G(a,me,()=>{n()})})}function Zc(e,t){return new Promise((n,r)=>{const i=e?.transaction(Pt,"readwrite")?.objectStore(Pt)?.put({id:"default",settings:t});G(i,be,()=>{n()}),G(i,me,()=>{r()})})}function Zr(e){return new Promise((t,n)=>{const a=e?.transaction(Ct,"readonly")?.objectStore(Ct).get("default");G(a,be,()=>{const s=a?.result?.account;t(s)}),G(a,me,()=>{n()})})}function Cr(e,t){return new Promise((n,r)=>{const i=e?.transaction(Ct,"readwrite")?.objectStore(Ct)?.put({id:"default",account:t});G(i,be,()=>{console.log("account inited"),n()}),G(i,me,()=>{r()})})}function Wn(e){return new Promise((t,n)=>{const a=e?.transaction(ze,"readonly")?.objectStore(ze).getAll();G(a,be,()=>{const s=a?.result||[];t(s)}),G(a,me,()=>{n()})})}function Ea(e,t){return new Promise((n,r)=>{const i=e?.transaction(ze,"readwrite")?.objectStore(ze)?.put({...t});G(i,be,()=>{n()}),G(i,me,()=>{r()})})}function Jc(e,t){return new Promise((n,r)=>{const i=e?.transaction(ze,"readwrite")?.objectStore(ze)?.delete(t);G(i,be,()=>{n()}),G(i,me,()=>{r()})})}function Qc(e){return new Promise((t,n)=>{const s=e?.transaction(ze,"readwrite")?.objectStore(ze)?.clear();G(s,be,()=>{t()}),G(s,me,()=>{n()})})}function Ca(e){return Promise.all([new Promise((t,n)=>{const s=e?.transaction(Ct,"readwrite")?.objectStore(Ct)?.clear();G(s,be,()=>{t()}),G(s,me,()=>{n()})}),new Promise((t,n)=>{const s=e?.transaction(ze,"readwrite")?.objectStore(ze)?.clear();G(s,be,()=>{t()}),G(s,me,()=>{n()})}),new Promise((t,n)=>{const s=e?.transaction(Pt,"readwrite")?.objectStore(Pt)?.clear();G(s,be,()=>{t()}),G(s,me,()=>{n()})}),new Promise((t,n)=>{const s=e?.transaction(dr,"readwrite")?.objectStore(dr)?.clear();G(s,be,()=>{t()}),G(s,me,()=>{n()})}),new Promise((t,n)=>{const s=e?.transaction(Qe,"readwrite")?.objectStore(Qe)?.clear();G(s,be,()=>{t()}),G(s,me,()=>{n()})})])}async function $c(e,t){const n=(await Wn(e)).reduce((i,l)=>(i[l.id]=l,i),{}),r={},s=e?.transaction(ze,"readwrite")?.objectStore(ze);t.forEach(i=>{n[i.id]?n[i.id].updatedAt<i.updatedAt&&(r[i.id]=i):r[i.id]=i}),await Promise.all(Object.values(r).map(i=>{const l=s?.put(i);return new Promise((c,u)=>{G(l,be,()=>{c()}),G(l,me,()=>{u()})})}))}function ko(e){return new Promise((t,n)=>{const a=e?.transaction(Qe,"readonly")?.objectStore(Qe).getAll();G(a,be,()=>{const s=a?.result||[];t(s)}),G(a,me,()=>{n()})})}function eu(e,t){return new Promise((n,r)=>{const i=e?.transaction(Qe,"readwrite")?.objectStore(Qe)?.put({...t});G(i,be,()=>{n()}),G(i,me,()=>{r()})})}function tu(e,t){return new Promise((n,r)=>{const i=e?.transaction(Qe,"readwrite")?.objectStore(Qe)?.delete(t);G(i,be,()=>{n()}),G(i,me,()=>{r()})})}function nu(e){return new Promise((t,n)=>{const s=e?.transaction(Qe,"readwrite")?.objectStore(Qe)?.clear();G(s,be,()=>{t()}),G(s,me,()=>{n()})})}let se=null;const Eo=crypto.randomUUID(),Co=new BroadcastChannel("app"),Ne=(e,t)=>{Co.postMessage(JSON.stringify({tabId:Eo,type:e,data:t}))};Co.addEventListener("message",async e=>{if(e.data&&typeof e.data=="string"){const t=JSON.parse(e.data);if(t.tabId&&t.tabId===Eo)return;if(t.type==="addNote"){const n=t.data;ho(n)}else if(t.type==="putDraft"){const n=t.data;wo(n)}else if(t.type==="updateNote"){const n=t.data;Er(n)}else if(t.type==="deleteNote"){const n=t.data;go(n)}else if(t.type==="clearNotes")po();else if(t.type==="reloadNotes"){const n=await Wn(se);await Kn(n)}else if(t.type==="initLocalAccount")it(null),Yr(),ht("/");else if(t.type==="initAccount"){const n=await Zr(se);n&&(it(n),Yr(),ht("/"))}else if(t.type==="updateSettings"){const n=await So(se);n&&ma(n)}else if(t.type==="disconnectCloudAccount")it(null);else if(t.type==="exit")_o();else if(t.type==="updateAccount"){const n=await Zr(se);n&&it(n)}else if(t.type==="deleteDraft"){const n=t.data;mo(n)}}});(async()=>{se=await Xc(),Rc();const e=await So(se);ma(e);const t=await Zr(se);if(t===void 0)at(N.Start);else{uc(N.Start)&&(Yr(),ht("/")),t?(it(t),await va()):it(null);const n=await ko(se);await wa(n);const r=await Wn(se);await Kn(r)}})();const Ld=async e=>{const t={...e,id:Wc(),createdAt:Date.now(),updatedAt:Date.now()};ho(t),Ne("addNote",t),await Ea(se,{...t})},Od=async e=>{const t={...e};wo(t),Ne("putDraft",t),await eu(se,{...t})},ru=async e=>{mo(e),await tu(se,e),Ne("deleteDraft",e)},Md=async e=>{const t={...e,updatedAt:Date.now()};Ne("updateNote",t),Er(t),await Ea(se,t)},Qa=(e,t)=>{const n=ba()()?.get(e);if(!n)return;const r={...n,deleting:t};Ne("updateNote",r),Er(r)},au=async(e,t)=>{const n=ba()()?.get(e);if(!n)return;const r={...n,pinned:t};Ne("updateNote",r),Er(r),await Ea(se,r)},su=async e=>{ma({showFavicon:e}),await Zc(se,{showFavicon:e}),Ne("updateSettings")},ou=async e=>{const t=ba()()?.get(e);t&&ru(t.id),Ne("deleteNote",e),go(e),await Jc(se,e)},Id=async()=>{Ne("clearNotes"),po(),await Qc(se),await nu(se)},Rd=async e=>{await $c(se,e),Ne("reloadNotes");const t=await Wn(se);await Kn(t)},iu=async()=>{await Ca(se),await va(),await Cr(se,null),it(null),await wa([]),await Kn([]),Ne("initLocalAccount")},Bd=async()=>{it(null),await Cr(se,null);try{await fetch("/api/dropSession",{method:"POST"})}catch{console.error("Failed to disconnect cloud account")}Ne("disconnectCloudAccount")},jd=async e=>{await Ca(se),await va();const{encryptedClientKey:t}=await Kc({clientKey:e.clientKey,serverKey:e.serverKey}),n={encryptedClientKey:bt(t),subscriptionExpires:e.subscriptionExpires||-1,lastSync:-1};await Cr(se,n),it(n);const r=await ko(se);await wa(r);const a=await Wn(se);await Kn(a),Ne("initAccount")},zd=async e=>{const t=ya();if(!t)return;const n={...t,subscriptionExpires:e};await Cr(se,n),it(n),Ne("updateAccount")},Fd=async()=>{_o(),await Ca(se),Ne("exit")},lu=(e,t,n)=>{k(t,!0),k(n,!0)},cu=(e,t,n)=>{au(t.note.id,!t.note.pinned),Sr(t.note.pinned?"Note unpinned":"Note pinned"),k(n,!0)},uu=(e,t,n)=>{navigator.clipboard.writeText(t.note.url),Sr("Link copied"),k(n,!0)};var du=M("<div><button>Copy link</button></div>"),fu=M('<div class="menu svelte-xxw0l"><!> <div><button> </button></div> <div><button>Delete</button></div></div>'),vu=M('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1);function hu(e,t){X(t,!0);const n=(h,b=Xe)=>{var w=fu(),E=y(w);{var S=T=>{var F=du(),J=y(F);J.__click=[uu,t,a],ie(()=>ee(J,1,$(["button",{buttonMenuDialog:b()}]),"svelte-xxw0l")),m(T,F)};R(E,T=>{b()&&t.note.url&&T(S)})}var _=D(E,2),C=y(_);C.__click=[cu,t,a];var P=y(C),p=D(_,2),x=y(p);x.__click=[lu,s,a],ie(()=>{ee(C,1,$(["button",{buttonMenuDialog:b()}]),"svelte-xxw0l"),wn(P,t.note.pinned?"Unpin":"Pin"),ee(x,1,$(["button",{buttonMenuDialog:b()}]),"svelte-xxw0l")}),m(h,w)};let r=ae(t,"shownMenu",15),a=O(!1),s=O(!1);const{checkMobileSize:i}=kn();let l=B(i),c=B(()=>new URLSearchParams(A.search).get("selectedTags")?.split(",")||[]);const u=async()=>{const h=bo();Qa(t.note.id,!0);let b=!1;Sr("Note deleted",{onCancel:()=>{b=!0,Qa(t.note.id,!1)},onFinish:()=>{b||(t.note.tags.forEach(w=>{if(o(c).includes(w)&&h[w].connections===1){const E=new URLSearchParams(A.search),S=o(c).filter(_=>_!==w);S.length===0?E.delete("selectedTags"):E.set("selectedTags",S.join(",")),ha(`${A.pathname}${E.size>0?`?${E.toString()}`:""}`)}}),ou(t.note.id))}})},f=()=>{o(s)&&u(),r(!1),k(a,!1)};var d=W(),v=L(d);{var g=h=>{var b=W(),w=L(b);{var E=_=>{oo(_,{get startClose(){return o(a)},onClosed:f,children:(C,P)=>{n(C,()=>!0)},$$slots:{default:!0}})},S=_=>{var C=vu(),P=L(C);le(P,()=>({"--bottom":"-90px","--right":"20px"})),io(P.lastChild,{get startClose(){return o(a)},get positionTop(){return t.showMenuUp},onClosed:f,children:(p,x)=>{n(p,()=>!1)},$$slots:{default:!0}}),m(_,C)};R(w,_=>{o(l)?_(E):_(S,!1)})}m(h,b)};R(v,h=>{r()&&h(g)})}m(e,d),Z()}Ae(["click"]);const gu=(e,t)=>{k(t,!0)},pu=(e,t,n)=>{navigator.clipboard.writeText(t.note.url),Sr("Link copied"),k(n,!1)},_u=(e,t)=>{k(t,!0)},mu=(e,t)=>{k(t,!1)},wu=(e,t,n)=>{e.preventDefault(),at(`${N.EditNote}?id=${t.note.id}`),k(n,!1)};var yu=M('<div class="iconPlaceholder svelte-qwgtkc"></div>'),bu=M('<img loading="lazy" class="noteIcon" height="16" width="16" alt=""/>'),Su=M('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),ku=M('<div class="noteIconWrapper svelte-qwgtkc"><!></div>'),Eu=M('<button class="button svelte-qwgtkc"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),Cu=(e,t)=>{k(t,!1)},Pu=M('<!> <a target="_blank" rel="noopener noreferrer" class="button openLink svelte-qwgtkc"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a>',1),xu=M('<li><!> <a class="noteLink svelte-qwgtkc" target="_blank" rel="noopener noreferrer"> </a> <div><!> <button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button></div> <!></li>');function Du(e,t){X(t,!0);let n=O(!1),r=O(!1),a=O(!1),s=B(vo);const{checkMobileSize:i}=kn(),l=C=>{try{return`https://icons.duckduckgo.com/ip3/${new URL(C).host}.ico`}catch{return""}};var c=xu();c.__focusin=[_u,r],c.__focusout=[mu,r];var u=y(c);{var f=C=>{var P=ku(),p=y(P);{var x=F=>{var J=W(),q=L(J);{var z=I=>{var K=yu();m(I,K)},H=I=>{var K=bu();ie(oe=>_e(K,"src",oe),[()=>l(t.note.url)]),da("error",K,()=>{k(a,!0)}),m(I,K)};R(q,I=>{o(a)?I(z):I(H,!1)})}m(F,J)},T=F=>{var J=Su(),q=L(J);le(q,()=>({"--size":"16px"})),fe(q.lastChild,{name:"note"}),m(F,J)};R(p,F=>{t.note.url?F(x):F(T,!1)})}m(C,P)};R(u,C=>{o(s)&&C(f)})}var d=D(u,2);d.__click=[wu,t,r];var v=y(d),g=D(d,2),h=y(g);{var b=C=>{var P=Pu(),p=L(P);{var x=q=>{var z=Eu();z.__click=[pu,t,r];var H=y(z);le(H,()=>({"--size":"20px"})),fe(H.lastChild,{name:"copy"});var I=D(H,2);tt(I,{children:(K,oe)=>{var Y=Pe("copy link");m(K,Y)}}),ie(()=>_e(z,"tabindex",t.focusHidden?-1:0)),m(q,z)};R(p,q=>{i()||q(x)})}var T=D(p,2);T.__click=[Cu,r];var F=y(T);le(F,()=>({"--size":"18px"})),fe(F.lastChild,{name:"open"});var J=D(F,2);tt(J,{children:(q,z)=>{var H=Pe();ie(()=>wn(H,t.note.name)),m(q,H)}}),ie(()=>{_e(T,"href",t.note.url),_e(T,"tabindex",t.focusHidden?-1:0)}),m(C,P)};R(h,C=>{t.note.url&&C(b)})}var w=D(h,2);w.__click=[gu,n],ee(w,1,$(["button","buttonMenu"]),"svelte-qwgtkc");var E=y(w);le(E,()=>({"--size":"18px","--rotate":"90deg"})),fe(E.lastChild,{name:"menu"});var S=D(E,2);tt(S,{children:(C,P)=>{var p=Pe("show menu");m(C,p)}});var _=D(g,2);hu(_,{get note(){return t.note},get showMenuUp(){return t.showMenuUp},get shownMenu(){return o(n)},set shownMenu(C){k(n,C,!0)}}),ie(C=>{ee(c,1,$(["record",{pinned:t.note.pinned}]),"svelte-qwgtkc"),_e(d,"tabindex",t.focusHidden?-1:0),_e(d,"href",C),wn(v,t.note.name),ee(g,1,$(["noteMenuWrapper",{noteMenuWrapperActive:o(r)}]),"svelte-qwgtkc"),_e(w,"tabindex",t.focusHidden?-1:0)},[()=>`/?stackPages=${encodeURIComponent(`${N.EditNote}?id=${t.note.id}`)}`]),m(e,c),Z()}Ae(["focusin","focusout","click"]);var Au=M('<div><!> <div class="loader svelte-1wuuvr"></div></div>');function Po(e,t){X(t,!0);let n=O(!1);he(()=>{const s=setTimeout(()=>{k(n,!0)},200);return()=>{clearTimeout(s)}});var r=Au(),a=y(r);De(a,()=>t.children??Xe),ie(()=>ee(r,1,$(["block",{shown:o(n)}]),"svelte-1wuuvr")),m(e,r),Z()}var Tu=M("<a><!></a>"),Nu=M("<button><!></button>");function xt(e,t){let n=ae(t,"type",3,"standard"),r=ae(t,"typeButton",3,"button"),a=ae(t,"element",3,"button"),s=ae(t,"href",3,""),i=ae(t,"fullWidth",3,!1);var l=W(),c=L(l);{var u=d=>{var v=Tu();v.__click=function(...h){t.onClick?.apply(this,h)};var g=y(v);De(g,()=>t.children??Xe),ie(()=>{_e(v,"href",s()),ee(v,1,$(["button","a",{dangerous:n()==="dangerous",secondary:n()==="secondary",fullWidth:i()}]),"svelte-ex7b38")}),m(d,v)},f=d=>{var v=Nu();v.__click=function(...h){t.onClick?.apply(this,h)};var g=y(v);De(g,()=>t.children??Xe),ie(()=>{_e(v,"type",r()),ee(v,1,$(["button",{dangerous:n()==="dangerous",secondary:n()==="secondary",fullWidth:i()}]),"svelte-ex7b38")}),m(d,v)};R(c,d=>{a()==="a"?d(u):d(f,!1)})}m(e,l)}Ae(["click"]);var Lu=M('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Add note</span>',1),Ou=M('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span style="padding-left: 6px;">Import data</span>',1),Mu=M('<div class="emptyStore svelte-16l11aw"><p class="message">No notes found</p> <div class="wrapperButtonsAdd svelte-16l11aw"><!></div> <div>or</div> <div class="wrapperButtonsAdd svelte-16l11aw"><!></div></div>'),Iu=M('<div class="emptyMessage svelte-16l11aw">No notes found</div>'),Ru=M('<div class="feed svelte-16l11aw"><ul class="svelte-16l11aw"></ul></div>'),Bu=M('<div class="wrapperFeed svelte-16l11aw"><div class="wrapperContainer svelte-16l11aw"><!></div></div>');function ju(e,t){X(t,!0);let n=54,r=O(0),a=O(0),s=O(0),i=B(eo),l=O(0),c=[],u=O(0),f=B(()=>pa.ref),d=null,v=null;const g=B(Gl);Ce(()=>{o(i),o(g),o(E),o(f)?.scrollTo(0,0)});const{enable:h}=Ws(),b=()=>{h(),d||(d=requestAnimationFrame(()=>{const I=o(f)?.scrollTop||0;k(s,I,!0);const K=Math.ceil(o(r)/n);k(a,Math.floor(I/(n*K))*(n*K)),d=null}))},w=()=>{v||(v=requestAnimationFrame(()=>{k(r,window.innerHeight-180||0,!0);const I=o(f)?.scrollTop||0;k(s,I,!0);const K=Math.ceil(o(r)/n);k(a,Math.floor(I/(n*K))*(n*K)),v=null}))};he(()=>{w(),b()}),Ce(()=>(o(f)?.addEventListener("scroll",b),window.addEventListener("resize",w),()=>{o(f)?.removeEventListener("scroll",b),window.removeEventListener("resize",w)}));const E=B(Qs);let S=O(""),_=B(Bc);Ce(()=>{o(E);const I=o(_)()||[];Ht(()=>o(S))!==o(E)&&Ht(()=>k(S,o(E),!0)),I.sort((V,U)=>{if(!V||!U)return 0;if(V.pinned&&!U.pinned)return 1;if(!V.pinned&&U.pinned)return-1;switch(o(E)){case"newest":return V.updatedAt<U.updatedAt?-1:1;case"oldest":return V.updatedAt>U.updatedAt?-1:1;case"AtoZ":return U.name.localeCompare(V.name);case"ZtoA":return V.name.localeCompare(U.name);default:return 0}});const oe=[],Y={};for(let V=I.length-1;V>=0;V--){const U=I[V];if(U&&!(o(g).length&&o(g).some(re=>!U.tags.includes(re)))&&!U.deleting&&!(o(i)&&!(U.name.toLowerCase().includes(o(i).toLowerCase())||U.url.toLowerCase().includes(o(i).toLowerCase())||U.text.toLowerCase().includes(o(i).toLowerCase())))){if(U.tags)for(const re of U.tags)Y[re]?Y[re].connections++:Y[re]={name:re,connections:1};oe.push(U)}}jc(Y),k(l,oe.length,!0),c=oe,k(u,Date.now(),!0)});const C=B(()=>o(l)*n);let p=B(()=>{o(u);const I=Math.ceil(o(r)/n);let K=Math.floor(o(a)/n);return K=K-Math.min(K,I),c.slice(K,K+I*3)}),x=B(()=>n*Math.ceil(o(r)/n));const T=B(()=>o(a)-Math.min(o(a),o(x)));var F=Bu(),J=y(F),q=y(J);{var z=I=>{Po(I,{})},H=I=>{var K=W(),oe=L(K);{var Y=U=>{var re=Mu(),Le=D(y(re),2),qe=y(Le);{let ge=B(()=>zt(N.NewNote)),He=B(()=>Ft(N.NewNote));xt(qe,{element:"a",get href(){return o(ge)},get onClick(){return o(He)},children:(Oe,Ve)=>{var Ee=Lu(),Ke=L(Ee);le(Ke,()=>({"--size":"18px","--color":"#b0b0b0"})),fe(Ke.lastChild,{name:"plus"}),m(Oe,Ee)},$$slots:{default:!0}})}var ve=D(Le,4),ke=y(ve);{let ge=B(()=>zt(N.ImportData)),He=B(()=>Ft(N.ImportData));xt(ke,{element:"a",get href(){return o(ge)},get onClick(){return o(He)},children:(Oe,Ve)=>{var Ee=Ou(),Ke=L(Ee);le(Ke,()=>({"--size":"18px","--color":"#b0b0b0"})),fe(Ke.lastChild,{name:"import"}),m(Oe,Ee)},$$slots:{default:!0}})}m(U,re)},V=U=>{var re=W(),Le=L(re);{var qe=ke=>{var ge=Iu();m(ke,ge)},ve=ke=>{var ge=Ru(),He=y(ge);ln(He,23,()=>o(p),Oe=>Oe.id,(Oe,Ve,Ee)=>{{let Ke=B(()=>o(Ee)*n<o(s)-o(T)-n/2||o(Ee)*n>o(s)-o(T)+Math.floor(o(r)/n)*n),Gt=B(()=>(o(Ee)+3)*n<o(s)-o(T)-n/2||(o(Ee)+3)*n>o(s)-o(T)+Math.floor(o(r)/n)*n);Du(Oe,{get focusHidden(){return o(Ke)},get showMenuUp(){return o(Gt)},get note(){return o(Ve)}})}}),ie(Oe=>{On(ge,`min-height: ${Oe??""}px`),On(He,`transform: translateY(${o(T)??""}px);`)},[()=>Math.max((o(C)>o(r),o(C)),0)]),m(ke,ge)};R(Le,ke=>{o(p).length===0?ke(qe):ke(ve,!1)},!0)}m(U,re)};R(oe,U=>{(o(_)()||[]).length===0?U(Y):U(V,!1)},!0)}m(I,K)};R(q,I=>{kr()?I(H,!1):I(z)})}m(e,F),Z()}var zu=M('<!> <div class="content svelte-cu0ar8"><!></div>',1);function xo(e){var t=zu(),n=L(t);Vc(n,{});var r=D(n,2),a=y(r);ju(a,{}),m(e,t)}const Fu=Object.freeze(Object.defineProperty({__proto__:null,default:xo},Symbol.toStringTag,{value:"Module"}));var Uu=M('<div class="wrapper svelte-1syxvud"><fieldset class="switcher svelte-1syxvud"><legend class="vh svelte-1syxvud">Color Scheme</legend> <input id="light" type="radio" aria-label="Light"/> <label for="light" title="Light" aria-label="Light"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <input id="system" type="radio" aria-label="System"/> <label for="system" title="System" aria-label="System"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <input id="dark" type="radio" aria-label="Dark"/> <label for="dark" title="Dark" aria-label="Dark"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <div class="wrapSwitcherStatus svelte-1syxvud"><div class="switcherStatus svelte-1syxvud"></div></div></fieldset></div>');function qu(e,t){X(t,!0);const n={Light:"light",System:"system",Dark:"dark"};let r=O(we(localStorage.getItem("colorScheme")||n.System));const a=_=>{localStorage.setItem("colorScheme",_),_===n.System?window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.dataset.colorScheme=n.Dark:document.documentElement.dataset.colorScheme=n.Light:document.documentElement.dataset.colorScheme=_,k(r,_,!0)},s=_=>{const C=_.target.value;a(C)},i="color-scheme-switcher";var l={setColorScheme:a,handleChange:s},c=Uu(),u=y(c),f=D(y(u),2);ee(f,1,$(["vh","input"]),"svelte-1syxvud"),_e(f,"name",i),f.__change=s;var d=D(f,2);ee(d,1,$(["switcherButton","light"]),"svelte-1syxvud");var v=y(d);le(v,()=>({"--size":"20px"})),fe(v.lastChild,{name:"sun"});var g=D(d,2);ee(g,1,$(["vh","input"]),"svelte-1syxvud"),_e(g,"name",i),g.__change=s;var h=D(g,2);ee(h,1,$(["switcherButton","system"]),"svelte-1syxvud");var b=y(h);le(b,()=>({"--size":"14px"})),fe(b.lastChild,{name:"a"});var w=D(h,2);ee(w,1,$(["vh","input"]),"svelte-1syxvud"),_e(w,"name",i),w.__change=s;var E=D(w,2);ee(E,1,$(["switcherButton","dark"]),"svelte-1syxvud");var S=y(E);return le(S,()=>({"--size":"20px"})),fe(S.lastChild,{name:"moon"}),ie(()=>{Or(f,n.Light),or(f,o(r)===n.Light),Or(g,n.System),or(g,o(r)===n.System),Or(w,n.Dark),or(w,o(r)===n.Dark)}),m(e,c),Z(l)}Ae(["change"]);const Hu=(e,t)=>{t.onChange(!t.checked)};var Vu=M('<label class="switch svelte-15kl8eb"><input class="vh svelte-15kl8eb" type="checkbox"/> <span class="slider svelte-15kl8eb"></span></label>');function Ku(e,t){X(t,!0);var n=Vu(),r=y(n);r.__change=[Hu,t],ie(()=>or(r,t.checked)),m(e,n),Z()}Ae(["change"]);const Wu=()=>{at(N.ImportData)},Yu=()=>{at(N.ExportData)},Gu=()=>{at(N.ClearStore)},Xu=()=>{at(N.Account)},Zu=()=>{at(N.About)};var Ju=M("<span> </span>"),Qu=M('<div class="svelte-1kuxgbs"><!> <ul class="svelte-1kuxgbs"><li class="svelte-1kuxgbs"><button class="button svelte-1kuxgbs"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1kuxgbs">Import data</span></button></li> <li class="svelte-1kuxgbs"><button class="button svelte-1kuxgbs"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1kuxgbs">Export data</span></button></li> <li class="svelte-1kuxgbs"><button class="button svelte-1kuxgbs"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1kuxgbs">Clear storage</span></button></li> <li class="svelte-1kuxgbs"><button class="button svelte-1kuxgbs"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1kuxgbs">Account</span></button></li> <li class="svelte-1kuxgbs"><button class="button svelte-1kuxgbs"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1kuxgbs">About</span></button></li></ul> <div class="favicons svelte-1kuxgbs"><span class="faviconsLabel svelte-1kuxgbs">show favicons (use duckduckgo servers)</span> <!></div> <div class="version svelte-1kuxgbs"><!></div></div>');function Do(e,t){X(t,!0);let n=O("");const r=async H=>{try{const K=await(await fetch("/build-metadata.json",{signal:H})).json();k(n,`${K.buildHash}`)}catch{console.error("Failed to load build metadata")}};he(()=>{const H=new AbortController;return r(H.signal),()=>{H.abort()}});let a=B(vo);const s=H=>{su(H)};he(()=>{console.log("Page Settings mounted")});var i=Qu(),l=y(i);qu(l,{});var c=D(l,2),u=y(c),f=y(u);f.__click=[Wu];var d=y(f);le(d,()=>({"--size":"28px"})),fe(d.lastChild,{name:"import"});var v=D(u,2),g=y(v);g.__click=[Yu];var h=y(g);le(h,()=>({"--size":"28px"})),fe(h.lastChild,{name:"export"});var b=D(v,2),w=y(b);w.__click=[Gu];var E=y(w);le(E,()=>({"--size":"28px"})),fe(E.lastChild,{name:"trash"});var S=D(b,2),_=y(S);_.__click=[Xu];var C=y(_);le(C,()=>({"--size":"28px"})),fe(C.lastChild,{name:"account"});var P=D(S,2),p=y(P);p.__click=[Zu];var x=y(p);le(x,()=>({"--size":"28px"})),fe(x.lastChild,{name:"about"});var T=D(c,2),F=D(y(T),2);Ku(F,{get checked(){return o(a)},onChange:s});var J=D(T,2),q=y(J);{var z=H=>{var I=Ju(),K=y(I);ie(oe=>wn(K,`version: 0.0.1 build_date: "${oe??""}" build_hash:
				${o(n)??""}`),[()=>new Date(1758053498019).toISOString().replaceAll("T"," ").replace(/\..*/,"")]),m(H,I)};R(q,H=>{o(n)&&H(z)})}m(e,i),Z()}Ae(["click"]);const $u=Object.freeze(Object.defineProperty({__proto__:null,default:Do},Symbol.toStringTag,{value:"Module"}));var ed=M('<div class="content svelte-9hh95f"><p class="message svelte-9hh95f">use app</p> <div class="buttonContainer svelte-9hh95f"><div class="buttonContainerItem svelte-9hh95f"><!></div> <div class="buttonContainerItem svelte-9hh95f"><!></div></div></div>');function Ao(e,t){X(t,!0);let n=O("idle");const r=()=>{k(n,"loading"),at(N.Auth)},a=async()=>{k(n,"loading"),await iu(),Dn(!1),no()};Ce(()=>{Dn(o(n)==="idle"||o(n)==="loading")}),he(()=>(Dn(!0),()=>{Dn(!1)}));var s=ed(),i=D(y(s),2),l=y(i),c=y(l);xt(c,{onClick:r,fullWidth:!0,children:(d,v)=>{var g=Pe("cloud account");m(d,g)},$$slots:{default:!0}});var u=D(l,2),f=y(u);xt(f,{onClick:a,fullWidth:!0,type:"secondary",children:(d,v)=>{var g=Pe("local account");m(d,g)},$$slots:{default:!0}}),m(e,s),Z()}const td=Object.freeze(Object.defineProperty({__proto__:null,default:Ao},Symbol.toStringTag,{value:"Module"}));var nd=M('<div class="content svelte-9hh95f"><p class="message svelte-9hh95f">sign in / sign up</p> <div class="buttonContainer svelte-9hh95f"><div class="buttonContainerItem svelte-9hh95f"><!></div> <div class="buttonContainerItem svelte-9hh95f"><!></div></div></div>');function To(e,t){X(t,!0);let n=B(ya);const r=async()=>{at(N.Signin)},a=async()=>{at(N.Signup)};he(()=>(console.log("Auth onMount"),o(n)===void 0&&(Dn(!0),Ga(!0)),()=>{Ga(!1)}));var s=nd(),i=D(y(s),2),l=y(i),c=y(l);xt(c,{onClick:r,fullWidth:!0,children:(d,v)=>{var g=Pe("sign in");m(d,g)},$$slots:{default:!0}});var u=D(l,2),f=y(u);xt(f,{onClick:a,fullWidth:!0,children:(d,v)=>{var g=Pe("sign up");m(d,g)},$$slots:{default:!0}}),m(e,s),Z()}const rd=Object.freeze(Object.defineProperty({__proto__:null,default:To},Symbol.toStringTag,{value:"Module"}));var ad=M('<div class="svelte-frpywy"><!></div>');function Se(e,t){X(t,!0);let n=O(null);he(()=>{o(n)&&(o(n).getBoundingClientRect(),o(n).style.opacity="1");const s=new ResizeObserver(i=>{for(let l of i){const c=l.contentRect.height;Sc(c)}});if(o(n))return s.observe(o(n)),()=>{o(n)&&s.unobserve(o(n)),s.disconnect()}});var r=ad(),a=y(r);De(a,()=>t.children),rt(r,s=>k(n,s),()=>o(n)),m(e,r),Z()}var sd=M('<div class="svelte-ndasxn"><p class="svelte-ndasxn">Page not found</p> <!></div>');function No(e,t){X(t,!1);const n=s=>{s.preventDefault(),ht("/")};Hn();var r=sd(),a=D(y(r),2);xt(a,{element:"a",href:"/",onClick:n,children:(s,i)=>{var l=Pe("close");m(s,l)},$$slots:{default:!0}}),m(e,r),Z()}const od=Object.freeze(Object.defineProperty({__proto__:null,default:No},Symbol.toStringTag,{value:"Module"}));var id=M('<div class="svelte-1tpcci8"><p class="svelte-1tpcci8">Something went wrong. Please reload the page</p> <!></div>');function ld(e){var t=id(),n=D(y(t),2);xt(n,{onClick:()=>location.reload(),children:(r,a)=>{var s=Pe("Reload");m(r,s)},$$slots:{default:!0}}),m(e,t)}var cd=M('<div class="svelte-uzefkz"><!></div>');function ud(e,t){X(t,!1);const n=uo();Hn();var r=cd(),a=y(r);Po(a,{}),ie(()=>On(r,`min-height: ${n??""}px;`)),m(e,r),Z()}function Be(e,t){X(t,!0);const n={},r=Object.assign({"./Pages/About.svelte":()=>pe(()=>import("./About-Co0_xkBt.js"),__vite__mapDeps([2,3])),"./Pages/AccessKeys.svelte":()=>pe(()=>import("./AccessKeys-Cga4VPjW.js"),__vite__mapDeps([4,5,6])),"./Pages/Account.svelte":()=>pe(()=>import("./Account-DA2swpe5.js"),__vite__mapDeps([7,8])),"./Pages/Auth.svelte":()=>pe(()=>Promise.resolve().then(()=>rd),void 0),"./Pages/ClearStore.svelte":()=>pe(()=>import("./ClearStore-CrONDZg8.js"),__vite__mapDeps([9,10])),"./Pages/ConfirmAccessKey.svelte":()=>pe(()=>import("./ConfirmAccessKey-AkkmPsZ2.js"),__vite__mapDeps([11,5,12,13,14])),"./Pages/EditNote.svelte":()=>pe(()=>import("./EditNote-GyWAvN5B.js"),__vite__mapDeps([15,16,12,13,17])),"./Pages/Exit.svelte":()=>pe(()=>import("./Exit-BtLrN9vs.js"),__vite__mapDeps([18,19])),"./Pages/ExportData.svelte":()=>pe(()=>import("./ExportData-Cb_PJgI5.js"),__vite__mapDeps([20,21])),"./Pages/Home.svelte":()=>pe(()=>Promise.resolve().then(()=>Fu),void 0),"./Pages/ImportData.svelte":()=>pe(()=>import("./ImportData-vcQMwnHU.js"),__vite__mapDeps([22,23])),"./Pages/NewNote.svelte":()=>pe(()=>import("./NewNote-DNXhx3nu.js"),__vite__mapDeps([24,16,12,13,17])),"./Pages/NotFound.svelte":()=>pe(()=>Promise.resolve().then(()=>od),void 0),"./Pages/Settings.svelte":()=>pe(()=>Promise.resolve().then(()=>$u),void 0),"./Pages/Signin.svelte":()=>pe(()=>import("./Signin-CPrjjYfA.js"),__vite__mapDeps([25,5,26])),"./Pages/Signup.svelte":()=>pe(()=>import("./Signup-BfhreHHS.js"),__vite__mapDeps([27,5,26])),"./Pages/Start.svelte":()=>pe(()=>Promise.resolve().then(()=>td),void 0),"./Pages/Subscription.svelte":()=>pe(()=>import("./Subscription-B4IP9NjZ.js"),__vite__mapDeps([28,29])),"./Pages/Sync.svelte":()=>pe(()=>import("./Sync-DBMcYoJb.js"),__vite__mapDeps([30,31]))}),a=async l=>{const c=`./Pages/${l[0].toUpperCase()+l.slice(1)}.svelte`;if(!n[l]){if(r[c]){const u=r[c]();return n[l]={promise:u},n[l].module=await u,n[l].module}throw new Error(`Page ${l} not found`)}return n[l].module||await n[l].promise};var s=W(),i=L(s);zs(i,()=>a(t.page),l=>{ud(l,{})},(l,c)=>{const u=B(()=>o(c).default);var f=W(),d=L(f);qs(d,()=>o(u),(v,g)=>{g(v,{get params(){return t.params},get hidden(){return t.hidden}})}),m(l,f)},l=>{ld(l)}),m(e,s),Z()}const $a=(e,t=Xe,n=Xe,r)=>{let a=_r(()=>ti(r?.(),!1));var s=W(),i=L(s);{var l=u=>{Se(u,{children:(f,d)=>{Do(f,{})},$$slots:{default:!0}})},c=u=>{var f=W(),d=L(f);{var v=h=>{Se(h,{children:(b,w)=>{Be(b,{get hidden(){return o(a)},get page(){return N.NewNote}})},$$slots:{default:!0}})},g=h=>{var b=W(),w=L(b);{var E=_=>{Se(_,{children:(C,P)=>{Be(C,{get params(){return n()},get hidden(){return o(a)},get page(){return N.EditNote}})},$$slots:{default:!0}})},S=_=>{var C=W(),P=L(C);{var p=T=>{Se(T,{children:(F,J)=>{Be(F,{get hidden(){return o(a)},get page(){return N.ImportData}})},$$slots:{default:!0}})},x=T=>{var F=W(),J=L(F);{var q=H=>{Se(H,{children:(I,K)=>{Be(I,{get hidden(){return o(a)},get page(){return N.ExportData}})},$$slots:{default:!0}})},z=H=>{var I=W(),K=L(I);{var oe=V=>{Se(V,{children:(U,re)=>{Be(U,{get hidden(){return o(a)},get page(){return N.ClearStore}})},$$slots:{default:!0}})},Y=V=>{var U=W(),re=L(U);{var Le=ve=>{Se(ve,{children:(ke,ge)=>{Ao(ke,{})},$$slots:{default:!0}})},qe=ve=>{var ke=W(),ge=L(ke);{var He=Ve=>{Se(Ve,{children:(Ee,Ke)=>{To(Ee,{})},$$slots:{default:!0}})},Oe=Ve=>{var Ee=W(),Ke=L(Ee);{var Gt=pt=>{Se(pt,{children:(Xt,ce)=>{Be(Xt,{get hidden(){return o(a)},get page(){return N.Signup}})},$$slots:{default:!0}})},Yn=pt=>{var Xt=W(),ce=L(Xt);{var Me=$e=>{Se($e,{children:(Zt,Jt)=>{Be(Zt,{get hidden(){return o(a)},get page(){return N.Signin}})},$$slots:{default:!0}})},Ie=$e=>{var Zt=W(),Jt=L(Zt);{var Lo=Qt=>{Se(Qt,{children:(Gn,Pa)=>{Be(Gn,{get hidden(){return o(a)},get page(){return N.AccessKeys}})},$$slots:{default:!0}})},Oo=Qt=>{var Gn=W(),Pa=L(Gn);{var Mo=$t=>{Se($t,{children:(Xn,xa)=>{Be(Xn,{get hidden(){return o(a)},get page(){return N.Account}})},$$slots:{default:!0}})},Io=$t=>{var Xn=W(),xa=L(Xn);{var Ro=en=>{Se(en,{children:(Zn,Da)=>{Be(Zn,{get hidden(){return o(a)},get page(){return N.ConfirmAccessKey}})},$$slots:{default:!0}})},Bo=en=>{var Zn=W(),Da=L(Zn);{var jo=tn=>{Se(tn,{children:(Jn,Aa)=>{Be(Jn,{get hidden(){return o(a)},get page(){return N.Exit}})},$$slots:{default:!0}})},zo=tn=>{var Jn=W(),Aa=L(Jn);{var Fo=nn=>{Se(nn,{children:(Qn,Ta)=>{Be(Qn,{get hidden(){return o(a)},get page(){return N.Sync}})},$$slots:{default:!0}})},Uo=nn=>{var Qn=W(),Ta=L(Qn);{var qo=rn=>{Se(rn,{children:($n,Na)=>{Be($n,{get hidden(){return o(a)},get page(){return N.Subscription}})},$$slots:{default:!0}})},Ho=rn=>{var $n=W(),Na=L($n);{var Vo=an=>{Se(an,{children:(Pr,Wo)=>{Be(Pr,{get hidden(){return o(a)},get page(){return N.About}})},$$slots:{default:!0}})},Ko=an=>{Se(an,{children:(Pr,Wo)=>{No(Pr,{})},$$slots:{default:!0}})};R(Na,an=>{t()===N.About?an(Vo):an(Ko,!1)},!0)}m(rn,$n)};R(Ta,rn=>{t()===N.Subscription?rn(qo):rn(Ho,!1)},!0)}m(nn,Qn)};R(Aa,nn=>{t()===N.Sync?nn(Fo):nn(Uo,!1)},!0)}m(tn,Jn)};R(Da,tn=>{t()===N.Exit?tn(jo):tn(zo,!1)},!0)}m(en,Zn)};R(xa,en=>{t()===N.ConfirmAccessKey?en(Ro):en(Bo,!1)},!0)}m($t,Xn)};R(Pa,$t=>{t()===N.Account?$t(Mo):$t(Io,!1)},!0)}m(Qt,Gn)};R(Jt,Qt=>{t()===N.AccessKeys?Qt(Lo):Qt(Oo,!1)},!0)}m($e,Zt)};R(ce,$e=>{t()===N.Signin?$e(Me):$e(Ie,!1)},!0)}m(pt,Xt)};R(Ke,pt=>{t()===N.Signup?pt(Gt):pt(Yn,!1)},!0)}m(Ve,Ee)};R(ge,Ve=>{t()===N.Auth?Ve(He):Ve(Oe,!1)},!0)}m(ve,ke)};R(re,ve=>{t()===N.Start?ve(Le):ve(qe,!1)},!0)}m(V,U)};R(K,V=>{t()===N.ClearStore?V(oe):V(Y,!1)},!0)}m(H,I)};R(J,H=>{t()===N.ExportData?H(q):H(z,!1)},!0)}m(T,F)};R(P,T=>{t()===N.ImportData?T(p):T(x,!1)},!0)}m(_,C)};R(w,_=>{t()===N.EditNote?_(E):_(S,!1)},!0)}m(h,b)};R(d,h=>{t()===N.NewNote?h(v):h(g,!1)},!0)}m(u,f)};R(i,u=>{t()==="settings"?u(l):u(c,!1)})}m(e,s)};var dd=M("<!> <!>",1);function fd(e,t){X(t,!0);let n=B(dc),r=B(kr);const{checkMobileSize:a}=kn();var s=dd(),i=L(s);{var l=d=>{xo(d)};R(i,d=>{o(r)&&d(l)})}var c=D(i,2);{var u=d=>{var v=W(),g=L(v);ln(g,19,()=>o(n),h=>h.page,(h,b,w)=>{const E=B(()=>o(b).page.split("?")[1]),S=B(()=>o(b).page.split("?")[0]);{let _=B(()=>o(w)!==o(n).length-1&&!!o(n)[o(w)+1]?.shown),C=B(()=>o(w)===0);Xa(h,{get shown(){return o(b).shown},get hidden(){return o(_)},get isLastDialog(){return o(C)},children:(P,p)=>{{let x=B(()=>o(w)!==o(n).length-1&&!!o(n)[o(w)+1]?.shown);$a(P,()=>o(S),()=>o(E),()=>o(x))}},$$slots:{default:!0}})}}),m(d,v)},f=d=>{var v=W(),g=L(v);{var h=b=>{const w=B(()=>o(n)[o(n).length-1].page.split("?")[1]),E=B(()=>o(n)[o(n).length-1].page.split("?")[0]);{let S=B(()=>o(n).length===1);Xa(b,{onBack:()=>lo(),get shown(){return o(n)[o(n).length-1].shown},hidden:!1,get isLastDialog(){return o(S)},children:(_,C)=>{$a(_,()=>o(E),()=>o(w))},$$slots:{default:!0}})}};R(g,b=>{o(n).length>0&&b(h)},!0)}m(d,v)};R(c,d=>{a()?d(u):d(f,!1)})}m(e,s),Z()}function vd(e,t){X(t,!1),he(()=>{Rr(),document.addEventListener("focusin",Rr),document.addEventListener("focusout",Rr)}),Hn(),Z()}function hd(e,t){X(t,!1);let n=0;he(()=>{document.addEventListener("touchstart",r=>{n=r.touches[0].clientX},{passive:!1}),document.addEventListener("touchmove",r=>{const s=r.touches[0].clientX-n;(n<50&&s>0||n>window.innerWidth-50&&s<0)&&r.preventDefault()},{passive:!1}),document.addEventListener("touchend",()=>{n=0}),document.addEventListener("touchcancel",()=>{n=0})}),Hn(),Z()}const gd=(e,t)=>{o(t)&&o(t).scrollTo({top:0})};var pd=M('<div class="container svelte-1rgtneh"><!></div>'),_d=M('<div class="wrapperButtonTop svelte-1rgtneh"><button class="buttonTop svelte-1rgtneh"><!> <span class="icon svelte-1rgtneh"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></span></button></div>'),md=M("<!> <!> <!> <main><!> <!></main> <!>",1);function wd(e,t){X(t,!0);const n=Vn();he(async()=>{await new Promise(p=>setTimeout(p,100)),await Is(),n.working=!0});let r=O(!1),a=0,s=B(()=>At().length>0),i=B(kr),l=B(()=>ya()!==void 0),c=O(null);Ce(()=>{pa.ref=o(c)});const u=()=>{if(o(c)){const p=o(c).scrollTop||0;p===0?k(r,!1):!o(r)&&a>p?k(r,!0):o(r)&&a+50<p&&k(r,!1),a=p}},f=()=>{u()};Ce(()=>(o(c)?.addEventListener("scroll",f),window.addEventListener("resize",f),()=>{o(c)?.removeEventListener("scroll",f),window.removeEventListener("resize",f)}));var d=md(),v=L(d);hd(v,{});var g=D(v,2);vd(g,{});var h=D(g,2);Rl(h,{});var b=D(h,2),w=y(b);{var E=p=>{vc(p,{})};R(w,p=>{o(i)&&p(E)})}var S=D(w,2);{var _=p=>{var x=pd(),T=y(x);fd(T,{}),m(p,x)};R(S,p=>{(o(i)||!o(l))&&p(_)})}rt(b,p=>k(c,p),()=>o(c));var C=D(b,2);{var P=p=>{var x=_d(),T=y(x);T.__click=[gd,c];var F=y(T);tt(F,{children:(z,H)=>{var I=Pe("top");m(z,I)}});var J=D(F,2),q=y(J);le(q,()=>({"--rotate":"90deg","--size":"28px"})),fe(q.lastChild,{name:"back"}),m(p,x)};R(C,p=>{o(r)&&p(P)})}ie(()=>{On(b,`--swiping-ratio: ${n.swipingRatio}; --transition-timing-default: ${n.duration}s;`),ee(b,1,$(["main",{isAnimationOn:n.working&&!n.isSwiping,open:o(s)}]),"svelte-1rgtneh")}),m(e,d),Z()}Ae(["click"]);function yd(e){Nl(e,{children:(t,n)=>{wd(t,{})}})}window.addEventListener("unhandledrejection",e=>{alert("Error: "+e.reason.message)});window.isUnsupportedBrowser||il(yd,{target:document.getElementById("app")});export{or as $,ya as A,xt as B,Bd as C,at as D,Ed as E,Id as F,no as G,da as H,fe as I,Nd as J,Dd as K,Po as L,Ad as M,lo as N,Zl as O,N as P,ba as Q,Md as R,Hn as S,Fd as T,kd as U,tt as V,ae as W,ee as X,$ as Y,_e as Z,Or as _,le as a,On as a0,Bc as a1,Wc as a2,kn as a3,rt as a4,Rd as a5,Ld as a6,on as a7,kr as a8,xd as a9,ml as aa,Od as ab,ru as ac,Ga as ad,jd as ae,A as af,Cd as ag,Pd as ah,zd as ai,hc as aj,Vn as ak,Ws as al,dc as am,Xs as an,zl as ao,De as ap,ro as aq,m as b,y as c,O as d,we as e,M as f,Dn as g,o as h,k as i,R as j,Z as k,W as l,L as m,Ae as n,he as o,X as p,ln as q,wn as r,D as s,ie as t,Ce as u,Pe as v,Td as w,B as x,Ft as y,zt as z};
