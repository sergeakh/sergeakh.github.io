const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/DesktopDialog-IPVXXSjj.js","assets/DesktopDialog-D8zTl_PA.css","assets/MobileSidebar-Vn3LaJ7S.js","assets/MobileSidebar-CUCj13hK.css","assets/AccessKeys-9NTKIndx.js","assets/api-C5JaEwh0.js","assets/AccessKeys-DF5NA1tk.css","assets/Account-C2Fai5qS.js","assets/Account-LI89flHz.css","assets/ClearStore-CVdZbGY7.js","assets/ClearStore-DiVqV26R.css","assets/ConfirmAccessKey-BqJWGhJG.js","assets/Input-BO6zyKhk.js","assets/Input-CSPHLXRh.css","assets/ConfirmAccessKey-BEOXyioc.css","assets/EditBookmark-DOvKxD6A.js","assets/BookmarkForm-DArMoUKW.js","assets/BookmarkForm-ByHyjQVg.css","assets/Exit-DsZXq902.js","assets/Exit-B7Im9AKN.css","assets/ExportData-Bs6oPc2K.js","assets/ExportData-Gq8zQKAw.css","assets/ImportData-BTNncRkr.js","assets/ImportData-CZGzVRRc.css","assets/NewBookmark-uR2nErLu.js","assets/Signin-tKWAf2hn.js","assets/Signin-CnX7iJxK.css","assets/Signup-Cc-wEPR4.js","assets/Subscription-BnFrvP6L.js","assets/Subscription-2ryrsj8c.css","assets/Sync-JyELfluZ.js","assets/Sync-BTYiYqAC.css"])))=>i.map(i=>d[i]);
var wo=Object.defineProperty;var ha=e=>{throw TypeError(e)};var yo=(e,t,n)=>t in e?wo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var $t=(e,t,n)=>yo(e,typeof t!="symbol"?t+"":t,n),vr=(e,t,n)=>t.has(e)||ha("Cannot "+n);var Q=(e,t,n)=>(vr(e,t,"read from private field"),n?n.call(e):t.get(e)),xe=(e,t,n)=>t.has(e)?ha("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Ue=(e,t,n,r)=>(vr(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Ct=(e,t,n)=>(vr(e,t,"access private method"),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(a){if(a.ep)return;a.ep=!0;const s=n(a);fetch(a.href,s)}})();const Ia=!1;var Ir=Array.isArray,bo=Array.prototype.indexOf,Rr=Array.from,Sr=Object.defineProperty,rn=Object.getOwnPropertyDescriptor,Ra=Object.getOwnPropertyDescriptors,So=Object.prototype,ko=Array.prototype,Br=Object.getPrototypeOf,pa=Object.isExtensible;const yt=()=>{};function Eo(e){return typeof e?.then=="function"}function Po(e){return e()}function Xn(e){for(var t=0;t<e.length;t++)e[t]()}function Co(){var e,t,n=new Promise((r,a)=>{e=r,t=a});return{promise:n,resolve:e,reject:t}}function Ao(e,t,n=!1){return e===void 0?n?t():t:e}const je=2,jr=4,tr=8,gn=16,lt=32,Ut=64,Ba=128,Ve=256,Zn=512,Ee=1024,He=2048,kt=4096,We=8192,zt=16384,Fr=32768,xn=65536,ga=1<<17,To=1<<18,Ur=1<<19,ja=1<<20,kr=1<<21,zr=1<<22,Dt=1<<23,Lt=Symbol("$state"),xo=Symbol("legacy props"),No=Symbol(""),qr=new class extends Error{constructor(){super(...arguments);$t(this,"name","StaleReactionError");$t(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function Do(){throw new Error("https://svelte.dev/e/await_outside_boundary")}function Lo(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Oo(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Mo(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Io(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Ro(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Bo(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function jo(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function Fo(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Uo(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function zo(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}const nr=1,rr=2,Fa=4,qo=8,Vo=16,Ho=1,Ko=2,Wo=4,Yo=8,Go=16,Xo=1,Zo=2,_e=Symbol(),Jo="http://www.w3.org/1999/xhtml";let Qo=!1;function Ua(e){return e===this.v}function $o(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function za(e){return!$o(e,this.v)}let _n=!1,ei=!1;function ti(){_n=!0}let de=null;function fn(e){de=e}function G(e,t=!1,n){de={p:de,c:null,e:null,s:e,x:null,l:_n&&!t?{s:null,u:null,$:[]}:null}}function X(e){var t=de,n=t.e;if(n!==null){t.e=null;for(var r of n)ns(r)}return e!==void 0&&(t.x=e),de=t.p,e??{}}function qt(){return!_n||de!==null&&de.l===null}const ni=new WeakMap;function ri(e){var t=W;if(t===null)return H.f|=Dt,e;if((t.f&Fr)===0){if((t.f&Ba)===0)throw!t.parent&&e instanceof Error&&qa(e),e;t.b.error(e)}else Vr(e,t)}function Vr(e,t){for(;t!==null;){if((t.f&Ba)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e instanceof Error&&qa(e),e}function qa(e){const t=ni.get(e);t&&(Sr(e,"message",{value:t.message}),Sr(e,"stack",{value:t.stack}))}let bn=[],Er=[];function Va(){var e=bn;bn=[],Xn(e)}function ai(){var e=Er;Er=[],Xn(e)}function ar(e){bn.length===0&&queueMicrotask(Va),bn.push(e)}function si(){bn.length>0&&Va(),Er.length>0&&ai()}function oi(){for(var e=W.b;e!==null&&!e.has_pending_snippet();)e=e.parent;return e===null&&Do(),e}function Nn(e){var t=je|He,n=H!==null&&(H.f&je)!==0?H:null;return W===null||n!==null&&(n.f&Ve)!==0?t|=Ve:W.f|=Ur,{ctx:de,deps:null,effects:null,equals:Ua,f:t,fn:e,reactions:null,rv:0,v:_e,wv:0,parent:n??W,ac:null}}function ii(e,t){let n=W;n===null&&Oo();var r=n.b,a=void 0,s=jt(_e),i=null,l=!H;return bi(()=>{try{var c=e()}catch(p){c=Promise.reject(p)}var u=()=>c;a=i?.then(u,u)??Promise.resolve(c),i=a;var d=re,v=r.pending;l&&(r.update_pending_count(1),v||d.increment());const h=(p,f=void 0)=>{i=null,v||d.activate(),f?f!==qr&&(s.f|=Dt,mt(s,f)):((s.f&Dt)!==0&&(s.f^=Dt),mt(s,p)),l&&(r.update_pending_count(-1),v||d.decrement()),Wa()};if(a.then(h,p=>h(null,p||"unknown")),d)return()=>{queueMicrotask(()=>d.neuter())}}),new Promise(c=>{function u(d){function v(){d===a?c(s):u(a)}d.then(v,v)}u(a)})}function D(e){const t=Nn(e);return ls(t),t}function sr(e){const t=Nn(e);return t.equals=za,t}function Ha(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)$e(t[n])}}function li(e){for(var t=e.parent;t!==null;){if((t.f&je)===0)return t;t=t.parent}return null}function Hr(e){var t,n=W;et(li(e));try{Ha(e),t=fs(e)}finally{et(n)}return t}function Ka(e){var t=Hr(e);if(e.equals(t)||(e.v=t,e.wv=us()),!Ht)if(vn!==null)vn.set(e,e.v);else{var n=(pt||(e.f&Ve)!==0)&&e.deps!==null?kt:Ee;De(e,n)}}function ci(e,t,n){const r=qt()?Nn:sr;if(t.length===0){n(e.map(r));return}var a=re,s=W,i=ui(),l=oi();Promise.all(t.map(c=>ii(c))).then(c=>{a?.activate(),i();try{n([...e.map(r),...c])}catch(u){(s.f&zt)===0&&Vr(u,s)}a?.deactivate(),Wa()}).catch(c=>{l.error(c)})}function ui(){var e=W,t=H,n=de;return function(){et(e),Ke(t),fn(n)}}function Wa(){et(null),Ke(null),fn(null)}const mn=new Set;let re=null,Kn=null,vn=null,_a=new Set,Jn=[];function Ya(){const e=Jn.shift();Jn.length>0&&queueMicrotask(Ya),e()}let Bt=[],or=null,Pr=!1,Wn=!1;var ln,cn,vt,Pn,Cn,xt,un,Nt,ht,dn,An,Tn,Ye,Ga,Yn,Cr;const er=class er{constructor(){xe(this,Ye);$t(this,"current",new Map);xe(this,ln,new Map);xe(this,cn,new Set);xe(this,vt,0);xe(this,Pn,null);xe(this,Cn,!1);xe(this,xt,[]);xe(this,un,[]);xe(this,Nt,[]);xe(this,ht,[]);xe(this,dn,[]);xe(this,An,[]);xe(this,Tn,[]);$t(this,"skipped_effects",new Set)}process(t){Bt=[],Kn=null;var n=null;if(mn.size>1){n=new Map,vn=new Map;for(const[s,i]of this.current)n.set(s,{v:s.v,wv:s.wv}),s.v=i;for(const s of mn)if(s!==this)for(const[i,l]of Q(s,ln))n.has(i)||(n.set(i,{v:i.v,wv:i.wv}),i.v=l)}for(const s of t)Ct(this,Ye,Ga).call(this,s);if(Q(this,xt).length===0&&Q(this,vt)===0){Ct(this,Ye,Cr).call(this);var r=Q(this,Nt),a=Q(this,ht);Ue(this,Nt,[]),Ue(this,ht,[]),Ue(this,dn,[]),Kn=re,re=null,ma(r),ma(a),re===null?re=this:mn.delete(this),Q(this,Pn)?.resolve()}else Ct(this,Ye,Yn).call(this,Q(this,Nt)),Ct(this,Ye,Yn).call(this,Q(this,ht)),Ct(this,Ye,Yn).call(this,Q(this,dn));if(n){for(const[s,{v:i,wv:l}]of n)s.wv<=l&&(s.v=i);vn=null}for(const s of Q(this,xt))on(s);for(const s of Q(this,un))on(s);Ue(this,xt,[]),Ue(this,un,[])}capture(t,n){Q(this,ln).has(t)||Q(this,ln).set(t,n),this.current.set(t,t.v)}activate(){re=this}deactivate(){re=null,Kn=null;for(const t of _a)if(_a.delete(t),t(),re!==null)break}neuter(){Ue(this,Cn,!0)}flush(){Bt.length>0?Za():Ct(this,Ye,Cr).call(this),re===this&&(Q(this,vt)===0&&mn.delete(this),this.deactivate())}increment(){Ue(this,vt,Q(this,vt)+1)}decrement(){if(Ue(this,vt,Q(this,vt)-1),Q(this,vt)===0){for(const t of Q(this,An))De(t,He),hn(t);for(const t of Q(this,Tn))De(t,kt),hn(t);Ue(this,Nt,[]),Ue(this,ht,[]),this.flush()}else this.deactivate()}add_callback(t){Q(this,cn).add(t)}settled(){return(Q(this,Pn)??Ue(this,Pn,Co())).promise}static ensure(){if(re===null){const t=re=new er;mn.add(re),Wn||er.enqueue(()=>{re===t&&t.flush()})}return re}static enqueue(t){Jn.length===0&&queueMicrotask(Ya),Jn.unshift(t)}};ln=new WeakMap,cn=new WeakMap,vt=new WeakMap,Pn=new WeakMap,Cn=new WeakMap,xt=new WeakMap,un=new WeakMap,Nt=new WeakMap,ht=new WeakMap,dn=new WeakMap,An=new WeakMap,Tn=new WeakMap,Ye=new WeakSet,Ga=function(t){t.f^=Ee;for(var n=t.first;n!==null;){var r=n.f,a=(r&(lt|Ut))!==0,s=a&&(r&Ee)!==0,i=s||(r&We)!==0||this.skipped_effects.has(n);if(!i&&n.fn!==null){if(a)n.f^=Ee;else if((r&jr)!==0)Q(this,ht).push(n);else if((r&Ee)===0)if((r&zr)!==0){var l=n.b?.pending?Q(this,un):Q(this,xt);l.push(n)}else cr(n)&&((n.f&gn)!==0&&Q(this,dn).push(n),on(n));var c=n.first;if(c!==null){n=c;continue}}var u=n.parent;for(n=n.next;n===null&&u!==null;)n=u.next,u=u.parent}},Yn=function(t){for(const n of t)((n.f&He)!==0?Q(this,An):Q(this,Tn)).push(n),De(n,Ee);t.length=0},Cr=function(){if(!Q(this,Cn))for(const t of Q(this,cn))t();Q(this,cn).clear()};let Sn=er;function Xa(e){var t=Wn;Wn=!0;try{for(var n;;){if(si(),Bt.length===0&&(re?.flush(),Bt.length===0))return or=null,n;Za()}}finally{Wn=t}}function Za(){var e=sn;Pr=!0;try{var t=0;for(ba(!0);Bt.length>0;){var n=Sn.ensure();if(t++>1e3){var r,a;di()}n.process(Bt),_t.clear()}}finally{Pr=!1,ba(e),or=null}}function di(){try{Bo()}catch(e){Vr(e,or)}}let At=null;function ma(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if((r.f&(zt|We))===0&&cr(r)&&(At=[],on(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?ss(r):r.fn=null),At.length>0)){_t.clear();for(const a of At)on(a);At=[]}}At=null}}function hn(e){for(var t=or=e;t.parent!==null;){t=t.parent;var n=t.f;if(Pr&&t===W&&(n&gn)!==0)return;if((n&(Ut|lt))!==0){if((n&Ee)===0)return;t.f^=Ee}}Bt.push(t)}const _t=new Map;function jt(e,t){var n={f:0,v:e,reactions:null,equals:Ua,rv:0,wv:0};return n}function L(e,t){const n=jt(e);return ls(n),n}function Ar(e,t=!1,n=!0){var a;const r=jt(e);return t||(r.equals=za),_n&&n&&de!==null&&de.l!==null&&((a=de.l).s??(a.s=[])).push(r),r}function P(e,t,n=!1){H!==null&&(!Ze||(H.f&ga)!==0)&&qt()&&(H.f&(je|gn|zr|ga))!==0&&!st?.includes(e)&&zo();let r=n?he(t):t;return mt(e,r)}function mt(e,t){if(!e.equals(t)){var n=e.v;Ht?_t.set(e,t):_t.set(e,n),e.v=t;var r=Sn.ensure();r.capture(e,n),(e.f&je)!==0&&((e.f&He)!==0&&Hr(e),De(e,(e.f&Ve)===0?Ee:kt)),e.wv=us(),Ja(e,He),qt()&&W!==null&&(W.f&Ee)!==0&&(W.f&(lt|Ut))===0&&(qe===null?Ei([e]):qe.push(e))}return t}function hr(e){P(e,e.v+1)}function Ja(e,t){var n=e.reactions;if(n!==null)for(var r=qt(),a=n.length,s=0;s<a;s++){var i=n[s],l=i.f;if(!(!r&&i===W)){var c=(l&He)===0;c&&De(i,t),(l&je)!==0?Ja(i,kt):c&&((l&gn)!==0&&At!==null&&At.push(i),hn(i))}}}function he(e){if(typeof e!="object"||e===null||Lt in e)return e;const t=Br(e);if(t!==So&&t!==ko)return e;var n=new Map,r=Ir(e),a=L(0),s=Mt,i=l=>{if(Mt===s)return l();var c=H,u=Mt;Ke(null),ka(s);var d=l();return Ke(c),ka(u),d};return r&&n.set("length",L(e.length)),new Proxy(e,{defineProperty(l,c,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&Fo();var d=n.get(c);return d===void 0?d=i(()=>{var v=L(u.value);return n.set(c,v),v}):P(d,u.value,!0),!0},deleteProperty(l,c){var u=n.get(c);if(u===void 0){if(c in l){const d=i(()=>L(_e));n.set(c,d),hr(a)}}else P(u,_e),hr(a);return!0},get(l,c,u){if(c===Lt)return e;var d=n.get(c),v=c in l;if(d===void 0&&(!v||rn(l,c)?.writable)&&(d=i(()=>{var p=he(v?l[c]:_e),f=L(p);return f}),n.set(c,d)),d!==void 0){var h=o(d);return h===_e?void 0:h}return Reflect.get(l,c,u)},getOwnPropertyDescriptor(l,c){var u=Reflect.getOwnPropertyDescriptor(l,c);if(u&&"value"in u){var d=n.get(c);d&&(u.value=o(d))}else if(u===void 0){var v=n.get(c),h=v?.v;if(v!==void 0&&h!==_e)return{enumerable:!0,configurable:!0,value:h,writable:!0}}return u},has(l,c){if(c===Lt)return!0;var u=n.get(c),d=u!==void 0&&u.v!==_e||Reflect.has(l,c);if(u!==void 0||W!==null&&(!d||rn(l,c)?.writable)){u===void 0&&(u=i(()=>{var h=d?he(l[c]):_e,p=L(h);return p}),n.set(c,u));var v=o(u);if(v===_e)return!1}return d},set(l,c,u,d){var v=n.get(c),h=c in l;if(r&&c==="length")for(var p=u;p<v.v;p+=1){var f=n.get(p+"");f!==void 0?P(f,_e):p in l&&(f=i(()=>L(_e)),n.set(p+"",f))}if(v===void 0)(!h||rn(l,c)?.writable)&&(v=i(()=>L(void 0)),P(v,he(u)),n.set(c,v));else{h=v.v!==_e;var g=i(()=>he(u));P(v,g)}var _=Reflect.getOwnPropertyDescriptor(l,c);if(_?.set&&_.set.call(d,u),!h){if(r&&typeof c=="string"){var w=n.get("length"),b=Number(c);Number.isInteger(b)&&b>=w.v&&P(w,b+1)}hr(a)}return!0},ownKeys(l){o(a);var c=Reflect.ownKeys(l).filter(v=>{var h=n.get(v);return h===void 0||h.v!==_e});for(var[u,d]of n)d.v!==_e&&!(u in l)&&c.push(u);return c},setPrototypeOf(){Uo()}})}var wa,Qa,$a,es;function fi(){if(wa===void 0){wa=window,Qa=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;$a=rn(t,"firstChild").get,es=rn(t,"nextSibling").get,pa(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),pa(n)&&(n.__t=void 0)}}function Vt(e=""){return document.createTextNode(e)}function pn(e){return $a.call(e)}function ir(e){return es.call(e)}function k(e,t){return pn(e)}function M(e,t){{var n=pn(e);return n instanceof Comment&&n.data===""?ir(n):n}}function x(e,t=1,n=!1){let r=e;for(;t--;)r=ir(r);return r}function vi(e){e.textContent=""}function Kr(){return!1}let ya=!1;function hi(){ya||(ya=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function lr(e){var t=H,n=W;Ke(null),et(null);try{return e()}finally{Ke(t),et(n)}}function pi(e,t,n,r=n){e.addEventListener(t,()=>lr(n));const a=e.__on_r;a?e.__on_r=()=>{a(),r(!0)}:e.__on_r=()=>r(!0),hi()}function ts(e){W===null&&H===null&&Ro(),H!==null&&(H.f&Ve)!==0&&W===null&&Io(),Ht&&Mo()}function gi(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function rt(e,t,n,r=!0){var a=W;a!==null&&(a.f&We)!==0&&(e|=We);var s={ctx:de,deps:null,nodes_start:null,nodes_end:null,f:e|He,first:null,fn:t,last:null,next:null,parent:a,b:a&&a.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{on(s),s.f|=Fr}catch(c){throw $e(s),c}else t!==null&&hn(s);var i=n&&s.deps===null&&s.first===null&&s.nodes_start===null&&s.teardown===null&&(s.f&Ur)===0;if(!i&&r&&(a!==null&&gi(s,a),H!==null&&(H.f&je)!==0&&(e&Ut)===0)){var l=H;(l.effects??(l.effects=[])).push(s)}return s}function _i(e){const t=rt(tr,null,!1);return De(t,Ee),t.teardown=e,t}function Ae(e){ts();var t=W.f,n=!H&&(t&lt)!==0&&(t&Fr)===0;if(n){var r=de;(r.e??(r.e=[])).push(e)}else return ns(e)}function ns(e){return rt(jr|ja,e,!1)}function mi(e){return ts(),rt(tr|ja,e,!0)}function wi(e){Sn.ensure();const t=rt(Ut,e,!0);return(n={})=>new Promise(r=>{n.outro?Ot(t,()=>{$e(t),r(void 0)}):($e(t),r(void 0))})}function yi(e){return rt(jr,e,!1)}function bi(e){return rt(zr|Ur,e,!0)}function Wr(e,t=0){return rt(tr|t,e,!0)}function se(e,t=[],n=[]){ci(t,n,r=>{rt(tr,()=>e(...r.map(o)),!0)})}function Dn(e,t=0){var n=rt(gn|t,e,!0);return n}function Qe(e,t=!0){return rt(lt,e,!0,t)}function rs(e){var t=e.teardown;if(t!==null){const n=Ht,r=H;Sa(!0),Ke(null);try{t.call(null)}finally{Sa(n),Ke(r)}}}function as(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const a=n.ac;a!==null&&lr(()=>{a.abort(qr)});var r=n.next;(n.f&Ut)!==0?n.parent=null:$e(n,t),n=r}}function Si(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&lt)===0&&$e(t),t=n}}function $e(e,t=!0){var n=!1;(t||(e.f&To)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(ki(e.nodes_start,e.nodes_end),n=!0),as(e,t&&!n),Qn(e,0),De(e,zt);var r=e.transitions;if(r!==null)for(const s of r)s.stop();rs(e);var a=e.parent;a!==null&&a.first!==null&&ss(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function ki(e,t){for(;e!==null;){var n=e===t?null:ir(e);e.remove(),e=n}}function ss(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function Ot(e,t){var n=[];Yr(e,n,!0),os(n,()=>{$e(e),t&&t()})}function os(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var a of e)a.out(r)}else t()}function Yr(e,t,n){if((e.f&We)===0){if(e.f^=We,e.transitions!==null)for(const i of e.transitions)(i.is_global||n)&&t.push(i);for(var r=e.first;r!==null;){var a=r.next,s=(r.f&xn)!==0||(r.f&lt)!==0;Yr(r,t,s?n:!1),r=a}}}function an(e){is(e,!0)}function is(e,t){if((e.f&We)!==0){e.f^=We,(e.f&Ee)===0&&(De(e,He),hn(e));for(var n=e.first;n!==null;){var r=n.next,a=(n.f&xn)!==0||(n.f&lt)!==0;is(n,a?t:!1),n=r}if(e.transitions!==null)for(const s of e.transitions)(s.is_global||t)&&s.in()}}let sn=!1;function ba(e){sn=e}let Ht=!1;function Sa(e){Ht=e}let H=null,Ze=!1;function Ke(e){H=e}let W=null;function et(e){W=e}let st=null;function ls(e){H!==null&&(st===null?st=[e]:st.push(e))}let Ce=null,Be=0,qe=null;function Ei(e){qe=e}let cs=1,kn=0,Mt=kn;function ka(e){Mt=e}let pt=!1;function us(){return++cs}function cr(e){var t=e.f;if((t&He)!==0)return!0;if((t&kt)!==0){var n=e.deps,r=(t&Ve)!==0;if(n!==null){var a,s,i=(t&Zn)!==0,l=r&&W!==null&&!pt,c=n.length;if((i||l)&&(W===null||(W.f&zt)===0)){var u=e,d=u.parent;for(a=0;a<c;a++)s=n[a],(i||!s?.reactions?.includes(u))&&(s.reactions??(s.reactions=[])).push(u);i&&(u.f^=Zn),l&&d!==null&&(d.f&Ve)===0&&(u.f^=Ve)}for(a=0;a<c;a++)if(s=n[a],cr(s)&&Ka(s),s.wv>e.wv)return!0}(!r||W!==null&&!pt)&&De(e,Ee)}return!1}function ds(e,t,n=!0){var r=e.reactions;if(r!==null&&!st?.includes(e))for(var a=0;a<r.length;a++){var s=r[a];(s.f&je)!==0?ds(s,t,!1):t===s&&(n?De(s,He):(s.f&Ee)!==0&&De(s,kt),hn(s))}}function fs(e){var g;var t=Ce,n=Be,r=qe,a=H,s=pt,i=st,l=de,c=Ze,u=Mt,d=e.f;Ce=null,Be=0,qe=null,pt=(d&Ve)!==0&&(Ze||!sn||H===null),H=(d&(lt|Ut))===0?e:null,st=null,fn(e.ctx),Ze=!1,Mt=++kn,e.ac!==null&&(lr(()=>{e.ac.abort(qr)}),e.ac=null);try{e.f|=kr;var v=e.fn,h=v(),p=e.deps;if(Ce!==null){var f;if(Qn(e,Be),p!==null&&Be>0)for(p.length=Be+Ce.length,f=0;f<Ce.length;f++)p[Be+f]=Ce[f];else e.deps=p=Ce;if(!pt||(d&je)!==0&&e.reactions!==null)for(f=Be;f<p.length;f++)((g=p[f]).reactions??(g.reactions=[])).push(e)}else p!==null&&Be<p.length&&(Qn(e,Be),p.length=Be);if(qt()&&qe!==null&&!Ze&&p!==null&&(e.f&(je|kt|He))===0)for(f=0;f<qe.length;f++)ds(qe[f],e);return a!==null&&a!==e&&(kn++,qe!==null&&(r===null?r=qe:r.push(...qe))),(e.f&Dt)!==0&&(e.f^=Dt),h}catch(_){return ri(_)}finally{e.f^=kr,Ce=t,Be=n,qe=r,H=a,pt=s,st=i,fn(l),Ze=c,Mt=u}}function Pi(e,t){let n=t.reactions;if(n!==null){var r=bo.call(n,e);if(r!==-1){var a=n.length-1;a===0?n=t.reactions=null:(n[r]=n[a],n.pop())}}n===null&&(t.f&je)!==0&&(Ce===null||!Ce.includes(t))&&(De(t,kt),(t.f&(Ve|Zn))===0&&(t.f^=Zn),Ha(t),Qn(t,0))}function Qn(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)Pi(e,n[r])}function on(e){var t=e.f;if((t&zt)===0){De(e,Ee);var n=W,r=sn;W=e,sn=!0;try{(t&gn)!==0?Si(e):as(e),rs(e);var a=fs(e);e.teardown=typeof a=="function"?a:null,e.wv=cs;var s;Ia&&ei&&(e.f&He)!==0&&e.deps}finally{sn=r,W=n}}}async function Ci(){await Promise.resolve(),Xa()}function o(e){var t=e.f,n=(t&je)!==0;if(H!==null&&!Ze){var r=W!==null&&(W.f&zt)!==0;if(!r&&!st?.includes(e)){var a=H.deps;if((H.f&kr)!==0)e.rv<kn&&(e.rv=kn,Ce===null&&a!==null&&a[Be]===e?Be++:Ce===null?Ce=[e]:(!pt||!Ce.includes(e))&&Ce.push(e));else{(H.deps??(H.deps=[])).push(e);var s=e.reactions;s===null?e.reactions=[H]:s.includes(H)||s.push(H)}}}else if(n&&e.deps===null&&e.effects===null){var i=e,l=i.parent;l!==null&&(l.f&Ve)===0&&(i.f^=Ve)}if(Ht){if(_t.has(e))return _t.get(e);if(n){i=e;var c=i.v;return((i.f&Ee)===0&&i.reactions!==null||vs(i))&&(c=Hr(i)),_t.set(i,c),c}}else if(n){if(i=e,vn?.has(i))return vn.get(i);cr(i)&&Ka(i)}if((e.f&Dt)!==0)throw e.v;return e.v}function vs(e){if(e.v===_e)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(_t.has(t)||(t.f&je)!==0&&vs(t))return!0;return!1}function Ft(e){var t=Ze;try{return Ze=!0,e()}finally{Ze=t}}const Ai=-7169;function De(e,t){e.f=e.f&Ai|t}function Ti(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Lt in e)Tr(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&Lt in n&&Tr(n)}}}function Tr(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{Tr(e[r],t)}catch{}const n=Br(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=Ra(n);for(let a in r){const s=r[a].get;if(s)try{s.call(e)}catch{}}}}}const xi=["touchstart","touchmove"];function Ni(e){return xi.includes(e)}const hs=new Set,xr=new Set;function Di(e,t,n,r={}){function a(s){if(r.capture||wn.call(t,s),!s.cancelBubble)return lr(()=>n?.call(this,s))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?ar(()=>{t.addEventListener(e,a,r)}):t.addEventListener(e,a,r),a}function Gr(e,t,n,r,a){var s={capture:r,passive:a},i=Di(e,t,n,s);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&_i(()=>{t.removeEventListener(e,i,s)})}function Oe(e){for(var t=0;t<e.length;t++)hs.add(e[t]);for(var n of xr)n(e)}let Ea=null;function wn(e){var t=this,n=t.ownerDocument,r=e.type,a=e.composedPath?.()||[],s=a[0]||e.target;Ea=e;var i=0,l=Ea===e&&e.__root;if(l){var c=a.indexOf(l);if(c!==-1&&(t===document||t===window)){e.__root=t;return}var u=a.indexOf(t);if(u===-1)return;c<=u&&(i=c)}if(s=a[i]||e.target,s!==t){Sr(e,"currentTarget",{configurable:!0,get(){return s||n}});var d=H,v=W;Ke(null),et(null);try{for(var h,p=[];s!==null;){var f=s.assignedSlot||s.parentNode||s.host||null;try{var g=s["__"+r];if(g!=null&&(!s.disabled||e.target===s))if(Ir(g)){var[_,...w]=g;_.apply(s,[e,...w])}else g.call(s,e)}catch(b){h?p.push(b):h=b}if(e.cancelBubble||f===t||f===null)break;s=f}if(h){for(let b of p)queueMicrotask(()=>{throw b});throw h}}finally{e.__root=t,delete e.currentTarget,Ke(d),et(v)}}}function ps(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function En(e,t){var n=W;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function I(e,t){var n=(t&Xo)!==0,r=(t&Zo)!==0,a,s=!e.startsWith("<!>");return()=>{a===void 0&&(a=ps(s?e:"<!>"+e),n||(a=pn(a)));var i=r||Qa?document.importNode(a,!0):a.cloneNode(!0);if(n){var l=pn(i),c=i.lastChild;En(l,c)}else En(i,i);return i}}function Li(e,t,n="svg"){var r=!e.startsWith("<!>"),a=`<${n}>${r?e:"<!>"+e}</${n}>`,s;return()=>{if(!s){var i=ps(a),l=pn(i);s=pn(l)}var c=s.cloneNode(!0);return En(c,c),c}}function Oi(e,t){return Li(e,t,"svg")}function Le(e=""){{var t=Vt(e+"");return En(t,t),t}}function V(){var e=document.createDocumentFragment(),t=document.createComment(""),n=Vt();return e.append(t,n),En(t,n),e}function y(e,t){e!==null&&e.before(t)}function gu(){var e;return(e=window.__svelte??(window.__svelte={})).uid??(e.uid=1),`c${window.__svelte.uid++}`}function ur(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function Mi(e,t){return Ii(e,t)}const en=new Map;function Ii(e,{target:t,anchor:n,props:r={},events:a,context:s,intro:i=!0}){fi();var l=new Set,c=v=>{for(var h=0;h<v.length;h++){var p=v[h];if(!l.has(p)){l.add(p);var f=Ni(p);t.addEventListener(p,wn,{passive:f});var g=en.get(p);g===void 0?(document.addEventListener(p,wn,{passive:f}),en.set(p,1)):en.set(p,g+1)}}};c(Rr(hs)),xr.add(c);var u=void 0,d=wi(()=>{var v=n??t.appendChild(Vt());return Qe(()=>{if(s){G({});var h=de;h.c=s}a&&(r.$$events=a),u=e(v,r)||{},s&&X()}),()=>{for(var h of l){t.removeEventListener(h,wn);var p=en.get(h);--p===0?(document.removeEventListener(h,wn),en.delete(h)):en.set(h,p)}xr.delete(c),v!==n&&v.parentNode?.removeChild(v)}});return Ri.set(u,d),u}let Ri=new WeakMap;const pr=0,zn=1,gr=2;function Xr(e,t,n,r,a){var s=e,i=qt(),l=de,c=_e,u,d,v,h=i?jt(void 0):Ar(void 0,!1,!1),p=i?jt(void 0):Ar(void 0,!1,!1),f=!1;function g(w,b){f=!0,b&&(et(_),Ke(_),fn(l));try{w===pr&&n&&(u?an(u):u=Qe(()=>n(s))),w===zn&&r&&(d?an(d):d=Qe(()=>r(s,h))),w===gr&&a&&(v?an(v):v=Qe(()=>a(s,p))),w!==pr&&u&&Ot(u,()=>u=null),w!==zn&&d&&Ot(d,()=>d=null),w!==gr&&v&&Ot(v,()=>v=null)}finally{b&&(fn(null),Ke(null),et(null),Xa())}}var _=Dn(()=>{if(c!==(c=t())){if(Eo(c)){var w=c;f=!1,w.then(b=>{w===c&&(mt(h,b),g(zn,!0))},b=>{if(w===c&&(mt(p,b),g(gr,!0),!a))throw p.v}),ar(()=>{f||g(pr,!0)})}else mt(h,c),g(zn,!1);return()=>c=_e}})}function F(e,t,n=!1){var r=e,a=null,s=null,i=_e,l=n?xn:0,c=!1;const u=(p,f=!0)=>{c=!0,h(f,p)};var d=null;function v(){d!==null&&(d.lastChild.remove(),r.before(d),d=null);var p=i?a:s,f=i?s:a;p&&an(p),f&&Ot(f,()=>{i?s=null:a=null})}const h=(p,f)=>{if(i!==(i=p)){var g=Kr(),_=r;if(g&&(d=document.createDocumentFragment(),d.append(_=Vt())),i?a??(a=f&&Qe(()=>f(_))):s??(s=f&&Qe(()=>f(_))),g){var w=re,b=i?a:s,m=i?s:a;b&&w.skipped_effects.delete(b),m&&w.skipped_effects.add(m),w.add_callback(v)}else v()}};Dn(()=>{c=!1,t(u),c||h(null,null)},l)}function pe(e,t){Wr(()=>{var n=t();for(var r in n){var a=n[r];a?e.style.setProperty(r,a):e.style.removeProperty(r)}})}function Bi(e,t,n){for(var r=e.items,a=[],s=t.length,i=0;i<s;i++)Yr(t[i].e,a,!0);var l=s>0&&a.length===0&&n!==null;if(l){var c=n.parentNode;vi(c),c.append(n),r.clear(),Xe(e,t[0].prev,t[s-1].next)}os(a,()=>{for(var u=0;u<s;u++){var d=t[u];l||(r.delete(d.k),Xe(e,d.prev,d.next)),$e(d.e,!l)}})}function nn(e,t,n,r,a,s=null){var i=e,l={flags:t,items:new Map,first:null},c=(t&Fa)!==0;if(c){var u=e;i=u.appendChild(Vt())}var d=null,v=!1,h=new Map,p=sr(()=>{var w=n();return Ir(w)?w:w==null?[]:Rr(w)}),f,g;function _(){ji(g,f,l,h,i,a,t,r,n),s!==null&&(f.length===0?d?an(d):d=Qe(()=>s(i)):d!==null&&Ot(d,()=>{d=null}))}Dn(()=>{g??(g=W),f=o(p);var w=f.length;if(!(v&&w===0)){v=w===0;var b,m,S,C;if(Kr()){var E=new Set,A=re;for(m=0;m<w;m+=1){S=f[m],C=r(S,m);var R=l.items.get(C)??h.get(C);R?(t&(nr|rr))!==0&&gs(R,S,m,t):(b=_s(null,l,null,null,S,C,m,a,t,n,!0),h.set(C,b)),E.add(C)}for(const[ne,$]of l.items)E.has(ne)||A.skipped_effects.add($.e);A.add_callback(_)}else _();o(p)}})}function ji(e,t,n,r,a,s,i,l,c){var u=(i&qo)!==0,d=(i&(nr|rr))!==0,v=t.length,h=n.items,p=n.first,f=p,g,_=null,w,b=[],m=[],S,C,E,A;if(u)for(A=0;A<v;A+=1)S=t[A],C=l(S,A),E=h.get(C),E!==void 0&&(E.a?.measure(),(w??(w=new Set)).add(E));for(A=0;A<v;A+=1){if(S=t[A],C=l(S,A),E=h.get(C),E===void 0){var R=r.get(C);if(R!==void 0){r.delete(C),h.set(C,R);var ne=_?_.next:f;Xe(n,_,R),Xe(n,R,ne),_r(R,ne,a),_=R}else{var $=f?f.e.nodes_start:a;_=_s($,n,_,_===null?n.first:_.next,S,C,A,s,i,c)}h.set(C,_),b=[],m=[],f=_.next;continue}if(d&&gs(E,S,A,i),(E.e.f&We)!==0&&(an(E.e),u&&(E.a?.unfix(),(w??(w=new Set)).delete(E))),E!==f){if(g!==void 0&&g.has(E)){if(b.length<m.length){var oe=m[0],K;_=oe.prev;var z=b[0],Z=b[b.length-1];for(K=0;K<b.length;K+=1)_r(b[K],oe,a);for(K=0;K<m.length;K+=1)g.delete(m[K]);Xe(n,z.prev,Z.next),Xe(n,_,z),Xe(n,Z,oe),f=oe,_=Z,A-=1,b=[],m=[]}else g.delete(E),_r(E,f,a),Xe(n,E.prev,E.next),Xe(n,E,_===null?n.first:_.next),Xe(n,_,E),_=E;continue}for(b=[],m=[];f!==null&&f.k!==C;)(f.e.f&We)===0&&(g??(g=new Set)).add(f),m.push(f),f=f.next;if(f===null)continue;E=f}b.push(E),_=E,f=E.next}if(f!==null||g!==void 0){for(var ie=g===void 0?[]:Rr(g);f!==null;)(f.e.f&We)===0&&ie.push(f),f=f.next;var j=ie.length;if(j>0){var q=(i&Fa)!==0&&v===0?a:null;if(u){for(A=0;A<j;A+=1)ie[A].a?.measure();for(A=0;A<j;A+=1)ie[A].a?.fix()}Bi(n,ie,q)}}u&&ar(()=>{if(w!==void 0)for(E of w)E.a?.apply()}),e.first=n.first&&n.first.e,e.last=_&&_.e;for(var O of r.values())$e(O.e);r.clear()}function gs(e,t,n,r){(r&nr)!==0&&mt(e.v,t),(r&rr)!==0?mt(e.i,n):e.i=n}function _s(e,t,n,r,a,s,i,l,c,u,d){var v=(c&nr)!==0,h=(c&Vo)===0,p=v?h?Ar(a,!1,!1):jt(a):a,f=(c&rr)===0?i:jt(i),g={i:f,v:p,k:s,a:null,e:null,prev:n,next:r};try{if(e===null){var _=document.createDocumentFragment();_.append(e=Vt())}return g.e=Qe(()=>l(e,p,f,u),Qo),g.e.prev=n&&n.e,g.e.next=r&&r.e,n===null?d||(t.first=g):(n.next=g,n.e.next=g.e),r!==null&&(r.prev=g,r.e.prev=g.e),g}finally{}}function _r(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,a=t?t.e.nodes_start:n,s=e.e.nodes_start;s!==null&&s!==r;){var i=ir(s);a.before(s),s=i}}function Xe(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function tt(e,t,...n){var r=e,a=yt,s;Dn(()=>{a!==(a=t())&&(s&&($e(s),s=null),s=Qe(()=>a(r,...n)))},xn)}function Zr(e,t,n){var r=e,a,s,i=null,l=null;function c(){s&&(Ot(s),s=null),i&&(i.lastChild.remove(),r.before(i),i=null),s=l,l=null}Dn(()=>{if(a!==(a=t())){var u=Kr();if(a){var d=r;u&&(i=document.createDocumentFragment(),i.append(d=Vt()),s&&re.skipped_effects.add(s)),l=Qe(()=>n(d,a))}u?re.add_callback(c):c()}},xn)}function ms(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=ms(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Fi(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=ms(e))&&(r&&(r+=" "),r+=t);return r}function ee(e){return typeof e=="object"?Fi(e):e??""}const Pa=[...` 	
\r\f \v\uFEFF`];function Ui(e,t,n){var r=e==null?"":""+e;if(t&&(r=r?r+" "+t:t),n){for(var a in n)if(n[a])r=r?r+" "+a:a;else if(r.length)for(var s=a.length,i=0;(i=r.indexOf(a,i))>=0;){var l=i+s;(i===0||Pa.includes(r[i-1]))&&(l===r.length||Pa.includes(r[l]))?r=(i===0?"":r.substring(0,i))+r.substring(l+1):i=l}}return r===""?null:r}function zi(e,t){return e==null?null:String(e)}function te(e,t,n,r,a,s){var i=e.__className;if(i!==n||i===void 0){var l=Ui(n,r,s);l==null?e.removeAttribute("class"):e.className=l,e.__className=n}else if(s&&a!==s)for(var c in s){var u=!!s[c];(a==null||u!==!!a[c])&&e.classList.toggle(c,u)}return s}function $n(e,t,n,r){var a=e.__style;if(a!==t){var s=zi(t);s==null?e.removeAttribute("style"):e.style.cssText=s,e.__style=t}return r}const qi=Symbol("is custom element"),Vi=Symbol("is html");function mr(e,t){var n=Jr(e);n.value===(n.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function Gn(e,t){var n=Jr(e);n.checked!==(n.checked=t??void 0)&&(e.checked=t)}function Se(e,t,n,r){var a=Jr(e);a[t]!==(a[t]=n)&&(t==="loading"&&(e[No]=n),n==null?e.removeAttribute(t):typeof n!="string"&&Hi(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function Jr(e){return e.__attributes??(e.__attributes={[qi]:e.nodeName.includes("-"),[Vi]:e.namespaceURI===Jo})}var Ca=new Map;function Hi(e){var t=Ca.get(e.nodeName);if(t)return t;Ca.set(e.nodeName,t=[]);for(var n,r=e,a=Element.prototype;a!==r;){n=Ra(r);for(var s in n)n[s].set&&t.push(s);r=Br(r)}return t}function Ki(e,t,n=t){var r=qt(),a=new WeakSet;pi(e,"input",s=>{var i=s?e.defaultValue:e.value;if(i=wr(e)?yr(i):i,n(i),re!==null&&a.add(re),r&&i!==(i=t())){var l=e.selectionStart,c=e.selectionEnd;e.value=i??"",c!==null&&(e.selectionStart=l,e.selectionEnd=Math.min(c,e.value.length))}}),Ft(t)==null&&e.value&&(n(wr(e)?yr(e.value):e.value),re!==null&&a.add(re)),Wr(()=>{var s=t();if(e===document.activeElement){var i=Kn??re;if(a.has(i))return}wr(e)&&s===yr(e.value)||e.type==="date"&&!s&&!e.value||s!==e.value&&(e.value=s??"")})}function wr(e){var t=e.type;return t==="number"||t==="range"}function yr(e){return e===""?null:+e}function Aa(e,t){return e===t||e?.[Lt]===t}function ot(e={},t,n,r){return yi(()=>{var a,s;return Wr(()=>{a=s,s=[],Ft(()=>{e!==n(...s)&&(t(e,...s),a&&Aa(n(...a),e)&&t(null,...a))})}),()=>{ar(()=>{s&&Aa(n(...s),e)&&t(null,...s)})}}),e}function Ln(e=!1){const t=de,n=t.l.u;if(!n)return;let r=()=>Ti(t.s);if(e){let a=0,s={};const i=Nn(()=>{let l=!1;const c=t.s;for(const u in c)c[u]!==s[u]&&(s[u]=c[u],l=!0);return l&&a++,a});r=()=>o(i)}n.b.length&&mi(()=>{Ta(t,r),Xn(n.b)}),Ae(()=>{const a=Ft(()=>n.m.map(Po));return()=>{for(const s of a)typeof s=="function"&&s()}}),n.a.length&&Ae(()=>{Ta(t,r),Xn(n.a)})}function Ta(e,t){if(e.l.s)for(const n of e.l.s)o(n);t()}let qn=!1;function Wi(e){var t=qn;try{return qn=!1,[e(),qn]}finally{qn=t}}function ce(e,t,n,r){var a=!_n||(n&Ko)!==0,s=(n&Yo)!==0,i=(n&Go)!==0,l=r,c=!0,u=()=>(c&&(c=!1,l=i?Ft(r):r),l),d;if(s){var v=Lt in e||xo in e;d=rn(e,t)?.set??(v&&t in e?m=>e[t]=m:void 0)}var h,p=!1;s?[h,p]=Wi(()=>e[t]):h=e[t],h===void 0&&r!==void 0&&(h=u(),d&&(a&&jo(),d(h)));var f;if(a?f=()=>{var m=e[t];return m===void 0?u():(c=!0,m)}:f=()=>{var m=e[t];return m!==void 0&&(l=void 0),m===void 0?l:m},a&&(n&Wo)===0)return f;if(d){var g=e.$$legacy;return(function(m,S){return arguments.length>0?((!a||!S||g||p)&&d(S?f():m),m):f()})}var _=!1,w=((n&Ho)!==0?Nn:sr)(()=>(_=!1,f()));s&&o(w);var b=W;return(function(m,S){if(arguments.length>0){const C=S?o(w):a&&s?he(m):m;return P(w,C),_=!0,l!==void 0&&(l=C),m}return Ht&&_||(b.f&zt)!==0?w.v:o(w)})}function we(e){de===null&&Lo(),_n&&de.l!==null?Yi(de).m.push(e):Ae(()=>{const t=Ft(e);if(typeof t=="function")return t})}function Yi(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const Gi="5";var Ma;typeof window<"u"&&((Ma=window.__svelte??(window.__svelte={})).v??(Ma.v=new Set)).add(Gi);let Tt=L(""),tn=L(null);function Xi(e){P(Tt,""),setTimeout(()=>{P(Tt,e,!0)},16)}var Zi=I('<div class="notification svelte-1a2zucn"> </div>'),Ji=I("<div><!></div>");function Qi(e,t){G(t,!0),Ae(()=>{o(Tt),o(Tt)&&(o(tn)?.getBoundingClientRect(),o(tn)?.style.setProperty("opacity","1"));const s=setTimeout(()=>{o(tn)?.style.removeProperty("opacity")},800),i=setTimeout(()=>{P(Tt,""),o(tn)?.style.removeProperty("opacity")},1200);return()=>{clearTimeout(s),clearTimeout(i)}});var n=Ji(),r=k(n);{var a=s=>{var i=Zi(),l=k(i);ot(i,c=>P(tn,c),()=>o(tn)),se(()=>ur(l,o(Tt))),y(s,i)};F(r,s=>{o(Tt)&&s(a)})}y(e,n),X()}ti();var $i=I('<span class="vh svelte-14jjkpd"><!></span>');function bt(e,t){var n=$i(),r=k(n);tt(r,()=>t.children),y(e,n)}var el=Oi('<svg class="svelte-gv09tg"><use></use></svg>');function ue(e,t){let n=ce(t,"name",8,"");var r=el(),a=k(r);se(()=>Se(a,"href",`#icon-${n()??""}`)),y(e,r)}const ws=(e,t)=>{if(!t)return e;if(t.type==="closed")return{type:"closed"};switch(e.type){case"opened":return t.type==="close"?{type:"closing"}:t.type==="swipe"?{type:"openSwiping"}:e;case"closed":return t.type==="open"?{type:"opening"}:t.type==="swipe"?{type:"closeSwiping"}:e;case"openSwiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"closeSwiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"opening":return t.type==="opened"?{type:"opened"}:e;default:return e}};let Nr=L(he(ws({type:"closed"})));const ys=e=>{P(Nr,ws(o(Nr),e),!0)},tl=()=>o(Nr),nl=()=>{ys({type:"open"})},rl=()=>{ys({type:"close"})},al=()=>{const e=tl().type;e==="closed"?nl():e==="opened"&&rl()};var sl=I('<button class="buttonMenu svelte-hxzs42"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>');function bs(e,t){G(t,!1),Ln();var n=sl();n.__click=[al];var r=k(n);pe(r,()=>({"--size":"28px"})),ue(r.lastChild,{name:"sidebarMenu"});var a=x(r,2);bt(a,{children:(s,i)=>{var l=Le("Menu");y(s,l)}}),y(e,n),X()}Oe(["click"]);var ol=(e,t)=>t.onChange?.(e.target?.value||""),il=I('<input class="svelte-6l2oy0"/>');function Dr(e,t){G(t,!0);let n=ce(t,"value",15,"");var r=il();r.__input=[ol,t],se(()=>Se(r,"placeholder",t.placeholder)),Gr("focus",r,function(...a){t.onFocus?.apply(this,a)}),Ki(r,n),y(e,r),X()}Oe(["input"]);const T=he({historyStack:[],pathname:window.location.pathname,search:window.location.search,historyLength:0});let Ss=L(he(new URLSearchParams(T.search).get("feedOrder")||"newest"));const ks=()=>o(Ss),ll=e=>{P(Ss,e,!0);const t=new URLSearchParams(T.search);e==="newest"?t.delete("feedOrder"):t.set("feedOrder",e),it(`${T.pathname}${t.size>0?`?${t.toString()}`:""}`)};let Es=L(he(new URLSearchParams(T.search).get("search")||""));const Ps=()=>o(Es),cl=e=>{P(Es,e,!0);const t=new URLSearchParams(T.search);e===""?t.delete("search"):t.set("search",e),it(`${T.pathname}${t.size>0?`?${t.toString()}`:""}`)},_u=(e,t)=>{const n=new URLSearchParams(T.search);n.append(e,t),Qr(`${T.pathname}${n.size>0?`?${n.toString()}`:""}`)},mu=e=>{const t=new URLSearchParams(T.search);t.delete(e),T.historyStack=T.historyStack.map(n=>{const r=new URLSearchParams(n.split("?")[1]);return r.delete(e),`${n.split("?")[0]}${t.size>0?`?${r.toString()}`:""}`}),Qr(`${T.pathname}${t.size>0?`?${t.toString()}`:""}`)},Cs=()=>new URLSearchParams(T.search).get("selectedTags")?.split(",")||[];let Vn=Cs();const ul=()=>{const e=Cs();return e.join(",")===Vn.join(",")||(Vn=e),Vn},dl=()=>{T.pathname=document.location.pathname,T.search=document.location.search,T.historyLength=Math.max(0,T.historyLength-=1)};window.addEventListener("popstate",dl);const it=e=>{const[t,n]=e.split("?");T.pathname=t,T.search=n?`?${n}`:"",T.historyLength+=1,T.historyStack.push(window.location.href),window.history.replaceState(null,"",e)},Qr=e=>{const[t,n]=e.split("?");T.pathname=t,T.search=n?`?${n}`:"",window.history.replaceState(null,"",e)},fl=e=>{const{fallback:t="/",to:n}=e||{},[r,a]=t.split("?");if(T.historyLength<=0){const s=window.location.href,[i,l]=s.split("?");if(!l.includes("stackPages"))window.history.replaceState(null,"",t),T.historyLength=0,T.pathname=r,T.search=a?`?${a}`:"";else{const c=new URLSearchParams(l),u=c.get("stackPages")?.split(",")||[],d=u.slice(0,n&&u.includes(n)?u.indexOf(n)+1:-1);d.length===0?c.delete("stackPages"):c.set("stackPages",d.join(","));const v=`${i}${c.toString()?`?${c.toString()}`:""}`;window.history.replaceState(null,"",v),T.search=c.toString()?`?${c.toString()}`:""}}else if(T.historyStack.length>0){const i=new URLSearchParams(T.search).get("stackPages")?.split(",")||[];n&&i.includes(n)&&(T.historyStack=T.historyStack.slice(0,-(i.length-(i.indexOf(n)+1))+1),T.historyLength=T.historyStack.length);const l=T.historyStack.pop();if(l){const[c,u]=l.split("?");window.history.replaceState(null,"",l),T.historyLength=Math.max(0,T.historyLength-=1),T.pathname=c,T.search=u?`?${u}`:""}}},As=()=>{const e=T.historyStack.findIndex(n=>n.includes("stackPages")),t=e===-1?T.historyStack.slice(0):T.historyStack.slice(0,e);if(t.length>0){const n=t.pop();if(n){const[r,a]=n.split("?");window.history.replaceState(null,"",n),T.historyLength=Math.max(0,t.length),T.pathname=r,T.search=a?`?${a}`:"",T.historyStack=t}}else{const n=T.search,r=new URLSearchParams(n);r.delete("stackPages"),window.history.replaceState(null,"",r.toString()?"/?"+r.toString():"/"),T.historyLength=0,T.pathname="/",T.search=r.toString()?"?"+r.toString():"",T.historyStack=[]}},at=he({value:""}),vl=he({value:Ps()}),hl=(e,t)=>{let n=null;return()=>{n&&clearTimeout(n),n=setTimeout(()=>{e()},t)}},Ts=()=>window.matchMedia("(max-width: 768px)").matches;let xs=L(he(Ts()));const pl=hl(()=>{P(xs,Ts(),!0)},16);window.addEventListener("resize",pl);const On=()=>o(xs);function gl(e,t){G(t,!0),we(()=>{const n=r=>{r.target&&t.dialog?.open&&t.dialogInner&&t.dialogInner!==r.target&&!t.dialogInner.contains(r.target)&&t.onClose()};return document.addEventListener("mousedown",n,{capture:!0}),()=>{document.removeEventListener("mousedown",n,{capture:!0})}}),X()}const $r=he({count:0}),_l=()=>$r.count>0,Ns=()=>{$r.count+=1},Ds=()=>{$r.count-=1};var ml=I('<dialog><div class="dialogInner svelte-1wekt4o"><!></div></dialog> <!>',1);function Ls(e,t){G(t,!0);let n=L(null),r=L(null),a=L(!1);const s=()=>{const h=setTimeout(()=>{t.onClosed()},150);o(n)?.addEventListener("transitionend",()=>{clearTimeout(h),t.onClosed()},{once:!0}),P(a,!1)};Ae(()=>{t.startClose&&s()}),we(()=>{o(n)?.showModal(),o(n)?.getClientRects(),P(a,!0)}),we(()=>(Ns(),()=>{Ds()}));var i=ml(),l=M(i),c=k(l),u=k(c);tt(u,()=>t.children),ot(c,h=>P(r,h),()=>o(r)),ot(l,h=>P(n,h),()=>o(n));var d=x(l,2);{var v=h=>{gl(h,{get dialog(){return o(n)},get dialogInner(){return o(r)},onClose:s})};F(d,h=>{o(n)&&o(r)&&h(v)})}se(()=>te(l,1,ee(["dialog",{shown:o(a)}]),"svelte-1wekt4o")),y(e,i),X()}var wl=I("<div><!></div>");function Os(e,t){G(t,!0);let n=L(!1),r=L(null);const a=()=>{const u=setTimeout(()=>{t.onClosed()},150);o(r)?.addEventListener("transitionend",()=>{clearTimeout(u),t.onClosed()},{once:!0}),P(n,!1)},s=u=>{u.target!==o(r)&&!o(r)?.contains(u.target)&&a()},i=u=>{u.target!==o(r)&&!o(r)?.contains(u.target)&&a()};we(()=>{o(r)?.getClientRects(),P(n,!0);const u=setTimeout(()=>{document.addEventListener("focusin",s),document.addEventListener("click",i)},0);return()=>{clearTimeout(u),document.removeEventListener("focusin",s),document.removeEventListener("click",i)}}),Ae(()=>{t.startClose&&a()});var l=wl(),c=k(l);tt(c,()=>t.children),ot(l,u=>P(r,u),()=>o(r)),se(()=>te(l,1,ee(["menu",{top:t.positionTop,shown:o(n)}]),"svelte-vbw57a")),y(e,l),X()}const yl=(e,t)=>{o(t)||P(t,!0)};var bl=(e,t)=>t("newest"),Sl=(e,t)=>t("oldest"),kl=(e,t)=>t("AtoZ"),El=(e,t)=>t("ZtoA"),Pl=I("<div><button>Newest</button> <button>Oldest</button> <button>A to Z</button> <button>Z to A</button></div>"),Cl=I('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),Al=I('<div class="orderMenu svelte-110m8z1"><button><!> <!></button> <!></div>');function Tl(e,t){G(t,!0);const n=(g,_=yt)=>{var w=Pl(),b=k(w);b.__click=[bl,l];var m=x(b,2);m.__click=[Sl,l];var S=x(m,2);S.__click=[kl,l];var C=x(S,2);C.__click=[El,l],se(()=>{te(w,1,ee(["menu",{menuDialog:_()}]),"svelte-110m8z1"),te(b,1,ee(["menuButton",{menuButtonDialog:_(),current:o(i)==="newest"}]),"svelte-110m8z1"),te(m,1,ee(["menuButton",{menuButtonDialog:_(),current:o(i)==="oldest"}]),"svelte-110m8z1"),te(S,1,ee(["menuButton",{menuButtonDialog:_(),current:o(i)==="AtoZ"}]),"svelte-110m8z1"),te(C,1,ee(["menuButton",{menuButtonDialog:_(),current:o(i)==="ZtoA"}]),"svelte-110m8z1")}),y(g,w)};let r=L(!1),a=L(!1),s=D(On),i=D(ks);const l=g=>{P(a,!0),ll(g)},c=()=>{P(r,!1),P(a,!1)};var u=Al(),d=k(u);d.__click=[yl,r],te(d,1,ee(["button","buttonMenu"]),"svelte-110m8z1");var v=k(d);ue(v,{name:"filter"});var h=x(v,2);bt(h,{children:(g,_)=>{var w=Le("show feed order menu");y(g,w)}});var p=x(d,2);{var f=g=>{var _=V(),w=M(_);{var b=S=>{Ls(S,{get startClose(){return o(a)},onClosed:c,children:(C,E)=>{n(C,()=>!0)},$$slots:{default:!0}})},m=S=>{var C=Cl(),E=M(C);pe(E,()=>({"--right":"20px","--top":"60px"})),Os(E.lastChild,{get startClose(){return o(a)},onClosed:c,children:(A,R)=>{n(A,()=>!1)},$$slots:{default:!0}}),y(S,C)};F(w,S=>{o(s)?S(b):S(m,!1)})}y(g,_)};F(p,g=>{o(r)&&g(f)})}y(e,u),X()}Oe(["click"]);const ea=he({ref:null}),Et=()=>new URLSearchParams(T.search).get("stackPages")?.split(",")||[];let wt=L(he(Et()));const nt=e=>{const t=Et();if(!t.includes(e)){t.push(e);const n=new URLSearchParams(T.search);n.set("stackPages",t.join(",")),P(wt,t,!0),it(`${T.pathname}?${n.toString()}`)}},xl=e=>Et().includes(e),wu=()=>{P(wt,Et(),!0)},Ms=()=>{const e=o(wt).slice(0,-1);P(wt,e,!0)},Nl=()=>{const e=Et();return e.length>=o(wt).length?e.reduce((t,n)=>[...t,{page:n,shown:!0}],[]):o(wt).reduce((t,n,r)=>[...t,{page:n,shown:e.length===0?!1:r!==o(wt).length-1}],[])},Lr=()=>{P(wt,[],!0)},It=e=>{const t=Et();t.includes(e)||t.push(e);const n=new URLSearchParams(T.search);return n.set("stackPages",t.join(",")),`${T.pathname}?${n}`},Rt=e=>t=>{t.preventDefault(),nt(e)};var N=(e=>(e.NewBookmark="newBookmark",e.EditBookmark="editBookmark",e.Settings="settings",e.ImportData="importData",e.ExportData="exportData",e.ClearStore="clearStore",e.Account="account",e.Sync="sync",e.Start="start",e.Auth="auth",e.Signin="signin",e.Signup="signup",e.AccessKeys="accessKeys",e.ConfirmAccessKey="confirmAccessKey",e.Subscription="subscription",e.Exit="exit",e.NotFound="notFound",e))(N||{}),Dl=I('<div class="header svelte-1dwr4f1"><div class="top svelte-1dwr4f1"><div class="menu svelte-1dwr4f1"><a class="link svelte-1dwr4f1"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Settings</span></a> <a class="link svelte-1dwr4f1"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Sync</span></a></div> <div class="mobile svelte-1dwr4f1"><!></div> <a class="buttonAdd svelte-1dwr4f1"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Bookmark</span></a></div> <div class="bottom svelte-1dwr4f1"><div><div class="sidebarSearchWrapper"><!></div></div> <div class="right svelte-1dwr4f1"><div class="filter svelte-1dwr4f1"><div class="feedSearchWrapper svelte-1dwr4f1"><!></div> <!></div></div></div></div>');function Ll(e,t){G(t,!0);let n=D(()=>ea.ref);const r=()=>{o(n)&&o(n).scrollTo({top:0,behavior:"smooth"})},a=K=>{cl(K)};var s=Dl(),i=k(s),l=k(i),c=k(l),u=D(()=>Rt(N.Settings));c.__click=function(...K){o(u)?.apply(this,K)};var d=k(c);pe(d,()=>({"--size":"20px"})),ue(d.lastChild,{name:"settings"});var v=x(c,2),h=D(()=>Rt(N.Sync));v.__click=function(...K){o(h)?.apply(this,K)};var p=k(v);pe(p,()=>({"--size":"20px"})),ue(p.lastChild,{name:"sync"});var f=x(l,2),g=k(f);bs(g,{});var _=x(f,2),w=D(()=>Rt(N.NewBookmark));_.__click=function(...K){o(w)?.apply(this,K)};var b=k(_);pe(b,()=>({"--size":"24px","--color":"#b0b0b0"})),ue(b.lastChild,{name:"plus"});var m=x(i,2),S=k(m);te(S,1,ee(["left"]),"svelte-1dwr4f1");var C=k(S),E=k(C);Dr(E,{placeholder:"Search tag",get value(){return at.value},set value(K){at.value=K}});var A=x(S,2),R=k(A),ne=k(R),$=k(ne);Dr($,{onFocus:r,onChange:a,placeholder:"Search",get value(){return vl.value}});var oe=x(ne,2);Tl(oe,{}),se((K,z,Z)=>{Se(c,"href",K),Se(v,"href",z),Se(_,"href",Z)},[()=>It(N.Settings),()=>It(N.Sync),()=>It(N.NewBookmark)]),y(e,s),X()}Oe(["click"]);const Ol="modulepreload",Ml=function(e){return"/"+e},xa={},ve=function(t,n,r){let a=Promise.resolve();if(n&&n.length>0){let c=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=i?.nonce||i?.getAttribute("nonce");a=c(n.map(u=>{if(u=Ml(u),u in xa)return;xa[u]=!0;const d=u.endsWith(".css"),v=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${v}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":Ol,d||(h.as="script"),h.crossOrigin="",h.href=u,l&&h.setAttribute("nonce",l),document.head.appendChild(h),d)return new Promise((p,f)=>{h.addEventListener("load",p),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return a.then(i=>{for(const l of i||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})},Ne=he({working:!1,swipingRatio:1,isSwiping:!1,duration:.35});let Or=!1;const br=()=>{document.activeElement instanceof HTMLInputElement&&document.activeElement.type==="text"||document.activeElement instanceof HTMLTextAreaElement?Or=!0:Or=!1},Is=()=>Or;function Il(e,t){G(t,!0);let n=ce(t,"dialog",7),r=null;const a=()=>{t.dialogState==="swiping"&&t.onClose()};Ae(()=>(t.dialogState==="swiping"&&(r=setTimeout(a,3e3)),()=>{r&&(clearTimeout(r),r=null)}));let s=null,i=null;const l=3,c=50,u=5,d=.6,v=.3,h=.35,p=.95;let f=0,g=0,_=0,w=!1,b=!1,m=0,S=0,C=0;const E=()=>{f=0,g=0,w=!1,b=!1,m=0,S=0,C=0,_=0,s=null,i!==null&&(cancelAnimationFrame(i),i=null),r&&(clearTimeout(r),r=null)},A=j=>{if(!n()){console.warn("Touch start: No dialog element");return}if(t.dialogState!=="opened"){console.warn(`Touch start: Invalid sidebar state: ${t.dialogState}`);return}f=j.touches[0].clientX,g=j.touches[0].clientY,_=performance.now(),w=!0,b=!1},R=j=>t.dialogState==="opened"&&j>0||t.dialogState==="swiping"&&j>0,ne=()=>{if(n()){n().style.setProperty("--transition-timing","0s"),t.onSwipe(),navigator.vibrate&&navigator.vibrate(10);try{const j=window.getComputedStyle(n()),q=j.transform||j.webkitTransform||"";if(S=n().offsetWidth,(t.dialogState==="swiping"||t.dialogState==="opened")&&(m=0),q&&q!=="none")try{m=new DOMMatrix(q).m41}catch{console.warn("Could not parse transform matrix, using default position")}b=!0}catch(j){console.error("Error during swipe initialization:",j),E()}}},$=()=>{if(!n())return;const q=Math.abs(m+C*S/100)/S;n().style.setProperty("--backdrop-bg",`rgba(0, 0, 0, ${.1*(1-q)})`)},oe=()=>{if(i=null,!s||!w||!n()||Is()){E();return}const j=s.touches[0].clientX,q=s.touches[0].clientY,O=j-f,J=q-g,Pe=Math.abs(O)>Math.abs(J),Fe=Math.abs(O)>l;if(!b)if(Pe&&Fe&&R(O))try{ne()}catch(Me){console.error("Error initializing swipe:",Me),E();return}else return;if(!R(O))return;n().style.setProperty("--transition-timing","0s");let me=m+O*p;me=Math.max(0,Math.min(S,me)),n().style.transform=`translate3d(${me}px, 0, 0)`,Ne.swipingRatio=Math.abs(1-me/S),C=(me-m)/S*100,t.dialogState==="swiping"&&(r&&clearTimeout(r),r=setTimeout(a,3e3)),$()},K=j=>{if(!w)return;s=j,i===null&&(i=requestAnimationFrame(oe));const q=j.touches[0].clientX-f,O=j.touches[0].clientY-g,J=Math.abs(q)>Math.abs(O);b&&J&&j.preventDefault()},z=j=>{const q=Math.abs(j);if(q>=d)return u;if(q>=v){const O=(q-v)/(d-v);return c-O*(c-u)}else return c},Z=(j,q)=>{if(Math.abs(j)>=d)return h*.5;const J=Math.abs(C)/100;return q?h*Math.max(.5,1-J):h*Math.max(.5,J)},ie=j=>{if(i!==null&&(cancelAnimationFrame(i),i=null),!w||!n()){E();return}if(!b){E();return}let q=0;if(j?.changedTouches?.[0]){const me=j.changedTouches[0].clientX,le=performance.now()-_;le>0&&(q=(me-f)/le)}const O=z(q);let J=null;t.dialogState==="swiping"&&(J=Math.abs(C)>O||q<-v?"close":"open");const Pe=t.dialogState==="swiping"&&J==="close",Fe=Z(q,Pe);Ne.duration=Fe-.02,n().style.setProperty("--transition-timing",`${Fe}s`),n().offsetWidth,n().style.transform="",J==="open"?t.onOpen():J==="close"&&t.onClose(),n()?.style.removeProperty("--backdrop-bg"),E()};we(()=>(n().addEventListener("touchstart",A,{passive:!0}),n().addEventListener("touchmove",K,{passive:!1}),n().addEventListener("touchend",ie,{passive:!0}),n().addEventListener("touchcancel",ie,{passive:!0}),()=>{n().removeEventListener("touchstart",A),n().removeEventListener("touchmove",K),n().removeEventListener("touchend",ie),n().removeEventListener("touchcancel",ie),i!==null&&cancelAnimationFrame(i)})),X()}let ta=L(!1);const Rl=(e,t)=>{let n;return()=>{n&&clearTimeout(n),n=setTimeout(()=>{e()},t)}},Bl=Rl(()=>{P(ta,!1)},100),Rs=()=>{P(ta,!0),Bl()},jl=()=>o(ta);var Fl=(e,t)=>{t.onStartClose()},Ul=I('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),zl=I('<dialog><div class="dialogInner svelte-68rj1a"><div class="header svelte-68rj1a"><div><!></div></div> <!></div></dialog> <!>',1);function ql(e,t){G(t,!0);let n=350,r=L(null),a=L(null);const s=m=>{m.preventDefault(),t.onStartClose()};we(()=>(o(r)?.addEventListener("close",t.onClosed),o(r)?.addEventListener("cancel",s),()=>{o(r)?.removeEventListener("close",t.onClosed),o(r)?.removeEventListener("cancel",s)}));const i=()=>{o(r)?.style.removeProperty("--transition-timing"),o(r)?.style.removeProperty("transform"),o(r)?.style.removeProperty("--backdrop-bg")},l=()=>{Rs()},c=D(jl);Ae(()=>{if(t.dialogState,!!o(r))switch(t.dialogState){case"opening":{o(r).open||o(r).showModal(),o(r).getBoundingClientRect();const m=setTimeout(()=>{i()},n+1),S=()=>{clearTimeout(m),i()};return o(r)?.addEventListener("transitionend",S,{once:!0}),t.onOpened(),()=>{o(r)?.removeEventListener("transitionend",S)}}case"closing":{const m=setTimeout(()=>{t.dialogState==="closing"&&t.onClosed()},n+1),S=()=>{clearTimeout(m),t.onClosed()};return o(r)?.addEventListener("transitionend",S,{once:!0}),()=>{o(r)?.removeEventListener("transitionend",S)}}case"opened":i()}});var u=zl(),d=M(u),v=k(d),h=k(v),p=k(h),f=k(p);{var g=m=>{var S=Ul();te(S,1,ee(["navigateButton","buttonBack"]),"svelte-68rj1a"),S.__click=[Fl,t];var C=k(S);pe(C,()=>({"--size":"20px"})),ue(C.lastChild,{name:"back"});var E=x(C,2);bt(E,{children:(A,R)=>{var ne=Le("back");y(A,ne)}}),y(m,S)};F(f,m=>{(!(t.blocked||t.hidden)||t.blocked&&t.unBlockedBack)&&m(g)})}var _=x(h,2);tt(_,()=>t.children),ot(v,m=>P(a,m),()=>o(a)),ot(d,m=>P(r,m),()=>o(r));var w=x(d,2);{var b=m=>{Il(m,{get onClose(){return t.onStartClose},get onOpen(){return t.onStartOpen},get onSwipe(){return t.onSwipe},get dialogState(){return t.dialogState},get dialog(){return o(r)}})};F(w,m=>{(!o(c)&&t.dialogState==="opened"||t.dialogState==="swiping")&&(!t.blocked||t.unBlockedBack)&&m(b)})}se(()=>te(d,1,ee([{open:t.dialogState==="opened",hidden:t.hidden,isAnimationOn:Ne.working&&(!Ne.isSwiping||!t.hidden)},{hidden:t.hidden}]),"svelte-68rj1a")),Gr("scroll",v,l),y(e,u),X()}Oe(["click"]);const Na=(e,t)=>{if(!t)return e;if(t.type==="closed")return{type:"closed"};switch(e.type){case"opened":return t.type==="close"?{type:"closing"}:t.type==="swipe"?{type:"swiping"}:e;case"closed":return t.type==="open"?{type:"opening"}:e;case"swiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"opening":return t.type==="opened"?{type:"opened"}:e;default:return e}};function Vl(e,t){G(t,!0);let n=ce(t,"blocked",3,!1),r=ce(t,"hiddenDialog",3,!1),a=ce(t,"unBlockedBack",3,!1),s=ce(t,"onStartClose",3,()=>{}),i=ce(t,"onClose",3,()=>{}),l=L(he(Na({type:"closed"})));const c=w=>{P(l,Na(o(l),w),!0)},u=()=>{n()&&!a()||(s()(),c({type:"close"}))},d=()=>{c({type:"open"})},v=()=>{c({type:"opened"}),Ne.duration=.2},h=()=>{i()(),c({type:"closed"}),Ne.swipingRatio=1,Ne.duration=.2},p=()=>{c({type:"swipe"})};Ae(()=>{o(l).type==="swiping"?Ne.isSwiping=!0:Ne.isSwiping=!1,o(l).type==="closed"&&t.shownDialog?d():o(l).type==="opened"&&!t.shownDialog&&u()});var f=V(),g=M(f);{var _=w=>{ql(w,{onSwipe:p,onOpened:v,onClosed:h,onStartClose:u,onStartOpen:d,get dialogState(){return o(l).type},get hidden(){return r()},get blocked(){return n()},get unBlockedBack(){return a()},children:(b,m)=>{var S=V(),C=M(S);tt(C,()=>t.children),y(b,S)},$$slots:{default:!0}})};F(g,w=>{o(l).type!=="closed"&&w(_)})}return y(e,f),X({handleComputeState:c})}function Hl(e,t){G(t,!0);let n=ce(t,"blockedDialog",3,!1),r=ce(t,"hiddenDialog",3,!1),a=ce(t,"isLastDialog",3,!1),s=ce(t,"onStartClose",3,()=>{}),i=ce(t,"onClose",3,()=>{});const l=D(()=>a()?void 0:t.onStartBack);let c=null;function u(){return c||(c=ve(()=>import("./DesktopDialog-IPVXXSjj.js"),__vite__mapDeps([0,1]))),c}we(()=>(Ns(),()=>{Ds()}));var d=V(),v=M(d);{var h=f=>{Vl(f,{get shownDialog(){return t.shownDialog},get blocked(){return n()},get unBlockedBack(){return t.unBlockedBack},get hiddenDialog(){return r()},get children(){return t.children},get onStartClose(){return t.onStartBack},get onClose(){return i()}})},p=f=>{var g=V(),_=M(g);Xr(_,u,null,(w,b)=>{const m=D(()=>o(b).default);var S=V(),C=M(S);Zr(C,()=>o(m),(E,A)=>{A(E,{get shownDialog(){return t.shownDialog},get blockedDialog(){return n()},get unBlockedBack(){return t.unBlockedBack},get hiddenDialog(){return r()},get children(){return t.children},get onStartBack(){return o(l)},get onStartClose(){return s()},get onClose(){return i()}})}),y(w,S)}),y(f,g)};F(v,f=>{On()?f(h):f(p,!1)})}y(e,d),X()}let Bs=L(!1),na=L(!1);const yn=e=>{P(Bs,e,!0),e||P(na,!1)},Kl=()=>o(Bs),Da=e=>{P(na,e,!0)},Wl=()=>o(na);function La(e,t){G(t,!0);let n=ce(t,"blocked",3,!1),r=ce(t,"isLastDialog",3,!1),a=ce(t,"onBack",3,()=>{});const s=D(()=>n()||t.hidden||Kl()),i=D(()=>Wl()&&!r());Hl(e,{get shownDialog(){return t.shown},get blockedDialog(){return o(s)},get unBlockedBack(){return o(i)},get hiddenDialog(){return t.hidden},get isLastDialog(){return r()},onStartBack:()=>{(!o(s)||o(s)&&o(i))&&t.shown&&(fl(),a()())},onStartClose:()=>{(!o(s)||o(s)&&o(i))&&t.shown&&As()},onClose:()=>{Ms()},children:(d,v)=>{var h=V(),p=M(h);tt(p,()=>t.children),y(d,h)},$$slots:{default:!0}}),X()}let Mr=L(he({showFavicon:!0}));const js=()=>o(Mr).showFavicon,ra=e=>{e&&P(Mr,{...o(Mr),...e},!0)};let B=L({initedDB:!1});const Yl=()=>{P(B,{initedDB:!0})},Je=async e=>{P(B,{...o(B),account:e})},Mn=async e=>{const t=o(B).notes||[],n=o(B).mapNotes||new Map;e.forEach(r=>{t.push(r),n.set(r.id,r)}),P(B,{...o(B),notes:t,mapNotes:n,getNotes:()=>t,getMapNotes:()=>n})},dr=()=>o(B).notes&&o(B).mapNotes,Fs=()=>o(B).account,Gl=()=>o(B).getNotes||(()=>o(B).notes||[]),yu=()=>o(B).getMapNotes||(()=>o(B).mapNotes||new Map),Us=e=>{if(!o(B).notes||!o(B).mapNotes)throw new Error("Notes appState is not initialized");const t={...e};o(B).notes.push(t),o(B).mapNotes.set(t.id,t),P(B,{...o(B),getNotes:()=>o(B).notes,getMapNotes:()=>o(B).mapNotes})},zs=async e=>{if(!o(B).notes||!o(B).mapNotes)throw new Error("Notes appState is not initialized");o(B).notes.forEach((t,n)=>{t?.id===e.id&&o(B).notes&&(o(B).notes[n]=e)}),o(B).mapNotes.set(e.id,e),P(B,{...o(B),getNotes:()=>o(B).notes,getMapNotes:()=>o(B).mapNotes})},qs=async e=>{if(!o(B).notes||!o(B).mapNotes)throw new Error("Notes appState is not initialized");o(B).mapNotes.delete(e);const t=o(B).notes.findIndex(n=>n?.id===e);t!==-1&&(o(B).notes[t]=void 0),P(B,{...o(B),getNotes:()=>o(B).notes,getMapNotes:()=>o(B).mapNotes})},Vs=async()=>{const e=[],t=new Map;P(B,{...o(B),notes:e,mapNotes:t,getNotes:()=>e,getMapNotes:()=>t})},Hs=async()=>{P(B,{initedDB:!0,account:void 0,notes:void 0,mapNotes:void 0,getNotes:()=>{},getMapNotes:()=>{}})};let Ks=L({});const Ws=()=>o(Ks),Xl=e=>{P(Ks,e)};var Zl=I('<button> <svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></button>');function Hn(e,t){let n=D(()=>t.style==="selected"?"45deg":"0deg");var r=Zl();r.__click=function(...i){t.onClick?.apply(this,i)};var a=k(r),s=x(a);pe(s,()=>({"--size":"20px","--rotate":o(n)})),ue(s.lastChild,{name:"plus"}),se(()=>{Se(r,"type",t.type),te(r,1,ee([{selectedTag:t.style==="selected"}]),"svelte-1pjhi9i"),ur(a,`${t.title??""} `)}),y(e,r)}Oe(["click"]);var Jl=I("<div></div>"),Ql=I('<div class="sidebarFixed svelte-1l0nhlg"><div class="nav svelte-1l0nhlg"><!> <div class="menu svelte-1l0nhlg"><a class="link svelte-1l0nhlg"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a> <a class="link svelte-1l0nhlg"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a></div></div> <div class="searchWrapper svelte-1l0nhlg"><!></div> <!></div> <div></div>',1),$l=I("<div></div>"),ec=I('<div class="sidebar svelte-1l0nhlg"><div class="sidebarFixed svelte-1l0nhlg"><!></div> <div class="tags svelte-1l0nhlg"></div></div>');function tc(e,t){G(t,!0);let n=L(null),r=D(()=>new URLSearchParams(T.search).get("selectedTags")?.split(",")||[]),a=null;function s(){return a||(a=ve(()=>import("./MobileSidebar-Vn3LaJ7S.js"),__vite__mapDeps([2,3]))),a}const i=g=>{const _=new URLSearchParams(T.search);_.set("selectedTags",[...o(r),g].join(",")),it(`${T.pathname}${_.size>0?`?${_.toString()}`:""}`),at.value=""},l=g=>{const _=new URLSearchParams(T.search),w=o(r).filter(b=>b!==g);w.length===0?_.delete("selectedTags"):_.set("selectedTags",w.join(",")),it(`${T.pathname}${_.size>0?`?${_.toString()}`:""}`)};let c=D(()=>dr()?Object.values(Ws()).filter(g=>!o(r).some(_=>g.name===_)).sort((g,_)=>g.name.localeCompare(_.name)):[]),u=D(On);we(()=>{o(u)&&s()});let d=D(()=>Et().length>0||_l());var v=V(),h=M(v);{var p=g=>{var _=V(),w=M(_);Xr(w,s,null,(b,m)=>{const S=D(()=>o(m).default);var C=V(),E=M(C);Zr(E,()=>o(S),(A,R)=>{R(A,{get blocked(){return o(d)},children:(ne,$)=>{var oe=Ql(),K=M(oe),z=k(K),Z=k(z);bs(Z,{});var ie=x(Z,2),j=k(ie),q=D(()=>Rt(N.Settings));j.__click=function(...Y){o(q)?.apply(this,Y)};var O=k(j);pe(O,()=>({"--size":"24px"})),ue(O.lastChild,{name:"settings"});var J=x(O,2);bt(J,{children:(Y,ye)=>{var Te=Le("Settings");y(Y,Te)}});var Pe=x(j,2),Fe=D(()=>Rt(N.Sync));Pe.__click=function(...Y){o(Fe)?.apply(this,Y)};var me=k(Pe);pe(me,()=>({"--size":"24px"})),ue(me.lastChild,{name:"sync"});var ge=x(me,2);bt(ge,{children:(Y,ye)=>{var Te=Le("Sync");y(Y,Te)}});var le=x(z,2),Me=k(le);Dr(Me,{placeholder:"Search tag",get value(){return at.value},set value(Y){at.value=Y}});var Ie=x(le,2);{var Pt=Y=>{var ye=Jl();te(ye,1,ee(["tags","selectedTags"]),"svelte-1l0nhlg"),nn(ye,20,()=>o(r),Te=>Te,(Te,Kt)=>{Hn(Te,{get title(){return Kt},onClick:()=>l(Kt),style:"selected"})}),ot(ye,Te=>P(n,Te),()=>o(n)),y(Y,ye)};F(Ie,Y=>{o(r).length>0&&Y(Pt)})}var fe=x(K,2);te(fe,1,ee(["tags","tagsWrapper"]),"svelte-1l0nhlg"),nn(fe,21,()=>o(c),Y=>Y.name,(Y,ye)=>{var Te=V(),Kt=M(Te);{var ct=ut=>{Hn(ut,{get title(){return o(ye).name},onClick:()=>i(o(ye).name)})};F(Kt,ut=>{(at.value===""||o(ye).name.toLowerCase().indexOf(at.value.toLowerCase())!==-1)&&ut(ct)})}y(Y,Te)}),se((Y,ye)=>{Se(j,"href",Y),Se(Pe,"href",ye)},[()=>It(N.Settings),()=>It(N.Sync)]),y(ne,oe)},$$slots:{default:!0}})}),y(b,C)}),y(g,_)},f=g=>{var _=ec(),w=k(_),b=k(w);{var m=C=>{var E=$l();te(E,1,ee(["tags","selectedTags"]),"svelte-1l0nhlg"),nn(E,20,()=>o(r),A=>A,(A,R)=>{Hn(A,{get title(){return R},onClick:()=>l(R),style:"selected"})}),y(C,E)};F(b,C=>{o(r).length>0&&C(m)})}var S=x(w,2);nn(S,21,()=>o(c),C=>C.name,(C,E)=>{var A=V(),R=M(A);{var ne=$=>{Hn($,{get title(){return o(E).name},onClick:()=>i(o(E).name)})};F(R,$=>{(at.value===""||o(E).name.toLowerCase().indexOf(at.value.toLowerCase())!==-1)&&$(ne)})}y(C,A)}),y(g,_)};F(h,g=>{o(u)?g(p):g(f,!1)})}y(e,v),X()}Oe(["click"]);function gt(e){const t=String.fromCharCode(...new Uint8Array(e));return window.btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function aa(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");const n=t.length%4;return n&&(t+="=".repeat(4-n)),t}function sa(e){try{const t=atob(e),n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n.buffer}catch(t){throw console.error("Error decoding base64:",t,"Input:",e),t}}function bu(e){const t=aa(e);return sa(t)}const Su=async({challenge:e,clientKey:t})=>{const n=Math.floor(Math.random()*100),r={challenge:sa(aa(e)),rp:{id:"localhost",name:"notes"},user:{id:new Uint8Array([...t,...crypto.getRandomValues(new Uint8Array(16))]).buffer,name:`account_${n}`,displayName:`account_${n}`},pubKeyCredParams:[{type:"public-key",alg:-7},{type:"public-key",alg:-257}],authenticatorSelection:{userVerification:"required"},timeout:6e4,attestation:"none"},a=await navigator.credentials.create({publicKey:r});if(a){const s=a.response;return{challenge:e,id:a.id,rawId:gt(a.rawId),type:a.type,response:{clientDataJSON:gt(s.clientDataJSON),attestationObject:gt(s.attestationObject)}}}else throw new Error},ku=async({challenge:e})=>{const t={challenge:sa(aa(e)),timeout:6e4,rpId:"localhost",userVerification:"required"},n=await navigator.credentials.get({publicKey:t});if(n){const r=n.response,a=new DataView(r.authenticatorData).getUint32(33,!1);console.log("Counter:",a);const s={challenge:e,id:n.id,rawId:gt(n.rawId),type:n.type,response:{authenticatorData:gt(r.authenticatorData),clientDataJSON:gt(r.clientDataJSON),signature:gt(r.signature)}};if(!r.userHandle)throw new Error("No credential found");const i=new Uint8Array(r.userHandle).slice(0,32);return{credentialData:s,clientKey:i}}else throw new Error("No credential found")},nc=async e=>{const t=await crypto.subtle.importKey("raw",e.serverKey,{name:"HKDF"},!1,["deriveKey"]),n=await crypto.subtle.deriveKey({name:"HKDF",salt:new Uint8Array(12),info:new TextEncoder().encode("aes-gcm-shared"),hash:"SHA-256"},t,{name:"AES-GCM",length:256},!1,["encrypt"]);return{encryptedClientKey:await crypto.subtle.encrypt({name:"AES-GCM",iv:new Uint8Array(12)},n,e.clientKey)}},Eu=async e=>{const t=await crypto.subtle.importKey("raw",e.serverKey,{name:"HKDF"},!1,["deriveKey"]),n=await crypto.subtle.deriveKey({name:"HKDF",info:new TextEncoder().encode("aes-gcm-shared"),hash:"SHA-256",salt:new Uint8Array(12)},t,{name:"AES-GCM",length:256},!1,["decrypt"]),r=await crypto.subtle.decrypt({name:"AES-GCM",iv:new Uint8Array(12)},n,e.encryptedClientKey);return new Uint8Array(r)},Ys=()=>crypto.randomUUID(),rc="AppStorage",ac=1,ke="notes",ze="syncLog",dt="account",ft="settings",U=(e,t,n)=>{e?.addEventListener(t,n)};class sc{constructor(){$t(this,"db");this.db=null}init(){return new Promise((t,n)=>{const r=indexedDB.open(rc,ac);U(r,"upgradeneeded",()=>{const a=r.result;a.objectStoreNames.contains(ke)||a.createObjectStore(ke,{keyPath:"id"}),a.objectStoreNames.contains(dt)||a.createObjectStore(dt,{keyPath:"id"}),a.objectStoreNames.contains(ft)||a.createObjectStore(ft,{keyPath:"id"}),a.objectStoreNames.contains(ze)||a.createObjectStore(ze,{keyPath:"id"})}),U(r,"success",()=>{t(),this.db=r.result;const a=this.db;a.onversionchange=function(){a?.close(),alert("app outdated, please reload the page")}}),U(r,"blocked",()=>{n(),alert("app outdated, please reload the page")}),U(r,"error",()=>{n(),console.error("Error",r.error)})})}getSettings(){return new Promise((t,n)=>{const a=this.db?.transaction(ft,"readonly")?.objectStore(ft).get("default");U(a,"success",()=>{const s=a?.result?.settings;t(s)}),U(a,"error",()=>{n()})})}putSettings(t){return new Promise((n,r)=>{const i=this.db?.transaction(ft,"readwrite")?.objectStore(ft)?.put({id:"default",settings:t});U(i,"success",()=>{n()}),U(i,"error",()=>{r()})})}getAccount(){return new Promise((t,n)=>{const a=this.db?.transaction(dt,"readonly")?.objectStore(dt).get("default");U(a,"success",()=>{const s=a?.result?.account;t(s)}),U(a,"error",()=>{n()})})}putAccount(t){return new Promise((n,r)=>{const i=this.db?.transaction(dt,"readwrite")?.objectStore(dt)?.put({id:"default",account:t});U(i,"success",()=>{console.log("account inited"),n()}),U(i,"error",()=>{r()})})}getAllNotes(){return new Promise((t,n)=>{const a=this.db?.transaction(ke,"readonly")?.objectStore(ke).getAll();U(a,"success",()=>{const s=a?.result||[];t(s)}),U(a,"error",()=>{n()})})}putNote(t){return new Promise((n,r)=>{const i=this.db?.transaction(ke,"readwrite")?.objectStore(ke)?.put({...t});U(i,"success",()=>{n()}),U(i,"error",()=>{r()})})}deleteNote(t){return new Promise((n,r)=>{const i=this.db?.transaction(ke,"readwrite")?.objectStore(ke)?.delete(t);U(i,"success",()=>{n()}),U(i,"error",()=>{r()})})}clearNotes(){new Promise((t,n)=>{const s=this.db?.transaction(ke,"readwrite")?.objectStore(ke)?.clear();U(s,"success",()=>{t()}),U(s,"error",()=>{n()})})}clearAllLocalData(){return Promise.all([new Promise((t,n)=>{const s=this.db?.transaction(dt,"readwrite")?.objectStore(dt)?.clear();U(s,"success",()=>{t()}),U(s,"error",()=>{n()})}),new Promise((t,n)=>{const s=this.db?.transaction(ke,"readwrite")?.objectStore(ke)?.clear();U(s,"success",()=>{t()}),U(s,"error",()=>{n()})}),new Promise((t,n)=>{const s=this.db?.transaction(ft,"readwrite")?.objectStore(ft)?.clear();U(s,"success",()=>{t()}),U(s,"error",()=>{n()})}),new Promise((t,n)=>{const s=this.db?.transaction(ze,"readwrite")?.objectStore(ze)?.clear();U(s,"success",()=>{t()}),U(s,"error",()=>{n()})})])}async importNotes(t){const n=(await this.getAllNotes()).reduce((i,l)=>(i[l.id]=l,i),{}),r={},s=this.db?.transaction(ke,"readwrite")?.objectStore(ke);t.forEach(i=>{n[i.id]?n[i.id].updatedAt<i.updatedAt&&(r[i.id]=i):r[i.id]=i}),await Promise.all(Object.values(r).map(i=>{const l=s?.put(i);return new Promise((c,u)=>{U(l,"success",()=>{c()}),U(l,"error",()=>{u()})})}))}async genNotes(t){const r=this.db?.transaction(ke,"readwrite")?.objectStore(ke);await Promise.all(Array.from({length:1e5},(a,s)=>{const i=[];for(let u=0;u<Math.random()*4;u++){const d=(Math.random()*100).toFixed();i.includes(d)||i.push(d)}const l={...t,url:`${t.url}${s}`,id:Ys(),createdAt:Date.now(),updatedAt:Date.now(),title:i.join("#"),tags:i},c=r?.put(l);return new Promise((u,d)=>{U(c,"success",()=>{s%1e4===0&&console.log(`note ${s} done`),u()}),U(c,"error",()=>{console.log(`note ${s} error`),d()})})}))}putSyncLogRecord(t){return new Promise((n,r)=>{const i=this.db?.transaction(ze,"readwrite")?.objectStore(ze)?.put({...t});U(i,"success",()=>{n()}),U(i,"error",()=>{r()})})}getSyncLog(){new Promise((t,n)=>{const a=this.db?.transaction(ze,"readonly")?.objectStore(ze).getAll();U(a,"success",()=>{const s=a?.result||[];t(s)}),U(a,"error",()=>{n()})})}deleteSyncLogRecord(t){new Promise((n,r)=>{const s=this.db?.transaction(ze,"readwrite")?.objectStore(ze);Promise.all(t.map(i=>new Promise((l,c)=>{const u=s?.delete(i);U(u,"success",()=>{l()}),U(u,"error",()=>{c()})}))).then(()=>{n()}).catch(()=>{r()})})}clearSyncLog(){new Promise((t,n)=>{const s=this.db?.transaction(ze,"readwrite")?.objectStore(ze)?.clear();U(s,"success",()=>{t()}),U(s,"error",()=>{n()})})}}async function oa(){if(navigator.storage&&navigator.storage.persist)try{await navigator.storage.persisted()||await navigator.storage.persist()}catch{console.error("")}}const ae=new sc,Gs=crypto.randomUUID(),Xs=new BroadcastChannel("app"),Ge=(e,t)=>{Xs.postMessage(JSON.stringify({tabId:Gs,type:e,data:t}))};Xs.addEventListener("message",async e=>{if(e.data&&typeof e.data=="string"){const t=JSON.parse(e.data);if(t.tabId&&t.tabId===Gs)return;if(t.type==="addNote"){const n=t.data;Us(n)}else if(t.type==="updateNote"){const n=t.data;zs(n)}else if(t.type==="deleteNote"){const n=t.data;qs(n)}else if(t.type==="clearAppState")Vs();else if(t.type==="reloadNotes"){const n=await ae.getAllNotes();await Mn(n)}else if(t.type==="initLocalAccount")Je(null),Lr(),it("/");else if(t.type==="initAccount"){const n=await ae.getAccount();n&&(Je(n),Lr(),it("/"))}else if(t.type==="updateSettings"){const n=await ae.getSettings();n&&ra(n)}else if(t.type==="disconnectCloudAccount")Je(null);else if(t.type==="exit")Hs();else if(t.type==="updateAccount"){const n=await ae.getAccount();n&&Je(n)}}});ae.init().then(async()=>{Yl();const e=await ae.getSettings();ra(e);const t=await ae.getAccount();if(t===void 0)nt(N.Start);else{xl(N.Start)&&(Lr(),it("/")),t?(Je(t),await oa()):Je(null);const n=await ae.getAllNotes();await Mn(n)}}).catch(()=>{console.error("failed to init db")});const Pu=async e=>{const t={...e,id:Ys(),createdAt:Date.now(),updatedAt:Date.now()};Us(t),Ge("addNote",t),await ae.putNote({...t})},Cu=async e=>{const t={...e,updatedAt:Date.now()};Ge("updateNote",t),zs(t),await ae.putNote(t)},oc=async e=>{ra({showFavicon:e}),await ae.putSettings({showFavicon:e}),Ge("updateSettings")},ic=async e=>{Ge("deleteNote",e),qs(e),await ae.deleteNote(e)},Au=async()=>{Ge("clearAppState"),Vs(),await ae.clearAllLocalData()},Tu=async e=>{await ae.importNotes(e),Ge("reloadNotes");const t=await ae.getAllNotes();await Mn(t)},lc=async()=>{await ae.clearAllLocalData(),await oa(),await ae.putAccount(null),Je(null),await Mn([]),Ge("initLocalAccount")},xu=async()=>{Je(null),await ae.putAccount(null);try{await fetch("/api/dropSession",{method:"POST"})}catch{console.error("Failed to disconnect cloud account")}Ge("disconnectCloudAccount")},Nu=async e=>{await ae.clearAllLocalData(),await oa();const{encryptedClientKey:t}=await nc({clientKey:e.clientKey,serverKey:e.serverKey}),n={encryptedClientKey:gt(t),subscriptionExpires:e.subscriptionExpires||-1,lastSync:-1};await ae.putAccount(n),Je(n);const r=await ae.getAllNotes();await Mn(r),Ge("initAccount")},Du=async e=>{const t=Fs();if(!t)return;const n={...t,subscriptionExpires:e};await ae.putAccount(n),Je(n),Ge("updateAccount")},Lu=async()=>{Hs(),await ae.clearAllLocalData(),Ge("exit")},cc=(e,t,n)=>{P(t,!0),P(n,!0)},uc=(e,t,n)=>{P(t,!0),nt(`${N.EditBookmark}?id=${n.note.id}`)};var dc=I('<div class="menu svelte-xxw0l"><div><button>Edit</button></div> <div><button>Delete</button></div></div>'),fc=I('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1);function vc(e,t){G(t,!0);const n=(p,f=yt)=>{var g=dc(),_=k(g),w=k(_);w.__click=[uc,a,t];var b=x(_,2),m=k(b);m.__click=[cc,s,a],se(()=>{te(w,1,ee(["button",{buttonMenuDialog:f()}]),"svelte-xxw0l"),te(m,1,ee(["button",{buttonMenuDialog:f()}]),"svelte-xxw0l")}),y(p,g)};let r=ce(t,"shownMenu",15),a=L(!1),s=L(!1),i=D(On),l=D(()=>new URLSearchParams(T.search).get("selectedTags")?.split(",")||[]);const c=()=>{const p=Ws();t.note.tags.forEach(f=>{if(o(l).includes(f)&&p[f].connections===1){const g=new URLSearchParams(T.search),_=o(l).filter(w=>w!==f);_.length===0?g.delete("selectedTags"):g.set("selectedTags",_.join(",")),Qr(`${T.pathname}${g.size>0?`?${g.toString()}`:""}`)}}),ic(t.note.id)},u=()=>{o(s)&&c(),r(!1),P(a,!1)};var d=V(),v=M(d);{var h=p=>{var f=V(),g=M(f);{var _=b=>{Ls(b,{get startClose(){return o(a)},onClosed:u,children:(m,S)=>{n(m,()=>!0)},$$slots:{default:!0}})},w=b=>{var m=fc(),S=M(m);pe(S,()=>({"--bottom":"-180%","--right":"30px"})),Os(S.lastChild,{get startClose(){return o(a)},get positionTop(){return t.showMenuUp},onClosed:u,children:(C,E)=>{n(C,()=>!1)},$$slots:{default:!0}}),y(b,m)};F(g,b=>{o(i)?b(_):b(w,!1)})}y(p,f)};F(v,p=>{r()&&p(h)})}y(e,d),X()}Oe(["click"]);const hc=(e,t,n)=>{t.showMenuUp||P(n,!0)},pc=(e,t)=>{navigator.clipboard.writeText(t.note.url),Xi("Link copied to clipboard")},gc=(e,t)=>{P(t,!0)},_c=(e,t)=>{P(t,!1)};var mc=I('<div class="iconPlaceholder svelte-1khtf0k"></div>'),wc=I('<img loading="lazy" class="noteIcon" height="16" width="16" alt=""/>'),yc=I('<li class="note svelte-1khtf0k"><div class="noteIconWrapper svelte-1khtf0k"><!></div> <a class="noteLink svelte-1khtf0k" target="_blank" rel="noopener noreferrer"> </a> <div class="spacer svelte-1khtf0k"></div> <div><button class="button svelte-1khtf0k"><!> <!></button> <button><!> <!></button> <!></div></li>');function bc(e,t){G(t,!0);let n=L(!1),r=L(!1),a=L(!1),s=D(js);const i=E=>{try{return`https://${new URL(E).host}/favicon.ico`}catch{return""}};var l=yc();l.__focusin=[gc,n],l.__focusout=[_c,n];var c=k(l),u=k(c);{var d=E=>{var A=mc();y(E,A)},v=E=>{var A=wc();se(R=>Se(A,"src",R),[()=>i(t.note.url)]),Gr("error",A,()=>{P(a,!0)}),y(E,A)};F(u,E=>{o(a)||!o(s)?E(d):E(v,!1)})}var h=x(c,2),p=k(h),f=x(h,4),g=k(f);g.__click=[pc,t];var _=k(g);ue(_,{name:"copy"});var w=x(_,2);bt(w,{children:(E,A)=>{var R=Le("copy link");y(E,R)}});var b=x(g,2);b.__click=[hc,t,r],te(b,1,ee(["button","buttonMenu"]),"svelte-1khtf0k");var m=k(b);ue(m,{name:"menu"});var S=x(m,2);bt(S,{children:(E,A)=>{var R=Le("show menu");y(E,R)}});var C=x(b,2);vc(C,{get note(){return t.note},get showMenuUp(){return t.showMenuUp},get shownMenu(){return o(r)},set shownMenu(E){P(r,E,!0)}}),se(()=>{Se(h,"tabindex",t.focusHidden?-1:0),Se(h,"href",t.note.url),ur(p,t.note.title),te(f,1,ee(["noteMenuWrapper",{noteMenuWrapperActive:o(n)}]),"svelte-1khtf0k"),Se(g,"tabindex",t.focusHidden?-1:0),Se(b,"tabindex",t.focusHidden?-1:0)}),y(e,l),X()}Oe(["focusin","focusout","click"]);var Sc=I('<div><!> <div class="loader svelte-1wuuvr"></div></div>');function Zs(e,t){G(t,!0);let n=L(!1);we(()=>{const s=setTimeout(()=>{P(n,!0)},200);return()=>{clearTimeout(s)}});var r=Sc(),a=k(r);tt(a,()=>t.children??yt),se(()=>te(r,1,ee(["block",{shown:o(n)}]),"svelte-1wuuvr")),y(e,r),X()}var kc=I("<a><!></a>"),Ec=I('<button type="button"><!></button>');function St(e,t){let n=ce(t,"type",3,"standard"),r=ce(t,"element",3,"button"),a=ce(t,"href",3,""),s=ce(t,"fullWidth",3,!1);var i=V(),l=M(i);{var c=d=>{var v=kc();v.__click=function(...p){t.onClick?.apply(this,p)};var h=k(v);tt(h,()=>t.children??yt),se(()=>{Se(v,"href",a()),te(v,1,ee(["button","a",{dangerous:n()==="dangerous",secondary:n()==="secondary",fullWidth:s()}]),"svelte-na2c6y")}),y(d,v)},u=d=>{var v=Ec();v.__click=function(...p){t.onClick?.apply(this,p)};var h=k(v);tt(h,()=>t.children??yt),se(()=>te(v,1,ee(["button",{dangerous:n()==="dangerous",secondary:n()==="secondary",fullWidth:s()}]),"svelte-na2c6y")),y(d,v)};F(l,d=>{r()==="a"?d(c):d(u,!1)})}y(e,i)}Oe(["click"]);var Pc=I('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Add note</span>',1),Cc=I('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span style="padding-left: 6px;">Import data</span>',1),Ac=I('<div class="emptyStore svelte-8jt4vq"><p class="message">No notes found</p> <div class="wrapperButtonsAdd svelte-8jt4vq"><!></div> <div>or</div> <div class="wrapperButtonsAdd svelte-8jt4vq"><!></div></div>'),Tc=I('<div class="emptyMessage svelte-8jt4vq">No notes found</div>'),xc=I('<div class="feed svelte-8jt4vq"><ul class="svelte-8jt4vq"></ul></div>'),Nc=I('<div class="wrapperFeed svelte-8jt4vq"><div class="wrapperContainer svelte-8jt4vq"><!></div></div>');function Dc(e,t){G(t,!0);let n=50,r=L(0),a=L(0),s=L(0),i=D(Ps),l=L(0),c=[],u=L(0),d=D(()=>ea.ref),v=null,h=null;const p=D(ul);Ae(()=>{o(i),o(p),o(_),o(d)?.scrollTo(0,0)});const f=()=>{Rs(),v||(v=requestAnimationFrame(()=>{const z=o(d)?.scrollTop||0;P(s,z,!0);const Z=Math.ceil(o(r)/n);P(a,Math.floor(z/(n*Z))*(n*Z)),v=null}))},g=()=>{h||(h=requestAnimationFrame(()=>{P(r,window.innerHeight-180||0,!0);const z=o(d)?.scrollTop||0;P(s,z,!0);const Z=Math.ceil(o(r)/n);P(a,Math.floor(z/(n*Z))*(n*Z)),h=null}))};we(()=>{g(),f()}),Ae(()=>(o(d)?.addEventListener("scroll",f),window.addEventListener("resize",g),()=>{o(d)?.removeEventListener("scroll",f),window.removeEventListener("resize",g)}));const _=D(ks);let w=L(""),b=D(Gl);Ae(()=>{o(_);const z=o(b)()||[];Ft(()=>o(w))!==o(_)&&(Ft(()=>P(w,o(_),!0)),z.sort((q,O)=>{if(!q||!O)return 0;switch(o(_)){case"newest":return q.createdAt<O.createdAt?-1:1;case"oldest":return q.createdAt>O.createdAt?-1:1;case"AtoZ":return O.title.localeCompare(q.title);case"ZtoA":return q.title.localeCompare(O.title);default:return 0}}));const ie=[],j={};for(let q=z.length-1;q>=0;q--){const O=z[q];if(O&&!(o(p).length&&o(p).some(J=>!O.tags.includes(J)))&&!(o(i)&&!(O.title.toLowerCase().includes(o(i).toLowerCase())||O.url.toLowerCase().includes(o(i).toLowerCase())||O.description.toLowerCase().includes(o(i).toLowerCase())))){if(O.tags)for(const J of O.tags)j[J]?j[J].connections++:j[J]={name:J,connections:1};ie.push(O)}}Xl(j),P(l,ie.length,!0),c=ie,P(u,Date.now(),!0)});const m=D(()=>o(l)*n);let C=D(()=>{o(u);const z=Math.ceil(o(r)/n);let Z=Math.floor(o(a)/n);return Z=Z-Math.min(Z,z),c.slice(Z,Z+z*3)}),E=D(()=>n*Math.ceil(o(r)/n));const A=D(()=>o(a)-Math.min(o(a),o(E)));var R=Nc(),ne=k(R),$=k(ne);{var oe=z=>{Zs(z,{})},K=z=>{var Z=V(),ie=M(Z);{var j=O=>{var J=Ac(),Pe=x(k(J),2),Fe=k(Pe);{let le=D(()=>It(N.NewBookmark)),Me=D(()=>Rt(N.NewBookmark));St(Fe,{element:"a",get href(){return o(le)},get onClick(){return o(Me)},children:(Ie,Pt)=>{var fe=Pc(),Y=M(fe);pe(Y,()=>({"--size":"24px","--color":"#b0b0b0"})),ue(Y.lastChild,{name:"plus"}),y(Ie,fe)},$$slots:{default:!0}})}var me=x(Pe,4),ge=k(me);{let le=D(()=>It(N.ImportData)),Me=D(()=>Rt(N.ImportData));St(ge,{element:"a",get href(){return o(le)},get onClick(){return o(Me)},children:(Ie,Pt)=>{var fe=Cc(),Y=M(fe);pe(Y,()=>({"--size":"18px","--color":"#b0b0b0"})),ue(Y.lastChild,{name:"import"}),y(Ie,fe)},$$slots:{default:!0}})}y(O,J)},q=O=>{var J=V(),Pe=M(J);{var Fe=ge=>{var le=Tc();y(ge,le)},me=ge=>{var le=xc(),Me=k(le);nn(Me,23,()=>o(C),Ie=>Ie.id,(Ie,Pt,fe)=>{{let Y=D(()=>o(fe)*n<o(s)-o(A)-n/2||o(fe)*n>o(s)-o(A)+Math.floor(o(r)/n)*n),ye=D(()=>(o(fe)+3)*n<o(s)-o(A)-n/2||(o(fe)+3)*n>o(s)-o(A)+Math.floor(o(r)/n)*n);bc(Ie,{get focusHidden(){return o(Y)},get showMenuUp(){return o(ye)},get note(){return o(Pt)}})}}),se(Ie=>{$n(le,`min-height: ${Ie??""}px`),$n(Me,`transform: translateY(${o(A)??""}px);`)},[()=>Math.max((o(m)>o(r),o(m)),0)]),y(ge,le)};F(Pe,ge=>{o(C).length===0?ge(Fe):ge(me,!1)},!0)}y(O,J)};F(ie,O=>{(o(b)()||[]).length===0?O(j):O(q,!1)},!0)}y(z,Z)};F($,z=>{dr()?z(K,!1):z(oe)})}y(e,R),X()}var Lc=I('<!> <div class="content svelte-cu0ar8"><!></div>',1);function Js(e){var t=Lc(),n=M(t);tc(n,{});var r=x(n,2),a=k(r);Dc(a,{}),y(e,t)}const Oc=Object.freeze(Object.defineProperty({__proto__:null,default:Js},Symbol.toStringTag,{value:"Module"}));var Mc=I('<div class="wrapper svelte-1syxvud"><fieldset class="switcher svelte-1syxvud"><legend class="vh svelte-1syxvud">Color Scheme</legend> <input id="light" type="radio" aria-label="Light"/> <label for="light" title="Light" aria-label="Light"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <input id="system" type="radio" aria-label="System"/> <label for="system" title="System" aria-label="System"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <input id="dark" type="radio" aria-label="Dark"/> <label for="dark" title="Dark" aria-label="Dark"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <div class="wrapSwitcherStatus svelte-1syxvud"><div class="switcherStatus svelte-1syxvud"></div></div></fieldset></div>');function Ic(e,t){G(t,!0);const n={Light:"light",System:"system",Dark:"dark"};let r=L(he(localStorage.getItem("colorScheme")||n.System));const a=b=>{localStorage.setItem("colorScheme",b),b===n.System?window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.dataset.colorScheme=n.Dark:document.documentElement.dataset.colorScheme=n.Light:document.documentElement.dataset.colorScheme=b,P(r,b,!0)},s=b=>{const m=b.target.value;a(m)},i="color-scheme-switcher";var l=Mc(),c=k(l),u=x(k(c),2);te(u,1,ee(["vh","input"]),"svelte-1syxvud"),Se(u,"name",i),u.__change=s;var d=x(u,2);te(d,1,ee(["switcherButton","light"]),"svelte-1syxvud");var v=k(d);pe(v,()=>({"--size":"20px"})),ue(v.lastChild,{name:"sun"});var h=x(d,2);te(h,1,ee(["vh","input"]),"svelte-1syxvud"),Se(h,"name",i),h.__change=s;var p=x(h,2);te(p,1,ee(["switcherButton","system"]),"svelte-1syxvud");var f=k(p);pe(f,()=>({"--size":"14px"})),ue(f.lastChild,{name:"a"});var g=x(p,2);te(g,1,ee(["vh","input"]),"svelte-1syxvud"),Se(g,"name",i),g.__change=s;var _=x(g,2);te(_,1,ee(["switcherButton","dark"]),"svelte-1syxvud");var w=k(_);return pe(w,()=>({"--size":"20px"})),ue(w.lastChild,{name:"moon"}),se(()=>{mr(u,n.Light),Gn(u,o(r)===n.Light),mr(h,n.System),Gn(h,o(r)===n.System),mr(g,n.Dark),Gn(g,o(r)===n.Dark)}),y(e,l),X({setColorScheme:a,handleChange:s})}Oe(["change"]);const Rc=(e,t)=>{t.onChange(!t.checked)};var Bc=I('<label class="switch svelte-15kl8eb"><input class="vh svelte-15kl8eb" type="checkbox"/> <span class="slider svelte-15kl8eb"></span></label>');function jc(e,t){G(t,!0);var n=Bc(),r=k(n);r.__change=[Rc,t],se(()=>Gn(r,t.checked)),y(e,n),X()}Oe(["change"]);const Fc=()=>{nt(N.ImportData)},Uc=()=>{nt(N.ExportData)},zc=()=>{nt(N.ClearStore)},qc=()=>{nt(N.Account)};var Vc=I("<span> </span>"),Hc=I('<div class="svelte-1kuxgbs"><!> <ul class="svelte-1kuxgbs"><li class="svelte-1kuxgbs"><button class="button svelte-1kuxgbs"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1kuxgbs">Import data</span></button></li> <li class="svelte-1kuxgbs"><button class="button svelte-1kuxgbs"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1kuxgbs">Export data</span></button></li> <li class="svelte-1kuxgbs"><button class="button svelte-1kuxgbs"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1kuxgbs">Clear storage</span></button></li> <li class="svelte-1kuxgbs"><button class="button svelte-1kuxgbs"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1kuxgbs">Account</span></button></li></ul> <div class="favicons svelte-1kuxgbs"><span class="faviconsLabel svelte-1kuxgbs">show favicons</span> <!></div> <div class="version svelte-1kuxgbs"><!></div></div>');function Qs(e,t){G(t,!0);let n=L("");const r=async $=>{try{const K=await(await fetch("/build-metadata.json",{signal:$})).json();P(n,`${K.buildHash}`)}catch{console.error("Failed to load build metadata")}};we(()=>{const $=new AbortController;return r($.signal),()=>{$.abort()}});let a=D(js);const s=$=>{oc($)};we(()=>{console.log("Page Settings mounted")});var i=Hc(),l=k(i);Ic(l,{});var c=x(l,2),u=k(c),d=k(u);d.__click=[Fc];var v=k(d);pe(v,()=>({"--size":"20px"})),ue(v.lastChild,{name:"import"});var h=x(u,2),p=k(h);p.__click=[Uc];var f=k(p);pe(f,()=>({"--size":"20px"})),ue(f.lastChild,{name:"export"});var g=x(h,2),_=k(g);_.__click=[zc];var w=k(_);pe(w,()=>({"--size":"20px"})),ue(w.lastChild,{name:"trash"});var b=x(g,2),m=k(b);m.__click=[qc];var S=k(m);pe(S,()=>({"--size":"20px"})),ue(S.lastChild,{name:"account"});var C=x(c,2),E=x(k(C),2);jc(E,{get checked(){return o(a)},onChange:s});var A=x(C,2),R=k(A);{var ne=$=>{var oe=Vc(),K=k(oe);se(z=>ur(K,`version: 0.0.1 build_date: "${z??""}" build_hash:
				${o(n)??""}`),[()=>new Date(1756435611605).toISOString().replaceAll("T"," ").replace(/\..*/,"")]),y($,oe)};F(R,$=>{o(n)&&$(ne)})}y(e,i),X()}Oe(["click"]);const Kc=Object.freeze(Object.defineProperty({__proto__:null,default:Qs},Symbol.toStringTag,{value:"Module"}));var Wc=I('<div class="content svelte-9hh95f"><p class="message svelte-9hh95f">use app</p> <div class="buttonContainer svelte-9hh95f"><div class="buttonContainerItem svelte-9hh95f"><!></div> <div class="buttonContainerItem svelte-9hh95f"><!></div></div></div>');function $s(e,t){G(t,!0);let n=L("idle");const r=()=>{P(n,"loading"),nt(N.Auth)},a=async()=>{P(n,"loading"),await lc(),yn(!1),As()};Ae(()=>{yn(o(n)==="idle"||o(n)==="loading")}),we(()=>(yn(!0),()=>{yn(!1)}));var s=Wc(),i=x(k(s),2),l=k(i),c=k(l);St(c,{onClick:r,fullWidth:!0,children:(v,h)=>{var p=Le("cloud account");y(v,p)},$$slots:{default:!0}});var u=x(l,2),d=k(u);St(d,{onClick:a,fullWidth:!0,type:"secondary",children:(v,h)=>{var p=Le("local account");y(v,p)},$$slots:{default:!0}}),y(e,s),X()}const Yc=Object.freeze(Object.defineProperty({__proto__:null,default:$s},Symbol.toStringTag,{value:"Module"}));var Gc=I('<div class="content svelte-9hh95f"><p class="message svelte-9hh95f">sign in / sign up</p> <div class="buttonContainer svelte-9hh95f"><div class="buttonContainerItem svelte-9hh95f"><!></div> <div class="buttonContainerItem svelte-9hh95f"><!></div></div></div>');function eo(e,t){G(t,!0);let n=D(Fs);const r=async()=>{nt(N.Signin)},a=async()=>{nt(N.Signup)};we(()=>(console.log("Auth onMount"),o(n)===void 0&&(yn(!0),Da(!0)),()=>{Da(!1)}));var s=Gc(),i=x(k(s),2),l=k(i),c=k(l);St(c,{onClick:r,fullWidth:!0,children:(v,h)=>{var p=Le("sign in");y(v,p)},$$slots:{default:!0}});var u=x(l,2),d=k(u);St(d,{onClick:a,fullWidth:!0,children:(v,h)=>{var p=Le("sign up");y(v,p)},$$slots:{default:!0}}),y(e,s),X()}const Xc=Object.freeze(Object.defineProperty({__proto__:null,default:eo},Symbol.toStringTag,{value:"Module"}));let to=L(200);const Zc=e=>{P(to,e,!0)},Jc=()=>o(to);var Qc=I('<div class="svelte-m08fup"><!></div>');function be(e,t){G(t,!0);let n=L(null);we(()=>{o(n)&&(o(n).getBoundingClientRect(),o(n).style.opacity="1");const s=new ResizeObserver(i=>{for(let l of i){const c=l.contentRect.height;Zc(c)}});if(o(n))return s.observe(o(n)),()=>{o(n)&&s.unobserve(o(n)),s.disconnect()}});var r=Qc(),a=k(r);tt(a,()=>t.children),ot(r,s=>P(n,s),()=>o(n)),y(e,r),X()}var $c=I('<div class="svelte-ndasxn"><p class="svelte-ndasxn">Page not found</p> <!></div>');function no(e,t){G(t,!1);const n=s=>{s.preventDefault(),it("/")};Ln();var r=$c(),a=x(k(r),2);St(a,{element:"a",href:"/",onClick:n,children:(s,i)=>{var l=Le("close");y(s,l)},$$slots:{default:!0}}),y(e,r),X()}const eu=Object.freeze(Object.defineProperty({__proto__:null,default:no},Symbol.toStringTag,{value:"Module"}));var tu=I('<div class="svelte-1tpcci8"><p class="svelte-1tpcci8">Something went wrong. Please reload the page</p> <!></div>');function nu(e){var t=tu(),n=x(k(t),2);St(n,{onClick:()=>location.reload(),children:(r,a)=>{var s=Le("Reload");y(r,s)},$$slots:{default:!0}}),y(e,t)}var ru=I('<div class="svelte-uzefkz"><!></div>');function au(e,t){G(t,!1);const n=Jc();Ln();var r=ru(),a=k(r);Zs(a,{}),se(()=>$n(r,`min-height: ${n??""}px;`)),y(e,r),X()}function Re(e,t){G(t,!0);const n={},r=Object.assign({"./Pages/AccessKeys.svelte":()=>ve(()=>import("./AccessKeys-9NTKIndx.js"),__vite__mapDeps([4,5,6])),"./Pages/Account.svelte":()=>ve(()=>import("./Account-C2Fai5qS.js"),__vite__mapDeps([7,8])),"./Pages/Auth.svelte":()=>ve(()=>Promise.resolve().then(()=>Xc),void 0),"./Pages/ClearStore.svelte":()=>ve(()=>import("./ClearStore-CVdZbGY7.js"),__vite__mapDeps([9,10])),"./Pages/ConfirmAccessKey.svelte":()=>ve(()=>import("./ConfirmAccessKey-BqJWGhJG.js"),__vite__mapDeps([11,5,12,13,14])),"./Pages/EditBookmark.svelte":()=>ve(()=>import("./EditBookmark-DOvKxD6A.js"),__vite__mapDeps([15,16,12,13,17])),"./Pages/Exit.svelte":()=>ve(()=>import("./Exit-DsZXq902.js"),__vite__mapDeps([18,19])),"./Pages/ExportData.svelte":()=>ve(()=>import("./ExportData-Bs6oPc2K.js"),__vite__mapDeps([20,21])),"./Pages/Home.svelte":()=>ve(()=>Promise.resolve().then(()=>Oc),void 0),"./Pages/ImportData.svelte":()=>ve(()=>import("./ImportData-BTNncRkr.js"),__vite__mapDeps([22,23])),"./Pages/NewBookmark.svelte":()=>ve(()=>import("./NewBookmark-uR2nErLu.js"),__vite__mapDeps([24,16,12,13,17])),"./Pages/NotFound.svelte":()=>ve(()=>Promise.resolve().then(()=>eu),void 0),"./Pages/Settings.svelte":()=>ve(()=>Promise.resolve().then(()=>Kc),void 0),"./Pages/Signin.svelte":()=>ve(()=>import("./Signin-tKWAf2hn.js"),__vite__mapDeps([25,5,26])),"./Pages/Signup.svelte":()=>ve(()=>import("./Signup-Cc-wEPR4.js"),__vite__mapDeps([27,5,26])),"./Pages/Start.svelte":()=>ve(()=>Promise.resolve().then(()=>Yc),void 0),"./Pages/Subscription.svelte":()=>ve(()=>import("./Subscription-BnFrvP6L.js"),__vite__mapDeps([28,29])),"./Pages/Sync.svelte":()=>ve(()=>import("./Sync-JyELfluZ.js"),__vite__mapDeps([30,31]))}),a=async l=>{const c=`./Pages/${l[0].toUpperCase()+l.slice(1)}.svelte`;if(!n[l]){if(r[c]){const u=r[c]();return n[l]={promise:u},n[l].module=await u,n[l].module}throw new Error(`Page ${l} not found`)}return n[l].module||await n[l].promise};var s=V(),i=M(s);Xr(i,()=>a(t.page),l=>{au(l,{})},(l,c)=>{const u=D(()=>o(c).default);var d=V(),v=M(d);Zr(v,()=>o(u),(h,p)=>{p(h,{get params(){return t.params},get hidden(){return t.hidden}})}),y(l,d)},l=>{nu(l)}),y(e,s),X()}const Oa=(e,t=yt,n=yt,r)=>{let a=sr(()=>Ao(r?.(),!1));var s=V(),i=M(s);{var l=u=>{be(u,{children:(d,v)=>{Qs(d,{})},$$slots:{default:!0}})},c=u=>{var d=V(),v=M(d);{var h=f=>{be(f,{children:(g,_)=>{Re(g,{get hidden(){return o(a)},get page(){return N.NewBookmark}})},$$slots:{default:!0}})},p=f=>{var g=V(),_=M(g);{var w=m=>{be(m,{children:(S,C)=>{Re(S,{get params(){return n()},get hidden(){return o(a)},get page(){return N.EditBookmark}})},$$slots:{default:!0}})},b=m=>{var S=V(),C=M(S);{var E=R=>{be(R,{children:(ne,$)=>{Re(ne,{get hidden(){return o(a)},get page(){return N.ImportData}})},$$slots:{default:!0}})},A=R=>{var ne=V(),$=M(ne);{var oe=z=>{be(z,{children:(Z,ie)=>{Re(Z,{get hidden(){return o(a)},get page(){return N.ExportData}})},$$slots:{default:!0}})},K=z=>{var Z=V(),ie=M(Z);{var j=O=>{be(O,{children:(J,Pe)=>{Re(J,{get hidden(){return o(a)},get page(){return N.ClearStore}})},$$slots:{default:!0}})},q=O=>{var J=V(),Pe=M(J);{var Fe=ge=>{be(ge,{children:(le,Me)=>{$s(le,{})},$$slots:{default:!0}})},me=ge=>{var le=V(),Me=M(le);{var Ie=fe=>{be(fe,{children:(Y,ye)=>{eo(Y,{})},$$slots:{default:!0}})},Pt=fe=>{var Y=V(),ye=M(Y);{var Te=ct=>{be(ct,{children:(ut,ia)=>{Re(ut,{get hidden(){return o(a)},get page(){return N.Signup}})},$$slots:{default:!0}})},Kt=ct=>{var ut=V(),ia=M(ut);{var ro=Wt=>{be(Wt,{children:(In,la)=>{Re(In,{get hidden(){return o(a)},get page(){return N.Signin}})},$$slots:{default:!0}})},ao=Wt=>{var In=V(),la=M(In);{var so=Yt=>{be(Yt,{children:(Rn,ca)=>{Re(Rn,{get hidden(){return o(a)},get page(){return N.AccessKeys}})},$$slots:{default:!0}})},oo=Yt=>{var Rn=V(),ca=M(Rn);{var io=Gt=>{be(Gt,{children:(Bn,ua)=>{Re(Bn,{get hidden(){return o(a)},get page(){return N.Account}})},$$slots:{default:!0}})},lo=Gt=>{var Bn=V(),ua=M(Bn);{var co=Xt=>{be(Xt,{children:(jn,da)=>{Re(jn,{get hidden(){return o(a)},get page(){return N.ConfirmAccessKey}})},$$slots:{default:!0}})},uo=Xt=>{var jn=V(),da=M(jn);{var fo=Zt=>{be(Zt,{children:(Fn,fa)=>{Re(Fn,{get hidden(){return o(a)},get page(){return N.Exit}})},$$slots:{default:!0}})},vo=Zt=>{var Fn=V(),fa=M(Fn);{var ho=Jt=>{be(Jt,{children:(Un,va)=>{Re(Un,{get hidden(){return o(a)},get page(){return N.Sync}})},$$slots:{default:!0}})},po=Jt=>{var Un=V(),va=M(Un);{var go=Qt=>{be(Qt,{children:(fr,mo)=>{Re(fr,{get hidden(){return o(a)},get page(){return N.Subscription}})},$$slots:{default:!0}})},_o=Qt=>{be(Qt,{children:(fr,mo)=>{no(fr,{})},$$slots:{default:!0}})};F(va,Qt=>{t()===N.Subscription?Qt(go):Qt(_o,!1)},!0)}y(Jt,Un)};F(fa,Jt=>{t()===N.Sync?Jt(ho):Jt(po,!1)},!0)}y(Zt,Fn)};F(da,Zt=>{t()===N.Exit?Zt(fo):Zt(vo,!1)},!0)}y(Xt,jn)};F(ua,Xt=>{t()===N.ConfirmAccessKey?Xt(co):Xt(uo,!1)},!0)}y(Gt,Bn)};F(ca,Gt=>{t()===N.Account?Gt(io):Gt(lo,!1)},!0)}y(Yt,Rn)};F(la,Yt=>{t()===N.AccessKeys?Yt(so):Yt(oo,!1)},!0)}y(Wt,In)};F(ia,Wt=>{t()===N.Signin?Wt(ro):Wt(ao,!1)},!0)}y(ct,ut)};F(ye,ct=>{t()===N.Signup?ct(Te):ct(Kt,!1)},!0)}y(fe,Y)};F(Me,fe=>{t()===N.Auth?fe(Ie):fe(Pt,!1)},!0)}y(ge,le)};F(Pe,ge=>{t()===N.Start?ge(Fe):ge(me,!1)},!0)}y(O,J)};F(ie,O=>{t()===N.ClearStore?O(j):O(q,!1)},!0)}y(z,Z)};F($,z=>{t()===N.ExportData?z(oe):z(K,!1)},!0)}y(R,ne)};F(C,R=>{t()===N.ImportData?R(E):R(A,!1)},!0)}y(m,S)};F(_,m=>{t()===N.EditBookmark?m(w):m(b,!1)},!0)}y(f,g)};F(v,f=>{t()===N.NewBookmark?f(h):f(p,!1)},!0)}y(u,d)};F(i,u=>{t()==="settings"?u(l):u(c,!1)})}y(e,s)};var su=I("<!> <!>",1);function ou(e,t){G(t,!0);let n=D(Nl),r=D(dr);var a=su(),s=M(a);{var i=d=>{Js(d)};F(s,d=>{o(r)&&d(i)})}var l=x(s,2);{var c=d=>{var v=V(),h=M(v);nn(h,19,()=>o(n),p=>p.page,(p,f,g)=>{const _=D(()=>o(f).page.split("?")[1]),w=D(()=>o(f).page.split("?")[0]);{let b=D(()=>o(g)!==o(n).length-1&&!!o(n)[o(g)+1]?.shown),m=D(()=>o(g)===0);La(p,{get shown(){return o(f).shown},get hidden(){return o(b)},get isLastDialog(){return o(m)},children:(S,C)=>{{let E=D(()=>o(g)!==o(n).length-1&&!!o(n)[o(g)+1]?.shown);Oa(S,()=>o(w),()=>o(_),()=>o(E))}},$$slots:{default:!0}})}}),y(d,v)},u=d=>{var v=V(),h=M(v);{var p=f=>{const g=D(()=>o(n)[o(n).length-1].page.split("?")[1]),_=D(()=>o(n)[o(n).length-1].page.split("?")[0]);{let w=D(()=>o(n).length===1);La(f,{onBack:()=>Ms(),get shown(){return o(n)[o(n).length-1].shown},hidden:!1,get isLastDialog(){return o(w)},children:(b,m)=>{Oa(b,()=>o(_),()=>o(g))},$$slots:{default:!0}})}};F(h,f=>{o(n).length>0&&f(p)},!0)}y(d,v)};F(l,d=>{On()?d(c):d(u,!1)})}y(e,a),X()}function iu(){const e=navigator.userAgent;return/iPad|iPhone|iPod/.test(e)?!!(/Safari/.test(e)&&!/Chrome/.test(e)&&!/CriOS/.test(e)&&!/FxiOS/.test(e)):!1}function lu(e,t){G(t,!1);const n=iu();we(()=>{br(),document.addEventListener("focusin",br),document.addEventListener("focusout",br),document.addEventListener("touchmove",function(r){Is()&&n&&r.preventDefault()},{passive:!1})}),Ln(),X()}function cu(e,t){G(t,!1);let n=0;we(()=>{document.addEventListener("touchstart",r=>{n=r.touches[0].clientX},{passive:!1}),document.addEventListener("touchmove",r=>{const s=r.touches[0].clientX-n;(n<50&&s>0||n>window.innerWidth-50&&s<0)&&r.preventDefault()},{passive:!1}),document.addEventListener("touchend",()=>{n=0}),document.addEventListener("touchcancel",()=>{n=0})}),Ln(),X()}const uu=(e,t)=>{o(t)&&o(t).scrollTo({top:0,behavior:"smooth"})};var du=I('<div class="wrapperButtonTop svelte-aoeyw9"><button class="buttonTop svelte-aoeyw9"><!> <svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></button></div>'),fu=I('<!> <!> <!> <main><!> <div class="container svelte-aoeyw9"><!></div></main> <!>',1);function vu(e,t){G(t,!0),we(async()=>{await new Promise(S=>setTimeout(S,100)),await Ci(),Ne.working=!0});let n=L(!1),r=0,a=D(()=>Et().length>0),s=D(dr),i=L(null);Ae(()=>{ea.ref=o(i)});const l=()=>{if(o(i)){const S=o(i).scrollTop||0;S===0?P(n,!1):!o(n)&&r>S?P(n,!0):o(n)&&r<S&&P(n,!1),r=S}},c=()=>{l()};Ae(()=>(o(i)?.addEventListener("scroll",c),window.addEventListener("resize",c),()=>{o(i)?.removeEventListener("scroll",c),window.removeEventListener("resize",c)}));var u=fu(),d=M(u);cu(d,{});var v=x(d,2);lu(v,{});var h=x(v,2);Qi(h,{});var p=x(h,2),f=k(p);{var g=S=>{Ll(S,{})};F(f,S=>{o(s)&&S(g)})}var _=x(f,2),w=k(_);ou(w,{}),ot(p,S=>P(i,S),()=>o(i));var b=x(p,2);{var m=S=>{var C=du(),E=k(C);E.__click=[uu,i];var A=k(E);bt(A,{children:(ne,$)=>{var oe=Le("top");y(ne,oe)}});var R=x(A,2);pe(R,()=>({"--size":"22px"})),ue(R.lastChild,{name:"up"}),y(S,C)};F(b,S=>{o(n)&&S(m)})}se(()=>{$n(p,`--swiping-ratio: ${Ne.swipingRatio}; --transition-timing-default: ${Ne.duration}s;`),te(p,1,ee(["main",{isAnimationOn:Ne.working&&!Ne.isSwiping,open:o(a)}]),"svelte-aoeyw9")}),y(e,u),X()}Oe(["click"]);window.addEventListener("unhandledrejection",e=>{alert("Error: "+e.reason.message)});window.isUnsupportedBrowser||Mi(vu,{target:document.getElementById("app")});export{Gn as $,Fs as A,St as B,xu as C,nt as D,_u as E,Au as F,As as G,Gr as H,ue as I,Eu as J,bu as K,Zs as L,Su as M,Ms as N,fl as O,N as P,yu as Q,Cu as R,Ln as S,Lu as T,gu as U,bt as V,ce as W,te as X,ee as Y,Se as Z,mr as _,he as a,$n as a0,Gl as a1,Ys as a2,On as a3,ot as a4,Tu as a5,Pu as a6,dr as a7,Hn as a8,Ki as a9,Da as aa,Nu as ab,T as ac,mu as ad,wu as ae,Du as af,Ne as ag,tt as ah,gl as ai,Jc as aj,Is as ak,Nl as al,ys as am,tl as an,jl as ao,yn as b,P as c,k as d,y as e,I as f,o as g,X as h,F as i,V as j,M as k,Oe as l,x as m,nn as n,we as o,G as p,pe as q,ur as r,L as s,se as t,Ae as u,Le as v,ku as w,D as x,Rt as y,It as z};
