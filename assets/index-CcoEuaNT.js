(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();const Mn=!1;var vn=Array.isArray,Qr=Array.prototype.indexOf,hn=Array.from,$r=Object.defineProperty,tt=Object.getOwnPropertyDescriptor,$n=Object.getOwnPropertyDescriptors,ea=Object.prototype,ta=Array.prototype,gn=Object.getPrototypeOf,An=Object.isExtensible;const er=()=>{};function na(e){return e()}function Lt(e){for(var t=0;t<e.length;t++)e[t]()}const De=2,tr=4,jt=8,pn=16,Ne=32,it=64,Pt=128,Ee=256,xt=512,be=1024,xe=2048,Ze=4096,Be=8192,Ht=16384,ra=32768,Ut=65536,aa=1<<17,oa=1<<19,nr=1<<20,nn=1<<21,Ke=Symbol("$state"),sa=Symbol("legacy props"),ia=Symbol("");function rr(e){return e===this.v}function la(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function mn(e){return!la(e,this.v)}function ca(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function ua(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function da(e){throw new Error("https://svelte.dev/e/effect_orphan")}function fa(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function va(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function ha(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function ga(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function pa(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let lt=!1,ma=!1;function _a(){lt=!0}const _n=1,wn=2,ar=4,wa=8,ya=16,ba=1,ka=2,Sa=4,Ea=8,Ta=16,Ca=1,Da=2,me=Symbol(),La="http://www.w3.org/1999/xhtml";function Pa(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let re=null;function Bn(e){re=e}function X(e,t=!1,n){var r=re={p:re,c:null,d:!1,e:null,m:!1,s:e,x:null,l:null};lt&&!t&&(re.l={s:null,u:null,r1:[],r2:mt(!1)}),yn(()=>{r.d=!0})}function K(e){const t=re;if(t!==null){e!==void 0&&(t.x=e);const i=t.e;if(i!==null){var n=Q,r=Z;t.e=null;try{for(var a=0;a<i.length;a++){var o=i[a];Ve(o.effect),Oe(o.reaction),bn(o.fn)}}finally{Ve(n),Oe(r)}}re=t.p,t.m=!0}return e||{}}function yt(){return!lt||re!==null&&re.l===null}function ie(e){if(typeof e!="object"||e===null||Ke in e)return e;const t=gn(e);if(t!==ea&&t!==ta)return e;var n=new Map,r=vn(e),a=N(0),o=Z,i=l=>{var c=Z;Oe(o);var d=l();return Oe(c),d};return r&&n.set("length",N(e.length)),new Proxy(e,{defineProperty(l,c,d){(!("value"in d)||d.configurable===!1||d.enumerable===!1||d.writable===!1)&&ha();var u=n.get(c);return u===void 0?(u=i(()=>N(d.value)),n.set(c,u)):D(u,i(()=>ie(d.value))),!0},deleteProperty(l,c){var d=n.get(c);if(d===void 0)c in l&&(n.set(c,i(()=>N(me))),Zt(a));else{if(r&&typeof c=="string"){var u=n.get("length"),f=Number(c);Number.isInteger(f)&&f<u.v&&D(u,f)}D(d,me),Zt(a)}return!0},get(l,c,d){var g;if(c===Ke)return e;var u=n.get(c),f=c in l;if(u===void 0&&(!f||(g=tt(l,c))!=null&&g.writable)&&(u=i(()=>N(ie(f?l[c]:me))),n.set(c,u)),u!==void 0){var v=s(u);return v===me?void 0:v}return Reflect.get(l,c,d)},getOwnPropertyDescriptor(l,c){var d=Reflect.getOwnPropertyDescriptor(l,c);if(d&&"value"in d){var u=n.get(c);u&&(d.value=s(u))}else if(d===void 0){var f=n.get(c),v=f==null?void 0:f.v;if(f!==void 0&&v!==me)return{enumerable:!0,configurable:!0,value:v,writable:!0}}return d},has(l,c){var v;if(c===Ke)return!0;var d=n.get(c),u=d!==void 0&&d.v!==me||Reflect.has(l,c);if(d!==void 0||Q!==null&&(!u||(v=tt(l,c))!=null&&v.writable)){d===void 0&&(d=i(()=>N(u?ie(l[c]):me)),n.set(c,d));var f=s(d);if(f===me)return!1}return u},set(l,c,d,u){var _;var f=n.get(c),v=c in l;if(r&&c==="length")for(var g=d;g<f.v;g+=1){var h=n.get(g+"");h!==void 0?D(h,me):g in l&&(h=i(()=>N(me)),n.set(g+"",h))}f===void 0?(!v||(_=tt(l,c))!=null&&_.writable)&&(f=i(()=>N(void 0)),D(f,i(()=>ie(d))),n.set(c,f)):(v=f.v!==me,D(f,i(()=>ie(d))));var p=Reflect.getOwnPropertyDescriptor(l,c);if(p!=null&&p.set&&p.set.call(u,d),!v){if(r&&typeof c=="string"){var w=n.get("length"),y=Number(c);Number.isInteger(y)&&y>=w.v&&D(w,y+1)}Zt(a)}return!0},ownKeys(l){s(a);var c=Reflect.ownKeys(l).filter(f=>{var v=n.get(f);return v===void 0||v.v!==me});for(var[d,u]of n)u.v!==me&&!(d in l)&&c.push(d);return c},setPrototypeOf(){ga()}})}function Zt(e,t=1){D(e,e.v+t)}function nt(e){var t=De|xe,n=Z!==null&&(Z.f&De)!==0?Z:null;return Q===null||n!==null&&(n.f&Ee)!==0?t|=Ee:Q.f|=nr,{ctx:re,deps:null,effects:null,equals:rr,f:t,fn:e,reactions:null,rv:0,v:null,wv:0,parent:n??Q}}function J(e){const t=nt(e);return br(t),t}function or(e){const t=nt(e);return t.equals=mn,t}function sr(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)Ie(t[n])}}function xa(e){for(var t=e.parent;t!==null;){if((t.f&De)===0)return t;t=t.parent}return null}function ir(e){var t,n=Q;Ve(xa(e));try{sr(e),t=Tr(e)}finally{Ve(n)}return t}function lr(e){var t=ir(e),n=(Ue||(e.f&Ee)!==0)&&e.deps!==null?Ze:be;Le(e,n),e.equals(t)||(e.v=t,e.wv=Sr())}const pt=new Map;function mt(e,t){var n={f:0,v:e,reactions:null,equals:rr,rv:0,wv:0};return n}function N(e,t){const n=mt(e);return br(n),n}function cr(e,t=!1){var r;const n=mt(e);return t||(n.equals=mn),lt&&re!==null&&re.l!==null&&((r=re.l).s??(r.s=[])).push(n),n}function D(e,t,n=!1){Z!==null&&!Pe&&yt()&&(Z.f&(De|pn))!==0&&!(ge!=null&&ge.includes(e))&&pa();let r=n?ie(t):t;return rn(e,r)}function rn(e,t){if(!e.equals(t)){var n=e.v;bt?pt.set(e,t):pt.set(e,n),e.v=t,(e.f&De)!==0&&((e.f&xe)!==0&&ir(e),Le(e,(e.f&Ee)===0?be:Ze)),e.wv=Sr(),ur(e,xe),yt()&&Q!==null&&(Q.f&be)!==0&&(Q.f&(Ne|it))===0&&(Te===null?Ha([e]):Te.push(e))}return t}function ur(e,t){var n=e.reactions;if(n!==null)for(var r=yt(),a=n.length,o=0;o<a;o++){var i=n[o],l=i.f;(l&xe)===0&&(!r&&i===Q||(Le(i,t),(l&(be|Ee))!==0&&((l&De)!==0?ur(i,Ze):Xt(i))))}}let Oa=!1;var In,dr,fr,vr;function Ma(){if(In===void 0){In=window,dr=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;fr=tt(t,"firstChild").get,vr=tt(t,"nextSibling").get,An(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),An(n)&&(n.__t=void 0)}}function zt(e=""){return document.createTextNode(e)}function rt(e){return fr.call(e)}function Vt(e){return vr.call(e)}function S(e,t){return rt(e)}function Y(e,t){{var n=rt(e);return n instanceof Comment&&n.data===""?Vt(n):n}}function P(e,t=1,n=!1){let r=e;for(;t--;)r=Vt(r);return r}function Aa(e){e.textContent=""}function hr(e){Q===null&&Z===null&&da(),Z!==null&&(Z.f&Ee)!==0&&Q===null&&ua(),bt&&ca()}function Ba(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function ct(e,t,n,r=!0){var a=Q,o={ctx:re,deps:null,nodes_start:null,nodes_end:null,f:e|xe,first:null,fn:t,last:null,next:null,parent:a,prev:null,teardown:null,transitions:null,wv:0};if(n)try{En(o),o.f|=ra}catch(c){throw Ie(o),c}else t!==null&&Xt(o);var i=n&&o.deps===null&&o.first===null&&o.nodes_start===null&&o.teardown===null&&(o.f&(nr|Pt))===0;if(!i&&r&&(a!==null&&Ba(o,a),Z!==null&&(Z.f&De)!==0)){var l=Z;(l.effects??(l.effects=[])).push(o)}return o}function yn(e){const t=ct(jt,null,!1);return Le(t,be),t.teardown=e,t}function fe(e){hr();var t=Q!==null&&(Q.f&Ne)!==0&&re!==null&&!re.m;if(t){var n=re;(n.e??(n.e=[])).push({fn:e,effect:Q,reaction:Z})}else{var r=bn(e);return r}}function Ia(e){return hr(),Yt(e)}function Ra(e){const t=ct(it,e,!0);return(n={})=>new Promise(r=>{n.outro?Ot(t,()=>{Ie(t),r(void 0)}):(Ie(t),r(void 0))})}function bn(e){return ct(tr,e,!1)}function Yt(e){return ct(jt,e,!0)}function ae(e,t=[],n=nt){const r=t.map(n);return Wt(()=>e(...r.map(s)))}function Wt(e,t=0){return ct(jt|pn|t,e,!0)}function at(e,t=!0){return ct(jt|Ne,e,!0,t)}function gr(e){var t=e.teardown;if(t!==null){const n=bt,r=Z;Nn(!0),Oe(null);try{t.call(null)}finally{Nn(n),Oe(r)}}}function pr(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){var r=n.next;(n.f&it)!==0?n.parent=null:Ie(n,t),n=r}}function Na(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&Ne)===0&&Ie(t),t=n}}function Ie(e,t=!0){var n=!1;(t||(e.f&oa)!==0)&&e.nodes_start!==null&&(Fa(e.nodes_start,e.nodes_end),n=!0),pr(e,t&&!n),Rt(e,0),Le(e,Ht);var r=e.transitions;if(r!==null)for(const o of r)o.stop();gr(e);var a=e.parent;a!==null&&a.first!==null&&mr(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function Fa(e,t){for(;e!==null;){var n=e===t?null:Vt(e);e.remove(),e=n}}function mr(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function Ot(e,t){var n=[];kn(e,n,!0),_r(n,()=>{Ie(e),t&&t()})}function _r(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var a of e)a.out(r)}else t()}function kn(e,t,n){if((e.f&Be)===0){if(e.f^=Be,e.transitions!==null)for(const i of e.transitions)(i.is_global||n)&&t.push(i);for(var r=e.first;r!==null;){var a=r.next,o=(r.f&Ut)!==0||(r.f&Ne)!==0;kn(r,t,o?n:!1),r=a}}}function Mt(e){wr(e,!0)}function wr(e,t){if((e.f&Be)!==0){e.f^=Be,(e.f&be)===0&&(e.f^=be),kt(e)&&(Le(e,xe),Xt(e));for(var n=e.first;n!==null;){var r=n.next,a=(n.f&Ut)!==0||(n.f&Ne)!==0;wr(n,a?t:!1),n=r}if(e.transitions!==null)for(const o of e.transitions)(o.is_global||t)&&o.in()}}let _t=[],an=[];function yr(){var e=_t;_t=[],Lt(e)}function ja(){var e=an;an=[],Lt(e)}function Sn(e){_t.length===0&&queueMicrotask(yr),_t.push(e)}function Rn(){_t.length>0&&yr(),an.length>0&&ja()}let Tt=!1,At=!1,Bt=null,Ge=!1,bt=!1;function Nn(e){bt=e}let ht=[];let Z=null,Pe=!1;function Oe(e){Z=e}let Q=null;function Ve(e){Q=e}let ge=null;function br(e){Z!==null&&Z.f&nn&&(ge===null?ge=[e]:ge.push(e))}let he=null,Se=0,Te=null;function Ha(e){Te=e}let kr=1,It=0,Ue=!1;function Sr(){return++kr}function kt(e){var f;var t=e.f;if((t&xe)!==0)return!0;if((t&Ze)!==0){var n=e.deps,r=(t&Ee)!==0;if(n!==null){var a,o,i=(t&xt)!==0,l=r&&Q!==null&&!Ue,c=n.length;if(i||l){var d=e,u=d.parent;for(a=0;a<c;a++)o=n[a],(i||!((f=o==null?void 0:o.reactions)!=null&&f.includes(d)))&&(o.reactions??(o.reactions=[])).push(d);i&&(d.f^=xt),l&&u!==null&&(u.f&Ee)===0&&(d.f^=Ee)}for(a=0;a<c;a++)if(o=n[a],kt(o)&&lr(o),o.wv>e.wv)return!0}(!r||Q!==null&&!Ue)&&Le(e,be)}return!1}function Ua(e,t){for(var n=t;n!==null;){if((n.f&Pt)!==0)try{n.fn(e);return}catch{n.f^=Pt}n=n.parent}throw Tt=!1,e}function Fn(e){return(e.f&Ht)===0&&(e.parent===null||(e.parent.f&Pt)===0)}function qt(e,t,n,r){if(Tt){if(n===null&&(Tt=!1),Fn(t))throw e;return}if(n!==null&&(Tt=!0),Ua(e,t),Fn(t))throw e}function Er(e,t,n=!0){var r=e.reactions;if(r!==null)for(var a=0;a<r.length;a++){var o=r[a];ge!=null&&ge.includes(e)||((o.f&De)!==0?Er(o,t,!1):t===o&&(n?Le(o,xe):(o.f&be)!==0&&Le(o,Ze),Xt(o)))}}function Tr(e){var g;var t=he,n=Se,r=Te,a=Z,o=Ue,i=ge,l=re,c=Pe,d=e.f;he=null,Se=0,Te=null,Ue=(d&Ee)!==0&&(Pe||!Ge||Z===null),Z=(d&(Ne|it))===0?e:null,ge=null,Bn(e.ctx),Pe=!1,It++,e.f|=nn;try{var u=(0,e.fn)(),f=e.deps;if(he!==null){var v;if(Rt(e,Se),f!==null&&Se>0)for(f.length=Se+he.length,v=0;v<he.length;v++)f[Se+v]=he[v];else e.deps=f=he;if(!Ue)for(v=Se;v<f.length;v++)((g=f[v]).reactions??(g.reactions=[])).push(e)}else f!==null&&Se<f.length&&(Rt(e,Se),f.length=Se);if(yt()&&Te!==null&&!Pe&&f!==null&&(e.f&(De|Ze|xe))===0)for(v=0;v<Te.length;v++)Er(Te[v],e);return a!==null&&a!==e&&(It++,Te!==null&&(r===null?r=Te:r.push(...Te))),u}finally{he=t,Se=n,Te=r,Z=a,Ue=o,ge=i,Bn(l),Pe=c,e.f^=nn}}function za(e,t){let n=t.reactions;if(n!==null){var r=Qr.call(n,e);if(r!==-1){var a=n.length-1;a===0?n=t.reactions=null:(n[r]=n[a],n.pop())}}n===null&&(t.f&De)!==0&&(he===null||!he.includes(t))&&(Le(t,Ze),(t.f&(Ee|xt))===0&&(t.f^=xt),sr(t),Rt(t,0))}function Rt(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)za(e,n[r])}function En(e){var t=e.f;if((t&Ht)===0){Le(e,be);var n=Q,r=re,a=Ge;Q=e,Ge=!0;try{(t&pn)!==0?Na(e):pr(e),gr(e);var o=Tr(e);e.teardown=typeof o=="function"?o:null,e.wv=kr;var i=e.deps,l;Mn&&ma&&e.f&xe}catch(c){qt(c,e,n,r||e.ctx)}finally{Ge=a,Q=n}}}function Va(){try{fa()}catch(e){if(Bt!==null)qt(e,Bt,null);else throw e}}function Cr(){var e=Ge;try{var t=0;for(Ge=!0;ht.length>0;){t++>1e3&&Va();var n=ht,r=n.length;ht=[];for(var a=0;a<r;a++){var o=Wa(n[a]);Ya(o)}pt.clear()}}finally{At=!1,Ge=e,Bt=null}}function Ya(e){var t=e.length;if(t!==0)for(var n=0;n<t;n++){var r=e[n];if((r.f&(Ht|Be))===0)try{kt(r)&&(En(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null?mr(r):r.fn=null))}catch(a){qt(a,r,null,r.ctx)}}}function Xt(e){At||(At=!0,queueMicrotask(Cr));for(var t=Bt=e;t.parent!==null;){t=t.parent;var n=t.f;if((n&(it|Ne))!==0){if((n&be)===0)return;t.f^=be}}ht.push(t)}function Wa(e){for(var t=[],n=e;n!==null;){var r=n.f,a=(r&(Ne|it))!==0,o=a&&(r&be)!==0;if(!o&&(r&Be)===0){if((r&tr)!==0)t.push(n);else if(a)n.f^=be;else try{kt(n)&&En(n)}catch(c){qt(c,n,null,n.ctx)}var i=n.first;if(i!==null){n=i;continue}}var l=n.parent;for(n=n.next;n===null&&l!==null;)n=l.next,l=l.parent}return t}function qa(e){var t;for(Rn();ht.length>0;)At=!0,Cr(),Rn();return t}async function Xa(){await Promise.resolve(),qa()}function s(e){var t=e.f,n=(t&De)!==0;if(Z!==null&&!Pe){if(!(ge!=null&&ge.includes(e))){var r=Z.deps;e.rv<It&&(e.rv=It,he===null&&r!==null&&r[Se]===e?Se++:he===null?he=[e]:(!Ue||!he.includes(e))&&he.push(e))}}else if(n&&e.deps===null&&e.effects===null){var a=e,o=a.parent;o!==null&&(o.f&Ee)===0&&(a.f^=Ee)}return n&&(a=e,kt(a)&&lr(a)),bt&&pt.has(e)?pt.get(e):e.v}function ot(e){var t=Pe;try{return Pe=!0,e()}finally{Pe=t}}const Ka=-7169;function Le(e,t){e.f=e.f&Ka|t}function Ga(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Ke in e)on(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&Ke in n&&on(n)}}}function on(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{on(e[r],t)}catch{}const n=gn(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=$n(n);for(let a in r){const o=r[a].get;if(o)try{o.call(e)}catch{}}}}}const Ja=["touchstart","touchmove"];function Za(e){return Ja.includes(e)}let jn=!1;function Qa(){jn||(jn=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const n of e.target.elements)(t=n.__on_r)==null||t.call(n)})},{capture:!0}))}function Dr(e){var t=Z,n=Q;Oe(null),Ve(null);try{return e()}finally{Oe(t),Ve(n)}}function $a(e,t,n,r=n){e.addEventListener(t,()=>Dr(n));const a=e.__on_r;a?e.__on_r=()=>{a(),r(!0)}:e.__on_r=()=>r(!0),Qa()}const Lr=new Set,sn=new Set;function eo(e,t,n,r={}){function a(o){if(r.capture||ft.call(t,o),!o.cancelBubble)return Dr(()=>n==null?void 0:n.call(this,o))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Sn(()=>{t.addEventListener(e,a,r)}):t.addEventListener(e,a,r),a}function qe(e,t,n,r,a){var o={capture:r,passive:a},i=eo(e,t,n,o);(t===document.body||t===window||t===document)&&yn(()=>{t.removeEventListener(e,i,o)})}function pe(e){for(var t=0;t<e.length;t++)Lr.add(e[t]);for(var n of sn)n(e)}function ft(e){var _;var t=this,n=t.ownerDocument,r=e.type,a=((_=e.composedPath)==null?void 0:_.call(e))||[],o=a[0]||e.target,i=0,l=e.__root;if(l){var c=a.indexOf(l);if(c!==-1&&(t===document||t===window)){e.__root=t;return}var d=a.indexOf(t);if(d===-1)return;c<=d&&(i=c)}if(o=a[i]||e.target,o!==t){$r(e,"currentTarget",{configurable:!0,get(){return o||n}});var u=Z,f=Q;Oe(null),Ve(null);try{for(var v,g=[];o!==null;){var h=o.assignedSlot||o.parentNode||o.host||null;try{var p=o["__"+r];if(p!=null&&(!o.disabled||e.target===o))if(vn(p)){var[w,...y]=p;w.apply(o,[e,...y])}else p.call(o,e)}catch(b){v?g.push(b):v=b}if(e.cancelBubble||h===t||h===null)break;o=h}if(v){for(let b of g)queueMicrotask(()=>{throw b});throw v}}finally{e.__root=t,delete e.currentTarget,Oe(u),Ve(f)}}}function Pr(e){var t=document.createElement("template");return t.innerHTML=e,t.content}function wt(e,t){var n=Q;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function R(e,t){var n=(t&Ca)!==0,r=(t&Da)!==0,a,o=!e.startsWith("<!>");return()=>{a===void 0&&(a=Pr(o?e:"<!>"+e),n||(a=rt(a)));var i=r||dr?document.importNode(a,!0):a.cloneNode(!0);if(n){var l=rt(i),c=i.lastChild;wt(l,c)}else wt(i,i);return i}}function to(e,t,n="svg"){var r=!e.startsWith("<!>"),a=`<${n}>${r?e:"<!>"+e}</${n}>`,o;return()=>{if(!o){var i=Pr(a),l=rt(i);o=rt(l)}var c=o.cloneNode(!0);return wt(c,c),c}}function de(e=""){{var t=zt(e+"");return wt(t,t),t}}function _e(){var e=document.createDocumentFragment(),t=document.createComment(""),n=zt();return e.append(t,n),wt(t,n),e}function C(e,t){e!==null&&e.before(t)}function no(){var e;return(e=window.__svelte??(window.__svelte={})).uid??(e.uid=1),`c${window.__svelte.uid++}`}function Qe(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function ro(e,t){return ao(e,t)}const $e=new Map;function ao(e,{target:t,anchor:n,props:r={},events:a,context:o,intro:i=!0}){Ma();var l=new Set,c=f=>{for(var v=0;v<f.length;v++){var g=f[v];if(!l.has(g)){l.add(g);var h=Za(g);t.addEventListener(g,ft,{passive:h});var p=$e.get(g);p===void 0?(document.addEventListener(g,ft,{passive:h}),$e.set(g,1)):$e.set(g,p+1)}}};c(hn(Lr)),sn.add(c);var d=void 0,u=Ra(()=>{var f=n??t.appendChild(zt());return at(()=>{if(o){X({});var v=re;v.c=o}a&&(r.$$events=a),d=e(f,r)||{},o&&K()}),()=>{var h;for(var v of l){t.removeEventListener(v,ft);var g=$e.get(v);--g===0?(document.removeEventListener(v,ft),$e.delete(v)):$e.set(v,g)}sn.delete(c),f!==n&&((h=f.parentNode)==null||h.removeChild(f))}});return oo.set(d,u),d}let oo=new WeakMap;function H(e,t,[n,r]=[0,0]){var a=e,o=null,i=null,l=me,c=n>0?Ut:0,d=!1;const u=(v,g=!0)=>{d=!0,f(g,v)},f=(v,g)=>{l!==(l=v)&&(l?(o?Mt(o):g&&(o=at(()=>g(a))),i&&Ot(i,()=>{i=null})):(i?Mt(i):g&&(i=at(()=>g(a,[n+1,r]))),o&&Ot(o,()=>{o=null})))};Wt(()=>{d=!1,t(u),d||f(null,null)},c)}function we(e,t){Yt(()=>{var n=t();for(var r in n){var a=n[r];a?e.style.setProperty(r,a):e.style.removeProperty(r)}}),yn(()=>{e.remove()})}function so(e,t){return t}function io(e,t,n,r){for(var a=[],o=t.length,i=0;i<o;i++)kn(t[i].e,a,!0);var l=o>0&&a.length===0&&n!==null;if(l){var c=n.parentNode;Aa(c),c.append(n),r.clear(),je(e,t[0].prev,t[o-1].next)}_r(a,()=>{for(var d=0;d<o;d++){var u=t[d];l||(r.delete(u.k),je(e,u.prev,u.next)),Ie(u.e,!l)}})}function Ae(e,t,n,r,a,o=null){var i=e,l={flags:t,items:new Map,first:null},c=(t&ar)!==0;if(c){var d=e;i=d.appendChild(zt())}var u=null,f=!1,v=or(()=>{var g=n();return vn(g)?g:g==null?[]:hn(g)});Wt(()=>{var g=s(v),h=g.length;f&&h===0||(f=h===0,lo(g,l,i,a,t,r,n),o!==null&&(h===0?u?Mt(u):u=at(()=>o(i)):u!==null&&Ot(u,()=>{u=null})),s(v))})}function lo(e,t,n,r,a,o,i){var T,x,O,A;var l=(a&wa)!==0,c=(a&(_n|wn))!==0,d=e.length,u=t.items,f=t.first,v=f,g,h=null,p,w=[],y=[],_,b,m,k;if(l)for(k=0;k<d;k+=1)_=e[k],b=o(_,k),m=u.get(b),m!==void 0&&((T=m.a)==null||T.measure(),(p??(p=new Set)).add(m));for(k=0;k<d;k+=1){if(_=e[k],b=o(_,k),m=u.get(b),m===void 0){var E=v?v.e.nodes_start:n;h=uo(E,t,h,h===null?t.first:h.next,_,b,k,r,a,i),u.set(b,h),w=[],y=[],v=h.next;continue}if(c&&co(m,_,k,a),(m.e.f&Be)!==0&&(Mt(m.e),l&&((x=m.a)==null||x.unfix(),(p??(p=new Set)).delete(m))),m!==v){if(g!==void 0&&g.has(m)){if(w.length<y.length){var L=y[0],M;h=L.prev;var F=w[0],z=w[w.length-1];for(M=0;M<w.length;M+=1)Hn(w[M],L,n);for(M=0;M<y.length;M+=1)g.delete(y[M]);je(t,F.prev,z.next),je(t,h,F),je(t,z,L),v=L,h=z,k-=1,w=[],y=[]}else g.delete(m),Hn(m,v,n),je(t,m.prev,m.next),je(t,m,h===null?t.first:h.next),je(t,h,m),h=m;continue}for(w=[],y=[];v!==null&&v.k!==b;)(v.e.f&Be)===0&&(g??(g=new Set)).add(v),y.push(v),v=v.next;if(v===null)continue;m=v}w.push(m),h=m,v=m.next}if(v!==null||g!==void 0){for(var j=g===void 0?[]:hn(g);v!==null;)(v.e.f&Be)===0&&j.push(v),v=v.next;var V=j.length;if(V>0){var W=(a&ar)!==0&&d===0?n:null;if(l){for(k=0;k<V;k+=1)(O=j[k].a)==null||O.measure();for(k=0;k<V;k+=1)(A=j[k].a)==null||A.fix()}io(t,j,W,u)}}l&&Sn(()=>{var U;if(p!==void 0)for(m of p)(U=m.a)==null||U.apply()}),Q.first=t.first&&t.first.e,Q.last=h&&h.e}function co(e,t,n,r){(r&_n)!==0&&rn(e.v,t),(r&wn)!==0?rn(e.i,n):e.i=n}function uo(e,t,n,r,a,o,i,l,c,d){var u=(c&_n)!==0,f=(c&ya)===0,v=u?f?cr(a):mt(a):a,g=(c&wn)===0?i:mt(i),h={i:g,v,k:o,a:null,e:null,prev:n,next:r};try{return h.e=at(()=>l(e,v,g,d),Oa),h.e.prev=n&&n.e,h.e.next=r&&r.e,n===null?t.first=h:(n.next=h,n.e.next=h.e),r!==null&&(r.prev=h,r.e.prev=h.e),h}finally{}}function Hn(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,a=t?t.e.nodes_start:n,o=e.e.nodes_start;o!==r;){var i=Vt(o);a.before(o),o=i}}function je(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function Fe(e,t,...n){var r=e,a=er,o;Wt(()=>{a!==(a=t())&&(o&&(Ie(o),o=null),o=at(()=>a(r,...n)))},Ut)}function xr(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=xr(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function fo(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=xr(e))&&(r&&(r+=" "),r+=t);return r}function ne(e){return typeof e=="object"?fo(e):e??""}const Un=[...` 	
\r\f \v\uFEFF`];function vo(e,t,n){var r=e==null?"":""+e;if(t&&(r=r?r+" "+t:t),n){for(var a in n)if(n[a])r=r?r+" "+a:a;else if(r.length)for(var o=a.length,i=0;(i=r.indexOf(a,i))>=0;){var l=i+o;(i===0||Un.includes(r[i-1]))&&(l===r.length||Un.includes(r[l]))?r=(i===0?"":r.substring(0,i))+r.substring(l+1):i=l}}return r===""?null:r}function ho(e,t){return e==null?null:String(e)}function ee(e,t,n,r,a,o){var i=e.__className;if(i!==n||i===void 0){var l=vo(n,r,o);l==null?e.removeAttribute("class"):e.className=l,e.__className=n}else if(o&&a!==o)for(var c in o){var d=!!o[c];(a==null||d!==!!a[c])&&e.classList.toggle(c,d)}return o}function Nt(e,t,n,r){var a=e.__style;if(a!==t){var o=ho(t);o==null?e.removeAttribute("style"):e.style.cssText=o,e.__style=t}return r}const go=Symbol("is custom element"),po=Symbol("is html");function Ct(e,t){var n=Tn(e);n.value===(n.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function Dt(e,t){var n=Tn(e);n.checked!==(n.checked=t??void 0)&&(e.checked=t)}function se(e,t,n,r){var a=Tn(e);a[t]!==(a[t]=n)&&(t==="loading"&&(e[ia]=n),n==null?e.removeAttribute(t):typeof n!="string"&&mo(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function Tn(e){return e.__attributes??(e.__attributes={[go]:e.nodeName.includes("-"),[po]:e.namespaceURI===La})}var zn=new Map;function mo(e){var t=zn.get(e.nodeName);if(t)return t;zn.set(e.nodeName,t=[]);for(var n,r=e,a=Element.prototype;a!==r;){n=$n(r);for(var o in n)n[o].set&&t.push(o);r=gn(r)}return t}function Cn(e,t,n=t){var r=yt();$a(e,"input",a=>{var o=a?e.defaultValue:e.value;if(o=Qt(e)?$t(o):o,n(o),r&&o!==(o=t())){var i=e.selectionStart,l=e.selectionEnd;e.value=o??"",l!==null&&(e.selectionStart=i,e.selectionEnd=Math.min(l,e.value.length))}}),ot(t)==null&&e.value&&n(Qt(e)?$t(e.value):e.value),Yt(()=>{var a=t();Qt(e)&&a===$t(e.value)||e.type==="date"&&!a&&!e.value||a!==e.value&&(e.value=a??"")})}function Qt(e){var t=e.type;return t==="number"||t==="range"}function $t(e){return e===""?null:+e}function Vn(e,t){return e===t||(e==null?void 0:e[Ke])===t}function ye(e={},t,n,r){return bn(()=>{var a,o;return Yt(()=>{a=o,o=[],ot(()=>{e!==n(...o)&&(t(e,...o),a&&Vn(n(...a),e)&&t(null,...a))})}),()=>{Sn(()=>{o&&Vn(n(...o),e)&&t(null,...o)})}}),e}function Kt(e=!1){const t=re,n=t.l.u;if(!n)return;let r=()=>Ga(t.s);if(e){let a=0,o={};const i=nt(()=>{let l=!1;const c=t.s;for(const d in c)c[d]!==o[d]&&(o[d]=c[d],l=!0);return l&&a++,a});r=()=>s(i)}n.b.length&&Ia(()=>{Yn(t,r),Lt(n.b)}),fe(()=>{const a=ot(()=>n.m.map(na));return()=>{for(const o of a)typeof o=="function"&&o()}}),n.a.length&&fe(()=>{Yn(t,r),Lt(n.a)})}function Yn(e,t){if(e.l.s)for(const n of e.l.s)s(n);t()}let St=!1;function _o(e){var t=St;try{return St=!1,[e(),St]}finally{St=t}}function Wn(e){var t;return((t=e.ctx)==null?void 0:t.d)??!1}function q(e,t,n,r){var E;var a=(n&ba)!==0,o=!lt||(n&ka)!==0,i=(n&Ea)!==0,l=(n&Ta)!==0,c=!1,d;i?[d,c]=_o(()=>e[t]):d=e[t];var u=Ke in e||sa in e,f=i&&(((E=tt(e,t))==null?void 0:E.set)??(u&&t in e&&(L=>e[t]=L)))||void 0,v=r,g=!0,h=!1,p=()=>(h=!0,g&&(g=!1,l?v=ot(r):v=r),v);d===void 0&&r!==void 0&&(f&&o&&va(),d=p(),f&&f(d));var w;if(o)w=()=>{var L=e[t];return L===void 0?p():(g=!0,h=!1,L)};else{var y=(a?nt:or)(()=>e[t]);y.f|=aa,w=()=>{var L=s(y);return L!==void 0&&(v=void 0),L===void 0?v:L}}if((n&Sa)===0)return w;if(f){var _=e.$$legacy;return function(L,M){return arguments.length>0?((!o||!M||_||c)&&f(M?w():L),L):w()}}var b=!1,m=cr(d),k=nt(()=>{var L=w(),M=s(m);return b?(b=!1,M):m.v=L});return i&&s(k),a||(k.equals=mn),function(L,M){if(arguments.length>0){const F=M?s(k):o&&i?ie(L):L;if(!k.equals(F)){if(b=!0,D(m,F),h&&v!==void 0&&(v=F),Wn(k))return L;ot(()=>s(k))}return L}return Wn(k)?k.v:s(k)}}function ce(e){re===null&&Pa(),lt&&re.l!==null?wo(re).m.push(e):fe(()=>{const t=ot(e);if(typeof t=="function")return t})}function wo(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const yo="5";var Qn;typeof window<"u"&&((Qn=window.__svelte??(window.__svelte={})).v??(Qn.v=new Set)).add(yo);let We=N(""),et=N(null);function bo(e){D(We,""),setTimeout(()=>{D(We,e,!0)},16)}var ko=R('<div class="notification svelte-1a2zucn"> </div>');function So(e,t){X(t,!0),fe(()=>{var l,c;s(We),s(We)&&((l=s(et))==null||l.getBoundingClientRect(),(c=s(et))==null||c.style.setProperty("opacity","1"));const o=setTimeout(()=>{var d;(d=s(et))==null||d.style.removeProperty("opacity")},800),i=setTimeout(()=>{var d;D(We,""),(d=s(et))==null||d.style.removeProperty("opacity")},1200);return()=>{clearTimeout(o),clearTimeout(i)}});var n=_e(),r=Y(n);{var a=o=>{var i=ko(),l=S(i);ye(i,c=>D(et,c),()=>s(et)),ae(()=>Qe(l,s(We))),C(o,i)};H(r,o=>{s(We)&&o(a)})}C(e,n),K()}_a();var Eo=R('<span class="vh svelte-14jjkpd"><!></span>');function Je(e,t){var n=Eo(),r=S(n);Fe(r,()=>t.children),C(e,n)}var To=to('<svg class="svelte-1lqi79o"><use></use></svg>');function ve(e,t){let n=q(t,"name",8,"");var r=To(),a=S(r);ae(()=>se(a,"href",`#icon-${n()??""}`)),C(e,r)}const Or=(e,t)=>{if(!t)return e;if(t.type==="closed")return{type:"closed"};switch(e.type){case"opened":return t.type==="close"?{type:"closing"}:t.type==="swipe"?{type:"openSwiping"}:e;case"closed":return t.type==="open"?{type:"opening"}:t.type==="swipe"?{type:"closeSwiping"}:e;case"openSwiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"closeSwiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"opening":return t.type==="opened"?{type:"opened"}:e;default:return e}};let ln=N(ie(Or({type:"closed"})));const He=e=>{D(ln,Or(s(ln),e),!0)},Mr=()=>s(ln),Co=()=>{He({type:"open"})},Do=()=>{He({type:"close"})},Lo=()=>{const e=Mr().type;e==="closed"?Co():e==="opened"&&Do()};var Po=R('<button class="buttonMenu svelte-uq0knv"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>');function Ar(e,t){X(t,!1),Kt();var n=Po();n.__click=[Lo];var r=S(n);we(r,()=>({"--size":"28px"})),ve(r.lastChild,{name:"sidebarMenu"});var a=P(r,2);Je(a,{children:(o,i)=>{var l=de("Menu");C(o,l)}}),C(e,n),K()}pe(["click"]);const I=ie({historyStack:[],pathname:window.location.pathname,search:window.location.search,historyLength:0}),Br=()=>{var e;return((e=new URLSearchParams(I.search).get("selectedTags"))==null?void 0:e.split(","))||[]};let Et=Br();const xo=()=>{const e=Br();return e.join(",")===Et.join(",")||(Et=e),Et},Oo=()=>{I.pathname=document.location.pathname,I.search=document.location.search,I.historyLength=Math.max(0,I.historyLength-=1)};window.addEventListener("popstate",Oo);const cn=e=>{const[t,n]=e.split("?");I.pathname=t,I.search=n?`?${n}`:"",I.historyLength+=1,I.historyStack.push(window.location.href),window.history.replaceState(null,"",e)},Mo=e=>{const[t,n]=e.split("?");I.pathname=t,I.search=n?`?${n}`:"",window.history.replaceState(null,"",e)},Ir=(e="/")=>{var r;const[t,n]=e.split("?");if(I.historyLength<=0){const a=window.location.href,[o,i]=a.split("?");if(i.includes("stackPages")){const l=new URLSearchParams(i),d=(((r=l.get("stackPages"))==null?void 0:r.split(","))||[]).slice(0,-1);l.set("stackPages",d.join(","));const u=`${o}?${l.toString()}`;window.history.replaceState(null,"",u),I.search=l.toString()?`?${l.toString()}`:""}else window.history.replaceState(null,"",e),I.historyLength=0,I.pathname=t,I.search=n?`?${n}`:""}else if(I.historyStack.length>0){const a=I.historyStack.pop();if(a){const[o,i]=a.split("?");window.history.replaceState(null,"",a),I.historyLength=Math.max(0,I.historyLength-=1),I.pathname=o,I.search=i?`?${i}`:""}}},Gt=()=>{const e=I.historyStack.findIndex(n=>n.includes("stackPages")),t=e===-1?I.historyStack.slice(0):I.historyStack.slice(0,e);if(t.length>0){const n=t.pop();if(n){const[r,a]=n.split("?");window.history.replaceState(null,"",n),I.historyLength=Math.max(0,t.length),I.pathname=r,I.search=a?`?${a}`:"",I.historyStack=t}}else window.history.replaceState(null,"","/"),I.historyLength=0,I.pathname="/",I.search="",I.historyStack=[]},Re=()=>{var e;return((e=new URLSearchParams(I.search).get("stackPages"))==null?void 0:e.split(","))||[]};let gt=N(ie(Re()));const ut=e=>{const t=Re();t.push(e);const n=new URLSearchParams(I.search);n.set("stackPages",t.join(",")),D(gt,t,!0),cn(`${I.pathname}?${n.toString()}`)},Rr=()=>{const e=Re().slice(0,-1);D(gt,e,!0)},Nr=()=>{const e=Re();return e.length>=s(gt).length?e.reduce((t,n)=>[...t,{page:n,shown:!0}],[]):s(gt).reduce((t,n,r)=>[...t,{page:n,shown:e.length===0?!1:r!==s(gt).length-1}],[])},Ao=e=>{e.preventDefault(),ut("settings")},Bo=e=>{e.preventDefault(),ut("newBookmark")};var Io=R('<a class="addBookmark svelte-1dt9h1e"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Add bookmark</span></a>'),Ro=R('<div class="header svelte-1dt9h1e"><div class="top svelte-1dt9h1e"><div class="desktop svelte-1dt9h1e"><a class="link svelte-1dt9h1e"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Settings</span></a></div> <div class="mobile svelte-1dt9h1e"><!></div> <!></div></div>');function No(e,t){X(t,!0);const n=()=>{const p=Re();p.includes("settings")||p.push("settings");const w=new URLSearchParams(I.search);return w.set("stackPages",p.join(",")),`${I.pathname}?${w}`};let a=J(()=>{const p=Re();p.includes("newBookmark")||p.push("newBookmark");const w=new URLSearchParams(I.search);return w.set("stackPages",p.join(",")),`${I.pathname}?${w}`}),o=J(n);var i=Ro(),l=S(i),c=S(l),d=S(c);d.__click=[Ao];var u=S(d);we(u,()=>({"--size":"20px"})),ve(u.lastChild,{name:"settings"});var f=P(c,2),v=S(f);Ar(v,{});var g=P(f,2);{var h=p=>{var w=Io();w.__click=[Bo];var y=S(w);we(y,()=>({"--size":"24px","--color":"#b0b0b0"})),ve(y.lastChild,{name:"plus"}),ae(()=>se(w,"href",s(a))),C(p,w)};H(g,p=>{I.pathname!=="/settings"&&p(h)})}ae(()=>se(d,"href",s(o))),C(e,i),K()}pe(["click"]);const Fo=(e,t)=>{let n=null;return()=>{n&&clearTimeout(n),n=setTimeout(()=>{e()},t)}},Fr=()=>window.matchMedia("(max-width: 768px)").matches;let jr=N(ie(Fr()));const jo=Fo(()=>{D(jr,Fr(),!0)},16);window.addEventListener("resize",jo);const Jt=()=>s(jr),Dn=ie({count:0}),Ho=()=>Dn.count>0,Uo=()=>{Dn.count+=1},zo=()=>{Dn.count-=1},ue=ie({working:!1,swipingRatio:1,isSwiping:!1,duration:.35});let un=!1;const en=()=>{document.activeElement instanceof HTMLInputElement||document.activeElement instanceof HTMLTextAreaElement?un=!0:un=!1},Ln=()=>un;function Vo(e,t){X(t,!0);let n=q(t,"dialog",7),r=null;const a=()=>{t.dialogState==="swiping"&&t.onClose()};fe(()=>(t.dialogState==="swiping"&&(r=setTimeout(a,3e3)),()=>{r&&(clearTimeout(r),r=null)}));let o=null,i=null;const l=3,c=50,d=5,u=.6,f=.3,v=.35,g=.95;let h=0,p=0,w=0,y=!1,_=!1,b=0,m=0,k=0;const E=()=>{h=0,p=0,y=!1,_=!1,b=0,m=0,k=0,w=0,o=null,i!==null&&(cancelAnimationFrame(i),i=null),r&&(clearTimeout(r),r=null)},L=O=>{if(!n()){console.warn("Touch start: No dialog element");return}if(t.dialogState!=="opened"){console.warn(`Touch start: Invalid sidebar state: ${t.dialogState}`);return}h=O.touches[0].clientX,p=O.touches[0].clientY,w=performance.now(),y=!0,_=!1},M=O=>t.dialogState==="opened"&&O>0||t.dialogState==="swiping"&&O>0,F=O=>{if(n()){n().style.setProperty("--transition-timing","0s"),t.onSwipe(),navigator.vibrate&&navigator.vibrate(10);try{const A=window.getComputedStyle(n()),U=A.transform||A.webkitTransform||"";if(m=n().offsetWidth,(t.dialogState==="swiping"||t.dialogState==="opened")&&(b=0),U&&U!=="none")try{b=new DOMMatrix(U).m41}catch{console.warn("Could not parse transform matrix, using default position")}_=!0}catch(A){console.error("Error during swipe initialization:",A),E()}}},z=()=>{if(!n())return;const A=Math.abs(b+k*m/100)/m;n().style.setProperty("--backdrop-bg",`rgba(0, 0, 0, ${.1*(1-A)})`)},j=()=>{if(i=null,!o||!y||!n()||Ln()){E();return}const O=o.touches[0].clientX,A=o.touches[0].clientY,U=O-h,G=A-p,B=Math.abs(U)>Math.abs(G),$=Math.abs(U)>l;if(!_)if(B&&$&&M(U))try{F(U)}catch(xn){console.error("Error initializing swipe:",xn),E();return}else return;if(!M(U))return;n().style.setProperty("--transition-timing","0s");let te=b+U*g;te=Math.max(0,Math.min(m,te)),n().style.transform=`translate3d(${te}px, 0, 0)`,ue.swipingRatio=Math.abs(1-te/m),k=(te-b)/m*100,t.dialogState==="swiping"&&(r&&clearTimeout(r),r=setTimeout(a,3e3)),z()},V=O=>{if(!y)return;o=O,i===null&&(i=requestAnimationFrame(j));const A=O.touches[0].clientX-h,U=O.touches[0].clientY-p,G=Math.abs(A)>Math.abs(U);_&&G&&O.preventDefault()},W=O=>{const A=Math.abs(O);if(A>=u)return d;if(A>=f){const U=(A-f)/(u-f);return c-U*(c-d)}else return c},T=(O,A)=>{if(Math.abs(O)>=u)return v*.5;const G=Math.abs(k)/100;return A?v*Math.max(.5,1-G):v*Math.max(.5,G)},x=O=>{var te,ke;if(i!==null&&(cancelAnimationFrame(i),i=null),!y||!n()){E();return}if(!_){E();return}let A=0;if((te=O==null?void 0:O.changedTouches)!=null&&te[0]){const Me=O.changedTouches[0].clientX,On=performance.now()-w;On>0&&(A=(Me-h)/On)}const U=W(A);let G=null;t.dialogState==="swiping"&&(G=Math.abs(k)>U||A<-.3?"close":"open");const B=t.dialogState==="swiping"&&G==="close",$=T(A,B);ue.duration=$-.02,n().style.setProperty("--transition-timing",`${$}s`),n().offsetWidth,n().style.transform="",G==="open"?t.onOpen():G==="close"&&t.onClose(),(ke=n())==null||ke.style.removeProperty("--backdrop-bg"),E()};ce(()=>(n().addEventListener("touchstart",L,{passive:!0}),n().addEventListener("touchmove",V,{passive:!1}),n().addEventListener("touchend",x,{passive:!0}),n().addEventListener("touchcancel",x,{passive:!0}),()=>{n().removeEventListener("touchstart",L),n().removeEventListener("touchmove",V),n().removeEventListener("touchend",x),n().removeEventListener("touchcancel",x),i!==null&&cancelAnimationFrame(i)})),K()}var Yo=(e,t)=>{t.onStartClose()},Wo=R('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),qo=R('<dialog><div class="dialogInner svelte-1kz0rp4"><span tabindex="1"></span> <!> <div class="header svelte-1kz0rp4"><div><!></div></div></div></dialog> <!>',1);function Xo(e,t){X(t,!0);let n=350,r=N(null),a=N(null);const o=y=>{y.preventDefault(),t.onStartClose()};ce(()=>{var y,_;return(y=s(r))==null||y.addEventListener("close",t.onClosed),(_=s(r))==null||_.addEventListener("cancel",o),()=>{var b,m;(b=s(r))==null||b.removeEventListener("close",t.onClosed),(m=s(r))==null||m.removeEventListener("cancel",o)}});const i=()=>{var y,_,b;(y=s(r))==null||y.style.removeProperty("--transition-timing"),(_=s(r))==null||_.style.removeProperty("transform"),(b=s(r))==null||b.style.removeProperty("--backdrop-bg")};fe(()=>{var y,_;if(t.dialogState,!!s(r))switch(t.dialogState){case"opening":{s(r).open||s(r).showModal(),s(r).getBoundingClientRect();const b=setTimeout(()=>{i()},n+1),m=()=>{clearTimeout(b),i()};return(y=s(r))==null||y.addEventListener("transitionend",m,{once:!0}),t.onOpened(),()=>{var k;(k=s(r))==null||k.removeEventListener("transitionend",m)}}case"closing":{const b=setTimeout(()=>{t.dialogState==="closing"&&t.onClosed()},n+1),m=()=>{clearTimeout(b),t.onClosed()};return(_=s(r))==null||_.addEventListener("transitionend",m,{once:!0}),()=>{var k;(k=s(r))==null||k.removeEventListener("transitionend",m)}}case"opened":i()}});var l=qo(),c=Y(l),d=S(c),u=P(S(d),2);Fe(u,()=>t.children);var f=P(u,2),v=S(f),g=S(v);{var h=y=>{var _=Wo();ee(_,1,ne(["navigateButton","buttonBack"]),"svelte-1kz0rp4"),_.__click=[Yo,t];var b=S(_);we(b,()=>({"--size":"20px"})),ve(b.lastChild,{name:"back"});var m=P(b,2);Je(m,{children:(k,E)=>{var L=de("back");C(k,L)}}),C(y,_)};H(g,y=>{t.blocked||t.hidden||y(h)})}ye(d,y=>D(a,y),()=>s(a)),ye(c,y=>D(r,y),()=>s(r));var p=P(c,2);{var w=y=>{Vo(y,{get onClose(){return t.onStartClose},get onOpen(){return t.onStartOpen},get onSwipe(){return t.onSwipe},get dialogState(){return t.dialogState},get dialog(){return s(r)}})};H(p,y=>{(t.dialogState==="opened"||t.dialogState==="swiping")&&!t.blocked&&y(w)})}ae(()=>ee(c,1,ne([{open:t.dialogState==="opened",hidden:t.hidden,isAnimationOn:ue.working&&(!ue.isSwiping||!t.hidden)},{hidden:t.hidden}]),"svelte-1kz0rp4")),C(e,l),K()}pe(["click"]);const qn=(e,t)=>{if(!t)return e;if(t.type==="closed")return{type:"closed"};switch(e.type){case"opened":return t.type==="close"?{type:"closing"}:t.type==="swipe"?{type:"swiping"}:e;case"closed":return t.type==="open"?{type:"opening"}:e;case"swiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"opening":return t.type==="opened"?{type:"opened"}:e;default:return e}};function Ko(e,t){X(t,!0);let n=q(t,"blocked",3,!1),r=q(t,"hiddenDialog",3,!1),a=q(t,"onStartClose",3,()=>{}),o=q(t,"onClose",3,()=>{}),i=N(ie(qn({type:"closed"})));const l=w=>{D(i,qn(s(i),w),!0)},c=()=>{n()||(a()(),l({type:"close"}))},d=()=>{n()||l({type:"open"})},u=()=>{l({type:"opened"}),ue.duration=.2},f=()=>{o()(),l({type:"closed"}),ue.swipingRatio=1,ue.duration=.2},v=()=>{l({type:"swipe"})};fe(()=>{s(i).type==="swiping"?ue.isSwiping=!0:ue.isSwiping=!1,s(i).type==="closed"&&t.shownDialog?d():s(i).type==="opened"&&!t.shownDialog&&c()});var g=_e(),h=Y(g);{var p=w=>{Xo(w,{onSwipe:v,onOpened:u,onClosed:f,onStartClose:c,onStartOpen:d,get dialogState(){return s(i).type},get hidden(){return r()},get blocked(){return n()},children:(y,_)=>{var b=_e(),m=Y(b);Fe(m,()=>t.children),C(y,b)},$$slots:{default:!0}})};H(h,w=>{s(i).type!=="closed"&&w(p)})}return C(e,g),K({handleComputeState:l})}const Go=({getDialog:e,onOpen:t,onStartClose:n,onClose:r})=>{const a=i=>{i.preventDefault(),n()},o=()=>{r==null||r()};ce(()=>{const i=e();return i==null||i.addEventListener("cancel",a),i==null||i.addEventListener("close",o),()=>{i==null||i.removeEventListener("cancel",a),i==null||i.removeEventListener("close",o)}}),ce(()=>{const i=e();i==null||i.showModal(),i==null||i.getBoundingClientRect(),t()})};function Hr(e,t){X(t,!0),ce(()=>{const n=r=>{var a;r.target&&((a=t.dialog)!=null&&a.open)&&t.dialogInner&&t.dialogInner!==r.target&&!t.dialogInner.contains(r.target)&&t.onClose()};return document.addEventListener("mousedown",n,{capture:!0}),()=>{document.removeEventListener("mousedown",n,{capture:!0})}}),K()}var Jo=(e,t)=>{t.onStartBack()},Zo=R('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),Qo=(e,t)=>{t.onStartClose()},$o=R('<div><!></div> <div><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button></div>',1),es=R('<dialog><div class="dialogInner svelte-hiwf00"><!> <div class="header svelte-hiwf00"><!></div></div></dialog> <!>',1);function ts(e,t){X(t,!0);let n=q(t,"blockedDialog",3,!1),r=q(t,"hiddenDialog",3,!1),a=q(t,"isDesktopAnimationOff",3,!1),o=N(null),i=N(null);Go({getDialog:()=>s(o),onOpen:t.onOpen,onStartClose:t.onStartClose,onClose:t.onClose}),fe(()=>{var p,w;t.stateDialog==="closing"&&(ue.working?(p=s(o))==null||p.addEventListener("transitionend",()=>{var y;(y=s(o))==null||y.close()},{once:!0}):(w=s(o))==null||w.close())});var l=es(),c=Y(l),d=S(c),u=S(d);Fe(u,()=>t.children);var f=P(u,2),v=S(f);{var g=p=>{var w=$o(),y=Y(w),_=S(y);{var b=M=>{var F=Zo();ee(F,1,ne(["navigateButton","buttonBack"]),"svelte-hiwf00"),F.__click=[Jo,t];var z=S(F);we(z,()=>({"--size":"20px"})),ve(z.lastChild,{name:"back"});var j=P(z,2);Je(j,{children:(V,W)=>{var T=de("back");C(V,T)}}),C(M,F)};H(_,M=>{t.onStartBack&&M(b)})}var m=P(y,2),k=S(m);ee(k,1,ne(["navigateButton","buttonClose"]),"svelte-hiwf00"),k.__click=[Qo,t];var E=S(k);we(E,()=>({"--size":"20px"})),ve(E.lastChild,{name:"close"});var L=P(E,2);Je(L,{children:(M,F)=>{var z=de("close");C(M,z)}}),C(p,w)};H(v,p=>{n()||r()||p(g)})}ye(d,p=>D(i,p),()=>s(i)),ye(c,p=>D(o,p),()=>s(o));var h=P(c,2);Hr(h,{get dialog(){return s(o)},get dialogInner(){return s(i)},get onClose(){return t.onStartClose}}),ae(()=>ee(c,1,ne([{open:t.stateDialog==="open",isAnimationOn:ue.working,isDesktopAnimationOff:a(),hiddenDialog:r()}]),"svelte-hiwf00")),C(e,l),K()}pe(["click"]);const ns=({onStartClose:e,onClose:t})=>{let n=N("close");return{get state(){return s(n)},set state(i){D(n,i,!0)},handleStartClose:(i=!1)=>{i||(D(n,"closing"),e==null||e())},handleOpen:()=>{D(n,"open")},handleClose:()=>{D(n,"close"),t==null||t()}}};function rs(e,t){X(t,!0);let n=q(t,"blockedDialog",3,!1),r=q(t,"hiddenDialog",3,!1),a=q(t,"onStartClose",3,()=>{}),o=q(t,"onClose",3,()=>{}),i=ns({onStartClose:a(),onClose:o()});fe(()=>{i.state==="close"&&t.shownDialog?i.state="opening":i.state==="open"&&!t.shownDialog&&i.handleStartClose(n())});var l=_e(),c=Y(l);{var d=u=>{ts(u,{get stateDialog(){return i.state},get blockedDialog(){return n()},get hiddenDialog(){return r()},get onOpen(){return i.handleOpen},get onStartBack(){return t.onStartBack},onStartClose:()=>{i.handleStartClose(n())},get onClose(){return i.handleClose},children:(f,v)=>{var g=_e(),h=Y(g);Fe(h,()=>t.children),C(f,g)},$$slots:{default:!0}})};H(c,u=>{i.state!=="close"&&u(d)})}C(e,l),K()}function Ur(e,t){X(t,!0);let n=q(t,"blockedDialog",3,!1),r=q(t,"hiddenDialog",3,!1),a=q(t,"isLastDialog",3,!1),o=q(t,"onStartClose",3,()=>{}),i=q(t,"onClose",3,()=>{});const l=J(()=>a()?void 0:t.onStartBack);ce(()=>(Uo(),()=>{zo()}));var c=_e(),d=Y(c);{var u=v=>{Ko(v,{get shownDialog(){return t.shownDialog},get blocked(){return n()},get hiddenDialog(){return r()},get children(){return t.children},get onStartClose(){return t.onStartBack},get onClose(){return i()}})},f=v=>{rs(v,{get shownDialog(){return t.shownDialog},get blockedDialog(){return n()},get hiddenDialog(){return r()},get children(){return t.children},get onStartBack(){return s(l)},get onStartClose(){return o()},get onClose(){return i()}})};H(d,v=>{Jt()?v(u):v(f,!1)})}C(e,c),K()}let zr=N(!1);const st=e=>{D(zr,e,!0)},Xn=()=>s(zr);function Kn(e,t){X(t,!0);let n=q(t,"blocked",3,!1),r=q(t,"isLastDialog",3,!1),a=q(t,"onBack",3,()=>{});const o=J(()=>n()||t.hidden||Xn()),i=()=>{!s(o)&&t.shown&&(Ir(),a()())},l=()=>{!s(o)&&t.shown&&Gt()},c=()=>{Rr()},d=J(()=>n()||t.hidden||Xn());Ur(e,{get shownDialog(){return t.shown},get blockedDialog(){return s(d)},get hiddenDialog(){return t.hidden},get isLastDialog(){return r()},onStartBack:i,onStartClose:l,onClose:c,children:(u,f)=>{var v=_e(),g=Y(v);Fe(g,()=>t.children),C(u,v)},$$slots:{default:!0}}),K()}const Vr=()=>crypto.randomUUID(),as="bookmarksStore",os=1,Ce="bookmarks";let le;window.addEventListener("unhandledrejection",e=>{alert("Error: "+e.reason.message)});const ss=()=>new Promise((e,t)=>{const n=indexedDB.open(as,os);n.addEventListener("upgradeneeded",()=>{const r=n.result;r.objectStoreNames.contains(Ce)||r.createObjectStore(Ce,{keyPath:"id"})}),n.addEventListener("success",()=>{e(),le=n.result,le.onversionchange=function(){le==null||le.close(),alert("app outdated, please reload the page")}}),n.addEventListener("blocked",()=>{t(),alert("app outdated, please reload the page")}),n.addEventListener("error",()=>{t(),console.error("Error",n.error)})}),Yr=()=>new Promise((e,t)=>{const n=le==null?void 0:le.transaction(Ce,"readonly"),r=n==null?void 0:n.objectStore(Ce).getAll();r==null||r.addEventListener("success",()=>{const a=r.result;e(a)}),r==null||r.addEventListener("error",()=>{t()})}),Wr=async e=>new Promise((t,n)=>{const r=le==null?void 0:le.transaction(Ce,"readwrite"),a=r==null?void 0:r.objectStore(Ce),o=a==null?void 0:a.put({...e});o==null||o.addEventListener("success",()=>{t()}),o==null||o.addEventListener("error",()=>{n()})}),is=async e=>new Promise((t,n)=>{const r=le==null?void 0:le.transaction(Ce,"readwrite"),a=r==null?void 0:r.objectStore(Ce),o=a==null?void 0:a.delete(e);o==null||o.addEventListener("success",()=>{t()}),o==null||o.addEventListener("error",()=>{n()})}),ls=()=>new Promise((e,t)=>{const n=le==null?void 0:le.transaction(Ce,"readwrite"),r=n==null?void 0:n.objectStore(Ce),a=r==null?void 0:r.clear();a==null||a.addEventListener("success",()=>{e()}),a==null||a.addEventListener("error",()=>{t()})}),cs=async()=>{await ls()},us=async e=>{const t=(await Yr()).reduce((o,i)=>(o[i.id]=i,o),{}),n={},r=le==null?void 0:le.transaction(Ce,"readwrite"),a=r==null?void 0:r.objectStore(Ce);e.forEach(o=>{t[o.id]?t[o.id].lastUpdatedTimestamp<o.lastUpdatedTimestamp&&(n[o.id]=o):n[o.id]=o}),await Promise.all(Object.values(n).map(o=>{const i=a==null?void 0:a.put(o);return new Promise((l,c)=>{i==null||i.addEventListener("success",()=>{l()}),i==null||i.addEventListener("error",()=>{c()})})}))};let oe=N({inited:!1,bookmarks:[],mapBookmarks:new Map});const qr=async()=>{const e=await Yr(),t=new Map,n=[];e.forEach(r=>{n[r.order]=r,t.set(r.id,r)}),D(oe,{...s(oe),bookmarks:n,mapBookmarks:t,inited:!0})};ss().then(async()=>{await qr()}).catch(()=>{console.error("failed to init db")});const Ft=()=>s(oe).inited,Xr=()=>s(oe).bookmarks,ds=()=>s(oe).mapBookmarks,fs=async e=>{var n;const t={id:Vr(),order:(((n=s(oe).bookmarks.at(-1))==null?void 0:n.order)||s(oe).bookmarks.length)+1,createdTimestamp:Date.now(),...e,lastUpdatedTimestamp:Date.now()};s(oe).bookmarks.push(t),s(oe).mapBookmarks.set(t.id,t),D(oe,{...s(oe)}),await Wr(t)},vs=async e=>{const t={...e,lastUpdatedTimestamp:Date.now()};s(oe).bookmarks[t.order]=t,s(oe).mapBookmarks.set(t.id,t),D(oe,{...s(oe)}),await Wr(t)},hs=async e=>{const t=s(oe).mapBookmarks.get(e);s(oe).mapBookmarks.delete(e),s(oe).bookmarks[(t==null?void 0:t.order)||0]=void 0,D(oe,{...s(oe)}),await is(e)},gs=async()=>{D(oe,{inited:!0,bookmarks:[],mapBookmarks:new Map}),await cs()},ps=async(e="bookmarks-export.json")=>{const t=JSON.stringify({bookmarks:s(oe).bookmarks}),n=new Blob([t],{type:"application/json"}),r=URL.createObjectURL(n),a=document.createElement("a");a.href=r,a.download=e,document.body.appendChild(a),a.click(),setTimeout(()=>{document.body.removeChild(a),URL.revokeObjectURL(r)},0)},Gn=async e=>{await us(e),await qr()};let Kr=N({});const Gr=()=>s(Kr),ms=e=>{D(Kr,e)};var _s=R('<input class="svelte-uertz">');function dn(e,t){X(t,!0);let n=q(t,"value",15,"");var r=_s();ae(()=>se(r,"placeholder",t.placeholder)),Cn(r,n),C(e,r),K()}function ws(e,t){X(t,!0);let n=q(t,"dialog",7);const r=3,a=50,o=5,i=.6,l=.3,c=.35,d=.95;let u=0,f=0,v=0,g=!1,h=!1,p=0,w=0,y=0;const _=()=>{u=0,f=0,g=!1,h=!1,p=0,w=0,y=0,v=0,b!==null&&(cancelAnimationFrame(b),b=null),m=null};let b=null,m=null;const k=T=>{if(!n()){console.warn("Touch start: No dialog element");return}if(t.sidebarState!=="opened"&&t.sidebarState!=="closed"){console.warn(`Touch start: Invalid sidebar state: ${t.sidebarState}`);return}u=T.touches[0].clientX,f=T.touches[0].clientY,v=performance.now(),g=!0,h=!1},E=T=>t.sidebarState==="closed"&&T>0||t.sidebarState==="closeSwiping"&&T>0||t.sidebarState==="opened"&&T<0||t.sidebarState==="openSwiping"&&T<0,L=T=>{if(n()){if(n().style.setProperty("--transition-timing","0s"),!n().open&&t.sidebarState==="closed")try{n().showModal(),n().offsetWidth}catch(x){console.error("Error opening dialog:",x);return}t.onSwipe();try{const x=window.getComputedStyle(n()),O=x.transform||x.webkitTransform||"";if(w=n().offsetWidth,t.sidebarState==="closeSwiping"||t.sidebarState==="closed"?p=-w:(t.sidebarState==="openSwiping"||t.sidebarState==="opened")&&(p=0),O&&O!=="none")try{p=new DOMMatrix(O).m41}catch{console.warn("Could not parse transform matrix, using default position")}h=!0}catch(x){console.error("Error during swipe initialization:",x),_()}}},M=()=>{if(!n())return;const x=Math.abs(p+y*w/100)/w;n().style.setProperty("--backdrop-bg",`rgba(0, 0, 0, ${.25*(1-x)})`)},F=()=>{if(b=null,!m||!g||!n()||Ln())return;const{x:T,y:x}=m;m=null;const O=T-u,A=x-f,U=Math.abs(O)>Math.abs(A),G=Math.abs(O)>r;if(!h)if(U&&G&&E(O))try{L(O)}catch(ke){console.error("Error initializing swipe:",ke),_();return}else return;if(!E(O))return;n().style.setProperty("--transition-timing","0s");let B=p+O*d;const $=-w;B=Math.max($,Math.min(0,B)),n().style.transform=`translate3d(${B}px, 0, 0)`,y=(B-p)/w*100,M()},z=T=>{if(!g)return;const x=T.touches[0].clientX,O=T.touches[0].clientY;m={x,y:O},b===null&&(b=requestAnimationFrame(F)),h&&Math.abs(x-u)>Math.abs(O-f)&&T.preventDefault()},j=T=>{const x=Math.abs(T);if(x>=i)return o;if(x>=l){const O=(x-l)/(i-l);return a-O*(a-o)}else return a},V=(T,x)=>{if(Math.abs(T)>=i)return c*.5;const A=Math.abs(y)/100;return x?c*Math.max(.5,1-A):c*Math.max(.5,A)},W=T=>{var B,$;if(b!==null&&(cancelAnimationFrame(b),b=null),m=null,!g||!n()){_();return}if(!h){_();return}let x=0;if((B=T==null?void 0:T.changedTouches)!=null&&B[0]){const te=T.changedTouches[0].clientX,Me=performance.now()-v;Me>0&&(x=(te-u)/Me)}const O=j(x);let A=null;t.sidebarState==="closeSwiping"?A=Math.abs(y)>O||x>l?"open":"close":t.sidebarState==="openSwiping"&&(A=Math.abs(y)>O||x<-.3?"close":"open");const U=t.sidebarState==="closeSwiping"&&A==="open"||t.sidebarState==="openSwiping"&&A==="close",G=V(x,U);n().style.setProperty("--transition-timing",`${G}s`),n().offsetWidth,n().style.transform="",A==="open"?t.onOpen():A==="close"&&t.onClose(),($=n())==null||$.style.removeProperty("--backdrop-bg"),_()};ce(()=>(document.addEventListener("touchstart",k,{passive:!0}),document.addEventListener("touchmove",z,{passive:!1}),document.addEventListener("touchend",W,{passive:!0}),document.addEventListener("touchcancel",W,{passive:!0}),()=>{document.removeEventListener("touchstart",k),document.removeEventListener("touchmove",z),document.removeEventListener("touchend",W),document.removeEventListener("touchcancel",W),b!==null&&cancelAnimationFrame(b)})),K()}var ys=R('<dialog><div class="dialogInner svelte-1in1s0g"><!></div></dialog> <!> <!>',1);function bs(e,t){X(t,!0);let n=350,r=N(null),a=N(null),o=J(Mr);fe(()=>{Nr().length>0&&He({type:"close"})});const i=()=>{t.blocked||He({type:"close"})},l=()=>{t.blocked||He({type:"open"})},c=()=>{He({type:"opened"})},d=()=>{He({type:"closed"})},u=()=>{He({type:"swipe"})},f=E=>{E.preventDefault(),i()};ce(()=>{var E,L;return(E=s(r))==null||E.addEventListener("close",d),(L=s(r))==null||L.addEventListener("cancel",f),()=>{var M,F;(M=s(r))==null||M.removeEventListener("close",d),(F=s(r))==null||F.removeEventListener("cancel",f)}});const v=()=>{var E,L,M;(E=s(r))==null||E.style.removeProperty("--transition-timing"),(L=s(r))==null||L.style.removeProperty("transform"),(M=s(r))==null||M.style.removeProperty("--backdrop-bg")};fe(()=>{var E,L,M;if(s(o),!!s(r))switch(s(o).type){case"closeSwiping":{const F=setTimeout(()=>{i()},3e3);return()=>{clearTimeout(F)}}case"openSwiping":{const F=setTimeout(()=>{l()},3e3);return()=>{clearTimeout(F)}}case"opening":{s(r).open||s(r).showModal(),s(r).getBoundingClientRect();const F=setTimeout(()=>{v()},n+1),z=()=>{clearTimeout(F),v()};return(E=s(r))==null||E.addEventListener("transitionend",z,{once:!0}),c(),()=>{var j;(j=s(r))==null||j.removeEventListener("transitionend",z)}}case"closing":{const F=setTimeout(()=>{s(o).type==="closing"&&d()},n+1),z=()=>{clearTimeout(F),d()};return(L=s(r))==null||L.addEventListener("transitionend",z,{once:!0}),()=>{var j;(j=s(r))==null||j.removeEventListener("transitionend",z)}}case"closed":(M=s(r))==null||M.close(),v();break;case"opened":v();break}});var g=ys(),h=Y(g),p=S(h),w=S(p);{var y=E=>{var L=_e(),M=Y(L);Fe(M,()=>t.children),C(E,L)};H(w,E=>{s(o).type!=="closed"&&E(y)})}ye(p,E=>D(a,E),()=>s(a)),ye(h,E=>D(r,E),()=>s(r));var _=P(h,2);{var b=E=>{Hr(E,{get dialog(){return s(r)},get dialogInner(){return s(a)},onClose:i})};H(_,E=>{s(o).type==="opened"&&!t.blocked&&E(b)})}var m=P(_,2);{var k=E=>{ws(E,{onClose:i,onOpen:l,onSwipe:u,get sidebarState(){return s(o).type},get dialog(){return s(r)}})};H(m,E=>{(s(o).type==="closed"||s(o).type==="opened"||s(o).type==="openSwiping"||s(o).type==="closeSwiping")&&!t.blocked&&E(k)})}ae(()=>ee(h,1,ne([{open:s(o).type==="opened",hidden:t.blocked,isAnimationOn:ue.working&&(!ue.isSwiping||!t.blocked)}]),"svelte-1in1s0g")),C(e,g),K()}var ks=R("<button> </button>");function Xe(e,t){var n=ks();n.__click=function(...a){var o;(o=t.onClick)==null||o.apply(this,a)};var r=S(n);ae(()=>{se(n,"type",t.type),ee(n,1,ne([{selectedTag:t.style==="selected"}]),"svelte-hsbyyy"),Qe(r,t.title)}),C(e,n)}pe(["click"]);const Ss=e=>{e.preventDefault(),ut("settings")};var Es=R("<div></div>"),Ts=R('<div class="sidebarFixed svelte-1sa3pij"><div class="nav svelte-1sa3pij"><!> <a class="link svelte-1sa3pij"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Settings</span></a></div> <div class="searchWrapper svelte-1sa3pij"><!></div> <!></div> <div class="tags svelte-1sa3pij"></div>',1),Cs=R("<div></div>"),Ds=R('<div class="sidebar svelte-1sa3pij"><div class="sidebarFixed svelte-1sa3pij"><div class="searchWrapper svelte-1sa3pij"><!></div> <!></div> <div class="tags svelte-1sa3pij"></div></div>');function Ls(e,t){X(t,!0);let n=N(""),r=J(()=>{var h;return((h=new URLSearchParams(I.search).get("selectedTags"))==null?void 0:h.split(","))||[]});const a=()=>{const h=Re();h.includes("settings")||h.push("settings");const p=new URLSearchParams(I.search);return p.set("stackPages",h.join(",")),`${I.pathname}?${p}`},o=h=>{const p=new URLSearchParams(I.search);p.set("selectedTags",[...s(r),h].join(",")),cn(`${I.pathname}${p.size>0?`?${p.toString()}`:""}`),D(n,"")},i=h=>{const p=new URLSearchParams(I.search),w=s(r).filter(y=>y!==h);w.length===0?p.delete("selectedTags"):p.set("selectedTags",w.join(",")),cn(`${I.pathname}${p.size>0?`?${p.toString()}`:""}`)};let l=J(()=>Ft()?Object.values(Gr()).filter(h=>!s(r).some(p=>h.name===p)):[]),c=J(a),d=J(()=>Re().length>0||Ho());var u=_e(),f=Y(u);{var v=h=>{bs(h,{get blocked(){return s(d)},children:(p,w)=>{var y=Ts(),_=Y(y),b=S(_),m=S(b);Ar(m,{});var k=P(m,2);k.__click=[Ss];var E=S(k);we(E,()=>({"--size":"20px"})),ve(E.lastChild,{name:"settings"});var L=P(b,2),M=S(L);dn(M,{placeholder:"Search tag",get value(){return s(n)},set value(V){D(n,V,!0)}});var F=P(L,2);{var z=V=>{var W=Es();ee(W,1,ne(["tags","selectedTags"]),"svelte-1sa3pij"),Ae(W,20,()=>s(r),T=>T,(T,x)=>{Xe(T,{get title(){return x},onClick:()=>i(x),style:"selected"})}),C(V,W)};H(F,V=>{s(r).length>0&&V(z)})}var j=P(_,2);Ae(j,21,()=>s(l),V=>V.name,(V,W)=>{var T=_e(),x=Y(T);{var O=A=>{Xe(A,{get title(){return s(W).name},onClick:()=>o(s(W).name)})};H(x,A=>{(s(n)===""||s(W).name.toLowerCase().indexOf(s(n).toLowerCase())!==-1)&&A(O)})}C(V,T)}),ae(()=>se(k,"href",s(c))),C(p,y)},$$slots:{default:!0}})},g=h=>{var p=Ds(),w=S(p),y=S(w),_=S(y);dn(_,{placeholder:"Search tag",get value(){return s(n)},set value(E){D(n,E,!0)}});var b=P(y,2);{var m=E=>{var L=Cs();ee(L,1,ne(["tags","selectedTags"]),"svelte-1sa3pij"),Ae(L,20,()=>s(r),M=>M,(M,F)=>{Xe(M,{get title(){return F},onClick:()=>i(F),style:"selected"})}),C(E,L)};H(b,E=>{s(r).length>0&&E(m)})}var k=P(w,2);Ae(k,21,()=>s(l),E=>E.name,(E,L)=>{var M=_e(),F=Y(M);{var z=j=>{Xe(j,{get title(){return s(L).name},onClick:()=>o(s(L).name)})};H(F,j=>{(s(n)===""||s(L).name.toLowerCase().indexOf(s(n).toLowerCase())!==-1)&&j(z)})}C(E,M)}),C(h,p)};H(f,h=>{Jt()?h(v):h(g,!1)})}C(e,u),K()}pe(["click"]);var Ps=R('<div class="input-container svelte-hz572l"><input> <div class="error-message svelte-hz572l"><!></div></div>');function tn(e,t){X(t,!0);let n=q(t,"value",15,""),r=q(t,"error",3,"");var a=Ps(),o=S(a);o.__input=function(...u){var f;(f=t.onInput)==null||f.apply(this,u)};let i;var l=P(o,2),c=S(l);{var d=u=>{var f=de();ae(()=>Qe(f,r())),C(u,f)};H(c,u=>{r()&&u(d)})}ae(u=>{se(o,"placeholder",t.placeholder),i=ee(o,1,"svelte-hz572l",null,i,u)},[()=>({error:!!r()})]),qe("blur",o,function(...u){var f;(f=t.onBlur)==null||f.apply(this,u)}),qe("focus",o,function(...u){var f;(f=t.onFocus)==null||f.apply(this,u)}),Cn(o,n),C(e,a),K()}pe(["input"]);var xs=R("<div></div>"),Os=R('<form class="svelte-wqwsb3"><!> <!> <textarea placeholder="notes" class="svelte-wqwsb3"></textarea> <div class="boxtags"><div class="sidebarFixed"><!></div> <div class="tags svelte-wqwsb3"><!> <!></div> <div class="searchWrapper svelte-wqwsb3"><!></div></div> <button class="buttonSubmit svelte-wqwsb3" type="submit"> </button></form>');function Jr(e,t){X(t,!0);let n=q(t,"initialTitle",3,""),r=q(t,"initialUrl",3,""),a=q(t,"initialDescription",3,""),o=q(t,"initialTags",19,()=>[]),i=q(t,"mode",3,"add"),l=N(""),c=N(ie(n())),d=N(ie(r())),u=N(ie(a())),f=N(ie(o().filter(B=>B!=="inbox")));const v=B=>{s(f).includes(B)||D(f,[...s(f),B],!0)},g=B=>{const $=s(f).filter(te=>te!==B);$.length===0?D(f,[],!0):D(f,$,!0)};let h=J(()=>Ft()?[...Xr().reduce((B,$)=>($==null||$.tags.forEach(te=>{B.has(te)||B.add(te)}),B),new Set)]:[]),p=J(()=>Ft()?s(h).filter(B=>!s(f).some($=>B===$)&&B!=="inbox"):[]),w=J(()=>s(p).find(B=>B.toLowerCase()===s(l).toLowerCase())||s(f).includes(s(l))),y=J(()=>s(p).filter(B=>s(l)===""?!0:B.toLowerCase().indexOf(s(l).toLowerCase())!==-1).slice(0,s(w)||s(l)===""?3:2));const _=B=>{B.preventDefault(),t.onSubmit({title:s(c).trim().slice(0,256)||"unkwown",url:s(d).trim().slice(0,2048),description:s(u).trim().slice(0,2048),tags:s(f).length>0?s(f):["inbox"]})};var b=Os(),m=S(b);tn(m,{placeholder:"url",get value(){return s(d)},set value(B){D(d,B,!0)}});var k=P(m,2);tn(k,{placeholder:"title",get value(){return s(c)},set value(B){D(c,B,!0)}});var E=P(k,2),L=P(E,2),M=S(L),F=S(M);{var z=B=>{var $=xs();ee($,1,ne(["tags","selectedTags"]),"svelte-wqwsb3"),Ae($,20,()=>s(f),te=>te,(te,ke)=>{Xe(te,{get title(){return ke},onClick:()=>g(ke),type:"button",style:"selected"})}),C(B,$)};H(F,B=>{s(f).length>0&&B(z)})}var j=P(M,2),V=S(j);{var W=B=>{var $=_e(),te=Y($);Ae(te,16,()=>s(y),ke=>ke,(ke,Me)=>{Xe(ke,{get title(){return Me},onClick:()=>v(Me)})}),C(B,$)};H(V,B=>{s(l)!==""&&B(W)})}var T=P(V,2);{var x=B=>{Xe(B,{get title(){return s(l)},onClick:()=>{v(s(l)),D(l,"")}})};H(T,B=>{!s(w)&&s(l)!==""&&B(x)})}var O=P(j,2),A=S(O);tn(A,{placeholder:"search tag",get value(){return s(l)},set value(B){D(l,B,!0)}});var U=P(L,2),G=S(U);ae(()=>Qe(G,i()==="add"?"add":"edit")),qe("submit",b,_),Cn(E,()=>s(u),B=>D(u,B)),C(e,b),K()}function Ms(e,t){X(t,!0);let n=N(!0);const r=()=>{t.onClose()},a=()=>{D(n,!1)},o=({title:i,url:l,description:c,tags:d})=>{vs({...t.bookmark,title:i,url:l,description:c,tags:d.map(u=>u.trim())}),a()};Ur(e,{get shownDialog(){return s(n)},onClose:r,children:(i,l)=>{Jr(i,{get initialTitle(){return t.bookmark.title},get initialUrl(){return t.bookmark.url},get initialDescription(){return t.bookmark.description},get initialTags(){return t.bookmark.tags},onSubmit:o,mode:"edit"})},$$slots:{default:!0}}),K()}const As=(e,t,n)=>{const r=Gr();t.bookmark.tags.forEach(a=>{if(s(n).includes(a)&&r[a].connections===1){const o=new URLSearchParams(I.search),i=s(n).filter(l=>l!==a);i.length===0?o.delete("selectedTags"):o.set("selectedTags",i.join(",")),Mo(`${I.pathname}${o.size>0?`?${o.toString()}`:""}`)}}),hs(t.bookmark.id)},Bs=(e,t,n)=>{t(!1),D(n,!0)};var Is=R('<div><button class="menuButton svelte-j5rwpt">Edit</button> <button class="menuButton svelte-j5rwpt">Delete</button></div> <!>',1);function Rs(e,t){X(t,!0);let n=q(t,"menu",15),r=q(t,"shownMenu",15),a=N(!1),o=J(()=>{var h;return((h=new URLSearchParams(I.search).get("selectedTags"))==null?void 0:h.split(","))||[]});const i=h=>{var p;h.target!==n()&&!((p=n())!=null&&p.contains(h.target))&&r(!1)};ce(()=>(document.addEventListener("focusin",i),()=>{document.removeEventListener("focusin",i)})),fe(()=>{r()&&n()?(n().style.setProperty("display","flex"),n().getBoundingClientRect(),n().style.setProperty("opacity","1"),n().style.setProperty("transform","scale(1)")):n()&&(n().style.removeProperty("opacity"),n().style.removeProperty("transform"),n().getBoundingClientRect(),n().addEventListener("transitionend",()=>{!r()&&n()&&n().style.removeProperty("display")},{once:!0}))});const l=()=>{D(a,!1)};var c=Is(),d=Y(c),u=S(d);u.__click=[Bs,r,a];var f=P(u,2);f.__click=[As,t,o],ye(d,h=>n(h),()=>n());var v=P(d,2);{var g=h=>{Ms(h,{get bookmark(){return t.bookmark},onClose:l})};H(v,h=>{s(a)&&h(g)})}ae(()=>ee(d,1,ne(["bookmarkMenu",{showMenuUp:t.showMenuUp}]),"svelte-j5rwpt")),C(e,c),K()}pe(["click"]);const Ns=(e,t)=>{D(t,!s(t))},Fs=(e,t)=>{navigator.clipboard.writeText(t.bookmark.url),bo("Link copied to clipboard")},js=(e,t)=>{D(t,!0)},Hs=(e,t)=>{D(t,!1)};var Us=R('<li class="bookmark svelte-1pew0sp"><img class="bookmarkIcon" height="16" width="16" alt="icon"> <a class="bookmarkLink svelte-1pew0sp" target="_blank" rel="noopener noreferrer"> </a> <div><button class="button svelte-1pew0sp"><!> <!></button> <button><!> <!></button> <!></div></li>');function zs(e,t){X(t,!0);let n=N(!1),r=N(!1),a=N(null),o=null;const i=m=>{var k;m.target!==o&&m.target!==s(a)&&!((k=s(a))!=null&&k.contains(m.target))&&D(r,!1)};ce(()=>(document.addEventListener("click",i),()=>{document.removeEventListener("click",i)}));const l=m=>{try{return`https://external-content.duckduckgo.com/ip3/${new URL(m).host}.ico`}catch{return""}};var c=Us();c.__focusin=[js,n],c.__focusout=[Hs,n];var d=S(c),u=P(d,2),f=S(u),v=P(u,2),g=S(v);g.__click=[Fs,t];var h=S(g);ve(h,{name:"copy"});var p=P(h,2);Je(p,{children:(m,k)=>{var E=de("copy link");C(m,E)}});var w=P(g,2);w.__click=[Ns,r],ee(w,1,ne(["button","buttonMenu"]),"svelte-1pew0sp");var y=S(w);ve(y,{name:"menu"});var _=P(y,2);Je(_,{children:(m,k)=>{var E=de("show menu");C(m,E)}}),ye(w,m=>D(a,m),()=>s(a));var b=P(w,2);Rs(b,{get menu(){return o},get bookmark(){return t.bookmark},get shownMenu(){return s(r)},get showMenuUp(){return t.showMenuUp}}),ae(m=>{se(d,"src",m),se(u,"tabindex",t.focusHidden?-1:0),se(u,"href",t.bookmark.url),Qe(f,t.bookmark.title),ee(v,1,ne(["bookmarkMenuWrapper",{bookmarkMenuWrapperActive:s(n)}]),"svelte-1pew0sp"),se(g,"tabindex",t.focusHidden?-1:0),se(w,"tabindex",t.focusHidden?-1:0)},[()=>l(t.bookmark.url)]),C(e,c),K()}pe(["focusin","focusout","click"]);const vt=ie({ref:null}),Vs=(e,t)=>{s(t)&&s(t).scrollTo({top:0})};var Ys=R('<div class="emptyMessage svelte-at2nfl">No bookmarks found</div>'),Ws=R('<button class="buttonTop svelte-at2nfl"><!> <svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></button>'),qs=R('<div class="searchWrapper svelte-at2nfl"><!></div> <div class="feed svelte-at2nfl"><ul class="svelte-at2nfl"><!> <!></ul></div> <!>',1);function Xs(e,t){X(t,!0);let n=50,r=N(0),a=N(0),o=N(ie([])),i=N(""),l=J(()=>vt.ref),c=null,d=null,u=N(!1),f=0;const v=J(xo);fe(()=>{var T;s(i),s(v),(T=s(l))==null||T.scrollTo(0,0)});const g=()=>{if(s(l)){const T=s(l).scrollTop||0;D(u,T>s(r)&&f>T,!0),f=T}},h=()=>{g(),c||(c=requestAnimationFrame(()=>{var x;const T=((x=s(l))==null?void 0:x.scrollTop)||0;D(a,Math.floor(T/n)*n),c=null}))},p=()=>{g(),d||(d=requestAnimationFrame(()=>{var x;D(r,window.innerHeight-154);const T=((x=s(l))==null?void 0:x.scrollTop)||0;D(a,Math.floor(T/n)*n),d=null}))};ce(()=>{p(),h()}),fe(()=>{var T;return(T=s(l))==null||T.addEventListener("scroll",h),window.addEventListener("resize",p),()=>{var x;(x=s(l))==null||x.removeEventListener("scroll",h),window.removeEventListener("resize",p)}}),fe(()=>{const T=Xr(),x=[],O={};for(let A=T.length-1;A>=0;A--){const U=T[A];if(U&&!(s(v).length&&s(v).some(G=>!U.tags.includes(G)))&&!(s(i)&&!(U.title.toLowerCase().includes(s(i).toLowerCase())||U.url.toLowerCase().includes(s(i).toLowerCase())||U.description.toLowerCase().includes(s(i).toLowerCase())))){if(U.tags)for(const G of U.tags)O[G]?O[G].connections++:O[G]={name:G,connections:1};x.push(U)}}ms(O),D(o,x,!0)});const w=J(()=>s(o).length*n+20);let _=J(()=>{const T=Math.ceil(s(r)/n),x=Math.floor(s(a)/n);return s(o).slice(x-Math.min(x,T),x+T*3)});const b=J(()=>s(a)-Math.min(s(a),s(r)));var m=qs(),k=Y(m),E=S(k);dn(E,{placeholder:"Search",get value(){return s(i)},set value(T){D(i,T,!0)}});var L=P(k,2),M=S(L),F=S(M);Ae(F,19,()=>s(_),T=>T.id,(T,x,O)=>{const A=J(()=>s(O)*n<Math.min(s(a),s(r))||s(O)*n>Math.min(s(a),s(r))+s(r)),U=J(()=>(s(O)+3)*n<Math.min(s(a),s(r))||(s(O)+3)*n>Math.min(s(a),s(r))+s(r));zs(T,{get focusHidden(){return s(A)},get showMenuUp(){return s(U)},get bookmark(){return s(x)}})});var z=P(F,2);{var j=T=>{var x=Ys();C(T,x)};H(z,T=>{s(_).length===0&&Ft()&&T(j)})}var V=P(L,2);{var W=T=>{var x=Ws();x.__click=[Vs,l];var O=S(x);Je(O,{children:(U,G)=>{var B=de("top");C(U,B)}});var A=P(O,2);we(A,()=>({"--size":"20px"})),ve(A.lastChild,{name:"up"}),C(T,x)};H(V,T=>{s(u)&&T(W)})}ae(T=>{Nt(L,`height: ${T??""}px`),Nt(M,`transform: translateY(${s(b)??""}px)`)},[()=>Math.max(s(w)>s(r)?s(w)+24:s(w),30)]),C(e,m),K()}pe(["click"]);var Ks=R('<!> <div class="content svelte-cu0ar8"><!></div>',1);function Gs(e){var t=Ks(),n=Y(t);Ls(n,{});var r=P(n,2),a=S(r);Xs(a,{}),C(e,t)}var Ye=(e=>(e.Light="light",e.System="system",e.Dark="dark",e))(Ye||{});let Zr=N(ie(localStorage.getItem("colorScheme")||"system"));const Js=e=>{localStorage.setItem("colorScheme",e),e==="system"?window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.dataset.colorScheme="dark":document.documentElement.dataset.colorScheme="light":document.documentElement.dataset.colorScheme=e,D(Zr,e,!0)},Zs=()=>s(Zr);var Qs=R('<div class="wrapper svelte-f3jwyy"><fieldset class="switcher svelte-f3jwyy"><legend class="vh svelte-f3jwyy">Color Scheme</legend> <input id="light" type="radio" aria-label="Light"> <label for="light" title="Light" aria-label="Light"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <input id="system" type="radio" aria-label="System"> <label for="system" title="System" aria-label="System"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <input id="dark" type="radio" aria-label="Dark"> <label for="dark" title="Dark" aria-label="Dark"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <div class="wrapSwitcherStatus svelte-f3jwyy"><div class="switcherStatus svelte-f3jwyy"></div></div></fieldset></div>');function $s(e,t){X(t,!0);const n=J(Zs),r=w=>{const y=w.target.value;Js(y)},a="color-scheme-switcher";var o=Qs(),i=S(o),l=P(S(i),2);ee(l,1,ne(["vh","input"]),"svelte-f3jwyy"),se(l,"name",a),l.__change=r;var c=P(l,2);ee(c,1,ne(["switcherButton","light"]),"svelte-f3jwyy");var d=S(c);we(d,()=>({"--size":"20px"})),ve(d.lastChild,{name:"sun"});var u=P(c,2);ee(u,1,ne(["vh","input"]),"svelte-f3jwyy"),se(u,"name",a),u.__change=r;var f=P(u,2);ee(f,1,ne(["switcherButton","system"]),"svelte-f3jwyy");var v=S(f);we(v,()=>({"--size":"14px"})),ve(v.lastChild,{name:"a"});var g=P(f,2);ee(g,1,ne(["vh","input"]),"svelte-f3jwyy"),se(g,"name",a),g.__change=r;var h=P(g,2);ee(h,1,ne(["switcherButton","dark"]),"svelte-f3jwyy");var p=S(h);return we(p,()=>({"--size":"20px"})),ve(p.lastChild,{name:"moon"}),ae(()=>{Ct(l,Ye.Light),Dt(l,s(n)===Ye.Light),Ct(u,Ye.System),Dt(u,s(n)===Ye.System),Ct(g,Ye.Dark),Dt(g,s(n)===Ye.Dark)}),C(e,o),K({handleChange:r})}pe(["change"]);const ei=()=>{ut("importBookmarks")},ti=()=>{ut("exportBookmarks")},ni=()=>{ut("clearStore")};var ri=R('<div class="version svelte-1cryup1"><span> </span></div>'),ai=R('<div class="svelte-1cryup1"><!> <ul class="svelte-1cryup1"><li class="svelte-1cryup1"><button class="button svelte-1cryup1"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1cryup1">import bookmarks</span></button></li> <li class="svelte-1cryup1"><button class="button svelte-1cryup1"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1cryup1">export bookmarks</span></button></li> <li class="svelte-1cryup1"><button class="button svelte-1cryup1"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1cryup1">clear store</span></button></li></ul> <!></div>');function oi(e,t){X(t,!0);let n=N("");ce(()=>{const y=new AbortController;return fetch("/build-metadata.json",{signal:y.signal}).then(_=>_.json()).then(_=>{D(n,`${_.buildHash}`)}),()=>{y.abort()}});var r=ai(),a=S(r);$s(a,{});var o=P(a,2),i=S(o),l=S(i);l.__click=[ei];var c=S(l);we(c,()=>({"--size":"20px"})),ve(c.lastChild,{name:"import"});var d=P(i,2),u=S(d);u.__click=[ti];var f=S(u);we(f,()=>({"--size":"20px"})),ve(f.lastChild,{name:"export"});var v=P(d,2),g=S(v);g.__click=[ni];var h=S(g);we(h,()=>({"--size":"20px"})),ve(h.lastChild,{name:"trash"});var p=P(o,2);{var w=y=>{var _=ri(),b=S(_),m=S(b);ae(k=>Qe(m,`version: 0.0.1 build_date: "${k??""}" build_hash:
				${s(n)??""}`),[()=>new Date(1746250218458).toISOString().replaceAll("T"," ").replace(/\..*/,"")]),C(y,_)};H(p,y=>{s(n)&&y(w)})}C(e,r),K()}pe(["click"]);function si(e,t){X(t,!1);const n=()=>{Ir()},r=({title:a,url:o,description:i,tags:l})=>{fs({title:a,url:o,description:i,tags:l.map(c=>c.trim())}),n()};Kt(),Jr(e,{onSubmit:r}),K()}var ii=R('<button type="button"><!></button>');function ze(e,t){let n=q(t,"type",3,"standard");var r=ii();r.__click=function(...o){var i;(i=t.onClick)==null||i.apply(this,o)};var a=S(r);Fe(a,()=>t.children),ae(()=>ee(r,1,ne(["button",{dangerous:n()==="dangerous"}]),"svelte-1vemsn")),C(e,r)}pe(["click"]);var li=R('<div class="loader svelte-1ygr46m"></div>');function Pn(e){var t=li();C(e,t)}const fn=(e,t,n,r=new Set,a={})=>{var o,i;for(const l of e.children)if(l.tagName==="DT"){const c=l.querySelector(":scope > A"),d=l.querySelector(":scope > H3");if(c){const u=c.getAttribute("href"),f=c.textContent||"unknown";if(!u)return n;const v=t.find(g=>g.toLowerCase()==="bookmarks bar")?t.filter(g=>g.toLowerCase()!=="bookmarks bar"):["other"];if(a[u])a[u].tags=[...new Set([...a[u].tags,...v])];else{const g={id:Vr(),order:n.length,url:u,title:f,description:"",tags:v.length>0?v:[],lastUpdatedTimestamp:Date.now(),createdTimestamp:Date.now()};a[g.url]=g,n.push(g)}}else if(d){const u=(o=d.textContent)==null?void 0:o.trim();if(u&&((i=d.nextElementSibling)==null?void 0:i.tagName)==="DL"){const f=[...t];f.push(u);const v=d.nextElementSibling;r.has(v)||(r.add(v),fn(v,f,n,r,a))}}}else l.tagName!=="DL"&&l.children.length>0&&(r.has(l)||(r.add(l),fn(l,[...t],n,r,a)));return n},ci=async e=>{const t=await e.text(),a=new DOMParser().parseFromString(t,"text/html").querySelector("DL");return a?fn(a,[],[]):[]},ui=e=>{const t=Math.floor(Date.now()/1e3),n={};e.forEach(a=>{const o=a.tags||["Imported"];if(o.length===0){n.ROOT||(n.ROOT=[]),n.ROOT.push(a);return}o.forEach(i=>{n[i]||(n[i]=[]),n[i].push(a)})});let r=`<!DOCTYPE NETSCAPE-Bookmark-file-1>
<!-- This is an automatically generated file.
 It will be read and overwritten.
 DO NOT EDIT! -->
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8">
<TITLE>Bookmarks</TITLE>
<H1>Bookmarks</H1>
<DL><p>
<DT><H3 ADD_DATE="${t}" LAST_MODIFIED="${t}" PERSONAL_TOOLBAR_FOLDER="true">Bookmarks Bar</H3>
<DL><p>`;return Object.keys(n).forEach(a=>{a!=="ROOT"&&a!=="other"&&(r+=`
	<DT><H3 ADD_DATE="${t}" LAST_MODIFIED="${t}">${a}</H3>
	<DL><p>`,n[a].forEach(o=>{const i=o.title.replace(/"/g,"&quot;");r+=`
		<DT><A HREF="${o.url}" ADD_DATE="${Math.floor(o.createdTimestamp/1e3)||t}">${i}</A>`}),r+=`
	</DL><p>`)}),n.ROOT&&n.ROOT.forEach(a=>{const o=a.title.replace(/"/g,"&quot;");r+=`
	<DT><A HREF="${a.url}" ADD_DATE="${Math.floor(a.createdTimestamp/1e3)||t}">${o}</A>`}),r+=`
</DL><p>`,n.other&&n.other.forEach(a=>{const o=a.title.replace(/"/g,"&quot;");r+=`
	<DT><A HREF="${a.url}" ADD_DATE="${Math.floor(a.createdTimestamp/1e3)||t}">${o}</A>`}),r+="</DL><p>",r},Jn=async(e,t)=>{const n=e.target;!n.files||n.files.length===0||await t(n.files[0])};var di=R('<div class="mobileContainer svelte-1n1lt8i"><!></div> <input type="file" accept=".json, .html" style="display: none;">',1),fi=R('<div class="desktopContainer svelte-1n1lt8i"><div class="desktopButtonContainer svelte-1n1lt8i"><!></div> <div role="button" tabindex="-1"><div tabindex="-1" class="dropzone-content svelte-1n1lt8i"><p class="svelte-1n1lt8i">Drag and drop your file here</p> <p class="svelte-1n1lt8i">or</p></div> <input type="file" accept=".json, .html" style="display: none;"></div></div>'),vi=R('<p class="message svelte-1n1lt8i">Select a file to import your bookmarks</p> <!>',1),hi=R('<p class="message svelte-1n1lt8i">Importing bookmarks...</p> <!>',1),gi=R('<p class="message success svelte-1n1lt8i">Bookmarks imported successfully!</p> <div class="buttonContainer svelte-1n1lt8i"><!></div>',1),pi=R('<p class="message error svelte-1n1lt8i">Something went wrong</p> <div class="buttonContainer svelte-1n1lt8i"><!></div>',1),mi=R('<div class="content svelte-1n1lt8i"><!></div>');function _i(e,t){X(t,!0);let n=N("idle"),r=N(null),a=N(!1),o=N(null);const i=()=>{Gt()};fe(()=>{st(s(n)==="loading")}),ce(()=>(s(r)&&s(r).addEventListener("cancel",_=>{_.preventDefault(),_.stopImmediatePropagation(),_.stopPropagation()}),()=>{st(!1)}));const l=async _=>{const b=await _.text(),m=JSON.parse(b),k=[];if(!m.bookmarks)throw new Error("Invalid import file format");for(const E of Object.values(m.bookmarks))E&&k.push(E);await Gn(k)},c=async _=>{D(n,"loading");try{if(_.name.endsWith(".json"))await l(_);else if(_.name.endsWith(".html"))await Gn(await ci(_));else throw new Error("Unsupported file format. Please upload a JSON or HTML file.");await new Promise(b=>{setTimeout(()=>{b(!0)},1e3)}),D(n,"success")}catch{D(n,"error")}},d=()=>{var _;(_=s(r))==null||_.click()},u=_=>{_.preventDefault(),_.stopPropagation(),D(a,!0)},f=_=>{_.preventDefault(),_.stopPropagation(),D(a,!1)},v=_=>{_.preventDefault(),_.stopPropagation(),D(a,!0)},g=async _=>{var m;if(_.preventDefault(),_.stopPropagation(),D(a,!1),!((m=_.dataTransfer)!=null&&m.files)||_.dataTransfer.files.length===0)return;const b=_.dataTransfer.files[0];if(b.type!=="application/json"&&b.type!=="text/html"){D(n,"error");return}await c(b)};var h=mi(),p=S(h);{var w=_=>{var b=vi(),m=P(Y(b),2);{var k=L=>{var M=di(),F=Y(M),z=S(F);ze(z,{onClick:d,children:(V,W)=>{var T=de("Select File");C(V,T)},$$slots:{default:!0}});var j=P(F,2);j.__change=[Jn,c],ye(j,V=>D(r,V),()=>s(r)),C(L,M)},E=L=>{var M=fi(),F=S(M),z=S(F);ze(z,{onClick:d,children:(W,T)=>{var x=de("Select File");C(W,x)},$$slots:{default:!0}});var j=P(F,2),V=P(S(j),2);V.__change=[Jn,c],ye(V,W=>D(r,W),()=>s(r)),ye(j,W=>D(o,W),()=>s(o)),ae(()=>ee(j,1,ne(["dropzone",{active:s(a)}]),"svelte-1n1lt8i")),qe("dragenter",j,u),qe("dragover",j,v),qe("dragleave",j,f),qe("drop",j,g),C(L,M)};H(m,L=>{Jt()?L(k):L(E,!1)})}C(_,b)},y=(_,b)=>{{var m=E=>{var L=hi(),M=P(Y(L),2);Pn(M),C(E,L)},k=(E,L)=>{{var M=z=>{var j=gi(),V=P(Y(j),2),W=S(V);ze(W,{onClick:i,children:(T,x)=>{var O=de("close");C(T,O)},$$slots:{default:!0}}),C(z,j)},F=(z,j)=>{{var V=W=>{var T=pi(),x=P(Y(T),2),O=S(x);ze(O,{onClick:()=>{D(n,"idle")},children:(A,U)=>{var G=de("Try Again");C(A,G)},$$slots:{default:!0}}),C(W,T)};H(z,W=>{s(n)==="error"&&W(V)},j)}};H(E,z=>{s(n)==="success"?z(M):z(F,!1)},L)}};H(_,E=>{s(n)==="loading"?E(m):E(k,!1)},b)}};H(p,_=>{s(n)==="idle"?_(w):_(y,!1)})}C(e,h),K()}pe(["change"]);const wi=(e,t,n)=>{t(e.target.value),n.onChange(t())};var yi=R('<input type="radio"> <label> </label>',1),bi=R('<div class="wrapper svelte-1065asd"><fieldset class="switcher svelte-1065asd"><!> <div class="wrapSwitcherStatus svelte-1065asd"><div class="switcherStatus svelte-1065asd"></div></div></fieldset></div>');function ki(e,t){const n=no();X(t,!0);let r=q(t,"value",7);const a=`switcher-${n}`;var o=bi(),i=S(o),l=S(i);Ae(l,17,()=>t.items,u=>u.title,(u,f)=>{var v=yi(),g=Y(v);ee(g,1,ne(["vh","input"]),"svelte-1065asd"),se(g,"name",a),g.__change=[wi,r,t];var h=P(g,2);ee(h,1,ne(["switcherButton"]),"svelte-1065asd");var p=S(h);ae(()=>{se(g,"id",`${s(f).title}-${n}`),Ct(g,s(f).value),Dt(g,s(f).value===r()),se(g,"aria-label",s(f).title),se(h,"for",`${s(f).title}-${n}`),se(h,"title",s(f).title),se(h,"aria-label",s(f).title),Qe(p,s(f).value)}),C(u,v)});var c=P(l,2),d=S(c);ae(u=>Nt(d,u),[()=>`transform: translateX(${t.items.findIndex(u=>u.value===r())*100}%)`]),C(e,o),K()}pe(["change"]);var Si=R('<p class="message svelte-1pyr83d">Export bookmarks</p> <div class="format-switcher svelte-1pyr83d"><!> <p class="format-description svelte-1pyr83d"><!></p></div> <div class="buttonContainer svelte-1pyr83d"><!></div>',1),Ei=R('<p class="message svelte-1pyr83d">Exporting data...</p> <div class="buttonContainer svelte-1pyr83d"><!></div>',1),Ti=R('<p class="message svelte-1pyr83d">Bookmarks exported successfully!</p> <div class="buttonContainer svelte-1pyr83d"><!></div>',1),Ci=R('<div class="content svelte-1pyr83d"><!></div>');function Di(e,t){X(t,!0);let n=N("idle"),r=N("html");const a=()=>{Gt()};fe(()=>{st(s(n)==="loading")}),ce(()=>()=>{st(!1)});const o=async()=>{D(n,"loading"),setTimeout(async()=>{if(s(r)==="json")await ps().finally(()=>{D(n,"success")});else try{const u=ui(ds()),f=new Blob([u],{type:"text/html"}),v=URL.createObjectURL(f),g=document.createElement("a");g.href=v,g.download=`bookmarks_${new Date().toLocaleDateString().replace(/\//g,"_")}.html`,document.body.appendChild(g),g.click(),document.body.removeChild(g),URL.revokeObjectURL(v),D(n,"success")}catch(u){console.error("Error exporting as HTML:",u),D(n,"success")}},0)};var i=Ci(),l=S(i);{var c=u=>{var f=Si(),v=P(Y(f),2),g=S(v);ki(g,{items:[{title:"HTML",value:"html"},{title:"JSON",value:"json"}],get value(){return s(r)},onChange:m=>{D(r,m,!0)}});var h=P(g,2),p=S(h);{var w=m=>{var k=de("JSON format (App compatible, a faster format)");C(m,k)},y=m=>{var k=de("HTML format (Browser compatible)");C(m,k)};H(p,m=>{s(r)==="json"?m(w):m(y,!1)})}var _=P(v,2),b=S(_);ze(b,{onClick:o,children:(m,k)=>{var E=de("Export");C(m,E)},$$slots:{default:!0}}),C(u,f)},d=(u,f)=>{{var v=h=>{var p=Ei(),w=P(Y(p),2),y=S(w);Pn(y),C(h,p)},g=(h,p)=>{{var w=y=>{var _=Ti(),b=P(Y(_),2),m=S(b);ze(m,{onClick:a,children:(k,E)=>{var L=de("Close");C(k,L)},$$slots:{default:!0}}),C(y,_)};H(h,y=>{s(n)==="success"&&y(w)},p)}};H(u,h=>{s(n)==="loading"?h(v):h(g,!1)},f)}};H(l,u=>{s(n)==="idle"?u(c):u(d,!1)})}C(e,i),K()}var Li=R('<p class="message svelte-49o1d">Are you sure you want to clear the store?</p> <div class="buttonContainer svelte-49o1d"><!></div>',1),Pi=R('<p class="message svelte-49o1d">clearing store...</p> <div class="buttonContainer svelte-49o1d"><!></div>',1),xi=R('<p class="message svelte-49o1d">store cleared</p> <div class="buttonContainer svelte-49o1d"><!></div>',1),Oi=R('<div class="content svelte-49o1d"><!></div>');function Mi(e,t){X(t,!0);let n=N("idle");const r=()=>{Gt()};fe(()=>{st(s(n)==="loading")}),ce(()=>()=>{st(!1)});const a=()=>{D(n,"loading"),gs().finally(()=>{setTimeout(()=>{D(n,"success")},1e3)})};var o=Oi(),i=S(o);{var l=d=>{var u=Li(),f=P(Y(u),2),v=S(f);ze(v,{onClick:a,type:"dangerous",children:(g,h)=>{var p=de("Clear store");C(g,p)},$$slots:{default:!0}}),C(d,u)},c=(d,u)=>{{var f=g=>{var h=Pi(),p=P(Y(h),2),w=S(p);Pn(w),C(g,h)},v=(g,h)=>{{var p=w=>{var y=xi(),_=P(Y(y),2),b=S(_);ze(b,{onClick:r,children:(m,k)=>{var E=de("Close");C(m,E)},$$slots:{default:!0}}),C(w,y)};H(g,w=>{s(n)==="success"&&w(p)},h)}};H(d,g=>{s(n)==="loading"?g(f):g(v,!1)},u)}};H(i,d=>{s(n)==="idle"?d(l):d(c,!1)})}C(e,o),K()}var Ai=R('<div class="svelte-t4bw1y"><!></div>');function dt(e,t){X(t,!0);let n=N(null);ce(()=>{s(n)&&(s(n).getBoundingClientRect(),s(n).style.opacity="1")});var r=Ai(),a=S(r);Fe(a,()=>t.children),ye(r,o=>D(n,o),()=>s(n)),C(e,r),K()}const Zn=(e,t=er)=>{var n=_e(),r=Y(n);{var a=i=>{dt(i,{children:(l,c)=>{oi(l,{})},$$slots:{default:!0}})},o=(i,l)=>{{var c=u=>{dt(u,{children:(f,v)=>{si(f,{})},$$slots:{default:!0}})},d=(u,f)=>{{var v=h=>{dt(h,{children:(p,w)=>{_i(p,{})},$$slots:{default:!0}})},g=(h,p)=>{{var w=_=>{dt(_,{children:(b,m)=>{Di(b,{})},$$slots:{default:!0}})},y=(_,b)=>{{var m=k=>{dt(k,{children:(E,L)=>{Mi(E,{})},$$slots:{default:!0}})};H(_,k=>{t()==="clearStore"&&k(m)},b)}};H(h,_=>{t()==="exportBookmarks"?_(w):_(y,!1)},p)}};H(u,h=>{t()==="importBookmarks"?h(v):h(g,!1)},f)}};H(i,u=>{t()==="newBookmark"?u(c):u(d,!1)},l)}};H(r,i=>{t()==="settings"?i(a):i(o,!1)})}C(e,n)};var Bi=R("<!> <!>",1);function Ii(e,t){X(t,!0);let n=J(Nr);var r=Bi(),a=Y(r);Gs(a);var o=P(a,2);{var i=c=>{var d=_e(),u=Y(d);Ae(u,17,()=>s(n),so,(f,v,g)=>{const h=J(()=>{var p;return g!==s(n).length-1&&!!((p=s(n)[g+1])!=null&&p.shown)});Kn(f,{get shown(){return s(v).shown},get hidden(){return s(h)},children:(p,w)=>{Zn(p,()=>s(v).page)},$$slots:{default:!0}})}),C(c,d)},l=(c,d)=>{{var u=f=>{const v=J(()=>s(n).length===1);Kn(f,{onBack:()=>Rr(),get shown(){return s(n)[s(n).length-1].shown},hidden:!1,get isLastDialog(){return s(v)},children:(g,h)=>{Zn(g,()=>s(n)[s(n).length-1].page)},$$slots:{default:!0}})};H(c,f=>{s(n).length>0&&f(u)},d)}};H(o,c=>{Jt()?c(i):c(l,!1)})}C(e,r),K()}function Ri(e,t){X(t,!1),ce(()=>{en(),document.addEventListener("focusin",en),document.addEventListener("focusout",en),document.addEventListener("touchmove",function(n){Ln()&&n.preventDefault()},{passive:!1})}),Kt(),K()}function Ni(){const e=navigator.userAgent;if(!(/iPad|iPhone|iPod/.test(e)&&!window.MSStream))return!1;const n=/Safari/.test(e)&&!/Chrome/.test(e)&&!/CriOS/.test(e)&&!/FxiOS/.test(e),r=/Macintosh/.test(e)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>1;return!!n||!!r}const Fi=Ni();function ji(e,t){X(t,!1);let n=0;ce(()=>{const r=document.querySelector("div");r&&Fi&&r.addEventListener("touchstart",a=>{a.pageX>20&&a.pageX<window.innerWidth-20||a.preventDefault()}),document.addEventListener("touchstart",a=>{n=a.touches[0].clientX},{passive:!1}),document.addEventListener("touchmove",a=>{const i=a.touches[0].clientX-n;(n<50&&i>0||n>window.innerWidth-50&&i<0)&&a.preventDefault()},{passive:!1}),document.addEventListener("touchend",()=>{n=0}),document.addEventListener("touchcancel",()=>{n=0})}),Kt(),K()}var Hi=R('<!> <!> <!> <main><!> <div class="container svelte-ngsolt"><!></div></main>',1);function Ui(e,t){X(t,!0),ce(async()=>{await new Promise(f=>setTimeout(f,100)),await Xa(),ue.working=!0});let n=J(()=>Re().length>0);var r=Hi(),a=Y(r);ji(a,{});var o=P(a,2);Ri(o,{});var i=P(o,2);So(i,{});var l=P(i,2),c=S(l);No(c,{});var d=P(c,2),u=S(d);Ii(u,{}),ye(l,f=>vt.ref=f,()=>vt==null?void 0:vt.ref),ae(()=>{Nt(l,`--swiping-ratio: ${ue.swipingRatio}; --transition-timing-default: ${ue.duration}s;`),ee(l,1,ne(["main",{isAnimationOn:ue.working&&!ue.isSwiping,open:s(n)}]),"svelte-ngsolt")}),C(e,r),K()}ro(Ui,{target:document.getElementById("app")});
