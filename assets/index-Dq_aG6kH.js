(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();const xn=!1;var un=Array.isArray,Gr=Array.prototype.indexOf,dn=Array.from,Jr=Object.defineProperty,Ze=Object.getOwnPropertyDescriptor,Zn=Object.getOwnPropertyDescriptors,Zr=Object.prototype,Qr=Array.prototype,fn=Object.getPrototypeOf,Pn=Object.isExtensible;const Qn=()=>{};function $r(e){return e()}function Et(e){for(var t=0;t<e.length;t++)e[t]()}const Ce=2,$n=4,It=8,vn=16,Ne=32,rt=64,Tt=128,we=256,Ct=512,pe=1024,Oe=2048,Ge=4096,Be=8192,Rt=16384,ea=32768,Nt=65536,ta=1<<17,na=1<<19,er=1<<20,$t=1<<21,Xe=Symbol("$state"),ra=Symbol("legacy props"),aa=Symbol("");function tr(e){return e===this.v}function oa(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function hn(e){return!oa(e,this.v)}function ia(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function sa(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function la(e){throw new Error("https://svelte.dev/e/effect_orphan")}function ca(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function ua(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function da(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function fa(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function va(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let at=!1,ha=!1;function ga(){at=!0}const gn=1,pn=2,nr=4,pa=8,_a=16,ma=1,wa=2,ya=4,ka=8,ba=16,Sa=1,Ea=2,ve=Symbol(),Ta="http://www.w3.org/1999/xhtml";function Ca(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let ne=null;function On(e){ne=e}function W(e,t=!1,n){var r=ne={p:ne,c:null,d:!1,e:null,m:!1,s:e,x:null,l:null};at&&!t&&(ne.l={s:null,u:null,r1:[],r2:gt(!1)}),_n(()=>{r.d=!0})}function X(e){const t=ne;if(t!==null){e!==void 0&&(t.x=e);const i=t.e;if(i!==null){var n=J,r=G;t.e=null;try{for(var o=0;o<i.length;o++){var a=i[o];je(a.effect),Ae(a.reaction),mn(a.fn)}}finally{je(n),Ae(r)}}ne=t.p,t.m=!0}return e||{}}function mt(){return!at||ne!==null&&ne.l===null}function ie(e){if(typeof e!="object"||e===null||Xe in e)return e;const t=fn(e);if(t!==Zr&&t!==Qr)return e;var n=new Map,r=un(e),o=F(0),a=G,i=l=>{var c=G;Ae(a);var d=l();return Ae(c),d};return r&&n.set("length",F(e.length)),new Proxy(e,{defineProperty(l,c,d){(!("value"in d)||d.configurable===!1||d.enumerable===!1||d.writable===!1)&&da();var f=n.get(c);return f===void 0?(f=i(()=>F(d.value)),n.set(c,f)):L(f,i(()=>ie(d.value))),!0},deleteProperty(l,c){var d=n.get(c);if(d===void 0)c in l&&(n.set(c,i(()=>F(ve))),Wt(o));else{if(r&&typeof c=="string"){var f=n.get("length"),v=Number(c);Number.isInteger(v)&&v<f.v&&L(f,v)}L(d,ve),Wt(o)}return!0},get(l,c,d){var g;if(c===Xe)return e;var f=n.get(c),v=c in l;if(f===void 0&&(!v||(g=Ze(l,c))!=null&&g.writable)&&(f=i(()=>F(ie(v?l[c]:ve))),n.set(c,f)),f!==void 0){var u=s(f);return u===ve?void 0:u}return Reflect.get(l,c,d)},getOwnPropertyDescriptor(l,c){var d=Reflect.getOwnPropertyDescriptor(l,c);if(d&&"value"in d){var f=n.get(c);f&&(d.value=s(f))}else if(d===void 0){var v=n.get(c),u=v==null?void 0:v.v;if(v!==void 0&&u!==ve)return{enumerable:!0,configurable:!0,value:u,writable:!0}}return d},has(l,c){var u;if(c===Xe)return!0;var d=n.get(c),f=d!==void 0&&d.v!==ve||Reflect.has(l,c);if(d!==void 0||J!==null&&(!f||(u=Ze(l,c))!=null&&u.writable)){d===void 0&&(d=i(()=>F(f?ie(l[c]):ve)),n.set(c,d));var v=s(d);if(v===ve)return!1}return f},set(l,c,d,f){var _;var v=n.get(c),u=c in l;if(r&&c==="length")for(var g=d;g<v.v;g+=1){var h=n.get(g+"");h!==void 0?L(h,ve):g in l&&(h=i(()=>F(ve)),n.set(g+"",h))}v===void 0?(!u||(_=Ze(l,c))!=null&&_.writable)&&(v=i(()=>F(void 0)),L(v,i(()=>ie(d))),n.set(c,v)):(u=v.v!==ve,L(v,i(()=>ie(d))));var p=Reflect.getOwnPropertyDescriptor(l,c);if(p!=null&&p.set&&p.set.call(f,d),!u){if(r&&typeof c=="string"){var w=n.get("length"),m=Number(c);Number.isInteger(m)&&m>=w.v&&L(w,m+1)}Wt(o)}return!0},ownKeys(l){s(o);var c=Reflect.ownKeys(l).filter(v=>{var u=n.get(v);return u===void 0||u.v!==ve});for(var[d,f]of n)f.v!==ve&&!(d in l)&&c.push(d);return c},setPrototypeOf(){fa()}})}function Wt(e,t=1){L(e,e.v+t)}function Qe(e){var t=Ce|Oe,n=G!==null&&(G.f&Ce)!==0?G:null;return J===null||n!==null&&(n.f&we)!==0?t|=we:J.f|=er,{ctx:ne,deps:null,effects:null,equals:tr,f:t,fn:e,reactions:null,rv:0,v:null,wv:0,parent:n??J}}function ee(e){const t=Qe(e);return wr(t),t}function rr(e){const t=Qe(e);return t.equals=hn,t}function ar(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)Ie(t[n])}}function Da(e){for(var t=e.parent;t!==null;){if((t.f&Ce)===0)return t;t=t.parent}return null}function or(e){var t,n=J;je(Da(e));try{ar(e),t=Sr(e)}finally{je(n)}return t}function ir(e){var t=or(e),n=(He||(e.f&we)!==0)&&e.deps!==null?Ge:pe;De(e,n),e.equals(t)||(e.v=t,e.wv=kr())}const ht=new Map;function gt(e,t){var n={f:0,v:e,reactions:null,equals:tr,rv:0,wv:0};return n}function F(e,t){const n=gt(e);return wr(n),n}function sr(e,t=!1){var r;const n=gt(e);return t||(n.equals=hn),at&&ne!==null&&ne.l!==null&&((r=ne.l).s??(r.s=[])).push(n),n}function L(e,t,n=!1){G!==null&&!Le&&mt()&&(G.f&(Ce|vn))!==0&&!(fe!=null&&fe.includes(e))&&va();let r=n?ie(t):t;return en(e,r)}function en(e,t){if(!e.equals(t)){var n=e.v;wt?ht.set(e,t):ht.set(e,n),e.v=t,(e.f&Ce)!==0&&((e.f&Oe)!==0&&or(e),De(e,(e.f&we)===0?pe:Ge)),e.wv=kr(),lr(e,Oe),mt()&&J!==null&&(J.f&pe)!==0&&(J.f&(Ne|rt))===0&&(be===null?Na([e]):be.push(e))}return t}function lr(e,t){var n=e.reactions;if(n!==null)for(var r=mt(),o=n.length,a=0;a<o;a++){var i=n[a],l=i.f;(l&Oe)===0&&(!r&&i===J||(De(i,t),(l&(pe|we))!==0&&((l&Ce)!==0?lr(i,Ge):Vt(i))))}}let La=!1;var An,cr,ur,dr;function xa(){if(An===void 0){An=window,cr=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;ur=Ze(t,"firstChild").get,dr=Ze(t,"nextSibling").get,Pn(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Pn(n)&&(n.__t=void 0)}}function Ft(e=""){return document.createTextNode(e)}function $e(e){return ur.call(e)}function zt(e){return dr.call(e)}function T(e,t){return $e(e)}function q(e,t){{var n=$e(e);return n instanceof Comment&&n.data===""?zt(n):n}}function x(e,t=1,n=!1){let r=e;for(;t--;)r=zt(r);return r}function Pa(e){e.textContent=""}function fr(e){J===null&&G===null&&la(),G!==null&&(G.f&we)!==0&&J===null&&sa(),wt&&ia()}function Oa(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function ot(e,t,n,r=!0){var o=J,a={ctx:ne,deps:null,nodes_start:null,nodes_end:null,f:e|Oe,first:null,fn:t,last:null,next:null,parent:o,prev:null,teardown:null,transitions:null,wv:0};if(n)try{kn(a),a.f|=ea}catch(c){throw Ie(a),c}else t!==null&&Vt(a);var i=n&&a.deps===null&&a.first===null&&a.nodes_start===null&&a.teardown===null&&(a.f&(er|Tt))===0;if(!i&&r&&(o!==null&&Oa(a,o),G!==null&&(G.f&Ce)!==0)){var l=G;(l.effects??(l.effects=[])).push(a)}return a}function _n(e){const t=ot(It,null,!1);return De(t,pe),t.teardown=e,t}function ue(e){fr();var t=J!==null&&(J.f&Ne)!==0&&ne!==null&&!ne.m;if(t){var n=ne;(n.e??(n.e=[])).push({fn:e,effect:J,reaction:G})}else{var r=mn(e);return r}}function Aa(e){return fr(),Ht(e)}function Ma(e){const t=ot(rt,e,!0);return(n={})=>new Promise(r=>{n.outro?Dt(t,()=>{Ie(t),r(void 0)}):(Ie(t),r(void 0))})}function mn(e){return ot($n,e,!1)}function Ht(e){return ot(It,e,!0)}function oe(e,t=[],n=Qe){const r=t.map(n);return Ut(()=>e(...r.map(s)))}function Ut(e,t=0){return ot(It|vn|t,e,!0)}function et(e,t=!0){return ot(It|Ne,e,!0,t)}function vr(e){var t=e.teardown;if(t!==null){const n=wt,r=G;Bn(!0),Ae(null);try{t.call(null)}finally{Bn(n),Ae(r)}}}function hr(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){var r=n.next;(n.f&rt)!==0?n.parent=null:Ie(n,t),n=r}}function Ba(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&Ne)===0&&Ie(t),t=n}}function Ie(e,t=!0){var n=!1;(t||(e.f&na)!==0)&&e.nodes_start!==null&&(Ia(e.nodes_start,e.nodes_end),n=!0),hr(e,t&&!n),At(e,0),De(e,Rt);var r=e.transitions;if(r!==null)for(const a of r)a.stop();vr(e);var o=e.parent;o!==null&&o.first!==null&&gr(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function Ia(e,t){for(;e!==null;){var n=e===t?null:zt(e);e.remove(),e=n}}function gr(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function Dt(e,t){var n=[];wn(e,n,!0),pr(n,()=>{Ie(e),t&&t()})}function pr(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var o of e)o.out(r)}else t()}function wn(e,t,n){if((e.f&Be)===0){if(e.f^=Be,e.transitions!==null)for(const i of e.transitions)(i.is_global||n)&&t.push(i);for(var r=e.first;r!==null;){var o=r.next,a=(r.f&Nt)!==0||(r.f&Ne)!==0;wn(r,t,a?n:!1),r=o}}}function Lt(e){_r(e,!0)}function _r(e,t){if((e.f&Be)!==0){e.f^=Be,(e.f&pe)===0&&(e.f^=pe),yt(e)&&(De(e,Oe),Vt(e));for(var n=e.first;n!==null;){var r=n.next,o=(n.f&Nt)!==0||(n.f&Ne)!==0;_r(n,o?t:!1),n=r}if(e.transitions!==null)for(const a of e.transitions)(a.is_global||t)&&a.in()}}let pt=[],tn=[];function mr(){var e=pt;pt=[],Et(e)}function Ra(){var e=tn;tn=[],Et(e)}function yn(e){pt.length===0&&queueMicrotask(mr),pt.push(e)}function Mn(){pt.length>0&&mr(),tn.length>0&&Ra()}let St=!1,xt=!1,Pt=null,Ke=!1,wt=!1;function Bn(e){wt=e}let ft=[];let G=null,Le=!1;function Ae(e){G=e}let J=null;function je(e){J=e}let fe=null;function wr(e){G!==null&&G.f&$t&&(fe===null?fe=[e]:fe.push(e))}let de=null,me=0,be=null;function Na(e){be=e}let yr=1,Ot=0,He=!1;function kr(){return++yr}function yt(e){var v;var t=e.f;if((t&Oe)!==0)return!0;if((t&Ge)!==0){var n=e.deps,r=(t&we)!==0;if(n!==null){var o,a,i=(t&Ct)!==0,l=r&&J!==null&&!He,c=n.length;if(i||l){var d=e,f=d.parent;for(o=0;o<c;o++)a=n[o],(i||!((v=a==null?void 0:a.reactions)!=null&&v.includes(d)))&&(a.reactions??(a.reactions=[])).push(d);i&&(d.f^=Ct),l&&f!==null&&(f.f&we)===0&&(d.f^=we)}for(o=0;o<c;o++)if(a=n[o],yt(a)&&ir(a),a.wv>e.wv)return!0}(!r||J!==null&&!He)&&De(e,pe)}return!1}function Fa(e,t){for(var n=t;n!==null;){if((n.f&Tt)!==0)try{n.fn(e);return}catch{n.f^=Tt}n=n.parent}throw St=!1,e}function In(e){return(e.f&Rt)===0&&(e.parent===null||(e.parent.f&Tt)===0)}function jt(e,t,n,r){if(St){if(n===null&&(St=!1),In(t))throw e;return}if(n!==null&&(St=!0),Fa(e,t),In(t))throw e}function br(e,t,n=!0){var r=e.reactions;if(r!==null)for(var o=0;o<r.length;o++){var a=r[o];fe!=null&&fe.includes(e)||((a.f&Ce)!==0?br(a,t,!1):t===a&&(n?De(a,Oe):(a.f&pe)!==0&&De(a,Ge),Vt(a)))}}function Sr(e){var g;var t=de,n=me,r=be,o=G,a=He,i=fe,l=ne,c=Le,d=e.f;de=null,me=0,be=null,He=(d&we)!==0&&(Le||!Ke||G===null),G=(d&(Ne|rt))===0?e:null,fe=null,On(e.ctx),Le=!1,Ot++,e.f|=$t;try{var f=(0,e.fn)(),v=e.deps;if(de!==null){var u;if(At(e,me),v!==null&&me>0)for(v.length=me+de.length,u=0;u<de.length;u++)v[me+u]=de[u];else e.deps=v=de;if(!He)for(u=me;u<v.length;u++)((g=v[u]).reactions??(g.reactions=[])).push(e)}else v!==null&&me<v.length&&(At(e,me),v.length=me);if(mt()&&be!==null&&!Le&&v!==null&&(e.f&(Ce|Ge|Oe))===0)for(u=0;u<be.length;u++)br(be[u],e);return o!==null&&o!==e&&(Ot++,be!==null&&(r===null?r=be:r.push(...be))),f}finally{de=t,me=n,be=r,G=o,He=a,fe=i,On(l),Le=c,e.f^=$t}}function za(e,t){let n=t.reactions;if(n!==null){var r=Gr.call(n,e);if(r!==-1){var o=n.length-1;o===0?n=t.reactions=null:(n[r]=n[o],n.pop())}}n===null&&(t.f&Ce)!==0&&(de===null||!de.includes(t))&&(De(t,Ge),(t.f&(we|Ct))===0&&(t.f^=Ct),ar(t),At(t,0))}function At(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)za(e,n[r])}function kn(e){var t=e.f;if((t&Rt)===0){De(e,pe);var n=J,r=ne,o=Ke;J=e,Ke=!0;try{(t&vn)!==0?Ba(e):hr(e),vr(e);var a=Sr(e);e.teardown=typeof a=="function"?a:null,e.wv=yr;var i=e.deps,l;xn&&ha&&e.f&Oe}catch(c){jt(c,e,n,r||e.ctx)}finally{Ke=o,J=n}}}function Ha(){try{ca()}catch(e){if(Pt!==null)jt(e,Pt,null);else throw e}}function Er(){var e=Ke;try{var t=0;for(Ke=!0;ft.length>0;){t++>1e3&&Ha();var n=ft,r=n.length;ft=[];for(var o=0;o<r;o++){var a=ja(n[o]);Ua(a)}ht.clear()}}finally{xt=!1,Ke=e,Pt=null}}function Ua(e){var t=e.length;if(t!==0)for(var n=0;n<t;n++){var r=e[n];if((r.f&(Rt|Be))===0)try{yt(r)&&(kn(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null?gr(r):r.fn=null))}catch(o){jt(o,r,null,r.ctx)}}}function Vt(e){xt||(xt=!0,queueMicrotask(Er));for(var t=Pt=e;t.parent!==null;){t=t.parent;var n=t.f;if((n&(rt|Ne))!==0){if((n&pe)===0)return;t.f^=pe}}ft.push(t)}function ja(e){for(var t=[],n=e;n!==null;){var r=n.f,o=(r&(Ne|rt))!==0,a=o&&(r&pe)!==0;if(!a&&(r&Be)===0){if((r&$n)!==0)t.push(n);else if(o)n.f^=pe;else try{yt(n)&&kn(n)}catch(c){jt(c,n,null,n.ctx)}var i=n.first;if(i!==null){n=i;continue}}var l=n.parent;for(n=n.next;n===null&&l!==null;)n=l.next,l=l.parent}return t}function Va(e){var t;for(Mn();ft.length>0;)xt=!0,Er(),Mn();return t}async function qa(){await Promise.resolve(),Va()}function s(e){var t=e.f,n=(t&Ce)!==0;if(G!==null&&!Le){if(!(fe!=null&&fe.includes(e))){var r=G.deps;e.rv<Ot&&(e.rv=Ot,de===null&&r!==null&&r[me]===e?me++:de===null?de=[e]:(!He||!de.includes(e))&&de.push(e))}}else if(n&&e.deps===null&&e.effects===null){var o=e,a=o.parent;a!==null&&(a.f&we)===0&&(o.f^=we)}return n&&(o=e,yt(o)&&ir(o)),wt&&ht.has(e)?ht.get(e):e.v}function tt(e){var t=Le;try{return Le=!0,e()}finally{Le=t}}const Ya=-7169;function De(e,t){e.f=e.f&Ya|t}function Wa(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Xe in e)nn(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&Xe in n&&nn(n)}}}function nn(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{nn(e[r],t)}catch{}const n=fn(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=Zn(n);for(let o in r){const a=r[o].get;if(a)try{a.call(e)}catch{}}}}}const Xa=["touchstart","touchmove"];function Ka(e){return Xa.includes(e)}let Rn=!1;function Ga(){Rn||(Rn=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const n of e.target.elements)(t=n.__on_r)==null||t.call(n)})},{capture:!0}))}function Tr(e){var t=G,n=J;Ae(null),je(null);try{return e()}finally{Ae(t),je(n)}}function Ja(e,t,n,r=n){e.addEventListener(t,()=>Tr(n));const o=e.__on_r;o?e.__on_r=()=>{o(),r(!0)}:e.__on_r=()=>r(!0),Ga()}const Cr=new Set,rn=new Set;function Za(e,t,n,r={}){function o(a){if(r.capture||ct.call(t,a),!a.cancelBubble)return Tr(()=>n==null?void 0:n.call(this,a))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?yn(()=>{t.addEventListener(e,o,r)}):t.addEventListener(e,o,r),o}function Ye(e,t,n,r,o){var a={capture:r,passive:o},i=Za(e,t,n,a);(t===document.body||t===window||t===document)&&_n(()=>{t.removeEventListener(e,i,a)})}function ke(e){for(var t=0;t<e.length;t++)Cr.add(e[t]);for(var n of rn)n(e)}function ct(e){var _;var t=this,n=t.ownerDocument,r=e.type,o=((_=e.composedPath)==null?void 0:_.call(e))||[],a=o[0]||e.target,i=0,l=e.__root;if(l){var c=o.indexOf(l);if(c!==-1&&(t===document||t===window)){e.__root=t;return}var d=o.indexOf(t);if(d===-1)return;c<=d&&(i=c)}if(a=o[i]||e.target,a!==t){Jr(e,"currentTarget",{configurable:!0,get(){return a||n}});var f=G,v=J;Ae(null),je(null);try{for(var u,g=[];a!==null;){var h=a.assignedSlot||a.parentNode||a.host||null;try{var p=a["__"+r];if(p!=null&&(!a.disabled||e.target===a))if(un(p)){var[w,...m]=p;w.apply(a,[e,...m])}else p.call(a,e)}catch(b){u?g.push(b):u=b}if(e.cancelBubble||h===t||h===null)break;a=h}if(u){for(let b of g)queueMicrotask(()=>{throw b});throw u}}finally{e.__root=t,delete e.currentTarget,Ae(f),je(v)}}}function Dr(e){var t=document.createElement("template");return t.innerHTML=e,t.content}function _t(e,t){var n=J;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function z(e,t){var n=(t&Sa)!==0,r=(t&Ea)!==0,o,a=!e.startsWith("<!>");return()=>{o===void 0&&(o=Dr(a?e:"<!>"+e),n||(o=$e(o)));var i=r||cr?document.importNode(o,!0):o.cloneNode(!0);if(n){var l=$e(i),c=i.lastChild;_t(l,c)}else _t(i,i);return i}}function Qa(e,t,n="svg"){var r=!e.startsWith("<!>"),o=`<${n}>${r?e:"<!>"+e}</${n}>`,a;return()=>{if(!a){var i=Dr(o),l=$e(i);a=$e(l)}var c=a.cloneNode(!0);return _t(c,c),c}}function le(e=""){{var t=Ft(e+"");return _t(t,t),t}}function he(){var e=document.createDocumentFragment(),t=document.createComment(""),n=Ft();return e.append(t,n),_t(t,n),e}function D(e,t){e!==null&&e.before(t)}function it(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function $a(e,t){return eo(e,t)}const Je=new Map;function eo(e,{target:t,anchor:n,props:r={},events:o,context:a,intro:i=!0}){xa();var l=new Set,c=v=>{for(var u=0;u<v.length;u++){var g=v[u];if(!l.has(g)){l.add(g);var h=Ka(g);t.addEventListener(g,ct,{passive:h});var p=Je.get(g);p===void 0?(document.addEventListener(g,ct,{passive:h}),Je.set(g,1)):Je.set(g,p+1)}}};c(dn(Cr)),rn.add(c);var d=void 0,f=Ma(()=>{var v=n??t.appendChild(Ft());return et(()=>{if(a){W({});var u=ne;u.c=a}o&&(r.$$events=o),d=e(v,r)||{},a&&X()}),()=>{var h;for(var u of l){t.removeEventListener(u,ct);var g=Je.get(u);--g===0?(document.removeEventListener(u,ct),Je.delete(u)):Je.set(u,g)}rn.delete(c),v!==n&&((h=v.parentNode)==null||h.removeChild(v))}});return to.set(d,f),d}let to=new WeakMap;function j(e,t,[n,r]=[0,0]){var o=e,a=null,i=null,l=ve,c=n>0?Nt:0,d=!1;const f=(u,g=!0)=>{d=!0,v(g,u)},v=(u,g)=>{l!==(l=u)&&(l?(a?Lt(a):g&&(a=et(()=>g(o))),i&&Dt(i,()=>{i=null})):(i?Lt(i):g&&(i=et(()=>g(o,[n+1,r]))),a&&Dt(a,()=>{a=null})))};Ut(()=>{d=!1,t(f),d||v(null,null)},c)}function Pe(e,t){Ht(()=>{var n=t();for(var r in n){var o=n[r];o?e.style.setProperty(r,o):e.style.removeProperty(r)}}),_n(()=>{e.remove()})}function no(e,t){return t}function ro(e,t,n,r){for(var o=[],a=t.length,i=0;i<a;i++)wn(t[i].e,o,!0);var l=a>0&&o.length===0&&n!==null;if(l){var c=n.parentNode;Pa(c),c.append(n),r.clear(),ze(e,t[0].prev,t[a-1].next)}pr(o,()=>{for(var d=0;d<a;d++){var f=t[d];l||(r.delete(f.k),ze(e,f.prev,f.next)),Ie(f.e,!l)}})}function Ue(e,t,n,r,o,a=null){var i=e,l={flags:t,items:new Map,first:null},c=(t&nr)!==0;if(c){var d=e;i=d.appendChild(Ft())}var f=null,v=!1,u=rr(()=>{var g=n();return un(g)?g:g==null?[]:dn(g)});Ut(()=>{var g=s(u),h=g.length;v&&h===0||(v=h===0,ao(g,l,i,o,t,r,n),a!==null&&(h===0?f?Lt(f):f=et(()=>a(i)):f!==null&&Dt(f,()=>{f=null})),s(u))})}function ao(e,t,n,r,o,a,i){var M,U,B,H;var l=(o&pa)!==0,c=(o&(gn|pn))!==0,d=e.length,f=t.items,v=t.first,u=v,g,h=null,p,w=[],m=[],_,b,k,S;if(l)for(S=0;S<d;S+=1)_=e[S],b=a(_,S),k=f.get(b),k!==void 0&&((M=k.a)==null||M.measure(),(p??(p=new Set)).add(k));for(S=0;S<d;S+=1){if(_=e[S],b=a(_,S),k=f.get(b),k===void 0){var E=u?u.e.nodes_start:n;h=io(E,t,h,h===null?t.first:h.next,_,b,S,r,o,i),f.set(b,h),w=[],m=[],u=h.next;continue}if(c&&oo(k,_,S,o),(k.e.f&Be)!==0&&(Lt(k.e),l&&((U=k.a)==null||U.unfix(),(p??(p=new Set)).delete(k))),k!==u){if(g!==void 0&&g.has(k)){if(w.length<m.length){var C=m[0],y;h=C.prev;var O=w[0],A=w[w.length-1];for(y=0;y<w.length;y+=1)Nn(w[y],C,n);for(y=0;y<m.length;y+=1)g.delete(m[y]);ze(t,O.prev,A.next),ze(t,h,O),ze(t,A,C),u=C,h=A,S-=1,w=[],m=[]}else g.delete(k),Nn(k,u,n),ze(t,k.prev,k.next),ze(t,k,h===null?t.first:h.next),ze(t,h,k),h=k;continue}for(w=[],m=[];u!==null&&u.k!==b;)(u.e.f&Be)===0&&(g??(g=new Set)).add(u),m.push(u),u=u.next;if(u===null)continue;k=u}w.push(k),h=k,u=k.next}if(u!==null||g!==void 0){for(var I=g===void 0?[]:dn(g);u!==null;)(u.e.f&Be)===0&&I.push(u),u=u.next;var P=I.length;if(P>0){var V=(o&nr)!==0&&d===0?n:null;if(l){for(S=0;S<P;S+=1)(B=I[S].a)==null||B.measure();for(S=0;S<P;S+=1)(H=I[S].a)==null||H.fix()}ro(t,I,V,f)}}l&&yn(()=>{var K;if(p!==void 0)for(k of p)(K=k.a)==null||K.apply()}),J.first=t.first&&t.first.e,J.last=h&&h.e}function oo(e,t,n,r){(r&gn)!==0&&en(e.v,t),(r&pn)!==0?en(e.i,n):e.i=n}function io(e,t,n,r,o,a,i,l,c,d){var f=(c&gn)!==0,v=(c&_a)===0,u=f?v?sr(o):gt(o):o,g=(c&pn)===0?i:gt(i),h={i:g,v:u,k:a,a:null,e:null,prev:n,next:r};try{return h.e=et(()=>l(e,u,g,d),La),h.e.prev=n&&n.e,h.e.next=r&&r.e,n===null?t.first=h:(n.next=h,n.e.next=h.e),r!==null&&(r.prev=h,r.e.prev=h.e),h}finally{}}function Nn(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,o=t?t.e.nodes_start:n,a=e.e.nodes_start;a!==r;){var i=zt(a);o.before(a),a=i}}function ze(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function Fe(e,t,...n){var r=e,o=Qn,a;Ut(()=>{o!==(o=t())&&(a&&(Ie(a),a=null),a=et(()=>o(r,...n)))},Nt)}function Lr(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=Lr(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function so(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=Lr(e))&&(r&&(r+=" "),r+=t);return r}function te(e){return typeof e=="object"?so(e):e??""}const Fn=[...` 	
\r\f \v\uFEFF`];function lo(e,t,n){var r=e==null?"":""+e;if(t&&(r=r?r+" "+t:t),n){for(var o in n)if(n[o])r=r?r+" "+o:o;else if(r.length)for(var a=o.length,i=0;(i=r.indexOf(o,i))>=0;){var l=i+a;(i===0||Fn.includes(r[i-1]))&&(l===r.length||Fn.includes(r[l]))?r=(i===0?"":r.substring(0,i))+r.substring(l+1):i=l}}return r===""?null:r}function co(e,t){return e==null?null:String(e)}function Z(e,t,n,r,o,a){var i=e.__className;if(i!==n||i===void 0){var l=lo(n,r,a);l==null?e.removeAttribute("class"):e.className=l,e.__className=n}else if(a&&o!==a)for(var c in a){var d=!!a[c];(o==null||d!==!!o[c])&&e.classList.toggle(c,d)}return a}function Mt(e,t,n,r){var o=e.__style;if(o!==t){var a=co(t);a==null?e.removeAttribute("style"):e.style.cssText=a,e.__style=t}return r}const uo=Symbol("is custom element"),fo=Symbol("is html");function Xt(e,t){var n=bn(e);n.value===(n.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function Kt(e,t){var n=bn(e);n.checked!==(n.checked=t??void 0)&&(e.checked=t)}function Se(e,t,n,r){var o=bn(e);o[t]!==(o[t]=n)&&(t==="loading"&&(e[aa]=n),n==null?e.removeAttribute(t):typeof n!="string"&&vo(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function bn(e){return e.__attributes??(e.__attributes={[uo]:e.nodeName.includes("-"),[fo]:e.namespaceURI===Ta})}var zn=new Map;function vo(e){var t=zn.get(e.nodeName);if(t)return t;zn.set(e.nodeName,t=[]);for(var n,r=e,o=Element.prototype;o!==r;){n=Zn(r);for(var a in n)n[a].set&&t.push(a);r=fn(r)}return t}function Sn(e,t,n=t){var r=mt();Ja(e,"input",o=>{var a=o?e.defaultValue:e.value;if(a=Gt(e)?Jt(a):a,n(a),r&&a!==(a=t())){var i=e.selectionStart,l=e.selectionEnd;e.value=a??"",l!==null&&(e.selectionStart=i,e.selectionEnd=Math.min(l,e.value.length))}}),tt(t)==null&&e.value&&n(Gt(e)?Jt(e.value):e.value),Ht(()=>{var o=t();Gt(e)&&o===Jt(e.value)||e.type==="date"&&!o&&!e.value||o!==e.value&&(e.value=o??"")})}function Gt(e){var t=e.type;return t==="number"||t==="range"}function Jt(e){return e===""?null:+e}function Hn(e,t){return e===t||(e==null?void 0:e[Xe])===t}function ge(e={},t,n,r){return mn(()=>{var o,a;return Ht(()=>{o=a,a=[],tt(()=>{e!==n(...a)&&(t(e,...a),o&&Hn(n(...o),e)&&t(null,...o))})}),()=>{yn(()=>{a&&Hn(n(...a),e)&&t(null,...a)})}}),e}function En(e=!1){const t=ne,n=t.l.u;if(!n)return;let r=()=>Wa(t.s);if(e){let o=0,a={};const i=Qe(()=>{let l=!1;const c=t.s;for(const d in c)c[d]!==a[d]&&(a[d]=c[d],l=!0);return l&&o++,o});r=()=>s(i)}n.b.length&&Aa(()=>{Un(t,r),Et(n.b)}),ue(()=>{const o=tt(()=>n.m.map($r));return()=>{for(const a of o)typeof a=="function"&&a()}}),n.a.length&&ue(()=>{Un(t,r),Et(n.a)})}function Un(e,t){if(e.l.s)for(const n of e.l.s)s(n);t()}let kt=!1;function ho(e){var t=kt;try{return kt=!1,[e(),kt]}finally{kt=t}}function jn(e){var t;return((t=e.ctx)==null?void 0:t.d)??!1}function Y(e,t,n,r){var E;var o=(n&ma)!==0,a=!at||(n&wa)!==0,i=(n&ka)!==0,l=(n&ba)!==0,c=!1,d;i?[d,c]=ho(()=>e[t]):d=e[t];var f=Xe in e||ra in e,v=i&&(((E=Ze(e,t))==null?void 0:E.set)??(f&&t in e&&(C=>e[t]=C)))||void 0,u=r,g=!0,h=!1,p=()=>(h=!0,g&&(g=!1,l?u=tt(r):u=r),u);d===void 0&&r!==void 0&&(v&&a&&ua(),d=p(),v&&v(d));var w;if(a)w=()=>{var C=e[t];return C===void 0?p():(g=!0,h=!1,C)};else{var m=(o?Qe:rr)(()=>e[t]);m.f|=ta,w=()=>{var C=s(m);return C!==void 0&&(u=void 0),C===void 0?u:C}}if((n&ya)===0)return w;if(v){var _=e.$$legacy;return function(C,y){return arguments.length>0?((!a||!y||_||c)&&v(y?w():C),C):w()}}var b=!1,k=sr(d),S=Qe(()=>{var C=w(),y=s(k);return b?(b=!1,y):k.v=C});return i&&s(S),o||(S.equals=hn),function(C,y){if(arguments.length>0){const O=y?s(S):a&&i?ie(C):C;if(!S.equals(O)){if(b=!0,L(k,O),h&&u!==void 0&&(u=O),jn(S))return C;tt(()=>s(S))}return C}return jn(S)?S.v:s(S)}}function ye(e){ne===null&&Ca(),at&&ne.l!==null?go(ne).m.push(e):ue(()=>{const t=tt(e);if(typeof t=="function")return t})}function go(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const po="5";var Jn;typeof window<"u"&&((Jn=window.__svelte??(window.__svelte={})).v??(Jn.v=new Set)).add(po);let ut=F("");function _o(e){L(ut,e,!0)}var mo=z('<div class="notification svelte-1h5k2zn"> </div>');function wo(e,t){W(t,!0),ue(()=>{s(ut);const a=setTimeout(()=>{L(ut,"")},800);return()=>{clearTimeout(a)}});var n=he(),r=q(n);{var o=a=>{var i=mo(),l=T(i);oe(()=>it(l,s(ut))),D(a,i)};j(r,a=>{s(ut)&&a(o)})}D(e,n),X()}ga();var yo=z('<span class="vh svelte-14jjkpd"><!></span>');function nt(e,t){var n=yo(),r=T(n);Fe(r,()=>t.children),D(e,n)}var ko=Qa('<svg class="svelte-1lqi79o"><use></use></svg>');function Ee(e,t){let n=Y(t,"name",8,"");var r=ko(),o=T(r);oe(()=>Se(o,"href",`#icon-${n()??""}`)),D(e,r)}const xr=(e,t)=>{if(!t)return e;if(t.type==="closed")return{type:"closed"};switch(e.type){case"opened":return t.type==="close"?{type:"closing"}:t.type==="swipe"?{type:"openSwiping"}:e;case"closed":return t.type==="open"?{type:"opening"}:t.type==="swipe"?{type:"closeSwiping"}:e;case"openSwiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"closeSwiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"opening":return t.type==="opened"?{type:"opened"}:e;default:return e}};let an=F(ie(xr({type:"closed"})));const qe=e=>{L(an,xr(s(an),e),!0)},Pr=()=>s(an),bo=()=>{qe({type:"open"})},So=()=>{qe({type:"close"})},Eo=()=>{const e=Pr().type;e==="closed"?bo():e==="opened"&&So()};var To=z('<button class="buttonMenu svelte-uq0knv"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>');function Or(e,t){W(t,!1),En();var n=To();n.__click=[Eo];var r=T(n);Pe(r,()=>({"--size":"28px"})),Ee(r.lastChild,{name:"sidebarMenu"});var o=x(r,2);nt(o,{children:(a,i)=>{var l=le("Menu");D(a,l)}}),D(e,n),X()}ke(["click"]);const N=ie({historyStack:[],pathname:window.location.pathname,search:window.location.search,historyLength:0}),Ar=()=>{var e;return((e=new URLSearchParams(N.search).get("selectedTags"))==null?void 0:e.split(","))||[]};let bt=Ar();const Co=()=>{const e=Ar();return e.join(",")===bt.join(",")||(bt=e),bt},Do=()=>{N.pathname=document.location.pathname,N.search=document.location.search,N.historyLength=Math.max(0,N.historyLength-=1)};window.addEventListener("popstate",Do);const on=e=>{const[t,n]=e.split("?");N.pathname=t,N.search=n?`?${n}`:"",N.historyLength+=1,N.historyStack.push(window.location.href),window.history.replaceState(null,"",e)},Lo=e=>{const[t,n]=e.split("?");N.pathname=t,N.search=n?`?${n}`:"",window.history.replaceState(null,"",e)},qt=(e="/")=>{var r;const[t,n]=e.split("?");if(N.historyLength<=0){const o=window.location.href,[a,i]=o.split("?");if(i.includes("stackPages")){const l=new URLSearchParams(i),d=(((r=l.get("stackPages"))==null?void 0:r.split(","))||[]).slice(0,-1);l.set("stackPages",d.join(","));const f=`${a}?${l.toString()}`;window.history.replaceState(null,"",f),N.search=l.toString()?`?${l.toString()}`:""}else window.history.replaceState(null,"",e),N.historyLength=0,N.pathname=t,N.search=n?`?${n}`:""}else if(N.historyStack.length>0){const o=N.historyStack.pop();if(o){const[a,i]=o.split("?");window.history.replaceState(null,"",o),N.historyLength=Math.max(0,N.historyLength-=1),N.pathname=a,N.search=i?`?${i}`:""}}},Mr=()=>{const e=N.historyStack.findIndex(n=>n.includes("stackPages")),t=e===-1?N.historyStack.slice(0):N.historyStack.slice(0,e);if(t.length>0){const n=t.pop();if(n){const[r,o]=n.split("?");window.history.replaceState(null,"",n),N.historyLength=Math.max(0,t.length),N.pathname=r,N.search=o?`?${o}`:"",N.historyStack=t}}else window.history.replaceState(null,"","/"),N.historyLength=0,N.pathname="/",N.search="",N.historyStack=[]},Re=()=>{var e;return((e=new URLSearchParams(N.search).get("stackPages"))==null?void 0:e.split(","))||[]};let vt=F(ie(Re()));const st=e=>{const t=Re();t.push(e);const n=new URLSearchParams(N.search);n.set("stackPages",t.join(",")),L(vt,t,!0),on(`${N.pathname}?${n.toString()}`)},Br=()=>{const e=Re().slice(0,-1);L(vt,e,!0)},xo=()=>{const e=Re();return e.length>=s(vt).length?e.reduce((t,n)=>[...t,{page:n,shown:!0}],[]):s(vt).reduce((t,n,r)=>[...t,{page:n,shown:e.length===0?!1:r!==s(vt).length-1}],[])},Po=e=>{e.preventDefault(),st("settings")},Oo=e=>{e.preventDefault(),st("newBookmark")};var Ao=z('<a class="addBookmark svelte-ybtczo"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Add bookmark</span></a>'),Mo=z('<div class="header svelte-ybtczo"><div class="top svelte-ybtczo"><div class="desktop svelte-ybtczo"><a class="link svelte-ybtczo"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Settings</span></a></div> <div class="mobile svelte-ybtczo"><!></div> <!></div></div>');function Bo(e,t){W(t,!0);const n=()=>{const p=Re();p.includes("settings")||p.push("settings");const w=new URLSearchParams(N.search);return w.set("stackPages",p.join(",")),`${N.pathname}?${w}`};let o=ee(()=>{const p=Re();p.includes("newBookmark")||p.push("newBookmark");const w=new URLSearchParams(N.search);return w.set("stackPages",p.join(",")),`${N.pathname}?${w}`}),a=ee(n);var i=Mo(),l=T(i),c=T(l),d=T(c);d.__click=[Po];var f=T(d);Pe(f,()=>({"--size":"20px"})),Ee(f.lastChild,{name:"settings"});var v=x(c,2),u=T(v);Or(u,{});var g=x(v,2);{var h=p=>{var w=Ao();w.__click=[Oo];var m=T(w);Pe(m,()=>({"--size":"24px","--color":"#b0b0b0"})),Ee(m.lastChild,{name:"plus"}),oe(()=>Se(w,"href",s(o))),D(p,w)};j(g,p=>{N.pathname!=="/settings"&&p(h)})}oe(()=>Se(d,"href",s(a))),D(e,i),X()}ke(["click"]);const Ir=()=>window.matchMedia("(max-width: 768px)").matches;let Rr=F(ie(Ir()));const Io=(e,t)=>{let n=null;return()=>{n&&clearTimeout(n),n=setTimeout(()=>{e()},t)}},Ro=Io(()=>{L(Rr,Ir(),!0)},16);window.addEventListener("resize",Ro);const Yt=()=>s(Rr),ce=ie({working:!1,swipingRatio:1,isSwiping:!1,duration:.35});let sn=!1;const Zt=()=>{document.activeElement instanceof HTMLInputElement||document.activeElement instanceof HTMLTextAreaElement?sn=!0:sn=!1},Tn=()=>sn;function No(e,t){W(t,!0);let n=Y(t,"dialog",7),r=null;const o=()=>{t.dialogState==="swiping"&&t.onClose()};ue(()=>(t.dialogState==="swiping"&&(r=setTimeout(o,3e3)),()=>{r&&(clearTimeout(r),r=null)}));let a=null,i=null;const l=3,c=50,d=5,f=.6,v=.3,u=.35,g=.95;let h=0,p=0,w=0,m=!1,_=!1,b=0,k=0,S=0;const E=()=>{h=0,p=0,m=!1,_=!1,b=0,k=0,S=0,w=0,a=null,i!==null&&(cancelAnimationFrame(i),i=null),r&&(clearTimeout(r),r=null)},C=B=>{if(!n()){console.warn("Touch start: No dialog element");return}if(t.dialogState!=="opened"){console.warn(`Touch start: Invalid sidebar state: ${t.dialogState}`);return}h=B.touches[0].clientX,p=B.touches[0].clientY,w=performance.now(),m=!0,_=!1},y=B=>t.dialogState==="opened"&&B>0||t.dialogState==="swiping"&&B>0,O=B=>{if(n()){n().style.setProperty("--transition-timing","0s"),t.onSwipe(),navigator.vibrate&&navigator.vibrate(10);try{const H=window.getComputedStyle(n()),K=H.transform||H.webkitTransform||"";if(k=n().offsetWidth,(t.dialogState==="swiping"||t.dialogState==="opened")&&(b=0),K&&K!=="none")try{b=new DOMMatrix(K).m41}catch{console.warn("Could not parse transform matrix, using default position")}_=!0}catch(H){console.error("Error during swipe initialization:",H),E()}}},A=()=>{if(!n())return;const H=Math.abs(b+S*k/100)/k;n().style.setProperty("--backdrop-bg",`rgba(0, 0, 0, ${.1*(1-H)})`)},I=()=>{if(i=null,!a||!m||!n()||Tn()){E();return}const B=a.touches[0].clientX,H=a.touches[0].clientY,K=B-h,ae=H-p,R=Math.abs(K)>Math.abs(ae),Q=Math.abs(K)>l;if(!_)if(R&&Q&&y(K))try{O(K)}catch(Dn){console.error("Error initializing swipe:",Dn),E();return}else return;if(!y(K))return;n().style.setProperty("--transition-timing","0s");let $=b+K*g;$=Math.max(0,Math.min(k,$)),n().style.transform=`translate3d(${$}px, 0, 0)`,ce.swipingRatio=Math.abs(1-$/k),S=($-b)/k*100,t.dialogState==="swiping"&&(r&&clearTimeout(r),r=setTimeout(o,3e3)),A()},P=B=>{if(!m)return;a=B,i===null&&(i=requestAnimationFrame(I));const H=B.touches[0].clientX-h,K=B.touches[0].clientY-p,ae=Math.abs(H)>Math.abs(K);_&&ae&&B.preventDefault()},V=B=>{const H=Math.abs(B);if(H>=f)return d;if(H>=v){const K=(H-v)/(f-v);return c-K*(c-d)}else return c},M=(B,H)=>{if(Math.abs(B)>=f)return u*.5;const ae=Math.abs(S)/100;return H?u*Math.max(.5,1-ae):u*Math.max(.5,ae)},U=B=>{var $,_e;if(i!==null&&(cancelAnimationFrame(i),i=null),!m||!n()){E();return}if(!_){E();return}let H=0;if(($=B==null?void 0:B.changedTouches)!=null&&$[0]){const Me=B.changedTouches[0].clientX,Ln=performance.now()-w;Ln>0&&(H=(Me-h)/Ln)}const K=V(H);let ae=null;t.dialogState==="swiping"&&(ae=Math.abs(S)>K||H<-.3?"close":"open");const R=t.dialogState==="swiping"&&ae==="close",Q=M(H,R);ce.duration=Q-.02,n().style.setProperty("--transition-timing",`${Q}s`),n().offsetWidth,n().style.transform="",ae==="open"?t.onOpen():ae==="close"&&t.onClose(),(_e=n())==null||_e.style.removeProperty("--backdrop-bg"),E()};ye(()=>(n().addEventListener("touchstart",C,{passive:!0}),n().addEventListener("touchmove",P,{passive:!1}),n().addEventListener("touchend",U,{passive:!0}),n().addEventListener("touchcancel",U,{passive:!0}),()=>{n().removeEventListener("touchstart",C),n().removeEventListener("touchmove",P),n().removeEventListener("touchend",U),n().removeEventListener("touchcancel",U),i!==null&&cancelAnimationFrame(i)})),X()}var Fo=(e,t)=>{t.onStartClose()},zo=z('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),Ho=z('<dialog><div class="dialogInner svelte-1kz0rp4"><span tabindex="1"></span> <!> <div class="header svelte-1kz0rp4"><div><!></div></div></div></dialog> <!>',1);function Uo(e,t){W(t,!0);let n=350,r=F(null),o=F(null);const a=m=>{m.preventDefault(),t.onStartClose()};ye(()=>{var m,_;return console.log("swiping mounted"),(m=s(r))==null||m.addEventListener("close",t.onClosed),(_=s(r))==null||_.addEventListener("cancel",a),()=>{var b,k;(b=s(r))==null||b.removeEventListener("close",t.onClosed),(k=s(r))==null||k.removeEventListener("cancel",a)}});const i=()=>{var m,_,b;(m=s(r))==null||m.style.removeProperty("--transition-timing"),(_=s(r))==null||_.style.removeProperty("transform"),(b=s(r))==null||b.style.removeProperty("--backdrop-bg")};ue(()=>{var m,_;if(t.dialogState,!!s(r))switch(t.dialogState){case"opening":{s(r).open||s(r).showModal(),s(r).getBoundingClientRect();const b=setTimeout(()=>{i()},n+1),k=()=>{clearTimeout(b),i()};return(m=s(r))==null||m.addEventListener("transitionend",k,{once:!0}),t.onOpened(),()=>{var S;(S=s(r))==null||S.removeEventListener("transitionend",k)}}case"closing":{const b=setTimeout(()=>{t.dialogState==="closing"&&t.onClosed()},n+1),k=()=>{clearTimeout(b),t.onClosed()};return(_=s(r))==null||_.addEventListener("transitionend",k,{once:!0}),()=>{var S;(S=s(r))==null||S.removeEventListener("transitionend",k)}}case"opened":i()}});var l=Ho(),c=q(l),d=T(c),f=x(T(d),2);Fe(f,()=>t.children);var v=x(f,2),u=T(v),g=T(u);{var h=m=>{var _=zo();Z(_,1,te(["navigateButton","buttonBack"]),"svelte-1kz0rp4"),_.__click=[Fo,t];var b=T(_);Pe(b,()=>({"--size":"20px"})),Ee(b.lastChild,{name:"back"});var k=x(b,2);nt(k,{children:(S,E)=>{var C=le("back");D(S,C)}}),D(m,_)};j(g,m=>{t.blocked||t.hidden||m(h)})}ge(d,m=>L(o,m),()=>s(o)),ge(c,m=>L(r,m),()=>s(r));var p=x(c,2);{var w=m=>{No(m,{get onClose(){return t.onStartClose},get onOpen(){return t.onStartOpen},get onSwipe(){return t.onSwipe},get dialogState(){return t.dialogState},get dialog(){return s(r)}})};j(p,m=>{(t.dialogState==="opened"||t.dialogState==="swiping")&&!t.blocked&&m(w)})}oe(()=>Z(c,1,te([{open:t.dialogState==="opened",hidden:t.hidden,isAnimationOn:ce.working&&(!ce.isSwiping||!t.hidden)},{hidden:t.hidden}]),"svelte-1kz0rp4")),D(e,l),X()}ke(["click"]);const Vn=(e,t)=>{if(!t)return e;if(t.type==="closed")return{type:"closed"};switch(e.type){case"opened":return t.type==="close"?{type:"closing"}:t.type==="swipe"?{type:"swiping"}:e;case"closed":return t.type==="open"?{type:"opening"}:e;case"swiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"opening":return t.type==="opened"?{type:"opened"}:e;default:return e}};function jo(e,t){W(t,!0);let n=Y(t,"blocked",3,!1),r=Y(t,"hiddenDialog",3,!1),o=Y(t,"onStartClose",3,()=>{}),a=Y(t,"onClose",3,()=>{}),i=F(ie(Vn({type:"closed"})));const l=w=>{L(i,Vn(s(i),w),!0)},c=()=>{n()||(o()(),l({type:"close"}))},d=()=>{n()||l({type:"open"})},f=()=>{l({type:"opened"}),ce.duration=.2},v=()=>{a()(),l({type:"closed"}),ce.swipingRatio=1,ce.duration=.2},u=()=>{l({type:"swipe"})};ue(()=>{s(i).type==="swiping"?ce.isSwiping=!0:ce.isSwiping=!1,s(i).type==="closed"&&t.shownDialog?d():s(i).type==="opened"&&!t.shownDialog&&c()});var g=he(),h=q(g);{var p=w=>{Uo(w,{onSwipe:u,onOpened:f,onClosed:v,onStartClose:c,onStartOpen:d,get dialogState(){return s(i).type},get hidden(){return r()},get blocked(){return n()},children:(m,_)=>{var b=he(),k=q(b);Fe(k,()=>t.children),D(m,b)},$$slots:{default:!0}})};j(h,w=>{s(i).type!=="closed"&&w(p)})}return D(e,g),X({handleComputeState:l})}const Vo=({getDialog:e,onOpen:t,onStartClose:n,onClose:r})=>{const o=i=>{i.preventDefault(),n()},a=()=>{r==null||r()};ye(()=>{const i=e();return i==null||i.addEventListener("close",a),i==null||i.addEventListener("cancel",o),()=>{i==null||i.removeEventListener("close",a),i==null||i.removeEventListener("cancel",o)}}),ye(()=>{const i=e();i==null||i.showModal(),i==null||i.getBoundingClientRect(),t()})};function Nr(e,t){W(t,!0),ye(()=>{const n=r=>{var o;r.target&&((o=t.dialog)!=null&&o.open)&&t.dialogInner&&t.dialogInner!==r.target&&!t.dialogInner.contains(r.target)&&t.onClose()};return document.addEventListener("mousedown",n,{capture:!0}),()=>{document.removeEventListener("mousedown",n,{capture:!0})}}),X()}var qo=(e,t)=>{t.onStartBack()},Yo=z('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),Wo=(e,t)=>{t.onStartClose()},Xo=z('<div><!></div> <div><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button></div>',1),Ko=z('<dialog><div class="dialogInner svelte-1th9ab7"><span tabindex="1"></span> <!> <div class="header svelte-1th9ab7"><!></div></div></dialog> <!>',1);function Go(e,t){W(t,!0);let n=Y(t,"blockedDialog",3,!1),r=Y(t,"hiddenDialog",3,!1),o=Y(t,"isDesktopAnimationOff",3,!1),a=F(null),i=F(null);Vo({getDialog:()=>s(a),onOpen:t.onOpen,onStartClose:t.onStartClose,onClose:t.onClose}),ue(()=>{var p,w;t.stateDialog==="closing"&&(ce.working?(p=s(a))==null||p.addEventListener("transitionend",()=>{var m;(m=s(a))==null||m.close()},{once:!0}):(w=s(a))==null||w.close())});var l=Ko(),c=q(l),d=T(c),f=x(T(d),2);Fe(f,()=>t.children);var v=x(f,2),u=T(v);{var g=p=>{var w=Xo(),m=q(w),_=T(m);{var b=y=>{var O=Yo();Z(O,1,te(["navigateButton","buttonBack"]),"svelte-1th9ab7"),O.__click=[qo,t];var A=T(O);Pe(A,()=>({"--size":"20px"})),Ee(A.lastChild,{name:"back"});var I=x(A,2);nt(I,{children:(P,V)=>{var M=le("back");D(P,M)}}),D(y,O)};j(_,y=>{t.onStartBack&&y(b)})}var k=x(m,2),S=T(k);Z(S,1,te(["navigateButton","buttonClose"]),"svelte-1th9ab7"),S.__click=[Wo,t];var E=T(S);Pe(E,()=>({"--size":"20px"})),Ee(E.lastChild,{name:"close"});var C=x(E,2);nt(C,{children:(y,O)=>{var A=le("close");D(y,A)}}),D(p,w)};j(u,p=>{n()||r()||p(g)})}ge(d,p=>L(i,p),()=>s(i)),ge(c,p=>L(a,p),()=>s(a));var h=x(c,2);Nr(h,{get dialog(){return s(a)},get dialogInner(){return s(i)},get onClose(){return t.onStartClose}}),oe(()=>Z(c,1,te([{open:t.stateDialog==="open",isAnimationOn:ce.working,isDesktopAnimationOff:o(),hiddenDialog:r()}]),"svelte-1th9ab7")),D(e,l),X()}ke(["click"]);const Jo=({onStartClose:e,onClose:t})=>{let n=F("close");return{get state(){return s(n)},set state(i){L(n,i,!0)},handleStartClose:(i=!1)=>{i||(L(n,"closing"),e==null||e())},handleOpen:()=>{L(n,"open")},handleClose:()=>{L(n,"close"),t==null||t()}}};function Zo(e,t){W(t,!0);let n=Y(t,"blockedDialog",3,!1),r=Y(t,"hiddenDialog",3,!1),o=Y(t,"onStartClose",3,()=>{}),a=Y(t,"onClose",3,()=>{}),i=Jo({onStartClose:o(),onClose:a()});ue(()=>{i.state==="close"&&t.shownDialog?i.state="opening":i.state==="open"&&!t.shownDialog&&i.handleStartClose(n())});var l=he(),c=q(l);{var d=f=>{Go(f,{get stateDialog(){return i.state},get blockedDialog(){return n()},get hiddenDialog(){return r()},get onOpen(){return i.handleOpen},get onStartBack(){return t.onStartBack},onStartClose:()=>i.handleStartClose(n()),get onClose(){return i.handleClose},children:(v,u)=>{var g=he(),h=q(g);Fe(h,()=>t.children),D(v,g)},$$slots:{default:!0}})};j(c,f=>{i.state!=="close"&&f(d)})}D(e,l),X()}function Fr(e,t){W(t,!0);let n=Y(t,"blockedDialog",3,!1),r=Y(t,"hiddenDialog",3,!1),o=Y(t,"isLastDialog",3,!1),a=Y(t,"onStartClose",3,()=>{}),i=Y(t,"onClose",3,()=>{});const l=ee(()=>o()?void 0:t.onStartBack);var c=he(),d=q(c);{var f=u=>{jo(u,{get shownDialog(){return t.shownDialog},get blocked(){return n()},get hiddenDialog(){return r()},get children(){return t.children},get onStartClose(){return t.onStartBack},get onClose(){return i()}})},v=u=>{Zo(u,{get shownDialog(){return t.shownDialog},get blockedDialog(){return n()},get hiddenDialog(){return r()},get children(){return t.children},get onStartBack(){return s(l)},get onStartClose(){return a()},get onClose(){return i()}})};j(d,u=>{Yt()?u(f):u(v,!1)})}D(e,c),X()}let zr=F(!1);const qn=e=>{L(zr,e,!0)},Yn=()=>s(zr);function Wn(e,t){W(t,!0);let n=Y(t,"blocked",3,!1),r=Y(t,"isLastDialog",3,!1),o=Y(t,"onBack",3,()=>{});const a=ee(()=>n()||t.hidden||Yn()),i=()=>{!s(a)&&t.shown&&(qt(),o()())},l=()=>{!s(a)&&t.shown&&Mr()},c=()=>{Br()},d=ee(()=>n()||t.hidden||Yn());Fr(e,{get shownDialog(){return t.shown},get blockedDialog(){return s(d)},get hiddenDialog(){return t.hidden},get isLastDialog(){return r()},onStartBack:i,onStartClose:l,onClose:c,children:(f,v)=>{var u=he(),g=q(u);Fe(g,()=>t.children),D(f,u)},$$slots:{default:!0}}),X()}const Hr=()=>crypto.randomUUID(),ln=(e,t,n,r=new Set,o={})=>{var a,i;for(const l of e.children)if(l.tagName==="DT"){const c=l.querySelector(":scope > A"),d=l.querySelector(":scope > H3");if(c){const f=c.getAttribute("href"),v=c.textContent||"unknown";if(!f)return n;const u=t.find(g=>g.toLowerCase()==="bookmarks bar")?t.filter(g=>g.toLowerCase()!=="bookmarks bar"):["other"];if(o[f])o[f].tags=[...new Set([...o[f].tags,...u])];else{const g={id:Hr(),order:n.length,url:f,title:v,description:"",tags:u.length>0?u:[],lastUpdatedTimestamp:Date.now(),createdTimestamp:Date.now()};o[g.url]=g,n.push(g)}}else if(d){const f=(a=d.textContent)==null?void 0:a.trim();if(f&&((i=d.nextElementSibling)==null?void 0:i.tagName)==="DL"){const v=[...t];v.push(f);const u=d.nextElementSibling;r.has(u)||(r.add(u),ln(u,v,n,r,o))}}}else l.tagName!=="DL"&&l.children.length>0&&(r.has(l)||(r.add(l),ln(l,[...t],n,r,o)));return n},Qo=async e=>{const t=await e.text(),o=new DOMParser().parseFromString(t,"text/html").querySelector("DL");return o?ln(o,[],[]):[]},$o=e=>{const t=Math.floor(Date.now()/1e3),n={};e.forEach(o=>{const a=o.tags||["Imported"];if(a.length===0){n.ROOT||(n.ROOT=[]),n.ROOT.push(o);return}a.forEach(i=>{n[i]||(n[i]=[]),n[i].push(o)})});let r=`<!DOCTYPE NETSCAPE-Bookmark-file-1>
<!-- This is an automatically generated file.
 It will be read and overwritten.
 DO NOT EDIT! -->
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8">
<TITLE>Bookmarks</TITLE>
<H1>Bookmarks</H1>
<DL><p>
<DT><H3 ADD_DATE="${t}" LAST_MODIFIED="${t}" PERSONAL_TOOLBAR_FOLDER="true">Bookmarks Bar</H3>
<DL><p>`;return Object.keys(n).forEach(o=>{o!=="ROOT"&&o!=="other"&&(r+=`
	<DT><H3 ADD_DATE="${t}" LAST_MODIFIED="${t}">${o}</H3>
	<DL><p>`,n[o].forEach(a=>{const i=a.title.replace(/"/g,"&quot;");r+=`
		<DT><A HREF="${a.url}" ADD_DATE="${Math.floor(a.createdTimestamp/1e3)||t}">${i}</A>`}),r+=`
	</DL><p>`)}),n.ROOT&&n.ROOT.forEach(o=>{const a=o.title.replace(/"/g,"&quot;");r+=`
	<DT><A HREF="${o.url}" ADD_DATE="${Math.floor(o.createdTimestamp/1e3)||t}">${a}</A>`}),r+=`
</DL><p>`,n.other&&n.other.forEach(o=>{const a=o.title.replace(/"/g,"&quot;");r+=`
	<DT><A HREF="${o.url}" ADD_DATE="${Math.floor(o.createdTimestamp/1e3)||t}">${a}</A>`}),r+="</DL><p>",r},ei="bookmarksStore",ti=1,Te="bookmarks";let se;window.addEventListener("unhandledrejection",e=>{alert("Error: "+e.reason.message)});const ni=()=>new Promise((e,t)=>{const n=indexedDB.open(ei,ti);n.addEventListener("upgradeneeded",()=>{const r=n.result;console.log("success upgradeneeded"),r.objectStoreNames.contains(Te)||r.createObjectStore(Te,{keyPath:"id"})}),n.addEventListener("success",()=>{console.log("success open"),e(),se=n.result,se.onversionchange=function(){se==null||se.close(),alert("app outdated, please reload the page")}}),n.addEventListener("blocked",()=>{t(),alert("app outdated, please reload the page")}),n.addEventListener("error",()=>{t(),console.error("Error",n.error)})}),Ur=()=>new Promise((e,t)=>{const n=se==null?void 0:se.transaction(Te,"readonly"),r=n==null?void 0:n.objectStore(Te).getAll();r==null||r.addEventListener("success",()=>{const o=r.result;e(o)}),r==null||r.addEventListener("error",()=>{t()})}),jr=async e=>new Promise((t,n)=>{const r=se==null?void 0:se.transaction(Te,"readwrite"),o=r==null?void 0:r.objectStore(Te),a=o==null?void 0:o.put({...e});a==null||a.addEventListener("success",()=>{t()}),a==null||a.addEventListener("error",()=>{n()})}),ri=async e=>new Promise((t,n)=>{const r=se==null?void 0:se.transaction(Te,"readwrite"),o=r==null?void 0:r.objectStore(Te),a=o==null?void 0:o.delete(e);a==null||a.addEventListener("success",()=>{t()}),a==null||a.addEventListener("error",()=>{n()})}),ai=()=>new Promise((e,t)=>{const n=se==null?void 0:se.transaction(Te,"readwrite"),r=n==null?void 0:n.objectStore(Te),o=r==null?void 0:r.clear();o==null||o.addEventListener("success",()=>{e()}),o==null||o.addEventListener("error",()=>{t()})}),oi=async()=>{await ai()},ii=async e=>{const t=(await Ur()).reduce((a,i)=>(a[i.id]=i,a),{}),n={},r=se==null?void 0:se.transaction(Te,"readwrite"),o=r==null?void 0:r.objectStore(Te);e.forEach(a=>{t[a.id]?t[a.id].lastUpdatedTimestamp<a.lastUpdatedTimestamp&&(n[a.id]=a):n[a.id]=a}),await Promise.all(Object.values(n).map(a=>{const i=o==null?void 0:o.put(a);return new Promise((l,c)=>{i==null||i.addEventListener("success",()=>{l()}),i==null||i.addEventListener("error",()=>{c()})})}))};let re=F({inited:!1,bookmarks:[],mapBookmarks:new Map});const Vr=async()=>{const e=await Ur(),t=new Map,n=[];e.forEach(r=>{n[r.order]=r,t.set(r.id,r)}),L(re,{...s(re),bookmarks:n,mapBookmarks:t,inited:!0})};ni().then(async()=>{await Vr()}).catch(()=>{console.error("failed to init db")});const Bt=()=>s(re).inited,qr=()=>s(re).bookmarks,si=()=>s(re).mapBookmarks,li=async e=>{var n;const t={id:Hr(),order:(((n=s(re).bookmarks.at(-1))==null?void 0:n.order)||s(re).bookmarks.length)+1,createdTimestamp:Date.now(),...e,lastUpdatedTimestamp:Date.now()};s(re).bookmarks.push(t),s(re).mapBookmarks.set(t.id,t),L(re,{...s(re)}),await jr(t)},ci=async e=>{const t={...e,lastUpdatedTimestamp:Date.now()};s(re).bookmarks[t.order]=t,s(re).mapBookmarks.set(t.id,t),L(re,{...s(re)}),await jr(t)},ui=async e=>{const t=s(re).mapBookmarks.get(e);s(re).mapBookmarks.delete(e),s(re).bookmarks[(t==null?void 0:t.order)||0]=void 0,L(re,{...s(re)}),await ri(e)},di=async()=>{L(re,{inited:!1,bookmarks:[],mapBookmarks:new Map}),await oi()},fi=async(e="bookmarks-export.json")=>{const t=JSON.stringify({bookmarks:s(re).bookmarks}),n=new Blob([t],{type:"application/json"}),r=URL.createObjectURL(n),o=document.createElement("a");o.href=r,o.download=e,document.body.appendChild(o),o.click(),setTimeout(()=>{document.body.removeChild(o),URL.revokeObjectURL(r)},0)},Xn=async e=>{await ii(e),await Vr()};let Yr=F({});const Wr=()=>s(Yr),vi=e=>{L(Yr,e)};var hi=z('<input class="svelte-wip592">');function cn(e,t){W(t,!0);let n=Y(t,"value",15,"");var r=hi();oe(()=>Se(r,"placeholder",t.placeholder)),Sn(r,n),D(e,r),X()}function gi(e,t){W(t,!0);let n=Y(t,"dialog",7);const r=3,o=50,a=5,i=.6,l=.3,c=.35,d=.95;let f=0,v=0,u=0,g=!1,h=!1,p=0,w=0,m=0;const _=()=>{f=0,v=0,g=!1,h=!1,p=0,w=0,m=0,u=0,b!==null&&(cancelAnimationFrame(b),b=null),k=null};let b=null,k=null;const S=M=>{if(!n()){console.warn("Touch start: No dialog element");return}if(t.sidebarState!=="opened"&&t.sidebarState!=="closed"){console.warn(`Touch start: Invalid sidebar state: ${t.sidebarState}`);return}f=M.touches[0].clientX,v=M.touches[0].clientY,u=performance.now(),g=!0,h=!1},E=M=>t.sidebarState==="closed"&&M>0||t.sidebarState==="closeSwiping"&&M>0||t.sidebarState==="opened"&&M<0||t.sidebarState==="openSwiping"&&M<0,C=M=>{if(n()){if(n().style.setProperty("--transition-timing","0s"),!n().open&&t.sidebarState==="closed")try{n().showModal(),n().offsetWidth}catch(U){console.error("Error opening dialog:",U);return}t.onSwipe();try{const U=window.getComputedStyle(n()),B=U.transform||U.webkitTransform||"";if(w=n().offsetWidth,t.sidebarState==="closeSwiping"||t.sidebarState==="closed"?p=-w:(t.sidebarState==="openSwiping"||t.sidebarState==="opened")&&(p=0),B&&B!=="none")try{p=new DOMMatrix(B).m41}catch{console.warn("Could not parse transform matrix, using default position")}h=!0}catch(U){console.error("Error during swipe initialization:",U),_()}}},y=()=>{if(!n())return;const U=Math.abs(p+m*w/100)/w;n().style.setProperty("--backdrop-bg",`rgba(0, 0, 0, ${.25*(1-U)})`)},O=()=>{if(b=null,!k||!g||!n()||Tn())return;const{x:M,y:U}=k;k=null;const B=M-f,H=U-v,K=Math.abs(B)>Math.abs(H),ae=Math.abs(B)>r;if(!h)if(K&&ae&&E(B))try{C(B)}catch(_e){console.error("Error initializing swipe:",_e),_();return}else return;if(!E(B))return;n().style.setProperty("--transition-timing","0s");let R=p+B*d;const Q=-w;R=Math.max(Q,Math.min(0,R)),n().style.transform=`translate3d(${R}px, 0, 0)`,m=(R-p)/w*100,y()},A=M=>{if(!g)return;const U=M.touches[0].clientX,B=M.touches[0].clientY;k={x:U,y:B},b===null&&(b=requestAnimationFrame(O)),h&&Math.abs(U-f)>Math.abs(B-v)&&M.preventDefault()},I=M=>{const U=Math.abs(M);if(U>=i)return a;if(U>=l){const B=(U-l)/(i-l);return o-B*(o-a)}else return o},P=(M,U)=>{if(Math.abs(M)>=i)return c*.5;const H=Math.abs(m)/100;return U?c*Math.max(.5,1-H):c*Math.max(.5,H)},V=M=>{var R,Q;if(b!==null&&(cancelAnimationFrame(b),b=null),k=null,!g||!n()){_();return}if(!h){_();return}let U=0;if((R=M==null?void 0:M.changedTouches)!=null&&R[0]){const $=M.changedTouches[0].clientX,Me=performance.now()-u;Me>0&&(U=($-f)/Me)}const B=I(U);let H=null;t.sidebarState==="closeSwiping"?H=Math.abs(m)>B||U>l?"open":"close":t.sidebarState==="openSwiping"&&(H=Math.abs(m)>B||U<-.3?"close":"open");const K=t.sidebarState==="closeSwiping"&&H==="open"||t.sidebarState==="openSwiping"&&H==="close",ae=P(U,K);n().style.setProperty("--transition-timing",`${ae}s`),n().offsetWidth,n().style.transform="",H==="open"?t.onOpen():H==="close"&&t.onClose(),(Q=n())==null||Q.style.removeProperty("--backdrop-bg"),_()};ye(()=>(document.addEventListener("touchstart",S,{passive:!0}),document.addEventListener("touchmove",A,{passive:!1}),document.addEventListener("touchend",V,{passive:!0}),document.addEventListener("touchcancel",V,{passive:!0}),()=>{document.removeEventListener("touchstart",S),document.removeEventListener("touchmove",A),document.removeEventListener("touchend",V),document.removeEventListener("touchcancel",V),b!==null&&cancelAnimationFrame(b)})),X()}var pi=z('<dialog><div class="dialogInner svelte-1in1s0g"><!></div></dialog> <!> <!>',1);function _i(e,t){W(t,!0);let n=350,r=F(null),o=F(null),a=ee(Pr);const i=()=>{t.blocked||qe({type:"close"})},l=()=>{t.blocked||qe({type:"open"})},c=()=>{qe({type:"opened"})},d=()=>{qe({type:"closed"})},f=()=>{qe({type:"swipe"})},v=E=>{E.preventDefault(),i()};ye(()=>{var E,C;return(E=s(r))==null||E.addEventListener("close",d),(C=s(r))==null||C.addEventListener("cancel",v),()=>{var y,O;(y=s(r))==null||y.removeEventListener("close",d),(O=s(r))==null||O.removeEventListener("cancel",v)}});const u=()=>{var E,C,y;(E=s(r))==null||E.style.removeProperty("--transition-timing"),(C=s(r))==null||C.style.removeProperty("transform"),(y=s(r))==null||y.style.removeProperty("--backdrop-bg")};ue(()=>{var E,C,y;if(s(a),console.log(s(a).type),!!s(r))switch(s(a).type){case"closeSwiping":{const O=setTimeout(()=>{i()},3e3);return()=>{clearTimeout(O)}}case"openSwiping":{const O=setTimeout(()=>{l()},3e3);return()=>{clearTimeout(O)}}case"opening":{s(r).open||s(r).showModal(),s(r).getBoundingClientRect();const O=setTimeout(()=>{u()},n+1),A=()=>{clearTimeout(O),u()};return(E=s(r))==null||E.addEventListener("transitionend",A,{once:!0}),c(),()=>{var I;(I=s(r))==null||I.removeEventListener("transitionend",A)}}case"closing":{const O=setTimeout(()=>{s(a).type==="closing"&&d()},n+1),A=()=>{clearTimeout(O),d()};return(C=s(r))==null||C.addEventListener("transitionend",A,{once:!0}),()=>{var I;(I=s(r))==null||I.removeEventListener("transitionend",A)}}case"closed":(y=s(r))==null||y.close(),u();break;case"opened":u();break}});var g=pi(),h=q(g),p=T(h),w=T(p);{var m=E=>{var C=he(),y=q(C);Fe(y,()=>t.children),D(E,C)};j(w,E=>{s(a).type!=="closed"&&E(m)})}ge(p,E=>L(o,E),()=>s(o)),ge(h,E=>L(r,E),()=>s(r));var _=x(h,2);{var b=E=>{Nr(E,{get dialog(){return s(r)},get dialogInner(){return s(o)},onClose:i})};j(_,E=>{s(a).type==="opened"&&!t.blocked&&E(b)})}var k=x(_,2);{var S=E=>{gi(E,{onClose:i,onOpen:l,onSwipe:f,get sidebarState(){return s(a).type},get dialog(){return s(r)}})};j(k,E=>{(s(a).type==="closed"||s(a).type==="opened"||s(a).type==="openSwiping"||s(a).type==="closeSwiping")&&!t.blocked&&E(S)})}oe(()=>Z(h,1,te([{open:s(a).type==="opened",hidden:t.blocked,isAnimationOn:ce.working&&(!ce.isSwiping||!t.blocked)}]),"svelte-1in1s0g")),D(e,g),X()}var mi=z("<button> </button>");function We(e,t){var n=mi();n.__click=function(...o){var a;(a=t.onClick)==null||a.apply(this,o)};var r=T(n);oe(()=>{Se(n,"type",t.type),Z(n,1,te([{selectedTag:t.style==="selected"}]),"svelte-ep3nju"),it(r,t.title)}),D(e,n)}ke(["click"]);const wi=e=>{e.preventDefault(),st("settings")};var yi=z("<div></div>"),ki=z('<div class="sidebarFixed svelte-nyix1t"><div class="nav svelte-nyix1t"><!> <a class="link svelte-nyix1t"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Settings</span></a></div> <div class="searchWrapper svelte-nyix1t"><!></div> <!></div> <div class="tags svelte-nyix1t"></div>',1),bi=z("<div></div>"),Si=z('<div class="sidebar svelte-nyix1t"><div class="sidebarFixed svelte-nyix1t"><div class="searchWrapper svelte-nyix1t"><!></div> <!></div> <div class="tags svelte-nyix1t"></div></div>');function Ei(e,t){W(t,!0);let n=F(""),r=ee(()=>{var h;return((h=new URLSearchParams(N.search).get("selectedTags"))==null?void 0:h.split(","))||[]});const o=()=>{const h=Re();h.includes("settings")||h.push("settings");const p=new URLSearchParams(N.search);return p.set("stackPages",h.join(",")),`${N.pathname}?${p}`},a=h=>{const p=new URLSearchParams(N.search);p.set("selectedTags",[...s(r),h].join(",")),on(`${N.pathname}${p.size>0?`?${p.toString()}`:""}`),L(n,"")},i=h=>{const p=new URLSearchParams(N.search),w=s(r).filter(m=>m!==h);w.length===0?p.delete("selectedTags"):p.set("selectedTags",w.join(",")),on(`${N.pathname}${p.size>0?`?${p.toString()}`:""}`)};let l=ee(()=>Bt()?Object.values(Wr()).filter(h=>!s(r).some(p=>h.name===p)):[]),c=ee(o),d=ee(()=>Re().length>0);var f=he(),v=q(f);{var u=h=>{_i(h,{get blocked(){return s(d)},children:(p,w)=>{var m=ki(),_=q(m),b=T(_),k=T(b);Or(k,{});var S=x(k,2);S.__click=[wi];var E=T(S);Pe(E,()=>({"--size":"20px"})),Ee(E.lastChild,{name:"settings"});var C=x(b,2),y=T(C);cn(y,{placeholder:"Search tag",get value(){return s(n)},set value(P){L(n,P,!0)}});var O=x(C,2);{var A=P=>{var V=yi();Z(V,1,te(["tags","selectedTags"]),"svelte-nyix1t"),Ue(V,20,()=>s(r),M=>M,(M,U)=>{We(M,{get title(){return U},onClick:()=>i(U),style:"selected"})}),D(P,V)};j(O,P=>{s(r).length>0&&P(A)})}var I=x(_,2);Ue(I,21,()=>s(l),P=>P.name,(P,V)=>{var M=he(),U=q(M);{var B=H=>{We(H,{get title(){return s(V).name},onClick:()=>a(s(V).name)})};j(U,H=>{(s(n)===""||s(V).name.toLowerCase().indexOf(s(n).toLowerCase())!==-1)&&H(B)})}D(P,M)}),oe(()=>Se(S,"href",s(c))),D(p,m)},$$slots:{default:!0}})},g=h=>{var p=Si(),w=T(p),m=T(w),_=T(m);cn(_,{placeholder:"Search tag",get value(){return s(n)},set value(E){L(n,E,!0)}});var b=x(m,2);{var k=E=>{var C=bi();Z(C,1,te(["tags","selectedTags"]),"svelte-nyix1t"),Ue(C,20,()=>s(r),y=>y,(y,O)=>{We(y,{get title(){return O},onClick:()=>i(O),style:"selected"})}),D(E,C)};j(b,E=>{s(r).length>0&&E(k)})}var S=x(w,2);Ue(S,21,()=>s(l),E=>E.name,(E,C)=>{var y=he(),O=q(y);{var A=I=>{We(I,{get title(){return s(C).name},onClick:()=>a(s(C).name)})};j(O,I=>{(s(n)===""||s(C).name.toLowerCase().indexOf(s(n).toLowerCase())!==-1)&&I(A)})}D(E,y)}),D(h,p)};j(v,h=>{Yt()?h(u):h(g,!1)})}D(e,f),X()}ke(["click"]);var Ti=z('<div class="input-container svelte-hz572l"><input> <div class="error-message svelte-hz572l"><!></div></div>');function Qt(e,t){W(t,!0);let n=Y(t,"value",15,""),r=Y(t,"error",3,"");var o=Ti(),a=T(o);a.__input=function(...f){var v;(v=t.onInput)==null||v.apply(this,f)};let i;var l=x(a,2),c=T(l);{var d=f=>{var v=le();oe(()=>it(v,r())),D(f,v)};j(c,f=>{r()&&f(d)})}oe(f=>{Se(a,"placeholder",t.placeholder),i=Z(a,1,"svelte-hz572l",null,i,f)},[()=>({error:!!r()})]),Ye("blur",a,function(...f){var v;(v=t.onBlur)==null||v.apply(this,f)}),Ye("focus",a,function(...f){var v;(v=t.onFocus)==null||v.apply(this,f)}),Sn(a,n),D(e,o),X()}ke(["input"]);var Ci=z("<div></div>"),Di=z('<form class="svelte-28zq6m"><!> <!> <textarea placeholder="notes" class="svelte-28zq6m"></textarea> <div class="boxtags"><div class="sidebarFixed"><!></div> <div class="tags svelte-28zq6m"><!> <!></div> <div class="searchWrapper svelte-28zq6m"><!></div></div> <button class="buttonSubmit svelte-28zq6m" type="submit"> </button></form>');function Xr(e,t){W(t,!0);let n=Y(t,"initialTitle",3,""),r=Y(t,"initialUrl",3,""),o=Y(t,"initialDescription",3,""),a=Y(t,"initialTags",19,()=>[]),i=Y(t,"mode",3,"add"),l=F(""),c=F(ie(n())),d=F(ie(r())),f=F(ie(o())),v=F(ie(a().filter(R=>R!=="inbox")));const u=R=>{s(v).includes(R)||L(v,[...s(v),R],!0)},g=R=>{const Q=s(v).filter($=>$!==R);Q.length===0?L(v,[],!0):L(v,Q,!0)};let h=ee(()=>Bt()?[...qr().reduce((R,Q)=>(Q==null||Q.tags.forEach($=>{R.has($)||R.add($)}),R),new Set)]:[]),p=ee(()=>Bt()?s(h).filter(R=>!s(v).some(Q=>R===Q)&&R!=="inbox"):[]),w=ee(()=>s(p).find(R=>R.toLowerCase()===s(l).toLowerCase())||s(v).includes(s(l))),m=ee(()=>s(p).filter(R=>s(l)===""?!0:R.toLowerCase().indexOf(s(l).toLowerCase())!==-1).slice(0,s(w)||s(l)===""?3:2));const _=R=>{R.preventDefault(),t.onSubmit({title:s(c).trim().slice(0,256)||"unkwown",url:s(d).trim().slice(0,2048),description:s(f).trim().slice(0,2048),tags:s(v).length>0?s(v):["inbox"]})};var b=Di(),k=T(b);Qt(k,{placeholder:"url",get value(){return s(d)},set value(R){L(d,R,!0)}});var S=x(k,2);Qt(S,{placeholder:"title",get value(){return s(c)},set value(R){L(c,R,!0)}});var E=x(S,2),C=x(E,2),y=T(C),O=T(y);{var A=R=>{var Q=Ci();Z(Q,1,te(["tags","selectedTags"]),"svelte-28zq6m"),Ue(Q,20,()=>s(v),$=>$,($,_e)=>{We($,{get title(){return _e},onClick:()=>g(_e),type:"button",style:"selected"})}),D(R,Q)};j(O,R=>{s(v).length>0&&R(A)})}var I=x(y,2),P=T(I);{var V=R=>{var Q=he(),$=q(Q);Ue($,16,()=>s(m),_e=>_e,(_e,Me)=>{We(_e,{get title(){return Me},onClick:()=>u(Me)})}),D(R,Q)};j(P,R=>{s(l)!==""&&R(V)})}var M=x(P,2);{var U=R=>{We(R,{get title(){return s(l)},onClick:()=>{u(s(l)),L(l,"")}})};j(M,R=>{!s(w)&&s(l)!==""&&R(U)})}var B=x(I,2),H=T(B);Qt(H,{placeholder:"search tag",get value(){return s(l)},set value(R){L(l,R,!0)}});var K=x(C,2),ae=T(K);oe(()=>it(ae,i()==="add"?"add":"edit")),Ye("submit",b,_),Sn(E,()=>s(f),R=>L(f,R)),D(e,b),X()}function Li(e,t){W(t,!0);let n=F(!0);const r=()=>{t.onClose()},o=()=>{L(n,!1)},a=({title:i,url:l,description:c,tags:d})=>{ci({...t.bookmark,title:i,url:l,description:c,tags:d.map(f=>f.trim())}),o()};Fr(e,{get shownDialog(){return s(n)},onClose:r,children:(i,l)=>{Xr(i,{get initialTitle(){return t.bookmark.title},get initialUrl(){return t.bookmark.url},get initialDescription(){return t.bookmark.description},get initialTags(){return t.bookmark.tags},onSubmit:a,mode:"edit"})},$$slots:{default:!0}}),X()}const xi=(e,t,n)=>{const r=Wr();t.bookmark.tags.forEach(o=>{if(s(n).includes(o)&&r[o].connections===1){const a=new URLSearchParams(N.search),i=s(n).filter(l=>l!==o);i.length===0?a.delete("selectedTags"):a.set("selectedTags",i.join(",")),Lo(`${N.pathname}${a.size>0?`?${a.toString()}`:""}`)}}),ui(t.bookmark.id)},Pi=(e,t)=>{L(t,!0)},Oi=(e,t,n)=>{L(t,!1),L(n,!0)},Ai=(e,t)=>{navigator.clipboard.writeText(t.bookmark.url),_o("Link copied to clipboard")};var Mi=z('<li class="bookmark svelte-w2wdui"><div class="bookmarkTitle svelte-w2wdui"><img class="bookmarkIcon" height="16" width="16" alt="icon"> <a class="bookmarkLink svelte-w2wdui" target="_blank" rel="noopener noreferrer"> </a></div> <div><button class="button svelte-w2wdui"><!> <!></button> <div><button class="menuButton svelte-w2wdui">Edit</button> <button class="menuButton svelte-w2wdui">Delete</button></div> <button><!> <!></button></div></li> <!>',1);function Bi(e,t){W(t,!0);let n=ee(()=>{var P;return((P=new URLSearchParams(N.search).get("selectedTags"))==null?void 0:P.split(","))||[]}),r=F(!1),o=F(!1),a=F(null),i=F(null);const l=P=>{var V,M;P.target!==s(i)&&P.target!==s(a)&&!((V=s(a))!=null&&V.contains(P.target))&&!((M=s(i))!=null&&M.contains(P.target))&&L(r,!1)},c=()=>{L(o,!1)};ue(()=>(document.addEventListener("click",l),()=>{document.removeEventListener("click",l)}));const d=P=>{try{return`https://www.google.com/s2/favicons?domain=${new URL(P).host}&sz=32`}catch{return""}};var f=Mi(),v=q(f),u=T(v),g=T(u),h=x(g,2),p=T(h),w=x(u,2),m=T(w);m.__click=[Ai,t];var _=T(m);Ee(_,{name:"copy"});var b=x(_,2);nt(b,{children:(P,V)=>{var M=le("copy link");D(P,M)}});var k=x(m,2),S=T(k);S.__click=[Oi,r,o];var E=x(S,2);E.__click=[xi,t,n],ge(k,P=>L(i,P),()=>s(i));var C=x(k,2);C.__click=[Pi,r],Z(C,1,te(["button","buttonMenu"]),"svelte-w2wdui");var y=T(C);Ee(y,{name:"menu"});var O=x(y,2);nt(O,{children:(P,V)=>{var M=le("show menu");D(P,M)}}),ge(C,P=>L(a,P),()=>s(a));var A=x(v,2);{var I=P=>{Li(P,{get bookmark(){return t.bookmark},onClose:c})};j(A,P=>{s(o)&&P(I)})}oe(P=>{Se(g,"src",P),Se(h,"href",t.bookmark.url),it(p,t.bookmark.title),Z(w,1,te(["bookmarkMenuWrapper",{bookmarkMenuWrapperActive:s(r)}]),"svelte-w2wdui"),Z(k,1,te(["bookmarkMenu",{bookmarkShownMenu:s(r)}]),"svelte-w2wdui")},[()=>d(t.bookmark.url)]),D(e,f),X()}ke(["click"]);const dt=ie({ref:null});var Ii=z('<div class="emptyMessage svelte-6cnb4o">No bookmarks found</div>'),Ri=z('<div class="searchWrapper svelte-6cnb4o"><!></div> <div class="feed svelte-6cnb4o"><ul class="svelte-6cnb4o"><!> <!></ul></div>',1);function Ni(e,t){W(t,!0);let n=F(null),r=44,o=F(0),a=F(0),i=F(ie([])),l=F(""),c=ee(()=>dt.ref),d=null;const f=ee(Co);ue(()=>{var y;s(l),s(f),(y=s(c))==null||y.scrollTo(0,0)});const v=()=>{d&&cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var O;const y=((O=s(c))==null?void 0:O.scrollTop)||0;L(a,Math.floor(y/r)*r)})},u=()=>{var y;v(),s(n)&&L(o,window.innerHeight-((y=s(n))==null?void 0:y.getBoundingClientRect().top))};ye(()=>{u(),v()}),ue(()=>{var y;return(y=s(c))==null||y.addEventListener("scroll",v),window.addEventListener("resize",u),()=>{var O;(O=s(c))==null||O.removeEventListener("scroll",v),window.removeEventListener("resize",u)}}),ue(()=>{const y=qr(),O=[],A={};for(let I=y.length-1;I>=0;I--){const P=y[I];if(P&&!(s(f).length&&s(f).some(V=>!P.tags.includes(V)))&&!(s(l)&&!(P.title.toLowerCase().includes(s(l).toLowerCase())||P.url.toLowerCase().includes(s(l).toLowerCase())))){if(P.tags)for(const V of P.tags)A[V]?A[V].connections++:A[V]={name:V,connections:1};O.push(P)}}vi(A),L(i,O,!0)});const g=ee(()=>s(i).length*r);let p=ee(()=>{const y=Math.ceil(s(o)/r),O=Math.floor(s(a)/r);return s(i).slice(O,O+y)});var w=Ri(),m=q(w),_=T(m);cn(_,{placeholder:"Search",get value(){return s(l)},set value(y){L(l,y,!0)}});var b=x(m,2),k=T(b),S=T(k);Ue(S,17,()=>s(p),y=>y.id,(y,O)=>{Bi(y,{get bookmark(){return s(O)}})});var E=x(S,2);{var C=y=>{var O=Ii();D(y,O)};j(E,y=>{s(p).length===0&&Bt()&&y(C)})}ge(k,y=>L(n,y),()=>s(n)),oe(y=>{Mt(b,`height: ${y??""}px`),Mt(k,`height: ${s(o)??""}px; transform: translateY(${s(a)??""}px)`)},[()=>Math.max(s(g),30)]),D(e,w),X()}var Fi=z('<!> <div class="content svelte-cu0ar8"><!></div>',1);function zi(e){var t=Fi(),n=q(t);Ei(n,{});var r=x(n,2),o=T(r);Ni(o,{}),D(e,t)}var Ve=(e=>(e.Light="light",e.System="system",e.Dark="dark",e))(Ve||{});let Kr=F(ie(localStorage.getItem("colorScheme")||"system"));const Hi=e=>{localStorage.setItem("colorScheme",e),e==="system"?window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.dataset.colorScheme="dark":document.documentElement.dataset.colorScheme="light":document.documentElement.dataset.colorScheme=e,L(Kr,e,!0)},Ui=()=>s(Kr);var ji=z('<div class="wrapper svelte-1ws2gu"><fieldset class="switcher svelte-1ws2gu"><legend class="vh svelte-1ws2gu">Color Scheme</legend> <input id="light" type="radio" aria-label="Light"> <label for="light" title="Light" aria-label="Light"></label> <input id="system" type="radio" aria-label="System"> <label for="system" title="System" aria-label="System"></label> <input id="dark" type="radio" aria-label="Dark"> <label for="dark" title="Dark" aria-label="Dark"></label> <div class="wrapSwitcherStatus svelte-1ws2gu"><div class="switcherStatus svelte-1ws2gu"></div></div></fieldset></div>');function Vi(e,t){W(t,!0);const n=ee(Ui),r=g=>{const h=g.target.value;Hi(h)},o="color-scheme-switcher";var a=ji(),i=T(a),l=x(T(i),2);Z(l,1,te(["vh","input"]),"svelte-1ws2gu"),Se(l,"name",o),l.__change=r;var c=x(l,2);Z(c,1,te(["switcherButton","light"]),"svelte-1ws2gu");var d=x(c,2);Z(d,1,te(["vh","input"]),"svelte-1ws2gu"),Se(d,"name",o),d.__change=r;var f=x(d,2);Z(f,1,te(["switcherButton","system"]),"svelte-1ws2gu");var v=x(f,2);Z(v,1,te(["vh","input"]),"svelte-1ws2gu"),Se(v,"name",o),v.__change=r;var u=x(v,2);return Z(u,1,te(["switcherButton","dark"]),"svelte-1ws2gu"),oe(()=>{Xt(l,Ve.Light),Kt(l,s(n)===Ve.Light),Xt(d,Ve.System),Kt(d,s(n)===Ve.System),Xt(v,Ve.Dark),Kt(v,s(n)===Ve.Dark)}),D(e,a),X({handleChange:r})}ke(["change"]);const qi=()=>{st("importBookmarks")},Yi=()=>{st("exportBookmarks")},Wi=()=>{st("clearStore")};var Xi=z('<div class="version svelte-3wf2id"><span> </span></div>'),Ki=z('<div class="svelte-3wf2id"><!> <ul class="svelte-3wf2id"><li class="svelte-3wf2id"><button class="button svelte-3wf2id"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-3wf2id">import bookmarks</span></button></li> <li class="svelte-3wf2id"><button class="button svelte-3wf2id"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-3wf2id">export bookmarks</span></button></li> <li class="svelte-3wf2id"><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-3wf2id">clear store</span></button></li></ul> <!></div>');function Gi(e,t){W(t,!0);let n=F("");ye(()=>{const m=new AbortController;return fetch("/build-metadata.json",{signal:m.signal}).then(_=>_.json()).then(_=>{L(n,`${_.buildHash}`)}),()=>{m.abort()}});var r=Ki(),o=T(r);Vi(o,{});var a=x(o,2),i=T(a),l=T(i);l.__click=[qi];var c=T(l);Pe(c,()=>({"--size":"20px"})),Ee(c.lastChild,{name:"import"});var d=x(i,2),f=T(d);f.__click=[Yi];var v=T(f);Pe(v,()=>({"--size":"20px"})),Ee(v.lastChild,{name:"export"});var u=x(d,2),g=T(u);g.__click=[Wi],Z(g,1,te(["button","clearButton"]),"svelte-3wf2id");var h=T(g);Pe(h,()=>({"--size":"20px"})),Ee(h.lastChild,{name:"trash"});var p=x(a,2);{var w=m=>{var _=Xi(),b=T(_),k=T(b);oe(()=>it(k,`version: 0.0.1 1745881490710 hash: ${s(n)??""}`)),D(m,_)};j(p,m=>{s(n)&&m(w)})}D(e,r),X()}ke(["click"]);function Ji(e,t){W(t,!1);const n=()=>{qt()},r=({title:o,url:a,description:i,tags:l})=>{li({title:o,url:a,description:i,tags:l.map(c=>c.trim())}),n()};En(),Xr(e,{onSubmit:r}),X()}var Zi=z('<button type="button"><!></button>');function xe(e,t){let n=Y(t,"type",3,"standard");var r=Zi();r.__click=function(...a){var i;(i=t.onClick)==null||i.apply(this,a)};var o=T(r);Fe(o,()=>t.children),oe(()=>Z(r,1,te(["button",{dangerous:n()==="dangerous"}]),"svelte-1e0i457")),D(e,r)}ke(["click"]);var Qi=z('<div class="loader svelte-1ygr46m"></div>');function Cn(e){var t=Qi();D(e,t)}const Kn=async(e,t)=>{const n=e.target;!n.files||n.files.length===0||await t(n.files[0])};var $i=z('<div class="mobileContainer svelte-iu5kqw"><!></div> <input type="file" accept=".json, .html" style="display: none;">',1),es=z('<div role="button" tabindex="0"><div class="dropzone-content svelte-iu5kqw"><p class="svelte-iu5kqw">Drag and drop your JSON file here</p> <p class="svelte-iu5kqw">or</p> <!></div> <input type="file" accept=".json, .html" style="display: none;"></div>'),ts=z('<p class="message svelte-iu5kqw">Select a file to import your bookmarks</p> <!>',1),ns=z('<p class="message svelte-iu5kqw">Importing bookmarks...</p> <!>',1),rs=z('<p class="message success svelte-iu5kqw">Bookmarks imported successfully!</p> <div class="buttonContainer svelte-iu5kqw"><!></div>',1),as=z('<p class="message error svelte-iu5kqw">Something went wrong</p> <div class="buttonContainer svelte-iu5kqw"><!></div>',1),os=z('<div class="content svelte-iu5kqw"><!></div>');function is(e,t){W(t,!0);let n=F("idle"),r=F(null),o=F(!1),a=F(null);const i=()=>{Mr()};ue(()=>{qn(s(n)==="loading")}),ye(()=>(s(r)&&s(r).addEventListener("cancel",_=>{_.preventDefault(),_.stopImmediatePropagation(),_.stopPropagation()}),()=>{qn(!1)}));const l=async _=>{const b=await _.text(),k=JSON.parse(b),S=[];if(!k.bookmarks)throw new Error("Invalid import file format");for(const E of Object.values(k.bookmarks))E&&S.push(E);await Xn(S)},c=async _=>{L(n,"loading");try{if(_.name.endsWith(".json"))await l(_);else if(_.name.endsWith(".html"))await Xn(await Qo(_));else throw new Error("Unsupported file format. Please upload a JSON or HTML file.");L(n,"success")}catch{L(n,"error")}},d=()=>{var _;(_=s(r))==null||_.click()},f=_=>{_.preventDefault(),_.stopPropagation(),L(o,!0)},v=_=>{_.preventDefault(),_.stopPropagation(),L(o,!1)},u=_=>{_.preventDefault(),_.stopPropagation(),L(o,!0)},g=async _=>{var k;if(_.preventDefault(),_.stopPropagation(),L(o,!1),!((k=_.dataTransfer)!=null&&k.files)||_.dataTransfer.files.length===0)return;const b=_.dataTransfer.files[0];if(b.type!=="application/json"&&b.type!=="text/html"){L(n,"error");return}await c(b)};var h=os(),p=T(h);{var w=_=>{var b=ts(),k=x(q(b),2);{var S=C=>{var y=$i(),O=q(y),A=T(O);xe(A,{onClick:d,children:(P,V)=>{var M=le("Select File");D(P,M)},$$slots:{default:!0}});var I=x(O,2);I.__change=[Kn,c],ge(I,P=>L(r,P),()=>s(r)),D(C,y)},E=C=>{var y=es(),O=T(y),A=x(T(O),4);xe(A,{onClick:d,children:(P,V)=>{var M=le("Select File");D(P,M)},$$slots:{default:!0}});var I=x(O,2);I.__change=[Kn,c],ge(I,P=>L(r,P),()=>s(r)),ge(y,P=>L(a,P),()=>s(a)),oe(()=>Z(y,1,te(["dropzone",{active:s(o)}]),"svelte-iu5kqw")),Ye("dragenter",y,f),Ye("dragover",y,u),Ye("dragleave",y,v),Ye("drop",y,g),D(C,y)};j(k,C=>{Yt()?C(S):C(E,!1)})}D(_,b)},m=(_,b)=>{{var k=E=>{var C=ns(),y=x(q(C),2);Cn(y),D(E,C)},S=(E,C)=>{{var y=A=>{var I=rs(),P=x(q(I),2),V=T(P);xe(V,{onClick:i,children:(M,U)=>{var B=le("close");D(M,B)},$$slots:{default:!0}}),D(A,I)},O=(A,I)=>{{var P=V=>{var M=as(),U=x(q(M),2),B=T(U);xe(B,{onClick:()=>{L(n,"idle")},children:(H,K)=>{var ae=le("Try Again");D(H,ae)},$$slots:{default:!0}}),D(V,M)};j(A,V=>{s(n)==="error"&&V(P)},I)}};j(E,A=>{s(n)==="success"?A(y):A(O,!1)},C)}};j(_,E=>{s(n)==="loading"?E(k):E(S,!1)},b)}};j(p,_=>{s(n)==="idle"?_(w):_(m,!1)})}D(e,h),X()}ke(["change"]);var ss=(e,t)=>L(t,"json"),ls=(e,t)=>L(t,"html"),cs=z('<p class="message svelte-1kp07xg">Export bookmarks</p> <div class="format-switcher svelte-1kp07xg"><div class="switcher-wrapper svelte-1kp07xg"><div class="background svelte-1kp07xg"></div> <div class="active-indicator svelte-1kp07xg"></div> <button>JSON</button> <button>HTML</button></div> <p class="format-description svelte-1kp07xg"><!></p></div> <div class="buttonContainer svelte-1kp07xg"><!> <!></div>',1),us=z('<p class="message svelte-1kp07xg">Exporting data...</p> <div class="buttonContainer svelte-1kp07xg"><!></div>',1),ds=z('<p class="message svelte-1kp07xg">Bookmarks exported successfully!</p> <div class="buttonContainer svelte-1kp07xg"><!></div>',1),fs=z('<div class="content svelte-1kp07xg"><!></div>');function vs(e,t){W(t,!0);let n=F("idle"),r=F("json");const o=()=>{qt()},a=async()=>{L(n,"loading"),setTimeout(async()=>{if(s(r)==="json")await fi().finally(()=>{L(n,"success")});else try{const f=$o(si()),v=new Blob([f],{type:"text/html"}),u=URL.createObjectURL(v),g=document.createElement("a");g.href=u,g.download=`bookmarks_${new Date().toLocaleDateString().replace(/\//g,"_")}.html`,document.body.appendChild(g),g.click(),document.body.removeChild(g),URL.revokeObjectURL(u),L(n,"success")}catch(f){console.error("Error exporting as HTML:",f),L(n,"success")}},0)};var i=fs(),l=T(i);{var c=f=>{var v=cs(),u=x(q(v),2),g=T(u),h=x(T(g),2),p=x(h,2);let w;p.__click=[ss,r];var m=x(p,2);let _;m.__click=[ls,r];var b=x(g,2),k=T(b);{var S=A=>{var I=le("JSON format (for app import)");D(A,I)},E=A=>{var I=le("HTML format (Chrome compatible)");D(A,I)};j(k,A=>{s(r)==="json"?A(S):A(E,!1)})}var C=x(u,2),y=T(C);xe(y,{onClick:a,children:(A,I)=>{var P=le("Export");D(A,P)},$$slots:{default:!0}});var O=x(y,2);xe(O,{onClick:o,children:(A,I)=>{var P=le("Cancel");D(A,P)},$$slots:{default:!0}}),oe((A,I)=>{Mt(h,`transform: translateX(${s(r)==="json"?"0":"100%"})`),w=Z(p,1,"switcher-option svelte-1kp07xg",null,w,A),_=Z(m,1,"switcher-option svelte-1kp07xg",null,_,I)},[()=>({active:s(r)==="json"}),()=>({active:s(r)==="html"})]),D(f,v)},d=(f,v)=>{{var u=h=>{var p=us(),w=x(q(p),2),m=T(w);Cn(m),D(h,p)},g=(h,p)=>{{var w=m=>{var _=ds(),b=x(q(_),2),k=T(b);xe(k,{onClick:o,children:(S,E)=>{var C=le("Close");D(S,C)},$$slots:{default:!0}}),D(m,_)};j(h,m=>{s(n)==="success"&&m(w)},p)}};j(f,h=>{s(n)==="loading"?h(u):h(g,!1)},v)}};j(l,f=>{s(n)==="idle"?f(c):f(d,!1)})}D(e,i),X()}ke(["click"]);var hs=z('<p class="message svelte-w4337z">Are you sure you want to clear the store?</p> <div class="buttonContainer svelte-w4337z"><!> <!></div>',1),gs=z('<p class="message svelte-w4337z">clearing store...</p> <div class="buttonContainer svelte-w4337z"><!></div>',1),ps=z('<p class="message svelte-w4337z">store cleared</p> <div class="buttonContainer svelte-w4337z"><!></div>',1),_s=z('<div class="content svelte-w4337z"><!></div>');function ms(e,t){W(t,!0);let n=F("idle");const r=()=>{qt()},o=()=>{L(n,"loading"),di().finally(()=>{setTimeout(()=>{L(n,"success")},1e3)})};var a=_s(),i=T(a);{var l=d=>{var f=hs(),v=x(q(f),2),u=T(v);xe(u,{onClick:r,children:(h,p)=>{var w=le("no");D(h,w)},$$slots:{default:!0}});var g=x(u,2);xe(g,{onClick:o,type:"dangerous",children:(h,p)=>{var w=le("yes");D(h,w)},$$slots:{default:!0}}),D(d,f)},c=(d,f)=>{{var v=g=>{var h=gs(),p=x(q(h),2),w=T(p);Cn(w),D(g,h)},u=(g,h)=>{{var p=w=>{var m=ps(),_=x(q(m),2),b=T(_);xe(b,{onClick:r,children:(k,S)=>{var E=le("close");D(k,E)},$$slots:{default:!0}}),D(w,m)};j(g,w=>{s(n)==="success"&&w(p)},h)}};j(d,g=>{s(n)==="loading"?g(v):g(u,!1)},f)}};j(i,d=>{s(n)==="idle"?d(l):d(c,!1)})}D(e,a),X()}var ws=z('<div class="svelte-t4bw1y"><!></div>');function lt(e,t){W(t,!0);let n=F(null);ye(()=>{s(n)&&(s(n).getBoundingClientRect(),s(n).style.opacity="1")});var r=ws(),o=T(r);Fe(o,()=>t.children),ge(r,a=>L(n,a),()=>s(n)),D(e,r),X()}const Gn=(e,t=Qn)=>{var n=he(),r=q(n);{var o=i=>{lt(i,{children:(l,c)=>{Gi(l,{})},$$slots:{default:!0}})},a=(i,l)=>{{var c=f=>{lt(f,{children:(v,u)=>{Ji(v,{})},$$slots:{default:!0}})},d=(f,v)=>{{var u=h=>{lt(h,{children:(p,w)=>{is(p,{})},$$slots:{default:!0}})},g=(h,p)=>{{var w=_=>{lt(_,{children:(b,k)=>{vs(b,{})},$$slots:{default:!0}})},m=(_,b)=>{{var k=S=>{lt(S,{children:(E,C)=>{ms(E,{})},$$slots:{default:!0}})};j(_,S=>{t()==="clearStore"&&S(k)},b)}};j(h,_=>{t()==="exportBookmarks"?_(w):_(m,!1)},p)}};j(f,h=>{t()==="importBookmarks"?h(u):h(g,!1)},v)}};j(i,f=>{t()==="newBookmark"?f(c):f(d,!1)},l)}};j(r,i=>{t()==="settings"?i(o):i(a,!1)})}D(e,n)};var ys=z("<!> <!>",1);function ks(e,t){W(t,!0);let n=ee(xo);ue(()=>{console.log(s(n))});var r=ys(),o=q(r);zi(o);var a=x(o,2);{var i=c=>{var d=he(),f=q(d);Ue(f,17,()=>s(n),no,(v,u,g)=>{const h=ee(()=>{var p;return g!==s(n).length-1&&!!((p=s(n)[g+1])!=null&&p.shown)});Wn(v,{get shown(){return s(u).shown},get hidden(){return s(h)},children:(p,w)=>{Gn(p,()=>s(u).page)},$$slots:{default:!0}})}),D(c,d)},l=(c,d)=>{{var f=v=>{const u=ee(()=>s(n).length===1);Wn(v,{onBack:()=>Br(),get shown(){return s(n)[s(n).length-1].shown},hidden:!1,get isLastDialog(){return s(u)},children:(g,h)=>{Gn(g,()=>s(n)[s(n).length-1].page)},$$slots:{default:!0}})};j(c,v=>{s(n).length>0&&v(f)},d)}};j(a,c=>{Yt()?c(i):c(l,!1)})}D(e,r),X()}function bs(e,t){W(t,!1),ye(()=>{Zt(),document.addEventListener("focusin",Zt),document.addEventListener("focusout",Zt),document.addEventListener("touchmove",function(n){Tn()&&n.preventDefault()},{passive:!1})}),En(),X()}var Ss=z('<!> <main><!> <div class="container svelte-1qxbcz0"><!></div> <!></main>',1);function Es(e,t){W(t,!0),ye(async()=>{await new Promise(f=>setTimeout(f,100)),await qa(),ce.working=!0});let n=ee(()=>Re().length>0);var r=Ss(),o=q(r);bs(o,{});var a=x(o,2),i=T(a);Bo(i,{});var l=x(i,2),c=T(l);ks(c,{});var d=x(l,2);wo(d,{}),ge(a,f=>dt.ref=f,()=>dt==null?void 0:dt.ref),oe(()=>{Mt(a,`--swiping-ratio: ${ce.swipingRatio}; --transition-timing-default: ${ce.duration}s;`),Z(a,1,te(["main",{isAnimationOn:ce.working&&!ce.isSwiping,open:s(n)}]),"svelte-1qxbcz0")}),D(e,r),X()}$a(Es,{target:document.getElementById("app")});
