(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();const vn=!1;var Xt=Array.isArray,mr=Array.prototype.indexOf,Kt=Array.from,wr=Object.defineProperty,ze=Object.getOwnPropertyDescriptor,Tn=Object.getOwnPropertyDescriptors,kr=Object.prototype,br=Array.prototype,Gt=Object.getPrototypeOf,fn=Object.isExtensible;const Ln=()=>{};function yr(e){return e()}function mt(e){for(var t=0;t<e.length;t++)e[t]()}const we=2,Pn=4,Pt=8,Jt=16,Ce=32,Xe=64,wt=128,de=256,kt=512,ue=1024,Te=2048,Ke=4096,Ee=8192,Dt=16384,Er=32768,Mt=65536,Sr=1<<17,xr=1<<19,Dn=1<<20,zt=1<<21,je=Symbol("$state"),Cr=Symbol("legacy props"),Tr=Symbol("");function Mn(e){return e===this.v}function Lr(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Qt(e){return!Lr(e,this.v)}function Pr(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Dr(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Mr(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Br(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Or(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function Ar(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Ir(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Nr(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let Ge=!1,qr=!1;function Rr(){Ge=!0}const en=1,tn=2,Bn=4,jr=8,Fr=16,Hr=1,Ur=2,zr=4,Vr=8,$r=16,Wr=1,Zr=2,ae=Symbol(),Yr="http://www.w3.org/1999/xhtml";function On(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let F=null;function dn(e){F=e}function Xr(e){return An().get(e)}function Kr(e,t){return An().set(e,t),t}function Y(e,t=!1,n){var r=F={p:F,c:null,d:!1,e:null,m:!1,s:e,x:null,l:null};Ge&&!t&&(F.l={s:null,u:null,r1:[],r2:lt(!1)}),nn(()=>{r.d=!0})}function X(e){const t=F;if(t!==null){const o=t.e;if(o!==null){var n=H,r=j;t.e=null;try{for(var s=0;s<o.length;s++){var a=o[s];Ae(a.effect),ke(a.reaction),rn(a.fn)}}finally{Ae(n),ke(r)}}F=t.p,t.m=!0}return{}}function vt(){return!Ge||F!==null&&F.l===null}function An(e){return F===null&&On(),F.c??(F.c=new Map(Gr(F)||void 0))}function Gr(e){let t=e.p;for(;t!==null;){const n=t.c;if(n!==null)return n;t=t.p}return null}function K(e){if(typeof e!="object"||e===null||je in e)return e;const t=Gt(e);if(t!==kr&&t!==br)return e;var n=new Map,r=Xt(e),s=I(0),a=j,o=i=>{var c=j;ke(a);var f=i();return ke(c),f};return r&&n.set("length",I(e.length)),new Proxy(e,{defineProperty(i,c,f){(!("value"in f)||f.configurable===!1||f.enumerable===!1||f.writable===!1)&&Ar();var u=n.get(c);return u===void 0?(u=o(()=>I(f.value)),n.set(c,u)):y(u,o(()=>K(f.value))),!0},deleteProperty(i,c){var f=n.get(c);if(f===void 0)c in i&&n.set(c,o(()=>I(ae)));else{if(r&&typeof c=="string"){var u=n.get("length"),d=Number(c);Number.isInteger(d)&&d<u.v&&y(u,d)}y(f,ae),hn(s)}return!0},get(i,c,f){var _;if(c===je)return e;var u=n.get(c),d=c in i;if(u===void 0&&(!d||(_=ze(i,c))!=null&&_.writable)&&(u=o(()=>I(K(d?i[c]:ae))),n.set(c,u)),u!==void 0){var v=l(u);return v===ae?void 0:v}return Reflect.get(i,c,f)},getOwnPropertyDescriptor(i,c){var f=Reflect.getOwnPropertyDescriptor(i,c);if(f&&"value"in f){var u=n.get(c);u&&(f.value=l(u))}else if(f===void 0){var d=n.get(c),v=d==null?void 0:d.v;if(d!==void 0&&v!==ae)return{enumerable:!0,configurable:!0,value:v,writable:!0}}return f},has(i,c){var v;if(c===je)return!0;var f=n.get(c),u=f!==void 0&&f.v!==ae||Reflect.has(i,c);if(f!==void 0||H!==null&&(!u||(v=ze(i,c))!=null&&v.writable)){f===void 0&&(f=o(()=>I(u?K(i[c]):ae)),n.set(c,f));var d=l(f);if(d===ae)return!1}return u},set(i,c,f,u){var P;var d=n.get(c),v=c in i;if(r&&c==="length")for(var _=f;_<d.v;_+=1){var h=n.get(_+"");h!==void 0?y(h,ae):_ in i&&(h=o(()=>I(ae)),n.set(_+"",h))}d===void 0?(!v||(P=ze(i,c))!=null&&P.writable)&&(d=o(()=>I(void 0)),y(d,o(()=>K(f))),n.set(c,d)):(v=d.v!==ae,y(d,o(()=>K(f))));var x=Reflect.getOwnPropertyDescriptor(i,c);if(x!=null&&x.set&&x.set.call(u,f),!v){if(r&&typeof c=="string"){var T=n.get("length"),O=Number(c);Number.isInteger(O)&&O>=T.v&&y(T,O+1)}hn(s)}return!0},ownKeys(i){l(s);var c=Reflect.ownKeys(i).filter(d=>{var v=n.get(d);return v===void 0||v.v!==ae});for(var[f,u]of n)u.v!==ae&&!(f in i)&&c.push(f);return c},setPrototypeOf(){Ir()}})}function hn(e,t=1){y(e,e.v+t)}const ot=new Map;function lt(e,t){var n={f:0,v:e,reactions:null,equals:Mn,rv:0,wv:0};return n}function I(e,t){const n=lt(e);return Kn(n),n}function In(e,t=!1){var r;const n=lt(e);return t||(n.equals=Qt),Ge&&F!==null&&F.l!==null&&((r=F.l).s??(r.s=[])).push(n),n}function y(e,t,n=!1){j!==null&&!pe&&vt()&&(j.f&(we|Jt))!==0&&!(ne!=null&&ne.includes(e))&&Nr();let r=n?K(t):t;return Vt(e,r)}function Vt(e,t){if(!e.equals(t)){var n=e.v;ft?ot.set(e,t):ot.set(e,n),e.v=t,e.wv=Jn(),Nn(e,Te),vt()&&H!==null&&(H.f&ue)!==0&&(H.f&(Ce|Xe))===0&&(ve===null?ca([e]):ve.push(e))}return t}function Nn(e,t){var n=e.reactions;if(n!==null)for(var r=vt(),s=n.length,a=0;a<s;a++){var o=n[a],i=o.f;(i&Te)===0&&(!r&&o===H||(be(o,t),(i&(ue|de))!==0&&((i&we)!==0?Nn(o,Ke):qt(o))))}}let Jr=!1;var _n,qn,Rn,jn;function Qr(){if(_n===void 0){_n=window,qn=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;Rn=ze(t,"firstChild").get,jn=ze(t,"nextSibling").get,fn(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),fn(n)&&(n.__t=void 0)}}function Bt(e=""){return document.createTextNode(e)}function $e(e){return Rn.call(e)}function Ot(e){return jn.call(e)}function S(e,t){return $e(e)}function J(e,t){{var n=$e(e);return n instanceof Comment&&n.data===""?Ot(n):n}}function D(e,t=1,n=!1){let r=e;for(;t--;)r=Ot(r);return r}function ea(e){e.textContent=""}function We(e){var t=we|Te,n=j!==null&&(j.f&we)!==0?j:null;return H===null||n!==null&&(n.f&de)!==0?t|=de:H.f|=Dn,{ctx:F,deps:null,effects:null,equals:Mn,f:t,fn:e,reactions:null,rv:0,v:null,wv:0,parent:n??H}}function te(e){const t=We(e);return Kn(t),t}function Fn(e){const t=We(e);return t.equals=Qt,t}function Hn(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)xe(t[n])}}function ta(e){for(var t=e.parent;t!==null;){if((t.f&we)===0)return t;t=t.parent}return null}function na(e){var t,n=H;Ae(ta(e));try{Hn(e),t=er(e)}finally{Ae(n)}return t}function Un(e){var t=na(e),n=(Be||(e.f&de)!==0)&&e.deps!==null?Ke:ue;be(e,n),e.equals(t)||(e.v=t,e.wv=Jn())}function zn(e){H===null&&j===null&&Mr(),j!==null&&(j.f&de)!==0&&H===null&&Dr(),ft&&Pr()}function ra(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function Je(e,t,n,r=!0){var s=H,a={ctx:F,deps:null,nodes_start:null,nodes_end:null,f:e|Te,first:null,fn:t,last:null,next:null,parent:s,prev:null,teardown:null,transitions:null,wv:0};if(n)try{on(a),a.f|=Er}catch(c){throw xe(a),c}else t!==null&&qt(a);var o=n&&a.deps===null&&a.first===null&&a.nodes_start===null&&a.teardown===null&&(a.f&(Dn|wt))===0;if(!o&&r&&(s!==null&&ra(a,s),j!==null&&(j.f&we)!==0)){var i=j;(i.effects??(i.effects=[])).push(a)}return a}function nn(e){const t=Je(Pt,null,!1);return be(t,ue),t.teardown=e,t}function se(e){zn();var t=H!==null&&(H.f&Ce)!==0&&F!==null&&!F.m;if(t){var n=F;(n.e??(n.e=[])).push({fn:e,effect:H,reaction:j})}else{var r=rn(e);return r}}function aa(e){return zn(),At(e)}function sa(e){const t=Je(Xe,e,!0);return(n={})=>new Promise(r=>{n.outro?bt(t,()=>{xe(t),r(void 0)}):(xe(t),r(void 0))})}function rn(e){return Je(Pn,e,!1)}function At(e){return Je(Pt,e,!0)}function G(e,t=[],n=We){const r=t.map(n);return It(()=>e(...r.map(l)))}function It(e,t=0){return Je(Pt|Jt|t,e,!0)}function Ze(e,t=!0){return Je(Pt|Ce,e,!0,t)}function Vn(e){var t=e.teardown;if(t!==null){const n=ft,r=j;gn(!0),ke(null);try{t.call(null)}finally{gn(n),ke(r)}}}function $n(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){var r=n.next;(n.f&Xe)!==0?n.parent=null:xe(n,t),n=r}}function oa(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&Ce)===0&&xe(t),t=n}}function xe(e,t=!0){var n=!1;if((t||(e.f&xr)!==0)&&e.nodes_start!==null){for(var r=e.nodes_start,s=e.nodes_end;r!==null;){var a=r===s?null:Ot(r);r.remove(),r=a}n=!0}$n(e,t&&!n),Ct(e,0),be(e,Dt);var o=e.transitions;if(o!==null)for(const c of o)c.stop();Vn(e);var i=e.parent;i!==null&&i.first!==null&&Wn(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function Wn(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function bt(e,t){var n=[];an(e,n,!0),Zn(n,()=>{xe(e),t&&t()})}function Zn(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var s of e)s.out(r)}else t()}function an(e,t,n){if((e.f&Ee)===0){if(e.f^=Ee,e.transitions!==null)for(const o of e.transitions)(o.is_global||n)&&t.push(o);for(var r=e.first;r!==null;){var s=r.next,a=(r.f&Mt)!==0||(r.f&Ce)!==0;an(r,t,a?n:!1),r=s}}}function yt(e){Yn(e,!0)}function Yn(e,t){if((e.f&Ee)!==0){e.f^=Ee,(e.f&ue)===0&&(e.f^=ue),dt(e)&&(be(e,Te),qt(e));for(var n=e.first;n!==null;){var r=n.next,s=(n.f&Mt)!==0||(n.f&Ce)!==0;Yn(n,s?t:!1),n=r}if(e.transitions!==null)for(const a of e.transitions)(a.is_global||t)&&a.in()}}let it=[],$t=[];function Xn(){var e=it;it=[],mt(e)}function la(){var e=$t;$t=[],mt(e)}function sn(e){it.length===0&&queueMicrotask(Xn),it.push(e)}function pn(){it.length>0&&Xn(),$t.length>0&&la()}let gt=!1,Et=!1,St=null,Fe=!1,ft=!1;function gn(e){ft=e}let st=[];let j=null,pe=!1;function ke(e){j=e}let H=null;function Ae(e){H=e}let ne=null;function ia(e){ne=e}function Kn(e){j!==null&&j.f&zt&&(ne===null?ia([e]):ne.push(e))}let ee=null,ie=0,ve=null;function ca(e){ve=e}let Gn=1,xt=0,Be=!1;function Jn(){return++Gn}function dt(e){var d;var t=e.f;if((t&Te)!==0)return!0;if((t&Ke)!==0){var n=e.deps,r=(t&de)!==0;if(n!==null){var s,a,o=(t&kt)!==0,i=r&&H!==null&&!Be,c=n.length;if(o||i){var f=e,u=f.parent;for(s=0;s<c;s++)a=n[s],(o||!((d=a==null?void 0:a.reactions)!=null&&d.includes(f)))&&(a.reactions??(a.reactions=[])).push(f);o&&(f.f^=kt),i&&u!==null&&(u.f&de)===0&&(f.f^=de)}for(s=0;s<c;s++)if(a=n[s],dt(a)&&Un(a),a.wv>e.wv)return!0}(!r||H!==null&&!Be)&&be(e,ue)}return!1}function ua(e,t){for(var n=t;n!==null;){if((n.f&wt)!==0)try{n.fn(e);return}catch{n.f^=wt}n=n.parent}throw gt=!1,e}function va(e){return(e.f&Dt)===0&&(e.parent===null||(e.parent.f&wt)===0)}function Nt(e,t,n,r){if(gt){if(n===null&&(gt=!1),va(t))throw e;return}n!==null&&(gt=!0);{ua(e,t);return}}function Qn(e,t,n=!0){var r=e.reactions;if(r!==null)for(var s=0;s<r.length;s++){var a=r[s];ne!=null&&ne.includes(e)||((a.f&we)!==0?Qn(a,t,!1):t===a&&(n?be(a,Te):(a.f&ue)!==0&&be(a,Ke),qt(a)))}}function er(e){var _;var t=ee,n=ie,r=ve,s=j,a=Be,o=ne,i=F,c=pe,f=e.f;ee=null,ie=0,ve=null,Be=(f&de)!==0&&(pe||!Fe||j===null),j=(f&(Ce|Xe))===0?e:null,ne=null,dn(e.ctx),pe=!1,xt++,e.f|=zt;try{var u=(0,e.fn)(),d=e.deps;if(ee!==null){var v;if(Ct(e,ie),d!==null&&ie>0)for(d.length=ie+ee.length,v=0;v<ee.length;v++)d[ie+v]=ee[v];else e.deps=d=ee;if(!Be)for(v=ie;v<d.length;v++)((_=d[v]).reactions??(_.reactions=[])).push(e)}else d!==null&&ie<d.length&&(Ct(e,ie),d.length=ie);if(vt()&&ve!==null&&!pe&&d!==null&&(e.f&(we|Ke|Te))===0)for(v=0;v<ve.length;v++)Qn(ve[v],e);return s!==e&&(xt++,ve!==null&&(r===null?r=ve:r.push(...ve))),u}finally{ee=t,ie=n,ve=r,j=s,Be=a,ne=o,dn(i),pe=c,e.f^=zt}}function fa(e,t){let n=t.reactions;if(n!==null){var r=mr.call(n,e);if(r!==-1){var s=n.length-1;s===0?n=t.reactions=null:(n[r]=n[s],n.pop())}}n===null&&(t.f&we)!==0&&(ee===null||!ee.includes(t))&&(be(t,Ke),(t.f&(de|kt))===0&&(t.f^=kt),Hn(t),Ct(t,0))}function Ct(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)fa(e,n[r])}function on(e){var t=e.f;if((t&Dt)===0){be(e,ue);var n=H,r=F,s=Fe;H=e,Fe=!0;try{(t&Jt)!==0?oa(e):$n(e),Vn(e);var a=er(e);e.teardown=typeof a=="function"?a:null,e.wv=Gn;var o=e.deps,i;vn&&qr&&e.f&Te}catch(c){Nt(c,e,n,r||e.ctx)}finally{Fe=s,H=n}}}function da(){try{Br()}catch(e){if(St!==null)Nt(e,St,null);else throw e}}function tr(){var e=Fe;try{var t=0;for(Fe=!0;st.length>0;){t++>1e3&&da();var n=st,r=n.length;st=[];for(var s=0;s<r;s++){var a=_a(n[s]);ha(a)}ot.clear()}}finally{Et=!1,Fe=e,St=null}}function ha(e){var t=e.length;if(t!==0)for(var n=0;n<t;n++){var r=e[n];if((r.f&(Dt|Ee))===0)try{dt(r)&&(on(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null?Wn(r):r.fn=null))}catch(s){Nt(s,r,null,r.ctx)}}}function qt(e){Et||(Et=!0,queueMicrotask(tr));for(var t=St=e;t.parent!==null;){t=t.parent;var n=t.f;if((n&(Xe|Ce))!==0){if((n&ue)===0)return;t.f^=ue}}st.push(t)}function _a(e){for(var t=[],n=e;n!==null;){var r=n.f,s=(r&(Ce|Xe))!==0,a=s&&(r&ue)!==0;if(!a&&(r&Ee)===0){if((r&Pn)!==0)t.push(n);else if(s)n.f^=ue;else{var o=j;try{j=n,dt(n)&&on(n)}catch(f){Nt(f,n,null,n.ctx)}finally{j=o}}var i=n.first;if(i!==null){n=i;continue}}var c=n.parent;for(n=n.next;n===null&&c!==null;)n=c.next,c=c.parent}return t}function pa(e){var t;for(pn();st.length>0;)Et=!0,tr(),pn();return t}async function ga(){await Promise.resolve(),pa()}function l(e){var t=e.f,n=(t&we)!==0;if(j!==null&&!pe){if(!(ne!=null&&ne.includes(e))){var r=j.deps;e.rv<xt&&(e.rv=xt,ee===null&&r!==null&&r[ie]===e?ie++:ee===null?ee=[e]:(!Be||!ee.includes(e))&&ee.push(e))}}else if(n&&e.deps===null&&e.effects===null){var s=e,a=s.parent;a!==null&&(a.f&de)===0&&(s.f^=de)}return n&&(s=e,dt(s)&&Un(s)),ft&&ot.has(e)?ot.get(e):e.v}function Ye(e){var t=pe;try{return pe=!0,e()}finally{pe=t}}const ma=-7169;function be(e,t){e.f=e.f&ma|t}function wa(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(je in e)Wt(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&je in n&&Wt(n)}}}function Wt(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{Wt(e[r],t)}catch{}const n=Gt(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=Tn(n);for(let s in r){const a=r[s].get;if(a)try{a.call(e)}catch{}}}}}const ka=["touchstart","touchmove"];function ba(e){return ka.includes(e)}let mn=!1;function ya(){mn||(mn=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const n of e.target.elements)(t=n.__on_r)==null||t.call(n)})},{capture:!0}))}function nr(e){var t=j,n=H;ke(null),Ae(null);try{return e()}finally{ke(t),Ae(n)}}function Ea(e,t,n,r=n){e.addEventListener(t,()=>nr(n));const s=e.__on_r;s?e.__on_r=()=>{s(),r(!0)}:e.__on_r=()=>r(!0),ya()}const rr=new Set,Zt=new Set;function Sa(e,t,n,r={}){function s(a){if(r.capture||nt.call(t,a),!a.cancelBubble)return nr(()=>n==null?void 0:n.call(this,a))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?sn(()=>{t.addEventListener(e,s,r)}):t.addEventListener(e,s,r),s}function tt(e,t,n,r,s){var a={capture:r,passive:s},o=Sa(e,t,n,a);(t===document.body||t===window||t===document)&&nn(()=>{t.removeEventListener(e,o,a)})}function qe(e){for(var t=0;t<e.length;t++)rr.add(e[t]);for(var n of Zt)n(e)}function nt(e){var P;var t=this,n=t.ownerDocument,r=e.type,s=((P=e.composedPath)==null?void 0:P.call(e))||[],a=s[0]||e.target,o=0,i=e.__root;if(i){var c=s.indexOf(i);if(c!==-1&&(t===document||t===window)){e.__root=t;return}var f=s.indexOf(t);if(f===-1)return;c<=f&&(o=c)}if(a=s[o]||e.target,a!==t){wr(e,"currentTarget",{configurable:!0,get(){return a||n}});var u=j,d=H;ke(null),Ae(null);try{for(var v,_=[];a!==null;){var h=a.assignedSlot||a.parentNode||a.host||null;try{var x=a["__"+r];if(x!=null&&(!a.disabled||e.target===a))if(Xt(x)){var[T,...O]=x;T.apply(a,[e,...O])}else x.call(a,e)}catch(g){v?_.push(g):v=g}if(e.cancelBubble||h===t||h===null)break;a=h}if(v){for(let g of _)queueMicrotask(()=>{throw g});throw v}}finally{e.__root=t,delete e.currentTarget,ke(u),Ae(d)}}}function ar(e){var t=document.createElement("template");return t.innerHTML=e,t.content}function ct(e,t){var n=H;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function N(e,t){var n=(t&Wr)!==0,r=(t&Zr)!==0,s,a=!e.startsWith("<!>");return()=>{s===void 0&&(s=ar(a?e:"<!>"+e),n||(s=$e(s)));var o=r||qn?document.importNode(s,!0):s.cloneNode(!0);if(n){var i=$e(o),c=o.lastChild;ct(i,c)}else ct(o,o);return o}}function _e(e,t,n="svg"){var r=!e.startsWith("<!>"),s=`<${n}>${r?e:"<!>"+e}</${n}>`,a;return()=>{if(!a){var o=ar(s),i=$e(o);a=$e(i)}var c=a.cloneNode(!0);return ct(c,c),c}}function ge(e=""){{var t=Bt(e+"");return ct(t,t),t}}function Oe(){var e=document.createDocumentFragment(),t=document.createComment(""),n=Bt();return e.append(t,n),ct(t,n),e}function b(e,t){e!==null&&e.before(t)}function Re(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function xa(e,t){return Ca(e,t)}const He=new Map;function Ca(e,{target:t,anchor:n,props:r={},events:s,context:a,intro:o=!0}){Qr();var i=new Set,c=d=>{for(var v=0;v<d.length;v++){var _=d[v];if(!i.has(_)){i.add(_);var h=ba(_);t.addEventListener(_,nt,{passive:h});var x=He.get(_);x===void 0?(document.addEventListener(_,nt,{passive:h}),He.set(_,1)):He.set(_,x+1)}}};c(Kt(rr)),Zt.add(c);var f=void 0,u=sa(()=>{var d=n??t.appendChild(Bt());return Ze(()=>{if(a){Y({});var v=F;v.c=a}s&&(r.$$events=s),f=e(d,r)||{},a&&X()}),()=>{var h;for(var v of i){t.removeEventListener(v,nt);var _=He.get(v);--_===0?(document.removeEventListener(v,nt),He.delete(v)):He.set(v,_)}Zt.delete(c),d!==n&&((h=d.parentNode)==null||h.removeChild(d))}});return Ta.set(f,u),f}let Ta=new WeakMap;function W(e,t,[n,r]=[0,0]){var s=e,a=null,o=null,i=ae,c=n>0?Mt:0,f=!1;const u=(v,_=!0)=>{f=!0,d(_,v)},d=(v,_)=>{i!==(i=v)&&(i?(a?yt(a):_&&(a=Ze(()=>_(s))),o&&bt(o,()=>{o=null})):(o?yt(o):_&&(o=Ze(()=>_(s,[n+1,r]))),a&&bt(a,()=>{a=null})))};It(()=>{f=!1,t(u),f||d(null,null)},c)}function me(e,t){At(()=>{var n=t();for(var r in n){var s=n[r];s?e.style.setProperty(r,s):e.style.removeProperty(r)}}),nn(()=>{e.remove()})}function La(e,t){return t}function Pa(e,t,n,r){for(var s=[],a=t.length,o=0;o<a;o++)an(t[o].e,s,!0);var i=a>0&&s.length===0&&n!==null;if(i){var c=n.parentNode;ea(c),c.append(n),r.clear(),Me(e,t[0].prev,t[a-1].next)}Zn(s,()=>{for(var f=0;f<a;f++){var u=t[f];i||(r.delete(u.k),Me(e,u.prev,u.next)),xe(u.e,!i)}})}function Ue(e,t,n,r,s,a=null){var o=e,i={flags:t,items:new Map,first:null},c=(t&Bn)!==0;if(c){var f=e;o=f.appendChild(Bt())}var u=null,d=!1,v=Fn(()=>{var _=n();return Xt(_)?_:_==null?[]:Kt(_)});It(()=>{var _=l(v),h=_.length;d&&h===0||(d=h===0,Da(_,i,o,s,t,r,n),a!==null&&(h===0?u?yt(u):u=Ze(()=>a(o)):u!==null&&bt(u,()=>{u=null})),l(v))})}function Da(e,t,n,r,s,a,o){var B,z,Q,U;var i=(s&jr)!==0,c=(s&(en|tn))!==0,f=e.length,u=t.items,d=t.first,v=d,_,h=null,x,T=[],O=[],P,g,m,w;if(i)for(w=0;w<f;w+=1)P=e[w],g=a(P,w),m=u.get(g),m!==void 0&&((B=m.a)==null||B.measure(),(x??(x=new Set)).add(m));for(w=0;w<f;w+=1){if(P=e[w],g=a(P,w),m=u.get(g),m===void 0){var q=v?v.e.nodes_start:n;h=Ba(q,t,h,h===null?t.first:h.next,P,g,w,r,s,o),u.set(g,h),T=[],O=[],v=h.next;continue}if(c&&Ma(m,P,w,s),(m.e.f&Ee)!==0&&(yt(m.e),i&&((z=m.a)==null||z.unfix(),(x??(x=new Set)).delete(m))),m!==v){if(_!==void 0&&_.has(m)){if(T.length<O.length){var L=O[0],A;h=L.prev;var p=T[0],k=T[T.length-1];for(A=0;A<T.length;A+=1)wn(T[A],L,n);for(A=0;A<O.length;A+=1)_.delete(O[A]);Me(t,p.prev,k.next),Me(t,h,p),Me(t,k,L),v=L,h=k,w-=1,T=[],O=[]}else _.delete(m),wn(m,v,n),Me(t,m.prev,m.next),Me(t,m,h===null?t.first:h.next),Me(t,h,m),h=m;continue}for(T=[],O=[];v!==null&&v.k!==g;)(v.e.f&Ee)===0&&(_??(_=new Set)).add(v),O.push(v),v=v.next;if(v===null)continue;m=v}T.push(m),h=m,v=m.next}if(v!==null||_!==void 0){for(var C=_===void 0?[]:Kt(_);v!==null;)(v.e.f&Ee)===0&&C.push(v),v=v.next;var E=C.length;if(E>0){var M=(s&Bn)!==0&&f===0?n:null;if(i){for(w=0;w<E;w+=1)(Q=C[w].a)==null||Q.measure();for(w=0;w<E;w+=1)(U=C[w].a)==null||U.fix()}Pa(t,C,M,u)}}i&&sn(()=>{var oe;if(x!==void 0)for(m of x)(oe=m.a)==null||oe.apply()}),H.first=t.first&&t.first.e,H.last=h&&h.e}function Ma(e,t,n,r){(r&en)!==0&&Vt(e.v,t),(r&tn)!==0?Vt(e.i,n):e.i=n}function Ba(e,t,n,r,s,a,o,i,c,f){var u=(c&en)!==0,d=(c&Fr)===0,v=u?d?In(s):lt(s):s,_=(c&tn)===0?o:lt(o),h={i:_,v,k:a,a:null,e:null,prev:n,next:r};try{return h.e=Ze(()=>i(e,v,_,f),Jr),h.e.prev=n&&n.e,h.e.next=r&&r.e,n===null?t.first=h:(n.next=h,n.e.next=h.e),r!==null&&(r.prev=h,r.e.prev=h.e),h}finally{}}function wn(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,s=t?t.e.nodes_start:n,a=e.e.nodes_start;a!==r;){var o=Ot(a);s.before(a),a=o}}function Me(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function ht(e,t,...n){var r=e,s=Ln,a;It(()=>{s!==(s=t())&&(a&&(xe(a),a=null),a=Ze(()=>s(r,...n)))},Mt)}function sr(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=sr(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Oa(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=sr(e))&&(r&&(r+=" "),r+=t);return r}function V(e){return typeof e=="object"?Oa(e):e??""}function Aa(e,t,n){var r=e==null?"":""+e;return t&&(r=r?r+" "+t:t),r===""?null:r}function Ia(e,t){return e==null?null:String(e)}function $(e,t,n,r,s,a){var o=e.__className;if(o!==n||o===void 0){var i=Aa(n,r);i==null?e.removeAttribute("class"):e.className=i,e.__className=n}return a}function kn(e,t,n,r){var s=e.__style;if(s!==t){var a=Ia(t);a==null?e.removeAttribute("style"):e.style.cssText=a,e.__style=t}return r}const Na=Symbol("is custom element"),qa=Symbol("is html");function Rt(e,t){var n=ln(e);n.value===(n.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function jt(e,t){var n=ln(e);n.checked!==(n.checked=t??void 0)&&(e.checked=t)}function Se(e,t,n,r){var s=ln(e);s[t]!==(s[t]=n)&&(t==="loading"&&(e[Tr]=n),n==null?e.removeAttribute(t):typeof n!="string"&&Ra(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function ln(e){return e.__attributes??(e.__attributes={[Na]:e.nodeName.includes("-"),[qa]:e.namespaceURI===Yr})}var bn=new Map;function Ra(e){var t=bn.get(e.nodeName);if(t)return t;bn.set(e.nodeName,t=[]);for(var n,r=e,s=Element.prototype;s!==r;){n=Tn(r);for(var a in n)n[a].set&&t.push(a);r=Gt(r)}return t}function rt(e,t,n=t){var r=vt();Ea(e,"input",s=>{var a=s?e.defaultValue:e.value;if(a=Ft(e)?Ht(a):a,n(a),r&&a!==(a=t())){var o=e.selectionStart,i=e.selectionEnd;e.value=a??"",i!==null&&(e.selectionStart=o,e.selectionEnd=Math.min(i,e.value.length))}}),Ye(t)==null&&e.value&&n(Ft(e)?Ht(e.value):e.value),At(()=>{var s=t();Ft(e)&&s===Ht(e.value)||e.type==="date"&&!s&&!e.value||s!==e.value&&(e.value=s??"")})}function Ft(e){var t=e.type;return t==="number"||t==="range"}function Ht(e){return e===""?null:+e}function yn(e,t){return e===t||(e==null?void 0:e[je])===t}function ye(e={},t,n,r){return rn(()=>{var s,a;return At(()=>{s=a,a=[],Ye(()=>{e!==n(...a)&&(t(e,...a),s&&yn(n(...s),e)&&t(null,...s))})}),()=>{sn(()=>{a&&yn(n(...a),e)&&t(null,...a)})}}),e}function or(e=!1){const t=F,n=t.l.u;if(!n)return;let r=()=>wa(t.s);if(e){let s=0,a={};const o=We(()=>{let i=!1;const c=t.s;for(const f in c)c[f]!==a[f]&&(a[f]=c[f],i=!0);return i&&s++,s});r=()=>l(o)}n.b.length&&aa(()=>{En(t,r),mt(n.b)}),se(()=>{const s=Ye(()=>n.m.map(yr));return()=>{for(const a of s)typeof a=="function"&&a()}}),n.a.length&&se(()=>{En(t,r),mt(n.a)})}function En(e,t){if(e.l.s)for(const n of e.l.s)l(n);t()}let _t=!1;function ja(e){var t=_t;try{return _t=!1,[e(),_t]}finally{_t=t}}function Sn(e){var t;return((t=e.ctx)==null?void 0:t.d)??!1}function fe(e,t,n,r){var q;var s=(n&Hr)!==0,a=!Ge||(n&Ur)!==0,o=(n&Vr)!==0,i=(n&$r)!==0,c=!1,f;o?[f,c]=ja(()=>e[t]):f=e[t];var u=je in e||Cr in e,d=o&&(((q=ze(e,t))==null?void 0:q.set)??(u&&t in e&&(L=>e[t]=L)))||void 0,v=r,_=!0,h=!1,x=()=>(h=!0,_&&(_=!1,i?v=Ye(r):v=r),v);f===void 0&&r!==void 0&&(d&&a&&Or(),f=x(),d&&d(f));var T;if(a)T=()=>{var L=e[t];return L===void 0?x():(_=!0,h=!1,L)};else{var O=(s?We:Fn)(()=>e[t]);O.f|=Sr,T=()=>{var L=l(O);return L!==void 0&&(v=void 0),L===void 0?v:L}}if((n&zr)===0)return T;if(d){var P=e.$$legacy;return function(L,A){return arguments.length>0?((!a||!A||P||c)&&d(A?T():L),L):T()}}var g=!1,m=In(f),w=We(()=>{var L=T(),A=l(m);return g?(g=!1,A):m.v=L});return o&&l(w),s||(w.equals=Qt),function(L,A){if(arguments.length>0){const p=A?l(w):a&&o?K(L):L;if(!w.equals(p)){if(g=!0,y(m,p),h&&v!==void 0&&(v=p),Sn(w))return L;Ye(()=>l(w))}return L}return Sn(w)?w.v:l(w)}}function Ie(e){F===null&&On(),Ge&&F.l!==null?Fa(F).m.push(e):se(()=>{const t=Ye(e);if(typeof t=="function")return t})}function Fa(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const Ha="5";var Cn;typeof window<"u"&&((Cn=window.__svelte??(window.__svelte={})).v??(Cn.v=new Set)).add(Ha);let at=I("");function Ua(e){y(at,e,!0)}var za=N('<div class="notification svelte-1h5k2zn"> </div>');function Va(e,t){Y(t,!0),se(()=>{l(at);const a=setTimeout(()=>{y(at,"")},800);return()=>{clearTimeout(a)}});var n=Oe(),r=J(n);{var s=a=>{var o=za(),i=S(o);G(()=>Re(i,l(at))),b(a,o)};W(r,a=>{l(at)&&a(s)})}b(e,n),X()}var $a=N('<span class="vh svelte-14jjkpd"> </span>');function ut(e,t){var n=$a(),r=S(n);G(()=>Re(r,t.children)),b(e,n)}Rr();var Wa=_e('<svg width="24" height="24" viewBox="0 0 0.72 0.72" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-1lqi79o"><path d="M.16.26h.4m-.4.2h.4M.11.26h.5m-.5.2h.5m-.4.15.1-.5m.1.5.1-.5" stroke="currentColor" stroke-width=".1" stroke-linecap="round" stroke-linejoin="round"></path></svg>');function Za(e){var t=Wa();b(e,t)}var Ya=_e('<svg viewBox="0 0 13.229 13.229" xmlns="http://www.w3.org/2000/svg" class="svelte-1lqi79o"><path style="fill:currentColor;stroke-width:.579737" d="M5.82 2.381h1.588v8.467H5.821Z"></path><path style="fill:currentColor;stroke-width:.579328" d="M10.848 5.822v1.586H2.38V5.82Z"></path></svg>');function Xa(e){var t=Ya();b(e,t)}var Ka=_e('<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-1lqi79o"><path fill-rule="evenodd" clip-rule="evenodd" d="M14.279 2.152C13.909 2 13.439 2 12.5 2s-1.409 0-1.779.152a2.008 2.008 0 0 0-1.09 1.083c-.094.223-.13.484-.145.863a1.615 1.615 0 0 1-.796 1.353 1.64 1.64 0 0 1-1.579.008c-.338-.178-.583-.276-.825-.308a2.026 2.026 0 0 0-1.49.396c-.318.242-.553.646-1.022 1.453-.47.807-.704 1.21-.757 1.605-.07.526.074 1.058.4 1.479.148.192.357.353.68.555.477.297.783.803.783 1.361 0 .558-.306 1.064-.782 1.36-.324.203-.533.364-.682.556-.325.421-.469.953-.399 1.479.053.394.287.798.757 1.605.47.807.704 1.21 1.022 1.453.424.323.96.465 1.49.396.242-.032.487-.13.825-.308a1.64 1.64 0 0 1 1.58.008c.486.28.774.795.795 1.353.015.38.051.64.145.863.204.49.596.88 1.09 1.083.37.152.84.152 1.779.152s1.409 0 1.779-.152a2.008 2.008 0 0 0 1.09-1.083c.094-.223.13-.483.145-.863.02-.558.309-1.074.796-1.353a1.64 1.64 0 0 1 1.579-.008c.338.178.583.276.825.308.53.07 1.066-.073 1.49-.396.318-.242.553-.646 1.022-1.453.47-.807.704-1.21.757-1.605a1.99 1.99 0 0 0-.4-1.479c-.148-.192-.357-.353-.68-.555-.477-.297-.783-.803-.783-1.361 0-.558.306-1.064.782-1.36.324-.203.533-.364.682-.556a1.99 1.99 0 0 0 .399-1.479c-.053-.394-.287-.798-.757-1.605-.47-.807-.704-1.21-1.022-1.453a2.026 2.026 0 0 0-1.49-.396c-.242.032-.487.13-.825.308a1.64 1.64 0 0 1-1.58-.008 1.615 1.615 0 0 1-.795-1.353c-.015-.38-.051-.64-.145-.863a2.007 2.007 0 0 0-1.09-1.083ZM12.5 15c1.67 0 3.023-1.343 3.023-3S14.169 9 12.5 9c-1.67 0-3.023 1.343-3.023 3s1.354 3 3.023 3Z" fill="currentColor"></path></svg>');function lr(e){var t=Ka();b(e,t)}var Ga=_e('<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-1lqi79o"><path d="M4 6h16M4 12h16M4 18h16" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>');function Ja(e){var t=Ga();b(e,t)}const R=K({pathname:window.location.pathname,search:window.location.search,historyLength:0}),ir=()=>{var e;return((e=new URLSearchParams(R.search).get("selectedTags"))==null?void 0:e.split(","))||[]};let pt=ir();const Qa=()=>{const e=ir();return e.join(",")===pt.join(",")||(pt=e),pt},es=()=>{R.pathname=document.location.pathname,R.search=document.location.search,R.historyLength=Math.max(0,R.historyLength-=1)};window.addEventListener("popstate",es);const Tt=e=>{const[t,n]=e.split("?");R.pathname=t,R.search=n?`?${n}`:"",R.historyLength+=1,window.history.pushState(null,"",e)},ts=e=>{const[t,n]=e.split("?");R.pathname=t,R.search=n?`?${n}`:"",window.history.replaceState(null,"",e)},cn=(e="/")=>{const[t,n]=e.split("?");R.historyLength<=0?(window.history.replaceState(null,"",e),R.historyLength=0,R.pathname=t,R.search=n?`?${n}`:""):window.history.back()},Pe=K({shown:!1}),Ne=()=>{var e;return((e=new URLSearchParams(R.search).get("stackPages"))==null?void 0:e.split(","))||[]};let Ve=I(K(Ne()));const Qe=e=>{const t=Ne();t.push(e);const n=new URLSearchParams(R.search);n.set("stackPages",t.join(",")),y(Ve,t,!0),Tt(`${R.pathname}?${n.toString()}`)},ns=()=>{const e=l(Ve).slice(0,-1);y(Ve,e,!0)},rs=()=>{const e=Ne();return e.length>=l(Ve).length?e.reduce((t,n)=>[...t,{page:n,shown:!0}],[]):l(Ve).reduce((t,n,r)=>[...t,{page:n,shown:r!==l(Ve).length-1}],[])},as=e=>{e.preventDefault(),Qe("settings")},ss=e=>{e.preventDefault(),Tt("/")},os=e=>{e.preventDefault(),Qe("newBookmark")};var ls=N('<a href="/"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Home</span></a>'),is=N('<a class="link svelte-e5g06v"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Settings</span></a>'),cs=N('<a class="addBookmark svelte-e5g06v"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Add bookmark</span></a>'),us=N('<div class="header svelte-e5g06v"><div class="top svelte-e5g06v"><div class="desktop svelte-e5g06v"><!></div> <div class="mobile svelte-e5g06v"><button class="buttonMenu svelte-e5g06v"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button></div> <!></div></div>');function vs(e,t){Y(t,!0);const n=()=>{Pe.shown=!0},r=()=>{const g=Ne();g.includes("settings")||g.push("settings");const m=new URLSearchParams(R.search);return m.set("stackPages",g.join(",")),`${R.pathname}?${m}`};let a=te(()=>{const g=Ne();g.includes("newBookmark")||g.push("newBookmark");const m=new URLSearchParams(R.search);return m.set("stackPages",g.join(",")),`${R.pathname}?${m}`}),o=te(r);var i=us(),c=S(i),f=S(c),u=S(f);{var d=g=>{var m=ls();m.__click=[ss],$(m,1,V(["link","hash"]),"svelte-e5g06v");var w=S(m);me(w,()=>({"--size":"20px"})),Za(w.lastChild),b(g,m)},v=g=>{var m=is();m.__click=[as];var w=S(m);me(w,()=>({"--size":"20px"})),lr(w.lastChild),G(()=>Se(m,"href",l(o))),b(g,m)};W(u,g=>{R.pathname==="/settings"?g(d):g(v,!1)})}var _=D(f,2),h=S(_);h.__click=n;var x=S(h);me(x,()=>({"--size":"36px"})),Ja(x.lastChild);var T=D(x,2);ut(T,{children:(g,m)=>{var w=ge("Menu");b(g,w)}});var O=D(_,2);{var P=g=>{var m=cs();m.__click=[os];var w=S(m);me(w,()=>({"--size":"24px","--color":"#b0b0b0"})),Xa(w.lastChild),G(()=>Se(m,"href",l(a))),b(g,m)};W(O,g=>{R.pathname!=="/settings"&&g(P)})}b(e,i),X()}qe(["click"]);var fs=_e('<svg viewBox="0 0 5.292 5.292" xmlns="http://www.w3.org/2000/svg" class="svelte-1lqi79o"><path style="fill:currentColor;stroke-width:.374736" transform="scale(1.02869 .97047) rotate(45)" d="M2.678-1.906h.514V1.18h-.514z"></path><path style="fill:currentColor;stroke-width:.374736" transform="scale(-1.02869 -.97047) rotate(-45)" d="M.664-5.762h.514v3.086H.664z"></path></svg>');function ds(e){var t=fs();b(e,t)}const Lt=K({working:!1});var hs=_e('<svg viewBox="0 0 5.292 5.292" xmlns="http://www.w3.org/2000/svg" class="svelte-1lqi79o"><path style="fill:currentColor;stroke-width:.584099" transform="rotate(45)" d="M3.341-2.405h.802v4.811h-.802z"></path><path style="fill:currentColor;stroke-width:.584099" transform="rotate(135)" d="M-.401-6.147h.802v4.811h-.802z"></path></svg>');function _s(e){var t=hs();b(e,t)}const ps=({getDialog:e,getDialogInner:t,onClose:n})=>{const r=s=>{const a=e(),o=t();s.target&&(a!=null&&a.open)&&o&&o!==s.target&&!o.contains(s.target)&&n()};Ie(()=>(document.addEventListener("mousedown",r,{capture:!0}),()=>{document.removeEventListener("mousedown",r,{capture:!0})}))},gs=({getDialog:e,getDialogInner:t,onOpen:n,onStartClose:r,onClose:s})=>{ps({getDialog:e,getDialogInner:t,onClose:r});const a=i=>{i.preventDefault(),r()},o=()=>{s==null||s()};Ie(()=>{const i=e();return i==null||i.addEventListener("close",o),i==null||i.addEventListener("cancel",a),()=>{i==null||i.removeEventListener("close",o),i==null||i.removeEventListener("cancel",a)}}),Ie(()=>{const i=e();i==null||i.showModal(),i==null||i.getBoundingClientRect(),n()})};var ms=(e,t)=>{t.onStartClose()},ws=(e,t)=>{t.onStartClose()},ks=N('<dialog><div class="dialogInner svelte-nrfs4t"><span tabindex="1"></span> <!> <div class="header svelte-nrfs4t"><div><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button></div> <div><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button></div></div></div></dialog>');function bs(e,t){Y(t,!0);let n=fe(t,"hiddenDialog",3,!1),r=fe(t,"isDesktopAnimationOff",3,!1),s=I(null),a=I(null);gs({getDialog:()=>l(s),getDialogInner:()=>l(a),onOpen:t.onOpen,onStartClose:t.onStartClose,onClose:t.onClose}),se(()=>{var P,g;t.stateDialog==="closing"&&(Lt.working?(P=l(s))==null||P.addEventListener("transitionend",()=>{var m;(m=l(s))==null||m.close()},{once:!0}):(g=l(s))==null||g.close())});var o=ks(),i=S(o),c=D(S(i),2);ht(c,()=>t.children);var f=D(c,2),u=S(f),d=S(u);$(d,1,V(["navigateButton","buttonBack"]),"svelte-nrfs4t"),d.__click=[ms,t];var v=S(d);me(v,()=>({"--size":"20px"})),ds(v.lastChild);var _=D(v,2);ut(_,{children:(P,g)=>{var m=ge("back");b(P,m)}});var h=D(u,2),x=S(h);$(x,1,V(["navigateButton","buttonClose"]),"svelte-nrfs4t"),x.__click=[ws,t];var T=S(x);me(T,()=>({"--size":"20px"})),_s(T.lastChild);var O=D(T,2);ut(O,{children:(P,g)=>{var m=ge("close");b(P,m)}}),ye(i,P=>y(a,P),()=>l(a)),ye(o,P=>y(s,P),()=>l(s)),G(()=>$(o,1,V([{open:t.stateDialog==="open",isAnimationOn:Lt.working,isDesktopAnimationOff:r(),hiddenDialog:n()}]),"svelte-nrfs4t")),b(e,o),X()}qe(["click"]);const ys=({onStartClose:e,onClose:t})=>{let n=I("close");return{get state(){return l(n)},set state(o){y(n,o,!0)},handleStartClose:(o=!1)=>{o||(y(n,"closing"),e==null||e())},handleOpen:()=>{y(n,"open")},handleClose:()=>{y(n,"close"),t==null||t()}}};function cr(e,t){Y(t,!0);let n=fe(t,"blockedClose",3,!1),r=fe(t,"hiddenDialog",3,!1),s=fe(t,"onStartClose",3,()=>{}),a=fe(t,"onClose",3,()=>{}),o=ys({onStartClose:s(),onClose:a()});se(()=>{o.state==="close"&&t.shownDialog?o.state="opening":o.state==="open"&&!t.shownDialog&&o.handleStartClose(n())});var i=Oe(),c=J(i);{var f=u=>{bs(u,{get stateDialog(){return o.state},get hiddenDialog(){return r()},get onOpen(){return o.handleOpen},onStartClose:()=>o.handleStartClose(n()),get onClose(){return o.handleClose},children:(d,v)=>{var _=Oe(),h=J(_);ht(h,()=>t.children),b(d,_)},$$slots:{default:!0}})};W(c,u=>{o.state!=="close"&&u(f)})}b(e,i),X()}function Es(e,t){Y(t,!0),cr(e,{get shownDialog(){return t.shown},get blockedClose(){return t.hidden},get hiddenDialog(){return t.hidden},onStartClose:()=>{cn()},onClose:()=>{ns()},children:(s,a)=>{var o=Oe(),i=J(o);ht(i,()=>t.children),b(s,o)},$$slots:{default:!0}}),X()}const ur=()=>crypto.randomUUID(),Ss="bookmarksStore",xs=1,he="bookmarks";let Z;window.addEventListener("unhandledrejection",e=>{alert("Error: "+e.reason.message)});const Cs=()=>new Promise((e,t)=>{const n=indexedDB.open(Ss,xs);n.addEventListener("upgradeneeded",()=>{const r=n.result;console.log("success upgradeneeded"),r.objectStoreNames.contains(he)||r.createObjectStore(he,{keyPath:"id"})}),n.addEventListener("success",()=>{console.log("success open"),e(),Z=n.result,Z.onversionchange=function(){Z==null||Z.close(),alert("app outdated, please reload the page")}}),n.addEventListener("blocked",()=>{t(),alert("app outdated, please reload the page")}),n.addEventListener("error",()=>{t(),console.error("Error",n.error)})}),vr=()=>new Promise((e,t)=>{const n=Z==null?void 0:Z.transaction(he,"readonly"),r=n==null?void 0:n.objectStore(he).getAll();r==null||r.addEventListener("success",()=>{const s=r.result;e(s)}),r==null||r.addEventListener("error",()=>{t()})}),Ts=async e=>new Promise((t,n)=>{const r=Z==null?void 0:Z.transaction(he,"readwrite"),s=r==null?void 0:r.objectStore(he),a=s==null?void 0:s.put({...e});a==null||a.addEventListener("success",()=>{t()}),a==null||a.addEventListener("error",()=>{n()})}),Ls=async e=>new Promise((t,n)=>{const r=Z==null?void 0:Z.transaction(he,"readwrite"),s=r==null?void 0:r.objectStore(he),a=s==null?void 0:s.delete(e);a==null||a.addEventListener("success",()=>{t()}),a==null||a.addEventListener("error",()=>{n()})}),Ps=async e=>{const t=(await vr()).reduce((a,o)=>(a[o.id]=o,a),{}),n={},r=Z==null?void 0:Z.transaction(he,"readwrite"),s=r==null?void 0:r.objectStore(he);e.forEach(a=>{t[a.id]?t[a.id].lastUpdatedTimestamp<a.lastUpdatedTimestamp&&(n[a.id]=a):n[a.id]=a}),await Promise.all(Object.values(n).map(a=>{const o=s==null?void 0:s.put(a);return new Promise((i,c)=>{o==null||o.addEventListener("success",()=>{i()}),o==null||o.addEventListener("error",()=>{c()})})}))},Ds=async e=>{const t=Z==null?void 0:Z.transaction(he,"readwrite"),n=t==null?void 0:t.objectStore(he);await Promise.all(Array.from({length:1e3},(r,s)=>{const a=[];for(let c=0;c<Math.random()*5;c++){const f=(Math.random()*100).toFixed();a.includes(f)||a.push(f)}const o={...e,order:s,id:ur(),createdTimestamp:Date.now(),lastUpdatedTimestamp:Date.now(),title:a.join("#"),tags:a},i=n==null?void 0:n.put(o);return new Promise((c,f)=>{i==null||i.addEventListener("success",()=>{s%1e4===0&&console.log(`bookmark ${s} done`),c()}),i==null||i.addEventListener("error",()=>{console.log(`bookmark ${s} error`),f()})})}))};let ce=I({inited:!1,bookmarks:[],mapBookmarks:new Map});const un=async()=>{const e=await vr(),t=new Map,n=[];e.forEach(r=>{n[r.order]=r,t.set(r.id,r)}),y(ce,{...l(ce),bookmarks:n,mapBookmarks:t,inited:!0})};Cs().then(async()=>{await un()}).catch(()=>{console.error("failed to init db")});const fr=()=>l(ce).inited,Ms=()=>l(ce).bookmarks,Bs=async e=>{const t={...e,lastUpdatedTimestamp:Date.now()};l(ce).bookmarks[t.order]=t,l(ce).mapBookmarks.set(t.id,t),y(ce,{...l(ce)}),await Ts(t)},Os=async e=>{await Ds(e),await un()},As=async e=>{const t=l(ce).mapBookmarks.get(e);l(ce).mapBookmarks.delete(e),l(ce).bookmarks[(t==null?void 0:t.order)||0]=void 0,y(ce,{...l(ce)}),await Ls(e)},xn=async e=>{await Ps(e),await un()};let dr=I({});const hr=()=>l(dr),Is=e=>{y(dr,e)};var Ns=N('<input class="svelte-1jzizl8">');function Yt(e,t){Y(t,!0);let n=fe(t,"value",15,"");var r=Ns();G(()=>Se(r,"placeholder",t.placeholder)),rt(r,n),b(e,r),X()}var qs=N('<div class="content-wrapper svelte-1yw9qow"><!></div>'),Rs=N('<dialog><div class="dialogInner svelte-1yw9qow"><!></div></dialog>');function js(e,t){Y(t,!0);let n=0,r=0,s=0,a=!1,o=!1,i=0,c=0;const f=5;let u=I(null),d=I(null),v=I("close");const _=()=>{y(v,"closing"),Pe.shown=!1,setTimeout(()=>{var p;(p=l(u))==null||p.close()},300)},h=()=>{y(v,"open"),Pe.shown=!0},x=()=>{var p;y(v,"close"),Pe.shown=!1,o=!1,(p=l(u))==null||p.close()},T=p=>{p.preventDefault(),_()};function O(p){t.blocking&&(l(v)==="open"||l(v)==="close")||(n=p.touches[0].clientX,r=p.touches[0].clientY,a=!0,o=!1)}function P(p){if(!a||t.blocking||!l(u))return;const k=p.touches[0].clientX,C=p.touches[0].clientY,E=k-n,M=C-r,B=Math.abs(E)>Math.abs(M),z=Math.abs(E)>f;if(!o)if(B&&z){l(v)==="close"&&(y(v,"opening"),l(u).showModal(),l(u).offsetWidth);const le=window.getComputedStyle(l(u)),Le=le.transform||le.webkitTransform;s=new DOMMatrix(Le).m41,c=l(u).offsetWidth,l(u).style.setProperty("--transition-timing","0s"),o=!0}else return;o&&B&&p.preventDefault();let U=s+E*.95;const oe=-c,re=-.3*c;U=Math.max(oe,Math.min(re,U)),l(u).style.transform=`translate3d(${U}px, 0, 0)`,i=(U-s)/c*100,l(v)==="open"?l(u).style.setProperty("--backdrop-bg",`rgba(0, 0, 0, ${.25*(1-Math.abs(i)/100)})`):l(u).style.setProperty("--backdrop-bg",`rgba(0, 0, 0, ${.25*(Math.abs(i)/100)})`),i=(U-s)/c*100,o&&B&&p.preventDefault()}function g(p){if(!a||!l(u))return;if(!o){a=!1,i=0;return}let k=0;if(p&&p.changedTouches&&p.changedTouches.length>0){const oe=p.changedTouches[0].clientX,re=performance.now(),le=p.timeStamp||performance.now()-100,Le=re-le;Le>0&&(k=(oe-n)/Le)}const C=10,E=.3,M=i,B=.3;let z;l(v)==="open"?M<-10?z=B*Math.max(.5,1-Math.abs(i)/100):z=B*Math.max(.5,Math.abs(i)/100):M>C?z=B*Math.max(.5,Math.abs(i)/100):z=B*Math.max(.5,1-Math.abs(i)/100),l(u).style.setProperty("--transition-timing",`${z}s`),l(u).addEventListener("transitionend",()=>{var oe,re;(oe=l(u))==null||oe.style.removeProperty("--transition-timing"),(re=l(u))==null||re.style.removeProperty("transition")},{once:!0}),l(u).offsetWidth;const Q=l(v)!=="open"&&(M>C||k>E);l(v)==="open"&&(M<-10||k<-.3)?(l(u).style.transform="",_()):Q?(l(u).style.transform="",h()):(l(u).style.transform="",l(v)==="opening"&&_()),l(u).style.removeProperty("--backdrop-bg"),a=!1,o=!1,i=0}const m=p=>{var k;p.target&&((k=l(u))!=null&&k.open)&&l(d)&&l(d)!==p.target&&!l(d).contains(p.target)&&!t.blocking&&_()};Ie(()=>(document.addEventListener("mousedown",m,{capture:!0}),()=>{document.removeEventListener("mousedown",m,{capture:!0})})),Ie(()=>{var C,E;const p=new ResizeObserver(()=>{l(u)&&(c=l(u).offsetWidth)});l(u)&&p.observe(l(u));const k=M=>{const B=M.touches[0].clientX;l(v)==="close"&&B>20||O(M)};return document.addEventListener("touchstart",k,{passive:!0}),document.addEventListener("touchmove",P,{passive:!1}),document.addEventListener("touchend",g,{passive:!0}),document.addEventListener("touchcancel",g,{passive:!0}),(C=l(u))==null||C.addEventListener("close",x),(E=l(u))==null||E.addEventListener("cancel",T),()=>{var M,B;(M=l(u))==null||M.removeEventListener("close",x),(B=l(u))==null||B.removeEventListener("cancel",T),document.removeEventListener("touchstart",k),document.removeEventListener("touchmove",P),document.removeEventListener("touchend",g),document.removeEventListener("touchcancel",g)}}),se(()=>{var p;if(l(v)==="closing"){const k=()=>{var C;(C=l(u))==null||C.close()};return(p=l(u))==null||p.addEventListener("transitionend",k,{once:!0}),()=>{var C;(C=l(u))==null||C.removeEventListener("transitionend",k)}}}),se(()=>{console.log("sidebarState",l(v)),console.log("mobileSidebar.shown",Pe.shown),console.log("hasPassedThreshold",o)}),se(()=>{var p,k;Pe.shown,l(v),!o&&(l(v)==="close"&&Pe.shown?((p=l(u))==null||p.showModal(),(k=l(u))==null||k.getBoundingClientRect(),h()):l(v)==="open"&&!Pe.shown&&_())});var w=Rs(),q=S(w),L=S(q);{var A=p=>{var k=qs(),C=S(k);ht(C,()=>t.children),b(p,k)};W(L,p=>{l(v)!=="close"&&p(A)})}ye(q,p=>y(d,p),()=>l(d)),ye(w,p=>y(u,p),()=>l(u)),G(()=>$(w,1,V([{open:l(v)==="open",hidden:t.blocking}]),"svelte-1yw9qow")),b(e,w),X()}const _r=()=>window.matchMedia("(max-width: 768px)").matches;let pr=I(K(_r()));const Fs=(e,t)=>{let n=null;return()=>{n&&clearTimeout(n),n=setTimeout(()=>{e()},t)}},Hs=Fs(()=>{y(pr,_r(),!0)},16);window.addEventListener("resize",Hs);const Us=()=>l(pr),zs=e=>{e.preventDefault(),Qe("settings")};var Vs=(e,t,n)=>t(n),$s=N("<button> </button>"),Ws=N("<div></div>"),Zs=(e,t,n)=>t(l(n).name),Ys=N('<button class="tag svelte-y69ysu"> </button>'),Xs=N('<div class="sidebarFixed svelte-y69ysu"><a class="link svelte-y69ysu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Settings</span></a> <div class="searchWrapper svelte-y69ysu"><!></div> <!></div> <div class="tags svelte-y69ysu"></div>',1),Ks=(e,t,n)=>t(n),Gs=N("<button> </button>"),Js=N("<div></div>"),Qs=(e,t,n)=>t(l(n).name),eo=N('<button class="tag svelte-y69ysu"> </button>'),to=N('<div class="sidebar svelte-y69ysu"><div class="sidebarFixed svelte-y69ysu"><div class="searchWrapper svelte-y69ysu"><!></div> <!></div> <div class="tags svelte-y69ysu"></div></div>');function no(e,t){Y(t,!0);let n=I(""),r=te(()=>{var h;return((h=new URLSearchParams(R.search).get("selectedTags"))==null?void 0:h.split(","))||[]});const s=()=>{const h=Ne();h.includes("settings")||h.push("settings");const x=new URLSearchParams(R.search);return x.set("stackPages",h.join(",")),`${R.pathname}?${x}`},a=h=>{const x=new URLSearchParams(R.search);x.set("selectedTags",[...l(r),h].join(",")),Tt(`${R.pathname}${x.size>0?`?${x.toString()}`:""}`)},o=h=>{const x=new URLSearchParams(R.search),T=l(r).filter(O=>O!==h);T.length===0?x.delete("selectedTags"):x.set("selectedTags",T.join(",")),Tt(`${R.pathname}${x.size>0?`?${x.toString()}`:""}`)};let i=te(()=>fr()?Object.values(hr()).filter(h=>!l(r).some(x=>h.name===x)):[]),c=te(s),f=te(()=>Ne().length>0);var u=Oe(),d=J(u);{var v=h=>{js(h,{get blocking(){return l(f)},children:(x,T)=>{var O=Xs(),P=J(O),g=S(P);g.__click=[zs];var m=S(g);me(m,()=>({"--size":"20px"})),lr(m.lastChild);var w=D(g,2),q=S(w);Yt(q,{placeholder:"Search tag",get value(){return l(n)},set value(k){y(n,k,!0)}});var L=D(w,2);{var A=k=>{var C=Ws();$(C,1,V(["tags","selectedTags"]),"svelte-y69ysu"),Ue(C,20,()=>l(r),E=>E,(E,M)=>{var B=$s();B.__click=[Vs,o,M],$(B,1,V(["tag","selectedTag"]),"svelte-y69ysu");var z=S(B);G(()=>Re(z,M)),b(E,B)}),b(k,C)};W(L,k=>{l(r).length>0&&k(A)})}var p=D(P,2);Ue(p,21,()=>l(i),k=>k.name,(k,C)=>{var E=Oe(),M=J(E);{var B=z=>{var Q=Ys();Q.__click=[Zs,a,C];var U=S(Q);G(()=>Re(U,l(C).name)),b(z,Q)};W(M,z=>{(l(n)===""||l(C).name.toLowerCase().indexOf(l(n).toLowerCase())!==-1)&&z(B)})}b(k,E)}),G(()=>Se(g,"href",l(c))),b(x,O)},$$slots:{default:!0}})},_=h=>{var x=to(),T=S(x),O=S(T),P=S(O);Yt(P,{placeholder:"Search tag",get value(){return l(n)},set value(q){y(n,q,!0)}});var g=D(O,2);{var m=q=>{var L=Js();$(L,1,V(["tags","selectedTags"]),"svelte-y69ysu"),Ue(L,20,()=>l(r),A=>A,(A,p)=>{var k=Gs();k.__click=[Ks,o,p],$(k,1,V(["tag","selectedTag"]),"svelte-y69ysu");var C=S(k);G(()=>Re(C,p)),b(A,k)}),b(q,L)};W(g,q=>{l(r).length>0&&q(m)})}var w=D(T,2);Ue(w,21,()=>l(i),q=>q.name,(q,L)=>{var A=Oe(),p=J(A);{var k=C=>{var E=eo();E.__click=[Qs,a,L];var M=S(E);G(()=>Re(M,l(L).name)),b(C,E)};W(p,C=>{(l(n)===""||l(L).name.toLowerCase().indexOf(l(n).toLowerCase())!==-1)&&C(k)})}b(q,A)}),b(h,x)};W(d,h=>{Us()?h(v):h(_,!1)})}b(e,u),X()}qe(["click"]);var ro=N('<form class="svelte-140y8w3"><input placeholder="title" type="text" class="svelte-140y8w3"> <input placeholder="url" type="text" class="svelte-140y8w3"> <textarea placeholder="description" class="svelte-140y8w3"></textarea> <input placeholder="tags" type="text" class="svelte-140y8w3"> <button class="buttonSubmit svelte-140y8w3" type="submit">add bookmark</button></form>');function gr(e,t){Y(t,!0);let n=fe(t,"initialTitle",3,""),r=fe(t,"initialUrl",3,""),s=fe(t,"initialDescription",3,""),a=fe(t,"initialTags",3,""),o=I(K(n())),i=I(K(r())),c=I(K(s())),f=I(K(a()));const u=T=>{T.preventDefault(),t.onSubmit({title:l(o),url:l(i),description:l(c),tags:l(f)})};var d=ro(),v=S(d),_=D(v,2),h=D(_,2),x=D(h,2);tt("submit",d,u),rt(v,()=>l(o),T=>y(o,T)),rt(_,()=>l(i),T=>y(i,T)),rt(h,()=>l(c),T=>y(c,T)),rt(x,()=>l(f),T=>y(f,T)),b(e,d),X()}function ao(e,t){Y(t,!0);let n=I(!0);const r=()=>{t.onClose()},s=()=>{y(n,!1)},a=({title:o,url:i,description:c,tags:f})=>{Bs({...t.bookmark,title:o,url:i,description:c,tags:f.split(" ").map(u=>u.trim())}),s()};cr(e,{get shownDialog(){return l(n)},onClose:r,children:(o,i)=>{const c=te(()=>t.bookmark.tags.join(" "));gr(o,{get initialTitle(){return t.bookmark.title},get initialUrl(){return t.bookmark.url},get initialDescription(){return t.bookmark.description},get initialTags(){return l(c)},onSubmit:a})},$$slots:{default:!0}}),X()}var so=_e('<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-1lqi79o"><path d="M16 16v2.8c0 1.12 0 1.68-.218 2.108a2 2 0 0 1-.874.874C14.48 22 13.92 22 12.8 22H5.2c-1.12 0-1.68 0-2.108-.218a2 2 0 0 1-.874-.874C2 20.48 2 19.92 2 18.8v-7.6c0-1.12 0-1.68.218-2.108a2 2 0 0 1 .874-.874C3.52 8 4.08 8 5.2 8H8m3.2 8h7.6c1.12 0 1.68 0 2.108-.218a2 2 0 0 0 .874-.874C22 14.48 22 13.92 22 12.8V5.2c0-1.12 0-1.68-.218-2.108a2 2 0 0 0-.874-.874C20.48 2 19.92 2 18.8 2h-7.6c-1.12 0-1.68 0-2.108.218a2 2 0 0 0-.874.874C8 3.52 8 4.08 8 5.2v7.6c0 1.12 0 1.68.218 2.108a2 2 0 0 0 .874.874C9.52 16 10.08 16 11.2 16Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>');function oo(e){var t=so();b(e,t)}var lo=_e('<svg viewBox="0 0 13.229 13.229" xmlns="http://www.w3.org/2000/svg" class="svelte-1lqi79o"><circle style="fill:currentColor;stroke-width:.4378" cx="3.175" cy="6.615" r="1.058"></circle><circle style="fill:currentColor;stroke-width:.4378" cx="6.615" cy="6.615" r="1.058"></circle><circle style="fill:currentColor;stroke-width:.4378" cx="10.054" cy="6.615" r="1.058"></circle></svg>');function io(e){var t=lo();b(e,t)}const co=(e,t,n)=>{const r=hr();t.bookmark.tags.forEach(s=>{if(l(n).includes(s)&&r[s].connections===1){const a=new URLSearchParams(R.search),o=l(n).filter(i=>i!==s);o.length===0?a.delete("selectedTags"):a.set("selectedTags",o.join(",")),ts(`${R.pathname}${a.size>0?`?${a.toString()}`:""}`)}}),As(t.bookmark.id)},uo=(e,t)=>{y(t,!0)},vo=(e,t,n)=>{y(t,!1),y(n,!0)},fo=(e,t)=>{navigator.clipboard.writeText(t.bookmark.url),Ua("Link copied to clipboard")};var ho=N('<li class="bookmark svelte-hwv8qt"><div class="bookmarkTitle svelte-hwv8qt"><img class="bookmarkIcon" height="16" width="16" alt="icon"> <a class="bookmarkLink svelte-hwv8qt" target="_blank" rel="noopener noreferrer"> </a></div> <div><button class="button svelte-hwv8qt"><!> <!></button> <div><button class="menuButton svelte-hwv8qt">Edit</button> <button class="menuButton svelte-hwv8qt">Delete</button></div> <button><!> <!></button></div></li> <!>',1);function _o(e,t){Y(t,!0);let n=te(()=>{var E;return((E=new URLSearchParams(R.search).get("selectedTags"))==null?void 0:E.split(","))||[]}),r=I(!1),s=I(!1),a=I(null),o=I(null);const i=E=>{var M,B;E.target!==l(o)&&E.target!==l(a)&&!((M=l(a))!=null&&M.contains(E.target))&&!((B=l(o))!=null&&B.contains(E.target))&&y(r,!1)},c=()=>{y(s,!1)};se(()=>(document.addEventListener("click",i),()=>{document.removeEventListener("click",i)}));const f=E=>{try{return`https://www.google.com/s2/favicons?domain=${new URL(E).host}&sz=32`}catch{return""}};var u=ho(),d=J(u),v=S(d),_=S(v),h=D(_,2),x=S(h),T=D(v,2),O=S(T);O.__click=[fo,t];var P=S(O);oo(P);var g=D(P,2);ut(g,{children:(E,M)=>{var B=ge("copy link");b(E,B)}});var m=D(O,2),w=S(m);w.__click=[vo,r,s];var q=D(w,2);q.__click=[co,t,n],ye(m,E=>y(o,E),()=>l(o));var L=D(m,2);L.__click=[uo,r],$(L,1,V(["button","buttonMenu"]),"svelte-hwv8qt");var A=S(L);io(A);var p=D(A,2);ut(p,{children:(E,M)=>{var B=ge("show menu");b(E,B)}}),ye(L,E=>y(a,E),()=>l(a));var k=D(d,2);{var C=E=>{ao(E,{get bookmark(){return t.bookmark},onClose:c})};W(k,E=>{l(s)&&E(C)})}G(E=>{Se(_,"src",E),Se(h,"href",t.bookmark.url),Re(x,t.bookmark.title),$(T,1,V(["bookmarkMenuWrapper",{bookmarkMenuWrapperActive:l(r)}]),"svelte-hwv8qt"),$(m,1,V(["bookmarkMenu",{bookmarkShownMenu:l(r)}]),"svelte-hwv8qt")},[()=>f(t.bookmark.url)]),b(e,u),X()}qe(["click"]);var po=N('<div class="emptyMessage svelte-10e5k3k">No bookmarks found</div>'),go=N('<div class="searchWrapper svelte-10e5k3k"><!></div> <div class="feed svelte-10e5k3k"><ul class="svelte-10e5k3k"><!> <!></ul></div>',1);function mo(e,t){Y(t,!0);let n=I(null),r=44,s=I(0),a=I(0),o=I(K([])),i=I("");const c=Xr("main");let f=te(c),u=null;const d=te(Qa);se(()=>{var p;l(i),l(d),(p=l(f))==null||p.scrollTo(0,0)});const v=()=>{u&&cancelAnimationFrame(u),u=requestAnimationFrame(()=>{var k;const p=((k=l(f))==null?void 0:k.scrollTop)||0;y(a,Math.floor(p/r)*r)})},_=()=>{var p;v(),l(n)&&y(s,window.innerHeight-((p=l(n))==null?void 0:p.getBoundingClientRect().top))};Ie(()=>{_(),v()}),se(()=>{var p;return(p=l(f))==null||p.addEventListener("scroll",v),window.addEventListener("resize",_),()=>{var k;(k=l(f))==null||k.removeEventListener("scroll",v),window.removeEventListener("resize",_)}}),se(()=>{const p=Ms(),k=[],C={};for(let E=p.length-1;E>=0;E--){const M=p[E];if(M&&!(l(d).length&&l(d).some(B=>!M.tags.includes(B)))&&!(l(i)&&!(M.title.toLowerCase().includes(l(i).toLowerCase())||M.url.toLowerCase().includes(l(i).toLowerCase())))){if(M.tags)for(const B of M.tags)C[B]?C[B].connections++:C[B]={name:B,connections:1};k.push(M)}}Is(C),y(o,k,!0)});const h=te(()=>l(o).length*r);let T=te(()=>{const p=Math.ceil(l(s)/r),k=Math.floor(l(a)/r);return l(o).slice(k,k+p)});var O=go(),P=J(O),g=S(P);Yt(g,{placeholder:"Search",get value(){return l(i)},set value(p){y(i,p,!0)}});var m=D(P,2),w=S(m),q=S(w);Ue(q,17,()=>l(T),p=>p.id,(p,k)=>{_o(p,{get bookmark(){return l(k)}})});var L=D(q,2);{var A=p=>{var k=po();b(p,k)};W(L,p=>{l(T).length===0&&fr()&&p(A)})}ye(w,p=>y(n,p),()=>l(n)),G(p=>{kn(m,`height: ${p??""}px`),kn(w,`height: ${l(s)??""}px; transform: translateY(${l(a)??""}px)`)},[()=>Math.max(l(h),30)]),b(e,O),X()}var wo=N('<!> <div class="content svelte-cu0ar8"><!></div>',1);function ko(e){var t=wo(),n=J(t);no(n,{});var r=D(n,2),s=S(r);mo(s,{}),b(e,t)}var bo=_e('<svg width="800" height="800" viewBox="-3 0 32 32" xmlns="http://www.w3.org/2000/svg" class="svelte-1lqi79o"><path d="M23 8H3a1 1 0 1 1 0-2h20a1 1 0 0 1 0 2Zm-1 20a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V10h18v18ZM10 3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v1h-6V3Zm14 1h-6V2a2 2 0 0 0-2-2h-6a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v2a2 2 0 0 0 2 2v18a4 4 0 0 0 4 4h14a4 4 0 0 0 4-4V10a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2ZM13 28a1 1 0 0 0 1-1V15a1 1 0 0 0-2 0v12a1 1 0 0 0 1 1Zm-5 0a1 1 0 0 0 1-1V15a1 1 0 0 0-2 0v12a1 1 0 0 0 1 1Zm10 0a1 1 0 0 0 1-1V15a1 1 0 0 0-2 0v12a1 1 0 0 0 1 1Z" fill="currentColor" fill-rule="evenodd"></path></svg>');function yo(e){var t=bo();b(e,t)}var Eo=_e('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" class="svelte-1lqi79o"><path fill-rule="evenodd" stroke="currentColor" fill="currentColor" d="M14 9.004a1 1 0 0 1 1 1v3a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-3a1 1 0 0 1 2 0v3h10v-3a1 1 0 0 1 1-1ZM8 1.59l3.707 3.707a1 1 0 0 1-1.414 1.414L9 5.418v4.586a1 1 0 1 1-2 0V5.418L5.707 6.711a1 1 0 0 1-1.414-1.414L8 1.59Z"></path></svg>');function So(e){var t=Eo();b(e,t)}var xo=_e('<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" class="svelte-1lqi79o"><path fill-rule="evenodd" stroke="currentColor" fill="currentColor" d="M14 9a1 1 0 0 1 1 1v3a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-3a1 1 0 0 1 2 0v3h10v-3a1 1 0 0 1 1-1ZM8 1a1 1 0 0 1 1 1v4.586l1.293-1.293a1 1 0 1 1 1.414 1.414L8 10.414 4.293 6.707a1 1 0 0 1 1.414-1.414L7 6.586V2a1 1 0 0 1 1-1Z"></path></svg>');function Co(e){var t=xo();b(e,t)}var De=(e=>(e.Light="light",e.Auto="auto",e.Dark="dark",e))(De||{});const Ut=(e,t)=>{const n=e.target.value;localStorage.setItem("colorScheme",n),document.documentElement.setAttribute("data-color-scheme",n),y(t,n,!0)};var To=N('<div class="wrapper svelte-1lqc4qo"><fieldset class="switcher svelte-1lqc4qo"><legend class="vh svelte-1lqc4qo">Color Scheme</legend> <input id="light" type="radio" aria-label="Light"> <label for="light" title="Light" aria-label="Light"></label> <input id="auto" type="radio" aria-label="Auto"> <label for="auto" title="Auto" aria-label="Auto"></label> <input id="dark" type="radio" aria-label="Dark"> <label for="dark" title="Dark" aria-label="Dark"></label> <div class="wrapSwitcherStatus svelte-1lqc4qo"><div class="switcherStatus svelte-1lqc4qo"></div></div></fieldset></div>');function Lo(e,t){Y(t,!0);let n=I(K(localStorage.getItem("colorScheme")||De.Auto));const r="color-scheme-switcher";var s=To(),a=S(s),o=D(S(a),2);$(o,1,V(["vh","input"]),"svelte-1lqc4qo"),Se(o,"name",r),o.__change=[Ut,n];var i=D(o,2);$(i,1,V(["switcherButton","light"]),"svelte-1lqc4qo");var c=D(i,2);$(c,1,V(["vh","input"]),"svelte-1lqc4qo"),Se(c,"name",r),c.__change=[Ut,n];var f=D(c,2);$(f,1,V(["switcherButton","auto"]),"svelte-1lqc4qo");var u=D(f,2);$(u,1,V(["vh","input"]),"svelte-1lqc4qo"),Se(u,"name",r),u.__change=[Ut,n];var d=D(u,2);$(d,1,V(["switcherButton","dark"]),"svelte-1lqc4qo"),G(()=>{Rt(o,De.Light),jt(o,l(n)===De.Light),Rt(c,De.Auto),jt(c,l(n)===De.Auto),Rt(u,De.Dark),jt(u,l(n)===De.Dark)}),b(e,s),X()}qe(["change"]);const Po=()=>{Qe("importBookmarks")},Do=()=>{Qe("exportBookmarks")},Mo=()=>{Qe("clearStore")};var Bo=N('<div class="svelte-oc46cj"><!> <ul class="svelte-oc46cj"><li class="svelte-oc46cj"><button class="button svelte-oc46cj"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-oc46cj">import bookmarks</span></button></li> <li class="svelte-oc46cj"><button class="button svelte-oc46cj"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-oc46cj">export bookmarks</span></button></li> <li class="svelte-oc46cj"><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-oc46cj">clear store</span></button></li></ul> <div class="svelte-oc46cj"></div></div>');function Oo(e,t){Y(t,!1),or();var n=Bo(),r=S(n);Lo(r,{});var s=D(r,2),a=S(s),o=S(a);o.__click=[Po];var i=S(o);me(i,()=>({"--size":"20px"})),Co(i.lastChild);var c=D(a,2),f=S(c);f.__click=[Do];var u=S(f);me(u,()=>({"--size":"20px"})),So(u.lastChild);var d=D(c,2),v=S(d);v.__click=[Mo],$(v,1,V(["button","clearButton"]),"svelte-oc46cj");var _=S(v);me(_,()=>({"--size":"20px"})),yo(_.lastChild);var h=D(s,2);h.textContent="2df4b955-2fe7-4fb2-9273-9a3875aef8da",b(e,n),X()}qe(["click"]);function Ao(e,t){Y(t,!1);const n=()=>{cn()},r=({title:s,url:a,description:o,tags:i})=>{Os({title:s,url:a,description:o,tags:i.split(" ").map(c=>c.trim())}),n()};or(),gr(e,{onSubmit:r}),X()}var Io=N("<button><!></button>");function et(e,t){let n=fe(t,"type",3,"standard");var r=Io();r.__click=function(...a){var o;(o=t.onClick)==null||o.apply(this,a)};var s=S(r);ht(s,()=>t.children),G(()=>$(r,1,V(["button",{dangerous:n()==="dangerous"}]),"svelte-v0y8yx")),b(e,r)}qe(["click"]);var No=N('<div class="loader svelte-b80p9x"></div>');function qo(e){var t=No();b(e,t)}const Ro=async(e,t)=>{const n=e.target;!n.files||n.files.length===0||await t(n.files[0])};var jo=N('<p class="message svelte-19xh4q5">select a file to import your bookmarks</p> <div role="button" tabindex="0"><div class="dropzone-content svelte-19xh4q5"><p class="svelte-19xh4q5">Drag and drop your JSON file here</p> <p class="svelte-19xh4q5">or</p> <!></div> <input type="file" accept=".json" style="display: none;"></div> <div class="buttonContainer svelte-19xh4q5"><!></div>',1),Fo=N('<p class="message svelte-19xh4q5">importing bookmarks...</p> <!>',1),Ho=N('<p class="message success svelte-19xh4q5">bookmarks imported successfully!</p> <div class="buttonContainer svelte-19xh4q5"><!></div>',1),Uo=N('<p class="message error svelte-19xh4q5">something went wrong</p> <div class="buttonContainer svelte-19xh4q5"><!> <!></div>',1),zo=N('<div class="content svelte-19xh4q5"><!></div>');function Vo(e,t){Y(t,!0);let n=I("idle"),r=I(null),s=I(!1),a=I(null);const o=()=>{cn()},i=async g=>{const m=await g.text(),w=JSON.parse(m),q=[];if(!w.bookmarks)throw new Error("Invalid import file format");for(const L of Object.values(w.bookmarks))L&&q.push(L);await xn(q)},c=async g=>{var k,C,E;const m=await g.text(),q=new DOMParser().parseFromString(m,"text/html");let L=1;const A=[],p=q.querySelectorAll("a");for(const M of p){const B=M.getAttribute("href"),z=M.textContent||"";if(!B)continue;const Q=[];let U=M.parentElement;for(;U;){const re=(k=U.parentElement)==null?void 0:k.querySelector(":scope > h3"),le=(C=re==null?void 0:re.textContent)==null?void 0:C.trim();le&&le!=="Bookmarks"&&le!=="Bookmarks bar"&&le!=="Other bookmarks"&&!Q.includes(le)&&Q.push(le),U.tagName==="DL"&&((E=U.parentElement)==null?void 0:E.tagName)==="DT"?U=U.parentElement.parentElement:U=U.parentElement}const oe={id:ur(),order:L++,url:B,title:z,description:"",tags:Q.length>0?Q:["imported"],lastUpdatedTimestamp:Date.now(),createdTimestamp:Date.now()};A.push(oe)}await xn(A)},f=async g=>{y(n,"loading");try{if(g.name.endsWith(".json"))await i(g);else if(g.name.endsWith(".html"))await c(g);else throw new Error("Unsupported file format. Please upload a JSON or HTML file.");y(n,"success")}catch{y(n,"error")}},u=()=>{var g;(g=l(r))==null||g.click()},d=g=>{g.preventDefault(),g.stopPropagation(),y(s,!0)},v=g=>{g.preventDefault(),g.stopPropagation(),y(s,!1)},_=g=>{g.preventDefault(),g.stopPropagation(),y(s,!0)},h=async g=>{var w;if(g.preventDefault(),g.stopPropagation(),y(s,!1),!((w=g.dataTransfer)!=null&&w.files)||g.dataTransfer.files.length===0)return;const m=g.dataTransfer.files[0];if(m.type!=="application/json"&&m.type!=="text/html"){y(n,"error");return}await f(m)};var x=zo(),T=S(x);{var O=g=>{var m=jo(),w=D(J(m),2),q=S(w),L=D(S(q),4);et(L,{onClick:u,children:(C,E)=>{var M=ge("Select File");b(C,M)},$$slots:{default:!0}});var A=D(q,2);A.__change=[Ro,f],ye(A,C=>y(r,C),()=>l(r)),ye(w,C=>y(a,C),()=>l(a));var p=D(w,2),k=S(p);et(k,{onClick:o,children:(C,E)=>{var M=ge("cancel");b(C,M)},$$slots:{default:!0}}),G(()=>$(w,1,V(["dropzone",{active:l(s)}]),"svelte-19xh4q5")),tt("dragenter",w,d),tt("dragover",w,_),tt("dragleave",w,v),tt("drop",w,h),b(g,m)},P=(g,m)=>{{var w=L=>{var A=Fo(),p=D(J(A),2);qo(p),b(L,A)},q=(L,A)=>{{var p=C=>{var E=Ho(),M=D(J(E),2),B=S(M);et(B,{onClick:o,children:(z,Q)=>{var U=ge("close");b(z,U)},$$slots:{default:!0}}),b(C,E)},k=(C,E)=>{{var M=B=>{var z=Uo(),Q=D(J(z),2),U=S(Q);et(U,{onClick:()=>{y(n,"idle")},children:(re,le)=>{var Le=ge("Try Again");b(re,Le)},$$slots:{default:!0}});var oe=D(U,2);et(oe,{onClick:o,children:(re,le)=>{var Le=ge("Cancel");b(re,Le)},$$slots:{default:!0}}),b(B,z)};W(C,B=>{l(n)==="error"&&B(M)},E)}};W(L,C=>{l(n)==="success"?C(p):C(k,!1)},A)}};W(g,L=>{l(n)==="loading"?L(w):L(q,!1)},m)}};W(T,g=>{l(n)==="idle"?g(O):g(P,!1)})}b(e,x),X()}qe(["change"]);var $o=N("<div>Export Bookmarks</div>");function Wo(e){var t=$o();b(e,t)}var Zo=N("<div>Clear store</div>");function Yo(e){var t=Zo();b(e,t)}const Xo=(e,t=Ln)=>{var n=Oe(),r=J(n);{var s=o=>{Oo(o,{})},a=(o,i)=>{{var c=u=>{Ao(u,{})},f=(u,d)=>{{var v=h=>{Vo(h,{})},_=(h,x)=>{{var T=P=>{Wo(P)},O=(P,g)=>{{var m=w=>{Yo(w)};W(P,w=>{t()==="clearStore"&&w(m)},g)}};W(h,P=>{t()==="exportBookmarks"?P(T):P(O,!1)},x)}};W(u,h=>{t()==="importBookmarks"?h(v):h(_,!1)},d)}};W(o,u=>{t()==="newBookmark"?u(c):u(f,!1)},i)}};W(r,o=>{t()==="settings"?o(s):o(a,!1)})}b(e,n)};var Ko=N("<!> <!>",1);function Go(e,t){Y(t,!0);let n=te(rs);var r=Ko(),s=J(r);ko(s);var a=D(s,2);Ue(a,17,()=>l(n),La,(o,i,c)=>{const f=te(()=>{var u;return c!==l(n).length-1&&!!((u=l(n)[c+1])!=null&&u.shown)});Es(o,{get shown(){return l(i).shown},get hidden(){return l(f)},children:(u,d)=>{Xo(u,()=>l(i).page)},$$slots:{default:!0}})}),b(e,r),X()}function Jo(e,t){Y(t,!0);let n=0;se(()=>{document.addEventListener("touchstart",r=>{n=r.touches[0].clientX},{passive:!1}),document.addEventListener("touchmove",r=>{const a=r.touches[0].clientX-n;(n<50&&a>0||n>window.innerWidth-50&&a<0)&&r.preventDefault()},{passive:!1}),document.addEventListener("touchend",()=>{n=0}),document.addEventListener("touchcancel",()=>{n=0})}),X()}var Qo=N('<!> <main><!> <div class="container svelte-nkbuiv"><!></div> <!></main>',1);function el(e,t){Y(t,!0);let n=I(null),r=!1;Kr("main",()=>l(n));const s=()=>{document.activeElement instanceof HTMLInputElement||document.activeElement instanceof HTMLTextAreaElement?r=!0:r=!1};Ie(()=>{s(),document.addEventListener("focusin",s),document.addEventListener("focusout",s),document.addEventListener("touchmove",function(_){r&&_.preventDefault()},{passive:!1})}),Ie(async()=>{await new Promise(_=>setTimeout(_,100)),await ga(),Lt.working=!0});let a=te(()=>Ne().length>0);var o=Qo(),i=J(o);Jo(i,{});var c=D(i,2),f=S(c);vs(f,{});var u=D(f,2),d=S(u);Go(d,{});var v=D(u,2);Va(v,{}),ye(c,_=>y(n,_),()=>l(n)),G(()=>$(c,1,V(["main",{isAnimationOn:Lt.working,open:l(a)}]),"svelte-nkbuiv")),b(e,o),X()}xa(el,{target:document.getElementById("app")});
