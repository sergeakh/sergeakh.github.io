const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/MobileSidebar-CiTMv5lK.js","assets/MobileSidebar-CUCj13hK.css","assets/About-B2Y5CsEY.js","assets/About-DhrgDPiX.css","assets/AccessKeys-C_NOtiln.js","assets/api-C5JaEwh0.js","assets/AccessKeys-DF5NA1tk.css","assets/Account-DMsm1nXi.js","assets/Account-LI89flHz.css","assets/ClearStore-8I6N0YXs.js","assets/ClearStore-DiVqV26R.css","assets/ConfirmAccessKey-D2LdX6Ym.js","assets/Input-BvfGngZr.js","assets/Input-DuuMPkkZ.css","assets/ConfirmAccessKey-BEOXyioc.css","assets/EditNote-DqgpWk2h.js","assets/NoteForm-CnwKZ_Pi.js","assets/NoteForm-BJF9IsxJ.css","assets/Exit-Demgg3sg.js","assets/Exit-B7Im9AKN.css","assets/ExportData-Bwxw1J9c.js","assets/ExportData-Gq8zQKAw.css","assets/ImportData-dDrIvWD1.js","assets/ImportData-CZGzVRRc.css","assets/NewNote-Bm4NcMwo.js","assets/Signin-RYWEWGax.js","assets/Signin-CnX7iJxK.css","assets/Signup-D_PmkpxT.js","assets/Subscription-Bz_bBz_z.js","assets/Subscription-2ryrsj8c.css","assets/Sync-DTUsCW0_.js","assets/Sync-DZBzq12x.css"])))=>i.map(i=>d[i]);
var Mo=Object.defineProperty;var ma=e=>{throw TypeError(e)};var Ro=(e,t,n)=>t in e?Mo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var pn=(e,t,n)=>Ro(e,typeof t!="symbol"?t+"":t,n),mr=(e,t,n)=>t.has(e)||ma("Cannot "+n);var $=(e,t,n)=>(mr(e,t,"read from private field"),n?n.call(e):t.get(e)),Ne=(e,t,n)=>t.has(e)?ma("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Ue=(e,t,n,r)=>(mr(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Pt=(e,t,n)=>(mr(e,t,"access private method"),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(a){if(a.ep)return;a.ep=!0;const s=n(a);fetch(a.href,s)}})();const za=!1;var Vr=Array.isArray,Bo=Array.prototype.indexOf,Hr=Array.from,xr=Object.defineProperty,nn=Object.getOwnPropertyDescriptor,Ua=Object.getOwnPropertyDescriptors,jo=Object.prototype,Fo=Array.prototype,Kr=Object.getPrototypeOf,wa=Object.isExtensible;const nt=()=>{};function zo(e){return typeof e?.then=="function"}function Uo(e){return e()}function $n(e){for(var t=0;t<e.length;t++)e[t]()}function Vo(){var e,t,n=new Promise((r,a)=>{e=r,t=a});return{promise:n,resolve:e,reject:t}}function Ho(e,t,n=!1){return e===void 0?n?t():t:e}const Fe=2,qr=4,sr=8,vn=16,dt=32,zt=64,Va=128,He=256,er=512,Ee=1024,Ke=2048,Et=4096,Ge=8192,Ut=16384,Wr=32768,Nn=65536,ya=1<<17,Ko=1<<18,Dn=1<<19,Ha=1<<20,Tr=1<<21,Yr=1<<22,Dt=1<<23,Lt=Symbol("$state"),qo=Symbol("legacy props"),Wo=Symbol(""),Gr=new class extends Error{constructor(){super(...arguments);pn(this,"name","StaleReactionError");pn(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function Yo(){throw new Error("https://svelte.dev/e/await_outside_boundary")}function Ka(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Go(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Xo(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Zo(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Jo(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Qo(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function $o(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function ei(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function ti(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function ni(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}const or=1,ir=2,qa=4,ri=8,ai=16,si=1,oi=2,ii=4,li=8,ci=16,ui=1,di=2,me=Symbol(),fi="http://www.w3.org/1999/xhtml";let vi=!1;function Wa(e){return e===this.v}function hi(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Ya(e){return!hi(e,this.v)}let hn=!1,gi=!1;function pi(){hn=!0}let oe=null;function un(e){oe=e}function Ga(e){return Za().get(e)}function Xa(e,t){return Za().set(e,t),t}function K(e,t=!1,n){oe={p:oe,c:null,e:null,s:e,x:null,l:hn&&!t?{s:null,u:null,$:[]}:null}}function q(e){var t=oe,n=t.e;if(n!==null){t.e=null;for(var r of n)ds(r)}return e!==void 0&&(t.x=e),oe=t.p,e??{}}function gn(){return!hn||oe!==null&&oe.l===null}function Za(e){return oe===null&&Ka(),oe.c??(oe.c=new Map(_i(oe)||void 0))}function _i(e){let t=e.p;for(;t!==null;){const n=t.c;if(n!==null)return n;t=t.p}return null}const mi=new WeakMap;function wi(e){var t=G;if(t===null)return H.f|=Dt,e;if((t.f&Wr)===0){if((t.f&Va)===0)throw!t.parent&&e instanceof Error&&Ja(e),e;t.b.error(e)}else Xr(e,t)}function Xr(e,t){for(;t!==null;){if((t.f&Va)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e instanceof Error&&Ja(e),e}function Ja(e){const t=mi.get(e);t&&(xr(e,"message",{value:t.message}),xr(e,"stack",{value:t.stack}))}let wn=[],Nr=[];function Qa(){var e=wn;wn=[],$n(e)}function yi(){var e=Nr;Nr=[],$n(e)}function lr(e){wn.length===0&&queueMicrotask(Qa),wn.push(e)}function bi(){wn.length>0&&Qa(),Nr.length>0&&yi()}function Si(){for(var e=G.b;e!==null&&!e.has_pending_snippet();)e=e.parent;return e===null&&Yo(),e}function Ln(e){var t=Fe|Ke,n=H!==null&&(H.f&Fe)!==0?H:null;return G===null||n!==null&&(n.f&He)!==0?t|=He:G.f|=Dn,{ctx:oe,deps:null,effects:null,equals:Wa,f:t,fn:e,reactions:null,rv:0,v:me,wv:0,parent:n??G,ac:null}}function ki(e,t){let n=G;n===null&&Go();var r=n.b,a=void 0,s=jt(me),i=null,l=!H;return Bi(()=>{try{var u=e();i&&Promise.resolve(u).catch(()=>{})}catch(g){u=Promise.reject(g)}var c=()=>u;a=i?.then(c,c)??Promise.resolve(u),i=a;var d=se,v=r.pending;l&&(r.update_pending_count(1),v||d.increment());const f=(g,h=void 0)=>{i=null,v||d.activate(),h?h!==Gr&&(s.f|=Dt,wt(s,h)):((s.f&Dt)!==0&&(s.f^=Dt),wt(s,g)),l&&(r.update_pending_count(-1),v||d.decrement()),ts()};if(a.then(f,g=>f(null,g||"unknown")),d)return()=>{queueMicrotask(()=>d.neuter())}}),new Promise(u=>{function c(d){function v(){d===a?u(s):c(a)}d.then(v,v)}c(a)})}function I(e){const t=Ln(e);return _s(t),t}function cr(e){const t=Ln(e);return t.equals=Ya,t}function $a(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)rt(t[n])}}function Ei(e){for(var t=e.parent;t!==null;){if((t.f&Fe)===0)return t;t=t.parent}return null}function Zr(e){var t,n=G;at(Ei(e));try{$a(e),t=bs(e)}finally{at(n)}return t}function es(e){var t=Zr(e);if(e.equals(t)||(e.v=t,e.wv=ws()),!Ht){var n=(pt||(e.f&He)!==0)&&e.deps!==null?Et:Ee;Le(e,n)}}function Ci(e,t,n){const r=gn()?Ln:cr;if(t.length===0){n(e.map(r));return}var a=se,s=G,i=Pi(),l=Si();Promise.all(t.map(u=>ki(u))).then(u=>{a?.activate(),i();try{n([...e.map(r),...u])}catch(c){(s.f&Ut)===0&&Xr(c,s)}a?.deactivate(),ts()}).catch(u=>{l.error(u)})}function Pi(){var e=G,t=H,n=oe,r=se;return function(){at(e),qe(t),un(n),r?.activate()}}function ts(){at(null),qe(null),un(null)}const wr=new Set;let se=null,Xn=null,ba=new Set,tr=[];function ns(){const e=tr.shift();tr.length>0&&queueMicrotask(ns),e()}let Bt=[],ur=null,Dr=!1,Zn=!1;var Cn,on,ht,Pn,An,Tt,ln,Nt,gt,cn,xn,Tn,Xe,rs,Jn,Lr;const ar=class ar{constructor(){Ne(this,Xe);pn(this,"current",new Map);Ne(this,Cn,new Map);Ne(this,on,new Set);Ne(this,ht,0);Ne(this,Pn,null);Ne(this,An,!1);Ne(this,Tt,[]);Ne(this,ln,[]);Ne(this,Nt,[]);Ne(this,gt,[]);Ne(this,cn,[]);Ne(this,xn,[]);Ne(this,Tn,[]);pn(this,"skipped_effects",new Set)}process(t){Bt=[],Xn=null;for(const a of t)Pt(this,Xe,rs).call(this,a);if($(this,Tt).length===0&&$(this,ht)===0){Pt(this,Xe,Lr).call(this);var n=$(this,Nt),r=$(this,gt);Ue(this,Nt,[]),Ue(this,gt,[]),Ue(this,cn,[]),Xn=se,se=null,Sa(n),Sa(r),se===null?se=this:wr.delete(this),$(this,Pn)?.resolve()}else Pt(this,Xe,Jn).call(this,$(this,Nt)),Pt(this,Xe,Jn).call(this,$(this,gt)),Pt(this,Xe,Jn).call(this,$(this,cn));for(const a of $(this,Tt))sn(a);for(const a of $(this,ln))sn(a);Ue(this,Tt,[]),Ue(this,ln,[])}capture(t,n){$(this,Cn).has(t)||$(this,Cn).set(t,n),this.current.set(t,t.v)}activate(){se=this}deactivate(){se=null,Xn=null;for(const t of ba)if(ba.delete(t),t(),se!==null)break}neuter(){Ue(this,An,!0)}flush(){Bt.length>0?ss():Pt(this,Xe,Lr).call(this),se===this&&($(this,ht)===0&&wr.delete(this),this.deactivate())}increment(){Ue(this,ht,$(this,ht)+1)}decrement(){if(Ue(this,ht,$(this,ht)-1),$(this,ht)===0){for(const t of $(this,xn))Le(t,Ke),dn(t);for(const t of $(this,Tn))Le(t,Et),dn(t);Ue(this,Nt,[]),Ue(this,gt,[]),this.flush()}else this.deactivate()}add_callback(t){$(this,on).add(t)}settled(){return($(this,Pn)??Ue(this,Pn,Vo())).promise}static ensure(){if(se===null){const t=se=new ar;wr.add(se),Zn||ar.enqueue(()=>{se===t&&t.flush()})}return se}static enqueue(t){tr.length===0&&queueMicrotask(ns),tr.unshift(t)}};Cn=new WeakMap,on=new WeakMap,ht=new WeakMap,Pn=new WeakMap,An=new WeakMap,Tt=new WeakMap,ln=new WeakMap,Nt=new WeakMap,gt=new WeakMap,cn=new WeakMap,xn=new WeakMap,Tn=new WeakMap,Xe=new WeakSet,rs=function(t){t.f^=Ee;for(var n=t.first;n!==null;){var r=n.f,a=(r&(dt|zt))!==0,s=a&&(r&Ee)!==0,i=s||(r&Ge)!==0||this.skipped_effects.has(n);if(!i&&n.fn!==null){if(a)n.f^=Ee;else if((r&qr)!==0)$(this,gt).push(n);else if((r&Ee)===0)if((r&Yr)!==0){var l=n.b?.pending?$(this,ln):$(this,Tt);l.push(n)}else vr(n)&&((n.f&vn)!==0&&$(this,cn).push(n),sn(n));var u=n.first;if(u!==null){n=u;continue}}var c=n.parent;for(n=n.next;n===null&&c!==null;)n=c.next,c=c.parent}},Jn=function(t){for(const n of t)((n.f&Ke)!==0?$(this,xn):$(this,Tn)).push(n),Le(n,Ee);t.length=0},Lr=function(){if(!$(this,An))for(const t of $(this,on))t();$(this,on).clear()};let yn=ar;function as(e){var t=Zn;Zn=!0;try{for(var n;;){if(bi(),Bt.length===0&&(se?.flush(),Bt.length===0))return ur=null,n;ss()}}finally{Zn=t}}function ss(){var e=an;Dr=!0;try{var t=0;for(Ca(!0);Bt.length>0;){var n=yn.ensure();if(t++>1e3){var r,a;Ai()}n.process(Bt),mt.clear()}}finally{Dr=!1,Ca(e),ur=null}}function Ai(){try{Qo()}catch(e){Xr(e,ur)}}let At=null;function Sa(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if((r.f&(Ut|Ge))===0&&vr(r)&&(At=[],sn(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?hs(r):r.fn=null),At?.length>0)){mt.clear();for(const a of At)sn(a);At=[]}}At=null}}function dn(e){for(var t=ur=e;t.parent!==null;){t=t.parent;var n=t.f;if(Dr&&t===G&&(n&vn)!==0)return;if((n&(zt|dt))!==0){if((n&Ee)===0)return;t.f^=Ee}}Bt.push(t)}const mt=new Map;function jt(e,t){var n={f:0,v:e,reactions:null,equals:Wa,rv:0,wv:0};return n}function L(e,t){const n=jt(e);return _s(n),n}function Or(e,t=!1,n=!0){var a;const r=jt(e);return t||(r.equals=Ya),hn&&n&&oe!==null&&oe.l!==null&&((a=oe.l).s??(a.s=[])).push(r),r}function P(e,t,n=!1){H!==null&&(!$e||(H.f&ya)!==0)&&gn()&&(H.f&(Fe|vn|Yr|ya))!==0&&!ct?.includes(e)&&ni();let r=n?pe(t):t;return wt(e,r)}function wt(e,t){if(!e.equals(t)){var n=e.v;Ht?mt.set(e,t):mt.set(e,n),e.v=t;var r=yn.ensure();r.capture(e,n),(e.f&Fe)!==0&&((e.f&Ke)!==0&&Zr(e),Le(e,(e.f&He)===0?Ee:Et)),e.wv=ws(),os(e,Ke),gn()&&G!==null&&(G.f&Ee)!==0&&(G.f&(dt|zt))===0&&(Ve===null?zi([e]):Ve.push(e))}return t}function yr(e){P(e,e.v+1)}function os(e,t){var n=e.reactions;if(n!==null)for(var r=gn(),a=n.length,s=0;s<a;s++){var i=n[s],l=i.f;if(!(!r&&i===G)){var u=(l&Ke)===0;u&&Le(i,t),(l&Fe)!==0?os(i,Et):u&&((l&vn)!==0&&At!==null&&At.push(i),dn(i))}}}function pe(e){if(typeof e!="object"||e===null||Lt in e)return e;const t=Kr(e);if(t!==jo&&t!==Fo)return e;var n=new Map,r=Vr(e),a=L(0),s=It,i=l=>{if(It===s)return l();var u=H,c=It;qe(null),Aa(s);var d=l();return qe(u),Aa(c),d};return r&&n.set("length",L(e.length)),new Proxy(e,{defineProperty(l,u,c){(!("value"in c)||c.configurable===!1||c.enumerable===!1||c.writable===!1)&&ei();var d=n.get(u);return d===void 0?d=i(()=>{var v=L(c.value);return n.set(u,v),v}):P(d,c.value,!0),!0},deleteProperty(l,u){var c=n.get(u);if(c===void 0){if(u in l){const d=i(()=>L(me));n.set(u,d),yr(a)}}else P(c,me),yr(a);return!0},get(l,u,c){if(u===Lt)return e;var d=n.get(u),v=u in l;if(d===void 0&&(!v||nn(l,u)?.writable)&&(d=i(()=>{var g=pe(v?l[u]:me),h=L(g);return h}),n.set(u,d)),d!==void 0){var f=o(d);return f===me?void 0:f}return Reflect.get(l,u,c)},getOwnPropertyDescriptor(l,u){var c=Reflect.getOwnPropertyDescriptor(l,u);if(c&&"value"in c){var d=n.get(u);d&&(c.value=o(d))}else if(c===void 0){var v=n.get(u),f=v?.v;if(v!==void 0&&f!==me)return{enumerable:!0,configurable:!0,value:f,writable:!0}}return c},has(l,u){if(u===Lt)return!0;var c=n.get(u),d=c!==void 0&&c.v!==me||Reflect.has(l,u);if(c!==void 0||G!==null&&(!d||nn(l,u)?.writable)){c===void 0&&(c=i(()=>{var f=d?pe(l[u]):me,g=L(f);return g}),n.set(u,c));var v=o(c);if(v===me)return!1}return d},set(l,u,c,d){var v=n.get(u),f=u in l;if(r&&u==="length")for(var g=c;g<v.v;g+=1){var h=n.get(g+"");h!==void 0?P(h,me):g in l&&(h=i(()=>L(me)),n.set(g+"",h))}if(v===void 0)(!f||nn(l,u)?.writable)&&(v=i(()=>L(void 0)),P(v,pe(c)),n.set(u,v));else{f=v.v!==me;var p=i(()=>pe(c));P(v,p)}var _=Reflect.getOwnPropertyDescriptor(l,u);if(_?.set&&_.set.call(d,c),!f){if(r&&typeof u=="string"){var k=n.get("length"),y=Number(u);Number.isInteger(y)&&y>=k.v&&P(k,y+1)}yr(a)}return!0},ownKeys(l){o(a);var u=Reflect.ownKeys(l).filter(v=>{var f=n.get(v);return f===void 0||f.v!==me});for(var[c,d]of n)d.v!==me&&!(c in l)&&u.push(c);return u},setPrototypeOf(){ti()}})}var ka,is,ls,cs;function xi(){if(ka===void 0){ka=window,is=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;ls=nn(t,"firstChild").get,cs=nn(t,"nextSibling").get,wa(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),wa(n)&&(n.__t=void 0)}}function Vt(e=""){return document.createTextNode(e)}function fn(e){return ls.call(e)}function dr(e){return cs.call(e)}function w(e,t){return fn(e)}function O(e,t){{var n=fn(e);return n instanceof Comment&&n.data===""?dr(n):n}}function x(e,t=1,n=!1){let r=e;for(;t--;)r=dr(r);return r}function Ti(e){e.textContent=""}function Jr(){return!1}let Ea=!1;function Ni(){Ea||(Ea=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function fr(e){var t=H,n=G;qe(null),at(null);try{return e()}finally{qe(t),at(n)}}function Di(e,t,n,r=n){e.addEventListener(t,()=>fr(n));const a=e.__on_r;a?e.__on_r=()=>{a(),r(!0)}:e.__on_r=()=>r(!0),Ni()}function us(e){G===null&&H===null&&Jo(),H!==null&&(H.f&He)!==0&&G===null&&Zo(),Ht&&Xo()}function Li(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function ot(e,t,n,r=!0){var a=G;a!==null&&(a.f&Ge)!==0&&(e|=Ge);var s={ctx:oe,deps:null,nodes_start:null,nodes_end:null,f:e|Ke,first:null,fn:t,last:null,next:null,parent:a,b:a&&a.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{sn(s),s.f|=Wr}catch(u){throw rt(s),u}else t!==null&&dn(s);if(r){var i=s;if(n&&i.deps===null&&i.teardown===null&&i.nodes_start===null&&i.first===i.last&&(i.f&Dn)===0&&(i=i.first),i!==null&&(i.parent=a,a!==null&&Li(i,a),H!==null&&(H.f&Fe)!==0&&(e&zt)===0)){var l=H;(l.effects??(l.effects=[])).push(i)}}return s}function Oi(e){const t=ot(sr,null,!1);return Le(t,Ee),t.teardown=e,t}function ke(e){us();var t=G.f,n=!H&&(t&dt)!==0&&(t&Wr)===0;if(n){var r=oe;(r.e??(r.e=[])).push(e)}else return ds(e)}function ds(e){return ot(qr|Ha,e,!1)}function Ii(e){return us(),ot(sr|Ha,e,!0)}function Mi(e){yn.ensure();const t=ot(zt|Dn,e,!0);return(n={})=>new Promise(r=>{n.outro?Ot(t,()=>{rt(t),r(void 0)}):(rt(t),r(void 0))})}function Ri(e){return ot(qr,e,!1)}function Bi(e){return ot(Yr|Dn,e,!0)}function Qr(e,t=0){return ot(sr|t,e,!0)}function fe(e,t=[],n=[]){Ci(t,n,r=>{ot(sr,()=>e(...r.map(o)),!0)})}function On(e,t=0){var n=ot(vn|t,e,!0);return n}function tt(e,t=!0){return ot(dt|Dn,e,!0,t)}function fs(e){var t=e.teardown;if(t!==null){const n=Ht,r=H;Pa(!0),qe(null);try{t.call(null)}finally{Pa(n),qe(r)}}}function vs(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const a=n.ac;a!==null&&fr(()=>{a.abort(Gr)});var r=n.next;(n.f&zt)!==0?n.parent=null:rt(n,t),n=r}}function ji(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&dt)===0&&rt(t),t=n}}function rt(e,t=!0){var n=!1;(t||(e.f&Ko)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(Fi(e.nodes_start,e.nodes_end),n=!0),vs(e,t&&!n),nr(e,0),Le(e,Ut);var r=e.transitions;if(r!==null)for(const s of r)s.stop();fs(e);var a=e.parent;a!==null&&a.first!==null&&hs(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function Fi(e,t){for(;e!==null;){var n=e===t?null:dr(e);e.remove(),e=n}}function hs(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function Ot(e,t){var n=[];$r(e,n,!0),gs(n,()=>{rt(e),t&&t()})}function gs(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var a of e)a.out(r)}else t()}function $r(e,t,n){if((e.f&Ge)===0){if(e.f^=Ge,e.transitions!==null)for(const i of e.transitions)(i.is_global||n)&&t.push(i);for(var r=e.first;r!==null;){var a=r.next,s=(r.f&Nn)!==0||(r.f&dt)!==0;$r(r,t,s?n:!1),r=a}}}function rn(e){ps(e,!0)}function ps(e,t){if((e.f&Ge)!==0){e.f^=Ge,(e.f&Ee)===0&&(Le(e,Ke),dn(e));for(var n=e.first;n!==null;){var r=n.next,a=(n.f&Nn)!==0||(n.f&dt)!==0;ps(n,a?t:!1),n=r}if(e.transitions!==null)for(const s of e.transitions)(s.is_global||t)&&s.in()}}let an=!1;function Ca(e){an=e}let Ht=!1;function Pa(e){Ht=e}let H=null,$e=!1;function qe(e){H=e}let G=null;function at(e){G=e}let ct=null;function _s(e){H!==null&&(ct===null?ct=[e]:ct.push(e))}let Pe=null,Re=0,Ve=null;function zi(e){Ve=e}let ms=1,bn=0,It=bn;function Aa(e){It=e}let pt=!1;function ws(){return++ms}function vr(e){var t=e.f;if((t&Ke)!==0)return!0;if((t&Et)!==0){var n=e.deps,r=(t&He)!==0;if(n!==null){var a,s,i=(t&er)!==0,l=r&&G!==null&&!pt,u=n.length;if((i||l)&&(G===null||(G.f&Ut)===0)){var c=e,d=c.parent;for(a=0;a<u;a++)s=n[a],(i||!s?.reactions?.includes(c))&&(s.reactions??(s.reactions=[])).push(c);i&&(c.f^=er),l&&d!==null&&(d.f&He)===0&&(c.f^=He)}for(a=0;a<u;a++)if(s=n[a],vr(s)&&es(s),s.wv>e.wv)return!0}(!r||G!==null&&!pt)&&Le(e,Ee)}return!1}function ys(e,t,n=!0){var r=e.reactions;if(r!==null&&!ct?.includes(e))for(var a=0;a<r.length;a++){var s=r[a];(s.f&Fe)!==0?ys(s,t,!1):t===s&&(n?Le(s,Ke):(s.f&Ee)!==0&&Le(s,Et),dn(s))}}function bs(e){var p;var t=Pe,n=Re,r=Ve,a=H,s=pt,i=ct,l=oe,u=$e,c=It,d=e.f;Pe=null,Re=0,Ve=null,pt=(d&He)!==0&&($e||!an||H===null),H=(d&(dt|zt))===0?e:null,ct=null,un(e.ctx),$e=!1,It=++bn,e.ac!==null&&(fr(()=>{e.ac.abort(Gr)}),e.ac=null);try{e.f|=Tr;var v=e.fn,f=v(),g=e.deps;if(Pe!==null){var h;if(nr(e,Re),g!==null&&Re>0)for(g.length=Re+Pe.length,h=0;h<Pe.length;h++)g[Re+h]=Pe[h];else e.deps=g=Pe;if(!pt||(d&Fe)!==0&&e.reactions!==null)for(h=Re;h<g.length;h++)((p=g[h]).reactions??(p.reactions=[])).push(e)}else g!==null&&Re<g.length&&(nr(e,Re),g.length=Re);if(gn()&&Ve!==null&&!$e&&g!==null&&(e.f&(Fe|Et|Ke))===0)for(h=0;h<Ve.length;h++)ys(Ve[h],e);return a!==null&&a!==e&&(bn++,Ve!==null&&(r===null?r=Ve:r.push(...Ve))),(e.f&Dt)!==0&&(e.f^=Dt),f}catch(_){return wi(_)}finally{e.f^=Tr,Pe=t,Re=n,Ve=r,H=a,pt=s,ct=i,un(l),$e=u,It=c}}function Ui(e,t){let n=t.reactions;if(n!==null){var r=Bo.call(n,e);if(r!==-1){var a=n.length-1;a===0?n=t.reactions=null:(n[r]=n[a],n.pop())}}n===null&&(t.f&Fe)!==0&&(Pe===null||!Pe.includes(t))&&(Le(t,Et),(t.f&(He|er))===0&&(t.f^=er),$a(t),nr(t,0))}function nr(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)Ui(e,n[r])}function sn(e){var t=e.f;if((t&Ut)===0){Le(e,Ee);var n=G,r=an;G=e,an=!0;try{(t&vn)!==0?ji(e):vs(e),fs(e);var a=bs(e);e.teardown=typeof a=="function"?a:null,e.wv=ms;var s;za&&gi&&(e.f&Ke)!==0&&e.deps}finally{an=r,G=n}}}async function Ss(){await Promise.resolve(),as()}function o(e){var t=e.f,n=(t&Fe)!==0;if(H!==null&&!$e){var r=G!==null&&(G.f&Ut)!==0;if(!r&&!ct?.includes(e)){var a=H.deps;if((H.f&Tr)!==0)e.rv<bn&&(e.rv=bn,Pe===null&&a!==null&&a[Re]===e?Re++:Pe===null?Pe=[e]:(!pt||!Pe.includes(e))&&Pe.push(e));else{(H.deps??(H.deps=[])).push(e);var s=e.reactions;s===null?e.reactions=[H]:s.includes(H)||s.push(H)}}}else if(n&&e.deps===null&&e.effects===null){var i=e,l=i.parent;l!==null&&(l.f&He)===0&&(i.f^=He)}if(Ht){if(mt.has(e))return mt.get(e);if(n){i=e;var u=i.v;return((i.f&Ee)===0&&i.reactions!==null||ks(i))&&(u=Zr(i)),mt.set(i,u),u}}else n&&(i=e,vr(i)&&es(i));if((e.f&Dt)!==0)throw e.v;return e.v}function ks(e){if(e.v===me)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(mt.has(t)||(t.f&Fe)!==0&&ks(t))return!0;return!1}function Ft(e){var t=$e;try{return $e=!0,e()}finally{$e=t}}const Vi=-7169;function Le(e,t){e.f=e.f&Vi|t}function Hi(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Lt in e)Ir(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&Lt in n&&Ir(n)}}}function Ir(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{Ir(e[r],t)}catch{}const n=Kr(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=Ua(n);for(let a in r){const s=r[a].get;if(s)try{s.call(e)}catch{}}}}}const Ki=["touchstart","touchmove"];function qi(e){return Ki.includes(e)}const Es=new Set,Mr=new Set;function Wi(e,t,n,r={}){function a(s){if(r.capture||_n.call(t,s),!s.cancelBubble)return fr(()=>n?.call(this,s))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?lr(()=>{t.addEventListener(e,a,r)}):t.addEventListener(e,a,r),a}function ea(e,t,n,r,a){var s={capture:r,passive:a},i=Wi(e,t,n,s);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&Oi(()=>{t.removeEventListener(e,i,s)})}function Oe(e){for(var t=0;t<e.length;t++)Es.add(e[t]);for(var n of Mr)n(e)}let xa=null;function _n(e){var t=this,n=t.ownerDocument,r=e.type,a=e.composedPath?.()||[],s=a[0]||e.target;xa=e;var i=0,l=xa===e&&e.__root;if(l){var u=a.indexOf(l);if(u!==-1&&(t===document||t===window)){e.__root=t;return}var c=a.indexOf(t);if(c===-1)return;u<=c&&(i=u)}if(s=a[i]||e.target,s!==t){xr(e,"currentTarget",{configurable:!0,get(){return s||n}});var d=H,v=G;qe(null),at(null);try{for(var f,g=[];s!==null;){var h=s.assignedSlot||s.parentNode||s.host||null;try{var p=s["__"+r];if(p!=null&&(!s.disabled||e.target===s))if(Vr(p)){var[_,...k]=p;_.apply(s,[e,...k])}else p.call(s,e)}catch(y){f?g.push(y):f=y}if(e.cancelBubble||h===t||h===null)break;s=h}if(f){for(let y of g)queueMicrotask(()=>{throw y});throw f}}finally{e.__root=t,delete e.currentTarget,qe(d),at(v)}}}function Cs(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function Sn(e,t){var n=G;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function M(e,t){var n=(t&ui)!==0,r=(t&di)!==0,a,s=!e.startsWith("<!>");return()=>{a===void 0&&(a=Cs(s?e:"<!>"+e),n||(a=fn(a)));var i=r||is?document.importNode(a,!0):a.cloneNode(!0);if(n){var l=fn(i),u=i.lastChild;Sn(l,u)}else Sn(i,i);return i}}function Yi(e,t,n="svg"){var r=!e.startsWith("<!>"),a=`<${n}>${r?e:"<!>"+e}</${n}>`,s;return()=>{if(!s){var i=Cs(a),l=fn(i);s=fn(l)}var u=s.cloneNode(!0);return Sn(u,u),u}}function Gi(e,t){return Yi(e,t,"svg")}function Ce(e=""){{var t=Vt(e+"");return Sn(t,t),t}}function U(){var e=document.createDocumentFragment(),t=document.createComment(""),n=Vt();return e.append(t,n),Sn(t,n),e}function m(e,t){e!==null&&e.before(t)}function Yu(){var e;return(e=window.__svelte??(window.__svelte={})).uid??(e.uid=1),`c${window.__svelte.uid++}`}function kn(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function Xi(e,t){return Zi(e,t)}const $t=new Map;function Zi(e,{target:t,anchor:n,props:r={},events:a,context:s,intro:i=!0}){xi();var l=new Set,u=v=>{for(var f=0;f<v.length;f++){var g=v[f];if(!l.has(g)){l.add(g);var h=qi(g);t.addEventListener(g,_n,{passive:h});var p=$t.get(g);p===void 0?(document.addEventListener(g,_n,{passive:h}),$t.set(g,1)):$t.set(g,p+1)}}};u(Hr(Es)),Mr.add(u);var c=void 0,d=Mi(()=>{var v=n??t.appendChild(Vt());return tt(()=>{if(s){K({});var f=oe;f.c=s}a&&(r.$$events=a),c=e(v,r)||{},s&&q()}),()=>{for(var f of l){t.removeEventListener(f,_n);var g=$t.get(f);--g===0?(document.removeEventListener(f,_n),$t.delete(f)):$t.set(f,g)}Mr.delete(u),v!==n&&v.parentNode?.removeChild(v)}});return Ji.set(c,d),c}let Ji=new WeakMap;const br=0,qn=1,Sr=2;function Ps(e,t,n,r,a){var s=e,i=gn(),l=oe,u=me,c,d,v,f=i?jt(void 0):Or(void 0,!1,!1),g=i?jt(void 0):Or(void 0,!1,!1),h=!1;function p(k,y){h=!0,y&&(at(_),qe(_),un(l));try{k===br&&n&&(c?rn(c):c=tt(()=>n(s))),k===qn&&r&&(d?rn(d):d=tt(()=>r(s,f))),k===Sr&&a&&(v?rn(v):v=tt(()=>a(s,g))),k!==br&&c&&Ot(c,()=>c=null),k!==qn&&d&&Ot(d,()=>d=null),k!==Sr&&v&&Ot(v,()=>v=null)}finally{y&&(un(null),qe(null),at(null),as())}}var _=On(()=>{if(u!==(u=t())){if(zo(u)){var k=u;h=!1,k.then(y=>{k===u&&(wt(f,y),p(qn,!0))},y=>{if(k===u&&(wt(g,y),p(Sr,!0),!a))throw g.v}),lr(()=>{h||p(br,!0)})}else wt(f,u),p(qn,!1);return()=>u=me}})}function B(e,t,n=!1){var r=e,a=null,s=null,i=me,l=n?Nn:0,u=!1;const c=(g,h=!0)=>{u=!0,f(h,g)};var d=null;function v(){d!==null&&(d.lastChild.remove(),r.before(d),d=null);var g=i?a:s,h=i?s:a;g&&rn(g),h&&Ot(h,()=>{i?s=null:a=null})}const f=(g,h)=>{if(i!==(i=g)){var p=Jr(),_=r;if(p&&(d=document.createDocumentFragment(),d.append(_=Vt())),i?a??(a=h&&tt(()=>h(_))):s??(s=h&&tt(()=>h(_))),p){var k=se,y=i?a:s,E=i?s:a;y&&k.skipped_effects.delete(y),E&&k.skipped_effects.add(E),k.add_callback(v)}else v()}};On(()=>{u=!1,t(c),u||f(null,null)},l)}function le(e,t){Qr(()=>{var n=t();for(var r in n){var a=n[r];a?e.style.setProperty(r,a):e.style.removeProperty(r)}})}function Qi(e,t,n){for(var r=e.items,a=[],s=t.length,i=0;i<s;i++)$r(t[i].e,a,!0);var l=s>0&&a.length===0&&n!==null;if(l){var u=n.parentNode;Ti(u),u.append(n),r.clear(),Qe(e,t[0].prev,t[s-1].next)}gs(a,()=>{for(var c=0;c<s;c++){var d=t[c];l||(r.delete(d.k),Qe(e,d.prev,d.next)),rt(d.e,!l)}})}function tn(e,t,n,r,a,s=null){var i=e,l={flags:t,items:new Map,first:null},u=(t&qa)!==0;if(u){var c=e;i=c.appendChild(Vt())}var d=null,v=!1,f=new Map,g=cr(()=>{var k=n();return Vr(k)?k:k==null?[]:Hr(k)}),h,p;function _(){$i(p,h,l,f,i,a,t,r,n),s!==null&&(h.length===0?d?rn(d):d=tt(()=>s(i)):d!==null&&Ot(d,()=>{d=null}))}On(()=>{p??(p=G),h=o(g);var k=h.length;if(!(v&&k===0)){v=k===0;var y,E,A,S;if(Jr()){var b=new Set,C=se;for(E=0;E<k;E+=1){A=h[E],S=r(A,E);var D=l.items.get(S)??f.get(S);D?(t&(or|ir))!==0&&As(D,A,E,t):(y=xs(null,l,null,null,A,S,E,a,t,n,!0),f.set(S,y)),b.add(S)}for(const[W,ae]of l.items)b.has(W)||C.skipped_effects.add(ae.e);C.add_callback(_)}else _();o(g)}})}function $i(e,t,n,r,a,s,i,l,u){var c=(i&ri)!==0,d=(i&(or|ir))!==0,v=t.length,f=n.items,g=n.first,h=g,p,_=null,k,y=[],E=[],A,S,b,C;if(c)for(C=0;C<v;C+=1)A=t[C],S=l(A,C),b=f.get(S),b!==void 0&&(b.a?.measure(),(k??(k=new Set)).add(b));for(C=0;C<v;C+=1){if(A=t[C],S=l(A,C),b=f.get(S),b===void 0){var D=r.get(S);if(D!==void 0){r.delete(S),f.set(S,D);var W=_?_.next:h;Qe(n,_,D),Qe(n,D,W),kr(D,W,a),_=D}else{var ae=h?h.e.nodes_start:a;_=xs(ae,n,_,_===null?n.first:_.next,A,S,C,s,i,u)}f.set(S,_),y=[],E=[],h=_.next;continue}if(d&&As(b,A,C,i),(b.e.f&Ge)!==0&&(rn(b.e),c&&(b.a?.unfix(),(k??(k=new Set)).delete(b))),b!==h){if(p!==void 0&&p.has(b)){if(y.length<E.length){var ie=E[0],Y;_=ie.prev;var Z=y[0],z=y[y.length-1];for(Y=0;Y<y.length;Y+=1)kr(y[Y],ie,a);for(Y=0;Y<E.length;Y+=1)p.delete(E[Y]);Qe(n,Z.prev,z.next),Qe(n,_,Z),Qe(n,z,ie),h=ie,_=z,C-=1,y=[],E=[]}else p.delete(b),kr(b,h,a),Qe(n,b.prev,b.next),Qe(n,b,_===null?n.first:_.next),Qe(n,_,b),_=b;continue}for(y=[],E=[];h!==null&&h.k!==S;)(h.e.f&Ge)===0&&(p??(p=new Set)).add(h),E.push(h),h=h.next;if(h===null)continue;b=h}y.push(b),_=b,h=b.next}if(h!==null||p!==void 0){for(var J=p===void 0?[]:Hr(p);h!==null;)(h.e.f&Ge)===0&&J.push(h),h=h.next;var ue=J.length;if(ue>0){var V=(i&qa)!==0&&v===0?a:null;if(c){for(C=0;C<ue;C+=1)J[C].a?.measure();for(C=0;C<ue;C+=1)J[C].a?.fix()}Qi(n,J,V)}}c&&lr(()=>{if(k!==void 0)for(b of k)b.a?.apply()}),e.first=n.first&&n.first.e,e.last=_&&_.e;for(var R of r.values())rt(R.e);r.clear()}function As(e,t,n,r){(r&or)!==0&&wt(e.v,t),(r&ir)!==0?wt(e.i,n):e.i=n}function xs(e,t,n,r,a,s,i,l,u,c,d){var v=(u&or)!==0,f=(u&ai)===0,g=v?f?Or(a,!1,!1):jt(a):a,h=(u&ir)===0?i:jt(i),p={i:h,v:g,k:s,a:null,e:null,prev:n,next:r};try{if(e===null){var _=document.createDocumentFragment();_.append(e=Vt())}return p.e=tt(()=>l(e,g,h,c),vi),p.e.prev=n&&n.e,p.e.next=r&&r.e,n===null?d||(t.first=p):(n.next=p,n.e.next=p.e),r!==null&&(r.prev=p,r.e.prev=p.e),p}finally{}}function kr(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,a=t?t.e.nodes_start:n,s=e.e.nodes_start;s!==null&&s!==r;){var i=dr(s);a.before(s),s=i}}function Qe(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function Ae(e,t,...n){var r=e,a=nt,s;On(()=>{a!==(a=t())&&(s&&(rt(s),s=null),s=tt(()=>a(r,...n)))},Nn)}function Ts(e,t,n){var r=e,a,s,i=null,l=null;function u(){s&&(Ot(s),s=null),i&&(i.lastChild.remove(),r.before(i),i=null),s=l,l=null}On(()=>{if(a!==(a=t())){var c=Jr();if(a){var d=r;c&&(i=document.createDocumentFragment(),i.append(d=Vt()),s&&se.skipped_effects.add(s)),l=tt(()=>n(d,a))}c?se.add_callback(u):u()}},Nn)}function Ns(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=Ns(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function el(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=Ns(e))&&(r&&(r+=" "),r+=t);return r}function ee(e){return typeof e=="object"?el(e):e??""}const Ta=[...` 	
\r\f \v\uFEFF`];function tl(e,t,n){var r=e==null?"":""+e;if(t&&(r=r?r+" "+t:t),n){for(var a in n)if(n[a])r=r?r+" "+a:a;else if(r.length)for(var s=a.length,i=0;(i=r.indexOf(a,i))>=0;){var l=i+s;(i===0||Ta.includes(r[i-1]))&&(l===r.length||Ta.includes(r[l]))?r=(i===0?"":r.substring(0,i))+r.substring(l+1):i=l}}return r===""?null:r}function nl(e,t){return e==null?null:String(e)}function te(e,t,n,r,a,s){var i=e.__className;if(i!==n||i===void 0){var l=tl(n,r,s);l==null?e.removeAttribute("class"):e.className=l,e.__className=n}else if(s&&a!==s)for(var u in s){var c=!!s[u];(a==null||c!==!!a[u])&&e.classList.toggle(u,c)}return s}function En(e,t,n,r){var a=e.__style;if(a!==t){var s=nl(t);s==null?e.removeAttribute("style"):e.style.cssText=s,e.__style=t}return r}const rl=Symbol("is custom element"),al=Symbol("is html");function Er(e,t){var n=ta(e);n.value===(n.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function Qn(e,t){var n=ta(e);n.checked!==(n.checked=t??void 0)&&(e.checked=t)}function Se(e,t,n,r){var a=ta(e);a[t]!==(a[t]=n)&&(t==="loading"&&(e[Wo]=n),n==null?e.removeAttribute(t):typeof n!="string"&&sl(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function ta(e){return e.__attributes??(e.__attributes={[rl]:e.nodeName.includes("-"),[al]:e.namespaceURI===fi})}var Na=new Map;function sl(e){var t=e.getAttribute("is")||e.nodeName,n=Na.get(t);if(n)return n;Na.set(t,n=[]);for(var r,a=e,s=Element.prototype;s!==a;){r=Ua(a);for(var i in r)r[i].set&&n.push(i);a=Kr(a)}return n}function ol(e,t,n=t){var r=new WeakSet;Di(e,"input",async a=>{var s=a?e.defaultValue:e.value;if(s=Cr(e)?Pr(s):s,n(s),se!==null&&r.add(se),await Ss(),s!==(s=t())){var i=e.selectionStart,l=e.selectionEnd;e.value=s??"",l!==null&&(e.selectionStart=i,e.selectionEnd=Math.min(l,e.value.length))}}),Ft(t)==null&&e.value&&(n(Cr(e)?Pr(e.value):e.value),se!==null&&r.add(se)),Qr(()=>{var a=t();if(e===document.activeElement){var s=Xn??se;if(r.has(s))return}Cr(e)&&a===Pr(e.value)||e.type==="date"&&!a&&!e.value||a!==e.value&&(e.value=a??"")})}function Cr(e){var t=e.type;return t==="number"||t==="range"}function Pr(e){return e===""?null:+e}function Da(e,t){return e===t||e?.[Lt]===t}function Ze(e={},t,n,r){return Ri(()=>{var a,s;return Qr(()=>{a=s,s=[],Ft(()=>{e!==n(...s)&&(t(e,...s),a&&Da(n(...a),e)&&t(null,...a))})}),()=>{lr(()=>{s&&Da(n(...s),e)&&t(null,...s)})}}),e}function In(e=!1){const t=oe,n=t.l.u;if(!n)return;let r=()=>Hi(t.s);if(e){let a=0,s={};const i=Ln(()=>{let l=!1;const u=t.s;for(const c in u)u[c]!==s[c]&&(s[c]=u[c],l=!0);return l&&a++,a});r=()=>o(i)}n.b.length&&Ii(()=>{La(t,r),$n(n.b)}),ke(()=>{const a=Ft(()=>n.m.map(Uo));return()=>{for(const s of a)typeof s=="function"&&s()}}),n.a.length&&ke(()=>{La(t,r),$n(n.a)})}function La(e,t){if(e.l.s)for(const n of e.l.s)o(n);t()}let Wn=!1;function il(e){var t=Wn;try{return Wn=!1,[e(),Wn]}finally{Wn=t}}function re(e,t,n,r){var a=!hn||(n&oi)!==0,s=(n&li)!==0,i=(n&ci)!==0,l=r,u=!0,c=()=>(u&&(u=!1,l=i?Ft(r):r),l),d;if(s){var v=Lt in e||qo in e;d=nn(e,t)?.set??(v&&t in e?E=>e[t]=E:void 0)}var f,g=!1;s?[f,g]=il(()=>e[t]):f=e[t],f===void 0&&r!==void 0&&(f=c(),d&&(a&&$o(),d(f)));var h;if(a?h=()=>{var E=e[t];return E===void 0?c():(u=!0,E)}:h=()=>{var E=e[t];return E!==void 0&&(l=void 0),E===void 0?l:E},a&&(n&ii)===0)return h;if(d){var p=e.$$legacy;return(function(E,A){return arguments.length>0?((!a||!A||p||g)&&d(A?h():E),E):h()})}var _=!1,k=((n&si)!==0?Ln:cr)(()=>(_=!1,h()));s&&o(k);var y=G;return(function(E,A){if(arguments.length>0){const S=A?o(k):a&&s?pe(E):E;return P(k,S),_=!0,l!==void 0&&(l=S),E}return Ht&&_||(y.f&Ut)!==0?k.v:o(k)})}function _e(e){oe===null&&Ka(),hn&&oe.l!==null?ll(oe).m.push(e):ke(()=>{const t=Ft(e);if(typeof t=="function")return t})}function ll(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const cl="5";var Fa;typeof window<"u"&&((Fa=window.__svelte??(window.__svelte={})).v??(Fa.v=new Set)).add(cl);pi();const Ds={},ul=()=>({working:!1,swipingRatio:1,isSwiping:!1,duration:.35});function dl(e){Xa(Ds,e)}function Mn(){const e=Ga(Ds);if(!e)throw new Error("No AnimationSettingsContext found");return e}function fl(e,t){K(t,!0);let n=pe(ul());dl(n);var r=U(),a=O(r);Ae(a,()=>t.children??nt),m(e,r),q()}const Ls={};function vl(e){Xa(Ls,e)}function Os(){const e=Ga(Ls);if(!e)throw new Error("No AnimationSettingsContext found");return e}const hl=(e,t)=>{let n=null;return()=>{n&&clearTimeout(n),n=setTimeout(()=>{n=null,e()},t)}};async function na(){if(navigator.storage&&navigator.storage.persist)try{await navigator.storage.persisted()||await navigator.storage.persist()}catch{}}function gl(e,t){K(t,!0);let n=L(!1);const r=()=>o(n),a=hl(()=>{P(n,!1)},100);vl({isScrolling:r,enable:()=>{P(n,!0),a()}});var i=U(),l=O(i);Ae(l,()=>t.children??nt),m(e,i),q()}function pl(e,t){fl(e,{children:(n,r)=>{gl(n,{children:(a,s)=>{var i=U(),l=O(i);Ae(l,()=>t.children??nt),m(a,i)},$$slots:{default:!0}})},$$slots:{default:!0}})}let xt=L(""),en=L(null);function _l(e){P(xt,""),setTimeout(()=>{P(xt,e,!0)},16)}var ml=M('<div class="notification svelte-1a2zucn"> </div>'),wl=M("<div><!></div>");function yl(e,t){K(t,!0),ke(()=>{o(xt),o(xt)&&(o(en)?.getBoundingClientRect(),o(en)?.style.setProperty("opacity","1"));const s=setTimeout(()=>{o(en)?.style.removeProperty("opacity")},800),i=setTimeout(()=>{P(xt,""),o(en)?.style.removeProperty("opacity")},1200);return()=>{clearTimeout(s),clearTimeout(i)}});var n=wl(),r=w(n);{var a=s=>{var i=ml(),l=w(i);Ze(i,u=>P(en,u),()=>o(en)),fe(()=>kn(l,o(xt))),m(s,i)};B(r,s=>{o(xt)&&s(a)})}m(e,n),q()}var bl=M('<span class="vh svelte-14jjkpd"><!></span>');function st(e,t){var n=bl(),r=w(n);Ae(r,()=>t.children),m(e,n)}var Sl=Gi('<svg class="svelte-gv09tg"><use></use></svg>');function ce(e,t){let n=re(t,"name",8,"");var r=Sl(),a=w(r);fe(()=>Se(a,"href",`#icon-${n()??""}`)),m(e,r)}const Is=(e,t)=>{if(!t)return e;if(t.type==="closed")return{type:"closed"};switch(e.type){case"opened":return t.type==="close"?{type:"closing"}:t.type==="swipe"?{type:"openSwiping"}:e;case"closed":return t.type==="open"?{type:"opening"}:t.type==="swipe"?{type:"closeSwiping"}:e;case"openSwiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"closeSwiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"opening":return t.type==="opened"?{type:"opened"}:e;default:return e}};let Rr=L(pe(Is({type:"closed"})));const Ms=e=>{P(Rr,Is(o(Rr),e),!0)},kl=()=>o(Rr),El=()=>{Ms({type:"open"})},Cl=()=>{Ms({type:"close"})},Pl=()=>{const e=kl().type;e==="closed"?El():e==="opened"&&Cl()};var Al=M('<button class="buttonMenu svelte-hxzs42"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>');function Rs(e,t){K(t,!1),In();var n=Al();n.__click=[Pl];var r=w(n);le(r,()=>({"--size":"36px"})),ce(r.lastChild,{name:"sidebarMenu"});var a=x(r,2);st(a,{children:(s,i)=>{var l=Ce("Menu");m(s,l)}}),m(e,n),q()}Oe(["click"]);var xl=(e,t)=>t.onChange?.(e.target?.value||""),Tl=M('<input class="svelte-krv4jy"/>');function Br(e,t){K(t,!0);let n=re(t,"value",15,"");var r=Tl();r.__input=[xl,t],fe(()=>Se(r,"placeholder",t.placeholder)),ea("focus",r,function(...a){t.onFocus?.apply(this,a)}),ol(r,n),m(e,r),q()}Oe(["input"]);const T=pe({historyStack:[],pathname:window.location.pathname,search:window.location.search,historyLength:0});let Bs=L(pe(new URLSearchParams(T.search).get("feedOrder")||"newest"));const js=()=>o(Bs),Nl=e=>{P(Bs,e,!0);const t=new URLSearchParams(T.search);e==="newest"?t.delete("feedOrder"):t.set("feedOrder",e),ut(`${T.pathname}${t.size>0?`?${t.toString()}`:""}`)};let Fs=L(pe(new URLSearchParams(T.search).get("search")||""));const zs=()=>o(Fs),Dl=e=>{P(Fs,e,!0);const t=new URLSearchParams(T.search);e===""?t.delete("search"):t.set("search",e),ut(`${T.pathname}${t.size>0?`?${t.toString()}`:""}`)},Gu=(e,t)=>{const n=new URLSearchParams(T.search);n.append(e,t),Vs(`${T.pathname}${n.size>0?`?${n.toString()}`:""}`)},Xu=e=>{const t=new URLSearchParams(T.search);t.delete(e),T.historyStack=T.historyStack.map(n=>{const r=new URLSearchParams(n.split("?")[1]);return r.delete(e),`${n.split("?")[0]}${t.size>0?`?${r.toString()}`:""}`}),Vs(`${T.pathname}${t.size>0?`?${t.toString()}`:""}`)},Us=()=>new URLSearchParams(T.search).get("selectedTags")?.split(",")||[];let Yn=Us();const Ll=()=>{const e=Us();return e.join(",")===Yn.join(",")||(Yn=e),Yn},Ol=()=>{T.pathname=document.location.pathname,T.search=document.location.search,T.historyLength=Math.max(0,T.historyLength-=1)};window.addEventListener("popstate",Ol);const ut=e=>{const[t,n]=e.split("?");T.pathname=t,T.search=n?`?${n}`:"",T.historyLength+=1,T.historyStack.push(window.location.href),window.history.replaceState(null,"",e)},Vs=e=>{const[t,n]=e.split("?");T.pathname=t,T.search=n?`?${n}`:"",window.history.replaceState(null,"",e)},Il=e=>{const{fallback:t="/",to:n}=e||{},[r,a]=t.split("?");if(T.historyLength<=0){const s=window.location.href,[i,l]=s.split("?");if(!l.includes("stackPages"))window.history.replaceState(null,"",t),T.historyLength=0,T.pathname=r,T.search=a?`?${a}`:"";else{const u=new URLSearchParams(l),c=u.get("stackPages")?.split(",")||[],d=c.slice(0,n&&c.includes(n)?c.indexOf(n)+1:-1);d.length===0?u.delete("stackPages"):u.set("stackPages",d.join(","));const v=`${i}${u.toString()?`?${u.toString()}`:""}`;window.history.replaceState(null,"",v),T.search=u.toString()?`?${u.toString()}`:""}}else if(T.historyStack.length>0){const i=new URLSearchParams(T.search).get("stackPages")?.split(",")||[];n&&i.includes(n)&&(T.historyStack=T.historyStack.slice(0,-(i.length-(i.indexOf(n)+1))+1),T.historyLength=T.historyStack.length);const l=T.historyStack.pop();if(l){const[u,c]=l.split("?");window.history.replaceState(null,"",l),T.historyLength=Math.max(0,T.historyLength-=1),T.pathname=u,T.search=c?`?${c}`:""}}},Hs=()=>{const e=T.historyStack.findIndex(n=>n.includes("stackPages")),t=e===-1?T.historyStack.slice(0):T.historyStack.slice(0,e);if(t.length>0){const n=t.pop();if(n){const[r,a]=n.split("?");window.history.replaceState(null,"",n),T.historyLength=Math.max(0,t.length),T.pathname=r,T.search=a?`?${a}`:"",T.historyStack=t}}else{const n=T.search,r=new URLSearchParams(n);r.delete("stackPages"),window.history.replaceState(null,"",r.toString()?"/?"+r.toString():"/"),T.historyLength=0,T.pathname="/",T.search=r.toString()?"?"+r.toString():"",T.historyStack=[]}},lt=pe({value:""}),Ml=pe({value:zs()}),Rl=(e,t)=>{let n=null;return()=>{n&&clearTimeout(n),n=setTimeout(()=>{e()},t)}},Ks=()=>window.matchMedia("(max-width: 768px)").matches;let qs=L(pe(Ks()));const Bl=Rl(()=>{P(qs,Ks(),!0)},16);window.addEventListener("resize",Bl);const hr=()=>o(qs);function Ws(e,t){K(t,!0),_e(()=>{const n=r=>{r.target&&t.dialog?.open&&t.dialogInner&&t.dialogInner!==r.target&&!t.dialogInner.contains(r.target)&&t.onClose()};return document.addEventListener("mousedown",n,{capture:!0}),()=>{document.removeEventListener("mousedown",n,{capture:!0})}}),q()}const ra=pe({count:0}),jl=()=>ra.count>0,Ys=()=>{ra.count+=1},Gs=()=>{ra.count-=1};var Fl=M('<dialog><div class="dialogInner svelte-1wekt4o"><!></div></dialog> <!>',1);function zl(e,t){K(t,!0);let n=L(null),r=L(null),a=L(!1);const s=()=>{const f=setTimeout(()=>{t.onClosed()},150);o(n)?.addEventListener("transitionend",()=>{clearTimeout(f),t.onClosed()},{once:!0}),P(a,!1)};ke(()=>{t.startClose&&s()}),_e(()=>{o(n)?.showModal(),o(n)?.getClientRects(),P(a,!0)}),_e(()=>(Ys(),()=>{Gs()}));var i=Fl(),l=O(i),u=w(l),c=w(u);Ae(c,()=>t.children),Ze(u,f=>P(r,f),()=>o(r)),Ze(l,f=>P(n,f),()=>o(n));var d=x(l,2);{var v=f=>{Ws(f,{get dialog(){return o(n)},get dialogInner(){return o(r)},onClose:s})};B(d,f=>{o(n)&&o(r)&&f(v)})}fe(()=>te(l,1,ee(["dialog",{shown:o(a)}]),"svelte-1wekt4o")),m(e,i),q()}var Ul=M("<div><!></div>");function Vl(e,t){K(t,!0);let n=L(!1),r=L(null);const a=()=>{const c=setTimeout(()=>{t.onClosed()},150);o(r)?.addEventListener("transitionend",()=>{clearTimeout(c),t.onClosed()},{once:!0}),P(n,!1)},s=c=>{c.target!==o(r)&&!o(r)?.contains(c.target)&&a()},i=c=>{c.target!==o(r)&&!o(r)?.contains(c.target)&&a()};_e(()=>{o(r)?.getClientRects(),P(n,!0);const c=setTimeout(()=>{document.addEventListener("focusin",s),document.addEventListener("click",i)},0);return()=>{clearTimeout(c),document.removeEventListener("focusin",s),document.removeEventListener("click",i)}}),ke(()=>{t.startClose&&a()});var l=Ul(),u=w(l);Ae(u,()=>t.children),Ze(l,c=>P(r,c),()=>o(r)),fe(()=>te(l,1,ee(["menu",{top:t.positionTop,shown:o(n)}]),"svelte-vbw57a")),m(e,l),q()}const Hl=(e,t)=>{o(t)||P(t,!0)};var Kl=(e,t)=>t("newest"),ql=(e,t)=>t("oldest"),Wl=(e,t)=>t("AtoZ"),Yl=(e,t)=>t("ZtoA"),Gl=M("<div><button>Newest</button> <button>Oldest</button> <button>A to Z</button> <button>Z to A</button></div>"),Xl=M('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),Zl=M('<div class="orderMenu svelte-110m8z1"><button><!> <!></button> <!></div>');function Jl(e,t){K(t,!0);const n=(p,_=nt)=>{var k=Gl(),y=w(k);y.__click=[Kl,l];var E=x(y,2);E.__click=[ql,l];var A=x(E,2);A.__click=[Wl,l];var S=x(A,2);S.__click=[Yl,l],fe(()=>{te(k,1,ee(["menu",{menuDialog:_()}]),"svelte-110m8z1"),te(y,1,ee(["menuButton",{menuButtonDialog:_(),current:o(i)==="newest"}]),"svelte-110m8z1"),te(E,1,ee(["menuButton",{menuButtonDialog:_(),current:o(i)==="oldest"}]),"svelte-110m8z1"),te(A,1,ee(["menuButton",{menuButtonDialog:_(),current:o(i)==="AtoZ"}]),"svelte-110m8z1"),te(S,1,ee(["menuButton",{menuButtonDialog:_(),current:o(i)==="ZtoA"}]),"svelte-110m8z1")}),m(p,k)};let r=L(!1),a=L(!1),s=I(hr),i=I(js);const l=p=>{P(a,!0),Nl(p)},u=()=>{P(r,!1),P(a,!1)};var c=Zl(),d=w(c);d.__click=[Hl,r],te(d,1,ee(["button","buttonMenu"]),"svelte-110m8z1");var v=w(d);ce(v,{name:"filter"});var f=x(v,2);st(f,{children:(p,_)=>{var k=Ce("show feed order menu");m(p,k)}});var g=x(d,2);{var h=p=>{var _=U(),k=O(_);{var y=A=>{zl(A,{get startClose(){return o(a)},onClosed:u,children:(S,b)=>{n(S,()=>!0)},$$slots:{default:!0}})},E=A=>{var S=Xl(),b=O(S);le(b,()=>({"--right":"20px","--top":"60px"})),Vl(b.lastChild,{get startClose(){return o(a)},onClosed:u,children:(C,D)=>{n(C,()=>!1)},$$slots:{default:!0}}),m(A,S)};B(k,A=>{o(s)?A(y):A(E,!1)})}m(p,_)};B(g,p=>{o(r)&&p(h)})}m(e,c),q()}Oe(["click"]);const aa=pe({ref:null}),Ct=()=>new URLSearchParams(T.search).get("stackPages")?.split(",")||[];let yt=L(pe(Ct()));const Je=e=>{const t=Ct();if(!t.includes(e)){t.push(e);const n=new URLSearchParams(T.search);n.set("stackPages",t.join(",")),P(yt,t,!0),ut(`${T.pathname}?${n.toString()}`)}},Ql=e=>Ct().includes(e),Zu=()=>{P(yt,Ct(),!0)},Xs=()=>{const e=o(yt).slice(0,-1);P(yt,e,!0)},$l=()=>{const e=Ct();return e.length>=o(yt).length?e.reduce((t,n)=>[...t,{page:n,shown:!0}],[]):o(yt).reduce((t,n,r)=>[...t,{page:n,shown:e.length===0?!1:r!==o(yt).length-1}],[])},jr=()=>{P(yt,[],!0)},Mt=e=>{const t=Ct();t.includes(e)||t.push(e);const n=new URLSearchParams(T.search);return n.set("stackPages",t.join(",")),`${T.pathname}?${n}`},Rt=e=>t=>{t.preventDefault(),Je(e)};var N=(e=>(e.NewNote="newNote",e.EditNote="editNote",e.Settings="settings",e.ImportData="importData",e.ExportData="exportData",e.ClearStore="clearStore",e.Account="account",e.Sync="sync",e.Start="start",e.Auth="auth",e.Signin="signin",e.Signup="signup",e.AccessKeys="accessKeys",e.ConfirmAccessKey="confirmAccessKey",e.Subscription="subscription",e.Exit="exit",e.NotFound="notFound",e.About="about",e))(N||{}),ec=M('<div class="header svelte-1o3mutr"><div class="top svelte-1o3mutr"><div class="menu svelte-1o3mutr"><a class="link svelte-1o3mutr"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Settings</span></a> <a class="link svelte-1o3mutr"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Sync</span></a></div> <div class="mobile svelte-1o3mutr"><!></div> <a class="buttonAdd svelte-1o3mutr"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Note</span></a></div> <div class="bottom svelte-1o3mutr"><div><div class="sidebarSearchWrapper"><!></div></div> <div class="right svelte-1o3mutr"><div class="filter svelte-1o3mutr"><div class="feedSearchWrapper svelte-1o3mutr"><!></div> <!></div></div></div></div>');function tc(e,t){K(t,!0);let n=I(()=>aa.ref);const r=()=>{o(n)&&o(n).scrollTo({top:0,behavior:"smooth"})},a=Y=>{Dl(Y)};var s=ec(),i=w(s),l=w(i),u=w(l),c=I(()=>Rt(N.Settings));u.__click=function(...Y){o(c)?.apply(this,Y)};var d=w(u);le(d,()=>({"--rotate":"30deg","--size":"20px"})),ce(d.lastChild,{name:"settings"});var v=x(u,2),f=I(()=>Rt(N.Sync));v.__click=function(...Y){o(f)?.apply(this,Y)};var g=w(v);le(g,()=>({"--size":"20px"})),ce(g.lastChild,{name:"sync"});var h=x(l,2),p=w(h);Rs(p,{});var _=x(h,2),k=I(()=>Rt(N.NewNote));_.__click=function(...Y){o(k)?.apply(this,Y)};var y=w(_);le(y,()=>({"--size":"16px","--color":"#b0b0b0"})),ce(y.lastChild,{name:"plus"});var E=x(i,2),A=w(E);te(A,1,ee(["left"]),"svelte-1o3mutr");var S=w(A),b=w(S);Br(b,{placeholder:"Search tag",get value(){return lt.value},set value(Y){lt.value=Y}});var C=x(A,2),D=w(C),W=w(D),ae=w(W);Br(ae,{onFocus:r,onChange:a,placeholder:"Search",get value(){return Ml.value}});var ie=x(W,2);Jl(ie,{}),fe((Y,Z,z)=>{Se(u,"href",Y),Se(v,"href",Z),Se(_,"href",z)},[()=>Mt(N.Settings),()=>Mt(N.Sync),()=>Mt(N.NewNote)]),m(e,s),q()}Oe(["click"]);const nc="modulepreload",rc=function(e){return"/"+e},Oa={},ge=function(t,n,r){let a=Promise.resolve();if(n&&n.length>0){let u=function(c){return Promise.all(c.map(d=>Promise.resolve(d).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=i?.nonce||i?.getAttribute("nonce");a=u(n.map(c=>{if(c=rc(c),c in Oa)return;Oa[c]=!0;const d=c.endsWith(".css"),v=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${v}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":nc,d||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),d)return new Promise((g,h)=>{f.addEventListener("load",g),f.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return a.then(i=>{for(const l of i||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})};let Fr=!1;const Ar=()=>{document.activeElement instanceof HTMLInputElement&&document.activeElement.type==="text"||document.activeElement instanceof HTMLTextAreaElement?Fr=!0:Fr=!1},Zs=()=>Fr;function ac(e,t){K(t,!0);let n=re(t,"dialog",7);const r=Mn();let a=null;const s=()=>{t.dialogState==="swiping"&&t.onClose()};ke(()=>(t.dialogState==="swiping"&&(a=setTimeout(s,3e3)),()=>{a&&(clearTimeout(a),a=null)}));let i=null,l=null;const u=3,c=50,d=5,v=.6,f=.3,g=.35,h=.95;let p=0,_=0,k=0,y=!1,E=!1,A=0,S=0,b=0;const C=()=>{p=0,_=0,y=!1,E=!1,A=0,S=0,b=0,k=0,i=null,l!==null&&(cancelAnimationFrame(l),l=null),a&&(clearTimeout(a),a=null)},D=V=>{n()&&t.dialogState==="opened"&&(p=V.touches[0].clientX,_=V.touches[0].clientY,k=performance.now(),y=!0,E=!1)},W=V=>t.dialogState==="opened"&&V>0||t.dialogState==="swiping"&&V>0,ae=()=>{if(n()){n().style.setProperty("--transition-timing","0s"),t.onSwipe(),navigator.vibrate&&navigator.vibrate(10);try{const V=window.getComputedStyle(n()),R=V.transform||V.webkitTransform||"";if(S=n().offsetWidth,(t.dialogState==="swiping"||t.dialogState==="opened")&&(A=0),R&&R!=="none")try{A=new DOMMatrix(R).m41}catch{}E=!0}catch{C()}}},ie=()=>{if(!n())return;const R=Math.abs(A+b*S/100)/S;n().style.setProperty("--backdrop-bg",`rgba(0, 0, 0, ${.1*(1-R)})`)},Y=()=>{if(l=null,!i||!y||!n()||Zs()){C();return}const V=i.touches[0].clientX,R=i.touches[0].clientY,F=V-p,Q=R-_,ze=Math.abs(F)>Math.abs(Q),xe=Math.abs(F)>u;if(!E)if(ze&&xe&&W(F))try{ae()}catch{C();return}else return;if(!W(F))return;n().style.setProperty("--transition-timing","0s");let he=A+F*h;he=Math.max(0,Math.min(S,he)),n().style.transform=`translate3d(${he}px, 0, 0)`,r.swipingRatio=Math.abs(1-he/S),b=(he-A)/S*100,t.dialogState==="swiping"&&(a&&clearTimeout(a),a=setTimeout(s,3e3)),ie()},Z=V=>{if(!y)return;i=V,l===null&&(l=requestAnimationFrame(Y));const R=V.touches[0].clientX-p,F=V.touches[0].clientY-_,Q=Math.abs(R)>Math.abs(F);E&&Q&&V.preventDefault()},z=V=>{const R=Math.abs(V);if(R>=v)return d;if(R>=f){const F=(R-f)/(v-f);return c-F*(c-d)}else return c},J=(V,R)=>{if(Math.abs(V)>=v)return g*.5;const Q=Math.abs(b)/100;return R?g*Math.max(.5,1-Q):g*Math.max(.5,Q)},ue=V=>{if(l!==null&&(cancelAnimationFrame(l),l=null),!y||!n()){C();return}if(!E){C();return}let R=0;if(V?.changedTouches?.[0]){const he=V.changedTouches[0].clientX,ye=performance.now()-k;ye>0&&(R=(he-p)/ye)}const F=z(R);let Q=null;t.dialogState==="swiping"&&(Q=Math.abs(b)>F||R<-f?"close":"open");const ze=t.dialogState==="swiping"&&Q==="close",xe=J(R,ze);r.duration=xe-.02,n().style.setProperty("--transition-timing",`${xe}s`),n().offsetWidth,n().style.transform="",Q==="open"?t.onOpen():Q==="close"&&t.onClose(),n()?.style.removeProperty("--backdrop-bg"),C()};_e(()=>(n().addEventListener("touchstart",D,{passive:!0}),n().addEventListener("touchmove",Z,{passive:!1}),n().addEventListener("touchend",ue,{passive:!0}),n().addEventListener("touchcancel",ue,{passive:!0}),()=>{n().removeEventListener("touchstart",D),n().removeEventListener("touchmove",Z),n().removeEventListener("touchend",ue),n().removeEventListener("touchcancel",ue),l!==null&&cancelAnimationFrame(l)})),q()}var sc=(e,t)=>{t.onStartClose()},oc=M('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),ic=M('<dialog><div class="dialogInner svelte-gmmgbg"><div class="header svelte-gmmgbg"><div><!></div></div> <!></div></dialog> <!>',1);function lc(e,t){K(t,!0);let n=350;const{isScrolling:r,enable:a}=Os();let s=L(null),i=L(null);const l=Mn(),u=b=>{b.preventDefault(),t.onStartClose()};_e(()=>(o(s)?.addEventListener("close",t.onClosed),o(s)?.addEventListener("cancel",u),()=>{o(s)?.removeEventListener("close",t.onClosed),o(s)?.removeEventListener("cancel",u)}));const c=()=>{o(s)?.style.removeProperty("--transition-timing"),o(s)?.style.removeProperty("transform"),o(s)?.style.removeProperty("--backdrop-bg")},d=()=>{a()},v=I(r);ke(()=>{if(t.dialogState,!!o(s))switch(t.dialogState){case"opening":{o(s).open||o(s).showModal(),o(s).getBoundingClientRect();const b=setTimeout(()=>{c()},n+1),C=()=>{clearTimeout(b),c()};return o(s)?.addEventListener("transitionend",C,{once:!0}),t.onOpened(),()=>{o(s)?.removeEventListener("transitionend",C)}}case"closing":{const b=setTimeout(()=>{t.dialogState==="closing"&&t.onClosed()},n+1),C=()=>{clearTimeout(b),t.onClosed()};return o(s)?.addEventListener("transitionend",C,{once:!0}),()=>{o(s)?.removeEventListener("transitionend",C)}}case"opened":c()}});var f=ic(),g=O(f),h=w(g),p=w(h),_=w(p),k=w(_);{var y=b=>{var C=oc();te(C,1,ee(["navigateButton","buttonBack"]),"svelte-gmmgbg"),C.__click=[sc,t];var D=w(C);le(D,()=>({"--size":"36px"})),ce(D.lastChild,{name:"back"});var W=x(D,2);st(W,{children:(ae,ie)=>{var Y=Ce("back");m(ae,Y)}}),m(b,C)};B(k,b=>{(!(t.blocked||t.hidden)||t.blocked&&t.unBlockedBack)&&b(y)})}var E=x(p,2);Ae(E,()=>t.children),Ze(h,b=>P(i,b),()=>o(i)),Ze(g,b=>P(s,b),()=>o(s));var A=x(g,2);{var S=b=>{ac(b,{get onClose(){return t.onStartClose},get onOpen(){return t.onStartOpen},get onSwipe(){return t.onSwipe},get dialogState(){return t.dialogState},get dialog(){return o(s)}})};B(A,b=>{(!o(v)&&t.dialogState==="opened"||t.dialogState==="swiping")&&(!t.blocked||t.unBlockedBack)&&b(S)})}fe(()=>te(g,1,ee([{open:t.dialogState==="opened",hidden:t.hidden,isAnimationOn:l.working&&(!l.isSwiping||!t.hidden)},{hidden:t.hidden}]),"svelte-gmmgbg")),ea("scroll",h,d),m(e,f),q()}Oe(["click"]);const Ia=(e,t)=>{if(!t)return e;if(t.type==="closed")return{type:"closed"};switch(e.type){case"opened":return t.type==="close"?{type:"closing"}:t.type==="swipe"?{type:"swiping"}:e;case"closed":return t.type==="open"?{type:"opening"}:e;case"swiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"opening":return t.type==="opened"?{type:"opened"}:e;default:return e}};function cc(e,t){K(t,!0);let n=re(t,"blocked",3,!1),r=re(t,"hiddenDialog",3,!1),a=re(t,"unBlockedBack",3,!1),s=re(t,"onStartClose",3,()=>{}),i=re(t,"onClose",3,()=>{});const l=Mn();let u=L(pe(Ia({type:"closed"})));const c=y=>{P(u,Ia(o(u),y),!0)},d=()=>{n()&&!a()||(s()(),c({type:"close"}))},v=()=>{c({type:"open"})},f=()=>{c({type:"opened"}),l.duration=.2},g=()=>{i()(),c({type:"closed"}),l.swipingRatio=1,l.duration=.2},h=()=>{c({type:"swipe"})};ke(()=>{o(u).type==="swiping"?l.isSwiping=!0:l.isSwiping=!1,o(u).type==="closed"&&t.shownDialog?v():o(u).type==="opened"&&!t.shownDialog&&d()});var p=U(),_=O(p);{var k=y=>{lc(y,{onSwipe:h,onOpened:f,onClosed:g,onStartClose:d,onStartOpen:v,get dialogState(){return o(u).type},get hidden(){return r()},get blocked(){return n()},get unBlockedBack(){return a()},children:(E,A)=>{var S=U(),b=O(S);Ae(b,()=>t.children),m(E,S)},$$slots:{default:!0}})};B(_,y=>{o(u).type!=="closed"&&y(k)})}return m(e,p),q({handleComputeState:c})}const uc=({getDialog:e,onOpen:t,onStartClose:n,onClose:r})=>{const a=i=>{i.preventDefault(),n()},s=()=>{r?.()};_e(()=>{const i=e();return i?.addEventListener("cancel",a),i?.addEventListener("close",s),()=>{i?.removeEventListener("cancel",a),i?.removeEventListener("close",s)}}),_e(()=>{const i=e();i?.showModal(),i?.getBoundingClientRect(),t()})};let Js=L(200);const dc=e=>{P(Js,e,!0)},Qs=()=>o(Js);var fc=(e,t)=>{t.onStartBack()},vc=M('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),hc=(e,t)=>{t.onStartClose()},gc=M('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),pc=M('<dialog><div class="dialogInner svelte-1uv89ht"><div class="header svelte-1uv89ht"><div><!></div> <div><!></div></div> <!></div></dialog> <!>',1);function _c(e,t){K(t,!0);let n=re(t,"blockedDialog",3,!1),r=re(t,"hiddenDialog",3,!1),a=re(t,"isDesktopAnimationOff",3,!1),s=L(null),i=L(null);uc({getDialog:()=>o(s),onOpen:t.onOpen,onStartClose:t.onStartClose,onClose:t.onClose});const l=Mn();ke(()=>{t.stateDialog==="closing"&&(l.working?o(s)?.addEventListener("transitionend",()=>{o(s)?.close()},{once:!0}):o(s)?.close())});const u=I(Qs);var c=pc(),d=O(c),v=w(d),f=w(v),g=w(f),h=w(g);{var p=S=>{var b=vc();te(b,1,ee(["navigateButton","buttonBack"]),"svelte-1uv89ht"),b.__click=[fc,t];var C=w(b);le(C,()=>({"--size":"28px"})),ce(C.lastChild,{name:"back"});var D=x(C,2);st(D,{children:(W,ae)=>{var ie=Ce("back");m(W,ie)}}),m(S,b)};B(h,S=>{(!(n()||r())||n()&&t.unBlockedBack)&&t.onStartBack&&S(p)})}var _=x(g,2),k=w(_);{var y=S=>{var b=gc();te(b,1,ee(["navigateButton","buttonClose"]),"svelte-1uv89ht"),b.__click=[hc,t];var C=w(b);le(C,()=>({"--size":"28px"})),ce(C.lastChild,{name:"close"});var D=x(C,2);st(D,{children:(W,ae)=>{var ie=Ce("close");m(W,ie)}}),m(S,b)};B(k,S=>{n()||r()||S(y)})}var E=x(f,2);Ae(E,()=>t.children),Ze(v,S=>P(i,S),()=>o(i)),Ze(d,S=>P(s,S),()=>o(s));var A=x(d,2);Ws(A,{get dialog(){return o(s)},get dialogInner(){return o(i)},get onClose(){return t.onStartClose}}),fe(()=>{En(d,`height: ${o(u)+64}px`),te(d,1,ee([{open:t.stateDialog==="open",isAnimationOn:l.working,isDesktopAnimationOff:a(),hiddenDialog:r()}]),"svelte-1uv89ht")}),m(e,c),q()}Oe(["click"]);const mc=({onStartClose:e,onClose:t})=>{let n=L("close");return{get state(){return o(n)},set state(i){P(n,i,!0)},handleStartClose:(i=!1)=>{i||(P(n,"closing"),e?.())},handleOpen:()=>{P(n,"open")},handleClose:()=>{P(n,"close"),t?.()}}};function wc(e,t){K(t,!0);let n=re(t,"blockedDialog",3,!1),r=re(t,"hiddenDialog",3,!1),a=re(t,"onStartClose",3,()=>{}),s=re(t,"onClose",3,()=>{}),i=mc({onStartClose:a(),onClose:s()});ke(()=>{i.state==="close"&&t.shownDialog?i.state="opening":i.state==="open"&&!t.shownDialog&&i.handleStartClose(n())});var l=U(),u=O(l);{var c=d=>{_c(d,{get stateDialog(){return i.state},get blockedDialog(){return n()},get unBlockedBack(){return t.unBlockedBack},get hiddenDialog(){return r()},get onOpen(){return i.handleOpen},get onStartBack(){return t.onStartBack},onStartClose:()=>{i.handleStartClose(n())},get onClose(){return i.handleClose},children:(v,f)=>{var g=U(),h=O(g);Ae(h,()=>t.children),m(v,g)},$$slots:{default:!0}})};B(u,d=>{i.state!=="close"&&d(c)})}m(e,l),q()}function yc(e,t){K(t,!0);let n=re(t,"blockedDialog",3,!1),r=re(t,"hiddenDialog",3,!1),a=re(t,"isLastDialog",3,!1),s=re(t,"onStartClose",3,()=>{}),i=re(t,"onClose",3,()=>{});const l=I(()=>a()?void 0:t.onStartBack);_e(()=>(Ys(),()=>{Gs()}));var u=U(),c=O(u);{var d=f=>{cc(f,{get shownDialog(){return t.shownDialog},get blocked(){return n()},get unBlockedBack(){return t.unBlockedBack},get hiddenDialog(){return r()},get children(){return t.children},get onStartClose(){return t.onStartBack},get onClose(){return i()}})},v=f=>{wc(f,{get shownDialog(){return t.shownDialog},get blockedDialog(){return n()},get unBlockedBack(){return t.unBlockedBack},get hiddenDialog(){return r()},get children(){return t.children},get onStartBack(){return o(l)},get onStartClose(){return s()},get onClose(){return i()}})};B(c,f=>{hr()?f(d):f(v,!1)})}m(e,u),q()}let $s=L(!1),sa=L(!1);const mn=e=>{P($s,e,!0),e||P(sa,!1)},bc=()=>o($s),Ma=e=>{P(sa,e,!0)},Sc=()=>o(sa);function Ra(e,t){K(t,!0);let n=re(t,"blocked",3,!1),r=re(t,"isLastDialog",3,!1),a=re(t,"onBack",3,()=>{});const s=I(()=>n()||t.hidden||bc()),i=I(()=>Sc()&&!r());yc(e,{get shownDialog(){return t.shown},get blockedDialog(){return o(s)},get unBlockedBack(){return o(i)},get hiddenDialog(){return t.hidden},get isLastDialog(){return r()},onStartBack:()=>{(!o(s)||o(s)&&o(i))&&t.shown&&(Il(),a()())},onStartClose:()=>{(!o(s)||o(s)&&o(i))&&t.shown&&Hs()},onClose:()=>{Xs()},children:(d,v)=>{var f=U(),g=O(f);Ae(g,()=>t.children),m(d,f)},$$slots:{default:!0}}),q()}let zr=L(pe({showFavicon:!0}));const eo=()=>o(zr).showFavicon,oa=e=>{e&&P(zr,{...o(zr),...e},!0)};let j=L({initedDB:!1});const kc=()=>{P(j,{initedDB:!0})},et=async e=>{P(j,{...o(j),account:e})},Rn=async e=>{const t=o(j).notes||[],n=o(j).mapNotes||new Map;e.forEach(r=>{t.push(r),n.set(r.id,r)}),P(j,{...o(j),notes:t,mapNotes:n,getNotes:()=>t,getMapNotes:()=>n})},gr=()=>o(j).notes&&o(j).mapNotes,to=()=>o(j).account,Ec=()=>o(j).getNotes||(()=>o(j).notes||[]),Ju=()=>o(j).getMapNotes||(()=>o(j).mapNotes||new Map),no=e=>{if(!o(j).notes||!o(j).mapNotes)throw new Error("Notes appState is not initialized");const t={...e};o(j).notes.push(t),o(j).mapNotes.set(t.id,t),P(j,{...o(j),getNotes:()=>o(j).notes,getMapNotes:()=>o(j).mapNotes})},ro=async e=>{if(!o(j).notes||!o(j).mapNotes)throw new Error("Notes appState is not initialized");o(j).notes.forEach((t,n)=>{t?.id===e.id&&o(j).notes&&(o(j).notes[n]=e)}),o(j).mapNotes.set(e.id,e),P(j,{...o(j),getNotes:()=>o(j).notes,getMapNotes:()=>o(j).mapNotes})},Cc=async e=>{if(!o(j).notes||!o(j).mapNotes)throw new Error("Notes appState is not initialized");o(j).mapNotes.delete(e);const t=o(j).notes.findIndex(n=>n?.id===e);t!==-1&&(o(j).notes[t]=void 0),P(j,{...o(j),getNotes:()=>o(j).notes,getMapNotes:()=>o(j).mapNotes})},ao=async()=>{const e=[],t=new Map;P(j,{...o(j),notes:e,mapNotes:t,getNotes:()=>e,getMapNotes:()=>t})},so=async()=>{P(j,{initedDB:!0,account:void 0,notes:void 0,mapNotes:void 0,getNotes:()=>{},getMapNotes:()=>{}})};let oo=L({});const Pc=()=>o(oo),Ac=e=>{P(oo,e)};var xc=M('<button> <svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></button>');function Gn(e,t){let n=I(()=>t.style==="selected"?"45deg":"0deg");var r=xc();r.__click=function(...i){t.onClick?.apply(this,i)};var a=w(r),s=x(a);le(s,()=>({"--size":t.size==="small"?"10px":"12px","--rotate":o(n)})),ce(s.lastChild,{name:"plus"}),fe(()=>{Se(r,"type",t.type),te(r,1,ee([{selectedTag:t.style==="selected",small:t.size==="small"}]),"svelte-15zw27r"),kn(a,`${t.title??""} `)}),m(e,r)}Oe(["click"]);var Tc=M("<div></div>"),Nc=M('<div class="sidebarFixed svelte-rnyoa6"><div class="nav svelte-rnyoa6"><!> <div class="menu svelte-rnyoa6"><a class="link svelte-rnyoa6"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a> <a class="link svelte-rnyoa6"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a></div></div> <div class="searchWrapper svelte-rnyoa6"><!></div> <!></div> <div></div>',1),Dc=M("<div></div>"),Lc=M('<div class="sidebar svelte-rnyoa6"><div class="sidebarFixed svelte-rnyoa6"><!></div> <div class="tags svelte-rnyoa6"></div></div>');function Oc(e,t){K(t,!0);let n=L(null),r=I(()=>new URLSearchParams(T.search).get("selectedTags")?.split(",")||[]),a=null;function s(){return a||(a=ge(()=>import("./MobileSidebar-CiTMv5lK.js"),__vite__mapDeps([0,1]))),a}const i=p=>{const _=new URLSearchParams(T.search);_.set("selectedTags",[...o(r),p].join(",")),ut(`${T.pathname}${_.size>0?`?${_.toString()}`:""}`),lt.value=""},l=p=>{const _=new URLSearchParams(T.search),k=o(r).filter(y=>y!==p);k.length===0?_.delete("selectedTags"):_.set("selectedTags",k.join(",")),ut(`${T.pathname}${_.size>0?`?${_.toString()}`:""}`)};let u=I(()=>gr()?Object.values(Pc()).filter(p=>!o(r).some(_=>p.name===_)).sort((p,_)=>p.name.localeCompare(_.name)):[]),c=I(hr);_e(()=>{o(c)&&s()});let d=I(()=>Ct().length>0||jl());var v=U(),f=O(v);{var g=p=>{var _=U(),k=O(_);Ps(k,s,null,(y,E)=>{const A=I(()=>o(E).default);var S=U(),b=O(S);Ts(b,()=>o(A),(C,D)=>{D(C,{get blocked(){return o(d)},children:(W,ae)=>{var ie=Nc(),Y=O(ie),Z=w(Y),z=w(Z);Rs(z,{});var J=x(z,2),ue=w(J),V=I(()=>Rt(N.Settings));ue.__click=function(...X){o(V)?.apply(this,X)};var R=w(ue);le(R,()=>({"--size":"24px"})),ce(R.lastChild,{name:"settings"});var F=x(R,2);st(F,{children:(X,de)=>{var Te=Ce("Settings");m(X,Te)}});var Q=x(ue,2),ze=I(()=>Rt(N.Sync));Q.__click=function(...X){o(ze)?.apply(this,X)};var xe=w(Q);le(xe,()=>({"--size":"24px"})),ce(xe.lastChild,{name:"sync"});var he=x(xe,2);st(he,{children:(X,de)=>{var Te=Ce("Sync");m(X,Te)}});var we=x(Z,2),ye=w(we);Br(ye,{placeholder:"Search tag",get value(){return lt.value},set value(X){lt.value=X}});var Ye=x(we,2);{var Ie=X=>{var de=Tc();te(de,1,ee(["tags","selectedTags"]),"svelte-rnyoa6"),tn(de,20,()=>o(r),Te=>Te,(Te,Kt)=>{Gn(Te,{get title(){return Kt},onClick:()=>l(Kt),style:"selected"})}),Ze(de,Te=>P(n,Te),()=>o(n)),m(X,de)};B(Ye,X=>{o(r).length>0&&X(Ie)})}var Me=x(Y,2);te(Me,1,ee(["tags","tagsWrapper"]),"svelte-rnyoa6"),tn(Me,21,()=>o(u),X=>X.name,(X,de)=>{var Te=U(),Kt=O(Te);{var ft=vt=>{Gn(vt,{get title(){return o(de).name},onClick:()=>i(o(de).name)})};B(Kt,vt=>{(lt.value===""||o(de).name.toLowerCase().indexOf(lt.value.toLowerCase())!==-1)&&vt(ft)})}m(X,Te)}),fe((X,de)=>{Se(ue,"href",X),Se(Q,"href",de)},[()=>Mt(N.Settings),()=>Mt(N.Sync)]),m(W,ie)},$$slots:{default:!0}})}),m(y,S)}),m(p,_)},h=p=>{var _=Lc(),k=w(_),y=w(k);{var E=S=>{var b=Dc();te(b,1,ee(["tags","selectedTags"]),"svelte-rnyoa6"),tn(b,20,()=>o(r),C=>C,(C,D)=>{Gn(C,{get title(){return D},onClick:()=>l(D),style:"selected"})}),m(S,b)};B(y,S=>{o(r).length>0&&S(E)})}var A=x(k,2);tn(A,21,()=>o(u),S=>S.name,(S,b)=>{var C=U(),D=O(C);{var W=ae=>{Gn(ae,{get title(){return o(b).name},onClick:()=>i(o(b).name)})};B(D,ae=>{(lt.value===""||o(b).name.toLowerCase().indexOf(lt.value.toLowerCase())!==-1)&&ae(W)})}m(S,C)}),m(p,_)};B(f,p=>{o(c)?p(g):p(h,!1)})}m(e,v),q()}Oe(["click"]);const Ic=(e,t,n)=>{navigator.clipboard.writeText(t.note.url),_l("Link copied to clipboard"),P(n,!1)},Mc=(e,t)=>{P(t,!0)},Rc=(e,t)=>{P(t,!1)},Bc=(e,t,n)=>{e.preventDefault(),Je(`${N.EditNote}?id=${t.note.id}`),P(n,!1)};var jc=M('<div class="iconPlaceholder svelte-1hasi00"></div>'),Fc=M('<img loading="lazy" class="noteIcon" height="16" width="16" alt=""/>'),zc=M('<div class="noteIconWrapper svelte-1hasi00"><!></div>'),Uc=M('<li class="record svelte-1hasi00"><!> <a class="noteLink svelte-1hasi00" target="_blank" rel="noopener noreferrer"> </a> <div class="spacer svelte-1hasi00"></div> <div><button class="button svelte-1hasi00"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button> <a target="_blank" rel="noopener noreferrer" class="button svelte-1hasi00"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a></div></li>');function Vc(e,t){K(t,!0);let n=L(!1),r=L(!1),a=I(eo);const s=y=>{try{return`https://${new URL(y).host}/favicon.ico`}catch{return""}};var i=Uc();i.__focusin=[Mc,n],i.__focusout=[Rc,n];var l=w(i);{var u=y=>{var E=zc(),A=w(E);{var S=C=>{var D=jc();m(C,D)},b=C=>{var D=Fc();fe(W=>Se(D,"src",W),[()=>s(t.note.url)]),ea("error",D,()=>{P(r,!0)}),m(C,D)};B(A,C=>{o(r)?C(S):C(b,!1)})}m(y,E)};B(l,y=>{o(a)&&y(u)})}var c=x(l,2);c.__click=[Bc,t,n];var d=w(c),v=x(c,4),f=w(v);f.__click=[Ic,t,n];var g=w(f);le(g,()=>({"--size":"20px"})),ce(g.lastChild,{name:"copy"});var h=x(g,2);st(h,{children:(y,E)=>{var A=Ce("copy link");m(y,A)}});var p=x(f,2),_=w(p);le(_,()=>({"--size":"24px"})),ce(_.lastChild,{name:"open"});var k=x(_,2);st(k,{children:(y,E)=>{var A=Ce();fe(()=>kn(A,t.note.title)),m(y,A)}}),fe(y=>{Se(c,"tabindex",t.focusHidden?-1:0),Se(c,"href",y),kn(d,t.note.title),te(v,1,ee(["noteMenuWrapper",{noteMenuWrapperActive:o(n)}]),"svelte-1hasi00"),Se(f,"tabindex",t.focusHidden?-1:0),Se(p,"href",t.note.url),Se(p,"tabindex",t.focusHidden?-1:0)},[()=>`/?stackPages=${encodeURIComponent(`${N.EditNote}?id=${t.note.id}`)}`]),m(e,i),q()}Oe(["focusin","focusout","click"]);var Hc=M('<div><!> <div class="loader svelte-1wuuvr"></div></div>');function io(e,t){K(t,!0);let n=L(!1);_e(()=>{const s=setTimeout(()=>{P(n,!0)},200);return()=>{clearTimeout(s)}});var r=Hc(),a=w(r);Ae(a,()=>t.children??nt),fe(()=>te(r,1,ee(["block",{shown:o(n)}]),"svelte-1wuuvr")),m(e,r),q()}var Kc=M("<a><!></a>"),qc=M('<button type="button"><!></button>');function bt(e,t){let n=re(t,"type",3,"standard"),r=re(t,"element",3,"button"),a=re(t,"href",3,""),s=re(t,"fullWidth",3,!1);var i=U(),l=O(i);{var u=d=>{var v=Kc();v.__click=function(...g){t.onClick?.apply(this,g)};var f=w(v);Ae(f,()=>t.children??nt),fe(()=>{Se(v,"href",a()),te(v,1,ee(["button","a",{dangerous:n()==="dangerous",secondary:n()==="secondary",fullWidth:s()}]),"svelte-toxa1f")}),m(d,v)},c=d=>{var v=qc();v.__click=function(...g){t.onClick?.apply(this,g)};var f=w(v);Ae(f,()=>t.children??nt),fe(()=>te(v,1,ee(["button",{dangerous:n()==="dangerous",secondary:n()==="secondary",fullWidth:s()}]),"svelte-toxa1f")),m(d,v)};B(l,d=>{r()==="a"?d(u):d(c,!1)})}m(e,i)}Oe(["click"]);var Wc=M('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Add note</span>',1),Yc=M('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span style="padding-left: 6px;">Import data</span>',1),Gc=M('<div class="emptyStore svelte-18w0lzw"><p class="message">No notes found</p> <div class="wrapperButtonsAdd svelte-18w0lzw"><!></div> <div>or</div> <div class="wrapperButtonsAdd svelte-18w0lzw"><!></div></div>'),Xc=M('<div class="emptyMessage svelte-18w0lzw">No notes found</div>'),Zc=M('<div class="feed svelte-18w0lzw"><ul class="svelte-18w0lzw"></ul></div>'),Jc=M('<div class="wrapperFeed svelte-18w0lzw"><div class="wrapperContainer svelte-18w0lzw"><!></div></div>');function Qc(e,t){K(t,!0);let n=50,r=L(0),a=L(0),s=L(0),i=I(zs),l=L(0),u=[],c=L(0),d=I(()=>aa.ref),v=null,f=null;const g=I(Ll);ke(()=>{o(i),o(g),o(k),o(d)?.scrollTo(0,0)});const{enable:h}=Os(),p=()=>{h(),v||(v=requestAnimationFrame(()=>{const z=o(d)?.scrollTop||0;P(s,z,!0);const J=Math.ceil(o(r)/n);P(a,Math.floor(z/(n*J))*(n*J)),v=null}))},_=()=>{f||(f=requestAnimationFrame(()=>{P(r,window.innerHeight-180||0,!0);const z=o(d)?.scrollTop||0;P(s,z,!0);const J=Math.ceil(o(r)/n);P(a,Math.floor(z/(n*J))*(n*J)),f=null}))};_e(()=>{_(),p()}),ke(()=>(o(d)?.addEventListener("scroll",p),window.addEventListener("resize",_),()=>{o(d)?.removeEventListener("scroll",p),window.removeEventListener("resize",_)}));const k=I(js);let y=L(""),E=I(Ec);ke(()=>{o(k);const z=o(E)()||[];Ft(()=>o(y))!==o(k)&&(Ft(()=>P(y,o(k),!0)),z.sort((R,F)=>{if(!R||!F)return 0;switch(o(k)){case"newest":return R.createdAt<F.createdAt?-1:1;case"oldest":return R.createdAt>F.createdAt?-1:1;case"AtoZ":return F.title.localeCompare(R.title);case"ZtoA":return R.title.localeCompare(F.title);default:return 0}}));const ue=[],V={};for(let R=z.length-1;R>=0;R--){const F=z[R];if(F&&!(o(g).length&&o(g).some(Q=>!F.tags.includes(Q)))&&!(o(i)&&!(F.title.toLowerCase().includes(o(i).toLowerCase())||F.url.toLowerCase().includes(o(i).toLowerCase())||F.description.toLowerCase().includes(o(i).toLowerCase())))){if(F.tags)for(const Q of F.tags)V[Q]?V[Q].connections++:V[Q]={name:Q,connections:1};ue.push(F)}}Ac(V),P(l,ue.length,!0),u=ue,P(c,Date.now(),!0)});const A=I(()=>o(l)*n);let b=I(()=>{o(c);const z=Math.ceil(o(r)/n);let J=Math.floor(o(a)/n);return J=J-Math.min(J,z),u.slice(J,J+z*3)}),C=I(()=>n*Math.ceil(o(r)/n));const D=I(()=>o(a)-Math.min(o(a),o(C)));var W=Jc(),ae=w(W),ie=w(ae);{var Y=z=>{io(z,{})},Z=z=>{var J=U(),ue=O(J);{var V=F=>{var Q=Gc(),ze=x(w(Q),2),xe=w(ze);{let ye=I(()=>Mt(N.NewNote)),Ye=I(()=>Rt(N.NewNote));bt(xe,{element:"a",get href(){return o(ye)},get onClick(){return o(Ye)},children:(Ie,Me)=>{var X=Wc(),de=O(X);le(de,()=>({"--size":"18px","--color":"#b0b0b0"})),ce(de.lastChild,{name:"plus"}),m(Ie,X)},$$slots:{default:!0}})}var he=x(ze,4),we=w(he);{let ye=I(()=>Mt(N.ImportData)),Ye=I(()=>Rt(N.ImportData));bt(we,{element:"a",get href(){return o(ye)},get onClick(){return o(Ye)},children:(Ie,Me)=>{var X=Yc(),de=O(X);le(de,()=>({"--size":"18px","--color":"#b0b0b0"})),ce(de.lastChild,{name:"import"}),m(Ie,X)},$$slots:{default:!0}})}m(F,Q)},R=F=>{var Q=U(),ze=O(Q);{var xe=we=>{var ye=Xc();m(we,ye)},he=we=>{var ye=Zc(),Ye=w(ye);tn(Ye,23,()=>o(b),Ie=>Ie.id,(Ie,Me,X)=>{{let de=I(()=>o(X)*n<o(s)-o(D)-n/2||o(X)*n>o(s)-o(D)+Math.floor(o(r)/n)*n);Vc(Ie,{get focusHidden(){return o(de)},get note(){return o(Me)}})}}),fe(Ie=>{En(ye,`min-height: ${Ie??""}px`),En(Ye,`transform: translateY(${o(D)??""}px);`)},[()=>Math.max((o(A)>o(r),o(A)),0)]),m(we,ye)};B(ze,we=>{o(b).length===0?we(xe):we(he,!1)},!0)}m(F,Q)};B(ue,F=>{(o(E)()||[]).length===0?F(V):F(R,!1)},!0)}m(z,J)};B(ie,z=>{gr()?z(Z,!1):z(Y)})}m(e,W),q()}var $c=M('<!> <div class="content svelte-cu0ar8"><!></div>',1);function lo(e){var t=$c(),n=O(t);Oc(n,{});var r=x(n,2),a=w(r);Qc(a,{}),m(e,t)}const eu=Object.freeze(Object.defineProperty({__proto__:null,default:lo},Symbol.toStringTag,{value:"Module"}));var tu=M('<div class="wrapper svelte-1syxvud"><fieldset class="switcher svelte-1syxvud"><legend class="vh svelte-1syxvud">Color Scheme</legend> <input id="light" type="radio" aria-label="Light"/> <label for="light" title="Light" aria-label="Light"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <input id="system" type="radio" aria-label="System"/> <label for="system" title="System" aria-label="System"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <input id="dark" type="radio" aria-label="Dark"/> <label for="dark" title="Dark" aria-label="Dark"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <div class="wrapSwitcherStatus svelte-1syxvud"><div class="switcherStatus svelte-1syxvud"></div></div></fieldset></div>');function nu(e,t){K(t,!0);const n={Light:"light",System:"system",Dark:"dark"};let r=L(pe(localStorage.getItem("colorScheme")||n.System));const a=y=>{localStorage.setItem("colorScheme",y),y===n.System?window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.dataset.colorScheme=n.Dark:document.documentElement.dataset.colorScheme=n.Light:document.documentElement.dataset.colorScheme=y,P(r,y,!0)},s=y=>{const E=y.target.value;a(E)},i="color-scheme-switcher";var l=tu(),u=w(l),c=x(w(u),2);te(c,1,ee(["vh","input"]),"svelte-1syxvud"),Se(c,"name",i),c.__change=s;var d=x(c,2);te(d,1,ee(["switcherButton","light"]),"svelte-1syxvud");var v=w(d);le(v,()=>({"--size":"20px"})),ce(v.lastChild,{name:"sun"});var f=x(d,2);te(f,1,ee(["vh","input"]),"svelte-1syxvud"),Se(f,"name",i),f.__change=s;var g=x(f,2);te(g,1,ee(["switcherButton","system"]),"svelte-1syxvud");var h=w(g);le(h,()=>({"--size":"14px"})),ce(h.lastChild,{name:"a"});var p=x(g,2);te(p,1,ee(["vh","input"]),"svelte-1syxvud"),Se(p,"name",i),p.__change=s;var _=x(p,2);te(_,1,ee(["switcherButton","dark"]),"svelte-1syxvud");var k=w(_);return le(k,()=>({"--size":"20px"})),ce(k.lastChild,{name:"moon"}),fe(()=>{Er(c,n.Light),Qn(c,o(r)===n.Light),Er(f,n.System),Qn(f,o(r)===n.System),Er(p,n.Dark),Qn(p,o(r)===n.Dark)}),m(e,l),q({setColorScheme:a,handleChange:s})}Oe(["change"]);const ru=(e,t)=>{t.onChange(!t.checked)};var au=M('<label class="switch svelte-15kl8eb"><input class="vh svelte-15kl8eb" type="checkbox"/> <span class="slider svelte-15kl8eb"></span></label>');function su(e,t){K(t,!0);var n=au(),r=w(n);r.__change=[ru,t],fe(()=>Qn(r,t.checked)),m(e,n),q()}Oe(["change"]);function _t(e){const t=String.fromCharCode(...new Uint8Array(e));return window.btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function ia(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");const n=t.length%4;return n&&(t+="=".repeat(4-n)),t}function la(e){try{const t=atob(e),n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n.buffer}catch(t){throw t}}function Qu(e){const t=ia(e);return la(t)}const $u=async({challenge:e,clientKey:t})=>{const n=Math.floor(Math.random()*100),r={challenge:la(ia(e)),rp:{id:"localhost",name:"notes"},user:{id:new Uint8Array([...t,...crypto.getRandomValues(new Uint8Array(16))]).buffer,name:`account_${n}`,displayName:`account_${n}`},pubKeyCredParams:[{type:"public-key",alg:-7},{type:"public-key",alg:-257}],authenticatorSelection:{userVerification:"required"},timeout:6e4,attestation:"none"},a=await navigator.credentials.create({publicKey:r});if(a){const s=a.response;return{challenge:e,id:a.id,rawId:_t(a.rawId),type:a.type,response:{clientDataJSON:_t(s.clientDataJSON),attestationObject:_t(s.attestationObject)}}}else throw new Error},ed=async({challenge:e})=>{const t={challenge:la(ia(e)),timeout:6e4,rpId:"localhost",userVerification:"required"},n=await navigator.credentials.get({publicKey:t});if(n){const r=n.response;new DataView(r.authenticatorData).getUint32(33,!1);const a={challenge:e,id:n.id,rawId:_t(n.rawId),type:n.type,response:{authenticatorData:_t(r.authenticatorData),clientDataJSON:_t(r.clientDataJSON),signature:_t(r.signature)}};if(!r.userHandle)throw new Error("No credential found");const s=new Uint8Array(r.userHandle).slice(0,32);return{credentialData:a,clientKey:s}}else throw new Error("No credential found")},ou=async e=>{const t=await crypto.subtle.importKey("raw",e.serverKey,{name:"HKDF"},!1,["deriveKey"]),n=await crypto.subtle.deriveKey({name:"HKDF",salt:new Uint8Array(12),info:new TextEncoder().encode("aes-gcm-shared"),hash:"SHA-256"},t,{name:"AES-GCM",length:256},!1,["encrypt"]);return{encryptedClientKey:await crypto.subtle.encrypt({name:"AES-GCM",iv:new Uint8Array(12)},n,e.clientKey)}},td=async e=>{const t=await crypto.subtle.importKey("raw",e.serverKey,{name:"HKDF"},!1,["deriveKey"]),n=await crypto.subtle.deriveKey({name:"HKDF",info:new TextEncoder().encode("aes-gcm-shared"),hash:"SHA-256",salt:new Uint8Array(12)},t,{name:"AES-GCM",length:256},!1,["decrypt"]),r=await crypto.subtle.decrypt({name:"AES-GCM",iv:new Uint8Array(12)},n,e.encryptedClientKey);return new Uint8Array(r)},iu=()=>crypto.randomUUID(),lu="AppStorage",cu=1,We="notes",Ba="tags",rr="syncLog",St="account",kt="settings",Be="success",je="error",ne=(e,t,n)=>{e?.addEventListener(t,n)};function uu(){return new Promise((e,t)=>{const n=indexedDB.open(lu,cu);ne(n,"upgradeneeded",()=>{const r=n.result;r.objectStoreNames.contains(We)||r.createObjectStore(We,{keyPath:"id"}),r.objectStoreNames.contains(Ba)||r.createObjectStore(Ba,{keyPath:"id"}),r.objectStoreNames.contains(St)||r.createObjectStore(St,{keyPath:"id"}),r.objectStoreNames.contains(kt)||r.createObjectStore(kt,{keyPath:"id"}),r.objectStoreNames.contains(rr)||r.createObjectStore(rr,{keyPath:"id"})}),ne(n,Be,()=>{const r=n.result;e(r),r.onversionchange=function(){r?.close(),alert("app outdated, please reload the page")}}),ne(n,"blocked",()=>{t(),alert("app outdated, please reload the page")}),ne(n,je,()=>{t()})})}function co(e){return new Promise((t,n)=>{const a=e?.transaction(kt,"readonly")?.objectStore(kt).get("default");ne(a,Be,()=>{const s=a?.result?.settings;t(s)}),ne(a,je,()=>{n()})})}function du(e,t){return new Promise((n,r)=>{const i=e?.transaction(kt,"readwrite")?.objectStore(kt)?.put({id:"default",settings:t});ne(i,Be,()=>{n()}),ne(i,je,()=>{r()})})}function Ur(e){return new Promise((t,n)=>{const a=e?.transaction(St,"readonly")?.objectStore(St).get("default");ne(a,Be,()=>{const s=a?.result?.account;t(s)}),ne(a,je,()=>{n()})})}function pr(e,t){return new Promise((n,r)=>{const i=e?.transaction(St,"readwrite")?.objectStore(St)?.put({id:"default",account:t});ne(i,Be,()=>{n()}),ne(i,je,()=>{r()})})}function Bn(e){return new Promise((t,n)=>{const a=e?.transaction(We,"readonly")?.objectStore(We).getAll();ne(a,Be,()=>{const s=a?.result||[];t(s)}),ne(a,je,()=>{n()})})}function uo(e,t){return new Promise((n,r)=>{const i=e?.transaction(We,"readwrite")?.objectStore(We)?.put({...t});ne(i,Be,()=>{n()}),ne(i,je,()=>{r()})})}function fu(e){return new Promise((t,n)=>{const s=e?.transaction(We,"readwrite")?.objectStore(We)?.clear();ne(s,Be,()=>{t()}),ne(s,je,()=>{n()})})}function ca(e){return Promise.all([new Promise((t,n)=>{const s=e?.transaction(St,"readwrite")?.objectStore(St)?.clear();ne(s,Be,()=>{t()}),ne(s,je,()=>{n()})}),new Promise((t,n)=>{const s=e?.transaction(We,"readwrite")?.objectStore(We)?.clear();ne(s,Be,()=>{t()}),ne(s,je,()=>{n()})}),new Promise((t,n)=>{const s=e?.transaction(kt,"readwrite")?.objectStore(kt)?.clear();ne(s,Be,()=>{t()}),ne(s,je,()=>{n()})}),new Promise((t,n)=>{const s=e?.transaction(rr,"readwrite")?.objectStore(rr)?.clear();ne(s,Be,()=>{t()}),ne(s,je,()=>{n()})})])}async function vu(e,t){const n=(await Bn(e)).reduce((i,l)=>(i[l.id]=l,i),{}),r={},s=e?.transaction(We,"readwrite")?.objectStore(We);t.forEach(i=>{n[i.id]?n[i.id].updatedAt<i.updatedAt&&(r[i.id]=i):r[i.id]=i}),await Promise.all(Object.values(r).map(i=>{const l=s?.put(i);return new Promise((u,c)=>{ne(l,Be,()=>{u()}),ne(l,je,()=>{c()})})}))}let ve=null;const fo=crypto.randomUUID(),vo=new BroadcastChannel("app"),it=(e,t)=>{vo.postMessage(JSON.stringify({tabId:fo,type:e,data:t}))};vo.addEventListener("message",async e=>{if(e.data&&typeof e.data=="string"){const t=JSON.parse(e.data);if(t.tabId&&t.tabId===fo)return;if(t.type==="addNote"){const n=t.data;no(n)}else if(t.type==="updateNote"){const n=t.data;ro(n)}else if(t.type==="deleteNote"){const n=t.data;Cc(n)}else if(t.type==="clearNotes")ao();else if(t.type==="reloadNotes"){const n=await Bn(ve);await Rn(n)}else if(t.type==="initLocalAccount")et(null),jr(),ut("/");else if(t.type==="initAccount"){const n=await Ur(ve);n&&(et(n),jr(),ut("/"))}else if(t.type==="updateSettings"){const n=await co(ve);n&&oa(n)}else if(t.type==="disconnectCloudAccount")et(null);else if(t.type==="exit")so();else if(t.type==="updateAccount"){const n=await Ur(ve);n&&et(n)}}});(async()=>{ve=await uu(),kc();const e=await co(ve);oa(e);const t=await Ur(ve);if(t===void 0)Je(N.Start);else{Ql(N.Start)&&(jr(),ut("/")),t?(et(t),await na()):et(null);const n=await Bn(ve);await Rn(n)}})();const nd=async e=>{const t={...e,id:iu(),createdAt:Date.now(),updatedAt:Date.now()};no(t),it("addNote",t),await uo(ve,{...t})},rd=async e=>{const t={...e,updatedAt:Date.now()};it("updateNote",t),ro(t),await uo(ve,t)},hu=async e=>{oa({showFavicon:e}),await du(ve,{showFavicon:e}),it("updateSettings")},ad=async()=>{it("clearNotes"),ao(),await fu(ve)},sd=async e=>{await vu(ve,e),it("reloadNotes");const t=await Bn(ve);await Rn(t)},gu=async()=>{await ca(ve),await na(),await pr(ve,null),et(null),await Rn([]),it("initLocalAccount")},od=async()=>{et(null),await pr(ve,null);try{await fetch("/api/dropSession",{method:"POST"})}catch{}it("disconnectCloudAccount")},id=async e=>{await ca(ve),await na();const{encryptedClientKey:t}=await ou({clientKey:e.clientKey,serverKey:e.serverKey}),n={encryptedClientKey:_t(t),subscriptionExpires:e.subscriptionExpires||-1,lastSync:-1};await pr(ve,n),et(n);const r=await Bn(ve);await Rn(r),it("initAccount")},ld=async e=>{const t=to();if(!t)return;const n={...t,subscriptionExpires:e};await pr(ve,n),et(n),it("updateAccount")},cd=async()=>{so(),await ca(ve),it("exit")},pu=()=>{Je(N.ImportData)},_u=()=>{Je(N.ExportData)},mu=()=>{Je(N.ClearStore)},wu=()=>{Je(N.Account)},yu=()=>{Je(N.About)};var bu=M("<span> </span>"),Su=M('<div class="svelte-1kuxgbs"><!> <ul class="svelte-1kuxgbs"><li class="svelte-1kuxgbs"><button class="button svelte-1kuxgbs"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1kuxgbs">Import data</span></button></li> <li class="svelte-1kuxgbs"><button class="button svelte-1kuxgbs"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1kuxgbs">Export data</span></button></li> <li class="svelte-1kuxgbs"><button class="button svelte-1kuxgbs"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1kuxgbs">Clear storage</span></button></li> <li class="svelte-1kuxgbs"><button class="button svelte-1kuxgbs"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1kuxgbs">Account</span></button></li> <li class="svelte-1kuxgbs"><button class="button svelte-1kuxgbs"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1kuxgbs">About</span></button></li></ul> <div class="favicons svelte-1kuxgbs"><span class="faviconsLabel svelte-1kuxgbs">show favicons</span> <!></div> <div class="version svelte-1kuxgbs"><!></div></div>');function ho(e,t){K(t,!0);let n=L("");const r=async Z=>{try{const J=await(await fetch("/build-metadata.json",{signal:Z})).json();P(n,`${J.buildHash}`)}catch{}};_e(()=>{const Z=new AbortController;return r(Z.signal),()=>{Z.abort()}});let a=I(eo);const s=Z=>{hu(Z)};_e(()=>{});var i=Su(),l=w(i);nu(l,{});var u=x(l,2),c=w(u),d=w(c);d.__click=[pu];var v=w(d);le(v,()=>({"--size":"28px"})),ce(v.lastChild,{name:"import"});var f=x(c,2),g=w(f);g.__click=[_u];var h=w(g);le(h,()=>({"--size":"28px"})),ce(h.lastChild,{name:"export"});var p=x(f,2),_=w(p);_.__click=[mu];var k=w(_);le(k,()=>({"--size":"28px"})),ce(k.lastChild,{name:"trash"});var y=x(p,2),E=w(y);E.__click=[wu];var A=w(E);le(A,()=>({"--size":"28px"})),ce(A.lastChild,{name:"account"});var S=x(y,2),b=w(S);b.__click=[yu];var C=w(b);le(C,()=>({"--size":"28px"})),ce(C.lastChild,{name:"about"});var D=x(u,2),W=x(w(D),2);su(W,{get checked(){return o(a)},onChange:s});var ae=x(D,2),ie=w(ae);{var Y=Z=>{var z=bu(),J=w(z);fe(ue=>kn(J,`version: 0.0.1 build_date: "${ue??""}" build_hash:
				${o(n)??""}`),[()=>new Date(1757448868959).toISOString().replaceAll("T"," ").replace(/\..*/,"")]),m(Z,z)};B(ie,Z=>{o(n)&&Z(Y)})}m(e,i),q()}Oe(["click"]);const ku=Object.freeze(Object.defineProperty({__proto__:null,default:ho},Symbol.toStringTag,{value:"Module"}));var Eu=M('<div class="content svelte-9hh95f"><p class="message svelte-9hh95f">use app</p> <div class="buttonContainer svelte-9hh95f"><div class="buttonContainerItem svelte-9hh95f"><!></div> <div class="buttonContainerItem svelte-9hh95f"><!></div></div></div>');function go(e,t){K(t,!0);let n=L("idle");const r=()=>{P(n,"loading"),Je(N.Auth)},a=async()=>{P(n,"loading"),await gu(),mn(!1),Hs()};ke(()=>{mn(o(n)==="idle"||o(n)==="loading")}),_e(()=>(mn(!0),()=>{mn(!1)}));var s=Eu(),i=x(w(s),2),l=w(i),u=w(l);bt(u,{onClick:r,fullWidth:!0,children:(v,f)=>{var g=Ce("cloud account");m(v,g)},$$slots:{default:!0}});var c=x(l,2),d=w(c);bt(d,{onClick:a,fullWidth:!0,type:"secondary",children:(v,f)=>{var g=Ce("local account");m(v,g)},$$slots:{default:!0}}),m(e,s),q()}const Cu=Object.freeze(Object.defineProperty({__proto__:null,default:go},Symbol.toStringTag,{value:"Module"}));var Pu=M('<div class="content svelte-9hh95f"><p class="message svelte-9hh95f">sign in / sign up</p> <div class="buttonContainer svelte-9hh95f"><div class="buttonContainerItem svelte-9hh95f"><!></div> <div class="buttonContainerItem svelte-9hh95f"><!></div></div></div>');function po(e,t){K(t,!0);let n=I(to);const r=async()=>{Je(N.Signin)},a=async()=>{Je(N.Signup)};_e(()=>(o(n)===void 0&&(mn(!0),Ma(!0)),()=>{Ma(!1)}));var s=Pu(),i=x(w(s),2),l=w(i),u=w(l);bt(u,{onClick:r,fullWidth:!0,children:(v,f)=>{var g=Ce("sign in");m(v,g)},$$slots:{default:!0}});var c=x(l,2),d=w(c);bt(d,{onClick:a,fullWidth:!0,children:(v,f)=>{var g=Ce("sign up");m(v,g)},$$slots:{default:!0}}),m(e,s),q()}const Au=Object.freeze(Object.defineProperty({__proto__:null,default:po},Symbol.toStringTag,{value:"Module"}));var xu=M('<div class="svelte-m08fup"><!></div>');function be(e,t){K(t,!0);let n=L(null);_e(()=>{o(n)&&(o(n).getBoundingClientRect(),o(n).style.opacity="1");const s=new ResizeObserver(i=>{for(let l of i){const u=l.contentRect.height;dc(u)}});if(o(n))return s.observe(o(n)),()=>{o(n)&&s.unobserve(o(n)),s.disconnect()}});var r=xu(),a=w(r);Ae(a,()=>t.children),Ze(r,s=>P(n,s),()=>o(n)),m(e,r),q()}var Tu=M('<div class="svelte-ndasxn"><p class="svelte-ndasxn">Page not found</p> <!></div>');function _o(e,t){K(t,!1);const n=s=>{s.preventDefault(),ut("/")};In();var r=Tu(),a=x(w(r),2);bt(a,{element:"a",href:"/",onClick:n,children:(s,i)=>{var l=Ce("close");m(s,l)},$$slots:{default:!0}}),m(e,r),q()}const Nu=Object.freeze(Object.defineProperty({__proto__:null,default:_o},Symbol.toStringTag,{value:"Module"}));var Du=M('<div class="svelte-1tpcci8"><p class="svelte-1tpcci8">Something went wrong. Please reload the page</p> <!></div>');function Lu(e){var t=Du(),n=x(w(t),2);bt(n,{onClick:()=>location.reload(),children:(r,a)=>{var s=Ce("Reload");m(r,s)},$$slots:{default:!0}}),m(e,t)}var Ou=M('<div class="svelte-uzefkz"><!></div>');function Iu(e,t){K(t,!1);const n=Qs();In();var r=Ou(),a=w(r);io(a,{}),fe(()=>En(r,`min-height: ${n??""}px;`)),m(e,r),q()}function De(e,t){K(t,!0);const n={},r=Object.assign({"./Pages/About.svelte":()=>ge(()=>import("./About-B2Y5CsEY.js"),__vite__mapDeps([2,3])),"./Pages/AccessKeys.svelte":()=>ge(()=>import("./AccessKeys-C_NOtiln.js"),__vite__mapDeps([4,5,6])),"./Pages/Account.svelte":()=>ge(()=>import("./Account-DMsm1nXi.js"),__vite__mapDeps([7,8])),"./Pages/Auth.svelte":()=>ge(()=>Promise.resolve().then(()=>Au),void 0),"./Pages/ClearStore.svelte":()=>ge(()=>import("./ClearStore-8I6N0YXs.js"),__vite__mapDeps([9,10])),"./Pages/ConfirmAccessKey.svelte":()=>ge(()=>import("./ConfirmAccessKey-D2LdX6Ym.js"),__vite__mapDeps([11,5,12,13,14])),"./Pages/EditNote.svelte":()=>ge(()=>import("./EditNote-DqgpWk2h.js"),__vite__mapDeps([15,16,12,13,17])),"./Pages/Exit.svelte":()=>ge(()=>import("./Exit-Demgg3sg.js"),__vite__mapDeps([18,19])),"./Pages/ExportData.svelte":()=>ge(()=>import("./ExportData-Bwxw1J9c.js"),__vite__mapDeps([20,21])),"./Pages/Home.svelte":()=>ge(()=>Promise.resolve().then(()=>eu),void 0),"./Pages/ImportData.svelte":()=>ge(()=>import("./ImportData-dDrIvWD1.js"),__vite__mapDeps([22,23])),"./Pages/NewNote.svelte":()=>ge(()=>import("./NewNote-Bm4NcMwo.js"),__vite__mapDeps([24,16,12,13,17])),"./Pages/NotFound.svelte":()=>ge(()=>Promise.resolve().then(()=>Nu),void 0),"./Pages/Settings.svelte":()=>ge(()=>Promise.resolve().then(()=>ku),void 0),"./Pages/Signin.svelte":()=>ge(()=>import("./Signin-RYWEWGax.js"),__vite__mapDeps([25,5,26])),"./Pages/Signup.svelte":()=>ge(()=>import("./Signup-D_PmkpxT.js"),__vite__mapDeps([27,5,26])),"./Pages/Start.svelte":()=>ge(()=>Promise.resolve().then(()=>Cu),void 0),"./Pages/Subscription.svelte":()=>ge(()=>import("./Subscription-Bz_bBz_z.js"),__vite__mapDeps([28,29])),"./Pages/Sync.svelte":()=>ge(()=>import("./Sync-DTUsCW0_.js"),__vite__mapDeps([30,31]))}),a=async l=>{const u=`./Pages/${l[0].toUpperCase()+l.slice(1)}.svelte`;if(!n[l]){if(r[u]){const c=r[u]();return n[l]={promise:c},n[l].module=await c,n[l].module}throw new Error(`Page ${l} not found`)}return n[l].module||await n[l].promise};var s=U(),i=O(s);Ps(i,()=>a(t.page),l=>{Iu(l,{})},(l,u)=>{const c=I(()=>o(u).default);var d=U(),v=O(d);Ts(v,()=>o(c),(f,g)=>{g(f,{get params(){return t.params},get hidden(){return t.hidden}})}),m(l,d)},l=>{Lu(l)}),m(e,s),q()}const ja=(e,t=nt,n=nt,r)=>{let a=cr(()=>Ho(r?.(),!1));var s=U(),i=O(s);{var l=c=>{be(c,{children:(d,v)=>{ho(d,{})},$$slots:{default:!0}})},u=c=>{var d=U(),v=O(d);{var f=h=>{be(h,{children:(p,_)=>{De(p,{get hidden(){return o(a)},get page(){return N.NewNote}})},$$slots:{default:!0}})},g=h=>{var p=U(),_=O(p);{var k=E=>{be(E,{children:(A,S)=>{De(A,{get params(){return n()},get hidden(){return o(a)},get page(){return N.EditNote}})},$$slots:{default:!0}})},y=E=>{var A=U(),S=O(A);{var b=D=>{be(D,{children:(W,ae)=>{De(W,{get hidden(){return o(a)},get page(){return N.ImportData}})},$$slots:{default:!0}})},C=D=>{var W=U(),ae=O(W);{var ie=Z=>{be(Z,{children:(z,J)=>{De(z,{get hidden(){return o(a)},get page(){return N.ExportData}})},$$slots:{default:!0}})},Y=Z=>{var z=U(),J=O(z);{var ue=R=>{be(R,{children:(F,Q)=>{De(F,{get hidden(){return o(a)},get page(){return N.ClearStore}})},$$slots:{default:!0}})},V=R=>{var F=U(),Q=O(F);{var ze=he=>{be(he,{children:(we,ye)=>{go(we,{})},$$slots:{default:!0}})},xe=he=>{var we=U(),ye=O(we);{var Ye=Me=>{be(Me,{children:(X,de)=>{po(X,{})},$$slots:{default:!0}})},Ie=Me=>{var X=U(),de=O(X);{var Te=ft=>{be(ft,{children:(vt,ua)=>{De(vt,{get hidden(){return o(a)},get page(){return N.Signup}})},$$slots:{default:!0}})},Kt=ft=>{var vt=U(),ua=O(vt);{var mo=qt=>{be(qt,{children:(jn,da)=>{De(jn,{get hidden(){return o(a)},get page(){return N.Signin}})},$$slots:{default:!0}})},wo=qt=>{var jn=U(),da=O(jn);{var yo=Wt=>{be(Wt,{children:(Fn,fa)=>{De(Fn,{get hidden(){return o(a)},get page(){return N.AccessKeys}})},$$slots:{default:!0}})},bo=Wt=>{var Fn=U(),fa=O(Fn);{var So=Yt=>{be(Yt,{children:(zn,va)=>{De(zn,{get hidden(){return o(a)},get page(){return N.Account}})},$$slots:{default:!0}})},ko=Yt=>{var zn=U(),va=O(zn);{var Eo=Gt=>{be(Gt,{children:(Un,ha)=>{De(Un,{get hidden(){return o(a)},get page(){return N.ConfirmAccessKey}})},$$slots:{default:!0}})},Co=Gt=>{var Un=U(),ha=O(Un);{var Po=Xt=>{be(Xt,{children:(Vn,ga)=>{De(Vn,{get hidden(){return o(a)},get page(){return N.Exit}})},$$slots:{default:!0}})},Ao=Xt=>{var Vn=U(),ga=O(Vn);{var xo=Zt=>{be(Zt,{children:(Hn,pa)=>{De(Hn,{get hidden(){return o(a)},get page(){return N.Sync}})},$$slots:{default:!0}})},To=Zt=>{var Hn=U(),pa=O(Hn);{var No=Jt=>{be(Jt,{children:(Kn,_a)=>{De(Kn,{get hidden(){return o(a)},get page(){return N.Subscription}})},$$slots:{default:!0}})},Do=Jt=>{var Kn=U(),_a=O(Kn);{var Lo=Qt=>{be(Qt,{children:(_r,Io)=>{De(_r,{get hidden(){return o(a)},get page(){return N.About}})},$$slots:{default:!0}})},Oo=Qt=>{be(Qt,{children:(_r,Io)=>{_o(_r,{})},$$slots:{default:!0}})};B(_a,Qt=>{t()===N.About?Qt(Lo):Qt(Oo,!1)},!0)}m(Jt,Kn)};B(pa,Jt=>{t()===N.Subscription?Jt(No):Jt(Do,!1)},!0)}m(Zt,Hn)};B(ga,Zt=>{t()===N.Sync?Zt(xo):Zt(To,!1)},!0)}m(Xt,Vn)};B(ha,Xt=>{t()===N.Exit?Xt(Po):Xt(Ao,!1)},!0)}m(Gt,Un)};B(va,Gt=>{t()===N.ConfirmAccessKey?Gt(Eo):Gt(Co,!1)},!0)}m(Yt,zn)};B(fa,Yt=>{t()===N.Account?Yt(So):Yt(ko,!1)},!0)}m(Wt,Fn)};B(da,Wt=>{t()===N.AccessKeys?Wt(yo):Wt(bo,!1)},!0)}m(qt,jn)};B(ua,qt=>{t()===N.Signin?qt(mo):qt(wo,!1)},!0)}m(ft,vt)};B(de,ft=>{t()===N.Signup?ft(Te):ft(Kt,!1)},!0)}m(Me,X)};B(ye,Me=>{t()===N.Auth?Me(Ye):Me(Ie,!1)},!0)}m(he,we)};B(Q,he=>{t()===N.Start?he(ze):he(xe,!1)},!0)}m(R,F)};B(J,R=>{t()===N.ClearStore?R(ue):R(V,!1)},!0)}m(Z,z)};B(ae,Z=>{t()===N.ExportData?Z(ie):Z(Y,!1)},!0)}m(D,W)};B(S,D=>{t()===N.ImportData?D(b):D(C,!1)},!0)}m(E,A)};B(_,E=>{t()===N.EditNote?E(k):E(y,!1)},!0)}m(h,p)};B(v,h=>{t()===N.NewNote?h(f):h(g,!1)},!0)}m(c,d)};B(i,c=>{t()==="settings"?c(l):c(u,!1)})}m(e,s)};var Mu=M("<!> <!>",1);function Ru(e,t){K(t,!0);let n=I($l),r=I(gr);var a=Mu(),s=O(a);{var i=d=>{lo(d)};B(s,d=>{o(r)&&d(i)})}var l=x(s,2);{var u=d=>{var v=U(),f=O(v);tn(f,19,()=>o(n),g=>g.page,(g,h,p)=>{const _=I(()=>o(h).page.split("?")[1]),k=I(()=>o(h).page.split("?")[0]);{let y=I(()=>o(p)!==o(n).length-1&&!!o(n)[o(p)+1]?.shown),E=I(()=>o(p)===0);Ra(g,{get shown(){return o(h).shown},get hidden(){return o(y)},get isLastDialog(){return o(E)},children:(A,S)=>{{let b=I(()=>o(p)!==o(n).length-1&&!!o(n)[o(p)+1]?.shown);ja(A,()=>o(k),()=>o(_),()=>o(b))}},$$slots:{default:!0}})}}),m(d,v)},c=d=>{var v=U(),f=O(v);{var g=h=>{const p=I(()=>o(n)[o(n).length-1].page.split("?")[1]),_=I(()=>o(n)[o(n).length-1].page.split("?")[0]);{let k=I(()=>o(n).length===1);Ra(h,{onBack:()=>Xs(),get shown(){return o(n)[o(n).length-1].shown},hidden:!1,get isLastDialog(){return o(k)},children:(y,E)=>{ja(y,()=>o(_),()=>o(p))},$$slots:{default:!0}})}};B(f,h=>{o(n).length>0&&h(g)},!0)}m(d,v)};B(l,d=>{hr()?d(u):d(c,!1)})}m(e,a),q()}function Bu(){const e=navigator.userAgent;return/iPad|iPhone|iPod/.test(e)?!!(/Safari/.test(e)&&!/Chrome/.test(e)&&!/CriOS/.test(e)&&!/FxiOS/.test(e)):!1}function ju(e,t){K(t,!1);const n=Bu();_e(()=>{Ar(),document.addEventListener("focusin",Ar),document.addEventListener("focusout",Ar),document.addEventListener("touchmove",function(r){Zs()&&n&&r.preventDefault()},{passive:!1})}),In(),q()}function Fu(e,t){K(t,!1);let n=0;_e(()=>{document.addEventListener("touchstart",r=>{n=r.touches[0].clientX},{passive:!1}),document.addEventListener("touchmove",r=>{const s=r.touches[0].clientX-n;(n<50&&s>0||n>window.innerWidth-50&&s<0)&&r.preventDefault()},{passive:!1}),document.addEventListener("touchend",()=>{n=0}),document.addEventListener("touchcancel",()=>{n=0})}),In(),q()}const zu=(e,t)=>{o(t)&&o(t).scrollTo({top:0,behavior:"smooth"})};var Uu=M('<div class="wrapperButtonTop svelte-1rgtneh"><button class="buttonTop svelte-1rgtneh"><!> <span class="icon svelte-1rgtneh"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></span></button></div>'),Vu=M('<!> <!> <!> <main><!> <div class="container svelte-1rgtneh"><!></div></main> <!>',1);function Hu(e,t){K(t,!0);const n=Mn();_e(async()=>{await new Promise(S=>setTimeout(S,100)),await Ss(),n.working=!0});let r=L(!1),a=0,s=I(()=>Ct().length>0),i=I(gr),l=L(null);ke(()=>{aa.ref=o(l)});const u=()=>{if(o(l)){const S=o(l).scrollTop||0;S===0?P(r,!1):!o(r)&&a>S?P(r,!0):o(r)&&a+50<S&&P(r,!1),a=S}},c=()=>{u()};ke(()=>(o(l)?.addEventListener("scroll",c),window.addEventListener("resize",c),()=>{o(l)?.removeEventListener("scroll",c),window.removeEventListener("resize",c)}));var d=Vu(),v=O(d);Fu(v,{});var f=x(v,2);ju(f,{});var g=x(f,2);yl(g,{});var h=x(g,2),p=w(h);{var _=S=>{tc(S,{})};B(p,S=>{o(i)&&S(_)})}var k=x(p,2),y=w(k);Ru(y,{}),Ze(h,S=>P(l,S),()=>o(l));var E=x(h,2);{var A=S=>{var b=Uu(),C=w(b);C.__click=[zu,l];var D=w(C);st(D,{children:(ie,Y)=>{var Z=Ce("top");m(ie,Z)}});var W=x(D,2),ae=w(W);le(ae,()=>({"--rotate":"90deg","--size":"28px"})),ce(ae.lastChild,{name:"back"}),m(S,b)};B(E,S=>{o(r)&&S(A)})}fe(()=>{En(h,`--swiping-ratio: ${n.swipingRatio}; --transition-timing-default: ${n.duration}s;`),te(h,1,ee(["main",{isAnimationOn:n.working&&!n.isSwiping,open:o(s)}]),"svelte-1rgtneh")}),m(e,d),q()}Oe(["click"]);function Ku(e){pl(e,{children:(t,n)=>{Hu(t,{})}})}window.addEventListener("unhandledrejection",e=>{alert("Error: "+e.reason.message)});window.isUnsupportedBrowser||Xi(Ku,{target:document.getElementById("app")});export{Qn as $,to as A,bt as B,od as C,Je as D,Gu as E,ad as F,Hs as G,ea as H,ce as I,td as J,Qu as K,io as L,$u as M,Xs as N,Il as O,N as P,Ju as Q,rd as R,In as S,cd as T,Yu as U,st as V,re as W,te as X,ee as Y,Se as Z,Er as _,le as a,En as a0,Ec as a1,iu as a2,hr as a3,Ze as a4,sd as a5,nd as a6,Gn as a7,ol as a8,gr as a9,Ma as aa,id as ab,T as ac,Xu as ad,Zu as ae,ld as af,Zs as ag,Mn as ah,Os as ai,$l as aj,Ms as ak,kl as al,Ae as am,Ws as an,m as b,w as c,L as d,pe as e,M as f,mn as g,o as h,P as i,B as j,q as k,U as l,O as m,Oe as n,_e as o,K as p,tn as q,kn as r,x as s,fe as t,ke as u,Ce as v,ed as w,I as x,Rt as y,Mt as z};
