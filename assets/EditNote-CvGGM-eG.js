import{p as N,C as h,z as x,h as A,m as b,n as v,k as C,b as S,l as _,i as k,y}from"./index-CZzB_zyz.js";import{N as T}from"./NoteForm-Bu0l4MiN.js";import"./Input-BmQCHwHc.js";function E(i,a){N(a,!0);const{updateNote:o}=h(),{getDraft:s,getGetMapNotes:d}=x();let t=A((()=>{const e=d()(),r=new URLSearchParams(a.params).get("id");return r&&e&&e.has(r)&&e.get(r)||null})()),u=y(()=>t?s(t.id):void 0);const g=({name:e,url:r,text:p,tags:f})=>{t&&o({...t,name:e,url:r,text:p,tags:f.map(c=>c.trim())})};var n=b(),l=v(n);{var m=e=>{T(e,{get initialName(){return t.name},get initialUrl(){return t.url},get initialText(){return t.text},get initialTags(){return t.tags},get createdAt(){return t.createdAt},get updatedAt(){return t.updatedAt},get noteId(){return t.id},get draft(){return k(u)},onSubmit:g,mode:"edit"})};C(l,e=>{t&&e(m)})}S(i,n),_()}export{E as default};
