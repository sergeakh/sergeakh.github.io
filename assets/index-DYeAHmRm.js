(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();const vn=!1;var Xt=Array.isArray,mr=Array.prototype.indexOf,Kt=Array.from,wr=Object.defineProperty,Ue=Object.getOwnPropertyDescriptor,Ln=Object.getOwnPropertyDescriptors,kr=Object.prototype,yr=Array.prototype,Gt=Object.getPrototypeOf,fn=Object.isExtensible;const Pn=()=>{};function br(e){return e()}function mt(e){for(var t=0;t<e.length;t++)e[t]()}const me=2,Tn=4,Tt=8,Jt=16,Ce=32,Ye=64,wt=128,ue=256,kt=512,le=1024,Le=2048,Xe=4096,be=8192,Dt=16384,Er=32768,Mt=65536,Sr=1<<17,xr=1<<19,Dn=1<<20,zt=1<<21,Re=Symbol("$state"),Cr=Symbol("legacy props"),Lr=Symbol("");function Mn(e){return e===this.v}function Pr(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Qt(e){return!Pr(e,this.v)}function Tr(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Dr(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Mr(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Br(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Ar(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function Or(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Ir(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function qr(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let Ke=!1,Nr=!1;function Rr(){Ke=!0}const en=1,tn=2,Bn=4,jr=8,Fr=16,Hr=1,Ur=2,zr=4,Vr=8,$r=16,Zr=1,Wr=2,re=Symbol(),Yr="http://www.w3.org/1999/xhtml";function An(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let F=null;function dn(e){F=e}function Xr(e){return On().get(e)}function Kr(e,t){return On().set(e,t),t}function W(e,t=!1,n){var r=F={p:F,c:null,d:!1,e:null,m:!1,s:e,x:null,l:null};Ke&&!t&&(F.l={s:null,u:null,r1:[],r2:ot(!1)}),nn(()=>{r.d=!0})}function Y(e){const t=F;if(t!==null){const o=t.e;if(o!==null){var n=H,r=j;t.e=null;try{for(var s=0;s<o.length;s++){var a=o[s];Ae(a.effect),we(a.reaction),rn(a.fn)}}finally{Ae(n),we(r)}}F=t.p,t.m=!0}return{}}function ut(){return!Ke||F!==null&&F.l===null}function On(e){return F===null&&An(),F.c??(F.c=new Map(Gr(F)||void 0))}function Gr(e){let t=e.p;for(;t!==null;){const n=t.c;if(n!==null)return n;t=t.p}return null}function G(e){if(typeof e!="object"||e===null||Re in e)return e;const t=Gt(e);if(t!==kr&&t!==yr)return e;var n=new Map,r=Xt(e),s=A(0),a=j,o=i=>{var c=j;we(a);var f=i();return we(c),f};return r&&n.set("length",A(e.length)),new Proxy(e,{defineProperty(i,c,f){(!("value"in f)||f.configurable===!1||f.enumerable===!1||f.writable===!1)&&Or();var u=n.get(c);return u===void 0?(u=o(()=>A(f.value)),n.set(c,u)):b(u,o(()=>G(f.value))),!0},deleteProperty(i,c){var f=n.get(c);if(f===void 0)c in i&&n.set(c,o(()=>A(re)));else{if(r&&typeof c=="string"){var u=n.get("length"),d=Number(c);Number.isInteger(d)&&d<u.v&&b(u,d)}b(f,re),hn(s)}return!0},get(i,c,f){var h;if(c===Re)return e;var u=n.get(c),d=c in i;if(u===void 0&&(!d||(h=Ue(i,c))!=null&&h.writable)&&(u=o(()=>A(G(d?i[c]:re))),n.set(c,u)),u!==void 0){var v=l(u);return v===re?void 0:v}return Reflect.get(i,c,f)},getOwnPropertyDescriptor(i,c){var f=Reflect.getOwnPropertyDescriptor(i,c);if(f&&"value"in f){var u=n.get(c);u&&(f.value=l(u))}else if(f===void 0){var d=n.get(c),v=d==null?void 0:d.v;if(d!==void 0&&v!==re)return{enumerable:!0,configurable:!0,value:v,writable:!0}}return f},has(i,c){var v;if(c===Re)return!0;var f=n.get(c),u=f!==void 0&&f.v!==re||Reflect.has(i,c);if(f!==void 0||H!==null&&(!u||(v=Ue(i,c))!=null&&v.writable)){f===void 0&&(f=o(()=>A(u?G(i[c]):re)),n.set(c,f));var d=l(f);if(d===re)return!1}return u},set(i,c,f,u){var T;var d=n.get(c),v=c in i;if(r&&c==="length")for(var h=f;h<d.v;h+=1){var _=n.get(h+"");_!==void 0?b(_,re):h in i&&(_=o(()=>A(re)),n.set(h+"",_))}d===void 0?(!v||(T=Ue(i,c))!=null&&T.writable)&&(d=o(()=>A(void 0)),b(d,o(()=>G(f))),n.set(c,d)):(v=d.v!==re,b(d,o(()=>G(f))));var E=Reflect.getOwnPropertyDescriptor(i,c);if(E!=null&&E.set&&E.set.call(u,f),!v){if(r&&typeof c=="string"){var L=n.get("length"),M=Number(c);Number.isInteger(M)&&M>=L.v&&b(L,M+1)}hn(s)}return!0},ownKeys(i){l(s);var c=Reflect.ownKeys(i).filter(d=>{var v=n.get(d);return v===void 0||v.v!==re});for(var[f,u]of n)u.v!==re&&!(f in i)&&c.push(f);return c},setPrototypeOf(){Ir()}})}function hn(e,t=1){b(e,e.v+t)}const st=new Map;function ot(e,t){var n={f:0,v:e,reactions:null,equals:Mn,rv:0,wv:0};return n}function A(e,t){const n=ot(e);return Kn(n),n}function In(e,t=!1){var r;const n=ot(e);return t||(n.equals=Qt),Ke&&F!==null&&F.l!==null&&((r=F.l).s??(r.s=[])).push(n),n}function b(e,t,n=!1){j!==null&&!_e&&ut()&&(j.f&(me|Jt))!==0&&!(ne!=null&&ne.includes(e))&&qr();let r=n?G(t):t;return Vt(e,r)}function Vt(e,t){if(!e.equals(t)){var n=e.v;vt?st.set(e,t):st.set(e,n),e.v=t,e.wv=Jn(),qn(e,Le),ut()&&H!==null&&(H.f&le)!==0&&(H.f&(Ce|Ye))===0&&(ie===null?ca([e]):ie.push(e))}return t}function qn(e,t){var n=e.reactions;if(n!==null)for(var r=ut(),s=n.length,a=0;a<s;a++){var o=n[a],i=o.f;(i&Le)===0&&(!r&&o===H||(ke(o,t),(i&(le|ue))!==0&&((i&me)!==0?qn(o,Xe):Nt(o))))}}let Jr=!1;var _n,Nn,Rn,jn;function Qr(){if(_n===void 0){_n=window,Nn=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;Rn=Ue(t,"firstChild").get,jn=Ue(t,"nextSibling").get,fn(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),fn(n)&&(n.__t=void 0)}}function Bt(e=""){return document.createTextNode(e)}function Ve(e){return Rn.call(e)}function At(e){return jn.call(e)}function x(e,t){return Ve(e)}function K(e,t){{var n=Ve(e);return n instanceof Comment&&n.data===""?At(n):n}}function D(e,t=1,n=!1){let r=e;for(;t--;)r=At(r);return r}function ea(e){e.textContent=""}function $e(e){var t=me|Le,n=j!==null&&(j.f&me)!==0?j:null;return H===null||n!==null&&(n.f&ue)!==0?t|=ue:H.f|=Dn,{ctx:F,deps:null,effects:null,equals:Mn,f:t,fn:e,reactions:null,rv:0,v:null,wv:0,parent:n??H}}function te(e){const t=$e(e);return Kn(t),t}function Fn(e){const t=$e(e);return t.equals=Qt,t}function Hn(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)xe(t[n])}}function ta(e){for(var t=e.parent;t!==null;){if((t.f&me)===0)return t;t=t.parent}return null}function na(e){var t,n=H;Ae(ta(e));try{Hn(e),t=er(e)}finally{Ae(n)}return t}function Un(e){var t=na(e),n=(Be||(e.f&ue)!==0)&&e.deps!==null?Xe:le;ke(e,n),e.equals(t)||(e.v=t,e.wv=Jn())}function zn(e){H===null&&j===null&&Mr(),j!==null&&(j.f&ue)!==0&&H===null&&Dr(),vt&&Tr()}function ra(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function Ge(e,t,n,r=!0){var s=H,a={ctx:F,deps:null,nodes_start:null,nodes_end:null,f:e|Le,first:null,fn:t,last:null,next:null,parent:s,prev:null,teardown:null,transitions:null,wv:0};if(n)try{on(a),a.f|=Er}catch(c){throw xe(a),c}else t!==null&&Nt(a);var o=n&&a.deps===null&&a.first===null&&a.nodes_start===null&&a.teardown===null&&(a.f&(Dn|wt))===0;if(!o&&r&&(s!==null&&ra(a,s),j!==null&&(j.f&me)!==0)){var i=j;(i.effects??(i.effects=[])).push(a)}return a}function nn(e){const t=Ge(Tt,null,!1);return ke(t,le),t.teardown=e,t}function ae(e){zn();var t=H!==null&&(H.f&Ce)!==0&&F!==null&&!F.m;if(t){var n=F;(n.e??(n.e=[])).push({fn:e,effect:H,reaction:j})}else{var r=rn(e);return r}}function aa(e){return zn(),Ot(e)}function sa(e){const t=Ge(Ye,e,!0);return(n={})=>new Promise(r=>{n.outro?yt(t,()=>{xe(t),r(void 0)}):(xe(t),r(void 0))})}function rn(e){return Ge(Tn,e,!1)}function Ot(e){return Ge(Tt,e,!0)}function J(e,t=[],n=$e){const r=t.map(n);return It(()=>e(...r.map(l)))}function It(e,t=0){return Ge(Tt|Jt|t,e,!0)}function Ze(e,t=!0){return Ge(Tt|Ce,e,!0,t)}function Vn(e){var t=e.teardown;if(t!==null){const n=vt,r=j;gn(!0),we(null);try{t.call(null)}finally{gn(n),we(r)}}}function $n(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){var r=n.next;(n.f&Ye)!==0?n.parent=null:xe(n,t),n=r}}function oa(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&Ce)===0&&xe(t),t=n}}function xe(e,t=!0){var n=!1;if((t||(e.f&xr)!==0)&&e.nodes_start!==null){for(var r=e.nodes_start,s=e.nodes_end;r!==null;){var a=r===s?null:At(r);r.remove(),r=a}n=!0}$n(e,t&&!n),Ct(e,0),ke(e,Dt);var o=e.transitions;if(o!==null)for(const c of o)c.stop();Vn(e);var i=e.parent;i!==null&&i.first!==null&&Zn(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function Zn(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function yt(e,t){var n=[];an(e,n,!0),Wn(n,()=>{xe(e),t&&t()})}function Wn(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var s of e)s.out(r)}else t()}function an(e,t,n){if((e.f&be)===0){if(e.f^=be,e.transitions!==null)for(const o of e.transitions)(o.is_global||n)&&t.push(o);for(var r=e.first;r!==null;){var s=r.next,a=(r.f&Mt)!==0||(r.f&Ce)!==0;an(r,t,a?n:!1),r=s}}}function bt(e){Yn(e,!0)}function Yn(e,t){if((e.f&be)!==0){e.f^=be,(e.f&le)===0&&(e.f^=le),ft(e)&&(ke(e,Le),Nt(e));for(var n=e.first;n!==null;){var r=n.next,s=(n.f&Mt)!==0||(n.f&Ce)!==0;Yn(n,s?t:!1),n=r}if(e.transitions!==null)for(const a of e.transitions)(a.is_global||t)&&a.in()}}let lt=[],$t=[];function Xn(){var e=lt;lt=[],mt(e)}function la(){var e=$t;$t=[],mt(e)}function sn(e){lt.length===0&&queueMicrotask(Xn),lt.push(e)}function pn(){lt.length>0&&Xn(),$t.length>0&&la()}let gt=!1,Et=!1,St=null,je=!1,vt=!1;function gn(e){vt=e}let at=[];let j=null,_e=!1;function we(e){j=e}let H=null;function Ae(e){H=e}let ne=null;function ia(e){ne=e}function Kn(e){j!==null&&j.f&zt&&(ne===null?ia([e]):ne.push(e))}let ee=null,se=0,ie=null;function ca(e){ie=e}let Gn=1,xt=0,Be=!1;function Jn(){return++Gn}function ft(e){var d;var t=e.f;if((t&Le)!==0)return!0;if((t&Xe)!==0){var n=e.deps,r=(t&ue)!==0;if(n!==null){var s,a,o=(t&kt)!==0,i=r&&H!==null&&!Be,c=n.length;if(o||i){var f=e,u=f.parent;for(s=0;s<c;s++)a=n[s],(o||!((d=a==null?void 0:a.reactions)!=null&&d.includes(f)))&&(a.reactions??(a.reactions=[])).push(f);o&&(f.f^=kt),i&&u!==null&&(u.f&ue)===0&&(f.f^=ue)}for(s=0;s<c;s++)if(a=n[s],ft(a)&&Un(a),a.wv>e.wv)return!0}(!r||H!==null&&!Be)&&ke(e,le)}return!1}function ua(e,t){for(var n=t;n!==null;){if((n.f&wt)!==0)try{n.fn(e);return}catch{n.f^=wt}n=n.parent}throw gt=!1,e}function va(e){return(e.f&Dt)===0&&(e.parent===null||(e.parent.f&wt)===0)}function qt(e,t,n,r){if(gt){if(n===null&&(gt=!1),va(t))throw e;return}n!==null&&(gt=!0);{ua(e,t);return}}function Qn(e,t,n=!0){var r=e.reactions;if(r!==null)for(var s=0;s<r.length;s++){var a=r[s];ne!=null&&ne.includes(e)||((a.f&me)!==0?Qn(a,t,!1):t===a&&(n?ke(a,Le):(a.f&le)!==0&&ke(a,Xe),Nt(a)))}}function er(e){var h;var t=ee,n=se,r=ie,s=j,a=Be,o=ne,i=F,c=_e,f=e.f;ee=null,se=0,ie=null,Be=(f&ue)!==0&&(_e||!je||j===null),j=(f&(Ce|Ye))===0?e:null,ne=null,dn(e.ctx),_e=!1,xt++,e.f|=zt;try{var u=(0,e.fn)(),d=e.deps;if(ee!==null){var v;if(Ct(e,se),d!==null&&se>0)for(d.length=se+ee.length,v=0;v<ee.length;v++)d[se+v]=ee[v];else e.deps=d=ee;if(!Be)for(v=se;v<d.length;v++)((h=d[v]).reactions??(h.reactions=[])).push(e)}else d!==null&&se<d.length&&(Ct(e,se),d.length=se);if(ut()&&ie!==null&&!_e&&d!==null&&(e.f&(me|Xe|Le))===0)for(v=0;v<ie.length;v++)Qn(ie[v],e);return s!==e&&(xt++,ie!==null&&(r===null?r=ie:r.push(...ie))),u}finally{ee=t,se=n,ie=r,j=s,Be=a,ne=o,dn(i),_e=c,e.f^=zt}}function fa(e,t){let n=t.reactions;if(n!==null){var r=mr.call(n,e);if(r!==-1){var s=n.length-1;s===0?n=t.reactions=null:(n[r]=n[s],n.pop())}}n===null&&(t.f&me)!==0&&(ee===null||!ee.includes(t))&&(ke(t,Xe),(t.f&(ue|kt))===0&&(t.f^=kt),Hn(t),Ct(t,0))}function Ct(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)fa(e,n[r])}function on(e){var t=e.f;if((t&Dt)===0){ke(e,le);var n=H,r=F,s=je;H=e,je=!0;try{(t&Jt)!==0?oa(e):$n(e),Vn(e);var a=er(e);e.teardown=typeof a=="function"?a:null,e.wv=Gn;var o=e.deps,i;vn&&Nr&&e.f&Le}catch(c){qt(c,e,n,r||e.ctx)}finally{je=s,H=n}}}function da(){try{Br()}catch(e){if(St!==null)qt(e,St,null);else throw e}}function tr(){var e=je;try{var t=0;for(je=!0;at.length>0;){t++>1e3&&da();var n=at,r=n.length;at=[];for(var s=0;s<r;s++){var a=_a(n[s]);ha(a)}st.clear()}}finally{Et=!1,je=e,St=null}}function ha(e){var t=e.length;if(t!==0)for(var n=0;n<t;n++){var r=e[n];if((r.f&(Dt|be))===0)try{ft(r)&&(on(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null?Zn(r):r.fn=null))}catch(s){qt(s,r,null,r.ctx)}}}function Nt(e){Et||(Et=!0,queueMicrotask(tr));for(var t=St=e;t.parent!==null;){t=t.parent;var n=t.f;if((n&(Ye|Ce))!==0){if((n&le)===0)return;t.f^=le}}at.push(t)}function _a(e){for(var t=[],n=e;n!==null;){var r=n.f,s=(r&(Ce|Ye))!==0,a=s&&(r&le)!==0;if(!a&&(r&be)===0){if((r&Tn)!==0)t.push(n);else if(s)n.f^=le;else{var o=j;try{j=n,ft(n)&&on(n)}catch(f){qt(f,n,null,n.ctx)}finally{j=o}}var i=n.first;if(i!==null){n=i;continue}}var c=n.parent;for(n=n.next;n===null&&c!==null;)n=c.next,c=c.parent}return t}function pa(e){var t;for(pn();at.length>0;)Et=!0,tr(),pn();return t}async function ga(){await Promise.resolve(),pa()}function l(e){var t=e.f,n=(t&me)!==0;if(j!==null&&!_e){if(!(ne!=null&&ne.includes(e))){var r=j.deps;e.rv<xt&&(e.rv=xt,ee===null&&r!==null&&r[se]===e?se++:ee===null?ee=[e]:(!Be||!ee.includes(e))&&ee.push(e))}}else if(n&&e.deps===null&&e.effects===null){var s=e,a=s.parent;a!==null&&(a.f&ue)===0&&(s.f^=ue)}return n&&(s=e,ft(s)&&Un(s)),vt&&st.has(e)?st.get(e):e.v}function We(e){var t=_e;try{return _e=!0,e()}finally{_e=t}}const ma=-7169;function ke(e,t){e.f=e.f&ma|t}function wa(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Re in e)Zt(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&Re in n&&Zt(n)}}}function Zt(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{Zt(e[r],t)}catch{}const n=Gt(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=Ln(n);for(let s in r){const a=r[s].get;if(a)try{a.call(e)}catch{}}}}}const ka=["touchstart","touchmove"];function ya(e){return ka.includes(e)}let mn=!1;function ba(){mn||(mn=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const n of e.target.elements)(t=n.__on_r)==null||t.call(n)})},{capture:!0}))}function nr(e){var t=j,n=H;we(null),Ae(null);try{return e()}finally{we(t),Ae(n)}}function Ea(e,t,n,r=n){e.addEventListener(t,()=>nr(n));const s=e.__on_r;s?e.__on_r=()=>{s(),r(!0)}:e.__on_r=()=>r(!0),ba()}const rr=new Set,Wt=new Set;function Sa(e,t,n,r={}){function s(a){if(r.capture||tt.call(t,a),!a.cancelBubble)return nr(()=>n==null?void 0:n.call(this,a))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?sn(()=>{t.addEventListener(e,s,r)}):t.addEventListener(e,s,r),s}function et(e,t,n,r,s){var a={capture:r,passive:s},o=Sa(e,t,n,a);(t===document.body||t===window||t===document)&&nn(()=>{t.removeEventListener(e,o,a)})}function qe(e){for(var t=0;t<e.length;t++)rr.add(e[t]);for(var n of Wt)n(e)}function tt(e){var T;var t=this,n=t.ownerDocument,r=e.type,s=((T=e.composedPath)==null?void 0:T.call(e))||[],a=s[0]||e.target,o=0,i=e.__root;if(i){var c=s.indexOf(i);if(c!==-1&&(t===document||t===window)){e.__root=t;return}var f=s.indexOf(t);if(f===-1)return;c<=f&&(o=c)}if(a=s[o]||e.target,a!==t){wr(e,"currentTarget",{configurable:!0,get(){return a||n}});var u=j,d=H;we(null),Ae(null);try{for(var v,h=[];a!==null;){var _=a.assignedSlot||a.parentNode||a.host||null;try{var E=a["__"+r];if(E!=null&&(!a.disabled||e.target===a))if(Xt(E)){var[L,...M]=E;L.apply(a,[e,...M])}else E.call(a,e)}catch(p){v?h.push(p):v=p}if(e.cancelBubble||_===t||_===null)break;a=_}if(v){for(let p of h)queueMicrotask(()=>{throw p});throw v}}finally{e.__root=t,delete e.currentTarget,we(u),Ae(d)}}}function ar(e){var t=document.createElement("template");return t.innerHTML=e,t.content}function it(e,t){var n=H;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function q(e,t){var n=(t&Zr)!==0,r=(t&Wr)!==0,s,a=!e.startsWith("<!>");return()=>{s===void 0&&(s=ar(a?e:"<!>"+e),n||(s=Ve(s)));var o=r||Nn?document.importNode(s,!0):s.cloneNode(!0);if(n){var i=Ve(o),c=o.lastChild;it(i,c)}else it(o,o);return o}}function fe(e,t,n="svg"){var r=!e.startsWith("<!>"),s=`<${n}>${r?e:"<!>"+e}</${n}>`,a;return()=>{if(!a){var o=ar(s),i=Ve(o);a=Ve(i)}var c=a.cloneNode(!0);return it(c,c),c}}function pe(e=""){{var t=Bt(e+"");return it(t,t),t}}function Ee(){var e=document.createDocumentFragment(),t=document.createComment(""),n=Bt();return e.append(t,n),it(t,n),e}function y(e,t){e!==null&&e.before(t)}function Ne(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function xa(e,t){return Ca(e,t)}const Fe=new Map;function Ca(e,{target:t,anchor:n,props:r={},events:s,context:a,intro:o=!0}){Qr();var i=new Set,c=d=>{for(var v=0;v<d.length;v++){var h=d[v];if(!i.has(h)){i.add(h);var _=ya(h);t.addEventListener(h,tt,{passive:_});var E=Fe.get(h);E===void 0?(document.addEventListener(h,tt,{passive:_}),Fe.set(h,1)):Fe.set(h,E+1)}}};c(Kt(rr)),Wt.add(c);var f=void 0,u=sa(()=>{var d=n??t.appendChild(Bt());return Ze(()=>{if(a){W({});var v=F;v.c=a}s&&(r.$$events=s),f=e(d,r)||{},a&&Y()}),()=>{var _;for(var v of i){t.removeEventListener(v,tt);var h=Fe.get(v);--h===0?(document.removeEventListener(v,tt),Fe.delete(v)):Fe.set(v,h)}Wt.delete(c),d!==n&&((_=d.parentNode)==null||_.removeChild(d))}});return La.set(f,u),f}let La=new WeakMap;function V(e,t,[n,r]=[0,0]){var s=e,a=null,o=null,i=re,c=n>0?Mt:0,f=!1;const u=(v,h=!0)=>{f=!0,d(h,v)},d=(v,h)=>{i!==(i=v)&&(i?(a?bt(a):h&&(a=Ze(()=>h(s))),o&&yt(o,()=>{o=null})):(o?bt(o):h&&(o=Ze(()=>h(s,[n+1,r]))),a&&yt(a,()=>{a=null})))};It(()=>{f=!1,t(u),f||d(null,null)},c)}function ge(e,t){Ot(()=>{var n=t();for(var r in n){var s=n[r];s?e.style.setProperty(r,s):e.style.removeProperty(r)}}),nn(()=>{e.remove()})}function Pa(e,t){return t}function Ta(e,t,n,r){for(var s=[],a=t.length,o=0;o<a;o++)an(t[o].e,s,!0);var i=a>0&&s.length===0&&n!==null;if(i){var c=n.parentNode;ea(c),c.append(n),r.clear(),Me(e,t[0].prev,t[a-1].next)}Wn(s,()=>{for(var f=0;f<a;f++){var u=t[f];i||(r.delete(u.k),Me(e,u.prev,u.next)),xe(u.e,!i)}})}function He(e,t,n,r,s,a=null){var o=e,i={flags:t,items:new Map,first:null},c=(t&Bn)!==0;if(c){var f=e;o=f.appendChild(Bt())}var u=null,d=!1,v=Fn(()=>{var h=n();return Xt(h)?h:h==null?[]:Kt(h)});It(()=>{var h=l(v),_=h.length;d&&_===0||(d=_===0,Da(h,i,o,s,t,r,n),a!==null&&(_===0?u?bt(u):u=Ze(()=>a(o)):u!==null&&yt(u,()=>{u=null})),l(v))})}function Da(e,t,n,r,s,a,o){var I,Q,X,$;var i=(s&jr)!==0,c=(s&(en|tn))!==0,f=e.length,u=t.items,d=t.first,v=d,h,_=null,E,L=[],M=[],T,p,m,w;if(i)for(w=0;w<f;w+=1)T=e[w],p=a(T,w),m=u.get(p),m!==void 0&&((I=m.a)==null||I.measure(),(E??(E=new Set)).add(m));for(w=0;w<f;w+=1){if(T=e[w],p=a(T,w),m=u.get(p),m===void 0){var N=v?v.e.nodes_start:n;_=Ba(N,t,_,_===null?t.first:_.next,T,p,w,r,s,o),u.set(p,_),L=[],M=[],v=_.next;continue}if(c&&Ma(m,T,w,s),(m.e.f&be)!==0&&(bt(m.e),i&&((Q=m.a)==null||Q.unfix(),(E??(E=new Set)).delete(m))),m!==v){if(h!==void 0&&h.has(m)){if(L.length<M.length){var P=M[0],B;_=P.prev;var g=L[0],k=L[L.length-1];for(B=0;B<L.length;B+=1)wn(L[B],P,n);for(B=0;B<M.length;B+=1)h.delete(M[B]);Me(t,g.prev,k.next),Me(t,_,g),Me(t,k,P),v=P,_=k,w-=1,L=[],M=[]}else h.delete(m),wn(m,v,n),Me(t,m.prev,m.next),Me(t,m,_===null?t.first:_.next),Me(t,_,m),_=m;continue}for(L=[],M=[];v!==null&&v.k!==p;)(v.e.f&be)===0&&(h??(h=new Set)).add(v),M.push(v),v=v.next;if(v===null)continue;m=v}L.push(m),_=m,v=m.next}if(v!==null||h!==void 0){for(var S=h===void 0?[]:Kt(h);v!==null;)(v.e.f&be)===0&&S.push(v),v=v.next;var C=S.length;if(C>0){var O=(s&Bn)!==0&&f===0?n:null;if(i){for(w=0;w<C;w+=1)(X=S[w].a)==null||X.measure();for(w=0;w<C;w+=1)($=S[w].a)==null||$.fix()}Ta(t,S,O,u)}}i&&sn(()=>{var Pe;if(E!==void 0)for(m of E)(Pe=m.a)==null||Pe.apply()}),H.first=t.first&&t.first.e,H.last=_&&_.e}function Ma(e,t,n,r){(r&en)!==0&&Vt(e.v,t),(r&tn)!==0?Vt(e.i,n):e.i=n}function Ba(e,t,n,r,s,a,o,i,c,f){var u=(c&en)!==0,d=(c&Fr)===0,v=u?d?In(s):ot(s):s,h=(c&tn)===0?o:ot(o),_={i:h,v,k:a,a:null,e:null,prev:n,next:r};try{return _.e=Ze(()=>i(e,v,h,f),Jr),_.e.prev=n&&n.e,_.e.next=r&&r.e,n===null?t.first=_:(n.next=_,n.e.next=_.e),r!==null&&(r.prev=_,r.e.prev=_.e),_}finally{}}function wn(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,s=t?t.e.nodes_start:n,a=e.e.nodes_start;a!==r;){var o=At(a);s.before(a),a=o}}function Me(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function dt(e,t,...n){var r=e,s=Pn,a;It(()=>{s!==(s=t())&&(a&&(xe(a),a=null),a=Ze(()=>s(r,...n)))},Mt)}function sr(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=sr(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Aa(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=sr(e))&&(r&&(r+=" "),r+=t);return r}function U(e){return typeof e=="object"?Aa(e):e??""}function Oa(e,t,n){var r=e==null?"":""+e;return t&&(r=r?r+" "+t:t),r===""?null:r}function Ia(e,t){return e==null?null:String(e)}function z(e,t,n,r,s,a){var o=e.__className;if(o!==n||o===void 0){var i=Oa(n,r);i==null?e.removeAttribute("class"):e.className=i,e.__className=n}return a}function kn(e,t,n,r){var s=e.__style;if(s!==t){var a=Ia(t);a==null?e.removeAttribute("style"):e.style.cssText=a,e.__style=t}return r}const qa=Symbol("is custom element"),Na=Symbol("is html");function Rt(e,t){var n=ln(e);n.value===(n.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function jt(e,t){var n=ln(e);n.checked!==(n.checked=t??void 0)&&(e.checked=t)}function Se(e,t,n,r){var s=ln(e);s[t]!==(s[t]=n)&&(t==="loading"&&(e[Lr]=n),n==null?e.removeAttribute(t):typeof n!="string"&&Ra(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function ln(e){return e.__attributes??(e.__attributes={[qa]:e.nodeName.includes("-"),[Na]:e.namespaceURI===Yr})}var yn=new Map;function Ra(e){var t=yn.get(e.nodeName);if(t)return t;yn.set(e.nodeName,t=[]);for(var n,r=e,s=Element.prototype;s!==r;){n=Ln(r);for(var a in n)n[a].set&&t.push(a);r=Gt(r)}return t}function nt(e,t,n=t){var r=ut();Ea(e,"input",s=>{var a=s?e.defaultValue:e.value;if(a=Ft(e)?Ht(a):a,n(a),r&&a!==(a=t())){var o=e.selectionStart,i=e.selectionEnd;e.value=a??"",i!==null&&(e.selectionStart=o,e.selectionEnd=Math.min(i,e.value.length))}}),We(t)==null&&e.value&&n(Ft(e)?Ht(e.value):e.value),Ot(()=>{var s=t();Ft(e)&&s===Ht(e.value)||e.type==="date"&&!s&&!e.value||s!==e.value&&(e.value=s??"")})}function Ft(e){var t=e.type;return t==="number"||t==="range"}function Ht(e){return e===""?null:+e}function bn(e,t){return e===t||(e==null?void 0:e[Re])===t}function ye(e={},t,n,r){return rn(()=>{var s,a;return Ot(()=>{s=a,a=[],We(()=>{e!==n(...a)&&(t(e,...a),s&&bn(n(...s),e)&&t(null,...s))})}),()=>{sn(()=>{a&&bn(n(...a),e)&&t(null,...a)})}}),e}function or(e=!1){const t=F,n=t.l.u;if(!n)return;let r=()=>wa(t.s);if(e){let s=0,a={};const o=$e(()=>{let i=!1;const c=t.s;for(const f in c)c[f]!==a[f]&&(a[f]=c[f],i=!0);return i&&s++,s});r=()=>l(o)}n.b.length&&aa(()=>{En(t,r),mt(n.b)}),ae(()=>{const s=We(()=>n.m.map(br));return()=>{for(const a of s)typeof a=="function"&&a()}}),n.a.length&&ae(()=>{En(t,r),mt(n.a)})}function En(e,t){if(e.l.s)for(const n of e.l.s)l(n);t()}let _t=!1;function ja(e){var t=_t;try{return _t=!1,[e(),_t]}finally{_t=t}}function Sn(e){var t;return((t=e.ctx)==null?void 0:t.d)??!1}function ce(e,t,n,r){var N;var s=(n&Hr)!==0,a=!Ke||(n&Ur)!==0,o=(n&Vr)!==0,i=(n&$r)!==0,c=!1,f;o?[f,c]=ja(()=>e[t]):f=e[t];var u=Re in e||Cr in e,d=o&&(((N=Ue(e,t))==null?void 0:N.set)??(u&&t in e&&(P=>e[t]=P)))||void 0,v=r,h=!0,_=!1,E=()=>(_=!0,h&&(h=!1,i?v=We(r):v=r),v);f===void 0&&r!==void 0&&(d&&a&&Ar(),f=E(),d&&d(f));var L;if(a)L=()=>{var P=e[t];return P===void 0?E():(h=!0,_=!1,P)};else{var M=(s?$e:Fn)(()=>e[t]);M.f|=Sr,L=()=>{var P=l(M);return P!==void 0&&(v=void 0),P===void 0?v:P}}if((n&zr)===0)return L;if(d){var T=e.$$legacy;return function(P,B){return arguments.length>0?((!a||!B||T||c)&&d(B?L():P),P):L()}}var p=!1,m=In(f),w=$e(()=>{var P=L(),B=l(m);return p?(p=!1,B):m.v=P});return o&&l(w),s||(w.equals=Qt),function(P,B){if(arguments.length>0){const g=B?l(w):a&&o?G(P):P;if(!w.equals(g)){if(p=!0,b(m,g),_&&v!==void 0&&(v=g),Sn(w))return P;We(()=>l(w))}return P}return Sn(w)?w.v:l(w)}}function Oe(e){F===null&&An(),Ke&&F.l!==null?Fa(F).m.push(e):ae(()=>{const t=We(e);if(typeof t=="function")return t})}function Fa(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const Ha="5";var Cn;typeof window<"u"&&((Cn=window.__svelte??(window.__svelte={})).v??(Cn.v=new Set)).add(Ha);let rt=A("");function Ua(e){b(rt,e,!0)}var za=q('<div class="notification svelte-1h5k2zn"> </div>');function Va(e,t){W(t,!0),ae(()=>{l(rt);const a=setTimeout(()=>{b(rt,"")},800);return()=>{clearTimeout(a)}});var n=Ee(),r=K(n);{var s=a=>{var o=za(),i=x(o);J(()=>Ne(i,l(rt))),y(a,o)};V(r,a=>{l(rt)&&a(s)})}y(e,n),Y()}var $a=q('<span class="vh svelte-14jjkpd"> </span>');function ct(e,t){var n=$a(),r=x(n);J(()=>Ne(r,t.children)),y(e,n)}Rr();var Za=fe('<svg width="24" height="24" viewBox="0 0 0.72 0.72" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-1lqi79o"><path d="M.16.26h.4m-.4.2h.4M.11.26h.5m-.5.2h.5m-.4.15.1-.5m.1.5.1-.5" stroke="currentColor" stroke-width=".1" stroke-linecap="round" stroke-linejoin="round"></path></svg>');function Wa(e){var t=Za();y(e,t)}var Ya=fe('<svg viewBox="0 0 13.229 13.229" xmlns="http://www.w3.org/2000/svg" class="svelte-1lqi79o"><path style="fill:currentColor;stroke-width:.579737" d="M5.82 2.381h1.588v8.467H5.821Z"></path><path style="fill:currentColor;stroke-width:.579328" d="M10.848 5.822v1.586H2.38V5.82Z"></path></svg>');function Xa(e){var t=Ya();y(e,t)}var Ka=fe('<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-1lqi79o"><path fill-rule="evenodd" clip-rule="evenodd" d="M14.279 2.152C13.909 2 13.439 2 12.5 2s-1.409 0-1.779.152a2.008 2.008 0 0 0-1.09 1.083c-.094.223-.13.484-.145.863a1.615 1.615 0 0 1-.796 1.353 1.64 1.64 0 0 1-1.579.008c-.338-.178-.583-.276-.825-.308a2.026 2.026 0 0 0-1.49.396c-.318.242-.553.646-1.022 1.453-.47.807-.704 1.21-.757 1.605-.07.526.074 1.058.4 1.479.148.192.357.353.68.555.477.297.783.803.783 1.361 0 .558-.306 1.064-.782 1.36-.324.203-.533.364-.682.556-.325.421-.469.953-.399 1.479.053.394.287.798.757 1.605.47.807.704 1.21 1.022 1.453.424.323.96.465 1.49.396.242-.032.487-.13.825-.308a1.64 1.64 0 0 1 1.58.008c.486.28.774.795.795 1.353.015.38.051.64.145.863.204.49.596.88 1.09 1.083.37.152.84.152 1.779.152s1.409 0 1.779-.152a2.008 2.008 0 0 0 1.09-1.083c.094-.223.13-.483.145-.863.02-.558.309-1.074.796-1.353a1.64 1.64 0 0 1 1.579-.008c.338.178.583.276.825.308.53.07 1.066-.073 1.49-.396.318-.242.553-.646 1.022-1.453.47-.807.704-1.21.757-1.605a1.99 1.99 0 0 0-.4-1.479c-.148-.192-.357-.353-.68-.555-.477-.297-.783-.803-.783-1.361 0-.558.306-1.064.782-1.36.324-.203.533-.364.682-.556a1.99 1.99 0 0 0 .399-1.479c-.053-.394-.287-.798-.757-1.605-.47-.807-.704-1.21-1.022-1.453a2.026 2.026 0 0 0-1.49-.396c-.242.032-.487.13-.825.308a1.64 1.64 0 0 1-1.58-.008 1.615 1.615 0 0 1-.795-1.353c-.015-.38-.051-.64-.145-.863a2.007 2.007 0 0 0-1.09-1.083ZM12.5 15c1.67 0 3.023-1.343 3.023-3S14.169 9 12.5 9c-1.67 0-3.023 1.343-3.023 3s1.354 3 3.023 3Z" fill="currentColor"></path></svg>');function lr(e){var t=Ka();y(e,t)}var Ga=fe('<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-1lqi79o"><path d="M4 6h16M4 12h16M4 18h16" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>');function Ja(e){var t=Ga();y(e,t)}const R=G({pathname:window.location.pathname,search:window.location.search,historyLength:0}),ir=()=>{var e;return((e=new URLSearchParams(R.search).get("selectedTags"))==null?void 0:e.split(","))||[]};let pt=ir();const Qa=()=>{const e=ir();return e.join(",")===pt.join(",")||(pt=e),pt},es=()=>{R.pathname=document.location.pathname,R.search=document.location.search,R.historyLength=Math.max(0,R.historyLength-=1)};window.addEventListener("popstate",es);const Lt=e=>{const[t,n]=e.split("?");R.pathname=t,R.search=n?`?${n}`:"",R.historyLength+=1,window.history.pushState(null,"",e)},ts=e=>{const[t,n]=e.split("?");R.pathname=t,R.search=n?`?${n}`:"",window.history.replaceState(null,"",e)},cn=(e="/")=>{const[t,n]=e.split("?");R.historyLength<=0?(window.history.replaceState(null,"",e),R.historyLength=0,R.pathname=t,R.search=n?`?${n}`:""):window.history.back()},Te=G({shown:!1}),Ie=()=>{var e;return((e=new URLSearchParams(R.search).get("stackPages"))==null?void 0:e.split(","))||[]};let ze=A(G(Ie()));const Je=e=>{const t=Ie();t.push(e);const n=new URLSearchParams(R.search);n.set("stackPages",t.join(",")),b(ze,t,!0),Lt(`${R.pathname}?${n.toString()}`)},ns=()=>{const e=l(ze).slice(0,-1);b(ze,e,!0)},rs=()=>{const e=Ie();return e.length>=l(ze).length?e.reduce((t,n)=>[...t,{page:n,shown:!0}],[]):l(ze).reduce((t,n,r)=>[...t,{page:n,shown:r!==l(ze).length-1}],[])},as=e=>{e.preventDefault(),Je("settings")},ss=e=>{e.preventDefault(),Lt("/")},os=e=>{e.preventDefault(),Je("newBookmark")};var ls=q('<a href="/"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Home</span></a>'),is=q('<a class="link svelte-e5g06v"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Settings</span></a>'),cs=q('<a class="addBookmark svelte-e5g06v"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Add bookmark</span></a>'),us=q('<div class="header svelte-e5g06v"><div class="top svelte-e5g06v"><div class="desktop svelte-e5g06v"><!></div> <div class="mobile svelte-e5g06v"><button class="buttonMenu svelte-e5g06v"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button></div> <!></div></div>');function vs(e,t){W(t,!0);const n=()=>{Te.shown=!0},r=()=>{const p=Ie();p.includes("settings")||p.push("settings");const m=new URLSearchParams(R.search);return m.set("stackPages",p.join(",")),`${R.pathname}?${m}`};let a=te(()=>{const p=Ie();p.includes("newBookmark")||p.push("newBookmark");const m=new URLSearchParams(R.search);return m.set("stackPages",p.join(",")),`${R.pathname}?${m}`}),o=te(r);var i=us(),c=x(i),f=x(c),u=x(f);{var d=p=>{var m=ls();m.__click=[ss],z(m,1,U(["link","hash"]),"svelte-e5g06v");var w=x(m);ge(w,()=>({"--size":"20px"})),Wa(w.lastChild),y(p,m)},v=p=>{var m=is();m.__click=[as];var w=x(m);ge(w,()=>({"--size":"20px"})),lr(w.lastChild),J(()=>Se(m,"href",l(o))),y(p,m)};V(u,p=>{R.pathname==="/settings"?p(d):p(v,!1)})}var h=D(f,2),_=x(h);_.__click=n;var E=x(_);ge(E,()=>({"--size":"36px"})),Ja(E.lastChild);var L=D(E,2);ct(L,{children:(p,m)=>{var w=pe("Menu");y(p,w)}});var M=D(h,2);{var T=p=>{var m=cs();m.__click=[os];var w=x(m);ge(w,()=>({"--size":"24px","--color":"#b0b0b0"})),Xa(w.lastChild),J(()=>Se(m,"href",l(a))),y(p,m)};V(M,p=>{R.pathname!=="/settings"&&p(T)})}y(e,i),Y()}qe(["click"]);var fs=fe('<svg viewBox="0 0 5.292 5.292" xmlns="http://www.w3.org/2000/svg" class="svelte-1lqi79o"><path style="fill:currentColor;stroke-width:.374736" transform="scale(1.02869 .97047) rotate(45)" d="M2.678-1.906h.514V1.18h-.514z"></path><path style="fill:currentColor;stroke-width:.374736" transform="scale(-1.02869 -.97047) rotate(-45)" d="M.664-5.762h.514v3.086H.664z"></path></svg>');function ds(e){var t=fs();y(e,t)}const Pt=G({working:!1});var hs=fe('<svg viewBox="0 0 5.292 5.292" xmlns="http://www.w3.org/2000/svg" class="svelte-1lqi79o"><path style="fill:currentColor;stroke-width:.584099" transform="rotate(45)" d="M3.341-2.405h.802v4.811h-.802z"></path><path style="fill:currentColor;stroke-width:.584099" transform="rotate(135)" d="M-.401-6.147h.802v4.811h-.802z"></path></svg>');function _s(e){var t=hs();y(e,t)}const ps=({getDialog:e,getDialogInner:t,onClose:n})=>{const r=s=>{const a=e(),o=t();s.target&&(a!=null&&a.open)&&o&&o!==s.target&&!o.contains(s.target)&&n()};Oe(()=>(document.addEventListener("mousedown",r,{capture:!0}),()=>{document.removeEventListener("mousedown",r,{capture:!0})}))},gs=({getDialog:e,getDialogInner:t,onOpen:n,onStartClose:r,onClose:s})=>{ps({getDialog:e,getDialogInner:t,onClose:r});const a=i=>{i.preventDefault(),r()},o=()=>{s==null||s()};Oe(()=>{const i=e();return i==null||i.addEventListener("close",o),i==null||i.addEventListener("cancel",a),()=>{i==null||i.removeEventListener("close",o),i==null||i.removeEventListener("cancel",a)}}),Oe(()=>{const i=e();i==null||i.showModal(),i==null||i.getBoundingClientRect(),n()})};var ms=(e,t)=>{t.onStartClose()},ws=(e,t)=>{t.onStartClose()},ks=q('<dialog><div class="dialogInner svelte-itqooh"><span tabindex="1"></span> <!> <div class="header svelte-itqooh"><div><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button></div> <div><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button></div></div></div></dialog>');function ys(e,t){W(t,!0);let n=ce(t,"hiddenDialog",3,!1),r=ce(t,"isDesktopAnimationOff",3,!1),s=A(null),a=A(null);gs({getDialog:()=>l(s),getDialogInner:()=>l(a),onOpen:t.onOpen,onStartClose:t.onStartClose,onClose:t.onClose}),ae(()=>{var T,p;t.stateDialog==="closing"&&(Pt.working?(T=l(s))==null||T.addEventListener("transitionend",()=>{var m;(m=l(s))==null||m.close()},{once:!0}):(p=l(s))==null||p.close())});var o=ks(),i=x(o),c=D(x(i),2);dt(c,()=>t.children);var f=D(c,2),u=x(f),d=x(u);z(d,1,U(["navigateButton","buttonBack"]),"svelte-itqooh"),d.__click=[ms,t];var v=x(d);ge(v,()=>({"--size":"20px"})),ds(v.lastChild);var h=D(v,2);ct(h,{children:(T,p)=>{var m=pe("back");y(T,m)}});var _=D(u,2),E=x(_);z(E,1,U(["navigateButton","buttonClose"]),"svelte-itqooh"),E.__click=[ws,t];var L=x(E);ge(L,()=>({"--size":"20px"})),_s(L.lastChild);var M=D(L,2);ct(M,{children:(T,p)=>{var m=pe("close");y(T,m)}}),ye(i,T=>b(a,T),()=>l(a)),ye(o,T=>b(s,T),()=>l(s)),J(()=>z(o,1,U([{open:t.stateDialog==="open",isAnimationOn:Pt.working,isDesktopAnimationOff:r(),hiddenDialog:n()}]),"svelte-itqooh")),y(e,o),Y()}qe(["click"]);const bs=({onStartClose:e,onClose:t})=>{let n=A("close");return{get state(){return l(n)},set state(o){b(n,o,!0)},handleStartClose:(o=!1)=>{o||(b(n,"closing"),e==null||e())},handleOpen:()=>{b(n,"open")},handleClose:()=>{b(n,"close"),t==null||t()}}};function cr(e,t){W(t,!0);let n=ce(t,"blockedClose",3,!1),r=ce(t,"hiddenDialog",3,!1),s=ce(t,"onStartClose",3,()=>{}),a=ce(t,"onClose",3,()=>{}),o=bs({onStartClose:s(),onClose:a()});ae(()=>{o.state==="close"&&t.shownDialog?o.state="opening":o.state==="open"&&!t.shownDialog&&o.handleStartClose(n())});var i=Ee(),c=K(i);{var f=u=>{ys(u,{get stateDialog(){return o.state},get hiddenDialog(){return r()},get onOpen(){return o.handleOpen},onStartClose:()=>o.handleStartClose(n()),get onClose(){return o.handleClose},children:(d,v)=>{var h=Ee(),_=K(h);dt(_,()=>t.children),y(d,h)},$$slots:{default:!0}})};V(c,u=>{o.state!=="close"&&u(f)})}y(e,i),Y()}function Es(e,t){W(t,!0),cr(e,{get shownDialog(){return t.shown},get blockedClose(){return t.hidden},get hiddenDialog(){return t.hidden},onStartClose:()=>{cn()},onClose:()=>{ns()},children:(s,a)=>{var o=Ee(),i=K(o);dt(i,()=>t.children),y(s,o)},$$slots:{default:!0}}),Y()}const ur=()=>crypto.randomUUID(),Ss="bookmarksStore",xs=1,ve="bookmarks";let Z;window.addEventListener("unhandledrejection",e=>{alert("Error: "+e.reason.message)});const Cs=()=>new Promise((e,t)=>{const n=indexedDB.open(Ss,xs);n.addEventListener("upgradeneeded",()=>{const r=n.result;console.log("success upgradeneeded"),r.objectStoreNames.contains(ve)||r.createObjectStore(ve,{keyPath:"id"})}),n.addEventListener("success",()=>{console.log("success open"),e(),Z=n.result,Z.onversionchange=function(){Z==null||Z.close(),alert("app outdated, please reload the page")}}),n.addEventListener("blocked",()=>{t(),alert("app outdated, please reload the page")}),n.addEventListener("error",()=>{t(),console.error("Error",n.error)})}),vr=()=>new Promise((e,t)=>{const n=Z==null?void 0:Z.transaction(ve,"readonly"),r=n==null?void 0:n.objectStore(ve).getAll();r==null||r.addEventListener("success",()=>{const s=r.result;e(s)}),r==null||r.addEventListener("error",()=>{t()})}),Ls=async e=>new Promise((t,n)=>{const r=Z==null?void 0:Z.transaction(ve,"readwrite"),s=r==null?void 0:r.objectStore(ve),a=s==null?void 0:s.put({...e});a==null||a.addEventListener("success",()=>{t()}),a==null||a.addEventListener("error",()=>{n()})}),Ps=async e=>new Promise((t,n)=>{const r=Z==null?void 0:Z.transaction(ve,"readwrite"),s=r==null?void 0:r.objectStore(ve),a=s==null?void 0:s.delete(e);a==null||a.addEventListener("success",()=>{t()}),a==null||a.addEventListener("error",()=>{n()})}),Ts=async e=>{const t=(await vr()).reduce((a,o)=>(a[o.id]=o,a),{}),n={},r=Z==null?void 0:Z.transaction(ve,"readwrite"),s=r==null?void 0:r.objectStore(ve);e.forEach(a=>{t[a.id]?t[a.id].lastUpdatedTimestamp<a.lastUpdatedTimestamp&&(n[a.id]=a):n[a.id]=a}),await Promise.all(Object.values(n).map(a=>{const o=s==null?void 0:s.put(a);return new Promise((i,c)=>{o==null||o.addEventListener("success",()=>{i()}),o==null||o.addEventListener("error",()=>{c()})})}))},Ds=async e=>{const t=Z==null?void 0:Z.transaction(ve,"readwrite"),n=t==null?void 0:t.objectStore(ve);await Promise.all(Array.from({length:1e3},(r,s)=>{const a=[];for(let c=0;c<Math.random()*5;c++){const f=(Math.random()*100).toFixed();a.includes(f)||a.push(f)}const o={...e,order:s,id:ur(),createdTimestamp:Date.now(),lastUpdatedTimestamp:Date.now(),title:a.join("#"),tags:a},i=n==null?void 0:n.put(o);return new Promise((c,f)=>{i==null||i.addEventListener("success",()=>{s%1e4===0&&console.log(`bookmark ${s} done`),c()}),i==null||i.addEventListener("error",()=>{console.log(`bookmark ${s} error`),f()})})}))};let oe=A({inited:!1,bookmarks:[],mapBookmarks:new Map});const un=async()=>{const e=await vr(),t=new Map,n=[];e.forEach(r=>{n[r.order]=r,t.set(r.id,r)}),b(oe,{...l(oe),bookmarks:n,mapBookmarks:t,inited:!0})};Cs().then(async()=>{await un()}).catch(()=>{console.error("failed to init db")});const fr=()=>l(oe).inited,Ms=()=>l(oe).bookmarks,Bs=async e=>{const t={...e,lastUpdatedTimestamp:Date.now()};l(oe).bookmarks[t.order]=t,l(oe).mapBookmarks.set(t.id,t),b(oe,{...l(oe)}),await Ls(t)},As=async e=>{await Ds(e),await un()},Os=async e=>{const t=l(oe).mapBookmarks.get(e);l(oe).mapBookmarks.delete(e),l(oe).bookmarks[(t==null?void 0:t.order)||0]=void 0,b(oe,{...l(oe)}),await Ps(e)},xn=async e=>{await Ts(e),await un()};let dr=A({});const hr=()=>l(dr),Is=e=>{b(dr,e)};var qs=q('<input class="svelte-1jzizl8">');function Yt(e,t){W(t,!0);let n=ce(t,"value",15,"");var r=qs();J(()=>Se(r,"placeholder",t.placeholder)),nt(r,n),y(e,r),Y()}var Ns=q('<dialog><div class="dialogInner svelte-xwo20z"><!></div></dialog>');function Rs(e,t){W(t,!0);let n=0,r=0,s=0,a=!1,o=!1,i=0,c=0;const f=5;let u=A(null),d=A(null),v=A("close");const h=()=>{b(v,"closing"),Te.shown=!1,setTimeout(()=>{var g;b(v,"close"),(g=l(u))==null||g.close()},300)},_=()=>{b(v,"open"),Te.shown=!0},E=()=>{var g;b(v,"close"),Te.shown=!1,o=!1,(g=l(u))==null||g.close()},L=g=>{g.preventDefault(),h()};function M(g){t.blocking&&(l(v)==="open"||l(v)==="close")||(n=g.touches[0].clientX,r=g.touches[0].clientY,a=!0,o=!1)}function T(g){if(!a||t.blocking||!l(u))return;const k=g.touches[0].clientX,S=g.touches[0].clientY,C=k-n,O=S-r,I=Math.abs(C)>Math.abs(O),Q=Math.abs(C)>f;if(!o)if(I&&Q){l(v)==="close"&&(b(v,"opening"),l(u).showModal(),l(u).getBoundingClientRect());const de=window.getComputedStyle(l(u)),he=de.transform||de.webkitTransform;s=new DOMMatrix(he).m41,c=l(u).offsetWidth,l(u).style.setProperty("--transition-timing","0s"),o=!0}else return;let X=s+C;const $=-c,Pe=-.3*c;X=Math.max($,Math.min(Pe,X)),l(u).style.transform=`translateX(${X}px)`,l(v)==="open"?l(u).style.setProperty("--backdrop-bg",`rgba(0, 0, 0, ${.25*(1-Math.abs(i)/100)})`):l(u).style.setProperty("--backdrop-bg",`rgba(0, 0, 0, ${.25*(Math.abs(i)/100)})`),i=(X-s)/c*100,o&&I&&g.preventDefault()}function p(){if(!a||!l(u))return;if(!o){a=!1,i=0;return}const g=3,k=i;l(v)==="open"?k<-3?l(u).style.setProperty("--transition-timing",`${.3*(1-Math.abs(i)/100)}s`):l(u).style.setProperty("--transition-timing",`${.3*(Math.abs(i)/100)}s`):k<-3?l(u).style.setProperty("--transition-timing",`${.3*(Math.abs(i)/100)}s`):l(u).style.setProperty("--transition-timing",`${.3*(1-Math.abs(i)/100)}s`),l(u).addEventListener("transitionend",()=>{var S;(S=l(u))==null||S.style.removeProperty("--transition-timing")},{once:!0}),l(u).getBoundingClientRect(),l(v)==="open"&&k<-3?(l(u).style.transform="",l(u).style.removeProperty("--backdrop-bg"),h()):l(v)!=="open"&&k>g?(l(u).style.transform="",l(u).style.removeProperty("--backdrop-bg"),_()):(l(u).style.transform="",l(u).style.removeProperty("--backdrop-bg"),l(v)==="opening"&&h()),l(u).style.removeProperty("--backdrop-bg"),a=!1,o=!1,i=0}const m=g=>{var k;g.target&&((k=l(u))!=null&&k.open)&&l(d)&&l(d)!==g.target&&!l(d).contains(g.target)&&!t.blocking&&h()};Oe(()=>(document.addEventListener("mousedown",m,{capture:!0}),()=>{document.removeEventListener("mousedown",m,{capture:!0})})),Oe(()=>{var g,k;return document.addEventListener("touchstart",M,{passive:!0}),document.addEventListener("touchmove",T,{passive:!1}),document.addEventListener("touchend",p,{passive:!0}),document.addEventListener("touchcancel",p,{passive:!0}),(g=l(u))==null||g.addEventListener("close",E),(k=l(u))==null||k.addEventListener("cancel",L),()=>{var S,C;(S=l(u))==null||S.removeEventListener("close",E),(C=l(u))==null||C.removeEventListener("cancel",L),document.removeEventListener("touchstart",M),document.removeEventListener("touchmove",T),document.removeEventListener("touchend",p),document.removeEventListener("touchcancel",p)}}),ae(()=>{var g;if(l(v)==="closing"){const k=()=>{var S;(S=l(u))==null||S.close()};return(g=l(u))==null||g.addEventListener("transitionend",k,{once:!0}),()=>{var S;(S=l(u))==null||S.removeEventListener("transitionend",k)}}}),ae(()=>{console.log("sidebarState",l(v)),console.log("mobileSidebar.shown",Te.shown),console.log("hasPassedThreshold",o)}),ae(()=>{var g,k;Te.shown,l(v),!o&&(l(v)==="close"&&Te.shown?((g=l(u))==null||g.showModal(),(k=l(u))==null||k.getBoundingClientRect(),_()):l(v)==="open"&&!Te.shown&&h())});var w=Ns(),N=x(w),P=x(N);{var B=g=>{var k=Ee(),S=K(k);dt(S,()=>t.children),y(g,k)};V(P,g=>{l(v)!=="close"&&g(B)})}ye(N,g=>b(d,g),()=>l(d)),ye(w,g=>b(u,g),()=>l(u)),J(()=>z(w,1,U([{open:l(v)==="open",hidden:t.blocking}]),"svelte-xwo20z")),y(e,w),Y()}const _r=()=>window.matchMedia("(max-width: 768px)").matches;let pr=A(G(_r()));const js=(e,t)=>{let n=null;return()=>{n&&clearTimeout(n),n=setTimeout(()=>{e()},t)}},Fs=js(()=>{b(pr,_r(),!0)},16);window.addEventListener("resize",Fs);const Hs=()=>l(pr),Us=e=>{e.preventDefault(),Je("settings")};var zs=(e,t,n)=>t(n),Vs=q("<button> </button>"),$s=q("<div></div>"),Zs=(e,t,n)=>t(l(n).name),Ws=q('<button class="tag svelte-y69ysu"> </button>'),Ys=q('<div class="sidebarFixed svelte-y69ysu"><a class="link svelte-y69ysu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Settings</span></a> <div class="searchWrapper svelte-y69ysu"><!></div> <!></div> <div class="tags svelte-y69ysu"></div>',1),Xs=(e,t,n)=>t(n),Ks=q("<button> </button>"),Gs=q("<div></div>"),Js=(e,t,n)=>t(l(n).name),Qs=q('<button class="tag svelte-y69ysu"> </button>'),eo=q('<div class="sidebar svelte-y69ysu"><div class="sidebarFixed svelte-y69ysu"><div class="searchWrapper svelte-y69ysu"><!></div> <!></div> <div class="tags svelte-y69ysu"></div></div>');function to(e,t){W(t,!0);let n=A(""),r=te(()=>{var _;return((_=new URLSearchParams(R.search).get("selectedTags"))==null?void 0:_.split(","))||[]});const s=()=>{const _=Ie();_.includes("settings")||_.push("settings");const E=new URLSearchParams(R.search);return E.set("stackPages",_.join(",")),`${R.pathname}?${E}`},a=_=>{const E=new URLSearchParams(R.search);E.set("selectedTags",[...l(r),_].join(",")),Lt(`${R.pathname}${E.size>0?`?${E.toString()}`:""}`)},o=_=>{const E=new URLSearchParams(R.search),L=l(r).filter(M=>M!==_);L.length===0?E.delete("selectedTags"):E.set("selectedTags",L.join(",")),Lt(`${R.pathname}${E.size>0?`?${E.toString()}`:""}`)};let i=te(()=>fr()?Object.values(hr()).filter(_=>!l(r).some(E=>_.name===E)):[]),c=te(s),f=te(()=>Ie().length>0);var u=Ee(),d=K(u);{var v=_=>{Rs(_,{get blocking(){return l(f)},children:(E,L)=>{var M=Ys(),T=K(M),p=x(T);p.__click=[Us];var m=x(p);ge(m,()=>({"--size":"20px"})),lr(m.lastChild);var w=D(p,2),N=x(w);Yt(N,{placeholder:"Search tag",get value(){return l(n)},set value(k){b(n,k,!0)}});var P=D(w,2);{var B=k=>{var S=$s();z(S,1,U(["tags","selectedTags"]),"svelte-y69ysu"),He(S,20,()=>l(r),C=>C,(C,O)=>{var I=Vs();I.__click=[zs,o,O],z(I,1,U(["tag","selectedTag"]),"svelte-y69ysu");var Q=x(I);J(()=>Ne(Q,O)),y(C,I)}),y(k,S)};V(P,k=>{l(r).length>0&&k(B)})}var g=D(T,2);He(g,21,()=>l(i),k=>k.name,(k,S)=>{var C=Ee(),O=K(C);{var I=Q=>{var X=Ws();X.__click=[Zs,a,S];var $=x(X);J(()=>Ne($,l(S).name)),y(Q,X)};V(O,Q=>{(l(n)===""||l(S).name.toLowerCase().indexOf(l(n).toLowerCase())!==-1)&&Q(I)})}y(k,C)}),J(()=>Se(p,"href",l(c))),y(E,M)},$$slots:{default:!0}})},h=_=>{var E=eo(),L=x(E),M=x(L),T=x(M);Yt(T,{placeholder:"Search tag",get value(){return l(n)},set value(N){b(n,N,!0)}});var p=D(M,2);{var m=N=>{var P=Gs();z(P,1,U(["tags","selectedTags"]),"svelte-y69ysu"),He(P,20,()=>l(r),B=>B,(B,g)=>{var k=Ks();k.__click=[Xs,o,g],z(k,1,U(["tag","selectedTag"]),"svelte-y69ysu");var S=x(k);J(()=>Ne(S,g)),y(B,k)}),y(N,P)};V(p,N=>{l(r).length>0&&N(m)})}var w=D(L,2);He(w,21,()=>l(i),N=>N.name,(N,P)=>{var B=Ee(),g=K(B);{var k=S=>{var C=Qs();C.__click=[Js,a,P];var O=x(C);J(()=>Ne(O,l(P).name)),y(S,C)};V(g,S=>{(l(n)===""||l(P).name.toLowerCase().indexOf(l(n).toLowerCase())!==-1)&&S(k)})}y(N,B)}),y(_,E)};V(d,_=>{Hs()?_(v):_(h,!1)})}y(e,u),Y()}qe(["click"]);var no=q('<form class="svelte-140y8w3"><input placeholder="title" type="text" class="svelte-140y8w3"> <input placeholder="url" type="text" class="svelte-140y8w3"> <textarea placeholder="description" class="svelte-140y8w3"></textarea> <input placeholder="tags" type="text" class="svelte-140y8w3"> <button class="buttonSubmit svelte-140y8w3" type="submit">add bookmark</button></form>');function gr(e,t){W(t,!0);let n=ce(t,"initialTitle",3,""),r=ce(t,"initialUrl",3,""),s=ce(t,"initialDescription",3,""),a=ce(t,"initialTags",3,""),o=A(G(n())),i=A(G(r())),c=A(G(s())),f=A(G(a()));const u=L=>{L.preventDefault(),t.onSubmit({title:l(o),url:l(i),description:l(c),tags:l(f)})};var d=no(),v=x(d),h=D(v,2),_=D(h,2),E=D(_,2);et("submit",d,u),nt(v,()=>l(o),L=>b(o,L)),nt(h,()=>l(i),L=>b(i,L)),nt(_,()=>l(c),L=>b(c,L)),nt(E,()=>l(f),L=>b(f,L)),y(e,d),Y()}function ro(e,t){W(t,!0);let n=A(!0);const r=()=>{t.onClose()},s=()=>{b(n,!1)},a=({title:o,url:i,description:c,tags:f})=>{Bs({...t.bookmark,title:o,url:i,description:c,tags:f.split(" ").map(u=>u.trim())}),s()};cr(e,{get shownDialog(){return l(n)},onClose:r,children:(o,i)=>{const c=te(()=>t.bookmark.tags.join(" "));gr(o,{get initialTitle(){return t.bookmark.title},get initialUrl(){return t.bookmark.url},get initialDescription(){return t.bookmark.description},get initialTags(){return l(c)},onSubmit:a})},$$slots:{default:!0}}),Y()}var ao=fe('<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-1lqi79o"><path d="M16 16v2.8c0 1.12 0 1.68-.218 2.108a2 2 0 0 1-.874.874C14.48 22 13.92 22 12.8 22H5.2c-1.12 0-1.68 0-2.108-.218a2 2 0 0 1-.874-.874C2 20.48 2 19.92 2 18.8v-7.6c0-1.12 0-1.68.218-2.108a2 2 0 0 1 .874-.874C3.52 8 4.08 8 5.2 8H8m3.2 8h7.6c1.12 0 1.68 0 2.108-.218a2 2 0 0 0 .874-.874C22 14.48 22 13.92 22 12.8V5.2c0-1.12 0-1.68-.218-2.108a2 2 0 0 0-.874-.874C20.48 2 19.92 2 18.8 2h-7.6c-1.12 0-1.68 0-2.108.218a2 2 0 0 0-.874.874C8 3.52 8 4.08 8 5.2v7.6c0 1.12 0 1.68.218 2.108a2 2 0 0 0 .874.874C9.52 16 10.08 16 11.2 16Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>');function so(e){var t=ao();y(e,t)}var oo=fe('<svg viewBox="0 0 13.229 13.229" xmlns="http://www.w3.org/2000/svg" class="svelte-1lqi79o"><circle style="fill:currentColor;stroke-width:.4378" cx="3.175" cy="6.615" r="1.058"></circle><circle style="fill:currentColor;stroke-width:.4378" cx="6.615" cy="6.615" r="1.058"></circle><circle style="fill:currentColor;stroke-width:.4378" cx="10.054" cy="6.615" r="1.058"></circle></svg>');function lo(e){var t=oo();y(e,t)}const io=(e,t,n)=>{const r=hr();t.bookmark.tags.forEach(s=>{if(l(n).includes(s)&&r[s].connections===1){const a=new URLSearchParams(R.search),o=l(n).filter(i=>i!==s);o.length===0?a.delete("selectedTags"):a.set("selectedTags",o.join(",")),ts(`${R.pathname}${a.size>0?`?${a.toString()}`:""}`)}}),Os(t.bookmark.id)},co=(e,t)=>{b(t,!0)},uo=(e,t,n)=>{b(t,!1),b(n,!0)},vo=(e,t)=>{navigator.clipboard.writeText(t.bookmark.url),Ua("Link copied to clipboard")};var fo=q('<li class="bookmark svelte-hwv8qt"><div class="bookmarkTitle svelte-hwv8qt"><img class="bookmarkIcon" height="16" width="16" alt="icon"> <a class="bookmarkLink svelte-hwv8qt" target="_blank" rel="noopener noreferrer"> </a></div> <div><button class="button svelte-hwv8qt"><!> <!></button> <div><button class="menuButton svelte-hwv8qt">Edit</button> <button class="menuButton svelte-hwv8qt">Delete</button></div> <button><!> <!></button></div></li> <!>',1);function ho(e,t){W(t,!0);let n=te(()=>{var C;return((C=new URLSearchParams(R.search).get("selectedTags"))==null?void 0:C.split(","))||[]}),r=A(!1),s=A(!1),a=A(null),o=A(null);const i=C=>{var O,I;C.target!==l(o)&&C.target!==l(a)&&!((O=l(a))!=null&&O.contains(C.target))&&!((I=l(o))!=null&&I.contains(C.target))&&b(r,!1)},c=()=>{b(s,!1)};ae(()=>(document.addEventListener("click",i),()=>{document.removeEventListener("click",i)}));const f=C=>{try{return`https://www.google.com/s2/favicons?domain=${new URL(C).host}&sz=32`}catch{return""}};var u=fo(),d=K(u),v=x(d),h=x(v),_=D(h,2),E=x(_),L=D(v,2),M=x(L);M.__click=[vo,t];var T=x(M);so(T);var p=D(T,2);ct(p,{children:(C,O)=>{var I=pe("copy link");y(C,I)}});var m=D(M,2),w=x(m);w.__click=[uo,r,s];var N=D(w,2);N.__click=[io,t,n],ye(m,C=>b(o,C),()=>l(o));var P=D(m,2);P.__click=[co,r],z(P,1,U(["button","buttonMenu"]),"svelte-hwv8qt");var B=x(P);lo(B);var g=D(B,2);ct(g,{children:(C,O)=>{var I=pe("show menu");y(C,I)}}),ye(P,C=>b(a,C),()=>l(a));var k=D(d,2);{var S=C=>{ro(C,{get bookmark(){return t.bookmark},onClose:c})};V(k,C=>{l(s)&&C(S)})}J(C=>{Se(h,"src",C),Se(_,"href",t.bookmark.url),Ne(E,t.bookmark.title),z(L,1,U(["bookmarkMenuWrapper",{bookmarkMenuWrapperActive:l(r)}]),"svelte-hwv8qt"),z(m,1,U(["bookmarkMenu",{bookmarkShownMenu:l(r)}]),"svelte-hwv8qt")},[()=>f(t.bookmark.url)]),y(e,u),Y()}qe(["click"]);var _o=q('<div class="emptyMessage svelte-10e5k3k">No bookmarks found</div>'),po=q('<div class="searchWrapper svelte-10e5k3k"><!></div> <div class="feed svelte-10e5k3k"><ul class="svelte-10e5k3k"><!> <!></ul></div>',1);function go(e,t){W(t,!0);let n=A(null),r=44,s=A(0),a=A(0),o=A(G([])),i=A("");const c=Xr("main");let f=te(c),u=null;const d=te(Qa);ae(()=>{var g;l(i),l(d),(g=l(f))==null||g.scrollTo(0,0)});const v=()=>{u&&cancelAnimationFrame(u),u=requestAnimationFrame(()=>{var k;const g=((k=l(f))==null?void 0:k.scrollTop)||0;b(a,Math.floor(g/r)*r)})},h=()=>{var g;v(),l(n)&&b(s,window.innerHeight-((g=l(n))==null?void 0:g.getBoundingClientRect().top))};Oe(()=>{h(),v()}),ae(()=>{var g;return(g=l(f))==null||g.addEventListener("scroll",v),window.addEventListener("resize",h),()=>{var k;(k=l(f))==null||k.removeEventListener("scroll",v),window.removeEventListener("resize",h)}}),ae(()=>{const g=Ms(),k=[],S={};for(let C=g.length-1;C>=0;C--){const O=g[C];if(O&&!(l(d).length&&l(d).some(I=>!O.tags.includes(I)))&&!(l(i)&&!(O.title.toLowerCase().includes(l(i).toLowerCase())||O.url.toLowerCase().includes(l(i).toLowerCase())))){if(O.tags)for(const I of O.tags)S[I]?S[I].connections++:S[I]={name:I,connections:1};k.push(O)}}Is(S),b(o,k,!0)});const _=te(()=>l(o).length*r);let L=te(()=>{const g=Math.ceil(l(s)/r),k=Math.floor(l(a)/r);return l(o).slice(k,k+g)});var M=po(),T=K(M),p=x(T);Yt(p,{placeholder:"Search",get value(){return l(i)},set value(g){b(i,g,!0)}});var m=D(T,2),w=x(m),N=x(w);He(N,17,()=>l(L),g=>g.id,(g,k)=>{ho(g,{get bookmark(){return l(k)}})});var P=D(N,2);{var B=g=>{var k=_o();y(g,k)};V(P,g=>{l(L).length===0&&fr()&&g(B)})}ye(w,g=>b(n,g),()=>l(n)),J(g=>{kn(m,`height: ${g??""}px`),kn(w,`height: ${l(s)??""}px; transform: translateY(${l(a)??""}px)`)},[()=>Math.max(l(_),30)]),y(e,M),Y()}var mo=q('<!> <div class="content svelte-cu0ar8"><!></div>',1);function wo(e){var t=mo(),n=K(t);to(n,{});var r=D(n,2),s=x(r);go(s,{}),y(e,t)}var ko=fe('<svg width="800" height="800" viewBox="-3 0 32 32" xmlns="http://www.w3.org/2000/svg" class="svelte-1lqi79o"><path d="M23 8H3a1 1 0 1 1 0-2h20a1 1 0 0 1 0 2Zm-1 20a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V10h18v18ZM10 3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v1h-6V3Zm14 1h-6V2a2 2 0 0 0-2-2h-6a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v2a2 2 0 0 0 2 2v18a4 4 0 0 0 4 4h14a4 4 0 0 0 4-4V10a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2ZM13 28a1 1 0 0 0 1-1V15a1 1 0 0 0-2 0v12a1 1 0 0 0 1 1Zm-5 0a1 1 0 0 0 1-1V15a1 1 0 0 0-2 0v12a1 1 0 0 0 1 1Zm10 0a1 1 0 0 0 1-1V15a1 1 0 0 0-2 0v12a1 1 0 0 0 1 1Z" fill="currentColor" fill-rule="evenodd"></path></svg>');function yo(e){var t=ko();y(e,t)}var bo=fe('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" class="svelte-1lqi79o"><path fill-rule="evenodd" stroke="currentColor" fill="currentColor" d="M14 9.004a1 1 0 0 1 1 1v3a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-3a1 1 0 0 1 2 0v3h10v-3a1 1 0 0 1 1-1ZM8 1.59l3.707 3.707a1 1 0 0 1-1.414 1.414L9 5.418v4.586a1 1 0 1 1-2 0V5.418L5.707 6.711a1 1 0 0 1-1.414-1.414L8 1.59Z"></path></svg>');function Eo(e){var t=bo();y(e,t)}var So=fe('<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" class="svelte-1lqi79o"><path fill-rule="evenodd" stroke="currentColor" fill="currentColor" d="M14 9a1 1 0 0 1 1 1v3a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-3a1 1 0 0 1 2 0v3h10v-3a1 1 0 0 1 1-1ZM8 1a1 1 0 0 1 1 1v4.586l1.293-1.293a1 1 0 1 1 1.414 1.414L8 10.414 4.293 6.707a1 1 0 0 1 1.414-1.414L7 6.586V2a1 1 0 0 1 1-1Z"></path></svg>');function xo(e){var t=So();y(e,t)}var De=(e=>(e.Light="light",e.Auto="auto",e.Dark="dark",e))(De||{});const Ut=(e,t)=>{const n=e.target.value;localStorage.setItem("colorScheme",n),document.documentElement.setAttribute("data-color-scheme",n),b(t,n,!0)};var Co=q('<div class="wrapper svelte-1lqc4qo"><fieldset class="switcher svelte-1lqc4qo"><legend class="vh svelte-1lqc4qo">Color Scheme</legend> <input id="light" type="radio" aria-label="Light"> <label for="light" title="Light" aria-label="Light"></label> <input id="auto" type="radio" aria-label="Auto"> <label for="auto" title="Auto" aria-label="Auto"></label> <input id="dark" type="radio" aria-label="Dark"> <label for="dark" title="Dark" aria-label="Dark"></label> <div class="wrapSwitcherStatus svelte-1lqc4qo"><div class="switcherStatus svelte-1lqc4qo"></div></div></fieldset></div>');function Lo(e,t){W(t,!0);let n=A(G(localStorage.getItem("colorScheme")||De.Auto));const r="color-scheme-switcher";var s=Co(),a=x(s),o=D(x(a),2);z(o,1,U(["vh","input"]),"svelte-1lqc4qo"),Se(o,"name",r),o.__change=[Ut,n];var i=D(o,2);z(i,1,U(["switcherButton","light"]),"svelte-1lqc4qo");var c=D(i,2);z(c,1,U(["vh","input"]),"svelte-1lqc4qo"),Se(c,"name",r),c.__change=[Ut,n];var f=D(c,2);z(f,1,U(["switcherButton","auto"]),"svelte-1lqc4qo");var u=D(f,2);z(u,1,U(["vh","input"]),"svelte-1lqc4qo"),Se(u,"name",r),u.__change=[Ut,n];var d=D(u,2);z(d,1,U(["switcherButton","dark"]),"svelte-1lqc4qo"),J(()=>{Rt(o,De.Light),jt(o,l(n)===De.Light),Rt(c,De.Auto),jt(c,l(n)===De.Auto),Rt(u,De.Dark),jt(u,l(n)===De.Dark)}),y(e,s),Y()}qe(["change"]);const Po=()=>{Je("importBookmarks")},To=()=>{Je("exportBookmarks")},Do=()=>{Je("clearStore")};var Mo=q('<div class="svelte-oc46cj"><!> <ul class="svelte-oc46cj"><li class="svelte-oc46cj"><button class="button svelte-oc46cj"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-oc46cj">import bookmarks</span></button></li> <li class="svelte-oc46cj"><button class="button svelte-oc46cj"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-oc46cj">export bookmarks</span></button></li> <li class="svelte-oc46cj"><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-oc46cj">clear store</span></button></li></ul></div>');function Bo(e,t){W(t,!1),or();var n=Mo(),r=x(n);Lo(r,{});var s=D(r,2),a=x(s),o=x(a);o.__click=[Po];var i=x(o);ge(i,()=>({"--size":"20px"})),xo(i.lastChild);var c=D(a,2),f=x(c);f.__click=[To];var u=x(f);ge(u,()=>({"--size":"20px"})),Eo(u.lastChild);var d=D(c,2),v=x(d);v.__click=[Do],z(v,1,U(["button","clearButton"]),"svelte-oc46cj");var h=x(v);ge(h,()=>({"--size":"20px"})),yo(h.lastChild),y(e,n),Y()}qe(["click"]);function Ao(e,t){W(t,!1);const n=()=>{cn()},r=({title:s,url:a,description:o,tags:i})=>{As({title:s,url:a,description:o,tags:i.split(" ").map(c=>c.trim())}),n()};or(),gr(e,{onSubmit:r}),Y()}var Oo=q("<button><!></button>");function Qe(e,t){let n=ce(t,"type",3,"standard");var r=Oo();r.__click=function(...a){var o;(o=t.onClick)==null||o.apply(this,a)};var s=x(r);dt(s,()=>t.children),J(()=>z(r,1,U(["button",{dangerous:n()==="dangerous"}]),"svelte-v0y8yx")),y(e,r)}qe(["click"]);var Io=q('<div class="loader svelte-b80p9x"></div>');function qo(e){var t=Io();y(e,t)}const No=async(e,t)=>{const n=e.target;!n.files||n.files.length===0||await t(n.files[0])};var Ro=q('<p class="message svelte-19xh4q5">select a file to import your bookmarks</p> <div role="button" tabindex="0"><div class="dropzone-content svelte-19xh4q5"><p class="svelte-19xh4q5">Drag and drop your JSON file here</p> <p class="svelte-19xh4q5">or</p> <!></div> <input type="file" accept=".json" style="display: none;"></div> <div class="buttonContainer svelte-19xh4q5"><!></div>',1),jo=q('<p class="message svelte-19xh4q5">importing bookmarks...</p> <!>',1),Fo=q('<p class="message success svelte-19xh4q5">bookmarks imported successfully!</p> <div class="buttonContainer svelte-19xh4q5"><!></div>',1),Ho=q('<p class="message error svelte-19xh4q5">something went wrong</p> <div class="buttonContainer svelte-19xh4q5"><!> <!></div>',1),Uo=q('<div class="content svelte-19xh4q5"><!></div>');function zo(e,t){W(t,!0);let n=A("idle"),r=A(null),s=A(!1),a=A(null);const o=()=>{cn()},i=async p=>{const m=await p.text(),w=JSON.parse(m),N=[];if(!w.bookmarks)throw new Error("Invalid import file format");for(const P of Object.values(w.bookmarks))P&&N.push(P);await xn(N)},c=async p=>{var k,S,C;const m=await p.text(),N=new DOMParser().parseFromString(m,"text/html");let P=1;const B=[],g=N.querySelectorAll("a");for(const O of g){const I=O.getAttribute("href"),Q=O.textContent||"";if(!I)continue;const X=[];let $=O.parentElement;for(;$;){const de=(k=$.parentElement)==null?void 0:k.querySelector(":scope > h3"),he=(S=de==null?void 0:de.textContent)==null?void 0:S.trim();he&&he!=="Bookmarks"&&he!=="Bookmarks bar"&&he!=="Other bookmarks"&&!X.includes(he)&&X.push(he),$.tagName==="DL"&&((C=$.parentElement)==null?void 0:C.tagName)==="DT"?$=$.parentElement.parentElement:$=$.parentElement}const Pe={id:ur(),order:P++,url:I,title:Q,description:"",tags:X.length>0?X:["imported"],lastUpdatedTimestamp:Date.now(),createdTimestamp:Date.now()};B.push(Pe)}await xn(B)},f=async p=>{b(n,"loading");try{if(p.name.endsWith(".json"))await i(p);else if(p.name.endsWith(".html"))await c(p);else throw new Error("Unsupported file format. Please upload a JSON or HTML file.");b(n,"success")}catch{b(n,"error")}},u=()=>{var p;(p=l(r))==null||p.click()},d=p=>{p.preventDefault(),p.stopPropagation(),b(s,!0)},v=p=>{p.preventDefault(),p.stopPropagation(),b(s,!1)},h=p=>{p.preventDefault(),p.stopPropagation(),b(s,!0)},_=async p=>{var w;if(p.preventDefault(),p.stopPropagation(),b(s,!1),!((w=p.dataTransfer)!=null&&w.files)||p.dataTransfer.files.length===0)return;const m=p.dataTransfer.files[0];if(m.type!=="application/json"&&m.type!=="text/html"){b(n,"error");return}await f(m)};var E=Uo(),L=x(E);{var M=p=>{var m=Ro(),w=D(K(m),2),N=x(w),P=D(x(N),4);Qe(P,{onClick:u,children:(S,C)=>{var O=pe("Select File");y(S,O)},$$slots:{default:!0}});var B=D(N,2);B.__change=[No,f],ye(B,S=>b(r,S),()=>l(r)),ye(w,S=>b(a,S),()=>l(a));var g=D(w,2),k=x(g);Qe(k,{onClick:o,children:(S,C)=>{var O=pe("cancel");y(S,O)},$$slots:{default:!0}}),J(()=>z(w,1,U(["dropzone",{active:l(s)}]),"svelte-19xh4q5")),et("dragenter",w,d),et("dragover",w,h),et("dragleave",w,v),et("drop",w,_),y(p,m)},T=(p,m)=>{{var w=P=>{var B=jo(),g=D(K(B),2);qo(g),y(P,B)},N=(P,B)=>{{var g=S=>{var C=Fo(),O=D(K(C),2),I=x(O);Qe(I,{onClick:o,children:(Q,X)=>{var $=pe("close");y(Q,$)},$$slots:{default:!0}}),y(S,C)},k=(S,C)=>{{var O=I=>{var Q=Ho(),X=D(K(Q),2),$=x(X);Qe($,{onClick:()=>{b(n,"idle")},children:(de,he)=>{var ht=pe("Try Again");y(de,ht)},$$slots:{default:!0}});var Pe=D($,2);Qe(Pe,{onClick:o,children:(de,he)=>{var ht=pe("Cancel");y(de,ht)},$$slots:{default:!0}}),y(I,Q)};V(S,I=>{l(n)==="error"&&I(O)},C)}};V(P,S=>{l(n)==="success"?S(g):S(k,!1)},B)}};V(p,P=>{l(n)==="loading"?P(w):P(N,!1)},m)}};V(L,p=>{l(n)==="idle"?p(M):p(T,!1)})}y(e,E),Y()}qe(["change"]);var Vo=q("<div>Export Bookmarks</div>");function $o(e){var t=Vo();y(e,t)}var Zo=q("<div>Clear store</div>");function Wo(e){var t=Zo();y(e,t)}const Yo=(e,t=Pn)=>{var n=Ee(),r=K(n);{var s=o=>{Bo(o,{})},a=(o,i)=>{{var c=u=>{Ao(u,{})},f=(u,d)=>{{var v=_=>{zo(_,{})},h=(_,E)=>{{var L=T=>{$o(T)},M=(T,p)=>{{var m=w=>{Wo(w)};V(T,w=>{t()==="clearStore"&&w(m)},p)}};V(_,T=>{t()==="exportBookmarks"?T(L):T(M,!1)},E)}};V(u,_=>{t()==="importBookmarks"?_(v):_(h,!1)},d)}};V(o,u=>{t()==="newBookmark"?u(c):u(f,!1)},i)}};V(r,o=>{t()==="settings"?o(s):o(a,!1)})}y(e,n)};var Xo=q("<!> <!>",1);function Ko(e,t){W(t,!0);let n=te(rs);var r=Xo(),s=K(r);wo(s);var a=D(s,2);He(a,17,()=>l(n),Pa,(o,i,c)=>{const f=te(()=>{var u;return c!==l(n).length-1&&!!((u=l(n)[c+1])!=null&&u.shown)});Es(o,{get shown(){return l(i).shown},get hidden(){return l(f)},children:(u,d)=>{Yo(u,()=>l(i).page)},$$slots:{default:!0}})}),y(e,r),Y()}function Go(e,t){W(t,!0);let n=0;ae(()=>{document.addEventListener("touchstart",r=>{n=r.touches[0].clientX},{passive:!1}),document.addEventListener("touchmove",r=>{const a=r.touches[0].clientX-n;(n<50&&a>0||n>window.innerWidth-50&&a<0)&&r.preventDefault()},{passive:!1}),document.addEventListener("touchend",()=>{n=0}),document.addEventListener("touchcancel",()=>{n=0})}),Y()}var Jo=q('<!> <main><!> <div class="container svelte-1ioluln"><!></div> <!></main>',1);function Qo(e,t){W(t,!0);let n=A(null),r=!1;Kr("main",()=>l(n));const s=()=>{document.activeElement instanceof HTMLInputElement||document.activeElement instanceof HTMLTextAreaElement?r=!0:r=!1};Oe(()=>{s(),document.addEventListener("focusin",s),document.addEventListener("focusout",s),document.addEventListener("touchmove",function(h){r&&h.preventDefault()},{passive:!1})}),Oe(async()=>{await new Promise(h=>setTimeout(h,100)),await ga(),Pt.working=!0});let a=te(()=>Ie().length>0);var o=Jo(),i=K(o);Go(i,{});var c=D(i,2),f=x(c);vs(f,{});var u=D(f,2),d=x(u);Ko(d,{});var v=D(u,2);Va(v,{}),ye(c,h=>b(n,h),()=>l(n)),J(()=>z(c,1,U(["main",{isAnimationOn:Pt.working,open:l(a)}]),"svelte-1ioluln")),y(e,o),Y()}xa(Qo,{target:document.getElementById("app")});
