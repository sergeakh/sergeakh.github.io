(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();const An=!1;var gn=Array.isArray,Qr=Array.prototype.indexOf,pn=Array.from,$r=Object.defineProperty,tt=Object.getOwnPropertyDescriptor,er=Object.getOwnPropertyDescriptors,ea=Object.prototype,ta=Array.prototype,mn=Object.getPrototypeOf,Bn=Object.isExtensible;const tr=()=>{};function na(e){return e()}function Ot(e){for(var t=0;t<e.length;t++)e[t]()}const Le=2,nr=4,Ut=8,_n=16,Re=32,lt=64,Mt=128,Ce=256,At=512,Se=1024,Oe=2048,Ze=4096,Be=8192,zt=16384,ra=32768,Vt=65536,aa=1<<17,oa=1<<19,rr=1<<20,an=1<<21,Ke=Symbol("$state"),sa=Symbol("legacy props"),ia=Symbol("");function ar(e){return e===this.v}function la(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function wn(e){return!la(e,this.v)}function ca(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function ua(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function da(e){throw new Error("https://svelte.dev/e/effect_orphan")}function fa(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function va(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function ha(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function ga(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function pa(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let ct=!1,ma=!1;function _a(){ct=!0}const yn=1,bn=2,or=4,wa=8,ya=16,ba=1,ka=2,Sa=4,Ea=8,Ta=16,Ca=1,Da=2,ye=Symbol(),La="http://www.w3.org/1999/xhtml";function Pa(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let oe=null;function In(e){oe=e}function K(e,t=!1,n){var r=oe={p:oe,c:null,d:!1,e:null,m:!1,s:e,x:null,l:null};ct&&!t&&(oe.l={s:null,u:null,r1:[],r2:mt(!1)}),kn(()=>{r.d=!0})}function G(e){const t=oe;if(t!==null){e!==void 0&&(t.x=e);const i=t.e;if(i!==null){var n=te,r=ee;t.e=null;try{for(var a=0;a<i.length;a++){var o=i[a];Ve(o.effect),Me(o.reaction),Sn(o.fn)}}finally{Ve(n),Me(r)}}oe=t.p,t.m=!0}return e||{}}function bt(){return!ct||oe!==null&&oe.l===null}function le(e){if(typeof e!="object"||e===null||Ke in e)return e;const t=mn(e);if(t!==ea&&t!==ta)return e;var n=new Map,r=gn(e),a=B(0),o=ee,i=l=>{var c=ee;Me(o);var u=l();return Me(c),u};return r&&n.set("length",B(e.length)),new Proxy(e,{defineProperty(l,c,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&ha();var d=n.get(c);return d===void 0?(d=i(()=>B(u.value)),n.set(c,d)):E(d,i(()=>le(u.value))),!0},deleteProperty(l,c){var u=n.get(c);if(u===void 0)c in l&&(n.set(c,i(()=>B(ye))),$t(a));else{if(r&&typeof c=="string"){var d=n.get("length"),v=Number(c);Number.isInteger(v)&&v<d.v&&E(d,v)}E(u,ye),$t(a)}return!0},get(l,c,u){var h;if(c===Ke)return e;var d=n.get(c),v=c in l;if(d===void 0&&(!v||(h=tt(l,c))!=null&&h.writable)&&(d=i(()=>B(le(v?l[c]:ye))),n.set(c,d)),d!==void 0){var f=s(d);return f===ye?void 0:f}return Reflect.get(l,c,u)},getOwnPropertyDescriptor(l,c){var u=Reflect.getOwnPropertyDescriptor(l,c);if(u&&"value"in u){var d=n.get(c);d&&(u.value=s(d))}else if(u===void 0){var v=n.get(c),f=v==null?void 0:v.v;if(v!==void 0&&f!==ye)return{enumerable:!0,configurable:!0,value:f,writable:!0}}return u},has(l,c){var f;if(c===Ke)return!0;var u=n.get(c),d=u!==void 0&&u.v!==ye||Reflect.has(l,c);if(u!==void 0||te!==null&&(!d||(f=tt(l,c))!=null&&f.writable)){u===void 0&&(u=i(()=>B(d?le(l[c]):ye)),n.set(c,u));var v=s(u);if(v===ye)return!1}return d},set(l,c,u,d){var m;var v=n.get(c),f=c in l;if(r&&c==="length")for(var h=u;h<v.v;h+=1){var g=n.get(h+"");g!==void 0?E(g,ye):h in l&&(g=i(()=>B(ye)),n.set(h+"",g))}v===void 0?(!f||(m=tt(l,c))!=null&&m.writable)&&(v=i(()=>B(void 0)),E(v,i(()=>le(u))),n.set(c,v)):(f=v.v!==ye,E(v,i(()=>le(u))));var p=Reflect.getOwnPropertyDescriptor(l,c);if(p!=null&&p.set&&p.set.call(d,u),!f){if(r&&typeof c=="string"){var w=n.get("length"),y=Number(c);Number.isInteger(y)&&y>=w.v&&E(w,y+1)}$t(a)}return!0},ownKeys(l){s(a);var c=Reflect.ownKeys(l).filter(v=>{var f=n.get(v);return f===void 0||f.v!==ye});for(var[u,d]of n)d.v!==ye&&!(u in l)&&c.push(u);return c},setPrototypeOf(){ga()}})}function $t(e,t=1){E(e,e.v+t)}function rt(e){var t=Le|Oe,n=ee!==null&&(ee.f&Le)!==0?ee:null;return te===null||n!==null&&(n.f&Ce)!==0?t|=Ce:te.f|=rr,{ctx:oe,deps:null,effects:null,equals:ar,f:t,fn:e,reactions:null,rv:0,v:null,wv:0,parent:n??te}}function Q(e){const t=rt(e);return kr(t),t}function sr(e){const t=rt(e);return t.equals=wn,t}function ir(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)Ie(t[n])}}function xa(e){for(var t=e.parent;t!==null;){if((t.f&Le)===0)return t;t=t.parent}return null}function lr(e){var t,n=te;Ve(xa(e));try{ir(e),t=Cr(e)}finally{Ve(n)}return t}function cr(e){var t=lr(e),n=(He||(e.f&Ce)!==0)&&e.deps!==null?Ze:Se;Pe(e,n),e.equals(t)||(e.v=t,e.wv=Er())}const pt=new Map;function mt(e,t){var n={f:0,v:e,reactions:null,equals:ar,rv:0,wv:0};return n}function B(e,t){const n=mt(e);return kr(n),n}function ur(e,t=!1){var r;const n=mt(e);return t||(n.equals=wn),ct&&oe!==null&&oe.l!==null&&((r=oe.l).s??(r.s=[])).push(n),n}function E(e,t,n=!1){ee!==null&&!xe&&bt()&&(ee.f&(Le|_n))!==0&&!(_e!=null&&_e.includes(e))&&pa();let r=n?le(t):t;return on(e,r)}function on(e,t){if(!e.equals(t)){var n=e.v;kt?pt.set(e,t):pt.set(e,n),e.v=t,(e.f&Le)!==0&&((e.f&Oe)!==0&&lr(e),Pe(e,(e.f&Ce)===0?Se:Ze)),e.wv=Er(),dr(e,Oe),bt()&&te!==null&&(te.f&Se)!==0&&(te.f&(Re|lt))===0&&(De===null?Ha([e]):De.push(e))}return t}function dr(e,t){var n=e.reactions;if(n!==null)for(var r=bt(),a=n.length,o=0;o<a;o++){var i=n[o],l=i.f;(l&Oe)===0&&(!r&&i===te||(Pe(i,t),(l&(Se|Ce))!==0&&((l&Le)!==0?dr(i,Ze):Gt(i))))}}let Oa=!1;var Rn,fr,vr,hr;function Ma(){if(Rn===void 0){Rn=window,fr=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;vr=tt(t,"firstChild").get,hr=tt(t,"nextSibling").get,Bn(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Bn(n)&&(n.__t=void 0)}}function qt(e=""){return document.createTextNode(e)}function at(e){return vr.call(e)}function Yt(e){return hr.call(e)}function k(e,t){return at(e)}function Y(e,t){{var n=at(e);return n instanceof Comment&&n.data===""?Yt(n):n}}function P(e,t=1,n=!1){let r=e;for(;t--;)r=Yt(r);return r}function Aa(e){e.textContent=""}function gr(e){te===null&&ee===null&&da(),ee!==null&&(ee.f&Ce)!==0&&te===null&&ua(),kt&&ca()}function Ba(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function ut(e,t,n,r=!0){var a=te,o={ctx:oe,deps:null,nodes_start:null,nodes_end:null,f:e|Oe,first:null,fn:t,last:null,next:null,parent:a,prev:null,teardown:null,transitions:null,wv:0};if(n)try{Cn(o),o.f|=ra}catch(c){throw Ie(o),c}else t!==null&&Gt(o);var i=n&&o.deps===null&&o.first===null&&o.nodes_start===null&&o.teardown===null&&(o.f&(rr|Mt))===0;if(!i&&r&&(a!==null&&Ba(o,a),ee!==null&&(ee.f&Le)!==0)){var l=ee;(l.effects??(l.effects=[])).push(o)}return o}function kn(e){const t=ut(Ut,null,!1);return Pe(t,Se),t.teardown=e,t}function ve(e){gr();var t=te!==null&&(te.f&Re)!==0&&oe!==null&&!oe.m;if(t){var n=oe;(n.e??(n.e=[])).push({fn:e,effect:te,reaction:ee})}else{var r=Sn(e);return r}}function Ia(e){return gr(),Wt(e)}function Ra(e){const t=ut(lt,e,!0);return(n={})=>new Promise(r=>{n.outro?Bt(t,()=>{Ie(t),r(void 0)}):(Ie(t),r(void 0))})}function Sn(e){return ut(nr,e,!1)}function Wt(e){return ut(Ut,e,!0)}function se(e,t=[],n=rt){const r=t.map(n);return Xt(()=>e(...r.map(s)))}function Xt(e,t=0){return ut(Ut|_n|t,e,!0)}function ot(e,t=!0){return ut(Ut|Re,e,!0,t)}function pr(e){var t=e.teardown;if(t!==null){const n=kt,r=ee;Fn(!0),Me(null);try{t.call(null)}finally{Fn(n),Me(r)}}}function mr(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){var r=n.next;(n.f&lt)!==0?n.parent=null:Ie(n,t),n=r}}function Na(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&Re)===0&&Ie(t),t=n}}function Ie(e,t=!0){var n=!1;(t||(e.f&oa)!==0)&&e.nodes_start!==null&&(Fa(e.nodes_start,e.nodes_end),n=!0),mr(e,t&&!n),jt(e,0),Pe(e,zt);var r=e.transitions;if(r!==null)for(const o of r)o.stop();pr(e);var a=e.parent;a!==null&&a.first!==null&&_r(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function Fa(e,t){for(;e!==null;){var n=e===t?null:Yt(e);e.remove(),e=n}}function _r(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function Bt(e,t){var n=[];En(e,n,!0),wr(n,()=>{Ie(e),t&&t()})}function wr(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var a of e)a.out(r)}else t()}function En(e,t,n){if((e.f&Be)===0){if(e.f^=Be,e.transitions!==null)for(const i of e.transitions)(i.is_global||n)&&t.push(i);for(var r=e.first;r!==null;){var a=r.next,o=(r.f&Vt)!==0||(r.f&Re)!==0;En(r,t,o?n:!1),r=a}}}function It(e){yr(e,!0)}function yr(e,t){if((e.f&Be)!==0){e.f^=Be,(e.f&Se)===0&&(e.f^=Se),St(e)&&(Pe(e,Oe),Gt(e));for(var n=e.first;n!==null;){var r=n.next,a=(n.f&Vt)!==0||(n.f&Re)!==0;yr(n,a?t:!1),n=r}if(e.transitions!==null)for(const o of e.transitions)(o.is_global||t)&&o.in()}}let _t=[],sn=[];function br(){var e=_t;_t=[],Ot(e)}function ja(){var e=sn;sn=[],Ot(e)}function Tn(e){_t.length===0&&queueMicrotask(br),_t.push(e)}function Nn(){_t.length>0&&br(),sn.length>0&&ja()}let Lt=!1,Rt=!1,Nt=null,Ge=!1,kt=!1;function Fn(e){kt=e}let gt=[];let ee=null,xe=!1;function Me(e){ee=e}let te=null;function Ve(e){te=e}let _e=null;function kr(e){ee!==null&&ee.f&an&&(_e===null?_e=[e]:_e.push(e))}let me=null,Te=0,De=null;function Ha(e){De=e}let Sr=1,Ft=0,He=!1;function Er(){return++Sr}function St(e){var v;var t=e.f;if((t&Oe)!==0)return!0;if((t&Ze)!==0){var n=e.deps,r=(t&Ce)!==0;if(n!==null){var a,o,i=(t&At)!==0,l=r&&te!==null&&!He,c=n.length;if(i||l){var u=e,d=u.parent;for(a=0;a<c;a++)o=n[a],(i||!((v=o==null?void 0:o.reactions)!=null&&v.includes(u)))&&(o.reactions??(o.reactions=[])).push(u);i&&(u.f^=At),l&&d!==null&&(d.f&Ce)===0&&(u.f^=Ce)}for(a=0;a<c;a++)if(o=n[a],St(o)&&cr(o),o.wv>e.wv)return!0}(!r||te!==null&&!He)&&Pe(e,Se)}return!1}function Ua(e,t){for(var n=t;n!==null;){if((n.f&Mt)!==0)try{n.fn(e);return}catch{n.f^=Mt}n=n.parent}throw Lt=!1,e}function jn(e){return(e.f&zt)===0&&(e.parent===null||(e.parent.f&Mt)===0)}function Kt(e,t,n,r){if(Lt){if(n===null&&(Lt=!1),jn(t))throw e;return}if(n!==null&&(Lt=!0),Ua(e,t),jn(t))throw e}function Tr(e,t,n=!0){var r=e.reactions;if(r!==null)for(var a=0;a<r.length;a++){var o=r[a];_e!=null&&_e.includes(e)||((o.f&Le)!==0?Tr(o,t,!1):t===o&&(n?Pe(o,Oe):(o.f&Se)!==0&&Pe(o,Ze),Gt(o)))}}function Cr(e){var h;var t=me,n=Te,r=De,a=ee,o=He,i=_e,l=oe,c=xe,u=e.f;me=null,Te=0,De=null,He=(u&Ce)!==0&&(xe||!Ge||ee===null),ee=(u&(Re|lt))===0?e:null,_e=null,In(e.ctx),xe=!1,Ft++,e.f|=an;try{var d=(0,e.fn)(),v=e.deps;if(me!==null){var f;if(jt(e,Te),v!==null&&Te>0)for(v.length=Te+me.length,f=0;f<me.length;f++)v[Te+f]=me[f];else e.deps=v=me;if(!He)for(f=Te;f<v.length;f++)((h=v[f]).reactions??(h.reactions=[])).push(e)}else v!==null&&Te<v.length&&(jt(e,Te),v.length=Te);if(bt()&&De!==null&&!xe&&v!==null&&(e.f&(Le|Ze|Oe))===0)for(f=0;f<De.length;f++)Tr(De[f],e);return a!==null&&a!==e&&(Ft++,De!==null&&(r===null?r=De:r.push(...De))),d}finally{me=t,Te=n,De=r,ee=a,He=o,_e=i,In(l),xe=c,e.f^=an}}function za(e,t){let n=t.reactions;if(n!==null){var r=Qr.call(n,e);if(r!==-1){var a=n.length-1;a===0?n=t.reactions=null:(n[r]=n[a],n.pop())}}n===null&&(t.f&Le)!==0&&(me===null||!me.includes(t))&&(Pe(t,Ze),(t.f&(Ce|At))===0&&(t.f^=At),ir(t),jt(t,0))}function jt(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)za(e,n[r])}function Cn(e){var t=e.f;if((t&zt)===0){Pe(e,Se);var n=te,r=oe,a=Ge;te=e,Ge=!0;try{(t&_n)!==0?Na(e):mr(e),pr(e);var o=Cr(e);e.teardown=typeof o=="function"?o:null,e.wv=Sr;var i=e.deps,l;An&&ma&&e.f&Oe}catch(c){Kt(c,e,n,r||e.ctx)}finally{Ge=a,te=n}}}function Va(){try{fa()}catch(e){if(Nt!==null)Kt(e,Nt,null);else throw e}}function Dr(){var e=Ge;try{var t=0;for(Ge=!0;gt.length>0;){t++>1e3&&Va();var n=gt,r=n.length;gt=[];for(var a=0;a<r;a++){var o=Ya(n[a]);qa(o)}pt.clear()}}finally{Rt=!1,Ge=e,Nt=null}}function qa(e){var t=e.length;if(t!==0)for(var n=0;n<t;n++){var r=e[n];if((r.f&(zt|Be))===0)try{St(r)&&(Cn(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null?_r(r):r.fn=null))}catch(a){Kt(a,r,null,r.ctx)}}}function Gt(e){Rt||(Rt=!0,queueMicrotask(Dr));for(var t=Nt=e;t.parent!==null;){t=t.parent;var n=t.f;if((n&(lt|Re))!==0){if((n&Se)===0)return;t.f^=Se}}gt.push(t)}function Ya(e){for(var t=[],n=e;n!==null;){var r=n.f,a=(r&(Re|lt))!==0,o=a&&(r&Se)!==0;if(!o&&(r&Be)===0){if((r&nr)!==0)t.push(n);else if(a)n.f^=Se;else try{St(n)&&Cn(n)}catch(c){Kt(c,n,null,n.ctx)}var i=n.first;if(i!==null){n=i;continue}}var l=n.parent;for(n=n.next;n===null&&l!==null;)n=l.next,l=l.parent}return t}function Wa(e){var t;for(Nn();gt.length>0;)Rt=!0,Dr(),Nn();return t}async function Xa(){await Promise.resolve(),Wa()}function s(e){var t=e.f,n=(t&Le)!==0;if(ee!==null&&!xe){if(!(_e!=null&&_e.includes(e))){var r=ee.deps;e.rv<Ft&&(e.rv=Ft,me===null&&r!==null&&r[Te]===e?Te++:me===null?me=[e]:(!He||!me.includes(e))&&me.push(e))}}else if(n&&e.deps===null&&e.effects===null){var a=e,o=a.parent;o!==null&&(o.f&Ce)===0&&(a.f^=Ce)}return n&&(a=e,St(a)&&cr(a)),kt&&pt.has(e)?pt.get(e):e.v}function st(e){var t=xe;try{return xe=!0,e()}finally{xe=t}}const Ka=-7169;function Pe(e,t){e.f=e.f&Ka|t}function Ga(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Ke in e)ln(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&Ke in n&&ln(n)}}}function ln(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{ln(e[r],t)}catch{}const n=mn(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=er(n);for(let a in r){const o=r[a].get;if(o)try{o.call(e)}catch{}}}}}const Ja=["touchstart","touchmove"];function Za(e){return Ja.includes(e)}let Hn=!1;function Qa(){Hn||(Hn=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const n of e.target.elements)(t=n.__on_r)==null||t.call(n)})},{capture:!0}))}function Lr(e){var t=ee,n=te;Me(null),Ve(null);try{return e()}finally{Me(t),Ve(n)}}function $a(e,t,n,r=n){e.addEventListener(t,()=>Lr(n));const a=e.__on_r;a?e.__on_r=()=>{a(),r(!0)}:e.__on_r=()=>r(!0),Qa()}const Pr=new Set,cn=new Set;function eo(e,t,n,r={}){function a(o){if(r.capture||vt.call(t,o),!o.cancelBubble)return Lr(()=>n==null?void 0:n.call(this,o))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Tn(()=>{t.addEventListener(e,a,r)}):t.addEventListener(e,a,r),a}function Ue(e,t,n,r,a){var o={capture:r,passive:a},i=eo(e,t,n,o);(t===document.body||t===window||t===document)&&kn(()=>{t.removeEventListener(e,i,o)})}function we(e){for(var t=0;t<e.length;t++)Pr.add(e[t]);for(var n of cn)n(e)}function vt(e){var m;var t=this,n=t.ownerDocument,r=e.type,a=((m=e.composedPath)==null?void 0:m.call(e))||[],o=a[0]||e.target,i=0,l=e.__root;if(l){var c=a.indexOf(l);if(c!==-1&&(t===document||t===window)){e.__root=t;return}var u=a.indexOf(t);if(u===-1)return;c<=u&&(i=c)}if(o=a[i]||e.target,o!==t){$r(e,"currentTarget",{configurable:!0,get(){return o||n}});var d=ee,v=te;Me(null),Ve(null);try{for(var f,h=[];o!==null;){var g=o.assignedSlot||o.parentNode||o.host||null;try{var p=o["__"+r];if(p!=null&&(!o.disabled||e.target===o))if(gn(p)){var[w,...y]=p;w.apply(o,[e,...y])}else p.call(o,e)}catch(b){f?h.push(b):f=b}if(e.cancelBubble||g===t||g===null)break;o=g}if(f){for(let b of h)queueMicrotask(()=>{throw b});throw f}}finally{e.__root=t,delete e.currentTarget,Me(d),Ve(v)}}}function xr(e){var t=document.createElement("template");return t.innerHTML=e,t.content}function wt(e,t){var n=te;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function N(e,t){var n=(t&Ca)!==0,r=(t&Da)!==0,a,o=!e.startsWith("<!>");return()=>{a===void 0&&(a=xr(o?e:"<!>"+e),n||(a=at(a)));var i=r||fr?document.importNode(a,!0):a.cloneNode(!0);if(n){var l=at(i),c=i.lastChild;wt(l,c)}else wt(i,i);return i}}function to(e,t,n="svg"){var r=!e.startsWith("<!>"),a=`<${n}>${r?e:"<!>"+e}</${n}>`,o;return()=>{if(!o){var i=xr(a),l=at(i);o=at(l)}var c=o.cloneNode(!0);return wt(c,c),c}}function fe(e=""){{var t=qt(e+"");return wt(t,t),t}}function be(){var e=document.createDocumentFragment(),t=document.createComment(""),n=qt();return e.append(t,n),wt(t,n),e}function C(e,t){e!==null&&e.before(t)}function no(){var e;return(e=window.__svelte??(window.__svelte={})).uid??(e.uid=1),`c${window.__svelte.uid++}`}function Qe(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function ro(e,t){return ao(e,t)}const $e=new Map;function ao(e,{target:t,anchor:n,props:r={},events:a,context:o,intro:i=!0}){Ma();var l=new Set,c=v=>{for(var f=0;f<v.length;f++){var h=v[f];if(!l.has(h)){l.add(h);var g=Za(h);t.addEventListener(h,vt,{passive:g});var p=$e.get(h);p===void 0?(document.addEventListener(h,vt,{passive:g}),$e.set(h,1)):$e.set(h,p+1)}}};c(pn(Pr)),cn.add(c);var u=void 0,d=Ra(()=>{var v=n??t.appendChild(qt());return ot(()=>{if(o){K({});var f=oe;f.c=o}a&&(r.$$events=a),u=e(v,r)||{},o&&G()}),()=>{var g;for(var f of l){t.removeEventListener(f,vt);var h=$e.get(f);--h===0?(document.removeEventListener(f,vt),$e.delete(f)):$e.set(f,h)}cn.delete(c),v!==n&&((g=v.parentNode)==null||g.removeChild(v))}});return oo.set(u,d),u}let oo=new WeakMap;function U(e,t,[n,r]=[0,0]){var a=e,o=null,i=null,l=ye,c=n>0?Vt:0,u=!1;const d=(f,h=!0)=>{u=!0,v(h,f)},v=(f,h)=>{l!==(l=f)&&(l?(o?It(o):h&&(o=ot(()=>h(a))),i&&Bt(i,()=>{i=null})):(i?It(i):h&&(i=ot(()=>h(a,[n+1,r]))),o&&Bt(o,()=>{o=null})))};Xt(()=>{u=!1,t(d),u||v(null,null)},c)}function ke(e,t){Wt(()=>{var n=t();for(var r in n){var a=n[r];a?e.style.setProperty(r,a):e.style.removeProperty(r)}}),kn(()=>{e.remove()})}function so(e,t){return t}function io(e,t,n,r){for(var a=[],o=t.length,i=0;i<o;i++)En(t[i].e,a,!0);var l=o>0&&a.length===0&&n!==null;if(l){var c=n.parentNode;Aa(c),c.append(n),r.clear(),Fe(e,t[0].prev,t[o-1].next)}wr(a,()=>{for(var u=0;u<o;u++){var d=t[u];l||(r.delete(d.k),Fe(e,d.prev,d.next)),Ie(d.e,!l)}})}function Ae(e,t,n,r,a,o=null){var i=e,l={flags:t,items:new Map,first:null},c=(t&or)!==0;if(c){var u=e;i=u.appendChild(qt())}var d=null,v=!1,f=sr(()=>{var h=n();return gn(h)?h:h==null?[]:pn(h)});Xt(()=>{var h=s(f),g=h.length;v&&g===0||(v=g===0,lo(h,l,i,a,t,r,n),o!==null&&(g===0?d?It(d):d=ot(()=>o(i)):d!==null&&Bt(d,()=>{d=null})),s(f))})}function lo(e,t,n,r,a,o,i){var A,I,M,j;var l=(a&wa)!==0,c=(a&(yn|bn))!==0,u=e.length,d=t.items,v=t.first,f=v,h,g=null,p,w=[],y=[],m,b,_,S;if(l)for(S=0;S<u;S+=1)m=e[S],b=o(m,S),_=d.get(b),_!==void 0&&((A=_.a)==null||A.measure(),(p??(p=new Set)).add(_));for(S=0;S<u;S+=1){if(m=e[S],b=o(m,S),_=d.get(b),_===void 0){var T=f?f.e.nodes_start:n;g=uo(T,t,g,g===null?t.first:g.next,m,b,S,r,a,i),d.set(b,g),w=[],y=[],f=g.next;continue}if(c&&co(_,m,S,a),(_.e.f&Be)!==0&&(It(_.e),l&&((I=_.a)==null||I.unfix(),(p??(p=new Set)).delete(_))),_!==f){if(h!==void 0&&h.has(_)){if(w.length<y.length){var D=y[0],x;g=D.prev;var F=w[0],V=w[w.length-1];for(x=0;x<w.length;x+=1)Un(w[x],D,n);for(x=0;x<y.length;x+=1)h.delete(y[x]);Fe(t,F.prev,V.next),Fe(t,g,F),Fe(t,V,D),f=D,g=V,S-=1,w=[],y=[]}else h.delete(_),Un(_,f,n),Fe(t,_.prev,_.next),Fe(t,_,g===null?t.first:g.next),Fe(t,g,_),g=_;continue}for(w=[],y=[];f!==null&&f.k!==b;)(f.e.f&Be)===0&&(h??(h=new Set)).add(f),y.push(f),f=f.next;if(f===null)continue;_=f}w.push(_),g=_,f=_.next}if(f!==null||h!==void 0){for(var z=h===void 0?[]:pn(h);f!==null;)(f.e.f&Be)===0&&z.push(f),f=f.next;var W=z.length;if(W>0){var q=(a&or)!==0&&u===0?n:null;if(l){for(S=0;S<W;S+=1)(M=z[S].a)==null||M.measure();for(S=0;S<W;S+=1)(j=z[S].a)==null||j.fix()}io(t,z,q,d)}}l&&Tn(()=>{var J;if(p!==void 0)for(_ of p)(J=_.a)==null||J.apply()}),te.first=t.first&&t.first.e,te.last=g&&g.e}function co(e,t,n,r){(r&yn)!==0&&on(e.v,t),(r&bn)!==0?on(e.i,n):e.i=n}function uo(e,t,n,r,a,o,i,l,c,u){var d=(c&yn)!==0,v=(c&ya)===0,f=d?v?ur(a):mt(a):a,h=(c&bn)===0?i:mt(i),g={i:h,v:f,k:o,a:null,e:null,prev:n,next:r};try{return g.e=ot(()=>l(e,f,h,u),Oa),g.e.prev=n&&n.e,g.e.next=r&&r.e,n===null?t.first=g:(n.next=g,n.e.next=g.e),r!==null&&(r.prev=g,r.e.prev=g.e),g}finally{}}function Un(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,a=t?t.e.nodes_start:n,o=e.e.nodes_start;o!==r;){var i=Yt(o);a.before(o),o=i}}function Fe(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function Ne(e,t,...n){var r=e,a=tr,o;Xt(()=>{a!==(a=t())&&(o&&(Ie(o),o=null),o=ot(()=>a(r,...n)))},Vt)}function Or(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=Or(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function fo(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=Or(e))&&(r&&(r+=" "),r+=t);return r}function re(e){return typeof e=="object"?fo(e):e??""}const zn=[...` 	
\r\f \v\uFEFF`];function vo(e,t,n){var r=e==null?"":""+e;if(t&&(r=r?r+" "+t:t),n){for(var a in n)if(n[a])r=r?r+" "+a:a;else if(r.length)for(var o=a.length,i=0;(i=r.indexOf(a,i))>=0;){var l=i+o;(i===0||zn.includes(r[i-1]))&&(l===r.length||zn.includes(r[l]))?r=(i===0?"":r.substring(0,i))+r.substring(l+1):i=l}}return r===""?null:r}function ho(e,t){return e==null?null:String(e)}function ne(e,t,n,r,a,o){var i=e.__className;if(i!==n||i===void 0){var l=vo(n,r,o);l==null?e.removeAttribute("class"):e.className=l,e.__className=n}else if(o&&a!==o)for(var c in o){var u=!!o[c];(a==null||u!==!!a[c])&&e.classList.toggle(c,u)}return o}function yt(e,t,n,r){var a=e.__style;if(a!==t){var o=ho(t);o==null?e.removeAttribute("style"):e.style.cssText=o,e.__style=t}return r}const go=Symbol("is custom element"),po=Symbol("is html");function Pt(e,t){var n=Dn(e);n.value===(n.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function xt(e,t){var n=Dn(e);n.checked!==(n.checked=t??void 0)&&(e.checked=t)}function ie(e,t,n,r){var a=Dn(e);a[t]!==(a[t]=n)&&(t==="loading"&&(e[ia]=n),n==null?e.removeAttribute(t):typeof n!="string"&&mo(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function Dn(e){return e.__attributes??(e.__attributes={[go]:e.nodeName.includes("-"),[po]:e.namespaceURI===La})}var Vn=new Map;function mo(e){var t=Vn.get(e.nodeName);if(t)return t;Vn.set(e.nodeName,t=[]);for(var n,r=e,a=Element.prototype;a!==r;){n=er(r);for(var o in n)n[o].set&&t.push(o);r=mn(r)}return t}function Ln(e,t,n=t){var r=bt();$a(e,"input",a=>{var o=a?e.defaultValue:e.value;if(o=en(e)?tn(o):o,n(o),r&&o!==(o=t())){var i=e.selectionStart,l=e.selectionEnd;e.value=o??"",l!==null&&(e.selectionStart=i,e.selectionEnd=Math.min(l,e.value.length))}}),st(t)==null&&e.value&&n(en(e)?tn(e.value):e.value),Wt(()=>{var a=t();en(e)&&a===tn(e.value)||e.type==="date"&&!a&&!e.value||a!==e.value&&(e.value=a??"")})}function en(e){var t=e.type;return t==="number"||t==="range"}function tn(e){return e===""?null:+e}function qn(e,t){return e===t||(e==null?void 0:e[Ke])===t}function ge(e={},t,n,r){return Sn(()=>{var a,o;return Wt(()=>{a=o,o=[],st(()=>{e!==n(...o)&&(t(e,...o),a&&qn(n(...a),e)&&t(null,...a))})}),()=>{Tn(()=>{o&&qn(n(...o),e)&&t(null,...o)})}}),e}function Jt(e=!1){const t=oe,n=t.l.u;if(!n)return;let r=()=>Ga(t.s);if(e){let a=0,o={};const i=rt(()=>{let l=!1;const c=t.s;for(const u in c)c[u]!==o[u]&&(o[u]=c[u],l=!0);return l&&a++,a});r=()=>s(i)}n.b.length&&Ia(()=>{Yn(t,r),Ot(n.b)}),ve(()=>{const a=st(()=>n.m.map(na));return()=>{for(const o of a)typeof o=="function"&&o()}}),n.a.length&&ve(()=>{Yn(t,r),Ot(n.a)})}function Yn(e,t){if(e.l.s)for(const n of e.l.s)s(n);t()}let Ct=!1;function _o(e){var t=Ct;try{return Ct=!1,[e(),Ct]}finally{Ct=t}}function Wn(e){var t;return((t=e.ctx)==null?void 0:t.d)??!1}function X(e,t,n,r){var T;var a=(n&ba)!==0,o=!ct||(n&ka)!==0,i=(n&Ea)!==0,l=(n&Ta)!==0,c=!1,u;i?[u,c]=_o(()=>e[t]):u=e[t];var d=Ke in e||sa in e,v=i&&(((T=tt(e,t))==null?void 0:T.set)??(d&&t in e&&(D=>e[t]=D)))||void 0,f=r,h=!0,g=!1,p=()=>(g=!0,h&&(h=!1,l?f=st(r):f=r),f);u===void 0&&r!==void 0&&(v&&o&&va(),u=p(),v&&v(u));var w;if(o)w=()=>{var D=e[t];return D===void 0?p():(h=!0,g=!1,D)};else{var y=(a?rt:sr)(()=>e[t]);y.f|=aa,w=()=>{var D=s(y);return D!==void 0&&(f=void 0),D===void 0?f:D}}if((n&Sa)===0)return w;if(v){var m=e.$$legacy;return function(D,x){return arguments.length>0?((!o||!x||m||c)&&v(x?w():D),D):w()}}var b=!1,_=ur(u),S=rt(()=>{var D=w(),x=s(_);return b?(b=!1,x):_.v=D});return i&&s(S),a||(S.equals=wn),function(D,x){if(arguments.length>0){const F=x?s(S):o&&i?le(D):D;if(!S.equals(F)){if(b=!0,E(_,F),g&&f!==void 0&&(f=F),Wn(S))return D;st(()=>s(S))}return D}return Wn(S)?S.v:s(S)}}function ce(e){oe===null&&Pa(),ct&&oe.l!==null?wo(oe).m.push(e):ve(()=>{const t=st(e);if(typeof t=="function")return t})}function wo(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const yo="5";var $n;typeof window<"u"&&(($n=window.__svelte??(window.__svelte={})).v??($n.v=new Set)).add(yo);let We=B(""),et=B(null);function bo(e){E(We,""),setTimeout(()=>{E(We,e,!0)},16)}var ko=N('<div class="notification svelte-1a2zucn"> </div>');function So(e,t){K(t,!0),ve(()=>{var l,c;s(We),s(We)&&((l=s(et))==null||l.getBoundingClientRect(),(c=s(et))==null||c.style.setProperty("opacity","1"));const o=setTimeout(()=>{var u;(u=s(et))==null||u.style.removeProperty("opacity")},800),i=setTimeout(()=>{var u;E(We,""),(u=s(et))==null||u.style.removeProperty("opacity")},1200);return()=>{clearTimeout(o),clearTimeout(i)}});var n=be(),r=Y(n);{var a=o=>{var i=ko(),l=k(i);ge(i,c=>E(et,c),()=>s(et)),se(()=>Qe(l,s(We))),C(o,i)};U(r,o=>{s(We)&&o(a)})}C(e,n),G()}_a();var Eo=N('<span class="vh svelte-14jjkpd"><!></span>');function Je(e,t){var n=Eo(),r=k(n);Ne(r,()=>t.children),C(e,n)}var To=to('<svg class="svelte-1lqi79o"><use></use></svg>');function pe(e,t){let n=X(t,"name",8,"");var r=To(),a=k(r);se(()=>ie(a,"href",`#icon-${n()??""}`)),C(e,r)}const Mr=(e,t)=>{if(!t)return e;if(t.type==="closed")return{type:"closed"};switch(e.type){case"opened":return t.type==="close"?{type:"closing"}:t.type==="swipe"?{type:"openSwiping"}:e;case"closed":return t.type==="open"?{type:"opening"}:t.type==="swipe"?{type:"closeSwiping"}:e;case"openSwiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"closeSwiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"opening":return t.type==="opened"?{type:"opened"}:e;default:return e}};let un=B(le(Mr({type:"closed"})));const je=e=>{E(un,Mr(s(un),e),!0)},Ar=()=>s(un),Co=()=>{je({type:"open"})},Do=()=>{je({type:"close"})},Lo=()=>{const e=Ar().type;e==="closed"?Co():e==="opened"&&Do()};var Po=N('<button class="buttonMenu svelte-hxzs42"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>');function Br(e,t){K(t,!1),Jt();var n=Po();n.__click=[Lo];var r=k(n);ke(r,()=>({"--size":"28px"})),pe(r.lastChild,{name:"sidebarMenu"});var a=P(r,2);Je(a,{children:(o,i)=>{var l=fe("Menu");C(o,l)}}),C(e,n),G()}we(["click"]);const R=le({historyStack:[],pathname:window.location.pathname,search:window.location.search,historyLength:0}),Ir=()=>{var e;return((e=new URLSearchParams(R.search).get("selectedTags"))==null?void 0:e.split(","))||[]};let Dt=Ir();const xo=()=>{const e=Ir();return e.join(",")===Dt.join(",")||(Dt=e),Dt},Oo=()=>{R.pathname=document.location.pathname,R.search=document.location.search,R.historyLength=Math.max(0,R.historyLength-=1)};window.addEventListener("popstate",Oo);const dn=e=>{const[t,n]=e.split("?");R.pathname=t,R.search=n?`?${n}`:"",R.historyLength+=1,R.historyStack.push(window.location.href),window.history.replaceState(null,"",e)},Mo=e=>{const[t,n]=e.split("?");R.pathname=t,R.search=n?`?${n}`:"",window.history.replaceState(null,"",e)},Rr=(e="/")=>{var r;const[t,n]=e.split("?");if(R.historyLength<=0){const a=window.location.href,[o,i]=a.split("?");if(!i.includes("stackPages"))window.history.replaceState(null,"",e),R.historyLength=0,R.pathname=t,R.search=n?`?${n}`:"";else{const l=new URLSearchParams(i),u=(((r=l.get("stackPages"))==null?void 0:r.split(","))||[]).slice(0,-1);u.length===0?l.delete("stackPages"):l.set("stackPages",u.join(","));const d=`${o}${l.toString()?`?${l.toString()}`:""}`;window.history.replaceState(null,"",d),R.search=l.toString()?`?${l.toString()}`:""}}else if(R.historyStack.length>0){const a=R.historyStack.pop();if(a){const[o,i]=a.split("?");window.history.replaceState(null,"",a),R.historyLength=Math.max(0,R.historyLength-=1),R.pathname=o,R.search=i?`?${i}`:""}}},Zt=()=>{const e=R.historyStack.findIndex(n=>n.includes("stackPages")),t=e===-1?R.historyStack.slice(0):R.historyStack.slice(0,e);if(t.length>0){const n=t.pop();if(n){const[r,a]=n.split("?");window.history.replaceState(null,"",n),R.historyLength=Math.max(0,t.length),R.pathname=r,R.search=a?`?${a}`:"",R.historyStack=t}}else window.history.replaceState(null,"","/"),R.historyLength=0,R.pathname="/",R.search="",R.historyStack=[]},qe=()=>{var e;return((e=new URLSearchParams(R.search).get("stackPages"))==null?void 0:e.split(","))||[]};let nt=B(le(qe()));const dt=e=>{const t=qe();t.push(e);const n=new URLSearchParams(R.search);n.set("stackPages",t.join(",")),E(nt,t,!0),dn(`${R.pathname}?${n.toString()}`)},Nr=()=>{const e=s(nt).slice(0,-1);E(nt,e,!0)},Fr=()=>{const e=qe();return e.length>=s(nt).length?e.reduce((t,n)=>[...t,{page:n,shown:!0}],[]):s(nt).reduce((t,n,r)=>[...t,{page:n,shown:e.length===0?!1:r!==s(nt).length-1}],[])},Ao=e=>{e.preventDefault(),dt("settings")},Bo=e=>{e.preventDefault(),dt("newBookmark")};var Io=N('<a class="addBookmark svelte-1dt9h1e"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Add bookmark</span></a>'),Ro=N('<div class="header svelte-1dt9h1e"><div class="top svelte-1dt9h1e"><div class="desktop svelte-1dt9h1e"><a class="link svelte-1dt9h1e"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Settings</span></a></div> <div class="mobile svelte-1dt9h1e"><!></div> <!></div></div>');function No(e,t){K(t,!0);const n=()=>{const p=qe();p.includes("settings")||p.push("settings");const w=new URLSearchParams(R.search);return w.set("stackPages",p.join(",")),`${R.pathname}?${w}`};let a=Q(()=>{const p=qe();p.includes("newBookmark")||p.push("newBookmark");const w=new URLSearchParams(R.search);return w.set("stackPages",p.join(",")),`${R.pathname}?${w}`}),o=Q(n);var i=Ro(),l=k(i),c=k(l),u=k(c);u.__click=[Ao];var d=k(u);ke(d,()=>({"--size":"20px"})),pe(d.lastChild,{name:"settings"});var v=P(c,2),f=k(v);Br(f,{});var h=P(v,2);{var g=p=>{var w=Io();w.__click=[Bo];var y=k(w);ke(y,()=>({"--size":"24px","--color":"#b0b0b0"})),pe(y.lastChild,{name:"plus"}),se(()=>ie(w,"href",s(a))),C(p,w)};U(h,p=>{R.pathname!=="/settings"&&p(g)})}se(()=>ie(u,"href",s(o))),C(e,i),G()}we(["click"]);const Fo=(e,t)=>{let n=null;return()=>{n&&clearTimeout(n),n=setTimeout(()=>{e()},t)}},jr=()=>window.matchMedia("(max-width: 768px)").matches;let Hr=B(le(jr()));const jo=Fo(()=>{E(Hr,jr(),!0)},16);window.addEventListener("resize",jo);const Et=()=>s(Hr),Pn=le({count:0}),Ho=()=>Pn.count>0,Uo=()=>{Pn.count+=1},zo=()=>{Pn.count-=1},de=le({working:!1,swipingRatio:1,isSwiping:!1,duration:.35});let fn=!1;const nn=()=>{document.activeElement instanceof HTMLInputElement||document.activeElement instanceof HTMLTextAreaElement?fn=!0:fn=!1},xn=()=>fn;function Vo(e,t){K(t,!0);let n=X(t,"dialog",7),r=null;const a=()=>{t.dialogState==="swiping"&&t.onClose()};ve(()=>(t.dialogState==="swiping"&&(r=setTimeout(a,3e3)),()=>{r&&(clearTimeout(r),r=null)}));let o=null,i=null;const l=3,c=50,u=5,d=.6,v=.3,f=.35,h=.95;let g=0,p=0,w=0,y=!1,m=!1,b=0,_=0,S=0;const T=()=>{g=0,p=0,y=!1,m=!1,b=0,_=0,S=0,w=0,o=null,i!==null&&(cancelAnimationFrame(i),i=null),r&&(clearTimeout(r),r=null)},D=M=>{if(!n()){console.warn("Touch start: No dialog element");return}if(t.dialogState!=="opened"){console.warn(`Touch start: Invalid sidebar state: ${t.dialogState}`);return}g=M.touches[0].clientX,p=M.touches[0].clientY,w=performance.now(),y=!0,m=!1},x=M=>t.dialogState==="opened"&&M>0||t.dialogState==="swiping"&&M>0,F=M=>{if(n()){n().style.setProperty("--transition-timing","0s"),t.onSwipe(),navigator.vibrate&&navigator.vibrate(10);try{const j=window.getComputedStyle(n()),J=j.transform||j.webkitTransform||"";if(_=n().offsetWidth,(t.dialogState==="swiping"||t.dialogState==="opened")&&(b=0),J&&J!=="none")try{b=new DOMMatrix(J).m41}catch{console.warn("Could not parse transform matrix, using default position")}m=!0}catch(j){console.error("Error during swipe initialization:",j),T()}}},V=()=>{if(!n())return;const j=Math.abs(b+S*_/100)/_;n().style.setProperty("--backdrop-bg",`rgba(0, 0, 0, ${.1*(1-j)})`)},z=()=>{if(i=null,!o||!y||!n()||xn()){T();return}const M=o.touches[0].clientX,j=o.touches[0].clientY,J=M-g,O=j-p,L=Math.abs(J)>Math.abs(O),H=Math.abs(J)>l;if(!m)if(L&&H&&x(J))try{F(J)}catch(Qt){console.error("Error initializing swipe:",Qt),T();return}else return;if(!x(J))return;n().style.setProperty("--transition-timing","0s");let Z=b+J*h;Z=Math.max(0,Math.min(_,Z)),n().style.transform=`translate3d(${Z}px, 0, 0)`,de.swipingRatio=Math.abs(1-Z/_),S=(Z-b)/_*100,t.dialogState==="swiping"&&(r&&clearTimeout(r),r=setTimeout(a,3e3)),V()},W=M=>{if(!y)return;o=M,i===null&&(i=requestAnimationFrame(z));const j=M.touches[0].clientX-g,J=M.touches[0].clientY-p,O=Math.abs(j)>Math.abs(J);m&&O&&M.preventDefault()},q=M=>{const j=Math.abs(M);if(j>=d)return u;if(j>=v){const J=(j-v)/(d-v);return c-J*(c-u)}else return c},A=(M,j)=>{if(Math.abs(M)>=d)return f*.5;const O=Math.abs(S)/100;return j?f*Math.max(.5,1-O):f*Math.max(.5,O)},I=M=>{var Z,$;if(i!==null&&(cancelAnimationFrame(i),i=null),!y||!n()){T();return}if(!m){T();return}let j=0;if((Z=M==null?void 0:M.changedTouches)!=null&&Z[0]){const ue=M.changedTouches[0].clientX,Tt=performance.now()-w;Tt>0&&(j=(ue-g)/Tt)}const J=q(j);let O=null;t.dialogState==="swiping"&&(O=Math.abs(S)>J||j<-.3?"close":"open");const L=t.dialogState==="swiping"&&O==="close",H=A(j,L);de.duration=H-.02,n().style.setProperty("--transition-timing",`${H}s`),n().offsetWidth,n().style.transform="",O==="open"?t.onOpen():O==="close"&&t.onClose(),($=n())==null||$.style.removeProperty("--backdrop-bg"),T()};ce(()=>(n().addEventListener("touchstart",D,{passive:!0}),n().addEventListener("touchmove",W,{passive:!1}),n().addEventListener("touchend",I,{passive:!0}),n().addEventListener("touchcancel",I,{passive:!0}),()=>{n().removeEventListener("touchstart",D),n().removeEventListener("touchmove",W),n().removeEventListener("touchend",I),n().removeEventListener("touchcancel",I),i!==null&&cancelAnimationFrame(i)})),G()}var qo=(e,t)=>{t.onStartClose()},Yo=N('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),Wo=N('<dialog><div class="dialogInner svelte-sqfwvr"><div class="header svelte-sqfwvr"><div><!></div></div> <!></div></dialog> <!>',1);function Xo(e,t){K(t,!0);let n=350,r=B(null),a=B(null);const o=y=>{y.preventDefault(),t.onStartClose()};ce(()=>{var y,m;return(y=s(r))==null||y.addEventListener("close",t.onClosed),(m=s(r))==null||m.addEventListener("cancel",o),()=>{var b,_;(b=s(r))==null||b.removeEventListener("close",t.onClosed),(_=s(r))==null||_.removeEventListener("cancel",o)}});const i=()=>{var y,m,b;(y=s(r))==null||y.style.removeProperty("--transition-timing"),(m=s(r))==null||m.style.removeProperty("transform"),(b=s(r))==null||b.style.removeProperty("--backdrop-bg")};ve(()=>{var y,m;if(t.dialogState,!!s(r))switch(t.dialogState){case"opening":{s(r).open||s(r).showModal(),s(r).getBoundingClientRect();const b=setTimeout(()=>{i()},n+1),_=()=>{clearTimeout(b),i()};return(y=s(r))==null||y.addEventListener("transitionend",_,{once:!0}),t.onOpened(),()=>{var S;(S=s(r))==null||S.removeEventListener("transitionend",_)}}case"closing":{const b=setTimeout(()=>{t.dialogState==="closing"&&t.onClosed()},n+1),_=()=>{clearTimeout(b),t.onClosed()};return(m=s(r))==null||m.addEventListener("transitionend",_,{once:!0}),()=>{var S;(S=s(r))==null||S.removeEventListener("transitionend",_)}}case"opened":i()}});var l=Wo(),c=Y(l),u=k(c),d=k(u),v=k(d),f=k(v);{var h=y=>{var m=Yo();ne(m,1,re(["navigateButton","buttonBack"]),"svelte-sqfwvr"),m.__click=[qo,t];var b=k(m);ke(b,()=>({"--size":"20px"})),pe(b.lastChild,{name:"back"});var _=P(b,2);Je(_,{children:(S,T)=>{var D=fe("back");C(S,D)}}),C(y,m)};U(f,y=>{t.blocked||t.hidden||y(h)})}var g=P(d,2);Ne(g,()=>t.children),ge(u,y=>E(a,y),()=>s(a)),ge(c,y=>E(r,y),()=>s(r));var p=P(c,2);{var w=y=>{Vo(y,{get onClose(){return t.onStartClose},get onOpen(){return t.onStartOpen},get onSwipe(){return t.onSwipe},get dialogState(){return t.dialogState},get dialog(){return s(r)}})};U(p,y=>{(t.dialogState==="opened"||t.dialogState==="swiping")&&!t.blocked&&y(w)})}se(()=>ne(c,1,re([{open:t.dialogState==="opened",hidden:t.hidden,isAnimationOn:de.working&&(!de.isSwiping||!t.hidden)},{hidden:t.hidden}]),"svelte-sqfwvr")),C(e,l),G()}we(["click"]);const Xn=(e,t)=>{if(!t)return e;if(t.type==="closed")return{type:"closed"};switch(e.type){case"opened":return t.type==="close"?{type:"closing"}:t.type==="swipe"?{type:"swiping"}:e;case"closed":return t.type==="open"?{type:"opening"}:e;case"swiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"opening":return t.type==="opened"?{type:"opened"}:e;default:return e}};function Ko(e,t){K(t,!0);let n=X(t,"blocked",3,!1),r=X(t,"hiddenDialog",3,!1),a=X(t,"onStartClose",3,()=>{}),o=X(t,"onClose",3,()=>{}),i=B(le(Xn({type:"closed"})));const l=w=>{E(i,Xn(s(i),w),!0)},c=()=>{n()||(a()(),l({type:"close"}))},u=()=>{l({type:"open"})},d=()=>{l({type:"opened"}),de.duration=.2},v=()=>{o()(),l({type:"closed"}),de.swipingRatio=1,de.duration=.2},f=()=>{l({type:"swipe"})};ve(()=>{s(i).type==="swiping"?de.isSwiping=!0:de.isSwiping=!1,s(i).type==="closed"&&t.shownDialog?u():s(i).type==="opened"&&!t.shownDialog&&c()});var h=be(),g=Y(h);{var p=w=>{Xo(w,{onSwipe:f,onOpened:d,onClosed:v,onStartClose:c,onStartOpen:u,get dialogState(){return s(i).type},get hidden(){return r()},get blocked(){return n()},children:(y,m)=>{var b=be(),_=Y(b);Ne(_,()=>t.children),C(y,b)},$$slots:{default:!0}})};U(g,w=>{s(i).type!=="closed"&&w(p)})}return C(e,h),G({handleComputeState:l})}const Go=({getDialog:e,onOpen:t,onStartClose:n,onClose:r})=>{const a=i=>{i.preventDefault(),n()},o=()=>{r==null||r()};ce(()=>{const i=e();return i==null||i.addEventListener("cancel",a),i==null||i.addEventListener("close",o),()=>{i==null||i.removeEventListener("cancel",a),i==null||i.removeEventListener("close",o)}}),ce(()=>{const i=e();i==null||i.showModal(),i==null||i.getBoundingClientRect(),t()})};function Ur(e,t){K(t,!0),ce(()=>{const n=r=>{var a;r.target&&((a=t.dialog)!=null&&a.open)&&t.dialogInner&&t.dialogInner!==r.target&&!t.dialogInner.contains(r.target)&&t.onClose()};return document.addEventListener("mousedown",n,{capture:!0}),()=>{document.removeEventListener("mousedown",n,{capture:!0})}}),G()}var Jo=(e,t)=>{t.onStartBack()},Zo=N('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),Qo=(e,t)=>{t.onStartClose()},$o=N('<div><!></div> <div><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button></div>',1),es=N('<dialog><div class="dialogInner svelte-4f242y"><div class="header svelte-4f242y"><!></div> <!></div></dialog> <!>',1);function ts(e,t){K(t,!0);let n=X(t,"blockedDialog",3,!1),r=X(t,"hiddenDialog",3,!1),a=X(t,"isDesktopAnimationOff",3,!1),o=B(null),i=B(null);Go({getDialog:()=>s(o),onOpen:t.onOpen,onStartClose:t.onStartClose,onClose:t.onClose}),ve(()=>{var p,w;t.stateDialog==="closing"&&(de.working?(p=s(o))==null||p.addEventListener("transitionend",()=>{var y;(y=s(o))==null||y.close()},{once:!0}):(w=s(o))==null||w.close())});var l=es(),c=Y(l),u=k(c),d=k(u),v=k(d);{var f=p=>{var w=$o(),y=Y(w),m=k(y);{var b=x=>{var F=Zo();ne(F,1,re(["navigateButton","buttonBack"]),"svelte-4f242y"),F.__click=[Jo,t];var V=k(F);ke(V,()=>({"--size":"20px"})),pe(V.lastChild,{name:"back"});var z=P(V,2);Je(z,{children:(W,q)=>{var A=fe("back");C(W,A)}}),C(x,F)};U(m,x=>{t.onStartBack&&x(b)})}var _=P(y,2),S=k(_);ne(S,1,re(["navigateButton","buttonClose"]),"svelte-4f242y"),S.__click=[Qo,t];var T=k(S);ke(T,()=>({"--size":"20px"})),pe(T.lastChild,{name:"close"});var D=P(T,2);Je(D,{children:(x,F)=>{var V=fe("close");C(x,V)}}),C(p,w)};U(v,p=>{n()||r()||p(f)})}var h=P(d,2);Ne(h,()=>t.children),ge(u,p=>E(i,p),()=>s(i)),ge(c,p=>E(o,p),()=>s(o));var g=P(c,2);Ur(g,{get dialog(){return s(o)},get dialogInner(){return s(i)},get onClose(){return t.onStartClose}}),se(()=>ne(c,1,re([{open:t.stateDialog==="open",isAnimationOn:de.working,isDesktopAnimationOff:a(),hiddenDialog:r()}]),"svelte-4f242y")),C(e,l),G()}we(["click"]);const ns=({onStartClose:e,onClose:t})=>{let n=B("close");return{get state(){return s(n)},set state(i){E(n,i,!0)},handleStartClose:(i=!1)=>{i||(E(n,"closing"),e==null||e())},handleOpen:()=>{E(n,"open")},handleClose:()=>{E(n,"close"),t==null||t()}}};function rs(e,t){K(t,!0);let n=X(t,"blockedDialog",3,!1),r=X(t,"hiddenDialog",3,!1),a=X(t,"onStartClose",3,()=>{}),o=X(t,"onClose",3,()=>{}),i=ns({onStartClose:a(),onClose:o()});ve(()=>{i.state==="close"&&t.shownDialog?i.state="opening":i.state==="open"&&!t.shownDialog&&i.handleStartClose(n())});var l=be(),c=Y(l);{var u=d=>{ts(d,{get stateDialog(){return i.state},get blockedDialog(){return n()},get hiddenDialog(){return r()},get onOpen(){return i.handleOpen},get onStartBack(){return t.onStartBack},onStartClose:()=>{i.handleStartClose(n())},get onClose(){return i.handleClose},children:(v,f)=>{var h=be(),g=Y(h);Ne(g,()=>t.children),C(v,h)},$$slots:{default:!0}})};U(c,d=>{i.state!=="close"&&d(u)})}C(e,l),G()}function zr(e,t){K(t,!0);let n=X(t,"blockedDialog",3,!1),r=X(t,"hiddenDialog",3,!1),a=X(t,"isLastDialog",3,!1),o=X(t,"onStartClose",3,()=>{}),i=X(t,"onClose",3,()=>{});const l=Q(()=>a()?void 0:t.onStartBack);ce(()=>(Uo(),()=>{zo()}));var c=be(),u=Y(c);{var d=f=>{Ko(f,{get shownDialog(){return t.shownDialog},get blocked(){return n()},get hiddenDialog(){return r()},get children(){return t.children},get onStartClose(){return t.onStartBack},get onClose(){return i()}})},v=f=>{rs(f,{get shownDialog(){return t.shownDialog},get blockedDialog(){return n()},get hiddenDialog(){return r()},get children(){return t.children},get onStartBack(){return s(l)},get onStartClose(){return o()},get onClose(){return i()}})};U(u,f=>{Et()?f(d):f(v,!1)})}C(e,c),G()}let Vr=B(!1);const it=e=>{E(Vr,e,!0)},Kn=()=>s(Vr);function Gn(e,t){K(t,!0);let n=X(t,"blocked",3,!1),r=X(t,"isLastDialog",3,!1),a=X(t,"onBack",3,()=>{});const o=Q(()=>n()||t.hidden||Kn()),i=()=>{!s(o)&&t.shown&&(Rr(),a()())},l=()=>{!s(o)&&t.shown&&Zt()},c=()=>{Nr()},u=Q(()=>n()||t.hidden||Kn());zr(e,{get shownDialog(){return t.shown},get blockedDialog(){return s(u)},get hiddenDialog(){return t.hidden},get isLastDialog(){return r()},onStartBack:i,onStartClose:l,onClose:c,children:(d,v)=>{var f=be(),h=Y(f);Ne(h,()=>t.children),C(d,f)},$$slots:{default:!0}}),G()}const qr=()=>crypto.randomUUID(),as="bookmarksStore",os=1,Ee="bookmarks";let ae;window.addEventListener("unhandledrejection",e=>{alert("Error: "+e.reason.message)});const ss=()=>new Promise((e,t)=>{const n=indexedDB.open(as,os);n.addEventListener("upgradeneeded",()=>{const r=n.result;r.objectStoreNames.contains(Ee)||r.createObjectStore(Ee,{keyPath:"id"})}),n.addEventListener("success",()=>{e(),ae=n.result,ae.onversionchange=function(){ae==null||ae.close(),alert("app outdated, please reload the page")}}),n.addEventListener("blocked",()=>{t(),alert("app outdated, please reload the page")}),n.addEventListener("error",()=>{t(),console.error("Error",n.error)})}),Yr=()=>new Promise((e,t)=>{const n=ae==null?void 0:ae.transaction(Ee,"readonly"),r=n==null?void 0:n.objectStore(Ee).getAll();r==null||r.addEventListener("success",()=>{const a=r.result;e(a)}),r==null||r.addEventListener("error",()=>{t()})}),is=async e=>new Promise((t,n)=>{const r=ae==null?void 0:ae.transaction(Ee,"readwrite"),a=r==null?void 0:r.objectStore(Ee),o=a==null?void 0:a.put({...e});o==null||o.addEventListener("success",()=>{t()}),o==null||o.addEventListener("error",()=>{n()})}),ls=async e=>new Promise((t,n)=>{const r=ae==null?void 0:ae.transaction(Ee,"readwrite"),a=r==null?void 0:r.objectStore(Ee),o=a==null?void 0:a.delete(e);o==null||o.addEventListener("success",()=>{t()}),o==null||o.addEventListener("error",()=>{n()})}),cs=()=>new Promise((e,t)=>{const n=ae==null?void 0:ae.transaction(Ee,"readwrite"),r=n==null?void 0:n.objectStore(Ee),a=r==null?void 0:r.clear();a==null||a.addEventListener("success",()=>{e()}),a==null||a.addEventListener("error",()=>{t()})}),us=async()=>{await cs()},ds=async e=>{const t=(await Yr()).reduce((o,i)=>(o[i.id]=i,o),{}),n={},r=ae==null?void 0:ae.transaction(Ee,"readwrite"),a=r==null?void 0:r.objectStore(Ee);e.forEach(o=>{t[o.id]?t[o.id].lastUpdatedTimestamp<o.lastUpdatedTimestamp&&(n[o.id]=o):n[o.id]=o}),await Promise.all(Object.values(n).map(o=>{const i=a==null?void 0:a.put(o);return new Promise((l,c)=>{i==null||i.addEventListener("success",()=>{l()}),i==null||i.addEventListener("error",()=>{c()})})}))},fs=async e=>{const t=ae==null?void 0:ae.transaction(Ee,"readwrite"),n=t==null?void 0:t.objectStore(Ee);await Promise.all(Array.from({length:1e3},(r,a)=>{const o=[];for(let c=0;c<Math.random()*4;c++){const u=(Math.random()*100).toFixed();o.includes(u)||o.push(u)}const i={...e,url:`${e.url}${a}`,order:a,id:qr(),createdTimestamp:Date.now(),lastUpdatedTimestamp:Date.now(),title:o.join("#"),tags:o},l=n==null?void 0:n.put(i);return new Promise((c,u)=>{l==null||l.addEventListener("success",()=>{a%1e4===0&&console.log(`bookmark ${a} done`),c()}),l==null||l.addEventListener("error",()=>{console.log(`bookmark ${a} error`),u()})})}))};let he=B({inited:!1,bookmarks:[],mapBookmarks:new Map});const On=async()=>{const e=await Yr(),t=new Map,n=[];e.forEach(r=>{n[r.order]=r,t.set(r.id,r)}),E(he,{...s(he),bookmarks:n,mapBookmarks:t,inited:!0})};ss().then(async()=>{await On()}).catch(()=>{console.error("failed to init db")});const Ht=()=>s(he).inited,Wr=()=>s(he).bookmarks,vs=()=>s(he).mapBookmarks,hs=async e=>{const t={...e,lastUpdatedTimestamp:Date.now()};s(he).bookmarks[t.order]=t,s(he).mapBookmarks.set(t.id,t),E(he,{...s(he)}),await is(t)},gs=async e=>{await fs(e),await On()},ps=async e=>{const t=s(he).mapBookmarks.get(e);s(he).mapBookmarks.delete(e),s(he).bookmarks[(t==null?void 0:t.order)||0]=void 0,E(he,{...s(he)}),await ls(e)},ms=async()=>{E(he,{inited:!0,bookmarks:[],mapBookmarks:new Map}),await us()},_s=async(e="bookmarks-export.json")=>{const t=JSON.stringify({bookmarks:s(he).bookmarks}),n=new Blob([t],{type:"application/json"}),r=URL.createObjectURL(n),a=document.createElement("a");a.href=r,a.download=e,document.body.appendChild(a),a.click(),setTimeout(()=>{document.body.removeChild(a),URL.revokeObjectURL(r)},0)},Jn=async e=>{await ds(e),await On()};let Xr=B({});const Kr=()=>s(Xr),ws=e=>{E(Xr,e)};var ys=N('<input class="svelte-uertz">');function vn(e,t){K(t,!0);let n=X(t,"value",15,"");var r=ys();se(()=>ie(r,"placeholder",t.placeholder)),Ue("focus",r,function(...a){var o;(o=t.onFocus)==null||o.apply(this,a)}),Ln(r,n),C(e,r),G()}function bs(e,t){K(t,!0);let n=X(t,"dialog",7);const r=3,a=50,o=5,i=.6,l=.3,c=.35,u=.95;let d=0,v=0,f=0,h=!1,g=!1,p=0,w=0,y=0;const m=()=>{d=0,v=0,h=!1,g=!1,p=0,w=0,y=0,f=0,b!==null&&(cancelAnimationFrame(b),b=null),_=null};let b=null,_=null;const S=A=>{if(!n()){console.warn("Touch start: No dialog element");return}if(t.sidebarState!=="opened"&&t.sidebarState!=="closed"){console.warn(`Touch start: Invalid sidebar state: ${t.sidebarState}`);return}d=A.touches[0].clientX,v=A.touches[0].clientY,f=performance.now(),h=!0,g=!1},T=A=>t.sidebarState==="closed"&&A>0||t.sidebarState==="closeSwiping"&&A>0||t.sidebarState==="opened"&&A<0||t.sidebarState==="openSwiping"&&A<0,D=A=>{if(n()){if(n().style.setProperty("--transition-timing","0s"),!n().open&&t.sidebarState==="closed")try{n().showModal(),n().offsetWidth}catch(I){console.error("Error opening dialog:",I);return}t.onSwipe();try{const I=window.getComputedStyle(n()),M=I.transform||I.webkitTransform||"";if(w=n().offsetWidth,t.sidebarState==="closeSwiping"||t.sidebarState==="closed"?p=-w:(t.sidebarState==="openSwiping"||t.sidebarState==="opened")&&(p=0),M&&M!=="none")try{p=new DOMMatrix(M).m41}catch{console.warn("Could not parse transform matrix, using default position")}g=!0}catch(I){console.error("Error during swipe initialization:",I),m()}}},x=()=>{if(!n())return;const I=(Math.abs(p+y*w/100)-w*.3-20)/w;n().style.setProperty("--backdrop-bg",`rgba(0, 0, 0, ${.25*(1-I)})`)},F=()=>{if(b=null,!_||!h||!n()||xn())return;const{x:A,y:I}=_;_=null;const M=A-d,j=I-v,J=Math.abs(M)>Math.abs(j),O=Math.abs(M)>r;if(!g)if(J&&O&&T(M))try{D(M)}catch($){console.error("Error initializing swipe:",$),m();return}else return;if(!T(M))return;n().style.setProperty("--transition-timing","0s");let L=p+M*u;const H=-w;L=Math.max(H,Math.min(0,L)),n().style.transform=`translate3d(${L}px, 0, 0)`,y=(L-p)/w*100,x()},V=A=>{if(!h)return;const I=A.touches[0].clientX,M=A.touches[0].clientY;_={x:I,y:M},b===null&&(b=requestAnimationFrame(F)),g&&Math.abs(I-d)>Math.abs(M-v)&&A.preventDefault()},z=A=>{const I=Math.abs(A);if(I>=i)return o;if(I>=l){const M=(I-l)/(i-l);return a-M*(a-o)}else return a},W=(A,I)=>{if(Math.abs(A)>=i)return c*.5;const j=Math.abs(y)/100;return I?c*Math.max(.5,1-j):c*Math.max(.5,j)},q=A=>{var L,H;if(b!==null&&(cancelAnimationFrame(b),b=null),_=null,!h||!n()){m();return}if(!g){m();return}let I=0;if((L=A==null?void 0:A.changedTouches)!=null&&L[0]){const Z=A.changedTouches[0].clientX,ue=performance.now()-f;ue>0&&(I=(Z-d)/ue)}const M=z(I);let j=null;t.sidebarState==="closeSwiping"?j=Math.abs(y)>M||I>l?"open":"close":t.sidebarState==="openSwiping"&&(j=Math.abs(y)>M||I<-.3?"close":"open");const J=t.sidebarState==="closeSwiping"&&j==="open"||t.sidebarState==="openSwiping"&&j==="close",O=W(I,J);n().style.setProperty("--transition-timing",`${O}s`),n().offsetWidth,n().style.transform="",j==="open"?t.onOpen():j==="close"&&t.onClose(),(H=n())==null||H.style.removeProperty("--backdrop-bg"),m()};ce(()=>(document.addEventListener("touchstart",S,{passive:!0}),document.addEventListener("touchmove",V,{passive:!1}),document.addEventListener("touchend",q,{passive:!0}),document.addEventListener("touchcancel",q,{passive:!0}),()=>{document.removeEventListener("touchstart",S),document.removeEventListener("touchmove",V),document.removeEventListener("touchend",q),document.removeEventListener("touchcancel",q),b!==null&&cancelAnimationFrame(b)})),G()}var ks=N('<dialog><div class="dialogInner svelte-1in1s0g"><!></div></dialog> <!> <!>',1);function Ss(e,t){K(t,!0);let n=350,r=B(null),a=B(null),o=Q(Ar);ve(()=>{Fr().length>0&&je({type:"close"})});const i=()=>{t.blocked||je({type:"close"})},l=()=>{t.blocked||je({type:"open"})},c=()=>{je({type:"opened"})},u=()=>{je({type:"closed"})},d=()=>{je({type:"swipe"})},v=T=>{T.preventDefault(),i()};ce(()=>{var T,D;return(T=s(r))==null||T.addEventListener("close",u),(D=s(r))==null||D.addEventListener("cancel",v),()=>{var x,F;(x=s(r))==null||x.removeEventListener("close",u),(F=s(r))==null||F.removeEventListener("cancel",v)}});const f=()=>{var T,D,x;(T=s(r))==null||T.style.removeProperty("--transition-timing"),(D=s(r))==null||D.style.removeProperty("transform"),(x=s(r))==null||x.style.removeProperty("--backdrop-bg")};ve(()=>{var T,D,x;if(s(o),!!s(r))switch(s(o).type){case"closeSwiping":{const F=setTimeout(()=>{i()},3e3);return()=>{clearTimeout(F)}}case"openSwiping":{const F=setTimeout(()=>{l()},3e3);return()=>{clearTimeout(F)}}case"opening":{s(r).open||s(r).showModal(),s(r).getBoundingClientRect();const F=setTimeout(()=>{f()},n+1),V=()=>{clearTimeout(F),f()};return(T=s(r))==null||T.addEventListener("transitionend",V,{once:!0}),c(),()=>{var z;(z=s(r))==null||z.removeEventListener("transitionend",V)}}case"closing":{const F=setTimeout(()=>{s(o).type==="closing"&&u()},n+1),V=()=>{clearTimeout(F),u()};return(D=s(r))==null||D.addEventListener("transitionend",V,{once:!0}),()=>{var z;(z=s(r))==null||z.removeEventListener("transitionend",V)}}case"closed":(x=s(r))==null||x.close(),f();break;case"opened":f();break}});var h=ks(),g=Y(h),p=k(g),w=k(p);{var y=T=>{var D=be(),x=Y(D);Ne(x,()=>t.children),C(T,D)};U(w,T=>{s(o).type!=="closed"&&T(y)})}ge(p,T=>E(a,T),()=>s(a)),ge(g,T=>E(r,T),()=>s(r));var m=P(g,2);{var b=T=>{Ur(T,{get dialog(){return s(r)},get dialogInner(){return s(a)},onClose:i})};U(m,T=>{s(o).type==="opened"&&!t.blocked&&T(b)})}var _=P(m,2);{var S=T=>{bs(T,{onClose:i,onOpen:l,onSwipe:d,get sidebarState(){return s(o).type},get dialog(){return s(r)}})};U(_,T=>{(s(o).type==="closed"||s(o).type==="opened"||s(o).type==="openSwiping"||s(o).type==="closeSwiping")&&!t.blocked&&T(S)})}se(()=>ne(g,1,re([{open:s(o).type==="opened",hidden:t.blocked,isAnimationOn:de.working&&(!de.isSwiping||!t.blocked)}]),"svelte-1in1s0g")),C(e,h),G()}var Es=N("<button> </button>");function Xe(e,t){var n=Es();n.__click=function(...a){var o;(o=t.onClick)==null||o.apply(this,a)};var r=k(n);se(()=>{ie(n,"type",t.type),ne(n,1,re([{selectedTag:t.style==="selected"}]),"svelte-hsbyyy"),Qe(r,t.title)}),C(e,n)}we(["click"]);const Ts=e=>{e.preventDefault(),dt("settings")};var Cs=N("<div></div>"),Ds=N('<div class="sidebarFixed svelte-ri1xjn"><div class="nav svelte-ri1xjn"><!> <a class="link svelte-ri1xjn"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Settings</span></a></div> <div class="searchWrapper svelte-ri1xjn"><!></div> <!></div> <div></div>',1),Ls=N("<div></div>"),Ps=N('<div class="sidebar svelte-ri1xjn"><div class="sidebarFixed svelte-ri1xjn"><div class="searchWrapper svelte-ri1xjn"><!></div> <!></div> <div class="tags svelte-ri1xjn"></div></div>');function xs(e,t){K(t,!0);let n=B(null),r=B(""),a=Q(()=>{var p;return((p=new URLSearchParams(R.search).get("selectedTags"))==null?void 0:p.split(","))||[]});const o=()=>{const p=qe();p.includes("settings")||p.push("settings");const w=new URLSearchParams(R.search);return w.set("stackPages",p.join(",")),`${R.pathname}?${w}`},i=p=>{const w=new URLSearchParams(R.search);w.set("selectedTags",[...s(a),p].join(",")),dn(`${R.pathname}${w.size>0?`?${w.toString()}`:""}`),E(r,"")},l=p=>{const w=new URLSearchParams(R.search),y=s(a).filter(m=>m!==p);y.length===0?w.delete("selectedTags"):w.set("selectedTags",y.join(",")),dn(`${R.pathname}${w.size>0?`?${w.toString()}`:""}`)};let c=Q(()=>Ht()?Object.values(Kr()).filter(p=>!s(a).some(w=>p.name===w)):[]),u=Q(o),d=Q(()=>qe().length>0||Ho());var v=be(),f=Y(v);{var h=p=>{Ss(p,{get blocked(){return s(d)},children:(w,y)=>{var m=Ds(),b=Y(m),_=k(b),S=k(_);Br(S,{});var T=P(S,2);T.__click=[Ts];var D=k(T);ke(D,()=>({"--size":"20px"})),pe(D.lastChild,{name:"settings"});var x=P(_,2),F=k(x);vn(F,{placeholder:"Search tag",get value(){return s(r)},set value(q){E(r,q,!0)}});var V=P(x,2);{var z=q=>{var A=Cs();ne(A,1,re(["tags","selectedTags"]),"svelte-ri1xjn"),Ae(A,20,()=>s(a),I=>I,(I,M)=>{Xe(I,{get title(){return M},onClick:()=>l(M),style:"selected"})}),ge(A,I=>E(n,I),()=>s(n)),C(q,A)};U(V,q=>{s(a).length>0&&q(z)})}var W=P(b,2);ne(W,1,re(["tags","tagsWrapper"]),"svelte-ri1xjn"),Ae(W,21,()=>s(c),q=>q.name,(q,A)=>{var I=be(),M=Y(I);{var j=J=>{Xe(J,{get title(){return s(A).name},onClick:()=>i(s(A).name)})};U(M,J=>{(s(r)===""||s(A).name.toLowerCase().indexOf(s(r).toLowerCase())!==-1)&&J(j)})}C(q,I)}),se(q=>{ie(T,"href",s(u)),yt(W,`min-height: height: calc(100dvh - 190px - ${q??""}px);`)},[()=>s(n)?s(n).getBoundingClientRect().height:0]),C(w,m)},$$slots:{default:!0}})},g=p=>{var w=Ps(),y=k(w),m=k(y),b=k(m);vn(b,{placeholder:"Search tag",get value(){return s(r)},set value(D){E(r,D,!0)}});var _=P(m,2);{var S=D=>{var x=Ls();ne(x,1,re(["tags","selectedTags"]),"svelte-ri1xjn"),Ae(x,20,()=>s(a),F=>F,(F,V)=>{Xe(F,{get title(){return V},onClick:()=>l(V),style:"selected"})}),C(D,x)};U(_,D=>{s(a).length>0&&D(S)})}var T=P(y,2);Ae(T,21,()=>s(c),D=>D.name,(D,x)=>{var F=be(),V=Y(F);{var z=W=>{Xe(W,{get title(){return s(x).name},onClick:()=>i(s(x).name)})};U(V,W=>{(s(r)===""||s(x).name.toLowerCase().indexOf(s(r).toLowerCase())!==-1)&&W(z)})}C(D,F)}),C(p,w)};U(f,p=>{Et()?p(h):p(g,!1)})}C(e,v),G()}we(["click"]);var Os=N('<div class="input-container svelte-hz572l"><input> <div class="error-message svelte-hz572l"><!></div></div>');function rn(e,t){K(t,!0);let n=X(t,"value",15,""),r=X(t,"error",3,"");var a=Os(),o=k(a);o.__input=function(...d){var v;(v=t.onInput)==null||v.apply(this,d)};let i;var l=P(o,2),c=k(l);{var u=d=>{var v=fe();se(()=>Qe(v,r())),C(d,v)};U(c,d=>{r()&&d(u)})}se(d=>{ie(o,"placeholder",t.placeholder),i=ne(o,1,"svelte-hz572l",null,i,d)},[()=>({error:!!r()})]),Ue("blur",o,function(...d){var v;(v=t.onBlur)==null||v.apply(this,d)}),Ue("focus",o,function(...d){var v;(v=t.onFocus)==null||v.apply(this,d)}),Ln(o,n),C(e,a),G()}we(["input"]);var Ms=N("<div></div>"),As=N('<form class="svelte-wqwsb3"><!> <!> <textarea placeholder="notes" class="svelte-wqwsb3"></textarea> <div class="boxtags"><div class="sidebarFixed"><!></div> <div class="tags svelte-wqwsb3"><!> <!></div> <div class="searchWrapper svelte-wqwsb3"><!></div></div> <button class="buttonSubmit svelte-wqwsb3" type="submit"> </button></form>');function Gr(e,t){K(t,!0);let n=X(t,"initialTitle",3,""),r=X(t,"initialUrl",3,""),a=X(t,"initialDescription",3,""),o=X(t,"initialTags",19,()=>[]),i=X(t,"mode",3,"add"),l=B(""),c=B(le(n())),u=B(le(r())),d=B(le(a())),v=B(le(o().filter(L=>L!=="inbox")));const f=L=>{s(v).includes(L)||E(v,[...s(v),L],!0)},h=L=>{const H=s(v).filter(Z=>Z!==L);H.length===0?E(v,[],!0):E(v,H,!0)};let g=Q(()=>Ht()?[...Wr().reduce((L,H)=>(H==null||H.tags.forEach(Z=>{L.has(Z)||L.add(Z)}),L),new Set)]:[]),p=Q(()=>Ht()?s(g).filter(L=>!s(v).some(H=>L===H)&&L!=="inbox"):[]),w=Q(()=>s(p).find(L=>L.toLowerCase()===s(l).toLowerCase())||s(v).includes(s(l))),y=Q(()=>s(p).filter(L=>s(l)===""?!0:L.toLowerCase().indexOf(s(l).toLowerCase())!==-1).slice(0,s(w)||s(l)===""?3:2));const m=L=>{L.preventDefault(),t.onSubmit({title:s(c).trim().slice(0,256)||"unkwown",url:s(u).trim().slice(0,2048),description:s(d).trim().slice(0,2048),tags:s(v).length>0?s(v):["inbox"]})};var b=As(),_=k(b);rn(_,{placeholder:"url",get value(){return s(u)},set value(L){E(u,L,!0)}});var S=P(_,2);rn(S,{placeholder:"title",get value(){return s(c)},set value(L){E(c,L,!0)}});var T=P(S,2),D=P(T,2),x=k(D),F=k(x);{var V=L=>{var H=Ms();ne(H,1,re(["tags","selectedTags"]),"svelte-wqwsb3"),Ae(H,20,()=>s(v),Z=>Z,(Z,$)=>{Xe(Z,{get title(){return $},onClick:()=>h($),type:"button",style:"selected"})}),C(L,H)};U(F,L=>{s(v).length>0&&L(V)})}var z=P(x,2),W=k(z);{var q=L=>{var H=be(),Z=Y(H);Ae(Z,16,()=>s(y),$=>$,($,ue)=>{Xe($,{get title(){return ue},onClick:()=>f(ue)})}),C(L,H)};U(W,L=>{s(l)!==""&&L(q)})}var A=P(W,2);{var I=L=>{Xe(L,{get title(){return s(l)},onClick:()=>{f(s(l)),E(l,"")}})};U(A,L=>{!s(w)&&s(l)!==""&&L(I)})}var M=P(z,2),j=k(M);rn(j,{placeholder:"search tag",get value(){return s(l)},set value(L){E(l,L,!0)}});var J=P(D,2),O=k(J);se(()=>Qe(O,i()==="add"?"add":"edit")),Ue("submit",b,m),Ln(T,()=>s(d),L=>E(d,L)),C(e,b),G()}function Bs(e,t){K(t,!0);let n=B(!0);const r=()=>{t.onClose()},a=()=>{E(n,!1)},o=({title:i,url:l,description:c,tags:u})=>{hs({...t.bookmark,title:i,url:l,description:c,tags:u.map(d=>d.trim())}),a()};zr(e,{get shownDialog(){return s(n)},onClose:r,children:(i,l)=>{Gr(i,{get initialTitle(){return t.bookmark.title},get initialUrl(){return t.bookmark.url},get initialDescription(){return t.bookmark.description},get initialTags(){return t.bookmark.tags},onSubmit:o,mode:"edit"})},$$slots:{default:!0}}),G()}const Is=(e,t,n)=>{const r=Kr();t.bookmark.tags.forEach(a=>{if(s(n).includes(a)&&r[a].connections===1){const o=new URLSearchParams(R.search),i=s(n).filter(l=>l!==a);i.length===0?o.delete("selectedTags"):o.set("selectedTags",i.join(",")),Mo(`${R.pathname}${o.size>0?`?${o.toString()}`:""}`)}}),ps(t.bookmark.id)},Rs=(e,t)=>{E(t,!0)};var Ns=N('<div><button class="menuButton svelte-j5rwpt">Edit</button> <button class="menuButton svelte-j5rwpt">Delete</button></div> <!>',1);function Fs(e,t){K(t,!0);let n=X(t,"menu",15),r=X(t,"shownMenu",15),a=B(!1),o=Q(()=>{var g;return((g=new URLSearchParams(R.search).get("selectedTags"))==null?void 0:g.split(","))||[]});const i=g=>{var p;g.target!==n()&&!((p=n())!=null&&p.contains(g.target))&&r(!1)};ce(()=>(document.addEventListener("focusin",i),()=>{document.removeEventListener("focusin",i)})),ve(()=>{r()&&n()?(n().style.setProperty("display","flex"),n().getBoundingClientRect(),n().style.setProperty("opacity","1"),n().style.setProperty("transform","scale(1)")):n()&&(n().style.removeProperty("opacity"),n().style.removeProperty("transform"),n().getBoundingClientRect(),n().addEventListener("transitionend",()=>{!r()&&n()&&n().style.removeProperty("display")},{once:!0}))});const l=()=>{E(a,!1)};var c=Ns(),u=Y(c),d=k(u);d.__click=[Rs,a];var v=P(d,2);v.__click=[Is,t,o],ge(u,g=>n(g),()=>n());var f=P(u,2);{var h=g=>{Bs(g,{get bookmark(){return t.bookmark},onClose:l})};U(f,g=>{s(a)&&g(h)})}se(()=>ne(u,1,re(["bookmarkMenu",{showMenuUp:t.showMenuUp}]),"svelte-j5rwpt")),C(e,c),G()}we(["click"]);const js=(e,t)=>{E(t,!s(t))},Hs=(e,t)=>{navigator.clipboard.writeText(t.bookmark.url),bo("Link copied to clipboard")},Us=(e,t)=>{E(t,!0)},zs=(e,t)=>{E(t,!1)};var Vs=N('<li class="bookmark svelte-y0qjzh"><img class="bookmarkIcon" height="16" width="16" alt="icon"> <a class="bookmarkLink svelte-y0qjzh" target="_blank" rel="noopener noreferrer"> </a> <div class="spacer svelte-y0qjzh"></div> <div><button class="button svelte-y0qjzh"><!> <!></button> <button><!> <!></button> <!></div></li>');function qs(e,t){K(t,!0);let n=B(!1),r=B(!1),a=B(null),o=null;const i=_=>{var S;_.target!==o&&_.target!==s(a)&&!((S=s(a))!=null&&S.contains(_.target))&&E(r,!1)};ce(()=>(document.addEventListener("click",i),()=>{document.removeEventListener("click",i)}));const l=_=>{try{return`https://external-content.duckduckgo.com/ip3/${new URL(_).host}.ico`}catch{return""}};var c=Vs();c.__focusin=[Us,n],c.__focusout=[zs,n];var u=k(c),d=P(u,2),v=k(d),f=P(d,4),h=k(f);h.__click=[Hs,t];var g=k(h);pe(g,{name:"copy"});var p=P(g,2);Je(p,{children:(_,S)=>{var T=fe("copy link");C(_,T)}});var w=P(h,2);w.__click=[js,r],ne(w,1,re(["button","buttonMenu"]),"svelte-y0qjzh");var y=k(w);pe(y,{name:"menu"});var m=P(y,2);Je(m,{children:(_,S)=>{var T=fe("show menu");C(_,T)}}),ge(w,_=>E(a,_),()=>s(a));var b=P(w,2);Fs(b,{get menu(){return o},get bookmark(){return t.bookmark},get showMenuUp(){return t.showMenuUp},get shownMenu(){return s(r)},set shownMenu(_){E(r,_,!0)}}),se(_=>{ie(u,"src",_),ie(d,"tabindex",t.focusHidden?-1:0),ie(d,"href",t.bookmark.url),Qe(v,t.bookmark.title),ne(f,1,re(["bookmarkMenuWrapper",{bookmarkMenuWrapperActive:s(n)}]),"svelte-y0qjzh"),ie(h,"tabindex",t.focusHidden?-1:0),ie(w,"tabindex",t.focusHidden?-1:0)},[()=>l(t.bookmark.url)]),C(e,c),G()}we(["focusin","focusout","click"]);const ht=le({ref:null}),Ys=(e,t)=>{s(t)&&s(t).scrollTo({top:0,behavior:"smooth"})};var Ws=N('<div class="emptyMessage svelte-146z9is">No bookmarks found</div>'),Xs=N('<div class="wrapperButtonTop svelte-146z9is"><button class="buttonTop svelte-146z9is"><!> <svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></button></div>'),Ks=N('<div class="searchWrapper svelte-146z9is"><!></div> <div class="wrapperFeed svelte-146z9is"><div class="wrapperContainer svelte-146z9is"><div class="feed svelte-146z9is"><ul class="svelte-146z9is"></ul> <!></div></div></div> <!>',1);function Gs(e,t){K(t,!0);let n=B(null),r=50,a=B(0),o=B(0),i=B(0),l=B(le([])),c=B(""),u=Q(()=>Et()?s(n):ht.ref),d=null,v=null,f=B(!1),h=0;const g=Q(xo);ve(()=>{var O;s(c),s(g),(O=s(u))==null||O.scrollTo(0,0)});const p=()=>{if(s(u)){const O=s(u).scrollTop||0;O===0?E(f,!1):!s(f)&&h>O?E(f,!0):s(f)&&h<O&&E(f,!1),h=O}},w=()=>{d||(d=requestAnimationFrame(()=>{var H;p();const O=((H=s(u))==null?void 0:H.scrollTop)||0;E(i,O,!0);const L=Math.ceil(s(a)/r);E(o,Math.floor(O/(r*L))*(r*L)),d=null}))},y=()=>{v||(v=requestAnimationFrame(()=>{var H;p(),E(a,window.innerHeight-180||0,!0);const O=((H=s(u))==null?void 0:H.scrollTop)||0;E(i,O,!0);const L=Math.ceil(s(a)/r);E(o,Math.floor(O/(r*L))*(r*L)),v=null}))};ce(()=>{y(),w()}),ve(()=>{var O;return(O=s(u))==null||O.addEventListener("scroll",w),window.addEventListener("resize",y),()=>{var L;(L=s(u))==null||L.removeEventListener("scroll",w),window.removeEventListener("resize",y)}}),ve(()=>{const O=Wr(),L=[],H={};for(let Z=O.length-1;Z>=0;Z--){const $=O[Z];if($&&!(s(g).length&&s(g).some(ue=>!$.tags.includes(ue)))&&!(s(c)&&!($.title.toLowerCase().includes(s(c).toLowerCase())||$.url.toLowerCase().includes(s(c).toLowerCase())||$.description.toLowerCase().includes(s(c).toLowerCase())))){if($.tags)for(const ue of $.tags)H[ue]?H[ue].connections++:H[ue]={name:ue,connections:1};L.push($)}}ws(H),E(l,L,!0)});const m=Q(()=>s(l).length*r);let _=Q(()=>{const O=Math.ceil(s(a)/r);let L=Math.floor(s(o)/r);return L=L-Math.min(L,O),s(l).slice(L,L+O*3)}),S=Q(()=>r*Math.ceil(s(a)/r));const T=Q(()=>s(o)-Math.min(s(o),s(S))),D=()=>{s(u)&&s(u).scrollTo({top:0,behavior:"smooth"})};var x=Ks(),F=Y(x),V=k(F);vn(V,{onFocus:D,placeholder:"Search",get value(){return s(c)},set value(O){E(c,O,!0)}});var z=P(F,2),W=k(z),q=k(W),A=k(q);Ae(A,23,()=>s(_),O=>O.id,(O,L,H)=>{const Z=Q(()=>s(H)*r<s(i)-s(T)-r/2||s(H)*r>s(i)-s(T)+Math.floor(s(a)/r)*r),$=Q(()=>(s(H)+3)*r<s(i)-s(T)-r/2||(s(H)+3)*r>s(i)-s(T)+Math.floor(s(a)/r)*r);qs(O,{get focusHidden(){return s(Z)},get showMenuUp(){return s($)},get bookmark(){return s(L)}})});var I=P(A,2);{var M=O=>{var L=Ws();C(O,L)};U(I,O=>{s(_).length===0&&Ht()&&O(M)})}ge(W,O=>E(n,O),()=>s(n));var j=P(z,2);{var J=O=>{var L=Xs(),H=k(L);H.__click=[Ys,u];var Z=k(H);Je(Z,{children:(ue,Qt)=>{var Tt=fe("top");C(ue,Tt)}});var $=P(Z,2);ke($,()=>({"--size":"22px"})),pe($.lastChild,{name:"up"}),C(O,L)};U(j,O=>{s(f)&&O(J)})}se(O=>{yt(q,`min-height: ${O??""}px`),yt(A,`transform: translateY(${s(T)??""}px);`)},[()=>Math.max((s(m)>s(a),s(m)),50)]),C(e,x),G()}we(["click"]);var Js=N('<!> <div class="content svelte-cu0ar8"><!></div>',1);function Zs(e){var t=Js(),n=Y(t);xs(n,{});var r=P(n,2),a=k(r);Gs(a,{}),C(e,t)}var Ye=(e=>(e.Light="light",e.System="system",e.Dark="dark",e))(Ye||{});let Jr=B(le(localStorage.getItem("colorScheme")||"system"));const Qs=e=>{localStorage.setItem("colorScheme",e),e==="system"?window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.dataset.colorScheme="dark":document.documentElement.dataset.colorScheme="light":document.documentElement.dataset.colorScheme=e,E(Jr,e,!0)},$s=()=>s(Jr);var ei=N('<div class="wrapper svelte-f3jwyy"><fieldset class="switcher svelte-f3jwyy"><legend class="vh svelte-f3jwyy">Color Scheme</legend> <input id="light" type="radio" aria-label="Light"> <label for="light" title="Light" aria-label="Light"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <input id="system" type="radio" aria-label="System"> <label for="system" title="System" aria-label="System"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <input id="dark" type="radio" aria-label="Dark"> <label for="dark" title="Dark" aria-label="Dark"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <div class="wrapSwitcherStatus svelte-f3jwyy"><div class="switcherStatus svelte-f3jwyy"></div></div></fieldset></div>');function ti(e,t){K(t,!0);const n=Q($s),r=w=>{const y=w.target.value;Qs(y)},a="color-scheme-switcher";var o=ei(),i=k(o),l=P(k(i),2);ne(l,1,re(["vh","input"]),"svelte-f3jwyy"),ie(l,"name",a),l.__change=r;var c=P(l,2);ne(c,1,re(["switcherButton","light"]),"svelte-f3jwyy");var u=k(c);ke(u,()=>({"--size":"20px"})),pe(u.lastChild,{name:"sun"});var d=P(c,2);ne(d,1,re(["vh","input"]),"svelte-f3jwyy"),ie(d,"name",a),d.__change=r;var v=P(d,2);ne(v,1,re(["switcherButton","system"]),"svelte-f3jwyy");var f=k(v);ke(f,()=>({"--size":"14px"})),pe(f.lastChild,{name:"a"});var h=P(v,2);ne(h,1,re(["vh","input"]),"svelte-f3jwyy"),ie(h,"name",a),h.__change=r;var g=P(h,2);ne(g,1,re(["switcherButton","dark"]),"svelte-f3jwyy");var p=k(g);return ke(p,()=>({"--size":"20px"})),pe(p.lastChild,{name:"moon"}),se(()=>{Pt(l,Ye.Light),xt(l,s(n)===Ye.Light),Pt(d,Ye.System),xt(d,s(n)===Ye.System),Pt(h,Ye.Dark),xt(h,s(n)===Ye.Dark)}),C(e,o),G({handleChange:r})}we(["change"]);const ni=()=>{dt("importBookmarks")},ri=()=>{dt("exportBookmarks")},ai=()=>{dt("clearStore")};var oi=N('<div class="version svelte-1cryup1"><span> </span></div>'),si=N('<div class="svelte-1cryup1"><!> <ul class="svelte-1cryup1"><li class="svelte-1cryup1"><button class="button svelte-1cryup1"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1cryup1">import bookmarks</span></button></li> <li class="svelte-1cryup1"><button class="button svelte-1cryup1"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1cryup1">export bookmarks</span></button></li> <li class="svelte-1cryup1"><button class="button svelte-1cryup1"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1cryup1">clear store</span></button></li></ul> <!></div>');function ii(e,t){K(t,!0);let n=B("");ce(()=>{const y=new AbortController;return fetch("/build-metadata.json",{signal:y.signal}).then(m=>m.json()).then(m=>{E(n,`${m.buildHash}`)}),()=>{y.abort()}});var r=si(),a=k(r);ti(a,{});var o=P(a,2),i=k(o),l=k(i);l.__click=[ni];var c=k(l);ke(c,()=>({"--size":"20px"})),pe(c.lastChild,{name:"import"});var u=P(i,2),d=k(u);d.__click=[ri];var v=k(d);ke(v,()=>({"--size":"20px"})),pe(v.lastChild,{name:"export"});var f=P(u,2),h=k(f);h.__click=[ai];var g=k(h);ke(g,()=>({"--size":"20px"})),pe(g.lastChild,{name:"trash"});var p=P(o,2);{var w=y=>{var m=oi(),b=k(m),_=k(b);se(S=>Qe(_,`version: 0.0.1 build_date: "${S??""}" build_hash:
				${s(n)??""}`),[()=>new Date(1746442590532).toISOString().replaceAll("T"," ").replace(/\..*/,"")]),C(y,m)};U(p,y=>{s(n)&&y(w)})}C(e,r),G()}we(["click"]);function li(e,t){K(t,!1);const n=()=>{Rr()},r=({title:a,url:o,description:i,tags:l})=>{gs({title:a,url:o,description:i,tags:l.map(c=>c.trim())}),n()};Jt(),Gr(e,{onSubmit:r}),G()}var ci=N('<button type="button"><!></button>');function ze(e,t){let n=X(t,"type",3,"standard");var r=ci();r.__click=function(...o){var i;(i=t.onClick)==null||i.apply(this,o)};var a=k(r);Ne(a,()=>t.children),se(()=>ne(r,1,re(["button",{dangerous:n()==="dangerous"}]),"svelte-1vemsn")),C(e,r)}we(["click"]);var ui=N('<div class="loader svelte-1ygr46m"></div>');function Mn(e){var t=ui();C(e,t)}const hn=(e,t,n,r=new Set,a={})=>{var o,i;for(const l of e.children)if(l.tagName==="DT"){const c=l.querySelector(":scope > A"),u=l.querySelector(":scope > H3");if(c){const d=c.getAttribute("href"),v=c.textContent||"unknown";if(!d)return n;const f=t.find(h=>h.toLowerCase()==="bookmarks bar")?t.filter(h=>h.toLowerCase()!=="bookmarks bar"):["other"];if(a[d])a[d].tags=[...new Set([...a[d].tags,...f])];else{const h={id:qr(),order:n.length,url:d,title:v,description:"",tags:f.length>0?f:[],lastUpdatedTimestamp:Date.now(),createdTimestamp:Date.now()};a[h.url]=h,n.push(h)}}else if(u){const d=(o=u.textContent)==null?void 0:o.trim();if(d&&((i=u.nextElementSibling)==null?void 0:i.tagName)==="DL"){const v=[...t];v.push(d);const f=u.nextElementSibling;r.has(f)||(r.add(f),hn(f,v,n,r,a))}}}else l.tagName!=="DL"&&l.children.length>0&&(r.has(l)||(r.add(l),hn(l,[...t],n,r,a)));return n},di=async e=>{const t=await e.text(),a=new DOMParser().parseFromString(t,"text/html").querySelector("DL");return a?hn(a,[],[]):[]},fi=e=>{const t=Math.floor(Date.now()/1e3),n={};e.forEach(a=>{const o=a.tags||["Imported"];if(o.length===0){n.ROOT||(n.ROOT=[]),n.ROOT.push(a);return}o.forEach(i=>{n[i]||(n[i]=[]),n[i].push(a)})});let r=`<!DOCTYPE NETSCAPE-Bookmark-file-1>
<!-- This is an automatically generated file.
 It will be read and overwritten.
 DO NOT EDIT! -->
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8">
<TITLE>Bookmarks</TITLE>
<H1>Bookmarks</H1>
<DL><p>
<DT><H3 ADD_DATE="${t}" LAST_MODIFIED="${t}" PERSONAL_TOOLBAR_FOLDER="true">Bookmarks Bar</H3>
<DL><p>`;return Object.keys(n).forEach(a=>{a!=="ROOT"&&a!=="other"&&(r+=`
	<DT><H3 ADD_DATE="${t}" LAST_MODIFIED="${t}">${a}</H3>
	<DL><p>`,n[a].forEach(o=>{const i=o.title.replace(/"/g,"&quot;");r+=`
		<DT><A HREF="${o.url}" ADD_DATE="${Math.floor(o.createdTimestamp/1e3)||t}">${i}</A>`}),r+=`
	</DL><p>`)}),n.ROOT&&n.ROOT.forEach(a=>{const o=a.title.replace(/"/g,"&quot;");r+=`
	<DT><A HREF="${a.url}" ADD_DATE="${Math.floor(a.createdTimestamp/1e3)||t}">${o}</A>`}),r+=`
</DL><p>`,n.other&&n.other.forEach(a=>{const o=a.title.replace(/"/g,"&quot;");r+=`
	<DT><A HREF="${a.url}" ADD_DATE="${Math.floor(a.createdTimestamp/1e3)||t}">${o}</A>`}),r+="</DL><p>",r},Zn=async(e,t)=>{const n=e.target;!n.files||n.files.length===0||await t(n.files[0])};var vi=N('<div class="mobileContainer svelte-1n1lt8i"><!></div> <input type="file" accept=".json, .html" style="display: none;">',1),hi=N('<div class="desktopContainer svelte-1n1lt8i"><div class="desktopButtonContainer svelte-1n1lt8i"><!></div> <div role="button" tabindex="-1"><div tabindex="-1" class="dropzone-content svelte-1n1lt8i"><p class="svelte-1n1lt8i">Drag and drop your file here</p> <p class="svelte-1n1lt8i">or</p></div> <input type="file" accept=".json, .html" style="display: none;"></div></div>'),gi=N('<p class="message svelte-1n1lt8i">Select a file to import your bookmarks</p> <!>',1),pi=N('<p class="message svelte-1n1lt8i">Importing bookmarks...</p> <!>',1),mi=N('<p class="message success svelte-1n1lt8i">Bookmarks imported successfully!</p> <div class="buttonContainer svelte-1n1lt8i"><!></div>',1),_i=N('<p class="message error svelte-1n1lt8i">Something went wrong</p> <div class="buttonContainer svelte-1n1lt8i"><!></div>',1),wi=N('<div class="content svelte-1n1lt8i"><!></div>');function yi(e,t){K(t,!0);let n=B("idle"),r=B(null),a=B(!1),o=B(null);const i=()=>{Zt()};ve(()=>{it(s(n)==="loading")}),ce(()=>(s(r)&&s(r).addEventListener("cancel",m=>{m.preventDefault(),m.stopImmediatePropagation(),m.stopPropagation()}),()=>{it(!1)}));const l=async m=>{const b=await m.text(),_=JSON.parse(b),S=[];if(!_.bookmarks)throw new Error("Invalid import file format");for(const T of Object.values(_.bookmarks))T&&S.push(T);await Jn(S)},c=async m=>{E(n,"loading");try{if(m.name.endsWith(".json"))await l(m);else if(m.name.endsWith(".html"))await Jn(await di(m));else throw new Error("Unsupported file format. Please upload a JSON or HTML file.");await new Promise(b=>{setTimeout(()=>{b(!0)},1e3)}),E(n,"success")}catch{E(n,"error")}},u=()=>{var m;(m=s(r))==null||m.click()},d=m=>{m.preventDefault(),m.stopPropagation(),E(a,!0)},v=m=>{m.preventDefault(),m.stopPropagation(),E(a,!1)},f=m=>{m.preventDefault(),m.stopPropagation(),E(a,!0)},h=async m=>{var _;if(m.preventDefault(),m.stopPropagation(),E(a,!1),!((_=m.dataTransfer)!=null&&_.files)||m.dataTransfer.files.length===0)return;const b=m.dataTransfer.files[0];if(b.type!=="application/json"&&b.type!=="text/html"){E(n,"error");return}await c(b)};var g=wi(),p=k(g);{var w=m=>{var b=gi(),_=P(Y(b),2);{var S=D=>{var x=vi(),F=Y(x),V=k(F);ze(V,{onClick:u,children:(W,q)=>{var A=fe("Select File");C(W,A)},$$slots:{default:!0}});var z=P(F,2);z.__change=[Zn,c],ge(z,W=>E(r,W),()=>s(r)),C(D,x)},T=D=>{var x=hi(),F=k(x),V=k(F);ze(V,{onClick:u,children:(q,A)=>{var I=fe("Select File");C(q,I)},$$slots:{default:!0}});var z=P(F,2),W=P(k(z),2);W.__change=[Zn,c],ge(W,q=>E(r,q),()=>s(r)),ge(z,q=>E(o,q),()=>s(o)),se(()=>ne(z,1,re(["dropzone",{active:s(a)}]),"svelte-1n1lt8i")),Ue("dragenter",z,d),Ue("dragover",z,f),Ue("dragleave",z,v),Ue("drop",z,h),C(D,x)};U(_,D=>{Et()?D(S):D(T,!1)})}C(m,b)},y=(m,b)=>{{var _=T=>{var D=pi(),x=P(Y(D),2);Mn(x),C(T,D)},S=(T,D)=>{{var x=V=>{var z=mi(),W=P(Y(z),2),q=k(W);ze(q,{onClick:i,children:(A,I)=>{var M=fe("close");C(A,M)},$$slots:{default:!0}}),C(V,z)},F=(V,z)=>{{var W=q=>{var A=_i(),I=P(Y(A),2),M=k(I);ze(M,{onClick:()=>{E(n,"idle")},children:(j,J)=>{var O=fe("Try Again");C(j,O)},$$slots:{default:!0}}),C(q,A)};U(V,q=>{s(n)==="error"&&q(W)},z)}};U(T,V=>{s(n)==="success"?V(x):V(F,!1)},D)}};U(m,T=>{s(n)==="loading"?T(_):T(S,!1)},b)}};U(p,m=>{s(n)==="idle"?m(w):m(y,!1)})}C(e,g),G()}we(["change"]);const bi=(e,t,n)=>{t(e.target.value),n.onChange(t())};var ki=N('<input type="radio"> <label> </label>',1),Si=N('<div class="wrapper svelte-1065asd"><fieldset class="switcher svelte-1065asd"><!> <div class="wrapSwitcherStatus svelte-1065asd"><div class="switcherStatus svelte-1065asd"></div></div></fieldset></div>');function Ei(e,t){const n=no();K(t,!0);let r=X(t,"value",7);const a=`switcher-${n}`;var o=Si(),i=k(o),l=k(i);Ae(l,17,()=>t.items,d=>d.title,(d,v)=>{var f=ki(),h=Y(f);ne(h,1,re(["vh","input"]),"svelte-1065asd"),ie(h,"name",a),h.__change=[bi,r,t];var g=P(h,2);ne(g,1,re(["switcherButton"]),"svelte-1065asd");var p=k(g);se(()=>{ie(h,"id",`${s(v).title}-${n}`),Pt(h,s(v).value),xt(h,s(v).value===r()),ie(h,"aria-label",s(v).title),ie(g,"for",`${s(v).title}-${n}`),ie(g,"title",s(v).title),ie(g,"aria-label",s(v).title),Qe(p,s(v).value)}),C(d,f)});var c=P(l,2),u=k(c);se(d=>yt(u,d),[()=>`transform: translateX(${t.items.findIndex(d=>d.value===r())*100}%)`]),C(e,o),G()}we(["change"]);var Ti=N('<p class="message svelte-1pyr83d">Export bookmarks</p> <div class="format-switcher svelte-1pyr83d"><!> <p class="format-description svelte-1pyr83d"><!></p></div> <div class="buttonContainer svelte-1pyr83d"><!></div>',1),Ci=N('<p class="message svelte-1pyr83d">Exporting data...</p> <div class="buttonContainer svelte-1pyr83d"><!></div>',1),Di=N('<p class="message svelte-1pyr83d">Bookmarks exported successfully!</p> <div class="buttonContainer svelte-1pyr83d"><!></div>',1),Li=N('<div class="content svelte-1pyr83d"><!></div>');function Pi(e,t){K(t,!0);let n=B("idle"),r=B("html");const a=()=>{Zt()};ve(()=>{it(s(n)==="loading")}),ce(()=>()=>{it(!1)});const o=async()=>{E(n,"loading"),setTimeout(async()=>{if(s(r)==="json")await _s().finally(()=>{E(n,"success")});else try{const d=fi(vs()),v=new Blob([d],{type:"text/html"}),f=URL.createObjectURL(v),h=document.createElement("a");h.href=f,h.download=`bookmarks_${new Date().toLocaleDateString().replace(/\//g,"_")}.html`,document.body.appendChild(h),h.click(),document.body.removeChild(h),URL.revokeObjectURL(f),E(n,"success")}catch(d){console.error("Error exporting as HTML:",d),E(n,"success")}},0)};var i=Li(),l=k(i);{var c=d=>{var v=Ti(),f=P(Y(v),2),h=k(f);Ei(h,{items:[{title:"HTML",value:"html"},{title:"JSON",value:"json"}],get value(){return s(r)},onChange:_=>{E(r,_,!0)}});var g=P(h,2),p=k(g);{var w=_=>{var S=fe("JSON format (App compatible, a faster format)");C(_,S)},y=_=>{var S=fe("HTML format (Browser compatible)");C(_,S)};U(p,_=>{s(r)==="json"?_(w):_(y,!1)})}var m=P(f,2),b=k(m);ze(b,{onClick:o,children:(_,S)=>{var T=fe("Export");C(_,T)},$$slots:{default:!0}}),C(d,v)},u=(d,v)=>{{var f=g=>{var p=Ci(),w=P(Y(p),2),y=k(w);Mn(y),C(g,p)},h=(g,p)=>{{var w=y=>{var m=Di(),b=P(Y(m),2),_=k(b);ze(_,{onClick:a,children:(S,T)=>{var D=fe("Close");C(S,D)},$$slots:{default:!0}}),C(y,m)};U(g,y=>{s(n)==="success"&&y(w)},p)}};U(d,g=>{s(n)==="loading"?g(f):g(h,!1)},v)}};U(l,d=>{s(n)==="idle"?d(c):d(u,!1)})}C(e,i),G()}var xi=N('<p class="message svelte-49o1d">Are you sure you want to clear the store?</p> <div class="buttonContainer svelte-49o1d"><!></div>',1),Oi=N('<p class="message svelte-49o1d">clearing store...</p> <div class="buttonContainer svelte-49o1d"><!></div>',1),Mi=N('<p class="message svelte-49o1d">store cleared</p> <div class="buttonContainer svelte-49o1d"><!></div>',1),Ai=N('<div class="content svelte-49o1d"><!></div>');function Bi(e,t){K(t,!0);let n=B("idle");const r=()=>{Zt()};ve(()=>{it(s(n)==="loading")}),ce(()=>()=>{it(!1)});const a=()=>{E(n,"loading"),ms().finally(()=>{setTimeout(()=>{E(n,"success")},1e3)})};var o=Ai(),i=k(o);{var l=u=>{var d=xi(),v=P(Y(d),2),f=k(v);ze(f,{onClick:a,type:"dangerous",children:(h,g)=>{var p=fe("Clear store");C(h,p)},$$slots:{default:!0}}),C(u,d)},c=(u,d)=>{{var v=h=>{var g=Oi(),p=P(Y(g),2),w=k(p);Mn(w),C(h,g)},f=(h,g)=>{{var p=w=>{var y=Mi(),m=P(Y(y),2),b=k(m);ze(b,{onClick:r,children:(_,S)=>{var T=fe("Close");C(_,T)},$$slots:{default:!0}}),C(w,y)};U(h,w=>{s(n)==="success"&&w(p)},g)}};U(u,h=>{s(n)==="loading"?h(v):h(f,!1)},d)}};U(i,u=>{s(n)==="idle"?u(l):u(c,!1)})}C(e,o),G()}var Ii=N('<div class="svelte-t4bw1y"><!></div>');function ft(e,t){K(t,!0);let n=B(null);ce(()=>{s(n)&&(s(n).getBoundingClientRect(),s(n).style.opacity="1")});var r=Ii(),a=k(r);Ne(a,()=>t.children),ge(r,o=>E(n,o),()=>s(n)),C(e,r),G()}const Qn=(e,t=tr)=>{var n=be(),r=Y(n);{var a=i=>{ft(i,{children:(l,c)=>{ii(l,{})},$$slots:{default:!0}})},o=(i,l)=>{{var c=d=>{ft(d,{children:(v,f)=>{li(v,{})},$$slots:{default:!0}})},u=(d,v)=>{{var f=g=>{ft(g,{children:(p,w)=>{yi(p,{})},$$slots:{default:!0}})},h=(g,p)=>{{var w=m=>{ft(m,{children:(b,_)=>{Pi(b,{})},$$slots:{default:!0}})},y=(m,b)=>{{var _=S=>{ft(S,{children:(T,D)=>{Bi(T,{})},$$slots:{default:!0}})};U(m,S=>{t()==="clearStore"&&S(_)},b)}};U(g,m=>{t()==="exportBookmarks"?m(w):m(y,!1)},p)}};U(d,g=>{t()==="importBookmarks"?g(f):g(h,!1)},v)}};U(i,d=>{t()==="newBookmark"?d(c):d(u,!1)},l)}};U(r,i=>{t()==="settings"?i(a):i(o,!1)})}C(e,n)};var Ri=N("<!> <!>",1);function Ni(e,t){K(t,!0);let n=Q(Fr);var r=Ri(),a=Y(r);Zs(a);var o=P(a,2);{var i=c=>{var u=be(),d=Y(u);Ae(d,17,()=>s(n),so,(v,f,h)=>{const g=Q(()=>{var p;return h!==s(n).length-1&&!!((p=s(n)[h+1])!=null&&p.shown)});Gn(v,{get shown(){return s(f).shown},get hidden(){return s(g)},children:(p,w)=>{Qn(p,()=>s(f).page)},$$slots:{default:!0}})}),C(c,u)},l=(c,u)=>{{var d=v=>{const f=Q(()=>s(n).length===1);Gn(v,{onBack:()=>Nr(),get shown(){return s(n)[s(n).length-1].shown},hidden:!1,get isLastDialog(){return s(f)},children:(h,g)=>{Qn(h,()=>s(n)[s(n).length-1].page)},$$slots:{default:!0}})};U(c,v=>{s(n).length>0&&v(d)},u)}};U(o,c=>{Et()?c(i):c(l,!1)})}C(e,r),G()}function Fi(){const e=navigator.userAgent;if(!(/iPad|iPhone|iPod/.test(e)&&!window.MSStream))return!1;const n=/Safari/.test(e)&&!/Chrome/.test(e)&&!/CriOS/.test(e)&&!/FxiOS/.test(e),r=/Macintosh/.test(e)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>1;return!!n||!!r}const Zr=Fi();function ji(e,t){K(t,!1),ce(()=>{nn(),document.addEventListener("focusin",nn),document.addEventListener("focusout",nn),document.addEventListener("touchmove",function(n){xn()&&Zr&&n.preventDefault()},{passive:!1})}),Jt(),G()}function Hi(e,t){K(t,!1);let n=0;ce(()=>{const r=document.querySelector("div");r&&Zr&&r.addEventListener("touchstart",a=>{a.pageX>20&&a.pageX<window.innerWidth-20||a.preventDefault()}),document.addEventListener("touchstart",a=>{n=a.touches[0].clientX},{passive:!1}),document.addEventListener("touchmove",a=>{const i=a.touches[0].clientX-n;(n<50&&i>0||n>window.innerWidth-50&&i<0)&&a.preventDefault()},{passive:!1}),document.addEventListener("touchend",()=>{n=0}),document.addEventListener("touchcancel",()=>{n=0})}),Jt(),G()}var Ui=N('<!> <!> <!> <main><!> <div class="container svelte-ngsolt"><!></div></main>',1);function zi(e,t){K(t,!0),ce(async()=>{await new Promise(v=>setTimeout(v,100)),await Xa(),de.working=!0});let n=Q(()=>qe().length>0);var r=Ui(),a=Y(r);Hi(a,{});var o=P(a,2);ji(o,{});var i=P(o,2);So(i,{});var l=P(i,2),c=k(l);No(c,{});var u=P(c,2),d=k(u);Ni(d,{}),ge(l,v=>ht.ref=v,()=>ht==null?void 0:ht.ref),se(()=>{yt(l,`--swiping-ratio: ${de.swipingRatio}; --transition-timing-default: ${de.duration}s;`),ne(l,1,re(["main",{isAnimationOn:de.working&&!de.isSwiping,open:s(n)}]),"svelte-ngsolt")}),C(e,r),G()}ro(zi,{target:document.getElementById("app")});
