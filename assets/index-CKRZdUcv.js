const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/MobileDialog-6-3bTvpC.js","assets/MobileDialog-DemsJRVL.css","assets/DesktopDialog-DLP7jky9.js","assets/DesktopDialog-D8zTl_PA.css","assets/MobileSidebar-B7d5bDDX.js","assets/MobileSidebar-BNh7a5G6.css","assets/ImportData-B8j2cEK0.js","assets/ImportData-CZGzVRRc.css","assets/ExportData-BcIQglOO.js","assets/Switcher-BCnLAnAh.js","assets/Switcher-BrVng3kJ.css","assets/ExportData-SlkOBNhU.css","assets/ClearStore-BbnwFmq1.js","assets/ClearStore-DiVqV26R.css","assets/Signup-CXTwGW6H.js","assets/api-7nXQQ8YG.js","assets/Signup-CnX7iJxK.css","assets/Signin-C90YuTDp.js","assets/AccessKeys-B4A161tG.js","assets/AccessKeys-DF5NA1tk.css","assets/ConfirmAccessKey-Cy2eilrh.js","assets/Input-DFCFdcK5.js","assets/Input-B5Z7Girm.css","assets/ConfirmAccessKey-BEOXyioc.css","assets/NewNote-C_P_FvxS.js","assets/NewNote-C8Q5vP2H.css"])))=>i.map(i=>d[i]);
var io=Object.defineProperty;var Ca=e=>{throw TypeError(e)};var lo=(e,t,n)=>t in e?io(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Mn=(e,t,n)=>lo(e,typeof t!="symbol"?t+"":t,n),Dr=(e,t,n)=>t.has(e)||Ca("Cannot "+n);var j=(e,t,n)=>(Dr(e,t,"read from private field"),n?n.call(e):t.get(e)),xe=(e,t,n)=>t.has(e)?Ca("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),je=(e,t,n,r)=>(Dr(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),It=(e,t,n)=>(Dr(e,t,"access private method"),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();const Ka=!1;var ta=Array.isArray,co=Array.prototype.indexOf,na=Array.from,jr=Object.defineProperty,vn=Object.getOwnPropertyDescriptor,Va=Object.getOwnPropertyDescriptors,uo=Object.prototype,fo=Array.prototype,ra=Object.getPrototypeOf,Na=Object.isExtensible;const zt=()=>{};function vo(e){return typeof e?.then=="function"}function ho(e){return e()}function dr(e){for(var t=0;t<e.length;t++)e[t]()}function po(){var e,t,n=new Promise((r,s)=>{e=r,t=s});return{promise:n,resolve:e,reject:t}}function _o(e,t,n=!1){return e===void 0?n?t():t:e}const Re=2,aa=4,mr=8,Gn=16,_t=32,Gt=64,Wa=128,Ke=256,vr=512,ge=1024,Ve=2048,At=4096,et=8192,Jt=16384,sa=32768,Jn=65536,xa=1<<17,go=1<<18,oa=1<<19,ia=1<<20,Hr=1<<21,la=1<<22,qt=1<<23,Ut=Symbol("$state"),mo=Symbol("legacy props"),wo=Symbol(""),ca=new class extends Error{constructor(){super(...arguments);Mn(this,"name","StaleReactionError");Mn(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function yo(){throw new Error("https://svelte.dev/e/await_outside_boundary")}function bo(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function So(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function ko(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Eo(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Po(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Co(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function No(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function xo(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Ao(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Lo(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}const wr=1,yr=2,Ya=4,To=8,Do=16,Io=1,Mo=2,Oo=4,Ro=8,Bo=16,qo=1,Uo=2,re=Symbol(),$o="http://www.w3.org/1999/xhtml";let Fo=!1;function Ga(e){return e===this.v}function jo(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Ja(e){return!jo(e,this.v)}let Pn=!1,Ho=!1;function zo(){Pn=!0}let ee=null;function yn(e){ee=e}function Y(e,t=!1,n){ee={p:ee,c:null,e:null,s:e,x:null,l:Pn&&!t?{s:null,u:null,$:[]}:null}}function G(e){var t=ee,n=t.e;if(n!==null){t.e=null;for(var r of n)fs(r)}return e!==void 0&&(t.x=e),ee=t.p,e??{}}function Zt(){return!Pn||ee!==null&&ee.l===null}const Ko=new WeakMap;function Vo(e){var t=$;if(t===null)return q.f|=qt,e;if((t.f&sa)===0){if((t.f&Wa)===0)throw!t.parent&&e instanceof Error&&Za(e),e;t.b.error(e)}else ua(e,t)}function ua(e,t){for(;t!==null;){if((t.f&Wa)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e instanceof Error&&Za(e),e}function Za(e){const t=Ko.get(e);t&&(jr(e,"message",{value:t.message}),jr(e,"stack",{value:t.stack}))}let $n=[],zr=[];function Xa(){var e=$n;$n=[],dr(e)}function Wo(){var e=zr;zr=[],dr(e)}function br(e){$n.length===0&&queueMicrotask(Xa),$n.push(e)}function Yo(){$n.length>0&&Xa(),zr.length>0&&Wo()}function Go(){for(var e=$.b;e!==null&&!e.has_pending_snippet();)e=e.parent;return e===null&&yo(),e}function Zn(e){var t=Re|Ve,n=q!==null&&(q.f&Re)!==0?q:null;return $===null||n!==null&&(n.f&Ke)!==0?t|=Ke:$.f|=oa,{ctx:ee,deps:null,effects:null,equals:Ga,f:t,fn:e,reactions:null,rv:0,v:re,wv:0,parent:n??$,ac:null}}function Jo(e,t){let n=$;n===null&&So();var r=n.b,s=void 0,a=Wt(re),i=null,c=!q;return li(()=>{try{var l=e()}catch(v){l=Promise.reject(v)}var u=()=>l;s=i?.then(u,u)??Promise.resolve(l),i=s;var f=V,h=r.pending;c&&(r.update_pending_count(1),h||f.increment());const d=(v,p=void 0)=>{i=null,h||f.activate(),p?p!==ca&&(a.f|=qt,Pt(a,p)):((a.f&qt)!==0&&(a.f^=qt),Pt(a,v)),c&&(r.update_pending_count(-1),h||f.decrement()),ts()};if(s.then(d,v=>d(null,v||"unknown")),f)return()=>{queueMicrotask(()=>f.neuter())}}),new Promise(l=>{function u(f){function h(){f===s?l(a):u(s)}f.then(h,h)}u(s)})}function T(e){const t=Zn(e);return gs(t),t}function Sr(e){const t=Zn(e);return t.equals=Ja,t}function Qa(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)ut(t[n])}}function Zo(e){for(var t=e.parent;t!==null;){if((t.f&Re)===0)return t;t=t.parent}return null}function fa(e){var t,n=$;ft(Zo(e));try{Qa(e),t=bs(e)}finally{ft(n)}return t}function es(e){var t=fa(e);if(e.equals(t)||(e.v=t,e.wv=ws()),!Qt)if(bn!==null)bn.set(e,e.v);else{var n=(kt||(e.f&Ke)!==0)&&e.deps!==null?At:ge;Ae(e,n)}}function Xo(e,t,n){const r=Zt()?Zn:Sr;if(t.length===0){n(e.map(r));return}var s=V,a=$,i=Qo(),c=Go();Promise.all(t.map(l=>Jo(l))).then(l=>{s?.activate(),i();try{n([...e.map(r),...l])}catch(u){(a.f&Jt)===0&&ua(u,a)}s?.deactivate(),ts()}).catch(l=>{c.error(l)})}function Qo(){var e=$,t=q,n=ee;return function(){ft(e),We(t),yn(n)}}function ts(){ft(null),We(null),yn(null)}const On=new Set;let V=null,cr=null,bn=null,Aa=new Set,hr=[];function ns(){const e=hr.shift();hr.length>0&&queueMicrotask(ns),e()}let Kt=[],kr=null,Kr=!1,ur=!1;var _n,gn,bt,Kn,Vn,Rt,mn,Bt,St,wn,Wn,Yn,tt,rs,fr,Vr;const gr=class gr{constructor(){xe(this,tt);Mn(this,"current",new Map);xe(this,_n,new Map);xe(this,gn,new Set);xe(this,bt,0);xe(this,Kn,null);xe(this,Vn,!1);xe(this,Rt,[]);xe(this,mn,[]);xe(this,Bt,[]);xe(this,St,[]);xe(this,wn,[]);xe(this,Wn,[]);xe(this,Yn,[]);Mn(this,"skipped_effects",new Set)}process(t){Kt=[],cr=null;var n=null;if(On.size>1){n=new Map,bn=new Map;for(const[a,i]of this.current)n.set(a,{v:a.v,wv:a.wv}),a.v=i;for(const a of On)if(a!==this)for(const[i,c]of j(a,_n))n.has(i)||(n.set(i,{v:i.v,wv:i.wv}),i.v=c)}for(const a of t)It(this,tt,rs).call(this,a);if(j(this,Rt).length===0&&j(this,bt)===0){It(this,tt,Vr).call(this);var r=j(this,Bt),s=j(this,St);je(this,Bt,[]),je(this,St,[]),je(this,wn,[]),cr=V,V=null,La(r),La(s),V===null?V=this:On.delete(this),j(this,Kn)?.resolve()}else It(this,tt,fr).call(this,j(this,Bt)),It(this,tt,fr).call(this,j(this,St)),It(this,tt,fr).call(this,j(this,wn));if(n){for(const[a,{v:i,wv:c}]of n)a.wv<=c&&(a.v=i);bn=null}for(const a of j(this,Rt))Un(a);for(const a of j(this,mn))Un(a);je(this,Rt,[]),je(this,mn,[])}capture(t,n){j(this,_n).has(t)||j(this,_n).set(t,n),this.current.set(t,t.v)}activate(){V=this}deactivate(){V=null,cr=null;for(const t of Aa)if(Aa.delete(t),t(),V!==null)break}neuter(){je(this,Vn,!0)}flush(){Kt.length>0?ss():It(this,tt,Vr).call(this),V===this&&(j(this,bt)===0&&On.delete(this),this.deactivate())}increment(){je(this,bt,j(this,bt)+1)}decrement(){if(je(this,bt,j(this,bt)-1),j(this,bt)===0){for(const t of j(this,Wn))Ae(t,Ve),Vt(t);for(const t of j(this,Yn))Ae(t,At),Vt(t);je(this,Bt,[]),je(this,St,[]),this.flush()}else this.deactivate()}add_callback(t){j(this,gn).add(t)}settled(){return(j(this,Kn)??je(this,Kn,po())).promise}static ensure(){if(V===null){const t=V=new gr;On.add(V),ur||gr.enqueue(()=>{V===t&&t.flush()})}return V}static enqueue(t){hr.length===0&&queueMicrotask(ns),hr.unshift(t)}};_n=new WeakMap,gn=new WeakMap,bt=new WeakMap,Kn=new WeakMap,Vn=new WeakMap,Rt=new WeakMap,mn=new WeakMap,Bt=new WeakMap,St=new WeakMap,wn=new WeakMap,Wn=new WeakMap,Yn=new WeakMap,tt=new WeakSet,rs=function(t){t.f^=ge;for(var n=t.first;n!==null;){var r=n.f,s=(r&(_t|Gt))!==0,a=s&&(r&ge)!==0,i=a||(r&et)!==0||this.skipped_effects.has(n);if(!i&&n.fn!==null){if(s)n.f^=ge;else if((r&ge)===0)if((r&aa)!==0)j(this,St).push(n);else if((r&la)!==0){var c=n.b?.pending?j(this,mn):j(this,Rt);c.push(n)}else Pr(n)&&((n.f&Gn)!==0&&j(this,wn).push(n),Un(n));var l=n.first;if(l!==null){n=l;continue}}var u=n.parent;for(n=n.next;n===null&&u!==null;)n=u.next,u=u.parent}},fr=function(t){for(const n of t)((n.f&Ve)!==0?j(this,Wn):j(this,Yn)).push(n),Ae(n,ge);t.length=0},Vr=function(){if(!j(this,Vn))for(const t of j(this,gn))t();j(this,gn).clear()};let Fn=gr;function as(e){var t=ur;ur=!0;try{for(var n;;){if(Yo(),Kt.length===0&&(V?.flush(),Kt.length===0))return kr=null,n;ss()}}finally{ur=t}}function ss(){var e=pn;Kr=!0;try{var t=0;for(Da(!0);Kt.length>0;){var n=Fn.ensure();if(t++>1e3){var r,s;ei()}n.process(Kt),$t.clear()}}finally{Kr=!1,Da(e),kr=null}}function ei(){try{Co()}catch(e){ua(e,kr)}}function La(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if((r.f&(Jt|et))===0&&Pr(r)){var s=V?V.current.size:0;if(Un(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?hs(r):r.fn=null),V!==null&&V.current.size>s&&(r.f&ia)!==0)break}}for(;n<t;)Vt(e[n++])}}function Vt(e){for(var t=kr=e;t.parent!==null;){t=t.parent;var n=t.f;if(Kr&&t===$&&(n&Gn)!==0)return;if((n&(Gt|_t))!==0){if((n&ge)===0)return;t.f^=ge}}Kt.push(t)}const $t=new Map;function Wt(e,t){var n={f:0,v:e,reactions:null,equals:Ga,rv:0,wv:0};return n}function I(e,t){const n=Wt(e);return gs(n),n}function Wr(e,t=!1,n=!0){var s;const r=Wt(e);return t||(r.equals=Ja),Pn&&n&&ee!==null&&ee.l!==null&&((s=ee.l).s??(s.s=[])).push(r),r}function k(e,t,n=!1){q!==null&&(!ot||(q.f&xa)!==0)&&Zt()&&(q.f&(Re|Gn|la|xa))!==0&&!ht?.includes(e)&&Lo();let r=n?ie(t):t;return Pt(e,r)}function Pt(e,t){if(!e.equals(t)){var n=e.v;Qt?$t.set(e,t):$t.set(e,n),e.v=t;var r=Fn.ensure();r.capture(e,n),(e.f&Re)!==0&&((e.f&Ve)!==0&&fa(e),Ae(e,(e.f&Ke)===0?ge:At)),e.wv=ws(),os(e,Ve),Zt()&&$!==null&&($.f&ge)!==0&&($.f&(_t|Gt))===0&&(ze===null?fi([e]):ze.push(e))}return t}function Ir(e){k(e,e.v+1)}function os(e,t){var n=e.reactions;if(n!==null)for(var r=Zt(),s=n.length,a=0;a<s;a++){var i=n[a],c=i.f;if(!(!r&&i===$)){var l=(c&Ve)===0;l&&Ae(i,t),(c&Re)!==0?os(i,At):l&&Vt(i)}}}function ie(e){if(typeof e!="object"||e===null||Ut in e)return e;const t=ra(e);if(t!==uo&&t!==fo)return e;var n=new Map,r=ta(e),s=I(0),a=jt,i=c=>{if(jt===a)return c();var l=q,u=jt;We(null),Ma(a);var f=c();return We(l),Ma(u),f};return r&&n.set("length",I(e.length)),new Proxy(e,{defineProperty(c,l,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&xo();var f=n.get(l);return f===void 0?f=i(()=>{var h=I(u.value);return n.set(l,h),h}):k(f,u.value,!0),!0},deleteProperty(c,l){var u=n.get(l);if(u===void 0){if(l in c){const f=i(()=>I(re));n.set(l,f),Ir(s)}}else k(u,re),Ir(s);return!0},get(c,l,u){if(l===Ut)return e;var f=n.get(l),h=l in c;if(f===void 0&&(!h||vn(c,l)?.writable)&&(f=i(()=>{var v=ie(h?c[l]:re),p=I(v);return p}),n.set(l,f)),f!==void 0){var d=o(f);return d===re?void 0:d}return Reflect.get(c,l,u)},getOwnPropertyDescriptor(c,l){var u=Reflect.getOwnPropertyDescriptor(c,l);if(u&&"value"in u){var f=n.get(l);f&&(u.value=o(f))}else if(u===void 0){var h=n.get(l),d=h?.v;if(h!==void 0&&d!==re)return{enumerable:!0,configurable:!0,value:d,writable:!0}}return u},has(c,l){if(l===Ut)return!0;var u=n.get(l),f=u!==void 0&&u.v!==re||Reflect.has(c,l);if(u!==void 0||$!==null&&(!f||vn(c,l)?.writable)){u===void 0&&(u=i(()=>{var d=f?ie(c[l]):re,v=I(d);return v}),n.set(l,u));var h=o(u);if(h===re)return!1}return f},set(c,l,u,f){var h=n.get(l),d=l in c;if(r&&l==="length")for(var v=u;v<h.v;v+=1){var p=n.get(v+"");p!==void 0?k(p,re):v in c&&(p=i(()=>I(re)),n.set(v+"",p))}if(h===void 0)(!d||vn(c,l)?.writable)&&(h=i(()=>I(void 0)),k(h,ie(u)),n.set(l,h));else{d=h.v!==re;var g=i(()=>ie(u));k(h,g)}var m=Reflect.getOwnPropertyDescriptor(c,l);if(m?.set&&m.set.call(f,u),!d){if(r&&typeof l=="string"){var w=n.get("length"),y=Number(l);Number.isInteger(y)&&y>=w.v&&k(w,y+1)}Ir(s)}return!0},ownKeys(c){o(s);var l=Reflect.ownKeys(c).filter(h=>{var d=n.get(h);return d===void 0||d.v!==re});for(var[u,f]of n)f.v!==re&&!(u in c)&&l.push(u);return l},setPrototypeOf(){Ao()}})}var Ta,is,ls,cs;function ti(){if(Ta===void 0){Ta=window,is=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;ls=vn(t,"firstChild").get,cs=vn(t,"nextSibling").get,Na(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Na(n)&&(n.__t=void 0)}}function Xt(e=""){return document.createTextNode(e)}function Sn(e){return ls.call(e)}function Er(e){return cs.call(e)}function S(e,t){return Sn(e)}function C(e,t){{var n=Sn(e);return n instanceof Comment&&n.data===""?Er(n):n}}function A(e,t=1,n=!1){let r=e;for(;t--;)r=Er(r);return r}function ni(e){e.textContent=""}function da(){return!1}function us(e){$===null&&q===null&&Po(),q!==null&&(q.f&Ke)!==0&&$===null&&Eo(),Qt&&ko()}function ri(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function dt(e,t,n,r=!0){var s=$;s!==null&&(s.f&et)!==0&&(e|=et);var a={ctx:ee,deps:null,nodes_start:null,nodes_end:null,f:e|Ve,first:null,fn:t,last:null,next:null,parent:s,b:s&&s.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{Un(a),a.f|=sa}catch(l){throw ut(a),l}else t!==null&&Vt(a);var i=n&&a.deps===null&&a.first===null&&a.nodes_start===null&&a.teardown===null&&(a.f&oa)===0;if(!i&&r&&(s!==null&&ri(a,s),q!==null&&(q.f&Re)!==0&&(e&Gt)===0)){var c=q;(c.effects??(c.effects=[])).push(a)}return a}function ai(e){const t=dt(mr,null,!1);return Ae(t,ge),t.teardown=e,t}function it(e){us();var t=$.f,n=!q&&(t&_t)!==0&&(t&sa)===0;if(n){var r=ee;(r.e??(r.e=[])).push(e)}else return fs(e)}function fs(e){return dt(aa|ia,e,!1)}function si(e){return us(),dt(mr|ia,e,!0)}function oi(e){Fn.ensure();const t=dt(Gt,e,!0);return(n={})=>new Promise(r=>{n.outro?Ft(t,()=>{ut(t),r(void 0)}):(ut(t),r(void 0))})}function ii(e){return dt(aa,e,!1)}function li(e){return dt(la|oa,e,!0)}function va(e,t=0){return dt(mr|t,e,!0)}function ae(e,t=[],n=[]){Xo(t,n,r=>{dt(mr,()=>e(...r.map(o)),!0)})}function Xn(e,t=0){var n=dt(Gn|t,e,!0);return n}function lt(e,t=!0){return dt(_t,e,!0,t)}function ds(e){var t=e.teardown;if(t!==null){const n=Qt,r=q;Ia(!0),We(null);try{t.call(null)}finally{Ia(n),We(r)}}}function vs(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){n.ac?.abort(ca);var r=n.next;(n.f&Gt)!==0?n.parent=null:ut(n,t),n=r}}function ci(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&_t)===0&&ut(t),t=n}}function ut(e,t=!0){var n=!1;(t||(e.f&go)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(ui(e.nodes_start,e.nodes_end),n=!0),vs(e,t&&!n),pr(e,0),Ae(e,Jt);var r=e.transitions;if(r!==null)for(const a of r)a.stop();ds(e);var s=e.parent;s!==null&&s.first!==null&&hs(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function ui(e,t){for(;e!==null;){var n=e===t?null:Er(e);e.remove(),e=n}}function hs(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function Ft(e,t){var n=[];ha(e,n,!0),ps(n,()=>{ut(e),t&&t()})}function ps(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var s of e)s.out(r)}else t()}function ha(e,t,n){if((e.f&et)===0){if(e.f^=et,e.transitions!==null)for(const i of e.transitions)(i.is_global||n)&&t.push(i);for(var r=e.first;r!==null;){var s=r.next,a=(r.f&Jn)!==0||(r.f&_t)!==0;ha(r,t,a?n:!1),r=s}}}function hn(e){_s(e,!0)}function _s(e,t){if((e.f&et)!==0){e.f^=et,(e.f&ge)===0&&(Ae(e,Ve),Vt(e));for(var n=e.first;n!==null;){var r=n.next,s=(n.f&Jn)!==0||(n.f&_t)!==0;_s(n,s?t:!1),n=r}if(e.transitions!==null)for(const a of e.transitions)(a.is_global||t)&&a.in()}}let pn=!1;function Da(e){pn=e}let Qt=!1;function Ia(e){Qt=e}let q=null,ot=!1;function We(e){q=e}let $=null;function ft(e){$=e}let ht=null;function gs(e){q!==null&&(ht===null?ht=[e]:ht.push(e))}let be=null,Oe=0,ze=null;function fi(e){ze=e}let ms=1,jn=0,jt=jn;function Ma(e){jt=e}let kt=!1;function ws(){return++ms}function Pr(e){var t=e.f;if((t&Ve)!==0)return!0;if((t&At)!==0){var n=e.deps,r=(t&Ke)!==0;if(n!==null){var s,a,i=(t&vr)!==0,c=r&&$!==null&&!kt,l=n.length;if((i||c)&&($===null||($.f&Jt)===0)){var u=e,f=u.parent;for(s=0;s<l;s++)a=n[s],(i||!a?.reactions?.includes(u))&&(a.reactions??(a.reactions=[])).push(u);i&&(u.f^=vr),c&&f!==null&&(f.f&Ke)===0&&(u.f^=Ke)}for(s=0;s<l;s++)if(a=n[s],Pr(a)&&es(a),a.wv>e.wv)return!0}(!r||$!==null&&!kt)&&Ae(e,ge)}return!1}function ys(e,t,n=!0){var r=e.reactions;if(r!==null&&!ht?.includes(e))for(var s=0;s<r.length;s++){var a=r[s];(a.f&Re)!==0?ys(a,t,!1):t===a&&(n?Ae(a,Ve):(a.f&ge)!==0&&Ae(a,At),Vt(a))}}function bs(e){var p;var t=be,n=Oe,r=ze,s=q,a=kt,i=ht,c=ee,l=ot,u=jt,f=e.f;be=null,Oe=0,ze=null,kt=(f&Ke)!==0&&(ot||!pn||q===null),q=(f&(_t|Gt))===0?e:null,ht=null,yn(e.ctx),ot=!1,jt=++jn,e.ac!==null&&(e.ac.abort(ca),e.ac=null);try{e.f|=Hr;var h=(0,e.fn)(),d=e.deps;if(be!==null){var v;if(pr(e,Oe),d!==null&&Oe>0)for(d.length=Oe+be.length,v=0;v<be.length;v++)d[Oe+v]=be[v];else e.deps=d=be;if(!kt||(f&Re)!==0&&e.reactions!==null)for(v=Oe;v<d.length;v++)((p=d[v]).reactions??(p.reactions=[])).push(e)}else d!==null&&Oe<d.length&&(pr(e,Oe),d.length=Oe);if(Zt()&&ze!==null&&!ot&&d!==null&&(e.f&(Re|At|Ve))===0)for(v=0;v<ze.length;v++)ys(ze[v],e);return s!==null&&s!==e&&(jn++,ze!==null&&(r===null?r=ze:r.push(...ze))),(e.f&qt)!==0&&(e.f^=qt),h}catch(g){return Vo(g)}finally{e.f^=Hr,be=t,Oe=n,ze=r,q=s,kt=a,ht=i,yn(c),ot=l,jt=u}}function di(e,t){let n=t.reactions;if(n!==null){var r=co.call(n,e);if(r!==-1){var s=n.length-1;s===0?n=t.reactions=null:(n[r]=n[s],n.pop())}}n===null&&(t.f&Re)!==0&&(be===null||!be.includes(t))&&(Ae(t,At),(t.f&(Ke|vr))===0&&(t.f^=vr),Qa(t),pr(t,0))}function pr(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)di(e,n[r])}function Un(e){var t=e.f;if((t&Jt)===0){Ae(e,ge);var n=$,r=pn;$=e,pn=!0;try{(t&Gn)!==0?ci(e):vs(e),ds(e);var s=bs(e);e.teardown=typeof s=="function"?s:null,e.wv=ms;var a;Ka&&Ho&&(e.f&Ve)!==0&&e.deps}finally{pn=r,$=n}}}async function vi(){await Promise.resolve(),as()}function o(e){var t=e.f,n=(t&Re)!==0;if(q!==null&&!ot){var r=$!==null&&($.f&Jt)!==0;if(!r&&!ht?.includes(e)){var s=q.deps;if((q.f&Hr)!==0)e.rv<jn&&(e.rv=jn,be===null&&s!==null&&s[Oe]===e?Oe++:be===null?be=[e]:(!kt||!be.includes(e))&&be.push(e));else{(q.deps??(q.deps=[])).push(e);var a=e.reactions;a===null?e.reactions=[q]:a.includes(q)||a.push(q)}}}else if(n&&e.deps===null&&e.effects===null){var i=e,c=i.parent;c!==null&&(c.f&Ke)===0&&(i.f^=Ke)}if(Qt){if($t.has(e))return $t.get(e);if(n){i=e;var l=i.v;return((i.f&ge)===0&&i.reactions!==null||Ss(i))&&(l=fa(i)),$t.set(i,l),l}}else if(n){if(i=e,bn?.has(i))return bn.get(i);Pr(i)&&es(i)}if((e.f&qt)!==0)throw e.v;return e.v}function Ss(e){if(e.v===re)return!0;if(e.deps===null)return!1;for(const t of e.deps)if($t.has(t)||(t.f&Re)!==0&&Ss(t))return!0;return!1}function Yt(e){var t=ot;try{return ot=!0,e()}finally{ot=t}}const hi=-7169;function Ae(e,t){e.f=e.f&hi|t}function pi(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Ut in e)Yr(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&Ut in n&&Yr(n)}}}function Yr(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{Yr(e[r],t)}catch{}const n=ra(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=Va(n);for(let s in r){const a=r[s].get;if(a)try{a.call(e)}catch{}}}}}const _i=["touchstart","touchmove"];function gi(e){return _i.includes(e)}let Oa=!1;function mi(){Oa||(Oa=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function ks(e){var t=q,n=$;We(null),ft(null);try{return e()}finally{We(t),ft(n)}}function wi(e,t,n,r=n){e.addEventListener(t,()=>ks(n));const s=e.__on_r;s?e.__on_r=()=>{s(),r(!0)}:e.__on_r=()=>r(!0),mi()}const Es=new Set,Gr=new Set;function yi(e,t,n,r={}){function s(a){if(r.capture||Bn.call(t,a),!a.cancelBubble)return ks(()=>n?.call(this,a))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?br(()=>{t.addEventListener(e,s,r)}):t.addEventListener(e,s,r),s}function bi(e,t,n,r,s){var a={capture:r,passive:s},i=yi(e,t,n,a);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&ai(()=>{t.removeEventListener(e,i,a)})}function Ge(e){for(var t=0;t<e.length;t++)Es.add(e[t]);for(var n of Gr)n(e)}function Bn(e){var t=this,n=t.ownerDocument,r=e.type,s=e.composedPath?.()||[],a=s[0]||e.target,i=0,c=e.__root;if(c){var l=s.indexOf(c);if(l!==-1&&(t===document||t===window)){e.__root=t;return}var u=s.indexOf(t);if(u===-1)return;l<=u&&(i=l)}if(a=s[i]||e.target,a!==t){jr(e,"currentTarget",{configurable:!0,get(){return a||n}});var f=q,h=$;We(null),ft(null);try{for(var d,v=[];a!==null;){var p=a.assignedSlot||a.parentNode||a.host||null;try{var g=a["__"+r];if(g!=null&&(!a.disabled||e.target===a))if(ta(g)){var[m,...w]=g;m.apply(a,[e,...w])}else g.call(a,e)}catch(y){d?v.push(y):d=y}if(e.cancelBubble||p===t||p===null)break;a=p}if(d){for(let y of v)queueMicrotask(()=>{throw y});throw d}}finally{e.__root=t,delete e.currentTarget,We(f),ft(h)}}}function Ps(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function Hn(e,t){var n=$;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function R(e,t){var n=(t&qo)!==0,r=(t&Uo)!==0,s,a=!e.startsWith("<!>");return()=>{s===void 0&&(s=Ps(a?e:"<!>"+e),n||(s=Sn(s)));var i=r||is?document.importNode(s,!0):s.cloneNode(!0);if(n){var c=Sn(i),l=i.lastChild;Hn(c,l)}else Hn(i,i);return i}}function Si(e,t,n="svg"){var r=!e.startsWith("<!>"),s=`<${n}>${r?e:"<!>"+e}</${n}>`,a;return()=>{if(!a){var i=Ps(s),c=Sn(i);a=Sn(c)}var l=a.cloneNode(!0);return Hn(l,l),l}}function ki(e,t){return Si(e,t,"svg")}function nt(e=""){{var t=Xt(e+"");return Hn(t,t),t}}function D(){var e=document.createDocumentFragment(),t=document.createComment(""),n=Xt();return e.append(t,n),Hn(t,n),e}function _(e,t){e!==null&&e.before(t)}function lu(){var e;return(e=window.__svelte??(window.__svelte={})).uid??(e.uid=1),`c${window.__svelte.uid++}`}function Cr(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function Ei(e,t){return Pi(e,t)}const un=new Map;function Pi(e,{target:t,anchor:n,props:r={},events:s,context:a,intro:i=!0}){ti();var c=new Set,l=h=>{for(var d=0;d<h.length;d++){var v=h[d];if(!c.has(v)){c.add(v);var p=gi(v);t.addEventListener(v,Bn,{passive:p});var g=un.get(v);g===void 0?(document.addEventListener(v,Bn,{passive:p}),un.set(v,1)):un.set(v,g+1)}}};l(na(Es)),Gr.add(l);var u=void 0,f=oi(()=>{var h=n??t.appendChild(Xt());return lt(()=>{if(a){Y({});var d=ee;d.c=a}s&&(r.$$events=s),u=e(h,r)||{},a&&G()}),()=>{for(var d of c){t.removeEventListener(d,Bn);var v=un.get(d);--v===0?(document.removeEventListener(d,Bn),un.delete(d)):un.set(d,v)}Gr.delete(l),h!==n&&h.parentNode?.removeChild(h)}});return Ci.set(u,f),u}let Ci=new WeakMap;const Mr=0,sr=1,Or=2;function Ze(e,t,n,r,s){var a=e,i=Zt(),c=ee,l=re,u,f,h,d=i?Wt(void 0):Wr(void 0,!1,!1),v=i?Wt(void 0):Wr(void 0,!1,!1),p=!1;function g(w,y){p=!0,y&&(ft(m),We(m),yn(c));try{w===Mr&&n&&(u?hn(u):u=lt(()=>n(a))),w===sr&&r&&(f?hn(f):f=lt(()=>r(a,d))),w===Or&&s&&(h?hn(h):h=lt(()=>s(a,v))),w!==Mr&&u&&Ft(u,()=>u=null),w!==sr&&f&&Ft(f,()=>f=null),w!==Or&&h&&Ft(h,()=>h=null)}finally{y&&(yn(null),We(null),ft(null),as())}}var m=Xn(()=>{if(l!==(l=t())){if(vo(l)){var w=l;p=!1,w.then(y=>{w===l&&(Pt(d,y),g(sr,!0))},y=>{if(w===l&&(Pt(v,y),g(Or,!0),!s))throw v.v}),br(()=>{p||g(Mr,!0)})}else Pt(d,l),g(sr,!1);return()=>l=re}})}function U(e,t,n=!1){var r=e,s=null,a=null,i=re,c=n?Jn:0,l=!1;const u=(v,p=!0)=>{l=!0,d(p,v)};var f=null;function h(){f!==null&&(f.lastChild.remove(),r.before(f),f=null);var v=i?s:a,p=i?a:s;v&&hn(v),p&&Ft(p,()=>{i?a=null:s=null})}const d=(v,p)=>{if(i!==(i=v)){var g=da(),m=r;if(g&&(f=document.createDocumentFragment(),f.append(m=Xt())),i?s??(s=p&&lt(()=>p(m))):a??(a=p&&lt(()=>p(m))),g){var w=V,y=i?s:a,b=i?a:s;y&&w.skipped_effects.delete(y),b&&w.skipped_effects.add(b),w.add_callback(h)}else h()}};Xn(()=>{l=!1,t(u),l||d(null,null)},c)}function fe(e,t){va(()=>{var n=t();for(var r in n){var s=n[r];s?e.style.setProperty(r,s):e.style.removeProperty(r)}})}function Ni(e,t){return t}function xi(e,t,n){for(var r=e.items,s=[],a=t.length,i=0;i<a;i++)ha(t[i].e,s,!0);var c=a>0&&s.length===0&&n!==null;if(c){var l=n.parentNode;ni(l),l.append(n),r.clear(),st(e,t[0].prev,t[a-1].next)}ps(s,()=>{for(var u=0;u<a;u++){var f=t[u];c||(r.delete(f.k),st(e,f.prev,f.next)),ut(f.e,!c)}})}function dn(e,t,n,r,s,a=null){var i=e,c={flags:t,items:new Map,first:null},l=(t&Ya)!==0;if(l){var u=e;i=u.appendChild(Xt())}var f=null,h=!1,d=new Map,v=Sr(()=>{var w=n();return ta(w)?w:w==null?[]:na(w)}),p,g;function m(){Ai(g,p,c,d,i,s,t,r,n),a!==null&&(p.length===0?f?hn(f):f=lt(()=>a(i)):f!==null&&Ft(f,()=>{f=null}))}Xn(()=>{g??(g=$),p=o(v);var w=p.length;if(!(h&&w===0)){h=w===0;var y,b,L,P;if(da()){var N=new Set,M=V;for(b=0;b<w;b+=1){L=p[b],P=r(L,b);var W=c.items.get(P)??d.get(P);W?(t&(wr|yr))!==0&&Cs(W,L,b,t):(y=Ns(null,c,null,null,L,P,b,s,t,n,!0),d.set(P,y)),N.add(P)}for(const[de,te]of c.items)N.has(de)||M.skipped_effects.add(te.e);M.add_callback(m)}else m();o(v)}})}function Ai(e,t,n,r,s,a,i,c,l){var u=(i&To)!==0,f=(i&(wr|yr))!==0,h=t.length,d=n.items,v=n.first,p=v,g,m=null,w,y=[],b=[],L,P,N,M;if(u)for(M=0;M<h;M+=1)L=t[M],P=c(L,M),N=d.get(P),N!==void 0&&(N.a?.measure(),(w??(w=new Set)).add(N));for(M=0;M<h;M+=1){if(L=t[M],P=c(L,M),N=d.get(P),N===void 0){var W=r.get(P);if(W!==void 0){r.delete(P),d.set(P,W);var de=m?m.next:p;st(n,m,W),st(n,W,de),Rr(W,de,s),m=W}else{var te=p?p.e.nodes_start:s;m=Ns(te,n,m,m===null?n.first:m.next,L,P,M,a,i,l)}d.set(P,m),y=[],b=[],p=m.next;continue}if(f&&Cs(N,L,M,i),(N.e.f&et)!==0&&(hn(N.e),u&&(N.a?.unfix(),(w??(w=new Set)).delete(N))),N!==p){if(g!==void 0&&g.has(N)){if(y.length<b.length){var z=b[0],B;m=z.prev;var ve=y[0],he=y[y.length-1];for(B=0;B<y.length;B+=1)Rr(y[B],z,s);for(B=0;B<b.length;B+=1)g.delete(b[B]);st(n,ve.prev,he.next),st(n,m,ve),st(n,he,z),p=z,m=he,M-=1,y=[],b=[]}else g.delete(N),Rr(N,p,s),st(n,N.prev,N.next),st(n,N,m===null?n.first:m.next),st(n,m,N),m=N;continue}for(y=[],b=[];p!==null&&p.k!==P;)(p.e.f&et)===0&&(g??(g=new Set)).add(p),b.push(p),p=p.next;if(p===null)continue;N=p}y.push(N),m=N,p=N.next}if(p!==null||g!==void 0){for(var X=g===void 0?[]:na(g);p!==null;)(p.e.f&et)===0&&X.push(p),p=p.next;var se=X.length;if(se>0){var qe=(i&Ya)!==0&&h===0?s:null;if(u){for(M=0;M<se;M+=1)X[M].a?.measure();for(M=0;M<se;M+=1)X[M].a?.fix()}xi(n,X,qe)}}u&&br(()=>{if(w!==void 0)for(N of w)N.a?.apply()}),e.first=n.first&&n.first.e,e.last=m&&m.e;for(var Le of r.values())ut(Le.e);r.clear()}function Cs(e,t,n,r){(r&wr)!==0&&Pt(e.v,t),(r&yr)!==0?Pt(e.i,n):e.i=n}function Ns(e,t,n,r,s,a,i,c,l,u,f){var h=(l&wr)!==0,d=(l&Do)===0,v=h?d?Wr(s,!1,!1):Wt(s):s,p=(l&yr)===0?i:Wt(i),g={i:p,v,k:a,a:null,e:null,prev:n,next:r};try{if(e===null){var m=document.createDocumentFragment();m.append(e=Xt())}return g.e=lt(()=>c(e,v,p,u),Fo),g.e.prev=n&&n.e,g.e.next=r&&r.e,n===null?f||(t.first=g):(n.next=g,n.e.next=g.e),r!==null&&(r.prev=g,r.e.prev=g.e),g}finally{}}function Rr(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,s=t?t.e.nodes_start:n,a=e.e.nodes_start;a!==null&&a!==r;){var i=Er(a);s.before(a),a=i}}function st(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function Ct(e,t,...n){var r=e,s=zt,a;Xn(()=>{s!==(s=t())&&(a&&(ut(a),a=null),a=lt(()=>s(r,...n)))},Jn)}function Xe(e,t,n){var r=e,s,a,i=null,c=null;function l(){a&&(Ft(a),a=null),i&&(i.lastChild.remove(),r.before(i),i=null),a=c,c=null}Xn(()=>{if(s!==(s=t())){var u=da();if(s){var f=r;u&&(i=document.createDocumentFragment(),i.append(f=Xt())),c=lt(()=>n(f,s))}u?V.add_callback(l):l()}},Jn)}function xs(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=xs(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Li(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=xs(e))&&(r&&(r+=" "),r+=t);return r}function J(e){return typeof e=="object"?Li(e):e??""}const Ra=[...` 	
\r\f \v\uFEFF`];function Ti(e,t,n){var r=e==null?"":""+e;if(t&&(r=r?r+" "+t:t),n){for(var s in n)if(n[s])r=r?r+" "+s:s;else if(r.length)for(var a=s.length,i=0;(i=r.indexOf(s,i))>=0;){var c=i+a;(i===0||Ra.includes(r[i-1]))&&(c===r.length||Ra.includes(r[c]))?r=(i===0?"":r.substring(0,i))+r.substring(c+1):i=c}}return r===""?null:r}function Di(e,t){return e==null?null:String(e)}function Z(e,t,n,r,s,a){var i=e.__className;if(i!==n||i===void 0){var c=Ti(n,r,a);c==null?e.removeAttribute("class"):e.className=c,e.__className=n}else if(a&&s!==a)for(var l in a){var u=!!a[l];(s==null||u!==!!s[l])&&e.classList.toggle(l,u)}return a}function _r(e,t,n,r){var s=e.__style;if(s!==t){var a=Di(t);a==null?e.removeAttribute("style"):e.style.cssText=a,e.__style=t}return r}const Ii=Symbol("is custom element"),Mi=Symbol("is html");function Br(e,t){var n=pa(e);n.value===(n.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function qr(e,t){var n=pa(e);n.checked!==(n.checked=t??void 0)&&(e.checked=t)}function Se(e,t,n,r){var s=pa(e);s[t]!==(s[t]=n)&&(t==="loading"&&(e[wo]=n),n==null?e.removeAttribute(t):typeof n!="string"&&Oi(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function pa(e){return e.__attributes??(e.__attributes={[Ii]:e.nodeName.includes("-"),[Mi]:e.namespaceURI===$o})}var Ba=new Map;function Oi(e){var t=Ba.get(e.nodeName);if(t)return t;Ba.set(e.nodeName,t=[]);for(var n,r=e,s=Element.prototype;s!==r;){n=Va(r);for(var a in n)n[a].set&&t.push(a);r=ra(r)}return t}function Ri(e,t,n=t){var r=Zt(),s=new WeakSet;wi(e,"input",a=>{var i=a?e.defaultValue:e.value;if(i=Ur(e)?$r(i):i,n(i),V!==null&&s.add(V),r&&i!==(i=t())){var c=e.selectionStart,l=e.selectionEnd;e.value=i??"",l!==null&&(e.selectionStart=c,e.selectionEnd=Math.min(l,e.value.length))}}),Yt(t)==null&&e.value&&(n(Ur(e)?$r(e.value):e.value),V!==null&&s.add(V)),va(()=>{var a=t();if(e===document.activeElement){var i=cr??V;if(s.has(i))return}Ur(e)&&a===$r(e.value)||e.type==="date"&&!a&&!e.value||a!==e.value&&(e.value=a??"")})}function Ur(e){var t=e.type;return t==="number"||t==="range"}function $r(e){return e===""?null:+e}function qa(e,t){return e===t||e?.[Ut]===t}function Nt(e={},t,n,r){return ii(()=>{var s,a;return va(()=>{s=a,a=[],Yt(()=>{e!==n(...a)&&(t(e,...a),s&&qa(n(...s),e)&&t(null,...s))})}),()=>{br(()=>{a&&qa(n(...a),e)&&t(null,...a)})}}),e}function Cn(e=!1){const t=ee,n=t.l.u;if(!n)return;let r=()=>pi(t.s);if(e){let s=0,a={};const i=Zn(()=>{let c=!1;const l=t.s;for(const u in l)l[u]!==a[u]&&(a[u]=l[u],c=!0);return c&&s++,s});r=()=>o(i)}n.b.length&&si(()=>{Ua(t,r),dr(n.b)}),it(()=>{const s=Yt(()=>n.m.map(ho));return()=>{for(const a of s)typeof a=="function"&&a()}}),n.a.length&&it(()=>{Ua(t,r),dr(n.a)})}function Ua(e,t){if(e.l.s)for(const n of e.l.s)o(n);t()}let or=!1;function Bi(e){var t=or;try{return or=!1,[e(),or]}finally{or=t}}function ke(e,t,n,r){var s=!Pn||(n&Mo)!==0,a=(n&Ro)!==0,i=(n&Bo)!==0,c=r,l=!0,u=()=>(l&&(l=!1,c=i?Yt(r):r),c),f;if(a){var h=Ut in e||mo in e;f=vn(e,t)?.set??(h&&t in e?b=>e[t]=b:void 0)}var d,v=!1;a?[d,v]=Bi(()=>e[t]):d=e[t],d===void 0&&r!==void 0&&(d=u(),f&&(s&&No(),f(d)));var p;if(s?p=()=>{var b=e[t];return b===void 0?u():(l=!0,b)}:p=()=>{var b=e[t];return b!==void 0&&(c=void 0),b===void 0?c:b},s&&(n&Oo)===0)return p;if(f){var g=e.$$legacy;return function(b,L){return arguments.length>0?((!s||!L||g||v)&&f(L?p():b),b):p()}}var m=!1,w=((n&Io)!==0?Zn:Sr)(()=>(m=!1,p()));a&&o(w);var y=$;return function(b,L){if(arguments.length>0){const P=L?o(w):s&&a?ie(b):b;return k(w,P),m=!0,c!==void 0&&(c=P),b}return Qt&&m||(y.f&Jt)!==0?w.v:o(w)}}function Ee(e){ee===null&&bo(),Pn&&ee.l!==null?qi(ee).m.push(e):it(()=>{const t=Yt(e);if(typeof t=="function")return t})}function qi(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const Ui="5";var za;typeof window<"u"&&((za=window.__svelte??(window.__svelte={})).v??(za.v=new Set)).add(Ui);let Ot=I(""),fn=I(null);function $i(e){k(Ot,""),setTimeout(()=>{k(Ot,e,!0)},16)}var Fi=R('<div class="notification svelte-1a2zucn"> </div>');function ji(e,t){Y(t,!0),it(()=>{o(Ot),o(Ot)&&(o(fn)?.getBoundingClientRect(),o(fn)?.style.setProperty("opacity","1"));const a=setTimeout(()=>{o(fn)?.style.removeProperty("opacity")},800),i=setTimeout(()=>{k(Ot,""),o(fn)?.style.removeProperty("opacity")},1200);return()=>{clearTimeout(a),clearTimeout(i)}});var n=D(),r=C(n);{var s=a=>{var i=Fi(),c=S(i);Nt(i,l=>k(fn,l),()=>o(fn)),ae(()=>Cr(c,o(Ot))),_(a,i)};U(r,a=>{o(Ot)&&a(s)})}_(e,n),G()}zo();var Hi=R('<span class="vh svelte-14jjkpd"><!></span>');function zn(e,t){var n=Hi(),r=S(n);Ct(r,()=>t.children),_(e,n)}var zi=ki('<svg class="svelte-gv09tg"><use></use></svg>');function le(e,t){let n=ke(t,"name",8,"");var r=zi(),s=S(r);ae(()=>Se(s,"href",`#icon-${n()??""}`)),_(e,r)}const As=(e,t)=>{if(!t)return e;if(t.type==="closed")return{type:"closed"};switch(e.type){case"opened":return t.type==="close"?{type:"closing"}:t.type==="swipe"?{type:"openSwiping"}:e;case"closed":return t.type==="open"?{type:"opening"}:t.type==="swipe"?{type:"closeSwiping"}:e;case"openSwiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"closeSwiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"opening":return t.type==="opened"?{type:"opened"}:e;default:return e}};let Jr=I(ie(As({type:"closed"})));const Ls=e=>{k(Jr,As(o(Jr),e),!0)},Ki=()=>o(Jr),Vi=()=>{Ls({type:"open"})},Wi=()=>{Ls({type:"close"})},Yi=()=>{const e=Ki().type;e==="closed"?Vi():e==="opened"&&Wi()};var Gi=R('<button class="buttonMenu svelte-hxzs42"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>');function Ts(e,t){Y(t,!1),Cn();var n=Gi();n.__click=[Yi];var r=S(n);fe(r,()=>({"--size":"28px"})),le(r.lastChild,{name:"sidebarMenu"});var s=A(r,2);zn(s,{children:(a,i)=>{var c=nt("Menu");_(a,c)}}),_(e,n),G()}Ge(["click"]);const E=ie({historyStack:[],pathname:window.location.pathname,search:window.location.search,historyLength:0});let Ds=I(ie(new URLSearchParams(E.search).get("feedOrder")||"newest"));const Is=()=>o(Ds),Ji=e=>{k(Ds,e,!0);const t=new URLSearchParams(E.search);e==="newest"?t.delete("feedOrder"):t.set("feedOrder",e),pt(`${E.pathname}${t.size>0?`?${t.toString()}`:""}`)};let Ms=I(ie(new URLSearchParams(E.search).get("search")||""));const Zi=()=>o(Ms),Xi=e=>{k(Ms,e,!0);const t=new URLSearchParams(E.search);e===""?t.delete("search"):t.set("search",e),pt(`${E.pathname}${t.size>0?`?${t.toString()}`:""}`)},Os=()=>new URLSearchParams(E.search).get("selectedTags")?.split(",")||[];let ir=Os();const Qi=()=>{const e=Os();return e.join(",")===ir.join(",")||(ir=e),ir},el=()=>{E.pathname=document.location.pathname,E.search=document.location.search,E.historyLength=Math.max(0,E.historyLength-=1)};window.addEventListener("popstate",el);const pt=e=>{const[t,n]=e.split("?");E.pathname=t,E.search=n?`?${n}`:"",E.historyLength+=1,E.historyStack.push(window.location.href),window.history.replaceState(null,"",e)},tl=e=>{const[t,n]=e.split("?");E.pathname=t,E.search=n?`?${n}`:"",window.history.replaceState(null,"",e)},nl=(e="/")=>{const[t,n]=e.split("?");if(E.historyLength<=0){const r=window.location.href,[s,a]=r.split("?");if(!a.includes("stackPages"))window.history.replaceState(null,"",e),E.historyLength=0,E.pathname=t,E.search=n?`?${n}`:"";else{const i=new URLSearchParams(a),l=(i.get("stackPages")?.split(",")||[]).slice(0,-1);l.length===0?i.delete("stackPages"):i.set("stackPages",l.join(","));const u=`${s}${i.toString()?`?${i.toString()}`:""}`;window.history.replaceState(null,"",u),E.search=i.toString()?`?${i.toString()}`:""}}else if(E.historyStack.length>0){const r=E.historyStack.pop();if(r){const[s,a]=r.split("?");window.history.replaceState(null,"",r),E.historyLength=Math.max(0,E.historyLength-=1),E.pathname=s,E.search=a?`?${a}`:""}}},Rs=()=>{const e=E.historyStack.findIndex(n=>n.includes("stackPages")),t=e===-1?E.historyStack.slice(0):E.historyStack.slice(0,e);if(t.length>0){const n=t.pop();if(n){const[r,s]=n.split("?");window.history.replaceState(null,"",n),E.historyLength=Math.max(0,t.length),E.pathname=r,E.search=s?`?${s}`:"",E.historyStack=t}}else window.history.replaceState(null,"","/"),E.historyLength=0,E.pathname="/",E.search="",E.historyStack=[]},rt=()=>new URLSearchParams(E.search).get("stackPages")?.split(",")||[];let Ht=I(ie(rt()));const Be=e=>{const t=rt();if(!t.includes(e)){t.push(e);const n=new URLSearchParams(E.search);n.set("stackPages",t.join(",")),k(Ht,t,!0),pt(`${E.pathname}?${n.toString()}`)}},rl=e=>rt().includes(e),Bs=()=>{const e=o(Ht).slice(0,-1);k(Ht,e,!0)},al=()=>{const e=rt();return e.length>=o(Ht).length?e.reduce((t,n)=>[...t,{page:n,shown:!0}],[]):o(Ht).reduce((t,n,r)=>[...t,{page:n,shown:e.length===0?!1:r!==o(Ht).length-1}],[])},Zr=()=>{k(Ht,[],!0)},sl=e=>{e.preventDefault(),Be("settings")},ol=e=>{e.preventDefault(),Be("newNote")};var il=R('<div class="header svelte-ww662s"><div class="top svelte-ww662s"><div class="desktop svelte-ww662s"><a class="link svelte-ww662s"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Settings</span></a></div> <div class="mobile svelte-ww662s"><!></div> <a class="addNote svelte-ww662s"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Add</span></a></div></div>');function ll(e,t){Y(t,!0);const n=()=>{const g=rt();g.includes("settings")||g.push("settings");const m=new URLSearchParams(E.search);return m.set("stackPages",g.join(",")),`${E.pathname}?${m}`};let s=T(()=>{const g=rt();g.includes("newNote")||g.push("newNote");const m=new URLSearchParams(E.search);return m.set("stackPages",g.join(",")),`${E.pathname}?${m}`}),a=T(n);var i=il(),c=S(i),l=S(c),u=S(l);u.__click=[sl];var f=S(u);fe(f,()=>({"--size":"20px"})),le(f.lastChild,{name:"settings"});var h=A(l,2),d=S(h);Ts(d,{});var v=A(h,2);v.__click=[ol];var p=S(v);fe(p,()=>({"--size":"24px","--color":"#b0b0b0"})),le(p.lastChild,{name:"plus"}),ae(()=>{Se(u,"href",o(a)),Se(v,"href",o(s))}),_(e,i),G()}Ge(["click"]);const cl="modulepreload",ul=function(e){return"/"+e},$a={},Qe=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){let l=function(u){return Promise.all(u.map(f=>Promise.resolve(f).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),c=i?.nonce||i?.getAttribute("nonce");s=l(n.map(u=>{if(u=ul(u),u in $a)return;$a[u]=!0;const f=u.endsWith(".css"),h=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${h}`))return;const d=document.createElement("link");if(d.rel=f?"stylesheet":cl,f||(d.as="script"),d.crossOrigin="",d.href=u,c&&d.setAttribute("nonce",c),document.head.appendChild(d),f)return new Promise((v,p)=>{d.addEventListener("load",v),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${u}`)))})}))}function a(i){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=i,window.dispatchEvent(c),!c.defaultPrevented)throw i}return s.then(i=>{for(const c of i||[])c.status==="rejected"&&a(c.reason);return t().catch(a)})},fl=(e,t)=>{let n=null;return()=>{n&&clearTimeout(n),n=setTimeout(()=>{e()},t)}},qs=()=>window.matchMedia("(max-width: 768px)").matches;let Us=I(ie(qs()));const dl=fl(()=>{k(Us,qs(),!0)},16);window.addEventListener("resize",dl);const Nn=()=>o(Us),_a=ie({count:0}),vl=()=>_a.count>0,$s=()=>{_a.count+=1},Fs=()=>{_a.count-=1};function hl(e,t){Y(t,!0);let n=ke(t,"blockedDialog",3,!1),r=ke(t,"hiddenDialog",3,!1),s=ke(t,"isLastDialog",3,!1),a=ke(t,"onStartClose",3,()=>{}),i=ke(t,"onClose",3,()=>{});const c=T(()=>s()?void 0:t.onStartBack);let l=null;function u(){return l||(l=Qe(()=>import("./MobileDialog-6-3bTvpC.js"),__vite__mapDeps([0,1]))),l}function f(){return l||(l=Qe(()=>import("./DesktopDialog-DLP7jky9.js"),__vite__mapDeps([2,3]))),l}Ee(()=>($s(),()=>{Fs()}));var h=D(),d=C(h);{var v=g=>{var m=D(),w=C(m);Ze(w,u,null,(y,b)=>{var L=D();const P=T(()=>o(b).default);var N=C(L);Xe(N,()=>o(P),(M,W)=>{W(M,{get shownDialog(){return t.shownDialog},get blocked(){return n()},get unBlockedBack(){return t.unBlockedBack},get hiddenDialog(){return r()},get children(){return t.children},get onStartClose(){return t.onStartBack},get onClose(){return i()}})}),_(y,L)}),_(g,m)},p=g=>{var m=D(),w=C(m);Ze(w,f,null,(y,b)=>{var L=D();const P=T(()=>o(b).default);var N=C(L);Xe(N,()=>o(P),(M,W)=>{W(M,{get shownDialog(){return t.shownDialog},get blockedDialog(){return n()},get unBlockedBack(){return t.unBlockedBack},get hiddenDialog(){return r()},get children(){return t.children},get onStartBack(){return o(c)},get onStartClose(){return a()},get onClose(){return i()}})}),_(y,L)}),_(g,m)};U(d,g=>{Nn()?g(v):g(p,!1)})}_(e,h),G()}let js=I(!1),ga=I(!1);const qn=e=>{k(js,e,!0),e||k(ga,!1)},pl=()=>o(js),Fa=e=>{k(ga,e,!0)},_l=()=>o(ga);function ja(e,t){Y(t,!0);let n=ke(t,"blocked",3,!1),r=ke(t,"isLastDialog",3,!1),s=ke(t,"onBack",3,()=>{});const a=T(()=>n()||t.hidden||pl()),i=T(()=>_l()&&!r());hl(e,{get shownDialog(){return t.shown},get blockedDialog(){return o(a)},get unBlockedBack(){return o(i)},get hiddenDialog(){return t.hidden},get isLastDialog(){return r()},onStartBack:()=>{(!o(a)||o(a)&&o(i))&&t.shown&&(nl(),s()())},onStartClose:()=>{(!o(a)||o(a)&&o(i))&&t.shown&&Rs()},onClose:()=>{Bs()},children:(f,h)=>{var d=D(),v=C(d);Ct(v,()=>t.children),_(f,d)},$$slots:{default:!0}}),G()}let O=I({initedDB:!1});const gl=()=>{k(O,{initedDB:!0})},kn=async e=>{k(O,{...o(O),account:e})},Qn=async e=>{const t=o(O).notes||[],n=o(O).mapNotes||new Map;e.forEach(r=>{t.push(r),n.set(r.id,r)}),k(O,{...o(O),notes:t,mapNotes:n,getNotes:()=>t,getMapNotes:()=>n})},Nr=()=>o(O).notes&&o(O).mapNotes,ml=()=>o(O).account,wl=()=>o(O).getNotes||(()=>o(O).notes||[]),cu=()=>o(O).getMapNotes||(()=>o(O).mapNotes||new Map),Hs=e=>{if(!o(O).notes||!o(O).mapNotes)throw new Error("Notes appState is not initialized");const t={...e};o(O).notes.push(t),o(O).mapNotes.set(t.id,t),k(O,{...o(O),getNotes:()=>o(O).notes,getMapNotes:()=>o(O).mapNotes})},yl=async e=>{if(!o(O).notes||!o(O).mapNotes)throw new Error("Notes appState is not initialized");o(O).notes.forEach((t,n)=>{t?.id===e.id&&o(O).notes&&(o(O).notes[n]=e)}),o(O).mapNotes.set(e.id,e),k(O,{...o(O),getNotes:()=>o(O).notes,getMapNotes:()=>o(O).mapNotes})},zs=async e=>{if(!o(O).notes||!o(O).mapNotes)throw new Error("Notes appState is not initialized");o(O).mapNotes.delete(e);const t=o(O).notes.findIndex(n=>n?.id===e);t!==-1&&(o(O).notes[t]=void 0),k(O,{...o(O),getNotes:()=>o(O).notes,getMapNotes:()=>o(O).mapNotes})},Ks=async()=>{const e=[],t=new Map;k(O,{...o(O),notes:e,mapNotes:t,getNotes:()=>e,getMapNotes:()=>t})};let Vs=I({});const Ws=()=>o(Vs),bl=e=>{k(Vs,e)};var Sl=(e,t)=>t.onChange?.(e?.target?.value||""),kl=R('<input class="svelte-6l2oy0"/>');function Xr(e,t){Y(t,!0);let n=ke(t,"value",15,"");var r=kl();r.__input=[Sl,t],ae(()=>Se(r,"placeholder",t.placeholder)),bi("focus",r,function(...s){t.onFocus?.apply(this,s)}),Ri(r,n),_(e,r),G()}Ge(["input"]);var El=R('<button> <svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></button>');function lr(e,t){let n=T(()=>t.style==="selected"?"45deg":"0deg");var r=El();r.__click=function(...i){t.onClick?.apply(this,i)};var s=S(r),a=A(s);fe(a,()=>({"--size":"20px","--rotate":o(n)})),le(a.lastChild,{name:"plus"}),ae(()=>{Se(r,"type",t.type),Z(r,1,J([{selectedTag:t.style==="selected"}]),"svelte-1pjhi9i"),Cr(s,`${t.title??""} `)}),_(e,r)}Ge(["click"]);const Pl=e=>{e.preventDefault(),Be("settings")};var Cl=R("<div></div>"),Nl=R('<div class="sidebarFixed svelte-eq0qkl"><div class="nav svelte-eq0qkl"><!> <a class="link svelte-eq0qkl"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Settings</span></a></div> <div class="searchWrapper svelte-eq0qkl"><!></div> <!></div> <div></div>',1),xl=R("<div></div>"),Al=R('<div class="sidebar svelte-eq0qkl"><div class="sidebarFixed svelte-eq0qkl"><div class="searchWrapper svelte-eq0qkl"><!></div> <!></div> <div class="tags svelte-eq0qkl"></div></div>');function Ll(e,t){Y(t,!0);let n=I(null),r=I(""),s=T(()=>new URLSearchParams(E.search).get("selectedTags")?.split(",")||[]),a=null;function i(){return a||(a=Qe(()=>import("./MobileSidebar-B7d5bDDX.js"),__vite__mapDeps([4,5]))),a}const c=()=>{const y=rt();y.includes("settings")||y.push("settings");const b=new URLSearchParams(E.search);return b.set("stackPages",y.join(",")),`${E.pathname}?${b}`},l=y=>{const b=new URLSearchParams(E.search);b.set("selectedTags",[...o(s),y].join(",")),pt(`${E.pathname}${b.size>0?`?${b.toString()}`:""}`),k(r,"")},u=y=>{const b=new URLSearchParams(E.search),L=o(s).filter(P=>P!==y);L.length===0?b.delete("selectedTags"):b.set("selectedTags",L.join(",")),pt(`${E.pathname}${b.size>0?`?${b.toString()}`:""}`)};let f=T(()=>Nr()?Object.values(Ws()).filter(y=>!o(s).some(b=>y.name===b)):[]),h=T(Nn);Ee(()=>{o(h)&&i()});let d=T(c),v=T(()=>rt().length>0||vl());var p=D(),g=C(p);{var m=y=>{var b=D(),L=C(b);Ze(L,i,null,(P,N)=>{var M=D();const W=T(()=>o(N).default);var de=C(M);Xe(de,()=>o(W),(te,z)=>{z(te,{get blocked(){return o(v)},children:(B,ve)=>{var he=Nl(),X=C(he),se=S(X),qe=S(se);Ts(qe,{});var Le=A(qe,2);Le.__click=[Pl];var Te=S(Le);fe(Te,()=>({"--size":"20px"})),le(Te.lastChild,{name:"settings"});var Ue=A(se,2),nn=S(Ue);Xr(nn,{placeholder:"Search tag",get value(){return o(r)},set value(pe){k(r,pe,!0)}});var xn=A(Ue,2);{var rn=pe=>{var De=Cl();Z(De,1,J(["tags","selectedTags"]),"svelte-eq0qkl"),dn(De,20,()=>o(s),me=>me,(me,at)=>{lr(me,{get title(){return at},onClick:()=>u(at),style:"selected"})}),Nt(De,me=>k(n,me),()=>o(n)),_(pe,De)};U(xn,pe=>{o(s).length>0&&pe(rn)})}var $e=A(X,2);Z($e,1,J(["tags","tagsWrapper"]),"svelte-eq0qkl"),dn($e,21,()=>o(f),pe=>pe.name,(pe,De)=>{var me=D(),at=C(me);{var _e=x=>{lr(x,{get title(){return o(De).name},onClick:()=>l(o(De).name)})};U(at,x=>{(o(r)===""||o(De).name.toLowerCase().indexOf(o(r).toLowerCase())!==-1)&&x(_e)})}_(pe,me)}),ae(()=>Se(Le,"href",o(d))),_(B,he)},$$slots:{default:!0}})}),_(P,M)}),_(y,b)},w=y=>{var b=Al(),L=S(b),P=S(L),N=S(P);Xr(N,{placeholder:"Search tag",get value(){return o(r)},set value(te){k(r,te,!0)}});var M=A(P,2);{var W=te=>{var z=xl();Z(z,1,J(["tags","selectedTags"]),"svelte-eq0qkl"),dn(z,20,()=>o(s),B=>B,(B,ve)=>{lr(B,{get title(){return ve},onClick:()=>u(ve),style:"selected"})}),_(te,z)};U(M,te=>{o(s).length>0&&te(W)})}var de=A(L,2);dn(de,21,()=>o(f),te=>te.name,(te,z)=>{var B=D(),ve=C(B);{var he=X=>{lr(X,{get title(){return o(z).name},onClick:()=>l(o(z).name)})};U(ve,X=>{(o(r)===""||o(z).name.toLowerCase().indexOf(o(r).toLowerCase())!==-1)&&X(he)})}_(te,B)}),_(y,b)};U(g,y=>{o(h)?y(m):y(w,!1)})}_(e,p),G()}Ge(["click"]);function Et(e){const t=String.fromCharCode(...new Uint8Array(e));return window.btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function ma(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");const n=t.length%4;return n&&(t+="=".repeat(4-n)),t}function wa(e){try{const t=atob(e),n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n.buffer}catch(t){throw console.error("Error decoding base64:",t,"Input:",e),t}}function uu(e){const t=ma(e);return wa(t)}const fu=async({challenge:e,clientKey:t})=>{const n=Math.floor(Math.random()*100),r={challenge:wa(ma(e)),rp:{id:"localhost",name:"notes"},user:{id:new Uint8Array([...t,...crypto.getRandomValues(new Uint8Array(16))]).buffer,name:`account_${n}`,displayName:`account_${n}`},pubKeyCredParams:[{type:"public-key",alg:-7},{type:"public-key",alg:-257}],authenticatorSelection:{userVerification:"required"},timeout:6e4,attestation:"none"},s=await navigator.credentials.create({publicKey:r});if(s){const a=s.response;return{challenge:e,id:s.id,rawId:Et(s.rawId),type:s.type,response:{clientDataJSON:Et(a.clientDataJSON),attestationObject:Et(a.attestationObject)}}}else throw new Error},du=async({challenge:e})=>{const t={challenge:wa(ma(e)),timeout:6e4,rpId:"localhost",userVerification:"required"},n=await navigator.credentials.get({publicKey:t});if(n){const r=n.response,s=new DataView(r.authenticatorData).getUint32(33,!1);console.log("Counter:",s);const a={challenge:e,id:n.id,rawId:Et(n.rawId),type:n.type,response:{authenticatorData:Et(r.authenticatorData),clientDataJSON:Et(r.clientDataJSON),signature:Et(r.signature)}};if(!r.userHandle)throw new Error("No credential found");const i=new Uint8Array(r.userHandle).slice(0,32);return{credentialData:a,clientKey:i}}else throw new Error("No credential found")},Tl=async e=>{const t=await crypto.subtle.importKey("raw",e.serverKey,{name:"HKDF"},!1,["deriveKey"]),n=await crypto.subtle.deriveKey({name:"HKDF",salt:new Uint8Array(12),info:new TextEncoder().encode("aes-gcm-shared"),hash:"SHA-256"},t,{name:"AES-GCM",length:256},!1,["encrypt"]);return{encryptedClientKey:await crypto.subtle.encrypt({name:"AES-GCM",iv:new Uint8Array(12)},n,e.clientKey)}},vu=async e=>{const t=await crypto.subtle.importKey("raw",e.serverKey,{name:"HKDF"},!1,["deriveKey"]),n=await crypto.subtle.deriveKey({name:"HKDF",info:new TextEncoder().encode("aes-gcm-shared"),hash:"SHA-256",salt:new Uint8Array(12)},t,{name:"AES-GCM",length:256},!1,["decrypt"]),r=await crypto.subtle.decrypt({name:"AES-GCM",iv:new Uint8Array(12)},n,e.encryptedClientKey);return new Uint8Array(r)},Dl=()=>crypto.randomUUID(),Il="AppStorage",Ml=1,Ye="notes",Ha="syncLog",En="account";let ct;const Ol=()=>new Promise((e,t)=>{const n=indexedDB.open(Il,Ml);n.addEventListener("upgradeneeded",()=>{const r=n.result;r.objectStoreNames.contains(Ye)||r.createObjectStore(Ye,{keyPath:"id"}),r.objectStoreNames.contains(En)||r.createObjectStore(En,{keyPath:"id"}),r.objectStoreNames.contains(Ha)||r.createObjectStore(Ha,{keyPath:"id"})}),n.addEventListener("success",()=>{e(),ct=n.result,ct.onversionchange=function(){ct?.close(),alert("app outdated, please reload the page")}}),n.addEventListener("blocked",()=>{t(),alert("app outdated, please reload the page")}),n.addEventListener("error",()=>{t(),console.error("Error",n.error)})}),Ys=()=>new Promise((e,t)=>{const r=ct?.transaction(En,"readonly")?.objectStore(En).get("default");r?.addEventListener("success",()=>{const s=r?.result?.account;e(s)}),r?.addEventListener("error",()=>{t()})}),Gs=e=>new Promise((t,n)=>{const a=ct?.transaction(En,"readwrite")?.objectStore(En)?.put({id:"default",account:e});a?.addEventListener("success",()=>{console.log("account inited"),t()}),a?.addEventListener("error",()=>{n()})}),er=()=>new Promise((e,t)=>{const r=ct?.transaction(Ye,"readonly")?.objectStore(Ye).getAll();r?.addEventListener("success",()=>{const s=r.result;e(s)}),r?.addEventListener("error",()=>{t()})}),Rl=async e=>new Promise((t,n)=>{const a=ct?.transaction(Ye,"readwrite")?.objectStore(Ye)?.put({...e});a?.addEventListener("success",()=>{t()}),a?.addEventListener("error",()=>{n()})}),Bl=async e=>new Promise((t,n)=>{const a=ct?.transaction(Ye,"readwrite")?.objectStore(Ye)?.delete(e);a?.addEventListener("success",()=>{t()}),a?.addEventListener("error",()=>{n()})}),ql=()=>new Promise((e,t)=>{const s=ct?.transaction(Ye,"readwrite")?.objectStore(Ye)?.clear();s?.addEventListener("success",()=>{e()}),s?.addEventListener("error",()=>{t()})}),ya=async()=>{await ql()},Ul=async e=>{const t=(await er()).reduce((a,i)=>(a[i.id]=i,a),{}),n={},s=ct?.transaction(Ye,"readwrite")?.objectStore(Ye);e.forEach(a=>{t[a.id]?t[a.id].updatedAt<a.updatedAt&&(n[a.id]=a):n[a.id]=a}),await Promise.all(Object.values(n).map(a=>{const i=s?.put(a);return new Promise((c,l)=>{i?.addEventListener("success",()=>{c()}),i?.addEventListener("error",()=>{l()})})}))};async function ba(){if(navigator.storage&&navigator.storage.persist)try{await navigator.storage.persisted()||await navigator.storage.persist()}catch{console.error("")}}const en=crypto.randomUUID(),tn=new BroadcastChannel("app");tn.addEventListener("message",async e=>{if(e.data&&typeof e.data=="string"){const t=JSON.parse(e.data);if(t.tabId&&t.tabId===en)return;if(console.log("Received message from BroadcastChannel:",e.data),t.operation==="addNote"){const n=t.note;Hs(n)}else if(t.operation==="updateNote"){const n=t.note;yl(n)}else if(t.operation==="deleteNote"){const n=t.noteId;zs(n)}else if(t.operation==="clearAppState")Ks();else if(t.operation==="reloadNotes"){const n=await er();await Qn(n)}else if(t.operation==="initLocalAccount")kn(null),Zr(),pt("/");else if(t.operation==="initAccount"){const n=await Ys();n&&(kn(n),Zr(),pt("/"))}}});Ol().then(async()=>{gl();const e=await Ys();if(e===void 0)Be("start");else{rl("start")&&(Zr(),pt("/")),e?(kn(e),await ba()):kn(null);const t=await er();await Qn(t)}}).catch(()=>{console.error("failed to init db")});const hu=async e=>{const t={...e,id:Dl(),createdAt:Date.now(),updatedAt:Date.now()};Hs(t),tn.postMessage(JSON.stringify({tabId:en,operation:"addNote",note:{...t}})),await Rl({...t})},$l=async e=>{tn.postMessage(JSON.stringify({tabId:en,operation:"deleteNote",noteId:e})),zs(e),await Bl(e)},pu=async()=>{tn.postMessage(JSON.stringify({tabId:en,operation:"clearAppState"})),Ks(),await ya()},_u=async e=>{await Ul(e),tn.postMessage(JSON.stringify({tabId:en,operation:"reloadNotes"}));const t=await er();await Qn(t)},Fl=async()=>{await ya(),await ba(),await Gs(null),kn(null),await Qn([]),tn.postMessage(JSON.stringify({tabId:en,operation:"initLocalAccount"}))},gu=async e=>{await ya(),await ba();const{encryptedClientKey:t}=await Tl({clientKey:e.clientKey,serverKey:e.serverKey}),n={encryptedClientKey:Et(t),lastLogId:-1,lastSync:-1};await Gs(n),kn(n);const r=await er();await Qn(r),tn.postMessage(JSON.stringify({tabId:en,operation:"initAccount"}))};function jl(e,t){Y(t,!0),Ee(()=>{const n=r=>{r.target&&t.dialog?.open&&t.dialogInner&&t.dialogInner!==r.target&&!t.dialogInner.contains(r.target)&&t.onClose()};return document.addEventListener("mousedown",n,{capture:!0}),()=>{document.removeEventListener("mousedown",n,{capture:!0})}}),G()}var Hl=R('<dialog><div class="dialogInner svelte-w3h659"><!></div></dialog> <!>',1);function Js(e,t){Y(t,!0);let n=I(null),r=I(null),s=I(!1);const a=()=>{const d=setTimeout(()=>{t.onClosed()},150);o(n)?.addEventListener("transitionend",()=>{clearTimeout(d),t.onClosed()},{once:!0}),k(s,!1)};it(()=>{t.startClose&&a()}),Ee(()=>{o(n)?.showModal(),o(n)?.getClientRects(),k(s,!0)}),Ee(()=>($s(),()=>{Fs()}));var i=Hl(),c=C(i),l=S(c),u=S(l);Ct(u,()=>t.children),Nt(l,d=>k(r,d),()=>o(r)),Nt(c,d=>k(n,d),()=>o(n));var f=A(c,2);{var h=d=>{jl(d,{get dialog(){return o(n)},get dialogInner(){return o(r)},onClose:a})};U(f,d=>{o(n)&&o(r)&&d(h)})}ae(()=>Z(c,1,J(["dialog",{shown:o(s)}]),"svelte-w3h659")),_(e,i),G()}var zl=R("<div><!></div>");function Zs(e,t){Y(t,!0);let n=I(!1),r=I(null);const s=()=>{const u=setTimeout(()=>{t.onClosed()},150);o(r)?.addEventListener("transitionend",()=>{clearTimeout(u),t.onClosed()},{once:!0}),k(n,!1)},a=u=>{u.target!==o(r)&&!o(r)?.contains(u.target)&&s()},i=u=>{u.target!==o(r)&&!o(r)?.contains(u.target)&&s()};Ee(()=>{o(r)?.getClientRects(),k(n,!0);const u=setTimeout(()=>{document.addEventListener("focusin",a),document.addEventListener("click",i)},0);return()=>{clearTimeout(u),document.removeEventListener("focusin",a),document.removeEventListener("click",i)}}),it(()=>{t.startClose&&s()});var c=zl(),l=S(c);Ct(l,()=>t.children),Nt(c,u=>k(r,u),()=>o(r)),ae(()=>Z(c,1,J(["menu",{top:t.positionTop,shown:o(n)}]),"svelte-vbw57a")),_(e,c),G()}const Kl=(e,t,n)=>{const r=Ws();t.note.tags.forEach(s=>{if(o(n).includes(s)&&r[s].connections===1){const a=new URLSearchParams(E.search),i=o(n).filter(c=>c!==s);i.length===0?a.delete("selectedTags"):a.set("selectedTags",i.join(",")),tl(`${E.pathname}${a.size>0?`?${a.toString()}`:""}`)}}),$l(t.note.id)},Vl=(e,t,n)=>{k(t,!0),k(n,!0)};var Wl=R('<div class="menu svelte-xxw0l"><div><button>Edit</button></div> <div><button>Delete</button></div></div>'),Yl=R('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1);function Gl(e,t){Y(t,!0);const n=(d,v=zt)=>{var p=Wl(),g=S(p),m=S(g);m.__click=[Vl,a,s];var w=A(g,2),y=S(w);y.__click=[Kl,t,c],ae(()=>{Z(m,1,J(["button",{buttonMenuDialog:v()}]),"svelte-xxw0l"),Z(y,1,J(["button",{buttonMenuDialog:v()}]),"svelte-xxw0l")}),_(d,p)};let r=ke(t,"shownMenu",15),s=I(!1),a=I(!1),i=T(Nn),c=T(()=>new URLSearchParams(E.search).get("selectedTags")?.split(",")||[]);const l=()=>{r(!1),k(a,!1)};var u=D(),f=C(u);{var h=d=>{var v=D(),p=C(v);{var g=w=>{Js(w,{get startClose(){return o(a)},onClosed:l,children:(y,b)=>{n(y,()=>!0)},$$slots:{default:!0}})},m=w=>{var y=Yl(),b=C(y);fe(b,()=>({"--bottom":"-180%","--right":"30px"})),Zs(b.lastChild,{get startClose(){return o(a)},get positionTop(){return t.showMenuUp},onClosed:l,children:(L,P)=>{n(L,()=>!1)},$$slots:{default:!0}}),_(w,y)};U(p,w=>{o(i)?w(g):w(m,!1)})}_(d,v)};U(f,d=>{r()&&d(h)})}_(e,u),G()}Ge(["click"]);const Jl=(e,t,n)=>{t.showMenuUp||k(n,!0)},Zl=(e,t)=>{navigator.clipboard.writeText(t.note.url),$i("Link copied to clipboard")},Xl=(e,t)=>{k(t,!0)},Ql=(e,t)=>{k(t,!1)};var ec=R('<li class="note svelte-1mtwaux"><img loading="lazy" class="noteIcon" height="16" width="16" alt="icon"/> <a class="noteLink svelte-1mtwaux" target="_blank" rel="noopener noreferrer"> </a> <div class="spacer svelte-1mtwaux"></div> <div><button class="button svelte-1mtwaux"><!> <!></button> <button><!> <!></button> <!></div></li>');function tc(e,t){Y(t,!0);let n=I(!1),r=I(!1);const s=w=>{try{return`https://external-content.duckduckgo.com/ip3/${new URL(w).host}.ico`}catch{return""}};var a=ec();a.__focusin=[Xl,n],a.__focusout=[Ql,n];var i=S(a),c=A(i,2),l=S(c),u=A(c,4),f=S(u);f.__click=[Zl,t];var h=S(f);le(h,{name:"copy"});var d=A(h,2);zn(d,{children:(w,y)=>{var b=nt("copy link");_(w,b)}});var v=A(f,2);v.__click=[Jl,t,r],Z(v,1,J(["button","buttonMenu"]),"svelte-1mtwaux");var p=S(v);le(p,{name:"menu"});var g=A(p,2);zn(g,{children:(w,y)=>{var b=nt("show menu");_(w,b)}});var m=A(v,2);Gl(m,{get note(){return t.note},get showMenuUp(){return t.showMenuUp},get shownMenu(){return o(r)},set shownMenu(w){k(r,w,!0)}}),ae(w=>{Se(i,"src",w),Se(c,"tabindex",t.focusHidden?-1:0),Se(c,"href",t.note.url),Cr(l,t.note.title),Z(u,1,J(["noteMenuWrapper",{noteMenuWrapperActive:o(n)}]),"svelte-1mtwaux"),Se(f,"tabindex",t.focusHidden?-1:0),Se(v,"tabindex",t.focusHidden?-1:0)},[()=>s(t.note.url)]),_(e,a),G()}Ge(["focusin","focusout","click"]);const Qr=ie({ref:null});let Sa=I(!1);const nc=(e,t)=>{let n;return()=>{n&&clearTimeout(n),n=setTimeout(()=>{e()},t)}},rc=nc(()=>{k(Sa,!1)},100),ac=()=>{k(Sa,!0),rc()},mu=()=>o(Sa),sc=(e,t)=>{o(t)||k(t,!0)};var oc=(e,t)=>t("newest"),ic=(e,t)=>t("oldest"),lc=(e,t)=>t("AtoZ"),cc=(e,t)=>t("ZtoA"),uc=R("<div><button>Newest</button> <button>Oldest</button> <button>A to Z</button> <button>Z to A</button></div>"),fc=R('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),dc=R('<div class="orderMenu svelte-16tnh9z"><button><!> <!></button> <!></div>');function vc(e,t){Y(t,!0);const n=(g,m=zt)=>{var w=uc(),y=S(w);y.__click=[oc,c];var b=A(y,2);b.__click=[ic,c];var L=A(b,2);L.__click=[lc,c];var P=A(L,2);P.__click=[cc,c],ae(()=>{Z(w,1,J(["menu",{menuDialog:m()}]),"svelte-16tnh9z"),Z(y,1,J(["menuButton",{menuButtonDialog:m(),current:o(i)==="newest"}]),"svelte-16tnh9z"),Z(b,1,J(["menuButton",{menuButtonDialog:m(),current:o(i)==="oldest"}]),"svelte-16tnh9z"),Z(L,1,J(["menuButton",{menuButtonDialog:m(),current:o(i)==="AtoZ"}]),"svelte-16tnh9z"),Z(P,1,J(["menuButton",{menuButtonDialog:m(),current:o(i)==="ZtoA"}]),"svelte-16tnh9z")}),_(g,w)};let r=I(!1),s=I(!1),a=T(Nn),i=T(Is);const c=g=>{k(s,!0),Ji(g)},l=()=>{k(r,!1),k(s,!1)};var u=dc(),f=S(u);f.__click=[sc,r],Z(f,1,J(["button","buttonMenu"]),"svelte-16tnh9z");var h=S(f);le(h,{name:"filter"});var d=A(h,2);zn(d,{children:(g,m)=>{var w=nt("show feed order menu");_(g,w)}});var v=A(f,2);{var p=g=>{var m=D(),w=C(m);{var y=L=>{Js(L,{get startClose(){return o(s)},onClosed:l,children:(P,N)=>{n(P,()=>!0)},$$slots:{default:!0}})},b=L=>{var P=fc(),N=C(P);fe(N,()=>({"--right":"20px","--top":"60px"})),Zs(N.lastChild,{get startClose(){return o(s)},onClosed:l,children:(M,W)=>{n(M,()=>!1)},$$slots:{default:!0}}),_(L,P)};U(w,L=>{o(a)?L(y):L(b,!1)})}_(g,m)};U(v,g=>{o(r)&&g(p)})}_(e,u),G()}Ge(["click"]);var hc=R('<div><!> <div class="loader svelte-1wuuvr"></div></div>');function Xs(e,t){Y(t,!0);let n=I(!1);Ee(()=>{const a=setTimeout(()=>{k(n,!0)},200);return()=>{clearTimeout(a)}});var r=hc(),s=S(r);Ct(s,()=>t.children??zt),ae(()=>Z(r,1,J(["block",{shown:o(n)}]),"svelte-1wuuvr")),_(e,r),G()}var pc=R("<a><!></a>"),_c=R('<button type="button"><!></button>');function xt(e,t){let n=ke(t,"type",3,"standard"),r=ke(t,"element",3,"button"),s=ke(t,"href",3,""),a=ke(t,"fullWidth",3,!1);var i=D(),c=C(i);{var l=f=>{var h=pc();h.__click=function(...v){t.onClick?.apply(this,v)};var d=S(h);Ct(d,()=>t.children??zt),ae(()=>{Se(h,"href",s()),Z(h,1,J(["button","a",{dangerous:n()==="dangerous",secondary:n()==="secondary",fullWidth:a()}]),"svelte-na2c6y")}),_(f,h)},u=f=>{var h=_c();h.__click=function(...v){t.onClick?.apply(this,v)};var d=S(h);Ct(d,()=>t.children??zt),ae(()=>Z(h,1,J(["button",{dangerous:n()==="dangerous",secondary:n()==="secondary",fullWidth:a()}]),"svelte-na2c6y")),_(f,h)};U(c,f=>{r()==="a"?f(l):f(u,!1)})}_(e,i)}Ge(["click"]);const gc=(e,t)=>{o(t)&&o(t).scrollTo({top:0,behavior:"smooth"})};var mc=R('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Add note</span>',1),wc=R('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span style="padding-left: 6px;">Import data</span>',1),yc=R('<div class="emptyStore svelte-18wxs6q"><p class="message">No notes found</p> <div class="wrapperButtonsAdd svelte-18wxs6q"><!></div> <div>or</div> <div class="wrapperButtonsAdd svelte-18wxs6q"><!></div></div>'),bc=R('<div class="emptyMessage svelte-18wxs6q">No notes found</div>'),Sc=R('<div class="feed svelte-18wxs6q"><ul class="svelte-18wxs6q"></ul></div>'),kc=R('<div class="wrapperButtonTop svelte-18wxs6q"><button class="buttonTop svelte-18wxs6q"><!> <svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></button></div>'),Ec=R('<div class="filter svelte-18wxs6q"><div class="searchWrapper svelte-18wxs6q"><!></div> <!></div> <div class="wrapperFeed svelte-18wxs6q"><div class="wrapperContainer svelte-18wxs6q"><!></div></div> <!>',1);function Pc(e,t){Y(t,!0);let n=I(null),r=50,s=I(0),a=I(0),i=I(0),c=I(ie([])),l=T(Zi),u=T(()=>Nn()?o(n):Qr.ref),f=null,h=null,d=I(!1),v=0;const p=T(Qi);it(()=>{o(l),o(p),o(y),o(u)?.scrollTo(0,0)});const g=()=>{if(o(u)){const x=o(u).scrollTop||0;x===0?k(d,!1):!o(d)&&v>x?k(d,!0):o(d)&&v<x&&k(d,!1),v=x}},m=()=>{ac(),f||(f=requestAnimationFrame(()=>{g();const x=o(u)?.scrollTop||0;k(i,x,!0);const H=Math.ceil(o(s)/r);k(a,Math.floor(x/(r*H))*(r*H)),f=null}))},w=()=>{h||(h=requestAnimationFrame(()=>{g(),k(s,window.innerHeight-180||0,!0);const x=o(u)?.scrollTop||0;k(i,x,!0);const H=Math.ceil(o(s)/r);k(a,Math.floor(x/(r*H))*(r*H)),h=null}))};Ee(()=>{w(),m()}),it(()=>(o(u)?.addEventListener("scroll",m),window.addEventListener("resize",w),()=>{o(u)?.removeEventListener("scroll",m),window.removeEventListener("resize",w)}));const y=T(Is);let b=I(ie(o(y))),L=T(wl);it(()=>{o(y);const x=o(L)()||[];Yt(()=>o(b))!==o(y)&&(Yt(()=>k(b,o(y),!0)),x.sort((K,F)=>{if(!K||!F)return 0;switch(o(y)){case"newest":return K.createdAt>F.createdAt?-1:1;case"oldest":return K.createdAt<F.createdAt?-1:1;case"AtoZ":return K.title.localeCompare(F.title);case"ZtoA":return F.title.localeCompare(K.title);default:return 0}}));const Pe=[],we={};for(let K=x.length-1;K>=0;K--){const F=x[K];if(F&&!(o(p).length&&o(p).some(ne=>!F.tags.includes(ne)))&&!(o(l)&&!(F.title.toLowerCase().includes(o(l).toLowerCase())||F.url.toLowerCase().includes(o(l).toLowerCase())||F.description.toLowerCase().includes(o(l).toLowerCase())))){if(F.tags)for(const ne of F.tags)we[ne]?we[ne].connections++:we[ne]={name:ne,connections:1};Pe.push(F)}}bl(we),k(c,Pe,!0)});const P=T(()=>o(c).length*r);let M=T(()=>{const x=Math.ceil(o(s)/r);let H=Math.floor(o(a)/r);return H=H-Math.min(H,x),o(c).slice(H,H+x*3)}),W=T(()=>r*Math.ceil(o(s)/r));const de=T(()=>o(a)-Math.min(o(a),o(W))),te=()=>{o(u)&&o(u).scrollTo({top:0,behavior:"smooth"})},z=()=>{const x=rt();x.includes("import")||x.push("import");const H=new URLSearchParams(E.search);return H.set("stackPages",x.join(",")),`${E.pathname}?${H}`};let ve=T(()=>{const x=rt();x.includes("newNote")||x.push("newNote");const H=new URLSearchParams(E.search);return H.set("stackPages",x.join(",")),`${E.pathname}?${H}`}),he=T(z);const X=x=>{x.preventDefault(),Be("newNote")},se=x=>{x.preventDefault(),Be("import")},qe=x=>{Xi(x)};var Le=Ec(),Te=C(Le),Ue=S(Te),nn=S(Ue);Xr(nn,{onFocus:te,onChange:qe,placeholder:"Search",get value(){return o(l)}});var xn=A(Ue,2);vc(xn,{});var rn=A(Te,2),$e=S(rn),pe=S($e);{var De=x=>{Xs(x,{})},me=x=>{var H=D(),Pe=C(H);{var we=F=>{var ne=yc(),Ie=A(S(ne),2),vt=S(Ie);xt(vt,{element:"a",get href(){return o(ve)},onClick:X,children:(ye,Je)=>{var ue=mc(),Q=C(ue);fe(Q,()=>({"--size":"24px","--color":"#b0b0b0"})),le(Q.lastChild,{name:"plus"}),_(ye,ue)},$$slots:{default:!0}});var oe=A(Ie,4),ce=S(oe);xt(ce,{element:"a",get href(){return o(he)},onClick:se,children:(ye,Je)=>{var ue=wc(),Q=C(ue);fe(Q,()=>({"--size":"18px","--color":"#b0b0b0"})),le(Q.lastChild,{name:"import"}),_(ye,ue)},$$slots:{default:!0}}),_(F,ne)},K=F=>{var ne=D(),Ie=C(ne);{var vt=ce=>{var ye=bc();_(ce,ye)},oe=ce=>{var ye=Sc(),Je=S(ye);dn(Je,23,()=>o(M),ue=>ue.id,(ue,Q,Me)=>{{let Lt=T(()=>o(Me)*r<o(i)-o(de)-r/2||o(Me)*r>o(i)-o(de)+Math.floor(o(s)/r)*r),An=T(()=>(o(Me)+3)*r<o(i)-o(de)-r/2||(o(Me)+3)*r>o(i)-o(de)+Math.floor(o(s)/r)*r);tc(ue,{get focusHidden(){return o(Lt)},get showMenuUp(){return o(An)},get note(){return o(Q)}})}}),ae(ue=>{_r(ye,`min-height: ${ue??""}px`),_r(Je,`transform: translateY(${o(de)??""}px);`)},[()=>Math.max((o(P)>o(s),o(P)),0)]),_(ce,ye)};U(Ie,ce=>{o(M).length===0?ce(vt):ce(oe,!1)},!0)}_(F,ne)};U(Pe,F=>{(o(L)()||[]).length===0?F(we):F(K,!1)},!0)}_(x,H)};U(pe,x=>{Nr()?x(me,!1):x(De)})}Nt($e,x=>k(n,x),()=>o(n));var at=A(rn,2);{var _e=x=>{var H=kc(),Pe=S(H);Pe.__click=[gc,u];var we=S(Pe);zn(we,{children:(F,ne)=>{var Ie=nt("top");_(F,Ie)}});var K=A(we,2);fe(K,()=>({"--size":"22px"})),le(K.lastChild,{name:"up"}),_(x,H)};U(at,x=>{o(d)&&x(_e)})}_(e,Le),G()}Ge(["click"]);var Cc=R('<!> <div class="content svelte-cu0ar8"><!></div>',1);function Nc(e){var t=Cc(),n=C(t);Ll(n,{});var r=A(n,2),s=S(r);Pc(s,{}),_(e,t)}var Mt=(e=>(e.Light="light",e.System="system",e.Dark="dark",e))(Mt||{});let Qs=I(ie(localStorage.getItem("colorScheme")||"system"));const xc=e=>{localStorage.setItem("colorScheme",e),e==="system"?window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.dataset.colorScheme="dark":document.documentElement.dataset.colorScheme="light":document.documentElement.dataset.colorScheme=e,k(Qs,e,!0)},Ac=()=>o(Qs);var Lc=R('<div class="wrapper svelte-1syxvud"><fieldset class="switcher svelte-1syxvud"><legend class="vh svelte-1syxvud">Color Scheme</legend> <input id="light" type="radio" aria-label="Light"/> <label for="light" title="Light" aria-label="Light"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <input id="system" type="radio" aria-label="System"/> <label for="system" title="System" aria-label="System"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <input id="dark" type="radio" aria-label="Dark"/> <label for="dark" title="Dark" aria-label="Dark"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <div class="wrapSwitcherStatus svelte-1syxvud"><div class="switcherStatus svelte-1syxvud"></div></div></fieldset></div>');function Tc(e,t){Y(t,!0);const n=T(Ac),r=m=>{const w=m.target.value;xc(w)},s="color-scheme-switcher";var a=Lc(),i=S(a),c=A(S(i),2);Z(c,1,J(["vh","input"]),"svelte-1syxvud"),Se(c,"name",s),c.__change=r;var l=A(c,2);Z(l,1,J(["switcherButton","light"]),"svelte-1syxvud");var u=S(l);fe(u,()=>({"--size":"20px"})),le(u.lastChild,{name:"sun"});var f=A(l,2);Z(f,1,J(["vh","input"]),"svelte-1syxvud"),Se(f,"name",s),f.__change=r;var h=A(f,2);Z(h,1,J(["switcherButton","system"]),"svelte-1syxvud");var d=S(h);fe(d,()=>({"--size":"14px"})),le(d.lastChild,{name:"a"});var v=A(h,2);Z(v,1,J(["vh","input"]),"svelte-1syxvud"),Se(v,"name",s),v.__change=r;var p=A(v,2);Z(p,1,J(["switcherButton","dark"]),"svelte-1syxvud");var g=S(p);return fe(g,()=>({"--size":"20px"})),le(g.lastChild,{name:"moon"}),ae(()=>{Br(c,Mt.Light),qr(c,o(n)===Mt.Light),Br(f,Mt.System),qr(f,o(n)===Mt.System),Br(v,Mt.Dark),qr(v,o(n)===Mt.Dark)}),_(e,a),G({handleChange:r})}Ge(["change"]);const Dc=()=>{Be("import")},Ic=()=>{Be("export")},Mc=()=>{Be("clearStorage")},Oc=()=>{Be("accessKeys")};var Rc=R('<li class="svelte-1akkbl0"><button class="button svelte-1akkbl0"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1akkbl0">Access keys</span></button></li>'),Bc=R("<span> </span>"),qc=R('<div class="svelte-1akkbl0"><!> <ul class="svelte-1akkbl0"><li class="svelte-1akkbl0"><button class="button svelte-1akkbl0"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1akkbl0">Import data</span></button></li> <li class="svelte-1akkbl0"><button class="button svelte-1akkbl0"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1akkbl0">Export data</span></button></li> <li class="svelte-1akkbl0"><button class="button svelte-1akkbl0"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1akkbl0">Clear storage</span></button></li> <!></ul> <div class="version svelte-1akkbl0"><!></div></div>');function Uc(e,t){Y(t,!0);let n=I("");Ee(()=>{const P=new AbortController;return fetch("/build-metadata.json",{signal:P.signal}).then(N=>N.json()).then(N=>{k(n,`${N.buildHash}`)}),()=>{P.abort()}});let r=T(ml);var s=qc(),a=S(s);Tc(a,{});var i=A(a,2),c=S(i),l=S(c);l.__click=[Dc];var u=S(l);fe(u,()=>({"--size":"20px"})),le(u.lastChild,{name:"import"});var f=A(c,2),h=S(f);h.__click=[Ic];var d=S(h);fe(d,()=>({"--size":"20px"})),le(d.lastChild,{name:"export"});var v=A(f,2),p=S(v);p.__click=[Mc];var g=S(p);fe(g,()=>({"--size":"20px"})),le(g.lastChild,{name:"trash"});var m=A(v,2);{var w=P=>{var N=Rc(),M=S(N);M.__click=[Oc];var W=S(M);fe(W,()=>({"--size":"20px"})),le(W.lastChild,{name:"key"}),_(P,N)};U(m,P=>{o(r)&&P(w)})}var y=A(i,2),b=S(y);{var L=P=>{var N=Bc(),M=S(N);ae(W=>Cr(M,`version: 0.0.1 build_date: "${W??""}" build_hash:
				${o(n)??""}`),[()=>new Date(1753669909575).toISOString().replaceAll("T"," ").replace(/\..*/,"")]),_(P,N)};U(b,P=>{o(n)&&P(L)})}_(e,s),G()}Ge(["click"]);var $c=R('<div class="content svelte-9hh95f"><p class="message svelte-9hh95f">use app</p> <div class="buttonContainer svelte-9hh95f"><div class="buttonContainerItem svelte-9hh95f"><!></div> <div class="buttonContainerItem svelte-9hh95f"><!></div></div></div>');function Fc(e,t){Y(t,!0);let n=I("idle");const r=()=>{k(n,"loading"),Be("auth")},s=async()=>{k(n,"loading"),await Fl(),qn(!1),Rs()};it(()=>{qn(o(n)==="idle"||o(n)==="loading")}),Ee(()=>(qn(!0),()=>{qn(!1)}));var a=$c(),i=A(S(a),2),c=S(i),l=S(c);xt(l,{onClick:r,fullWidth:!0,children:(h,d)=>{var v=nt("with account");_(h,v)},$$slots:{default:!0}});var u=A(c,2),f=S(u);xt(f,{onClick:s,fullWidth:!0,type:"secondary",children:(h,d)=>{var v=nt("without account");_(h,v)},$$slots:{default:!0}}),_(e,a),G()}var jc=R('<div class="content svelte-9hh95f"><p class="message svelte-9hh95f">sign in / sign up</p> <div class="buttonContainer svelte-9hh95f"><div class="buttonContainerItem svelte-9hh95f"><!></div> <div class="buttonContainerItem svelte-9hh95f"><!></div></div></div>');function Hc(e,t){Y(t,!1);const n=async()=>{Be("signin")},r=async()=>{Be("signup")};Ee(()=>(qn(!0),Fa(!0),()=>{Fa(!1)})),Cn();var s=jc(),a=A(S(s),2),i=S(a),c=S(i);xt(c,{onClick:n,fullWidth:!0,children:(f,h)=>{var d=nt("sign in");_(f,d)},$$slots:{default:!0}});var l=A(i,2),u=S(l);xt(u,{onClick:r,fullWidth:!0,children:(f,h)=>{var d=nt("sign up");_(f,d)},$$slots:{default:!0}}),_(e,s),G()}let eo=I(200);const zc=e=>{k(eo,e,!0)},Kc=()=>o(eo);var Vc=R('<div class="svelte-m08fup"><!></div>');function He(e,t){Y(t,!0);let n=I(null);Ee(()=>{o(n)&&(o(n).getBoundingClientRect(),o(n).style.opacity="1");const a=new ResizeObserver(i=>{for(let c of i){const l=c.contentRect.height;console.log("Div height:",l),zc(l)}});if(o(n))return a.observe(o(n)),()=>{o(n)&&a.unobserve(o(n)),a.disconnect()}});var r=Vc(),s=S(r);Ct(s,()=>t.children),Nt(r,a=>k(n,a),()=>o(n)),_(e,r),G()}var Wc=R('<div class="svelte-uzefkz"><!></div>');function wt(e,t){Y(t,!1);const n=Kc();Cn();var r=Wc(),s=S(r);Xs(s,{}),ae(()=>_r(r,`min-height: ${n??""}px;`)),_(e,r),G()}var Yc=R('<div class="svelte-1tpcci8"><p class="svelte-1tpcci8">Something went wrong. Please reload the page</p> <!></div>');function yt(e){var t=Yc(),n=A(S(t),2);xt(n,{onClick:()=>location.reload(),children:(r,s)=>{var a=nt("Reload");_(r,a)},$$slots:{default:!0}}),_(e,t)}var Gc=R('<div class="svelte-ndasxn"><p class="svelte-ndasxn">Page not found</p> <!></div>');function Jc(e,t){Y(t,!1);const n=()=>{pt("/")};Cn();var r=Gc(),s=A(S(r),2);xt(s,{element:"a",href:"/",onClick:n,children:(a,i)=>{var c=nt("close");_(a,c)},$$slots:{default:!0}}),_(e,r),G()}var Zc=R("<!> <!>",1);function Xc(e,t){Y(t,!0);const n=(z,B=zt,ve)=>{let he=Sr(()=>_o(ve?.(),!1));var X=D(),se=C(X);{var qe=Te=>{He(Te,{children:(Ue,nn)=>{Uc(Ue,{})},$$slots:{default:!0}})},Le=Te=>{var Ue=D(),nn=C(Ue);{var xn=$e=>{He($e,{children:(pe,De)=>{var me=D(),at=C(me);Ze(at,L,_e=>{wt(_e,{})},(_e,x)=>{var H=D();const Pe=T(()=>o(x).default);var we=C(H);Xe(we,()=>o(Pe),(K,F)=>{F(K,{})}),_(_e,H)},_e=>{yt(_e)}),_(pe,me)},$$slots:{default:!0}})},rn=$e=>{var pe=D(),De=C(pe);{var me=_e=>{He(_e,{children:(x,H)=>{var Pe=D(),we=C(Pe);Ze(we,v,K=>{wt(K,{})},(K,F)=>{var ne=D();const Ie=T(()=>o(F).default);var vt=C(ne);Xe(vt,()=>o(Ie),(oe,ce)=>{ce(oe,{})}),_(K,ne)},K=>{yt(K)}),_(x,Pe)},$$slots:{default:!0}})},at=_e=>{var x=D(),H=C(x);{var Pe=K=>{He(K,{children:(F,ne)=>{var Ie=D(),vt=C(Ie);Ze(vt,p,oe=>{wt(oe,{})},(oe,ce)=>{var ye=D();const Je=T(()=>o(ce).default);var ue=C(ye);Xe(ue,()=>o(Je),(Q,Me)=>{Me(Q,{})}),_(oe,ye)},oe=>{yt(oe)}),_(F,Ie)},$$slots:{default:!0}})},we=K=>{var F=D(),ne=C(F);{var Ie=oe=>{He(oe,{children:(ce,ye)=>{var Je=D(),ue=C(Je);Ze(ue,g,Q=>{wt(Q,{})},(Q,Me)=>{var Lt=D();const An=T(()=>o(Me).default);var xr=C(Lt);Xe(xr,()=>o(An),(gt,an)=>{an(gt,{})}),_(Q,Lt)},Q=>{yt(Q)}),_(ce,Je)},$$slots:{default:!0}})},vt=oe=>{var ce=D(),ye=C(ce);{var Je=Q=>{He(Q,{children:(Me,Lt)=>{Fc(Me,{})},$$slots:{default:!0}})},ue=Q=>{var Me=D(),Lt=C(Me);{var An=gt=>{He(gt,{children:(an,ka)=>{Hc(an,{})},$$slots:{default:!0}})},xr=gt=>{var an=D(),ka=C(an);{var to=sn=>{He(sn,{children:(tr,Ea)=>{var nr=D(),Ar=C(nr);Ze(Ar,m,Fe=>{wt(Fe,{})},(Fe,on)=>{var Ln=D();const ln=T(()=>o(on).default);var Tn=C(Ln);Xe(Tn,()=>o(ln),(Ce,mt)=>{mt(Ce,{})}),_(Fe,Ln)},Fe=>{yt(Fe)}),_(tr,nr)},$$slots:{default:!0}})},no=sn=>{var tr=D(),Ea=C(tr);{var nr=Fe=>{He(Fe,{children:(on,Ln)=>{var ln=D(),Tn=C(ln);Ze(Tn,w,Ce=>{wt(Ce,{})},(Ce,mt)=>{var Dn=D();const cn=T(()=>o(mt).default);var In=C(Dn);Xe(In,()=>o(cn),(Ne,Tt)=>{Tt(Ne,{})}),_(Ce,Dn)},Ce=>{yt(Ce)}),_(on,ln)},$$slots:{default:!0}})},Ar=Fe=>{var on=D(),Ln=C(on);{var ln=Ce=>{He(Ce,{children:(mt,Dn)=>{var cn=D(),In=C(cn);Ze(In,y,Ne=>{wt(Ne,{})},(Ne,Tt)=>{var rr=D();const ar=T(()=>o(Tt).default);var Lr=C(rr);Xe(Lr,()=>o(ar),(Dt,Tr)=>{Tr(Dt,{get hidden(){return o(he)}})}),_(Ne,rr)},Ne=>{yt(Ne)}),_(mt,cn)},$$slots:{default:!0}})},Tn=Ce=>{var mt=D(),Dn=C(mt);{var cn=Ne=>{He(Ne,{children:(Tt,rr)=>{var ar=D(),Lr=C(ar);Ze(Lr,b,Dt=>{wt(Dt,{})},(Dt,Tr)=>{var Pa=D();const ro=T(()=>o(Tr).default);var ao=C(Pa);Xe(ao,()=>o(ro),(so,oo)=>{oo(so,{})}),_(Dt,Pa)},Dt=>{yt(Dt)}),_(Tt,ar)},$$slots:{default:!0}})},In=Ne=>{He(Ne,{children:(Tt,rr)=>{Jc(Tt,{})},$$slots:{default:!0}})};U(Dn,Ne=>{B()==="confirmAccessKey"?Ne(cn):Ne(In,!1)},!0)}_(Ce,mt)};U(Ln,Ce=>{B()==="accessKeys"?Ce(ln):Ce(Tn,!1)},!0)}_(Fe,on)};U(Ea,Fe=>{B()==="signin"?Fe(nr):Fe(Ar,!1)},!0)}_(sn,tr)};U(ka,sn=>{B()==="signup"?sn(to):sn(no,!1)},!0)}_(gt,an)};U(Lt,gt=>{B()==="auth"?gt(An):gt(xr,!1)},!0)}_(Q,Me)};U(ye,Q=>{B()==="start"?Q(Je):Q(ue,!1)},!0)}_(oe,ce)};U(ne,oe=>{B()==="clearStorage"?oe(Ie):oe(vt,!1)},!0)}_(K,F)};U(H,K=>{B()==="export"?K(Pe):K(we,!1)},!0)}_(_e,x)};U(De,_e=>{B()==="import"?_e(me):_e(at,!1)},!0)}_($e,pe)};U(nn,$e=>{B()==="newNote"?$e(xn):$e(rn,!1)},!0)}_(Te,Ue)};U(se,Te=>{B()==="settings"?Te(qe):Te(Le,!1)})}_(z,X)};let r=T(al),s=T(Nr),a=null,i=null,c=null,l=null,u=null,f=null,h=null,d=null;function v(){return a||(a=Qe(()=>import("./ImportData-B8j2cEK0.js"),__vite__mapDeps([6,7]))),a}function p(){return i||(i=Qe(()=>import("./ExportData-BcIQglOO.js"),__vite__mapDeps([8,9,10,11]))),i}function g(){return c||(c=Qe(()=>import("./ClearStore-BbnwFmq1.js"),__vite__mapDeps([12,13]))),c}function m(){return l||(l=Qe(()=>import("./Signup-CXTwGW6H.js"),__vite__mapDeps([14,15,16]))),l}function w(){return u||(u=Qe(()=>import("./Signin-C90YuTDp.js"),__vite__mapDeps([17,15,16]))),u}function y(){return f||(f=Qe(()=>import("./AccessKeys-B4A161tG.js"),__vite__mapDeps([18,15,19]))),f}function b(){return h||(h=Qe(()=>import("./ConfirmAccessKey-Cy2eilrh.js"),__vite__mapDeps([20,15,21,22,23]))),h}function L(){return d||(d=Qe(()=>import("./NewNote-C_P_FvxS.js"),__vite__mapDeps([24,21,22,9,10,25]))),d}var P=Zc(),N=C(P);{var M=z=>{Nc(z)};U(N,z=>{o(s)&&z(M)})}var W=A(N,2);{var de=z=>{var B=D(),ve=C(B);dn(ve,17,()=>o(r),Ni,(he,X,se)=>{{let qe=T(()=>se!==o(r).length-1&&!!o(r)[se+1]?.shown);ja(he,{get shown(){return o(X).shown},get hidden(){return o(qe)},isLastDialog:se===0,children:(Le,Te)=>{{let Ue=T(()=>se!==o(r).length-1&&!!o(r)[se+1]?.shown);n(Le,()=>o(X).page,()=>o(Ue))}},$$slots:{default:!0}})}}),_(z,B)},te=z=>{var B=D(),ve=C(B);{var he=X=>{{let se=T(()=>o(r).length===1);ja(X,{onBack:()=>Bs(),get shown(){return o(r)[o(r).length-1].shown},hidden:!1,get isLastDialog(){return o(se)},children:(qe,Le)=>{n(qe,()=>o(r)[o(r).length-1].page)},$$slots:{default:!0}})}};U(ve,X=>{o(r).length>0&&X(he)},!0)}_(z,B)};U(W,z=>{Nn()?z(de):z(te,!1)})}_(e,P),G()}const Rn=ie({working:!1,swipingRatio:1,isSwiping:!1,duration:.35});let ea=!1;const Fr=()=>{document.activeElement instanceof HTMLInputElement&&document.activeElement.type==="text"||document.activeElement instanceof HTMLTextAreaElement?ea=!0:ea=!1},Qc=()=>ea;function eu(){const e=navigator.userAgent;if(!(/iPad|iPhone|iPod/.test(e)&&!window.MSStream))return!1;const n=/Safari/.test(e)&&!/Chrome/.test(e)&&!/CriOS/.test(e)&&!/FxiOS/.test(e),r=/Macintosh/.test(e)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>1;return!!n||!!r}const tu=eu();function nu(e,t){Y(t,!1),Ee(()=>{Fr(),document.addEventListener("focusin",Fr),document.addEventListener("focusout",Fr),document.addEventListener("touchmove",function(n){Qc()&&tu&&n.preventDefault()},{passive:!1})}),Cn(),G()}function ru(e,t){Y(t,!1);let n=0;Ee(()=>{document.querySelector("div"),document.addEventListener("touchstart",r=>{n=r.touches[0].clientX},{passive:!1}),document.addEventListener("touchmove",r=>{const a=r.touches[0].clientX-n;(n<50&&a>0||n>window.innerWidth-50&&a<0)&&r.preventDefault()},{passive:!1}),document.addEventListener("touchend",()=>{n=0}),document.addEventListener("touchcancel",()=>{n=0})}),Cn(),G()}var au=R('<!> <!> <!> <main><!> <div class="container svelte-ngsolt"><!></div></main>',1);function su(e,t){Y(t,!0),Ee(async()=>{await new Promise(v=>setTimeout(v,100)),await vi(),Rn.working=!0});let n=T(()=>rt().length>0),r=T(Nr);var s=au(),a=C(s);ru(a,{});var i=A(a,2);nu(i,{});var c=A(i,2);ji(c,{});var l=A(c,2),u=S(l);{var f=v=>{ll(v,{})};U(u,v=>{o(r)&&v(f)})}var h=A(u,2),d=S(h);Xc(d,{}),Nt(l,v=>Qr.ref=v,()=>Qr?.ref),ae(()=>{_r(l,`--swiping-ratio: ${Rn.swipingRatio}; --transition-timing-default: ${Rn.duration}s;`),Z(l,1,J(["main",{isAnimationOn:Rn.working&&!Rn.isSwiping,open:o(n)}]),"svelte-ngsolt")}),_(e,s),G()}window.addEventListener("unhandledrejection",e=>{alert("Error: "+e.reason.message)});window.isUnsupportedBrowser||Ei(su,{target:document.getElementById("app")});export{Nr as $,wl as A,xt as B,cu as C,pu as D,ie as E,Fa as F,fu as G,gu as H,uu as I,du as J,dn as K,Xs as L,fe as M,le as N,Cr as O,Ni as P,T as Q,Be as R,rt as S,E as T,ml as U,zn as V,vu as W,Bs as X,nl as Y,ke as Z,Ri as _,o as a,lr as a0,Cn as a1,hu as a2,lu as a3,Se as a4,Br as a5,qr as a6,_r as a7,Rn as a8,Qc as a9,Ct as aa,ac as ab,mu as ac,jl as ad,Kc as ae,al as af,Ls as ag,Ki as ah,I as b,S as c,_ as d,G as e,R as f,Dl as g,A as h,U as i,C as j,Nn as k,D as l,Nt as m,k as n,Ee as o,Y as p,ae as q,Z as r,qn as s,nt as t,it as u,J as v,bi as w,Ge as x,_u as y,Rs as z};
