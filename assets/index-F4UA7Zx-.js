const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/DesktopDialog-Ch0_8FSQ.js","assets/DesktopDialog-C5Rl2lrH.css","assets/ImportData-BkUNvFIH.js","assets/Loader-D1ujCXmg.js","assets/Loader-BEJh1FrK.css","assets/ImportData-CZGzVRRc.css","assets/ExportData-n82gviUM.js","assets/ExportData-Cqdm1vpS.css","assets/ClearStore-CfCt90bD.js","assets/ClearStore-DiVqV26R.css","assets/Signup-C8o3vNI_.js","assets/Signup-CnX7iJxK.css","assets/Signin-C0EeU_RY.js"])))=>i.map(i=>d[i]);
var ro=Object.defineProperty;var ao=(e,t,n)=>t in e?ro(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var rt=(e,t,n)=>ao(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();const Sr=!1;var Qn=Array.isArray,oo=Array.prototype.indexOf,$n=Array.from,so=Object.defineProperty,Tt=Object.getOwnPropertyDescriptor,Br=Object.getOwnPropertyDescriptors,io=Object.prototype,lo=Array.prototype,er=Object.getPrototypeOf,br=Object.isExtensible;const Qt=()=>{};function co(e){return typeof(e==null?void 0:e.then)=="function"}function uo(e){return e()}function dn(e){for(var t=0;t<e.length;t++)e[t]()}const Le=2,Fr=4,_n=8,tr=16,Ve=32,Ot=64,nr=128,Te=256,fn=512,De=1024,Ke=2048,vt=4096,Ue=8192,rr=16384,Hr=32768,$t=65536,Er=1<<17,fo=1<<18,Ur=1<<19,zn=1<<20,it=Symbol("$state"),vo=Symbol("legacy props"),ho=Symbol(""),Kr=new class extends Error{constructor(){super(...arguments);rt(this,"name","StaleReactionError");rt(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function zr(e){return e===this.v}function go(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function jr(e){return!go(e,this.v)}function po(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function mo(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function _o(e){throw new Error("https://svelte.dev/e/effect_orphan")}function wo(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function yo(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function So(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function bo(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Eo(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let xt=!1,To=!1;function ko(){xt=!0}const ar=1,or=2,Vr=4,Co=8,Lo=16,Do=1,Ao=2,Po=4,Oo=8,xo=16,No=1,Mo=2,pe=Symbol(),Io="http://www.w3.org/1999/xhtml";function Ro(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let ce=null;function vn(e){ce=e}function q(e,t=!1,n){var r=ce={p:ce,c:null,d:!1,e:null,m:!1,s:e,x:null,l:null};xt&&!t&&(ce.l={s:null,u:null,r1:[],r2:ut(!1)}),ea(()=>{r.d=!0})}function Z(e){const t=ce;if(t!==null){e!==void 0&&(t.x=e);const l=t.e;if(l!==null){var n=se,r=ee;t.e=null;try{for(var a=0;a<l.length;a++){var o=l[a];Ie(o.effect),Ae(o.reaction),sr(o.fn)}}finally{Ie(n),Ae(r)}}ce=t.p,t.m=!0}return e||{}}function Nt(){return!xt||ce!==null&&ce.l===null}function fe(e){if(typeof e!="object"||e===null||it in e)return e;const t=er(e);if(t!==io&&t!==lo)return e;var n=new Map,r=Qn(e),a=M(0),o=ee,l=i=>{var c=ee;Ae(o);var u=i();return Ae(c),u};return r&&n.set("length",M(e.length)),new Proxy(e,{defineProperty(i,c,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&So();var d=n.get(c);return d===void 0?d=l(()=>{var v=M(u.value);return n.set(c,v),v}):E(d,u.value,!0),!0},deleteProperty(i,c){var u=n.get(c);if(u===void 0){if(c in i){const f=l(()=>M(pe));n.set(c,f),On(a)}}else{if(r&&typeof c=="string"){var d=n.get("length"),v=Number(c);Number.isInteger(v)&&v<d.v&&E(d,v)}E(u,pe),On(a)}return!0},get(i,c,u){var h;if(c===it)return e;var d=n.get(c),v=c in i;if(d===void 0&&(!v||(h=Tt(i,c))!=null&&h.writable)&&(d=l(()=>{var p=fe(v?i[c]:pe),g=M(p);return g}),n.set(c,d)),d!==void 0){var f=s(d);return f===pe?void 0:f}return Reflect.get(i,c,u)},getOwnPropertyDescriptor(i,c){var u=Reflect.getOwnPropertyDescriptor(i,c);if(u&&"value"in u){var d=n.get(c);d&&(u.value=s(d))}else if(u===void 0){var v=n.get(c),f=v==null?void 0:v.v;if(v!==void 0&&f!==pe)return{enumerable:!0,configurable:!0,value:f,writable:!0}}return u},has(i,c){var f;if(c===it)return!0;var u=n.get(c),d=u!==void 0&&u.v!==pe||Reflect.has(i,c);if(u!==void 0||se!==null&&(!d||(f=Tt(i,c))!=null&&f.writable)){u===void 0&&(u=l(()=>{var h=d?fe(i[c]):pe,p=M(h);return p}),n.set(c,u));var v=s(u);if(v===pe)return!1}return d},set(i,c,u,d){var _;var v=n.get(c),f=c in i;if(r&&c==="length")for(var h=u;h<v.v;h+=1){var p=n.get(h+"");p!==void 0?E(p,pe):h in i&&(p=l(()=>M(pe)),n.set(h+"",p))}if(v===void 0)(!f||(_=Tt(i,c))!=null&&_.writable)&&(v=l(()=>M(void 0)),E(v,fe(u)),n.set(c,v));else{f=v.v!==pe;var g=l(()=>fe(u));E(v,g)}var m=Reflect.getOwnPropertyDescriptor(i,c);if(m!=null&&m.set&&m.set.call(d,u),!f){if(r&&typeof c=="string"){var y=n.get("length"),S=Number(c);Number.isInteger(S)&&S>=y.v&&E(y,S+1)}On(a)}return!0},ownKeys(i){s(a);var c=Reflect.ownKeys(i).filter(v=>{var f=n.get(v);return f===void 0||f.v!==pe});for(var[u,d]of n)d.v!==pe&&!(u in i)&&c.push(u);return c},setPrototypeOf(){bo()}})}function On(e,t=1){E(e,e.v+t)}function en(e){var t=Le|Ke,n=ee!==null&&(ee.f&Le)!==0?ee:null;return se===null||n!==null&&(n.f&Te)!==0?t|=Te:se.f|=Ur,{ctx:ce,deps:null,effects:null,equals:zr,f:t,fn:e,reactions:null,rv:0,v:null,wv:0,parent:n??se,ac:null}}function H(e){const t=en(e);return la(t),t}function Wr(e){const t=en(e);return t.equals=jr,t}function Yr(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)ze(t[n])}}function Bo(e){for(var t=e.parent;t!==null;){if((t.f&Le)===0)return t;t=t.parent}return null}function Xr(e){var t,n=se;Ie(Bo(e));try{Yr(e),t=fa(e)}finally{Ie(n)}return t}function Gr(e){var t=Xr(e);if(e.equals(t)||(e.v=t,e.wv=ua()),!Rt){var n=(Ze||(e.f&Te)!==0)&&e.deps!==null?vt:De;Re(e,n)}}const Wt=new Map;function ut(e,t){var n={f:0,v:e,reactions:null,equals:zr,rv:0,wv:0};return n}function M(e,t){const n=ut(e);return la(n),n}function jn(e,t=!1,n=!0){var a;const r=ut(e);return t||(r.equals=jr),xt&&n&&ce!==null&&ce.l!==null&&((a=ce.l).s??(a.s=[])).push(r),r}function E(e,t,n=!1){ee!==null&&(!Me||(ee.f&Er)!==0)&&Nt()&&(ee.f&(Le|tr|Er))!==0&&!(he!=null&&he[1].includes(e)&&he[0]===ee)&&Eo();let r=n?fe(t):t;return kt(e,r)}function kt(e,t){if(!e.equals(t)){var n=e.v;Rt?Wt.set(e,t):Wt.set(e,n),e.v=t,(e.f&Le)!==0&&((e.f&Ke)!==0&&Xr(e),Re(e,(e.f&Te)===0?De:vt)),e.wv=ua(),Jr(e,Ke),Nt()&&se!==null&&(se.f&De)!==0&&(se.f&(Ve|Ot))===0&&(Ce===null?Jo([e]):Ce.push(e))}return t}function Jr(e,t){var n=e.reactions;if(n!==null)for(var r=Nt(),a=n.length,o=0;o<a;o++){var l=n[o],i=l.f;(i&Ke)===0&&(!r&&l===se||(Re(l,t),(i&(De|Te))!==0&&((i&Le)!==0?Jr(l,vt):cr(l))))}}let Fo=!1;var Tr,qr,Zr,Qr;function Ho(){if(Tr===void 0){Tr=window,qr=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;Zr=Tt(t,"firstChild").get,Qr=Tt(t,"nextSibling").get,br(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),br(n)&&(n.__t=void 0)}}function wn(e=""){return document.createTextNode(e)}function Ct(e){return Zr.call(e)}function yn(e){return Qr.call(e)}function T(e,t){return Ct(e)}function W(e,t){{var n=Ct(e);return n instanceof Comment&&n.data===""?yn(n):n}}function A(e,t=1,n=!1){let r=e;for(;t--;)r=yn(r);return r}function Uo(e){e.textContent=""}function $r(e){se===null&&ee===null&&_o(),ee!==null&&(ee.f&Te)!==0&&se===null&&mo(),Rt&&po()}function Ko(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function Mt(e,t,n,r=!0){var a=se,o={ctx:ce,deps:null,nodes_start:null,nodes_end:null,f:e|Ke,first:null,fn:t,last:null,next:null,parent:a,b:a&&a.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{lr(o),o.f|=Hr}catch(c){throw ze(o),c}else t!==null&&cr(o);var l=n&&o.deps===null&&o.first===null&&o.nodes_start===null&&o.teardown===null&&(o.f&(Ur|nr))===0;if(!l&&r&&(a!==null&&Ko(o,a),ee!==null&&(ee.f&Le)!==0)){var i=ee;(i.effects??(i.effects=[])).push(o)}return o}function ea(e){const t=Mt(_n,null,!1);return Re(t,De),t.teardown=e,t}function Se(e){$r();var t=se!==null&&(se.f&Ve)!==0&&ce!==null&&!ce.m;if(t){var n=ce;(n.e??(n.e=[])).push({fn:e,effect:se,reaction:ee})}else{var r=sr(e);return r}}function zo(e){return $r(),Sn(e)}function jo(e){const t=Mt(Ot,e,!0);return(n={})=>new Promise(r=>{n.outro?$e(t,()=>{ze(t),r(void 0)}):(ze(t),r(void 0))})}function sr(e){return Mt(Fr,e,!1)}function Sn(e){return Mt(_n,e,!0)}function de(e,t=[],n=en){const r=t.map(n);return It(()=>e(...r.map(s)))}function It(e,t=0){var n=Mt(_n|tr|t,e,!0);return n}function et(e,t=!0){return Mt(_n|Ve,e,!0,t)}function ta(e){var t=e.teardown;if(t!==null){const n=Rt,r=ee;kr(!0),Ae(null);try{t.call(null)}finally{kr(n),Ae(r)}}}function na(e,t=!1){var a;var n=e.first;for(e.first=e.last=null;n!==null;){(a=n.ac)==null||a.abort(Kr);var r=n.next;(n.f&Ot)!==0?n.parent=null:ze(n,t),n=r}}function Vo(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&Ve)===0&&ze(t),t=n}}function ze(e,t=!0){var n=!1;(t||(e.f&fo)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(Wo(e.nodes_start,e.nodes_end),n=!0),na(e,t&&!n),gn(e,0),Re(e,rr);var r=e.transitions;if(r!==null)for(const o of r)o.stop();ta(e);var a=e.parent;a!==null&&a.first!==null&&ra(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function Wo(e,t){for(;e!==null;){var n=e===t?null:yn(e);e.remove(),e=n}}function ra(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function $e(e,t){var n=[];ir(e,n,!0),aa(n,()=>{ze(e),t&&t()})}function aa(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var a of e)a.out(r)}else t()}function ir(e,t,n){if((e.f&Ue)===0){if(e.f^=Ue,e.transitions!==null)for(const l of e.transitions)(l.is_global||n)&&t.push(l);for(var r=e.first;r!==null;){var a=r.next,o=(r.f&$t)!==0||(r.f&Ve)!==0;ir(r,t,o?n:!1),r=a}}}function Yt(e){oa(e,!0)}function oa(e,t){if((e.f&Ue)!==0){e.f^=Ue;for(var n=e.first;n!==null;){var r=n.next,a=(n.f&$t)!==0||(n.f&Ve)!==0;oa(n,a?t:!1),n=r}if(e.transitions!==null)for(const o of e.transitions)(o.is_global||t)&&o.in()}}let Xt=[],Vn=[];function sa(){var e=Xt;Xt=[],dn(e)}function Yo(){var e=Vn;Vn=[],dn(e)}function bn(e){Xt.length===0&&queueMicrotask(sa),Xt.push(e)}function Xo(){Xt.length>0&&sa(),Vn.length>0&&Yo()}function Go(e){var t=se;if((t.f&Hr)===0){if((t.f&nr)===0)throw e;t.fn(e)}else ia(e,t)}function ia(e,t){for(;t!==null;){if((t.f&nr)!==0)try{t.b.error(e);return}catch{}t=t.parent}throw e}let Gt=!1,Jt=null,lt=!1,Rt=!1;function kr(e){Rt=e}let jt=[];let ee=null,Me=!1;function Ae(e){ee=e}let se=null;function Ie(e){se=e}let he=null;function la(e){ee!==null&&ee.f&zn&&(he===null?he=[ee,[e]]:he[1].push(e))}let we=null,Ee=0,Ce=null;function Jo(e){Ce=e}let ca=1,hn=0,Ze=!1;function ua(){return++ca}function En(e){var v;var t=e.f;if((t&Ke)!==0)return!0;if((t&vt)!==0){var n=e.deps,r=(t&Te)!==0;if(n!==null){var a,o,l=(t&fn)!==0,i=r&&se!==null&&!Ze,c=n.length;if(l||i){var u=e,d=u.parent;for(a=0;a<c;a++)o=n[a],(l||!((v=o==null?void 0:o.reactions)!=null&&v.includes(u)))&&(o.reactions??(o.reactions=[])).push(u);l&&(u.f^=fn),i&&d!==null&&(d.f&Te)===0&&(u.f^=Te)}for(a=0;a<c;a++)if(o=n[a],En(o)&&Gr(o),o.wv>e.wv)return!0}(!r||se!==null&&!Ze)&&Re(e,De)}return!1}function da(e,t,n=!0){var r=e.reactions;if(r!==null)for(var a=0;a<r.length;a++){var o=r[a];he!=null&&he[1].includes(e)&&he[0]===ee||((o.f&Le)!==0?da(o,t,!1):t===o&&(n?Re(o,Ke):(o.f&De)!==0&&Re(o,vt),cr(o)))}}function fa(e){var h;var t=we,n=Ee,r=Ce,a=ee,o=Ze,l=he,i=ce,c=Me,u=e.f;we=null,Ee=0,Ce=null,Ze=(u&Te)!==0&&(Me||!lt||ee===null),ee=(u&(Ve|Ot))===0?e:null,he=null,vn(e.ctx),Me=!1,hn++,e.f|=zn,e.ac!==null&&(e.ac.abort(Kr),e.ac=null);try{var d=(0,e.fn)(),v=e.deps;if(we!==null){var f;if(gn(e,Ee),v!==null&&Ee>0)for(v.length=Ee+we.length,f=0;f<we.length;f++)v[Ee+f]=we[f];else e.deps=v=we;if(!Ze||(u&Le)!==0&&e.reactions!==null)for(f=Ee;f<v.length;f++)((h=v[f]).reactions??(h.reactions=[])).push(e)}else v!==null&&Ee<v.length&&(gn(e,Ee),v.length=Ee);if(Nt()&&Ce!==null&&!Me&&v!==null&&(e.f&(Le|vt|Ke))===0)for(f=0;f<Ce.length;f++)da(Ce[f],e);return a!==null&&a!==e&&(hn++,Ce!==null&&(r===null?r=Ce:r.push(...Ce))),d}catch(p){Go(p)}finally{we=t,Ee=n,Ce=r,ee=a,Ze=o,he=l,vn(i),Me=c,e.f^=zn}}function qo(e,t){let n=t.reactions;if(n!==null){var r=oo.call(n,e);if(r!==-1){var a=n.length-1;a===0?n=t.reactions=null:(n[r]=n[a],n.pop())}}n===null&&(t.f&Le)!==0&&(we===null||!we.includes(t))&&(Re(t,vt),(t.f&(Te|fn))===0&&(t.f^=fn),Yr(t),gn(t,0))}function gn(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)qo(e,n[r])}function lr(e){var t=e.f;if((t&rr)===0){Re(e,De);var n=se,r=lt;se=e,lt=!0;try{(t&tr)!==0?Vo(e):na(e),ta(e);var a=fa(e);e.teardown=typeof a=="function"?a:null,e.wv=ca;var o;Sr&&To&&(e.f&Ke)!==0&&e.deps}finally{lt=r,se=n}}}function Zo(){try{wo()}catch(e){if(Jt!==null)ia(e,Jt);else throw e}}function va(){var e=lt;try{var t=0;for(lt=!0;jt.length>0;){t++>1e3&&Zo();var n=jt,r=n.length;jt=[];for(var a=0;a<r;a++){var o=$o(n[a]);Qo(o)}Wt.clear()}}finally{Gt=!1,lt=e,Jt=null}}function Qo(e){var t=e.length;if(t!==0)for(var n=0;n<t;n++){var r=e[n];(r.f&(rr|Ue))===0&&En(r)&&(lr(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null?ra(r):r.fn=null))}}function cr(e){Gt||(Gt=!0,queueMicrotask(va));for(var t=Jt=e;t.parent!==null;){t=t.parent;var n=t.f;if((n&(Ot|Ve))!==0){if((n&De)===0)return;t.f^=De}}jt.push(t)}function $o(e){for(var t=[],n=e;n!==null;){var r=n.f,a=(r&(Ve|Ot))!==0,o=a&&(r&De)!==0;if(!o&&(r&Ue)===0){(r&Fr)!==0?t.push(n):a?n.f^=De:En(n)&&lr(n);var l=n.first;if(l!==null){n=l;continue}}var i=n.parent;for(n=n.next;n===null&&i!==null;)n=i.next,i=i.parent}return t}function ha(e){for(var t;;){if(Xo(),jt.length===0)return Gt=!1,Jt=null,t;Gt=!0,va()}}async function es(){await Promise.resolve(),ha()}function s(e){var t=e.f,n=(t&Le)!==0;if(ee!==null&&!Me){if(!(he!=null&&he[1].includes(e))||he[0]!==ee){var r=ee.deps;e.rv<hn&&(e.rv=hn,we===null&&r!==null&&r[Ee]===e?Ee++:we===null?we=[e]:(!Ze||!we.includes(e))&&we.push(e))}}else if(n&&e.deps===null&&e.effects===null){var a=e,o=a.parent;o!==null&&(o.f&Te)===0&&(a.f^=Te)}return n&&(a=e,En(a)&&Gr(a)),Rt&&Wt.has(e)?Wt.get(e):e.v}function tn(e){var t=Me;try{return Me=!0,e()}finally{Me=t}}const ts=-7169;function Re(e,t){e.f=e.f&ts|t}function ns(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(it in e)Wn(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&it in n&&Wn(n)}}}function Wn(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{Wn(e[r],t)}catch{}const n=er(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=Br(n);for(let a in r){const o=r[a].get;if(o)try{o.call(e)}catch{}}}}}const rs=["touchstart","touchmove"];function as(e){return rs.includes(e)}let Cr=!1;function os(){Cr||(Cr=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const n of e.target.elements)(t=n.__on_r)==null||t.call(n)})},{capture:!0}))}function ga(e){var t=ee,n=se;Ae(null),Ie(null);try{return e()}finally{Ae(t),Ie(n)}}function ss(e,t,n,r=n){e.addEventListener(t,()=>ga(n));const a=e.__on_r;a?e.__on_r=()=>{a(),r(!0)}:e.__on_r=()=>r(!0),os()}const pa=new Set,Yn=new Set;function is(e,t,n,r={}){function a(o){if(r.capture||Ut.call(t,o),!o.cancelBubble)return ga(()=>n==null?void 0:n.call(this,o))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?bn(()=>{t.addEventListener(e,a,r)}):t.addEventListener(e,a,r),a}function qt(e,t,n,r,a){var o={capture:r,passive:a},l=is(e,t,n,o);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&ea(()=>{t.removeEventListener(e,l,o)})}function ke(e){for(var t=0;t<e.length;t++)pa.add(e[t]);for(var n of Yn)n(e)}function Ut(e){var S;var t=this,n=t.ownerDocument,r=e.type,a=((S=e.composedPath)==null?void 0:S.call(e))||[],o=a[0]||e.target,l=0,i=e.__root;if(i){var c=a.indexOf(i);if(c!==-1&&(t===document||t===window)){e.__root=t;return}var u=a.indexOf(t);if(u===-1)return;c<=u&&(l=c)}if(o=a[l]||e.target,o!==t){so(e,"currentTarget",{configurable:!0,get(){return o||n}});var d=ee,v=se;Ae(null),Ie(null);try{for(var f,h=[];o!==null;){var p=o.assignedSlot||o.parentNode||o.host||null;try{var g=o["__"+r];if(g!=null&&(!o.disabled||e.target===o))if(Qn(g)){var[m,...y]=g;m.apply(o,[e,...y])}else g.call(o,e)}catch(_){f?h.push(_):f=_}if(e.cancelBubble||p===t||p===null)break;o=p}if(f){for(let _ of h)queueMicrotask(()=>{throw _});throw f}}finally{e.__root=t,delete e.currentTarget,Ae(d),Ie(v)}}}function ma(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function Zt(e,t){var n=se;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function j(e,t){var n=(t&No)!==0,r=(t&Mo)!==0,a,o=!e.startsWith("<!>");return()=>{a===void 0&&(a=ma(o?e:"<!>"+e),n||(a=Ct(a)));var l=r||qr?document.importNode(a,!0):a.cloneNode(!0);if(n){var i=Ct(l),c=l.lastChild;Zt(i,c)}else Zt(l,l);return l}}function ls(e,t,n="svg"){var r=!e.startsWith("<!>"),a=`<${n}>${r?e:"<!>"+e}</${n}>`,o;return()=>{if(!o){var l=ma(a),i=Ct(l);o=Ct(i)}var c=o.cloneNode(!0);return Zt(c,c),c}}function cs(e,t){return ls(e,t,"svg")}function xe(e=""){{var t=wn(e+"");return Zt(t,t),t}}function le(){var e=document.createDocumentFragment(),t=document.createComment(""),n=wn();return e.append(t,n),Zt(t,n),e}function C(e,t){e!==null&&e.before(t)}function Gl(){var e;return(e=window.__svelte??(window.__svelte={})).uid??(e.uid=1),`c${window.__svelte.uid++}`}function Bt(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function us(e,t){return ds(e,t)}const wt=new Map;function ds(e,{target:t,anchor:n,props:r={},events:a,context:o,intro:l=!0}){Ho();var i=new Set,c=v=>{for(var f=0;f<v.length;f++){var h=v[f];if(!i.has(h)){i.add(h);var p=as(h);t.addEventListener(h,Ut,{passive:p});var g=wt.get(h);g===void 0?(document.addEventListener(h,Ut,{passive:p}),wt.set(h,1)):wt.set(h,g+1)}}};c($n(pa)),Yn.add(c);var u=void 0,d=jo(()=>{var v=n??t.appendChild(wn());return et(()=>{if(o){q({});var f=ce;f.c=o}a&&(r.$$events=a),u=e(v,r)||{},o&&Z()}),()=>{var p;for(var f of i){t.removeEventListener(f,Ut);var h=wt.get(f);--h===0?(document.removeEventListener(f,Ut),wt.delete(f)):wt.set(f,h)}Yn.delete(c),v!==n&&((p=v.parentNode)==null||p.removeChild(v))}});return fs.set(u,d),u}let fs=new WeakMap;const xn=0,ln=1,Nn=2;function St(e,t,n,r,a){var o=e,l=Nt(),i=ce,c=pe,u,d,v,f=l?ut(void 0):jn(void 0,!1,!1),h=l?ut(void 0):jn(void 0,!1,!1),p=!1;function g(y,S){p=!0,S&&(Ie(m),Ae(m),vn(i));try{y===ln&&r&&(d?Yt(d):d=et(()=>r(o,f))),y!==xn&&u&&$e(u,()=>u=null),y!==ln&&d&&$e(d,()=>d=null),y!==Nn&&v&&$e(v,()=>v=null)}finally{S&&(vn(null),Ae(null),Ie(null),ha())}}var m=It(()=>{if(c!==(c=t())){if(co(c)){var y=c;p=!1,y.then(S=>{y===c&&(kt(f,S),g(ln,!0))},S=>{if(y===c)throw kt(h,S),g(Nn,!0),h.v}),bn(()=>{p||g(xn,!0)})}else kt(f,c),g(ln,!1);return()=>c=pe}})}function K(e,t,[n,r]=[0,0]){var a=e,o=null,l=null,i=pe,c=n>0?$t:0,u=!1;const d=(f,h=!0)=>{u=!0,v(h,f)},v=(f,h)=>{i!==(i=f)&&(i?(o?Yt(o):h&&(o=et(()=>h(a))),l&&$e(l,()=>{l=null})):(l?Yt(l):h&&(l=et(()=>h(a,[n+1,r]))),o&&$e(o,()=>{o=null})))};It(()=>{u=!1,t(d),u||v(null,null)},c)}function be(e,t){Sn(()=>{var n=t();for(var r in n){var a=n[r];a?e.style.setProperty(r,a):e.style.removeProperty(r)}})}function vs(e,t){return t}function hs(e,t,n,r){for(var a=[],o=t.length,l=0;l<o;l++)ir(t[l].e,a,!0);var i=o>0&&a.length===0&&n!==null;if(i){var c=n.parentNode;Uo(c),c.append(n),r.clear(),Je(e,t[0].prev,t[o-1].next)}aa(a,()=>{for(var u=0;u<o;u++){var d=t[u];i||(r.delete(d.k),Je(e,d.prev,d.next)),ze(d.e,!i)}})}function Qe(e,t,n,r,a,o=null){var l=e,i={flags:t,items:new Map,first:null},c=(t&Vr)!==0;if(c){var u=e;l=u.appendChild(wn())}var d=null,v=!1,f=Wr(()=>{var h=n();return Qn(h)?h:h==null?[]:$n(h)});It(()=>{var h=s(f),p=h.length;v&&p===0||(v=p===0,gs(h,i,l,a,t,r,n),o!==null&&(p===0?d?Yt(d):d=et(()=>o(l)):d!==null&&$e(d,()=>{d=null})),s(f))})}function gs(e,t,n,r,a,o,l){var F,x,D,R;var i=(a&Co)!==0,c=(a&(ar|or))!==0,u=e.length,d=t.items,v=t.first,f=v,h,p=null,g,m=[],y=[],S,_,w,b;if(i)for(b=0;b<u;b+=1)S=e[b],_=o(S,b),w=d.get(_),w!==void 0&&((F=w.a)==null||F.measure(),(g??(g=new Set)).add(w));for(b=0;b<u;b+=1){if(S=e[b],_=o(S,b),w=d.get(_),w===void 0){var P=f?f.e.nodes_start:n;p=ms(P,t,p,p===null?t.first:p.next,S,_,b,r,a,l),d.set(_,p),m=[],y=[],f=p.next;continue}if(c&&ps(w,S,b,a),(w.e.f&Ue)!==0&&(Yt(w.e),i&&((x=w.a)==null||x.unfix(),(g??(g=new Set)).delete(w))),w!==f){if(h!==void 0&&h.has(w)){if(m.length<y.length){var k=y[0],I;p=k.prev;var U=m[0],z=m[m.length-1];for(I=0;I<m.length;I+=1)Lr(m[I],k,n);for(I=0;I<y.length;I+=1)h.delete(y[I]);Je(t,U.prev,z.next),Je(t,p,U),Je(t,z,k),f=k,p=z,b-=1,m=[],y=[]}else h.delete(w),Lr(w,f,n),Je(t,w.prev,w.next),Je(t,w,p===null?t.first:p.next),Je(t,p,w),p=w;continue}for(m=[],y=[];f!==null&&f.k!==_;)(f.e.f&Ue)===0&&(h??(h=new Set)).add(f),y.push(f),f=f.next;if(f===null)continue;w=f}m.push(w),p=w,f=w.next}if(f!==null||h!==void 0){for(var X=h===void 0?[]:$n(h);f!==null;)(f.e.f&Ue)===0&&X.push(f),f=f.next;var Y=X.length;if(Y>0){var ae=(a&Vr)!==0&&u===0?n:null;if(i){for(b=0;b<Y;b+=1)(D=X[b].a)==null||D.measure();for(b=0;b<Y;b+=1)(R=X[b].a)==null||R.fix()}hs(t,X,ae,d)}}i&&bn(()=>{var V;if(g!==void 0)for(w of g)(V=w.a)==null||V.apply()}),se.first=t.first&&t.first.e,se.last=p&&p.e}function ps(e,t,n,r){(r&ar)!==0&&kt(e.v,t),(r&or)!==0?kt(e.i,n):e.i=n}function ms(e,t,n,r,a,o,l,i,c,u){var d=(c&ar)!==0,v=(c&Lo)===0,f=d?v?jn(a,!1,!1):ut(a):a,h=(c&or)===0?l:ut(l),p={i:h,v:f,k:o,a:null,e:null,prev:n,next:r};try{return p.e=et(()=>i(e,f,h,u),Fo),p.e.prev=n&&n.e,p.e.next=r&&r.e,n===null?t.first=p:(n.next=p,n.e.next=p.e),r!==null&&(r.prev=p,r.e.prev=p.e),p}finally{}}function Lr(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,a=t?t.e.nodes_start:n,o=e.e.nodes_start;o!==r;){var l=yn(o);a.before(o),o=l}}function Je(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function We(e,t,...n){var r=e,a=Qt,o;It(()=>{a!==(a=t())&&(o&&(ze(o),o=null),o=et(()=>a(r,...n)))},$t)}function bt(e,t,n){var r=e,a,o;It(()=>{a!==(a=t())&&(o&&($e(o),o=null),a&&(o=et(()=>n(r,a))))},$t)}function _a(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=_a(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function _s(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=_a(e))&&(r&&(r+=" "),r+=t);return r}function oe(e){return typeof e=="object"?_s(e):e??""}const Dr=[...` 	
\r\f \v\uFEFF`];function ws(e,t,n){var r=e==null?"":""+e;if(t&&(r=r?r+" "+t:t),n){for(var a in n)if(n[a])r=r?r+" "+a:a;else if(r.length)for(var o=a.length,l=0;(l=r.indexOf(a,l))>=0;){var i=l+o;(l===0||Dr.includes(r[l-1]))&&(i===r.length||Dr.includes(r[i]))?r=(l===0?"":r.substring(0,l))+r.substring(i+1):l=i}}return r===""?null:r}function ys(e,t){return e==null?null:String(e)}function re(e,t,n,r,a,o){var l=e.__className;if(l!==n||l===void 0){var i=ws(n,r,o);i==null?e.removeAttribute("class"):e.className=i,e.__className=n}else if(o&&a!==o)for(var c in o){var u=!!o[c];(a==null||u!==!!a[c])&&e.classList.toggle(c,u)}return o}function pn(e,t,n,r){var a=e.__style;if(a!==t){var o=ys(t);o==null?e.removeAttribute("style"):e.style.cssText=o,e.__style=t}return r}const Ss=Symbol("is custom element"),bs=Symbol("is html");function Mn(e,t){var n=ur(e);n.value===(n.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function In(e,t){var n=ur(e);n.checked!==(n.checked=t??void 0)&&(e.checked=t)}function ye(e,t,n,r){var a=ur(e);a[t]!==(a[t]=n)&&(t==="loading"&&(e[ho]=n),n==null?e.removeAttribute(t):typeof n!="string"&&Es(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function ur(e){return e.__attributes??(e.__attributes={[Ss]:e.nodeName.includes("-"),[bs]:e.namespaceURI===Io})}var Ar=new Map;function Es(e){var t=Ar.get(e.nodeName);if(t)return t;Ar.set(e.nodeName,t=[]);for(var n,r=e,a=Element.prototype;a!==r;){n=Br(r);for(var o in n)n[o].set&&t.push(o);r=er(r)}return t}function dr(e,t,n=t){var r=Nt();ss(e,"input",a=>{var o=a?e.defaultValue:e.value;if(o=Rn(e)?Bn(o):o,n(o),r&&o!==(o=t())){var l=e.selectionStart,i=e.selectionEnd;e.value=o??"",i!==null&&(e.selectionStart=l,e.selectionEnd=Math.min(i,e.value.length))}}),tn(t)==null&&e.value&&n(Rn(e)?Bn(e.value):e.value),Sn(()=>{var a=t();Rn(e)&&a===Bn(e.value)||e.type==="date"&&!a&&!e.value||a!==e.value&&(e.value=a??"")})}function Rn(e){var t=e.type;return t==="number"||t==="range"}function Bn(e){return e===""?null:+e}function Pr(e,t){return e===t||(e==null?void 0:e[it])===t}function Pe(e={},t,n,r){return sr(()=>{var a,o;return Sn(()=>{a=o,o=[],tn(()=>{e!==n(...o)&&(t(e,...o),a&&Pr(n(...a),e)&&t(null,...a))})}),()=>{bn(()=>{o&&Pr(n(...o),e)&&t(null,...o)})}}),e}function nn(e=!1){const t=ce,n=t.l.u;if(!n)return;let r=()=>ns(t.s);if(e){let a=0,o={};const l=en(()=>{let i=!1;const c=t.s;for(const u in c)c[u]!==o[u]&&(o[u]=c[u],i=!0);return i&&a++,a});r=()=>s(l)}n.b.length&&zo(()=>{Or(t,r),dn(n.b)}),Se(()=>{const a=tn(()=>n.m.map(uo));return()=>{for(const o of a)typeof o=="function"&&o()}}),n.a.length&&Se(()=>{Or(t,r),dn(n.a)})}function Or(e,t){if(e.l.s)for(const n of e.l.s)s(n);t()}let cn=!1;function Ts(e){var t=cn;try{return cn=!1,[e(),cn]}finally{cn=t}}function ks(e){var t;return((t=e.ctx)==null?void 0:t.d)??!1}function ie(e,t,n,r){var y;var a=!xt||(n&Ao)!==0,o=(n&Oo)!==0,l=(n&xo)!==0,i=r,c=!0,u=()=>(c&&(c=!1,i=l?tn(r):r),i),d;if(o){var v=it in e||vo in e;d=((y=Tt(e,t))==null?void 0:y.set)??(v&&t in e?S=>e[t]=S:void 0)}var f,h=!1;o?[f,h]=Ts(()=>e[t]):f=e[t],f===void 0&&r!==void 0&&(f=u(),d&&(a&&yo(),d(f)));var p;if(a?p=()=>{var S=e[t];return S===void 0?u():(c=!0,S)}:p=()=>{var S=e[t];return S!==void 0&&(i=void 0),S===void 0?i:S},a&&(n&Po)===0)return p;if(d){var g=e.$$legacy;return function(S,_){return arguments.length>0?((!a||!_||g||h)&&d(_?p():S),S):p()}}var m=((n&Do)!==0?en:Wr)(p);return o&&s(m),function(S,_){if(arguments.length>0){const w=_?s(m):a&&o?fe(S):S;return E(m,w),i!==void 0&&(i=w),S}return ks(m)?m.v:s(m)}}function ge(e){ce===null&&Ro(),xt&&ce.l!==null?Cs(ce).m.push(e):Se(()=>{const t=tn(e);if(typeof t=="function")return t})}function Cs(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const Ls="5";var Rr;typeof window<"u"&&((Rr=window.__svelte??(window.__svelte={})).v??(Rr.v=new Set)).add(Ls);let ot=M(""),yt=M(null);function Ds(e){E(ot,""),setTimeout(()=>{E(ot,e,!0)},16)}var As=j('<div class="notification svelte-1a2zucn"> </div>');function Ps(e,t){q(t,!0),Se(()=>{var i,c;s(ot),s(ot)&&((i=s(yt))==null||i.getBoundingClientRect(),(c=s(yt))==null||c.style.setProperty("opacity","1"));const o=setTimeout(()=>{var u;(u=s(yt))==null||u.style.removeProperty("opacity")},800),l=setTimeout(()=>{var u;E(ot,""),(u=s(yt))==null||u.style.removeProperty("opacity")},1200);return()=>{clearTimeout(o),clearTimeout(l)}});var n=le(),r=W(n);{var a=o=>{var l=As(),i=T(l);Pe(l,c=>E(yt,c),()=>s(yt)),de(()=>Bt(i,s(ot))),C(o,l)};K(r,o=>{s(ot)&&o(a)})}C(e,n),Z()}ko();var Os=j('<span class="vh svelte-14jjkpd"><!></span>');function Lt(e,t){var n=Os(),r=T(n);We(r,()=>t.children),C(e,n)}var xs=cs('<svg class="svelte-gv09tg"><use></use></svg>');function _e(e,t){let n=ie(t,"name",8,"");var r=xs(),a=T(r);de(()=>ye(a,"href",`#icon-${n()??""}`)),C(e,r)}const wa=(e,t)=>{if(!t)return e;if(t.type==="closed")return{type:"closed"};switch(e.type){case"opened":return t.type==="close"?{type:"closing"}:t.type==="swipe"?{type:"openSwiping"}:e;case"closed":return t.type==="open"?{type:"opening"}:t.type==="swipe"?{type:"closeSwiping"}:e;case"openSwiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"closeSwiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"opening":return t.type==="opened"?{type:"opened"}:e;default:return e}};let Xn=M(fe(wa({type:"closed"})));const qe=e=>{E(Xn,wa(s(Xn),e),!0)},ya=()=>s(Xn),Ns=()=>{qe({type:"open"})},Ms=()=>{qe({type:"close"})},Is=()=>{const e=ya().type;e==="closed"?Ns():e==="opened"&&Ms()};var Rs=j('<button class="buttonMenu svelte-hxzs42"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>');function Sa(e,t){q(t,!1),nn();var n=Rs();n.__click=[Is];var r=T(n);be(r,()=>({"--size":"28px"})),_e(r.lastChild,{name:"sidebarMenu"});var a=A(r,2);Lt(a,{children:(o,l)=>{var i=xe("Menu");C(o,i)}}),C(e,n),Z()}ke(["click"]);const N=fe({historyStack:[],pathname:window.location.pathname,search:window.location.search,historyLength:0});let ba=M(fe(new URLSearchParams(N.search).get("feedOrder")||"newest"));const Ea=()=>s(ba),Bs=e=>{E(ba,e,!0);const t=new URLSearchParams(N.search);e==="newest"?t.delete("feedOrder"):t.set("feedOrder",e),dt(`${N.pathname}${t.size>0?`?${t.toString()}`:""}`)},Ta=()=>{var e;return((e=new URLSearchParams(N.search).get("selectedTags"))==null?void 0:e.split(","))||[]};let un=Ta();const Fs=()=>{const e=Ta();return e.join(",")===un.join(",")||(un=e),un},Hs=()=>{N.pathname=document.location.pathname,N.search=document.location.search,N.historyLength=Math.max(0,N.historyLength-=1)};window.addEventListener("popstate",Hs);const dt=e=>{const[t,n]=e.split("?");N.pathname=t,N.search=n?`?${n}`:"",N.historyLength+=1,N.historyStack.push(window.location.href),window.history.replaceState(null,"",e)},Us=e=>{const[t,n]=e.split("?");N.pathname=t,N.search=n?`?${n}`:"",window.history.replaceState(null,"",e)},ka=(e="/")=>{var r;const[t,n]=e.split("?");if(N.historyLength<=0){const a=window.location.href,[o,l]=a.split("?");if(!l.includes("stackPages"))window.history.replaceState(null,"",e),N.historyLength=0,N.pathname=t,N.search=n?`?${n}`:"";else{const i=new URLSearchParams(l),u=(((r=i.get("stackPages"))==null?void 0:r.split(","))||[]).slice(0,-1);u.length===0?i.delete("stackPages"):i.set("stackPages",u.join(","));const d=`${o}${i.toString()?`?${i.toString()}`:""}`;window.history.replaceState(null,"",d),N.search=i.toString()?`?${i.toString()}`:""}}else if(N.historyStack.length>0){const a=N.historyStack.pop();if(a){const[o,l]=a.split("?");window.history.replaceState(null,"",a),N.historyLength=Math.max(0,N.historyLength-=1),N.pathname=o,N.search=l?`?${l}`:""}}},Ca=()=>{const e=N.historyStack.findIndex(n=>n.includes("stackPages")),t=e===-1?N.historyStack.slice(0):N.historyStack.slice(0,e);if(t.length>0){const n=t.pop();if(n){const[r,a]=n.split("?");window.history.replaceState(null,"",n),N.historyLength=Math.max(0,t.length),N.pathname=r,N.search=a?`?${a}`:"",N.historyStack=t}}else window.history.replaceState(null,"","/"),N.historyLength=0,N.pathname="/",N.search="",N.historyStack=[]},je=()=>{var e;return((e=new URLSearchParams(N.search).get("stackPages"))==null?void 0:e.split(","))||[]};let ct=M(fe(je()));const Be=e=>{const t=je();if(!t.includes(e)){t.push(e);const n=new URLSearchParams(N.search);n.set("stackPages",t.join(",")),E(ct,t,!0),dt(`${N.pathname}?${n.toString()}`)}},Ks=e=>je().includes(e),La=()=>{const e=s(ct).slice(0,-1);E(ct,e,!0)},Da=()=>{const e=je();return e.length>=s(ct).length?e.reduce((t,n)=>[...t,{page:n,shown:!0}],[]):s(ct).reduce((t,n,r)=>[...t,{page:n,shown:e.length===0?!1:r!==s(ct).length-1}],[])},Gn=()=>{E(ct,[],!0)},zs=e=>{e.preventDefault(),Be("settings")},js=e=>{e.preventDefault(),Be("newNote")};var Vs=j('<a class="addNote svelte-ww662s"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Add</span></a>'),Ws=j('<div class="header svelte-ww662s"><div class="top svelte-ww662s"><div class="desktop svelte-ww662s"><a class="link svelte-ww662s"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Settings</span></a></div> <div class="mobile svelte-ww662s"><!></div> <!></div></div>');function Ys(e,t){q(t,!0);const n=()=>{const g=je();g.includes("settings")||g.push("settings");const m=new URLSearchParams(N.search);return m.set("stackPages",g.join(",")),`${N.pathname}?${m}`};let a=H(()=>{const g=je();g.includes("newNote")||g.push("newNote");const m=new URLSearchParams(N.search);return m.set("stackPages",g.join(",")),`${N.pathname}?${m}`}),o=H(n);var l=Ws(),i=T(l),c=T(i),u=T(c);u.__click=[zs];var d=T(u);be(d,()=>({"--size":"20px"})),_e(d.lastChild,{name:"settings"});var v=A(c,2),f=T(v);Sa(f,{});var h=A(v,2);{var p=g=>{var m=Vs();m.__click=[js];var y=T(m);be(y,()=>({"--size":"24px","--color":"#b0b0b0"})),_e(y.lastChild,{name:"plus"}),de(()=>ye(m,"href",s(a))),C(g,m)};K(h,g=>{N.pathname!=="/settings"&&g(p)})}de(()=>ye(u,"href",s(o))),C(e,l),Z()}ke(["click"]);const Xs="modulepreload",Gs=function(e){return"/"+e},xr={},Et=function(t,n,r){let a=Promise.resolve();if(n&&n.length>0){let l=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),c=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));a=l(n.map(u=>{if(u=Gs(u),u in xr)return;xr[u]=!0;const d=u.endsWith(".css"),v=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${v}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":Xs,d||(f.as="script"),f.crossOrigin="",f.href=u,c&&f.setAttribute("nonce",c),document.head.appendChild(f),d)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${u}`)))})}))}function o(l){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=l,window.dispatchEvent(i),!i.defaultPrevented)throw l}return a.then(l=>{for(const i of l||[])i.status==="rejected"&&o(i.reason);return t().catch(o)})},Js=(e,t)=>{let n=null;return()=>{n&&clearTimeout(n),n=setTimeout(()=>{e()},t)}},Aa=()=>window.matchMedia("(max-width: 768px)").matches;let Pa=M(fe(Aa()));const qs=Js(()=>{E(Pa,Aa(),!0)},16);window.addEventListener("resize",qs);const Ft=()=>s(Pa),fr=fe({count:0}),Zs=()=>fr.count>0,Oa=()=>{fr.count+=1},xa=()=>{fr.count-=1},me=fe({working:!1,swipingRatio:1,isSwiping:!1,duration:.35});let Jn=!1;const Fn=()=>{document.activeElement instanceof HTMLInputElement&&document.activeElement.type==="text"||document.activeElement instanceof HTMLTextAreaElement?Jn=!0:Jn=!1},vr=()=>Jn;function Qs(e,t){q(t,!0);let n=ie(t,"dialog",7),r=null;const a=()=>{t.dialogState==="swiping"&&t.onClose()};Se(()=>(t.dialogState==="swiping"&&(r=setTimeout(a,3e3)),()=>{r&&(clearTimeout(r),r=null)}));let o=null,l=null;const i=3,c=50,u=5,d=.6,v=.3,f=.35,h=.95;let p=0,g=0,m=0,y=!1,S=!1,_=0,w=0,b=0;const P=()=>{p=0,g=0,y=!1,S=!1,_=0,w=0,b=0,m=0,o=null,l!==null&&(cancelAnimationFrame(l),l=null),r&&(clearTimeout(r),r=null)},k=D=>{if(!n()){console.warn("Touch start: No dialog element");return}if(t.dialogState!=="opened"){console.warn(`Touch start: Invalid sidebar state: ${t.dialogState}`);return}p=D.touches[0].clientX,g=D.touches[0].clientY,m=performance.now(),y=!0,S=!1},I=D=>t.dialogState==="opened"&&D>0||t.dialogState==="swiping"&&D>0,U=D=>{if(n()){n().style.setProperty("--transition-timing","0s"),t.onSwipe(),navigator.vibrate&&navigator.vibrate(10);try{const R=window.getComputedStyle(n()),V=R.transform||R.webkitTransform||"";if(w=n().offsetWidth,(t.dialogState==="swiping"||t.dialogState==="opened")&&(_=0),V&&V!=="none")try{_=new DOMMatrix(V).m41}catch{console.warn("Could not parse transform matrix, using default position")}S=!0}catch(R){console.error("Error during swipe initialization:",R),P()}}},z=()=>{if(!n())return;const R=Math.abs(_+b*w/100)/w;n().style.setProperty("--backdrop-bg",`rgba(0, 0, 0, ${.1*(1-R)})`)},X=()=>{if(l=null,!o||!y||!n()||vr()){P();return}const D=o.touches[0].clientX,R=o.touches[0].clientY,V=D-p,ne=R-g,O=Math.abs(V)>Math.abs(ne),Q=Math.abs(V)>i;if(!S)if(O&&Q&&I(V))try{U(V)}catch(ue){console.error("Error initializing swipe:",ue),P();return}else return;if(!I(V))return;n().style.setProperty("--transition-timing","0s");let L=_+V*h;L=Math.max(0,Math.min(w,L)),n().style.transform=`translate3d(${L}px, 0, 0)`,me.swipingRatio=Math.abs(1-L/w),b=(L-_)/w*100,t.dialogState==="swiping"&&(r&&clearTimeout(r),r=setTimeout(a,3e3)),z()},Y=D=>{if(!y)return;o=D,l===null&&(l=requestAnimationFrame(X));const R=D.touches[0].clientX-p,V=D.touches[0].clientY-g,ne=Math.abs(R)>Math.abs(V);S&&ne&&D.preventDefault()},ae=D=>{const R=Math.abs(D);if(R>=d)return u;if(R>=v){const V=(R-v)/(d-v);return c-V*(c-u)}else return c},F=(D,R)=>{if(Math.abs(D)>=d)return f*.5;const ne=Math.abs(b)/100;return R?f*Math.max(.5,1-ne):f*Math.max(.5,ne)},x=D=>{var L,B;if(l!==null&&(cancelAnimationFrame(l),l=null),!y||!n()){P();return}if(!S){P();return}let R=0;if((L=D==null?void 0:D.changedTouches)!=null&&L[0]){const G=D.changedTouches[0].clientX,te=performance.now()-m;te>0&&(R=(G-p)/te)}const V=ae(R);let ne=null;t.dialogState==="swiping"&&(ne=Math.abs(b)>V||R<-v?"close":"open");const O=t.dialogState==="swiping"&&ne==="close",Q=F(R,O);me.duration=Q-.02,n().style.setProperty("--transition-timing",`${Q}s`),n().offsetWidth,n().style.transform="",ne==="open"?t.onOpen():ne==="close"&&t.onClose(),(B=n())==null||B.style.removeProperty("--backdrop-bg"),P()};ge(()=>(n().addEventListener("touchstart",k,{passive:!0}),n().addEventListener("touchmove",Y,{passive:!1}),n().addEventListener("touchend",x,{passive:!0}),n().addEventListener("touchcancel",x,{passive:!0}),()=>{n().removeEventListener("touchstart",k),n().removeEventListener("touchmove",Y),n().removeEventListener("touchend",x),n().removeEventListener("touchcancel",x),l!==null&&cancelAnimationFrame(l)})),Z()}let hr=M(!1);const $s=(e,t)=>{let n;return()=>{n&&clearTimeout(n),n=setTimeout(()=>{e()},t)}},ei=$s(()=>{E(hr,!1)},100),Na=()=>{E(hr,!0),ei()},Ma=()=>s(hr);var ti=(e,t)=>{t.onStartClose()},ni=j('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),ri=j('<dialog><div class="dialogInner svelte-68rj1a"><div class="header svelte-68rj1a"><div><!></div></div> <!></div></dialog> <!>',1);function ai(e,t){q(t,!0);let n=350,r=M(null),a=M(null);const o=_=>{_.preventDefault(),t.onStartClose()};ge(()=>{var _,w;return(_=s(r))==null||_.addEventListener("close",t.onClosed),(w=s(r))==null||w.addEventListener("cancel",o),()=>{var b,P;(b=s(r))==null||b.removeEventListener("close",t.onClosed),(P=s(r))==null||P.removeEventListener("cancel",o)}});const l=()=>{var _,w,b;(_=s(r))==null||_.style.removeProperty("--transition-timing"),(w=s(r))==null||w.style.removeProperty("transform"),(b=s(r))==null||b.style.removeProperty("--backdrop-bg")},i=()=>{Na()},c=H(Ma);Se(()=>{var _,w;if(t.dialogState,!!s(r))switch(t.dialogState){case"opening":{s(r).open||s(r).showModal(),s(r).getBoundingClientRect();const b=setTimeout(()=>{l()},n+1),P=()=>{clearTimeout(b),l()};return(_=s(r))==null||_.addEventListener("transitionend",P,{once:!0}),t.onOpened(),()=>{var k;(k=s(r))==null||k.removeEventListener("transitionend",P)}}case"closing":{const b=setTimeout(()=>{t.dialogState==="closing"&&t.onClosed()},n+1),P=()=>{clearTimeout(b),t.onClosed()};return(w=s(r))==null||w.addEventListener("transitionend",P,{once:!0}),()=>{var k;(k=s(r))==null||k.removeEventListener("transitionend",P)}}case"opened":l()}});var u=ri(),d=W(u),v=T(d),f=T(v),h=T(f),p=T(h);{var g=_=>{var w=ni();re(w,1,oe(["navigateButton","buttonBack"]),"svelte-68rj1a"),w.__click=[ti,t];var b=T(w);be(b,()=>({"--size":"20px"})),_e(b.lastChild,{name:"back"});var P=A(b,2);Lt(P,{children:(k,I)=>{var U=xe("back");C(k,U)}}),C(_,w)};K(p,_=>{(!(t.blocked||t.hidden)||t.blocked&&t.unBlockedBack)&&_(g)})}var m=A(f,2);We(m,()=>t.children),Pe(v,_=>E(a,_),()=>s(a)),Pe(d,_=>E(r,_),()=>s(r));var y=A(d,2);{var S=_=>{Qs(_,{get onClose(){return t.onStartClose},get onOpen(){return t.onStartOpen},get onSwipe(){return t.onSwipe},get dialogState(){return t.dialogState},get dialog(){return s(r)}})};K(y,_=>{(!s(c)&&t.dialogState==="opened"||t.dialogState==="swiping")&&(!t.blocked||t.unBlockedBack)&&_(S)})}de(()=>re(d,1,oe([{open:t.dialogState==="opened",hidden:t.hidden,isAnimationOn:me.working&&(!me.isSwiping||!t.hidden)},{hidden:t.hidden}]),"svelte-68rj1a")),qt("scroll",v,i),C(e,u),Z()}ke(["click"]);const Nr=(e,t)=>{if(!t)return e;if(t.type==="closed")return{type:"closed"};switch(e.type){case"opened":return t.type==="close"?{type:"closing"}:t.type==="swipe"?{type:"swiping"}:e;case"closed":return t.type==="open"?{type:"opening"}:e;case"swiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"opening":return t.type==="opened"?{type:"opened"}:e;default:return e}};function oi(e,t){q(t,!0);let n=ie(t,"blocked",3,!1),r=ie(t,"hiddenDialog",3,!1),a=ie(t,"unBlockedBack",3,!1),o=ie(t,"onStartClose",3,()=>{}),l=ie(t,"onClose",3,()=>{}),i=M(fe(Nr({type:"closed"})));const c=y=>{E(i,Nr(s(i),y),!0)},u=()=>{n()&&!a()||(o()(),c({type:"close"}))},d=()=>{c({type:"open"})},v=()=>{c({type:"opened"}),me.duration=.2},f=()=>{l()(),c({type:"closed"}),me.swipingRatio=1,me.duration=.2},h=()=>{c({type:"swipe"})};Se(()=>{s(i).type==="swiping"?me.isSwiping=!0:me.isSwiping=!1,s(i).type==="closed"&&t.shownDialog?d():s(i).type==="opened"&&!t.shownDialog&&u()});var p=le(),g=W(p);{var m=y=>{ai(y,{onSwipe:h,onOpened:v,onClosed:f,onStartClose:u,onStartOpen:d,get dialogState(){return s(i).type},get hidden(){return r()},get blocked(){return n()},get unBlockedBack(){return a()},children:(S,_)=>{var w=le(),b=W(w);We(b,()=>t.children),C(S,w)},$$slots:{default:!0}})};K(g,y=>{s(i).type!=="closed"&&y(m)})}return C(e,p),Z({handleComputeState:c})}function Ia(e,t){q(t,!0);let n=ie(t,"blockedDialog",3,!1),r=ie(t,"hiddenDialog",3,!1),a=ie(t,"isLastDialog",3,!1),o=ie(t,"onStartClose",3,()=>{}),l=ie(t,"onClose",3,()=>{});const i=H(()=>a()?void 0:t.onStartBack);let c=null;function u(){return c||(c=Et(()=>import("./DesktopDialog-Ch0_8FSQ.js"),__vite__mapDeps([0,1]))),c}ge(()=>(Oa(),()=>{xa()}));var d=le(),v=W(d);{var f=p=>{oi(p,{get shownDialog(){return t.shownDialog},get blocked(){return n()},get unBlockedBack(){return t.unBlockedBack},get hiddenDialog(){return r()},get children(){return t.children},get onStartClose(){return t.onStartBack},onClose:l()})},h=p=>{var g=le(),m=W(g);St(m,u,null,(y,S)=>{var _=le();const w=H(()=>s(S).default);var b=W(_);bt(b,()=>s(w),(P,k)=>{k(P,{get shownDialog(){return t.shownDialog},get blockedDialog(){return n()},get unBlockedBack(){return t.unBlockedBack},get hiddenDialog(){return r()},get children(){return t.children},get onStartBack(){return s(i)},onStartClose:o(),onClose:l()})}),C(y,_)}),C(p,g)};K(v,p=>{Ft()?p(f):p(h,!1)})}C(e,d),Z()}let Ra=M(!1),gr=M(!1);const Kt=e=>{E(Ra,e,!0),e||E(gr,!1)},si=()=>s(Ra),Mr=e=>{E(gr,e,!0)},ii=()=>s(gr);function Ir(e,t){q(t,!0);let n=ie(t,"blocked",3,!1),r=ie(t,"isLastDialog",3,!1),a=ie(t,"onBack",3,()=>{});const o=H(()=>n()||t.hidden||si()),l=H(()=>ii()&&!r());Ia(e,{get shownDialog(){return t.shown},get blockedDialog(){return s(o)},get unBlockedBack(){return s(l)},get hiddenDialog(){return t.hidden},get isLastDialog(){return r()},onStartBack:()=>{(!s(o)||s(o)&&s(l))&&t.shown&&(ka(),a()())},onStartClose:()=>{(!s(o)||s(o)&&s(l))&&t.shown&&Ca()},onClose:()=>{La()},children:(d,v)=>{var f=le(),h=W(f);We(h,()=>t.children),C(d,f)},$$slots:{default:!0}}),Z()}const Vt=()=>crypto.randomUUID(),li="AppStorage",ci=1,Oe="notes",Dt="syncLog",At="account";let $;window.addEventListener("unhandledrejection",e=>{alert("Error: "+e.reason.message)});const ui=()=>new Promise((e,t)=>{const n=indexedDB.open(li,ci);n.addEventListener("upgradeneeded",()=>{const r=n.result;r.objectStoreNames.contains(Oe)||r.createObjectStore(Oe,{keyPath:"id"}),r.objectStoreNames.contains(At)||r.createObjectStore(At,{keyPath:"id"}),r.objectStoreNames.contains(Dt)||r.createObjectStore(Dt,{keyPath:"id"})}),n.addEventListener("success",()=>{e(),$=n.result,$.onversionchange=function(){$==null||$.close(),alert("app outdated, please reload the page")}}),n.addEventListener("blocked",()=>{t(),alert("app outdated, please reload the page")}),n.addEventListener("error",()=>{t(),console.error("Error",n.error)})}),Ba=()=>new Promise((e,t)=>{const n=$==null?void 0:$.transaction(At,"readonly"),r=n==null?void 0:n.objectStore(At).get("default");r==null||r.addEventListener("success",()=>{var o;const a=(o=r==null?void 0:r.result)==null?void 0:o.account;e(a)}),r==null||r.addEventListener("error",()=>{t()})}),pr=e=>new Promise((t,n)=>{const r=$==null?void 0:$.transaction(At,"readwrite"),a=r==null?void 0:r.objectStore(At),o=a==null?void 0:a.put({id:"default",account:e});o==null||o.addEventListener("success",()=>{console.log("account inited"),t()}),o==null||o.addEventListener("error",()=>{n()})}),Fa=()=>new Promise((e,t)=>{const n=$==null?void 0:$.transaction(Oe,"readonly"),r=n==null?void 0:n.objectStore(Oe).getAll();r==null||r.addEventListener("success",()=>{const a=r.result;e(a)}),r==null||r.addEventListener("error",()=>{t()})}),Ha=async e=>new Promise((t,n)=>{const r=$==null?void 0:$.transaction(Oe,"readwrite"),a=r==null?void 0:r.objectStore(Oe),o=a==null?void 0:a.put({...e});o==null||o.addEventListener("success",()=>{t()}),o==null||o.addEventListener("error",()=>{n()})}),di=async e=>new Promise((t,n)=>{const r=$==null?void 0:$.transaction(Oe,"readwrite"),a=r==null?void 0:r.objectStore(Oe),o=a==null?void 0:a.delete(e);o==null||o.addEventListener("success",()=>{t()}),o==null||o.addEventListener("error",()=>{n()})}),fi=()=>new Promise((e,t)=>{const n=$==null?void 0:$.transaction(Oe,"readwrite"),r=n==null?void 0:n.objectStore(Oe),a=r==null?void 0:r.clear();a==null||a.addEventListener("success",()=>{e()}),a==null||a.addEventListener("error",()=>{t()})}),mr=async()=>{await fi()},Ua=async e=>{const t=(await Fa()).reduce((o,l)=>(o[l.id]=l,o),{}),n={},r=$==null?void 0:$.transaction(Oe,"readwrite"),a=r==null?void 0:r.objectStore(Oe);e.forEach(o=>{t[o.id]?t[o.id].updatedAt<o.updatedAt&&(n[o.id]=o):n[o.id]=o}),await Promise.all(Object.values(n).map(o=>{const l=a==null?void 0:a.put(o);return new Promise((i,c)=>{l==null||l.addEventListener("success",()=>{i()}),l==null||l.addEventListener("error",()=>{c()})})}))},Hn=async e=>new Promise((t,n)=>{const r=$==null?void 0:$.transaction(Dt,"readwrite"),a=r==null?void 0:r.objectStore(Dt),o=a==null?void 0:a.put({...e});o==null||o.addEventListener("success",()=>{t()}),o==null||o.addEventListener("error",()=>{n()})}),vi=()=>new Promise((e,t)=>{const n=$==null?void 0:$.transaction(Dt,"readonly"),r=n==null?void 0:n.objectStore(Dt).getAll();r==null||r.addEventListener("success",()=>{const a=r.result;e(a)}),r==null||r.addEventListener("error",()=>{t()})});let J=M({initedDB:!1});const hi=()=>{E(J,{...s(J),initedDB:!0})},ft=async e=>{E(J,{...s(J),account:e,notes:[],mapNotes:new Map})},Ka=()=>s(J),Tn=async()=>{const e=await Fa(),t=new Map,n=[];e.forEach(r=>{n.push(r),t.set(r.id,r)}),E(J,{...s(J),notes:n,mapNotes:t})},Pt=()=>s(J).notes&&s(J).mapNotes,za=()=>s(J).notes||[],Jl=()=>s(J).mapNotes||new Map,ja=e=>{if(!s(J).notes||!s(J).mapNotes)throw new Error("Notes appState is not initialized");const t={...e};s(J).notes.push(t),s(J).mapNotes.set(t.id,t),E(J,{...s(J)})},Va=async e=>{if(!s(J).notes||!s(J).mapNotes)throw new Error("Notes appState is not initialized");s(J).notes.forEach((t,n)=>{(t==null?void 0:t.id)===e.id&&s(J).notes&&(s(J).notes[n]=e)}),s(J).mapNotes.set(e.id,e),E(J,{...s(J)})},Wa=async e=>{if(!s(J).notes||!s(J).mapNotes)throw new Error("Notes appState is not initialized");s(J).mapNotes.delete(e),s(J).notes=s(J).notes.filter(t=>(t==null?void 0:t.id)!==e),E(J,{...s(J)})},Ya=async()=>{E(J,{...s(J),initedDB:!0,notes:[],mapNotes:new Map})};let Xa=M({});const Ga=()=>s(Xa),gi=e=>{E(Xa,e)};var pi=j('<input class="svelte-6l2oy0"/>');function qn(e,t){q(t,!0);let n=ie(t,"value",15,"");var r=pi();de(()=>ye(r,"placeholder",t.placeholder)),qt("focus",r,function(...a){var o;(o=t.onFocus)==null||o.apply(this,a)}),dr(r,n),C(e,r),Z()}function Ja(e,t){q(t,!0),ge(()=>{const n=r=>{var a;r.target&&((a=t.dialog)!=null&&a.open)&&t.dialogInner&&t.dialogInner!==r.target&&!t.dialogInner.contains(r.target)&&t.onClose()};return document.addEventListener("mousedown",n,{capture:!0}),()=>{document.removeEventListener("mousedown",n,{capture:!0})}}),Z()}function mi(e,t){q(t,!0);let n=ie(t,"dialog",7);const r=3,a=50,o=5,l=.6,i=.3,c=.35,u=.95;let d=0,v=0,f=0,h=!1,p=!1,g=0,m=0,y=0;const S=()=>{d=0,v=0,h=!1,p=!1,g=0,m=0,y=0,f=0,_!==null&&(cancelAnimationFrame(_),_=null),w=null};let _=null,w=null;const b=F=>{if(!n()){console.warn("Touch start: No dialog element");return}if(t.sidebarState!=="opened"&&t.sidebarState!=="closed"){console.warn(`Touch start: Invalid sidebar state: ${t.sidebarState}`);return}d=F.touches[0].clientX,v=F.touches[0].clientY,f=performance.now(),h=!0,p=!1},P=F=>t.sidebarState==="closed"&&F>0||t.sidebarState==="closeSwiping"&&F>0||t.sidebarState==="opened"&&F<0||t.sidebarState==="openSwiping"&&F<0,k=F=>{if(n()){if(n().style.setProperty("--transition-timing","0s"),!n().open&&t.sidebarState==="closed")try{n().showModal(),n().offsetWidth}catch(x){console.error("Error opening dialog:",x);return}t.onSwipe();try{const x=window.getComputedStyle(n()),D=x.transform||x.webkitTransform||"";if(m=n().offsetWidth,t.sidebarState==="closeSwiping"||t.sidebarState==="closed"?g=-m:(t.sidebarState==="openSwiping"||t.sidebarState==="opened")&&(g=0),D&&D!=="none")try{g=new DOMMatrix(D).m41}catch{console.warn("Could not parse transform matrix, using default position")}p=!0}catch(x){console.error("Error during swipe initialization:",x),S()}}},I=()=>{if(!n())return;const F=-(m*.27),x=-m;let D=0;const R=window.getComputedStyle(n()),V=R.transform||R.webkitTransform||"";if(V&&V!=="none")try{D=new DOMMatrix(V).m41}catch{D=0}const Q=.25*Math.min(1,Math.max(0,(D-x)/(F-x)));n().style.setProperty("--backdrop-bg",`rgba(0, 0, 0, ${Q})`)},U=()=>{if(_=null,!w||!h||!n()||vr())return;const{x:F,y:x}=w;w=null;const D=F-d,R=x-v,V=Math.abs(D)>Math.abs(R),ne=Math.abs(D)>r;if(!p)if(V&&ne&&P(D))try{k(D)}catch(B){console.error("Error initializing swipe:",B),S();return}else return;if(!P(D))return;n().style.setProperty("--transition-timing","0s");let O=g+D*u;const Q=-m,L=-(m*.27);O=Math.max(Q,Math.min(L,O)),n().style.transform=`translate3d(${O}px, 0, 0)`,y=(O-g)/m*100,I()},z=F=>{if(!h)return;const x=F.touches[0].clientX,D=F.touches[0].clientY;w={x,y:D},_===null&&(_=requestAnimationFrame(U)),p&&Math.abs(x-d)>Math.abs(D-v)&&F.preventDefault()},X=F=>{const x=Math.abs(F);if(x>=l)return o;if(x>=i){const D=(x-i)/(l-i);return a-D*(a-o)}else return a},Y=(F,x)=>{if(Math.abs(F)>=l)return c*.5;const R=Math.abs(y)/100;return x?c*Math.max(.5,1-R):c*Math.max(.5,R)},ae=F=>{var O,Q;if(_!==null&&(cancelAnimationFrame(_),_=null),w=null,!h||!n()){S();return}if(!p){S();return}let x=0;if((O=F==null?void 0:F.changedTouches)!=null&&O[0]){const L=F.changedTouches[0].clientX,G=performance.now()-f;G>0&&(x=(L-d)/G)}const D=X(x);let R=null;t.sidebarState==="closeSwiping"?R=Math.abs(y)>D||x>i?"open":"close":t.sidebarState==="openSwiping"&&(R=Math.abs(y)>D||x<-i?"close":"open");const V=t.sidebarState==="closeSwiping"&&R==="open"||t.sidebarState==="openSwiping"&&R==="close",ne=Y(x,V);n().style.setProperty("--transition-timing",`${ne}s`),n().offsetWidth,n().style.transform="",R==="open"?t.onOpen():R==="close"&&t.onClose(),(Q=n())==null||Q.style.removeProperty("--backdrop-bg"),S()};ge(()=>(document.addEventListener("touchstart",b,{passive:!0}),document.addEventListener("touchmove",z,{passive:!1}),document.addEventListener("touchend",ae,{passive:!0}),document.addEventListener("touchcancel",ae,{passive:!0}),()=>{document.removeEventListener("touchstart",b),document.removeEventListener("touchmove",z),document.removeEventListener("touchend",ae),document.removeEventListener("touchcancel",ae),_!==null&&cancelAnimationFrame(_)})),Z()}var _i=j('<dialog><div class="dialogInner svelte-1in1s0g"><!></div></dialog> <!> <!>',1);function wi(e,t){q(t,!0);let n=350,r=M(null),a=M(null),o=H(ya);Se(()=>{Da().length>0&&qe({type:"close"})});const l=()=>{t.blocked||qe({type:"close"})},i=()=>{t.blocked||qe({type:"open"})},c=()=>{qe({type:"opened"})},u=()=>{qe({type:"closed"})},d=()=>{qe({type:"swipe"})},v=k=>{k.preventDefault(),l()};ge(()=>{var k,I;return(k=s(r))==null||k.addEventListener("close",u),(I=s(r))==null||I.addEventListener("cancel",v),()=>{var U,z;(U=s(r))==null||U.removeEventListener("close",u),(z=s(r))==null||z.removeEventListener("cancel",v)}});const f=()=>{var k,I,U;(k=s(r))==null||k.style.removeProperty("--transition-timing"),(I=s(r))==null||I.style.removeProperty("transform"),(U=s(r))==null||U.style.removeProperty("--backdrop-bg")},h=H(Ma);Se(()=>{var k,I,U;if(s(o),!!s(r))switch(s(o).type){case"closeSwiping":{const z=setTimeout(()=>{l()},3e3);return()=>{clearTimeout(z)}}case"openSwiping":{const z=setTimeout(()=>{i()},3e3);return()=>{clearTimeout(z)}}case"opening":{s(r).open||s(r).showModal(),s(r).getBoundingClientRect();const z=setTimeout(()=>{f()},n+1),X=()=>{clearTimeout(z),f()};return(k=s(r))==null||k.addEventListener("transitionend",X,{once:!0}),c(),()=>{var Y;(Y=s(r))==null||Y.removeEventListener("transitionend",X)}}case"closing":{const z=setTimeout(()=>{s(o).type==="closing"&&u()},n+1),X=()=>{clearTimeout(z),u()};return(I=s(r))==null||I.addEventListener("transitionend",X,{once:!0}),()=>{var Y;(Y=s(r))==null||Y.removeEventListener("transitionend",X)}}case"closed":(U=s(r))==null||U.close(),f();break;case"opened":f();break}});var p=_i(),g=W(p),m=T(g),y=T(m);{var S=k=>{var I=le(),U=W(I);We(U,()=>t.children),C(k,I)};K(y,k=>{s(o).type!=="closed"&&k(S)})}Pe(m,k=>E(a,k),()=>s(a)),Pe(g,k=>E(r,k),()=>s(r));var _=A(g,2);{var w=k=>{Ja(k,{get dialog(){return s(r)},get dialogInner(){return s(a)},onClose:l})};K(_,k=>{s(o).type==="opened"&&!t.blocked&&k(w)})}var b=A(_,2);{var P=k=>{mi(k,{onClose:l,onOpen:i,onSwipe:d,get sidebarState(){return s(o).type},get dialog(){return s(r)}})};K(b,k=>{(!s(h)&&s(o).type==="closed"||s(o).type==="opened"||s(o).type==="openSwiping"||s(o).type==="closeSwiping")&&!t.blocked&&k(P)})}de(()=>re(g,1,oe([{open:s(o).type==="opened",hidden:t.blocked,isAnimationOn:me.working&&(!me.isSwiping||!t.blocked)}]),"svelte-1in1s0g")),C(e,p),Z()}var yi=j('<button> <svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></button>');function st(e,t){let n=H(()=>t.style==="selected"?"45deg":"0deg");var r=yi();r.__click=function(...l){var i;(i=t.onClick)==null||i.apply(this,l)};var a=T(r),o=A(a);be(o,()=>({"--size":"20px","--rotate":s(n)})),_e(o.lastChild,{name:"plus"}),de(()=>{ye(r,"type",t.type),re(r,1,oe([{selectedTag:t.style==="selected"}]),"svelte-1uqucql"),Bt(a,`${t.title??""} `)}),C(e,r)}ke(["click"]);const Si=e=>{e.preventDefault(),Be("settings")};var bi=j("<div></div>"),Ei=j('<div class="sidebarFixed svelte-1y05y7k"><div class="nav svelte-1y05y7k"><!> <a class="link svelte-1y05y7k"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Settings</span></a></div> <div class="searchWrapper svelte-1y05y7k"><!></div> <!></div> <div></div>',1),Ti=j("<div></div>"),ki=j('<div class="sidebar svelte-1y05y7k"><div class="sidebarFixed svelte-1y05y7k"><div class="searchWrapper svelte-1y05y7k"><!></div> <!></div> <div class="tags svelte-1y05y7k"></div></div>');function Ci(e,t){q(t,!0);let n=M(null),r=M(""),a=H(()=>{var g;return((g=new URLSearchParams(N.search).get("selectedTags"))==null?void 0:g.split(","))||[]});const o=()=>{const g=je();g.includes("settings")||g.push("settings");const m=new URLSearchParams(N.search);return m.set("stackPages",g.join(",")),`${N.pathname}?${m}`},l=g=>{const m=new URLSearchParams(N.search);m.set("selectedTags",[...s(a),g].join(",")),dt(`${N.pathname}${m.size>0?`?${m.toString()}`:""}`),E(r,"")},i=g=>{const m=new URLSearchParams(N.search),y=s(a).filter(S=>S!==g);y.length===0?m.delete("selectedTags"):m.set("selectedTags",y.join(",")),dt(`${N.pathname}${m.size>0?`?${m.toString()}`:""}`)};let c=H(()=>Pt()?Object.values(Ga()).filter(g=>!s(a).some(m=>g.name===m)):[]),u=H(o),d=H(()=>je().length>0||Zs());var v=le(),f=W(v);{var h=g=>{wi(g,{get blocked(){return s(d)},children:(m,y)=>{var S=Ei(),_=W(S),w=T(_),b=T(w);Sa(b,{});var P=A(b,2);P.__click=[Si];var k=T(P);be(k,()=>({"--size":"20px"})),_e(k.lastChild,{name:"settings"});var I=A(w,2),U=T(I);qn(U,{placeholder:"Search tag",get value(){return s(r)},set value(ae){E(r,ae,!0)}});var z=A(I,2);{var X=ae=>{var F=bi();re(F,1,oe(["tags","selectedTags"]),"svelte-1y05y7k"),Qe(F,20,()=>s(a),x=>x,(x,D)=>{st(x,{get title(){return D},onClick:()=>i(D),style:"selected"})}),Pe(F,x=>E(n,x),()=>s(n)),C(ae,F)};K(z,ae=>{s(a).length>0&&ae(X)})}var Y=A(_,2);re(Y,1,oe(["tags","tagsWrapper"]),"svelte-1y05y7k"),Qe(Y,21,()=>s(c),ae=>ae.name,(ae,F)=>{var x=le(),D=W(x);{var R=V=>{st(V,{get title(){return s(F).name},onClick:()=>l(s(F).name)})};K(D,V=>{(s(r)===""||s(F).name.toLowerCase().indexOf(s(r).toLowerCase())!==-1)&&V(R)})}C(ae,x)}),de(ae=>{ye(P,"href",s(u)),pn(Y,`min-height: height: calc(100dvh - 190px - ${ae??""}px);`)},[()=>s(n)?s(n).getBoundingClientRect().height:0]),C(m,S)},$$slots:{default:!0}})},p=g=>{var m=ki(),y=T(m),S=T(y),_=T(S);qn(_,{placeholder:"Search tag",get value(){return s(r)},set value(k){E(r,k,!0)}});var w=A(S,2);{var b=k=>{var I=Ti();re(I,1,oe(["tags","selectedTags"]),"svelte-1y05y7k"),Qe(I,20,()=>s(a),U=>U,(U,z)=>{st(U,{get title(){return z},onClick:()=>i(z),style:"selected"})}),C(k,I)};K(w,k=>{s(a).length>0&&k(b)})}var P=A(y,2);Qe(P,21,()=>s(c),k=>k.name,(k,I)=>{var U=le(),z=W(U);{var X=Y=>{st(Y,{get title(){return s(I).name},onClick:()=>l(s(I).name)})};K(z,Y=>{(s(r)===""||s(I).name.toLowerCase().indexOf(s(r).toLowerCase())!==-1)&&Y(X)})}C(k,U)}),C(g,m)};K(f,g=>{Ft()?g(h):g(p,!1)})}C(e,v),Z()}ke(["click"]);function Li(e){const t=String.fromCharCode(...new Uint8Array(e));return window.btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function Di(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");const n=t.length%4;return n&&(t+="=".repeat(4-n)),t}function Ai(e){try{const t=atob(e),n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n.buffer}catch(t){throw console.error("Error decoding base64:",t,"Input:",e),t}}function Un(e){const t=Di(e);return Ai(t)}const Pi=async e=>{const t=await crypto.subtle.importKey("raw",e.serverKey,{name:"HKDF"},!1,["deriveKey"]),n=await crypto.subtle.deriveKey({name:"HKDF",salt:e.id,info:new TextEncoder().encode("aes-gcm-shared"),hash:"SHA-256"},t,{name:"AES-GCM",length:256},!1,["encrypt"]);return{encryptedClientKey:await crypto.subtle.encrypt({name:"AES-GCM",iv:new Uint8Array(12)},n,e.clientKey)}},Oi=async e=>{const t=await crypto.subtle.importKey("raw",e.serverKey,{name:"HKDF"},!1,["deriveKey"]),n=await crypto.subtle.deriveKey({name:"HKDF",info:new TextEncoder().encode("aes-gcm-shared"),hash:"SHA-256"},t,{name:"AES-GCM",length:256},!1,["decrypt"]),r=await crypto.subtle.decrypt({name:"AES-GCM",iv:new Uint8Array(12)},n,e.encryptedClientKey);return new Uint8Array(r)};function xi(e,t){const n=new ArrayBuffer(e.length+t.length),r=new Uint8Array(n);return r.set(e,0),r.set(t,e.length),n}const Ni=async e=>{const t=await crypto.subtle.importKey("raw",xi(e.clientKey,e.serverKey),{name:"HKDF"},!1,["deriveKey"]);return await crypto.subtle.deriveKey({name:"HKDF",info:new TextEncoder().encode("aes-gcm-shared"),hash:"SHA-256"},t,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])},Mi=async(e,t)=>{const n=JSON.parse(e),a=new Uint8Array(n).buffer,o=await crypto.subtle.decrypt({name:"AES-GCM",iv:new Uint8Array(12)},t,a);return new TextDecoder().decode(o)},Ii=async(e,t)=>{const r=await(await fetch("/api/serverKey",{method:"POST"})).json(),a=await Oi({encryptedClientKey:Un(e.encryptedClientKey),serverKey:Un(r.serverKey)});return{commonKey:await Ni({clientKey:a,serverKey:new Uint8Array(Un(t))})}};class Ri{constructor(){rt(this,"queue",[]);rt(this,"commonKey",null);rt(this,"status","idle");rt(this,"ws",null)}async saveNewRecords(t,n){const r=await Promise.all(n.records.map(async o=>{if(this.commonKey===null)throw new Error("Common key is not initialized");const l=await Mi(o.data,this.commonKey),i=JSON.parse(l);return{id:o.id,url:i.url,title:i.title,description:i.description,tags:i.tags,createdAt:i.createdAt,updatedAt:i.updatedAt}}));if(await Ua(r),(await fetch("/api/sync/finish",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({lastLogId:n.lastLogId})})).status===200){await Tn();const o={...t,lastSync:Date.now(),lastLogId:n.lastLogId};ft(o),pr(o)}}connect(){}mergeLogNotes(t,n){const r={};return t.forEach(a=>{r[a.id]=a}),n.forEach(a=>{r[a.id]?r[a.id].createdAt<a.createdAt&&(r[a.id]=a):r[a.id]=a}),Object.values(r)}async start(){const t=await vi();this.queue=this.mergeLogNotes(this.queue,t);const n=async()=>{var a;const r=Ka().account;if(r){if(!navigator.onLine){setTimeout(n,5e3);return}if(!this.commonKey){const l=await(await fetch("/api/serverKey",{method:"POST"})).json(),{commonKey:i}=await Ii(r,l.serverKey);this.commonKey=i}this.status==="idle"&&(this.status="sync",this.connect()),(a=this.ws)==null||a.send(JSON.stringify({type:"sync"}))}};n()}async putNote(t){const n={id:Vt(),operation:"put",recordId:t.id,createdAt:Date.now(),data:JSON.stringify({...t})};await Hn(n),this.queue.push(n)}async delNote(t){const n={id:Vt(),operation:"del",recordId:t,createdAt:Date.now()};await Hn(n),this.queue.push(n)}async delAll(){const t={id:Vt(),operation:"delAll",createdAt:Date.now()};await Hn(t),this.queue.push(t)}}const Zn=(e,t,n,r=new Set,a={})=>{var o,l;for(const i of e.children)if(i.tagName==="DT"){const c=i.querySelector(":scope > A"),u=i.querySelector(":scope > H3");if(c){const d=c.getAttribute("href"),v=c.textContent||"unknown";if(!d)return n;const f=t.find(h=>h.toLowerCase()==="notes bar")?t.filter(h=>h.toLowerCase()!=="notes bar"):["other"];if(a[d])a[d].tags=[...new Set([...a[d].tags,...f])];else{const h={id:Vt(),url:d,title:v,description:"",tags:f.length>0?f:[],updatedAt:Date.now(),createdAt:Date.now()};a[h.url]=h,n.push(h)}}else if(u){const d=(o=u.textContent)==null?void 0:o.trim();if(d&&((l=u.nextElementSibling)==null?void 0:l.tagName)==="DL"){const v=[...t];v.push(d);const f=u.nextElementSibling;r.has(f)||(r.add(f),Zn(f,v,n,r,a))}}}else i.tagName!=="DL"&&i.children.length>0&&(r.has(i)||(r.add(i),Zn(i,[...t],n,r,a)));return n},ql=async e=>{const t=await e.text(),a=new DOMParser().parseFromString(t,"text/html").querySelector("DL");return a?Zn(a,[],[]):[]},Zl=e=>{const t=Math.floor(Date.now()/1e3),n={};e.forEach(a=>{const o=a.tags||["Imported"];if(o.length===0){n.ROOT||(n.ROOT=[]),n.ROOT.push(a);return}o.forEach(l=>{n[l]||(n[l]=[]),n[l].push(a)})});let r=`<!DOCTYPE NETSCAPE-Note-file-1>
<!-- This is an automatically generated file.
 It will be read and overwritten.
 DO NOT EDIT! -->
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8">
<TITLE>notes</TITLE>
<H1>notes</H1>
<DL><p>
<DT><H3 ADD_DATE="${t}" LAST_MODIFIED="${t}" PERSONAL_TOOLBAR_FOLDER="true">notes Bar</H3>
<DL><p>`;return Object.keys(n).forEach(a=>{a!=="ROOT"&&a!=="other"&&(r+=`
	<DT><H3 ADD_DATE="${t}" LAST_MODIFIED="${t}">${a}</H3>
	<DL><p>`,n[a].forEach(o=>{const l=o.title.replace(/"/g,"&quot;");r+=`
		<DT><A HREF="${o.url}" ADD_DATE="${Math.floor(o.createdAt/1e3)||t}">${l}</A>`}),r+=`
	</DL><p>`)}),n.ROOT&&n.ROOT.forEach(a=>{const o=a.title.replace(/"/g,"&quot;");r+=`
	<DT><A HREF="${a.url}" ADD_DATE="${Math.floor(a.createdAt/1e3)||t}">${o}</A>`}),r+=`
</DL><p>`,n.other&&n.other.forEach(a=>{const o=a.title.replace(/"/g,"&quot;");r+=`
	<DT><A HREF="${a.url}" ADD_DATE="${Math.floor(a.createdAt/1e3)||t}">${o}</A>`}),r+="</DL><p>",r};async function _r(){if(navigator.storage&&navigator.storage.persist)try{await navigator.storage.persisted()||await navigator.storage.persist()}catch{console.error("")}}const tt=new BroadcastChannel("app"),ht=new Ri;tt.addEventListener("message",async e=>{if(console.log("Received message from BroadcastChannel:",e.data),e.data&&typeof e.data=="string"){const t=JSON.parse(e.data);if(t.operation==="addNote"){const n=t.note;ja(n)}else if(t.operation==="updateNote"){const n=t.note;Va(n)}else if(t.operation==="deleteNote"){const n=t.noteId;Wa(n)}else if(t.operation==="clearAppState")Ya();else if(t.operation==="reloadNotes")Tn();else if(t.operation==="initLocalAccount")ft(null),Gn(),dt("/");else if(t.operation==="initAccount"){const n=await Ba();n&&(ft(n),Gn(),dt("/"),ht.start())}}});ui().then(async()=>{hi();const e=await Ba();e===void 0?Be("start"):(Ks("start")&&(Gn(),dt("/")),e?(ft(e),await _r(),ht.start()):ft(null),await Tn())}).catch(()=>{console.error("failed to init db")});const Bi=async e=>{const t={...e,id:Vt(),createdAt:Date.now(),updatedAt:Date.now()};ja(t),tt.postMessage(JSON.stringify({operation:"addNote",note:{...t}})),await Ha({...t}),ht.putNote({...t})},Fi=async e=>{const t={...e,updatedAt:Date.now()};tt.postMessage(JSON.stringify({operation:"updateNote",note:t})),Va(t),await Ha(t),ht.putNote({...t})},Hi=async e=>{tt.postMessage(JSON.stringify({operation:"deleteNote",noteId:e})),Wa(e),await di(e),ht.delNote(e)},Ql=async()=>{tt.postMessage(JSON.stringify({operation:"clearAppState"})),Ya(),await mr(),ht.delAll()},$l=async(e="notes-export.json")=>{const t=JSON.stringify({notes:Ka().notes}),n=new Blob([t],{type:"application/json"}),r=URL.createObjectURL(n),a=document.createElement("a");a.href=r,a.download=e,document.body.appendChild(a),a.click(),setTimeout(()=>{document.body.removeChild(a),URL.revokeObjectURL(r)},0)},ec=async e=>{await Ua(e),tt.postMessage(JSON.stringify({operation:"reloadNotes"})),await Tn()},Ui=async()=>{await mr(),await _r(),await pr(null),ft(null),tt.postMessage(JSON.stringify({operation:"initLocalAccount"}))},tc=async e=>{await mr(),await _r();const{encryptedClientKey:t}=await Pi({id:e.credentialId,clientKey:e.clientKey,serverKey:e.serverKey}),n={encryptedClientKey:Li(t),lastLogId:-1,lastSync:-1};await pr(n),ft(n),tt.postMessage(JSON.stringify({operation:"initAccount"})),ht.start()};var Ki=j('<div class="input-container svelte-hz572l"><input/> <div class="error-message svelte-hz572l"><!></div></div>');function Kn(e,t){q(t,!0);let n=ie(t,"value",15,""),r=ie(t,"error",3,"");var a=Ki(),o=T(a);o.__input=function(...d){var v;(v=t.onInput)==null||v.apply(this,d)};let l;var i=A(o,2),c=T(i);{var u=d=>{var v=xe();de(()=>Bt(v,r())),C(d,v)};K(c,d=>{r()&&d(u)})}de(d=>{ye(o,"placeholder",t.placeholder),l=re(o,1,"svelte-hz572l",null,l,d)},[()=>({error:!!r()})]),qt("blur",o,function(...d){var v;(v=t.onBlur)==null||v.apply(this,d)}),qt("focus",o,function(...d){var v;(v=t.onFocus)==null||v.apply(this,d)}),dr(o,n),C(e,a),Z()}ke(["input"]);var zi=j("<div></div>"),ji=j('<form class="svelte-tcgkvd"><!> <!> <textarea placeholder="notes" class="svelte-tcgkvd"></textarea> <div class="boxtags"><div class="sidebarFixed"><!></div> <div class="tags svelte-tcgkvd"><!> <!></div> <div class="searchWrapper svelte-tcgkvd"><!></div></div> <button class="buttonSubmit svelte-tcgkvd" type="submit"> </button></form>');function qa(e,t){q(t,!0);let n=ie(t,"initialTitle",3,""),r=ie(t,"initialUrl",3,""),a=ie(t,"initialDescription",3,""),o=ie(t,"initialTags",19,()=>[]),l=ie(t,"mode",3,"add"),i=M(""),c=M(fe(n())),u=M(fe(r())),d=M(fe(a())),v=M(fe(o().filter(O=>O!=="inbox")));const f=O=>{s(v).includes(O)||E(v,[...s(v),O],!0)},h=O=>{const Q=s(v).filter(L=>L!==O);Q.length===0?E(v,[],!0):E(v,Q,!0)};let p=H(()=>Pt()?[...za().reduce((O,Q)=>(Q==null||Q.tags.forEach(L=>{O.has(L)||O.add(L)}),O),new Set)]:[]),g=H(()=>Pt()?s(p).filter(O=>!s(v).some(Q=>O===Q)&&O!=="inbox"):[]),m=H(()=>s(g).find(O=>O.toLowerCase()===s(i).toLowerCase())||s(v).includes(s(i))),y=H(()=>s(g).filter(O=>s(i)===""?!0:O.toLowerCase().indexOf(s(i).toLowerCase())!==-1).slice(0,s(m)||s(i)===""?3:2));const S=O=>{O.preventDefault(),t.onSubmit({title:s(c).trim().slice(0,256)||"unkwown",url:s(u).trim().slice(0,2048),description:s(d).trim().slice(0,2048),tags:s(v).length>0?s(v):["inbox"]})};var _=ji(),w=T(_);Kn(w,{placeholder:"url",get value(){return s(u)},set value(O){E(u,O,!0)}});var b=A(w,2);Kn(b,{placeholder:"title",get value(){return s(c)},set value(O){E(c,O,!0)}});var P=A(b,2),k=A(P,2),I=T(k),U=T(I);{var z=O=>{var Q=zi();re(Q,1,oe(["tags","selectedTags"]),"svelte-tcgkvd"),Qe(Q,20,()=>s(v),L=>L,(L,B)=>{st(L,{get title(){return B},onClick:()=>h(B),type:"button",style:"selected"})}),C(O,Q)};K(U,O=>{s(v).length>0&&O(z)})}var X=A(I,2),Y=T(X);{var ae=O=>{var Q=le(),L=W(Q);Qe(L,16,()=>s(y),B=>B,(B,G)=>{st(B,{get title(){return G},onClick:()=>f(G)})}),C(O,Q)};K(Y,O=>{s(i)!==""&&O(ae)})}var F=A(Y,2);{var x=O=>{st(O,{get title(){return s(i)},onClick:()=>{f(s(i)),E(i,"")}})};K(F,O=>{!s(m)&&s(i)!==""&&O(x)})}var D=A(X,2),R=T(D);Kn(R,{placeholder:"search tag",get value(){return s(i)},set value(O){E(i,O,!0)}});var V=A(k,2),ne=T(V);de(()=>Bt(ne,l()==="add"?"add":"edit")),qt("submit",_,S),dr(P,()=>s(d),O=>E(d,O)),C(e,_),Z()}function Vi(e,t){q(t,!0);let n=M(!0);const r=()=>{t.onClose()},a=()=>{E(n,!1)},o=({title:l,url:i,description:c,tags:u})=>{Fi({...t.note,title:l,url:i,description:c,tags:u.map(d=>d.trim())}),a()};Ia(e,{get shownDialog(){return s(n)},onClose:r,children:(l,i)=>{qa(l,{get initialTitle(){return t.note.title},get initialUrl(){return t.note.url},get initialDescription(){return t.note.description},get initialTags(){return t.note.tags},onSubmit:o,mode:"edit"})},$$slots:{default:!0}}),Z()}var Wi=j('<dialog><div class="dialogInner svelte-w3h659"><!></div></dialog> <!>',1);function Za(e,t){q(t,!0);let n=M(null),r=M(null),a=M(!1);const o=()=>{var h;const f=setTimeout(()=>{t.onClosed()},150);(h=s(n))==null||h.addEventListener("transitionend",()=>{clearTimeout(f),t.onClosed()},{once:!0}),E(a,!1)};Se(()=>{t.startClose&&o()}),ge(()=>{var f,h;(f=s(n))==null||f.showModal(),(h=s(n))==null||h.getClientRects(),E(a,!0)}),ge(()=>(Oa(),()=>{xa()}));var l=Wi(),i=W(l),c=T(i),u=T(c);We(u,()=>t.children),Pe(c,f=>E(r,f),()=>s(r)),Pe(i,f=>E(n,f),()=>s(n));var d=A(i,2);{var v=f=>{Ja(f,{get dialog(){return s(n)},get dialogInner(){return s(r)},onClose:o})};K(d,f=>{s(n)&&s(r)&&f(v)})}de(()=>re(i,1,oe(["dialog",{shown:s(a)}]),"svelte-w3h659")),C(e,l),Z()}var Yi=j("<div><!></div>");function Qa(e,t){q(t,!0);let n=M(!1),r=M(null);const a=()=>{var d;const u=setTimeout(()=>{t.onClosed()},150);(d=s(r))==null||d.addEventListener("transitionend",()=>{clearTimeout(u),t.onClosed()},{once:!0}),E(n,!1)},o=u=>{var d;u.target!==s(r)&&!((d=s(r))!=null&&d.contains(u.target))&&a()},l=u=>{var d;u.target!==s(r)&&!((d=s(r))!=null&&d.contains(u.target))&&a()};ge(()=>{var d;(d=s(r))==null||d.getClientRects(),E(n,!0);const u=setTimeout(()=>{document.addEventListener("focusin",o),document.addEventListener("click",l)},0);return()=>{clearTimeout(u),document.removeEventListener("focusin",o),document.removeEventListener("click",l)}}),Se(()=>{t.startClose&&a()});var i=Yi(),c=T(i);We(c,()=>t.children),Pe(i,u=>E(r,u),()=>s(r)),de(()=>re(i,1,oe(["menu",{top:t.positionTop,shown:s(n)}]),"svelte-1ljsfcr")),C(e,i),Z()}const Xi=(e,t,n)=>{const r=Ga();t.note.tags.forEach(a=>{if(s(n).includes(a)&&r[a].connections===1){const o=new URLSearchParams(N.search),l=s(n).filter(i=>i!==a);l.length===0?o.delete("selectedTags"):o.set("selectedTags",l.join(",")),Us(`${N.pathname}${o.size>0?`?${o.toString()}`:""}`)}}),Hi(t.note.id)},Gi=(e,t,n)=>{E(t,!0),E(n,!0)};var Ji=j('<div class="menu svelte-xxw0l"><div><button>Edit</button></div> <div><button>Delete</button></div></div>'),qi=j('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),Zi=j("<!> <!>",1);function Qi(e,t){q(t,!0);const n=(g,m=Qt)=>{var y=Ji(),S=T(y),_=T(S);_.__click=[Gi,o,a];var w=A(S,2),b=T(w);b.__click=[Xi,t,i],de(()=>{re(_,1,oe(["button",{buttonMenuDialog:m()}]),"svelte-xxw0l"),re(b,1,oe(["button",{buttonMenuDialog:m()}]),"svelte-xxw0l")}),C(g,y)};let r=ie(t,"shownMenu",15),a=M(!1),o=M(!1),l=H(Ft),i=H(()=>{var g;return((g=new URLSearchParams(N.search).get("selectedTags"))==null?void 0:g.split(","))||[]});const c=()=>{E(a,!1)},u=()=>{r(!1),E(o,!1)};var d=Zi(),v=W(d);{var f=g=>{var m=le(),y=W(m);{var S=w=>{Za(w,{get startClose(){return s(o)},onClosed:u,children:(b,P)=>{n(b,()=>!0)},$$slots:{default:!0}})},_=w=>{var b=qi(),P=W(b);be(P,()=>({"--bottom":"-180%","--right":"30px"})),Qa(P.lastChild,{get startClose(){return s(o)},get positionTop(){return t.showMenuUp},onClosed:u,children:(k,I)=>{n(k,()=>!1)},$$slots:{default:!0}}),C(w,b)};K(y,w=>{s(l)?w(S):w(_,!1)})}C(g,m)};K(v,g=>{r()&&g(f)})}var h=A(v,2);{var p=g=>{Vi(g,{get note(){return t.note},onClose:c})};K(h,g=>{s(a)&&g(p)})}C(e,d),Z()}ke(["click"]);const $i=(e,t,n)=>{t.showMenuUp||E(n,!0)},el=(e,t)=>{navigator.clipboard.writeText(t.note.url),Ds("Link copied to clipboard")},tl=(e,t)=>{E(t,!0)},nl=(e,t)=>{E(t,!1)};var rl=j('<li class="note svelte-11sazhi"><img loading="lazy" class="noteIcon" height="16" width="16" alt="icon"/> <a class="noteLink svelte-11sazhi" target="_blank" rel="noopener noreferrer"> </a> <div class="spacer svelte-11sazhi"></div> <div><button class="button svelte-11sazhi"><!> <!></button> <button><!> <!></button> <!></div></li>');function al(e,t){q(t,!0);let n=M(!1),r=M(!1);const a=y=>{try{return`https://external-content.duckduckgo.com/ip3/${new URL(y).host}.ico`}catch{return""}};var o=rl();o.__focusin=[tl,n],o.__focusout=[nl,n];var l=T(o),i=A(l,2),c=T(i),u=A(i,4),d=T(u);d.__click=[el,t];var v=T(d);_e(v,{name:"copy"});var f=A(v,2);Lt(f,{children:(y,S)=>{var _=xe("copy link");C(y,_)}});var h=A(d,2);h.__click=[$i,t,r],re(h,1,oe(["button","buttonMenu"]),"svelte-11sazhi");var p=T(h);_e(p,{name:"menu"});var g=A(p,2);Lt(g,{children:(y,S)=>{var _=xe("show menu");C(y,_)}});var m=A(h,2);Qi(m,{get note(){return t.note},get showMenuUp(){return t.showMenuUp},get shownMenu(){return s(r)},set shownMenu(y){E(r,y,!0)}}),de(y=>{ye(l,"src",y),ye(i,"tabindex",t.focusHidden?-1:0),ye(i,"href",t.note.url),Bt(c,t.note.title),re(u,1,oe(["noteMenuWrapper",{noteMenuWrapperActive:s(n)}]),"svelte-11sazhi"),ye(d,"tabindex",t.focusHidden?-1:0),ye(h,"tabindex",t.focusHidden?-1:0)},[()=>a(t.note.url)]),C(e,o),Z()}ke(["focusin","focusout","click"]);const zt=fe({ref:null}),ol=(e,t)=>{s(t)||E(t,!0)};var sl=(e,t)=>t("newest"),il=(e,t)=>t("oldest"),ll=(e,t)=>t("AtoZ"),cl=(e,t)=>t("ZtoA"),ul=j("<div><button>Newest</button> <button>Oldest</button> <button>A to Z</button> <button>Z to A</button></div>"),dl=j('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),fl=j('<div class="orderMenu svelte-16tnh9z"><button><!> <!></button> <!></div>');function vl(e,t){q(t,!0);const n=(g,m=Qt)=>{var y=ul(),S=T(y);S.__click=[sl,i];var _=A(S,2);_.__click=[il,i];var w=A(_,2);w.__click=[ll,i];var b=A(w,2);b.__click=[cl,i],de(()=>{re(y,1,oe(["menu",{menuDialog:m()}]),"svelte-16tnh9z"),re(S,1,oe(["menuButton",{menuButtonDialog:m(),current:s(l)==="newest"}]),"svelte-16tnh9z"),re(_,1,oe(["menuButton",{menuButtonDialog:m(),current:s(l)==="oldest"}]),"svelte-16tnh9z"),re(w,1,oe(["menuButton",{menuButtonDialog:m(),current:s(l)==="AtoZ"}]),"svelte-16tnh9z"),re(b,1,oe(["menuButton",{menuButtonDialog:m(),current:s(l)==="ZtoA"}]),"svelte-16tnh9z")}),C(g,y)};let r=M(!1),a=M(!1),o=H(Ft),l=H(Ea);const i=g=>{E(a,!0),Bs(g)},c=()=>{E(r,!1),E(a,!1)};var u=fl(),d=T(u);d.__click=[ol,r],re(d,1,oe(["button","buttonMenu"]),"svelte-16tnh9z");var v=T(d);_e(v,{name:"filter"});var f=A(v,2);Lt(f,{children:(g,m)=>{var y=xe("show feed order menu");C(g,y)}});var h=A(d,2);{var p=g=>{var m=le(),y=W(m);{var S=w=>{Za(w,{get startClose(){return s(a)},onClosed:c,children:(b,P)=>{n(b,()=>!0)},$$slots:{default:!0}})},_=w=>{var b=dl(),P=W(b);be(P,()=>({"--right":"20px","--top":"60px"})),Qa(P.lastChild,{get startClose(){return s(a)},onClosed:c,children:(k,I)=>{n(k,()=>!1)},$$slots:{default:!0}}),C(w,b)};K(y,w=>{s(o)?w(S):w(_,!1)})}C(g,m)};K(h,g=>{s(r)&&g(p)})}C(e,u),Z()}ke(["click"]);const hl=(e,t)=>{s(t)&&s(t).scrollTo({top:0,behavior:"smooth"})};var gl=j('<div class="emptyMessage svelte-1nwd0on">No notes found</div>'),pl=j('<div class="wrapperButtonTop svelte-1nwd0on"><button class="buttonTop svelte-1nwd0on"><!> <svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></button></div>'),ml=j('<div class="filter svelte-1nwd0on"><div class="searchWrapper svelte-1nwd0on"><!></div> <!></div> <div class="wrapperFeed svelte-1nwd0on"><div class="wrapperContainer svelte-1nwd0on"><div class="feed svelte-1nwd0on"><ul class="svelte-1nwd0on"></ul> <!></div></div></div> <!>',1);function _l(e,t){q(t,!0);let n=M(null),r=50,a=M(0),o=M(0),l=M(0),i=M(fe([])),c=M(""),u=H(()=>Ft()?s(n):zt.ref),d=null,v=null,f=M(!1),h=0;const p=H(Fs);Se(()=>{var L;s(c),s(p),s(S),(L=s(u))==null||L.scrollTo(0,0)});const g=()=>{if(s(u)){const L=s(u).scrollTop||0;L===0?E(f,!1):!s(f)&&h>L?E(f,!0):s(f)&&h<L&&E(f,!1),h=L}},m=()=>{Na(),d||(d=requestAnimationFrame(()=>{var G;g();const L=((G=s(u))==null?void 0:G.scrollTop)||0;E(l,L,!0);const B=Math.ceil(s(a)/r);E(o,Math.floor(L/(r*B))*(r*B)),d=null}))},y=()=>{v||(v=requestAnimationFrame(()=>{var G;g(),E(a,window.innerHeight-180||0,!0);const L=((G=s(u))==null?void 0:G.scrollTop)||0;E(l,L,!0);const B=Math.ceil(s(a)/r);E(o,Math.floor(L/(r*B))*(r*B)),v=null}))};ge(()=>{y(),m()}),Se(()=>{var L;return(L=s(u))==null||L.addEventListener("scroll",m),window.addEventListener("resize",y),()=>{var B;(B=s(u))==null||B.removeEventListener("scroll",m),window.removeEventListener("resize",y)}});const S=H(Ea);Se(()=>{const L=za(),B=[],G={};for(let ue=L.length-1;ue>=0;ue--){const te=L[ue];if(te&&!(s(p).length&&s(p).some(ve=>!te.tags.includes(ve)))&&!(s(c)&&!(te.title.toLowerCase().includes(s(c).toLowerCase())||te.url.toLowerCase().includes(s(c).toLowerCase())||te.description.toLowerCase().includes(s(c).toLowerCase())))){if(te.tags)for(const ve of te.tags)G[ve]?G[ve].connections++:G[ve]={name:ve,connections:1};B.push(te)}}gi(G),B.sort((ue,te)=>{if(!ue||!te)return 0;switch(s(S)){case"newest":return ue.createdAt>te.createdAt?-1:1;case"oldest":return ue.createdAt<te.createdAt?-1:1;case"AtoZ":return ue.title.localeCompare(te.title);case"ZtoA":return te.title.localeCompare(ue.title);default:return 0}}),E(i,B,!0)});const _=H(()=>s(i).length*r);let b=H(()=>{const L=Math.ceil(s(a)/r);let B=Math.floor(s(o)/r);return B=B-Math.min(B,L),s(i).slice(B,B+L*3)}),P=H(()=>r*Math.ceil(s(a)/r));const k=H(()=>s(o)-Math.min(s(o),s(P))),I=()=>{s(u)&&s(u).scrollTo({top:0,behavior:"smooth"})};var U=ml(),z=W(U),X=T(z),Y=T(X);qn(Y,{onFocus:I,placeholder:"Search",get value(){return s(c)},set value(L){E(c,L,!0)}});var ae=A(X,2);vl(ae,{});var F=A(z,2),x=T(F),D=T(x),R=T(D);Qe(R,23,()=>s(b),L=>L.id,(L,B,G)=>{const ue=H(()=>s(G)*r<s(l)-s(k)-r/2||s(G)*r>s(l)-s(k)+Math.floor(s(a)/r)*r),te=H(()=>(s(G)+3)*r<s(l)-s(k)-r/2||(s(G)+3)*r>s(l)-s(k)+Math.floor(s(a)/r)*r);al(L,{get focusHidden(){return s(ue)},get showMenuUp(){return s(te)},get note(){return s(B)}})});var V=A(R,2);{var ne=L=>{var B=gl();C(L,B)};K(V,L=>{s(b).length===0&&Pt()&&L(ne)})}Pe(x,L=>E(n,L),()=>s(n));var O=A(F,2);{var Q=L=>{var B=pl(),G=T(B);G.__click=[hl,u];var ue=T(G);Lt(ue,{children:(ve,Ye)=>{var Xe=xe("top");C(ve,Xe)}});var te=A(ue,2);be(te,()=>({"--size":"22px"})),_e(te.lastChild,{name:"up"}),C(L,B)};K(O,L=>{s(f)&&L(Q)})}de(L=>{pn(D,`min-height: ${L??""}px`),pn(R,`transform: translateY(${s(k)??""}px);`)},[()=>Math.max((s(_)>s(a),s(_)),0)]),C(e,U),Z()}ke(["click"]);var wl=j('<!> <div class="content svelte-cu0ar8"><!></div>',1);function yl(e){var t=wl(),n=W(t);Ci(n,{});var r=A(n,2),a=T(r);_l(a,{}),C(e,t)}var at=(e=>(e.Light="light",e.System="system",e.Dark="dark",e))(at||{});let $a=M(fe(localStorage.getItem("colorScheme")||"system"));const Sl=e=>{localStorage.setItem("colorScheme",e),e==="system"?window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.dataset.colorScheme="dark":document.documentElement.dataset.colorScheme="light":document.documentElement.dataset.colorScheme=e,E($a,e,!0)},bl=()=>s($a);var El=j('<div class="wrapper svelte-1elv5s4"><fieldset class="switcher svelte-1elv5s4"><legend class="vh svelte-1elv5s4">Color Scheme</legend> <input id="light" type="radio" aria-label="Light"/> <label for="light" title="Light" aria-label="Light"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <input id="system" type="radio" aria-label="System"/> <label for="system" title="System" aria-label="System"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <input id="dark" type="radio" aria-label="Dark"/> <label for="dark" title="Dark" aria-label="Dark"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <div class="wrapSwitcherStatus svelte-1elv5s4"><div class="switcherStatus svelte-1elv5s4"></div></div></fieldset></div>');function Tl(e,t){q(t,!0);const n=H(bl),r=m=>{const y=m.target.value;Sl(y)},a="color-scheme-switcher";var o=El(),l=T(o),i=A(T(l),2);re(i,1,oe(["vh","input"]),"svelte-1elv5s4"),ye(i,"name",a),i.__change=r;var c=A(i,2);re(c,1,oe(["switcherButton","light"]),"svelte-1elv5s4");var u=T(c);be(u,()=>({"--size":"20px"})),_e(u.lastChild,{name:"sun"});var d=A(c,2);re(d,1,oe(["vh","input"]),"svelte-1elv5s4"),ye(d,"name",a),d.__change=r;var v=A(d,2);re(v,1,oe(["switcherButton","system"]),"svelte-1elv5s4");var f=T(v);be(f,()=>({"--size":"14px"})),_e(f.lastChild,{name:"a"});var h=A(v,2);re(h,1,oe(["vh","input"]),"svelte-1elv5s4"),ye(h,"name",a),h.__change=r;var p=A(h,2);re(p,1,oe(["switcherButton","dark"]),"svelte-1elv5s4");var g=T(p);return be(g,()=>({"--size":"20px"})),_e(g.lastChild,{name:"moon"}),de(()=>{Mn(i,at.Light),In(i,s(n)===at.Light),Mn(d,at.System),In(d,s(n)===at.System),Mn(h,at.Dark),In(h,s(n)===at.Dark)}),C(e,o),Z({handleChange:r})}ke(["change"]);const kl=()=>{Be("import")},Cl=()=>{Be("export")},Ll=()=>{Be("clearStorage")};var Dl=j("<span> </span>"),Al=j('<div class="svelte-378nhf"><!> <ul class="svelte-378nhf"><li class="svelte-378nhf"><button class="button svelte-378nhf"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-378nhf">import data</span></button></li> <li class="svelte-378nhf"><button class="button svelte-378nhf"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-378nhf">export data</span></button></li> <li class="svelte-378nhf"><button class="button svelte-378nhf"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-378nhf">clear storage</span></button></li></ul> <div class="version svelte-378nhf"><!></div></div>');function Pl(e,t){q(t,!0);let n=M("");ge(()=>{const S=new AbortController;return fetch("/build-metadata.json",{signal:S.signal}).then(_=>_.json()).then(_=>{E(n,`${_.buildHash}`)}),()=>{S.abort()}});var r=Al(),a=T(r);Tl(a,{});var o=A(a,2),l=T(o),i=T(l);i.__click=[kl];var c=T(i);be(c,()=>({"--size":"20px"})),_e(c.lastChild,{name:"import"});var u=A(l,2),d=T(u);d.__click=[Cl];var v=T(d);be(v,()=>({"--size":"20px"})),_e(v.lastChild,{name:"export"});var f=A(u,2),h=T(f);h.__click=[Ll];var p=T(h);be(p,()=>({"--size":"20px"})),_e(p.lastChild,{name:"trash"});var g=A(o,2),m=T(g);{var y=S=>{var _=Dl(),w=T(_);de(b=>Bt(w,`version: 0.0.1 build_date: "${b??""}" build_hash:
				${s(n)??""}`),[()=>new Date(1752978697784).toISOString().replaceAll("T"," ").replace(/\..*/,"")]),C(S,_)};K(m,S=>{s(n)&&S(y)})}C(e,r),Z()}ke(["click"]);function Ol(e,t){q(t,!1);const n=()=>{ka()},r=({title:a,url:o,description:l,tags:i})=>{Bi({title:a,url:o,description:l,tags:i.map(c=>c.trim())}),n()};nn(),qa(e,{onSubmit:r}),Z()}var xl=j('<button type="button"><!></button>');function mn(e,t){let n=ie(t,"type",3,"standard"),r=ie(t,"fullWidth",3,!1);var a=xl();a.__click=function(...l){var i;(i=t.onClick)==null||i.apply(this,l)};var o=T(a);We(o,()=>t.children??Qt),de(()=>re(a,1,oe(["button",{dangerous:n()==="dangerous",secondary:n()==="secondary",fullWidth:r()}]),"svelte-ut1pbk")),C(e,a)}ke(["click"]);var Nl=j('<div class="content svelte-9hh95f"><p class="message svelte-9hh95f">use app</p> <div class="buttonContainer svelte-9hh95f"><div class="buttonContainerItem svelte-9hh95f"><!></div> <div class="buttonContainerItem svelte-9hh95f"><!></div></div></div>');function Ml(e,t){q(t,!0);let n=M("idle");const r=()=>{E(n,"loading"),Be("sign")},a=async()=>{E(n,"loading"),await Ui(),Kt(!1),Ca()};Se(()=>{Kt(s(n)==="idle"||s(n)==="loading")}),ge(()=>(Kt(!0),()=>{Kt(!1)}));var o=Nl(),l=A(T(o),2),i=T(l),c=T(i);mn(c,{onClick:r,fullWidth:!0,children:(v,f)=>{var h=xe("with account");C(v,h)},$$slots:{default:!0}});var u=A(i,2),d=T(u);mn(d,{onClick:a,fullWidth:!0,type:"secondary",children:(v,f)=>{var h=xe("without account");C(v,h)},$$slots:{default:!0}}),C(e,o),Z()}var Il=j('<div class="content svelte-9hh95f"><p class="message svelte-9hh95f">sign in / sign up</p> <div class="buttonContainer svelte-9hh95f"><div class="buttonContainerItem svelte-9hh95f"><!></div> <div class="buttonContainerItem svelte-9hh95f"><!></div></div></div>');function Rl(e,t){q(t,!1);const n=async()=>{Be("signin")},r=async()=>{Be("signup")};ge(()=>(Kt(!0),Mr(!0),()=>{Mr(!1)})),nn();var a=Il(),o=A(T(a),2),l=T(o),i=T(l);mn(i,{onClick:n,fullWidth:!0,children:(d,v)=>{var f=xe("sign in");C(d,f)},$$slots:{default:!0}});var c=A(l,2),u=T(c);mn(u,{onClick:r,fullWidth:!0,children:(d,v)=>{var f=xe("sign up");C(d,f)},$$slots:{default:!0}}),C(e,a),Z()}var Bl=j('<div class="svelte-t4bw1y"><!></div>');function He(e,t){q(t,!0);let n=M(null);ge(()=>{s(n)&&(s(n).getBoundingClientRect(),s(n).style.opacity="1")});var r=Bl(),a=T(r);We(a,()=>t.children),Pe(r,o=>E(n,o),()=>s(n)),C(e,r),Z()}var Fl=j("<!> <!>",1);function Hl(e,t){q(t,!0);const n=(b,P=Qt)=>{var k=le(),I=W(k);{var U=X=>{He(X,{children:(Y,ae)=>{Pl(Y,{})},$$slots:{default:!0}})},z=(X,Y)=>{{var ae=x=>{He(x,{children:(D,R)=>{Ol(D,{})},$$slots:{default:!0}})},F=(x,D)=>{{var R=ne=>{He(ne,{children:(O,Q)=>{var L=le(),B=W(L);St(B,d,null,(G,ue)=>{var te=le();const ve=H(()=>s(ue).default);var Ye=W(te);bt(Ye,()=>s(ve),(Xe,Fe)=>{Fe(Xe,{})}),C(G,te)}),C(O,L)},$$slots:{default:!0}})},V=(ne,O)=>{{var Q=B=>{He(B,{children:(G,ue)=>{var te=le(),ve=W(te);St(ve,v,null,(Ye,Xe)=>{var Fe=le();const Ne=H(()=>s(Xe).default);var nt=W(Fe);bt(nt,()=>s(Ne),(gt,pt)=>{pt(gt,{})}),C(Ye,Fe)}),C(G,te)},$$slots:{default:!0}})},L=(B,G)=>{{var ue=ve=>{He(ve,{children:(Ye,Xe)=>{var Fe=le(),Ne=W(Fe);St(Ne,f,null,(nt,gt)=>{var pt=le();const Ge=H(()=>s(gt).default);var Ht=W(pt);bt(Ht,()=>s(Ge),(rn,kn)=>{kn(rn,{})}),C(nt,pt)}),C(Ye,Fe)},$$slots:{default:!0}})},te=(ve,Ye)=>{{var Xe=Ne=>{He(Ne,{children:(nt,gt)=>{Ml(nt,{})},$$slots:{default:!0}})},Fe=(Ne,nt)=>{{var gt=Ge=>{He(Ge,{children:(Ht,rn)=>{Rl(Ht,{})},$$slots:{default:!0}})},pt=(Ge,Ht)=>{{var rn=mt=>{He(mt,{children:(Cn,wr)=>{var _t=le(),Ln=W(_t);St(Ln,h,null,(yr,an)=>{var on=le();const Dn=H(()=>s(an).default);var An=W(on);bt(An,()=>s(Dn),(sn,Pn)=>{Pn(sn,{})}),C(yr,on)}),C(Cn,_t)},$$slots:{default:!0}})},kn=(mt,Cn)=>{{var wr=_t=>{He(_t,{children:(Ln,yr)=>{var an=le(),on=W(an);St(on,p,null,(Dn,An)=>{var sn=le();const Pn=H(()=>s(An).default);var eo=W(sn);bt(eo,()=>s(Pn),(to,no)=>{no(to,{})}),C(Dn,sn)}),C(Ln,an)},$$slots:{default:!0}})};K(mt,_t=>{P()==="signin"&&_t(wr)},Cn)}};K(Ge,mt=>{P()==="signup"?mt(rn):mt(kn,!1)},Ht)}};K(Ne,Ge=>{P()==="sign"?Ge(gt):Ge(pt,!1)},nt)}};K(ve,Ne=>{P()==="start"?Ne(Xe):Ne(Fe,!1)},Ye)}};K(B,ve=>{P()==="clearStorage"?ve(ue):ve(te,!1)},G)}};K(ne,B=>{P()==="export"?B(Q):B(L,!1)},O)}};K(x,ne=>{P()==="import"?ne(R):ne(V,!1)},D)}};K(X,x=>{P()==="newNote"?x(ae):x(F,!1)},Y)}};K(I,X=>{P()==="settings"?X(U):X(z,!1)})}C(b,k)};let r=H(Da),a=H(Pt),o=null,l=null,i=null,c=null,u=null;function d(){return o||(o=Et(()=>import("./ImportData-BkUNvFIH.js"),__vite__mapDeps([2,3,4,5]))),o}function v(){return l||(l=Et(()=>import("./ExportData-n82gviUM.js"),__vite__mapDeps([6,3,4,7]))),l}function f(){return i||(i=Et(()=>import("./ClearStore-CfCt90bD.js"),__vite__mapDeps([8,3,4,9]))),i}function h(){return c||(c=Et(()=>import("./Signup-C8o3vNI_.js"),__vite__mapDeps([10,3,4,11]))),c}function p(){return u||(u=Et(()=>import("./Signin-C0EeU_RY.js"),__vite__mapDeps([12,3,4,11]))),u}var g=Fl(),m=W(g);{var y=b=>{yl(b)};K(m,b=>{s(a)&&b(y)})}var S=A(m,2);{var _=b=>{var P=le(),k=W(P);Qe(k,17,()=>s(r),vs,(I,U,z)=>{const X=H(()=>{var Y;return z!==s(r).length-1&&!!((Y=s(r)[z+1])!=null&&Y.shown)});Ir(I,{get shown(){return s(U).shown},get hidden(){return s(X)},isLastDialog:z===0,children:(Y,ae)=>{n(Y,()=>s(U).page)},$$slots:{default:!0}})}),C(b,P)},w=(b,P)=>{{var k=I=>{const U=H(()=>s(r).length===1);Ir(I,{onBack:()=>La(),get shown(){return s(r)[s(r).length-1].shown},hidden:!1,get isLastDialog(){return s(U)},children:(z,X)=>{n(z,()=>s(r)[s(r).length-1].page)},$$slots:{default:!0}})};K(b,I=>{s(r).length>0&&I(k)},P)}};K(S,b=>{Ft()?b(_):b(w,!1)})}C(e,g),Z()}function Ul(){const e=navigator.userAgent;if(!(/iPad|iPhone|iPod/.test(e)&&!window.MSStream))return!1;const n=/Safari/.test(e)&&!/Chrome/.test(e)&&!/CriOS/.test(e)&&!/FxiOS/.test(e),r=/Macintosh/.test(e)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>1;return!!n||!!r}const Kl=Ul();function zl(e,t){q(t,!1),ge(()=>{Fn(),document.addEventListener("focusin",Fn),document.addEventListener("focusout",Fn),document.addEventListener("touchmove",function(n){vr()&&Kl&&n.preventDefault()},{passive:!1})}),nn(),Z()}function jl(e,t){q(t,!1);let n=0;ge(()=>{document.querySelector("div"),document.addEventListener("touchstart",r=>{n=r.touches[0].clientX},{passive:!1}),document.addEventListener("touchmove",r=>{const o=r.touches[0].clientX-n;(n<50&&o>0||n>window.innerWidth-50&&o<0)&&r.preventDefault()},{passive:!1}),document.addEventListener("touchend",()=>{n=0}),document.addEventListener("touchcancel",()=>{n=0})}),nn(),Z()}var Vl=j('<!> <!> <!> <main><!> <div class="container svelte-ngsolt"><!></div></main>',1);function Wl(e,t){q(t,!0),ge(async()=>{await new Promise(h=>setTimeout(h,100)),await es(),me.working=!0});let n=H(()=>je().length>0),r=H(Pt);var a=Vl(),o=W(a);jl(o,{});var l=A(o,2);zl(l,{});var i=A(l,2);Ps(i,{});var c=A(i,2),u=T(c);{var d=h=>{Ys(h,{})};K(u,h=>{s(r)&&h(d)})}var v=A(u,2),f=T(v);Hl(f,{}),Pe(c,h=>zt.ref=h,()=>zt==null?void 0:zt.ref),de(()=>{pn(c,`--swiping-ratio: ${me.swipingRatio}; --transition-timing-default: ${me.duration}s;`),re(c,1,oe(["main",{isAnimationOn:me.working&&!me.isSwiping,open:s(n)}]),"svelte-ngsolt")}),C(e,a),Z()}us(Wl,{target:document.getElementById("app")});export{ie as A,mn as B,Qe as C,ye as D,Mn as E,In as F,Bt as G,pn as H,$l as I,Zl as J,Jl as K,Ql as L,fe as M,Mr as N,Ai as O,Di as P,Li as Q,tc as R,Un as S,me as T,We as U,Ja as V,be as W,_e as X,Lt as Y,le as Z,M as a,C as b,T as c,Z as d,A as e,j as f,s as g,W as h,K as i,Ft as j,Pe as k,E as l,de as m,re as n,ge as o,q as p,oe as q,qt as r,Kt as s,xe as t,Se as u,ke as v,ec as w,ql as x,Ca as y,Gl as z};
