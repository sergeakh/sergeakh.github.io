import{A as q,p as I,C as z,f as g,D as G,h as _,q as H,r as T,e as f,n as O,E as m,g as s,F as K,G as X,H as Q,c,b as o,I as V,d as J,w as W,u as Y,s as R,a as U,o as Z,i as B,m as k,B as $,t as E,k as F,J as ee,K as te,M as ae,N as se,L as le,z as re}from"./index-C1vnfXtA.js";const oe=(b,v,l)=>{v(b.target.value),l.onChange(v())};var ve=g('<input type="radio"/> <label> </label>',1),ie=g('<div class="wrapper svelte-1luxlbo"><fieldset class="switcher svelte-1luxlbo"><!> <div class="wrapSwitcherStatus svelte-1luxlbo"><div class="switcherStatus svelte-1luxlbo"></div></div></fieldset></div>');function ne(b,v){const l=q();I(v,!0);let u=z(v,"value",7);const D=`switcher-${l}`;var y=ie(),L=c(y),S=c(L);G(S,17,()=>v.items,t=>t.title,(t,a)=>{var i=ve(),e=_(i);H(e,1,T(["vh","input"]),"svelte-1luxlbo"),e.__change=[oe,u,v];var d=f(e,2);H(d,1,T(["switcherButton"]),"svelte-1luxlbo");var n=c(d);O(()=>{m(e,"id",`${s(a).title}-${l}`),m(e,"name",D),K(e,s(a).value),X(e,s(a).value===u()),m(e,"aria-label",s(a).title),m(d,"for",`${s(a).title}-${l}`),m(d,"title",s(a).title),m(d,"aria-label",s(a).title),Q(n,s(a).value)}),o(t,i)});var M=f(S,2),N=c(M);O(t=>V(N,t),[()=>`transform: translateX(${v.items.findIndex(t=>t.value===u())*100}%)`]),o(b,y),J()}W(["change"]);var ce=g('<p class="message svelte-8vhup1">Export items</p> <div class="format-switcher svelte-8vhup1"><!> <p class="format-description svelte-8vhup1"><!></p></div> <div class="buttonContainer svelte-8vhup1"><!></div>',1),de=g('<p class="message svelte-8vhup1">Exporting data...</p> <div class="buttonContainer svelte-8vhup1"><!></div>',1),ue=g('<p class="message svelte-8vhup1">Items exported successfully!</p> <div class="buttonContainer svelte-8vhup1"><!></div>',1),pe=g('<div class="content svelte-8vhup1"><!></div>');function me(b,v){I(v,!0);let l=U("idle"),u=U("html");const D=()=>{re()};Y(()=>{R(s(l)==="loading")}),Z(()=>()=>{R(!1)});const y=async()=>{k(l,"loading"),setTimeout(async()=>{if(s(u)==="json")await ee(te()).finally(()=>{k(l,"success")});else try{const t=ae(se()),a=new Blob([t],{type:"text/html"}),i=URL.createObjectURL(a),e=document.createElement("a");e.href=i,e.download=`items_${new Date().toLocaleDateString().replace(/\//g,"_")}.html`,document.body.appendChild(e),e.click(),document.body.removeChild(e),URL.revokeObjectURL(i),k(l,"success")}catch(t){console.error("Error exporting as HTML:",t),k(l,"success")}},0)};var L=pe(),S=c(L);{var M=t=>{var a=ce(),i=f(_(a),2),e=c(i);ne(e,{items:[{title:"HTML",value:"html"},{title:"JSON",value:"json"}],get value(){return s(u)},onChange:r=>{k(u,r,!0)}});var d=f(e,2),n=c(d);{var p=r=>{var h=E("JSON format (App compatible, a faster format)");o(r,h)},x=r=>{var h=E("HTML format (Browser compatible)");o(r,h)};B(n,r=>{s(u)==="json"?r(p):r(x,!1)})}var w=f(i,2),C=c(w);$(C,{onClick:y,children:(r,h)=>{var j=E("Export");o(r,j)},$$slots:{default:!0}}),o(t,a)},N=t=>{var a=F(),i=_(a);{var e=n=>{var p=de(),x=f(_(p),2),w=c(x);le(w),o(n,p)},d=n=>{var p=F(),x=_(p);{var w=C=>{var r=ue(),h=f(_(r),2),j=c(h);$(j,{onClick:D,children:(P,fe)=>{var A=E("Close");o(P,A)},$$slots:{default:!0}}),o(C,r)};B(x,C=>{s(l)==="success"&&C(w)},!0)}o(n,p)};B(i,n=>{s(l)==="loading"?n(e):n(d,!1)},!0)}o(t,a)};B(S,t=>{s(l)==="idle"?t(M):t(N,!1)})}o(b,L),J()}export{me as default};
