const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/MobileDialog-Bqtkt1Dd.js","assets/MobileDialog-DemsJRVL.css","assets/DesktopDialog-BjPcvitl.js","assets/DesktopDialog-D8zTl_PA.css","assets/MobileSidebar-CyzeMIxM.js","assets/MobileSidebar-BNh7a5G6.css","assets/ImportData-BvgjYcg5.js","assets/ImportData-CZGzVRRc.css","assets/ExportData-C9uFhGOj.js","assets/Switcher-CshGEdvM.js","assets/Switcher-BrVng3kJ.css","assets/ExportData-SlkOBNhU.css","assets/ClearStore-Du7E67k0.js","assets/ClearStore-DiVqV26R.css","assets/Signup-C4xpaa_y.js","assets/api-7nXQQ8YG.js","assets/Signup-CnX7iJxK.css","assets/Signin-xONxcaxA.js","assets/AccessKeys-DXCsAQ9J.js","assets/AccessKeys-DF5NA1tk.css","assets/ConfirmAccessKey-CgDjAnCd.js","assets/Input-5q9Fo1Yo.js","assets/Input-B5Z7Girm.css","assets/ConfirmAccessKey-BEOXyioc.css","assets/NewNote-CpEfdTZp.js","assets/NewNote-C8Q5vP2H.css"])))=>i.map(i=>d[i]);
var oo=Object.defineProperty;var Ca=e=>{throw TypeError(e)};var io=(e,t,n)=>t in e?oo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Dn=(e,t,n)=>io(e,typeof t!="symbol"?t+"":t,n),Dr=(e,t,n)=>t.has(e)||Ca("Cannot "+n);var H=(e,t,n)=>(Dr(e,t,"read from private field"),n?n.call(e):t.get(e)),xe=(e,t,n)=>t.has(e)?Ca("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),$e=(e,t,n,r)=>(Dr(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),It=(e,t,n)=>(Dr(e,t,"access private method"),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();const Ka=!1;var ta=Array.isArray,lo=Array.prototype.indexOf,na=Array.from,Fr=Object.defineProperty,fn=Object.getOwnPropertyDescriptor,Va=Object.getOwnPropertyDescriptors,co=Object.prototype,uo=Array.prototype,ra=Object.getPrototypeOf,xa=Object.isExtensible;const zt=()=>{};function fo(e){return typeof e?.then=="function"}function vo(e){return e()}function dr(e){for(var t=0;t<e.length;t++)e[t]()}function ho(){var e,t,n=new Promise((r,s)=>{e=r,t=s});return{promise:n,resolve:e,reject:t}}function po(e,t,n=!1){return e===void 0?n?t():t:e}const Oe=2,aa=4,gr=8,Yn=16,pt=32,Yt=64,Wa=128,He=256,vr=512,pe=1024,ze=2048,At=4096,Ze=8192,Gt=16384,sa=32768,Gn=65536,Na=1<<17,_o=1<<18,oa=1<<19,ia=1<<20,Hr=1<<21,la=1<<22,qt=1<<23,Ut=Symbol("$state"),go=Symbol("legacy props"),mo=Symbol(""),ca=new class extends Error{constructor(){super(...arguments);Dn(this,"name","StaleReactionError");Dn(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function wo(){throw new Error("https://svelte.dev/e/await_outside_boundary")}function yo(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function bo(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function So(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function ko(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Eo(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Po(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Co(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function xo(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function No(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Ao(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}const mr=1,wr=2,Ya=4,Lo=8,To=16,Do=1,Io=2,Oo=4,Mo=8,Ro=16,Bo=1,qo=2,ae=Symbol(),Uo="http://www.w3.org/1999/xhtml";let $o=!1;function Ga(e){return e===this.v}function jo(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Ja(e){return!jo(e,this.v)}let kn=!1,Fo=!1;function Ho(){kn=!0}let te=null;function mn(e){te=e}function V(e,t=!1,n){te={p:te,c:null,e:null,s:e,x:null,l:kn&&!t?{s:null,u:null,$:[]}:null}}function W(e){var t=te,n=t.e;if(n!==null){t.e=null;for(var r of n)fs(r)}return e!==void 0&&(t.x=e),te=t.p,e??{}}function Jt(){return!kn||te!==null&&te.l===null}const zo=new WeakMap;function Ko(e){var t=$;if(t===null)return q.f|=qt,e;if((t.f&sa)===0){if((t.f&Wa)===0)throw!t.parent&&e instanceof Error&&Za(e),e;t.b.error(e)}else ua(e,t)}function ua(e,t){for(;t!==null;){if((t.f&Wa)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e instanceof Error&&Za(e),e}function Za(e){const t=zo.get(e);t&&(Fr(e,"message",{value:t.message}),Fr(e,"stack",{value:t.stack}))}let qn=[],zr=[];function Xa(){var e=qn;qn=[],dr(e)}function Vo(){var e=zr;zr=[],dr(e)}function yr(e){qn.length===0&&queueMicrotask(Xa),qn.push(e)}function Wo(){qn.length>0&&Xa(),zr.length>0&&Vo()}function Yo(){for(var e=$.b;e!==null&&!e.has_pending_snippet();)e=e.parent;return e===null&&wo(),e}function Jn(e){var t=Oe|ze,n=q!==null&&(q.f&Oe)!==0?q:null;return $===null||n!==null&&(n.f&He)!==0?t|=He:$.f|=oa,{ctx:te,deps:null,effects:null,equals:Ga,f:t,fn:e,reactions:null,rv:0,v:ae,wv:0,parent:n??$,ac:null}}function Go(e,t){let n=$;n===null&&bo();var r=n.b,s=void 0,a=Wt(ae),o=null,c=!q;return ii(()=>{try{var l=e()}catch(v){l=Promise.reject(v)}var u=()=>l;s=o?.then(u,u)??Promise.resolve(l),o=s;var f=K,h=r.pending;c&&(r.update_pending_count(1),h||f.increment());const d=(v,p=void 0)=>{o=null,h||f.activate(),p?p!==ca&&(a.f|=qt,Et(a,p)):((a.f&qt)!==0&&(a.f^=qt),Et(a,v)),c&&(r.update_pending_count(-1),h||f.decrement()),ts()};if(s.then(d,v=>d(null,v||"unknown")),f)return()=>{queueMicrotask(()=>f.neuter())}}),new Promise(l=>{function u(f){function h(){f===s?l(a):u(s)}f.then(h,h)}u(s)})}function D(e){const t=Jn(e);return gs(t),t}function br(e){const t=Jn(e);return t.equals=Ja,t}function Qa(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)ut(t[n])}}function Jo(e){for(var t=e.parent;t!==null;){if((t.f&Oe)===0)return t;t=t.parent}return null}function fa(e){var t,n=$;ft(Jo(e));try{Qa(e),t=bs(e)}finally{ft(n)}return t}function es(e){var t=fa(e);if(e.equals(t)||(e.v=t,e.wv=ws()),!Xt)if(wn!==null)wn.set(e,e.v);else{var n=(St||(e.f&He)!==0)&&e.deps!==null?At:pe;Ne(e,n)}}function Zo(e,t,n){const r=Jt()?Jn:br;if(t.length===0){n(e.map(r));return}var s=K,a=$,o=Xo(),c=Yo();Promise.all(t.map(l=>Go(l))).then(l=>{s?.activate(),o();try{n([...e.map(r),...l])}catch(u){(a.f&Gt)===0&&ua(u,a)}s?.deactivate(),ts()}).catch(l=>{c.error(l)})}function Xo(){var e=$,t=q,n=te;return function(){ft(e),Ke(t),mn(n)}}function ts(){ft(null),Ke(null),mn(null)}const In=new Set;let K=null,cr=null,wn=null,Aa=new Set,hr=[];function ns(){const e=hr.shift();hr.length>0&&queueMicrotask(ns),e()}let Kt=[],Sr=null,Kr=!1,ur=!1;var hn,pn,yt,zn,Kn,Rt,_n,Bt,bt,gn,Vn,Wn,Xe,rs,fr,Vr;const _r=class _r{constructor(){xe(this,Xe);Dn(this,"current",new Map);xe(this,hn,new Map);xe(this,pn,new Set);xe(this,yt,0);xe(this,zn,null);xe(this,Kn,!1);xe(this,Rt,[]);xe(this,_n,[]);xe(this,Bt,[]);xe(this,bt,[]);xe(this,gn,[]);xe(this,Vn,[]);xe(this,Wn,[]);Dn(this,"skipped_effects",new Set)}process(t){Kt=[],cr=null;var n=null;if(In.size>1){n=new Map,wn=new Map;for(const[a,o]of this.current)n.set(a,{v:a.v,wv:a.wv}),a.v=o;for(const a of In)if(a!==this)for(const[o,c]of H(a,hn))n.has(o)||(n.set(o,{v:o.v,wv:o.wv}),o.v=c)}for(const a of t)It(this,Xe,rs).call(this,a);if(H(this,Rt).length===0&&H(this,yt)===0){It(this,Xe,Vr).call(this);var r=H(this,Bt),s=H(this,bt);$e(this,Bt,[]),$e(this,bt,[]),$e(this,gn,[]),cr=K,K=null,La(r),La(s),K===null?K=this:In.delete(this),H(this,zn)?.resolve()}else It(this,Xe,fr).call(this,H(this,Bt)),It(this,Xe,fr).call(this,H(this,bt)),It(this,Xe,fr).call(this,H(this,gn));if(n){for(const[a,{v:o,wv:c}]of n)a.wv<=c&&(a.v=o);wn=null}for(const a of H(this,Rt))Bn(a);for(const a of H(this,_n))Bn(a);$e(this,Rt,[]),$e(this,_n,[])}capture(t,n){H(this,hn).has(t)||H(this,hn).set(t,n),this.current.set(t,t.v)}activate(){K=this}deactivate(){K=null,cr=null;for(const t of Aa)if(Aa.delete(t),t(),K!==null)break}neuter(){$e(this,Kn,!0)}flush(){Kt.length>0?ss():It(this,Xe,Vr).call(this),K===this&&(H(this,yt)===0&&In.delete(this),this.deactivate())}increment(){$e(this,yt,H(this,yt)+1)}decrement(){if($e(this,yt,H(this,yt)-1),H(this,yt)===0){for(const t of H(this,Vn))Ne(t,ze),Vt(t);for(const t of H(this,Wn))Ne(t,At),Vt(t);$e(this,Bt,[]),$e(this,bt,[]),this.flush()}else this.deactivate()}add_callback(t){H(this,pn).add(t)}settled(){return(H(this,zn)??$e(this,zn,ho())).promise}static ensure(){if(K===null){const t=K=new _r;In.add(K),ur||_r.enqueue(()=>{K===t&&t.flush()})}return K}static enqueue(t){hr.length===0&&queueMicrotask(ns),hr.unshift(t)}};hn=new WeakMap,pn=new WeakMap,yt=new WeakMap,zn=new WeakMap,Kn=new WeakMap,Rt=new WeakMap,_n=new WeakMap,Bt=new WeakMap,bt=new WeakMap,gn=new WeakMap,Vn=new WeakMap,Wn=new WeakMap,Xe=new WeakSet,rs=function(t){t.f^=pe;for(var n=t.first;n!==null;){var r=n.f,s=(r&(pt|Yt))!==0,a=s&&(r&pe)!==0,o=a||(r&Ze)!==0||this.skipped_effects.has(n);if(!o&&n.fn!==null){if(s)n.f^=pe;else if((r&pe)===0)if((r&aa)!==0)H(this,bt).push(n);else if((r&la)!==0){var c=n.b?.pending?H(this,_n):H(this,Rt);c.push(n)}else Er(n)&&((n.f&Yn)!==0&&H(this,gn).push(n),Bn(n));var l=n.first;if(l!==null){n=l;continue}}var u=n.parent;for(n=n.next;n===null&&u!==null;)n=u.next,u=u.parent}},fr=function(t){for(const n of t)((n.f&ze)!==0?H(this,Vn):H(this,Wn)).push(n),Ne(n,pe);t.length=0},Vr=function(){if(!H(this,Kn))for(const t of H(this,pn))t();H(this,pn).clear()};let Un=_r;function as(e){var t=ur;ur=!0;try{for(var n;;){if(Wo(),Kt.length===0&&(K?.flush(),Kt.length===0))return Sr=null,n;ss()}}finally{ur=t}}function ss(){var e=vn;Kr=!0;try{var t=0;for(Da(!0);Kt.length>0;){var n=Un.ensure();if(t++>1e3){var r,s;Qo()}n.process(Kt),$t.clear()}}finally{Kr=!1,Da(e),Sr=null}}function Qo(){try{Po()}catch(e){ua(e,Sr)}}function La(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if((r.f&(Gt|Ze))===0&&Er(r)){var s=K?K.current.size:0;if(Bn(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?hs(r):r.fn=null),K!==null&&K.current.size>s&&(r.f&ia)!==0)break}}for(;n<t;)Vt(e[n++])}}function Vt(e){for(var t=Sr=e;t.parent!==null;){t=t.parent;var n=t.f;if(Kr&&t===$&&(n&Yn)!==0)return;if((n&(Yt|pt))!==0){if((n&pe)===0)return;t.f^=pe}}Kt.push(t)}const $t=new Map;function Wt(e,t){var n={f:0,v:e,reactions:null,equals:Ga,rv:0,wv:0};return n}function O(e,t){const n=Wt(e);return gs(n),n}function Wr(e,t=!1,n=!0){var s;const r=Wt(e);return t||(r.equals=Ja),kn&&n&&te!==null&&te.l!==null&&((s=te.l).s??(s.s=[])).push(r),r}function k(e,t,n=!1){q!==null&&(!ot||(q.f&Na)!==0)&&Jt()&&(q.f&(Oe|Yn|la|Na))!==0&&!ht?.includes(e)&&Ao();let r=n?ue(t):t;return Et(e,r)}function Et(e,t){if(!e.equals(t)){var n=e.v;Xt?$t.set(e,t):$t.set(e,n),e.v=t;var r=Un.ensure();r.capture(e,n),(e.f&Oe)!==0&&((e.f&ze)!==0&&fa(e),Ne(e,(e.f&He)===0?pe:At)),e.wv=ws(),os(e,ze),Jt()&&$!==null&&($.f&pe)!==0&&($.f&(pt|Yt))===0&&(Fe===null?ui([e]):Fe.push(e))}return t}function Ir(e){k(e,e.v+1)}function os(e,t){var n=e.reactions;if(n!==null)for(var r=Jt(),s=n.length,a=0;a<s;a++){var o=n[a],c=o.f;if(!(!r&&o===$)){var l=(c&ze)===0;l&&Ne(o,t),(c&Oe)!==0?os(o,At):l&&Vt(o)}}}function ue(e){if(typeof e!="object"||e===null||Ut in e)return e;const t=ra(e);if(t!==co&&t!==uo)return e;var n=new Map,r=ta(e),s=O(0),a=Ft,o=c=>{if(Ft===a)return c();var l=q,u=Ft;Ke(null),Oa(a);var f=c();return Ke(l),Oa(u),f};return r&&n.set("length",O(e.length)),new Proxy(e,{defineProperty(c,l,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&xo();var f=n.get(l);return f===void 0?f=o(()=>{var h=O(u.value);return n.set(l,h),h}):k(f,u.value,!0),!0},deleteProperty(c,l){var u=n.get(l);if(u===void 0){if(l in c){const f=o(()=>O(ae));n.set(l,f),Ir(s)}}else k(u,ae),Ir(s);return!0},get(c,l,u){if(l===Ut)return e;var f=n.get(l),h=l in c;if(f===void 0&&(!h||fn(c,l)?.writable)&&(f=o(()=>{var v=ue(h?c[l]:ae),p=O(v);return p}),n.set(l,f)),f!==void 0){var d=i(f);return d===ae?void 0:d}return Reflect.get(c,l,u)},getOwnPropertyDescriptor(c,l){var u=Reflect.getOwnPropertyDescriptor(c,l);if(u&&"value"in u){var f=n.get(l);f&&(u.value=i(f))}else if(u===void 0){var h=n.get(l),d=h?.v;if(h!==void 0&&d!==ae)return{enumerable:!0,configurable:!0,value:d,writable:!0}}return u},has(c,l){if(l===Ut)return!0;var u=n.get(l),f=u!==void 0&&u.v!==ae||Reflect.has(c,l);if(u!==void 0||$!==null&&(!f||fn(c,l)?.writable)){u===void 0&&(u=o(()=>{var d=f?ue(c[l]):ae,v=O(d);return v}),n.set(l,u));var h=i(u);if(h===ae)return!1}return f},set(c,l,u,f){var h=n.get(l),d=l in c;if(r&&l==="length")for(var v=u;v<h.v;v+=1){var p=n.get(v+"");p!==void 0?k(p,ae):v in c&&(p=o(()=>O(ae)),n.set(v+"",p))}if(h===void 0)(!d||fn(c,l)?.writable)&&(h=o(()=>O(void 0)),k(h,ue(u)),n.set(l,h));else{d=h.v!==ae;var g=o(()=>ue(u));k(h,g)}var m=Reflect.getOwnPropertyDescriptor(c,l);if(m?.set&&m.set.call(f,u),!d){if(r&&typeof l=="string"){var w=n.get("length"),b=Number(l);Number.isInteger(b)&&b>=w.v&&k(w,b+1)}Ir(s)}return!0},ownKeys(c){i(s);var l=Reflect.ownKeys(c).filter(h=>{var d=n.get(h);return d===void 0||d.v!==ae});for(var[u,f]of n)f.v!==ae&&!(u in c)&&l.push(u);return l},setPrototypeOf(){No()}})}var Ta,is,ls,cs;function ei(){if(Ta===void 0){Ta=window,is=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;ls=fn(t,"firstChild").get,cs=fn(t,"nextSibling").get,xa(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),xa(n)&&(n.__t=void 0)}}function Zt(e=""){return document.createTextNode(e)}function yn(e){return ls.call(e)}function kr(e){return cs.call(e)}function S(e,t){return yn(e)}function P(e,t){{var n=yn(e);return n instanceof Comment&&n.data===""?kr(n):n}}function A(e,t=1,n=!1){let r=e;for(;t--;)r=kr(r);return r}function ti(e){e.textContent=""}function da(){return!1}function us(e){$===null&&q===null&&Eo(),q!==null&&(q.f&He)!==0&&$===null&&ko(),Xt&&So()}function ni(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function dt(e,t,n,r=!0){var s=$;s!==null&&(s.f&Ze)!==0&&(e|=Ze);var a={ctx:te,deps:null,nodes_start:null,nodes_end:null,f:e|ze,first:null,fn:t,last:null,next:null,parent:s,b:s&&s.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{Bn(a),a.f|=sa}catch(l){throw ut(a),l}else t!==null&&Vt(a);var o=n&&a.deps===null&&a.first===null&&a.nodes_start===null&&a.teardown===null&&(a.f&oa)===0;if(!o&&r&&(s!==null&&ni(a,s),q!==null&&(q.f&Oe)!==0&&(e&Yt)===0)){var c=q;(c.effects??(c.effects=[])).push(a)}return a}function ri(e){const t=dt(gr,null,!1);return Ne(t,pe),t.teardown=e,t}function it(e){us();var t=$.f,n=!q&&(t&pt)!==0&&(t&sa)===0;if(n){var r=te;(r.e??(r.e=[])).push(e)}else return fs(e)}function fs(e){return dt(aa|ia,e,!1)}function ai(e){return us(),dt(gr|ia,e,!0)}function si(e){Un.ensure();const t=dt(Yt,e,!0);return(n={})=>new Promise(r=>{n.outro?jt(t,()=>{ut(t),r(void 0)}):(ut(t),r(void 0))})}function oi(e){return dt(aa,e,!1)}function ii(e){return dt(la|oa,e,!0)}function va(e,t=0){return dt(gr|t,e,!0)}function se(e,t=[],n=[]){Zo(t,n,r=>{dt(gr,()=>e(...r.map(i)),!0)})}function Zn(e,t=0){var n=dt(Yn|t,e,!0);return n}function lt(e,t=!0){return dt(pt,e,!0,t)}function ds(e){var t=e.teardown;if(t!==null){const n=Xt,r=q;Ia(!0),Ke(null);try{t.call(null)}finally{Ia(n),Ke(r)}}}function vs(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){n.ac?.abort(ca);var r=n.next;(n.f&Yt)!==0?n.parent=null:ut(n,t),n=r}}function li(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&pt)===0&&ut(t),t=n}}function ut(e,t=!0){var n=!1;(t||(e.f&_o)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(ci(e.nodes_start,e.nodes_end),n=!0),vs(e,t&&!n),pr(e,0),Ne(e,Gt);var r=e.transitions;if(r!==null)for(const a of r)a.stop();ds(e);var s=e.parent;s!==null&&s.first!==null&&hs(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function ci(e,t){for(;e!==null;){var n=e===t?null:kr(e);e.remove(),e=n}}function hs(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function jt(e,t){var n=[];ha(e,n,!0),ps(n,()=>{ut(e),t&&t()})}function ps(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var s of e)s.out(r)}else t()}function ha(e,t,n){if((e.f&Ze)===0){if(e.f^=Ze,e.transitions!==null)for(const o of e.transitions)(o.is_global||n)&&t.push(o);for(var r=e.first;r!==null;){var s=r.next,a=(r.f&Gn)!==0||(r.f&pt)!==0;ha(r,t,a?n:!1),r=s}}}function dn(e){_s(e,!0)}function _s(e,t){if((e.f&Ze)!==0){e.f^=Ze,(e.f&pe)===0&&(Ne(e,ze),Vt(e));for(var n=e.first;n!==null;){var r=n.next,s=(n.f&Gn)!==0||(n.f&pt)!==0;_s(n,s?t:!1),n=r}if(e.transitions!==null)for(const a of e.transitions)(a.is_global||t)&&a.in()}}let vn=!1;function Da(e){vn=e}let Xt=!1;function Ia(e){Xt=e}let q=null,ot=!1;function Ke(e){q=e}let $=null;function ft(e){$=e}let ht=null;function gs(e){q!==null&&(ht===null?ht=[e]:ht.push(e))}let me=null,Ie=0,Fe=null;function ui(e){Fe=e}let ms=1,$n=0,Ft=$n;function Oa(e){Ft=e}let St=!1;function ws(){return++ms}function Er(e){var t=e.f;if((t&ze)!==0)return!0;if((t&At)!==0){var n=e.deps,r=(t&He)!==0;if(n!==null){var s,a,o=(t&vr)!==0,c=r&&$!==null&&!St,l=n.length;if((o||c)&&($===null||($.f&Gt)===0)){var u=e,f=u.parent;for(s=0;s<l;s++)a=n[s],(o||!a?.reactions?.includes(u))&&(a.reactions??(a.reactions=[])).push(u);o&&(u.f^=vr),c&&f!==null&&(f.f&He)===0&&(u.f^=He)}for(s=0;s<l;s++)if(a=n[s],Er(a)&&es(a),a.wv>e.wv)return!0}(!r||$!==null&&!St)&&Ne(e,pe)}return!1}function ys(e,t,n=!0){var r=e.reactions;if(r!==null&&!ht?.includes(e))for(var s=0;s<r.length;s++){var a=r[s];(a.f&Oe)!==0?ys(a,t,!1):t===a&&(n?Ne(a,ze):(a.f&pe)!==0&&Ne(a,At),Vt(a))}}function bs(e){var p;var t=me,n=Ie,r=Fe,s=q,a=St,o=ht,c=te,l=ot,u=Ft,f=e.f;me=null,Ie=0,Fe=null,St=(f&He)!==0&&(ot||!vn||q===null),q=(f&(pt|Yt))===0?e:null,ht=null,mn(e.ctx),ot=!1,Ft=++$n,e.ac!==null&&(e.ac.abort(ca),e.ac=null);try{e.f|=Hr;var h=(0,e.fn)(),d=e.deps;if(me!==null){var v;if(pr(e,Ie),d!==null&&Ie>0)for(d.length=Ie+me.length,v=0;v<me.length;v++)d[Ie+v]=me[v];else e.deps=d=me;if(!St||(f&Oe)!==0&&e.reactions!==null)for(v=Ie;v<d.length;v++)((p=d[v]).reactions??(p.reactions=[])).push(e)}else d!==null&&Ie<d.length&&(pr(e,Ie),d.length=Ie);if(Jt()&&Fe!==null&&!ot&&d!==null&&(e.f&(Oe|At|ze))===0)for(v=0;v<Fe.length;v++)ys(Fe[v],e);return s!==null&&s!==e&&($n++,Fe!==null&&(r===null?r=Fe:r.push(...Fe))),(e.f&qt)!==0&&(e.f^=qt),h}catch(g){return Ko(g)}finally{e.f^=Hr,me=t,Ie=n,Fe=r,q=s,St=a,ht=o,mn(c),ot=l,Ft=u}}function fi(e,t){let n=t.reactions;if(n!==null){var r=lo.call(n,e);if(r!==-1){var s=n.length-1;s===0?n=t.reactions=null:(n[r]=n[s],n.pop())}}n===null&&(t.f&Oe)!==0&&(me===null||!me.includes(t))&&(Ne(t,At),(t.f&(He|vr))===0&&(t.f^=vr),Qa(t),pr(t,0))}function pr(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)fi(e,n[r])}function Bn(e){var t=e.f;if((t&Gt)===0){Ne(e,pe);var n=$,r=vn;$=e,vn=!0;try{(t&Yn)!==0?li(e):vs(e),ds(e);var s=bs(e);e.teardown=typeof s=="function"?s:null,e.wv=ms;var a;Ka&&Fo&&(e.f&ze)!==0&&e.deps}finally{vn=r,$=n}}}async function di(){await Promise.resolve(),as()}function i(e){var t=e.f,n=(t&Oe)!==0;if(q!==null&&!ot){var r=$!==null&&($.f&Gt)!==0;if(!r&&!ht?.includes(e)){var s=q.deps;if((q.f&Hr)!==0)e.rv<$n&&(e.rv=$n,me===null&&s!==null&&s[Ie]===e?Ie++:me===null?me=[e]:(!St||!me.includes(e))&&me.push(e));else{(q.deps??(q.deps=[])).push(e);var a=e.reactions;a===null?e.reactions=[q]:a.includes(q)||a.push(q)}}}else if(n&&e.deps===null&&e.effects===null){var o=e,c=o.parent;c!==null&&(c.f&He)===0&&(o.f^=He)}if(Xt){if($t.has(e))return $t.get(e);if(n){o=e;var l=o.v;return((o.f&pe)===0&&o.reactions!==null||Ss(o))&&(l=fa(o)),$t.set(o,l),l}}else if(n){if(o=e,wn?.has(o))return wn.get(o);Er(o)&&es(o)}if((e.f&qt)!==0)throw e.v;return e.v}function Ss(e){if(e.v===ae)return!0;if(e.deps===null)return!1;for(const t of e.deps)if($t.has(t)||(t.f&Oe)!==0&&Ss(t))return!0;return!1}function Xn(e){var t=ot;try{return ot=!0,e()}finally{ot=t}}const vi=-7169;function Ne(e,t){e.f=e.f&vi|t}function hi(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Ut in e)Yr(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&Ut in n&&Yr(n)}}}function Yr(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{Yr(e[r],t)}catch{}const n=ra(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=Va(n);for(let s in r){const a=r[s].get;if(a)try{a.call(e)}catch{}}}}}const pi=["touchstart","touchmove"];function _i(e){return pi.includes(e)}let Ma=!1;function gi(){Ma||(Ma=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function ks(e){var t=q,n=$;Ke(null),ft(null);try{return e()}finally{Ke(t),ft(n)}}function mi(e,t,n,r=n){e.addEventListener(t,()=>ks(n));const s=e.__on_r;s?e.__on_r=()=>{s(),r(!0)}:e.__on_r=()=>r(!0),gi()}const Es=new Set,Gr=new Set;function wi(e,t,n,r={}){function s(a){if(r.capture||Mn.call(t,a),!a.cancelBubble)return ks(()=>n?.call(this,a))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?yr(()=>{t.addEventListener(e,s,r)}):t.addEventListener(e,s,r),s}function yi(e,t,n,r,s){var a={capture:r,passive:s},o=wi(e,t,n,a);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&ri(()=>{t.removeEventListener(e,o,a)})}function tt(e){for(var t=0;t<e.length;t++)Es.add(e[t]);for(var n of Gr)n(e)}function Mn(e){var t=this,n=t.ownerDocument,r=e.type,s=e.composedPath?.()||[],a=s[0]||e.target,o=0,c=e.__root;if(c){var l=s.indexOf(c);if(l!==-1&&(t===document||t===window)){e.__root=t;return}var u=s.indexOf(t);if(u===-1)return;l<=u&&(o=l)}if(a=s[o]||e.target,a!==t){Fr(e,"currentTarget",{configurable:!0,get(){return a||n}});var f=q,h=$;Ke(null),ft(null);try{for(var d,v=[];a!==null;){var p=a.assignedSlot||a.parentNode||a.host||null;try{var g=a["__"+r];if(g!=null&&(!a.disabled||e.target===a))if(ta(g)){var[m,...w]=g;m.apply(a,[e,...w])}else g.call(a,e)}catch(b){d?v.push(b):d=b}if(e.cancelBubble||p===t||p===null)break;a=p}if(d){for(let b of v)queueMicrotask(()=>{throw b});throw d}}finally{e.__root=t,delete e.currentTarget,Ke(f),ft(h)}}}function Ps(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function jn(e,t){var n=$;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function R(e,t){var n=(t&Bo)!==0,r=(t&qo)!==0,s,a=!e.startsWith("<!>");return()=>{s===void 0&&(s=Ps(a?e:"<!>"+e),n||(s=yn(s)));var o=r||is?document.importNode(s,!0):s.cloneNode(!0);if(n){var c=yn(o),l=o.lastChild;jn(c,l)}else jn(o,o);return o}}function bi(e,t,n="svg"){var r=!e.startsWith("<!>"),s=`<${n}>${r?e:"<!>"+e}</${n}>`,a;return()=>{if(!a){var o=Ps(s),c=yn(o);a=yn(c)}var l=a.cloneNode(!0);return jn(l,l),l}}function Si(e,t){return bi(e,t,"svg")}function Qe(e=""){{var t=Zt(e+"");return jn(t,t),t}}function T(){var e=document.createDocumentFragment(),t=document.createComment(""),n=Zt();return e.append(t,n),jn(t,n),e}function _(e,t){e!==null&&e.before(t)}function au(){var e;return(e=window.__svelte??(window.__svelte={})).uid??(e.uid=1),`c${window.__svelte.uid++}`}function Pr(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function ki(e,t){return Ei(e,t)}const ln=new Map;function Ei(e,{target:t,anchor:n,props:r={},events:s,context:a,intro:o=!0}){ei();var c=new Set,l=h=>{for(var d=0;d<h.length;d++){var v=h[d];if(!c.has(v)){c.add(v);var p=_i(v);t.addEventListener(v,Mn,{passive:p});var g=ln.get(v);g===void 0?(document.addEventListener(v,Mn,{passive:p}),ln.set(v,1)):ln.set(v,g+1)}}};l(na(Es)),Gr.add(l);var u=void 0,f=si(()=>{var h=n??t.appendChild(Zt());return lt(()=>{if(a){V({});var d=te;d.c=a}s&&(r.$$events=s),u=e(h,r)||{},a&&W()}),()=>{for(var d of c){t.removeEventListener(d,Mn);var v=ln.get(d);--v===0?(document.removeEventListener(d,Mn),ln.delete(d)):ln.set(d,v)}Gr.delete(l),h!==n&&h.parentNode?.removeChild(h)}});return Pi.set(u,f),u}let Pi=new WeakMap;const Or=0,sr=1,Mr=2;function Ye(e,t,n,r,s){var a=e,o=Jt(),c=te,l=ae,u,f,h,d=o?Wt(void 0):Wr(void 0,!1,!1),v=o?Wt(void 0):Wr(void 0,!1,!1),p=!1;function g(w,b){p=!0,b&&(ft(m),Ke(m),mn(c));try{w===Or&&n&&(u?dn(u):u=lt(()=>n(a))),w===sr&&r&&(f?dn(f):f=lt(()=>r(a,d))),w===Mr&&s&&(h?dn(h):h=lt(()=>s(a,v))),w!==Or&&u&&jt(u,()=>u=null),w!==sr&&f&&jt(f,()=>f=null),w!==Mr&&h&&jt(h,()=>h=null)}finally{b&&(mn(null),Ke(null),ft(null),as())}}var m=Zn(()=>{if(l!==(l=t())){if(fo(l)){var w=l;p=!1,w.then(b=>{w===l&&(Et(d,b),g(sr,!0))},b=>{if(w===l&&(Et(v,b),g(Mr,!0),!s))throw v.v}),yr(()=>{p||g(Or,!0)})}else Et(d,l),g(sr,!1);return()=>l=ae}})}function U(e,t,n=!1){var r=e,s=null,a=null,o=ae,c=n?Gn:0,l=!1;const u=(v,p=!0)=>{l=!0,d(p,v)};var f=null;function h(){f!==null&&(f.lastChild.remove(),r.before(f),f=null);var v=o?s:a,p=o?a:s;v&&dn(v),p&&jt(p,()=>{o?a=null:s=null})}const d=(v,p)=>{if(o!==(o=v)){var g=da(),m=r;if(g&&(f=document.createDocumentFragment(),f.append(m=Zt())),o?s??(s=p&&lt(()=>p(m))):a??(a=p&&lt(()=>p(m))),g){var w=K,b=o?s:a,y=o?a:s;b&&w.skipped_effects.delete(b),y&&w.skipped_effects.add(y),w.add_callback(h)}else h()}};Zn(()=>{l=!1,t(u),l||d(null,null)},c)}function fe(e,t){va(()=>{var n=t();for(var r in n){var s=n[r];s?e.style.setProperty(r,s):e.style.removeProperty(r)}})}function Ci(e,t){return t}function xi(e,t,n){for(var r=e.items,s=[],a=t.length,o=0;o<a;o++)ha(t[o].e,s,!0);var c=a>0&&s.length===0&&n!==null;if(c){var l=n.parentNode;ti(l),l.append(n),r.clear(),st(e,t[0].prev,t[a-1].next)}ps(s,()=>{for(var u=0;u<a;u++){var f=t[u];c||(r.delete(f.k),st(e,f.prev,f.next)),ut(f.e,!c)}})}function un(e,t,n,r,s,a=null){var o=e,c={flags:t,items:new Map,first:null},l=(t&Ya)!==0;if(l){var u=e;o=u.appendChild(Zt())}var f=null,h=!1,d=new Map,v=br(()=>{var w=n();return ta(w)?w:w==null?[]:na(w)}),p,g;function m(){Ni(g,p,c,d,o,s,t,r,n),a!==null&&(p.length===0?f?dn(f):f=lt(()=>a(o)):f!==null&&jt(f,()=>{f=null}))}Zn(()=>{g??(g=$),p=i(v);var w=p.length;if(!(h&&w===0)){h=w===0;var b,y,L,x;if(da()){var E=new Set,I=K;for(y=0;y<w;y+=1){L=p[y],x=r(L,y);var F=c.items.get(x)??d.get(x);F?(t&(mr|wr))!==0&&Cs(F,L,y,t):(b=xs(null,c,null,null,L,x,y,s,t,n,!0),d.set(x,b)),E.add(x)}for(const[Re,ne]of c.items)E.has(Re)||I.skipped_effects.add(ne.e);I.add_callback(m)}else m();i(v)}})}function Ni(e,t,n,r,s,a,o,c,l){var u=(o&Lo)!==0,f=(o&(mr|wr))!==0,h=t.length,d=n.items,v=n.first,p=v,g,m=null,w,b=[],y=[],L,x,E,I;if(u)for(I=0;I<h;I+=1)L=t[I],x=c(L,I),E=d.get(x),E!==void 0&&(E.a?.measure(),(w??(w=new Set)).add(E));for(I=0;I<h;I+=1){if(L=t[I],x=c(L,I),E=d.get(x),E===void 0){var F=r.get(x);if(F!==void 0){r.delete(x),d.set(x,F);var Re=m?m.next:p;st(n,m,F),st(n,F,Re),Rr(F,Re,s),m=F}else{var ne=p?p.e.nodes_start:s;m=xs(ne,n,m,m===null?n.first:m.next,L,x,I,a,o,l)}d.set(x,m),b=[],y=[],p=m.next;continue}if(f&&Cs(E,L,I,o),(E.e.f&Ze)!==0&&(dn(E.e),u&&(E.a?.unfix(),(w??(w=new Set)).delete(E))),E!==p){if(g!==void 0&&g.has(E)){if(b.length<y.length){var z=y[0],B;m=z.prev;var de=b[0],ve=b[b.length-1];for(B=0;B<b.length;B+=1)Rr(b[B],z,s);for(B=0;B<y.length;B+=1)g.delete(y[B]);st(n,de.prev,ve.next),st(n,m,de),st(n,ve,z),p=z,m=ve,I-=1,b=[],y=[]}else g.delete(E),Rr(E,p,s),st(n,E.prev,E.next),st(n,E,m===null?n.first:m.next),st(n,m,E),m=E;continue}for(b=[],y=[];p!==null&&p.k!==x;)(p.e.f&Ze)===0&&(g??(g=new Set)).add(p),y.push(p),p=p.next;if(p===null)continue;E=p}b.push(E),m=E,p=E.next}if(p!==null||g!==void 0){for(var X=g===void 0?[]:na(g);p!==null;)(p.e.f&Ze)===0&&X.push(p),p=p.next;var re=X.length;if(re>0){var Ae=(o&Ya)!==0&&h===0?s:null;if(u){for(I=0;I<re;I+=1)X[I].a?.measure();for(I=0;I<re;I+=1)X[I].a?.fix()}xi(n,X,Ae)}}u&&yr(()=>{if(w!==void 0)for(E of w)E.a?.apply()}),e.first=n.first&&n.first.e,e.last=m&&m.e;for(var Le of r.values())ut(Le.e);r.clear()}function Cs(e,t,n,r){(r&mr)!==0&&Et(e.v,t),(r&wr)!==0?Et(e.i,n):e.i=n}function xs(e,t,n,r,s,a,o,c,l,u,f){var h=(l&mr)!==0,d=(l&To)===0,v=h?d?Wr(s,!1,!1):Wt(s):s,p=(l&wr)===0?o:Wt(o),g={i:p,v,k:a,a:null,e:null,prev:n,next:r};try{if(e===null){var m=document.createDocumentFragment();m.append(e=Zt())}return g.e=lt(()=>c(e,v,p,u),$o),g.e.prev=n&&n.e,g.e.next=r&&r.e,n===null?f||(t.first=g):(n.next=g,n.e.next=g.e),r!==null&&(r.prev=g,r.e.prev=g.e),g}finally{}}function Rr(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,s=t?t.e.nodes_start:n,a=e.e.nodes_start;a!==null&&a!==r;){var o=kr(a);s.before(a),a=o}}function st(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function Pt(e,t,...n){var r=e,s=zt,a;Zn(()=>{s!==(s=t())&&(a&&(ut(a),a=null),a=lt(()=>s(r,...n)))},Gn)}function Ge(e,t,n){var r=e,s,a,o=null,c=null;function l(){a&&(jt(a),a=null),o&&(o.lastChild.remove(),r.before(o),o=null),a=c,c=null}Zn(()=>{if(s!==(s=t())){var u=da();if(s){var f=r;u&&(o=document.createDocumentFragment(),o.append(f=Zt())),c=lt(()=>n(f,s))}u?K.add_callback(l):l()}},Gn)}function Ns(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=Ns(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Ai(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=Ns(e))&&(r&&(r+=" "),r+=t);return r}function Y(e){return typeof e=="object"?Ai(e):e??""}const Ra=[...` 	
\r\f \v\uFEFF`];function Li(e,t,n){var r=e==null?"":""+e;if(t&&(r=r?r+" "+t:t),n){for(var s in n)if(n[s])r=r?r+" "+s:s;else if(r.length)for(var a=s.length,o=0;(o=r.indexOf(s,o))>=0;){var c=o+a;(o===0||Ra.includes(r[o-1]))&&(c===r.length||Ra.includes(r[c]))?r=(o===0?"":r.substring(0,o))+r.substring(c+1):o=c}}return r===""?null:r}function Ti(e,t){return e==null?null:String(e)}function G(e,t,n,r,s,a){var o=e.__className;if(o!==n||o===void 0){var c=Li(n,r,a);c==null?e.removeAttribute("class"):e.className=c,e.__className=n}else if(a&&s!==a)for(var l in a){var u=!!a[l];(s==null||u!==!!s[l])&&e.classList.toggle(l,u)}return a}function Fn(e,t,n,r){var s=e.__style;if(s!==t){var a=Ti(t);a==null?e.removeAttribute("style"):e.style.cssText=a,e.__style=t}return r}const Di=Symbol("is custom element"),Ii=Symbol("is html");function Br(e,t){var n=pa(e);n.value===(n.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function qr(e,t){var n=pa(e);n.checked!==(n.checked=t??void 0)&&(e.checked=t)}function we(e,t,n,r){var s=pa(e);s[t]!==(s[t]=n)&&(t==="loading"&&(e[mo]=n),n==null?e.removeAttribute(t):typeof n!="string"&&Oi(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function pa(e){return e.__attributes??(e.__attributes={[Di]:e.nodeName.includes("-"),[Ii]:e.namespaceURI===Uo})}var Ba=new Map;function Oi(e){var t=Ba.get(e.nodeName);if(t)return t;Ba.set(e.nodeName,t=[]);for(var n,r=e,s=Element.prototype;s!==r;){n=Va(r);for(var a in n)n[a].set&&t.push(a);r=ra(r)}return t}function Mi(e,t,n=t){var r=Jt(),s=new WeakSet;mi(e,"input",a=>{var o=a?e.defaultValue:e.value;if(o=Ur(e)?$r(o):o,n(o),K!==null&&s.add(K),r&&o!==(o=t())){var c=e.selectionStart,l=e.selectionEnd;e.value=o??"",l!==null&&(e.selectionStart=c,e.selectionEnd=Math.min(l,e.value.length))}}),Xn(t)==null&&e.value&&(n(Ur(e)?$r(e.value):e.value),K!==null&&s.add(K)),va(()=>{var a=t();if(e===document.activeElement){var o=cr??K;if(s.has(o))return}Ur(e)&&a===$r(e.value)||e.type==="date"&&!a&&!e.value||a!==e.value&&(e.value=a??"")})}function Ur(e){var t=e.type;return t==="number"||t==="range"}function $r(e){return e===""?null:+e}function qa(e,t){return e===t||e?.[Ut]===t}function Ct(e={},t,n,r){return oi(()=>{var s,a;return va(()=>{s=a,a=[],Xn(()=>{e!==n(...a)&&(t(e,...a),s&&qa(n(...s),e)&&t(null,...s))})}),()=>{yr(()=>{a&&qa(n(...a),e)&&t(null,...a)})}}),e}function En(e=!1){const t=te,n=t.l.u;if(!n)return;let r=()=>hi(t.s);if(e){let s=0,a={};const o=Jn(()=>{let c=!1;const l=t.s;for(const u in l)l[u]!==a[u]&&(a[u]=l[u],c=!0);return c&&s++,s});r=()=>i(o)}n.b.length&&ai(()=>{Ua(t,r),dr(n.b)}),it(()=>{const s=Xn(()=>n.m.map(vo));return()=>{for(const a of s)typeof a=="function"&&a()}}),n.a.length&&it(()=>{Ua(t,r),dr(n.a)})}function Ua(e,t){if(e.l.s)for(const n of e.l.s)i(n);t()}let or=!1;function Ri(e){var t=or;try{return or=!1,[e(),or]}finally{or=t}}function ye(e,t,n,r){var s=!kn||(n&Io)!==0,a=(n&Mo)!==0,o=(n&Ro)!==0,c=r,l=!0,u=()=>(l&&(l=!1,c=o?Xn(r):r),c),f;if(a){var h=Ut in e||go in e;f=fn(e,t)?.set??(h&&t in e?y=>e[t]=y:void 0)}var d,v=!1;a?[d,v]=Ri(()=>e[t]):d=e[t],d===void 0&&r!==void 0&&(d=u(),f&&(s&&Co(),f(d)));var p;if(s?p=()=>{var y=e[t];return y===void 0?u():(l=!0,y)}:p=()=>{var y=e[t];return y!==void 0&&(c=void 0),y===void 0?c:y},s&&(n&Oo)===0)return p;if(f){var g=e.$$legacy;return function(y,L){return arguments.length>0?((!s||!L||g||v)&&f(L?p():y),y):p()}}var m=!1,w=((n&Do)!==0?Jn:br)(()=>(m=!1,p()));a&&i(w);var b=$;return function(y,L){if(arguments.length>0){const x=L?i(w):s&&a?ue(y):y;return k(w,x),m=!0,c!==void 0&&(c=x),y}return Xt&&m||(b.f&Gt)!==0?w.v:i(w)}}function be(e){te===null&&yo(),kn&&te.l!==null?Bi(te).m.push(e):it(()=>{const t=Xn(e);if(typeof t=="function")return t})}function Bi(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const qi="5";var za;typeof window<"u"&&((za=window.__svelte??(window.__svelte={})).v??(za.v=new Set)).add(qi);let Mt=O(""),cn=O(null);function Ui(e){k(Mt,""),setTimeout(()=>{k(Mt,e,!0)},16)}var $i=R('<div class="notification svelte-1a2zucn"> </div>');function ji(e,t){V(t,!0),it(()=>{i(Mt),i(Mt)&&(i(cn)?.getBoundingClientRect(),i(cn)?.style.setProperty("opacity","1"));const a=setTimeout(()=>{i(cn)?.style.removeProperty("opacity")},800),o=setTimeout(()=>{k(Mt,""),i(cn)?.style.removeProperty("opacity")},1200);return()=>{clearTimeout(a),clearTimeout(o)}});var n=T(),r=P(n);{var s=a=>{var o=$i(),c=S(o);Ct(o,l=>k(cn,l),()=>i(cn)),se(()=>Pr(c,i(Mt))),_(a,o)};U(r,a=>{i(Mt)&&a(s)})}_(e,n),W()}Ho();var Fi=R('<span class="vh svelte-14jjkpd"><!></span>');function Hn(e,t){var n=Fi(),r=S(n);Pt(r,()=>t.children),_(e,n)}var Hi=Si('<svg class="svelte-gv09tg"><use></use></svg>');function le(e,t){let n=ye(t,"name",8,"");var r=Hi(),s=S(r);se(()=>we(s,"href",`#icon-${n()??""}`)),_(e,r)}const As=(e,t)=>{if(!t)return e;if(t.type==="closed")return{type:"closed"};switch(e.type){case"opened":return t.type==="close"?{type:"closing"}:t.type==="swipe"?{type:"openSwiping"}:e;case"closed":return t.type==="open"?{type:"opening"}:t.type==="swipe"?{type:"closeSwiping"}:e;case"openSwiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"closeSwiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"opening":return t.type==="opened"?{type:"opened"}:e;default:return e}};let Jr=O(ue(As({type:"closed"})));const Ls=e=>{k(Jr,As(i(Jr),e),!0)},zi=()=>i(Jr),Ki=()=>{Ls({type:"open"})},Vi=()=>{Ls({type:"close"})},Wi=()=>{const e=zi().type;e==="closed"?Ki():e==="opened"&&Vi()};var Yi=R('<button class="buttonMenu svelte-hxzs42"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>');function Ts(e,t){V(t,!1),En();var n=Yi();n.__click=[Wi];var r=S(n);fe(r,()=>({"--size":"28px"})),le(r.lastChild,{name:"sidebarMenu"});var s=A(r,2);Hn(s,{children:(a,o)=>{var c=Qe("Menu");_(a,c)}}),_(e,n),W()}tt(["click"]);const C=ue({historyStack:[],pathname:window.location.pathname,search:window.location.search,historyLength:0});let Ds=O(ue(new URLSearchParams(C.search).get("feedOrder")||"newest"));const Is=()=>i(Ds),Gi=e=>{k(Ds,e,!0);const t=new URLSearchParams(C.search);e==="newest"?t.delete("feedOrder"):t.set("feedOrder",e),xt(`${C.pathname}${t.size>0?`?${t.toString()}`:""}`)},Os=()=>new URLSearchParams(C.search).get("selectedTags")?.split(",")||[];let ir=Os();const Ji=()=>{const e=Os();return e.join(",")===ir.join(",")||(ir=e),ir},Zi=()=>{C.pathname=document.location.pathname,C.search=document.location.search,C.historyLength=Math.max(0,C.historyLength-=1)};window.addEventListener("popstate",Zi);const xt=e=>{const[t,n]=e.split("?");C.pathname=t,C.search=n?`?${n}`:"",C.historyLength+=1,C.historyStack.push(window.location.href),window.history.replaceState(null,"",e)},Xi=e=>{const[t,n]=e.split("?");C.pathname=t,C.search=n?`?${n}`:"",window.history.replaceState(null,"",e)},Qi=(e="/")=>{const[t,n]=e.split("?");if(C.historyLength<=0){const r=window.location.href,[s,a]=r.split("?");if(!a.includes("stackPages"))window.history.replaceState(null,"",e),C.historyLength=0,C.pathname=t,C.search=n?`?${n}`:"";else{const o=new URLSearchParams(a),l=(o.get("stackPages")?.split(",")||[]).slice(0,-1);l.length===0?o.delete("stackPages"):o.set("stackPages",l.join(","));const u=`${s}${o.toString()?`?${o.toString()}`:""}`;window.history.replaceState(null,"",u),C.search=o.toString()?`?${o.toString()}`:""}}else if(C.historyStack.length>0){const r=C.historyStack.pop();if(r){const[s,a]=r.split("?");window.history.replaceState(null,"",r),C.historyLength=Math.max(0,C.historyLength-=1),C.pathname=s,C.search=a?`?${a}`:""}}},Ms=()=>{const e=C.historyStack.findIndex(n=>n.includes("stackPages")),t=e===-1?C.historyStack.slice(0):C.historyStack.slice(0,e);if(t.length>0){const n=t.pop();if(n){const[r,s]=n.split("?");window.history.replaceState(null,"",n),C.historyLength=Math.max(0,t.length),C.pathname=r,C.search=s?`?${s}`:"",C.historyStack=t}}else window.history.replaceState(null,"","/"),C.historyLength=0,C.pathname="/",C.search="",C.historyStack=[]},et=()=>new URLSearchParams(C.search).get("stackPages")?.split(",")||[];let Ht=O(ue(et()));const Me=e=>{const t=et();if(!t.includes(e)){t.push(e);const n=new URLSearchParams(C.search);n.set("stackPages",t.join(",")),k(Ht,t,!0),xt(`${C.pathname}?${n.toString()}`)}},el=e=>et().includes(e),Rs=()=>{const e=i(Ht).slice(0,-1);k(Ht,e,!0)},tl=()=>{const e=et();return e.length>=i(Ht).length?e.reduce((t,n)=>[...t,{page:n,shown:!0}],[]):i(Ht).reduce((t,n,r)=>[...t,{page:n,shown:e.length===0?!1:r!==i(Ht).length-1}],[])},Zr=()=>{k(Ht,[],!0)},nl=e=>{e.preventDefault(),Me("settings")},rl=e=>{e.preventDefault(),Me("newNote")};var al=R('<div class="header svelte-ww662s"><div class="top svelte-ww662s"><div class="desktop svelte-ww662s"><a class="link svelte-ww662s"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Settings</span></a></div> <div class="mobile svelte-ww662s"><!></div> <a class="addNote svelte-ww662s"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Add</span></a></div></div>');function sl(e,t){V(t,!0);const n=()=>{const g=et();g.includes("settings")||g.push("settings");const m=new URLSearchParams(C.search);return m.set("stackPages",g.join(",")),`${C.pathname}?${m}`};let s=D(()=>{const g=et();g.includes("newNote")||g.push("newNote");const m=new URLSearchParams(C.search);return m.set("stackPages",g.join(",")),`${C.pathname}?${m}`}),a=D(n);var o=al(),c=S(o),l=S(c),u=S(l);u.__click=[nl];var f=S(u);fe(f,()=>({"--size":"20px"})),le(f.lastChild,{name:"settings"});var h=A(l,2),d=S(h);Ts(d,{});var v=A(h,2);v.__click=[rl];var p=S(v);fe(p,()=>({"--size":"24px","--color":"#b0b0b0"})),le(p.lastChild,{name:"plus"}),se(()=>{we(u,"href",i(a)),we(v,"href",i(s))}),_(e,o),W()}tt(["click"]);const ol="modulepreload",il=function(e){return"/"+e},$a={},Je=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){let l=function(u){return Promise.all(u.map(f=>Promise.resolve(f).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),c=o?.nonce||o?.getAttribute("nonce");s=l(n.map(u=>{if(u=il(u),u in $a)return;$a[u]=!0;const f=u.endsWith(".css"),h=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${h}`))return;const d=document.createElement("link");if(d.rel=f?"stylesheet":ol,f||(d.as="script"),d.crossOrigin="",d.href=u,c&&d.setAttribute("nonce",c),document.head.appendChild(d),f)return new Promise((v,p)=>{d.addEventListener("load",v),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${u}`)))})}))}function a(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return s.then(o=>{for(const c of o||[])c.status==="rejected"&&a(c.reason);return t().catch(a)})},ll=(e,t)=>{let n=null;return()=>{n&&clearTimeout(n),n=setTimeout(()=>{e()},t)}},Bs=()=>window.matchMedia("(max-width: 768px)").matches;let qs=O(ue(Bs()));const cl=ll(()=>{k(qs,Bs(),!0)},16);window.addEventListener("resize",cl);const Pn=()=>i(qs),_a=ue({count:0}),ul=()=>_a.count>0,Us=()=>{_a.count+=1},$s=()=>{_a.count-=1};function fl(e,t){V(t,!0);let n=ye(t,"blockedDialog",3,!1),r=ye(t,"hiddenDialog",3,!1),s=ye(t,"isLastDialog",3,!1),a=ye(t,"onStartClose",3,()=>{}),o=ye(t,"onClose",3,()=>{});const c=D(()=>s()?void 0:t.onStartBack);let l=null;function u(){return l||(l=Je(()=>import("./MobileDialog-Bqtkt1Dd.js"),__vite__mapDeps([0,1]))),l}function f(){return l||(l=Je(()=>import("./DesktopDialog-BjPcvitl.js"),__vite__mapDeps([2,3]))),l}be(()=>(Us(),()=>{$s()}));var h=T(),d=P(h);{var v=g=>{var m=T(),w=P(m);Ye(w,u,null,(b,y)=>{var L=T();const x=D(()=>i(y).default);var E=P(L);Ge(E,()=>i(x),(I,F)=>{F(I,{get shownDialog(){return t.shownDialog},get blocked(){return n()},get unBlockedBack(){return t.unBlockedBack},get hiddenDialog(){return r()},get children(){return t.children},get onStartClose(){return t.onStartBack},get onClose(){return o()}})}),_(b,L)}),_(g,m)},p=g=>{var m=T(),w=P(m);Ye(w,f,null,(b,y)=>{var L=T();const x=D(()=>i(y).default);var E=P(L);Ge(E,()=>i(x),(I,F)=>{F(I,{get shownDialog(){return t.shownDialog},get blockedDialog(){return n()},get unBlockedBack(){return t.unBlockedBack},get hiddenDialog(){return r()},get children(){return t.children},get onStartBack(){return i(c)},get onStartClose(){return a()},get onClose(){return o()}})}),_(b,L)}),_(g,m)};U(d,g=>{Pn()?g(v):g(p,!1)})}_(e,h),W()}let js=O(!1),ga=O(!1);const Rn=e=>{k(js,e,!0),e||k(ga,!1)},dl=()=>i(js),ja=e=>{k(ga,e,!0)},vl=()=>i(ga);function Fa(e,t){V(t,!0);let n=ye(t,"blocked",3,!1),r=ye(t,"isLastDialog",3,!1),s=ye(t,"onBack",3,()=>{});const a=D(()=>n()||t.hidden||dl()),o=D(()=>vl()&&!r());fl(e,{get shownDialog(){return t.shown},get blockedDialog(){return i(a)},get unBlockedBack(){return i(o)},get hiddenDialog(){return t.hidden},get isLastDialog(){return r()},onStartBack:()=>{(!i(a)||i(a)&&i(o))&&t.shown&&(Qi(),s()())},onStartClose:()=>{(!i(a)||i(a)&&i(o))&&t.shown&&Ms()},onClose:()=>{Rs()},children:(f,h)=>{var d=T(),v=P(d);Pt(v,()=>t.children),_(f,d)},$$slots:{default:!0}}),W()}const j=ue({initedDB:!1}),hl=()=>{j.initedDB=!0},bn=async e=>{j.account=e},Qn=async e=>{j.notes||(j.notes=[]),j.mapNotes||(j.mapNotes=new Map),e.forEach(t=>{if(!j.notes||!j.mapNotes)throw new Error("Notes appState is not initialized");j.notes.push(t),j.mapNotes.set(t.id,t)})},Cr=()=>j.notes&&j.mapNotes,pl=()=>j.account,_l=()=>j.notes||[],su=()=>j.mapNotes||new Map,Fs=e=>{if(!j.notes||!j.mapNotes)throw new Error("Notes appState is not initialized");const t={...e};j.notes.push(t),j.mapNotes.set(t.id,t)},gl=async e=>{if(!j.notes||!j.mapNotes)throw new Error("Notes appState is not initialized");j.notes.forEach((t,n)=>{t?.id===e.id&&j.notes&&(j.notes[n]=e)}),j.mapNotes.set(e.id,e)},Hs=async e=>{if(!j.notes||!j.mapNotes)throw new Error("Notes appState is not initialized");j.mapNotes.delete(e);const t=j.notes.findIndex(n=>n?.id===e);t!==-1&&(j.notes[t]=void 0)},zs=async()=>{j.initedDB=!0,j.notes=[],j.mapNotes=new Map};let Ks=O({});const Vs=()=>i(Ks),ml=e=>{k(Ks,e)};var wl=R('<input class="svelte-6l2oy0"/>');function Xr(e,t){V(t,!0);let n=ye(t,"value",15,"");var r=wl();se(()=>we(r,"placeholder",t.placeholder)),yi("focus",r,function(...s){t.onFocus?.apply(this,s)}),Mi(r,n),_(e,r),W()}var yl=R('<button> <svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></button>');function lr(e,t){let n=D(()=>t.style==="selected"?"45deg":"0deg");var r=yl();r.__click=function(...o){t.onClick?.apply(this,o)};var s=S(r),a=A(s);fe(a,()=>({"--size":"20px","--rotate":i(n)})),le(a.lastChild,{name:"plus"}),se(()=>{we(r,"type",t.type),G(r,1,Y([{selectedTag:t.style==="selected"}]),"svelte-1pjhi9i"),Pr(s,`${t.title??""} `)}),_(e,r)}tt(["click"]);const bl=e=>{e.preventDefault(),Me("settings")};var Sl=R("<div></div>"),kl=R('<div class="sidebarFixed svelte-eq0qkl"><div class="nav svelte-eq0qkl"><!> <a class="link svelte-eq0qkl"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Settings</span></a></div> <div class="searchWrapper svelte-eq0qkl"><!></div> <!></div> <div></div>',1),El=R("<div></div>"),Pl=R('<div class="sidebar svelte-eq0qkl"><div class="sidebarFixed svelte-eq0qkl"><div class="searchWrapper svelte-eq0qkl"><!></div> <!></div> <div class="tags svelte-eq0qkl"></div></div>');function Cl(e,t){V(t,!0);let n=O(null),r=O(""),s=D(()=>new URLSearchParams(C.search).get("selectedTags")?.split(",")||[]),a=null;function o(){return a||(a=Je(()=>import("./MobileSidebar-CyzeMIxM.js"),__vite__mapDeps([4,5]))),a}const c=()=>{const b=et();b.includes("settings")||b.push("settings");const y=new URLSearchParams(C.search);return y.set("stackPages",b.join(",")),`${C.pathname}?${y}`},l=b=>{const y=new URLSearchParams(C.search);y.set("selectedTags",[...i(s),b].join(",")),xt(`${C.pathname}${y.size>0?`?${y.toString()}`:""}`),k(r,"")},u=b=>{const y=new URLSearchParams(C.search),L=i(s).filter(x=>x!==b);L.length===0?y.delete("selectedTags"):y.set("selectedTags",L.join(",")),xt(`${C.pathname}${y.size>0?`?${y.toString()}`:""}`)};let f=D(()=>Cr()?Object.values(Vs()).filter(b=>!i(s).some(y=>b.name===y)):[]),h=D(Pn);be(()=>{i(h)&&o()});let d=D(c),v=D(()=>et().length>0||ul());var p=T(),g=P(p);{var m=b=>{var y=T(),L=P(y);Ye(L,o,null,(x,E)=>{var I=T();const F=D(()=>i(E).default);var Re=P(I);Ge(Re,()=>i(F),(ne,z)=>{z(ne,{get blocked(){return i(v)},children:(B,de)=>{var ve=kl(),X=P(ve),re=S(X),Ae=S(re);Ts(Ae,{});var Le=A(Ae,2);Le.__click=[bl];var Be=S(Le);fe(Be,()=>({"--size":"20px"})),le(Be.lastChild,{name:"settings"});var We=A(re,2),Lt=S(We);Xr(Lt,{placeholder:"Search tag",get value(){return i(r)},set value(oe){k(r,oe,!0)}});var tn=A(We,2);{var Cn=oe=>{var Te=Sl();G(Te,1,Y(["tags","selectedTags"]),"svelte-eq0qkl"),un(Te,20,()=>i(s),_e=>_e,(_e,N)=>{lr(_e,{get title(){return N},onClick:()=>u(N),style:"selected"})}),Ct(Te,_e=>k(n,_e),()=>i(n)),_(oe,Te)};U(tn,oe=>{i(s).length>0&&oe(Cn)})}var qe=A(X,2);G(qe,1,Y(["tags","tagsWrapper"]),"svelte-eq0qkl"),un(qe,21,()=>i(f),oe=>oe.name,(oe,Te)=>{var _e=T(),N=P(_e);{var M=J=>{lr(J,{get title(){return i(Te).name},onClick:()=>l(i(Te).name)})};U(N,J=>{(i(r)===""||i(Te).name.toLowerCase().indexOf(i(r).toLowerCase())!==-1)&&J(M)})}_(oe,_e)}),se(oe=>{we(Le,"href",i(d)),Fn(qe,`height: calc(100dvh - 190px - ${oe??""}px);`)},[()=>i(n)?i(n).getBoundingClientRect().height:0]),_(B,ve)},$$slots:{default:!0}})}),_(x,I)}),_(b,y)},w=b=>{var y=Pl(),L=S(y),x=S(L),E=S(x);Xr(E,{placeholder:"Search tag",get value(){return i(r)},set value(ne){k(r,ne,!0)}});var I=A(x,2);{var F=ne=>{var z=El();G(z,1,Y(["tags","selectedTags"]),"svelte-eq0qkl"),un(z,20,()=>i(s),B=>B,(B,de)=>{lr(B,{get title(){return de},onClick:()=>u(de),style:"selected"})}),_(ne,z)};U(I,ne=>{i(s).length>0&&ne(F)})}var Re=A(L,2);un(Re,21,()=>i(f),ne=>ne.name,(ne,z)=>{var B=T(),de=P(B);{var ve=X=>{lr(X,{get title(){return i(z).name},onClick:()=>l(i(z).name)})};U(de,X=>{(i(r)===""||i(z).name.toLowerCase().indexOf(i(r).toLowerCase())!==-1)&&X(ve)})}_(ne,B)}),_(b,y)};U(g,b=>{i(h)?b(m):b(w,!1)})}_(e,p),W()}tt(["click"]);function kt(e){const t=String.fromCharCode(...new Uint8Array(e));return window.btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function ma(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");const n=t.length%4;return n&&(t+="=".repeat(4-n)),t}function wa(e){try{const t=atob(e),n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n.buffer}catch(t){throw console.error("Error decoding base64:",t,"Input:",e),t}}function ou(e){const t=ma(e);return wa(t)}const iu=async({challenge:e,clientKey:t})=>{const n=Math.floor(Math.random()*100),r={challenge:wa(ma(e)),rp:{id:"localhost",name:"notes"},user:{id:new Uint8Array([...t,...crypto.getRandomValues(new Uint8Array(16))]).buffer,name:`account_${n}`,displayName:`account_${n}`},pubKeyCredParams:[{type:"public-key",alg:-7},{type:"public-key",alg:-257}],authenticatorSelection:{userVerification:"required"},timeout:6e4,attestation:"none"},s=await navigator.credentials.create({publicKey:r});if(s){const a=s.response;return{challenge:e,id:s.id,rawId:kt(s.rawId),type:s.type,response:{clientDataJSON:kt(a.clientDataJSON),attestationObject:kt(a.attestationObject)}}}else throw new Error},lu=async({challenge:e})=>{const t={challenge:wa(ma(e)),timeout:6e4,rpId:"localhost",userVerification:"required"},n=await navigator.credentials.get({publicKey:t});if(n){const r=n.response,s=new DataView(r.authenticatorData).getUint32(33,!1);console.log("Counter:",s);const a={challenge:e,id:n.id,rawId:kt(n.rawId),type:n.type,response:{authenticatorData:kt(r.authenticatorData),clientDataJSON:kt(r.clientDataJSON),signature:kt(r.signature)}};if(!r.userHandle)throw new Error("No credential found");const o=new Uint8Array(r.userHandle).slice(0,32);return{credentialData:a,clientKey:o}}else throw new Error("No credential found")},xl=async e=>{const t=await crypto.subtle.importKey("raw",e.serverKey,{name:"HKDF"},!1,["deriveKey"]),n=await crypto.subtle.deriveKey({name:"HKDF",salt:new Uint8Array(12),info:new TextEncoder().encode("aes-gcm-shared"),hash:"SHA-256"},t,{name:"AES-GCM",length:256},!1,["encrypt"]);return{encryptedClientKey:await crypto.subtle.encrypt({name:"AES-GCM",iv:new Uint8Array(12)},n,e.clientKey)}},cu=async e=>{const t=await crypto.subtle.importKey("raw",e.serverKey,{name:"HKDF"},!1,["deriveKey"]),n=await crypto.subtle.deriveKey({name:"HKDF",info:new TextEncoder().encode("aes-gcm-shared"),hash:"SHA-256",salt:new Uint8Array(12)},t,{name:"AES-GCM",length:256},!1,["decrypt"]),r=await crypto.subtle.decrypt({name:"AES-GCM",iv:new Uint8Array(12)},n,e.encryptedClientKey);return new Uint8Array(r)},Nl=()=>crypto.randomUUID(),Al="AppStorage",Ll=1,Ve="notes",Ha="syncLog",Sn="account";let ct;const Tl=()=>new Promise((e,t)=>{const n=indexedDB.open(Al,Ll);n.addEventListener("upgradeneeded",()=>{const r=n.result;r.objectStoreNames.contains(Ve)||r.createObjectStore(Ve,{keyPath:"id"}),r.objectStoreNames.contains(Sn)||r.createObjectStore(Sn,{keyPath:"id"}),r.objectStoreNames.contains(Ha)||r.createObjectStore(Ha,{keyPath:"id"})}),n.addEventListener("success",()=>{e(),ct=n.result,ct.onversionchange=function(){ct?.close(),alert("app outdated, please reload the page")}}),n.addEventListener("blocked",()=>{t(),alert("app outdated, please reload the page")}),n.addEventListener("error",()=>{t(),console.error("Error",n.error)})}),Ws=()=>new Promise((e,t)=>{const r=ct?.transaction(Sn,"readonly")?.objectStore(Sn).get("default");r?.addEventListener("success",()=>{const s=r?.result?.account;e(s)}),r?.addEventListener("error",()=>{t()})}),Ys=e=>new Promise((t,n)=>{const a=ct?.transaction(Sn,"readwrite")?.objectStore(Sn)?.put({id:"default",account:e});a?.addEventListener("success",()=>{console.log("account inited"),t()}),a?.addEventListener("error",()=>{n()})}),er=()=>new Promise((e,t)=>{const r=ct?.transaction(Ve,"readonly")?.objectStore(Ve).getAll();r?.addEventListener("success",()=>{const s=r.result;e(s)}),r?.addEventListener("error",()=>{t()})}),Dl=async e=>new Promise((t,n)=>{const a=ct?.transaction(Ve,"readwrite")?.objectStore(Ve)?.put({...e});a?.addEventListener("success",()=>{t()}),a?.addEventListener("error",()=>{n()})}),Il=async e=>new Promise((t,n)=>{const a=ct?.transaction(Ve,"readwrite")?.objectStore(Ve)?.delete(e);a?.addEventListener("success",()=>{t()}),a?.addEventListener("error",()=>{n()})}),Ol=()=>new Promise((e,t)=>{const s=ct?.transaction(Ve,"readwrite")?.objectStore(Ve)?.clear();s?.addEventListener("success",()=>{e()}),s?.addEventListener("error",()=>{t()})}),ya=async()=>{await Ol()},Ml=async e=>{const t=(await er()).reduce((a,o)=>(a[o.id]=o,a),{}),n={},s=ct?.transaction(Ve,"readwrite")?.objectStore(Ve);e.forEach(a=>{t[a.id]?t[a.id].updatedAt<a.updatedAt&&(n[a.id]=a):n[a.id]=a}),await Promise.all(Object.values(n).map(a=>{const o=s?.put(a);return new Promise((c,l)=>{o?.addEventListener("success",()=>{c()}),o?.addEventListener("error",()=>{l()})})}))};async function ba(){if(navigator.storage&&navigator.storage.persist)try{await navigator.storage.persisted()||await navigator.storage.persist()}catch{console.error("")}}const Qt=crypto.randomUUID(),en=new BroadcastChannel("app");en.addEventListener("message",async e=>{if(e.data&&typeof e.data=="string"){const t=JSON.parse(e.data);if(t.tabId&&t.tabId===Qt)return;if(console.log("Received message from BroadcastChannel:",e.data),t.operation==="addNote"){const n=t.note;Fs(n)}else if(t.operation==="updateNote"){const n=t.note;gl(n)}else if(t.operation==="deleteNote"){const n=t.noteId;Hs(n)}else if(t.operation==="clearAppState")zs();else if(t.operation==="reloadNotes"){const n=await er();await Qn(n)}else if(t.operation==="initLocalAccount")bn(null),Zr(),xt("/");else if(t.operation==="initAccount"){const n=await Ws();n&&(bn(n),Zr(),xt("/"))}}});Tl().then(async()=>{hl();const e=await Ws();if(e===void 0)Me("start");else{el("start")&&(Zr(),xt("/")),e?(bn(e),await ba()):bn(null);const t=await er();await Qn(t)}}).catch(()=>{console.error("failed to init db")});const uu=async e=>{const t={...e,id:Nl(),createdAt:Date.now(),updatedAt:Date.now()};Fs(t),en.postMessage(JSON.stringify({tabId:Qt,operation:"addNote",note:{...t}})),await Dl({...t})},Rl=async e=>{en.postMessage(JSON.stringify({tabId:Qt,operation:"deleteNote",noteId:e})),Hs(e),await Il(e)},fu=async()=>{en.postMessage(JSON.stringify({tabId:Qt,operation:"clearAppState"})),zs(),await ya()},du=async e=>{await Ml(e),en.postMessage(JSON.stringify({tabId:Qt,operation:"reloadNotes"}));const t=await er();await Qn(t)},Bl=async()=>{await ya(),await ba(),await Ys(null),bn(null),await Qn([]),en.postMessage(JSON.stringify({tabId:Qt,operation:"initLocalAccount"}))},vu=async e=>{await ya(),await ba();const{encryptedClientKey:t}=await xl({clientKey:e.clientKey,serverKey:e.serverKey}),n={encryptedClientKey:kt(t),lastLogId:-1,lastSync:-1};await Ys(n),bn(n);const r=await er();await Qn(r),en.postMessage(JSON.stringify({tabId:Qt,operation:"initAccount"}))};function ql(e,t){V(t,!0),be(()=>{const n=r=>{r.target&&t.dialog?.open&&t.dialogInner&&t.dialogInner!==r.target&&!t.dialogInner.contains(r.target)&&t.onClose()};return document.addEventListener("mousedown",n,{capture:!0}),()=>{document.removeEventListener("mousedown",n,{capture:!0})}}),W()}var Ul=R('<dialog><div class="dialogInner svelte-w3h659"><!></div></dialog> <!>',1);function Gs(e,t){V(t,!0);let n=O(null),r=O(null),s=O(!1);const a=()=>{const d=setTimeout(()=>{t.onClosed()},150);i(n)?.addEventListener("transitionend",()=>{clearTimeout(d),t.onClosed()},{once:!0}),k(s,!1)};it(()=>{t.startClose&&a()}),be(()=>{i(n)?.showModal(),i(n)?.getClientRects(),k(s,!0)}),be(()=>(Us(),()=>{$s()}));var o=Ul(),c=P(o),l=S(c),u=S(l);Pt(u,()=>t.children),Ct(l,d=>k(r,d),()=>i(r)),Ct(c,d=>k(n,d),()=>i(n));var f=A(c,2);{var h=d=>{ql(d,{get dialog(){return i(n)},get dialogInner(){return i(r)},onClose:a})};U(f,d=>{i(n)&&i(r)&&d(h)})}se(()=>G(c,1,Y(["dialog",{shown:i(s)}]),"svelte-w3h659")),_(e,o),W()}var $l=R("<div><!></div>");function Js(e,t){V(t,!0);let n=O(!1),r=O(null);const s=()=>{const u=setTimeout(()=>{t.onClosed()},150);i(r)?.addEventListener("transitionend",()=>{clearTimeout(u),t.onClosed()},{once:!0}),k(n,!1)},a=u=>{u.target!==i(r)&&!i(r)?.contains(u.target)&&s()},o=u=>{u.target!==i(r)&&!i(r)?.contains(u.target)&&s()};be(()=>{i(r)?.getClientRects(),k(n,!0);const u=setTimeout(()=>{document.addEventListener("focusin",a),document.addEventListener("click",o)},0);return()=>{clearTimeout(u),document.removeEventListener("focusin",a),document.removeEventListener("click",o)}}),it(()=>{t.startClose&&s()});var c=$l(),l=S(c);Pt(l,()=>t.children),Ct(c,u=>k(r,u),()=>i(r)),se(()=>G(c,1,Y(["menu",{top:t.positionTop,shown:i(n)}]),"svelte-vbw57a")),_(e,c),W()}const jl=(e,t,n)=>{const r=Vs();t.note.tags.forEach(s=>{if(i(n).includes(s)&&r[s].connections===1){const a=new URLSearchParams(C.search),o=i(n).filter(c=>c!==s);o.length===0?a.delete("selectedTags"):a.set("selectedTags",o.join(",")),Xi(`${C.pathname}${a.size>0?`?${a.toString()}`:""}`)}}),Rl(t.note.id)},Fl=(e,t,n)=>{k(t,!0),k(n,!0)};var Hl=R('<div class="menu svelte-xxw0l"><div><button>Edit</button></div> <div><button>Delete</button></div></div>'),zl=R('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1);function Kl(e,t){V(t,!0);const n=(d,v=zt)=>{var p=Hl(),g=S(p),m=S(g);m.__click=[Fl,a,s];var w=A(g,2),b=S(w);b.__click=[jl,t,c],se(()=>{G(m,1,Y(["button",{buttonMenuDialog:v()}]),"svelte-xxw0l"),G(b,1,Y(["button",{buttonMenuDialog:v()}]),"svelte-xxw0l")}),_(d,p)};let r=ye(t,"shownMenu",15),s=O(!1),a=O(!1),o=D(Pn),c=D(()=>new URLSearchParams(C.search).get("selectedTags")?.split(",")||[]);const l=()=>{r(!1),k(a,!1)};var u=T(),f=P(u);{var h=d=>{var v=T(),p=P(v);{var g=w=>{Gs(w,{get startClose(){return i(a)},onClosed:l,children:(b,y)=>{n(b,()=>!0)},$$slots:{default:!0}})},m=w=>{var b=zl(),y=P(b);fe(y,()=>({"--bottom":"-180%","--right":"30px"})),Js(y.lastChild,{get startClose(){return i(a)},get positionTop(){return t.showMenuUp},onClosed:l,children:(L,x)=>{n(L,()=>!1)},$$slots:{default:!0}}),_(w,b)};U(p,w=>{i(o)?w(g):w(m,!1)})}_(d,v)};U(f,d=>{r()&&d(h)})}_(e,u),W()}tt(["click"]);const Vl=(e,t,n)=>{t.showMenuUp||k(n,!0)},Wl=(e,t)=>{navigator.clipboard.writeText(t.note.url),Ui("Link copied to clipboard")},Yl=(e,t)=>{k(t,!0)},Gl=(e,t)=>{k(t,!1)};var Jl=R('<li class="note svelte-1mtwaux"><img loading="lazy" class="noteIcon" height="16" width="16" alt="icon"/> <a class="noteLink svelte-1mtwaux" target="_blank" rel="noopener noreferrer"> </a> <div class="spacer svelte-1mtwaux"></div> <div><button class="button svelte-1mtwaux"><!> <!></button> <button><!> <!></button> <!></div></li>');function Zl(e,t){V(t,!0);let n=O(!1),r=O(!1);const s=w=>{try{return`https://external-content.duckduckgo.com/ip3/${new URL(w).host}.ico`}catch{return""}};var a=Jl();a.__focusin=[Yl,n],a.__focusout=[Gl,n];var o=S(a),c=A(o,2),l=S(c),u=A(c,4),f=S(u);f.__click=[Wl,t];var h=S(f);le(h,{name:"copy"});var d=A(h,2);Hn(d,{children:(w,b)=>{var y=Qe("copy link");_(w,y)}});var v=A(f,2);v.__click=[Vl,t,r],G(v,1,Y(["button","buttonMenu"]),"svelte-1mtwaux");var p=S(v);le(p,{name:"menu"});var g=A(p,2);Hn(g,{children:(w,b)=>{var y=Qe("show menu");_(w,y)}});var m=A(v,2);Kl(m,{get note(){return t.note},get showMenuUp(){return t.showMenuUp},get shownMenu(){return i(r)},set shownMenu(w){k(r,w,!0)}}),se(w=>{we(o,"src",w),we(c,"tabindex",t.focusHidden?-1:0),we(c,"href",t.note.url),Pr(l,t.note.title),G(u,1,Y(["noteMenuWrapper",{noteMenuWrapperActive:i(n)}]),"svelte-1mtwaux"),we(f,"tabindex",t.focusHidden?-1:0),we(v,"tabindex",t.focusHidden?-1:0)},[()=>s(t.note.url)]),_(e,a),W()}tt(["focusin","focusout","click"]);const Qr=ue({ref:null});let Sa=O(!1);const Xl=(e,t)=>{let n;return()=>{n&&clearTimeout(n),n=setTimeout(()=>{e()},t)}},Ql=Xl(()=>{k(Sa,!1)},100),ec=()=>{k(Sa,!0),Ql()},hu=()=>i(Sa),tc=(e,t)=>{i(t)||k(t,!0)};var nc=(e,t)=>t("newest"),rc=(e,t)=>t("oldest"),ac=(e,t)=>t("AtoZ"),sc=(e,t)=>t("ZtoA"),oc=R("<div><button>Newest</button> <button>Oldest</button> <button>A to Z</button> <button>Z to A</button></div>"),ic=R('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),lc=R('<div class="orderMenu svelte-16tnh9z"><button><!> <!></button> <!></div>');function cc(e,t){V(t,!0);const n=(g,m=zt)=>{var w=oc(),b=S(w);b.__click=[nc,c];var y=A(b,2);y.__click=[rc,c];var L=A(y,2);L.__click=[ac,c];var x=A(L,2);x.__click=[sc,c],se(()=>{G(w,1,Y(["menu",{menuDialog:m()}]),"svelte-16tnh9z"),G(b,1,Y(["menuButton",{menuButtonDialog:m(),current:i(o)==="newest"}]),"svelte-16tnh9z"),G(y,1,Y(["menuButton",{menuButtonDialog:m(),current:i(o)==="oldest"}]),"svelte-16tnh9z"),G(L,1,Y(["menuButton",{menuButtonDialog:m(),current:i(o)==="AtoZ"}]),"svelte-16tnh9z"),G(x,1,Y(["menuButton",{menuButtonDialog:m(),current:i(o)==="ZtoA"}]),"svelte-16tnh9z")}),_(g,w)};let r=O(!1),s=O(!1),a=D(Pn),o=D(Is);const c=g=>{k(s,!0),Gi(g)},l=()=>{k(r,!1),k(s,!1)};var u=lc(),f=S(u);f.__click=[tc,r],G(f,1,Y(["button","buttonMenu"]),"svelte-16tnh9z");var h=S(f);le(h,{name:"filter"});var d=A(h,2);Hn(d,{children:(g,m)=>{var w=Qe("show feed order menu");_(g,w)}});var v=A(f,2);{var p=g=>{var m=T(),w=P(m);{var b=L=>{Gs(L,{get startClose(){return i(s)},onClosed:l,children:(x,E)=>{n(x,()=>!0)},$$slots:{default:!0}})},y=L=>{var x=ic(),E=P(x);fe(E,()=>({"--right":"20px","--top":"60px"})),Js(E.lastChild,{get startClose(){return i(s)},onClosed:l,children:(I,F)=>{n(I,()=>!1)},$$slots:{default:!0}}),_(L,x)};U(w,L=>{i(a)?L(b):L(y,!1)})}_(g,m)};U(v,g=>{i(r)&&g(p)})}_(e,u),W()}tt(["click"]);var uc=R('<div><!> <div class="loader svelte-1wuuvr"></div></div>');function Zs(e,t){V(t,!0);let n=O(!1);be(()=>{const a=setTimeout(()=>{k(n,!0)},200);return()=>{clearTimeout(a)}});var r=uc(),s=S(r);Pt(s,()=>t.children??zt),se(()=>G(r,1,Y(["block",{shown:i(n)}]),"svelte-1wuuvr")),_(e,r),W()}var fc=R("<a><!></a>"),dc=R('<button type="button"><!></button>');function Nt(e,t){let n=ye(t,"type",3,"standard"),r=ye(t,"element",3,"button"),s=ye(t,"href",3,""),a=ye(t,"fullWidth",3,!1);var o=T(),c=P(o);{var l=f=>{var h=fc();h.__click=function(...v){t.onClick?.apply(this,v)};var d=S(h);Pt(d,()=>t.children??zt),se(()=>{we(h,"href",s()),G(h,1,Y(["button","a",{dangerous:n()==="dangerous",secondary:n()==="secondary",fullWidth:a()}]),"svelte-na2c6y")}),_(f,h)},u=f=>{var h=dc();h.__click=function(...v){t.onClick?.apply(this,v)};var d=S(h);Pt(d,()=>t.children??zt),se(()=>G(h,1,Y(["button",{dangerous:n()==="dangerous",secondary:n()==="secondary",fullWidth:a()}]),"svelte-na2c6y")),_(f,h)};U(c,f=>{r()==="a"?f(l):f(u,!1)})}_(e,o)}tt(["click"]);const vc=(e,t)=>{i(t)&&i(t).scrollTo({top:0,behavior:"smooth"})};var hc=R('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Add note</span>',1),pc=R('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span style="padding-left: 6px;">Import data</span>',1),_c=R('<div class="emptyStore svelte-18wxs6q"><p class="message">No notes found</p> <div class="wrapperButtonsAdd svelte-18wxs6q"><!></div> <div>or</div> <div class="wrapperButtonsAdd svelte-18wxs6q"><!></div></div>'),gc=R('<div class="emptyMessage svelte-18wxs6q">No notes found</div>'),mc=R('<div class="feed svelte-18wxs6q"><ul class="svelte-18wxs6q"></ul></div>'),wc=R('<div class="wrapperButtonTop svelte-18wxs6q"><button class="buttonTop svelte-18wxs6q"><!> <svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></button></div>'),yc=R('<div class="filter svelte-18wxs6q"><div class="searchWrapper svelte-18wxs6q"><!></div> <!></div> <div class="wrapperFeed svelte-18wxs6q"><div class="wrapperContainer svelte-18wxs6q"><!></div></div> <!>',1);function bc(e,t){V(t,!0);let n=O(null),r=50,s=O(0),a=O(0),o=O(0),c=O(ue([])),l=O(""),u=D(()=>Pn()?i(n):Qr.ref),f=null,h=null,d=O(!1),v=0;const p=D(Ji);it(()=>{i(l),i(p),i(b),i(u)?.scrollTo(0,0)});const g=()=>{if(i(u)){const N=i(u).scrollTop||0;N===0?k(d,!1):!i(d)&&v>N?k(d,!0):i(d)&&v<N&&k(d,!1),v=N}},m=()=>{ec(),f||(f=requestAnimationFrame(()=>{g();const N=i(u)?.scrollTop||0;k(o,N,!0);const M=Math.ceil(i(s)/r);k(a,Math.floor(N/(r*M))*(r*M)),f=null}))},w=()=>{h||(h=requestAnimationFrame(()=>{g(),k(s,window.innerHeight-180||0,!0);const N=i(u)?.scrollTop||0;k(o,N,!0);const M=Math.ceil(i(s)/r);k(a,Math.floor(N/(r*M))*(r*M)),h=null}))};be(()=>{w(),m()}),it(()=>(i(u)?.addEventListener("scroll",m),window.addEventListener("resize",w),()=>{i(u)?.removeEventListener("scroll",m),window.removeEventListener("resize",w)}));const b=D(Is);let y=D(()=>_l()||[]);it(()=>{const N=[],M={};for(let J=i(y).length-1;J>=0;J--){const Z=i(y)[J];if(Z&&!(i(p).length&&i(p).some(ie=>!Z.tags.includes(ie)))&&!(i(l)&&!(Z.title.toLowerCase().includes(i(l).toLowerCase())||Z.url.toLowerCase().includes(i(l).toLowerCase())||Z.description.toLowerCase().includes(i(l).toLowerCase())))){if(Z.tags)for(const ie of Z.tags)M[ie]?M[ie].connections++:M[ie]={name:ie,connections:1};N.push(Z)}}ml(M),N.sort((J,Z)=>{if(!J||!Z)return 0;switch(i(b)){case"newest":return J.createdAt>Z.createdAt?-1:1;case"oldest":return J.createdAt<Z.createdAt?-1:1;case"AtoZ":return J.title.localeCompare(Z.title);case"ZtoA":return Z.title.localeCompare(J.title);default:return 0}}),k(c,N,!0)});const L=D(()=>i(c).length*r);let E=D(()=>{const N=Math.ceil(i(s)/r);let M=Math.floor(i(a)/r);return M=M-Math.min(M,N),i(c).slice(M,M+N*3)}),I=D(()=>r*Math.ceil(i(s)/r));const F=D(()=>i(a)-Math.min(i(a),i(I))),Re=()=>{i(u)&&i(u).scrollTo({top:0,behavior:"smooth"})},ne=()=>{const N=et();N.includes("import")||N.push("import");const M=new URLSearchParams(C.search);return M.set("stackPages",N.join(",")),`${C.pathname}?${M}`};let B=D(()=>{const N=et();N.includes("newNote")||N.push("newNote");const M=new URLSearchParams(C.search);return M.set("stackPages",N.join(",")),`${C.pathname}?${M}`}),de=D(ne);const ve=N=>{N.preventDefault(),Me("newNote")},X=N=>{N.preventDefault(),Me("import")};var re=yc(),Ae=P(re),Le=S(Ae),Be=S(Le);Xr(Be,{onFocus:Re,placeholder:"Search",get value(){return i(l)},set value(N){k(l,N,!0)}});var We=A(Le,2);cc(We,{});var Lt=A(Ae,2),tn=S(Lt),Cn=S(tn);{var qe=N=>{Zs(N,{})},oe=N=>{var M=T(),J=P(M);{var Z=Se=>{var ee=_c(),ge=A(S(ee),2),vt=S(ge);Nt(vt,{element:"a",get href(){return i(B)},onClick:ve,children:(Q,De)=>{var ce=hc(),Ee=P(ce);fe(Ee,()=>({"--size":"24px","--color":"#b0b0b0"})),le(Ee.lastChild,{name:"plus"}),_(Q,ce)},$$slots:{default:!0}});var nt=A(ge,4),ke=S(nt);Nt(ke,{element:"a",get href(){return i(de)},onClick:X,children:(Q,De)=>{var ce=pc(),Ee=P(ce);fe(Ee,()=>({"--size":"18px","--color":"#b0b0b0"})),le(Ee.lastChild,{name:"import"}),_(Q,ce)},$$slots:{default:!0}}),_(Se,ee)},ie=Se=>{var ee=T(),ge=P(ee);{var vt=ke=>{var Q=gc();_(ke,Q)},nt=ke=>{var Q=mc(),De=S(Q);un(De,23,()=>i(E),ce=>ce.id,(ce,Ee,rt)=>{{let he=D(()=>i(rt)*r<i(o)-i(F)-r/2||i(rt)*r>i(o)-i(F)+Math.floor(i(s)/r)*r),at=D(()=>(i(rt)+3)*r<i(o)-i(F)-r/2||(i(rt)+3)*r>i(o)-i(F)+Math.floor(i(s)/r)*r);Zl(ce,{get focusHidden(){return i(he)},get showMenuUp(){return i(at)},get note(){return i(Ee)}})}}),se(ce=>{Fn(Q,`min-height: ${ce??""}px`),Fn(De,`transform: translateY(${i(F)??""}px);`)},[()=>Math.max((i(L)>i(s),i(L)),0)]),_(ke,Q)};U(ge,ke=>{i(E).length===0?ke(vt):ke(nt,!1)},!0)}_(Se,ee)};U(J,Se=>{i(y).length===0?Se(Z):Se(ie,!1)},!0)}_(N,M)};U(Cn,N=>{Cr()?N(oe,!1):N(qe)})}Ct(tn,N=>k(n,N),()=>i(n));var Te=A(Lt,2);{var _e=N=>{var M=wc(),J=S(M);J.__click=[vc,u];var Z=S(J);Hn(Z,{children:(Se,ee)=>{var ge=Qe("top");_(Se,ge)}});var ie=A(Z,2);fe(ie,()=>({"--size":"22px"})),le(ie.lastChild,{name:"up"}),_(N,M)};U(Te,N=>{i(d)&&N(_e)})}_(e,re),W()}tt(["click"]);var Sc=R('<!> <div class="content svelte-cu0ar8"><!></div>',1);function kc(e){var t=Sc(),n=P(t);Cl(n,{});var r=A(n,2),s=S(r);bc(s,{}),_(e,t)}var Ot=(e=>(e.Light="light",e.System="system",e.Dark="dark",e))(Ot||{});let Xs=O(ue(localStorage.getItem("colorScheme")||"system"));const Ec=e=>{localStorage.setItem("colorScheme",e),e==="system"?window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.dataset.colorScheme="dark":document.documentElement.dataset.colorScheme="light":document.documentElement.dataset.colorScheme=e,k(Xs,e,!0)},Pc=()=>i(Xs);var Cc=R('<div class="wrapper svelte-1syxvud"><fieldset class="switcher svelte-1syxvud"><legend class="vh svelte-1syxvud">Color Scheme</legend> <input id="light" type="radio" aria-label="Light"/> <label for="light" title="Light" aria-label="Light"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <input id="system" type="radio" aria-label="System"/> <label for="system" title="System" aria-label="System"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <input id="dark" type="radio" aria-label="Dark"/> <label for="dark" title="Dark" aria-label="Dark"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <div class="wrapSwitcherStatus svelte-1syxvud"><div class="switcherStatus svelte-1syxvud"></div></div></fieldset></div>');function xc(e,t){V(t,!0);const n=D(Pc),r=m=>{const w=m.target.value;Ec(w)},s="color-scheme-switcher";var a=Cc(),o=S(a),c=A(S(o),2);G(c,1,Y(["vh","input"]),"svelte-1syxvud"),we(c,"name",s),c.__change=r;var l=A(c,2);G(l,1,Y(["switcherButton","light"]),"svelte-1syxvud");var u=S(l);fe(u,()=>({"--size":"20px"})),le(u.lastChild,{name:"sun"});var f=A(l,2);G(f,1,Y(["vh","input"]),"svelte-1syxvud"),we(f,"name",s),f.__change=r;var h=A(f,2);G(h,1,Y(["switcherButton","system"]),"svelte-1syxvud");var d=S(h);fe(d,()=>({"--size":"14px"})),le(d.lastChild,{name:"a"});var v=A(h,2);G(v,1,Y(["vh","input"]),"svelte-1syxvud"),we(v,"name",s),v.__change=r;var p=A(v,2);G(p,1,Y(["switcherButton","dark"]),"svelte-1syxvud");var g=S(p);return fe(g,()=>({"--size":"20px"})),le(g.lastChild,{name:"moon"}),se(()=>{Br(c,Ot.Light),qr(c,i(n)===Ot.Light),Br(f,Ot.System),qr(f,i(n)===Ot.System),Br(v,Ot.Dark),qr(v,i(n)===Ot.Dark)}),_(e,a),W({handleChange:r})}tt(["change"]);const Nc=()=>{Me("import")},Ac=()=>{Me("export")},Lc=()=>{Me("clearStorage")},Tc=()=>{Me("accessKeys")};var Dc=R('<li class="svelte-1akkbl0"><button class="button svelte-1akkbl0"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1akkbl0">Access keys</span></button></li>'),Ic=R("<span> </span>"),Oc=R('<div class="svelte-1akkbl0"><!> <ul class="svelte-1akkbl0"><li class="svelte-1akkbl0"><button class="button svelte-1akkbl0"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1akkbl0">Import data</span></button></li> <li class="svelte-1akkbl0"><button class="button svelte-1akkbl0"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1akkbl0">Export data</span></button></li> <li class="svelte-1akkbl0"><button class="button svelte-1akkbl0"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1akkbl0">Clear storage</span></button></li> <!></ul> <div class="version svelte-1akkbl0"><!></div></div>');function Mc(e,t){V(t,!0);let n=O("");be(()=>{const x=new AbortController;return fetch("/build-metadata.json",{signal:x.signal}).then(E=>E.json()).then(E=>{k(n,`${E.buildHash}`)}),()=>{x.abort()}});let r=D(pl);var s=Oc(),a=S(s);xc(a,{});var o=A(a,2),c=S(o),l=S(c);l.__click=[Nc];var u=S(l);fe(u,()=>({"--size":"20px"})),le(u.lastChild,{name:"import"});var f=A(c,2),h=S(f);h.__click=[Ac];var d=S(h);fe(d,()=>({"--size":"20px"})),le(d.lastChild,{name:"export"});var v=A(f,2),p=S(v);p.__click=[Lc];var g=S(p);fe(g,()=>({"--size":"20px"})),le(g.lastChild,{name:"trash"});var m=A(v,2);{var w=x=>{var E=Dc(),I=S(E);I.__click=[Tc];var F=S(I);fe(F,()=>({"--size":"20px"})),le(F.lastChild,{name:"key"}),_(x,E)};U(m,x=>{i(r)&&x(w)})}var b=A(o,2),y=S(b);{var L=x=>{var E=Ic(),I=S(E);se(F=>Pr(I,`version: 0.0.1 build_date: "${F??""}" build_hash:
				${i(n)??""}`),[()=>new Date(1753659514437).toISOString().replaceAll("T"," ").replace(/\..*/,"")]),_(x,E)};U(y,x=>{i(n)&&x(L)})}_(e,s),W()}tt(["click"]);var Rc=R('<div class="content svelte-9hh95f"><p class="message svelte-9hh95f">use app</p> <div class="buttonContainer svelte-9hh95f"><div class="buttonContainerItem svelte-9hh95f"><!></div> <div class="buttonContainerItem svelte-9hh95f"><!></div></div></div>');function Bc(e,t){V(t,!0);let n=O("idle");const r=()=>{k(n,"loading"),Me("auth")},s=async()=>{k(n,"loading"),await Bl(),Rn(!1),Ms()};it(()=>{Rn(i(n)==="idle"||i(n)==="loading")}),be(()=>(Rn(!0),()=>{Rn(!1)}));var a=Rc(),o=A(S(a),2),c=S(o),l=S(c);Nt(l,{onClick:r,fullWidth:!0,children:(h,d)=>{var v=Qe("with account");_(h,v)},$$slots:{default:!0}});var u=A(c,2),f=S(u);Nt(f,{onClick:s,fullWidth:!0,type:"secondary",children:(h,d)=>{var v=Qe("without account");_(h,v)},$$slots:{default:!0}}),_(e,a),W()}var qc=R('<div class="content svelte-9hh95f"><p class="message svelte-9hh95f">sign in / sign up</p> <div class="buttonContainer svelte-9hh95f"><div class="buttonContainerItem svelte-9hh95f"><!></div> <div class="buttonContainerItem svelte-9hh95f"><!></div></div></div>');function Uc(e,t){V(t,!1);const n=async()=>{Me("signin")},r=async()=>{Me("signup")};be(()=>(Rn(!0),ja(!0),()=>{ja(!1)})),En();var s=qc(),a=A(S(s),2),o=S(a),c=S(o);Nt(c,{onClick:n,fullWidth:!0,children:(f,h)=>{var d=Qe("sign in");_(f,d)},$$slots:{default:!0}});var l=A(o,2),u=S(l);Nt(u,{onClick:r,fullWidth:!0,children:(f,h)=>{var d=Qe("sign up");_(f,d)},$$slots:{default:!0}}),_(e,s),W()}let Qs=O(200);const $c=e=>{k(Qs,e,!0)},jc=()=>i(Qs);var Fc=R('<div class="svelte-m08fup"><!></div>');function je(e,t){V(t,!0);let n=O(null);be(()=>{i(n)&&(i(n).getBoundingClientRect(),i(n).style.opacity="1");const a=new ResizeObserver(o=>{for(let c of o){const l=c.contentRect.height;console.log("Div height:",l),$c(l)}});if(i(n))return a.observe(i(n)),()=>{i(n)&&a.unobserve(i(n)),a.disconnect()}});var r=Fc(),s=S(r);Pt(s,()=>t.children),Ct(r,a=>k(n,a),()=>i(n)),_(e,r),W()}var Hc=R('<div class="svelte-uzefkz"><!></div>');function mt(e,t){V(t,!1);const n=jc();En();var r=Hc(),s=S(r);Zs(s,{}),se(()=>Fn(r,`min-height: ${n??""}px;`)),_(e,r),W()}var zc=R('<div class="svelte-1tpcci8"><p class="svelte-1tpcci8">Something went wrong. Please reload the page</p> <!></div>');function wt(e){var t=zc(),n=A(S(t),2);Nt(n,{onClick:()=>location.reload(),children:(r,s)=>{var a=Qe("Reload");_(r,a)},$$slots:{default:!0}}),_(e,t)}var Kc=R('<div class="svelte-ndasxn"><p class="svelte-ndasxn">Page not found</p> <!></div>');function Vc(e,t){V(t,!1);const n=()=>{xt("/")};En();var r=Kc(),s=A(S(r),2);Nt(s,{element:"a",href:"/",onClick:n,children:(a,o)=>{var c=Qe("close");_(a,c)},$$slots:{default:!0}}),_(e,r),W()}var Wc=R("<!> <!>",1);function Yc(e,t){V(t,!0);const n=(z,B=zt,de)=>{let ve=br(()=>po(de?.(),!1));var X=T(),re=P(X);{var Ae=Be=>{je(Be,{children:(We,Lt)=>{Mc(We,{})},$$slots:{default:!0}})},Le=Be=>{var We=T(),Lt=P(We);{var tn=qe=>{je(qe,{children:(oe,Te)=>{var _e=T(),N=P(_e);Ye(N,L,M=>{mt(M,{})},(M,J)=>{var Z=T();const ie=D(()=>i(J).default);var Se=P(Z);Ge(Se,()=>i(ie),(ee,ge)=>{ge(ee,{})}),_(M,Z)},M=>{wt(M)}),_(oe,_e)},$$slots:{default:!0}})},Cn=qe=>{var oe=T(),Te=P(oe);{var _e=M=>{je(M,{children:(J,Z)=>{var ie=T(),Se=P(ie);Ye(Se,v,ee=>{mt(ee,{})},(ee,ge)=>{var vt=T();const nt=D(()=>i(ge).default);var ke=P(vt);Ge(ke,()=>i(nt),(Q,De)=>{De(Q,{})}),_(ee,vt)},ee=>{wt(ee)}),_(J,ie)},$$slots:{default:!0}})},N=M=>{var J=T(),Z=P(J);{var ie=ee=>{je(ee,{children:(ge,vt)=>{var nt=T(),ke=P(nt);Ye(ke,p,Q=>{mt(Q,{})},(Q,De)=>{var ce=T();const Ee=D(()=>i(De).default);var rt=P(ce);Ge(rt,()=>i(Ee),(he,at)=>{at(he,{})}),_(Q,ce)},Q=>{wt(Q)}),_(ge,nt)},$$slots:{default:!0}})},Se=ee=>{var ge=T(),vt=P(ge);{var nt=Q=>{je(Q,{children:(De,ce)=>{var Ee=T(),rt=P(Ee);Ye(rt,g,he=>{mt(he,{})},(he,at)=>{var xn=T();const xr=D(()=>i(at).default);var Nr=P(xn);Ge(Nr,()=>i(xr),(_t,nn)=>{nn(_t,{})}),_(he,xn)},he=>{wt(he)}),_(De,Ee)},$$slots:{default:!0}})},ke=Q=>{var De=T(),ce=P(De);{var Ee=he=>{je(he,{children:(at,xn)=>{Bc(at,{})},$$slots:{default:!0}})},rt=he=>{var at=T(),xn=P(at);{var xr=_t=>{je(_t,{children:(nn,ka)=>{Uc(nn,{})},$$slots:{default:!0}})},Nr=_t=>{var nn=T(),ka=P(nn);{var eo=rn=>{je(rn,{children:(tr,Ea)=>{var nr=T(),Ar=P(nr);Ye(Ar,m,Ue=>{mt(Ue,{})},(Ue,an)=>{var Nn=T();const sn=D(()=>i(an).default);var An=P(Nn);Ge(An,()=>i(sn),(Pe,gt)=>{gt(Pe,{})}),_(Ue,Nn)},Ue=>{wt(Ue)}),_(tr,nr)},$$slots:{default:!0}})},to=rn=>{var tr=T(),Ea=P(tr);{var nr=Ue=>{je(Ue,{children:(an,Nn)=>{var sn=T(),An=P(sn);Ye(An,w,Pe=>{mt(Pe,{})},(Pe,gt)=>{var Ln=T();const on=D(()=>i(gt).default);var Tn=P(Ln);Ge(Tn,()=>i(on),(Ce,Tt)=>{Tt(Ce,{})}),_(Pe,Ln)},Pe=>{wt(Pe)}),_(an,sn)},$$slots:{default:!0}})},Ar=Ue=>{var an=T(),Nn=P(an);{var sn=Pe=>{je(Pe,{children:(gt,Ln)=>{var on=T(),Tn=P(on);Ye(Tn,b,Ce=>{mt(Ce,{})},(Ce,Tt)=>{var rr=T();const ar=D(()=>i(Tt).default);var Lr=P(rr);Ge(Lr,()=>i(ar),(Dt,Tr)=>{Tr(Dt,{get hidden(){return i(ve)}})}),_(Ce,rr)},Ce=>{wt(Ce)}),_(gt,on)},$$slots:{default:!0}})},An=Pe=>{var gt=T(),Ln=P(gt);{var on=Ce=>{je(Ce,{children:(Tt,rr)=>{var ar=T(),Lr=P(ar);Ye(Lr,y,Dt=>{mt(Dt,{})},(Dt,Tr)=>{var Pa=T();const no=D(()=>i(Tr).default);var ro=P(Pa);Ge(ro,()=>i(no),(ao,so)=>{so(ao,{})}),_(Dt,Pa)},Dt=>{wt(Dt)}),_(Tt,ar)},$$slots:{default:!0}})},Tn=Ce=>{je(Ce,{children:(Tt,rr)=>{Vc(Tt,{})},$$slots:{default:!0}})};U(Ln,Ce=>{B()==="confirmAccessKey"?Ce(on):Ce(Tn,!1)},!0)}_(Pe,gt)};U(Nn,Pe=>{B()==="accessKeys"?Pe(sn):Pe(An,!1)},!0)}_(Ue,an)};U(Ea,Ue=>{B()==="signin"?Ue(nr):Ue(Ar,!1)},!0)}_(rn,tr)};U(ka,rn=>{B()==="signup"?rn(eo):rn(to,!1)},!0)}_(_t,nn)};U(xn,_t=>{B()==="auth"?_t(xr):_t(Nr,!1)},!0)}_(he,at)};U(ce,he=>{B()==="start"?he(Ee):he(rt,!1)},!0)}_(Q,De)};U(vt,Q=>{B()==="clearStorage"?Q(nt):Q(ke,!1)},!0)}_(ee,ge)};U(Z,ee=>{B()==="export"?ee(ie):ee(Se,!1)},!0)}_(M,J)};U(Te,M=>{B()==="import"?M(_e):M(N,!1)},!0)}_(qe,oe)};U(Lt,qe=>{B()==="newNote"?qe(tn):qe(Cn,!1)},!0)}_(Be,We)};U(re,Be=>{B()==="settings"?Be(Ae):Be(Le,!1)})}_(z,X)};let r=D(tl),s=D(Cr),a=null,o=null,c=null,l=null,u=null,f=null,h=null,d=null;function v(){return a||(a=Je(()=>import("./ImportData-BvgjYcg5.js"),__vite__mapDeps([6,7]))),a}function p(){return o||(o=Je(()=>import("./ExportData-C9uFhGOj.js"),__vite__mapDeps([8,9,10,11]))),o}function g(){return c||(c=Je(()=>import("./ClearStore-Du7E67k0.js"),__vite__mapDeps([12,13]))),c}function m(){return l||(l=Je(()=>import("./Signup-C4xpaa_y.js"),__vite__mapDeps([14,15,16]))),l}function w(){return u||(u=Je(()=>import("./Signin-xONxcaxA.js"),__vite__mapDeps([17,15,16]))),u}function b(){return f||(f=Je(()=>import("./AccessKeys-DXCsAQ9J.js"),__vite__mapDeps([18,15,19]))),f}function y(){return h||(h=Je(()=>import("./ConfirmAccessKey-CgDjAnCd.js"),__vite__mapDeps([20,15,21,22,23]))),h}function L(){return d||(d=Je(()=>import("./NewNote-CpEfdTZp.js"),__vite__mapDeps([24,21,22,9,10,25]))),d}var x=Wc(),E=P(x);{var I=z=>{kc(z)};U(E,z=>{i(s)&&z(I)})}var F=A(E,2);{var Re=z=>{var B=T(),de=P(B);un(de,17,()=>i(r),Ci,(ve,X,re)=>{{let Ae=D(()=>re!==i(r).length-1&&!!i(r)[re+1]?.shown);Fa(ve,{get shown(){return i(X).shown},get hidden(){return i(Ae)},isLastDialog:re===0,children:(Le,Be)=>{{let We=D(()=>re!==i(r).length-1&&!!i(r)[re+1]?.shown);n(Le,()=>i(X).page,()=>i(We))}},$$slots:{default:!0}})}}),_(z,B)},ne=z=>{var B=T(),de=P(B);{var ve=X=>{{let re=D(()=>i(r).length===1);Fa(X,{onBack:()=>Rs(),get shown(){return i(r)[i(r).length-1].shown},hidden:!1,get isLastDialog(){return i(re)},children:(Ae,Le)=>{n(Ae,()=>i(r)[i(r).length-1].page)},$$slots:{default:!0}})}};U(de,X=>{i(r).length>0&&X(ve)},!0)}_(z,B)};U(F,z=>{Pn()?z(Re):z(ne,!1)})}_(e,x),W()}const On=ue({working:!1,swipingRatio:1,isSwiping:!1,duration:.35});let ea=!1;const jr=()=>{document.activeElement instanceof HTMLInputElement&&document.activeElement.type==="text"||document.activeElement instanceof HTMLTextAreaElement?ea=!0:ea=!1},Gc=()=>ea;function Jc(){const e=navigator.userAgent;if(!(/iPad|iPhone|iPod/.test(e)&&!window.MSStream))return!1;const n=/Safari/.test(e)&&!/Chrome/.test(e)&&!/CriOS/.test(e)&&!/FxiOS/.test(e),r=/Macintosh/.test(e)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>1;return!!n||!!r}const Zc=Jc();function Xc(e,t){V(t,!1),be(()=>{jr(),document.addEventListener("focusin",jr),document.addEventListener("focusout",jr),document.addEventListener("touchmove",function(n){Gc()&&Zc&&n.preventDefault()},{passive:!1})}),En(),W()}function Qc(e,t){V(t,!1);let n=0;be(()=>{document.querySelector("div"),document.addEventListener("touchstart",r=>{n=r.touches[0].clientX},{passive:!1}),document.addEventListener("touchmove",r=>{const a=r.touches[0].clientX-n;(n<50&&a>0||n>window.innerWidth-50&&a<0)&&r.preventDefault()},{passive:!1}),document.addEventListener("touchend",()=>{n=0}),document.addEventListener("touchcancel",()=>{n=0})}),En(),W()}var eu=R('<!> <!> <!> <main><!> <div class="container svelte-ngsolt"><!></div></main>',1);function tu(e,t){V(t,!0),be(async()=>{await new Promise(v=>setTimeout(v,100)),await di(),On.working=!0});let n=D(()=>et().length>0),r=D(Cr);var s=eu(),a=P(s);Qc(a,{});var o=A(a,2);Xc(o,{});var c=A(o,2);ji(c,{});var l=A(c,2),u=S(l);{var f=v=>{sl(v,{})};U(u,v=>{i(r)&&v(f)})}var h=A(u,2),d=S(h);Yc(d,{}),Ct(l,v=>Qr.ref=v,()=>Qr?.ref),se(()=>{Fn(l,`--swiping-ratio: ${On.swipingRatio}; --transition-timing-default: ${On.duration}s;`),G(l,1,Y(["main",{isAnimationOn:On.working&&!On.isSwiping,open:i(n)}]),"svelte-ngsolt")}),_(e,s),W()}window.addEventListener("unhandledrejection",e=>{alert("Error: "+e.reason.message)});window.isUnsupportedBrowser||ki(tu,{target:document.getElementById("app")});export{Cr as $,_l as A,Nt as B,su as C,fu as D,ue as E,ja as F,iu as G,vu as H,ou as I,lu as J,un as K,Zs as L,fe as M,le as N,Pr as O,Ci as P,D as Q,Me as R,et as S,C as T,pl as U,Hn as V,cu as W,Rs as X,Qi as Y,ye as Z,Mi as _,i as a,lr as a0,En as a1,uu as a2,au as a3,we as a4,Br as a5,qr as a6,Fn as a7,On as a8,Gc as a9,Pt as aa,ec as ab,hu as ac,ql as ad,jc as ae,tl as af,Ls as ag,zi as ah,O as b,S as c,_ as d,W as e,R as f,Nl as g,A as h,U as i,P as j,Pn as k,T as l,Ct as m,k as n,be as o,V as p,se as q,G as r,Rn as s,Qe as t,it as u,Y as v,yi as w,tt as x,du as y,Ms as z};
