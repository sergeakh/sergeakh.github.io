import{p as $,u as P,s as w,g as i,a as E,o as A,f as C,i as x,c as d,b as s,d as F,e as f,h,S as J,m as _,B as S,t as b,k as B,A as z,C as I,D as q,E as G,L as K,z as Q}from"./index-C9vv4zUQ.js";var V=C('<p class="message svelte-8vhup1">Export items</p> <div class="format-switcher svelte-8vhup1"><!> <p class="format-description svelte-8vhup1"><!></p></div> <div class="buttonContainer svelte-8vhup1"><!></div>',1),W=C('<p class="message svelte-8vhup1">Exporting data...</p> <div class="buttonContainer svelte-8vhup1"><!></div>',1),X=C('<p class="message svelte-8vhup1">Items exported successfully!</p> <div class="buttonContainer svelte-8vhup1"><!></div>',1),Y=C('<div class="content svelte-8vhup1"><!></div>');function te(D,j){$(j,!0);let o=E("idle"),g=E("html");const M=()=>{Q()};P(()=>{w(i(o)==="loading")}),A(()=>()=>{w(!1)});const T=async()=>{_(o,"loading"),setTimeout(async()=>{if(i(g)==="json")await z(I()).finally(()=>{_(o,"success")});else try{const t=q(G()),l=new Blob([t],{type:"text/html"}),v=URL.createObjectURL(l),a=document.createElement("a");a.href=v,a.download=`items_${new Date().toLocaleDateString().replace(/\//g,"_")}.html`,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(v),_(o,"success")}catch(t){console.error("Error exporting as HTML:",t),_(o,"success")}},0)};var y=Y(),H=d(y);{var N=t=>{var l=V(),v=f(h(l),2),a=d(v);J(a,{items:[{title:"HTML",value:"html"},{title:"JSON",value:"json"}],get value(){return i(g)},onChange:e=>{_(g,e,!0)}});var k=f(a,2),r=d(k);{var n=e=>{var c=b("JSON format (App compatible, a faster format)");s(e,c)},p=e=>{var c=b("HTML format (Browser compatible)");s(e,c)};x(r,e=>{i(g)==="json"?e(n):e(p,!1)})}var u=f(v,2),m=d(u);S(m,{onClick:T,children:(e,c)=>{var L=b("Export");s(e,L)},$$slots:{default:!0}}),s(t,l)},O=t=>{var l=B(),v=h(l);{var a=r=>{var n=W(),p=f(h(n),2),u=d(p);K(u,{}),s(r,n)},k=r=>{var n=B(),p=h(n);{var u=m=>{var e=X(),c=f(h(e),2),L=d(c);S(L,{onClick:M,children:(R,Z)=>{var U=b("Close");s(R,U)},$$slots:{default:!0}}),s(m,e)};x(p,m=>{i(o)==="success"&&m(u)},!0)}s(r,n)};x(v,r=>{i(o)==="loading"?r(a):r(k,!1)},!0)}s(t,l)};x(H,t=>{i(o)==="idle"?t(N):t(O,!1)})}s(D,y),F()}export{te as default};
