const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/MobileDialog-t_8Mx0An.js","assets/MobileDialog-DemsJRVL.css","assets/DesktopDialog-C7artnjM.js","assets/DesktopDialog-D8zTl_PA.css","assets/MobileSidebar-DsTkbRaR.js","assets/MobileSidebar-BNh7a5G6.css","assets/ImportData-BbdZyBKr.js","assets/ImportData-CZGzVRRc.css","assets/ExportData-CYDmNNep.js","assets/Switcher-C46GbgTW.js","assets/Switcher-BrVng3kJ.css","assets/ExportData-SlkOBNhU.css","assets/ClearStore-luIEcTSx.js","assets/ClearStore-DiVqV26R.css","assets/Signup-CcFoX9d1.js","assets/api-7nXQQ8YG.js","assets/Signup-CnX7iJxK.css","assets/Signin-Baiq5Qoy.js","assets/AccessKeys-BtxTq92F.js","assets/AccessKeys-DF5NA1tk.css","assets/ConfirmAccessKey-DVteLREc.js","assets/Input-BkivjUGP.js","assets/Input-B5Z7Girm.css","assets/ConfirmAccessKey-BEOXyioc.css","assets/NewNote-CY7pkuuo.js","assets/NewNote-C8Q5vP2H.css"])))=>i.map(i=>d[i]);
var go=Object.defineProperty;var La=e=>{throw TypeError(e)};var mo=(e,t,n)=>t in e?go(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Mn=(e,t,n)=>mo(e,typeof t!="symbol"?t+"":t,n),Or=(e,t,n)=>t.has(e)||La("Cannot "+n);var V=(e,t,n)=>(Or(e,t,"read from private field"),n?n.call(e):t.get(e)),Ce=(e,t,n)=>t.has(e)?La("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Be=(e,t,n,r)=>(Or(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),At=(e,t,n)=>(Or(e,t,"access private method"),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();const Ga=!1;var ra=Array.isArray,wo=Array.prototype.indexOf,aa=Array.from,Kr=Object.defineProperty,dn=Object.getOwnPropertyDescriptor,Ya=Object.getOwnPropertyDescriptors,yo=Object.prototype,bo=Array.prototype,sa=Object.getPrototypeOf,Ta=Object.isExtensible;const Ht=()=>{};function So(e){return typeof e?.then=="function"}function ko(e){return e()}function vr(e){for(var t=0;t<e.length;t++)e[t]()}function Eo(){var e,t,n=new Promise((r,s)=>{e=r,t=s});return{promise:n,resolve:e,reject:t}}function Po(e,t,n=!1){return e===void 0?n?t():t:e}const Te=2,oa=4,yr=8,Yn=16,vt=32,Wt=64,Za=128,$e=256,hr=512,_e=1024,qe=2048,Nt=4096,Ye=8192,Gt=16384,ia=32768,Zn=65536,Aa=1<<17,Co=1<<18,la=1<<19,ca=1<<20,zr=1<<21,ua=1<<22,Rt=1<<23,Bt=Symbol("$state"),No=Symbol("legacy props"),xo=Symbol(""),fa=new class extends Error{constructor(){super(...arguments);Mn(this,"name","StaleReactionError");Mn(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function Lo(){throw new Error("https://svelte.dev/e/await_outside_boundary")}function To(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Ao(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Do(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Io(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Mo(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Oo(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Ro(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function Bo(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Fo(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Uo(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}const br=1,Sr=2,Ja=4,jo=8,$o=16,Ho=1,qo=2,Ko=4,zo=8,Vo=16,Wo=1,Go=2,ue=Symbol(),Yo="http://www.w3.org/1999/xhtml";let Zo=!1;function Xa(e){return e===this.v}function Jo(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Qa(e){return!Jo(e,this.v)}let Pn=!1,Xo=!1;function Qo(){Pn=!0}let ee=null;function wn(e){ee=e}function G(e,t=!1,n){ee={p:ee,c:null,e:null,s:e,x:null,l:Pn&&!t?{s:null,u:null,$:[]}:null}}function Y(e){var t=ee,n=t.e;if(n!==null){t.e=null;for(var r of n)hs(r)}return e!==void 0&&(t.x=e),ee=t.p,e??{}}function Yt(){return!Pn||ee!==null&&ee.l===null}const ei=new WeakMap;function ti(e){var t=K;if(t===null)return q.f|=Rt,e;if((t.f&ia)===0){if((t.f&Za)===0)throw!t.parent&&e instanceof Error&&es(e),e;t.b.error(e)}else da(e,t)}function da(e,t){for(;t!==null;){if((t.f&Za)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e instanceof Error&&es(e),e}function es(e){const t=ei.get(e);t&&(Kr(e,"message",{value:t.message}),Kr(e,"stack",{value:t.stack}))}let jn=[],Vr=[];function ts(){var e=jn;jn=[],vr(e)}function ni(){var e=Vr;Vr=[],vr(e)}function kr(e){jn.length===0&&queueMicrotask(ts),jn.push(e)}function ri(){jn.length>0&&ts(),Vr.length>0&&ni()}function ai(){for(var e=K.b;e!==null&&!e.has_pending_snippet();)e=e.parent;return e===null&&Lo(),e}function Jn(e){var t=Te|qe,n=q!==null&&(q.f&Te)!==0?q:null;return K===null||n!==null&&(n.f&$e)!==0?t|=$e:K.f|=la,{ctx:ee,deps:null,effects:null,equals:Xa,f:t,fn:e,reactions:null,rv:0,v:ue,wv:0,parent:n??K,ac:null}}function si(e,t){let n=K;n===null&&Ao();var r=n.b,s=void 0,a=zt(ue),i=null,c=!q;return gi(()=>{try{var l=e()}catch(p){l=Promise.reject(p)}var u=()=>l;s=i?.then(u,u)??Promise.resolve(l),i=s;var f=W,v=r.pending;c&&(r.update_pending_count(1),v||f.increment());const d=(p,h=void 0)=>{i=null,v||f.activate(),h?h!==fa&&(a.f|=Rt,kt(a,h)):((a.f&Rt)!==0&&(a.f^=Rt),kt(a,p)),c&&(r.update_pending_count(-1),v||f.decrement()),as()};if(s.then(d,p=>d(null,p||"unknown")),f)return()=>{queueMicrotask(()=>f.neuter())}}),new Promise(l=>{function u(f){function v(){f===s?l(a):u(s)}f.then(v,v)}u(s)})}function D(e){const t=Jn(e);return ys(t),t}function Er(e){const t=Jn(e);return t.equals=Qa,t}function ns(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)ot(t[n])}}function oi(e){for(var t=e.parent;t!==null;){if((t.f&Te)===0)return t;t=t.parent}return null}function va(e){var t,n=K;it(oi(e));try{ns(e),t=Es(e)}finally{it(n)}return t}function rs(e){var t=va(e);if(e.equals(t)||(e.v=t,e.wv=Ss()),!Jt)if(yn!==null)yn.set(e,e.v);else{var n=(bt||(e.f&$e)!==0)&&e.deps!==null?Nt:_e;Ne(e,n)}}function ii(e,t,n){const r=Yt()?Jn:Er;if(t.length===0){n(e.map(r));return}var s=W,a=K,i=li(),c=ai();Promise.all(t.map(l=>si(l))).then(l=>{s?.activate(),i();try{n([...e.map(r),...l])}catch(u){(a.f&Gt)===0&&da(u,a)}s?.deactivate(),as()}).catch(l=>{c.error(l)})}function li(){var e=K,t=q,n=ee;return function(){it(e),Ke(t),wn(n)}}function as(){it(null),Ke(null),wn(null)}const On=new Set;let W=null,cr=null,yn=null,Da=new Set,pr=[];function ss(){const e=pr.shift();pr.length>0&&queueMicrotask(ss),e()}let qt=[],Pr=null,Wr=!1,ur=!1;var pn,_n,wt,zn,Vn,Mt,gn,Ot,yt,mn,Wn,Gn,Ze,os,fr,Gr;const wr=class wr{constructor(){Ce(this,Ze);Mn(this,"current",new Map);Ce(this,pn,new Map);Ce(this,_n,new Set);Ce(this,wt,0);Ce(this,zn,null);Ce(this,Vn,!1);Ce(this,Mt,[]);Ce(this,gn,[]);Ce(this,Ot,[]);Ce(this,yt,[]);Ce(this,mn,[]);Ce(this,Wn,[]);Ce(this,Gn,[]);Mn(this,"skipped_effects",new Set)}process(t){qt=[],cr=null;var n=null;if(On.size>1){n=new Map,yn=new Map;for(const[a,i]of this.current)n.set(a,{v:a.v,wv:a.wv}),a.v=i;for(const a of On)if(a!==this)for(const[i,c]of V(a,pn))n.has(i)||(n.set(i,{v:i.v,wv:i.wv}),i.v=c)}for(const a of t)At(this,Ze,os).call(this,a);if(V(this,Mt).length===0&&V(this,wt)===0){At(this,Ze,Gr).call(this);var r=V(this,Ot),s=V(this,yt);Be(this,Ot,[]),Be(this,yt,[]),Be(this,mn,[]),cr=W,W=null,Ia(r),Ia(s),W===null?W=this:On.delete(this),V(this,zn)?.resolve()}else At(this,Ze,fr).call(this,V(this,Ot)),At(this,Ze,fr).call(this,V(this,yt)),At(this,Ze,fr).call(this,V(this,mn));if(n){for(const[a,{v:i,wv:c}]of n)a.wv<=c&&(a.v=i);yn=null}for(const a of V(this,Mt))Un(a);for(const a of V(this,gn))Un(a);Be(this,Mt,[]),Be(this,gn,[])}capture(t,n){V(this,pn).has(t)||V(this,pn).set(t,n),this.current.set(t,t.v)}activate(){W=this}deactivate(){W=null,cr=null;for(const t of Da)if(Da.delete(t),t(),W!==null)break}neuter(){Be(this,Vn,!0)}flush(){qt.length>0?ls():At(this,Ze,Gr).call(this),W===this&&(V(this,wt)===0&&On.delete(this),this.deactivate())}increment(){Be(this,wt,V(this,wt)+1)}decrement(){if(Be(this,wt,V(this,wt)-1),V(this,wt)===0){for(const t of V(this,Wn))Ne(t,qe),Kt(t);for(const t of V(this,Gn))Ne(t,Nt),Kt(t);Be(this,Ot,[]),Be(this,yt,[]),this.flush()}else this.deactivate()}add_callback(t){V(this,_n).add(t)}settled(){return(V(this,zn)??Be(this,zn,Eo())).promise}static ensure(){if(W===null){const t=W=new wr;On.add(W),ur||wr.enqueue(()=>{W===t&&t.flush()})}return W}static enqueue(t){pr.length===0&&queueMicrotask(ss),pr.unshift(t)}};pn=new WeakMap,_n=new WeakMap,wt=new WeakMap,zn=new WeakMap,Vn=new WeakMap,Mt=new WeakMap,gn=new WeakMap,Ot=new WeakMap,yt=new WeakMap,mn=new WeakMap,Wn=new WeakMap,Gn=new WeakMap,Ze=new WeakSet,os=function(t){t.f^=_e;for(var n=t.first;n!==null;){var r=n.f,s=(r&(vt|Wt))!==0,a=s&&(r&_e)!==0,i=a||(r&Ye)!==0||this.skipped_effects.has(n);if(!i&&n.fn!==null){if(s)n.f^=_e;else if((r&_e)===0)if((r&oa)!==0)V(this,yt).push(n);else if((r&ua)!==0){var c=n.b?.pending?V(this,gn):V(this,Mt);c.push(n)}else Nr(n)&&((n.f&Yn)!==0&&V(this,mn).push(n),Un(n));var l=n.first;if(l!==null){n=l;continue}}var u=n.parent;for(n=n.next;n===null&&u!==null;)n=u.next,u=u.parent}},fr=function(t){for(const n of t)((n.f&qe)!==0?V(this,Wn):V(this,Gn)).push(n),Ne(n,_e);t.length=0},Gr=function(){if(!V(this,Vn))for(const t of V(this,_n))t();V(this,_n).clear()};let $n=wr;function is(e){var t=ur;ur=!0;try{for(var n;;){if(ri(),qt.length===0&&(W?.flush(),qt.length===0))return Pr=null,n;ls()}}finally{ur=t}}function ls(){var e=hn;Wr=!0;try{var t=0;for(Oa(!0);qt.length>0;){var n=$n.ensure();if(t++>1e3){var r,s;ci()}n.process(qt),Ft.clear()}}finally{Wr=!1,Oa(e),Pr=null}}function ci(){try{Oo()}catch(e){da(e,Pr)}}function Ia(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if((r.f&(Gt|Ye))===0&&Nr(r)){var s=W?W.current.size:0;if(Un(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?gs(r):r.fn=null),W!==null&&W.current.size>s&&(r.f&ca)!==0)break}}for(;n<t;)Kt(e[n++])}}function Kt(e){for(var t=Pr=e;t.parent!==null;){t=t.parent;var n=t.f;if(Wr&&t===K&&(n&Yn)!==0)return;if((n&(Wt|vt))!==0){if((n&_e)===0)return;t.f^=_e}}qt.push(t)}const Ft=new Map;function zt(e,t){var n={f:0,v:e,reactions:null,equals:Xa,rv:0,wv:0};return n}function I(e,t){const n=zt(e);return ys(n),n}function Yr(e,t=!1,n=!0){var s;const r=zt(e);return t||(r.equals=Qa),Pn&&n&&ee!==null&&ee.l!==null&&((s=ee.l).s??(s.s=[])).push(r),r}function k(e,t,n=!1){q!==null&&(!at||(q.f&Aa)!==0)&&Yt()&&(q.f&(Te|Yn|ua|Aa))!==0&&!ft?.includes(e)&&Uo();let r=n?se(t):t;return kt(e,r)}function kt(e,t){if(!e.equals(t)){var n=e.v;Jt?Ft.set(e,t):Ft.set(e,n),e.v=t;var r=$n.ensure();r.capture(e,n),(e.f&Te)!==0&&((e.f&qe)!==0&&va(e),Ne(e,(e.f&$e)===0?_e:Nt)),e.wv=Ss(),cs(e,qe),Yt()&&K!==null&&(K.f&_e)!==0&&(K.f&(vt|Wt))===0&&(Ue===null?yi([e]):Ue.push(e))}return t}function Rr(e){k(e,e.v+1)}function cs(e,t){var n=e.reactions;if(n!==null)for(var r=Yt(),s=n.length,a=0;a<s;a++){var i=n[a],c=i.f;if(!(!r&&i===K)){var l=(c&qe)===0;l&&Ne(i,t),(c&Te)!==0?cs(i,Nt):l&&Kt(i)}}}function se(e){if(typeof e!="object"||e===null||Bt in e)return e;const t=sa(e);if(t!==yo&&t!==bo)return e;var n=new Map,r=ra(e),s=I(0),a=jt,i=c=>{if(jt===a)return c();var l=q,u=jt;Ke(null),Ba(a);var f=c();return Ke(l),Ba(u),f};return r&&n.set("length",I(e.length)),new Proxy(e,{defineProperty(c,l,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&Bo();var f=n.get(l);return f===void 0?f=i(()=>{var v=I(u.value);return n.set(l,v),v}):k(f,u.value,!0),!0},deleteProperty(c,l){var u=n.get(l);if(u===void 0){if(l in c){const f=i(()=>I(ue));n.set(l,f),Rr(s)}}else k(u,ue),Rr(s);return!0},get(c,l,u){if(l===Bt)return e;var f=n.get(l),v=l in c;if(f===void 0&&(!v||dn(c,l)?.writable)&&(f=i(()=>{var p=se(v?c[l]:ue),h=I(p);return h}),n.set(l,f)),f!==void 0){var d=o(f);return d===ue?void 0:d}return Reflect.get(c,l,u)},getOwnPropertyDescriptor(c,l){var u=Reflect.getOwnPropertyDescriptor(c,l);if(u&&"value"in u){var f=n.get(l);f&&(u.value=o(f))}else if(u===void 0){var v=n.get(l),d=v?.v;if(v!==void 0&&d!==ue)return{enumerable:!0,configurable:!0,value:d,writable:!0}}return u},has(c,l){if(l===Bt)return!0;var u=n.get(l),f=u!==void 0&&u.v!==ue||Reflect.has(c,l);if(u!==void 0||K!==null&&(!f||dn(c,l)?.writable)){u===void 0&&(u=i(()=>{var d=f?se(c[l]):ue,p=I(d);return p}),n.set(l,u));var v=o(u);if(v===ue)return!1}return f},set(c,l,u,f){var v=n.get(l),d=l in c;if(r&&l==="length")for(var p=u;p<v.v;p+=1){var h=n.get(p+"");h!==void 0?k(h,ue):p in c&&(h=i(()=>I(ue)),n.set(p+"",h))}if(v===void 0)(!d||dn(c,l)?.writable)&&(v=i(()=>I(void 0)),k(v,se(u)),n.set(l,v));else{d=v.v!==ue;var m=i(()=>se(u));k(v,m)}var y=Reflect.getOwnPropertyDescriptor(c,l);if(y?.set&&y.set.call(f,u),!d){if(r&&typeof l=="string"){var g=n.get("length"),w=Number(l);Number.isInteger(w)&&w>=g.v&&k(g,w+1)}Rr(s)}return!0},ownKeys(c){o(s);var l=Reflect.ownKeys(c).filter(v=>{var d=n.get(v);return d===void 0||d.v!==ue});for(var[u,f]of n)f.v!==ue&&!(u in c)&&l.push(u);return l},setPrototypeOf(){Fo()}})}var Ma,us,fs,ds;function ui(){if(Ma===void 0){Ma=window,us=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;fs=dn(t,"firstChild").get,ds=dn(t,"nextSibling").get,Ta(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Ta(n)&&(n.__t=void 0)}}function Zt(e=""){return document.createTextNode(e)}function bn(e){return fs.call(e)}function Cr(e){return ds.call(e)}function b(e,t){return bn(e)}function L(e,t){{var n=bn(e);return n instanceof Comment&&n.data===""?Cr(n):n}}function A(e,t=1,n=!1){let r=e;for(;t--;)r=Cr(r);return r}function fi(e){e.textContent=""}function ha(){return!1}function vs(e){K===null&&q===null&&Mo(),q!==null&&(q.f&$e)!==0&&K===null&&Io(),Jt&&Do()}function di(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function lt(e,t,n,r=!0){var s=K;s!==null&&(s.f&Ye)!==0&&(e|=Ye);var a={ctx:ee,deps:null,nodes_start:null,nodes_end:null,f:e|qe,first:null,fn:t,last:null,next:null,parent:s,b:s&&s.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{Un(a),a.f|=ia}catch(l){throw ot(a),l}else t!==null&&Kt(a);var i=n&&a.deps===null&&a.first===null&&a.nodes_start===null&&a.teardown===null&&(a.f&la)===0;if(!i&&r&&(s!==null&&di(a,s),q!==null&&(q.f&Te)!==0&&(e&Wt)===0)){var c=q;(c.effects??(c.effects=[])).push(a)}return a}function vi(e){const t=lt(yr,null,!1);return Ne(t,_e),t.teardown=e,t}function je(e){vs();var t=K.f,n=!q&&(t&vt)!==0&&(t&ia)===0;if(n){var r=ee;(r.e??(r.e=[])).push(e)}else return hs(e)}function hs(e){return lt(oa|ca,e,!1)}function hi(e){return vs(),lt(yr|ca,e,!0)}function pi(e){$n.ensure();const t=lt(Wt,e,!0);return(n={})=>new Promise(r=>{n.outro?Ut(t,()=>{ot(t),r(void 0)}):(ot(t),r(void 0))})}function _i(e){return lt(oa,e,!1)}function gi(e){return lt(ua|la,e,!0)}function pa(e,t=0){return lt(yr|t,e,!0)}function te(e,t=[],n=[]){ii(t,n,r=>{lt(yr,()=>e(...r.map(o)),!0)})}function Xn(e,t=0){var n=lt(Yn|t,e,!0);return n}function st(e,t=!0){return lt(vt,e,!0,t)}function ps(e){var t=e.teardown;if(t!==null){const n=Jt,r=q;Ra(!0),Ke(null);try{t.call(null)}finally{Ra(n),Ke(r)}}}function _s(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){n.ac?.abort(fa);var r=n.next;(n.f&Wt)!==0?n.parent=null:ot(n,t),n=r}}function mi(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&vt)===0&&ot(t),t=n}}function ot(e,t=!0){var n=!1;(t||(e.f&Co)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(wi(e.nodes_start,e.nodes_end),n=!0),_s(e,t&&!n),_r(e,0),Ne(e,Gt);var r=e.transitions;if(r!==null)for(const a of r)a.stop();ps(e);var s=e.parent;s!==null&&s.first!==null&&gs(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function wi(e,t){for(;e!==null;){var n=e===t?null:Cr(e);e.remove(),e=n}}function gs(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function Ut(e,t){var n=[];_a(e,n,!0),ms(n,()=>{ot(e),t&&t()})}function ms(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var s of e)s.out(r)}else t()}function _a(e,t,n){if((e.f&Ye)===0){if(e.f^=Ye,e.transitions!==null)for(const i of e.transitions)(i.is_global||n)&&t.push(i);for(var r=e.first;r!==null;){var s=r.next,a=(r.f&Zn)!==0||(r.f&vt)!==0;_a(r,t,a?n:!1),r=s}}}function vn(e){ws(e,!0)}function ws(e,t){if((e.f&Ye)!==0){e.f^=Ye,(e.f&_e)===0&&(Ne(e,qe),Kt(e));for(var n=e.first;n!==null;){var r=n.next,s=(n.f&Zn)!==0||(n.f&vt)!==0;ws(n,s?t:!1),n=r}if(e.transitions!==null)for(const a of e.transitions)(a.is_global||t)&&a.in()}}let hn=!1;function Oa(e){hn=e}let Jt=!1;function Ra(e){Jt=e}let q=null,at=!1;function Ke(e){q=e}let K=null;function it(e){K=e}let ft=null;function ys(e){q!==null&&(ft===null?ft=[e]:ft.push(e))}let ge=null,Le=0,Ue=null;function yi(e){Ue=e}let bs=1,Hn=0,jt=Hn;function Ba(e){jt=e}let bt=!1;function Ss(){return++bs}function Nr(e){var t=e.f;if((t&qe)!==0)return!0;if((t&Nt)!==0){var n=e.deps,r=(t&$e)!==0;if(n!==null){var s,a,i=(t&hr)!==0,c=r&&K!==null&&!bt,l=n.length;if((i||c)&&(K===null||(K.f&Gt)===0)){var u=e,f=u.parent;for(s=0;s<l;s++)a=n[s],(i||!a?.reactions?.includes(u))&&(a.reactions??(a.reactions=[])).push(u);i&&(u.f^=hr),c&&f!==null&&(f.f&$e)===0&&(u.f^=$e)}for(s=0;s<l;s++)if(a=n[s],Nr(a)&&rs(a),a.wv>e.wv)return!0}(!r||K!==null&&!bt)&&Ne(e,_e)}return!1}function ks(e,t,n=!0){var r=e.reactions;if(r!==null&&!ft?.includes(e))for(var s=0;s<r.length;s++){var a=r[s];(a.f&Te)!==0?ks(a,t,!1):t===a&&(n?Ne(a,qe):(a.f&_e)!==0&&Ne(a,Nt),Kt(a))}}function Es(e){var h;var t=ge,n=Le,r=Ue,s=q,a=bt,i=ft,c=ee,l=at,u=jt,f=e.f;ge=null,Le=0,Ue=null,bt=(f&$e)!==0&&(at||!hn||q===null),q=(f&(vt|Wt))===0?e:null,ft=null,wn(e.ctx),at=!1,jt=++Hn,e.ac!==null&&(e.ac.abort(fa),e.ac=null);try{e.f|=zr;var v=(0,e.fn)(),d=e.deps;if(ge!==null){var p;if(_r(e,Le),d!==null&&Le>0)for(d.length=Le+ge.length,p=0;p<ge.length;p++)d[Le+p]=ge[p];else e.deps=d=ge;if(!bt||(f&Te)!==0&&e.reactions!==null)for(p=Le;p<d.length;p++)((h=d[p]).reactions??(h.reactions=[])).push(e)}else d!==null&&Le<d.length&&(_r(e,Le),d.length=Le);if(Yt()&&Ue!==null&&!at&&d!==null&&(e.f&(Te|Nt|qe))===0)for(p=0;p<Ue.length;p++)ks(Ue[p],e);return s!==null&&s!==e&&(Hn++,Ue!==null&&(r===null?r=Ue:r.push(...Ue))),(e.f&Rt)!==0&&(e.f^=Rt),v}catch(m){return ti(m)}finally{e.f^=zr,ge=t,Le=n,Ue=r,q=s,bt=a,ft=i,wn(c),at=l,jt=u}}function bi(e,t){let n=t.reactions;if(n!==null){var r=wo.call(n,e);if(r!==-1){var s=n.length-1;s===0?n=t.reactions=null:(n[r]=n[s],n.pop())}}n===null&&(t.f&Te)!==0&&(ge===null||!ge.includes(t))&&(Ne(t,Nt),(t.f&($e|hr))===0&&(t.f^=hr),ns(t),_r(t,0))}function _r(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)bi(e,n[r])}function Un(e){var t=e.f;if((t&Gt)===0){Ne(e,_e);var n=K,r=hn;K=e,hn=!0;try{(t&Yn)!==0?mi(e):_s(e),ps(e);var s=Es(e);e.teardown=typeof s=="function"?s:null,e.wv=bs;var a;Ga&&Xo&&(e.f&qe)!==0&&e.deps}finally{hn=r,K=n}}}async function Si(){await Promise.resolve(),is()}function o(e){var t=e.f,n=(t&Te)!==0;if(q!==null&&!at){var r=K!==null&&(K.f&Gt)!==0;if(!r&&!ft?.includes(e)){var s=q.deps;if((q.f&zr)!==0)e.rv<Hn&&(e.rv=Hn,ge===null&&s!==null&&s[Le]===e?Le++:ge===null?ge=[e]:(!bt||!ge.includes(e))&&ge.push(e));else{(q.deps??(q.deps=[])).push(e);var a=e.reactions;a===null?e.reactions=[q]:a.includes(q)||a.push(q)}}}else if(n&&e.deps===null&&e.effects===null){var i=e,c=i.parent;c!==null&&(c.f&$e)===0&&(i.f^=$e)}if(Jt){if(Ft.has(e))return Ft.get(e);if(n){i=e;var l=i.v;return((i.f&_e)===0&&i.reactions!==null||Ps(i))&&(l=va(i)),Ft.set(i,l),l}}else if(n){if(i=e,yn?.has(i))return yn.get(i);Nr(i)&&rs(i)}if((e.f&Rt)!==0)throw e.v;return e.v}function Ps(e){if(e.v===ue)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(Ft.has(t)||(t.f&Te)!==0&&Ps(t))return!0;return!1}function Vt(e){var t=at;try{return at=!0,e()}finally{at=t}}const ki=-7169;function Ne(e,t){e.f=e.f&ki|t}function Ei(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Bt in e)Zr(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&Bt in n&&Zr(n)}}}function Zr(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{Zr(e[r],t)}catch{}const n=sa(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=Ya(n);for(let s in r){const a=r[s].get;if(a)try{a.call(e)}catch{}}}}}const Pi=["touchstart","touchmove"];function Ci(e){return Pi.includes(e)}let Fa=!1;function Ni(){Fa||(Fa=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function Cs(e){var t=q,n=K;Ke(null),it(null);try{return e()}finally{Ke(t),it(n)}}function xi(e,t,n,r=n){e.addEventListener(t,()=>Cs(n));const s=e.__on_r;s?e.__on_r=()=>{s(),r(!0)}:e.__on_r=()=>r(!0),Ni()}const Ns=new Set,Jr=new Set;function Li(e,t,n,r={}){function s(a){if(r.capture||Bn.call(t,a),!a.cancelBubble)return Cs(()=>n?.call(this,a))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?kr(()=>{t.addEventListener(e,s,r)}):t.addEventListener(e,s,r),s}function xs(e,t,n,r,s){var a={capture:r,passive:s},i=Li(e,t,n,a);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&vi(()=>{t.removeEventListener(e,i,a)})}function De(e){for(var t=0;t<e.length;t++)Ns.add(e[t]);for(var n of Jr)n(e)}function Bn(e){var t=this,n=t.ownerDocument,r=e.type,s=e.composedPath?.()||[],a=s[0]||e.target,i=0,c=e.__root;if(c){var l=s.indexOf(c);if(l!==-1&&(t===document||t===window)){e.__root=t;return}var u=s.indexOf(t);if(u===-1)return;l<=u&&(i=l)}if(a=s[i]||e.target,a!==t){Kr(e,"currentTarget",{configurable:!0,get(){return a||n}});var f=q,v=K;Ke(null),it(null);try{for(var d,p=[];a!==null;){var h=a.assignedSlot||a.parentNode||a.host||null;try{var m=a["__"+r];if(m!=null&&(!a.disabled||e.target===a))if(ra(m)){var[y,...g]=m;y.apply(a,[e,...g])}else m.call(a,e)}catch(w){d?p.push(w):d=w}if(e.cancelBubble||h===t||h===null)break;a=h}if(d){for(let w of p)queueMicrotask(()=>{throw w});throw d}}finally{e.__root=t,delete e.currentTarget,Ke(f),it(v)}}}function Ls(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function qn(e,t){var n=K;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function R(e,t){var n=(t&Wo)!==0,r=(t&Go)!==0,s,a=!e.startsWith("<!>");return()=>{s===void 0&&(s=Ls(a?e:"<!>"+e),n||(s=bn(s)));var i=r||us?document.importNode(s,!0):s.cloneNode(!0);if(n){var c=bn(i),l=i.lastChild;qn(c,l)}else qn(i,i);return i}}function Ti(e,t,n="svg"){var r=!e.startsWith("<!>"),s=`<${n}>${r?e:"<!>"+e}</${n}>`,a;return()=>{if(!a){var i=Ls(s),c=bn(i);a=bn(c)}var l=a.cloneNode(!0);return qn(l,l),l}}function Ai(e,t){return Ti(e,t,"svg")}function Je(e=""){{var t=Zt(e+"");return qn(t,t),t}}function M(){var e=document.createDocumentFragment(),t=document.createComment(""),n=Zt();return e.append(t,n),qn(t,n),e}function _(e,t){e!==null&&e.before(t)}function ku(){var e;return(e=window.__svelte??(window.__svelte={})).uid??(e.uid=1),`c${window.__svelte.uid++}`}function xr(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function Di(e,t){return Ii(e,t)}const cn=new Map;function Ii(e,{target:t,anchor:n,props:r={},events:s,context:a,intro:i=!0}){ui();var c=new Set,l=v=>{for(var d=0;d<v.length;d++){var p=v[d];if(!c.has(p)){c.add(p);var h=Ci(p);t.addEventListener(p,Bn,{passive:h});var m=cn.get(p);m===void 0?(document.addEventListener(p,Bn,{passive:h}),cn.set(p,1)):cn.set(p,m+1)}}};l(aa(Ns)),Jr.add(l);var u=void 0,f=pi(()=>{var v=n??t.appendChild(Zt());return st(()=>{if(a){G({});var d=ee;d.c=a}s&&(r.$$events=s),u=e(v,r)||{},a&&Y()}),()=>{for(var d of c){t.removeEventListener(d,Bn);var p=cn.get(d);--p===0?(document.removeEventListener(d,Bn),cn.delete(d)):cn.set(d,p)}Jr.delete(l),v!==n&&v.parentNode?.removeChild(v)}});return Mi.set(u,f),u}let Mi=new WeakMap;const Br=0,sr=1,Fr=2;function Ve(e,t,n,r,s){var a=e,i=Yt(),c=ee,l=ue,u,f,v,d=i?zt(void 0):Yr(void 0,!1,!1),p=i?zt(void 0):Yr(void 0,!1,!1),h=!1;function m(g,w){h=!0,w&&(it(y),Ke(y),wn(c));try{g===Br&&n&&(u?vn(u):u=st(()=>n(a))),g===sr&&r&&(f?vn(f):f=st(()=>r(a,d))),g===Fr&&s&&(v?vn(v):v=st(()=>s(a,p))),g!==Br&&u&&Ut(u,()=>u=null),g!==sr&&f&&Ut(f,()=>f=null),g!==Fr&&v&&Ut(v,()=>v=null)}finally{w&&(wn(null),Ke(null),it(null),is())}}var y=Xn(()=>{if(l!==(l=t())){if(So(l)){var g=l;h=!1,g.then(w=>{g===l&&(kt(d,w),m(sr,!0))},w=>{if(g===l&&(kt(p,w),m(Fr,!0),!s))throw p.v}),kr(()=>{h||m(Br,!0)})}else kt(d,l),m(sr,!1);return()=>l=ue}})}function H(e,t,n=!1){var r=e,s=null,a=null,i=ue,c=n?Zn:0,l=!1;const u=(p,h=!0)=>{l=!0,d(h,p)};var f=null;function v(){f!==null&&(f.lastChild.remove(),r.before(f),f=null);var p=i?s:a,h=i?a:s;p&&vn(p),h&&Ut(h,()=>{i?a=null:s=null})}const d=(p,h)=>{if(i!==(i=p)){var m=ha(),y=r;if(m&&(f=document.createDocumentFragment(),f.append(y=Zt())),i?s??(s=h&&st(()=>h(y))):a??(a=h&&st(()=>h(y))),m){var g=W,w=i?s:a,S=i?a:s;w&&g.skipped_effects.delete(w),S&&g.skipped_effects.add(S),g.add_callback(v)}else v()}};Xn(()=>{l=!1,t(u),l||d(null,null)},c)}function pe(e,t){pa(()=>{var n=t();for(var r in n){var s=n[r];s?e.style.setProperty(r,s):e.style.removeProperty(r)}})}function Oi(e,t){return t}function Ri(e,t,n){for(var r=e.items,s=[],a=t.length,i=0;i<a;i++)_a(t[i].e,s,!0);var c=a>0&&s.length===0&&n!==null;if(c){var l=n.parentNode;fi(l),l.append(n),r.clear(),rt(e,t[0].prev,t[a-1].next)}ms(s,()=>{for(var u=0;u<a;u++){var f=t[u];c||(r.delete(f.k),rt(e,f.prev,f.next)),ot(f.e,!c)}})}function fn(e,t,n,r,s,a=null){var i=e,c={flags:t,items:new Map,first:null},l=(t&Ja)!==0;if(l){var u=e;i=u.appendChild(Zt())}var f=null,v=!1,d=new Map,p=Er(()=>{var g=n();return ra(g)?g:g==null?[]:aa(g)}),h,m;function y(){Bi(m,h,c,d,i,s,t,r,n),a!==null&&(h.length===0?f?vn(f):f=st(()=>a(i)):f!==null&&Ut(f,()=>{f=null}))}Xn(()=>{m??(m=K),h=o(p);var g=h.length;if(!(v&&g===0)){v=g===0;var w,S,N,T;if(ha()){var E=new Set,x=W;for(S=0;S<g;S+=1){N=h[S],T=r(N,S);var j=c.items.get(T)??d.get(T);j?(t&(br|Sr))!==0&&Ts(j,N,S,t):(w=As(null,c,null,null,N,T,S,s,t,n,!0),d.set(T,w)),E.add(T)}for(const[X,z]of c.items)E.has(X)||x.skipped_effects.add(z.e);x.add_callback(y)}else y();o(p)}})}function Bi(e,t,n,r,s,a,i,c,l){var u=(i&jo)!==0,f=(i&(br|Sr))!==0,v=t.length,d=n.items,p=n.first,h=p,m,y=null,g,w=[],S=[],N,T,E,x;if(u)for(x=0;x<v;x+=1)N=t[x],T=c(N,x),E=d.get(T),E!==void 0&&(E.a?.measure(),(g??(g=new Set)).add(E));for(x=0;x<v;x+=1){if(N=t[x],T=c(N,x),E=d.get(T),E===void 0){var j=r.get(T);if(j!==void 0){r.delete(T),d.set(T,j);var X=y?y.next:h;rt(n,y,j),rt(n,j,X),Ur(j,X,s),y=j}else{var z=h?h.e.nodes_start:s;y=As(z,n,y,y===null?n.first:y.next,N,T,x,a,i,l)}d.set(T,y),w=[],S=[],h=y.next;continue}if(f&&Ts(E,N,x,i),(E.e.f&Ye)!==0&&(vn(E.e),u&&(E.a?.unfix(),(g??(g=new Set)).delete(E))),E!==h){if(m!==void 0&&m.has(E)){if(w.length<S.length){var F=S[0],O;y=F.prev;var fe=w[0],be=w[w.length-1];for(O=0;O<w.length;O+=1)Ur(w[O],F,s);for(O=0;O<S.length;O+=1)m.delete(S[O]);rt(n,fe.prev,be.next),rt(n,y,fe),rt(n,be,F),h=F,y=be,x-=1,w=[],S=[]}else m.delete(E),Ur(E,h,s),rt(n,E.prev,E.next),rt(n,E,y===null?n.first:y.next),rt(n,y,E),y=E;continue}for(w=[],S=[];h!==null&&h.k!==T;)(h.e.f&Ye)===0&&(m??(m=new Set)).add(h),S.push(h),h=h.next;if(h===null)continue;E=h}w.push(E),y=E,h=E.next}if(h!==null||m!==void 0){for(var ne=m===void 0?[]:aa(m);h!==null;)(h.e.f&Ye)===0&&ne.push(h),h=h.next;var oe=ne.length;if(oe>0){var Se=(i&Ja)!==0&&v===0?s:null;if(u){for(x=0;x<oe;x+=1)ne[x].a?.measure();for(x=0;x<oe;x+=1)ne[x].a?.fix()}Ri(n,ne,Se)}}u&&kr(()=>{if(g!==void 0)for(E of g)E.a?.apply()}),e.first=n.first&&n.first.e,e.last=y&&y.e;for(var Ie of r.values())ot(Ie.e);r.clear()}function Ts(e,t,n,r){(r&br)!==0&&kt(e.v,t),(r&Sr)!==0?kt(e.i,n):e.i=n}function As(e,t,n,r,s,a,i,c,l,u,f){var v=(l&br)!==0,d=(l&$o)===0,p=v?d?Yr(s,!1,!1):zt(s):s,h=(l&Sr)===0?i:zt(i),m={i:h,v:p,k:a,a:null,e:null,prev:n,next:r};try{if(e===null){var y=document.createDocumentFragment();y.append(e=Zt())}return m.e=st(()=>c(e,p,h,u),Zo),m.e.prev=n&&n.e,m.e.next=r&&r.e,n===null?f||(t.first=m):(n.next=m,n.e.next=m.e),r!==null&&(r.prev=m,r.e.prev=m.e),m}finally{}}function Ur(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,s=t?t.e.nodes_start:n,a=e.e.nodes_start;a!==null&&a!==r;){var i=Cr(a);s.before(a),a=i}}function rt(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function Et(e,t,...n){var r=e,s=Ht,a;Xn(()=>{s!==(s=t())&&(a&&(ot(a),a=null),a=st(()=>s(r,...n)))},Zn)}function We(e,t,n){var r=e,s,a,i=null,c=null;function l(){a&&(Ut(a),a=null),i&&(i.lastChild.remove(),r.before(i),i=null),a=c,c=null}Xn(()=>{if(s!==(s=t())){var u=ha();if(s){var f=r;u&&(i=document.createDocumentFragment(),i.append(f=Zt())),c=st(()=>n(f,s))}u?W.add_callback(l):l()}},Zn)}function Ds(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=Ds(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Fi(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=Ds(e))&&(r&&(r+=" "),r+=t);return r}function Z(e){return typeof e=="object"?Fi(e):e??""}const Ua=[...` 	
\r\f \v\uFEFF`];function Ui(e,t,n){var r=e==null?"":""+e;if(t&&(r=r?r+" "+t:t),n){for(var s in n)if(n[s])r=r?r+" "+s:s;else if(r.length)for(var a=s.length,i=0;(i=r.indexOf(s,i))>=0;){var c=i+a;(i===0||Ua.includes(r[i-1]))&&(c===r.length||Ua.includes(r[c]))?r=(i===0?"":r.substring(0,i))+r.substring(c+1):i=c}}return r===""?null:r}function ji(e,t){return e==null?null:String(e)}function J(e,t,n,r,s,a){var i=e.__className;if(i!==n||i===void 0){var c=Ui(n,r,a);c==null?e.removeAttribute("class"):e.className=c,e.__className=n}else if(a&&s!==a)for(var l in a){var u=!!a[l];(s==null||u!==!!s[l])&&e.classList.toggle(l,u)}return a}function gr(e,t,n,r){var s=e.__style;if(s!==t){var a=ji(t);a==null?e.removeAttribute("style"):e.style.cssText=a,e.__style=t}return r}const $i=Symbol("is custom element"),Hi=Symbol("is html");function jr(e,t){var n=ga(e);n.value===(n.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function dr(e,t){var n=ga(e);n.checked!==(n.checked=t??void 0)&&(e.checked=t)}function me(e,t,n,r){var s=ga(e);s[t]!==(s[t]=n)&&(t==="loading"&&(e[xo]=n),n==null?e.removeAttribute(t):typeof n!="string"&&qi(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function ga(e){return e.__attributes??(e.__attributes={[$i]:e.nodeName.includes("-"),[Hi]:e.namespaceURI===Yo})}var ja=new Map;function qi(e){var t=ja.get(e.nodeName);if(t)return t;ja.set(e.nodeName,t=[]);for(var n,r=e,s=Element.prototype;s!==r;){n=Ya(r);for(var a in n)n[a].set&&t.push(a);r=sa(r)}return t}function Ki(e,t,n=t){var r=Yt(),s=new WeakSet;xi(e,"input",a=>{var i=a?e.defaultValue:e.value;if(i=$r(e)?Hr(i):i,n(i),W!==null&&s.add(W),r&&i!==(i=t())){var c=e.selectionStart,l=e.selectionEnd;e.value=i??"",l!==null&&(e.selectionStart=c,e.selectionEnd=Math.min(l,e.value.length))}}),Vt(t)==null&&e.value&&(n($r(e)?Hr(e.value):e.value),W!==null&&s.add(W)),pa(()=>{var a=t();if(e===document.activeElement){var i=cr??W;if(s.has(i))return}$r(e)&&a===Hr(e.value)||e.type==="date"&&!a&&!e.value||a!==e.value&&(e.value=a??"")})}function $r(e){var t=e.type;return t==="number"||t==="range"}function Hr(e){return e===""?null:+e}function $a(e,t){return e===t||e?.[Bt]===t}function Pt(e={},t,n,r){return _i(()=>{var s,a;return pa(()=>{s=a,a=[],Vt(()=>{e!==n(...a)&&(t(e,...a),s&&$a(n(...s),e)&&t(null,...s))})}),()=>{kr(()=>{a&&$a(n(...a),e)&&t(null,...a)})}}),e}function Cn(e=!1){const t=ee,n=t.l.u;if(!n)return;let r=()=>Ei(t.s);if(e){let s=0,a={};const i=Jn(()=>{let c=!1;const l=t.s;for(const u in l)l[u]!==a[u]&&(a[u]=l[u],c=!0);return c&&s++,s});r=()=>o(i)}n.b.length&&hi(()=>{Ha(t,r),vr(n.b)}),je(()=>{const s=Vt(()=>n.m.map(ko));return()=>{for(const a of s)typeof a=="function"&&a()}}),n.a.length&&je(()=>{Ha(t,r),vr(n.a)})}function Ha(e,t){if(e.l.s)for(const n of e.l.s)o(n);t()}let or=!1;function zi(e){var t=or;try{return or=!1,[e(),or]}finally{or=t}}function we(e,t,n,r){var s=!Pn||(n&qo)!==0,a=(n&zo)!==0,i=(n&Vo)!==0,c=r,l=!0,u=()=>(l&&(l=!1,c=i?Vt(r):r),c),f;if(a){var v=Bt in e||No in e;f=dn(e,t)?.set??(v&&t in e?S=>e[t]=S:void 0)}var d,p=!1;a?[d,p]=zi(()=>e[t]):d=e[t],d===void 0&&r!==void 0&&(d=u(),f&&(s&&Ro(),f(d)));var h;if(s?h=()=>{var S=e[t];return S===void 0?u():(l=!0,S)}:h=()=>{var S=e[t];return S!==void 0&&(c=void 0),S===void 0?c:S},s&&(n&Ko)===0)return h;if(f){var m=e.$$legacy;return function(S,N){return arguments.length>0?((!s||!N||m||p)&&f(N?h():S),S):h()}}var y=!1,g=((n&Ho)!==0?Jn:Er)(()=>(y=!1,h()));a&&o(g);var w=K;return function(S,N){if(arguments.length>0){const T=N?o(g):s&&a?se(S):S;return k(g,T),y=!0,c!==void 0&&(c=T),S}return Jt&&y||(w.f&Gt)!==0?g.v:o(g)}}function ye(e){ee===null&&To(),Pn&&ee.l!==null?Vi(ee).m.push(e):je(()=>{const t=Vt(e);if(typeof t=="function")return t})}function Vi(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const Wi="5";var Wa;typeof window<"u"&&((Wa=window.__svelte??(window.__svelte={})).v??(Wa.v=new Set)).add(Wi);let It=I(""),un=I(null);function Gi(e){k(It,""),setTimeout(()=>{k(It,e,!0)},16)}var Yi=R('<div class="notification svelte-1a2zucn"> </div>');function Zi(e,t){G(t,!0),je(()=>{o(It),o(It)&&(o(un)?.getBoundingClientRect(),o(un)?.style.setProperty("opacity","1"));const a=setTimeout(()=>{o(un)?.style.removeProperty("opacity")},800),i=setTimeout(()=>{k(It,""),o(un)?.style.removeProperty("opacity")},1200);return()=>{clearTimeout(a),clearTimeout(i)}});var n=M(),r=L(n);{var s=a=>{var i=Yi(),c=b(i);Pt(i,l=>k(un,l),()=>o(un)),te(()=>xr(c,o(It))),_(a,i)};H(r,a=>{o(It)&&a(s)})}_(e,n),Y()}Qo();var Ji=R('<span class="vh svelte-14jjkpd"><!></span>');function Kn(e,t){var n=Ji(),r=b(n);Et(r,()=>t.children),_(e,n)}var Xi=Ai('<svg class="svelte-gv09tg"><use></use></svg>');function he(e,t){let n=we(t,"name",8,"");var r=Xi(),s=b(r);te(()=>me(s,"href",`#icon-${n()??""}`)),_(e,r)}const Is=(e,t)=>{if(!t)return e;if(t.type==="closed")return{type:"closed"};switch(e.type){case"opened":return t.type==="close"?{type:"closing"}:t.type==="swipe"?{type:"openSwiping"}:e;case"closed":return t.type==="open"?{type:"opening"}:t.type==="swipe"?{type:"closeSwiping"}:e;case"openSwiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"closeSwiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"opening":return t.type==="opened"?{type:"opened"}:e;default:return e}};let Xr=I(se(Is({type:"closed"})));const Ms=e=>{k(Xr,Is(o(Xr),e),!0)},Qi=()=>o(Xr),el=()=>{Ms({type:"open"})},tl=()=>{Ms({type:"close"})},nl=()=>{const e=Qi().type;e==="closed"?el():e==="opened"&&tl()};var rl=R('<button class="buttonMenu svelte-hxzs42"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>');function Os(e,t){G(t,!1),Cn();var n=rl();n.__click=[nl];var r=b(n);pe(r,()=>({"--size":"28px"})),he(r.lastChild,{name:"sidebarMenu"});var s=A(r,2);Kn(s,{children:(a,i)=>{var c=Je("Menu");_(a,c)}}),_(e,n),Y()}De(["click"]);var al=(e,t)=>t.onChange?.(e?.target?.value||""),sl=R('<input class="svelte-6l2oy0"/>');function Qr(e,t){G(t,!0);let n=we(t,"value",15,"");var r=sl();r.__input=[al,t],te(()=>me(r,"placeholder",t.placeholder)),xs("focus",r,function(...s){t.onFocus?.apply(this,s)}),Ki(r,n),_(e,r),Y()}De(["input"]);const P=se({historyStack:[],pathname:window.location.pathname,search:window.location.search,historyLength:0});let Rs=I(se(new URLSearchParams(P.search).get("feedOrder")||"newest"));const Bs=()=>o(Rs),ol=e=>{k(Rs,e,!0);const t=new URLSearchParams(P.search);e==="newest"?t.delete("feedOrder"):t.set("feedOrder",e),dt(`${P.pathname}${t.size>0?`?${t.toString()}`:""}`)};let Fs=I(se(new URLSearchParams(P.search).get("search")||""));const Us=()=>o(Fs),il=e=>{k(Fs,e,!0);const t=new URLSearchParams(P.search);e===""?t.delete("search"):t.set("search",e),dt(`${P.pathname}${t.size>0?`?${t.toString()}`:""}`)},js=()=>new URLSearchParams(P.search).get("selectedTags")?.split(",")||[];let ir=js();const ll=()=>{const e=js();return e.join(",")===ir.join(",")||(ir=e),ir},cl=()=>{P.pathname=document.location.pathname,P.search=document.location.search,P.historyLength=Math.max(0,P.historyLength-=1)};window.addEventListener("popstate",cl);const dt=e=>{const[t,n]=e.split("?");P.pathname=t,P.search=n?`?${n}`:"",P.historyLength+=1,P.historyStack.push(window.location.href),window.history.replaceState(null,"",e)},ul=e=>{const[t,n]=e.split("?");P.pathname=t,P.search=n?`?${n}`:"",window.history.replaceState(null,"",e)},fl=(e="/")=>{const[t,n]=e.split("?");if(P.historyLength<=0){const r=window.location.href,[s,a]=r.split("?");if(!a.includes("stackPages"))window.history.replaceState(null,"",e),P.historyLength=0,P.pathname=t,P.search=n?`?${n}`:"";else{const i=new URLSearchParams(a),l=(i.get("stackPages")?.split(",")||[]).slice(0,-1);l.length===0?i.delete("stackPages"):i.set("stackPages",l.join(","));const u=`${s}${i.toString()?`?${i.toString()}`:""}`;window.history.replaceState(null,"",u),P.search=i.toString()?`?${i.toString()}`:""}}else if(P.historyStack.length>0){const r=P.historyStack.pop();if(r){const[s,a]=r.split("?");window.history.replaceState(null,"",r),P.historyLength=Math.max(0,P.historyLength-=1),P.pathname=s,P.search=a?`?${a}`:""}}},$s=()=>{const e=P.historyStack.findIndex(n=>n.includes("stackPages")),t=e===-1?P.historyStack.slice(0):P.historyStack.slice(0,e);if(t.length>0){const n=t.pop();if(n){const[r,s]=n.split("?");window.history.replaceState(null,"",n),P.historyLength=Math.max(0,t.length),P.pathname=r,P.search=s?`?${s}`:"",P.historyStack=t}}else window.history.replaceState(null,"","/"),P.historyLength=0,P.pathname="/",P.search="",P.historyStack=[]},Xe=()=>new URLSearchParams(P.search).get("stackPages")?.split(",")||[];let $t=I(se(Xe()));const Ae=e=>{const t=Xe();if(!t.includes(e)){t.push(e);const n=new URLSearchParams(P.search);n.set("stackPages",t.join(",")),k($t,t,!0),dt(`${P.pathname}?${n.toString()}`)}},dl=e=>Xe().includes(e),Hs=()=>{const e=o($t).slice(0,-1);k($t,e,!0)},vl=()=>{const e=Xe();return e.length>=o($t).length?e.reduce((t,n)=>[...t,{page:n,shown:!0}],[]):o($t).reduce((t,n,r)=>[...t,{page:n,shown:e.length===0?!1:r!==o($t).length-1}],[])},ea=()=>{k($t,[],!0)},ut=se({value:""}),hl=se({value:Us()}),pl=(e,t)=>{let n=null;return()=>{n&&clearTimeout(n),n=setTimeout(()=>{e()},t)}},qs=()=>window.matchMedia("(max-width: 768px)").matches;let Ks=I(se(qs()));const _l=pl(()=>{k(Ks,qs(),!0)},16);window.addEventListener("resize",_l);const Xt=()=>o(Ks);function gl(e,t){G(t,!0),ye(()=>{const n=r=>{r.target&&t.dialog?.open&&t.dialogInner&&t.dialogInner!==r.target&&!t.dialogInner.contains(r.target)&&t.onClose()};return document.addEventListener("mousedown",n,{capture:!0}),()=>{document.removeEventListener("mousedown",n,{capture:!0})}}),Y()}const ma=se({count:0}),ml=()=>ma.count>0,zs=()=>{ma.count+=1},Vs=()=>{ma.count-=1};var wl=R('<dialog><div class="dialogInner svelte-w3h659"><!></div></dialog> <!>',1);function Ws(e,t){G(t,!0);let n=I(null),r=I(null),s=I(!1);const a=()=>{const d=setTimeout(()=>{t.onClosed()},150);o(n)?.addEventListener("transitionend",()=>{clearTimeout(d),t.onClosed()},{once:!0}),k(s,!1)};je(()=>{t.startClose&&a()}),ye(()=>{o(n)?.showModal(),o(n)?.getClientRects(),k(s,!0)}),ye(()=>(zs(),()=>{Vs()}));var i=wl(),c=L(i),l=b(c),u=b(l);Et(u,()=>t.children),Pt(l,d=>k(r,d),()=>o(r)),Pt(c,d=>k(n,d),()=>o(n));var f=A(c,2);{var v=d=>{gl(d,{get dialog(){return o(n)},get dialogInner(){return o(r)},onClose:a})};H(f,d=>{o(n)&&o(r)&&d(v)})}te(()=>J(c,1,Z(["dialog",{shown:o(s)}]),"svelte-w3h659")),_(e,i),Y()}var yl=R("<div><!></div>");function Gs(e,t){G(t,!0);let n=I(!1),r=I(null);const s=()=>{const u=setTimeout(()=>{t.onClosed()},150);o(r)?.addEventListener("transitionend",()=>{clearTimeout(u),t.onClosed()},{once:!0}),k(n,!1)},a=u=>{u.target!==o(r)&&!o(r)?.contains(u.target)&&s()},i=u=>{u.target!==o(r)&&!o(r)?.contains(u.target)&&s()};ye(()=>{o(r)?.getClientRects(),k(n,!0);const u=setTimeout(()=>{document.addEventListener("focusin",a),document.addEventListener("click",i)},0);return()=>{clearTimeout(u),document.removeEventListener("focusin",a),document.removeEventListener("click",i)}}),je(()=>{t.startClose&&s()});var c=yl(),l=b(c);Et(l,()=>t.children),Pt(c,u=>k(r,u),()=>o(r)),te(()=>J(c,1,Z(["menu",{top:t.positionTop,shown:o(n)}]),"svelte-vbw57a")),_(e,c),Y()}const bl=(e,t)=>{o(t)||k(t,!0)};var Sl=(e,t)=>t("newest"),kl=(e,t)=>t("oldest"),El=(e,t)=>t("AtoZ"),Pl=(e,t)=>t("ZtoA"),Cl=R("<div><button>Newest</button> <button>Oldest</button> <button>A to Z</button> <button>Z to A</button></div>"),Nl=R('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),xl=R('<div class="orderMenu svelte-1koyce2"><button><!> <!></button> <!></div>');function Ll(e,t){G(t,!0);const n=(m,y=Ht)=>{var g=Cl(),w=b(g);w.__click=[Sl,c];var S=A(w,2);S.__click=[kl,c];var N=A(S,2);N.__click=[El,c];var T=A(N,2);T.__click=[Pl,c],te(()=>{J(g,1,Z(["menu",{menuDialog:y()}]),"svelte-1koyce2"),J(w,1,Z(["menuButton",{menuButtonDialog:y(),current:o(i)==="newest"}]),"svelte-1koyce2"),J(S,1,Z(["menuButton",{menuButtonDialog:y(),current:o(i)==="oldest"}]),"svelte-1koyce2"),J(N,1,Z(["menuButton",{menuButtonDialog:y(),current:o(i)==="AtoZ"}]),"svelte-1koyce2"),J(T,1,Z(["menuButton",{menuButtonDialog:y(),current:o(i)==="ZtoA"}]),"svelte-1koyce2")}),_(m,g)};let r=I(!1),s=I(!1),a=D(Xt),i=D(Bs);const c=m=>{k(s,!0),ol(m)},l=()=>{k(r,!1),k(s,!1)};var u=xl(),f=b(u);f.__click=[bl,r],J(f,1,Z(["button","buttonMenu"]),"svelte-1koyce2");var v=b(f);he(v,{name:"filter"});var d=A(v,2);Kn(d,{children:(m,y)=>{var g=Je("show feed order menu");_(m,g)}});var p=A(f,2);{var h=m=>{var y=M(),g=L(y);{var w=N=>{Ws(N,{get startClose(){return o(s)},onClosed:l,children:(T,E)=>{n(T,()=>!0)},$$slots:{default:!0}})},S=N=>{var T=Nl(),E=L(T);pe(E,()=>({"--right":"20px","--top":"60px"})),Gs(E.lastChild,{get startClose(){return o(s)},onClosed:l,children:(x,j)=>{n(x,()=>!1)},$$slots:{default:!0}}),_(N,T)};H(g,N=>{o(a)?N(w):N(S,!1)})}_(m,y)};H(p,m=>{o(r)&&m(h)})}_(e,u),Y()}De(["click"]);const mr=se({ref:null}),Tl=e=>{e.preventDefault(),Ae("settings")},Al=e=>{e.preventDefault(),Ae("newNote")};var Dl=R('<div class="header svelte-1gh3q5d"><div class="top svelte-1gh3q5d"><div class="desktop svelte-1gh3q5d"><a class="link svelte-1gh3q5d"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Settings</span></a></div> <div class="mobile svelte-1gh3q5d"><!></div> <a class="addNote svelte-1gh3q5d"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Add</span></a></div> <div class="bottom svelte-1gh3q5d"><div><div class="sidebarSearchWrapper"><!></div></div> <div class="right svelte-1gh3q5d"><div class="filter svelte-1gh3q5d"><div class="feedSearchWrapper svelte-1gh3q5d"><!></div> <!></div></div></div></div>');function Il(e,t){G(t,!0);const n=()=>{const F=Xe();F.includes("settings")||F.push("settings");const O=new URLSearchParams(P.search);return O.set("stackPages",F.join(",")),`${P.pathname}?${O}`};let s=D(()=>{const F=Xe();F.includes("newNote")||F.push("newNote");const O=new URLSearchParams(P.search);return O.set("stackPages",F.join(",")),`${P.pathname}?${O}`}),a=D(n),i=D(()=>mr.ref);const c=()=>{o(i)&&o(i).scrollTo({top:0,behavior:"smooth"})},l=F=>{il(F)};var u=Dl(),f=b(u),v=b(f),d=b(v);d.__click=[Tl];var p=b(d);pe(p,()=>({"--size":"20px"})),he(p.lastChild,{name:"settings"});var h=A(v,2),m=b(h);Os(m,{});var y=A(h,2);y.__click=[Al];var g=b(y);pe(g,()=>({"--size":"24px","--color":"#b0b0b0"})),he(g.lastChild,{name:"plus"});var w=A(f,2),S=b(w);J(S,1,Z(["left"]),"svelte-1gh3q5d");var N=b(S),T=b(N);Qr(T,{placeholder:"Search tag",get value(){return ut.value},set value(F){ut.value=F}});var E=A(S,2),x=b(E),j=b(x),X=b(j);Qr(X,{onFocus:c,onChange:l,placeholder:"Search",get value(){return hl.value}});var z=A(j,2);Ll(z,{}),te(()=>{me(d,"href",o(a)),me(y,"href",o(s))}),_(e,u),Y()}De(["click"]);const Ml="modulepreload",Ol=function(e){return"/"+e},qa={},Ge=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){let l=function(u){return Promise.all(u.map(f=>Promise.resolve(f).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),c=i?.nonce||i?.getAttribute("nonce");s=l(n.map(u=>{if(u=Ol(u),u in qa)return;qa[u]=!0;const f=u.endsWith(".css"),v=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${v}`))return;const d=document.createElement("link");if(d.rel=f?"stylesheet":Ml,f||(d.as="script"),d.crossOrigin="",d.href=u,c&&d.setAttribute("nonce",c),document.head.appendChild(d),f)return new Promise((p,h)=>{d.addEventListener("load",p),d.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${u}`)))})}))}function a(i){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=i,window.dispatchEvent(c),!c.defaultPrevented)throw i}return s.then(i=>{for(const c of i||[])c.status==="rejected"&&a(c.reason);return t().catch(a)})};function Rl(e,t){G(t,!0);let n=we(t,"blockedDialog",3,!1),r=we(t,"hiddenDialog",3,!1),s=we(t,"isLastDialog",3,!1),a=we(t,"onStartClose",3,()=>{}),i=we(t,"onClose",3,()=>{});const c=D(()=>s()?void 0:t.onStartBack);let l=null;function u(){return l||(l=Ge(()=>import("./MobileDialog-t_8Mx0An.js"),__vite__mapDeps([0,1]))),l}function f(){return l||(l=Ge(()=>import("./DesktopDialog-C7artnjM.js"),__vite__mapDeps([2,3]))),l}ye(()=>(zs(),()=>{Vs()}));var v=M(),d=L(v);{var p=m=>{var y=M(),g=L(y);Ve(g,u,null,(w,S)=>{var N=M();const T=D(()=>o(S).default);var E=L(N);We(E,()=>o(T),(x,j)=>{j(x,{get shownDialog(){return t.shownDialog},get blocked(){return n()},get unBlockedBack(){return t.unBlockedBack},get hiddenDialog(){return r()},get children(){return t.children},get onStartClose(){return t.onStartBack},get onClose(){return i()}})}),_(w,N)}),_(m,y)},h=m=>{var y=M(),g=L(y);Ve(g,f,null,(w,S)=>{var N=M();const T=D(()=>o(S).default);var E=L(N);We(E,()=>o(T),(x,j)=>{j(x,{get shownDialog(){return t.shownDialog},get blockedDialog(){return n()},get unBlockedBack(){return t.unBlockedBack},get hiddenDialog(){return r()},get children(){return t.children},get onStartBack(){return o(c)},get onStartClose(){return a()},get onClose(){return i()}})}),_(w,N)}),_(m,y)};H(d,m=>{Xt()?m(p):m(h,!1)})}_(e,v),Y()}let Ys=I(!1),wa=I(!1);const Fn=e=>{k(Ys,e,!0),e||k(wa,!1)},Bl=()=>o(Ys),Ka=e=>{k(wa,e,!0)},Fl=()=>o(wa);function za(e,t){G(t,!0);let n=we(t,"blocked",3,!1),r=we(t,"isLastDialog",3,!1),s=we(t,"onBack",3,()=>{});const a=D(()=>n()||t.hidden||Bl()),i=D(()=>Fl()&&!r());Rl(e,{get shownDialog(){return t.shown},get blockedDialog(){return o(a)},get unBlockedBack(){return o(i)},get hiddenDialog(){return t.hidden},get isLastDialog(){return r()},onStartBack:()=>{(!o(a)||o(a)&&o(i))&&t.shown&&(fl(),s()())},onStartClose:()=>{(!o(a)||o(a)&&o(i))&&t.shown&&$s()},onClose:()=>{Hs()},children:(f,v)=>{var d=M(),p=L(d);Et(p,()=>t.children),_(f,d)},$$slots:{default:!0}}),Y()}let ta=I(se({showFavicon:!0}));const Zs=()=>o(ta).showFavicon,ya=e=>{e&&k(ta,{...o(ta),...e},!0)};let B=I({initedDB:!1});const Ul=()=>{k(B,{initedDB:!0})},Sn=async e=>{k(B,{...o(B),account:e})},Qn=async e=>{const t=o(B).notes||[],n=o(B).mapNotes||new Map;e.forEach(r=>{t.push(r),n.set(r.id,r)}),k(B,{...o(B),notes:t,mapNotes:n,getNotes:()=>t,getMapNotes:()=>n})},Lr=()=>o(B).notes&&o(B).mapNotes,jl=()=>o(B).account,$l=()=>o(B).getNotes||(()=>o(B).notes||[]),Eu=()=>o(B).getMapNotes||(()=>o(B).mapNotes||new Map),Js=e=>{if(!o(B).notes||!o(B).mapNotes)throw new Error("Notes appState is not initialized");const t={...e};o(B).notes.push(t),o(B).mapNotes.set(t.id,t),k(B,{...o(B),getNotes:()=>o(B).notes,getMapNotes:()=>o(B).mapNotes})},Hl=async e=>{if(!o(B).notes||!o(B).mapNotes)throw new Error("Notes appState is not initialized");o(B).notes.forEach((t,n)=>{t?.id===e.id&&o(B).notes&&(o(B).notes[n]=e)}),o(B).mapNotes.set(e.id,e),k(B,{...o(B),getNotes:()=>o(B).notes,getMapNotes:()=>o(B).mapNotes})},Xs=async e=>{if(!o(B).notes||!o(B).mapNotes)throw new Error("Notes appState is not initialized");o(B).mapNotes.delete(e);const t=o(B).notes.findIndex(n=>n?.id===e);t!==-1&&(o(B).notes[t]=void 0),k(B,{...o(B),getNotes:()=>o(B).notes,getMapNotes:()=>o(B).mapNotes})},Qs=async()=>{const e=[],t=new Map;k(B,{...o(B),notes:e,mapNotes:t,getNotes:()=>e,getMapNotes:()=>t})};let eo=I({});const to=()=>o(eo),ql=e=>{k(eo,e)};var Kl=R('<button> <svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></button>');function lr(e,t){let n=D(()=>t.style==="selected"?"45deg":"0deg");var r=Kl();r.__click=function(...i){t.onClick?.apply(this,i)};var s=b(r),a=A(s);pe(a,()=>({"--size":"20px","--rotate":o(n)})),he(a.lastChild,{name:"plus"}),te(()=>{me(r,"type",t.type),J(r,1,Z([{selectedTag:t.style==="selected"}]),"svelte-1pjhi9i"),xr(s,`${t.title??""} `)}),_(e,r)}De(["click"]);const zl=e=>{e.preventDefault(),Ae("settings")};var Vl=R("<div></div>"),Wl=R('<div class="sidebarFixed svelte-1cm6h2f"><div class="nav svelte-1cm6h2f"><!> <a class="link svelte-1cm6h2f"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Settings</span></a></div> <div class="searchWrapper svelte-1cm6h2f"><!></div> <!></div> <div></div>',1),Gl=R("<div></div>"),Yl=R('<div class="sidebar svelte-1cm6h2f"><div class="sidebarFixed svelte-1cm6h2f"><!></div> <div class="tags svelte-1cm6h2f"></div></div>');function Zl(e,t){G(t,!0);let n=I(null),r=D(()=>new URLSearchParams(P.search).get("selectedTags")?.split(",")||[]),s=null;function a(){return s||(s=Ge(()=>import("./MobileSidebar-DsTkbRaR.js"),__vite__mapDeps([4,5]))),s}const i=()=>{const g=Xe();g.includes("settings")||g.push("settings");const w=new URLSearchParams(P.search);return w.set("stackPages",g.join(",")),`${P.pathname}?${w}`},c=g=>{const w=new URLSearchParams(P.search);w.set("selectedTags",[...o(r),g].join(",")),dt(`${P.pathname}${w.size>0?`?${w.toString()}`:""}`),ut.value=""},l=g=>{const w=new URLSearchParams(P.search),S=o(r).filter(N=>N!==g);S.length===0?w.delete("selectedTags"):w.set("selectedTags",S.join(",")),dt(`${P.pathname}${w.size>0?`?${w.toString()}`:""}`)};let u=D(()=>Lr()?Object.values(to()).filter(g=>!o(r).some(w=>g.name===w)):[]),f=D(Xt);ye(()=>{o(f)&&a()});let v=D(i),d=D(()=>Xe().length>0||ml());var p=M(),h=L(p);{var m=g=>{var w=M(),S=L(w);Ve(S,a,null,(N,T)=>{var E=M();const x=D(()=>o(T).default);var j=L(E);We(j,()=>o(x),(X,z)=>{z(X,{get blocked(){return o(d)},children:(F,O)=>{var fe=Wl(),be=L(fe),ne=b(be),oe=b(ne);Os(oe,{});var Se=A(oe,2);Se.__click=[zl];var Ie=b(Se);pe(Ie,()=>({"--size":"20px"})),he(Ie.lastChild,{name:"settings"});var Me=A(ne,2),Qe=b(Me);Qr(Qe,{placeholder:"Search tag",get value(){return ut.value},set value(C){ut.value=C}});var en=A(Me,2);{var Nn=C=>{var $=Vl();J($,1,Z(["tags","selectedTags"]),"svelte-1cm6h2f"),fn($,20,()=>o(r),ie=>ie,(ie,le)=>{lr(ie,{get title(){return le},onClick:()=>l(le),style:"selected"})}),Pt($,ie=>k(n,ie),()=>o(n)),_(C,$)};H(en,C=>{o(r).length>0&&C(Nn)})}var tn=A(be,2);J(tn,1,Z(["tags","tagsWrapper"]),"svelte-1cm6h2f"),fn(tn,21,()=>o(u),C=>C.name,(C,$)=>{var ie=M(),le=L(ie);{var re=U=>{lr(U,{get title(){return o($).name},onClick:()=>c(o($).name)})};H(le,U=>{(ut.value===""||o($).name.toLowerCase().indexOf(ut.value.toLowerCase())!==-1)&&U(re)})}_(C,ie)}),te(()=>me(Se,"href",o(v))),_(F,fe)},$$slots:{default:!0}})}),_(N,E)}),_(g,w)},y=g=>{var w=Yl(),S=b(w),N=b(S);{var T=x=>{var j=Gl();J(j,1,Z(["tags","selectedTags"]),"svelte-1cm6h2f"),fn(j,20,()=>o(r),X=>X,(X,z)=>{lr(X,{get title(){return z},onClick:()=>l(z),style:"selected"})}),_(x,j)};H(N,x=>{o(r).length>0&&x(T)})}var E=A(S,2);fn(E,21,()=>o(u),x=>x.name,(x,j)=>{var X=M(),z=L(X);{var F=O=>{lr(O,{get title(){return o(j).name},onClick:()=>c(o(j).name)})};H(z,O=>{(ut.value===""||o(j).name.toLowerCase().indexOf(ut.value.toLowerCase())!==-1)&&O(F)})}_(x,X)}),_(g,w)};H(h,g=>{o(f)?g(m):g(y,!1)})}_(e,p),Y()}De(["click"]);function St(e){const t=String.fromCharCode(...new Uint8Array(e));return window.btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function ba(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");const n=t.length%4;return n&&(t+="=".repeat(4-n)),t}function Sa(e){try{const t=atob(e),n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n.buffer}catch(t){throw console.error("Error decoding base64:",t,"Input:",e),t}}function Pu(e){const t=ba(e);return Sa(t)}const Cu=async({challenge:e,clientKey:t})=>{const n=Math.floor(Math.random()*100),r={challenge:Sa(ba(e)),rp:{id:"localhost",name:"notes"},user:{id:new Uint8Array([...t,...crypto.getRandomValues(new Uint8Array(16))]).buffer,name:`account_${n}`,displayName:`account_${n}`},pubKeyCredParams:[{type:"public-key",alg:-7},{type:"public-key",alg:-257}],authenticatorSelection:{userVerification:"required"},timeout:6e4,attestation:"none"},s=await navigator.credentials.create({publicKey:r});if(s){const a=s.response;return{challenge:e,id:s.id,rawId:St(s.rawId),type:s.type,response:{clientDataJSON:St(a.clientDataJSON),attestationObject:St(a.attestationObject)}}}else throw new Error},Nu=async({challenge:e})=>{const t={challenge:Sa(ba(e)),timeout:6e4,rpId:"localhost",userVerification:"required"},n=await navigator.credentials.get({publicKey:t});if(n){const r=n.response,s=new DataView(r.authenticatorData).getUint32(33,!1);console.log("Counter:",s);const a={challenge:e,id:n.id,rawId:St(n.rawId),type:n.type,response:{authenticatorData:St(r.authenticatorData),clientDataJSON:St(r.clientDataJSON),signature:St(r.signature)}};if(!r.userHandle)throw new Error("No credential found");const i=new Uint8Array(r.userHandle).slice(0,32);return{credentialData:a,clientKey:i}}else throw new Error("No credential found")},Jl=async e=>{const t=await crypto.subtle.importKey("raw",e.serverKey,{name:"HKDF"},!1,["deriveKey"]),n=await crypto.subtle.deriveKey({name:"HKDF",salt:new Uint8Array(12),info:new TextEncoder().encode("aes-gcm-shared"),hash:"SHA-256"},t,{name:"AES-GCM",length:256},!1,["encrypt"]);return{encryptedClientKey:await crypto.subtle.encrypt({name:"AES-GCM",iv:new Uint8Array(12)},n,e.clientKey)}},xu=async e=>{const t=await crypto.subtle.importKey("raw",e.serverKey,{name:"HKDF"},!1,["deriveKey"]),n=await crypto.subtle.deriveKey({name:"HKDF",info:new TextEncoder().encode("aes-gcm-shared"),hash:"SHA-256",salt:new Uint8Array(12)},t,{name:"AES-GCM",length:256},!1,["decrypt"]),r=await crypto.subtle.decrypt({name:"AES-GCM",iv:new Uint8Array(12)},n,e.encryptedClientKey);return new Uint8Array(r)},Xl=()=>crypto.randomUUID(),Ql="AppStorage",ec=1,ze="notes",Va="syncLog",kn="account",En="settings";let He;const tc=()=>new Promise((e,t)=>{const n=indexedDB.open(Ql,ec);n.addEventListener("upgradeneeded",()=>{const r=n.result;r.objectStoreNames.contains(ze)||r.createObjectStore(ze,{keyPath:"id"}),r.objectStoreNames.contains(kn)||r.createObjectStore(kn,{keyPath:"id"}),r.objectStoreNames.contains(En)||r.createObjectStore(En,{keyPath:"id"}),r.objectStoreNames.contains(Va)||r.createObjectStore(Va,{keyPath:"id"})}),n.addEventListener("success",()=>{e(),He=n.result,He.onversionchange=function(){He?.close(),alert("app outdated, please reload the page")}}),n.addEventListener("blocked",()=>{t(),alert("app outdated, please reload the page")}),n.addEventListener("error",()=>{t(),console.error("Error",n.error)})}),no=()=>new Promise((e,t)=>{const r=He?.transaction(En,"readonly")?.objectStore(En).get("default");r?.addEventListener("success",()=>{const s=r?.result?.settings;e(s)}),r?.addEventListener("error",()=>{t()})}),nc=e=>new Promise((t,n)=>{const a=He?.transaction(En,"readwrite")?.objectStore(En)?.put({id:"default",settings:e});a?.addEventListener("success",()=>{t()}),a?.addEventListener("error",()=>{n()})}),ro=()=>new Promise((e,t)=>{const r=He?.transaction(kn,"readonly")?.objectStore(kn).get("default");r?.addEventListener("success",()=>{const s=r?.result?.account;e(s)}),r?.addEventListener("error",()=>{t()})}),ao=e=>new Promise((t,n)=>{const a=He?.transaction(kn,"readwrite")?.objectStore(kn)?.put({id:"default",account:e});a?.addEventListener("success",()=>{console.log("account inited"),t()}),a?.addEventListener("error",()=>{n()})}),er=()=>new Promise((e,t)=>{const r=He?.transaction(ze,"readonly")?.objectStore(ze).getAll();r?.addEventListener("success",()=>{const s=r.result;e(s)}),r?.addEventListener("error",()=>{t()})}),rc=async e=>new Promise((t,n)=>{const a=He?.transaction(ze,"readwrite")?.objectStore(ze)?.put({...e});a?.addEventListener("success",()=>{t()}),a?.addEventListener("error",()=>{n()})}),ac=async e=>new Promise((t,n)=>{const a=He?.transaction(ze,"readwrite")?.objectStore(ze)?.delete(e);a?.addEventListener("success",()=>{t()}),a?.addEventListener("error",()=>{n()})}),sc=()=>new Promise((e,t)=>{const s=He?.transaction(ze,"readwrite")?.objectStore(ze)?.clear();s?.addEventListener("success",()=>{e()}),s?.addEventListener("error",()=>{t()})}),ka=async()=>{await sc()},oc=async e=>{const t=(await er()).reduce((a,i)=>(a[i.id]=i,a),{}),n={},s=He?.transaction(ze,"readwrite")?.objectStore(ze);e.forEach(a=>{t[a.id]?t[a.id].updatedAt<a.updatedAt&&(n[a.id]=a):n[a.id]=a}),await Promise.all(Object.values(n).map(a=>{const i=s?.put(a);return new Promise((c,l)=>{i?.addEventListener("success",()=>{c()}),i?.addEventListener("error",()=>{l()})})}))};async function Ea(){if(navigator.storage&&navigator.storage.persist)try{await navigator.storage.persisted()||await navigator.storage.persist()}catch{console.error("")}}const so=crypto.randomUUID(),oo=new BroadcastChannel("app"),Qt=(e,t)=>{oo.postMessage(JSON.stringify({tabId:so,type:e,data:t}))};oo.addEventListener("message",async e=>{if(e.data&&typeof e.data=="string"){const t=JSON.parse(e.data);if(t.tabId&&t.tabId===so)return;if(t.type==="addNote"){const n=t.data;Js(n)}else if(t.type==="updateNote"){const n=t.data;Hl(n)}else if(t.type==="deleteNote"){const n=t.data;Xs(n)}else if(t.type==="clearAppState")Qs();else if(t.type==="reloadNotes"){const n=await er();await Qn(n)}else if(t.type==="initLocalAccount")Sn(null),ea(),dt("/");else if(t.type==="initAccount"){const n=await ro();n&&(Sn(n),ea(),dt("/"))}else if(t.type==="updateSettings"){const n=await no();n&&ya(n)}}});tc().then(async()=>{Ul();const e=await no();ya(e);const t=await ro();if(t===void 0)Ae("start");else{dl("start")&&(ea(),dt("/")),t?(Sn(t),await Ea()):Sn(null);const n=await er();await Qn(n)}}).catch(()=>{console.error("failed to init db")});const Lu=async e=>{const t={...e,id:Xl(),createdAt:Date.now(),updatedAt:Date.now()};Js(t),Qt("addNote",t),await rc({...t})},ic=async e=>{ya({showFavicon:e}),await nc({showFavicon:e}),Qt("updateSettings")},lc=async e=>{Qt("deleteNote",e),Xs(e),await ac(e)},Tu=async()=>{Qt("clearAppState"),Qs(),await ka()},Au=async e=>{await oc(e),Qt("reloadNotes");const t=await er();await Qn(t)},cc=async()=>{await ka(),await Ea(),await ao(null),Sn(null),await Qn([]),Qt("initLocalAccount")},Du=async e=>{await ka(),await Ea();const{encryptedClientKey:t}=await Jl({clientKey:e.clientKey,serverKey:e.serverKey}),n={encryptedClientKey:St(t),lastLogId:-1,lastSync:-1};await ao(n),Sn(n);const r=await er();await Qn(r),Qt("initAccount")},uc=(e,t,n)=>{k(t,!0),k(n,!0)},fc=(e,t,n)=>{k(t,!0),k(n,!0)};var dc=R('<div class="menu svelte-xxw0l"><div><button>Edit</button></div> <div><button>Delete</button></div></div>'),vc=R('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1);function hc(e,t){G(t,!0);const n=(h,m=Ht)=>{var y=dc(),g=b(y),w=b(g);w.__click=[fc,a,s];var S=A(g,2),N=b(S);N.__click=[uc,i,a],te(()=>{J(w,1,Z(["button",{buttonMenuDialog:m()}]),"svelte-xxw0l"),J(N,1,Z(["button",{buttonMenuDialog:m()}]),"svelte-xxw0l")}),_(h,y)};let r=we(t,"shownMenu",15),s=I(!1),a=I(!1),i=I(!1),c=D(Xt),l=D(()=>new URLSearchParams(P.search).get("selectedTags")?.split(",")||[]);const u=()=>{const h=to();t.note.tags.forEach(m=>{if(o(l).includes(m)&&h[m].connections===1){const y=new URLSearchParams(P.search),g=o(l).filter(w=>w!==m);g.length===0?y.delete("selectedTags"):y.set("selectedTags",g.join(",")),ul(`${P.pathname}${y.size>0?`?${y.toString()}`:""}`)}}),lc(t.note.id)},f=()=>{o(i)&&u(),r(!1),k(a,!1)};var v=M(),d=L(v);{var p=h=>{var m=M(),y=L(m);{var g=S=>{Ws(S,{get startClose(){return o(a)},onClosed:f,children:(N,T)=>{n(N,()=>!0)},$$slots:{default:!0}})},w=S=>{var N=vc(),T=L(N);pe(T,()=>({"--bottom":"-180%","--right":"30px"})),Gs(T.lastChild,{get startClose(){return o(a)},get positionTop(){return t.showMenuUp},onClosed:f,children:(E,x)=>{n(E,()=>!1)},$$slots:{default:!0}}),_(S,N)};H(y,S=>{o(c)?S(g):S(w,!1)})}_(h,m)};H(d,h=>{r()&&h(p)})}_(e,v),Y()}De(["click"]);const pc=(e,t,n)=>{t.showMenuUp||k(n,!0)},_c=(e,t)=>{navigator.clipboard.writeText(t.note.url),Gi("Link copied to clipboard")},gc=(e,t)=>{k(t,!0)},mc=(e,t)=>{k(t,!1)};var wc=R('<div class="iconPlaceholder svelte-1khtf0k"></div>'),yc=R('<img loading="lazy" class="noteIcon" height="16" width="16" alt=""/>'),bc=R('<li class="note svelte-1khtf0k"><div class="noteIconWrapper svelte-1khtf0k"><!></div> <a class="noteLink svelte-1khtf0k" target="_blank" rel="noopener noreferrer"> </a> <div class="spacer svelte-1khtf0k"></div> <div><button class="button svelte-1khtf0k"><!> <!></button> <button><!> <!></button> <!></div></li>');function Sc(e,t){G(t,!0);let n=I(!1),r=I(!1),s=I(!1),a=D(Zs);const i=E=>{try{return`https://${new URL(E).host}/favicon.ico`}catch{return""}};var c=bc();c.__focusin=[gc,n],c.__focusout=[mc,n];var l=b(c),u=b(l);{var f=E=>{var x=wc();_(E,x)},v=E=>{var x=yc();te(j=>me(x,"src",j),[()=>i(t.note.url)]),xs("error",x,()=>{k(s,!0)}),_(E,x)};H(u,E=>{o(s)||!o(a)?E(f):E(v,!1)})}var d=A(l,2),p=b(d),h=A(d,4),m=b(h);m.__click=[_c,t];var y=b(m);he(y,{name:"copy"});var g=A(y,2);Kn(g,{children:(E,x)=>{var j=Je("copy link");_(E,j)}});var w=A(m,2);w.__click=[pc,t,r],J(w,1,Z(["button","buttonMenu"]),"svelte-1khtf0k");var S=b(w);he(S,{name:"menu"});var N=A(S,2);Kn(N,{children:(E,x)=>{var j=Je("show menu");_(E,j)}});var T=A(w,2);hc(T,{get note(){return t.note},get showMenuUp(){return t.showMenuUp},get shownMenu(){return o(r)},set shownMenu(E){k(r,E,!0)}}),te(()=>{me(d,"tabindex",t.focusHidden?-1:0),me(d,"href",t.note.url),xr(p,t.note.title),J(h,1,Z(["noteMenuWrapper",{noteMenuWrapperActive:o(n)}]),"svelte-1khtf0k"),me(m,"tabindex",t.focusHidden?-1:0),me(w,"tabindex",t.focusHidden?-1:0)}),_(e,c),Y()}De(["focusin","focusout","click"]);let Pa=I(!1);const kc=(e,t)=>{let n;return()=>{n&&clearTimeout(n),n=setTimeout(()=>{e()},t)}},Ec=kc(()=>{k(Pa,!1)},100),Pc=()=>{k(Pa,!0),Ec()},Iu=()=>o(Pa);var Cc=R('<div><!> <div class="loader svelte-1wuuvr"></div></div>');function io(e,t){G(t,!0);let n=I(!1);ye(()=>{const a=setTimeout(()=>{k(n,!0)},200);return()=>{clearTimeout(a)}});var r=Cc(),s=b(r);Et(s,()=>t.children??Ht),te(()=>J(r,1,Z(["block",{shown:o(n)}]),"svelte-1wuuvr")),_(e,r),Y()}var Nc=R("<a><!></a>"),xc=R('<button type="button"><!></button>');function Ct(e,t){let n=we(t,"type",3,"standard"),r=we(t,"element",3,"button"),s=we(t,"href",3,""),a=we(t,"fullWidth",3,!1);var i=M(),c=L(i);{var l=f=>{var v=Nc();v.__click=function(...p){t.onClick?.apply(this,p)};var d=b(v);Et(d,()=>t.children??Ht),te(()=>{me(v,"href",s()),J(v,1,Z(["button","a",{dangerous:n()==="dangerous",secondary:n()==="secondary",fullWidth:a()}]),"svelte-na2c6y")}),_(f,v)},u=f=>{var v=xc();v.__click=function(...p){t.onClick?.apply(this,p)};var d=b(v);Et(d,()=>t.children??Ht),te(()=>J(v,1,Z(["button",{dangerous:n()==="dangerous",secondary:n()==="secondary",fullWidth:a()}]),"svelte-na2c6y")),_(f,v)};H(c,f=>{r()==="a"?f(l):f(u,!1)})}_(e,i)}De(["click"]);const Lc=(e,t)=>{o(t)&&o(t).scrollTo({top:0,behavior:"smooth"})};var Tc=R('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Add note</span>',1),Ac=R('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span style="padding-left: 6px;">Import data</span>',1),Dc=R('<div class="emptyStore svelte-hma977"><p class="message">No notes found</p> <div class="wrapperButtonsAdd svelte-hma977"><!></div> <div>or</div> <div class="wrapperButtonsAdd svelte-hma977"><!></div></div>'),Ic=R('<div class="emptyMessage svelte-hma977">No notes found</div>'),Mc=R('<div class="feed svelte-hma977"><ul class="svelte-hma977"></ul></div>'),Oc=R('<div class="wrapperButtonTop svelte-hma977"><button class="buttonTop svelte-hma977"><!> <svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></button></div>'),Rc=R('<div class="wrapperFeed svelte-hma977"><div class="wrapperContainer svelte-hma977"><!></div></div> <!>',1);function Bc(e,t){G(t,!0);let n=I(null),r=50,s=I(0),a=I(0),i=I(0),c=I(se([])),l=D(Us),u=D(()=>mr.ref);je(()=>{Xt()&&(mr.ref=o(n))});let f=null,v=null,d=I(!1),p=0;const h=D(ll);je(()=>{o(l),o(h),o(w),o(u)?.scrollTo(0,0)});const m=()=>{if(o(u)){const C=o(u).scrollTop||0;C===0?k(d,!1):!o(d)&&p>C?k(d,!0):o(d)&&p<C&&k(d,!1),p=C}},y=()=>{Pc(),f||(f=requestAnimationFrame(()=>{m();const C=o(u)?.scrollTop||0;k(i,C,!0);const $=Math.ceil(o(s)/r);k(a,Math.floor(C/(r*$))*(r*$)),f=null}))},g=()=>{v||(v=requestAnimationFrame(()=>{m(),k(s,window.innerHeight-180||0,!0);const C=o(u)?.scrollTop||0;k(i,C,!0);const $=Math.ceil(o(s)/r);k(a,Math.floor(C/(r*$))*(r*$)),v=null}))};ye(()=>{g(),y()}),je(()=>(o(u)?.addEventListener("scroll",y),window.addEventListener("resize",g),()=>{o(u)?.removeEventListener("scroll",y),window.removeEventListener("resize",g)}));const w=D(Bs);let S=I(""),N=D($l);je(()=>{o(w);const C=o(N)()||[];Vt(()=>o(S))!==o(w)&&(Vt(()=>k(S,o(w),!0)),C.sort((re,U)=>{if(!re||!U)return 0;switch(o(w)){case"newest":return re.createdAt>U.createdAt?-1:1;case"oldest":return re.createdAt<U.createdAt?-1:1;case"AtoZ":return U.title.localeCompare(re.title);case"ZtoA":return re.title.localeCompare(U.title);default:return 0}}));const ie=[],le={};for(let re=C.length-1;re>=0;re--){const U=C[re];if(U&&!(o(h).length&&o(h).some(ae=>!U.tags.includes(ae)))&&!(o(l)&&!(U.title.toLowerCase().includes(o(l).toLowerCase())||U.url.toLowerCase().includes(o(l).toLowerCase())||U.description.toLowerCase().includes(o(l).toLowerCase())))){if(U.tags)for(const ae of U.tags)le[ae]?le[ae].connections++:le[ae]={name:ae,connections:1};ie.push(U)}}ql(le),k(c,ie,!0)});const T=D(()=>o(c).length*r);let x=D(()=>{const C=Math.ceil(o(s)/r);let $=Math.floor(o(a)/r);return $=$-Math.min($,C),o(c).slice($,$+C*3)}),j=D(()=>r*Math.ceil(o(s)/r));const X=D(()=>o(a)-Math.min(o(a),o(j))),z=()=>{const C=Xe();C.includes("import")||C.push("import");const $=new URLSearchParams(P.search);return $.set("stackPages",C.join(",")),`${P.pathname}?${$}`};let O=D(()=>{const C=Xe();C.includes("newNote")||C.push("newNote");const $=new URLSearchParams(P.search);return $.set("stackPages",C.join(",")),`${P.pathname}?${$}`}),fe=D(z);const be=C=>{C.preventDefault(),Ae("newNote")},ne=C=>{C.preventDefault(),Ae("import")};var oe=Rc(),Se=L(oe),Ie=b(Se),Me=b(Ie);{var Qe=C=>{io(C,{})},en=C=>{var $=M(),ie=L($);{var le=U=>{var ae=Dc(),Oe=A(b(ae),2),et=b(Oe);Ct(et,{element:"a",get href(){return o(O)},onClick:be,children:(de,tt)=>{var ve=Tc(),xe=L(ve);pe(xe,()=>({"--size":"24px","--color":"#b0b0b0"})),he(xe.lastChild,{name:"plus"}),_(de,ve)},$$slots:{default:!0}});var ct=A(Oe,4),Q=b(ct);Ct(Q,{element:"a",get href(){return o(fe)},onClick:ne,children:(de,tt)=>{var ve=Ac(),xe=L(ve);pe(xe,()=>({"--size":"18px","--color":"#b0b0b0"})),he(xe.lastChild,{name:"import"}),_(de,ve)},$$slots:{default:!0}}),_(U,ae)},re=U=>{var ae=M(),Oe=L(ae);{var et=Q=>{var de=Ic();_(Q,de)},ct=Q=>{var de=Mc(),tt=b(de);fn(tt,23,()=>o(x),ve=>ve.id,(ve,xe,ce)=>{{let nt=D(()=>o(ce)*r<o(i)-o(X)-r/2||o(ce)*r>o(i)-o(X)+Math.floor(o(s)/r)*r),xt=D(()=>(o(ce)+3)*r<o(i)-o(X)-r/2||(o(ce)+3)*r>o(i)-o(X)+Math.floor(o(s)/r)*r);Sc(ve,{get focusHidden(){return o(nt)},get showMenuUp(){return o(xt)},get note(){return o(xe)}})}}),te(ve=>{gr(de,`min-height: ${ve??""}px`),gr(tt,`transform: translateY(${o(X)??""}px);`)},[()=>Math.max((o(T)>o(s),o(T)),0)]),_(Q,de)};H(Oe,Q=>{o(x).length===0?Q(et):Q(ct,!1)},!0)}_(U,ae)};H(ie,U=>{(o(N)()||[]).length===0?U(le):U(re,!1)},!0)}_(C,$)};H(Me,C=>{Lr()?C(en,!1):C(Qe)})}Pt(Ie,C=>k(n,C),()=>o(n));var Nn=A(Se,2);{var tn=C=>{var $=Oc(),ie=b($);ie.__click=[Lc,u];var le=b(ie);Kn(le,{children:(U,ae)=>{var Oe=Je("top");_(U,Oe)}});var re=A(le,2);pe(re,()=>({"--size":"22px"})),he(re.lastChild,{name:"up"}),_(C,$)};H(Nn,C=>{o(d)&&C(tn)})}_(e,oe),Y()}De(["click"]);var Fc=R('<!> <div class="content svelte-cu0ar8"><!></div>',1);function Uc(e){var t=Fc(),n=L(t);Zl(n,{});var r=A(n,2),s=b(r);Bc(s,{}),_(e,t)}var Dt=(e=>(e.Light="light",e.System="system",e.Dark="dark",e))(Dt||{});let lo=I(se(localStorage.getItem("colorScheme")||"system"));const jc=e=>{localStorage.setItem("colorScheme",e),e==="system"?window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.dataset.colorScheme="dark":document.documentElement.dataset.colorScheme="light":document.documentElement.dataset.colorScheme=e,k(lo,e,!0)},$c=()=>o(lo);var Hc=R('<div class="wrapper svelte-1syxvud"><fieldset class="switcher svelte-1syxvud"><legend class="vh svelte-1syxvud">Color Scheme</legend> <input id="light" type="radio" aria-label="Light"/> <label for="light" title="Light" aria-label="Light"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <input id="system" type="radio" aria-label="System"/> <label for="system" title="System" aria-label="System"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <input id="dark" type="radio" aria-label="Dark"/> <label for="dark" title="Dark" aria-label="Dark"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <div class="wrapSwitcherStatus svelte-1syxvud"><div class="switcherStatus svelte-1syxvud"></div></div></fieldset></div>');function qc(e,t){G(t,!0);const n=D($c),r=y=>{const g=y.target.value;jc(g)},s="color-scheme-switcher";var a=Hc(),i=b(a),c=A(b(i),2);J(c,1,Z(["vh","input"]),"svelte-1syxvud"),me(c,"name",s),c.__change=r;var l=A(c,2);J(l,1,Z(["switcherButton","light"]),"svelte-1syxvud");var u=b(l);pe(u,()=>({"--size":"20px"})),he(u.lastChild,{name:"sun"});var f=A(l,2);J(f,1,Z(["vh","input"]),"svelte-1syxvud"),me(f,"name",s),f.__change=r;var v=A(f,2);J(v,1,Z(["switcherButton","system"]),"svelte-1syxvud");var d=b(v);pe(d,()=>({"--size":"14px"})),he(d.lastChild,{name:"a"});var p=A(v,2);J(p,1,Z(["vh","input"]),"svelte-1syxvud"),me(p,"name",s),p.__change=r;var h=A(p,2);J(h,1,Z(["switcherButton","dark"]),"svelte-1syxvud");var m=b(h);return pe(m,()=>({"--size":"20px"})),he(m.lastChild,{name:"moon"}),te(()=>{jr(c,Dt.Light),dr(c,o(n)===Dt.Light),jr(f,Dt.System),dr(f,o(n)===Dt.System),jr(p,Dt.Dark),dr(p,o(n)===Dt.Dark)}),_(e,a),Y({handleChange:r})}De(["change"]);const Kc=(e,t)=>{t.onChange(!t.checked)};var zc=R('<label class="switch svelte-nn0dud"><input class="vh svelte-nn0dud" type="checkbox"/> <span class="slider svelte-nn0dud"></span></label>');function Vc(e,t){G(t,!0);var n=zc(),r=b(n);r.__change=[Kc,t],te(()=>dr(r,t.checked)),_(e,n),Y()}De(["change"]);const Wc=()=>{Ae("import")},Gc=()=>{Ae("export")},Yc=()=>{Ae("clearStorage")},Zc=()=>{Ae("accessKeys")};var Jc=R('<li class="svelte-1kuxgbs"><button class="button svelte-1kuxgbs"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1kuxgbs">Access keys</span></button></li>'),Xc=R("<span> </span>"),Qc=R('<div class="svelte-1kuxgbs"><!> <ul class="svelte-1kuxgbs"><li class="svelte-1kuxgbs"><button class="button svelte-1kuxgbs"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1kuxgbs">Import data</span></button></li> <li class="svelte-1kuxgbs"><button class="button svelte-1kuxgbs"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1kuxgbs">Export data</span></button></li> <li class="svelte-1kuxgbs"><button class="button svelte-1kuxgbs"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1kuxgbs">Clear storage</span></button></li> <!></ul> <div class="favicons svelte-1kuxgbs"><span class="faviconsLabel svelte-1kuxgbs">show favicons</span> <!></div> <div class="version svelte-1kuxgbs"><!></div></div>');function eu(e,t){G(t,!0);let n=I("");const r=async z=>{try{const O=await(await fetch("/build-metadata.json",{signal:z})).json();k(n,`${O.buildHash}`)}catch{}};ye(()=>{const z=new AbortController;return r(z.signal),()=>{z.abort()}});let s=D(jl),a=D(Zs);const i=z=>{ic(z)};var c=Qc(),l=b(c);qc(l,{});var u=A(l,2),f=b(u),v=b(f);v.__click=[Wc];var d=b(v);pe(d,()=>({"--size":"20px"})),he(d.lastChild,{name:"import"});var p=A(f,2),h=b(p);h.__click=[Gc];var m=b(h);pe(m,()=>({"--size":"20px"})),he(m.lastChild,{name:"export"});var y=A(p,2),g=b(y);g.__click=[Yc];var w=b(g);pe(w,()=>({"--size":"20px"})),he(w.lastChild,{name:"trash"});var S=A(y,2);{var N=z=>{var F=Jc(),O=b(F);O.__click=[Zc];var fe=b(O);pe(fe,()=>({"--size":"20px"})),he(fe.lastChild,{name:"key"}),_(z,F)};H(S,z=>{o(s)&&z(N)})}var T=A(u,2),E=A(b(T),2);Vc(E,{get checked(){return o(a)},onChange:i});var x=A(T,2),j=b(x);{var X=z=>{var F=Xc(),O=b(F);te(fe=>xr(O,`version: 0.0.1 build_date: "${fe??""}" build_hash:
				${o(n)??""}`),[()=>new Date(1753693548075).toISOString().replaceAll("T"," ").replace(/\..*/,"")]),_(z,F)};H(j,z=>{o(n)&&z(X)})}_(e,c),Y()}De(["click"]);var tu=R('<div class="content svelte-9hh95f"><p class="message svelte-9hh95f">use app</p> <div class="buttonContainer svelte-9hh95f"><div class="buttonContainerItem svelte-9hh95f"><!></div> <div class="buttonContainerItem svelte-9hh95f"><!></div></div></div>');function nu(e,t){G(t,!0);let n=I("idle");const r=()=>{k(n,"loading"),Ae("auth")},s=async()=>{k(n,"loading"),await cc(),Fn(!1),$s()};je(()=>{Fn(o(n)==="idle"||o(n)==="loading")}),ye(()=>(Fn(!0),()=>{Fn(!1)}));var a=tu(),i=A(b(a),2),c=b(i),l=b(c);Ct(l,{onClick:r,fullWidth:!0,children:(v,d)=>{var p=Je("with account");_(v,p)},$$slots:{default:!0}});var u=A(c,2),f=b(u);Ct(f,{onClick:s,fullWidth:!0,type:"secondary",children:(v,d)=>{var p=Je("without account");_(v,p)},$$slots:{default:!0}}),_(e,a),Y()}var ru=R('<div class="content svelte-9hh95f"><p class="message svelte-9hh95f">sign in / sign up</p> <div class="buttonContainer svelte-9hh95f"><div class="buttonContainerItem svelte-9hh95f"><!></div> <div class="buttonContainerItem svelte-9hh95f"><!></div></div></div>');function au(e,t){G(t,!1);const n=async()=>{Ae("signin")},r=async()=>{Ae("signup")};ye(()=>(Fn(!0),Ka(!0),()=>{Ka(!1)})),Cn();var s=ru(),a=A(b(s),2),i=b(a),c=b(i);Ct(c,{onClick:n,fullWidth:!0,children:(f,v)=>{var d=Je("sign in");_(f,d)},$$slots:{default:!0}});var l=A(i,2),u=b(l);Ct(u,{onClick:r,fullWidth:!0,children:(f,v)=>{var d=Je("sign up");_(f,d)},$$slots:{default:!0}}),_(e,s),Y()}let co=I(200);const su=e=>{k(co,e,!0)},ou=()=>o(co);var iu=R('<div class="svelte-m08fup"><!></div>');function Fe(e,t){G(t,!0);let n=I(null);ye(()=>{o(n)&&(o(n).getBoundingClientRect(),o(n).style.opacity="1");const a=new ResizeObserver(i=>{for(let c of i){const l=c.contentRect.height;console.log("Div height:",l),su(l)}});if(o(n))return a.observe(o(n)),()=>{o(n)&&a.unobserve(o(n)),a.disconnect()}});var r=iu(),s=b(r);Et(s,()=>t.children),Pt(r,a=>k(n,a),()=>o(n)),_(e,r),Y()}var lu=R('<div class="svelte-uzefkz"><!></div>');function gt(e,t){G(t,!1);const n=ou();Cn();var r=lu(),s=b(r);io(s,{}),te(()=>gr(r,`min-height: ${n??""}px;`)),_(e,r),Y()}var cu=R('<div class="svelte-1tpcci8"><p class="svelte-1tpcci8">Something went wrong. Please reload the page</p> <!></div>');function mt(e){var t=cu(),n=A(b(t),2);Ct(n,{onClick:()=>location.reload(),children:(r,s)=>{var a=Je("Reload");_(r,a)},$$slots:{default:!0}}),_(e,t)}var uu=R('<div class="svelte-ndasxn"><p class="svelte-ndasxn">Page not found</p> <!></div>');function fu(e,t){G(t,!1);const n=()=>{dt("/")};Cn();var r=uu(),s=A(b(r),2);Ct(s,{element:"a",href:"/",onClick:n,children:(a,i)=>{var c=Je("close");_(a,c)},$$slots:{default:!0}}),_(e,r),Y()}var du=R("<!> <!>",1);function vu(e,t){G(t,!0);const n=(F,O=Ht,fe)=>{let be=Er(()=>Po(fe?.(),!1));var ne=M(),oe=L(ne);{var Se=Me=>{Fe(Me,{children:(Qe,en)=>{eu(Qe,{})},$$slots:{default:!0}})},Ie=Me=>{var Qe=M(),en=L(Qe);{var Nn=C=>{Fe(C,{children:($,ie)=>{var le=M(),re=L(le);Ve(re,N,U=>{gt(U,{})},(U,ae)=>{var Oe=M();const et=D(()=>o(ae).default);var ct=L(Oe);We(ct,()=>o(et),(Q,de)=>{de(Q,{})}),_(U,Oe)},U=>{mt(U)}),_($,le)},$$slots:{default:!0}})},tn=C=>{var $=M(),ie=L($);{var le=U=>{Fe(U,{children:(ae,Oe)=>{var et=M(),ct=L(et);Ve(ct,p,Q=>{gt(Q,{})},(Q,de)=>{var tt=M();const ve=D(()=>o(de).default);var xe=L(tt);We(xe,()=>o(ve),(ce,nt)=>{nt(ce,{})}),_(Q,tt)},Q=>{mt(Q)}),_(ae,et)},$$slots:{default:!0}})},re=U=>{var ae=M(),Oe=L(ae);{var et=Q=>{Fe(Q,{children:(de,tt)=>{var ve=M(),xe=L(ve);Ve(xe,h,ce=>{gt(ce,{})},(ce,nt)=>{var xt=M();const nn=D(()=>o(nt).default);var xn=L(xt);We(xn,()=>o(nn),(ke,ht)=>{ht(ke,{})}),_(ce,xt)},ce=>{mt(ce)}),_(de,ve)},$$slots:{default:!0}})},ct=Q=>{var de=M(),tt=L(de);{var ve=ce=>{Fe(ce,{children:(nt,xt)=>{var nn=M(),xn=L(nn);Ve(xn,m,ke=>{gt(ke,{})},(ke,ht)=>{var Ln=M();const Tr=D(()=>o(ht).default);var Ar=L(Ln);We(Ar,()=>o(Tr),(pt,rn)=>{rn(pt,{})}),_(ke,Ln)},ke=>{mt(ke)}),_(nt,nn)},$$slots:{default:!0}})},xe=ce=>{var nt=M(),xt=L(nt);{var nn=ke=>{Fe(ke,{children:(ht,Ln)=>{nu(ht,{})},$$slots:{default:!0}})},xn=ke=>{var ht=M(),Ln=L(ht);{var Tr=pt=>{Fe(pt,{children:(rn,Ca)=>{au(rn,{})},$$slots:{default:!0}})},Ar=pt=>{var rn=M(),Ca=L(rn);{var uo=an=>{Fe(an,{children:(tr,Na)=>{var nr=M(),Dr=L(nr);Ve(Dr,y,Re=>{gt(Re,{})},(Re,sn)=>{var Tn=M();const on=D(()=>o(sn).default);var An=L(Tn);We(An,()=>o(on),(Ee,_t)=>{_t(Ee,{})}),_(Re,Tn)},Re=>{mt(Re)}),_(tr,nr)},$$slots:{default:!0}})},fo=an=>{var tr=M(),Na=L(tr);{var nr=Re=>{Fe(Re,{children:(sn,Tn)=>{var on=M(),An=L(on);Ve(An,g,Ee=>{gt(Ee,{})},(Ee,_t)=>{var Dn=M();const ln=D(()=>o(_t).default);var In=L(Dn);We(In,()=>o(ln),(Pe,Lt)=>{Lt(Pe,{})}),_(Ee,Dn)},Ee=>{mt(Ee)}),_(sn,on)},$$slots:{default:!0}})},Dr=Re=>{var sn=M(),Tn=L(sn);{var on=Ee=>{Fe(Ee,{children:(_t,Dn)=>{var ln=M(),In=L(ln);Ve(In,w,Pe=>{gt(Pe,{})},(Pe,Lt)=>{var rr=M();const ar=D(()=>o(Lt).default);var Ir=L(rr);We(Ir,()=>o(ar),(Tt,Mr)=>{Mr(Tt,{get hidden(){return o(be)}})}),_(Pe,rr)},Pe=>{mt(Pe)}),_(_t,ln)},$$slots:{default:!0}})},An=Ee=>{var _t=M(),Dn=L(_t);{var ln=Pe=>{Fe(Pe,{children:(Lt,rr)=>{var ar=M(),Ir=L(ar);Ve(Ir,S,Tt=>{gt(Tt,{})},(Tt,Mr)=>{var xa=M();const vo=D(()=>o(Mr).default);var ho=L(xa);We(ho,()=>o(vo),(po,_o)=>{_o(po,{})}),_(Tt,xa)},Tt=>{mt(Tt)}),_(Lt,ar)},$$slots:{default:!0}})},In=Pe=>{Fe(Pe,{children:(Lt,rr)=>{fu(Lt,{})},$$slots:{default:!0}})};H(Dn,Pe=>{O()==="confirmAccessKey"?Pe(ln):Pe(In,!1)},!0)}_(Ee,_t)};H(Tn,Ee=>{O()==="accessKeys"?Ee(on):Ee(An,!1)},!0)}_(Re,sn)};H(Na,Re=>{O()==="signin"?Re(nr):Re(Dr,!1)},!0)}_(an,tr)};H(Ca,an=>{O()==="signup"?an(uo):an(fo,!1)},!0)}_(pt,rn)};H(Ln,pt=>{O()==="auth"?pt(Tr):pt(Ar,!1)},!0)}_(ke,ht)};H(xt,ke=>{O()==="start"?ke(nn):ke(xn,!1)},!0)}_(ce,nt)};H(tt,ce=>{O()==="clearStorage"?ce(ve):ce(xe,!1)},!0)}_(Q,de)};H(Oe,Q=>{O()==="export"?Q(et):Q(ct,!1)},!0)}_(U,ae)};H(ie,U=>{O()==="import"?U(le):U(re,!1)},!0)}_(C,$)};H(en,C=>{O()==="newNote"?C(Nn):C(tn,!1)},!0)}_(Me,Qe)};H(oe,Me=>{O()==="settings"?Me(Se):Me(Ie,!1)})}_(F,ne)};let r=D(vl),s=D(Lr),a=null,i=null,c=null,l=null,u=null,f=null,v=null,d=null;function p(){return a||(a=Ge(()=>import("./ImportData-BbdZyBKr.js"),__vite__mapDeps([6,7]))),a}function h(){return i||(i=Ge(()=>import("./ExportData-CYDmNNep.js"),__vite__mapDeps([8,9,10,11]))),i}function m(){return c||(c=Ge(()=>import("./ClearStore-luIEcTSx.js"),__vite__mapDeps([12,13]))),c}function y(){return l||(l=Ge(()=>import("./Signup-CcFoX9d1.js"),__vite__mapDeps([14,15,16]))),l}function g(){return u||(u=Ge(()=>import("./Signin-Baiq5Qoy.js"),__vite__mapDeps([17,15,16]))),u}function w(){return f||(f=Ge(()=>import("./AccessKeys-BtxTq92F.js"),__vite__mapDeps([18,15,19]))),f}function S(){return v||(v=Ge(()=>import("./ConfirmAccessKey-DVteLREc.js"),__vite__mapDeps([20,15,21,22,23]))),v}function N(){return d||(d=Ge(()=>import("./NewNote-CY7pkuuo.js"),__vite__mapDeps([24,21,22,9,10,25]))),d}var T=du(),E=L(T);{var x=F=>{Uc(F)};H(E,F=>{o(s)&&F(x)})}var j=A(E,2);{var X=F=>{var O=M(),fe=L(O);fn(fe,17,()=>o(r),Oi,(be,ne,oe)=>{{let Se=D(()=>oe!==o(r).length-1&&!!o(r)[oe+1]?.shown);za(be,{get shown(){return o(ne).shown},get hidden(){return o(Se)},isLastDialog:oe===0,children:(Ie,Me)=>{{let Qe=D(()=>oe!==o(r).length-1&&!!o(r)[oe+1]?.shown);n(Ie,()=>o(ne).page,()=>o(Qe))}},$$slots:{default:!0}})}}),_(F,O)},z=F=>{var O=M(),fe=L(O);{var be=ne=>{{let oe=D(()=>o(r).length===1);za(ne,{onBack:()=>Hs(),get shown(){return o(r)[o(r).length-1].shown},hidden:!1,get isLastDialog(){return o(oe)},children:(Se,Ie)=>{n(Se,()=>o(r)[o(r).length-1].page)},$$slots:{default:!0}})}};H(fe,ne=>{o(r).length>0&&ne(be)},!0)}_(F,O)};H(j,F=>{Xt()?F(X):F(z,!1)})}_(e,T),Y()}const Rn=se({working:!1,swipingRatio:1,isSwiping:!1,duration:.35});let na=!1;const qr=()=>{document.activeElement instanceof HTMLInputElement&&document.activeElement.type==="text"||document.activeElement instanceof HTMLTextAreaElement?na=!0:na=!1},hu=()=>na;function pu(){const e=navigator.userAgent;if(!(/iPad|iPhone|iPod/.test(e)&&!window.MSStream))return!1;const n=/Safari/.test(e)&&!/Chrome/.test(e)&&!/CriOS/.test(e)&&!/FxiOS/.test(e),r=/Macintosh/.test(e)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>1;return!!n||!!r}const _u=pu();function gu(e,t){G(t,!1),ye(()=>{qr(),document.addEventListener("focusin",qr),document.addEventListener("focusout",qr),document.addEventListener("touchmove",function(n){hu()&&_u&&n.preventDefault()},{passive:!1})}),Cn(),Y()}function mu(e,t){G(t,!1);let n=0;ye(()=>{document.querySelector("div"),document.addEventListener("touchstart",r=>{n=r.touches[0].clientX},{passive:!1}),document.addEventListener("touchmove",r=>{const a=r.touches[0].clientX-n;(n<50&&a>0||n>window.innerWidth-50&&a<0)&&r.preventDefault()},{passive:!1}),document.addEventListener("touchend",()=>{n=0}),document.addEventListener("touchcancel",()=>{n=0})}),Cn(),Y()}var wu=R('<!> <!> <!> <main><!> <div class="container svelte-ngsolt"><!></div></main>',1);function yu(e,t){G(t,!0),ye(async()=>{await new Promise(h=>setTimeout(h,100)),await Si(),Rn.working=!0});let n=D(()=>Xe().length>0),r=D(Lr),s=I(null);je(()=>{Xt()||(mr.ref=o(s))});var a=wu(),i=L(a);mu(i,{});var c=A(i,2);gu(c,{});var l=A(c,2);Zi(l,{});var u=A(l,2),f=b(u);{var v=h=>{Il(h,{})};H(f,h=>{o(r)&&h(v)})}var d=A(f,2),p=b(d);vu(p,{}),Pt(u,h=>k(s,h),()=>o(s)),te(()=>{gr(u,`--swiping-ratio: ${Rn.swipingRatio}; --transition-timing-default: ${Rn.duration}s;`),J(u,1,Z(["main",{isAnimationOn:Rn.working&&!Rn.isSwiping,open:o(n)}]),"svelte-ngsolt")}),_(e,a),Y()}window.addEventListener("unhandledrejection",e=>{alert("Error: "+e.reason.message)});window.isUnsupportedBrowser||Di(yu,{target:document.getElementById("app")});export{Lr as $,$l as A,Ct as B,Eu as C,Tu as D,se as E,Ka as F,Cu as G,Du as H,Pu as I,Nu as J,fn as K,io as L,pe as M,he as N,xr as O,Oi as P,D as Q,Ae as R,Xe as S,P as T,jl as U,Kn as V,xu as W,Hs as X,fl as Y,we as Z,Ki as _,o as a,lr as a0,Cn as a1,Lu as a2,ku as a3,me as a4,jr as a5,dr as a6,gr as a7,Rn as a8,hu as a9,Et as aa,Pc as ab,Iu as ac,gl as ad,ou as ae,vl as af,Ms as ag,Qi as ah,I as b,b as c,_ as d,Y as e,R as f,Xl as g,A as h,H as i,L as j,Xt as k,M as l,Pt as m,k as n,ye as o,G as p,te as q,J as r,Fn as s,Je as t,je as u,Z as v,xs as w,De as x,Au as y,$s as z};
