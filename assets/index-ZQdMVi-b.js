const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ImportData-Baz0K76a.js","assets/Loader-DZMjsMV4.js","assets/Loader-BEJh1FrK.css","assets/ImportData-CZGzVRRc.css","assets/ExportData-CAOhyqoK.js","assets/ExportData-Cqdm1vpS.css","assets/ClearStore-B172m2NU.js","assets/ClearStore-DiVqV26R.css","assets/Signup-BSbEr8W_.js","assets/Signup-CnX7iJxK.css","assets/Signin-tssPhg6o.js"])))=>i.map(i=>d[i]);
var ro=Object.defineProperty;var ao=(t,e,n)=>e in t?ro(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var at=(t,e,n)=>ao(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();const br=!1;var Qn=Array.isArray,oo=Array.prototype.indexOf,$n=Array.from,so=Object.defineProperty,bt=Object.getOwnPropertyDescriptor,Fr=Object.getOwnPropertyDescriptors,io=Object.prototype,lo=Array.prototype,er=Object.getPrototypeOf,Er=Object.isExtensible;const Qt=()=>{};function co(t){return typeof(t==null?void 0:t.then)=="function"}function uo(t){return t()}function dn(t){for(var e=0;e<t.length;e++)t[e]()}const Ae=2,Hr=4,mn=8,tr=16,We=32,Lt=64,nr=128,Ce=256,fn=512,Pe=1024,ze=2048,ht=4096,Ke=8192,rr=16384,Ur=32768,$t=65536,kr=1<<17,fo=1<<18,Kr=1<<19,zn=1<<20,lt=Symbol("$state"),vo=Symbol("legacy props"),ho=Symbol(""),zr=new class extends Error{constructor(){super(...arguments);at(this,"name","StaleReactionError");at(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function jr(t){return t===this.v}function go(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function Vr(t){return!go(t,this.v)}function po(t){throw new Error("https://svelte.dev/e/effect_in_teardown")}function _o(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function mo(t){throw new Error("https://svelte.dev/e/effect_orphan")}function wo(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function yo(t){throw new Error("https://svelte.dev/e/props_invalid_value")}function So(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function bo(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Eo(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let At=!1,ko=!1;function To(){At=!0}const ar=1,or=2,Wr=4,Co=8,Do=16,Lo=1,Ao=2,Po=4,Oo=8,xo=16,No=1,Mo=2,ye=Symbol(),Io="http://www.w3.org/1999/xhtml";function Bo(t){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let ce=null;function vn(t){ce=t}function q(t,e=!1,n){var r=ce={p:ce,c:null,d:!1,e:null,m:!1,s:t,x:null,l:null};At&&!e&&(ce.l={s:null,u:null,r1:[],r2:dt(!1)}),ta(()=>{r.d=!0})}function G(t){const e=ce;if(e!==null){t!==void 0&&(e.x=t);const i=e.e;if(i!==null){var n=ie,r=ne;e.e=null;try{for(var a=0;a<i.length;a++){var o=i[a];Be(o.effect),Oe(o.reaction),sr(o.fn)}}finally{Be(n),Oe(r)}}ce=e.p,e.m=!0}return t||{}}function Pt(){return!At||ce!==null&&ce.l===null}function fe(t){if(typeof t!="object"||t===null||lt in t)return t;const e=er(t);if(e!==io&&e!==lo)return t;var n=new Map,r=Qn(t),a=x(0),o=ne,i=l=>{var c=ne;Oe(o);var u=l();return Oe(c),u};return r&&n.set("length",x(t.length)),new Proxy(t,{defineProperty(l,c,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&So();var d=n.get(c);return d===void 0?d=i(()=>{var v=x(u.value);return n.set(c,v),v}):E(d,u.value,!0),!0},deleteProperty(l,c){var u=n.get(c);if(u===void 0){if(c in l){const f=i(()=>x(ye));n.set(c,f),On(a)}}else{if(r&&typeof c=="string"){var d=n.get("length"),v=Number(c);Number.isInteger(v)&&v<d.v&&E(d,v)}E(u,ye),On(a)}return!0},get(l,c,u){var h;if(c===lt)return t;var d=n.get(c),v=c in l;if(d===void 0&&(!v||(h=bt(l,c))!=null&&h.writable)&&(d=i(()=>{var _=fe(v?l[c]:ye),p=x(_);return p}),n.set(c,d)),d!==void 0){var f=s(d);return f===ye?void 0:f}return Reflect.get(l,c,u)},getOwnPropertyDescriptor(l,c){var u=Reflect.getOwnPropertyDescriptor(l,c);if(u&&"value"in u){var d=n.get(c);d&&(u.value=s(d))}else if(u===void 0){var v=n.get(c),f=v==null?void 0:v.v;if(v!==void 0&&f!==ye)return{enumerable:!0,configurable:!0,value:f,writable:!0}}return u},has(l,c){var f;if(c===lt)return!0;var u=n.get(c),d=u!==void 0&&u.v!==ye||Reflect.has(l,c);if(u!==void 0||ie!==null&&(!d||(f=bt(l,c))!=null&&f.writable)){u===void 0&&(u=i(()=>{var h=d?fe(l[c]):ye,_=x(h);return _}),n.set(c,u));var v=s(u);if(v===ye)return!1}return d},set(l,c,u,d){var g;var v=n.get(c),f=c in l;if(r&&c==="length")for(var h=u;h<v.v;h+=1){var _=n.get(h+"");_!==void 0?E(_,ye):h in l&&(_=i(()=>x(ye)),n.set(h+"",_))}if(v===void 0)(!f||(g=bt(l,c))!=null&&g.writable)&&(v=i(()=>x(void 0)),E(v,fe(u)),n.set(c,v));else{f=v.v!==ye;var p=i(()=>fe(u));E(v,p)}var m=Reflect.getOwnPropertyDescriptor(l,c);if(m!=null&&m.set&&m.set.call(d,u),!f){if(r&&typeof c=="string"){var S=n.get("length"),b=Number(c);Number.isInteger(b)&&b>=S.v&&E(S,b+1)}On(a)}return!0},ownKeys(l){s(a);var c=Reflect.ownKeys(l).filter(v=>{var f=n.get(v);return f===void 0||f.v!==ye});for(var[u,d]of n)d.v!==ye&&!(u in l)&&c.push(u);return c},setPrototypeOf(){bo()}})}function On(t,e=1){E(t,t.v+e)}function en(t){var e=Ae|ze,n=ne!==null&&(ne.f&Ae)!==0?ne:null;return ie===null||n!==null&&(n.f&Ce)!==0?e|=Ce:ie.f|=Kr,{ctx:ce,deps:null,effects:null,equals:jr,f:e,fn:t,reactions:null,rv:0,v:null,wv:0,parent:n??ie,ac:null}}function K(t){const e=en(t);return ca(e),e}function Yr(t){const e=en(t);return e.equals=Vr,e}function Xr(t){var e=t.effects;if(e!==null){t.effects=null;for(var n=0;n<e.length;n+=1)je(e[n])}}function Ro(t){for(var e=t.parent;e!==null;){if((e.f&Ae)===0)return e;e=e.parent}return null}function qr(t){var e,n=ie;Be(Ro(t));try{Xr(t),e=va(t)}finally{Be(n)}return e}function Gr(t){var e=qr(t);if(t.equals(e)||(t.v=e,t.wv=da()),!Nt){var n=(Ze||(t.f&Ce)!==0)&&t.deps!==null?ht:Pe;Re(t,n)}}const Wt=new Map;function dt(t,e){var n={f:0,v:t,reactions:null,equals:jr,rv:0,wv:0};return n}function x(t,e){const n=dt(t);return ca(n),n}function jn(t,e=!1,n=!0){var a;const r=dt(t);return e||(r.equals=Vr),At&&n&&ce!==null&&ce.l!==null&&((a=ce.l).s??(a.s=[])).push(r),r}function E(t,e,n=!1){ne!==null&&(!Ie||(ne.f&kr)!==0)&&Pt()&&(ne.f&(Ae|tr|kr))!==0&&!(pe!=null&&pe[1].includes(t)&&pe[0]===ne)&&Eo();let r=n?fe(e):e;return Et(t,r)}function Et(t,e){if(!t.equals(e)){var n=t.v;Nt?Wt.set(t,e):Wt.set(t,n),t.v=e,(t.f&Ae)!==0&&((t.f&ze)!==0&&qr(t),Re(t,(t.f&Ce)===0?Pe:ht)),t.wv=da(),Jr(t,ze),Pt()&&ie!==null&&(ie.f&Pe)!==0&&(ie.f&(We|Lt))===0&&(Le===null?Go([t]):Le.push(t))}return e}function Jr(t,e){var n=t.reactions;if(n!==null)for(var r=Pt(),a=n.length,o=0;o<a;o++){var i=n[o],l=i.f;(l&ze)===0&&(!r&&i===ie||(Re(i,e),(l&(Pe|Ce))!==0&&((l&Ae)!==0?Jr(i,ht):cr(i))))}}let Fo=!1;var Tr,Zr,Qr,$r;function Ho(){if(Tr===void 0){Tr=window,Zr=/Firefox/.test(navigator.userAgent);var t=Element.prototype,e=Node.prototype,n=Text.prototype;Qr=bt(e,"firstChild").get,$r=bt(e,"nextSibling").get,Er(t)&&(t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__style=void 0,t.__e=void 0),Er(n)&&(n.__t=void 0)}}function wn(t=""){return document.createTextNode(t)}function kt(t){return Qr.call(t)}function yn(t){return $r.call(t)}function k(t,e){return kt(t)}function W(t,e){{var n=kt(t);return n instanceof Comment&&n.data===""?yn(n):n}}function L(t,e=1,n=!1){let r=t;for(;e--;)r=yn(r);return r}function Uo(t){t.textContent=""}function ea(t){ie===null&&ne===null&&mo(),ne!==null&&(ne.f&Ce)!==0&&ie===null&&_o(),Nt&&po()}function Ko(t,e){var n=e.last;n===null?e.last=e.first=t:(n.next=t,t.prev=n,e.last=t)}function Ot(t,e,n,r=!0){var a=ie,o={ctx:ce,deps:null,nodes_start:null,nodes_end:null,f:t|ze,first:null,fn:e,last:null,next:null,parent:a,b:a&&a.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{lr(o),o.f|=Ur}catch(c){throw je(o),c}else e!==null&&cr(o);var i=n&&o.deps===null&&o.first===null&&o.nodes_start===null&&o.teardown===null&&(o.f&(Kr|nr))===0;if(!i&&r&&(a!==null&&Ko(o,a),ne!==null&&(ne.f&Ae)!==0)){var l=ne;(l.effects??(l.effects=[])).push(o)}return o}function ta(t){const e=Ot(mn,null,!1);return Re(e,Pe),e.teardown=t,e}function me(t){ea();var e=ie!==null&&(ie.f&We)!==0&&ce!==null&&!ce.m;if(e){var n=ce;(n.e??(n.e=[])).push({fn:t,effect:ie,reaction:ne})}else{var r=sr(t);return r}}function zo(t){return ea(),Sn(t)}function jo(t){const e=Ot(Lt,t,!0);return(n={})=>new Promise(r=>{n.outro?$e(e,()=>{je(e),r(void 0)}):(je(e),r(void 0))})}function sr(t){return Ot(Hr,t,!1)}function Sn(t){return Ot(mn,t,!0)}function ue(t,e=[],n=en){const r=e.map(n);return xt(()=>t(...r.map(s)))}function xt(t,e=0){var n=Ot(mn|tr|e,t,!0);return n}function et(t,e=!0){return Ot(mn|We,t,!0,e)}function na(t){var e=t.teardown;if(e!==null){const n=Nt,r=ne;Cr(!0),Oe(null);try{e.call(null)}finally{Cr(n),Oe(r)}}}function ra(t,e=!1){var a;var n=t.first;for(t.first=t.last=null;n!==null;){(a=n.ac)==null||a.abort(zr);var r=n.next;(n.f&Lt)!==0?n.parent=null:je(n,e),n=r}}function Vo(t){for(var e=t.first;e!==null;){var n=e.next;(e.f&We)===0&&je(e),e=n}}function je(t,e=!0){var n=!1;(e||(t.f&fo)!==0)&&t.nodes_start!==null&&t.nodes_end!==null&&(Wo(t.nodes_start,t.nodes_end),n=!0),ra(t,e&&!n),gn(t,0),Re(t,rr);var r=t.transitions;if(r!==null)for(const o of r)o.stop();na(t);var a=t.parent;a!==null&&a.first!==null&&aa(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes_start=t.nodes_end=t.ac=null}function Wo(t,e){for(;t!==null;){var n=t===e?null:yn(t);t.remove(),t=n}}function aa(t){var e=t.parent,n=t.prev,r=t.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),e!==null&&(e.first===t&&(e.first=r),e.last===t&&(e.last=n))}function $e(t,e){var n=[];ir(t,n,!0),oa(n,()=>{je(t),e&&e()})}function oa(t,e){var n=t.length;if(n>0){var r=()=>--n||e();for(var a of t)a.out(r)}else e()}function ir(t,e,n){if((t.f&Ke)===0){if(t.f^=Ke,t.transitions!==null)for(const i of t.transitions)(i.is_global||n)&&e.push(i);for(var r=t.first;r!==null;){var a=r.next,o=(r.f&$t)!==0||(r.f&We)!==0;ir(r,e,o?n:!1),r=a}}}function Yt(t){sa(t,!0)}function sa(t,e){if((t.f&Ke)!==0){t.f^=Ke;for(var n=t.first;n!==null;){var r=n.next,a=(n.f&$t)!==0||(n.f&We)!==0;sa(n,a?e:!1),n=r}if(t.transitions!==null)for(const o of t.transitions)(o.is_global||e)&&o.in()}}let Xt=[],Vn=[];function ia(){var t=Xt;Xt=[],dn(t)}function Yo(){var t=Vn;Vn=[],dn(t)}function bn(t){Xt.length===0&&queueMicrotask(ia),Xt.push(t)}function Xo(){Xt.length>0&&ia(),Vn.length>0&&Yo()}function qo(t){var e=ie;if((e.f&Ur)===0){if((e.f&nr)===0)throw t;e.fn(t)}else la(t,e)}function la(t,e){for(;e!==null;){if((e.f&nr)!==0)try{e.b.error(t);return}catch{}e=e.parent}throw t}let qt=!1,Gt=null,ct=!1,Nt=!1;function Cr(t){Nt=t}let jt=[];let ne=null,Ie=!1;function Oe(t){ne=t}let ie=null;function Be(t){ie=t}let pe=null;function ca(t){ne!==null&&ne.f&zn&&(pe===null?pe=[ne,[t]]:pe[1].push(t))}let Se=null,Te=0,Le=null;function Go(t){Le=t}let ua=1,hn=0,Ze=!1;function da(){return++ua}function En(t){var v;var e=t.f;if((e&ze)!==0)return!0;if((e&ht)!==0){var n=t.deps,r=(e&Ce)!==0;if(n!==null){var a,o,i=(e&fn)!==0,l=r&&ie!==null&&!Ze,c=n.length;if(i||l){var u=t,d=u.parent;for(a=0;a<c;a++)o=n[a],(i||!((v=o==null?void 0:o.reactions)!=null&&v.includes(u)))&&(o.reactions??(o.reactions=[])).push(u);i&&(u.f^=fn),l&&d!==null&&(d.f&Ce)===0&&(u.f^=Ce)}for(a=0;a<c;a++)if(o=n[a],En(o)&&Gr(o),o.wv>t.wv)return!0}(!r||ie!==null&&!Ze)&&Re(t,Pe)}return!1}function fa(t,e,n=!0){var r=t.reactions;if(r!==null)for(var a=0;a<r.length;a++){var o=r[a];pe!=null&&pe[1].includes(t)&&pe[0]===ne||((o.f&Ae)!==0?fa(o,e,!1):e===o&&(n?Re(o,ze):(o.f&Pe)!==0&&Re(o,ht),cr(o)))}}function va(t){var h;var e=Se,n=Te,r=Le,a=ne,o=Ze,i=pe,l=ce,c=Ie,u=t.f;Se=null,Te=0,Le=null,Ze=(u&Ce)!==0&&(Ie||!ct||ne===null),ne=(u&(We|Lt))===0?t:null,pe=null,vn(t.ctx),Ie=!1,hn++,t.f|=zn,t.ac!==null&&(t.ac.abort(zr),t.ac=null);try{var d=(0,t.fn)(),v=t.deps;if(Se!==null){var f;if(gn(t,Te),v!==null&&Te>0)for(v.length=Te+Se.length,f=0;f<Se.length;f++)v[Te+f]=Se[f];else t.deps=v=Se;if(!Ze||(u&Ae)!==0&&t.reactions!==null)for(f=Te;f<v.length;f++)((h=v[f]).reactions??(h.reactions=[])).push(t)}else v!==null&&Te<v.length&&(gn(t,Te),v.length=Te);if(Pt()&&Le!==null&&!Ie&&v!==null&&(t.f&(Ae|ht|ze))===0)for(f=0;f<Le.length;f++)fa(Le[f],t);return a!==null&&a!==t&&(hn++,Le!==null&&(r===null?r=Le:r.push(...Le))),d}catch(_){qo(_)}finally{Se=e,Te=n,Le=r,ne=a,Ze=o,pe=i,vn(l),Ie=c,t.f^=zn}}function Jo(t,e){let n=e.reactions;if(n!==null){var r=oo.call(n,t);if(r!==-1){var a=n.length-1;a===0?n=e.reactions=null:(n[r]=n[a],n.pop())}}n===null&&(e.f&Ae)!==0&&(Se===null||!Se.includes(e))&&(Re(e,ht),(e.f&(Ce|fn))===0&&(e.f^=fn),Xr(e),gn(e,0))}function gn(t,e){var n=t.deps;if(n!==null)for(var r=e;r<n.length;r++)Jo(t,n[r])}function lr(t){var e=t.f;if((e&rr)===0){Re(t,Pe);var n=ie,r=ct;ie=t,ct=!0;try{(e&tr)!==0?Vo(t):ra(t),na(t);var a=va(t);t.teardown=typeof a=="function"?a:null,t.wv=ua;var o;br&&ko&&(t.f&ze)!==0&&t.deps}finally{ct=r,ie=n}}}function Zo(){try{wo()}catch(t){if(Gt!==null)la(t,Gt);else throw t}}function ha(){var t=ct;try{var e=0;for(ct=!0;jt.length>0;){e++>1e3&&Zo();var n=jt,r=n.length;jt=[];for(var a=0;a<r;a++){var o=$o(n[a]);Qo(o)}Wt.clear()}}finally{qt=!1,ct=t,Gt=null}}function Qo(t){var e=t.length;if(e!==0)for(var n=0;n<e;n++){var r=t[n];(r.f&(rr|Ke))===0&&En(r)&&(lr(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null?aa(r):r.fn=null))}}function cr(t){qt||(qt=!0,queueMicrotask(ha));for(var e=Gt=t;e.parent!==null;){e=e.parent;var n=e.f;if((n&(Lt|We))!==0){if((n&Pe)===0)return;e.f^=Pe}}jt.push(e)}function $o(t){for(var e=[],n=t;n!==null;){var r=n.f,a=(r&(We|Lt))!==0,o=a&&(r&Pe)!==0;if(!o&&(r&Ke)===0){(r&Hr)!==0?e.push(n):a?n.f^=Pe:En(n)&&lr(n);var i=n.first;if(i!==null){n=i;continue}}var l=n.parent;for(n=n.next;n===null&&l!==null;)n=l.next,l=l.parent}return e}function ga(t){for(var e;;){if(Xo(),jt.length===0)return qt=!1,Gt=null,e;qt=!0,ha()}}async function es(){await Promise.resolve(),ga()}function s(t){var e=t.f,n=(e&Ae)!==0;if(ne!==null&&!Ie){if(!(pe!=null&&pe[1].includes(t))||pe[0]!==ne){var r=ne.deps;t.rv<hn&&(t.rv=hn,Se===null&&r!==null&&r[Te]===t?Te++:Se===null?Se=[t]:(!Ze||!Se.includes(t))&&Se.push(t))}}else if(n&&t.deps===null&&t.effects===null){var a=t,o=a.parent;o!==null&&(o.f&Ce)===0&&(a.f^=Ce)}return n&&(a=t,En(a)&&Gr(a)),Nt&&Wt.has(t)?Wt.get(t):t.v}function tn(t){var e=Ie;try{return Ie=!0,t()}finally{Ie=e}}const ts=-7169;function Re(t,e){t.f=t.f&ts|e}function ns(t){if(!(typeof t!="object"||!t||t instanceof EventTarget)){if(lt in t)Wn(t);else if(!Array.isArray(t))for(let e in t){const n=t[e];typeof n=="object"&&n&&lt in n&&Wn(n)}}}function Wn(t,e=new Set){if(typeof t=="object"&&t!==null&&!(t instanceof EventTarget)&&!e.has(t)){e.add(t),t instanceof Date&&t.getTime();for(let r in t)try{Wn(t[r],e)}catch{}const n=er(t);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=Fr(n);for(let a in r){const o=r[a].get;if(o)try{o.call(t)}catch{}}}}}const rs=["touchstart","touchmove"];function as(t){return rs.includes(t)}let Dr=!1;function os(){Dr||(Dr=!0,document.addEventListener("reset",t=>{Promise.resolve().then(()=>{var e;if(!t.defaultPrevented)for(const n of t.target.elements)(e=n.__on_r)==null||e.call(n)})},{capture:!0}))}function pa(t){var e=ne,n=ie;Oe(null),Be(null);try{return t()}finally{Oe(e),Be(n)}}function ss(t,e,n,r=n){t.addEventListener(e,()=>pa(n));const a=t.__on_r;a?t.__on_r=()=>{a(),r(!0)}:t.__on_r=()=>r(!0),os()}const _a=new Set,Yn=new Set;function is(t,e,n,r={}){function a(o){if(r.capture||Ut.call(e,o),!o.cancelBubble)return pa(()=>n==null?void 0:n.call(this,o))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?bn(()=>{e.addEventListener(t,a,r)}):e.addEventListener(t,a,r),a}function Jt(t,e,n,r,a){var o={capture:r,passive:a},i=is(t,e,n,o);(e===document.body||e===window||e===document||e instanceof HTMLMediaElement)&&ta(()=>{e.removeEventListener(t,i,o)})}function ke(t){for(var e=0;e<t.length;e++)_a.add(t[e]);for(var n of Yn)n(t)}function Ut(t){var b;var e=this,n=e.ownerDocument,r=t.type,a=((b=t.composedPath)==null?void 0:b.call(t))||[],o=a[0]||t.target,i=0,l=t.__root;if(l){var c=a.indexOf(l);if(c!==-1&&(e===document||e===window)){t.__root=e;return}var u=a.indexOf(e);if(u===-1)return;c<=u&&(i=c)}if(o=a[i]||t.target,o!==e){so(t,"currentTarget",{configurable:!0,get(){return o||n}});var d=ne,v=ie;Oe(null),Be(null);try{for(var f,h=[];o!==null;){var _=o.assignedSlot||o.parentNode||o.host||null;try{var p=o["__"+r];if(p!=null&&(!o.disabled||t.target===o))if(Qn(p)){var[m,...S]=p;m.apply(o,[t,...S])}else p.call(o,t)}catch(g){f?h.push(g):f=g}if(t.cancelBubble||_===e||_===null)break;o=_}if(f){for(let g of h)queueMicrotask(()=>{throw g});throw f}}finally{t.__root=e,delete t.currentTarget,Oe(d),Be(v)}}}function ma(t){var e=document.createElement("template");return e.innerHTML=t.replaceAll("<!>","<!---->"),e.content}function Zt(t,e){var n=ie;n.nodes_start===null&&(n.nodes_start=t,n.nodes_end=e)}function z(t,e){var n=(e&No)!==0,r=(e&Mo)!==0,a,o=!t.startsWith("<!>");return()=>{a===void 0&&(a=ma(o?t:"<!>"+t),n||(a=kt(a)));var i=r||Zr?document.importNode(a,!0):a.cloneNode(!0);if(n){var l=kt(i),c=i.lastChild;Zt(l,c)}else Zt(i,i);return i}}function ls(t,e,n="svg"){var r=!t.startsWith("<!>"),a=`<${n}>${r?t:"<!>"+t}</${n}>`,o;return()=>{if(!o){var i=ma(a),l=kt(i);o=kt(l)}var c=o.cloneNode(!0);return Zt(c,c),c}}function cs(t,e){return ls(t,e,"svg")}function De(t=""){{var e=wn(t+"");return Zt(e,e),e}}function le(){var t=document.createDocumentFragment(),e=document.createComment(""),n=wn();return t.append(e,n),Zt(e,n),t}function T(t,e){t!==null&&t.before(e)}function rc(){var t;return(t=window.__svelte??(window.__svelte={})).uid??(t.uid=1),`c${window.__svelte.uid++}`}function Mt(t,e){var n=e==null?"":typeof e=="object"?e+"":e;n!==(t.__t??(t.__t=t.nodeValue))&&(t.__t=n,t.nodeValue=n+"")}function us(t,e){return ds(t,e)}const yt=new Map;function ds(t,{target:e,anchor:n,props:r={},events:a,context:o,intro:i=!0}){Ho();var l=new Set,c=v=>{for(var f=0;f<v.length;f++){var h=v[f];if(!l.has(h)){l.add(h);var _=as(h);e.addEventListener(h,Ut,{passive:_});var p=yt.get(h);p===void 0?(document.addEventListener(h,Ut,{passive:_}),yt.set(h,1)):yt.set(h,p+1)}}};c($n(_a)),Yn.add(c);var u=void 0,d=jo(()=>{var v=n??e.appendChild(wn());return et(()=>{if(o){q({});var f=ce;f.c=o}a&&(r.$$events=a),u=t(v,r)||{},o&&G()}),()=>{var _;for(var f of l){e.removeEventListener(f,Ut);var h=yt.get(f);--h===0?(document.removeEventListener(f,Ut),yt.delete(f)):yt.set(f,h)}Yn.delete(c),v!==n&&((_=v.parentNode)==null||_.removeChild(v))}});return fs.set(u,d),u}let fs=new WeakMap;const xn=0,ln=1,Nn=2;function Rt(t,e,n,r,a){var o=t,i=Pt(),l=ce,c=ye,u,d,v,f=i?dt(void 0):jn(void 0,!1,!1),h=i?dt(void 0):jn(void 0,!1,!1),_=!1;function p(S,b){_=!0,b&&(Be(m),Oe(m),vn(l));try{S===ln&&r&&(d?Yt(d):d=et(()=>r(o,f))),S!==xn&&u&&$e(u,()=>u=null),S!==ln&&d&&$e(d,()=>d=null),S!==Nn&&v&&$e(v,()=>v=null)}finally{b&&(vn(null),Oe(null),Be(null),ga())}}var m=xt(()=>{if(c!==(c=e())){if(co(c)){var S=c;_=!1,S.then(b=>{S===c&&(Et(f,b),p(ln,!0))},b=>{if(S===c)throw Et(h,b),p(Nn,!0),h.v}),bn(()=>{_||p(xn,!0)})}else Et(f,c),p(ln,!1);return()=>c=ye}})}function U(t,e,[n,r]=[0,0]){var a=t,o=null,i=null,l=ye,c=n>0?$t:0,u=!1;const d=(f,h=!0)=>{u=!0,v(h,f)},v=(f,h)=>{l!==(l=f)&&(l?(o?Yt(o):h&&(o=et(()=>h(a))),i&&$e(i,()=>{i=null})):(i?Yt(i):h&&(i=et(()=>h(a,[n+1,r]))),o&&$e(o,()=>{o=null})))};xt(()=>{u=!1,e(d),u||v(null,null)},c)}function we(t,e){Sn(()=>{var n=e();for(var r in n){var a=n[r];a?t.style.setProperty(r,a):t.style.removeProperty(r)}})}function vs(t,e){return e}function hs(t,e,n,r){for(var a=[],o=e.length,i=0;i<o;i++)ir(e[i].e,a,!0);var l=o>0&&a.length===0&&n!==null;if(l){var c=n.parentNode;Uo(c),c.append(n),r.clear(),Ge(t,e[0].prev,e[o-1].next)}oa(a,()=>{for(var u=0;u<o;u++){var d=e[u];l||(r.delete(d.k),Ge(t,d.prev,d.next)),je(d.e,!l)}})}function Qe(t,e,n,r,a,o=null){var i=t,l={flags:e,items:new Map,first:null},c=(e&Wr)!==0;if(c){var u=t;i=u.appendChild(wn())}var d=null,v=!1,f=Yr(()=>{var h=n();return Qn(h)?h:h==null?[]:$n(h)});xt(()=>{var h=s(f),_=h.length;v&&_===0||(v=_===0,gs(h,l,i,a,e,r,n),o!==null&&(_===0?d?Yt(d):d=et(()=>o(i)):d!==null&&$e(d,()=>{d=null})),s(f))})}function gs(t,e,n,r,a,o,i){var F,N,A,B;var l=(a&Co)!==0,c=(a&(ar|or))!==0,u=t.length,d=e.items,v=e.first,f=v,h,_=null,p,m=[],S=[],b,g,w,y;if(l)for(y=0;y<u;y+=1)b=t[y],g=o(b,y),w=d.get(g),w!==void 0&&((F=w.a)==null||F.measure(),(p??(p=new Set)).add(w));for(y=0;y<u;y+=1){if(b=t[y],g=o(b,y),w=d.get(g),w===void 0){var P=f?f.e.nodes_start:n;_=_s(P,e,_,_===null?e.first:_.next,b,g,y,r,a,i),d.set(g,_),m=[],S=[],f=_.next;continue}if(c&&ps(w,b,y,a),(w.e.f&Ke)!==0&&(Yt(w.e),l&&((N=w.a)==null||N.unfix(),(p??(p=new Set)).delete(w))),w!==f){if(h!==void 0&&h.has(w)){if(m.length<S.length){var C=S[0],M;_=C.prev;var H=m[0],j=m[m.length-1];for(M=0;M<m.length;M+=1)Lr(m[M],C,n);for(M=0;M<S.length;M+=1)h.delete(S[M]);Ge(e,H.prev,j.next),Ge(e,_,H),Ge(e,j,C),f=C,_=j,y-=1,m=[],S=[]}else h.delete(w),Lr(w,f,n),Ge(e,w.prev,w.next),Ge(e,w,_===null?e.first:_.next),Ge(e,_,w),_=w;continue}for(m=[],S=[];f!==null&&f.k!==g;)(f.e.f&Ke)===0&&(h??(h=new Set)).add(f),S.push(f),f=f.next;if(f===null)continue;w=f}m.push(w),_=w,f=w.next}if(f!==null||h!==void 0){for(var X=h===void 0?[]:$n(h);f!==null;)(f.e.f&Ke)===0&&X.push(f),f=f.next;var Y=X.length;if(Y>0){var se=(a&Wr)!==0&&u===0?n:null;if(l){for(y=0;y<Y;y+=1)(A=X[y].a)==null||A.measure();for(y=0;y<Y;y+=1)(B=X[y].a)==null||B.fix()}hs(e,X,se,d)}}l&&bn(()=>{var V;if(p!==void 0)for(w of p)(V=w.a)==null||V.apply()}),ie.first=e.first&&e.first.e,ie.last=_&&_.e}function ps(t,e,n,r){(r&ar)!==0&&Et(t.v,e),(r&or)!==0?Et(t.i,n):t.i=n}function _s(t,e,n,r,a,o,i,l,c,u){var d=(c&ar)!==0,v=(c&Do)===0,f=d?v?jn(a,!1,!1):dt(a):a,h=(c&or)===0?i:dt(i),_={i:h,v:f,k:o,a:null,e:null,prev:n,next:r};try{return _.e=et(()=>l(t,f,h,u),Fo),_.e.prev=n&&n.e,_.e.next=r&&r.e,n===null?e.first=_:(n.next=_,n.e.next=_.e),r!==null&&(r.prev=_,r.e.prev=_.e),_}finally{}}function Lr(t,e,n){for(var r=t.next?t.next.e.nodes_start:n,a=e?e.e.nodes_start:n,o=t.e.nodes_start;o!==r;){var i=yn(o);a.before(o),o=i}}function Ge(t,e,n){e===null?t.first=n:(e.next=n,e.e.next=n&&n.e),n!==null&&(n.prev=e,n.e.prev=e&&e.e)}function Ne(t,e,...n){var r=t,a=Qt,o;xt(()=>{a!==(a=e())&&(o&&(je(o),o=null),o=et(()=>a(r,...n)))},$t)}function Ft(t,e,n){var r=t,a,o;xt(()=>{a!==(a=e())&&(o&&($e(o),o=null),a&&(o=et(()=>n(r,a))))},$t)}function wa(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=wa(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ms(){for(var t,e,n=0,r="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=wa(t))&&(r&&(r+=" "),r+=e);return r}function re(t){return typeof t=="object"?ms(t):t??""}const Ar=[...` 	
\r\f \v\uFEFF`];function ws(t,e,n){var r=t==null?"":""+t;if(e&&(r=r?r+" "+e:e),n){for(var a in n)if(n[a])r=r?r+" "+a:a;else if(r.length)for(var o=a.length,i=0;(i=r.indexOf(a,i))>=0;){var l=i+o;(i===0||Ar.includes(r[i-1]))&&(l===r.length||Ar.includes(r[l]))?r=(i===0?"":r.substring(0,i))+r.substring(l+1):i=l}}return r===""?null:r}function ys(t,e){return t==null?null:String(t)}function ee(t,e,n,r,a,o){var i=t.__className;if(i!==n||i===void 0){var l=ws(n,r,o);l==null?t.removeAttribute("class"):t.className=l,t.__className=n}else if(o&&a!==o)for(var c in o){var u=!!o[c];(a==null||u!==!!a[c])&&t.classList.toggle(c,u)}return o}function pn(t,e,n,r){var a=t.__style;if(a!==e){var o=ys(e);o==null?t.removeAttribute("style"):t.style.cssText=o,t.__style=e}return r}const Ss=Symbol("is custom element"),bs=Symbol("is html");function Mn(t,e){var n=ur(t);n.value===(n.value=e??void 0)||t.value===e&&(e!==0||t.nodeName!=="PROGRESS")||(t.value=e??"")}function In(t,e){var n=ur(t);n.checked!==(n.checked=e??void 0)&&(t.checked=e)}function be(t,e,n,r){var a=ur(t);a[e]!==(a[e]=n)&&(e==="loading"&&(t[ho]=n),n==null?t.removeAttribute(e):typeof n!="string"&&Es(t).includes(e)?t[e]=n:t.setAttribute(e,n))}function ur(t){return t.__attributes??(t.__attributes={[Ss]:t.nodeName.includes("-"),[bs]:t.namespaceURI===Io})}var Pr=new Map;function Es(t){var e=Pr.get(t.nodeName);if(e)return e;Pr.set(t.nodeName,e=[]);for(var n,r=t,a=Element.prototype;a!==r;){n=Fr(r);for(var o in n)n[o].set&&e.push(o);r=er(r)}return e}function dr(t,e,n=e){var r=Pt();ss(t,"input",a=>{var o=a?t.defaultValue:t.value;if(o=Bn(t)?Rn(o):o,n(o),r&&o!==(o=e())){var i=t.selectionStart,l=t.selectionEnd;t.value=o??"",l!==null&&(t.selectionStart=i,t.selectionEnd=Math.min(l,t.value.length))}}),tn(e)==null&&t.value&&n(Bn(t)?Rn(t.value):t.value),Sn(()=>{var a=e();Bn(t)&&a===Rn(t.value)||t.type==="date"&&!a&&!t.value||a!==t.value&&(t.value=a??"")})}function Bn(t){var e=t.type;return e==="number"||e==="range"}function Rn(t){return t===""?null:+t}function Or(t,e){return t===e||(t==null?void 0:t[lt])===e}function Ee(t={},e,n,r){return sr(()=>{var a,o;return Sn(()=>{a=o,o=[],tn(()=>{t!==n(...o)&&(e(t,...o),a&&Or(n(...a),t)&&e(null,...a))})}),()=>{bn(()=>{o&&Or(n(...o),t)&&e(null,...o)})}}),t}function nn(t=!1){const e=ce,n=e.l.u;if(!n)return;let r=()=>ns(e.s);if(t){let a=0,o={};const i=en(()=>{let l=!1;const c=e.s;for(const u in c)c[u]!==o[u]&&(o[u]=c[u],l=!0);return l&&a++,a});r=()=>s(i)}n.b.length&&zo(()=>{xr(e,r),dn(n.b)}),me(()=>{const a=tn(()=>n.m.map(uo));return()=>{for(const o of a)typeof o=="function"&&o()}}),n.a.length&&me(()=>{xr(e,r),dn(n.a)})}function xr(t,e){if(t.l.s)for(const n of t.l.s)s(n);e()}let cn=!1;function ks(t){var e=cn;try{return cn=!1,[t(),cn]}finally{cn=e}}function Ts(t){var e;return((e=t.ctx)==null?void 0:e.d)??!1}function Q(t,e,n,r){var S;var a=!At||(n&Ao)!==0,o=(n&Oo)!==0,i=(n&xo)!==0,l=r,c=!0,u=()=>(c&&(c=!1,l=i?tn(r):r),l),d;if(o){var v=lt in t||vo in t;d=((S=bt(t,e))==null?void 0:S.set)??(v&&e in t?b=>t[e]=b:void 0)}var f,h=!1;o?[f,h]=ks(()=>t[e]):f=t[e],f===void 0&&r!==void 0&&(f=u(),d&&(a&&yo(),d(f)));var _;if(a?_=()=>{var b=t[e];return b===void 0?u():(c=!0,b)}:_=()=>{var b=t[e];return b!==void 0&&(l=void 0),b===void 0?l:b},a&&(n&Po)===0)return _;if(d){var p=t.$$legacy;return function(b,g){return arguments.length>0?((!a||!g||p||h)&&d(g?_():b),b):_()}}var m=((n&Lo)!==0?en:Yr)(_);return o&&s(m),function(b,g){if(arguments.length>0){const w=g?s(m):a&&o?fe(b):b;return E(m,w),l!==void 0&&(l=w),b}return Ts(m)?m.v:s(m)}}function he(t){ce===null&&Bo(),At&&ce.l!==null?Cs(ce).m.push(t):me(()=>{const e=tn(t);if(typeof e=="function")return e})}function Cs(t){var e=t.l;return e.u??(e.u={a:[],b:[],m:[]})}const Ds="5";var Rr;typeof window<"u"&&((Rr=window.__svelte??(window.__svelte={})).v??(Rr.v=new Set)).add(Ds);let st=x(""),St=x(null);function Ls(t){E(st,""),setTimeout(()=>{E(st,t,!0)},16)}var As=z('<div class="notification svelte-1a2zucn"> </div>');function Ps(t,e){q(e,!0),me(()=>{var l,c;s(st),s(st)&&((l=s(St))==null||l.getBoundingClientRect(),(c=s(St))==null||c.style.setProperty("opacity","1"));const o=setTimeout(()=>{var u;(u=s(St))==null||u.style.removeProperty("opacity")},800),i=setTimeout(()=>{var u;E(st,""),(u=s(St))==null||u.style.removeProperty("opacity")},1200);return()=>{clearTimeout(o),clearTimeout(i)}});var n=le(),r=W(n);{var a=o=>{var i=As(),l=k(i);Ee(i,c=>E(St,c),()=>s(St)),ue(()=>Mt(l,s(st))),T(o,i)};U(r,o=>{s(st)&&o(a)})}T(t,n),G()}To();var Os=z('<span class="vh svelte-14jjkpd"><!></span>');function tt(t,e){var n=Os(),r=k(n);Ne(r,()=>e.children),T(t,n)}var xs=cs('<svg class="svelte-gv09tg"><use></use></svg>');function _e(t,e){let n=Q(e,"name",8,"");var r=xs(),a=k(r);ue(()=>be(a,"href",`#icon-${n()??""}`)),T(t,r)}const ya=(t,e)=>{if(!e)return t;if(e.type==="closed")return{type:"closed"};switch(t.type){case"opened":return e.type==="close"?{type:"closing"}:e.type==="swipe"?{type:"openSwiping"}:t;case"closed":return e.type==="open"?{type:"opening"}:e.type==="swipe"?{type:"closeSwiping"}:t;case"openSwiping":return e.type==="open"?{type:"opening"}:e.type==="close"?{type:"closing"}:t;case"closeSwiping":return e.type==="open"?{type:"opening"}:e.type==="close"?{type:"closing"}:t;case"opening":return e.type==="opened"?{type:"opened"}:t;default:return t}};let Xn=x(fe(ya({type:"closed"})));const Je=t=>{E(Xn,ya(s(Xn),t),!0)},Sa=()=>s(Xn),Ns=()=>{Je({type:"open"})},Ms=()=>{Je({type:"close"})},Is=()=>{const t=Sa().type;t==="closed"?Ns():t==="opened"&&Ms()};var Bs=z('<button class="buttonMenu svelte-hxzs42"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>');function ba(t,e){q(e,!1),nn();var n=Bs();n.__click=[Is];var r=k(n);we(r,()=>({"--size":"28px"})),_e(r.lastChild,{name:"sidebarMenu"});var a=L(r,2);tt(a,{children:(o,i)=>{var l=De("Menu");T(o,l)}}),T(t,n),G()}ke(["click"]);const I=fe({historyStack:[],pathname:window.location.pathname,search:window.location.search,historyLength:0});let Ea=x(fe(new URLSearchParams(I.search).get("feedOrder")||"newest"));const ka=()=>s(Ea),Rs=t=>{E(Ea,t,!0);const e=new URLSearchParams(I.search);t==="newest"?e.delete("feedOrder"):e.set("feedOrder",t),ft(`${I.pathname}${e.size>0?`?${e.toString()}`:""}`)},Ta=()=>{var t;return((t=new URLSearchParams(I.search).get("selectedTags"))==null?void 0:t.split(","))||[]};let un=Ta();const Fs=()=>{const t=Ta();return t.join(",")===un.join(",")||(un=t),un},Hs=()=>{I.pathname=document.location.pathname,I.search=document.location.search,I.historyLength=Math.max(0,I.historyLength-=1)};window.addEventListener("popstate",Hs);const ft=t=>{const[e,n]=t.split("?");I.pathname=e,I.search=n?`?${n}`:"",I.historyLength+=1,I.historyStack.push(window.location.href),window.history.replaceState(null,"",t)},Us=t=>{const[e,n]=t.split("?");I.pathname=e,I.search=n?`?${n}`:"",window.history.replaceState(null,"",t)},Ca=(t="/")=>{var r;const[e,n]=t.split("?");if(I.historyLength<=0){const a=window.location.href,[o,i]=a.split("?");if(!i.includes("stackPages"))window.history.replaceState(null,"",t),I.historyLength=0,I.pathname=e,I.search=n?`?${n}`:"";else{const l=new URLSearchParams(i),u=(((r=l.get("stackPages"))==null?void 0:r.split(","))||[]).slice(0,-1);u.length===0?l.delete("stackPages"):l.set("stackPages",u.join(","));const d=`${o}${l.toString()?`?${l.toString()}`:""}`;window.history.replaceState(null,"",d),I.search=l.toString()?`?${l.toString()}`:""}}else if(I.historyStack.length>0){const a=I.historyStack.pop();if(a){const[o,i]=a.split("?");window.history.replaceState(null,"",a),I.historyLength=Math.max(0,I.historyLength-=1),I.pathname=o,I.search=i?`?${i}`:""}}},Da=()=>{const t=I.historyStack.findIndex(n=>n.includes("stackPages")),e=t===-1?I.historyStack.slice(0):I.historyStack.slice(0,t);if(e.length>0){const n=e.pop();if(n){const[r,a]=n.split("?");window.history.replaceState(null,"",n),I.historyLength=Math.max(0,e.length),I.pathname=r,I.search=a?`?${a}`:"",I.historyStack=e}}else window.history.replaceState(null,"","/"),I.historyLength=0,I.pathname="/",I.search="",I.historyStack=[]},Ve=()=>{var t;return((t=new URLSearchParams(I.search).get("stackPages"))==null?void 0:t.split(","))||[]};let ut=x(fe(Ve()));const Fe=t=>{const e=Ve();if(!e.includes(t)){e.push(t);const n=new URLSearchParams(I.search);n.set("stackPages",e.join(",")),E(ut,e,!0),ft(`${I.pathname}?${n.toString()}`)}},Ks=t=>Ve().includes(t),La=()=>{const t=s(ut).slice(0,-1);E(ut,t,!0)},Aa=()=>{const t=Ve();return t.length>=s(ut).length?t.reduce((e,n)=>[...e,{page:n,shown:!0}],[]):s(ut).reduce((e,n,r)=>[...e,{page:n,shown:t.length===0?!1:r!==s(ut).length-1}],[])},qn=()=>{E(ut,[],!0)},zs=t=>{t.preventDefault(),Fe("settings")},js=t=>{t.preventDefault(),Fe("newNote")};var Vs=z('<a class="addNote svelte-ww662s"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Add</span></a>'),Ws=z('<div class="header svelte-ww662s"><div class="top svelte-ww662s"><div class="desktop svelte-ww662s"><a class="link svelte-ww662s"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Settings</span></a></div> <div class="mobile svelte-ww662s"><!></div> <!></div></div>');function Ys(t,e){q(e,!0);const n=()=>{const p=Ve();p.includes("settings")||p.push("settings");const m=new URLSearchParams(I.search);return m.set("stackPages",p.join(",")),`${I.pathname}?${m}`};let a=K(()=>{const p=Ve();p.includes("newNote")||p.push("newNote");const m=new URLSearchParams(I.search);return m.set("stackPages",p.join(",")),`${I.pathname}?${m}`}),o=K(n);var i=Ws(),l=k(i),c=k(l),u=k(c);u.__click=[zs];var d=k(u);we(d,()=>({"--size":"20px"})),_e(d.lastChild,{name:"settings"});var v=L(c,2),f=k(v);ba(f,{});var h=L(v,2);{var _=p=>{var m=Vs();m.__click=[js];var S=k(m);we(S,()=>({"--size":"24px","--color":"#b0b0b0"})),_e(S.lastChild,{name:"plus"}),ue(()=>be(m,"href",s(a))),T(p,m)};U(h,p=>{I.pathname!=="/settings"&&p(_)})}ue(()=>be(u,"href",s(o))),T(t,i),G()}ke(["click"]);const Xs="modulepreload",qs=function(t){return"/"+t},Nr={},Ht=function(e,n,r){let a=Promise.resolve();if(n&&n.length>0){let i=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));a=i(n.map(u=>{if(u=qs(u),u in Nr)return;Nr[u]=!0;const d=u.endsWith(".css"),v=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${v}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":Xs,d||(f.as="script"),f.crossOrigin="",f.href=u,c&&f.setAttribute("nonce",c),document.head.appendChild(f),d)return new Promise((h,_)=>{f.addEventListener("load",h),f.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${u}`)))})}))}function o(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return a.then(i=>{for(const l of i||[])l.status==="rejected"&&o(l.reason);return e().catch(o)})},Gs=(t,e)=>{let n=null;return()=>{n&&clearTimeout(n),n=setTimeout(()=>{t()},e)}},Pa=()=>window.matchMedia("(max-width: 768px)").matches;let Oa=x(fe(Pa()));const Js=Gs(()=>{E(Oa,Pa(),!0)},16);window.addEventListener("resize",Js);const It=()=>s(Oa),fr=fe({count:0}),Zs=()=>fr.count>0,xa=()=>{fr.count+=1},Na=()=>{fr.count-=1},ge=fe({working:!1,swipingRatio:1,isSwiping:!1,duration:.35});let Gn=!1;const Fn=()=>{document.activeElement instanceof HTMLInputElement&&document.activeElement.type==="text"||document.activeElement instanceof HTMLTextAreaElement?Gn=!0:Gn=!1},vr=()=>Gn;function Qs(t,e){q(e,!0);let n=Q(e,"dialog",7),r=null;const a=()=>{e.dialogState==="swiping"&&e.onClose()};me(()=>(e.dialogState==="swiping"&&(r=setTimeout(a,3e3)),()=>{r&&(clearTimeout(r),r=null)}));let o=null,i=null;const l=3,c=50,u=5,d=.6,v=.3,f=.35,h=.95;let _=0,p=0,m=0,S=!1,b=!1,g=0,w=0,y=0;const P=()=>{_=0,p=0,S=!1,b=!1,g=0,w=0,y=0,m=0,o=null,i!==null&&(cancelAnimationFrame(i),i=null),r&&(clearTimeout(r),r=null)},C=A=>{if(!n()){console.warn("Touch start: No dialog element");return}if(e.dialogState!=="opened"){console.warn(`Touch start: Invalid sidebar state: ${e.dialogState}`);return}_=A.touches[0].clientX,p=A.touches[0].clientY,m=performance.now(),S=!0,b=!1},M=A=>e.dialogState==="opened"&&A>0||e.dialogState==="swiping"&&A>0,H=A=>{if(n()){n().style.setProperty("--transition-timing","0s"),e.onSwipe(),navigator.vibrate&&navigator.vibrate(10);try{const B=window.getComputedStyle(n()),V=B.transform||B.webkitTransform||"";if(w=n().offsetWidth,(e.dialogState==="swiping"||e.dialogState==="opened")&&(g=0),V&&V!=="none")try{g=new DOMMatrix(V).m41}catch{console.warn("Could not parse transform matrix, using default position")}b=!0}catch(B){console.error("Error during swipe initialization:",B),P()}}},j=()=>{if(!n())return;const B=Math.abs(g+y*w/100)/w;n().style.setProperty("--backdrop-bg",`rgba(0, 0, 0, ${.1*(1-B)})`)},X=()=>{if(i=null,!o||!S||!n()||vr()){P();return}const A=o.touches[0].clientX,B=o.touches[0].clientY,V=A-_,oe=B-p,O=Math.abs(V)>Math.abs(oe),$=Math.abs(V)>l;if(!b)if(O&&$&&M(V))try{H(V)}catch(de){console.error("Error initializing swipe:",de),P();return}else return;if(!M(V))return;n().style.setProperty("--transition-timing","0s");let D=g+V*h;D=Math.max(0,Math.min(w,D)),n().style.transform=`translate3d(${D}px, 0, 0)`,ge.swipingRatio=Math.abs(1-D/w),y=(D-g)/w*100,e.dialogState==="swiping"&&(r&&clearTimeout(r),r=setTimeout(a,3e3)),j()},Y=A=>{if(!S)return;o=A,i===null&&(i=requestAnimationFrame(X));const B=A.touches[0].clientX-_,V=A.touches[0].clientY-p,oe=Math.abs(B)>Math.abs(V);b&&oe&&A.preventDefault()},se=A=>{const B=Math.abs(A);if(B>=d)return u;if(B>=v){const V=(B-v)/(d-v);return c-V*(c-u)}else return c},F=(A,B)=>{if(Math.abs(A)>=d)return f*.5;const oe=Math.abs(y)/100;return B?f*Math.max(.5,1-oe):f*Math.max(.5,oe)},N=A=>{var D,R;if(i!==null&&(cancelAnimationFrame(i),i=null),!S||!n()){P();return}if(!b){P();return}let B=0;if((D=A==null?void 0:A.changedTouches)!=null&&D[0]){const J=A.changedTouches[0].clientX,ae=performance.now()-m;ae>0&&(B=(J-_)/ae)}const V=se(B);let oe=null;e.dialogState==="swiping"&&(oe=Math.abs(y)>V||B<-v?"close":"open");const O=e.dialogState==="swiping"&&oe==="close",$=F(B,O);ge.duration=$-.02,n().style.setProperty("--transition-timing",`${$}s`),n().offsetWidth,n().style.transform="",oe==="open"?e.onOpen():oe==="close"&&e.onClose(),(R=n())==null||R.style.removeProperty("--backdrop-bg"),P()};he(()=>(n().addEventListener("touchstart",C,{passive:!0}),n().addEventListener("touchmove",Y,{passive:!1}),n().addEventListener("touchend",N,{passive:!0}),n().addEventListener("touchcancel",N,{passive:!0}),()=>{n().removeEventListener("touchstart",C),n().removeEventListener("touchmove",Y),n().removeEventListener("touchend",N),n().removeEventListener("touchcancel",N),i!==null&&cancelAnimationFrame(i)})),G()}let hr=x(!1);const $s=(t,e)=>{let n;return()=>{n&&clearTimeout(n),n=setTimeout(()=>{t()},e)}},ei=$s(()=>{E(hr,!1)},100),Ma=()=>{E(hr,!0),ei()},Ia=()=>s(hr);var ti=(t,e)=>{e.onStartClose()},ni=z('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),ri=z('<dialog><div class="dialogInner svelte-68rj1a"><div class="header svelte-68rj1a"><div><!></div></div> <!></div></dialog> <!>',1);function ai(t,e){q(e,!0);let n=350,r=x(null),a=x(null);const o=g=>{g.preventDefault(),e.onStartClose()};he(()=>{var g,w;return(g=s(r))==null||g.addEventListener("close",e.onClosed),(w=s(r))==null||w.addEventListener("cancel",o),()=>{var y,P;(y=s(r))==null||y.removeEventListener("close",e.onClosed),(P=s(r))==null||P.removeEventListener("cancel",o)}});const i=()=>{var g,w,y;(g=s(r))==null||g.style.removeProperty("--transition-timing"),(w=s(r))==null||w.style.removeProperty("transform"),(y=s(r))==null||y.style.removeProperty("--backdrop-bg")},l=()=>{Ma()},c=K(Ia);me(()=>{var g,w;if(e.dialogState,!!s(r))switch(e.dialogState){case"opening":{s(r).open||s(r).showModal(),s(r).getBoundingClientRect();const y=setTimeout(()=>{i()},n+1),P=()=>{clearTimeout(y),i()};return(g=s(r))==null||g.addEventListener("transitionend",P,{once:!0}),e.onOpened(),()=>{var C;(C=s(r))==null||C.removeEventListener("transitionend",P)}}case"closing":{const y=setTimeout(()=>{e.dialogState==="closing"&&e.onClosed()},n+1),P=()=>{clearTimeout(y),e.onClosed()};return(w=s(r))==null||w.addEventListener("transitionend",P,{once:!0}),()=>{var C;(C=s(r))==null||C.removeEventListener("transitionend",P)}}case"opened":i()}});var u=ri(),d=W(u),v=k(d),f=k(v),h=k(f),_=k(h);{var p=g=>{var w=ni();ee(w,1,re(["navigateButton","buttonBack"]),"svelte-68rj1a"),w.__click=[ti,e];var y=k(w);we(y,()=>({"--size":"20px"})),_e(y.lastChild,{name:"back"});var P=L(y,2);tt(P,{children:(C,M)=>{var H=De("back");T(C,H)}}),T(g,w)};U(_,g=>{(!(e.blocked||e.hidden)||e.blocked&&e.unBlockedBack)&&g(p)})}var m=L(f,2);Ne(m,()=>e.children),Ee(v,g=>E(a,g),()=>s(a)),Ee(d,g=>E(r,g),()=>s(r));var S=L(d,2);{var b=g=>{Qs(g,{get onClose(){return e.onStartClose},get onOpen(){return e.onStartOpen},get onSwipe(){return e.onSwipe},get dialogState(){return e.dialogState},get dialog(){return s(r)}})};U(S,g=>{(!s(c)&&e.dialogState==="opened"||e.dialogState==="swiping")&&(!e.blocked||e.unBlockedBack)&&g(b)})}ue(()=>ee(d,1,re([{open:e.dialogState==="opened",hidden:e.hidden,isAnimationOn:ge.working&&(!ge.isSwiping||!e.hidden)},{hidden:e.hidden}]),"svelte-68rj1a")),Jt("scroll",v,l),T(t,u),G()}ke(["click"]);const Mr=(t,e)=>{if(!e)return t;if(e.type==="closed")return{type:"closed"};switch(t.type){case"opened":return e.type==="close"?{type:"closing"}:e.type==="swipe"?{type:"swiping"}:t;case"closed":return e.type==="open"?{type:"opening"}:t;case"swiping":return e.type==="open"?{type:"opening"}:e.type==="close"?{type:"closing"}:t;case"opening":return e.type==="opened"?{type:"opened"}:t;default:return t}};function oi(t,e){q(e,!0);let n=Q(e,"blocked",3,!1),r=Q(e,"hiddenDialog",3,!1),a=Q(e,"unBlockedBack",3,!1),o=Q(e,"onStartClose",3,()=>{}),i=Q(e,"onClose",3,()=>{}),l=x(fe(Mr({type:"closed"})));const c=S=>{E(l,Mr(s(l),S),!0)},u=()=>{n()&&!a()||(o()(),c({type:"close"}))},d=()=>{c({type:"open"})},v=()=>{c({type:"opened"}),ge.duration=.2},f=()=>{i()(),c({type:"closed"}),ge.swipingRatio=1,ge.duration=.2},h=()=>{c({type:"swipe"})};me(()=>{s(l).type==="swiping"?ge.isSwiping=!0:ge.isSwiping=!1,s(l).type==="closed"&&e.shownDialog?d():s(l).type==="opened"&&!e.shownDialog&&u()});var _=le(),p=W(_);{var m=S=>{ai(S,{onSwipe:h,onOpened:v,onClosed:f,onStartClose:u,onStartOpen:d,get dialogState(){return s(l).type},get hidden(){return r()},get blocked(){return n()},get unBlockedBack(){return a()},children:(b,g)=>{var w=le(),y=W(w);Ne(y,()=>e.children),T(b,w)},$$slots:{default:!0}})};U(p,S=>{s(l).type!=="closed"&&S(m)})}return T(t,_),G({handleComputeState:c})}const si=({getDialog:t,onOpen:e,onStartClose:n,onClose:r})=>{const a=i=>{i.preventDefault(),n()},o=()=>{r==null||r()};he(()=>{const i=t();return i==null||i.addEventListener("cancel",a),i==null||i.addEventListener("close",o),()=>{i==null||i.removeEventListener("cancel",a),i==null||i.removeEventListener("close",o)}}),he(()=>{const i=t();i==null||i.showModal(),i==null||i.getBoundingClientRect(),e()})};function gr(t,e){q(e,!0),he(()=>{const n=r=>{var a;r.target&&((a=e.dialog)!=null&&a.open)&&e.dialogInner&&e.dialogInner!==r.target&&!e.dialogInner.contains(r.target)&&e.onClose()};return document.addEventListener("mousedown",n,{capture:!0}),()=>{document.removeEventListener("mousedown",n,{capture:!0})}}),G()}var ii=(t,e)=>{e.onStartBack()},li=z('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),ci=(t,e)=>{e.onStartClose()},ui=z('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),di=z('<dialog><div class="dialogInner svelte-isq3u8"><div class="header svelte-isq3u8"><div><!></div> <div><!></div></div> <!></div></dialog> <!>',1);function fi(t,e){q(e,!0);let n=Q(e,"blockedDialog",3,!1),r=Q(e,"hiddenDialog",3,!1),a=Q(e,"isDesktopAnimationOff",3,!1),o=x(null),i=x(null);si({getDialog:()=>s(o),onOpen:e.onOpen,onStartClose:e.onStartClose,onClose:e.onClose}),me(()=>{var g,w;e.stateDialog==="closing"&&(ge.working?(g=s(o))==null||g.addEventListener("transitionend",()=>{var y;(y=s(o))==null||y.close()},{once:!0}):(w=s(o))==null||w.close())});var l=di(),c=W(l),u=k(c),d=k(u),v=k(d),f=k(v);{var h=g=>{var w=li();ee(w,1,re(["navigateButton","buttonBack"]),"svelte-isq3u8"),w.__click=[ii,e];var y=k(w);we(y,()=>({"--size":"20px"})),_e(y.lastChild,{name:"back"});var P=L(y,2);tt(P,{children:(C,M)=>{var H=De("back");T(C,H)}}),T(g,w)};U(f,g=>{(!(n()||r())||n()&&e.unBlockedBack)&&e.onStartBack&&g(h)})}var _=L(v,2),p=k(_);{var m=g=>{var w=ui();ee(w,1,re(["navigateButton","buttonClose"]),"svelte-isq3u8"),w.__click=[ci,e];var y=k(w);we(y,()=>({"--size":"20px"})),_e(y.lastChild,{name:"close"});var P=L(y,2);tt(P,{children:(C,M)=>{var H=De("close");T(C,H)}}),T(g,w)};U(p,g=>{n()||r()||g(m)})}var S=L(d,2);Ne(S,()=>e.children),Ee(u,g=>E(i,g),()=>s(i)),Ee(c,g=>E(o,g),()=>s(o));var b=L(c,2);gr(b,{get dialog(){return s(o)},get dialogInner(){return s(i)},get onClose(){return e.onStartClose}}),ue(()=>ee(c,1,re([{open:e.stateDialog==="open",isAnimationOn:ge.working,isDesktopAnimationOff:a(),hiddenDialog:r()}]),"svelte-isq3u8")),T(t,l),G()}ke(["click"]);const vi=({onStartClose:t,onClose:e})=>{let n=x("close");return{get state(){return s(n)},set state(i){E(n,i,!0)},handleStartClose:(i=!1)=>{i||(E(n,"closing"),t==null||t())},handleOpen:()=>{E(n,"open")},handleClose:()=>{E(n,"close"),e==null||e()}}};function hi(t,e){q(e,!0);let n=Q(e,"blockedDialog",3,!1),r=Q(e,"hiddenDialog",3,!1),a=Q(e,"onStartClose",3,()=>{}),o=Q(e,"onClose",3,()=>{}),i=vi({onStartClose:a(),onClose:o()});me(()=>{i.state==="close"&&e.shownDialog?i.state="opening":i.state==="open"&&!e.shownDialog&&i.handleStartClose(n())});var l=le(),c=W(l);{var u=d=>{fi(d,{get stateDialog(){return i.state},get blockedDialog(){return n()},get unBlockedBack(){return e.unBlockedBack},get hiddenDialog(){return r()},get onOpen(){return i.handleOpen},get onStartBack(){return e.onStartBack},onStartClose:()=>{i.handleStartClose(n())},get onClose(){return i.handleClose},children:(v,f)=>{var h=le(),_=W(h);Ne(_,()=>e.children),T(v,h)},$$slots:{default:!0}})};U(c,d=>{i.state!=="close"&&d(u)})}T(t,l),G()}function Ba(t,e){q(e,!0);let n=Q(e,"blockedDialog",3,!1),r=Q(e,"hiddenDialog",3,!1),a=Q(e,"isLastDialog",3,!1),o=Q(e,"onStartClose",3,()=>{}),i=Q(e,"onClose",3,()=>{});const l=K(()=>a()?void 0:e.onStartBack);he(()=>(xa(),()=>{Na()}));var c=le(),u=W(c);{var d=f=>{oi(f,{get shownDialog(){return e.shownDialog},get blocked(){return n()},get unBlockedBack(){return e.unBlockedBack},get hiddenDialog(){return r()},get children(){return e.children},get onStartClose(){return e.onStartBack},onClose:i()})},v=f=>{hi(f,{get shownDialog(){return e.shownDialog},get blockedDialog(){return n()},get unBlockedBack(){return e.unBlockedBack},get hiddenDialog(){return r()},get children(){return e.children},get onStartBack(){return s(l)},onStartClose:o(),onClose:i()})};U(u,f=>{It()?f(d):f(v,!1)})}T(t,c),G()}let Ra=x(!1),pr=x(!1);const Kt=t=>{E(Ra,t,!0),t||E(pr,!1)},gi=()=>s(Ra),Ir=t=>{E(pr,t,!0)},pi=()=>s(pr);function Br(t,e){q(e,!0);let n=Q(e,"blocked",3,!1),r=Q(e,"isLastDialog",3,!1),a=Q(e,"onBack",3,()=>{});const o=K(()=>n()||e.hidden||gi()),i=K(()=>pi()&&!r());Ba(t,{get shownDialog(){return e.shown},get blockedDialog(){return s(o)},get unBlockedBack(){return s(i)},get hiddenDialog(){return e.hidden},get isLastDialog(){return r()},onStartBack:()=>{(!s(o)||s(o)&&s(i))&&e.shown&&(Ca(),a()())},onStartClose:()=>{(!s(o)||s(o)&&s(i))&&e.shown&&Da()},onClose:()=>{La()},children:(d,v)=>{var f=le(),h=W(f);Ne(h,()=>e.children),T(d,f)},$$slots:{default:!0}}),G()}const Vt=()=>crypto.randomUUID(),_i="AppStorage",mi=1,xe="notes",Tt="syncLog",Ct="account";let te;window.addEventListener("unhandledrejection",t=>{alert("Error: "+t.reason.message)});const wi=()=>new Promise((t,e)=>{const n=indexedDB.open(_i,mi);n.addEventListener("upgradeneeded",()=>{const r=n.result;r.objectStoreNames.contains(xe)||r.createObjectStore(xe,{keyPath:"id"}),r.objectStoreNames.contains(Ct)||r.createObjectStore(Ct,{keyPath:"id"}),r.objectStoreNames.contains(Tt)||r.createObjectStore(Tt,{keyPath:"id"})}),n.addEventListener("success",()=>{t(),te=n.result,te.onversionchange=function(){te==null||te.close(),alert("app outdated, please reload the page")}}),n.addEventListener("blocked",()=>{e(),alert("app outdated, please reload the page")}),n.addEventListener("error",()=>{e(),console.error("Error",n.error)})}),Fa=()=>new Promise((t,e)=>{const n=te==null?void 0:te.transaction(Ct,"readonly"),r=n==null?void 0:n.objectStore(Ct).get("default");r==null||r.addEventListener("success",()=>{var o;const a=(o=r==null?void 0:r.result)==null?void 0:o.account;t(a)}),r==null||r.addEventListener("error",()=>{e()})}),_r=t=>new Promise((e,n)=>{const r=te==null?void 0:te.transaction(Ct,"readwrite"),a=r==null?void 0:r.objectStore(Ct),o=a==null?void 0:a.put({id:"default",account:t});o==null||o.addEventListener("success",()=>{console.log("account inited"),e()}),o==null||o.addEventListener("error",()=>{n()})}),Ha=()=>new Promise((t,e)=>{const n=te==null?void 0:te.transaction(xe,"readonly"),r=n==null?void 0:n.objectStore(xe).getAll();r==null||r.addEventListener("success",()=>{const a=r.result;t(a)}),r==null||r.addEventListener("error",()=>{e()})}),Ua=async t=>new Promise((e,n)=>{const r=te==null?void 0:te.transaction(xe,"readwrite"),a=r==null?void 0:r.objectStore(xe),o=a==null?void 0:a.put({...t});o==null||o.addEventListener("success",()=>{e()}),o==null||o.addEventListener("error",()=>{n()})}),yi=async t=>new Promise((e,n)=>{const r=te==null?void 0:te.transaction(xe,"readwrite"),a=r==null?void 0:r.objectStore(xe),o=a==null?void 0:a.delete(t);o==null||o.addEventListener("success",()=>{e()}),o==null||o.addEventListener("error",()=>{n()})}),Si=()=>new Promise((t,e)=>{const n=te==null?void 0:te.transaction(xe,"readwrite"),r=n==null?void 0:n.objectStore(xe),a=r==null?void 0:r.clear();a==null||a.addEventListener("success",()=>{t()}),a==null||a.addEventListener("error",()=>{e()})}),mr=async()=>{await Si()},Ka=async t=>{const e=(await Ha()).reduce((o,i)=>(o[i.id]=i,o),{}),n={},r=te==null?void 0:te.transaction(xe,"readwrite"),a=r==null?void 0:r.objectStore(xe);t.forEach(o=>{e[o.id]?e[o.id].updatedAt<o.updatedAt&&(n[o.id]=o):n[o.id]=o}),await Promise.all(Object.values(n).map(o=>{const i=a==null?void 0:a.put(o);return new Promise((l,c)=>{i==null||i.addEventListener("success",()=>{l()}),i==null||i.addEventListener("error",()=>{c()})})}))},Hn=async t=>new Promise((e,n)=>{const r=te==null?void 0:te.transaction(Tt,"readwrite"),a=r==null?void 0:r.objectStore(Tt),o=a==null?void 0:a.put({...t});o==null||o.addEventListener("success",()=>{e()}),o==null||o.addEventListener("error",()=>{n()})}),bi=()=>new Promise((t,e)=>{const n=te==null?void 0:te.transaction(Tt,"readonly"),r=n==null?void 0:n.objectStore(Tt).getAll();r==null||r.addEventListener("success",()=>{const a=r.result;t(a)}),r==null||r.addEventListener("error",()=>{e()})});let Z=x({initedDB:!1});const Ei=()=>{E(Z,{...s(Z),initedDB:!0})},vt=async t=>{E(Z,{...s(Z),account:t,notes:[],mapNotes:new Map})},za=()=>s(Z),kn=async()=>{const t=await Ha(),e=new Map,n=[];t.forEach(r=>{n.push(r),e.set(r.id,r)}),E(Z,{...s(Z),notes:n,mapNotes:e})},Dt=()=>s(Z).notes&&s(Z).mapNotes,ja=()=>s(Z).notes||[],ac=()=>s(Z).mapNotes||new Map,Va=t=>{if(!s(Z).notes||!s(Z).mapNotes)throw new Error("Notes appState is not initialized");const e={...t};s(Z).notes.push(e),s(Z).mapNotes.set(e.id,e),E(Z,{...s(Z)})},Wa=async t=>{if(!s(Z).notes||!s(Z).mapNotes)throw new Error("Notes appState is not initialized");s(Z).notes.forEach((e,n)=>{(e==null?void 0:e.id)===t.id&&s(Z).notes&&(s(Z).notes[n]=t)}),s(Z).mapNotes.set(t.id,t),E(Z,{...s(Z)})},Ya=async t=>{if(!s(Z).notes||!s(Z).mapNotes)throw new Error("Notes appState is not initialized");s(Z).mapNotes.delete(t),s(Z).notes=s(Z).notes.filter(e=>(e==null?void 0:e.id)!==t),E(Z,{...s(Z)})},Xa=async()=>{E(Z,{...s(Z),initedDB:!0,notes:[],mapNotes:new Map})};let qa=x({});const Ga=()=>s(qa),ki=t=>{E(qa,t)};var Ti=z('<input class="svelte-6l2oy0"/>');function Jn(t,e){q(e,!0);let n=Q(e,"value",15,"");var r=Ti();ue(()=>be(r,"placeholder",e.placeholder)),Jt("focus",r,function(...a){var o;(o=e.onFocus)==null||o.apply(this,a)}),dr(r,n),T(t,r),G()}function Ci(t,e){q(e,!0);let n=Q(e,"dialog",7);const r=3,a=50,o=5,i=.6,l=.3,c=.35,u=.95;let d=0,v=0,f=0,h=!1,_=!1,p=0,m=0,S=0;const b=()=>{d=0,v=0,h=!1,_=!1,p=0,m=0,S=0,f=0,g!==null&&(cancelAnimationFrame(g),g=null),w=null};let g=null,w=null;const y=F=>{if(!n()){console.warn("Touch start: No dialog element");return}if(e.sidebarState!=="opened"&&e.sidebarState!=="closed"){console.warn(`Touch start: Invalid sidebar state: ${e.sidebarState}`);return}d=F.touches[0].clientX,v=F.touches[0].clientY,f=performance.now(),h=!0,_=!1},P=F=>e.sidebarState==="closed"&&F>0||e.sidebarState==="closeSwiping"&&F>0||e.sidebarState==="opened"&&F<0||e.sidebarState==="openSwiping"&&F<0,C=F=>{if(n()){if(n().style.setProperty("--transition-timing","0s"),!n().open&&e.sidebarState==="closed")try{n().showModal(),n().offsetWidth}catch(N){console.error("Error opening dialog:",N);return}e.onSwipe();try{const N=window.getComputedStyle(n()),A=N.transform||N.webkitTransform||"";if(m=n().offsetWidth,e.sidebarState==="closeSwiping"||e.sidebarState==="closed"?p=-m:(e.sidebarState==="openSwiping"||e.sidebarState==="opened")&&(p=0),A&&A!=="none")try{p=new DOMMatrix(A).m41}catch{console.warn("Could not parse transform matrix, using default position")}_=!0}catch(N){console.error("Error during swipe initialization:",N),b()}}},M=()=>{if(!n())return;const F=-(m*.27),N=-m;let A=0;const B=window.getComputedStyle(n()),V=B.transform||B.webkitTransform||"";if(V&&V!=="none")try{A=new DOMMatrix(V).m41}catch{A=0}const $=.25*Math.min(1,Math.max(0,(A-N)/(F-N)));n().style.setProperty("--backdrop-bg",`rgba(0, 0, 0, ${$})`)},H=()=>{if(g=null,!w||!h||!n()||vr())return;const{x:F,y:N}=w;w=null;const A=F-d,B=N-v,V=Math.abs(A)>Math.abs(B),oe=Math.abs(A)>r;if(!_)if(V&&oe&&P(A))try{C(A)}catch(R){console.error("Error initializing swipe:",R),b();return}else return;if(!P(A))return;n().style.setProperty("--transition-timing","0s");let O=p+A*u;const $=-m,D=-(m*.27);O=Math.max($,Math.min(D,O)),n().style.transform=`translate3d(${O}px, 0, 0)`,S=(O-p)/m*100,M()},j=F=>{if(!h)return;const N=F.touches[0].clientX,A=F.touches[0].clientY;w={x:N,y:A},g===null&&(g=requestAnimationFrame(H)),_&&Math.abs(N-d)>Math.abs(A-v)&&F.preventDefault()},X=F=>{const N=Math.abs(F);if(N>=i)return o;if(N>=l){const A=(N-l)/(i-l);return a-A*(a-o)}else return a},Y=(F,N)=>{if(Math.abs(F)>=i)return c*.5;const B=Math.abs(S)/100;return N?c*Math.max(.5,1-B):c*Math.max(.5,B)},se=F=>{var O,$;if(g!==null&&(cancelAnimationFrame(g),g=null),w=null,!h||!n()){b();return}if(!_){b();return}let N=0;if((O=F==null?void 0:F.changedTouches)!=null&&O[0]){const D=F.changedTouches[0].clientX,J=performance.now()-f;J>0&&(N=(D-d)/J)}const A=X(N);let B=null;e.sidebarState==="closeSwiping"?B=Math.abs(S)>A||N>l?"open":"close":e.sidebarState==="openSwiping"&&(B=Math.abs(S)>A||N<-l?"close":"open");const V=e.sidebarState==="closeSwiping"&&B==="open"||e.sidebarState==="openSwiping"&&B==="close",oe=Y(N,V);n().style.setProperty("--transition-timing",`${oe}s`),n().offsetWidth,n().style.transform="",B==="open"?e.onOpen():B==="close"&&e.onClose(),($=n())==null||$.style.removeProperty("--backdrop-bg"),b()};he(()=>(document.addEventListener("touchstart",y,{passive:!0}),document.addEventListener("touchmove",j,{passive:!1}),document.addEventListener("touchend",se,{passive:!0}),document.addEventListener("touchcancel",se,{passive:!0}),()=>{document.removeEventListener("touchstart",y),document.removeEventListener("touchmove",j),document.removeEventListener("touchend",se),document.removeEventListener("touchcancel",se),g!==null&&cancelAnimationFrame(g)})),G()}var Di=z('<dialog><div class="dialogInner svelte-1in1s0g"><!></div></dialog> <!> <!>',1);function Li(t,e){q(e,!0);let n=350,r=x(null),a=x(null),o=K(Sa);me(()=>{Aa().length>0&&Je({type:"close"})});const i=()=>{e.blocked||Je({type:"close"})},l=()=>{e.blocked||Je({type:"open"})},c=()=>{Je({type:"opened"})},u=()=>{Je({type:"closed"})},d=()=>{Je({type:"swipe"})},v=C=>{C.preventDefault(),i()};he(()=>{var C,M;return(C=s(r))==null||C.addEventListener("close",u),(M=s(r))==null||M.addEventListener("cancel",v),()=>{var H,j;(H=s(r))==null||H.removeEventListener("close",u),(j=s(r))==null||j.removeEventListener("cancel",v)}});const f=()=>{var C,M,H;(C=s(r))==null||C.style.removeProperty("--transition-timing"),(M=s(r))==null||M.style.removeProperty("transform"),(H=s(r))==null||H.style.removeProperty("--backdrop-bg")},h=K(Ia);me(()=>{var C,M,H;if(s(o),!!s(r))switch(s(o).type){case"closeSwiping":{const j=setTimeout(()=>{i()},3e3);return()=>{clearTimeout(j)}}case"openSwiping":{const j=setTimeout(()=>{l()},3e3);return()=>{clearTimeout(j)}}case"opening":{s(r).open||s(r).showModal(),s(r).getBoundingClientRect();const j=setTimeout(()=>{f()},n+1),X=()=>{clearTimeout(j),f()};return(C=s(r))==null||C.addEventListener("transitionend",X,{once:!0}),c(),()=>{var Y;(Y=s(r))==null||Y.removeEventListener("transitionend",X)}}case"closing":{const j=setTimeout(()=>{s(o).type==="closing"&&u()},n+1),X=()=>{clearTimeout(j),u()};return(M=s(r))==null||M.addEventListener("transitionend",X,{once:!0}),()=>{var Y;(Y=s(r))==null||Y.removeEventListener("transitionend",X)}}case"closed":(H=s(r))==null||H.close(),f();break;case"opened":f();break}});var _=Di(),p=W(_),m=k(p),S=k(m);{var b=C=>{var M=le(),H=W(M);Ne(H,()=>e.children),T(C,M)};U(S,C=>{s(o).type!=="closed"&&C(b)})}Ee(m,C=>E(a,C),()=>s(a)),Ee(p,C=>E(r,C),()=>s(r));var g=L(p,2);{var w=C=>{gr(C,{get dialog(){return s(r)},get dialogInner(){return s(a)},onClose:i})};U(g,C=>{s(o).type==="opened"&&!e.blocked&&C(w)})}var y=L(g,2);{var P=C=>{Ci(C,{onClose:i,onOpen:l,onSwipe:d,get sidebarState(){return s(o).type},get dialog(){return s(r)}})};U(y,C=>{(!s(h)&&s(o).type==="closed"||s(o).type==="opened"||s(o).type==="openSwiping"||s(o).type==="closeSwiping")&&!e.blocked&&C(P)})}ue(()=>ee(p,1,re([{open:s(o).type==="opened",hidden:e.blocked,isAnimationOn:ge.working&&(!ge.isSwiping||!e.blocked)}]),"svelte-1in1s0g")),T(t,_),G()}var Ai=z('<button> <svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></button>');function it(t,e){let n=K(()=>e.style==="selected"?"45deg":"0deg");var r=Ai();r.__click=function(...i){var l;(l=e.onClick)==null||l.apply(this,i)};var a=k(r),o=L(a);we(o,()=>({"--size":"20px","--rotate":s(n)})),_e(o.lastChild,{name:"plus"}),ue(()=>{be(r,"type",e.type),ee(r,1,re([{selectedTag:e.style==="selected"}]),"svelte-1uqucql"),Mt(a,`${e.title??""} `)}),T(t,r)}ke(["click"]);const Pi=t=>{t.preventDefault(),Fe("settings")};var Oi=z("<div></div>"),xi=z('<div class="sidebarFixed svelte-1y05y7k"><div class="nav svelte-1y05y7k"><!> <a class="link svelte-1y05y7k"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Settings</span></a></div> <div class="searchWrapper svelte-1y05y7k"><!></div> <!></div> <div></div>',1),Ni=z("<div></div>"),Mi=z('<div class="sidebar svelte-1y05y7k"><div class="sidebarFixed svelte-1y05y7k"><div class="searchWrapper svelte-1y05y7k"><!></div> <!></div> <div class="tags svelte-1y05y7k"></div></div>');function Ii(t,e){q(e,!0);let n=x(null),r=x(""),a=K(()=>{var p;return((p=new URLSearchParams(I.search).get("selectedTags"))==null?void 0:p.split(","))||[]});const o=()=>{const p=Ve();p.includes("settings")||p.push("settings");const m=new URLSearchParams(I.search);return m.set("stackPages",p.join(",")),`${I.pathname}?${m}`},i=p=>{const m=new URLSearchParams(I.search);m.set("selectedTags",[...s(a),p].join(",")),ft(`${I.pathname}${m.size>0?`?${m.toString()}`:""}`),E(r,"")},l=p=>{const m=new URLSearchParams(I.search),S=s(a).filter(b=>b!==p);S.length===0?m.delete("selectedTags"):m.set("selectedTags",S.join(",")),ft(`${I.pathname}${m.size>0?`?${m.toString()}`:""}`)};let c=K(()=>Dt()?Object.values(Ga()).filter(p=>!s(a).some(m=>p.name===m)):[]),u=K(o),d=K(()=>Ve().length>0||Zs());var v=le(),f=W(v);{var h=p=>{Li(p,{get blocked(){return s(d)},children:(m,S)=>{var b=xi(),g=W(b),w=k(g),y=k(w);ba(y,{});var P=L(y,2);P.__click=[Pi];var C=k(P);we(C,()=>({"--size":"20px"})),_e(C.lastChild,{name:"settings"});var M=L(w,2),H=k(M);Jn(H,{placeholder:"Search tag",get value(){return s(r)},set value(se){E(r,se,!0)}});var j=L(M,2);{var X=se=>{var F=Oi();ee(F,1,re(["tags","selectedTags"]),"svelte-1y05y7k"),Qe(F,20,()=>s(a),N=>N,(N,A)=>{it(N,{get title(){return A},onClick:()=>l(A),style:"selected"})}),Ee(F,N=>E(n,N),()=>s(n)),T(se,F)};U(j,se=>{s(a).length>0&&se(X)})}var Y=L(g,2);ee(Y,1,re(["tags","tagsWrapper"]),"svelte-1y05y7k"),Qe(Y,21,()=>s(c),se=>se.name,(se,F)=>{var N=le(),A=W(N);{var B=V=>{it(V,{get title(){return s(F).name},onClick:()=>i(s(F).name)})};U(A,V=>{(s(r)===""||s(F).name.toLowerCase().indexOf(s(r).toLowerCase())!==-1)&&V(B)})}T(se,N)}),ue(se=>{be(P,"href",s(u)),pn(Y,`min-height: height: calc(100dvh - 190px - ${se??""}px);`)},[()=>s(n)?s(n).getBoundingClientRect().height:0]),T(m,b)},$$slots:{default:!0}})},_=p=>{var m=Mi(),S=k(m),b=k(S),g=k(b);Jn(g,{placeholder:"Search tag",get value(){return s(r)},set value(C){E(r,C,!0)}});var w=L(b,2);{var y=C=>{var M=Ni();ee(M,1,re(["tags","selectedTags"]),"svelte-1y05y7k"),Qe(M,20,()=>s(a),H=>H,(H,j)=>{it(H,{get title(){return j},onClick:()=>l(j),style:"selected"})}),T(C,M)};U(w,C=>{s(a).length>0&&C(y)})}var P=L(S,2);Qe(P,21,()=>s(c),C=>C.name,(C,M)=>{var H=le(),j=W(H);{var X=Y=>{it(Y,{get title(){return s(M).name},onClick:()=>i(s(M).name)})};U(j,Y=>{(s(r)===""||s(M).name.toLowerCase().indexOf(s(r).toLowerCase())!==-1)&&Y(X)})}T(C,H)}),T(p,m)};U(f,p=>{It()?p(h):p(_,!1)})}T(t,v),G()}ke(["click"]);function Bi(t){const e=String.fromCharCode(...new Uint8Array(t));return window.btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function Ri(t){let e=t.replace(/-/g,"+").replace(/_/g,"/");const n=e.length%4;return n&&(e+="=".repeat(4-n)),e}function Fi(t){try{const e=atob(t),n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n.buffer}catch(e){throw console.error("Error decoding base64:",e,"Input:",t),e}}function Un(t){const e=Ri(t);return Fi(e)}const Hi=async t=>{const e=await crypto.subtle.importKey("raw",t.serverKey,{name:"HKDF"},!1,["deriveKey"]),n=await crypto.subtle.deriveKey({name:"HKDF",salt:t.id,info:new TextEncoder().encode("aes-gcm-shared"),hash:"SHA-256"},e,{name:"AES-GCM",length:256},!1,["encrypt"]);return{encryptedClientKey:await crypto.subtle.encrypt({name:"AES-GCM",iv:new Uint8Array(12)},n,t.clientKey)}},Ui=async t=>{const e=await crypto.subtle.importKey("raw",t.serverKey,{name:"HKDF"},!1,["deriveKey"]),n=await crypto.subtle.deriveKey({name:"HKDF",info:new TextEncoder().encode("aes-gcm-shared"),hash:"SHA-256"},e,{name:"AES-GCM",length:256},!1,["decrypt"]),r=await crypto.subtle.decrypt({name:"AES-GCM",iv:new Uint8Array(12)},n,t.encryptedClientKey);return new Uint8Array(r)};function Ki(t,e){const n=new ArrayBuffer(t.length+e.length),r=new Uint8Array(n);return r.set(t,0),r.set(e,t.length),n}const zi=async t=>{const e=await crypto.subtle.importKey("raw",Ki(t.clientKey,t.serverKey),{name:"HKDF"},!1,["deriveKey"]);return await crypto.subtle.deriveKey({name:"HKDF",info:new TextEncoder().encode("aes-gcm-shared"),hash:"SHA-256"},e,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])},ji=async(t,e)=>{const n=JSON.parse(t),a=new Uint8Array(n).buffer,o=await crypto.subtle.decrypt({name:"AES-GCM",iv:new Uint8Array(12)},e,a);return new TextDecoder().decode(o)},Vi=async(t,e)=>{const r=await(await fetch("/api/serverKey",{method:"POST"})).json(),a=await Ui({encryptedClientKey:Un(t.encryptedClientKey),serverKey:Un(r.serverKey)});return{commonKey:await zi({clientKey:a,serverKey:new Uint8Array(Un(e))})}};class Wi{constructor(){at(this,"queue",[]);at(this,"commonKey",null);at(this,"status","idle");at(this,"ws",null)}async saveNewRecords(e,n){const r=await Promise.all(n.records.map(async o=>{if(this.commonKey===null)throw new Error("Common key is not initialized");const i=await ji(o.data,this.commonKey),l=JSON.parse(i);return{id:o.id,url:l.url,title:l.title,description:l.description,tags:l.tags,createdAt:l.createdAt,updatedAt:l.updatedAt}}));if(await Ka(r),(await fetch("/api/sync/finish",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({lastLogId:n.lastLogId})})).status===200){await kn();const o={...e,lastSync:Date.now(),lastLogId:n.lastLogId};vt(o),_r(o)}}connect(){}mergeLogNotes(e,n){const r={};return e.forEach(a=>{r[a.id]=a}),n.forEach(a=>{r[a.id]?r[a.id].createdAt<a.createdAt&&(r[a.id]=a):r[a.id]=a}),Object.values(r)}async start(){const e=await bi();this.queue=this.mergeLogNotes(this.queue,e);const n=async()=>{var a;const r=za().account;if(r){if(!navigator.onLine){setTimeout(n,5e3);return}if(!this.commonKey){const i=await(await fetch("/api/serverKey",{method:"POST"})).json(),{commonKey:l}=await Vi(r,i.serverKey);this.commonKey=l}this.status==="idle"&&(this.status="sync",this.connect()),(a=this.ws)==null||a.send(JSON.stringify({type:"sync"}))}};n()}async putNote(e){const n={id:Vt(),operation:"put",recordId:e.id,createdAt:Date.now(),data:JSON.stringify({...e})};await Hn(n),this.queue.push(n)}async delNote(e){const n={id:Vt(),operation:"del",recordId:e,createdAt:Date.now()};await Hn(n),this.queue.push(n)}async delAll(){const e={id:Vt(),operation:"delAll",createdAt:Date.now()};await Hn(e),this.queue.push(e)}}const Zn=(t,e,n,r=new Set,a={})=>{var o,i;for(const l of t.children)if(l.tagName==="DT"){const c=l.querySelector(":scope > A"),u=l.querySelector(":scope > H3");if(c){const d=c.getAttribute("href"),v=c.textContent||"unknown";if(!d)return n;const f=e.find(h=>h.toLowerCase()==="notes bar")?e.filter(h=>h.toLowerCase()!=="notes bar"):["other"];if(a[d])a[d].tags=[...new Set([...a[d].tags,...f])];else{const h={id:Vt(),url:d,title:v,description:"",tags:f.length>0?f:[],updatedAt:Date.now(),createdAt:Date.now()};a[h.url]=h,n.push(h)}}else if(u){const d=(o=u.textContent)==null?void 0:o.trim();if(d&&((i=u.nextElementSibling)==null?void 0:i.tagName)==="DL"){const v=[...e];v.push(d);const f=u.nextElementSibling;r.has(f)||(r.add(f),Zn(f,v,n,r,a))}}}else l.tagName!=="DL"&&l.children.length>0&&(r.has(l)||(r.add(l),Zn(l,[...e],n,r,a)));return n},oc=async t=>{const e=await t.text(),a=new DOMParser().parseFromString(e,"text/html").querySelector("DL");return a?Zn(a,[],[]):[]},sc=t=>{const e=Math.floor(Date.now()/1e3),n={};t.forEach(a=>{const o=a.tags||["Imported"];if(o.length===0){n.ROOT||(n.ROOT=[]),n.ROOT.push(a);return}o.forEach(i=>{n[i]||(n[i]=[]),n[i].push(a)})});let r=`<!DOCTYPE NETSCAPE-Note-file-1>
<!-- This is an automatically generated file.
 It will be read and overwritten.
 DO NOT EDIT! -->
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8">
<TITLE>notes</TITLE>
<H1>notes</H1>
<DL><p>
<DT><H3 ADD_DATE="${e}" LAST_MODIFIED="${e}" PERSONAL_TOOLBAR_FOLDER="true">notes Bar</H3>
<DL><p>`;return Object.keys(n).forEach(a=>{a!=="ROOT"&&a!=="other"&&(r+=`
	<DT><H3 ADD_DATE="${e}" LAST_MODIFIED="${e}">${a}</H3>
	<DL><p>`,n[a].forEach(o=>{const i=o.title.replace(/"/g,"&quot;");r+=`
		<DT><A HREF="${o.url}" ADD_DATE="${Math.floor(o.createdAt/1e3)||e}">${i}</A>`}),r+=`
	</DL><p>`)}),n.ROOT&&n.ROOT.forEach(a=>{const o=a.title.replace(/"/g,"&quot;");r+=`
	<DT><A HREF="${a.url}" ADD_DATE="${Math.floor(a.createdAt/1e3)||e}">${o}</A>`}),r+=`
</DL><p>`,n.other&&n.other.forEach(a=>{const o=a.title.replace(/"/g,"&quot;");r+=`
	<DT><A HREF="${a.url}" ADD_DATE="${Math.floor(a.createdAt/1e3)||e}">${o}</A>`}),r+="</DL><p>",r};async function wr(){if(navigator.storage&&navigator.storage.persist)try{await navigator.storage.persisted()||await navigator.storage.persist()}catch{console.error("")}}const nt=new BroadcastChannel("app"),gt=new Wi;nt.addEventListener("message",async t=>{if(console.log("Received message from BroadcastChannel:",t.data),t.data&&typeof t.data=="string"){const e=JSON.parse(t.data);if(e.operation==="addNote"){const n=e.note;Va(n)}else if(e.operation==="updateNote"){const n=e.note;Wa(n)}else if(e.operation==="deleteNote"){const n=e.noteId;Ya(n)}else if(e.operation==="clearAppState")Xa();else if(e.operation==="reloadNotes")kn();else if(e.operation==="initLocalAccount")vt(null),qn(),ft("/");else if(e.operation==="initAccount"){const n=await Fa();n&&(vt(n),qn(),ft("/"),gt.start())}}});wi().then(async()=>{Ei();const t=await Fa();t===void 0?Fe("start"):(Ks("start")&&(qn(),ft("/")),t?(vt(t),await wr(),gt.start()):vt(null),await kn())}).catch(()=>{console.error("failed to init db")});const Yi=async t=>{const e={...t,id:Vt(),createdAt:Date.now(),updatedAt:Date.now()};Va(e),nt.postMessage(JSON.stringify({operation:"addNote",note:{...e}})),await Ua({...e}),gt.putNote({...e})},Xi=async t=>{const e={...t,updatedAt:Date.now()};nt.postMessage(JSON.stringify({operation:"updateNote",note:e})),Wa(e),await Ua(e),gt.putNote({...e})},qi=async t=>{nt.postMessage(JSON.stringify({operation:"deleteNote",noteId:t})),Ya(t),await yi(t),gt.delNote(t)},ic=async()=>{nt.postMessage(JSON.stringify({operation:"clearAppState"})),Xa(),await mr(),gt.delAll()},lc=async(t="notes-export.json")=>{const e=JSON.stringify({notes:za().notes}),n=new Blob([e],{type:"application/json"}),r=URL.createObjectURL(n),a=document.createElement("a");a.href=r,a.download=t,document.body.appendChild(a),a.click(),setTimeout(()=>{document.body.removeChild(a),URL.revokeObjectURL(r)},0)},cc=async t=>{await Ka(t),nt.postMessage(JSON.stringify({operation:"reloadNotes"})),await kn()},Gi=async()=>{await mr(),await wr(),await _r(null),vt(null),nt.postMessage(JSON.stringify({operation:"initLocalAccount"}))},uc=async t=>{await mr(),await wr();const{encryptedClientKey:e}=await Hi({id:t.credentialId,clientKey:t.clientKey,serverKey:t.serverKey}),n={encryptedClientKey:Bi(e),lastLogId:-1,lastSync:-1};await _r(n),vt(n),nt.postMessage(JSON.stringify({operation:"initAccount"})),gt.start()};var Ji=z('<div class="input-container svelte-hz572l"><input/> <div class="error-message svelte-hz572l"><!></div></div>');function Kn(t,e){q(e,!0);let n=Q(e,"value",15,""),r=Q(e,"error",3,"");var a=Ji(),o=k(a);o.__input=function(...d){var v;(v=e.onInput)==null||v.apply(this,d)};let i;var l=L(o,2),c=k(l);{var u=d=>{var v=De();ue(()=>Mt(v,r())),T(d,v)};U(c,d=>{r()&&d(u)})}ue(d=>{be(o,"placeholder",e.placeholder),i=ee(o,1,"svelte-hz572l",null,i,d)},[()=>({error:!!r()})]),Jt("blur",o,function(...d){var v;(v=e.onBlur)==null||v.apply(this,d)}),Jt("focus",o,function(...d){var v;(v=e.onFocus)==null||v.apply(this,d)}),dr(o,n),T(t,a),G()}ke(["input"]);var Zi=z("<div></div>"),Qi=z('<form class="svelte-tcgkvd"><!> <!> <textarea placeholder="notes" class="svelte-tcgkvd"></textarea> <div class="boxtags"><div class="sidebarFixed"><!></div> <div class="tags svelte-tcgkvd"><!> <!></div> <div class="searchWrapper svelte-tcgkvd"><!></div></div> <button class="buttonSubmit svelte-tcgkvd" type="submit"> </button></form>');function Ja(t,e){q(e,!0);let n=Q(e,"initialTitle",3,""),r=Q(e,"initialUrl",3,""),a=Q(e,"initialDescription",3,""),o=Q(e,"initialTags",19,()=>[]),i=Q(e,"mode",3,"add"),l=x(""),c=x(fe(n())),u=x(fe(r())),d=x(fe(a())),v=x(fe(o().filter(O=>O!=="inbox")));const f=O=>{s(v).includes(O)||E(v,[...s(v),O],!0)},h=O=>{const $=s(v).filter(D=>D!==O);$.length===0?E(v,[],!0):E(v,$,!0)};let _=K(()=>Dt()?[...ja().reduce((O,$)=>($==null||$.tags.forEach(D=>{O.has(D)||O.add(D)}),O),new Set)]:[]),p=K(()=>Dt()?s(_).filter(O=>!s(v).some($=>O===$)&&O!=="inbox"):[]),m=K(()=>s(p).find(O=>O.toLowerCase()===s(l).toLowerCase())||s(v).includes(s(l))),S=K(()=>s(p).filter(O=>s(l)===""?!0:O.toLowerCase().indexOf(s(l).toLowerCase())!==-1).slice(0,s(m)||s(l)===""?3:2));const b=O=>{O.preventDefault(),e.onSubmit({title:s(c).trim().slice(0,256)||"unkwown",url:s(u).trim().slice(0,2048),description:s(d).trim().slice(0,2048),tags:s(v).length>0?s(v):["inbox"]})};var g=Qi(),w=k(g);Kn(w,{placeholder:"url",get value(){return s(u)},set value(O){E(u,O,!0)}});var y=L(w,2);Kn(y,{placeholder:"title",get value(){return s(c)},set value(O){E(c,O,!0)}});var P=L(y,2),C=L(P,2),M=k(C),H=k(M);{var j=O=>{var $=Zi();ee($,1,re(["tags","selectedTags"]),"svelte-tcgkvd"),Qe($,20,()=>s(v),D=>D,(D,R)=>{it(D,{get title(){return R},onClick:()=>h(R),type:"button",style:"selected"})}),T(O,$)};U(H,O=>{s(v).length>0&&O(j)})}var X=L(M,2),Y=k(X);{var se=O=>{var $=le(),D=W($);Qe(D,16,()=>s(S),R=>R,(R,J)=>{it(R,{get title(){return J},onClick:()=>f(J)})}),T(O,$)};U(Y,O=>{s(l)!==""&&O(se)})}var F=L(Y,2);{var N=O=>{it(O,{get title(){return s(l)},onClick:()=>{f(s(l)),E(l,"")}})};U(F,O=>{!s(m)&&s(l)!==""&&O(N)})}var A=L(X,2),B=k(A);Kn(B,{placeholder:"search tag",get value(){return s(l)},set value(O){E(l,O,!0)}});var V=L(C,2),oe=k(V);ue(()=>Mt(oe,i()==="add"?"add":"edit")),Jt("submit",g,b),dr(P,()=>s(d),O=>E(d,O)),T(t,g),G()}function $i(t,e){q(e,!0);let n=x(!0);const r=()=>{e.onClose()},a=()=>{E(n,!1)},o=({title:i,url:l,description:c,tags:u})=>{Xi({...e.note,title:i,url:l,description:c,tags:u.map(d=>d.trim())}),a()};Ba(t,{get shownDialog(){return s(n)},onClose:r,children:(i,l)=>{Ja(i,{get initialTitle(){return e.note.title},get initialUrl(){return e.note.url},get initialDescription(){return e.note.description},get initialTags(){return e.note.tags},onSubmit:o,mode:"edit"})},$$slots:{default:!0}}),G()}var el=z('<dialog><div class="dialogInner svelte-w3h659"><!></div></dialog> <!>',1);function Za(t,e){q(e,!0);let n=x(null),r=x(null),a=x(!1);const o=()=>{var h;const f=setTimeout(()=>{e.onClosed()},150);(h=s(n))==null||h.addEventListener("transitionend",()=>{clearTimeout(f),e.onClosed()},{once:!0}),E(a,!1)};me(()=>{e.startClose&&o()}),he(()=>{var f,h;(f=s(n))==null||f.showModal(),(h=s(n))==null||h.getClientRects(),E(a,!0)}),he(()=>(xa(),()=>{Na()}));var i=el(),l=W(i),c=k(l),u=k(c);Ne(u,()=>e.children),Ee(c,f=>E(r,f),()=>s(r)),Ee(l,f=>E(n,f),()=>s(n));var d=L(l,2);{var v=f=>{gr(f,{get dialog(){return s(n)},get dialogInner(){return s(r)},onClose:o})};U(d,f=>{s(n)&&s(r)&&f(v)})}ue(()=>ee(l,1,re(["dialog",{shown:s(a)}]),"svelte-w3h659")),T(t,i),G()}var tl=z("<div><!></div>");function Qa(t,e){q(e,!0);let n=x(!1),r=x(null);const a=()=>{var d;const u=setTimeout(()=>{e.onClosed()},150);(d=s(r))==null||d.addEventListener("transitionend",()=>{clearTimeout(u),e.onClosed()},{once:!0}),E(n,!1)},o=u=>{var d;u.target!==s(r)&&!((d=s(r))!=null&&d.contains(u.target))&&a()},i=u=>{var d;u.target!==s(r)&&!((d=s(r))!=null&&d.contains(u.target))&&a()};he(()=>{var d;(d=s(r))==null||d.getClientRects(),E(n,!0);const u=setTimeout(()=>{document.addEventListener("focusin",o),document.addEventListener("click",i)},0);return()=>{clearTimeout(u),document.removeEventListener("focusin",o),document.removeEventListener("click",i)}}),me(()=>{e.startClose&&a()});var l=tl(),c=k(l);Ne(c,()=>e.children),Ee(l,u=>E(r,u),()=>s(r)),ue(()=>ee(l,1,re(["menu",{top:e.positionTop,shown:s(n)}]),"svelte-1ljsfcr")),T(t,l),G()}const nl=(t,e,n)=>{const r=Ga();e.note.tags.forEach(a=>{if(s(n).includes(a)&&r[a].connections===1){const o=new URLSearchParams(I.search),i=s(n).filter(l=>l!==a);i.length===0?o.delete("selectedTags"):o.set("selectedTags",i.join(",")),Us(`${I.pathname}${o.size>0?`?${o.toString()}`:""}`)}}),qi(e.note.id)},rl=(t,e,n)=>{E(e,!0),E(n,!0)};var al=z('<div class="menu svelte-xxw0l"><div><button>Edit</button></div> <div><button>Delete</button></div></div>'),ol=z('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),sl=z("<!> <!>",1);function il(t,e){q(e,!0);const n=(p,m=Qt)=>{var S=al(),b=k(S),g=k(b);g.__click=[rl,o,a];var w=L(b,2),y=k(w);y.__click=[nl,e,l],ue(()=>{ee(g,1,re(["button",{buttonMenuDialog:m()}]),"svelte-xxw0l"),ee(y,1,re(["button",{buttonMenuDialog:m()}]),"svelte-xxw0l")}),T(p,S)};let r=Q(e,"shownMenu",15),a=x(!1),o=x(!1),i=K(It),l=K(()=>{var p;return((p=new URLSearchParams(I.search).get("selectedTags"))==null?void 0:p.split(","))||[]});const c=()=>{E(a,!1)},u=()=>{r(!1),E(o,!1)};var d=sl(),v=W(d);{var f=p=>{var m=le(),S=W(m);{var b=w=>{Za(w,{get startClose(){return s(o)},onClosed:u,children:(y,P)=>{n(y,()=>!0)},$$slots:{default:!0}})},g=w=>{var y=ol(),P=W(y);we(P,()=>({"--bottom":"-180%","--right":"30px"})),Qa(P.lastChild,{get startClose(){return s(o)},get positionTop(){return e.showMenuUp},onClosed:u,children:(C,M)=>{n(C,()=>!1)},$$slots:{default:!0}}),T(w,y)};U(S,w=>{s(i)?w(b):w(g,!1)})}T(p,m)};U(v,p=>{r()&&p(f)})}var h=L(v,2);{var _=p=>{$i(p,{get note(){return e.note},onClose:c})};U(h,p=>{s(a)&&p(_)})}T(t,d),G()}ke(["click"]);const ll=(t,e,n)=>{e.showMenuUp||E(n,!0)},cl=(t,e)=>{navigator.clipboard.writeText(e.note.url),Ls("Link copied to clipboard")},ul=(t,e)=>{E(e,!0)},dl=(t,e)=>{E(e,!1)};var fl=z('<li class="note svelte-11sazhi"><img loading="lazy" class="noteIcon" height="16" width="16" alt="icon"/> <a class="noteLink svelte-11sazhi" target="_blank" rel="noopener noreferrer"> </a> <div class="spacer svelte-11sazhi"></div> <div><button class="button svelte-11sazhi"><!> <!></button> <button><!> <!></button> <!></div></li>');function vl(t,e){q(e,!0);let n=x(!1),r=x(!1);const a=S=>{try{return`https://external-content.duckduckgo.com/ip3/${new URL(S).host}.ico`}catch{return""}};var o=fl();o.__focusin=[ul,n],o.__focusout=[dl,n];var i=k(o),l=L(i,2),c=k(l),u=L(l,4),d=k(u);d.__click=[cl,e];var v=k(d);_e(v,{name:"copy"});var f=L(v,2);tt(f,{children:(S,b)=>{var g=De("copy link");T(S,g)}});var h=L(d,2);h.__click=[ll,e,r],ee(h,1,re(["button","buttonMenu"]),"svelte-11sazhi");var _=k(h);_e(_,{name:"menu"});var p=L(_,2);tt(p,{children:(S,b)=>{var g=De("show menu");T(S,g)}});var m=L(h,2);il(m,{get note(){return e.note},get showMenuUp(){return e.showMenuUp},get shownMenu(){return s(r)},set shownMenu(S){E(r,S,!0)}}),ue(S=>{be(i,"src",S),be(l,"tabindex",e.focusHidden?-1:0),be(l,"href",e.note.url),Mt(c,e.note.title),ee(u,1,re(["noteMenuWrapper",{noteMenuWrapperActive:s(n)}]),"svelte-11sazhi"),be(d,"tabindex",e.focusHidden?-1:0),be(h,"tabindex",e.focusHidden?-1:0)},[()=>a(e.note.url)]),T(t,o),G()}ke(["focusin","focusout","click"]);const zt=fe({ref:null}),hl=(t,e)=>{s(e)||E(e,!0)};var gl=(t,e)=>e("newest"),pl=(t,e)=>e("oldest"),_l=(t,e)=>e("AtoZ"),ml=(t,e)=>e("ZtoA"),wl=z("<div><button>Newest</button> <button>Oldest</button> <button>A to Z</button> <button>Z to A</button></div>"),yl=z('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),Sl=z('<div class="orderMenu svelte-16tnh9z"><button><!> <!></button> <!></div>');function bl(t,e){q(e,!0);const n=(p,m=Qt)=>{var S=wl(),b=k(S);b.__click=[gl,l];var g=L(b,2);g.__click=[pl,l];var w=L(g,2);w.__click=[_l,l];var y=L(w,2);y.__click=[ml,l],ue(()=>{ee(S,1,re(["menu",{menuDialog:m()}]),"svelte-16tnh9z"),ee(b,1,re(["menuButton",{menuButtonDialog:m(),current:s(i)==="newest"}]),"svelte-16tnh9z"),ee(g,1,re(["menuButton",{menuButtonDialog:m(),current:s(i)==="oldest"}]),"svelte-16tnh9z"),ee(w,1,re(["menuButton",{menuButtonDialog:m(),current:s(i)==="AtoZ"}]),"svelte-16tnh9z"),ee(y,1,re(["menuButton",{menuButtonDialog:m(),current:s(i)==="ZtoA"}]),"svelte-16tnh9z")}),T(p,S)};let r=x(!1),a=x(!1),o=K(It),i=K(ka);const l=p=>{E(a,!0),Rs(p)},c=()=>{E(r,!1),E(a,!1)};var u=Sl(),d=k(u);d.__click=[hl,r],ee(d,1,re(["button","buttonMenu"]),"svelte-16tnh9z");var v=k(d);_e(v,{name:"filter"});var f=L(v,2);tt(f,{children:(p,m)=>{var S=De("show feed order menu");T(p,S)}});var h=L(d,2);{var _=p=>{var m=le(),S=W(m);{var b=w=>{Za(w,{get startClose(){return s(a)},onClosed:c,children:(y,P)=>{n(y,()=>!0)},$$slots:{default:!0}})},g=w=>{var y=yl(),P=W(y);we(P,()=>({"--right":"20px","--top":"60px"})),Qa(P.lastChild,{get startClose(){return s(a)},onClosed:c,children:(C,M)=>{n(C,()=>!1)},$$slots:{default:!0}}),T(w,y)};U(S,w=>{s(o)?w(b):w(g,!1)})}T(p,m)};U(h,p=>{s(r)&&p(_)})}T(t,u),G()}ke(["click"]);const El=(t,e)=>{s(e)&&s(e).scrollTo({top:0,behavior:"smooth"})};var kl=z('<div class="emptyMessage svelte-1nwd0on">No notes found</div>'),Tl=z('<div class="wrapperButtonTop svelte-1nwd0on"><button class="buttonTop svelte-1nwd0on"><!> <svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></button></div>'),Cl=z('<div class="filter svelte-1nwd0on"><div class="searchWrapper svelte-1nwd0on"><!></div> <!></div> <div class="wrapperFeed svelte-1nwd0on"><div class="wrapperContainer svelte-1nwd0on"><div class="feed svelte-1nwd0on"><ul class="svelte-1nwd0on"></ul> <!></div></div></div> <!>',1);function Dl(t,e){q(e,!0);let n=x(null),r=50,a=x(0),o=x(0),i=x(0),l=x(fe([])),c=x(""),u=K(()=>It()?s(n):zt.ref),d=null,v=null,f=x(!1),h=0;const _=K(Fs);me(()=>{var D;s(c),s(_),(D=s(u))==null||D.scrollTo(0,0)});const p=()=>{if(s(u)){const D=s(u).scrollTop||0;D===0?E(f,!1):!s(f)&&h>D?E(f,!0):s(f)&&h<D&&E(f,!1),h=D}},m=()=>{Ma(),d||(d=requestAnimationFrame(()=>{var J;p();const D=((J=s(u))==null?void 0:J.scrollTop)||0;E(i,D,!0);const R=Math.ceil(s(a)/r);E(o,Math.floor(D/(r*R))*(r*R)),d=null}))},S=()=>{v||(v=requestAnimationFrame(()=>{var J;p(),E(a,window.innerHeight-180||0,!0);const D=((J=s(u))==null?void 0:J.scrollTop)||0;E(i,D,!0);const R=Math.ceil(s(a)/r);E(o,Math.floor(D/(r*R))*(r*R)),v=null}))};he(()=>{S(),m()}),me(()=>{var D;return(D=s(u))==null||D.addEventListener("scroll",m),window.addEventListener("resize",S),()=>{var R;(R=s(u))==null||R.removeEventListener("scroll",m),window.removeEventListener("resize",S)}});const b=K(ka);me(()=>{const D=ja(),R=[],J={};for(let de=D.length-1;de>=0;de--){const ae=D[de];if(ae&&!(s(_).length&&s(_).some(ve=>!ae.tags.includes(ve)))&&!(s(c)&&!(ae.title.toLowerCase().includes(s(c).toLowerCase())||ae.url.toLowerCase().includes(s(c).toLowerCase())||ae.description.toLowerCase().includes(s(c).toLowerCase())))){if(ae.tags)for(const ve of ae.tags)J[ve]?J[ve].connections++:J[ve]={name:ve,connections:1};R.push(ae)}}ki(J),R.sort((de,ae)=>{if(!de||!ae)return 0;switch(s(b)){case"newest":return de.createdAt>ae.createdAt?-1:1;case"oldest":return de.createdAt<ae.createdAt?-1:1;case"AtoZ":return de.title.localeCompare(ae.title);case"ZtoA":return ae.title.localeCompare(de.title);default:return 0}}),E(l,R,!0)});const g=K(()=>s(l).length*r);let y=K(()=>{const D=Math.ceil(s(a)/r);let R=Math.floor(s(o)/r);return R=R-Math.min(R,D),s(l).slice(R,R+D*3)}),P=K(()=>r*Math.ceil(s(a)/r));const C=K(()=>s(o)-Math.min(s(o),s(P))),M=()=>{s(u)&&s(u).scrollTo({top:0,behavior:"smooth"})};var H=Cl(),j=W(H),X=k(j),Y=k(X);Jn(Y,{onFocus:M,placeholder:"Search",get value(){return s(c)},set value(D){E(c,D,!0)}});var se=L(X,2);bl(se,{});var F=L(j,2),N=k(F),A=k(N),B=k(A);Qe(B,23,()=>s(y),D=>D.id,(D,R,J)=>{const de=K(()=>s(J)*r<s(i)-s(C)-r/2||s(J)*r>s(i)-s(C)+Math.floor(s(a)/r)*r),ae=K(()=>(s(J)+3)*r<s(i)-s(C)-r/2||(s(J)+3)*r>s(i)-s(C)+Math.floor(s(a)/r)*r);vl(D,{get focusHidden(){return s(de)},get showMenuUp(){return s(ae)},get note(){return s(R)}})});var V=L(B,2);{var oe=D=>{var R=kl();T(D,R)};U(V,D=>{s(y).length===0&&Dt()&&D(oe)})}Ee(N,D=>E(n,D),()=>s(n));var O=L(F,2);{var $=D=>{var R=Tl(),J=k(R);J.__click=[El,u];var de=k(J);tt(de,{children:(ve,Ye)=>{var Xe=De("top");T(ve,Xe)}});var ae=L(de,2);we(ae,()=>({"--size":"22px"})),_e(ae.lastChild,{name:"up"}),T(D,R)};U(O,D=>{s(f)&&D($)})}ue(D=>{pn(A,`min-height: ${D??""}px`),pn(B,`transform: translateY(${s(C)??""}px);`)},[()=>Math.max((s(g)>s(a),s(g)),0)]),T(t,H),G()}ke(["click"]);var Ll=z('<!> <div class="content svelte-cu0ar8"><!></div>',1);function Al(t){var e=Ll(),n=W(e);Ii(n,{});var r=L(n,2),a=k(r);Dl(a,{}),T(t,e)}var ot=(t=>(t.Light="light",t.System="system",t.Dark="dark",t))(ot||{});let $a=x(fe(localStorage.getItem("colorScheme")||"system"));const Pl=t=>{localStorage.setItem("colorScheme",t),t==="system"?window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.dataset.colorScheme="dark":document.documentElement.dataset.colorScheme="light":document.documentElement.dataset.colorScheme=t,E($a,t,!0)},Ol=()=>s($a);var xl=z('<div class="wrapper svelte-1elv5s4"><fieldset class="switcher svelte-1elv5s4"><legend class="vh svelte-1elv5s4">Color Scheme</legend> <input id="light" type="radio" aria-label="Light"/> <label for="light" title="Light" aria-label="Light"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <input id="system" type="radio" aria-label="System"/> <label for="system" title="System" aria-label="System"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <input id="dark" type="radio" aria-label="Dark"/> <label for="dark" title="Dark" aria-label="Dark"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <div class="wrapSwitcherStatus svelte-1elv5s4"><div class="switcherStatus svelte-1elv5s4"></div></div></fieldset></div>');function Nl(t,e){q(e,!0);const n=K(Ol),r=m=>{const S=m.target.value;Pl(S)},a="color-scheme-switcher";var o=xl(),i=k(o),l=L(k(i),2);ee(l,1,re(["vh","input"]),"svelte-1elv5s4"),be(l,"name",a),l.__change=r;var c=L(l,2);ee(c,1,re(["switcherButton","light"]),"svelte-1elv5s4");var u=k(c);we(u,()=>({"--size":"20px"})),_e(u.lastChild,{name:"sun"});var d=L(c,2);ee(d,1,re(["vh","input"]),"svelte-1elv5s4"),be(d,"name",a),d.__change=r;var v=L(d,2);ee(v,1,re(["switcherButton","system"]),"svelte-1elv5s4");var f=k(v);we(f,()=>({"--size":"14px"})),_e(f.lastChild,{name:"a"});var h=L(v,2);ee(h,1,re(["vh","input"]),"svelte-1elv5s4"),be(h,"name",a),h.__change=r;var _=L(h,2);ee(_,1,re(["switcherButton","dark"]),"svelte-1elv5s4");var p=k(_);return we(p,()=>({"--size":"20px"})),_e(p.lastChild,{name:"moon"}),ue(()=>{Mn(l,ot.Light),In(l,s(n)===ot.Light),Mn(d,ot.System),In(d,s(n)===ot.System),Mn(h,ot.Dark),In(h,s(n)===ot.Dark)}),T(t,o),G({handleChange:r})}ke(["change"]);const Ml=()=>{Fe("import")},Il=()=>{Fe("export")},Bl=()=>{Fe("clearStorage")};var Rl=z("<span> </span>"),Fl=z('<div class="svelte-378nhf"><!> <ul class="svelte-378nhf"><li class="svelte-378nhf"><button class="button svelte-378nhf"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-378nhf">import data</span></button></li> <li class="svelte-378nhf"><button class="button svelte-378nhf"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-378nhf">export data</span></button></li> <li class="svelte-378nhf"><button class="button svelte-378nhf"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-378nhf">clear storage</span></button></li></ul> <div class="version svelte-378nhf"><!></div></div>');function Hl(t,e){q(e,!0);let n=x("");he(()=>{const b=new AbortController;return fetch("/build-metadata.json",{signal:b.signal}).then(g=>g.json()).then(g=>{E(n,`${g.buildHash}`)}),()=>{b.abort()}});var r=Fl(),a=k(r);Nl(a,{});var o=L(a,2),i=k(o),l=k(i);l.__click=[Ml];var c=k(l);we(c,()=>({"--size":"20px"})),_e(c.lastChild,{name:"import"});var u=L(i,2),d=k(u);d.__click=[Il];var v=k(d);we(v,()=>({"--size":"20px"})),_e(v.lastChild,{name:"export"});var f=L(u,2),h=k(f);h.__click=[Bl];var _=k(h);we(_,()=>({"--size":"20px"})),_e(_.lastChild,{name:"trash"});var p=L(o,2),m=k(p);{var S=b=>{var g=Rl(),w=k(g);ue(y=>Mt(w,`version: 0.0.1 build_date: "${y??""}" build_hash:
				${s(n)??""}`),[()=>new Date(1752977662942).toISOString().replaceAll("T"," ").replace(/\..*/,"")]),T(b,g)};U(m,b=>{s(n)&&b(S)})}T(t,r),G()}ke(["click"]);function Ul(t,e){q(e,!1);const n=()=>{Ca()},r=({title:a,url:o,description:i,tags:l})=>{Yi({title:a,url:o,description:i,tags:l.map(c=>c.trim())}),n()};nn(),Ja(t,{onSubmit:r}),G()}var Kl=z('<button type="button"><!></button>');function _n(t,e){let n=Q(e,"type",3,"standard"),r=Q(e,"fullWidth",3,!1);var a=Kl();a.__click=function(...i){var l;(l=e.onClick)==null||l.apply(this,i)};var o=k(a);Ne(o,()=>e.children??Qt),ue(()=>ee(a,1,re(["button",{dangerous:n()==="dangerous",secondary:n()==="secondary",fullWidth:r()}]),"svelte-ut1pbk")),T(t,a)}ke(["click"]);var zl=z('<div class="content svelte-9hh95f"><p class="message svelte-9hh95f">use app</p> <div class="buttonContainer svelte-9hh95f"><div class="buttonContainerItem svelte-9hh95f"><!></div> <div class="buttonContainerItem svelte-9hh95f"><!></div></div></div>');function jl(t,e){q(e,!0);let n=x("idle");const r=()=>{E(n,"loading"),Fe("sign")},a=async()=>{E(n,"loading"),await Gi(),Kt(!1),Da()};me(()=>{Kt(s(n)==="idle"||s(n)==="loading")}),he(()=>(Kt(!0),()=>{Kt(!1)}));var o=zl(),i=L(k(o),2),l=k(i),c=k(l);_n(c,{onClick:r,fullWidth:!0,children:(v,f)=>{var h=De("with account");T(v,h)},$$slots:{default:!0}});var u=L(l,2),d=k(u);_n(d,{onClick:a,fullWidth:!0,type:"secondary",children:(v,f)=>{var h=De("without account");T(v,h)},$$slots:{default:!0}}),T(t,o),G()}var Vl=z('<div class="content svelte-9hh95f"><p class="message svelte-9hh95f">sign in / sign up</p> <div class="buttonContainer svelte-9hh95f"><div class="buttonContainerItem svelte-9hh95f"><!></div> <div class="buttonContainerItem svelte-9hh95f"><!></div></div></div>');function Wl(t,e){q(e,!1);const n=async()=>{Fe("signin")},r=async()=>{Fe("signup")};he(()=>(Kt(!0),Ir(!0),()=>{Ir(!1)})),nn();var a=Vl(),o=L(k(a),2),i=k(o),l=k(i);_n(l,{onClick:n,fullWidth:!0,children:(d,v)=>{var f=De("sign in");T(d,f)},$$slots:{default:!0}});var c=L(i,2),u=k(c);_n(u,{onClick:r,fullWidth:!0,children:(d,v)=>{var f=De("sign up");T(d,f)},$$slots:{default:!0}}),T(t,a),G()}var Yl=z('<div class="svelte-t4bw1y"><!></div>');function Ue(t,e){q(e,!0);let n=x(null);he(()=>{s(n)&&(s(n).getBoundingClientRect(),s(n).style.opacity="1")});var r=Yl(),a=k(r);Ne(a,()=>e.children),Ee(r,o=>E(n,o),()=>s(n)),T(t,r),G()}var Xl=z("<!> <!>",1);function ql(t,e){q(e,!0);const n=(y,P=Qt)=>{var C=le(),M=W(C);{var H=X=>{Ue(X,{children:(Y,se)=>{Hl(Y,{})},$$slots:{default:!0}})},j=(X,Y)=>{{var se=N=>{Ue(N,{children:(A,B)=>{Ul(A,{})},$$slots:{default:!0}})},F=(N,A)=>{{var B=oe=>{Ue(oe,{children:(O,$)=>{var D=le(),R=W(D);Rt(R,d,null,(J,de)=>{var ae=le();const ve=K(()=>s(de).default);var Ye=W(ae);Ft(Ye,()=>s(ve),(Xe,He)=>{He(Xe,{})}),T(J,ae)}),T(O,D)},$$slots:{default:!0}})},V=(oe,O)=>{{var $=R=>{Ue(R,{children:(J,de)=>{var ae=le(),ve=W(ae);Rt(ve,v,null,(Ye,Xe)=>{var He=le();const Me=K(()=>s(Xe).default);var rt=W(He);Ft(rt,()=>s(Me),(pt,_t)=>{_t(pt,{})}),T(Ye,He)}),T(J,ae)},$$slots:{default:!0}})},D=(R,J)=>{{var de=ve=>{Ue(ve,{children:(Ye,Xe)=>{var He=le(),Me=W(He);Rt(Me,f,null,(rt,pt)=>{var _t=le();const qe=K(()=>s(pt).default);var Bt=W(_t);Ft(Bt,()=>s(qe),(rn,Tn)=>{Tn(rn,{})}),T(rt,_t)}),T(Ye,He)},$$slots:{default:!0}})},ae=(ve,Ye)=>{{var Xe=Me=>{Ue(Me,{children:(rt,pt)=>{jl(rt,{})},$$slots:{default:!0}})},He=(Me,rt)=>{{var pt=qe=>{Ue(qe,{children:(Bt,rn)=>{Wl(Bt,{})},$$slots:{default:!0}})},_t=(qe,Bt)=>{{var rn=mt=>{Ue(mt,{children:(Cn,yr)=>{var wt=le(),Dn=W(wt);Rt(Dn,h,null,(Sr,an)=>{var on=le();const Ln=K(()=>s(an).default);var An=W(on);Ft(An,()=>s(Ln),(sn,Pn)=>{Pn(sn,{})}),T(Sr,on)}),T(Cn,wt)},$$slots:{default:!0}})},Tn=(mt,Cn)=>{{var yr=wt=>{Ue(wt,{children:(Dn,Sr)=>{var an=le(),on=W(an);Rt(on,_,null,(Ln,An)=>{var sn=le();const Pn=K(()=>s(An).default);var eo=W(sn);Ft(eo,()=>s(Pn),(to,no)=>{no(to,{})}),T(Ln,sn)}),T(Dn,an)},$$slots:{default:!0}})};U(mt,wt=>{P()==="signin"&&wt(yr)},Cn)}};U(qe,mt=>{P()==="signup"?mt(rn):mt(Tn,!1)},Bt)}};U(Me,qe=>{P()==="sign"?qe(pt):qe(_t,!1)},rt)}};U(ve,Me=>{P()==="start"?Me(Xe):Me(He,!1)},Ye)}};U(R,ve=>{P()==="clearStorage"?ve(de):ve(ae,!1)},J)}};U(oe,R=>{P()==="export"?R($):R(D,!1)},O)}};U(N,oe=>{P()==="import"?oe(B):oe(V,!1)},A)}};U(X,N=>{P()==="newNote"?N(se):N(F,!1)},Y)}};U(M,X=>{P()==="settings"?X(H):X(j,!1)})}T(y,C)};let r=K(Aa),a=K(Dt),o=null,i=null,l=null,c=null,u=null;function d(){return o||(o=Ht(()=>import("./ImportData-Baz0K76a.js"),__vite__mapDeps([0,1,2,3]))),o}function v(){return i||(i=Ht(()=>import("./ExportData-CAOhyqoK.js"),__vite__mapDeps([4,1,2,5]))),i}function f(){return l||(l=Ht(()=>import("./ClearStore-B172m2NU.js"),__vite__mapDeps([6,1,2,7]))),l}function h(){return c||(c=Ht(()=>import("./Signup-BSbEr8W_.js"),__vite__mapDeps([8,1,2,9]))),c}function _(){return u||(u=Ht(()=>import("./Signin-tssPhg6o.js"),__vite__mapDeps([10,1,2,9]))),u}var p=Xl(),m=W(p);{var S=y=>{Al(y)};U(m,y=>{s(a)&&y(S)})}var b=L(m,2);{var g=y=>{var P=le(),C=W(P);Qe(C,17,()=>s(r),vs,(M,H,j)=>{const X=K(()=>{var Y;return j!==s(r).length-1&&!!((Y=s(r)[j+1])!=null&&Y.shown)});Br(M,{get shown(){return s(H).shown},get hidden(){return s(X)},isLastDialog:j===0,children:(Y,se)=>{n(Y,()=>s(H).page)},$$slots:{default:!0}})}),T(y,P)},w=(y,P)=>{{var C=M=>{const H=K(()=>s(r).length===1);Br(M,{onBack:()=>La(),get shown(){return s(r)[s(r).length-1].shown},hidden:!1,get isLastDialog(){return s(H)},children:(j,X)=>{n(j,()=>s(r)[s(r).length-1].page)},$$slots:{default:!0}})};U(y,M=>{s(r).length>0&&M(C)},P)}};U(b,y=>{It()?y(g):y(w,!1)})}T(t,p),G()}function Gl(){const t=navigator.userAgent;if(!(/iPad|iPhone|iPod/.test(t)&&!window.MSStream))return!1;const n=/Safari/.test(t)&&!/Chrome/.test(t)&&!/CriOS/.test(t)&&!/FxiOS/.test(t),r=/Macintosh/.test(t)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>1;return!!n||!!r}const Jl=Gl();function Zl(t,e){q(e,!1),he(()=>{Fn(),document.addEventListener("focusin",Fn),document.addEventListener("focusout",Fn),document.addEventListener("touchmove",function(n){vr()&&Jl&&n.preventDefault()},{passive:!1})}),nn(),G()}function Ql(t,e){q(e,!1);let n=0;he(()=>{document.querySelector("div"),document.addEventListener("touchstart",r=>{n=r.touches[0].clientX},{passive:!1}),document.addEventListener("touchmove",r=>{const o=r.touches[0].clientX-n;(n<50&&o>0||n>window.innerWidth-50&&o<0)&&r.preventDefault()},{passive:!1}),document.addEventListener("touchend",()=>{n=0}),document.addEventListener("touchcancel",()=>{n=0})}),nn(),G()}var $l=z('<!> <!> <!> <main><!> <div class="container svelte-ngsolt"><!></div></main>',1);function ec(t,e){q(e,!0),he(async()=>{await new Promise(h=>setTimeout(h,100)),await es(),ge.working=!0});let n=K(()=>Ve().length>0),r=K(Dt);var a=$l(),o=W(a);Ql(o,{});var i=L(o,2);Zl(i,{});var l=L(i,2);Ps(l,{});var c=L(l,2),u=k(c);{var d=h=>{Ys(h,{})};U(u,h=>{s(r)&&h(d)})}var v=L(u,2),f=k(v);ql(f,{}),Ee(c,h=>zt.ref=h,()=>zt==null?void 0:zt.ref),ue(()=>{pn(c,`--swiping-ratio: ${ge.swipingRatio}; --transition-timing-default: ${ge.duration}s;`),ee(c,1,re(["main",{isAnimationOn:ge.working&&!ge.isSwiping,open:s(n)}]),"svelte-ngsolt")}),T(t,a),G()}us(ec,{target:document.getElementById("app")});export{Q as A,_n as B,Qe as C,be as D,Mn as E,In as F,Mt as G,pn as H,lc as I,sc as J,ac as K,ic as L,fe as M,Ir as N,Fi as O,Ri as P,Bi as Q,uc as R,Un as S,x as a,T as b,k as c,G as d,L as e,z as f,s as g,W as h,U as i,It as j,Ee as k,E as l,ue as m,ee as n,he as o,q as p,re as q,Jt as r,Kt as s,De as t,me as u,ke as v,cc as w,oc as x,Da as y,rc as z};
