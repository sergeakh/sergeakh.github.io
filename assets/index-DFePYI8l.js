const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/DesktopDialog-D2pgM0cz.js","assets/DesktopDialog-D8zTl_PA.css","assets/MobileSidebar-B2rl7uWX.js","assets/MobileSidebar-CUCj13hK.css","assets/AccessKeys-Cqk0FA72.js","assets/api-C5JaEwh0.js","assets/AccessKeys-DF5NA1tk.css","assets/Account-BacB74AK.js","assets/Account-LI89flHz.css","assets/ClearStore-BQlTMKXX.js","assets/ClearStore-DiVqV26R.css","assets/ConfirmAccessKey-CKlgkEA7.js","assets/Input-DRSkLQ7p.js","assets/Input-CSPHLXRh.css","assets/ConfirmAccessKey-BEOXyioc.css","assets/Exit-CfGAlSH6.js","assets/Exit-B7Im9AKN.css","assets/ExportData-BmWueyMj.js","assets/ExportData-Gq8zQKAw.css","assets/ImportData-BakB7SGw.js","assets/ImportData-CZGzVRRc.css","assets/NewNote-CCvdAEDB.js","assets/NewNote-D420jCE0.css","assets/Signin-DZ5F18bH.js","assets/Signin-CnX7iJxK.css","assets/Signup-CmrJ6nbn.js","assets/Subscription-CRXOsvhP.js","assets/Subscription-2ryrsj8c.css","assets/Sync-RuRyYEWi.js","assets/Sync-BTYiYqAC.css"])))=>i.map(i=>d[i]);
var fo=Object.defineProperty;var ua=e=>{throw TypeError(e)};var vo=(e,t,n)=>t in e?fo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Qt=(e,t,n)=>vo(e,typeof t!="symbol"?t+"":t,n),dr=(e,t,n)=>t.has(e)||ua("Cannot "+n);var X=(e,t,n)=>(dr(e,t,"read from private field"),n?n.call(e):t.get(e)),Te=(e,t,n)=>t.has(e)?ua("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Ue=(e,t,n,r)=>(dr(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Et=(e,t,n)=>(dr(e,t,"access private method"),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();const Da=!1;var Or=Array.isArray,ho=Array.prototype.indexOf,Mr=Array.from,yr=Object.defineProperty,nn=Object.getOwnPropertyDescriptor,La=Object.getOwnPropertyDescriptors,go=Object.prototype,po=Array.prototype,Ir=Object.getPrototypeOf,da=Object.isExtensible;const It=()=>{};function _o(e){return typeof e?.then=="function"}function mo(e){return e()}function Yn(e){for(var t=0;t<e.length;t++)e[t]()}function wo(){var e,t,n=new Promise((r,s)=>{e=r,t=s});return{promise:n,resolve:e,reject:t}}function yo(e,t,n=!1){return e===void 0?n?t():t:e}const Re=2,Rr=4,$n=8,gn=16,ut=32,Ft=64,Oa=128,He=256,Gn=512,Ee=1024,Ke=2048,St=4096,Ge=8192,Ut=16384,jr=32768,xn=65536,fa=1<<17,bo=1<<18,Br=1<<19,Ma=1<<20,br=1<<21,Fr=1<<22,Tt=1<<23,Nt=Symbol("$state"),So=Symbol("legacy props"),ko=Symbol(""),Ur=new class extends Error{constructor(){super(...arguments);Qt(this,"name","StaleReactionError");Qt(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function Eo(){throw new Error("https://svelte.dev/e/await_outside_boundary")}function Po(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Co(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Ao(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function xo(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function To(e){throw new Error("https://svelte.dev/e/effect_orphan")}function No(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Do(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function Lo(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Oo(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Mo(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}const er=1,tr=2,Ia=4,Io=8,Ro=16,jo=1,Bo=2,Fo=4,Uo=8,zo=16,qo=1,Vo=2,pe=Symbol(),Ho="http://www.w3.org/1999/xhtml";let Ko=!1;function Ra(e){return e===this.v}function Wo(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function ja(e){return!Wo(e,this.v)}let pn=!1,Yo=!1;function Go(){pn=!0}let ue=null;function dn(e){ue=e}function Y(e,t=!1,n){ue={p:ue,c:null,e:null,s:e,x:null,l:pn&&!t?{s:null,u:null,$:[]}:null}}function G(e){var t=ue,n=t.e;if(n!==null){t.e=null;for(var r of n)Qa(r)}return e!==void 0&&(t.x=e),ue=t.p,e??{}}function zt(){return!pn||ue!==null&&ue.l===null}const Xo=new WeakMap;function Zo(e){var t=W;if(t===null)return K.f|=Tt,e;if((t.f&jr)===0){if((t.f&Oa)===0)throw!t.parent&&e instanceof Error&&Ba(e),e;t.b.error(e)}else zr(e,t)}function zr(e,t){for(;t!==null;){if((t.f&Oa)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e instanceof Error&&Ba(e),e}function Ba(e){const t=Xo.get(e);t&&(yr(e,"message",{value:t.message}),yr(e,"stack",{value:t.stack}))}let yn=[],Sr=[];function Fa(){var e=yn;yn=[],Yn(e)}function Jo(){var e=Sr;Sr=[],Yn(e)}function nr(e){yn.length===0&&queueMicrotask(Fa),yn.push(e)}function Qo(){yn.length>0&&Fa(),Sr.length>0&&Jo()}function $o(){for(var e=W.b;e!==null&&!e.has_pending_snippet();)e=e.parent;return e===null&&Eo(),e}function Tn(e){var t=Re|Ke,n=K!==null&&(K.f&Re)!==0?K:null;return W===null||n!==null&&(n.f&He)!==0?t|=He:W.f|=Br,{ctx:ue,deps:null,effects:null,equals:Ra,f:t,fn:e,reactions:null,rv:0,v:pe,wv:0,parent:n??W,ac:null}}function ei(e,t){let n=W;n===null&&Co();var r=n.b,s=void 0,a=jt(pe),i=null,l=!K;return hi(()=>{try{var c=e()}catch(g){c=Promise.reject(g)}var u=()=>c;s=i?.then(u,u)??Promise.resolve(c),i=s;var d=ne,v=r.pending;l&&(r.update_pending_count(1),v||d.increment());const h=(g,f=void 0)=>{i=null,v||d.activate(),f?f!==Ur&&(a.f|=Tt,mt(a,f)):((a.f&Tt)!==0&&(a.f^=Tt),mt(a,g)),l&&(r.update_pending_count(-1),v||d.decrement()),qa()};if(s.then(h,g=>h(null,g||"unknown")),d)return()=>{queueMicrotask(()=>d.neuter())}}),new Promise(c=>{function u(d){function v(){d===s?c(a):u(s)}d.then(v,v)}u(s)})}function L(e){const t=Tn(e);return as(t),t}function rr(e){const t=Tn(e);return t.equals=ja,t}function Ua(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)et(t[n])}}function ti(e){for(var t=e.parent;t!==null;){if((t.f&Re)===0)return t;t=t.parent}return null}function qr(e){var t,n=W;tt(ti(e));try{Ua(e),t=ls(e)}finally{tt(n)}return t}function za(e){var t=qr(e);if(e.equals(t)||(e.v=t,e.wv=os()),!Vt)if(fn!==null)fn.set(e,e.v);else{var n=(gt||(e.f&He)!==0)&&e.deps!==null?St:Ee;De(e,n)}}function ni(e,t,n){const r=zt()?Tn:rr;if(t.length===0){n(e.map(r));return}var s=ne,a=W,i=ri(),l=$o();Promise.all(t.map(c=>ei(c))).then(c=>{s?.activate(),i();try{n([...e.map(r),...c])}catch(u){(a.f&Ut)===0&&zr(u,a)}s?.deactivate(),qa()}).catch(c=>{l.error(c)})}function ri(){var e=W,t=K,n=ue;return function(){tt(e),We(t),dn(n)}}function qa(){tt(null),We(null),dn(null)}const _n=new Set;let ne=null,Vn=null,fn=null,va=new Set,Xn=[];function Va(){const e=Xn.shift();Xn.length>0&&queueMicrotask(Va),e()}let Rt=[],ar=null,kr=!1,Hn=!1;var on,ln,vt,En,Pn,At,cn,xt,ht,un,Cn,An,Xe,Ha,Kn,Er;const Qn=class Qn{constructor(){Te(this,Xe);Qt(this,"current",new Map);Te(this,on,new Map);Te(this,ln,new Set);Te(this,vt,0);Te(this,En,null);Te(this,Pn,!1);Te(this,At,[]);Te(this,cn,[]);Te(this,xt,[]);Te(this,ht,[]);Te(this,un,[]);Te(this,Cn,[]);Te(this,An,[]);Qt(this,"skipped_effects",new Set)}process(t){Rt=[],Vn=null;var n=null;if(_n.size>1){n=new Map,fn=new Map;for(const[a,i]of this.current)n.set(a,{v:a.v,wv:a.wv}),a.v=i;for(const a of _n)if(a!==this)for(const[i,l]of X(a,on))n.has(i)||(n.set(i,{v:i.v,wv:i.wv}),i.v=l)}for(const a of t)Et(this,Xe,Ha).call(this,a);if(X(this,At).length===0&&X(this,vt)===0){Et(this,Xe,Er).call(this);var r=X(this,xt),s=X(this,ht);Ue(this,xt,[]),Ue(this,ht,[]),Ue(this,un,[]),Vn=ne,ne=null,ha(r),ha(s),ne===null?ne=this:_n.delete(this),X(this,En)?.resolve()}else Et(this,Xe,Kn).call(this,X(this,xt)),Et(this,Xe,Kn).call(this,X(this,ht)),Et(this,Xe,Kn).call(this,X(this,un));if(n){for(const[a,{v:i,wv:l}]of n)a.wv<=l&&(a.v=i);fn=null}for(const a of X(this,At))sn(a);for(const a of X(this,cn))sn(a);Ue(this,At,[]),Ue(this,cn,[])}capture(t,n){X(this,on).has(t)||X(this,on).set(t,n),this.current.set(t,t.v)}activate(){ne=this}deactivate(){ne=null,Vn=null;for(const t of va)if(va.delete(t),t(),ne!==null)break}neuter(){Ue(this,Pn,!0)}flush(){Rt.length>0?Wa():Et(this,Xe,Er).call(this),ne===this&&(X(this,vt)===0&&_n.delete(this),this.deactivate())}increment(){Ue(this,vt,X(this,vt)+1)}decrement(){if(Ue(this,vt,X(this,vt)-1),X(this,vt)===0){for(const t of X(this,Cn))De(t,Ke),vn(t);for(const t of X(this,An))De(t,St),vn(t);Ue(this,xt,[]),Ue(this,ht,[]),this.flush()}else this.deactivate()}add_callback(t){X(this,ln).add(t)}settled(){return(X(this,En)??Ue(this,En,wo())).promise}static ensure(){if(ne===null){const t=ne=new Qn;_n.add(ne),Hn||Qn.enqueue(()=>{ne===t&&t.flush()})}return ne}static enqueue(t){Xn.length===0&&queueMicrotask(Va),Xn.unshift(t)}};on=new WeakMap,ln=new WeakMap,vt=new WeakMap,En=new WeakMap,Pn=new WeakMap,At=new WeakMap,cn=new WeakMap,xt=new WeakMap,ht=new WeakMap,un=new WeakMap,Cn=new WeakMap,An=new WeakMap,Xe=new WeakSet,Ha=function(t){t.f^=Ee;for(var n=t.first;n!==null;){var r=n.f,s=(r&(ut|Ft))!==0,a=s&&(r&Ee)!==0,i=a||(r&Ge)!==0||this.skipped_effects.has(n);if(!i&&n.fn!==null){if(s)n.f^=Ee;else if((r&Rr)!==0)X(this,ht).push(n);else if((r&Ee)===0)if((r&Fr)!==0){var l=n.b?.pending?X(this,cn):X(this,At);l.push(n)}else ir(n)&&((n.f&gn)!==0&&X(this,un).push(n),sn(n));var c=n.first;if(c!==null){n=c;continue}}var u=n.parent;for(n=n.next;n===null&&u!==null;)n=u.next,u=u.parent}},Kn=function(t){for(const n of t)((n.f&Ke)!==0?X(this,Cn):X(this,An)).push(n),De(n,Ee);t.length=0},Er=function(){if(!X(this,Pn))for(const t of X(this,ln))t();X(this,ln).clear()};let bn=Qn;function Ka(e){var t=Hn;Hn=!0;try{for(var n;;){if(Qo(),Rt.length===0&&(ne?.flush(),Rt.length===0))return ar=null,n;Wa()}}finally{Hn=t}}function Wa(){var e=an;kr=!0;try{var t=0;for(_a(!0);Rt.length>0;){var n=bn.ensure();if(t++>1e3){var r,s;ai()}n.process(Rt),_t.clear()}}finally{kr=!1,_a(e),ar=null}}function ai(){try{No()}catch(e){zr(e,ar)}}let Pt=null;function ha(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if((r.f&(Ut|Ge))===0&&ir(r)&&(Pt=[],sn(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?ts(r):r.fn=null),Pt.length>0)){_t.clear();for(const s of Pt)sn(s);Pt=[]}}Pt=null}}function vn(e){for(var t=ar=e;t.parent!==null;){t=t.parent;var n=t.f;if(kr&&t===W&&(n&gn)!==0)return;if((n&(Ft|ut))!==0){if((n&Ee)===0)return;t.f^=Ee}}Rt.push(t)}const _t=new Map;function jt(e,t){var n={f:0,v:e,reactions:null,equals:Ra,rv:0,wv:0};return n}function N(e,t){const n=jt(e);return as(n),n}function Pr(e,t=!1,n=!0){var s;const r=jt(e);return t||(r.equals=ja),pn&&n&&ue!==null&&ue.l!==null&&((s=ue.l).s??(s.s=[])).push(r),r}function P(e,t,n=!1){K!==null&&(!Je||(K.f&fa)!==0)&&zt()&&(K.f&(Re|gn|Fr|fa))!==0&&!ot?.includes(e)&&Mo();let r=n?fe(t):t;return mt(e,r)}function mt(e,t){if(!e.equals(t)){var n=e.v;Vt?_t.set(e,t):_t.set(e,n),e.v=t;var r=bn.ensure();r.capture(e,n),(e.f&Re)!==0&&((e.f&Ke)!==0&&qr(e),De(e,(e.f&He)===0?Ee:St)),e.wv=os(),Ya(e,Ke),zt()&&W!==null&&(W.f&Ee)!==0&&(W.f&(ut|Ft))===0&&(Ve===null?_i([e]):Ve.push(e))}return t}function fr(e){P(e,e.v+1)}function Ya(e,t){var n=e.reactions;if(n!==null)for(var r=zt(),s=n.length,a=0;a<s;a++){var i=n[a],l=i.f;if(!(!r&&i===W)){var c=(l&Ke)===0;c&&De(i,t),(l&Re)!==0?Ya(i,St):c&&((l&gn)!==0&&Pt!==null&&Pt.push(i),vn(i))}}}function fe(e){if(typeof e!="object"||e===null||Nt in e)return e;const t=Ir(e);if(t!==go&&t!==po)return e;var n=new Map,r=Or(e),s=N(0),a=Lt,i=l=>{if(Lt===a)return l();var c=K,u=Lt;We(null),wa(a);var d=l();return We(c),wa(u),d};return r&&n.set("length",N(e.length)),new Proxy(e,{defineProperty(l,c,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&Lo();var d=n.get(c);return d===void 0?d=i(()=>{var v=N(u.value);return n.set(c,v),v}):P(d,u.value,!0),!0},deleteProperty(l,c){var u=n.get(c);if(u===void 0){if(c in l){const d=i(()=>N(pe));n.set(c,d),fr(s)}}else P(u,pe),fr(s);return!0},get(l,c,u){if(c===Nt)return e;var d=n.get(c),v=c in l;if(d===void 0&&(!v||nn(l,c)?.writable)&&(d=i(()=>{var g=fe(v?l[c]:pe),f=N(g);return f}),n.set(c,d)),d!==void 0){var h=o(d);return h===pe?void 0:h}return Reflect.get(l,c,u)},getOwnPropertyDescriptor(l,c){var u=Reflect.getOwnPropertyDescriptor(l,c);if(u&&"value"in u){var d=n.get(c);d&&(u.value=o(d))}else if(u===void 0){var v=n.get(c),h=v?.v;if(v!==void 0&&h!==pe)return{enumerable:!0,configurable:!0,value:h,writable:!0}}return u},has(l,c){if(c===Nt)return!0;var u=n.get(c),d=u!==void 0&&u.v!==pe||Reflect.has(l,c);if(u!==void 0||W!==null&&(!d||nn(l,c)?.writable)){u===void 0&&(u=i(()=>{var h=d?fe(l[c]):pe,g=N(h);return g}),n.set(c,u));var v=o(u);if(v===pe)return!1}return d},set(l,c,u,d){var v=n.get(c),h=c in l;if(r&&c==="length")for(var g=u;g<v.v;g+=1){var f=n.get(g+"");f!==void 0?P(f,pe):g in l&&(f=i(()=>N(pe)),n.set(g+"",f))}if(v===void 0)(!h||nn(l,c)?.writable)&&(v=i(()=>N(void 0)),P(v,fe(u)),n.set(c,v));else{h=v.v!==pe;var p=i(()=>fe(u));P(v,p)}var _=Reflect.getOwnPropertyDescriptor(l,c);if(_?.set&&_.set.call(d,u),!h){if(r&&typeof c=="string"){var y=n.get("length"),w=Number(c);Number.isInteger(w)&&w>=y.v&&P(y,w+1)}fr(s)}return!0},ownKeys(l){o(s);var c=Reflect.ownKeys(l).filter(v=>{var h=n.get(v);return h===void 0||h.v!==pe});for(var[u,d]of n)d.v!==pe&&!(u in l)&&c.push(u);return c},setPrototypeOf(){Oo()}})}var ga,Ga,Xa,Za;function si(){if(ga===void 0){ga=window,Ga=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;Xa=nn(t,"firstChild").get,Za=nn(t,"nextSibling").get,da(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),da(n)&&(n.__t=void 0)}}function qt(e=""){return document.createTextNode(e)}function hn(e){return Xa.call(e)}function sr(e){return Za.call(e)}function k(e,t){return hn(e)}function M(e,t){{var n=hn(e);return n instanceof Comment&&n.data===""?sr(n):n}}function T(e,t=1,n=!1){let r=e;for(;t--;)r=sr(r);return r}function oi(e){e.textContent=""}function Vr(){return!1}let pa=!1;function ii(){pa||(pa=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function or(e){var t=K,n=W;We(null),tt(null);try{return e()}finally{We(t),tt(n)}}function li(e,t,n,r=n){e.addEventListener(t,()=>or(n));const s=e.__on_r;s?e.__on_r=()=>{s(),r(!0)}:e.__on_r=()=>r(!0),ii()}function Ja(e){W===null&&K===null&&To(),K!==null&&(K.f&He)!==0&&W===null&&xo(),Vt&&Ao()}function ci(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function rt(e,t,n,r=!0){var s=W;s!==null&&(s.f&Ge)!==0&&(e|=Ge);var a={ctx:ue,deps:null,nodes_start:null,nodes_end:null,f:e|Ke,first:null,fn:t,last:null,next:null,parent:s,b:s&&s.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{sn(a),a.f|=jr}catch(c){throw et(a),c}else t!==null&&vn(a);var i=n&&a.deps===null&&a.first===null&&a.nodes_start===null&&a.teardown===null&&(a.f&Br)===0;if(!i&&r&&(s!==null&&ci(a,s),K!==null&&(K.f&Re)!==0&&(e&Ft)===0)){var l=K;(l.effects??(l.effects=[])).push(a)}return a}function ui(e){const t=rt($n,null,!1);return De(t,Ee),t.teardown=e,t}function Ce(e){Ja();var t=W.f,n=!K&&(t&ut)!==0&&(t&jr)===0;if(n){var r=ue;(r.e??(r.e=[])).push(e)}else return Qa(e)}function Qa(e){return rt(Rr|Ma,e,!1)}function di(e){return Ja(),rt($n|Ma,e,!0)}function fi(e){bn.ensure();const t=rt(Ft,e,!0);return(n={})=>new Promise(r=>{n.outro?Dt(t,()=>{et(t),r(void 0)}):(et(t),r(void 0))})}function vi(e){return rt(Rr,e,!1)}function hi(e){return rt(Fr|Br,e,!0)}function Hr(e,t=0){return rt($n|t,e,!0)}function oe(e,t=[],n=[]){ni(t,n,r=>{rt($n,()=>e(...r.map(o)),!0)})}function Nn(e,t=0){var n=rt(gn|t,e,!0);return n}function $e(e,t=!0){return rt(ut,e,!0,t)}function $a(e){var t=e.teardown;if(t!==null){const n=Vt,r=K;ma(!0),We(null);try{t.call(null)}finally{ma(n),We(r)}}}function es(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const s=n.ac;s!==null&&or(()=>{s.abort(Ur)});var r=n.next;(n.f&Ft)!==0?n.parent=null:et(n,t),n=r}}function gi(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&ut)===0&&et(t),t=n}}function et(e,t=!0){var n=!1;(t||(e.f&bo)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(pi(e.nodes_start,e.nodes_end),n=!0),es(e,t&&!n),Zn(e,0),De(e,Ut);var r=e.transitions;if(r!==null)for(const a of r)a.stop();$a(e);var s=e.parent;s!==null&&s.first!==null&&ts(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function pi(e,t){for(;e!==null;){var n=e===t?null:sr(e);e.remove(),e=n}}function ts(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function Dt(e,t){var n=[];Kr(e,n,!0),ns(n,()=>{et(e),t&&t()})}function ns(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var s of e)s.out(r)}else t()}function Kr(e,t,n){if((e.f&Ge)===0){if(e.f^=Ge,e.transitions!==null)for(const i of e.transitions)(i.is_global||n)&&t.push(i);for(var r=e.first;r!==null;){var s=r.next,a=(r.f&xn)!==0||(r.f&ut)!==0;Kr(r,t,a?n:!1),r=s}}}function rn(e){rs(e,!0)}function rs(e,t){if((e.f&Ge)!==0){e.f^=Ge,(e.f&Ee)===0&&(De(e,Ke),vn(e));for(var n=e.first;n!==null;){var r=n.next,s=(n.f&xn)!==0||(n.f&ut)!==0;rs(n,s?t:!1),n=r}if(e.transitions!==null)for(const a of e.transitions)(a.is_global||t)&&a.in()}}let an=!1;function _a(e){an=e}let Vt=!1;function ma(e){Vt=e}let K=null,Je=!1;function We(e){K=e}let W=null;function tt(e){W=e}let ot=null;function as(e){K!==null&&(ot===null?ot=[e]:ot.push(e))}let Pe=null,Ie=0,Ve=null;function _i(e){Ve=e}let ss=1,Sn=0,Lt=Sn;function wa(e){Lt=e}let gt=!1;function os(){return++ss}function ir(e){var t=e.f;if((t&Ke)!==0)return!0;if((t&St)!==0){var n=e.deps,r=(t&He)!==0;if(n!==null){var s,a,i=(t&Gn)!==0,l=r&&W!==null&&!gt,c=n.length;if((i||l)&&(W===null||(W.f&Ut)===0)){var u=e,d=u.parent;for(s=0;s<c;s++)a=n[s],(i||!a?.reactions?.includes(u))&&(a.reactions??(a.reactions=[])).push(u);i&&(u.f^=Gn),l&&d!==null&&(d.f&He)===0&&(u.f^=He)}for(s=0;s<c;s++)if(a=n[s],ir(a)&&za(a),a.wv>e.wv)return!0}(!r||W!==null&&!gt)&&De(e,Ee)}return!1}function is(e,t,n=!0){var r=e.reactions;if(r!==null&&!ot?.includes(e))for(var s=0;s<r.length;s++){var a=r[s];(a.f&Re)!==0?is(a,t,!1):t===a&&(n?De(a,Ke):(a.f&Ee)!==0&&De(a,St),vn(a))}}function ls(e){var p;var t=Pe,n=Ie,r=Ve,s=K,a=gt,i=ot,l=ue,c=Je,u=Lt,d=e.f;Pe=null,Ie=0,Ve=null,gt=(d&He)!==0&&(Je||!an||K===null),K=(d&(ut|Ft))===0?e:null,ot=null,dn(e.ctx),Je=!1,Lt=++Sn,e.ac!==null&&(or(()=>{e.ac.abort(Ur)}),e.ac=null);try{e.f|=br;var v=e.fn,h=v(),g=e.deps;if(Pe!==null){var f;if(Zn(e,Ie),g!==null&&Ie>0)for(g.length=Ie+Pe.length,f=0;f<Pe.length;f++)g[Ie+f]=Pe[f];else e.deps=g=Pe;if(!gt||(d&Re)!==0&&e.reactions!==null)for(f=Ie;f<g.length;f++)((p=g[f]).reactions??(p.reactions=[])).push(e)}else g!==null&&Ie<g.length&&(Zn(e,Ie),g.length=Ie);if(zt()&&Ve!==null&&!Je&&g!==null&&(e.f&(Re|St|Ke))===0)for(f=0;f<Ve.length;f++)is(Ve[f],e);return s!==null&&s!==e&&(Sn++,Ve!==null&&(r===null?r=Ve:r.push(...Ve))),(e.f&Tt)!==0&&(e.f^=Tt),h}catch(_){return Zo(_)}finally{e.f^=br,Pe=t,Ie=n,Ve=r,K=s,gt=a,ot=i,dn(l),Je=c,Lt=u}}function mi(e,t){let n=t.reactions;if(n!==null){var r=ho.call(n,e);if(r!==-1){var s=n.length-1;s===0?n=t.reactions=null:(n[r]=n[s],n.pop())}}n===null&&(t.f&Re)!==0&&(Pe===null||!Pe.includes(t))&&(De(t,St),(t.f&(He|Gn))===0&&(t.f^=Gn),Ua(t),Zn(t,0))}function Zn(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)mi(e,n[r])}function sn(e){var t=e.f;if((t&Ut)===0){De(e,Ee);var n=W,r=an;W=e,an=!0;try{(t&gn)!==0?gi(e):es(e),$a(e);var s=ls(e);e.teardown=typeof s=="function"?s:null,e.wv=ss;var a;Da&&Yo&&(e.f&Ke)!==0&&e.deps}finally{an=r,W=n}}}async function wi(){await Promise.resolve(),Ka()}function o(e){var t=e.f,n=(t&Re)!==0;if(K!==null&&!Je){var r=W!==null&&(W.f&Ut)!==0;if(!r&&!ot?.includes(e)){var s=K.deps;if((K.f&br)!==0)e.rv<Sn&&(e.rv=Sn,Pe===null&&s!==null&&s[Ie]===e?Ie++:Pe===null?Pe=[e]:(!gt||!Pe.includes(e))&&Pe.push(e));else{(K.deps??(K.deps=[])).push(e);var a=e.reactions;a===null?e.reactions=[K]:a.includes(K)||a.push(K)}}}else if(n&&e.deps===null&&e.effects===null){var i=e,l=i.parent;l!==null&&(l.f&He)===0&&(i.f^=He)}if(Vt){if(_t.has(e))return _t.get(e);if(n){i=e;var c=i.v;return((i.f&Ee)===0&&i.reactions!==null||cs(i))&&(c=qr(i)),_t.set(i,c),c}}else if(n){if(i=e,fn?.has(i))return fn.get(i);ir(i)&&za(i)}if((e.f&Tt)!==0)throw e.v;return e.v}function cs(e){if(e.v===pe)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(_t.has(t)||(t.f&Re)!==0&&cs(t))return!0;return!1}function Bt(e){var t=Je;try{return Je=!0,e()}finally{Je=t}}const yi=-7169;function De(e,t){e.f=e.f&yi|t}function bi(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Nt in e)Cr(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&Nt in n&&Cr(n)}}}function Cr(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{Cr(e[r],t)}catch{}const n=Ir(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=La(n);for(let s in r){const a=r[s].get;if(a)try{a.call(e)}catch{}}}}}const Si=["touchstart","touchmove"];function ki(e){return Si.includes(e)}const us=new Set,Ar=new Set;function Ei(e,t,n,r={}){function s(a){if(r.capture||mn.call(t,a),!a.cancelBubble)return or(()=>n?.call(this,a))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?nr(()=>{t.addEventListener(e,s,r)}):t.addEventListener(e,s,r),s}function Wr(e,t,n,r,s){var a={capture:r,passive:s},i=Ei(e,t,n,a);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&ui(()=>{t.removeEventListener(e,i,a)})}function Oe(e){for(var t=0;t<e.length;t++)us.add(e[t]);for(var n of Ar)n(e)}let ya=null;function mn(e){var t=this,n=t.ownerDocument,r=e.type,s=e.composedPath?.()||[],a=s[0]||e.target;ya=e;var i=0,l=ya===e&&e.__root;if(l){var c=s.indexOf(l);if(c!==-1&&(t===document||t===window)){e.__root=t;return}var u=s.indexOf(t);if(u===-1)return;c<=u&&(i=c)}if(a=s[i]||e.target,a!==t){yr(e,"currentTarget",{configurable:!0,get(){return a||n}});var d=K,v=W;We(null),tt(null);try{for(var h,g=[];a!==null;){var f=a.assignedSlot||a.parentNode||a.host||null;try{var p=a["__"+r];if(p!=null&&(!a.disabled||e.target===a))if(Or(p)){var[_,...y]=p;_.apply(a,[e,...y])}else p.call(a,e)}catch(w){h?g.push(w):h=w}if(e.cancelBubble||f===t||f===null)break;a=f}if(h){for(let w of g)queueMicrotask(()=>{throw w});throw h}}finally{e.__root=t,delete e.currentTarget,We(d),tt(v)}}}function ds(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function kn(e,t){var n=W;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function I(e,t){var n=(t&qo)!==0,r=(t&Vo)!==0,s,a=!e.startsWith("<!>");return()=>{s===void 0&&(s=ds(a?e:"<!>"+e),n||(s=hn(s)));var i=r||Ga?document.importNode(s,!0):s.cloneNode(!0);if(n){var l=hn(i),c=i.lastChild;kn(l,c)}else kn(i,i);return i}}function Pi(e,t,n="svg"){var r=!e.startsWith("<!>"),s=`<${n}>${r?e:"<!>"+e}</${n}>`,a;return()=>{if(!a){var i=ds(s),l=hn(i);a=hn(l)}var c=a.cloneNode(!0);return kn(c,c),c}}function Ci(e,t){return Pi(e,t,"svg")}function Le(e=""){{var t=qt(e+"");return kn(t,t),t}}function H(){var e=document.createDocumentFragment(),t=document.createComment(""),n=qt();return e.append(t,n),kn(t,n),e}function b(e,t){e!==null&&e.before(t)}function uu(){var e;return(e=window.__svelte??(window.__svelte={})).uid??(e.uid=1),`c${window.__svelte.uid++}`}function lr(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function Ai(e,t){return xi(e,t)}const $t=new Map;function xi(e,{target:t,anchor:n,props:r={},events:s,context:a,intro:i=!0}){si();var l=new Set,c=v=>{for(var h=0;h<v.length;h++){var g=v[h];if(!l.has(g)){l.add(g);var f=ki(g);t.addEventListener(g,mn,{passive:f});var p=$t.get(g);p===void 0?(document.addEventListener(g,mn,{passive:f}),$t.set(g,1)):$t.set(g,p+1)}}};c(Mr(us)),Ar.add(c);var u=void 0,d=fi(()=>{var v=n??t.appendChild(qt());return $e(()=>{if(a){Y({});var h=ue;h.c=a}s&&(r.$$events=s),u=e(v,r)||{},a&&G()}),()=>{for(var h of l){t.removeEventListener(h,mn);var g=$t.get(h);--g===0?(document.removeEventListener(h,mn),$t.delete(h)):$t.set(h,g)}Ar.delete(c),v!==n&&v.parentNode?.removeChild(v)}});return Ti.set(u,d),u}let Ti=new WeakMap;const vr=0,Fn=1,hr=2;function Yr(e,t,n,r,s){var a=e,i=zt(),l=ue,c=pe,u,d,v,h=i?jt(void 0):Pr(void 0,!1,!1),g=i?jt(void 0):Pr(void 0,!1,!1),f=!1;function p(y,w){f=!0,w&&(tt(_),We(_),dn(l));try{y===vr&&n&&(u?rn(u):u=$e(()=>n(a))),y===Fn&&r&&(d?rn(d):d=$e(()=>r(a,h))),y===hr&&s&&(v?rn(v):v=$e(()=>s(a,g))),y!==vr&&u&&Dt(u,()=>u=null),y!==Fn&&d&&Dt(d,()=>d=null),y!==hr&&v&&Dt(v,()=>v=null)}finally{w&&(dn(null),We(null),tt(null),Ka())}}var _=Nn(()=>{if(c!==(c=t())){if(_o(c)){var y=c;f=!1,y.then(w=>{y===c&&(mt(h,w),p(Fn,!0))},w=>{if(y===c&&(mt(g,w),p(hr,!0),!s))throw g.v}),nr(()=>{f||p(vr,!0)})}else mt(h,c),p(Fn,!1);return()=>c=pe}})}function U(e,t,n=!1){var r=e,s=null,a=null,i=pe,l=n?xn:0,c=!1;const u=(g,f=!0)=>{c=!0,h(f,g)};var d=null;function v(){d!==null&&(d.lastChild.remove(),r.before(d),d=null);var g=i?s:a,f=i?a:s;g&&rn(g),f&&Dt(f,()=>{i?a=null:s=null})}const h=(g,f)=>{if(i!==(i=g)){var p=Vr(),_=r;if(p&&(d=document.createDocumentFragment(),d.append(_=qt())),i?s??(s=f&&$e(()=>f(_))):a??(a=f&&$e(()=>f(_))),p){var y=ne,w=i?s:a,m=i?a:s;w&&y.skipped_effects.delete(w),m&&y.skipped_effects.add(m),y.add_callback(v)}else v()}};Nn(()=>{c=!1,t(u),c||h(null,null)},l)}function ve(e,t){Hr(()=>{var n=t();for(var r in n){var s=n[r];s?e.style.setProperty(r,s):e.style.removeProperty(r)}})}function Ni(e,t,n){for(var r=e.items,s=[],a=t.length,i=0;i<a;i++)Kr(t[i].e,s,!0);var l=a>0&&s.length===0&&n!==null;if(l){var c=n.parentNode;oi(c),c.append(n),r.clear(),Ze(e,t[0].prev,t[a-1].next)}ns(s,()=>{for(var u=0;u<a;u++){var d=t[u];l||(r.delete(d.k),Ze(e,d.prev,d.next)),et(d.e,!l)}})}function tn(e,t,n,r,s,a=null){var i=e,l={flags:t,items:new Map,first:null},c=(t&Ia)!==0;if(c){var u=e;i=u.appendChild(qt())}var d=null,v=!1,h=new Map,g=rr(()=>{var y=n();return Or(y)?y:y==null?[]:Mr(y)}),f,p;function _(){Di(p,f,l,h,i,s,t,r,n),a!==null&&(f.length===0?d?rn(d):d=$e(()=>a(i)):d!==null&&Dt(d,()=>{d=null}))}Nn(()=>{p??(p=W),f=o(g);var y=f.length;if(!(v&&y===0)){v=y===0;var w,m,S,C;if(Vr()){var E=new Set,A=ne;for(m=0;m<y;m+=1){S=f[m],C=r(S,m);var F=l.items.get(C)??h.get(C);F?(t&(er|tr))!==0&&fs(F,S,m,t):(w=vs(null,l,null,null,S,C,m,s,t,n,!0),h.set(C,w)),E.add(C)}for(const[re,te]of l.items)E.has(re)||A.skipped_effects.add(te.e);A.add_callback(_)}else _();o(g)}})}function Di(e,t,n,r,s,a,i,l,c){var u=(i&Io)!==0,d=(i&(er|tr))!==0,v=t.length,h=n.items,g=n.first,f=g,p,_=null,y,w=[],m=[],S,C,E,A;if(u)for(A=0;A<v;A+=1)S=t[A],C=l(S,A),E=h.get(C),E!==void 0&&(E.a?.measure(),(y??(y=new Set)).add(E));for(A=0;A<v;A+=1){if(S=t[A],C=l(S,A),E=h.get(C),E===void 0){var F=r.get(C);if(F!==void 0){r.delete(C),h.set(C,F);var re=_?_.next:f;Ze(n,_,F),Ze(n,F,re),gr(F,re,s),_=F}else{var te=f?f.e.nodes_start:s;_=vs(te,n,_,_===null?n.first:_.next,S,C,A,a,i,c)}h.set(C,_),w=[],m=[],f=_.next;continue}if(d&&fs(E,S,A,i),(E.e.f&Ge)!==0&&(rn(E.e),u&&(E.a?.unfix(),(y??(y=new Set)).delete(E))),E!==f){if(p!==void 0&&p.has(E)){if(w.length<m.length){var ie=m[0],q;_=ie.prev;var V=w[0],J=w[w.length-1];for(q=0;q<w.length;q+=1)gr(w[q],ie,s);for(q=0;q<m.length;q+=1)p.delete(m[q]);Ze(n,V.prev,J.next),Ze(n,_,V),Ze(n,J,ie),f=ie,_=J,A-=1,w=[],m=[]}else p.delete(E),gr(E,f,s),Ze(n,E.prev,E.next),Ze(n,E,_===null?n.first:_.next),Ze(n,_,E),_=E;continue}for(w=[],m=[];f!==null&&f.k!==C;)(f.e.f&Ge)===0&&(p??(p=new Set)).add(f),m.push(f),f=f.next;if(f===null)continue;E=f}w.push(E),_=E,f=E.next}if(f!==null||p!==void 0){for(var de=p===void 0?[]:Mr(p);f!==null;)(f.e.f&Ge)===0&&de.push(f),f=f.next;var j=de.length;if(j>0){var B=(i&Ia)!==0&&v===0?s:null;if(u){for(A=0;A<j;A+=1)de[A].a?.measure();for(A=0;A<j;A+=1)de[A].a?.fix()}Ni(n,de,B)}}u&&nr(()=>{if(y!==void 0)for(E of y)E.a?.apply()}),e.first=n.first&&n.first.e,e.last=_&&_.e;for(var O of r.values())et(O.e);r.clear()}function fs(e,t,n,r){(r&er)!==0&&mt(e.v,t),(r&tr)!==0?mt(e.i,n):e.i=n}function vs(e,t,n,r,s,a,i,l,c,u,d){var v=(c&er)!==0,h=(c&Ro)===0,g=v?h?Pr(s,!1,!1):jt(s):s,f=(c&tr)===0?i:jt(i),p={i:f,v:g,k:a,a:null,e:null,prev:n,next:r};try{if(e===null){var _=document.createDocumentFragment();_.append(e=qt())}return p.e=$e(()=>l(e,g,f,u),Ko),p.e.prev=n&&n.e,p.e.next=r&&r.e,n===null?d||(t.first=p):(n.next=p,n.e.next=p.e),r!==null&&(r.prev=p,r.e.prev=p.e),p}finally{}}function gr(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,s=t?t.e.nodes_start:n,a=e.e.nodes_start;a!==null&&a!==r;){var i=sr(a);s.before(a),a=i}}function Ze(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function nt(e,t,...n){var r=e,s=It,a;Nn(()=>{s!==(s=t())&&(a&&(et(a),a=null),a=$e(()=>s(r,...n)))},xn)}function Gr(e,t,n){var r=e,s,a,i=null,l=null;function c(){a&&(Dt(a),a=null),i&&(i.lastChild.remove(),r.before(i),i=null),a=l,l=null}Nn(()=>{if(s!==(s=t())){var u=Vr();if(s){var d=r;u&&(i=document.createDocumentFragment(),i.append(d=qt()),a&&ne.skipped_effects.add(a)),l=$e(()=>n(d,s))}u?ne.add_callback(c):c()}},xn)}function hs(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=hs(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Li(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=hs(e))&&(r&&(r+=" "),r+=t);return r}function $(e){return typeof e=="object"?Li(e):e??""}const ba=[...` 	
\r\f \v\uFEFF`];function Oi(e,t,n){var r=e==null?"":""+e;if(t&&(r=r?r+" "+t:t),n){for(var s in n)if(n[s])r=r?r+" "+s:s;else if(r.length)for(var a=s.length,i=0;(i=r.indexOf(s,i))>=0;){var l=i+a;(i===0||ba.includes(r[i-1]))&&(l===r.length||ba.includes(r[l]))?r=(i===0?"":r.substring(0,i))+r.substring(l+1):i=l}}return r===""?null:r}function Mi(e,t){return e==null?null:String(e)}function ee(e,t,n,r,s,a){var i=e.__className;if(i!==n||i===void 0){var l=Oi(n,r,a);l==null?e.removeAttribute("class"):e.className=l,e.__className=n}else if(a&&s!==a)for(var c in a){var u=!!a[c];(s==null||u!==!!s[c])&&e.classList.toggle(c,u)}return a}function Jn(e,t,n,r){var s=e.__style;if(s!==t){var a=Mi(t);a==null?e.removeAttribute("style"):e.style.cssText=a,e.__style=t}return r}const Ii=Symbol("is custom element"),Ri=Symbol("is html");function pr(e,t){var n=Xr(e);n.value===(n.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function Wn(e,t){var n=Xr(e);n.checked!==(n.checked=t??void 0)&&(e.checked=t)}function ye(e,t,n,r){var s=Xr(e);s[t]!==(s[t]=n)&&(t==="loading"&&(e[ko]=n),n==null?e.removeAttribute(t):typeof n!="string"&&ji(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function Xr(e){return e.__attributes??(e.__attributes={[Ii]:e.nodeName.includes("-"),[Ri]:e.namespaceURI===Ho})}var Sa=new Map;function ji(e){var t=Sa.get(e.nodeName);if(t)return t;Sa.set(e.nodeName,t=[]);for(var n,r=e,s=Element.prototype;s!==r;){n=La(r);for(var a in n)n[a].set&&t.push(a);r=Ir(r)}return t}function Bi(e,t,n=t){var r=zt(),s=new WeakSet;li(e,"input",a=>{var i=a?e.defaultValue:e.value;if(i=_r(e)?mr(i):i,n(i),ne!==null&&s.add(ne),r&&i!==(i=t())){var l=e.selectionStart,c=e.selectionEnd;e.value=i??"",c!==null&&(e.selectionStart=l,e.selectionEnd=Math.min(c,e.value.length))}}),Bt(t)==null&&e.value&&(n(_r(e)?mr(e.value):e.value),ne!==null&&s.add(ne)),Hr(()=>{var a=t();if(e===document.activeElement){var i=Vn??ne;if(s.has(i))return}_r(e)&&a===mr(e.value)||e.type==="date"&&!a&&!e.value||a!==e.value&&(e.value=a??"")})}function _r(e){var t=e.type;return t==="number"||t==="range"}function mr(e){return e===""?null:+e}function ka(e,t){return e===t||e?.[Nt]===t}function it(e={},t,n,r){return vi(()=>{var s,a;return Hr(()=>{s=a,a=[],Bt(()=>{e!==n(...a)&&(t(e,...a),s&&ka(n(...s),e)&&t(null,...s))})}),()=>{nr(()=>{a&&ka(n(...a),e)&&t(null,...a)})}}),e}function Dn(e=!1){const t=ue,n=t.l.u;if(!n)return;let r=()=>bi(t.s);if(e){let s=0,a={};const i=Tn(()=>{let l=!1;const c=t.s;for(const u in c)c[u]!==a[u]&&(a[u]=c[u],l=!0);return l&&s++,s});r=()=>o(i)}n.b.length&&di(()=>{Ea(t,r),Yn(n.b)}),Ce(()=>{const s=Bt(()=>n.m.map(mo));return()=>{for(const a of s)typeof a=="function"&&a()}}),n.a.length&&Ce(()=>{Ea(t,r),Yn(n.a)})}function Ea(e,t){if(e.l.s)for(const n of e.l.s)o(n);t()}let Un=!1;function Fi(e){var t=Un;try{return Un=!1,[e(),Un]}finally{Un=t}}function le(e,t,n,r){var s=!pn||(n&Bo)!==0,a=(n&Uo)!==0,i=(n&zo)!==0,l=r,c=!0,u=()=>(c&&(c=!1,l=i?Bt(r):r),l),d;if(a){var v=Nt in e||So in e;d=nn(e,t)?.set??(v&&t in e?m=>e[t]=m:void 0)}var h,g=!1;a?[h,g]=Fi(()=>e[t]):h=e[t],h===void 0&&r!==void 0&&(h=u(),d&&(s&&Do(),d(h)));var f;if(s?f=()=>{var m=e[t];return m===void 0?u():(c=!0,m)}:f=()=>{var m=e[t];return m!==void 0&&(l=void 0),m===void 0?l:m},s&&(n&Fo)===0)return f;if(d){var p=e.$$legacy;return(function(m,S){return arguments.length>0?((!s||!S||p||g)&&d(S?f():m),m):f()})}var _=!1,y=((n&jo)!==0?Tn:rr)(()=>(_=!1,f()));a&&o(y);var w=W;return(function(m,S){if(arguments.length>0){const C=S?o(y):s&&a?fe(m):m;return P(y,C),_=!0,l!==void 0&&(l=C),m}return Vt&&_||(w.f&Ut)!==0?y.v:o(y)})}function me(e){ue===null&&Po(),pn&&ue.l!==null?Ui(ue).m.push(e):Ce(()=>{const t=Bt(e);if(typeof t=="function")return t})}function Ui(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const zi="5";var Na;typeof window<"u"&&((Na=window.__svelte??(window.__svelte={})).v??(Na.v=new Set)).add(zi);let Ct=N(""),en=N(null);function qi(e){P(Ct,""),setTimeout(()=>{P(Ct,e,!0)},16)}var Vi=I('<div class="notification svelte-1a2zucn"> </div>'),Hi=I("<div><!></div>");function Ki(e,t){Y(t,!0),Ce(()=>{o(Ct),o(Ct)&&(o(en)?.getBoundingClientRect(),o(en)?.style.setProperty("opacity","1"));const a=setTimeout(()=>{o(en)?.style.removeProperty("opacity")},800),i=setTimeout(()=>{P(Ct,""),o(en)?.style.removeProperty("opacity")},1200);return()=>{clearTimeout(a),clearTimeout(i)}});var n=Hi(),r=k(n);{var s=a=>{var i=Vi(),l=k(i);it(i,c=>P(en,c),()=>o(en)),oe(()=>lr(l,o(Ct))),b(a,i)};U(r,a=>{o(Ct)&&a(s)})}b(e,n),G()}Go();var Wi=I('<span class="vh svelte-14jjkpd"><!></span>');function yt(e,t){var n=Wi(),r=k(n);nt(r,()=>t.children),b(e,n)}var Yi=Ci('<svg class="svelte-gv09tg"><use></use></svg>');function ce(e,t){let n=le(t,"name",8,"");var r=Yi(),s=k(r);oe(()=>ye(s,"href",`#icon-${n()??""}`)),b(e,r)}const gs=(e,t)=>{if(!t)return e;if(t.type==="closed")return{type:"closed"};switch(e.type){case"opened":return t.type==="close"?{type:"closing"}:t.type==="swipe"?{type:"openSwiping"}:e;case"closed":return t.type==="open"?{type:"opening"}:t.type==="swipe"?{type:"closeSwiping"}:e;case"openSwiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"closeSwiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"opening":return t.type==="opened"?{type:"opened"}:e;default:return e}};let xr=N(fe(gs({type:"closed"})));const ps=e=>{P(xr,gs(o(xr),e),!0)},Gi=()=>o(xr),Xi=()=>{ps({type:"open"})},Zi=()=>{ps({type:"close"})},Ji=()=>{const e=Gi().type;e==="closed"?Xi():e==="opened"&&Zi()};var Qi=I('<button class="buttonMenu svelte-hxzs42"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>');function _s(e,t){Y(t,!1),Dn();var n=Qi();n.__click=[Ji];var r=k(n);ve(r,()=>({"--size":"28px"})),ce(r.lastChild,{name:"sidebarMenu"});var s=T(r,2);yt(s,{children:(a,i)=>{var l=Le("Menu");b(a,l)}}),b(e,n),G()}Oe(["click"]);var $i=(e,t)=>t.onChange?.(e.target?.value||""),el=I('<input class="svelte-6l2oy0"/>');function Tr(e,t){Y(t,!0);let n=le(t,"value",15,"");var r=el();r.__input=[$i,t],oe(()=>ye(r,"placeholder",t.placeholder)),Wr("focus",r,function(...s){t.onFocus?.apply(this,s)}),Bi(r,n),b(e,r),G()}Oe(["input"]);const x=fe({historyStack:[],pathname:window.location.pathname,search:window.location.search,historyLength:0});let ms=N(fe(new URLSearchParams(x.search).get("feedOrder")||"newest"));const ws=()=>o(ms),tl=e=>{P(ms,e,!0);const t=new URLSearchParams(x.search);e==="newest"?t.delete("feedOrder"):t.set("feedOrder",e),lt(`${x.pathname}${t.size>0?`?${t.toString()}`:""}`)};let ys=N(fe(new URLSearchParams(x.search).get("search")||""));const bs=()=>o(ys),nl=e=>{P(ys,e,!0);const t=new URLSearchParams(x.search);e===""?t.delete("search"):t.set("search",e),lt(`${x.pathname}${t.size>0?`?${t.toString()}`:""}`)},du=(e,t)=>{const n=new URLSearchParams(x.search);n.append(e,t),Zr(`${x.pathname}${n.size>0?`?${n.toString()}`:""}`)},fu=e=>{const t=new URLSearchParams(x.search);t.delete(e),x.historyStack=x.historyStack.map(n=>{const r=new URLSearchParams(n.split("?")[1]);return r.delete(e),`${n.split("?")[0]}${t.size>0?`?${r.toString()}`:""}`}),Zr(`${x.pathname}${t.size>0?`?${t.toString()}`:""}`)},Ss=()=>new URLSearchParams(x.search).get("selectedTags")?.split(",")||[];let zn=Ss();const rl=()=>{const e=Ss();return e.join(",")===zn.join(",")||(zn=e),zn},al=()=>{x.pathname=document.location.pathname,x.search=document.location.search,x.historyLength=Math.max(0,x.historyLength-=1)};window.addEventListener("popstate",al);const lt=e=>{const[t,n]=e.split("?");x.pathname=t,x.search=n?`?${n}`:"",x.historyLength+=1,x.historyStack.push(window.location.href),window.history.replaceState(null,"",e)},Zr=e=>{const[t,n]=e.split("?");x.pathname=t,x.search=n?`?${n}`:"",window.history.replaceState(null,"",e)},sl=e=>{const{fallback:t="/",to:n}=e||{},[r,s]=t.split("?");if(x.historyLength<=0){const a=window.location.href,[i,l]=a.split("?");if(!l.includes("stackPages"))window.history.replaceState(null,"",t),x.historyLength=0,x.pathname=r,x.search=s?`?${s}`:"";else{const c=new URLSearchParams(l),u=c.get("stackPages")?.split(",")||[],d=u.slice(0,n&&u.includes(n)?u.indexOf(n)+1:-1);d.length===0?c.delete("stackPages"):c.set("stackPages",d.join(","));const v=`${i}${c.toString()?`?${c.toString()}`:""}`;window.history.replaceState(null,"",v),x.search=c.toString()?`?${c.toString()}`:""}}else if(x.historyStack.length>0){const i=new URLSearchParams(x.search).get("stackPages")?.split(",")||[];n&&i.includes(n)&&(x.historyStack=x.historyStack.slice(0,-(i.length-(i.indexOf(n)+1))+1),x.historyLength=x.historyStack.length);const l=x.historyStack.pop();if(l){const[c,u]=l.split("?");window.history.replaceState(null,"",l),x.historyLength=Math.max(0,x.historyLength-=1),x.pathname=c,x.search=u?`?${u}`:""}}},ks=()=>{const e=x.historyStack.findIndex(n=>n.includes("stackPages")),t=e===-1?x.historyStack.slice(0):x.historyStack.slice(0,e);if(t.length>0){const n=t.pop();if(n){const[r,s]=n.split("?");window.history.replaceState(null,"",n),x.historyLength=Math.max(0,t.length),x.pathname=r,x.search=s?`?${s}`:"",x.historyStack=t}}else{const n=x.search,r=new URLSearchParams(n);r.delete("stackPages"),window.history.replaceState(null,"",r.toString()?"/?"+r.toString():"/"),x.historyLength=0,x.pathname="/",x.search=r.toString()?"?"+r.toString():"",x.historyStack=[]}},st=fe({value:""}),ol=fe({value:bs()}),il=(e,t)=>{let n=null;return()=>{n&&clearTimeout(n),n=setTimeout(()=>{e()},t)}},Es=()=>window.matchMedia("(max-width: 768px)").matches;let Ps=N(fe(Es()));const ll=il(()=>{P(Ps,Es(),!0)},16);window.addEventListener("resize",ll);const Ln=()=>o(Ps);function cl(e,t){Y(t,!0),me(()=>{const n=r=>{r.target&&t.dialog?.open&&t.dialogInner&&t.dialogInner!==r.target&&!t.dialogInner.contains(r.target)&&t.onClose()};return document.addEventListener("mousedown",n,{capture:!0}),()=>{document.removeEventListener("mousedown",n,{capture:!0})}}),G()}const Jr=fe({count:0}),ul=()=>Jr.count>0,Cs=()=>{Jr.count+=1},As=()=>{Jr.count-=1};var dl=I('<dialog><div class="dialogInner svelte-1wekt4o"><!></div></dialog> <!>',1);function xs(e,t){Y(t,!0);let n=N(null),r=N(null),s=N(!1);const a=()=>{const h=setTimeout(()=>{t.onClosed()},150);o(n)?.addEventListener("transitionend",()=>{clearTimeout(h),t.onClosed()},{once:!0}),P(s,!1)};Ce(()=>{t.startClose&&a()}),me(()=>{o(n)?.showModal(),o(n)?.getClientRects(),P(s,!0)}),me(()=>(Cs(),()=>{As()}));var i=dl(),l=M(i),c=k(l),u=k(c);nt(u,()=>t.children),it(c,h=>P(r,h),()=>o(r)),it(l,h=>P(n,h),()=>o(n));var d=T(l,2);{var v=h=>{cl(h,{get dialog(){return o(n)},get dialogInner(){return o(r)},onClose:a})};U(d,h=>{o(n)&&o(r)&&h(v)})}oe(()=>ee(l,1,$(["dialog",{shown:o(s)}]),"svelte-1wekt4o")),b(e,i),G()}var fl=I("<div><!></div>");function Ts(e,t){Y(t,!0);let n=N(!1),r=N(null);const s=()=>{const u=setTimeout(()=>{t.onClosed()},150);o(r)?.addEventListener("transitionend",()=>{clearTimeout(u),t.onClosed()},{once:!0}),P(n,!1)},a=u=>{u.target!==o(r)&&!o(r)?.contains(u.target)&&s()},i=u=>{u.target!==o(r)&&!o(r)?.contains(u.target)&&s()};me(()=>{o(r)?.getClientRects(),P(n,!0);const u=setTimeout(()=>{document.addEventListener("focusin",a),document.addEventListener("click",i)},0);return()=>{clearTimeout(u),document.removeEventListener("focusin",a),document.removeEventListener("click",i)}}),Ce(()=>{t.startClose&&s()});var l=fl(),c=k(l);nt(c,()=>t.children),it(l,u=>P(r,u),()=>o(r)),oe(()=>ee(l,1,$(["menu",{top:t.positionTop,shown:o(n)}]),"svelte-vbw57a")),b(e,l),G()}const vl=(e,t)=>{o(t)||P(t,!0)};var hl=(e,t)=>t("newest"),gl=(e,t)=>t("oldest"),pl=(e,t)=>t("AtoZ"),_l=(e,t)=>t("ZtoA"),ml=I("<div><button>Newest</button> <button>Oldest</button> <button>A to Z</button> <button>Z to A</button></div>"),wl=I('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),yl=I('<div class="orderMenu svelte-110m8z1"><button><!> <!></button> <!></div>');function bl(e,t){Y(t,!0);const n=(p,_=It)=>{var y=ml(),w=k(y);w.__click=[hl,l];var m=T(w,2);m.__click=[gl,l];var S=T(m,2);S.__click=[pl,l];var C=T(S,2);C.__click=[_l,l],oe(()=>{ee(y,1,$(["menu",{menuDialog:_()}]),"svelte-110m8z1"),ee(w,1,$(["menuButton",{menuButtonDialog:_(),current:o(i)==="newest"}]),"svelte-110m8z1"),ee(m,1,$(["menuButton",{menuButtonDialog:_(),current:o(i)==="oldest"}]),"svelte-110m8z1"),ee(S,1,$(["menuButton",{menuButtonDialog:_(),current:o(i)==="AtoZ"}]),"svelte-110m8z1"),ee(C,1,$(["menuButton",{menuButtonDialog:_(),current:o(i)==="ZtoA"}]),"svelte-110m8z1")}),b(p,y)};let r=N(!1),s=N(!1),a=L(Ln),i=L(ws);const l=p=>{P(s,!0),tl(p)},c=()=>{P(r,!1),P(s,!1)};var u=yl(),d=k(u);d.__click=[vl,r],ee(d,1,$(["button","buttonMenu"]),"svelte-110m8z1");var v=k(d);ce(v,{name:"filter"});var h=T(v,2);yt(h,{children:(p,_)=>{var y=Le("show feed order menu");b(p,y)}});var g=T(d,2);{var f=p=>{var _=H(),y=M(_);{var w=S=>{xs(S,{get startClose(){return o(s)},onClosed:c,children:(C,E)=>{n(C,()=>!0)},$$slots:{default:!0}})},m=S=>{var C=wl(),E=M(C);ve(E,()=>({"--right":"20px","--top":"60px"})),Ts(E.lastChild,{get startClose(){return o(s)},onClosed:c,children:(A,F)=>{n(A,()=>!1)},$$slots:{default:!0}}),b(S,C)};U(y,S=>{o(a)?S(w):S(m,!1)})}b(p,_)};U(g,p=>{o(r)&&p(f)})}b(e,u),G()}Oe(["click"]);const Qr=fe({ref:null}),kt=()=>new URLSearchParams(x.search).get("stackPages")?.split(",")||[];let wt=N(fe(kt()));const ct=e=>{const t=kt();if(!t.includes(e)){t.push(e);const n=new URLSearchParams(x.search);n.set("stackPages",t.join(",")),P(wt,t,!0),lt(`${x.pathname}?${n.toString()}`)}},Sl=e=>kt().includes(e),vu=()=>{P(wt,kt(),!0)},Ns=()=>{const e=o(wt).slice(0,-1);P(wt,e,!0)},kl=()=>{const e=kt();return e.length>=o(wt).length?e.reduce((t,n)=>[...t,{page:n,shown:!0}],[]):o(wt).reduce((t,n,r)=>[...t,{page:n,shown:e.length===0?!1:r!==o(wt).length-1}],[])},Nr=()=>{P(wt,[],!0)},Ot=e=>{const t=kt();t.includes(e)||t.push(e);const n=new URLSearchParams(x.search);return n.set("stackPages",t.join(",")),`${x.pathname}?${n}`},Mt=e=>t=>{t.preventDefault(),ct(e)};var D=(e=>(e.NewBookmark="newBookmark",e.Settings="settings",e.ImportData="importData",e.ExportData="exportData",e.ClearStore="clearStore",e.Account="account",e.Sync="sync",e.Start="start",e.Auth="auth",e.Signin="signin",e.Signup="signup",e.AccessKeys="accessKeys",e.ConfirmAccessKey="confirmAccessKey",e.Subscription="subscription",e.Exit="exit",e.NotFound="notFound",e))(D||{}),El=I('<div class="header svelte-1dwr4f1"><div class="top svelte-1dwr4f1"><div class="menu svelte-1dwr4f1"><a class="link svelte-1dwr4f1"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Settings</span></a> <a class="link svelte-1dwr4f1"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Sync</span></a></div> <div class="mobile svelte-1dwr4f1"><!></div> <a class="buttonAdd svelte-1dwr4f1"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Bookmark</span></a></div> <div class="bottom svelte-1dwr4f1"><div><div class="sidebarSearchWrapper"><!></div></div> <div class="right svelte-1dwr4f1"><div class="filter svelte-1dwr4f1"><div class="feedSearchWrapper svelte-1dwr4f1"><!></div> <!></div></div></div></div>');function Pl(e,t){Y(t,!0);let n=L(()=>Qr.ref);const r=()=>{o(n)&&o(n).scrollTo({top:0,behavior:"smooth"})},s=q=>{nl(q)};var a=El(),i=k(a),l=k(i),c=k(l),u=L(()=>Mt(D.Settings));c.__click=function(...q){o(u)?.apply(this,q)};var d=k(c);ve(d,()=>({"--size":"20px"})),ce(d.lastChild,{name:"settings"});var v=T(c,2),h=L(()=>Mt(D.Sync));v.__click=function(...q){o(h)?.apply(this,q)};var g=k(v);ve(g,()=>({"--size":"20px"})),ce(g.lastChild,{name:"sync"});var f=T(l,2),p=k(f);_s(p,{});var _=T(f,2),y=L(()=>Mt(D.NewBookmark));_.__click=function(...q){o(y)?.apply(this,q)};var w=k(_);ve(w,()=>({"--size":"24px","--color":"#b0b0b0"})),ce(w.lastChild,{name:"plus"});var m=T(i,2),S=k(m);ee(S,1,$(["left"]),"svelte-1dwr4f1");var C=k(S),E=k(C);Tr(E,{placeholder:"Search tag",get value(){return st.value},set value(q){st.value=q}});var A=T(S,2),F=k(A),re=k(F),te=k(re);Tr(te,{onFocus:r,onChange:s,placeholder:"Search",get value(){return ol.value}});var ie=T(re,2);bl(ie,{}),oe((q,V,J)=>{ye(c,"href",q),ye(v,"href",V),ye(_,"href",J)},[()=>Ot(D.Settings),()=>Ot(D.Sync),()=>Ot(D.NewBookmark)]),b(e,a),G()}Oe(["click"]);const Cl="modulepreload",Al=function(e){return"/"+e},Pa={},ge=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){let c=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=i?.nonce||i?.getAttribute("nonce");s=c(n.map(u=>{if(u=Al(u),u in Pa)return;Pa[u]=!0;const d=u.endsWith(".css"),v=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${v}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":Cl,d||(h.as="script"),h.crossOrigin="",h.href=u,l&&h.setAttribute("nonce",l),document.head.appendChild(h),d)return new Promise((g,f)=>{h.addEventListener("load",g),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${u}`)))})}))}function a(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return s.then(i=>{for(const l of i||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})},Ne=fe({working:!1,swipingRatio:1,isSwiping:!1,duration:.35});let Dr=!1;const wr=()=>{document.activeElement instanceof HTMLInputElement&&document.activeElement.type==="text"||document.activeElement instanceof HTMLTextAreaElement?Dr=!0:Dr=!1},Ds=()=>Dr;function xl(e,t){Y(t,!0);let n=le(t,"dialog",7),r=null;const s=()=>{t.dialogState==="swiping"&&t.onClose()};Ce(()=>(t.dialogState==="swiping"&&(r=setTimeout(s,3e3)),()=>{r&&(clearTimeout(r),r=null)}));let a=null,i=null;const l=3,c=50,u=5,d=.6,v=.3,h=.35,g=.95;let f=0,p=0,_=0,y=!1,w=!1,m=0,S=0,C=0;const E=()=>{f=0,p=0,y=!1,w=!1,m=0,S=0,C=0,_=0,a=null,i!==null&&(cancelAnimationFrame(i),i=null),r&&(clearTimeout(r),r=null)},A=j=>{if(!n()){console.warn("Touch start: No dialog element");return}if(t.dialogState!=="opened"){console.warn(`Touch start: Invalid sidebar state: ${t.dialogState}`);return}f=j.touches[0].clientX,p=j.touches[0].clientY,_=performance.now(),y=!0,w=!1},F=j=>t.dialogState==="opened"&&j>0||t.dialogState==="swiping"&&j>0,re=()=>{if(n()){n().style.setProperty("--transition-timing","0s"),t.onSwipe(),navigator.vibrate&&navigator.vibrate(10);try{const j=window.getComputedStyle(n()),B=j.transform||j.webkitTransform||"";if(S=n().offsetWidth,(t.dialogState==="swiping"||t.dialogState==="opened")&&(m=0),B&&B!=="none")try{m=new DOMMatrix(B).m41}catch{console.warn("Could not parse transform matrix, using default position")}w=!0}catch(j){console.error("Error during swipe initialization:",j),E()}}},te=()=>{if(!n())return;const B=Math.abs(m+C*S/100)/S;n().style.setProperty("--backdrop-bg",`rgba(0, 0, 0, ${.1*(1-B)})`)},ie=()=>{if(i=null,!a||!y||!n()||Ds()){E();return}const j=a.touches[0].clientX,B=a.touches[0].clientY,O=j-f,Q=B-p,Ae=Math.abs(O)>Math.abs(Q),je=Math.abs(O)>l;if(!w)if(Ae&&je&&F(O))try{re()}catch(Be){console.error("Error initializing swipe:",Be),E();return}else return;if(!F(O))return;n().style.setProperty("--transition-timing","0s");let ae=m+O*g;ae=Math.max(0,Math.min(S,ae)),n().style.transform=`translate3d(${ae}px, 0, 0)`,Ne.swipingRatio=Math.abs(1-ae/S),C=(ae-m)/S*100,t.dialogState==="swiping"&&(r&&clearTimeout(r),r=setTimeout(s,3e3)),te()},q=j=>{if(!y)return;a=j,i===null&&(i=requestAnimationFrame(ie));const B=j.touches[0].clientX-f,O=j.touches[0].clientY-p,Q=Math.abs(B)>Math.abs(O);w&&Q&&j.preventDefault()},V=j=>{const B=Math.abs(j);if(B>=d)return u;if(B>=v){const O=(B-v)/(d-v);return c-O*(c-u)}else return c},J=(j,B)=>{if(Math.abs(j)>=d)return h*.5;const Q=Math.abs(C)/100;return B?h*Math.max(.5,1-Q):h*Math.max(.5,Q)},de=j=>{if(i!==null&&(cancelAnimationFrame(i),i=null),!y||!n()){E();return}if(!w){E();return}let B=0;if(j?.changedTouches?.[0]){const ae=j.changedTouches[0].clientX,he=performance.now()-_;he>0&&(B=(ae-f)/he)}const O=V(B);let Q=null;t.dialogState==="swiping"&&(Q=Math.abs(C)>O||B<-v?"close":"open");const Ae=t.dialogState==="swiping"&&Q==="close",je=J(B,Ae);Ne.duration=je-.02,n().style.setProperty("--transition-timing",`${je}s`),n().offsetWidth,n().style.transform="",Q==="open"?t.onOpen():Q==="close"&&t.onClose(),n()?.style.removeProperty("--backdrop-bg"),E()};me(()=>(n().addEventListener("touchstart",A,{passive:!0}),n().addEventListener("touchmove",q,{passive:!1}),n().addEventListener("touchend",de,{passive:!0}),n().addEventListener("touchcancel",de,{passive:!0}),()=>{n().removeEventListener("touchstart",A),n().removeEventListener("touchmove",q),n().removeEventListener("touchend",de),n().removeEventListener("touchcancel",de),i!==null&&cancelAnimationFrame(i)})),G()}let $r=N(!1);const Tl=(e,t)=>{let n;return()=>{n&&clearTimeout(n),n=setTimeout(()=>{e()},t)}},Nl=Tl(()=>{P($r,!1)},100),Ls=()=>{P($r,!0),Nl()},Dl=()=>o($r);var Ll=(e,t)=>{t.onStartClose()},Ol=I('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),Ml=I('<dialog><div class="dialogInner svelte-68rj1a"><div class="header svelte-68rj1a"><div><!></div></div> <!></div></dialog> <!>',1);function Il(e,t){Y(t,!0);let n=350,r=N(null),s=N(null);const a=m=>{m.preventDefault(),t.onStartClose()};me(()=>(o(r)?.addEventListener("close",t.onClosed),o(r)?.addEventListener("cancel",a),()=>{o(r)?.removeEventListener("close",t.onClosed),o(r)?.removeEventListener("cancel",a)}));const i=()=>{o(r)?.style.removeProperty("--transition-timing"),o(r)?.style.removeProperty("transform"),o(r)?.style.removeProperty("--backdrop-bg")},l=()=>{Ls()},c=L(Dl);Ce(()=>{if(t.dialogState,!!o(r))switch(t.dialogState){case"opening":{o(r).open||o(r).showModal(),o(r).getBoundingClientRect();const m=setTimeout(()=>{i()},n+1),S=()=>{clearTimeout(m),i()};return o(r)?.addEventListener("transitionend",S,{once:!0}),t.onOpened(),()=>{o(r)?.removeEventListener("transitionend",S)}}case"closing":{const m=setTimeout(()=>{t.dialogState==="closing"&&t.onClosed()},n+1),S=()=>{clearTimeout(m),t.onClosed()};return o(r)?.addEventListener("transitionend",S,{once:!0}),()=>{o(r)?.removeEventListener("transitionend",S)}}case"opened":i()}});var u=Ml(),d=M(u),v=k(d),h=k(v),g=k(h),f=k(g);{var p=m=>{var S=Ol();ee(S,1,$(["navigateButton","buttonBack"]),"svelte-68rj1a"),S.__click=[Ll,t];var C=k(S);ve(C,()=>({"--size":"20px"})),ce(C.lastChild,{name:"back"});var E=T(C,2);yt(E,{children:(A,F)=>{var re=Le("back");b(A,re)}}),b(m,S)};U(f,m=>{(!(t.blocked||t.hidden)||t.blocked&&t.unBlockedBack)&&m(p)})}var _=T(h,2);nt(_,()=>t.children),it(v,m=>P(s,m),()=>o(s)),it(d,m=>P(r,m),()=>o(r));var y=T(d,2);{var w=m=>{xl(m,{get onClose(){return t.onStartClose},get onOpen(){return t.onStartOpen},get onSwipe(){return t.onSwipe},get dialogState(){return t.dialogState},get dialog(){return o(r)}})};U(y,m=>{(!o(c)&&t.dialogState==="opened"||t.dialogState==="swiping")&&(!t.blocked||t.unBlockedBack)&&m(w)})}oe(()=>ee(d,1,$([{open:t.dialogState==="opened",hidden:t.hidden,isAnimationOn:Ne.working&&(!Ne.isSwiping||!t.hidden)},{hidden:t.hidden}]),"svelte-68rj1a")),Wr("scroll",v,l),b(e,u),G()}Oe(["click"]);const Ca=(e,t)=>{if(!t)return e;if(t.type==="closed")return{type:"closed"};switch(e.type){case"opened":return t.type==="close"?{type:"closing"}:t.type==="swipe"?{type:"swiping"}:e;case"closed":return t.type==="open"?{type:"opening"}:e;case"swiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"opening":return t.type==="opened"?{type:"opened"}:e;default:return e}};function Rl(e,t){Y(t,!0);let n=le(t,"blocked",3,!1),r=le(t,"hiddenDialog",3,!1),s=le(t,"unBlockedBack",3,!1),a=le(t,"onStartClose",3,()=>{}),i=le(t,"onClose",3,()=>{}),l=N(fe(Ca({type:"closed"})));const c=y=>{P(l,Ca(o(l),y),!0)},u=()=>{n()&&!s()||(a()(),c({type:"close"}))},d=()=>{c({type:"open"})},v=()=>{c({type:"opened"}),Ne.duration=.2},h=()=>{i()(),c({type:"closed"}),Ne.swipingRatio=1,Ne.duration=.2},g=()=>{c({type:"swipe"})};Ce(()=>{o(l).type==="swiping"?Ne.isSwiping=!0:Ne.isSwiping=!1,o(l).type==="closed"&&t.shownDialog?d():o(l).type==="opened"&&!t.shownDialog&&u()});var f=H(),p=M(f);{var _=y=>{Il(y,{onSwipe:g,onOpened:v,onClosed:h,onStartClose:u,onStartOpen:d,get dialogState(){return o(l).type},get hidden(){return r()},get blocked(){return n()},get unBlockedBack(){return s()},children:(w,m)=>{var S=H(),C=M(S);nt(C,()=>t.children),b(w,S)},$$slots:{default:!0}})};U(p,y=>{o(l).type!=="closed"&&y(_)})}return b(e,f),G({handleComputeState:c})}function jl(e,t){Y(t,!0);let n=le(t,"blockedDialog",3,!1),r=le(t,"hiddenDialog",3,!1),s=le(t,"isLastDialog",3,!1),a=le(t,"onStartClose",3,()=>{}),i=le(t,"onClose",3,()=>{});const l=L(()=>s()?void 0:t.onStartBack);let c=null;function u(){return c||(c=ge(()=>import("./DesktopDialog-D2pgM0cz.js"),__vite__mapDeps([0,1]))),c}me(()=>(Cs(),()=>{As()}));var d=H(),v=M(d);{var h=f=>{Rl(f,{get shownDialog(){return t.shownDialog},get blocked(){return n()},get unBlockedBack(){return t.unBlockedBack},get hiddenDialog(){return r()},get children(){return t.children},get onStartClose(){return t.onStartBack},get onClose(){return i()}})},g=f=>{var p=H(),_=M(p);Yr(_,u,null,(y,w)=>{const m=L(()=>o(w).default);var S=H(),C=M(S);Gr(C,()=>o(m),(E,A)=>{A(E,{get shownDialog(){return t.shownDialog},get blockedDialog(){return n()},get unBlockedBack(){return t.unBlockedBack},get hiddenDialog(){return r()},get children(){return t.children},get onStartBack(){return o(l)},get onStartClose(){return a()},get onClose(){return i()}})}),b(y,S)}),b(f,p)};U(v,f=>{Ln()?f(h):f(g,!1)})}b(e,d),G()}let Os=N(!1),ea=N(!1);const wn=e=>{P(Os,e,!0),e||P(ea,!1)},Bl=()=>o(Os),Aa=e=>{P(ea,e,!0)},Fl=()=>o(ea);function xa(e,t){Y(t,!0);let n=le(t,"blocked",3,!1),r=le(t,"isLastDialog",3,!1),s=le(t,"onBack",3,()=>{});const a=L(()=>n()||t.hidden||Bl()),i=L(()=>Fl()&&!r());jl(e,{get shownDialog(){return t.shown},get blockedDialog(){return o(a)},get unBlockedBack(){return o(i)},get hiddenDialog(){return t.hidden},get isLastDialog(){return r()},onStartBack:()=>{(!o(a)||o(a)&&o(i))&&t.shown&&(sl(),s()())},onStartClose:()=>{(!o(a)||o(a)&&o(i))&&t.shown&&ks()},onClose:()=>{Ns()},children:(d,v)=>{var h=H(),g=M(h);nt(g,()=>t.children),b(d,h)},$$slots:{default:!0}}),G()}let Lr=N(fe({showFavicon:!0}));const Ms=()=>o(Lr).showFavicon,ta=e=>{e&&P(Lr,{...o(Lr),...e},!0)};let R=N({initedDB:!1});const Ul=()=>{P(R,{initedDB:!0})},Qe=async e=>{P(R,{...o(R),account:e})},On=async e=>{const t=o(R).notes||[],n=o(R).mapNotes||new Map;e.forEach(r=>{t.push(r),n.set(r.id,r)}),P(R,{...o(R),notes:t,mapNotes:n,getNotes:()=>t,getMapNotes:()=>n})},cr=()=>o(R).notes&&o(R).mapNotes,Is=()=>o(R).account,zl=()=>o(R).getNotes||(()=>o(R).notes||[]),hu=()=>o(R).getMapNotes||(()=>o(R).mapNotes||new Map),Rs=e=>{if(!o(R).notes||!o(R).mapNotes)throw new Error("Notes appState is not initialized");const t={...e};o(R).notes.push(t),o(R).mapNotes.set(t.id,t),P(R,{...o(R),getNotes:()=>o(R).notes,getMapNotes:()=>o(R).mapNotes})},ql=async e=>{if(!o(R).notes||!o(R).mapNotes)throw new Error("Notes appState is not initialized");o(R).notes.forEach((t,n)=>{t?.id===e.id&&o(R).notes&&(o(R).notes[n]=e)}),o(R).mapNotes.set(e.id,e),P(R,{...o(R),getNotes:()=>o(R).notes,getMapNotes:()=>o(R).mapNotes})},js=async e=>{if(!o(R).notes||!o(R).mapNotes)throw new Error("Notes appState is not initialized");o(R).mapNotes.delete(e);const t=o(R).notes.findIndex(n=>n?.id===e);t!==-1&&(o(R).notes[t]=void 0),P(R,{...o(R),getNotes:()=>o(R).notes,getMapNotes:()=>o(R).mapNotes})},Bs=async()=>{const e=[],t=new Map;P(R,{...o(R),notes:e,mapNotes:t,getNotes:()=>e,getMapNotes:()=>t})},Fs=async()=>{P(R,{initedDB:!0,account:void 0,notes:void 0,mapNotes:void 0,getNotes:()=>{},getMapNotes:()=>{}})};let Us=N({});const zs=()=>o(Us),Vl=e=>{P(Us,e)};var Hl=I('<button> <svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></button>');function qn(e,t){let n=L(()=>t.style==="selected"?"45deg":"0deg");var r=Hl();r.__click=function(...i){t.onClick?.apply(this,i)};var s=k(r),a=T(s);ve(a,()=>({"--size":"20px","--rotate":o(n)})),ce(a.lastChild,{name:"plus"}),oe(()=>{ye(r,"type",t.type),ee(r,1,$([{selectedTag:t.style==="selected"}]),"svelte-1pjhi9i"),lr(s,`${t.title??""} `)}),b(e,r)}Oe(["click"]);var Kl=I("<div></div>"),Wl=I('<div class="sidebarFixed svelte-1l0nhlg"><div class="nav svelte-1l0nhlg"><!> <div class="menu svelte-1l0nhlg"><a class="link svelte-1l0nhlg"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a> <a class="link svelte-1l0nhlg"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a></div></div> <div class="searchWrapper svelte-1l0nhlg"><!></div> <!></div> <div></div>',1),Yl=I("<div></div>"),Gl=I('<div class="sidebar svelte-1l0nhlg"><div class="sidebarFixed svelte-1l0nhlg"><!></div> <div class="tags svelte-1l0nhlg"></div></div>');function Xl(e,t){Y(t,!0);let n=N(null),r=L(()=>new URLSearchParams(x.search).get("selectedTags")?.split(",")||[]),s=null;function a(){return s||(s=ge(()=>import("./MobileSidebar-B2rl7uWX.js"),__vite__mapDeps([2,3]))),s}const i=p=>{const _=new URLSearchParams(x.search);_.set("selectedTags",[...o(r),p].join(",")),lt(`${x.pathname}${_.size>0?`?${_.toString()}`:""}`),st.value=""},l=p=>{const _=new URLSearchParams(x.search),y=o(r).filter(w=>w!==p);y.length===0?_.delete("selectedTags"):_.set("selectedTags",y.join(",")),lt(`${x.pathname}${_.size>0?`?${_.toString()}`:""}`)};let c=L(()=>cr()?Object.values(zs()).filter(p=>!o(r).some(_=>p.name===_)).sort((p,_)=>p.name.localeCompare(_.name)):[]),u=L(Ln);me(()=>{o(u)&&a()});let d=L(()=>kt().length>0||ul());var v=H(),h=M(v);{var g=p=>{var _=H(),y=M(_);Yr(y,a,null,(w,m)=>{const S=L(()=>o(m).default);var C=H(),E=M(C);Gr(E,()=>o(S),(A,F)=>{F(A,{get blocked(){return o(d)},children:(re,te)=>{var ie=Wl(),q=M(ie),V=k(q),J=k(V);_s(J,{});var de=T(J,2),j=k(de),B=L(()=>Mt(D.Settings));j.__click=function(...Z){o(B)?.apply(this,Z)};var O=k(j);ve(O,()=>({"--size":"24px"})),ce(O.lastChild,{name:"settings"});var Q=T(O,2);yt(Q,{children:(Z,be)=>{var xe=Le("Settings");b(Z,xe)}});var Ae=T(j,2),je=L(()=>Mt(D.Sync));Ae.__click=function(...Z){o(je)?.apply(this,Z)};var ae=k(Ae);ve(ae,()=>({"--size":"24px"})),ce(ae.lastChild,{name:"sync"});var we=T(ae,2);yt(we,{children:(Z,be)=>{var xe=Le("Sync");b(Z,xe)}});var he=T(V,2),Be=k(he);Tr(Be,{placeholder:"Search tag",get value(){return st.value},set value(Z){st.value=Z}});var Me=T(he,2);{var Fe=Z=>{var be=Kl();ee(be,1,$(["tags","selectedTags"]),"svelte-1l0nhlg"),tn(be,20,()=>o(r),xe=>xe,(xe,Ye)=>{qn(xe,{get title(){return Ye},onClick:()=>l(Ye),style:"selected"})}),it(be,xe=>P(n,xe),()=>o(n)),b(Z,be)};U(Me,Z=>{o(r).length>0&&Z(Fe)})}var _e=T(q,2);ee(_e,1,$(["tags","tagsWrapper"]),"svelte-1l0nhlg"),tn(_e,21,()=>o(c),Z=>Z.name,(Z,be)=>{var xe=H(),Ye=M(xe);{var Ht=Kt=>{qn(Kt,{get title(){return o(be).name},onClick:()=>i(o(be).name)})};U(Ye,Kt=>{(st.value===""||o(be).name.toLowerCase().indexOf(st.value.toLowerCase())!==-1)&&Kt(Ht)})}b(Z,xe)}),oe((Z,be)=>{ye(j,"href",Z),ye(Ae,"href",be)},[()=>Ot(D.Settings),()=>Ot(D.Sync)]),b(re,ie)},$$slots:{default:!0}})}),b(w,C)}),b(p,_)},f=p=>{var _=Gl(),y=k(_),w=k(y);{var m=C=>{var E=Yl();ee(E,1,$(["tags","selectedTags"]),"svelte-1l0nhlg"),tn(E,20,()=>o(r),A=>A,(A,F)=>{qn(A,{get title(){return F},onClick:()=>l(F),style:"selected"})}),b(C,E)};U(w,C=>{o(r).length>0&&C(m)})}var S=T(y,2);tn(S,21,()=>o(c),C=>C.name,(C,E)=>{var A=H(),F=M(A);{var re=te=>{qn(te,{get title(){return o(E).name},onClick:()=>i(o(E).name)})};U(F,te=>{(st.value===""||o(E).name.toLowerCase().indexOf(st.value.toLowerCase())!==-1)&&te(re)})}b(C,A)}),b(p,_)};U(h,p=>{o(u)?p(g):p(f,!1)})}b(e,v),G()}Oe(["click"]);function pt(e){const t=String.fromCharCode(...new Uint8Array(e));return window.btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function na(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");const n=t.length%4;return n&&(t+="=".repeat(4-n)),t}function ra(e){try{const t=atob(e),n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n.buffer}catch(t){throw console.error("Error decoding base64:",t,"Input:",e),t}}function gu(e){const t=na(e);return ra(t)}const pu=async({challenge:e,clientKey:t})=>{const n=Math.floor(Math.random()*100),r={challenge:ra(na(e)),rp:{id:"localhost",name:"notes"},user:{id:new Uint8Array([...t,...crypto.getRandomValues(new Uint8Array(16))]).buffer,name:`account_${n}`,displayName:`account_${n}`},pubKeyCredParams:[{type:"public-key",alg:-7},{type:"public-key",alg:-257}],authenticatorSelection:{userVerification:"required"},timeout:6e4,attestation:"none"},s=await navigator.credentials.create({publicKey:r});if(s){const a=s.response;return{challenge:e,id:s.id,rawId:pt(s.rawId),type:s.type,response:{clientDataJSON:pt(a.clientDataJSON),attestationObject:pt(a.attestationObject)}}}else throw new Error},_u=async({challenge:e})=>{const t={challenge:ra(na(e)),timeout:6e4,rpId:"localhost",userVerification:"required"},n=await navigator.credentials.get({publicKey:t});if(n){const r=n.response,s=new DataView(r.authenticatorData).getUint32(33,!1);console.log("Counter:",s);const a={challenge:e,id:n.id,rawId:pt(n.rawId),type:n.type,response:{authenticatorData:pt(r.authenticatorData),clientDataJSON:pt(r.clientDataJSON),signature:pt(r.signature)}};if(!r.userHandle)throw new Error("No credential found");const i=new Uint8Array(r.userHandle).slice(0,32);return{credentialData:a,clientKey:i}}else throw new Error("No credential found")},Zl=async e=>{const t=await crypto.subtle.importKey("raw",e.serverKey,{name:"HKDF"},!1,["deriveKey"]),n=await crypto.subtle.deriveKey({name:"HKDF",salt:new Uint8Array(12),info:new TextEncoder().encode("aes-gcm-shared"),hash:"SHA-256"},t,{name:"AES-GCM",length:256},!1,["encrypt"]);return{encryptedClientKey:await crypto.subtle.encrypt({name:"AES-GCM",iv:new Uint8Array(12)},n,e.clientKey)}},mu=async e=>{const t=await crypto.subtle.importKey("raw",e.serverKey,{name:"HKDF"},!1,["deriveKey"]),n=await crypto.subtle.deriveKey({name:"HKDF",info:new TextEncoder().encode("aes-gcm-shared"),hash:"SHA-256",salt:new Uint8Array(12)},t,{name:"AES-GCM",length:256},!1,["decrypt"]),r=await crypto.subtle.decrypt({name:"AES-GCM",iv:new Uint8Array(12)},n,e.encryptedClientKey);return new Uint8Array(r)},qs=()=>crypto.randomUUID(),Jl="AppStorage",Ql=1,Se="notes",ze="syncLog",dt="account",ft="settings",z=(e,t,n)=>{e?.addEventListener(t,n)};class $l{constructor(){Qt(this,"db");this.db=null}init(){return new Promise((t,n)=>{const r=indexedDB.open(Jl,Ql);z(r,"upgradeneeded",()=>{const s=r.result;s.objectStoreNames.contains(Se)||s.createObjectStore(Se,{keyPath:"id"}),s.objectStoreNames.contains(dt)||s.createObjectStore(dt,{keyPath:"id"}),s.objectStoreNames.contains(ft)||s.createObjectStore(ft,{keyPath:"id"}),s.objectStoreNames.contains(ze)||s.createObjectStore(ze,{keyPath:"id"})}),z(r,"success",()=>{t(),this.db=r.result;const s=this.db;s.onversionchange=function(){s?.close(),alert("app outdated, please reload the page")}}),z(r,"blocked",()=>{n(),alert("app outdated, please reload the page")}),z(r,"error",()=>{n(),console.error("Error",r.error)})})}getSettings(){return new Promise((t,n)=>{const s=this.db?.transaction(ft,"readonly")?.objectStore(ft).get("default");z(s,"success",()=>{const a=s?.result?.settings;t(a)}),z(s,"error",()=>{n()})})}putSettings(t){return new Promise((n,r)=>{const i=this.db?.transaction(ft,"readwrite")?.objectStore(ft)?.put({id:"default",settings:t});z(i,"success",()=>{n()}),z(i,"error",()=>{r()})})}getAccount(){return new Promise((t,n)=>{const s=this.db?.transaction(dt,"readonly")?.objectStore(dt).get("default");z(s,"success",()=>{const a=s?.result?.account;t(a)}),z(s,"error",()=>{n()})})}putAccount(t){return new Promise((n,r)=>{const i=this.db?.transaction(dt,"readwrite")?.objectStore(dt)?.put({id:"default",account:t});z(i,"success",()=>{console.log("account inited"),n()}),z(i,"error",()=>{r()})})}getAllNotes(){return new Promise((t,n)=>{const s=this.db?.transaction(Se,"readonly")?.objectStore(Se).getAll();z(s,"success",()=>{const a=s?.result||[];t(a)}),z(s,"error",()=>{n()})})}putNote(t){return new Promise((n,r)=>{const i=this.db?.transaction(Se,"readwrite")?.objectStore(Se)?.put({...t});z(i,"success",()=>{n()}),z(i,"error",()=>{r()})})}deleteNote(t){return new Promise((n,r)=>{const i=this.db?.transaction(Se,"readwrite")?.objectStore(Se)?.delete(t);z(i,"success",()=>{n()}),z(i,"error",()=>{r()})})}clearNotes(){new Promise((t,n)=>{const a=this.db?.transaction(Se,"readwrite")?.objectStore(Se)?.clear();z(a,"success",()=>{t()}),z(a,"error",()=>{n()})})}clearAllLocalData(){return Promise.all([new Promise((t,n)=>{const a=this.db?.transaction(dt,"readwrite")?.objectStore(dt)?.clear();z(a,"success",()=>{t()}),z(a,"error",()=>{n()})}),new Promise((t,n)=>{const a=this.db?.transaction(Se,"readwrite")?.objectStore(Se)?.clear();z(a,"success",()=>{t()}),z(a,"error",()=>{n()})}),new Promise((t,n)=>{const a=this.db?.transaction(ft,"readwrite")?.objectStore(ft)?.clear();z(a,"success",()=>{t()}),z(a,"error",()=>{n()})}),new Promise((t,n)=>{const a=this.db?.transaction(ze,"readwrite")?.objectStore(ze)?.clear();z(a,"success",()=>{t()}),z(a,"error",()=>{n()})})])}async importNotes(t){const n=(await this.getAllNotes()).reduce((i,l)=>(i[l.id]=l,i),{}),r={},a=this.db?.transaction(Se,"readwrite")?.objectStore(Se);t.forEach(i=>{n[i.id]?n[i.id].updatedAt<i.updatedAt&&(r[i.id]=i):r[i.id]=i}),await Promise.all(Object.values(r).map(i=>{const l=a?.put(i);return new Promise((c,u)=>{z(l,"success",()=>{c()}),z(l,"error",()=>{u()})})}))}async genNotes(t){const r=this.db?.transaction(Se,"readwrite")?.objectStore(Se);await Promise.all(Array.from({length:1e5},(s,a)=>{const i=[];for(let u=0;u<Math.random()*4;u++){const d=(Math.random()*100).toFixed();i.includes(d)||i.push(d)}const l={...t,url:`${t.url}${a}`,id:qs(),createdAt:Date.now(),updatedAt:Date.now(),title:i.join("#"),tags:i},c=r?.put(l);return new Promise((u,d)=>{z(c,"success",()=>{a%1e4===0&&console.log(`note ${a} done`),u()}),z(c,"error",()=>{console.log(`note ${a} error`),d()})})}))}putSyncLogRecord(t){return new Promise((n,r)=>{const i=this.db?.transaction(ze,"readwrite")?.objectStore(ze)?.put({...t});z(i,"success",()=>{n()}),z(i,"error",()=>{r()})})}getSyncLog(){new Promise((t,n)=>{const s=this.db?.transaction(ze,"readonly")?.objectStore(ze).getAll();z(s,"success",()=>{const a=s?.result||[];t(a)}),z(s,"error",()=>{n()})})}deleteSyncLogRecord(t){new Promise((n,r)=>{const a=this.db?.transaction(ze,"readwrite")?.objectStore(ze);Promise.all(t.map(i=>new Promise((l,c)=>{const u=a?.delete(i);z(u,"success",()=>{l()}),z(u,"error",()=>{c()})}))).then(()=>{n()}).catch(()=>{r()})})}clearSyncLog(){new Promise((t,n)=>{const a=this.db?.transaction(ze,"readwrite")?.objectStore(ze)?.clear();z(a,"success",()=>{t()}),z(a,"error",()=>{n()})})}}async function aa(){if(navigator.storage&&navigator.storage.persist)try{await navigator.storage.persisted()||await navigator.storage.persist()}catch{console.error("")}}const se=new $l,Vs=crypto.randomUUID(),Hs=new BroadcastChannel("app"),at=(e,t)=>{Hs.postMessage(JSON.stringify({tabId:Vs,type:e,data:t}))};Hs.addEventListener("message",async e=>{if(e.data&&typeof e.data=="string"){const t=JSON.parse(e.data);if(t.tabId&&t.tabId===Vs)return;if(t.type==="addNote"){const n=t.data;Rs(n)}else if(t.type==="updateNote"){const n=t.data;ql(n)}else if(t.type==="deleteNote"){const n=t.data;js(n)}else if(t.type==="clearAppState")Bs();else if(t.type==="reloadNotes"){const n=await se.getAllNotes();await On(n)}else if(t.type==="initLocalAccount")Qe(null),Nr(),lt("/");else if(t.type==="initAccount"){const n=await se.getAccount();n&&(Qe(n),Nr(),lt("/"))}else if(t.type==="updateSettings"){const n=await se.getSettings();n&&ta(n)}else if(t.type==="disconnectCloudAccount")Qe(null);else if(t.type==="exit")Fs();else if(t.type==="updateAccount"){const n=await se.getAccount();n&&Qe(n)}}});se.init().then(async()=>{Ul();const e=await se.getSettings();ta(e);const t=await se.getAccount();if(t===void 0)ct(D.Start);else{Sl(D.Start)&&(Nr(),lt("/")),t?(Qe(t),await aa()):Qe(null);const n=await se.getAllNotes();await On(n)}}).catch(()=>{console.error("failed to init db")});const wu=async e=>{const t={...e,id:qs(),createdAt:Date.now(),updatedAt:Date.now()};Rs(t),at("addNote",t),await se.putNote({...t})},ec=async e=>{ta({showFavicon:e}),await se.putSettings({showFavicon:e}),at("updateSettings")},tc=async e=>{at("deleteNote",e),js(e),await se.deleteNote(e)},yu=async()=>{at("clearAppState"),Bs(),await se.clearAllLocalData()},bu=async e=>{await se.importNotes(e),at("reloadNotes");const t=await se.getAllNotes();await On(t)},nc=async()=>{await se.clearAllLocalData(),await aa(),await se.putAccount(null),Qe(null),await On([]),at("initLocalAccount")},Su=async()=>{Qe(null),await se.putAccount(null);try{await fetch("/api/dropSession",{method:"POST"})}catch{console.error("Failed to disconnect cloud account")}at("disconnectCloudAccount")},ku=async e=>{await se.clearAllLocalData(),await aa();const{encryptedClientKey:t}=await Zl({clientKey:e.clientKey,serverKey:e.serverKey}),n={encryptedClientKey:pt(t),subscriptionExpires:e.subscriptionExpires||-1,lastSync:-1};await se.putAccount(n),Qe(n);const r=await se.getAllNotes();await On(r),at("initAccount")},Eu=async e=>{const t=Is();if(!t)return;const n={...t,subscriptionExpires:e};await se.putAccount(n),Qe(n),at("updateAccount")},Pu=async()=>{Fs(),await se.clearAllLocalData(),at("exit")},rc=(e,t,n)=>{P(t,!0),P(n,!0)},ac=(e,t)=>{P(t,!0)};var sc=I('<div class="menu svelte-xxw0l"><div><button>Edit</button></div> <div><button>Delete</button></div></div>'),oc=I('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1);function ic(e,t){Y(t,!0);const n=(g,f=It)=>{var p=sc(),_=k(p),y=k(_);y.__click=[ac,s];var w=T(_,2),m=k(w);m.__click=[rc,a,s],oe(()=>{ee(y,1,$(["button",{buttonMenuDialog:f()}]),"svelte-xxw0l"),ee(m,1,$(["button",{buttonMenuDialog:f()}]),"svelte-xxw0l")}),b(g,p)};let r=le(t,"shownMenu",15),s=N(!1),a=N(!1),i=L(Ln),l=L(()=>new URLSearchParams(x.search).get("selectedTags")?.split(",")||[]);const c=()=>{const g=zs();t.note.tags.forEach(f=>{if(o(l).includes(f)&&g[f].connections===1){const p=new URLSearchParams(x.search),_=o(l).filter(y=>y!==f);_.length===0?p.delete("selectedTags"):p.set("selectedTags",_.join(",")),Zr(`${x.pathname}${p.size>0?`?${p.toString()}`:""}`)}}),tc(t.note.id)},u=()=>{o(a)&&c(),r(!1),P(s,!1)};var d=H(),v=M(d);{var h=g=>{var f=H(),p=M(f);{var _=w=>{xs(w,{get startClose(){return o(s)},onClosed:u,children:(m,S)=>{n(m,()=>!0)},$$slots:{default:!0}})},y=w=>{var m=oc(),S=M(m);ve(S,()=>({"--bottom":"-180%","--right":"30px"})),Ts(S.lastChild,{get startClose(){return o(s)},get positionTop(){return t.showMenuUp},onClosed:u,children:(C,E)=>{n(C,()=>!1)},$$slots:{default:!0}}),b(w,m)};U(p,w=>{o(i)?w(_):w(y,!1)})}b(g,f)};U(v,g=>{r()&&g(h)})}b(e,d),G()}Oe(["click"]);const lc=(e,t,n)=>{t.showMenuUp||P(n,!0)},cc=(e,t)=>{navigator.clipboard.writeText(t.note.url),qi("Link copied to clipboard")},uc=(e,t)=>{P(t,!0)},dc=(e,t)=>{P(t,!1)};var fc=I('<div class="iconPlaceholder svelte-1khtf0k"></div>'),vc=I('<img loading="lazy" class="noteIcon" height="16" width="16" alt=""/>'),hc=I('<li class="note svelte-1khtf0k"><div class="noteIconWrapper svelte-1khtf0k"><!></div> <a class="noteLink svelte-1khtf0k" target="_blank" rel="noopener noreferrer"> </a> <div class="spacer svelte-1khtf0k"></div> <div><button class="button svelte-1khtf0k"><!> <!></button> <button><!> <!></button> <!></div></li>');function gc(e,t){Y(t,!0);let n=N(!1),r=N(!1),s=N(!1),a=L(Ms);const i=E=>{try{return`https://${new URL(E).host}/favicon.ico`}catch{return""}};var l=hc();l.__focusin=[uc,n],l.__focusout=[dc,n];var c=k(l),u=k(c);{var d=E=>{var A=fc();b(E,A)},v=E=>{var A=vc();oe(F=>ye(A,"src",F),[()=>i(t.note.url)]),Wr("error",A,()=>{P(s,!0)}),b(E,A)};U(u,E=>{o(s)||!o(a)?E(d):E(v,!1)})}var h=T(c,2),g=k(h),f=T(h,4),p=k(f);p.__click=[cc,t];var _=k(p);ce(_,{name:"copy"});var y=T(_,2);yt(y,{children:(E,A)=>{var F=Le("copy link");b(E,F)}});var w=T(p,2);w.__click=[lc,t,r],ee(w,1,$(["button","buttonMenu"]),"svelte-1khtf0k");var m=k(w);ce(m,{name:"menu"});var S=T(m,2);yt(S,{children:(E,A)=>{var F=Le("show menu");b(E,F)}});var C=T(w,2);ic(C,{get note(){return t.note},get showMenuUp(){return t.showMenuUp},get shownMenu(){return o(r)},set shownMenu(E){P(r,E,!0)}}),oe(()=>{ye(h,"tabindex",t.focusHidden?-1:0),ye(h,"href",t.note.url),lr(g,t.note.title),ee(f,1,$(["noteMenuWrapper",{noteMenuWrapperActive:o(n)}]),"svelte-1khtf0k"),ye(p,"tabindex",t.focusHidden?-1:0),ye(w,"tabindex",t.focusHidden?-1:0)}),b(e,l),G()}Oe(["focusin","focusout","click"]);var pc=I('<div><!> <div class="loader svelte-1wuuvr"></div></div>');function Ks(e,t){Y(t,!0);let n=N(!1);me(()=>{const a=setTimeout(()=>{P(n,!0)},200);return()=>{clearTimeout(a)}});var r=pc(),s=k(r);nt(s,()=>t.children??It),oe(()=>ee(r,1,$(["block",{shown:o(n)}]),"svelte-1wuuvr")),b(e,r),G()}var _c=I("<a><!></a>"),mc=I('<button type="button"><!></button>');function bt(e,t){let n=le(t,"type",3,"standard"),r=le(t,"element",3,"button"),s=le(t,"href",3,""),a=le(t,"fullWidth",3,!1);var i=H(),l=M(i);{var c=d=>{var v=_c();v.__click=function(...g){t.onClick?.apply(this,g)};var h=k(v);nt(h,()=>t.children??It),oe(()=>{ye(v,"href",s()),ee(v,1,$(["button","a",{dangerous:n()==="dangerous",secondary:n()==="secondary",fullWidth:a()}]),"svelte-na2c6y")}),b(d,v)},u=d=>{var v=mc();v.__click=function(...g){t.onClick?.apply(this,g)};var h=k(v);nt(h,()=>t.children??It),oe(()=>ee(v,1,$(["button",{dangerous:n()==="dangerous",secondary:n()==="secondary",fullWidth:a()}]),"svelte-na2c6y")),b(d,v)};U(l,d=>{r()==="a"?d(c):d(u,!1)})}b(e,i)}Oe(["click"]);var wc=I('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Add note</span>',1),yc=I('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span style="padding-left: 6px;">Import data</span>',1),bc=I('<div class="emptyStore svelte-8jt4vq"><p class="message">No notes found</p> <div class="wrapperButtonsAdd svelte-8jt4vq"><!></div> <div>or</div> <div class="wrapperButtonsAdd svelte-8jt4vq"><!></div></div>'),Sc=I('<div class="emptyMessage svelte-8jt4vq">No notes found</div>'),kc=I('<div class="feed svelte-8jt4vq"><ul class="svelte-8jt4vq"></ul></div>'),Ec=I('<div class="wrapperFeed svelte-8jt4vq"><div class="wrapperContainer svelte-8jt4vq"><!></div></div>');function Pc(e,t){Y(t,!0);let n=50,r=N(0),s=N(0),a=N(0),i=L(bs),l=N(0),c=[],u=N(0),d=L(()=>Qr.ref),v=null,h=null;const g=L(rl);Ce(()=>{o(i),o(g),o(_),o(d)?.scrollTo(0,0)});const f=()=>{Ls(),v||(v=requestAnimationFrame(()=>{const V=o(d)?.scrollTop||0;P(a,V,!0);const J=Math.ceil(o(r)/n);P(s,Math.floor(V/(n*J))*(n*J)),v=null}))},p=()=>{h||(h=requestAnimationFrame(()=>{P(r,window.innerHeight-180||0,!0);const V=o(d)?.scrollTop||0;P(a,V,!0);const J=Math.ceil(o(r)/n);P(s,Math.floor(V/(n*J))*(n*J)),h=null}))};me(()=>{p(),f()}),Ce(()=>(o(d)?.addEventListener("scroll",f),window.addEventListener("resize",p),()=>{o(d)?.removeEventListener("scroll",f),window.removeEventListener("resize",p)}));const _=L(ws);let y=N(""),w=L(zl);Ce(()=>{o(_);const V=o(w)()||[];Bt(()=>o(y))!==o(_)&&(Bt(()=>P(y,o(_),!0)),V.sort((B,O)=>{if(!B||!O)return 0;switch(o(_)){case"newest":return B.createdAt>O.createdAt?-1:1;case"oldest":return B.createdAt<O.createdAt?-1:1;case"AtoZ":return O.title.localeCompare(B.title);case"ZtoA":return B.title.localeCompare(O.title);default:return 0}}));const de=[],j={};for(let B=V.length-1;B>=0;B--){const O=V[B];if(O&&!(o(g).length&&o(g).some(Q=>!O.tags.includes(Q)))&&!(o(i)&&!(O.title.toLowerCase().includes(o(i).toLowerCase())||O.url.toLowerCase().includes(o(i).toLowerCase())||O.description.toLowerCase().includes(o(i).toLowerCase())))){if(O.tags)for(const Q of O.tags)j[Q]?j[Q].connections++:j[Q]={name:Q,connections:1};de.push(O)}}Vl(j),P(l,de.length,!0),c=de,P(u,Date.now(),!0)});const m=L(()=>o(l)*n);let C=L(()=>{o(u);const V=Math.ceil(o(r)/n);let J=Math.floor(o(s)/n);return J=J-Math.min(J,V),c.slice(J,J+V*3)}),E=L(()=>n*Math.ceil(o(r)/n));const A=L(()=>o(s)-Math.min(o(s),o(E)));var F=Ec(),re=k(F),te=k(re);{var ie=V=>{Ks(V,{})},q=V=>{var J=H(),de=M(J);{var j=O=>{var Q=bc(),Ae=T(k(Q),2),je=k(Ae);{let he=L(()=>Ot(D.NewBookmark)),Be=L(()=>Mt(D.NewBookmark));bt(je,{element:"a",get href(){return o(he)},get onClick(){return o(Be)},children:(Me,Fe)=>{var _e=wc(),Z=M(_e);ve(Z,()=>({"--size":"24px","--color":"#b0b0b0"})),ce(Z.lastChild,{name:"plus"}),b(Me,_e)},$$slots:{default:!0}})}var ae=T(Ae,4),we=k(ae);{let he=L(()=>Ot(D.ImportData)),Be=L(()=>Mt(D.ImportData));bt(we,{element:"a",get href(){return o(he)},get onClick(){return o(Be)},children:(Me,Fe)=>{var _e=yc(),Z=M(_e);ve(Z,()=>({"--size":"18px","--color":"#b0b0b0"})),ce(Z.lastChild,{name:"import"}),b(Me,_e)},$$slots:{default:!0}})}b(O,Q)},B=O=>{var Q=H(),Ae=M(Q);{var je=we=>{var he=Sc();b(we,he)},ae=we=>{var he=kc(),Be=k(he);tn(Be,23,()=>o(C),Me=>Me.id,(Me,Fe,_e)=>{{let Z=L(()=>o(_e)*n<o(a)-o(A)-n/2||o(_e)*n>o(a)-o(A)+Math.floor(o(r)/n)*n),be=L(()=>(o(_e)+3)*n<o(a)-o(A)-n/2||(o(_e)+3)*n>o(a)-o(A)+Math.floor(o(r)/n)*n);gc(Me,{get focusHidden(){return o(Z)},get showMenuUp(){return o(be)},get note(){return o(Fe)}})}}),oe(Me=>{Jn(he,`min-height: ${Me??""}px`),Jn(Be,`transform: translateY(${o(A)??""}px);`)},[()=>Math.max((o(m)>o(r),o(m)),0)]),b(we,he)};U(Ae,we=>{o(C).length===0?we(je):we(ae,!1)},!0)}b(O,Q)};U(de,O=>{(o(w)()||[]).length===0?O(j):O(B,!1)},!0)}b(V,J)};U(te,V=>{cr()?V(q,!1):V(ie)})}b(e,F),G()}var Cc=I('<!> <div class="content svelte-cu0ar8"><!></div>',1);function Ws(e){var t=Cc(),n=M(t);Xl(n,{});var r=T(n,2),s=k(r);Pc(s,{}),b(e,t)}const Ac=Object.freeze(Object.defineProperty({__proto__:null,default:Ws},Symbol.toStringTag,{value:"Module"}));var xc=I('<div class="wrapper svelte-1syxvud"><fieldset class="switcher svelte-1syxvud"><legend class="vh svelte-1syxvud">Color Scheme</legend> <input id="light" type="radio" aria-label="Light"/> <label for="light" title="Light" aria-label="Light"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <input id="system" type="radio" aria-label="System"/> <label for="system" title="System" aria-label="System"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <input id="dark" type="radio" aria-label="Dark"/> <label for="dark" title="Dark" aria-label="Dark"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <div class="wrapSwitcherStatus svelte-1syxvud"><div class="switcherStatus svelte-1syxvud"></div></div></fieldset></div>');function Tc(e,t){Y(t,!0);const n={Light:"light",System:"system",Dark:"dark"};let r=N(fe(localStorage.getItem("colorScheme")||n.System));const s=w=>{localStorage.setItem("colorScheme",w),w===n.System?window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.dataset.colorScheme=n.Dark:document.documentElement.dataset.colorScheme=n.Light:document.documentElement.dataset.colorScheme=w,P(r,w,!0)},a=w=>{const m=w.target.value;s(m)},i="color-scheme-switcher";var l=xc(),c=k(l),u=T(k(c),2);ee(u,1,$(["vh","input"]),"svelte-1syxvud"),ye(u,"name",i),u.__change=a;var d=T(u,2);ee(d,1,$(["switcherButton","light"]),"svelte-1syxvud");var v=k(d);ve(v,()=>({"--size":"20px"})),ce(v.lastChild,{name:"sun"});var h=T(d,2);ee(h,1,$(["vh","input"]),"svelte-1syxvud"),ye(h,"name",i),h.__change=a;var g=T(h,2);ee(g,1,$(["switcherButton","system"]),"svelte-1syxvud");var f=k(g);ve(f,()=>({"--size":"14px"})),ce(f.lastChild,{name:"a"});var p=T(g,2);ee(p,1,$(["vh","input"]),"svelte-1syxvud"),ye(p,"name",i),p.__change=a;var _=T(p,2);ee(_,1,$(["switcherButton","dark"]),"svelte-1syxvud");var y=k(_);return ve(y,()=>({"--size":"20px"})),ce(y.lastChild,{name:"moon"}),oe(()=>{pr(u,n.Light),Wn(u,o(r)===n.Light),pr(h,n.System),Wn(h,o(r)===n.System),pr(p,n.Dark),Wn(p,o(r)===n.Dark)}),b(e,l),G({setColorScheme:s,handleChange:a})}Oe(["change"]);const Nc=(e,t)=>{t.onChange(!t.checked)};var Dc=I('<label class="switch svelte-15kl8eb"><input class="vh svelte-15kl8eb" type="checkbox"/> <span class="slider svelte-15kl8eb"></span></label>');function Lc(e,t){Y(t,!0);var n=Dc(),r=k(n);r.__change=[Nc,t],oe(()=>Wn(r,t.checked)),b(e,n),G()}Oe(["change"]);const Oc=()=>{ct(D.ImportData)},Mc=()=>{ct(D.ExportData)},Ic=()=>{ct(D.ClearStore)},Rc=()=>{ct(D.Account)};var jc=I("<span> </span>"),Bc=I('<div class="svelte-1kuxgbs"><!> <ul class="svelte-1kuxgbs"><li class="svelte-1kuxgbs"><button class="button svelte-1kuxgbs"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1kuxgbs">Import data</span></button></li> <li class="svelte-1kuxgbs"><button class="button svelte-1kuxgbs"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1kuxgbs">Export data</span></button></li> <li class="svelte-1kuxgbs"><button class="button svelte-1kuxgbs"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1kuxgbs">Clear storage</span></button></li> <li class="svelte-1kuxgbs"><button class="button svelte-1kuxgbs"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1kuxgbs">Account</span></button></li></ul> <div class="favicons svelte-1kuxgbs"><span class="faviconsLabel svelte-1kuxgbs">show favicons</span> <!></div> <div class="version svelte-1kuxgbs"><!></div></div>');function Ys(e,t){Y(t,!0);let n=N("");const r=async te=>{try{const q=await(await fetch("/build-metadata.json",{signal:te})).json();P(n,`${q.buildHash}`)}catch{console.error("Failed to load build metadata")}};me(()=>{const te=new AbortController;return r(te.signal),()=>{te.abort()}});let s=L(Ms);const a=te=>{ec(te)};me(()=>{console.log("Page Settings mounted")});var i=Bc(),l=k(i);Tc(l,{});var c=T(l,2),u=k(c),d=k(u);d.__click=[Oc];var v=k(d);ve(v,()=>({"--size":"20px"})),ce(v.lastChild,{name:"import"});var h=T(u,2),g=k(h);g.__click=[Mc];var f=k(g);ve(f,()=>({"--size":"20px"})),ce(f.lastChild,{name:"export"});var p=T(h,2),_=k(p);_.__click=[Ic];var y=k(_);ve(y,()=>({"--size":"20px"})),ce(y.lastChild,{name:"trash"});var w=T(p,2),m=k(w);m.__click=[Rc];var S=k(m);ve(S,()=>({"--size":"20px"})),ce(S.lastChild,{name:"account"});var C=T(c,2),E=T(k(C),2);Lc(E,{get checked(){return o(s)},onChange:a});var A=T(C,2),F=k(A);{var re=te=>{var ie=jc(),q=k(ie);oe(V=>lr(q,`version: 0.0.1 build_date: "${V??""}" build_hash:
				${o(n)??""}`),[()=>new Date(1756428814443).toISOString().replaceAll("T"," ").replace(/\..*/,"")]),b(te,ie)};U(F,te=>{o(n)&&te(re)})}b(e,i),G()}Oe(["click"]);const Fc=Object.freeze(Object.defineProperty({__proto__:null,default:Ys},Symbol.toStringTag,{value:"Module"}));var Uc=I('<div class="content svelte-9hh95f"><p class="message svelte-9hh95f">use app</p> <div class="buttonContainer svelte-9hh95f"><div class="buttonContainerItem svelte-9hh95f"><!></div> <div class="buttonContainerItem svelte-9hh95f"><!></div></div></div>');function Gs(e,t){Y(t,!0);let n=N("idle");const r=()=>{P(n,"loading"),ct(D.Auth)},s=async()=>{P(n,"loading"),await nc(),wn(!1),ks()};Ce(()=>{wn(o(n)==="idle"||o(n)==="loading")}),me(()=>(wn(!0),()=>{wn(!1)}));var a=Uc(),i=T(k(a),2),l=k(i),c=k(l);bt(c,{onClick:r,fullWidth:!0,children:(v,h)=>{var g=Le("cloud account");b(v,g)},$$slots:{default:!0}});var u=T(l,2),d=k(u);bt(d,{onClick:s,fullWidth:!0,type:"secondary",children:(v,h)=>{var g=Le("local account");b(v,g)},$$slots:{default:!0}}),b(e,a),G()}const zc=Object.freeze(Object.defineProperty({__proto__:null,default:Gs},Symbol.toStringTag,{value:"Module"}));var qc=I('<div class="content svelte-9hh95f"><p class="message svelte-9hh95f">sign in / sign up</p> <div class="buttonContainer svelte-9hh95f"><div class="buttonContainerItem svelte-9hh95f"><!></div> <div class="buttonContainerItem svelte-9hh95f"><!></div></div></div>');function Xs(e,t){Y(t,!0);let n=L(Is);const r=async()=>{ct(D.Signin)},s=async()=>{ct(D.Signup)};me(()=>(console.log("Auth onMount"),o(n)===void 0&&(wn(!0),Aa(!0)),()=>{Aa(!1)}));var a=qc(),i=T(k(a),2),l=k(i),c=k(l);bt(c,{onClick:r,fullWidth:!0,children:(v,h)=>{var g=Le("sign in");b(v,g)},$$slots:{default:!0}});var u=T(l,2),d=k(u);bt(d,{onClick:s,fullWidth:!0,children:(v,h)=>{var g=Le("sign up");b(v,g)},$$slots:{default:!0}}),b(e,a),G()}const Vc=Object.freeze(Object.defineProperty({__proto__:null,default:Xs},Symbol.toStringTag,{value:"Module"}));let Zs=N(200);const Hc=e=>{P(Zs,e,!0)},Kc=()=>o(Zs);var Wc=I('<div class="svelte-m08fup"><!></div>');function ke(e,t){Y(t,!0);let n=N(null);me(()=>{o(n)&&(o(n).getBoundingClientRect(),o(n).style.opacity="1");const a=new ResizeObserver(i=>{for(let l of i){const c=l.contentRect.height;Hc(c)}});if(o(n))return a.observe(o(n)),()=>{o(n)&&a.unobserve(o(n)),a.disconnect()}});var r=Wc(),s=k(r);nt(s,()=>t.children),it(r,a=>P(n,a),()=>o(n)),b(e,r),G()}var Yc=I('<div class="svelte-ndasxn"><p class="svelte-ndasxn">Page not found</p> <!></div>');function Js(e,t){Y(t,!1);const n=a=>{a.preventDefault(),lt("/")};Dn();var r=Yc(),s=T(k(r),2);bt(s,{element:"a",href:"/",onClick:n,children:(a,i)=>{var l=Le("close");b(a,l)},$$slots:{default:!0}}),b(e,r),G()}const Gc=Object.freeze(Object.defineProperty({__proto__:null,default:Js},Symbol.toStringTag,{value:"Module"}));var Xc=I('<div class="svelte-1tpcci8"><p class="svelte-1tpcci8">Something went wrong. Please reload the page</p> <!></div>');function Zc(e){var t=Xc(),n=T(k(t),2);bt(n,{onClick:()=>location.reload(),children:(r,s)=>{var a=Le("Reload");b(r,a)},$$slots:{default:!0}}),b(e,t)}var Jc=I('<div class="svelte-uzefkz"><!></div>');function Qc(e,t){Y(t,!1);const n=Kc();Dn();var r=Jc(),s=k(r);Ks(s,{}),oe(()=>Jn(r,`min-height: ${n??""}px;`)),b(e,r),G()}function qe(e,t){Y(t,!0);const n={},r=Object.assign({"./Pages/AccessKeys.svelte":()=>ge(()=>import("./AccessKeys-Cqk0FA72.js"),__vite__mapDeps([4,5,6])),"./Pages/Account.svelte":()=>ge(()=>import("./Account-BacB74AK.js"),__vite__mapDeps([7,8])),"./Pages/Auth.svelte":()=>ge(()=>Promise.resolve().then(()=>Vc),void 0),"./Pages/ClearStore.svelte":()=>ge(()=>import("./ClearStore-BQlTMKXX.js"),__vite__mapDeps([9,10])),"./Pages/ConfirmAccessKey.svelte":()=>ge(()=>import("./ConfirmAccessKey-CKlgkEA7.js"),__vite__mapDeps([11,5,12,13,14])),"./Pages/Exit.svelte":()=>ge(()=>import("./Exit-CfGAlSH6.js"),__vite__mapDeps([15,16])),"./Pages/ExportData.svelte":()=>ge(()=>import("./ExportData-BmWueyMj.js"),__vite__mapDeps([17,18])),"./Pages/Home.svelte":()=>ge(()=>Promise.resolve().then(()=>Ac),void 0),"./Pages/ImportData.svelte":()=>ge(()=>import("./ImportData-BakB7SGw.js"),__vite__mapDeps([19,20])),"./Pages/NewNote.svelte":()=>ge(()=>import("./NewNote-CCvdAEDB.js"),__vite__mapDeps([21,12,13,22])),"./Pages/NotFound.svelte":()=>ge(()=>Promise.resolve().then(()=>Gc),void 0),"./Pages/Settings.svelte":()=>ge(()=>Promise.resolve().then(()=>Fc),void 0),"./Pages/Signin.svelte":()=>ge(()=>import("./Signin-DZ5F18bH.js"),__vite__mapDeps([23,5,24])),"./Pages/Signup.svelte":()=>ge(()=>import("./Signup-CmrJ6nbn.js"),__vite__mapDeps([25,5,24])),"./Pages/Start.svelte":()=>ge(()=>Promise.resolve().then(()=>zc),void 0),"./Pages/Subscription.svelte":()=>ge(()=>import("./Subscription-CRXOsvhP.js"),__vite__mapDeps([26,27])),"./Pages/Sync.svelte":()=>ge(()=>import("./Sync-RuRyYEWi.js"),__vite__mapDeps([28,29]))}),s=async l=>{const c=`./Pages/${l[0].toUpperCase()+l.slice(1)}.svelte`;if(!n[l]){if(r[c]){const u=r[c]();return n[l]={promise:u},n[l].module=await u,n[l].module}throw new Error(`Page ${l} not found`)}return n[l].module||await n[l].promise};var a=H(),i=M(a);Yr(i,()=>s(t.page),l=>{Qc(l,{})},(l,c)=>{const u=L(()=>o(c).default);var d=H(),v=M(d);Gr(v,()=>o(u),(h,g)=>{g(h,{get hidden(){return t.hidden}})}),b(l,d)},l=>{Zc(l)}),b(e,a),G()}const Ta=(e,t=It,n)=>{let r=rr(()=>yo(n?.(),!1));var s=H(),a=M(s);{var i=c=>{ke(c,{children:(u,d)=>{Ys(u,{})},$$slots:{default:!0}})},l=c=>{var u=H(),d=M(u);{var v=g=>{ke(g,{children:(f,p)=>{qe(f,{get hidden(){return o(r)},get page(){return D.NewBookmark}})},$$slots:{default:!0}})},h=g=>{var f=H(),p=M(f);{var _=w=>{ke(w,{children:(m,S)=>{qe(m,{get hidden(){return o(r)},get page(){return D.ImportData}})},$$slots:{default:!0}})},y=w=>{var m=H(),S=M(m);{var C=A=>{ke(A,{children:(F,re)=>{qe(F,{get hidden(){return o(r)},get page(){return D.ExportData}})},$$slots:{default:!0}})},E=A=>{var F=H(),re=M(F);{var te=q=>{ke(q,{children:(V,J)=>{qe(V,{get hidden(){return o(r)},get page(){return D.ClearStore}})},$$slots:{default:!0}})},ie=q=>{var V=H(),J=M(V);{var de=B=>{ke(B,{children:(O,Q)=>{Gs(O,{})},$$slots:{default:!0}})},j=B=>{var O=H(),Q=M(O);{var Ae=ae=>{ke(ae,{children:(we,he)=>{Xs(we,{})},$$slots:{default:!0}})},je=ae=>{var we=H(),he=M(we);{var Be=Fe=>{ke(Fe,{children:(_e,Z)=>{qe(_e,{get hidden(){return o(r)},get page(){return D.Signup}})},$$slots:{default:!0}})},Me=Fe=>{var _e=H(),Z=M(_e);{var be=Ye=>{ke(Ye,{children:(Ht,Kt)=>{qe(Ht,{get hidden(){return o(r)},get page(){return D.Signin}})},$$slots:{default:!0}})},xe=Ye=>{var Ht=H(),Kt=M(Ht);{var Qs=Wt=>{ke(Wt,{children:(Mn,sa)=>{qe(Mn,{get hidden(){return o(r)},get page(){return D.AccessKeys}})},$$slots:{default:!0}})},$s=Wt=>{var Mn=H(),sa=M(Mn);{var eo=Yt=>{ke(Yt,{children:(In,oa)=>{qe(In,{get hidden(){return o(r)},get page(){return D.Account}})},$$slots:{default:!0}})},to=Yt=>{var In=H(),oa=M(In);{var no=Gt=>{ke(Gt,{children:(Rn,ia)=>{qe(Rn,{get hidden(){return o(r)},get page(){return D.ConfirmAccessKey}})},$$slots:{default:!0}})},ro=Gt=>{var Rn=H(),ia=M(Rn);{var ao=Xt=>{ke(Xt,{children:(jn,la)=>{qe(jn,{get hidden(){return o(r)},get page(){return D.Exit}})},$$slots:{default:!0}})},so=Xt=>{var jn=H(),la=M(jn);{var oo=Zt=>{ke(Zt,{children:(Bn,ca)=>{qe(Bn,{get hidden(){return o(r)},get page(){return D.Sync}})},$$slots:{default:!0}})},io=Zt=>{var Bn=H(),ca=M(Bn);{var lo=Jt=>{ke(Jt,{children:(ur,uo)=>{qe(ur,{get hidden(){return o(r)},get page(){return D.Subscription}})},$$slots:{default:!0}})},co=Jt=>{ke(Jt,{children:(ur,uo)=>{Js(ur,{})},$$slots:{default:!0}})};U(ca,Jt=>{t()===D.Subscription?Jt(lo):Jt(co,!1)},!0)}b(Zt,Bn)};U(la,Zt=>{t()===D.Sync?Zt(oo):Zt(io,!1)},!0)}b(Xt,jn)};U(ia,Xt=>{t()===D.Exit?Xt(ao):Xt(so,!1)},!0)}b(Gt,Rn)};U(oa,Gt=>{t()===D.ConfirmAccessKey?Gt(no):Gt(ro,!1)},!0)}b(Yt,In)};U(sa,Yt=>{t()===D.Account?Yt(eo):Yt(to,!1)},!0)}b(Wt,Mn)};U(Kt,Wt=>{t()===D.AccessKeys?Wt(Qs):Wt($s,!1)},!0)}b(Ye,Ht)};U(Z,Ye=>{t()===D.Signin?Ye(be):Ye(xe,!1)},!0)}b(Fe,_e)};U(he,Fe=>{t()===D.Signup?Fe(Be):Fe(Me,!1)},!0)}b(ae,we)};U(Q,ae=>{t()===D.Auth?ae(Ae):ae(je,!1)},!0)}b(B,O)};U(J,B=>{t()===D.Start?B(de):B(j,!1)},!0)}b(q,V)};U(re,q=>{t()===D.ClearStore?q(te):q(ie,!1)},!0)}b(A,F)};U(S,A=>{t()===D.ExportData?A(C):A(E,!1)},!0)}b(w,m)};U(p,w=>{t()===D.ImportData?w(_):w(y,!1)},!0)}b(g,f)};U(d,g=>{t()===D.NewBookmark?g(v):g(h,!1)},!0)}b(c,u)};U(a,c=>{t()==="settings"?c(i):c(l,!1)})}b(e,s)};var $c=I("<!> <!>",1);function eu(e,t){Y(t,!0);let n=L(kl),r=L(cr);var s=$c(),a=M(s);{var i=d=>{Ws(d)};U(a,d=>{o(r)&&d(i)})}var l=T(a,2);{var c=d=>{var v=H(),h=M(v);tn(h,19,()=>o(n),g=>g.page,(g,f,p)=>{{let _=L(()=>o(p)!==o(n).length-1&&!!o(n)[o(p)+1]?.shown),y=L(()=>o(p)===0);xa(g,{get shown(){return o(f).shown},get hidden(){return o(_)},get isLastDialog(){return o(y)},children:(w,m)=>{{let S=L(()=>o(p)!==o(n).length-1&&!!o(n)[o(p)+1]?.shown);Ta(w,()=>o(f).page,()=>o(S))}},$$slots:{default:!0}})}}),b(d,v)},u=d=>{var v=H(),h=M(v);{var g=f=>{{let p=L(()=>o(n).length===1);xa(f,{onBack:()=>Ns(),get shown(){return o(n)[o(n).length-1].shown},hidden:!1,get isLastDialog(){return o(p)},children:(_,y)=>{Ta(_,()=>o(n)[o(n).length-1].page)},$$slots:{default:!0}})}};U(h,f=>{o(n).length>0&&f(g)},!0)}b(d,v)};U(l,d=>{Ln()?d(c):d(u,!1)})}b(e,s),G()}function tu(){const e=navigator.userAgent;return/iPad|iPhone|iPod/.test(e)?!!(/Safari/.test(e)&&!/Chrome/.test(e)&&!/CriOS/.test(e)&&!/FxiOS/.test(e)):!1}function nu(e,t){Y(t,!1);const n=tu();me(()=>{wr(),document.addEventListener("focusin",wr),document.addEventListener("focusout",wr),document.addEventListener("touchmove",function(r){Ds()&&n&&r.preventDefault()},{passive:!1})}),Dn(),G()}function ru(e,t){Y(t,!1);let n=0;me(()=>{document.addEventListener("touchstart",r=>{n=r.touches[0].clientX},{passive:!1}),document.addEventListener("touchmove",r=>{const a=r.touches[0].clientX-n;(n<50&&a>0||n>window.innerWidth-50&&a<0)&&r.preventDefault()},{passive:!1}),document.addEventListener("touchend",()=>{n=0}),document.addEventListener("touchcancel",()=>{n=0})}),Dn(),G()}const au=(e,t)=>{o(t)&&o(t).scrollTo({top:0,behavior:"smooth"})};var su=I('<div class="wrapperButtonTop svelte-aoeyw9"><button class="buttonTop svelte-aoeyw9"><!> <svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></button></div>'),ou=I('<!> <!> <!> <main><!> <div class="container svelte-aoeyw9"><!></div></main> <!>',1);function iu(e,t){Y(t,!0),me(async()=>{await new Promise(S=>setTimeout(S,100)),await wi(),Ne.working=!0});let n=N(!1),r=0,s=L(()=>kt().length>0),a=L(cr),i=N(null);Ce(()=>{Qr.ref=o(i)});const l=()=>{if(o(i)){const S=o(i).scrollTop||0;S===0?P(n,!1):!o(n)&&r>S?P(n,!0):o(n)&&r<S&&P(n,!1),r=S}},c=()=>{l()};Ce(()=>(o(i)?.addEventListener("scroll",c),window.addEventListener("resize",c),()=>{o(i)?.removeEventListener("scroll",c),window.removeEventListener("resize",c)}));var u=ou(),d=M(u);ru(d,{});var v=T(d,2);nu(v,{});var h=T(v,2);Ki(h,{});var g=T(h,2),f=k(g);{var p=S=>{Pl(S,{})};U(f,S=>{o(a)&&S(p)})}var _=T(f,2),y=k(_);eu(y,{}),it(g,S=>P(i,S),()=>o(i));var w=T(g,2);{var m=S=>{var C=su(),E=k(C);E.__click=[au,i];var A=k(E);yt(A,{children:(re,te)=>{var ie=Le("top");b(re,ie)}});var F=T(A,2);ve(F,()=>({"--size":"22px"})),ce(F.lastChild,{name:"up"}),b(S,C)};U(w,S=>{o(n)&&S(m)})}oe(()=>{Jn(g,`--swiping-ratio: ${Ne.swipingRatio}; --transition-timing-default: ${Ne.duration}s;`),ee(g,1,$(["main",{isAnimationOn:Ne.working&&!Ne.isSwiping,open:o(s)}]),"svelte-aoeyw9")}),b(e,u),G()}Oe(["click"]);window.addEventListener("unhandledrejection",e=>{alert("Error: "+e.reason.message)});window.isUnsupportedBrowser||Ai(iu,{target:document.getElementById("app")});export{zl as $,Is as A,bt as B,Su as C,ct as D,du as E,yu as F,ks as G,Wr as H,ce as I,mu as J,gu as K,Ks as L,pu as M,Ns as N,sl as O,D as P,Dn as Q,Pu as R,uu as S,le as T,ee as U,yt as V,$ as W,ye as X,pr as Y,Wn as Z,Jn as _,fe as a,hu as a0,qs as a1,Ln as a2,it as a3,bu as a4,Bi as a5,wu as a6,Aa as a7,ku as a8,x as a9,fu as aa,vu as ab,Eu as ac,Ne as ad,nt as ae,cl as af,Kc as ag,Ds as ah,kl as ai,ps as aj,Gi as ak,Dl as al,wn as b,P as c,k as d,b as e,I as f,o as g,G as h,U as i,H as j,M as k,Oe as l,T as m,tn as n,me as o,Y as p,ve as q,lr as r,N as s,oe as t,Ce as u,Le as v,_u as w,L as x,Mt as y,Ot as z};
