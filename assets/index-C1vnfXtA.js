const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/DesktopDialog-CNgIAjWC.js","assets/DesktopDialog-C5Rl2lrH.css","assets/ImportData-vHlRvad7.js","assets/ImportData-CZGzVRRc.css","assets/ExportData-CkEfgTlU.js","assets/ExportData-B0_csHdq.css","assets/ClearStore-BgTwls-K.js","assets/ClearStore-DiVqV26R.css","assets/Signup-CyNeK-sI.js","assets/api-7nXQQ8YG.js","assets/Signup-CnX7iJxK.css","assets/Signin-DXH5bIvN.js","assets/AccessKeys-CXZJdeqA.js","assets/AccessKeys-Cl3W4SWP.css","assets/ConfirmAccessKey-BsLff0l2.js","assets/ConfirmAccessKey-BEOXyioc.css"])))=>i.map(i=>d[i]);
var yo=Object.defineProperty;var La=e=>{throw TypeError(e)};var bo=(e,t,n)=>t in e?yo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ir=(e,t,n)=>bo(e,typeof t!="symbol"?t+"":t,n),Ar=(e,t,n)=>t.has(e)||La("Cannot "+n);var re=(e,t,n)=>(Ar(e,t,"read from private field"),n?n.call(e):t.get(e)),Ie=(e,t,n)=>t.has(e)?La("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),qe=(e,t,n,r)=>(Ar(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Rn=(e,t,n)=>(Ar(e,t,"access private method"),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();const Ja=!1;var ea=Array.isArray,So=Array.prototype.indexOf,ta=Array.from,Ur=Object.defineProperty,hn=Object.getOwnPropertyDescriptor,Za=Object.getOwnPropertyDescriptors,ko=Object.prototype,Eo=Array.prototype,na=Object.getPrototypeOf,xa=Object.isExtensible;const yn=()=>{};function To(e){return typeof e?.then=="function"}function Co(e){return e()}function fr(e){for(var t=0;t<e.length;t++)e[t]()}function Po(){var e,t,n=new Promise((r,s)=>{e=r,t=s});return{promise:n,resolve:e,reject:t}}const Be=2,ra=4,mr=8,Xn=16,_t=32,An=64,Qa=128,We=256,vr=512,Se=1024,Ne=2048,Gt=4096,et=8192,Jt=16384,aa=32768,Gn=65536,Na=1<<17,Do=1<<18,sa=1<<19,oa=1<<20,jr=1<<21,ia=1<<22,Ut=1<<23,jt=Symbol("$state"),Ao=Symbol("legacy props"),Lo=Symbol(""),la=new class extends Error{constructor(){super(...arguments);ir(this,"name","StaleReactionError");ir(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function xo(){throw new Error("https://svelte.dev/e/await_outside_boundary")}function No(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Oo(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Mo(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Io(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Ro(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Bo(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Fo(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function Ho(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Uo(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function jo(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}const wr=1,yr=2,$a=4,zo=8,Vo=16,qo=1,Ko=2,Wo=4,Yo=8,Xo=16,Go=1,Jo=2,pe=Symbol(),Zo="http://www.w3.org/1999/xhtml";let Qo=!1;function es(e){return e===this.v}function $o(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function ts(e){return!$o(e,this.v)}let Ln=!1,ei=!1;function ti(){Ln=!0}let fe=null;function bn(e){fe=e}function W(e,t=!1,n){fe={p:fe,c:null,e:null,s:e,x:null,l:Ln&&!t?{s:null,u:null,$:[]}:null}}function Y(e){var t=fe,n=t.e;if(n!==null){t.e=null;for(var r of n)gs(r)}return e!==void 0&&(t.x=e),fe=t.p,e??{}}function Zt(){return!Ln||fe!==null&&fe.l===null}const ni=new WeakMap;function ri(e){var t=Q;if(t===null)return X.f|=Ut,e;if((t.f&aa)===0){if((t.f&Qa)===0)throw!t.parent&&e instanceof Error&&ns(e),e;t.b.error(e)}else ca(e,t)}function ca(e,t){for(;t!==null;){if((t.f&Qa)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e instanceof Error&&ns(e),e}function ns(e){const t=ni.get(e);t&&(Ur(e,"message",{value:t.message}),Ur(e,"stack",{value:t.stack}))}let Un=[],zr=[];function rs(){var e=Un;Un=[],fr(e)}function ai(){var e=zr;zr=[],fr(e)}function br(e){Un.length===0&&queueMicrotask(rs),Un.push(e)}function si(){Un.length>0&&rs(),zr.length>0&&ai()}function oi(){for(var e=Q.b;e!==null&&!e.has_pending_snippet();)e=e.parent;return e===null&&xo(),e}function Jn(e){var t=Be|Ne,n=X!==null&&(X.f&Be)!==0?X:null;return Q===null||n!==null&&(n.f&We)!==0?t|=We:Q.f|=sa,{ctx:fe,deps:null,effects:null,equals:es,f:t,fn:e,reactions:null,rv:0,v:pe,wv:0,parent:n??Q,ac:null}}function ii(e,t){let n=Q;n===null&&Oo();var r=n.b,s=void 0,a=Wt(pe),i=null,l=!X;return wi(()=>{try{var c=e()}catch(h){c=Promise.reject(h)}var u=()=>c;s=i?.then(u,u)??Promise.resolve(c),i=s;var d=ve,f=r.pending;l&&(r.update_pending_count(1),f||d.increment());const v=(h,p=void 0)=>{i=null,f||d.activate(),p?p!==la&&(a.f|=Ut,xt(a,p)):((a.f&Ut)!==0&&(a.f^=Ut),xt(a,h)),l&&(r.update_pending_count(-1),f||d.decrement()),os()};if(s.then(v,h=>v(null,h||"unknown")),d)return()=>{queueMicrotask(()=>d.neuter())}}),new Promise(c=>{function u(d){function f(){d===s?c(a):u(s)}d.then(f,f)}u(s)})}function B(e){const t=Jn(e);return Ss(t),t}function ua(e){const t=Jn(e);return t.equals=ts,t}function as(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)lt(t[n])}}function li(e){for(var t=e.parent;t!==null;){if((t.f&Be)===0)return t;t=t.parent}return null}function da(e){var t,n=Q;ct(li(e));try{as(e),t=Ts(e)}finally{ct(n)}return t}function ss(e){var t=da(e);if(e.equals(t)||(e.v=t,e.wv=ks()),!$t)if(Sn!==null)Sn.set(e,e.v);else{var n=(Pt||(e.f&We)!==0)&&e.deps!==null?Gt:Se;ke(e,n)}}function ci(e,t,n){const r=Zt()?Jn:ua;if(t.length===0){n(e.map(r));return}var s=ve,a=Q,i=ui(),l=oi();Promise.all(t.map(c=>ii(c))).then(c=>{s?.activate(),i();try{n([...e.map(r),...c])}catch(u){(a.f&Jt)===0&&ca(u,a)}s?.deactivate(),os()}).catch(c=>{l.error(c)})}function ui(){var e=Q,t=X,n=fe;return function(){ct(e),Ye(t),bn(n)}}function os(){ct(null),Ye(null),bn(null)}const lr=new Set;let ve=null,Sn=null,Oa=new Set,hr=[];function is(){const e=hr.shift();hr.length>0&&queueMicrotask(is),e()}let vn=[],Sr=null,Vr=!1;var Kn,_n,mn,Tt,Wn,Yn,Ft,wn,Ct,ht,Ht,gt,ls,cs,qr;const _r=class _r{constructor(){Ie(this,gt);Ie(this,Kn,new Map);Ie(this,_n,new Map);Ie(this,mn,new Set);Ie(this,Tt,0);Ie(this,Wn,null);Ie(this,Yn,!1);Ie(this,Ft,[]);Ie(this,wn,[]);Ie(this,Ct,[]);Ie(this,ht,[]);Ie(this,Ht,[]);ir(this,"skipped_effects",new Set)}capture(t,n){re(this,_n).has(t)||re(this,_n).set(t,n),re(this,Kn).set(t,t.v)}activate(){ve=this}deactivate(){ve=null;for(const t of Oa)if(Oa.delete(t),t(),ve!==null)break}neuter(){qe(this,Yn,!0)}flush(){vn.length>0?this.flush_effects():Rn(this,gt,qr).call(this),ve===this&&(re(this,Tt)===0&&lr.delete(this),this.deactivate())}flush_effects(){var t=gn;Vr=!0;try{var n=0;for(Ra(!0);vn.length>0;){if(n++>1e3){var r,s;di()}Rn(this,gt,ls).call(this,vn),zt.clear()}}finally{Vr=!1,Ra(t),Sr=null}}increment(){qe(this,Tt,re(this,Tt)+1)}decrement(){if(qe(this,Tt,re(this,Tt)-1),re(this,Tt)===0){for(const t of re(this,Ct))ke(t,Ne),Lt(t);for(const t of re(this,ht))ke(t,Ne),Lt(t);for(const t of re(this,Ht))ke(t,Ne),Lt(t);qe(this,Ct,[]),qe(this,ht,[]),this.flush()}else this.deactivate()}add_callback(t){re(this,mn).add(t)}settled(){return(re(this,Wn)??qe(this,Wn,Po())).promise}static ensure(t=!0){if(ve===null){const n=ve=new _r;lr.add(ve),t&&_r.enqueue(()=>{ve===n&&n.flush()})}return ve}static enqueue(t){hr.length===0&&queueMicrotask(is),hr.unshift(t)}};Kn=new WeakMap,_n=new WeakMap,mn=new WeakMap,Tt=new WeakMap,Wn=new WeakMap,Yn=new WeakMap,Ft=new WeakMap,wn=new WeakMap,Ct=new WeakMap,ht=new WeakMap,Ht=new WeakMap,gt=new WeakSet,ls=function(t){vn=[];var n=null;if(lr.size>1){n=new Map,Sn=new Map;for(const[a,i]of re(this,Kn))n.set(a,{v:a.v,wv:a.wv}),a.v=i;for(const a of lr)if(a!==this)for(const[i,l]of re(a,_n))n.has(i)||(n.set(i,{v:i.v,wv:i.wv}),i.v=l)}for(const a of t)Rn(this,gt,cs).call(this,a);if(re(this,Ft).length===0&&re(this,Tt)===0){var r=re(this,Ct),s=re(this,ht);qe(this,Ct,[]),qe(this,ht,[]),qe(this,Ht,[]),Rn(this,gt,qr).call(this),Ma(r),Ma(s),re(this,Wn)?.resolve()}else{for(const a of re(this,Ct))ke(a,Se);for(const a of re(this,ht))ke(a,Se);for(const a of re(this,Ht))ke(a,Se)}if(n){for(const[a,{v:i,wv:l}]of n)a.wv<=l&&(a.v=i);Sn=null}for(const a of re(this,Ft))Hn(a);for(const a of re(this,wn))Hn(a);qe(this,Ft,[]),qe(this,wn,[])},cs=function(t){t.f^=Se;for(var n=t.first;n!==null;){var r=n.f,s=(r&(_t|An))!==0,a=s&&(r&Se)!==0,i=a||(r&et)!==0||this.skipped_effects.has(n);if(!i&&n.fn!==null){if(s)n.f^=Se;else if((r&ra)!==0)re(this,ht).push(n);else if(Er(n))if((r&ia)!==0){var l=n.b?.pending?re(this,wn):re(this,Ft);l.push(n)}else(n.f&Xn)!==0&&re(this,Ht).push(n),Hn(n);var c=n.first;if(c!==null){n=c;continue}}var u=n.parent;for(n=n.next;n===null&&u!==null;)n=u.next,u=u.parent}},qr=function(){if(!re(this,Yn))for(const t of re(this,mn))t();re(this,mn).clear()};let jn=_r;function us(e){var t;const n=jn.ensure(!1);for(;;){if(si(),vn.length===0)return n===ve&&n.flush(),Sr=null,t;n.flush_effects()}}function di(){try{Bo()}catch(e){ca(e,Sr)}}function Ma(e){var t=e.length;if(t!==0){for(var n=0;n<t;n++){var r=e[n];if((r.f&(Jt|et))===0&&Er(r)){var s=pr;if(Hn(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?ws(r):r.fn=null),pr>s&&(r.f&oa)!==0)break}}for(;n<t;n+=1)Lt(e[n])}}function Lt(e){for(var t=Sr=e;t.parent!==null;){t=t.parent;var n=t.f;if(Vr&&t===Q&&(n&Xn)!==0)return;if((n&(An|_t))!==0){if((n&Se)===0)return;t.f^=Se}}vn.push(t)}const zt=new Map;function Wt(e,t){var n={f:0,v:e,reactions:null,equals:es,rv:0,wv:0};return n}function M(e,t){const n=Wt(e);return Ss(n),n}function Kr(e,t=!1,n=!0){var s;const r=Wt(e);return t||(r.equals=ts),Ln&&n&&fe!==null&&fe.l!==null&&((s=fe.l).s??(s.s=[])).push(r),r}function T(e,t,n=!1){X!==null&&(!st||(X.f&Na)!==0)&&Zt()&&(X.f&(Be|Xn|ia|Na))!==0&&!pt?.includes(e)&&jo();let r=n?de(t):t;return xt(e,r)}function xt(e,t){if(!e.equals(t)){var n=e.v;$t?zt.set(e,t):zt.set(e,n),e.v=t,jn.ensure().capture(e,n),(e.f&Be)!==0&&((e.f&Ne)!==0&&da(e),ke(e,(e.f&We)===0?Se:Gt)),e.wv=ks(),ds(e,Ne),Zt()&&Q!==null&&(Q.f&Se)!==0&&(Q.f&(_t|An))===0&&(Ke===null?Si([e]):Ke.push(e))}return t}function Lr(e){T(e,e.v+1)}function ds(e,t){var n=e.reactions;if(n!==null)for(var r=Zt(),s=n.length,a=0;a<s;a++){var i=n[a],l=i.f;!r&&i===Q||((l&Ne)===0&&ke(i,t),(l&Be)!==0?ds(i,Gt):(l&Ne)===0&&Lt(i))}}function de(e){if(typeof e!="object"||e===null||jt in e)return e;const t=na(e);if(t!==ko&&t!==Eo)return e;var n=new Map,r=ea(e),s=M(0),a=qt,i=l=>{if(qt===a)return l();var c=X,u=qt;Ye(null),Fa(a);var d=l();return Ye(c),Fa(u),d};return r&&n.set("length",M(e.length)),new Proxy(e,{defineProperty(l,c,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&Ho();var d=n.get(c);return d===void 0?d=i(()=>{var f=M(u.value);return n.set(c,f),f}):T(d,u.value,!0),!0},deleteProperty(l,c){var u=n.get(c);if(u===void 0){if(c in l){const d=i(()=>M(pe));n.set(c,d),Lr(s)}}else T(u,pe),Lr(s);return!0},get(l,c,u){if(c===jt)return e;var d=n.get(c),f=c in l;if(d===void 0&&(!f||hn(l,c)?.writable)&&(d=i(()=>{var h=de(f?l[c]:pe),p=M(h);return p}),n.set(c,d)),d!==void 0){var v=o(d);return v===pe?void 0:v}return Reflect.get(l,c,u)},getOwnPropertyDescriptor(l,c){var u=Reflect.getOwnPropertyDescriptor(l,c);if(u&&"value"in u){var d=n.get(c);d&&(u.value=o(d))}else if(u===void 0){var f=n.get(c),v=f?.v;if(f!==void 0&&v!==pe)return{enumerable:!0,configurable:!0,value:v,writable:!0}}return u},has(l,c){if(c===jt)return!0;var u=n.get(c),d=u!==void 0&&u.v!==pe||Reflect.has(l,c);if(u!==void 0||Q!==null&&(!d||hn(l,c)?.writable)){u===void 0&&(u=i(()=>{var v=d?de(l[c]):pe,h=M(v);return h}),n.set(c,u));var f=o(u);if(f===pe)return!1}return d},set(l,c,u,d){var f=n.get(c),v=c in l;if(r&&c==="length")for(var h=u;h<f.v;h+=1){var p=n.get(h+"");p!==void 0?T(p,pe):h in l&&(p=i(()=>M(pe)),n.set(h+"",p))}if(f===void 0)(!v||hn(l,c)?.writable)&&(f=i(()=>M(void 0)),T(f,de(u)),n.set(c,f));else{v=f.v!==pe;var g=i(()=>de(u));T(f,g)}var _=Reflect.getOwnPropertyDescriptor(l,c);if(_?.set&&_.set.call(d,u),!v){if(r&&typeof c=="string"){var w=n.get("length"),E=Number(c);Number.isInteger(E)&&E>=w.v&&T(w,E+1)}Lr(s)}return!0},ownKeys(l){o(s);var c=Reflect.ownKeys(l).filter(f=>{var v=n.get(f);return v===void 0||v.v!==pe});for(var[u,d]of n)d.v!==pe&&!(u in l)&&c.push(u);return c},setPrototypeOf(){Uo()}})}var Ia,fs,vs,hs;function fi(){if(Ia===void 0){Ia=window,fs=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;vs=hn(t,"firstChild").get,hs=hn(t,"nextSibling").get,xa(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),xa(n)&&(n.__t=void 0)}}function Qt(e=""){return document.createTextNode(e)}function kn(e){return vs.call(e)}function kr(e){return hs.call(e)}function b(e,t){return kn(e)}function x(e,t){{var n=kn(e);return n instanceof Comment&&n.data===""?kr(n):n}}function A(e,t=1,n=!1){let r=e;for(;t--;)r=kr(r);return r}function vi(e){e.textContent=""}function fa(){return!1}function ps(e){Q===null&&X===null&&Ro(),X!==null&&(X.f&We)!==0&&Q===null&&Io(),$t&&Mo()}function hi(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function ut(e,t,n,r=!0){var s=Q;s!==null&&(s.f&et)!==0&&(e|=et);var a={ctx:fe,deps:null,nodes_start:null,nodes_end:null,f:e|Ne,first:null,fn:t,last:null,next:null,parent:s,b:s&&s.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{Hn(a),a.f|=aa}catch(c){throw lt(a),c}else t!==null&&Lt(a);var i=n&&a.deps===null&&a.first===null&&a.nodes_start===null&&a.teardown===null&&(a.f&sa)===0;if(!i&&r&&(s!==null&&hi(a,s),X!==null&&(X.f&Be)!==0)){var l=X;(l.effects??(l.effects=[])).push(a)}return a}function pi(e){const t=ut(mr,null,!1);return ke(t,Se),t.teardown=e,t}function xe(e){ps();var t=Q.f,n=!X&&(t&_t)!==0&&(t&aa)===0;if(n){var r=fe;(r.e??(r.e=[])).push(e)}else return gs(e)}function gs(e){return ut(ra|oa,e,!1)}function gi(e){return ps(),ut(mr|oa,e,!0)}function _i(e){jn.ensure();const t=ut(An,e,!0);return(n={})=>new Promise(r=>{n.outro?Vt(t,()=>{lt(t),r(void 0)}):(lt(t),r(void 0))})}function mi(e){return ut(ra,e,!1)}function wi(e){return ut(ia|sa,e,!0)}function va(e,t=0){return ut(mr|t,e,!0)}function ce(e,t=[],n=[]){ci(t,n,r=>{ut(mr,()=>e(...r.map(o)),!0)})}function Zn(e,t=0){var n=ut(Xn|t,e,!0);return n}function ot(e,t=!0){return ut(_t,e,!0,t)}function _s(e){var t=e.teardown;if(t!==null){const n=$t,r=X;Ba(!0),Ye(null);try{t.call(null)}finally{Ba(n),Ye(r)}}}function ms(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){n.ac?.abort(la);var r=n.next;(n.f&An)!==0?n.parent=null:lt(n,t),n=r}}function yi(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&_t)===0&&lt(t),t=n}}function lt(e,t=!0){var n=!1;(t||(e.f&Do)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(bi(e.nodes_start,e.nodes_end),n=!0),ms(e,t&&!n),gr(e,0),ke(e,Jt);var r=e.transitions;if(r!==null)for(const a of r)a.stop();_s(e);var s=e.parent;s!==null&&s.first!==null&&ws(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function bi(e,t){for(;e!==null;){var n=e===t?null:kr(e);e.remove(),e=n}}function ws(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function Vt(e,t){var n=[];ha(e,n,!0),ys(n,()=>{lt(e),t&&t()})}function ys(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var s of e)s.out(r)}else t()}function ha(e,t,n){if((e.f&et)===0){if(e.f^=et,e.transitions!==null)for(const i of e.transitions)(i.is_global||n)&&t.push(i);for(var r=e.first;r!==null;){var s=r.next,a=(r.f&Gn)!==0||(r.f&_t)!==0;ha(r,t,a?n:!1),r=s}}}function pn(e){bs(e,!0)}function bs(e,t){if((e.f&et)!==0){e.f^=et,(e.f&Se)===0&&(ke(e,Ne),Lt(e));for(var n=e.first;n!==null;){var r=n.next,s=(n.f&Gn)!==0||(n.f&_t)!==0;bs(n,s?t:!1),n=r}if(e.transitions!==null)for(const a of e.transitions)(a.is_global||t)&&a.in()}}let gn=!1;function Ra(e){gn=e}let $t=!1;function Ba(e){$t=e}let X=null,st=!1;function Ye(e){X=e}let Q=null;function ct(e){Q=e}let pt=null;function Ss(e){X!==null&&(pt===null?pt=[e]:pt.push(e))}let Le=null,Re=0,Ke=null;function Si(e){Ke=e}let pr=1,zn=0,qt=zn;function Fa(e){qt=e}let Pt=!1;function ks(){return++pr}function Er(e){var t=e.f;if((t&Ne)!==0)return!0;if((t&Gt)!==0){var n=e.deps,r=(t&We)!==0;if(n!==null){var s,a,i=(t&vr)!==0,l=r&&Q!==null&&!Pt,c=n.length;if((i||l)&&(Q===null||(Q.f&Jt)===0)){var u=e,d=u.parent;for(s=0;s<c;s++)a=n[s],(i||!a?.reactions?.includes(u))&&(a.reactions??(a.reactions=[])).push(u);i&&(u.f^=vr),l&&d!==null&&(d.f&We)===0&&(u.f^=We)}for(s=0;s<c;s++)if(a=n[s],Er(a)&&ss(a),a.wv>e.wv)return!0}(!r||Q!==null&&!Pt)&&ke(e,Se)}return!1}function Es(e,t,n=!0){var r=e.reactions;if(r!==null&&!pt?.includes(e))for(var s=0;s<r.length;s++){var a=r[s];(a.f&Be)!==0?Es(a,t,!1):t===a&&(n?ke(a,Ne):(a.f&Se)!==0&&ke(a,Gt),Lt(a))}}function Ts(e){var p;var t=Le,n=Re,r=Ke,s=X,a=Pt,i=pt,l=fe,c=st,u=qt,d=e.f;Le=null,Re=0,Ke=null,Pt=(d&We)!==0&&(st||!gn||X===null),X=(d&(_t|An))===0?e:null,pt=null,bn(e.ctx),st=!1,qt=++zn,e.ac!==null&&(e.ac.abort(la),e.ac=null);try{e.f|=jr;var f=(0,e.fn)(),v=e.deps;if(Le!==null){var h;if(gr(e,Re),v!==null&&Re>0)for(v.length=Re+Le.length,h=0;h<Le.length;h++)v[Re+h]=Le[h];else e.deps=v=Le;if(!Pt||(d&Be)!==0&&e.reactions!==null)for(h=Re;h<v.length;h++)((p=v[h]).reactions??(p.reactions=[])).push(e)}else v!==null&&Re<v.length&&(gr(e,Re),v.length=Re);if(Zt()&&Ke!==null&&!st&&v!==null&&(e.f&(Be|Gt|Ne))===0)for(h=0;h<Ke.length;h++)Es(Ke[h],e);return s!==null&&s!==e&&(zn++,Ke!==null&&(r===null?r=Ke:r.push(...Ke))),(e.f&Ut)!==0&&(e.f^=Ut),f}catch(g){return ri(g)}finally{e.f^=jr,Le=t,Re=n,Ke=r,X=s,Pt=a,pt=i,bn(l),st=c,qt=u}}function ki(e,t){let n=t.reactions;if(n!==null){var r=So.call(n,e);if(r!==-1){var s=n.length-1;s===0?n=t.reactions=null:(n[r]=n[s],n.pop())}}n===null&&(t.f&Be)!==0&&(Le===null||!Le.includes(t))&&(ke(t,Gt),(t.f&(We|vr))===0&&(t.f^=vr),as(t),gr(t,0))}function gr(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)ki(e,n[r])}function Hn(e){var t=e.f;if((t&Jt)===0){ke(e,Se);var n=Q,r=gn;Q=e,gn=!0;try{(t&Xn)!==0?yi(e):ms(e),_s(e);var s=Ts(e);e.teardown=typeof s=="function"?s:null,e.wv=pr;var a;Ja&&ei&&(e.f&Ne)!==0&&e.deps}finally{gn=r,Q=n}}}async function Ei(){await Promise.resolve(),us()}function o(e){var t=e.f,n=(t&Be)!==0;if(X!==null&&!st){var r=Q!==null&&(Q.f&Jt)!==0;if(!r&&!pt?.includes(e)){var s=X.deps;if((X.f&jr)!==0)e.rv<zn&&(e.rv=zn,Le===null&&s!==null&&s[Re]===e?Re++:Le===null?Le=[e]:(!Pt||!Le.includes(e))&&Le.push(e));else{(X.deps??(X.deps=[])).push(e);var a=e.reactions;a===null?e.reactions=[X]:a.includes(X)||a.push(X)}}}else if(n&&e.deps===null&&e.effects===null){var i=e,l=i.parent;l!==null&&(l.f&We)===0&&(i.f^=We)}if($t){if(zt.has(e))return zt.get(e);if(n){i=e;var c=i.v;return((i.f&Se)===0&&i.reactions!==null||Cs(i))&&(c=da(i)),zt.set(i,c),c}}else if(n){if(i=e,Sn?.has(i))return Sn.get(i);Er(i)&&ss(i)}if((e.f&Ut)!==0)throw e.v;return e.v}function Cs(e){if(e.v===pe)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(zt.has(t)||(t.f&Be)!==0&&Cs(t))return!0;return!1}function Qn(e){var t=st;try{return st=!0,e()}finally{st=t}}const Ti=-7169;function ke(e,t){e.f=e.f&Ti|t}function Ci(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(jt in e)Wr(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&jt in n&&Wr(n)}}}function Wr(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{Wr(e[r],t)}catch{}const n=na(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=Za(n);for(let s in r){const a=r[s].get;if(a)try{a.call(e)}catch{}}}}}const Pi=["touchstart","touchmove"];function Di(e){return Pi.includes(e)}let Ha=!1;function Ai(){Ha||(Ha=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function Ps(e){var t=X,n=Q;Ye(null),ct(null);try{return e()}finally{Ye(t),ct(n)}}function Li(e,t,n,r=n){e.addEventListener(t,()=>Ps(n));const s=e.__on_r;s?e.__on_r=()=>{s(),r(!0)}:e.__on_r=()=>r(!0),Ai()}const Ds=new Set,Yr=new Set;function xi(e,t,n,r={}){function s(a){if(r.capture||Bn.call(t,a),!a.cancelBubble)return Ps(()=>n?.call(this,a))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?br(()=>{t.addEventListener(e,s,r)}):t.addEventListener(e,s,r),s}function Vn(e,t,n,r,s){var a={capture:r,passive:s},i=xi(e,t,n,a);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&pi(()=>{t.removeEventListener(e,i,a)})}function Ue(e){for(var t=0;t<e.length;t++)Ds.add(e[t]);for(var n of Yr)n(e)}function Bn(e){var t=this,n=t.ownerDocument,r=e.type,s=e.composedPath?.()||[],a=s[0]||e.target,i=0,l=e.__root;if(l){var c=s.indexOf(l);if(c!==-1&&(t===document||t===window)){e.__root=t;return}var u=s.indexOf(t);if(u===-1)return;c<=u&&(i=c)}if(a=s[i]||e.target,a!==t){Ur(e,"currentTarget",{configurable:!0,get(){return a||n}});var d=X,f=Q;Ye(null),ct(null);try{for(var v,h=[];a!==null;){var p=a.assignedSlot||a.parentNode||a.host||null;try{var g=a["__"+r];if(g!=null&&(!a.disabled||e.target===a))if(ea(g)){var[_,...w]=g;_.apply(a,[e,...w])}else g.call(a,e)}catch(E){v?h.push(E):v=E}if(e.cancelBubble||p===t||p===null)break;a=p}if(v){for(let E of h)queueMicrotask(()=>{throw E});throw v}}finally{e.__root=t,delete e.currentTarget,Ye(d),ct(f)}}}function As(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function qn(e,t){var n=Q;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function H(e,t){var n=(t&Go)!==0,r=(t&Jo)!==0,s,a=!e.startsWith("<!>");return()=>{s===void 0&&(s=As(a?e:"<!>"+e),n||(s=kn(s)));var i=r||fs?document.importNode(s,!0):s.cloneNode(!0);if(n){var l=kn(i),c=i.lastChild;qn(l,c)}else qn(i,i);return i}}function Ni(e,t,n="svg"){var r=!e.startsWith("<!>"),s=`<${n}>${r?e:"<!>"+e}</${n}>`,a;return()=>{if(!a){var i=As(s),l=kn(i);a=kn(l)}var c=a.cloneNode(!0);return qn(c,c),c}}function Oi(e,t){return Ni(e,t,"svg")}function Xe(e=""){{var t=Qt(e+"");return qn(t,t),t}}function z(){var e=document.createDocumentFragment(),t=document.createComment(""),n=Qt();return e.append(t,n),qn(t,n),e}function y(e,t){e!==null&&e.before(t)}function mu(){var e;return(e=window.__svelte??(window.__svelte={})).uid??(e.uid=1),`c${window.__svelte.uid++}`}function xn(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function Mi(e,t){return Ii(e,t)}const dn=new Map;function Ii(e,{target:t,anchor:n,props:r={},events:s,context:a,intro:i=!0}){fi();var l=new Set,c=f=>{for(var v=0;v<f.length;v++){var h=f[v];if(!l.has(h)){l.add(h);var p=Di(h);t.addEventListener(h,Bn,{passive:p});var g=dn.get(h);g===void 0?(document.addEventListener(h,Bn,{passive:p}),dn.set(h,1)):dn.set(h,g+1)}}};c(ta(Ds)),Yr.add(c);var u=void 0,d=_i(()=>{var f=n??t.appendChild(Qt());return ot(()=>{if(a){W({});var v=fe;v.c=a}s&&(r.$$events=s),u=e(f,r)||{},a&&Y()}),()=>{for(var v of l){t.removeEventListener(v,Bn);var h=dn.get(v);--h===0?(document.removeEventListener(v,Bn),dn.delete(v)):dn.set(v,h)}Yr.delete(c),f!==n&&f.parentNode?.removeChild(f)}});return Ri.set(u,d),u}let Ri=new WeakMap;const xr=0,cr=1,Nr=2;function bt(e,t,n,r,s){var a=e,i=Zt(),l=fe,c=pe,u,d,f,v=i?Wt(void 0):Kr(void 0,!1,!1),h=i?Wt(void 0):Kr(void 0,!1,!1),p=!1;function g(w,E){p=!0,E&&(ct(_),Ye(_),bn(l));try{w===xr&&n&&(u?pn(u):u=ot(()=>n(a))),w===cr&&r&&(d?pn(d):d=ot(()=>r(a,v))),w===Nr&&s&&(f?pn(f):f=ot(()=>s(a,h))),w!==xr&&u&&Vt(u,()=>u=null),w!==cr&&d&&Vt(d,()=>d=null),w!==Nr&&f&&Vt(f,()=>f=null)}finally{E&&(bn(null),Ye(null),ct(null),us())}}var _=Zn(()=>{if(c!==(c=t())){if(To(c)){var w=c;p=!1,w.then(E=>{w===c&&(xt(v,E),g(cr,!0))},E=>{if(w===c&&(xt(h,E),g(Nr,!0),!s))throw h.v}),br(()=>{p||g(xr,!0)})}else xt(v,c),g(cr,!1);return()=>c=pe}})}function j(e,t,n=!1){var r=e,s=null,a=null,i=pe,l=n?Gn:0,c=!1;const u=(h,p=!0)=>{c=!0,v(p,h)};var d=null;function f(){d!==null&&(d.lastChild.remove(),r.before(d),d=null);var h=i?s:a,p=i?a:s;h&&pn(h),p&&Vt(p,()=>{i?a=null:s=null})}const v=(h,p)=>{if(i!==(i=h)){var g=fa(),_=r;if(g&&(d=document.createDocumentFragment(),d.append(_=Qt())),i?s??(s=p&&ot(()=>p(_))):a??(a=p&&ot(()=>p(_))),g){var w=ve,E=i?s:a,m=i?a:s;E&&w.skipped_effects.delete(E),m&&w.skipped_effects.add(m),w.add_callback(f)}else f()}};Zn(()=>{c=!1,t(u),c||v(null,null)},l)}function ye(e,t){va(()=>{var n=t();for(var r in n){var s=n[r];s?e.style.setProperty(r,s):e.style.removeProperty(r)}})}function Bi(e,t){return t}function Fi(e,t,n){for(var r=e.items,s=[],a=t.length,i=0;i<a;i++)ha(t[i].e,s,!0);var l=a>0&&s.length===0&&n!==null;if(l){var c=n.parentNode;vi(c),c.append(n),r.clear(),at(e,t[0].prev,t[a-1].next)}ys(s,()=>{for(var u=0;u<a;u++){var d=t[u];l||(r.delete(d.k),at(e,d.prev,d.next)),lt(d.e,!l)}})}function Dt(e,t,n,r,s,a=null){var i=e,l={flags:t,items:new Map,first:null},c=(t&$a)!==0;if(c){var u=e;i=u.appendChild(Qt())}var d=null,f=!1,v=new Map,h=ua(()=>{var w=n();return ea(w)?w:w==null?[]:ta(w)}),p,g;function _(){Hi(g,p,l,v,i,s,t,r,n),a!==null&&(p.length===0?d?pn(d):d=ot(()=>a(i)):d!==null&&Vt(d,()=>{d=null}))}Zn(()=>{g??(g=Q),p=o(h);var w=p.length;if(!(f&&w===0)){f=w===0;var E,m,k,C;if(fa()){var P=new Set,S=ve;for(m=0;m<w;m+=1){k=p[m],C=r(k,m);var I=l.items.get(C)??v.get(C);I?(t&(wr|yr))!==0&&Ls(I,k,m,t):(E=xs(null,l,null,null,k,C,m,s,t,n,!0),v.set(C,E)),P.add(C)}for(const[q,K]of l.items)P.has(q)||S.skipped_effects.add(K.e);S.add_callback(_)}else _();o(h)}})}function Hi(e,t,n,r,s,a,i,l,c){var u=(i&zo)!==0,d=(i&(wr|yr))!==0,f=t.length,v=n.items,h=n.first,p=h,g,_=null,w,E=[],m=[],k,C,P,S;if(u)for(S=0;S<f;S+=1)k=t[S],C=l(k,S),P=v.get(C),P!==void 0&&(P.a?.measure(),(w??(w=new Set)).add(P));for(S=0;S<f;S+=1){if(k=t[S],C=l(k,S),P=v.get(C),P===void 0){var I=r.get(C);if(I!==void 0){r.delete(C),v.set(C,I);var q=_?_.next:p;at(n,_,I),at(n,I,q),Or(I,q,s),_=I}else{var K=p?p.e.nodes_start:s;_=xs(K,n,_,_===null?n.first:_.next,k,C,S,a,i,c)}v.set(C,_),E=[],m=[],p=_.next;continue}if(d&&Ls(P,k,S,i),(P.e.f&et)!==0&&(pn(P.e),u&&(P.a?.unfix(),(w??(w=new Set)).delete(P))),P!==p){if(g!==void 0&&g.has(P)){if(E.length<m.length){var ue=m[0],$;_=ue.prev;var G=E[0],F=E[E.length-1];for($=0;$<E.length;$+=1)Or(E[$],ue,s);for($=0;$<m.length;$+=1)g.delete(m[$]);at(n,G.prev,F.next),at(n,_,G),at(n,F,ue),p=ue,_=F,S-=1,E=[],m=[]}else g.delete(P),Or(P,p,s),at(n,P.prev,P.next),at(n,P,_===null?n.first:_.next),at(n,_,P),_=P;continue}for(E=[],m=[];p!==null&&p.k!==C;)(p.e.f&et)===0&&(g??(g=new Set)).add(p),m.push(p),p=p.next;if(p===null)continue;P=p}E.push(P),_=P,p=P.next}if(p!==null||g!==void 0){for(var O=g===void 0?[]:ta(g);p!==null;)(p.e.f&et)===0&&O.push(p),p=p.next;var D=O.length;if(D>0){var R=(i&$a)!==0&&f===0?s:null;if(u){for(S=0;S<D;S+=1)O[S].a?.measure();for(S=0;S<D;S+=1)O[S].a?.fix()}Fi(n,O,R)}}u&&br(()=>{if(w!==void 0)for(P of w)P.a?.apply()}),e.first=n.first&&n.first.e,e.last=_&&_.e;for(var V of r.values())lt(V.e);r.clear()}function Ls(e,t,n,r){(r&wr)!==0&&xt(e.v,t),(r&yr)!==0?xt(e.i,n):e.i=n}function xs(e,t,n,r,s,a,i,l,c,u,d){var f=(c&wr)!==0,v=(c&Vo)===0,h=f?v?Kr(s,!1,!1):Wt(s):s,p=(c&yr)===0?i:Wt(i),g={i:p,v:h,k:a,a:null,e:null,prev:n,next:r};try{if(e===null){var _=document.createDocumentFragment();_.append(e=Qt())}return g.e=ot(()=>l(e,h,p,u),Qo),g.e.prev=n&&n.e,g.e.next=r&&r.e,n===null?d||(t.first=g):(n.next=g,n.e.next=g.e),r!==null&&(r.prev=g,r.e.prev=g.e),g}finally{}}function Or(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,s=t?t.e.nodes_start:n,a=e.e.nodes_start;a!==null&&a!==r;){var i=kr(a);s.before(a),a=i}}function at(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function tt(e,t,...n){var r=e,s=yn,a;Zn(()=>{s!==(s=t())&&(a&&(lt(a),a=null),a=ot(()=>s(r,...n)))},Gn)}function St(e,t,n){var r=e,s,a,i=null,l=null;function c(){a&&(Vt(a),a=null),i&&(i.lastChild.remove(),r.before(i),i=null),a=l,l=null}Zn(()=>{if(s!==(s=t())){var u=fa();if(s){var d=r;u&&(i=document.createDocumentFragment(),i.append(d=Qt())),l=ot(()=>n(d,s))}u?ve.add_callback(c):c()}},Gn)}function Ns(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=Ns(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Ui(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=Ns(e))&&(r&&(r+=" "),r+=t);return r}function se(e){return typeof e=="object"?Ui(e):e??""}const Ua=[...` 	
\r\f \v\uFEFF`];function ji(e,t,n){var r=e==null?"":""+e;if(t&&(r=r?r+" "+t:t),n){for(var s in n)if(n[s])r=r?r+" "+s:s;else if(r.length)for(var a=s.length,i=0;(i=r.indexOf(s,i))>=0;){var l=i+a;(i===0||Ua.includes(r[i-1]))&&(l===r.length||Ua.includes(r[l]))?r=(i===0?"":r.substring(0,i))+r.substring(l+1):i=l}}return r===""?null:r}function zi(e,t){return e==null?null:String(e)}function ae(e,t,n,r,s,a){var i=e.__className;if(i!==n||i===void 0){var l=ji(n,r,a);l==null?e.removeAttribute("class"):e.className=l,e.__className=n}else if(a&&s!==a)for(var c in a){var u=!!a[c];(s==null||u!==!!s[c])&&e.classList.toggle(c,u)}return a}function En(e,t,n,r){var s=e.__style;if(s!==t){var a=zi(t);a==null?e.removeAttribute("style"):e.style.cssText=a,e.__style=t}return r}const Vi=Symbol("is custom element"),qi=Symbol("is html");function Mr(e,t){var n=pa(e);n.value===(n.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function Ir(e,t){var n=pa(e);n.checked!==(n.checked=t??void 0)&&(e.checked=t)}function Te(e,t,n,r){var s=pa(e);s[t]!==(s[t]=n)&&(t==="loading"&&(e[Lo]=n),n==null?e.removeAttribute(t):typeof n!="string"&&Ki(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function pa(e){return e.__attributes??(e.__attributes={[Vi]:e.nodeName.includes("-"),[qi]:e.namespaceURI===Zo})}var ja=new Map;function Ki(e){var t=ja.get(e.nodeName);if(t)return t;ja.set(e.nodeName,t=[]);for(var n,r=e,s=Element.prototype;s!==r;){n=Za(r);for(var a in n)n[a].set&&t.push(a);r=na(r)}return t}function ga(e,t,n=t){var r=Zt(),s=new WeakSet;Li(e,"input",a=>{var i=a?e.defaultValue:e.value;if(i=Rr(e)?Br(i):i,n(i),ve!==null&&s.add(ve),r&&i!==(i=t())){var l=e.selectionStart,c=e.selectionEnd;e.value=i??"",c!==null&&(e.selectionStart=l,e.selectionEnd=Math.min(c,e.value.length))}}),Qn(t)==null&&e.value&&(n(Rr(e)?Br(e.value):e.value),ve!==null&&s.add(ve)),va(()=>{var a=t();e===document.activeElement&&s.has(ve)||Rr(e)&&a===Br(e.value)||e.type==="date"&&!a&&!e.value||a!==e.value&&(e.value=a??"")})}function Rr(e){var t=e.type;return t==="number"||t==="range"}function Br(e){return e===""?null:+e}function za(e,t){return e===t||e?.[jt]===t}function Fe(e={},t,n,r){return mi(()=>{var s,a;return va(()=>{s=a,a=[],Qn(()=>{e!==n(...a)&&(t(e,...a),s&&za(n(...s),e)&&t(null,...s))})}),()=>{br(()=>{a&&za(n(...a),e)&&t(null,...a)})}}),e}function $n(e=!1){const t=fe,n=t.l.u;if(!n)return;let r=()=>Ci(t.s);if(e){let s=0,a={};const i=Jn(()=>{let l=!1;const c=t.s;for(const u in c)c[u]!==a[u]&&(a[u]=c[u],l=!0);return l&&s++,s});r=()=>o(i)}n.b.length&&gi(()=>{Va(t,r),fr(n.b)}),xe(()=>{const s=Qn(()=>n.m.map(Co));return()=>{for(const a of s)typeof a=="function"&&a()}}),n.a.length&&xe(()=>{Va(t,r),fr(n.a)})}function Va(e,t){if(e.l.s)for(const n of e.l.s)o(n);t()}let ur=!1;function Wi(e){var t=ur;try{return ur=!1,[e(),ur]}finally{ur=t}}function oe(e,t,n,r){var s=!Ln||(n&Ko)!==0,a=(n&Yo)!==0,i=(n&Xo)!==0,l=r,c=!0,u=()=>(c&&(c=!1,l=i?Qn(r):r),l),d;if(a){var f=jt in e||Ao in e;d=hn(e,t)?.set??(f&&t in e?m=>e[t]=m:void 0)}var v,h=!1;a?[v,h]=Wi(()=>e[t]):v=e[t],v===void 0&&r!==void 0&&(v=u(),d&&(s&&Fo(),d(v)));var p;if(s?p=()=>{var m=e[t];return m===void 0?u():(c=!0,m)}:p=()=>{var m=e[t];return m!==void 0&&(l=void 0),m===void 0?l:m},s&&(n&Wo)===0)return p;if(d){var g=e.$$legacy;return function(m,k){return arguments.length>0?((!s||!k||g||h)&&d(k?p():m),m):p()}}var _=!1,w=((n&qo)!==0?Jn:ua)(()=>(_=!1,p()));a&&o(w);var E=Q;return function(m,k){if(arguments.length>0){const C=k?o(w):s&&a?de(m):m;return T(w,C),_=!0,l!==void 0&&(l=C),m}return $t&&_||(E.f&Jt)!==0?w.v:o(w)}}function be(e){fe===null&&No(),Ln&&fe.l!==null?Yi(fe).m.push(e):xe(()=>{const t=Qn(e);if(typeof t=="function")return t})}function Yi(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const Xi="5";var Ga;typeof window<"u"&&((Ga=window.__svelte??(window.__svelte={})).v??(Ga.v=new Set)).add(Xi);let Rt=M(""),fn=M(null);function Gi(e){T(Rt,""),setTimeout(()=>{T(Rt,e,!0)},16)}var Ji=H('<div class="notification svelte-1a2zucn"> </div>');function Zi(e,t){W(t,!0),xe(()=>{o(Rt),o(Rt)&&(o(fn)?.getBoundingClientRect(),o(fn)?.style.setProperty("opacity","1"));const a=setTimeout(()=>{o(fn)?.style.removeProperty("opacity")},800),i=setTimeout(()=>{T(Rt,""),o(fn)?.style.removeProperty("opacity")},1200);return()=>{clearTimeout(a),clearTimeout(i)}});var n=z(),r=x(n);{var s=a=>{var i=Ji(),l=b(i);Fe(i,c=>T(fn,c),()=>o(fn)),ce(()=>xn(l,o(Rt))),y(a,i)};j(r,a=>{o(Rt)&&a(s)})}y(e,n),Y()}ti();var Qi=H('<span class="vh svelte-14jjkpd"><!></span>');function Tn(e,t){var n=Qi(),r=b(n);tt(r,()=>t.children),y(e,n)}var $i=Oi('<svg class="svelte-gv09tg"><use></use></svg>');function ge(e,t){let n=oe(t,"name",8,"");var r=$i(),s=b(r);ce(()=>Te(s,"href",`#icon-${n()??""}`)),y(e,r)}const Os=(e,t)=>{if(!t)return e;if(t.type==="closed")return{type:"closed"};switch(e.type){case"opened":return t.type==="close"?{type:"closing"}:t.type==="swipe"?{type:"openSwiping"}:e;case"closed":return t.type==="open"?{type:"opening"}:t.type==="swipe"?{type:"closeSwiping"}:e;case"openSwiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"closeSwiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"opening":return t.type==="opened"?{type:"opened"}:e;default:return e}};let Xr=M(de(Os({type:"closed"})));const Et=e=>{T(Xr,Os(o(Xr),e),!0)},Ms=()=>o(Xr),el=()=>{Et({type:"open"})},tl=()=>{Et({type:"close"})},nl=()=>{const e=Ms().type;e==="closed"?el():e==="opened"&&tl()};var rl=H('<button class="buttonMenu svelte-hxzs42"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>');function Is(e,t){W(t,!1),$n();var n=rl();n.__click=[nl];var r=b(n);ye(r,()=>({"--size":"28px"})),ge(r.lastChild,{name:"sidebarMenu"});var s=A(r,2);Tn(s,{children:(a,i)=>{var l=Xe("Menu");y(a,l)}}),y(e,n),Y()}Ue(["click"]);const N=de({historyStack:[],pathname:window.location.pathname,search:window.location.search,historyLength:0});let Rs=M(de(new URLSearchParams(N.search).get("feedOrder")||"newest"));const Bs=()=>o(Rs),al=e=>{T(Rs,e,!0);const t=new URLSearchParams(N.search);e==="newest"?t.delete("feedOrder"):t.set("feedOrder",e),Yt(`${N.pathname}${t.size>0?`?${t.toString()}`:""}`)},Fs=()=>new URLSearchParams(N.search).get("selectedTags")?.split(",")||[];let dr=Fs();const sl=()=>{const e=Fs();return e.join(",")===dr.join(",")||(dr=e),dr},ol=()=>{N.pathname=document.location.pathname,N.search=document.location.search,N.historyLength=Math.max(0,N.historyLength-=1)};window.addEventListener("popstate",ol);const Yt=e=>{const[t,n]=e.split("?");N.pathname=t,N.search=n?`?${n}`:"",N.historyLength+=1,N.historyStack.push(window.location.href),window.history.replaceState(null,"",e)},il=e=>{const[t,n]=e.split("?");N.pathname=t,N.search=n?`?${n}`:"",window.history.replaceState(null,"",e)},Hs=(e="/")=>{const[t,n]=e.split("?");if(N.historyLength<=0){const r=window.location.href,[s,a]=r.split("?");if(!a.includes("stackPages"))window.history.replaceState(null,"",e),N.historyLength=0,N.pathname=t,N.search=n?`?${n}`:"";else{const i=new URLSearchParams(a),c=(i.get("stackPages")?.split(",")||[]).slice(0,-1);c.length===0?i.delete("stackPages"):i.set("stackPages",c.join(","));const u=`${s}${i.toString()?`?${i.toString()}`:""}`;window.history.replaceState(null,"",u),N.search=i.toString()?`?${i.toString()}`:""}}else if(N.historyStack.length>0){const r=N.historyStack.pop();if(r){const[s,a]=r.split("?");window.history.replaceState(null,"",r),N.historyLength=Math.max(0,N.historyLength-=1),N.pathname=s,N.search=a?`?${a}`:""}}},Us=()=>{const e=N.historyStack.findIndex(n=>n.includes("stackPages")),t=e===-1?N.historyStack.slice(0):N.historyStack.slice(0,e);if(t.length>0){const n=t.pop();if(n){const[r,s]=n.split("?");window.history.replaceState(null,"",n),N.historyLength=Math.max(0,t.length),N.pathname=r,N.search=s?`?${s}`:"",N.historyStack=t}}else window.history.replaceState(null,"","/"),N.historyLength=0,N.pathname="/",N.search="",N.historyStack=[]},nt=()=>new URLSearchParams(N.search).get("stackPages")?.split(",")||[];let Kt=M(de(nt()));const He=e=>{const t=nt();if(!t.includes(e)){t.push(e);const n=new URLSearchParams(N.search);n.set("stackPages",t.join(",")),T(Kt,t,!0),Yt(`${N.pathname}?${n.toString()}`)}},ll=e=>nt().includes(e),js=()=>{const e=o(Kt).slice(0,-1);T(Kt,e,!0)},zs=()=>{const e=nt();return e.length>=o(Kt).length?e.reduce((t,n)=>[...t,{page:n,shown:!0}],[]):o(Kt).reduce((t,n,r)=>[...t,{page:n,shown:e.length===0?!1:r!==o(Kt).length-1}],[])},Gr=()=>{T(Kt,[],!0)},cl=e=>{e.preventDefault(),He("settings")},ul=e=>{e.preventDefault(),He("newNote")};var dl=H('<div class="header svelte-ww662s"><div class="top svelte-ww662s"><div class="desktop svelte-ww662s"><a class="link svelte-ww662s"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Settings</span></a></div> <div class="mobile svelte-ww662s"><!></div> <a class="addNote svelte-ww662s"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Add</span></a></div></div>');function fl(e,t){W(t,!0);const n=()=>{const g=nt();g.includes("settings")||g.push("settings");const _=new URLSearchParams(N.search);return _.set("stackPages",g.join(",")),`${N.pathname}?${_}`};let s=B(()=>{const g=nt();g.includes("newNote")||g.push("newNote");const _=new URLSearchParams(N.search);return _.set("stackPages",g.join(",")),`${N.pathname}?${_}`}),a=B(n);var i=dl(),l=b(i),c=b(l),u=b(c);u.__click=[cl];var d=b(u);ye(d,()=>({"--size":"20px"})),ge(d.lastChild,{name:"settings"});var f=A(c,2),v=b(f);Is(v,{});var h=A(f,2);h.__click=[ul];var p=b(h);ye(p,()=>({"--size":"24px","--color":"#b0b0b0"})),ge(p.lastChild,{name:"plus"}),ce(()=>{Te(u,"href",o(a)),Te(h,"href",o(s))}),y(e,i),Y()}Ue(["click"]);const vl="modulepreload",hl=function(e){return"/"+e},qa={},kt=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){let c=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=i?.nonce||i?.getAttribute("nonce");s=c(n.map(u=>{if(u=hl(u),u in qa)return;qa[u]=!0;const d=u.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const v=document.createElement("link");if(v.rel=d?"stylesheet":vl,d||(v.as="script"),v.crossOrigin="",v.href=u,l&&v.setAttribute("nonce",l),document.head.appendChild(v),d)return new Promise((h,p)=>{v.addEventListener("load",h),v.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${u}`)))})}))}function a(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return s.then(i=>{for(const l of i||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})},pl=(e,t)=>{let n=null;return()=>{n&&clearTimeout(n),n=setTimeout(()=>{e()},t)}},Vs=()=>window.matchMedia("(max-width: 768px)").matches;let qs=M(de(Vs()));const gl=pl(()=>{T(qs,Vs(),!0)},16);window.addEventListener("resize",gl);const Nn=()=>o(qs),_a=de({count:0}),_l=()=>_a.count>0,Ks=()=>{_a.count+=1},Ws=()=>{_a.count-=1},Ce=de({working:!1,swipingRatio:1,isSwiping:!1,duration:.35});let Jr=!1;const Fr=()=>{document.activeElement instanceof HTMLInputElement&&document.activeElement.type==="text"||document.activeElement instanceof HTMLTextAreaElement?Jr=!0:Jr=!1},ma=()=>Jr;function ml(e,t){W(t,!0);let n=oe(t,"dialog",7),r=null;const s=()=>{t.dialogState==="swiping"&&t.onClose()};xe(()=>(t.dialogState==="swiping"&&(r=setTimeout(s,3e3)),()=>{r&&(clearTimeout(r),r=null)}));let a=null,i=null;const l=3,c=50,u=5,d=.6,f=.3,v=.35,h=.95;let p=0,g=0,_=0,w=!1,E=!1,m=0,k=0,C=0;const P=()=>{p=0,g=0,w=!1,E=!1,m=0,k=0,C=0,_=0,a=null,i!==null&&(cancelAnimationFrame(i),i=null),r&&(clearTimeout(r),r=null)},S=D=>{if(!n()){console.warn("Touch start: No dialog element");return}if(t.dialogState!=="opened"){console.warn(`Touch start: Invalid sidebar state: ${t.dialogState}`);return}p=D.touches[0].clientX,g=D.touches[0].clientY,_=performance.now(),w=!0,E=!1},I=D=>t.dialogState==="opened"&&D>0||t.dialogState==="swiping"&&D>0,q=D=>{if(n()){n().style.setProperty("--transition-timing","0s"),t.onSwipe(),navigator.vibrate&&navigator.vibrate(10);try{const R=window.getComputedStyle(n()),V=R.transform||R.webkitTransform||"";if(k=n().offsetWidth,(t.dialogState==="swiping"||t.dialogState==="opened")&&(m=0),V&&V!=="none")try{m=new DOMMatrix(V).m41}catch{console.warn("Could not parse transform matrix, using default position")}E=!0}catch(R){console.error("Error during swipe initialization:",R),P()}}},K=()=>{if(!n())return;const R=Math.abs(m+C*k/100)/k;n().style.setProperty("--backdrop-bg",`rgba(0, 0, 0, ${.1*(1-R)})`)},ue=()=>{if(i=null,!a||!w||!n()||ma()){P();return}const D=a.touches[0].clientX,R=a.touches[0].clientY,V=D-p,le=R-g,L=Math.abs(V)>Math.abs(le),ee=Math.abs(V)>l;if(!E)if(L&&ee&&I(V))try{q(V)}catch(en){console.error("Error initializing swipe:",en),P();return}else return;if(!I(V))return;n().style.setProperty("--transition-timing","0s");let J=m+V*h;J=Math.max(0,Math.min(k,J)),n().style.transform=`translate3d(${J}px, 0, 0)`,Ce.swipingRatio=Math.abs(1-J/k),C=(J-m)/k*100,t.dialogState==="swiping"&&(r&&clearTimeout(r),r=setTimeout(s,3e3)),K()},$=D=>{if(!w)return;a=D,i===null&&(i=requestAnimationFrame(ue));const R=D.touches[0].clientX-p,V=D.touches[0].clientY-g,le=Math.abs(R)>Math.abs(V);E&&le&&D.preventDefault()},G=D=>{const R=Math.abs(D);if(R>=d)return u;if(R>=f){const V=(R-f)/(d-f);return c-V*(c-u)}else return c},F=(D,R)=>{if(Math.abs(D)>=d)return v*.5;const le=Math.abs(C)/100;return R?v*Math.max(.5,1-le):v*Math.max(.5,le)},O=D=>{if(i!==null&&(cancelAnimationFrame(i),i=null),!w||!n()){P();return}if(!E){P();return}let R=0;if(D?.changedTouches?.[0]){const J=D.changedTouches[0].clientX,je=performance.now()-_;je>0&&(R=(J-p)/je)}const V=G(R);let le=null;t.dialogState==="swiping"&&(le=Math.abs(C)>V||R<-f?"close":"open");const L=t.dialogState==="swiping"&&le==="close",ee=F(R,L);Ce.duration=ee-.02,n().style.setProperty("--transition-timing",`${ee}s`),n().offsetWidth,n().style.transform="",le==="open"?t.onOpen():le==="close"&&t.onClose(),n()?.style.removeProperty("--backdrop-bg"),P()};be(()=>(n().addEventListener("touchstart",S,{passive:!0}),n().addEventListener("touchmove",$,{passive:!1}),n().addEventListener("touchend",O,{passive:!0}),n().addEventListener("touchcancel",O,{passive:!0}),()=>{n().removeEventListener("touchstart",S),n().removeEventListener("touchmove",$),n().removeEventListener("touchend",O),n().removeEventListener("touchcancel",O),i!==null&&cancelAnimationFrame(i)})),Y()}let wa=M(!1);const wl=(e,t)=>{let n;return()=>{n&&clearTimeout(n),n=setTimeout(()=>{e()},t)}},yl=wl(()=>{T(wa,!1)},100),Ys=()=>{T(wa,!0),yl()},Xs=()=>o(wa);var bl=(e,t)=>{t.onStartClose()},Sl=H('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),kl=H('<dialog><div class="dialogInner svelte-68rj1a"><div class="header svelte-68rj1a"><div><!></div></div> <!></div></dialog> <!>',1);function El(e,t){W(t,!0);let n=350,r=M(null),s=M(null);const a=m=>{m.preventDefault(),t.onStartClose()};be(()=>(o(r)?.addEventListener("close",t.onClosed),o(r)?.addEventListener("cancel",a),()=>{o(r)?.removeEventListener("close",t.onClosed),o(r)?.removeEventListener("cancel",a)}));const i=()=>{o(r)?.style.removeProperty("--transition-timing"),o(r)?.style.removeProperty("transform"),o(r)?.style.removeProperty("--backdrop-bg")},l=()=>{Ys()},c=B(Xs);xe(()=>{if(t.dialogState,!!o(r))switch(t.dialogState){case"opening":{o(r).open||o(r).showModal(),o(r).getBoundingClientRect();const m=setTimeout(()=>{i()},n+1),k=()=>{clearTimeout(m),i()};return o(r)?.addEventListener("transitionend",k,{once:!0}),t.onOpened(),()=>{o(r)?.removeEventListener("transitionend",k)}}case"closing":{const m=setTimeout(()=>{t.dialogState==="closing"&&t.onClosed()},n+1),k=()=>{clearTimeout(m),t.onClosed()};return o(r)?.addEventListener("transitionend",k,{once:!0}),()=>{o(r)?.removeEventListener("transitionend",k)}}case"opened":i()}});var u=kl(),d=x(u),f=b(d),v=b(f),h=b(v),p=b(h);{var g=m=>{var k=Sl();ae(k,1,se(["navigateButton","buttonBack"]),"svelte-68rj1a"),k.__click=[bl,t];var C=b(k);ye(C,()=>({"--size":"20px"})),ge(C.lastChild,{name:"back"});var P=A(C,2);Tn(P,{children:(S,I)=>{var q=Xe("back");y(S,q)}}),y(m,k)};j(p,m=>{(!(t.blocked||t.hidden)||t.blocked&&t.unBlockedBack)&&m(g)})}var _=A(v,2);tt(_,()=>t.children),Fe(f,m=>T(s,m),()=>o(s)),Fe(d,m=>T(r,m),()=>o(r));var w=A(d,2);{var E=m=>{ml(m,{get onClose(){return t.onStartClose},get onOpen(){return t.onStartOpen},get onSwipe(){return t.onSwipe},get dialogState(){return t.dialogState},get dialog(){return o(r)}})};j(w,m=>{(!o(c)&&t.dialogState==="opened"||t.dialogState==="swiping")&&(!t.blocked||t.unBlockedBack)&&m(E)})}ce(()=>ae(d,1,se([{open:t.dialogState==="opened",hidden:t.hidden,isAnimationOn:Ce.working&&(!Ce.isSwiping||!t.hidden)},{hidden:t.hidden}]),"svelte-68rj1a")),Vn("scroll",f,l),y(e,u),Y()}Ue(["click"]);const Ka=(e,t)=>{if(!t)return e;if(t.type==="closed")return{type:"closed"};switch(e.type){case"opened":return t.type==="close"?{type:"closing"}:t.type==="swipe"?{type:"swiping"}:e;case"closed":return t.type==="open"?{type:"opening"}:e;case"swiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"opening":return t.type==="opened"?{type:"opened"}:e;default:return e}};function Tl(e,t){W(t,!0);let n=oe(t,"blocked",3,!1),r=oe(t,"hiddenDialog",3,!1),s=oe(t,"unBlockedBack",3,!1),a=oe(t,"onStartClose",3,()=>{}),i=oe(t,"onClose",3,()=>{}),l=M(de(Ka({type:"closed"})));const c=w=>{T(l,Ka(o(l),w),!0)},u=()=>{n()&&!s()||(a()(),c({type:"close"}))},d=()=>{c({type:"open"})},f=()=>{c({type:"opened"}),Ce.duration=.2},v=()=>{i()(),c({type:"closed"}),Ce.swipingRatio=1,Ce.duration=.2},h=()=>{c({type:"swipe"})};xe(()=>{o(l).type==="swiping"?Ce.isSwiping=!0:Ce.isSwiping=!1,o(l).type==="closed"&&t.shownDialog?d():o(l).type==="opened"&&!t.shownDialog&&u()});var p=z(),g=x(p);{var _=w=>{El(w,{onSwipe:h,onOpened:f,onClosed:v,onStartClose:u,onStartOpen:d,get dialogState(){return o(l).type},get hidden(){return r()},get blocked(){return n()},get unBlockedBack(){return s()},children:(E,m)=>{var k=z(),C=x(k);tt(C,()=>t.children),y(E,k)},$$slots:{default:!0}})};j(g,w=>{o(l).type!=="closed"&&w(_)})}return y(e,p),Y({handleComputeState:c})}function Gs(e,t){W(t,!0);let n=oe(t,"blockedDialog",3,!1),r=oe(t,"hiddenDialog",3,!1),s=oe(t,"isLastDialog",3,!1),a=oe(t,"onStartClose",3,()=>{}),i=oe(t,"onClose",3,()=>{});const l=B(()=>s()?void 0:t.onStartBack);let c=null;function u(){return c||(c=kt(()=>import("./DesktopDialog-CNgIAjWC.js"),__vite__mapDeps([0,1]))),c}be(()=>(Ks(),()=>{Ws()}));var d=z(),f=x(d);{var v=p=>{Tl(p,{get shownDialog(){return t.shownDialog},get blocked(){return n()},get unBlockedBack(){return t.unBlockedBack},get hiddenDialog(){return r()},get children(){return t.children},get onStartClose(){return t.onStartBack},onClose:i()})},h=p=>{var g=z(),_=x(g);bt(_,u,null,(w,E)=>{var m=z();const k=B(()=>o(E).default);var C=x(m);St(C,()=>o(k),(P,S)=>{S(P,{get shownDialog(){return t.shownDialog},get blockedDialog(){return n()},get unBlockedBack(){return t.unBlockedBack},get hiddenDialog(){return r()},get children(){return t.children},get onStartBack(){return o(l)},onStartClose:a(),onClose:i()})}),y(w,m)}),y(p,g)};j(f,p=>{Nn()?p(v):p(h,!1)})}y(e,d),Y()}let Js=M(!1),ya=M(!1);const Fn=e=>{T(Js,e,!0),e||T(ya,!1)},Cl=()=>o(Js),Wa=e=>{T(ya,e,!0)},Pl=()=>o(ya);function Ya(e,t){W(t,!0);let n=oe(t,"blocked",3,!1),r=oe(t,"isLastDialog",3,!1),s=oe(t,"onBack",3,()=>{});const a=B(()=>n()||t.hidden||Cl()),i=B(()=>Pl()&&!r());Gs(e,{get shownDialog(){return t.shown},get blockedDialog(){return o(a)},get unBlockedBack(){return o(i)},get hiddenDialog(){return t.hidden},get isLastDialog(){return r()},onStartBack:()=>{(!o(a)||o(a)&&o(i))&&t.shown&&(Hs(),s()())},onStartClose:()=>{(!o(a)||o(a)&&o(i))&&t.shown&&Us()},onClose:()=>{js()},children:(d,f)=>{var v=z(),h=x(v);tt(h,()=>t.children),y(d,v)},$$slots:{default:!0}}),Y()}let Z=M({initedDB:!1});const Dl=()=>{T(Z,{...o(Z),initedDB:!0})},Cn=async e=>{T(Z,{...o(Z),account:e,notes:[],mapNotes:new Map})},ba=async e=>{const t=new Map,n=[];e.forEach(r=>{n.push(r),t.set(r.id,r)}),T(Z,{...o(Z),notes:n,mapNotes:t})},Pn=()=>o(Z).notes&&o(Z).mapNotes,Al=()=>o(Z).account,Zs=()=>o(Z).notes||[],wu=()=>o(Z).mapNotes||new Map,Qs=e=>{if(!o(Z).notes||!o(Z).mapNotes)throw new Error("Notes appState is not initialized");const t={...e};o(Z).notes.push(t),o(Z).mapNotes.set(t.id,t),T(Z,{...o(Z)})},$s=async e=>{if(!o(Z).notes||!o(Z).mapNotes)throw new Error("Notes appState is not initialized");o(Z).notes.forEach((t,n)=>{t?.id===e.id&&o(Z).notes&&(o(Z).notes[n]=e)}),o(Z).mapNotes.set(e.id,e),T(Z,{...o(Z)})},eo=async e=>{if(!o(Z).notes||!o(Z).mapNotes)throw new Error("Notes appState is not initialized");o(Z).mapNotes.delete(e),o(Z).notes=o(Z).notes.filter(t=>t?.id!==e),T(Z,{...o(Z)})},to=async()=>{T(Z,{...o(Z),initedDB:!0,notes:[],mapNotes:new Map})};let no=M({});const ro=()=>o(no),Ll=e=>{T(no,e)};var xl=H('<input class="svelte-6l2oy0"/>');function Zr(e,t){W(t,!0);let n=oe(t,"value",15,"");var r=xl();ce(()=>Te(r,"placeholder",t.placeholder)),Vn("focus",r,function(...s){t.onFocus?.apply(this,s)}),ga(r,n),y(e,r),Y()}function ao(e,t){W(t,!0),be(()=>{const n=r=>{r.target&&t.dialog?.open&&t.dialogInner&&t.dialogInner!==r.target&&!t.dialogInner.contains(r.target)&&t.onClose()};return document.addEventListener("mousedown",n,{capture:!0}),()=>{document.removeEventListener("mousedown",n,{capture:!0})}}),Y()}function Nl(e,t){W(t,!0);let n=oe(t,"dialog",7);const r=3,s=50,a=5,i=.6,l=.3,c=.35,u=.95;let d=0,f=0,v=0,h=!1,p=!1,g=0,_=0,w=0;const E=()=>{d=0,f=0,h=!1,p=!1,g=0,_=0,w=0,v=0,m!==null&&(cancelAnimationFrame(m),m=null),k=null};let m=null,k=null;const C=F=>{if(!n()){console.warn("Touch start: No dialog element");return}if(t.sidebarState!=="opened"&&t.sidebarState!=="closed"){console.warn(`Touch start: Invalid sidebar state: ${t.sidebarState}`);return}d=F.touches[0].clientX,f=F.touches[0].clientY,v=performance.now(),h=!0,p=!1},P=F=>t.sidebarState==="closed"&&F>0||t.sidebarState==="closeSwiping"&&F>0||t.sidebarState==="opened"&&F<0||t.sidebarState==="openSwiping"&&F<0,S=F=>{if(n()){if(n().style.setProperty("--transition-timing","0s"),!n().open&&t.sidebarState==="closed")try{n().showModal(),n().offsetWidth}catch(O){console.error("Error opening dialog:",O);return}t.onSwipe();try{const O=window.getComputedStyle(n()),D=O.transform||O.webkitTransform||"";if(_=n().offsetWidth,t.sidebarState==="closeSwiping"||t.sidebarState==="closed"?g=-_:(t.sidebarState==="openSwiping"||t.sidebarState==="opened")&&(g=0),D&&D!=="none")try{g=new DOMMatrix(D).m41}catch{console.warn("Could not parse transform matrix, using default position")}p=!0}catch(O){console.error("Error during swipe initialization:",O),E()}}},I=()=>{if(!n())return;const F=-(_*.27),O=-_;let D=0;const R=window.getComputedStyle(n()),V=R.transform||R.webkitTransform||"";if(V&&V!=="none")try{D=new DOMMatrix(V).m41}catch{D=0}const ee=.25*Math.min(1,Math.max(0,(D-O)/(F-O)));n().style.setProperty("--backdrop-bg",`rgba(0, 0, 0, ${ee})`)},q=()=>{if(m=null,!k||!h||!n()||ma())return;const{x:F,y:O}=k;k=null;const D=F-d,R=O-f,V=Math.abs(D)>Math.abs(R),le=Math.abs(D)>r;if(!p)if(V&&le&&P(D))try{S(D)}catch(Pe){console.error("Error initializing swipe:",Pe),E();return}else return;if(!P(D))return;n().style.setProperty("--transition-timing","0s");let L=g+D*u;const ee=-_,J=-(_*.27);L=Math.max(ee,Math.min(J,L)),n().style.transform=`translate3d(${L}px, 0, 0)`,w=(L-g)/_*100,I()},K=F=>{if(!h)return;const O=F.touches[0].clientX,D=F.touches[0].clientY;k={x:O,y:D},m===null&&(m=requestAnimationFrame(q)),p&&Math.abs(O-d)>Math.abs(D-f)&&F.preventDefault()},ue=F=>{const O=Math.abs(F);if(O>=i)return a;if(O>=l){const D=(O-l)/(i-l);return s-D*(s-a)}else return s},$=(F,O)=>{if(Math.abs(F)>=i)return c*.5;const R=Math.abs(w)/100;return O?c*Math.max(.5,1-R):c*Math.max(.5,R)},G=F=>{if(m!==null&&(cancelAnimationFrame(m),m=null),k=null,!h||!n()){E();return}if(!p){E();return}let O=0;if(F?.changedTouches?.[0]){const L=F.changedTouches[0].clientX,J=performance.now()-v;J>0&&(O=(L-d)/J)}const D=ue(O);let R=null;t.sidebarState==="closeSwiping"?R=Math.abs(w)>D||O>l?"open":"close":t.sidebarState==="openSwiping"&&(R=Math.abs(w)>D||O<-l?"close":"open");const V=t.sidebarState==="closeSwiping"&&R==="open"||t.sidebarState==="openSwiping"&&R==="close",le=$(O,V);n().style.setProperty("--transition-timing",`${le}s`),n().offsetWidth,n().style.transform="",R==="open"?t.onOpen():R==="close"&&t.onClose(),n()?.style.removeProperty("--backdrop-bg"),E()};be(()=>(document.addEventListener("touchstart",C,{passive:!0}),document.addEventListener("touchmove",K,{passive:!1}),document.addEventListener("touchend",G,{passive:!0}),document.addEventListener("touchcancel",G,{passive:!0}),()=>{document.removeEventListener("touchstart",C),document.removeEventListener("touchmove",K),document.removeEventListener("touchend",G),document.removeEventListener("touchcancel",G),m!==null&&cancelAnimationFrame(m)})),Y()}var Ol=H('<dialog><div class="dialogInner svelte-1in1s0g"><!></div></dialog> <!> <!>',1);function Ml(e,t){W(t,!0);let n=350,r=M(null),s=M(null),a=B(Ms);xe(()=>{zs().length>0&&Et({type:"close"})});const i=()=>{t.blocked||Et({type:"close"})},l=()=>{t.blocked||Et({type:"open"})},c=()=>{Et({type:"opened"})},u=()=>{Et({type:"closed"})},d=()=>{Et({type:"swipe"})},f=S=>{S.preventDefault(),i()};be(()=>(o(r)?.addEventListener("close",u),o(r)?.addEventListener("cancel",f),()=>{o(r)?.removeEventListener("close",u),o(r)?.removeEventListener("cancel",f)}));const v=()=>{o(r)?.style.removeProperty("--transition-timing"),o(r)?.style.removeProperty("transform"),o(r)?.style.removeProperty("--backdrop-bg")},h=B(Xs);xe(()=>{if(o(a),!!o(r))switch(o(a).type){case"closeSwiping":{const S=setTimeout(()=>{i()},3e3);return()=>{clearTimeout(S)}}case"openSwiping":{const S=setTimeout(()=>{l()},3e3);return()=>{clearTimeout(S)}}case"opening":{o(r).open||o(r).showModal(),o(r).getBoundingClientRect();const S=setTimeout(()=>{v()},n+1),I=()=>{clearTimeout(S),v()};return o(r)?.addEventListener("transitionend",I,{once:!0}),c(),()=>{o(r)?.removeEventListener("transitionend",I)}}case"closing":{const S=setTimeout(()=>{o(a).type==="closing"&&u()},n+1),I=()=>{clearTimeout(S),u()};return o(r)?.addEventListener("transitionend",I,{once:!0}),()=>{o(r)?.removeEventListener("transitionend",I)}}case"closed":o(r)?.close(),v();break;case"opened":v();break}});var p=Ol(),g=x(p),_=b(g),w=b(_);{var E=S=>{var I=z(),q=x(I);tt(q,()=>t.children),y(S,I)};j(w,S=>{o(a).type!=="closed"&&S(E)})}Fe(_,S=>T(s,S),()=>o(s)),Fe(g,S=>T(r,S),()=>o(r));var m=A(g,2);{var k=S=>{ao(S,{get dialog(){return o(r)},get dialogInner(){return o(s)},onClose:i})};j(m,S=>{o(a).type==="opened"&&!t.blocked&&S(k)})}var C=A(m,2);{var P=S=>{Nl(S,{onClose:i,onOpen:l,onSwipe:d,get sidebarState(){return o(a).type},get dialog(){return o(r)}})};j(C,S=>{(!o(h)&&o(a).type==="closed"||o(a).type==="opened"||o(a).type==="openSwiping"||o(a).type==="closeSwiping")&&!t.blocked&&S(P)})}ce(()=>ae(g,1,se([{open:o(a).type==="opened",hidden:t.blocked,isAnimationOn:Ce.working&&(!Ce.isSwiping||!t.blocked)}]),"svelte-1in1s0g")),y(e,p),Y()}var Il=H('<button> <svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></button>');function Bt(e,t){let n=B(()=>t.style==="selected"?"45deg":"0deg");var r=Il();r.__click=function(...i){t.onClick?.apply(this,i)};var s=b(r),a=A(s);ye(a,()=>({"--size":"20px","--rotate":o(n)})),ge(a.lastChild,{name:"plus"}),ce(()=>{Te(r,"type",t.type),ae(r,1,se([{selectedTag:t.style==="selected"}]),"svelte-1uqucql"),xn(s,`${t.title??""} `)}),y(e,r)}Ue(["click"]);const Rl=e=>{e.preventDefault(),He("settings")};var Bl=H("<div></div>"),Fl=H('<div class="sidebarFixed svelte-1y05y7k"><div class="nav svelte-1y05y7k"><!> <a class="link svelte-1y05y7k"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Settings</span></a></div> <div class="searchWrapper svelte-1y05y7k"><!></div> <!></div> <div></div>',1),Hl=H("<div></div>"),Ul=H('<div class="sidebar svelte-1y05y7k"><div class="sidebarFixed svelte-1y05y7k"><div class="searchWrapper svelte-1y05y7k"><!></div> <!></div> <div class="tags svelte-1y05y7k"></div></div>');function jl(e,t){W(t,!0);let n=M(null),r=M(""),s=B(()=>new URLSearchParams(N.search).get("selectedTags")?.split(",")||[]);const a=()=>{const g=nt();g.includes("settings")||g.push("settings");const _=new URLSearchParams(N.search);return _.set("stackPages",g.join(",")),`${N.pathname}?${_}`},i=g=>{const _=new URLSearchParams(N.search);_.set("selectedTags",[...o(s),g].join(",")),Yt(`${N.pathname}${_.size>0?`?${_.toString()}`:""}`),T(r,"")},l=g=>{const _=new URLSearchParams(N.search),w=o(s).filter(E=>E!==g);w.length===0?_.delete("selectedTags"):_.set("selectedTags",w.join(",")),Yt(`${N.pathname}${_.size>0?`?${_.toString()}`:""}`)};let c=B(()=>Pn()?Object.values(ro()).filter(g=>!o(s).some(_=>g.name===_)):[]),u=B(a),d=B(()=>nt().length>0||_l());var f=z(),v=x(f);{var h=g=>{Ml(g,{get blocked(){return o(d)},children:(_,w)=>{var E=Fl(),m=x(E),k=b(m),C=b(k);Is(C,{});var P=A(C,2);P.__click=[Rl];var S=b(P);ye(S,()=>({"--size":"20px"})),ge(S.lastChild,{name:"settings"});var I=A(k,2),q=b(I);Zr(q,{placeholder:"Search tag",get value(){return o(r)},set value(G){T(r,G,!0)}});var K=A(I,2);{var ue=G=>{var F=Bl();ae(F,1,se(["tags","selectedTags"]),"svelte-1y05y7k"),Dt(F,20,()=>o(s),O=>O,(O,D)=>{Bt(O,{get title(){return D},onClick:()=>l(D),style:"selected"})}),Fe(F,O=>T(n,O),()=>o(n)),y(G,F)};j(K,G=>{o(s).length>0&&G(ue)})}var $=A(m,2);ae($,1,se(["tags","tagsWrapper"]),"svelte-1y05y7k"),Dt($,21,()=>o(c),G=>G.name,(G,F)=>{var O=z(),D=x(O);{var R=V=>{Bt(V,{get title(){return o(F).name},onClick:()=>i(o(F).name)})};j(D,V=>{(o(r)===""||o(F).name.toLowerCase().indexOf(o(r).toLowerCase())!==-1)&&V(R)})}y(G,O)}),ce(G=>{Te(P,"href",o(u)),En($,`min-height: height: calc(100dvh - 190px - ${G??""}px);`)},[()=>o(n)?o(n).getBoundingClientRect().height:0]),y(_,E)},$$slots:{default:!0}})},p=g=>{var _=Ul(),w=b(_),E=b(w),m=b(E);Zr(m,{placeholder:"Search tag",get value(){return o(r)},set value(S){T(r,S,!0)}});var k=A(E,2);{var C=S=>{var I=Hl();ae(I,1,se(["tags","selectedTags"]),"svelte-1y05y7k"),Dt(I,20,()=>o(s),q=>q,(q,K)=>{Bt(q,{get title(){return K},onClick:()=>l(K),style:"selected"})}),y(S,I)};j(k,S=>{o(s).length>0&&S(C)})}var P=A(w,2);Dt(P,21,()=>o(c),S=>S.name,(S,I)=>{var q=z(),K=x(q);{var ue=$=>{Bt($,{get title(){return o(I).name},onClick:()=>i(o(I).name)})};j(K,$=>{(o(r)===""||o(I).name.toLowerCase().indexOf(o(r).toLowerCase())!==-1)&&$(ue)})}y(S,q)}),y(g,_)};j(v,g=>{Nn()?g(h):g(p,!1)})}y(e,f),Y()}Ue(["click"]);function At(e){const t=String.fromCharCode(...new Uint8Array(e));return window.btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function Sa(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");const n=t.length%4;return n&&(t+="=".repeat(4-n)),t}function ka(e){try{const t=atob(e),n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n.buffer}catch(t){throw console.error("Error decoding base64:",t,"Input:",e),t}}function yu(e){const t=Sa(e);return ka(t)}const bu=async({challenge:e,clientKey:t})=>{const n=Math.floor(Math.random()*100),r={challenge:ka(Sa(e)),rp:{id:"localhost",name:"notes"},user:{id:new Uint8Array([...t,...crypto.getRandomValues(new Uint8Array(16))]).buffer,name:`account_${n}`,displayName:`account_${n}`},pubKeyCredParams:[{type:"public-key",alg:-7},{type:"public-key",alg:-257}],authenticatorSelection:{userVerification:"required"},timeout:6e4,attestation:"none"},s=await navigator.credentials.create({publicKey:r});if(s){const a=s.response;return{challenge:e,id:s.id,rawId:At(s.rawId),type:s.type,response:{clientDataJSON:At(a.clientDataJSON),attestationObject:At(a.attestationObject)}}}else throw new Error},Su=async({challenge:e})=>{const t={challenge:ka(Sa(e)),timeout:6e4,rpId:"localhost",userVerification:"required"},n=await navigator.credentials.get({publicKey:t});if(n){const r=n.response,s=new DataView(r.authenticatorData).getUint32(33,!1);console.log("Counter:",s);const a={challenge:e,id:n.id,rawId:At(n.rawId),type:n.type,response:{authenticatorData:At(r.authenticatorData),clientDataJSON:At(r.clientDataJSON),signature:At(r.signature)}};if(!r.userHandle)throw new Error("No credential found");const i=new Uint8Array(r.userHandle).slice(0,32);return{credentialData:a,clientKey:i}}else throw new Error("No credential found")},zl=async e=>{const t=await crypto.subtle.importKey("raw",e.serverKey,{name:"HKDF"},!1,["deriveKey"]),n=await crypto.subtle.deriveKey({name:"HKDF",salt:new Uint8Array(12),info:new TextEncoder().encode("aes-gcm-shared"),hash:"SHA-256"},t,{name:"AES-GCM",length:256},!1,["encrypt"]);return{encryptedClientKey:await crypto.subtle.encrypt({name:"AES-GCM",iv:new Uint8Array(12)},n,e.clientKey)}},ku=async e=>{const t=await crypto.subtle.importKey("raw",e.serverKey,{name:"HKDF"},!1,["deriveKey"]),n=await crypto.subtle.deriveKey({name:"HKDF",info:new TextEncoder().encode("aes-gcm-shared"),hash:"SHA-256",salt:new Uint8Array(12)},t,{name:"AES-GCM",length:256},!1,["decrypt"]),r=await crypto.subtle.decrypt({name:"AES-GCM",iv:new Uint8Array(12)},n,e.encryptedClientKey);return new Uint8Array(r)},so=()=>crypto.randomUUID(),Vl="AppStorage",ql=1,Ge="notes",Xa="syncLog",Dn="account";let it;const Kl=()=>new Promise((e,t)=>{const n=indexedDB.open(Vl,ql);n.addEventListener("upgradeneeded",()=>{const r=n.result;r.objectStoreNames.contains(Ge)||r.createObjectStore(Ge,{keyPath:"id"}),r.objectStoreNames.contains(Dn)||r.createObjectStore(Dn,{keyPath:"id"}),r.objectStoreNames.contains(Xa)||r.createObjectStore(Xa,{keyPath:"id"})}),n.addEventListener("success",()=>{e(),it=n.result,it.onversionchange=function(){it?.close(),alert("app outdated, please reload the page")}}),n.addEventListener("blocked",()=>{t(),alert("app outdated, please reload the page")}),n.addEventListener("error",()=>{t(),console.error("Error",n.error)})}),oo=()=>new Promise((e,t)=>{const r=it?.transaction(Dn,"readonly")?.objectStore(Dn).get("default");r?.addEventListener("success",()=>{const s=r?.result?.account;e(s)}),r?.addEventListener("error",()=>{t()})}),io=e=>new Promise((t,n)=>{const a=it?.transaction(Dn,"readwrite")?.objectStore(Dn)?.put({id:"default",account:e});a?.addEventListener("success",()=>{console.log("account inited"),t()}),a?.addEventListener("error",()=>{n()})}),Tr=()=>new Promise((e,t)=>{const r=it?.transaction(Ge,"readonly")?.objectStore(Ge).getAll();r?.addEventListener("success",()=>{const s=r.result;e(s)}),r?.addEventListener("error",()=>{t()})}),lo=async e=>new Promise((t,n)=>{const a=it?.transaction(Ge,"readwrite")?.objectStore(Ge)?.put({...e});a?.addEventListener("success",()=>{t()}),a?.addEventListener("error",()=>{n()})}),Wl=async e=>new Promise((t,n)=>{const a=it?.transaction(Ge,"readwrite")?.objectStore(Ge)?.delete(e);a?.addEventListener("success",()=>{t()}),a?.addEventListener("error",()=>{n()})}),Yl=()=>new Promise((e,t)=>{const s=it?.transaction(Ge,"readwrite")?.objectStore(Ge)?.clear();s?.addEventListener("success",()=>{e()}),s?.addEventListener("error",()=>{t()})}),Ea=async()=>{await Yl()},Xl=async e=>{const t=(await Tr()).reduce((a,i)=>(a[i.id]=i,a),{}),n={},s=it?.transaction(Ge,"readwrite")?.objectStore(Ge);e.forEach(a=>{t[a.id]?t[a.id].updatedAt<a.updatedAt&&(n[a.id]=a):n[a.id]=a}),await Promise.all(Object.values(n).map(a=>{const i=s?.put(a);return new Promise((l,c)=>{i?.addEventListener("success",()=>{l()}),i?.addEventListener("error",()=>{c()})})}))},Qr=(e,t,n,r=new Set,s={})=>{for(const a of e.children)if(a.tagName==="DT"){const i=a.querySelector(":scope > A"),l=a.querySelector(":scope > H3");if(i){const c=i.getAttribute("href"),u=i.textContent||"unknown";if(!c)return n;const d=t.find(f=>f.toLowerCase()==="bookmarks bar")?t.filter(f=>f.toLowerCase()!=="bookmarks bar"):["other"];if(s[c])s[c].tags=[...new Set([...s[c].tags,...d])];else{const f={id:so(),url:c,title:u,description:"",tags:d.length>0?d:[],updatedAt:Date.now(),createdAt:Date.now()};s[f.url]=f,n.push(f)}}else if(l){const c=l.textContent?.trim();if(c&&l.nextElementSibling?.tagName==="DL"){const u=[...t];u.push(c);const d=l.nextElementSibling;r.has(d)||(r.add(d),Qr(d,u,n,r,s))}}}else a.tagName!=="DL"&&a.children.length>0&&(r.has(a)||(r.add(a),Qr(a,[...t],n,r,s)));return n},Eu=async e=>{const t=await e.text(),s=new DOMParser().parseFromString(t,"text/html").querySelector("DL");return s?Qr(s,[],[]):[]},Tu=e=>{const t=Math.floor(Date.now()/1e3),n={};e.forEach(s=>{const a=s.tags||["Imported"];if(a.length===0){n.ROOT||(n.ROOT=[]),n.ROOT.push(s);return}a.forEach(i=>{n[i]||(n[i]=[]),n[i].push(s)})});let r=`<!DOCTYPE NETSCAPE-Note-file-1>
<!-- This is an automatically generated file.
 It will be read and overwritten.
 DO NOT EDIT! -->
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8">
<TITLE>notes</TITLE>
<H1>notes</H1>
<DL><p>
<DT><H3 ADD_DATE="${t}" LAST_MODIFIED="${t}" PERSONAL_TOOLBAR_FOLDER="true">notes Bar</H3>
<DL><p>`;return Object.keys(n).forEach(s=>{s!=="ROOT"&&s!=="other"&&(r+=`
	<DT><H3 ADD_DATE="${t}" LAST_MODIFIED="${t}">${s}</H3>
	<DL><p>`,n[s].forEach(a=>{const i=a.title.replace(/"/g,"&quot;");r+=`
		<DT><A HREF="${a.url}" ADD_DATE="${Math.floor(a.createdAt/1e3)||t}">${i}</A>`}),r+=`
	</DL><p>`)}),n.ROOT&&n.ROOT.forEach(s=>{const a=s.title.replace(/"/g,"&quot;");r+=`
	<DT><A HREF="${s.url}" ADD_DATE="${Math.floor(s.createdAt/1e3)||t}">${a}</A>`}),r+=`
</DL><p>`,n.other&&n.other.forEach(s=>{const a=s.title.replace(/"/g,"&quot;");r+=`
	<DT><A HREF="${s.url}" ADD_DATE="${Math.floor(s.createdAt/1e3)||t}">${a}</A>`}),r+="</DL><p>",r};async function Ta(){if(navigator.storage&&navigator.storage.persist)try{await navigator.storage.persisted()||await navigator.storage.persist()}catch{console.error("")}}const Cu=async e=>{const t="notes-export.json",n=JSON.stringify({notes:e}),r=new Blob([n],{type:"application/json"}),s=URL.createObjectURL(r),a=document.createElement("a");a.href=s,a.download=t,document.body.appendChild(a),a.click(),setTimeout(()=>{document.body.removeChild(a),URL.revokeObjectURL(s)},0)},Nt=new BroadcastChannel("app");Nt.addEventListener("message",async e=>{if(console.log("Received message from BroadcastChannel:",e.data),e.data&&typeof e.data=="string"){const t=JSON.parse(e.data);if(t.operation==="addNote"){const n=t.note;Qs(n)}else if(t.operation==="updateNote"){const n=t.note;$s(n)}else if(t.operation==="deleteNote"){const n=t.noteId;eo(n)}else if(t.operation==="clearAppState")to();else if(t.operation==="reloadNotes"){const n=await Tr();await ba(n)}else if(t.operation==="initLocalAccount")Cn(null),Gr(),Yt("/");else if(t.operation==="initAccount"){const n=await oo();n&&(Cn(n),Gr(),Yt("/"))}}});Kl().then(async()=>{Dl();const e=await oo();if(e===void 0)He("start");else{ll("start")&&(Gr(),Yt("/")),e?(Cn(e),await Ta()):Cn(null);const t=await Tr();await ba(t)}}).catch(()=>{console.error("failed to init db")});const Gl=async e=>{const t={...e,id:so(),createdAt:Date.now(),updatedAt:Date.now()};Qs(t),Nt.postMessage(JSON.stringify({operation:"addNote",note:{...t}})),await lo({...t})},Jl=async e=>{const t={...e,updatedAt:Date.now()};Nt.postMessage(JSON.stringify({operation:"updateNote",note:t})),$s(t),await lo(t)},Zl=async e=>{Nt.postMessage(JSON.stringify({operation:"deleteNote",noteId:e})),eo(e),await Wl(e)},Pu=async()=>{Nt.postMessage(JSON.stringify({operation:"clearAppState"})),to(),await Ea()},Du=async e=>{await Xl(e),Nt.postMessage(JSON.stringify({operation:"reloadNotes"}));const t=await Tr();await ba(t)},Ql=async()=>{await Ea(),await Ta(),await io(null),Cn(null),Nt.postMessage(JSON.stringify({operation:"initLocalAccount"}))},Au=async e=>{await Ea(),await Ta();const{encryptedClientKey:t}=await zl({clientKey:e.clientKey,serverKey:e.serverKey}),n={encryptedClientKey:At(t),lastLogId:-1,lastSync:-1};await io(n),Cn(n),Nt.postMessage(JSON.stringify({operation:"initAccount"}))};var $l=H('<div class="input-container svelte-hz572l"><input/> <div class="error-message svelte-hz572l"><!></div></div>');function Hr(e,t){W(t,!0);let n=oe(t,"value",15,""),r=oe(t,"error",3,"");var s=$l(),a=b(s);a.__input=function(...d){t.onInput?.apply(this,d)};let i;var l=A(a,2),c=b(l);{var u=d=>{var f=Xe();ce(()=>xn(f,r())),y(d,f)};j(c,d=>{r()&&d(u)})}ce(d=>{Te(a,"placeholder",t.placeholder),i=ae(a,1,"svelte-hz572l",null,i,d)},[()=>({error:!!r()})]),Vn("blur",a,function(...d){t.onBlur?.apply(this,d)}),Vn("focus",a,function(...d){t.onFocus?.apply(this,d)}),ga(a,n),y(e,s),Y()}Ue(["input"]);var ec=H("<div></div>"),tc=H('<form class="svelte-tcgkvd"><!> <!> <textarea placeholder="notes" class="svelte-tcgkvd"></textarea> <div class="boxtags"><div class="sidebarFixed"><!></div> <div class="tags svelte-tcgkvd"><!> <!></div> <div class="searchWrapper svelte-tcgkvd"><!></div></div> <button class="buttonSubmit svelte-tcgkvd" type="submit"> </button></form>');function co(e,t){W(t,!0);let n=oe(t,"initialTitle",3,""),r=oe(t,"initialUrl",3,""),s=oe(t,"initialDescription",3,""),a=oe(t,"initialTags",19,()=>[]),i=oe(t,"mode",3,"add"),l=M(""),c=M(de(n())),u=M(de(r())),d=M(de(s())),f=M(de(a().filter(L=>L!=="inbox")));const v=L=>{o(f).includes(L)||T(f,[...o(f),L],!0)},h=L=>{const ee=o(f).filter(J=>J!==L);ee.length===0?T(f,[],!0):T(f,ee,!0)};let p=B(()=>Pn()?[...Zs().reduce((L,ee)=>(ee?.tags.forEach(J=>{L.has(J)||L.add(J)}),L),new Set)]:[]),g=B(()=>Pn()?o(p).filter(L=>!o(f).some(ee=>L===ee)&&L!=="inbox"):[]),_=B(()=>o(g).find(L=>L.toLowerCase()===o(l).toLowerCase())||o(f).includes(o(l))),w=B(()=>o(g).filter(L=>o(l)===""?!0:L.toLowerCase().indexOf(o(l).toLowerCase())!==-1).slice(0,o(_)||o(l)===""?3:2));const E=L=>{L.preventDefault(),t.onSubmit({title:o(c).trim().slice(0,256)||"unkwown",url:o(u).trim().slice(0,2048),description:o(d).trim().slice(0,2048),tags:o(f).length>0?o(f):["inbox"]})};var m=tc(),k=b(m);Hr(k,{placeholder:"url",get value(){return o(u)},set value(L){T(u,L,!0)}});var C=A(k,2);Hr(C,{placeholder:"title",get value(){return o(c)},set value(L){T(c,L,!0)}});var P=A(C,2),S=A(P,2),I=b(S),q=b(I);{var K=L=>{var ee=ec();ae(ee,1,se(["tags","selectedTags"]),"svelte-tcgkvd"),Dt(ee,20,()=>o(f),J=>J,(J,Pe)=>{Bt(J,{get title(){return Pe},onClick:()=>h(Pe),type:"button",style:"selected"})}),y(L,ee)};j(q,L=>{o(f).length>0&&L(K)})}var ue=A(I,2),$=b(ue);{var G=L=>{var ee=z(),J=x(ee);Dt(J,16,()=>o(w),Pe=>Pe,(Pe,je)=>{Bt(Pe,{get title(){return je},onClick:()=>v(je)})}),y(L,ee)};j($,L=>{o(l)!==""&&L(G)})}var F=A($,2);{var O=L=>{Bt(L,{get title(){return o(l)},onClick:()=>{v(o(l)),T(l,"")}})};j(F,L=>{!o(_)&&o(l)!==""&&L(O)})}var D=A(ue,2),R=b(D);Hr(R,{placeholder:"search tag",get value(){return o(l)},set value(L){T(l,L,!0)}});var V=A(S,2),le=b(V);ce(()=>xn(le,i()==="add"?"add":"edit")),Vn("submit",m,E),ga(P,()=>o(d),L=>T(d,L)),y(e,m),Y()}function nc(e,t){W(t,!0);let n=M(!0);const r=()=>{t.onClose()},s=()=>{T(n,!1)},a=({title:i,url:l,description:c,tags:u})=>{Jl({...t.note,title:i,url:l,description:c,tags:u.map(d=>d.trim())}),s()};Gs(e,{get shownDialog(){return o(n)},onClose:r,children:(i,l)=>{co(i,{get initialTitle(){return t.note.title},get initialUrl(){return t.note.url},get initialDescription(){return t.note.description},get initialTags(){return t.note.tags},onSubmit:a,mode:"edit"})},$$slots:{default:!0}}),Y()}var rc=H('<dialog><div class="dialogInner svelte-w3h659"><!></div></dialog> <!>',1);function uo(e,t){W(t,!0);let n=M(null),r=M(null),s=M(!1);const a=()=>{const v=setTimeout(()=>{t.onClosed()},150);o(n)?.addEventListener("transitionend",()=>{clearTimeout(v),t.onClosed()},{once:!0}),T(s,!1)};xe(()=>{t.startClose&&a()}),be(()=>{o(n)?.showModal(),o(n)?.getClientRects(),T(s,!0)}),be(()=>(Ks(),()=>{Ws()}));var i=rc(),l=x(i),c=b(l),u=b(c);tt(u,()=>t.children),Fe(c,v=>T(r,v),()=>o(r)),Fe(l,v=>T(n,v),()=>o(n));var d=A(l,2);{var f=v=>{ao(v,{get dialog(){return o(n)},get dialogInner(){return o(r)},onClose:a})};j(d,v=>{o(n)&&o(r)&&v(f)})}ce(()=>ae(l,1,se(["dialog",{shown:o(s)}]),"svelte-w3h659")),y(e,i),Y()}var ac=H("<div><!></div>");function fo(e,t){W(t,!0);let n=M(!1),r=M(null);const s=()=>{const u=setTimeout(()=>{t.onClosed()},150);o(r)?.addEventListener("transitionend",()=>{clearTimeout(u),t.onClosed()},{once:!0}),T(n,!1)},a=u=>{u.target!==o(r)&&!o(r)?.contains(u.target)&&s()},i=u=>{u.target!==o(r)&&!o(r)?.contains(u.target)&&s()};be(()=>{o(r)?.getClientRects(),T(n,!0);const u=setTimeout(()=>{document.addEventListener("focusin",a),document.addEventListener("click",i)},0);return()=>{clearTimeout(u),document.removeEventListener("focusin",a),document.removeEventListener("click",i)}}),xe(()=>{t.startClose&&s()});var l=ac(),c=b(l);tt(c,()=>t.children),Fe(l,u=>T(r,u),()=>o(r)),ce(()=>ae(l,1,se(["menu",{top:t.positionTop,shown:o(n)}]),"svelte-1ljsfcr")),y(e,l),Y()}const sc=(e,t,n)=>{const r=ro();t.note.tags.forEach(s=>{if(o(n).includes(s)&&r[s].connections===1){const a=new URLSearchParams(N.search),i=o(n).filter(l=>l!==s);i.length===0?a.delete("selectedTags"):a.set("selectedTags",i.join(",")),il(`${N.pathname}${a.size>0?`?${a.toString()}`:""}`)}}),Zl(t.note.id)},oc=(e,t,n)=>{T(t,!0),T(n,!0)};var ic=H('<div class="menu svelte-xxw0l"><div><button>Edit</button></div> <div><button>Delete</button></div></div>'),lc=H('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),cc=H("<!> <!>",1);function uc(e,t){W(t,!0);const n=(g,_=yn)=>{var w=ic(),E=b(w),m=b(E);m.__click=[oc,a,s];var k=A(E,2),C=b(k);C.__click=[sc,t,l],ce(()=>{ae(m,1,se(["button",{buttonMenuDialog:_()}]),"svelte-xxw0l"),ae(C,1,se(["button",{buttonMenuDialog:_()}]),"svelte-xxw0l")}),y(g,w)};let r=oe(t,"shownMenu",15),s=M(!1),a=M(!1),i=B(Nn),l=B(()=>new URLSearchParams(N.search).get("selectedTags")?.split(",")||[]);const c=()=>{T(s,!1)},u=()=>{r(!1),T(a,!1)};var d=cc(),f=x(d);{var v=g=>{var _=z(),w=x(_);{var E=k=>{uo(k,{get startClose(){return o(a)},onClosed:u,children:(C,P)=>{n(C,()=>!0)},$$slots:{default:!0}})},m=k=>{var C=lc(),P=x(C);ye(P,()=>({"--bottom":"-180%","--right":"30px"})),fo(P.lastChild,{get startClose(){return o(a)},get positionTop(){return t.showMenuUp},onClosed:u,children:(S,I)=>{n(S,()=>!1)},$$slots:{default:!0}}),y(k,C)};j(w,k=>{o(i)?k(E):k(m,!1)})}y(g,_)};j(f,g=>{r()&&g(v)})}var h=A(f,2);{var p=g=>{nc(g,{get note(){return t.note},onClose:c})};j(h,g=>{o(s)&&g(p)})}y(e,d),Y()}Ue(["click"]);const dc=(e,t,n)=>{t.showMenuUp||T(n,!0)},fc=(e,t)=>{navigator.clipboard.writeText(t.note.url),Gi("Link copied to clipboard")},vc=(e,t)=>{T(t,!0)},hc=(e,t)=>{T(t,!1)};var pc=H('<li class="note svelte-1mtwaux"><img loading="lazy" class="noteIcon" height="16" width="16" alt="icon"/> <a class="noteLink svelte-1mtwaux" target="_blank" rel="noopener noreferrer"> </a> <div class="spacer svelte-1mtwaux"></div> <div><button class="button svelte-1mtwaux"><!> <!></button> <button><!> <!></button> <!></div></li>');function gc(e,t){W(t,!0);let n=M(!1),r=M(!1);const s=w=>{try{return`https://external-content.duckduckgo.com/ip3/${new URL(w).host}.ico`}catch{return""}};var a=pc();a.__focusin=[vc,n],a.__focusout=[hc,n];var i=b(a),l=A(i,2),c=b(l),u=A(l,4),d=b(u);d.__click=[fc,t];var f=b(d);ge(f,{name:"copy"});var v=A(f,2);Tn(v,{children:(w,E)=>{var m=Xe("copy link");y(w,m)}});var h=A(d,2);h.__click=[dc,t,r],ae(h,1,se(["button","buttonMenu"]),"svelte-1mtwaux");var p=b(h);ge(p,{name:"menu"});var g=A(p,2);Tn(g,{children:(w,E)=>{var m=Xe("show menu");y(w,m)}});var _=A(h,2);uc(_,{get note(){return t.note},get showMenuUp(){return t.showMenuUp},get shownMenu(){return o(r)},set shownMenu(w){T(r,w,!0)}}),ce(w=>{Te(i,"src",w),Te(l,"tabindex",t.focusHidden?-1:0),Te(l,"href",t.note.url),xn(c,t.note.title),ae(u,1,se(["noteMenuWrapper",{noteMenuWrapperActive:o(n)}]),"svelte-1mtwaux"),Te(d,"tabindex",t.focusHidden?-1:0),Te(h,"tabindex",t.focusHidden?-1:0)},[()=>s(t.note.url)]),y(e,a),Y()}Ue(["focusin","focusout","click"]);const $r=de({ref:null}),_c=(e,t)=>{o(t)||T(t,!0)};var mc=(e,t)=>t("newest"),wc=(e,t)=>t("oldest"),yc=(e,t)=>t("AtoZ"),bc=(e,t)=>t("ZtoA"),Sc=H("<div><button>Newest</button> <button>Oldest</button> <button>A to Z</button> <button>Z to A</button></div>"),kc=H('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),Ec=H('<div class="orderMenu svelte-16tnh9z"><button><!> <!></button> <!></div>');function Tc(e,t){W(t,!0);const n=(g,_=yn)=>{var w=Sc(),E=b(w);E.__click=[mc,l];var m=A(E,2);m.__click=[wc,l];var k=A(m,2);k.__click=[yc,l];var C=A(k,2);C.__click=[bc,l],ce(()=>{ae(w,1,se(["menu",{menuDialog:_()}]),"svelte-16tnh9z"),ae(E,1,se(["menuButton",{menuButtonDialog:_(),current:o(i)==="newest"}]),"svelte-16tnh9z"),ae(m,1,se(["menuButton",{menuButtonDialog:_(),current:o(i)==="oldest"}]),"svelte-16tnh9z"),ae(k,1,se(["menuButton",{menuButtonDialog:_(),current:o(i)==="AtoZ"}]),"svelte-16tnh9z"),ae(C,1,se(["menuButton",{menuButtonDialog:_(),current:o(i)==="ZtoA"}]),"svelte-16tnh9z")}),y(g,w)};let r=M(!1),s=M(!1),a=B(Nn),i=B(Bs);const l=g=>{T(s,!0),al(g)},c=()=>{T(r,!1),T(s,!1)};var u=Ec(),d=b(u);d.__click=[_c,r],ae(d,1,se(["button","buttonMenu"]),"svelte-16tnh9z");var f=b(d);ge(f,{name:"filter"});var v=A(f,2);Tn(v,{children:(g,_)=>{var w=Xe("show feed order menu");y(g,w)}});var h=A(d,2);{var p=g=>{var _=z(),w=x(_);{var E=k=>{uo(k,{get startClose(){return o(s)},onClosed:c,children:(C,P)=>{n(C,()=>!0)},$$slots:{default:!0}})},m=k=>{var C=kc(),P=x(C);ye(P,()=>({"--right":"20px","--top":"60px"})),fo(P.lastChild,{get startClose(){return o(s)},onClosed:c,children:(S,I)=>{n(S,()=>!1)},$$slots:{default:!0}}),y(k,C)};j(w,k=>{o(a)?k(E):k(m,!1)})}y(g,_)};j(h,g=>{o(r)&&g(p)})}y(e,u),Y()}Ue(["click"]);var Cc=H('<div class="loader svelte-1ygr46m"></div>');function vo(e){var t=Cc();y(e,t)}var Pc=H("<a><!></a>"),Dc=H('<button type="button"><!></button>');function Xt(e,t){let n=oe(t,"type",3,"standard"),r=oe(t,"element",3,"button"),s=oe(t,"href",3,""),a=oe(t,"fullWidth",3,!1);var i=z(),l=x(i);{var c=d=>{var f=Pc();f.__click=function(...h){t.onClick?.apply(this,h)};var v=b(f);tt(v,()=>t.children??yn),ce(()=>{Te(f,"href",s()),ae(f,1,se(["button","a",{dangerous:n()==="dangerous",secondary:n()==="secondary",fullWidth:a()}]),"svelte-twr8ib")}),y(d,f)},u=d=>{var f=Dc();f.__click=function(...h){t.onClick?.apply(this,h)};var v=b(f);tt(v,()=>t.children??yn),ce(()=>ae(f,1,se(["button",{dangerous:n()==="dangerous",secondary:n()==="secondary",fullWidth:a()}]),"svelte-twr8ib")),y(d,f)};j(l,d=>{r()==="a"?d(c):d(u,!1)})}y(e,i)}Ue(["click"]);const Ac=(e,t)=>{o(t)&&o(t).scrollTo({top:0,behavior:"smooth"})};var Lc=H('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Add note</span>',1),xc=H('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span style="padding-left: 6px;">Import data</span>',1),Nc=H('<div class="emptyStore svelte-1deev2k"><div class="wrapperButtonsAdd svelte-1deev2k"><!></div> <div>or</div> <div class="wrapperButtonsAdd svelte-1deev2k"><!></div></div>'),Oc=H('<div class="emptyMessage svelte-1deev2k">No notes found</div>'),Mc=H('<div class="feed svelte-1deev2k"><ul class="svelte-1deev2k"></ul></div>'),Ic=H('<div class="wrapperButtonTop svelte-1deev2k"><button class="buttonTop svelte-1deev2k"><!> <svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></button></div>'),Rc=H('<div class="filter svelte-1deev2k"><div class="searchWrapper svelte-1deev2k"><!></div> <!></div> <div class="wrapperFeed svelte-1deev2k"><div class="wrapperContainer svelte-1deev2k"><!></div></div> <!>',1);function Bc(e,t){W(t,!0);let n=M(null),r=50,s=M(0),a=M(0),i=M(0),l=M(de([])),c=M(""),u=B(()=>Nn()?o(n):$r.ref),d=null,f=null,v=M(!1),h=0;const p=B(sl);xe(()=>{o(c),o(p),o(E),o(u)?.scrollTo(0,0)});const g=()=>{if(o(u)){const U=o(u).scrollTop||0;U===0?T(v,!1):!o(v)&&h>U?T(v,!0):o(v)&&h<U&&T(v,!1),h=U}},_=()=>{Ys(),d||(d=requestAnimationFrame(()=>{g();const U=o(u)?.scrollTop||0;T(i,U,!0);const te=Math.ceil(o(s)/r);T(a,Math.floor(U/(r*te))*(r*te)),d=null}))},w=()=>{f||(f=requestAnimationFrame(()=>{g(),T(s,window.innerHeight-180||0,!0);const U=o(u)?.scrollTop||0;T(i,U,!0);const te=Math.ceil(o(s)/r);T(a,Math.floor(U/(r*te))*(r*te)),f=null}))};be(()=>{w(),_()}),xe(()=>(o(u)?.addEventListener("scroll",_),window.addEventListener("resize",w),()=>{o(u)?.removeEventListener("scroll",_),window.removeEventListener("resize",w)}));const E=B(Bs);let m=B(Zs);xe(()=>{const U=[],te={};for(let _e=o(m).length-1;_e>=0;_e--){const ne=o(m)[_e];if(ne&&!(o(p).length&&o(p).some(me=>!ne.tags.includes(me)))&&!(o(c)&&!(ne.title.toLowerCase().includes(o(c).toLowerCase())||ne.url.toLowerCase().includes(o(c).toLowerCase())||ne.description.toLowerCase().includes(o(c).toLowerCase())))){if(ne.tags)for(const me of ne.tags)te[me]?te[me].connections++:te[me]={name:me,connections:1};U.push(ne)}}Ll(te),U.sort((_e,ne)=>{if(!_e||!ne)return 0;switch(o(E)){case"newest":return _e.createdAt>ne.createdAt?-1:1;case"oldest":return _e.createdAt<ne.createdAt?-1:1;case"AtoZ":return _e.title.localeCompare(ne.title);case"ZtoA":return ne.title.localeCompare(_e.title);default:return 0}}),T(l,U,!0)});const k=B(()=>o(l).length*r);let P=B(()=>{const U=Math.ceil(o(s)/r);let te=Math.floor(o(a)/r);return te=te-Math.min(te,U),o(l).slice(te,te+U*3)}),S=B(()=>r*Math.ceil(o(s)/r));const I=B(()=>o(a)-Math.min(o(a),o(S))),q=()=>{o(u)&&o(u).scrollTo({top:0,behavior:"smooth"})},K=()=>{const U=nt();U.includes("import")||U.push("import");const te=new URLSearchParams(N.search);return te.set("stackPages",U.join(",")),`${N.pathname}?${te}`};let $=B(()=>{const U=nt();U.includes("newNote")||U.push("newNote");const te=new URLSearchParams(N.search);return te.set("stackPages",U.join(",")),`${N.pathname}?${te}`}),G=B(K);const F=U=>{U.preventDefault(),He("newNote")},O=U=>{U.preventDefault(),He("import")};var D=Rc(),R=x(D),V=b(R),le=b(V);Zr(le,{onFocus:q,placeholder:"Search",get value(){return o(c)},set value(U){T(c,U,!0)}});var L=A(V,2);Tc(L,{});var ee=A(R,2),J=b(ee),Pe=b(J);{var je=U=>{vo(U)},en=U=>{var te=z(),_e=x(te);{var ne=Oe=>{var Me=Nc(),Je=b(Me),he=b(Je);Xt(he,{element:"a",get href(){return o($)},onClick:F,children:(we,dt)=>{var ie=Lc(),Ee=x(ie);ye(Ee,()=>({"--size":"24px","--color":"#b0b0b0"})),ge(Ee.lastChild,{name:"plus"}),y(we,ie)},$$slots:{default:!0}});var ze=A(Je,4),De=b(ze);Xt(De,{element:"a",get href(){return o(G)},onClick:O,children:(we,dt)=>{var ie=xc(),Ee=x(ie);ye(Ee,()=>({"--size":"18px","--color":"#b0b0b0"})),ge(Ee.lastChild,{name:"import"}),y(we,ie)},$$slots:{default:!0}}),y(Oe,Me)},me=Oe=>{var Me=z(),Je=x(Me);{var he=De=>{var we=Oc();y(De,we)},ze=De=>{var we=Mc(),dt=b(we);Dt(dt,23,()=>o(P),ie=>ie.id,(ie,Ee,Ze)=>{{let ft=B(()=>o(Ze)*r<o(i)-o(I)-r/2||o(Ze)*r>o(i)-o(I)+Math.floor(o(s)/r)*r),On=B(()=>(o(Ze)+3)*r<o(i)-o(I)-r/2||(o(Ze)+3)*r>o(i)-o(I)+Math.floor(o(s)/r)*r);gc(ie,{get focusHidden(){return o(ft)},get showMenuUp(){return o(On)},get note(){return o(Ee)}})}}),ce(ie=>{En(we,`min-height: ${ie??""}px`),En(dt,`transform: translateY(${o(I)??""}px);`)},[()=>Math.max((o(k)>o(s),o(k)),0)]),y(De,we)};j(Je,De=>{o(P).length===0?De(he):De(ze,!1)},!0)}y(Oe,Me)};j(_e,Oe=>{o(m).length===0?Oe(ne):Oe(me,!1)},!0)}y(U,te)};j(Pe,U=>{Pn()?U(en,!1):U(je)})}Fe(J,U=>T(n,U),()=>o(n));var mt=A(ee,2);{var tn=U=>{var te=Ic(),_e=b(te);_e.__click=[Ac,u];var ne=b(_e);Tn(ne,{children:(Oe,Me)=>{var Je=Xe("top");y(Oe,Je)}});var me=A(ne,2);ye(me,()=>({"--size":"22px"})),ge(me.lastChild,{name:"up"}),y(U,te)};j(mt,U=>{o(v)&&U(tn)})}y(e,D),Y()}Ue(["click"]);var Fc=H('<!> <div class="content svelte-cu0ar8"><!></div>',1);function Hc(e){var t=Fc(),n=x(t);jl(n,{});var r=A(n,2),s=b(r);Bc(s,{}),y(e,t)}var It=(e=>(e.Light="light",e.System="system",e.Dark="dark",e))(It||{});let ho=M(de(localStorage.getItem("colorScheme")||"system"));const Uc=e=>{localStorage.setItem("colorScheme",e),e==="system"?window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.dataset.colorScheme="dark":document.documentElement.dataset.colorScheme="light":document.documentElement.dataset.colorScheme=e,T(ho,e,!0)},jc=()=>o(ho);var zc=H('<div class="wrapper svelte-1elv5s4"><fieldset class="switcher svelte-1elv5s4"><legend class="vh svelte-1elv5s4">Color Scheme</legend> <input id="light" type="radio" aria-label="Light"/> <label for="light" title="Light" aria-label="Light"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <input id="system" type="radio" aria-label="System"/> <label for="system" title="System" aria-label="System"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <input id="dark" type="radio" aria-label="Dark"/> <label for="dark" title="Dark" aria-label="Dark"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <div class="wrapSwitcherStatus svelte-1elv5s4"><div class="switcherStatus svelte-1elv5s4"></div></div></fieldset></div>');function Vc(e,t){W(t,!0);const n=B(jc),r=_=>{const w=_.target.value;Uc(w)},s="color-scheme-switcher";var a=zc(),i=b(a),l=A(b(i),2);ae(l,1,se(["vh","input"]),"svelte-1elv5s4"),Te(l,"name",s),l.__change=r;var c=A(l,2);ae(c,1,se(["switcherButton","light"]),"svelte-1elv5s4");var u=b(c);ye(u,()=>({"--size":"20px"})),ge(u.lastChild,{name:"sun"});var d=A(c,2);ae(d,1,se(["vh","input"]),"svelte-1elv5s4"),Te(d,"name",s),d.__change=r;var f=A(d,2);ae(f,1,se(["switcherButton","system"]),"svelte-1elv5s4");var v=b(f);ye(v,()=>({"--size":"14px"})),ge(v.lastChild,{name:"a"});var h=A(f,2);ae(h,1,se(["vh","input"]),"svelte-1elv5s4"),Te(h,"name",s),h.__change=r;var p=A(h,2);ae(p,1,se(["switcherButton","dark"]),"svelte-1elv5s4");var g=b(p);return ye(g,()=>({"--size":"20px"})),ge(g.lastChild,{name:"moon"}),ce(()=>{Mr(l,It.Light),Ir(l,o(n)===It.Light),Mr(d,It.System),Ir(d,o(n)===It.System),Mr(h,It.Dark),Ir(h,o(n)===It.Dark)}),y(e,a),Y({handleChange:r})}Ue(["change"]);const qc=()=>{He("import")},Kc=()=>{He("export")},Wc=()=>{He("clearStorage")},Yc=()=>{He("accessKeys")};var Xc=H('<li class="svelte-1akkbl0"><button class="button svelte-1akkbl0"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1akkbl0">Access keys</span></button></li>'),Gc=H("<span> </span>"),Jc=H('<div class="svelte-1akkbl0"><!> <ul class="svelte-1akkbl0"><li class="svelte-1akkbl0"><button class="button svelte-1akkbl0"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1akkbl0">Import data</span></button></li> <li class="svelte-1akkbl0"><button class="button svelte-1akkbl0"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1akkbl0">Export data</span></button></li> <li class="svelte-1akkbl0"><button class="button svelte-1akkbl0"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1akkbl0">Clear storage</span></button></li> <!></ul> <div class="version svelte-1akkbl0"><!></div></div>');function Zc(e,t){W(t,!0);let n=M("");be(()=>{const C=new AbortController;return fetch("/build-metadata.json",{signal:C.signal}).then(P=>P.json()).then(P=>{T(n,`${P.buildHash}`)}),()=>{C.abort()}});let r=B(Al);var s=Jc(),a=b(s);Vc(a,{});var i=A(a,2),l=b(i),c=b(l);c.__click=[qc];var u=b(c);ye(u,()=>({"--size":"20px"})),ge(u.lastChild,{name:"import"});var d=A(l,2),f=b(d);f.__click=[Kc];var v=b(f);ye(v,()=>({"--size":"20px"})),ge(v.lastChild,{name:"export"});var h=A(d,2),p=b(h);p.__click=[Wc];var g=b(p);ye(g,()=>({"--size":"20px"})),ge(g.lastChild,{name:"trash"});var _=A(h,2);{var w=C=>{var P=Xc(),S=b(P);S.__click=[Yc];var I=b(S);ye(I,()=>({"--size":"20px"})),ge(I.lastChild,{name:"key"}),y(C,P)};j(_,C=>{o(r)&&C(w)})}var E=A(i,2),m=b(E);{var k=C=>{var P=Gc(),S=b(P);ce(I=>xn(S,`version: 0.0.1 build_date: "${I??""}" build_hash:
				${o(n)??""}`),[()=>new Date(1753327061483).toISOString().replaceAll("T"," ").replace(/\..*/,"")]),y(C,P)};j(m,C=>{o(n)&&C(k)})}y(e,s),Y()}Ue(["click"]);function Qc(e,t){W(t,!1);const n=()=>{Hs()},r=({title:s,url:a,description:i,tags:l})=>{Gl({title:s,url:a,description:i,tags:l.map(c=>c.trim())}),n()};$n(),co(e,{onSubmit:r}),Y()}var $c=H('<div class="content svelte-9hh95f"><p class="message svelte-9hh95f">use app</p> <div class="buttonContainer svelte-9hh95f"><div class="buttonContainerItem svelte-9hh95f"><!></div> <div class="buttonContainerItem svelte-9hh95f"><!></div></div></div>');function eu(e,t){W(t,!0);let n=M("idle");const r=()=>{T(n,"loading"),He("auth")},s=async()=>{T(n,"loading"),await Ql(),Fn(!1),Us()};xe(()=>{Fn(o(n)==="idle"||o(n)==="loading")}),be(()=>(Fn(!0),()=>{Fn(!1)}));var a=$c(),i=A(b(a),2),l=b(i),c=b(l);Xt(c,{onClick:r,fullWidth:!0,children:(f,v)=>{var h=Xe("with account");y(f,h)},$$slots:{default:!0}});var u=A(l,2),d=b(u);Xt(d,{onClick:s,fullWidth:!0,type:"secondary",children:(f,v)=>{var h=Xe("without account");y(f,h)},$$slots:{default:!0}}),y(e,a),Y()}var tu=H('<div class="content svelte-9hh95f"><p class="message svelte-9hh95f">sign in / sign up</p> <div class="buttonContainer svelte-9hh95f"><div class="buttonContainerItem svelte-9hh95f"><!></div> <div class="buttonContainerItem svelte-9hh95f"><!></div></div></div>');function nu(e,t){W(t,!1);const n=async()=>{He("signin")},r=async()=>{He("signup")};be(()=>(Fn(!0),Wa(!0),()=>{Wa(!1)})),$n();var s=tu(),a=A(b(s),2),i=b(a),l=b(i);Xt(l,{onClick:n,fullWidth:!0,children:(d,f)=>{var v=Xe("sign in");y(d,v)},$$slots:{default:!0}});var c=A(i,2),u=b(c);Xt(u,{onClick:r,fullWidth:!0,children:(d,f)=>{var v=Xe("sign up");y(d,v)},$$slots:{default:!0}}),y(e,s),Y()}var ru=H('<div class="svelte-t4bw1y"><!></div>');function Qe(e,t){W(t,!0);let n=M(null);be(()=>{o(n)&&(o(n).getBoundingClientRect(),o(n).style.opacity="1")});var r=ru(),s=b(r);tt(s,()=>t.children),Fe(r,a=>T(n,a),()=>o(n)),y(e,r),Y()}let po=M(200);const au=e=>{T(po,e,!0)},go=()=>o(po);var su=H('<div class="svelte-15yi6bk"><!></div>');function Ot(e,t){W(t,!0);const n=B(go);var r=su(),s=b(r);vo(s),ce(()=>En(r,`--height: ${o(n)}px`)),y(e,r),Y()}var ou=H('<div class="svelte-ndasxn"><p class="svelte-ndasxn">Something went wrong. Please reload the page</p> <!></div>');function Mt(e,t){W(t,!0);const n=B(go);var r=ou(),s=A(b(r),2);Xt(s,{onClick:()=>location.reload(),children:(a,i)=>{var l=Xe("Reload");y(a,l)},$$slots:{default:!0}}),ce(()=>En(r,`--height: ${o(n)}px`)),y(e,r),Y()}var iu=H('<div class="svelte-vixrsj"><!></div>');function $e(e,t){W(t,!0);let n;be(()=>{const a=new ResizeObserver(i=>{for(let l of i){const c=l.contentRect.height;au(c)}});return a.observe(n),()=>{a.unobserve(n),a.disconnect()}});var r=iu(),s=b(r);tt(s,()=>t.children),Fe(r,a=>n=a,()=>n),y(e,r),Y()}var lu=H("<!> <!>",1);function cu(e,t){W(t,!0);const n=(q,K=yn,ue)=>{var $=z(),G=x($);{var F=D=>{Qe(D,{children:(R,V)=>{$e(R,{children:(le,L)=>{Zc(le,{})},$$slots:{default:!0}})},$$slots:{default:!0}})},O=D=>{var R=z(),V=x(R);{var le=ee=>{Qe(ee,{children:(J,Pe)=>{$e(J,{children:(je,en)=>{Qc(je,{})},$$slots:{default:!0}})},$$slots:{default:!0}})},L=ee=>{var J=z(),Pe=x(J);{var je=mt=>{Qe(mt,{children:(tn,U)=>{var te=z(),_e=x(te);bt(_e,v,ne=>{Ot(ne,{})},(ne,me)=>{const Oe=B(()=>o(me).default);$e(ne,{children:(Me,Je)=>{var he=z(),ze=x(he);St(ze,()=>o(Oe),(De,we)=>{we(De,{})}),y(Me,he)},$$slots:{default:!0}})},ne=>{Mt(ne,{})}),y(tn,te)},$$slots:{default:!0}})},en=mt=>{var tn=z(),U=x(tn);{var te=ne=>{Qe(ne,{children:(me,Oe)=>{var Me=z(),Je=x(Me);bt(Je,h,he=>{Ot(he,{})},(he,ze)=>{const De=B(()=>o(ze).default);$e(he,{children:(we,dt)=>{var ie=z(),Ee=x(ie);St(Ee,()=>o(De),(Ze,ft)=>{ft(Ze,{})}),y(we,ie)},$$slots:{default:!0}})},he=>{Mt(he,{})}),y(me,Me)},$$slots:{default:!0}})},_e=ne=>{var me=z(),Oe=x(me);{var Me=he=>{Qe(he,{children:(ze,De)=>{var we=z(),dt=x(we);bt(dt,p,ie=>{Ot(ie,{})},(ie,Ee)=>{const Ze=B(()=>o(Ee).default);$e(ie,{children:(ft,On)=>{var vt=z(),nn=x(vt);St(nn,()=>o(Ze),(er,Mn)=>{Mn(er,{})}),y(ft,vt)},$$slots:{default:!0}})},ie=>{Mt(ie,{})}),y(ze,we)},$$slots:{default:!0}})},Je=he=>{var ze=z(),De=x(ze);{var we=ie=>{Qe(ie,{children:(Ee,Ze)=>{$e(Ee,{children:(ft,On)=>{eu(ft,{})},$$slots:{default:!0}})},$$slots:{default:!0}})},dt=ie=>{var Ee=z(),Ze=x(Ee);{var ft=vt=>{Qe(vt,{children:(nn,er)=>{$e(nn,{children:(Mn,Ca)=>{nu(Mn,{})},$$slots:{default:!0}})},$$slots:{default:!0}})},On=vt=>{var nn=z(),er=x(nn);{var Mn=rn=>{Qe(rn,{children:(tr,Pa)=>{var nr=z(),Cr=x(nr);bt(Cr,g,Ve=>{Ot(Ve,{})},(Ve,an)=>{const rr=B(()=>o(an).default);$e(Ve,{children:(sn,ar)=>{var Ae=z(),wt=x(Ae);St(wt,()=>o(rr),(on,yt)=>{yt(on,{})}),y(sn,Ae)},$$slots:{default:!0}})},Ve=>{Mt(Ve,{})}),y(tr,nr)},$$slots:{default:!0}})},Ca=rn=>{var tr=z(),Pa=x(tr);{var nr=Ve=>{Qe(Ve,{children:(an,rr)=>{var sn=z(),ar=x(sn);bt(ar,_,Ae=>{Ot(Ae,{})},(Ae,wt)=>{const on=B(()=>o(wt).default);$e(Ae,{children:(yt,ln)=>{var rt=z(),sr=x(rt);St(sr,()=>o(on),(cn,In)=>{In(cn,{})}),y(yt,rt)},$$slots:{default:!0}})},Ae=>{Mt(Ae,{})}),y(an,sn)},$$slots:{default:!0}})},Cr=Ve=>{var an=z(),rr=x(an);{var sn=Ae=>{Qe(Ae,{children:(wt,on)=>{var yt=z(),ln=x(yt);bt(ln,w,rt=>{Ot(rt,{})},(rt,sr)=>{const cn=B(()=>o(sr).default);$e(rt,{children:(In,un)=>{var or=z(),Pr=x(or);St(Pr,()=>o(cn),(Dr,Da)=>{Da(Dr,{})}),y(In,or)},$$slots:{default:!0}})},rt=>{Mt(rt,{})}),y(wt,yt)},$$slots:{default:!0}})},ar=Ae=>{var wt=z(),on=x(wt);{var yt=ln=>{Qe(ln,{children:(rt,sr)=>{var cn=z(),In=x(cn);bt(In,E,un=>{Ot(un,{})},(un,or)=>{const Pr=B(()=>o(or).default);$e(un,{children:(Dr,Da)=>{var Aa=z(),_o=x(Aa);St(_o,()=>o(Pr),(mo,wo)=>{wo(mo,{})}),y(Dr,Aa)},$$slots:{default:!0}})},un=>{Mt(un,{})}),y(rt,cn)},$$slots:{default:!0}})};j(on,ln=>{K()==="confirmAccessKey"&&ln(yt)},!0)}y(Ae,wt)};j(rr,Ae=>{K()==="accessKeys"?Ae(sn):Ae(ar,!1)},!0)}y(Ve,an)};j(Pa,Ve=>{K()==="signin"?Ve(nr):Ve(Cr,!1)},!0)}y(rn,tr)};j(er,rn=>{K()==="signup"?rn(Mn):rn(Ca,!1)},!0)}y(vt,nn)};j(Ze,vt=>{K()==="auth"?vt(ft):vt(On,!1)},!0)}y(ie,Ee)};j(De,ie=>{K()==="start"?ie(we):ie(dt,!1)},!0)}y(he,ze)};j(Oe,he=>{K()==="clearStorage"?he(Me):he(Je,!1)},!0)}y(ne,me)};j(U,ne=>{K()==="export"?ne(te):ne(_e,!1)},!0)}y(mt,tn)};j(Pe,mt=>{K()==="import"?mt(je):mt(en,!1)},!0)}y(ee,J)};j(V,ee=>{K()==="newNote"?ee(le):ee(L,!1)},!0)}y(D,R)};j(G,D=>{K()==="settings"?D(F):D(O,!1)})}y(q,$)};let r=B(zs),s=B(Pn),a=null,i=null,l=null,c=null,u=null,d=null,f=null;function v(){return a||(a=kt(()=>import("./ImportData-vHlRvad7.js"),__vite__mapDeps([2,3]))),a}function h(){return i||(i=kt(()=>import("./ExportData-CkEfgTlU.js"),__vite__mapDeps([4,5]))),i}function p(){return l||(l=kt(()=>import("./ClearStore-BgTwls-K.js"),__vite__mapDeps([6,7]))),l}function g(){return c||(c=kt(()=>import("./Signup-CyNeK-sI.js"),__vite__mapDeps([8,9,10]))),c}function _(){return u||(u=kt(()=>import("./Signin-DXH5bIvN.js"),__vite__mapDeps([11,9,10]))),u}function w(){return d||(d=kt(()=>import("./AccessKeys-CXZJdeqA.js"),__vite__mapDeps([12,9,13]))),d}function E(){return f||(f=kt(()=>import("./ConfirmAccessKey-BsLff0l2.js"),__vite__mapDeps([14,9,15]))),f}var m=lu(),k=x(m);{var C=q=>{Hc(q)};j(k,q=>{o(s)&&q(C)})}var P=A(k,2);{var S=q=>{var K=z(),ue=x(K);Dt(ue,17,()=>o(r),Bi,($,G,F)=>{{let O=B(()=>F!==o(r).length-1&&!!o(r)[F+1]?.shown);Ya($,{get shown(){return o(G).shown},get hidden(){return o(O)},isLastDialog:F===0,children:(D,R)=>{n(D,()=>o(G).page)},$$slots:{default:!0}})}}),y(q,K)},I=q=>{var K=z(),ue=x(K);{var $=G=>{{let F=B(()=>o(r).length===1);Ya(G,{onBack:()=>js(),get shown(){return o(r)[o(r).length-1].shown},hidden:!1,get isLastDialog(){return o(F)},children:(O,D)=>{n(O,()=>o(r)[o(r).length-1].page)},$$slots:{default:!0}})}};j(ue,G=>{o(r).length>0&&G($)},!0)}y(q,K)};j(P,q=>{Nn()?q(S):q(I,!1)})}y(e,m),Y()}function uu(){const e=navigator.userAgent;if(!(/iPad|iPhone|iPod/.test(e)&&!window.MSStream))return!1;const n=/Safari/.test(e)&&!/Chrome/.test(e)&&!/CriOS/.test(e)&&!/FxiOS/.test(e),r=/Macintosh/.test(e)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>1;return!!n||!!r}const du=uu();function fu(e,t){W(t,!1),be(()=>{Fr(),document.addEventListener("focusin",Fr),document.addEventListener("focusout",Fr),document.addEventListener("touchmove",function(n){ma()&&du&&n.preventDefault()},{passive:!1})}),$n(),Y()}function vu(e,t){W(t,!1);let n=0;be(()=>{document.querySelector("div"),document.addEventListener("touchstart",r=>{n=r.touches[0].clientX},{passive:!1}),document.addEventListener("touchmove",r=>{const a=r.touches[0].clientX-n;(n<50&&a>0||n>window.innerWidth-50&&a<0)&&r.preventDefault()},{passive:!1}),document.addEventListener("touchend",()=>{n=0}),document.addEventListener("touchcancel",()=>{n=0})}),$n(),Y()}var hu=H('<!> <!> <!> <main><!> <div class="container svelte-ngsolt"><!></div></main>',1);function pu(e,t){W(t,!0),be(async()=>{await new Promise(h=>setTimeout(h,100)),await Ei(),Ce.working=!0});let n=B(()=>nt().length>0),r=B(Pn);var s=hu(),a=x(s);vu(a,{});var i=A(a,2);fu(i,{});var l=A(i,2);Zi(l,{});var c=A(l,2),u=b(c);{var d=h=>{fl(h,{})};j(u,h=>{o(r)&&h(d)})}var f=A(u,2),v=b(f);cu(v,{}),Fe(c,h=>$r.ref=h,()=>$r?.ref),ce(()=>{En(c,`--swiping-ratio: ${Ce.swipingRatio}; --transition-timing-default: ${Ce.duration}s;`),ae(c,1,se(["main",{isAnimationOn:Ce.working&&!Ce.isSwiping,open:o(n)}]),"svelte-ngsolt")}),y(e,s),Y()}window.addEventListener("unhandledrejection",e=>{alert("Error: "+e.reason.message)});window.isUnsupportedBrowser||Mi(pu,{target:document.getElementById("app")});export{He as $,mu as A,Xt as B,oe as C,Dt as D,Te as E,Mr as F,Ir as G,xn as H,En as I,Cu as J,Zs as K,vo as L,Tu as M,wu as N,Pu as O,de as P,Wa as Q,bu as R,Au as S,yu as T,Su as U,B as V,go as W,ye as X,ge as Y,Tn as Z,Bi as _,M as a,nt as a0,N as a1,Hr as a2,Al as a3,ku as a4,js as a5,Hs as a6,Ce as a7,tt as a8,ao as a9,y as b,b as c,Y as d,A as e,H as f,o as g,x as h,j as i,Nn as j,z as k,Fe as l,T as m,ce as n,be as o,W as p,ae as q,se as r,Fn as s,Xe as t,xe as u,Vn as v,Ue as w,Du as x,Eu as y,Us as z};
