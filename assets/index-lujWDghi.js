const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/DesktopDialog-X_Bmgx6R.js","assets/DesktopDialog-D8zTl_PA.css","assets/ImportData-3tPY8Pdg.js","assets/ImportData-CZGzVRRc.css","assets/ExportData-B1ExE-ie.js","assets/ExportData-SlkOBNhU.css","assets/ClearStore-Trw3zX-w.js","assets/ClearStore-DiVqV26R.css","assets/Signup-5g8IHCyR.js","assets/api-7nXQQ8YG.js","assets/Signup-CnX7iJxK.css","assets/Signin-ChCrOoHE.js","assets/AccessKeys-Juf9M9sq.js","assets/AccessKeys-DF5NA1tk.css","assets/ConfirmAccessKey-3-zU7KJf.js","assets/ConfirmAccessKey-BEOXyioc.css"])))=>i.map(i=>d[i]);
var ko=Object.defineProperty;var Aa=e=>{throw TypeError(e)};var Eo=(e,t,n)=>t in e?ko(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Fn=(e,t,n)=>Eo(e,typeof t!="symbol"?t+"":t,n),Ir=(e,t,n)=>t.has(e)||Aa("Cannot "+n);var ne=(e,t,n)=>(Ir(e,t,"read from private field"),n?n.call(e):t.get(e)),Ie=(e,t,n)=>t.has(e)?Aa("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Xe=(e,t,n,r)=>(Ir(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Ft=(e,t,n)=>(Ir(e,t,"access private method"),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();const Ja=!1;var ra=Array.isArray,To=Array.prototype.indexOf,aa=Array.from,zr=Object.defineProperty,pn=Object.getOwnPropertyDescriptor,Za=Object.getOwnPropertyDescriptors,Co=Object.prototype,Po=Array.prototype,sa=Object.getPrototypeOf,La=Object.isExtensible;const Qt=()=>{};function xo(e){return typeof e?.then=="function"}function Do(e){return e()}function mr(e){for(var t=0;t<e.length;t++)e[t]()}function Ao(){var e,t,n=new Promise((r,s)=>{e=r,t=s});return{promise:n,resolve:e,reject:t}}function Lo(e,t,n=!1){return e===void 0?n?t():t:e}const Ue=2,oa=4,kr=8,Qn=16,mt=32,nn=64,Qa=128,Ze=256,wr=512,Ce=1024,Qe=2048,Ot=4096,at=8192,rn=16384,ia=32768,$n=65536,Na=1<<17,No=1<<18,la=1<<19,ca=1<<20,Vr=1<<21,ua=1<<22,Wt=1<<23,Yt=Symbol("$state"),Oo=Symbol("legacy props"),Mo=Symbol(""),da=new class extends Error{constructor(){super(...arguments);Fn(this,"name","StaleReactionError");Fn(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function Io(){throw new Error("https://svelte.dev/e/await_outside_boundary")}function Ro(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Bo(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function qo(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Fo(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Ho(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Uo(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function jo(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function zo(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Vo(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Ko(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}const Er=1,Tr=2,$a=4,Wo=8,Yo=16,Xo=1,Go=2,Jo=4,Zo=8,Qo=16,$o=1,ei=2,me=Symbol(),ti="http://www.w3.org/1999/xhtml";let ni=!1;function es(e){return e===this.v}function ri(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function ts(e){return!ri(e,this.v)}let Nn=!1,ai=!1;function si(){Nn=!0}let _e=null;function kn(e){_e=e}function Y(e,t=!1,n){_e={p:_e,c:null,e:null,s:e,x:null,l:Nn&&!t?{s:null,u:null,$:[]}:null}}function X(e){var t=_e,n=t.e;if(n!==null){t.e=null;for(var r of n)ps(r)}return e!==void 0&&(t.x=e),_e=t.p,e??{}}function an(){return!Nn||_e!==null&&_e.l===null}const oi=new WeakMap;function ii(e){var t=Q;if(t===null)return J.f|=Wt,e;if((t.f&ia)===0){if((t.f&Qa)===0)throw!t.parent&&e instanceof Error&&ns(e),e;t.b.error(e)}else fa(e,t)}function fa(e,t){for(;t!==null;){if((t.f&Qa)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e instanceof Error&&ns(e),e}function ns(e){const t=oi.get(e);t&&(zr(e,"message",{value:t.message}),zr(e,"stack",{value:t.stack}))}let Vn=[],Kr=[];function rs(){var e=Vn;Vn=[],mr(e)}function li(){var e=Kr;Kr=[],mr(e)}function Cr(e){Vn.length===0&&queueMicrotask(rs),Vn.push(e)}function ci(){Vn.length>0&&rs(),Kr.length>0&&li()}function ui(){for(var e=Q.b;e!==null&&!e.has_pending_snippet();)e=e.parent;return e===null&&Io(),e}function er(e){var t=Ue|Qe,n=J!==null&&(J.f&Ue)!==0?J:null;return Q===null||n!==null&&(n.f&Ze)!==0?t|=Ze:Q.f|=la,{ctx:_e,deps:null,effects:null,equals:es,f:t,fn:e,reactions:null,rv:0,v:me,wv:0,parent:n??Q,ac:null}}function di(e,t){let n=Q;n===null&&Bo();var r=n.b,s=void 0,a=tn(me),i=null,l=!J;return ki(()=>{try{var c=e()}catch(h){c=Promise.reject(h)}var u=()=>c;s=i?.then(u,u)??Promise.resolve(c),i=s;var d=ie,v=r.pending;l&&(r.update_pending_count(1),v||d.increment());const f=(h,g=void 0)=>{i=null,v||d.activate(),g?g!==da&&(a.f|=Wt,Dt(a,g)):((a.f&Wt)!==0&&(a.f^=Wt),Dt(a,h)),l&&(r.update_pending_count(-1),v||d.decrement()),os()};if(s.then(f,h=>f(null,h||"unknown")),d)return()=>{queueMicrotask(()=>d.neuter())}}),new Promise(c=>{function u(d){function v(){d===s?c(a):u(s)}d.then(v,v)}u(s)})}function j(e){const t=er(e);return Ss(t),t}function Pr(e){const t=er(e);return t.equals=ts,t}function as(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)vt(t[n])}}function fi(e){for(var t=e.parent;t!==null;){if((t.f&Ue)===0)return t;t=t.parent}return null}function va(e){var t,n=Q;ht(fi(e));try{as(e),t=Cs(e)}finally{ht(n)}return t}function ss(e){var t=va(e);if(e.equals(t)||(e.v=t,e.wv=Es()),!on)if(En!==null)En.set(e,e.v);else{var n=(Pt||(e.f&Ze)!==0)&&e.deps!==null?Ot:Ce;Re(e,n)}}function vi(e,t,n){const r=an()?er:Pr;if(t.length===0){n(e.map(r));return}var s=ie,a=Q,i=hi(),l=ui();Promise.all(t.map(c=>di(c))).then(c=>{s?.activate(),i();try{n([...e.map(r),...c])}catch(u){(a.f&rn)===0&&fa(u,a)}s?.deactivate(),os()}).catch(c=>{l.error(c)})}function hi(){var e=Q,t=J,n=_e;return function(){ht(e),$e(t),kn(n)}}function os(){ht(null),$e(null),kn(null)}const Hn=new Set;let ie=null,vr=null,En=null,Oa=new Set,yr=[];function is(){const e=yr.shift();yr.length>0&&queueMicrotask(is),e()}let $t=[],xr=null,Wr=!1,hr=!1;var wn,yn,Tt,Xn,Gn,Vt,bn,Kt,Ct,Sn,Jn,Zn,st,ls,gr,Yr;const Sr=class Sr{constructor(){Ie(this,st);Fn(this,"current",new Map);Ie(this,wn,new Map);Ie(this,yn,new Set);Ie(this,Tt,0);Ie(this,Xn,null);Ie(this,Gn,!1);Ie(this,Vt,[]);Ie(this,bn,[]);Ie(this,Kt,[]);Ie(this,Ct,[]);Ie(this,Sn,[]);Ie(this,Jn,[]);Ie(this,Zn,[]);Fn(this,"skipped_effects",new Set)}process(t){$t=[],vr=null;var n=null;if(Hn.size>1){n=new Map,En=new Map;for(const[a,i]of this.current)n.set(a,{v:a.v,wv:a.wv}),a.v=i;for(const a of Hn)if(a!==this)for(const[i,l]of ne(a,wn))n.has(i)||(n.set(i,{v:i.v,wv:i.wv}),i.v=l)}for(const a of t)Ft(this,st,ls).call(this,a);if(ne(this,Vt).length===0&&ne(this,Tt)===0){Ft(this,st,Yr).call(this);var r=ne(this,Kt),s=ne(this,Ct);Xe(this,Kt,[]),Xe(this,Ct,[]),Xe(this,Sn,[]),vr=ie,ie=null,Ma(r),Ma(s),ie===null?ie=this:Hn.delete(this),ne(this,Xn)?.resolve()}else Ft(this,st,gr).call(this,ne(this,Kt)),Ft(this,st,gr).call(this,ne(this,Ct)),Ft(this,st,gr).call(this,ne(this,Sn));if(n){for(const[a,{v:i,wv:l}]of n)a.wv<=l&&(a.v=i);En=null}for(const a of ne(this,Vt))zn(a);for(const a of ne(this,bn))zn(a);Xe(this,Vt,[]),Xe(this,bn,[])}capture(t,n){ne(this,wn).has(t)||ne(this,wn).set(t,n),this.current.set(t,t.v)}activate(){ie=this}deactivate(){ie=null,vr=null;for(const t of Oa)if(Oa.delete(t),t(),ie!==null)break}neuter(){Xe(this,Gn,!0)}flush(){$t.length>0?us():Ft(this,st,Yr).call(this),ie===this&&(ne(this,Tt)===0&&Hn.delete(this),this.deactivate())}increment(){Xe(this,Tt,ne(this,Tt)+1)}decrement(){if(Xe(this,Tt,ne(this,Tt)-1),ne(this,Tt)===0){for(const t of ne(this,Jn))Re(t,Qe),en(t);for(const t of ne(this,Zn))Re(t,Ot),en(t);Xe(this,Kt,[]),Xe(this,Ct,[]),this.flush()}else this.deactivate()}add_callback(t){ne(this,yn).add(t)}settled(){return(ne(this,Xn)??Xe(this,Xn,Ao())).promise}static ensure(){if(ie===null){const t=ie=new Sr;Hn.add(ie),hr||Sr.enqueue(()=>{ie===t&&t.flush()})}return ie}static enqueue(t){yr.length===0&&queueMicrotask(is),yr.unshift(t)}};wn=new WeakMap,yn=new WeakMap,Tt=new WeakMap,Xn=new WeakMap,Gn=new WeakMap,Vt=new WeakMap,bn=new WeakMap,Kt=new WeakMap,Ct=new WeakMap,Sn=new WeakMap,Jn=new WeakMap,Zn=new WeakMap,st=new WeakSet,ls=function(t){t.f^=Ce;for(var n=t.first;n!==null;){var r=n.f,s=(r&(mt|nn))!==0,a=s&&(r&Ce)!==0,i=a||(r&at)!==0||this.skipped_effects.has(n);if(!i&&n.fn!==null){if(s)n.f^=Ce;else if((r&Ce)===0)if((r&oa)!==0)ne(this,Ct).push(n);else if((r&ua)!==0){var l=n.b?.pending?ne(this,bn):ne(this,Vt);l.push(n)}else Ar(n)&&((n.f&Qn)!==0&&ne(this,Sn).push(n),zn(n));var c=n.first;if(c!==null){n=c;continue}}var u=n.parent;for(n=n.next;n===null&&u!==null;)n=u.next,u=u.parent}},gr=function(t){for(const n of t)((n.f&Qe)!==0?ne(this,Jn):ne(this,Zn)).push(n),Re(n,Ce);t.length=0},Yr=function(){if(!ne(this,Gn))for(const t of ne(this,yn))t();ne(this,yn).clear()};let Kn=Sr;function cs(e){var t=hr;hr=!0;try{for(var n;;){if(ci(),$t.length===0&&(ie?.flush(),$t.length===0))return xr=null,n;us()}}finally{hr=t}}function us(){var e=mn;Wr=!0;try{var t=0;for(Ra(!0);$t.length>0;){var n=Kn.ensure();if(t++>1e3){var r,s;gi()}n.process($t),Xt.clear()}}finally{Wr=!1,Ra(e),xr=null}}function gi(){try{Uo()}catch(e){fa(e,xr)}}function Ma(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if((r.f&(rn|at))===0&&Ar(r)){var s=ie?ie.current.size:0;if(zn(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?ws(r):r.fn=null),ie!==null&&ie.current.size>s&&(r.f&ca)!==0)break}}for(;n<t;)en(e[n++])}}function en(e){for(var t=xr=e;t.parent!==null;){t=t.parent;var n=t.f;if(Wr&&t===Q&&(n&Qn)!==0)return;if((n&(nn|mt))!==0){if((n&Ce)===0)return;t.f^=Ce}}$t.push(t)}const Xt=new Map;function tn(e,t){var n={f:0,v:e,reactions:null,equals:es,rv:0,wv:0};return n}function R(e,t){const n=tn(e);return Ss(n),n}function Xr(e,t=!1,n=!0){var s;const r=tn(e);return t||(r.equals=ts),Nn&&n&&_e!==null&&_e.l!==null&&((s=_e.l).s??(s.s=[])).push(r),r}function T(e,t,n=!1){J!==null&&(!ut||(J.f&Na)!==0)&&an()&&(J.f&(Ue|Qn|ua|Na))!==0&&!_t?.includes(e)&&Ko();let r=n?ge(t):t;return Dt(e,r)}function Dt(e,t){if(!e.equals(t)){var n=e.v;on?Xt.set(e,t):Xt.set(e,n),e.v=t;var r=Kn.ensure();r.capture(e,n),(e.f&Ue)!==0&&((e.f&Qe)!==0&&va(e),Re(e,(e.f&Ze)===0?Ce:Ot)),e.wv=Es(),ds(e,Qe),an()&&Q!==null&&(Q.f&Ce)!==0&&(Q.f&(mt|nn))===0&&(Je===null?Ci([e]):Je.push(e))}return t}function Rr(e){T(e,e.v+1)}function ds(e,t){var n=e.reactions;if(n!==null)for(var r=an(),s=n.length,a=0;a<s;a++){var i=n[a],l=i.f;if(!(!r&&i===Q)){var c=(l&Qe)===0;c&&Re(i,t),(l&Ue)!==0?ds(i,Ot):c&&en(i)}}}function ge(e){if(typeof e!="object"||e===null||Yt in e)return e;const t=sa(e);if(t!==Co&&t!==Po)return e;var n=new Map,r=ra(e),s=R(0),a=Jt,i=l=>{if(Jt===a)return l();var c=J,u=Jt;$e(null),qa(a);var d=l();return $e(c),qa(u),d};return r&&n.set("length",R(e.length)),new Proxy(e,{defineProperty(l,c,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&zo();var d=n.get(c);return d===void 0?d=i(()=>{var v=R(u.value);return n.set(c,v),v}):T(d,u.value,!0),!0},deleteProperty(l,c){var u=n.get(c);if(u===void 0){if(c in l){const d=i(()=>R(me));n.set(c,d),Rr(s)}}else T(u,me),Rr(s);return!0},get(l,c,u){if(c===Yt)return e;var d=n.get(c),v=c in l;if(d===void 0&&(!v||pn(l,c)?.writable)&&(d=i(()=>{var h=ge(v?l[c]:me),g=R(h);return g}),n.set(c,d)),d!==void 0){var f=o(d);return f===me?void 0:f}return Reflect.get(l,c,u)},getOwnPropertyDescriptor(l,c){var u=Reflect.getOwnPropertyDescriptor(l,c);if(u&&"value"in u){var d=n.get(c);d&&(u.value=o(d))}else if(u===void 0){var v=n.get(c),f=v?.v;if(v!==void 0&&f!==me)return{enumerable:!0,configurable:!0,value:f,writable:!0}}return u},has(l,c){if(c===Yt)return!0;var u=n.get(c),d=u!==void 0&&u.v!==me||Reflect.has(l,c);if(u!==void 0||Q!==null&&(!d||pn(l,c)?.writable)){u===void 0&&(u=i(()=>{var f=d?ge(l[c]):me,h=R(f);return h}),n.set(c,u));var v=o(u);if(v===me)return!1}return d},set(l,c,u,d){var v=n.get(c),f=c in l;if(r&&c==="length")for(var h=u;h<v.v;h+=1){var g=n.get(h+"");g!==void 0?T(g,me):h in l&&(g=i(()=>R(me)),n.set(h+"",g))}if(v===void 0)(!f||pn(l,c)?.writable)&&(v=i(()=>R(void 0)),T(v,ge(u)),n.set(c,v));else{f=v.v!==me;var p=i(()=>ge(u));T(v,p)}var _=Reflect.getOwnPropertyDescriptor(l,c);if(_?.set&&_.set.call(d,u),!f){if(r&&typeof c=="string"){var y=n.get("length"),k=Number(c);Number.isInteger(k)&&k>=y.v&&T(y,k+1)}Rr(s)}return!0},ownKeys(l){o(s);var c=Reflect.ownKeys(l).filter(v=>{var f=n.get(v);return f===void 0||f.v!==me});for(var[u,d]of n)d.v!==me&&!(u in l)&&c.push(u);return c},setPrototypeOf(){Vo()}})}var Ia,fs,vs,hs;function pi(){if(Ia===void 0){Ia=window,fs=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;vs=pn(t,"firstChild").get,hs=pn(t,"nextSibling").get,La(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),La(n)&&(n.__t=void 0)}}function sn(e=""){return document.createTextNode(e)}function Tn(e){return vs.call(e)}function Dr(e){return hs.call(e)}function b(e,t){return Tn(e)}function N(e,t){{var n=Tn(e);return n instanceof Comment&&n.data===""?Dr(n):n}}function x(e,t=1,n=!1){let r=e;for(;t--;)r=Dr(r);return r}function _i(e){e.textContent=""}function ha(){return!1}function gs(e){Q===null&&J===null&&Ho(),J!==null&&(J.f&Ze)!==0&&Q===null&&Fo(),on&&qo()}function mi(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function gt(e,t,n,r=!0){var s=Q;s!==null&&(s.f&at)!==0&&(e|=at);var a={ctx:_e,deps:null,nodes_start:null,nodes_end:null,f:e|Qe,first:null,fn:t,last:null,next:null,parent:s,b:s&&s.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{zn(a),a.f|=ia}catch(c){throw vt(a),c}else t!==null&&en(a);var i=n&&a.deps===null&&a.first===null&&a.nodes_start===null&&a.teardown===null&&(a.f&la)===0;if(!i&&r&&(s!==null&&mi(a,s),J!==null&&(J.f&Ue)!==0&&(e&nn)===0)){var l=J;(l.effects??(l.effects=[])).push(a)}return a}function wi(e){const t=gt(kr,null,!1);return Re(t,Ce),t.teardown=e,t}function Le(e){gs();var t=Q.f,n=!J&&(t&mt)!==0&&(t&ia)===0;if(n){var r=_e;(r.e??(r.e=[])).push(e)}else return ps(e)}function ps(e){return gt(oa|ca,e,!1)}function yi(e){return gs(),gt(kr|ca,e,!0)}function bi(e){Kn.ensure();const t=gt(nn,e,!0);return(n={})=>new Promise(r=>{n.outro?Gt(t,()=>{vt(t),r(void 0)}):(vt(t),r(void 0))})}function Si(e){return gt(oa,e,!1)}function ki(e){return gt(ua|la,e,!0)}function ga(e,t=0){return gt(kr|t,e,!0)}function le(e,t=[],n=[]){vi(t,n,r=>{gt(kr,()=>e(...r.map(o)),!0)})}function tr(e,t=0){var n=gt(Qn|t,e,!0);return n}function dt(e,t=!0){return gt(mt,e,!0,t)}function _s(e){var t=e.teardown;if(t!==null){const n=on,r=J;Ba(!0),$e(null);try{t.call(null)}finally{Ba(n),$e(r)}}}function ms(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){n.ac?.abort(da);var r=n.next;(n.f&nn)!==0?n.parent=null:vt(n,t),n=r}}function Ei(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&mt)===0&&vt(t),t=n}}function vt(e,t=!0){var n=!1;(t||(e.f&No)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(Ti(e.nodes_start,e.nodes_end),n=!0),ms(e,t&&!n),br(e,0),Re(e,rn);var r=e.transitions;if(r!==null)for(const a of r)a.stop();_s(e);var s=e.parent;s!==null&&s.first!==null&&ws(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function Ti(e,t){for(;e!==null;){var n=e===t?null:Dr(e);e.remove(),e=n}}function ws(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function Gt(e,t){var n=[];pa(e,n,!0),ys(n,()=>{vt(e),t&&t()})}function ys(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var s of e)s.out(r)}else t()}function pa(e,t,n){if((e.f&at)===0){if(e.f^=at,e.transitions!==null)for(const i of e.transitions)(i.is_global||n)&&t.push(i);for(var r=e.first;r!==null;){var s=r.next,a=(r.f&$n)!==0||(r.f&mt)!==0;pa(r,t,a?n:!1),r=s}}}function _n(e){bs(e,!0)}function bs(e,t){if((e.f&at)!==0){e.f^=at,(e.f&Ce)===0&&(Re(e,Qe),en(e));for(var n=e.first;n!==null;){var r=n.next,s=(n.f&$n)!==0||(n.f&mt)!==0;bs(n,s?t:!1),n=r}if(e.transitions!==null)for(const a of e.transitions)(a.is_global||t)&&a.in()}}let mn=!1;function Ra(e){mn=e}let on=!1;function Ba(e){on=e}let J=null,ut=!1;function $e(e){J=e}let Q=null;function ht(e){Q=e}let _t=null;function Ss(e){J!==null&&(_t===null?_t=[e]:_t.push(e))}let Ae=null,He=0,Je=null;function Ci(e){Je=e}let ks=1,Wn=0,Jt=Wn;function qa(e){Jt=e}let Pt=!1;function Es(){return++ks}function Ar(e){var t=e.f;if((t&Qe)!==0)return!0;if((t&Ot)!==0){var n=e.deps,r=(t&Ze)!==0;if(n!==null){var s,a,i=(t&wr)!==0,l=r&&Q!==null&&!Pt,c=n.length;if((i||l)&&(Q===null||(Q.f&rn)===0)){var u=e,d=u.parent;for(s=0;s<c;s++)a=n[s],(i||!a?.reactions?.includes(u))&&(a.reactions??(a.reactions=[])).push(u);i&&(u.f^=wr),l&&d!==null&&(d.f&Ze)===0&&(u.f^=Ze)}for(s=0;s<c;s++)if(a=n[s],Ar(a)&&ss(a),a.wv>e.wv)return!0}(!r||Q!==null&&!Pt)&&Re(e,Ce)}return!1}function Ts(e,t,n=!0){var r=e.reactions;if(r!==null&&!_t?.includes(e))for(var s=0;s<r.length;s++){var a=r[s];(a.f&Ue)!==0?Ts(a,t,!1):t===a&&(n?Re(a,Qe):(a.f&Ce)!==0&&Re(a,Ot),en(a))}}function Cs(e){var g;var t=Ae,n=He,r=Je,s=J,a=Pt,i=_t,l=_e,c=ut,u=Jt,d=e.f;Ae=null,He=0,Je=null,Pt=(d&Ze)!==0&&(ut||!mn||J===null),J=(d&(mt|nn))===0?e:null,_t=null,kn(e.ctx),ut=!1,Jt=++Wn,e.ac!==null&&(e.ac.abort(da),e.ac=null);try{e.f|=Vr;var v=(0,e.fn)(),f=e.deps;if(Ae!==null){var h;if(br(e,He),f!==null&&He>0)for(f.length=He+Ae.length,h=0;h<Ae.length;h++)f[He+h]=Ae[h];else e.deps=f=Ae;if(!Pt||(d&Ue)!==0&&e.reactions!==null)for(h=He;h<f.length;h++)((g=f[h]).reactions??(g.reactions=[])).push(e)}else f!==null&&He<f.length&&(br(e,He),f.length=He);if(an()&&Je!==null&&!ut&&f!==null&&(e.f&(Ue|Ot|Qe))===0)for(h=0;h<Je.length;h++)Ts(Je[h],e);return s!==null&&s!==e&&(Wn++,Je!==null&&(r===null?r=Je:r.push(...Je))),(e.f&Wt)!==0&&(e.f^=Wt),v}catch(p){return ii(p)}finally{e.f^=Vr,Ae=t,He=n,Je=r,J=s,Pt=a,_t=i,kn(l),ut=c,Jt=u}}function Pi(e,t){let n=t.reactions;if(n!==null){var r=To.call(n,e);if(r!==-1){var s=n.length-1;s===0?n=t.reactions=null:(n[r]=n[s],n.pop())}}n===null&&(t.f&Ue)!==0&&(Ae===null||!Ae.includes(t))&&(Re(t,Ot),(t.f&(Ze|wr))===0&&(t.f^=wr),as(t),br(t,0))}function br(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)Pi(e,n[r])}function zn(e){var t=e.f;if((t&rn)===0){Re(e,Ce);var n=Q,r=mn;Q=e,mn=!0;try{(t&Qn)!==0?Ei(e):ms(e),_s(e);var s=Cs(e);e.teardown=typeof s=="function"?s:null,e.wv=ks;var a;Ja&&ai&&(e.f&Qe)!==0&&e.deps}finally{mn=r,Q=n}}}async function xi(){await Promise.resolve(),cs()}function o(e){var t=e.f,n=(t&Ue)!==0;if(J!==null&&!ut){var r=Q!==null&&(Q.f&rn)!==0;if(!r&&!_t?.includes(e)){var s=J.deps;if((J.f&Vr)!==0)e.rv<Wn&&(e.rv=Wn,Ae===null&&s!==null&&s[He]===e?He++:Ae===null?Ae=[e]:(!Pt||!Ae.includes(e))&&Ae.push(e));else{(J.deps??(J.deps=[])).push(e);var a=e.reactions;a===null?e.reactions=[J]:a.includes(J)||a.push(J)}}}else if(n&&e.deps===null&&e.effects===null){var i=e,l=i.parent;l!==null&&(l.f&Ze)===0&&(i.f^=Ze)}if(on){if(Xt.has(e))return Xt.get(e);if(n){i=e;var c=i.v;return((i.f&Ce)===0&&i.reactions!==null||Ps(i))&&(c=va(i)),Xt.set(i,c),c}}else if(n){if(i=e,En?.has(i))return En.get(i);Ar(i)&&ss(i)}if((e.f&Wt)!==0)throw e.v;return e.v}function Ps(e){if(e.v===me)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(Xt.has(t)||(t.f&Ue)!==0&&Ps(t))return!0;return!1}function nr(e){var t=ut;try{return ut=!0,e()}finally{ut=t}}const Di=-7169;function Re(e,t){e.f=e.f&Di|t}function Ai(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Yt in e)Gr(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&Yt in n&&Gr(n)}}}function Gr(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{Gr(e[r],t)}catch{}const n=sa(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=Za(n);for(let s in r){const a=r[s].get;if(a)try{a.call(e)}catch{}}}}}const Li=["touchstart","touchmove"];function Ni(e){return Li.includes(e)}let Fa=!1;function Oi(){Fa||(Fa=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function xs(e){var t=J,n=Q;$e(null),ht(null);try{return e()}finally{$e(t),ht(n)}}function Mi(e,t,n,r=n){e.addEventListener(t,()=>xs(n));const s=e.__on_r;s?e.__on_r=()=>{s(),r(!0)}:e.__on_r=()=>r(!0),Oi()}const Ds=new Set,Jr=new Set;function Ii(e,t,n,r={}){function s(a){if(r.capture||Un.call(t,a),!a.cancelBubble)return xs(()=>n?.call(this,a))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Cr(()=>{t.addEventListener(e,s,r)}):t.addEventListener(e,s,r),s}function Cn(e,t,n,r,s){var a={capture:r,passive:s},i=Ii(e,t,n,a);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&wi(()=>{t.removeEventListener(e,i,a)})}function Be(e){for(var t=0;t<e.length;t++)Ds.add(e[t]);for(var n of Jr)n(e)}function Un(e){var t=this,n=t.ownerDocument,r=e.type,s=e.composedPath?.()||[],a=s[0]||e.target,i=0,l=e.__root;if(l){var c=s.indexOf(l);if(c!==-1&&(t===document||t===window)){e.__root=t;return}var u=s.indexOf(t);if(u===-1)return;c<=u&&(i=c)}if(a=s[i]||e.target,a!==t){zr(e,"currentTarget",{configurable:!0,get(){return a||n}});var d=J,v=Q;$e(null),ht(null);try{for(var f,h=[];a!==null;){var g=a.assignedSlot||a.parentNode||a.host||null;try{var p=a["__"+r];if(p!=null&&(!a.disabled||e.target===a))if(ra(p)){var[_,...y]=p;_.apply(a,[e,...y])}else p.call(a,e)}catch(k){f?h.push(k):f=k}if(e.cancelBubble||g===t||g===null)break;a=g}if(f){for(let k of h)queueMicrotask(()=>{throw k});throw f}}finally{e.__root=t,delete e.currentTarget,$e(d),ht(v)}}}function As(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function Yn(e,t){var n=Q;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function q(e,t){var n=(t&$o)!==0,r=(t&ei)!==0,s,a=!e.startsWith("<!>");return()=>{s===void 0&&(s=As(a?e:"<!>"+e),n||(s=Tn(s)));var i=r||fs?document.importNode(s,!0):s.cloneNode(!0);if(n){var l=Tn(i),c=i.lastChild;Yn(l,c)}else Yn(i,i);return i}}function Ri(e,t,n="svg"){var r=!e.startsWith("<!>"),s=`<${n}>${r?e:"<!>"+e}</${n}>`,a;return()=>{if(!a){var i=As(s),l=Tn(i);a=Tn(l)}var c=a.cloneNode(!0);return Yn(c,c),c}}function Bi(e,t){return Ri(e,t,"svg")}function je(e=""){{var t=sn(e+"");return Yn(t,t),t}}function V(){var e=document.createDocumentFragment(),t=document.createComment(""),n=sn();return e.append(t,n),Yn(t,n),e}function m(e,t){e!==null&&e.before(t)}function qi(){var e;return(e=window.__svelte??(window.__svelte={})).uid??(e.uid=1),`c${window.__svelte.uid++}`}function At(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function Fi(e,t){return Hi(e,t)}const hn=new Map;function Hi(e,{target:t,anchor:n,props:r={},events:s,context:a,intro:i=!0}){pi();var l=new Set,c=v=>{for(var f=0;f<v.length;f++){var h=v[f];if(!l.has(h)){l.add(h);var g=Ni(h);t.addEventListener(h,Un,{passive:g});var p=hn.get(h);p===void 0?(document.addEventListener(h,Un,{passive:g}),hn.set(h,1)):hn.set(h,p+1)}}};c(aa(Ds)),Jr.add(c);var u=void 0,d=bi(()=>{var v=n??t.appendChild(sn());return dt(()=>{if(a){Y({});var f=_e;f.c=a}s&&(r.$$events=s),u=e(v,r)||{},a&&X()}),()=>{for(var f of l){t.removeEventListener(f,Un);var h=hn.get(f);--h===0?(document.removeEventListener(f,Un),hn.delete(f)):hn.set(f,h)}Jr.delete(c),v!==n&&v.parentNode?.removeChild(v)}});return Ui.set(u,d),u}let Ui=new WeakMap;const Br=0,cr=1,qr=2;function bt(e,t,n,r,s){var a=e,i=an(),l=_e,c=me,u,d,v,f=i?tn(void 0):Xr(void 0,!1,!1),h=i?tn(void 0):Xr(void 0,!1,!1),g=!1;function p(y,k){g=!0,k&&(ht(_),$e(_),kn(l));try{y===Br&&n&&(u?_n(u):u=dt(()=>n(a))),y===cr&&r&&(d?_n(d):d=dt(()=>r(a,f))),y===qr&&s&&(v?_n(v):v=dt(()=>s(a,h))),y!==Br&&u&&Gt(u,()=>u=null),y!==cr&&d&&Gt(d,()=>d=null),y!==qr&&v&&Gt(v,()=>v=null)}finally{k&&(kn(null),$e(null),ht(null),cs())}}var _=tr(()=>{if(c!==(c=t())){if(xo(c)){var y=c;g=!1,y.then(k=>{y===c&&(Dt(f,k),p(cr,!0))},k=>{if(y===c&&(Dt(h,k),p(qr,!0),!s))throw h.v}),Cr(()=>{g||p(Br,!0)})}else Dt(f,c),p(cr,!1);return()=>c=me}})}function U(e,t,n=!1){var r=e,s=null,a=null,i=me,l=n?$n:0,c=!1;const u=(h,g=!0)=>{c=!0,f(g,h)};var d=null;function v(){d!==null&&(d.lastChild.remove(),r.before(d),d=null);var h=i?s:a,g=i?a:s;h&&_n(h),g&&Gt(g,()=>{i?a=null:s=null})}const f=(h,g)=>{if(i!==(i=h)){var p=ha(),_=r;if(p&&(d=document.createDocumentFragment(),d.append(_=sn())),i?s??(s=g&&dt(()=>g(_))):a??(a=g&&dt(()=>g(_))),p){var y=ie,k=i?s:a,w=i?a:s;k&&y.skipped_effects.delete(k),w&&y.skipped_effects.add(w),y.add_callback(v)}else v()}};tr(()=>{c=!1,t(u),c||f(null,null)},l)}function Se(e,t){ga(()=>{var n=t();for(var r in n){var s=n[r];s?e.style.setProperty(r,s):e.style.removeProperty(r)}})}function ji(e,t){return t}function zi(e,t,n){for(var r=e.items,s=[],a=t.length,i=0;i<a;i++)pa(t[i].e,s,!0);var l=a>0&&s.length===0&&n!==null;if(l){var c=n.parentNode;_i(c),c.append(n),r.clear(),lt(e,t[0].prev,t[a-1].next)}ys(s,()=>{for(var u=0;u<a;u++){var d=t[u];l||(r.delete(d.k),lt(e,d.prev,d.next)),vt(d.e,!l)}})}function rt(e,t,n,r,s,a=null){var i=e,l={flags:t,items:new Map,first:null},c=(t&$a)!==0;if(c){var u=e;i=u.appendChild(sn())}var d=null,v=!1,f=new Map,h=Pr(()=>{var y=n();return ra(y)?y:y==null?[]:aa(y)}),g,p;function _(){Vi(p,g,l,f,i,s,t,r,n),a!==null&&(g.length===0?d?_n(d):d=dt(()=>a(i)):d!==null&&Gt(d,()=>{d=null}))}tr(()=>{p??(p=Q),g=o(h);var y=g.length;if(!(v&&y===0)){v=y===0;var k,w,E,C;if(ha()){var P=new Set,S=ie;for(w=0;w<y;w+=1){E=g[w],C=r(E,w);var F=l.items.get(C)??f.get(C);F?(t&(Er|Tr))!==0&&Ls(F,E,w,t):(k=Ns(null,l,null,null,E,C,w,s,t,n,!0),f.set(C,k)),P.add(C)}for(const[A,H]of l.items)P.has(A)||S.skipped_effects.add(H.e);S.add_callback(_)}else _();o(h)}})}function Vi(e,t,n,r,s,a,i,l,c){var u=(i&Wo)!==0,d=(i&(Er|Tr))!==0,v=t.length,f=n.items,h=n.first,g=h,p,_=null,y,k=[],w=[],E,C,P,S;if(u)for(S=0;S<v;S+=1)E=t[S],C=l(E,S),P=f.get(C),P!==void 0&&(P.a?.measure(),(y??(y=new Set)).add(P));for(S=0;S<v;S+=1){if(E=t[S],C=l(E,S),P=f.get(C),P===void 0){var F=r.get(C);if(F!==void 0){r.delete(C),f.set(C,F);var A=_?_.next:g;lt(n,_,F),lt(n,F,A),Fr(F,A,s),_=F}else{var H=g?g.e.nodes_start:s;_=Ns(H,n,_,_===null?n.first:_.next,E,C,S,a,i,c)}f.set(C,_),k=[],w=[],g=_.next;continue}if(d&&Ls(P,E,S,i),(P.e.f&at)!==0&&(_n(P.e),u&&(P.a?.unfix(),(y??(y=new Set)).delete(P))),P!==g){if(p!==void 0&&p.has(P)){if(k.length<w.length){var re=w[0],G;_=re.prev;var W=k[0],B=k[k.length-1];for(G=0;G<k.length;G+=1)Fr(k[G],re,s);for(G=0;G<w.length;G+=1)p.delete(w[G]);lt(n,W.prev,B.next),lt(n,_,W),lt(n,B,re),g=re,_=B,S-=1,k=[],w=[]}else p.delete(P),Fr(P,g,s),lt(n,P.prev,P.next),lt(n,P,_===null?n.first:_.next),lt(n,_,P),_=P;continue}for(k=[],w=[];g!==null&&g.k!==C;)(g.e.f&at)===0&&(p??(p=new Set)).add(g),w.push(g),g=g.next;if(g===null)continue;P=g}k.push(P),_=P,g=P.next}if(g!==null||p!==void 0){for(var O=p===void 0?[]:aa(p);g!==null;)(g.e.f&at)===0&&O.push(g),g=g.next;var D=O.length;if(D>0){var M=(i&$a)!==0&&v===0?s:null;if(u){for(S=0;S<D;S+=1)O[S].a?.measure();for(S=0;S<D;S+=1)O[S].a?.fix()}zi(n,O,M)}}u&&Cr(()=>{if(y!==void 0)for(P of y)P.a?.apply()}),e.first=n.first&&n.first.e,e.last=_&&_.e;for(var z of r.values())vt(z.e);r.clear()}function Ls(e,t,n,r){(r&Er)!==0&&Dt(e.v,t),(r&Tr)!==0?Dt(e.i,n):e.i=n}function Ns(e,t,n,r,s,a,i,l,c,u,d){var v=(c&Er)!==0,f=(c&Yo)===0,h=v?f?Xr(s,!1,!1):tn(s):s,g=(c&Tr)===0?i:tn(i),p={i:g,v:h,k:a,a:null,e:null,prev:n,next:r};try{if(e===null){var _=document.createDocumentFragment();_.append(e=sn())}return p.e=dt(()=>l(e,h,g,u),ni),p.e.prev=n&&n.e,p.e.next=r&&r.e,n===null?d||(t.first=p):(n.next=p,n.e.next=p.e),r!==null&&(r.prev=p,r.e.prev=p.e),p}finally{}}function Fr(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,s=t?t.e.nodes_start:n,a=e.e.nodes_start;a!==null&&a!==r;){var i=Dr(a);s.before(a),a=i}}function lt(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function ot(e,t,...n){var r=e,s=Qt,a;tr(()=>{s!==(s=t())&&(a&&(vt(a),a=null),a=dt(()=>s(r,...n)))},$n)}function St(e,t,n){var r=e,s,a,i=null,l=null;function c(){a&&(Gt(a),a=null),i&&(i.lastChild.remove(),r.before(i),i=null),a=l,l=null}tr(()=>{if(s!==(s=t())){var u=ha();if(s){var d=r;u&&(i=document.createDocumentFragment(),i.append(d=sn())),l=dt(()=>n(d,s))}u?ie.add_callback(c):c()}},$n)}function Os(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=Os(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Ki(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=Os(e))&&(r&&(r+=" "),r+=t);return r}function te(e){return typeof e=="object"?Ki(e):e??""}const Ha=[...` 	
\r\f \v\uFEFF`];function Wi(e,t,n){var r=e==null?"":""+e;if(t&&(r=r?r+" "+t:t),n){for(var s in n)if(n[s])r=r?r+" "+s:s;else if(r.length)for(var a=s.length,i=0;(i=r.indexOf(s,i))>=0;){var l=i+a;(i===0||Ha.includes(r[i-1]))&&(l===r.length||Ha.includes(r[l]))?r=(i===0?"":r.substring(0,i))+r.substring(l+1):i=l}}return r===""?null:r}function Yi(e,t){return e==null?null:String(e)}function Z(e,t,n,r,s,a){var i=e.__className;if(i!==n||i===void 0){var l=Wi(n,r,a);l==null?e.removeAttribute("class"):e.className=l,e.__className=n}else if(a&&s!==a)for(var c in a){var u=!!a[c];(s==null||u!==!!s[c])&&e.classList.toggle(c,u)}return a}function Pn(e,t,n,r){var s=e.__style;if(s!==t){var a=Yi(t);a==null?e.removeAttribute("style"):e.style.cssText=a,e.__style=t}return r}const Xi=Symbol("is custom element"),Gi=Symbol("is html");function pr(e,t){var n=_a(e);n.value===(n.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function _r(e,t){var n=_a(e);n.checked!==(n.checked=t??void 0)&&(e.checked=t)}function he(e,t,n,r){var s=_a(e);s[t]!==(s[t]=n)&&(t==="loading"&&(e[Mo]=n),n==null?e.removeAttribute(t):typeof n!="string"&&Ji(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function _a(e){return e.__attributes??(e.__attributes={[Xi]:e.nodeName.includes("-"),[Gi]:e.namespaceURI===ti})}var Ua=new Map;function Ji(e){var t=Ua.get(e.nodeName);if(t)return t;Ua.set(e.nodeName,t=[]);for(var n,r=e,s=Element.prototype;s!==r;){n=Za(r);for(var a in n)n[a].set&&t.push(a);r=sa(r)}return t}function ma(e,t,n=t){var r=an(),s=new WeakSet;Mi(e,"input",a=>{var i=a?e.defaultValue:e.value;if(i=Hr(e)?Ur(i):i,n(i),ie!==null&&s.add(ie),r&&i!==(i=t())){var l=e.selectionStart,c=e.selectionEnd;e.value=i??"",c!==null&&(e.selectionStart=l,e.selectionEnd=Math.min(c,e.value.length))}}),nr(t)==null&&e.value&&(n(Hr(e)?Ur(e.value):e.value),ie!==null&&s.add(ie)),ga(()=>{var a=t();if(e===document.activeElement){var i=vr??ie;if(s.has(i))return}Hr(e)&&a===Ur(e.value)||e.type==="date"&&!a&&!e.value||a!==e.value&&(e.value=a??"")})}function Hr(e){var t=e.type;return t==="number"||t==="range"}function Ur(e){return e===""?null:+e}function ja(e,t){return e===t||e?.[Yt]===t}function et(e={},t,n,r){return Si(()=>{var s,a;return ga(()=>{s=a,a=[],nr(()=>{e!==n(...a)&&(t(e,...a),s&&ja(n(...s),e)&&t(null,...s))})}),()=>{Cr(()=>{a&&ja(n(...a),e)&&t(null,...a)})}}),e}function ln(e=!1){const t=_e,n=t.l.u;if(!n)return;let r=()=>Ai(t.s);if(e){let s=0,a={};const i=er(()=>{let l=!1;const c=t.s;for(const u in c)c[u]!==a[u]&&(a[u]=c[u],l=!0);return l&&s++,s});r=()=>o(i)}n.b.length&&yi(()=>{za(t,r),mr(n.b)}),Le(()=>{const s=nr(()=>n.m.map(Do));return()=>{for(const a of s)typeof a=="function"&&a()}}),n.a.length&&Le(()=>{za(t,r),mr(n.a)})}function za(e,t){if(e.l.s)for(const n of e.l.s)o(n);t()}let ur=!1;function Zi(e){var t=ur;try{return ur=!1,[e(),ur]}finally{ur=t}}function ae(e,t,n,r){var s=!Nn||(n&Go)!==0,a=(n&Zo)!==0,i=(n&Qo)!==0,l=r,c=!0,u=()=>(c&&(c=!1,l=i?nr(r):r),l),d;if(a){var v=Yt in e||Oo in e;d=pn(e,t)?.set??(v&&t in e?w=>e[t]=w:void 0)}var f,h=!1;a?[f,h]=Zi(()=>e[t]):f=e[t],f===void 0&&r!==void 0&&(f=u(),d&&(s&&jo(),d(f)));var g;if(s?g=()=>{var w=e[t];return w===void 0?u():(c=!0,w)}:g=()=>{var w=e[t];return w!==void 0&&(l=void 0),w===void 0?l:w},s&&(n&Jo)===0)return g;if(d){var p=e.$$legacy;return function(w,E){return arguments.length>0?((!s||!E||p||h)&&d(E?g():w),w):g()}}var _=!1,y=((n&Xo)!==0?er:Pr)(()=>(_=!1,g()));a&&o(y);var k=Q;return function(w,E){if(arguments.length>0){const C=E?o(y):s&&a?ge(w):w;return T(y,C),_=!0,l!==void 0&&(l=C),w}return on&&_||(k.f&rn)!==0?y.v:o(y)}}function ke(e){_e===null&&Ro(),Nn&&_e.l!==null?Qi(_e).m.push(e):Le(()=>{const t=nr(e);if(typeof t=="function")return t})}function Qi(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const $i="5";var Ga;typeof window<"u"&&((Ga=window.__svelte??(window.__svelte={})).v??(Ga.v=new Set)).add($i);let zt=R(""),gn=R(null);function el(e){T(zt,""),setTimeout(()=>{T(zt,e,!0)},16)}var tl=q('<div class="notification svelte-1a2zucn"> </div>');function nl(e,t){Y(t,!0),Le(()=>{o(zt),o(zt)&&(o(gn)?.getBoundingClientRect(),o(gn)?.style.setProperty("opacity","1"));const a=setTimeout(()=>{o(gn)?.style.removeProperty("opacity")},800),i=setTimeout(()=>{T(zt,""),o(gn)?.style.removeProperty("opacity")},1200);return()=>{clearTimeout(a),clearTimeout(i)}});var n=V(),r=N(n);{var s=a=>{var i=tl(),l=b(i);et(i,c=>T(gn,c),()=>o(gn)),le(()=>At(l,o(zt))),m(a,i)};U(r,a=>{o(zt)&&a(s)})}m(e,n),X()}si();var rl=q('<span class="vh svelte-14jjkpd"><!></span>');function xn(e,t){var n=rl(),r=b(n);ot(r,()=>t.children),m(e,n)}var al=Bi('<svg class="svelte-gv09tg"><use></use></svg>');function we(e,t){let n=ae(t,"name",8,"");var r=al(),s=b(r);le(()=>he(s,"href",`#icon-${n()??""}`)),m(e,r)}const Ms=(e,t)=>{if(!t)return e;if(t.type==="closed")return{type:"closed"};switch(e.type){case"opened":return t.type==="close"?{type:"closing"}:t.type==="swipe"?{type:"openSwiping"}:e;case"closed":return t.type==="open"?{type:"opening"}:t.type==="swipe"?{type:"closeSwiping"}:e;case"openSwiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"closeSwiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"opening":return t.type==="opened"?{type:"opened"}:e;default:return e}};let Zr=R(ge(Ms({type:"closed"})));const Et=e=>{T(Zr,Ms(o(Zr),e),!0)},Is=()=>o(Zr),sl=()=>{Et({type:"open"})},ol=()=>{Et({type:"close"})},il=()=>{const e=Is().type;e==="closed"?sl():e==="opened"&&ol()};var ll=q('<button class="buttonMenu svelte-hxzs42"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>');function Rs(e,t){Y(t,!1),ln();var n=ll();n.__click=[il];var r=b(n);Se(r,()=>({"--size":"28px"})),we(r.lastChild,{name:"sidebarMenu"});var s=x(r,2);xn(s,{children:(a,i)=>{var l=je("Menu");m(a,l)}}),m(e,n),X()}Be(["click"]);const I=ge({historyStack:[],pathname:window.location.pathname,search:window.location.search,historyLength:0});let Bs=R(ge(new URLSearchParams(I.search).get("feedOrder")||"newest"));const qs=()=>o(Bs),cl=e=>{T(Bs,e,!0);const t=new URLSearchParams(I.search);e==="newest"?t.delete("feedOrder"):t.set("feedOrder",e),Lt(`${I.pathname}${t.size>0?`?${t.toString()}`:""}`)},Fs=()=>new URLSearchParams(I.search).get("selectedTags")?.split(",")||[];let dr=Fs();const ul=()=>{const e=Fs();return e.join(",")===dr.join(",")||(dr=e),dr},dl=()=>{I.pathname=document.location.pathname,I.search=document.location.search,I.historyLength=Math.max(0,I.historyLength-=1)};window.addEventListener("popstate",dl);const Lt=e=>{const[t,n]=e.split("?");I.pathname=t,I.search=n?`?${n}`:"",I.historyLength+=1,I.historyStack.push(window.location.href),window.history.replaceState(null,"",e)},fl=e=>{const[t,n]=e.split("?");I.pathname=t,I.search=n?`?${n}`:"",window.history.replaceState(null,"",e)},Hs=(e="/")=>{const[t,n]=e.split("?");if(I.historyLength<=0){const r=window.location.href,[s,a]=r.split("?");if(!a.includes("stackPages"))window.history.replaceState(null,"",e),I.historyLength=0,I.pathname=t,I.search=n?`?${n}`:"";else{const i=new URLSearchParams(a),c=(i.get("stackPages")?.split(",")||[]).slice(0,-1);c.length===0?i.delete("stackPages"):i.set("stackPages",c.join(","));const u=`${s}${i.toString()?`?${i.toString()}`:""}`;window.history.replaceState(null,"",u),I.search=i.toString()?`?${i.toString()}`:""}}else if(I.historyStack.length>0){const r=I.historyStack.pop();if(r){const[s,a]=r.split("?");window.history.replaceState(null,"",r),I.historyLength=Math.max(0,I.historyLength-=1),I.pathname=s,I.search=a?`?${a}`:""}}},Us=()=>{const e=I.historyStack.findIndex(n=>n.includes("stackPages")),t=e===-1?I.historyStack.slice(0):I.historyStack.slice(0,e);if(t.length>0){const n=t.pop();if(n){const[r,s]=n.split("?");window.history.replaceState(null,"",n),I.historyLength=Math.max(0,t.length),I.pathname=r,I.search=s?`?${s}`:"",I.historyStack=t}}else window.history.replaceState(null,"","/"),I.historyLength=0,I.pathname="/",I.search="",I.historyStack=[]},it=()=>new URLSearchParams(I.search).get("stackPages")?.split(",")||[];let Zt=R(ge(it()));const ze=e=>{const t=it();if(!t.includes(e)){t.push(e);const n=new URLSearchParams(I.search);n.set("stackPages",t.join(",")),T(Zt,t,!0),Lt(`${I.pathname}?${n.toString()}`)}},vl=e=>it().includes(e),js=()=>{const e=o(Zt).slice(0,-1);T(Zt,e,!0)},zs=()=>{const e=it();return e.length>=o(Zt).length?e.reduce((t,n)=>[...t,{page:n,shown:!0}],[]):o(Zt).reduce((t,n,r)=>[...t,{page:n,shown:e.length===0?!1:r!==o(Zt).length-1}],[])},Qr=()=>{T(Zt,[],!0)},hl=e=>{e.preventDefault(),ze("settings")},gl=e=>{e.preventDefault(),ze("newNote")};var pl=q('<div class="header svelte-ww662s"><div class="top svelte-ww662s"><div class="desktop svelte-ww662s"><a class="link svelte-ww662s"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Settings</span></a></div> <div class="mobile svelte-ww662s"><!></div> <a class="addNote svelte-ww662s"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Add</span></a></div></div>');function _l(e,t){Y(t,!0);const n=()=>{const p=it();p.includes("settings")||p.push("settings");const _=new URLSearchParams(I.search);return _.set("stackPages",p.join(",")),`${I.pathname}?${_}`};let s=j(()=>{const p=it();p.includes("newNote")||p.push("newNote");const _=new URLSearchParams(I.search);return _.set("stackPages",p.join(",")),`${I.pathname}?${_}`}),a=j(n);var i=pl(),l=b(i),c=b(l),u=b(c);u.__click=[hl];var d=b(u);Se(d,()=>({"--size":"20px"})),we(d.lastChild,{name:"settings"});var v=x(c,2),f=b(v);Rs(f,{});var h=x(v,2);h.__click=[gl];var g=b(h);Se(g,()=>({"--size":"24px","--color":"#b0b0b0"})),we(g.lastChild,{name:"plus"}),le(()=>{he(u,"href",o(a)),he(h,"href",o(s))}),m(e,i),X()}Be(["click"]);const ml="modulepreload",wl=function(e){return"/"+e},Va={},kt=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){let c=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=i?.nonce||i?.getAttribute("nonce");s=c(n.map(u=>{if(u=wl(u),u in Va)return;Va[u]=!0;const d=u.endsWith(".css"),v=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${v}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":ml,d||(f.as="script"),f.crossOrigin="",f.href=u,l&&f.setAttribute("nonce",l),document.head.appendChild(f),d)return new Promise((h,g)=>{f.addEventListener("load",h),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${u}`)))})}))}function a(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return s.then(i=>{for(const l of i||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})},yl=(e,t)=>{let n=null;return()=>{n&&clearTimeout(n),n=setTimeout(()=>{e()},t)}},Vs=()=>window.matchMedia("(max-width: 768px)").matches;let Ks=R(ge(Vs()));const bl=yl(()=>{T(Ks,Vs(),!0)},16);window.addEventListener("resize",bl);const On=()=>o(Ks),wa=ge({count:0}),Sl=()=>wa.count>0,Ws=()=>{wa.count+=1},Ys=()=>{wa.count-=1},Pe=ge({working:!1,swipingRatio:1,isSwiping:!1,duration:.35});let $r=!1;const jr=()=>{document.activeElement instanceof HTMLInputElement&&document.activeElement.type==="text"||document.activeElement instanceof HTMLTextAreaElement?$r=!0:$r=!1},ya=()=>$r;function kl(e,t){Y(t,!0);let n=ae(t,"dialog",7),r=null;const s=()=>{t.dialogState==="swiping"&&t.onClose()};Le(()=>(t.dialogState==="swiping"&&(r=setTimeout(s,3e3)),()=>{r&&(clearTimeout(r),r=null)}));let a=null,i=null;const l=3,c=50,u=5,d=.6,v=.3,f=.35,h=.95;let g=0,p=0,_=0,y=!1,k=!1,w=0,E=0,C=0;const P=()=>{g=0,p=0,y=!1,k=!1,w=0,E=0,C=0,_=0,a=null,i!==null&&(cancelAnimationFrame(i),i=null),r&&(clearTimeout(r),r=null)},S=D=>{if(!n()){console.warn("Touch start: No dialog element");return}if(t.dialogState!=="opened"){console.warn(`Touch start: Invalid sidebar state: ${t.dialogState}`);return}g=D.touches[0].clientX,p=D.touches[0].clientY,_=performance.now(),y=!0,k=!1},F=D=>t.dialogState==="opened"&&D>0||t.dialogState==="swiping"&&D>0,A=D=>{if(n()){n().style.setProperty("--transition-timing","0s"),t.onSwipe(),navigator.vibrate&&navigator.vibrate(10);try{const M=window.getComputedStyle(n()),z=M.transform||M.webkitTransform||"";if(E=n().offsetWidth,(t.dialogState==="swiping"||t.dialogState==="opened")&&(w=0),z&&z!=="none")try{w=new DOMMatrix(z).m41}catch{console.warn("Could not parse transform matrix, using default position")}k=!0}catch(M){console.error("Error during swipe initialization:",M),P()}}},H=()=>{if(!n())return;const M=Math.abs(w+C*E/100)/E;n().style.setProperty("--backdrop-bg",`rgba(0, 0, 0, ${.1*(1-M)})`)},re=()=>{if(i=null,!a||!y||!n()||ya()){P();return}const D=a.touches[0].clientX,M=a.touches[0].clientY,z=D-g,oe=M-p,pe=Math.abs(z)>Math.abs(oe),ye=Math.abs(z)>l;if(!k)if(pe&&ye&&F(z))try{A(z)}catch(fe){console.error("Error initializing swipe:",fe),P();return}else return;if(!F(z))return;n().style.setProperty("--transition-timing","0s");let se=w+z*h;se=Math.max(0,Math.min(E,se)),n().style.transform=`translate3d(${se}px, 0, 0)`,Pe.swipingRatio=Math.abs(1-se/E),C=(se-w)/E*100,t.dialogState==="swiping"&&(r&&clearTimeout(r),r=setTimeout(s,3e3)),H()},G=D=>{if(!y)return;a=D,i===null&&(i=requestAnimationFrame(re));const M=D.touches[0].clientX-g,z=D.touches[0].clientY-p,oe=Math.abs(M)>Math.abs(z);k&&oe&&D.preventDefault()},W=D=>{const M=Math.abs(D);if(M>=d)return u;if(M>=v){const z=(M-v)/(d-v);return c-z*(c-u)}else return c},B=(D,M)=>{if(Math.abs(D)>=d)return f*.5;const oe=Math.abs(C)/100;return M?f*Math.max(.5,1-oe):f*Math.max(.5,oe)},O=D=>{if(i!==null&&(cancelAnimationFrame(i),i=null),!y||!n()){P();return}if(!k){P();return}let M=0;if(D?.changedTouches?.[0]){const se=D.changedTouches[0].clientX,Ve=performance.now()-_;Ve>0&&(M=(se-g)/Ve)}const z=W(M);let oe=null;t.dialogState==="swiping"&&(oe=Math.abs(C)>z||M<-v?"close":"open");const pe=t.dialogState==="swiping"&&oe==="close",ye=B(M,pe);Pe.duration=ye-.02,n().style.setProperty("--transition-timing",`${ye}s`),n().offsetWidth,n().style.transform="",oe==="open"?t.onOpen():oe==="close"&&t.onClose(),n()?.style.removeProperty("--backdrop-bg"),P()};ke(()=>(n().addEventListener("touchstart",S,{passive:!0}),n().addEventListener("touchmove",G,{passive:!1}),n().addEventListener("touchend",O,{passive:!0}),n().addEventListener("touchcancel",O,{passive:!0}),()=>{n().removeEventListener("touchstart",S),n().removeEventListener("touchmove",G),n().removeEventListener("touchend",O),n().removeEventListener("touchcancel",O),i!==null&&cancelAnimationFrame(i)})),X()}let ba=R(!1);const El=(e,t)=>{let n;return()=>{n&&clearTimeout(n),n=setTimeout(()=>{e()},t)}},Tl=El(()=>{T(ba,!1)},100),Xs=()=>{T(ba,!0),Tl()},Gs=()=>o(ba);var Cl=(e,t)=>{t.onStartClose()},Pl=q('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),xl=q('<dialog><div class="dialogInner svelte-68rj1a"><div class="header svelte-68rj1a"><div><!></div></div> <!></div></dialog> <!>',1);function Dl(e,t){Y(t,!0);let n=350,r=R(null),s=R(null);const a=w=>{w.preventDefault(),t.onStartClose()};ke(()=>(o(r)?.addEventListener("close",t.onClosed),o(r)?.addEventListener("cancel",a),()=>{o(r)?.removeEventListener("close",t.onClosed),o(r)?.removeEventListener("cancel",a)}));const i=()=>{o(r)?.style.removeProperty("--transition-timing"),o(r)?.style.removeProperty("transform"),o(r)?.style.removeProperty("--backdrop-bg")},l=()=>{Xs()},c=j(Gs);Le(()=>{if(t.dialogState,!!o(r))switch(t.dialogState){case"opening":{o(r).open||o(r).showModal(),o(r).getBoundingClientRect();const w=setTimeout(()=>{i()},n+1),E=()=>{clearTimeout(w),i()};return o(r)?.addEventListener("transitionend",E,{once:!0}),t.onOpened(),()=>{o(r)?.removeEventListener("transitionend",E)}}case"closing":{const w=setTimeout(()=>{t.dialogState==="closing"&&t.onClosed()},n+1),E=()=>{clearTimeout(w),t.onClosed()};return o(r)?.addEventListener("transitionend",E,{once:!0}),()=>{o(r)?.removeEventListener("transitionend",E)}}case"opened":i()}});var u=xl(),d=N(u),v=b(d),f=b(v),h=b(f),g=b(h);{var p=w=>{var E=Pl();Z(E,1,te(["navigateButton","buttonBack"]),"svelte-68rj1a"),E.__click=[Cl,t];var C=b(E);Se(C,()=>({"--size":"20px"})),we(C.lastChild,{name:"back"});var P=x(C,2);xn(P,{children:(S,F)=>{var A=je("back");m(S,A)}}),m(w,E)};U(g,w=>{(!(t.blocked||t.hidden)||t.blocked&&t.unBlockedBack)&&w(p)})}var _=x(f,2);ot(_,()=>t.children),et(v,w=>T(s,w),()=>o(s)),et(d,w=>T(r,w),()=>o(r));var y=x(d,2);{var k=w=>{kl(w,{get onClose(){return t.onStartClose},get onOpen(){return t.onStartOpen},get onSwipe(){return t.onSwipe},get dialogState(){return t.dialogState},get dialog(){return o(r)}})};U(y,w=>{(!o(c)&&t.dialogState==="opened"||t.dialogState==="swiping")&&(!t.blocked||t.unBlockedBack)&&w(k)})}le(()=>Z(d,1,te([{open:t.dialogState==="opened",hidden:t.hidden,isAnimationOn:Pe.working&&(!Pe.isSwiping||!t.hidden)},{hidden:t.hidden}]),"svelte-68rj1a")),Cn("scroll",v,l),m(e,u),X()}Be(["click"]);const Ka=(e,t)=>{if(!t)return e;if(t.type==="closed")return{type:"closed"};switch(e.type){case"opened":return t.type==="close"?{type:"closing"}:t.type==="swipe"?{type:"swiping"}:e;case"closed":return t.type==="open"?{type:"opening"}:e;case"swiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"opening":return t.type==="opened"?{type:"opened"}:e;default:return e}};function Al(e,t){Y(t,!0);let n=ae(t,"blocked",3,!1),r=ae(t,"hiddenDialog",3,!1),s=ae(t,"unBlockedBack",3,!1),a=ae(t,"onStartClose",3,()=>{}),i=ae(t,"onClose",3,()=>{}),l=R(ge(Ka({type:"closed"})));const c=y=>{T(l,Ka(o(l),y),!0)},u=()=>{n()&&!s()||(a()(),c({type:"close"}))},d=()=>{c({type:"open"})},v=()=>{c({type:"opened"}),Pe.duration=.2},f=()=>{i()(),c({type:"closed"}),Pe.swipingRatio=1,Pe.duration=.2},h=()=>{c({type:"swipe"})};Le(()=>{o(l).type==="swiping"?Pe.isSwiping=!0:Pe.isSwiping=!1,o(l).type==="closed"&&t.shownDialog?d():o(l).type==="opened"&&!t.shownDialog&&u()});var g=V(),p=N(g);{var _=y=>{Dl(y,{onSwipe:h,onOpened:v,onClosed:f,onStartClose:u,onStartOpen:d,get dialogState(){return o(l).type},get hidden(){return r()},get blocked(){return n()},get unBlockedBack(){return s()},children:(k,w)=>{var E=V(),C=N(E);ot(C,()=>t.children),m(k,E)},$$slots:{default:!0}})};U(p,y=>{o(l).type!=="closed"&&y(_)})}return m(e,g),X({handleComputeState:c})}function Js(e,t){Y(t,!0);let n=ae(t,"blockedDialog",3,!1),r=ae(t,"hiddenDialog",3,!1),s=ae(t,"isLastDialog",3,!1),a=ae(t,"onStartClose",3,()=>{}),i=ae(t,"onClose",3,()=>{});const l=j(()=>s()?void 0:t.onStartBack);let c=null;function u(){return c||(c=kt(()=>import("./DesktopDialog-X_Bmgx6R.js"),__vite__mapDeps([0,1]))),c}ke(()=>(Ws(),()=>{Ys()}));var d=V(),v=N(d);{var f=g=>{Al(g,{get shownDialog(){return t.shownDialog},get blocked(){return n()},get unBlockedBack(){return t.unBlockedBack},get hiddenDialog(){return r()},get children(){return t.children},get onStartClose(){return t.onStartBack},get onClose(){return i()}})},h=g=>{var p=V(),_=N(p);bt(_,u,null,(y,k)=>{var w=V();const E=j(()=>o(k).default);var C=N(w);St(C,()=>o(E),(P,S)=>{S(P,{get shownDialog(){return t.shownDialog},get blockedDialog(){return n()},get unBlockedBack(){return t.unBlockedBack},get hiddenDialog(){return r()},get children(){return t.children},get onStartBack(){return o(l)},get onStartClose(){return a()},get onClose(){return i()}})}),m(y,w)}),m(g,p)};U(v,g=>{On()?g(f):g(h,!1)})}m(e,d),X()}let Zs=R(!1),Sa=R(!1);const jn=e=>{T(Zs,e,!0),e||T(Sa,!1)},Ll=()=>o(Zs),Wa=e=>{T(Sa,e,!0)},Nl=()=>o(Sa);function Ya(e,t){Y(t,!0);let n=ae(t,"blocked",3,!1),r=ae(t,"isLastDialog",3,!1),s=ae(t,"onBack",3,()=>{});const a=j(()=>n()||t.hidden||Ll()),i=j(()=>Nl()&&!r());Js(e,{get shownDialog(){return t.shown},get blockedDialog(){return o(a)},get unBlockedBack(){return o(i)},get hiddenDialog(){return t.hidden},get isLastDialog(){return r()},onStartBack:()=>{(!o(a)||o(a)&&o(i))&&t.shown&&(Hs(),s()())},onStartClose:()=>{(!o(a)||o(a)&&o(i))&&t.shown&&Us()},onClose:()=>{js()},children:(d,v)=>{var f=V(),h=N(f);ot(h,()=>t.children),m(d,f)},$$slots:{default:!0}}),X()}const ee=ge({initedDB:!1}),Ol=()=>{ee.initedDB=!0},Dn=async e=>{ee.account=e},rr=async e=>{ee.notes||(ee.notes=[]),ee.mapNotes||(ee.mapNotes=new Map),e.forEach(t=>{if(!ee.notes||!ee.mapNotes)throw new Error("Notes appState is not initialized");ee.notes.push(t),ee.mapNotes.set(t.id,t)})},An=()=>ee.notes&&ee.mapNotes,Ml=()=>ee.account,Qs=()=>ee.notes||[],Nu=()=>ee.mapNotes||new Map,$s=e=>{if(!ee.notes||!ee.mapNotes)throw new Error("Notes appState is not initialized");const t={...e};ee.notes.push(t),ee.mapNotes.set(t.id,t)},eo=async e=>{if(!ee.notes||!ee.mapNotes)throw new Error("Notes appState is not initialized");ee.notes.forEach((t,n)=>{t?.id===e.id&&ee.notes&&(ee.notes[n]=e)}),ee.mapNotes.set(e.id,e)},to=async e=>{if(!ee.notes||!ee.mapNotes)throw new Error("Notes appState is not initialized");ee.mapNotes.delete(e);const t=ee.notes.findIndex(n=>n?.id===e);t!==-1&&(ee.notes[t]=void 0)},no=async()=>{ee.initedDB=!0,ee.notes=[],ee.mapNotes=new Map};let ro=R({});const ao=()=>o(ro),Il=e=>{T(ro,e)};var Rl=q('<input class="svelte-6l2oy0"/>');function ea(e,t){Y(t,!0);let n=ae(t,"value",15,"");var r=Rl();le(()=>he(r,"placeholder",t.placeholder)),Cn("focus",r,function(...s){t.onFocus?.apply(this,s)}),ma(r,n),m(e,r),X()}function so(e,t){Y(t,!0),ke(()=>{const n=r=>{r.target&&t.dialog?.open&&t.dialogInner&&t.dialogInner!==r.target&&!t.dialogInner.contains(r.target)&&t.onClose()};return document.addEventListener("mousedown",n,{capture:!0}),()=>{document.removeEventListener("mousedown",n,{capture:!0})}}),X()}function Bl(e,t){Y(t,!0);let n=ae(t,"dialog",7);const r=3,s=50,a=5,i=.6,l=.3,c=.35,u=.95;let d=0,v=0,f=0,h=!1,g=!1,p=0,_=0,y=0;const k=()=>{d=0,v=0,h=!1,g=!1,p=0,_=0,y=0,f=0,w!==null&&(cancelAnimationFrame(w),w=null),E=null};let w=null,E=null;const C=B=>{if(!n()){console.warn("Touch start: No dialog element");return}if(t.sidebarState!=="opened"&&t.sidebarState!=="closed"){console.warn(`Touch start: Invalid sidebar state: ${t.sidebarState}`);return}d=B.touches[0].clientX,v=B.touches[0].clientY,f=performance.now(),h=!0,g=!1},P=B=>t.sidebarState==="closed"&&B>0||t.sidebarState==="closeSwiping"&&B>0||t.sidebarState==="opened"&&B<0||t.sidebarState==="openSwiping"&&B<0,S=B=>{if(n()){if(n().style.setProperty("--transition-timing","0s"),!n().open&&t.sidebarState==="closed")try{n().showModal(),n().offsetWidth}catch(O){console.error("Error opening dialog:",O);return}t.onSwipe();try{const O=window.getComputedStyle(n()),D=O.transform||O.webkitTransform||"";if(_=n().offsetWidth,t.sidebarState==="closeSwiping"||t.sidebarState==="closed"?p=-_:(t.sidebarState==="openSwiping"||t.sidebarState==="opened")&&(p=0),D&&D!=="none")try{p=new DOMMatrix(D).m41}catch{console.warn("Could not parse transform matrix, using default position")}g=!0}catch(O){console.error("Error during swipe initialization:",O),k()}}},F=()=>{if(!n())return;const B=-(_*.27),O=-_;let D=0;const M=window.getComputedStyle(n()),z=M.transform||M.webkitTransform||"";if(z&&z!=="none")try{D=new DOMMatrix(z).m41}catch{D=0}const ye=.25*Math.min(1,Math.max(0,(D-O)/(B-O)));n().style.setProperty("--backdrop-bg",`rgba(0, 0, 0, ${ye})`)},A=()=>{if(w=null,!E||!h||!n()||ya())return;const{x:B,y:O}=E;E=null;const D=B-d,M=O-v,z=Math.abs(D)>Math.abs(M),oe=Math.abs(D)>r;if(!g)if(z&&oe&&P(D))try{S(D)}catch(Ne){console.error("Error initializing swipe:",Ne),k();return}else return;if(!P(D))return;n().style.setProperty("--transition-timing","0s");let pe=p+D*u;const ye=-_,se=-(_*.27);pe=Math.max(ye,Math.min(se,pe)),n().style.transform=`translate3d(${pe}px, 0, 0)`,y=(pe-p)/_*100,F()},H=B=>{if(!h)return;const O=B.touches[0].clientX,D=B.touches[0].clientY;E={x:O,y:D},w===null&&(w=requestAnimationFrame(A)),g&&Math.abs(O-d)>Math.abs(D-v)&&B.preventDefault()},re=B=>{const O=Math.abs(B);if(O>=i)return a;if(O>=l){const D=(O-l)/(i-l);return s-D*(s-a)}else return s},G=(B,O)=>{if(Math.abs(B)>=i)return c*.5;const M=Math.abs(y)/100;return O?c*Math.max(.5,1-M):c*Math.max(.5,M)},W=B=>{if(w!==null&&(cancelAnimationFrame(w),w=null),E=null,!h||!n()){k();return}if(!g){k();return}let O=0;if(B?.changedTouches?.[0]){const pe=B.changedTouches[0].clientX,se=performance.now()-f;se>0&&(O=(pe-d)/se)}const D=re(O);let M=null;t.sidebarState==="closeSwiping"?M=Math.abs(y)>D||O>l?"open":"close":t.sidebarState==="openSwiping"&&(M=Math.abs(y)>D||O<-l?"close":"open");const z=t.sidebarState==="closeSwiping"&&M==="open"||t.sidebarState==="openSwiping"&&M==="close",oe=G(O,z);n().style.setProperty("--transition-timing",`${oe}s`),n().offsetWidth,n().style.transform="",M==="open"?t.onOpen():M==="close"&&t.onClose(),n()?.style.removeProperty("--backdrop-bg"),k()};ke(()=>(document.addEventListener("touchstart",C,{passive:!0}),document.addEventListener("touchmove",H,{passive:!1}),document.addEventListener("touchend",W,{passive:!0}),document.addEventListener("touchcancel",W,{passive:!0}),()=>{document.removeEventListener("touchstart",C),document.removeEventListener("touchmove",H),document.removeEventListener("touchend",W),document.removeEventListener("touchcancel",W),w!==null&&cancelAnimationFrame(w)})),X()}var ql=q('<dialog><div class="dialogInner svelte-1vgewgb"><!></div></dialog> <!> <!>',1);function Fl(e,t){Y(t,!0);let n=350,r=R(null),s=R(null),a=j(Is);Le(()=>{zs().length>0&&Et({type:"close"})});const i=()=>{t.blocked||Et({type:"close"})},l=()=>{t.blocked||Et({type:"open"})},c=()=>{Et({type:"opened"})},u=()=>{Et({type:"closed"})},d=()=>{Et({type:"swipe"})},v=S=>{S.preventDefault(),i()};ke(()=>(o(r)?.addEventListener("close",u),o(r)?.addEventListener("cancel",v),()=>{o(r)?.removeEventListener("close",u),o(r)?.removeEventListener("cancel",v)}));const f=()=>{o(r)?.style.removeProperty("--transition-timing"),o(r)?.style.removeProperty("transform"),o(r)?.style.removeProperty("--backdrop-bg")},h=j(Gs);Le(()=>{if(o(a),!!o(r))switch(o(a).type){case"closeSwiping":{const S=setTimeout(()=>{i()},3e3);return()=>{clearTimeout(S)}}case"openSwiping":{const S=setTimeout(()=>{l()},3e3);return()=>{clearTimeout(S)}}case"opening":{o(r).open||o(r).showModal(),o(r).getBoundingClientRect();const S=setTimeout(()=>{f()},n+1),F=()=>{clearTimeout(S),f()};return o(r)?.addEventListener("transitionend",F,{once:!0}),c(),()=>{o(r)?.removeEventListener("transitionend",F)}}case"closing":{const S=setTimeout(()=>{o(a).type==="closing"&&u()},n+1),F=()=>{clearTimeout(S),u()};return o(r)?.addEventListener("transitionend",F,{once:!0}),()=>{o(r)?.removeEventListener("transitionend",F)}}case"closed":o(r)?.close(),f();break;case"opened":f();break}});var g=ql(),p=N(g),_=b(p),y=b(_);{var k=S=>{var F=V(),A=N(F);ot(A,()=>t.children),m(S,F)};U(y,S=>{o(a).type!=="closed"&&S(k)})}et(_,S=>T(s,S),()=>o(s)),et(p,S=>T(r,S),()=>o(r));var w=x(p,2);{var E=S=>{so(S,{get dialog(){return o(r)},get dialogInner(){return o(s)},onClose:i})};U(w,S=>{o(a).type==="opened"&&!t.blocked&&S(E)})}var C=x(w,2);{var P=S=>{Bl(S,{onClose:i,onOpen:l,onSwipe:d,get sidebarState(){return o(a).type},get dialog(){return o(r)}})};U(C,S=>{(!o(h)&&o(a).type==="closed"||o(a).type==="opened"||o(a).type==="openSwiping"||o(a).type==="closeSwiping")&&!t.blocked&&S(P)})}le(()=>Z(p,1,te([{open:o(a).type==="opened",hidden:t.blocked,isAnimationOn:Pe.working&&(!Pe.isSwiping||!t.blocked)}]),"svelte-1vgewgb")),m(e,g),X()}var Hl=q('<button> <svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></button>');function ct(e,t){let n=j(()=>t.style==="selected"?"45deg":"0deg");var r=Hl();r.__click=function(...i){t.onClick?.apply(this,i)};var s=b(r),a=x(s);Se(a,()=>({"--size":"20px","--rotate":o(n)})),we(a.lastChild,{name:"plus"}),le(()=>{he(r,"type",t.type),Z(r,1,te([{selectedTag:t.style==="selected"}]),"svelte-1pjhi9i"),At(s,`${t.title??""} `)}),m(e,r)}Be(["click"]);const Ul=e=>{e.preventDefault(),ze("settings")};var jl=q("<div></div>"),zl=q('<div class="sidebarFixed svelte-eq0qkl"><div class="nav svelte-eq0qkl"><!> <a class="link svelte-eq0qkl"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Settings</span></a></div> <div class="searchWrapper svelte-eq0qkl"><!></div> <!></div> <div></div>',1),Vl=q("<div></div>"),Kl=q('<div class="sidebar svelte-eq0qkl"><div class="sidebarFixed svelte-eq0qkl"><div class="searchWrapper svelte-eq0qkl"><!></div> <!></div> <div class="tags svelte-eq0qkl"></div></div>');function Wl(e,t){Y(t,!0);let n=R(null),r=R(""),s=j(()=>new URLSearchParams(I.search).get("selectedTags")?.split(",")||[]);const a=()=>{const p=it();p.includes("settings")||p.push("settings");const _=new URLSearchParams(I.search);return _.set("stackPages",p.join(",")),`${I.pathname}?${_}`},i=p=>{const _=new URLSearchParams(I.search);_.set("selectedTags",[...o(s),p].join(",")),Lt(`${I.pathname}${_.size>0?`?${_.toString()}`:""}`),T(r,"")},l=p=>{const _=new URLSearchParams(I.search),y=o(s).filter(k=>k!==p);y.length===0?_.delete("selectedTags"):_.set("selectedTags",y.join(",")),Lt(`${I.pathname}${_.size>0?`?${_.toString()}`:""}`)};let c=j(()=>An()?Object.values(ao()).filter(p=>!o(s).some(_=>p.name===_)):[]),u=j(a),d=j(()=>it().length>0||Sl());var v=V(),f=N(v);{var h=p=>{Fl(p,{get blocked(){return o(d)},children:(_,y)=>{var k=zl(),w=N(k),E=b(w),C=b(E);Rs(C,{});var P=x(C,2);P.__click=[Ul];var S=b(P);Se(S,()=>({"--size":"20px"})),we(S.lastChild,{name:"settings"});var F=x(E,2),A=b(F);ea(A,{placeholder:"Search tag",get value(){return o(r)},set value(W){T(r,W,!0)}});var H=x(F,2);{var re=W=>{var B=jl();Z(B,1,te(["tags","selectedTags"]),"svelte-eq0qkl"),rt(B,20,()=>o(s),O=>O,(O,D)=>{ct(O,{get title(){return D},onClick:()=>l(D),style:"selected"})}),et(B,O=>T(n,O),()=>o(n)),m(W,B)};U(H,W=>{o(s).length>0&&W(re)})}var G=x(w,2);Z(G,1,te(["tags","tagsWrapper"]),"svelte-eq0qkl"),rt(G,21,()=>o(c),W=>W.name,(W,B)=>{var O=V(),D=N(O);{var M=z=>{ct(z,{get title(){return o(B).name},onClick:()=>i(o(B).name)})};U(D,z=>{(o(r)===""||o(B).name.toLowerCase().indexOf(o(r).toLowerCase())!==-1)&&z(M)})}m(W,O)}),le(W=>{he(P,"href",o(u)),Pn(G,`height: calc(100dvh - 190px - ${W??""}px);`)},[()=>o(n)?o(n).getBoundingClientRect().height:0]),m(_,k)},$$slots:{default:!0}})},g=p=>{var _=Kl(),y=b(_),k=b(y),w=b(k);ea(w,{placeholder:"Search tag",get value(){return o(r)},set value(S){T(r,S,!0)}});var E=x(k,2);{var C=S=>{var F=Vl();Z(F,1,te(["tags","selectedTags"]),"svelte-eq0qkl"),rt(F,20,()=>o(s),A=>A,(A,H)=>{ct(A,{get title(){return H},onClick:()=>l(H),style:"selected"})}),m(S,F)};U(E,S=>{o(s).length>0&&S(C)})}var P=x(y,2);rt(P,21,()=>o(c),S=>S.name,(S,F)=>{var A=V(),H=N(A);{var re=G=>{ct(G,{get title(){return o(F).name},onClick:()=>i(o(F).name)})};U(H,G=>{(o(r)===""||o(F).name.toLowerCase().indexOf(o(r).toLowerCase())!==-1)&&G(re)})}m(S,A)}),m(p,_)};U(f,p=>{On()?p(h):p(g,!1)})}m(e,v),X()}Be(["click"]);function xt(e){const t=String.fromCharCode(...new Uint8Array(e));return window.btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function ka(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");const n=t.length%4;return n&&(t+="=".repeat(4-n)),t}function Ea(e){try{const t=atob(e),n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n.buffer}catch(t){throw console.error("Error decoding base64:",t,"Input:",e),t}}function Ou(e){const t=ka(e);return Ea(t)}const Mu=async({challenge:e,clientKey:t})=>{const n=Math.floor(Math.random()*100),r={challenge:Ea(ka(e)),rp:{id:"localhost",name:"notes"},user:{id:new Uint8Array([...t,...crypto.getRandomValues(new Uint8Array(16))]).buffer,name:`account_${n}`,displayName:`account_${n}`},pubKeyCredParams:[{type:"public-key",alg:-7},{type:"public-key",alg:-257}],authenticatorSelection:{userVerification:"required"},timeout:6e4,attestation:"none"},s=await navigator.credentials.create({publicKey:r});if(s){const a=s.response;return{challenge:e,id:s.id,rawId:xt(s.rawId),type:s.type,response:{clientDataJSON:xt(a.clientDataJSON),attestationObject:xt(a.attestationObject)}}}else throw new Error},Iu=async({challenge:e})=>{const t={challenge:Ea(ka(e)),timeout:6e4,rpId:"localhost",userVerification:"required"},n=await navigator.credentials.get({publicKey:t});if(n){const r=n.response,s=new DataView(r.authenticatorData).getUint32(33,!1);console.log("Counter:",s);const a={challenge:e,id:n.id,rawId:xt(n.rawId),type:n.type,response:{authenticatorData:xt(r.authenticatorData),clientDataJSON:xt(r.clientDataJSON),signature:xt(r.signature)}};if(!r.userHandle)throw new Error("No credential found");const i=new Uint8Array(r.userHandle).slice(0,32);return{credentialData:a,clientKey:i}}else throw new Error("No credential found")},Yl=async e=>{const t=await crypto.subtle.importKey("raw",e.serverKey,{name:"HKDF"},!1,["deriveKey"]),n=await crypto.subtle.deriveKey({name:"HKDF",salt:new Uint8Array(12),info:new TextEncoder().encode("aes-gcm-shared"),hash:"SHA-256"},t,{name:"AES-GCM",length:256},!1,["encrypt"]);return{encryptedClientKey:await crypto.subtle.encrypt({name:"AES-GCM",iv:new Uint8Array(12)},n,e.clientKey)}},Ru=async e=>{const t=await crypto.subtle.importKey("raw",e.serverKey,{name:"HKDF"},!1,["deriveKey"]),n=await crypto.subtle.deriveKey({name:"HKDF",info:new TextEncoder().encode("aes-gcm-shared"),hash:"SHA-256",salt:new Uint8Array(12)},t,{name:"AES-GCM",length:256},!1,["decrypt"]),r=await crypto.subtle.decrypt({name:"AES-GCM",iv:new Uint8Array(12)},n,e.encryptedClientKey);return new Uint8Array(r)},oo=()=>crypto.randomUUID(),Xl="AppStorage",Gl=1,tt="notes",Xa="syncLog",Ln="account";let ft;const Jl=()=>new Promise((e,t)=>{const n=indexedDB.open(Xl,Gl);n.addEventListener("upgradeneeded",()=>{const r=n.result;r.objectStoreNames.contains(tt)||r.createObjectStore(tt,{keyPath:"id"}),r.objectStoreNames.contains(Ln)||r.createObjectStore(Ln,{keyPath:"id"}),r.objectStoreNames.contains(Xa)||r.createObjectStore(Xa,{keyPath:"id"})}),n.addEventListener("success",()=>{e(),ft=n.result,ft.onversionchange=function(){ft?.close(),alert("app outdated, please reload the page")}}),n.addEventListener("blocked",()=>{t(),alert("app outdated, please reload the page")}),n.addEventListener("error",()=>{t(),console.error("Error",n.error)})}),io=()=>new Promise((e,t)=>{const r=ft?.transaction(Ln,"readonly")?.objectStore(Ln).get("default");r?.addEventListener("success",()=>{const s=r?.result?.account;e(s)}),r?.addEventListener("error",()=>{t()})}),lo=e=>new Promise((t,n)=>{const a=ft?.transaction(Ln,"readwrite")?.objectStore(Ln)?.put({id:"default",account:e});a?.addEventListener("success",()=>{console.log("account inited"),t()}),a?.addEventListener("error",()=>{n()})}),ar=()=>new Promise((e,t)=>{const r=ft?.transaction(tt,"readonly")?.objectStore(tt).getAll();r?.addEventListener("success",()=>{const s=r.result;e(s)}),r?.addEventListener("error",()=>{t()})}),co=async e=>new Promise((t,n)=>{const a=ft?.transaction(tt,"readwrite")?.objectStore(tt)?.put({...e});a?.addEventListener("success",()=>{t()}),a?.addEventListener("error",()=>{n()})}),Zl=async e=>new Promise((t,n)=>{const a=ft?.transaction(tt,"readwrite")?.objectStore(tt)?.delete(e);a?.addEventListener("success",()=>{t()}),a?.addEventListener("error",()=>{n()})}),Ql=()=>new Promise((e,t)=>{const s=ft?.transaction(tt,"readwrite")?.objectStore(tt)?.clear();s?.addEventListener("success",()=>{e()}),s?.addEventListener("error",()=>{t()})}),Ta=async()=>{await Ql()},$l=async e=>{const t=(await ar()).reduce((a,i)=>(a[i.id]=i,a),{}),n={},s=ft?.transaction(tt,"readwrite")?.objectStore(tt);e.forEach(a=>{t[a.id]?t[a.id].updatedAt<a.updatedAt&&(n[a.id]=a):n[a.id]=a}),await Promise.all(Object.values(n).map(a=>{const i=s?.put(a);return new Promise((l,c)=>{i?.addEventListener("success",()=>{l()}),i?.addEventListener("error",()=>{c()})})}))},ta=(e,t,n,r=new Set,s={})=>{for(const a of e.children)if(a.tagName==="DT"){const i=a.querySelector(":scope > A"),l=a.querySelector(":scope > H3");if(i){const c=i.getAttribute("href"),u=i.textContent||"unknown";if(!c)return n;const d=t.find(v=>v.toLowerCase()==="bookmarks bar")?t.filter(v=>v.toLowerCase()!=="bookmarks bar"):["other"];if(s[c])s[c].tags=[...new Set([...s[c].tags,...d])];else{const v={id:oo(),url:c,title:u,description:"",tags:d.length>0?d:[],updatedAt:Date.now(),createdAt:Date.now()};s[v.url]=v,n.push(v)}}else if(l){const c=l.textContent?.trim();if(c&&l.nextElementSibling?.tagName==="DL"){const u=[...t];u.push(c);const d=l.nextElementSibling;r.has(d)||(r.add(d),ta(d,u,n,r,s))}}}else a.tagName!=="DL"&&a.children.length>0&&(r.has(a)||(r.add(a),ta(a,[...t],n,r,s)));return n},Bu=async e=>{const t=await e.text(),s=new DOMParser().parseFromString(t,"text/html").querySelector("DL");return s?ta(s,[],[]):[]},qu=e=>{const t=Math.floor(Date.now()/1e3),n={};e.forEach(s=>{const a=s.tags||["Imported"];if(a.length===0){n.ROOT||(n.ROOT=[]),n.ROOT.push(s);return}a.forEach(i=>{n[i]||(n[i]=[]),n[i].push(s)})});let r=`<!DOCTYPE NETSCAPE-Note-file-1>
<!-- This is an automatically generated file.
 It will be read and overwritten.
 DO NOT EDIT! -->
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8">
<TITLE>notes</TITLE>
<H1>notes</H1>
<DL><p>
<DT><H3 ADD_DATE="${t}" LAST_MODIFIED="${t}" PERSONAL_TOOLBAR_FOLDER="true">notes Bar</H3>
<DL><p>`;return Object.keys(n).forEach(s=>{s!=="ROOT"&&s!=="other"&&(r+=`
	<DT><H3 ADD_DATE="${t}" LAST_MODIFIED="${t}">${s}</H3>
	<DL><p>`,n[s].forEach(a=>{const i=a.title.replace(/"/g,"&quot;");r+=`
		<DT><A HREF="${a.url}" ADD_DATE="${Math.floor(a.createdAt/1e3)||t}">${i}</A>`}),r+=`
	</DL><p>`)}),n.ROOT&&n.ROOT.forEach(s=>{const a=s.title.replace(/"/g,"&quot;");r+=`
	<DT><A HREF="${s.url}" ADD_DATE="${Math.floor(s.createdAt/1e3)||t}">${a}</A>`}),r+=`
</DL><p>`,n.other&&n.other.forEach(s=>{const a=s.title.replace(/"/g,"&quot;");r+=`
	<DT><A HREF="${s.url}" ADD_DATE="${Math.floor(s.createdAt/1e3)||t}">${a}</A>`}),r+="</DL><p>",r};async function Ca(){if(navigator.storage&&navigator.storage.persist)try{await navigator.storage.persisted()||await navigator.storage.persist()}catch{console.error("")}}const Fu=async e=>{const t="notes-export.json",n=JSON.stringify({notes:e}),r=new Blob([n],{type:"application/json"}),s=URL.createObjectURL(r),a=document.createElement("a");a.href=s,a.download=t,document.body.appendChild(a),a.click(),setTimeout(()=>{document.body.removeChild(a),URL.revokeObjectURL(s)},0)},Mt=crypto.randomUUID(),It=new BroadcastChannel("app");It.addEventListener("message",async e=>{if(e.data&&typeof e.data=="string"){const t=JSON.parse(e.data);if(t.tabId&&t.tabId===Mt)return;if(console.log("Received message from BroadcastChannel:",e.data),t.operation==="addNote"){const n=t.note;$s(n)}else if(t.operation==="updateNote"){const n=t.note;eo(n)}else if(t.operation==="deleteNote"){const n=t.noteId;to(n)}else if(t.operation==="clearAppState")no();else if(t.operation==="reloadNotes"){const n=await ar();await rr(n)}else if(t.operation==="initLocalAccount")Dn(null),Qr(),Lt("/");else if(t.operation==="initAccount"){const n=await io();n&&(Dn(n),Qr(),Lt("/"))}}});Jl().then(async()=>{Ol();const e=await io();if(e===void 0)ze("start");else{vl("start")&&(Qr(),Lt("/")),e?(Dn(e),await Ca()):Dn(null);const t=await ar();await rr(t)}}).catch(()=>{console.error("failed to init db")});const ec=async e=>{const t={...e,id:oo(),createdAt:Date.now(),updatedAt:Date.now()};$s(t),It.postMessage(JSON.stringify({tabId:Mt,operation:"addNote",note:{...t}})),await co({...t})},tc=async e=>{const t={...e,updatedAt:Date.now()};It.postMessage(JSON.stringify({tabId:Mt,operation:"updateNote",note:t})),eo(t),await co(t)},nc=async e=>{It.postMessage(JSON.stringify({tabId:Mt,operation:"deleteNote",noteId:e})),to(e),await Zl(e)},Hu=async()=>{It.postMessage(JSON.stringify({tabId:Mt,operation:"clearAppState"})),no(),await Ta()},Uu=async e=>{await $l(e),It.postMessage(JSON.stringify({tabId:Mt,operation:"reloadNotes"}));const t=await ar();await rr(t)},rc=async()=>{await Ta(),await Ca(),await lo(null),Dn(null),await rr([]),It.postMessage(JSON.stringify({tabId:Mt,operation:"initLocalAccount"}))},ju=async e=>{await Ta(),await Ca();const{encryptedClientKey:t}=await Yl({clientKey:e.clientKey,serverKey:e.serverKey}),n={encryptedClientKey:xt(t),lastLogId:-1,lastSync:-1};await lo(n),Dn(n);const r=await ar();await rr(r),It.postMessage(JSON.stringify({tabId:Mt,operation:"initAccount"}))};var ac=q('<div class="input-container svelte-hz572l"><input/> <div class="error-message svelte-hz572l"><!></div></div>');function fr(e,t){Y(t,!0);let n=ae(t,"value",15,""),r=ae(t,"error",3,"");var s=ac(),a=b(s);a.__input=function(...d){t.onInput?.apply(this,d)};let i;var l=x(a,2),c=b(l);{var u=d=>{var v=je();le(()=>At(v,r())),m(d,v)};U(c,d=>{r()&&d(u)})}le(d=>{he(a,"placeholder",t.placeholder),i=Z(a,1,"svelte-hz572l",null,i,d)},[()=>({error:!!r()})]),Cn("blur",a,function(...d){t.onBlur?.apply(this,d)}),Cn("focus",a,function(...d){t.onFocus?.apply(this,d)}),ma(a,n),m(e,s),X()}Be(["input"]);const sc=(e,t,n)=>{t(e.target.value),n.onChange(t())};var oc=q('<input type="radio"/> <label> </label>',1),ic=q('<div class="wrapper svelte-1nyq5m4"><fieldset class="switcher svelte-1nyq5m4"><!> <div class="wrapSwitcherStatus svelte-1nyq5m4"><div class="switcherStatus svelte-1nyq5m4"></div></div></fieldset></div>');function lc(e,t){const n=qi();Y(t,!0);let r=ae(t,"value",7);const s=`switcher-${n}`;var a=ic(),i=b(a),l=b(i);rt(l,17,()=>t.items,d=>d.title,(d,v)=>{var f=oc(),h=N(f);Z(h,1,te(["vh","input"]),"svelte-1nyq5m4"),h.__change=[sc,r,t];var g=x(h,2);Z(g,1,te(["switcherButton"]),"svelte-1nyq5m4");var p=b(g);le(()=>{he(h,"id",`${o(v).title}-${n}`),he(h,"name",s),pr(h,o(v).value),_r(h,o(v).value===r()),he(h,"aria-label",o(v).title),he(g,"for",`${o(v).title}-${n}`),he(g,"title",o(v).title),he(g,"aria-label",o(v).title),At(p,o(v).value)}),m(d,f)});var c=x(l,2),u=b(c);le(d=>Pn(u,d),[()=>`transform: translateX(${t.items.findIndex(d=>d.value===r())*100}%)`]),m(e,a),X()}Be(["change"]);var cc=q("<div></div>"),uc=q('<form class="svelte-11hxhk8"><!> <!> <!> <div class="boxtags"><div class="sidebarFixed"><!></div> <div class="tags svelte-11hxhk8"><!> <!></div> <div class="searchWrapper svelte-11hxhk8"><!></div></div> <button class="buttonSubmit svelte-11hxhk8" type="submit"> </button></form>'),dc=q("<div></div>"),fc=q('<form class="svelte-11hxhk8"><textarea class="note svelte-11hxhk8" placeholder="note"></textarea> <div class="boxtags"><div class="sidebarFixed"><!></div> <div class="tags svelte-11hxhk8"><!> <!></div> <div class="searchWrapper svelte-11hxhk8"><!></div></div> <button class="buttonSubmit svelte-11hxhk8" type="submit"> </button></form>'),vc=q("<!> <!>",1);function uo(e,t){Y(t,!0);let n=ae(t,"initialTitle",3,""),r=ae(t,"initialUrl",3,""),s=ae(t,"initialDescription",3,""),a=ae(t,"initialTags",19,()=>[]),i=ae(t,"mode",3,"add"),l=R(""),c=R("note"),u=R(ge(n())),d=R(ge(r())),v=R(ge(s())),f=R(ge(a().filter(A=>A!=="inbox")));const h=A=>{o(f).includes(A)||T(f,[...o(f),A],!0)},g=A=>{const H=o(f).filter(re=>re!==A);H.length===0?T(f,[],!0):T(f,H,!0)};let p=j(()=>An()?[...Qs().reduce((A,H)=>(H?.tags.forEach(re=>{A.has(re)||A.add(re)}),A),new Set)]:[]),_=j(()=>An()?o(p).filter(A=>!o(f).some(H=>A===H)&&A!=="inbox"):[]),y=j(()=>o(_).find(A=>A.toLowerCase()===o(l).toLowerCase())||o(f).includes(o(l))),k=j(()=>o(_).filter(A=>o(l)===""?!0:A.toLowerCase().indexOf(o(l).toLowerCase())!==-1).slice(0,o(y)||o(l)===""?3:2));const w=A=>{A.preventDefault(),t.onSubmit({title:o(u).trim().slice(0,256)||"unkwown",url:o(d).trim().slice(0,2048),description:o(v).trim().slice(0,2048),tags:o(f).length>0?o(f):["inbox"]})};var E=vc(),C=N(E);lc(C,{items:[{title:"note",value:"note"},{title:"bookmark",value:"bookmark"}],get value(){return o(c)},onChange:A=>{T(c,A,!0)}});var P=x(C,2);{var S=A=>{var H=uc(),re=b(H);fr(re,{placeholder:"url",get value(){return o(d)},set value($){T(d,$,!0)}});var G=x(re,2);fr(G,{placeholder:"title",get value(){return o(u)},set value($){T(u,$,!0)}});var W=x(G,2);U(W,$=>{});var B=x(W,2),O=b(B),D=b(O);{var M=$=>{var L=cc();Z(L,1,te(["tags","selectedTags"]),"svelte-11hxhk8"),rt(L,20,()=>o(f),K=>K,(K,ce)=>{ct(K,{get title(){return ce},onClick:()=>g(ce),type:"button",style:"selected"})}),m($,L)};U(D,$=>{o(f).length>0&&$(M)})}var z=x(O,2),oe=b(z);{var pe=$=>{var L=V(),K=N(L);rt(K,16,()=>o(k),ce=>ce,(ce,ue)=>{ct(ce,{get title(){return ue},onClick:()=>h(ue)})}),m($,L)};U(oe,$=>{o(l)!==""&&$(pe)})}var ye=x(oe,2);{var se=$=>{ct($,{get title(){return o(l)},onClick:()=>{h(o(l)),T(l,"")}})};U(ye,$=>{!o(y)&&o(l)!==""&&$(se)})}var Ne=x(z,2),Ve=b(Ne);fr(Ve,{placeholder:"search tag",get value(){return o(l)},set value($){T(l,$,!0)}});var fe=x(B,2),Ke=b(fe);le(()=>At(Ke,i()==="add"?"add":"edit")),Cn("submit",H,w),m(A,H)},F=A=>{var H=fc(),re=b(H),G=x(re,2),W=b(G),B=b(W);{var O=fe=>{var Ke=dc();Z(Ke,1,te(["tags","selectedTags"]),"svelte-11hxhk8"),rt(Ke,20,()=>o(f),$=>$,($,L)=>{ct($,{get title(){return L},onClick:()=>g(L),type:"button",style:"selected"})}),m(fe,Ke)};U(B,fe=>{o(f).length>0&&fe(O)})}var D=x(W,2),M=b(D);{var z=fe=>{var Ke=V(),$=N(Ke);rt($,16,()=>o(k),L=>L,(L,K)=>{ct(L,{get title(){return K},onClick:()=>h(K)})}),m(fe,Ke)};U(M,fe=>{o(l)!==""&&fe(z)})}var oe=x(M,2);{var pe=fe=>{ct(fe,{get title(){return o(l)},onClick:()=>{h(o(l)),T(l,"")}})};U(oe,fe=>{!o(y)&&o(l)!==""&&fe(pe)})}var ye=x(D,2),se=b(ye);fr(se,{placeholder:"search tag",get value(){return o(l)},set value(fe){T(l,fe,!0)}});var Ne=x(G,2),Ve=b(Ne);le(()=>At(Ve,i()==="add"?"add":"edit")),Cn("submit",H,w),ma(re,()=>o(v),fe=>T(v,fe)),m(A,H)};U(P,A=>{o(c)==="bookmark"?A(S):A(F,!1)})}m(e,E),X()}function hc(e,t){Y(t,!0);let n=R(!0);const r=()=>{t.onClose()},s=()=>{T(n,!1)},a=({title:i,url:l,description:c,tags:u})=>{tc({...t.note,title:i,url:l,description:c,tags:u.map(d=>d.trim())}),s()};Js(e,{get shownDialog(){return o(n)},onClose:r,children:(i,l)=>{uo(i,{get initialTitle(){return t.note.title},get initialUrl(){return t.note.url},get initialDescription(){return t.note.description},get initialTags(){return t.note.tags},onSubmit:a,mode:"edit"})},$$slots:{default:!0}}),X()}var gc=q('<dialog><div class="dialogInner svelte-w3h659"><!></div></dialog> <!>',1);function fo(e,t){Y(t,!0);let n=R(null),r=R(null),s=R(!1);const a=()=>{const f=setTimeout(()=>{t.onClosed()},150);o(n)?.addEventListener("transitionend",()=>{clearTimeout(f),t.onClosed()},{once:!0}),T(s,!1)};Le(()=>{t.startClose&&a()}),ke(()=>{o(n)?.showModal(),o(n)?.getClientRects(),T(s,!0)}),ke(()=>(Ws(),()=>{Ys()}));var i=gc(),l=N(i),c=b(l),u=b(c);ot(u,()=>t.children),et(c,f=>T(r,f),()=>o(r)),et(l,f=>T(n,f),()=>o(n));var d=x(l,2);{var v=f=>{so(f,{get dialog(){return o(n)},get dialogInner(){return o(r)},onClose:a})};U(d,f=>{o(n)&&o(r)&&f(v)})}le(()=>Z(l,1,te(["dialog",{shown:o(s)}]),"svelte-w3h659")),m(e,i),X()}var pc=q("<div><!></div>");function vo(e,t){Y(t,!0);let n=R(!1),r=R(null);const s=()=>{const u=setTimeout(()=>{t.onClosed()},150);o(r)?.addEventListener("transitionend",()=>{clearTimeout(u),t.onClosed()},{once:!0}),T(n,!1)},a=u=>{u.target!==o(r)&&!o(r)?.contains(u.target)&&s()},i=u=>{u.target!==o(r)&&!o(r)?.contains(u.target)&&s()};ke(()=>{o(r)?.getClientRects(),T(n,!0);const u=setTimeout(()=>{document.addEventListener("focusin",a),document.addEventListener("click",i)},0);return()=>{clearTimeout(u),document.removeEventListener("focusin",a),document.removeEventListener("click",i)}}),Le(()=>{t.startClose&&s()});var l=pc(),c=b(l);ot(c,()=>t.children),et(l,u=>T(r,u),()=>o(r)),le(()=>Z(l,1,te(["menu",{top:t.positionTop,shown:o(n)}]),"svelte-vbw57a")),m(e,l),X()}const _c=(e,t,n)=>{const r=ao();t.note.tags.forEach(s=>{if(o(n).includes(s)&&r[s].connections===1){const a=new URLSearchParams(I.search),i=o(n).filter(l=>l!==s);i.length===0?a.delete("selectedTags"):a.set("selectedTags",i.join(",")),fl(`${I.pathname}${a.size>0?`?${a.toString()}`:""}`)}}),nc(t.note.id)},mc=(e,t,n)=>{T(t,!0),T(n,!0)};var wc=q('<div class="menu svelte-xxw0l"><div><button>Edit</button></div> <div><button>Delete</button></div></div>'),yc=q('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),bc=q("<!> <!>",1);function Sc(e,t){Y(t,!0);const n=(p,_=Qt)=>{var y=wc(),k=b(y),w=b(k);w.__click=[mc,a,s];var E=x(k,2),C=b(E);C.__click=[_c,t,l],le(()=>{Z(w,1,te(["button",{buttonMenuDialog:_()}]),"svelte-xxw0l"),Z(C,1,te(["button",{buttonMenuDialog:_()}]),"svelte-xxw0l")}),m(p,y)};let r=ae(t,"shownMenu",15),s=R(!1),a=R(!1),i=j(On),l=j(()=>new URLSearchParams(I.search).get("selectedTags")?.split(",")||[]);const c=()=>{T(s,!1)},u=()=>{r(!1),T(a,!1)};var d=bc(),v=N(d);{var f=p=>{var _=V(),y=N(_);{var k=E=>{fo(E,{get startClose(){return o(a)},onClosed:u,children:(C,P)=>{n(C,()=>!0)},$$slots:{default:!0}})},w=E=>{var C=yc(),P=N(C);Se(P,()=>({"--bottom":"-180%","--right":"30px"})),vo(P.lastChild,{get startClose(){return o(a)},get positionTop(){return t.showMenuUp},onClosed:u,children:(S,F)=>{n(S,()=>!1)},$$slots:{default:!0}}),m(E,C)};U(y,E=>{o(i)?E(k):E(w,!1)})}m(p,_)};U(v,p=>{r()&&p(f)})}var h=x(v,2);{var g=p=>{hc(p,{get note(){return t.note},onClose:c})};U(h,p=>{o(s)&&p(g)})}m(e,d),X()}Be(["click"]);const kc=(e,t,n)=>{t.showMenuUp||T(n,!0)},Ec=(e,t)=>{navigator.clipboard.writeText(t.note.url),el("Link copied to clipboard")},Tc=(e,t)=>{T(t,!0)},Cc=(e,t)=>{T(t,!1)};var Pc=q('<li class="note svelte-1mtwaux"><img loading="lazy" class="noteIcon" height="16" width="16" alt="icon"/> <a class="noteLink svelte-1mtwaux" target="_blank" rel="noopener noreferrer"> </a> <div class="spacer svelte-1mtwaux"></div> <div><button class="button svelte-1mtwaux"><!> <!></button> <button><!> <!></button> <!></div></li>');function xc(e,t){Y(t,!0);let n=R(!1),r=R(!1);const s=y=>{try{return`https://external-content.duckduckgo.com/ip3/${new URL(y).host}.ico`}catch{return""}};var a=Pc();a.__focusin=[Tc,n],a.__focusout=[Cc,n];var i=b(a),l=x(i,2),c=b(l),u=x(l,4),d=b(u);d.__click=[Ec,t];var v=b(d);we(v,{name:"copy"});var f=x(v,2);xn(f,{children:(y,k)=>{var w=je("copy link");m(y,w)}});var h=x(d,2);h.__click=[kc,t,r],Z(h,1,te(["button","buttonMenu"]),"svelte-1mtwaux");var g=b(h);we(g,{name:"menu"});var p=x(g,2);xn(p,{children:(y,k)=>{var w=je("show menu");m(y,w)}});var _=x(h,2);Sc(_,{get note(){return t.note},get showMenuUp(){return t.showMenuUp},get shownMenu(){return o(r)},set shownMenu(y){T(r,y,!0)}}),le(y=>{he(i,"src",y),he(l,"tabindex",t.focusHidden?-1:0),he(l,"href",t.note.url),At(c,t.note.title),Z(u,1,te(["noteMenuWrapper",{noteMenuWrapperActive:o(n)}]),"svelte-1mtwaux"),he(d,"tabindex",t.focusHidden?-1:0),he(h,"tabindex",t.focusHidden?-1:0)},[()=>s(t.note.url)]),m(e,a),X()}Be(["focusin","focusout","click"]);const na=ge({ref:null}),Dc=(e,t)=>{o(t)||T(t,!0)};var Ac=(e,t)=>t("newest"),Lc=(e,t)=>t("oldest"),Nc=(e,t)=>t("AtoZ"),Oc=(e,t)=>t("ZtoA"),Mc=q("<div><button>Newest</button> <button>Oldest</button> <button>A to Z</button> <button>Z to A</button></div>"),Ic=q('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),Rc=q('<div class="orderMenu svelte-16tnh9z"><button><!> <!></button> <!></div>');function Bc(e,t){Y(t,!0);const n=(p,_=Qt)=>{var y=Mc(),k=b(y);k.__click=[Ac,l];var w=x(k,2);w.__click=[Lc,l];var E=x(w,2);E.__click=[Nc,l];var C=x(E,2);C.__click=[Oc,l],le(()=>{Z(y,1,te(["menu",{menuDialog:_()}]),"svelte-16tnh9z"),Z(k,1,te(["menuButton",{menuButtonDialog:_(),current:o(i)==="newest"}]),"svelte-16tnh9z"),Z(w,1,te(["menuButton",{menuButtonDialog:_(),current:o(i)==="oldest"}]),"svelte-16tnh9z"),Z(E,1,te(["menuButton",{menuButtonDialog:_(),current:o(i)==="AtoZ"}]),"svelte-16tnh9z"),Z(C,1,te(["menuButton",{menuButtonDialog:_(),current:o(i)==="ZtoA"}]),"svelte-16tnh9z")}),m(p,y)};let r=R(!1),s=R(!1),a=j(On),i=j(qs);const l=p=>{T(s,!0),cl(p)},c=()=>{T(r,!1),T(s,!1)};var u=Rc(),d=b(u);d.__click=[Dc,r],Z(d,1,te(["button","buttonMenu"]),"svelte-16tnh9z");var v=b(d);we(v,{name:"filter"});var f=x(v,2);xn(f,{children:(p,_)=>{var y=je("show feed order menu");m(p,y)}});var h=x(d,2);{var g=p=>{var _=V(),y=N(_);{var k=E=>{fo(E,{get startClose(){return o(s)},onClosed:c,children:(C,P)=>{n(C,()=>!0)},$$slots:{default:!0}})},w=E=>{var C=Ic(),P=N(C);Se(P,()=>({"--right":"20px","--top":"60px"})),vo(P.lastChild,{get startClose(){return o(s)},onClosed:c,children:(S,F)=>{n(S,()=>!1)},$$slots:{default:!0}}),m(E,C)};U(y,E=>{o(a)?E(k):E(w,!1)})}m(p,_)};U(h,p=>{o(r)&&p(g)})}m(e,u),X()}Be(["click"]);var qc=q('<div><!> <div class="loader svelte-1wuuvr"></div></div>');function ho(e,t){Y(t,!0);let n=R(!1);ke(()=>{const a=setTimeout(()=>{T(n,!0)},200);return()=>{clearTimeout(a)}});var r=qc(),s=b(r);ot(s,()=>t.children??Qt),le(()=>Z(r,1,te(["block",{shown:o(n)}]),"svelte-1wuuvr")),m(e,r),X()}var Fc=q("<a><!></a>"),Hc=q('<button type="button"><!></button>');function Nt(e,t){let n=ae(t,"type",3,"standard"),r=ae(t,"element",3,"button"),s=ae(t,"href",3,""),a=ae(t,"fullWidth",3,!1);var i=V(),l=N(i);{var c=d=>{var v=Fc();v.__click=function(...h){t.onClick?.apply(this,h)};var f=b(v);ot(f,()=>t.children??Qt),le(()=>{he(v,"href",s()),Z(v,1,te(["button","a",{dangerous:n()==="dangerous",secondary:n()==="secondary",fullWidth:a()}]),"svelte-na2c6y")}),m(d,v)},u=d=>{var v=Hc();v.__click=function(...h){t.onClick?.apply(this,h)};var f=b(v);ot(f,()=>t.children??Qt),le(()=>Z(v,1,te(["button",{dangerous:n()==="dangerous",secondary:n()==="secondary",fullWidth:a()}]),"svelte-na2c6y")),m(d,v)};U(l,d=>{r()==="a"?d(c):d(u,!1)})}m(e,i)}Be(["click"]);const Uc=(e,t)=>{o(t)&&o(t).scrollTo({top:0,behavior:"smooth"})};var jc=q('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Add note</span>',1),zc=q('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span style="padding-left: 6px;">Import data</span>',1),Vc=q('<div class="emptyStore svelte-18wxs6q"><p class="message">No notes found</p> <div class="wrapperButtonsAdd svelte-18wxs6q"><!></div> <div>or</div> <div class="wrapperButtonsAdd svelte-18wxs6q"><!></div></div>'),Kc=q('<div class="emptyMessage svelte-18wxs6q">No notes found</div>'),Wc=q('<div class="feed svelte-18wxs6q"><ul class="svelte-18wxs6q"></ul></div>'),Yc=q('<div class="wrapperButtonTop svelte-18wxs6q"><button class="buttonTop svelte-18wxs6q"><!> <svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></button></div>'),Xc=q('<div class="filter svelte-18wxs6q"><div class="searchWrapper svelte-18wxs6q"><!></div> <!></div> <div class="wrapperFeed svelte-18wxs6q"><div class="wrapperContainer svelte-18wxs6q"><!></div></div> <!>',1);function Gc(e,t){Y(t,!0);let n=R(null),r=50,s=R(0),a=R(0),i=R(0),l=R(ge([])),c=R(""),u=j(()=>On()?o(n):na.ref),d=null,v=null,f=R(!1),h=0;const g=j(ul);Le(()=>{o(c),o(g),o(k),o(u)?.scrollTo(0,0)});const p=()=>{if(o(u)){const L=o(u).scrollTop||0;L===0?T(f,!1):!o(f)&&h>L?T(f,!0):o(f)&&h<L&&T(f,!1),h=L}},_=()=>{Xs(),d||(d=requestAnimationFrame(()=>{p();const L=o(u)?.scrollTop||0;T(i,L,!0);const K=Math.ceil(o(s)/r);T(a,Math.floor(L/(r*K))*(r*K)),d=null}))},y=()=>{v||(v=requestAnimationFrame(()=>{p(),T(s,window.innerHeight-180||0,!0);const L=o(u)?.scrollTop||0;T(i,L,!0);const K=Math.ceil(o(s)/r);T(a,Math.floor(L/(r*K))*(r*K)),v=null}))};ke(()=>{y(),_()}),Le(()=>(o(u)?.addEventListener("scroll",_),window.addEventListener("resize",y),()=>{o(u)?.removeEventListener("scroll",_),window.removeEventListener("resize",y)}));const k=j(qs);let w=j(()=>Qs()||[]);Le(()=>{const L=[],K={};for(let ce=o(w).length-1;ce>=0;ce--){const ue=o(w)[ce];if(ue&&!(o(g).length&&o(g).some(de=>!ue.tags.includes(de)))&&!(o(c)&&!(ue.title.toLowerCase().includes(o(c).toLowerCase())||ue.url.toLowerCase().includes(o(c).toLowerCase())||ue.description.toLowerCase().includes(o(c).toLowerCase())))){if(ue.tags)for(const de of ue.tags)K[de]?K[de].connections++:K[de]={name:de,connections:1};L.push(ue)}}Il(K),L.sort((ce,ue)=>{if(!ce||!ue)return 0;switch(o(k)){case"newest":return ce.createdAt>ue.createdAt?-1:1;case"oldest":return ce.createdAt<ue.createdAt?-1:1;case"AtoZ":return ce.title.localeCompare(ue.title);case"ZtoA":return ue.title.localeCompare(ce.title);default:return 0}}),T(l,L,!0)});const E=j(()=>o(l).length*r);let P=j(()=>{const L=Math.ceil(o(s)/r);let K=Math.floor(o(a)/r);return K=K-Math.min(K,L),o(l).slice(K,K+L*3)}),S=j(()=>r*Math.ceil(o(s)/r));const F=j(()=>o(a)-Math.min(o(a),o(S))),A=()=>{o(u)&&o(u).scrollTo({top:0,behavior:"smooth"})},H=()=>{const L=it();L.includes("import")||L.push("import");const K=new URLSearchParams(I.search);return K.set("stackPages",L.join(",")),`${I.pathname}?${K}`};let G=j(()=>{const L=it();L.includes("newNote")||L.push("newNote");const K=new URLSearchParams(I.search);return K.set("stackPages",L.join(",")),`${I.pathname}?${K}`}),W=j(H);const B=L=>{L.preventDefault(),ze("newNote")},O=L=>{L.preventDefault(),ze("import")};var D=Xc(),M=N(D),z=b(M),oe=b(z);ea(oe,{onFocus:A,placeholder:"Search",get value(){return o(c)},set value(L){T(c,L,!0)}});var pe=x(z,2);Bc(pe,{});var ye=x(M,2),se=b(ye),Ne=b(se);{var Ve=L=>{ho(L,{})},fe=L=>{var K=V(),ce=N(K);{var ue=xe=>{var We=Vc(),qe=x(b(We),2),pt=b(qe);Nt(pt,{element:"a",get href(){return o(G)},onClick:B,children:(De,nt)=>{var Te=jc(),ve=N(Te);Se(ve,()=>({"--size":"24px","--color":"#b0b0b0"})),we(ve.lastChild,{name:"plus"}),m(De,Te)},$$slots:{default:!0}});var be=x(qe,4),Ee=b(be);Nt(Ee,{element:"a",get href(){return o(W)},onClick:O,children:(De,nt)=>{var Te=zc(),ve=N(Te);Se(ve,()=>({"--size":"18px","--color":"#b0b0b0"})),we(ve.lastChild,{name:"import"}),m(De,Te)},$$slots:{default:!0}}),m(xe,We)},de=xe=>{var We=V(),qe=N(We);{var pt=Ee=>{var De=Kc();m(Ee,De)},be=Ee=>{var De=Wc(),nt=b(De);rt(nt,23,()=>o(P),Te=>Te.id,(Te,ve,Fe)=>{{let Rt=j(()=>o(Fe)*r<o(i)-o(F)-r/2||o(Fe)*r>o(i)-o(F)+Math.floor(o(s)/r)*r),Mn=j(()=>(o(Fe)+3)*r<o(i)-o(F)-r/2||(o(Fe)+3)*r>o(i)-o(F)+Math.floor(o(s)/r)*r);xc(Te,{get focusHidden(){return o(Rt)},get showMenuUp(){return o(Mn)},get note(){return o(ve)}})}}),le(Te=>{Pn(De,`min-height: ${Te??""}px`),Pn(nt,`transform: translateY(${o(F)??""}px);`)},[()=>Math.max((o(E)>o(s),o(E)),0)]),m(Ee,De)};U(qe,Ee=>{o(P).length===0?Ee(pt):Ee(be,!1)},!0)}m(xe,We)};U(ce,xe=>{o(w).length===0?xe(ue):xe(de,!1)},!0)}m(L,K)};U(Ne,L=>{An()?L(fe,!1):L(Ve)})}et(se,L=>T(n,L),()=>o(n));var Ke=x(ye,2);{var $=L=>{var K=Yc(),ce=b(K);ce.__click=[Uc,u];var ue=b(ce);xn(ue,{children:(xe,We)=>{var qe=je("top");m(xe,qe)}});var de=x(ue,2);Se(de,()=>({"--size":"22px"})),we(de.lastChild,{name:"up"}),m(L,K)};U(Ke,L=>{o(f)&&L($)})}m(e,D),X()}Be(["click"]);var Jc=q('<!> <div class="content svelte-cu0ar8"><!></div>',1);function Zc(e){var t=Jc(),n=N(t);Wl(n,{});var r=x(n,2),s=b(r);Gc(s,{}),m(e,t)}var jt=(e=>(e.Light="light",e.System="system",e.Dark="dark",e))(jt||{});let go=R(ge(localStorage.getItem("colorScheme")||"system"));const Qc=e=>{localStorage.setItem("colorScheme",e),e==="system"?window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.dataset.colorScheme="dark":document.documentElement.dataset.colorScheme="light":document.documentElement.dataset.colorScheme=e,T(go,e,!0)},$c=()=>o(go);var eu=q('<div class="wrapper svelte-1syxvud"><fieldset class="switcher svelte-1syxvud"><legend class="vh svelte-1syxvud">Color Scheme</legend> <input id="light" type="radio" aria-label="Light"/> <label for="light" title="Light" aria-label="Light"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <input id="system" type="radio" aria-label="System"/> <label for="system" title="System" aria-label="System"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <input id="dark" type="radio" aria-label="Dark"/> <label for="dark" title="Dark" aria-label="Dark"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <div class="wrapSwitcherStatus svelte-1syxvud"><div class="switcherStatus svelte-1syxvud"></div></div></fieldset></div>');function tu(e,t){Y(t,!0);const n=j($c),r=_=>{const y=_.target.value;Qc(y)},s="color-scheme-switcher";var a=eu(),i=b(a),l=x(b(i),2);Z(l,1,te(["vh","input"]),"svelte-1syxvud"),he(l,"name",s),l.__change=r;var c=x(l,2);Z(c,1,te(["switcherButton","light"]),"svelte-1syxvud");var u=b(c);Se(u,()=>({"--size":"20px"})),we(u.lastChild,{name:"sun"});var d=x(c,2);Z(d,1,te(["vh","input"]),"svelte-1syxvud"),he(d,"name",s),d.__change=r;var v=x(d,2);Z(v,1,te(["switcherButton","system"]),"svelte-1syxvud");var f=b(v);Se(f,()=>({"--size":"14px"})),we(f.lastChild,{name:"a"});var h=x(v,2);Z(h,1,te(["vh","input"]),"svelte-1syxvud"),he(h,"name",s),h.__change=r;var g=x(h,2);Z(g,1,te(["switcherButton","dark"]),"svelte-1syxvud");var p=b(g);return Se(p,()=>({"--size":"20px"})),we(p.lastChild,{name:"moon"}),le(()=>{pr(l,jt.Light),_r(l,o(n)===jt.Light),pr(d,jt.System),_r(d,o(n)===jt.System),pr(h,jt.Dark),_r(h,o(n)===jt.Dark)}),m(e,a),X({handleChange:r})}Be(["change"]);const nu=()=>{ze("import")},ru=()=>{ze("export")},au=()=>{ze("clearStorage")},su=()=>{ze("accessKeys")};var ou=q('<li class="svelte-1akkbl0"><button class="button svelte-1akkbl0"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1akkbl0">Access keys</span></button></li>'),iu=q("<span> </span>"),lu=q('<div class="svelte-1akkbl0"><!> <ul class="svelte-1akkbl0"><li class="svelte-1akkbl0"><button class="button svelte-1akkbl0"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1akkbl0">Import data</span></button></li> <li class="svelte-1akkbl0"><button class="button svelte-1akkbl0"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1akkbl0">Export data</span></button></li> <li class="svelte-1akkbl0"><button class="button svelte-1akkbl0"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1akkbl0">Clear storage</span></button></li> <!></ul> <div class="version svelte-1akkbl0"><!></div></div>');function cu(e,t){Y(t,!0);let n=R("");ke(()=>{const C=new AbortController;return fetch("/build-metadata.json",{signal:C.signal}).then(P=>P.json()).then(P=>{T(n,`${P.buildHash}`)}),()=>{C.abort()}});let r=j(Ml);var s=lu(),a=b(s);tu(a,{});var i=x(a,2),l=b(i),c=b(l);c.__click=[nu];var u=b(c);Se(u,()=>({"--size":"20px"})),we(u.lastChild,{name:"import"});var d=x(l,2),v=b(d);v.__click=[ru];var f=b(v);Se(f,()=>({"--size":"20px"})),we(f.lastChild,{name:"export"});var h=x(d,2),g=b(h);g.__click=[au];var p=b(g);Se(p,()=>({"--size":"20px"})),we(p.lastChild,{name:"trash"});var _=x(h,2);{var y=C=>{var P=ou(),S=b(P);S.__click=[su];var F=b(S);Se(F,()=>({"--size":"20px"})),we(F.lastChild,{name:"key"}),m(C,P)};U(_,C=>{o(r)&&C(y)})}var k=x(i,2),w=b(k);{var E=C=>{var P=iu(),S=b(P);le(F=>At(S,`version: 0.0.1 build_date: "${F??""}" build_hash:
				${o(n)??""}`),[()=>new Date(1753657724243).toISOString().replaceAll("T"," ").replace(/\..*/,"")]),m(C,P)};U(w,C=>{o(n)&&C(E)})}m(e,s),X()}Be(["click"]);function uu(e,t){Y(t,!1);const n=()=>{Hs()},r=({title:s,url:a,description:i,tags:l})=>{ec({title:s,url:a,description:i,tags:l.map(c=>c.trim())}),n()};ln(),uo(e,{onSubmit:r}),X()}var du=q('<div class="content svelte-9hh95f"><p class="message svelte-9hh95f">use app</p> <div class="buttonContainer svelte-9hh95f"><div class="buttonContainerItem svelte-9hh95f"><!></div> <div class="buttonContainerItem svelte-9hh95f"><!></div></div></div>');function fu(e,t){Y(t,!0);let n=R("idle");const r=()=>{T(n,"loading"),ze("auth")},s=async()=>{T(n,"loading"),await rc(),jn(!1),Us()};Le(()=>{jn(o(n)==="idle"||o(n)==="loading")}),ke(()=>(jn(!0),()=>{jn(!1)}));var a=du(),i=x(b(a),2),l=b(i),c=b(l);Nt(c,{onClick:r,fullWidth:!0,children:(v,f)=>{var h=je("with account");m(v,h)},$$slots:{default:!0}});var u=x(l,2),d=b(u);Nt(d,{onClick:s,fullWidth:!0,type:"secondary",children:(v,f)=>{var h=je("without account");m(v,h)},$$slots:{default:!0}}),m(e,a),X()}var vu=q('<div class="content svelte-9hh95f"><p class="message svelte-9hh95f">sign in / sign up</p> <div class="buttonContainer svelte-9hh95f"><div class="buttonContainerItem svelte-9hh95f"><!></div> <div class="buttonContainerItem svelte-9hh95f"><!></div></div></div>');function hu(e,t){Y(t,!1);const n=async()=>{ze("signin")},r=async()=>{ze("signup")};ke(()=>(jn(!0),Wa(!0),()=>{Wa(!1)})),ln();var s=vu(),a=x(b(s),2),i=b(a),l=b(i);Nt(l,{onClick:n,fullWidth:!0,children:(d,v)=>{var f=je("sign in");m(d,f)},$$slots:{default:!0}});var c=x(i,2),u=b(c);Nt(u,{onClick:r,fullWidth:!0,children:(d,v)=>{var f=je("sign up");m(d,f)},$$slots:{default:!0}}),m(e,s),X()}let po=R(200);const gu=e=>{T(po,e,!0)},pu=()=>o(po);var _u=q('<div class="svelte-m08fup"><!></div>');function Ge(e,t){Y(t,!0);let n=R(null);ke(()=>{o(n)&&(o(n).getBoundingClientRect(),o(n).style.opacity="1");const a=new ResizeObserver(i=>{for(let l of i){const c=l.contentRect.height;console.log("Div height:",c),gu(c)}});if(o(n))return a.observe(o(n)),()=>{o(n)&&a.unobserve(o(n)),a.disconnect()}});var r=_u(),s=b(r);ot(s,()=>t.children),et(r,a=>T(n,a),()=>o(n)),m(e,r),X()}var mu=q('<div class="svelte-uzefkz"><!></div>');function Ht(e,t){Y(t,!1);const n=pu();ln();var r=mu(),s=b(r);ho(s,{}),le(()=>Pn(r,`min-height: ${n??""}px;`)),m(e,r),X()}var wu=q('<div class="svelte-1tpcci8"><p class="svelte-1tpcci8">Something went wrong. Please reload the page</p> <!></div>');function Ut(e){var t=wu(),n=x(b(t),2);Nt(n,{onClick:()=>location.reload(),children:(r,s)=>{var a=je("Reload");m(r,a)},$$slots:{default:!0}}),m(e,t)}var yu=q('<div class="svelte-ndasxn"><p class="svelte-ndasxn">Page not found</p> <!></div>');function bu(e,t){Y(t,!1);const n=()=>{Lt("/")};ln();var r=yu(),s=x(b(r),2);Nt(s,{element:"a",href:"/",onClick:n,children:(a,i)=>{var l=je("close");m(a,l)},$$slots:{default:!0}}),m(e,r),X()}var Su=q("<!> <!>",1);function ku(e,t){Y(t,!0);const n=(A,H=Qt,re)=>{let G=Pr(()=>Lo(re?.(),!1));var W=V(),B=N(W);{var O=M=>{Ge(M,{children:(z,oe)=>{cu(z,{})},$$slots:{default:!0}})},D=M=>{var z=V(),oe=N(z);{var pe=se=>{Ge(se,{children:(Ne,Ve)=>{uu(Ne,{})},$$slots:{default:!0}})},ye=se=>{var Ne=V(),Ve=N(Ne);{var fe=$=>{Ge($,{children:(L,K)=>{var ce=V(),ue=N(ce);bt(ue,f,de=>{Ht(de,{})},(de,xe)=>{var We=V();const qe=j(()=>o(xe).default);var pt=N(We);St(pt,()=>o(qe),(be,Ee)=>{Ee(be,{})}),m(de,We)},de=>{Ut(de)}),m(L,ce)},$$slots:{default:!0}})},Ke=$=>{var L=V(),K=N(L);{var ce=de=>{Ge(de,{children:(xe,We)=>{var qe=V(),pt=N(qe);bt(pt,h,be=>{Ht(be,{})},(be,Ee)=>{var De=V();const nt=j(()=>o(Ee).default);var Te=N(De);St(Te,()=>o(nt),(ve,Fe)=>{Fe(ve,{})}),m(be,De)},be=>{Ut(be)}),m(xe,qe)},$$slots:{default:!0}})},ue=de=>{var xe=V(),We=N(xe);{var qe=be=>{Ge(be,{children:(Ee,De)=>{var nt=V(),Te=N(nt);bt(Te,g,ve=>{Ht(ve,{})},(ve,Fe)=>{var Rt=V();const Mn=j(()=>o(Fe).default);var Lr=N(Rt);St(Lr,()=>o(Mn),(wt,cn)=>{cn(wt,{})}),m(ve,Rt)},ve=>{Ut(ve)}),m(Ee,nt)},$$slots:{default:!0}})},pt=be=>{var Ee=V(),De=N(Ee);{var nt=ve=>{Ge(ve,{children:(Fe,Rt)=>{fu(Fe,{})},$$slots:{default:!0}})},Te=ve=>{var Fe=V(),Rt=N(Fe);{var Mn=wt=>{Ge(wt,{children:(cn,Pa)=>{hu(cn,{})},$$slots:{default:!0}})},Lr=wt=>{var cn=V(),Pa=N(cn);{var _o=un=>{Ge(un,{children:(sr,xa)=>{var or=V(),Nr=N(or);bt(Nr,p,Ye=>{Ht(Ye,{})},(Ye,dn)=>{var In=V();const fn=j(()=>o(dn).default);var Rn=N(In);St(Rn,()=>o(fn),(Oe,yt)=>{yt(Oe,{})}),m(Ye,In)},Ye=>{Ut(Ye)}),m(sr,or)},$$slots:{default:!0}})},mo=un=>{var sr=V(),xa=N(sr);{var or=Ye=>{Ge(Ye,{children:(dn,In)=>{var fn=V(),Rn=N(fn);bt(Rn,_,Oe=>{Ht(Oe,{})},(Oe,yt)=>{var Bn=V();const vn=j(()=>o(yt).default);var qn=N(Bn);St(qn,()=>o(vn),(Me,Bt)=>{Bt(Me,{})}),m(Oe,Bn)},Oe=>{Ut(Oe)}),m(dn,fn)},$$slots:{default:!0}})},Nr=Ye=>{var dn=V(),In=N(dn);{var fn=Oe=>{Ge(Oe,{children:(yt,Bn)=>{var vn=V(),qn=N(vn);bt(qn,y,Me=>{Ht(Me,{})},(Me,Bt)=>{var ir=V();const lr=j(()=>o(Bt).default);var Or=N(ir);St(Or,()=>o(lr),(qt,Mr)=>{Mr(qt,{get hidden(){return o(G)}})}),m(Me,ir)},Me=>{Ut(Me)}),m(yt,vn)},$$slots:{default:!0}})},Rn=Oe=>{var yt=V(),Bn=N(yt);{var vn=Me=>{Ge(Me,{children:(Bt,ir)=>{var lr=V(),Or=N(lr);bt(Or,k,qt=>{Ht(qt,{})},(qt,Mr)=>{var Da=V();const wo=j(()=>o(Mr).default);var yo=N(Da);St(yo,()=>o(wo),(bo,So)=>{So(bo,{})}),m(qt,Da)},qt=>{Ut(qt)}),m(Bt,lr)},$$slots:{default:!0}})},qn=Me=>{Ge(Me,{children:(Bt,ir)=>{bu(Bt,{})},$$slots:{default:!0}})};U(Bn,Me=>{H()==="confirmAccessKey"?Me(vn):Me(qn,!1)},!0)}m(Oe,yt)};U(In,Oe=>{H()==="accessKeys"?Oe(fn):Oe(Rn,!1)},!0)}m(Ye,dn)};U(xa,Ye=>{H()==="signin"?Ye(or):Ye(Nr,!1)},!0)}m(un,sr)};U(Pa,un=>{H()==="signup"?un(_o):un(mo,!1)},!0)}m(wt,cn)};U(Rt,wt=>{H()==="auth"?wt(Mn):wt(Lr,!1)},!0)}m(ve,Fe)};U(De,ve=>{H()==="start"?ve(nt):ve(Te,!1)},!0)}m(be,Ee)};U(We,be=>{H()==="clearStorage"?be(qe):be(pt,!1)},!0)}m(de,xe)};U(K,de=>{H()==="export"?de(ce):de(ue,!1)},!0)}m($,L)};U(Ve,$=>{H()==="import"?$(fe):$(Ke,!1)},!0)}m(se,Ne)};U(oe,se=>{H()==="newNote"?se(pe):se(ye,!1)},!0)}m(M,z)};U(B,M=>{H()==="settings"?M(O):M(D,!1)})}m(A,W)};let r=j(zs),s=j(An),a=null,i=null,l=null,c=null,u=null,d=null,v=null;function f(){return a||(a=kt(()=>import("./ImportData-3tPY8Pdg.js"),__vite__mapDeps([2,3]))),a}function h(){return i||(i=kt(()=>import("./ExportData-B1ExE-ie.js"),__vite__mapDeps([4,5]))),i}function g(){return l||(l=kt(()=>import("./ClearStore-Trw3zX-w.js"),__vite__mapDeps([6,7]))),l}function p(){return c||(c=kt(()=>import("./Signup-5g8IHCyR.js"),__vite__mapDeps([8,9,10]))),c}function _(){return u||(u=kt(()=>import("./Signin-ChCrOoHE.js"),__vite__mapDeps([11,9,10]))),u}function y(){return d||(d=kt(()=>import("./AccessKeys-Juf9M9sq.js"),__vite__mapDeps([12,9,13]))),d}function k(){return v||(v=kt(()=>import("./ConfirmAccessKey-3-zU7KJf.js"),__vite__mapDeps([14,9,15]))),v}var w=Su(),E=N(w);{var C=A=>{Zc(A)};U(E,A=>{o(s)&&A(C)})}var P=x(E,2);{var S=A=>{var H=V(),re=N(H);rt(re,17,()=>o(r),ji,(G,W,B)=>{{let O=j(()=>B!==o(r).length-1&&!!o(r)[B+1]?.shown);Ya(G,{get shown(){return o(W).shown},get hidden(){return o(O)},isLastDialog:B===0,children:(D,M)=>{{let z=j(()=>B!==o(r).length-1&&!!o(r)[B+1]?.shown);n(D,()=>o(W).page,()=>o(z))}},$$slots:{default:!0}})}}),m(A,H)},F=A=>{var H=V(),re=N(H);{var G=W=>{{let B=j(()=>o(r).length===1);Ya(W,{onBack:()=>js(),get shown(){return o(r)[o(r).length-1].shown},hidden:!1,get isLastDialog(){return o(B)},children:(O,D)=>{n(O,()=>o(r)[o(r).length-1].page)},$$slots:{default:!0}})}};U(re,W=>{o(r).length>0&&W(G)},!0)}m(A,H)};U(P,A=>{On()?A(S):A(F,!1)})}m(e,w),X()}function Eu(){const e=navigator.userAgent;if(!(/iPad|iPhone|iPod/.test(e)&&!window.MSStream))return!1;const n=/Safari/.test(e)&&!/Chrome/.test(e)&&!/CriOS/.test(e)&&!/FxiOS/.test(e),r=/Macintosh/.test(e)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>1;return!!n||!!r}const Tu=Eu();function Cu(e,t){Y(t,!1),ke(()=>{jr(),document.addEventListener("focusin",jr),document.addEventListener("focusout",jr),document.addEventListener("touchmove",function(n){ya()&&Tu&&n.preventDefault()},{passive:!1})}),ln(),X()}function Pu(e,t){Y(t,!1);let n=0;ke(()=>{document.querySelector("div"),document.addEventListener("touchstart",r=>{n=r.touches[0].clientX},{passive:!1}),document.addEventListener("touchmove",r=>{const a=r.touches[0].clientX-n;(n<50&&a>0||n>window.innerWidth-50&&a<0)&&r.preventDefault()},{passive:!1}),document.addEventListener("touchend",()=>{n=0}),document.addEventListener("touchcancel",()=>{n=0})}),ln(),X()}var xu=q('<!> <!> <!> <main><!> <div class="container svelte-ngsolt"><!></div></main>',1);function Du(e,t){Y(t,!0),ke(async()=>{await new Promise(h=>setTimeout(h,100)),await xi(),Pe.working=!0});let n=j(()=>it().length>0),r=j(An);var s=xu(),a=N(s);Pu(a,{});var i=x(a,2);Cu(i,{});var l=x(i,2);nl(l,{});var c=x(l,2),u=b(c);{var d=h=>{_l(h,{})};U(u,h=>{o(r)&&h(d)})}var v=x(u,2),f=b(v);ku(f,{}),et(c,h=>na.ref=h,()=>na?.ref),le(()=>{Pn(c,`--swiping-ratio: ${Pe.swipingRatio}; --transition-timing-default: ${Pe.duration}s;`),Z(c,1,te(["main",{isAnimationOn:Pe.working&&!Pe.isSwiping,open:o(n)}]),"svelte-ngsolt")}),m(e,s),X()}window.addEventListener("unhandledrejection",e=>{alert("Error: "+e.reason.message)});window.isUnsupportedBrowser||Fi(Du,{target:document.getElementById("app")});export{js as $,Fu as A,Nt as B,Qs as C,qu as D,Nu as E,Hu as F,ge as G,Wa as H,Mu as I,ju as J,Ou as K,ho as L,Iu as M,rt as N,Se as O,we as P,At as Q,ji as R,lc as S,j as T,ze as U,xn as V,it as W,I as X,fr as Y,Ml as Z,Ru as _,R as a,Hs as a0,ae as a1,Pe as a2,ot as a3,so as a4,Pn as a5,pu as a6,m as b,b as c,X as d,x as e,q as f,o as g,N as h,U as i,On as j,V as k,et as l,T as m,le as n,ke as o,Y as p,Z as q,te as r,jn as s,je as t,Le as u,Cn as v,Be as w,Uu as x,Bu as y,Us as z};
