(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();const _n=!1;var en=Array.isArray,Er=Array.prototype.indexOf,tn=Array.from,Sr=Object.defineProperty,Ze=Object.getOwnPropertyDescriptor,Bn=Object.getOwnPropertyDescriptors,xr=Object.prototype,Cr=Array.prototype,nn=Object.getPrototypeOf,gn=Object.isExtensible;const On=()=>{};function Tr(e){return e()}function Et(e){for(var t=0;t<e.length;t++)e[t]()}const ke=2,An=4,At=8,rn=16,Pe=32,Qe=64,St=128,de=256,xt=512,ue=1024,De=2048,et=4096,xe=8192,It=16384,Lr=32768,Nt=65536,Pr=1<<17,Dr=1<<19,In=1<<20,Yt=1<<21,Fe=Symbol("$state"),Mr=Symbol("legacy props"),Br=Symbol("");function Nn(e){return e===this.v}function Or(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function an(e){return!Or(e,this.v)}function Ar(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Ir(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Nr(e){throw new Error("https://svelte.dev/e/effect_orphan")}function qr(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Rr(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function jr(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Fr(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Hr(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let tt=!1,Ur=!1;function zr(){tt=!0}const sn=1,on=2,qn=4,Vr=8,$r=16,Wr=1,Zr=2,Yr=4,Xr=8,Kr=16,Gr=1,Jr=2,oe=Symbol(),Qr="http://www.w3.org/1999/xhtml";function Rn(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let U=null;function mn(e){U=e}function ea(e){return jn().get(e)}function ta(e,t){return jn().set(e,t),t}function X(e,t=!1,n){var r=U={p:U,c:null,d:!1,e:null,m:!1,s:e,x:null,l:null};tt&&!t&&(U.l={s:null,u:null,r1:[],r2:ft(!1)}),ln(()=>{r.d=!0})}function K(e){const t=U;if(t!==null){const o=t.e;if(o!==null){var n=z,r=H;t.e=null;try{for(var s=0;s<o.length;s++){var a=o[s];Ne(a.effect),ye(a.reaction),cn(a.fn)}}finally{Ne(n),ye(r)}}U=t.p,t.m=!0}return{}}function pt(){return!tt||U!==null&&U.l===null}function jn(e){return U===null&&Rn(),U.c??(U.c=new Map(na(U)||void 0))}function na(e){let t=e.p;for(;t!==null;){const n=t.c;if(n!==null)return n;t=t.p}return null}function J(e){if(typeof e!="object"||e===null||Fe in e)return e;const t=nn(e);if(t!==xr&&t!==Cr)return e;var n=new Map,r=en(e),s=I(0),a=H,o=i=>{var u=H;ye(a);var f=i();return ye(u),f};return r&&n.set("length",I(e.length)),new Proxy(e,{defineProperty(i,u,f){(!("value"in f)||f.configurable===!1||f.enumerable===!1||f.writable===!1)&&jr();var d=n.get(u);return d===void 0?(d=o(()=>I(f.value)),n.set(u,d)):b(d,o(()=>J(f.value))),!0},deleteProperty(i,u){var f=n.get(u);if(f===void 0)u in i&&n.set(u,o(()=>I(oe)));else{if(r&&typeof u=="string"){var d=n.get("length"),h=Number(u);Number.isInteger(h)&&h<d.v&&b(d,h)}b(f,oe),wn(s)}return!0},get(i,u,f){var p;if(u===Fe)return e;var d=n.get(u),h=u in i;if(d===void 0&&(!h||(p=Ze(i,u))!=null&&p.writable)&&(d=o(()=>I(J(h?i[u]:oe))),n.set(u,d)),d!==void 0){var c=l(d);return c===oe?void 0:c}return Reflect.get(i,u,f)},getOwnPropertyDescriptor(i,u){var f=Reflect.getOwnPropertyDescriptor(i,u);if(f&&"value"in f){var d=n.get(u);d&&(f.value=l(d))}else if(f===void 0){var h=n.get(u),c=h==null?void 0:h.v;if(h!==void 0&&c!==oe)return{enumerable:!0,configurable:!0,value:c,writable:!0}}return f},has(i,u){var c;if(u===Fe)return!0;var f=n.get(u),d=f!==void 0&&f.v!==oe||Reflect.has(i,u);if(f!==void 0||z!==null&&(!d||(c=Ze(i,u))!=null&&c.writable)){f===void 0&&(f=o(()=>I(d?J(i[u]):oe)),n.set(u,f));var h=l(f);if(h===oe)return!1}return d},set(i,u,f,d){var P;var h=n.get(u),c=u in i;if(r&&u==="length")for(var p=f;p<h.v;p+=1){var v=n.get(p+"");v!==void 0?b(v,oe):p in i&&(v=o(()=>I(oe)),n.set(p+"",v))}h===void 0?(!c||(P=Ze(i,u))!=null&&P.writable)&&(h=o(()=>I(void 0)),b(h,o(()=>J(f))),n.set(u,h)):(c=h.v!==oe,b(h,o(()=>J(f))));var k=Reflect.getOwnPropertyDescriptor(i,u);if(k!=null&&k.set&&k.set.call(d,f),!c){if(r&&typeof u=="string"){var x=n.get("length"),O=Number(u);Number.isInteger(O)&&O>=x.v&&b(x,O+1)}wn(s)}return!0},ownKeys(i){l(s);var u=Reflect.ownKeys(i).filter(h=>{var c=n.get(h);return c===void 0||c.v!==oe});for(var[f,d]of n)d.v!==oe&&!(f in i)&&u.push(f);return u},setPrototypeOf(){Fr()}})}function wn(e,t=1){b(e,e.v+t)}const ut=new Map;function ft(e,t){var n={f:0,v:e,reactions:null,equals:Nn,rv:0,wv:0};return n}function I(e,t){const n=ft(e);return tr(n),n}function Fn(e,t=!1){var r;const n=ft(e);return t||(n.equals=an),tt&&U!==null&&U.l!==null&&((r=U.l).s??(r.s=[])).push(n),n}function b(e,t,n=!1){H!==null&&!ge&&pt()&&(H.f&(ke|rn))!==0&&!(se!=null&&se.includes(e))&&Hr();let r=n?J(t):t;return Xt(e,r)}function Xt(e,t){if(!e.equals(t)){var n=e.v;_t?ut.set(e,t):ut.set(e,n),e.v=t,e.wv=rr(),Hn(e,De),pt()&&z!==null&&(z.f&ue)!==0&&(z.f&(Pe|Qe))===0&&(fe===null?ha([e]):fe.push(e))}return t}function Hn(e,t){var n=e.reactions;if(n!==null)for(var r=pt(),s=n.length,a=0;a<s;a++){var o=n[a],i=o.f;(i&De)===0&&(!r&&o===z||(be(o,t),(i&(ue|de))!==0&&((i&ke)!==0?Hn(o,et):Ut(o))))}}let ra=!1;var kn,Un,zn,Vn;function aa(){if(kn===void 0){kn=window,Un=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;zn=Ze(t,"firstChild").get,Vn=Ze(t,"nextSibling").get,gn(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),gn(n)&&(n.__t=void 0)}}function qt(e=""){return document.createTextNode(e)}function Xe(e){return zn.call(e)}function Rt(e){return Vn.call(e)}function S(e,t){return Xe(e)}function ee(e,t){{var n=Xe(e);return n instanceof Comment&&n.data===""?Rt(n):n}}function D(e,t=1,n=!1){let r=e;for(;t--;)r=Rt(r);return r}function sa(e){e.textContent=""}function Ke(e){var t=ke|De,n=H!==null&&(H.f&ke)!==0?H:null;return z===null||n!==null&&(n.f&de)!==0?t|=de:z.f|=In,{ctx:U,deps:null,effects:null,equals:Nn,f:t,fn:e,reactions:null,rv:0,v:null,wv:0,parent:n??z}}function ae(e){const t=Ke(e);return tr(t),t}function $n(e){const t=Ke(e);return t.equals=an,t}function Wn(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)Le(t[n])}}function oa(e){for(var t=e.parent;t!==null;){if((t.f&ke)===0)return t;t=t.parent}return null}function la(e){var t,n=z;Ne(oa(e));try{Wn(e),t=sr(e)}finally{Ne(n)}return t}function Zn(e){var t=la(e),n=(Ae||(e.f&de)!==0)&&e.deps!==null?et:ue;be(e,n),e.equals(t)||(e.v=t,e.wv=rr())}function Yn(e){z===null&&H===null&&Nr(),H!==null&&(H.f&de)!==0&&z===null&&Ir(),_t&&Ar()}function ia(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function nt(e,t,n,r=!0){var s=z,a={ctx:U,deps:null,nodes_start:null,nodes_end:null,f:e|De,first:null,fn:t,last:null,next:null,parent:s,prev:null,teardown:null,transitions:null,wv:0};if(n)try{vn(a),a.f|=Lr}catch(u){throw Le(a),u}else t!==null&&Ut(a);var o=n&&a.deps===null&&a.first===null&&a.nodes_start===null&&a.teardown===null&&(a.f&(In|St))===0;if(!o&&r&&(s!==null&&ia(a,s),H!==null&&(H.f&ke)!==0)){var i=H;(i.effects??(i.effects=[])).push(a)}return a}function ln(e){const t=nt(At,null,!1);return be(t,ue),t.teardown=e,t}function le(e){Yn();var t=z!==null&&(z.f&Pe)!==0&&U!==null&&!U.m;if(t){var n=U;(n.e??(n.e=[])).push({fn:e,effect:z,reaction:H})}else{var r=cn(e);return r}}function ca(e){return Yn(),jt(e)}function ua(e){const t=nt(Qe,e,!0);return(n={})=>new Promise(r=>{n.outro?Ct(t,()=>{Le(t),r(void 0)}):(Le(t),r(void 0))})}function cn(e){return nt(An,e,!1)}function jt(e){return nt(At,e,!0)}function Q(e,t=[],n=Ke){const r=t.map(n);return Ft(()=>e(...r.map(l)))}function Ft(e,t=0){return nt(At|rn|t,e,!0)}function Ge(e,t=!0){return nt(At|Pe,e,!0,t)}function Xn(e){var t=e.teardown;if(t!==null){const n=_t,r=H;bn(!0),ye(null);try{t.call(null)}finally{bn(n),ye(r)}}}function Kn(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){var r=n.next;(n.f&Qe)!==0?n.parent=null:Le(n,t),n=r}}function fa(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&Pe)===0&&Le(t),t=n}}function Le(e,t=!0){var n=!1;if((t||(e.f&Dr)!==0)&&e.nodes_start!==null){for(var r=e.nodes_start,s=e.nodes_end;r!==null;){var a=r===s?null:Rt(r);r.remove(),r=a}n=!0}Kn(e,t&&!n),Mt(e,0),be(e,It);var o=e.transitions;if(o!==null)for(const u of o)u.stop();Xn(e);var i=e.parent;i!==null&&i.first!==null&&Gn(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function Gn(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function Ct(e,t){var n=[];un(e,n,!0),Jn(n,()=>{Le(e),t&&t()})}function Jn(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var s of e)s.out(r)}else t()}function un(e,t,n){if((e.f&xe)===0){if(e.f^=xe,e.transitions!==null)for(const o of e.transitions)(o.is_global||n)&&t.push(o);for(var r=e.first;r!==null;){var s=r.next,a=(r.f&Nt)!==0||(r.f&Pe)!==0;un(r,t,a?n:!1),r=s}}}function Tt(e){Qn(e,!0)}function Qn(e,t){if((e.f&xe)!==0){e.f^=xe,(e.f&ue)===0&&(e.f^=ue),gt(e)&&(be(e,De),Ut(e));for(var n=e.first;n!==null;){var r=n.next,s=(n.f&Nt)!==0||(n.f&Pe)!==0;Qn(n,s?t:!1),n=r}if(e.transitions!==null)for(const a of e.transitions)(a.is_global||t)&&a.in()}}let vt=[],Kt=[];function er(){var e=vt;vt=[],Et(e)}function va(){var e=Kt;Kt=[],Et(e)}function fn(e){vt.length===0&&queueMicrotask(er),vt.push(e)}function yn(){vt.length>0&&er(),Kt.length>0&&va()}let bt=!1,Lt=!1,Pt=null,He=!1,_t=!1;function bn(e){_t=e}let ct=[];let H=null,ge=!1;function ye(e){H=e}let z=null;function Ne(e){z=e}let se=null;function da(e){se=e}function tr(e){H!==null&&H.f&Yt&&(se===null?da([e]):se.push(e))}let re=null,ie=0,fe=null;function ha(e){fe=e}let nr=1,Dt=0,Ae=!1;function rr(){return++nr}function gt(e){var h;var t=e.f;if((t&De)!==0)return!0;if((t&et)!==0){var n=e.deps,r=(t&de)!==0;if(n!==null){var s,a,o=(t&xt)!==0,i=r&&z!==null&&!Ae,u=n.length;if(o||i){var f=e,d=f.parent;for(s=0;s<u;s++)a=n[s],(o||!((h=a==null?void 0:a.reactions)!=null&&h.includes(f)))&&(a.reactions??(a.reactions=[])).push(f);o&&(f.f^=xt),i&&d!==null&&(d.f&de)===0&&(f.f^=de)}for(s=0;s<u;s++)if(a=n[s],gt(a)&&Zn(a),a.wv>e.wv)return!0}(!r||z!==null&&!Ae)&&be(e,ue)}return!1}function pa(e,t){for(var n=t;n!==null;){if((n.f&St)!==0)try{n.fn(e);return}catch{n.f^=St}n=n.parent}throw bt=!1,e}function _a(e){return(e.f&It)===0&&(e.parent===null||(e.parent.f&St)===0)}function Ht(e,t,n,r){if(bt){if(n===null&&(bt=!1),_a(t))throw e;return}n!==null&&(bt=!0);{pa(e,t);return}}function ar(e,t,n=!0){var r=e.reactions;if(r!==null)for(var s=0;s<r.length;s++){var a=r[s];se!=null&&se.includes(e)||((a.f&ke)!==0?ar(a,t,!1):t===a&&(n?be(a,De):(a.f&ue)!==0&&be(a,et),Ut(a)))}}function sr(e){var p;var t=re,n=ie,r=fe,s=H,a=Ae,o=se,i=U,u=ge,f=e.f;re=null,ie=0,fe=null,Ae=(f&de)!==0&&(ge||!He||H===null),H=(f&(Pe|Qe))===0?e:null,se=null,mn(e.ctx),ge=!1,Dt++,e.f|=Yt;try{var d=(0,e.fn)(),h=e.deps;if(re!==null){var c;if(Mt(e,ie),h!==null&&ie>0)for(h.length=ie+re.length,c=0;c<re.length;c++)h[ie+c]=re[c];else e.deps=h=re;if(!Ae)for(c=ie;c<h.length;c++)((p=h[c]).reactions??(p.reactions=[])).push(e)}else h!==null&&ie<h.length&&(Mt(e,ie),h.length=ie);if(pt()&&fe!==null&&!ge&&h!==null&&(e.f&(ke|et|De))===0)for(c=0;c<fe.length;c++)ar(fe[c],e);return s!==e&&(Dt++,fe!==null&&(r===null?r=fe:r.push(...fe))),d}finally{re=t,ie=n,fe=r,H=s,Ae=a,se=o,mn(i),ge=u,e.f^=Yt}}function ga(e,t){let n=t.reactions;if(n!==null){var r=Er.call(n,e);if(r!==-1){var s=n.length-1;s===0?n=t.reactions=null:(n[r]=n[s],n.pop())}}n===null&&(t.f&ke)!==0&&(re===null||!re.includes(t))&&(be(t,et),(t.f&(de|xt))===0&&(t.f^=xt),Wn(t),Mt(t,0))}function Mt(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)ga(e,n[r])}function vn(e){var t=e.f;if((t&It)===0){be(e,ue);var n=z,r=U,s=He;z=e,He=!0;try{(t&rn)!==0?fa(e):Kn(e),Xn(e);var a=sr(e);e.teardown=typeof a=="function"?a:null,e.wv=nr;var o=e.deps,i;_n&&Ur&&e.f&De}catch(u){Ht(u,e,n,r||e.ctx)}finally{He=s,z=n}}}function ma(){try{qr()}catch(e){if(Pt!==null)Ht(e,Pt,null);else throw e}}function or(){var e=He;try{var t=0;for(He=!0;ct.length>0;){t++>1e3&&ma();var n=ct,r=n.length;ct=[];for(var s=0;s<r;s++){var a=ka(n[s]);wa(a)}ut.clear()}}finally{Lt=!1,He=e,Pt=null}}function wa(e){var t=e.length;if(t!==0)for(var n=0;n<t;n++){var r=e[n];if((r.f&(It|xe))===0)try{gt(r)&&(vn(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null?Gn(r):r.fn=null))}catch(s){Ht(s,r,null,r.ctx)}}}function Ut(e){Lt||(Lt=!0,queueMicrotask(or));for(var t=Pt=e;t.parent!==null;){t=t.parent;var n=t.f;if((n&(Qe|Pe))!==0){if((n&ue)===0)return;t.f^=ue}}ct.push(t)}function ka(e){for(var t=[],n=e;n!==null;){var r=n.f,s=(r&(Pe|Qe))!==0,a=s&&(r&ue)!==0;if(!a&&(r&xe)===0){if((r&An)!==0)t.push(n);else if(s)n.f^=ue;else{var o=H;try{H=n,gt(n)&&vn(n)}catch(f){Ht(f,n,null,n.ctx)}finally{H=o}}var i=n.first;if(i!==null){n=i;continue}}var u=n.parent;for(n=n.next;n===null&&u!==null;)n=u.next,u=u.parent}return t}function ya(e){var t;for(yn();ct.length>0;)Lt=!0,or(),yn();return t}async function ba(){await Promise.resolve(),ya()}function l(e){var t=e.f,n=(t&ke)!==0;if(H!==null&&!ge){if(!(se!=null&&se.includes(e))){var r=H.deps;e.rv<Dt&&(e.rv=Dt,re===null&&r!==null&&r[ie]===e?ie++:re===null?re=[e]:(!Ae||!re.includes(e))&&re.push(e))}}else if(n&&e.deps===null&&e.effects===null){var s=e,a=s.parent;a!==null&&(a.f&de)===0&&(s.f^=de)}return n&&(s=e,gt(s)&&Zn(s)),_t&&ut.has(e)?ut.get(e):e.v}function Je(e){var t=ge;try{return ge=!0,e()}finally{ge=t}}const Ea=-7169;function be(e,t){e.f=e.f&Ea|t}function Sa(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Fe in e)Gt(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&Fe in n&&Gt(n)}}}function Gt(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{Gt(e[r],t)}catch{}const n=nn(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=Bn(n);for(let s in r){const a=r[s].get;if(a)try{a.call(e)}catch{}}}}}const xa=["touchstart","touchmove"];function Ca(e){return xa.includes(e)}let En=!1;function Ta(){En||(En=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const n of e.target.elements)(t=n.__on_r)==null||t.call(n)})},{capture:!0}))}function lr(e){var t=H,n=z;ye(null),Ne(null);try{return e()}finally{ye(t),Ne(n)}}function La(e,t,n,r=n){e.addEventListener(t,()=>lr(n));const s=e.__on_r;s?e.__on_r=()=>{s(),r(!0)}:e.__on_r=()=>r(!0),Ta()}const ir=new Set,Jt=new Set;function Pa(e,t,n,r={}){function s(a){if(r.capture||ot.call(t,a),!a.cancelBubble)return lr(()=>n==null?void 0:n.call(this,a))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?fn(()=>{t.addEventListener(e,s,r)}):t.addEventListener(e,s,r),s}function st(e,t,n,r,s){var a={capture:r,passive:s},o=Pa(e,t,n,a);(t===document.body||t===window||t===document)&&ln(()=>{t.removeEventListener(e,o,a)})}function Re(e){for(var t=0;t<e.length;t++)ir.add(e[t]);for(var n of Jt)n(e)}function ot(e){var P;var t=this,n=t.ownerDocument,r=e.type,s=((P=e.composedPath)==null?void 0:P.call(e))||[],a=s[0]||e.target,o=0,i=e.__root;if(i){var u=s.indexOf(i);if(u!==-1&&(t===document||t===window)){e.__root=t;return}var f=s.indexOf(t);if(f===-1)return;u<=f&&(o=u)}if(a=s[o]||e.target,a!==t){Sr(e,"currentTarget",{configurable:!0,get(){return a||n}});var d=H,h=z;ye(null),Ne(null);try{for(var c,p=[];a!==null;){var v=a.assignedSlot||a.parentNode||a.host||null;try{var k=a["__"+r];if(k!=null&&(!a.disabled||e.target===a))if(en(k)){var[x,...O]=k;x.apply(a,[e,...O])}else k.call(a,e)}catch(g){c?p.push(g):c=g}if(e.cancelBubble||v===t||v===null)break;a=v}if(c){for(let g of p)queueMicrotask(()=>{throw g});throw c}}finally{e.__root=t,delete e.currentTarget,ye(d),Ne(h)}}}function cr(e){var t=document.createElement("template");return t.innerHTML=e,t.content}function dt(e,t){var n=z;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function N(e,t){var n=(t&Gr)!==0,r=(t&Jr)!==0,s,a=!e.startsWith("<!>");return()=>{s===void 0&&(s=cr(a?e:"<!>"+e),n||(s=Xe(s)));var o=r||Un?document.importNode(s,!0):s.cloneNode(!0);if(n){var i=Xe(o),u=o.lastChild;dt(i,u)}else dt(o,o);return o}}function pe(e,t,n="svg"){var r=!e.startsWith("<!>"),s=`<${n}>${r?e:"<!>"+e}</${n}>`,a;return()=>{if(!a){var o=cr(s),i=Xe(o);a=Xe(i)}var u=a.cloneNode(!0);return dt(u,u),u}}function me(e=""){{var t=qt(e+"");return dt(t,t),t}}function Ie(){var e=document.createDocumentFragment(),t=document.createComment(""),n=qt();return e.append(t,n),dt(t,n),e}function y(e,t){e!==null&&e.before(t)}function je(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function Da(e,t){return Ma(e,t)}const $e=new Map;function Ma(e,{target:t,anchor:n,props:r={},events:s,context:a,intro:o=!0}){aa();var i=new Set,u=h=>{for(var c=0;c<h.length;c++){var p=h[c];if(!i.has(p)){i.add(p);var v=Ca(p);t.addEventListener(p,ot,{passive:v});var k=$e.get(p);k===void 0?(document.addEventListener(p,ot,{passive:v}),$e.set(p,1)):$e.set(p,k+1)}}};u(tn(ir)),Jt.add(u);var f=void 0,d=ua(()=>{var h=n??t.appendChild(qt());return Ge(()=>{if(a){X({});var c=U;c.c=a}s&&(r.$$events=s),f=e(h,r)||{},a&&K()}),()=>{var v;for(var c of i){t.removeEventListener(c,ot);var p=$e.get(c);--p===0?(document.removeEventListener(c,ot),$e.delete(c)):$e.set(c,p)}Jt.delete(u),h!==n&&((v=h.parentNode)==null||v.removeChild(h))}});return Ba.set(f,d),f}let Ba=new WeakMap;function Z(e,t,[n,r]=[0,0]){var s=e,a=null,o=null,i=oe,u=n>0?Nt:0,f=!1;const d=(c,p=!0)=>{f=!0,h(p,c)},h=(c,p)=>{i!==(i=c)&&(i?(a?Tt(a):p&&(a=Ge(()=>p(s))),o&&Ct(o,()=>{o=null})):(o?Tt(o):p&&(o=Ge(()=>p(s,[n+1,r]))),a&&Ct(a,()=>{a=null})))};Ft(()=>{f=!1,t(d),f||h(null,null)},u)}function we(e,t){jt(()=>{var n=t();for(var r in n){var s=n[r];s?e.style.setProperty(r,s):e.style.removeProperty(r)}}),ln(()=>{e.remove()})}function Oa(e,t){return t}function Aa(e,t,n,r){for(var s=[],a=t.length,o=0;o<a;o++)un(t[o].e,s,!0);var i=a>0&&s.length===0&&n!==null;if(i){var u=n.parentNode;sa(u),u.append(n),r.clear(),Oe(e,t[0].prev,t[a-1].next)}Jn(s,()=>{for(var f=0;f<a;f++){var d=t[f];i||(r.delete(d.k),Oe(e,d.prev,d.next)),Le(d.e,!i)}})}function We(e,t,n,r,s,a=null){var o=e,i={flags:t,items:new Map,first:null},u=(t&qn)!==0;if(u){var f=e;o=f.appendChild(qt())}var d=null,h=!1,c=$n(()=>{var p=n();return en(p)?p:p==null?[]:tn(p)});Ft(()=>{var p=l(c),v=p.length;h&&v===0||(h=v===0,Ia(p,i,o,s,t,r,n),a!==null&&(v===0?d?Tt(d):d=Ge(()=>a(o)):d!==null&&Ct(d,()=>{d=null})),l(c))})}function Ia(e,t,n,r,s,a,o){var E,R,V,F;var i=(s&Vr)!==0,u=(s&(sn|on))!==0,f=e.length,d=t.items,h=t.first,c=h,p,v=null,k,x=[],O=[],P,g,m,w;if(i)for(w=0;w<f;w+=1)P=e[w],g=a(P,w),m=d.get(g),m!==void 0&&((E=m.a)==null||E.measure(),(k??(k=new Set)).add(m));for(w=0;w<f;w+=1){if(P=e[w],g=a(P,w),m=d.get(g),m===void 0){var q=c?c.e.nodes_start:n;v=qa(q,t,v,v===null?t.first:v.next,P,g,w,r,s,o),d.set(g,v),x=[],O=[],c=v.next;continue}if(u&&Na(m,P,w,s),(m.e.f&xe)!==0&&(Tt(m.e),i&&((R=m.a)==null||R.unfix(),(k??(k=new Set)).delete(m))),m!==c){if(p!==void 0&&p.has(m)){if(x.length<O.length){var T=O[0],A;v=T.prev;var C=x[0],M=x[x.length-1];for(A=0;A<x.length;A+=1)Sn(x[A],T,n);for(A=0;A<O.length;A+=1)p.delete(O[A]);Oe(t,C.prev,M.next),Oe(t,v,C),Oe(t,M,T),c=T,v=M,w-=1,x=[],O=[]}else p.delete(m),Sn(m,c,n),Oe(t,m.prev,m.next),Oe(t,m,v===null?t.first:v.next),Oe(t,v,m),v=m;continue}for(x=[],O=[];c!==null&&c.k!==g;)(c.e.f&xe)===0&&(p??(p=new Set)).add(c),O.push(c),c=c.next;if(c===null)continue;m=c}x.push(m),v=m,c=m.next}if(c!==null||p!==void 0){for(var B=p===void 0?[]:tn(p);c!==null;)(c.e.f&xe)===0&&B.push(c),c=c.next;var L=B.length;if(L>0){var _=(s&qn)!==0&&f===0?n:null;if(i){for(w=0;w<L;w+=1)(V=B[w].a)==null||V.measure();for(w=0;w<L;w+=1)(F=B[w].a)==null||F.fix()}Aa(t,B,_,d)}}i&&fn(()=>{var G;if(k!==void 0)for(m of k)(G=m.a)==null||G.apply()}),z.first=t.first&&t.first.e,z.last=v&&v.e}function Na(e,t,n,r){(r&sn)!==0&&Xt(e.v,t),(r&on)!==0?Xt(e.i,n):e.i=n}function qa(e,t,n,r,s,a,o,i,u,f){var d=(u&sn)!==0,h=(u&$r)===0,c=d?h?Fn(s):ft(s):s,p=(u&on)===0?o:ft(o),v={i:p,v:c,k:a,a:null,e:null,prev:n,next:r};try{return v.e=Ge(()=>i(e,c,p,f),ra),v.e.prev=n&&n.e,v.e.next=r&&r.e,n===null?t.first=v:(n.next=v,n.e.next=v.e),r!==null&&(r.prev=v,r.e.prev=v.e),v}finally{}}function Sn(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,s=t?t.e.nodes_start:n,a=e.e.nodes_start;a!==r;){var o=Rt(a);s.before(a),a=o}}function Oe(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function mt(e,t,...n){var r=e,s=On,a;Ft(()=>{s!==(s=t())&&(a&&(Le(a),a=null),a=Ge(()=>s(r,...n)))},Nt)}function ur(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=ur(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Ra(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=ur(e))&&(r&&(r+=" "),r+=t);return r}function $(e){return typeof e=="object"?Ra(e):e??""}function ja(e,t,n){var r=e==null?"":""+e;return t&&(r=r?r+" "+t:t),r===""?null:r}function Fa(e,t){return e==null?null:String(e)}function W(e,t,n,r,s,a){var o=e.__className;if(o!==n||o===void 0){var i=ja(n,r);i==null?e.removeAttribute("class"):e.className=i,e.__className=n}return a}function xn(e,t,n,r){var s=e.__style;if(s!==t){var a=Fa(t);a==null?e.removeAttribute("style"):e.style.cssText=a,e.__style=t}return r}const Ha=Symbol("is custom element"),Ua=Symbol("is html");function zt(e,t){var n=dn(e);n.value===(n.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function Vt(e,t){var n=dn(e);n.checked!==(n.checked=t??void 0)&&(e.checked=t)}function Ce(e,t,n,r){var s=dn(e);s[t]!==(s[t]=n)&&(t==="loading"&&(e[Br]=n),n==null?e.removeAttribute(t):typeof n!="string"&&za(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function dn(e){return e.__attributes??(e.__attributes={[Ha]:e.nodeName.includes("-"),[Ua]:e.namespaceURI===Qr})}var Cn=new Map;function za(e){var t=Cn.get(e.nodeName);if(t)return t;Cn.set(e.nodeName,t=[]);for(var n,r=e,s=Element.prototype;s!==r;){n=Bn(r);for(var a in n)n[a].set&&t.push(a);r=nn(r)}return t}function lt(e,t,n=t){var r=pt();La(e,"input",s=>{var a=s?e.defaultValue:e.value;if(a=$t(e)?Wt(a):a,n(a),r&&a!==(a=t())){var o=e.selectionStart,i=e.selectionEnd;e.value=a??"",i!==null&&(e.selectionStart=o,e.selectionEnd=Math.min(i,e.value.length))}}),Je(t)==null&&e.value&&n($t(e)?Wt(e.value):e.value),jt(()=>{var s=t();$t(e)&&s===Wt(e.value)||e.type==="date"&&!s&&!e.value||s!==e.value&&(e.value=s??"")})}function $t(e){var t=e.type;return t==="number"||t==="range"}function Wt(e){return e===""?null:+e}function Tn(e,t){return e===t||(e==null?void 0:e[Fe])===t}function Ee(e={},t,n,r){return cn(()=>{var s,a;return jt(()=>{s=a,a=[],Je(()=>{e!==n(...a)&&(t(e,...a),s&&Tn(n(...s),e)&&t(null,...s))})}),()=>{fn(()=>{a&&Tn(n(...a),e)&&t(null,...a)})}}),e}function fr(e=!1){const t=U,n=t.l.u;if(!n)return;let r=()=>Sa(t.s);if(e){let s=0,a={};const o=Ke(()=>{let i=!1;const u=t.s;for(const f in u)u[f]!==a[f]&&(a[f]=u[f],i=!0);return i&&s++,s});r=()=>l(o)}n.b.length&&ca(()=>{Ln(t,r),Et(n.b)}),le(()=>{const s=Je(()=>n.m.map(Tr));return()=>{for(const a of s)typeof a=="function"&&a()}}),n.a.length&&le(()=>{Ln(t,r),Et(n.a)})}function Ln(e,t){if(e.l.s)for(const n of e.l.s)l(n);t()}let kt=!1;function Va(e){var t=kt;try{return kt=!1,[e(),kt]}finally{kt=t}}function Pn(e){var t;return((t=e.ctx)==null?void 0:t.d)??!1}function ve(e,t,n,r){var q;var s=(n&Wr)!==0,a=!tt||(n&Zr)!==0,o=(n&Xr)!==0,i=(n&Kr)!==0,u=!1,f;o?[f,u]=Va(()=>e[t]):f=e[t];var d=Fe in e||Mr in e,h=o&&(((q=Ze(e,t))==null?void 0:q.set)??(d&&t in e&&(T=>e[t]=T)))||void 0,c=r,p=!0,v=!1,k=()=>(v=!0,p&&(p=!1,i?c=Je(r):c=r),c);f===void 0&&r!==void 0&&(h&&a&&Rr(),f=k(),h&&h(f));var x;if(a)x=()=>{var T=e[t];return T===void 0?k():(p=!0,v=!1,T)};else{var O=(s?Ke:$n)(()=>e[t]);O.f|=Pr,x=()=>{var T=l(O);return T!==void 0&&(c=void 0),T===void 0?c:T}}if((n&Yr)===0)return x;if(h){var P=e.$$legacy;return function(T,A){return arguments.length>0?((!a||!A||P||u)&&h(A?x():T),T):x()}}var g=!1,m=Fn(f),w=Ke(()=>{var T=x(),A=l(m);return g?(g=!1,A):m.v=T});return o&&l(w),s||(w.equals=an),function(T,A){if(arguments.length>0){const C=A?l(w):a&&o?J(T):T;if(!w.equals(C)){if(g=!0,b(m,C),v&&c!==void 0&&(c=C),Pn(w))return T;Je(()=>l(w))}return T}return Pn(w)?w.v:l(w)}}function Te(e){U===null&&Rn(),tt&&U.l!==null?$a(U).m.push(e):le(()=>{const t=Je(e);if(typeof t=="function")return t})}function $a(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const Wa="5";var Mn;typeof window<"u"&&((Mn=window.__svelte??(window.__svelte={})).v??(Mn.v=new Set)).add(Wa);let it=I("");function Za(e){b(it,e,!0)}var Ya=N('<div class="notification svelte-1h5k2zn"> </div>');function Xa(e,t){X(t,!0),le(()=>{l(it);const a=setTimeout(()=>{b(it,"")},800);return()=>{clearTimeout(a)}});var n=Ie(),r=ee(n);{var s=a=>{var o=Ya(),i=S(o);Q(()=>je(i,l(it))),y(a,o)};Z(r,a=>{l(it)&&a(s)})}y(e,n),K()}var Ka=N('<span class="vh svelte-14jjkpd"> </span>');function ht(e,t){var n=Ka(),r=S(n);Q(()=>je(r,t.children)),y(e,n)}zr();var Ga=pe('<svg width="24" height="24" viewBox="0 0 0.72 0.72" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-1lqi79o"><path d="M.16.26h.4m-.4.2h.4M.11.26h.5m-.5.2h.5m-.4.15.1-.5m.1.5.1-.5" stroke="currentColor" stroke-width=".1" stroke-linecap="round" stroke-linejoin="round"></path></svg>');function Ja(e){var t=Ga();y(e,t)}var Qa=pe('<svg viewBox="0 0 13.229 13.229" xmlns="http://www.w3.org/2000/svg" class="svelte-1lqi79o"><path style="fill:currentColor;stroke-width:.579737" d="M5.82 2.381h1.588v8.467H5.821Z"></path><path style="fill:currentColor;stroke-width:.579328" d="M10.848 5.822v1.586H2.38V5.82Z"></path></svg>');function es(e){var t=Qa();y(e,t)}var ts=pe('<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-1lqi79o"><path fill-rule="evenodd" clip-rule="evenodd" d="M14.279 2.152C13.909 2 13.439 2 12.5 2s-1.409 0-1.779.152a2.008 2.008 0 0 0-1.09 1.083c-.094.223-.13.484-.145.863a1.615 1.615 0 0 1-.796 1.353 1.64 1.64 0 0 1-1.579.008c-.338-.178-.583-.276-.825-.308a2.026 2.026 0 0 0-1.49.396c-.318.242-.553.646-1.022 1.453-.47.807-.704 1.21-.757 1.605-.07.526.074 1.058.4 1.479.148.192.357.353.68.555.477.297.783.803.783 1.361 0 .558-.306 1.064-.782 1.36-.324.203-.533.364-.682.556-.325.421-.469.953-.399 1.479.053.394.287.798.757 1.605.47.807.704 1.21 1.022 1.453.424.323.96.465 1.49.396.242-.032.487-.13.825-.308a1.64 1.64 0 0 1 1.58.008c.486.28.774.795.795 1.353.015.38.051.64.145.863.204.49.596.88 1.09 1.083.37.152.84.152 1.779.152s1.409 0 1.779-.152a2.008 2.008 0 0 0 1.09-1.083c.094-.223.13-.483.145-.863.02-.558.309-1.074.796-1.353a1.64 1.64 0 0 1 1.579-.008c.338.178.583.276.825.308.53.07 1.066-.073 1.49-.396.318-.242.553-.646 1.022-1.453.47-.807.704-1.21.757-1.605a1.99 1.99 0 0 0-.4-1.479c-.148-.192-.357-.353-.68-.555-.477-.297-.783-.803-.783-1.361 0-.558.306-1.064.782-1.36.324-.203.533-.364.682-.556a1.99 1.99 0 0 0 .399-1.479c-.053-.394-.287-.798-.757-1.605-.47-.807-.704-1.21-1.022-1.453a2.026 2.026 0 0 0-1.49-.396c-.242.032-.487.13-.825.308a1.64 1.64 0 0 1-1.58-.008 1.615 1.615 0 0 1-.795-1.353c-.015-.38-.051-.64-.145-.863a2.007 2.007 0 0 0-1.09-1.083ZM12.5 15c1.67 0 3.023-1.343 3.023-3S14.169 9 12.5 9c-1.67 0-3.023 1.343-3.023 3s1.354 3 3.023 3Z" fill="currentColor"></path></svg>');function vr(e){var t=ts();y(e,t)}var ns=pe('<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-1lqi79o"><path d="M4 6h16M4 12h16M4 18h16" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>');function rs(e){var t=ns();y(e,t)}const j=J({pathname:window.location.pathname,search:window.location.search,historyLength:0}),dr=()=>{var e;return((e=new URLSearchParams(j.search).get("selectedTags"))==null?void 0:e.split(","))||[]};let yt=dr();const as=()=>{const e=dr();return e.join(",")===yt.join(",")||(yt=e),yt},ss=()=>{j.pathname=document.location.pathname,j.search=document.location.search,j.historyLength=Math.max(0,j.historyLength-=1)};window.addEventListener("popstate",ss);const Bt=e=>{const[t,n]=e.split("?");j.pathname=t,j.search=n?`?${n}`:"",j.historyLength+=1,window.history.pushState(null,"",e)},os=e=>{const[t,n]=e.split("?");j.pathname=t,j.search=n?`?${n}`:"",window.history.replaceState(null,"",e)},hn=(e="/")=>{const[t,n]=e.split("?");j.historyLength<=0?(window.history.replaceState(null,"",e),j.historyLength=0,j.pathname=t,j.search=n?`?${n}`:""):window.history.back()},Me=J({shown:!1}),qe=()=>{var e;return((e=new URLSearchParams(j.search).get("stackPages"))==null?void 0:e.split(","))||[]};let Ye=I(J(qe()));const rt=e=>{const t=qe();t.push(e);const n=new URLSearchParams(j.search);n.set("stackPages",t.join(",")),b(Ye,t,!0),Bt(`${j.pathname}?${n.toString()}`)},ls=()=>{const e=l(Ye).slice(0,-1);b(Ye,e,!0)},is=()=>{const e=qe();return e.length>=l(Ye).length?e.reduce((t,n)=>[...t,{page:n,shown:!0}],[]):l(Ye).reduce((t,n,r)=>[...t,{page:n,shown:r!==l(Ye).length-1}],[])},cs=e=>{e.preventDefault(),rt("settings")},us=e=>{e.preventDefault(),Bt("/")},fs=e=>{e.preventDefault(),rt("newBookmark")};var vs=N('<a href="/"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Home</span></a>'),ds=N('<a class="link svelte-e5g06v"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Settings</span></a>'),hs=N('<a class="addBookmark svelte-e5g06v"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Add bookmark</span></a>'),ps=N('<div class="header svelte-e5g06v"><div class="top svelte-e5g06v"><div class="desktop svelte-e5g06v"><!></div> <div class="mobile svelte-e5g06v"><button class="buttonMenu svelte-e5g06v"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button></div> <!></div></div>');function _s(e,t){X(t,!0);const n=()=>{Me.shown=!0},r=()=>{const g=qe();g.includes("settings")||g.push("settings");const m=new URLSearchParams(j.search);return m.set("stackPages",g.join(",")),`${j.pathname}?${m}`};let a=ae(()=>{const g=qe();g.includes("newBookmark")||g.push("newBookmark");const m=new URLSearchParams(j.search);return m.set("stackPages",g.join(",")),`${j.pathname}?${m}`}),o=ae(r);var i=ps(),u=S(i),f=S(u),d=S(f);{var h=g=>{var m=vs();m.__click=[us],W(m,1,$(["link","hash"]),"svelte-e5g06v");var w=S(m);we(w,()=>({"--size":"20px"})),Ja(w.lastChild),y(g,m)},c=g=>{var m=ds();m.__click=[cs];var w=S(m);we(w,()=>({"--size":"20px"})),vr(w.lastChild),Q(()=>Ce(m,"href",l(o))),y(g,m)};Z(d,g=>{j.pathname==="/settings"?g(h):g(c,!1)})}var p=D(f,2),v=S(p);v.__click=n;var k=S(v);we(k,()=>({"--size":"36px"})),rs(k.lastChild);var x=D(k,2);ht(x,{children:(g,m)=>{var w=me("Menu");y(g,w)}});var O=D(p,2);{var P=g=>{var m=hs();m.__click=[fs];var w=S(m);we(w,()=>({"--size":"24px","--color":"#b0b0b0"})),es(w.lastChild),Q(()=>Ce(m,"href",l(a))),y(g,m)};Z(O,g=>{j.pathname!=="/settings"&&g(P)})}y(e,i),K()}Re(["click"]);var gs=pe('<svg viewBox="0 0 5.292 5.292" xmlns="http://www.w3.org/2000/svg" class="svelte-1lqi79o"><path style="fill:currentColor;stroke-width:.374736" transform="scale(1.02869 .97047) rotate(45)" d="M2.678-1.906h.514V1.18h-.514z"></path><path style="fill:currentColor;stroke-width:.374736" transform="scale(-1.02869 -.97047) rotate(-45)" d="M.664-5.762h.514v3.086H.664z"></path></svg>');function ms(e){var t=gs();y(e,t)}const Ot=J({working:!1});var ws=pe('<svg viewBox="0 0 5.292 5.292" xmlns="http://www.w3.org/2000/svg" class="svelte-1lqi79o"><path style="fill:currentColor;stroke-width:.584099" transform="rotate(45)" d="M3.341-2.405h.802v4.811h-.802z"></path><path style="fill:currentColor;stroke-width:.584099" transform="rotate(135)" d="M-.401-6.147h.802v4.811h-.802z"></path></svg>');function ks(e){var t=ws();y(e,t)}const ys=({getDialog:e,getDialogInner:t,onClose:n})=>{const r=s=>{const a=e(),o=t();s.target&&(a!=null&&a.open)&&o&&o!==s.target&&!o.contains(s.target)&&n()};Te(()=>(document.addEventListener("mousedown",r,{capture:!0}),()=>{document.removeEventListener("mousedown",r,{capture:!0})}))},bs=({getDialog:e,getDialogInner:t,onOpen:n,onStartClose:r,onClose:s})=>{ys({getDialog:e,getDialogInner:t,onClose:r});const a=i=>{i.preventDefault(),r()},o=()=>{s==null||s()};Te(()=>{const i=e();return i==null||i.addEventListener("close",o),i==null||i.addEventListener("cancel",a),()=>{i==null||i.removeEventListener("close",o),i==null||i.removeEventListener("cancel",a)}}),Te(()=>{const i=e();i==null||i.showModal(),i==null||i.getBoundingClientRect(),n()})};var Es=(e,t)=>{t.onStartClose()},Ss=(e,t)=>{t.onStartClose()},xs=N('<dialog><div class="dialogInner svelte-nrfs4t"><span tabindex="1"></span> <!> <div class="header svelte-nrfs4t"><div><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button></div> <div><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button></div></div></div></dialog>');function Cs(e,t){X(t,!0);let n=ve(t,"hiddenDialog",3,!1),r=ve(t,"isDesktopAnimationOff",3,!1),s=I(null),a=I(null);bs({getDialog:()=>l(s),getDialogInner:()=>l(a),onOpen:t.onOpen,onStartClose:t.onStartClose,onClose:t.onClose}),le(()=>{var P,g;t.stateDialog==="closing"&&(Ot.working?(P=l(s))==null||P.addEventListener("transitionend",()=>{var m;(m=l(s))==null||m.close()},{once:!0}):(g=l(s))==null||g.close())});var o=xs(),i=S(o),u=D(S(i),2);mt(u,()=>t.children);var f=D(u,2),d=S(f),h=S(d);W(h,1,$(["navigateButton","buttonBack"]),"svelte-nrfs4t"),h.__click=[Es,t];var c=S(h);we(c,()=>({"--size":"20px"})),ms(c.lastChild);var p=D(c,2);ht(p,{children:(P,g)=>{var m=me("back");y(P,m)}});var v=D(d,2),k=S(v);W(k,1,$(["navigateButton","buttonClose"]),"svelte-nrfs4t"),k.__click=[Ss,t];var x=S(k);we(x,()=>({"--size":"20px"})),ks(x.lastChild);var O=D(x,2);ht(O,{children:(P,g)=>{var m=me("close");y(P,m)}}),Ee(i,P=>b(a,P),()=>l(a)),Ee(o,P=>b(s,P),()=>l(s)),Q(()=>W(o,1,$([{open:t.stateDialog==="open",isAnimationOn:Ot.working,isDesktopAnimationOff:r(),hiddenDialog:n()}]),"svelte-nrfs4t")),y(e,o),K()}Re(["click"]);const Ts=({onStartClose:e,onClose:t})=>{let n=I("close");return{get state(){return l(n)},set state(o){b(n,o,!0)},handleStartClose:(o=!1)=>{o||(b(n,"closing"),e==null||e())},handleOpen:()=>{b(n,"open")},handleClose:()=>{b(n,"close"),t==null||t()}}};function hr(e,t){X(t,!0);let n=ve(t,"blockedClose",3,!1),r=ve(t,"hiddenDialog",3,!1),s=ve(t,"onStartClose",3,()=>{}),a=ve(t,"onClose",3,()=>{}),o=Ts({onStartClose:s(),onClose:a()});le(()=>{o.state==="close"&&t.shownDialog?o.state="opening":o.state==="open"&&!t.shownDialog&&o.handleStartClose(n())});var i=Ie(),u=ee(i);{var f=d=>{Cs(d,{get stateDialog(){return o.state},get hiddenDialog(){return r()},get onOpen(){return o.handleOpen},onStartClose:()=>o.handleStartClose(n()),get onClose(){return o.handleClose},children:(h,c)=>{var p=Ie(),v=ee(p);mt(v,()=>t.children),y(h,p)},$$slots:{default:!0}})};Z(u,d=>{o.state!=="close"&&d(f)})}y(e,i),K()}function Ls(e,t){X(t,!0),hr(e,{get shownDialog(){return t.shown},get blockedClose(){return t.hidden},get hiddenDialog(){return t.hidden},onStartClose:()=>{hn()},onClose:()=>{ls()},children:(s,a)=>{var o=Ie(),i=ee(o);mt(i,()=>t.children),y(s,o)},$$slots:{default:!0}}),K()}const pr=()=>crypto.randomUUID(),Ps="bookmarksStore",Ds=1,he="bookmarks";let Y;window.addEventListener("unhandledrejection",e=>{alert("Error: "+e.reason.message)});const Ms=()=>new Promise((e,t)=>{const n=indexedDB.open(Ps,Ds);n.addEventListener("upgradeneeded",()=>{const r=n.result;console.log("success upgradeneeded"),r.objectStoreNames.contains(he)||r.createObjectStore(he,{keyPath:"id"})}),n.addEventListener("success",()=>{console.log("success open"),e(),Y=n.result,Y.onversionchange=function(){Y==null||Y.close(),alert("app outdated, please reload the page")}}),n.addEventListener("blocked",()=>{t(),alert("app outdated, please reload the page")}),n.addEventListener("error",()=>{t(),console.error("Error",n.error)})}),_r=()=>new Promise((e,t)=>{const n=Y==null?void 0:Y.transaction(he,"readonly"),r=n==null?void 0:n.objectStore(he).getAll();r==null||r.addEventListener("success",()=>{const s=r.result;e(s)}),r==null||r.addEventListener("error",()=>{t()})}),Bs=async e=>new Promise((t,n)=>{const r=Y==null?void 0:Y.transaction(he,"readwrite"),s=r==null?void 0:r.objectStore(he),a=s==null?void 0:s.put({...e});a==null||a.addEventListener("success",()=>{t()}),a==null||a.addEventListener("error",()=>{n()})}),Os=async e=>new Promise((t,n)=>{const r=Y==null?void 0:Y.transaction(he,"readwrite"),s=r==null?void 0:r.objectStore(he),a=s==null?void 0:s.delete(e);a==null||a.addEventListener("success",()=>{t()}),a==null||a.addEventListener("error",()=>{n()})}),As=async e=>{const t=(await _r()).reduce((a,o)=>(a[o.id]=o,a),{}),n={},r=Y==null?void 0:Y.transaction(he,"readwrite"),s=r==null?void 0:r.objectStore(he);e.forEach(a=>{t[a.id]?t[a.id].lastUpdatedTimestamp<a.lastUpdatedTimestamp&&(n[a.id]=a):n[a.id]=a}),await Promise.all(Object.values(n).map(a=>{const o=s==null?void 0:s.put(a);return new Promise((i,u)=>{o==null||o.addEventListener("success",()=>{i()}),o==null||o.addEventListener("error",()=>{u()})})}))},Is=async e=>{const t=Y==null?void 0:Y.transaction(he,"readwrite"),n=t==null?void 0:t.objectStore(he);await Promise.all(Array.from({length:1e3},(r,s)=>{const a=[];for(let u=0;u<Math.random()*5;u++){const f=(Math.random()*100).toFixed();a.includes(f)||a.push(f)}const o={...e,order:s,id:pr(),createdTimestamp:Date.now(),lastUpdatedTimestamp:Date.now(),title:a.join("#"),tags:a},i=n==null?void 0:n.put(o);return new Promise((u,f)=>{i==null||i.addEventListener("success",()=>{s%1e4===0&&console.log(`bookmark ${s} done`),u()}),i==null||i.addEventListener("error",()=>{console.log(`bookmark ${s} error`),f()})})}))};let ce=I({inited:!1,bookmarks:[],mapBookmarks:new Map});const pn=async()=>{const e=await _r(),t=new Map,n=[];e.forEach(r=>{n[r.order]=r,t.set(r.id,r)}),b(ce,{...l(ce),bookmarks:n,mapBookmarks:t,inited:!0})};Ms().then(async()=>{await pn()}).catch(()=>{console.error("failed to init db")});const gr=()=>l(ce).inited,Ns=()=>l(ce).bookmarks,qs=async e=>{const t={...e,lastUpdatedTimestamp:Date.now()};l(ce).bookmarks[t.order]=t,l(ce).mapBookmarks.set(t.id,t),b(ce,{...l(ce)}),await Bs(t)},Rs=async e=>{await Is(e),await pn()},js=async e=>{const t=l(ce).mapBookmarks.get(e);l(ce).mapBookmarks.delete(e),l(ce).bookmarks[(t==null?void 0:t.order)||0]=void 0,b(ce,{...l(ce)}),await Os(e)},Dn=async e=>{await As(e),await pn()};let mr=I({});const wr=()=>l(mr),Fs=e=>{b(mr,e)};var Hs=N('<input class="svelte-1jzizl8">');function Qt(e,t){X(t,!0);let n=ve(t,"value",15,"");var r=Hs();Q(()=>Ce(r,"placeholder",t.placeholder)),lt(r,n),y(e,r),K()}var Us=N('<div class="content-wrapper svelte-1yw9qow"><!></div>'),zs=N('<dialog><div class="dialogInner svelte-1yw9qow"><!></div></dialog>');function Vs(e,t){X(t,!0);let n=0,r=0,s=0,a=!1,o=!1,i=0,u=0,f=0,d=null;const h=5;let c=I(null),p=I(null),v=I("close");const k=()=>{b(v,"closing"),Me.shown=!1,setTimeout(()=>{var _;(_=l(c))==null||_.close()},300)},x=()=>{b(v,"open"),Me.shown=!0},O=()=>{var _;b(v,"close"),Me.shown=!1,o=!1,(_=l(c))==null||_.close()},P=_=>{_.preventDefault(),k()};function g(_){t.blocking&&(l(v)==="open"||l(v)==="close")||_.touches.length>0&&d===null&&(d=_.touches[0].identifier,n=_.touches[0].clientX,r=_.touches[0].clientY,a=!0,o=!1,f=performance.now())}function m(_){if(!a||t.blocking||!l(c))return;f=performance.now();let E;for(let Se=0;Se<_.touches.length;Se++)if(_.touches[Se].identifier===d){E=_.touches[Se];break}if(!E&&_.touches.length>0&&(E=_.touches[0],d=E.identifier),!E)return;const R=E.clientX,V=E.clientY,F=R-n,G=V-r,te=Math.abs(F)>Math.abs(G),ne=Math.abs(F)>h;if(!o)if(te&&ne){l(v)==="close"&&(b(v,"opening"),l(c).showModal(),l(c).offsetWidth);const Se=window.getComputedStyle(l(c)),wt=Se.transform||Se.webkitTransform;s=new DOMMatrix(wt).m41,u=l(c).offsetWidth,l(c).style.setProperty("--transition-timing","0s"),o=!0}else return;o&&te&&_.preventDefault();let ze=s+F*.95;const _e=-u,Ve=-.3*u;ze=Math.max(_e,Math.min(Ve,ze)),l(c).style.transform=`translate3d(${ze}px, 0, 0)`,i=(ze-s)/u*100,l(v)==="open"?l(c).style.setProperty("--backdrop-bg",`rgba(0, 0, 0, ${.25*(1-Math.abs(i)/100)})`):l(c).style.setProperty("--backdrop-bg",`rgba(0, 0, 0, ${.25*(Math.abs(i)/100)})`),i=(ze-s)/u*100,o&&te&&_.preventDefault()}function w(_){if(!a||!l(c))return;f=performance.now();let E=!1;for(let _e=0;_e<_.changedTouches.length;_e++)if(_.changedTouches[_e].identifier===d){E=!0;break}if(!E)return;if(_.touches.length>0){d=null,a=!1;return}if(d=null,!o){a=!1,i=0;return}let R=0;if(_&&_.changedTouches&&_.changedTouches.length>0){const _e=_.changedTouches[0].clientX,Ve=performance.now(),Se=_.timeStamp||performance.now()-100,wt=Ve-Se;wt>0&&(R=(_e-n)/wt)}if(_.touches&&_.touches.length>0){a=!1;return}const V=10,F=.3,G=i,te=.3;let ne;l(v)==="open"?G<-10?ne=te*Math.max(.5,1-Math.abs(i)/100):ne=te*Math.max(.5,Math.abs(i)/100):G>V?ne=te*Math.max(.5,Math.abs(i)/100):ne=te*Math.max(.5,1-Math.abs(i)/100),l(c).style.setProperty("--transition-timing",`${ne}s`),l(c).addEventListener("transitionend",()=>{var _e,Ve;(_e=l(c))==null||_e.style.removeProperty("--transition-timing"),(Ve=l(c))==null||Ve.style.removeProperty("transition")},{once:!0}),l(c).offsetWidth;const Ue=l(v)!=="open"&&(G>V||R>F);l(v)==="open"&&(G<-10||R<-.3)?(l(c).style.transform="",k()):Ue?(l(c).style.transform="",x()):(l(c).style.transform="",l(v)==="opening"&&k()),l(c).style.removeProperty("--backdrop-bg"),a=!1,o=!1,i=0}function q(_){_.touches.length===0&&o&&w(_)}const T=_=>{var E;_.target&&((E=l(c))!=null&&E.open)&&l(p)&&l(p)!==_.target&&!l(p).contains(_.target)&&!t.blocking&&k()};Te(()=>{const _=setInterval(A,500);return()=>{clearInterval(_)}}),Te(()=>(document.addEventListener("mousedown",T,{capture:!0}),()=>{document.removeEventListener("mousedown",T,{capture:!0})})),Te(()=>{var R,V;const _=new ResizeObserver(()=>{l(c)&&(u=l(c).offsetWidth)});l(c)&&_.observe(l(c));const E=F=>{const G=F.touches[0].clientX;l(v)==="close"&&G>20||g(F)};return document.addEventListener("touchstart",E,{passive:!0}),document.addEventListener("touchmove",m,{passive:!1}),document.addEventListener("touchend",w,{passive:!0}),document.addEventListener("touchcancel",q,{passive:!0}),(R=l(c))==null||R.addEventListener("close",O),(V=l(c))==null||V.addEventListener("cancel",P),()=>{var F,G;(F=l(c))==null||F.removeEventListener("close",O),(G=l(c))==null||G.removeEventListener("cancel",P),document.removeEventListener("touchstart",E),document.removeEventListener("touchmove",m),document.removeEventListener("touchend",w),document.removeEventListener("touchcancel",q)}});function A(){var _;if(o&&performance.now()-f>300&&l(c)){const E=i;l(v)!=="open"&&E>10?(l(c).style.transform="",x()):l(v)==="open"&&E<-10?(l(c).style.transform="",k()):(l(c).style.transform="",l(v)==="opening"&&k()),(_=l(c))==null||_.style.removeProperty("--backdrop-bg"),a=!1,o=!1,i=0}}le(()=>{var _;if(l(v)==="closing"){const E=()=>{var R;(R=l(c))==null||R.close()};return(_=l(c))==null||_.addEventListener("transitionend",E,{once:!0}),()=>{var R;(R=l(c))==null||R.removeEventListener("transitionend",E)}}}),le(()=>{console.log("sidebarState",l(v)),console.log("mobileSidebar.shown",Me.shown),console.log("hasPassedThreshold",o)}),le(()=>{var _,E;Me.shown,l(v),!o&&(l(v)==="close"&&Me.shown?((_=l(c))==null||_.showModal(),(E=l(c))==null||E.getBoundingClientRect(),x()):l(v)==="open"&&!Me.shown&&k())});var C=zs(),M=S(C),B=S(M);{var L=_=>{var E=Us(),R=S(E);mt(R,()=>t.children),y(_,E)};Z(B,_=>{l(v)!=="close"&&_(L)})}Ee(M,_=>b(p,_),()=>l(p)),Ee(C,_=>b(c,_),()=>l(c)),Q(()=>W(C,1,$([{open:l(v)==="open",hidden:t.blocking}]),"svelte-1yw9qow")),y(e,C),K()}const kr=()=>window.matchMedia("(max-width: 768px)").matches;let yr=I(J(kr()));const $s=(e,t)=>{let n=null;return()=>{n&&clearTimeout(n),n=setTimeout(()=>{e()},t)}},Ws=$s(()=>{b(yr,kr(),!0)},16);window.addEventListener("resize",Ws);const Zs=()=>l(yr),Ys=e=>{e.preventDefault(),rt("settings")};var Xs=(e,t,n)=>t(n),Ks=N("<button> </button>"),Gs=N("<div></div>"),Js=(e,t,n)=>t(l(n).name),Qs=N('<button class="tag svelte-y69ysu"> </button>'),eo=N('<div class="sidebarFixed svelte-y69ysu"><a class="link svelte-y69ysu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Settings</span></a> <div class="searchWrapper svelte-y69ysu"><!></div> <!></div> <div class="tags svelte-y69ysu"></div>',1),to=(e,t,n)=>t(n),no=N("<button> </button>"),ro=N("<div></div>"),ao=(e,t,n)=>t(l(n).name),so=N('<button class="tag svelte-y69ysu"> </button>'),oo=N('<div class="sidebar svelte-y69ysu"><div class="sidebarFixed svelte-y69ysu"><div class="searchWrapper svelte-y69ysu"><!></div> <!></div> <div class="tags svelte-y69ysu"></div></div>');function lo(e,t){X(t,!0);let n=I(""),r=ae(()=>{var v;return((v=new URLSearchParams(j.search).get("selectedTags"))==null?void 0:v.split(","))||[]});const s=()=>{const v=qe();v.includes("settings")||v.push("settings");const k=new URLSearchParams(j.search);return k.set("stackPages",v.join(",")),`${j.pathname}?${k}`},a=v=>{const k=new URLSearchParams(j.search);k.set("selectedTags",[...l(r),v].join(",")),Bt(`${j.pathname}${k.size>0?`?${k.toString()}`:""}`)},o=v=>{const k=new URLSearchParams(j.search),x=l(r).filter(O=>O!==v);x.length===0?k.delete("selectedTags"):k.set("selectedTags",x.join(",")),Bt(`${j.pathname}${k.size>0?`?${k.toString()}`:""}`)};let i=ae(()=>gr()?Object.values(wr()).filter(v=>!l(r).some(k=>v.name===k)):[]),u=ae(s),f=ae(()=>qe().length>0);var d=Ie(),h=ee(d);{var c=v=>{Vs(v,{get blocking(){return l(f)},children:(k,x)=>{var O=eo(),P=ee(O),g=S(P);g.__click=[Ys];var m=S(g);we(m,()=>({"--size":"20px"})),vr(m.lastChild);var w=D(g,2),q=S(w);Qt(q,{placeholder:"Search tag",get value(){return l(n)},set value(M){b(n,M,!0)}});var T=D(w,2);{var A=M=>{var B=Gs();W(B,1,$(["tags","selectedTags"]),"svelte-y69ysu"),We(B,20,()=>l(r),L=>L,(L,_)=>{var E=Ks();E.__click=[Xs,o,_],W(E,1,$(["tag","selectedTag"]),"svelte-y69ysu");var R=S(E);Q(()=>je(R,_)),y(L,E)}),y(M,B)};Z(T,M=>{l(r).length>0&&M(A)})}var C=D(P,2);We(C,21,()=>l(i),M=>M.name,(M,B)=>{var L=Ie(),_=ee(L);{var E=R=>{var V=Qs();V.__click=[Js,a,B];var F=S(V);Q(()=>je(F,l(B).name)),y(R,V)};Z(_,R=>{(l(n)===""||l(B).name.toLowerCase().indexOf(l(n).toLowerCase())!==-1)&&R(E)})}y(M,L)}),Q(()=>Ce(g,"href",l(u))),y(k,O)},$$slots:{default:!0}})},p=v=>{var k=oo(),x=S(k),O=S(x),P=S(O);Qt(P,{placeholder:"Search tag",get value(){return l(n)},set value(q){b(n,q,!0)}});var g=D(O,2);{var m=q=>{var T=ro();W(T,1,$(["tags","selectedTags"]),"svelte-y69ysu"),We(T,20,()=>l(r),A=>A,(A,C)=>{var M=no();M.__click=[to,o,C],W(M,1,$(["tag","selectedTag"]),"svelte-y69ysu");var B=S(M);Q(()=>je(B,C)),y(A,M)}),y(q,T)};Z(g,q=>{l(r).length>0&&q(m)})}var w=D(x,2);We(w,21,()=>l(i),q=>q.name,(q,T)=>{var A=Ie(),C=ee(A);{var M=B=>{var L=so();L.__click=[ao,a,T];var _=S(L);Q(()=>je(_,l(T).name)),y(B,L)};Z(C,B=>{(l(n)===""||l(T).name.toLowerCase().indexOf(l(n).toLowerCase())!==-1)&&B(M)})}y(q,A)}),y(v,k)};Z(h,v=>{Zs()?v(c):v(p,!1)})}y(e,d),K()}Re(["click"]);var io=N('<form class="svelte-140y8w3"><input placeholder="title" type="text" class="svelte-140y8w3"> <input placeholder="url" type="text" class="svelte-140y8w3"> <textarea placeholder="description" class="svelte-140y8w3"></textarea> <input placeholder="tags" type="text" class="svelte-140y8w3"> <button class="buttonSubmit svelte-140y8w3" type="submit">add bookmark</button></form>');function br(e,t){X(t,!0);let n=ve(t,"initialTitle",3,""),r=ve(t,"initialUrl",3,""),s=ve(t,"initialDescription",3,""),a=ve(t,"initialTags",3,""),o=I(J(n())),i=I(J(r())),u=I(J(s())),f=I(J(a()));const d=x=>{x.preventDefault(),t.onSubmit({title:l(o),url:l(i),description:l(u),tags:l(f)})};var h=io(),c=S(h),p=D(c,2),v=D(p,2),k=D(v,2);st("submit",h,d),lt(c,()=>l(o),x=>b(o,x)),lt(p,()=>l(i),x=>b(i,x)),lt(v,()=>l(u),x=>b(u,x)),lt(k,()=>l(f),x=>b(f,x)),y(e,h),K()}function co(e,t){X(t,!0);let n=I(!0);const r=()=>{t.onClose()},s=()=>{b(n,!1)},a=({title:o,url:i,description:u,tags:f})=>{qs({...t.bookmark,title:o,url:i,description:u,tags:f.split(" ").map(d=>d.trim())}),s()};hr(e,{get shownDialog(){return l(n)},onClose:r,children:(o,i)=>{const u=ae(()=>t.bookmark.tags.join(" "));br(o,{get initialTitle(){return t.bookmark.title},get initialUrl(){return t.bookmark.url},get initialDescription(){return t.bookmark.description},get initialTags(){return l(u)},onSubmit:a})},$$slots:{default:!0}}),K()}var uo=pe('<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-1lqi79o"><path d="M16 16v2.8c0 1.12 0 1.68-.218 2.108a2 2 0 0 1-.874.874C14.48 22 13.92 22 12.8 22H5.2c-1.12 0-1.68 0-2.108-.218a2 2 0 0 1-.874-.874C2 20.48 2 19.92 2 18.8v-7.6c0-1.12 0-1.68.218-2.108a2 2 0 0 1 .874-.874C3.52 8 4.08 8 5.2 8H8m3.2 8h7.6c1.12 0 1.68 0 2.108-.218a2 2 0 0 0 .874-.874C22 14.48 22 13.92 22 12.8V5.2c0-1.12 0-1.68-.218-2.108a2 2 0 0 0-.874-.874C20.48 2 19.92 2 18.8 2h-7.6c-1.12 0-1.68 0-2.108.218a2 2 0 0 0-.874.874C8 3.52 8 4.08 8 5.2v7.6c0 1.12 0 1.68.218 2.108a2 2 0 0 0 .874.874C9.52 16 10.08 16 11.2 16Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>');function fo(e){var t=uo();y(e,t)}var vo=pe('<svg viewBox="0 0 13.229 13.229" xmlns="http://www.w3.org/2000/svg" class="svelte-1lqi79o"><circle style="fill:currentColor;stroke-width:.4378" cx="3.175" cy="6.615" r="1.058"></circle><circle style="fill:currentColor;stroke-width:.4378" cx="6.615" cy="6.615" r="1.058"></circle><circle style="fill:currentColor;stroke-width:.4378" cx="10.054" cy="6.615" r="1.058"></circle></svg>');function ho(e){var t=vo();y(e,t)}const po=(e,t,n)=>{const r=wr();t.bookmark.tags.forEach(s=>{if(l(n).includes(s)&&r[s].connections===1){const a=new URLSearchParams(j.search),o=l(n).filter(i=>i!==s);o.length===0?a.delete("selectedTags"):a.set("selectedTags",o.join(",")),os(`${j.pathname}${a.size>0?`?${a.toString()}`:""}`)}}),js(t.bookmark.id)},_o=(e,t)=>{b(t,!0)},go=(e,t,n)=>{b(t,!1),b(n,!0)},mo=(e,t)=>{navigator.clipboard.writeText(t.bookmark.url),Za("Link copied to clipboard")};var wo=N('<li class="bookmark svelte-hwv8qt"><div class="bookmarkTitle svelte-hwv8qt"><img class="bookmarkIcon" height="16" width="16" alt="icon"> <a class="bookmarkLink svelte-hwv8qt" target="_blank" rel="noopener noreferrer"> </a></div> <div><button class="button svelte-hwv8qt"><!> <!></button> <div><button class="menuButton svelte-hwv8qt">Edit</button> <button class="menuButton svelte-hwv8qt">Delete</button></div> <button><!> <!></button></div></li> <!>',1);function ko(e,t){X(t,!0);let n=ae(()=>{var L;return((L=new URLSearchParams(j.search).get("selectedTags"))==null?void 0:L.split(","))||[]}),r=I(!1),s=I(!1),a=I(null),o=I(null);const i=L=>{var _,E;L.target!==l(o)&&L.target!==l(a)&&!((_=l(a))!=null&&_.contains(L.target))&&!((E=l(o))!=null&&E.contains(L.target))&&b(r,!1)},u=()=>{b(s,!1)};le(()=>(document.addEventListener("click",i),()=>{document.removeEventListener("click",i)}));const f=L=>{try{return`https://www.google.com/s2/favicons?domain=${new URL(L).host}&sz=32`}catch{return""}};var d=wo(),h=ee(d),c=S(h),p=S(c),v=D(p,2),k=S(v),x=D(c,2),O=S(x);O.__click=[mo,t];var P=S(O);fo(P);var g=D(P,2);ht(g,{children:(L,_)=>{var E=me("copy link");y(L,E)}});var m=D(O,2),w=S(m);w.__click=[go,r,s];var q=D(w,2);q.__click=[po,t,n],Ee(m,L=>b(o,L),()=>l(o));var T=D(m,2);T.__click=[_o,r],W(T,1,$(["button","buttonMenu"]),"svelte-hwv8qt");var A=S(T);ho(A);var C=D(A,2);ht(C,{children:(L,_)=>{var E=me("show menu");y(L,E)}}),Ee(T,L=>b(a,L),()=>l(a));var M=D(h,2);{var B=L=>{co(L,{get bookmark(){return t.bookmark},onClose:u})};Z(M,L=>{l(s)&&L(B)})}Q(L=>{Ce(p,"src",L),Ce(v,"href",t.bookmark.url),je(k,t.bookmark.title),W(x,1,$(["bookmarkMenuWrapper",{bookmarkMenuWrapperActive:l(r)}]),"svelte-hwv8qt"),W(m,1,$(["bookmarkMenu",{bookmarkShownMenu:l(r)}]),"svelte-hwv8qt")},[()=>f(t.bookmark.url)]),y(e,d),K()}Re(["click"]);var yo=N('<div class="emptyMessage svelte-10e5k3k">No bookmarks found</div>'),bo=N('<div class="searchWrapper svelte-10e5k3k"><!></div> <div class="feed svelte-10e5k3k"><ul class="svelte-10e5k3k"><!> <!></ul></div>',1);function Eo(e,t){X(t,!0);let n=I(null),r=44,s=I(0),a=I(0),o=I(J([])),i=I("");const u=ea("main");let f=ae(u),d=null;const h=ae(as);le(()=>{var C;l(i),l(h),(C=l(f))==null||C.scrollTo(0,0)});const c=()=>{d&&cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var M;const C=((M=l(f))==null?void 0:M.scrollTop)||0;b(a,Math.floor(C/r)*r)})},p=()=>{var C;c(),l(n)&&b(s,window.innerHeight-((C=l(n))==null?void 0:C.getBoundingClientRect().top))};Te(()=>{p(),c()}),le(()=>{var C;return(C=l(f))==null||C.addEventListener("scroll",c),window.addEventListener("resize",p),()=>{var M;(M=l(f))==null||M.removeEventListener("scroll",c),window.removeEventListener("resize",p)}}),le(()=>{const C=Ns(),M=[],B={};for(let L=C.length-1;L>=0;L--){const _=C[L];if(_&&!(l(h).length&&l(h).some(E=>!_.tags.includes(E)))&&!(l(i)&&!(_.title.toLowerCase().includes(l(i).toLowerCase())||_.url.toLowerCase().includes(l(i).toLowerCase())))){if(_.tags)for(const E of _.tags)B[E]?B[E].connections++:B[E]={name:E,connections:1};M.push(_)}}Fs(B),b(o,M,!0)});const v=ae(()=>l(o).length*r);let x=ae(()=>{const C=Math.ceil(l(s)/r),M=Math.floor(l(a)/r);return l(o).slice(M,M+C)});var O=bo(),P=ee(O),g=S(P);Qt(g,{placeholder:"Search",get value(){return l(i)},set value(C){b(i,C,!0)}});var m=D(P,2),w=S(m),q=S(w);We(q,17,()=>l(x),C=>C.id,(C,M)=>{ko(C,{get bookmark(){return l(M)}})});var T=D(q,2);{var A=C=>{var M=yo();y(C,M)};Z(T,C=>{l(x).length===0&&gr()&&C(A)})}Ee(w,C=>b(n,C),()=>l(n)),Q(C=>{xn(m,`height: ${C??""}px`),xn(w,`height: ${l(s)??""}px; transform: translateY(${l(a)??""}px)`)},[()=>Math.max(l(v),30)]),y(e,O),K()}var So=N('<!> <div class="content svelte-cu0ar8"><!></div>',1);function xo(e){var t=So(),n=ee(t);lo(n,{});var r=D(n,2),s=S(r);Eo(s,{}),y(e,t)}var Co=pe('<svg width="800" height="800" viewBox="-3 0 32 32" xmlns="http://www.w3.org/2000/svg" class="svelte-1lqi79o"><path d="M23 8H3a1 1 0 1 1 0-2h20a1 1 0 0 1 0 2Zm-1 20a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V10h18v18ZM10 3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v1h-6V3Zm14 1h-6V2a2 2 0 0 0-2-2h-6a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v2a2 2 0 0 0 2 2v18a4 4 0 0 0 4 4h14a4 4 0 0 0 4-4V10a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2ZM13 28a1 1 0 0 0 1-1V15a1 1 0 0 0-2 0v12a1 1 0 0 0 1 1Zm-5 0a1 1 0 0 0 1-1V15a1 1 0 0 0-2 0v12a1 1 0 0 0 1 1Zm10 0a1 1 0 0 0 1-1V15a1 1 0 0 0-2 0v12a1 1 0 0 0 1 1Z" fill="currentColor" fill-rule="evenodd"></path></svg>');function To(e){var t=Co();y(e,t)}var Lo=pe('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" class="svelte-1lqi79o"><path fill-rule="evenodd" stroke="currentColor" fill="currentColor" d="M14 9.004a1 1 0 0 1 1 1v3a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-3a1 1 0 0 1 2 0v3h10v-3a1 1 0 0 1 1-1ZM8 1.59l3.707 3.707a1 1 0 0 1-1.414 1.414L9 5.418v4.586a1 1 0 1 1-2 0V5.418L5.707 6.711a1 1 0 0 1-1.414-1.414L8 1.59Z"></path></svg>');function Po(e){var t=Lo();y(e,t)}var Do=pe('<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" class="svelte-1lqi79o"><path fill-rule="evenodd" stroke="currentColor" fill="currentColor" d="M14 9a1 1 0 0 1 1 1v3a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-3a1 1 0 0 1 2 0v3h10v-3a1 1 0 0 1 1-1ZM8 1a1 1 0 0 1 1 1v4.586l1.293-1.293a1 1 0 1 1 1.414 1.414L8 10.414 4.293 6.707a1 1 0 0 1 1.414-1.414L7 6.586V2a1 1 0 0 1 1-1Z"></path></svg>');function Mo(e){var t=Do();y(e,t)}var Be=(e=>(e.Light="light",e.Auto="auto",e.Dark="dark",e))(Be||{});const Zt=(e,t)=>{const n=e.target.value;localStorage.setItem("colorScheme",n),document.documentElement.setAttribute("data-color-scheme",n),b(t,n,!0)};var Bo=N('<div class="wrapper svelte-1lqc4qo"><fieldset class="switcher svelte-1lqc4qo"><legend class="vh svelte-1lqc4qo">Color Scheme</legend> <input id="light" type="radio" aria-label="Light"> <label for="light" title="Light" aria-label="Light"></label> <input id="auto" type="radio" aria-label="Auto"> <label for="auto" title="Auto" aria-label="Auto"></label> <input id="dark" type="radio" aria-label="Dark"> <label for="dark" title="Dark" aria-label="Dark"></label> <div class="wrapSwitcherStatus svelte-1lqc4qo"><div class="switcherStatus svelte-1lqc4qo"></div></div></fieldset></div>');function Oo(e,t){X(t,!0);let n=I(J(localStorage.getItem("colorScheme")||Be.Auto));const r="color-scheme-switcher";var s=Bo(),a=S(s),o=D(S(a),2);W(o,1,$(["vh","input"]),"svelte-1lqc4qo"),Ce(o,"name",r),o.__change=[Zt,n];var i=D(o,2);W(i,1,$(["switcherButton","light"]),"svelte-1lqc4qo");var u=D(i,2);W(u,1,$(["vh","input"]),"svelte-1lqc4qo"),Ce(u,"name",r),u.__change=[Zt,n];var f=D(u,2);W(f,1,$(["switcherButton","auto"]),"svelte-1lqc4qo");var d=D(f,2);W(d,1,$(["vh","input"]),"svelte-1lqc4qo"),Ce(d,"name",r),d.__change=[Zt,n];var h=D(d,2);W(h,1,$(["switcherButton","dark"]),"svelte-1lqc4qo"),Q(()=>{zt(o,Be.Light),Vt(o,l(n)===Be.Light),zt(u,Be.Auto),Vt(u,l(n)===Be.Auto),zt(d,Be.Dark),Vt(d,l(n)===Be.Dark)}),y(e,s),K()}Re(["change"]);const Ao=()=>{rt("importBookmarks")},Io=()=>{rt("exportBookmarks")},No=()=>{rt("clearStore")};var qo=N('<div class="svelte-oc46cj"><!> <ul class="svelte-oc46cj"><li class="svelte-oc46cj"><button class="button svelte-oc46cj"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-oc46cj">import bookmarks</span></button></li> <li class="svelte-oc46cj"><button class="button svelte-oc46cj"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-oc46cj">export bookmarks</span></button></li> <li class="svelte-oc46cj"><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-oc46cj">clear store</span></button></li></ul> <div class="svelte-oc46cj"></div></div>');function Ro(e,t){X(t,!1),fr();var n=qo(),r=S(n);Oo(r,{});var s=D(r,2),a=S(s),o=S(a);o.__click=[Ao];var i=S(o);we(i,()=>({"--size":"20px"})),Mo(i.lastChild);var u=D(a,2),f=S(u);f.__click=[Io];var d=S(f);we(d,()=>({"--size":"20px"})),Po(d.lastChild);var h=D(u,2),c=S(h);c.__click=[No],W(c,1,$(["button","clearButton"]),"svelte-oc46cj");var p=S(c);we(p,()=>({"--size":"20px"})),To(p.lastChild);var v=D(s,2);v.textContent="89e3e27e-fe56-4afe-a843-04aa1b8cfa5d",y(e,n),K()}Re(["click"]);function jo(e,t){X(t,!1);const n=()=>{hn()},r=({title:s,url:a,description:o,tags:i})=>{Rs({title:s,url:a,description:o,tags:i.split(" ").map(u=>u.trim())}),n()};fr(),br(e,{onSubmit:r}),K()}var Fo=N("<button><!></button>");function at(e,t){let n=ve(t,"type",3,"standard");var r=Fo();r.__click=function(...a){var o;(o=t.onClick)==null||o.apply(this,a)};var s=S(r);mt(s,()=>t.children),Q(()=>W(r,1,$(["button",{dangerous:n()==="dangerous"}]),"svelte-v0y8yx")),y(e,r)}Re(["click"]);var Ho=N('<div class="loader svelte-b80p9x"></div>');function Uo(e){var t=Ho();y(e,t)}const zo=async(e,t)=>{const n=e.target;!n.files||n.files.length===0||await t(n.files[0])};var Vo=N('<p class="message svelte-19xh4q5">select a file to import your bookmarks</p> <div role="button" tabindex="0"><div class="dropzone-content svelte-19xh4q5"><p class="svelte-19xh4q5">Drag and drop your JSON file here</p> <p class="svelte-19xh4q5">or</p> <!></div> <input type="file" accept=".json" style="display: none;"></div> <div class="buttonContainer svelte-19xh4q5"><!></div>',1),$o=N('<p class="message svelte-19xh4q5">importing bookmarks...</p> <!>',1),Wo=N('<p class="message success svelte-19xh4q5">bookmarks imported successfully!</p> <div class="buttonContainer svelte-19xh4q5"><!></div>',1),Zo=N('<p class="message error svelte-19xh4q5">something went wrong</p> <div class="buttonContainer svelte-19xh4q5"><!> <!></div>',1),Yo=N('<div class="content svelte-19xh4q5"><!></div>');function Xo(e,t){X(t,!0);let n=I("idle"),r=I(null),s=I(!1),a=I(null);const o=()=>{hn()},i=async g=>{const m=await g.text(),w=JSON.parse(m),q=[];if(!w.bookmarks)throw new Error("Invalid import file format");for(const T of Object.values(w.bookmarks))T&&q.push(T);await Dn(q)},u=async g=>{var M,B,L;const m=await g.text(),q=new DOMParser().parseFromString(m,"text/html");let T=1;const A=[],C=q.querySelectorAll("a");for(const _ of C){const E=_.getAttribute("href"),R=_.textContent||"";if(!E)continue;const V=[];let F=_.parentElement;for(;F;){const te=(M=F.parentElement)==null?void 0:M.querySelector(":scope > h3"),ne=(B=te==null?void 0:te.textContent)==null?void 0:B.trim();ne&&ne!=="Bookmarks"&&ne!=="Bookmarks bar"&&ne!=="Other bookmarks"&&!V.includes(ne)&&V.push(ne),F.tagName==="DL"&&((L=F.parentElement)==null?void 0:L.tagName)==="DT"?F=F.parentElement.parentElement:F=F.parentElement}const G={id:pr(),order:T++,url:E,title:R,description:"",tags:V.length>0?V:["imported"],lastUpdatedTimestamp:Date.now(),createdTimestamp:Date.now()};A.push(G)}await Dn(A)},f=async g=>{b(n,"loading");try{if(g.name.endsWith(".json"))await i(g);else if(g.name.endsWith(".html"))await u(g);else throw new Error("Unsupported file format. Please upload a JSON or HTML file.");b(n,"success")}catch{b(n,"error")}},d=()=>{var g;(g=l(r))==null||g.click()},h=g=>{g.preventDefault(),g.stopPropagation(),b(s,!0)},c=g=>{g.preventDefault(),g.stopPropagation(),b(s,!1)},p=g=>{g.preventDefault(),g.stopPropagation(),b(s,!0)},v=async g=>{var w;if(g.preventDefault(),g.stopPropagation(),b(s,!1),!((w=g.dataTransfer)!=null&&w.files)||g.dataTransfer.files.length===0)return;const m=g.dataTransfer.files[0];if(m.type!=="application/json"&&m.type!=="text/html"){b(n,"error");return}await f(m)};var k=Yo(),x=S(k);{var O=g=>{var m=Vo(),w=D(ee(m),2),q=S(w),T=D(S(q),4);at(T,{onClick:d,children:(B,L)=>{var _=me("Select File");y(B,_)},$$slots:{default:!0}});var A=D(q,2);A.__change=[zo,f],Ee(A,B=>b(r,B),()=>l(r)),Ee(w,B=>b(a,B),()=>l(a));var C=D(w,2),M=S(C);at(M,{onClick:o,children:(B,L)=>{var _=me("cancel");y(B,_)},$$slots:{default:!0}}),Q(()=>W(w,1,$(["dropzone",{active:l(s)}]),"svelte-19xh4q5")),st("dragenter",w,h),st("dragover",w,p),st("dragleave",w,c),st("drop",w,v),y(g,m)},P=(g,m)=>{{var w=T=>{var A=$o(),C=D(ee(A),2);Uo(C),y(T,A)},q=(T,A)=>{{var C=B=>{var L=Wo(),_=D(ee(L),2),E=S(_);at(E,{onClick:o,children:(R,V)=>{var F=me("close");y(R,F)},$$slots:{default:!0}}),y(B,L)},M=(B,L)=>{{var _=E=>{var R=Zo(),V=D(ee(R),2),F=S(V);at(F,{onClick:()=>{b(n,"idle")},children:(te,ne)=>{var Ue=me("Try Again");y(te,Ue)},$$slots:{default:!0}});var G=D(F,2);at(G,{onClick:o,children:(te,ne)=>{var Ue=me("Cancel");y(te,Ue)},$$slots:{default:!0}}),y(E,R)};Z(B,E=>{l(n)==="error"&&E(_)},L)}};Z(T,B=>{l(n)==="success"?B(C):B(M,!1)},A)}};Z(g,T=>{l(n)==="loading"?T(w):T(q,!1)},m)}};Z(x,g=>{l(n)==="idle"?g(O):g(P,!1)})}y(e,k),K()}Re(["change"]);var Ko=N("<div>Export Bookmarks</div>");function Go(e){var t=Ko();y(e,t)}var Jo=N("<div>Clear store</div>");function Qo(e){var t=Jo();y(e,t)}const el=(e,t=On)=>{var n=Ie(),r=ee(n);{var s=o=>{Ro(o,{})},a=(o,i)=>{{var u=d=>{jo(d,{})},f=(d,h)=>{{var c=v=>{Xo(v,{})},p=(v,k)=>{{var x=P=>{Go(P)},O=(P,g)=>{{var m=w=>{Qo(w)};Z(P,w=>{t()==="clearStore"&&w(m)},g)}};Z(v,P=>{t()==="exportBookmarks"?P(x):P(O,!1)},k)}};Z(d,v=>{t()==="importBookmarks"?v(c):v(p,!1)},h)}};Z(o,d=>{t()==="newBookmark"?d(u):d(f,!1)},i)}};Z(r,o=>{t()==="settings"?o(s):o(a,!1)})}y(e,n)};var tl=N("<!> <!>",1);function nl(e,t){X(t,!0);let n=ae(is);var r=tl(),s=ee(r);xo(s);var a=D(s,2);We(a,17,()=>l(n),Oa,(o,i,u)=>{const f=ae(()=>{var d;return u!==l(n).length-1&&!!((d=l(n)[u+1])!=null&&d.shown)});Ls(o,{get shown(){return l(i).shown},get hidden(){return l(f)},children:(d,h)=>{el(d,()=>l(i).page)},$$slots:{default:!0}})}),y(e,r),K()}function rl(e,t){X(t,!0);let n=0;le(()=>{document.addEventListener("touchstart",r=>{n=r.touches[0].clientX},{passive:!1}),document.addEventListener("touchmove",r=>{const a=r.touches[0].clientX-n;(n<50&&a>0||n>window.innerWidth-50&&a<0)&&r.preventDefault()},{passive:!1}),document.addEventListener("touchend",()=>{n=0}),document.addEventListener("touchcancel",()=>{n=0})}),K()}var al=N('<!> <main><!> <div class="container svelte-nkbuiv"><!></div> <!></main>',1);function sl(e,t){X(t,!0);let n=I(null),r=!1;ta("main",()=>l(n));const s=()=>{document.activeElement instanceof HTMLInputElement||document.activeElement instanceof HTMLTextAreaElement?r=!0:r=!1};Te(()=>{s(),document.addEventListener("focusin",s),document.addEventListener("focusout",s),document.addEventListener("touchmove",function(p){r&&p.preventDefault()},{passive:!1})}),Te(async()=>{await new Promise(p=>setTimeout(p,100)),await ba(),Ot.working=!0});let a=ae(()=>qe().length>0);var o=al(),i=ee(o);rl(i,{});var u=D(i,2),f=S(u);_s(f,{});var d=D(f,2),h=S(d);nl(h,{});var c=D(d,2);Xa(c,{}),Ee(u,p=>b(n,p),()=>l(n)),Q(()=>W(u,1,$(["main",{isAnimationOn:Ot.working,open:l(a)}]),"svelte-nkbuiv")),y(e,o),K()}Da(sl,{target:document.getElementById("app")});
