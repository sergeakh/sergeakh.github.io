(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();const dn=!1;var Kt=Array.isArray,kr=Array.prototype.indexOf,Gt=Array.from,br=Object.defineProperty,Ue=Object.getOwnPropertyDescriptor,Pn=Object.getOwnPropertyDescriptors,yr=Object.prototype,Er=Array.prototype,Jt=Object.getPrototypeOf,hn=Object.isExtensible;const Dn=()=>{};function Sr(e){return e()}function wt(e){for(var t=0;t<e.length;t++)e[t]()}const ke=2,Mn=4,Dt=8,Qt=16,Te=32,Xe=64,kt=128,ve=256,bt=512,ie=1024,Le=2048,Ke=4096,Se=8192,Mt=16384,xr=32768,Bt=65536,Cr=1<<17,Tr=1<<19,Bn=1<<20,Vt=1<<21,je=Symbol("$state"),Lr=Symbol("legacy props"),Pr=Symbol("");function On(e){return e===this.v}function Dr(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function en(e){return!Dr(e,this.v)}function Mr(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Br(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Or(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Ar(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Ir(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function Nr(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Rr(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function qr(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let Ge=!1,jr=!1;function Fr(){Ge=!0}const tn=1,nn=2,An=4,Hr=8,zr=16,Ur=1,Vr=2,$r=4,Wr=8,Zr=16,Yr=1,Xr=2,ae=Symbol(),Kr="http://www.w3.org/1999/xhtml";function In(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let H=null;function _n(e){H=e}function Gr(e){return Nn().get(e)}function Jr(e,t){return Nn().set(e,t),t}function X(e,t=!1,n){var r=H={p:H,c:null,d:!1,e:null,m:!1,s:e,x:null,l:null};Ge&&!t&&(H.l={s:null,u:null,r1:[],r2:it(!1)}),rn(()=>{r.d=!0})}function K(e){const t=H;if(t!==null){const o=t.e;if(o!==null){var n=z,r=F;t.e=null;try{for(var s=0;s<o.length;s++){var a=o[s];Ae(a.effect),be(a.reaction),an(a.fn)}}finally{Ae(n),be(r)}}H=t.p,t.m=!0}return{}}function ft(){return!Ge||H!==null&&H.l===null}function Nn(e){return H===null&&In(),H.c??(H.c=new Map(Qr(H)||void 0))}function Qr(e){let t=e.p;for(;t!==null;){const n=t.c;if(n!==null)return n;t=t.p}return null}function G(e){if(typeof e!="object"||e===null||je in e)return e;const t=Jt(e);if(t!==yr&&t!==Er)return e;var n=new Map,r=Kt(e),s=I(0),a=F,o=i=>{var c=F;be(a);var f=i();return be(c),f};return r&&n.set("length",I(e.length)),new Proxy(e,{defineProperty(i,c,f){(!("value"in f)||f.configurable===!1||f.enumerable===!1||f.writable===!1)&&Nr();var u=n.get(c);return u===void 0?(u=o(()=>I(f.value)),n.set(c,u)):E(u,o(()=>G(f.value))),!0},deleteProperty(i,c){var f=n.get(c);if(f===void 0)c in i&&n.set(c,o(()=>I(ae)));else{if(r&&typeof c=="string"){var u=n.get("length"),d=Number(c);Number.isInteger(d)&&d<u.v&&E(u,d)}E(f,ae),pn(s)}return!0},get(i,c,f){var _;if(c===je)return e;var u=n.get(c),d=c in i;if(u===void 0&&(!d||(_=Ue(i,c))!=null&&_.writable)&&(u=o(()=>I(G(d?i[c]:ae))),n.set(c,u)),u!==void 0){var v=l(u);return v===ae?void 0:v}return Reflect.get(i,c,f)},getOwnPropertyDescriptor(i,c){var f=Reflect.getOwnPropertyDescriptor(i,c);if(f&&"value"in f){var u=n.get(c);u&&(f.value=l(u))}else if(f===void 0){var d=n.get(c),v=d==null?void 0:d.v;if(d!==void 0&&v!==ae)return{enumerable:!0,configurable:!0,value:v,writable:!0}}return f},has(i,c){var v;if(c===je)return!0;var f=n.get(c),u=f!==void 0&&f.v!==ae||Reflect.has(i,c);if(f!==void 0||z!==null&&(!u||(v=Ue(i,c))!=null&&v.writable)){f===void 0&&(f=o(()=>I(u?G(i[c]):ae)),n.set(c,f));var d=l(f);if(d===ae)return!1}return u},set(i,c,f,u){var P;var d=n.get(c),v=c in i;if(r&&c==="length")for(var _=f;_<d.v;_+=1){var h=n.get(_+"");h!==void 0?E(h,ae):_ in i&&(h=o(()=>I(ae)),n.set(_+"",h))}d===void 0?(!v||(P=Ue(i,c))!=null&&P.writable)&&(d=o(()=>I(void 0)),E(d,o(()=>G(f))),n.set(c,d)):(v=d.v!==ae,E(d,o(()=>G(f))));var x=Reflect.getOwnPropertyDescriptor(i,c);if(x!=null&&x.set&&x.set.call(u,f),!v){if(r&&typeof c=="string"){var T=n.get("length"),O=Number(c);Number.isInteger(O)&&O>=T.v&&E(T,O+1)}pn(s)}return!0},ownKeys(i){l(s);var c=Reflect.ownKeys(i).filter(d=>{var v=n.get(d);return v===void 0||v.v!==ae});for(var[f,u]of n)u.v!==ae&&!(f in i)&&c.push(f);return c},setPrototypeOf(){Rr()}})}function pn(e,t=1){E(e,e.v+t)}const lt=new Map;function it(e,t){var n={f:0,v:e,reactions:null,equals:On,rv:0,wv:0};return n}function I(e,t){const n=it(e);return Jn(n),n}function Rn(e,t=!1){var r;const n=it(e);return t||(n.equals=en),Ge&&H!==null&&H.l!==null&&((r=H.l).s??(r.s=[])).push(n),n}function E(e,t,n=!1){F!==null&&!ge&&ft()&&(F.f&(ke|Qt))!==0&&!(re!=null&&re.includes(e))&&qr();let r=n?G(t):t;return $t(e,r)}function $t(e,t){if(!e.equals(t)){var n=e.v;dt?lt.set(e,t):lt.set(e,n),e.v=t,e.wv=er(),qn(e,Le),ft()&&z!==null&&(z.f&ie)!==0&&(z.f&(Te|Xe))===0&&(ce===null?va([e]):ce.push(e))}return t}function qn(e,t){var n=e.reactions;if(n!==null)for(var r=ft(),s=n.length,a=0;a<s;a++){var o=n[a],i=o.f;(i&Le)===0&&(!r&&o===z||(ye(o,t),(i&(ie|ve))!==0&&((i&ke)!==0?qn(o,Ke):qt(o))))}}let ea=!1;var gn,jn,Fn,Hn;function ta(){if(gn===void 0){gn=window,jn=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;Fn=Ue(t,"firstChild").get,Hn=Ue(t,"nextSibling").get,hn(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),hn(n)&&(n.__t=void 0)}}function Ot(e=""){return document.createTextNode(e)}function $e(e){return Fn.call(e)}function At(e){return Hn.call(e)}function S(e,t){return $e(e)}function Q(e,t){{var n=$e(e);return n instanceof Comment&&n.data===""?At(n):n}}function D(e,t=1,n=!1){let r=e;for(;t--;)r=At(r);return r}function na(e){e.textContent=""}function We(e){var t=ke|Le,n=F!==null&&(F.f&ke)!==0?F:null;return z===null||n!==null&&(n.f&ve)!==0?t|=ve:z.f|=Bn,{ctx:H,deps:null,effects:null,equals:On,f:t,fn:e,reactions:null,rv:0,v:null,wv:0,parent:n??z}}function ne(e){const t=We(e);return Jn(t),t}function zn(e){const t=We(e);return t.equals=en,t}function Un(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)Ce(t[n])}}function ra(e){for(var t=e.parent;t!==null;){if((t.f&ke)===0)return t;t=t.parent}return null}function aa(e){var t,n=z;Ae(ra(e));try{Un(e),t=nr(e)}finally{Ae(n)}return t}function Vn(e){var t=aa(e),n=(Be||(e.f&ve)!==0)&&e.deps!==null?Ke:ie;ye(e,n),e.equals(t)||(e.v=t,e.wv=er())}function $n(e){z===null&&F===null&&Or(),F!==null&&(F.f&ve)!==0&&z===null&&Br(),dt&&Mr()}function sa(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function Je(e,t,n,r=!0){var s=z,a={ctx:H,deps:null,nodes_start:null,nodes_end:null,f:e|Le,first:null,fn:t,last:null,next:null,parent:s,prev:null,teardown:null,transitions:null,wv:0};if(n)try{ln(a),a.f|=xr}catch(c){throw Ce(a),c}else t!==null&&qt(a);var o=n&&a.deps===null&&a.first===null&&a.nodes_start===null&&a.teardown===null&&(a.f&(Bn|kt))===0;if(!o&&r&&(s!==null&&sa(a,s),F!==null&&(F.f&ke)!==0)){var i=F;(i.effects??(i.effects=[])).push(a)}return a}function rn(e){const t=Je(Dt,null,!1);return ye(t,ie),t.teardown=e,t}function se(e){$n();var t=z!==null&&(z.f&Te)!==0&&H!==null&&!H.m;if(t){var n=H;(n.e??(n.e=[])).push({fn:e,effect:z,reaction:F})}else{var r=an(e);return r}}function oa(e){return $n(),It(e)}function la(e){const t=Je(Xe,e,!0);return(n={})=>new Promise(r=>{n.outro?yt(t,()=>{Ce(t),r(void 0)}):(Ce(t),r(void 0))})}function an(e){return Je(Mn,e,!1)}function It(e){return Je(Dt,e,!0)}function J(e,t=[],n=We){const r=t.map(n);return Nt(()=>e(...r.map(l)))}function Nt(e,t=0){return Je(Dt|Qt|t,e,!0)}function Ze(e,t=!0){return Je(Dt|Te,e,!0,t)}function Wn(e){var t=e.teardown;if(t!==null){const n=dt,r=F;wn(!0),be(null);try{t.call(null)}finally{wn(n),be(r)}}}function Zn(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){var r=n.next;(n.f&Xe)!==0?n.parent=null:Ce(n,t),n=r}}function ia(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&Te)===0&&Ce(t),t=n}}function Ce(e,t=!0){var n=!1;if((t||(e.f&Tr)!==0)&&e.nodes_start!==null){for(var r=e.nodes_start,s=e.nodes_end;r!==null;){var a=r===s?null:At(r);r.remove(),r=a}n=!0}Zn(e,t&&!n),Tt(e,0),ye(e,Mt);var o=e.transitions;if(o!==null)for(const c of o)c.stop();Wn(e);var i=e.parent;i!==null&&i.first!==null&&Yn(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function Yn(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function yt(e,t){var n=[];sn(e,n,!0),Xn(n,()=>{Ce(e),t&&t()})}function Xn(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var s of e)s.out(r)}else t()}function sn(e,t,n){if((e.f&Se)===0){if(e.f^=Se,e.transitions!==null)for(const o of e.transitions)(o.is_global||n)&&t.push(o);for(var r=e.first;r!==null;){var s=r.next,a=(r.f&Bt)!==0||(r.f&Te)!==0;sn(r,t,a?n:!1),r=s}}}function Et(e){Kn(e,!0)}function Kn(e,t){if((e.f&Se)!==0){e.f^=Se,(e.f&ie)===0&&(e.f^=ie),ht(e)&&(ye(e,Le),qt(e));for(var n=e.first;n!==null;){var r=n.next,s=(n.f&Bt)!==0||(n.f&Te)!==0;Kn(n,s?t:!1),n=r}if(e.transitions!==null)for(const a of e.transitions)(a.is_global||t)&&a.in()}}let ct=[],Wt=[];function Gn(){var e=ct;ct=[],wt(e)}function ca(){var e=Wt;Wt=[],wt(e)}function on(e){ct.length===0&&queueMicrotask(Gn),ct.push(e)}function mn(){ct.length>0&&Gn(),Wt.length>0&&ca()}let mt=!1,St=!1,xt=null,Fe=!1,dt=!1;function wn(e){dt=e}let ot=[];let F=null,ge=!1;function be(e){F=e}let z=null;function Ae(e){z=e}let re=null;function ua(e){re=e}function Jn(e){F!==null&&F.f&Vt&&(re===null?ua([e]):re.push(e))}let te=null,oe=0,ce=null;function va(e){ce=e}let Qn=1,Ct=0,Be=!1;function er(){return++Qn}function ht(e){var d;var t=e.f;if((t&Le)!==0)return!0;if((t&Ke)!==0){var n=e.deps,r=(t&ve)!==0;if(n!==null){var s,a,o=(t&bt)!==0,i=r&&z!==null&&!Be,c=n.length;if(o||i){var f=e,u=f.parent;for(s=0;s<c;s++)a=n[s],(o||!((d=a==null?void 0:a.reactions)!=null&&d.includes(f)))&&(a.reactions??(a.reactions=[])).push(f);o&&(f.f^=bt),i&&u!==null&&(u.f&ve)===0&&(f.f^=ve)}for(s=0;s<c;s++)if(a=n[s],ht(a)&&Vn(a),a.wv>e.wv)return!0}(!r||z!==null&&!Be)&&ye(e,ie)}return!1}function fa(e,t){for(var n=t;n!==null;){if((n.f&kt)!==0)try{n.fn(e);return}catch{n.f^=kt}n=n.parent}throw mt=!1,e}function da(e){return(e.f&Mt)===0&&(e.parent===null||(e.parent.f&kt)===0)}function Rt(e,t,n,r){if(mt){if(n===null&&(mt=!1),da(t))throw e;return}n!==null&&(mt=!0);{fa(e,t);return}}function tr(e,t,n=!0){var r=e.reactions;if(r!==null)for(var s=0;s<r.length;s++){var a=r[s];re!=null&&re.includes(e)||((a.f&ke)!==0?tr(a,t,!1):t===a&&(n?ye(a,Le):(a.f&ie)!==0&&ye(a,Ke),qt(a)))}}function nr(e){var _;var t=te,n=oe,r=ce,s=F,a=Be,o=re,i=H,c=ge,f=e.f;te=null,oe=0,ce=null,Be=(f&ve)!==0&&(ge||!Fe||F===null),F=(f&(Te|Xe))===0?e:null,re=null,_n(e.ctx),ge=!1,Ct++,e.f|=Vt;try{var u=(0,e.fn)(),d=e.deps;if(te!==null){var v;if(Tt(e,oe),d!==null&&oe>0)for(d.length=oe+te.length,v=0;v<te.length;v++)d[oe+v]=te[v];else e.deps=d=te;if(!Be)for(v=oe;v<d.length;v++)((_=d[v]).reactions??(_.reactions=[])).push(e)}else d!==null&&oe<d.length&&(Tt(e,oe),d.length=oe);if(ft()&&ce!==null&&!ge&&d!==null&&(e.f&(ke|Ke|Le))===0)for(v=0;v<ce.length;v++)tr(ce[v],e);return s!==e&&(Ct++,ce!==null&&(r===null?r=ce:r.push(...ce))),u}finally{te=t,oe=n,ce=r,F=s,Be=a,re=o,_n(i),ge=c,e.f^=Vt}}function ha(e,t){let n=t.reactions;if(n!==null){var r=kr.call(n,e);if(r!==-1){var s=n.length-1;s===0?n=t.reactions=null:(n[r]=n[s],n.pop())}}n===null&&(t.f&ke)!==0&&(te===null||!te.includes(t))&&(ye(t,Ke),(t.f&(ve|bt))===0&&(t.f^=bt),Un(t),Tt(t,0))}function Tt(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)ha(e,n[r])}function ln(e){var t=e.f;if((t&Mt)===0){ye(e,ie);var n=z,r=H,s=Fe;z=e,Fe=!0;try{(t&Qt)!==0?ia(e):Zn(e),Wn(e);var a=nr(e);e.teardown=typeof a=="function"?a:null,e.wv=Qn;var o=e.deps,i;dn&&jr&&e.f&Le}catch(c){Rt(c,e,n,r||e.ctx)}finally{Fe=s,z=n}}}function _a(){try{Ar()}catch(e){if(xt!==null)Rt(e,xt,null);else throw e}}function rr(){var e=Fe;try{var t=0;for(Fe=!0;ot.length>0;){t++>1e3&&_a();var n=ot,r=n.length;ot=[];for(var s=0;s<r;s++){var a=ga(n[s]);pa(a)}lt.clear()}}finally{St=!1,Fe=e,xt=null}}function pa(e){var t=e.length;if(t!==0)for(var n=0;n<t;n++){var r=e[n];if((r.f&(Mt|Se))===0)try{ht(r)&&(ln(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null?Yn(r):r.fn=null))}catch(s){Rt(s,r,null,r.ctx)}}}function qt(e){St||(St=!0,queueMicrotask(rr));for(var t=xt=e;t.parent!==null;){t=t.parent;var n=t.f;if((n&(Xe|Te))!==0){if((n&ie)===0)return;t.f^=ie}}ot.push(t)}function ga(e){for(var t=[],n=e;n!==null;){var r=n.f,s=(r&(Te|Xe))!==0,a=s&&(r&ie)!==0;if(!a&&(r&Se)===0){if((r&Mn)!==0)t.push(n);else if(s)n.f^=ie;else{var o=F;try{F=n,ht(n)&&ln(n)}catch(f){Rt(f,n,null,n.ctx)}finally{F=o}}var i=n.first;if(i!==null){n=i;continue}}var c=n.parent;for(n=n.next;n===null&&c!==null;)n=c.next,c=c.parent}return t}function ma(e){var t;for(mn();ot.length>0;)St=!0,rr(),mn();return t}async function wa(){await Promise.resolve(),ma()}function l(e){var t=e.f,n=(t&ke)!==0;if(F!==null&&!ge){if(!(re!=null&&re.includes(e))){var r=F.deps;e.rv<Ct&&(e.rv=Ct,te===null&&r!==null&&r[oe]===e?oe++:te===null?te=[e]:(!Be||!te.includes(e))&&te.push(e))}}else if(n&&e.deps===null&&e.effects===null){var s=e,a=s.parent;a!==null&&(a.f&ve)===0&&(s.f^=ve)}return n&&(s=e,ht(s)&&Vn(s)),dt&&lt.has(e)?lt.get(e):e.v}function Ye(e){var t=ge;try{return ge=!0,e()}finally{ge=t}}const ka=-7169;function ye(e,t){e.f=e.f&ka|t}function ba(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(je in e)Zt(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&je in n&&Zt(n)}}}function Zt(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{Zt(e[r],t)}catch{}const n=Jt(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=Pn(n);for(let s in r){const a=r[s].get;if(a)try{a.call(e)}catch{}}}}}const ya=["touchstart","touchmove"];function Ea(e){return ya.includes(e)}let kn=!1;function Sa(){kn||(kn=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const n of e.target.elements)(t=n.__on_r)==null||t.call(n)})},{capture:!0}))}function ar(e){var t=F,n=z;be(null),Ae(null);try{return e()}finally{be(t),Ae(n)}}function xa(e,t,n,r=n){e.addEventListener(t,()=>ar(n));const s=e.__on_r;s?e.__on_r=()=>{s(),r(!0)}:e.__on_r=()=>r(!0),Sa()}const sr=new Set,Yt=new Set;function Ca(e,t,n,r={}){function s(a){if(r.capture||rt.call(t,a),!a.cancelBubble)return ar(()=>n==null?void 0:n.call(this,a))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?on(()=>{t.addEventListener(e,s,r)}):t.addEventListener(e,s,r),s}function nt(e,t,n,r,s){var a={capture:r,passive:s},o=Ca(e,t,n,a);(t===document.body||t===window||t===document)&&rn(()=>{t.removeEventListener(e,o,a)})}function Re(e){for(var t=0;t<e.length;t++)sr.add(e[t]);for(var n of Yt)n(e)}function rt(e){var P;var t=this,n=t.ownerDocument,r=e.type,s=((P=e.composedPath)==null?void 0:P.call(e))||[],a=s[0]||e.target,o=0,i=e.__root;if(i){var c=s.indexOf(i);if(c!==-1&&(t===document||t===window)){e.__root=t;return}var f=s.indexOf(t);if(f===-1)return;c<=f&&(o=c)}if(a=s[o]||e.target,a!==t){br(e,"currentTarget",{configurable:!0,get(){return a||n}});var u=F,d=z;be(null),Ae(null);try{for(var v,_=[];a!==null;){var h=a.assignedSlot||a.parentNode||a.host||null;try{var x=a["__"+r];if(x!=null&&(!a.disabled||e.target===a))if(Kt(x)){var[T,...O]=x;T.apply(a,[e,...O])}else x.call(a,e)}catch(g){v?_.push(g):v=g}if(e.cancelBubble||h===t||h===null)break;a=h}if(v){for(let g of _)queueMicrotask(()=>{throw g});throw v}}finally{e.__root=t,delete e.currentTarget,be(u),Ae(d)}}}function or(e){var t=document.createElement("template");return t.innerHTML=e,t.content}function ut(e,t){var n=z;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function N(e,t){var n=(t&Yr)!==0,r=(t&Xr)!==0,s,a=!e.startsWith("<!>");return()=>{s===void 0&&(s=or(a?e:"<!>"+e),n||(s=$e(s)));var o=r||jn?document.importNode(s,!0):s.cloneNode(!0);if(n){var i=$e(o),c=o.lastChild;ut(i,c)}else ut(o,o);return o}}function de(e,t,n="svg"){var r=!e.startsWith("<!>"),s=`<${n}>${r?e:"<!>"+e}</${n}>`,a;return()=>{if(!a){var o=or(s),i=$e(o);a=$e(i)}var c=a.cloneNode(!0);return ut(c,c),c}}function me(e=""){{var t=Ot(e+"");return ut(t,t),t}}function Oe(){var e=document.createDocumentFragment(),t=document.createComment(""),n=Ot();return e.append(t,n),ut(t,n),e}function b(e,t){e!==null&&e.before(t)}function qe(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function Ta(e,t){return La(e,t)}const He=new Map;function La(e,{target:t,anchor:n,props:r={},events:s,context:a,intro:o=!0}){ta();var i=new Set,c=d=>{for(var v=0;v<d.length;v++){var _=d[v];if(!i.has(_)){i.add(_);var h=Ea(_);t.addEventListener(_,rt,{passive:h});var x=He.get(_);x===void 0?(document.addEventListener(_,rt,{passive:h}),He.set(_,1)):He.set(_,x+1)}}};c(Gt(sr)),Yt.add(c);var f=void 0,u=la(()=>{var d=n??t.appendChild(Ot());return Ze(()=>{if(a){X({});var v=H;v.c=a}s&&(r.$$events=s),f=e(d,r)||{},a&&K()}),()=>{var h;for(var v of i){t.removeEventListener(v,rt);var _=He.get(v);--_===0?(document.removeEventListener(v,rt),He.delete(v)):He.set(v,_)}Yt.delete(c),d!==n&&((h=d.parentNode)==null||h.removeChild(d))}});return Pa.set(f,u),f}let Pa=new WeakMap;function W(e,t,[n,r]=[0,0]){var s=e,a=null,o=null,i=ae,c=n>0?Bt:0,f=!1;const u=(v,_=!0)=>{f=!0,d(_,v)},d=(v,_)=>{i!==(i=v)&&(i?(a?Et(a):_&&(a=Ze(()=>_(s))),o&&yt(o,()=>{o=null})):(o?Et(o):_&&(o=Ze(()=>_(s,[n+1,r]))),a&&yt(a,()=>{a=null})))};Nt(()=>{f=!1,t(u),f||d(null,null)},c)}function we(e,t){It(()=>{var n=t();for(var r in n){var s=n[r];s?e.style.setProperty(r,s):e.style.removeProperty(r)}}),rn(()=>{e.remove()})}function Da(e,t){return t}function Ma(e,t,n,r){for(var s=[],a=t.length,o=0;o<a;o++)sn(t[o].e,s,!0);var i=a>0&&s.length===0&&n!==null;if(i){var c=n.parentNode;na(c),c.append(n),r.clear(),Me(e,t[0].prev,t[a-1].next)}Xn(s,()=>{for(var f=0;f<a;f++){var u=t[f];i||(r.delete(u.k),Me(e,u.prev,u.next)),Ce(u.e,!i)}})}function ze(e,t,n,r,s,a=null){var o=e,i={flags:t,items:new Map,first:null},c=(t&An)!==0;if(c){var f=e;o=f.appendChild(Ot())}var u=null,d=!1,v=zn(()=>{var _=n();return Kt(_)?_:_==null?[]:Gt(_)});Nt(()=>{var _=l(v),h=_.length;d&&h===0||(d=h===0,Ba(_,i,o,s,t,r,n),a!==null&&(h===0?u?Et(u):u=Ze(()=>a(o)):u!==null&&yt(u,()=>{u=null})),l(v))})}function Ba(e,t,n,r,s,a,o){var B,$,Z,j;var i=(s&Hr)!==0,c=(s&(tn|nn))!==0,f=e.length,u=t.items,d=t.first,v=d,_,h=null,x,T=[],O=[],P,g,m,w;if(i)for(w=0;w<f;w+=1)P=e[w],g=a(P,w),m=u.get(g),m!==void 0&&((B=m.a)==null||B.measure(),(x??(x=new Set)).add(m));for(w=0;w<f;w+=1){if(P=e[w],g=a(P,w),m=u.get(g),m===void 0){var R=v?v.e.nodes_start:n;h=Aa(R,t,h,h===null?t.first:h.next,P,g,w,r,s,o),u.set(g,h),T=[],O=[],v=h.next;continue}if(c&&Oa(m,P,w,s),(m.e.f&Se)!==0&&(Et(m.e),i&&(($=m.a)==null||$.unfix(),(x??(x=new Set)).delete(m))),m!==v){if(_!==void 0&&_.has(m)){if(T.length<O.length){var L=O[0],A;h=L.prev;var p=T[0],k=T[T.length-1];for(A=0;A<T.length;A+=1)bn(T[A],L,n);for(A=0;A<O.length;A+=1)_.delete(O[A]);Me(t,p.prev,k.next),Me(t,h,p),Me(t,k,L),v=L,h=k,w-=1,T=[],O=[]}else _.delete(m),bn(m,v,n),Me(t,m.prev,m.next),Me(t,m,h===null?t.first:h.next),Me(t,h,m),h=m;continue}for(T=[],O=[];v!==null&&v.k!==g;)(v.e.f&Se)===0&&(_??(_=new Set)).add(v),O.push(v),v=v.next;if(v===null)continue;m=v}T.push(m),h=m,v=m.next}if(v!==null||_!==void 0){for(var C=_===void 0?[]:Gt(_);v!==null;)(v.e.f&Se)===0&&C.push(v),v=v.next;var y=C.length;if(y>0){var M=(s&An)!==0&&f===0?n:null;if(i){for(w=0;w<y;w+=1)(Z=C[w].a)==null||Z.measure();for(w=0;w<y;w+=1)(j=C[w].a)==null||j.fix()}Ma(t,C,M,u)}}i&&on(()=>{var he;if(x!==void 0)for(m of x)(he=m.a)==null||he.apply()}),z.first=t.first&&t.first.e,z.last=h&&h.e}function Oa(e,t,n,r){(r&tn)!==0&&$t(e.v,t),(r&nn)!==0?$t(e.i,n):e.i=n}function Aa(e,t,n,r,s,a,o,i,c,f){var u=(c&tn)!==0,d=(c&zr)===0,v=u?d?Rn(s):it(s):s,_=(c&nn)===0?o:it(o),h={i:_,v,k:a,a:null,e:null,prev:n,next:r};try{return h.e=Ze(()=>i(e,v,_,f),ea),h.e.prev=n&&n.e,h.e.next=r&&r.e,n===null?t.first=h:(n.next=h,n.e.next=h.e),r!==null&&(r.prev=h,r.e.prev=h.e),h}finally{}}function bn(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,s=t?t.e.nodes_start:n,a=e.e.nodes_start;a!==r;){var o=At(a);s.before(a),a=o}}function Me(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function _t(e,t,...n){var r=e,s=Dn,a;Nt(()=>{s!==(s=t())&&(a&&(Ce(a),a=null),a=Ze(()=>s(r,...n)))},Bt)}function lr(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=lr(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Ia(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=lr(e))&&(r&&(r+=" "),r+=t);return r}function U(e){return typeof e=="object"?Ia(e):e??""}function Na(e,t,n){var r=e==null?"":""+e;return t&&(r=r?r+" "+t:t),r===""?null:r}function Ra(e,t){return e==null?null:String(e)}function V(e,t,n,r,s,a){var o=e.__className;if(o!==n||o===void 0){var i=Na(n,r);i==null?e.removeAttribute("class"):e.className=i,e.__className=n}return a}function yn(e,t,n,r){var s=e.__style;if(s!==t){var a=Ra(t);a==null?e.removeAttribute("style"):e.style.cssText=a,e.__style=t}return r}const qa=Symbol("is custom element"),ja=Symbol("is html");function jt(e,t){var n=cn(e);n.value===(n.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function Ft(e,t){var n=cn(e);n.checked!==(n.checked=t??void 0)&&(e.checked=t)}function xe(e,t,n,r){var s=cn(e);s[t]!==(s[t]=n)&&(t==="loading"&&(e[Pr]=n),n==null?e.removeAttribute(t):typeof n!="string"&&Fa(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function cn(e){return e.__attributes??(e.__attributes={[qa]:e.nodeName.includes("-"),[ja]:e.namespaceURI===Kr})}var En=new Map;function Fa(e){var t=En.get(e.nodeName);if(t)return t;En.set(e.nodeName,t=[]);for(var n,r=e,s=Element.prototype;s!==r;){n=Pn(r);for(var a in n)n[a].set&&t.push(a);r=Jt(r)}return t}function at(e,t,n=t){var r=ft();xa(e,"input",s=>{var a=s?e.defaultValue:e.value;if(a=Ht(e)?zt(a):a,n(a),r&&a!==(a=t())){var o=e.selectionStart,i=e.selectionEnd;e.value=a??"",i!==null&&(e.selectionStart=o,e.selectionEnd=Math.min(i,e.value.length))}}),Ye(t)==null&&e.value&&n(Ht(e)?zt(e.value):e.value),It(()=>{var s=t();Ht(e)&&s===zt(e.value)||e.type==="date"&&!s&&!e.value||s!==e.value&&(e.value=s??"")})}function Ht(e){var t=e.type;return t==="number"||t==="range"}function zt(e){return e===""?null:+e}function Sn(e,t){return e===t||(e==null?void 0:e[je])===t}function Ee(e={},t,n,r){return an(()=>{var s,a;return It(()=>{s=a,a=[],Ye(()=>{e!==n(...a)&&(t(e,...a),s&&Sn(n(...s),e)&&t(null,...s))})}),()=>{on(()=>{a&&Sn(n(...a),e)&&t(null,...a)})}}),e}function ir(e=!1){const t=H,n=t.l.u;if(!n)return;let r=()=>ba(t.s);if(e){let s=0,a={};const o=We(()=>{let i=!1;const c=t.s;for(const f in c)c[f]!==a[f]&&(a[f]=c[f],i=!0);return i&&s++,s});r=()=>l(o)}n.b.length&&oa(()=>{xn(t,r),wt(n.b)}),se(()=>{const s=Ye(()=>n.m.map(Sr));return()=>{for(const a of s)typeof a=="function"&&a()}}),n.a.length&&se(()=>{xn(t,r),wt(n.a)})}function xn(e,t){if(e.l.s)for(const n of e.l.s)l(n);t()}let pt=!1;function Ha(e){var t=pt;try{return pt=!1,[e(),pt]}finally{pt=t}}function Cn(e){var t;return((t=e.ctx)==null?void 0:t.d)??!1}function ue(e,t,n,r){var R;var s=(n&Ur)!==0,a=!Ge||(n&Vr)!==0,o=(n&Wr)!==0,i=(n&Zr)!==0,c=!1,f;o?[f,c]=Ha(()=>e[t]):f=e[t];var u=je in e||Lr in e,d=o&&(((R=Ue(e,t))==null?void 0:R.set)??(u&&t in e&&(L=>e[t]=L)))||void 0,v=r,_=!0,h=!1,x=()=>(h=!0,_&&(_=!1,i?v=Ye(r):v=r),v);f===void 0&&r!==void 0&&(d&&a&&Ir(),f=x(),d&&d(f));var T;if(a)T=()=>{var L=e[t];return L===void 0?x():(_=!0,h=!1,L)};else{var O=(s?We:zn)(()=>e[t]);O.f|=Cr,T=()=>{var L=l(O);return L!==void 0&&(v=void 0),L===void 0?v:L}}if((n&$r)===0)return T;if(d){var P=e.$$legacy;return function(L,A){return arguments.length>0?((!a||!A||P||c)&&d(A?T():L),L):T()}}var g=!1,m=Rn(f),w=We(()=>{var L=T(),A=l(m);return g?(g=!1,A):m.v=L});return o&&l(w),s||(w.equals=en),function(L,A){if(arguments.length>0){const p=A?l(w):a&&o?G(L):L;if(!w.equals(p)){if(g=!0,E(m,p),h&&v!==void 0&&(v=p),Cn(w))return L;Ye(()=>l(w))}return L}return Cn(w)?w.v:l(w)}}function Ie(e){H===null&&In(),Ge&&H.l!==null?za(H).m.push(e):se(()=>{const t=Ye(e);if(typeof t=="function")return t})}function za(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const Ua="5";var Ln;typeof window<"u"&&((Ln=window.__svelte??(window.__svelte={})).v??(Ln.v=new Set)).add(Ua);let st=I("");function Va(e){E(st,e,!0)}var $a=N('<div class="notification svelte-1h5k2zn"> </div>');function Wa(e,t){X(t,!0),se(()=>{l(st);const a=setTimeout(()=>{E(st,"")},800);return()=>{clearTimeout(a)}});var n=Oe(),r=Q(n);{var s=a=>{var o=$a(),i=S(o);J(()=>qe(i,l(st))),b(a,o)};W(r,a=>{l(st)&&a(s)})}b(e,n),K()}var Za=N('<span class="vh svelte-14jjkpd"> </span>');function vt(e,t){var n=Za(),r=S(n);J(()=>qe(r,t.children)),b(e,n)}Fr();var Ya=de('<svg width="24" height="24" viewBox="0 0 0.72 0.72" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-1lqi79o"><path d="M.16.26h.4m-.4.2h.4M.11.26h.5m-.5.2h.5m-.4.15.1-.5m.1.5.1-.5" stroke="currentColor" stroke-width=".1" stroke-linecap="round" stroke-linejoin="round"></path></svg>');function Xa(e){var t=Ya();b(e,t)}var Ka=de('<svg viewBox="0 0 13.229 13.229" xmlns="http://www.w3.org/2000/svg" class="svelte-1lqi79o"><path style="fill:currentColor;stroke-width:.579737" d="M5.82 2.381h1.588v8.467H5.821Z"></path><path style="fill:currentColor;stroke-width:.579328" d="M10.848 5.822v1.586H2.38V5.82Z"></path></svg>');function Ga(e){var t=Ka();b(e,t)}var Ja=de('<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-1lqi79o"><path fill-rule="evenodd" clip-rule="evenodd" d="M14.279 2.152C13.909 2 13.439 2 12.5 2s-1.409 0-1.779.152a2.008 2.008 0 0 0-1.09 1.083c-.094.223-.13.484-.145.863a1.615 1.615 0 0 1-.796 1.353 1.64 1.64 0 0 1-1.579.008c-.338-.178-.583-.276-.825-.308a2.026 2.026 0 0 0-1.49.396c-.318.242-.553.646-1.022 1.453-.47.807-.704 1.21-.757 1.605-.07.526.074 1.058.4 1.479.148.192.357.353.68.555.477.297.783.803.783 1.361 0 .558-.306 1.064-.782 1.36-.324.203-.533.364-.682.556-.325.421-.469.953-.399 1.479.053.394.287.798.757 1.605.47.807.704 1.21 1.022 1.453.424.323.96.465 1.49.396.242-.032.487-.13.825-.308a1.64 1.64 0 0 1 1.58.008c.486.28.774.795.795 1.353.015.38.051.64.145.863.204.49.596.88 1.09 1.083.37.152.84.152 1.779.152s1.409 0 1.779-.152a2.008 2.008 0 0 0 1.09-1.083c.094-.223.13-.483.145-.863.02-.558.309-1.074.796-1.353a1.64 1.64 0 0 1 1.579-.008c.338.178.583.276.825.308.53.07 1.066-.073 1.49-.396.318-.242.553-.646 1.022-1.453.47-.807.704-1.21.757-1.605a1.99 1.99 0 0 0-.4-1.479c-.148-.192-.357-.353-.68-.555-.477-.297-.783-.803-.783-1.361 0-.558.306-1.064.782-1.36.324-.203.533-.364.682-.556a1.99 1.99 0 0 0 .399-1.479c-.053-.394-.287-.798-.757-1.605-.47-.807-.704-1.21-1.022-1.453a2.026 2.026 0 0 0-1.49-.396c-.242.032-.487.13-.825.308a1.64 1.64 0 0 1-1.58-.008 1.615 1.615 0 0 1-.795-1.353c-.015-.38-.051-.64-.145-.863a2.007 2.007 0 0 0-1.09-1.083ZM12.5 15c1.67 0 3.023-1.343 3.023-3S14.169 9 12.5 9c-1.67 0-3.023 1.343-3.023 3s1.354 3 3.023 3Z" fill="currentColor"></path></svg>');function cr(e){var t=Ja();b(e,t)}var Qa=de('<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-1lqi79o"><path d="M4 6h16M4 12h16M4 18h16" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>');function es(e){var t=Qa();b(e,t)}const q=G({pathname:window.location.pathname,search:window.location.search,historyLength:0}),ur=()=>{var e;return((e=new URLSearchParams(q.search).get("selectedTags"))==null?void 0:e.split(","))||[]};let gt=ur();const ts=()=>{const e=ur();return e.join(",")===gt.join(",")||(gt=e),gt},ns=()=>{q.pathname=document.location.pathname,q.search=document.location.search,q.historyLength=Math.max(0,q.historyLength-=1)};window.addEventListener("popstate",ns);const Lt=e=>{const[t,n]=e.split("?");q.pathname=t,q.search=n?`?${n}`:"",q.historyLength+=1,window.history.pushState(null,"",e)},rs=e=>{const[t,n]=e.split("?");q.pathname=t,q.search=n?`?${n}`:"",window.history.replaceState(null,"",e)},un=(e="/")=>{const[t,n]=e.split("?");q.historyLength<=0?(window.history.replaceState(null,"",e),q.historyLength=0,q.pathname=t,q.search=n?`?${n}`:""):window.history.back()},Pe=G({shown:!1}),Ne=()=>{var e;return((e=new URLSearchParams(q.search).get("stackPages"))==null?void 0:e.split(","))||[]};let Ve=I(G(Ne()));const Qe=e=>{const t=Ne();t.push(e);const n=new URLSearchParams(q.search);n.set("stackPages",t.join(",")),E(Ve,t,!0),Lt(`${q.pathname}?${n.toString()}`)},as=()=>{const e=l(Ve).slice(0,-1);E(Ve,e,!0)},ss=()=>{const e=Ne();return e.length>=l(Ve).length?e.reduce((t,n)=>[...t,{page:n,shown:!0}],[]):l(Ve).reduce((t,n,r)=>[...t,{page:n,shown:r!==l(Ve).length-1}],[])},os=e=>{e.preventDefault(),Qe("settings")},ls=e=>{e.preventDefault(),Lt("/")},is=e=>{e.preventDefault(),Qe("newBookmark")};var cs=N('<a href="/"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Home</span></a>'),us=N('<a class="link svelte-e5g06v"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Settings</span></a>'),vs=N('<a class="addBookmark svelte-e5g06v"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Add bookmark</span></a>'),fs=N('<div class="header svelte-e5g06v"><div class="top svelte-e5g06v"><div class="desktop svelte-e5g06v"><!></div> <div class="mobile svelte-e5g06v"><button class="buttonMenu svelte-e5g06v"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button></div> <!></div></div>');function ds(e,t){X(t,!0);const n=()=>{Pe.shown=!0},r=()=>{const g=Ne();g.includes("settings")||g.push("settings");const m=new URLSearchParams(q.search);return m.set("stackPages",g.join(",")),`${q.pathname}?${m}`};let a=ne(()=>{const g=Ne();g.includes("newBookmark")||g.push("newBookmark");const m=new URLSearchParams(q.search);return m.set("stackPages",g.join(",")),`${q.pathname}?${m}`}),o=ne(r);var i=fs(),c=S(i),f=S(c),u=S(f);{var d=g=>{var m=cs();m.__click=[ls],V(m,1,U(["link","hash"]),"svelte-e5g06v");var w=S(m);we(w,()=>({"--size":"20px"})),Xa(w.lastChild),b(g,m)},v=g=>{var m=us();m.__click=[os];var w=S(m);we(w,()=>({"--size":"20px"})),cr(w.lastChild),J(()=>xe(m,"href",l(o))),b(g,m)};W(u,g=>{q.pathname==="/settings"?g(d):g(v,!1)})}var _=D(f,2),h=S(_);h.__click=n;var x=S(h);we(x,()=>({"--size":"36px"})),es(x.lastChild);var T=D(x,2);vt(T,{children:(g,m)=>{var w=me("Menu");b(g,w)}});var O=D(_,2);{var P=g=>{var m=vs();m.__click=[is];var w=S(m);we(w,()=>({"--size":"24px","--color":"#b0b0b0"})),Ga(w.lastChild),J(()=>xe(m,"href",l(a))),b(g,m)};W(O,g=>{q.pathname!=="/settings"&&g(P)})}b(e,i),K()}Re(["click"]);var hs=de('<svg viewBox="0 0 5.292 5.292" xmlns="http://www.w3.org/2000/svg" class="svelte-1lqi79o"><path style="fill:currentColor;stroke-width:.374736" transform="scale(1.02869 .97047) rotate(45)" d="M2.678-1.906h.514V1.18h-.514z"></path><path style="fill:currentColor;stroke-width:.374736" transform="scale(-1.02869 -.97047) rotate(-45)" d="M.664-5.762h.514v3.086H.664z"></path></svg>');function _s(e){var t=hs();b(e,t)}const Pt=G({working:!1});var ps=de('<svg viewBox="0 0 5.292 5.292" xmlns="http://www.w3.org/2000/svg" class="svelte-1lqi79o"><path style="fill:currentColor;stroke-width:.584099" transform="rotate(45)" d="M3.341-2.405h.802v4.811h-.802z"></path><path style="fill:currentColor;stroke-width:.584099" transform="rotate(135)" d="M-.401-6.147h.802v4.811h-.802z"></path></svg>');function gs(e){var t=ps();b(e,t)}const ms=({getDialog:e,getDialogInner:t,onClose:n})=>{const r=s=>{const a=e(),o=t();s.target&&(a!=null&&a.open)&&o&&o!==s.target&&!o.contains(s.target)&&n()};Ie(()=>(document.addEventListener("mousedown",r,{capture:!0}),()=>{document.removeEventListener("mousedown",r,{capture:!0})}))},ws=({getDialog:e,getDialogInner:t,onOpen:n,onStartClose:r,onClose:s})=>{ms({getDialog:e,getDialogInner:t,onClose:r});const a=i=>{i.preventDefault(),r()},o=()=>{s==null||s()};Ie(()=>{const i=e();return i==null||i.addEventListener("close",o),i==null||i.addEventListener("cancel",a),()=>{i==null||i.removeEventListener("close",o),i==null||i.removeEventListener("cancel",a)}}),Ie(()=>{const i=e();i==null||i.showModal(),i==null||i.getBoundingClientRect(),n()})};var ks=(e,t)=>{t.onStartClose()},bs=(e,t)=>{t.onStartClose()},ys=N('<dialog><div class="dialogInner svelte-nrfs4t"><span tabindex="1"></span> <!> <div class="header svelte-nrfs4t"><div><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button></div> <div><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button></div></div></div></dialog>');function Es(e,t){X(t,!0);let n=ue(t,"hiddenDialog",3,!1),r=ue(t,"isDesktopAnimationOff",3,!1),s=I(null),a=I(null);ws({getDialog:()=>l(s),getDialogInner:()=>l(a),onOpen:t.onOpen,onStartClose:t.onStartClose,onClose:t.onClose}),se(()=>{var P,g;t.stateDialog==="closing"&&(Pt.working?(P=l(s))==null||P.addEventListener("transitionend",()=>{var m;(m=l(s))==null||m.close()},{once:!0}):(g=l(s))==null||g.close())});var o=ys(),i=S(o),c=D(S(i),2);_t(c,()=>t.children);var f=D(c,2),u=S(f),d=S(u);V(d,1,U(["navigateButton","buttonBack"]),"svelte-nrfs4t"),d.__click=[ks,t];var v=S(d);we(v,()=>({"--size":"20px"})),_s(v.lastChild);var _=D(v,2);vt(_,{children:(P,g)=>{var m=me("back");b(P,m)}});var h=D(u,2),x=S(h);V(x,1,U(["navigateButton","buttonClose"]),"svelte-nrfs4t"),x.__click=[bs,t];var T=S(x);we(T,()=>({"--size":"20px"})),gs(T.lastChild);var O=D(T,2);vt(O,{children:(P,g)=>{var m=me("close");b(P,m)}}),Ee(i,P=>E(a,P),()=>l(a)),Ee(o,P=>E(s,P),()=>l(s)),J(()=>V(o,1,U([{open:t.stateDialog==="open",isAnimationOn:Pt.working,isDesktopAnimationOff:r(),hiddenDialog:n()}]),"svelte-nrfs4t")),b(e,o),K()}Re(["click"]);const Ss=({onStartClose:e,onClose:t})=>{let n=I("close");return{get state(){return l(n)},set state(o){E(n,o,!0)},handleStartClose:(o=!1)=>{o||(E(n,"closing"),e==null||e())},handleOpen:()=>{E(n,"open")},handleClose:()=>{E(n,"close"),t==null||t()}}};function vr(e,t){X(t,!0);let n=ue(t,"blockedClose",3,!1),r=ue(t,"hiddenDialog",3,!1),s=ue(t,"onStartClose",3,()=>{}),a=ue(t,"onClose",3,()=>{}),o=Ss({onStartClose:s(),onClose:a()});se(()=>{o.state==="close"&&t.shownDialog?o.state="opening":o.state==="open"&&!t.shownDialog&&o.handleStartClose(n())});var i=Oe(),c=Q(i);{var f=u=>{Es(u,{get stateDialog(){return o.state},get hiddenDialog(){return r()},get onOpen(){return o.handleOpen},onStartClose:()=>o.handleStartClose(n()),get onClose(){return o.handleClose},children:(d,v)=>{var _=Oe(),h=Q(_);_t(h,()=>t.children),b(d,_)},$$slots:{default:!0}})};W(c,u=>{o.state!=="close"&&u(f)})}b(e,i),K()}function xs(e,t){X(t,!0),vr(e,{get shownDialog(){return t.shown},get blockedClose(){return t.hidden},get hiddenDialog(){return t.hidden},onStartClose:()=>{un()},onClose:()=>{as()},children:(s,a)=>{var o=Oe(),i=Q(o);_t(i,()=>t.children),b(s,o)},$$slots:{default:!0}}),K()}const fr=()=>crypto.randomUUID(),Cs="bookmarksStore",Ts=1,fe="bookmarks";let Y;window.addEventListener("unhandledrejection",e=>{alert("Error: "+e.reason.message)});const Ls=()=>new Promise((e,t)=>{const n=indexedDB.open(Cs,Ts);n.addEventListener("upgradeneeded",()=>{const r=n.result;console.log("success upgradeneeded"),r.objectStoreNames.contains(fe)||r.createObjectStore(fe,{keyPath:"id"})}),n.addEventListener("success",()=>{console.log("success open"),e(),Y=n.result,Y.onversionchange=function(){Y==null||Y.close(),alert("app outdated, please reload the page")}}),n.addEventListener("blocked",()=>{t(),alert("app outdated, please reload the page")}),n.addEventListener("error",()=>{t(),console.error("Error",n.error)})}),dr=()=>new Promise((e,t)=>{const n=Y==null?void 0:Y.transaction(fe,"readonly"),r=n==null?void 0:n.objectStore(fe).getAll();r==null||r.addEventListener("success",()=>{const s=r.result;e(s)}),r==null||r.addEventListener("error",()=>{t()})}),Ps=async e=>new Promise((t,n)=>{const r=Y==null?void 0:Y.transaction(fe,"readwrite"),s=r==null?void 0:r.objectStore(fe),a=s==null?void 0:s.put({...e});a==null||a.addEventListener("success",()=>{t()}),a==null||a.addEventListener("error",()=>{n()})}),Ds=async e=>new Promise((t,n)=>{const r=Y==null?void 0:Y.transaction(fe,"readwrite"),s=r==null?void 0:r.objectStore(fe),a=s==null?void 0:s.delete(e);a==null||a.addEventListener("success",()=>{t()}),a==null||a.addEventListener("error",()=>{n()})}),Ms=async e=>{const t=(await dr()).reduce((a,o)=>(a[o.id]=o,a),{}),n={},r=Y==null?void 0:Y.transaction(fe,"readwrite"),s=r==null?void 0:r.objectStore(fe);e.forEach(a=>{t[a.id]?t[a.id].lastUpdatedTimestamp<a.lastUpdatedTimestamp&&(n[a.id]=a):n[a.id]=a}),await Promise.all(Object.values(n).map(a=>{const o=s==null?void 0:s.put(a);return new Promise((i,c)=>{o==null||o.addEventListener("success",()=>{i()}),o==null||o.addEventListener("error",()=>{c()})})}))},Bs=async e=>{const t=Y==null?void 0:Y.transaction(fe,"readwrite"),n=t==null?void 0:t.objectStore(fe);await Promise.all(Array.from({length:1e3},(r,s)=>{const a=[];for(let c=0;c<Math.random()*5;c++){const f=(Math.random()*100).toFixed();a.includes(f)||a.push(f)}const o={...e,order:s,id:fr(),createdTimestamp:Date.now(),lastUpdatedTimestamp:Date.now(),title:a.join("#"),tags:a},i=n==null?void 0:n.put(o);return new Promise((c,f)=>{i==null||i.addEventListener("success",()=>{s%1e4===0&&console.log(`bookmark ${s} done`),c()}),i==null||i.addEventListener("error",()=>{console.log(`bookmark ${s} error`),f()})})}))};let le=I({inited:!1,bookmarks:[],mapBookmarks:new Map});const vn=async()=>{const e=await dr(),t=new Map,n=[];e.forEach(r=>{n[r.order]=r,t.set(r.id,r)}),E(le,{...l(le),bookmarks:n,mapBookmarks:t,inited:!0})};Ls().then(async()=>{await vn()}).catch(()=>{console.error("failed to init db")});const hr=()=>l(le).inited,Os=()=>l(le).bookmarks,As=async e=>{const t={...e,lastUpdatedTimestamp:Date.now()};l(le).bookmarks[t.order]=t,l(le).mapBookmarks.set(t.id,t),E(le,{...l(le)}),await Ps(t)},Is=async e=>{await Bs(e),await vn()},Ns=async e=>{const t=l(le).mapBookmarks.get(e);l(le).mapBookmarks.delete(e),l(le).bookmarks[(t==null?void 0:t.order)||0]=void 0,E(le,{...l(le)}),await Ds(e)},Tn=async e=>{await Ms(e),await vn()};let _r=I({});const pr=()=>l(_r),Rs=e=>{E(_r,e)};var qs=N('<input class="svelte-1jzizl8">');function Xt(e,t){X(t,!0);let n=ue(t,"value",15,"");var r=qs();J(()=>xe(r,"placeholder",t.placeholder)),at(r,n),b(e,r),K()}var js=N('<div class="content-wrapper svelte-rnw1sg"><!></div>'),Fs=N('<dialog><div class="dialogInner svelte-rnw1sg"><!></div></dialog>');function Hs(e,t){X(t,!0);let n=0,r=0,s=0,a=!1,o=!1,i=0,c=0;const f=5;let u=I(null),d=I(null),v=I("close");const _=()=>{E(v,"closing"),Pe.shown=!1,setTimeout(()=>{var p;(p=l(u))==null||p.close()},300)},h=()=>{E(v,"open"),Pe.shown=!0},x=()=>{var p;E(v,"close"),Pe.shown=!1,o=!1,(p=l(u))==null||p.close()},T=p=>{p.preventDefault(),_()};function O(p){t.blocking&&(l(v)==="open"||l(v)==="close")||(n=p.touches[0].clientX,r=p.touches[0].clientY,a=!0,o=!1)}function P(p){if(!a||t.blocking||!l(u))return;const k=p.touches[0].clientX,C=p.touches[0].clientY,y=k-n,M=C-r,B=Math.abs(y)>Math.abs(M),$=Math.abs(y)>f;if(!o)if(B&&$){l(v)==="close"&&(E(v,"opening"),l(u).showModal(),l(u).offsetWidth);const ee=window.getComputedStyle(l(u)),pe=ee.transform||ee.webkitTransform;s=new DOMMatrix(pe).m41,c=l(u).offsetWidth,l(u).style.setProperty("--transition-timing","0s"),o=!0}else return;o&&B&&p.preventDefault();let j=s+y*.95;const he=-c,_e=-.3*c;j=Math.max(he,Math.min(_e,j)),l(u).style.transform=`translate3d(${j}px, 0, 0)`,i=(j-s)/c*100,l(v)==="open"?l(u).style.setProperty("--backdrop-bg",`rgba(0, 0, 0, ${.25*(1-Math.abs(i)/100)})`):l(u).style.setProperty("--backdrop-bg",`rgba(0, 0, 0, ${.25*(Math.abs(i)/100)})`),i=(j-s)/c*100,o&&B&&p.preventDefault()}function g(p){if(!a||!l(u))return;if(!o){a=!1,i=0;return}let k=0;if(p&&p.changedTouches&&p.changedTouches.length>0){const ee=p.changedTouches[0].clientX,pe=performance.now(),et=p.timeStamp||performance.now()-100,fn=pe-et;fn>0&&(k=(ee-n)/fn)}const C=10,y=.3,M=i,B=Math.abs(k)>y;let $;B?$=k>0?"cubic-bezier(0.25, 0.46, 0.45, 0.94)":"cubic-bezier(0.55, 0.085, 0.68, 0.53)":$="cubic-bezier(0.17, 0.59, 0.4, 0.77)";const Z=.3;let j;l(v)==="open"?M<-10?j=Z*Math.max(.5,1-Math.abs(i)/100):j=Z*Math.max(.5,Math.abs(i)/100):M>C?j=Z*Math.max(.5,Math.abs(i)/100):j=Z*Math.max(.5,1-Math.abs(i)/100),l(u).style.setProperty("--transition-timing",`${j}s`),l(u).style.setProperty("--transition-curve",$),l(u).addEventListener("transitionend",()=>{var ee,pe,et;(ee=l(u))==null||ee.style.removeProperty("--transition-timing"),(pe=l(u))==null||pe.style.removeProperty("--transition-curve"),(et=l(u))==null||et.style.removeProperty("transition")},{once:!0}),l(u).offsetWidth;const he=l(v)!=="open"&&(M>C||k>y);l(v)==="open"&&(M<-10||k<-.3)?(l(u).style.transform="",_()):he?(l(u).style.transform="",h()):(l(u).style.transform="",l(v)==="opening"&&_()),l(u).style.removeProperty("--backdrop-bg"),a=!1,o=!1,i=0}const m=p=>{var k;p.target&&((k=l(u))!=null&&k.open)&&l(d)&&l(d)!==p.target&&!l(d).contains(p.target)&&!t.blocking&&_()};Ie(()=>(document.addEventListener("mousedown",m,{capture:!0}),()=>{document.removeEventListener("mousedown",m,{capture:!0})})),Ie(()=>{var C,y;const p=new ResizeObserver(()=>{l(u)&&(c=l(u).offsetWidth)});l(u)&&p.observe(l(u));const k=M=>{const B=M.touches[0].clientX;l(v)==="close"&&B>20||O(M)};return document.addEventListener("touchstart",k,{passive:!0}),document.addEventListener("touchmove",P,{passive:!1}),document.addEventListener("touchend",g,{passive:!0}),document.addEventListener("touchcancel",g,{passive:!0}),(C=l(u))==null||C.addEventListener("close",x),(y=l(u))==null||y.addEventListener("cancel",T),()=>{var M,B;(M=l(u))==null||M.removeEventListener("close",x),(B=l(u))==null||B.removeEventListener("cancel",T),document.removeEventListener("touchstart",k),document.removeEventListener("touchmove",P),document.removeEventListener("touchend",g),document.removeEventListener("touchcancel",g)}}),se(()=>{var p;if(l(v)==="closing"){const k=()=>{var C;(C=l(u))==null||C.close()};return(p=l(u))==null||p.addEventListener("transitionend",k,{once:!0}),()=>{var C;(C=l(u))==null||C.removeEventListener("transitionend",k)}}}),se(()=>{console.log("sidebarState",l(v)),console.log("mobileSidebar.shown",Pe.shown),console.log("hasPassedThreshold",o)}),se(()=>{var p,k;Pe.shown,l(v),!o&&(l(v)==="close"&&Pe.shown?((p=l(u))==null||p.showModal(),(k=l(u))==null||k.getBoundingClientRect(),h()):l(v)==="open"&&!Pe.shown&&_())});var w=Fs(),R=S(w),L=S(R);{var A=p=>{var k=js(),C=S(k);_t(C,()=>t.children),b(p,k)};W(L,p=>{l(v)!=="close"&&p(A)})}Ee(R,p=>E(d,p),()=>l(d)),Ee(w,p=>E(u,p),()=>l(u)),J(()=>V(w,1,U([{open:l(v)==="open",hidden:t.blocking}]),"svelte-rnw1sg")),b(e,w),K()}const gr=()=>window.matchMedia("(max-width: 768px)").matches;let mr=I(G(gr()));const zs=(e,t)=>{let n=null;return()=>{n&&clearTimeout(n),n=setTimeout(()=>{e()},t)}},Us=zs(()=>{E(mr,gr(),!0)},16);window.addEventListener("resize",Us);const Vs=()=>l(mr),$s=e=>{e.preventDefault(),Qe("settings")};var Ws=(e,t,n)=>t(n),Zs=N("<button> </button>"),Ys=N("<div></div>"),Xs=(e,t,n)=>t(l(n).name),Ks=N('<button class="tag svelte-y69ysu"> </button>'),Gs=N('<div class="sidebarFixed svelte-y69ysu"><a class="link svelte-y69ysu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Settings</span></a> <div class="searchWrapper svelte-y69ysu"><!></div> <!></div> <div class="tags svelte-y69ysu"></div>',1),Js=(e,t,n)=>t(n),Qs=N("<button> </button>"),eo=N("<div></div>"),to=(e,t,n)=>t(l(n).name),no=N('<button class="tag svelte-y69ysu"> </button>'),ro=N('<div class="sidebar svelte-y69ysu"><div class="sidebarFixed svelte-y69ysu"><div class="searchWrapper svelte-y69ysu"><!></div> <!></div> <div class="tags svelte-y69ysu"></div></div>');function ao(e,t){X(t,!0);let n=I(""),r=ne(()=>{var h;return((h=new URLSearchParams(q.search).get("selectedTags"))==null?void 0:h.split(","))||[]});const s=()=>{const h=Ne();h.includes("settings")||h.push("settings");const x=new URLSearchParams(q.search);return x.set("stackPages",h.join(",")),`${q.pathname}?${x}`},a=h=>{const x=new URLSearchParams(q.search);x.set("selectedTags",[...l(r),h].join(",")),Lt(`${q.pathname}${x.size>0?`?${x.toString()}`:""}`)},o=h=>{const x=new URLSearchParams(q.search),T=l(r).filter(O=>O!==h);T.length===0?x.delete("selectedTags"):x.set("selectedTags",T.join(",")),Lt(`${q.pathname}${x.size>0?`?${x.toString()}`:""}`)};let i=ne(()=>hr()?Object.values(pr()).filter(h=>!l(r).some(x=>h.name===x)):[]),c=ne(s),f=ne(()=>Ne().length>0);var u=Oe(),d=Q(u);{var v=h=>{Hs(h,{get blocking(){return l(f)},children:(x,T)=>{var O=Gs(),P=Q(O),g=S(P);g.__click=[$s];var m=S(g);we(m,()=>({"--size":"20px"})),cr(m.lastChild);var w=D(g,2),R=S(w);Xt(R,{placeholder:"Search tag",get value(){return l(n)},set value(k){E(n,k,!0)}});var L=D(w,2);{var A=k=>{var C=Ys();V(C,1,U(["tags","selectedTags"]),"svelte-y69ysu"),ze(C,20,()=>l(r),y=>y,(y,M)=>{var B=Zs();B.__click=[Ws,o,M],V(B,1,U(["tag","selectedTag"]),"svelte-y69ysu");var $=S(B);J(()=>qe($,M)),b(y,B)}),b(k,C)};W(L,k=>{l(r).length>0&&k(A)})}var p=D(P,2);ze(p,21,()=>l(i),k=>k.name,(k,C)=>{var y=Oe(),M=Q(y);{var B=$=>{var Z=Ks();Z.__click=[Xs,a,C];var j=S(Z);J(()=>qe(j,l(C).name)),b($,Z)};W(M,$=>{(l(n)===""||l(C).name.toLowerCase().indexOf(l(n).toLowerCase())!==-1)&&$(B)})}b(k,y)}),J(()=>xe(g,"href",l(c))),b(x,O)},$$slots:{default:!0}})},_=h=>{var x=ro(),T=S(x),O=S(T),P=S(O);Xt(P,{placeholder:"Search tag",get value(){return l(n)},set value(R){E(n,R,!0)}});var g=D(O,2);{var m=R=>{var L=eo();V(L,1,U(["tags","selectedTags"]),"svelte-y69ysu"),ze(L,20,()=>l(r),A=>A,(A,p)=>{var k=Qs();k.__click=[Js,o,p],V(k,1,U(["tag","selectedTag"]),"svelte-y69ysu");var C=S(k);J(()=>qe(C,p)),b(A,k)}),b(R,L)};W(g,R=>{l(r).length>0&&R(m)})}var w=D(T,2);ze(w,21,()=>l(i),R=>R.name,(R,L)=>{var A=Oe(),p=Q(A);{var k=C=>{var y=no();y.__click=[to,a,L];var M=S(y);J(()=>qe(M,l(L).name)),b(C,y)};W(p,C=>{(l(n)===""||l(L).name.toLowerCase().indexOf(l(n).toLowerCase())!==-1)&&C(k)})}b(R,A)}),b(h,x)};W(d,h=>{Vs()?h(v):h(_,!1)})}b(e,u),K()}Re(["click"]);var so=N('<form class="svelte-140y8w3"><input placeholder="title" type="text" class="svelte-140y8w3"> <input placeholder="url" type="text" class="svelte-140y8w3"> <textarea placeholder="description" class="svelte-140y8w3"></textarea> <input placeholder="tags" type="text" class="svelte-140y8w3"> <button class="buttonSubmit svelte-140y8w3" type="submit">add bookmark</button></form>');function wr(e,t){X(t,!0);let n=ue(t,"initialTitle",3,""),r=ue(t,"initialUrl",3,""),s=ue(t,"initialDescription",3,""),a=ue(t,"initialTags",3,""),o=I(G(n())),i=I(G(r())),c=I(G(s())),f=I(G(a()));const u=T=>{T.preventDefault(),t.onSubmit({title:l(o),url:l(i),description:l(c),tags:l(f)})};var d=so(),v=S(d),_=D(v,2),h=D(_,2),x=D(h,2);nt("submit",d,u),at(v,()=>l(o),T=>E(o,T)),at(_,()=>l(i),T=>E(i,T)),at(h,()=>l(c),T=>E(c,T)),at(x,()=>l(f),T=>E(f,T)),b(e,d),K()}function oo(e,t){X(t,!0);let n=I(!0);const r=()=>{t.onClose()},s=()=>{E(n,!1)},a=({title:o,url:i,description:c,tags:f})=>{As({...t.bookmark,title:o,url:i,description:c,tags:f.split(" ").map(u=>u.trim())}),s()};vr(e,{get shownDialog(){return l(n)},onClose:r,children:(o,i)=>{const c=ne(()=>t.bookmark.tags.join(" "));wr(o,{get initialTitle(){return t.bookmark.title},get initialUrl(){return t.bookmark.url},get initialDescription(){return t.bookmark.description},get initialTags(){return l(c)},onSubmit:a})},$$slots:{default:!0}}),K()}var lo=de('<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-1lqi79o"><path d="M16 16v2.8c0 1.12 0 1.68-.218 2.108a2 2 0 0 1-.874.874C14.48 22 13.92 22 12.8 22H5.2c-1.12 0-1.68 0-2.108-.218a2 2 0 0 1-.874-.874C2 20.48 2 19.92 2 18.8v-7.6c0-1.12 0-1.68.218-2.108a2 2 0 0 1 .874-.874C3.52 8 4.08 8 5.2 8H8m3.2 8h7.6c1.12 0 1.68 0 2.108-.218a2 2 0 0 0 .874-.874C22 14.48 22 13.92 22 12.8V5.2c0-1.12 0-1.68-.218-2.108a2 2 0 0 0-.874-.874C20.48 2 19.92 2 18.8 2h-7.6c-1.12 0-1.68 0-2.108.218a2 2 0 0 0-.874.874C8 3.52 8 4.08 8 5.2v7.6c0 1.12 0 1.68.218 2.108a2 2 0 0 0 .874.874C9.52 16 10.08 16 11.2 16Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>');function io(e){var t=lo();b(e,t)}var co=de('<svg viewBox="0 0 13.229 13.229" xmlns="http://www.w3.org/2000/svg" class="svelte-1lqi79o"><circle style="fill:currentColor;stroke-width:.4378" cx="3.175" cy="6.615" r="1.058"></circle><circle style="fill:currentColor;stroke-width:.4378" cx="6.615" cy="6.615" r="1.058"></circle><circle style="fill:currentColor;stroke-width:.4378" cx="10.054" cy="6.615" r="1.058"></circle></svg>');function uo(e){var t=co();b(e,t)}const vo=(e,t,n)=>{const r=pr();t.bookmark.tags.forEach(s=>{if(l(n).includes(s)&&r[s].connections===1){const a=new URLSearchParams(q.search),o=l(n).filter(i=>i!==s);o.length===0?a.delete("selectedTags"):a.set("selectedTags",o.join(",")),rs(`${q.pathname}${a.size>0?`?${a.toString()}`:""}`)}}),Ns(t.bookmark.id)},fo=(e,t)=>{E(t,!0)},ho=(e,t,n)=>{E(t,!1),E(n,!0)},_o=(e,t)=>{navigator.clipboard.writeText(t.bookmark.url),Va("Link copied to clipboard")};var po=N('<li class="bookmark svelte-hwv8qt"><div class="bookmarkTitle svelte-hwv8qt"><img class="bookmarkIcon" height="16" width="16" alt="icon"> <a class="bookmarkLink svelte-hwv8qt" target="_blank" rel="noopener noreferrer"> </a></div> <div><button class="button svelte-hwv8qt"><!> <!></button> <div><button class="menuButton svelte-hwv8qt">Edit</button> <button class="menuButton svelte-hwv8qt">Delete</button></div> <button><!> <!></button></div></li> <!>',1);function go(e,t){X(t,!0);let n=ne(()=>{var y;return((y=new URLSearchParams(q.search).get("selectedTags"))==null?void 0:y.split(","))||[]}),r=I(!1),s=I(!1),a=I(null),o=I(null);const i=y=>{var M,B;y.target!==l(o)&&y.target!==l(a)&&!((M=l(a))!=null&&M.contains(y.target))&&!((B=l(o))!=null&&B.contains(y.target))&&E(r,!1)},c=()=>{E(s,!1)};se(()=>(document.addEventListener("click",i),()=>{document.removeEventListener("click",i)}));const f=y=>{try{return`https://www.google.com/s2/favicons?domain=${new URL(y).host}&sz=32`}catch{return""}};var u=po(),d=Q(u),v=S(d),_=S(v),h=D(_,2),x=S(h),T=D(v,2),O=S(T);O.__click=[_o,t];var P=S(O);io(P);var g=D(P,2);vt(g,{children:(y,M)=>{var B=me("copy link");b(y,B)}});var m=D(O,2),w=S(m);w.__click=[ho,r,s];var R=D(w,2);R.__click=[vo,t,n],Ee(m,y=>E(o,y),()=>l(o));var L=D(m,2);L.__click=[fo,r],V(L,1,U(["button","buttonMenu"]),"svelte-hwv8qt");var A=S(L);uo(A);var p=D(A,2);vt(p,{children:(y,M)=>{var B=me("show menu");b(y,B)}}),Ee(L,y=>E(a,y),()=>l(a));var k=D(d,2);{var C=y=>{oo(y,{get bookmark(){return t.bookmark},onClose:c})};W(k,y=>{l(s)&&y(C)})}J(y=>{xe(_,"src",y),xe(h,"href",t.bookmark.url),qe(x,t.bookmark.title),V(T,1,U(["bookmarkMenuWrapper",{bookmarkMenuWrapperActive:l(r)}]),"svelte-hwv8qt"),V(m,1,U(["bookmarkMenu",{bookmarkShownMenu:l(r)}]),"svelte-hwv8qt")},[()=>f(t.bookmark.url)]),b(e,u),K()}Re(["click"]);var mo=N('<div class="emptyMessage svelte-10e5k3k">No bookmarks found</div>'),wo=N('<div class="searchWrapper svelte-10e5k3k"><!></div> <div class="feed svelte-10e5k3k"><ul class="svelte-10e5k3k"><!> <!></ul></div>',1);function ko(e,t){X(t,!0);let n=I(null),r=44,s=I(0),a=I(0),o=I(G([])),i=I("");const c=Gr("main");let f=ne(c),u=null;const d=ne(ts);se(()=>{var p;l(i),l(d),(p=l(f))==null||p.scrollTo(0,0)});const v=()=>{u&&cancelAnimationFrame(u),u=requestAnimationFrame(()=>{var k;const p=((k=l(f))==null?void 0:k.scrollTop)||0;E(a,Math.floor(p/r)*r)})},_=()=>{var p;v(),l(n)&&E(s,window.innerHeight-((p=l(n))==null?void 0:p.getBoundingClientRect().top))};Ie(()=>{_(),v()}),se(()=>{var p;return(p=l(f))==null||p.addEventListener("scroll",v),window.addEventListener("resize",_),()=>{var k;(k=l(f))==null||k.removeEventListener("scroll",v),window.removeEventListener("resize",_)}}),se(()=>{const p=Os(),k=[],C={};for(let y=p.length-1;y>=0;y--){const M=p[y];if(M&&!(l(d).length&&l(d).some(B=>!M.tags.includes(B)))&&!(l(i)&&!(M.title.toLowerCase().includes(l(i).toLowerCase())||M.url.toLowerCase().includes(l(i).toLowerCase())))){if(M.tags)for(const B of M.tags)C[B]?C[B].connections++:C[B]={name:B,connections:1};k.push(M)}}Rs(C),E(o,k,!0)});const h=ne(()=>l(o).length*r);let T=ne(()=>{const p=Math.ceil(l(s)/r),k=Math.floor(l(a)/r);return l(o).slice(k,k+p)});var O=wo(),P=Q(O),g=S(P);Xt(g,{placeholder:"Search",get value(){return l(i)},set value(p){E(i,p,!0)}});var m=D(P,2),w=S(m),R=S(w);ze(R,17,()=>l(T),p=>p.id,(p,k)=>{go(p,{get bookmark(){return l(k)}})});var L=D(R,2);{var A=p=>{var k=mo();b(p,k)};W(L,p=>{l(T).length===0&&hr()&&p(A)})}Ee(w,p=>E(n,p),()=>l(n)),J(p=>{yn(m,`height: ${p??""}px`),yn(w,`height: ${l(s)??""}px; transform: translateY(${l(a)??""}px)`)},[()=>Math.max(l(h),30)]),b(e,O),K()}var bo=N('<!> <div class="content svelte-cu0ar8"><!></div>',1);function yo(e){var t=bo(),n=Q(t);ao(n,{});var r=D(n,2),s=S(r);ko(s,{}),b(e,t)}var Eo=de('<svg width="800" height="800" viewBox="-3 0 32 32" xmlns="http://www.w3.org/2000/svg" class="svelte-1lqi79o"><path d="M23 8H3a1 1 0 1 1 0-2h20a1 1 0 0 1 0 2Zm-1 20a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V10h18v18ZM10 3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v1h-6V3Zm14 1h-6V2a2 2 0 0 0-2-2h-6a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v2a2 2 0 0 0 2 2v18a4 4 0 0 0 4 4h14a4 4 0 0 0 4-4V10a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2ZM13 28a1 1 0 0 0 1-1V15a1 1 0 0 0-2 0v12a1 1 0 0 0 1 1Zm-5 0a1 1 0 0 0 1-1V15a1 1 0 0 0-2 0v12a1 1 0 0 0 1 1Zm10 0a1 1 0 0 0 1-1V15a1 1 0 0 0-2 0v12a1 1 0 0 0 1 1Z" fill="currentColor" fill-rule="evenodd"></path></svg>');function So(e){var t=Eo();b(e,t)}var xo=de('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" class="svelte-1lqi79o"><path fill-rule="evenodd" stroke="currentColor" fill="currentColor" d="M14 9.004a1 1 0 0 1 1 1v3a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-3a1 1 0 0 1 2 0v3h10v-3a1 1 0 0 1 1-1ZM8 1.59l3.707 3.707a1 1 0 0 1-1.414 1.414L9 5.418v4.586a1 1 0 1 1-2 0V5.418L5.707 6.711a1 1 0 0 1-1.414-1.414L8 1.59Z"></path></svg>');function Co(e){var t=xo();b(e,t)}var To=de('<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" class="svelte-1lqi79o"><path fill-rule="evenodd" stroke="currentColor" fill="currentColor" d="M14 9a1 1 0 0 1 1 1v3a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-3a1 1 0 0 1 2 0v3h10v-3a1 1 0 0 1 1-1ZM8 1a1 1 0 0 1 1 1v4.586l1.293-1.293a1 1 0 1 1 1.414 1.414L8 10.414 4.293 6.707a1 1 0 0 1 1.414-1.414L7 6.586V2a1 1 0 0 1 1-1Z"></path></svg>');function Lo(e){var t=To();b(e,t)}var De=(e=>(e.Light="light",e.Auto="auto",e.Dark="dark",e))(De||{});const Ut=(e,t)=>{const n=e.target.value;localStorage.setItem("colorScheme",n),document.documentElement.setAttribute("data-color-scheme",n),E(t,n,!0)};var Po=N('<div class="wrapper svelte-1lqc4qo"><fieldset class="switcher svelte-1lqc4qo"><legend class="vh svelte-1lqc4qo">Color Scheme</legend> <input id="light" type="radio" aria-label="Light"> <label for="light" title="Light" aria-label="Light"></label> <input id="auto" type="radio" aria-label="Auto"> <label for="auto" title="Auto" aria-label="Auto"></label> <input id="dark" type="radio" aria-label="Dark"> <label for="dark" title="Dark" aria-label="Dark"></label> <div class="wrapSwitcherStatus svelte-1lqc4qo"><div class="switcherStatus svelte-1lqc4qo"></div></div></fieldset></div>');function Do(e,t){X(t,!0);let n=I(G(localStorage.getItem("colorScheme")||De.Auto));const r="color-scheme-switcher";var s=Po(),a=S(s),o=D(S(a),2);V(o,1,U(["vh","input"]),"svelte-1lqc4qo"),xe(o,"name",r),o.__change=[Ut,n];var i=D(o,2);V(i,1,U(["switcherButton","light"]),"svelte-1lqc4qo");var c=D(i,2);V(c,1,U(["vh","input"]),"svelte-1lqc4qo"),xe(c,"name",r),c.__change=[Ut,n];var f=D(c,2);V(f,1,U(["switcherButton","auto"]),"svelte-1lqc4qo");var u=D(f,2);V(u,1,U(["vh","input"]),"svelte-1lqc4qo"),xe(u,"name",r),u.__change=[Ut,n];var d=D(u,2);V(d,1,U(["switcherButton","dark"]),"svelte-1lqc4qo"),J(()=>{jt(o,De.Light),Ft(o,l(n)===De.Light),jt(c,De.Auto),Ft(c,l(n)===De.Auto),jt(u,De.Dark),Ft(u,l(n)===De.Dark)}),b(e,s),K()}Re(["change"]);const Mo=()=>{Qe("importBookmarks")},Bo=()=>{Qe("exportBookmarks")},Oo=()=>{Qe("clearStore")};var Ao=N('<div class="svelte-oc46cj"><!> <ul class="svelte-oc46cj"><li class="svelte-oc46cj"><button class="button svelte-oc46cj"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-oc46cj">import bookmarks</span></button></li> <li class="svelte-oc46cj"><button class="button svelte-oc46cj"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-oc46cj">export bookmarks</span></button></li> <li class="svelte-oc46cj"><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-oc46cj">clear store</span></button></li></ul> <div class="svelte-oc46cj"></div></div>');function Io(e,t){X(t,!1),ir();var n=Ao(),r=S(n);Do(r,{});var s=D(r,2),a=S(s),o=S(a);o.__click=[Mo];var i=S(o);we(i,()=>({"--size":"20px"})),Lo(i.lastChild);var c=D(a,2),f=S(c);f.__click=[Bo];var u=S(f);we(u,()=>({"--size":"20px"})),Co(u.lastChild);var d=D(c,2),v=S(d);v.__click=[Oo],V(v,1,U(["button","clearButton"]),"svelte-oc46cj");var _=S(v);we(_,()=>({"--size":"20px"})),So(_.lastChild);var h=D(s,2);h.textContent="85b82f81-7bc9-4092-a1e2-748c5c305ce6",b(e,n),K()}Re(["click"]);function No(e,t){X(t,!1);const n=()=>{un()},r=({title:s,url:a,description:o,tags:i})=>{Is({title:s,url:a,description:o,tags:i.split(" ").map(c=>c.trim())}),n()};ir(),wr(e,{onSubmit:r}),K()}var Ro=N("<button><!></button>");function tt(e,t){let n=ue(t,"type",3,"standard");var r=Ro();r.__click=function(...a){var o;(o=t.onClick)==null||o.apply(this,a)};var s=S(r);_t(s,()=>t.children),J(()=>V(r,1,U(["button",{dangerous:n()==="dangerous"}]),"svelte-v0y8yx")),b(e,r)}Re(["click"]);var qo=N('<div class="loader svelte-b80p9x"></div>');function jo(e){var t=qo();b(e,t)}const Fo=async(e,t)=>{const n=e.target;!n.files||n.files.length===0||await t(n.files[0])};var Ho=N('<p class="message svelte-19xh4q5">select a file to import your bookmarks</p> <div role="button" tabindex="0"><div class="dropzone-content svelte-19xh4q5"><p class="svelte-19xh4q5">Drag and drop your JSON file here</p> <p class="svelte-19xh4q5">or</p> <!></div> <input type="file" accept=".json" style="display: none;"></div> <div class="buttonContainer svelte-19xh4q5"><!></div>',1),zo=N('<p class="message svelte-19xh4q5">importing bookmarks...</p> <!>',1),Uo=N('<p class="message success svelte-19xh4q5">bookmarks imported successfully!</p> <div class="buttonContainer svelte-19xh4q5"><!></div>',1),Vo=N('<p class="message error svelte-19xh4q5">something went wrong</p> <div class="buttonContainer svelte-19xh4q5"><!> <!></div>',1),$o=N('<div class="content svelte-19xh4q5"><!></div>');function Wo(e,t){X(t,!0);let n=I("idle"),r=I(null),s=I(!1),a=I(null);const o=()=>{un()},i=async g=>{const m=await g.text(),w=JSON.parse(m),R=[];if(!w.bookmarks)throw new Error("Invalid import file format");for(const L of Object.values(w.bookmarks))L&&R.push(L);await Tn(R)},c=async g=>{var k,C,y;const m=await g.text(),R=new DOMParser().parseFromString(m,"text/html");let L=1;const A=[],p=R.querySelectorAll("a");for(const M of p){const B=M.getAttribute("href"),$=M.textContent||"";if(!B)continue;const Z=[];let j=M.parentElement;for(;j;){const _e=(k=j.parentElement)==null?void 0:k.querySelector(":scope > h3"),ee=(C=_e==null?void 0:_e.textContent)==null?void 0:C.trim();ee&&ee!=="Bookmarks"&&ee!=="Bookmarks bar"&&ee!=="Other bookmarks"&&!Z.includes(ee)&&Z.push(ee),j.tagName==="DL"&&((y=j.parentElement)==null?void 0:y.tagName)==="DT"?j=j.parentElement.parentElement:j=j.parentElement}const he={id:fr(),order:L++,url:B,title:$,description:"",tags:Z.length>0?Z:["imported"],lastUpdatedTimestamp:Date.now(),createdTimestamp:Date.now()};A.push(he)}await Tn(A)},f=async g=>{E(n,"loading");try{if(g.name.endsWith(".json"))await i(g);else if(g.name.endsWith(".html"))await c(g);else throw new Error("Unsupported file format. Please upload a JSON or HTML file.");E(n,"success")}catch{E(n,"error")}},u=()=>{var g;(g=l(r))==null||g.click()},d=g=>{g.preventDefault(),g.stopPropagation(),E(s,!0)},v=g=>{g.preventDefault(),g.stopPropagation(),E(s,!1)},_=g=>{g.preventDefault(),g.stopPropagation(),E(s,!0)},h=async g=>{var w;if(g.preventDefault(),g.stopPropagation(),E(s,!1),!((w=g.dataTransfer)!=null&&w.files)||g.dataTransfer.files.length===0)return;const m=g.dataTransfer.files[0];if(m.type!=="application/json"&&m.type!=="text/html"){E(n,"error");return}await f(m)};var x=$o(),T=S(x);{var O=g=>{var m=Ho(),w=D(Q(m),2),R=S(w),L=D(S(R),4);tt(L,{onClick:u,children:(C,y)=>{var M=me("Select File");b(C,M)},$$slots:{default:!0}});var A=D(R,2);A.__change=[Fo,f],Ee(A,C=>E(r,C),()=>l(r)),Ee(w,C=>E(a,C),()=>l(a));var p=D(w,2),k=S(p);tt(k,{onClick:o,children:(C,y)=>{var M=me("cancel");b(C,M)},$$slots:{default:!0}}),J(()=>V(w,1,U(["dropzone",{active:l(s)}]),"svelte-19xh4q5")),nt("dragenter",w,d),nt("dragover",w,_),nt("dragleave",w,v),nt("drop",w,h),b(g,m)},P=(g,m)=>{{var w=L=>{var A=zo(),p=D(Q(A),2);jo(p),b(L,A)},R=(L,A)=>{{var p=C=>{var y=Uo(),M=D(Q(y),2),B=S(M);tt(B,{onClick:o,children:($,Z)=>{var j=me("close");b($,j)},$$slots:{default:!0}}),b(C,y)},k=(C,y)=>{{var M=B=>{var $=Vo(),Z=D(Q($),2),j=S(Z);tt(j,{onClick:()=>{E(n,"idle")},children:(_e,ee)=>{var pe=me("Try Again");b(_e,pe)},$$slots:{default:!0}});var he=D(j,2);tt(he,{onClick:o,children:(_e,ee)=>{var pe=me("Cancel");b(_e,pe)},$$slots:{default:!0}}),b(B,$)};W(C,B=>{l(n)==="error"&&B(M)},y)}};W(L,C=>{l(n)==="success"?C(p):C(k,!1)},A)}};W(g,L=>{l(n)==="loading"?L(w):L(R,!1)},m)}};W(T,g=>{l(n)==="idle"?g(O):g(P,!1)})}b(e,x),K()}Re(["change"]);var Zo=N("<div>Export Bookmarks</div>");function Yo(e){var t=Zo();b(e,t)}var Xo=N("<div>Clear store</div>");function Ko(e){var t=Xo();b(e,t)}const Go=(e,t=Dn)=>{var n=Oe(),r=Q(n);{var s=o=>{Io(o,{})},a=(o,i)=>{{var c=u=>{No(u,{})},f=(u,d)=>{{var v=h=>{Wo(h,{})},_=(h,x)=>{{var T=P=>{Yo(P)},O=(P,g)=>{{var m=w=>{Ko(w)};W(P,w=>{t()==="clearStore"&&w(m)},g)}};W(h,P=>{t()==="exportBookmarks"?P(T):P(O,!1)},x)}};W(u,h=>{t()==="importBookmarks"?h(v):h(_,!1)},d)}};W(o,u=>{t()==="newBookmark"?u(c):u(f,!1)},i)}};W(r,o=>{t()==="settings"?o(s):o(a,!1)})}b(e,n)};var Jo=N("<!> <!>",1);function Qo(e,t){X(t,!0);let n=ne(ss);var r=Jo(),s=Q(r);yo(s);var a=D(s,2);ze(a,17,()=>l(n),Da,(o,i,c)=>{const f=ne(()=>{var u;return c!==l(n).length-1&&!!((u=l(n)[c+1])!=null&&u.shown)});xs(o,{get shown(){return l(i).shown},get hidden(){return l(f)},children:(u,d)=>{Go(u,()=>l(i).page)},$$slots:{default:!0}})}),b(e,r),K()}function el(e,t){X(t,!0);let n=0;se(()=>{document.addEventListener("touchstart",r=>{n=r.touches[0].clientX},{passive:!1}),document.addEventListener("touchmove",r=>{const a=r.touches[0].clientX-n;(n<50&&a>0||n>window.innerWidth-50&&a<0)&&r.preventDefault()},{passive:!1}),document.addEventListener("touchend",()=>{n=0}),document.addEventListener("touchcancel",()=>{n=0})}),K()}var tl=N('<!> <main><!> <div class="container svelte-nkbuiv"><!></div> <!></main>',1);function nl(e,t){X(t,!0);let n=I(null),r=!1;Jr("main",()=>l(n));const s=()=>{document.activeElement instanceof HTMLInputElement||document.activeElement instanceof HTMLTextAreaElement?r=!0:r=!1};Ie(()=>{s(),document.addEventListener("focusin",s),document.addEventListener("focusout",s),document.addEventListener("touchmove",function(_){r&&_.preventDefault()},{passive:!1})}),Ie(async()=>{await new Promise(_=>setTimeout(_,100)),await wa(),Pt.working=!0});let a=ne(()=>Ne().length>0);var o=tl(),i=Q(o);el(i,{});var c=D(i,2),f=S(c);ds(f,{});var u=D(f,2),d=S(u);Qo(d,{});var v=D(u,2);Wa(v,{}),Ee(c,_=>E(n,_),()=>l(n)),J(()=>V(c,1,U(["main",{isAnimationOn:Pt.working,open:l(a)}]),"svelte-nkbuiv")),b(e,o),K()}Ta(nl,{target:document.getElementById("app")});
