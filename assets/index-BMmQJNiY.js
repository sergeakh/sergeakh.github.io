const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/DesktopDialog-DTCFqGZU.js","assets/DesktopDialog-C5Rl2lrH.css","assets/ImportData-BzoG0NE7.js","assets/ImportData-CZGzVRRc.css","assets/ExportData-BdfBJcWP.js","assets/ExportData-B0_csHdq.css","assets/ClearStore-iVB2j1w0.js","assets/ClearStore-DiVqV26R.css","assets/Signup-BXk2P80h.js","assets/Signup-CnX7iJxK.css","assets/Signin-lqCJsFXc.js"])))=>i.map(i=>d[i]);
var ro=Object.defineProperty;var ao=(e,t,n)=>t in e?ro(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ft=(e,t,n)=>ao(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();const Sr=!1;var $n=Array.isArray,oo=Array.prototype.indexOf,er=Array.from,so=Object.defineProperty,Pt=Object.getOwnPropertyDescriptor,Rr=Object.getOwnPropertyDescriptors,io=Object.prototype,lo=Array.prototype,tr=Object.getPrototypeOf,br=Object.isExtensible;const xt=()=>{};function co(e){return typeof e?.then=="function"}function uo(e){return e()}function gn(e){for(var t=0;t<e.length;t++)e[t]()}const Re=2,Fr=4,Sn=8,nr=16,nt=32,Ft=64,rr=128,Pe=256,pn=512,Fe=1024,et=2048,bt=4096,$e=8192,ar=16384,Hr=32768,an=65536,Er=1<<17,fo=1<<18,Ur=1<<19,Kn=1<<20,pt=Symbol("$state"),vo=Symbol("legacy props"),ho=Symbol(""),jr=new class extends Error{constructor(){super(...arguments);ft(this,"name","StaleReactionError");ft(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function Kr(e){return e===this.v}function go(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function zr(e){return!go(e,this.v)}function po(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function mo(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function _o(e){throw new Error("https://svelte.dev/e/effect_orphan")}function wo(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function yo(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function So(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function bo(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Eo(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let Ht=!1,ko=!1;function To(){Ht=!0}const or=1,sr=2,qr=4,Co=8,Lo=16,Ao=1,Po=2,Do=4,xo=8,No=16,Oo=1,Mo=2,me=Symbol(),Io="http://www.w3.org/1999/xhtml";function Bo(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let ue=null;function mn(e){ue=e}function W(e,t=!1,n){var r=ue={p:ue,c:null,d:!1,e:null,m:!1,s:e,x:null,l:null};Ht&&!t&&(ue.l={s:null,u:null,r1:[],r2:wt(!1)}),ea(()=>{r.d=!0})}function Y(e){const t=ue;if(t!==null){e!==void 0&&(t.x=e);const i=t.e;if(i!==null){var n=re,r=X;t.e=null;try{for(var a=0;a<i.length;a++){var o=i[a];Xe(o.effect),He(o.reaction),ir(o.fn)}}finally{Xe(n),He(r)}}ue=t.p,t.m=!0}return e||{}}function Ut(){return!Ht||ue!==null&&ue.l===null}function ve(e){if(typeof e!="object"||e===null||pt in e)return e;const t=tr(e);if(t!==io&&t!==lo)return e;var n=new Map,r=$n(e),a=x(0),o=X,i=l=>{var c=X;He(o);var u=l();return He(c),u};return r&&n.set("length",x(e.length)),new Proxy(e,{defineProperty(l,c,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&So();var d=n.get(c);return d===void 0?d=i(()=>{var v=x(u.value);return n.set(c,v),v}):b(d,u.value,!0),!0},deleteProperty(l,c){var u=n.get(c);if(u===void 0){if(c in l){const f=i(()=>x(me));n.set(c,f),xn(a)}}else{if(r&&typeof c=="string"){var d=n.get("length"),v=Number(c);Number.isInteger(v)&&v<d.v&&b(d,v)}b(u,me),xn(a)}return!0},get(l,c,u){if(c===pt)return e;var d=n.get(c),v=c in l;if(d===void 0&&(!v||Pt(l,c)?.writable)&&(d=i(()=>{var h=ve(v?l[c]:me),g=x(h);return g}),n.set(c,d)),d!==void 0){var f=s(d);return f===me?void 0:f}return Reflect.get(l,c,u)},getOwnPropertyDescriptor(l,c){var u=Reflect.getOwnPropertyDescriptor(l,c);if(u&&"value"in u){var d=n.get(c);d&&(u.value=s(d))}else if(u===void 0){var v=n.get(c),f=v?.v;if(v!==void 0&&f!==me)return{enumerable:!0,configurable:!0,value:f,writable:!0}}return u},has(l,c){if(c===pt)return!0;var u=n.get(c),d=u!==void 0&&u.v!==me||Reflect.has(l,c);if(u!==void 0||re!==null&&(!d||Pt(l,c)?.writable)){u===void 0&&(u=i(()=>{var f=d?ve(l[c]):me,h=x(f);return h}),n.set(c,u));var v=s(u);if(v===me)return!1}return d},set(l,c,u,d){var v=n.get(c),f=c in l;if(r&&c==="length")for(var h=u;h<v.v;h+=1){var g=n.get(h+"");g!==void 0?b(g,me):h in l&&(g=i(()=>x(me)),n.set(h+"",g))}if(v===void 0)(!f||Pt(l,c)?.writable)&&(v=i(()=>x(void 0)),b(v,ve(u)),n.set(c,v));else{f=v.v!==me;var p=i(()=>ve(u));b(v,p)}var _=Reflect.getOwnPropertyDescriptor(l,c);if(_?.set&&_.set.call(d,u),!f){if(r&&typeof c=="string"){var m=n.get("length"),E=Number(c);Number.isInteger(E)&&E>=m.v&&b(m,E+1)}xn(a)}return!0},ownKeys(l){s(a);var c=Reflect.ownKeys(l).filter(v=>{var f=n.get(v);return f===void 0||f.v!==me});for(var[u,d]of n)d.v!==me&&!(u in l)&&c.push(u);return c},setPrototypeOf(){bo()}})}function xn(e,t=1){b(e,e.v+t)}function on(e){var t=Re|et,n=X!==null&&(X.f&Re)!==0?X:null;return re===null||n!==null&&(n.f&Pe)!==0?t|=Pe:re.f|=Ur,{ctx:ue,deps:null,effects:null,equals:Kr,f:t,fn:e,reactions:null,rv:0,v:null,wv:0,parent:n??re,ac:null}}function R(e){const t=on(e);return la(t),t}function Vr(e){const t=on(e);return t.equals=zr,t}function Wr(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)tt(t[n])}}function Ro(e){for(var t=e.parent;t!==null;){if((t.f&Re)===0)return t;t=t.parent}return null}function Yr(e){var t,n=re;Xe(Ro(e));try{Wr(e),t=fa(e)}finally{Xe(n)}return t}function Xr(e){var t=Yr(e);if(e.equals(t)||(e.v=t,e.wv=ua()),!zt){var n=(it||(e.f&Pe)!==0)&&e.deps!==null?bt:Fe;Ge(e,n)}}const Zt=new Map;function wt(e,t){var n={f:0,v:e,reactions:null,equals:Kr,rv:0,wv:0};return n}function x(e,t){const n=wt(e);return la(n),n}function zn(e,t=!1,n=!0){var a;const r=wt(e);return t||(r.equals=zr),Ht&&n&&ue!==null&&ue.l!==null&&((a=ue.l).s??(a.s=[])).push(r),r}function b(e,t,n=!1){X!==null&&(!Ye||(X.f&Er)!==0)&&Ut()&&(X.f&(Re|nr|Er))!==0&&!(Ie?.[1].includes(e)&&Ie[0]===X)&&Eo();let r=n?ve(t):t;return Dt(e,r)}function Dt(e,t){if(!e.equals(t)){var n=e.v;zt?Zt.set(e,t):Zt.set(e,n),e.v=t,(e.f&Re)!==0&&((e.f&et)!==0&&Yr(e),Ge(e,(e.f&Pe)===0?Fe:bt)),e.wv=ua(),Gr(e,et),Ut()&&re!==null&&(re.f&Fe)!==0&&(re.f&(nt|Ft))===0&&(Me===null?Go([e]):Me.push(e))}return t}function Gr(e,t){var n=e.reactions;if(n!==null)for(var r=Ut(),a=n.length,o=0;o<a;o++){var i=n[o],l=i.f;(l&et)===0&&(!r&&i===re||(Ge(i,t),(l&(Fe|Pe))!==0&&((l&Re)!==0?Gr(i,bt):ur(i))))}}let Fo=!1;var kr,Jr,Zr,Qr;function Ho(){if(kr===void 0){kr=window,Jr=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;Zr=Pt(t,"firstChild").get,Qr=Pt(t,"nextSibling").get,br(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),br(n)&&(n.__t=void 0)}}function bn(e=""){return document.createTextNode(e)}function Nt(e){return Zr.call(e)}function En(e){return Qr.call(e)}function S(e,t){return Nt(e)}function j(e,t){{var n=Nt(e);return n instanceof Comment&&n.data===""?En(n):n}}function L(e,t=1,n=!1){let r=e;for(;t--;)r=En(r);return r}function Uo(e){e.textContent=""}function $r(e){re===null&&X===null&&_o(),X!==null&&(X.f&Pe)!==0&&re===null&&mo(),zt&&po()}function jo(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function jt(e,t,n,r=!0){var a=re,o={ctx:ue,deps:null,nodes_start:null,nodes_end:null,f:e|et,first:null,fn:t,last:null,next:null,parent:a,b:a&&a.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{cr(o),o.f|=Hr}catch(c){throw tt(o),c}else t!==null&&ur(o);var i=n&&o.deps===null&&o.first===null&&o.nodes_start===null&&o.teardown===null&&(o.f&(Ur|rr))===0;if(!i&&r&&(a!==null&&jo(o,a),X!==null&&(X.f&Re)!==0)){var l=X;(l.effects??(l.effects=[])).push(o)}return o}function ea(e){const t=jt(Sn,null,!1);return Ge(t,Fe),t.teardown=e,t}function Se(e){$r();var t=re!==null&&(re.f&nt)!==0&&ue!==null&&!ue.m;if(t){var n=ue;(n.e??(n.e=[])).push({fn:e,effect:re,reaction:X})}else{var r=ir(e);return r}}function Ko(e){return $r(),kn(e)}function zo(e){const t=jt(Ft,e,!0);return(n={})=>new Promise(r=>{n.outro?ct(t,()=>{tt(t),r(void 0)}):(tt(t),r(void 0))})}function ir(e){return jt(Fr,e,!1)}function kn(e){return jt(Sn,e,!0)}function de(e,t=[],n=on){const r=t.map(n);return Kt(()=>e(...r.map(s)))}function Kt(e,t=0){var n=jt(Sn|nr|t,e,!0);return n}function ut(e,t=!0){return jt(Sn|nt,e,!0,t)}function ta(e){var t=e.teardown;if(t!==null){const n=zt,r=X;Tr(!0),He(null);try{t.call(null)}finally{Tr(n),He(r)}}}function na(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){n.ac?.abort(jr);var r=n.next;(n.f&Ft)!==0?n.parent=null:tt(n,t),n=r}}function qo(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&nt)===0&&tt(t),t=n}}function tt(e,t=!0){var n=!1;(t||(e.f&fo)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(Vo(e.nodes_start,e.nodes_end),n=!0),na(e,t&&!n),wn(e,0),Ge(e,ar);var r=e.transitions;if(r!==null)for(const o of r)o.stop();ta(e);var a=e.parent;a!==null&&a.first!==null&&ra(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function Vo(e,t){for(;e!==null;){var n=e===t?null:En(e);e.remove(),e=n}}function ra(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function ct(e,t){var n=[];lr(e,n,!0),aa(n,()=>{tt(e),t&&t()})}function aa(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var a of e)a.out(r)}else t()}function lr(e,t,n){if((e.f&$e)===0){if(e.f^=$e,e.transitions!==null)for(const i of e.transitions)(i.is_global||n)&&t.push(i);for(var r=e.first;r!==null;){var a=r.next,o=(r.f&an)!==0||(r.f&nt)!==0;lr(r,t,o?n:!1),r=a}}}function Qt(e){oa(e,!0)}function oa(e,t){if((e.f&$e)!==0){e.f^=$e;for(var n=e.first;n!==null;){var r=n.next,a=(n.f&an)!==0||(n.f&nt)!==0;oa(n,a?t:!1),n=r}if(e.transitions!==null)for(const o of e.transitions)(o.is_global||t)&&o.in()}}let $t=[],qn=[];function sa(){var e=$t;$t=[],gn(e)}function Wo(){var e=qn;qn=[],gn(e)}function Tn(e){$t.length===0&&queueMicrotask(sa),$t.push(e)}function Yo(){$t.length>0&&sa(),qn.length>0&&Wo()}function Xo(e){var t=re;if((t.f&Hr)===0){if((t.f&rr)===0)throw e;t.fn(e)}else ia(e,t)}function ia(e,t){for(;t!==null;){if((t.f&rr)!==0)try{t.b.error(e);return}catch{}t=t.parent}throw e}let en=!1,tn=null,mt=!1,zt=!1;function Tr(e){zt=e}let Gt=[];let X=null,Ye=!1;function He(e){X=e}let re=null;function Xe(e){re=e}let Ie=null;function la(e){X!==null&&X.f&Kn&&(Ie===null?Ie=[X,[e]]:Ie[1].push(e))}let ye=null,Ae=0,Me=null;function Go(e){Me=e}let ca=1,_n=0,it=!1;function ua(){return++ca}function Cn(e){var t=e.f;if((t&et)!==0)return!0;if((t&bt)!==0){var n=e.deps,r=(t&Pe)!==0;if(n!==null){var a,o,i=(t&pn)!==0,l=r&&re!==null&&!it,c=n.length;if(i||l){var u=e,d=u.parent;for(a=0;a<c;a++)o=n[a],(i||!o?.reactions?.includes(u))&&(o.reactions??(o.reactions=[])).push(u);i&&(u.f^=pn),l&&d!==null&&(d.f&Pe)===0&&(u.f^=Pe)}for(a=0;a<c;a++)if(o=n[a],Cn(o)&&Xr(o),o.wv>e.wv)return!0}(!r||re!==null&&!it)&&Ge(e,Fe)}return!1}function da(e,t,n=!0){var r=e.reactions;if(r!==null)for(var a=0;a<r.length;a++){var o=r[a];Ie?.[1].includes(e)&&Ie[0]===X||((o.f&Re)!==0?da(o,t,!1):t===o&&(n?Ge(o,et):(o.f&Fe)!==0&&Ge(o,bt),ur(o)))}}function fa(e){var h;var t=ye,n=Ae,r=Me,a=X,o=it,i=Ie,l=ue,c=Ye,u=e.f;ye=null,Ae=0,Me=null,it=(u&Pe)!==0&&(Ye||!mt||X===null),X=(u&(nt|Ft))===0?e:null,Ie=null,mn(e.ctx),Ye=!1,_n++,e.f|=Kn,e.ac!==null&&(e.ac.abort(jr),e.ac=null);try{var d=(0,e.fn)(),v=e.deps;if(ye!==null){var f;if(wn(e,Ae),v!==null&&Ae>0)for(v.length=Ae+ye.length,f=0;f<ye.length;f++)v[Ae+f]=ye[f];else e.deps=v=ye;if(!it||(u&Re)!==0&&e.reactions!==null)for(f=Ae;f<v.length;f++)((h=v[f]).reactions??(h.reactions=[])).push(e)}else v!==null&&Ae<v.length&&(wn(e,Ae),v.length=Ae);if(Ut()&&Me!==null&&!Ye&&v!==null&&(e.f&(Re|bt|et))===0)for(f=0;f<Me.length;f++)da(Me[f],e);return a!==null&&a!==e&&(_n++,Me!==null&&(r===null?r=Me:r.push(...Me))),d}catch(g){Xo(g)}finally{ye=t,Ae=n,Me=r,X=a,it=o,Ie=i,mn(l),Ye=c,e.f^=Kn}}function Jo(e,t){let n=t.reactions;if(n!==null){var r=oo.call(n,e);if(r!==-1){var a=n.length-1;a===0?n=t.reactions=null:(n[r]=n[a],n.pop())}}n===null&&(t.f&Re)!==0&&(ye===null||!ye.includes(t))&&(Ge(t,bt),(t.f&(Pe|pn))===0&&(t.f^=pn),Wr(t),wn(t,0))}function wn(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)Jo(e,n[r])}function cr(e){var t=e.f;if((t&ar)===0){Ge(e,Fe);var n=re,r=mt;re=e,mt=!0;try{(t&nr)!==0?qo(e):na(e),ta(e);var a=fa(e);e.teardown=typeof a=="function"?a:null,e.wv=ca;var o;Sr&&ko&&(e.f&et)!==0&&e.deps}finally{mt=r,re=n}}}function Zo(){try{wo()}catch(e){if(tn!==null)ia(e,tn);else throw e}}function va(){var e=mt;try{var t=0;for(mt=!0;Gt.length>0;){t++>1e3&&Zo();var n=Gt,r=n.length;Gt=[];for(var a=0;a<r;a++){var o=$o(n[a]);Qo(o)}Zt.clear()}}finally{en=!1,mt=e,tn=null}}function Qo(e){var t=e.length;if(t!==0)for(var n=0;n<t;n++){var r=e[n];(r.f&(ar|$e))===0&&Cn(r)&&(cr(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null?ra(r):r.fn=null))}}function ur(e){en||(en=!0,queueMicrotask(va));for(var t=tn=e;t.parent!==null;){t=t.parent;var n=t.f;if((n&(Ft|nt))!==0){if((n&Fe)===0)return;t.f^=Fe}}Gt.push(t)}function $o(e){for(var t=[],n=e;n!==null;){var r=n.f,a=(r&(nt|Ft))!==0,o=a&&(r&Fe)!==0;if(!o&&(r&$e)===0){(r&Fr)!==0?t.push(n):a?n.f^=Fe:Cn(n)&&cr(n);var i=n.first;if(i!==null){n=i;continue}}var l=n.parent;for(n=n.next;n===null&&l!==null;)n=l.next,l=l.parent}return t}function ha(e){for(var t;;){if(Yo(),Gt.length===0)return en=!1,tn=null,t;en=!0,va()}}async function es(){await Promise.resolve(),ha()}function s(e){var t=e.f,n=(t&Re)!==0;if(X!==null&&!Ye){if(!Ie?.[1].includes(e)||Ie[0]!==X){var r=X.deps;e.rv<_n&&(e.rv=_n,ye===null&&r!==null&&r[Ae]===e?Ae++:ye===null?ye=[e]:(!it||!ye.includes(e))&&ye.push(e))}}else if(n&&e.deps===null&&e.effects===null){var a=e,o=a.parent;o!==null&&(o.f&Pe)===0&&(a.f^=Pe)}return n&&(a=e,Cn(a)&&Xr(a)),zt&&Zt.has(e)?Zt.get(e):e.v}function sn(e){var t=Ye;try{return Ye=!0,e()}finally{Ye=t}}const ts=-7169;function Ge(e,t){e.f=e.f&ts|t}function ns(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(pt in e)Vn(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&pt in n&&Vn(n)}}}function Vn(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{Vn(e[r],t)}catch{}const n=tr(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=Rr(n);for(let a in r){const o=r[a].get;if(o)try{o.call(e)}catch{}}}}}const rs=["touchstart","touchmove"];function as(e){return rs.includes(e)}let Cr=!1;function os(){Cr||(Cr=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function ga(e){var t=X,n=re;He(null),Xe(null);try{return e()}finally{He(t),Xe(n)}}function ss(e,t,n,r=n){e.addEventListener(t,()=>ga(n));const a=e.__on_r;a?e.__on_r=()=>{a(),r(!0)}:e.__on_r=()=>r(!0),os()}const pa=new Set,Wn=new Set;function is(e,t,n,r={}){function a(o){if(r.capture||Yt.call(t,o),!o.cancelBubble)return ga(()=>n?.call(this,o))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Tn(()=>{t.addEventListener(e,a,r)}):t.addEventListener(e,a,r),a}function nn(e,t,n,r,a){var o={capture:r,passive:a},i=is(e,t,n,o);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&ea(()=>{t.removeEventListener(e,i,o)})}function De(e){for(var t=0;t<e.length;t++)pa.add(e[t]);for(var n of Wn)n(e)}function Yt(e){var t=this,n=t.ownerDocument,r=e.type,a=e.composedPath?.()||[],o=a[0]||e.target,i=0,l=e.__root;if(l){var c=a.indexOf(l);if(c!==-1&&(t===document||t===window)){e.__root=t;return}var u=a.indexOf(t);if(u===-1)return;c<=u&&(i=c)}if(o=a[i]||e.target,o!==t){so(e,"currentTarget",{configurable:!0,get(){return o||n}});var d=X,v=re;He(null),Xe(null);try{for(var f,h=[];o!==null;){var g=o.assignedSlot||o.parentNode||o.host||null;try{var p=o["__"+r];if(p!=null&&(!o.disabled||e.target===o))if($n(p)){var[_,...m]=p;_.apply(o,[e,...m])}else p.call(o,e)}catch(E){f?h.push(E):f=E}if(e.cancelBubble||g===t||g===null)break;o=g}if(f){for(let E of h)queueMicrotask(()=>{throw E});throw f}}finally{e.__root=t,delete e.currentTarget,He(d),Xe(v)}}}function ma(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function rn(e,t){var n=re;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function F(e,t){var n=(t&Oo)!==0,r=(t&Mo)!==0,a,o=!e.startsWith("<!>");return()=>{a===void 0&&(a=ma(o?e:"<!>"+e),n||(a=Nt(a)));var i=r||Jr?document.importNode(a,!0):a.cloneNode(!0);if(n){var l=Nt(i),c=i.lastChild;rn(l,c)}else rn(i,i);return i}}function ls(e,t,n="svg"){var r=!e.startsWith("<!>"),a=`<${n}>${r?e:"<!>"+e}</${n}>`,o;return()=>{if(!o){var i=ma(a),l=Nt(i);o=Nt(l)}var c=o.cloneNode(!0);return rn(c,c),c}}function cs(e,t){return ls(e,t,"svg")}function qe(e=""){{var t=bn(e+"");return rn(t,t),t}}function ie(){var e=document.createDocumentFragment(),t=document.createComment(""),n=bn();return e.append(t,n),rn(t,n),e}function k(e,t){e!==null&&e.before(t)}function ec(){var e;return(e=window.__svelte??(window.__svelte={})).uid??(e.uid=1),`c${window.__svelte.uid++}`}function qt(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function us(e,t){return ds(e,t)}const kt=new Map;function ds(e,{target:t,anchor:n,props:r={},events:a,context:o,intro:i=!0}){Ho();var l=new Set,c=v=>{for(var f=0;f<v.length;f++){var h=v[f];if(!l.has(h)){l.add(h);var g=as(h);t.addEventListener(h,Yt,{passive:g});var p=kt.get(h);p===void 0?(document.addEventListener(h,Yt,{passive:g}),kt.set(h,1)):kt.set(h,p+1)}}};c(er(pa)),Wn.add(c);var u=void 0,d=zo(()=>{var v=n??t.appendChild(bn());return ut(()=>{if(o){W({});var f=ue;f.c=o}a&&(r.$$events=a),u=e(v,r)||{},o&&Y()}),()=>{for(var f of l){t.removeEventListener(f,Yt);var h=kt.get(f);--h===0?(document.removeEventListener(f,Yt),kt.delete(f)):kt.set(f,h)}Wn.delete(c),v!==n&&v.parentNode?.removeChild(v)}});return fs.set(u,d),u}let fs=new WeakMap;const Nn=0,fn=1,On=2;function Ct(e,t,n,r,a){var o=e,i=Ut(),l=ue,c=me,u,d,v,f=i?wt(void 0):zn(void 0,!1,!1),h=i?wt(void 0):zn(void 0,!1,!1),g=!1;function p(m,E){g=!0,E&&(Xe(_),He(_),mn(l));try{m===fn&&r&&(d?Qt(d):d=ut(()=>r(o,f))),m!==Nn&&u&&ct(u,()=>u=null),m!==fn&&d&&ct(d,()=>d=null),m!==On&&v&&ct(v,()=>v=null)}finally{E&&(mn(null),He(null),Xe(null),ha())}}var _=Kt(()=>{if(c!==(c=t())){if(co(c)){var m=c;g=!1,m.then(E=>{m===c&&(Dt(f,E),p(fn,!0))},E=>{if(m===c)throw Dt(h,E),p(On,!0),h.v}),Tn(()=>{g||p(Nn,!0)})}else Dt(f,c),p(fn,!1);return()=>c=me}})}function H(e,t,[n,r]=[0,0]){var a=e,o=null,i=null,l=me,c=n>0?an:0,u=!1;const d=(f,h=!0)=>{u=!0,v(h,f)},v=(f,h)=>{l!==(l=f)&&(l?(o?Qt(o):h&&(o=ut(()=>h(a))),i&&ct(i,()=>{i=null})):(i?Qt(i):h&&(i=ut(()=>h(a,[n+1,r]))),o&&ct(o,()=>{o=null})))};Kt(()=>{u=!1,t(d),u||v(null,null)},c)}function ge(e,t){kn(()=>{var n=t();for(var r in n){var a=n[r];a?e.style.setProperty(r,a):e.style.removeProperty(r)}})}function vs(e,t){return t}function hs(e,t,n,r){for(var a=[],o=t.length,i=0;i<o;i++)lr(t[i].e,a,!0);var l=o>0&&a.length===0&&n!==null;if(l){var c=n.parentNode;Uo(c),c.append(n),r.clear(),ot(e,t[0].prev,t[o-1].next)}aa(a,()=>{for(var u=0;u<o;u++){var d=t[u];l||(r.delete(d.k),ot(e,d.prev,d.next)),tt(d.e,!l)}})}function lt(e,t,n,r,a,o=null){var i=e,l={flags:t,items:new Map,first:null},c=(t&qr)!==0;if(c){var u=e;i=u.appendChild(bn())}var d=null,v=!1,f=Vr(()=>{var h=n();return $n(h)?h:h==null?[]:er(h)});Kt(()=>{var h=s(f),g=h.length;v&&g===0||(v=g===0,gs(h,l,i,a,t,r,n),o!==null&&(g===0?d?Qt(d):d=ut(()=>o(i)):d!==null&&ct(d,()=>{d=null})),s(f))})}function gs(e,t,n,r,a,o,i){var l=(a&Co)!==0,c=(a&(or|sr))!==0,u=e.length,d=t.items,v=t.first,f=v,h,g=null,p,_=[],m=[],E,y,w,T;if(l)for(T=0;T<u;T+=1)E=e[T],y=o(E,T),w=d.get(y),w!==void 0&&(w.a?.measure(),(p??(p=new Set)).add(w));for(T=0;T<u;T+=1){if(E=e[T],y=o(E,T),w=d.get(y),w===void 0){var O=f?f.e.nodes_start:n;g=ms(O,t,g,g===null?t.first:g.next,E,y,T,r,a,i),d.set(y,g),_=[],m=[],f=g.next;continue}if(c&&ps(w,E,T,a),(w.e.f&$e)!==0&&(Qt(w.e),l&&(w.a?.unfix(),(p??(p=new Set)).delete(w))),w!==f){if(h!==void 0&&h.has(w)){if(_.length<m.length){var C=m[0],N;g=C.prev;var G=_[0],ae=_[_.length-1];for(N=0;N<_.length;N+=1)Lr(_[N],C,n);for(N=0;N<m.length;N+=1)h.delete(m[N]);ot(t,G.prev,ae.next),ot(t,g,G),ot(t,ae,C),f=C,g=ae,T-=1,_=[],m=[]}else h.delete(w),Lr(w,f,n),ot(t,w.prev,w.next),ot(t,w,g===null?t.first:g.next),ot(t,g,w),g=w;continue}for(_=[],m=[];f!==null&&f.k!==y;)(f.e.f&$e)===0&&(h??(h=new Set)).add(f),m.push(f),f=f.next;if(f===null)continue;w=f}_.push(w),g=w,f=w.next}if(f!==null||h!==void 0){for(var oe=h===void 0?[]:er(h);f!==null;)(f.e.f&$e)===0&&oe.push(f),f=f.next;var se=oe.length;if(se>0){var ne=(a&qr)!==0&&u===0?n:null;if(l){for(T=0;T<se;T+=1)oe[T].a?.measure();for(T=0;T<se;T+=1)oe[T].a?.fix()}hs(t,oe,ne,d)}}l&&Tn(()=>{if(p!==void 0)for(w of p)w.a?.apply()}),re.first=t.first&&t.first.e,re.last=g&&g.e}function ps(e,t,n,r){(r&or)!==0&&Dt(e.v,t),(r&sr)!==0?Dt(e.i,n):e.i=n}function ms(e,t,n,r,a,o,i,l,c,u){var d=(c&or)!==0,v=(c&Lo)===0,f=d?v?zn(a,!1,!1):wt(a):a,h=(c&sr)===0?i:wt(i),g={i:h,v:f,k:o,a:null,e:null,prev:n,next:r};try{return g.e=ut(()=>l(e,f,h,u),Fo),g.e.prev=n&&n.e,g.e.next=r&&r.e,n===null?t.first=g:(n.next=g,n.e.next=g.e),r!==null&&(r.prev=g,r.e.prev=g.e),g}finally{}}function Lr(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,a=t?t.e.nodes_start:n,o=e.e.nodes_start;o!==r;){var i=En(o);a.before(o),o=i}}function ot(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function Je(e,t,...n){var r=e,a=xt,o;Kt(()=>{a!==(a=t())&&(o&&(tt(o),o=null),o=ut(()=>a(r,...n)))},an)}function Lt(e,t,n){var r=e,a,o;Kt(()=>{a!==(a=t())&&(o&&(ct(o),o=null),a&&(o=ut(()=>n(r,a))))},an)}function _a(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=_a(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function _s(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=_a(e))&&(r&&(r+=" "),r+=t);return r}function ee(e){return typeof e=="object"?_s(e):e??""}const Ar=[...` 	
\r\f \v\uFEFF`];function ws(e,t,n){var r=e==null?"":""+e;if(t&&(r=r?r+" "+t:t),n){for(var a in n)if(n[a])r=r?r+" "+a:a;else if(r.length)for(var o=a.length,i=0;(i=r.indexOf(a,i))>=0;){var l=i+o;(i===0||Ar.includes(r[i-1]))&&(l===r.length||Ar.includes(r[l]))?r=(i===0?"":r.substring(0,i))+r.substring(l+1):i=l}}return r===""?null:r}function ys(e,t){return e==null?null:String(e)}function Z(e,t,n,r,a,o){var i=e.__className;if(i!==n||i===void 0){var l=ws(n,r,o);l==null?e.removeAttribute("class"):e.className=l,e.__className=n}else if(o&&a!==o)for(var c in o){var u=!!o[c];(a==null||u!==!!a[c])&&e.classList.toggle(c,u)}return o}function yn(e,t,n,r){var a=e.__style;if(a!==t){var o=ys(t);o==null?e.removeAttribute("style"):e.style.cssText=o,e.__style=t}return r}const Ss=Symbol("is custom element"),bs=Symbol("is html");function Mn(e,t){var n=dr(e);n.value===(n.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function In(e,t){var n=dr(e);n.checked!==(n.checked=t??void 0)&&(e.checked=t)}function _e(e,t,n,r){var a=dr(e);a[t]!==(a[t]=n)&&(t==="loading"&&(e[ho]=n),n==null?e.removeAttribute(t):typeof n!="string"&&Es(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function dr(e){return e.__attributes??(e.__attributes={[Ss]:e.nodeName.includes("-"),[bs]:e.namespaceURI===Io})}var Pr=new Map;function Es(e){var t=Pr.get(e.nodeName);if(t)return t;Pr.set(e.nodeName,t=[]);for(var n,r=e,a=Element.prototype;a!==r;){n=Rr(r);for(var o in n)n[o].set&&t.push(o);r=tr(r)}return t}function fr(e,t,n=t){var r=Ut();ss(e,"input",a=>{var o=a?e.defaultValue:e.value;if(o=Bn(e)?Rn(o):o,n(o),r&&o!==(o=t())){var i=e.selectionStart,l=e.selectionEnd;e.value=o??"",l!==null&&(e.selectionStart=i,e.selectionEnd=Math.min(l,e.value.length))}}),sn(t)==null&&e.value&&n(Bn(e)?Rn(e.value):e.value),kn(()=>{var a=t();Bn(e)&&a===Rn(e.value)||e.type==="date"&&!a&&!e.value||a!==e.value&&(e.value=a??"")})}function Bn(e){var t=e.type;return t==="number"||t==="range"}function Rn(e){return e===""?null:+e}function Dr(e,t){return e===t||e?.[pt]===t}function Ue(e={},t,n,r){return ir(()=>{var a,o;return kn(()=>{a=o,o=[],sn(()=>{e!==n(...o)&&(t(e,...o),a&&Dr(n(...a),e)&&t(null,...a))})}),()=>{Tn(()=>{o&&Dr(n(...o),e)&&t(null,...o)})}}),e}function ln(e=!1){const t=ue,n=t.l.u;if(!n)return;let r=()=>ns(t.s);if(e){let a=0,o={};const i=on(()=>{let l=!1;const c=t.s;for(const u in c)c[u]!==o[u]&&(o[u]=c[u],l=!0);return l&&a++,a});r=()=>s(i)}n.b.length&&Ko(()=>{xr(t,r),gn(n.b)}),Se(()=>{const a=sn(()=>n.m.map(uo));return()=>{for(const o of a)typeof o=="function"&&o()}}),n.a.length&&Se(()=>{xr(t,r),gn(n.a)})}function xr(e,t){if(e.l.s)for(const n of e.l.s)s(n);t()}let vn=!1;function ks(e){var t=vn;try{return vn=!1,[e(),vn]}finally{vn=t}}function Ts(e){return e.ctx?.d??!1}function te(e,t,n,r){var a=!Ht||(n&Po)!==0,o=(n&xo)!==0,i=(n&No)!==0,l=r,c=!0,u=()=>(c&&(c=!1,l=i?sn(r):r),l),d;if(o){var v=pt in e||vo in e;d=Pt(e,t)?.set??(v&&t in e?m=>e[t]=m:void 0)}var f,h=!1;o?[f,h]=ks(()=>e[t]):f=e[t],f===void 0&&r!==void 0&&(f=u(),d&&(a&&yo(),d(f)));var g;if(a?g=()=>{var m=e[t];return m===void 0?u():(c=!0,m)}:g=()=>{var m=e[t];return m!==void 0&&(l=void 0),m===void 0?l:m},a&&(n&Do)===0)return g;if(d){var p=e.$$legacy;return function(m,E){return arguments.length>0?((!a||!E||p||h)&&d(E?g():m),m):g()}}var _=((n&Ao)!==0?on:Vr)(g);return o&&s(_),function(m,E){if(arguments.length>0){const y=E?s(_):a&&o?ve(m):m;return b(_,y),l!==void 0&&(l=y),m}return Ts(_)?_.v:s(_)}}function pe(e){ue===null&&Bo(),Ht&&ue.l!==null?Cs(ue).m.push(e):Se(()=>{const t=sn(e);if(typeof t=="function")return t})}function Cs(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const Ls="5";var Br;typeof window<"u"&&((Br=window.__svelte??(window.__svelte={})).v??(Br.v=new Set)).add(Ls);let ht=x(""),Tt=x(null);function As(e){b(ht,""),setTimeout(()=>{b(ht,e,!0)},16)}var Ps=F('<div class="notification svelte-1a2zucn"> </div>');function Ds(e,t){W(t,!0),Se(()=>{s(ht),s(ht)&&(s(Tt)?.getBoundingClientRect(),s(Tt)?.style.setProperty("opacity","1"));const o=setTimeout(()=>{s(Tt)?.style.removeProperty("opacity")},800),i=setTimeout(()=>{b(ht,""),s(Tt)?.style.removeProperty("opacity")},1200);return()=>{clearTimeout(o),clearTimeout(i)}});var n=ie(),r=j(n);{var a=o=>{var i=Ps(),l=S(i);Ue(i,c=>b(Tt,c),()=>s(Tt)),de(()=>qt(l,s(ht))),k(o,i)};H(r,o=>{s(ht)&&o(a)})}k(e,n),Y()}To();var xs=F('<span class="vh svelte-14jjkpd"><!></span>');function Ot(e,t){var n=xs(),r=S(n);Je(r,()=>t.children),k(e,n)}var Ns=cs('<svg class="svelte-gv09tg"><use></use></svg>');function he(e,t){let n=te(t,"name",8,"");var r=Ns(),a=S(r);de(()=>_e(a,"href",`#icon-${n()??""}`)),k(e,r)}const wa=(e,t)=>{if(!t)return e;if(t.type==="closed")return{type:"closed"};switch(e.type){case"opened":return t.type==="close"?{type:"closing"}:t.type==="swipe"?{type:"openSwiping"}:e;case"closed":return t.type==="open"?{type:"opening"}:t.type==="swipe"?{type:"closeSwiping"}:e;case"openSwiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"closeSwiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"opening":return t.type==="opened"?{type:"opened"}:e;default:return e}};let Yn=x(ve(wa({type:"closed"})));const st=e=>{b(Yn,wa(s(Yn),e),!0)},ya=()=>s(Yn),Os=()=>{st({type:"open"})},Ms=()=>{st({type:"close"})},Is=()=>{const e=ya().type;e==="closed"?Os():e==="opened"&&Ms()};var Bs=F('<button class="buttonMenu svelte-hxzs42"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>');function Sa(e,t){W(t,!1),ln();var n=Bs();n.__click=[Is];var r=S(n);ge(r,()=>({"--size":"28px"})),he(r.lastChild,{name:"sidebarMenu"});var a=L(r,2);Ot(a,{children:(o,i)=>{var l=qe("Menu");k(o,l)}}),k(e,n),Y()}De(["click"]);const D=ve({historyStack:[],pathname:window.location.pathname,search:window.location.search,historyLength:0});let ba=x(ve(new URLSearchParams(D.search).get("feedOrder")||"newest"));const Ea=()=>s(ba),Rs=e=>{b(ba,e,!0);const t=new URLSearchParams(D.search);e==="newest"?t.delete("feedOrder"):t.set("feedOrder",e),yt(`${D.pathname}${t.size>0?`?${t.toString()}`:""}`)},ka=()=>new URLSearchParams(D.search).get("selectedTags")?.split(",")||[];let hn=ka();const Fs=()=>{const e=ka();return e.join(",")===hn.join(",")||(hn=e),hn},Hs=()=>{D.pathname=document.location.pathname,D.search=document.location.search,D.historyLength=Math.max(0,D.historyLength-=1)};window.addEventListener("popstate",Hs);const yt=e=>{const[t,n]=e.split("?");D.pathname=t,D.search=n?`?${n}`:"",D.historyLength+=1,D.historyStack.push(window.location.href),window.history.replaceState(null,"",e)},Us=e=>{const[t,n]=e.split("?");D.pathname=t,D.search=n?`?${n}`:"",window.history.replaceState(null,"",e)},Ta=(e="/")=>{const[t,n]=e.split("?");if(D.historyLength<=0){const r=window.location.href,[a,o]=r.split("?");if(!o.includes("stackPages"))window.history.replaceState(null,"",e),D.historyLength=0,D.pathname=t,D.search=n?`?${n}`:"";else{const i=new URLSearchParams(o),c=(i.get("stackPages")?.split(",")||[]).slice(0,-1);c.length===0?i.delete("stackPages"):i.set("stackPages",c.join(","));const u=`${a}${i.toString()?`?${i.toString()}`:""}`;window.history.replaceState(null,"",u),D.search=i.toString()?`?${i.toString()}`:""}}else if(D.historyStack.length>0){const r=D.historyStack.pop();if(r){const[a,o]=r.split("?");window.history.replaceState(null,"",r),D.historyLength=Math.max(0,D.historyLength-=1),D.pathname=a,D.search=o?`?${o}`:""}}},Ca=()=>{const e=D.historyStack.findIndex(n=>n.includes("stackPages")),t=e===-1?D.historyStack.slice(0):D.historyStack.slice(0,e);if(t.length>0){const n=t.pop();if(n){const[r,a]=n.split("?");window.history.replaceState(null,"",n),D.historyLength=Math.max(0,t.length),D.pathname=r,D.search=a?`?${a}`:"",D.historyStack=t}}else window.history.replaceState(null,"","/"),D.historyLength=0,D.pathname="/",D.search="",D.historyStack=[]},Ve=()=>new URLSearchParams(D.search).get("stackPages")?.split(",")||[];let _t=x(ve(Ve()));const je=e=>{const t=Ve();if(!t.includes(e)){t.push(e);const n=new URLSearchParams(D.search);n.set("stackPages",t.join(",")),b(_t,t,!0),yt(`${D.pathname}?${n.toString()}`)}},js=e=>Ve().includes(e),La=()=>{const e=s(_t).slice(0,-1);b(_t,e,!0)},Aa=()=>{const e=Ve();return e.length>=s(_t).length?e.reduce((t,n)=>[...t,{page:n,shown:!0}],[]):s(_t).reduce((t,n,r)=>[...t,{page:n,shown:e.length===0?!1:r!==s(_t).length-1}],[])},Xn=()=>{b(_t,[],!0)},Ks=e=>{e.preventDefault(),je("settings")},zs=e=>{e.preventDefault(),je("newNote")};var qs=F('<div class="header svelte-ww662s"><div class="top svelte-ww662s"><div class="desktop svelte-ww662s"><a class="link svelte-ww662s"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Settings</span></a></div> <div class="mobile svelte-ww662s"><!></div> <a class="addNote svelte-ww662s"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Add</span></a></div></div>');function Vs(e,t){W(t,!0);const n=()=>{const p=Ve();p.includes("settings")||p.push("settings");const _=new URLSearchParams(D.search);return _.set("stackPages",p.join(",")),`${D.pathname}?${_}`};let a=R(()=>{const p=Ve();p.includes("newNote")||p.push("newNote");const _=new URLSearchParams(D.search);return _.set("stackPages",p.join(",")),`${D.pathname}?${_}`}),o=R(n);var i=qs(),l=S(i),c=S(l),u=S(c);u.__click=[Ks];var d=S(u);ge(d,()=>({"--size":"20px"})),he(d.lastChild,{name:"settings"});var v=L(c,2),f=S(v);Sa(f,{});var h=L(v,2);h.__click=[zs];var g=S(h);ge(g,()=>({"--size":"24px","--color":"#b0b0b0"})),he(g.lastChild,{name:"plus"}),de(()=>{_e(u,"href",s(o)),_e(h,"href",s(a))}),k(e,i),Y()}De(["click"]);const Ws="modulepreload",Ys=function(e){return"/"+e},Nr={},At=function(t,n,r){let a=Promise.resolve();if(n&&n.length>0){let i=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=l?.nonce||l?.getAttribute("nonce");a=i(n.map(u=>{if(u=Ys(u),u in Nr)return;Nr[u]=!0;const d=u.endsWith(".css"),v=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${v}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":Ws,d||(f.as="script"),f.crossOrigin="",f.href=u,c&&f.setAttribute("nonce",c),document.head.appendChild(f),d)return new Promise((h,g)=>{f.addEventListener("load",h),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${u}`)))})}))}function o(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return a.then(i=>{for(const l of i||[])l.status==="rejected"&&o(l.reason);return t().catch(o)})},Xs=(e,t)=>{let n=null;return()=>{n&&clearTimeout(n),n=setTimeout(()=>{e()},t)}},Pa=()=>window.matchMedia("(max-width: 768px)").matches;let Da=x(ve(Pa()));const Gs=Xs(()=>{b(Da,Pa(),!0)},16);window.addEventListener("resize",Gs);const Vt=()=>s(Da),vr=ve({count:0}),Js=()=>vr.count>0,xa=()=>{vr.count+=1},Na=()=>{vr.count-=1},we=ve({working:!1,swipingRatio:1,isSwiping:!1,duration:.35});let Gn=!1;const Fn=()=>{document.activeElement instanceof HTMLInputElement&&document.activeElement.type==="text"||document.activeElement instanceof HTMLTextAreaElement?Gn=!0:Gn=!1},hr=()=>Gn;function Zs(e,t){W(t,!0);let n=te(t,"dialog",7),r=null;const a=()=>{t.dialogState==="swiping"&&t.onClose()};Se(()=>(t.dialogState==="swiping"&&(r=setTimeout(a,3e3)),()=>{r&&(clearTimeout(r),r=null)}));let o=null,i=null;const l=3,c=50,u=5,d=.6,v=.3,f=.35,h=.95;let g=0,p=0,_=0,m=!1,E=!1,y=0,w=0,T=0;const O=()=>{g=0,p=0,m=!1,E=!1,y=0,w=0,T=0,_=0,o=null,i!==null&&(cancelAnimationFrame(i),i=null),r&&(clearTimeout(r),r=null)},C=A=>{if(!n()){console.warn("Touch start: No dialog element");return}if(t.dialogState!=="opened"){console.warn(`Touch start: Invalid sidebar state: ${t.dialogState}`);return}g=A.touches[0].clientX,p=A.touches[0].clientY,_=performance.now(),m=!0,E=!1},N=A=>t.dialogState==="opened"&&A>0||t.dialogState==="swiping"&&A>0,G=A=>{if(n()){n().style.setProperty("--transition-timing","0s"),t.onSwipe(),navigator.vibrate&&navigator.vibrate(10);try{const B=window.getComputedStyle(n()),K=B.transform||B.webkitTransform||"";if(w=n().offsetWidth,(t.dialogState==="swiping"||t.dialogState==="opened")&&(y=0),K&&K!=="none")try{y=new DOMMatrix(K).m41}catch{console.warn("Could not parse transform matrix, using default position")}E=!0}catch(B){console.error("Error during swipe initialization:",B),O()}}},ae=()=>{if(!n())return;const B=Math.abs(y+T*w/100)/w;n().style.setProperty("--backdrop-bg",`rgba(0, 0, 0, ${.1*(1-B)})`)},oe=()=>{if(i=null,!o||!m||!n()||hr()){O();return}const A=o.touches[0].clientX,B=o.touches[0].clientY,K=A-g,Q=B-p,P=Math.abs(K)>Math.abs(Q),$=Math.abs(K)>l;if(!E)if(P&&$&&N(K))try{G(K)}catch(rt){console.error("Error initializing swipe:",rt),O();return}else return;if(!N(K))return;n().style.setProperty("--transition-timing","0s");let z=y+K*h;z=Math.max(0,Math.min(w,z)),n().style.transform=`translate3d(${z}px, 0, 0)`,we.swipingRatio=Math.abs(1-z/w),T=(z-y)/w*100,t.dialogState==="swiping"&&(r&&clearTimeout(r),r=setTimeout(a,3e3)),ae()},se=A=>{if(!m)return;o=A,i===null&&(i=requestAnimationFrame(oe));const B=A.touches[0].clientX-g,K=A.touches[0].clientY-p,Q=Math.abs(B)>Math.abs(K);E&&Q&&A.preventDefault()},ne=A=>{const B=Math.abs(A);if(B>=d)return u;if(B>=v){const K=(B-v)/(d-v);return c-K*(c-u)}else return c},U=(A,B)=>{if(Math.abs(A)>=d)return f*.5;const Q=Math.abs(T)/100;return B?f*Math.max(.5,1-Q):f*Math.max(.5,Q)},I=A=>{if(i!==null&&(cancelAnimationFrame(i),i=null),!m||!n()){O();return}if(!E){O();return}let B=0;if(A?.changedTouches?.[0]){const z=A.changedTouches[0].clientX,be=performance.now()-_;be>0&&(B=(z-g)/be)}const K=ne(B);let Q=null;t.dialogState==="swiping"&&(Q=Math.abs(T)>K||B<-v?"close":"open");const P=t.dialogState==="swiping"&&Q==="close",$=U(B,P);we.duration=$-.02,n().style.setProperty("--transition-timing",`${$}s`),n().offsetWidth,n().style.transform="",Q==="open"?t.onOpen():Q==="close"&&t.onClose(),n()?.style.removeProperty("--backdrop-bg"),O()};pe(()=>(n().addEventListener("touchstart",C,{passive:!0}),n().addEventListener("touchmove",se,{passive:!1}),n().addEventListener("touchend",I,{passive:!0}),n().addEventListener("touchcancel",I,{passive:!0}),()=>{n().removeEventListener("touchstart",C),n().removeEventListener("touchmove",se),n().removeEventListener("touchend",I),n().removeEventListener("touchcancel",I),i!==null&&cancelAnimationFrame(i)})),Y()}let gr=x(!1);const Qs=(e,t)=>{let n;return()=>{n&&clearTimeout(n),n=setTimeout(()=>{e()},t)}},$s=Qs(()=>{b(gr,!1)},100),Oa=()=>{b(gr,!0),$s()},Ma=()=>s(gr);var ei=(e,t)=>{t.onStartClose()},ti=F('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),ni=F('<dialog><div class="dialogInner svelte-68rj1a"><div class="header svelte-68rj1a"><div><!></div></div> <!></div></dialog> <!>',1);function ri(e,t){W(t,!0);let n=350,r=x(null),a=x(null);const o=y=>{y.preventDefault(),t.onStartClose()};pe(()=>(s(r)?.addEventListener("close",t.onClosed),s(r)?.addEventListener("cancel",o),()=>{s(r)?.removeEventListener("close",t.onClosed),s(r)?.removeEventListener("cancel",o)}));const i=()=>{s(r)?.style.removeProperty("--transition-timing"),s(r)?.style.removeProperty("transform"),s(r)?.style.removeProperty("--backdrop-bg")},l=()=>{Oa()},c=R(Ma);Se(()=>{if(t.dialogState,!!s(r))switch(t.dialogState){case"opening":{s(r).open||s(r).showModal(),s(r).getBoundingClientRect();const y=setTimeout(()=>{i()},n+1),w=()=>{clearTimeout(y),i()};return s(r)?.addEventListener("transitionend",w,{once:!0}),t.onOpened(),()=>{s(r)?.removeEventListener("transitionend",w)}}case"closing":{const y=setTimeout(()=>{t.dialogState==="closing"&&t.onClosed()},n+1),w=()=>{clearTimeout(y),t.onClosed()};return s(r)?.addEventListener("transitionend",w,{once:!0}),()=>{s(r)?.removeEventListener("transitionend",w)}}case"opened":i()}});var u=ni(),d=j(u),v=S(d),f=S(v),h=S(f),g=S(h);{var p=y=>{var w=ti();Z(w,1,ee(["navigateButton","buttonBack"]),"svelte-68rj1a"),w.__click=[ei,t];var T=S(w);ge(T,()=>({"--size":"20px"})),he(T.lastChild,{name:"back"});var O=L(T,2);Ot(O,{children:(C,N)=>{var G=qe("back");k(C,G)}}),k(y,w)};H(g,y=>{(!(t.blocked||t.hidden)||t.blocked&&t.unBlockedBack)&&y(p)})}var _=L(f,2);Je(_,()=>t.children),Ue(v,y=>b(a,y),()=>s(a)),Ue(d,y=>b(r,y),()=>s(r));var m=L(d,2);{var E=y=>{Zs(y,{get onClose(){return t.onStartClose},get onOpen(){return t.onStartOpen},get onSwipe(){return t.onSwipe},get dialogState(){return t.dialogState},get dialog(){return s(r)}})};H(m,y=>{(!s(c)&&t.dialogState==="opened"||t.dialogState==="swiping")&&(!t.blocked||t.unBlockedBack)&&y(E)})}de(()=>Z(d,1,ee([{open:t.dialogState==="opened",hidden:t.hidden,isAnimationOn:we.working&&(!we.isSwiping||!t.hidden)},{hidden:t.hidden}]),"svelte-68rj1a")),nn("scroll",v,l),k(e,u),Y()}De(["click"]);const Or=(e,t)=>{if(!t)return e;if(t.type==="closed")return{type:"closed"};switch(e.type){case"opened":return t.type==="close"?{type:"closing"}:t.type==="swipe"?{type:"swiping"}:e;case"closed":return t.type==="open"?{type:"opening"}:e;case"swiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"opening":return t.type==="opened"?{type:"opened"}:e;default:return e}};function ai(e,t){W(t,!0);let n=te(t,"blocked",3,!1),r=te(t,"hiddenDialog",3,!1),a=te(t,"unBlockedBack",3,!1),o=te(t,"onStartClose",3,()=>{}),i=te(t,"onClose",3,()=>{}),l=x(ve(Or({type:"closed"})));const c=m=>{b(l,Or(s(l),m),!0)},u=()=>{n()&&!a()||(o()(),c({type:"close"}))},d=()=>{c({type:"open"})},v=()=>{c({type:"opened"}),we.duration=.2},f=()=>{i()(),c({type:"closed"}),we.swipingRatio=1,we.duration=.2},h=()=>{c({type:"swipe"})};Se(()=>{s(l).type==="swiping"?we.isSwiping=!0:we.isSwiping=!1,s(l).type==="closed"&&t.shownDialog?d():s(l).type==="opened"&&!t.shownDialog&&u()});var g=ie(),p=j(g);{var _=m=>{ri(m,{onSwipe:h,onOpened:v,onClosed:f,onStartClose:u,onStartOpen:d,get dialogState(){return s(l).type},get hidden(){return r()},get blocked(){return n()},get unBlockedBack(){return a()},children:(E,y)=>{var w=ie(),T=j(w);Je(T,()=>t.children),k(E,w)},$$slots:{default:!0}})};H(p,m=>{s(l).type!=="closed"&&m(_)})}return k(e,g),Y({handleComputeState:c})}function Ia(e,t){W(t,!0);let n=te(t,"blockedDialog",3,!1),r=te(t,"hiddenDialog",3,!1),a=te(t,"isLastDialog",3,!1),o=te(t,"onStartClose",3,()=>{}),i=te(t,"onClose",3,()=>{});const l=R(()=>a()?void 0:t.onStartBack);let c=null;function u(){return c||(c=At(()=>import("./DesktopDialog-DTCFqGZU.js"),__vite__mapDeps([0,1]))),c}pe(()=>(xa(),()=>{Na()}));var d=ie(),v=j(d);{var f=g=>{ai(g,{get shownDialog(){return t.shownDialog},get blocked(){return n()},get unBlockedBack(){return t.unBlockedBack},get hiddenDialog(){return r()},get children(){return t.children},get onStartClose(){return t.onStartBack},onClose:i()})},h=g=>{var p=ie(),_=j(p);Ct(_,u,null,(m,E)=>{var y=ie();const w=R(()=>s(E).default);var T=j(y);Lt(T,()=>s(w),(O,C)=>{C(O,{get shownDialog(){return t.shownDialog},get blockedDialog(){return n()},get unBlockedBack(){return t.unBlockedBack},get hiddenDialog(){return r()},get children(){return t.children},get onStartBack(){return s(l)},onStartClose:o(),onClose:i()})}),k(m,y)}),k(g,p)};H(v,g=>{Vt()?g(f):g(h,!1)})}k(e,d),Y()}let Ba=x(!1),pr=x(!1);const Xt=e=>{b(Ba,e,!0),e||b(pr,!1)},oi=()=>s(Ba),Mr=e=>{b(pr,e,!0)},si=()=>s(pr);function Ir(e,t){W(t,!0);let n=te(t,"blocked",3,!1),r=te(t,"isLastDialog",3,!1),a=te(t,"onBack",3,()=>{});const o=R(()=>n()||t.hidden||oi()),i=R(()=>si()&&!r());Ia(e,{get shownDialog(){return t.shown},get blockedDialog(){return s(o)},get unBlockedBack(){return s(i)},get hiddenDialog(){return t.hidden},get isLastDialog(){return r()},onStartBack:()=>{(!s(o)||s(o)&&s(i))&&t.shown&&(Ta(),a()())},onStartClose:()=>{(!s(o)||s(o)&&s(i))&&t.shown&&Ca()},onClose:()=>{La()},children:(d,v)=>{var f=ie(),h=j(f);Je(h,()=>t.children),k(d,f)},$$slots:{default:!0}}),Y()}const Jt=()=>crypto.randomUUID(),ii="AppStorage",li=1,Ke="notes",Mt="syncLog",It="account";let Be;window.addEventListener("unhandledrejection",e=>{alert("Error: "+e.reason.message)});const ci=()=>new Promise((e,t)=>{const n=indexedDB.open(ii,li);n.addEventListener("upgradeneeded",()=>{const r=n.result;r.objectStoreNames.contains(Ke)||r.createObjectStore(Ke,{keyPath:"id"}),r.objectStoreNames.contains(It)||r.createObjectStore(It,{keyPath:"id"}),r.objectStoreNames.contains(Mt)||r.createObjectStore(Mt,{keyPath:"id"})}),n.addEventListener("success",()=>{e(),Be=n.result,Be.onversionchange=function(){Be?.close(),alert("app outdated, please reload the page")}}),n.addEventListener("blocked",()=>{t(),alert("app outdated, please reload the page")}),n.addEventListener("error",()=>{t(),console.error("Error",n.error)})}),Ra=()=>new Promise((e,t)=>{const r=Be?.transaction(It,"readonly")?.objectStore(It).get("default");r?.addEventListener("success",()=>{const a=r?.result?.account;e(a)}),r?.addEventListener("error",()=>{t()})}),mr=e=>new Promise((t,n)=>{const o=Be?.transaction(It,"readwrite")?.objectStore(It)?.put({id:"default",account:e});o?.addEventListener("success",()=>{console.log("account inited"),t()}),o?.addEventListener("error",()=>{n()})}),Fa=()=>new Promise((e,t)=>{const r=Be?.transaction(Ke,"readonly")?.objectStore(Ke).getAll();r?.addEventListener("success",()=>{const a=r.result;e(a)}),r?.addEventListener("error",()=>{t()})}),Ha=async e=>new Promise((t,n)=>{const o=Be?.transaction(Ke,"readwrite")?.objectStore(Ke)?.put({...e});o?.addEventListener("success",()=>{t()}),o?.addEventListener("error",()=>{n()})}),ui=async e=>new Promise((t,n)=>{const o=Be?.transaction(Ke,"readwrite")?.objectStore(Ke)?.delete(e);o?.addEventListener("success",()=>{t()}),o?.addEventListener("error",()=>{n()})}),di=()=>new Promise((e,t)=>{const a=Be?.transaction(Ke,"readwrite")?.objectStore(Ke)?.clear();a?.addEventListener("success",()=>{e()}),a?.addEventListener("error",()=>{t()})}),_r=async()=>{await di()},Ua=async e=>{const t=(await Fa()).reduce((o,i)=>(o[i.id]=i,o),{}),n={},a=Be?.transaction(Ke,"readwrite")?.objectStore(Ke);e.forEach(o=>{t[o.id]?t[o.id].updatedAt<o.updatedAt&&(n[o.id]=o):n[o.id]=o}),await Promise.all(Object.values(n).map(o=>{const i=a?.put(o);return new Promise((l,c)=>{i?.addEventListener("success",()=>{l()}),i?.addEventListener("error",()=>{c()})})}))},Hn=async e=>new Promise((t,n)=>{const o=Be?.transaction(Mt,"readwrite")?.objectStore(Mt)?.put({...e});o?.addEventListener("success",()=>{t()}),o?.addEventListener("error",()=>{n()})}),fi=()=>new Promise((e,t)=>{const r=Be?.transaction(Mt,"readonly")?.objectStore(Mt).getAll();r?.addEventListener("success",()=>{const a=r.result;e(a)}),r?.addEventListener("error",()=>{t()})});let V=x({initedDB:!1});const vi=()=>{b(V,{...s(V),initedDB:!0})},St=async e=>{b(V,{...s(V),account:e,notes:[],mapNotes:new Map})},ja=()=>s(V),Ln=async()=>{const e=await Fa(),t=new Map,n=[];e.forEach(r=>{n.push(r),t.set(r.id,r)}),b(V,{...s(V),notes:n,mapNotes:t})},Bt=()=>s(V).notes&&s(V).mapNotes,Ka=()=>s(V).notes||[],tc=()=>s(V).mapNotes||new Map,za=e=>{if(!s(V).notes||!s(V).mapNotes)throw new Error("Notes appState is not initialized");const t={...e};s(V).notes.push(t),s(V).mapNotes.set(t.id,t),b(V,{...s(V)})},qa=async e=>{if(!s(V).notes||!s(V).mapNotes)throw new Error("Notes appState is not initialized");s(V).notes.forEach((t,n)=>{t?.id===e.id&&s(V).notes&&(s(V).notes[n]=e)}),s(V).mapNotes.set(e.id,e),b(V,{...s(V)})},Va=async e=>{if(!s(V).notes||!s(V).mapNotes)throw new Error("Notes appState is not initialized");s(V).mapNotes.delete(e),s(V).notes=s(V).notes.filter(t=>t?.id!==e),b(V,{...s(V)})},Wa=async()=>{b(V,{...s(V),initedDB:!0,notes:[],mapNotes:new Map})};let Ya=x({});const Xa=()=>s(Ya),hi=e=>{b(Ya,e)};var gi=F('<input class="svelte-6l2oy0"/>');function Jn(e,t){W(t,!0);let n=te(t,"value",15,"");var r=gi();de(()=>_e(r,"placeholder",t.placeholder)),nn("focus",r,function(...a){t.onFocus?.apply(this,a)}),fr(r,n),k(e,r),Y()}function Ga(e,t){W(t,!0),pe(()=>{const n=r=>{r.target&&t.dialog?.open&&t.dialogInner&&t.dialogInner!==r.target&&!t.dialogInner.contains(r.target)&&t.onClose()};return document.addEventListener("mousedown",n,{capture:!0}),()=>{document.removeEventListener("mousedown",n,{capture:!0})}}),Y()}function pi(e,t){W(t,!0);let n=te(t,"dialog",7);const r=3,a=50,o=5,i=.6,l=.3,c=.35,u=.95;let d=0,v=0,f=0,h=!1,g=!1,p=0,_=0,m=0;const E=()=>{d=0,v=0,h=!1,g=!1,p=0,_=0,m=0,f=0,y!==null&&(cancelAnimationFrame(y),y=null),w=null};let y=null,w=null;const T=U=>{if(!n()){console.warn("Touch start: No dialog element");return}if(t.sidebarState!=="opened"&&t.sidebarState!=="closed"){console.warn(`Touch start: Invalid sidebar state: ${t.sidebarState}`);return}d=U.touches[0].clientX,v=U.touches[0].clientY,f=performance.now(),h=!0,g=!1},O=U=>t.sidebarState==="closed"&&U>0||t.sidebarState==="closeSwiping"&&U>0||t.sidebarState==="opened"&&U<0||t.sidebarState==="openSwiping"&&U<0,C=U=>{if(n()){if(n().style.setProperty("--transition-timing","0s"),!n().open&&t.sidebarState==="closed")try{n().showModal(),n().offsetWidth}catch(I){console.error("Error opening dialog:",I);return}t.onSwipe();try{const I=window.getComputedStyle(n()),A=I.transform||I.webkitTransform||"";if(_=n().offsetWidth,t.sidebarState==="closeSwiping"||t.sidebarState==="closed"?p=-_:(t.sidebarState==="openSwiping"||t.sidebarState==="opened")&&(p=0),A&&A!=="none")try{p=new DOMMatrix(A).m41}catch{console.warn("Could not parse transform matrix, using default position")}g=!0}catch(I){console.error("Error during swipe initialization:",I),E()}}},N=()=>{if(!n())return;const U=-(_*.27),I=-_;let A=0;const B=window.getComputedStyle(n()),K=B.transform||B.webkitTransform||"";if(K&&K!=="none")try{A=new DOMMatrix(K).m41}catch{A=0}const $=.25*Math.min(1,Math.max(0,(A-I)/(U-I)));n().style.setProperty("--backdrop-bg",`rgba(0, 0, 0, ${$})`)},G=()=>{if(y=null,!w||!h||!n()||hr())return;const{x:U,y:I}=w;w=null;const A=U-d,B=I-v,K=Math.abs(A)>Math.abs(B),Q=Math.abs(A)>r;if(!g)if(K&&Q&&O(A))try{C(A)}catch(fe){console.error("Error initializing swipe:",fe),E();return}else return;if(!O(A))return;n().style.setProperty("--transition-timing","0s");let P=p+A*u;const $=-_,z=-(_*.27);P=Math.max($,Math.min(z,P)),n().style.transform=`translate3d(${P}px, 0, 0)`,m=(P-p)/_*100,N()},ae=U=>{if(!h)return;const I=U.touches[0].clientX,A=U.touches[0].clientY;w={x:I,y:A},y===null&&(y=requestAnimationFrame(G)),g&&Math.abs(I-d)>Math.abs(A-v)&&U.preventDefault()},oe=U=>{const I=Math.abs(U);if(I>=i)return o;if(I>=l){const A=(I-l)/(i-l);return a-A*(a-o)}else return a},se=(U,I)=>{if(Math.abs(U)>=i)return c*.5;const B=Math.abs(m)/100;return I?c*Math.max(.5,1-B):c*Math.max(.5,B)},ne=U=>{if(y!==null&&(cancelAnimationFrame(y),y=null),w=null,!h||!n()){E();return}if(!g){E();return}let I=0;if(U?.changedTouches?.[0]){const P=U.changedTouches[0].clientX,z=performance.now()-f;z>0&&(I=(P-d)/z)}const A=oe(I);let B=null;t.sidebarState==="closeSwiping"?B=Math.abs(m)>A||I>l?"open":"close":t.sidebarState==="openSwiping"&&(B=Math.abs(m)>A||I<-l?"close":"open");const K=t.sidebarState==="closeSwiping"&&B==="open"||t.sidebarState==="openSwiping"&&B==="close",Q=se(I,K);n().style.setProperty("--transition-timing",`${Q}s`),n().offsetWidth,n().style.transform="",B==="open"?t.onOpen():B==="close"&&t.onClose(),n()?.style.removeProperty("--backdrop-bg"),E()};pe(()=>(document.addEventListener("touchstart",T,{passive:!0}),document.addEventListener("touchmove",ae,{passive:!1}),document.addEventListener("touchend",ne,{passive:!0}),document.addEventListener("touchcancel",ne,{passive:!0}),()=>{document.removeEventListener("touchstart",T),document.removeEventListener("touchmove",ae),document.removeEventListener("touchend",ne),document.removeEventListener("touchcancel",ne),y!==null&&cancelAnimationFrame(y)})),Y()}var mi=F('<dialog><div class="dialogInner svelte-1in1s0g"><!></div></dialog> <!> <!>',1);function _i(e,t){W(t,!0);let n=350,r=x(null),a=x(null),o=R(ya);Se(()=>{Aa().length>0&&st({type:"close"})});const i=()=>{t.blocked||st({type:"close"})},l=()=>{t.blocked||st({type:"open"})},c=()=>{st({type:"opened"})},u=()=>{st({type:"closed"})},d=()=>{st({type:"swipe"})},v=C=>{C.preventDefault(),i()};pe(()=>(s(r)?.addEventListener("close",u),s(r)?.addEventListener("cancel",v),()=>{s(r)?.removeEventListener("close",u),s(r)?.removeEventListener("cancel",v)}));const f=()=>{s(r)?.style.removeProperty("--transition-timing"),s(r)?.style.removeProperty("transform"),s(r)?.style.removeProperty("--backdrop-bg")},h=R(Ma);Se(()=>{if(s(o),!!s(r))switch(s(o).type){case"closeSwiping":{const C=setTimeout(()=>{i()},3e3);return()=>{clearTimeout(C)}}case"openSwiping":{const C=setTimeout(()=>{l()},3e3);return()=>{clearTimeout(C)}}case"opening":{s(r).open||s(r).showModal(),s(r).getBoundingClientRect();const C=setTimeout(()=>{f()},n+1),N=()=>{clearTimeout(C),f()};return s(r)?.addEventListener("transitionend",N,{once:!0}),c(),()=>{s(r)?.removeEventListener("transitionend",N)}}case"closing":{const C=setTimeout(()=>{s(o).type==="closing"&&u()},n+1),N=()=>{clearTimeout(C),u()};return s(r)?.addEventListener("transitionend",N,{once:!0}),()=>{s(r)?.removeEventListener("transitionend",N)}}case"closed":s(r)?.close(),f();break;case"opened":f();break}});var g=mi(),p=j(g),_=S(p),m=S(_);{var E=C=>{var N=ie(),G=j(N);Je(G,()=>t.children),k(C,N)};H(m,C=>{s(o).type!=="closed"&&C(E)})}Ue(_,C=>b(a,C),()=>s(a)),Ue(p,C=>b(r,C),()=>s(r));var y=L(p,2);{var w=C=>{Ga(C,{get dialog(){return s(r)},get dialogInner(){return s(a)},onClose:i})};H(y,C=>{s(o).type==="opened"&&!t.blocked&&C(w)})}var T=L(y,2);{var O=C=>{pi(C,{onClose:i,onOpen:l,onSwipe:d,get sidebarState(){return s(o).type},get dialog(){return s(r)}})};H(T,C=>{(!s(h)&&s(o).type==="closed"||s(o).type==="opened"||s(o).type==="openSwiping"||s(o).type==="closeSwiping")&&!t.blocked&&C(O)})}de(()=>Z(p,1,ee([{open:s(o).type==="opened",hidden:t.blocked,isAnimationOn:we.working&&(!we.isSwiping||!t.blocked)}]),"svelte-1in1s0g")),k(e,g),Y()}var wi=F('<button> <svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></button>');function gt(e,t){let n=R(()=>t.style==="selected"?"45deg":"0deg");var r=wi();r.__click=function(...i){t.onClick?.apply(this,i)};var a=S(r),o=L(a);ge(o,()=>({"--size":"20px","--rotate":s(n)})),he(o.lastChild,{name:"plus"}),de(()=>{_e(r,"type",t.type),Z(r,1,ee([{selectedTag:t.style==="selected"}]),"svelte-1uqucql"),qt(a,`${t.title??""} `)}),k(e,r)}De(["click"]);const yi=e=>{e.preventDefault(),je("settings")};var Si=F("<div></div>"),bi=F('<div class="sidebarFixed svelte-1y05y7k"><div class="nav svelte-1y05y7k"><!> <a class="link svelte-1y05y7k"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Settings</span></a></div> <div class="searchWrapper svelte-1y05y7k"><!></div> <!></div> <div></div>',1),Ei=F("<div></div>"),ki=F('<div class="sidebar svelte-1y05y7k"><div class="sidebarFixed svelte-1y05y7k"><div class="searchWrapper svelte-1y05y7k"><!></div> <!></div> <div class="tags svelte-1y05y7k"></div></div>');function Ti(e,t){W(t,!0);let n=x(null),r=x(""),a=R(()=>new URLSearchParams(D.search).get("selectedTags")?.split(",")||[]);const o=()=>{const p=Ve();p.includes("settings")||p.push("settings");const _=new URLSearchParams(D.search);return _.set("stackPages",p.join(",")),`${D.pathname}?${_}`},i=p=>{const _=new URLSearchParams(D.search);_.set("selectedTags",[...s(a),p].join(",")),yt(`${D.pathname}${_.size>0?`?${_.toString()}`:""}`),b(r,"")},l=p=>{const _=new URLSearchParams(D.search),m=s(a).filter(E=>E!==p);m.length===0?_.delete("selectedTags"):_.set("selectedTags",m.join(",")),yt(`${D.pathname}${_.size>0?`?${_.toString()}`:""}`)};let c=R(()=>Bt()?Object.values(Xa()).filter(p=>!s(a).some(_=>p.name===_)):[]),u=R(o),d=R(()=>Ve().length>0||Js());var v=ie(),f=j(v);{var h=p=>{_i(p,{get blocked(){return s(d)},children:(_,m)=>{var E=bi(),y=j(E),w=S(y),T=S(w);Sa(T,{});var O=L(T,2);O.__click=[yi];var C=S(O);ge(C,()=>({"--size":"20px"})),he(C.lastChild,{name:"settings"});var N=L(w,2),G=S(N);Jn(G,{placeholder:"Search tag",get value(){return s(r)},set value(ne){b(r,ne,!0)}});var ae=L(N,2);{var oe=ne=>{var U=Si();Z(U,1,ee(["tags","selectedTags"]),"svelte-1y05y7k"),lt(U,20,()=>s(a),I=>I,(I,A)=>{gt(I,{get title(){return A},onClick:()=>l(A),style:"selected"})}),Ue(U,I=>b(n,I),()=>s(n)),k(ne,U)};H(ae,ne=>{s(a).length>0&&ne(oe)})}var se=L(y,2);Z(se,1,ee(["tags","tagsWrapper"]),"svelte-1y05y7k"),lt(se,21,()=>s(c),ne=>ne.name,(ne,U)=>{var I=ie(),A=j(I);{var B=K=>{gt(K,{get title(){return s(U).name},onClick:()=>i(s(U).name)})};H(A,K=>{(s(r)===""||s(U).name.toLowerCase().indexOf(s(r).toLowerCase())!==-1)&&K(B)})}k(ne,I)}),de(ne=>{_e(O,"href",s(u)),yn(se,`min-height: height: calc(100dvh - 190px - ${ne??""}px);`)},[()=>s(n)?s(n).getBoundingClientRect().height:0]),k(_,E)},$$slots:{default:!0}})},g=p=>{var _=ki(),m=S(_),E=S(m),y=S(E);Jn(y,{placeholder:"Search tag",get value(){return s(r)},set value(C){b(r,C,!0)}});var w=L(E,2);{var T=C=>{var N=Ei();Z(N,1,ee(["tags","selectedTags"]),"svelte-1y05y7k"),lt(N,20,()=>s(a),G=>G,(G,ae)=>{gt(G,{get title(){return ae},onClick:()=>l(ae),style:"selected"})}),k(C,N)};H(w,C=>{s(a).length>0&&C(T)})}var O=L(m,2);lt(O,21,()=>s(c),C=>C.name,(C,N)=>{var G=ie(),ae=j(G);{var oe=se=>{gt(se,{get title(){return s(N).name},onClick:()=>i(s(N).name)})};H(ae,se=>{(s(r)===""||s(N).name.toLowerCase().indexOf(s(r).toLowerCase())!==-1)&&se(oe)})}k(C,G)}),k(p,_)};H(f,p=>{Vt()?p(h):p(g,!1)})}k(e,v),Y()}De(["click"]);function Ci(e){const t=String.fromCharCode(...new Uint8Array(e));return window.btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function Li(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");const n=t.length%4;return n&&(t+="=".repeat(4-n)),t}function Ai(e){try{const t=atob(e),n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n.buffer}catch(t){throw console.error("Error decoding base64:",t,"Input:",e),t}}function Un(e){const t=Li(e);return Ai(t)}const Pi=async e=>{const t=await crypto.subtle.importKey("raw",e.serverKey,{name:"HKDF"},!1,["deriveKey"]),n=await crypto.subtle.deriveKey({name:"HKDF",salt:e.id,info:new TextEncoder().encode("aes-gcm-shared"),hash:"SHA-256"},t,{name:"AES-GCM",length:256},!1,["encrypt"]);return{encryptedClientKey:await crypto.subtle.encrypt({name:"AES-GCM",iv:new Uint8Array(12)},n,e.clientKey)}},Di=async e=>{const t=await crypto.subtle.importKey("raw",e.serverKey,{name:"HKDF"},!1,["deriveKey"]),n=await crypto.subtle.deriveKey({name:"HKDF",info:new TextEncoder().encode("aes-gcm-shared"),hash:"SHA-256"},t,{name:"AES-GCM",length:256},!1,["decrypt"]),r=await crypto.subtle.decrypt({name:"AES-GCM",iv:new Uint8Array(12)},n,e.encryptedClientKey);return new Uint8Array(r)};function xi(e,t){const n=new ArrayBuffer(e.length+t.length),r=new Uint8Array(n);return r.set(e,0),r.set(t,e.length),n}const Ni=async e=>{const t=await crypto.subtle.importKey("raw",xi(e.clientKey,e.serverKey),{name:"HKDF"},!1,["deriveKey"]);return await crypto.subtle.deriveKey({name:"HKDF",info:new TextEncoder().encode("aes-gcm-shared"),hash:"SHA-256"},t,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])},Oi=async(e,t)=>{const n=JSON.parse(e),a=new Uint8Array(n).buffer,o=await crypto.subtle.decrypt({name:"AES-GCM",iv:new Uint8Array(12)},t,a);return new TextDecoder().decode(o)},Mi=async(e,t)=>{const r=await(await fetch("/api/serverKey",{method:"POST"})).json(),a=await Di({encryptedClientKey:Un(e.encryptedClientKey),serverKey:Un(r.serverKey)});return{commonKey:await Ni({clientKey:a,serverKey:new Uint8Array(Un(t))})}};class Ii{constructor(){ft(this,"queue",[]);ft(this,"commonKey",null);ft(this,"status","idle");ft(this,"ws",null)}async saveNewRecords(t,n){const r=await Promise.all(n.records.map(async o=>{if(this.commonKey===null)throw new Error("Common key is not initialized");const i=await Oi(o.data,this.commonKey),l=JSON.parse(i);return{id:o.id,url:l.url,title:l.title,description:l.description,tags:l.tags,createdAt:l.createdAt,updatedAt:l.updatedAt}}));if(await Ua(r),(await fetch("/api/sync/finish",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({lastLogId:n.lastLogId})})).status===200){await Ln();const o={...t,lastSync:Date.now(),lastLogId:n.lastLogId};St(o),mr(o)}}connect(){}mergeLogNotes(t,n){const r={};return t.forEach(a=>{r[a.id]=a}),n.forEach(a=>{r[a.id]?r[a.id].createdAt<a.createdAt&&(r[a.id]=a):r[a.id]=a}),Object.values(r)}async start(){const t=await fi();this.queue=this.mergeLogNotes(this.queue,t);const n=async()=>{const r=ja().account;if(r){if(!navigator.onLine){setTimeout(n,5e3);return}if(!this.commonKey){const o=await(await fetch("/api/serverKey",{method:"POST"})).json(),{commonKey:i}=await Mi(r,o.serverKey);this.commonKey=i}this.status==="idle"&&(this.status="sync",this.connect()),this.ws?.send(JSON.stringify({type:"sync"}))}};n()}async putNote(t){const n={id:Jt(),operation:"put",recordId:t.id,createdAt:Date.now(),data:JSON.stringify({...t})};await Hn(n),this.queue.push(n)}async delNote(t){const n={id:Jt(),operation:"del",recordId:t,createdAt:Date.now()};await Hn(n),this.queue.push(n)}async delAll(){const t={id:Jt(),operation:"delAll",createdAt:Date.now()};await Hn(t),this.queue.push(t)}}const Zn=(e,t,n,r=new Set,a={})=>{for(const o of e.children)if(o.tagName==="DT"){const i=o.querySelector(":scope > A"),l=o.querySelector(":scope > H3");if(i){const c=i.getAttribute("href"),u=i.textContent||"unknown";if(!c)return n;const d=t.find(v=>v.toLowerCase()==="bookmarks bar")?t.filter(v=>v.toLowerCase()!=="bookmarks bar"):["other"];if(a[c])a[c].tags=[...new Set([...a[c].tags,...d])];else{const v={id:Jt(),url:c,title:u,description:"",tags:d.length>0?d:[],updatedAt:Date.now(),createdAt:Date.now()};a[v.url]=v,n.push(v)}}else if(l){const c=l.textContent?.trim();if(c&&l.nextElementSibling?.tagName==="DL"){const u=[...t];u.push(c);const d=l.nextElementSibling;r.has(d)||(r.add(d),Zn(d,u,n,r,a))}}}else o.tagName!=="DL"&&o.children.length>0&&(r.has(o)||(r.add(o),Zn(o,[...t],n,r,a)));return n},nc=async e=>{const t=await e.text(),a=new DOMParser().parseFromString(t,"text/html").querySelector("DL");return a?Zn(a,[],[]):[]},rc=e=>{const t=Math.floor(Date.now()/1e3),n={};e.forEach(a=>{const o=a.tags||["Imported"];if(o.length===0){n.ROOT||(n.ROOT=[]),n.ROOT.push(a);return}o.forEach(i=>{n[i]||(n[i]=[]),n[i].push(a)})});let r=`<!DOCTYPE NETSCAPE-Note-file-1>
<!-- This is an automatically generated file.
 It will be read and overwritten.
 DO NOT EDIT! -->
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8">
<TITLE>notes</TITLE>
<H1>notes</H1>
<DL><p>
<DT><H3 ADD_DATE="${t}" LAST_MODIFIED="${t}" PERSONAL_TOOLBAR_FOLDER="true">notes Bar</H3>
<DL><p>`;return Object.keys(n).forEach(a=>{a!=="ROOT"&&a!=="other"&&(r+=`
	<DT><H3 ADD_DATE="${t}" LAST_MODIFIED="${t}">${a}</H3>
	<DL><p>`,n[a].forEach(o=>{const i=o.title.replace(/"/g,"&quot;");r+=`
		<DT><A HREF="${o.url}" ADD_DATE="${Math.floor(o.createdAt/1e3)||t}">${i}</A>`}),r+=`
	</DL><p>`)}),n.ROOT&&n.ROOT.forEach(a=>{const o=a.title.replace(/"/g,"&quot;");r+=`
	<DT><A HREF="${a.url}" ADD_DATE="${Math.floor(a.createdAt/1e3)||t}">${o}</A>`}),r+=`
</DL><p>`,n.other&&n.other.forEach(a=>{const o=a.title.replace(/"/g,"&quot;");r+=`
	<DT><A HREF="${a.url}" ADD_DATE="${Math.floor(a.createdAt/1e3)||t}">${o}</A>`}),r+="</DL><p>",r};async function wr(){if(navigator.storage&&navigator.storage.persist)try{await navigator.storage.persisted()||await navigator.storage.persist()}catch{console.error("")}}const dt=new BroadcastChannel("app"),Et=new Ii;dt.addEventListener("message",async e=>{if(console.log("Received message from BroadcastChannel:",e.data),e.data&&typeof e.data=="string"){const t=JSON.parse(e.data);if(t.operation==="addNote"){const n=t.note;za(n)}else if(t.operation==="updateNote"){const n=t.note;qa(n)}else if(t.operation==="deleteNote"){const n=t.noteId;Va(n)}else if(t.operation==="clearAppState")Wa();else if(t.operation==="reloadNotes")Ln();else if(t.operation==="initLocalAccount")St(null),Xn(),yt("/");else if(t.operation==="initAccount"){const n=await Ra();n&&(St(n),Xn(),yt("/"),Et.start())}}});ci().then(async()=>{vi();const e=await Ra();e===void 0?je("start"):(js("start")&&(Xn(),yt("/")),e?(St(e),await wr(),Et.start()):St(null),await Ln())}).catch(()=>{console.error("failed to init db")});const Bi=async e=>{const t={...e,id:Jt(),createdAt:Date.now(),updatedAt:Date.now()};za(t),dt.postMessage(JSON.stringify({operation:"addNote",note:{...t}})),await Ha({...t}),Et.putNote({...t})},Ri=async e=>{const t={...e,updatedAt:Date.now()};dt.postMessage(JSON.stringify({operation:"updateNote",note:t})),qa(t),await Ha(t),Et.putNote({...t})},Fi=async e=>{dt.postMessage(JSON.stringify({operation:"deleteNote",noteId:e})),Va(e),await ui(e),Et.delNote(e)},ac=async()=>{dt.postMessage(JSON.stringify({operation:"clearAppState"})),Wa(),await _r(),Et.delAll()},oc=async(e="notes-export.json")=>{const t=JSON.stringify({notes:ja().notes}),n=new Blob([t],{type:"application/json"}),r=URL.createObjectURL(n),a=document.createElement("a");a.href=r,a.download=e,document.body.appendChild(a),a.click(),setTimeout(()=>{document.body.removeChild(a),URL.revokeObjectURL(r)},0)},sc=async e=>{await Ua(e),dt.postMessage(JSON.stringify({operation:"reloadNotes"})),await Ln()},Hi=async()=>{await _r(),await wr(),await mr(null),St(null),dt.postMessage(JSON.stringify({operation:"initLocalAccount"}))},ic=async e=>{await _r(),await wr();const{encryptedClientKey:t}=await Pi({id:e.credentialId,clientKey:e.clientKey,serverKey:e.serverKey}),n={encryptedClientKey:Ci(t),lastLogId:-1,lastSync:-1};await mr(n),St(n),dt.postMessage(JSON.stringify({operation:"initAccount"})),Et.start()};var Ui=F('<div class="input-container svelte-hz572l"><input/> <div class="error-message svelte-hz572l"><!></div></div>');function jn(e,t){W(t,!0);let n=te(t,"value",15,""),r=te(t,"error",3,"");var a=Ui(),o=S(a);o.__input=function(...d){t.onInput?.apply(this,d)};let i;var l=L(o,2),c=S(l);{var u=d=>{var v=qe();de(()=>qt(v,r())),k(d,v)};H(c,d=>{r()&&d(u)})}de(d=>{_e(o,"placeholder",t.placeholder),i=Z(o,1,"svelte-hz572l",null,i,d)},[()=>({error:!!r()})]),nn("blur",o,function(...d){t.onBlur?.apply(this,d)}),nn("focus",o,function(...d){t.onFocus?.apply(this,d)}),fr(o,n),k(e,a),Y()}De(["input"]);var ji=F("<div></div>"),Ki=F('<form class="svelte-tcgkvd"><!> <!> <textarea placeholder="notes" class="svelte-tcgkvd"></textarea> <div class="boxtags"><div class="sidebarFixed"><!></div> <div class="tags svelte-tcgkvd"><!> <!></div> <div class="searchWrapper svelte-tcgkvd"><!></div></div> <button class="buttonSubmit svelte-tcgkvd" type="submit"> </button></form>');function Ja(e,t){W(t,!0);let n=te(t,"initialTitle",3,""),r=te(t,"initialUrl",3,""),a=te(t,"initialDescription",3,""),o=te(t,"initialTags",19,()=>[]),i=te(t,"mode",3,"add"),l=x(""),c=x(ve(n())),u=x(ve(r())),d=x(ve(a())),v=x(ve(o().filter(P=>P!=="inbox")));const f=P=>{s(v).includes(P)||b(v,[...s(v),P],!0)},h=P=>{const $=s(v).filter(z=>z!==P);$.length===0?b(v,[],!0):b(v,$,!0)};let g=R(()=>Bt()?[...Ka().reduce((P,$)=>($?.tags.forEach(z=>{P.has(z)||P.add(z)}),P),new Set)]:[]),p=R(()=>Bt()?s(g).filter(P=>!s(v).some($=>P===$)&&P!=="inbox"):[]),_=R(()=>s(p).find(P=>P.toLowerCase()===s(l).toLowerCase())||s(v).includes(s(l))),m=R(()=>s(p).filter(P=>s(l)===""?!0:P.toLowerCase().indexOf(s(l).toLowerCase())!==-1).slice(0,s(_)||s(l)===""?3:2));const E=P=>{P.preventDefault(),t.onSubmit({title:s(c).trim().slice(0,256)||"unkwown",url:s(u).trim().slice(0,2048),description:s(d).trim().slice(0,2048),tags:s(v).length>0?s(v):["inbox"]})};var y=Ki(),w=S(y);jn(w,{placeholder:"url",get value(){return s(u)},set value(P){b(u,P,!0)}});var T=L(w,2);jn(T,{placeholder:"title",get value(){return s(c)},set value(P){b(c,P,!0)}});var O=L(T,2),C=L(O,2),N=S(C),G=S(N);{var ae=P=>{var $=ji();Z($,1,ee(["tags","selectedTags"]),"svelte-tcgkvd"),lt($,20,()=>s(v),z=>z,(z,fe)=>{gt(z,{get title(){return fe},onClick:()=>h(fe),type:"button",style:"selected"})}),k(P,$)};H(G,P=>{s(v).length>0&&P(ae)})}var oe=L(N,2),se=S(oe);{var ne=P=>{var $=ie(),z=j($);lt(z,16,()=>s(m),fe=>fe,(fe,be)=>{gt(fe,{get title(){return be},onClick:()=>f(be)})}),k(P,$)};H(se,P=>{s(l)!==""&&P(ne)})}var U=L(se,2);{var I=P=>{gt(P,{get title(){return s(l)},onClick:()=>{f(s(l)),b(l,"")}})};H(U,P=>{!s(_)&&s(l)!==""&&P(I)})}var A=L(oe,2),B=S(A);jn(B,{placeholder:"search tag",get value(){return s(l)},set value(P){b(l,P,!0)}});var K=L(C,2),Q=S(K);de(()=>qt(Q,i()==="add"?"add":"edit")),nn("submit",y,E),fr(O,()=>s(d),P=>b(d,P)),k(e,y),Y()}function zi(e,t){W(t,!0);let n=x(!0);const r=()=>{t.onClose()},a=()=>{b(n,!1)},o=({title:i,url:l,description:c,tags:u})=>{Ri({...t.note,title:i,url:l,description:c,tags:u.map(d=>d.trim())}),a()};Ia(e,{get shownDialog(){return s(n)},onClose:r,children:(i,l)=>{Ja(i,{get initialTitle(){return t.note.title},get initialUrl(){return t.note.url},get initialDescription(){return t.note.description},get initialTags(){return t.note.tags},onSubmit:o,mode:"edit"})},$$slots:{default:!0}}),Y()}var qi=F('<dialog><div class="dialogInner svelte-w3h659"><!></div></dialog> <!>',1);function Za(e,t){W(t,!0);let n=x(null),r=x(null),a=x(!1);const o=()=>{const f=setTimeout(()=>{t.onClosed()},150);s(n)?.addEventListener("transitionend",()=>{clearTimeout(f),t.onClosed()},{once:!0}),b(a,!1)};Se(()=>{t.startClose&&o()}),pe(()=>{s(n)?.showModal(),s(n)?.getClientRects(),b(a,!0)}),pe(()=>(xa(),()=>{Na()}));var i=qi(),l=j(i),c=S(l),u=S(c);Je(u,()=>t.children),Ue(c,f=>b(r,f),()=>s(r)),Ue(l,f=>b(n,f),()=>s(n));var d=L(l,2);{var v=f=>{Ga(f,{get dialog(){return s(n)},get dialogInner(){return s(r)},onClose:o})};H(d,f=>{s(n)&&s(r)&&f(v)})}de(()=>Z(l,1,ee(["dialog",{shown:s(a)}]),"svelte-w3h659")),k(e,i),Y()}var Vi=F("<div><!></div>");function Qa(e,t){W(t,!0);let n=x(!1),r=x(null);const a=()=>{const u=setTimeout(()=>{t.onClosed()},150);s(r)?.addEventListener("transitionend",()=>{clearTimeout(u),t.onClosed()},{once:!0}),b(n,!1)},o=u=>{u.target!==s(r)&&!s(r)?.contains(u.target)&&a()},i=u=>{u.target!==s(r)&&!s(r)?.contains(u.target)&&a()};pe(()=>{s(r)?.getClientRects(),b(n,!0);const u=setTimeout(()=>{document.addEventListener("focusin",o),document.addEventListener("click",i)},0);return()=>{clearTimeout(u),document.removeEventListener("focusin",o),document.removeEventListener("click",i)}}),Se(()=>{t.startClose&&a()});var l=Vi(),c=S(l);Je(c,()=>t.children),Ue(l,u=>b(r,u),()=>s(r)),de(()=>Z(l,1,ee(["menu",{top:t.positionTop,shown:s(n)}]),"svelte-1ljsfcr")),k(e,l),Y()}const Wi=(e,t,n)=>{const r=Xa();t.note.tags.forEach(a=>{if(s(n).includes(a)&&r[a].connections===1){const o=new URLSearchParams(D.search),i=s(n).filter(l=>l!==a);i.length===0?o.delete("selectedTags"):o.set("selectedTags",i.join(",")),Us(`${D.pathname}${o.size>0?`?${o.toString()}`:""}`)}}),Fi(t.note.id)},Yi=(e,t,n)=>{b(t,!0),b(n,!0)};var Xi=F('<div class="menu svelte-xxw0l"><div><button>Edit</button></div> <div><button>Delete</button></div></div>'),Gi=F('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),Ji=F("<!> <!>",1);function Zi(e,t){W(t,!0);const n=(p,_=xt)=>{var m=Xi(),E=S(m),y=S(E);y.__click=[Yi,o,a];var w=L(E,2),T=S(w);T.__click=[Wi,t,l],de(()=>{Z(y,1,ee(["button",{buttonMenuDialog:_()}]),"svelte-xxw0l"),Z(T,1,ee(["button",{buttonMenuDialog:_()}]),"svelte-xxw0l")}),k(p,m)};let r=te(t,"shownMenu",15),a=x(!1),o=x(!1),i=R(Vt),l=R(()=>new URLSearchParams(D.search).get("selectedTags")?.split(",")||[]);const c=()=>{b(a,!1)},u=()=>{r(!1),b(o,!1)};var d=Ji(),v=j(d);{var f=p=>{var _=ie(),m=j(_);{var E=w=>{Za(w,{get startClose(){return s(o)},onClosed:u,children:(T,O)=>{n(T,()=>!0)},$$slots:{default:!0}})},y=w=>{var T=Gi(),O=j(T);ge(O,()=>({"--bottom":"-180%","--right":"30px"})),Qa(O.lastChild,{get startClose(){return s(o)},get positionTop(){return t.showMenuUp},onClosed:u,children:(C,N)=>{n(C,()=>!1)},$$slots:{default:!0}}),k(w,T)};H(m,w=>{s(i)?w(E):w(y,!1)})}k(p,_)};H(v,p=>{r()&&p(f)})}var h=L(v,2);{var g=p=>{zi(p,{get note(){return t.note},onClose:c})};H(h,p=>{s(a)&&p(g)})}k(e,d),Y()}De(["click"]);const Qi=(e,t,n)=>{t.showMenuUp||b(n,!0)},$i=(e,t)=>{navigator.clipboard.writeText(t.note.url),As("Link copied to clipboard")},el=(e,t)=>{b(t,!0)},tl=(e,t)=>{b(t,!1)};var nl=F('<li class="note svelte-11sazhi"><img loading="lazy" class="noteIcon" height="16" width="16" alt="icon"/> <a class="noteLink svelte-11sazhi" target="_blank" rel="noopener noreferrer"> </a> <div class="spacer svelte-11sazhi"></div> <div><button class="button svelte-11sazhi"><!> <!></button> <button><!> <!></button> <!></div></li>');function rl(e,t){W(t,!0);let n=x(!1),r=x(!1);const a=m=>{try{return`https://external-content.duckduckgo.com/ip3/${new URL(m).host}.ico`}catch{return""}};var o=nl();o.__focusin=[el,n],o.__focusout=[tl,n];var i=S(o),l=L(i,2),c=S(l),u=L(l,4),d=S(u);d.__click=[$i,t];var v=S(d);he(v,{name:"copy"});var f=L(v,2);Ot(f,{children:(m,E)=>{var y=qe("copy link");k(m,y)}});var h=L(d,2);h.__click=[Qi,t,r],Z(h,1,ee(["button","buttonMenu"]),"svelte-11sazhi");var g=S(h);he(g,{name:"menu"});var p=L(g,2);Ot(p,{children:(m,E)=>{var y=qe("show menu");k(m,y)}});var _=L(h,2);Zi(_,{get note(){return t.note},get showMenuUp(){return t.showMenuUp},get shownMenu(){return s(r)},set shownMenu(m){b(r,m,!0)}}),de(m=>{_e(i,"src",m),_e(l,"tabindex",t.focusHidden?-1:0),_e(l,"href",t.note.url),qt(c,t.note.title),Z(u,1,ee(["noteMenuWrapper",{noteMenuWrapperActive:s(n)}]),"svelte-11sazhi"),_e(d,"tabindex",t.focusHidden?-1:0),_e(h,"tabindex",t.focusHidden?-1:0)},[()=>a(t.note.url)]),k(e,o),Y()}De(["focusin","focusout","click"]);const Qn=ve({ref:null}),al=(e,t)=>{s(t)||b(t,!0)};var ol=(e,t)=>t("newest"),sl=(e,t)=>t("oldest"),il=(e,t)=>t("AtoZ"),ll=(e,t)=>t("ZtoA"),cl=F("<div><button>Newest</button> <button>Oldest</button> <button>A to Z</button> <button>Z to A</button></div>"),ul=F('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),dl=F('<div class="orderMenu svelte-16tnh9z"><button><!> <!></button> <!></div>');function fl(e,t){W(t,!0);const n=(p,_=xt)=>{var m=cl(),E=S(m);E.__click=[ol,l];var y=L(E,2);y.__click=[sl,l];var w=L(y,2);w.__click=[il,l];var T=L(w,2);T.__click=[ll,l],de(()=>{Z(m,1,ee(["menu",{menuDialog:_()}]),"svelte-16tnh9z"),Z(E,1,ee(["menuButton",{menuButtonDialog:_(),current:s(i)==="newest"}]),"svelte-16tnh9z"),Z(y,1,ee(["menuButton",{menuButtonDialog:_(),current:s(i)==="oldest"}]),"svelte-16tnh9z"),Z(w,1,ee(["menuButton",{menuButtonDialog:_(),current:s(i)==="AtoZ"}]),"svelte-16tnh9z"),Z(T,1,ee(["menuButton",{menuButtonDialog:_(),current:s(i)==="ZtoA"}]),"svelte-16tnh9z")}),k(p,m)};let r=x(!1),a=x(!1),o=R(Vt),i=R(Ea);const l=p=>{b(a,!0),Rs(p)},c=()=>{b(r,!1),b(a,!1)};var u=dl(),d=S(u);d.__click=[al,r],Z(d,1,ee(["button","buttonMenu"]),"svelte-16tnh9z");var v=S(d);he(v,{name:"filter"});var f=L(v,2);Ot(f,{children:(p,_)=>{var m=qe("show feed order menu");k(p,m)}});var h=L(d,2);{var g=p=>{var _=ie(),m=j(_);{var E=w=>{Za(w,{get startClose(){return s(a)},onClosed:c,children:(T,O)=>{n(T,()=>!0)},$$slots:{default:!0}})},y=w=>{var T=ul(),O=j(T);ge(O,()=>({"--right":"20px","--top":"60px"})),Qa(O.lastChild,{get startClose(){return s(a)},onClosed:c,children:(C,N)=>{n(C,()=>!1)},$$slots:{default:!0}}),k(w,T)};H(m,w=>{s(o)?w(E):w(y,!1)})}k(p,_)};H(h,p=>{s(r)&&p(g)})}k(e,u),Y()}De(["click"]);var vl=F('<div class="loader svelte-1ygr46m"></div>');function hl(e){var t=vl();k(e,t)}var gl=F("<a><!></a>"),pl=F('<button type="button"><!></button>');function Rt(e,t){let n=te(t,"type",3,"standard"),r=te(t,"element",3,"button"),a=te(t,"href",3,""),o=te(t,"fullWidth",3,!1);var i=ie(),l=j(i);{var c=d=>{var v=gl();v.__click=function(...h){t.onClick?.apply(this,h)};var f=S(v);Je(f,()=>t.children??xt),de(()=>{_e(v,"href",a()),Z(v,1,ee(["button","a",{dangerous:n()==="dangerous",secondary:n()==="secondary",fullWidth:o()}]),"svelte-10pcz5t")}),k(d,v)},u=d=>{var v=pl();v.__click=function(...h){t.onClick?.apply(this,h)};var f=S(v);Je(f,()=>t.children??xt),de(()=>Z(v,1,ee(["button",{dangerous:n()==="dangerous",secondary:n()==="secondary",fullWidth:o()}]),"svelte-10pcz5t")),k(d,v)};H(l,d=>{r()==="a"?d(c):d(u,!1)})}k(e,i)}De(["click"]);const ml=(e,t)=>{s(t)&&s(t).scrollTo({top:0,behavior:"smooth"})};var _l=F('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Add note</span>',1),wl=F('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span style="padding-left: 6px;">Import data</span>',1),yl=F('<div class="emptyStore svelte-1deev2k"><div class="wrapperButtonsAdd svelte-1deev2k"><!></div> <div>or</div> <div class="wrapperButtonsAdd svelte-1deev2k"><!></div></div>'),Sl=F('<div class="emptyMessage svelte-1deev2k">No notes found</div>'),bl=F('<div class="feed svelte-1deev2k"><ul class="svelte-1deev2k"></ul></div>'),El=F('<div class="wrapperButtonTop svelte-1deev2k"><button class="buttonTop svelte-1deev2k"><!> <svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></button></div>'),kl=F('<div class="filter svelte-1deev2k"><div class="searchWrapper svelte-1deev2k"><!></div> <!></div> <div class="wrapperFeed svelte-1deev2k"><div class="wrapperContainer svelte-1deev2k"><!></div></div> <!>',1);function Tl(e,t){W(t,!0);let n=x(null),r=50,a=x(0),o=x(0),i=x(0),l=x(ve([])),c=x(""),u=R(()=>Vt()?s(n):Qn.ref),d=null,v=null,f=x(!1),h=0;const g=R(Fs);Se(()=>{s(c),s(g),s(E),s(u)?.scrollTo(0,0)});const p=()=>{if(s(u)){const M=s(u).scrollTop||0;M===0?b(f,!1):!s(f)&&h>M?b(f,!0):s(f)&&h<M&&b(f,!1),h=M}},_=()=>{Oa(),d||(d=requestAnimationFrame(()=>{p();const M=s(u)?.scrollTop||0;b(i,M,!0);const q=Math.ceil(s(a)/r);b(o,Math.floor(M/(r*q))*(r*q)),d=null}))},m=()=>{v||(v=requestAnimationFrame(()=>{p(),b(a,window.innerHeight-180||0,!0);const M=s(u)?.scrollTop||0;b(i,M,!0);const q=Math.ceil(s(a)/r);b(o,Math.floor(M/(r*q))*(r*q)),v=null}))};pe(()=>{m(),_()}),Se(()=>(s(u)?.addEventListener("scroll",_),window.addEventListener("resize",m),()=>{s(u)?.removeEventListener("scroll",_),window.removeEventListener("resize",m)}));const E=R(Ea);let y=R(Ka);Se(()=>{const M=[],q={};for(let le=s(y).length-1;le>=0;le--){const J=s(y)[le];if(J&&!(s(g).length&&s(g).some(ce=>!J.tags.includes(ce)))&&!(s(c)&&!(J.title.toLowerCase().includes(s(c).toLowerCase())||J.url.toLowerCase().includes(s(c).toLowerCase())||J.description.toLowerCase().includes(s(c).toLowerCase())))){if(J.tags)for(const ce of J.tags)q[ce]?q[ce].connections++:q[ce]={name:ce,connections:1};M.push(J)}}hi(q),M.sort((le,J)=>{if(!le||!J)return 0;switch(s(E)){case"newest":return le.createdAt>J.createdAt?-1:1;case"oldest":return le.createdAt<J.createdAt?-1:1;case"AtoZ":return le.title.localeCompare(J.title);case"ZtoA":return J.title.localeCompare(le.title);default:return 0}}),b(l,M,!0)});const w=R(()=>s(l).length*r);let O=R(()=>{const M=Math.ceil(s(a)/r);let q=Math.floor(s(o)/r);return q=q-Math.min(q,M),s(l).slice(q,q+M*3)}),C=R(()=>r*Math.ceil(s(a)/r));const N=R(()=>s(o)-Math.min(s(o),s(C))),G=()=>{s(u)&&s(u).scrollTo({top:0,behavior:"smooth"})},ae=()=>{const M=Ve();M.includes("import")||M.push("import");const q=new URLSearchParams(D.search);return q.set("stackPages",M.join(",")),`${D.pathname}?${q}`};let se=R(()=>{const M=Ve();M.includes("newNote")||M.push("newNote");const q=new URLSearchParams(D.search);return q.set("stackPages",M.join(",")),`${D.pathname}?${q}`}),ne=R(ae);const U=M=>{M.preventDefault(),je("newNote")},I=M=>{M.preventDefault(),je("import")};var A=kl(),B=j(A),K=S(B),Q=S(K);Jn(Q,{onFocus:G,placeholder:"Search",get value(){return s(c)},set value(M){b(c,M,!0)}});var P=L(K,2);fl(P,{});var $=L(B,2),z=S($),fe=S(z);{var be=M=>{hl(M)},rt=(M,q)=>{{var le=ce=>{var Ce=yl(),Ne=S(Ce),Ee=S(Ne);Rt(Ee,{element:"a",get href(){return s(se)},onClick:U,children:(We,Te)=>{var ze=_l(),Le=j(ze);ge(Le,()=>({"--size":"24px","--color":"#b0b0b0"})),he(Le.lastChild,{name:"plus"}),k(We,ze)},$$slots:{default:!0}});var ke=L(Ne,4),Oe=S(ke);Rt(Oe,{element:"a",get href(){return s(ne)},onClick:I,children:(We,Te)=>{var ze=wl(),Le=j(ze);ge(Le,()=>({"--size":"18px","--color":"#b0b0b0"})),he(Le.lastChild,{name:"import"}),k(We,ze)},$$slots:{default:!0}}),k(ce,Ce)},J=(ce,Ce)=>{{var Ne=ke=>{var Oe=Sl();k(ke,Oe)},Ee=ke=>{var Oe=bl(),We=S(Oe);lt(We,23,()=>s(O),Te=>Te.id,(Te,ze,Le)=>{const at=R(()=>s(Le)*r<s(i)-s(N)-r/2||s(Le)*r>s(i)-s(N)+Math.floor(s(a)/r)*r),Wt=R(()=>(s(Le)+3)*r<s(i)-s(N)-r/2||(s(Le)+3)*r>s(i)-s(N)+Math.floor(s(a)/r)*r);rl(Te,{get focusHidden(){return s(at)},get showMenuUp(){return s(Wt)},get note(){return s(ze)}})}),de(Te=>{yn(Oe,`min-height: ${Te??""}px`),yn(We,`transform: translateY(${s(N)??""}px);`)},[()=>Math.max((s(w)>s(a),s(w)),0)]),k(ke,Oe)};H(ce,ke=>{s(O).length===0?ke(Ne):ke(Ee,!1)},Ce)}};H(M,ce=>{s(y).length===0?ce(le):ce(J,!1)},q)}};H(fe,M=>{Bt()?M(rt,!1):M(be)})}Ue(z,M=>b(n,M),()=>s(n));var Ze=L($,2);{var xe=M=>{var q=El(),le=S(q);le.__click=[ml,u];var J=S(le);Ot(J,{children:(Ce,Ne)=>{var Ee=qe("top");k(Ce,Ee)}});var ce=L(J,2);ge(ce,()=>({"--size":"22px"})),he(ce.lastChild,{name:"up"}),k(M,q)};H(Ze,M=>{s(f)&&M(xe)})}k(e,A),Y()}De(["click"]);var Cl=F('<!> <div class="content svelte-cu0ar8"><!></div>',1);function Ll(e){var t=Cl(),n=j(t);Ti(n,{});var r=L(n,2),a=S(r);Tl(a,{}),k(e,t)}var vt=(e=>(e.Light="light",e.System="system",e.Dark="dark",e))(vt||{});let $a=x(ve(localStorage.getItem("colorScheme")||"system"));const Al=e=>{localStorage.setItem("colorScheme",e),e==="system"?window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.dataset.colorScheme="dark":document.documentElement.dataset.colorScheme="light":document.documentElement.dataset.colorScheme=e,b($a,e,!0)},Pl=()=>s($a);var Dl=F('<div class="wrapper svelte-1elv5s4"><fieldset class="switcher svelte-1elv5s4"><legend class="vh svelte-1elv5s4">Color Scheme</legend> <input id="light" type="radio" aria-label="Light"/> <label for="light" title="Light" aria-label="Light"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <input id="system" type="radio" aria-label="System"/> <label for="system" title="System" aria-label="System"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <input id="dark" type="radio" aria-label="Dark"/> <label for="dark" title="Dark" aria-label="Dark"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <div class="wrapSwitcherStatus svelte-1elv5s4"><div class="switcherStatus svelte-1elv5s4"></div></div></fieldset></div>');function xl(e,t){W(t,!0);const n=R(Pl),r=_=>{const m=_.target.value;Al(m)},a="color-scheme-switcher";var o=Dl(),i=S(o),l=L(S(i),2);Z(l,1,ee(["vh","input"]),"svelte-1elv5s4"),_e(l,"name",a),l.__change=r;var c=L(l,2);Z(c,1,ee(["switcherButton","light"]),"svelte-1elv5s4");var u=S(c);ge(u,()=>({"--size":"20px"})),he(u.lastChild,{name:"sun"});var d=L(c,2);Z(d,1,ee(["vh","input"]),"svelte-1elv5s4"),_e(d,"name",a),d.__change=r;var v=L(d,2);Z(v,1,ee(["switcherButton","system"]),"svelte-1elv5s4");var f=S(v);ge(f,()=>({"--size":"14px"})),he(f.lastChild,{name:"a"});var h=L(v,2);Z(h,1,ee(["vh","input"]),"svelte-1elv5s4"),_e(h,"name",a),h.__change=r;var g=L(h,2);Z(g,1,ee(["switcherButton","dark"]),"svelte-1elv5s4");var p=S(g);return ge(p,()=>({"--size":"20px"})),he(p.lastChild,{name:"moon"}),de(()=>{Mn(l,vt.Light),In(l,s(n)===vt.Light),Mn(d,vt.System),In(d,s(n)===vt.System),Mn(h,vt.Dark),In(h,s(n)===vt.Dark)}),k(e,o),Y({handleChange:r})}De(["change"]);const Nl=()=>{je("import")},Ol=()=>{je("export")},Ml=()=>{je("clearStorage")};var Il=F("<span> </span>"),Bl=F('<div class="svelte-378nhf"><!> <ul class="svelte-378nhf"><li class="svelte-378nhf"><button class="button svelte-378nhf"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-378nhf">import data</span></button></li> <li class="svelte-378nhf"><button class="button svelte-378nhf"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-378nhf">export data</span></button></li> <li class="svelte-378nhf"><button class="button svelte-378nhf"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-378nhf">clear storage</span></button></li></ul> <div class="version svelte-378nhf"><!></div></div>');function Rl(e,t){W(t,!0);let n=x("");pe(()=>{const E=new AbortController;return fetch("/build-metadata.json",{signal:E.signal}).then(y=>y.json()).then(y=>{b(n,`${y.buildHash}`)}),()=>{E.abort()}});var r=Bl(),a=S(r);xl(a,{});var o=L(a,2),i=S(o),l=S(i);l.__click=[Nl];var c=S(l);ge(c,()=>({"--size":"20px"})),he(c.lastChild,{name:"import"});var u=L(i,2),d=S(u);d.__click=[Ol];var v=S(d);ge(v,()=>({"--size":"20px"})),he(v.lastChild,{name:"export"});var f=L(u,2),h=S(f);h.__click=[Ml];var g=S(h);ge(g,()=>({"--size":"20px"})),he(g.lastChild,{name:"trash"});var p=L(o,2),_=S(p);{var m=E=>{var y=Il(),w=S(y);de(T=>qt(w,`version: 0.0.1 build_date: "${T??""}" build_hash:
				${s(n)??""}`),[()=>new Date(1753025298344).toISOString().replaceAll("T"," ").replace(/\..*/,"")]),k(E,y)};H(_,E=>{s(n)&&E(m)})}k(e,r),Y()}De(["click"]);function Fl(e,t){W(t,!1);const n=()=>{Ta()},r=({title:a,url:o,description:i,tags:l})=>{Bi({title:a,url:o,description:i,tags:l.map(c=>c.trim())}),n()};ln(),Ja(e,{onSubmit:r}),Y()}var Hl=F('<div class="content svelte-9hh95f"><p class="message svelte-9hh95f">use app</p> <div class="buttonContainer svelte-9hh95f"><div class="buttonContainerItem svelte-9hh95f"><!></div> <div class="buttonContainerItem svelte-9hh95f"><!></div></div></div>');function Ul(e,t){W(t,!0);let n=x("idle");const r=()=>{b(n,"loading"),je("sign")},a=async()=>{b(n,"loading"),await Hi(),Xt(!1),Ca()};Se(()=>{Xt(s(n)==="idle"||s(n)==="loading")}),pe(()=>(Xt(!0),()=>{Xt(!1)}));var o=Hl(),i=L(S(o),2),l=S(i),c=S(l);Rt(c,{onClick:r,fullWidth:!0,children:(v,f)=>{var h=qe("with account");k(v,h)},$$slots:{default:!0}});var u=L(l,2),d=S(u);Rt(d,{onClick:a,fullWidth:!0,type:"secondary",children:(v,f)=>{var h=qe("without account");k(v,h)},$$slots:{default:!0}}),k(e,o),Y()}var jl=F('<div class="content svelte-9hh95f"><p class="message svelte-9hh95f">sign in / sign up</p> <div class="buttonContainer svelte-9hh95f"><div class="buttonContainerItem svelte-9hh95f"><!></div> <div class="buttonContainerItem svelte-9hh95f"><!></div></div></div>');function Kl(e,t){W(t,!1);const n=async()=>{je("signin")},r=async()=>{je("signup")};pe(()=>(Xt(!0),Mr(!0),()=>{Mr(!1)})),ln();var a=jl(),o=L(S(a),2),i=S(o),l=S(i);Rt(l,{onClick:n,fullWidth:!0,children:(d,v)=>{var f=qe("sign in");k(d,f)},$$slots:{default:!0}});var c=L(i,2),u=S(c);Rt(u,{onClick:r,fullWidth:!0,children:(d,v)=>{var f=qe("sign up");k(d,f)},$$slots:{default:!0}}),k(e,a),Y()}var zl=F('<div class="svelte-t4bw1y"><!></div>');function Qe(e,t){W(t,!0);let n=x(null);pe(()=>{s(n)&&(s(n).getBoundingClientRect(),s(n).style.opacity="1")});var r=zl(),a=S(r);Je(a,()=>t.children),Ue(r,o=>b(n,o),()=>s(n)),k(e,r),Y()}var ql=F("<!> <!>",1);function Vl(e,t){W(t,!0);const n=(T,O=xt)=>{var C=ie(),N=j(C);{var G=oe=>{Qe(oe,{children:(se,ne)=>{Rl(se,{})},$$slots:{default:!0}})},ae=(oe,se)=>{{var ne=I=>{Qe(I,{children:(A,B)=>{Fl(A,{})},$$slots:{default:!0}})},U=(I,A)=>{{var B=Q=>{Qe(Q,{children:(P,$)=>{var z=ie(),fe=j(z);Ct(fe,d,null,(be,rt)=>{var Ze=ie();const xe=R(()=>s(rt).default);var M=j(Ze);Lt(M,()=>s(xe),(q,le)=>{le(q,{})}),k(be,Ze)}),k(P,z)},$$slots:{default:!0}})},K=(Q,P)=>{{var $=fe=>{Qe(fe,{children:(be,rt)=>{var Ze=ie(),xe=j(Ze);Ct(xe,v,null,(M,q)=>{var le=ie();const J=R(()=>s(q).default);var ce=j(le);Lt(ce,()=>s(J),(Ce,Ne)=>{Ne(Ce,{})}),k(M,le)}),k(be,Ze)},$$slots:{default:!0}})},z=(fe,be)=>{{var rt=xe=>{Qe(xe,{children:(M,q)=>{var le=ie(),J=j(le);Ct(J,f,null,(ce,Ce)=>{var Ne=ie();const Ee=R(()=>s(Ce).default);var ke=j(Ne);Lt(ke,()=>s(Ee),(Oe,We)=>{We(Oe,{})}),k(ce,Ne)}),k(M,le)},$$slots:{default:!0}})},Ze=(xe,M)=>{{var q=J=>{Qe(J,{children:(ce,Ce)=>{Ul(ce,{})},$$slots:{default:!0}})},le=(J,ce)=>{{var Ce=Ee=>{Qe(Ee,{children:(ke,Oe)=>{Kl(ke,{})},$$slots:{default:!0}})},Ne=(Ee,ke)=>{{var Oe=Te=>{Qe(Te,{children:(ze,Le)=>{var at=ie(),Wt=j(at);Ct(Wt,h,null,(yr,cn)=>{var un=ie();const An=R(()=>s(cn).default);var Pn=j(un);Lt(Pn,()=>s(An),(dn,Dn)=>{Dn(dn,{})}),k(yr,un)}),k(ze,at)},$$slots:{default:!0}})},We=(Te,ze)=>{{var Le=at=>{Qe(at,{children:(Wt,yr)=>{var cn=ie(),un=j(cn);Ct(un,g,null,(An,Pn)=>{var dn=ie();const Dn=R(()=>s(Pn).default);var eo=j(dn);Lt(eo,()=>s(Dn),(to,no)=>{no(to,{})}),k(An,dn)}),k(Wt,cn)},$$slots:{default:!0}})};H(Te,at=>{O()==="signin"&&at(Le)},ze)}};H(Ee,Te=>{O()==="signup"?Te(Oe):Te(We,!1)},ke)}};H(J,Ee=>{O()==="sign"?Ee(Ce):Ee(Ne,!1)},ce)}};H(xe,J=>{O()==="start"?J(q):J(le,!1)},M)}};H(fe,xe=>{O()==="clearStorage"?xe(rt):xe(Ze,!1)},be)}};H(Q,fe=>{O()==="export"?fe($):fe(z,!1)},P)}};H(I,Q=>{O()==="import"?Q(B):Q(K,!1)},A)}};H(oe,I=>{O()==="newNote"?I(ne):I(U,!1)},se)}};H(N,oe=>{O()==="settings"?oe(G):oe(ae,!1)})}k(T,C)};let r=R(Aa),a=R(Bt),o=null,i=null,l=null,c=null,u=null;function d(){return o||(o=At(()=>import("./ImportData-BzoG0NE7.js"),__vite__mapDeps([2,3]))),o}function v(){return i||(i=At(()=>import("./ExportData-BdfBJcWP.js"),__vite__mapDeps([4,5]))),i}function f(){return l||(l=At(()=>import("./ClearStore-iVB2j1w0.js"),__vite__mapDeps([6,7]))),l}function h(){return c||(c=At(()=>import("./Signup-BXk2P80h.js"),__vite__mapDeps([8,9]))),c}function g(){return u||(u=At(()=>import("./Signin-lqCJsFXc.js"),__vite__mapDeps([10,9]))),u}var p=ql(),_=j(p);{var m=T=>{Ll(T)};H(_,T=>{s(a)&&T(m)})}var E=L(_,2);{var y=T=>{var O=ie(),C=j(O);lt(C,17,()=>s(r),vs,(N,G,ae)=>{const oe=R(()=>ae!==s(r).length-1&&!!s(r)[ae+1]?.shown);Ir(N,{get shown(){return s(G).shown},get hidden(){return s(oe)},isLastDialog:ae===0,children:(se,ne)=>{n(se,()=>s(G).page)},$$slots:{default:!0}})}),k(T,O)},w=(T,O)=>{{var C=N=>{const G=R(()=>s(r).length===1);Ir(N,{onBack:()=>La(),get shown(){return s(r)[s(r).length-1].shown},hidden:!1,get isLastDialog(){return s(G)},children:(ae,oe)=>{n(ae,()=>s(r)[s(r).length-1].page)},$$slots:{default:!0}})};H(T,N=>{s(r).length>0&&N(C)},O)}};H(E,T=>{Vt()?T(y):T(w,!1)})}k(e,p),Y()}function Wl(){const e=navigator.userAgent;if(!(/iPad|iPhone|iPod/.test(e)&&!window.MSStream))return!1;const n=/Safari/.test(e)&&!/Chrome/.test(e)&&!/CriOS/.test(e)&&!/FxiOS/.test(e),r=/Macintosh/.test(e)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>1;return!!n||!!r}const Yl=Wl();function Xl(e,t){W(t,!1),pe(()=>{Fn(),document.addEventListener("focusin",Fn),document.addEventListener("focusout",Fn),document.addEventListener("touchmove",function(n){hr()&&Yl&&n.preventDefault()},{passive:!1})}),ln(),Y()}function Gl(e,t){W(t,!1);let n=0;pe(()=>{document.querySelector("div"),document.addEventListener("touchstart",r=>{n=r.touches[0].clientX},{passive:!1}),document.addEventListener("touchmove",r=>{const o=r.touches[0].clientX-n;(n<50&&o>0||n>window.innerWidth-50&&o<0)&&r.preventDefault()},{passive:!1}),document.addEventListener("touchend",()=>{n=0}),document.addEventListener("touchcancel",()=>{n=0})}),ln(),Y()}var Jl=F('<!> <!> <!> <main><!> <div class="container svelte-ngsolt"><!></div></main>',1);function Zl(e,t){W(t,!0),pe(async()=>{await new Promise(h=>setTimeout(h,100)),await es(),we.working=!0});let n=R(()=>Ve().length>0),r=R(Bt);var a=Jl(),o=j(a);Gl(o,{});var i=L(o,2);Xl(i,{});var l=L(i,2);Ds(l,{});var c=L(l,2),u=S(c);{var d=h=>{Vs(h,{})};H(u,h=>{s(r)&&h(d)})}var v=L(u,2),f=S(v);Vl(f,{}),Ue(c,h=>Qn.ref=h,()=>Qn?.ref),de(()=>{yn(c,`--swiping-ratio: ${we.swipingRatio}; --transition-timing-default: ${we.duration}s;`),Z(c,1,ee(["main",{isAnimationOn:we.working&&!we.isSwiping,open:s(n)}]),"svelte-ngsolt")}),k(e,a),Y()}window.isUnsupportedBrowser||us(Zl,{target:document.getElementById("app")});export{te as A,Rt as B,lt as C,_e as D,Mn as E,In as F,qt as G,yn as H,oc as I,rc as J,tc as K,hl as L,ac as M,ve as N,Mr as O,Ai as P,Li as Q,Ci as R,ic as S,Un as T,we as U,Je as V,Ga as W,ge as X,he as Y,Ot as Z,ie as _,x as a,k as b,S as c,Y as d,L as e,F as f,s as g,j as h,H as i,Vt as j,Ue as k,b as l,de as m,Z as n,pe as o,W as p,ee as q,nn as r,Xt as s,qe as t,Se as u,De as v,sc as w,nc as x,Ca as y,ec as z};
