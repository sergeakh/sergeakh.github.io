const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/MobileDialog-DLW893oH.js","assets/MobileDialog-DemsJRVL.css","assets/DesktopDialog-Cm9NXhyf.js","assets/DesktopDialog-D8zTl_PA.css","assets/MobileSidebar-BvyGBqsW.js","assets/MobileSidebar-BNh7a5G6.css","assets/ImportData-B8hdmW9t.js","assets/ImportData-CZGzVRRc.css","assets/ExportData-DEKubuNt.js","assets/Switcher-CxF7l-6U.js","assets/Switcher-BrVng3kJ.css","assets/ExportData-SlkOBNhU.css","assets/ClearStore-CcbJIe5v.js","assets/ClearStore-DiVqV26R.css","assets/Signup-BCw9jHz7.js","assets/api-7nXQQ8YG.js","assets/Signup-CnX7iJxK.css","assets/Signin-lNiTZqre.js","assets/AccessKeys-B4jhbrMW.js","assets/AccessKeys-DF5NA1tk.css","assets/ConfirmAccessKey-jt4JfPcJ.js","assets/Input-BEZ7E6dz.js","assets/Input-B5Z7Girm.css","assets/ConfirmAccessKey-BEOXyioc.css","assets/NewNote-D57mGiGF.js","assets/NewNote-C8Q5vP2H.css"])))=>i.map(i=>d[i]);
var po=Object.defineProperty;var xa=e=>{throw TypeError(e)};var _o=(e,t,n)=>t in e?po(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Mn=(e,t,n)=>_o(e,typeof t!="symbol"?t+"":t,n),Ir=(e,t,n)=>t.has(e)||xa("Cannot "+n);var H=(e,t,n)=>(Ir(e,t,"read from private field"),n?n.call(e):t.get(e)),xe=(e,t,n)=>t.has(e)?xa("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),He=(e,t,n,r)=>(Ir(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),It=(e,t,n)=>(Ir(e,t,"access private method"),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();const Wa=!1;var na=Array.isArray,go=Array.prototype.indexOf,ra=Array.from,$r=Object.defineProperty,dn=Object.getOwnPropertyDescriptor,Ga=Object.getOwnPropertyDescriptors,mo=Object.prototype,wo=Array.prototype,aa=Object.getPrototypeOf,La=Object.isExtensible;const zt=()=>{};function yo(e){return typeof e?.then=="function"}function bo(e){return e()}function vr(e){for(var t=0;t<e.length;t++)e[t]()}function So(){var e,t,n=new Promise((r,s)=>{e=r,t=s});return{promise:n,resolve:e,reject:t}}function ko(e,t,n=!1){return e===void 0?n?t():t:e}const Re=2,sa=4,wr=8,Yn=16,_t=32,Yt=64,Ya=128,Ve=256,hr=512,ge=1024,Ge=2048,Lt=4096,tt=8192,Zt=16384,oa=32768,Zn=65536,Aa=1<<17,Eo=1<<18,ia=1<<19,la=1<<20,Hr=1<<21,ca=1<<22,qt=1<<23,Ft=Symbol("$state"),Po=Symbol("legacy props"),Co=Symbol(""),ua=new class extends Error{constructor(){super(...arguments);Mn(this,"name","StaleReactionError");Mn(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function No(){throw new Error("https://svelte.dev/e/await_outside_boundary")}function xo(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Lo(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Ao(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function To(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Do(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Io(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Mo(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function Oo(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Ro(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Bo(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}const yr=1,br=2,Za=4,qo=8,Fo=16,Uo=1,jo=2,$o=4,Ho=8,zo=16,Ko=1,Vo=2,se=Symbol(),Wo="http://www.w3.org/1999/xhtml";let Go=!1;function Ja(e){return e===this.v}function Yo(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Xa(e){return!Yo(e,this.v)}let Pn=!1,Zo=!1;function Jo(){Pn=!0}let ne=null;function wn(e){ne=e}function Z(e,t=!1,n){ne={p:ne,c:null,e:null,s:e,x:null,l:Pn&&!t?{s:null,u:null,$:[]}:null}}function J(e){var t=ne,n=t.e;if(n!==null){t.e=null;for(var r of n)vs(r)}return e!==void 0&&(t.x=e),ne=t.p,e??{}}function Jt(){return!Pn||ne!==null&&ne.l===null}const Xo=new WeakMap;function Qo(e){var t=j;if(t===null)return F.f|=qt,e;if((t.f&oa)===0){if((t.f&Ya)===0)throw!t.parent&&e instanceof Error&&Qa(e),e;t.b.error(e)}else fa(e,t)}function fa(e,t){for(;t!==null;){if((t.f&Ya)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e instanceof Error&&Qa(e),e}function Qa(e){const t=Xo.get(e);t&&($r(e,"message",{value:t.message}),$r(e,"stack",{value:t.stack}))}let Un=[],zr=[];function es(){var e=Un;Un=[],vr(e)}function ei(){var e=zr;zr=[],vr(e)}function Sr(e){Un.length===0&&queueMicrotask(es),Un.push(e)}function ti(){Un.length>0&&es(),zr.length>0&&ei()}function ni(){for(var e=j.b;e!==null&&!e.has_pending_snippet();)e=e.parent;return e===null&&No(),e}function Jn(e){var t=Re|Ge,n=F!==null&&(F.f&Re)!==0?F:null;return j===null||n!==null&&(n.f&Ve)!==0?t|=Ve:j.f|=ia,{ctx:ne,deps:null,effects:null,equals:Ja,f:t,fn:e,reactions:null,rv:0,v:se,wv:0,parent:n??j,ac:null}}function ri(e,t){let n=j;n===null&&Lo();var r=n.b,s=void 0,a=Wt(se),i=null,c=!F;return pi(()=>{try{var l=e()}catch(v){l=Promise.reject(v)}var u=()=>l;s=i?.then(u,u)??Promise.resolve(l),i=s;var f=Y,h=r.pending;c&&(r.update_pending_count(1),h||f.increment());const d=(v,p=void 0)=>{i=null,h||f.activate(),p?p!==ua&&(a.f|=qt,Pt(a,p)):((a.f&qt)!==0&&(a.f^=qt),Pt(a,v)),c&&(r.update_pending_count(-1),h||f.decrement()),rs()};if(s.then(d,v=>d(null,v||"unknown")),f)return()=>{queueMicrotask(()=>f.neuter())}}),new Promise(l=>{function u(f){function h(){f===s?l(a):u(s)}f.then(h,h)}u(s)})}function D(e){const t=Jn(e);return ws(t),t}function kr(e){const t=Jn(e);return t.equals=Xa,t}function ts(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)ut(t[n])}}function ai(e){for(var t=e.parent;t!==null;){if((t.f&Re)===0)return t;t=t.parent}return null}function da(e){var t,n=j;ft(ai(e));try{ts(e),t=ks(e)}finally{ft(n)}return t}function ns(e){var t=da(e);if(e.equals(t)||(e.v=t,e.wv=bs()),!Qt)if(yn!==null)yn.set(e,e.v);else{var n=(kt||(e.f&Ve)!==0)&&e.deps!==null?Lt:ge;Le(e,n)}}function si(e,t,n){const r=Jt()?Jn:kr;if(t.length===0){n(e.map(r));return}var s=Y,a=j,i=oi(),c=ni();Promise.all(t.map(l=>ri(l))).then(l=>{s?.activate(),i();try{n([...e.map(r),...l])}catch(u){(a.f&Zt)===0&&fa(u,a)}s?.deactivate(),rs()}).catch(l=>{c.error(l)})}function oi(){var e=j,t=F,n=ne;return function(){ft(e),Ye(t),wn(n)}}function rs(){ft(null),Ye(null),wn(null)}const On=new Set;let Y=null,cr=null,yn=null,Ta=new Set,pr=[];function as(){const e=pr.shift();pr.length>0&&queueMicrotask(as),e()}let Kt=[],Er=null,Kr=!1,ur=!1;var pn,_n,bt,Kn,Vn,Rt,gn,Bt,St,mn,Wn,Gn,nt,ss,fr,Vr;const mr=class mr{constructor(){xe(this,nt);Mn(this,"current",new Map);xe(this,pn,new Map);xe(this,_n,new Set);xe(this,bt,0);xe(this,Kn,null);xe(this,Vn,!1);xe(this,Rt,[]);xe(this,gn,[]);xe(this,Bt,[]);xe(this,St,[]);xe(this,mn,[]);xe(this,Wn,[]);xe(this,Gn,[]);Mn(this,"skipped_effects",new Set)}process(t){Kt=[],cr=null;var n=null;if(On.size>1){n=new Map,yn=new Map;for(const[a,i]of this.current)n.set(a,{v:a.v,wv:a.wv}),a.v=i;for(const a of On)if(a!==this)for(const[i,c]of H(a,pn))n.has(i)||(n.set(i,{v:i.v,wv:i.wv}),i.v=c)}for(const a of t)It(this,nt,ss).call(this,a);if(H(this,Rt).length===0&&H(this,bt)===0){It(this,nt,Vr).call(this);var r=H(this,Bt),s=H(this,St);He(this,Bt,[]),He(this,St,[]),He(this,mn,[]),cr=Y,Y=null,Da(r),Da(s),Y===null?Y=this:On.delete(this),H(this,Kn)?.resolve()}else It(this,nt,fr).call(this,H(this,Bt)),It(this,nt,fr).call(this,H(this,St)),It(this,nt,fr).call(this,H(this,mn));if(n){for(const[a,{v:i,wv:c}]of n)a.wv<=c&&(a.v=i);yn=null}for(const a of H(this,Rt))Fn(a);for(const a of H(this,gn))Fn(a);He(this,Rt,[]),He(this,gn,[])}capture(t,n){H(this,pn).has(t)||H(this,pn).set(t,n),this.current.set(t,t.v)}activate(){Y=this}deactivate(){Y=null,cr=null;for(const t of Ta)if(Ta.delete(t),t(),Y!==null)break}neuter(){He(this,Vn,!0)}flush(){Kt.length>0?is():It(this,nt,Vr).call(this),Y===this&&(H(this,bt)===0&&On.delete(this),this.deactivate())}increment(){He(this,bt,H(this,bt)+1)}decrement(){if(He(this,bt,H(this,bt)-1),H(this,bt)===0){for(const t of H(this,Wn))Le(t,Ge),Vt(t);for(const t of H(this,Gn))Le(t,Lt),Vt(t);He(this,Bt,[]),He(this,St,[]),this.flush()}else this.deactivate()}add_callback(t){H(this,_n).add(t)}settled(){return(H(this,Kn)??He(this,Kn,So())).promise}static ensure(){if(Y===null){const t=Y=new mr;On.add(Y),ur||mr.enqueue(()=>{Y===t&&t.flush()})}return Y}static enqueue(t){pr.length===0&&queueMicrotask(as),pr.unshift(t)}};pn=new WeakMap,_n=new WeakMap,bt=new WeakMap,Kn=new WeakMap,Vn=new WeakMap,Rt=new WeakMap,gn=new WeakMap,Bt=new WeakMap,St=new WeakMap,mn=new WeakMap,Wn=new WeakMap,Gn=new WeakMap,nt=new WeakSet,ss=function(t){t.f^=ge;for(var n=t.first;n!==null;){var r=n.f,s=(r&(_t|Yt))!==0,a=s&&(r&ge)!==0,i=a||(r&tt)!==0||this.skipped_effects.has(n);if(!i&&n.fn!==null){if(s)n.f^=ge;else if((r&ge)===0)if((r&sa)!==0)H(this,St).push(n);else if((r&ca)!==0){var c=n.b?.pending?H(this,gn):H(this,Rt);c.push(n)}else Cr(n)&&((n.f&Yn)!==0&&H(this,mn).push(n),Fn(n));var l=n.first;if(l!==null){n=l;continue}}var u=n.parent;for(n=n.next;n===null&&u!==null;)n=u.next,u=u.parent}},fr=function(t){for(const n of t)((n.f&Ge)!==0?H(this,Wn):H(this,Gn)).push(n),Le(n,ge);t.length=0},Vr=function(){if(!H(this,Vn))for(const t of H(this,_n))t();H(this,_n).clear()};let jn=mr;function os(e){var t=ur;ur=!0;try{for(var n;;){if(ti(),Kt.length===0&&(Y?.flush(),Kt.length===0))return Er=null,n;is()}}finally{ur=t}}function is(){var e=hn;Kr=!0;try{var t=0;for(Ma(!0);Kt.length>0;){var n=jn.ensure();if(t++>1e3){var r,s;ii()}n.process(Kt),Ut.clear()}}finally{Kr=!1,Ma(e),Er=null}}function ii(){try{Io()}catch(e){fa(e,Er)}}function Da(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if((r.f&(Zt|tt))===0&&Cr(r)){var s=Y?Y.current.size:0;if(Fn(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?_s(r):r.fn=null),Y!==null&&Y.current.size>s&&(r.f&la)!==0)break}}for(;n<t;)Vt(e[n++])}}function Vt(e){for(var t=Er=e;t.parent!==null;){t=t.parent;var n=t.f;if(Kr&&t===j&&(n&Yn)!==0)return;if((n&(Yt|_t))!==0){if((n&ge)===0)return;t.f^=ge}}Kt.push(t)}const Ut=new Map;function Wt(e,t){var n={f:0,v:e,reactions:null,equals:Ja,rv:0,wv:0};return n}function I(e,t){const n=Wt(e);return ws(n),n}function Wr(e,t=!1,n=!0){var s;const r=Wt(e);return t||(r.equals=Xa),Pn&&n&&ne!==null&&ne.l!==null&&((s=ne.l).s??(s.s=[])).push(r),r}function k(e,t,n=!1){F!==null&&(!it||(F.f&Aa)!==0)&&Jt()&&(F.f&(Re|Yn|ca|Aa))!==0&&!ht?.includes(e)&&Bo();let r=n?oe(t):t;return Pt(e,r)}function Pt(e,t){if(!e.equals(t)){var n=e.v;Qt?Ut.set(e,t):Ut.set(e,n),e.v=t;var r=jn.ensure();r.capture(e,n),(e.f&Re)!==0&&((e.f&Ge)!==0&&da(e),Le(e,(e.f&Ve)===0?ge:Lt)),e.wv=bs(),ls(e,Ge),Jt()&&j!==null&&(j.f&ge)!==0&&(j.f&(_t|Yt))===0&&(Ke===null?mi([e]):Ke.push(e))}return t}function Mr(e){k(e,e.v+1)}function ls(e,t){var n=e.reactions;if(n!==null)for(var r=Jt(),s=n.length,a=0;a<s;a++){var i=n[a],c=i.f;if(!(!r&&i===j)){var l=(c&Ge)===0;l&&Le(i,t),(c&Re)!==0?ls(i,Lt):l&&Vt(i)}}}function oe(e){if(typeof e!="object"||e===null||Ft in e)return e;const t=aa(e);if(t!==mo&&t!==wo)return e;var n=new Map,r=na(e),s=I(0),a=$t,i=c=>{if($t===a)return c();var l=F,u=$t;Ye(null),Ra(a);var f=c();return Ye(l),Ra(u),f};return r&&n.set("length",I(e.length)),new Proxy(e,{defineProperty(c,l,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&Oo();var f=n.get(l);return f===void 0?f=i(()=>{var h=I(u.value);return n.set(l,h),h}):k(f,u.value,!0),!0},deleteProperty(c,l){var u=n.get(l);if(u===void 0){if(l in c){const f=i(()=>I(se));n.set(l,f),Mr(s)}}else k(u,se),Mr(s);return!0},get(c,l,u){if(l===Ft)return e;var f=n.get(l),h=l in c;if(f===void 0&&(!h||dn(c,l)?.writable)&&(f=i(()=>{var v=oe(h?c[l]:se),p=I(v);return p}),n.set(l,f)),f!==void 0){var d=o(f);return d===se?void 0:d}return Reflect.get(c,l,u)},getOwnPropertyDescriptor(c,l){var u=Reflect.getOwnPropertyDescriptor(c,l);if(u&&"value"in u){var f=n.get(l);f&&(u.value=o(f))}else if(u===void 0){var h=n.get(l),d=h?.v;if(h!==void 0&&d!==se)return{enumerable:!0,configurable:!0,value:d,writable:!0}}return u},has(c,l){if(l===Ft)return!0;var u=n.get(l),f=u!==void 0&&u.v!==se||Reflect.has(c,l);if(u!==void 0||j!==null&&(!f||dn(c,l)?.writable)){u===void 0&&(u=i(()=>{var d=f?oe(c[l]):se,v=I(d);return v}),n.set(l,u));var h=o(u);if(h===se)return!1}return f},set(c,l,u,f){var h=n.get(l),d=l in c;if(r&&l==="length")for(var v=u;v<h.v;v+=1){var p=n.get(v+"");p!==void 0?k(p,se):v in c&&(p=i(()=>I(se)),n.set(v+"",p))}if(h===void 0)(!d||dn(c,l)?.writable)&&(h=i(()=>I(void 0)),k(h,oe(u)),n.set(l,h));else{d=h.v!==se;var g=i(()=>oe(u));k(h,g)}var w=Reflect.getOwnPropertyDescriptor(c,l);if(w?.set&&w.set.call(f,u),!d){if(r&&typeof l=="string"){var S=n.get("length"),m=Number(l);Number.isInteger(m)&&m>=S.v&&k(S,m+1)}Mr(s)}return!0},ownKeys(c){o(s);var l=Reflect.ownKeys(c).filter(h=>{var d=n.get(h);return d===void 0||d.v!==se});for(var[u,f]of n)f.v!==se&&!(u in c)&&l.push(u);return l},setPrototypeOf(){Ro()}})}var Ia,cs,us,fs;function li(){if(Ia===void 0){Ia=window,cs=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;us=dn(t,"firstChild").get,fs=dn(t,"nextSibling").get,La(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),La(n)&&(n.__t=void 0)}}function Xt(e=""){return document.createTextNode(e)}function bn(e){return us.call(e)}function Pr(e){return fs.call(e)}function y(e,t){return bn(e)}function C(e,t){{var n=bn(e);return n instanceof Comment&&n.data===""?Pr(n):n}}function x(e,t=1,n=!1){let r=e;for(;t--;)r=Pr(r);return r}function ci(e){e.textContent=""}function va(){return!1}function ds(e){j===null&&F===null&&Do(),F!==null&&(F.f&Ve)!==0&&j===null&&To(),Qt&&Ao()}function ui(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function dt(e,t,n,r=!0){var s=j;s!==null&&(s.f&tt)!==0&&(e|=tt);var a={ctx:ne,deps:null,nodes_start:null,nodes_end:null,f:e|Ge,first:null,fn:t,last:null,next:null,parent:s,b:s&&s.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{Fn(a),a.f|=oa}catch(l){throw ut(a),l}else t!==null&&Vt(a);var i=n&&a.deps===null&&a.first===null&&a.nodes_start===null&&a.teardown===null&&(a.f&ia)===0;if(!i&&r&&(s!==null&&ui(a,s),F!==null&&(F.f&Re)!==0&&(e&Yt)===0)){var c=F;(c.effects??(c.effects=[])).push(a)}return a}function fi(e){const t=dt(wr,null,!1);return Le(t,ge),t.teardown=e,t}function lt(e){ds();var t=j.f,n=!F&&(t&_t)!==0&&(t&oa)===0;if(n){var r=ne;(r.e??(r.e=[])).push(e)}else return vs(e)}function vs(e){return dt(sa|la,e,!1)}function di(e){return ds(),dt(wr|la,e,!0)}function vi(e){jn.ensure();const t=dt(Yt,e,!0);return(n={})=>new Promise(r=>{n.outro?jt(t,()=>{ut(t),r(void 0)}):(ut(t),r(void 0))})}function hi(e){return dt(sa,e,!1)}function pi(e){return dt(ca|ia,e,!0)}function ha(e,t=0){return dt(wr|t,e,!0)}function re(e,t=[],n=[]){si(t,n,r=>{dt(wr,()=>e(...r.map(o)),!0)})}function Xn(e,t=0){var n=dt(Yn|t,e,!0);return n}function ct(e,t=!0){return dt(_t,e,!0,t)}function hs(e){var t=e.teardown;if(t!==null){const n=Qt,r=F;Oa(!0),Ye(null);try{t.call(null)}finally{Oa(n),Ye(r)}}}function ps(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){n.ac?.abort(ua);var r=n.next;(n.f&Yt)!==0?n.parent=null:ut(n,t),n=r}}function _i(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&_t)===0&&ut(t),t=n}}function ut(e,t=!0){var n=!1;(t||(e.f&Eo)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(gi(e.nodes_start,e.nodes_end),n=!0),ps(e,t&&!n),_r(e,0),Le(e,Zt);var r=e.transitions;if(r!==null)for(const a of r)a.stop();hs(e);var s=e.parent;s!==null&&s.first!==null&&_s(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function gi(e,t){for(;e!==null;){var n=e===t?null:Pr(e);e.remove(),e=n}}function _s(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function jt(e,t){var n=[];pa(e,n,!0),gs(n,()=>{ut(e),t&&t()})}function gs(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var s of e)s.out(r)}else t()}function pa(e,t,n){if((e.f&tt)===0){if(e.f^=tt,e.transitions!==null)for(const i of e.transitions)(i.is_global||n)&&t.push(i);for(var r=e.first;r!==null;){var s=r.next,a=(r.f&Zn)!==0||(r.f&_t)!==0;pa(r,t,a?n:!1),r=s}}}function vn(e){ms(e,!0)}function ms(e,t){if((e.f&tt)!==0){e.f^=tt,(e.f&ge)===0&&(Le(e,Ge),Vt(e));for(var n=e.first;n!==null;){var r=n.next,s=(n.f&Zn)!==0||(n.f&_t)!==0;ms(n,s?t:!1),n=r}if(e.transitions!==null)for(const a of e.transitions)(a.is_global||t)&&a.in()}}let hn=!1;function Ma(e){hn=e}let Qt=!1;function Oa(e){Qt=e}let F=null,it=!1;function Ye(e){F=e}let j=null;function ft(e){j=e}let ht=null;function ws(e){F!==null&&(ht===null?ht=[e]:ht.push(e))}let be=null,Oe=0,Ke=null;function mi(e){Ke=e}let ys=1,$n=0,$t=$n;function Ra(e){$t=e}let kt=!1;function bs(){return++ys}function Cr(e){var t=e.f;if((t&Ge)!==0)return!0;if((t&Lt)!==0){var n=e.deps,r=(t&Ve)!==0;if(n!==null){var s,a,i=(t&hr)!==0,c=r&&j!==null&&!kt,l=n.length;if((i||c)&&(j===null||(j.f&Zt)===0)){var u=e,f=u.parent;for(s=0;s<l;s++)a=n[s],(i||!a?.reactions?.includes(u))&&(a.reactions??(a.reactions=[])).push(u);i&&(u.f^=hr),c&&f!==null&&(f.f&Ve)===0&&(u.f^=Ve)}for(s=0;s<l;s++)if(a=n[s],Cr(a)&&ns(a),a.wv>e.wv)return!0}(!r||j!==null&&!kt)&&Le(e,ge)}return!1}function Ss(e,t,n=!0){var r=e.reactions;if(r!==null&&!ht?.includes(e))for(var s=0;s<r.length;s++){var a=r[s];(a.f&Re)!==0?Ss(a,t,!1):t===a&&(n?Le(a,Ge):(a.f&ge)!==0&&Le(a,Lt),Vt(a))}}function ks(e){var p;var t=be,n=Oe,r=Ke,s=F,a=kt,i=ht,c=ne,l=it,u=$t,f=e.f;be=null,Oe=0,Ke=null,kt=(f&Ve)!==0&&(it||!hn||F===null),F=(f&(_t|Yt))===0?e:null,ht=null,wn(e.ctx),it=!1,$t=++$n,e.ac!==null&&(e.ac.abort(ua),e.ac=null);try{e.f|=Hr;var h=(0,e.fn)(),d=e.deps;if(be!==null){var v;if(_r(e,Oe),d!==null&&Oe>0)for(d.length=Oe+be.length,v=0;v<be.length;v++)d[Oe+v]=be[v];else e.deps=d=be;if(!kt||(f&Re)!==0&&e.reactions!==null)for(v=Oe;v<d.length;v++)((p=d[v]).reactions??(p.reactions=[])).push(e)}else d!==null&&Oe<d.length&&(_r(e,Oe),d.length=Oe);if(Jt()&&Ke!==null&&!it&&d!==null&&(e.f&(Re|Lt|Ge))===0)for(v=0;v<Ke.length;v++)Ss(Ke[v],e);return s!==null&&s!==e&&($n++,Ke!==null&&(r===null?r=Ke:r.push(...Ke))),(e.f&qt)!==0&&(e.f^=qt),h}catch(g){return Qo(g)}finally{e.f^=Hr,be=t,Oe=n,Ke=r,F=s,kt=a,ht=i,wn(c),it=l,$t=u}}function wi(e,t){let n=t.reactions;if(n!==null){var r=go.call(n,e);if(r!==-1){var s=n.length-1;s===0?n=t.reactions=null:(n[r]=n[s],n.pop())}}n===null&&(t.f&Re)!==0&&(be===null||!be.includes(t))&&(Le(t,Lt),(t.f&(Ve|hr))===0&&(t.f^=hr),ts(t),_r(t,0))}function _r(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)wi(e,n[r])}function Fn(e){var t=e.f;if((t&Zt)===0){Le(e,ge);var n=j,r=hn;j=e,hn=!0;try{(t&Yn)!==0?_i(e):ps(e),hs(e);var s=ks(e);e.teardown=typeof s=="function"?s:null,e.wv=ys;var a;Wa&&Zo&&(e.f&Ge)!==0&&e.deps}finally{hn=r,j=n}}}async function yi(){await Promise.resolve(),os()}function o(e){var t=e.f,n=(t&Re)!==0;if(F!==null&&!it){var r=j!==null&&(j.f&Zt)!==0;if(!r&&!ht?.includes(e)){var s=F.deps;if((F.f&Hr)!==0)e.rv<$n&&(e.rv=$n,be===null&&s!==null&&s[Oe]===e?Oe++:be===null?be=[e]:(!kt||!be.includes(e))&&be.push(e));else{(F.deps??(F.deps=[])).push(e);var a=e.reactions;a===null?e.reactions=[F]:a.includes(F)||a.push(F)}}}else if(n&&e.deps===null&&e.effects===null){var i=e,c=i.parent;c!==null&&(c.f&Ve)===0&&(i.f^=Ve)}if(Qt){if(Ut.has(e))return Ut.get(e);if(n){i=e;var l=i.v;return((i.f&ge)===0&&i.reactions!==null||Es(i))&&(l=da(i)),Ut.set(i,l),l}}else if(n){if(i=e,yn?.has(i))return yn.get(i);Cr(i)&&ns(i)}if((e.f&qt)!==0)throw e.v;return e.v}function Es(e){if(e.v===se)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(Ut.has(t)||(t.f&Re)!==0&&Es(t))return!0;return!1}function Gt(e){var t=it;try{return it=!0,e()}finally{it=t}}const bi=-7169;function Le(e,t){e.f=e.f&bi|t}function Si(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Ft in e)Gr(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&Ft in n&&Gr(n)}}}function Gr(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{Gr(e[r],t)}catch{}const n=aa(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=Ga(n);for(let s in r){const a=r[s].get;if(a)try{a.call(e)}catch{}}}}}const ki=["touchstart","touchmove"];function Ei(e){return ki.includes(e)}let Ba=!1;function Pi(){Ba||(Ba=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function Ps(e){var t=F,n=j;Ye(null),ft(null);try{return e()}finally{Ye(t),ft(n)}}function Ci(e,t,n,r=n){e.addEventListener(t,()=>Ps(n));const s=e.__on_r;s?e.__on_r=()=>{s(),r(!0)}:e.__on_r=()=>r(!0),Pi()}const Cs=new Set,Yr=new Set;function Ni(e,t,n,r={}){function s(a){if(r.capture||Bn.call(t,a),!a.cancelBubble)return Ps(()=>n?.call(this,a))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Sr(()=>{t.addEventListener(e,s,r)}):t.addEventListener(e,s,r),s}function Ns(e,t,n,r,s){var a={capture:r,passive:s},i=Ni(e,t,n,a);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&fi(()=>{t.removeEventListener(e,i,a)})}function qe(e){for(var t=0;t<e.length;t++)Cs.add(e[t]);for(var n of Yr)n(e)}function Bn(e){var t=this,n=t.ownerDocument,r=e.type,s=e.composedPath?.()||[],a=s[0]||e.target,i=0,c=e.__root;if(c){var l=s.indexOf(c);if(l!==-1&&(t===document||t===window)){e.__root=t;return}var u=s.indexOf(t);if(u===-1)return;l<=u&&(i=l)}if(a=s[i]||e.target,a!==t){$r(e,"currentTarget",{configurable:!0,get(){return a||n}});var f=F,h=j;Ye(null),ft(null);try{for(var d,v=[];a!==null;){var p=a.assignedSlot||a.parentNode||a.host||null;try{var g=a["__"+r];if(g!=null&&(!a.disabled||e.target===a))if(na(g)){var[w,...S]=g;w.apply(a,[e,...S])}else g.call(a,e)}catch(m){d?v.push(m):d=m}if(e.cancelBubble||p===t||p===null)break;a=p}if(d){for(let m of v)queueMicrotask(()=>{throw m});throw d}}finally{e.__root=t,delete e.currentTarget,Ye(f),ft(h)}}}function xs(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function Hn(e,t){var n=j;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function O(e,t){var n=(t&Ko)!==0,r=(t&Vo)!==0,s,a=!e.startsWith("<!>");return()=>{s===void 0&&(s=xs(a?e:"<!>"+e),n||(s=bn(s)));var i=r||cs?document.importNode(s,!0):s.cloneNode(!0);if(n){var c=bn(i),l=i.lastChild;Hn(c,l)}else Hn(i,i);return i}}function xi(e,t,n="svg"){var r=!e.startsWith("<!>"),s=`<${n}>${r?e:"<!>"+e}</${n}>`,a;return()=>{if(!a){var i=xs(s),c=bn(i);a=bn(c)}var l=a.cloneNode(!0);return Hn(l,l),l}}function Li(e,t){return xi(e,t,"svg")}function rt(e=""){{var t=Xt(e+"");return Hn(t,t),t}}function M(){var e=document.createDocumentFragment(),t=document.createComment(""),n=Xt();return e.append(t,n),Hn(t,n),e}function _(e,t){e!==null&&e.before(t)}function bu(){var e;return(e=window.__svelte??(window.__svelte={})).uid??(e.uid=1),`c${window.__svelte.uid++}`}function Nr(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function Ai(e,t){return Ti(e,t)}const cn=new Map;function Ti(e,{target:t,anchor:n,props:r={},events:s,context:a,intro:i=!0}){li();var c=new Set,l=h=>{for(var d=0;d<h.length;d++){var v=h[d];if(!c.has(v)){c.add(v);var p=Ei(v);t.addEventListener(v,Bn,{passive:p});var g=cn.get(v);g===void 0?(document.addEventListener(v,Bn,{passive:p}),cn.set(v,1)):cn.set(v,g+1)}}};l(ra(Cs)),Yr.add(l);var u=void 0,f=vi(()=>{var h=n??t.appendChild(Xt());return ct(()=>{if(a){Z({});var d=ne;d.c=a}s&&(r.$$events=s),u=e(h,r)||{},a&&J()}),()=>{for(var d of c){t.removeEventListener(d,Bn);var v=cn.get(d);--v===0?(document.removeEventListener(d,Bn),cn.delete(d)):cn.set(d,v)}Yr.delete(l),h!==n&&h.parentNode?.removeChild(h)}});return Di.set(u,f),u}let Di=new WeakMap;const Or=0,sr=1,Rr=2;function Xe(e,t,n,r,s){var a=e,i=Jt(),c=ne,l=se,u,f,h,d=i?Wt(void 0):Wr(void 0,!1,!1),v=i?Wt(void 0):Wr(void 0,!1,!1),p=!1;function g(S,m){p=!0,m&&(ft(w),Ye(w),wn(c));try{S===Or&&n&&(u?vn(u):u=ct(()=>n(a))),S===sr&&r&&(f?vn(f):f=ct(()=>r(a,d))),S===Rr&&s&&(h?vn(h):h=ct(()=>s(a,v))),S!==Or&&u&&jt(u,()=>u=null),S!==sr&&f&&jt(f,()=>f=null),S!==Rr&&h&&jt(h,()=>h=null)}finally{m&&(wn(null),Ye(null),ft(null),os())}}var w=Xn(()=>{if(l!==(l=t())){if(yo(l)){var S=l;p=!1,S.then(m=>{S===l&&(Pt(d,m),g(sr,!0))},m=>{if(S===l&&(Pt(v,m),g(Rr,!0),!s))throw v.v}),Sr(()=>{p||g(Or,!0)})}else Pt(d,l),g(sr,!1);return()=>l=se}})}function q(e,t,n=!1){var r=e,s=null,a=null,i=se,c=n?Zn:0,l=!1;const u=(v,p=!0)=>{l=!0,d(p,v)};var f=null;function h(){f!==null&&(f.lastChild.remove(),r.before(f),f=null);var v=i?s:a,p=i?a:s;v&&vn(v),p&&jt(p,()=>{i?a=null:s=null})}const d=(v,p)=>{if(i!==(i=v)){var g=va(),w=r;if(g&&(f=document.createDocumentFragment(),f.append(w=Xt())),i?s??(s=p&&ct(()=>p(w))):a??(a=p&&ct(()=>p(w))),g){var S=Y,m=i?s:a,b=i?a:s;m&&S.skipped_effects.delete(m),b&&S.skipped_effects.add(b),S.add_callback(h)}else h()}};Xn(()=>{l=!1,t(u),l||d(null,null)},c)}function de(e,t){ha(()=>{var n=t();for(var r in n){var s=n[r];s?e.style.setProperty(r,s):e.style.removeProperty(r)}})}function Ii(e,t){return t}function Mi(e,t,n){for(var r=e.items,s=[],a=t.length,i=0;i<a;i++)pa(t[i].e,s,!0);var c=a>0&&s.length===0&&n!==null;if(c){var l=n.parentNode;ci(l),l.append(n),r.clear(),ot(e,t[0].prev,t[a-1].next)}gs(s,()=>{for(var u=0;u<a;u++){var f=t[u];c||(r.delete(f.k),ot(e,f.prev,f.next)),ut(f.e,!c)}})}function fn(e,t,n,r,s,a=null){var i=e,c={flags:t,items:new Map,first:null},l=(t&Za)!==0;if(l){var u=e;i=u.appendChild(Xt())}var f=null,h=!1,d=new Map,v=kr(()=>{var S=n();return na(S)?S:S==null?[]:ra(S)}),p,g;function w(){Oi(g,p,c,d,i,s,t,r,n),a!==null&&(p.length===0?f?vn(f):f=ct(()=>a(i)):f!==null&&jt(f,()=>{f=null}))}Xn(()=>{g??(g=j),p=o(v);var S=p.length;if(!(h&&S===0)){h=S===0;var m,b,L,A;if(va()){var E=new Set,T=Y;for(b=0;b<S;b+=1){L=p[b],A=r(L,b);var z=c.items.get(A)??d.get(A);z?(t&(yr|br))!==0&&Ls(z,L,b,t):(m=As(null,c,null,null,L,A,b,s,t,n,!0),d.set(A,m)),E.add(A)}for(const[V,W]of c.items)E.has(V)||T.skipped_effects.add(W.e);T.add_callback(w)}else w();o(v)}})}function Oi(e,t,n,r,s,a,i,c,l){var u=(i&qo)!==0,f=(i&(yr|br))!==0,h=t.length,d=n.items,v=n.first,p=v,g,w=null,S,m=[],b=[],L,A,E,T;if(u)for(T=0;T<h;T+=1)L=t[T],A=c(L,T),E=d.get(A),E!==void 0&&(E.a?.measure(),(S??(S=new Set)).add(E));for(T=0;T<h;T+=1){if(L=t[T],A=c(L,T),E=d.get(A),E===void 0){var z=r.get(A);if(z!==void 0){r.delete(A),d.set(A,z);var V=w?w.next:p;ot(n,w,z),ot(n,z,V),Br(z,V,s),w=z}else{var W=p?p.e.nodes_start:s;w=As(W,n,w,w===null?n.first:w.next,L,A,T,a,i,l)}d.set(A,w),m=[],b=[],p=w.next;continue}if(f&&Ls(E,L,T,i),(E.e.f&tt)!==0&&(vn(E.e),u&&(E.a?.unfix(),(S??(S=new Set)).delete(E))),E!==p){if(g!==void 0&&g.has(E)){if(m.length<b.length){var U=b[0],B;w=U.prev;var ve=m[0],he=m[m.length-1];for(B=0;B<m.length;B+=1)Br(m[B],U,s);for(B=0;B<b.length;B+=1)g.delete(b[B]);ot(n,ve.prev,he.next),ot(n,w,ve),ot(n,he,U),p=U,w=he,T-=1,m=[],b=[]}else g.delete(E),Br(E,p,s),ot(n,E.prev,E.next),ot(n,E,w===null?n.first:w.next),ot(n,w,E),w=E;continue}for(m=[],b=[];p!==null&&p.k!==A;)(p.e.f&tt)===0&&(g??(g=new Set)).add(p),b.push(p),p=p.next;if(p===null)continue;E=p}m.push(E),w=E,p=E.next}if(p!==null||g!==void 0){for(var ee=g===void 0?[]:ra(g);p!==null;)(p.e.f&tt)===0&&ee.push(p),p=p.next;var ie=ee.length;if(ie>0){var Fe=(i&Za)!==0&&h===0?s:null;if(u){for(T=0;T<ie;T+=1)ee[T].a?.measure();for(T=0;T<ie;T+=1)ee[T].a?.fix()}Mi(n,ee,Fe)}}u&&Sr(()=>{if(S!==void 0)for(E of S)E.a?.apply()}),e.first=n.first&&n.first.e,e.last=w&&w.e;for(var Ae of r.values())ut(Ae.e);r.clear()}function Ls(e,t,n,r){(r&yr)!==0&&Pt(e.v,t),(r&br)!==0?Pt(e.i,n):e.i=n}function As(e,t,n,r,s,a,i,c,l,u,f){var h=(l&yr)!==0,d=(l&Fo)===0,v=h?d?Wr(s,!1,!1):Wt(s):s,p=(l&br)===0?i:Wt(i),g={i:p,v,k:a,a:null,e:null,prev:n,next:r};try{if(e===null){var w=document.createDocumentFragment();w.append(e=Xt())}return g.e=ct(()=>c(e,v,p,u),Go),g.e.prev=n&&n.e,g.e.next=r&&r.e,n===null?f||(t.first=g):(n.next=g,n.e.next=g.e),r!==null&&(r.prev=g,r.e.prev=g.e),g}finally{}}function Br(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,s=t?t.e.nodes_start:n,a=e.e.nodes_start;a!==null&&a!==r;){var i=Pr(a);s.before(a),a=i}}function ot(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function Ct(e,t,...n){var r=e,s=zt,a;Xn(()=>{s!==(s=t())&&(a&&(ut(a),a=null),a=ct(()=>s(r,...n)))},Zn)}function Qe(e,t,n){var r=e,s,a,i=null,c=null;function l(){a&&(jt(a),a=null),i&&(i.lastChild.remove(),r.before(i),i=null),a=c,c=null}Xn(()=>{if(s!==(s=t())){var u=va();if(s){var f=r;u&&(i=document.createDocumentFragment(),i.append(f=Xt())),c=ct(()=>n(f,s))}u?Y.add_callback(l):l()}},Zn)}function Ts(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=Ts(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Ri(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=Ts(e))&&(r&&(r+=" "),r+=t);return r}function X(e){return typeof e=="object"?Ri(e):e??""}const qa=[...` 	
\r\f \v\uFEFF`];function Bi(e,t,n){var r=e==null?"":""+e;if(t&&(r=r?r+" "+t:t),n){for(var s in n)if(n[s])r=r?r+" "+s:s;else if(r.length)for(var a=s.length,i=0;(i=r.indexOf(s,i))>=0;){var c=i+a;(i===0||qa.includes(r[i-1]))&&(c===r.length||qa.includes(r[c]))?r=(i===0?"":r.substring(0,i))+r.substring(c+1):i=c}}return r===""?null:r}function qi(e,t){return e==null?null:String(e)}function Q(e,t,n,r,s,a){var i=e.__className;if(i!==n||i===void 0){var c=Bi(n,r,a);c==null?e.removeAttribute("class"):e.className=c,e.__className=n}else if(a&&s!==a)for(var l in a){var u=!!a[l];(s==null||u!==!!s[l])&&e.classList.toggle(l,u)}return a}function gr(e,t,n,r){var s=e.__style;if(s!==t){var a=qi(t);a==null?e.removeAttribute("style"):e.style.cssText=a,e.__style=t}return r}const Fi=Symbol("is custom element"),Ui=Symbol("is html");function qr(e,t){var n=_a(e);n.value===(n.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function dr(e,t){var n=_a(e);n.checked!==(n.checked=t??void 0)&&(e.checked=t)}function Se(e,t,n,r){var s=_a(e);s[t]!==(s[t]=n)&&(t==="loading"&&(e[Co]=n),n==null?e.removeAttribute(t):typeof n!="string"&&ji(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function _a(e){return e.__attributes??(e.__attributes={[Fi]:e.nodeName.includes("-"),[Ui]:e.namespaceURI===Wo})}var Fa=new Map;function ji(e){var t=Fa.get(e.nodeName);if(t)return t;Fa.set(e.nodeName,t=[]);for(var n,r=e,s=Element.prototype;s!==r;){n=Ga(r);for(var a in n)n[a].set&&t.push(a);r=aa(r)}return t}function $i(e,t,n=t){var r=Jt(),s=new WeakSet;Ci(e,"input",a=>{var i=a?e.defaultValue:e.value;if(i=Fr(e)?Ur(i):i,n(i),Y!==null&&s.add(Y),r&&i!==(i=t())){var c=e.selectionStart,l=e.selectionEnd;e.value=i??"",l!==null&&(e.selectionStart=c,e.selectionEnd=Math.min(l,e.value.length))}}),Gt(t)==null&&e.value&&(n(Fr(e)?Ur(e.value):e.value),Y!==null&&s.add(Y)),ha(()=>{var a=t();if(e===document.activeElement){var i=cr??Y;if(s.has(i))return}Fr(e)&&a===Ur(e.value)||e.type==="date"&&!a&&!e.value||a!==e.value&&(e.value=a??"")})}function Fr(e){var t=e.type;return t==="number"||t==="range"}function Ur(e){return e===""?null:+e}function Ua(e,t){return e===t||e?.[Ft]===t}function Nt(e={},t,n,r){return hi(()=>{var s,a;return ha(()=>{s=a,a=[],Gt(()=>{e!==n(...a)&&(t(e,...a),s&&Ua(n(...s),e)&&t(null,...s))})}),()=>{Sr(()=>{a&&Ua(n(...a),e)&&t(null,...a)})}}),e}function Cn(e=!1){const t=ne,n=t.l.u;if(!n)return;let r=()=>Si(t.s);if(e){let s=0,a={};const i=Jn(()=>{let c=!1;const l=t.s;for(const u in l)l[u]!==a[u]&&(a[u]=l[u],c=!0);return c&&s++,s});r=()=>o(i)}n.b.length&&di(()=>{ja(t,r),vr(n.b)}),lt(()=>{const s=Gt(()=>n.m.map(bo));return()=>{for(const a of s)typeof a=="function"&&a()}}),n.a.length&&lt(()=>{ja(t,r),vr(n.a)})}function ja(e,t){if(e.l.s)for(const n of e.l.s)o(n);t()}let or=!1;function Hi(e){var t=or;try{return or=!1,[e(),or]}finally{or=t}}function ke(e,t,n,r){var s=!Pn||(n&jo)!==0,a=(n&Ho)!==0,i=(n&zo)!==0,c=r,l=!0,u=()=>(l&&(l=!1,c=i?Gt(r):r),c),f;if(a){var h=Ft in e||Po in e;f=dn(e,t)?.set??(h&&t in e?b=>e[t]=b:void 0)}var d,v=!1;a?[d,v]=Hi(()=>e[t]):d=e[t],d===void 0&&r!==void 0&&(d=u(),f&&(s&&Mo(),f(d)));var p;if(s?p=()=>{var b=e[t];return b===void 0?u():(l=!0,b)}:p=()=>{var b=e[t];return b!==void 0&&(c=void 0),b===void 0?c:b},s&&(n&$o)===0)return p;if(f){var g=e.$$legacy;return function(b,L){return arguments.length>0?((!s||!L||g||v)&&f(L?p():b),b):p()}}var w=!1,S=((n&Uo)!==0?Jn:kr)(()=>(w=!1,p()));a&&o(S);var m=j;return function(b,L){if(arguments.length>0){const A=L?o(S):s&&a?oe(b):b;return k(S,A),w=!0,c!==void 0&&(c=A),b}return Qt&&w||(m.f&Zt)!==0?S.v:o(S)}}function Ee(e){ne===null&&xo(),Pn&&ne.l!==null?zi(ne).m.push(e):lt(()=>{const t=Gt(e);if(typeof t=="function")return t})}function zi(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const Ki="5";var Va;typeof window<"u"&&((Va=window.__svelte??(window.__svelte={})).v??(Va.v=new Set)).add(Ki);let Ot=I(""),un=I(null);function Vi(e){k(Ot,""),setTimeout(()=>{k(Ot,e,!0)},16)}var Wi=O('<div class="notification svelte-1a2zucn"> </div>');function Gi(e,t){Z(t,!0),lt(()=>{o(Ot),o(Ot)&&(o(un)?.getBoundingClientRect(),o(un)?.style.setProperty("opacity","1"));const a=setTimeout(()=>{o(un)?.style.removeProperty("opacity")},800),i=setTimeout(()=>{k(Ot,""),o(un)?.style.removeProperty("opacity")},1200);return()=>{clearTimeout(a),clearTimeout(i)}});var n=M(),r=C(n);{var s=a=>{var i=Wi(),c=y(i);Nt(i,l=>k(un,l),()=>o(un)),re(()=>Nr(c,o(Ot))),_(a,i)};q(r,a=>{o(Ot)&&a(s)})}_(e,n),J()}Jo();var Yi=O('<span class="vh svelte-14jjkpd"><!></span>');function zn(e,t){var n=Yi(),r=y(n);Ct(r,()=>t.children),_(e,n)}var Zi=Li('<svg class="svelte-gv09tg"><use></use></svg>');function ce(e,t){let n=ke(t,"name",8,"");var r=Zi(),s=y(r);re(()=>Se(s,"href",`#icon-${n()??""}`)),_(e,r)}const Ds=(e,t)=>{if(!t)return e;if(t.type==="closed")return{type:"closed"};switch(e.type){case"opened":return t.type==="close"?{type:"closing"}:t.type==="swipe"?{type:"openSwiping"}:e;case"closed":return t.type==="open"?{type:"opening"}:t.type==="swipe"?{type:"closeSwiping"}:e;case"openSwiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"closeSwiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"opening":return t.type==="opened"?{type:"opened"}:e;default:return e}};let Zr=I(oe(Ds({type:"closed"})));const Is=e=>{k(Zr,Ds(o(Zr),e),!0)},Ji=()=>o(Zr),Xi=()=>{Is({type:"open"})},Qi=()=>{Is({type:"close"})},el=()=>{const e=Ji().type;e==="closed"?Xi():e==="opened"&&Qi()};var tl=O('<button class="buttonMenu svelte-hxzs42"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>');function Ms(e,t){Z(t,!1),Cn();var n=tl();n.__click=[el];var r=y(n);de(r,()=>({"--size":"28px"})),ce(r.lastChild,{name:"sidebarMenu"});var s=x(r,2);zn(s,{children:(a,i)=>{var c=rt("Menu");_(a,c)}}),_(e,n),J()}qe(["click"]);const P=oe({historyStack:[],pathname:window.location.pathname,search:window.location.search,historyLength:0});let Os=I(oe(new URLSearchParams(P.search).get("feedOrder")||"newest"));const Rs=()=>o(Os),nl=e=>{k(Os,e,!0);const t=new URLSearchParams(P.search);e==="newest"?t.delete("feedOrder"):t.set("feedOrder",e),pt(`${P.pathname}${t.size>0?`?${t.toString()}`:""}`)};let Bs=I(oe(new URLSearchParams(P.search).get("search")||""));const rl=()=>o(Bs),al=e=>{k(Bs,e,!0);const t=new URLSearchParams(P.search);e===""?t.delete("search"):t.set("search",e),pt(`${P.pathname}${t.size>0?`?${t.toString()}`:""}`)},qs=()=>new URLSearchParams(P.search).get("selectedTags")?.split(",")||[];let ir=qs();const sl=()=>{const e=qs();return e.join(",")===ir.join(",")||(ir=e),ir},ol=()=>{P.pathname=document.location.pathname,P.search=document.location.search,P.historyLength=Math.max(0,P.historyLength-=1)};window.addEventListener("popstate",ol);const pt=e=>{const[t,n]=e.split("?");P.pathname=t,P.search=n?`?${n}`:"",P.historyLength+=1,P.historyStack.push(window.location.href),window.history.replaceState(null,"",e)},il=e=>{const[t,n]=e.split("?");P.pathname=t,P.search=n?`?${n}`:"",window.history.replaceState(null,"",e)},ll=(e="/")=>{const[t,n]=e.split("?");if(P.historyLength<=0){const r=window.location.href,[s,a]=r.split("?");if(!a.includes("stackPages"))window.history.replaceState(null,"",e),P.historyLength=0,P.pathname=t,P.search=n?`?${n}`:"";else{const i=new URLSearchParams(a),l=(i.get("stackPages")?.split(",")||[]).slice(0,-1);l.length===0?i.delete("stackPages"):i.set("stackPages",l.join(","));const u=`${s}${i.toString()?`?${i.toString()}`:""}`;window.history.replaceState(null,"",u),P.search=i.toString()?`?${i.toString()}`:""}}else if(P.historyStack.length>0){const r=P.historyStack.pop();if(r){const[s,a]=r.split("?");window.history.replaceState(null,"",r),P.historyLength=Math.max(0,P.historyLength-=1),P.pathname=s,P.search=a?`?${a}`:""}}},Fs=()=>{const e=P.historyStack.findIndex(n=>n.includes("stackPages")),t=e===-1?P.historyStack.slice(0):P.historyStack.slice(0,e);if(t.length>0){const n=t.pop();if(n){const[r,s]=n.split("?");window.history.replaceState(null,"",n),P.historyLength=Math.max(0,t.length),P.pathname=r,P.search=s?`?${s}`:"",P.historyStack=t}}else window.history.replaceState(null,"","/"),P.historyLength=0,P.pathname="/",P.search="",P.historyStack=[]},at=()=>new URLSearchParams(P.search).get("stackPages")?.split(",")||[];let Ht=I(oe(at()));const Be=e=>{const t=at();if(!t.includes(e)){t.push(e);const n=new URLSearchParams(P.search);n.set("stackPages",t.join(",")),k(Ht,t,!0),pt(`${P.pathname}?${n.toString()}`)}},cl=e=>at().includes(e),Us=()=>{const e=o(Ht).slice(0,-1);k(Ht,e,!0)},ul=()=>{const e=at();return e.length>=o(Ht).length?e.reduce((t,n)=>[...t,{page:n,shown:!0}],[]):o(Ht).reduce((t,n,r)=>[...t,{page:n,shown:e.length===0?!1:r!==o(Ht).length-1}],[])},Jr=()=>{k(Ht,[],!0)},fl=e=>{e.preventDefault(),Be("settings")},dl=e=>{e.preventDefault(),Be("newNote")};var vl=O('<div class="header svelte-ww662s"><div class="top svelte-ww662s"><div class="desktop svelte-ww662s"><a class="link svelte-ww662s"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Settings</span></a></div> <div class="mobile svelte-ww662s"><!></div> <a class="addNote svelte-ww662s"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Add</span></a></div></div>');function hl(e,t){Z(t,!0);const n=()=>{const g=at();g.includes("settings")||g.push("settings");const w=new URLSearchParams(P.search);return w.set("stackPages",g.join(",")),`${P.pathname}?${w}`};let s=D(()=>{const g=at();g.includes("newNote")||g.push("newNote");const w=new URLSearchParams(P.search);return w.set("stackPages",g.join(",")),`${P.pathname}?${w}`}),a=D(n);var i=vl(),c=y(i),l=y(c),u=y(l);u.__click=[fl];var f=y(u);de(f,()=>({"--size":"20px"})),ce(f.lastChild,{name:"settings"});var h=x(l,2),d=y(h);Ms(d,{});var v=x(h,2);v.__click=[dl];var p=y(v);de(p,()=>({"--size":"24px","--color":"#b0b0b0"})),ce(p.lastChild,{name:"plus"}),re(()=>{Se(u,"href",o(a)),Se(v,"href",o(s))}),_(e,i),J()}qe(["click"]);const pl="modulepreload",_l=function(e){return"/"+e},$a={},et=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){let l=function(u){return Promise.all(u.map(f=>Promise.resolve(f).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),c=i?.nonce||i?.getAttribute("nonce");s=l(n.map(u=>{if(u=_l(u),u in $a)return;$a[u]=!0;const f=u.endsWith(".css"),h=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${h}`))return;const d=document.createElement("link");if(d.rel=f?"stylesheet":pl,f||(d.as="script"),d.crossOrigin="",d.href=u,c&&d.setAttribute("nonce",c),document.head.appendChild(d),f)return new Promise((v,p)=>{d.addEventListener("load",v),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${u}`)))})}))}function a(i){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=i,window.dispatchEvent(c),!c.defaultPrevented)throw i}return s.then(i=>{for(const c of i||[])c.status==="rejected"&&a(c.reason);return t().catch(a)})},gl=(e,t)=>{let n=null;return()=>{n&&clearTimeout(n),n=setTimeout(()=>{e()},t)}},js=()=>window.matchMedia("(max-width: 768px)").matches;let $s=I(oe(js()));const ml=gl(()=>{k($s,js(),!0)},16);window.addEventListener("resize",ml);const Nn=()=>o($s),ga=oe({count:0}),wl=()=>ga.count>0,Hs=()=>{ga.count+=1},zs=()=>{ga.count-=1};function yl(e,t){Z(t,!0);let n=ke(t,"blockedDialog",3,!1),r=ke(t,"hiddenDialog",3,!1),s=ke(t,"isLastDialog",3,!1),a=ke(t,"onStartClose",3,()=>{}),i=ke(t,"onClose",3,()=>{});const c=D(()=>s()?void 0:t.onStartBack);let l=null;function u(){return l||(l=et(()=>import("./MobileDialog-DLW893oH.js"),__vite__mapDeps([0,1]))),l}function f(){return l||(l=et(()=>import("./DesktopDialog-Cm9NXhyf.js"),__vite__mapDeps([2,3]))),l}Ee(()=>(Hs(),()=>{zs()}));var h=M(),d=C(h);{var v=g=>{var w=M(),S=C(w);Xe(S,u,null,(m,b)=>{var L=M();const A=D(()=>o(b).default);var E=C(L);Qe(E,()=>o(A),(T,z)=>{z(T,{get shownDialog(){return t.shownDialog},get blocked(){return n()},get unBlockedBack(){return t.unBlockedBack},get hiddenDialog(){return r()},get children(){return t.children},get onStartClose(){return t.onStartBack},get onClose(){return i()}})}),_(m,L)}),_(g,w)},p=g=>{var w=M(),S=C(w);Xe(S,f,null,(m,b)=>{var L=M();const A=D(()=>o(b).default);var E=C(L);Qe(E,()=>o(A),(T,z)=>{z(T,{get shownDialog(){return t.shownDialog},get blockedDialog(){return n()},get unBlockedBack(){return t.unBlockedBack},get hiddenDialog(){return r()},get children(){return t.children},get onStartBack(){return o(c)},get onStartClose(){return a()},get onClose(){return i()}})}),_(m,L)}),_(g,w)};q(d,g=>{Nn()?g(v):g(p,!1)})}_(e,h),J()}let Ks=I(!1),ma=I(!1);const qn=e=>{k(Ks,e,!0),e||k(ma,!1)},bl=()=>o(Ks),Ha=e=>{k(ma,e,!0)},Sl=()=>o(ma);function za(e,t){Z(t,!0);let n=ke(t,"blocked",3,!1),r=ke(t,"isLastDialog",3,!1),s=ke(t,"onBack",3,()=>{});const a=D(()=>n()||t.hidden||bl()),i=D(()=>Sl()&&!r());yl(e,{get shownDialog(){return t.shown},get blockedDialog(){return o(a)},get unBlockedBack(){return o(i)},get hiddenDialog(){return t.hidden},get isLastDialog(){return r()},onStartBack:()=>{(!o(a)||o(a)&&o(i))&&t.shown&&(ll(),s()())},onStartClose:()=>{(!o(a)||o(a)&&o(i))&&t.shown&&Fs()},onClose:()=>{Us()},children:(f,h)=>{var d=M(),v=C(d);Ct(v,()=>t.children),_(f,d)},$$slots:{default:!0}}),J()}let Xr=I(oe({showFavicon:!0}));const Vs=()=>o(Xr).showFavicon,wa=e=>{e&&k(Xr,{...o(Xr),...e},!0)};let R=I({initedDB:!1});const kl=()=>{k(R,{initedDB:!0})},Sn=async e=>{k(R,{...o(R),account:e})},Qn=async e=>{const t=o(R).notes||[],n=o(R).mapNotes||new Map;e.forEach(r=>{t.push(r),n.set(r.id,r)}),k(R,{...o(R),notes:t,mapNotes:n,getNotes:()=>t,getMapNotes:()=>n})},xr=()=>o(R).notes&&o(R).mapNotes,El=()=>o(R).account,Pl=()=>o(R).getNotes||(()=>o(R).notes||[]),Su=()=>o(R).getMapNotes||(()=>o(R).mapNotes||new Map),Ws=e=>{if(!o(R).notes||!o(R).mapNotes)throw new Error("Notes appState is not initialized");const t={...e};o(R).notes.push(t),o(R).mapNotes.set(t.id,t),k(R,{...o(R),getNotes:()=>o(R).notes,getMapNotes:()=>o(R).mapNotes})},Cl=async e=>{if(!o(R).notes||!o(R).mapNotes)throw new Error("Notes appState is not initialized");o(R).notes.forEach((t,n)=>{t?.id===e.id&&o(R).notes&&(o(R).notes[n]=e)}),o(R).mapNotes.set(e.id,e),k(R,{...o(R),getNotes:()=>o(R).notes,getMapNotes:()=>o(R).mapNotes})},Gs=async e=>{if(!o(R).notes||!o(R).mapNotes)throw new Error("Notes appState is not initialized");o(R).mapNotes.delete(e);const t=o(R).notes.findIndex(n=>n?.id===e);t!==-1&&(o(R).notes[t]=void 0),k(R,{...o(R),getNotes:()=>o(R).notes,getMapNotes:()=>o(R).mapNotes})},Ys=async()=>{const e=[],t=new Map;k(R,{...o(R),notes:e,mapNotes:t,getNotes:()=>e,getMapNotes:()=>t})};let Zs=I({});const Js=()=>o(Zs),Nl=e=>{k(Zs,e)};var xl=(e,t)=>t.onChange?.(e?.target?.value||""),Ll=O('<input class="svelte-6l2oy0"/>');function Qr(e,t){Z(t,!0);let n=ke(t,"value",15,"");var r=Ll();r.__input=[xl,t],re(()=>Se(r,"placeholder",t.placeholder)),Ns("focus",r,function(...s){t.onFocus?.apply(this,s)}),$i(r,n),_(e,r),J()}qe(["input"]);var Al=O('<button> <svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></button>');function lr(e,t){let n=D(()=>t.style==="selected"?"45deg":"0deg");var r=Al();r.__click=function(...i){t.onClick?.apply(this,i)};var s=y(r),a=x(s);de(a,()=>({"--size":"20px","--rotate":o(n)})),ce(a.lastChild,{name:"plus"}),re(()=>{Se(r,"type",t.type),Q(r,1,X([{selectedTag:t.style==="selected"}]),"svelte-1pjhi9i"),Nr(s,`${t.title??""} `)}),_(e,r)}qe(["click"]);const Tl=e=>{e.preventDefault(),Be("settings")};var Dl=O("<div></div>"),Il=O('<div class="sidebarFixed svelte-eq0qkl"><div class="nav svelte-eq0qkl"><!> <a class="link svelte-eq0qkl"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Settings</span></a></div> <div class="searchWrapper svelte-eq0qkl"><!></div> <!></div> <div></div>',1),Ml=O("<div></div>"),Ol=O('<div class="sidebar svelte-eq0qkl"><div class="sidebarFixed svelte-eq0qkl"><div class="searchWrapper svelte-eq0qkl"><!></div> <!></div> <div class="tags svelte-eq0qkl"></div></div>');function Rl(e,t){Z(t,!0);let n=I(null),r=I(""),s=D(()=>new URLSearchParams(P.search).get("selectedTags")?.split(",")||[]),a=null;function i(){return a||(a=et(()=>import("./MobileSidebar-BvyGBqsW.js"),__vite__mapDeps([4,5]))),a}const c=()=>{const m=at();m.includes("settings")||m.push("settings");const b=new URLSearchParams(P.search);return b.set("stackPages",m.join(",")),`${P.pathname}?${b}`},l=m=>{const b=new URLSearchParams(P.search);b.set("selectedTags",[...o(s),m].join(",")),pt(`${P.pathname}${b.size>0?`?${b.toString()}`:""}`),k(r,"")},u=m=>{const b=new URLSearchParams(P.search),L=o(s).filter(A=>A!==m);L.length===0?b.delete("selectedTags"):b.set("selectedTags",L.join(",")),pt(`${P.pathname}${b.size>0?`?${b.toString()}`:""}`)};let f=D(()=>xr()?Object.values(Js()).filter(m=>!o(s).some(b=>m.name===b)):[]),h=D(Nn);Ee(()=>{o(h)&&i()});let d=D(c),v=D(()=>at().length>0||wl());var p=M(),g=C(p);{var w=m=>{var b=M(),L=C(b);Xe(L,i,null,(A,E)=>{var T=M();const z=D(()=>o(E).default);var V=C(T);Qe(V,()=>o(z),(W,U)=>{U(W,{get blocked(){return o(v)},children:(B,ve)=>{var he=Il(),ee=C(he),ie=y(ee),Fe=y(ie);Ms(Fe,{});var Ae=x(Fe,2);Ae.__click=[Tl];var Te=y(Ae);de(Te,()=>({"--size":"20px"})),ce(Te.lastChild,{name:"settings"});var Ue=x(ie,2),tn=y(Ue);Qr(tn,{placeholder:"Search tag",get value(){return o(r)},set value(pe){k(r,pe,!0)}});var xn=x(Ue,2);{var nn=pe=>{var De=Dl();Q(De,1,X(["tags","selectedTags"]),"svelte-eq0qkl"),fn(De,20,()=>o(s),me=>me,(me,st)=>{lr(me,{get title(){return st},onClick:()=>u(st),style:"selected"})}),Nt(De,me=>k(n,me),()=>o(n)),_(pe,De)};q(xn,pe=>{o(s).length>0&&pe(nn)})}var je=x(ee,2);Q(je,1,X(["tags","tagsWrapper"]),"svelte-eq0qkl"),fn(je,21,()=>o(f),pe=>pe.name,(pe,De)=>{var me=M(),st=C(me);{var _e=N=>{lr(N,{get title(){return o(De).name},onClick:()=>l(o(De).name)})};q(st,N=>{(o(r)===""||o(De).name.toLowerCase().indexOf(o(r).toLowerCase())!==-1)&&N(_e)})}_(pe,me)}),re(()=>Se(Ae,"href",o(d))),_(B,he)},$$slots:{default:!0}})}),_(A,T)}),_(m,b)},S=m=>{var b=Ol(),L=y(b),A=y(L),E=y(A);Qr(E,{placeholder:"Search tag",get value(){return o(r)},set value(W){k(r,W,!0)}});var T=x(A,2);{var z=W=>{var U=Ml();Q(U,1,X(["tags","selectedTags"]),"svelte-eq0qkl"),fn(U,20,()=>o(s),B=>B,(B,ve)=>{lr(B,{get title(){return ve},onClick:()=>u(ve),style:"selected"})}),_(W,U)};q(T,W=>{o(s).length>0&&W(z)})}var V=x(L,2);fn(V,21,()=>o(f),W=>W.name,(W,U)=>{var B=M(),ve=C(B);{var he=ee=>{lr(ee,{get title(){return o(U).name},onClick:()=>l(o(U).name)})};q(ve,ee=>{(o(r)===""||o(U).name.toLowerCase().indexOf(o(r).toLowerCase())!==-1)&&ee(he)})}_(W,B)}),_(m,b)};q(g,m=>{o(h)?m(w):m(S,!1)})}_(e,p),J()}qe(["click"]);function Et(e){const t=String.fromCharCode(...new Uint8Array(e));return window.btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function ya(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");const n=t.length%4;return n&&(t+="=".repeat(4-n)),t}function ba(e){try{const t=atob(e),n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n.buffer}catch(t){throw console.error("Error decoding base64:",t,"Input:",e),t}}function ku(e){const t=ya(e);return ba(t)}const Eu=async({challenge:e,clientKey:t})=>{const n=Math.floor(Math.random()*100),r={challenge:ba(ya(e)),rp:{id:"localhost",name:"notes"},user:{id:new Uint8Array([...t,...crypto.getRandomValues(new Uint8Array(16))]).buffer,name:`account_${n}`,displayName:`account_${n}`},pubKeyCredParams:[{type:"public-key",alg:-7},{type:"public-key",alg:-257}],authenticatorSelection:{userVerification:"required"},timeout:6e4,attestation:"none"},s=await navigator.credentials.create({publicKey:r});if(s){const a=s.response;return{challenge:e,id:s.id,rawId:Et(s.rawId),type:s.type,response:{clientDataJSON:Et(a.clientDataJSON),attestationObject:Et(a.attestationObject)}}}else throw new Error},Pu=async({challenge:e})=>{const t={challenge:ba(ya(e)),timeout:6e4,rpId:"localhost",userVerification:"required"},n=await navigator.credentials.get({publicKey:t});if(n){const r=n.response,s=new DataView(r.authenticatorData).getUint32(33,!1);console.log("Counter:",s);const a={challenge:e,id:n.id,rawId:Et(n.rawId),type:n.type,response:{authenticatorData:Et(r.authenticatorData),clientDataJSON:Et(r.clientDataJSON),signature:Et(r.signature)}};if(!r.userHandle)throw new Error("No credential found");const i=new Uint8Array(r.userHandle).slice(0,32);return{credentialData:a,clientKey:i}}else throw new Error("No credential found")},Bl=async e=>{const t=await crypto.subtle.importKey("raw",e.serverKey,{name:"HKDF"},!1,["deriveKey"]),n=await crypto.subtle.deriveKey({name:"HKDF",salt:new Uint8Array(12),info:new TextEncoder().encode("aes-gcm-shared"),hash:"SHA-256"},t,{name:"AES-GCM",length:256},!1,["encrypt"]);return{encryptedClientKey:await crypto.subtle.encrypt({name:"AES-GCM",iv:new Uint8Array(12)},n,e.clientKey)}},Cu=async e=>{const t=await crypto.subtle.importKey("raw",e.serverKey,{name:"HKDF"},!1,["deriveKey"]),n=await crypto.subtle.deriveKey({name:"HKDF",info:new TextEncoder().encode("aes-gcm-shared"),hash:"SHA-256",salt:new Uint8Array(12)},t,{name:"AES-GCM",length:256},!1,["decrypt"]),r=await crypto.subtle.decrypt({name:"AES-GCM",iv:new Uint8Array(12)},n,e.encryptedClientKey);return new Uint8Array(r)},ql=()=>crypto.randomUUID(),Fl="AppStorage",Ul=1,Ze="notes",Ka="syncLog",kn="account",En="settings";let We;const jl=()=>new Promise((e,t)=>{const n=indexedDB.open(Fl,Ul);n.addEventListener("upgradeneeded",()=>{const r=n.result;r.objectStoreNames.contains(Ze)||r.createObjectStore(Ze,{keyPath:"id"}),r.objectStoreNames.contains(kn)||r.createObjectStore(kn,{keyPath:"id"}),r.objectStoreNames.contains(En)||r.createObjectStore(En,{keyPath:"id"}),r.objectStoreNames.contains(Ka)||r.createObjectStore(Ka,{keyPath:"id"})}),n.addEventListener("success",()=>{e(),We=n.result,We.onversionchange=function(){We?.close(),alert("app outdated, please reload the page")}}),n.addEventListener("blocked",()=>{t(),alert("app outdated, please reload the page")}),n.addEventListener("error",()=>{t(),console.error("Error",n.error)})}),Xs=()=>new Promise((e,t)=>{const r=We?.transaction(En,"readonly")?.objectStore(En).get("default");r?.addEventListener("success",()=>{const s=r?.result?.settings;e(s)}),r?.addEventListener("error",()=>{t()})}),$l=e=>new Promise((t,n)=>{const a=We?.transaction(En,"readwrite")?.objectStore(En)?.put({id:"default",settings:e});a?.addEventListener("success",()=>{t()}),a?.addEventListener("error",()=>{n()})}),Qs=()=>new Promise((e,t)=>{const r=We?.transaction(kn,"readonly")?.objectStore(kn).get("default");r?.addEventListener("success",()=>{const s=r?.result?.account;e(s)}),r?.addEventListener("error",()=>{t()})}),eo=e=>new Promise((t,n)=>{const a=We?.transaction(kn,"readwrite")?.objectStore(kn)?.put({id:"default",account:e});a?.addEventListener("success",()=>{console.log("account inited"),t()}),a?.addEventListener("error",()=>{n()})}),er=()=>new Promise((e,t)=>{const r=We?.transaction(Ze,"readonly")?.objectStore(Ze).getAll();r?.addEventListener("success",()=>{const s=r.result;e(s)}),r?.addEventListener("error",()=>{t()})}),Hl=async e=>new Promise((t,n)=>{const a=We?.transaction(Ze,"readwrite")?.objectStore(Ze)?.put({...e});a?.addEventListener("success",()=>{t()}),a?.addEventListener("error",()=>{n()})}),zl=async e=>new Promise((t,n)=>{const a=We?.transaction(Ze,"readwrite")?.objectStore(Ze)?.delete(e);a?.addEventListener("success",()=>{t()}),a?.addEventListener("error",()=>{n()})}),Kl=()=>new Promise((e,t)=>{const s=We?.transaction(Ze,"readwrite")?.objectStore(Ze)?.clear();s?.addEventListener("success",()=>{e()}),s?.addEventListener("error",()=>{t()})}),Sa=async()=>{await Kl()},Vl=async e=>{const t=(await er()).reduce((a,i)=>(a[i.id]=i,a),{}),n={},s=We?.transaction(Ze,"readwrite")?.objectStore(Ze);e.forEach(a=>{t[a.id]?t[a.id].updatedAt<a.updatedAt&&(n[a.id]=a):n[a.id]=a}),await Promise.all(Object.values(n).map(a=>{const i=s?.put(a);return new Promise((c,l)=>{i?.addEventListener("success",()=>{c()}),i?.addEventListener("error",()=>{l()})})}))};async function ka(){if(navigator.storage&&navigator.storage.persist)try{await navigator.storage.persisted()||await navigator.storage.persist()}catch{console.error("")}}const to=crypto.randomUUID(),no=new BroadcastChannel("app"),en=(e,t)=>{no.postMessage(JSON.stringify({tabId:to,type:e,data:t}))};no.addEventListener("message",async e=>{if(e.data&&typeof e.data=="string"){const t=JSON.parse(e.data);if(t.tabId&&t.tabId===to)return;if(t.type==="addNote"){const n=t.data;Ws(n)}else if(t.type==="updateNote"){const n=t.data;Cl(n)}else if(t.type==="deleteNote"){const n=t.data;Gs(n)}else if(t.type==="clearAppState")Ys();else if(t.type==="reloadNotes"){const n=await er();await Qn(n)}else if(t.type==="initLocalAccount")Sn(null),Jr(),pt("/");else if(t.type==="initAccount"){const n=await Qs();n&&(Sn(n),Jr(),pt("/"))}else if(t.type==="updateSettings"){const n=await Xs();n&&wa(n)}}});jl().then(async()=>{kl();const e=await Xs();wa(e);const t=await Qs();if(t===void 0)Be("start");else{cl("start")&&(Jr(),pt("/")),t?(Sn(t),await ka()):Sn(null);const n=await er();await Qn(n)}}).catch(()=>{console.error("failed to init db")});const Nu=async e=>{const t={...e,id:ql(),createdAt:Date.now(),updatedAt:Date.now()};Ws(t),en("addNote",t),await Hl({...t})},Wl=async e=>{wa({showFavicon:e}),await $l({showFavicon:e}),en("updateSettings")},Gl=async e=>{en("deleteNote",e),Gs(e),await zl(e)},xu=async()=>{en("clearAppState"),Ys(),await Sa()},Lu=async e=>{await Vl(e),en("reloadNotes");const t=await er();await Qn(t)},Yl=async()=>{await Sa(),await ka(),await eo(null),Sn(null),await Qn([]),en("initLocalAccount")},Au=async e=>{await Sa(),await ka();const{encryptedClientKey:t}=await Bl({clientKey:e.clientKey,serverKey:e.serverKey}),n={encryptedClientKey:Et(t),lastLogId:-1,lastSync:-1};await eo(n),Sn(n);const r=await er();await Qn(r),en("initAccount")};function Zl(e,t){Z(t,!0),Ee(()=>{const n=r=>{r.target&&t.dialog?.open&&t.dialogInner&&t.dialogInner!==r.target&&!t.dialogInner.contains(r.target)&&t.onClose()};return document.addEventListener("mousedown",n,{capture:!0}),()=>{document.removeEventListener("mousedown",n,{capture:!0})}}),J()}var Jl=O('<dialog><div class="dialogInner svelte-w3h659"><!></div></dialog> <!>',1);function ro(e,t){Z(t,!0);let n=I(null),r=I(null),s=I(!1);const a=()=>{const d=setTimeout(()=>{t.onClosed()},150);o(n)?.addEventListener("transitionend",()=>{clearTimeout(d),t.onClosed()},{once:!0}),k(s,!1)};lt(()=>{t.startClose&&a()}),Ee(()=>{o(n)?.showModal(),o(n)?.getClientRects(),k(s,!0)}),Ee(()=>(Hs(),()=>{zs()}));var i=Jl(),c=C(i),l=y(c),u=y(l);Ct(u,()=>t.children),Nt(l,d=>k(r,d),()=>o(r)),Nt(c,d=>k(n,d),()=>o(n));var f=x(c,2);{var h=d=>{Zl(d,{get dialog(){return o(n)},get dialogInner(){return o(r)},onClose:a})};q(f,d=>{o(n)&&o(r)&&d(h)})}re(()=>Q(c,1,X(["dialog",{shown:o(s)}]),"svelte-w3h659")),_(e,i),J()}var Xl=O("<div><!></div>");function ao(e,t){Z(t,!0);let n=I(!1),r=I(null);const s=()=>{const u=setTimeout(()=>{t.onClosed()},150);o(r)?.addEventListener("transitionend",()=>{clearTimeout(u),t.onClosed()},{once:!0}),k(n,!1)},a=u=>{u.target!==o(r)&&!o(r)?.contains(u.target)&&s()},i=u=>{u.target!==o(r)&&!o(r)?.contains(u.target)&&s()};Ee(()=>{o(r)?.getClientRects(),k(n,!0);const u=setTimeout(()=>{document.addEventListener("focusin",a),document.addEventListener("click",i)},0);return()=>{clearTimeout(u),document.removeEventListener("focusin",a),document.removeEventListener("click",i)}}),lt(()=>{t.startClose&&s()});var c=Xl(),l=y(c);Ct(l,()=>t.children),Nt(c,u=>k(r,u),()=>o(r)),re(()=>Q(c,1,X(["menu",{top:t.positionTop,shown:o(n)}]),"svelte-vbw57a")),_(e,c),J()}const Ql=(e,t,n)=>{const r=Js();t.note.tags.forEach(s=>{if(o(n).includes(s)&&r[s].connections===1){const a=new URLSearchParams(P.search),i=o(n).filter(c=>c!==s);i.length===0?a.delete("selectedTags"):a.set("selectedTags",i.join(",")),il(`${P.pathname}${a.size>0?`?${a.toString()}`:""}`)}}),Gl(t.note.id)},ec=(e,t,n)=>{k(t,!0),k(n,!0)};var tc=O('<div class="menu svelte-xxw0l"><div><button>Edit</button></div> <div><button>Delete</button></div></div>'),nc=O('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1);function rc(e,t){Z(t,!0);const n=(d,v=zt)=>{var p=tc(),g=y(p),w=y(g);w.__click=[ec,a,s];var S=x(g,2),m=y(S);m.__click=[Ql,t,c],re(()=>{Q(w,1,X(["button",{buttonMenuDialog:v()}]),"svelte-xxw0l"),Q(m,1,X(["button",{buttonMenuDialog:v()}]),"svelte-xxw0l")}),_(d,p)};let r=ke(t,"shownMenu",15),s=I(!1),a=I(!1),i=D(Nn),c=D(()=>new URLSearchParams(P.search).get("selectedTags")?.split(",")||[]);const l=()=>{r(!1),k(a,!1)};var u=M(),f=C(u);{var h=d=>{var v=M(),p=C(v);{var g=S=>{ro(S,{get startClose(){return o(a)},onClosed:l,children:(m,b)=>{n(m,()=>!0)},$$slots:{default:!0}})},w=S=>{var m=nc(),b=C(m);de(b,()=>({"--bottom":"-180%","--right":"30px"})),ao(b.lastChild,{get startClose(){return o(a)},get positionTop(){return t.showMenuUp},onClosed:l,children:(L,A)=>{n(L,()=>!1)},$$slots:{default:!0}}),_(S,m)};q(p,S=>{o(i)?S(g):S(w,!1)})}_(d,v)};q(f,d=>{r()&&d(h)})}_(e,u),J()}qe(["click"]);const ac=(e,t,n)=>{t.showMenuUp||k(n,!0)},sc=(e,t)=>{navigator.clipboard.writeText(t.note.url),Vi("Link copied to clipboard")},oc=(e,t)=>{k(t,!0)},ic=(e,t)=>{k(t,!1)};var lc=O('<div class="iconPlaceholder svelte-1khtf0k"></div>'),cc=O('<img loading="lazy" class="noteIcon" height="16" width="16" alt=""/>'),uc=O('<li class="note svelte-1khtf0k"><div class="noteIconWrapper svelte-1khtf0k"><!></div> <a class="noteLink svelte-1khtf0k" target="_blank" rel="noopener noreferrer"> </a> <div class="spacer svelte-1khtf0k"></div> <div><button class="button svelte-1khtf0k"><!> <!></button> <button><!> <!></button> <!></div></li>');function fc(e,t){Z(t,!0);let n=I(!1),r=I(!1),s=I(!1),a=D(Vs);const i=E=>{try{return`https://${new URL(E).host}/favicon.ico`}catch{return""}};var c=uc();c.__focusin=[oc,n],c.__focusout=[ic,n];var l=y(c),u=y(l);{var f=E=>{var T=lc();_(E,T)},h=E=>{var T=cc();re(z=>Se(T,"src",z),[()=>i(t.note.url)]),Ns("error",T,()=>{k(s,!0)}),_(E,T)};q(u,E=>{o(s)||!o(a)?E(f):E(h,!1)})}var d=x(l,2),v=y(d),p=x(d,4),g=y(p);g.__click=[sc,t];var w=y(g);ce(w,{name:"copy"});var S=x(w,2);zn(S,{children:(E,T)=>{var z=rt("copy link");_(E,z)}});var m=x(g,2);m.__click=[ac,t,r],Q(m,1,X(["button","buttonMenu"]),"svelte-1khtf0k");var b=y(m);ce(b,{name:"menu"});var L=x(b,2);zn(L,{children:(E,T)=>{var z=rt("show menu");_(E,z)}});var A=x(m,2);rc(A,{get note(){return t.note},get showMenuUp(){return t.showMenuUp},get shownMenu(){return o(r)},set shownMenu(E){k(r,E,!0)}}),re(()=>{Se(d,"tabindex",t.focusHidden?-1:0),Se(d,"href",t.note.url),Nr(v,t.note.title),Q(p,1,X(["noteMenuWrapper",{noteMenuWrapperActive:o(n)}]),"svelte-1khtf0k"),Se(g,"tabindex",t.focusHidden?-1:0),Se(m,"tabindex",t.focusHidden?-1:0)}),_(e,c),J()}qe(["focusin","focusout","click"]);const ea=oe({ref:null});let Ea=I(!1);const dc=(e,t)=>{let n;return()=>{n&&clearTimeout(n),n=setTimeout(()=>{e()},t)}},vc=dc(()=>{k(Ea,!1)},100),hc=()=>{k(Ea,!0),vc()},Tu=()=>o(Ea),pc=(e,t)=>{o(t)||k(t,!0)};var _c=(e,t)=>t("newest"),gc=(e,t)=>t("oldest"),mc=(e,t)=>t("AtoZ"),wc=(e,t)=>t("ZtoA"),yc=O("<div><button>Newest</button> <button>Oldest</button> <button>A to Z</button> <button>Z to A</button></div>"),bc=O('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),Sc=O('<div class="orderMenu svelte-16tnh9z"><button><!> <!></button> <!></div>');function kc(e,t){Z(t,!0);const n=(g,w=zt)=>{var S=yc(),m=y(S);m.__click=[_c,c];var b=x(m,2);b.__click=[gc,c];var L=x(b,2);L.__click=[mc,c];var A=x(L,2);A.__click=[wc,c],re(()=>{Q(S,1,X(["menu",{menuDialog:w()}]),"svelte-16tnh9z"),Q(m,1,X(["menuButton",{menuButtonDialog:w(),current:o(i)==="newest"}]),"svelte-16tnh9z"),Q(b,1,X(["menuButton",{menuButtonDialog:w(),current:o(i)==="oldest"}]),"svelte-16tnh9z"),Q(L,1,X(["menuButton",{menuButtonDialog:w(),current:o(i)==="AtoZ"}]),"svelte-16tnh9z"),Q(A,1,X(["menuButton",{menuButtonDialog:w(),current:o(i)==="ZtoA"}]),"svelte-16tnh9z")}),_(g,S)};let r=I(!1),s=I(!1),a=D(Nn),i=D(Rs);const c=g=>{k(s,!0),nl(g)},l=()=>{k(r,!1),k(s,!1)};var u=Sc(),f=y(u);f.__click=[pc,r],Q(f,1,X(["button","buttonMenu"]),"svelte-16tnh9z");var h=y(f);ce(h,{name:"filter"});var d=x(h,2);zn(d,{children:(g,w)=>{var S=rt("show feed order menu");_(g,S)}});var v=x(f,2);{var p=g=>{var w=M(),S=C(w);{var m=L=>{ro(L,{get startClose(){return o(s)},onClosed:l,children:(A,E)=>{n(A,()=>!0)},$$slots:{default:!0}})},b=L=>{var A=bc(),E=C(A);de(E,()=>({"--right":"20px","--top":"60px"})),ao(E.lastChild,{get startClose(){return o(s)},onClosed:l,children:(T,z)=>{n(T,()=>!1)},$$slots:{default:!0}}),_(L,A)};q(S,L=>{o(a)?L(m):L(b,!1)})}_(g,w)};q(v,g=>{o(r)&&g(p)})}_(e,u),J()}qe(["click"]);var Ec=O('<div><!> <div class="loader svelte-1wuuvr"></div></div>');function so(e,t){Z(t,!0);let n=I(!1);Ee(()=>{const a=setTimeout(()=>{k(n,!0)},200);return()=>{clearTimeout(a)}});var r=Ec(),s=y(r);Ct(s,()=>t.children??zt),re(()=>Q(r,1,X(["block",{shown:o(n)}]),"svelte-1wuuvr")),_(e,r),J()}var Pc=O("<a><!></a>"),Cc=O('<button type="button"><!></button>');function xt(e,t){let n=ke(t,"type",3,"standard"),r=ke(t,"element",3,"button"),s=ke(t,"href",3,""),a=ke(t,"fullWidth",3,!1);var i=M(),c=C(i);{var l=f=>{var h=Pc();h.__click=function(...v){t.onClick?.apply(this,v)};var d=y(h);Ct(d,()=>t.children??zt),re(()=>{Se(h,"href",s()),Q(h,1,X(["button","a",{dangerous:n()==="dangerous",secondary:n()==="secondary",fullWidth:a()}]),"svelte-na2c6y")}),_(f,h)},u=f=>{var h=Cc();h.__click=function(...v){t.onClick?.apply(this,v)};var d=y(h);Ct(d,()=>t.children??zt),re(()=>Q(h,1,X(["button",{dangerous:n()==="dangerous",secondary:n()==="secondary",fullWidth:a()}]),"svelte-na2c6y")),_(f,h)};q(c,f=>{r()==="a"?f(l):f(u,!1)})}_(e,i)}qe(["click"]);const Nc=(e,t)=>{o(t)&&o(t).scrollTo({top:0,behavior:"smooth"})};var xc=O('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Add note</span>',1),Lc=O('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span style="padding-left: 6px;">Import data</span>',1),Ac=O('<div class="emptyStore svelte-18wxs6q"><p class="message">No notes found</p> <div class="wrapperButtonsAdd svelte-18wxs6q"><!></div> <div>or</div> <div class="wrapperButtonsAdd svelte-18wxs6q"><!></div></div>'),Tc=O('<div class="emptyMessage svelte-18wxs6q">No notes found</div>'),Dc=O('<div class="feed svelte-18wxs6q"><ul class="svelte-18wxs6q"></ul></div>'),Ic=O('<div class="wrapperButtonTop svelte-18wxs6q"><button class="buttonTop svelte-18wxs6q"><!> <svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></button></div>'),Mc=O('<div class="filter svelte-18wxs6q"><div class="searchWrapper svelte-18wxs6q"><!></div> <!></div> <div class="wrapperFeed svelte-18wxs6q"><div class="wrapperContainer svelte-18wxs6q"><!></div></div> <!>',1);function Oc(e,t){Z(t,!0);let n=I(null),r=50,s=I(0),a=I(0),i=I(0),c=I(oe([])),l=D(rl),u=D(()=>Nn()?o(n):ea.ref),f=null,h=null,d=I(!1),v=0;const p=D(sl);lt(()=>{o(l),o(p),o(m),o(u)?.scrollTo(0,0)});const g=()=>{if(o(u)){const N=o(u).scrollTop||0;N===0?k(d,!1):!o(d)&&v>N?k(d,!0):o(d)&&v<N&&k(d,!1),v=N}},w=()=>{hc(),f||(f=requestAnimationFrame(()=>{g();const N=o(u)?.scrollTop||0;k(i,N,!0);const K=Math.ceil(o(s)/r);k(a,Math.floor(N/(r*K))*(r*K)),f=null}))},S=()=>{h||(h=requestAnimationFrame(()=>{g(),k(s,window.innerHeight-180||0,!0);const N=o(u)?.scrollTop||0;k(i,N,!0);const K=Math.ceil(o(s)/r);k(a,Math.floor(N/(r*K))*(r*K)),h=null}))};Ee(()=>{S(),w()}),lt(()=>(o(u)?.addEventListener("scroll",w),window.addEventListener("resize",S),()=>{o(u)?.removeEventListener("scroll",w),window.removeEventListener("resize",S)}));const m=D(Rs);let b=I(oe(o(m))),L=D(Pl);lt(()=>{o(m);const N=o(L)()||[];Gt(()=>o(b))!==o(m)&&(Gt(()=>k(b,o(m),!0)),N.sort((G,$)=>{if(!G||!$)return 0;switch(o(m)){case"newest":return G.createdAt>$.createdAt?-1:1;case"oldest":return G.createdAt<$.createdAt?-1:1;case"AtoZ":return G.title.localeCompare($.title);case"ZtoA":return $.title.localeCompare(G.title);default:return 0}}));const Pe=[],we={};for(let G=N.length-1;G>=0;G--){const $=N[G];if($&&!(o(p).length&&o(p).some(ae=>!$.tags.includes(ae)))&&!(o(l)&&!($.title.toLowerCase().includes(o(l).toLowerCase())||$.url.toLowerCase().includes(o(l).toLowerCase())||$.description.toLowerCase().includes(o(l).toLowerCase())))){if($.tags)for(const ae of $.tags)we[ae]?we[ae].connections++:we[ae]={name:ae,connections:1};Pe.push($)}}Nl(we),k(c,Pe,!0)});const A=D(()=>o(c).length*r);let T=D(()=>{const N=Math.ceil(o(s)/r);let K=Math.floor(o(a)/r);return K=K-Math.min(K,N),o(c).slice(K,K+N*3)}),z=D(()=>r*Math.ceil(o(s)/r));const V=D(()=>o(a)-Math.min(o(a),o(z))),W=()=>{o(u)&&o(u).scrollTo({top:0,behavior:"smooth"})},U=()=>{const N=at();N.includes("import")||N.push("import");const K=new URLSearchParams(P.search);return K.set("stackPages",N.join(",")),`${P.pathname}?${K}`};let ve=D(()=>{const N=at();N.includes("newNote")||N.push("newNote");const K=new URLSearchParams(P.search);return K.set("stackPages",N.join(",")),`${P.pathname}?${K}`}),he=D(U);const ee=N=>{N.preventDefault(),Be("newNote")},ie=N=>{N.preventDefault(),Be("import")},Fe=N=>{al(N)};var Ae=Mc(),Te=C(Ae),Ue=y(Te),tn=y(Ue);Qr(tn,{onFocus:W,onChange:Fe,placeholder:"Search",get value(){return o(l)}});var xn=x(Ue,2);kc(xn,{});var nn=x(Te,2),je=y(nn),pe=y(je);{var De=N=>{so(N,{})},me=N=>{var K=M(),Pe=C(K);{var we=$=>{var ae=Ac(),Ie=x(y(ae),2),vt=y(Ie);xt(vt,{element:"a",get href(){return o(ve)},onClick:ee,children:(ye,Je)=>{var fe=xc(),te=C(fe);de(te,()=>({"--size":"24px","--color":"#b0b0b0"})),ce(te.lastChild,{name:"plus"}),_(ye,fe)},$$slots:{default:!0}});var le=x(Ie,4),ue=y(le);xt(ue,{element:"a",get href(){return o(he)},onClick:ie,children:(ye,Je)=>{var fe=Lc(),te=C(fe);de(te,()=>({"--size":"18px","--color":"#b0b0b0"})),ce(te.lastChild,{name:"import"}),_(ye,fe)},$$slots:{default:!0}}),_($,ae)},G=$=>{var ae=M(),Ie=C(ae);{var vt=ue=>{var ye=Tc();_(ue,ye)},le=ue=>{var ye=Dc(),Je=y(ye);fn(Je,23,()=>o(T),fe=>fe.id,(fe,te,Me)=>{{let At=D(()=>o(Me)*r<o(i)-o(V)-r/2||o(Me)*r>o(i)-o(V)+Math.floor(o(s)/r)*r),Ln=D(()=>(o(Me)+3)*r<o(i)-o(V)-r/2||(o(Me)+3)*r>o(i)-o(V)+Math.floor(o(s)/r)*r);fc(fe,{get focusHidden(){return o(At)},get showMenuUp(){return o(Ln)},get note(){return o(te)}})}}),re(fe=>{gr(ye,`min-height: ${fe??""}px`),gr(Je,`transform: translateY(${o(V)??""}px);`)},[()=>Math.max((o(A)>o(s),o(A)),0)]),_(ue,ye)};q(Ie,ue=>{o(T).length===0?ue(vt):ue(le,!1)},!0)}_($,ae)};q(Pe,$=>{(o(L)()||[]).length===0?$(we):$(G,!1)},!0)}_(N,K)};q(pe,N=>{xr()?N(me,!1):N(De)})}Nt(je,N=>k(n,N),()=>o(n));var st=x(nn,2);{var _e=N=>{var K=Ic(),Pe=y(K);Pe.__click=[Nc,u];var we=y(Pe);zn(we,{children:($,ae)=>{var Ie=rt("top");_($,Ie)}});var G=x(we,2);de(G,()=>({"--size":"22px"})),ce(G.lastChild,{name:"up"}),_(N,K)};q(st,N=>{o(d)&&N(_e)})}_(e,Ae),J()}qe(["click"]);var Rc=O('<!> <div class="content svelte-cu0ar8"><!></div>',1);function Bc(e){var t=Rc(),n=C(t);Rl(n,{});var r=x(n,2),s=y(r);Oc(s,{}),_(e,t)}var Mt=(e=>(e.Light="light",e.System="system",e.Dark="dark",e))(Mt||{});let oo=I(oe(localStorage.getItem("colorScheme")||"system"));const qc=e=>{localStorage.setItem("colorScheme",e),e==="system"?window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.dataset.colorScheme="dark":document.documentElement.dataset.colorScheme="light":document.documentElement.dataset.colorScheme=e,k(oo,e,!0)},Fc=()=>o(oo);var Uc=O('<div class="wrapper svelte-1syxvud"><fieldset class="switcher svelte-1syxvud"><legend class="vh svelte-1syxvud">Color Scheme</legend> <input id="light" type="radio" aria-label="Light"/> <label for="light" title="Light" aria-label="Light"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <input id="system" type="radio" aria-label="System"/> <label for="system" title="System" aria-label="System"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <input id="dark" type="radio" aria-label="Dark"/> <label for="dark" title="Dark" aria-label="Dark"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <div class="wrapSwitcherStatus svelte-1syxvud"><div class="switcherStatus svelte-1syxvud"></div></div></fieldset></div>');function jc(e,t){Z(t,!0);const n=D(Fc),r=w=>{const S=w.target.value;qc(S)},s="color-scheme-switcher";var a=Uc(),i=y(a),c=x(y(i),2);Q(c,1,X(["vh","input"]),"svelte-1syxvud"),Se(c,"name",s),c.__change=r;var l=x(c,2);Q(l,1,X(["switcherButton","light"]),"svelte-1syxvud");var u=y(l);de(u,()=>({"--size":"20px"})),ce(u.lastChild,{name:"sun"});var f=x(l,2);Q(f,1,X(["vh","input"]),"svelte-1syxvud"),Se(f,"name",s),f.__change=r;var h=x(f,2);Q(h,1,X(["switcherButton","system"]),"svelte-1syxvud");var d=y(h);de(d,()=>({"--size":"14px"})),ce(d.lastChild,{name:"a"});var v=x(h,2);Q(v,1,X(["vh","input"]),"svelte-1syxvud"),Se(v,"name",s),v.__change=r;var p=x(v,2);Q(p,1,X(["switcherButton","dark"]),"svelte-1syxvud");var g=y(p);return de(g,()=>({"--size":"20px"})),ce(g.lastChild,{name:"moon"}),re(()=>{qr(c,Mt.Light),dr(c,o(n)===Mt.Light),qr(f,Mt.System),dr(f,o(n)===Mt.System),qr(v,Mt.Dark),dr(v,o(n)===Mt.Dark)}),_(e,a),J({handleChange:r})}qe(["change"]);const $c=(e,t)=>{t.onChange(!t.checked)};var Hc=O('<label class="switch svelte-nn0dud"><input class="vh svelte-nn0dud" type="checkbox"/> <span class="slider svelte-nn0dud"></span></label>');function zc(e,t){Z(t,!0);var n=Hc(),r=y(n);r.__change=[$c,t],re(()=>dr(r,t.checked)),_(e,n),J()}qe(["change"]);const Kc=()=>{Be("import")},Vc=()=>{Be("export")},Wc=()=>{Be("clearStorage")},Gc=()=>{Be("accessKeys")};var Yc=O('<li class="svelte-1kuxgbs"><button class="button svelte-1kuxgbs"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1kuxgbs">Access keys</span></button></li>'),Zc=O("<span> </span>"),Jc=O('<div class="svelte-1kuxgbs"><!> <ul class="svelte-1kuxgbs"><li class="svelte-1kuxgbs"><button class="button svelte-1kuxgbs"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1kuxgbs">Import data</span></button></li> <li class="svelte-1kuxgbs"><button class="button svelte-1kuxgbs"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1kuxgbs">Export data</span></button></li> <li class="svelte-1kuxgbs"><button class="button svelte-1kuxgbs"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1kuxgbs">Clear storage</span></button></li> <!></ul> <div class="favicons svelte-1kuxgbs"><span class="faviconsLabel svelte-1kuxgbs">show favicons</span> <!></div> <div class="version svelte-1kuxgbs"><!></div></div>');function Xc(e,t){Z(t,!0);let n=I("");Ee(()=>{const V=new AbortController;return fetch("/build-metadata.json",{signal:V.signal}).then(W=>W.json()).then(W=>{k(n,`${W.buildHash}`)}),()=>{V.abort()}});let r=D(El),s=D(Vs);const a=V=>{Wl(V)};var i=Jc(),c=y(i);jc(c,{});var l=x(c,2),u=y(l),f=y(u);f.__click=[Kc];var h=y(f);de(h,()=>({"--size":"20px"})),ce(h.lastChild,{name:"import"});var d=x(u,2),v=y(d);v.__click=[Vc];var p=y(v);de(p,()=>({"--size":"20px"})),ce(p.lastChild,{name:"export"});var g=x(d,2),w=y(g);w.__click=[Wc];var S=y(w);de(S,()=>({"--size":"20px"})),ce(S.lastChild,{name:"trash"});var m=x(g,2);{var b=V=>{var W=Yc(),U=y(W);U.__click=[Gc];var B=y(U);de(B,()=>({"--size":"20px"})),ce(B.lastChild,{name:"key"}),_(V,W)};q(m,V=>{o(r)&&V(b)})}var L=x(l,2),A=x(y(L),2);zc(A,{get checked(){return o(s)},onChange:a});var E=x(L,2),T=y(E);{var z=V=>{var W=Zc(),U=y(W);re(B=>Nr(U,`version: 0.0.1 build_date: "${B??""}" build_hash:
				${o(n)??""}`),[()=>new Date(1753679457345).toISOString().replaceAll("T"," ").replace(/\..*/,"")]),_(V,W)};q(T,V=>{o(n)&&V(z)})}_(e,i),J()}qe(["click"]);var Qc=O('<div class="content svelte-9hh95f"><p class="message svelte-9hh95f">use app</p> <div class="buttonContainer svelte-9hh95f"><div class="buttonContainerItem svelte-9hh95f"><!></div> <div class="buttonContainerItem svelte-9hh95f"><!></div></div></div>');function eu(e,t){Z(t,!0);let n=I("idle");const r=()=>{k(n,"loading"),Be("auth")},s=async()=>{k(n,"loading"),await Yl(),qn(!1),Fs()};lt(()=>{qn(o(n)==="idle"||o(n)==="loading")}),Ee(()=>(qn(!0),()=>{qn(!1)}));var a=Qc(),i=x(y(a),2),c=y(i),l=y(c);xt(l,{onClick:r,fullWidth:!0,children:(h,d)=>{var v=rt("with account");_(h,v)},$$slots:{default:!0}});var u=x(c,2),f=y(u);xt(f,{onClick:s,fullWidth:!0,type:"secondary",children:(h,d)=>{var v=rt("without account");_(h,v)},$$slots:{default:!0}}),_(e,a),J()}var tu=O('<div class="content svelte-9hh95f"><p class="message svelte-9hh95f">sign in / sign up</p> <div class="buttonContainer svelte-9hh95f"><div class="buttonContainerItem svelte-9hh95f"><!></div> <div class="buttonContainerItem svelte-9hh95f"><!></div></div></div>');function nu(e,t){Z(t,!1);const n=async()=>{Be("signin")},r=async()=>{Be("signup")};Ee(()=>(qn(!0),Ha(!0),()=>{Ha(!1)})),Cn();var s=tu(),a=x(y(s),2),i=y(a),c=y(i);xt(c,{onClick:n,fullWidth:!0,children:(f,h)=>{var d=rt("sign in");_(f,d)},$$slots:{default:!0}});var l=x(i,2),u=y(l);xt(u,{onClick:r,fullWidth:!0,children:(f,h)=>{var d=rt("sign up");_(f,d)},$$slots:{default:!0}}),_(e,s),J()}let io=I(200);const ru=e=>{k(io,e,!0)},au=()=>o(io);var su=O('<div class="svelte-m08fup"><!></div>');function ze(e,t){Z(t,!0);let n=I(null);Ee(()=>{o(n)&&(o(n).getBoundingClientRect(),o(n).style.opacity="1");const a=new ResizeObserver(i=>{for(let c of i){const l=c.contentRect.height;console.log("Div height:",l),ru(l)}});if(o(n))return a.observe(o(n)),()=>{o(n)&&a.unobserve(o(n)),a.disconnect()}});var r=su(),s=y(r);Ct(s,()=>t.children),Nt(r,a=>k(n,a),()=>o(n)),_(e,r),J()}var ou=O('<div class="svelte-uzefkz"><!></div>');function wt(e,t){Z(t,!1);const n=au();Cn();var r=ou(),s=y(r);so(s,{}),re(()=>gr(r,`min-height: ${n??""}px;`)),_(e,r),J()}var iu=O('<div class="svelte-1tpcci8"><p class="svelte-1tpcci8">Something went wrong. Please reload the page</p> <!></div>');function yt(e){var t=iu(),n=x(y(t),2);xt(n,{onClick:()=>location.reload(),children:(r,s)=>{var a=rt("Reload");_(r,a)},$$slots:{default:!0}}),_(e,t)}var lu=O('<div class="svelte-ndasxn"><p class="svelte-ndasxn">Page not found</p> <!></div>');function cu(e,t){Z(t,!1);const n=()=>{pt("/")};Cn();var r=lu(),s=x(y(r),2);xt(s,{element:"a",href:"/",onClick:n,children:(a,i)=>{var c=rt("close");_(a,c)},$$slots:{default:!0}}),_(e,r),J()}var uu=O("<!> <!>",1);function fu(e,t){Z(t,!0);const n=(U,B=zt,ve)=>{let he=kr(()=>ko(ve?.(),!1));var ee=M(),ie=C(ee);{var Fe=Te=>{ze(Te,{children:(Ue,tn)=>{Xc(Ue,{})},$$slots:{default:!0}})},Ae=Te=>{var Ue=M(),tn=C(Ue);{var xn=je=>{ze(je,{children:(pe,De)=>{var me=M(),st=C(me);Xe(st,L,_e=>{wt(_e,{})},(_e,N)=>{var K=M();const Pe=D(()=>o(N).default);var we=C(K);Qe(we,()=>o(Pe),(G,$)=>{$(G,{})}),_(_e,K)},_e=>{yt(_e)}),_(pe,me)},$$slots:{default:!0}})},nn=je=>{var pe=M(),De=C(pe);{var me=_e=>{ze(_e,{children:(N,K)=>{var Pe=M(),we=C(Pe);Xe(we,v,G=>{wt(G,{})},(G,$)=>{var ae=M();const Ie=D(()=>o($).default);var vt=C(ae);Qe(vt,()=>o(Ie),(le,ue)=>{ue(le,{})}),_(G,ae)},G=>{yt(G)}),_(N,Pe)},$$slots:{default:!0}})},st=_e=>{var N=M(),K=C(N);{var Pe=G=>{ze(G,{children:($,ae)=>{var Ie=M(),vt=C(Ie);Xe(vt,p,le=>{wt(le,{})},(le,ue)=>{var ye=M();const Je=D(()=>o(ue).default);var fe=C(ye);Qe(fe,()=>o(Je),(te,Me)=>{Me(te,{})}),_(le,ye)},le=>{yt(le)}),_($,Ie)},$$slots:{default:!0}})},we=G=>{var $=M(),ae=C($);{var Ie=le=>{ze(le,{children:(ue,ye)=>{var Je=M(),fe=C(Je);Xe(fe,g,te=>{wt(te,{})},(te,Me)=>{var At=M();const Ln=D(()=>o(Me).default);var Lr=C(At);Qe(Lr,()=>o(Ln),(gt,rn)=>{rn(gt,{})}),_(te,At)},te=>{yt(te)}),_(ue,Je)},$$slots:{default:!0}})},vt=le=>{var ue=M(),ye=C(ue);{var Je=te=>{ze(te,{children:(Me,At)=>{eu(Me,{})},$$slots:{default:!0}})},fe=te=>{var Me=M(),At=C(Me);{var Ln=gt=>{ze(gt,{children:(rn,Pa)=>{nu(rn,{})},$$slots:{default:!0}})},Lr=gt=>{var rn=M(),Pa=C(rn);{var lo=an=>{ze(an,{children:(tr,Ca)=>{var nr=M(),Ar=C(nr);Xe(Ar,w,$e=>{wt($e,{})},($e,sn)=>{var An=M();const on=D(()=>o(sn).default);var Tn=C(An);Qe(Tn,()=>o(on),(Ce,mt)=>{mt(Ce,{})}),_($e,An)},$e=>{yt($e)}),_(tr,nr)},$$slots:{default:!0}})},co=an=>{var tr=M(),Ca=C(tr);{var nr=$e=>{ze($e,{children:(sn,An)=>{var on=M(),Tn=C(on);Xe(Tn,S,Ce=>{wt(Ce,{})},(Ce,mt)=>{var Dn=M();const ln=D(()=>o(mt).default);var In=C(Dn);Qe(In,()=>o(ln),(Ne,Tt)=>{Tt(Ne,{})}),_(Ce,Dn)},Ce=>{yt(Ce)}),_(sn,on)},$$slots:{default:!0}})},Ar=$e=>{var sn=M(),An=C(sn);{var on=Ce=>{ze(Ce,{children:(mt,Dn)=>{var ln=M(),In=C(ln);Xe(In,m,Ne=>{wt(Ne,{})},(Ne,Tt)=>{var rr=M();const ar=D(()=>o(Tt).default);var Tr=C(rr);Qe(Tr,()=>o(ar),(Dt,Dr)=>{Dr(Dt,{get hidden(){return o(he)}})}),_(Ne,rr)},Ne=>{yt(Ne)}),_(mt,ln)},$$slots:{default:!0}})},Tn=Ce=>{var mt=M(),Dn=C(mt);{var ln=Ne=>{ze(Ne,{children:(Tt,rr)=>{var ar=M(),Tr=C(ar);Xe(Tr,b,Dt=>{wt(Dt,{})},(Dt,Dr)=>{var Na=M();const uo=D(()=>o(Dr).default);var fo=C(Na);Qe(fo,()=>o(uo),(vo,ho)=>{ho(vo,{})}),_(Dt,Na)},Dt=>{yt(Dt)}),_(Tt,ar)},$$slots:{default:!0}})},In=Ne=>{ze(Ne,{children:(Tt,rr)=>{cu(Tt,{})},$$slots:{default:!0}})};q(Dn,Ne=>{B()==="confirmAccessKey"?Ne(ln):Ne(In,!1)},!0)}_(Ce,mt)};q(An,Ce=>{B()==="accessKeys"?Ce(on):Ce(Tn,!1)},!0)}_($e,sn)};q(Ca,$e=>{B()==="signin"?$e(nr):$e(Ar,!1)},!0)}_(an,tr)};q(Pa,an=>{B()==="signup"?an(lo):an(co,!1)},!0)}_(gt,rn)};q(At,gt=>{B()==="auth"?gt(Ln):gt(Lr,!1)},!0)}_(te,Me)};q(ye,te=>{B()==="start"?te(Je):te(fe,!1)},!0)}_(le,ue)};q(ae,le=>{B()==="clearStorage"?le(Ie):le(vt,!1)},!0)}_(G,$)};q(K,G=>{B()==="export"?G(Pe):G(we,!1)},!0)}_(_e,N)};q(De,_e=>{B()==="import"?_e(me):_e(st,!1)},!0)}_(je,pe)};q(tn,je=>{B()==="newNote"?je(xn):je(nn,!1)},!0)}_(Te,Ue)};q(ie,Te=>{B()==="settings"?Te(Fe):Te(Ae,!1)})}_(U,ee)};let r=D(ul),s=D(xr),a=null,i=null,c=null,l=null,u=null,f=null,h=null,d=null;function v(){return a||(a=et(()=>import("./ImportData-B8hdmW9t.js"),__vite__mapDeps([6,7]))),a}function p(){return i||(i=et(()=>import("./ExportData-DEKubuNt.js"),__vite__mapDeps([8,9,10,11]))),i}function g(){return c||(c=et(()=>import("./ClearStore-CcbJIe5v.js"),__vite__mapDeps([12,13]))),c}function w(){return l||(l=et(()=>import("./Signup-BCw9jHz7.js"),__vite__mapDeps([14,15,16]))),l}function S(){return u||(u=et(()=>import("./Signin-lNiTZqre.js"),__vite__mapDeps([17,15,16]))),u}function m(){return f||(f=et(()=>import("./AccessKeys-B4jhbrMW.js"),__vite__mapDeps([18,15,19]))),f}function b(){return h||(h=et(()=>import("./ConfirmAccessKey-jt4JfPcJ.js"),__vite__mapDeps([20,15,21,22,23]))),h}function L(){return d||(d=et(()=>import("./NewNote-D57mGiGF.js"),__vite__mapDeps([24,21,22,9,10,25]))),d}var A=uu(),E=C(A);{var T=U=>{Bc(U)};q(E,U=>{o(s)&&U(T)})}var z=x(E,2);{var V=U=>{var B=M(),ve=C(B);fn(ve,17,()=>o(r),Ii,(he,ee,ie)=>{{let Fe=D(()=>ie!==o(r).length-1&&!!o(r)[ie+1]?.shown);za(he,{get shown(){return o(ee).shown},get hidden(){return o(Fe)},isLastDialog:ie===0,children:(Ae,Te)=>{{let Ue=D(()=>ie!==o(r).length-1&&!!o(r)[ie+1]?.shown);n(Ae,()=>o(ee).page,()=>o(Ue))}},$$slots:{default:!0}})}}),_(U,B)},W=U=>{var B=M(),ve=C(B);{var he=ee=>{{let ie=D(()=>o(r).length===1);za(ee,{onBack:()=>Us(),get shown(){return o(r)[o(r).length-1].shown},hidden:!1,get isLastDialog(){return o(ie)},children:(Fe,Ae)=>{n(Fe,()=>o(r)[o(r).length-1].page)},$$slots:{default:!0}})}};q(ve,ee=>{o(r).length>0&&ee(he)},!0)}_(U,B)};q(z,U=>{Nn()?U(V):U(W,!1)})}_(e,A),J()}const Rn=oe({working:!1,swipingRatio:1,isSwiping:!1,duration:.35});let ta=!1;const jr=()=>{document.activeElement instanceof HTMLInputElement&&document.activeElement.type==="text"||document.activeElement instanceof HTMLTextAreaElement?ta=!0:ta=!1},du=()=>ta;function vu(){const e=navigator.userAgent;if(!(/iPad|iPhone|iPod/.test(e)&&!window.MSStream))return!1;const n=/Safari/.test(e)&&!/Chrome/.test(e)&&!/CriOS/.test(e)&&!/FxiOS/.test(e),r=/Macintosh/.test(e)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>1;return!!n||!!r}const hu=vu();function pu(e,t){Z(t,!1),Ee(()=>{jr(),document.addEventListener("focusin",jr),document.addEventListener("focusout",jr),document.addEventListener("touchmove",function(n){du()&&hu&&n.preventDefault()},{passive:!1})}),Cn(),J()}function _u(e,t){Z(t,!1);let n=0;Ee(()=>{document.querySelector("div"),document.addEventListener("touchstart",r=>{n=r.touches[0].clientX},{passive:!1}),document.addEventListener("touchmove",r=>{const a=r.touches[0].clientX-n;(n<50&&a>0||n>window.innerWidth-50&&a<0)&&r.preventDefault()},{passive:!1}),document.addEventListener("touchend",()=>{n=0}),document.addEventListener("touchcancel",()=>{n=0})}),Cn(),J()}var gu=O('<!> <!> <!> <main><!> <div class="container svelte-ngsolt"><!></div></main>',1);function mu(e,t){Z(t,!0),Ee(async()=>{await new Promise(v=>setTimeout(v,100)),await yi(),Rn.working=!0});let n=D(()=>at().length>0),r=D(xr);var s=gu(),a=C(s);_u(a,{});var i=x(a,2);pu(i,{});var c=x(i,2);Gi(c,{});var l=x(c,2),u=y(l);{var f=v=>{hl(v,{})};q(u,v=>{o(r)&&v(f)})}var h=x(u,2),d=y(h);fu(d,{}),Nt(l,v=>ea.ref=v,()=>ea?.ref),re(()=>{gr(l,`--swiping-ratio: ${Rn.swipingRatio}; --transition-timing-default: ${Rn.duration}s;`),Q(l,1,X(["main",{isAnimationOn:Rn.working&&!Rn.isSwiping,open:o(n)}]),"svelte-ngsolt")}),_(e,s),J()}window.addEventListener("unhandledrejection",e=>{alert("Error: "+e.reason.message)});window.isUnsupportedBrowser||Ai(mu,{target:document.getElementById("app")});export{xr as $,Pl as A,xt as B,Su as C,xu as D,oe as E,Ha as F,Eu as G,Au as H,ku as I,Pu as J,fn as K,so as L,de as M,ce as N,Nr as O,Ii as P,D as Q,Be as R,at as S,P as T,El as U,zn as V,Cu as W,Us as X,ll as Y,ke as Z,$i as _,o as a,lr as a0,Cn as a1,Nu as a2,bu as a3,Se as a4,qr as a5,dr as a6,gr as a7,Rn as a8,du as a9,Ct as aa,hc as ab,Tu as ac,Zl as ad,au as ae,ul as af,Is as ag,Ji as ah,I as b,y as c,_ as d,J as e,O as f,ql as g,x as h,q as i,C as j,Nn as k,M as l,Nt as m,k as n,Ee as o,Z as p,re as q,Q as r,qn as s,rt as t,lt as u,X as v,Ns as w,qe as x,Lu as y,Fs as z};
