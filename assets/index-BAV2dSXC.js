const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/MobileSidebar-DPGKuznW.js","assets/MobileSidebar-1JBO3KHP.css","assets/About-DGmukou-.js","assets/About-Dq-CGdnI.css","assets/AccessKeys-C_tWYGcf.js","assets/webauthn-Dy13XHj8.js","assets/AccessKeys-BDHupy-W.css","assets/Account-BashJPcs.js","assets/Account-B_4WPOGa.css","assets/Auth-DiwGMe-1.js","assets/Auth-DUSiNlzc.css","assets/ClearStore-BP2MVdnJ.js","assets/ClearStore-CFMXavw3.css","assets/ConfirmAccessKey-Lr4Wf91W.js","assets/crypto-Cpa8lgv9.js","assets/Input-MjxHaE-L.js","assets/Input-j0KFa_-O.css","assets/ConfirmAccessKey-C5pMGk3u.css","assets/EditNote-IvfZPH6A.js","assets/NoteForm-Bod06_AH.js","assets/NoteForm-DfRmfh2L.css","assets/EditNote-HOTUjnfJ.css","assets/Exit-MPNcagQr.js","assets/Exit-BVeFekri.css","assets/ExportData-BMegLJkr.js","assets/ExportData-DAHHg6lv.css","assets/ImportData-AdDnmhc6.js","assets/ImportData-BoD3Qa8Y.css","assets/NewNote-B-aRPcNq.js","assets/Settings-ChIz7lY5.js","assets/Settings-BN8xpILX.css","assets/Signin-BR7acqov.js","assets/Signin-DlYwjIyC.css","assets/Signup-DcgAHmBi.js","assets/Signup-BlQ-6iHI.css","assets/Subscription-am0oYgrq.js","assets/Subscription-DkTFHdRa.css","assets/Sync-DOdYDVeK.js","assets/Sync-QQfGH1sn.css"])))=>i.map(i=>d[i]);
var Ps=Object.defineProperty;var La=e=>{throw TypeError(e)};var xs=(e,t,n)=>t in e?Ps(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var _n=(e,t,n)=>xs(e,typeof t!="symbol"?t+"":t,n),Vr=(e,t,n)=>t.has(e)||La("Cannot "+n);var x=(e,t,n)=>(Vr(e,t,"read from private field"),n?n.call(e):t.get(e)),oe=(e,t,n)=>t.has(e)?La("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),X=(e,t,n,r)=>(Vr(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),He=(e,t,n)=>(Vr(e,t,"access private method"),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();const Za=!1;var ca=Array.isArray,Ds=Array.prototype.indexOf,ua=Array.from,Zr=Object.defineProperty,yn=Object.getOwnPropertyDescriptor,Ja=Object.getOwnPropertyDescriptors,Ts=Object.prototype,As=Array.prototype,da=Object.getPrototypeOf,Ma=Object.isExtensible;const se=()=>{};function Ns(e){return typeof e?.then=="function"}function Ls(e){return e()}function kr(e){for(var t=0;t<e.length;t++)e[t]()}function Ms(){var e,t,n=new Promise((r,a)=>{e=r,t=a});return{promise:n,resolve:e,reject:t}}function Os(e,t,n=!1){return e===void 0?n?t():t:e}const Je=2,fa=4,Ar=8,Ln=16,Tt=32,nn=64,va=128,st=256,Er=512,Be=1024,it=2048,qt=4096,ft=8192,rn=16384,ha=32768,Mn=65536,Oa=1<<17,Is=1<<18,On=1<<19,Qa=1<<20,Jr=1<<21,ga=1<<22,Jt=1<<23,Qt=Symbol("$state"),Bs=Symbol("legacy props"),Rs=Symbol(""),_a=new class extends Error{constructor(){super(...arguments);_n(this,"name","StaleReactionError");_n(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function eo(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Fs(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Hs(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function js(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Us(e){throw new Error("https://svelte.dev/e/effect_orphan")}function zs(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Vs(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function qs(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Ws(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Ks(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Ys(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const Nr=1,Lr=2,to=4,$s=8,Gs=16,Xs=1,Zs=2,Js=4,Qs=8,ei=16,ti=1,ni=2,Ee=Symbol(),ri="http://www.w3.org/1999/xhtml";let ai=!1;function no(e){return e===this.v}function oi(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function ro(e){return!oi(e,this.v)}let In=!1,si=!1;function ii(){In=!0}let de=null;function zt(e){de=e}function we(e){return ao().get(e)}function ye(e,t){return ao().set(e,t),t}function Y(e,t=!1,n){de={p:de,c:null,e:null,s:e,x:null,l:In&&!t?{s:null,u:null,$:[]}:null}}function $(e){var t=de,n=t.e;if(n!==null){t.e=null;for(var r of n)yo(r)}return e!==void 0&&(t.x=e),de=t.p,e??{}}function Bn(){return!In||de!==null&&de.l===null}function ao(e){return de===null&&eo(),de.c??(de.c=new Map(li(de)||void 0))}function li(e){let t=e.p;for(;t!==null;){const n=t.c;if(n!==null)return n;t=t.p}return null}let Ft=[],Cr=[];function oo(){var e=Ft;Ft=[],kr(e)}function ci(){var e=Cr;Cr=[],kr(e)}function ui(){return Ft.length>0||Cr.length>0}function an(e){if(Ft.length===0&&!Kn){var t=Ft;queueMicrotask(()=>{t===Ft&&oo()})}Ft.push(e)}function di(){Ft.length>0&&oo(),Cr.length>0&&ci()}const fi=new WeakMap;function so(e){var t=ee;if(t===null)return J.f|=Jt,e;if((t.f&ha)===0){if((t.f&va)===0)throw!t.parent&&e instanceof Error&&io(e),e;t.b.error(e)}else Dn(e,t)}function Dn(e,t){for(;t!==null;){if((t.f&va)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e instanceof Error&&io(e),e}function io(e){const t=fi.get(e);t&&(Zr(e,"message",{value:t.message}),Zr(e,"stack",{value:t.stack}))}const qr=new Set;let fe=null,pr=null,Qr=new Set,tn=[],Mr=null,ea=!1,Kn=!1;var Qn,Cn,Mt,er,tr,Yt,Pn,$t,Ot,xn,nr,rr,ht,lo,mr,ta;const xr=class xr{constructor(){oe(this,ht);_n(this,"current",new Map);oe(this,Qn,new Map);oe(this,Cn,new Set);oe(this,Mt,0);oe(this,er,null);oe(this,tr,!1);oe(this,Yt,[]);oe(this,Pn,[]);oe(this,$t,[]);oe(this,Ot,[]);oe(this,xn,[]);oe(this,nr,[]);oe(this,rr,[]);_n(this,"skipped_effects",new Set)}process(t){tn=[],pr=null;for(const a of t)He(this,ht,lo).call(this,a);if(x(this,Yt).length===0&&x(this,Mt)===0){He(this,ht,ta).call(this);var n=x(this,$t),r=x(this,Ot);X(this,$t,[]),X(this,Ot,[]),X(this,xn,[]),pr=fe,fe=null,Ia(n),Ia(r),fe===null?fe=this:qr.delete(this),x(this,er)?.resolve()}else He(this,ht,mr).call(this,x(this,$t)),He(this,ht,mr).call(this,x(this,Ot)),He(this,ht,mr).call(this,x(this,xn));for(const a of x(this,Yt))kn(a);for(const a of x(this,Pn))kn(a);X(this,Yt,[]),X(this,Pn,[])}capture(t,n){x(this,Qn).has(t)||x(this,Qn).set(t,n),this.current.set(t,t.v)}activate(){fe=this}deactivate(){fe=null,pr=null;for(const t of Qr)if(Qr.delete(t),t(),fe!==null)break}neuter(){X(this,tr,!0)}flush(){tn.length>0?uo():He(this,ht,ta).call(this),fe===this&&(x(this,Mt)===0&&qr.delete(this),this.deactivate())}increment(){X(this,Mt,x(this,Mt)+1)}decrement(){if(X(this,Mt,x(this,Mt)-1),x(this,Mt)===0){for(const t of x(this,nr))Ye(t,it),Tn(t);for(const t of x(this,rr))Ye(t,qt),Tn(t);X(this,$t,[]),X(this,Ot,[]),this.flush()}else this.deactivate()}add_callback(t){x(this,Cn).add(t)}settled(){return(x(this,er)??X(this,er,Ms())).promise}static ensure(){if(fe===null){const t=fe=new xr;qr.add(fe),Kn||xr.enqueue(()=>{fe===t&&t.flush()})}return fe}static enqueue(t){an(t)}};Qn=new WeakMap,Cn=new WeakMap,Mt=new WeakMap,er=new WeakMap,tr=new WeakMap,Yt=new WeakMap,Pn=new WeakMap,$t=new WeakMap,Ot=new WeakMap,xn=new WeakMap,nr=new WeakMap,rr=new WeakMap,ht=new WeakSet,lo=function(t){t.f^=Be;for(var n=t.first;n!==null;){var r=n.f,a=(r&(Tt|nn))!==0,o=a&&(r&Be)!==0,s=o||(r&ft)!==0||this.skipped_effects.has(n);if(!s&&n.fn!==null){if(a)n.f^=Be;else if((r&fa)!==0)x(this,Ot).push(n);else if((r&Be)===0)if((r&ga)!==0){var l=n.b?.is_pending()?x(this,Pn):x(this,Yt);l.push(n)}else Rr(n)&&((n.f&Ln)!==0&&x(this,xn).push(n),kn(n));var u=n.first;if(u!==null){n=u;continue}}var c=n.parent;for(n=n.next;n===null&&c!==null;)n=c.next,c=c.parent}},mr=function(t){for(const n of t)((n.f&it)!==0?x(this,nr):x(this,rr)).push(n),Ye(n,Be);t.length=0},ta=function(){if(!x(this,tr))for(const t of x(this,Cn))t();x(this,Cn).clear()};let jt=xr;function co(e){var t=Kn;Kn=!0;try{for(var n;;){if(di(),tn.length===0&&!ui()&&(fe?.flush(),tn.length===0))return Mr=null,n;uo()}}finally{Kn=t}}function uo(){var e=bn;ea=!0;try{var t=0;for(Fa(!0);tn.length>0;){var n=jt.ensure();if(t++>1e3){var r,a;vi()}n.process(tn),Ut.clear()}}finally{ea=!1,Fa(e),Mr=null}}function vi(){try{zs()}catch(e){Dn(e,Mr)}}let Kt=null;function Ia(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if((r.f&(rn|ft))===0&&Rr(r)&&(Kt=[],kn(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?ko(r):r.fn=null),Kt?.length>0)){Ut.clear();for(const a of Kt)kn(a);Kt=[]}}Kt=null}}function Tn(e){for(var t=Mr=e;t.parent!==null;){t=t.parent;var n=t.f;if(ea&&t===ee&&(n&Ln)!==0)return;if((n&(nn|Tt))!==0){if((n&Be)===0)return;t.f^=Be}}tn.push(t)}function hi(e){let t=0,n=Dt(0),r;return()=>{Ai()&&(i(n),Br(()=>(t===0&&(r=Vt(()=>e(()=>Yn(n)))),t+=1,()=>{an(()=>{t-=1,t===0&&(r?.(),r=void 0,Yn(n))})})))}}var gi=Mn|On|va;function _i(e,t,n){new pi(e,t,n)}var ut,at,la,pt,Gt,mt,ot,Ke,wt,It,Xt,Bt,Zt,Rt,Dr,Tr,ze,mi,wi,wr,yr,na;class pi{constructor(t,n,r){oe(this,ze);_n(this,"parent");oe(this,ut,!1);oe(this,at);oe(this,la,null);oe(this,pt);oe(this,Gt);oe(this,mt);oe(this,ot,null);oe(this,Ke,null);oe(this,wt,null);oe(this,It,null);oe(this,Xt,0);oe(this,Bt,0);oe(this,Zt,!1);oe(this,Rt,null);oe(this,Dr,()=>{x(this,Rt)&&Pt(x(this,Rt),x(this,Xt))});oe(this,Tr,hi(()=>(X(this,Rt,Dt(x(this,Xt))),()=>{X(this,Rt,null)})));X(this,at,t),X(this,pt,n),X(this,Gt,r),this.parent=ee.b,X(this,ut,!!x(this,pt).pending),X(this,mt,Rn(()=>{ee.b=this;{try{X(this,ot,Ie(()=>r(x(this,at))))}catch(a){this.error(a)}x(this,Bt)>0?He(this,ze,yr).call(this):X(this,ut,!1)}},gi))}is_pending(){return x(this,ut)||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!x(this,pt).pending}update_pending_count(t){He(this,ze,na).call(this,t),X(this,Xt,x(this,Xt)+t),Qr.add(x(this,Dr))}get_effect_pending(){return x(this,Tr).call(this),i(x(this,Rt))}error(t){var n=x(this,pt).onerror;let r=x(this,pt).failed;if(x(this,Zt)||!n&&!r)throw t;x(this,ot)&&(Ze(x(this,ot)),X(this,ot,null)),x(this,Ke)&&(Ze(x(this,Ke)),X(this,Ke,null)),x(this,wt)&&(Ze(x(this,wt)),X(this,wt,null));var a=!1,o=!1;const s=()=>{if(a){return}a=!0,o&&Ys(),jt.ensure(),X(this,Xt,0),x(this,wt)!==null&&yt(x(this,wt),()=>{X(this,wt,null)}),X(this,ut,this.has_pending_snippet()),X(this,ot,He(this,ze,wr).call(this,()=>(X(this,Zt,!1),Ie(()=>x(this,Gt).call(this,x(this,at)))))),x(this,Bt)>0?He(this,ze,yr).call(this):X(this,ut,!1)};var l=J;try{Re(null),o=!0,n?.(t,s),o=!1}catch(u){Dn(u,x(this,mt)&&x(this,mt).parent)}finally{Re(l)}r&&an(()=>{X(this,wt,He(this,ze,wr).call(this,()=>{X(this,Zt,!0);try{return Ie(()=>{r(x(this,at),()=>t,()=>s)})}catch(u){return Dn(u,x(this,mt).parent),null}finally{X(this,Zt,!1)}}))})}}ut=new WeakMap,at=new WeakMap,la=new WeakMap,pt=new WeakMap,Gt=new WeakMap,mt=new WeakMap,ot=new WeakMap,Ke=new WeakMap,wt=new WeakMap,It=new WeakMap,Xt=new WeakMap,Bt=new WeakMap,Zt=new WeakMap,Rt=new WeakMap,Dr=new WeakMap,Tr=new WeakMap,ze=new WeakSet,mi=function(){try{X(this,ot,Ie(()=>x(this,Gt).call(this,x(this,at))))}catch(t){this.error(t)}X(this,ut,!1)},wi=function(){const t=x(this,pt).pending;t&&(X(this,Ke,Ie(()=>t(x(this,at)))),jt.enqueue(()=>{X(this,ot,He(this,ze,wr).call(this,()=>(jt.ensure(),Ie(()=>x(this,Gt).call(this,x(this,at)))))),x(this,Bt)>0?He(this,ze,yr).call(this):(yt(x(this,Ke),()=>{X(this,Ke,null)}),X(this,ut,!1))}))},wr=function(t){var n=ee,r=J,a=de;lt(x(this,mt)),Re(x(this,mt)),zt(x(this,mt).ctx);try{return t()}catch(o){return so(o),null}finally{lt(n),Re(r),zt(a)}},yr=function(){const t=x(this,pt).pending;x(this,ot)!==null&&(X(this,It,document.createDocumentFragment()),yi(x(this,ot),x(this,It))),x(this,Ke)===null&&X(this,Ke,Ie(()=>t(x(this,at))))},na=function(t){var n;if(!this.has_pending_snippet()){this.parent&&He(n=this.parent,ze,na).call(n,t);return}X(this,Bt,x(this,Bt)+t),x(this,Bt)===0&&(X(this,ut,!1),x(this,Ke)&&yt(x(this,Ke),()=>{X(this,Ke,null)}),x(this,It)&&(x(this,at).before(x(this,It)),X(this,It,null)))};function yi(e,t){for(var n=e.nodes_start,r=e.nodes_end;n!==null;){var a=n===r?null:or(n);t.append(n),n=a}}function Si(e,t,n){const r=Bn()?ar:Or;if(t.length===0){n(e.map(r));return}var a=fe,o=ee,s=bi();Promise.all(t.map(l=>ki(l))).then(l=>{a?.activate(),s();try{n([...e.map(r),...l])}catch(u){(o.f&rn)===0&&Dn(u,o)}a?.deactivate(),fo()}).catch(l=>{Dn(l,o)})}function bi(){var e=ee,t=J,n=de,r=fe;return function(){lt(e),Re(t),zt(n),r?.activate()}}function fo(){lt(null),Re(null),zt(null)}function ar(e){var t=Je|it,n=J!==null&&(J.f&Je)!==0?J:null;return ee===null||n!==null&&(n.f&st)!==0?t|=st:ee.f|=On,{ctx:de,deps:null,effects:null,equals:no,f:t,fn:e,reactions:null,rv:0,v:Ee,wv:0,parent:n??ee,ac:null}}function ki(e,t){let n=ee;n===null&&Fs();var r=n.b,a=void 0,o=Dt(Ee),s=null,l=!J;return Ii(()=>{try{var u=e();s&&Promise.resolve(u).catch(()=>{})}catch(g){u=Promise.reject(g)}var c=()=>u;a=s?.then(c,c)??Promise.resolve(u),s=a;var d=fe,v=r.is_pending();l&&(r.update_pending_count(1),v||d.increment());const h=(g,f=void 0)=>{s=null,v||d.activate(),f?f!==_a&&(o.f|=Jt,Pt(o,f)):((o.f&Jt)!==0&&(o.f^=Jt),Pt(o,g)),l&&(r.update_pending_count(-1),v||d.decrement()),fo()};if(a.then(h,g=>h(null,g||"unknown")),d)return()=>{queueMicrotask(()=>d.neuter())}}),new Promise(u=>{function c(d){function v(){d===a?u(o):c(a)}d.then(v,v)}c(a)})}function I(e){const t=ar(e);return Po(t),t}function Or(e){const t=ar(e);return t.equals=ro,t}function vo(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)Ze(t[n])}}function Ei(e){for(var t=e.parent;t!==null;){if((t.f&Je)===0)return t;t=t.parent}return null}function pa(e){var t,n=ee;lt(Ei(e));try{vo(e),t=Ao(e)}finally{lt(n)}return t}function ho(e){var t=pa(e);if(e.equals(t)||(e.v=t,e.wv=Do()),!sn){var n=(Ht||(e.f&st)!==0)&&e.deps!==null?qt:Be;Ye(e,n)}}const Ut=new Map;function Dt(e,t){var n={f:0,v:e,reactions:null,equals:no,rv:0,wv:0};return n}function H(e,t){const n=Dt(e);return Po(n),n}function ra(e,t=!1,n=!0){var a;const r=Dt(e);return t||(r.equals=ro),In&&n&&de!==null&&de.l!==null&&((a=de.l).s??(a.s=[])).push(r),r}function P(e,t,n=!1){J!==null&&(!dt||(J.f&Oa)!==0)&&Bn()&&(J.f&(Je|Ln|ga|Oa))!==0&&!xt?.includes(e)&&Ks();let r=n?Le(t):t;return Pt(e,r)}function Pt(e,t){if(!e.equals(t)){var n=e.v;sn?Ut.set(e,t):Ut.set(e,n),e.v=t;var r=jt.ensure();r.capture(e,n),(e.f&Je)!==0&&((e.f&it)!==0&&pa(e),Ye(e,(e.f&st)===0?Be:qt)),e.wv=Do(),go(e,it),Bn()&&ee!==null&&(ee.f&Be)!==0&&(ee.f&(Tt|nn))===0&&(rt===null?Fi([e]):rt.push(e))}return t}function Yn(e){P(e,e.v+1)}function go(e,t){var n=e.reactions;if(n!==null)for(var r=Bn(),a=n.length,o=0;o<a;o++){var s=n[o],l=s.f;if(!(!r&&s===ee)){var u=(l&it)===0;u&&Ye(s,t),(l&Je)!==0?go(s,qt):u&&((l&Ln)!==0&&Kt!==null&&Kt.push(s),Tn(s))}}}function Le(e){if(typeof e!="object"||e===null||Qt in e)return e;const t=da(e);if(t!==Ts&&t!==As)return e;var n=new Map,r=ca(e),a=H(0),o=en,s=l=>{if(en===o)return l();var u=J,c=en;Re(null),ja(o);var d=l();return Re(u),ja(c),d};return r&&n.set("length",H(e.length)),new Proxy(e,{defineProperty(l,u,c){(!("value"in c)||c.configurable===!1||c.enumerable===!1||c.writable===!1)&&qs();var d=n.get(u);return d===void 0?d=s(()=>{var v=H(c.value);return n.set(u,v),v}):P(d,c.value,!0),!0},deleteProperty(l,u){var c=n.get(u);if(c===void 0){if(u in l){const d=s(()=>H(Ee));n.set(u,d),Yn(a)}}else P(c,Ee),Yn(a);return!0},get(l,u,c){if(u===Qt)return e;var d=n.get(u),v=u in l;if(d===void 0&&(!v||yn(l,u)?.writable)&&(d=s(()=>{var g=Le(v?l[u]:Ee),f=H(g);return f}),n.set(u,d)),d!==void 0){var h=i(d);return h===Ee?void 0:h}return Reflect.get(l,u,c)},getOwnPropertyDescriptor(l,u){var c=Reflect.getOwnPropertyDescriptor(l,u);if(c&&"value"in c){var d=n.get(u);d&&(c.value=i(d))}else if(c===void 0){var v=n.get(u),h=v?.v;if(v!==void 0&&h!==Ee)return{enumerable:!0,configurable:!0,value:h,writable:!0}}return c},has(l,u){if(u===Qt)return!0;var c=n.get(u),d=c!==void 0&&c.v!==Ee||Reflect.has(l,u);if(c!==void 0||ee!==null&&(!d||yn(l,u)?.writable)){c===void 0&&(c=s(()=>{var h=d?Le(l[u]):Ee,g=H(h);return g}),n.set(u,c));var v=i(c);if(v===Ee)return!1}return d},set(l,u,c,d){var v=n.get(u),h=u in l;if(r&&u==="length")for(var g=c;g<v.v;g+=1){var f=n.get(g+"");f!==void 0?P(f,Ee):g in l&&(f=s(()=>H(Ee)),n.set(g+"",f))}if(v===void 0)(!h||yn(l,u)?.writable)&&(v=s(()=>H(void 0)),P(v,Le(c)),n.set(u,v));else{h=v.v!==Ee;var p=s(()=>Le(c));P(v,p)}var y=Reflect.getOwnPropertyDescriptor(l,u);if(y?.set&&y.set.call(d,c),!h){if(r&&typeof u=="string"){var S=n.get("length"),k=Number(u);Number.isInteger(k)&&k>=S.v&&P(S,k+1)}Yn(a)}return!0},ownKeys(l){i(a);var u=Reflect.ownKeys(l).filter(v=>{var h=n.get(v);return h===void 0||h.v!==Ee});for(var[c,d]of n)d.v!==Ee&&!(c in l)&&u.push(c);return u},setPrototypeOf(){Ws()}})}var Ba,_o,po,mo;function Ci(){if(Ba===void 0){Ba=window,_o=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;po=yn(t,"firstChild").get,mo=yn(t,"nextSibling").get,Ma(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Ma(n)&&(n.__t=void 0)}}function on(e=""){return document.createTextNode(e)}function An(e){return po.call(e)}function or(e){return mo.call(e)}function D(e,t){return An(e)}function L(e,t=!1){{var n=An(e);return n instanceof Comment&&n.data===""?or(n):n}}function j(e,t=1,n=!1){let r=e;for(;t--;)r=or(r);return r}function Pi(e){e.textContent=""}function ma(){return!1}let Ra=!1;function xi(){Ra||(Ra=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function Ir(e){var t=J,n=ee;Re(null),lt(null);try{return e()}finally{Re(t),lt(n)}}function Di(e,t,n,r=n){e.addEventListener(t,()=>Ir(n));const a=e.__on_r;a?e.__on_r=()=>{a(),r(!0)}:e.__on_r=()=>r(!0),xi()}function wo(e){ee===null&&J===null&&Us(),J!==null&&(J.f&st)!==0&&ee===null&&js(),sn&&Hs()}function Ti(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function St(e,t,n,r=!0){var a=ee;a!==null&&(a.f&ft)!==0&&(e|=ft);var o={ctx:de,deps:null,nodes_start:null,nodes_end:null,f:e|it,first:null,fn:t,last:null,next:null,parent:a,b:a&&a.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{kn(o),o.f|=ha}catch(u){throw Ze(o),u}else t!==null&&Tn(o);if(r){var s=o;if(n&&s.deps===null&&s.teardown===null&&s.nodes_start===null&&s.first===s.last&&(s.f&On)===0&&(s=s.first),s!==null&&(s.parent=a,a!==null&&Ti(s,a),J!==null&&(J.f&Je)!==0&&(e&nn)===0)){var l=J;(l.effects??(l.effects=[])).push(s)}}return o}function Ai(){return J!==null&&!dt}function Ni(e){const t=St(Ar,null,!1);return Ye(t,Be),t.teardown=e,t}function Me(e){wo();var t=ee.f,n=!J&&(t&Tt)!==0&&(t&ha)===0;if(n){var r=de;(r.e??(r.e=[])).push(e)}else return yo(e)}function yo(e){return St(fa|Qa,e,!1)}function Li(e){return wo(),St(Ar|Qa,e,!0)}function Mi(e){jt.ensure();const t=St(nn|On,e,!0);return(n={})=>new Promise(r=>{n.outro?yt(t,()=>{Ze(t),r(void 0)}):(Ze(t),r(void 0))})}function Oi(e){return St(fa,e,!1)}function Ii(e){return St(ga|On,e,!0)}function Br(e,t=0){return St(Ar|t,e,!0)}function _e(e,t=[],n=[]){Si(t,n,r=>{St(Ar,()=>e(...r.map(i)),!0)})}function Rn(e,t=0){var n=St(Ln|t,e,!0);return n}function Ie(e,t=!0){return St(Tt|On,e,!0,t)}function So(e){var t=e.teardown;if(t!==null){const n=sn,r=J;Ha(!0),Re(null);try{t.call(null)}finally{Ha(n),Re(r)}}}function bo(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const a=n.ac;a!==null&&Ir(()=>{a.abort(_a)});var r=n.next;(n.f&nn)!==0?n.parent=null:Ze(n,t),n=r}}function Bi(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&Tt)===0&&Ze(t),t=n}}function Ze(e,t=!0){var n=!1;(t||(e.f&Is)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(Ri(e.nodes_start,e.nodes_end),n=!0),bo(e,t&&!n),Pr(e,0),Ye(e,rn);var r=e.transitions;if(r!==null)for(const o of r)o.stop();So(e);var a=e.parent;a!==null&&a.first!==null&&ko(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function Ri(e,t){for(;e!==null;){var n=e===t?null:or(e);e.remove(),e=n}}function ko(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function yt(e,t){var n=[];wa(e,n,!0),Eo(n,()=>{Ze(e),t&&t()})}function Eo(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var a of e)a.out(r)}else t()}function wa(e,t,n){if((e.f&ft)===0){if(e.f^=ft,e.transitions!==null)for(const s of e.transitions)(s.is_global||n)&&t.push(s);for(var r=e.first;r!==null;){var a=r.next,o=(r.f&Mn)!==0||(r.f&Tt)!==0;wa(r,t,o?n:!1),r=a}}}function Sn(e){Co(e,!0)}function Co(e,t){if((e.f&ft)!==0){e.f^=ft,(e.f&Be)===0&&(Ye(e,it),Tn(e));for(var n=e.first;n!==null;){var r=n.next,a=(n.f&Mn)!==0||(n.f&Tt)!==0;Co(n,a?t:!1),n=r}if(e.transitions!==null)for(const o of e.transitions)(o.is_global||t)&&o.in()}}let bn=!1;function Fa(e){bn=e}let sn=!1;function Ha(e){sn=e}let J=null,dt=!1;function Re(e){J=e}let ee=null;function lt(e){ee=e}let xt=null;function Po(e){J!==null&&(xt===null?xt=[e]:xt.push(e))}let je=null,Xe=0,rt=null;function Fi(e){rt=e}let xo=1,$n=0,en=$n;function ja(e){en=e}let Ht=!1;function Do(){return++xo}function Rr(e){var t=e.f;if((t&it)!==0)return!0;if((t&qt)!==0){var n=e.deps,r=(t&st)!==0;if(n!==null){var a,o,s=(t&Er)!==0,l=r&&ee!==null&&!Ht,u=n.length;if((s||l)&&(ee===null||(ee.f&rn)===0)){var c=e,d=c.parent;for(a=0;a<u;a++)o=n[a],(s||!o?.reactions?.includes(c))&&(o.reactions??(o.reactions=[])).push(c);s&&(c.f^=Er),l&&d!==null&&(d.f&st)===0&&(c.f^=st)}for(a=0;a<u;a++)if(o=n[a],Rr(o)&&ho(o),o.wv>e.wv)return!0}(!r||ee!==null&&!Ht)&&Ye(e,Be)}return!1}function To(e,t,n=!0){var r=e.reactions;if(r!==null&&!xt?.includes(e))for(var a=0;a<r.length;a++){var o=r[a];(o.f&Je)!==0?To(o,t,!1):t===o&&(n?Ye(o,it):(o.f&Be)!==0&&Ye(o,qt),Tn(o))}}function Ao(e){var p;var t=je,n=Xe,r=rt,a=J,o=Ht,s=xt,l=de,u=dt,c=en,d=e.f;je=null,Xe=0,rt=null,Ht=(d&st)!==0&&(dt||!bn||J===null),J=(d&(Tt|nn))===0?e:null,xt=null,zt(e.ctx),dt=!1,en=++$n,e.ac!==null&&(Ir(()=>{e.ac.abort(_a)}),e.ac=null);try{e.f|=Jr;var v=e.fn,h=v(),g=e.deps;if(je!==null){var f;if(Pr(e,Xe),g!==null&&Xe>0)for(g.length=Xe+je.length,f=0;f<je.length;f++)g[Xe+f]=je[f];else e.deps=g=je;if(!Ht||(d&Je)!==0&&e.reactions!==null)for(f=Xe;f<g.length;f++)((p=g[f]).reactions??(p.reactions=[])).push(e)}else g!==null&&Xe<g.length&&(Pr(e,Xe),g.length=Xe);if(Bn()&&rt!==null&&!dt&&g!==null&&(e.f&(Je|qt|it))===0)for(f=0;f<rt.length;f++)To(rt[f],e);return a!==null&&a!==e&&($n++,rt!==null&&(r===null?r=rt:r.push(...rt))),(e.f&Jt)!==0&&(e.f^=Jt),h}catch(y){return so(y)}finally{e.f^=Jr,je=t,Xe=n,rt=r,J=a,Ht=o,xt=s,zt(l),dt=u,en=c}}function Hi(e,t){let n=t.reactions;if(n!==null){var r=Ds.call(n,e);if(r!==-1){var a=n.length-1;a===0?n=t.reactions=null:(n[r]=n[a],n.pop())}}n===null&&(t.f&Je)!==0&&(je===null||!je.includes(t))&&(Ye(t,qt),(t.f&(st|Er))===0&&(t.f^=Er),vo(t),Pr(t,0))}function Pr(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)Hi(e,n[r])}function kn(e){var t=e.f;if((t&rn)===0){Ye(e,Be);var n=ee,r=bn;ee=e,bn=!0;try{(t&Ln)!==0?Bi(e):bo(e),So(e);var a=Ao(e);e.teardown=typeof a=="function"?a:null,e.wv=xo;var o;Za&&si&&(e.f&it)!==0&&e.deps}finally{bn=r,ee=n}}}async function No(){await Promise.resolve(),co()}function i(e){var t=e.f,n=(t&Je)!==0;if(J!==null&&!dt){var r=ee!==null&&(ee.f&rn)!==0;if(!r&&!xt?.includes(e)){var a=J.deps;if((J.f&Jr)!==0)e.rv<$n&&(e.rv=$n,je===null&&a!==null&&a[Xe]===e?Xe++:je===null?je=[e]:(!Ht||!je.includes(e))&&je.push(e));else{(J.deps??(J.deps=[])).push(e);var o=e.reactions;o===null?e.reactions=[J]:o.includes(J)||o.push(J)}}}else if(n&&e.deps===null&&e.effects===null){var s=e,l=s.parent;l!==null&&(l.f&st)===0&&(s.f^=st)}if(sn){if(Ut.has(e))return Ut.get(e);if(n){s=e;var u=s.v;return((s.f&Be)===0&&s.reactions!==null||Lo(s))&&(u=pa(s)),Ut.set(s,u),u}}else n&&(s=e,Rr(s)&&ho(s));if((e.f&Jt)!==0)throw e.v;return e.v}function Lo(e){if(e.v===Ee)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(Ut.has(t)||(t.f&Je)!==0&&Lo(t))return!0;return!1}function Vt(e){var t=dt;try{return dt=!0,e()}finally{dt=t}}const ji=-7169;function Ye(e,t){e.f=e.f&ji|t}function Ui(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Qt in e)aa(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&Qt in n&&aa(n)}}}function aa(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{aa(e[r],t)}catch{}const n=da(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=Ja(n);for(let a in r){const o=r[a].get;if(o)try{o.call(e)}catch{}}}}}const zi=["touchstart","touchmove"];function Vi(e){return zi.includes(e)}const Mo=new Set,oa=new Set;function qi(e,t,n,r={}){function a(o){if(r.capture||Un.call(t,o),!o.cancelBubble)return Ir(()=>n?.call(this,o))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?an(()=>{t.addEventListener(e,a,r)}):t.addEventListener(e,a,r),a}function ya(e,t,n,r,a){var o={capture:r,passive:a},s=qi(e,t,n,o);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&Ni(()=>{t.removeEventListener(e,s,o)})}function Qe(e){for(var t=0;t<e.length;t++)Mo.add(e[t]);for(var n of oa)n(e)}let Ua=null;function Un(e){var t=this,n=t.ownerDocument,r=e.type,a=e.composedPath?.()||[],o=a[0]||e.target;Ua=e;var s=0,l=Ua===e&&e.__root;if(l){var u=a.indexOf(l);if(u!==-1&&(t===document||t===window)){e.__root=t;return}var c=a.indexOf(t);if(c===-1)return;u<=c&&(s=u)}if(o=a[s]||e.target,o!==t){Zr(e,"currentTarget",{configurable:!0,get(){return o||n}});var d=J,v=ee;Re(null),lt(null);try{for(var h,g=[];o!==null;){var f=o.assignedSlot||o.parentNode||o.host||null;try{var p=o["__"+r];if(p!=null&&(!o.disabled||e.target===o))if(ca(p)){var[y,...S]=p;y.apply(o,[e,...S])}else p.call(o,e)}catch(k){h?g.push(k):h=k}if(e.cancelBubble||f===t||f===null)break;o=f}if(h){for(let k of g)queueMicrotask(()=>{throw k});throw h}}finally{e.__root=t,delete e.currentTarget,Re(d),lt(v)}}}function Oo(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function Gn(e,t){var n=ee;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function G(e,t){var n=(t&ti)!==0,r=(t&ni)!==0,a,o=!e.startsWith("<!>");return()=>{a===void 0&&(a=Oo(o?e:"<!>"+e),n||(a=An(a)));var s=r||_o?document.importNode(a,!0):a.cloneNode(!0);if(n){var l=An(s),u=s.lastChild;Gn(l,u)}else Gn(s,s);return s}}function Wi(e,t,n="svg"){var r=!e.startsWith("<!>"),a=`<${n}>${r?e:"<!>"+e}</${n}>`,o;return()=>{if(!o){var s=Oo(a),l=An(s);o=An(l)}var u=o.cloneNode(!0);return Gn(u,u),u}}function Ki(e,t){return Wi(e,t,"svg")}function Ue(e=""){{var t=on(e+"");return Gn(t,t),t}}function B(){var e=document.createDocumentFragment(),t=document.createComment(""),n=on();return e.append(t,n),Gn(t,n),e}function w(e,t){e!==null&&e.before(t)}function sd(){var e;return(e=window.__svelte??(window.__svelte={})).uid??(e.uid=1),`c${window.__svelte.uid++}`}function Xn(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function Yi(e,t){return $i(e,t)}const pn=new Map;function $i(e,{target:t,anchor:n,props:r={},events:a,context:o,intro:s=!0}){Ci();var l=new Set,u=v=>{for(var h=0;h<v.length;h++){var g=v[h];if(!l.has(g)){l.add(g);var f=Vi(g);t.addEventListener(g,Un,{passive:f});var p=pn.get(g);p===void 0?(document.addEventListener(g,Un,{passive:f}),pn.set(g,1)):pn.set(g,p+1)}}};u(ua(Mo)),oa.add(u);var c=void 0,d=Mi(()=>{var v=n??t.appendChild(on());return _i(v,{pending:()=>{}},h=>{if(o){Y({});var g=de;g.c=o}a&&(r.$$events=a),c=e(h,r)||{},o&&$()}),()=>{for(var h of l){t.removeEventListener(h,Un);var g=pn.get(h);--g===0?(document.removeEventListener(h,Un),pn.delete(h)):pn.set(h,g)}oa.delete(u),v!==n&&v.parentNode?.removeChild(v)}});return Gi.set(c,d),c}let Gi=new WeakMap;const Wr=0,gr=1,Kr=2;function Io(e,t,n,r,a){var o=e,s=Bn(),l=de,u=Ee,c,d,v,h=s?Dt(void 0):ra(void 0,!1,!1),g=s?Dt(void 0):ra(void 0,!1,!1),f=!1;function p(S,k){f=!0,k&&(lt(y),Re(y),zt(l));try{S===Wr&&n&&(c?Sn(c):c=Ie(()=>n(o))),S===gr&&r&&(d?Sn(d):d=Ie(()=>r(o,h))),S===Kr&&a&&(v?Sn(v):v=Ie(()=>a(o,g))),S!==Wr&&c&&yt(c,()=>c=null),S!==gr&&d&&yt(d,()=>d=null),S!==Kr&&v&&yt(v,()=>v=null)}finally{k&&(zt(null),Re(null),lt(null),co())}}var y=Rn(()=>{if(u!==(u=t())){if(Ns(u)){var S=u;f=!1,S.then(k=>{S===u&&(Pt(h,k),p(gr,!0))},k=>{if(S===u&&(Pt(g,k),p(Kr,!0),!a))throw g.v}),an(()=>{f||p(Wr,!0)})}else Pt(h,u),p(gr,!1);return()=>u=Ee}})}function U(e,t,n=!1){var r=e,a=null,o=null,s=Ee,l=n?Mn:0,u=!1;const c=(g,f=!0)=>{u=!0,h(f,g)};var d=null;function v(){d!==null&&(d.lastChild.remove(),r.before(d),d=null);var g=s?a:o,f=s?o:a;g&&Sn(g),f&&yt(f,()=>{s?o=null:a=null})}const h=(g,f)=>{if(s!==(s=g)){var p=ma(),y=r;if(p&&(d=document.createDocumentFragment(),d.append(y=on())),s?a??(a=f&&Ie(()=>f(y))):o??(o=f&&Ie(()=>f(y))),p){var S=fe,k=s?a:o,b=s?o:a;k&&S.skipped_effects.delete(k),b&&S.skipped_effects.add(b),S.add_callback(v)}else v()}};Rn(()=>{u=!1,t(c),u||h(null,null)},l)}function Ce(e,t){Br(()=>{var n=t();for(var r in n){var a=n[r];a?e.style.setProperty(r,a):e.style.removeProperty(r)}})}function Xi(e,t,n){for(var r=e.items,a=[],o=t.length,s=0;s<o;s++)wa(t[s].e,a,!0);var l=o>0&&a.length===0&&n!==null;if(l){var u=n.parentNode;Pi(u),u.append(n),r.clear(),_t(e,t[0].prev,t[o-1].next)}Eo(a,()=>{for(var c=0;c<o;c++){var d=t[c];l||(r.delete(d.k),_t(e,d.prev,d.next)),Ze(d.e,!l)}})}function wn(e,t,n,r,a,o=null){var s=e,l={flags:t,items:new Map,first:null},u=(t&to)!==0;if(u){var c=e;s=c.appendChild(on())}var d=null,v=!1,h=new Map,g=Or(()=>{var S=n();return ca(S)?S:S==null?[]:ua(S)}),f,p;function y(){Zi(p,f,l,h,s,a,t,r,n),o!==null&&(f.length===0?d?Sn(d):d=Ie(()=>o(s)):d!==null&&yt(d,()=>{d=null}))}Rn(()=>{p??(p=ee),f=i(g);var S=f.length;if(!(v&&S===0)){v=S===0;var k,b,T,E;if(ma()){var _=new Set,m=fe;for(b=0;b<S;b+=1){T=f[b],E=r(T,b);var C=l.items.get(E)??h.get(E);C?(t&(Nr|Lr))!==0&&Bo(C,T,b,t):(k=Ro(null,l,null,null,T,E,b,a,t,n,!0),h.set(E,k)),_.add(E)}for(const[M,W]of l.items)_.has(M)||m.skipped_effects.add(W.e);m.add_callback(y)}else y();i(g)}})}function Zi(e,t,n,r,a,o,s,l,u){var c=(s&$s)!==0,d=(s&(Nr|Lr))!==0,v=t.length,h=n.items,g=n.first,f=g,p,y=null,S,k=[],b=[],T,E,_,m;if(c)for(m=0;m<v;m+=1)T=t[m],E=l(T,m),_=h.get(E),_!==void 0&&(_.a?.measure(),(S??(S=new Set)).add(_));for(m=0;m<v;m+=1){if(T=t[m],E=l(T,m),_=h.get(E),_===void 0){var C=r.get(E);if(C!==void 0){r.delete(E),h.set(E,C);var M=y?y.next:f;_t(n,y,C),_t(n,C,M),Yr(C,M,a),y=C}else{var W=f?f.e.nodes_start:a;y=Ro(W,n,y,y===null?n.first:y.next,T,E,m,o,s,u)}h.set(E,y),k=[],b=[],f=y.next;continue}if(d&&Bo(_,T,m,s),(_.e.f&ft)!==0&&(Sn(_.e),c&&(_.a?.unfix(),(S??(S=new Set)).delete(_))),_!==f){if(p!==void 0&&p.has(_)){if(k.length<b.length){var K=b[0],Z;y=K.prev;var z=k[0],V=k[k.length-1];for(Z=0;Z<k.length;Z+=1)Yr(k[Z],K,a);for(Z=0;Z<b.length;Z+=1)p.delete(b[Z]);_t(n,z.prev,V.next),_t(n,y,z),_t(n,V,K),f=K,y=V,m-=1,k=[],b=[]}else p.delete(_),Yr(_,f,a),_t(n,_.prev,_.next),_t(n,_,y===null?n.first:y.next),_t(n,y,_),y=_;continue}for(k=[],b=[];f!==null&&f.k!==E;)(f.e.f&ft)===0&&(p??(p=new Set)).add(f),b.push(f),f=f.next;if(f===null)continue;_=f}k.push(_),y=_,f=_.next}if(f!==null||p!==void 0){for(var N=p===void 0?[]:ua(p);f!==null;)(f.e.f&ft)===0&&N.push(f),f=f.next;var A=N.length;if(A>0){var O=(s&to)!==0&&v===0?a:null;if(c){for(m=0;m<A;m+=1)N[m].a?.measure();for(m=0;m<A;m+=1)N[m].a?.fix()}Xi(n,N,O)}}c&&an(()=>{if(S!==void 0)for(_ of S)_.a?.apply()}),e.first=n.first&&n.first.e,e.last=y&&y.e;for(var R of r.values())Ze(R.e);r.clear()}function Bo(e,t,n,r){(r&Nr)!==0&&Pt(e.v,t),(r&Lr)!==0?Pt(e.i,n):e.i=n}function Ro(e,t,n,r,a,o,s,l,u,c,d){var v=(u&Nr)!==0,h=(u&Gs)===0,g=v?h?ra(a,!1,!1):Dt(a):a,f=(u&Lr)===0?s:Dt(s),p={i:f,v:g,k:o,a:null,e:null,prev:n,next:r};try{if(e===null){var y=document.createDocumentFragment();y.append(e=on())}return p.e=Ie(()=>l(e,g,f,c),ai),p.e.prev=n&&n.e,p.e.next=r&&r.e,n===null?d||(t.first=p):(n.next=p,n.e.next=p.e),r!==null&&(r.prev=p,r.e.prev=p.e),p}finally{}}function Yr(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,a=t?t.e.nodes_start:n,o=e.e.nodes_start;o!==null&&o!==r;){var s=or(o);a.before(o),o=s}}function _t(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function ne(e,t,...n){var r=e,a=se,o;Rn(()=>{a!==(a=t())&&(o&&(Ze(o),o=null),o=Ie(()=>a(r,...n)))},Mn)}function Fo(e,t,n){var r=e,a,o,s=null,l=null;function u(){o&&(yt(o),o=null),s&&(s.lastChild.remove(),r.before(s),s=null),o=l,l=null}Rn(()=>{if(a!==(a=t())){var c=ma();if(a){var d=r;c&&(s=document.createDocumentFragment(),s.append(d=on()),o&&fe.skipped_effects.add(o)),l=Ie(()=>n(d,a))}c?fe.add_callback(u):u()}},Mn)}function Ho(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=Ho(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Ji(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=Ho(e))&&(r&&(r+=" "),r+=t);return r}function ce(e){return typeof e=="object"?Ji(e):e??""}const za=[...` 	
\r\f \v\uFEFF`];function Qi(e,t,n){var r=e==null?"":""+e;if(t&&(r=r?r+" "+t:t),n){for(var a in n)if(n[a])r=r?r+" "+a:a;else if(r.length)for(var o=a.length,s=0;(s=r.indexOf(a,s))>=0;){var l=s+o;(s===0||za.includes(r[s-1]))&&(l===r.length||za.includes(r[l]))?r=(s===0?"":r.substring(0,s))+r.substring(l+1):s=l}}return r===""?null:r}function el(e,t){return e==null?null:String(e)}function ue(e,t,n,r,a,o){var s=e.__className;if(s!==n||s===void 0){var l=Qi(n,r,o);l==null?e.removeAttribute("class"):e.className=l,e.__className=n}else if(o&&a!==o)for(var u in o){var c=!!o[u];(a==null||c!==!!a[u])&&e.classList.toggle(u,c)}return o}function Zn(e,t,n,r){var a=e.__style;if(a!==t){var o=el(t);o==null?e.removeAttribute("style"):e.style.cssText=o,e.__style=t}return r}const tl=Symbol("is custom element"),nl=Symbol("is html");function id(e,t){var n=Sa(e);n.value===(n.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function ld(e,t){var n=Sa(e);n.checked!==(n.checked=t??void 0)&&(e.checked=t)}function Ne(e,t,n,r){var a=Sa(e);a[t]!==(a[t]=n)&&(t==="loading"&&(e[Rs]=n),n==null?e.removeAttribute(t):typeof n!="string"&&rl(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function Sa(e){return e.__attributes??(e.__attributes={[tl]:e.nodeName.includes("-"),[nl]:e.namespaceURI===ri})}var Va=new Map;function rl(e){var t=e.getAttribute("is")||e.nodeName,n=Va.get(t);if(n)return n;Va.set(t,n=[]);for(var r,a=e,o=Element.prototype;o!==a;){r=Ja(a);for(var s in r)r[s].set&&n.push(s);a=da(a)}return n}function al(e,t,n=t){var r=new WeakSet;Di(e,"input",async a=>{var o=a?e.defaultValue:e.value;if(o=$r(e)?Gr(o):o,n(o),fe!==null&&r.add(fe),await No(),o!==(o=t())){var s=e.selectionStart,l=e.selectionEnd;e.value=o??"",l!==null&&(e.selectionStart=s,e.selectionEnd=Math.min(l,e.value.length))}}),Vt(t)==null&&e.value&&(n($r(e)?Gr(e.value):e.value),fe!==null&&r.add(fe)),Br(()=>{var a=t();if(e===document.activeElement){var o=pr??fe;if(r.has(o))return}$r(e)&&a===Gr(e.value)||e.type==="date"&&!a&&!e.value||a!==e.value&&(e.value=a??"")})}function $r(e){var t=e.type;return t==="number"||t==="range"}function Gr(e){return e===""?null:+e}function qa(e,t){return e===t||e?.[Qt]===t}function gt(e={},t,n,r){return Oi(()=>{var a,o;return Br(()=>{a=o,o=[],Vt(()=>{e!==n(...o)&&(t(e,...o),a&&qa(n(...a),e)&&t(null,...a))})}),()=>{an(()=>{o&&qa(n(...o),e)&&t(null,...o)})}}),e}function ba(e=!1){const t=de,n=t.l.u;if(!n)return;let r=()=>Ui(t.s);if(e){let a=0,o={};const s=ar(()=>{let l=!1;const u=t.s;for(const c in u)u[c]!==o[c]&&(o[c]=u[c],l=!0);return l&&a++,a});r=()=>i(s)}n.b.length&&Li(()=>{Wa(t,r),kr(n.b)}),Me(()=>{const a=Vt(()=>n.m.map(Ls));return()=>{for(const o of a)typeof o=="function"&&o()}}),n.a.length&&Me(()=>{Wa(t,r),kr(n.a)})}function Wa(e,t){if(e.l.s)for(const n of e.l.s)i(n);t()}let _r=!1;function ol(e){var t=_r;try{return _r=!1,[e(),_r]}finally{_r=t}}function ie(e,t,n,r){var a=!In||(n&Zs)!==0,o=(n&Qs)!==0,s=(n&ei)!==0,l=r,u=!0,c=()=>(u&&(u=!1,l=s?Vt(r):r),l),d;if(o){var v=Qt in e||Bs in e;d=yn(e,t)?.set??(v&&t in e?b=>e[t]=b:void 0)}var h,g=!1;o?[h,g]=ol(()=>e[t]):h=e[t],h===void 0&&r!==void 0&&(h=c(),d&&(a&&Vs(),d(h)));var f;if(a?f=()=>{var b=e[t];return b===void 0?c():(u=!0,b)}:f=()=>{var b=e[t];return b!==void 0&&(l=void 0),b===void 0?l:b},a&&(n&Js)===0)return f;if(d){var p=e.$$legacy;return(function(b,T){return arguments.length>0?((!a||!T||p||g)&&d(T?f():b),b):f()})}var y=!1,S=((n&Xs)!==0?ar:Or)(()=>(y=!1,f()));o&&i(S);var k=ee;return(function(b,T){if(arguments.length>0){const E=T?i(S):a&&o?Le(b):b;return P(S,E),y=!0,l!==void 0&&(l=E),b}return sn&&y||(k.f&rn)!==0?S.v:i(S)})}function he(e){de===null&&eo(),In&&de.l!==null?sl(de).m.push(e):Me(()=>{const t=Vt(e);if(typeof t=="function")return t})}function sl(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const il="5";var Xa;typeof window<"u"&&((Xa=window.__svelte??(window.__svelte={})).v??(Xa.v=new Set)).add(il);ii();const jo={};function ll(e){ye(jo,e)}function ka(){const e=we(jo);if(!e)throw new Error("No RelatedTagsContext found");return e}function cl(e,t){Y(t,!0);let n=H({});ll({getRelatedTags:()=>i(n),setRelatedTags:o=>{P(n,o)}});var r=B(),a=L(r);ne(a,()=>t.children??se),w(e,r),$()}const Uo={};function ul(e){ye(Uo,e)}function Ea(){const e=we(Uo);if(!e)throw new Error("No FeedSearchContext found");return e}const zo={};function dl(e){ye(zo,e)}function bt(){const e=we(zo);if(!e)throw new Error("No AppHistoryContext found");return e}function fl(e,t){Y(t,!0);const{navigate:n,getAppHistory:r}=bt(),a=I(r),o="feedSearch";let s=H(Le(new URLSearchParams(r().search).get(o)||""));ul({getFeedSearch:()=>i(s),setFeedSearch:v=>{P(s,v,!0);const h=new URLSearchParams(i(a).search);v===""?h.delete(o):h.set(o,v),n(`${i(a).pathname}${h.size>0?`?${h.toString()}`:""}`)}});var c=B(),d=L(c);ne(d,()=>t.children??se),w(e,c),$()}const Vo={};function vl(e){ye(Vo,e)}function qo(){const e=we(Vo);if(!e)throw new Error("No SearchContext found");return e}function hl(e,t){Y(t,!0);const{getFeedSearch:n}=Ea(),r=Le({feedSearch:n(),tagSearch:""});vl(r);var a=B(),o=L(a);ne(o,()=>t.children??se),w(e,a),$()}const Wo={};function gl(e){ye(Wo,e)}function Ko(){const e=we(Wo);if(!e)throw new Error("No FeedOrderContext found");return e}function _l(e,t){Y(t,!0);const{navigate:n,getAppHistory:r}=bt(),a=I(r),o="feedOrder";let s=H(Le(new URLSearchParams(r().search).get(o)||"newest"));gl({getFeedOrder:()=>i(s),setFeedOrder:v=>{P(s,v,!0);const h=new URLSearchParams(i(a).search);v==="newest"?h.delete(o):h.set(o,v),n(`${i(a).pathname}${h.size>0?`?${h.toString()}`:""}`)}});var c=B(),d=L(c);ne(d,()=>t.children??se),w(e,c),$()}const Yo={};function pl(e){ye(Yo,e)}function ml(){const e=we(Yo);if(!e)throw new Error("No SidebarContext found");return e}function wl(e,t){Y(t,!0);const n=(d,v)=>{if(!v)return d;if(v.type==="closed")return{type:"closed"};switch(d.type){case"opened":return v.type==="close"?{type:"closing"}:v.type==="swipe"?{type:"openSwiping"}:d;case"closed":return v.type==="open"?{type:"opening"}:v.type==="swipe"?{type:"closeSwiping"}:d;case"openSwiping":return v.type==="open"?{type:"opening"}:v.type==="close"?{type:"closing"}:d;case"closeSwiping":return v.type==="open"?{type:"opening"}:v.type==="close"?{type:"closing"}:d;case"opening":return v.type==="opened"?{type:"opened"}:d;default:return d}};let r=H(Le(n({type:"closed"})));const a=d=>{P(r,n(i(r),d),!0)};pl({sidebarOpen:()=>{a({type:"open"})},sidebarClose:()=>{a({type:"close"})},handleComputeState:a,getSidebarState:()=>i(r)});var u=B(),c=L(u);ne(c,()=>t.children??se),w(e,u),$()}const $o={};function yl(e){ye($o,e)}function Sl(){const e=we($o);if(!e)throw new Error("No SelectedTagsContext found");return e}function bl(e,t){Y(t,!0);const{getAppHistory:n}=bt(),r=()=>new URLSearchParams(n().search).get("selectedTags")?.split(",")||[];let a=r();yl({getSelectedTags:()=>{const u=r();return u.join(",")===a.join(",")||(a=u),a}});var s=B(),l=L(s);ne(l,()=>t.children??se),w(e,s),$()}const Go={};function kl(e){ye(Go,e)}function Fr(){const e=we(Go);if(!e)throw new Error("No LocalDBContext found");return e}const Xo={};function El(e){ye(Xo,e)}function Cl(){const e=we(Xo);if(!e)throw new Error("No SettingsContext found");return e}const Zo={};function Pl(e){ye(Zo,e)}function Hr(){const e=we(Zo);if(!e)throw new Error("No BroadcastContext found");return e}const xl="AppStorage",Dl=1,zn="account",Sr="settings",ct="notes",Vn="drafts",Tl="bin",Al="tags",Nl="syncLog",ln="success",cn="error",Fe=(e,t,n)=>{e?.addEventListener(t,n)},br=(e,t)=>new Promise((n,r)=>{const o=e?.transaction(t,"readonly")?.objectStore(t).getAll();Fe(o,ln,()=>{const s=o?.result||[];n(s)}),Fe(o,cn,s=>{r(s)})}),sa=(e,t,n)=>new Promise((r,a)=>{const s=e?.transaction(t,"readonly")?.objectStore(t).get(n);Fe(s,ln,()=>{const l=s?.result?.data;r(l)}),Fe(s,cn,l=>{a(l)})}),En=(e,t,n,r)=>new Promise((a,o)=>{const u=e?.transaction(t,"readwrite")?.objectStore(t)?.put({id:n,data:r});Fe(u,ln,()=>{a()}),Fe(u,cn,c=>{o(c)})}),Ll=async(e,t,n)=>{const a=e?.transaction(t,"readwrite")?.objectStore(t);await Promise.all(n.map(o=>{const s=a?.put(o);return new Promise((l,u)=>{Fe(s,ln,()=>{l()}),Fe(s,cn,c=>{u(c)})})}))},Jo=(e,t,n)=>new Promise((r,a)=>{const l=e?.transaction(t,"readwrite")?.objectStore(t)?.delete(n);Fe(l,ln,()=>{r()}),Fe(l,cn,u=>{a(u)})}),Jn=(e,t)=>new Promise((n,r)=>{const s=e?.transaction(t,"readwrite")?.objectStore(t)?.clear();Fe(s,ln,()=>{n()}),Fe(s,cn,l=>{r(l)})});function Ml(e,t){Y(t,!0);let n=H(Le({showFavicon:!1}));const{getDB:r}=Fr(),{createBroadcastChannel:a,tabId:o}=Hr(),s=a(),l=I(r),u=async()=>{const p=await sa(i(l),Sr,"default");p&&P(n,p,!0)},c=async()=>{u()},d=async p=>{const y=JSON.parse(p.data),S=y;if(y.tabId&&y.tabId===o){S.type==="exit"&&(P(n,{showFavicon:!1},!0),Jn(i(l),Sr));return}S.type==="updateSettings"?u():S.type==="exit"&&P(n,{showFavicon:!1},!0)},v=()=>i(n).showFavicon,h=async p=>{i(n).showFavicon=p,await En(i(l),Sr,"default",{showFavicon:p}),s.postMessage({type:"updateSettings"})};he(()=>(c(),s.addEventListener(d),()=>{s.removeEventListener(d)})),El({getFaviconEnabled:v,setFaviconShown:h});var g=B(),f=L(g);ne(f,()=>t.children??se),w(e,g),$()}const Qo={};function Ol(e){ye(Qo,e)}function Ca(){const e=we(Qo);if(!e)throw new Error("No AccountContext found");return e}const Il=(e,t)=>{let n=null;return()=>{n&&clearTimeout(n),n=setTimeout(()=>{n=null,e()},t)}};async function Xr(){if(navigator.storage&&navigator.storage.persist)try{await navigator.storage.persisted()||await navigator.storage.persist()}catch{}}const es={};function Bl(e){ye(es,e)}function At(){const e=we(es);if(!e)throw new Error("No StackPagesContext found");return e}function Rl(e,t){Y(t,!0);const{navigate:n}=bt(),{hasStackPage:r,pushStackPages:a,clearStackPages:o}=At();let s=H(void 0);const{getDB:l}=Fr(),{createBroadcastChannel:u,tabId:c}=Hr(),d=I(l),v=u(),h=async()=>{const m=await sa(i(d),zn,"default");m&&(P(s,m,!0),o(),n("/"))},g=m=>En(i(d),zn,"default",m),f=async()=>{const m=await sa(i(d),zn,"default");m===void 0?a("start"):(r("start")&&(o(),n("/")),m?(P(s,m,!0),await Xr()):P(s,null))},p=async m=>{const C=JSON.parse(m.data);if(C.tabId&&C.tabId===c)return;const M=C;M.type==="initLocalAccount"?(P(s,null),o(),n("/")):M.type==="initCloudAccount"?(h(),o(),n("/")):M.type==="disconnectCloudAccount"?P(s,null):M.type==="exit"?P(s,void 0):M.type==="updateAccount"&&h()};he(()=>(f(),v.addEventListener(p),()=>{v.removeEventListener(p)})),Ol({getAccount:()=>i(s),initLocalAccount:async()=>{await Xr(),P(s,null),await g(null),v.postMessage({type:"initLocalAccount"})},initCloudAccount:async m=>{await Xr();const C={encryptedClientKey:m.encryptedClientKey||"",subscriptionExpires:m.subscriptionExpires||-1,lastSync:-1};await g(C),P(s,C,!0),v.postMessage({type:"initCloudAccount"})},disconnectCloudAccount:async()=>{P(s,null),await g(null);try{await fetch("/api/dropSession",{method:"POST"})}catch{}v.postMessage({type:"disconnectCloudAccount"})},updateSubscription:async m=>{if(!i(s))throw new Error("No account to update subscription for");const C={...i(s),subscriptionExpires:m};await g(C),v.postMessage({type:"updateAccount"})},exitApp:async()=>{P(s,void 0),v.postMessage({type:"exit"}),await Jn(i(d),zn)}});var E=B(),_=L(E);ne(_,()=>t.children??se),w(e,E),$()}const ts={};function Fl(e){ye(ts,e)}function cd(){const e=we(ts);if(!e)throw new Error("No DraftsContext found");return e}function Hl(e,t){Y(t,!0);const{getDB:n}=Fr(),{createBroadcastChannel:r,tabId:a}=Hr(),o=I(n),s=r();let l=H(void 0);const u=()=>{const E=i(l)?.();if(!E)throw new Error("Drafts state is not initialized");return{mapDrafts:E}},c=E=>{P(l,()=>E)},d=E=>{const _=new Map;E.forEach(m=>{_.set(m.id,m)}),P(l,()=>_)},v=async()=>{const E=await br(i(o),Vn);d(E)},h=E=>{const{mapDrafts:_}=u();return _.get(E)},g=E=>{const{mapDrafts:_}=u();_.delete(E),c(_)},f=E=>{const{mapDrafts:_}=u();_.set(E.id,E),c(_)},p=async E=>{const _={...E};f(_),s.postMessage({type:"putDraft",data:{draft:_}}),await En(i(o),Vn,_.id,{..._.data})},y=async E=>{g(E),await Jo(i(o),Vn,E),s.postMessage({type:"deleteDraft",data:{id:E}})},S=()=>!!i(l)?.(),k=async E=>{const _=JSON.parse(E.data),m=_;if(_.tabId&&_.tabId===a){m.type==="exit"&&(c(new Map),Jn(i(o),Vn));return}if(m.type==="putDraft"){const C=m.data.draft;f(C)}else if(m.type==="deleteDraft"){const C=m.data.id;g(C)}else m.type==="exit"&&c(new Map)};he(()=>(v(),s.addEventListener(k),()=>{s.removeEventListener(k)})),Fl({getDraft:h,putDraft:p,deleteDraft:y,isReadyDrafts:S});var b=B(),T=L(b);ne(T,()=>t.children??se),w(e,b),$()}const ns={};function jl(e){ye(ns,e)}function jr(){const e=we(ns);if(!e)throw new Error("No NotesContext found");return e}const Ul=()=>crypto.randomUUID();function zl(e,t){Y(t,!0);const{getDB:n}=Fr(),{createBroadcastChannel:r,tabId:a}=Hr(),o=I(n),s=r();let l=H(()=>{}),u=H(()=>{});const c=()=>{const N=i(l)?.(),A=i(u)?.();if(!N||!A)throw new Error("Notes state is not initialized");return{notes:N,mapNotes:A}},d=(N,A)=>{P(l,()=>N),P(u,()=>A)},v=N=>{const A=[],O=new Map;for(const R of N)A.push(R),O.set(R.id,R);d(A,O)},h=async()=>{const N=await br(i(o),ct);v(N)},g=()=>i(l),f=()=>i(u),p=N=>{const{notes:A,mapNotes:O}=c(),R={...N};A.push(R),O.set(R.id,R),d(A,O)},y=N=>{const{notes:A,mapNotes:O}=c();for(let R=0;R<A.length;R++)A[R]?.id===N.id&&A&&(A[R]=N);O.set(N.id,N),d(A,O)},S=N=>{const{notes:A,mapNotes:O}=c();O.delete(N);const R=A.findIndex(F=>F?.id===N);R!==-1&&(A[R]=void 0),d(A,O)},k=()=>{v([])},b=async N=>{const A={id:Ul(),data:{...N,createdAt:Date.now(),updatedAt:Date.now()}};p(A),s.postMessage({type:"addNote",data:{note:A}}),await En(i(o),ct,A.id,{...A.data})},T=async N=>{const A={id:N.id,data:{...N.data,updatedAt:Date.now()}};s.postMessage({type:"updateNote",data:{note:A}}),y(A),await En(i(o),ct,A.id,{...A.data})},E=(N,A)=>{const{mapNotes:O}=c(),R=O.get(N);if(!R)return;const F={...R,deleting:A};s.postMessage({type:"updateNote",data:{note:F}}),y(F)},_=async(N,A)=>{const{mapNotes:O}=c(),R=O.get(N);if(!R)return;const F={id:N,data:{...R.data,pinned:A}};s.postMessage({type:"updateNote",data:{note:F}}),y(F),await En(i(o),ct,F.id,{...F.data})},m=async N=>{const{mapNotes:A}=c();A.get(N),s.postMessage({type:"deleteNote",data:{id:N}}),S(N),await Jo(i(o),ct,N)},C=async()=>{s.postMessage({type:"clearNotes"}),k(),await Jn(i(o),ct)},M=async N=>{const{mapNotes:A}=c(),O={};N.forEach(F=>{const re=A.get(F.id);re?re&&re.data.updatedAt<F.data.updatedAt&&(O[F.id]=F):O[F.id]=F}),await Ll(i(o),ct,Object.values(O)),s.postMessage({type:"reloadNotes"});const R=await br(i(o),ct);v(R)},W=N=>{const{mapNotes:A}=c();return A.get(N)},K=()=>!!i(u)?.(),Z=async N=>{const A=JSON.parse(N.data),O=A;if(A.tabId&&A.tabId===a){O.type==="exit"&&(d([],new Map),await Jn(i(o),ct));return}if(O.type==="addNote"){const R=O.data.note;p(R)}else if(O.type==="updateNote"){const R=O.data.note;y(R)}else if(O.type==="deleteNote"){const R=O.data.id;S(R)}else if(O.type==="clearNotes")k();else if(O.type==="reloadNotes"){const R=await br(i(o),ct);v(R)}else O.type==="exit"&&d([],new Map)};he(()=>(h(),s.addEventListener(Z),()=>{s.removeEventListener(Z)})),jl({addNote:b,updateNote:T,deleteNote:m,pinNote:_,setDeleting:E,getGetNotes:g,getGetMapNotes:f,importNotes:M,clearNotes:C,getNoteById:W,isReadyNotes:K});var z=B(),V=L(z);ne(V,()=>t.children??se),w(e,z),$()}const rs={},Vl=()=>({working:!1,swipingRatio:1,isSwiping:!1,duration:.35});function ql(e){ye(rs,e)}function sr(){const e=we(rs);if(!e)throw new Error("No AnimationSettingsContext found");return e}function Wl(e,t){Y(t,!0);let n=Le(Vl());ql(n);var r=B(),a=L(r);ne(a,()=>t.children??se),w(e,r),$()}const as={};function Kl(e){ye(as,e)}function os(){const e=we(as);if(!e)throw new Error("No ScrollingContext found");return e}function Yl(e,t){Y(t,!0);let n=H(!1);const r=()=>i(n),a=Il(()=>{P(n,!1)},100);Kl({isScrolling:r,enable:()=>{P(n,!0),a()}});var s=B(),l=L(s);ne(l,()=>t.children??se),w(e,s),$()}const ss={};function $l(e){ye(ss,e)}function Fn(){const e=we(ss);if(!e)throw new Error("No MobileSizeContext found");return e}const Gl=(e,t,n={})=>{let r=null;return()=>{r||(e(),r=setTimeout(()=>{if(r=null,n.trailing){e();return}},t))}};function Xl(e,t){Y(t,!0);const n=()=>window.matchMedia("(max-width: 767px)").matches;let r=H(Le(n()));const a=Gl(()=>{P(r,n(),!0)},16,{trailing:!0});$l({checkMobileSize:()=>i(r)}),he(()=>(window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)));var s=B(),l=L(s);ne(l,()=>t.children??se),w(e,s),$()}const is={};function Zl(e){ye(is,e)}function ir(){const e=we(is);if(!e)throw new Error("No DialogContext found");return e}function Jl(e,t){Y(t,!0);let n=H(0),r=H(!1),a=H(!1);Zl({checkExistedDialog:()=>i(n)>0,showDialog:()=>{P(n,i(n)+1)},hideDialog:()=>{P(n,i(n)-1)},blockDialog:f=>{P(r,f,!0),f||P(a,!1)},checkBlockedDialog:()=>i(r),unBlockBackDialog:f=>{P(a,f,!0)},checkUnBlockedBackDialog:()=>i(a)});var h=B(),g=L(h);ne(g,()=>t.children??se),w(e,h),$()}const ls={};function Ql(e){ye(ls,e)}function Pa(){const e=we(ls);if(!e)throw new Error("No ScrollContainerContext found");return e}function ec(e,t){Y(t,!0);let n=H(null);Ql({setScrollContainer:l=>{P(n,l,!0)},getScrollContainer:()=>i(n)});var o=B(),s=L(o);ne(s,()=>t.children??se),w(e,o),$()}const cs={};function tc(e){ye(cs,e)}function xa(){const e=we(cs);if(!e)throw new Error("No DialogPageHeightContext found");return e}function nc(e,t){Y(t,!0);let n=H(200);tc({setDialogPageHeight:l=>{P(n,l,!0)},getDialogPageHeight:()=>i(n)});var o=B(),s=L(o);ne(s,()=>t.children??se),w(e,o),$()}const rc=[zn,Sr,ct,Vn,Tl,Al,Nl];function ac(){return new Promise((e,t)=>{const n=indexedDB.open(xl,Dl);Fe(n,"upgradeneeded",()=>{const r=n.result;for(const a of rc)r.objectStoreNames.contains(a)||r.createObjectStore(a,{keyPath:"id"})}),Fe(n,ln,()=>{const r=n.result;e(r),r.onversionchange=function(){r?.close(),alert("app outdated, please reload the page")}}),Fe(n,"blocked",()=>{t(),alert("app outdated, please reload the page")}),Fe(n,cn,()=>{t()})})}function oc(e,t){Y(t,!0);let n=H(null);he(()=>{ac().then(l=>{P(n,l,!0)})}),kl({getDB:()=>i(n)});var a=B(),o=L(a);{var s=l=>{var u=B(),c=L(u);ne(c,()=>t.children??se),w(l,u)};U(o,l=>{i(n)&&l(s)})}w(e,a),$()}function sc(e,t){Y(t,!0);const{getAppHistory:n,navigate:r}=bt(),a=()=>new URLSearchParams(n().search).get("stackPages")?.split(",")||[];let o=H(Le(a()));const s=y=>{const S=a();if(!S.includes(y)){S.push(y);const k=new URLSearchParams(n().search);k.set("stackPages",S.join(",")),P(o,S,!0),r(`${n().pathname}?${k.toString()}`)}};Bl({pushStackPages:s,hasStackPage:y=>a().includes(y),updateStackPages:()=>{P(o,a(),!0)},popStackPages:()=>{const y=i(o).slice(0,-1);P(o,y,!0)},getStackPages:()=>{const y=a();return y.length>=i(o).length?y.reduce((S,k)=>[...S,{page:k,shown:!0}],[]):i(o).reduce((S,k,b)=>[...S,{page:k,shown:y.length===0?!1:b!==i(o).length-1}],[])},clearStackPages:()=>{P(o,[],!0)},getPageUrl:y=>{const S=a();S.includes(y)||S.push(y);const k=new URLSearchParams(n().search);return k.set("stackPages",S.join(",")),`${n().pathname}?${k}`},createHandlePage:y=>S=>{S.preventDefault(),s(y)},getStackPagesFormUrl:a});var f=B(),p=L(f);ne(p,()=>t.children??se),w(e,f),$()}function ic(e,t){Y(t,!0);const n=Le({historyStack:[],pathname:window.location.pathname,search:window.location.search,historyLength:0}),r=()=>{n.pathname=document.location.pathname,n.search=document.location.search,n.historyLength=Math.max(0,n.historyLength-=1)},a=h=>{const[g,f]=h.split("?");n.pathname=g,n.search=f?`?${f}`:"",n.historyLength+=1,n.historyStack.push(window.location.href),window.history.replaceState(null,"",h)},o=h=>{const[g,f]=h.split("?");n.pathname=g,n.search=f?`?${f}`:"",window.history.replaceState(null,"",h)};dl({getAppHistory:()=>n,navigate:a,replace:o,addSearchParam:(h,g)=>{const f=new URLSearchParams(n.search);f.append(h,g),o(`${n.pathname}${f.size>0?`?${f.toString()}`:""}`)},deleteSearchParam:h=>{const g=new URLSearchParams(n.search);g.delete(h),n.historyStack=n.historyStack.map(f=>{const p=new URLSearchParams(f.split("?")[1]);return p.delete(h),`${f.split("?")[0]}${g.size>0?`?${p.toString()}`:""}`}),o(`${n.pathname}${g.size>0?`?${g.toString()}`:""}`)},back:h=>{const{fallback:g="/",to:f}=h||{},[p,y]=g.split("?");if(n.historyLength<=0){const S=window.location.href,[k,b]=S.split("?");if(!b.includes("stackPages"))window.history.replaceState(null,"",g),n.historyLength=0,n.pathname=p,n.search=y?`?${y}`:"";else{const T=new URLSearchParams(b),E=T.get("stackPages")?.split(",")||[],_=E.slice(0,f&&E.includes(f)?E.indexOf(f)+1:-1);_.length===0?T.delete("stackPages"):T.set("stackPages",_.join(","));const m=`${k}${T.toString()?`?${T.toString()}`:""}`;window.history.replaceState(null,"",m),n.search=T.toString()?`?${T.toString()}`:""}}else if(n.historyStack.length>0){const k=new URLSearchParams(n.search).get("stackPages")?.split(",")||[];f&&k.includes(f)&&(n.historyStack=n.historyStack.slice(0,-(k.length-(k.indexOf(f)+1))+1),n.historyLength=n.historyStack.length);const b=n.historyStack.pop();if(b){const[T,E]=b.split("?");window.history.replaceState(null,"",b),n.historyLength=Math.max(0,n.historyLength-=1),n.pathname=T,n.search=E?`?${E}`:""}}},closeDialogStack:()=>{const h=n.historyStack.findIndex(f=>f.includes("stackPages")),g=h===-1?n.historyStack.slice(0):n.historyStack.slice(0,h);if(g.length>0){const f=g.pop();if(f){const[p,y]=f.split("?");window.history.replaceState(null,"",f),n.historyLength=Math.max(0,g.length),n.pathname=p,n.search=y?`?${y}`:"",n.historyStack=g}}else{const f=n.search,p=new URLSearchParams(f);p.delete("stackPages"),window.history.replaceState(null,"",p.toString()?"/?"+p.toString():"/"),n.historyLength=0,n.pathname="/",n.search=p.toString()?"?"+p.toString():"",n.historyStack=[]}}}),he(()=>(window.addEventListener("popstate",r),()=>{window.removeEventListener("popstate",r)}));var d=B(),v=L(d);ne(v,()=>t.children??se),w(e,d),$()}const us={};function lc(e){ye(us,e)}function cc(){const e=we(us);if(!e)throw new Error("No KeyboardVisibleContext found");return e}function uc(e,t){Y(t,!0);let n=Le({value:!1});const r=()=>n.value;he(()=>{const s=()=>{setTimeout(()=>{document.activeElement instanceof HTMLInputElement&&document.activeElement.type==="text"||document.activeElement instanceof HTMLTextAreaElement?n.value=!0:n.value=!1},0)};return s(),document.addEventListener("focusin",s),document.addEventListener("focusout",s),()=>{document.removeEventListener("focusin",s),document.removeEventListener("focusout",s)}}),lc({getIsKeyboardVisible:r});var a=B(),o=L(a);ne(o,()=>t.children??se),w(e,a),$()}function dc(e,t){Y(t,!0);const n=crypto.randomUUID(),r=(s,l)=>{s.postMessage(JSON.stringify({...l,tabId:n}))};Pl({tabId:n,createBroadcastChannel:()=>{const s=new BroadcastChannel("app");return{postMessage:l=>r(s,l),addEventListener:l=>{s.addEventListener("message",l)},removeEventListener:l=>{s.removeEventListener("message",l)}}}});var a=B(),o=L(a);ne(o,()=>t.children??se),w(e,a),$()}function fc(e,t){Wl(e,{children:(n,r)=>{Yl(n,{children:(a,o)=>{Xl(a,{children:(s,l)=>{Jl(s,{children:(u,c)=>{ec(u,{children:(d,v)=>{nc(d,{children:(h,g)=>{uc(h,{children:(f,p)=>{ic(f,{children:(y,S)=>{sc(y,{children:(k,b)=>{oc(k,{children:(T,E)=>{dc(T,{children:(_,m)=>{var C=B(),M=L(C);ne(M,()=>t.children??se),w(_,C)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})}function vc(e,t){fc(e,{children:(n,r)=>{cl(n,{children:(a,o)=>{fl(a,{children:(s,l)=>{hl(s,{children:(u,c)=>{_l(u,{children:(d,v)=>{wl(d,{children:(h,g)=>{bl(h,{children:(f,p)=>{Ml(f,{children:(y,S)=>{Rl(y,{children:(k,b)=>{Hl(k,{children:(T,E)=>{zl(T,{children:(_,m)=>{var C=B(),M=L(C);ne(M,()=>t.children??se),w(_,C)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})}})}let Lt=H(""),Wt=H(null),qn=H(null),Wn=H(null);function Ur(e,t){P(Lt,""),setTimeout(()=>{P(Lt,e,!0),t?.onFinish&&P(qn,t.onFinish,!0),t?.onCancel&&P(Wn,t.onCancel,!0)},16)}const hc=(e,t,n,r,a)=>{e.preventDefault(),i(t)&&(P(n,null),i(t)(),P(t,null)),P(r,""),i(a)?.style.removeProperty("opacity")};var gc=G('<button type="button" class="undoButton svelte-1vxmgq5">undo</button>'),_c=G('<div class="notification svelte-1vxmgq5"><span> </span> <!></div>'),pc=G("<div><!></div>");function mc(e,t){Y(t,!0),Me(()=>{i(Lt);const o=i(Wn)?2e3:800;i(Lt)&&(i(Wt)?.getBoundingClientRect(),i(Wt)?.style.setProperty("opacity","1"));const s=setTimeout(()=>{i(Wt)?.style.removeProperty("opacity")},o),l=setTimeout(()=>{P(Lt,""),i(qn)&&i(qn)(),P(qn,null),P(Wn,null),i(Wt)?.style.removeProperty("opacity")},o+400);return()=>{clearTimeout(s),clearTimeout(l)}});var n=pc(),r=D(n);{var a=o=>{var s=_c(),l=D(s),u=D(l),c=j(l,2);{var d=v=>{var h=gc();h.__click=[hc,Wn,qn,Lt,Wt],w(v,h)};U(c,v=>{i(Wn)&&v(d)})}gt(s,v=>P(Wt,v),()=>i(Wt)),_e(()=>Xn(u,i(Lt))),w(o,s)};U(r,o=>{i(Lt)&&o(a)})}w(e,n),$()}Qe(["click"]);var wc=G('<span class="vh svelte-1s25udk"><!></span>');function vt(e,t){var n=wc(),r=D(n);ne(r,()=>t.children),w(e,n)}var yc=Ki('<svg class="svelte-18et5h9"><use></use></svg>');function xe(e,t){let n=ie(t,"name",8,"");var r=yc(),a=D(r);_e(()=>Ne(a,"href",`#icon-${n()??""}`)),w(e,r)}const Sc=(e,t,n,r)=>{const a=t().type;a==="closed"?n():a==="opened"&&r()};var bc=G('<button class="buttonMenu svelte-bpktnw"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>');function ds(e,t){Y(t,!1);const{sidebarOpen:n,getSidebarState:r,sidebarClose:a}=ml();ba();var o=bc();o.__click=[Sc,r,n,a];var s=D(o);Ce(s,()=>({"--size":"36px"})),xe(s.lastChild,{name:"sidebarMenu"});var l=j(s,2);vt(l,{children:(u,c)=>{var d=Ue("Menu");w(u,d)}}),w(e,o),$()}Qe(["click"]);var kc=(e,t)=>t.onChange?.(e.target?.value||""),Ec=G('<input class="svelte-15lr19w"/>');function ia(e,t){Y(t,!0);let n=ie(t,"value",15,"");var r=Ec();r.__input=[kc,t],_e(()=>Ne(r,"placeholder",t.placeholder)),ya("focus",r,function(...a){t.onFocus?.apply(this,a)}),al(r,n),w(e,r),$()}Qe(["input"]);function fs(e,t){Y(t,!0),he(()=>{const n=r=>{r.target&&t.dialog?.open&&t.dialogInner&&t.dialogInner!==r.target&&!t.dialogInner.contains(r.target)&&t.onClose()};return document.addEventListener("mousedown",n,{capture:!0}),()=>{document.removeEventListener("mousedown",n,{capture:!0})}}),$()}var Cc=G('<dialog><div class="dialogInner svelte-1x410nl"><!></div></dialog> <!>',1);function vs(e,t){Y(t,!0);let n=H(null),r=H(null),a=H(!1),{showDialog:o,hideDialog:s}=ir();const l=()=>{const f=setTimeout(()=>{t.onClosed()},150);i(n)?.addEventListener("transitionend",()=>{clearTimeout(f),t.onClosed()},{once:!0}),P(a,!1)};Me(()=>{t.startClose&&l()}),he(()=>{i(n)?.showModal(),i(n)?.getClientRects(),P(a,!0)}),he(()=>(o(),()=>{s()}));var u=Cc(),c=L(u),d=D(c),v=D(d);ne(v,()=>t.children),gt(d,f=>P(r,f),()=>i(r)),gt(c,f=>P(n,f),()=>i(n));var h=j(c,2);{var g=f=>{fs(f,{get dialog(){return i(n)},get dialogInner(){return i(r)},onClose:l})};U(h,f=>{i(n)&&i(r)&&f(g)})}_e(()=>ue(c,1,ce(["dialog",{shown:i(a)}]),"svelte-1x410nl")),w(e,u),$()}var Pc=G("<div><!></div>");function hs(e,t){Y(t,!0);let n=H(!1),r=H(null);const a=()=>{const c=setTimeout(()=>{t.onClosed()},150);i(r)?.addEventListener("transitionend",()=>{clearTimeout(c),t.onClosed()},{once:!0}),P(n,!1)},o=c=>{c.target!==i(r)&&!i(r)?.contains(c.target)&&a()},s=c=>{c.target!==i(r)&&!i(r)?.contains(c.target)&&a()};he(()=>{i(r)?.getClientRects(),P(n,!0);const c=setTimeout(()=>{document.addEventListener("focusin",o),document.addEventListener("click",s)},0);return()=>{clearTimeout(c),document.removeEventListener("focusin",o),document.removeEventListener("click",s)}}),Me(()=>{t.startClose&&a()});var l=Pc(),u=D(l);ne(u,()=>t.children),gt(l,c=>P(r,c),()=>i(r)),_e(()=>ue(l,1,ce(["menu",{top:t.positionTop,shown:i(n)}]),"svelte-ujw4xi")),w(e,l),$()}const xc=(e,t)=>{i(t)||P(t,!0)};var Dc=(e,t)=>t("newest"),Tc=(e,t)=>t("oldest"),Ac=(e,t)=>t("AtoZ"),Nc=(e,t)=>t("ZtoA"),Lc=G("<div><button>Newest</button> <button>Oldest</button> <button>A to Z</button> <button>Z to A</button></div>"),Mc=G('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),Oc=G('<div class="orderMenu svelte-14zj87s"><button><!> <!></button> <!></div>');function Ic(e,t){Y(t,!0);const n=(k,b=se)=>{var T=Lc(),E=D(T);E.__click=[Dc,d];var _=j(E,2);_.__click=[Tc,d];var m=j(_,2);m.__click=[Ac,d];var C=j(m,2);C.__click=[Nc,d],_e(()=>{ue(T,1,ce(["menu",{menuDialog:b()}]),"svelte-14zj87s"),ue(E,1,ce(["menuButton",{menuButtonDialog:b(),current:i(c)==="newest"}]),"svelte-14zj87s"),ue(_,1,ce(["menuButton",{menuButtonDialog:b(),current:i(c)==="oldest"}]),"svelte-14zj87s"),ue(m,1,ce(["menuButton",{menuButtonDialog:b(),current:i(c)==="AtoZ"}]),"svelte-14zj87s"),ue(C,1,ce(["menuButton",{menuButtonDialog:b(),current:i(c)==="ZtoA"}]),"svelte-14zj87s")}),w(k,T)};let r=H(!1),a=H(!1);const{checkMobileSize:o}=Fn(),{getFeedOrder:s,setFeedOrder:l}=Ko();let u=I(o),c=I(s);const d=k=>{P(a,!0),l(k)},v=()=>{P(r,!1),P(a,!1)};var h=Oc(),g=D(h);g.__click=[xc,r],ue(g,1,ce(["button","buttonMenu"]),"svelte-14zj87s");var f=D(g);xe(f,{name:"filter"});var p=j(f,2);vt(p,{children:(k,b)=>{var T=Ue("show feed order menu");w(k,T)}});var y=j(g,2);{var S=k=>{var b=B(),T=L(b);{var E=m=>{vs(m,{get startClose(){return i(a)},onClosed:v,children:(C,M)=>{n(C,()=>!0)},$$slots:{default:!0}})},_=m=>{var C=Mc(),M=L(C);Ce(M,()=>({"--right":"20px","--top":"60px"})),hs(M.lastChild,{get startClose(){return i(a)},onClosed:v,children:(W,K)=>{n(W,()=>!1)},$$slots:{default:!0}}),w(m,C)};U(T,m=>{i(u)?m(E):m(_,!1)})}w(k,b)};U(y,k=>{i(r)&&k(S)})}w(e,h),$()}Qe(["click"]);var q=(e=>(e.NewNote="newNote",e.EditNote="editNote",e.Settings="settings",e.ImportData="importData",e.ExportData="exportData",e.ClearStore="clearStore",e.Account="account",e.Sync="sync",e.Start="start",e.Auth="auth",e.Signin="signin",e.Signup="signup",e.AccessKeys="accessKeys",e.ConfirmAccessKey="confirmAccessKey",e.Subscription="subscription",e.Exit="exit",e.NotFound="notFound",e.About="about",e))(q||{}),Bc=G('<div class="header svelte-13t3afu"><div class="top svelte-13t3afu"><div class="menu svelte-13t3afu"><a class="link svelte-13t3afu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Settings</span></a> <a class="link svelte-13t3afu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Sync</span></a></div> <div class="mobile svelte-13t3afu"><!></div> <a class="buttonAdd svelte-13t3afu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Note</span></a></div> <div class="bottom svelte-13t3afu"><div><div class="sidebarSearchWrapper"><!></div></div> <div class="right svelte-13t3afu"><div class="filter svelte-13t3afu"><div class="feedSearchWrapper svelte-13t3afu"><!></div> <!></div></div></div></div>');function Rc(e,t){Y(t,!0);const{createHandlePage:n,getPageUrl:r}=At(),a=qo(),{setFeedSearch:o}=Ea(),{getScrollContainer:s}=Pa();let l=I(s);const u=()=>{i(l)&&i(l).scrollTo({top:0,behavior:"smooth"})},c=O=>{o(O)};var d=Bc(),v=D(d),h=D(v),g=D(h),f=I(()=>n(q.Settings));g.__click=function(...O){i(f)?.apply(this,O)};var p=D(g);Ce(p,()=>({"--rotate":"30deg","--size":"20px"})),xe(p.lastChild,{name:"settings"});var y=j(g,2),S=I(()=>n(q.Sync));y.__click=function(...O){i(S)?.apply(this,O)};var k=D(y);Ce(k,()=>({"--size":"20px"})),xe(k.lastChild,{name:"sync"});var b=j(h,2),T=D(b);ds(T,{});var E=j(b,2),_=I(()=>n(q.NewNote));E.__click=function(...O){i(_)?.apply(this,O)};var m=D(E);Ce(m,()=>({"--size":"16px","--color":"#b0b0b0"})),xe(m.lastChild,{name:"plus"});var C=j(v,2),M=D(C);ue(M,1,ce(["left"]),"svelte-13t3afu");var W=D(M),K=D(W);ia(K,{placeholder:"Search tag",get value(){return a.tagSearch},set value(O){a.tagSearch=O}});var Z=j(M,2),z=D(Z),V=D(z),N=D(V);ia(N,{onFocus:u,onChange:c,placeholder:"Search",get value(){return a.feedSearch}});var A=j(V,2);Ic(A,{}),_e((O,R,F)=>{Ne(g,"href",O),Ne(y,"href",R),Ne(E,"href",F)},[()=>r(q.Settings),()=>r(q.Sync),()=>r(q.NewNote)]),w(e,d),$()}Qe(["click"]);function Fc(e,t){Y(t,!0);const{getIsKeyboardVisible:n}=cc();let r=ie(t,"dialog",7);const a=I(n),o=sr();let s=null;const l=()=>{t.dialogState==="swiping"&&t.onClose()};Me(()=>(t.dialogState==="swiping"&&(s=setTimeout(l,3e3)),()=>{s&&(clearTimeout(s),s=null)}));let u=null,c=null;const d=3,v=50,h=5,g=.6,f=.3,p=.35,y=.95;let S=0,k=0,b=0,T=!1,E=!1,_=0,m=0,C=0;const M=()=>{S=0,k=0,T=!1,E=!1,_=0,m=0,C=0,b=0,u=null,c!==null&&(cancelAnimationFrame(c),c=null),s&&(clearTimeout(s),s=null)},W=F=>{r()&&t.dialogState==="opened"&&(S=F.touches[0].clientX,k=F.touches[0].clientY,b=performance.now(),T=!0,E=!1)},K=F=>t.dialogState==="opened"&&F>0||t.dialogState==="swiping"&&F>0,Z=()=>{if(r()){r().style.setProperty("--transition-timing","0s"),t.onSwipe(),navigator.vibrate&&navigator.vibrate(10);try{const F=window.getComputedStyle(r()),re=F.transform||F.webkitTransform||"";if(m=r().offsetWidth,(t.dialogState==="swiping"||t.dialogState==="opened")&&(_=0),re&&re!=="none")try{_=new DOMMatrix(re).m41}catch{}E=!0}catch{M()}}},z=()=>{if(!r())return;const re=Math.abs(_+C*m/100)/m;r().style.setProperty("--backdrop-bg",`rgba(0, 0, 0, ${.1*(1-re)})`)},V=()=>{if(c=null,!u||!T||!r()||i(a)){M();return}const F=u.touches[0].clientX,re=u.touches[0].clientY,me=F-S,le=re-k,pe=Math.abs(me)>Math.abs(le),Q=Math.abs(me)>d;if(!E)if(pe&&Q&&K(me))try{Z()}catch{M();return}else return;if(!K(me))return;r().style.setProperty("--transition-timing","0s");let te=_+me*y;te=Math.max(0,Math.min(m,te)),r().style.transform=`translate3d(${te}px, 0, 0)`,o.swipingRatio=Math.abs(1-te/m),C=(te-_)/m*100,t.dialogState==="swiping"&&(s&&clearTimeout(s),s=setTimeout(l,3e3)),z()},N=F=>{if(!T)return;u=F,c===null&&(c=requestAnimationFrame(V));const re=F.touches[0].clientX-S,me=F.touches[0].clientY-k,le=Math.abs(re)>Math.abs(me);E&&le&&F.preventDefault()},A=F=>{const re=Math.abs(F);if(re>=g)return h;if(re>=f){const me=(re-f)/(g-f);return v-me*(v-h)}else return v},O=(F,re)=>{if(Math.abs(F)>=g)return p*.5;const le=Math.abs(C)/100;return re?p*Math.max(.5,1-le):p*Math.max(.5,le)},R=F=>{if(c!==null&&(cancelAnimationFrame(c),c=null),!T||!r()){M();return}if(!E){M();return}let re=0;if(F?.changedTouches?.[0]){const te=F.changedTouches[0].clientX,be=performance.now()-b;be>0&&(re=(te-S)/be)}const me=A(re);let le=null;t.dialogState==="swiping"&&(le=Math.abs(C)>me||re<-f?"close":"open");const pe=t.dialogState==="swiping"&&le==="close",Q=O(re,pe);o.duration=Q-.02,r().style.setProperty("--transition-timing",`${Q}s`),r().offsetWidth,r().style.transform="",le==="open"?t.onOpen():le==="close"&&t.onClose(),r()?.style.removeProperty("--backdrop-bg"),M()};he(()=>(r().addEventListener("touchstart",W,{passive:!0}),r().addEventListener("touchmove",N,{passive:!1}),r().addEventListener("touchend",R,{passive:!0}),r().addEventListener("touchcancel",R,{passive:!0}),()=>{r().removeEventListener("touchstart",W),r().removeEventListener("touchmove",N),r().removeEventListener("touchend",R),r().removeEventListener("touchcancel",R),c!==null&&cancelAnimationFrame(c)})),$()}var Hc=(e,t)=>{t.onStartClose()},jc=G('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),Uc=G('<dialog><div class="dialogInner svelte-vr2o0t"><div class="header svelte-vr2o0t"><div><!></div></div> <!></div></dialog> <!>',1);function zc(e,t){Y(t,!0);let n=350;const{isScrolling:r,enable:a}=os();let o=H(null),s=H(null);const l=sr(),u=_=>{_.preventDefault(),t.onStartClose()};he(()=>(i(o)?.addEventListener("close",t.onClosed),i(o)?.addEventListener("cancel",u),()=>{i(o)?.removeEventListener("close",t.onClosed),i(o)?.removeEventListener("cancel",u)}));const c=()=>{i(o)?.style.removeProperty("--transition-timing"),i(o)?.style.removeProperty("transform"),i(o)?.style.removeProperty("--backdrop-bg")},d=()=>{a()},v=I(r);Me(()=>{if(t.dialogState,!!i(o))switch(t.dialogState){case"opening":{i(o).open||i(o).showModal(),i(o).getBoundingClientRect();const _=setTimeout(()=>{c()},n+1),m=()=>{clearTimeout(_),c()};return i(o)?.addEventListener("transitionend",m,{once:!0}),t.onOpened(),()=>{i(o)?.removeEventListener("transitionend",m)}}case"closing":{const _=setTimeout(()=>{t.dialogState==="closing"&&t.onClosed()},n+1),m=()=>{clearTimeout(_),t.onClosed()};return i(o)?.addEventListener("transitionend",m,{once:!0}),()=>{i(o)?.removeEventListener("transitionend",m)}}case"opened":c()}});var h=Uc(),g=L(h),f=D(g),p=D(f),y=D(p),S=D(y);{var k=_=>{var m=jc();ue(m,1,ce(["navigateButton","buttonBack"]),"svelte-vr2o0t"),m.__click=[Hc,t];var C=D(m);Ce(C,()=>({"--size":"36px"})),xe(C.lastChild,{name:"back"});var M=j(C,2);vt(M,{children:(W,K)=>{var Z=Ue("back");w(W,Z)}}),w(_,m)};U(S,_=>{(!(t.blocked||t.hidden)||t.blocked&&t.unBlockedBack)&&_(k)})}var b=j(p,2);ne(b,()=>t.children),gt(f,_=>P(s,_),()=>i(s)),gt(g,_=>P(o,_),()=>i(o));var T=j(g,2);{var E=_=>{Fc(_,{get onClose(){return t.onStartClose},get onOpen(){return t.onStartOpen},get onSwipe(){return t.onSwipe},get dialogState(){return t.dialogState},get dialog(){return i(o)}})};U(T,_=>{(!i(v)&&t.dialogState==="opened"||t.dialogState==="swiping")&&(!t.blocked||t.unBlockedBack)&&_(E)})}_e(()=>ue(g,1,ce([{open:t.dialogState==="opened",hidden:t.hidden,isAnimationOn:l.working&&(!l.isSwiping||!t.hidden)},{hidden:t.hidden}]),"svelte-vr2o0t")),ya("scroll",f,d),w(e,h),$()}Qe(["click"]);const Ka=(e,t)=>{if(!t)return e;if(t.type==="closed")return{type:"closed"};switch(e.type){case"opened":return t.type==="close"?{type:"closing"}:t.type==="swipe"?{type:"swiping"}:e;case"closed":return t.type==="open"?{type:"opening"}:e;case"swiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"opening":return t.type==="opened"?{type:"opened"}:e;default:return e}};function Vc(e,t){Y(t,!0);let n=ie(t,"blocked",3,!1),r=ie(t,"hiddenDialog",3,!1),a=ie(t,"unBlockedBack",3,!1),o=ie(t,"onStartClose",3,()=>{}),s=ie(t,"onClose",3,()=>{});const l=sr();let u=H(Le(Ka({type:"closed"})));const c=b=>{P(u,Ka(i(u),b),!0)},d=()=>{n()&&!a()||(o()(),c({type:"close"}))},v=()=>{c({type:"open"})},h=()=>{c({type:"opened"}),l.duration=.2},g=()=>{s()(),c({type:"closed"}),l.swipingRatio=1,l.duration=.2},f=()=>{c({type:"swipe"})};Me(()=>{i(u).type==="swiping"?l.isSwiping=!0:l.isSwiping=!1,i(u).type==="closed"&&t.shownDialog?v():i(u).type==="opened"&&!t.shownDialog&&d()});var p={handleComputeState:c},y=B(),S=L(y);{var k=b=>{zc(b,{onSwipe:f,onOpened:h,onClosed:g,onStartClose:d,onStartOpen:v,get dialogState(){return i(u).type},get hidden(){return r()},get blocked(){return n()},get unBlockedBack(){return a()},children:(T,E)=>{var _=B(),m=L(_);ne(m,()=>t.children),w(T,_)},$$slots:{default:!0}})};U(S,b=>{i(u).type!=="closed"&&b(k)})}return w(e,y),$(p)}const qc=({getDialog:e,onOpen:t,onStartClose:n,onClose:r})=>{const a=s=>{s.preventDefault(),n()},o=()=>{r?.()};he(()=>{const s=e();return s?.addEventListener("cancel",a),s?.addEventListener("close",o),()=>{s?.removeEventListener("cancel",a),s?.removeEventListener("close",o)}}),he(()=>{const s=e();s?.showModal(),s?.getBoundingClientRect(),t()})};var Wc=(e,t)=>{t.onStartBack()},Kc=G('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),Yc=(e,t)=>{t.onStartClose()},$c=G('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),Gc=G('<dialog><div class="dialogInner svelte-rt409n"><div class="header svelte-rt409n"><div><!></div> <div><!></div></div> <!></div></dialog> <!>',1);function Xc(e,t){Y(t,!0);let n=ie(t,"blockedDialog",3,!1),r=ie(t,"hiddenDialog",3,!1),a=ie(t,"isDesktopAnimationOff",3,!1),o=H(null),s=H(null);qc({getDialog:()=>i(o),onOpen:t.onOpen,onStartClose:t.onStartClose,onClose:t.onClose});const l=sr();Me(()=>{t.stateDialog==="closing"&&(l.working?i(o)?.addEventListener("transitionend",()=>{i(o)?.close()},{once:!0}):i(o)?.close())});const{getDialogPageHeight:u}=xa(),c=I(u);var d=Gc(),v=L(d),h=D(v),g=D(h),f=D(g),p=D(f);{var y=_=>{var m=Kc();ue(m,1,ce(["navigateButton","buttonBack"]),"svelte-rt409n"),m.__click=[Wc,t];var C=D(m);Ce(C,()=>({"--size":"28px"})),xe(C.lastChild,{name:"back"});var M=j(C,2);vt(M,{children:(W,K)=>{var Z=Ue("back");w(W,Z)}}),w(_,m)};U(p,_=>{(!(n()||r())||n()&&t.unBlockedBack)&&t.onStartBack&&_(y)})}var S=j(f,2),k=D(S);{var b=_=>{var m=$c();ue(m,1,ce(["navigateButton","buttonClose"]),"svelte-rt409n"),m.__click=[Yc,t];var C=D(m);Ce(C,()=>({"--size":"28px"})),xe(C.lastChild,{name:"close"});var M=j(C,2);vt(M,{children:(W,K)=>{var Z=Ue("close");w(W,Z)}}),w(_,m)};U(k,_=>{n()||r()||_(b)})}var T=j(g,2);ne(T,()=>t.children),gt(h,_=>P(s,_),()=>i(s)),gt(v,_=>P(o,_),()=>i(o));var E=j(v,2);fs(E,{get dialog(){return i(o)},get dialogInner(){return i(s)},get onClose(){return t.onStartClose}}),_e(()=>{Zn(v,`height: ${i(c)+74}px`),ue(v,1,ce([{open:t.stateDialog==="open",isAnimationOn:l.working,isDesktopAnimationOff:a(),hiddenDialog:r()}]),"svelte-rt409n")}),w(e,d),$()}Qe(["click"]);const Zc=({onStartClose:e,onClose:t})=>{let n=H("close");return{get state(){return i(n)},set state(s){P(n,s,!0)},handleStartClose:(s=!1)=>{s||(P(n,"closing"),e?.())},handleOpen:()=>{P(n,"open")},handleClose:()=>{P(n,"close"),t?.()}}};function Jc(e,t){Y(t,!0);let n=ie(t,"blockedDialog",3,!1),r=ie(t,"hiddenDialog",3,!1),a=ie(t,"onStartClose",3,()=>{}),o=ie(t,"onClose",3,()=>{}),s=Zc({onStartClose:a(),onClose:o()});Me(()=>{s.state==="close"&&t.shownDialog?s.state="opening":s.state==="open"&&!t.shownDialog&&s.handleStartClose(n())});const l=v=>{v.key==="Escape"&&(document.activeElement instanceof HTMLInputElement&&document.activeElement.type==="text"||document.activeElement instanceof HTMLTextAreaElement||n())&&(v.preventDefault(),v.stopPropagation())};he(()=>(document.addEventListener("keydown",l),()=>{document.removeEventListener("keydown",l)}));var u=B(),c=L(u);{var d=v=>{Xc(v,{get stateDialog(){return s.state},get blockedDialog(){return n()},get unBlockedBack(){return t.unBlockedBack},get hiddenDialog(){return r()},get onOpen(){return s.handleOpen},get onStartBack(){return t.onStartBack},onStartClose:()=>{s.handleStartClose(n())},get onClose(){return s.handleClose},children:(h,g)=>{var f=B(),p=L(f);ne(p,()=>t.children),w(h,f)},$$slots:{default:!0}})};U(c,v=>{s.state!=="close"&&v(d)})}w(e,u),$()}function Qc(e,t){Y(t,!0);let n=ie(t,"blockedDialog",3,!1),r=ie(t,"hiddenDialog",3,!1),a=ie(t,"isLastDialog",3,!1),o=ie(t,"onStartClose",3,()=>{}),s=ie(t,"onClose",3,()=>{});const l=I(()=>a()?void 0:t.onStartBack),{showDialog:u,hideDialog:c}=ir();he(()=>(u(),()=>{c()}));const{checkMobileSize:d}=Fn();var v=B(),h=L(v);{var g=p=>{Vc(p,{get shownDialog(){return t.shownDialog},get blocked(){return n()},get unBlockedBack(){return t.unBlockedBack},get hiddenDialog(){return r()},get children(){return t.children},get onStartClose(){return t.onStartBack},get onClose(){return s()}})},f=p=>{Jc(p,{get shownDialog(){return t.shownDialog},get blockedDialog(){return n()},get unBlockedBack(){return t.unBlockedBack},get hiddenDialog(){return r()},get children(){return t.children},get onStartBack(){return i(l)},get onStartClose(){return o()},get onClose(){return s()}})};U(h,p=>{d()?p(g):p(f,!1)})}w(e,v),$()}function Ya(e,t){Y(t,!0);const{back:n,closeDialogStack:r}=bt(),{popStackPages:a}=At();let o=ie(t,"blocked",3,!1),s=ie(t,"isLastDialog",3,!1),l=ie(t,"onBack",3,()=>{});const{checkBlockedDialog:u,checkUnBlockedBackDialog:c}=ir(),d=I(()=>o()||t.hidden||u()),v=I(()=>c()&&!s());Qc(e,{get shownDialog(){return t.shown},get blockedDialog(){return i(d)},get unBlockedBack(){return i(v)},get hiddenDialog(){return t.hidden},get isLastDialog(){return s()},onStartBack:()=>{(!i(d)||i(d)&&i(v))&&t.shown&&(n(),l()())},onStartClose:()=>{(!i(d)||i(d)&&i(v))&&t.shown&&r()},onClose:()=>{a()},children:(p,y)=>{var S=B(),k=L(S);ne(k,()=>t.children),w(p,S)},$$slots:{default:!0}}),$()}const eu="modulepreload",tu=function(e){return"/"+e},$a={},Ae=function(t,n,r){let a=Promise.resolve();if(n&&n.length>0){let u=function(c){return Promise.all(c.map(d=>Promise.resolve(d).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),l=s?.nonce||s?.getAttribute("nonce");a=u(n.map(c=>{if(c=tu(c),c in $a)return;$a[c]=!0;const d=c.endsWith(".css"),v=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${v}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":eu,d||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),d)return new Promise((g,f)=>{h.addEventListener("load",g),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return a.then(s=>{for(const l of s||[])l.status==="rejected"&&o(l.reason);return t().catch(o)})};var nu=G('<button> <svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></button>');function mn(e,t){let n=I(()=>t.style==="selected"?"45deg":"0deg");var r=nu();r.__click=function(...s){t.onClick?.apply(this,s)};var a=D(r),o=j(a);Ce(o,()=>({"--size":t.size==="small"?"10px":"12px","--rotate":i(n)})),xe(o.lastChild,{name:"plus"}),_e(()=>{Ne(r,"type",t.type),ue(r,1,ce([{selectedTag:t.style==="selected",small:t.size==="small"}]),"svelte-uu8a24"),Xn(a,`${t.title??""} `)}),w(e,r)}Qe(["click"]);var ru=G("<div></div>"),au=G('<div class="sidebarFixed svelte-1hv280f"><div class="nav svelte-1hv280f"><!> <div class="menu svelte-1hv280f"><a class="link svelte-1hv280f"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a> <a class="link svelte-1hv280f"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a></div></div> <div class="searchWrapper svelte-1hv280f"><!></div> <!></div> <div><!> <!></div>',1),ou=G("<div></div>"),su=G('<div class="sidebar svelte-1hv280f"><div class="sidebarFixed svelte-1hv280f"><!></div> <div class="tags svelte-1hv280f"><!> <!></div></div>');function iu(e,t){Y(t,!0);const{checkMobileSize:n}=Fn(),{getRelatedTags:r}=ka(),{isReadyNotes:a}=jr(),{getAppHistory:o,navigate:s}=bt(),{getPageUrl:l,createHandlePage:u,getStackPagesFormUrl:c}=At(),d=qo(),v=I(o),h=I(a);let g=H(null),f=I(()=>new URLSearchParams(i(v).search).get("selectedTags")?.split(",")||[]),p=null;function y(){return p||(p=Ae(()=>import("./MobileSidebar-DPGKuznW.js"),__vite__mapDeps([0,1]))),p}const S=z=>{const V=new URLSearchParams(i(v).search);V.set("selectedTags",[...i(f),z].join(",")),s(`${i(v).pathname}${V.size>0?`?${V.toString()}`:""}`),d.tagSearch=""},k=z=>{const V=new URLSearchParams(i(v).search),N=i(f).filter(A=>A!==z);N.length===0?V.delete("selectedTags"):V.set("selectedTags",N.join(",")),s(`${i(v).pathname}${V.size>0?`?${V.toString()}`:""}`)};let b=I(r),T=I(()=>i(h)?Object.values(i(b)).filter(z=>!i(f).some(V=>z.name===V)&&z.name!=="inbox").sort((z,V)=>z.name.localeCompare(V.name)):[]),E=I(()=>i(b).inbox&&i(f).includes("inbox")===!1?i(b).inbox:null),_=I(n);he(()=>{i(_)&&y()});const{checkExistedDialog:m}=ir();let C=I(()=>c().length>0||m());var M=B(),W=L(M);{var K=z=>{var V=B(),N=L(V);Io(N,y,null,(A,O)=>{const R=I(()=>i(O).default);var F=B(),re=L(F);Fo(re,()=>i(R),(me,le)=>{le(me,{get blocked(){return i(C)},children:(pe,Q)=>{var te=au(),Ve=L(te),be=D(Ve),ge=D(be);ds(ge,{});var ae=j(ge,2),Se=D(ae),Nt=I(()=>u(q.Settings));Se.__click=function(...ve){i(Nt)?.apply(this,ve)};var kt=D(Se);Ce(kt,()=>({"--size":"24px"})),xe(kt.lastChild,{name:"settings"});var et=j(kt,2);vt(et,{children:(ve,We)=>{var ke=Ue("Settings");w(ve,ke)}});var De=j(Se,2),qe=I(()=>u(q.Sync));De.__click=function(...ve){i(qe)?.apply(this,ve)};var tt=D(De);Ce(tt,()=>({"--size":"24px"})),xe(tt.lastChild,{name:"sync"});var $e=j(tt,2);vt($e,{children:(ve,We)=>{var ke=Ue("Sync");w(ve,ke)}});var Ge=j(be,2),Te=D(Ge);ia(Te,{placeholder:"Search tag",get value(){return d.tagSearch},set value(ve){d.tagSearch=ve}});var nt=j(Ge,2);{var Hn=ve=>{var We=ru();ue(We,1,ce(["tags","selectedTags"]),"svelte-1hv280f"),wn(We,20,()=>i(f),ke=>ke,(ke,Ct)=>{mn(ke,{get title(){return Ct},onClick:()=>k(Ct),style:"selected"})}),gt(We,ke=>P(g,ke),()=>i(g)),w(ve,We)};U(nt,ve=>{i(f).length>0&&ve(Hn)})}var lr=j(Ve,2);ue(lr,1,ce(["tags","tagsWrapper"]),"svelte-1hv280f");var Et=D(lr);{var un=ve=>{mn(ve,{get title(){return i(E).name},onClick:()=>S(i(E).name)})};U(Et,ve=>{i(E)&&ve(un)})}var cr=j(Et,2);wn(cr,17,()=>i(T),ve=>ve.name,(ve,We)=>{var ke=B(),Ct=L(ke);{var ur=jn=>{mn(jn,{get title(){return i(We).name},onClick:()=>S(i(We).name)})};U(Ct,jn=>{(d.tagSearch===""||i(We).name.toLowerCase().indexOf(d.tagSearch.toLowerCase())!==-1)&&jn(ur)})}w(ve,ke)}),_e((ve,We)=>{Ne(Se,"href",ve),Ne(De,"href",We)},[()=>l(q.Settings),()=>l(q.Sync)]),w(pe,te)},$$slots:{default:!0}})}),w(A,F)}),w(z,V)},Z=z=>{var V=su(),N=D(V),A=D(N);{var O=le=>{var pe=ou();ue(pe,1,ce(["tags","selectedTags"]),"svelte-1hv280f"),wn(pe,20,()=>i(f),Q=>Q,(Q,te)=>{mn(Q,{get title(){return te},onClick:()=>k(te),style:"selected"})}),w(le,pe)};U(A,le=>{i(f).length>0&&le(O)})}var R=j(N,2),F=D(R);{var re=le=>{mn(le,{get title(){return i(E).name},onClick:()=>S(i(E).name)})};U(F,le=>{i(E)&&le(re)})}var me=j(F,2);wn(me,17,()=>i(T),le=>le.name,(le,pe)=>{var Q=B(),te=L(Q);{var Ve=be=>{mn(be,{get title(){return i(pe).name},onClick:()=>S(i(pe).name)})};U(te,be=>{(d.tagSearch===""||i(pe).name.toLowerCase().indexOf(d.tagSearch.toLowerCase())!==-1)&&be(Ve)})}w(le,Q)}),w(z,V)};U(W,z=>{i(_)?z(K):z(Z,!1)})}w(e,M),$()}Qe(["click"]);const lu=(e,t,n)=>{P(t,!0),P(n,!0)},cu=(e,t,n,r)=>{t(n.note.id,!n.note.data.pinned),Ur(n.note.data.pinned?"Note unpinned":"Note pinned"),P(r,!0)},uu=(e,t,n)=>{navigator.clipboard.writeText(t.note.data.url),Ur("Link copied"),P(n,!0)};var du=G("<div><button>Copy link</button></div>"),fu=G('<div class="menu svelte-8ve3pe"><!> <div><button> </button></div> <div><button>Delete</button></div></div>'),vu=G('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1);function hu(e,t){Y(t,!0);const n=(E,_=se)=>{var m=fu(),C=D(m);{var M=N=>{var A=du(),O=D(A);O.__click=[uu,t,v],_e(()=>ue(O,1,ce(["button",{buttonMenuDialog:_()}]),"svelte-8ve3pe")),w(N,A)};U(C,N=>{_()&&t.note.data.url&&N(M)})}var W=j(C,2),K=D(W);K.__click=[cu,l,t,v];var Z=D(K),z=j(W,2),V=D(z);V.__click=[lu,h,v],_e(()=>{ue(K,1,ce(["button",{buttonMenuDialog:_()}]),"svelte-8ve3pe"),Xn(Z,t.note.data.pinned?"Unpin":"Pin"),ue(V,1,ce(["button",{buttonMenuDialog:_()}]),"svelte-8ve3pe")}),w(E,m)},{getRelatedTags:r}=ka(),{getAppHistory:a,replace:o}=bt(),{deleteNote:s,pinNote:l,setDeleting:u}=jr();let c=I(a),d=ie(t,"shownMenu",15),v=H(!1),h=H(!1);const{checkMobileSize:g}=Fn();let f=I(g),p=I(()=>new URLSearchParams(i(c).search).get("selectedTags")?.split(",")||[]);const y=async()=>{const E=r();u(t.note.id,!0);let _=!1;Ur("Note deleted",{onCancel:()=>{_=!0,u(t.note.id,!1)},onFinish:()=>{_||(t.note.data.tags.forEach(m=>{if(i(p).includes(m)&&E[m].connections===1){const C=new URLSearchParams(i(c).search),M=i(p).filter(W=>W!==m);M.length===0?C.delete("selectedTags"):C.set("selectedTags",M.join(",")),o(`${i(c).pathname}${C.size>0?`?${C.toString()}`:""}`)}}),s(t.note.id))}})},S=()=>{i(h)&&y(),d(!1),P(v,!1)};var k=B(),b=L(k);{var T=E=>{var _=B(),m=L(_);{var C=W=>{vs(W,{get startClose(){return i(v)},onClosed:S,children:(K,Z)=>{n(K,()=>!0)},$$slots:{default:!0}})},M=W=>{var K=vu(),Z=L(K);Ce(Z,()=>({"--bottom":"-90px","--right":"20px"})),hs(Z.lastChild,{get startClose(){return i(v)},get positionTop(){return t.showMenuUp},onClosed:S,children:(z,V)=>{n(z,()=>!1)},$$slots:{default:!0}}),w(W,K)};U(m,W=>{i(f)?W(C):W(M,!1)})}w(E,_)};U(b,E=>{d()&&E(T)})}w(e,k),$()}Qe(["click"]);const gu=(e,t)=>{P(t,!0)},_u=(e,t,n)=>{navigator.clipboard.writeText(t.note.data.url),Ur("Link copied"),P(n,!1)},pu=(e,t)=>{P(t,!0)},mu=(e,t)=>{P(t,!1)},wu=(e,t,n,r)=>{e.preventDefault(),t(`${q.EditNote}?id=${n.note.id}`),P(r,!1)};var yu=G('<div class="iconPlaceholder svelte-1jg44o9"></div>'),Su=G('<img loading="lazy" class="noteIcon" height="16" width="16" alt=""/>'),bu=G('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),ku=G('<div class="noteIconWrapper svelte-1jg44o9"><!></div>'),Eu=G('<button class="button svelte-1jg44o9"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),Cu=(e,t)=>{P(t,!1)},Pu=G('<!> <a target="_blank" rel="noopener noreferrer" class="button openLink svelte-1jg44o9"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a>',1),xu=G('<li><!> <a class="noteLink svelte-1jg44o9" target="_blank" rel="noopener noreferrer"> </a> <div><!> <button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button></div> <!></li>');function Du(e,t){Y(t,!0);const{pushStackPages:n}=At(),{getFaviconEnabled:r}=Cl();let a=H(!1),o=H(!1),s=H(!1),l=I(r);const{checkMobileSize:u}=Fn(),c=_=>{try{return`https://icons.duckduckgo.com/ip3/${new URL(_).host}.ico`}catch{return""}};var d=xu();d.__focusin=[pu,o],d.__focusout=[mu,o];var v=D(d);{var h=_=>{var m=ku(),C=D(m);{var M=K=>{var Z=B(),z=L(Z);{var V=A=>{var O=yu();w(A,O)},N=A=>{var O=Su();_e(R=>Ne(O,"src",R),[()=>c(t.note.data.url)]),ya("error",O,()=>{P(s,!0)}),w(A,O)};U(z,A=>{i(s)?A(V):A(N,!1)})}w(K,Z)},W=K=>{var Z=bu(),z=L(Z);Ce(z,()=>({"--size":"16px"})),xe(z.lastChild,{name:"note"}),w(K,Z)};U(C,K=>{t.note.data.url?K(M):K(W,!1)})}w(_,m)};U(v,_=>{i(l)&&_(h)})}var g=j(v,2);g.__click=[wu,n,t,o];var f=D(g),p=j(g,2),y=D(p);{var S=_=>{var m=Pu(),C=L(m);{var M=z=>{var V=Eu();V.__click=[_u,t,o];var N=D(V);Ce(N,()=>({"--size":"20px"})),xe(N.lastChild,{name:"copy"});var A=j(N,2);vt(A,{children:(O,R)=>{var F=Ue("copy link");w(O,F)}}),_e(()=>Ne(V,"tabindex",t.focusHidden?-1:0)),w(z,V)};U(C,z=>{u()||z(M)})}var W=j(C,2);W.__click=[Cu,o];var K=D(W);Ce(K,()=>({"--size":"18px"})),xe(K.lastChild,{name:"open"});var Z=j(K,2);vt(Z,{children:(z,V)=>{var N=Ue();_e(()=>Xn(N,t.note.data.name)),w(z,N)}}),_e(()=>{Ne(W,"href",t.note.data.url),Ne(W,"tabindex",t.focusHidden?-1:0)}),w(_,m)};U(y,_=>{t.note.data.url&&_(S)})}var k=j(y,2);k.__click=[gu,a],ue(k,1,ce(["button","buttonMenu"]),"svelte-1jg44o9");var b=D(k);Ce(b,()=>({"--size":"18px","--rotate":"90deg"})),xe(b.lastChild,{name:"menu"});var T=j(b,2);vt(T,{children:(_,m)=>{var C=Ue("show menu");w(_,C)}});var E=j(p,2);hu(E,{get note(){return t.note},get showMenuUp(){return t.showMenuUp},get shownMenu(){return i(a)},set shownMenu(_){P(a,_,!0)}}),_e(_=>{ue(d,1,ce(["record",{pinned:t.note.data.pinned}]),"svelte-1jg44o9"),Ne(g,"tabindex",t.focusHidden?-1:0),Ne(g,"href",_),Xn(f,t.note.data.name),ue(p,1,ce(["noteMenuWrapper",{noteMenuWrapperActive:i(o)}]),"svelte-1jg44o9"),Ne(k,"tabindex",t.focusHidden?-1:0)},[()=>`/?stackPages=${encodeURIComponent(`${q.EditNote}?id=${t.note.id}`)}`]),w(e,d),$()}Qe(["focusin","focusout","click"]);var Tu=G("<a><!></a>"),Au=G("<button><!></button>");function Nn(e,t){let n=ie(t,"type",3,"standard"),r=ie(t,"typeButton",3,"button"),a=ie(t,"element",3,"button"),o=ie(t,"href",3,""),s=ie(t,"fullWidth",3,!1),l=ie(t,"withoutMinWidth",3,!1);var u=B(),c=L(u);{var d=h=>{var g=Tu();g.__click=function(...p){t.onClick?.apply(this,p)};var f=D(g);ne(f,()=>t.children??se),_e(()=>{Ne(g,"href",o()),ue(g,1,ce(["button","a",{dangerous:n()==="dangerous",secondary:n()==="secondary",fullWidth:s(),withoutMinWidth:l()}]),"svelte-aqjevc")}),w(h,g)},v=h=>{var g=Au();g.__click=function(...p){t.onClick?.apply(this,p)};var f=D(g);ne(f,()=>t.children??se),_e(()=>{Ne(g,"type",r()),ue(g,1,ce(["button",{dangerous:n()==="dangerous",secondary:n()==="secondary",fullWidth:s(),withoutMinWidth:l()}]),"svelte-aqjevc")}),w(h,g)};U(c,h=>{a()==="a"?h(d):h(v,!1)})}w(e,u)}Qe(["click"]);var Nu=G('<div><!> <div class="loader svelte-m0sno1"></div></div>');function gs(e,t){Y(t,!0);let n=H(!1);he(()=>{const o=setTimeout(()=>{P(n,!0)},200);return()=>{clearTimeout(o)}});var r=Nu(),a=D(r);ne(a,()=>t.children??se),_e(()=>ue(r,1,ce(["block",{shown:i(n)}]),"svelte-m0sno1")),w(e,r),$()}var Lu=G('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Add note</span>',1),Mu=G('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span style="padding-left: 6px;">Import data</span>',1),Ou=G('<div class="emptyStore svelte-n515mf"><p class="message">No notes found</p> <div class="wrapperButtonsAdd svelte-n515mf"><!></div> <div>or</div> <div class="wrapperButtonsAdd svelte-n515mf"><!></div></div>'),Iu=G('<div class="emptyMessage svelte-n515mf">No notes found</div>'),Bu=G('<div class="feed svelte-n515mf"><ul class="svelte-n515mf"></ul></div>'),Ru=G('<div class="wrapperFeed svelte-n515mf"><div class="wrapperContainer svelte-n515mf"><!></div></div>');function Fu(e,t){Y(t,!0);const{setRelatedTags:n}=ka(),{getScrollContainer:r}=Pa(),{createHandlePage:a,getPageUrl:o}=At(),{getSelectedTags:s}=Sl(),{getFeedOrder:l}=Ko(),{getFeedSearch:u}=Ea(),{getGetNotes:c,isReadyNotes:d}=jr();let v=54,h=H(0),g=H(0),f=H(0),p=I(u),y=H(0),S=[],k=H(0),b=I(r),T=null,E=null;const _=I(s),m=I(d);Me(()=>{i(p),i(_),i(K),i(b)?.scrollTo(0,0)});const{enable:C}=os(),M=()=>{C(),T||(T=requestAnimationFrame(()=>{const Q=i(b)?.scrollTop||0;P(f,Q,!0);const te=Math.ceil(i(h)/v);P(g,Math.floor(Q/(v*te))*(v*te)),T=null}))},W=()=>{E||(E=requestAnimationFrame(()=>{P(h,window.innerHeight-180||0,!0);const Q=i(b)?.scrollTop||0;P(f,Q,!0);const te=Math.ceil(i(h)/v);P(g,Math.floor(Q/(v*te))*(v*te)),E=null}))};he(()=>{W(),M()}),Me(()=>(i(b)?.addEventListener("scroll",M),window.addEventListener("resize",W),()=>{i(b)?.removeEventListener("scroll",M),window.removeEventListener("resize",W)}));const K=I(l);let Z=H(""),z=I(c);Me(()=>{i(K);const Q=i(z)()||[];Vt(()=>i(Z))!==i(K)&&Vt(()=>P(Z,i(K),!0)),Q.sort((ge,ae)=>{if(!ge||!ae)return 0;if(ge.data.pinned&&!ae.data.pinned)return 1;if(!ge.data.pinned&&ae.data.pinned)return-1;switch(i(K)){case"newest":return ge.data.updatedAt<ae.data.updatedAt?-1:1;case"oldest":return ge.data.updatedAt>ae.data.updatedAt?-1:1;case"AtoZ":return ae.data.name.localeCompare(ge.data.name);case"ZtoA":return ge.data.name.localeCompare(ae.data.name);default:return 0}});const Ve=[],be={};for(let ge=Q.length-1;ge>=0;ge--){const ae=Q[ge];if(ae&&!(i(_).length&&i(_).some(Se=>!ae.data.tags.includes(Se)))&&!ae.deleting&&!(i(p)&&!(ae.data.name.toLowerCase().includes(i(p).toLowerCase())||ae.data.url.toLowerCase().includes(i(p).toLowerCase())||ae.data.text.toLowerCase().includes(i(p).toLowerCase())))){if(ae.data.tags)for(const Se of ae.data.tags)be[Se]?be[Se].connections++:be[Se]={name:Se,connections:1};Ve.push(ae)}}n(be),P(y,Ve.length,!0),S=Ve,P(k,Date.now(),!0)});const V=I(()=>i(y)*v);let A=I(()=>{i(k);const Q=Math.ceil(i(h)/v);let te=Math.floor(i(g)/v);return te=te-Math.min(te,Q),S.slice(te,te+Q*3)}),O=I(()=>v*Math.ceil(i(h)/v));const R=I(()=>i(g)-Math.min(i(g),i(O)));var F=Ru(),re=D(F),me=D(re);{var le=Q=>{gs(Q,{})},pe=Q=>{var te=B(),Ve=L(te);{var be=ae=>{var Se=Ou(),Nt=j(D(Se),2),kt=D(Nt);{let qe=I(()=>o(q.NewNote)),tt=I(()=>a(q.NewNote));Nn(kt,{element:"a",get href(){return i(qe)},get onClick(){return i(tt)},children:($e,Ge)=>{var Te=Lu(),nt=L(Te);Ce(nt,()=>({"--size":"18px","--color":"#b0b0b0"})),xe(nt.lastChild,{name:"plus"}),w($e,Te)},$$slots:{default:!0}})}var et=j(Nt,4),De=D(et);{let qe=I(()=>o(q.ImportData)),tt=I(()=>a(q.ImportData));Nn(De,{element:"a",get href(){return i(qe)},get onClick(){return i(tt)},children:($e,Ge)=>{var Te=Mu(),nt=L(Te);Ce(nt,()=>({"--size":"18px","--color":"#b0b0b0"})),xe(nt.lastChild,{name:"import"}),w($e,Te)},$$slots:{default:!0}})}w(ae,Se)},ge=ae=>{var Se=B(),Nt=L(Se);{var kt=De=>{var qe=Iu();w(De,qe)},et=De=>{var qe=Bu(),tt=D(qe);wn(tt,23,()=>i(A),$e=>$e.id,($e,Ge,Te)=>{{let nt=I(()=>i(Te)*v<i(f)-i(R)-v/2||i(Te)*v>i(f)-i(R)+Math.floor(i(h)/v)*v),Hn=I(()=>(i(Te)+3)*v<i(f)-i(R)-v/2||(i(Te)+3)*v>i(f)-i(R)+Math.floor(i(h)/v)*v);Du($e,{get focusHidden(){return i(nt)},get showMenuUp(){return i(Hn)},get note(){return i(Ge)}})}}),_e($e=>{Zn(qe,`min-height: ${$e??""}px`),Zn(tt,`transform: translateY(${i(R)??""}px);`)},[()=>Math.max((i(V)>i(h),i(V)),0)]),w(De,qe)};U(Nt,De=>{i(A).length===0?De(kt):De(et,!1)},!0)}w(ae,Se)};U(Ve,ae=>{(i(z)()||[]).length===0?ae(be):ae(ge,!1)},!0)}w(Q,te)};U(me,Q=>{i(m)?Q(pe,!1):Q(le)})}w(e,F),$()}var Hu=G('<!> <div class="content svelte-6sscvv"><!></div>',1);function ju(e){var t=Hu(),n=L(t);iu(n,{});var r=j(n,2),a=D(r);Fu(a,{}),w(e,t)}var Uu=G('<div class="content svelte-ujk4k"><p class="message svelte-ujk4k">use app</p> <div class="buttonContainer svelte-ujk4k"><div class="buttonContainerItem svelte-ujk4k"><!></div> <div class="buttonContainerItem svelte-ujk4k"><!></div></div></div>');function zu(e,t){Y(t,!0);const{blockDialog:n}=ir(),{pushStackPages:r}=At(),{closeDialogStack:a}=bt(),{initLocalAccount:o}=Ca();let s=H("idle");const l=()=>{P(s,"loading"),r(q.Auth)},u=async()=>{P(s,"loading"),await o(),n(!1),a()};Me(()=>{n(i(s)==="idle"||i(s)==="loading")}),he(()=>(n(!0),()=>{n(!1)}));var c=Uu(),d=j(D(c),2),v=D(d),h=D(v);Nn(h,{onClick:l,fullWidth:!0,children:(p,y)=>{var S=Ue("cloud account");w(p,S)},$$slots:{default:!0}});var g=j(v,2),f=D(g);Nn(f,{onClick:u,fullWidth:!0,type:"secondary",children:(p,y)=>{var S=Ue("local account");w(p,S)},$$slots:{default:!0}}),w(e,c),$()}var Vu=G('<div class="svelte-1x9a4ve"><!></div>');function Pe(e,t){Y(t,!0);const{setDialogPageHeight:n}=xa();let r=H(null);he(()=>{i(r)&&(i(r).getBoundingClientRect(),i(r).style.opacity="1");const s=new ResizeObserver(l=>{for(let u of l){const c=u.contentRect.height;n(c)}});if(i(r))return s.observe(i(r)),()=>{i(r)&&s.unobserve(i(r)),s.disconnect()}});var a=Vu(),o=D(a);ne(o,()=>t.children),gt(a,s=>P(r,s),()=>i(r)),w(e,a),$()}var qu=G('<div class="svelte-stjbkr"><p class="svelte-stjbkr">Page not found</p> <!></div>');function Wu(e,t){Y(t,!1);const{navigate:n}=bt(),r=s=>{s.preventDefault(),n("/")};ba();var a=qu(),o=j(D(a),2);Nn(o,{element:"a",href:"/",onClick:r,children:(s,l)=>{var u=Ue("close");w(s,u)},$$slots:{default:!0}}),w(e,a),$()}var Ku=G('<div class="svelte-10xfz1h"><p class="svelte-10xfz1h">Something went wrong. Please reload the page</p> <!></div>');function Yu(e){var t=Ku(),n=j(D(t),2);Nn(n,{onClick:()=>location.reload(),children:(r,a)=>{var o=Ue("Reload");w(r,o)},$$slots:{default:!0}}),w(e,t)}var $u=G('<div class="svelte-1mu1b44"><!></div>');function Gu(e,t){Y(t,!0);const{getDialogPageHeight:n}=xa(),r=I(n);var a=$u(),o=D(a);gs(o,{}),_e(()=>Zn(a,`min-height: ${i(r)??""}px;`)),w(e,a),$()}function Oe(e,t){Y(t,!0);const n={},r=Object.assign({"./Pages/About.svelte":()=>Ae(()=>import("./About-DGmukou-.js"),__vite__mapDeps([2,3])),"./Pages/AccessKeys.svelte":()=>Ae(()=>import("./AccessKeys-C_tWYGcf.js"),__vite__mapDeps([4,5,6])),"./Pages/Account.svelte":()=>Ae(()=>import("./Account-BashJPcs.js"),__vite__mapDeps([7,8])),"./Pages/Auth.svelte":()=>Ae(()=>import("./Auth-DiwGMe-1.js"),__vite__mapDeps([9,10])),"./Pages/ClearStore.svelte":()=>Ae(()=>import("./ClearStore-BP2MVdnJ.js"),__vite__mapDeps([11,12])),"./Pages/ConfirmAccessKey.svelte":()=>Ae(()=>import("./ConfirmAccessKey-Lr4Wf91W.js"),__vite__mapDeps([13,5,14,15,16,17])),"./Pages/EditNote.svelte":()=>Ae(()=>import("./EditNote-IvfZPH6A.js"),__vite__mapDeps([18,19,15,16,20,21])),"./Pages/Exit.svelte":()=>Ae(()=>import("./Exit-MPNcagQr.js"),__vite__mapDeps([22,23])),"./Pages/ExportData.svelte":()=>Ae(()=>import("./ExportData-BMegLJkr.js"),__vite__mapDeps([24,25])),"./Pages/ImportData.svelte":()=>Ae(()=>import("./ImportData-AdDnmhc6.js"),__vite__mapDeps([26,27])),"./Pages/NewNote.svelte":()=>Ae(()=>import("./NewNote-B-aRPcNq.js"),__vite__mapDeps([28,19,15,16,20])),"./Pages/Settings.svelte":()=>Ae(()=>import("./Settings-ChIz7lY5.js"),__vite__mapDeps([29,30])),"./Pages/Signin.svelte":()=>Ae(()=>import("./Signin-BR7acqov.js"),__vite__mapDeps([31,5,14,32])),"./Pages/Signup.svelte":()=>Ae(()=>import("./Signup-DcgAHmBi.js"),__vite__mapDeps([33,14,5,34])),"./Pages/Subscription.svelte":()=>Ae(()=>import("./Subscription-am0oYgrq.js"),__vite__mapDeps([35,36])),"./Pages/Sync.svelte":()=>Ae(()=>import("./Sync-DOdYDVeK.js"),__vite__mapDeps([37,38]))}),a=async l=>{const u=`./Pages/${l[0].toUpperCase()+l.slice(1)}.svelte`;if(!n[l]){if(r[u]){const c=r[u]();return n[l]={promise:c},n[l].module=await c,n[l].module}throw new Error(`Page ${l} not found`)}return n[l].module||await n[l].promise};var o=B(),s=L(o);Io(s,()=>a(t.page),l=>{Gu(l,{})},(l,u)=>{const c=I(()=>i(u).default);var d=B(),v=L(d);Fo(v,()=>i(c),(h,g)=>{g(h,{get params(){return t.params},get hidden(){return t.hidden}})}),w(l,d)},l=>{Yu(l)}),w(e,o),$()}const Ga=(e,t=se,n=se,r)=>{let a=Or(()=>Os(r?.(),!1));var o=B(),s=L(o);{var l=c=>{Pe(c,{children:(d,v)=>{Oe(d,{get hidden(){return i(a)},get page(){return q.Settings}})},$$slots:{default:!0}})},u=c=>{var d=B(),v=L(d);{var h=f=>{Pe(f,{children:(p,y)=>{Oe(p,{get hidden(){return i(a)},get page(){return q.NewNote}})},$$slots:{default:!0}})},g=f=>{var p=B(),y=L(p);{var S=b=>{Pe(b,{children:(T,E)=>{Oe(T,{get params(){return n()},get hidden(){return i(a)},get page(){return q.EditNote}})},$$slots:{default:!0}})},k=b=>{var T=B(),E=L(T);{var _=C=>{Pe(C,{children:(M,W)=>{Oe(M,{get hidden(){return i(a)},get page(){return q.ImportData}})},$$slots:{default:!0}})},m=C=>{var M=B(),W=L(M);{var K=z=>{Pe(z,{children:(V,N)=>{Oe(V,{get hidden(){return i(a)},get page(){return q.ExportData}})},$$slots:{default:!0}})},Z=z=>{var V=B(),N=L(V);{var A=R=>{Pe(R,{children:(F,re)=>{Oe(F,{get hidden(){return i(a)},get page(){return q.ClearStore}})},$$slots:{default:!0}})},O=R=>{var F=B(),re=L(F);{var me=pe=>{Pe(pe,{children:(Q,te)=>{zu(Q,{})},$$slots:{default:!0}})},le=pe=>{var Q=B(),te=L(Q);{var Ve=ge=>{Pe(ge,{children:(ae,Se)=>{Oe(ae,{get hidden(){return i(a)},get page(){return q.Auth}})},$$slots:{default:!0}})},be=ge=>{var ae=B(),Se=L(ae);{var Nt=et=>{Pe(et,{children:(De,qe)=>{Oe(De,{get hidden(){return i(a)},get page(){return q.Signup}})},$$slots:{default:!0}})},kt=et=>{var De=B(),qe=L(De);{var tt=Ge=>{Pe(Ge,{children:(Te,nt)=>{Oe(Te,{get hidden(){return i(a)},get page(){return q.Signin}})},$$slots:{default:!0}})},$e=Ge=>{var Te=B(),nt=L(Te);{var Hn=Et=>{Pe(Et,{children:(un,cr)=>{Oe(un,{get hidden(){return i(a)},get page(){return q.AccessKeys}})},$$slots:{default:!0}})},lr=Et=>{var un=B(),cr=L(un);{var ve=ke=>{Pe(ke,{children:(Ct,ur)=>{Oe(Ct,{get hidden(){return i(a)},get page(){return q.Account}})},$$slots:{default:!0}})},We=ke=>{var Ct=B(),ur=L(Ct);{var jn=dn=>{Pe(dn,{children:(dr,Da)=>{Oe(dr,{get hidden(){return i(a)},get page(){return q.ConfirmAccessKey}})},$$slots:{default:!0}})},_s=dn=>{var dr=B(),Da=L(dr);{var ps=fn=>{Pe(fn,{children:(fr,Ta)=>{Oe(fr,{get hidden(){return i(a)},get page(){return q.Exit}})},$$slots:{default:!0}})},ms=fn=>{var fr=B(),Ta=L(fr);{var ws=vn=>{Pe(vn,{children:(vr,Aa)=>{Oe(vr,{get hidden(){return i(a)},get page(){return q.Sync}})},$$slots:{default:!0}})},ys=vn=>{var vr=B(),Aa=L(vr);{var Ss=hn=>{Pe(hn,{children:(hr,Na)=>{Oe(hr,{get hidden(){return i(a)},get page(){return q.Subscription}})},$$slots:{default:!0}})},bs=hn=>{var hr=B(),Na=L(hr);{var ks=gn=>{Pe(gn,{children:(zr,Cs)=>{Oe(zr,{get hidden(){return i(a)},get page(){return q.About}})},$$slots:{default:!0}})},Es=gn=>{Pe(gn,{children:(zr,Cs)=>{Wu(zr,{})},$$slots:{default:!0}})};U(Na,gn=>{t()===q.About?gn(ks):gn(Es,!1)},!0)}w(hn,hr)};U(Aa,hn=>{t()===q.Subscription?hn(Ss):hn(bs,!1)},!0)}w(vn,vr)};U(Ta,vn=>{t()===q.Sync?vn(ws):vn(ys,!1)},!0)}w(fn,fr)};U(Da,fn=>{t()===q.Exit?fn(ps):fn(ms,!1)},!0)}w(dn,dr)};U(ur,dn=>{t()===q.ConfirmAccessKey?dn(jn):dn(_s,!1)},!0)}w(ke,Ct)};U(cr,ke=>{t()===q.Account?ke(ve):ke(We,!1)},!0)}w(Et,un)};U(nt,Et=>{t()===q.AccessKeys?Et(Hn):Et(lr,!1)},!0)}w(Ge,Te)};U(qe,Ge=>{t()===q.Signin?Ge(tt):Ge($e,!1)},!0)}w(et,De)};U(Se,et=>{t()===q.Signup?et(Nt):et(kt,!1)},!0)}w(ge,ae)};U(te,ge=>{t()===q.Auth?ge(Ve):ge(be,!1)},!0)}w(pe,Q)};U(re,pe=>{t()===q.Start?pe(me):pe(le,!1)},!0)}w(R,F)};U(N,R=>{t()===q.ClearStore?R(A):R(O,!1)},!0)}w(z,V)};U(W,z=>{t()===q.ExportData?z(K):z(Z,!1)},!0)}w(C,M)};U(E,C=>{t()===q.ImportData?C(_):C(m,!1)},!0)}w(b,T)};U(y,b=>{t()===q.EditNote?b(S):b(k,!1)},!0)}w(f,p)};U(v,f=>{t()===q.NewNote?f(h):f(g,!1)},!0)}w(c,d)};U(s,c=>{t()===q.Settings?c(l):c(u,!1)})}w(e,o)};var Xu=G("<!> <!>",1);function Zu(e,t){Y(t,!0);const{isReadyNotes:n}=jr(),{getStackPages:r,popStackPages:a}=At(),{getAccount:o}=Ca();let s=I(r),l=I(()=>n()&&o()!==void 0);const{checkMobileSize:u}=Fn();var c=Xu(),d=L(c);{var v=p=>{ju(p)};U(d,p=>{i(l)&&p(v)})}var h=j(d,2);{var g=p=>{var y=B(),S=L(y);wn(S,19,()=>i(s),k=>k.page,(k,b,T)=>{const E=I(()=>i(b).page.split("?")[1]),_=I(()=>i(b).page.split("?")[0]);{let m=I(()=>i(T)!==i(s).length-1&&!!i(s)[i(T)+1]?.shown),C=I(()=>i(T)===0);Ya(k,{get shown(){return i(b).shown},get hidden(){return i(m)},get isLastDialog(){return i(C)},children:(M,W)=>{{let K=I(()=>i(T)!==i(s).length-1&&!!i(s)[i(T)+1]?.shown);Ga(M,()=>i(_),()=>i(E),()=>i(K))}},$$slots:{default:!0}})}}),w(p,y)},f=p=>{var y=B(),S=L(y);{var k=b=>{const T=I(()=>i(s)[i(s).length-1].page.split("?")[1]),E=I(()=>i(s)[i(s).length-1].page.split("?")[0]);{let _=I(()=>i(s).length===1);Ya(b,{onBack:()=>a(),get shown(){return i(s)[i(s).length-1].shown},hidden:!1,get isLastDialog(){return i(_)},children:(m,C)=>{Ga(m,()=>i(E),()=>i(T))},$$slots:{default:!0}})}};U(S,b=>{i(s).length>0&&b(k)},!0)}w(p,y)};U(h,p=>{u()?p(g):p(f,!1)})}w(e,c),$()}function Ju(e,t){Y(t,!1);let n=0;he(()=>{document.addEventListener("touchstart",r=>{n=r.touches[0].clientX},{passive:!1}),document.addEventListener("touchmove",r=>{const o=r.touches[0].clientX-n;(n<50&&o>0||n>window.innerWidth-50&&o<0)&&r.preventDefault()},{passive:!1}),document.addEventListener("touchend",()=>{n=0}),document.addEventListener("touchcancel",()=>{n=0})}),ba(),$()}const Qu=(e,t)=>{i(t)&&i(t).scrollTo({top:0})};var ed=G('<div class="wrapperButtonTop svelte-1n46o8q"><button class="buttonTop svelte-1n46o8q"><!> <span class="icon svelte-1n46o8q"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></span></button></div>'),td=G('<!> <!> <main><div class="wrapperHeader svelte-1n46o8q"><!></div> <div class="container svelte-1n46o8q"><!></div></main> <!>',1);function nd(e,t){Y(t,!0);const{setScrollContainer:n}=Pa(),{getAccount:r}=Ca(),{getStackPagesFormUrl:a}=At(),o=sr();he(async()=>{await new Promise(C=>setTimeout(C,100)),await No(),o.working=!0});let s=H(!1),l=0,u=I(()=>a().length>0),c=I(r),d=H(null);Me(()=>{n(i(d))});const v=()=>{if(i(d)){const C=i(d).scrollTop||0;C===0?P(s,!1):!i(s)&&l>C?P(s,!0):i(s)&&l+50<C&&P(s,!1),l=C}},h=()=>{v()};Me(()=>(i(d)?.addEventListener("scroll",h),window.addEventListener("resize",h),()=>{i(d)?.removeEventListener("scroll",h),window.removeEventListener("resize",h)}));var g=td(),f=L(g);Ju(f,{});var p=j(f,2);mc(p,{});var y=j(p,2),S=D(y),k=D(S);{var b=C=>{Rc(C,{})};U(k,C=>{i(c)!==void 0&&C(b)})}var T=j(S,2),E=D(T);Zu(E,{}),gt(y,C=>P(d,C),()=>i(d));var _=j(y,2);{var m=C=>{var M=ed(),W=D(M);W.__click=[Qu,d];var K=D(W);vt(K,{children:(V,N)=>{var A=Ue("top");w(V,A)}});var Z=j(K,2),z=D(Z);Ce(z,()=>({"--rotate":"90deg","--size":"28px"})),xe(z.lastChild,{name:"back"}),w(C,M)};U(_,C=>{i(s)&&C(m)})}_e(()=>{Zn(y,`--swiping-ratio: ${o.swipingRatio}; --transition-timing-default: ${o.duration}s;`),ue(y,1,ce(["main",{isAnimationOn:o.working&&!o.isSwiping,open:i(u)}]),"svelte-1n46o8q")}),w(e,g),$()}Qe(["click"]);function rd(e){vc(e,{children:(t,n)=>{nd(t,{})}})}window.addEventListener("unhandledrejection",e=>{alert("Error: "+e.reason.message)});window.isUnsupportedBrowser||Yi(rd,{target:document.getElementById("app")});export{ne as $,jr as A,Nn as B,ya as C,cd as D,ba as E,sd as F,ie as G,ue as H,xe as I,ce as J,Ne as K,gs as L,id as M,ld as N,Zn as O,q as P,Ul as Q,Fn as R,gt as S,mn as T,al as U,vt as V,Cl as W,cc as X,ml as Y,sr as Z,os as _,Ce as a,fs as a0,w as b,D as c,ir as d,H as e,G as f,At as g,Le as h,i,P as j,U as k,$ as l,B as m,L as n,he as o,Y as p,Qe as q,wn as r,j as s,_e as t,Me as u,Xn as v,Ue as w,I as x,bt as y,Ca as z};
