import{p as t,T as a,s,a as e,f as i,g as r,d as l,m as n,i as o,H as u,e as d,h as c,c as m,j as v,k as p,t as b,r as g,a5 as f,l as h,Q as x,a6 as I,O as j}from"./index-D_lOxY7D.js";import{I as k}from"./Input-BckqXweK.js";const w=(t,a)=>{m(a,!0)};var y=i('<textarea placeholder="notes" class="svelte-1as7gim"></textarea>'),T=i('<button type="button" class="formButton svelte-1as7gim">add notes</button>'),U=i('<button class="buttonSubmit svelte-1as7gim" type="submit"> </button>'),L=i('<form class="svelte-1as7gim"><!> <!> <!> <!></form>');function R(i,h){t(h,!1);x(),function(i,h){t(h,!0);let x=a(h,"initialTitle",3,""),I=a(h,"initialUrl",3,""),j=a(h,"initialDescription",3,""),R=a(h,"initialTags",19,()=>[]),S=a(h,"mode",3,"add"),B=s(""!==j()),D=s(e(x())),H=s(e(I())),O=s(""),Q=s(e(j())),q=e(R().filter(t=>"inbox"!==t));var z=L(),A=l(z);k(A,{get value(){return r(H)},get error(){return r(O)},t:t=>{m(O,""),m(H,t.target.value||"",!0);try{new URL(r(H))}catch{m(O,"Invalid URL")}},placeholder:"url"});var C=n(A,2),E=t=>{k(t,{placeholder:"title",get value(){return r(D)},set value(t){m(D,t,!0)}})};o(C,t=>{r(H)&&""===r(O)&&t(E)});var F=n(C,2),G=t=>{var a=v(),s=p(a),e=t=>{var a=y();f(a,()=>r(Q),t=>m(Q,t)),d(t,a)},i=t=>{var a=T();a.i=[w,B],d(t,a)};o(s,t=>{r(B)?t(e):t(i,!1)}),d(t,a)};o(F,t=>{r(H)&&""===r(O)&&r(D)&&t(G)});var J=n(F,2),K=t=>{var a=U(),s=l(a);b(()=>g(s,"add"===S()?"add":"edit")),d(t,a)};o(J,t=>{r(H)&&""===r(O)&&r(D)&&t(K)}),u("submit",z,t=>{t.preventDefault(),h.l({title:r(D).trim().slice(0,256)||"unkwown",url:r(H).trim().slice(0,2048),description:r(Q).trim().slice(0,2048),tags:q.length>0?q:["inbox"]})}),d(i,z),c()}(i,{l:({title:t,url:a,description:s,tags:e})=>{I({title:t,url:a,description:s,tags:e.map(t=>t.trim())}),j()}}),c()}h(["click"]);export{R as default};
