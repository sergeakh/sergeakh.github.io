(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();const Pn=!1;var dn=Array.isArray,Gr=Array.prototype.indexOf,fn=Array.from,Jr=Object.defineProperty,Ze=Object.getOwnPropertyDescriptor,Zn=Object.getOwnPropertyDescriptors,Zr=Object.prototype,Qr=Array.prototype,vn=Object.getPrototypeOf,On=Object.isExtensible;const Qn=()=>{};function $r(e){return e()}function Tt(e){for(var t=0;t<e.length;t++)e[t]()}const De=2,$n=4,Rt=8,hn=16,Re=32,at=64,Ct=128,be=256,Dt=512,me=1024,Pe=2048,Ge=4096,Me=8192,Nt=16384,ea=32768,jt=65536,ta=1<<17,na=1<<19,er=1<<20,en=1<<21,Xe=Symbol("$state"),ra=Symbol("legacy props"),aa=Symbol("");function tr(e){return e===this.v}function oa(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function gn(e){return!oa(e,this.v)}function sa(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function ia(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function la(e){throw new Error("https://svelte.dev/e/effect_orphan")}function ca(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function ua(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function da(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function fa(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function va(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let ot=!1,ha=!1;function ga(){ot=!0}const pn=1,_n=2,nr=4,pa=8,_a=16,ma=1,wa=2,ya=4,ba=8,ka=16,Sa=1,Ea=2,ge=Symbol(),Ta="http://www.w3.org/1999/xhtml";function Ca(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let te=null;function An(e){te=e}function W(e,t=!1,n){var r=te={p:te,c:null,d:!1,e:null,m:!1,s:e,x:null,l:null};ot&&!t&&(te.l={s:null,u:null,r1:[],r2:pt(!1)}),mn(()=>{r.d=!0})}function X(e){const t=te;if(t!==null){e!==void 0&&(t.x=e);const s=t.e;if(s!==null){var n=J,r=G;t.e=null;try{for(var o=0;o<s.length;o++){var a=s[o];ze(a.effect),Oe(a.reaction),wn(a.fn)}}finally{ze(n),Oe(r)}}te=t.p,t.m=!0}return e||{}}function wt(){return!ot||te!==null&&te.l===null}function se(e){if(typeof e!="object"||e===null||Xe in e)return e;const t=vn(e);if(t!==Zr&&t!==Qr)return e;var n=new Map,r=dn(e),o=j(0),a=G,s=l=>{var c=G;Oe(a);var f=l();return Oe(c),f};return r&&n.set("length",j(e.length)),new Proxy(e,{defineProperty(l,c,f){(!("value"in f)||f.configurable===!1||f.enumerable===!1||f.writable===!1)&&da();var u=n.get(c);return u===void 0?(u=s(()=>j(f.value)),n.set(c,u)):D(u,s(()=>se(f.value))),!0},deleteProperty(l,c){var f=n.get(c);if(f===void 0)c in l&&(n.set(c,s(()=>j(ge))),Xt(o));else{if(r&&typeof c=="string"){var u=n.get("length"),v=Number(c);Number.isInteger(v)&&v<u.v&&D(u,v)}D(f,ge),Xt(o)}return!0},get(l,c,f){var h;if(c===Xe)return e;var u=n.get(c),v=c in l;if(u===void 0&&(!v||(h=Ze(l,c))!=null&&h.writable)&&(u=s(()=>j(se(v?l[c]:ge))),n.set(c,u)),u!==void 0){var d=i(u);return d===ge?void 0:d}return Reflect.get(l,c,f)},getOwnPropertyDescriptor(l,c){var f=Reflect.getOwnPropertyDescriptor(l,c);if(f&&"value"in f){var u=n.get(c);u&&(f.value=i(u))}else if(f===void 0){var v=n.get(c),d=v==null?void 0:v.v;if(v!==void 0&&d!==ge)return{enumerable:!0,configurable:!0,value:d,writable:!0}}return f},has(l,c){var d;if(c===Xe)return!0;var f=n.get(c),u=f!==void 0&&f.v!==ge||Reflect.has(l,c);if(f!==void 0||J!==null&&(!u||(d=Ze(l,c))!=null&&d.writable)){f===void 0&&(f=s(()=>j(u?se(l[c]):ge)),n.set(c,f));var v=i(f);if(v===ge)return!1}return u},set(l,c,f,u){var _;var v=n.get(c),d=c in l;if(r&&c==="length")for(var h=f;h<v.v;h+=1){var g=n.get(h+"");g!==void 0?D(g,ge):h in l&&(g=s(()=>j(ge)),n.set(h+"",g))}v===void 0?(!d||(_=Ze(l,c))!=null&&_.writable)&&(v=s(()=>j(void 0)),D(v,s(()=>se(f))),n.set(c,v)):(d=v.v!==ge,D(v,s(()=>se(f))));var p=Reflect.getOwnPropertyDescriptor(l,c);if(p!=null&&p.set&&p.set.call(u,f),!d){if(r&&typeof c=="string"){var w=n.get("length"),m=Number(c);Number.isInteger(m)&&m>=w.v&&D(w,m+1)}Xt(o)}return!0},ownKeys(l){i(o);var c=Reflect.ownKeys(l).filter(v=>{var d=n.get(v);return d===void 0||d.v!==ge});for(var[f,u]of n)u.v!==ge&&!(f in l)&&c.push(f);return c},setPrototypeOf(){fa()}})}function Xt(e,t=1){D(e,e.v+t)}function Qe(e){var t=De|Pe,n=G!==null&&(G.f&De)!==0?G:null;return J===null||n!==null&&(n.f&be)!==0?t|=be:J.f|=er,{ctx:te,deps:null,effects:null,equals:tr,f:t,fn:e,reactions:null,rv:0,v:null,wv:0,parent:n??J}}function ee(e){const t=Qe(e);return wr(t),t}function rr(e){const t=Qe(e);return t.equals=gn,t}function ar(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)Be(t[n])}}function Da(e){for(var t=e.parent;t!==null;){if((t.f&De)===0)return t;t=t.parent}return null}function or(e){var t,n=J;ze(Da(e));try{ar(e),t=Sr(e)}finally{ze(n)}return t}function sr(e){var t=or(e),n=(Fe||(e.f&be)!==0)&&e.deps!==null?Ge:me;Le(e,n),e.equals(t)||(e.v=t,e.wv=br())}const gt=new Map;function pt(e,t){var n={f:0,v:e,reactions:null,equals:tr,rv:0,wv:0};return n}function j(e,t){const n=pt(e);return wr(n),n}function ir(e,t=!1){var r;const n=pt(e);return t||(n.equals=gn),ot&&te!==null&&te.l!==null&&((r=te.l).s??(r.s=[])).push(n),n}function D(e,t,n=!1){G!==null&&!xe&&wt()&&(G.f&(De|hn))!==0&&!(fe!=null&&fe.includes(e))&&va();let r=n?se(t):t;return tn(e,r)}function tn(e,t){if(!e.equals(t)){var n=e.v;yt?gt.set(e,t):gt.set(e,n),e.v=t,(e.f&De)!==0&&((e.f&Pe)!==0&&or(e),Le(e,(e.f&be)===0?me:Ge)),e.wv=br(),lr(e,Pe),wt()&&J!==null&&(J.f&me)!==0&&(J.f&(Re|at))===0&&(Ee===null?Na([e]):Ee.push(e))}return t}function lr(e,t){var n=e.reactions;if(n!==null)for(var r=wt(),o=n.length,a=0;a<o;a++){var s=n[a],l=s.f;(l&Pe)===0&&(!r&&s===J||(Le(s,t),(l&(me|be))!==0&&((l&De)!==0?lr(s,Ge):qt(s))))}}let La=!1;var Mn,cr,ur,dr;function xa(){if(Mn===void 0){Mn=window,cr=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;ur=Ze(t,"firstChild").get,dr=Ze(t,"nextSibling").get,On(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),On(n)&&(n.__t=void 0)}}function Ft(e=""){return document.createTextNode(e)}function $e(e){return ur.call(e)}function Ht(e){return dr.call(e)}function S(e,t){return $e(e)}function q(e,t){{var n=$e(e);return n instanceof Comment&&n.data===""?Ht(n):n}}function P(e,t=1,n=!1){let r=e;for(;t--;)r=Ht(r);return r}function Pa(e){e.textContent=""}function fr(e){J===null&&G===null&&la(),G!==null&&(G.f&be)!==0&&J===null&&ia(),yt&&sa()}function Oa(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function st(e,t,n,r=!0){var o=J,a={ctx:te,deps:null,nodes_start:null,nodes_end:null,f:e|Pe,first:null,fn:t,last:null,next:null,parent:o,prev:null,teardown:null,transitions:null,wv:0};if(n)try{kn(a),a.f|=ea}catch(c){throw Be(a),c}else t!==null&&qt(a);var s=n&&a.deps===null&&a.first===null&&a.nodes_start===null&&a.teardown===null&&(a.f&(er|Ct))===0;if(!s&&r&&(o!==null&&Oa(a,o),G!==null&&(G.f&De)!==0)){var l=G;(l.effects??(l.effects=[])).push(a)}return a}function mn(e){const t=st(Rt,null,!1);return Le(t,me),t.teardown=e,t}function ce(e){fr();var t=J!==null&&(J.f&Re)!==0&&te!==null&&!te.m;if(t){var n=te;(n.e??(n.e=[])).push({fn:e,effect:J,reaction:G})}else{var r=wn(e);return r}}function Aa(e){return fr(),Ut(e)}function Ma(e){const t=st(at,e,!0);return(n={})=>new Promise(r=>{n.outro?Lt(t,()=>{Be(t),r(void 0)}):(Be(t),r(void 0))})}function wn(e){return st($n,e,!1)}function Ut(e){return st(Rt,e,!0)}function oe(e,t=[],n=Qe){const r=t.map(n);return zt(()=>e(...r.map(i)))}function zt(e,t=0){return st(Rt|hn|t,e,!0)}function et(e,t=!0){return st(Rt|Re,e,!0,t)}function vr(e){var t=e.teardown;if(t!==null){const n=yt,r=G;In(!0),Oe(null);try{t.call(null)}finally{In(n),Oe(r)}}}function hr(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){var r=n.next;(n.f&at)!==0?n.parent=null:Be(n,t),n=r}}function Ba(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&Re)===0&&Be(t),t=n}}function Be(e,t=!0){var n=!1;(t||(e.f&na)!==0)&&e.nodes_start!==null&&(Ia(e.nodes_start,e.nodes_end),n=!0),hr(e,t&&!n),Mt(e,0),Le(e,Nt);var r=e.transitions;if(r!==null)for(const a of r)a.stop();vr(e);var o=e.parent;o!==null&&o.first!==null&&gr(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function Ia(e,t){for(;e!==null;){var n=e===t?null:Ht(e);e.remove(),e=n}}function gr(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function Lt(e,t){var n=[];yn(e,n,!0),pr(n,()=>{Be(e),t&&t()})}function pr(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var o of e)o.out(r)}else t()}function yn(e,t,n){if((e.f&Me)===0){if(e.f^=Me,e.transitions!==null)for(const s of e.transitions)(s.is_global||n)&&t.push(s);for(var r=e.first;r!==null;){var o=r.next,a=(r.f&jt)!==0||(r.f&Re)!==0;yn(r,t,a?n:!1),r=o}}}function xt(e){_r(e,!0)}function _r(e,t){if((e.f&Me)!==0){e.f^=Me,(e.f&me)===0&&(e.f^=me),bt(e)&&(Le(e,Pe),qt(e));for(var n=e.first;n!==null;){var r=n.next,o=(n.f&jt)!==0||(n.f&Re)!==0;_r(n,o?t:!1),n=r}if(e.transitions!==null)for(const a of e.transitions)(a.is_global||t)&&a.in()}}let _t=[],nn=[];function mr(){var e=_t;_t=[],Tt(e)}function Ra(){var e=nn;nn=[],Tt(e)}function bn(e){_t.length===0&&queueMicrotask(mr),_t.push(e)}function Bn(){_t.length>0&&mr(),nn.length>0&&Ra()}let Et=!1,Pt=!1,Ot=null,Ke=!1,yt=!1;function In(e){yt=e}let vt=[];let G=null,xe=!1;function Oe(e){G=e}let J=null;function ze(e){J=e}let fe=null;function wr(e){G!==null&&G.f&en&&(fe===null?fe=[e]:fe.push(e))}let de=null,ye=0,Ee=null;function Na(e){Ee=e}let yr=1,At=0,Fe=!1;function br(){return++yr}function bt(e){var v;var t=e.f;if((t&Pe)!==0)return!0;if((t&Ge)!==0){var n=e.deps,r=(t&be)!==0;if(n!==null){var o,a,s=(t&Dt)!==0,l=r&&J!==null&&!Fe,c=n.length;if(s||l){var f=e,u=f.parent;for(o=0;o<c;o++)a=n[o],(s||!((v=a==null?void 0:a.reactions)!=null&&v.includes(f)))&&(a.reactions??(a.reactions=[])).push(f);s&&(f.f^=Dt),l&&u!==null&&(u.f&be)===0&&(f.f^=be)}for(o=0;o<c;o++)if(a=n[o],bt(a)&&sr(a),a.wv>e.wv)return!0}(!r||J!==null&&!Fe)&&Le(e,me)}return!1}function ja(e,t){for(var n=t;n!==null;){if((n.f&Ct)!==0)try{n.fn(e);return}catch{n.f^=Ct}n=n.parent}throw Et=!1,e}function Rn(e){return(e.f&Nt)===0&&(e.parent===null||(e.parent.f&Ct)===0)}function Vt(e,t,n,r){if(Et){if(n===null&&(Et=!1),Rn(t))throw e;return}if(n!==null&&(Et=!0),ja(e,t),Rn(t))throw e}function kr(e,t,n=!0){var r=e.reactions;if(r!==null)for(var o=0;o<r.length;o++){var a=r[o];fe!=null&&fe.includes(e)||((a.f&De)!==0?kr(a,t,!1):t===a&&(n?Le(a,Pe):(a.f&me)!==0&&Le(a,Ge),qt(a)))}}function Sr(e){var h;var t=de,n=ye,r=Ee,o=G,a=Fe,s=fe,l=te,c=xe,f=e.f;de=null,ye=0,Ee=null,Fe=(f&be)!==0&&(xe||!Ke||G===null),G=(f&(Re|at))===0?e:null,fe=null,An(e.ctx),xe=!1,At++,e.f|=en;try{var u=(0,e.fn)(),v=e.deps;if(de!==null){var d;if(Mt(e,ye),v!==null&&ye>0)for(v.length=ye+de.length,d=0;d<de.length;d++)v[ye+d]=de[d];else e.deps=v=de;if(!Fe)for(d=ye;d<v.length;d++)((h=v[d]).reactions??(h.reactions=[])).push(e)}else v!==null&&ye<v.length&&(Mt(e,ye),v.length=ye);if(wt()&&Ee!==null&&!xe&&v!==null&&(e.f&(De|Ge|Pe))===0)for(d=0;d<Ee.length;d++)kr(Ee[d],e);return o!==null&&o!==e&&(At++,Ee!==null&&(r===null?r=Ee:r.push(...Ee))),u}finally{de=t,ye=n,Ee=r,G=o,Fe=a,fe=s,An(l),xe=c,e.f^=en}}function Fa(e,t){let n=t.reactions;if(n!==null){var r=Gr.call(n,e);if(r!==-1){var o=n.length-1;o===0?n=t.reactions=null:(n[r]=n[o],n.pop())}}n===null&&(t.f&De)!==0&&(de===null||!de.includes(t))&&(Le(t,Ge),(t.f&(be|Dt))===0&&(t.f^=Dt),ar(t),Mt(t,0))}function Mt(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)Fa(e,n[r])}function kn(e){var t=e.f;if((t&Nt)===0){Le(e,me);var n=J,r=te,o=Ke;J=e,Ke=!0;try{(t&hn)!==0?Ba(e):hr(e),vr(e);var a=Sr(e);e.teardown=typeof a=="function"?a:null,e.wv=yr;var s=e.deps,l;Pn&&ha&&e.f&Pe}catch(c){Vt(c,e,n,r||e.ctx)}finally{Ke=o,J=n}}}function Ha(){try{ca()}catch(e){if(Ot!==null)Vt(e,Ot,null);else throw e}}function Er(){var e=Ke;try{var t=0;for(Ke=!0;vt.length>0;){t++>1e3&&Ha();var n=vt,r=n.length;vt=[];for(var o=0;o<r;o++){var a=za(n[o]);Ua(a)}gt.clear()}}finally{Pt=!1,Ke=e,Ot=null}}function Ua(e){var t=e.length;if(t!==0)for(var n=0;n<t;n++){var r=e[n];if((r.f&(Nt|Me))===0)try{bt(r)&&(kn(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null?gr(r):r.fn=null))}catch(o){Vt(o,r,null,r.ctx)}}}function qt(e){Pt||(Pt=!0,queueMicrotask(Er));for(var t=Ot=e;t.parent!==null;){t=t.parent;var n=t.f;if((n&(at|Re))!==0){if((n&me)===0)return;t.f^=me}}vt.push(t)}function za(e){for(var t=[],n=e;n!==null;){var r=n.f,o=(r&(Re|at))!==0,a=o&&(r&me)!==0;if(!a&&(r&Me)===0){if((r&$n)!==0)t.push(n);else if(o)n.f^=me;else try{bt(n)&&kn(n)}catch(c){Vt(c,n,null,n.ctx)}var s=n.first;if(s!==null){n=s;continue}}var l=n.parent;for(n=n.next;n===null&&l!==null;)n=l.next,l=l.parent}return t}function Va(e){var t;for(Bn();vt.length>0;)Pt=!0,Er(),Bn();return t}async function qa(){await Promise.resolve(),Va()}function i(e){var t=e.f,n=(t&De)!==0;if(G!==null&&!xe){if(!(fe!=null&&fe.includes(e))){var r=G.deps;e.rv<At&&(e.rv=At,de===null&&r!==null&&r[ye]===e?ye++:de===null?de=[e]:(!Fe||!de.includes(e))&&de.push(e))}}else if(n&&e.deps===null&&e.effects===null){var o=e,a=o.parent;a!==null&&(a.f&be)===0&&(o.f^=be)}return n&&(o=e,bt(o)&&sr(o)),yt&&gt.has(e)?gt.get(e):e.v}function tt(e){var t=xe;try{return xe=!0,e()}finally{xe=t}}const Ya=-7169;function Le(e,t){e.f=e.f&Ya|t}function Wa(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Xe in e)rn(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&Xe in n&&rn(n)}}}function rn(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{rn(e[r],t)}catch{}const n=vn(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=Zn(n);for(let o in r){const a=r[o].get;if(a)try{a.call(e)}catch{}}}}}const Xa=["touchstart","touchmove"];function Ka(e){return Xa.includes(e)}let Nn=!1;function Ga(){Nn||(Nn=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const n of e.target.elements)(t=n.__on_r)==null||t.call(n)})},{capture:!0}))}function Tr(e){var t=G,n=J;Oe(null),ze(null);try{return e()}finally{Oe(t),ze(n)}}function Ja(e,t,n,r=n){e.addEventListener(t,()=>Tr(n));const o=e.__on_r;o?e.__on_r=()=>{o(),r(!0)}:e.__on_r=()=>r(!0),Ga()}const Cr=new Set,an=new Set;function Za(e,t,n,r={}){function o(a){if(r.capture||ut.call(t,a),!a.cancelBubble)return Tr(()=>n==null?void 0:n.call(this,a))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?bn(()=>{t.addEventListener(e,o,r)}):t.addEventListener(e,o,r),o}function Ye(e,t,n,r,o){var a={capture:r,passive:o},s=Za(e,t,n,a);(t===document.body||t===window||t===document)&&mn(()=>{t.removeEventListener(e,s,a)})}function Se(e){for(var t=0;t<e.length;t++)Cr.add(e[t]);for(var n of an)n(e)}function ut(e){var _;var t=this,n=t.ownerDocument,r=e.type,o=((_=e.composedPath)==null?void 0:_.call(e))||[],a=o[0]||e.target,s=0,l=e.__root;if(l){var c=o.indexOf(l);if(c!==-1&&(t===document||t===window)){e.__root=t;return}var f=o.indexOf(t);if(f===-1)return;c<=f&&(s=c)}if(a=o[s]||e.target,a!==t){Jr(e,"currentTarget",{configurable:!0,get(){return a||n}});var u=G,v=J;Oe(null),ze(null);try{for(var d,h=[];a!==null;){var g=a.assignedSlot||a.parentNode||a.host||null;try{var p=a["__"+r];if(p!=null&&(!a.disabled||e.target===a))if(dn(p)){var[w,...m]=p;w.apply(a,[e,...m])}else p.call(a,e)}catch(b){d?h.push(b):d=b}if(e.cancelBubble||g===t||g===null)break;a=g}if(d){for(let b of h)queueMicrotask(()=>{throw b});throw d}}finally{e.__root=t,delete e.currentTarget,Oe(u),ze(v)}}}function Dr(e){var t=document.createElement("template");return t.innerHTML=e,t.content}function mt(e,t){var n=J;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function F(e,t){var n=(t&Sa)!==0,r=(t&Ea)!==0,o,a=!e.startsWith("<!>");return()=>{o===void 0&&(o=Dr(a?e:"<!>"+e),n||(o=$e(o)));var s=r||cr?document.importNode(o,!0):o.cloneNode(!0);if(n){var l=$e(s),c=s.lastChild;mt(l,c)}else mt(s,s);return s}}function Qa(e,t,n="svg"){var r=!e.startsWith("<!>"),o=`<${n}>${r?e:"<!>"+e}</${n}>`,a;return()=>{if(!a){var s=Dr(o),l=$e(s);a=$e(l)}var c=a.cloneNode(!0);return mt(c,c),c}}function ue(e=""){{var t=Ft(e+"");return mt(t,t),t}}function pe(){var e=document.createDocumentFragment(),t=document.createComment(""),n=Ft();return e.append(t,n),mt(t,n),e}function L(e,t){e!==null&&e.before(t)}function it(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function $a(e,t){return eo(e,t)}const Je=new Map;function eo(e,{target:t,anchor:n,props:r={},events:o,context:a,intro:s=!0}){xa();var l=new Set,c=v=>{for(var d=0;d<v.length;d++){var h=v[d];if(!l.has(h)){l.add(h);var g=Ka(h);t.addEventListener(h,ut,{passive:g});var p=Je.get(h);p===void 0?(document.addEventListener(h,ut,{passive:g}),Je.set(h,1)):Je.set(h,p+1)}}};c(fn(Cr)),an.add(c);var f=void 0,u=Ma(()=>{var v=n??t.appendChild(Ft());return et(()=>{if(a){W({});var d=te;d.c=a}o&&(r.$$events=o),f=e(v,r)||{},a&&X()}),()=>{var g;for(var d of l){t.removeEventListener(d,ut);var h=Je.get(d);--h===0?(document.removeEventListener(d,ut),Je.delete(d)):Je.set(d,h)}an.delete(c),v!==n&&((g=v.parentNode)==null||g.removeChild(v))}});return to.set(f,u),f}let to=new WeakMap;function V(e,t,[n,r]=[0,0]){var o=e,a=null,s=null,l=ge,c=n>0?jt:0,f=!1;const u=(d,h=!0)=>{f=!0,v(h,d)},v=(d,h)=>{l!==(l=d)&&(l?(a?xt(a):h&&(a=et(()=>h(o))),s&&Lt(s,()=>{s=null})):(s?xt(s):h&&(s=et(()=>h(o,[n+1,r]))),a&&Lt(a,()=>{a=null})))};zt(()=>{f=!1,t(u),f||v(null,null)},c)}function ke(e,t){Ut(()=>{var n=t();for(var r in n){var o=n[r];o?e.style.setProperty(r,o):e.style.removeProperty(r)}}),mn(()=>{e.remove()})}function no(e,t){return t}function ro(e,t,n,r){for(var o=[],a=t.length,s=0;s<a;s++)yn(t[s].e,o,!0);var l=a>0&&o.length===0&&n!==null;if(l){var c=n.parentNode;Pa(c),c.append(n),r.clear(),je(e,t[0].prev,t[a-1].next)}pr(o,()=>{for(var f=0;f<a;f++){var u=t[f];l||(r.delete(u.k),je(e,u.prev,u.next)),Be(u.e,!l)}})}function He(e,t,n,r,o,a=null){var s=e,l={flags:t,items:new Map,first:null},c=(t&nr)!==0;if(c){var f=e;s=f.appendChild(Ft())}var u=null,v=!1,d=rr(()=>{var h=n();return dn(h)?h:h==null?[]:fn(h)});zt(()=>{var h=i(d),g=h.length;v&&g===0||(v=g===0,ao(h,l,s,o,t,r,n),a!==null&&(g===0?u?xt(u):u=et(()=>a(s)):u!==null&&Lt(u,()=>{u=null})),i(d))})}function ao(e,t,n,r,o,a,s){var A,U,M,H;var l=(o&pa)!==0,c=(o&(pn|_n))!==0,f=e.length,u=t.items,v=t.first,d=v,h,g=null,p,w=[],m=[],_,b,y,E;if(l)for(E=0;E<f;E+=1)_=e[E],b=a(_,E),y=u.get(b),y!==void 0&&((A=y.a)==null||A.measure(),(p??(p=new Set)).add(y));for(E=0;E<f;E+=1){if(_=e[E],b=a(_,E),y=u.get(b),y===void 0){var T=d?d.e.nodes_start:n;g=so(T,t,g,g===null?t.first:g.next,_,b,E,r,o,s),u.set(b,g),w=[],m=[],d=g.next;continue}if(c&&oo(y,_,E,o),(y.e.f&Me)!==0&&(xt(y.e),l&&((U=y.a)==null||U.unfix(),(p??(p=new Set)).delete(y))),y!==d){if(h!==void 0&&h.has(y)){if(w.length<m.length){var C=m[0],k;g=C.prev;var x=w[0],B=w[w.length-1];for(k=0;k<w.length;k+=1)jn(w[k],C,n);for(k=0;k<m.length;k+=1)h.delete(m[k]);je(t,x.prev,B.next),je(t,g,x),je(t,B,C),d=C,g=B,E-=1,w=[],m=[]}else h.delete(y),jn(y,d,n),je(t,y.prev,y.next),je(t,y,g===null?t.first:g.next),je(t,g,y),g=y;continue}for(w=[],m=[];d!==null&&d.k!==b;)(d.e.f&Me)===0&&(h??(h=new Set)).add(d),m.push(d),d=d.next;if(d===null)continue;y=d}w.push(y),g=y,d=y.next}if(d!==null||h!==void 0){for(var N=h===void 0?[]:fn(h);d!==null;)(d.e.f&Me)===0&&N.push(d),d=d.next;var O=N.length;if(O>0){var z=(o&nr)!==0&&f===0?n:null;if(l){for(E=0;E<O;E+=1)(M=N[E].a)==null||M.measure();for(E=0;E<O;E+=1)(H=N[E].a)==null||H.fix()}ro(t,N,z,u)}}l&&bn(()=>{var K;if(p!==void 0)for(y of p)(K=y.a)==null||K.apply()}),J.first=t.first&&t.first.e,J.last=g&&g.e}function oo(e,t,n,r){(r&pn)!==0&&tn(e.v,t),(r&_n)!==0?tn(e.i,n):e.i=n}function so(e,t,n,r,o,a,s,l,c,f){var u=(c&pn)!==0,v=(c&_a)===0,d=u?v?ir(o):pt(o):o,h=(c&_n)===0?s:pt(s),g={i:h,v:d,k:a,a:null,e:null,prev:n,next:r};try{return g.e=et(()=>l(e,d,h,f),La),g.e.prev=n&&n.e,g.e.next=r&&r.e,n===null?t.first=g:(n.next=g,n.e.next=g.e),r!==null&&(r.prev=g,r.e.prev=g.e),g}finally{}}function jn(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,o=t?t.e.nodes_start:n,a=e.e.nodes_start;a!==r;){var s=Ht(a);o.before(a),a=s}}function je(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function Ne(e,t,...n){var r=e,o=Qn,a;zt(()=>{o!==(o=t())&&(a&&(Be(a),a=null),a=et(()=>o(r,...n)))},jt)}function Lr(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=Lr(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function io(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=Lr(e))&&(r&&(r+=" "),r+=t);return r}function ne(e){return typeof e=="object"?io(e):e??""}const Fn=[...` 	
\r\f \v\uFEFF`];function lo(e,t,n){var r=e==null?"":""+e;if(t&&(r=r?r+" "+t:t),n){for(var o in n)if(n[o])r=r?r+" "+o:o;else if(r.length)for(var a=o.length,s=0;(s=r.indexOf(o,s))>=0;){var l=s+a;(s===0||Fn.includes(r[s-1]))&&(l===r.length||Fn.includes(r[l]))?r=(s===0?"":r.substring(0,s))+r.substring(l+1):s=l}}return r===""?null:r}function co(e,t){return e==null?null:String(e)}function Q(e,t,n,r,o,a){var s=e.__className;if(s!==n||s===void 0){var l=lo(n,r,a);l==null?e.removeAttribute("class"):e.className=l,e.__className=n}else if(a&&o!==a)for(var c in a){var f=!!a[c];(o==null||f!==!!o[c])&&e.classList.toggle(c,f)}return a}function Bt(e,t,n,r){var o=e.__style;if(o!==t){var a=co(t);a==null?e.removeAttribute("style"):e.style.cssText=a,e.__style=t}return r}const uo=Symbol("is custom element"),fo=Symbol("is html");function Kt(e,t){var n=Sn(e);n.value===(n.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function Gt(e,t){var n=Sn(e);n.checked!==(n.checked=t??void 0)&&(e.checked=t)}function Te(e,t,n,r){var o=Sn(e);o[t]!==(o[t]=n)&&(t==="loading"&&(e[aa]=n),n==null?e.removeAttribute(t):typeof n!="string"&&vo(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function Sn(e){return e.__attributes??(e.__attributes={[uo]:e.nodeName.includes("-"),[fo]:e.namespaceURI===Ta})}var Hn=new Map;function vo(e){var t=Hn.get(e.nodeName);if(t)return t;Hn.set(e.nodeName,t=[]);for(var n,r=e,o=Element.prototype;o!==r;){n=Zn(r);for(var a in n)n[a].set&&t.push(a);r=vn(r)}return t}function En(e,t,n=t){var r=wt();Ja(e,"input",o=>{var a=o?e.defaultValue:e.value;if(a=Jt(e)?Zt(a):a,n(a),r&&a!==(a=t())){var s=e.selectionStart,l=e.selectionEnd;e.value=a??"",l!==null&&(e.selectionStart=s,e.selectionEnd=Math.min(l,e.value.length))}}),tt(t)==null&&e.value&&n(Jt(e)?Zt(e.value):e.value),Ut(()=>{var o=t();Jt(e)&&o===Zt(e.value)||e.type==="date"&&!o&&!e.value||o!==e.value&&(e.value=o??"")})}function Jt(e){var t=e.type;return t==="number"||t==="range"}function Zt(e){return e===""?null:+e}function Un(e,t){return e===t||(e==null?void 0:e[Xe])===t}function _e(e={},t,n,r){return wn(()=>{var o,a;return Ut(()=>{o=a,a=[],tt(()=>{e!==n(...a)&&(t(e,...a),o&&Un(n(...o),e)&&t(null,...o))})}),()=>{bn(()=>{a&&Un(n(...a),e)&&t(null,...a)})}}),e}function Tn(e=!1){const t=te,n=t.l.u;if(!n)return;let r=()=>Wa(t.s);if(e){let o=0,a={};const s=Qe(()=>{let l=!1;const c=t.s;for(const f in c)c[f]!==a[f]&&(a[f]=c[f],l=!0);return l&&o++,o});r=()=>i(s)}n.b.length&&Aa(()=>{zn(t,r),Tt(n.b)}),ce(()=>{const o=tt(()=>n.m.map($r));return()=>{for(const a of o)typeof a=="function"&&a()}}),n.a.length&&ce(()=>{zn(t,r),Tt(n.a)})}function zn(e,t){if(e.l.s)for(const n of e.l.s)i(n);t()}let kt=!1;function ho(e){var t=kt;try{return kt=!1,[e(),kt]}finally{kt=t}}function Vn(e){var t;return((t=e.ctx)==null?void 0:t.d)??!1}function Y(e,t,n,r){var T;var o=(n&ma)!==0,a=!ot||(n&wa)!==0,s=(n&ba)!==0,l=(n&ka)!==0,c=!1,f;s?[f,c]=ho(()=>e[t]):f=e[t];var u=Xe in e||ra in e,v=s&&(((T=Ze(e,t))==null?void 0:T.set)??(u&&t in e&&(C=>e[t]=C)))||void 0,d=r,h=!0,g=!1,p=()=>(g=!0,h&&(h=!1,l?d=tt(r):d=r),d);f===void 0&&r!==void 0&&(v&&a&&ua(),f=p(),v&&v(f));var w;if(a)w=()=>{var C=e[t];return C===void 0?p():(h=!0,g=!1,C)};else{var m=(o?Qe:rr)(()=>e[t]);m.f|=ta,w=()=>{var C=i(m);return C!==void 0&&(d=void 0),C===void 0?d:C}}if((n&ya)===0)return w;if(v){var _=e.$$legacy;return function(C,k){return arguments.length>0?((!a||!k||_||c)&&v(k?w():C),C):w()}}var b=!1,y=ir(f),E=Qe(()=>{var C=w(),k=i(y);return b?(b=!1,k):y.v=C});return s&&i(E),o||(E.equals=gn),function(C,k){if(arguments.length>0){const x=k?i(E):a&&s?se(C):C;if(!E.equals(x)){if(b=!0,D(y,x),g&&d!==void 0&&(d=x),Vn(E))return C;tt(()=>i(E))}return C}return Vn(E)?E.v:i(E)}}function he(e){te===null&&Ca(),ot&&te.l!==null?go(te).m.push(e):ce(()=>{const t=tt(e);if(typeof t=="function")return t})}function go(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const po="5";var Jn;typeof window<"u"&&((Jn=window.__svelte??(window.__svelte={})).v??(Jn.v=new Set)).add(po);let dt=j("");function _o(e){D(dt,e,!0)}var mo=F('<div class="notification svelte-1h5k2zn"> </div>');function wo(e,t){W(t,!0),ce(()=>{i(dt);const a=setTimeout(()=>{D(dt,"")},800);return()=>{clearTimeout(a)}});var n=pe(),r=q(n);{var o=a=>{var s=mo(),l=S(s);oe(()=>it(l,i(dt))),L(a,s)};V(r,a=>{i(dt)&&a(o)})}L(e,n),X()}ga();var yo=F('<span class="vh svelte-14jjkpd"><!></span>');function nt(e,t){var n=yo(),r=S(n);Ne(r,()=>t.children),L(e,n)}var bo=Qa('<svg class="svelte-1lqi79o"><use></use></svg>');function ve(e,t){let n=Y(t,"name",8,"");var r=bo(),o=S(r);oe(()=>Te(o,"href",`#icon-${n()??""}`)),L(e,r)}const xr=(e,t)=>{if(!t)return e;if(t.type==="closed")return{type:"closed"};switch(e.type){case"opened":return t.type==="close"?{type:"closing"}:t.type==="swipe"?{type:"openSwiping"}:e;case"closed":return t.type==="open"?{type:"opening"}:t.type==="swipe"?{type:"closeSwiping"}:e;case"openSwiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"closeSwiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"opening":return t.type==="opened"?{type:"opened"}:e;default:return e}};let on=j(se(xr({type:"closed"})));const qe=e=>{D(on,xr(i(on),e),!0)},Pr=()=>i(on),ko=()=>{qe({type:"open"})},So=()=>{qe({type:"close"})},Eo=()=>{const e=Pr().type;e==="closed"?ko():e==="opened"&&So()};var To=F('<button class="buttonMenu svelte-uq0knv"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>');function Or(e,t){W(t,!1),Tn();var n=To();n.__click=[Eo];var r=S(n);ke(r,()=>({"--size":"28px"})),ve(r.lastChild,{name:"sidebarMenu"});var o=P(r,2);nt(o,{children:(a,s)=>{var l=ue("Menu");L(a,l)}}),L(e,n),X()}Se(["click"]);const R=se({historyStack:[],pathname:window.location.pathname,search:window.location.search,historyLength:0}),Ar=()=>{var e;return((e=new URLSearchParams(R.search).get("selectedTags"))==null?void 0:e.split(","))||[]};let St=Ar();const Co=()=>{const e=Ar();return e.join(",")===St.join(",")||(St=e),St},Do=()=>{R.pathname=document.location.pathname,R.search=document.location.search,R.historyLength=Math.max(0,R.historyLength-=1)};window.addEventListener("popstate",Do);const sn=e=>{const[t,n]=e.split("?");R.pathname=t,R.search=n?`?${n}`:"",R.historyLength+=1,R.historyStack.push(window.location.href),window.history.replaceState(null,"",e)},Lo=e=>{const[t,n]=e.split("?");R.pathname=t,R.search=n?`?${n}`:"",window.history.replaceState(null,"",e)},Mr=(e="/")=>{var r;const[t,n]=e.split("?");if(R.historyLength<=0){const o=window.location.href,[a,s]=o.split("?");if(s.includes("stackPages")){const l=new URLSearchParams(s),f=(((r=l.get("stackPages"))==null?void 0:r.split(","))||[]).slice(0,-1);l.set("stackPages",f.join(","));const u=`${a}?${l.toString()}`;window.history.replaceState(null,"",u),R.search=l.toString()?`?${l.toString()}`:""}else window.history.replaceState(null,"",e),R.historyLength=0,R.pathname=t,R.search=n?`?${n}`:""}else if(R.historyStack.length>0){const o=R.historyStack.pop();if(o){const[a,s]=o.split("?");window.history.replaceState(null,"",o),R.historyLength=Math.max(0,R.historyLength-=1),R.pathname=a,R.search=s?`?${s}`:""}}},Yt=()=>{const e=R.historyStack.findIndex(n=>n.includes("stackPages")),t=e===-1?R.historyStack.slice(0):R.historyStack.slice(0,e);if(t.length>0){const n=t.pop();if(n){const[r,o]=n.split("?");window.history.replaceState(null,"",n),R.historyLength=Math.max(0,t.length),R.pathname=r,R.search=o?`?${o}`:"",R.historyStack=t}}else window.history.replaceState(null,"","/"),R.historyLength=0,R.pathname="/",R.search="",R.historyStack=[]},Ie=()=>{var e;return((e=new URLSearchParams(R.search).get("stackPages"))==null?void 0:e.split(","))||[]};let ht=j(se(Ie()));const lt=e=>{const t=Ie();t.push(e);const n=new URLSearchParams(R.search);n.set("stackPages",t.join(",")),D(ht,t,!0),sn(`${R.pathname}?${n.toString()}`)},Br=()=>{const e=Ie().slice(0,-1);D(ht,e,!0)},xo=()=>{const e=Ie();return e.length>=i(ht).length?e.reduce((t,n)=>[...t,{page:n,shown:!0}],[]):i(ht).reduce((t,n,r)=>[...t,{page:n,shown:e.length===0?!1:r!==i(ht).length-1}],[])},Po=e=>{e.preventDefault(),lt("settings")},Oo=e=>{e.preventDefault(),lt("newBookmark")};var Ao=F('<a class="addBookmark svelte-ybtczo"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Add bookmark</span></a>'),Mo=F('<div class="header svelte-ybtczo"><div class="top svelte-ybtczo"><div class="desktop svelte-ybtczo"><a class="link svelte-ybtczo"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Settings</span></a></div> <div class="mobile svelte-ybtczo"><!></div> <!></div></div>');function Bo(e,t){W(t,!0);const n=()=>{const p=Ie();p.includes("settings")||p.push("settings");const w=new URLSearchParams(R.search);return w.set("stackPages",p.join(",")),`${R.pathname}?${w}`};let o=ee(()=>{const p=Ie();p.includes("newBookmark")||p.push("newBookmark");const w=new URLSearchParams(R.search);return w.set("stackPages",p.join(",")),`${R.pathname}?${w}`}),a=ee(n);var s=Mo(),l=S(s),c=S(l),f=S(c);f.__click=[Po];var u=S(f);ke(u,()=>({"--size":"20px"})),ve(u.lastChild,{name:"settings"});var v=P(c,2),d=S(v);Or(d,{});var h=P(v,2);{var g=p=>{var w=Ao();w.__click=[Oo];var m=S(w);ke(m,()=>({"--size":"24px","--color":"#b0b0b0"})),ve(m.lastChild,{name:"plus"}),oe(()=>Te(w,"href",i(o))),L(p,w)};V(h,p=>{R.pathname!=="/settings"&&p(g)})}oe(()=>Te(f,"href",i(a))),L(e,s),X()}Se(["click"]);const Ir=()=>window.matchMedia("(max-width: 768px)").matches;let Rr=j(se(Ir()));const Io=(e,t)=>{let n=null;return()=>{n&&clearTimeout(n),n=setTimeout(()=>{e()},t)}},Ro=Io(()=>{D(Rr,Ir(),!0)},16);window.addEventListener("resize",Ro);const Wt=()=>i(Rr),le=se({working:!1,swipingRatio:1,isSwiping:!1,duration:.35});let ln=!1;const Qt=()=>{document.activeElement instanceof HTMLInputElement||document.activeElement instanceof HTMLTextAreaElement?ln=!0:ln=!1},Cn=()=>ln;function No(e,t){W(t,!0);let n=Y(t,"dialog",7),r=null;const o=()=>{t.dialogState==="swiping"&&t.onClose()};ce(()=>(t.dialogState==="swiping"&&(r=setTimeout(o,3e3)),()=>{r&&(clearTimeout(r),r=null)}));let a=null,s=null;const l=3,c=50,f=5,u=.6,v=.3,d=.35,h=.95;let g=0,p=0,w=0,m=!1,_=!1,b=0,y=0,E=0;const T=()=>{g=0,p=0,m=!1,_=!1,b=0,y=0,E=0,w=0,a=null,s!==null&&(cancelAnimationFrame(s),s=null),r&&(clearTimeout(r),r=null)},C=M=>{if(!n()){console.warn("Touch start: No dialog element");return}if(t.dialogState!=="opened"){console.warn(`Touch start: Invalid sidebar state: ${t.dialogState}`);return}g=M.touches[0].clientX,p=M.touches[0].clientY,w=performance.now(),m=!0,_=!1},k=M=>t.dialogState==="opened"&&M>0||t.dialogState==="swiping"&&M>0,x=M=>{if(n()){n().style.setProperty("--transition-timing","0s"),t.onSwipe(),navigator.vibrate&&navigator.vibrate(10);try{const H=window.getComputedStyle(n()),K=H.transform||H.webkitTransform||"";if(y=n().offsetWidth,(t.dialogState==="swiping"||t.dialogState==="opened")&&(b=0),K&&K!=="none")try{b=new DOMMatrix(K).m41}catch{console.warn("Could not parse transform matrix, using default position")}_=!0}catch(H){console.error("Error during swipe initialization:",H),T()}}},B=()=>{if(!n())return;const H=Math.abs(b+E*y/100)/y;n().style.setProperty("--backdrop-bg",`rgba(0, 0, 0, ${.1*(1-H)})`)},N=()=>{if(s=null,!a||!m||!n()||Cn()){T();return}const M=a.touches[0].clientX,H=a.touches[0].clientY,K=M-g,ae=H-p,I=Math.abs(K)>Math.abs(ae),Z=Math.abs(K)>l;if(!_)if(I&&Z&&k(K))try{x(K)}catch(Ln){console.error("Error initializing swipe:",Ln),T();return}else return;if(!k(K))return;n().style.setProperty("--transition-timing","0s");let $=b+K*h;$=Math.max(0,Math.min(y,$)),n().style.transform=`translate3d(${$}px, 0, 0)`,le.swipingRatio=Math.abs(1-$/y),E=($-b)/y*100,t.dialogState==="swiping"&&(r&&clearTimeout(r),r=setTimeout(o,3e3)),B()},O=M=>{if(!m)return;a=M,s===null&&(s=requestAnimationFrame(N));const H=M.touches[0].clientX-g,K=M.touches[0].clientY-p,ae=Math.abs(H)>Math.abs(K);_&&ae&&M.preventDefault()},z=M=>{const H=Math.abs(M);if(H>=u)return f;if(H>=v){const K=(H-v)/(u-v);return c-K*(c-f)}else return c},A=(M,H)=>{if(Math.abs(M)>=u)return d*.5;const ae=Math.abs(E)/100;return H?d*Math.max(.5,1-ae):d*Math.max(.5,ae)},U=M=>{var $,we;if(s!==null&&(cancelAnimationFrame(s),s=null),!m||!n()){T();return}if(!_){T();return}let H=0;if(($=M==null?void 0:M.changedTouches)!=null&&$[0]){const Ae=M.changedTouches[0].clientX,xn=performance.now()-w;xn>0&&(H=(Ae-g)/xn)}const K=z(H);let ae=null;t.dialogState==="swiping"&&(ae=Math.abs(E)>K||H<-.3?"close":"open");const I=t.dialogState==="swiping"&&ae==="close",Z=A(H,I);le.duration=Z-.02,n().style.setProperty("--transition-timing",`${Z}s`),n().offsetWidth,n().style.transform="",ae==="open"?t.onOpen():ae==="close"&&t.onClose(),(we=n())==null||we.style.removeProperty("--backdrop-bg"),T()};he(()=>(n().addEventListener("touchstart",C,{passive:!0}),n().addEventListener("touchmove",O,{passive:!1}),n().addEventListener("touchend",U,{passive:!0}),n().addEventListener("touchcancel",U,{passive:!0}),()=>{n().removeEventListener("touchstart",C),n().removeEventListener("touchmove",O),n().removeEventListener("touchend",U),n().removeEventListener("touchcancel",U),s!==null&&cancelAnimationFrame(s)})),X()}var jo=(e,t)=>{t.onStartClose()},Fo=F('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),Ho=F('<dialog><div class="dialogInner svelte-1kz0rp4"><span tabindex="1"></span> <!> <div class="header svelte-1kz0rp4"><div><!></div></div></div></dialog> <!>',1);function Uo(e,t){W(t,!0);let n=350,r=j(null),o=j(null);const a=m=>{m.preventDefault(),t.onStartClose()};he(()=>{var m,_;return console.log("swiping mounted"),(m=i(r))==null||m.addEventListener("close",t.onClosed),(_=i(r))==null||_.addEventListener("cancel",a),()=>{var b,y;(b=i(r))==null||b.removeEventListener("close",t.onClosed),(y=i(r))==null||y.removeEventListener("cancel",a)}});const s=()=>{var m,_,b;(m=i(r))==null||m.style.removeProperty("--transition-timing"),(_=i(r))==null||_.style.removeProperty("transform"),(b=i(r))==null||b.style.removeProperty("--backdrop-bg")};ce(()=>{var m,_;if(t.dialogState,!!i(r))switch(t.dialogState){case"opening":{i(r).open||i(r).showModal(),i(r).getBoundingClientRect();const b=setTimeout(()=>{s()},n+1),y=()=>{clearTimeout(b),s()};return(m=i(r))==null||m.addEventListener("transitionend",y,{once:!0}),t.onOpened(),()=>{var E;(E=i(r))==null||E.removeEventListener("transitionend",y)}}case"closing":{const b=setTimeout(()=>{t.dialogState==="closing"&&t.onClosed()},n+1),y=()=>{clearTimeout(b),t.onClosed()};return(_=i(r))==null||_.addEventListener("transitionend",y,{once:!0}),()=>{var E;(E=i(r))==null||E.removeEventListener("transitionend",y)}}case"opened":s()}});var l=Ho(),c=q(l),f=S(c),u=P(S(f),2);Ne(u,()=>t.children);var v=P(u,2),d=S(v),h=S(d);{var g=m=>{var _=Fo();Q(_,1,ne(["navigateButton","buttonBack"]),"svelte-1kz0rp4"),_.__click=[jo,t];var b=S(_);ke(b,()=>({"--size":"20px"})),ve(b.lastChild,{name:"back"});var y=P(b,2);nt(y,{children:(E,T)=>{var C=ue("back");L(E,C)}}),L(m,_)};V(h,m=>{t.blocked||t.hidden||m(g)})}_e(f,m=>D(o,m),()=>i(o)),_e(c,m=>D(r,m),()=>i(r));var p=P(c,2);{var w=m=>{No(m,{get onClose(){return t.onStartClose},get onOpen(){return t.onStartOpen},get onSwipe(){return t.onSwipe},get dialogState(){return t.dialogState},get dialog(){return i(r)}})};V(p,m=>{(t.dialogState==="opened"||t.dialogState==="swiping")&&!t.blocked&&m(w)})}oe(()=>Q(c,1,ne([{open:t.dialogState==="opened",hidden:t.hidden,isAnimationOn:le.working&&(!le.isSwiping||!t.hidden)},{hidden:t.hidden}]),"svelte-1kz0rp4")),L(e,l),X()}Se(["click"]);const qn=(e,t)=>{if(!t)return e;if(t.type==="closed")return{type:"closed"};switch(e.type){case"opened":return t.type==="close"?{type:"closing"}:t.type==="swipe"?{type:"swiping"}:e;case"closed":return t.type==="open"?{type:"opening"}:e;case"swiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"opening":return t.type==="opened"?{type:"opened"}:e;default:return e}};function zo(e,t){W(t,!0);let n=Y(t,"blocked",3,!1),r=Y(t,"hiddenDialog",3,!1),o=Y(t,"onStartClose",3,()=>{}),a=Y(t,"onClose",3,()=>{}),s=j(se(qn({type:"closed"})));const l=w=>{D(s,qn(i(s),w),!0)},c=()=>{n()||(o()(),l({type:"close"}))},f=()=>{n()||l({type:"open"})},u=()=>{l({type:"opened"}),le.duration=.2},v=()=>{a()(),l({type:"closed"}),le.swipingRatio=1,le.duration=.2},d=()=>{l({type:"swipe"})};ce(()=>{i(s).type==="swiping"?le.isSwiping=!0:le.isSwiping=!1,i(s).type==="closed"&&t.shownDialog?f():i(s).type==="opened"&&!t.shownDialog&&c()});var h=pe(),g=q(h);{var p=w=>{Uo(w,{onSwipe:d,onOpened:u,onClosed:v,onStartClose:c,onStartOpen:f,get dialogState(){return i(s).type},get hidden(){return r()},get blocked(){return n()},children:(m,_)=>{var b=pe(),y=q(b);Ne(y,()=>t.children),L(m,b)},$$slots:{default:!0}})};V(g,w=>{i(s).type!=="closed"&&w(p)})}return L(e,h),X({handleComputeState:l})}const Vo=({getDialog:e,onOpen:t,onStartClose:n,onClose:r})=>{const o=s=>{s.preventDefault(),n()},a=()=>{r==null||r()};he(()=>{const s=e();return s==null||s.addEventListener("cancel",o),s==null||s.addEventListener("close",a),()=>{s==null||s.removeEventListener("cancel",o),s==null||s.removeEventListener("close",a)}}),he(()=>{const s=e();s==null||s.showModal(),s==null||s.getBoundingClientRect(),t()})};function Nr(e,t){W(t,!0),he(()=>{const n=r=>{var o;r.target&&((o=t.dialog)!=null&&o.open)&&t.dialogInner&&t.dialogInner!==r.target&&!t.dialogInner.contains(r.target)&&t.onClose()};return document.addEventListener("mousedown",n,{capture:!0}),()=>{document.removeEventListener("mousedown",n,{capture:!0})}}),X()}var qo=(e,t)=>{t.onStartBack()},Yo=F('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),Wo=(e,t)=>{t.onStartClose()},Xo=F('<div><!></div> <div><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button></div>',1),Ko=F('<dialog><div class="dialogInner svelte-14g2hs6"><!> <div class="header svelte-14g2hs6"><!></div></div></dialog> <!>',1);function Go(e,t){W(t,!0);let n=Y(t,"blockedDialog",3,!1),r=Y(t,"hiddenDialog",3,!1),o=Y(t,"isDesktopAnimationOff",3,!1),a=j(null),s=j(null);Vo({getDialog:()=>i(a),onOpen:t.onOpen,onStartClose:t.onStartClose,onClose:t.onClose}),ce(()=>{var p,w;t.stateDialog==="closing"&&(le.working?(p=i(a))==null||p.addEventListener("transitionend",()=>{var m;(m=i(a))==null||m.close()},{once:!0}):(w=i(a))==null||w.close())});var l=Ko(),c=q(l),f=S(c),u=S(f);Ne(u,()=>t.children);var v=P(u,2),d=S(v);{var h=p=>{var w=Xo(),m=q(w),_=S(m);{var b=k=>{var x=Yo();Q(x,1,ne(["navigateButton","buttonBack"]),"svelte-14g2hs6"),x.__click=[qo,t];var B=S(x);ke(B,()=>({"--size":"20px"})),ve(B.lastChild,{name:"back"});var N=P(B,2);nt(N,{children:(O,z)=>{var A=ue("back");L(O,A)}}),L(k,x)};V(_,k=>{t.onStartBack&&k(b)})}var y=P(m,2),E=S(y);Q(E,1,ne(["navigateButton","buttonClose"]),"svelte-14g2hs6"),E.__click=[Wo,t];var T=S(E);ke(T,()=>({"--size":"20px"})),ve(T.lastChild,{name:"close"});var C=P(T,2);nt(C,{children:(k,x)=>{var B=ue("close");L(k,B)}}),L(p,w)};V(d,p=>{n()||r()||p(h)})}_e(f,p=>D(s,p),()=>i(s)),_e(c,p=>D(a,p),()=>i(a));var g=P(c,2);Nr(g,{get dialog(){return i(a)},get dialogInner(){return i(s)},get onClose(){return t.onStartClose}}),oe(()=>Q(c,1,ne([{open:t.stateDialog==="open",isAnimationOn:le.working,isDesktopAnimationOff:o(),hiddenDialog:r()}]),"svelte-14g2hs6")),L(e,l),X()}Se(["click"]);const Jo=({onStartClose:e,onClose:t})=>{let n=j("close");return{get state(){return i(n)},set state(s){D(n,s,!0)},handleStartClose:(s=!1)=>{s||(D(n,"closing"),e==null||e())},handleOpen:()=>{D(n,"open")},handleClose:()=>{D(n,"close"),t==null||t()}}};function Zo(e,t){W(t,!0);let n=Y(t,"blockedDialog",3,!1),r=Y(t,"hiddenDialog",3,!1),o=Y(t,"onStartClose",3,()=>{}),a=Y(t,"onClose",3,()=>{}),s=Jo({onStartClose:o(),onClose:a()});ce(()=>{s.state==="close"&&t.shownDialog?s.state="opening":s.state==="open"&&!t.shownDialog&&s.handleStartClose(n())});var l=pe(),c=q(l);{var f=u=>{Go(u,{get stateDialog(){return s.state},get blockedDialog(){return n()},get hiddenDialog(){return r()},get onOpen(){return s.handleOpen},get onStartBack(){return t.onStartBack},onStartClose:()=>{s.handleStartClose(n())},get onClose(){return s.handleClose},children:(v,d)=>{var h=pe(),g=q(h);Ne(g,()=>t.children),L(v,h)},$$slots:{default:!0}})};V(c,u=>{s.state!=="close"&&u(f)})}L(e,l),X()}function jr(e,t){W(t,!0);let n=Y(t,"blockedDialog",3,!1),r=Y(t,"hiddenDialog",3,!1),o=Y(t,"isLastDialog",3,!1),a=Y(t,"onStartClose",3,()=>{}),s=Y(t,"onClose",3,()=>{});const l=ee(()=>o()?void 0:t.onStartBack);var c=pe(),f=q(c);{var u=d=>{zo(d,{get shownDialog(){return t.shownDialog},get blocked(){return n()},get hiddenDialog(){return r()},get children(){return t.children},get onStartClose(){return t.onStartBack},get onClose(){return s()}})},v=d=>{Zo(d,{get shownDialog(){return t.shownDialog},get blockedDialog(){return n()},get hiddenDialog(){return r()},get children(){return t.children},get onStartBack(){return i(l)},get onStartClose(){return a()},get onClose(){return s()}})};V(f,d=>{Wt()?d(u):d(v,!1)})}L(e,c),X()}let Fr=j(!1);const rt=e=>{D(Fr,e,!0)},Yn=()=>i(Fr);function Wn(e,t){W(t,!0);let n=Y(t,"blocked",3,!1),r=Y(t,"isLastDialog",3,!1),o=Y(t,"onBack",3,()=>{});const a=ee(()=>n()||t.hidden||Yn()),s=()=>{!i(a)&&t.shown&&(Mr(),o()())},l=()=>{!i(a)&&t.shown&&Yt()},c=()=>{Br()},f=ee(()=>n()||t.hidden||Yn());jr(e,{get shownDialog(){return t.shown},get blockedDialog(){return i(f)},get hiddenDialog(){return t.hidden},get isLastDialog(){return r()},onStartBack:s,onStartClose:l,onClose:c,children:(u,v)=>{var d=pe(),h=q(d);Ne(h,()=>t.children),L(u,d)},$$slots:{default:!0}}),X()}const Hr=()=>crypto.randomUUID(),cn=(e,t,n,r=new Set,o={})=>{var a,s;for(const l of e.children)if(l.tagName==="DT"){const c=l.querySelector(":scope > A"),f=l.querySelector(":scope > H3");if(c){const u=c.getAttribute("href"),v=c.textContent||"unknown";if(!u)return n;const d=t.find(h=>h.toLowerCase()==="bookmarks bar")?t.filter(h=>h.toLowerCase()!=="bookmarks bar"):["other"];if(o[u])o[u].tags=[...new Set([...o[u].tags,...d])];else{const h={id:Hr(),order:n.length,url:u,title:v,description:"",tags:d.length>0?d:[],lastUpdatedTimestamp:Date.now(),createdTimestamp:Date.now()};o[h.url]=h,n.push(h)}}else if(f){const u=(a=f.textContent)==null?void 0:a.trim();if(u&&((s=f.nextElementSibling)==null?void 0:s.tagName)==="DL"){const v=[...t];v.push(u);const d=f.nextElementSibling;r.has(d)||(r.add(d),cn(d,v,n,r,o))}}}else l.tagName!=="DL"&&l.children.length>0&&(r.has(l)||(r.add(l),cn(l,[...t],n,r,o)));return n},Qo=async e=>{const t=await e.text(),o=new DOMParser().parseFromString(t,"text/html").querySelector("DL");return o?cn(o,[],[]):[]},$o=e=>{const t=Math.floor(Date.now()/1e3),n={};e.forEach(o=>{const a=o.tags||["Imported"];if(a.length===0){n.ROOT||(n.ROOT=[]),n.ROOT.push(o);return}a.forEach(s=>{n[s]||(n[s]=[]),n[s].push(o)})});let r=`<!DOCTYPE NETSCAPE-Bookmark-file-1>
<!-- This is an automatically generated file.
 It will be read and overwritten.
 DO NOT EDIT! -->
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8">
<TITLE>Bookmarks</TITLE>
<H1>Bookmarks</H1>
<DL><p>
<DT><H3 ADD_DATE="${t}" LAST_MODIFIED="${t}" PERSONAL_TOOLBAR_FOLDER="true">Bookmarks Bar</H3>
<DL><p>`;return Object.keys(n).forEach(o=>{o!=="ROOT"&&o!=="other"&&(r+=`
	<DT><H3 ADD_DATE="${t}" LAST_MODIFIED="${t}">${o}</H3>
	<DL><p>`,n[o].forEach(a=>{const s=a.title.replace(/"/g,"&quot;");r+=`
		<DT><A HREF="${a.url}" ADD_DATE="${Math.floor(a.createdTimestamp/1e3)||t}">${s}</A>`}),r+=`
	</DL><p>`)}),n.ROOT&&n.ROOT.forEach(o=>{const a=o.title.replace(/"/g,"&quot;");r+=`
	<DT><A HREF="${o.url}" ADD_DATE="${Math.floor(o.createdTimestamp/1e3)||t}">${a}</A>`}),r+=`
</DL><p>`,n.other&&n.other.forEach(o=>{const a=o.title.replace(/"/g,"&quot;");r+=`
	<DT><A HREF="${o.url}" ADD_DATE="${Math.floor(o.createdTimestamp/1e3)||t}">${a}</A>`}),r+="</DL><p>",r},es="bookmarksStore",ts=1,Ce="bookmarks";let ie;window.addEventListener("unhandledrejection",e=>{alert("Error: "+e.reason.message)});const ns=()=>new Promise((e,t)=>{const n=indexedDB.open(es,ts);n.addEventListener("upgradeneeded",()=>{const r=n.result;console.log("success upgradeneeded"),r.objectStoreNames.contains(Ce)||r.createObjectStore(Ce,{keyPath:"id"})}),n.addEventListener("success",()=>{console.log("success open"),e(),ie=n.result,ie.onversionchange=function(){ie==null||ie.close(),alert("app outdated, please reload the page")}}),n.addEventListener("blocked",()=>{t(),alert("app outdated, please reload the page")}),n.addEventListener("error",()=>{t(),console.error("Error",n.error)})}),Ur=()=>new Promise((e,t)=>{const n=ie==null?void 0:ie.transaction(Ce,"readonly"),r=n==null?void 0:n.objectStore(Ce).getAll();r==null||r.addEventListener("success",()=>{const o=r.result;e(o)}),r==null||r.addEventListener("error",()=>{t()})}),zr=async e=>new Promise((t,n)=>{const r=ie==null?void 0:ie.transaction(Ce,"readwrite"),o=r==null?void 0:r.objectStore(Ce),a=o==null?void 0:o.put({...e});a==null||a.addEventListener("success",()=>{t()}),a==null||a.addEventListener("error",()=>{n()})}),rs=async e=>new Promise((t,n)=>{const r=ie==null?void 0:ie.transaction(Ce,"readwrite"),o=r==null?void 0:r.objectStore(Ce),a=o==null?void 0:o.delete(e);a==null||a.addEventListener("success",()=>{t()}),a==null||a.addEventListener("error",()=>{n()})}),as=()=>new Promise((e,t)=>{const n=ie==null?void 0:ie.transaction(Ce,"readwrite"),r=n==null?void 0:n.objectStore(Ce),o=r==null?void 0:r.clear();o==null||o.addEventListener("success",()=>{e()}),o==null||o.addEventListener("error",()=>{t()})}),os=async()=>{await as()},ss=async e=>{const t=(await Ur()).reduce((a,s)=>(a[s.id]=s,a),{}),n={},r=ie==null?void 0:ie.transaction(Ce,"readwrite"),o=r==null?void 0:r.objectStore(Ce);e.forEach(a=>{t[a.id]?t[a.id].lastUpdatedTimestamp<a.lastUpdatedTimestamp&&(n[a.id]=a):n[a.id]=a}),await Promise.all(Object.values(n).map(a=>{const s=o==null?void 0:o.put(a);return new Promise((l,c)=>{s==null||s.addEventListener("success",()=>{l()}),s==null||s.addEventListener("error",()=>{c()})})}))};let re=j({inited:!1,bookmarks:[],mapBookmarks:new Map});const Vr=async()=>{const e=await Ur(),t=new Map,n=[];e.forEach(r=>{n[r.order]=r,t.set(r.id,r)}),D(re,{...i(re),bookmarks:n,mapBookmarks:t,inited:!0})};ns().then(async()=>{await Vr()}).catch(()=>{console.error("failed to init db")});const It=()=>i(re).inited,qr=()=>i(re).bookmarks,is=()=>i(re).mapBookmarks,ls=async e=>{var n;const t={id:Hr(),order:(((n=i(re).bookmarks.at(-1))==null?void 0:n.order)||i(re).bookmarks.length)+1,createdTimestamp:Date.now(),...e,lastUpdatedTimestamp:Date.now()};i(re).bookmarks.push(t),i(re).mapBookmarks.set(t.id,t),D(re,{...i(re)}),await zr(t)},cs=async e=>{const t={...e,lastUpdatedTimestamp:Date.now()};i(re).bookmarks[t.order]=t,i(re).mapBookmarks.set(t.id,t),D(re,{...i(re)}),await zr(t)},us=async e=>{const t=i(re).mapBookmarks.get(e);i(re).mapBookmarks.delete(e),i(re).bookmarks[(t==null?void 0:t.order)||0]=void 0,D(re,{...i(re)}),await rs(e)},ds=async()=>{D(re,{inited:!0,bookmarks:[],mapBookmarks:new Map}),await os()},fs=async(e="bookmarks-export.json")=>{const t=JSON.stringify({bookmarks:i(re).bookmarks}),n=new Blob([t],{type:"application/json"}),r=URL.createObjectURL(n),o=document.createElement("a");o.href=r,o.download=e,document.body.appendChild(o),o.click(),setTimeout(()=>{document.body.removeChild(o),URL.revokeObjectURL(r)},0)},Xn=async e=>{await ss(e),await Vr()};let Yr=j({});const Wr=()=>i(Yr),vs=e=>{D(Yr,e)};var hs=F('<input class="svelte-wip592">');function un(e,t){W(t,!0);let n=Y(t,"value",15,"");var r=hs();oe(()=>Te(r,"placeholder",t.placeholder)),En(r,n),L(e,r),X()}function gs(e,t){W(t,!0);let n=Y(t,"dialog",7);const r=3,o=50,a=5,s=.6,l=.3,c=.35,f=.95;let u=0,v=0,d=0,h=!1,g=!1,p=0,w=0,m=0;const _=()=>{u=0,v=0,h=!1,g=!1,p=0,w=0,m=0,d=0,b!==null&&(cancelAnimationFrame(b),b=null),y=null};let b=null,y=null;const E=A=>{if(!n()){console.warn("Touch start: No dialog element");return}if(t.sidebarState!=="opened"&&t.sidebarState!=="closed"){console.warn(`Touch start: Invalid sidebar state: ${t.sidebarState}`);return}u=A.touches[0].clientX,v=A.touches[0].clientY,d=performance.now(),h=!0,g=!1},T=A=>t.sidebarState==="closed"&&A>0||t.sidebarState==="closeSwiping"&&A>0||t.sidebarState==="opened"&&A<0||t.sidebarState==="openSwiping"&&A<0,C=A=>{if(n()){if(n().style.setProperty("--transition-timing","0s"),!n().open&&t.sidebarState==="closed")try{n().showModal(),n().offsetWidth}catch(U){console.error("Error opening dialog:",U);return}t.onSwipe();try{const U=window.getComputedStyle(n()),M=U.transform||U.webkitTransform||"";if(w=n().offsetWidth,t.sidebarState==="closeSwiping"||t.sidebarState==="closed"?p=-w:(t.sidebarState==="openSwiping"||t.sidebarState==="opened")&&(p=0),M&&M!=="none")try{p=new DOMMatrix(M).m41}catch{console.warn("Could not parse transform matrix, using default position")}g=!0}catch(U){console.error("Error during swipe initialization:",U),_()}}},k=()=>{if(!n())return;const U=Math.abs(p+m*w/100)/w;n().style.setProperty("--backdrop-bg",`rgba(0, 0, 0, ${.25*(1-U)})`)},x=()=>{if(b=null,!y||!h||!n()||Cn())return;const{x:A,y:U}=y;y=null;const M=A-u,H=U-v,K=Math.abs(M)>Math.abs(H),ae=Math.abs(M)>r;if(!g)if(K&&ae&&T(M))try{C(M)}catch(we){console.error("Error initializing swipe:",we),_();return}else return;if(!T(M))return;n().style.setProperty("--transition-timing","0s");let I=p+M*f;const Z=-w;I=Math.max(Z,Math.min(0,I)),n().style.transform=`translate3d(${I}px, 0, 0)`,m=(I-p)/w*100,k()},B=A=>{if(!h)return;const U=A.touches[0].clientX,M=A.touches[0].clientY;y={x:U,y:M},b===null&&(b=requestAnimationFrame(x)),g&&Math.abs(U-u)>Math.abs(M-v)&&A.preventDefault()},N=A=>{const U=Math.abs(A);if(U>=s)return a;if(U>=l){const M=(U-l)/(s-l);return o-M*(o-a)}else return o},O=(A,U)=>{if(Math.abs(A)>=s)return c*.5;const H=Math.abs(m)/100;return U?c*Math.max(.5,1-H):c*Math.max(.5,H)},z=A=>{var I,Z;if(b!==null&&(cancelAnimationFrame(b),b=null),y=null,!h||!n()){_();return}if(!g){_();return}let U=0;if((I=A==null?void 0:A.changedTouches)!=null&&I[0]){const $=A.changedTouches[0].clientX,Ae=performance.now()-d;Ae>0&&(U=($-u)/Ae)}const M=N(U);let H=null;t.sidebarState==="closeSwiping"?H=Math.abs(m)>M||U>l?"open":"close":t.sidebarState==="openSwiping"&&(H=Math.abs(m)>M||U<-.3?"close":"open");const K=t.sidebarState==="closeSwiping"&&H==="open"||t.sidebarState==="openSwiping"&&H==="close",ae=O(U,K);n().style.setProperty("--transition-timing",`${ae}s`),n().offsetWidth,n().style.transform="",H==="open"?t.onOpen():H==="close"&&t.onClose(),(Z=n())==null||Z.style.removeProperty("--backdrop-bg"),_()};he(()=>(document.addEventListener("touchstart",E,{passive:!0}),document.addEventListener("touchmove",B,{passive:!1}),document.addEventListener("touchend",z,{passive:!0}),document.addEventListener("touchcancel",z,{passive:!0}),()=>{document.removeEventListener("touchstart",E),document.removeEventListener("touchmove",B),document.removeEventListener("touchend",z),document.removeEventListener("touchcancel",z),b!==null&&cancelAnimationFrame(b)})),X()}var ps=F('<dialog><div class="dialogInner svelte-1in1s0g"><!></div></dialog> <!> <!>',1);function _s(e,t){W(t,!0);let n=350,r=j(null),o=j(null),a=ee(Pr);const s=()=>{t.blocked||qe({type:"close"})},l=()=>{t.blocked||qe({type:"open"})},c=()=>{qe({type:"opened"})},f=()=>{qe({type:"closed"})},u=()=>{qe({type:"swipe"})},v=T=>{T.preventDefault(),s()};he(()=>{var T,C;return(T=i(r))==null||T.addEventListener("close",f),(C=i(r))==null||C.addEventListener("cancel",v),()=>{var k,x;(k=i(r))==null||k.removeEventListener("close",f),(x=i(r))==null||x.removeEventListener("cancel",v)}});const d=()=>{var T,C,k;(T=i(r))==null||T.style.removeProperty("--transition-timing"),(C=i(r))==null||C.style.removeProperty("transform"),(k=i(r))==null||k.style.removeProperty("--backdrop-bg")};ce(()=>{var T,C,k;if(i(a),console.log(i(a).type),!!i(r))switch(i(a).type){case"closeSwiping":{const x=setTimeout(()=>{s()},3e3);return()=>{clearTimeout(x)}}case"openSwiping":{const x=setTimeout(()=>{l()},3e3);return()=>{clearTimeout(x)}}case"opening":{i(r).open||i(r).showModal(),i(r).getBoundingClientRect();const x=setTimeout(()=>{d()},n+1),B=()=>{clearTimeout(x),d()};return(T=i(r))==null||T.addEventListener("transitionend",B,{once:!0}),c(),()=>{var N;(N=i(r))==null||N.removeEventListener("transitionend",B)}}case"closing":{const x=setTimeout(()=>{i(a).type==="closing"&&f()},n+1),B=()=>{clearTimeout(x),f()};return(C=i(r))==null||C.addEventListener("transitionend",B,{once:!0}),()=>{var N;(N=i(r))==null||N.removeEventListener("transitionend",B)}}case"closed":(k=i(r))==null||k.close(),d();break;case"opened":d();break}});var h=ps(),g=q(h),p=S(g),w=S(p);{var m=T=>{var C=pe(),k=q(C);Ne(k,()=>t.children),L(T,C)};V(w,T=>{i(a).type!=="closed"&&T(m)})}_e(p,T=>D(o,T),()=>i(o)),_e(g,T=>D(r,T),()=>i(r));var _=P(g,2);{var b=T=>{Nr(T,{get dialog(){return i(r)},get dialogInner(){return i(o)},onClose:s})};V(_,T=>{i(a).type==="opened"&&!t.blocked&&T(b)})}var y=P(_,2);{var E=T=>{gs(T,{onClose:s,onOpen:l,onSwipe:u,get sidebarState(){return i(a).type},get dialog(){return i(r)}})};V(y,T=>{(i(a).type==="closed"||i(a).type==="opened"||i(a).type==="openSwiping"||i(a).type==="closeSwiping")&&!t.blocked&&T(E)})}oe(()=>Q(g,1,ne([{open:i(a).type==="opened",hidden:t.blocked,isAnimationOn:le.working&&(!le.isSwiping||!t.blocked)}]),"svelte-1in1s0g")),L(e,h),X()}var ms=F("<button> </button>");function We(e,t){var n=ms();n.__click=function(...o){var a;(a=t.onClick)==null||a.apply(this,o)};var r=S(n);oe(()=>{Te(n,"type",t.type),Q(n,1,ne([{selectedTag:t.style==="selected"}]),"svelte-ep3nju"),it(r,t.title)}),L(e,n)}Se(["click"]);const ws=e=>{e.preventDefault(),lt("settings")};var ys=F("<div></div>"),bs=F('<div class="sidebarFixed svelte-nyix1t"><div class="nav svelte-nyix1t"><!> <a class="link svelte-nyix1t"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Settings</span></a></div> <div class="searchWrapper svelte-nyix1t"><!></div> <!></div> <div class="tags svelte-nyix1t"></div>',1),ks=F("<div></div>"),Ss=F('<div class="sidebar svelte-nyix1t"><div class="sidebarFixed svelte-nyix1t"><div class="searchWrapper svelte-nyix1t"><!></div> <!></div> <div class="tags svelte-nyix1t"></div></div>');function Es(e,t){W(t,!0);let n=j(""),r=ee(()=>{var g;return((g=new URLSearchParams(R.search).get("selectedTags"))==null?void 0:g.split(","))||[]});const o=()=>{const g=Ie();g.includes("settings")||g.push("settings");const p=new URLSearchParams(R.search);return p.set("stackPages",g.join(",")),`${R.pathname}?${p}`},a=g=>{const p=new URLSearchParams(R.search);p.set("selectedTags",[...i(r),g].join(",")),sn(`${R.pathname}${p.size>0?`?${p.toString()}`:""}`),D(n,"")},s=g=>{const p=new URLSearchParams(R.search),w=i(r).filter(m=>m!==g);w.length===0?p.delete("selectedTags"):p.set("selectedTags",w.join(",")),sn(`${R.pathname}${p.size>0?`?${p.toString()}`:""}`)};let l=ee(()=>It()?Object.values(Wr()).filter(g=>!i(r).some(p=>g.name===p)):[]),c=ee(o),f=ee(()=>Ie().length>0);var u=pe(),v=q(u);{var d=g=>{_s(g,{get blocked(){return i(f)},children:(p,w)=>{var m=bs(),_=q(m),b=S(_),y=S(b);Or(y,{});var E=P(y,2);E.__click=[ws];var T=S(E);ke(T,()=>({"--size":"20px"})),ve(T.lastChild,{name:"settings"});var C=P(b,2),k=S(C);un(k,{placeholder:"Search tag",get value(){return i(n)},set value(O){D(n,O,!0)}});var x=P(C,2);{var B=O=>{var z=ys();Q(z,1,ne(["tags","selectedTags"]),"svelte-nyix1t"),He(z,20,()=>i(r),A=>A,(A,U)=>{We(A,{get title(){return U},onClick:()=>s(U),style:"selected"})}),L(O,z)};V(x,O=>{i(r).length>0&&O(B)})}var N=P(_,2);He(N,21,()=>i(l),O=>O.name,(O,z)=>{var A=pe(),U=q(A);{var M=H=>{We(H,{get title(){return i(z).name},onClick:()=>a(i(z).name)})};V(U,H=>{(i(n)===""||i(z).name.toLowerCase().indexOf(i(n).toLowerCase())!==-1)&&H(M)})}L(O,A)}),oe(()=>Te(E,"href",i(c))),L(p,m)},$$slots:{default:!0}})},h=g=>{var p=Ss(),w=S(p),m=S(w),_=S(m);un(_,{placeholder:"Search tag",get value(){return i(n)},set value(T){D(n,T,!0)}});var b=P(m,2);{var y=T=>{var C=ks();Q(C,1,ne(["tags","selectedTags"]),"svelte-nyix1t"),He(C,20,()=>i(r),k=>k,(k,x)=>{We(k,{get title(){return x},onClick:()=>s(x),style:"selected"})}),L(T,C)};V(b,T=>{i(r).length>0&&T(y)})}var E=P(w,2);He(E,21,()=>i(l),T=>T.name,(T,C)=>{var k=pe(),x=q(k);{var B=N=>{We(N,{get title(){return i(C).name},onClick:()=>a(i(C).name)})};V(x,N=>{(i(n)===""||i(C).name.toLowerCase().indexOf(i(n).toLowerCase())!==-1)&&N(B)})}L(T,k)}),L(g,p)};V(v,g=>{Wt()?g(d):g(h,!1)})}L(e,u),X()}Se(["click"]);var Ts=F('<div class="input-container svelte-hz572l"><input> <div class="error-message svelte-hz572l"><!></div></div>');function $t(e,t){W(t,!0);let n=Y(t,"value",15,""),r=Y(t,"error",3,"");var o=Ts(),a=S(o);a.__input=function(...u){var v;(v=t.onInput)==null||v.apply(this,u)};let s;var l=P(a,2),c=S(l);{var f=u=>{var v=ue();oe(()=>it(v,r())),L(u,v)};V(c,u=>{r()&&u(f)})}oe(u=>{Te(a,"placeholder",t.placeholder),s=Q(a,1,"svelte-hz572l",null,s,u)},[()=>({error:!!r()})]),Ye("blur",a,function(...u){var v;(v=t.onBlur)==null||v.apply(this,u)}),Ye("focus",a,function(...u){var v;(v=t.onFocus)==null||v.apply(this,u)}),En(a,n),L(e,o),X()}Se(["input"]);var Cs=F("<div></div>"),Ds=F('<form class="svelte-1ygex3u"><!> <!> <textarea placeholder="notes" class="svelte-1ygex3u"></textarea> <div class="boxtags"><div class="sidebarFixed"><!></div> <div class="tags svelte-1ygex3u"><!> <!></div> <div class="searchWrapper svelte-1ygex3u"><!></div></div> <button class="buttonSubmit svelte-1ygex3u" type="submit"> </button></form>');function Xr(e,t){W(t,!0);let n=Y(t,"initialTitle",3,""),r=Y(t,"initialUrl",3,""),o=Y(t,"initialDescription",3,""),a=Y(t,"initialTags",19,()=>[]),s=Y(t,"mode",3,"add"),l=j(""),c=j(se(n())),f=j(se(r())),u=j(se(o())),v=j(se(a().filter(I=>I!=="inbox")));const d=I=>{i(v).includes(I)||D(v,[...i(v),I],!0)},h=I=>{const Z=i(v).filter($=>$!==I);Z.length===0?D(v,[],!0):D(v,Z,!0)};let g=ee(()=>It()?[...qr().reduce((I,Z)=>(Z==null||Z.tags.forEach($=>{I.has($)||I.add($)}),I),new Set)]:[]),p=ee(()=>It()?i(g).filter(I=>!i(v).some(Z=>I===Z)&&I!=="inbox"):[]),w=ee(()=>i(p).find(I=>I.toLowerCase()===i(l).toLowerCase())||i(v).includes(i(l))),m=ee(()=>i(p).filter(I=>i(l)===""?!0:I.toLowerCase().indexOf(i(l).toLowerCase())!==-1).slice(0,i(w)||i(l)===""?3:2));const _=I=>{I.preventDefault(),t.onSubmit({title:i(c).trim().slice(0,256)||"unkwown",url:i(f).trim().slice(0,2048),description:i(u).trim().slice(0,2048),tags:i(v).length>0?i(v):["inbox"]})};var b=Ds(),y=S(b);$t(y,{placeholder:"url",get value(){return i(f)},set value(I){D(f,I,!0)}});var E=P(y,2);$t(E,{placeholder:"title",get value(){return i(c)},set value(I){D(c,I,!0)}});var T=P(E,2),C=P(T,2),k=S(C),x=S(k);{var B=I=>{var Z=Cs();Q(Z,1,ne(["tags","selectedTags"]),"svelte-1ygex3u"),He(Z,20,()=>i(v),$=>$,($,we)=>{We($,{get title(){return we},onClick:()=>h(we),type:"button",style:"selected"})}),L(I,Z)};V(x,I=>{i(v).length>0&&I(B)})}var N=P(k,2),O=S(N);{var z=I=>{var Z=pe(),$=q(Z);He($,16,()=>i(m),we=>we,(we,Ae)=>{We(we,{get title(){return Ae},onClick:()=>d(Ae)})}),L(I,Z)};V(O,I=>{i(l)!==""&&I(z)})}var A=P(O,2);{var U=I=>{We(I,{get title(){return i(l)},onClick:()=>{d(i(l)),D(l,"")}})};V(A,I=>{!i(w)&&i(l)!==""&&I(U)})}var M=P(N,2),H=S(M);$t(H,{placeholder:"search tag",get value(){return i(l)},set value(I){D(l,I,!0)}});var K=P(C,2),ae=S(K);oe(()=>it(ae,s()==="add"?"add":"edit")),Ye("submit",b,_),En(T,()=>i(u),I=>D(u,I)),L(e,b),X()}function Ls(e,t){W(t,!0);let n=j(!0);const r=()=>{t.onClose()},o=()=>{D(n,!1)},a=({title:s,url:l,description:c,tags:f})=>{cs({...t.bookmark,title:s,url:l,description:c,tags:f.map(u=>u.trim())}),o()};jr(e,{get shownDialog(){return i(n)},onClose:r,children:(s,l)=>{Xr(s,{get initialTitle(){return t.bookmark.title},get initialUrl(){return t.bookmark.url},get initialDescription(){return t.bookmark.description},get initialTags(){return t.bookmark.tags},onSubmit:a,mode:"edit"})},$$slots:{default:!0}}),X()}const xs=(e,t,n)=>{const r=Wr();t.bookmark.tags.forEach(o=>{if(i(n).includes(o)&&r[o].connections===1){const a=new URLSearchParams(R.search),s=i(n).filter(l=>l!==o);s.length===0?a.delete("selectedTags"):a.set("selectedTags",s.join(",")),Lo(`${R.pathname}${a.size>0?`?${a.toString()}`:""}`)}}),us(t.bookmark.id)},Ps=(e,t)=>{D(t,!0)},Os=(e,t,n)=>{D(t,!1),D(n,!0)},As=(e,t)=>{navigator.clipboard.writeText(t.bookmark.url),_o("Link copied to clipboard")};var Ms=F('<li class="bookmark svelte-w2wdui"><div class="bookmarkTitle svelte-w2wdui"><img class="bookmarkIcon" height="16" width="16" alt="icon"> <a class="bookmarkLink svelte-w2wdui" target="_blank" rel="noopener noreferrer"> </a></div> <div><button class="button svelte-w2wdui"><!> <!></button> <div><button class="menuButton svelte-w2wdui">Edit</button> <button class="menuButton svelte-w2wdui">Delete</button></div> <button><!> <!></button></div></li> <!>',1);function Bs(e,t){W(t,!0);let n=ee(()=>{var O;return((O=new URLSearchParams(R.search).get("selectedTags"))==null?void 0:O.split(","))||[]}),r=j(!1),o=j(!1),a=j(null),s=j(null);const l=O=>{var z,A;O.target!==i(s)&&O.target!==i(a)&&!((z=i(a))!=null&&z.contains(O.target))&&!((A=i(s))!=null&&A.contains(O.target))&&D(r,!1)},c=()=>{D(o,!1)};ce(()=>(document.addEventListener("click",l),()=>{document.removeEventListener("click",l)}));const f=O=>{try{return`https://www.google.com/s2/favicons?domain=${new URL(O).host}&sz=32`}catch{return""}};var u=Ms(),v=q(u),d=S(v),h=S(d),g=P(h,2),p=S(g),w=P(d,2),m=S(w);m.__click=[As,t];var _=S(m);ve(_,{name:"copy"});var b=P(_,2);nt(b,{children:(O,z)=>{var A=ue("copy link");L(O,A)}});var y=P(m,2),E=S(y);E.__click=[Os,r,o];var T=P(E,2);T.__click=[xs,t,n],_e(y,O=>D(s,O),()=>i(s));var C=P(y,2);C.__click=[Ps,r],Q(C,1,ne(["button","buttonMenu"]),"svelte-w2wdui");var k=S(C);ve(k,{name:"menu"});var x=P(k,2);nt(x,{children:(O,z)=>{var A=ue("show menu");L(O,A)}}),_e(C,O=>D(a,O),()=>i(a));var B=P(v,2);{var N=O=>{Ls(O,{get bookmark(){return t.bookmark},onClose:c})};V(B,O=>{i(o)&&O(N)})}oe(O=>{Te(h,"src",O),Te(g,"href",t.bookmark.url),it(p,t.bookmark.title),Q(w,1,ne(["bookmarkMenuWrapper",{bookmarkMenuWrapperActive:i(r)}]),"svelte-w2wdui"),Q(y,1,ne(["bookmarkMenu",{bookmarkShownMenu:i(r)}]),"svelte-w2wdui")},[()=>f(t.bookmark.url)]),L(e,u),X()}Se(["click"]);const ft=se({ref:null});var Is=F('<div class="emptyMessage svelte-6cnb4o">No bookmarks found</div>'),Rs=F('<div class="searchWrapper svelte-6cnb4o"><!></div> <div class="feed svelte-6cnb4o"><ul class="svelte-6cnb4o"><!> <!></ul></div>',1);function Ns(e,t){W(t,!0);let n=j(null),r=44,o=j(0),a=j(0),s=j(se([])),l=j(""),c=ee(()=>ft.ref),f=null;const u=ee(Co);ce(()=>{var k;i(l),i(u),(k=i(c))==null||k.scrollTo(0,0)});const v=()=>{f&&cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var x;const k=((x=i(c))==null?void 0:x.scrollTop)||0;D(a,Math.floor(k/r)*r)})},d=()=>{var k;v(),i(n)&&D(o,window.innerHeight-((k=i(n))==null?void 0:k.getBoundingClientRect().top))};he(()=>{d(),v()}),ce(()=>{var k;return(k=i(c))==null||k.addEventListener("scroll",v),window.addEventListener("resize",d),()=>{var x;(x=i(c))==null||x.removeEventListener("scroll",v),window.removeEventListener("resize",d)}}),ce(()=>{const k=qr(),x=[],B={};for(let N=k.length-1;N>=0;N--){const O=k[N];if(O&&!(i(u).length&&i(u).some(z=>!O.tags.includes(z)))&&!(i(l)&&!(O.title.toLowerCase().includes(i(l).toLowerCase())||O.url.toLowerCase().includes(i(l).toLowerCase())))){if(O.tags)for(const z of O.tags)B[z]?B[z].connections++:B[z]={name:z,connections:1};x.push(O)}}vs(B),D(s,x,!0)});const h=ee(()=>i(s).length*r);let p=ee(()=>{const k=Math.ceil(i(o)/r),x=Math.floor(i(a)/r);return i(s).slice(x,x+k)});var w=Rs(),m=q(w),_=S(m);un(_,{placeholder:"Search",get value(){return i(l)},set value(k){D(l,k,!0)}});var b=P(m,2),y=S(b),E=S(y);He(E,17,()=>i(p),k=>k.id,(k,x)=>{Bs(k,{get bookmark(){return i(x)}})});var T=P(E,2);{var C=k=>{var x=Is();L(k,x)};V(T,k=>{i(p).length===0&&It()&&k(C)})}_e(y,k=>D(n,k),()=>i(n)),oe(k=>{Bt(b,`height: ${k??""}px`),Bt(y,`height: ${i(o)??""}px; transform: translateY(${i(a)??""}px)`)},[()=>Math.max(i(h),30)]),L(e,w),X()}var js=F('<!> <div class="content svelte-cu0ar8"><!></div>',1);function Fs(e){var t=js(),n=q(t);Es(n,{});var r=P(n,2),o=S(r);Ns(o,{}),L(e,t)}var Ve=(e=>(e.Light="light",e.System="system",e.Dark="dark",e))(Ve||{});let Kr=j(se(localStorage.getItem("colorScheme")||"system"));const Hs=e=>{localStorage.setItem("colorScheme",e),e==="system"?window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.dataset.colorScheme="dark":document.documentElement.dataset.colorScheme="light":document.documentElement.dataset.colorScheme=e,D(Kr,e,!0)},Us=()=>i(Kr);var zs=F('<div class="wrapper svelte-f3jwyy"><fieldset class="switcher svelte-f3jwyy"><legend class="vh svelte-f3jwyy">Color Scheme</legend> <input id="light" type="radio" aria-label="Light"> <label for="light" title="Light" aria-label="Light"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <input id="system" type="radio" aria-label="System"> <label for="system" title="System" aria-label="System"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <input id="dark" type="radio" aria-label="Dark"> <label for="dark" title="Dark" aria-label="Dark"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <div class="wrapSwitcherStatus svelte-f3jwyy"><div class="switcherStatus svelte-f3jwyy"></div></div></fieldset></div>');function Vs(e,t){W(t,!0);const n=ee(Us),r=w=>{const m=w.target.value;Hs(m)},o="color-scheme-switcher";var a=zs(),s=S(a),l=P(S(s),2);Q(l,1,ne(["vh","input"]),"svelte-f3jwyy"),Te(l,"name",o),l.__change=r;var c=P(l,2);Q(c,1,ne(["switcherButton","light"]),"svelte-f3jwyy");var f=S(c);ke(f,()=>({"--size":"20px"})),ve(f.lastChild,{name:"sun"});var u=P(c,2);Q(u,1,ne(["vh","input"]),"svelte-f3jwyy"),Te(u,"name",o),u.__change=r;var v=P(u,2);Q(v,1,ne(["switcherButton","system"]),"svelte-f3jwyy");var d=S(v);ke(d,()=>({"--size":"14px"})),ve(d.lastChild,{name:"a"});var h=P(v,2);Q(h,1,ne(["vh","input"]),"svelte-f3jwyy"),Te(h,"name",o),h.__change=r;var g=P(h,2);Q(g,1,ne(["switcherButton","dark"]),"svelte-f3jwyy");var p=S(g);return ke(p,()=>({"--size":"20px"})),ve(p.lastChild,{name:"moon"}),oe(()=>{Kt(l,Ve.Light),Gt(l,i(n)===Ve.Light),Kt(u,Ve.System),Gt(u,i(n)===Ve.System),Kt(h,Ve.Dark),Gt(h,i(n)===Ve.Dark)}),L(e,a),X({handleChange:r})}Se(["change"]);const qs=()=>{lt("importBookmarks")},Ys=()=>{lt("exportBookmarks")},Ws=()=>{lt("clearStore")};var Xs=F('<div class="version svelte-aq1unj"><span> </span></div>'),Ks=F('<div class="svelte-aq1unj"><!> <ul class="svelte-aq1unj"><li class="svelte-aq1unj"><button class="button svelte-aq1unj"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-aq1unj">import bookmarks</span></button></li> <li class="svelte-aq1unj"><button class="button svelte-aq1unj"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-aq1unj">export bookmarks</span></button></li> <li class="svelte-aq1unj"><button class="button svelte-aq1unj"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-aq1unj">clear store</span></button></li></ul> <!></div>');function Gs(e,t){W(t,!0);let n=j("");he(()=>{const m=new AbortController;return fetch("/build-metadata.json",{signal:m.signal}).then(_=>_.json()).then(_=>{D(n,`${_.buildHash}`)}),()=>{m.abort()}});var r=Ks(),o=S(r);Vs(o,{});var a=P(o,2),s=S(a),l=S(s);l.__click=[qs];var c=S(l);ke(c,()=>({"--size":"20px"})),ve(c.lastChild,{name:"import"});var f=P(s,2),u=S(f);u.__click=[Ys];var v=S(u);ke(v,()=>({"--size":"20px"})),ve(v.lastChild,{name:"export"});var d=P(f,2),h=S(d);h.__click=[Ws];var g=S(h);ke(g,()=>({"--size":"20px"})),ve(g.lastChild,{name:"trash"});var p=P(a,2);{var w=m=>{var _=Xs(),b=S(_),y=S(b);oe(E=>it(y,`version: 0.0.1 build_date: "${E??""}" build_hash:
				${i(n)??""}`),[()=>new Date(1745917410132).toISOString().replaceAll("T"," ").replace(/\..*/,"")]),L(m,_)};V(p,m=>{i(n)&&m(w)})}L(e,r),X()}Se(["click"]);function Js(e,t){W(t,!1);const n=()=>{Mr()},r=({title:o,url:a,description:s,tags:l})=>{ls({title:o,url:a,description:s,tags:l.map(c=>c.trim())}),n()};Tn(),Xr(e,{onSubmit:r}),X()}var Zs=F('<button type="button"><!></button>');function Ue(e,t){let n=Y(t,"type",3,"standard");var r=Zs();r.__click=function(...a){var s;(s=t.onClick)==null||s.apply(this,a)};var o=S(r);Ne(o,()=>t.children),oe(()=>Q(r,1,ne(["button",{dangerous:n()==="dangerous"}]),"svelte-1vemsn")),L(e,r)}Se(["click"]);var Qs=F('<div class="loader svelte-1ygr46m"></div>');function Dn(e){var t=Qs();L(e,t)}const Kn=async(e,t)=>{const n=e.target;!n.files||n.files.length===0||await t(n.files[0])};var $s=F('<div class="mobileContainer svelte-1n1lt8i"><!></div> <input type="file" accept=".json, .html" style="display: none;">',1),ei=F('<div class="desktopContainer svelte-1n1lt8i"><div class="desktopButtonContainer svelte-1n1lt8i"><!></div> <div role="button" tabindex="-1"><div tabindex="-1" class="dropzone-content svelte-1n1lt8i"><p class="svelte-1n1lt8i">Drag and drop your file here</p> <p class="svelte-1n1lt8i">or</p></div> <input type="file" accept=".json, .html" style="display: none;"></div></div>'),ti=F('<p class="message svelte-1n1lt8i">Select a file to import your bookmarks</p> <!>',1),ni=F('<p class="message svelte-1n1lt8i">Importing bookmarks...</p> <!>',1),ri=F('<p class="message success svelte-1n1lt8i">Bookmarks imported successfully!</p> <div class="buttonContainer svelte-1n1lt8i"><!></div>',1),ai=F('<p class="message error svelte-1n1lt8i">Something went wrong</p> <div class="buttonContainer svelte-1n1lt8i"><!></div>',1),oi=F('<div class="content svelte-1n1lt8i"><!></div>');function si(e,t){W(t,!0);let n=j("idle"),r=j(null),o=j(!1),a=j(null);const s=()=>{Yt()};ce(()=>{rt(i(n)==="loading")}),he(()=>(i(r)&&i(r).addEventListener("cancel",_=>{_.preventDefault(),_.stopImmediatePropagation(),_.stopPropagation()}),()=>{rt(!1)}));const l=async _=>{const b=await _.text(),y=JSON.parse(b),E=[];if(!y.bookmarks)throw new Error("Invalid import file format");for(const T of Object.values(y.bookmarks))T&&E.push(T);await Xn(E)},c=async _=>{D(n,"loading");try{if(_.name.endsWith(".json"))await l(_);else if(_.name.endsWith(".html"))await Xn(await Qo(_));else throw new Error("Unsupported file format. Please upload a JSON or HTML file.");await new Promise(b=>{setTimeout(()=>{b(!0)},1e3)}),D(n,"success")}catch{D(n,"error")}},f=()=>{var _;(_=i(r))==null||_.click()},u=_=>{_.preventDefault(),_.stopPropagation(),D(o,!0)},v=_=>{_.preventDefault(),_.stopPropagation(),D(o,!1)},d=_=>{_.preventDefault(),_.stopPropagation(),D(o,!0)},h=async _=>{var y;if(_.preventDefault(),_.stopPropagation(),D(o,!1),!((y=_.dataTransfer)!=null&&y.files)||_.dataTransfer.files.length===0)return;const b=_.dataTransfer.files[0];if(b.type!=="application/json"&&b.type!=="text/html"){D(n,"error");return}await c(b)};var g=oi(),p=S(g);{var w=_=>{var b=ti(),y=P(q(b),2);{var E=C=>{var k=$s(),x=q(k),B=S(x);Ue(B,{onClick:f,children:(O,z)=>{var A=ue("Select File");L(O,A)},$$slots:{default:!0}});var N=P(x,2);N.__change=[Kn,c],_e(N,O=>D(r,O),()=>i(r)),L(C,k)},T=C=>{var k=ei(),x=S(k),B=S(x);Ue(B,{onClick:f,children:(z,A)=>{var U=ue("Select File");L(z,U)},$$slots:{default:!0}});var N=P(x,2),O=P(S(N),2);O.__change=[Kn,c],_e(O,z=>D(r,z),()=>i(r)),_e(N,z=>D(a,z),()=>i(a)),oe(()=>Q(N,1,ne(["dropzone",{active:i(o)}]),"svelte-1n1lt8i")),Ye("dragenter",N,u),Ye("dragover",N,d),Ye("dragleave",N,v),Ye("drop",N,h),L(C,k)};V(y,C=>{Wt()?C(E):C(T,!1)})}L(_,b)},m=(_,b)=>{{var y=T=>{var C=ni(),k=P(q(C),2);Dn(k),L(T,C)},E=(T,C)=>{{var k=B=>{var N=ri(),O=P(q(N),2),z=S(O);Ue(z,{onClick:s,children:(A,U)=>{var M=ue("close");L(A,M)},$$slots:{default:!0}}),L(B,N)},x=(B,N)=>{{var O=z=>{var A=ai(),U=P(q(A),2),M=S(U);Ue(M,{onClick:()=>{D(n,"idle")},children:(H,K)=>{var ae=ue("Try Again");L(H,ae)},$$slots:{default:!0}}),L(z,A)};V(B,z=>{i(n)==="error"&&z(O)},N)}};V(T,B=>{i(n)==="success"?B(k):B(x,!1)},C)}};V(_,T=>{i(n)==="loading"?T(y):T(E,!1)},b)}};V(p,_=>{i(n)==="idle"?_(w):_(m,!1)})}L(e,g),X()}Se(["change"]);var ii=(e,t)=>D(t,"json"),li=(e,t)=>D(t,"html"),ci=F('<p class="message svelte-8fv3f2">Export bookmarks</p> <div class="format-switcher svelte-8fv3f2"><div class="switcher-wrapper svelte-8fv3f2"><div class="background svelte-8fv3f2"></div> <div class="active-indicator svelte-8fv3f2"></div> <button>JSON</button> <button>HTML</button></div> <p class="format-description svelte-8fv3f2"><!></p></div> <div class="buttonContainer svelte-8fv3f2"><!></div>',1),ui=F('<p class="message svelte-8fv3f2">Exporting data...</p> <div class="buttonContainer svelte-8fv3f2"><!></div>',1),di=F('<p class="message svelte-8fv3f2">Bookmarks exported successfully!</p> <div class="buttonContainer svelte-8fv3f2"><!></div>',1),fi=F('<div class="content svelte-8fv3f2"><!></div>');function vi(e,t){W(t,!0);let n=j("idle"),r=j("json");const o=()=>{Yt()};ce(()=>{rt(i(n)==="loading")}),he(()=>()=>{rt(!1)});const a=async()=>{D(n,"loading"),setTimeout(async()=>{if(i(r)==="json")await fs().finally(()=>{D(n,"success")});else try{const u=$o(is()),v=new Blob([u],{type:"text/html"}),d=URL.createObjectURL(v),h=document.createElement("a");h.href=d,h.download=`bookmarks_${new Date().toLocaleDateString().replace(/\//g,"_")}.html`,document.body.appendChild(h),h.click(),document.body.removeChild(h),URL.revokeObjectURL(d),D(n,"success")}catch(u){console.error("Error exporting as HTML:",u),D(n,"success")}},0)};var s=fi(),l=S(s);{var c=u=>{var v=ci(),d=P(q(v),2),h=S(d),g=P(S(h),2),p=P(g,2);let w;p.__click=[ii,r];var m=P(p,2);let _;m.__click=[li,r];var b=P(h,2),y=S(b);{var E=x=>{var B=ue("JSON format (App compatible, a faster format)");L(x,B)},T=x=>{var B=ue("HTML format (Browser compatible)");L(x,B)};V(y,x=>{i(r)==="json"?x(E):x(T,!1)})}var C=P(d,2),k=S(C);Ue(k,{onClick:a,children:(x,B)=>{var N=ue("Export");L(x,N)},$$slots:{default:!0}}),oe((x,B)=>{Bt(g,`transform: translateX(${i(r)==="json"?"0":"calc(100% + 4px)"})`),w=Q(p,1,"switcher-option svelte-8fv3f2",null,w,x),_=Q(m,1,"switcher-option svelte-8fv3f2",null,_,B)},[()=>({active:i(r)==="json"}),()=>({active:i(r)==="html"})]),L(u,v)},f=(u,v)=>{{var d=g=>{var p=ui(),w=P(q(p),2),m=S(w);Dn(m),L(g,p)},h=(g,p)=>{{var w=m=>{var _=di(),b=P(q(_),2),y=S(b);Ue(y,{onClick:o,children:(E,T)=>{var C=ue("Close");L(E,C)},$$slots:{default:!0}}),L(m,_)};V(g,m=>{i(n)==="success"&&m(w)},p)}};V(u,g=>{i(n)==="loading"?g(d):g(h,!1)},v)}};V(l,u=>{i(n)==="idle"?u(c):u(f,!1)})}L(e,s),X()}Se(["click"]);var hi=F('<p class="message svelte-49o1d">Are you sure you want to clear the store?</p> <div class="buttonContainer svelte-49o1d"><!></div>',1),gi=F('<p class="message svelte-49o1d">clearing store...</p> <div class="buttonContainer svelte-49o1d"><!></div>',1),pi=F('<p class="message svelte-49o1d">store cleared</p> <div class="buttonContainer svelte-49o1d"><!></div>',1),_i=F('<div class="content svelte-49o1d"><!></div>');function mi(e,t){W(t,!0);let n=j("idle");const r=()=>{Yt()};ce(()=>{rt(i(n)==="loading")}),he(()=>()=>{rt(!1)});const o=()=>{D(n,"loading"),ds().finally(()=>{setTimeout(()=>{D(n,"success")},1e3)})};var a=_i(),s=S(a);{var l=f=>{var u=hi(),v=P(q(u),2),d=S(v);Ue(d,{onClick:o,type:"dangerous",children:(h,g)=>{var p=ue("clear store");L(h,p)},$$slots:{default:!0}}),L(f,u)},c=(f,u)=>{{var v=h=>{var g=gi(),p=P(q(g),2),w=S(p);Dn(w),L(h,g)},d=(h,g)=>{{var p=w=>{var m=pi(),_=P(q(m),2),b=S(_);Ue(b,{onClick:r,children:(y,E)=>{var T=ue("close");L(y,T)},$$slots:{default:!0}}),L(w,m)};V(h,w=>{i(n)==="success"&&w(p)},g)}};V(f,h=>{i(n)==="loading"?h(v):h(d,!1)},u)}};V(s,f=>{i(n)==="idle"?f(l):f(c,!1)})}L(e,a),X()}var wi=F('<div class="svelte-t4bw1y"><!></div>');function ct(e,t){W(t,!0);let n=j(null);he(()=>{i(n)&&(i(n).getBoundingClientRect(),i(n).style.opacity="1")});var r=wi(),o=S(r);Ne(o,()=>t.children),_e(r,a=>D(n,a),()=>i(n)),L(e,r),X()}const Gn=(e,t=Qn)=>{var n=pe(),r=q(n);{var o=s=>{ct(s,{children:(l,c)=>{Gs(l,{})},$$slots:{default:!0}})},a=(s,l)=>{{var c=u=>{ct(u,{children:(v,d)=>{Js(v,{})},$$slots:{default:!0}})},f=(u,v)=>{{var d=g=>{ct(g,{children:(p,w)=>{si(p,{})},$$slots:{default:!0}})},h=(g,p)=>{{var w=_=>{ct(_,{children:(b,y)=>{vi(b,{})},$$slots:{default:!0}})},m=(_,b)=>{{var y=E=>{ct(E,{children:(T,C)=>{mi(T,{})},$$slots:{default:!0}})};V(_,E=>{t()==="clearStore"&&E(y)},b)}};V(g,_=>{t()==="exportBookmarks"?_(w):_(m,!1)},p)}};V(u,g=>{t()==="importBookmarks"?g(d):g(h,!1)},v)}};V(s,u=>{t()==="newBookmark"?u(c):u(f,!1)},l)}};V(r,s=>{t()==="settings"?s(o):s(a,!1)})}L(e,n)};var yi=F("<!> <!>",1);function bi(e,t){W(t,!0);let n=ee(xo);ce(()=>{console.log(i(n))});var r=yi(),o=q(r);Fs(o);var a=P(o,2);{var s=c=>{var f=pe(),u=q(f);He(u,17,()=>i(n),no,(v,d,h)=>{const g=ee(()=>{var p;return h!==i(n).length-1&&!!((p=i(n)[h+1])!=null&&p.shown)});Wn(v,{get shown(){return i(d).shown},get hidden(){return i(g)},children:(p,w)=>{Gn(p,()=>i(d).page)},$$slots:{default:!0}})}),L(c,f)},l=(c,f)=>{{var u=v=>{const d=ee(()=>i(n).length===1);Wn(v,{onBack:()=>Br(),get shown(){return i(n)[i(n).length-1].shown},hidden:!1,get isLastDialog(){return i(d)},children:(h,g)=>{Gn(h,()=>i(n)[i(n).length-1].page)},$$slots:{default:!0}})};V(c,v=>{i(n).length>0&&v(u)},f)}};V(a,c=>{Wt()?c(s):c(l,!1)})}L(e,r),X()}function ki(e,t){W(t,!1),he(()=>{Qt(),document.addEventListener("focusin",Qt),document.addEventListener("focusout",Qt),document.addEventListener("touchmove",function(n){Cn()&&n.preventDefault()},{passive:!1})}),Tn(),X()}var Si=F('<!> <main><!> <div class="container svelte-1qxbcz0"><!></div> <!></main>',1);function Ei(e,t){W(t,!0),he(async()=>{await new Promise(u=>setTimeout(u,100)),await qa(),le.working=!0});let n=ee(()=>Ie().length>0);var r=Si(),o=q(r);ki(o,{});var a=P(o,2),s=S(a);Bo(s,{});var l=P(s,2),c=S(l);bi(c,{});var f=P(l,2);wo(f,{}),_e(a,u=>ft.ref=u,()=>ft==null?void 0:ft.ref),oe(()=>{Bt(a,`--swiping-ratio: ${le.swipingRatio}; --transition-timing-default: ${le.duration}s;`),Q(a,1,ne(["main",{isAnimationOn:le.working&&!le.isSwiping,open:i(n)}]),"svelte-1qxbcz0")}),L(e,r),X()}$a(Ei,{target:document.getElementById("app")});
