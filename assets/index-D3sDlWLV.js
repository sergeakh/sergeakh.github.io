const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/MobileSidebar-Cp0E2sKc.js","assets/MobileSidebar-CUCj13hK.css","assets/About-BfDCzo6b.js","assets/About-DhrgDPiX.css","assets/AccessKeys-DnQH7XBY.js","assets/api-C5JaEwh0.js","assets/AccessKeys-DF5NA1tk.css","assets/Account-ToiJ0iKn.js","assets/Account-LI89flHz.css","assets/Auth-BBSBf_Dh.js","assets/Auth-CnX7iJxK.css","assets/ClearStore-Cl_yrhS2.js","assets/ClearStore-DiVqV26R.css","assets/ConfirmAccessKey-DefZ9sxc.js","assets/Input-Cv9ybiUC.js","assets/Input-KO0oOGze.css","assets/ConfirmAccessKey-BEOXyioc.css","assets/EditNote-C-FQtLWt.js","assets/NoteForm-l_1esU3e.js","assets/NoteForm-uWrWhO-G.css","assets/Exit-vf1h5zKj.js","assets/Exit-B7Im9AKN.css","assets/ExportData-pMZEPDHD.js","assets/ExportData-Gq8zQKAw.css","assets/ImportData-D_4ck2lu.js","assets/ImportData-CZGzVRRc.css","assets/NewNote-Cgavf-Q3.js","assets/Settings-DEYZLQji.js","assets/Settings-BFT2w4xS.css","assets/Signin-BxpuXNcr.js","assets/Signup-Cdomw4Sh.js","assets/Subscription-D6bssVBC.js","assets/Subscription-2ryrsj8c.css","assets/Sync-Dvu8Cowp.js","assets/Sync-DZBzq12x.css"])))=>i.map(i=>d[i]);
var fs=Object.defineProperty;var fa=e=>{throw TypeError(e)};var vs=(e,t,n)=>t in e?fs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var bn=(e,t,n)=>vs(e,typeof t!="symbol"?t+"":t,n),br=(e,t,n)=>t.has(e)||fa("Cannot "+n);var oe=(e,t,n)=>(br(e,t,"read from private field"),n?n.call(e):t.get(e)),ze=(e,t,n)=>t.has(e)?fa("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),$e=(e,t,n,r)=>(br(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Ot=(e,t,n)=>(br(e,t,"access private method"),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();const Ra=!1;var jr=Array.isArray,hs=Array.prototype.indexOf,zr=Array.from,Lr=Object.defineProperty,an=Object.getOwnPropertyDescriptor,Ba=Object.getOwnPropertyDescriptors,gs=Object.prototype,_s=Array.prototype,Vr=Object.getPrototypeOf,va=Object.isExtensible;const ie=()=>{};function ps(e){return typeof e?.then=="function"}function ms(e){return e()}function rr(e){for(var t=0;t<e.length;t++)e[t]()}function ws(){var e,t,n=new Promise((r,a)=>{e=r,t=a});return{promise:n,resolve:e,reject:t}}function ys(e,t,n=!1){return e===void 0?n?t():t:e}const Ye=2,qr=4,lr=8,_n=16,yt=32,Kt=64,Fa=128,et=256,ar=512,Ie=1024,tt=2048,Lt=4096,at=8192,Wt=16384,Kr=32768,Bn=65536,ha=1<<17,Ss=1<<18,Fn=1<<19,Ha=1<<20,Or=1<<21,Wr=1<<22,Ft=1<<23,Ht=Symbol("$state"),bs=Symbol("legacy props"),ks=Symbol(""),Yr=new class extends Error{constructor(){super(...arguments);bn(this,"name","StaleReactionError");bn(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function Cs(){throw new Error("https://svelte.dev/e/await_outside_boundary")}function Ua(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Es(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Ps(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function xs(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Ds(e){throw new Error("https://svelte.dev/e/effect_orphan")}function As(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Ns(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function Ts(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Ls(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Os(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}const cr=1,ur=2,ja=4,Ms=8,Is=16,Rs=1,Bs=2,Fs=4,Hs=8,Us=16,js=1,zs=2,ke=Symbol(),Vs="http://www.w3.org/1999/xhtml";let qs=!1;function za(e){return e===this.v}function Ks(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Va(e){return!Ks(e,this.v)}let pn=!1,Ws=!1;function Ys(){pn=!0}let fe=null;function fn(e){fe=e}function me(e){return qa().get(e)}function we(e,t){return qa().set(e,t),t}function q(e,t=!1,n){fe={p:fe,c:null,e:null,s:e,x:null,l:pn&&!t?{s:null,u:null,$:[]}:null}}function K(e){var t=fe,n=t.e;if(n!==null){t.e=null;for(var r of n)oo(r)}return e!==void 0&&(t.x=e),fe=t.p,e??{}}function mn(){return!pn||fe!==null&&fe.l===null}function qa(e){return fe===null&&Ua(),fe.c??(fe.c=new Map(Gs(fe)||void 0))}function Gs(e){let t=e.p;for(;t!==null;){const n=t.c;if(n!==null)return n;t=t.p}return null}const Xs=new WeakMap;function Zs(e){var t=$;if(t===null)return J.f|=Ft,e;if((t.f&Kr)===0){if((t.f&Fa)===0)throw!t.parent&&e instanceof Error&&Ka(e),e;t.b.error(e)}else Gr(e,t)}function Gr(e,t){for(;t!==null;){if((t.f&Fa)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e instanceof Error&&Ka(e),e}function Ka(e){const t=Xs.get(e);t&&(Lr(e,"message",{value:t.message}),Lr(e,"stack",{value:t.stack}))}let Pn=[],Mr=[];function Wa(){var e=Pn;Pn=[],rr(e)}function Js(){var e=Mr;Mr=[],rr(e)}function dr(e){Pn.length===0&&queueMicrotask(Wa),Pn.push(e)}function $s(){Pn.length>0&&Wa(),Mr.length>0&&Js()}function Qs(){const e=$.b;return e===null&&Cs(),e}function Hn(e){var t=Ye|tt,n=J!==null&&(J.f&Ye)!==0?J:null;return $===null||n!==null&&(n.f&et)!==0?t|=et:$.f|=Fn,{ctx:fe,deps:null,effects:null,equals:za,f:t,fn:e,reactions:null,rv:0,v:ke,wv:0,parent:n??$,ac:null}}function ei(e,t){let n=$;n===null&&Es();var r=n.b,a=void 0,o=Vt(ke),i=null,l=!J;return hi(()=>{try{var c=e();i&&Promise.resolve(c).catch(()=>{})}catch(g){c=Promise.reject(g)}var u=()=>c;a=i?.then(u,u)??Promise.resolve(c),i=a;var f=de,v=r.is_pending();l&&(r.update_pending_count(1),v||f.increment());const h=(g,d=void 0)=>{i=null,v||f.activate(),d?d!==Yr&&(o.f|=Ft,At(o,d)):((o.f&Ft)!==0&&(o.f^=Ft),At(o,g)),l&&(r.update_pending_count(-1),v||f.decrement()),Xa()};if(a.then(h,g=>h(null,g||"unknown")),f)return()=>{queueMicrotask(()=>f.neuter())}}),new Promise(c=>{function u(f){function v(){f===a?c(o):u(a)}f.then(v,v)}u(a)})}function L(e){const t=Hn(e);return fo(t),t}function fr(e){const t=Hn(e);return t.equals=Va,t}function Ya(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)dt(t[n])}}function ti(e){for(var t=e.parent;t!==null;){if((t.f&Ye)===0)return t;t=t.parent}return null}function Xr(e){var t,n=$;ft(ti(e));try{Ya(e),t=_o(e)}finally{ft(n)}return t}function Ga(e){var t=Xr(e);if(e.equals(t)||(e.v=t,e.wv=ho()),!Gt){var n=(Pt||(e.f&et)!==0)&&e.deps!==null?Lt:Ie;Ve(e,n)}}function ni(e,t,n){const r=mn()?Hn:fr;if(t.length===0){n(e.map(r));return}var a=de,o=$,i=ri(),l=Qs();Promise.all(t.map(c=>ei(c))).then(c=>{a?.activate(),i();try{n([...e.map(r),...c])}catch(u){(o.f&Wt)===0&&Gr(u,o)}a?.deactivate(),Xa()}).catch(c=>{l.error(c)})}function ri(){var e=$,t=J,n=fe,r=de;return function(){ft(e),nt(t),fn(n),r?.activate()}}function Xa(){ft(null),nt(null),fn(null)}const kr=new Set;let de=null,Qn=null,ga=new Set,or=[];function Za(){const e=or.shift();or.length>0&&queueMicrotask(Za),e()}let zt=[],vr=null,Ir=!1,er=!1;var Ln,cn,Ct,On,Mn,Rt,un,Bt,Et,dn,In,Rn,st,Ja,tr,Rr;const ir=class ir{constructor(){ze(this,st);bn(this,"current",new Map);ze(this,Ln,new Map);ze(this,cn,new Set);ze(this,Ct,0);ze(this,On,null);ze(this,Mn,!1);ze(this,Rt,[]);ze(this,un,[]);ze(this,Bt,[]);ze(this,Et,[]);ze(this,dn,[]);ze(this,In,[]);ze(this,Rn,[]);bn(this,"skipped_effects",new Set)}process(t){zt=[],Qn=null;for(const a of t)Ot(this,st,Ja).call(this,a);if(oe(this,Rt).length===0&&oe(this,Ct)===0){Ot(this,st,Rr).call(this);var n=oe(this,Bt),r=oe(this,Et);$e(this,Bt,[]),$e(this,Et,[]),$e(this,dn,[]),Qn=de,de=null,_a(n),_a(r),de===null?de=this:kr.delete(this),oe(this,On)?.resolve()}else Ot(this,st,tr).call(this,oe(this,Bt)),Ot(this,st,tr).call(this,oe(this,Et)),Ot(this,st,tr).call(this,oe(this,dn));for(const a of oe(this,Rt))ln(a);for(const a of oe(this,un))ln(a);$e(this,Rt,[]),$e(this,un,[])}capture(t,n){oe(this,Ln).has(t)||oe(this,Ln).set(t,n),this.current.set(t,t.v)}activate(){de=this}deactivate(){de=null,Qn=null;for(const t of ga)if(ga.delete(t),t(),de!==null)break}neuter(){$e(this,Mn,!0)}flush(){zt.length>0?Qa():Ot(this,st,Rr).call(this),de===this&&(oe(this,Ct)===0&&kr.delete(this),this.deactivate())}increment(){$e(this,Ct,oe(this,Ct)+1)}decrement(){if($e(this,Ct,oe(this,Ct)-1),oe(this,Ct)===0){for(const t of oe(this,In))Ve(t,tt),vn(t);for(const t of oe(this,Rn))Ve(t,Lt),vn(t);$e(this,Bt,[]),$e(this,Et,[]),this.flush()}else this.deactivate()}add_callback(t){oe(this,cn).add(t)}settled(){return(oe(this,On)??$e(this,On,ws())).promise}static ensure(){if(de===null){const t=de=new ir;kr.add(de),er||ir.enqueue(()=>{de===t&&t.flush()})}return de}static enqueue(t){or.length===0&&queueMicrotask(Za),or.unshift(t)}};Ln=new WeakMap,cn=new WeakMap,Ct=new WeakMap,On=new WeakMap,Mn=new WeakMap,Rt=new WeakMap,un=new WeakMap,Bt=new WeakMap,Et=new WeakMap,dn=new WeakMap,In=new WeakMap,Rn=new WeakMap,st=new WeakSet,Ja=function(t){t.f^=Ie;for(var n=t.first;n!==null;){var r=n.f,a=(r&(yt|Kt))!==0,o=a&&(r&Ie)!==0,i=o||(r&at)!==0||this.skipped_effects.has(n);if(!i&&n.fn!==null){if(a)n.f^=Ie;else if((r&qr)!==0)oe(this,Et).push(n);else if((r&Ie)===0)if((r&Wr)!==0){var l=n.b?.is_pending()?oe(this,un):oe(this,Rt);l.push(n)}else _r(n)&&((n.f&_n)!==0&&oe(this,dn).push(n),ln(n));var c=n.first;if(c!==null){n=c;continue}}var u=n.parent;for(n=n.next;n===null&&u!==null;)n=u.next,u=u.parent}},tr=function(t){for(const n of t)((n.f&tt)!==0?oe(this,In):oe(this,Rn)).push(n),Ve(n,Ie);t.length=0},Rr=function(){if(!oe(this,Mn))for(const t of oe(this,cn))t();oe(this,cn).clear()};let xn=ir;function $a(e){var t=er;er=!0;try{for(var n;;){if($s(),zt.length===0&&(de?.flush(),zt.length===0))return vr=null,n;Qa()}}finally{er=t}}function Qa(){var e=sn;Ir=!0;try{var t=0;for(wa(!0);zt.length>0;){var n=xn.ensure();if(t++>1e3){var r,a;ai()}n.process(zt),Dt.clear()}}finally{Ir=!1,wa(e),vr=null}}function ai(){try{As()}catch(e){Gr(e,vr)}}let It=null;function _a(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if((r.f&(Wt|at))===0&&_r(r)&&(It=[],ln(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?lo(r):r.fn=null),It?.length>0)){Dt.clear();for(const a of It)ln(a);It=[]}}It=null}}function vn(e){for(var t=vr=e;t.parent!==null;){t=t.parent;var n=t.f;if(Ir&&t===$&&(n&_n)!==0)return;if((n&(Kt|yt))!==0){if((n&Ie)===0)return;t.f^=Ie}}zt.push(t)}const Dt=new Map;function Vt(e,t){var n={f:0,v:e,reactions:null,equals:za,rv:0,wv:0};return n}function M(e,t){const n=Vt(e);return fo(n),n}function Br(e,t=!1,n=!0){var a;const r=Vt(e);return t||(r.equals=Va),pn&&n&&fe!==null&&fe.l!==null&&((a=fe.l).s??(a.s=[])).push(r),r}function b(e,t,n=!1){J!==null&&(!ct||(J.f&ha)!==0)&&mn()&&(J.f&(Ye|_n|Wr|ha))!==0&&!wt?.includes(e)&&Os();let r=n?Le(t):t;return At(e,r)}function At(e,t){if(!e.equals(t)){var n=e.v;Gt?Dt.set(e,t):Dt.set(e,n),e.v=t;var r=xn.ensure();r.capture(e,n),(e.f&Ye)!==0&&((e.f&tt)!==0&&Xr(e),Ve(e,(e.f&et)===0?Ie:Lt)),e.wv=ho(),eo(e,tt),mn()&&$!==null&&($.f&Ie)!==0&&($.f&(yt|Kt))===0&&(Qe===null?pi([e]):Qe.push(e))}return t}function Cr(e){b(e,e.v+1)}function eo(e,t){var n=e.reactions;if(n!==null)for(var r=mn(),a=n.length,o=0;o<a;o++){var i=n[o],l=i.f;if(!(!r&&i===$)){var c=(l&tt)===0;c&&Ve(i,t),(l&Ye)!==0?eo(i,Lt):c&&((l&_n)!==0&&It!==null&&It.push(i),vn(i))}}}function Le(e){if(typeof e!="object"||e===null||Ht in e)return e;const t=Vr(e);if(t!==gs&&t!==_s)return e;var n=new Map,r=jr(e),a=M(0),o=jt,i=l=>{if(jt===o)return l();var c=J,u=jt;nt(null),Sa(o);var f=l();return nt(c),Sa(u),f};return r&&n.set("length",M(e.length)),new Proxy(e,{defineProperty(l,c,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&Ts();var f=n.get(c);return f===void 0?f=i(()=>{var v=M(u.value);return n.set(c,v),v}):b(f,u.value,!0),!0},deleteProperty(l,c){var u=n.get(c);if(u===void 0){if(c in l){const f=i(()=>M(ke));n.set(c,f),Cr(a)}}else b(u,ke),Cr(a);return!0},get(l,c,u){if(c===Ht)return e;var f=n.get(c),v=c in l;if(f===void 0&&(!v||an(l,c)?.writable)&&(f=i(()=>{var g=Le(v?l[c]:ke),d=M(g);return d}),n.set(c,f)),f!==void 0){var h=s(f);return h===ke?void 0:h}return Reflect.get(l,c,u)},getOwnPropertyDescriptor(l,c){var u=Reflect.getOwnPropertyDescriptor(l,c);if(u&&"value"in u){var f=n.get(c);f&&(u.value=s(f))}else if(u===void 0){var v=n.get(c),h=v?.v;if(v!==void 0&&h!==ke)return{enumerable:!0,configurable:!0,value:h,writable:!0}}return u},has(l,c){if(c===Ht)return!0;var u=n.get(c),f=u!==void 0&&u.v!==ke||Reflect.has(l,c);if(u!==void 0||$!==null&&(!f||an(l,c)?.writable)){u===void 0&&(u=i(()=>{var h=f?Le(l[c]):ke,g=M(h);return g}),n.set(c,u));var v=s(u);if(v===ke)return!1}return f},set(l,c,u,f){var v=n.get(c),h=c in l;if(r&&c==="length")for(var g=u;g<v.v;g+=1){var d=n.get(g+"");d!==void 0?b(d,ke):g in l&&(d=i(()=>M(ke)),n.set(g+"",d))}if(v===void 0)(!h||an(l,c)?.writable)&&(v=i(()=>M(void 0)),b(v,Le(u)),n.set(c,v));else{h=v.v!==ke;var _=i(()=>Le(u));b(v,_)}var S=Reflect.getOwnPropertyDescriptor(l,c);if(S?.set&&S.set.call(f,u),!h){if(r&&typeof c=="string"){var k=n.get("length"),w=Number(c);Number.isInteger(w)&&w>=k.v&&b(k,w+1)}Cr(a)}return!0},ownKeys(l){s(a);var c=Reflect.ownKeys(l).filter(v=>{var h=n.get(v);return h===void 0||h.v!==ke});for(var[u,f]of n)f.v!==ke&&!(u in l)&&c.push(u);return c},setPrototypeOf(){Ls()}})}var pa,to,no,ro;function oi(){if(pa===void 0){pa=window,to=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;no=an(t,"firstChild").get,ro=an(t,"nextSibling").get,va(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),va(n)&&(n.__t=void 0)}}function Yt(e=""){return document.createTextNode(e)}function hn(e){return no.call(e)}function hr(e){return ro.call(e)}function A(e,t){return hn(e)}function N(e,t){{var n=hn(e);return n instanceof Comment&&n.data===""?hr(n):n}}function I(e,t=1,n=!1){let r=e;for(;t--;)r=hr(r);return r}function si(e){e.textContent=""}function Zr(){return!1}let ma=!1;function ii(){ma||(ma=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function gr(e){var t=J,n=$;nt(null),ft(null);try{return e()}finally{nt(t),ft(n)}}function li(e,t,n,r=n){e.addEventListener(t,()=>gr(n));const a=e.__on_r;a?e.__on_r=()=>{a(),r(!0)}:e.__on_r=()=>r(!0),ii()}function ao(e){$===null&&J===null&&Ds(),J!==null&&(J.f&et)!==0&&$===null&&xs(),Gt&&Ps()}function ci(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function ht(e,t,n,r=!0){var a=$;a!==null&&(a.f&at)!==0&&(e|=at);var o={ctx:fe,deps:null,nodes_start:null,nodes_end:null,f:e|tt,first:null,fn:t,last:null,next:null,parent:a,b:a&&a.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{ln(o),o.f|=Kr}catch(c){throw dt(o),c}else t!==null&&vn(o);if(r){var i=o;if(n&&i.deps===null&&i.teardown===null&&i.nodes_start===null&&i.first===i.last&&(i.f&Fn)===0&&(i=i.first),i!==null&&(i.parent=a,a!==null&&ci(i,a),J!==null&&(J.f&Ye)!==0&&(e&Kt)===0)){var l=J;(l.effects??(l.effects=[])).push(i)}}return o}function ui(e){const t=ht(lr,null,!1);return Ve(t,Ie),t.teardown=e,t}function Ce(e){ao();var t=$.f,n=!J&&(t&yt)!==0&&(t&Kr)===0;if(n){var r=fe;(r.e??(r.e=[])).push(e)}else return oo(e)}function oo(e){return ht(qr|Ha,e,!1)}function di(e){return ao(),ht(lr|Ha,e,!0)}function fi(e){xn.ensure();const t=ht(Kt|Fn,e,!0);return(n={})=>new Promise(r=>{n.outro?Ut(t,()=>{dt(t),r(void 0)}):(dt(t),r(void 0))})}function vi(e){return ht(qr,e,!1)}function hi(e){return ht(Wr|Fn,e,!0)}function Jr(e,t=0){return ht(lr|t,e,!0)}function ge(e,t=[],n=[]){ni(t,n,r=>{ht(lr,()=>e(...r.map(s)),!0)})}function Un(e,t=0){var n=ht(_n|t,e,!0);return n}function ut(e,t=!0){return ht(yt|Fn,e,!0,t)}function so(e){var t=e.teardown;if(t!==null){const n=Gt,r=J;ya(!0),nt(null);try{t.call(null)}finally{ya(n),nt(r)}}}function io(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const a=n.ac;a!==null&&gr(()=>{a.abort(Yr)});var r=n.next;(n.f&Kt)!==0?n.parent=null:dt(n,t),n=r}}function gi(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&yt)===0&&dt(t),t=n}}function dt(e,t=!0){var n=!1;(t||(e.f&Ss)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(_i(e.nodes_start,e.nodes_end),n=!0),io(e,t&&!n),sr(e,0),Ve(e,Wt);var r=e.transitions;if(r!==null)for(const o of r)o.stop();so(e);var a=e.parent;a!==null&&a.first!==null&&lo(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function _i(e,t){for(;e!==null;){var n=e===t?null:hr(e);e.remove(),e=n}}function lo(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function Ut(e,t){var n=[];$r(e,n,!0),co(n,()=>{dt(e),t&&t()})}function co(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var a of e)a.out(r)}else t()}function $r(e,t,n){if((e.f&at)===0){if(e.f^=at,e.transitions!==null)for(const i of e.transitions)(i.is_global||n)&&t.push(i);for(var r=e.first;r!==null;){var a=r.next,o=(r.f&Bn)!==0||(r.f&yt)!==0;$r(r,t,o?n:!1),r=a}}}function on(e){uo(e,!0)}function uo(e,t){if((e.f&at)!==0){e.f^=at,(e.f&Ie)===0&&(Ve(e,tt),vn(e));for(var n=e.first;n!==null;){var r=n.next,a=(n.f&Bn)!==0||(n.f&yt)!==0;uo(n,a?t:!1),n=r}if(e.transitions!==null)for(const o of e.transitions)(o.is_global||t)&&o.in()}}let sn=!1;function wa(e){sn=e}let Gt=!1;function ya(e){Gt=e}let J=null,ct=!1;function nt(e){J=e}let $=null;function ft(e){$=e}let wt=null;function fo(e){J!==null&&(wt===null?wt=[e]:wt.push(e))}let Fe=null,We=0,Qe=null;function pi(e){Qe=e}let vo=1,Dn=0,jt=Dn;function Sa(e){jt=e}let Pt=!1;function ho(){return++vo}function _r(e){var t=e.f;if((t&tt)!==0)return!0;if((t&Lt)!==0){var n=e.deps,r=(t&et)!==0;if(n!==null){var a,o,i=(t&ar)!==0,l=r&&$!==null&&!Pt,c=n.length;if((i||l)&&($===null||($.f&Wt)===0)){var u=e,f=u.parent;for(a=0;a<c;a++)o=n[a],(i||!o?.reactions?.includes(u))&&(o.reactions??(o.reactions=[])).push(u);i&&(u.f^=ar),l&&f!==null&&(f.f&et)===0&&(u.f^=et)}for(a=0;a<c;a++)if(o=n[a],_r(o)&&Ga(o),o.wv>e.wv)return!0}(!r||$!==null&&!Pt)&&Ve(e,Ie)}return!1}function go(e,t,n=!0){var r=e.reactions;if(r!==null&&!wt?.includes(e))for(var a=0;a<r.length;a++){var o=r[a];(o.f&Ye)!==0?go(o,t,!1):t===o&&(n?Ve(o,tt):(o.f&Ie)!==0&&Ve(o,Lt),vn(o))}}function _o(e){var _;var t=Fe,n=We,r=Qe,a=J,o=Pt,i=wt,l=fe,c=ct,u=jt,f=e.f;Fe=null,We=0,Qe=null,Pt=(f&et)!==0&&(ct||!sn||J===null),J=(f&(yt|Kt))===0?e:null,wt=null,fn(e.ctx),ct=!1,jt=++Dn,e.ac!==null&&(gr(()=>{e.ac.abort(Yr)}),e.ac=null);try{e.f|=Or;var v=e.fn,h=v(),g=e.deps;if(Fe!==null){var d;if(sr(e,We),g!==null&&We>0)for(g.length=We+Fe.length,d=0;d<Fe.length;d++)g[We+d]=Fe[d];else e.deps=g=Fe;if(!Pt||(f&Ye)!==0&&e.reactions!==null)for(d=We;d<g.length;d++)((_=g[d]).reactions??(_.reactions=[])).push(e)}else g!==null&&We<g.length&&(sr(e,We),g.length=We);if(mn()&&Qe!==null&&!ct&&g!==null&&(e.f&(Ye|Lt|tt))===0)for(d=0;d<Qe.length;d++)go(Qe[d],e);return a!==null&&a!==e&&(Dn++,Qe!==null&&(r===null?r=Qe:r.push(...Qe))),(e.f&Ft)!==0&&(e.f^=Ft),h}catch(S){return Zs(S)}finally{e.f^=Or,Fe=t,We=n,Qe=r,J=a,Pt=o,wt=i,fn(l),ct=c,jt=u}}function mi(e,t){let n=t.reactions;if(n!==null){var r=hs.call(n,e);if(r!==-1){var a=n.length-1;a===0?n=t.reactions=null:(n[r]=n[a],n.pop())}}n===null&&(t.f&Ye)!==0&&(Fe===null||!Fe.includes(t))&&(Ve(t,Lt),(t.f&(et|ar))===0&&(t.f^=ar),Ya(t),sr(t,0))}function sr(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)mi(e,n[r])}function ln(e){var t=e.f;if((t&Wt)===0){Ve(e,Ie);var n=$,r=sn;$=e,sn=!0;try{(t&_n)!==0?gi(e):io(e),so(e);var a=_o(e);e.teardown=typeof a=="function"?a:null,e.wv=vo;var o;Ra&&Ws&&(e.f&tt)!==0&&e.deps}finally{sn=r,$=n}}}async function po(){await Promise.resolve(),$a()}function s(e){var t=e.f,n=(t&Ye)!==0;if(J!==null&&!ct){var r=$!==null&&($.f&Wt)!==0;if(!r&&!wt?.includes(e)){var a=J.deps;if((J.f&Or)!==0)e.rv<Dn&&(e.rv=Dn,Fe===null&&a!==null&&a[We]===e?We++:Fe===null?Fe=[e]:(!Pt||!Fe.includes(e))&&Fe.push(e));else{(J.deps??(J.deps=[])).push(e);var o=e.reactions;o===null?e.reactions=[J]:o.includes(J)||o.push(J)}}}else if(n&&e.deps===null&&e.effects===null){var i=e,l=i.parent;l!==null&&(l.f&et)===0&&(i.f^=et)}if(Gt){if(Dt.has(e))return Dt.get(e);if(n){i=e;var c=i.v;return((i.f&Ie)===0&&i.reactions!==null||mo(i))&&(c=Xr(i)),Dt.set(i,c),c}}else n&&(i=e,_r(i)&&Ga(i));if((e.f&Ft)!==0)throw e.v;return e.v}function mo(e){if(e.v===ke)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(Dt.has(t)||(t.f&Ye)!==0&&mo(t))return!0;return!1}function qt(e){var t=ct;try{return ct=!0,e()}finally{ct=t}}const wi=-7169;function Ve(e,t){e.f=e.f&wi|t}function yi(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Ht in e)Fr(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&Ht in n&&Fr(n)}}}function Fr(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{Fr(e[r],t)}catch{}const n=Vr(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=Ba(n);for(let a in r){const o=r[a].get;if(o)try{o.call(e)}catch{}}}}}const Si=["touchstart","touchmove"];function bi(e){return Si.includes(e)}const wo=new Set,Hr=new Set;function ki(e,t,n,r={}){function a(o){if(r.capture||kn.call(t,o),!o.cancelBubble)return gr(()=>n?.call(this,o))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?dr(()=>{t.addEventListener(e,a,r)}):t.addEventListener(e,a,r),a}function Qr(e,t,n,r,a){var o={capture:r,passive:a},i=ki(e,t,n,o);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&ui(()=>{t.removeEventListener(e,i,o)})}function Ge(e){for(var t=0;t<e.length;t++)wo.add(e[t]);for(var n of Hr)n(e)}let ba=null;function kn(e){var t=this,n=t.ownerDocument,r=e.type,a=e.composedPath?.()||[],o=a[0]||e.target;ba=e;var i=0,l=ba===e&&e.__root;if(l){var c=a.indexOf(l);if(c!==-1&&(t===document||t===window)){e.__root=t;return}var u=a.indexOf(t);if(u===-1)return;c<=u&&(i=c)}if(o=a[i]||e.target,o!==t){Lr(e,"currentTarget",{configurable:!0,get(){return o||n}});var f=J,v=$;nt(null),ft(null);try{for(var h,g=[];o!==null;){var d=o.assignedSlot||o.parentNode||o.host||null;try{var _=o["__"+r];if(_!=null&&(!o.disabled||e.target===o))if(jr(_)){var[S,...k]=_;S.apply(o,[e,...k])}else _.call(o,e)}catch(w){h?g.push(w):h=w}if(e.cancelBubble||d===t||d===null)break;o=d}if(h){for(let w of g)queueMicrotask(()=>{throw w});throw h}}finally{e.__root=t,delete e.currentTarget,nt(f),ft(v)}}}function yo(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function An(e,t){var n=$;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function W(e,t){var n=(t&js)!==0,r=(t&zs)!==0,a,o=!e.startsWith("<!>");return()=>{a===void 0&&(a=yo(o?e:"<!>"+e),n||(a=hn(a)));var i=r||to?document.importNode(a,!0):a.cloneNode(!0);if(n){var l=hn(i),c=i.lastChild;An(l,c)}else An(i,i);return i}}function Ci(e,t,n="svg"){var r=!e.startsWith("<!>"),a=`<${n}>${r?e:"<!>"+e}</${n}>`,o;return()=>{if(!o){var i=yo(a),l=hn(i);o=hn(l)}var c=o.cloneNode(!0);return An(c,c),c}}function Ei(e,t){return Ci(e,t,"svg")}function He(e=""){{var t=Yt(e+"");return An(t,t),t}}function O(){var e=document.createDocumentFragment(),t=document.createComment(""),n=Yt();return e.append(t,n),An(t,n),e}function m(e,t){e!==null&&e.before(t)}function qu(){var e;return(e=window.__svelte??(window.__svelte={})).uid??(e.uid=1),`c${window.__svelte.uid++}`}function Nn(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function Pi(e,t){return xi(e,t)}const tn=new Map;function xi(e,{target:t,anchor:n,props:r={},events:a,context:o,intro:i=!0}){oi();var l=new Set,c=v=>{for(var h=0;h<v.length;h++){var g=v[h];if(!l.has(g)){l.add(g);var d=bi(g);t.addEventListener(g,kn,{passive:d});var _=tn.get(g);_===void 0?(document.addEventListener(g,kn,{passive:d}),tn.set(g,1)):tn.set(g,_+1)}}};c(zr(wo)),Hr.add(c);var u=void 0,f=fi(()=>{var v=n??t.appendChild(Yt());return ut(()=>{if(o){q({});var h=fe;h.c=o}a&&(r.$$events=a),u=e(v,r)||{},o&&K()}),()=>{for(var h of l){t.removeEventListener(h,kn);var g=tn.get(h);--g===0?(document.removeEventListener(h,kn),tn.delete(h)):tn.set(h,g)}Hr.delete(c),v!==n&&v.parentNode?.removeChild(v)}});return Di.set(u,f),u}let Di=new WeakMap;const Er=0,Zn=1,Pr=2;function So(e,t,n,r,a){var o=e,i=mn(),l=fe,c=ke,u,f,v,h=i?Vt(void 0):Br(void 0,!1,!1),g=i?Vt(void 0):Br(void 0,!1,!1),d=!1;function _(k,w){d=!0,w&&(ft(S),nt(S),fn(l));try{k===Er&&n&&(u?on(u):u=ut(()=>n(o))),k===Zn&&r&&(f?on(f):f=ut(()=>r(o,h))),k===Pr&&a&&(v?on(v):v=ut(()=>a(o,g))),k!==Er&&u&&Ut(u,()=>u=null),k!==Zn&&f&&Ut(f,()=>f=null),k!==Pr&&v&&Ut(v,()=>v=null)}finally{w&&(fn(null),nt(null),ft(null),$a())}}var S=Un(()=>{if(c!==(c=t())){if(ps(c)){var k=c;d=!1,k.then(w=>{k===c&&(At(h,w),_(Zn,!0))},w=>{if(k===c&&(At(g,w),_(Pr,!0),!a))throw g.v}),dr(()=>{d||_(Er,!0)})}else At(h,c),_(Zn,!1);return()=>c=ke}})}function F(e,t,n=!1){var r=e,a=null,o=null,i=ke,l=n?Bn:0,c=!1;const u=(g,d=!0)=>{c=!0,h(d,g)};var f=null;function v(){f!==null&&(f.lastChild.remove(),r.before(f),f=null);var g=i?a:o,d=i?o:a;g&&on(g),d&&Ut(d,()=>{i?o=null:a=null})}const h=(g,d)=>{if(i!==(i=g)){var _=Zr(),S=r;if(_&&(f=document.createDocumentFragment(),f.append(S=Yt())),i?a??(a=d&&ut(()=>d(S))):o??(o=d&&ut(()=>d(S))),_){var k=de,w=i?a:o,y=i?o:a;w&&k.skipped_effects.delete(w),y&&k.skipped_effects.add(y),k.add_callback(v)}else v()}};Un(()=>{c=!1,t(u),c||h(null,null)},l)}function Ee(e,t){Jr(()=>{var n=t();for(var r in n){var a=n[r];a?e.style.setProperty(r,a):e.style.removeProperty(r)}})}function Ai(e,t,n){for(var r=e.items,a=[],o=t.length,i=0;i<o;i++)$r(t[i].e,a,!0);var l=o>0&&a.length===0&&n!==null;if(l){var c=n.parentNode;si(c),c.append(n),r.clear(),lt(e,t[0].prev,t[o-1].next)}co(a,()=>{for(var u=0;u<o;u++){var f=t[u];l||(r.delete(f.k),lt(e,f.prev,f.next)),dt(f.e,!l)}})}function rn(e,t,n,r,a,o=null){var i=e,l={flags:t,items:new Map,first:null},c=(t&ja)!==0;if(c){var u=e;i=u.appendChild(Yt())}var f=null,v=!1,h=new Map,g=fr(()=>{var k=n();return jr(k)?k:k==null?[]:zr(k)}),d,_;function S(){Ni(_,d,l,h,i,a,t,r,n),o!==null&&(d.length===0?f?on(f):f=ut(()=>o(i)):f!==null&&Ut(f,()=>{f=null}))}Un(()=>{_??(_=$),d=s(g);var k=d.length;if(!(v&&k===0)){v=k===0;var w,y,D,E;if(Zr()){var p=new Set,C=de;for(y=0;y<k;y+=1){D=d[y],E=r(D,y);var P=l.items.get(E)??h.get(E);P?(t&(cr|ur))!==0&&bo(P,D,y,t):(w=ko(null,l,null,null,D,E,y,a,t,n,!0),h.set(E,w)),p.add(E)}for(const[R,H]of l.items)p.has(R)||C.skipped_effects.add(H.e);C.add_callback(S)}else S();s(g)}})}function Ni(e,t,n,r,a,o,i,l,c){var u=(i&Ms)!==0,f=(i&(cr|ur))!==0,v=t.length,h=n.items,g=n.first,d=g,_,S=null,k,w=[],y=[],D,E,p,C;if(u)for(C=0;C<v;C+=1)D=t[C],E=l(D,C),p=h.get(E),p!==void 0&&(p.a?.measure(),(k??(k=new Set)).add(p));for(C=0;C<v;C+=1){if(D=t[C],E=l(D,C),p=h.get(E),p===void 0){var P=r.get(E);if(P!==void 0){r.delete(E),h.set(E,P);var R=S?S.next:d;lt(n,S,P),lt(n,P,R),xr(P,R,a),S=P}else{var H=d?d.e.nodes_start:a;S=ko(H,n,S,S===null?n.first:S.next,D,E,C,o,i,c)}h.set(E,S),w=[],y=[],d=S.next;continue}if(f&&bo(p,D,C,i),(p.e.f&at)!==0&&(on(p.e),u&&(p.a?.unfix(),(k??(k=new Set)).delete(p))),p!==d){if(_!==void 0&&_.has(p)){if(w.length<y.length){var z=y[0],Y;S=z.prev;var U=w[0],x=w[w.length-1];for(Y=0;Y<w.length;Y+=1)xr(w[Y],z,a);for(Y=0;Y<y.length;Y+=1)_.delete(y[Y]);lt(n,U.prev,x.next),lt(n,S,U),lt(n,x,z),d=z,S=x,C-=1,w=[],y=[]}else _.delete(p),xr(p,d,a),lt(n,p.prev,p.next),lt(n,p,S===null?n.first:S.next),lt(n,S,p),S=p;continue}for(w=[],y=[];d!==null&&d.k!==E;)(d.e.f&at)===0&&(_??(_=new Set)).add(d),y.push(d),d=d.next;if(d===null)continue;p=d}w.push(p),S=p,d=p.next}if(d!==null||_!==void 0){for(var T=_===void 0?[]:zr(_);d!==null;)(d.e.f&at)===0&&T.push(d),d=d.next;var B=T.length;if(B>0){var V=(i&ja)!==0&&v===0?a:null;if(u){for(C=0;C<B;C+=1)T[C].a?.measure();for(C=0;C<B;C+=1)T[C].a?.fix()}Ai(n,T,V)}}u&&dr(()=>{if(k!==void 0)for(p of k)p.a?.apply()}),e.first=n.first&&n.first.e,e.last=S&&S.e;for(var ae of r.values())dt(ae.e);r.clear()}function bo(e,t,n,r){(r&cr)!==0&&At(e.v,t),(r&ur)!==0?At(e.i,n):e.i=n}function ko(e,t,n,r,a,o,i,l,c,u,f){var v=(c&cr)!==0,h=(c&Is)===0,g=v?h?Br(a,!1,!1):Vt(a):a,d=(c&ur)===0?i:Vt(i),_={i:d,v:g,k:o,a:null,e:null,prev:n,next:r};try{if(e===null){var S=document.createDocumentFragment();S.append(e=Yt())}return _.e=ut(()=>l(e,g,d,u),qs),_.e.prev=n&&n.e,_.e.next=r&&r.e,n===null?f||(t.first=_):(n.next=_,n.e.next=_.e),r!==null&&(r.prev=_,r.e.prev=_.e),_}finally{}}function xr(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,a=t?t.e.nodes_start:n,o=e.e.nodes_start;o!==null&&o!==r;){var i=hr(o);a.before(o),o=i}}function lt(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function ee(e,t,...n){var r=e,a=ie,o;Un(()=>{a!==(a=t())&&(o&&(dt(o),o=null),o=ut(()=>a(r,...n)))},Bn)}function Co(e,t,n){var r=e,a,o,i=null,l=null;function c(){o&&(Ut(o),o=null),i&&(i.lastChild.remove(),r.before(i),i=null),o=l,l=null}Un(()=>{if(a!==(a=t())){var u=Zr();if(a){var f=r;u&&(i=document.createDocumentFragment(),i.append(f=Yt()),o&&de.skipped_effects.add(o)),l=ut(()=>n(f,a))}u?de.add_callback(c):c()}},Bn)}function Eo(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=Eo(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Ti(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=Eo(e))&&(r&&(r+=" "),r+=t);return r}function le(e){return typeof e=="object"?Ti(e):e??""}const ka=[...` 	
\r\f \v\uFEFF`];function Li(e,t,n){var r=e==null?"":""+e;if(t&&(r=r?r+" "+t:t),n){for(var a in n)if(n[a])r=r?r+" "+a:a;else if(r.length)for(var o=a.length,i=0;(i=r.indexOf(a,i))>=0;){var l=i+o;(i===0||ka.includes(r[i-1]))&&(l===r.length||ka.includes(r[l]))?r=(i===0?"":r.substring(0,i))+r.substring(l+1):i=l}}return r===""?null:r}function Oi(e,t){return e==null?null:String(e)}function ce(e,t,n,r,a,o){var i=e.__className;if(i!==n||i===void 0){var l=Li(n,r,o);l==null?e.removeAttribute("class"):e.className=l,e.__className=n}else if(o&&a!==o)for(var c in o){var u=!!o[c];(a==null||u!==!!a[c])&&e.classList.toggle(c,u)}return o}function Tn(e,t,n,r){var a=e.__style;if(a!==t){var o=Oi(t);o==null?e.removeAttribute("style"):e.style.cssText=o,e.__style=t}return r}const Mi=Symbol("is custom element"),Ii=Symbol("is html");function Ku(e,t){var n=ea(e);n.value===(n.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function Wu(e,t){var n=ea(e);n.checked!==(n.checked=t??void 0)&&(e.checked=t)}function Te(e,t,n,r){var a=ea(e);a[t]!==(a[t]=n)&&(t==="loading"&&(e[ks]=n),n==null?e.removeAttribute(t):typeof n!="string"&&Ri(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function ea(e){return e.__attributes??(e.__attributes={[Mi]:e.nodeName.includes("-"),[Ii]:e.namespaceURI===Vs})}var Ca=new Map;function Ri(e){var t=e.getAttribute("is")||e.nodeName,n=Ca.get(t);if(n)return n;Ca.set(t,n=[]);for(var r,a=e,o=Element.prototype;o!==a;){r=Ba(a);for(var i in r)r[i].set&&n.push(i);a=Vr(a)}return n}function Bi(e,t,n=t){var r=new WeakSet;li(e,"input",async a=>{var o=a?e.defaultValue:e.value;if(o=Dr(e)?Ar(o):o,n(o),de!==null&&r.add(de),await po(),o!==(o=t())){var i=e.selectionStart,l=e.selectionEnd;e.value=o??"",l!==null&&(e.selectionStart=i,e.selectionEnd=Math.min(l,e.value.length))}}),qt(t)==null&&e.value&&(n(Dr(e)?Ar(e.value):e.value),de!==null&&r.add(de)),Jr(()=>{var a=t();if(e===document.activeElement){var o=Qn??de;if(r.has(o))return}Dr(e)&&a===Ar(e.value)||e.type==="date"&&!a&&!e.value||a!==e.value&&(e.value=a??"")})}function Dr(e){var t=e.type;return t==="number"||t==="range"}function Ar(e){return e===""?null:+e}function Ea(e,t){return e===t||e?.[Ht]===t}function it(e={},t,n,r){return vi(()=>{var a,o;return Jr(()=>{a=o,o=[],qt(()=>{e!==n(...o)&&(t(e,...o),a&&Ea(n(...a),e)&&t(null,...a))})}),()=>{dr(()=>{o&&Ea(n(...o),e)&&t(null,...o)})}}),e}function ta(e=!1){const t=fe,n=t.l.u;if(!n)return;let r=()=>yi(t.s);if(e){let a=0,o={};const i=Hn(()=>{let l=!1;const c=t.s;for(const u in c)c[u]!==o[u]&&(o[u]=c[u],l=!0);return l&&a++,a});r=()=>s(i)}n.b.length&&di(()=>{Pa(t,r),rr(n.b)}),Ce(()=>{const a=qt(()=>n.m.map(ms));return()=>{for(const o of a)typeof o=="function"&&o()}}),n.a.length&&Ce(()=>{Pa(t,r),rr(n.a)})}function Pa(e,t){if(e.l.s)for(const n of e.l.s)s(n);t()}let Jn=!1;function Fi(e){var t=Jn;try{return Jn=!1,[e(),Jn]}finally{Jn=t}}function se(e,t,n,r){var a=!pn||(n&Bs)!==0,o=(n&Hs)!==0,i=(n&Us)!==0,l=r,c=!0,u=()=>(c&&(c=!1,l=i?qt(r):r),l),f;if(o){var v=Ht in e||bs in e;f=an(e,t)?.set??(v&&t in e?y=>e[t]=y:void 0)}var h,g=!1;o?[h,g]=Fi(()=>e[t]):h=e[t],h===void 0&&r!==void 0&&(h=u(),f&&(a&&Ns(),f(h)));var d;if(a?d=()=>{var y=e[t];return y===void 0?u():(c=!0,y)}:d=()=>{var y=e[t];return y!==void 0&&(l=void 0),y===void 0?l:y},a&&(n&Fs)===0)return d;if(f){var _=e.$$legacy;return(function(y,D){return arguments.length>0?((!a||!D||_||g)&&f(D?d():y),y):d()})}var S=!1,k=((n&Rs)!==0?Hn:fr)(()=>(S=!1,d()));o&&s(k);var w=$;return(function(y,D){if(arguments.length>0){const E=D?s(k):a&&o?Le(y):y;return b(k,E),S=!0,l!==void 0&&(l=E),y}return Gt&&S||(w.f&Wt)!==0?k.v:s(k)})}function he(e){fe===null&&Ua(),pn&&fe.l!==null?Hi(fe).m.push(e):Ce(()=>{const t=qt(e);if(typeof t=="function")return t})}function Hi(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const Ui="5";var Ia;typeof window<"u"&&((Ia=window.__svelte??(window.__svelte={})).v??(Ia.v=new Set)).add(Ui);Ys();const Po={},ji=()=>({working:!1,swipingRatio:1,isSwiping:!1,duration:.35});function zi(e){we(Po,e)}function jn(){const e=me(Po);if(!e)throw new Error("No AnimationSettingsContext found");return e}function Vi(e,t){q(t,!0);let n=Le(ji());zi(n);var r=O(),a=N(r);ee(a,()=>t.children??ie),m(e,r),K()}const xo={};function qi(e){we(xo,e)}function Do(){const e=me(xo);if(!e)throw new Error("No ScrollingContext found");return e}const Ki=(e,t)=>{let n=null;return()=>{n&&clearTimeout(n),n=setTimeout(()=>{n=null,e()},t)}};async function Nr(){if(navigator.storage&&navigator.storage.persist)try{await navigator.storage.persisted()||await navigator.storage.persist()}catch{}}function Wi(e,t){q(t,!0);let n=M(!1);const r=()=>s(n),a=Ki(()=>{b(n,!1)},100);qi({isScrolling:r,enable:()=>{b(n,!0),a()}});var i=O(),l=N(i);ee(l,()=>t.children??ie),m(e,i),K()}const Ao={};function Yi(e){we(Ao,e)}function wn(){const e=me(Ao);if(!e)throw new Error("No MobileSizeContext found");return e}const Gi=(e,t,n={})=>{let r=null;return()=>{r||(e(),r=setTimeout(()=>{if(r=null,n.trailing){e();return}},t))}};function Xi(e,t){q(t,!0);const n=()=>window.matchMedia("(max-width: 767px)").matches;let r=M(Le(n()));const a=Gi(()=>{b(r,n(),!0)},16,{trailing:!0});Yi({checkMobileSize:()=>s(r)}),he(()=>(window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)));var i=O(),l=N(i);ee(l,()=>t.children??ie),m(e,i),K()}const No={};function Zi(e){we(No,e)}function zn(){const e=me(No);if(!e)throw new Error("No DialogContext found");return e}function Ji(e,t){q(t,!0);let n=M(0),r=M(!1),a=M(!1);Zi({checkExistedDialog:()=>s(n)>0,showDialog:()=>{b(n,s(n)+1)},hideDialog:()=>{b(n,s(n)-1)},blockDialog:d=>{b(r,d,!0),d||b(a,!1)},checkBlockedDialog:()=>s(r),unBlockBackDialog:d=>{b(a,d,!0)},checkUnBlockedBackDialog:()=>s(a)});var h=O(),g=N(h);ee(g,()=>t.children??ie),m(e,h),K()}const To={};function $i(e){we(To,e)}function na(){const e=me(To);if(!e)throw new Error("No ScrollContainerContext found");return e}function Qi(e,t){q(t,!0);let n=M(null);$i({setScrollContainer:l=>{b(n,l,!0)},getScrollContainer:()=>s(n)});var o=O(),i=N(o);ee(i,()=>t.children??ie),m(e,o),K()}const Lo={};function el(e){we(Lo,e)}function ra(){const e=me(Lo);if(!e)throw new Error("No DialogPageHeightContext found");return e}function tl(e,t){q(t,!0);let n=M(200);el({setDialogPageHeight:l=>{b(n,l,!0)},getDialogPageHeight:()=>s(n)});var o=O(),i=N(o);ee(i,()=>t.children??ie),m(e,o),K()}const Oo={};function nl(e){we(Oo,e)}function aa(){const e=me(Oo);if(!e)throw new Error("No RelatedTagsContext found");return e}function rl(e,t){q(t,!0);let n=M({});nl({getRelatedTags:()=>s(n),setRelatedTags:o=>{b(n,o)}});var r=O(),a=N(r);ee(a,()=>t.children??ie),m(e,r),K()}const Mo={};function al(e){we(Mo,e)}function pr(){const e=me(Mo);if(!e)throw new Error("No LocalDBContext found");return e}const ol="AppStorage",sl=1,rt="notes",xa="tags",Da="syncLog",Nt="account",Tt="settings",vt="drafts",Re="success",Be="error",Q=(e,t,n)=>{e?.addEventListener(t,n)};function il(){return new Promise((e,t)=>{const n=indexedDB.open(ol,sl);Q(n,"upgradeneeded",()=>{const r=n.result;r.objectStoreNames.contains(rt)||r.createObjectStore(rt,{keyPath:"id"}),r.objectStoreNames.contains(xa)||r.createObjectStore(xa,{keyPath:"id"}),r.objectStoreNames.contains(Nt)||r.createObjectStore(Nt,{keyPath:"id"}),r.objectStoreNames.contains(Tt)||r.createObjectStore(Tt,{keyPath:"id"}),r.objectStoreNames.contains(Da)||r.createObjectStore(Da,{keyPath:"id"}),r.objectStoreNames.contains(vt)||r.createObjectStore(vt,{keyPath:"id"})}),Q(n,Re,()=>{const r=n.result;e(r),r.onversionchange=function(){r?.close(),alert("app outdated, please reload the page")}}),Q(n,"blocked",()=>{t(),alert("app outdated, please reload the page")}),Q(n,Be,()=>{t()})})}function ll(e,t){q(t,!0);let n=M(null);he(()=>{il().then(l=>{b(n,l,!0)})}),al({getDB:()=>s(n)});var a=O(),o=N(a);{var i=l=>{var c=O(),u=N(c);ee(u,()=>t.children??ie),m(l,c)};F(o,l=>{s(n)&&l(i)})}m(e,a),K()}const Io={};function cl(e){we(Io,e)}function St(){const e=me(Io);if(!e)throw new Error("No StackPagesContext found");return e}const Ro={};function ul(e){we(Ro,e)}function gt(){const e=me(Ro);if(!e)throw new Error("No AppHistoryContext found");return e}function dl(e,t){q(t,!0);const{getAppHistory:n,navigate:r}=gt(),a=()=>new URLSearchParams(n().search).get("stackPages")?.split(",")||[];let o=M(Le(a()));const i=S=>{const k=a();if(!k.includes(S)){k.push(S);const w=new URLSearchParams(n().search);w.set("stackPages",k.join(",")),b(o,k,!0),r(`${n().pathname}?${w.toString()}`)}};cl({pushStackPages:i,hasStackPage:S=>a().includes(S),updateStackPages:()=>{b(o,a(),!0)},popStackPages:()=>{const S=s(o).slice(0,-1);b(o,S,!0)},getStackPages:()=>{const S=a();return S.length>=s(o).length?S.reduce((k,w)=>[...k,{page:w,shown:!0}],[]):s(o).reduce((k,w,y)=>[...k,{page:w,shown:S.length===0?!1:y!==s(o).length-1}],[])},clearStackPages:()=>{b(o,[],!0)},getPageUrl:S=>{const k=a();k.includes(S)||k.push(S);const w=new URLSearchParams(n().search);return w.set("stackPages",k.join(",")),`${n().pathname}?${w}`},createHandlePage:S=>k=>{k.preventDefault(),i(S)},getStackPagesFormUrl:a});var d=O(),_=N(d);ee(_,()=>t.children??ie),m(e,d),K()}function fl(e,t){q(t,!0);const n=Le({historyStack:[],pathname:window.location.pathname,search:window.location.search,historyLength:0}),r=()=>{n.pathname=document.location.pathname,n.search=document.location.search,n.historyLength=Math.max(0,n.historyLength-=1)},a=h=>{const[g,d]=h.split("?");n.pathname=g,n.search=d?`?${d}`:"",n.historyLength+=1,n.historyStack.push(window.location.href),window.history.replaceState(null,"",h)},o=h=>{const[g,d]=h.split("?");n.pathname=g,n.search=d?`?${d}`:"",window.history.replaceState(null,"",h)};ul({getAppHistory:()=>n,navigate:a,replace:o,addSearchParam:(h,g)=>{const d=new URLSearchParams(n.search);d.append(h,g),o(`${n.pathname}${d.size>0?`?${d.toString()}`:""}`)},deleteSearchParam:h=>{const g=new URLSearchParams(n.search);g.delete(h),n.historyStack=n.historyStack.map(d=>{const _=new URLSearchParams(d.split("?")[1]);return _.delete(h),`${d.split("?")[0]}${g.size>0?`?${_.toString()}`:""}`}),o(`${n.pathname}${g.size>0?`?${g.toString()}`:""}`)},back:h=>{const{fallback:g="/",to:d}=h||{},[_,S]=g.split("?");if(n.historyLength<=0){const k=window.location.href,[w,y]=k.split("?");if(!y.includes("stackPages"))window.history.replaceState(null,"",g),n.historyLength=0,n.pathname=_,n.search=S?`?${S}`:"";else{const D=new URLSearchParams(y),E=D.get("stackPages")?.split(",")||[],p=E.slice(0,d&&E.includes(d)?E.indexOf(d)+1:-1);p.length===0?D.delete("stackPages"):D.set("stackPages",p.join(","));const C=`${w}${D.toString()?`?${D.toString()}`:""}`;window.history.replaceState(null,"",C),n.search=D.toString()?`?${D.toString()}`:""}}else if(n.historyStack.length>0){const w=new URLSearchParams(n.search).get("stackPages")?.split(",")||[];d&&w.includes(d)&&(n.historyStack=n.historyStack.slice(0,-(w.length-(w.indexOf(d)+1))+1),n.historyLength=n.historyStack.length);const y=n.historyStack.pop();if(y){const[D,E]=y.split("?");window.history.replaceState(null,"",y),n.historyLength=Math.max(0,n.historyLength-=1),n.pathname=D,n.search=E?`?${E}`:""}}},closeDialogStack:()=>{const h=n.historyStack.findIndex(d=>d.includes("stackPages")),g=h===-1?n.historyStack.slice(0):n.historyStack.slice(0,h);if(g.length>0){const d=g.pop();if(d){const[_,S]=d.split("?");window.history.replaceState(null,"",d),n.historyLength=Math.max(0,g.length),n.pathname=_,n.search=S?`?${S}`:"",n.historyStack=g}}else{const d=n.search,_=new URLSearchParams(d);_.delete("stackPages"),window.history.replaceState(null,"",_.toString()?"/?"+_.toString():"/"),n.historyLength=0,n.pathname="/",n.search=_.toString()?"?"+_.toString():"",n.historyStack=[]}}}),he(()=>(window.addEventListener("popstate",r),()=>{window.removeEventListener("popstate",r)}));var f=O(),v=N(f);ee(v,()=>t.children??ie),m(e,f),K()}const Bo={};function vl(e){we(Bo,e)}function hl(){const e=me(Bo);if(!e)throw new Error("No KeyboardVisibleContext found");return e}function gl(e,t){q(t,!0);let n=Le({value:!1});const r=()=>n.value;he(()=>{const i=()=>{setTimeout(()=>{document.activeElement instanceof HTMLInputElement&&document.activeElement.type==="text"||document.activeElement instanceof HTMLTextAreaElement?n.value=!0:n.value=!1},0)};return i(),document.addEventListener("focusin",i),document.addEventListener("focusout",i),()=>{document.removeEventListener("focusin",i),document.removeEventListener("focusout",i)}}),vl({getIsKeyboardVisible:r});var a=O(),o=N(a);ee(o,()=>t.children??ie),m(e,a),K()}const Fo={};function _l(e){we(Fo,e)}function mr(){const e=me(Fo);if(!e)throw new Error("No BroadcastContext found");return e}function pl(e,t){q(t,!0);const n=crypto.randomUUID(),r=new BroadcastChannel("app");_l({tabId:n,send:l=>{r.postMessage(JSON.stringify({...l,tabId:n}))},getBroadcastChannel:()=>r});var o=O(),i=N(o);ee(i,()=>t.children??ie),m(e,o),K()}const Ho={};function ml(e){we(Ho,e)}function Uo(){const e=me(Ho);if(!e)throw new Error("No SearchContext found");return e}const jo={};function wl(e){we(jo,e)}function oa(){const e=me(jo);if(!e)throw new Error("No FeedSearchContext found");return e}function yl(e,t){q(t,!0);const{getFeedSearch:n}=oa(),r=Le({feedSearch:n(),tagSearch:""});ml(r);var a=O(),o=N(a);ee(o,()=>t.children??ie),m(e,a),K()}function Sl(e,t){q(t,!0);const{navigate:n,getAppHistory:r}=gt(),a=L(r),o="feedSearch";let i=M(Le(new URLSearchParams(r().search).get(o)||""));wl({getFeedSearch:()=>s(i),setFeedSearch:v=>{b(i,v,!0);const h=new URLSearchParams(s(a).search);v===""?h.delete(o):h.set(o,v),n(`${s(a).pathname}${h.size>0?`?${h.toString()}`:""}`)}});var u=O(),f=N(u);ee(f,()=>t.children??ie),m(e,u),K()}const zo={};function bl(e){we(zo,e)}function Vo(){const e=me(zo);if(!e)throw new Error("No FeedOrderContext found");return e}function kl(e,t){q(t,!0);const{navigate:n,getAppHistory:r}=gt(),a=L(r),o="feedOrder";let i=M(Le(new URLSearchParams(r().search).get(o)||"newest"));bl({getFeedOrder:()=>s(i),setFeedOrder:v=>{b(i,v,!0);const h=new URLSearchParams(s(a).search);v==="newest"?h.delete(o):h.set(o,v),n(`${s(a).pathname}${h.size>0?`?${h.toString()}`:""}`)}});var u=O(),f=N(u);ee(f,()=>t.children??ie),m(e,u),K()}const qo={};function Cl(e){we(qo,e)}function El(){const e=me(qo);if(!e)throw new Error("No SidebarContext found");return e}function Pl(e,t){q(t,!0);const n=(f,v)=>{if(!v)return f;if(v.type==="closed")return{type:"closed"};switch(f.type){case"opened":return v.type==="close"?{type:"closing"}:v.type==="swipe"?{type:"openSwiping"}:f;case"closed":return v.type==="open"?{type:"opening"}:v.type==="swipe"?{type:"closeSwiping"}:f;case"openSwiping":return v.type==="open"?{type:"opening"}:v.type==="close"?{type:"closing"}:f;case"closeSwiping":return v.type==="open"?{type:"opening"}:v.type==="close"?{type:"closing"}:f;case"opening":return v.type==="opened"?{type:"opened"}:f;default:return f}};let r=M(Le(n({type:"closed"})));const a=f=>{b(r,n(s(r),f),!0)};Cl({sidebarOpen:()=>{a({type:"open"})},sidebarClose:()=>{a({type:"close"})},handleComputeState:a,getSidebarState:()=>s(r)});var c=O(),u=N(c);ee(u,()=>t.children??ie),m(e,c),K()}const Ko={};function xl(e){we(Ko,e)}function Dl(){const e=me(Ko);if(!e)throw new Error("No SelectedTagsContext found");return e}function Al(e,t){q(t,!0);const{getAppHistory:n}=gt(),r=()=>new URLSearchParams(n().search).get("selectedTags")?.split(",")||[];let a=r();xl({getSelectedTags:()=>{const c=r();return c.join(",")===a.join(",")||(a=c),a}});var i=O(),l=N(i);ee(l,()=>t.children??ie),m(e,i),K()}function Nl(e){return new Promise((t,n)=>{const a=e?.transaction(Tt,"readonly")?.objectStore(Tt).get("default");Q(a,Re,()=>{const o=a?.result?.settings;t(o)}),Q(a,Be,()=>{n()})})}function Tl(e,t){return new Promise((n,r)=>{const i=e?.transaction(Tt,"readwrite")?.objectStore(Tt)?.put({id:"default",settings:t});Q(i,Re,()=>{n()}),Q(i,Be,()=>{r()})})}function Ll(e){return new Promise((t,n)=>{const o=e?.transaction(Tt,"readwrite")?.objectStore(Tt)?.clear();Q(o,Re,()=>{t()}),Q(o,Be,()=>{n()})})}const Wo={};function Ol(e){we(Wo,e)}function Ml(){const e=me(Wo);if(!e)throw new Error("No SettingsContext found");return e}function Il(e,t){q(t,!0);let n=M(Le({showFavicon:!1}));const{getDB:r}=pr(),a=mr(),o=L(r),i=L(()=>a.getBroadcastChannel()),l=async()=>{const d=await Nl(s(o));d&&b(n,d,!0)},c=async()=>{l()},u=async d=>{const _=JSON.parse(d.data),S=_;if(_.tabId&&_.tabId===a.tabId){S.type==="exit"&&(b(n,{showFavicon:!1},!0),Ll(s(o)));return}S.type==="updateSettings"?l():S.type==="exit"&&b(n,{showFavicon:!1},!0)},f=()=>s(n).showFavicon,v=async d=>{s(n).showFavicon=d,await Tl(s(o),{showFavicon:d}),a.send({type:"updateSettings"})};he(()=>(c(),s(i).addEventListener("message",u),()=>{s(i).removeEventListener("message",u)})),Ol({getFaviconEnabled:f,setFaviconShown:v});var h=O(),g=N(h);ee(g,()=>t.children??ie),m(e,h),K()}function Aa(e){return new Promise((t,n)=>{const a=e?.transaction(Nt,"readonly")?.objectStore(Nt).get("default");Q(a,Re,()=>{const o=a?.result?.account;t(o)}),Q(a,Be,()=>{n()})})}function $n(e,t){return new Promise((n,r)=>{const i=e?.transaction(Nt,"readwrite")?.objectStore(Nt)?.put({id:"default",account:t});Q(i,Re,()=>{n()}),Q(i,Be,()=>{r()})})}function Rl(e){return new Promise((t,n)=>{const o=e?.transaction(Nt,"readwrite")?.objectStore(Nt)?.clear();Q(o,Re,()=>{t()}),Q(o,Be,()=>{n()})})}const Yo={};function Bl(e){we(Yo,e)}function Go(){const e=me(Yo);if(!e)throw new Error("No AccountContext found");return e}function xt(e){const t=String.fromCharCode(...new Uint8Array(e));return window.btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function sa(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");const n=t.length%4;return n&&(t+="=".repeat(4-n)),t}function ia(e){try{const t=atob(e),n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n.buffer}catch(t){throw t}}function Yu(e){const t=sa(e);return ia(t)}const Gu=async({challenge:e,clientKey:t})=>{const n=Math.floor(Math.random()*100),r={challenge:ia(sa(e)),rp:{id:"localhost",name:"notes"},user:{id:new Uint8Array([...t,...crypto.getRandomValues(new Uint8Array(16))]).buffer,name:`account_${n}`,displayName:`account_${n}`},pubKeyCredParams:[{type:"public-key",alg:-7},{type:"public-key",alg:-257}],authenticatorSelection:{userVerification:"required"},timeout:6e4,attestation:"none"},a=await navigator.credentials.create({publicKey:r});if(a){const o=a.response;return{challenge:e,id:a.id,rawId:xt(a.rawId),type:a.type,response:{clientDataJSON:xt(o.clientDataJSON),attestationObject:xt(o.attestationObject)}}}else throw new Error},Xu=async({challenge:e})=>{const t={challenge:ia(sa(e)),timeout:6e4,rpId:"localhost",userVerification:"required"},n=await navigator.credentials.get({publicKey:t});if(n){const r=n.response;new DataView(r.authenticatorData).getUint32(33,!1);const a={challenge:e,id:n.id,rawId:xt(n.rawId),type:n.type,response:{authenticatorData:xt(r.authenticatorData),clientDataJSON:xt(r.clientDataJSON),signature:xt(r.signature)}};if(!r.userHandle)throw new Error("No credential found");const o=new Uint8Array(r.userHandle).slice(0,32);return{credentialData:a,clientKey:o}}else throw new Error("No credential found")},Fl=async e=>{const t=await crypto.subtle.importKey("raw",e.serverKey,{name:"HKDF"},!1,["deriveKey"]),n=await crypto.subtle.deriveKey({name:"HKDF",salt:new Uint8Array(12),info:new TextEncoder().encode("aes-gcm-shared"),hash:"SHA-256"},t,{name:"AES-GCM",length:256},!1,["encrypt"]);return{encryptedClientKey:await crypto.subtle.encrypt({name:"AES-GCM",iv:new Uint8Array(12)},n,e.clientKey)}},Zu=async e=>{const t=await crypto.subtle.importKey("raw",e.serverKey,{name:"HKDF"},!1,["deriveKey"]),n=await crypto.subtle.deriveKey({name:"HKDF",info:new TextEncoder().encode("aes-gcm-shared"),hash:"SHA-256",salt:new Uint8Array(12)},t,{name:"AES-GCM",length:256},!1,["decrypt"]),r=await crypto.subtle.decrypt({name:"AES-GCM",iv:new Uint8Array(12)},n,e.encryptedClientKey);return new Uint8Array(r)};function Hl(e,t){q(t,!0);const{navigate:n}=gt(),{hasStackPage:r,pushStackPages:a,clearStackPages:o}=St();let i=M(void 0);const{getDB:l}=pr(),c=mr(),u=L(l),f=L(()=>c.getBroadcastChannel()),v=async()=>{const E=await Aa(s(u));E&&(b(i,E,!0),o(),n("/"))},h=async()=>{const E=await Aa(s(u));E===void 0?a("start"):(r("start")&&(o(),n("/")),E?(b(i,E,!0),await Nr()):b(i,null))},g=async E=>{const p=JSON.parse(E.data);if(p.tabId&&p.tabId===c.tabId)return;const C=p;C.type==="initLocalAccount"?(b(i,null),o(),n("/")):C.type==="initCloudAccount"?(v(),o(),n("/")):C.type==="disconnectCloudAccount"?b(i,null):C.type==="exit"?b(i,void 0):C.type==="updateAccount"&&v()};he(()=>(h(),s(f).addEventListener("message",g),()=>{s(f).removeEventListener("message",g)})),Bl({getAccount:()=>s(i),initLocalAccount:async()=>{await Nr(),b(i,null),await $n(s(u),null),c.send({type:"initLocalAccount"})},initCloudAccount:async E=>{await Nr();const{encryptedClientKey:p}=await Fl({clientKey:E.clientKey,serverKey:E.serverKey}),C={encryptedClientKey:xt(p),subscriptionExpires:E.subscriptionExpires||-1,lastSync:-1};await $n(s(u),C),b(i,C,!0),c.send({type:"initCloudAccount"})},disconnectCloudAccount:async()=>{b(i,null),await $n(s(u),null);try{await fetch("/api/dropSession",{method:"POST"})}catch{}c.send({type:"disconnectCloudAccount"})},updateSubscription:async E=>{if(!s(i))throw new Error("No account to update subscription for");const p={...s(i),subscriptionExpires:E};await $n(s(u),p),c.send({type:"updateAccount"})},exitApp:async()=>{b(i,void 0),await Rl(s(u)),c.send({type:"exit"})}});var y=O(),D=N(y);ee(D,()=>t.children??ie),m(e,y),K()}const Xo={};function Ul(e){we(Xo,e)}function Ju(){const e=me(Xo);if(!e)throw new Error("No DraftsContext found");return e}function jl(e){return new Promise((t,n)=>{const a=e?.transaction(vt,"readonly")?.objectStore(vt).getAll();Q(a,Re,()=>{const o=a?.result||[];t(o)}),Q(a,Be,()=>{n()})})}function zl(e,t){return new Promise((n,r)=>{const i=e?.transaction(vt,"readwrite")?.objectStore(vt)?.put({...t});Q(i,Re,()=>{n()}),Q(i,Be,()=>{r()})})}function Vl(e,t){return new Promise((n,r)=>{const i=e?.transaction(vt,"readwrite")?.objectStore(vt)?.delete(t);Q(i,Re,()=>{n()}),Q(i,Be,()=>{r()})})}function ql(e){return new Promise((t,n)=>{const o=e?.transaction(vt,"readwrite")?.objectStore(vt)?.clear();Q(o,Re,()=>{t()}),Q(o,Be,()=>{n()})})}function Kl(e,t){q(t,!0);let n,r=M(void 0);const{getDB:a}=pr(),o=mr(),i=L(a),l=L(()=>o.getBroadcastChannel()),c=w=>{const y=new Map;w.forEach(D=>{y.set(D.id,D)}),n=y,b(r,()=>n)},u=async()=>{const w=await jl(s(i));c(w)},f=w=>s(r)?.()?.get(w),v=w=>{if(!n)throw new Error("Drafts state is not initialized");n.delete(w),b(r,()=>n)},h=w=>{if(!n)throw new Error("Drafts state is not initialized");n.set(w.id,w),b(r,()=>n)},g=async w=>{const y={...w};h(y),o.send({type:"putDraft",data:{draft:y}}),await zl(s(i),{...y})},d=async w=>{v(w),await Vl(s(i),w),o.send({type:"deleteDraft",data:{id:w}})},_=async w=>{const y=JSON.parse(w.data),D=y;if(y.tabId&&y.tabId===o.tabId){D.type==="exit"&&(n=void 0,b(r,()=>{}),ql(s(i)));return}if(D.type==="putDraft"){const E=D.data.draft;h(E)}else if(D.type==="deleteDraft"){const E=D.data.id;v(E)}else D.type==="exit"&&(n=void 0,b(r,()=>{}))};he(()=>(u(),s(l).addEventListener("message",_),()=>{s(l).removeEventListener("message",_)})),Ul({getDraft:f,putDraft:g,deleteDraft:d});var S=O(),k=N(S);ee(k,()=>t.children??ie),m(e,S),K()}const Wl=()=>crypto.randomUUID();function nr(e){return new Promise((t,n)=>{const a=e?.transaction(rt,"readonly")?.objectStore(rt).getAll();Q(a,Re,()=>{const o=a?.result||[];t(o)}),Q(a,Be,()=>{n()})})}function Tr(e,t){return new Promise((n,r)=>{const i=e?.transaction(rt,"readwrite")?.objectStore(rt)?.put({...t});Q(i,Re,()=>{n()}),Q(i,Be,()=>{r()})})}function Yl(e,t){return new Promise((n,r)=>{const i=e?.transaction(rt,"readwrite")?.objectStore(rt)?.delete(t);Q(i,Re,()=>{n()}),Q(i,Be,()=>{r()})})}function Na(e){return new Promise((t,n)=>{const o=e?.transaction(rt,"readwrite")?.objectStore(rt)?.clear();Q(o,Re,()=>{t()}),Q(o,Be,()=>{n()})})}async function Gl(e,t){const n=(await nr(e)).reduce((i,l)=>(i[l.id]=l,i),{}),r={},o=e?.transaction(rt,"readwrite")?.objectStore(rt);t.forEach(i=>{n[i.id]?n[i.id].updatedAt<i.updatedAt&&(r[i.id]=i):r[i.id]=i}),await Promise.all(Object.values(r).map(i=>{const l=o?.put(i);return new Promise((c,u)=>{Q(l,Re,()=>{c()}),Q(l,Be,()=>{u()})})}))}const Zo={};function Xl(e){we(Zo,e)}function wr(){const e=me(Zo);if(!e)throw new Error("No NotesContext found");return e}function Zl(e,t){q(t,!0);let n,r,a=M(()=>n),o=M(()=>r);const{getDB:i}=pr(),l=mr(),c=L(i),u=L(()=>l.getBroadcastChannel()),f=x=>{n=[],r=new Map;for(const T of x)n.push(T),r.set(T.id,T);b(a,()=>n),b(o,()=>r)},v=async()=>{const x=await nr(s(c));f(x)},h=()=>s(a)||(()=>n||[]),g=()=>s(o)||(()=>r||new Map),d=x=>{if(!n||!r)throw new Error("Notes appState is not initialized");const T={...x};n.push(T),r.set(T.id,T),b(a,()=>n),b(o,()=>r)},_=x=>{if(!n||!r)throw new Error("Notes appState is not initialized");for(let T=0;T<n.length;T++)n[T]?.id===x.id&&n&&(n[T]=x);r.set(x.id,x),b(a,()=>n),b(o,()=>r)},S=x=>{if(!n||!r)throw new Error("Notes state is not initialized");r.delete(x);const T=n.findIndex(B=>B?.id===x);T!==-1&&(n[T]=void 0),b(a,()=>n),b(o,()=>r)},k=()=>{f([])},w=async x=>{const T={...x,id:Wl(),createdAt:Date.now(),updatedAt:Date.now()};d(T),l.send({type:"addNote",data:{note:T}}),await Tr(s(c),{...T})},y=async x=>{const T={...x,updatedAt:Date.now()};l.send({type:"updateNote",data:{note:T}}),_(T),await Tr(s(c),T)},D=(x,T)=>{const B=r?.get(x);if(!B)return;const V={...B,deleting:T};l.send({type:"updateNote",data:{note:V}}),_(V)},E=async(x,T)=>{const B=r?.get(x);if(!B)return;const V={...B,pinned:T};l.send({type:"updateNote",data:{note:V}}),_(V),await Tr(s(c),V)},p=async x=>{r?.get(x),l.send({type:"deleteNote",data:{id:x}}),S(x),await Yl(s(c),x)},C=async()=>{l.send({type:"clearNotes"}),k(),await Na(s(c))},P=async x=>{await Gl(s(c),x),l.send({type:"reloadNotes"});const T=await nr(s(c));f(T)},R=x=>s(o)?.()?.get(x),H=()=>{const x=s(a)?.(),T=s(o)?.();return x!==void 0&&T!==void 0},z=async x=>{const T=JSON.parse(x.data),B=T;if(T.tabId&&T.tabId===l.tabId){B.type==="exit"&&(n=void 0,b(a,()=>{}),r=void 0,b(o,()=>{}),Na(s(c)));return}if(B.type==="addNote"){const V=B.data.note;d(V)}else if(B.type==="updateNote"){const V=B.data.note;_(V)}else if(B.type==="deleteNote"){const V=B.data.id;S(V)}else if(B.type==="clearNotes")k();else if(B.type==="reloadNotes"){const V=await nr(s(c));f(V)}else B.type==="exit"&&(n=void 0,b(a,()=>{}),r=void 0,b(o,()=>{}))};he(()=>(v(),s(u).addEventListener("message",z),()=>{s(u).removeEventListener("message",z)})),Xl({addNote:w,updateNote:y,deleteNote:p,pinNote:E,setDeleting:D,getGetNotes:h,getGetMapNotes:g,importNotes:P,clearNotes:C,getNoteById:R,isReadyStore:H});var Y=O(),U=N(Y);ee(U,()=>t.children??ie),m(e,Y),K()}function Jl(e,t){Vi(e,{children:(n,r)=>{Wi(n,{children:(a,o)=>{Xi(a,{children:(i,l)=>{Ji(i,{children:(c,u)=>{Qi(c,{children:(f,v)=>{tl(f,{children:(h,g)=>{gl(h,{children:(d,_)=>{fl(d,{children:(S,k)=>{dl(S,{children:(w,y)=>{ll(w,{children:(D,E)=>{pl(D,{children:(p,C)=>{rl(p,{children:(P,R)=>{Sl(P,{children:(H,z)=>{yl(H,{children:(Y,U)=>{kl(Y,{children:(x,T)=>{Pl(x,{children:(B,V)=>{Al(B,{children:(ae,G)=>{Il(ae,{children:(ne,pe)=>{Hl(ne,{children:(re,_e)=>{Kl(re,{children:(X,Z)=>{Zl(X,{children:(Oe,ye)=>{var ue=O(),te=N(ue);ee(te,()=>t.children??ie),m(Oe,ue)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})}let kt=M(""),Mt=M(null),Cn=M(null),En=M(null);function yr(e,t){b(kt,""),setTimeout(()=>{b(kt,e,!0),t?.onFinish&&b(Cn,t.onFinish,!0),t?.onCancel&&b(En,t.onCancel,!0)},16)}const $l=(e,t,n,r,a)=>{e.preventDefault(),s(t)&&(b(n,null),s(t)(),b(t,null)),b(r,""),s(a)?.style.removeProperty("opacity")};var Ql=W('<button type="button" class="undoButton svelte-7afsz8">undo</button>'),ec=W('<div class="notification svelte-7afsz8"><span> </span> <!></div>'),tc=W("<div><!></div>");function nc(e,t){q(t,!0),Ce(()=>{s(kt);const o=s(En)?2e3:800;s(kt)&&(s(Mt)?.getBoundingClientRect(),s(Mt)?.style.setProperty("opacity","1"));const i=setTimeout(()=>{s(Mt)?.style.removeProperty("opacity")},o),l=setTimeout(()=>{b(kt,""),s(Cn)&&s(Cn)(),b(Cn,null),b(En,null),s(Mt)?.style.removeProperty("opacity")},o+400);return()=>{clearTimeout(i),clearTimeout(l)}});var n=tc(),r=A(n);{var a=o=>{var i=ec(),l=A(i),c=A(l),u=I(l,2);{var f=v=>{var h=Ql();h.__click=[$l,En,Cn,kt,Mt],m(v,h)};F(u,v=>{s(En)&&v(f)})}it(i,v=>b(Mt,v),()=>s(Mt)),ge(()=>Nn(c,s(kt))),m(o,i)};F(r,o=>{s(kt)&&o(a)})}m(e,n),K()}Ge(["click"]);var rc=W('<span class="vh svelte-14jjkpd"><!></span>');function ot(e,t){var n=rc(),r=A(n);ee(r,()=>t.children),m(e,n)}var ac=Ei('<svg class="svelte-gv09tg"><use></use></svg>');function xe(e,t){let n=se(t,"name",8,"");var r=ac(),a=A(r);ge(()=>Te(a,"href",`#icon-${n()??""}`)),m(e,r)}const oc=(e,t,n,r)=>{const a=t().type;a==="closed"?n():a==="opened"&&r()};var sc=W('<button class="buttonMenu svelte-hxzs42"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>');function Jo(e,t){q(t,!1);const{sidebarOpen:n,getSidebarState:r,sidebarClose:a}=El();ta();var o=sc();o.__click=[oc,r,n,a];var i=A(o);Ee(i,()=>({"--size":"36px"})),xe(i.lastChild,{name:"sidebarMenu"});var l=I(i,2);ot(l,{children:(c,u)=>{var f=He("Menu");m(c,f)}}),m(e,o),K()}Ge(["click"]);var ic=(e,t)=>t.onChange?.(e.target?.value||""),lc=W('<input class="svelte-krv4jy"/>');function Ur(e,t){q(t,!0);let n=se(t,"value",15,"");var r=lc();r.__input=[ic,t],ge(()=>Te(r,"placeholder",t.placeholder)),Qr("focus",r,function(...a){t.onFocus?.apply(this,a)}),Bi(r,n),m(e,r),K()}Ge(["input"]);function $o(e,t){q(t,!0),he(()=>{const n=r=>{r.target&&t.dialog?.open&&t.dialogInner&&t.dialogInner!==r.target&&!t.dialogInner.contains(r.target)&&t.onClose()};return document.addEventListener("mousedown",n,{capture:!0}),()=>{document.removeEventListener("mousedown",n,{capture:!0})}}),K()}var cc=W('<dialog><div class="dialogInner svelte-1wekt4o"><!></div></dialog> <!>',1);function Qo(e,t){q(t,!0);let n=M(null),r=M(null),a=M(!1),{showDialog:o,hideDialog:i}=zn();const l=()=>{const d=setTimeout(()=>{t.onClosed()},150);s(n)?.addEventListener("transitionend",()=>{clearTimeout(d),t.onClosed()},{once:!0}),b(a,!1)};Ce(()=>{t.startClose&&l()}),he(()=>{s(n)?.showModal(),s(n)?.getClientRects(),b(a,!0)}),he(()=>(o(),()=>{i()}));var c=cc(),u=N(c),f=A(u),v=A(f);ee(v,()=>t.children),it(f,d=>b(r,d),()=>s(r)),it(u,d=>b(n,d),()=>s(n));var h=I(u,2);{var g=d=>{$o(d,{get dialog(){return s(n)},get dialogInner(){return s(r)},onClose:l})};F(h,d=>{s(n)&&s(r)&&d(g)})}ge(()=>ce(u,1,le(["dialog",{shown:s(a)}]),"svelte-1wekt4o")),m(e,c),K()}var uc=W("<div><!></div>");function es(e,t){q(t,!0);let n=M(!1),r=M(null);const a=()=>{const u=setTimeout(()=>{t.onClosed()},150);s(r)?.addEventListener("transitionend",()=>{clearTimeout(u),t.onClosed()},{once:!0}),b(n,!1)},o=u=>{u.target!==s(r)&&!s(r)?.contains(u.target)&&a()},i=u=>{u.target!==s(r)&&!s(r)?.contains(u.target)&&a()};he(()=>{s(r)?.getClientRects(),b(n,!0);const u=setTimeout(()=>{document.addEventListener("focusin",o),document.addEventListener("click",i)},0);return()=>{clearTimeout(u),document.removeEventListener("focusin",o),document.removeEventListener("click",i)}}),Ce(()=>{t.startClose&&a()});var l=uc(),c=A(l);ee(c,()=>t.children),it(l,u=>b(r,u),()=>s(r)),ge(()=>ce(l,1,le(["menu",{top:t.positionTop,shown:s(n)}]),"svelte-vbw57a")),m(e,l),K()}const dc=(e,t)=>{s(t)||b(t,!0)};var fc=(e,t)=>t("newest"),vc=(e,t)=>t("oldest"),hc=(e,t)=>t("AtoZ"),gc=(e,t)=>t("ZtoA"),_c=W("<div><button>Newest</button> <button>Oldest</button> <button>A to Z</button> <button>Z to A</button></div>"),pc=W('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),mc=W('<div class="orderMenu svelte-110m8z1"><button><!> <!></button> <!></div>');function wc(e,t){q(t,!0);const n=(w,y=ie)=>{var D=_c(),E=A(D);E.__click=[fc,f];var p=I(E,2);p.__click=[vc,f];var C=I(p,2);C.__click=[hc,f];var P=I(C,2);P.__click=[gc,f],ge(()=>{ce(D,1,le(["menu",{menuDialog:y()}]),"svelte-110m8z1"),ce(E,1,le(["menuButton",{menuButtonDialog:y(),current:s(u)==="newest"}]),"svelte-110m8z1"),ce(p,1,le(["menuButton",{menuButtonDialog:y(),current:s(u)==="oldest"}]),"svelte-110m8z1"),ce(C,1,le(["menuButton",{menuButtonDialog:y(),current:s(u)==="AtoZ"}]),"svelte-110m8z1"),ce(P,1,le(["menuButton",{menuButtonDialog:y(),current:s(u)==="ZtoA"}]),"svelte-110m8z1")}),m(w,D)};let r=M(!1),a=M(!1);const{checkMobileSize:o}=wn(),{getFeedOrder:i,setFeedOrder:l}=Vo();let c=L(o),u=L(i);const f=w=>{b(a,!0),l(w)},v=()=>{b(r,!1),b(a,!1)};var h=mc(),g=A(h);g.__click=[dc,r],ce(g,1,le(["button","buttonMenu"]),"svelte-110m8z1");var d=A(g);xe(d,{name:"filter"});var _=I(d,2);ot(_,{children:(w,y)=>{var D=He("show feed order menu");m(w,D)}});var S=I(g,2);{var k=w=>{var y=O(),D=N(y);{var E=C=>{Qo(C,{get startClose(){return s(a)},onClosed:v,children:(P,R)=>{n(P,()=>!0)},$$slots:{default:!0}})},p=C=>{var P=pc(),R=N(P);Ee(R,()=>({"--right":"20px","--top":"60px"})),es(R.lastChild,{get startClose(){return s(a)},onClosed:v,children:(H,z)=>{n(H,()=>!1)},$$slots:{default:!0}}),m(C,P)};F(D,C=>{s(c)?C(E):C(p,!1)})}m(w,y)};F(S,w=>{s(r)&&w(k)})}m(e,h),K()}Ge(["click"]);var j=(e=>(e.NewNote="newNote",e.EditNote="editNote",e.Settings="settings",e.ImportData="importData",e.ExportData="exportData",e.ClearStore="clearStore",e.Account="account",e.Sync="sync",e.Start="start",e.Auth="auth",e.Signin="signin",e.Signup="signup",e.AccessKeys="accessKeys",e.ConfirmAccessKey="confirmAccessKey",e.Subscription="subscription",e.Exit="exit",e.NotFound="notFound",e.About="about",e))(j||{}),yc=W('<div class="header svelte-a73915"><div class="top svelte-a73915"><div class="menu svelte-a73915"><a class="link svelte-a73915"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Settings</span></a> <a class="link svelte-a73915"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Sync</span></a></div> <div class="mobile svelte-a73915"><!></div> <a class="buttonAdd svelte-a73915"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Note</span></a></div> <div class="bottom svelte-a73915"><div><div class="sidebarSearchWrapper"><!></div></div> <div class="right svelte-a73915"><div class="filter svelte-a73915"><div class="feedSearchWrapper svelte-a73915"><!></div> <!></div></div></div></div>');function Sc(e,t){q(t,!0);const{createHandlePage:n,getPageUrl:r}=St(),a=Uo(),{setFeedSearch:o}=oa(),{getScrollContainer:i}=na();let l=L(i);const c=()=>{s(l)&&s(l).scrollTo({top:0,behavior:"smooth"})},u=V=>{o(V)};var f=yc(),v=A(f),h=A(v),g=A(h),d=L(()=>n(j.Settings));g.__click=function(...V){s(d)?.apply(this,V)};var _=A(g);Ee(_,()=>({"--rotate":"30deg","--size":"20px"})),xe(_.lastChild,{name:"settings"});var S=I(g,2),k=L(()=>n(j.Sync));S.__click=function(...V){s(k)?.apply(this,V)};var w=A(S);Ee(w,()=>({"--size":"20px"})),xe(w.lastChild,{name:"sync"});var y=I(h,2),D=A(y);Jo(D,{});var E=I(y,2),p=L(()=>n(j.NewNote));E.__click=function(...V){s(p)?.apply(this,V)};var C=A(E);Ee(C,()=>({"--size":"16px","--color":"#b0b0b0"})),xe(C.lastChild,{name:"plus"});var P=I(v,2),R=A(P);ce(R,1,le(["left"]),"svelte-a73915");var H=A(R),z=A(H);Ur(z,{placeholder:"Search tag",get value(){return a.tagSearch},set value(V){a.tagSearch=V}});var Y=I(R,2),U=A(Y),x=A(U),T=A(x);Ur(T,{onFocus:c,onChange:u,placeholder:"Search",get value(){return a.feedSearch}});var B=I(x,2);wc(B,{}),ge((V,ae,G)=>{Te(g,"href",V),Te(S,"href",ae),Te(E,"href",G)},[()=>r(j.Settings),()=>r(j.Sync),()=>r(j.NewNote)]),m(e,f),K()}Ge(["click"]);function bc(e,t){q(t,!0);const{getIsKeyboardVisible:n}=hl();let r=se(t,"dialog",7);const a=L(n),o=jn();let i=null;const l=()=>{t.dialogState==="swiping"&&t.onClose()};Ce(()=>(t.dialogState==="swiping"&&(i=setTimeout(l,3e3)),()=>{i&&(clearTimeout(i),i=null)}));let c=null,u=null;const f=3,v=50,h=5,g=.6,d=.3,_=.35,S=.95;let k=0,w=0,y=0,D=!1,E=!1,p=0,C=0,P=0;const R=()=>{k=0,w=0,D=!1,E=!1,p=0,C=0,P=0,y=0,c=null,u!==null&&(cancelAnimationFrame(u),u=null),i&&(clearTimeout(i),i=null)},H=G=>{r()&&t.dialogState==="opened"&&(k=G.touches[0].clientX,w=G.touches[0].clientY,y=performance.now(),D=!0,E=!1)},z=G=>t.dialogState==="opened"&&G>0||t.dialogState==="swiping"&&G>0,Y=()=>{if(r()){r().style.setProperty("--transition-timing","0s"),t.onSwipe(),navigator.vibrate&&navigator.vibrate(10);try{const G=window.getComputedStyle(r()),ne=G.transform||G.webkitTransform||"";if(C=r().offsetWidth,(t.dialogState==="swiping"||t.dialogState==="opened")&&(p=0),ne&&ne!=="none")try{p=new DOMMatrix(ne).m41}catch{}E=!0}catch{R()}}},U=()=>{if(!r())return;const ne=Math.abs(p+P*C/100)/C;r().style.setProperty("--backdrop-bg",`rgba(0, 0, 0, ${.1*(1-ne)})`)},x=()=>{if(u=null,!c||!D||!r()||s(a)){R();return}const G=c.touches[0].clientX,ne=c.touches[0].clientY,pe=G-k,re=ne-w,_e=Math.abs(pe)>Math.abs(re),X=Math.abs(pe)>f;if(!E)if(_e&&X&&z(pe))try{Y()}catch{R();return}else return;if(!z(pe))return;r().style.setProperty("--transition-timing","0s");let Z=p+pe*S;Z=Math.max(0,Math.min(C,Z)),r().style.transform=`translate3d(${Z}px, 0, 0)`,o.swipingRatio=Math.abs(1-Z/C),P=(Z-p)/C*100,t.dialogState==="swiping"&&(i&&clearTimeout(i),i=setTimeout(l,3e3)),U()},T=G=>{if(!D)return;c=G,u===null&&(u=requestAnimationFrame(x));const ne=G.touches[0].clientX-k,pe=G.touches[0].clientY-w,re=Math.abs(ne)>Math.abs(pe);E&&re&&G.preventDefault()},B=G=>{const ne=Math.abs(G);if(ne>=g)return h;if(ne>=d){const pe=(ne-d)/(g-d);return v-pe*(v-h)}else return v},V=(G,ne)=>{if(Math.abs(G)>=g)return _*.5;const re=Math.abs(P)/100;return ne?_*Math.max(.5,1-re):_*Math.max(.5,re)},ae=G=>{if(u!==null&&(cancelAnimationFrame(u),u=null),!D||!r()){R();return}if(!E){R();return}let ne=0;if(G?.changedTouches?.[0]){const Z=G.changedTouches[0].clientX,ye=performance.now()-y;ye>0&&(ne=(Z-k)/ye)}const pe=B(ne);let re=null;t.dialogState==="swiping"&&(re=Math.abs(P)>pe||ne<-d?"close":"open");const _e=t.dialogState==="swiping"&&re==="close",X=V(ne,_e);o.duration=X-.02,r().style.setProperty("--transition-timing",`${X}s`),r().offsetWidth,r().style.transform="",re==="open"?t.onOpen():re==="close"&&t.onClose(),r()?.style.removeProperty("--backdrop-bg"),R()};he(()=>(r().addEventListener("touchstart",H,{passive:!0}),r().addEventListener("touchmove",T,{passive:!1}),r().addEventListener("touchend",ae,{passive:!0}),r().addEventListener("touchcancel",ae,{passive:!0}),()=>{r().removeEventListener("touchstart",H),r().removeEventListener("touchmove",T),r().removeEventListener("touchend",ae),r().removeEventListener("touchcancel",ae),u!==null&&cancelAnimationFrame(u)})),K()}var kc=(e,t)=>{t.onStartClose()},Cc=W('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),Ec=W('<dialog><div class="dialogInner svelte-14atrge"><div class="header svelte-14atrge"><div><!></div></div> <!></div></dialog> <!>',1);function Pc(e,t){q(t,!0);let n=350;const{isScrolling:r,enable:a}=Do();let o=M(null),i=M(null);const l=jn(),c=p=>{p.preventDefault(),t.onStartClose()};he(()=>(s(o)?.addEventListener("close",t.onClosed),s(o)?.addEventListener("cancel",c),()=>{s(o)?.removeEventListener("close",t.onClosed),s(o)?.removeEventListener("cancel",c)}));const u=()=>{s(o)?.style.removeProperty("--transition-timing"),s(o)?.style.removeProperty("transform"),s(o)?.style.removeProperty("--backdrop-bg")},f=()=>{a()},v=L(r);Ce(()=>{if(t.dialogState,!!s(o))switch(t.dialogState){case"opening":{s(o).open||s(o).showModal(),s(o).getBoundingClientRect();const p=setTimeout(()=>{u()},n+1),C=()=>{clearTimeout(p),u()};return s(o)?.addEventListener("transitionend",C,{once:!0}),t.onOpened(),()=>{s(o)?.removeEventListener("transitionend",C)}}case"closing":{const p=setTimeout(()=>{t.dialogState==="closing"&&t.onClosed()},n+1),C=()=>{clearTimeout(p),t.onClosed()};return s(o)?.addEventListener("transitionend",C,{once:!0}),()=>{s(o)?.removeEventListener("transitionend",C)}}case"opened":u()}});var h=Ec(),g=N(h),d=A(g),_=A(d),S=A(_),k=A(S);{var w=p=>{var C=Cc();ce(C,1,le(["navigateButton","buttonBack"]),"svelte-14atrge"),C.__click=[kc,t];var P=A(C);Ee(P,()=>({"--size":"36px"})),xe(P.lastChild,{name:"back"});var R=I(P,2);ot(R,{children:(H,z)=>{var Y=He("back");m(H,Y)}}),m(p,C)};F(k,p=>{(!(t.blocked||t.hidden)||t.blocked&&t.unBlockedBack)&&p(w)})}var y=I(_,2);ee(y,()=>t.children),it(d,p=>b(i,p),()=>s(i)),it(g,p=>b(o,p),()=>s(o));var D=I(g,2);{var E=p=>{bc(p,{get onClose(){return t.onStartClose},get onOpen(){return t.onStartOpen},get onSwipe(){return t.onSwipe},get dialogState(){return t.dialogState},get dialog(){return s(o)}})};F(D,p=>{(!s(v)&&t.dialogState==="opened"||t.dialogState==="swiping")&&(!t.blocked||t.unBlockedBack)&&p(E)})}ge(()=>ce(g,1,le([{open:t.dialogState==="opened",hidden:t.hidden,isAnimationOn:l.working&&(!l.isSwiping||!t.hidden)},{hidden:t.hidden}]),"svelte-14atrge")),Qr("scroll",d,f),m(e,h),K()}Ge(["click"]);const Ta=(e,t)=>{if(!t)return e;if(t.type==="closed")return{type:"closed"};switch(e.type){case"opened":return t.type==="close"?{type:"closing"}:t.type==="swipe"?{type:"swiping"}:e;case"closed":return t.type==="open"?{type:"opening"}:e;case"swiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"opening":return t.type==="opened"?{type:"opened"}:e;default:return e}};function xc(e,t){q(t,!0);let n=se(t,"blocked",3,!1),r=se(t,"hiddenDialog",3,!1),a=se(t,"unBlockedBack",3,!1),o=se(t,"onStartClose",3,()=>{}),i=se(t,"onClose",3,()=>{});const l=jn();let c=M(Le(Ta({type:"closed"})));const u=y=>{b(c,Ta(s(c),y),!0)},f=()=>{n()&&!a()||(o()(),u({type:"close"}))},v=()=>{u({type:"open"})},h=()=>{u({type:"opened"}),l.duration=.2},g=()=>{i()(),u({type:"closed"}),l.swipingRatio=1,l.duration=.2},d=()=>{u({type:"swipe"})};Ce(()=>{s(c).type==="swiping"?l.isSwiping=!0:l.isSwiping=!1,s(c).type==="closed"&&t.shownDialog?v():s(c).type==="opened"&&!t.shownDialog&&f()});var _={handleComputeState:u},S=O(),k=N(S);{var w=y=>{Pc(y,{onSwipe:d,onOpened:h,onClosed:g,onStartClose:f,onStartOpen:v,get dialogState(){return s(c).type},get hidden(){return r()},get blocked(){return n()},get unBlockedBack(){return a()},children:(D,E)=>{var p=O(),C=N(p);ee(C,()=>t.children),m(D,p)},$$slots:{default:!0}})};F(k,y=>{s(c).type!=="closed"&&y(w)})}return m(e,S),K(_)}const Dc=({getDialog:e,onOpen:t,onStartClose:n,onClose:r})=>{const a=i=>{i.preventDefault(),n()},o=()=>{r?.()};he(()=>{const i=e();return i?.addEventListener("cancel",a),i?.addEventListener("close",o),()=>{i?.removeEventListener("cancel",a),i?.removeEventListener("close",o)}}),he(()=>{const i=e();i?.showModal(),i?.getBoundingClientRect(),t()})};var Ac=(e,t)=>{t.onStartBack()},Nc=W('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),Tc=(e,t)=>{t.onStartClose()},Lc=W('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),Oc=W('<dialog><div class="dialogInner svelte-rm8syc"><div class="header svelte-rm8syc"><div><!></div> <div><!></div></div> <!></div></dialog> <!>',1);function Mc(e,t){q(t,!0);let n=se(t,"blockedDialog",3,!1),r=se(t,"hiddenDialog",3,!1),a=se(t,"isDesktopAnimationOff",3,!1),o=M(null),i=M(null);Dc({getDialog:()=>s(o),onOpen:t.onOpen,onStartClose:t.onStartClose,onClose:t.onClose});const l=jn();Ce(()=>{t.stateDialog==="closing"&&(l.working?s(o)?.addEventListener("transitionend",()=>{s(o)?.close()},{once:!0}):s(o)?.close())});const{getDialogPageHeight:c}=ra(),u=L(c);var f=Oc(),v=N(f),h=A(v),g=A(h),d=A(g),_=A(d);{var S=p=>{var C=Nc();ce(C,1,le(["navigateButton","buttonBack"]),"svelte-rm8syc"),C.__click=[Ac,t];var P=A(C);Ee(P,()=>({"--size":"28px"})),xe(P.lastChild,{name:"back"});var R=I(P,2);ot(R,{children:(H,z)=>{var Y=He("back");m(H,Y)}}),m(p,C)};F(_,p=>{(!(n()||r())||n()&&t.unBlockedBack)&&t.onStartBack&&p(S)})}var k=I(d,2),w=A(k);{var y=p=>{var C=Lc();ce(C,1,le(["navigateButton","buttonClose"]),"svelte-rm8syc"),C.__click=[Tc,t];var P=A(C);Ee(P,()=>({"--size":"28px"})),xe(P.lastChild,{name:"close"});var R=I(P,2);ot(R,{children:(H,z)=>{var Y=He("close");m(H,Y)}}),m(p,C)};F(w,p=>{n()||r()||p(y)})}var D=I(g,2);ee(D,()=>t.children),it(h,p=>b(i,p),()=>s(i)),it(v,p=>b(o,p),()=>s(o));var E=I(v,2);$o(E,{get dialog(){return s(o)},get dialogInner(){return s(i)},get onClose(){return t.onStartClose}}),ge(()=>{Tn(v,`height: ${s(u)+74}px`),ce(v,1,le([{open:t.stateDialog==="open",isAnimationOn:l.working,isDesktopAnimationOff:a(),hiddenDialog:r()}]),"svelte-rm8syc")}),m(e,f),K()}Ge(["click"]);const Ic=({onStartClose:e,onClose:t})=>{let n=M("close");return{get state(){return s(n)},set state(i){b(n,i,!0)},handleStartClose:(i=!1)=>{i||(b(n,"closing"),e?.())},handleOpen:()=>{b(n,"open")},handleClose:()=>{b(n,"close"),t?.()}}};function Rc(e,t){q(t,!0);let n=se(t,"blockedDialog",3,!1),r=se(t,"hiddenDialog",3,!1),a=se(t,"onStartClose",3,()=>{}),o=se(t,"onClose",3,()=>{}),i=Ic({onStartClose:a(),onClose:o()});Ce(()=>{i.state==="close"&&t.shownDialog?i.state="opening":i.state==="open"&&!t.shownDialog&&i.handleStartClose(n())});const l=v=>{v.key==="Escape"&&(document.activeElement instanceof HTMLInputElement&&document.activeElement.type==="text"||document.activeElement instanceof HTMLTextAreaElement||n())&&(v.preventDefault(),v.stopPropagation())};he(()=>(document.addEventListener("keydown",l),()=>{document.removeEventListener("keydown",l)}));var c=O(),u=N(c);{var f=v=>{Mc(v,{get stateDialog(){return i.state},get blockedDialog(){return n()},get unBlockedBack(){return t.unBlockedBack},get hiddenDialog(){return r()},get onOpen(){return i.handleOpen},get onStartBack(){return t.onStartBack},onStartClose:()=>{i.handleStartClose(n())},get onClose(){return i.handleClose},children:(h,g)=>{var d=O(),_=N(d);ee(_,()=>t.children),m(h,d)},$$slots:{default:!0}})};F(u,v=>{i.state!=="close"&&v(f)})}m(e,c),K()}function Bc(e,t){q(t,!0);let n=se(t,"blockedDialog",3,!1),r=se(t,"hiddenDialog",3,!1),a=se(t,"isLastDialog",3,!1),o=se(t,"onStartClose",3,()=>{}),i=se(t,"onClose",3,()=>{});const l=L(()=>a()?void 0:t.onStartBack),{showDialog:c,hideDialog:u}=zn();he(()=>(c(),()=>{u()}));const{checkMobileSize:f}=wn();var v=O(),h=N(v);{var g=_=>{xc(_,{get shownDialog(){return t.shownDialog},get blocked(){return n()},get unBlockedBack(){return t.unBlockedBack},get hiddenDialog(){return r()},get children(){return t.children},get onStartClose(){return t.onStartBack},get onClose(){return i()}})},d=_=>{Rc(_,{get shownDialog(){return t.shownDialog},get blockedDialog(){return n()},get unBlockedBack(){return t.unBlockedBack},get hiddenDialog(){return r()},get children(){return t.children},get onStartBack(){return s(l)},get onStartClose(){return o()},get onClose(){return i()}})};F(h,_=>{f()?_(g):_(d,!1)})}m(e,v),K()}function La(e,t){q(t,!0);const{back:n,closeDialogStack:r}=gt(),{popStackPages:a}=St();let o=se(t,"blocked",3,!1),i=se(t,"isLastDialog",3,!1),l=se(t,"onBack",3,()=>{});const{checkBlockedDialog:c,checkUnBlockedBackDialog:u}=zn(),f=L(()=>o()||t.hidden||c()),v=L(()=>u()&&!i());Bc(e,{get shownDialog(){return t.shown},get blockedDialog(){return s(f)},get unBlockedBack(){return s(v)},get hiddenDialog(){return t.hidden},get isLastDialog(){return i()},onStartBack:()=>{(!s(f)||s(f)&&s(v))&&t.shown&&(n(),l()())},onStartClose:()=>{(!s(f)||s(f)&&s(v))&&t.shown&&r()},onClose:()=>{a()},children:(_,S)=>{var k=O(),w=N(k);ee(w,()=>t.children),m(_,k)},$$slots:{default:!0}}),K()}const Fc="modulepreload",Hc=function(e){return"/"+e},Oa={},Ne=function(t,n,r){let a=Promise.resolve();if(n&&n.length>0){let c=function(u){return Promise.all(u.map(f=>Promise.resolve(f).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=i?.nonce||i?.getAttribute("nonce");a=c(n.map(u=>{if(u=Hc(u),u in Oa)return;Oa[u]=!0;const f=u.endsWith(".css"),v=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${v}`))return;const h=document.createElement("link");if(h.rel=f?"stylesheet":Fc,f||(h.as="script"),h.crossOrigin="",h.href=u,l&&h.setAttribute("nonce",l),document.head.appendChild(h),f)return new Promise((g,d)=>{h.addEventListener("load",g),h.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${u}`)))})}))}function o(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return a.then(i=>{for(const l of i||[])l.status==="rejected"&&o(l.reason);return t().catch(o)})};var Uc=W('<button> <svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></button>');function nn(e,t){let n=L(()=>t.style==="selected"?"45deg":"0deg");var r=Uc();r.__click=function(...i){t.onClick?.apply(this,i)};var a=A(r),o=I(a);Ee(o,()=>({"--size":t.size==="small"?"10px":"12px","--rotate":s(n)})),xe(o.lastChild,{name:"plus"}),ge(()=>{Te(r,"type",t.type),ce(r,1,le([{selectedTag:t.style==="selected",small:t.size==="small"}]),"svelte-15zw27r"),Nn(a,`${t.title??""} `)}),m(e,r)}Ge(["click"]);var jc=W("<div></div>"),zc=W('<div class="sidebarFixed svelte-rnyoa6"><div class="nav svelte-rnyoa6"><!> <div class="menu svelte-rnyoa6"><a class="link svelte-rnyoa6"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a> <a class="link svelte-rnyoa6"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a></div></div> <div class="searchWrapper svelte-rnyoa6"><!></div> <!></div> <div><!> <!></div>',1),Vc=W("<div></div>"),qc=W('<div class="sidebar svelte-rnyoa6"><div class="sidebarFixed svelte-rnyoa6"><!></div> <div class="tags svelte-rnyoa6"><!> <!></div></div>');function Kc(e,t){q(t,!0);const{checkMobileSize:n}=wn(),{getRelatedTags:r}=aa(),{isReadyStore:a}=wr(),{getAppHistory:o,navigate:i}=gt(),{getPageUrl:l,createHandlePage:c,getStackPagesFormUrl:u}=St(),f=Uo(),v=L(o),h=L(a);let g=M(null),d=L(()=>new URLSearchParams(s(v).search).get("selectedTags")?.split(",")||[]),_=null;function S(){return _||(_=Ne(()=>import("./MobileSidebar-Cp0E2sKc.js"),__vite__mapDeps([0,1]))),_}const k=U=>{const x=new URLSearchParams(s(v).search);x.set("selectedTags",[...s(d),U].join(",")),i(`${s(v).pathname}${x.size>0?`?${x.toString()}`:""}`),f.tagSearch=""},w=U=>{const x=new URLSearchParams(s(v).search),T=s(d).filter(B=>B!==U);T.length===0?x.delete("selectedTags"):x.set("selectedTags",T.join(",")),i(`${s(v).pathname}${x.size>0?`?${x.toString()}`:""}`)};let y=L(r),D=L(()=>s(h)?Object.values(s(y)).filter(U=>!s(d).some(x=>U.name===x)&&U.name!=="inbox").sort((U,x)=>U.name.localeCompare(x.name)):[]),E=L(()=>s(y).inbox&&s(d).includes("inbox")===!1?s(y).inbox:null),p=L(n);he(()=>{s(p)&&S()});const{checkExistedDialog:C}=zn();let P=L(()=>u().length>0||C());var R=O(),H=N(R);{var z=U=>{var x=O(),T=N(x);So(T,S,null,(B,V)=>{const ae=L(()=>s(V).default);var G=O(),ne=N(G);Co(ne,()=>s(ae),(pe,re)=>{re(pe,{get blocked(){return s(P)},children:(_e,X)=>{var Z=zc(),Oe=N(Z),ye=A(Oe),ue=A(ye);Jo(ue,{});var te=I(ue,2),Se=A(te),bt=L(()=>c(j.Settings));Se.__click=function(...ve){s(bt)?.apply(this,ve)};var _t=A(Se);Ee(_t,()=>({"--size":"24px"})),xe(_t.lastChild,{name:"settings"});var Xe=I(_t,2);ot(Xe,{children:(ve,je)=>{var be=He("Settings");m(ve,be)}});var De=I(Se,2),Ue=L(()=>c(j.Sync));De.__click=function(...ve){s(Ue)?.apply(this,ve)};var Ze=A(De);Ee(Ze,()=>({"--size":"24px"})),xe(Ze.lastChild,{name:"sync"});var qe=I(Ze,2);ot(qe,{children:(ve,je)=>{var be=He("Sync");m(ve,be)}});var Ke=I(ye,2),Ae=A(Ke);Ur(Ae,{placeholder:"Search tag",get value(){return f.tagSearch},set value(ve){f.tagSearch=ve}});var Je=I(Ke,2);{var yn=ve=>{var je=jc();ce(je,1,le(["tags","selectedTags"]),"svelte-rnyoa6"),rn(je,20,()=>s(d),be=>be,(be,mt)=>{nn(be,{get title(){return mt},onClick:()=>w(mt),style:"selected"})}),it(je,be=>b(g,be),()=>s(g)),m(ve,je)};F(Je,ve=>{s(d).length>0&&ve(yn)})}var Vn=I(Oe,2);ce(Vn,1,le(["tags","tagsWrapper"]),"svelte-rnyoa6");var pt=A(Vn);{var Xt=ve=>{nn(ve,{get title(){return s(E).name},onClick:()=>k(s(E).name)})};F(pt,ve=>{s(E)&&ve(Xt)})}var qn=I(pt,2);rn(qn,17,()=>s(D),ve=>ve.name,(ve,je)=>{var be=O(),mt=N(be);{var Kn=Sn=>{nn(Sn,{get title(){return s(je).name},onClick:()=>k(s(je).name)})};F(mt,Sn=>{(f.tagSearch===""||s(je).name.toLowerCase().indexOf(f.tagSearch.toLowerCase())!==-1)&&Sn(Kn)})}m(ve,be)}),ge((ve,je)=>{Te(Se,"href",ve),Te(De,"href",je)},[()=>l(j.Settings),()=>l(j.Sync)]),m(_e,Z)},$$slots:{default:!0}})}),m(B,G)}),m(U,x)},Y=U=>{var x=qc(),T=A(x),B=A(T);{var V=re=>{var _e=Vc();ce(_e,1,le(["tags","selectedTags"]),"svelte-rnyoa6"),rn(_e,20,()=>s(d),X=>X,(X,Z)=>{nn(X,{get title(){return Z},onClick:()=>w(Z),style:"selected"})}),m(re,_e)};F(B,re=>{s(d).length>0&&re(V)})}var ae=I(T,2),G=A(ae);{var ne=re=>{nn(re,{get title(){return s(E).name},onClick:()=>k(s(E).name)})};F(G,re=>{s(E)&&re(ne)})}var pe=I(G,2);rn(pe,17,()=>s(D),re=>re.name,(re,_e)=>{var X=O(),Z=N(X);{var Oe=ye=>{nn(ye,{get title(){return s(_e).name},onClick:()=>k(s(_e).name)})};F(Z,ye=>{(f.tagSearch===""||s(_e).name.toLowerCase().indexOf(f.tagSearch.toLowerCase())!==-1)&&ye(Oe)})}m(re,X)}),m(U,x)};F(H,U=>{s(p)?U(z):U(Y,!1)})}m(e,R),K()}Ge(["click"]);const Wc=(e,t,n)=>{b(t,!0),b(n,!0)},Yc=(e,t,n,r)=>{t(n.note.id,!n.note.pinned),yr(n.note.pinned?"Note unpinned":"Note pinned"),b(r,!0)},Gc=(e,t,n)=>{navigator.clipboard.writeText(t.note.url),yr("Link copied"),b(n,!0)};var Xc=W("<div><button>Copy link</button></div>"),Zc=W('<div class="menu svelte-xxw0l"><!> <div><button> </button></div> <div><button>Delete</button></div></div>'),Jc=W('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1);function $c(e,t){q(t,!0);const n=(E,p=ie)=>{var C=Zc(),P=A(C);{var R=T=>{var B=Xc(),V=A(B);V.__click=[Gc,t,v],ge(()=>ce(V,1,le(["button",{buttonMenuDialog:p()}]),"svelte-xxw0l")),m(T,B)};F(P,T=>{p()&&t.note.url&&T(R)})}var H=I(P,2),z=A(H);z.__click=[Yc,l,t,v];var Y=A(z),U=I(H,2),x=A(U);x.__click=[Wc,h,v],ge(()=>{ce(z,1,le(["button",{buttonMenuDialog:p()}]),"svelte-xxw0l"),Nn(Y,t.note.pinned?"Unpin":"Pin"),ce(x,1,le(["button",{buttonMenuDialog:p()}]),"svelte-xxw0l")}),m(E,C)},{getRelatedTags:r}=aa(),{getAppHistory:a,replace:o}=gt(),{deleteNote:i,pinNote:l,setDeleting:c}=wr();let u=L(a),f=se(t,"shownMenu",15),v=M(!1),h=M(!1);const{checkMobileSize:g}=wn();let d=L(g),_=L(()=>new URLSearchParams(s(u).search).get("selectedTags")?.split(",")||[]);const S=async()=>{const E=r();c(t.note.id,!0);let p=!1;yr("Note deleted",{onCancel:()=>{p=!0,c(t.note.id,!1)},onFinish:()=>{p||(t.note.tags.forEach(C=>{if(s(_).includes(C)&&E[C].connections===1){const P=new URLSearchParams(s(u).search),R=s(_).filter(H=>H!==C);R.length===0?P.delete("selectedTags"):P.set("selectedTags",R.join(",")),o(`${s(u).pathname}${P.size>0?`?${P.toString()}`:""}`)}}),i(t.note.id))}})},k=()=>{s(h)&&S(),f(!1),b(v,!1)};var w=O(),y=N(w);{var D=E=>{var p=O(),C=N(p);{var P=H=>{Qo(H,{get startClose(){return s(v)},onClosed:k,children:(z,Y)=>{n(z,()=>!0)},$$slots:{default:!0}})},R=H=>{var z=Jc(),Y=N(z);Ee(Y,()=>({"--bottom":"-90px","--right":"20px"})),es(Y.lastChild,{get startClose(){return s(v)},get positionTop(){return t.showMenuUp},onClosed:k,children:(U,x)=>{n(U,()=>!1)},$$slots:{default:!0}}),m(H,z)};F(C,H=>{s(d)?H(P):H(R,!1)})}m(E,p)};F(y,E=>{f()&&E(D)})}m(e,w),K()}Ge(["click"]);const Qc=(e,t)=>{b(t,!0)},eu=(e,t,n)=>{navigator.clipboard.writeText(t.note.url),yr("Link copied"),b(n,!1)},tu=(e,t)=>{b(t,!0)},nu=(e,t)=>{b(t,!1)},ru=(e,t,n,r)=>{e.preventDefault(),t(`${j.EditNote}?id=${n.note.id}`),b(r,!1)};var au=W('<div class="iconPlaceholder svelte-qwgtkc"></div>'),ou=W('<img loading="lazy" class="noteIcon" height="16" width="16" alt=""/>'),su=W('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),iu=W('<div class="noteIconWrapper svelte-qwgtkc"><!></div>'),lu=W('<button class="button svelte-qwgtkc"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),cu=(e,t)=>{b(t,!1)},uu=W('<!> <a target="_blank" rel="noopener noreferrer" class="button openLink svelte-qwgtkc"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a>',1),du=W('<li><!> <a class="noteLink svelte-qwgtkc" target="_blank" rel="noopener noreferrer"> </a> <div><!> <button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button></div> <!></li>');function fu(e,t){q(t,!0);const{pushStackPages:n}=St(),{getFaviconEnabled:r}=Ml();let a=M(!1),o=M(!1),i=M(!1),l=L(r);const{checkMobileSize:c}=wn(),u=p=>{try{return`https://icons.duckduckgo.com/ip3/${new URL(p).host}.ico`}catch{return""}};var f=du();f.__focusin=[tu,o],f.__focusout=[nu,o];var v=A(f);{var h=p=>{var C=iu(),P=A(C);{var R=z=>{var Y=O(),U=N(Y);{var x=B=>{var V=au();m(B,V)},T=B=>{var V=ou();ge(ae=>Te(V,"src",ae),[()=>u(t.note.url)]),Qr("error",V,()=>{b(i,!0)}),m(B,V)};F(U,B=>{s(i)?B(x):B(T,!1)})}m(z,Y)},H=z=>{var Y=su(),U=N(Y);Ee(U,()=>({"--size":"16px"})),xe(U.lastChild,{name:"note"}),m(z,Y)};F(P,z=>{t.note.url?z(R):z(H,!1)})}m(p,C)};F(v,p=>{s(l)&&p(h)})}var g=I(v,2);g.__click=[ru,n,t,o];var d=A(g),_=I(g,2),S=A(_);{var k=p=>{var C=uu(),P=N(C);{var R=U=>{var x=lu();x.__click=[eu,t,o];var T=A(x);Ee(T,()=>({"--size":"20px"})),xe(T.lastChild,{name:"copy"});var B=I(T,2);ot(B,{children:(V,ae)=>{var G=He("copy link");m(V,G)}}),ge(()=>Te(x,"tabindex",t.focusHidden?-1:0)),m(U,x)};F(P,U=>{c()||U(R)})}var H=I(P,2);H.__click=[cu,o];var z=A(H);Ee(z,()=>({"--size":"18px"})),xe(z.lastChild,{name:"open"});var Y=I(z,2);ot(Y,{children:(U,x)=>{var T=He();ge(()=>Nn(T,t.note.name)),m(U,T)}}),ge(()=>{Te(H,"href",t.note.url),Te(H,"tabindex",t.focusHidden?-1:0)}),m(p,C)};F(S,p=>{t.note.url&&p(k)})}var w=I(S,2);w.__click=[Qc,a],ce(w,1,le(["button","buttonMenu"]),"svelte-qwgtkc");var y=A(w);Ee(y,()=>({"--size":"18px","--rotate":"90deg"})),xe(y.lastChild,{name:"menu"});var D=I(y,2);ot(D,{children:(p,C)=>{var P=He("show menu");m(p,P)}});var E=I(_,2);$c(E,{get note(){return t.note},get showMenuUp(){return t.showMenuUp},get shownMenu(){return s(a)},set shownMenu(p){b(a,p,!0)}}),ge(p=>{ce(f,1,le(["record",{pinned:t.note.pinned}]),"svelte-qwgtkc"),Te(g,"tabindex",t.focusHidden?-1:0),Te(g,"href",p),Nn(d,t.note.name),ce(_,1,le(["noteMenuWrapper",{noteMenuWrapperActive:s(o)}]),"svelte-qwgtkc"),Te(w,"tabindex",t.focusHidden?-1:0)},[()=>`/?stackPages=${encodeURIComponent(`${j.EditNote}?id=${t.note.id}`)}`]),m(e,f),K()}Ge(["focusin","focusout","click"]);var vu=W('<div><!> <div class="loader svelte-1wuuvr"></div></div>');function ts(e,t){q(t,!0);let n=M(!1);he(()=>{const o=setTimeout(()=>{b(n,!0)},200);return()=>{clearTimeout(o)}});var r=vu(),a=A(r);ee(a,()=>t.children??ie),ge(()=>ce(r,1,le(["block",{shown:s(n)}]),"svelte-1wuuvr")),m(e,r),K()}var hu=W("<a><!></a>"),gu=W("<button><!></button>");function gn(e,t){let n=se(t,"type",3,"standard"),r=se(t,"typeButton",3,"button"),a=se(t,"element",3,"button"),o=se(t,"href",3,""),i=se(t,"fullWidth",3,!1),l=se(t,"withoutMinWidth",3,!1);var c=O(),u=N(c);{var f=h=>{var g=hu();g.__click=function(..._){t.onClick?.apply(this,_)};var d=A(g);ee(d,()=>t.children??ie),ge(()=>{Te(g,"href",o()),ce(g,1,le(["button","a",{dangerous:n()==="dangerous",secondary:n()==="secondary",fullWidth:i(),withoutMinWidth:l()}]),"svelte-194r7qo")}),m(h,g)},v=h=>{var g=gu();g.__click=function(..._){t.onClick?.apply(this,_)};var d=A(g);ee(d,()=>t.children??ie),ge(()=>{Te(g,"type",r()),ce(g,1,le(["button",{dangerous:n()==="dangerous",secondary:n()==="secondary",fullWidth:i(),withoutMinWidth:l()}]),"svelte-194r7qo")}),m(h,g)};F(u,h=>{a()==="a"?h(f):h(v,!1)})}m(e,c)}Ge(["click"]);var _u=W('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Add note</span>',1),pu=W('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span style="padding-left: 6px;">Import data</span>',1),mu=W('<div class="emptyStore svelte-1h4bvw7"><p class="message">No notes found</p> <div class="wrapperButtonsAdd svelte-1h4bvw7"><!></div> <div>or</div> <div class="wrapperButtonsAdd svelte-1h4bvw7"><!></div></div>'),wu=W('<div class="emptyMessage svelte-1h4bvw7">No notes found</div>'),yu=W('<div class="feed svelte-1h4bvw7"><ul class="svelte-1h4bvw7"></ul></div>'),Su=W('<div class="wrapperFeed svelte-1h4bvw7"><div class="wrapperContainer svelte-1h4bvw7"><!></div></div>');function bu(e,t){q(t,!0);const{setRelatedTags:n}=aa(),{getScrollContainer:r}=na(),{createHandlePage:a,getPageUrl:o}=St(),{getSelectedTags:i}=Dl(),{getFeedOrder:l}=Vo(),{getFeedSearch:c}=oa(),{getGetNotes:u,isReadyStore:f}=wr();let v=54,h=M(0),g=M(0),d=M(0),_=L(c),S=M(0),k=[],w=M(0),y=L(r),D=null,E=null;const p=L(i),C=L(f);Ce(()=>{}),Ce(()=>{s(_),s(p),s(z),s(y)?.scrollTo(0,0)});const{enable:P}=Do(),R=()=>{P(),D||(D=requestAnimationFrame(()=>{const X=s(y)?.scrollTop||0;b(d,X,!0);const Z=Math.ceil(s(h)/v);b(g,Math.floor(X/(v*Z))*(v*Z)),D=null}))},H=()=>{E||(E=requestAnimationFrame(()=>{b(h,window.innerHeight-180||0,!0);const X=s(y)?.scrollTop||0;b(d,X,!0);const Z=Math.ceil(s(h)/v);b(g,Math.floor(X/(v*Z))*(v*Z)),E=null}))};he(()=>{H(),R()}),Ce(()=>(s(y)?.addEventListener("scroll",R),window.addEventListener("resize",H),()=>{s(y)?.removeEventListener("scroll",R),window.removeEventListener("resize",H)}));const z=L(l);let Y=M(""),U=L(u);Ce(()=>{s(z);const X=s(U)()||[];qt(()=>s(Y))!==s(z)&&qt(()=>b(Y,s(z),!0)),X.sort((ue,te)=>{if(!ue||!te)return 0;if(ue.pinned&&!te.pinned)return 1;if(!ue.pinned&&te.pinned)return-1;switch(s(z)){case"newest":return ue.updatedAt<te.updatedAt?-1:1;case"oldest":return ue.updatedAt>te.updatedAt?-1:1;case"AtoZ":return te.name.localeCompare(ue.name);case"ZtoA":return ue.name.localeCompare(te.name);default:return 0}});const Oe=[],ye={};for(let ue=X.length-1;ue>=0;ue--){const te=X[ue];if(te&&!(s(p).length&&s(p).some(Se=>!te.tags.includes(Se)))&&!te.deleting&&!(s(_)&&!(te.name.toLowerCase().includes(s(_).toLowerCase())||te.url.toLowerCase().includes(s(_).toLowerCase())||te.text.toLowerCase().includes(s(_).toLowerCase())))){if(te.tags)for(const Se of te.tags)ye[Se]?ye[Se].connections++:ye[Se]={name:Se,connections:1};Oe.push(te)}}n(ye),b(S,Oe.length,!0),k=Oe,b(w,Date.now(),!0)});const x=L(()=>s(S)*v);let B=L(()=>{s(w);const X=Math.ceil(s(h)/v);let Z=Math.floor(s(g)/v);return Z=Z-Math.min(Z,X),k.slice(Z,Z+X*3)}),V=L(()=>v*Math.ceil(s(h)/v));const ae=L(()=>s(g)-Math.min(s(g),s(V)));var G=Su(),ne=A(G),pe=A(ne);{var re=X=>{ts(X,{})},_e=X=>{var Z=O(),Oe=N(Z);{var ye=te=>{var Se=mu(),bt=I(A(Se),2),_t=A(bt);{let Ue=L(()=>o(j.NewNote)),Ze=L(()=>a(j.NewNote));gn(_t,{element:"a",get href(){return s(Ue)},get onClick(){return s(Ze)},children:(qe,Ke)=>{var Ae=_u(),Je=N(Ae);Ee(Je,()=>({"--size":"18px","--color":"#b0b0b0"})),xe(Je.lastChild,{name:"plus"}),m(qe,Ae)},$$slots:{default:!0}})}var Xe=I(bt,4),De=A(Xe);{let Ue=L(()=>o(j.ImportData)),Ze=L(()=>a(j.ImportData));gn(De,{element:"a",get href(){return s(Ue)},get onClick(){return s(Ze)},children:(qe,Ke)=>{var Ae=pu(),Je=N(Ae);Ee(Je,()=>({"--size":"18px","--color":"#b0b0b0"})),xe(Je.lastChild,{name:"import"}),m(qe,Ae)},$$slots:{default:!0}})}m(te,Se)},ue=te=>{var Se=O(),bt=N(Se);{var _t=De=>{var Ue=wu();m(De,Ue)},Xe=De=>{var Ue=yu(),Ze=A(Ue);rn(Ze,23,()=>s(B),qe=>qe.id,(qe,Ke,Ae)=>{{let Je=L(()=>s(Ae)*v<s(d)-s(ae)-v/2||s(Ae)*v>s(d)-s(ae)+Math.floor(s(h)/v)*v),yn=L(()=>(s(Ae)+3)*v<s(d)-s(ae)-v/2||(s(Ae)+3)*v>s(d)-s(ae)+Math.floor(s(h)/v)*v);fu(qe,{get focusHidden(){return s(Je)},get showMenuUp(){return s(yn)},get note(){return s(Ke)}})}}),ge(qe=>{Tn(Ue,`min-height: ${qe??""}px`),Tn(Ze,`transform: translateY(${s(ae)??""}px);`)},[()=>Math.max((s(x)>s(h),s(x)),0)]),m(De,Ue)};F(bt,De=>{s(B).length===0?De(_t):De(Xe,!1)},!0)}m(te,Se)};F(Oe,te=>{(s(U)()||[]).length===0?te(ye):te(ue,!1)},!0)}m(X,Z)};F(pe,X=>{s(C)?X(_e,!1):X(re)})}m(e,G),K()}var ku=W('<!> <div class="content svelte-cu0ar8"><!></div>',1);function Cu(e){var t=ku(),n=N(t);Kc(n,{});var r=I(n,2),a=A(r);bu(a,{}),m(e,t)}var Eu=W('<div class="content svelte-9hh95f"><p class="message svelte-9hh95f">use app</p> <div class="buttonContainer svelte-9hh95f"><div class="buttonContainerItem svelte-9hh95f"><!></div> <div class="buttonContainerItem svelte-9hh95f"><!></div></div></div>');function Pu(e,t){q(t,!0);const{blockDialog:n}=zn(),{pushStackPages:r}=St(),{closeDialogStack:a}=gt(),{initLocalAccount:o}=Go();let i=M("idle");const l=()=>{b(i,"loading"),r(j.Auth)},c=async()=>{b(i,"loading"),await o(),n(!1),a()};Ce(()=>{n(s(i)==="idle"||s(i)==="loading")}),he(()=>(n(!0),()=>{n(!1)}));var u=Eu(),f=I(A(u),2),v=A(f),h=A(v);gn(h,{onClick:l,fullWidth:!0,children:(_,S)=>{var k=He("cloud account");m(_,k)},$$slots:{default:!0}});var g=I(v,2),d=A(g);gn(d,{onClick:c,fullWidth:!0,type:"secondary",children:(_,S)=>{var k=He("local account");m(_,k)},$$slots:{default:!0}}),m(e,u),K()}var xu=W('<div class="svelte-frpywy"><!></div>');function Pe(e,t){q(t,!0);const{setDialogPageHeight:n}=ra();let r=M(null);he(()=>{s(r)&&(s(r).getBoundingClientRect(),s(r).style.opacity="1");const i=new ResizeObserver(l=>{for(let c of l){const u=c.contentRect.height;n(u)}});if(s(r))return i.observe(s(r)),()=>{s(r)&&i.unobserve(s(r)),i.disconnect()}});var a=xu(),o=A(a);ee(o,()=>t.children),it(a,i=>b(r,i),()=>s(r)),m(e,a),K()}var Du=W('<div class="svelte-ndasxn"><p class="svelte-ndasxn">Page not found</p> <!></div>');function Au(e,t){q(t,!1);const{navigate:n}=gt(),r=i=>{i.preventDefault(),n("/")};ta();var a=Du(),o=I(A(a),2);gn(o,{element:"a",href:"/",onClick:r,children:(i,l)=>{var c=He("close");m(i,c)},$$slots:{default:!0}}),m(e,a),K()}var Nu=W('<div class="svelte-1tpcci8"><p class="svelte-1tpcci8">Something went wrong. Please reload the page</p> <!></div>');function Tu(e){var t=Nu(),n=I(A(t),2);gn(n,{onClick:()=>location.reload(),children:(r,a)=>{var o=He("Reload");m(r,o)},$$slots:{default:!0}}),m(e,t)}var Lu=W('<div class="svelte-uzefkz"><!></div>');function Ou(e,t){q(t,!0);const{getDialogPageHeight:n}=ra(),r=L(n);var a=Lu(),o=A(a);ts(o,{}),ge(()=>Tn(a,`min-height: ${s(r)??""}px;`)),m(e,a),K()}function Me(e,t){q(t,!0);const n={},r=Object.assign({"./Pages/About.svelte":()=>Ne(()=>import("./About-BfDCzo6b.js"),__vite__mapDeps([2,3])),"./Pages/AccessKeys.svelte":()=>Ne(()=>import("./AccessKeys-DnQH7XBY.js"),__vite__mapDeps([4,5,6])),"./Pages/Account.svelte":()=>Ne(()=>import("./Account-ToiJ0iKn.js"),__vite__mapDeps([7,8])),"./Pages/Auth.svelte":()=>Ne(()=>import("./Auth-BBSBf_Dh.js"),__vite__mapDeps([9,10])),"./Pages/ClearStore.svelte":()=>Ne(()=>import("./ClearStore-Cl_yrhS2.js"),__vite__mapDeps([11,12])),"./Pages/ConfirmAccessKey.svelte":()=>Ne(()=>import("./ConfirmAccessKey-DefZ9sxc.js"),__vite__mapDeps([13,5,14,15,16])),"./Pages/EditNote.svelte":()=>Ne(()=>import("./EditNote-C-FQtLWt.js"),__vite__mapDeps([17,18,14,15,19])),"./Pages/Exit.svelte":()=>Ne(()=>import("./Exit-vf1h5zKj.js"),__vite__mapDeps([20,21])),"./Pages/ExportData.svelte":()=>Ne(()=>import("./ExportData-pMZEPDHD.js"),__vite__mapDeps([22,23])),"./Pages/ImportData.svelte":()=>Ne(()=>import("./ImportData-D_4ck2lu.js"),__vite__mapDeps([24,25])),"./Pages/NewNote.svelte":()=>Ne(()=>import("./NewNote-Cgavf-Q3.js"),__vite__mapDeps([26,18,14,15,19])),"./Pages/Settings.svelte":()=>Ne(()=>import("./Settings-DEYZLQji.js"),__vite__mapDeps([27,28])),"./Pages/Signin.svelte":()=>Ne(()=>import("./Signin-BxpuXNcr.js"),__vite__mapDeps([29,5,10])),"./Pages/Signup.svelte":()=>Ne(()=>import("./Signup-Cdomw4Sh.js"),__vite__mapDeps([30,5,10])),"./Pages/Subscription.svelte":()=>Ne(()=>import("./Subscription-D6bssVBC.js"),__vite__mapDeps([31,32])),"./Pages/Sync.svelte":()=>Ne(()=>import("./Sync-Dvu8Cowp.js"),__vite__mapDeps([33,34]))}),a=async l=>{const c=`./Pages/${l[0].toUpperCase()+l.slice(1)}.svelte`;if(!n[l]){if(r[c]){const u=r[c]();return n[l]={promise:u},n[l].module=await u,n[l].module}throw new Error(`Page ${l} not found`)}return n[l].module||await n[l].promise};var o=O(),i=N(o);So(i,()=>a(t.page),l=>{Ou(l,{})},(l,c)=>{const u=L(()=>s(c).default);var f=O(),v=N(f);Co(v,()=>s(u),(h,g)=>{g(h,{get params(){return t.params},get hidden(){return t.hidden}})}),m(l,f)},l=>{Tu(l)}),m(e,o),K()}const Ma=(e,t=ie,n=ie,r)=>{let a=fr(()=>ys(r?.(),!1));var o=O(),i=N(o);{var l=u=>{Pe(u,{children:(f,v)=>{Me(f,{get hidden(){return s(a)},get page(){return j.Settings}})},$$slots:{default:!0}})},c=u=>{var f=O(),v=N(f);{var h=d=>{Pe(d,{children:(_,S)=>{Me(_,{get hidden(){return s(a)},get page(){return j.NewNote}})},$$slots:{default:!0}})},g=d=>{var _=O(),S=N(_);{var k=y=>{Pe(y,{children:(D,E)=>{Me(D,{get params(){return n()},get hidden(){return s(a)},get page(){return j.EditNote}})},$$slots:{default:!0}})},w=y=>{var D=O(),E=N(D);{var p=P=>{Pe(P,{children:(R,H)=>{Me(R,{get hidden(){return s(a)},get page(){return j.ImportData}})},$$slots:{default:!0}})},C=P=>{var R=O(),H=N(R);{var z=U=>{Pe(U,{children:(x,T)=>{Me(x,{get hidden(){return s(a)},get page(){return j.ExportData}})},$$slots:{default:!0}})},Y=U=>{var x=O(),T=N(x);{var B=ae=>{Pe(ae,{children:(G,ne)=>{Me(G,{get hidden(){return s(a)},get page(){return j.ClearStore}})},$$slots:{default:!0}})},V=ae=>{var G=O(),ne=N(G);{var pe=_e=>{Pe(_e,{children:(X,Z)=>{Pu(X,{})},$$slots:{default:!0}})},re=_e=>{var X=O(),Z=N(X);{var Oe=ue=>{Pe(ue,{children:(te,Se)=>{Me(te,{get hidden(){return s(a)},get page(){return j.Auth}})},$$slots:{default:!0}})},ye=ue=>{var te=O(),Se=N(te);{var bt=Xe=>{Pe(Xe,{children:(De,Ue)=>{Me(De,{get hidden(){return s(a)},get page(){return j.Signup}})},$$slots:{default:!0}})},_t=Xe=>{var De=O(),Ue=N(De);{var Ze=Ke=>{Pe(Ke,{children:(Ae,Je)=>{Me(Ae,{get hidden(){return s(a)},get page(){return j.Signin}})},$$slots:{default:!0}})},qe=Ke=>{var Ae=O(),Je=N(Ae);{var yn=pt=>{Pe(pt,{children:(Xt,qn)=>{Me(Xt,{get hidden(){return s(a)},get page(){return j.AccessKeys}})},$$slots:{default:!0}})},Vn=pt=>{var Xt=O(),qn=N(Xt);{var ve=be=>{Pe(be,{children:(mt,Kn)=>{Me(mt,{get hidden(){return s(a)},get page(){return j.Account}})},$$slots:{default:!0}})},je=be=>{var mt=O(),Kn=N(mt);{var Sn=Zt=>{Pe(Zt,{children:(Wn,la)=>{Me(Wn,{get hidden(){return s(a)},get page(){return j.ConfirmAccessKey}})},$$slots:{default:!0}})},ns=Zt=>{var Wn=O(),la=N(Wn);{var rs=Jt=>{Pe(Jt,{children:(Yn,ca)=>{Me(Yn,{get hidden(){return s(a)},get page(){return j.Exit}})},$$slots:{default:!0}})},as=Jt=>{var Yn=O(),ca=N(Yn);{var os=$t=>{Pe($t,{children:(Gn,ua)=>{Me(Gn,{get hidden(){return s(a)},get page(){return j.Sync}})},$$slots:{default:!0}})},ss=$t=>{var Gn=O(),ua=N(Gn);{var is=Qt=>{Pe(Qt,{children:(Xn,da)=>{Me(Xn,{get hidden(){return s(a)},get page(){return j.Subscription}})},$$slots:{default:!0}})},ls=Qt=>{var Xn=O(),da=N(Xn);{var cs=en=>{Pe(en,{children:(Sr,ds)=>{Me(Sr,{get hidden(){return s(a)},get page(){return j.About}})},$$slots:{default:!0}})},us=en=>{Pe(en,{children:(Sr,ds)=>{Au(Sr,{})},$$slots:{default:!0}})};F(da,en=>{t()===j.About?en(cs):en(us,!1)},!0)}m(Qt,Xn)};F(ua,Qt=>{t()===j.Subscription?Qt(is):Qt(ls,!1)},!0)}m($t,Gn)};F(ca,$t=>{t()===j.Sync?$t(os):$t(ss,!1)},!0)}m(Jt,Yn)};F(la,Jt=>{t()===j.Exit?Jt(rs):Jt(as,!1)},!0)}m(Zt,Wn)};F(Kn,Zt=>{t()===j.ConfirmAccessKey?Zt(Sn):Zt(ns,!1)},!0)}m(be,mt)};F(qn,be=>{t()===j.Account?be(ve):be(je,!1)},!0)}m(pt,Xt)};F(Je,pt=>{t()===j.AccessKeys?pt(yn):pt(Vn,!1)},!0)}m(Ke,Ae)};F(Ue,Ke=>{t()===j.Signin?Ke(Ze):Ke(qe,!1)},!0)}m(Xe,De)};F(Se,Xe=>{t()===j.Signup?Xe(bt):Xe(_t,!1)},!0)}m(ue,te)};F(Z,ue=>{t()===j.Auth?ue(Oe):ue(ye,!1)},!0)}m(_e,X)};F(ne,_e=>{t()===j.Start?_e(pe):_e(re,!1)},!0)}m(ae,G)};F(T,ae=>{t()===j.ClearStore?ae(B):ae(V,!1)},!0)}m(U,x)};F(H,U=>{t()===j.ExportData?U(z):U(Y,!1)},!0)}m(P,R)};F(E,P=>{t()===j.ImportData?P(p):P(C,!1)},!0)}m(y,D)};F(S,y=>{t()===j.EditNote?y(k):y(w,!1)},!0)}m(d,_)};F(v,d=>{t()===j.NewNote?d(h):d(g,!1)},!0)}m(u,f)};F(i,u=>{t()===j.Settings?u(l):u(c,!1)})}m(e,o)};var Mu=W("<!> <!>",1);function Iu(e,t){q(t,!0);const{isReadyStore:n}=wr(),{getStackPages:r,popStackPages:a}=St();let o=L(r),i=L(n);Ce(()=>{});const{checkMobileSize:l}=wn();var c=Mu(),u=N(c);{var f=d=>{Cu(d)};F(u,d=>{s(i)&&d(f)})}var v=I(u,2);{var h=d=>{var _=O(),S=N(_);rn(S,19,()=>s(o),k=>k.page,(k,w,y)=>{const D=L(()=>s(w).page.split("?")[1]),E=L(()=>s(w).page.split("?")[0]);{let p=L(()=>s(y)!==s(o).length-1&&!!s(o)[s(y)+1]?.shown),C=L(()=>s(y)===0);La(k,{get shown(){return s(w).shown},get hidden(){return s(p)},get isLastDialog(){return s(C)},children:(P,R)=>{{let H=L(()=>s(y)!==s(o).length-1&&!!s(o)[s(y)+1]?.shown);Ma(P,()=>s(E),()=>s(D),()=>s(H))}},$$slots:{default:!0}})}}),m(d,_)},g=d=>{var _=O(),S=N(_);{var k=w=>{const y=L(()=>s(o)[s(o).length-1].page.split("?")[1]),D=L(()=>s(o)[s(o).length-1].page.split("?")[0]);{let E=L(()=>s(o).length===1);La(w,{onBack:()=>a(),get shown(){return s(o)[s(o).length-1].shown},hidden:!1,get isLastDialog(){return s(E)},children:(p,C)=>{Ma(p,()=>s(D),()=>s(y))},$$slots:{default:!0}})}};F(S,w=>{s(o).length>0&&w(k)},!0)}m(d,_)};F(v,d=>{l()?d(h):d(g,!1)})}m(e,c),K()}function Ru(e,t){q(t,!1);let n=0;he(()=>{document.addEventListener("touchstart",r=>{n=r.touches[0].clientX},{passive:!1}),document.addEventListener("touchmove",r=>{const o=r.touches[0].clientX-n;(n<50&&o>0||n>window.innerWidth-50&&o<0)&&r.preventDefault()},{passive:!1}),document.addEventListener("touchend",()=>{n=0}),document.addEventListener("touchcancel",()=>{n=0})}),ta(),K()}const Bu=(e,t)=>{s(t)&&s(t).scrollTo({top:0})};var Fu=W('<div class="wrapperButtonTop svelte-w3nmci"><button class="buttonTop svelte-w3nmci"><!> <span class="icon svelte-w3nmci"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></span></button></div>'),Hu=W('<!> <!> <main><div class="wrapperHeader svelte-w3nmci"><!></div> <div class="container svelte-w3nmci"><!></div></main> <!>',1);function Uu(e,t){q(t,!0);const{setScrollContainer:n}=na(),{getAccount:r}=Go(),{getStackPagesFormUrl:a}=St(),o=jn();he(async()=>{await new Promise(P=>setTimeout(P,100)),await po(),o.working=!0});let i=M(!1),l=0,c=L(()=>a().length>0),u=L(r),f=M(null);Ce(()=>{n(s(f))});const v=()=>{if(s(f)){const P=s(f).scrollTop||0;P===0?b(i,!1):!s(i)&&l>P?b(i,!0):s(i)&&l+50<P&&b(i,!1),l=P}},h=()=>{v()};Ce(()=>(s(f)?.addEventListener("scroll",h),window.addEventListener("resize",h),()=>{s(f)?.removeEventListener("scroll",h),window.removeEventListener("resize",h)}));var g=Hu(),d=N(g);Ru(d,{});var _=I(d,2);nc(_,{});var S=I(_,2),k=A(S),w=A(k);{var y=P=>{Sc(P,{})};F(w,P=>{s(u)!==void 0&&P(y)})}var D=I(k,2),E=A(D);Iu(E,{}),it(S,P=>b(f,P),()=>s(f));var p=I(S,2);{var C=P=>{var R=Fu(),H=A(R);H.__click=[Bu,f];var z=A(H);ot(z,{children:(x,T)=>{var B=He("top");m(x,B)}});var Y=I(z,2),U=A(Y);Ee(U,()=>({"--rotate":"90deg","--size":"28px"})),xe(U.lastChild,{name:"back"}),m(P,R)};F(p,P=>{s(i)&&P(C)})}ge(()=>{Tn(S,`--swiping-ratio: ${o.swipingRatio}; --transition-timing-default: ${o.duration}s;`),ce(S,1,le(["main",{isAnimationOn:o.working&&!o.isSwiping,open:s(c)}]),"svelte-w3nmci")}),m(e,g),K()}Ge(["click"]);function ju(e){Jl(e,{children:(t,n)=>{Uu(t,{})}})}window.addEventListener("unhandledrejection",e=>{alert("Error: "+e.reason.message)});window.isUnsupportedBrowser||Pi(ju,{target:document.getElementById("app")});export{hl as $,Go as A,gn as B,wr as C,Qr as D,Zu as E,Yu as F,Gu as G,Ju as H,xe as I,ta as J,qu as K,ts as L,se as M,ce as N,le as O,j as P,Te as Q,Ku as R,Wu as S,Tn as T,Wl as U,ot as V,wn as W,it as X,nn as Y,Bi as Z,Ml as _,Ee as a,El as a0,jn as a1,Do as a2,ee as a3,$o as a4,m as b,A as c,zn as d,M as e,W as f,St as g,Le as h,s as i,b as j,F as k,K as l,O as m,N as n,he as o,q as p,Ge as q,rn as r,I as s,ge as t,Ce as u,Nn as v,He as w,Xu as x,L as y,gt as z};
