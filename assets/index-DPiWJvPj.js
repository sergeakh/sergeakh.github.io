(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();const Ln=!1;var ln=Array.isArray,Ur=Array.prototype.indexOf,cn=Array.from,jr=Object.defineProperty,Ze=Object.getOwnPropertyDescriptor,Wn=Object.getOwnPropertyDescriptors,Vr=Object.prototype,qr=Array.prototype,un=Object.getPrototypeOf,Dn=Object.isExtensible;const Xn=()=>{};function Yr(e){return e()}function Et(e){for(var t=0;t<e.length;t++)e[t]()}const Te=2,Kn=4,Bt=8,dn=16,Re=32,at=64,Tt=128,_e=256,Ct=512,he=1024,Oe=2048,Ge=4096,Ie=8192,Rt=16384,Wr=32768,Nt=65536,Xr=1<<17,Kr=1<<19,Gn=1<<20,Zt=1<<21,Xe=Symbol("$state"),Gr=Symbol("legacy props"),Jr=Symbol("");function Jn(e){return e===this.v}function Zr(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function fn(e){return!Zr(e,this.v)}function Qr(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function $r(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function ea(e){throw new Error("https://svelte.dev/e/effect_orphan")}function ta(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function na(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function ra(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function aa(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function oa(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let ot=!1,ia=!1;function sa(){ot=!0}const vn=1,hn=2,Zn=4,la=8,ca=16,ua=1,da=2,fa=4,va=8,ha=16,ga=1,pa=2,fe=Symbol(),_a="http://www.w3.org/1999/xhtml";function ma(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let te=null;function Pn(e){te=e}function Y(e,t=!1,n){var r=te={p:te,c:null,d:!1,e:null,m:!1,s:e,x:null,l:null};ot&&!t&&(te.l={s:null,u:null,r1:[],r2:ht(!1)}),gn(()=>{r.d=!0})}function W(e){const t=te;if(t!==null){e!==void 0&&(t.x=e);const i=t.e;if(i!==null){var n=J,r=G;t.e=null;try{for(var o=0;o<i.length;o++){var a=i[o];He(a.effect),Ae(a.reaction),pn(a.fn)}}finally{He(n),Ae(r)}}te=t.p,t.m=!0}return e||{}}function _t(){return!ot||te!==null&&te.l===null}function ie(e){if(typeof e!="object"||e===null||Xe in e)return e;const t=un(e);if(t!==Vr&&t!==qr)return e;var n=new Map,r=ln(e),o=N(0),a=G,i=l=>{var c=G;Ae(a);var d=l();return Ae(c),d};return r&&n.set("length",N(e.length)),new Proxy(e,{defineProperty(l,c,d){(!("value"in d)||d.configurable===!1||d.enumerable===!1||d.writable===!1)&&ra();var u=n.get(c);return u===void 0?(u=i(()=>N(d.value)),n.set(c,u)):C(u,i(()=>ie(d.value))),!0},deleteProperty(l,c){var d=n.get(c);if(d===void 0)c in l&&(n.set(c,i(()=>N(fe))),qt(o));else{if(r&&typeof c=="string"){var u=n.get("length"),f=Number(c);Number.isInteger(f)&&f<u.v&&C(u,f)}C(d,fe),qt(o)}return!0},get(l,c,d){var g;if(c===Xe)return e;var u=n.get(c),f=c in l;if(u===void 0&&(!f||(g=Ze(l,c))!=null&&g.writable)&&(u=i(()=>N(ie(f?l[c]:fe))),n.set(c,u)),u!==void 0){var v=s(u);return v===fe?void 0:v}return Reflect.get(l,c,d)},getOwnPropertyDescriptor(l,c){var d=Reflect.getOwnPropertyDescriptor(l,c);if(d&&"value"in d){var u=n.get(c);u&&(d.value=s(u))}else if(d===void 0){var f=n.get(c),v=f==null?void 0:f.v;if(f!==void 0&&v!==fe)return{enumerable:!0,configurable:!0,value:v,writable:!0}}return d},has(l,c){var v;if(c===Xe)return!0;var d=n.get(c),u=d!==void 0&&d.v!==fe||Reflect.has(l,c);if(d!==void 0||J!==null&&(!u||(v=Ze(l,c))!=null&&v.writable)){d===void 0&&(d=i(()=>N(u?ie(l[c]):fe)),n.set(c,d));var f=s(d);if(f===fe)return!1}return u},set(l,c,d,u){var p;var f=n.get(c),v=c in l;if(r&&c==="length")for(var g=d;g<f.v;g+=1){var h=n.get(g+"");h!==void 0?C(h,fe):g in l&&(h=i(()=>N(fe)),n.set(g+"",h))}f===void 0?(!v||(p=Ze(l,c))!=null&&p.writable)&&(f=i(()=>N(void 0)),C(f,i(()=>ie(d))),n.set(c,f)):(v=f.v!==fe,C(f,i(()=>ie(d))));var m=Reflect.getOwnPropertyDescriptor(l,c);if(m!=null&&m.set&&m.set.call(u,d),!v){if(r&&typeof c=="string"){var w=n.get("length"),E=Number(c);Number.isInteger(E)&&E>=w.v&&C(w,E+1)}qt(o)}return!0},ownKeys(l){s(o);var c=Reflect.ownKeys(l).filter(f=>{var v=n.get(f);return v===void 0||v.v!==fe});for(var[d,u]of n)u.v!==fe&&!(d in l)&&c.push(d);return c},setPrototypeOf(){aa()}})}function qt(e,t=1){C(e,e.v+t)}function $e(e){var t=Te|Oe,n=G!==null&&(G.f&Te)!==0?G:null;return J===null||n!==null&&(n.f&_e)!==0?t|=_e:J.f|=Gn,{ctx:te,deps:null,effects:null,equals:Jn,f:t,fn:e,reactions:null,rv:0,v:null,wv:0,parent:n??J}}function ae(e){const t=$e(e);return hr(t),t}function Qn(e){const t=$e(e);return t.equals=fn,t}function $n(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)Be(t[n])}}function wa(e){for(var t=e.parent;t!==null;){if((t.f&Te)===0)return t;t=t.parent}return null}function er(e){var t,n=J;He(wa(e));try{$n(e),t=mr(e)}finally{He(n)}return t}function tr(e){var t=er(e),n=(Fe||(e.f&_e)!==0)&&e.deps!==null?Ge:he;Ce(e,n),e.equals(t)||(e.v=t,e.wv=pr())}const vt=new Map;function ht(e,t){var n={f:0,v:e,reactions:null,equals:Jn,rv:0,wv:0};return n}function N(e,t){const n=ht(e);return hr(n),n}function nr(e,t=!1){var r;const n=ht(e);return t||(n.equals=fn),ot&&te!==null&&te.l!==null&&((r=te.l).s??(r.s=[])).push(n),n}function C(e,t,n=!1){G!==null&&!Le&&_t()&&(G.f&(Te|dn))!==0&&!(de!=null&&de.includes(e))&&oa();let r=n?ie(t):t;return Qt(e,r)}function Qt(e,t){if(!e.equals(t)){var n=e.v;mt?vt.set(e,t):vt.set(e,n),e.v=t,(e.f&Te)!==0&&((e.f&Oe)!==0&&er(e),Ce(e,(e.f&_e)===0?he:Ge)),e.wv=pr(),rr(e,Oe),_t()&&J!==null&&(J.f&he)!==0&&(J.f&(Re|at))===0&&(be===null?Da([e]):be.push(e))}return t}function rr(e,t){var n=e.reactions;if(n!==null)for(var r=_t(),o=n.length,a=0;a<o;a++){var i=n[a],l=i.f;(l&Oe)===0&&(!r&&i===J||(Ce(i,t),(l&(he|_e))!==0&&((l&Te)!==0?rr(i,Ge):Vt(i))))}}let ya=!1;var On,ar,or,ir;function ba(){if(On===void 0){On=window,ar=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;or=Ze(t,"firstChild").get,ir=Ze(t,"nextSibling").get,Dn(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Dn(n)&&(n.__t=void 0)}}function Ft(e=""){return document.createTextNode(e)}function et(e){return or.call(e)}function zt(e){return ir.call(e)}function T(e,t){return et(e)}function q(e,t){{var n=et(e);return n instanceof Comment&&n.data===""?zt(n):n}}function D(e,t=1,n=!1){let r=e;for(;t--;)r=zt(r);return r}function ka(e){e.textContent=""}function sr(e){J===null&&G===null&&ea(),G!==null&&(G.f&_e)!==0&&J===null&&$r(),mt&&Qr()}function Sa(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function it(e,t,n,r=!0){var o=J,a={ctx:te,deps:null,nodes_start:null,nodes_end:null,f:e|Oe,first:null,fn:t,last:null,next:null,parent:o,prev:null,teardown:null,transitions:null,wv:0};if(n)try{wn(a),a.f|=Wr}catch(c){throw Be(a),c}else t!==null&&Vt(a);var i=n&&a.deps===null&&a.first===null&&a.nodes_start===null&&a.teardown===null&&(a.f&(Gn|Tt))===0;if(!i&&r&&(o!==null&&Sa(a,o),G!==null&&(G.f&Te)!==0)){var l=G;(l.effects??(l.effects=[])).push(a)}return a}function gn(e){const t=it(Bt,null,!1);return Ce(t,he),t.teardown=e,t}function ve(e){sr();var t=J!==null&&(J.f&Re)!==0&&te!==null&&!te.m;if(t){var n=te;(n.e??(n.e=[])).push({fn:e,effect:J,reaction:G})}else{var r=pn(e);return r}}function Ea(e){return sr(),Ht(e)}function Ta(e){const t=it(at,e,!0);return(n={})=>new Promise(r=>{n.outro?xt(t,()=>{Be(t),r(void 0)}):(Be(t),r(void 0))})}function pn(e){return it(Kn,e,!1)}function Ht(e){return it(Bt,e,!0)}function oe(e,t=[],n=$e){const r=t.map(n);return Ut(()=>e(...r.map(s)))}function Ut(e,t=0){return it(Bt|dn|t,e,!0)}function tt(e,t=!0){return it(Bt|Re,e,!0,t)}function lr(e){var t=e.teardown;if(t!==null){const n=mt,r=G;Mn(!0),Ae(null);try{t.call(null)}finally{Mn(n),Ae(r)}}}function cr(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){var r=n.next;(n.f&at)!==0?n.parent=null:Be(n,t),n=r}}function Ca(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&Re)===0&&Be(t),t=n}}function Be(e,t=!0){var n=!1;(t||(e.f&Kr)!==0)&&e.nodes_start!==null&&(xa(e.nodes_start,e.nodes_end),n=!0),cr(e,t&&!n),At(e,0),Ce(e,Rt);var r=e.transitions;if(r!==null)for(const a of r)a.stop();lr(e);var o=e.parent;o!==null&&o.first!==null&&ur(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function xa(e,t){for(;e!==null;){var n=e===t?null:zt(e);e.remove(),e=n}}function ur(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function xt(e,t){var n=[];_n(e,n,!0),dr(n,()=>{Be(e),t&&t()})}function dr(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var o of e)o.out(r)}else t()}function _n(e,t,n){if((e.f&Ie)===0){if(e.f^=Ie,e.transitions!==null)for(const i of e.transitions)(i.is_global||n)&&t.push(i);for(var r=e.first;r!==null;){var o=r.next,a=(r.f&Nt)!==0||(r.f&Re)!==0;_n(r,t,a?n:!1),r=o}}}function Lt(e){fr(e,!0)}function fr(e,t){if((e.f&Ie)!==0){e.f^=Ie,(e.f&he)===0&&(e.f^=he),wt(e)&&(Ce(e,Oe),Vt(e));for(var n=e.first;n!==null;){var r=n.next,o=(n.f&Nt)!==0||(n.f&Re)!==0;fr(n,o?t:!1),n=r}if(e.transitions!==null)for(const a of e.transitions)(a.is_global||t)&&a.in()}}let gt=[],$t=[];function vr(){var e=gt;gt=[],Et(e)}function La(){var e=$t;$t=[],Et(e)}function mn(e){gt.length===0&&queueMicrotask(vr),gt.push(e)}function An(){gt.length>0&&vr(),$t.length>0&&La()}let St=!1,Dt=!1,Pt=null,Ke=!1,mt=!1;function Mn(e){mt=e}let ft=[];let G=null,Le=!1;function Ae(e){G=e}let J=null;function He(e){J=e}let de=null;function hr(e){G!==null&&G.f&Zt&&(de===null?de=[e]:de.push(e))}let ue=null,pe=0,be=null;function Da(e){be=e}let gr=1,Ot=0,Fe=!1;function pr(){return++gr}function wt(e){var f;var t=e.f;if((t&Oe)!==0)return!0;if((t&Ge)!==0){var n=e.deps,r=(t&_e)!==0;if(n!==null){var o,a,i=(t&Ct)!==0,l=r&&J!==null&&!Fe,c=n.length;if(i||l){var d=e,u=d.parent;for(o=0;o<c;o++)a=n[o],(i||!((f=a==null?void 0:a.reactions)!=null&&f.includes(d)))&&(a.reactions??(a.reactions=[])).push(d);i&&(d.f^=Ct),l&&u!==null&&(u.f&_e)===0&&(d.f^=_e)}for(o=0;o<c;o++)if(a=n[o],wt(a)&&tr(a),a.wv>e.wv)return!0}(!r||J!==null&&!Fe)&&Ce(e,he)}return!1}function Pa(e,t){for(var n=t;n!==null;){if((n.f&Tt)!==0)try{n.fn(e);return}catch{n.f^=Tt}n=n.parent}throw St=!1,e}function In(e){return(e.f&Rt)===0&&(e.parent===null||(e.parent.f&Tt)===0)}function jt(e,t,n,r){if(St){if(n===null&&(St=!1),In(t))throw e;return}if(n!==null&&(St=!0),Pa(e,t),In(t))throw e}function _r(e,t,n=!0){var r=e.reactions;if(r!==null)for(var o=0;o<r.length;o++){var a=r[o];de!=null&&de.includes(e)||((a.f&Te)!==0?_r(a,t,!1):t===a&&(n?Ce(a,Oe):(a.f&he)!==0&&Ce(a,Ge),Vt(a)))}}function mr(e){var g;var t=ue,n=pe,r=be,o=G,a=Fe,i=de,l=te,c=Le,d=e.f;ue=null,pe=0,be=null,Fe=(d&_e)!==0&&(Le||!Ke||G===null),G=(d&(Re|at))===0?e:null,de=null,Pn(e.ctx),Le=!1,Ot++,e.f|=Zt;try{var u=(0,e.fn)(),f=e.deps;if(ue!==null){var v;if(At(e,pe),f!==null&&pe>0)for(f.length=pe+ue.length,v=0;v<ue.length;v++)f[pe+v]=ue[v];else e.deps=f=ue;if(!Fe)for(v=pe;v<f.length;v++)((g=f[v]).reactions??(g.reactions=[])).push(e)}else f!==null&&pe<f.length&&(At(e,pe),f.length=pe);if(_t()&&be!==null&&!Le&&f!==null&&(e.f&(Te|Ge|Oe))===0)for(v=0;v<be.length;v++)_r(be[v],e);return o!==null&&o!==e&&(Ot++,be!==null&&(r===null?r=be:r.push(...be))),u}finally{ue=t,pe=n,be=r,G=o,Fe=a,de=i,Pn(l),Le=c,e.f^=Zt}}function Oa(e,t){let n=t.reactions;if(n!==null){var r=Ur.call(n,e);if(r!==-1){var o=n.length-1;o===0?n=t.reactions=null:(n[r]=n[o],n.pop())}}n===null&&(t.f&Te)!==0&&(ue===null||!ue.includes(t))&&(Ce(t,Ge),(t.f&(_e|Ct))===0&&(t.f^=Ct),$n(t),At(t,0))}function At(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)Oa(e,n[r])}function wn(e){var t=e.f;if((t&Rt)===0){Ce(e,he);var n=J,r=te,o=Ke;J=e,Ke=!0;try{(t&dn)!==0?Ca(e):cr(e),lr(e);var a=mr(e);e.teardown=typeof a=="function"?a:null,e.wv=gr;var i=e.deps,l;Ln&&ia&&e.f&Oe}catch(c){jt(c,e,n,r||e.ctx)}finally{Ke=o,J=n}}}function Aa(){try{ta()}catch(e){if(Pt!==null)jt(e,Pt,null);else throw e}}function wr(){var e=Ke;try{var t=0;for(Ke=!0;ft.length>0;){t++>1e3&&Aa();var n=ft,r=n.length;ft=[];for(var o=0;o<r;o++){var a=Ia(n[o]);Ma(a)}vt.clear()}}finally{Dt=!1,Ke=e,Pt=null}}function Ma(e){var t=e.length;if(t!==0)for(var n=0;n<t;n++){var r=e[n];if((r.f&(Rt|Ie))===0)try{wt(r)&&(wn(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null?ur(r):r.fn=null))}catch(o){jt(o,r,null,r.ctx)}}}function Vt(e){Dt||(Dt=!0,queueMicrotask(wr));for(var t=Pt=e;t.parent!==null;){t=t.parent;var n=t.f;if((n&(at|Re))!==0){if((n&he)===0)return;t.f^=he}}ft.push(t)}function Ia(e){for(var t=[],n=e;n!==null;){var r=n.f,o=(r&(Re|at))!==0,a=o&&(r&he)!==0;if(!a&&(r&Ie)===0){if((r&Kn)!==0)t.push(n);else if(o)n.f^=he;else try{wt(n)&&wn(n)}catch(c){jt(c,n,null,n.ctx)}var i=n.first;if(i!==null){n=i;continue}}var l=n.parent;for(n=n.next;n===null&&l!==null;)n=l.next,l=l.parent}return t}function Ba(e){var t;for(An();ft.length>0;)Dt=!0,wr(),An();return t}async function Ra(){await Promise.resolve(),Ba()}function s(e){var t=e.f,n=(t&Te)!==0;if(G!==null&&!Le){if(!(de!=null&&de.includes(e))){var r=G.deps;e.rv<Ot&&(e.rv=Ot,ue===null&&r!==null&&r[pe]===e?pe++:ue===null?ue=[e]:(!Fe||!ue.includes(e))&&ue.push(e))}}else if(n&&e.deps===null&&e.effects===null){var o=e,a=o.parent;a!==null&&(a.f&_e)===0&&(o.f^=_e)}return n&&(o=e,wt(o)&&tr(o)),mt&&vt.has(e)?vt.get(e):e.v}function nt(e){var t=Le;try{return Le=!0,e()}finally{Le=t}}const Na=-7169;function Ce(e,t){e.f=e.f&Na|t}function Fa(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Xe in e)en(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&Xe in n&&en(n)}}}function en(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{en(e[r],t)}catch{}const n=un(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=Wn(n);for(let o in r){const a=r[o].get;if(a)try{a.call(e)}catch{}}}}}const za=["touchstart","touchmove"];function Ha(e){return za.includes(e)}let Bn=!1;function Ua(){Bn||(Bn=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const n of e.target.elements)(t=n.__on_r)==null||t.call(n)})},{capture:!0}))}function yr(e){var t=G,n=J;Ae(null),He(null);try{return e()}finally{Ae(t),He(n)}}function ja(e,t,n,r=n){e.addEventListener(t,()=>yr(n));const o=e.__on_r;o?e.__on_r=()=>{o(),r(!0)}:e.__on_r=()=>r(!0),Ua()}const br=new Set,tn=new Set;function Va(e,t,n,r={}){function o(a){if(r.capture||ct.call(t,a),!a.cancelBubble)return yr(()=>n==null?void 0:n.call(this,a))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?mn(()=>{t.addEventListener(e,o,r)}):t.addEventListener(e,o,r),o}function Ye(e,t,n,r,o){var a={capture:r,passive:o},i=Va(e,t,n,a);(t===document.body||t===window||t===document)&&gn(()=>{t.removeEventListener(e,i,a)})}function ye(e){for(var t=0;t<e.length;t++)br.add(e[t]);for(var n of tn)n(e)}function ct(e){var p;var t=this,n=t.ownerDocument,r=e.type,o=((p=e.composedPath)==null?void 0:p.call(e))||[],a=o[0]||e.target,i=0,l=e.__root;if(l){var c=o.indexOf(l);if(c!==-1&&(t===document||t===window)){e.__root=t;return}var d=o.indexOf(t);if(d===-1)return;c<=d&&(i=c)}if(a=o[i]||e.target,a!==t){jr(e,"currentTarget",{configurable:!0,get(){return a||n}});var u=G,f=J;Ae(null),He(null);try{for(var v,g=[];a!==null;){var h=a.assignedSlot||a.parentNode||a.host||null;try{var m=a["__"+r];if(m!=null&&(!a.disabled||e.target===a))if(ln(m)){var[w,...E]=m;w.apply(a,[e,...E])}else m.call(a,e)}catch(k){v?g.push(k):v=k}if(e.cancelBubble||h===t||h===null)break;a=h}if(v){for(let k of g)queueMicrotask(()=>{throw k});throw v}}finally{e.__root=t,delete e.currentTarget,Ae(u),He(f)}}}function kr(e){var t=document.createElement("template");return t.innerHTML=e,t.content}function pt(e,t){var n=J;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function H(e,t){var n=(t&ga)!==0,r=(t&pa)!==0,o,a=!e.startsWith("<!>");return()=>{o===void 0&&(o=kr(a?e:"<!>"+e),n||(o=et(o)));var i=r||ar?document.importNode(o,!0):o.cloneNode(!0);if(n){var l=et(i),c=i.lastChild;pt(l,c)}else pt(i,i);return i}}function qa(e,t,n="svg"){var r=!e.startsWith("<!>"),o=`<${n}>${r?e:"<!>"+e}</${n}>`,a;return()=>{if(!a){var i=kr(o),l=et(i);a=et(l)}var c=a.cloneNode(!0);return pt(c,c),c}}function le(e=""){{var t=Ft(e+"");return pt(t,t),t}}function me(){var e=document.createDocumentFragment(),t=document.createComment(""),n=Ft();return e.append(t,n),pt(t,n),e}function L(e,t){e!==null&&e.before(t)}function st(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function Ya(e,t){return Wa(e,t)}const Je=new Map;function Wa(e,{target:t,anchor:n,props:r={},events:o,context:a,intro:i=!0}){ba();var l=new Set,c=f=>{for(var v=0;v<f.length;v++){var g=f[v];if(!l.has(g)){l.add(g);var h=Ha(g);t.addEventListener(g,ct,{passive:h});var m=Je.get(g);m===void 0?(document.addEventListener(g,ct,{passive:h}),Je.set(g,1)):Je.set(g,m+1)}}};c(cn(br)),tn.add(c);var d=void 0,u=Ta(()=>{var f=n??t.appendChild(Ft());return tt(()=>{if(a){Y({});var v=te;v.c=a}o&&(r.$$events=o),d=e(f,r)||{},a&&W()}),()=>{var h;for(var v of l){t.removeEventListener(v,ct);var g=Je.get(v);--g===0?(document.removeEventListener(v,ct),Je.delete(v)):Je.set(v,g)}tn.delete(c),f!==n&&((h=f.parentNode)==null||h.removeChild(f))}});return Xa.set(d,u),d}let Xa=new WeakMap;function V(e,t,[n,r]=[0,0]){var o=e,a=null,i=null,l=fe,c=n>0?Nt:0,d=!1;const u=(v,g=!0)=>{d=!0,f(g,v)},f=(v,g)=>{l!==(l=v)&&(l?(a?Lt(a):g&&(a=tt(()=>g(o))),i&&xt(i,()=>{i=null})):(i?Lt(i):g&&(i=tt(()=>g(o,[n+1,r]))),a&&xt(a,()=>{a=null})))};Ut(()=>{d=!1,t(u),d||f(null,null)},c)}function Pe(e,t){Ht(()=>{var n=t();for(var r in n){var o=n[r];o?e.style.setProperty(r,o):e.style.removeProperty(r)}}),gn(()=>{e.remove()})}function Ka(e,t){return t}function Ga(e,t,n,r){for(var o=[],a=t.length,i=0;i<a;i++)_n(t[i].e,o,!0);var l=a>0&&o.length===0&&n!==null;if(l){var c=n.parentNode;ka(c),c.append(n),r.clear(),Ne(e,t[0].prev,t[a-1].next)}dr(o,()=>{for(var d=0;d<a;d++){var u=t[d];l||(r.delete(u.k),Ne(e,u.prev,u.next)),Be(u.e,!l)}})}function ze(e,t,n,r,o,a=null){var i=e,l={flags:t,items:new Map,first:null},c=(t&Zn)!==0;if(c){var d=e;i=d.appendChild(Ft())}var u=null,f=!1,v=Qn(()=>{var g=n();return ln(g)?g:g==null?[]:cn(g)});Ut(()=>{var g=s(v),h=g.length;f&&h===0||(f=h===0,Ja(g,l,i,o,t,r,n),a!==null&&(h===0?u?Lt(u):u=tt(()=>a(i)):u!==null&&xt(u,()=>{u=null})),s(v))})}function Ja(e,t,n,r,o,a,i){var A,z,M,F;var l=(o&la)!==0,c=(o&(vn|hn))!==0,d=e.length,u=t.items,f=t.first,v=f,g,h=null,m,w=[],E=[],p,k,_,S;if(l)for(S=0;S<d;S+=1)p=e[S],k=a(p,S),_=u.get(k),_!==void 0&&((A=_.a)==null||A.measure(),(m??(m=new Set)).add(_));for(S=0;S<d;S+=1){if(p=e[S],k=a(p,S),_=u.get(k),_===void 0){var b=v?v.e.nodes_start:n;h=Qa(b,t,h,h===null?t.first:h.next,p,k,S,r,o,i),u.set(k,h),w=[],E=[],v=h.next;continue}if(c&&Za(_,p,S,o),(_.e.f&Ie)!==0&&(Lt(_.e),l&&((z=_.a)==null||z.unfix(),(m??(m=new Set)).delete(_))),_!==v){if(g!==void 0&&g.has(_)){if(w.length<E.length){var x=E[0],y;h=x.prev;var O=w[0],I=w[w.length-1];for(y=0;y<w.length;y+=1)Rn(w[y],x,n);for(y=0;y<E.length;y+=1)g.delete(E[y]);Ne(t,O.prev,I.next),Ne(t,h,O),Ne(t,I,x),v=x,h=I,S-=1,w=[],E=[]}else g.delete(_),Rn(_,v,n),Ne(t,_.prev,_.next),Ne(t,_,h===null?t.first:h.next),Ne(t,h,_),h=_;continue}for(w=[],E=[];v!==null&&v.k!==k;)(v.e.f&Ie)===0&&(g??(g=new Set)).add(v),E.push(v),v=v.next;if(v===null)continue;_=v}w.push(_),h=_,v=_.next}if(v!==null||g!==void 0){for(var R=g===void 0?[]:cn(g);v!==null;)(v.e.f&Ie)===0&&R.push(v),v=v.next;var P=R.length;if(P>0){var j=(o&Zn)!==0&&d===0?n:null;if(l){for(S=0;S<P;S+=1)(M=R[S].a)==null||M.measure();for(S=0;S<P;S+=1)(F=R[S].a)==null||F.fix()}Ga(t,R,j,u)}}l&&mn(()=>{var X;if(m!==void 0)for(_ of m)(X=_.a)==null||X.apply()}),J.first=t.first&&t.first.e,J.last=h&&h.e}function Za(e,t,n,r){(r&vn)!==0&&Qt(e.v,t),(r&hn)!==0?Qt(e.i,n):e.i=n}function Qa(e,t,n,r,o,a,i,l,c,d){var u=(c&vn)!==0,f=(c&ca)===0,v=u?f?nr(o):ht(o):o,g=(c&hn)===0?i:ht(i),h={i:g,v,k:a,a:null,e:null,prev:n,next:r};try{return h.e=tt(()=>l(e,v,g,d),ya),h.e.prev=n&&n.e,h.e.next=r&&r.e,n===null?t.first=h:(n.next=h,n.e.next=h.e),r!==null&&(r.prev=h,r.e.prev=h.e),h}finally{}}function Rn(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,o=t?t.e.nodes_start:n,a=e.e.nodes_start;a!==r;){var i=zt(a);o.before(a),a=i}}function Ne(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function je(e,t,...n){var r=e,o=Xn,a;Ut(()=>{o!==(o=t())&&(a&&(Be(a),a=null),a=tt(()=>o(r,...n)))},Nt)}function Sr(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=Sr(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function $a(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=Sr(e))&&(r&&(r+=" "),r+=t);return r}function ee(e){return typeof e=="object"?$a(e):e??""}const Nn=[...` 	
\r\f \v\uFEFF`];function eo(e,t,n){var r=e==null?"":""+e;if(t&&(r=r?r+" "+t:t),n){for(var o in n)if(n[o])r=r?r+" "+o:o;else if(r.length)for(var a=o.length,i=0;(i=r.indexOf(o,i))>=0;){var l=i+a;(i===0||Nn.includes(r[i-1]))&&(l===r.length||Nn.includes(r[l]))?r=(i===0?"":r.substring(0,i))+r.substring(l+1):i=l}}return r===""?null:r}function to(e,t){return e==null?null:String(e)}function Z(e,t,n,r,o,a){var i=e.__className;if(i!==n||i===void 0){var l=eo(n,r,a);l==null?e.removeAttribute("class"):e.className=l,e.__className=n}else if(a&&o!==a)for(var c in a){var d=!!a[c];(o==null||d!==!!o[c])&&e.classList.toggle(c,d)}return a}function Mt(e,t,n,r){var o=e.__style;if(o!==t){var a=to(t);a==null?e.removeAttribute("style"):e.style.cssText=a,e.__style=t}return r}const no=Symbol("is custom element"),ro=Symbol("is html");function Yt(e,t){var n=yn(e);n.value===(n.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function Wt(e,t){var n=yn(e);n.checked!==(n.checked=t??void 0)&&(e.checked=t)}function ke(e,t,n,r){var o=yn(e);o[t]!==(o[t]=n)&&(t==="loading"&&(e[Jr]=n),n==null?e.removeAttribute(t):typeof n!="string"&&ao(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function yn(e){return e.__attributes??(e.__attributes={[no]:e.nodeName.includes("-"),[ro]:e.namespaceURI===_a})}var Fn=new Map;function ao(e){var t=Fn.get(e.nodeName);if(t)return t;Fn.set(e.nodeName,t=[]);for(var n,r=e,o=Element.prototype;o!==r;){n=Wn(r);for(var a in n)n[a].set&&t.push(a);r=un(r)}return t}function bn(e,t,n=t){var r=_t();ja(e,"input",o=>{var a=o?e.defaultValue:e.value;if(a=Xt(e)?Kt(a):a,n(a),r&&a!==(a=t())){var i=e.selectionStart,l=e.selectionEnd;e.value=a??"",l!==null&&(e.selectionStart=i,e.selectionEnd=Math.min(l,e.value.length))}}),nt(t)==null&&e.value&&n(Xt(e)?Kt(e.value):e.value),Ht(()=>{var o=t();Xt(e)&&o===Kt(e.value)||e.type==="date"&&!o&&!e.value||o!==e.value&&(e.value=o??"")})}function Xt(e){var t=e.type;return t==="number"||t==="range"}function Kt(e){return e===""?null:+e}function zn(e,t){return e===t||(e==null?void 0:e[Xe])===t}function we(e={},t,n,r){return pn(()=>{var o,a;return Ht(()=>{o=a,a=[],nt(()=>{e!==n(...a)&&(t(e,...a),o&&zn(n(...o),e)&&t(null,...o))})}),()=>{mn(()=>{a&&zn(n(...a),e)&&t(null,...a)})}}),e}function kn(e=!1){const t=te,n=t.l.u;if(!n)return;let r=()=>Fa(t.s);if(e){let o=0,a={};const i=$e(()=>{let l=!1;const c=t.s;for(const d in c)c[d]!==a[d]&&(a[d]=c[d],l=!0);return l&&o++,o});r=()=>s(i)}n.b.length&&Ea(()=>{Hn(t,r),Et(n.b)}),ve(()=>{const o=nt(()=>n.m.map(Yr));return()=>{for(const a of o)typeof a=="function"&&a()}}),n.a.length&&ve(()=>{Hn(t,r),Et(n.a)})}function Hn(e,t){if(e.l.s)for(const n of e.l.s)s(n);t()}let bt=!1;function oo(e){var t=bt;try{return bt=!1,[e(),bt]}finally{bt=t}}function Un(e){var t;return((t=e.ctx)==null?void 0:t.d)??!1}function K(e,t,n,r){var b;var o=(n&ua)!==0,a=!ot||(n&da)!==0,i=(n&va)!==0,l=(n&ha)!==0,c=!1,d;i?[d,c]=oo(()=>e[t]):d=e[t];var u=Xe in e||Gr in e,f=i&&(((b=Ze(e,t))==null?void 0:b.set)??(u&&t in e&&(x=>e[t]=x)))||void 0,v=r,g=!0,h=!1,m=()=>(h=!0,g&&(g=!1,l?v=nt(r):v=r),v);d===void 0&&r!==void 0&&(f&&a&&na(),d=m(),f&&f(d));var w;if(a)w=()=>{var x=e[t];return x===void 0?m():(g=!0,h=!1,x)};else{var E=(o?$e:Qn)(()=>e[t]);E.f|=Xr,w=()=>{var x=s(E);return x!==void 0&&(v=void 0),x===void 0?v:x}}if((n&fa)===0)return w;if(f){var p=e.$$legacy;return function(x,y){return arguments.length>0?((!a||!y||p||c)&&f(y?w():x),x):w()}}var k=!1,_=nr(d),S=$e(()=>{var x=w(),y=s(_);return k?(k=!1,y):_.v=x});return i&&s(S),o||(S.equals=fn),function(x,y){if(arguments.length>0){const O=y?s(S):a&&i?ie(x):x;if(!S.equals(O)){if(k=!0,C(_,O),h&&v!==void 0&&(v=O),Un(S))return x;nt(()=>s(S))}return x}return Un(S)?S.v:s(S)}}function xe(e){te===null&&ma(),ot&&te.l!==null?io(te).m.push(e):ve(()=>{const t=nt(e);if(typeof t=="function")return t})}function io(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const so="5";var Yn;typeof window<"u"&&((Yn=window.__svelte??(window.__svelte={})).v??(Yn.v=new Set)).add(so);let ut=N("");function lo(e){C(ut,e,!0)}var co=H('<div class="notification svelte-1h5k2zn"> </div>');function uo(e,t){Y(t,!0),ve(()=>{s(ut);const a=setTimeout(()=>{C(ut,"")},800);return()=>{clearTimeout(a)}});var n=me(),r=q(n);{var o=a=>{var i=co(),l=T(i);oe(()=>st(l,s(ut))),L(a,i)};V(r,a=>{s(ut)&&a(o)})}L(e,n),W()}sa();var fo=H('<span class="vh svelte-14jjkpd"><!></span>');function rt(e,t){var n=fo(),r=T(n);je(r,()=>t.children),L(e,n)}var vo=qa('<svg class="svelte-1lqi79o"><use></use></svg>');function Se(e,t){let n=K(t,"name",8,"");var r=vo(),o=T(r);oe(()=>ke(o,"href",`#icon-${n()??""}`)),L(e,r)}const Er=(e,t)=>{if(!t)return e;if(t.type==="closed")return{type:"closed"};switch(e.type){case"opened":return t.type==="close"?{type:"closing"}:t.type==="swipe"?{type:"openSwiping"}:e;case"closed":return t.type==="open"?{type:"opening"}:t.type==="swipe"?{type:"closeSwiping"}:e;case"openSwiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"closeSwiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"opening":return t.type==="opened"?{type:"opened"}:e;default:return e}};let nn=N(ie(Er({type:"closed"})));const qe=e=>{C(nn,Er(s(nn),e),!0)},Tr=()=>s(nn),ho=()=>{qe({type:"open"})},go=()=>{qe({type:"close"})},po=()=>{const e=Tr().type;e==="closed"?ho():e==="opened"&&go()};var _o=H('<button class="buttonMenu svelte-uq0knv"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>');function Cr(e,t){Y(t,!1),kn();var n=_o();n.__click=[po];var r=T(n);Pe(r,()=>({"--size":"28px"})),Se(r.lastChild,{name:"sidebarMenu"});var o=D(r,2);rt(o,{children:(a,i)=>{var l=le("Menu");L(a,l)}}),L(e,n),W()}ye(["click"]);const U=ie({historyStack:[],pathname:window.location.pathname,search:window.location.search,historyLength:0}),xr=()=>{var e;return((e=new URLSearchParams(U.search).get("selectedTags"))==null?void 0:e.split(","))||[]};let kt=xr();const mo=()=>{const e=xr();return e.join(",")===kt.join(",")||(kt=e),kt},wo=()=>{U.pathname=document.location.pathname,U.search=document.location.search,U.historyLength=Math.max(0,U.historyLength-=1)};window.addEventListener("popstate",wo);const rn=e=>{const[t,n]=e.split("?");U.pathname=t,U.search=n?`?${n}`:"",U.historyLength+=1,U.historyStack.push(window.location.href),window.history.replaceState(null,"",e)},yo=e=>{const[t,n]=e.split("?");U.pathname=t,U.search=n?`?${n}`:"",window.history.replaceState(null,"",e)},yt=(e="/")=>{const[t,n]=e.split("?");if(U.historyLength<=0)window.history.replaceState(null,"",e),U.historyLength=0,U.pathname=t,U.search=n?`?${n}`:"";else if(U.historyStack.length>0){const r=U.historyStack.pop();if(r){const[o,a]=r.split("?");window.history.replaceState(null,"",r),U.historyLength=Math.max(0,U.historyLength-=1),U.pathname=o,U.search=a?`?${a}`:""}}},Ue=()=>{var e;return((e=new URLSearchParams(U.search).get("stackPages"))==null?void 0:e.split(","))||[]};let Qe=N(ie(Ue()));const lt=e=>{const t=Ue();t.push(e);const n=new URLSearchParams(U.search);n.set("stackPages",t.join(",")),C(Qe,t,!0),rn(`${U.pathname}?${n.toString()}`)},bo=()=>{const e=s(Qe).slice(0,-1);C(Qe,e,!0)},ko=()=>{const e=Ue();return e.length>=s(Qe).length?e.reduce((t,n)=>[...t,{page:n,shown:!0}],[]):s(Qe).reduce((t,n,r)=>[...t,{page:n,shown:r!==s(Qe).length-1}],[])},So=e=>{e.preventDefault(),lt("settings")},Eo=e=>{e.preventDefault(),lt("newBookmark")};var To=H('<a class="addBookmark svelte-ybtczo"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Add bookmark</span></a>'),Co=H('<div class="header svelte-ybtczo"><div class="top svelte-ybtczo"><div class="desktop svelte-ybtczo"><a class="link svelte-ybtczo"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Settings</span></a></div> <div class="mobile svelte-ybtczo"><!></div> <!></div></div>');function xo(e,t){Y(t,!0);const n=()=>{const m=Ue();m.includes("settings")||m.push("settings");const w=new URLSearchParams(U.search);return w.set("stackPages",m.join(",")),`${U.pathname}?${w}`};let o=ae(()=>{const m=Ue();m.includes("newBookmark")||m.push("newBookmark");const w=new URLSearchParams(U.search);return w.set("stackPages",m.join(",")),`${U.pathname}?${w}`}),a=ae(n);var i=Co(),l=T(i),c=T(l),d=T(c);d.__click=[So];var u=T(d);Pe(u,()=>({"--size":"20px"})),Se(u.lastChild,{name:"settings"});var f=D(c,2),v=T(f);Cr(v,{});var g=D(f,2);{var h=m=>{var w=To();w.__click=[Eo];var E=T(w);Pe(E,()=>({"--size":"24px","--color":"#b0b0b0"})),Se(E.lastChild,{name:"plus"}),oe(()=>ke(w,"href",s(o))),L(m,w)};V(g,m=>{U.pathname!=="/settings"&&m(h)})}oe(()=>ke(d,"href",s(a))),L(e,i),W()}ye(["click"]);const Lr=()=>window.matchMedia("(max-width: 768px)").matches;let Dr=N(ie(Lr()));const Lo=(e,t)=>{let n=null;return()=>{n&&clearTimeout(n),n=setTimeout(()=>{e()},t)}},Do=Lo(()=>{C(Dr,Lr(),!0)},16);window.addEventListener("resize",Do);const Sn=()=>s(Dr),ce=ie({working:!1,swipingRatio:1,isSwiping:!1,duration:.35});let an=!1;const Gt=()=>{document.activeElement instanceof HTMLInputElement||document.activeElement instanceof HTMLTextAreaElement?an=!0:an=!1},En=()=>an;function Po(e,t){Y(t,!0);let n=K(t,"dialog",7),r=null;const o=()=>{t.dialogState==="swiping"&&t.onClose()};ve(()=>(t.dialogState==="swiping"&&(r=setTimeout(o,3e3)),()=>{r&&(clearTimeout(r),r=null)}));let a=null,i=null;const l=3,c=50,d=5,u=.6,f=.3,v=.35,g=.95;let h=0,m=0,w=0,E=!1,p=!1,k=0,_=0,S=0;const b=()=>{h=0,m=0,E=!1,p=!1,k=0,_=0,S=0,w=0,a=null,i!==null&&(cancelAnimationFrame(i),i=null),r&&(clearTimeout(r),r=null)},x=M=>{if(!n()){console.warn("Touch start: No dialog element");return}if(t.dialogState!=="opened"){console.warn(`Touch start: Invalid sidebar state: ${t.dialogState}`);return}h=M.touches[0].clientX,m=M.touches[0].clientY,w=performance.now(),E=!0,p=!1},y=M=>t.dialogState==="opened"&&M>0||t.dialogState==="swiping"&&M>0,O=M=>{if(n()){n().style.setProperty("--transition-timing","0s"),t.onSwipe(),navigator.vibrate&&navigator.vibrate(10);try{const F=window.getComputedStyle(n()),X=F.transform||F.webkitTransform||"";if(_=n().offsetWidth,(t.dialogState==="swiping"||t.dialogState==="opened")&&(k=0),X&&X!=="none")try{k=new DOMMatrix(X).m41}catch{console.warn("Could not parse transform matrix, using default position")}p=!0}catch(F){console.error("Error during swipe initialization:",F),b()}}},I=()=>{if(!n())return;const F=Math.abs(k+S*_/100)/_;n().style.setProperty("--backdrop-bg",`rgba(0, 0, 0, ${.1*(1-F)})`)},R=()=>{if(i=null,!a||!E||!n()||En()){b();return}const M=a.touches[0].clientX,F=a.touches[0].clientY,X=M-h,re=F-m,B=Math.abs(X)>Math.abs(re),Q=Math.abs(X)>l;if(!p)if(B&&Q&&y(X))try{O(X)}catch(Cn){console.error("Error initializing swipe:",Cn),b();return}else return;if(!y(X))return;n().style.setProperty("--transition-timing","0s");let $=k+X*g;$=Math.max(0,Math.min(_,$)),n().style.transform=`translate3d(${$}px, 0, 0)`,ce.swipingRatio=Math.abs(1-$/_),S=($-k)/_*100,t.dialogState==="swiping"&&(r&&clearTimeout(r),r=setTimeout(o,3e3)),I()},P=M=>{if(!E)return;a=M,i===null&&(i=requestAnimationFrame(R));const F=M.touches[0].clientX-h,X=M.touches[0].clientY-m,re=Math.abs(F)>Math.abs(X);p&&re&&M.preventDefault()},j=M=>{const F=Math.abs(M);if(F>=u)return d;if(F>=f){const X=(F-f)/(u-f);return c-X*(c-d)}else return c},A=(M,F)=>{if(Math.abs(M)>=u)return v*.5;const re=Math.abs(S)/100;return F?v*Math.max(.5,1-re):v*Math.max(.5,re)},z=M=>{var $,ge;if(i!==null&&(cancelAnimationFrame(i),i=null),!E||!n()){b();return}if(!p){b();return}let F=0;if(($=M==null?void 0:M.changedTouches)!=null&&$[0]){const Me=M.changedTouches[0].clientX,xn=performance.now()-w;xn>0&&(F=(Me-h)/xn)}const X=j(F);let re=null;t.dialogState==="swiping"&&(re=Math.abs(S)>X||F<-.3?"close":"open");const B=t.dialogState==="swiping"&&re==="close",Q=A(F,B);ce.duration=Q-.02,n().style.setProperty("--transition-timing",`${Q}s`),n().offsetWidth,n().style.transform="",re==="open"?t.onOpen():re==="close"&&t.onClose(),(ge=n())==null||ge.style.removeProperty("--backdrop-bg"),b()};xe(()=>(n().addEventListener("touchstart",x,{passive:!0}),n().addEventListener("touchmove",P,{passive:!1}),n().addEventListener("touchend",z,{passive:!0}),n().addEventListener("touchcancel",z,{passive:!0}),()=>{n().removeEventListener("touchstart",x),n().removeEventListener("touchmove",P),n().removeEventListener("touchend",z),n().removeEventListener("touchcancel",z),i!==null&&cancelAnimationFrame(i)})),W()}var Oo=(e,t)=>{t.onStartClose()},Ao=H('<dialog><div class="dialogInner svelte-1kz0rp4"><span tabindex="1"></span> <!> <div class="header svelte-1kz0rp4"><div><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button></div></div></div></dialog> <!>',1);function Mo(e,t){Y(t,!0);let n=350,r=N(null),o=N(null);const a=p=>{p.preventDefault(),t.onStartClose()};xe(()=>{var p,k;return console.log("swiping mounted"),(p=s(r))==null||p.addEventListener("close",t.onClosed),(k=s(r))==null||k.addEventListener("cancel",a),()=>{var _,S;(_=s(r))==null||_.removeEventListener("close",t.onClosed),(S=s(r))==null||S.removeEventListener("cancel",a)}});const i=()=>{var p,k,_;(p=s(r))==null||p.style.removeProperty("--transition-timing"),(k=s(r))==null||k.style.removeProperty("transform"),(_=s(r))==null||_.style.removeProperty("--backdrop-bg")};ve(()=>{var p,k;if(t.dialogState,!!s(r))switch(t.dialogState){case"opening":{s(r).open||s(r).showModal(),s(r).getBoundingClientRect();const _=setTimeout(()=>{i()},n+1),S=()=>{clearTimeout(_),i()};return(p=s(r))==null||p.addEventListener("transitionend",S,{once:!0}),t.onOpened(),()=>{var b;(b=s(r))==null||b.removeEventListener("transitionend",S)}}case"closing":{const _=setTimeout(()=>{t.dialogState==="closing"&&t.onClosed()},n+1),S=()=>{clearTimeout(_),t.onClosed()};return(k=s(r))==null||k.addEventListener("transitionend",S,{once:!0}),()=>{var b;(b=s(r))==null||b.removeEventListener("transitionend",S)}}case"opened":i()}});var l=Ao(),c=q(l),d=T(c),u=D(T(d),2);je(u,()=>t.children);var f=D(u,2),v=T(f),g=T(v);Z(g,1,ee(["navigateButton","buttonBack"]),"svelte-1kz0rp4"),g.__click=[Oo,t];var h=T(g);Pe(h,()=>({"--size":"20px"})),Se(h.lastChild,{name:"back"});var m=D(h,2);rt(m,{children:(p,k)=>{var _=le("back");L(p,_)}}),we(d,p=>C(o,p),()=>s(o)),we(c,p=>C(r,p),()=>s(r));var w=D(c,2);{var E=p=>{Po(p,{get onClose(){return t.onStartClose},get onOpen(){return t.onStartOpen},get onSwipe(){return t.onSwipe},get dialogState(){return t.dialogState},get dialog(){return s(r)}})};V(w,p=>{(t.dialogState==="opened"||t.dialogState==="swiping")&&!t.blocked&&p(E)})}oe(()=>Z(c,1,ee([{open:t.dialogState==="opened",hidden:t.hidden,isAnimationOn:ce.working&&(!ce.isSwiping||!t.hidden)},{hidden:t.hidden}]),"svelte-1kz0rp4")),L(e,l),W()}ye(["click"]);const jn=(e,t)=>{if(!t)return e;if(t.type==="closed")return{type:"closed"};switch(e.type){case"opened":return t.type==="close"?{type:"closing"}:t.type==="swipe"?{type:"swiping"}:e;case"closed":return t.type==="open"?{type:"opening"}:e;case"swiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"opening":return t.type==="opened"?{type:"opened"}:e;default:return e}};function Io(e,t){Y(t,!0);let n=K(t,"blocked",3,!1),r=K(t,"hiddenDialog",3,!1),o=K(t,"onStartClose",3,()=>{}),a=K(t,"onClose",3,()=>{}),i=N(ie(jn({type:"closed"})));const l=w=>{C(i,jn(s(i),w),!0)},c=()=>{n()||(o()(),l({type:"close"}))},d=()=>{n()||l({type:"open"})},u=()=>{l({type:"opened"}),ce.duration=.2},f=()=>{a()(),l({type:"closed"}),ce.swipingRatio=1,ce.duration=.2},v=()=>{l({type:"swipe"})};ve(()=>{s(i).type==="swiping"?ce.isSwiping=!0:ce.isSwiping=!1,s(i).type==="closed"&&t.shownDialog?d():s(i).type==="opened"&&!t.shownDialog&&c()});var g=me(),h=q(g);{var m=w=>{Mo(w,{onSwipe:v,onOpened:u,onClosed:f,onStartClose:c,onStartOpen:d,get dialogState(){return s(i).type},get hidden(){return r()},get blocked(){return n()},children:(E,p)=>{var k=me(),_=q(k);je(_,()=>t.children),L(E,k)},$$slots:{default:!0}})};V(h,w=>{s(i).type!=="closed"&&w(m)})}return L(e,g),W({handleComputeState:l})}const Bo=({getDialog:e,onOpen:t,onStartClose:n,onClose:r})=>{const o=i=>{i.preventDefault(),n()},a=()=>{r==null||r()};xe(()=>{const i=e();return i==null||i.addEventListener("close",a),i==null||i.addEventListener("cancel",o),()=>{i==null||i.removeEventListener("close",a),i==null||i.removeEventListener("cancel",o)}}),xe(()=>{const i=e();i==null||i.showModal(),i==null||i.getBoundingClientRect(),t()})};function Pr(e,t){Y(t,!0),xe(()=>{const n=r=>{var o;r.target&&((o=t.dialog)!=null&&o.open)&&t.dialogInner&&t.dialogInner!==r.target&&!t.dialogInner.contains(r.target)&&t.onClose()};return document.addEventListener("mousedown",n,{capture:!0}),()=>{document.removeEventListener("mousedown",n,{capture:!0})}}),W()}var Ro=(e,t)=>{t.onStartClose()},No=(e,t)=>{t.onStartClose()},Fo=H('<dialog><div class="dialogInner svelte-zuec9t"><span tabindex="1"></span> <!> <div class="header svelte-zuec9t"><div><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button></div> <div><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button></div></div></div></dialog> <!>',1);function zo(e,t){Y(t,!0);let n=K(t,"hiddenDialog",3,!1),r=K(t,"isDesktopAnimationOff",3,!1),o=N(null),a=N(null);Bo({getDialog:()=>s(o),onOpen:t.onOpen,onStartClose:t.onStartClose,onClose:t.onClose}),ve(()=>{var _,S;t.stateDialog==="closing"&&(ce.working?(_=s(o))==null||_.addEventListener("transitionend",()=>{var b;(b=s(o))==null||b.close()},{once:!0}):(S=s(o))==null||S.close())});var i=Fo(),l=q(i),c=T(l),d=D(T(c),2);je(d,()=>t.children);var u=D(d,2),f=T(u),v=T(f);Z(v,1,ee(["navigateButton","buttonBack"]),"svelte-zuec9t"),v.__click=[Ro,t];var g=T(v);Pe(g,()=>({"--size":"20px"})),Se(g.lastChild,{name:"back"});var h=D(g,2);rt(h,{children:(_,S)=>{var b=le("back");L(_,b)}});var m=D(f,2),w=T(m);Z(w,1,ee(["navigateButton","buttonClose"]),"svelte-zuec9t"),w.__click=[No,t];var E=T(w);Pe(E,()=>({"--size":"20px"})),Se(E.lastChild,{name:"close"});var p=D(E,2);rt(p,{children:(_,S)=>{var b=le("close");L(_,b)}}),we(c,_=>C(a,_),()=>s(a)),we(l,_=>C(o,_),()=>s(o));var k=D(l,2);Pr(k,{get dialog(){return s(o)},get dialogInner(){return s(a)},get onClose(){return t.onStartClose}}),oe(()=>Z(l,1,ee([{open:t.stateDialog==="open",isAnimationOn:ce.working,isDesktopAnimationOff:r(),hiddenDialog:n()}]),"svelte-zuec9t")),L(e,i),W()}ye(["click"]);const Ho=({onStartClose:e,onClose:t})=>{let n=N("close");return{get state(){return s(n)},set state(i){C(n,i,!0)},handleStartClose:(i=!1)=>{i||(C(n,"closing"),e==null||e())},handleOpen:()=>{C(n,"open")},handleClose:()=>{C(n,"close"),t==null||t()}}};function Uo(e,t){Y(t,!0);let n=K(t,"blockedClose",3,!1),r=K(t,"hiddenDialog",3,!1),o=K(t,"onStartClose",3,()=>{}),a=K(t,"onClose",3,()=>{}),i=Ho({onStartClose:o(),onClose:a()});ve(()=>{i.state==="close"&&t.shownDialog?i.state="opening":i.state==="open"&&!t.shownDialog&&i.handleStartClose(n())});var l=me(),c=q(l);{var d=u=>{zo(u,{get stateDialog(){return i.state},get hiddenDialog(){return r()},get onOpen(){return i.handleOpen},onStartClose:()=>i.handleStartClose(n()),get onClose(){return i.handleClose},children:(f,v)=>{var g=me(),h=q(g);je(h,()=>t.children),L(f,g)},$$slots:{default:!0}})};V(c,u=>{i.state!=="close"&&u(d)})}L(e,l),W()}function Or(e,t){Y(t,!0);let n=K(t,"blockedClose",3,!1),r=K(t,"hiddenDialog",3,!1),o=K(t,"onStartClose",3,()=>{}),a=K(t,"onClose",3,()=>{});var i=me(),l=q(i);{var c=u=>{Io(u,{get shownDialog(){return t.shownDialog},get blocked(){return n()},get hiddenDialog(){return r()},get children(){return t.children},get onStartClose(){return o()},get onClose(){return a()}})},d=u=>{Uo(u,{get shownDialog(){return t.shownDialog},get blockedClose(){return n()},get hiddenDialog(){return r()},get children(){return t.children},get onStartClose(){return o()},get onClose(){return a()}})};V(l,u=>{Sn()?u(c):u(d,!1)})}L(e,i),W()}function jo(e,t){Y(t,!0);let n=K(t,"blocked",3,!1);const r=()=>{yt()},o=()=>{bo()},a=ae(()=>n()||t.hidden);Or(e,{get shownDialog(){return t.shown},get blockedClose(){return s(a)},get hiddenDialog(){return t.hidden},onStartClose:r,onClose:o,children:(i,l)=>{var c=me(),d=q(c);je(d,()=>t.children),L(i,c)},$$slots:{default:!0}}),W()}const Ar=()=>crypto.randomUUID(),on=(e,t,n,r=new Set,o={})=>{var a,i;for(const l of e.children)if(l.tagName==="DT"){const c=l.querySelector(":scope > A"),d=l.querySelector(":scope > H3");if(c){const u=c.getAttribute("href"),f=c.textContent||"unknown";if(!u)return n;const v=t.find(g=>g.toLowerCase()==="bookmarks bar")?t.filter(g=>g.toLowerCase()!=="bookmarks bar"):["other"];if(o[u])o[u].tags=[...new Set([...o[u].tags,...v])];else{const g={id:Ar(),order:n.length,url:u,title:f,description:"",tags:v.length>0?v:[],lastUpdatedTimestamp:Date.now(),createdTimestamp:Date.now()};o[g.url]=g,n.push(g)}}else if(d){const u=(a=d.textContent)==null?void 0:a.trim();if(u&&((i=d.nextElementSibling)==null?void 0:i.tagName)==="DL"){const f=[...t];f.push(u);const v=d.nextElementSibling;r.has(v)||(r.add(v),on(v,f,n,r,o))}}}else l.tagName!=="DL"&&l.children.length>0&&(r.has(l)||(r.add(l),on(l,[...t],n,r,o)));return n},Vo=async e=>{const t=await e.text(),o=new DOMParser().parseFromString(t,"text/html").querySelector("DL");return o?on(o,[],[]):[]},qo=e=>{const t=Math.floor(Date.now()/1e3),n={};e.forEach(o=>{const a=o.tags||["Imported"];if(a.length===0){n.ROOT||(n.ROOT=[]),n.ROOT.push(o);return}a.forEach(i=>{n[i]||(n[i]=[]),n[i].push(o)})});let r=`<!DOCTYPE NETSCAPE-Bookmark-file-1>
<!-- This is an automatically generated file.
 It will be read and overwritten.
 DO NOT EDIT! -->
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8">
<TITLE>Bookmarks</TITLE>
<H1>Bookmarks</H1>
<DL><p>
<DT><H3 ADD_DATE="${t}" LAST_MODIFIED="${t}" PERSONAL_TOOLBAR_FOLDER="true">Bookmarks Bar</H3>
<DL><p>`;return Object.keys(n).forEach(o=>{o!=="ROOT"&&o!=="other"&&(r+=`
	<DT><H3 ADD_DATE="${t}" LAST_MODIFIED="${t}">${o}</H3>
	<DL><p>`,n[o].forEach(a=>{const i=a.title.replace(/"/g,"&quot;");r+=`
		<DT><A HREF="${a.url}" ADD_DATE="${Math.floor(a.createdTimestamp/1e3)||t}">${i}</A>`}),r+=`
	</DL><p>`)}),n.ROOT&&n.ROOT.forEach(o=>{const a=o.title.replace(/"/g,"&quot;");r+=`
	<DT><A HREF="${o.url}" ADD_DATE="${Math.floor(o.createdTimestamp/1e3)||t}">${a}</A>`}),r+=`
</DL><p>`,n.other&&n.other.forEach(o=>{const a=o.title.replace(/"/g,"&quot;");r+=`
	<DT><A HREF="${o.url}" ADD_DATE="${Math.floor(o.createdTimestamp/1e3)||t}">${a}</A>`}),r+="</DL><p>",r},Yo="bookmarksStore",Wo=1,Ee="bookmarks";let se;window.addEventListener("unhandledrejection",e=>{alert("Error: "+e.reason.message)});const Xo=()=>new Promise((e,t)=>{const n=indexedDB.open(Yo,Wo);n.addEventListener("upgradeneeded",()=>{const r=n.result;console.log("success upgradeneeded"),r.objectStoreNames.contains(Ee)||r.createObjectStore(Ee,{keyPath:"id"})}),n.addEventListener("success",()=>{console.log("success open"),e(),se=n.result,se.onversionchange=function(){se==null||se.close(),alert("app outdated, please reload the page")}}),n.addEventListener("blocked",()=>{t(),alert("app outdated, please reload the page")}),n.addEventListener("error",()=>{t(),console.error("Error",n.error)})}),Mr=()=>new Promise((e,t)=>{const n=se==null?void 0:se.transaction(Ee,"readonly"),r=n==null?void 0:n.objectStore(Ee).getAll();r==null||r.addEventListener("success",()=>{const o=r.result;e(o)}),r==null||r.addEventListener("error",()=>{t()})}),Ir=async e=>new Promise((t,n)=>{const r=se==null?void 0:se.transaction(Ee,"readwrite"),o=r==null?void 0:r.objectStore(Ee),a=o==null?void 0:o.put({...e});a==null||a.addEventListener("success",()=>{t()}),a==null||a.addEventListener("error",()=>{n()})}),Ko=async e=>new Promise((t,n)=>{const r=se==null?void 0:se.transaction(Ee,"readwrite"),o=r==null?void 0:r.objectStore(Ee),a=o==null?void 0:o.delete(e);a==null||a.addEventListener("success",()=>{t()}),a==null||a.addEventListener("error",()=>{n()})}),Go=()=>new Promise((e,t)=>{const n=se==null?void 0:se.transaction(Ee,"readwrite"),r=n==null?void 0:n.objectStore(Ee),o=r==null?void 0:r.clear();o==null||o.addEventListener("success",()=>{e()}),o==null||o.addEventListener("error",()=>{t()})}),Jo=async()=>{await Go()},Zo=async e=>{const t=(await Mr()).reduce((a,i)=>(a[i.id]=i,a),{}),n={},r=se==null?void 0:se.transaction(Ee,"readwrite"),o=r==null?void 0:r.objectStore(Ee);e.forEach(a=>{t[a.id]?t[a.id].lastUpdatedTimestamp<a.lastUpdatedTimestamp&&(n[a.id]=a):n[a.id]=a}),await Promise.all(Object.values(n).map(a=>{const i=o==null?void 0:o.put(a);return new Promise((l,c)=>{i==null||i.addEventListener("success",()=>{l()}),i==null||i.addEventListener("error",()=>{c()})})}))};let ne=N({inited:!1,bookmarks:[],mapBookmarks:new Map});const Br=async()=>{const e=await Mr(),t=new Map,n=[];e.forEach(r=>{n[r.order]=r,t.set(r.id,r)}),C(ne,{...s(ne),bookmarks:n,mapBookmarks:t,inited:!0})};Xo().then(async()=>{await Br()}).catch(()=>{console.error("failed to init db")});const It=()=>s(ne).inited,Rr=()=>s(ne).bookmarks,Qo=()=>s(ne).mapBookmarks,$o=async e=>{var n;const t={id:Ar(),order:(((n=s(ne).bookmarks.at(-1))==null?void 0:n.order)||s(ne).bookmarks.length)+1,createdTimestamp:Date.now(),...e,lastUpdatedTimestamp:Date.now()};s(ne).bookmarks.push(t),s(ne).mapBookmarks.set(t.id,t),C(ne,{...s(ne)}),await Ir(t)},ei=async e=>{const t={...e,lastUpdatedTimestamp:Date.now()};s(ne).bookmarks[t.order]=t,s(ne).mapBookmarks.set(t.id,t),C(ne,{...s(ne)}),await Ir(t)},ti=async e=>{const t=s(ne).mapBookmarks.get(e);s(ne).mapBookmarks.delete(e),s(ne).bookmarks[(t==null?void 0:t.order)||0]=void 0,C(ne,{...s(ne)}),await Ko(e)},ni=async()=>{C(ne,{inited:!1,bookmarks:[],mapBookmarks:new Map}),await Jo()},ri=async(e="bookmarks-export.json")=>{const t=JSON.stringify({bookmarks:s(ne).bookmarks}),n=new Blob([t],{type:"application/json"}),r=URL.createObjectURL(n),o=document.createElement("a");o.href=r,o.download=e,document.body.appendChild(o),o.click(),setTimeout(()=>{document.body.removeChild(o),URL.revokeObjectURL(r)},0)},Vn=async e=>{await Zo(e),await Br()};let Nr=N({});const Fr=()=>s(Nr),ai=e=>{C(Nr,e)};var oi=H('<input class="svelte-wip592">');function sn(e,t){Y(t,!0);let n=K(t,"value",15,"");var r=oi();oe(()=>ke(r,"placeholder",t.placeholder)),bn(r,n),L(e,r),W()}function ii(e,t){Y(t,!0);let n=K(t,"dialog",7);const r=3,o=50,a=5,i=.6,l=.3,c=.35,d=.95;let u=0,f=0,v=0,g=!1,h=!1,m=0,w=0,E=0;const p=()=>{u=0,f=0,g=!1,h=!1,m=0,w=0,E=0,v=0,k!==null&&(cancelAnimationFrame(k),k=null),_=null};let k=null,_=null;const S=A=>{if(!n()){console.warn("Touch start: No dialog element");return}if(t.sidebarState!=="opened"&&t.sidebarState!=="closed"){console.warn(`Touch start: Invalid sidebar state: ${t.sidebarState}`);return}u=A.touches[0].clientX,f=A.touches[0].clientY,v=performance.now(),g=!0,h=!1},b=A=>t.sidebarState==="closed"&&A>0||t.sidebarState==="closeSwiping"&&A>0||t.sidebarState==="opened"&&A<0||t.sidebarState==="openSwiping"&&A<0,x=A=>{if(n()){if(n().style.setProperty("--transition-timing","0s"),!n().open&&t.sidebarState==="closed")try{n().showModal(),n().offsetWidth}catch(z){console.error("Error opening dialog:",z);return}t.onSwipe();try{const z=window.getComputedStyle(n()),M=z.transform||z.webkitTransform||"";if(w=n().offsetWidth,t.sidebarState==="closeSwiping"||t.sidebarState==="closed"?m=-w:(t.sidebarState==="openSwiping"||t.sidebarState==="opened")&&(m=0),M&&M!=="none")try{m=new DOMMatrix(M).m41}catch{console.warn("Could not parse transform matrix, using default position")}h=!0}catch(z){console.error("Error during swipe initialization:",z),p()}}},y=()=>{if(!n())return;const z=Math.abs(m+E*w/100)/w;n().style.setProperty("--backdrop-bg",`rgba(0, 0, 0, ${.25*(1-z)})`)},O=()=>{if(k=null,!_||!g||!n()||En())return;const{x:A,y:z}=_;_=null;const M=A-u,F=z-f,X=Math.abs(M)>Math.abs(F),re=Math.abs(M)>r;if(!h)if(X&&re&&b(M))try{x(M)}catch(ge){console.error("Error initializing swipe:",ge),p();return}else return;if(!b(M))return;n().style.setProperty("--transition-timing","0s");let B=m+M*d;const Q=-w;B=Math.max(Q,Math.min(0,B)),n().style.transform=`translate3d(${B}px, 0, 0)`,E=(B-m)/w*100,y()},I=A=>{if(!g)return;const z=A.touches[0].clientX,M=A.touches[0].clientY;_={x:z,y:M},k===null&&(k=requestAnimationFrame(O)),h&&Math.abs(z-u)>Math.abs(M-f)&&A.preventDefault()},R=A=>{const z=Math.abs(A);if(z>=i)return a;if(z>=l){const M=(z-l)/(i-l);return o-M*(o-a)}else return o},P=(A,z)=>{if(Math.abs(A)>=i)return c*.5;const F=Math.abs(E)/100;return z?c*Math.max(.5,1-F):c*Math.max(.5,F)},j=A=>{var B,Q;if(k!==null&&(cancelAnimationFrame(k),k=null),_=null,!g||!n()){p();return}if(!h){p();return}let z=0;if((B=A==null?void 0:A.changedTouches)!=null&&B[0]){const $=A.changedTouches[0].clientX,Me=performance.now()-v;Me>0&&(z=($-u)/Me)}const M=R(z);let F=null;t.sidebarState==="closeSwiping"?F=Math.abs(E)>M||z>l?"open":"close":t.sidebarState==="openSwiping"&&(F=Math.abs(E)>M||z<-.3?"close":"open");const X=t.sidebarState==="closeSwiping"&&F==="open"||t.sidebarState==="openSwiping"&&F==="close",re=P(z,X);n().style.setProperty("--transition-timing",`${re}s`),n().offsetWidth,n().style.transform="",F==="open"?t.onOpen():F==="close"&&t.onClose(),(Q=n())==null||Q.style.removeProperty("--backdrop-bg"),p()};xe(()=>(document.addEventListener("touchstart",S,{passive:!0}),document.addEventListener("touchmove",I,{passive:!1}),document.addEventListener("touchend",j,{passive:!0}),document.addEventListener("touchcancel",j,{passive:!0}),()=>{document.removeEventListener("touchstart",S),document.removeEventListener("touchmove",I),document.removeEventListener("touchend",j),document.removeEventListener("touchcancel",j),k!==null&&cancelAnimationFrame(k)})),W()}var si=H('<dialog><div class="dialogInner svelte-1in1s0g"><!></div></dialog> <!> <!>',1);function li(e,t){Y(t,!0);let n=350,r=N(null),o=N(null),a=ae(Tr);const i=()=>{t.blocked||qe({type:"close"})},l=()=>{t.blocked||qe({type:"open"})},c=()=>{qe({type:"opened"})},d=()=>{qe({type:"closed"})},u=()=>{qe({type:"swipe"})},f=b=>{b.preventDefault(),i()};xe(()=>{var b,x;return(b=s(r))==null||b.addEventListener("close",d),(x=s(r))==null||x.addEventListener("cancel",f),()=>{var y,O;(y=s(r))==null||y.removeEventListener("close",d),(O=s(r))==null||O.removeEventListener("cancel",f)}});const v=()=>{var b,x,y;(b=s(r))==null||b.style.removeProperty("--transition-timing"),(x=s(r))==null||x.style.removeProperty("transform"),(y=s(r))==null||y.style.removeProperty("--backdrop-bg")};ve(()=>{var b,x,y;if(s(a),console.log(s(a).type),!!s(r))switch(s(a).type){case"closeSwiping":{const O=setTimeout(()=>{i()},3e3);return()=>{clearTimeout(O)}}case"openSwiping":{const O=setTimeout(()=>{l()},3e3);return()=>{clearTimeout(O)}}case"opening":{s(r).open||s(r).showModal(),s(r).getBoundingClientRect();const O=setTimeout(()=>{v()},n+1),I=()=>{clearTimeout(O),v()};return(b=s(r))==null||b.addEventListener("transitionend",I,{once:!0}),c(),()=>{var R;(R=s(r))==null||R.removeEventListener("transitionend",I)}}case"closing":{const O=setTimeout(()=>{s(a).type==="closing"&&d()},n+1),I=()=>{clearTimeout(O),d()};return(x=s(r))==null||x.addEventListener("transitionend",I,{once:!0}),()=>{var R;(R=s(r))==null||R.removeEventListener("transitionend",I)}}case"closed":(y=s(r))==null||y.close(),v();break;case"opened":v();break}});var g=si(),h=q(g),m=T(h),w=T(m);{var E=b=>{var x=me(),y=q(x);je(y,()=>t.children),L(b,x)};V(w,b=>{s(a).type!=="closed"&&b(E)})}we(m,b=>C(o,b),()=>s(o)),we(h,b=>C(r,b),()=>s(r));var p=D(h,2);{var k=b=>{Pr(b,{get dialog(){return s(r)},get dialogInner(){return s(o)},onClose:i})};V(p,b=>{s(a).type==="opened"&&!t.blocked&&b(k)})}var _=D(p,2);{var S=b=>{ii(b,{onClose:i,onOpen:l,onSwipe:u,get sidebarState(){return s(a).type},get dialog(){return s(r)}})};V(_,b=>{(s(a).type==="closed"||s(a).type==="opened"||s(a).type==="openSwiping"||s(a).type==="closeSwiping")&&!t.blocked&&b(S)})}oe(()=>Z(h,1,ee([{open:s(a).type==="opened",hidden:t.blocked,isAnimationOn:ce.working&&(!ce.isSwiping||!t.blocked)}]),"svelte-1in1s0g")),L(e,g),W()}var ci=H("<button> </button>");function We(e,t){var n=ci();n.__click=function(...o){var a;(a=t.onClick)==null||a.apply(this,o)};var r=T(n);oe(()=>{ke(n,"type",t.type),Z(n,1,ee([{selectedTag:t.style==="selected"}]),"svelte-ep3nju"),st(r,t.title)}),L(e,n)}ye(["click"]);const ui=e=>{e.preventDefault(),lt("settings")};var di=H("<div></div>"),fi=H('<div class="sidebarFixed svelte-nyix1t"><div class="nav svelte-nyix1t"><!> <a class="link svelte-nyix1t"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Settings</span></a></div> <div class="searchWrapper svelte-nyix1t"><!></div> <!></div> <div class="tags svelte-nyix1t"></div>',1),vi=H("<div></div>"),hi=H('<div class="sidebar svelte-nyix1t"><div class="sidebarFixed svelte-nyix1t"><div class="searchWrapper svelte-nyix1t"><!></div> <!></div> <div class="tags svelte-nyix1t"></div></div>');function gi(e,t){Y(t,!0);let n=N(""),r=ae(()=>{var h;return((h=new URLSearchParams(U.search).get("selectedTags"))==null?void 0:h.split(","))||[]});const o=()=>{const h=Ue();h.includes("settings")||h.push("settings");const m=new URLSearchParams(U.search);return m.set("stackPages",h.join(",")),`${U.pathname}?${m}`},a=h=>{const m=new URLSearchParams(U.search);m.set("selectedTags",[...s(r),h].join(",")),rn(`${U.pathname}${m.size>0?`?${m.toString()}`:""}`),C(n,"")},i=h=>{const m=new URLSearchParams(U.search),w=s(r).filter(E=>E!==h);w.length===0?m.delete("selectedTags"):m.set("selectedTags",w.join(",")),rn(`${U.pathname}${m.size>0?`?${m.toString()}`:""}`)};let l=ae(()=>It()?Object.values(Fr()).filter(h=>!s(r).some(m=>h.name===m)):[]),c=ae(o),d=ae(()=>Ue().length>0);var u=me(),f=q(u);{var v=h=>{li(h,{get blocked(){return s(d)},children:(m,w)=>{var E=fi(),p=q(E),k=T(p),_=T(k);Cr(_,{});var S=D(_,2);S.__click=[ui];var b=T(S);Pe(b,()=>({"--size":"20px"})),Se(b.lastChild,{name:"settings"});var x=D(k,2),y=T(x);sn(y,{placeholder:"Search tag",get value(){return s(n)},set value(P){C(n,P,!0)}});var O=D(x,2);{var I=P=>{var j=di();Z(j,1,ee(["tags","selectedTags"]),"svelte-nyix1t"),ze(j,20,()=>s(r),A=>A,(A,z)=>{We(A,{get title(){return z},onClick:()=>i(z),style:"selected"})}),L(P,j)};V(O,P=>{s(r).length>0&&P(I)})}var R=D(p,2);ze(R,21,()=>s(l),P=>P.name,(P,j)=>{var A=me(),z=q(A);{var M=F=>{We(F,{get title(){return s(j).name},onClick:()=>a(s(j).name)})};V(z,F=>{(s(n)===""||s(j).name.toLowerCase().indexOf(s(n).toLowerCase())!==-1)&&F(M)})}L(P,A)}),oe(()=>ke(S,"href",s(c))),L(m,E)},$$slots:{default:!0}})},g=h=>{var m=hi(),w=T(m),E=T(w),p=T(E);sn(p,{placeholder:"Search tag",get value(){return s(n)},set value(b){C(n,b,!0)}});var k=D(E,2);{var _=b=>{var x=vi();Z(x,1,ee(["tags","selectedTags"]),"svelte-nyix1t"),ze(x,20,()=>s(r),y=>y,(y,O)=>{We(y,{get title(){return O},onClick:()=>i(O),style:"selected"})}),L(b,x)};V(k,b=>{s(r).length>0&&b(_)})}var S=D(w,2);ze(S,21,()=>s(l),b=>b.name,(b,x)=>{var y=me(),O=q(y);{var I=R=>{We(R,{get title(){return s(x).name},onClick:()=>a(s(x).name)})};V(O,R=>{(s(n)===""||s(x).name.toLowerCase().indexOf(s(n).toLowerCase())!==-1)&&R(I)})}L(b,y)}),L(h,m)};V(f,h=>{Sn()?h(v):h(g,!1)})}L(e,u),W()}ye(["click"]);var pi=H('<div class="input-container svelte-hz572l"><input> <div class="error-message svelte-hz572l"><!></div></div>');function Jt(e,t){Y(t,!0);let n=K(t,"value",15,""),r=K(t,"error",3,"");var o=pi(),a=T(o);a.__input=function(...u){var f;(f=t.onInput)==null||f.apply(this,u)};let i;var l=D(a,2),c=T(l);{var d=u=>{var f=le();oe(()=>st(f,r())),L(u,f)};V(c,u=>{r()&&u(d)})}oe(u=>{ke(a,"placeholder",t.placeholder),i=Z(a,1,"svelte-hz572l",null,i,u)},[()=>({error:!!r()})]),Ye("blur",a,function(...u){var f;(f=t.onBlur)==null||f.apply(this,u)}),Ye("focus",a,function(...u){var f;(f=t.onFocus)==null||f.apply(this,u)}),bn(a,n),L(e,o),W()}ye(["input"]);var _i=H("<div></div>"),mi=H('<form class="svelte-28zq6m"><!> <!> <textarea placeholder="notes" class="svelte-28zq6m"></textarea> <div class="boxtags"><div class="sidebarFixed"><!></div> <div class="tags svelte-28zq6m"><!> <!></div> <div class="searchWrapper svelte-28zq6m"><!></div></div> <button class="buttonSubmit svelte-28zq6m" type="submit"> </button></form>');function zr(e,t){Y(t,!0);let n=K(t,"initialTitle",3,""),r=K(t,"initialUrl",3,""),o=K(t,"initialDescription",3,""),a=K(t,"initialTags",19,()=>[]),i=K(t,"mode",3,"add"),l=N(""),c=N(ie(n())),d=N(ie(r())),u=N(ie(o())),f=N(ie(a().filter(B=>B!=="inbox")));const v=B=>{s(f).includes(B)||C(f,[...s(f),B],!0)},g=B=>{const Q=s(f).filter($=>$!==B);Q.length===0?C(f,[],!0):C(f,Q,!0)};let h=ae(()=>It()?[...Rr().reduce((B,Q)=>(Q==null||Q.tags.forEach($=>{B.has($)||B.add($)}),B),new Set)]:[]),m=ae(()=>It()?s(h).filter(B=>!s(f).some(Q=>B===Q)&&B!=="inbox"):[]),w=ae(()=>s(m).find(B=>B.toLowerCase()===s(l).toLowerCase())||s(f).includes(s(l))),E=ae(()=>s(m).filter(B=>s(l)===""?!0:B.toLowerCase().indexOf(s(l).toLowerCase())!==-1).slice(0,s(w)||s(l)===""?3:2));const p=B=>{B.preventDefault(),t.onSubmit({title:s(c).trim().slice(0,256)||"unkwown",url:s(d).trim().slice(0,2048),description:s(u).trim().slice(0,2048),tags:s(f).length>0?s(f):["inbox"]})};var k=mi(),_=T(k);Jt(_,{placeholder:"url",get value(){return s(d)},set value(B){C(d,B,!0)}});var S=D(_,2);Jt(S,{placeholder:"title",get value(){return s(c)},set value(B){C(c,B,!0)}});var b=D(S,2),x=D(b,2),y=T(x),O=T(y);{var I=B=>{var Q=_i();Z(Q,1,ee(["tags","selectedTags"]),"svelte-28zq6m"),ze(Q,20,()=>s(f),$=>$,($,ge)=>{We($,{get title(){return ge},onClick:()=>g(ge),type:"button",style:"selected"})}),L(B,Q)};V(O,B=>{s(f).length>0&&B(I)})}var R=D(y,2),P=T(R);{var j=B=>{var Q=me(),$=q(Q);ze($,16,()=>s(E),ge=>ge,(ge,Me)=>{We(ge,{get title(){return Me},onClick:()=>v(Me)})}),L(B,Q)};V(P,B=>{s(l)!==""&&B(j)})}var A=D(P,2);{var z=B=>{We(B,{get title(){return s(l)},onClick:()=>{v(s(l)),C(l,"")}})};V(A,B=>{!s(w)&&s(l)!==""&&B(z)})}var M=D(R,2),F=T(M);Jt(F,{placeholder:"search tag",get value(){return s(l)},set value(B){C(l,B,!0)}});var X=D(x,2),re=T(X);oe(()=>st(re,i()==="add"?"add":"edit")),Ye("submit",k,p),bn(b,()=>s(u),B=>C(u,B)),L(e,k),W()}function wi(e,t){Y(t,!0);let n=N(!0);const r=()=>{t.onClose()},o=()=>{C(n,!1)},a=({title:i,url:l,description:c,tags:d})=>{ei({...t.bookmark,title:i,url:l,description:c,tags:d.map(u=>u.trim())}),o()};Or(e,{get shownDialog(){return s(n)},onClose:r,children:(i,l)=>{zr(i,{get initialTitle(){return t.bookmark.title},get initialUrl(){return t.bookmark.url},get initialDescription(){return t.bookmark.description},get initialTags(){return t.bookmark.tags},onSubmit:a,mode:"edit"})},$$slots:{default:!0}}),W()}const yi=(e,t,n)=>{const r=Fr();t.bookmark.tags.forEach(o=>{if(s(n).includes(o)&&r[o].connections===1){const a=new URLSearchParams(U.search),i=s(n).filter(l=>l!==o);i.length===0?a.delete("selectedTags"):a.set("selectedTags",i.join(",")),yo(`${U.pathname}${a.size>0?`?${a.toString()}`:""}`)}}),ti(t.bookmark.id)},bi=(e,t)=>{C(t,!0)},ki=(e,t,n)=>{C(t,!1),C(n,!0)},Si=(e,t)=>{navigator.clipboard.writeText(t.bookmark.url),lo("Link copied to clipboard")};var Ei=H('<li class="bookmark svelte-w2wdui"><div class="bookmarkTitle svelte-w2wdui"><img class="bookmarkIcon" height="16" width="16" alt="icon"> <a class="bookmarkLink svelte-w2wdui" target="_blank" rel="noopener noreferrer"> </a></div> <div><button class="button svelte-w2wdui"><!> <!></button> <div><button class="menuButton svelte-w2wdui">Edit</button> <button class="menuButton svelte-w2wdui">Delete</button></div> <button><!> <!></button></div></li> <!>',1);function Ti(e,t){Y(t,!0);let n=ae(()=>{var P;return((P=new URLSearchParams(U.search).get("selectedTags"))==null?void 0:P.split(","))||[]}),r=N(!1),o=N(!1),a=N(null),i=N(null);const l=P=>{var j,A;P.target!==s(i)&&P.target!==s(a)&&!((j=s(a))!=null&&j.contains(P.target))&&!((A=s(i))!=null&&A.contains(P.target))&&C(r,!1)},c=()=>{C(o,!1)};ve(()=>(document.addEventListener("click",l),()=>{document.removeEventListener("click",l)}));const d=P=>{try{return`https://www.google.com/s2/favicons?domain=${new URL(P).host}&sz=32`}catch{return""}};var u=Ei(),f=q(u),v=T(f),g=T(v),h=D(g,2),m=T(h),w=D(v,2),E=T(w);E.__click=[Si,t];var p=T(E);Se(p,{name:"copy"});var k=D(p,2);rt(k,{children:(P,j)=>{var A=le("copy link");L(P,A)}});var _=D(E,2),S=T(_);S.__click=[ki,r,o];var b=D(S,2);b.__click=[yi,t,n],we(_,P=>C(i,P),()=>s(i));var x=D(_,2);x.__click=[bi,r],Z(x,1,ee(["button","buttonMenu"]),"svelte-w2wdui");var y=T(x);Se(y,{name:"menu"});var O=D(y,2);rt(O,{children:(P,j)=>{var A=le("show menu");L(P,A)}}),we(x,P=>C(a,P),()=>s(a));var I=D(f,2);{var R=P=>{wi(P,{get bookmark(){return t.bookmark},onClose:c})};V(I,P=>{s(o)&&P(R)})}oe(P=>{ke(g,"src",P),ke(h,"href",t.bookmark.url),st(m,t.bookmark.title),Z(w,1,ee(["bookmarkMenuWrapper",{bookmarkMenuWrapperActive:s(r)}]),"svelte-w2wdui"),Z(_,1,ee(["bookmarkMenu",{bookmarkShownMenu:s(r)}]),"svelte-w2wdui")},[()=>d(t.bookmark.url)]),L(e,u),W()}ye(["click"]);const dt=ie({ref:null});var Ci=H('<div class="emptyMessage svelte-6cnb4o">No bookmarks found</div>'),xi=H('<div class="searchWrapper svelte-6cnb4o"><!></div> <div class="feed svelte-6cnb4o"><ul class="svelte-6cnb4o"><!> <!></ul></div>',1);function Li(e,t){Y(t,!0);let n=N(null),r=44,o=N(0),a=N(0),i=N(ie([])),l=N(""),c=ae(()=>dt.ref),d=null;const u=ae(mo);ve(()=>{var y;s(l),s(u),(y=s(c))==null||y.scrollTo(0,0)});const f=()=>{d&&cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var O;const y=((O=s(c))==null?void 0:O.scrollTop)||0;C(a,Math.floor(y/r)*r)})},v=()=>{var y;f(),s(n)&&C(o,window.innerHeight-((y=s(n))==null?void 0:y.getBoundingClientRect().top))};xe(()=>{v(),f()}),ve(()=>{var y;return(y=s(c))==null||y.addEventListener("scroll",f),window.addEventListener("resize",v),()=>{var O;(O=s(c))==null||O.removeEventListener("scroll",f),window.removeEventListener("resize",v)}}),ve(()=>{const y=Rr(),O=[],I={};for(let R=y.length-1;R>=0;R--){const P=y[R];if(P&&!(s(u).length&&s(u).some(j=>!P.tags.includes(j)))&&!(s(l)&&!(P.title.toLowerCase().includes(s(l).toLowerCase())||P.url.toLowerCase().includes(s(l).toLowerCase())))){if(P.tags)for(const j of P.tags)I[j]?I[j].connections++:I[j]={name:j,connections:1};O.push(P)}}ai(I),C(i,O,!0)});const g=ae(()=>s(i).length*r);let m=ae(()=>{const y=Math.ceil(s(o)/r),O=Math.floor(s(a)/r);return s(i).slice(O,O+y)});var w=xi(),E=q(w),p=T(E);sn(p,{placeholder:"Search",get value(){return s(l)},set value(y){C(l,y,!0)}});var k=D(E,2),_=T(k),S=T(_);ze(S,17,()=>s(m),y=>y.id,(y,O)=>{Ti(y,{get bookmark(){return s(O)}})});var b=D(S,2);{var x=y=>{var O=Ci();L(y,O)};V(b,y=>{s(m).length===0&&It()&&y(x)})}we(_,y=>C(n,y),()=>s(n)),oe(y=>{Mt(k,`height: ${y??""}px`),Mt(_,`height: ${s(o)??""}px; transform: translateY(${s(a)??""}px)`)},[()=>Math.max(s(g),30)]),L(e,w),W()}var Di=H('<!> <div class="content svelte-cu0ar8"><!></div>',1);function Pi(e){var t=Di(),n=q(t);gi(n,{});var r=D(n,2),o=T(r);Li(o,{}),L(e,t)}var Ve=(e=>(e.Light="light",e.System="system",e.Dark="dark",e))(Ve||{});let Hr=N(ie(localStorage.getItem("colorScheme")||"system"));const Oi=e=>{localStorage.setItem("colorScheme",e),e==="system"?window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.dataset.colorScheme="dark":document.documentElement.dataset.colorScheme="light":document.documentElement.dataset.colorScheme=e,C(Hr,e,!0)},Ai=()=>s(Hr);var Mi=H('<div class="wrapper svelte-1ws2gu"><fieldset class="switcher svelte-1ws2gu"><legend class="vh svelte-1ws2gu">Color Scheme</legend> <input id="light" type="radio" aria-label="Light"> <label for="light" title="Light" aria-label="Light"></label> <input id="system" type="radio" aria-label="System"> <label for="system" title="System" aria-label="System"></label> <input id="dark" type="radio" aria-label="Dark"> <label for="dark" title="Dark" aria-label="Dark"></label> <div class="wrapSwitcherStatus svelte-1ws2gu"><div class="switcherStatus svelte-1ws2gu"></div></div></fieldset></div>');function Ii(e,t){Y(t,!0);const n=ae(Ai),r=g=>{const h=g.target.value;Oi(h)},o="color-scheme-switcher";var a=Mi(),i=T(a),l=D(T(i),2);Z(l,1,ee(["vh","input"]),"svelte-1ws2gu"),ke(l,"name",o),l.__change=r;var c=D(l,2);Z(c,1,ee(["switcherButton","light"]),"svelte-1ws2gu");var d=D(c,2);Z(d,1,ee(["vh","input"]),"svelte-1ws2gu"),ke(d,"name",o),d.__change=r;var u=D(d,2);Z(u,1,ee(["switcherButton","system"]),"svelte-1ws2gu");var f=D(u,2);Z(f,1,ee(["vh","input"]),"svelte-1ws2gu"),ke(f,"name",o),f.__change=r;var v=D(f,2);return Z(v,1,ee(["switcherButton","dark"]),"svelte-1ws2gu"),oe(()=>{Yt(l,Ve.Light),Wt(l,s(n)===Ve.Light),Yt(d,Ve.System),Wt(d,s(n)===Ve.System),Yt(f,Ve.Dark),Wt(f,s(n)===Ve.Dark)}),L(e,a),W({handleChange:r})}ye(["change"]);const Bi=()=>{lt("importBookmarks")},Ri=()=>{lt("exportBookmarks")},Ni=()=>{lt("clearStore")};var Fi=H('<div class="version svelte-3wf2id"><span> </span></div>'),zi=H('<div class="svelte-3wf2id"><!> <ul class="svelte-3wf2id"><li class="svelte-3wf2id"><button class="button svelte-3wf2id"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-3wf2id">import bookmarks</span></button></li> <li class="svelte-3wf2id"><button class="button svelte-3wf2id"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-3wf2id">export bookmarks</span></button></li> <li class="svelte-3wf2id"><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-3wf2id">clear store</span></button></li></ul> <!></div>');function Hi(e,t){Y(t,!0);let n=N("");xe(()=>{const E=new AbortController;return fetch("/build-metadata.json",{signal:E.signal}).then(p=>p.json()).then(p=>{C(n,`${p.buildHash}`)}),()=>{E.abort()}});var r=zi(),o=T(r);Ii(o,{});var a=D(o,2),i=T(a),l=T(i);l.__click=[Bi];var c=T(l);Pe(c,()=>({"--size":"20px"})),Se(c.lastChild,{name:"import"});var d=D(i,2),u=T(d);u.__click=[Ri];var f=T(u);Pe(f,()=>({"--size":"20px"})),Se(f.lastChild,{name:"export"});var v=D(d,2),g=T(v);g.__click=[Ni],Z(g,1,ee(["button","clearButton"]),"svelte-3wf2id");var h=T(g);Pe(h,()=>({"--size":"20px"})),Se(h.lastChild,{name:"trash"});var m=D(a,2);{var w=E=>{var p=Fi(),k=T(p),_=T(k);oe(()=>st(_,`version: 0.0.1 1745672971901 hash: ${s(n)??""}`)),L(E,p)};V(m,E=>{s(n)&&E(w)})}L(e,r),W()}ye(["click"]);function Ui(e,t){Y(t,!1);const n=()=>{yt()},r=({title:o,url:a,description:i,tags:l})=>{$o({title:o,url:a,description:i,tags:l.map(c=>c.trim())}),n()};kn(),zr(e,{onSubmit:r}),W()}var ji=H("<button><!></button>");function De(e,t){let n=K(t,"type",3,"standard");var r=ji();r.__click=function(...a){var i;(i=t.onClick)==null||i.apply(this,a)};var o=T(r);je(o,()=>t.children),oe(()=>Z(r,1,ee(["button",{dangerous:n()==="dangerous"}]),"svelte-1e0i457")),L(e,r)}ye(["click"]);var Vi=H('<div class="loader svelte-1ygr46m"></div>');function Tn(e){var t=Vi();L(e,t)}const qn=async(e,t)=>{const n=e.target;!n.files||n.files.length===0||await t(n.files[0])};var qi=H('<div class="mobileContainer svelte-iu5kqw"><!></div> <input type="file" accept=".json, .html" style="display: none;">',1),Yi=H('<div role="button" tabindex="0"><div class="dropzone-content svelte-iu5kqw"><p class="svelte-iu5kqw">Drag and drop your JSON file here</p> <p class="svelte-iu5kqw">or</p> <!></div> <input type="file" accept=".json, .html" style="display: none;"></div>'),Wi=H('<p class="message svelte-iu5kqw">Select a file to import your bookmarks</p> <!>',1),Xi=H('<p class="message svelte-iu5kqw">Importing bookmarks...</p> <!>',1),Ki=H('<p class="message success svelte-iu5kqw">Bookmarks imported successfully!</p> <div class="buttonContainer svelte-iu5kqw"><!></div>',1),Gi=H('<p class="message error svelte-iu5kqw">Something went wrong</p> <div class="buttonContainer svelte-iu5kqw"><!></div>',1),Ji=H('<div class="content svelte-iu5kqw"><!></div>');function Zi(e,t){Y(t,!0);let n=N("idle"),r=N(null),o=N(!1),a=N(null);const i=()=>{yt()},l=async p=>{const k=await p.text(),_=JSON.parse(k),S=[];if(!_.bookmarks)throw new Error("Invalid import file format");for(const b of Object.values(_.bookmarks))b&&S.push(b);await Vn(S)},c=async p=>{C(n,"loading");try{if(p.name.endsWith(".json"))await l(p);else if(p.name.endsWith(".html"))await Vn(await Vo(p));else throw new Error("Unsupported file format. Please upload a JSON or HTML file.");C(n,"success")}catch{C(n,"error")}},d=()=>{var p;(p=s(r))==null||p.click()},u=p=>{p.preventDefault(),p.stopPropagation(),C(o,!0)},f=p=>{p.preventDefault(),p.stopPropagation(),C(o,!1)},v=p=>{p.preventDefault(),p.stopPropagation(),C(o,!0)},g=async p=>{var _;if(p.preventDefault(),p.stopPropagation(),C(o,!1),!((_=p.dataTransfer)!=null&&_.files)||p.dataTransfer.files.length===0)return;const k=p.dataTransfer.files[0];if(k.type!=="application/json"&&k.type!=="text/html"){C(n,"error");return}await c(k)};var h=Ji(),m=T(h);{var w=p=>{var k=Wi(),_=D(q(k),2);{var S=x=>{var y=qi(),O=q(y),I=T(O);De(I,{onClick:d,children:(P,j)=>{var A=le("Select File");L(P,A)},$$slots:{default:!0}});var R=D(O,2);R.__change=[qn,c],we(R,P=>C(r,P),()=>s(r)),L(x,y)},b=x=>{var y=Yi(),O=T(y),I=D(T(O),4);De(I,{onClick:d,children:(P,j)=>{var A=le("Select File");L(P,A)},$$slots:{default:!0}});var R=D(O,2);R.__change=[qn,c],we(R,P=>C(r,P),()=>s(r)),we(y,P=>C(a,P),()=>s(a)),oe(()=>Z(y,1,ee(["dropzone",{active:s(o)}]),"svelte-iu5kqw")),Ye("dragenter",y,u),Ye("dragover",y,v),Ye("dragleave",y,f),Ye("drop",y,g),L(x,y)};V(_,x=>{Sn()?x(S):x(b,!1)})}L(p,k)},E=(p,k)=>{{var _=b=>{var x=Xi(),y=D(q(x),2);Tn(y),L(b,x)},S=(b,x)=>{{var y=I=>{var R=Ki(),P=D(q(R),2),j=T(P);De(j,{onClick:i,children:(A,z)=>{var M=le("close");L(A,M)},$$slots:{default:!0}}),L(I,R)},O=(I,R)=>{{var P=j=>{var A=Gi(),z=D(q(A),2),M=T(z);De(M,{onClick:()=>{C(n,"idle")},children:(F,X)=>{var re=le("Try Again");L(F,re)},$$slots:{default:!0}}),L(j,A)};V(I,j=>{s(n)==="error"&&j(P)},R)}};V(b,I=>{s(n)==="success"?I(y):I(O,!1)},x)}};V(p,b=>{s(n)==="loading"?b(_):b(S,!1)},k)}};V(m,p=>{s(n)==="idle"?p(w):p(E,!1)})}L(e,h),W()}ye(["change"]);var Qi=(e,t)=>C(t,"json"),$i=(e,t)=>C(t,"html"),es=H('<p class="message svelte-1kp07xg">Export bookmarks</p> <div class="format-switcher svelte-1kp07xg"><div class="switcher-wrapper svelte-1kp07xg"><div class="background svelte-1kp07xg"></div> <div class="active-indicator svelte-1kp07xg"></div> <button>JSON</button> <button>HTML</button></div> <p class="format-description svelte-1kp07xg"><!></p></div> <div class="buttonContainer svelte-1kp07xg"><!> <!></div>',1),ts=H('<p class="message svelte-1kp07xg">Exporting data...</p> <div class="buttonContainer svelte-1kp07xg"><!></div>',1),ns=H('<p class="message svelte-1kp07xg">Bookmarks exported successfully!</p> <div class="buttonContainer svelte-1kp07xg"><!></div>',1),rs=H('<div class="content svelte-1kp07xg"><!></div>');function as(e,t){Y(t,!0);let n=N("idle"),r=N("json");const o=()=>{yt()},a=async()=>{C(n,"loading"),setTimeout(async()=>{if(s(r)==="json")await ri().finally(()=>{C(n,"success")});else try{const u=qo(Qo()),f=new Blob([u],{type:"text/html"}),v=URL.createObjectURL(f),g=document.createElement("a");g.href=v,g.download=`bookmarks_${new Date().toLocaleDateString().replace(/\//g,"_")}.html`,document.body.appendChild(g),g.click(),document.body.removeChild(g),URL.revokeObjectURL(v),C(n,"success")}catch(u){console.error("Error exporting as HTML:",u),C(n,"success")}},0)};var i=rs(),l=T(i);{var c=u=>{var f=es(),v=D(q(f),2),g=T(v),h=D(T(g),2),m=D(h,2);let w;m.__click=[Qi,r];var E=D(m,2);let p;E.__click=[$i,r];var k=D(g,2),_=T(k);{var S=I=>{var R=le("JSON format (for app import)");L(I,R)},b=I=>{var R=le("HTML format (Chrome compatible)");L(I,R)};V(_,I=>{s(r)==="json"?I(S):I(b,!1)})}var x=D(v,2),y=T(x);De(y,{onClick:a,children:(I,R)=>{var P=le("Export");L(I,P)},$$slots:{default:!0}});var O=D(y,2);De(O,{onClick:o,children:(I,R)=>{var P=le("Cancel");L(I,P)},$$slots:{default:!0}}),oe((I,R)=>{Mt(h,`transform: translateX(${s(r)==="json"?"0":"100%"})`),w=Z(m,1,"switcher-option svelte-1kp07xg",null,w,I),p=Z(E,1,"switcher-option svelte-1kp07xg",null,p,R)},[()=>({active:s(r)==="json"}),()=>({active:s(r)==="html"})]),L(u,f)},d=(u,f)=>{{var v=h=>{var m=ts(),w=D(q(m),2),E=T(w);Tn(E),L(h,m)},g=(h,m)=>{{var w=E=>{var p=ns(),k=D(q(p),2),_=T(k);De(_,{onClick:o,children:(S,b)=>{var x=le("Close");L(S,x)},$$slots:{default:!0}}),L(E,p)};V(h,E=>{s(n)==="success"&&E(w)},m)}};V(u,h=>{s(n)==="loading"?h(v):h(g,!1)},f)}};V(l,u=>{s(n)==="idle"?u(c):u(d,!1)})}L(e,i),W()}ye(["click"]);var os=H('<p class="message svelte-w4337z">Are you sure you want to clear the store?</p> <div class="buttonContainer svelte-w4337z"><!> <!></div>',1),is=H('<p class="message svelte-w4337z">clearing store...</p> <div class="buttonContainer svelte-w4337z"><!></div>',1),ss=H('<p class="message svelte-w4337z">store cleared</p> <div class="buttonContainer svelte-w4337z"><!></div>',1),ls=H('<div class="content svelte-w4337z"><!></div>');function cs(e,t){Y(t,!0);let n=N("idle");const r=()=>{yt()},o=()=>{C(n,"loading"),ni().finally(()=>{setTimeout(()=>{C(n,"success")},1e3)})};var a=ls(),i=T(a);{var l=d=>{var u=os(),f=D(q(u),2),v=T(f);De(v,{onClick:r,children:(h,m)=>{var w=le("no");L(h,w)},$$slots:{default:!0}});var g=D(v,2);De(g,{onClick:o,type:"dangerous",children:(h,m)=>{var w=le("yes");L(h,w)},$$slots:{default:!0}}),L(d,u)},c=(d,u)=>{{var f=g=>{var h=is(),m=D(q(h),2),w=T(m);Tn(w),L(g,h)},v=(g,h)=>{{var m=w=>{var E=ss(),p=D(q(E),2),k=T(p);De(k,{onClick:r,children:(_,S)=>{var b=le("close");L(_,b)},$$slots:{default:!0}}),L(w,E)};V(g,w=>{s(n)==="success"&&w(m)},h)}};V(d,g=>{s(n)==="loading"?g(f):g(v,!1)},u)}};V(i,d=>{s(n)==="idle"?d(l):d(c,!1)})}L(e,a),W()}const us=(e,t=Xn)=>{var n=me(),r=q(n);{var o=i=>{Hi(i,{})},a=(i,l)=>{{var c=u=>{Ui(u,{})},d=(u,f)=>{{var v=h=>{Zi(h,{})},g=(h,m)=>{{var w=p=>{as(p,{})},E=(p,k)=>{{var _=S=>{cs(S,{})};V(p,S=>{t()==="clearStore"&&S(_)},k)}};V(h,p=>{t()==="exportBookmarks"?p(w):p(E,!1)},m)}};V(u,h=>{t()==="importBookmarks"?h(v):h(g,!1)},f)}};V(i,u=>{t()==="newBookmark"?u(c):u(d,!1)},l)}};V(r,i=>{t()==="settings"?i(o):i(a,!1)})}L(e,n)};var ds=H("<!> <!>",1);function fs(e,t){Y(t,!0);let n=ae(ko);var r=ds(),o=q(r);Pi(o);var a=D(o,2);ze(a,17,()=>s(n),Ka,(i,l,c)=>{const d=ae(()=>{var u;return c!==s(n).length-1&&!!((u=s(n)[c+1])!=null&&u.shown)});jo(i,{get shown(){return s(l).shown},get hidden(){return s(d)},children:(u,f)=>{us(u,()=>s(l).page)},$$slots:{default:!0}})}),L(e,r),W()}function vs(e,t){Y(t,!1),xe(()=>{Gt(),document.addEventListener("focusin",Gt),document.addEventListener("focusout",Gt),document.addEventListener("touchmove",function(n){En()&&n.preventDefault()},{passive:!1})}),kn(),W()}var hs=H('<!> <main><!> <div class="container svelte-1qxbcz0"><!></div> <!></main>',1);function gs(e,t){Y(t,!0),xe(async()=>{await new Promise(u=>setTimeout(u,100)),await Ra(),ce.working=!0});let n=ae(()=>Ue().length>0);var r=hs(),o=q(r);vs(o,{});var a=D(o,2),i=T(a);xo(i,{});var l=D(i,2),c=T(l);fs(c,{});var d=D(l,2);uo(d,{}),we(a,u=>dt.ref=u,()=>dt==null?void 0:dt.ref),oe(()=>{Mt(a,`--swiping-ratio: ${ce.swipingRatio}; --transition-timing-default: ${ce.duration}s;`),Z(a,1,ee(["main",{isAnimationOn:ce.working&&!ce.isSwiping,open:s(n)}]),"svelte-1qxbcz0")}),L(e,r),W()}Ya(gs,{target:document.getElementById("app")});
