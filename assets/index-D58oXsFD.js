(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();const mn=!1;var en=Array.isArray,xr=Array.prototype.indexOf,tn=Array.from,Cr=Object.defineProperty,Ze=Object.getOwnPropertyDescriptor,An=Object.getOwnPropertyDescriptors,Tr=Object.prototype,Lr=Array.prototype,nn=Object.getPrototypeOf,wn=Object.isExtensible;const In=()=>{};function Pr(e){return e()}function Et(e){for(var t=0;t<e.length;t++)e[t]()}const ye=2,Nn=4,At=8,rn=16,De=32,Qe=64,St=128,de=256,xt=512,ue=1024,Me=2048,et=4096,Te=8192,It=16384,Dr=32768,Nt=65536,Mr=1<<17,Br=1<<19,Rn=1<<20,Yt=1<<21,He=Symbol("$state"),Or=Symbol("legacy props"),Ar=Symbol("");function qn(e){return e===this.v}function Ir(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function an(e){return!Ir(e,this.v)}function Nr(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Rr(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function qr(e){throw new Error("https://svelte.dev/e/effect_orphan")}function jr(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Fr(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function Hr(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Ur(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function zr(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let tt=!1,Vr=!1;function Wr(){tt=!0}const sn=1,on=2,jn=4,$r=8,Zr=16,Yr=1,Xr=2,Kr=4,Gr=8,Jr=16,Qr=1,ea=2,oe=Symbol(),ta="http://www.w3.org/1999/xhtml";function Fn(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let U=null;function kn(e){U=e}function na(e){return Hn().get(e)}function ra(e,t){return Hn().set(e,t),t}function X(e,t=!1,n){var r=U={p:U,c:null,d:!1,e:null,m:!1,s:e,x:null,l:null};tt&&!t&&(U.l={s:null,u:null,r1:[],r2:ft(!1)}),ln(()=>{r.d=!0})}function K(e){const t=U;if(t!==null){const o=t.e;if(o!==null){var n=z,r=H;t.e=null;try{for(var s=0;s<o.length;s++){var a=o[s];Re(a.effect),Ee(a.reaction),cn(a.fn)}}finally{Re(n),Ee(r)}}U=t.p,t.m=!0}return{}}function pt(){return!tt||U!==null&&U.l===null}function Hn(e){return U===null&&Fn(),U.c??(U.c=new Map(aa(U)||void 0))}function aa(e){let t=e.p;for(;t!==null;){const n=t.c;if(n!==null)return n;t=t.p}return null}function G(e){if(typeof e!="object"||e===null||He in e)return e;const t=nn(e);if(t!==Tr&&t!==Lr)return e;var n=new Map,r=en(e),s=I(0),a=H,o=i=>{var c=H;Ee(a);var f=i();return Ee(c),f};return r&&n.set("length",I(e.length)),new Proxy(e,{defineProperty(i,c,f){(!("value"in f)||f.configurable===!1||f.enumerable===!1||f.writable===!1)&&Hr();var d=n.get(c);return d===void 0?(d=o(()=>I(f.value)),n.set(c,d)):E(d,o(()=>G(f.value))),!0},deleteProperty(i,c){var f=n.get(c);if(f===void 0)c in i&&n.set(c,o(()=>I(oe)));else{if(r&&typeof c=="string"){var d=n.get("length"),h=Number(c);Number.isInteger(h)&&h<d.v&&E(d,h)}E(f,oe),bn(s)}return!0},get(i,c,f){var u;if(c===He)return e;var d=n.get(c),h=c in i;if(d===void 0&&(!h||(u=Ze(i,c))!=null&&u.writable)&&(d=o(()=>I(G(h?i[c]:oe))),n.set(c,d)),d!==void 0){var v=l(d);return v===oe?void 0:v}return Reflect.get(i,c,f)},getOwnPropertyDescriptor(i,c){var f=Reflect.getOwnPropertyDescriptor(i,c);if(f&&"value"in f){var d=n.get(c);d&&(f.value=l(d))}else if(f===void 0){var h=n.get(c),v=h==null?void 0:h.v;if(h!==void 0&&v!==oe)return{enumerable:!0,configurable:!0,value:v,writable:!0}}return f},has(i,c){var v;if(c===He)return!0;var f=n.get(c),d=f!==void 0&&f.v!==oe||Reflect.has(i,c);if(f!==void 0||z!==null&&(!d||(v=Ze(i,c))!=null&&v.writable)){f===void 0&&(f=o(()=>I(d?G(i[c]):oe)),n.set(c,f));var h=l(f);if(h===oe)return!1}return d},set(i,c,f,d){var L;var h=n.get(c),v=c in i;if(r&&c==="length")for(var u=f;u<h.v;u+=1){var p=n.get(u+"");p!==void 0?E(p,oe):u in i&&(p=o(()=>I(oe)),n.set(u+"",p))}h===void 0?(!v||(L=Ze(i,c))!=null&&L.writable)&&(h=o(()=>I(void 0)),E(h,o(()=>G(f))),n.set(c,h)):(v=h.v!==oe,E(h,o(()=>G(f))));var w=Reflect.getOwnPropertyDescriptor(i,c);if(w!=null&&w.set&&w.set.call(d,f),!v){if(r&&typeof c=="string"){var y=n.get("length"),B=Number(c);Number.isInteger(B)&&B>=y.v&&E(y,B+1)}bn(s)}return!0},ownKeys(i){l(s);var c=Reflect.ownKeys(i).filter(h=>{var v=n.get(h);return v===void 0||v.v!==oe});for(var[f,d]of n)d.v!==oe&&!(f in i)&&c.push(f);return c},setPrototypeOf(){Ur()}})}function bn(e,t=1){E(e,e.v+t)}const ut=new Map;function ft(e,t){var n={f:0,v:e,reactions:null,equals:qn,rv:0,wv:0};return n}function I(e,t){const n=ft(e);return rr(n),n}function Un(e,t=!1){var r;const n=ft(e);return t||(n.equals=an),tt&&U!==null&&U.l!==null&&((r=U.l).s??(r.s=[])).push(n),n}function E(e,t,n=!1){H!==null&&!we&&pt()&&(H.f&(ye|rn))!==0&&!(se!=null&&se.includes(e))&&zr();let r=n?G(t):t;return Xt(e,r)}function Xt(e,t){if(!e.equals(t)){var n=e.v;_t?ut.set(e,t):ut.set(e,n),e.v=t,e.wv=sr(),zn(e,Me),pt()&&z!==null&&(z.f&ue)!==0&&(z.f&(De|Qe))===0&&(fe===null?_a([e]):fe.push(e))}return t}function zn(e,t){var n=e.reactions;if(n!==null)for(var r=pt(),s=n.length,a=0;a<s;a++){var o=n[a],i=o.f;(i&Me)===0&&(!r&&o===z||(Se(o,t),(i&(ue|de))!==0&&((i&ye)!==0?zn(o,et):Ut(o))))}}let sa=!1;var yn,Vn,Wn,$n;function oa(){if(yn===void 0){yn=window,Vn=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;Wn=Ze(t,"firstChild").get,$n=Ze(t,"nextSibling").get,wn(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),wn(n)&&(n.__t=void 0)}}function Rt(e=""){return document.createTextNode(e)}function Xe(e){return Wn.call(e)}function qt(e){return $n.call(e)}function S(e,t){return Xe(e)}function Q(e,t){{var n=Xe(e);return n instanceof Comment&&n.data===""?qt(n):n}}function D(e,t=1,n=!1){let r=e;for(;t--;)r=qt(r);return r}function la(e){e.textContent=""}function Ke(e){var t=ye|Me,n=H!==null&&(H.f&ye)!==0?H:null;return z===null||n!==null&&(n.f&de)!==0?t|=de:z.f|=Rn,{ctx:U,deps:null,effects:null,equals:qn,f:t,fn:e,reactions:null,rv:0,v:null,wv:0,parent:n??z}}function ae(e){const t=Ke(e);return rr(t),t}function Zn(e){const t=Ke(e);return t.equals=an,t}function Yn(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)Pe(t[n])}}function ia(e){for(var t=e.parent;t!==null;){if((t.f&ye)===0)return t;t=t.parent}return null}function ca(e){var t,n=z;Re(ia(e));try{Yn(e),t=lr(e)}finally{Re(n)}return t}function Xn(e){var t=ca(e),n=(Ie||(e.f&de)!==0)&&e.deps!==null?et:ue;Se(e,n),e.equals(t)||(e.v=t,e.wv=sr())}function Kn(e){z===null&&H===null&&qr(),H!==null&&(H.f&de)!==0&&z===null&&Rr(),_t&&Nr()}function ua(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function nt(e,t,n,r=!0){var s=z,a={ctx:U,deps:null,nodes_start:null,nodes_end:null,f:e|Me,first:null,fn:t,last:null,next:null,parent:s,prev:null,teardown:null,transitions:null,wv:0};if(n)try{vn(a),a.f|=Dr}catch(c){throw Pe(a),c}else t!==null&&Ut(a);var o=n&&a.deps===null&&a.first===null&&a.nodes_start===null&&a.teardown===null&&(a.f&(Rn|St))===0;if(!o&&r&&(s!==null&&ua(a,s),H!==null&&(H.f&ye)!==0)){var i=H;(i.effects??(i.effects=[])).push(a)}return a}function ln(e){const t=nt(At,null,!1);return Se(t,ue),t.teardown=e,t}function ce(e){Kn();var t=z!==null&&(z.f&De)!==0&&U!==null&&!U.m;if(t){var n=U;(n.e??(n.e=[])).push({fn:e,effect:z,reaction:H})}else{var r=cn(e);return r}}function fa(e){return Kn(),jt(e)}function va(e){const t=nt(Qe,e,!0);return(n={})=>new Promise(r=>{n.outro?Ct(t,()=>{Pe(t),r(void 0)}):(Pe(t),r(void 0))})}function cn(e){return nt(Nn,e,!1)}function jt(e){return nt(At,e,!0)}function J(e,t=[],n=Ke){const r=t.map(n);return Ft(()=>e(...r.map(l)))}function Ft(e,t=0){return nt(At|rn|t,e,!0)}function Ge(e,t=!0){return nt(At|De,e,!0,t)}function Gn(e){var t=e.teardown;if(t!==null){const n=_t,r=H;Sn(!0),Ee(null);try{t.call(null)}finally{Sn(n),Ee(r)}}}function Jn(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){var r=n.next;(n.f&Qe)!==0?n.parent=null:Pe(n,t),n=r}}function da(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&De)===0&&Pe(t),t=n}}function Pe(e,t=!0){var n=!1;if((t||(e.f&Br)!==0)&&e.nodes_start!==null){for(var r=e.nodes_start,s=e.nodes_end;r!==null;){var a=r===s?null:qt(r);r.remove(),r=a}n=!0}Jn(e,t&&!n),Mt(e,0),Se(e,It);var o=e.transitions;if(o!==null)for(const c of o)c.stop();Gn(e);var i=e.parent;i!==null&&i.first!==null&&Qn(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function Qn(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function Ct(e,t){var n=[];un(e,n,!0),er(n,()=>{Pe(e),t&&t()})}function er(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var s of e)s.out(r)}else t()}function un(e,t,n){if((e.f&Te)===0){if(e.f^=Te,e.transitions!==null)for(const o of e.transitions)(o.is_global||n)&&t.push(o);for(var r=e.first;r!==null;){var s=r.next,a=(r.f&Nt)!==0||(r.f&De)!==0;un(r,t,a?n:!1),r=s}}}function Tt(e){tr(e,!0)}function tr(e,t){if((e.f&Te)!==0){e.f^=Te,(e.f&ue)===0&&(e.f^=ue),gt(e)&&(Se(e,Me),Ut(e));for(var n=e.first;n!==null;){var r=n.next,s=(n.f&Nt)!==0||(n.f&De)!==0;tr(n,s?t:!1),n=r}if(e.transitions!==null)for(const a of e.transitions)(a.is_global||t)&&a.in()}}let vt=[],Kt=[];function nr(){var e=vt;vt=[],Et(e)}function ha(){var e=Kt;Kt=[],Et(e)}function fn(e){vt.length===0&&queueMicrotask(nr),vt.push(e)}function En(){vt.length>0&&nr(),Kt.length>0&&ha()}let yt=!1,Lt=!1,Pt=null,Ue=!1,_t=!1;function Sn(e){_t=e}let ct=[];let H=null,we=!1;function Ee(e){H=e}let z=null;function Re(e){z=e}let se=null;function pa(e){se=e}function rr(e){H!==null&&H.f&Yt&&(se===null?pa([e]):se.push(e))}let re=null,le=0,fe=null;function _a(e){fe=e}let ar=1,Dt=0,Ie=!1;function sr(){return++ar}function gt(e){var h;var t=e.f;if((t&Me)!==0)return!0;if((t&et)!==0){var n=e.deps,r=(t&de)!==0;if(n!==null){var s,a,o=(t&xt)!==0,i=r&&z!==null&&!Ie,c=n.length;if(o||i){var f=e,d=f.parent;for(s=0;s<c;s++)a=n[s],(o||!((h=a==null?void 0:a.reactions)!=null&&h.includes(f)))&&(a.reactions??(a.reactions=[])).push(f);o&&(f.f^=xt),i&&d!==null&&(d.f&de)===0&&(f.f^=de)}for(s=0;s<c;s++)if(a=n[s],gt(a)&&Xn(a),a.wv>e.wv)return!0}(!r||z!==null&&!Ie)&&Se(e,ue)}return!1}function ga(e,t){for(var n=t;n!==null;){if((n.f&St)!==0)try{n.fn(e);return}catch{n.f^=St}n=n.parent}throw yt=!1,e}function ma(e){return(e.f&It)===0&&(e.parent===null||(e.parent.f&St)===0)}function Ht(e,t,n,r){if(yt){if(n===null&&(yt=!1),ma(t))throw e;return}n!==null&&(yt=!0);{ga(e,t);return}}function or(e,t,n=!0){var r=e.reactions;if(r!==null)for(var s=0;s<r.length;s++){var a=r[s];se!=null&&se.includes(e)||((a.f&ye)!==0?or(a,t,!1):t===a&&(n?Se(a,Me):(a.f&ue)!==0&&Se(a,et),Ut(a)))}}function lr(e){var u;var t=re,n=le,r=fe,s=H,a=Ie,o=se,i=U,c=we,f=e.f;re=null,le=0,fe=null,Ie=(f&de)!==0&&(we||!Ue||H===null),H=(f&(De|Qe))===0?e:null,se=null,kn(e.ctx),we=!1,Dt++,e.f|=Yt;try{var d=(0,e.fn)(),h=e.deps;if(re!==null){var v;if(Mt(e,le),h!==null&&le>0)for(h.length=le+re.length,v=0;v<re.length;v++)h[le+v]=re[v];else e.deps=h=re;if(!Ie)for(v=le;v<h.length;v++)((u=h[v]).reactions??(u.reactions=[])).push(e)}else h!==null&&le<h.length&&(Mt(e,le),h.length=le);if(pt()&&fe!==null&&!we&&h!==null&&(e.f&(ye|et|Me))===0)for(v=0;v<fe.length;v++)or(fe[v],e);return s!==e&&(Dt++,fe!==null&&(r===null?r=fe:r.push(...fe))),d}finally{re=t,le=n,fe=r,H=s,Ie=a,se=o,kn(i),we=c,e.f^=Yt}}function wa(e,t){let n=t.reactions;if(n!==null){var r=xr.call(n,e);if(r!==-1){var s=n.length-1;s===0?n=t.reactions=null:(n[r]=n[s],n.pop())}}n===null&&(t.f&ye)!==0&&(re===null||!re.includes(t))&&(Se(t,et),(t.f&(de|xt))===0&&(t.f^=xt),Yn(t),Mt(t,0))}function Mt(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)wa(e,n[r])}function vn(e){var t=e.f;if((t&It)===0){Se(e,ue);var n=z,r=U,s=Ue;z=e,Ue=!0;try{(t&rn)!==0?da(e):Jn(e),Gn(e);var a=lr(e);e.teardown=typeof a=="function"?a:null,e.wv=ar;var o=e.deps,i;mn&&Vr&&e.f&Me}catch(c){Ht(c,e,n,r||e.ctx)}finally{Ue=s,z=n}}}function ka(){try{jr()}catch(e){if(Pt!==null)Ht(e,Pt,null);else throw e}}function ir(){var e=Ue;try{var t=0;for(Ue=!0;ct.length>0;){t++>1e3&&ka();var n=ct,r=n.length;ct=[];for(var s=0;s<r;s++){var a=ya(n[s]);ba(a)}ut.clear()}}finally{Lt=!1,Ue=e,Pt=null}}function ba(e){var t=e.length;if(t!==0)for(var n=0;n<t;n++){var r=e[n];if((r.f&(It|Te))===0)try{gt(r)&&(vn(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null?Qn(r):r.fn=null))}catch(s){Ht(s,r,null,r.ctx)}}}function Ut(e){Lt||(Lt=!0,queueMicrotask(ir));for(var t=Pt=e;t.parent!==null;){t=t.parent;var n=t.f;if((n&(Qe|De))!==0){if((n&ue)===0)return;t.f^=ue}}ct.push(t)}function ya(e){for(var t=[],n=e;n!==null;){var r=n.f,s=(r&(De|Qe))!==0,a=s&&(r&ue)!==0;if(!a&&(r&Te)===0){if((r&Nn)!==0)t.push(n);else if(s)n.f^=ue;else{var o=H;try{H=n,gt(n)&&vn(n)}catch(f){Ht(f,n,null,n.ctx)}finally{H=o}}var i=n.first;if(i!==null){n=i;continue}}var c=n.parent;for(n=n.next;n===null&&c!==null;)n=c.next,c=c.parent}return t}function Ea(e){var t;for(En();ct.length>0;)Lt=!0,ir(),En();return t}async function Sa(){await Promise.resolve(),Ea()}function l(e){var t=e.f,n=(t&ye)!==0;if(H!==null&&!we){if(!(se!=null&&se.includes(e))){var r=H.deps;e.rv<Dt&&(e.rv=Dt,re===null&&r!==null&&r[le]===e?le++:re===null?re=[e]:(!Ie||!re.includes(e))&&re.push(e))}}else if(n&&e.deps===null&&e.effects===null){var s=e,a=s.parent;a!==null&&(a.f&de)===0&&(s.f^=de)}return n&&(s=e,gt(s)&&Xn(s)),_t&&ut.has(e)?ut.get(e):e.v}function Je(e){var t=we;try{return we=!0,e()}finally{we=t}}const xa=-7169;function Se(e,t){e.f=e.f&xa|t}function Ca(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(He in e)Gt(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&He in n&&Gt(n)}}}function Gt(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{Gt(e[r],t)}catch{}const n=nn(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=An(n);for(let s in r){const a=r[s].get;if(a)try{a.call(e)}catch{}}}}}const Ta=["touchstart","touchmove"];function La(e){return Ta.includes(e)}let xn=!1;function Pa(){xn||(xn=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const n of e.target.elements)(t=n.__on_r)==null||t.call(n)})},{capture:!0}))}function cr(e){var t=H,n=z;Ee(null),Re(null);try{return e()}finally{Ee(t),Re(n)}}function Da(e,t,n,r=n){e.addEventListener(t,()=>cr(n));const s=e.__on_r;s?e.__on_r=()=>{s(),r(!0)}:e.__on_r=()=>r(!0),Pa()}const ur=new Set,Jt=new Set;function Ma(e,t,n,r={}){function s(a){if(r.capture||ot.call(t,a),!a.cancelBubble)return cr(()=>n==null?void 0:n.call(this,a))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?fn(()=>{t.addEventListener(e,s,r)}):t.addEventListener(e,s,r),s}function st(e,t,n,r,s){var a={capture:r,passive:s},o=Ma(e,t,n,a);(t===document.body||t===window||t===document)&&ln(()=>{t.removeEventListener(e,o,a)})}function je(e){for(var t=0;t<e.length;t++)ur.add(e[t]);for(var n of Jt)n(e)}function ot(e){var L;var t=this,n=t.ownerDocument,r=e.type,s=((L=e.composedPath)==null?void 0:L.call(e))||[],a=s[0]||e.target,o=0,i=e.__root;if(i){var c=s.indexOf(i);if(c!==-1&&(t===document||t===window)){e.__root=t;return}var f=s.indexOf(t);if(f===-1)return;c<=f&&(o=c)}if(a=s[o]||e.target,a!==t){Cr(e,"currentTarget",{configurable:!0,get(){return a||n}});var d=H,h=z;Ee(null),Re(null);try{for(var v,u=[];a!==null;){var p=a.assignedSlot||a.parentNode||a.host||null;try{var w=a["__"+r];if(w!=null&&(!a.disabled||e.target===a))if(en(w)){var[y,...B]=w;y.apply(a,[e,...B])}else w.call(a,e)}catch(_){v?u.push(_):v=_}if(e.cancelBubble||p===t||p===null)break;a=p}if(v){for(let _ of u)queueMicrotask(()=>{throw _});throw v}}finally{e.__root=t,delete e.currentTarget,Ee(d),Re(h)}}}function fr(e){var t=document.createElement("template");return t.innerHTML=e,t.content}function dt(e,t){var n=z;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function N(e,t){var n=(t&Qr)!==0,r=(t&ea)!==0,s,a=!e.startsWith("<!>");return()=>{s===void 0&&(s=fr(a?e:"<!>"+e),n||(s=Xe(s)));var o=r||Vn?document.importNode(s,!0):s.cloneNode(!0);if(n){var i=Xe(o),c=o.lastChild;dt(i,c)}else dt(o,o);return o}}function ge(e,t,n="svg"){var r=!e.startsWith("<!>"),s=`<${n}>${r?e:"<!>"+e}</${n}>`,a;return()=>{if(!a){var o=fr(s),i=Xe(o);a=Xe(i)}var c=a.cloneNode(!0);return dt(c,c),c}}function ke(e=""){{var t=Rt(e+"");return dt(t,t),t}}function Ne(){var e=document.createDocumentFragment(),t=document.createComment(""),n=Rt();return e.append(t,n),dt(t,n),e}function b(e,t){e!==null&&e.before(t)}function Fe(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function Ba(e,t){return Oa(e,t)}const We=new Map;function Oa(e,{target:t,anchor:n,props:r={},events:s,context:a,intro:o=!0}){oa();var i=new Set,c=h=>{for(var v=0;v<h.length;v++){var u=h[v];if(!i.has(u)){i.add(u);var p=La(u);t.addEventListener(u,ot,{passive:p});var w=We.get(u);w===void 0?(document.addEventListener(u,ot,{passive:p}),We.set(u,1)):We.set(u,w+1)}}};c(tn(ur)),Jt.add(c);var f=void 0,d=va(()=>{var h=n??t.appendChild(Rt());return Ge(()=>{if(a){X({});var v=U;v.c=a}s&&(r.$$events=s),f=e(h,r)||{},a&&K()}),()=>{var p;for(var v of i){t.removeEventListener(v,ot);var u=We.get(v);--u===0?(document.removeEventListener(v,ot),We.delete(v)):We.set(v,u)}Jt.delete(c),h!==n&&((p=h.parentNode)==null||p.removeChild(h))}});return Aa.set(f,d),f}let Aa=new WeakMap;function Z(e,t,[n,r]=[0,0]){var s=e,a=null,o=null,i=oe,c=n>0?Nt:0,f=!1;const d=(v,u=!0)=>{f=!0,h(u,v)},h=(v,u)=>{i!==(i=v)&&(i?(a?Tt(a):u&&(a=Ge(()=>u(s))),o&&Ct(o,()=>{o=null})):(o?Tt(o):u&&(o=Ge(()=>u(s,[n+1,r]))),a&&Ct(a,()=>{a=null})))};Ft(()=>{f=!1,t(d),f||h(null,null)},c)}function be(e,t){jt(()=>{var n=t();for(var r in n){var s=n[r];s?e.style.setProperty(r,s):e.style.removeProperty(r)}}),ln(()=>{e.remove()})}function Ia(e,t){return t}function Na(e,t,n,r){for(var s=[],a=t.length,o=0;o<a;o++)un(t[o].e,s,!0);var i=a>0&&s.length===0&&n!==null;if(i){var c=n.parentNode;la(c),c.append(n),r.clear(),Ae(e,t[0].prev,t[a-1].next)}er(s,()=>{for(var f=0;f<a;f++){var d=t[f];i||(r.delete(d.k),Ae(e,d.prev,d.next)),Pe(d.e,!i)}})}function $e(e,t,n,r,s,a=null){var o=e,i={flags:t,items:new Map,first:null},c=(t&jn)!==0;if(c){var f=e;o=f.appendChild(Rt())}var d=null,h=!1,v=Zn(()=>{var u=n();return en(u)?u:u==null?[]:tn(u)});Ft(()=>{var u=l(v),p=u.length;h&&p===0||(h=p===0,Ra(u,i,o,s,t,r,n),a!==null&&(p===0?d?Tt(d):d=Ge(()=>a(o)):d!==null&&Ct(d,()=>{d=null})),l(v))})}function Ra(e,t,n,r,s,a,o){var g,O,F,V;var i=(s&$r)!==0,c=(s&(sn|on))!==0,f=e.length,d=t.items,h=t.first,v=h,u,p=null,w,y=[],B=[],L,_,m,k;if(i)for(k=0;k<f;k+=1)L=e[k],_=a(L,k),m=d.get(_),m!==void 0&&((g=m.a)==null||g.measure(),(w??(w=new Set)).add(m));for(k=0;k<f;k+=1){if(L=e[k],_=a(L,k),m=d.get(_),m===void 0){var R=v?v.e.nodes_start:n;p=ja(R,t,p,p===null?t.first:p.next,L,_,k,r,s,o),d.set(_,p),y=[],B=[],v=p.next;continue}if(c&&qa(m,L,k,s),(m.e.f&Te)!==0&&(Tt(m.e),i&&((O=m.a)==null||O.unfix(),(w??(w=new Set)).delete(m))),m!==v){if(u!==void 0&&u.has(m)){if(y.length<B.length){var x=B[0],A;p=x.prev;var C=y[0],P=y[y.length-1];for(A=0;A<y.length;A+=1)Cn(y[A],x,n);for(A=0;A<B.length;A+=1)u.delete(B[A]);Ae(t,C.prev,P.next),Ae(t,p,C),Ae(t,P,x),v=x,p=P,k-=1,y=[],B=[]}else u.delete(m),Cn(m,v,n),Ae(t,m.prev,m.next),Ae(t,m,p===null?t.first:p.next),Ae(t,p,m),p=m;continue}for(y=[],B=[];v!==null&&v.k!==_;)(v.e.f&Te)===0&&(u??(u=new Set)).add(v),B.push(v),v=v.next;if(v===null)continue;m=v}y.push(m),p=m,v=m.next}if(v!==null||u!==void 0){for(var M=u===void 0?[]:tn(u);v!==null;)(v.e.f&Te)===0&&M.push(v),v=v.next;var T=M.length;if(T>0){var q=(s&jn)!==0&&f===0?n:null;if(i){for(k=0;k<T;k+=1)(F=M[k].a)==null||F.measure();for(k=0;k<T;k+=1)(V=M[k].a)==null||V.fix()}Na(t,M,q,d)}}i&&fn(()=>{var ee;if(w!==void 0)for(m of w)(ee=m.a)==null||ee.apply()}),z.first=t.first&&t.first.e,z.last=p&&p.e}function qa(e,t,n,r){(r&sn)!==0&&Xt(e.v,t),(r&on)!==0?Xt(e.i,n):e.i=n}function ja(e,t,n,r,s,a,o,i,c,f){var d=(c&sn)!==0,h=(c&Zr)===0,v=d?h?Un(s):ft(s):s,u=(c&on)===0?o:ft(o),p={i:u,v,k:a,a:null,e:null,prev:n,next:r};try{return p.e=Ge(()=>i(e,v,u,f),sa),p.e.prev=n&&n.e,p.e.next=r&&r.e,n===null?t.first=p:(n.next=p,n.e.next=p.e),r!==null&&(r.prev=p,r.e.prev=p.e),p}finally{}}function Cn(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,s=t?t.e.nodes_start:n,a=e.e.nodes_start;a!==r;){var o=qt(a);s.before(a),a=o}}function Ae(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function mt(e,t,...n){var r=e,s=In,a;Ft(()=>{s!==(s=t())&&(a&&(Pe(a),a=null),a=Ge(()=>s(r,...n)))},Nt)}function vr(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=vr(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Fa(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=vr(e))&&(r&&(r+=" "),r+=t);return r}function W(e){return typeof e=="object"?Fa(e):e??""}function Ha(e,t,n){var r=e==null?"":""+e;return t&&(r=r?r+" "+t:t),r===""?null:r}function Ua(e,t){return e==null?null:String(e)}function $(e,t,n,r,s,a){var o=e.__className;if(o!==n||o===void 0){var i=Ha(n,r);i==null?e.removeAttribute("class"):e.className=i,e.__className=n}return a}function Tn(e,t,n,r){var s=e.__style;if(s!==t){var a=Ua(t);a==null?e.removeAttribute("style"):e.style.cssText=a,e.__style=t}return r}const za=Symbol("is custom element"),Va=Symbol("is html");function zt(e,t){var n=dn(e);n.value===(n.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function Vt(e,t){var n=dn(e);n.checked!==(n.checked=t??void 0)&&(e.checked=t)}function Le(e,t,n,r){var s=dn(e);s[t]!==(s[t]=n)&&(t==="loading"&&(e[Ar]=n),n==null?e.removeAttribute(t):typeof n!="string"&&Wa(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function dn(e){return e.__attributes??(e.__attributes={[za]:e.nodeName.includes("-"),[Va]:e.namespaceURI===ta})}var Ln=new Map;function Wa(e){var t=Ln.get(e.nodeName);if(t)return t;Ln.set(e.nodeName,t=[]);for(var n,r=e,s=Element.prototype;s!==r;){n=An(r);for(var a in n)n[a].set&&t.push(a);r=nn(r)}return t}function lt(e,t,n=t){var r=pt();Da(e,"input",s=>{var a=s?e.defaultValue:e.value;if(a=Wt(e)?$t(a):a,n(a),r&&a!==(a=t())){var o=e.selectionStart,i=e.selectionEnd;e.value=a??"",i!==null&&(e.selectionStart=o,e.selectionEnd=Math.min(i,e.value.length))}}),Je(t)==null&&e.value&&n(Wt(e)?$t(e.value):e.value),jt(()=>{var s=t();Wt(e)&&s===$t(e.value)||e.type==="date"&&!s&&!e.value||s!==e.value&&(e.value=s??"")})}function Wt(e){var t=e.type;return t==="number"||t==="range"}function $t(e){return e===""?null:+e}function Pn(e,t){return e===t||(e==null?void 0:e[He])===t}function xe(e={},t,n,r){return cn(()=>{var s,a;return jt(()=>{s=a,a=[],Je(()=>{e!==n(...a)&&(t(e,...a),s&&Pn(n(...s),e)&&t(null,...s))})}),()=>{fn(()=>{a&&Pn(n(...a),e)&&t(null,...a)})}}),e}function hn(e=!1){const t=U,n=t.l.u;if(!n)return;let r=()=>Ca(t.s);if(e){let s=0,a={};const o=Ke(()=>{let i=!1;const c=t.s;for(const f in c)c[f]!==a[f]&&(a[f]=c[f],i=!0);return i&&s++,s});r=()=>l(o)}n.b.length&&fa(()=>{Dn(t,r),Et(n.b)}),ce(()=>{const s=Je(()=>n.m.map(Pr));return()=>{for(const a of s)typeof a=="function"&&a()}}),n.a.length&&ce(()=>{Dn(t,r),Et(n.a)})}function Dn(e,t){if(e.l.s)for(const n of e.l.s)l(n);t()}let kt=!1;function $a(e){var t=kt;try{return kt=!1,[e(),kt]}finally{kt=t}}function Mn(e){var t;return((t=e.ctx)==null?void 0:t.d)??!1}function ve(e,t,n,r){var R;var s=(n&Yr)!==0,a=!tt||(n&Xr)!==0,o=(n&Gr)!==0,i=(n&Jr)!==0,c=!1,f;o?[f,c]=$a(()=>e[t]):f=e[t];var d=He in e||Or in e,h=o&&(((R=Ze(e,t))==null?void 0:R.set)??(d&&t in e&&(x=>e[t]=x)))||void 0,v=r,u=!0,p=!1,w=()=>(p=!0,u&&(u=!1,i?v=Je(r):v=r),v);f===void 0&&r!==void 0&&(h&&a&&Fr(),f=w(),h&&h(f));var y;if(a)y=()=>{var x=e[t];return x===void 0?w():(u=!0,p=!1,x)};else{var B=(s?Ke:Zn)(()=>e[t]);B.f|=Mr,y=()=>{var x=l(B);return x!==void 0&&(v=void 0),x===void 0?v:x}}if((n&Kr)===0)return y;if(h){var L=e.$$legacy;return function(x,A){return arguments.length>0?((!a||!A||L||c)&&h(A?y():x),x):y()}}var _=!1,m=Un(f),k=Ke(()=>{var x=y(),A=l(m);return _?(_=!1,A):m.v=x});return o&&l(k),s||(k.equals=an),function(x,A){if(arguments.length>0){const C=A?l(k):a&&o?G(x):x;if(!k.equals(C)){if(_=!0,E(m,C),p&&v!==void 0&&(v=C),Mn(k))return x;Je(()=>l(k))}return x}return Mn(k)?k.v:l(k)}}function _e(e){U===null&&Fn(),tt&&U.l!==null?Za(U).m.push(e):ce(()=>{const t=Je(e);if(typeof t=="function")return t})}function Za(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const Ya="5";var On;typeof window<"u"&&((On=window.__svelte??(window.__svelte={})).v??(On.v=new Set)).add(Ya);let it=I("");function Xa(e){E(it,e,!0)}var Ka=N('<div class="notification svelte-1h5k2zn"> </div>');function Ga(e,t){X(t,!0),ce(()=>{l(it);const a=setTimeout(()=>{E(it,"")},800);return()=>{clearTimeout(a)}});var n=Ne(),r=Q(n);{var s=a=>{var o=Ka(),i=S(o);J(()=>Fe(i,l(it))),b(a,o)};Z(r,a=>{l(it)&&a(s)})}b(e,n),K()}var Ja=N('<span class="vh svelte-14jjkpd"> </span>');function ht(e,t){var n=Ja(),r=S(n);J(()=>Fe(r,t.children)),b(e,n)}Wr();var Qa=ge('<svg width="24" height="24" viewBox="0 0 0.72 0.72" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-1lqi79o"><path d="M.16.26h.4m-.4.2h.4M.11.26h.5m-.5.2h.5m-.4.15.1-.5m.1.5.1-.5" stroke="currentColor" stroke-width=".1" stroke-linecap="round" stroke-linejoin="round"></path></svg>');function es(e){var t=Qa();b(e,t)}var ts=ge('<svg viewBox="0 0 13.229 13.229" xmlns="http://www.w3.org/2000/svg" class="svelte-1lqi79o"><path style="fill:currentColor;stroke-width:.579737" d="M5.82 2.381h1.588v8.467H5.821Z"></path><path style="fill:currentColor;stroke-width:.579328" d="M10.848 5.822v1.586H2.38V5.82Z"></path></svg>');function ns(e){var t=ts();b(e,t)}var rs=ge('<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-1lqi79o"><path fill-rule="evenodd" clip-rule="evenodd" d="M14.279 2.152C13.909 2 13.439 2 12.5 2s-1.409 0-1.779.152a2.008 2.008 0 0 0-1.09 1.083c-.094.223-.13.484-.145.863a1.615 1.615 0 0 1-.796 1.353 1.64 1.64 0 0 1-1.579.008c-.338-.178-.583-.276-.825-.308a2.026 2.026 0 0 0-1.49.396c-.318.242-.553.646-1.022 1.453-.47.807-.704 1.21-.757 1.605-.07.526.074 1.058.4 1.479.148.192.357.353.68.555.477.297.783.803.783 1.361 0 .558-.306 1.064-.782 1.36-.324.203-.533.364-.682.556-.325.421-.469.953-.399 1.479.053.394.287.798.757 1.605.47.807.704 1.21 1.022 1.453.424.323.96.465 1.49.396.242-.032.487-.13.825-.308a1.64 1.64 0 0 1 1.58.008c.486.28.774.795.795 1.353.015.38.051.64.145.863.204.49.596.88 1.09 1.083.37.152.84.152 1.779.152s1.409 0 1.779-.152a2.008 2.008 0 0 0 1.09-1.083c.094-.223.13-.483.145-.863.02-.558.309-1.074.796-1.353a1.64 1.64 0 0 1 1.579-.008c.338.178.583.276.825.308.53.07 1.066-.073 1.49-.396.318-.242.553-.646 1.022-1.453.47-.807.704-1.21.757-1.605a1.99 1.99 0 0 0-.4-1.479c-.148-.192-.357-.353-.68-.555-.477-.297-.783-.803-.783-1.361 0-.558.306-1.064.782-1.36.324-.203.533-.364.682-.556a1.99 1.99 0 0 0 .399-1.479c-.053-.394-.287-.798-.757-1.605-.47-.807-.704-1.21-1.022-1.453a2.026 2.026 0 0 0-1.49-.396c-.242.032-.487.13-.825.308a1.64 1.64 0 0 1-1.58-.008 1.615 1.615 0 0 1-.795-1.353c-.015-.38-.051-.64-.145-.863a2.007 2.007 0 0 0-1.09-1.083ZM12.5 15c1.67 0 3.023-1.343 3.023-3S14.169 9 12.5 9c-1.67 0-3.023 1.343-3.023 3s1.354 3 3.023 3Z" fill="currentColor"></path></svg>');function dr(e){var t=rs();b(e,t)}var as=ge('<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-1lqi79o"><path d="M4 6h16M4 12h16M4 18h16" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>');function ss(e){var t=as();b(e,t)}const j=G({pathname:window.location.pathname,search:window.location.search,historyLength:0}),hr=()=>{var e;return((e=new URLSearchParams(j.search).get("selectedTags"))==null?void 0:e.split(","))||[]};let bt=hr();const os=()=>{const e=hr();return e.join(",")===bt.join(",")||(bt=e),bt},ls=()=>{j.pathname=document.location.pathname,j.search=document.location.search,j.historyLength=Math.max(0,j.historyLength-=1)};window.addEventListener("popstate",ls);const Bt=e=>{const[t,n]=e.split("?");j.pathname=t,j.search=n?`?${n}`:"",j.historyLength+=1,window.history.pushState(null,"",e)},is=e=>{const[t,n]=e.split("?");j.pathname=t,j.search=n?`?${n}`:"",window.history.replaceState(null,"",e)},pn=(e="/")=>{const[t,n]=e.split("?");j.historyLength<=0?(window.history.replaceState(null,"",e),j.historyLength=0,j.pathname=t,j.search=n?`?${n}`:""):window.history.back()},Be=G({shown:!1}),qe=()=>{var e;return((e=new URLSearchParams(j.search).get("stackPages"))==null?void 0:e.split(","))||[]};let Ye=I(G(qe()));const rt=e=>{const t=qe();t.push(e);const n=new URLSearchParams(j.search);n.set("stackPages",t.join(",")),E(Ye,t,!0),Bt(`${j.pathname}?${n.toString()}`)},cs=()=>{const e=l(Ye).slice(0,-1);E(Ye,e,!0)},us=()=>{const e=qe();return e.length>=l(Ye).length?e.reduce((t,n)=>[...t,{page:n,shown:!0}],[]):l(Ye).reduce((t,n,r)=>[...t,{page:n,shown:r!==l(Ye).length-1}],[])},fs=e=>{e.preventDefault(),rt("settings")},vs=e=>{e.preventDefault(),Bt("/")},ds=e=>{e.preventDefault(),rt("newBookmark")};var hs=N('<a href="/"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Home</span></a>'),ps=N('<a class="link svelte-e5g06v"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Settings</span></a>'),_s=N('<a class="addBookmark svelte-e5g06v"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Add bookmark</span></a>'),gs=N('<div class="header svelte-e5g06v"><div class="top svelte-e5g06v"><div class="desktop svelte-e5g06v"><!></div> <div class="mobile svelte-e5g06v"><button class="buttonMenu svelte-e5g06v"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button></div> <!></div></div>');function ms(e,t){X(t,!0);const n=()=>{Be.shown=!0},r=()=>{const _=qe();_.includes("settings")||_.push("settings");const m=new URLSearchParams(j.search);return m.set("stackPages",_.join(",")),`${j.pathname}?${m}`};let a=ae(()=>{const _=qe();_.includes("newBookmark")||_.push("newBookmark");const m=new URLSearchParams(j.search);return m.set("stackPages",_.join(",")),`${j.pathname}?${m}`}),o=ae(r);var i=gs(),c=S(i),f=S(c),d=S(f);{var h=_=>{var m=hs();m.__click=[vs],$(m,1,W(["link","hash"]),"svelte-e5g06v");var k=S(m);be(k,()=>({"--size":"20px"})),es(k.lastChild),b(_,m)},v=_=>{var m=ps();m.__click=[fs];var k=S(m);be(k,()=>({"--size":"20px"})),dr(k.lastChild),J(()=>Le(m,"href",l(o))),b(_,m)};Z(d,_=>{j.pathname==="/settings"?_(h):_(v,!1)})}var u=D(f,2),p=S(u);p.__click=n;var w=S(p);be(w,()=>({"--size":"36px"})),ss(w.lastChild);var y=D(w,2);ht(y,{children:(_,m)=>{var k=ke("Menu");b(_,k)}});var B=D(u,2);{var L=_=>{var m=_s();m.__click=[ds];var k=S(m);be(k,()=>({"--size":"24px","--color":"#b0b0b0"})),ns(k.lastChild),J(()=>Le(m,"href",l(a))),b(_,m)};Z(B,_=>{j.pathname!=="/settings"&&_(L)})}b(e,i),K()}je(["click"]);var ws=ge('<svg viewBox="0 0 5.292 5.292" xmlns="http://www.w3.org/2000/svg" class="svelte-1lqi79o"><path style="fill:currentColor;stroke-width:.374736" transform="scale(1.02869 .97047) rotate(45)" d="M2.678-1.906h.514V1.18h-.514z"></path><path style="fill:currentColor;stroke-width:.374736" transform="scale(-1.02869 -.97047) rotate(-45)" d="M.664-5.762h.514v3.086H.664z"></path></svg>');function ks(e){var t=ws();b(e,t)}const Ot=G({working:!1});var bs=ge('<svg viewBox="0 0 5.292 5.292" xmlns="http://www.w3.org/2000/svg" class="svelte-1lqi79o"><path style="fill:currentColor;stroke-width:.584099" transform="rotate(45)" d="M3.341-2.405h.802v4.811h-.802z"></path><path style="fill:currentColor;stroke-width:.584099" transform="rotate(135)" d="M-.401-6.147h.802v4.811h-.802z"></path></svg>');function ys(e){var t=bs();b(e,t)}const Es=({getDialog:e,getDialogInner:t,onClose:n})=>{const r=s=>{const a=e(),o=t();s.target&&(a!=null&&a.open)&&o&&o!==s.target&&!o.contains(s.target)&&n()};_e(()=>(document.addEventListener("mousedown",r,{capture:!0}),()=>{document.removeEventListener("mousedown",r,{capture:!0})}))},Ss=({getDialog:e,getDialogInner:t,onOpen:n,onStartClose:r,onClose:s})=>{Es({getDialog:e,getDialogInner:t,onClose:r});const a=i=>{i.preventDefault(),r()},o=()=>{s==null||s()};_e(()=>{const i=e();return i==null||i.addEventListener("close",o),i==null||i.addEventListener("cancel",a),()=>{i==null||i.removeEventListener("close",o),i==null||i.removeEventListener("cancel",a)}}),_e(()=>{const i=e();i==null||i.showModal(),i==null||i.getBoundingClientRect(),n()})};var xs=(e,t)=>{t.onStartClose()},Cs=(e,t)=>{t.onStartClose()},Ts=N('<dialog><div class="dialogInner svelte-nrfs4t"><span tabindex="1"></span> <!> <div class="header svelte-nrfs4t"><div><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button></div> <div><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button></div></div></div></dialog>');function Ls(e,t){X(t,!0);let n=ve(t,"hiddenDialog",3,!1),r=ve(t,"isDesktopAnimationOff",3,!1),s=I(null),a=I(null);Ss({getDialog:()=>l(s),getDialogInner:()=>l(a),onOpen:t.onOpen,onStartClose:t.onStartClose,onClose:t.onClose}),ce(()=>{var L,_;t.stateDialog==="closing"&&(Ot.working?(L=l(s))==null||L.addEventListener("transitionend",()=>{var m;(m=l(s))==null||m.close()},{once:!0}):(_=l(s))==null||_.close())});var o=Ts(),i=S(o),c=D(S(i),2);mt(c,()=>t.children);var f=D(c,2),d=S(f),h=S(d);$(h,1,W(["navigateButton","buttonBack"]),"svelte-nrfs4t"),h.__click=[xs,t];var v=S(h);be(v,()=>({"--size":"20px"})),ks(v.lastChild);var u=D(v,2);ht(u,{children:(L,_)=>{var m=ke("back");b(L,m)}});var p=D(d,2),w=S(p);$(w,1,W(["navigateButton","buttonClose"]),"svelte-nrfs4t"),w.__click=[Cs,t];var y=S(w);be(y,()=>({"--size":"20px"})),ys(y.lastChild);var B=D(y,2);ht(B,{children:(L,_)=>{var m=ke("close");b(L,m)}}),xe(i,L=>E(a,L),()=>l(a)),xe(o,L=>E(s,L),()=>l(s)),J(()=>$(o,1,W([{open:t.stateDialog==="open",isAnimationOn:Ot.working,isDesktopAnimationOff:r(),hiddenDialog:n()}]),"svelte-nrfs4t")),b(e,o),K()}je(["click"]);const Ps=({onStartClose:e,onClose:t})=>{let n=I("close");return{get state(){return l(n)},set state(o){E(n,o,!0)},handleStartClose:(o=!1)=>{o||(E(n,"closing"),e==null||e())},handleOpen:()=>{E(n,"open")},handleClose:()=>{E(n,"close"),t==null||t()}}};function pr(e,t){X(t,!0);let n=ve(t,"blockedClose",3,!1),r=ve(t,"hiddenDialog",3,!1),s=ve(t,"onStartClose",3,()=>{}),a=ve(t,"onClose",3,()=>{}),o=Ps({onStartClose:s(),onClose:a()});ce(()=>{o.state==="close"&&t.shownDialog?o.state="opening":o.state==="open"&&!t.shownDialog&&o.handleStartClose(n())});var i=Ne(),c=Q(i);{var f=d=>{Ls(d,{get stateDialog(){return o.state},get hiddenDialog(){return r()},get onOpen(){return o.handleOpen},onStartClose:()=>o.handleStartClose(n()),get onClose(){return o.handleClose},children:(h,v)=>{var u=Ne(),p=Q(u);mt(p,()=>t.children),b(h,u)},$$slots:{default:!0}})};Z(c,d=>{o.state!=="close"&&d(f)})}b(e,i),K()}function Ds(e,t){X(t,!0),pr(e,{get shownDialog(){return t.shown},get blockedClose(){return t.hidden},get hiddenDialog(){return t.hidden},onStartClose:()=>{pn()},onClose:()=>{cs()},children:(s,a)=>{var o=Ne(),i=Q(o);mt(i,()=>t.children),b(s,o)},$$slots:{default:!0}}),K()}const _r=()=>crypto.randomUUID(),Ms="bookmarksStore",Bs=1,he="bookmarks";let Y;window.addEventListener("unhandledrejection",e=>{alert("Error: "+e.reason.message)});const Os=()=>new Promise((e,t)=>{const n=indexedDB.open(Ms,Bs);n.addEventListener("upgradeneeded",()=>{const r=n.result;console.log("success upgradeneeded"),r.objectStoreNames.contains(he)||r.createObjectStore(he,{keyPath:"id"})}),n.addEventListener("success",()=>{console.log("success open"),e(),Y=n.result,Y.onversionchange=function(){Y==null||Y.close(),alert("app outdated, please reload the page")}}),n.addEventListener("blocked",()=>{t(),alert("app outdated, please reload the page")}),n.addEventListener("error",()=>{t(),console.error("Error",n.error)})}),gr=()=>new Promise((e,t)=>{const n=Y==null?void 0:Y.transaction(he,"readonly"),r=n==null?void 0:n.objectStore(he).getAll();r==null||r.addEventListener("success",()=>{const s=r.result;e(s)}),r==null||r.addEventListener("error",()=>{t()})}),As=async e=>new Promise((t,n)=>{const r=Y==null?void 0:Y.transaction(he,"readwrite"),s=r==null?void 0:r.objectStore(he),a=s==null?void 0:s.put({...e});a==null||a.addEventListener("success",()=>{t()}),a==null||a.addEventListener("error",()=>{n()})}),Is=async e=>new Promise((t,n)=>{const r=Y==null?void 0:Y.transaction(he,"readwrite"),s=r==null?void 0:r.objectStore(he),a=s==null?void 0:s.delete(e);a==null||a.addEventListener("success",()=>{t()}),a==null||a.addEventListener("error",()=>{n()})}),Ns=async e=>{const t=(await gr()).reduce((a,o)=>(a[o.id]=o,a),{}),n={},r=Y==null?void 0:Y.transaction(he,"readwrite"),s=r==null?void 0:r.objectStore(he);e.forEach(a=>{t[a.id]?t[a.id].lastUpdatedTimestamp<a.lastUpdatedTimestamp&&(n[a.id]=a):n[a.id]=a}),await Promise.all(Object.values(n).map(a=>{const o=s==null?void 0:s.put(a);return new Promise((i,c)=>{o==null||o.addEventListener("success",()=>{i()}),o==null||o.addEventListener("error",()=>{c()})})}))},Rs=async e=>{const t=Y==null?void 0:Y.transaction(he,"readwrite"),n=t==null?void 0:t.objectStore(he);await Promise.all(Array.from({length:1e3},(r,s)=>{const a=[];for(let c=0;c<Math.random()*5;c++){const f=(Math.random()*100).toFixed();a.includes(f)||a.push(f)}const o={...e,order:s,id:_r(),createdTimestamp:Date.now(),lastUpdatedTimestamp:Date.now(),title:a.join("#"),tags:a},i=n==null?void 0:n.put(o);return new Promise((c,f)=>{i==null||i.addEventListener("success",()=>{s%1e4===0&&console.log(`bookmark ${s} done`),c()}),i==null||i.addEventListener("error",()=>{console.log(`bookmark ${s} error`),f()})})}))};let ie=I({inited:!1,bookmarks:[],mapBookmarks:new Map});const _n=async()=>{const e=await gr(),t=new Map,n=[];e.forEach(r=>{n[r.order]=r,t.set(r.id,r)}),E(ie,{...l(ie),bookmarks:n,mapBookmarks:t,inited:!0})};Os().then(async()=>{await _n()}).catch(()=>{console.error("failed to init db")});const mr=()=>l(ie).inited,qs=()=>l(ie).bookmarks,js=async e=>{const t={...e,lastUpdatedTimestamp:Date.now()};l(ie).bookmarks[t.order]=t,l(ie).mapBookmarks.set(t.id,t),E(ie,{...l(ie)}),await As(t)},Fs=async e=>{await Rs(e),await _n()},Hs=async e=>{const t=l(ie).mapBookmarks.get(e);l(ie).mapBookmarks.delete(e),l(ie).bookmarks[(t==null?void 0:t.order)||0]=void 0,E(ie,{...l(ie)}),await Is(e)},Bn=async e=>{await Ns(e),await _n()};let wr=I({});const kr=()=>l(wr),Us=e=>{E(wr,e)};var zs=N('<input class="svelte-1jzizl8">');function Qt(e,t){X(t,!0);let n=ve(t,"value",15,"");var r=zs();J(()=>Le(r,"placeholder",t.placeholder)),lt(r,n),b(e,r),K()}function br(){const e=navigator.userAgent;if(!(/iPad|iPhone|iPod/.test(e)&&!window.MSStream))return!1;const n=/Safari/.test(e)&&!/Chrome/.test(e)&&!/CriOS/.test(e)&&!/FxiOS/.test(e),r=/Macintosh/.test(e)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>1;return!!n||!!r}var Vs=N('<div class="content-wrapper svelte-1tk93ea"><!></div>'),Ws=N('<dialog><div class="dialogInner svelte-1tk93ea"><!></div></dialog>');function $s(e,t){X(t,!0);let n=!1,r=0,s=0,a=0,o=!1,i=!1,c=0,f=0,d=0,h=null;const v=5;let u=I(null),p=I(null),w=I("close");_e(()=>{n=br()});const y=()=>{E(w,"closing"),Be.shown=!1,setTimeout(()=>{var g;(g=l(u))==null||g.close()},200)},B=()=>{E(w,"open"),Be.shown=!0},L=()=>{var g;E(w,"close"),Be.shown=!1,i=!1,(g=l(u))==null||g.close()},_=g=>{g.preventDefault(),y()};function m(g){t.blocking&&(l(w)==="open"||l(w)==="close")||!n&&l(w)==="close"||g.touches.length>0&&h===null&&(h=g.touches[0].identifier,r=g.touches[0].clientX,s=g.touches[0].clientY,o=!0,i=!1,d=performance.now())}function k(g){if(!o||t.blocking||!l(u))return;if(!n&&l(w)==="close"){o=!1,i=!1;return}d=performance.now();let O;for(let Ce=0;Ce<g.touches.length;Ce++)if(g.touches[Ce].identifier===h){O=g.touches[Ce];break}if(!O&&g.touches.length>0&&(O=g.touches[0],h=O.identifier),!O)return;const F=O.clientX,V=O.clientY,ee=F-r,te=V-s,ne=Math.abs(ee)>Math.abs(te),pe=Math.abs(ee)>v;if(!i)if(ne&&pe){l(w)==="close"&&(E(w,"opening"),l(u).showModal(),l(u).offsetWidth);const Ce=window.getComputedStyle(l(u)),wt=Ce.transform||Ce.webkitTransform;a=new DOMMatrix(wt).m41,f=l(u).offsetWidth,l(u).style.setProperty("--transition-timing","0s"),i=!0}else return;i&&ne&&g.preventDefault();let ze=a+ee*.95;const me=-f,Ve=-.3*f;ze=Math.max(me,Math.min(Ve,ze)),l(u).style.transform=`translate3d(${ze}px, 0, 0)`,c=(ze-a)/f*100,l(w)==="open"?l(u).style.setProperty("--backdrop-bg",`rgba(0, 0, 0, ${.25*(1-Math.abs(c)/100)})`):l(u).style.setProperty("--backdrop-bg",`rgba(0, 0, 0, ${.25*(Math.abs(c)/100)})`),c=(ze-a)/f*100,i&&ne&&g.preventDefault()}function R(g){if(!o||!l(u))return;d=performance.now();let O=!1;for(let me=0;me<g.changedTouches.length;me++)if(g.changedTouches[me].identifier===h){O=!0;break}if(!O)return;if(g.touches.length>0){h=null,o=!1;return}if(h=null,!i){o=!1,c=0;return}let F=0;if(g&&g.changedTouches&&g.changedTouches.length>0){const me=g.changedTouches[0].clientX,Ve=performance.now(),Ce=g.timeStamp||performance.now()-100,wt=Ve-Ce;wt>0&&(F=(me-r)/wt)}if(g.touches&&g.touches.length>0){o=!1;return}const V=10,ee=.3,te=c,ne=.2;let pe;l(w)==="open"?te<-10?pe=ne*Math.max(.5,1-Math.abs(c)/100):pe=ne*Math.max(.5,Math.abs(c)/100):te>V?pe=ne*Math.max(.5,Math.abs(c)/100):pe=ne*Math.max(.5,1-Math.abs(c)/100),l(u).style.setProperty("--transition-timing",`${pe}s`),l(u).addEventListener("transitionend",()=>{var me,Ve;(me=l(u))==null||me.style.removeProperty("--transition-timing"),(Ve=l(u))==null||Ve.style.removeProperty("transition")},{once:!0}),l(u).offsetWidth;const gn=l(w)!=="open"&&(te>V||F>ee);l(w)==="open"&&(te<-10||F<-.3)?(l(u).style.transform="",y()):gn?(l(u).style.transform="",B()):(l(u).style.transform="",l(w)==="opening"&&y()),l(u).style.removeProperty("--backdrop-bg"),o=!1,i=!1,c=0}function x(g){g.touches.length===0&&i&&R(g)}const A=g=>{var O;g.target&&((O=l(u))!=null&&O.open)&&l(p)&&l(p)!==g.target&&!l(p).contains(g.target)&&!t.blocking&&y()};_e(()=>{const g=setInterval(C,500);return()=>{clearInterval(g)}}),_e(()=>(document.addEventListener("mousedown",A,{capture:!0}),()=>{document.removeEventListener("mousedown",A,{capture:!0})})),_e(()=>{var F,V;const g=new ResizeObserver(()=>{l(u)&&(f=l(u).offsetWidth)});l(u)&&g.observe(l(u));const O=ee=>{!n&&l(w)==="close"||m(ee)};return document.addEventListener("touchstart",O,{passive:!0}),document.addEventListener("touchmove",k,{passive:!1}),document.addEventListener("touchend",R,{passive:!0}),document.addEventListener("touchcancel",x,{passive:!0}),(F=l(u))==null||F.addEventListener("close",L),(V=l(u))==null||V.addEventListener("cancel",_),()=>{var ee,te;(ee=l(u))==null||ee.removeEventListener("close",L),(te=l(u))==null||te.removeEventListener("cancel",_),document.removeEventListener("touchstart",O),document.removeEventListener("touchmove",k),document.removeEventListener("touchend",R),document.removeEventListener("touchcancel",x)}});function C(){var g;if(!(!n&&l(w)==="close")&&i&&performance.now()-d>200&&l(u)){const O=c;l(w)!=="open"&&O>10?(l(u).style.transform="",B()):l(w)==="open"&&O<-10?(l(u).style.transform="",y()):(l(u).style.transform="",l(w)==="opening"&&y()),(g=l(u))==null||g.style.removeProperty("--backdrop-bg"),o=!1,i=!1,c=0}}ce(()=>{var g;if(l(w)==="closing"){const O=()=>{var F;(F=l(u))==null||F.close()};return(g=l(u))==null||g.addEventListener("transitionend",O,{once:!0}),()=>{var F;(F=l(u))==null||F.removeEventListener("transitionend",O)}}}),ce(()=>{console.log("sidebarState",l(w)),console.log("mobileSidebar.shown",Be.shown),console.log("hasPassedThreshold",i)}),ce(()=>{var g,O;Be.shown,l(w),!i&&(l(w)==="close"&&Be.shown?((g=l(u))==null||g.showModal(),(O=l(u))==null||O.getBoundingClientRect(),B()):l(w)==="open"&&!Be.shown&&y())});var P=Ws(),M=S(P),T=S(M);{var q=g=>{var O=Vs(),F=S(O);mt(F,()=>t.children),b(g,O)};Z(T,g=>{l(w)!=="close"&&g(q)})}xe(M,g=>E(p,g),()=>l(p)),xe(P,g=>E(u,g),()=>l(u)),J(()=>$(P,1,W([{open:l(w)==="open",hidden:t.blocking}]),"svelte-1tk93ea")),b(e,P),K()}const yr=()=>window.matchMedia("(max-width: 768px)").matches;let Er=I(G(yr()));const Zs=(e,t)=>{let n=null;return()=>{n&&clearTimeout(n),n=setTimeout(()=>{e()},t)}},Ys=Zs(()=>{E(Er,yr(),!0)},16);window.addEventListener("resize",Ys);const Xs=()=>l(Er),Ks=e=>{e.preventDefault(),rt("settings")};var Gs=(e,t,n)=>t(n),Js=N("<button> </button>"),Qs=N("<div></div>"),eo=(e,t,n)=>t(l(n).name),to=N('<button class="tag svelte-y69ysu"> </button>'),no=N('<div class="sidebarFixed svelte-y69ysu"><a class="link svelte-y69ysu"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Settings</span></a> <div class="searchWrapper svelte-y69ysu"><!></div> <!></div> <div class="tags svelte-y69ysu"></div>',1),ro=(e,t,n)=>t(n),ao=N("<button> </button>"),so=N("<div></div>"),oo=(e,t,n)=>t(l(n).name),lo=N('<button class="tag svelte-y69ysu"> </button>'),io=N('<div class="sidebar svelte-y69ysu"><div class="sidebarFixed svelte-y69ysu"><div class="searchWrapper svelte-y69ysu"><!></div> <!></div> <div class="tags svelte-y69ysu"></div></div>');function co(e,t){X(t,!0);let n=I(""),r=ae(()=>{var p;return((p=new URLSearchParams(j.search).get("selectedTags"))==null?void 0:p.split(","))||[]});const s=()=>{const p=qe();p.includes("settings")||p.push("settings");const w=new URLSearchParams(j.search);return w.set("stackPages",p.join(",")),`${j.pathname}?${w}`},a=p=>{const w=new URLSearchParams(j.search);w.set("selectedTags",[...l(r),p].join(",")),Bt(`${j.pathname}${w.size>0?`?${w.toString()}`:""}`)},o=p=>{const w=new URLSearchParams(j.search),y=l(r).filter(B=>B!==p);y.length===0?w.delete("selectedTags"):w.set("selectedTags",y.join(",")),Bt(`${j.pathname}${w.size>0?`?${w.toString()}`:""}`)};let i=ae(()=>mr()?Object.values(kr()).filter(p=>!l(r).some(w=>p.name===w)):[]),c=ae(s),f=ae(()=>qe().length>0);var d=Ne(),h=Q(d);{var v=p=>{$s(p,{get blocking(){return l(f)},children:(w,y)=>{var B=no(),L=Q(B),_=S(L);_.__click=[Ks];var m=S(_);be(m,()=>({"--size":"20px"})),dr(m.lastChild);var k=D(_,2),R=S(k);Qt(R,{placeholder:"Search tag",get value(){return l(n)},set value(P){E(n,P,!0)}});var x=D(k,2);{var A=P=>{var M=Qs();$(M,1,W(["tags","selectedTags"]),"svelte-y69ysu"),$e(M,20,()=>l(r),T=>T,(T,q)=>{var g=Js();g.__click=[Gs,o,q],$(g,1,W(["tag","selectedTag"]),"svelte-y69ysu");var O=S(g);J(()=>Fe(O,q)),b(T,g)}),b(P,M)};Z(x,P=>{l(r).length>0&&P(A)})}var C=D(L,2);$e(C,21,()=>l(i),P=>P.name,(P,M)=>{var T=Ne(),q=Q(T);{var g=O=>{var F=to();F.__click=[eo,a,M];var V=S(F);J(()=>Fe(V,l(M).name)),b(O,F)};Z(q,O=>{(l(n)===""||l(M).name.toLowerCase().indexOf(l(n).toLowerCase())!==-1)&&O(g)})}b(P,T)}),J(()=>Le(_,"href",l(c))),b(w,B)},$$slots:{default:!0}})},u=p=>{var w=io(),y=S(w),B=S(y),L=S(B);Qt(L,{placeholder:"Search tag",get value(){return l(n)},set value(R){E(n,R,!0)}});var _=D(B,2);{var m=R=>{var x=so();$(x,1,W(["tags","selectedTags"]),"svelte-y69ysu"),$e(x,20,()=>l(r),A=>A,(A,C)=>{var P=ao();P.__click=[ro,o,C],$(P,1,W(["tag","selectedTag"]),"svelte-y69ysu");var M=S(P);J(()=>Fe(M,C)),b(A,P)}),b(R,x)};Z(_,R=>{l(r).length>0&&R(m)})}var k=D(y,2);$e(k,21,()=>l(i),R=>R.name,(R,x)=>{var A=Ne(),C=Q(A);{var P=M=>{var T=lo();T.__click=[oo,a,x];var q=S(T);J(()=>Fe(q,l(x).name)),b(M,T)};Z(C,M=>{(l(n)===""||l(x).name.toLowerCase().indexOf(l(n).toLowerCase())!==-1)&&M(P)})}b(R,A)}),b(p,w)};Z(h,p=>{Xs()?p(v):p(u,!1)})}b(e,d),K()}je(["click"]);var uo=N('<form class="svelte-140y8w3"><input placeholder="title" type="text" class="svelte-140y8w3"> <input placeholder="url" type="text" class="svelte-140y8w3"> <textarea placeholder="description" class="svelte-140y8w3"></textarea> <input placeholder="tags" type="text" class="svelte-140y8w3"> <button class="buttonSubmit svelte-140y8w3" type="submit">add bookmark</button></form>');function Sr(e,t){X(t,!0);let n=ve(t,"initialTitle",3,""),r=ve(t,"initialUrl",3,""),s=ve(t,"initialDescription",3,""),a=ve(t,"initialTags",3,""),o=I(G(n())),i=I(G(r())),c=I(G(s())),f=I(G(a()));const d=y=>{y.preventDefault(),t.onSubmit({title:l(o),url:l(i),description:l(c),tags:l(f)})};var h=uo(),v=S(h),u=D(v,2),p=D(u,2),w=D(p,2);st("submit",h,d),lt(v,()=>l(o),y=>E(o,y)),lt(u,()=>l(i),y=>E(i,y)),lt(p,()=>l(c),y=>E(c,y)),lt(w,()=>l(f),y=>E(f,y)),b(e,h),K()}function fo(e,t){X(t,!0);let n=I(!0);const r=()=>{t.onClose()},s=()=>{E(n,!1)},a=({title:o,url:i,description:c,tags:f})=>{js({...t.bookmark,title:o,url:i,description:c,tags:f.split(" ").map(d=>d.trim())}),s()};pr(e,{get shownDialog(){return l(n)},onClose:r,children:(o,i)=>{const c=ae(()=>t.bookmark.tags.join(" "));Sr(o,{get initialTitle(){return t.bookmark.title},get initialUrl(){return t.bookmark.url},get initialDescription(){return t.bookmark.description},get initialTags(){return l(c)},onSubmit:a})},$$slots:{default:!0}}),K()}var vo=ge('<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-1lqi79o"><path d="M16 16v2.8c0 1.12 0 1.68-.218 2.108a2 2 0 0 1-.874.874C14.48 22 13.92 22 12.8 22H5.2c-1.12 0-1.68 0-2.108-.218a2 2 0 0 1-.874-.874C2 20.48 2 19.92 2 18.8v-7.6c0-1.12 0-1.68.218-2.108a2 2 0 0 1 .874-.874C3.52 8 4.08 8 5.2 8H8m3.2 8h7.6c1.12 0 1.68 0 2.108-.218a2 2 0 0 0 .874-.874C22 14.48 22 13.92 22 12.8V5.2c0-1.12 0-1.68-.218-2.108a2 2 0 0 0-.874-.874C20.48 2 19.92 2 18.8 2h-7.6c-1.12 0-1.68 0-2.108.218a2 2 0 0 0-.874.874C8 3.52 8 4.08 8 5.2v7.6c0 1.12 0 1.68.218 2.108a2 2 0 0 0 .874.874C9.52 16 10.08 16 11.2 16Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>');function ho(e){var t=vo();b(e,t)}var po=ge('<svg viewBox="0 0 13.229 13.229" xmlns="http://www.w3.org/2000/svg" class="svelte-1lqi79o"><circle style="fill:currentColor;stroke-width:.4378" cx="3.175" cy="6.615" r="1.058"></circle><circle style="fill:currentColor;stroke-width:.4378" cx="6.615" cy="6.615" r="1.058"></circle><circle style="fill:currentColor;stroke-width:.4378" cx="10.054" cy="6.615" r="1.058"></circle></svg>');function _o(e){var t=po();b(e,t)}const go=(e,t,n)=>{const r=kr();t.bookmark.tags.forEach(s=>{if(l(n).includes(s)&&r[s].connections===1){const a=new URLSearchParams(j.search),o=l(n).filter(i=>i!==s);o.length===0?a.delete("selectedTags"):a.set("selectedTags",o.join(",")),is(`${j.pathname}${a.size>0?`?${a.toString()}`:""}`)}}),Hs(t.bookmark.id)},mo=(e,t)=>{E(t,!0)},wo=(e,t,n)=>{E(t,!1),E(n,!0)},ko=(e,t)=>{navigator.clipboard.writeText(t.bookmark.url),Xa("Link copied to clipboard")};var bo=N('<li class="bookmark svelte-hwv8qt"><div class="bookmarkTitle svelte-hwv8qt"><img class="bookmarkIcon" height="16" width="16" alt="icon"> <a class="bookmarkLink svelte-hwv8qt" target="_blank" rel="noopener noreferrer"> </a></div> <div><button class="button svelte-hwv8qt"><!> <!></button> <div><button class="menuButton svelte-hwv8qt">Edit</button> <button class="menuButton svelte-hwv8qt">Delete</button></div> <button><!> <!></button></div></li> <!>',1);function yo(e,t){X(t,!0);let n=ae(()=>{var T;return((T=new URLSearchParams(j.search).get("selectedTags"))==null?void 0:T.split(","))||[]}),r=I(!1),s=I(!1),a=I(null),o=I(null);const i=T=>{var q,g;T.target!==l(o)&&T.target!==l(a)&&!((q=l(a))!=null&&q.contains(T.target))&&!((g=l(o))!=null&&g.contains(T.target))&&E(r,!1)},c=()=>{E(s,!1)};ce(()=>(document.addEventListener("click",i),()=>{document.removeEventListener("click",i)}));const f=T=>{try{return`https://www.google.com/s2/favicons?domain=${new URL(T).host}&sz=32`}catch{return""}};var d=bo(),h=Q(d),v=S(h),u=S(v),p=D(u,2),w=S(p),y=D(v,2),B=S(y);B.__click=[ko,t];var L=S(B);ho(L);var _=D(L,2);ht(_,{children:(T,q)=>{var g=ke("copy link");b(T,g)}});var m=D(B,2),k=S(m);k.__click=[wo,r,s];var R=D(k,2);R.__click=[go,t,n],xe(m,T=>E(o,T),()=>l(o));var x=D(m,2);x.__click=[mo,r],$(x,1,W(["button","buttonMenu"]),"svelte-hwv8qt");var A=S(x);_o(A);var C=D(A,2);ht(C,{children:(T,q)=>{var g=ke("show menu");b(T,g)}}),xe(x,T=>E(a,T),()=>l(a));var P=D(h,2);{var M=T=>{fo(T,{get bookmark(){return t.bookmark},onClose:c})};Z(P,T=>{l(s)&&T(M)})}J(T=>{Le(u,"src",T),Le(p,"href",t.bookmark.url),Fe(w,t.bookmark.title),$(y,1,W(["bookmarkMenuWrapper",{bookmarkMenuWrapperActive:l(r)}]),"svelte-hwv8qt"),$(m,1,W(["bookmarkMenu",{bookmarkShownMenu:l(r)}]),"svelte-hwv8qt")},[()=>f(t.bookmark.url)]),b(e,d),K()}je(["click"]);var Eo=N('<div class="emptyMessage svelte-10e5k3k">No bookmarks found</div>'),So=N('<div class="searchWrapper svelte-10e5k3k"><!></div> <div class="feed svelte-10e5k3k"><ul class="svelte-10e5k3k"><!> <!></ul></div>',1);function xo(e,t){X(t,!0);let n=I(null),r=44,s=I(0),a=I(0),o=I(G([])),i=I("");const c=na("main");let f=ae(c),d=null;const h=ae(os);ce(()=>{var C;l(i),l(h),(C=l(f))==null||C.scrollTo(0,0)});const v=()=>{d&&cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var P;const C=((P=l(f))==null?void 0:P.scrollTop)||0;E(a,Math.floor(C/r)*r)})},u=()=>{var C;v(),l(n)&&E(s,window.innerHeight-((C=l(n))==null?void 0:C.getBoundingClientRect().top))};_e(()=>{u(),v()}),ce(()=>{var C;return(C=l(f))==null||C.addEventListener("scroll",v),window.addEventListener("resize",u),()=>{var P;(P=l(f))==null||P.removeEventListener("scroll",v),window.removeEventListener("resize",u)}}),ce(()=>{const C=qs(),P=[],M={};for(let T=C.length-1;T>=0;T--){const q=C[T];if(q&&!(l(h).length&&l(h).some(g=>!q.tags.includes(g)))&&!(l(i)&&!(q.title.toLowerCase().includes(l(i).toLowerCase())||q.url.toLowerCase().includes(l(i).toLowerCase())))){if(q.tags)for(const g of q.tags)M[g]?M[g].connections++:M[g]={name:g,connections:1};P.push(q)}}Us(M),E(o,P,!0)});const p=ae(()=>l(o).length*r);let y=ae(()=>{const C=Math.ceil(l(s)/r),P=Math.floor(l(a)/r);return l(o).slice(P,P+C)});var B=So(),L=Q(B),_=S(L);Qt(_,{placeholder:"Search",get value(){return l(i)},set value(C){E(i,C,!0)}});var m=D(L,2),k=S(m),R=S(k);$e(R,17,()=>l(y),C=>C.id,(C,P)=>{yo(C,{get bookmark(){return l(P)}})});var x=D(R,2);{var A=C=>{var P=Eo();b(C,P)};Z(x,C=>{l(y).length===0&&mr()&&C(A)})}xe(k,C=>E(n,C),()=>l(n)),J(C=>{Tn(m,`height: ${C??""}px`),Tn(k,`height: ${l(s)??""}px; transform: translateY(${l(a)??""}px)`)},[()=>Math.max(l(p),30)]),b(e,B),K()}var Co=N('<!> <div class="content svelte-cu0ar8"><!></div>',1);function To(e){var t=Co(),n=Q(t);co(n,{});var r=D(n,2),s=S(r);xo(s,{}),b(e,t)}var Lo=ge('<svg width="800" height="800" viewBox="-3 0 32 32" xmlns="http://www.w3.org/2000/svg" class="svelte-1lqi79o"><path d="M23 8H3a1 1 0 1 1 0-2h20a1 1 0 0 1 0 2Zm-1 20a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V10h18v18ZM10 3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v1h-6V3Zm14 1h-6V2a2 2 0 0 0-2-2h-6a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v2a2 2 0 0 0 2 2v18a4 4 0 0 0 4 4h14a4 4 0 0 0 4-4V10a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2ZM13 28a1 1 0 0 0 1-1V15a1 1 0 0 0-2 0v12a1 1 0 0 0 1 1Zm-5 0a1 1 0 0 0 1-1V15a1 1 0 0 0-2 0v12a1 1 0 0 0 1 1Zm10 0a1 1 0 0 0 1-1V15a1 1 0 0 0-2 0v12a1 1 0 0 0 1 1Z" fill="currentColor" fill-rule="evenodd"></path></svg>');function Po(e){var t=Lo();b(e,t)}var Do=ge('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" class="svelte-1lqi79o"><path fill-rule="evenodd" stroke="currentColor" fill="currentColor" d="M14 9.004a1 1 0 0 1 1 1v3a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-3a1 1 0 0 1 2 0v3h10v-3a1 1 0 0 1 1-1ZM8 1.59l3.707 3.707a1 1 0 0 1-1.414 1.414L9 5.418v4.586a1 1 0 1 1-2 0V5.418L5.707 6.711a1 1 0 0 1-1.414-1.414L8 1.59Z"></path></svg>');function Mo(e){var t=Do();b(e,t)}var Bo=ge('<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" class="svelte-1lqi79o"><path fill-rule="evenodd" stroke="currentColor" fill="currentColor" d="M14 9a1 1 0 0 1 1 1v3a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-3a1 1 0 0 1 2 0v3h10v-3a1 1 0 0 1 1-1ZM8 1a1 1 0 0 1 1 1v4.586l1.293-1.293a1 1 0 1 1 1.414 1.414L8 10.414 4.293 6.707a1 1 0 0 1 1.414-1.414L7 6.586V2a1 1 0 0 1 1-1Z"></path></svg>');function Oo(e){var t=Bo();b(e,t)}var Oe=(e=>(e.Light="light",e.Auto="auto",e.Dark="dark",e))(Oe||{});const Zt=(e,t)=>{const n=e.target.value;localStorage.setItem("colorScheme",n),document.documentElement.setAttribute("data-color-scheme",n),E(t,n,!0)};var Ao=N('<div class="wrapper svelte-1lqc4qo"><fieldset class="switcher svelte-1lqc4qo"><legend class="vh svelte-1lqc4qo">Color Scheme</legend> <input id="light" type="radio" aria-label="Light"> <label for="light" title="Light" aria-label="Light"></label> <input id="auto" type="radio" aria-label="Auto"> <label for="auto" title="Auto" aria-label="Auto"></label> <input id="dark" type="radio" aria-label="Dark"> <label for="dark" title="Dark" aria-label="Dark"></label> <div class="wrapSwitcherStatus svelte-1lqc4qo"><div class="switcherStatus svelte-1lqc4qo"></div></div></fieldset></div>');function Io(e,t){X(t,!0);let n=I(G(localStorage.getItem("colorScheme")||Oe.Auto));const r="color-scheme-switcher";var s=Ao(),a=S(s),o=D(S(a),2);$(o,1,W(["vh","input"]),"svelte-1lqc4qo"),Le(o,"name",r),o.__change=[Zt,n];var i=D(o,2);$(i,1,W(["switcherButton","light"]),"svelte-1lqc4qo");var c=D(i,2);$(c,1,W(["vh","input"]),"svelte-1lqc4qo"),Le(c,"name",r),c.__change=[Zt,n];var f=D(c,2);$(f,1,W(["switcherButton","auto"]),"svelte-1lqc4qo");var d=D(f,2);$(d,1,W(["vh","input"]),"svelte-1lqc4qo"),Le(d,"name",r),d.__change=[Zt,n];var h=D(d,2);$(h,1,W(["switcherButton","dark"]),"svelte-1lqc4qo"),J(()=>{zt(o,Oe.Light),Vt(o,l(n)===Oe.Light),zt(c,Oe.Auto),Vt(c,l(n)===Oe.Auto),zt(d,Oe.Dark),Vt(d,l(n)===Oe.Dark)}),b(e,s),K()}je(["change"]);const No=()=>{rt("importBookmarks")},Ro=()=>{rt("exportBookmarks")},qo=()=>{rt("clearStore")};var jo=N('<div class="svelte-oc46cj"><!> <ul class="svelte-oc46cj"><li class="svelte-oc46cj"><button class="button svelte-oc46cj"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-oc46cj">import bookmarks</span></button></li> <li class="svelte-oc46cj"><button class="button svelte-oc46cj"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-oc46cj">export bookmarks</span></button></li> <li class="svelte-oc46cj"><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-oc46cj">clear store</span></button></li></ul> <div class="svelte-oc46cj"></div></div>');function Fo(e,t){X(t,!1),hn();var n=jo(),r=S(n);Io(r,{});var s=D(r,2),a=S(s),o=S(a);o.__click=[No];var i=S(o);be(i,()=>({"--size":"20px"})),Oo(i.lastChild);var c=D(a,2),f=S(c);f.__click=[Ro];var d=S(f);be(d,()=>({"--size":"20px"})),Mo(d.lastChild);var h=D(c,2),v=S(h);v.__click=[qo],$(v,1,W(["button","clearButton"]),"svelte-oc46cj");var u=S(v);be(u,()=>({"--size":"20px"})),Po(u.lastChild);var p=D(s,2);p.textContent="6eda29ba-1d6c-4853-9803-2f8377d0d53c",b(e,n),K()}je(["click"]);function Ho(e,t){X(t,!1);const n=()=>{pn()},r=({title:s,url:a,description:o,tags:i})=>{Fs({title:s,url:a,description:o,tags:i.split(" ").map(c=>c.trim())}),n()};hn(),Sr(e,{onSubmit:r}),K()}var Uo=N("<button><!></button>");function at(e,t){let n=ve(t,"type",3,"standard");var r=Uo();r.__click=function(...a){var o;(o=t.onClick)==null||o.apply(this,a)};var s=S(r);mt(s,()=>t.children),J(()=>$(r,1,W(["button",{dangerous:n()==="dangerous"}]),"svelte-v0y8yx")),b(e,r)}je(["click"]);var zo=N('<div class="loader svelte-b80p9x"></div>');function Vo(e){var t=zo();b(e,t)}const Wo=async(e,t)=>{const n=e.target;!n.files||n.files.length===0||await t(n.files[0])};var $o=N('<p class="message svelte-19xh4q5">select a file to import your bookmarks</p> <div role="button" tabindex="0"><div class="dropzone-content svelte-19xh4q5"><p class="svelte-19xh4q5">Drag and drop your JSON file here</p> <p class="svelte-19xh4q5">or</p> <!></div> <input type="file" accept=".json" style="display: none;"></div> <div class="buttonContainer svelte-19xh4q5"><!></div>',1),Zo=N('<p class="message svelte-19xh4q5">importing bookmarks...</p> <!>',1),Yo=N('<p class="message success svelte-19xh4q5">bookmarks imported successfully!</p> <div class="buttonContainer svelte-19xh4q5"><!></div>',1),Xo=N('<p class="message error svelte-19xh4q5">something went wrong</p> <div class="buttonContainer svelte-19xh4q5"><!> <!></div>',1),Ko=N('<div class="content svelte-19xh4q5"><!></div>');function Go(e,t){X(t,!0);let n=I("idle"),r=I(null),s=I(!1),a=I(null);const o=()=>{pn()},i=async _=>{const m=await _.text(),k=JSON.parse(m),R=[];if(!k.bookmarks)throw new Error("Invalid import file format");for(const x of Object.values(k.bookmarks))x&&R.push(x);await Bn(R)},c=async _=>{var P,M,T;const m=await _.text(),R=new DOMParser().parseFromString(m,"text/html");let x=1;const A=[],C=R.querySelectorAll("a");for(const q of C){const g=q.getAttribute("href"),O=q.textContent||"";if(!g)continue;const F=[];let V=q.parentElement;for(;V;){const te=(P=V.parentElement)==null?void 0:P.querySelector(":scope > h3"),ne=(M=te==null?void 0:te.textContent)==null?void 0:M.trim();ne&&ne!=="Bookmarks"&&ne!=="Bookmarks bar"&&ne!=="Other bookmarks"&&!F.includes(ne)&&F.push(ne),V.tagName==="DL"&&((T=V.parentElement)==null?void 0:T.tagName)==="DT"?V=V.parentElement.parentElement:V=V.parentElement}const ee={id:_r(),order:x++,url:g,title:O,description:"",tags:F.length>0?F:["imported"],lastUpdatedTimestamp:Date.now(),createdTimestamp:Date.now()};A.push(ee)}await Bn(A)},f=async _=>{E(n,"loading");try{if(_.name.endsWith(".json"))await i(_);else if(_.name.endsWith(".html"))await c(_);else throw new Error("Unsupported file format. Please upload a JSON or HTML file.");E(n,"success")}catch{E(n,"error")}},d=()=>{var _;(_=l(r))==null||_.click()},h=_=>{_.preventDefault(),_.stopPropagation(),E(s,!0)},v=_=>{_.preventDefault(),_.stopPropagation(),E(s,!1)},u=_=>{_.preventDefault(),_.stopPropagation(),E(s,!0)},p=async _=>{var k;if(_.preventDefault(),_.stopPropagation(),E(s,!1),!((k=_.dataTransfer)!=null&&k.files)||_.dataTransfer.files.length===0)return;const m=_.dataTransfer.files[0];if(m.type!=="application/json"&&m.type!=="text/html"){E(n,"error");return}await f(m)};var w=Ko(),y=S(w);{var B=_=>{var m=$o(),k=D(Q(m),2),R=S(k),x=D(S(R),4);at(x,{onClick:d,children:(M,T)=>{var q=ke("Select File");b(M,q)},$$slots:{default:!0}});var A=D(R,2);A.__change=[Wo,f],xe(A,M=>E(r,M),()=>l(r)),xe(k,M=>E(a,M),()=>l(a));var C=D(k,2),P=S(C);at(P,{onClick:o,children:(M,T)=>{var q=ke("cancel");b(M,q)},$$slots:{default:!0}}),J(()=>$(k,1,W(["dropzone",{active:l(s)}]),"svelte-19xh4q5")),st("dragenter",k,h),st("dragover",k,u),st("dragleave",k,v),st("drop",k,p),b(_,m)},L=(_,m)=>{{var k=x=>{var A=Zo(),C=D(Q(A),2);Vo(C),b(x,A)},R=(x,A)=>{{var C=M=>{var T=Yo(),q=D(Q(T),2),g=S(q);at(g,{onClick:o,children:(O,F)=>{var V=ke("close");b(O,V)},$$slots:{default:!0}}),b(M,T)},P=(M,T)=>{{var q=g=>{var O=Xo(),F=D(Q(O),2),V=S(F);at(V,{onClick:()=>{E(n,"idle")},children:(te,ne)=>{var pe=ke("Try Again");b(te,pe)},$$slots:{default:!0}});var ee=D(V,2);at(ee,{onClick:o,children:(te,ne)=>{var pe=ke("Cancel");b(te,pe)},$$slots:{default:!0}}),b(g,O)};Z(M,g=>{l(n)==="error"&&g(q)},T)}};Z(x,M=>{l(n)==="success"?M(C):M(P,!1)},A)}};Z(_,x=>{l(n)==="loading"?x(k):x(R,!1)},m)}};Z(y,_=>{l(n)==="idle"?_(B):_(L,!1)})}b(e,w),K()}je(["change"]);var Jo=N("<div>Export Bookmarks</div>");function Qo(e){var t=Jo();b(e,t)}var el=N("<div>Clear store</div>");function tl(e){var t=el();b(e,t)}const nl=(e,t=In)=>{var n=Ne(),r=Q(n);{var s=o=>{Fo(o,{})},a=(o,i)=>{{var c=d=>{Ho(d,{})},f=(d,h)=>{{var v=p=>{Go(p,{})},u=(p,w)=>{{var y=L=>{Qo(L)},B=(L,_)=>{{var m=k=>{tl(k)};Z(L,k=>{t()==="clearStore"&&k(m)},_)}};Z(p,L=>{t()==="exportBookmarks"?L(y):L(B,!1)},w)}};Z(d,p=>{t()==="importBookmarks"?p(v):p(u,!1)},h)}};Z(o,d=>{t()==="newBookmark"?d(c):d(f,!1)},i)}};Z(r,o=>{t()==="settings"?o(s):o(a,!1)})}b(e,n)};var rl=N("<!> <!>",1);function al(e,t){X(t,!0);let n=ae(us);var r=rl(),s=Q(r);To(s);var a=D(s,2);$e(a,17,()=>l(n),Ia,(o,i,c)=>{const f=ae(()=>{var d;return c!==l(n).length-1&&!!((d=l(n)[c+1])!=null&&d.shown)});Ds(o,{get shown(){return l(i).shown},get hidden(){return l(f)},children:(d,h)=>{nl(d,()=>l(i).page)},$$slots:{default:!0}})}),b(e,r),K()}function sl(e,t){X(t,!1);let n=0;_e(()=>{const r=document.querySelector("div");r&&br()&&r.addEventListener("touchstart",s=>{s.pageX>20&&s.pageX<window.innerWidth-20||s.preventDefault()}),document.addEventListener("touchstart",s=>{n=s.touches[0].clientX},{passive:!1}),document.addEventListener("touchmove",s=>{const o=s.touches[0].clientX-n;(n<50&&o>0||n>window.innerWidth-50&&o<0)&&s.preventDefault()},{passive:!1}),document.addEventListener("touchend",()=>{n=0}),document.addEventListener("touchcancel",()=>{n=0})}),hn(),K()}var ol=N('<!> <main><!> <div class="container svelte-nkbuiv"><!></div> <!></main>',1);function ll(e,t){X(t,!0);let n=I(null),r=!1;ra("main",()=>l(n));const s=()=>{document.activeElement instanceof HTMLInputElement||document.activeElement instanceof HTMLTextAreaElement?r=!0:r=!1};_e(()=>{s(),document.addEventListener("focusin",s),document.addEventListener("focusout",s),document.addEventListener("touchmove",function(u){r&&u.preventDefault()},{passive:!1})}),_e(async()=>{await new Promise(u=>setTimeout(u,100)),await Sa(),Ot.working=!0});let a=ae(()=>qe().length>0);var o=ol(),i=Q(o);sl(i,{});var c=D(i,2),f=S(c);ms(f,{});var d=D(f,2),h=S(d);al(h,{});var v=D(d,2);Ga(v,{}),xe(c,u=>E(n,u),()=>l(n)),J(()=>$(c,1,W(["main",{isAnimationOn:Ot.working,open:l(a)}]),"svelte-nkbuiv")),b(e,o),K()}Ba(ll,{target:document.getElementById("app")});
