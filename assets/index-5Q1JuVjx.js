const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/MobileDialog-CgK1zJvS.js","assets/MobileDialog-DemsJRVL.css","assets/DesktopDialog-BXyOgkFD.js","assets/DesktopDialog-D8zTl_PA.css","assets/MobileSidebar-DhkvDV19.js","assets/MobileSidebar-BNh7a5G6.css","assets/ImportData-AcDE-Eri.js","assets/ImportData-CZGzVRRc.css","assets/ExportData-B90HZLTw.js","assets/Switcher-22DV77uF.js","assets/Switcher-BrVng3kJ.css","assets/ExportData-SlkOBNhU.css","assets/ClearStore-DhS9w8fx.js","assets/ClearStore-DiVqV26R.css","assets/Signup-C0uZ0vqI.js","assets/api-7nXQQ8YG.js","assets/Signup-CnX7iJxK.css","assets/Signin-DLVuvV-k.js","assets/AccessKeys-BGc6NjzI.js","assets/AccessKeys-DF5NA1tk.css","assets/ConfirmAccessKey-BqUAdtEa.js","assets/Input-BHLgDoA6.js","assets/Input-B5Z7Girm.css","assets/ConfirmAccessKey-BEOXyioc.css","assets/NewNote-CvrQITLq.js","assets/NewNote-C8Q5vP2H.css"])))=>i.map(i=>d[i]);
var go=Object.defineProperty;var La=e=>{throw TypeError(e)};var mo=(e,t,n)=>t in e?go(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Mn=(e,t,n)=>mo(e,typeof t!="symbol"?t+"":t,n),Or=(e,t,n)=>t.has(e)||La("Cannot "+n);var V=(e,t,n)=>(Or(e,t,"read from private field"),n?n.call(e):t.get(e)),Pe=(e,t,n)=>t.has(e)?La("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Be=(e,t,n,r)=>(Or(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Tt=(e,t,n)=>(Or(e,t,"access private method"),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();const Ga=!1;var ra=Array.isArray,wo=Array.prototype.indexOf,aa=Array.from,Kr=Object.defineProperty,dn=Object.getOwnPropertyDescriptor,Ya=Object.getOwnPropertyDescriptors,yo=Object.prototype,bo=Array.prototype,sa=Object.getPrototypeOf,Aa=Object.isExtensible;const Ht=()=>{};function So(e){return typeof e?.then=="function"}function ko(e){return e()}function vr(e){for(var t=0;t<e.length;t++)e[t]()}function Eo(){var e,t,n=new Promise((r,s)=>{e=r,t=s});return{promise:n,resolve:e,reject:t}}function Po(e,t,n=!1){return e===void 0?n?t():t:e}const Ae=2,oa=4,yr=8,Yn=16,vt=32,Wt=64,Za=128,$e=256,hr=512,pe=1024,qe=2048,Nt=4096,Ye=8192,Gt=16384,ia=32768,Zn=65536,Ta=1<<17,Co=1<<18,la=1<<19,ca=1<<20,zr=1<<21,ua=1<<22,Rt=1<<23,Bt=Symbol("$state"),No=Symbol("legacy props"),xo=Symbol(""),fa=new class extends Error{constructor(){super(...arguments);Mn(this,"name","StaleReactionError");Mn(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function Lo(){throw new Error("https://svelte.dev/e/await_outside_boundary")}function Ao(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function To(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Do(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Io(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Mo(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Oo(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Ro(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function Bo(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Fo(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Uo(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}const br=1,Sr=2,Ja=4,jo=8,$o=16,Ho=1,qo=2,Ko=4,zo=8,Vo=16,Wo=1,Go=2,ue=Symbol(),Yo="http://www.w3.org/1999/xhtml";let Zo=!1;function Xa(e){return e===this.v}function Jo(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Qa(e){return!Jo(e,this.v)}let Pn=!1,Xo=!1;function Qo(){Pn=!0}let ee=null;function wn(e){ee=e}function G(e,t=!1,n){ee={p:ee,c:null,e:null,s:e,x:null,l:Pn&&!t?{s:null,u:null,$:[]}:null}}function Y(e){var t=ee,n=t.e;if(n!==null){t.e=null;for(var r of n)hs(r)}return e!==void 0&&(t.x=e),ee=t.p,e??{}}function Yt(){return!Pn||ee!==null&&ee.l===null}const ei=new WeakMap;function ti(e){var t=z;if(t===null)return K.f|=Rt,e;if((t.f&ia)===0){if((t.f&Za)===0)throw!t.parent&&e instanceof Error&&es(e),e;t.b.error(e)}else da(e,t)}function da(e,t){for(;t!==null;){if((t.f&Za)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e instanceof Error&&es(e),e}function es(e){const t=ei.get(e);t&&(Kr(e,"message",{value:t.message}),Kr(e,"stack",{value:t.stack}))}let jn=[],Vr=[];function ts(){var e=jn;jn=[],vr(e)}function ni(){var e=Vr;Vr=[],vr(e)}function kr(e){jn.length===0&&queueMicrotask(ts),jn.push(e)}function ri(){jn.length>0&&ts(),Vr.length>0&&ni()}function ai(){for(var e=z.b;e!==null&&!e.has_pending_snippet();)e=e.parent;return e===null&&Lo(),e}function Jn(e){var t=Ae|qe,n=K!==null&&(K.f&Ae)!==0?K:null;return z===null||n!==null&&(n.f&$e)!==0?t|=$e:z.f|=la,{ctx:ee,deps:null,effects:null,equals:Xa,f:t,fn:e,reactions:null,rv:0,v:ue,wv:0,parent:n??z,ac:null}}function si(e,t){let n=z;n===null&&To();var r=n.b,s=void 0,a=zt(ue),i=null,c=!K;return gi(()=>{try{var l=e()}catch(h){l=Promise.reject(h)}var u=()=>l;s=i?.then(u,u)??Promise.resolve(l),i=s;var f=W,v=r.pending;c&&(r.update_pending_count(1),v||f.increment());const d=(h,p=void 0)=>{i=null,v||f.activate(),p?p!==fa&&(a.f|=Rt,kt(a,p)):((a.f&Rt)!==0&&(a.f^=Rt),kt(a,h)),c&&(r.update_pending_count(-1),v||f.decrement()),as()};if(s.then(d,h=>d(null,h||"unknown")),f)return()=>{queueMicrotask(()=>f.neuter())}}),new Promise(l=>{function u(f){function v(){f===s?l(a):u(s)}f.then(v,v)}u(s)})}function T(e){const t=Jn(e);return ys(t),t}function Er(e){const t=Jn(e);return t.equals=Qa,t}function ns(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)ot(t[n])}}function oi(e){for(var t=e.parent;t!==null;){if((t.f&Ae)===0)return t;t=t.parent}return null}function va(e){var t,n=z;it(oi(e));try{ns(e),t=Es(e)}finally{it(n)}return t}function rs(e){var t=va(e);if(e.equals(t)||(e.v=t,e.wv=Ss()),!Jt)if(yn!==null)yn.set(e,e.v);else{var n=(bt||(e.f&$e)!==0)&&e.deps!==null?Nt:pe;Ce(e,n)}}function ii(e,t,n){const r=Yt()?Jn:Er;if(t.length===0){n(e.map(r));return}var s=W,a=z,i=li(),c=ai();Promise.all(t.map(l=>si(l))).then(l=>{s?.activate(),i();try{n([...e.map(r),...l])}catch(u){(a.f&Gt)===0&&da(u,a)}s?.deactivate(),as()}).catch(l=>{c.error(l)})}function li(){var e=z,t=K,n=ee;return function(){it(e),Ke(t),wn(n)}}function as(){it(null),Ke(null),wn(null)}const On=new Set;let W=null,cr=null,yn=null,Da=new Set,pr=[];function ss(){const e=pr.shift();pr.length>0&&queueMicrotask(ss),e()}let qt=[],Pr=null,Wr=!1,ur=!1;var pn,_n,wt,zn,Vn,Mt,gn,Ot,yt,mn,Wn,Gn,Ze,os,fr,Gr;const wr=class wr{constructor(){Pe(this,Ze);Mn(this,"current",new Map);Pe(this,pn,new Map);Pe(this,_n,new Set);Pe(this,wt,0);Pe(this,zn,null);Pe(this,Vn,!1);Pe(this,Mt,[]);Pe(this,gn,[]);Pe(this,Ot,[]);Pe(this,yt,[]);Pe(this,mn,[]);Pe(this,Wn,[]);Pe(this,Gn,[]);Mn(this,"skipped_effects",new Set)}process(t){qt=[],cr=null;var n=null;if(On.size>1){n=new Map,yn=new Map;for(const[a,i]of this.current)n.set(a,{v:a.v,wv:a.wv}),a.v=i;for(const a of On)if(a!==this)for(const[i,c]of V(a,pn))n.has(i)||(n.set(i,{v:i.v,wv:i.wv}),i.v=c)}for(const a of t)Tt(this,Ze,os).call(this,a);if(V(this,Mt).length===0&&V(this,wt)===0){Tt(this,Ze,Gr).call(this);var r=V(this,Ot),s=V(this,yt);Be(this,Ot,[]),Be(this,yt,[]),Be(this,mn,[]),cr=W,W=null,Ia(r),Ia(s),W===null?W=this:On.delete(this),V(this,zn)?.resolve()}else Tt(this,Ze,fr).call(this,V(this,Ot)),Tt(this,Ze,fr).call(this,V(this,yt)),Tt(this,Ze,fr).call(this,V(this,mn));if(n){for(const[a,{v:i,wv:c}]of n)a.wv<=c&&(a.v=i);yn=null}for(const a of V(this,Mt))Un(a);for(const a of V(this,gn))Un(a);Be(this,Mt,[]),Be(this,gn,[])}capture(t,n){V(this,pn).has(t)||V(this,pn).set(t,n),this.current.set(t,t.v)}activate(){W=this}deactivate(){W=null,cr=null;for(const t of Da)if(Da.delete(t),t(),W!==null)break}neuter(){Be(this,Vn,!0)}flush(){qt.length>0?ls():Tt(this,Ze,Gr).call(this),W===this&&(V(this,wt)===0&&On.delete(this),this.deactivate())}increment(){Be(this,wt,V(this,wt)+1)}decrement(){if(Be(this,wt,V(this,wt)-1),V(this,wt)===0){for(const t of V(this,Wn))Ce(t,qe),Kt(t);for(const t of V(this,Gn))Ce(t,Nt),Kt(t);Be(this,Ot,[]),Be(this,yt,[]),this.flush()}else this.deactivate()}add_callback(t){V(this,_n).add(t)}settled(){return(V(this,zn)??Be(this,zn,Eo())).promise}static ensure(){if(W===null){const t=W=new wr;On.add(W),ur||wr.enqueue(()=>{W===t&&t.flush()})}return W}static enqueue(t){pr.length===0&&queueMicrotask(ss),pr.unshift(t)}};pn=new WeakMap,_n=new WeakMap,wt=new WeakMap,zn=new WeakMap,Vn=new WeakMap,Mt=new WeakMap,gn=new WeakMap,Ot=new WeakMap,yt=new WeakMap,mn=new WeakMap,Wn=new WeakMap,Gn=new WeakMap,Ze=new WeakSet,os=function(t){t.f^=pe;for(var n=t.first;n!==null;){var r=n.f,s=(r&(vt|Wt))!==0,a=s&&(r&pe)!==0,i=a||(r&Ye)!==0||this.skipped_effects.has(n);if(!i&&n.fn!==null){if(s)n.f^=pe;else if((r&pe)===0)if((r&oa)!==0)V(this,yt).push(n);else if((r&ua)!==0){var c=n.b?.pending?V(this,gn):V(this,Mt);c.push(n)}else Nr(n)&&((n.f&Yn)!==0&&V(this,mn).push(n),Un(n));var l=n.first;if(l!==null){n=l;continue}}var u=n.parent;for(n=n.next;n===null&&u!==null;)n=u.next,u=u.parent}},fr=function(t){for(const n of t)((n.f&qe)!==0?V(this,Wn):V(this,Gn)).push(n),Ce(n,pe);t.length=0},Gr=function(){if(!V(this,Vn))for(const t of V(this,_n))t();V(this,_n).clear()};let $n=wr;function is(e){var t=ur;ur=!0;try{for(var n;;){if(ri(),qt.length===0&&(W?.flush(),qt.length===0))return Pr=null,n;ls()}}finally{ur=t}}function ls(){var e=hn;Wr=!0;try{var t=0;for(Oa(!0);qt.length>0;){var n=$n.ensure();if(t++>1e3){var r,s;ci()}n.process(qt),Ft.clear()}}finally{Wr=!1,Oa(e),Pr=null}}function ci(){try{Oo()}catch(e){da(e,Pr)}}function Ia(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if((r.f&(Gt|Ye))===0&&Nr(r)){var s=W?W.current.size:0;if(Un(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?gs(r):r.fn=null),W!==null&&W.current.size>s&&(r.f&ca)!==0)break}}for(;n<t;)Kt(e[n++])}}function Kt(e){for(var t=Pr=e;t.parent!==null;){t=t.parent;var n=t.f;if(Wr&&t===z&&(n&Yn)!==0)return;if((n&(Wt|vt))!==0){if((n&pe)===0)return;t.f^=pe}}qt.push(t)}const Ft=new Map;function zt(e,t){var n={f:0,v:e,reactions:null,equals:Xa,rv:0,wv:0};return n}function I(e,t){const n=zt(e);return ys(n),n}function Yr(e,t=!1,n=!0){var s;const r=zt(e);return t||(r.equals=Qa),Pn&&n&&ee!==null&&ee.l!==null&&((s=ee.l).s??(s.s=[])).push(r),r}function S(e,t,n=!1){K!==null&&(!at||(K.f&Ta)!==0)&&Yt()&&(K.f&(Ae|Yn|ua|Ta))!==0&&!ft?.includes(e)&&Uo();let r=n?se(t):t;return kt(e,r)}function kt(e,t){if(!e.equals(t)){var n=e.v;Jt?Ft.set(e,t):Ft.set(e,n),e.v=t;var r=$n.ensure();r.capture(e,n),(e.f&Ae)!==0&&((e.f&qe)!==0&&va(e),Ce(e,(e.f&$e)===0?pe:Nt)),e.wv=Ss(),cs(e,qe),Yt()&&z!==null&&(z.f&pe)!==0&&(z.f&(vt|Wt))===0&&(Ue===null?yi([e]):Ue.push(e))}return t}function Rr(e){S(e,e.v+1)}function cs(e,t){var n=e.reactions;if(n!==null)for(var r=Yt(),s=n.length,a=0;a<s;a++){var i=n[a],c=i.f;if(!(!r&&i===z)){var l=(c&qe)===0;l&&Ce(i,t),(c&Ae)!==0?cs(i,Nt):l&&Kt(i)}}}function se(e){if(typeof e!="object"||e===null||Bt in e)return e;const t=sa(e);if(t!==yo&&t!==bo)return e;var n=new Map,r=ra(e),s=I(0),a=jt,i=c=>{if(jt===a)return c();var l=K,u=jt;Ke(null),Ba(a);var f=c();return Ke(l),Ba(u),f};return r&&n.set("length",I(e.length)),new Proxy(e,{defineProperty(c,l,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&Bo();var f=n.get(l);return f===void 0?f=i(()=>{var v=I(u.value);return n.set(l,v),v}):S(f,u.value,!0),!0},deleteProperty(c,l){var u=n.get(l);if(u===void 0){if(l in c){const f=i(()=>I(ue));n.set(l,f),Rr(s)}}else S(u,ue),Rr(s);return!0},get(c,l,u){if(l===Bt)return e;var f=n.get(l),v=l in c;if(f===void 0&&(!v||dn(c,l)?.writable)&&(f=i(()=>{var h=se(v?c[l]:ue),p=I(h);return p}),n.set(l,f)),f!==void 0){var d=o(f);return d===ue?void 0:d}return Reflect.get(c,l,u)},getOwnPropertyDescriptor(c,l){var u=Reflect.getOwnPropertyDescriptor(c,l);if(u&&"value"in u){var f=n.get(l);f&&(u.value=o(f))}else if(u===void 0){var v=n.get(l),d=v?.v;if(v!==void 0&&d!==ue)return{enumerable:!0,configurable:!0,value:d,writable:!0}}return u},has(c,l){if(l===Bt)return!0;var u=n.get(l),f=u!==void 0&&u.v!==ue||Reflect.has(c,l);if(u!==void 0||z!==null&&(!f||dn(c,l)?.writable)){u===void 0&&(u=i(()=>{var d=f?se(c[l]):ue,h=I(d);return h}),n.set(l,u));var v=o(u);if(v===ue)return!1}return f},set(c,l,u,f){var v=n.get(l),d=l in c;if(r&&l==="length")for(var h=u;h<v.v;h+=1){var p=n.get(h+"");p!==void 0?S(p,ue):h in c&&(p=i(()=>I(ue)),n.set(h+"",p))}if(v===void 0)(!d||dn(c,l)?.writable)&&(v=i(()=>I(void 0)),S(v,se(u)),n.set(l,v));else{d=v.v!==ue;var w=i(()=>se(u));S(v,w)}var b=Reflect.getOwnPropertyDescriptor(c,l);if(b?.set&&b.set.call(f,u),!d){if(r&&typeof l=="string"){var g=n.get("length"),m=Number(l);Number.isInteger(m)&&m>=g.v&&S(g,m+1)}Rr(s)}return!0},ownKeys(c){o(s);var l=Reflect.ownKeys(c).filter(v=>{var d=n.get(v);return d===void 0||d.v!==ue});for(var[u,f]of n)f.v!==ue&&!(u in c)&&l.push(u);return l},setPrototypeOf(){Fo()}})}var Ma,us,fs,ds;function ui(){if(Ma===void 0){Ma=window,us=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;fs=dn(t,"firstChild").get,ds=dn(t,"nextSibling").get,Aa(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Aa(n)&&(n.__t=void 0)}}function Zt(e=""){return document.createTextNode(e)}function bn(e){return fs.call(e)}function Cr(e){return ds.call(e)}function y(e,t){return bn(e)}function x(e,t){{var n=bn(e);return n instanceof Comment&&n.data===""?Cr(n):n}}function L(e,t=1,n=!1){let r=e;for(;t--;)r=Cr(r);return r}function fi(e){e.textContent=""}function ha(){return!1}function vs(e){z===null&&K===null&&Mo(),K!==null&&(K.f&$e)!==0&&z===null&&Io(),Jt&&Do()}function di(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function lt(e,t,n,r=!0){var s=z;s!==null&&(s.f&Ye)!==0&&(e|=Ye);var a={ctx:ee,deps:null,nodes_start:null,nodes_end:null,f:e|qe,first:null,fn:t,last:null,next:null,parent:s,b:s&&s.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{Un(a),a.f|=ia}catch(l){throw ot(a),l}else t!==null&&Kt(a);var i=n&&a.deps===null&&a.first===null&&a.nodes_start===null&&a.teardown===null&&(a.f&la)===0;if(!i&&r&&(s!==null&&di(a,s),K!==null&&(K.f&Ae)!==0&&(e&Wt)===0)){var c=K;(c.effects??(c.effects=[])).push(a)}return a}function vi(e){const t=lt(yr,null,!1);return Ce(t,pe),t.teardown=e,t}function je(e){vs();var t=z.f,n=!K&&(t&vt)!==0&&(t&ia)===0;if(n){var r=ee;(r.e??(r.e=[])).push(e)}else return hs(e)}function hs(e){return lt(oa|ca,e,!1)}function hi(e){return vs(),lt(yr|ca,e,!0)}function pi(e){$n.ensure();const t=lt(Wt,e,!0);return(n={})=>new Promise(r=>{n.outro?Ut(t,()=>{ot(t),r(void 0)}):(ot(t),r(void 0))})}function _i(e){return lt(oa,e,!1)}function gi(e){return lt(ua|la,e,!0)}function pa(e,t=0){return lt(yr|t,e,!0)}function te(e,t=[],n=[]){ii(t,n,r=>{lt(yr,()=>e(...r.map(o)),!0)})}function Xn(e,t=0){var n=lt(Yn|t,e,!0);return n}function st(e,t=!0){return lt(vt,e,!0,t)}function ps(e){var t=e.teardown;if(t!==null){const n=Jt,r=K;Ra(!0),Ke(null);try{t.call(null)}finally{Ra(n),Ke(r)}}}function _s(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){n.ac?.abort(fa);var r=n.next;(n.f&Wt)!==0?n.parent=null:ot(n,t),n=r}}function mi(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&vt)===0&&ot(t),t=n}}function ot(e,t=!0){var n=!1;(t||(e.f&Co)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(wi(e.nodes_start,e.nodes_end),n=!0),_s(e,t&&!n),_r(e,0),Ce(e,Gt);var r=e.transitions;if(r!==null)for(const a of r)a.stop();ps(e);var s=e.parent;s!==null&&s.first!==null&&gs(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function wi(e,t){for(;e!==null;){var n=e===t?null:Cr(e);e.remove(),e=n}}function gs(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function Ut(e,t){var n=[];_a(e,n,!0),ms(n,()=>{ot(e),t&&t()})}function ms(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var s of e)s.out(r)}else t()}function _a(e,t,n){if((e.f&Ye)===0){if(e.f^=Ye,e.transitions!==null)for(const i of e.transitions)(i.is_global||n)&&t.push(i);for(var r=e.first;r!==null;){var s=r.next,a=(r.f&Zn)!==0||(r.f&vt)!==0;_a(r,t,a?n:!1),r=s}}}function vn(e){ws(e,!0)}function ws(e,t){if((e.f&Ye)!==0){e.f^=Ye,(e.f&pe)===0&&(Ce(e,qe),Kt(e));for(var n=e.first;n!==null;){var r=n.next,s=(n.f&Zn)!==0||(n.f&vt)!==0;ws(n,s?t:!1),n=r}if(e.transitions!==null)for(const a of e.transitions)(a.is_global||t)&&a.in()}}let hn=!1;function Oa(e){hn=e}let Jt=!1;function Ra(e){Jt=e}let K=null,at=!1;function Ke(e){K=e}let z=null;function it(e){z=e}let ft=null;function ys(e){K!==null&&(ft===null?ft=[e]:ft.push(e))}let _e=null,Le=0,Ue=null;function yi(e){Ue=e}let bs=1,Hn=0,jt=Hn;function Ba(e){jt=e}let bt=!1;function Ss(){return++bs}function Nr(e){var t=e.f;if((t&qe)!==0)return!0;if((t&Nt)!==0){var n=e.deps,r=(t&$e)!==0;if(n!==null){var s,a,i=(t&hr)!==0,c=r&&z!==null&&!bt,l=n.length;if((i||c)&&(z===null||(z.f&Gt)===0)){var u=e,f=u.parent;for(s=0;s<l;s++)a=n[s],(i||!a?.reactions?.includes(u))&&(a.reactions??(a.reactions=[])).push(u);i&&(u.f^=hr),c&&f!==null&&(f.f&$e)===0&&(u.f^=$e)}for(s=0;s<l;s++)if(a=n[s],Nr(a)&&rs(a),a.wv>e.wv)return!0}(!r||z!==null&&!bt)&&Ce(e,pe)}return!1}function ks(e,t,n=!0){var r=e.reactions;if(r!==null&&!ft?.includes(e))for(var s=0;s<r.length;s++){var a=r[s];(a.f&Ae)!==0?ks(a,t,!1):t===a&&(n?Ce(a,qe):(a.f&pe)!==0&&Ce(a,Nt),Kt(a))}}function Es(e){var p;var t=_e,n=Le,r=Ue,s=K,a=bt,i=ft,c=ee,l=at,u=jt,f=e.f;_e=null,Le=0,Ue=null,bt=(f&$e)!==0&&(at||!hn||K===null),K=(f&(vt|Wt))===0?e:null,ft=null,wn(e.ctx),at=!1,jt=++Hn,e.ac!==null&&(e.ac.abort(fa),e.ac=null);try{e.f|=zr;var v=(0,e.fn)(),d=e.deps;if(_e!==null){var h;if(_r(e,Le),d!==null&&Le>0)for(d.length=Le+_e.length,h=0;h<_e.length;h++)d[Le+h]=_e[h];else e.deps=d=_e;if(!bt||(f&Ae)!==0&&e.reactions!==null)for(h=Le;h<d.length;h++)((p=d[h]).reactions??(p.reactions=[])).push(e)}else d!==null&&Le<d.length&&(_r(e,Le),d.length=Le);if(Yt()&&Ue!==null&&!at&&d!==null&&(e.f&(Ae|Nt|qe))===0)for(h=0;h<Ue.length;h++)ks(Ue[h],e);return s!==null&&s!==e&&(Hn++,Ue!==null&&(r===null?r=Ue:r.push(...Ue))),(e.f&Rt)!==0&&(e.f^=Rt),v}catch(w){return ti(w)}finally{e.f^=zr,_e=t,Le=n,Ue=r,K=s,bt=a,ft=i,wn(c),at=l,jt=u}}function bi(e,t){let n=t.reactions;if(n!==null){var r=wo.call(n,e);if(r!==-1){var s=n.length-1;s===0?n=t.reactions=null:(n[r]=n[s],n.pop())}}n===null&&(t.f&Ae)!==0&&(_e===null||!_e.includes(t))&&(Ce(t,Nt),(t.f&($e|hr))===0&&(t.f^=hr),ns(t),_r(t,0))}function _r(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)bi(e,n[r])}function Un(e){var t=e.f;if((t&Gt)===0){Ce(e,pe);var n=z,r=hn;z=e,hn=!0;try{(t&Yn)!==0?mi(e):_s(e),ps(e);var s=Es(e);e.teardown=typeof s=="function"?s:null,e.wv=bs;var a;Ga&&Xo&&(e.f&qe)!==0&&e.deps}finally{hn=r,z=n}}}async function Si(){await Promise.resolve(),is()}function o(e){var t=e.f,n=(t&Ae)!==0;if(K!==null&&!at){var r=z!==null&&(z.f&Gt)!==0;if(!r&&!ft?.includes(e)){var s=K.deps;if((K.f&zr)!==0)e.rv<Hn&&(e.rv=Hn,_e===null&&s!==null&&s[Le]===e?Le++:_e===null?_e=[e]:(!bt||!_e.includes(e))&&_e.push(e));else{(K.deps??(K.deps=[])).push(e);var a=e.reactions;a===null?e.reactions=[K]:a.includes(K)||a.push(K)}}}else if(n&&e.deps===null&&e.effects===null){var i=e,c=i.parent;c!==null&&(c.f&$e)===0&&(i.f^=$e)}if(Jt){if(Ft.has(e))return Ft.get(e);if(n){i=e;var l=i.v;return((i.f&pe)===0&&i.reactions!==null||Ps(i))&&(l=va(i)),Ft.set(i,l),l}}else if(n){if(i=e,yn?.has(i))return yn.get(i);Nr(i)&&rs(i)}if((e.f&Rt)!==0)throw e.v;return e.v}function Ps(e){if(e.v===ue)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(Ft.has(t)||(t.f&Ae)!==0&&Ps(t))return!0;return!1}function Vt(e){var t=at;try{return at=!0,e()}finally{at=t}}const ki=-7169;function Ce(e,t){e.f=e.f&ki|t}function Ei(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Bt in e)Zr(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&Bt in n&&Zr(n)}}}function Zr(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{Zr(e[r],t)}catch{}const n=sa(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=Ya(n);for(let s in r){const a=r[s].get;if(a)try{a.call(e)}catch{}}}}}const Pi=["touchstart","touchmove"];function Ci(e){return Pi.includes(e)}let Fa=!1;function Ni(){Fa||(Fa=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function Cs(e){var t=K,n=z;Ke(null),it(null);try{return e()}finally{Ke(t),it(n)}}function xi(e,t,n,r=n){e.addEventListener(t,()=>Cs(n));const s=e.__on_r;s?e.__on_r=()=>{s(),r(!0)}:e.__on_r=()=>r(!0),Ni()}const Ns=new Set,Jr=new Set;function Li(e,t,n,r={}){function s(a){if(r.capture||Bn.call(t,a),!a.cancelBubble)return Cs(()=>n?.call(this,a))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?kr(()=>{t.addEventListener(e,s,r)}):t.addEventListener(e,s,r),s}function xs(e,t,n,r,s){var a={capture:r,passive:s},i=Li(e,t,n,a);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&vi(()=>{t.removeEventListener(e,i,a)})}function De(e){for(var t=0;t<e.length;t++)Ns.add(e[t]);for(var n of Jr)n(e)}function Bn(e){var t=this,n=t.ownerDocument,r=e.type,s=e.composedPath?.()||[],a=s[0]||e.target,i=0,c=e.__root;if(c){var l=s.indexOf(c);if(l!==-1&&(t===document||t===window)){e.__root=t;return}var u=s.indexOf(t);if(u===-1)return;l<=u&&(i=l)}if(a=s[i]||e.target,a!==t){Kr(e,"currentTarget",{configurable:!0,get(){return a||n}});var f=K,v=z;Ke(null),it(null);try{for(var d,h=[];a!==null;){var p=a.assignedSlot||a.parentNode||a.host||null;try{var w=a["__"+r];if(w!=null&&(!a.disabled||e.target===a))if(ra(w)){var[b,...g]=w;b.apply(a,[e,...g])}else w.call(a,e)}catch(m){d?h.push(m):d=m}if(e.cancelBubble||p===t||p===null)break;a=p}if(d){for(let m of h)queueMicrotask(()=>{throw m});throw d}}finally{e.__root=t,delete e.currentTarget,Ke(f),it(v)}}}function Ls(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function qn(e,t){var n=z;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function R(e,t){var n=(t&Wo)!==0,r=(t&Go)!==0,s,a=!e.startsWith("<!>");return()=>{s===void 0&&(s=Ls(a?e:"<!>"+e),n||(s=bn(s)));var i=r||us?document.importNode(s,!0):s.cloneNode(!0);if(n){var c=bn(i),l=i.lastChild;qn(c,l)}else qn(i,i);return i}}function Ai(e,t,n="svg"){var r=!e.startsWith("<!>"),s=`<${n}>${r?e:"<!>"+e}</${n}>`,a;return()=>{if(!a){var i=Ls(s),c=bn(i);a=bn(c)}var l=a.cloneNode(!0);return qn(l,l),l}}function Ti(e,t){return Ai(e,t,"svg")}function Je(e=""){{var t=Zt(e+"");return qn(t,t),t}}function M(){var e=document.createDocumentFragment(),t=document.createComment(""),n=Zt();return e.append(t,n),qn(t,n),e}function _(e,t){e!==null&&e.before(t)}function ku(){var e;return(e=window.__svelte??(window.__svelte={})).uid??(e.uid=1),`c${window.__svelte.uid++}`}function xr(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function Di(e,t){return Ii(e,t)}const cn=new Map;function Ii(e,{target:t,anchor:n,props:r={},events:s,context:a,intro:i=!0}){ui();var c=new Set,l=v=>{for(var d=0;d<v.length;d++){var h=v[d];if(!c.has(h)){c.add(h);var p=Ci(h);t.addEventListener(h,Bn,{passive:p});var w=cn.get(h);w===void 0?(document.addEventListener(h,Bn,{passive:p}),cn.set(h,1)):cn.set(h,w+1)}}};l(aa(Ns)),Jr.add(l);var u=void 0,f=pi(()=>{var v=n??t.appendChild(Zt());return st(()=>{if(a){G({});var d=ee;d.c=a}s&&(r.$$events=s),u=e(v,r)||{},a&&Y()}),()=>{for(var d of c){t.removeEventListener(d,Bn);var h=cn.get(d);--h===0?(document.removeEventListener(d,Bn),cn.delete(d)):cn.set(d,h)}Jr.delete(l),v!==n&&v.parentNode?.removeChild(v)}});return Mi.set(u,f),u}let Mi=new WeakMap;const Br=0,sr=1,Fr=2;function Ve(e,t,n,r,s){var a=e,i=Yt(),c=ee,l=ue,u,f,v,d=i?zt(void 0):Yr(void 0,!1,!1),h=i?zt(void 0):Yr(void 0,!1,!1),p=!1;function w(g,m){p=!0,m&&(it(b),Ke(b),wn(c));try{g===Br&&n&&(u?vn(u):u=st(()=>n(a))),g===sr&&r&&(f?vn(f):f=st(()=>r(a,d))),g===Fr&&s&&(v?vn(v):v=st(()=>s(a,h))),g!==Br&&u&&Ut(u,()=>u=null),g!==sr&&f&&Ut(f,()=>f=null),g!==Fr&&v&&Ut(v,()=>v=null)}finally{m&&(wn(null),Ke(null),it(null),is())}}var b=Xn(()=>{if(l!==(l=t())){if(So(l)){var g=l;p=!1,g.then(m=>{g===l&&(kt(d,m),w(sr,!0))},m=>{if(g===l&&(kt(h,m),w(Fr,!0),!s))throw h.v}),kr(()=>{p||w(Br,!0)})}else kt(d,l),w(sr,!1);return()=>l=ue}})}function q(e,t,n=!1){var r=e,s=null,a=null,i=ue,c=n?Zn:0,l=!1;const u=(h,p=!0)=>{l=!0,d(p,h)};var f=null;function v(){f!==null&&(f.lastChild.remove(),r.before(f),f=null);var h=i?s:a,p=i?a:s;h&&vn(h),p&&Ut(p,()=>{i?a=null:s=null})}const d=(h,p)=>{if(i!==(i=h)){var w=ha(),b=r;if(w&&(f=document.createDocumentFragment(),f.append(b=Zt())),i?s??(s=p&&st(()=>p(b))):a??(a=p&&st(()=>p(b))),w){var g=W,m=i?s:a,k=i?a:s;m&&g.skipped_effects.delete(m),k&&g.skipped_effects.add(k),g.add_callback(v)}else v()}};Xn(()=>{l=!1,t(u),l||d(null,null)},c)}function he(e,t){pa(()=>{var n=t();for(var r in n){var s=n[r];s?e.style.setProperty(r,s):e.style.removeProperty(r)}})}function Oi(e,t){return t}function Ri(e,t,n){for(var r=e.items,s=[],a=t.length,i=0;i<a;i++)_a(t[i].e,s,!0);var c=a>0&&s.length===0&&n!==null;if(c){var l=n.parentNode;fi(l),l.append(n),r.clear(),rt(e,t[0].prev,t[a-1].next)}ms(s,()=>{for(var u=0;u<a;u++){var f=t[u];c||(r.delete(f.k),rt(e,f.prev,f.next)),ot(f.e,!c)}})}function fn(e,t,n,r,s,a=null){var i=e,c={flags:t,items:new Map,first:null},l=(t&Ja)!==0;if(l){var u=e;i=u.appendChild(Zt())}var f=null,v=!1,d=new Map,h=Er(()=>{var g=n();return ra(g)?g:g==null?[]:aa(g)}),p,w;function b(){Bi(w,p,c,d,i,s,t,r,n),a!==null&&(p.length===0?f?vn(f):f=st(()=>a(i)):f!==null&&Ut(f,()=>{f=null}))}Xn(()=>{w??(w=z),p=o(h);var g=p.length;if(!(v&&g===0)){v=g===0;var m,k,A,D;if(ha()){var E=new Set,N=W;for(k=0;k<g;k+=1){A=p[k],D=r(A,k);var U=c.items.get(D)??d.get(D);U?(t&(br|Sr))!==0&&As(U,A,k,t):(m=Ts(null,c,null,null,A,D,k,s,t,n,!0),d.set(D,m)),E.add(D)}for(const[H,X]of c.items)E.has(H)||N.skipped_effects.add(X.e);N.add_callback(b)}else b();o(h)}})}function Bi(e,t,n,r,s,a,i,c,l){var u=(i&jo)!==0,f=(i&(br|Sr))!==0,v=t.length,d=n.items,h=n.first,p=h,w,b=null,g,m=[],k=[],A,D,E,N;if(u)for(N=0;N<v;N+=1)A=t[N],D=c(A,N),E=d.get(D),E!==void 0&&(E.a?.measure(),(g??(g=new Set)).add(E));for(N=0;N<v;N+=1){if(A=t[N],D=c(A,N),E=d.get(D),E===void 0){var U=r.get(D);if(U!==void 0){r.delete(D),d.set(D,U);var H=b?b.next:p;rt(n,b,U),rt(n,U,H),Ur(U,H,s),b=U}else{var X=p?p.e.nodes_start:s;b=Ts(X,n,b,b===null?n.first:b.next,A,D,N,a,i,l)}d.set(D,b),m=[],k=[],p=b.next;continue}if(f&&As(E,A,N,i),(E.e.f&Ye)!==0&&(vn(E.e),u&&(E.a?.unfix(),(g??(g=new Set)).delete(E))),E!==p){if(w!==void 0&&w.has(E)){if(m.length<k.length){var j=k[0],O;b=j.prev;var Ne=m[0],ye=m[m.length-1];for(O=0;O<m.length;O+=1)Ur(m[O],j,s);for(O=0;O<k.length;O+=1)w.delete(k[O]);rt(n,Ne.prev,ye.next),rt(n,b,Ne),rt(n,ye,j),p=j,b=ye,N-=1,m=[],k=[]}else w.delete(E),Ur(E,p,s),rt(n,E.prev,E.next),rt(n,E,b===null?n.first:b.next),rt(n,b,E),b=E;continue}for(m=[],k=[];p!==null&&p.k!==D;)(p.e.f&Ye)===0&&(w??(w=new Set)).add(p),k.push(p),p=p.next;if(p===null)continue;E=p}m.push(E),b=E,p=E.next}if(p!==null||w!==void 0){for(var ne=w===void 0?[]:aa(w);p!==null;)(p.e.f&Ye)===0&&ne.push(p),p=p.next;var oe=ne.length;if(oe>0){var be=(i&Ja)!==0&&v===0?s:null;if(u){for(N=0;N<oe;N+=1)ne[N].a?.measure();for(N=0;N<oe;N+=1)ne[N].a?.fix()}Ri(n,ne,be)}}u&&kr(()=>{if(g!==void 0)for(E of g)E.a?.apply()}),e.first=n.first&&n.first.e,e.last=b&&b.e;for(var Ie of r.values())ot(Ie.e);r.clear()}function As(e,t,n,r){(r&br)!==0&&kt(e.v,t),(r&Sr)!==0?kt(e.i,n):e.i=n}function Ts(e,t,n,r,s,a,i,c,l,u,f){var v=(l&br)!==0,d=(l&$o)===0,h=v?d?Yr(s,!1,!1):zt(s):s,p=(l&Sr)===0?i:zt(i),w={i:p,v:h,k:a,a:null,e:null,prev:n,next:r};try{if(e===null){var b=document.createDocumentFragment();b.append(e=Zt())}return w.e=st(()=>c(e,h,p,u),Zo),w.e.prev=n&&n.e,w.e.next=r&&r.e,n===null?f||(t.first=w):(n.next=w,n.e.next=w.e),r!==null&&(r.prev=w,r.e.prev=w.e),w}finally{}}function Ur(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,s=t?t.e.nodes_start:n,a=e.e.nodes_start;a!==null&&a!==r;){var i=Cr(a);s.before(a),a=i}}function rt(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function Et(e,t,...n){var r=e,s=Ht,a;Xn(()=>{s!==(s=t())&&(a&&(ot(a),a=null),a=st(()=>s(r,...n)))},Zn)}function We(e,t,n){var r=e,s,a,i=null,c=null;function l(){a&&(Ut(a),a=null),i&&(i.lastChild.remove(),r.before(i),i=null),a=c,c=null}Xn(()=>{if(s!==(s=t())){var u=ha();if(s){var f=r;u&&(i=document.createDocumentFragment(),i.append(f=Zt())),c=st(()=>n(f,s))}u?W.add_callback(l):l()}},Zn)}function Ds(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=Ds(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Fi(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=Ds(e))&&(r&&(r+=" "),r+=t);return r}function Z(e){return typeof e=="object"?Fi(e):e??""}const Ua=[...` 	
\r\f \v\uFEFF`];function Ui(e,t,n){var r=e==null?"":""+e;if(t&&(r=r?r+" "+t:t),n){for(var s in n)if(n[s])r=r?r+" "+s:s;else if(r.length)for(var a=s.length,i=0;(i=r.indexOf(s,i))>=0;){var c=i+a;(i===0||Ua.includes(r[i-1]))&&(c===r.length||Ua.includes(r[c]))?r=(i===0?"":r.substring(0,i))+r.substring(c+1):i=c}}return r===""?null:r}function ji(e,t){return e==null?null:String(e)}function J(e,t,n,r,s,a){var i=e.__className;if(i!==n||i===void 0){var c=Ui(n,r,a);c==null?e.removeAttribute("class"):e.className=c,e.__className=n}else if(a&&s!==a)for(var l in a){var u=!!a[l];(s==null||u!==!!s[l])&&e.classList.toggle(l,u)}return a}function gr(e,t,n,r){var s=e.__style;if(s!==t){var a=ji(t);a==null?e.removeAttribute("style"):e.style.cssText=a,e.__style=t}return r}const $i=Symbol("is custom element"),Hi=Symbol("is html");function jr(e,t){var n=ga(e);n.value===(n.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function dr(e,t){var n=ga(e);n.checked!==(n.checked=t??void 0)&&(e.checked=t)}function ge(e,t,n,r){var s=ga(e);s[t]!==(s[t]=n)&&(t==="loading"&&(e[xo]=n),n==null?e.removeAttribute(t):typeof n!="string"&&qi(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function ga(e){return e.__attributes??(e.__attributes={[$i]:e.nodeName.includes("-"),[Hi]:e.namespaceURI===Yo})}var ja=new Map;function qi(e){var t=ja.get(e.nodeName);if(t)return t;ja.set(e.nodeName,t=[]);for(var n,r=e,s=Element.prototype;s!==r;){n=Ya(r);for(var a in n)n[a].set&&t.push(a);r=sa(r)}return t}function Ki(e,t,n=t){var r=Yt(),s=new WeakSet;xi(e,"input",a=>{var i=a?e.defaultValue:e.value;if(i=$r(e)?Hr(i):i,n(i),W!==null&&s.add(W),r&&i!==(i=t())){var c=e.selectionStart,l=e.selectionEnd;e.value=i??"",l!==null&&(e.selectionStart=c,e.selectionEnd=Math.min(l,e.value.length))}}),Vt(t)==null&&e.value&&(n($r(e)?Hr(e.value):e.value),W!==null&&s.add(W)),pa(()=>{var a=t();if(e===document.activeElement){var i=cr??W;if(s.has(i))return}$r(e)&&a===Hr(e.value)||e.type==="date"&&!a&&!e.value||a!==e.value&&(e.value=a??"")})}function $r(e){var t=e.type;return t==="number"||t==="range"}function Hr(e){return e===""?null:+e}function $a(e,t){return e===t||e?.[Bt]===t}function Pt(e={},t,n,r){return _i(()=>{var s,a;return pa(()=>{s=a,a=[],Vt(()=>{e!==n(...a)&&(t(e,...a),s&&$a(n(...s),e)&&t(null,...s))})}),()=>{kr(()=>{a&&$a(n(...a),e)&&t(null,...a)})}}),e}function Cn(e=!1){const t=ee,n=t.l.u;if(!n)return;let r=()=>Ei(t.s);if(e){let s=0,a={};const i=Jn(()=>{let c=!1;const l=t.s;for(const u in l)l[u]!==a[u]&&(a[u]=l[u],c=!0);return c&&s++,s});r=()=>o(i)}n.b.length&&hi(()=>{Ha(t,r),vr(n.b)}),je(()=>{const s=Vt(()=>n.m.map(ko));return()=>{for(const a of s)typeof a=="function"&&a()}}),n.a.length&&je(()=>{Ha(t,r),vr(n.a)})}function Ha(e,t){if(e.l.s)for(const n of e.l.s)o(n);t()}let or=!1;function zi(e){var t=or;try{return or=!1,[e(),or]}finally{or=t}}function me(e,t,n,r){var s=!Pn||(n&qo)!==0,a=(n&zo)!==0,i=(n&Vo)!==0,c=r,l=!0,u=()=>(l&&(l=!1,c=i?Vt(r):r),c),f;if(a){var v=Bt in e||No in e;f=dn(e,t)?.set??(v&&t in e?k=>e[t]=k:void 0)}var d,h=!1;a?[d,h]=zi(()=>e[t]):d=e[t],d===void 0&&r!==void 0&&(d=u(),f&&(s&&Ro(),f(d)));var p;if(s?p=()=>{var k=e[t];return k===void 0?u():(l=!0,k)}:p=()=>{var k=e[t];return k!==void 0&&(c=void 0),k===void 0?c:k},s&&(n&Ko)===0)return p;if(f){var w=e.$$legacy;return function(k,A){return arguments.length>0?((!s||!A||w||h)&&f(A?p():k),k):p()}}var b=!1,g=((n&Ho)!==0?Jn:Er)(()=>(b=!1,p()));a&&o(g);var m=z;return function(k,A){if(arguments.length>0){const D=A?o(g):s&&a?se(k):k;return S(g,D),b=!0,c!==void 0&&(c=D),k}return Jt&&b||(m.f&Gt)!==0?g.v:o(g)}}function we(e){ee===null&&Ao(),Pn&&ee.l!==null?Vi(ee).m.push(e):je(()=>{const t=Vt(e);if(typeof t=="function")return t})}function Vi(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const Wi="5";var Wa;typeof window<"u"&&((Wa=window.__svelte??(window.__svelte={})).v??(Wa.v=new Set)).add(Wi);let It=I(""),un=I(null);function Gi(e){S(It,""),setTimeout(()=>{S(It,e,!0)},16)}var Yi=R('<div class="notification svelte-1a2zucn"> </div>');function Zi(e,t){G(t,!0),je(()=>{o(It),o(It)&&(o(un)?.getBoundingClientRect(),o(un)?.style.setProperty("opacity","1"));const a=setTimeout(()=>{o(un)?.style.removeProperty("opacity")},800),i=setTimeout(()=>{S(It,""),o(un)?.style.removeProperty("opacity")},1200);return()=>{clearTimeout(a),clearTimeout(i)}});var n=M(),r=x(n);{var s=a=>{var i=Yi(),c=y(i);Pt(i,l=>S(un,l),()=>o(un)),te(()=>xr(c,o(It))),_(a,i)};q(r,a=>{o(It)&&a(s)})}_(e,n),Y()}Qo();var Ji=R('<span class="vh svelte-14jjkpd"><!></span>');function Kn(e,t){var n=Ji(),r=y(n);Et(r,()=>t.children),_(e,n)}var Xi=Ti('<svg class="svelte-gv09tg"><use></use></svg>');function ve(e,t){let n=me(t,"name",8,"");var r=Xi(),s=y(r);te(()=>ge(s,"href",`#icon-${n()??""}`)),_(e,r)}const Is=(e,t)=>{if(!t)return e;if(t.type==="closed")return{type:"closed"};switch(e.type){case"opened":return t.type==="close"?{type:"closing"}:t.type==="swipe"?{type:"openSwiping"}:e;case"closed":return t.type==="open"?{type:"opening"}:t.type==="swipe"?{type:"closeSwiping"}:e;case"openSwiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"closeSwiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"opening":return t.type==="opened"?{type:"opened"}:e;default:return e}};let Xr=I(se(Is({type:"closed"})));const Ms=e=>{S(Xr,Is(o(Xr),e),!0)},Qi=()=>o(Xr),el=()=>{Ms({type:"open"})},tl=()=>{Ms({type:"close"})},nl=()=>{const e=Qi().type;e==="closed"?el():e==="opened"&&tl()};var rl=R('<button class="buttonMenu svelte-hxzs42"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>');function Os(e,t){G(t,!1),Cn();var n=rl();n.__click=[nl];var r=y(n);he(r,()=>({"--size":"28px"})),ve(r.lastChild,{name:"sidebarMenu"});var s=L(r,2);Kn(s,{children:(a,i)=>{var c=Je("Menu");_(a,c)}}),_(e,n),Y()}De(["click"]);var al=(e,t)=>t.onChange?.(e?.target?.value||""),sl=R('<input class="svelte-6l2oy0"/>');function Qr(e,t){G(t,!0);let n=me(t,"value",15,"");var r=sl();r.__input=[al,t],te(()=>ge(r,"placeholder",t.placeholder)),xs("focus",r,function(...s){t.onFocus?.apply(this,s)}),Ki(r,n),_(e,r),Y()}De(["input"]);const P=se({historyStack:[],pathname:window.location.pathname,search:window.location.search,historyLength:0});let Rs=I(se(new URLSearchParams(P.search).get("feedOrder")||"newest"));const Bs=()=>o(Rs),ol=e=>{S(Rs,e,!0);const t=new URLSearchParams(P.search);e==="newest"?t.delete("feedOrder"):t.set("feedOrder",e),dt(`${P.pathname}${t.size>0?`?${t.toString()}`:""}`)};let Fs=I(se(new URLSearchParams(P.search).get("search")||""));const Us=()=>o(Fs),il=e=>{S(Fs,e,!0);const t=new URLSearchParams(P.search);e===""?t.delete("search"):t.set("search",e),dt(`${P.pathname}${t.size>0?`?${t.toString()}`:""}`)},js=()=>new URLSearchParams(P.search).get("selectedTags")?.split(",")||[];let ir=js();const ll=()=>{const e=js();return e.join(",")===ir.join(",")||(ir=e),ir},cl=()=>{P.pathname=document.location.pathname,P.search=document.location.search,P.historyLength=Math.max(0,P.historyLength-=1)};window.addEventListener("popstate",cl);const dt=e=>{const[t,n]=e.split("?");P.pathname=t,P.search=n?`?${n}`:"",P.historyLength+=1,P.historyStack.push(window.location.href),window.history.replaceState(null,"",e)},ul=e=>{const[t,n]=e.split("?");P.pathname=t,P.search=n?`?${n}`:"",window.history.replaceState(null,"",e)},fl=(e="/")=>{const[t,n]=e.split("?");if(P.historyLength<=0){const r=window.location.href,[s,a]=r.split("?");if(!a.includes("stackPages"))window.history.replaceState(null,"",e),P.historyLength=0,P.pathname=t,P.search=n?`?${n}`:"";else{const i=new URLSearchParams(a),l=(i.get("stackPages")?.split(",")||[]).slice(0,-1);l.length===0?i.delete("stackPages"):i.set("stackPages",l.join(","));const u=`${s}${i.toString()?`?${i.toString()}`:""}`;window.history.replaceState(null,"",u),P.search=i.toString()?`?${i.toString()}`:""}}else if(P.historyStack.length>0){const r=P.historyStack.pop();if(r){const[s,a]=r.split("?");window.history.replaceState(null,"",r),P.historyLength=Math.max(0,P.historyLength-=1),P.pathname=s,P.search=a?`?${a}`:""}}},$s=()=>{const e=P.historyStack.findIndex(n=>n.includes("stackPages")),t=e===-1?P.historyStack.slice(0):P.historyStack.slice(0,e);if(t.length>0){const n=t.pop();if(n){const[r,s]=n.split("?");window.history.replaceState(null,"",n),P.historyLength=Math.max(0,t.length),P.pathname=r,P.search=s?`?${s}`:"",P.historyStack=t}}else window.history.replaceState(null,"","/"),P.historyLength=0,P.pathname="/",P.search="",P.historyStack=[]},Xe=()=>new URLSearchParams(P.search).get("stackPages")?.split(",")||[];let $t=I(se(Xe()));const Te=e=>{const t=Xe();if(!t.includes(e)){t.push(e);const n=new URLSearchParams(P.search);n.set("stackPages",t.join(",")),S($t,t,!0),dt(`${P.pathname}?${n.toString()}`)}},dl=e=>Xe().includes(e),Hs=()=>{const e=o($t).slice(0,-1);S($t,e,!0)},vl=()=>{const e=Xe();return e.length>=o($t).length?e.reduce((t,n)=>[...t,{page:n,shown:!0}],[]):o($t).reduce((t,n,r)=>[...t,{page:n,shown:e.length===0?!1:r!==o($t).length-1}],[])},ea=()=>{S($t,[],!0)},ut=se({value:""}),hl=se({value:Us()}),pl=(e,t)=>{let n=null;return()=>{n&&clearTimeout(n),n=setTimeout(()=>{e()},t)}},qs=()=>window.matchMedia("(max-width: 768px)").matches;let Ks=I(se(qs()));const _l=pl(()=>{S(Ks,qs(),!0)},16);window.addEventListener("resize",_l);const Xt=()=>o(Ks);function gl(e,t){G(t,!0),we(()=>{const n=r=>{r.target&&t.dialog?.open&&t.dialogInner&&t.dialogInner!==r.target&&!t.dialogInner.contains(r.target)&&t.onClose()};return document.addEventListener("mousedown",n,{capture:!0}),()=>{document.removeEventListener("mousedown",n,{capture:!0})}}),Y()}const ma=se({count:0}),ml=()=>ma.count>0,zs=()=>{ma.count+=1},Vs=()=>{ma.count-=1};var wl=R('<dialog><div class="dialogInner svelte-w3h659"><!></div></dialog> <!>',1);function Ws(e,t){G(t,!0);let n=I(null),r=I(null),s=I(!1);const a=()=>{const d=setTimeout(()=>{t.onClosed()},150);o(n)?.addEventListener("transitionend",()=>{clearTimeout(d),t.onClosed()},{once:!0}),S(s,!1)};je(()=>{t.startClose&&a()}),we(()=>{o(n)?.showModal(),o(n)?.getClientRects(),S(s,!0)}),we(()=>(zs(),()=>{Vs()}));var i=wl(),c=x(i),l=y(c),u=y(l);Et(u,()=>t.children),Pt(l,d=>S(r,d),()=>o(r)),Pt(c,d=>S(n,d),()=>o(n));var f=L(c,2);{var v=d=>{gl(d,{get dialog(){return o(n)},get dialogInner(){return o(r)},onClose:a})};q(f,d=>{o(n)&&o(r)&&d(v)})}te(()=>J(c,1,Z(["dialog",{shown:o(s)}]),"svelte-w3h659")),_(e,i),Y()}var yl=R("<div><!></div>");function Gs(e,t){G(t,!0);let n=I(!1),r=I(null);const s=()=>{const u=setTimeout(()=>{t.onClosed()},150);o(r)?.addEventListener("transitionend",()=>{clearTimeout(u),t.onClosed()},{once:!0}),S(n,!1)},a=u=>{u.target!==o(r)&&!o(r)?.contains(u.target)&&s()},i=u=>{u.target!==o(r)&&!o(r)?.contains(u.target)&&s()};we(()=>{o(r)?.getClientRects(),S(n,!0);const u=setTimeout(()=>{document.addEventListener("focusin",a),document.addEventListener("click",i)},0);return()=>{clearTimeout(u),document.removeEventListener("focusin",a),document.removeEventListener("click",i)}}),je(()=>{t.startClose&&s()});var c=yl(),l=y(c);Et(l,()=>t.children),Pt(c,u=>S(r,u),()=>o(r)),te(()=>J(c,1,Z(["menu",{top:t.positionTop,shown:o(n)}]),"svelte-vbw57a")),_(e,c),Y()}const bl=(e,t)=>{o(t)||S(t,!0)};var Sl=(e,t)=>t("newest"),kl=(e,t)=>t("oldest"),El=(e,t)=>t("AtoZ"),Pl=(e,t)=>t("ZtoA"),Cl=R("<div><button>Newest</button> <button>Oldest</button> <button>A to Z</button> <button>Z to A</button></div>"),Nl=R('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),xl=R('<div class="orderMenu svelte-1koyce2"><button><!> <!></button> <!></div>');function Ll(e,t){G(t,!0);const n=(w,b=Ht)=>{var g=Cl(),m=y(g);m.__click=[Sl,c];var k=L(m,2);k.__click=[kl,c];var A=L(k,2);A.__click=[El,c];var D=L(A,2);D.__click=[Pl,c],te(()=>{J(g,1,Z(["menu",{menuDialog:b()}]),"svelte-1koyce2"),J(m,1,Z(["menuButton",{menuButtonDialog:b(),current:o(i)==="newest"}]),"svelte-1koyce2"),J(k,1,Z(["menuButton",{menuButtonDialog:b(),current:o(i)==="oldest"}]),"svelte-1koyce2"),J(A,1,Z(["menuButton",{menuButtonDialog:b(),current:o(i)==="AtoZ"}]),"svelte-1koyce2"),J(D,1,Z(["menuButton",{menuButtonDialog:b(),current:o(i)==="ZtoA"}]),"svelte-1koyce2")}),_(w,g)};let r=I(!1),s=I(!1),a=T(Xt),i=T(Bs);const c=w=>{S(s,!0),ol(w)},l=()=>{S(r,!1),S(s,!1)};var u=xl(),f=y(u);f.__click=[bl,r],J(f,1,Z(["button","buttonMenu"]),"svelte-1koyce2");var v=y(f);ve(v,{name:"filter"});var d=L(v,2);Kn(d,{children:(w,b)=>{var g=Je("show feed order menu");_(w,g)}});var h=L(f,2);{var p=w=>{var b=M(),g=x(b);{var m=A=>{Ws(A,{get startClose(){return o(s)},onClosed:l,children:(D,E)=>{n(D,()=>!0)},$$slots:{default:!0}})},k=A=>{var D=Nl(),E=x(D);he(E,()=>({"--right":"20px","--top":"60px"})),Gs(E.lastChild,{get startClose(){return o(s)},onClosed:l,children:(N,U)=>{n(N,()=>!1)},$$slots:{default:!0}}),_(A,D)};q(g,A=>{o(a)?A(m):A(k,!1)})}_(w,b)};q(h,w=>{o(r)&&w(p)})}_(e,u),Y()}De(["click"]);const mr=se({ref:null}),Al=e=>{e.preventDefault(),Te("settings")},Tl=e=>{e.preventDefault(),Te("newNote")};var Dl=R('<div class="header svelte-1gh3q5d"><div class="top svelte-1gh3q5d"><div class="desktop svelte-1gh3q5d"><a class="link svelte-1gh3q5d"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Settings</span></a></div> <div class="mobile svelte-1gh3q5d"><!></div> <a class="addNote svelte-1gh3q5d"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Add</span></a></div> <div class="bottom svelte-1gh3q5d"><div><div class="sidebarSearchWrapper"><!></div></div> <div class="right svelte-1gh3q5d"><div class="filter svelte-1gh3q5d"><div class="feedSearchWrapper svelte-1gh3q5d"><!></div> <!></div></div></div></div>');function Il(e,t){G(t,!0);const n=()=>{const j=Xe();j.includes("settings")||j.push("settings");const O=new URLSearchParams(P.search);return O.set("stackPages",j.join(",")),`${P.pathname}?${O}`};let s=T(()=>{const j=Xe();j.includes("newNote")||j.push("newNote");const O=new URLSearchParams(P.search);return O.set("stackPages",j.join(",")),`${P.pathname}?${O}`}),a=T(n),i=T(()=>mr.ref);const c=()=>{o(i)&&o(i).scrollTo({top:0,behavior:"smooth"})},l=j=>{il(j)};var u=Dl(),f=y(u),v=y(f),d=y(v);d.__click=[Al];var h=y(d);he(h,()=>({"--size":"20px"})),ve(h.lastChild,{name:"settings"});var p=L(v,2),w=y(p);Os(w,{});var b=L(p,2);b.__click=[Tl];var g=y(b);he(g,()=>({"--size":"24px","--color":"#b0b0b0"})),ve(g.lastChild,{name:"plus"});var m=L(f,2),k=y(m);J(k,1,Z(["left"]),"svelte-1gh3q5d");var A=y(k),D=y(A);Qr(D,{placeholder:"Search tag",get value(){return ut.value},set value(j){ut.value=j}});var E=L(k,2),N=y(E),U=y(N),H=y(U);Qr(H,{onFocus:c,onChange:l,placeholder:"Search",get value(){return hl.value}});var X=L(U,2);Ll(X,{}),te(()=>{ge(d,"href",o(a)),ge(b,"href",o(s))}),_(e,u),Y()}De(["click"]);const Ml="modulepreload",Ol=function(e){return"/"+e},qa={},Ge=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){let l=function(u){return Promise.all(u.map(f=>Promise.resolve(f).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),c=i?.nonce||i?.getAttribute("nonce");s=l(n.map(u=>{if(u=Ol(u),u in qa)return;qa[u]=!0;const f=u.endsWith(".css"),v=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${v}`))return;const d=document.createElement("link");if(d.rel=f?"stylesheet":Ml,f||(d.as="script"),d.crossOrigin="",d.href=u,c&&d.setAttribute("nonce",c),document.head.appendChild(d),f)return new Promise((h,p)=>{d.addEventListener("load",h),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${u}`)))})}))}function a(i){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=i,window.dispatchEvent(c),!c.defaultPrevented)throw i}return s.then(i=>{for(const c of i||[])c.status==="rejected"&&a(c.reason);return t().catch(a)})};function Rl(e,t){G(t,!0);let n=me(t,"blockedDialog",3,!1),r=me(t,"hiddenDialog",3,!1),s=me(t,"isLastDialog",3,!1),a=me(t,"onStartClose",3,()=>{}),i=me(t,"onClose",3,()=>{});const c=T(()=>s()?void 0:t.onStartBack);let l=null;function u(){return l||(l=Ge(()=>import("./MobileDialog-CgK1zJvS.js"),__vite__mapDeps([0,1]))),l}function f(){return l||(l=Ge(()=>import("./DesktopDialog-BXyOgkFD.js"),__vite__mapDeps([2,3]))),l}we(()=>(zs(),()=>{Vs()}));var v=M(),d=x(v);{var h=w=>{var b=M(),g=x(b);Ve(g,u,null,(m,k)=>{var A=M();const D=T(()=>o(k).default);var E=x(A);We(E,()=>o(D),(N,U)=>{U(N,{get shownDialog(){return t.shownDialog},get blocked(){return n()},get unBlockedBack(){return t.unBlockedBack},get hiddenDialog(){return r()},get children(){return t.children},get onStartClose(){return t.onStartBack},get onClose(){return i()}})}),_(m,A)}),_(w,b)},p=w=>{var b=M(),g=x(b);Ve(g,f,null,(m,k)=>{var A=M();const D=T(()=>o(k).default);var E=x(A);We(E,()=>o(D),(N,U)=>{U(N,{get shownDialog(){return t.shownDialog},get blockedDialog(){return n()},get unBlockedBack(){return t.unBlockedBack},get hiddenDialog(){return r()},get children(){return t.children},get onStartBack(){return o(c)},get onStartClose(){return a()},get onClose(){return i()}})}),_(m,A)}),_(w,b)};q(d,w=>{Xt()?w(h):w(p,!1)})}_(e,v),Y()}let Ys=I(!1),wa=I(!1);const Fn=e=>{S(Ys,e,!0),e||S(wa,!1)},Bl=()=>o(Ys),Ka=e=>{S(wa,e,!0)},Fl=()=>o(wa);function za(e,t){G(t,!0);let n=me(t,"blocked",3,!1),r=me(t,"isLastDialog",3,!1),s=me(t,"onBack",3,()=>{});const a=T(()=>n()||t.hidden||Bl()),i=T(()=>Fl()&&!r());Rl(e,{get shownDialog(){return t.shown},get blockedDialog(){return o(a)},get unBlockedBack(){return o(i)},get hiddenDialog(){return t.hidden},get isLastDialog(){return r()},onStartBack:()=>{(!o(a)||o(a)&&o(i))&&t.shown&&(fl(),s()())},onStartClose:()=>{(!o(a)||o(a)&&o(i))&&t.shown&&$s()},onClose:()=>{Hs()},children:(f,v)=>{var d=M(),h=x(d);Et(h,()=>t.children),_(f,d)},$$slots:{default:!0}}),Y()}let ta=I(se({showFavicon:!0}));const Zs=()=>o(ta).showFavicon,ya=e=>{e&&S(ta,{...o(ta),...e},!0)};let B=I({initedDB:!1});const Ul=()=>{S(B,{initedDB:!0})},Sn=async e=>{S(B,{...o(B),account:e})},Qn=async e=>{const t=o(B).notes||[],n=o(B).mapNotes||new Map;e.forEach(r=>{t.push(r),n.set(r.id,r)}),S(B,{...o(B),notes:t,mapNotes:n,getNotes:()=>t,getMapNotes:()=>n})},Lr=()=>o(B).notes&&o(B).mapNotes,jl=()=>o(B).account,$l=()=>o(B).getNotes||(()=>o(B).notes||[]),Eu=()=>o(B).getMapNotes||(()=>o(B).mapNotes||new Map),Js=e=>{if(!o(B).notes||!o(B).mapNotes)throw new Error("Notes appState is not initialized");const t={...e};o(B).notes.push(t),o(B).mapNotes.set(t.id,t),S(B,{...o(B),getNotes:()=>o(B).notes,getMapNotes:()=>o(B).mapNotes})},Hl=async e=>{if(!o(B).notes||!o(B).mapNotes)throw new Error("Notes appState is not initialized");o(B).notes.forEach((t,n)=>{t?.id===e.id&&o(B).notes&&(o(B).notes[n]=e)}),o(B).mapNotes.set(e.id,e),S(B,{...o(B),getNotes:()=>o(B).notes,getMapNotes:()=>o(B).mapNotes})},Xs=async e=>{if(!o(B).notes||!o(B).mapNotes)throw new Error("Notes appState is not initialized");o(B).mapNotes.delete(e);const t=o(B).notes.findIndex(n=>n?.id===e);t!==-1&&(o(B).notes[t]=void 0),S(B,{...o(B),getNotes:()=>o(B).notes,getMapNotes:()=>o(B).mapNotes})},Qs=async()=>{const e=[],t=new Map;S(B,{...o(B),notes:e,mapNotes:t,getNotes:()=>e,getMapNotes:()=>t})};let eo=I({});const to=()=>o(eo),ql=e=>{S(eo,e)};var Kl=R('<button> <svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></button>');function lr(e,t){let n=T(()=>t.style==="selected"?"45deg":"0deg");var r=Kl();r.__click=function(...i){t.onClick?.apply(this,i)};var s=y(r),a=L(s);he(a,()=>({"--size":"20px","--rotate":o(n)})),ve(a.lastChild,{name:"plus"}),te(()=>{ge(r,"type",t.type),J(r,1,Z([{selectedTag:t.style==="selected"}]),"svelte-1pjhi9i"),xr(s,`${t.title??""} `)}),_(e,r)}De(["click"]);const zl=e=>{e.preventDefault(),Te("settings")};var Vl=R("<div></div>"),Wl=R('<div class="sidebarFixed svelte-1cm6h2f"><div class="nav svelte-1cm6h2f"><!> <a class="link svelte-1cm6h2f"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Settings</span></a></div> <div class="searchWrapper svelte-1cm6h2f"><!></div> <!></div> <div></div>',1),Gl=R("<div></div>"),Yl=R('<div class="sidebar svelte-1cm6h2f"><div class="sidebarFixed svelte-1cm6h2f"><!></div> <div class="tags svelte-1cm6h2f"></div></div>');function Zl(e,t){G(t,!0);let n=I(null),r=T(()=>new URLSearchParams(P.search).get("selectedTags")?.split(",")||[]),s=null;function a(){return s||(s=Ge(()=>import("./MobileSidebar-DhkvDV19.js"),__vite__mapDeps([4,5]))),s}const i=()=>{const g=Xe();g.includes("settings")||g.push("settings");const m=new URLSearchParams(P.search);return m.set("stackPages",g.join(",")),`${P.pathname}?${m}`},c=g=>{const m=new URLSearchParams(P.search);m.set("selectedTags",[...o(r),g].join(",")),dt(`${P.pathname}${m.size>0?`?${m.toString()}`:""}`),ut.value=""},l=g=>{const m=new URLSearchParams(P.search),k=o(r).filter(A=>A!==g);k.length===0?m.delete("selectedTags"):m.set("selectedTags",k.join(",")),dt(`${P.pathname}${m.size>0?`?${m.toString()}`:""}`)};let u=T(()=>Lr()?Object.values(to()).filter(g=>!o(r).some(m=>g.name===m)):[]),f=T(Xt);we(()=>{o(f)&&a()});let v=T(i),d=T(()=>Xe().length>0||ml());var h=M(),p=x(h);{var w=g=>{var m=M(),k=x(m);Ve(k,a,null,(A,D)=>{var E=M();const N=T(()=>o(D).default);var U=x(E);We(U,()=>o(N),(H,X)=>{X(H,{get blocked(){return o(d)},children:(j,O)=>{var Ne=Wl(),ye=x(Ne),ne=y(ye),oe=y(ne);Os(oe,{});var be=L(oe,2);be.__click=[zl];var Ie=y(be);he(Ie,()=>({"--size":"20px"})),ve(Ie.lastChild,{name:"settings"});var Me=L(ne,2),Qe=y(Me);Qr(Qe,{placeholder:"Search tag",get value(){return ut.value},set value(C){ut.value=C}});var en=L(Me,2);{var Nn=C=>{var $=Vl();J($,1,Z(["tags","selectedTags"]),"svelte-1cm6h2f"),fn($,20,()=>o(r),ie=>ie,(ie,le)=>{lr(ie,{get title(){return le},onClick:()=>l(le),style:"selected"})}),Pt($,ie=>S(n,ie),()=>o(n)),_(C,$)};q(en,C=>{o(r).length>0&&C(Nn)})}var tn=L(ye,2);J(tn,1,Z(["tags","tagsWrapper"]),"svelte-1cm6h2f"),fn(tn,21,()=>o(u),C=>C.name,(C,$)=>{var ie=M(),le=x(ie);{var re=F=>{lr(F,{get title(){return o($).name},onClick:()=>c(o($).name)})};q(le,F=>{(ut.value===""||o($).name.toLowerCase().indexOf(ut.value.toLowerCase())!==-1)&&F(re)})}_(C,ie)}),te(()=>ge(be,"href",o(v))),_(j,Ne)},$$slots:{default:!0}})}),_(A,E)}),_(g,m)},b=g=>{var m=Yl(),k=y(m),A=y(k);{var D=N=>{var U=Gl();J(U,1,Z(["tags","selectedTags"]),"svelte-1cm6h2f"),fn(U,20,()=>o(r),H=>H,(H,X)=>{lr(H,{get title(){return X},onClick:()=>l(X),style:"selected"})}),_(N,U)};q(A,N=>{o(r).length>0&&N(D)})}var E=L(k,2);fn(E,21,()=>o(u),N=>N.name,(N,U)=>{var H=M(),X=x(H);{var j=O=>{lr(O,{get title(){return o(U).name},onClick:()=>c(o(U).name)})};q(X,O=>{(ut.value===""||o(U).name.toLowerCase().indexOf(ut.value.toLowerCase())!==-1)&&O(j)})}_(N,H)}),_(g,m)};q(p,g=>{o(f)?g(w):g(b,!1)})}_(e,h),Y()}De(["click"]);function St(e){const t=String.fromCharCode(...new Uint8Array(e));return window.btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function ba(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");const n=t.length%4;return n&&(t+="=".repeat(4-n)),t}function Sa(e){try{const t=atob(e),n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n.buffer}catch(t){throw console.error("Error decoding base64:",t,"Input:",e),t}}function Pu(e){const t=ba(e);return Sa(t)}const Cu=async({challenge:e,clientKey:t})=>{const n=Math.floor(Math.random()*100),r={challenge:Sa(ba(e)),rp:{id:"localhost",name:"notes"},user:{id:new Uint8Array([...t,...crypto.getRandomValues(new Uint8Array(16))]).buffer,name:`account_${n}`,displayName:`account_${n}`},pubKeyCredParams:[{type:"public-key",alg:-7},{type:"public-key",alg:-257}],authenticatorSelection:{userVerification:"required"},timeout:6e4,attestation:"none"},s=await navigator.credentials.create({publicKey:r});if(s){const a=s.response;return{challenge:e,id:s.id,rawId:St(s.rawId),type:s.type,response:{clientDataJSON:St(a.clientDataJSON),attestationObject:St(a.attestationObject)}}}else throw new Error},Nu=async({challenge:e})=>{const t={challenge:Sa(ba(e)),timeout:6e4,rpId:"localhost",userVerification:"required"},n=await navigator.credentials.get({publicKey:t});if(n){const r=n.response,s=new DataView(r.authenticatorData).getUint32(33,!1);console.log("Counter:",s);const a={challenge:e,id:n.id,rawId:St(n.rawId),type:n.type,response:{authenticatorData:St(r.authenticatorData),clientDataJSON:St(r.clientDataJSON),signature:St(r.signature)}};if(!r.userHandle)throw new Error("No credential found");const i=new Uint8Array(r.userHandle).slice(0,32);return{credentialData:a,clientKey:i}}else throw new Error("No credential found")},Jl=async e=>{const t=await crypto.subtle.importKey("raw",e.serverKey,{name:"HKDF"},!1,["deriveKey"]),n=await crypto.subtle.deriveKey({name:"HKDF",salt:new Uint8Array(12),info:new TextEncoder().encode("aes-gcm-shared"),hash:"SHA-256"},t,{name:"AES-GCM",length:256},!1,["encrypt"]);return{encryptedClientKey:await crypto.subtle.encrypt({name:"AES-GCM",iv:new Uint8Array(12)},n,e.clientKey)}},xu=async e=>{const t=await crypto.subtle.importKey("raw",e.serverKey,{name:"HKDF"},!1,["deriveKey"]),n=await crypto.subtle.deriveKey({name:"HKDF",info:new TextEncoder().encode("aes-gcm-shared"),hash:"SHA-256",salt:new Uint8Array(12)},t,{name:"AES-GCM",length:256},!1,["decrypt"]),r=await crypto.subtle.decrypt({name:"AES-GCM",iv:new Uint8Array(12)},n,e.encryptedClientKey);return new Uint8Array(r)},Xl=()=>crypto.randomUUID(),Ql="AppStorage",ec=1,ze="notes",Va="syncLog",kn="account",En="settings";let He;const tc=()=>new Promise((e,t)=>{const n=indexedDB.open(Ql,ec);n.addEventListener("upgradeneeded",()=>{const r=n.result;r.objectStoreNames.contains(ze)||r.createObjectStore(ze,{keyPath:"id"}),r.objectStoreNames.contains(kn)||r.createObjectStore(kn,{keyPath:"id"}),r.objectStoreNames.contains(En)||r.createObjectStore(En,{keyPath:"id"}),r.objectStoreNames.contains(Va)||r.createObjectStore(Va,{keyPath:"id"})}),n.addEventListener("success",()=>{e(),He=n.result,He.onversionchange=function(){He?.close(),alert("app outdated, please reload the page")}}),n.addEventListener("blocked",()=>{t(),alert("app outdated, please reload the page")}),n.addEventListener("error",()=>{t(),console.error("Error",n.error)})}),no=()=>new Promise((e,t)=>{const r=He?.transaction(En,"readonly")?.objectStore(En).get("default");r?.addEventListener("success",()=>{const s=r?.result?.settings;e(s)}),r?.addEventListener("error",()=>{t()})}),nc=e=>new Promise((t,n)=>{const a=He?.transaction(En,"readwrite")?.objectStore(En)?.put({id:"default",settings:e});a?.addEventListener("success",()=>{t()}),a?.addEventListener("error",()=>{n()})}),ro=()=>new Promise((e,t)=>{const r=He?.transaction(kn,"readonly")?.objectStore(kn).get("default");r?.addEventListener("success",()=>{const s=r?.result?.account;e(s)}),r?.addEventListener("error",()=>{t()})}),ao=e=>new Promise((t,n)=>{const a=He?.transaction(kn,"readwrite")?.objectStore(kn)?.put({id:"default",account:e});a?.addEventListener("success",()=>{console.log("account inited"),t()}),a?.addEventListener("error",()=>{n()})}),er=()=>new Promise((e,t)=>{const r=He?.transaction(ze,"readonly")?.objectStore(ze).getAll();r?.addEventListener("success",()=>{const s=r.result;e(s)}),r?.addEventListener("error",()=>{t()})}),rc=async e=>new Promise((t,n)=>{const a=He?.transaction(ze,"readwrite")?.objectStore(ze)?.put({...e});a?.addEventListener("success",()=>{t()}),a?.addEventListener("error",()=>{n()})}),ac=async e=>new Promise((t,n)=>{const a=He?.transaction(ze,"readwrite")?.objectStore(ze)?.delete(e);a?.addEventListener("success",()=>{t()}),a?.addEventListener("error",()=>{n()})}),sc=()=>new Promise((e,t)=>{const s=He?.transaction(ze,"readwrite")?.objectStore(ze)?.clear();s?.addEventListener("success",()=>{e()}),s?.addEventListener("error",()=>{t()})}),ka=async()=>{await sc()},oc=async e=>{const t=(await er()).reduce((a,i)=>(a[i.id]=i,a),{}),n={},s=He?.transaction(ze,"readwrite")?.objectStore(ze);e.forEach(a=>{t[a.id]?t[a.id].updatedAt<a.updatedAt&&(n[a.id]=a):n[a.id]=a}),await Promise.all(Object.values(n).map(a=>{const i=s?.put(a);return new Promise((c,l)=>{i?.addEventListener("success",()=>{c()}),i?.addEventListener("error",()=>{l()})})}))};async function Ea(){if(navigator.storage&&navigator.storage.persist)try{await navigator.storage.persisted()||await navigator.storage.persist()}catch{console.error("")}}const so=crypto.randomUUID(),oo=new BroadcastChannel("app"),Qt=(e,t)=>{oo.postMessage(JSON.stringify({tabId:so,type:e,data:t}))};oo.addEventListener("message",async e=>{if(e.data&&typeof e.data=="string"){const t=JSON.parse(e.data);if(t.tabId&&t.tabId===so)return;if(t.type==="addNote"){const n=t.data;Js(n)}else if(t.type==="updateNote"){const n=t.data;Hl(n)}else if(t.type==="deleteNote"){const n=t.data;Xs(n)}else if(t.type==="clearAppState")Qs();else if(t.type==="reloadNotes"){const n=await er();await Qn(n)}else if(t.type==="initLocalAccount")Sn(null),ea(),dt("/");else if(t.type==="initAccount"){const n=await ro();n&&(Sn(n),ea(),dt("/"))}else if(t.type==="updateSettings"){const n=await no();n&&ya(n)}}});tc().then(async()=>{Ul();const e=await no();ya(e);const t=await ro();if(t===void 0)Te("start");else{dl("start")&&(ea(),dt("/")),t?(Sn(t),await Ea()):Sn(null);const n=await er();await Qn(n)}}).catch(()=>{console.error("failed to init db")});const Lu=async e=>{const t={...e,id:Xl(),createdAt:Date.now(),updatedAt:Date.now()};Js(t),Qt("addNote",t),await rc({...t})},ic=async e=>{ya({showFavicon:e}),await nc({showFavicon:e}),Qt("updateSettings")},lc=async e=>{Qt("deleteNote",e),Xs(e),await ac(e)},Au=async()=>{Qt("clearAppState"),Qs(),await ka()},Tu=async e=>{await oc(e),Qt("reloadNotes");const t=await er();await Qn(t)},cc=async()=>{await ka(),await Ea(),await ao(null),Sn(null),await Qn([]),Qt("initLocalAccount")},Du=async e=>{await ka(),await Ea();const{encryptedClientKey:t}=await Jl({clientKey:e.clientKey,serverKey:e.serverKey}),n={encryptedClientKey:St(t),lastLogId:-1,lastSync:-1};await ao(n),Sn(n);const r=await er();await Qn(r),Qt("initAccount")},uc=(e,t,n)=>{const r=to();t.note.tags.forEach(s=>{if(o(n).includes(s)&&r[s].connections===1){const a=new URLSearchParams(P.search),i=o(n).filter(c=>c!==s);i.length===0?a.delete("selectedTags"):a.set("selectedTags",i.join(",")),ul(`${P.pathname}${a.size>0?`?${a.toString()}`:""}`)}}),lc(t.note.id)},fc=(e,t,n)=>{S(t,!0),S(n,!0)};var dc=R('<div class="menu svelte-xxw0l"><div><button>Edit</button></div> <div><button>Delete</button></div></div>'),vc=R('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1);function hc(e,t){G(t,!0);const n=(d,h=Ht)=>{var p=dc(),w=y(p),b=y(w);b.__click=[fc,a,s];var g=L(w,2),m=y(g);m.__click=[uc,t,c],te(()=>{J(b,1,Z(["button",{buttonMenuDialog:h()}]),"svelte-xxw0l"),J(m,1,Z(["button",{buttonMenuDialog:h()}]),"svelte-xxw0l")}),_(d,p)};let r=me(t,"shownMenu",15),s=I(!1),a=I(!1),i=T(Xt),c=T(()=>new URLSearchParams(P.search).get("selectedTags")?.split(",")||[]);const l=()=>{r(!1),S(a,!1)};var u=M(),f=x(u);{var v=d=>{var h=M(),p=x(h);{var w=g=>{Ws(g,{get startClose(){return o(a)},onClosed:l,children:(m,k)=>{n(m,()=>!0)},$$slots:{default:!0}})},b=g=>{var m=vc(),k=x(m);he(k,()=>({"--bottom":"-180%","--right":"30px"})),Gs(k.lastChild,{get startClose(){return o(a)},get positionTop(){return t.showMenuUp},onClosed:l,children:(A,D)=>{n(A,()=>!1)},$$slots:{default:!0}}),_(g,m)};q(p,g=>{o(i)?g(w):g(b,!1)})}_(d,h)};q(f,d=>{r()&&d(v)})}_(e,u),Y()}De(["click"]);const pc=(e,t,n)=>{t.showMenuUp||S(n,!0)},_c=(e,t)=>{navigator.clipboard.writeText(t.note.url),Gi("Link copied to clipboard")},gc=(e,t)=>{S(t,!0)},mc=(e,t)=>{S(t,!1)};var wc=R('<div class="iconPlaceholder svelte-1khtf0k"></div>'),yc=R('<img loading="lazy" class="noteIcon" height="16" width="16" alt=""/>'),bc=R('<li class="note svelte-1khtf0k"><div class="noteIconWrapper svelte-1khtf0k"><!></div> <a class="noteLink svelte-1khtf0k" target="_blank" rel="noopener noreferrer"> </a> <div class="spacer svelte-1khtf0k"></div> <div><button class="button svelte-1khtf0k"><!> <!></button> <button><!> <!></button> <!></div></li>');function Sc(e,t){G(t,!0);let n=I(!1),r=I(!1),s=I(!1),a=T(Zs);const i=E=>{try{return`https://${new URL(E).host}/favicon.ico`}catch{return""}};var c=bc();c.__focusin=[gc,n],c.__focusout=[mc,n];var l=y(c),u=y(l);{var f=E=>{var N=wc();_(E,N)},v=E=>{var N=yc();te(U=>ge(N,"src",U),[()=>i(t.note.url)]),xs("error",N,()=>{S(s,!0)}),_(E,N)};q(u,E=>{o(s)||!o(a)?E(f):E(v,!1)})}var d=L(l,2),h=y(d),p=L(d,4),w=y(p);w.__click=[_c,t];var b=y(w);ve(b,{name:"copy"});var g=L(b,2);Kn(g,{children:(E,N)=>{var U=Je("copy link");_(E,U)}});var m=L(w,2);m.__click=[pc,t,r],J(m,1,Z(["button","buttonMenu"]),"svelte-1khtf0k");var k=y(m);ve(k,{name:"menu"});var A=L(k,2);Kn(A,{children:(E,N)=>{var U=Je("show menu");_(E,U)}});var D=L(m,2);hc(D,{get note(){return t.note},get showMenuUp(){return t.showMenuUp},get shownMenu(){return o(r)},set shownMenu(E){S(r,E,!0)}}),te(()=>{ge(d,"tabindex",t.focusHidden?-1:0),ge(d,"href",t.note.url),xr(h,t.note.title),J(p,1,Z(["noteMenuWrapper",{noteMenuWrapperActive:o(n)}]),"svelte-1khtf0k"),ge(w,"tabindex",t.focusHidden?-1:0),ge(m,"tabindex",t.focusHidden?-1:0)}),_(e,c),Y()}De(["focusin","focusout","click"]);let Pa=I(!1);const kc=(e,t)=>{let n;return()=>{n&&clearTimeout(n),n=setTimeout(()=>{e()},t)}},Ec=kc(()=>{S(Pa,!1)},100),Pc=()=>{S(Pa,!0),Ec()},Iu=()=>o(Pa);var Cc=R('<div><!> <div class="loader svelte-1wuuvr"></div></div>');function io(e,t){G(t,!0);let n=I(!1);we(()=>{const a=setTimeout(()=>{S(n,!0)},200);return()=>{clearTimeout(a)}});var r=Cc(),s=y(r);Et(s,()=>t.children??Ht),te(()=>J(r,1,Z(["block",{shown:o(n)}]),"svelte-1wuuvr")),_(e,r),Y()}var Nc=R("<a><!></a>"),xc=R('<button type="button"><!></button>');function Ct(e,t){let n=me(t,"type",3,"standard"),r=me(t,"element",3,"button"),s=me(t,"href",3,""),a=me(t,"fullWidth",3,!1);var i=M(),c=x(i);{var l=f=>{var v=Nc();v.__click=function(...h){t.onClick?.apply(this,h)};var d=y(v);Et(d,()=>t.children??Ht),te(()=>{ge(v,"href",s()),J(v,1,Z(["button","a",{dangerous:n()==="dangerous",secondary:n()==="secondary",fullWidth:a()}]),"svelte-na2c6y")}),_(f,v)},u=f=>{var v=xc();v.__click=function(...h){t.onClick?.apply(this,h)};var d=y(v);Et(d,()=>t.children??Ht),te(()=>J(v,1,Z(["button",{dangerous:n()==="dangerous",secondary:n()==="secondary",fullWidth:a()}]),"svelte-na2c6y")),_(f,v)};q(c,f=>{r()==="a"?f(l):f(u,!1)})}_(e,i)}De(["click"]);const Lc=(e,t)=>{o(t)&&o(t).scrollTo({top:0,behavior:"smooth"})};var Ac=R('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Add note</span>',1),Tc=R('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span style="padding-left: 6px;">Import data</span>',1),Dc=R('<div class="emptyStore svelte-hma977"><p class="message">No notes found</p> <div class="wrapperButtonsAdd svelte-hma977"><!></div> <div>or</div> <div class="wrapperButtonsAdd svelte-hma977"><!></div></div>'),Ic=R('<div class="emptyMessage svelte-hma977">No notes found</div>'),Mc=R('<div class="feed svelte-hma977"><ul class="svelte-hma977"></ul></div>'),Oc=R('<div class="wrapperButtonTop svelte-hma977"><button class="buttonTop svelte-hma977"><!> <svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></button></div>'),Rc=R('<div class="wrapperFeed svelte-hma977"><div class="wrapperContainer svelte-hma977"><!></div></div> <!>',1);function Bc(e,t){G(t,!0);let n=I(null),r=50,s=I(0),a=I(0),i=I(0),c=I(se([])),l=T(Us),u=T(()=>mr.ref);je(()=>{Xt()&&(mr.ref=o(n))});let f=null,v=null,d=I(!1),h=0;const p=T(ll);je(()=>{o(l),o(p),o(m),o(u)?.scrollTo(0,0)});const w=()=>{if(o(u)){const C=o(u).scrollTop||0;C===0?S(d,!1):!o(d)&&h>C?S(d,!0):o(d)&&h<C&&S(d,!1),h=C}},b=()=>{Pc(),f||(f=requestAnimationFrame(()=>{w();const C=o(u)?.scrollTop||0;S(i,C,!0);const $=Math.ceil(o(s)/r);S(a,Math.floor(C/(r*$))*(r*$)),f=null}))},g=()=>{v||(v=requestAnimationFrame(()=>{w(),S(s,window.innerHeight-180||0,!0);const C=o(u)?.scrollTop||0;S(i,C,!0);const $=Math.ceil(o(s)/r);S(a,Math.floor(C/(r*$))*(r*$)),v=null}))};we(()=>{g(),b()}),je(()=>(o(u)?.addEventListener("scroll",b),window.addEventListener("resize",g),()=>{o(u)?.removeEventListener("scroll",b),window.removeEventListener("resize",g)}));const m=T(Bs);let k=I(""),A=T($l);je(()=>{o(m);const C=o(A)()||[];Vt(()=>o(k))!==o(m)&&(Vt(()=>S(k,o(m),!0)),C.sort((re,F)=>{if(!re||!F)return 0;switch(o(m)){case"newest":return re.createdAt>F.createdAt?-1:1;case"oldest":return re.createdAt<F.createdAt?-1:1;case"AtoZ":return F.title.localeCompare(re.title);case"ZtoA":return re.title.localeCompare(F.title);default:return 0}}));const ie=[],le={};for(let re=C.length-1;re>=0;re--){const F=C[re];if(F&&!(o(p).length&&o(p).some(ae=>!F.tags.includes(ae)))&&!(o(l)&&!(F.title.toLowerCase().includes(o(l).toLowerCase())||F.url.toLowerCase().includes(o(l).toLowerCase())||F.description.toLowerCase().includes(o(l).toLowerCase())))){if(F.tags)for(const ae of F.tags)le[ae]?le[ae].connections++:le[ae]={name:ae,connections:1};ie.push(F)}}ql(le),S(c,ie,!0)});const D=T(()=>o(c).length*r);let N=T(()=>{const C=Math.ceil(o(s)/r);let $=Math.floor(o(a)/r);return $=$-Math.min($,C),o(c).slice($,$+C*3)}),U=T(()=>r*Math.ceil(o(s)/r));const H=T(()=>o(a)-Math.min(o(a),o(U))),X=()=>{const C=Xe();C.includes("import")||C.push("import");const $=new URLSearchParams(P.search);return $.set("stackPages",C.join(",")),`${P.pathname}?${$}`};let O=T(()=>{const C=Xe();C.includes("newNote")||C.push("newNote");const $=new URLSearchParams(P.search);return $.set("stackPages",C.join(",")),`${P.pathname}?${$}`}),Ne=T(X);const ye=C=>{C.preventDefault(),Te("newNote")},ne=C=>{C.preventDefault(),Te("import")};var oe=Rc(),be=x(oe),Ie=y(be),Me=y(Ie);{var Qe=C=>{io(C,{})},en=C=>{var $=M(),ie=x($);{var le=F=>{var ae=Dc(),Oe=L(y(ae),2),et=y(Oe);Ct(et,{element:"a",get href(){return o(O)},onClick:ye,children:(fe,tt)=>{var de=Ac(),xe=x(de);he(xe,()=>({"--size":"24px","--color":"#b0b0b0"})),ve(xe.lastChild,{name:"plus"}),_(fe,de)},$$slots:{default:!0}});var ct=L(Oe,4),Q=y(ct);Ct(Q,{element:"a",get href(){return o(Ne)},onClick:ne,children:(fe,tt)=>{var de=Tc(),xe=x(de);he(xe,()=>({"--size":"18px","--color":"#b0b0b0"})),ve(xe.lastChild,{name:"import"}),_(fe,de)},$$slots:{default:!0}}),_(F,ae)},re=F=>{var ae=M(),Oe=x(ae);{var et=Q=>{var fe=Ic();_(Q,fe)},ct=Q=>{var fe=Mc(),tt=y(fe);fn(tt,23,()=>o(N),de=>de.id,(de,xe,ce)=>{{let nt=T(()=>o(ce)*r<o(i)-o(H)-r/2||o(ce)*r>o(i)-o(H)+Math.floor(o(s)/r)*r),xt=T(()=>(o(ce)+3)*r<o(i)-o(H)-r/2||(o(ce)+3)*r>o(i)-o(H)+Math.floor(o(s)/r)*r);Sc(de,{get focusHidden(){return o(nt)},get showMenuUp(){return o(xt)},get note(){return o(xe)}})}}),te(de=>{gr(fe,`min-height: ${de??""}px`),gr(tt,`transform: translateY(${o(H)??""}px);`)},[()=>Math.max((o(D)>o(s),o(D)),0)]),_(Q,fe)};q(Oe,Q=>{o(N).length===0?Q(et):Q(ct,!1)},!0)}_(F,ae)};q(ie,F=>{(o(A)()||[]).length===0?F(le):F(re,!1)},!0)}_(C,$)};q(Me,C=>{Lr()?C(en,!1):C(Qe)})}Pt(Ie,C=>S(n,C),()=>o(n));var Nn=L(be,2);{var tn=C=>{var $=Oc(),ie=y($);ie.__click=[Lc,u];var le=y(ie);Kn(le,{children:(F,ae)=>{var Oe=Je("top");_(F,Oe)}});var re=L(le,2);he(re,()=>({"--size":"22px"})),ve(re.lastChild,{name:"up"}),_(C,$)};q(Nn,C=>{o(d)&&C(tn)})}_(e,oe),Y()}De(["click"]);var Fc=R('<!> <div class="content svelte-cu0ar8"><!></div>',1);function Uc(e){var t=Fc(),n=x(t);Zl(n,{});var r=L(n,2),s=y(r);Bc(s,{}),_(e,t)}var Dt=(e=>(e.Light="light",e.System="system",e.Dark="dark",e))(Dt||{});let lo=I(se(localStorage.getItem("colorScheme")||"system"));const jc=e=>{localStorage.setItem("colorScheme",e),e==="system"?window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.dataset.colorScheme="dark":document.documentElement.dataset.colorScheme="light":document.documentElement.dataset.colorScheme=e,S(lo,e,!0)},$c=()=>o(lo);var Hc=R('<div class="wrapper svelte-1syxvud"><fieldset class="switcher svelte-1syxvud"><legend class="vh svelte-1syxvud">Color Scheme</legend> <input id="light" type="radio" aria-label="Light"/> <label for="light" title="Light" aria-label="Light"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <input id="system" type="radio" aria-label="System"/> <label for="system" title="System" aria-label="System"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <input id="dark" type="radio" aria-label="Dark"/> <label for="dark" title="Dark" aria-label="Dark"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <div class="wrapSwitcherStatus svelte-1syxvud"><div class="switcherStatus svelte-1syxvud"></div></div></fieldset></div>');function qc(e,t){G(t,!0);const n=T($c),r=b=>{const g=b.target.value;jc(g)},s="color-scheme-switcher";var a=Hc(),i=y(a),c=L(y(i),2);J(c,1,Z(["vh","input"]),"svelte-1syxvud"),ge(c,"name",s),c.__change=r;var l=L(c,2);J(l,1,Z(["switcherButton","light"]),"svelte-1syxvud");var u=y(l);he(u,()=>({"--size":"20px"})),ve(u.lastChild,{name:"sun"});var f=L(l,2);J(f,1,Z(["vh","input"]),"svelte-1syxvud"),ge(f,"name",s),f.__change=r;var v=L(f,2);J(v,1,Z(["switcherButton","system"]),"svelte-1syxvud");var d=y(v);he(d,()=>({"--size":"14px"})),ve(d.lastChild,{name:"a"});var h=L(v,2);J(h,1,Z(["vh","input"]),"svelte-1syxvud"),ge(h,"name",s),h.__change=r;var p=L(h,2);J(p,1,Z(["switcherButton","dark"]),"svelte-1syxvud");var w=y(p);return he(w,()=>({"--size":"20px"})),ve(w.lastChild,{name:"moon"}),te(()=>{jr(c,Dt.Light),dr(c,o(n)===Dt.Light),jr(f,Dt.System),dr(f,o(n)===Dt.System),jr(h,Dt.Dark),dr(h,o(n)===Dt.Dark)}),_(e,a),Y({handleChange:r})}De(["change"]);const Kc=(e,t)=>{t.onChange(!t.checked)};var zc=R('<label class="switch svelte-nn0dud"><input class="vh svelte-nn0dud" type="checkbox"/> <span class="slider svelte-nn0dud"></span></label>');function Vc(e,t){G(t,!0);var n=zc(),r=y(n);r.__change=[Kc,t],te(()=>dr(r,t.checked)),_(e,n),Y()}De(["change"]);const Wc=()=>{Te("import")},Gc=()=>{Te("export")},Yc=()=>{Te("clearStorage")},Zc=()=>{Te("accessKeys")};var Jc=R('<li class="svelte-1kuxgbs"><button class="button svelte-1kuxgbs"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1kuxgbs">Access keys</span></button></li>'),Xc=R("<span> </span>"),Qc=R('<div class="svelte-1kuxgbs"><!> <ul class="svelte-1kuxgbs"><li class="svelte-1kuxgbs"><button class="button svelte-1kuxgbs"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1kuxgbs">Import data</span></button></li> <li class="svelte-1kuxgbs"><button class="button svelte-1kuxgbs"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1kuxgbs">Export data</span></button></li> <li class="svelte-1kuxgbs"><button class="button svelte-1kuxgbs"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1kuxgbs">Clear storage</span></button></li> <!></ul> <div class="favicons svelte-1kuxgbs"><span class="faviconsLabel svelte-1kuxgbs">show favicons</span> <!></div> <div class="version svelte-1kuxgbs"><!></div></div>');function eu(e,t){G(t,!0);let n=I("");we(()=>{const H=new AbortController;return fetch("/build-metadata.json",{signal:H.signal}).then(X=>X.json()).then(X=>{S(n,`${X.buildHash}`)}),()=>{H.abort()}});let r=T(jl),s=T(Zs);const a=H=>{ic(H)};var i=Qc(),c=y(i);qc(c,{});var l=L(c,2),u=y(l),f=y(u);f.__click=[Wc];var v=y(f);he(v,()=>({"--size":"20px"})),ve(v.lastChild,{name:"import"});var d=L(u,2),h=y(d);h.__click=[Gc];var p=y(h);he(p,()=>({"--size":"20px"})),ve(p.lastChild,{name:"export"});var w=L(d,2),b=y(w);b.__click=[Yc];var g=y(b);he(g,()=>({"--size":"20px"})),ve(g.lastChild,{name:"trash"});var m=L(w,2);{var k=H=>{var X=Jc(),j=y(X);j.__click=[Zc];var O=y(j);he(O,()=>({"--size":"20px"})),ve(O.lastChild,{name:"key"}),_(H,X)};q(m,H=>{o(r)&&H(k)})}var A=L(l,2),D=L(y(A),2);Vc(D,{get checked(){return o(s)},onChange:a});var E=L(A,2),N=y(E);{var U=H=>{var X=Xc(),j=y(X);te(O=>xr(j,`version: 0.0.1 build_date: "${O??""}" build_hash:
				${o(n)??""}`),[()=>new Date(1753689155203).toISOString().replaceAll("T"," ").replace(/\..*/,"")]),_(H,X)};q(N,H=>{o(n)&&H(U)})}_(e,i),Y()}De(["click"]);var tu=R('<div class="content svelte-9hh95f"><p class="message svelte-9hh95f">use app</p> <div class="buttonContainer svelte-9hh95f"><div class="buttonContainerItem svelte-9hh95f"><!></div> <div class="buttonContainerItem svelte-9hh95f"><!></div></div></div>');function nu(e,t){G(t,!0);let n=I("idle");const r=()=>{S(n,"loading"),Te("auth")},s=async()=>{S(n,"loading"),await cc(),Fn(!1),$s()};je(()=>{Fn(o(n)==="idle"||o(n)==="loading")}),we(()=>(Fn(!0),()=>{Fn(!1)}));var a=tu(),i=L(y(a),2),c=y(i),l=y(c);Ct(l,{onClick:r,fullWidth:!0,children:(v,d)=>{var h=Je("with account");_(v,h)},$$slots:{default:!0}});var u=L(c,2),f=y(u);Ct(f,{onClick:s,fullWidth:!0,type:"secondary",children:(v,d)=>{var h=Je("without account");_(v,h)},$$slots:{default:!0}}),_(e,a),Y()}var ru=R('<div class="content svelte-9hh95f"><p class="message svelte-9hh95f">sign in / sign up</p> <div class="buttonContainer svelte-9hh95f"><div class="buttonContainerItem svelte-9hh95f"><!></div> <div class="buttonContainerItem svelte-9hh95f"><!></div></div></div>');function au(e,t){G(t,!1);const n=async()=>{Te("signin")},r=async()=>{Te("signup")};we(()=>(Fn(!0),Ka(!0),()=>{Ka(!1)})),Cn();var s=ru(),a=L(y(s),2),i=y(a),c=y(i);Ct(c,{onClick:n,fullWidth:!0,children:(f,v)=>{var d=Je("sign in");_(f,d)},$$slots:{default:!0}});var l=L(i,2),u=y(l);Ct(u,{onClick:r,fullWidth:!0,children:(f,v)=>{var d=Je("sign up");_(f,d)},$$slots:{default:!0}}),_(e,s),Y()}let co=I(200);const su=e=>{S(co,e,!0)},ou=()=>o(co);var iu=R('<div class="svelte-m08fup"><!></div>');function Fe(e,t){G(t,!0);let n=I(null);we(()=>{o(n)&&(o(n).getBoundingClientRect(),o(n).style.opacity="1");const a=new ResizeObserver(i=>{for(let c of i){const l=c.contentRect.height;console.log("Div height:",l),su(l)}});if(o(n))return a.observe(o(n)),()=>{o(n)&&a.unobserve(o(n)),a.disconnect()}});var r=iu(),s=y(r);Et(s,()=>t.children),Pt(r,a=>S(n,a),()=>o(n)),_(e,r),Y()}var lu=R('<div class="svelte-uzefkz"><!></div>');function gt(e,t){G(t,!1);const n=ou();Cn();var r=lu(),s=y(r);io(s,{}),te(()=>gr(r,`min-height: ${n??""}px;`)),_(e,r),Y()}var cu=R('<div class="svelte-1tpcci8"><p class="svelte-1tpcci8">Something went wrong. Please reload the page</p> <!></div>');function mt(e){var t=cu(),n=L(y(t),2);Ct(n,{onClick:()=>location.reload(),children:(r,s)=>{var a=Je("Reload");_(r,a)},$$slots:{default:!0}}),_(e,t)}var uu=R('<div class="svelte-ndasxn"><p class="svelte-ndasxn">Page not found</p> <!></div>');function fu(e,t){G(t,!1);const n=()=>{dt("/")};Cn();var r=uu(),s=L(y(r),2);Ct(s,{element:"a",href:"/",onClick:n,children:(a,i)=>{var c=Je("close");_(a,c)},$$slots:{default:!0}}),_(e,r),Y()}var du=R("<!> <!>",1);function vu(e,t){G(t,!0);const n=(j,O=Ht,Ne)=>{let ye=Er(()=>Po(Ne?.(),!1));var ne=M(),oe=x(ne);{var be=Me=>{Fe(Me,{children:(Qe,en)=>{eu(Qe,{})},$$slots:{default:!0}})},Ie=Me=>{var Qe=M(),en=x(Qe);{var Nn=C=>{Fe(C,{children:($,ie)=>{var le=M(),re=x(le);Ve(re,A,F=>{gt(F,{})},(F,ae)=>{var Oe=M();const et=T(()=>o(ae).default);var ct=x(Oe);We(ct,()=>o(et),(Q,fe)=>{fe(Q,{})}),_(F,Oe)},F=>{mt(F)}),_($,le)},$$slots:{default:!0}})},tn=C=>{var $=M(),ie=x($);{var le=F=>{Fe(F,{children:(ae,Oe)=>{var et=M(),ct=x(et);Ve(ct,h,Q=>{gt(Q,{})},(Q,fe)=>{var tt=M();const de=T(()=>o(fe).default);var xe=x(tt);We(xe,()=>o(de),(ce,nt)=>{nt(ce,{})}),_(Q,tt)},Q=>{mt(Q)}),_(ae,et)},$$slots:{default:!0}})},re=F=>{var ae=M(),Oe=x(ae);{var et=Q=>{Fe(Q,{children:(fe,tt)=>{var de=M(),xe=x(de);Ve(xe,p,ce=>{gt(ce,{})},(ce,nt)=>{var xt=M();const nn=T(()=>o(nt).default);var xn=x(xt);We(xn,()=>o(nn),(Se,ht)=>{ht(Se,{})}),_(ce,xt)},ce=>{mt(ce)}),_(fe,de)},$$slots:{default:!0}})},ct=Q=>{var fe=M(),tt=x(fe);{var de=ce=>{Fe(ce,{children:(nt,xt)=>{var nn=M(),xn=x(nn);Ve(xn,w,Se=>{gt(Se,{})},(Se,ht)=>{var Ln=M();const Ar=T(()=>o(ht).default);var Tr=x(Ln);We(Tr,()=>o(Ar),(pt,rn)=>{rn(pt,{})}),_(Se,Ln)},Se=>{mt(Se)}),_(nt,nn)},$$slots:{default:!0}})},xe=ce=>{var nt=M(),xt=x(nt);{var nn=Se=>{Fe(Se,{children:(ht,Ln)=>{nu(ht,{})},$$slots:{default:!0}})},xn=Se=>{var ht=M(),Ln=x(ht);{var Ar=pt=>{Fe(pt,{children:(rn,Ca)=>{au(rn,{})},$$slots:{default:!0}})},Tr=pt=>{var rn=M(),Ca=x(rn);{var uo=an=>{Fe(an,{children:(tr,Na)=>{var nr=M(),Dr=x(nr);Ve(Dr,b,Re=>{gt(Re,{})},(Re,sn)=>{var An=M();const on=T(()=>o(sn).default);var Tn=x(An);We(Tn,()=>o(on),(ke,_t)=>{_t(ke,{})}),_(Re,An)},Re=>{mt(Re)}),_(tr,nr)},$$slots:{default:!0}})},fo=an=>{var tr=M(),Na=x(tr);{var nr=Re=>{Fe(Re,{children:(sn,An)=>{var on=M(),Tn=x(on);Ve(Tn,g,ke=>{gt(ke,{})},(ke,_t)=>{var Dn=M();const ln=T(()=>o(_t).default);var In=x(Dn);We(In,()=>o(ln),(Ee,Lt)=>{Lt(Ee,{})}),_(ke,Dn)},ke=>{mt(ke)}),_(sn,on)},$$slots:{default:!0}})},Dr=Re=>{var sn=M(),An=x(sn);{var on=ke=>{Fe(ke,{children:(_t,Dn)=>{var ln=M(),In=x(ln);Ve(In,m,Ee=>{gt(Ee,{})},(Ee,Lt)=>{var rr=M();const ar=T(()=>o(Lt).default);var Ir=x(rr);We(Ir,()=>o(ar),(At,Mr)=>{Mr(At,{get hidden(){return o(ye)}})}),_(Ee,rr)},Ee=>{mt(Ee)}),_(_t,ln)},$$slots:{default:!0}})},Tn=ke=>{var _t=M(),Dn=x(_t);{var ln=Ee=>{Fe(Ee,{children:(Lt,rr)=>{var ar=M(),Ir=x(ar);Ve(Ir,k,At=>{gt(At,{})},(At,Mr)=>{var xa=M();const vo=T(()=>o(Mr).default);var ho=x(xa);We(ho,()=>o(vo),(po,_o)=>{_o(po,{})}),_(At,xa)},At=>{mt(At)}),_(Lt,ar)},$$slots:{default:!0}})},In=Ee=>{Fe(Ee,{children:(Lt,rr)=>{fu(Lt,{})},$$slots:{default:!0}})};q(Dn,Ee=>{O()==="confirmAccessKey"?Ee(ln):Ee(In,!1)},!0)}_(ke,_t)};q(An,ke=>{O()==="accessKeys"?ke(on):ke(Tn,!1)},!0)}_(Re,sn)};q(Na,Re=>{O()==="signin"?Re(nr):Re(Dr,!1)},!0)}_(an,tr)};q(Ca,an=>{O()==="signup"?an(uo):an(fo,!1)},!0)}_(pt,rn)};q(Ln,pt=>{O()==="auth"?pt(Ar):pt(Tr,!1)},!0)}_(Se,ht)};q(xt,Se=>{O()==="start"?Se(nn):Se(xn,!1)},!0)}_(ce,nt)};q(tt,ce=>{O()==="clearStorage"?ce(de):ce(xe,!1)},!0)}_(Q,fe)};q(Oe,Q=>{O()==="export"?Q(et):Q(ct,!1)},!0)}_(F,ae)};q(ie,F=>{O()==="import"?F(le):F(re,!1)},!0)}_(C,$)};q(en,C=>{O()==="newNote"?C(Nn):C(tn,!1)},!0)}_(Me,Qe)};q(oe,Me=>{O()==="settings"?Me(be):Me(Ie,!1)})}_(j,ne)};let r=T(vl),s=T(Lr),a=null,i=null,c=null,l=null,u=null,f=null,v=null,d=null;function h(){return a||(a=Ge(()=>import("./ImportData-AcDE-Eri.js"),__vite__mapDeps([6,7]))),a}function p(){return i||(i=Ge(()=>import("./ExportData-B90HZLTw.js"),__vite__mapDeps([8,9,10,11]))),i}function w(){return c||(c=Ge(()=>import("./ClearStore-DhS9w8fx.js"),__vite__mapDeps([12,13]))),c}function b(){return l||(l=Ge(()=>import("./Signup-C0uZ0vqI.js"),__vite__mapDeps([14,15,16]))),l}function g(){return u||(u=Ge(()=>import("./Signin-DLVuvV-k.js"),__vite__mapDeps([17,15,16]))),u}function m(){return f||(f=Ge(()=>import("./AccessKeys-BGc6NjzI.js"),__vite__mapDeps([18,15,19]))),f}function k(){return v||(v=Ge(()=>import("./ConfirmAccessKey-BqUAdtEa.js"),__vite__mapDeps([20,15,21,22,23]))),v}function A(){return d||(d=Ge(()=>import("./NewNote-CvrQITLq.js"),__vite__mapDeps([24,21,22,9,10,25]))),d}var D=du(),E=x(D);{var N=j=>{Uc(j)};q(E,j=>{o(s)&&j(N)})}var U=L(E,2);{var H=j=>{var O=M(),Ne=x(O);fn(Ne,17,()=>o(r),Oi,(ye,ne,oe)=>{{let be=T(()=>oe!==o(r).length-1&&!!o(r)[oe+1]?.shown);za(ye,{get shown(){return o(ne).shown},get hidden(){return o(be)},isLastDialog:oe===0,children:(Ie,Me)=>{{let Qe=T(()=>oe!==o(r).length-1&&!!o(r)[oe+1]?.shown);n(Ie,()=>o(ne).page,()=>o(Qe))}},$$slots:{default:!0}})}}),_(j,O)},X=j=>{var O=M(),Ne=x(O);{var ye=ne=>{{let oe=T(()=>o(r).length===1);za(ne,{onBack:()=>Hs(),get shown(){return o(r)[o(r).length-1].shown},hidden:!1,get isLastDialog(){return o(oe)},children:(be,Ie)=>{n(be,()=>o(r)[o(r).length-1].page)},$$slots:{default:!0}})}};q(Ne,ne=>{o(r).length>0&&ne(ye)},!0)}_(j,O)};q(U,j=>{Xt()?j(H):j(X,!1)})}_(e,D),Y()}const Rn=se({working:!1,swipingRatio:1,isSwiping:!1,duration:.35});let na=!1;const qr=()=>{document.activeElement instanceof HTMLInputElement&&document.activeElement.type==="text"||document.activeElement instanceof HTMLTextAreaElement?na=!0:na=!1},hu=()=>na;function pu(){const e=navigator.userAgent;if(!(/iPad|iPhone|iPod/.test(e)&&!window.MSStream))return!1;const n=/Safari/.test(e)&&!/Chrome/.test(e)&&!/CriOS/.test(e)&&!/FxiOS/.test(e),r=/Macintosh/.test(e)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>1;return!!n||!!r}const _u=pu();function gu(e,t){G(t,!1),we(()=>{qr(),document.addEventListener("focusin",qr),document.addEventListener("focusout",qr),document.addEventListener("touchmove",function(n){hu()&&_u&&n.preventDefault()},{passive:!1})}),Cn(),Y()}function mu(e,t){G(t,!1);let n=0;we(()=>{document.querySelector("div"),document.addEventListener("touchstart",r=>{n=r.touches[0].clientX},{passive:!1}),document.addEventListener("touchmove",r=>{const a=r.touches[0].clientX-n;(n<50&&a>0||n>window.innerWidth-50&&a<0)&&r.preventDefault()},{passive:!1}),document.addEventListener("touchend",()=>{n=0}),document.addEventListener("touchcancel",()=>{n=0})}),Cn(),Y()}var wu=R('<!> <!> <!> <main><!> <div class="container svelte-ngsolt"><!></div></main>',1);function yu(e,t){G(t,!0),we(async()=>{await new Promise(p=>setTimeout(p,100)),await Si(),Rn.working=!0});let n=T(()=>Xe().length>0),r=T(Lr),s=I(null);je(()=>{Xt()||(mr.ref=o(s))});var a=wu(),i=x(a);mu(i,{});var c=L(i,2);gu(c,{});var l=L(c,2);Zi(l,{});var u=L(l,2),f=y(u);{var v=p=>{Il(p,{})};q(f,p=>{o(r)&&p(v)})}var d=L(f,2),h=y(d);vu(h,{}),Pt(u,p=>S(s,p),()=>o(s)),te(()=>{gr(u,`--swiping-ratio: ${Rn.swipingRatio}; --transition-timing-default: ${Rn.duration}s;`),J(u,1,Z(["main",{isAnimationOn:Rn.working&&!Rn.isSwiping,open:o(n)}]),"svelte-ngsolt")}),_(e,a),Y()}window.addEventListener("unhandledrejection",e=>{alert("Error: "+e.reason.message)});window.isUnsupportedBrowser||Di(yu,{target:document.getElementById("app")});export{Lr as $,$l as A,Ct as B,Eu as C,Au as D,se as E,Ka as F,Cu as G,Du as H,Pu as I,Nu as J,fn as K,io as L,he as M,ve as N,xr as O,Oi as P,T as Q,Te as R,Xe as S,P as T,jl as U,Kn as V,xu as W,Hs as X,fl as Y,me as Z,Ki as _,o as a,lr as a0,Cn as a1,Lu as a2,ku as a3,ge as a4,jr as a5,dr as a6,gr as a7,Rn as a8,hu as a9,Et as aa,Pc as ab,Iu as ac,gl as ad,ou as ae,vl as af,Ms as ag,Qi as ah,I as b,y as c,_ as d,Y as e,R as f,Xl as g,L as h,q as i,x as j,Xt as k,M as l,Pt as m,S as n,we as o,G as p,te as q,J as r,Fn as s,Je as t,je as u,Z as v,xs as w,De as x,Tu as y,$s as z};
