const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/DesktopDialog-Bu0d62FY.js","assets/DesktopDialog-D8zTl_PA.css","assets/ImportData-CdhHUx7e.js","assets/ImportData-CZGzVRRc.css","assets/ExportData-Dn010oWg.js","assets/ExportData-SlkOBNhU.css","assets/ClearStore-Cgxycp7Y.js","assets/ClearStore-DiVqV26R.css","assets/Signup-CmA5-K1S.js","assets/api-7nXQQ8YG.js","assets/Signup-CnX7iJxK.css","assets/Signin-xfxm8a3-.js","assets/AccessKeys-fCAiPN2Q.js","assets/AccessKeys-D6nfWAWI.css","assets/ConfirmAccessKey-BJWYlaZZ.js","assets/ConfirmAccessKey-BEOXyioc.css"])))=>i.map(i=>d[i]);
var wo=Object.defineProperty;var Pa=e=>{throw TypeError(e)};var yo=(e,t,n)=>t in e?wo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var or=(e,t,n)=>yo(e,typeof t!="symbol"?t+"":t,n),Nr=(e,t,n)=>t.has(e)||Pa("Cannot "+n);var ne=(e,t,n)=>(Nr(e,t,"read from private field"),n?n.call(e):t.get(e)),Ue=(e,t,n)=>t.has(e)?Pa("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Ge=(e,t,n,r)=>(Nr(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Bn=(e,t,n)=>(Nr(e,t,"access private method"),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();const Ya=!1;var ea=Array.isArray,bo=Array.prototype.indexOf,ta=Array.from,Ur=Object.defineProperty,hn=Object.getOwnPropertyDescriptor,Xa=Object.getOwnPropertyDescriptors,So=Object.prototype,ko=Array.prototype,na=Object.getPrototypeOf,xa=Object.isExtensible;const Qt=()=>{};function Eo(e){return typeof e?.then=="function"}function To(e){return e()}function hr(e){for(var t=0;t<e.length;t++)e[t]()}function Co(){var e,t,n=new Promise((r,s)=>{e=r,t=s});return{promise:n,resolve:e,reject:t}}function Po(e,t,n=!1){return e===void 0?n?t():t:e}const je=2,ra=4,yr=8,Gn=16,wt=32,xn=64,Ga=128,Qe=256,gr=512,Ce=1024,Re=2048,en=4096,at=8192,tn=16384,aa=32768,Jn=65536,Da=1<<17,xo=1<<18,sa=1<<19,oa=1<<20,zr=1<<21,ia=1<<22,Wt=1<<23,Yt=Symbol("$state"),Do=Symbol("legacy props"),Ao=Symbol(""),la=new class extends Error{constructor(){super(...arguments);or(this,"name","StaleReactionError");or(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function Lo(){throw new Error("https://svelte.dev/e/await_outside_boundary")}function No(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Oo(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Mo(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Io(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Ro(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Bo(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Fo(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function Ho(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Uo(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function zo(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}const br=1,Sr=2,Ja=4,jo=8,Vo=16,Ko=1,qo=2,Wo=4,Yo=8,Xo=16,Go=1,Jo=2,me=Symbol(),Zo="http://www.w3.org/1999/xhtml";let Qo=!1;function Za(e){return e===this.v}function $o(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Qa(e){return!$o(e,this.v)}let Dn=!1,ei=!1;function ti(){Dn=!0}let pe=null;function yn(e){pe=e}function Y(e,t=!1,n){pe={p:pe,c:null,e:null,s:e,x:null,l:Dn&&!t?{s:null,u:null,$:[]}:null}}function X(e){var t=pe,n=t.e;if(n!==null){t.e=null;for(var r of n)vs(r)}return e!==void 0&&(t.x=e),pe=t.p,e??{}}function nn(){return!Dn||pe!==null&&pe.l===null}const ni=new WeakMap;function ri(e){var t=Q;if(t===null)return J.f|=Wt,e;if((t.f&aa)===0){if((t.f&Ga)===0)throw!t.parent&&e instanceof Error&&$a(e),e;t.b.error(e)}else ca(e,t)}function ca(e,t){for(;t!==null;){if((t.f&Ga)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e instanceof Error&&$a(e),e}function $a(e){const t=ni.get(e);t&&(Ur(e,"message",{value:t.message}),Ur(e,"stack",{value:t.stack}))}let zn=[],jr=[];function es(){var e=zn;zn=[],hr(e)}function ai(){var e=jr;jr=[],hr(e)}function kr(e){zn.length===0&&queueMicrotask(es),zn.push(e)}function si(){zn.length>0&&es(),jr.length>0&&ai()}function oi(){for(var e=Q.b;e!==null&&!e.has_pending_snippet();)e=e.parent;return e===null&&Lo(),e}function Zn(e){var t=je|Re,n=J!==null&&(J.f&je)!==0?J:null;return Q===null||n!==null&&(n.f&Qe)!==0?t|=Qe:Q.f|=sa,{ctx:pe,deps:null,effects:null,equals:Za,f:t,fn:e,reactions:null,rv:0,v:me,wv:0,parent:n??Q,ac:null}}function ii(e,t){let n=Q;n===null&&Oo();var r=n.b,s=void 0,a=$t(me),i=null,l=!J;return wi(()=>{try{var c=e()}catch(h){c=Promise.reject(h)}var u=()=>c;s=i?.then(u,u)??Promise.resolve(c),i=s;var d=_e,v=r.pending;l&&(r.update_pending_count(1),v||d.increment());const f=(h,g=void 0)=>{i=null,v||d.activate(),g?g!==la&&(a.f|=Wt,Lt(a,g)):((a.f&Wt)!==0&&(a.f^=Wt),Lt(a,h)),l&&(r.update_pending_count(-1),v||d.decrement()),rs()};if(s.then(f,h=>f(null,h||"unknown")),d)return()=>{queueMicrotask(()=>d.neuter())}}),new Promise(c=>{function u(d){function v(){d===s?c(a):u(s)}d.then(v,v)}u(s)})}function j(e){const t=Zn(e);return ws(t),t}function Er(e){const t=Zn(e);return t.equals=Qa,t}function ts(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)ft(t[n])}}function li(e){for(var t=e.parent;t!==null;){if((t.f&je)===0)return t;t=t.parent}return null}function ua(e){var t,n=Q;vt(li(e));try{ts(e),t=Ss(e)}finally{vt(n)}return t}function ns(e){var t=ua(e);if(e.equals(t)||(e.v=t,e.wv=ys()),!an)if(bn!==null)bn.set(e,e.v);else{var n=(xt||(e.f&Qe)!==0)&&e.deps!==null?en:Ce;Pe(e,n)}}function ci(e,t,n){const r=nn()?Zn:Er;if(t.length===0){n(e.map(r));return}var s=_e,a=Q,i=ui(),l=oi();Promise.all(t.map(c=>ii(c))).then(c=>{s?.activate(),i();try{n([...e.map(r),...c])}catch(u){(a.f&tn)===0&&ca(u,a)}s?.deactivate(),rs()}).catch(c=>{l.error(c)})}function ui(){var e=Q,t=J,n=pe;return function(){vt(e),$e(t),yn(n)}}function rs(){vt(null),$e(null),yn(null)}const ir=new Set;let _e=null,bn=null,Aa=new Set,pr=[];function as(){const e=pr.shift();pr.length>0&&queueMicrotask(as),e()}let vn=[],Tr=null,Vr=!1;var Wn,_n,mn,Ct,Yn,Xn,Kt,wn,Pt,pt,qt,mt,ss,os,Kr;const wr=class wr{constructor(){Ue(this,mt);Ue(this,Wn,new Map);Ue(this,_n,new Map);Ue(this,mn,new Set);Ue(this,Ct,0);Ue(this,Yn,null);Ue(this,Xn,!1);Ue(this,Kt,[]);Ue(this,wn,[]);Ue(this,Pt,[]);Ue(this,pt,[]);Ue(this,qt,[]);or(this,"skipped_effects",new Set)}capture(t,n){ne(this,_n).has(t)||ne(this,_n).set(t,n),ne(this,Wn).set(t,t.v)}activate(){_e=this}deactivate(){_e=null;for(const t of Aa)if(Aa.delete(t),t(),_e!==null)break}neuter(){Ge(this,Xn,!0)}flush(){vn.length>0?this.flush_effects():Bn(this,mt,Kr).call(this),_e===this&&(ne(this,Ct)===0&&ir.delete(this),this.deactivate())}flush_effects(){var t=pn;Vr=!0;try{var n=0;for(Oa(!0);vn.length>0;){if(n++>1e3){var r,s;di()}Bn(this,mt,ss).call(this,vn),Xt.clear()}}finally{Vr=!1,Oa(t),Tr=null}}increment(){Ge(this,Ct,ne(this,Ct)+1)}decrement(){if(Ge(this,Ct,ne(this,Ct)-1),ne(this,Ct)===0){for(const t of ne(this,Pt))Pe(t,Re),At(t);for(const t of ne(this,pt))Pe(t,Re),At(t);for(const t of ne(this,qt))Pe(t,Re),At(t);Ge(this,Pt,[]),Ge(this,pt,[]),this.flush()}else this.deactivate()}add_callback(t){ne(this,mn).add(t)}settled(){return(ne(this,Yn)??Ge(this,Yn,Co())).promise}static ensure(t=!0){if(_e===null){const n=_e=new wr;ir.add(_e),t&&wr.enqueue(()=>{_e===n&&n.flush()})}return _e}static enqueue(t){pr.length===0&&queueMicrotask(as),pr.unshift(t)}};Wn=new WeakMap,_n=new WeakMap,mn=new WeakMap,Ct=new WeakMap,Yn=new WeakMap,Xn=new WeakMap,Kt=new WeakMap,wn=new WeakMap,Pt=new WeakMap,pt=new WeakMap,qt=new WeakMap,mt=new WeakSet,ss=function(t){vn=[];var n=null;if(ir.size>1){n=new Map,bn=new Map;for(const[a,i]of ne(this,Wn))n.set(a,{v:a.v,wv:a.wv}),a.v=i;for(const a of ir)if(a!==this)for(const[i,l]of ne(a,_n))n.has(i)||(n.set(i,{v:i.v,wv:i.wv}),i.v=l)}for(const a of t)Bn(this,mt,os).call(this,a);if(ne(this,Kt).length===0&&ne(this,Ct)===0){var r=ne(this,Pt),s=ne(this,pt);Ge(this,Pt,[]),Ge(this,pt,[]),Ge(this,qt,[]),Bn(this,mt,Kr).call(this),La(r),La(s),ne(this,Yn)?.resolve()}else{for(const a of ne(this,Pt))Pe(a,Ce);for(const a of ne(this,pt))Pe(a,Ce);for(const a of ne(this,qt))Pe(a,Ce)}if(n){for(const[a,{v:i,wv:l}]of n)a.wv<=l&&(a.v=i);bn=null}for(const a of ne(this,Kt))Un(a);for(const a of ne(this,wn))Un(a);Ge(this,Kt,[]),Ge(this,wn,[])},os=function(t){t.f^=Ce;for(var n=t.first;n!==null;){var r=n.f,s=(r&(wt|xn))!==0,a=s&&(r&Ce)!==0,i=a||(r&at)!==0||this.skipped_effects.has(n);if(!i&&n.fn!==null){if(s)n.f^=Ce;else if((r&ra)!==0)ne(this,pt).push(n);else if(Pr(n))if((r&ia)!==0){var l=n.b?.pending?ne(this,wn):ne(this,Kt);l.push(n)}else(n.f&Gn)!==0&&ne(this,qt).push(n),Un(n);var c=n.first;if(c!==null){n=c;continue}}var u=n.parent;for(n=n.next;n===null&&u!==null;)n=u.next,u=u.parent}},Kr=function(){if(!ne(this,Xn))for(const t of ne(this,mn))t();ne(this,mn).clear()};let jn=wr;function is(e){var t;const n=jn.ensure(!1);for(;;){if(si(),vn.length===0)return n===_e&&n.flush(),Tr=null,t;n.flush_effects()}}function di(){try{Bo()}catch(e){ca(e,Tr)}}function La(e){var t=e.length;if(t!==0){for(var n=0;n<t;n++){var r=e[n];if((r.f&(tn|at))===0&&Pr(r)){var s=_r;if(Un(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?ps(r):r.fn=null),_r>s&&(r.f&oa)!==0)break}}for(;n<t;n+=1)At(e[n])}}function At(e){for(var t=Tr=e;t.parent!==null;){t=t.parent;var n=t.f;if(Vr&&t===Q&&(n&Gn)!==0)return;if((n&(xn|wt))!==0){if((n&Ce)===0)return;t.f^=Ce}}vn.push(t)}const Xt=new Map;function $t(e,t){var n={f:0,v:e,reactions:null,equals:Za,rv:0,wv:0};return n}function R(e,t){const n=$t(e);return ws(n),n}function qr(e,t=!1,n=!0){var s;const r=$t(e);return t||(r.equals=Qa),Dn&&n&&pe!==null&&pe.l!==null&&((s=pe.l).s??(s.s=[])).push(r),r}function T(e,t,n=!1){J!==null&&(!ct||(J.f&Da)!==0)&&nn()&&(J.f&(je|Gn|ia|Da))!==0&&!_t?.includes(e)&&zo();let r=n?he(t):t;return Lt(e,r)}function Lt(e,t){if(!e.equals(t)){var n=e.v;an?Xt.set(e,t):Xt.set(e,n),e.v=t,jn.ensure().capture(e,n),(e.f&je)!==0&&((e.f&Re)!==0&&ua(e),Pe(e,(e.f&Qe)===0?Ce:en)),e.wv=ys(),ls(e,Re),nn()&&Q!==null&&(Q.f&Ce)!==0&&(Q.f&(wt|xn))===0&&(Ze===null?Si([e]):Ze.push(e))}return t}function Or(e){T(e,e.v+1)}function ls(e,t){var n=e.reactions;if(n!==null)for(var r=nn(),s=n.length,a=0;a<s;a++){var i=n[a],l=i.f;!r&&i===Q||((l&Re)===0&&Pe(i,t),(l&je)!==0?ls(i,en):(l&Re)===0&&At(i))}}function he(e){if(typeof e!="object"||e===null||Yt in e)return e;const t=na(e);if(t!==So&&t!==ko)return e;var n=new Map,r=ea(e),s=R(0),a=Jt,i=l=>{if(Jt===a)return l();var c=J,u=Jt;$e(null),Ia(a);var d=l();return $e(c),Ia(u),d};return r&&n.set("length",R(e.length)),new Proxy(e,{defineProperty(l,c,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&Ho();var d=n.get(c);return d===void 0?d=i(()=>{var v=R(u.value);return n.set(c,v),v}):T(d,u.value,!0),!0},deleteProperty(l,c){var u=n.get(c);if(u===void 0){if(c in l){const d=i(()=>R(me));n.set(c,d),Or(s)}}else T(u,me),Or(s);return!0},get(l,c,u){if(c===Yt)return e;var d=n.get(c),v=c in l;if(d===void 0&&(!v||hn(l,c)?.writable)&&(d=i(()=>{var h=he(v?l[c]:me),g=R(h);return g}),n.set(c,d)),d!==void 0){var f=o(d);return f===me?void 0:f}return Reflect.get(l,c,u)},getOwnPropertyDescriptor(l,c){var u=Reflect.getOwnPropertyDescriptor(l,c);if(u&&"value"in u){var d=n.get(c);d&&(u.value=o(d))}else if(u===void 0){var v=n.get(c),f=v?.v;if(v!==void 0&&f!==me)return{enumerable:!0,configurable:!0,value:f,writable:!0}}return u},has(l,c){if(c===Yt)return!0;var u=n.get(c),d=u!==void 0&&u.v!==me||Reflect.has(l,c);if(u!==void 0||Q!==null&&(!d||hn(l,c)?.writable)){u===void 0&&(u=i(()=>{var f=d?he(l[c]):me,h=R(f);return h}),n.set(c,u));var v=o(u);if(v===me)return!1}return d},set(l,c,u,d){var v=n.get(c),f=c in l;if(r&&c==="length")for(var h=u;h<v.v;h+=1){var g=n.get(h+"");g!==void 0?T(g,me):h in l&&(g=i(()=>R(me)),n.set(h+"",g))}if(v===void 0)(!f||hn(l,c)?.writable)&&(v=i(()=>R(void 0)),T(v,he(u)),n.set(c,v));else{f=v.v!==me;var p=i(()=>he(u));T(v,p)}var _=Reflect.getOwnPropertyDescriptor(l,c);if(_?.set&&_.set.call(d,u),!f){if(r&&typeof c=="string"){var y=n.get("length"),k=Number(c);Number.isInteger(k)&&k>=y.v&&T(y,k+1)}Or(s)}return!0},ownKeys(l){o(s);var c=Reflect.ownKeys(l).filter(v=>{var f=n.get(v);return f===void 0||f.v!==me});for(var[u,d]of n)d.v!==me&&!(u in l)&&c.push(u);return c},setPrototypeOf(){Uo()}})}var Na,cs,us,ds;function fi(){if(Na===void 0){Na=window,cs=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;us=hn(t,"firstChild").get,ds=hn(t,"nextSibling").get,xa(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),xa(n)&&(n.__t=void 0)}}function rn(e=""){return document.createTextNode(e)}function Sn(e){return us.call(e)}function Cr(e){return ds.call(e)}function b(e,t){return Sn(e)}function N(e,t){{var n=Sn(e);return n instanceof Comment&&n.data===""?Cr(n):n}}function x(e,t=1,n=!1){let r=e;for(;t--;)r=Cr(r);return r}function vi(e){e.textContent=""}function da(){return!1}function fs(e){Q===null&&J===null&&Ro(),J!==null&&(J.f&Qe)!==0&&Q===null&&Io(),an&&Mo()}function hi(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function ht(e,t,n,r=!0){var s=Q;s!==null&&(s.f&at)!==0&&(e|=at);var a={ctx:pe,deps:null,nodes_start:null,nodes_end:null,f:e|Re,first:null,fn:t,last:null,next:null,parent:s,b:s&&s.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{Un(a),a.f|=aa}catch(c){throw ft(a),c}else t!==null&&At(a);var i=n&&a.deps===null&&a.first===null&&a.nodes_start===null&&a.teardown===null&&(a.f&sa)===0;if(!i&&r&&(s!==null&&hi(a,s),J!==null&&(J.f&je)!==0)){var l=J;(l.effects??(l.effects=[])).push(a)}return a}function gi(e){const t=ht(yr,null,!1);return Pe(t,Ce),t.teardown=e,t}function Ne(e){fs();var t=Q.f,n=!J&&(t&wt)!==0&&(t&aa)===0;if(n){var r=pe;(r.e??(r.e=[])).push(e)}else return vs(e)}function vs(e){return ht(ra|oa,e,!1)}function pi(e){return fs(),ht(yr|oa,e,!0)}function _i(e){jn.ensure();const t=ht(xn,e,!0);return(n={})=>new Promise(r=>{n.outro?Gt(t,()=>{ft(t),r(void 0)}):(ft(t),r(void 0))})}function mi(e){return ht(ra,e,!1)}function wi(e){return ht(ia|sa,e,!0)}function fa(e,t=0){return ht(yr|t,e,!0)}function ce(e,t=[],n=[]){ci(t,n,r=>{ht(yr,()=>e(...r.map(o)),!0)})}function Qn(e,t=0){var n=ht(Gn|t,e,!0);return n}function ut(e,t=!0){return ht(wt,e,!0,t)}function hs(e){var t=e.teardown;if(t!==null){const n=an,r=J;Ma(!0),$e(null);try{t.call(null)}finally{Ma(n),$e(r)}}}function gs(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){n.ac?.abort(la);var r=n.next;(n.f&xn)!==0?n.parent=null:ft(n,t),n=r}}function yi(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&wt)===0&&ft(t),t=n}}function ft(e,t=!0){var n=!1;(t||(e.f&xo)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(bi(e.nodes_start,e.nodes_end),n=!0),gs(e,t&&!n),mr(e,0),Pe(e,tn);var r=e.transitions;if(r!==null)for(const a of r)a.stop();hs(e);var s=e.parent;s!==null&&s.first!==null&&ps(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function bi(e,t){for(;e!==null;){var n=e===t?null:Cr(e);e.remove(),e=n}}function ps(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function Gt(e,t){var n=[];va(e,n,!0),_s(n,()=>{ft(e),t&&t()})}function _s(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var s of e)s.out(r)}else t()}function va(e,t,n){if((e.f&at)===0){if(e.f^=at,e.transitions!==null)for(const i of e.transitions)(i.is_global||n)&&t.push(i);for(var r=e.first;r!==null;){var s=r.next,a=(r.f&Jn)!==0||(r.f&wt)!==0;va(r,t,a?n:!1),r=s}}}function gn(e){ms(e,!0)}function ms(e,t){if((e.f&at)!==0){e.f^=at,(e.f&Ce)===0&&(Pe(e,Re),At(e));for(var n=e.first;n!==null;){var r=n.next,s=(n.f&Jn)!==0||(n.f&wt)!==0;ms(n,s?t:!1),n=r}if(e.transitions!==null)for(const a of e.transitions)(a.is_global||t)&&a.in()}}let pn=!1;function Oa(e){pn=e}let an=!1;function Ma(e){an=e}let J=null,ct=!1;function $e(e){J=e}let Q=null;function vt(e){Q=e}let _t=null;function ws(e){J!==null&&(_t===null?_t=[e]:_t.push(e))}let Le=null,ze=0,Ze=null;function Si(e){Ze=e}let _r=1,Vn=0,Jt=Vn;function Ia(e){Jt=e}let xt=!1;function ys(){return++_r}function Pr(e){var t=e.f;if((t&Re)!==0)return!0;if((t&en)!==0){var n=e.deps,r=(t&Qe)!==0;if(n!==null){var s,a,i=(t&gr)!==0,l=r&&Q!==null&&!xt,c=n.length;if((i||l)&&(Q===null||(Q.f&tn)===0)){var u=e,d=u.parent;for(s=0;s<c;s++)a=n[s],(i||!a?.reactions?.includes(u))&&(a.reactions??(a.reactions=[])).push(u);i&&(u.f^=gr),l&&d!==null&&(d.f&Qe)===0&&(u.f^=Qe)}for(s=0;s<c;s++)if(a=n[s],Pr(a)&&ns(a),a.wv>e.wv)return!0}(!r||Q!==null&&!xt)&&Pe(e,Ce)}return!1}function bs(e,t,n=!0){var r=e.reactions;if(r!==null&&!_t?.includes(e))for(var s=0;s<r.length;s++){var a=r[s];(a.f&je)!==0?bs(a,t,!1):t===a&&(n?Pe(a,Re):(a.f&Ce)!==0&&Pe(a,en),At(a))}}function Ss(e){var g;var t=Le,n=ze,r=Ze,s=J,a=xt,i=_t,l=pe,c=ct,u=Jt,d=e.f;Le=null,ze=0,Ze=null,xt=(d&Qe)!==0&&(ct||!pn||J===null),J=(d&(wt|xn))===0?e:null,_t=null,yn(e.ctx),ct=!1,Jt=++Vn,e.ac!==null&&(e.ac.abort(la),e.ac=null);try{e.f|=zr;var v=(0,e.fn)(),f=e.deps;if(Le!==null){var h;if(mr(e,ze),f!==null&&ze>0)for(f.length=ze+Le.length,h=0;h<Le.length;h++)f[ze+h]=Le[h];else e.deps=f=Le;if(!xt||(d&je)!==0&&e.reactions!==null)for(h=ze;h<f.length;h++)((g=f[h]).reactions??(g.reactions=[])).push(e)}else f!==null&&ze<f.length&&(mr(e,ze),f.length=ze);if(nn()&&Ze!==null&&!ct&&f!==null&&(e.f&(je|en|Re))===0)for(h=0;h<Ze.length;h++)bs(Ze[h],e);return s!==null&&s!==e&&(Vn++,Ze!==null&&(r===null?r=Ze:r.push(...Ze))),(e.f&Wt)!==0&&(e.f^=Wt),v}catch(p){return ri(p)}finally{e.f^=zr,Le=t,ze=n,Ze=r,J=s,xt=a,_t=i,yn(l),ct=c,Jt=u}}function ki(e,t){let n=t.reactions;if(n!==null){var r=bo.call(n,e);if(r!==-1){var s=n.length-1;s===0?n=t.reactions=null:(n[r]=n[s],n.pop())}}n===null&&(t.f&je)!==0&&(Le===null||!Le.includes(t))&&(Pe(t,en),(t.f&(Qe|gr))===0&&(t.f^=gr),ts(t),mr(t,0))}function mr(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)ki(e,n[r])}function Un(e){var t=e.f;if((t&tn)===0){Pe(e,Ce);var n=Q,r=pn;Q=e,pn=!0;try{(t&Gn)!==0?yi(e):gs(e),hs(e);var s=Ss(e);e.teardown=typeof s=="function"?s:null,e.wv=_r;var a;Ya&&ei&&(e.f&Re)!==0&&e.deps}finally{pn=r,Q=n}}}async function Ei(){await Promise.resolve(),is()}function o(e){var t=e.f,n=(t&je)!==0;if(J!==null&&!ct){var r=Q!==null&&(Q.f&tn)!==0;if(!r&&!_t?.includes(e)){var s=J.deps;if((J.f&zr)!==0)e.rv<Vn&&(e.rv=Vn,Le===null&&s!==null&&s[ze]===e?ze++:Le===null?Le=[e]:(!xt||!Le.includes(e))&&Le.push(e));else{(J.deps??(J.deps=[])).push(e);var a=e.reactions;a===null?e.reactions=[J]:a.includes(J)||a.push(J)}}}else if(n&&e.deps===null&&e.effects===null){var i=e,l=i.parent;l!==null&&(l.f&Qe)===0&&(i.f^=Qe)}if(an){if(Xt.has(e))return Xt.get(e);if(n){i=e;var c=i.v;return((i.f&Ce)===0&&i.reactions!==null||ks(i))&&(c=ua(i)),Xt.set(i,c),c}}else if(n){if(i=e,bn?.has(i))return bn.get(i);Pr(i)&&ns(i)}if((e.f&Wt)!==0)throw e.v;return e.v}function ks(e){if(e.v===me)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(Xt.has(t)||(t.f&je)!==0&&ks(t))return!0;return!1}function $n(e){var t=ct;try{return ct=!0,e()}finally{ct=t}}const Ti=-7169;function Pe(e,t){e.f=e.f&Ti|t}function Ci(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Yt in e)Wr(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&Yt in n&&Wr(n)}}}function Wr(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{Wr(e[r],t)}catch{}const n=na(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=Xa(n);for(let s in r){const a=r[s].get;if(a)try{a.call(e)}catch{}}}}}const Pi=["touchstart","touchmove"];function xi(e){return Pi.includes(e)}let Ra=!1;function Di(){Ra||(Ra=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function Es(e){var t=J,n=Q;$e(null),vt(null);try{return e()}finally{$e(t),vt(n)}}function Ai(e,t,n,r=n){e.addEventListener(t,()=>Es(n));const s=e.__on_r;s?e.__on_r=()=>{s(),r(!0)}:e.__on_r=()=>r(!0),Di()}const Ts=new Set,Yr=new Set;function Li(e,t,n,r={}){function s(a){if(r.capture||Fn.call(t,a),!a.cancelBubble)return Es(()=>n?.call(this,a))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?kr(()=>{t.addEventListener(e,s,r)}):t.addEventListener(e,s,r),s}function kn(e,t,n,r,s){var a={capture:r,passive:s},i=Li(e,t,n,a);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&gi(()=>{t.removeEventListener(e,i,a)})}function Be(e){for(var t=0;t<e.length;t++)Ts.add(e[t]);for(var n of Yr)n(e)}function Fn(e){var t=this,n=t.ownerDocument,r=e.type,s=e.composedPath?.()||[],a=s[0]||e.target,i=0,l=e.__root;if(l){var c=s.indexOf(l);if(c!==-1&&(t===document||t===window)){e.__root=t;return}var u=s.indexOf(t);if(u===-1)return;c<=u&&(i=c)}if(a=s[i]||e.target,a!==t){Ur(e,"currentTarget",{configurable:!0,get(){return a||n}});var d=J,v=Q;$e(null),vt(null);try{for(var f,h=[];a!==null;){var g=a.assignedSlot||a.parentNode||a.host||null;try{var p=a["__"+r];if(p!=null&&(!a.disabled||e.target===a))if(ea(p)){var[_,...y]=p;_.apply(a,[e,...y])}else p.call(a,e)}catch(k){f?h.push(k):f=k}if(e.cancelBubble||g===t||g===null)break;a=g}if(f){for(let k of h)queueMicrotask(()=>{throw k});throw f}}finally{e.__root=t,delete e.currentTarget,$e(d),vt(v)}}}function Cs(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function Kn(e,t){var n=Q;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function F(e,t){var n=(t&Go)!==0,r=(t&Jo)!==0,s,a=!e.startsWith("<!>");return()=>{s===void 0&&(s=Cs(a?e:"<!>"+e),n||(s=Sn(s)));var i=r||cs?document.importNode(s,!0):s.cloneNode(!0);if(n){var l=Sn(i),c=i.lastChild;Kn(l,c)}else Kn(i,i);return i}}function Ni(e,t,n="svg"){var r=!e.startsWith("<!>"),s=`<${n}>${r?e:"<!>"+e}</${n}>`,a;return()=>{if(!a){var i=Cs(s),l=Sn(i);a=Sn(l)}var c=a.cloneNode(!0);return Kn(c,c),c}}function Oi(e,t){return Ni(e,t,"svg")}function Ve(e=""){{var t=rn(e+"");return Kn(t,t),t}}function K(){var e=document.createDocumentFragment(),t=document.createComment(""),n=rn();return e.append(t,n),Kn(t,n),e}function m(e,t){e!==null&&e.before(t)}function Mi(){var e;return(e=window.__svelte??(window.__svelte={})).uid??(e.uid=1),`c${window.__svelte.uid++}`}function Nt(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function Ii(e,t){return Ri(e,t)}const dn=new Map;function Ri(e,{target:t,anchor:n,props:r={},events:s,context:a,intro:i=!0}){fi();var l=new Set,c=v=>{for(var f=0;f<v.length;f++){var h=v[f];if(!l.has(h)){l.add(h);var g=xi(h);t.addEventListener(h,Fn,{passive:g});var p=dn.get(h);p===void 0?(document.addEventListener(h,Fn,{passive:g}),dn.set(h,1)):dn.set(h,p+1)}}};c(ta(Ts)),Yr.add(c);var u=void 0,d=_i(()=>{var v=n??t.appendChild(rn());return ut(()=>{if(a){Y({});var f=pe;f.c=a}s&&(r.$$events=s),u=e(v,r)||{},a&&X()}),()=>{for(var f of l){t.removeEventListener(f,Fn);var h=dn.get(f);--h===0?(document.removeEventListener(f,Fn),dn.delete(f)):dn.set(f,h)}Yr.delete(c),v!==n&&v.parentNode?.removeChild(v)}});return Bi.set(u,d),u}let Bi=new WeakMap;const Mr=0,lr=1,Ir=2;function St(e,t,n,r,s){var a=e,i=nn(),l=pe,c=me,u,d,v,f=i?$t(void 0):qr(void 0,!1,!1),h=i?$t(void 0):qr(void 0,!1,!1),g=!1;function p(y,k){g=!0,k&&(vt(_),$e(_),yn(l));try{y===Mr&&n&&(u?gn(u):u=ut(()=>n(a))),y===lr&&r&&(d?gn(d):d=ut(()=>r(a,f))),y===Ir&&s&&(v?gn(v):v=ut(()=>s(a,h))),y!==Mr&&u&&Gt(u,()=>u=null),y!==lr&&d&&Gt(d,()=>d=null),y!==Ir&&v&&Gt(v,()=>v=null)}finally{k&&(yn(null),$e(null),vt(null),is())}}var _=Qn(()=>{if(c!==(c=t())){if(Eo(c)){var y=c;g=!1,y.then(k=>{y===c&&(Lt(f,k),p(lr,!0))},k=>{if(y===c&&(Lt(h,k),p(Ir,!0),!s))throw h.v}),kr(()=>{g||p(Mr,!0)})}else Lt(f,c),p(lr,!1);return()=>c=me}})}function z(e,t,n=!1){var r=e,s=null,a=null,i=me,l=n?Jn:0,c=!1;const u=(h,g=!0)=>{c=!0,f(g,h)};var d=null;function v(){d!==null&&(d.lastChild.remove(),r.before(d),d=null);var h=i?s:a,g=i?a:s;h&&gn(h),g&&Gt(g,()=>{i?a=null:s=null})}const f=(h,g)=>{if(i!==(i=h)){var p=da(),_=r;if(p&&(d=document.createDocumentFragment(),d.append(_=rn())),i?s??(s=g&&ut(()=>g(_))):a??(a=g&&ut(()=>g(_))),p){var y=_e,k=i?s:a,w=i?a:s;k&&y.skipped_effects.delete(k),w&&y.skipped_effects.add(w),y.add_callback(v)}else v()}};Qn(()=>{c=!1,t(u),c||f(null,null)},l)}function Se(e,t){fa(()=>{var n=t();for(var r in n){var s=n[r];s?e.style.setProperty(r,s):e.style.removeProperty(r)}})}function Fi(e,t){return t}function Hi(e,t,n){for(var r=e.items,s=[],a=t.length,i=0;i<a;i++)va(t[i].e,s,!0);var l=a>0&&s.length===0&&n!==null;if(l){var c=n.parentNode;vi(c),c.append(n),r.clear(),it(e,t[0].prev,t[a-1].next)}_s(s,()=>{for(var u=0;u<a;u++){var d=t[u];l||(r.delete(d.k),it(e,d.prev,d.next)),ft(d.e,!l)}})}function rt(e,t,n,r,s,a=null){var i=e,l={flags:t,items:new Map,first:null},c=(t&Ja)!==0;if(c){var u=e;i=u.appendChild(rn())}var d=null,v=!1,f=new Map,h=Er(()=>{var y=n();return ea(y)?y:y==null?[]:ta(y)}),g,p;function _(){Ui(p,g,l,f,i,s,t,r,n),a!==null&&(g.length===0?d?gn(d):d=ut(()=>a(i)):d!==null&&Gt(d,()=>{d=null}))}Qn(()=>{p??(p=Q),g=o(h);var y=g.length;if(!(v&&y===0)){v=y===0;var k,w,E,C;if(da()){var P=new Set,S=_e;for(w=0;w<y;w+=1){E=g[w],C=r(E,w);var H=l.items.get(C)??f.get(C);H?(t&(br|Sr))!==0&&Ps(H,E,w,t):(k=xs(null,l,null,null,E,C,w,s,t,n,!0),f.set(C,k)),P.add(C)}for(const[A,U]of l.items)P.has(A)||S.skipped_effects.add(U.e);S.add_callback(_)}else _();o(h)}})}function Ui(e,t,n,r,s,a,i,l,c){var u=(i&jo)!==0,d=(i&(br|Sr))!==0,v=t.length,f=n.items,h=n.first,g=h,p,_=null,y,k=[],w=[],E,C,P,S;if(u)for(S=0;S<v;S+=1)E=t[S],C=l(E,S),P=f.get(C),P!==void 0&&(P.a?.measure(),(y??(y=new Set)).add(P));for(S=0;S<v;S+=1){if(E=t[S],C=l(E,S),P=f.get(C),P===void 0){var H=r.get(C);if(H!==void 0){r.delete(C),f.set(C,H);var A=_?_.next:g;it(n,_,H),it(n,H,A),Rr(H,A,s),_=H}else{var U=g?g.e.nodes_start:s;_=xs(U,n,_,_===null?n.first:_.next,E,C,S,a,i,c)}f.set(C,_),k=[],w=[],g=_.next;continue}if(d&&Ps(P,E,S,i),(P.e.f&at)!==0&&(gn(P.e),u&&(P.a?.unfix(),(y??(y=new Set)).delete(P))),P!==g){if(p!==void 0&&p.has(P)){if(k.length<w.length){var re=w[0],G;_=re.prev;var W=k[0],B=k[k.length-1];for(G=0;G<k.length;G+=1)Rr(k[G],re,s);for(G=0;G<w.length;G+=1)p.delete(w[G]);it(n,W.prev,B.next),it(n,_,W),it(n,B,re),g=re,_=B,S-=1,k=[],w=[]}else p.delete(P),Rr(P,g,s),it(n,P.prev,P.next),it(n,P,_===null?n.first:_.next),it(n,_,P),_=P;continue}for(k=[],w=[];g!==null&&g.k!==C;)(g.e.f&at)===0&&(p??(p=new Set)).add(g),w.push(g),g=g.next;if(g===null)continue;P=g}k.push(P),_=P,g=P.next}if(g!==null||p!==void 0){for(var O=p===void 0?[]:ta(p);g!==null;)(g.e.f&at)===0&&O.push(g),g=g.next;var D=O.length;if(D>0){var M=(i&Ja)!==0&&v===0?s:null;if(u){for(S=0;S<D;S+=1)O[S].a?.measure();for(S=0;S<D;S+=1)O[S].a?.fix()}Hi(n,O,M)}}u&&kr(()=>{if(y!==void 0)for(P of y)P.a?.apply()}),e.first=n.first&&n.first.e,e.last=_&&_.e;for(var V of r.values())ft(V.e);r.clear()}function Ps(e,t,n,r){(r&br)!==0&&Lt(e.v,t),(r&Sr)!==0?Lt(e.i,n):e.i=n}function xs(e,t,n,r,s,a,i,l,c,u,d){var v=(c&br)!==0,f=(c&Vo)===0,h=v?f?qr(s,!1,!1):$t(s):s,g=(c&Sr)===0?i:$t(i),p={i:g,v:h,k:a,a:null,e:null,prev:n,next:r};try{if(e===null){var _=document.createDocumentFragment();_.append(e=rn())}return p.e=ut(()=>l(e,h,g,u),Qo),p.e.prev=n&&n.e,p.e.next=r&&r.e,n===null?d||(t.first=p):(n.next=p,n.e.next=p.e),r!==null&&(r.prev=p,r.e.prev=p.e),p}finally{}}function Rr(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,s=t?t.e.nodes_start:n,a=e.e.nodes_start;a!==null&&a!==r;){var i=Cr(a);s.before(a),a=i}}function it(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function st(e,t,...n){var r=e,s=Qt,a;Qn(()=>{s!==(s=t())&&(a&&(ft(a),a=null),a=ut(()=>s(r,...n)))},Jn)}function kt(e,t,n){var r=e,s,a,i=null,l=null;function c(){a&&(Gt(a),a=null),i&&(i.lastChild.remove(),r.before(i),i=null),a=l,l=null}Qn(()=>{if(s!==(s=t())){var u=da();if(s){var d=r;u&&(i=document.createDocumentFragment(),i.append(d=rn())),l=ut(()=>n(d,s))}u?_e.add_callback(c):c()}},Jn)}function Ds(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=Ds(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function zi(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=Ds(e))&&(r&&(r+=" "),r+=t);return r}function te(e){return typeof e=="object"?zi(e):e??""}const Ba=[...` 	
\r\f \v\uFEFF`];function ji(e,t,n){var r=e==null?"":""+e;if(t&&(r=r?r+" "+t:t),n){for(var s in n)if(n[s])r=r?r+" "+s:s;else if(r.length)for(var a=s.length,i=0;(i=r.indexOf(s,i))>=0;){var l=i+a;(i===0||Ba.includes(r[i-1]))&&(l===r.length||Ba.includes(r[l]))?r=(i===0?"":r.substring(0,i))+r.substring(l+1):i=l}}return r===""?null:r}function Vi(e,t){return e==null?null:String(e)}function Z(e,t,n,r,s,a){var i=e.__className;if(i!==n||i===void 0){var l=ji(n,r,a);l==null?e.removeAttribute("class"):e.className=l,e.__className=n}else if(a&&s!==a)for(var c in a){var u=!!a[c];(s==null||u!==!!s[c])&&e.classList.toggle(c,u)}return a}function qn(e,t,n,r){var s=e.__style;if(s!==t){var a=Vi(t);a==null?e.removeAttribute("style"):e.style.cssText=a,e.__style=t}return r}const Ki=Symbol("is custom element"),qi=Symbol("is html");function fr(e,t){var n=ha(e);n.value===(n.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function vr(e,t){var n=ha(e);n.checked!==(n.checked=t??void 0)&&(e.checked=t)}function ve(e,t,n,r){var s=ha(e);s[t]!==(s[t]=n)&&(t==="loading"&&(e[Ao]=n),n==null?e.removeAttribute(t):typeof n!="string"&&Wi(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function ha(e){return e.__attributes??(e.__attributes={[Ki]:e.nodeName.includes("-"),[qi]:e.namespaceURI===Zo})}var Fa=new Map;function Wi(e){var t=Fa.get(e.nodeName);if(t)return t;Fa.set(e.nodeName,t=[]);for(var n,r=e,s=Element.prototype;s!==r;){n=Xa(r);for(var a in n)n[a].set&&t.push(a);r=na(r)}return t}function ga(e,t,n=t){var r=nn(),s=new WeakSet;Ai(e,"input",a=>{var i=a?e.defaultValue:e.value;if(i=Br(e)?Fr(i):i,n(i),_e!==null&&s.add(_e),r&&i!==(i=t())){var l=e.selectionStart,c=e.selectionEnd;e.value=i??"",c!==null&&(e.selectionStart=l,e.selectionEnd=Math.min(c,e.value.length))}}),$n(t)==null&&e.value&&(n(Br(e)?Fr(e.value):e.value),_e!==null&&s.add(_e)),fa(()=>{var a=t();e===document.activeElement&&s.has(_e)||Br(e)&&a===Fr(e.value)||e.type==="date"&&!a&&!e.value||a!==e.value&&(e.value=a??"")})}function Br(e){var t=e.type;return t==="number"||t==="range"}function Fr(e){return e===""?null:+e}function Ha(e,t){return e===t||e?.[Yt]===t}function et(e={},t,n,r){return mi(()=>{var s,a;return fa(()=>{s=a,a=[],$n(()=>{e!==n(...a)&&(t(e,...a),s&&Ha(n(...s),e)&&t(null,...s))})}),()=>{kr(()=>{a&&Ha(n(...a),e)&&t(null,...a)})}}),e}function An(e=!1){const t=pe,n=t.l.u;if(!n)return;let r=()=>Ci(t.s);if(e){let s=0,a={};const i=Zn(()=>{let l=!1;const c=t.s;for(const u in c)c[u]!==a[u]&&(a[u]=c[u],l=!0);return l&&s++,s});r=()=>o(i)}n.b.length&&pi(()=>{Ua(t,r),hr(n.b)}),Ne(()=>{const s=$n(()=>n.m.map(To));return()=>{for(const a of s)typeof a=="function"&&a()}}),n.a.length&&Ne(()=>{Ua(t,r),hr(n.a)})}function Ua(e,t){if(e.l.s)for(const n of e.l.s)o(n);t()}let cr=!1;function Yi(e){var t=cr;try{return cr=!1,[e(),cr]}finally{cr=t}}function ae(e,t,n,r){var s=!Dn||(n&qo)!==0,a=(n&Yo)!==0,i=(n&Xo)!==0,l=r,c=!0,u=()=>(c&&(c=!1,l=i?$n(r):r),l),d;if(a){var v=Yt in e||Do in e;d=hn(e,t)?.set??(v&&t in e?w=>e[t]=w:void 0)}var f,h=!1;a?[f,h]=Yi(()=>e[t]):f=e[t],f===void 0&&r!==void 0&&(f=u(),d&&(s&&Fo(),d(f)));var g;if(s?g=()=>{var w=e[t];return w===void 0?u():(c=!0,w)}:g=()=>{var w=e[t];return w!==void 0&&(l=void 0),w===void 0?l:w},s&&(n&Wo)===0)return g;if(d){var p=e.$$legacy;return function(w,E){return arguments.length>0?((!s||!E||p||h)&&d(E?g():w),w):g()}}var _=!1,y=((n&Ko)!==0?Zn:Er)(()=>(_=!1,g()));a&&o(y);var k=Q;return function(w,E){if(arguments.length>0){const C=E?o(y):s&&a?he(w):w;return T(y,C),_=!0,l!==void 0&&(l=C),w}return an&&_||(k.f&tn)!==0?y.v:o(y)}}function ke(e){pe===null&&No(),Dn&&pe.l!==null?Xi(pe).m.push(e):Ne(()=>{const t=$n(e);if(typeof t=="function")return t})}function Xi(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const Gi="5";var Wa;typeof window<"u"&&((Wa=window.__svelte??(window.__svelte={})).v??(Wa.v=new Set)).add(Gi);let Vt=R(""),fn=R(null);function Ji(e){T(Vt,""),setTimeout(()=>{T(Vt,e,!0)},16)}var Zi=F('<div class="notification svelte-1a2zucn"> </div>');function Qi(e,t){Y(t,!0),Ne(()=>{o(Vt),o(Vt)&&(o(fn)?.getBoundingClientRect(),o(fn)?.style.setProperty("opacity","1"));const a=setTimeout(()=>{o(fn)?.style.removeProperty("opacity")},800),i=setTimeout(()=>{T(Vt,""),o(fn)?.style.removeProperty("opacity")},1200);return()=>{clearTimeout(a),clearTimeout(i)}});var n=K(),r=N(n);{var s=a=>{var i=Zi(),l=b(i);et(i,c=>T(fn,c),()=>o(fn)),ce(()=>Nt(l,o(Vt))),m(a,i)};z(r,a=>{o(Vt)&&a(s)})}m(e,n),X()}ti();var $i=F('<span class="vh svelte-14jjkpd"><!></span>');function En(e,t){var n=$i(),r=b(n);st(r,()=>t.children),m(e,n)}var el=Oi('<svg class="svelte-gv09tg"><use></use></svg>');function we(e,t){let n=ae(t,"name",8,"");var r=el(),s=b(r);ce(()=>ve(s,"href",`#icon-${n()??""}`)),m(e,r)}const As=(e,t)=>{if(!t)return e;if(t.type==="closed")return{type:"closed"};switch(e.type){case"opened":return t.type==="close"?{type:"closing"}:t.type==="swipe"?{type:"openSwiping"}:e;case"closed":return t.type==="open"?{type:"opening"}:t.type==="swipe"?{type:"closeSwiping"}:e;case"openSwiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"closeSwiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"opening":return t.type==="opened"?{type:"opened"}:e;default:return e}};let Xr=R(he(As({type:"closed"})));const Tt=e=>{T(Xr,As(o(Xr),e),!0)},Ls=()=>o(Xr),tl=()=>{Tt({type:"open"})},nl=()=>{Tt({type:"close"})},rl=()=>{const e=Ls().type;e==="closed"?tl():e==="opened"&&nl()};var al=F('<button class="buttonMenu svelte-hxzs42"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>');function Ns(e,t){Y(t,!1),An();var n=al();n.__click=[rl];var r=b(n);Se(r,()=>({"--size":"28px"})),we(r.lastChild,{name:"sidebarMenu"});var s=x(r,2);En(s,{children:(a,i)=>{var l=Ve("Menu");m(a,l)}}),m(e,n),X()}Be(["click"]);const I=he({historyStack:[],pathname:window.location.pathname,search:window.location.search,historyLength:0});let Os=R(he(new URLSearchParams(I.search).get("feedOrder")||"newest"));const Ms=()=>o(Os),sl=e=>{T(Os,e,!0);const t=new URLSearchParams(I.search);e==="newest"?t.delete("feedOrder"):t.set("feedOrder",e),Ot(`${I.pathname}${t.size>0?`?${t.toString()}`:""}`)},Is=()=>new URLSearchParams(I.search).get("selectedTags")?.split(",")||[];let ur=Is();const ol=()=>{const e=Is();return e.join(",")===ur.join(",")||(ur=e),ur},il=()=>{I.pathname=document.location.pathname,I.search=document.location.search,I.historyLength=Math.max(0,I.historyLength-=1)};window.addEventListener("popstate",il);const Ot=e=>{const[t,n]=e.split("?");I.pathname=t,I.search=n?`?${n}`:"",I.historyLength+=1,I.historyStack.push(window.location.href),window.history.replaceState(null,"",e)},ll=e=>{const[t,n]=e.split("?");I.pathname=t,I.search=n?`?${n}`:"",window.history.replaceState(null,"",e)},Rs=(e="/")=>{const[t,n]=e.split("?");if(I.historyLength<=0){const r=window.location.href,[s,a]=r.split("?");if(!a.includes("stackPages"))window.history.replaceState(null,"",e),I.historyLength=0,I.pathname=t,I.search=n?`?${n}`:"";else{const i=new URLSearchParams(a),c=(i.get("stackPages")?.split(",")||[]).slice(0,-1);c.length===0?i.delete("stackPages"):i.set("stackPages",c.join(","));const u=`${s}${i.toString()?`?${i.toString()}`:""}`;window.history.replaceState(null,"",u),I.search=i.toString()?`?${i.toString()}`:""}}else if(I.historyStack.length>0){const r=I.historyStack.pop();if(r){const[s,a]=r.split("?");window.history.replaceState(null,"",r),I.historyLength=Math.max(0,I.historyLength-=1),I.pathname=s,I.search=a?`?${a}`:""}}},Bs=()=>{const e=I.historyStack.findIndex(n=>n.includes("stackPages")),t=e===-1?I.historyStack.slice(0):I.historyStack.slice(0,e);if(t.length>0){const n=t.pop();if(n){const[r,s]=n.split("?");window.history.replaceState(null,"",n),I.historyLength=Math.max(0,t.length),I.pathname=r,I.search=s?`?${s}`:"",I.historyStack=t}}else window.history.replaceState(null,"","/"),I.historyLength=0,I.pathname="/",I.search="",I.historyStack=[]},ot=()=>new URLSearchParams(I.search).get("stackPages")?.split(",")||[];let Zt=R(he(ot()));const Ke=e=>{const t=ot();if(!t.includes(e)){t.push(e);const n=new URLSearchParams(I.search);n.set("stackPages",t.join(",")),T(Zt,t,!0),Ot(`${I.pathname}?${n.toString()}`)}},cl=e=>ot().includes(e),Fs=()=>{const e=o(Zt).slice(0,-1);T(Zt,e,!0)},Hs=()=>{const e=ot();return e.length>=o(Zt).length?e.reduce((t,n)=>[...t,{page:n,shown:!0}],[]):o(Zt).reduce((t,n,r)=>[...t,{page:n,shown:e.length===0?!1:r!==o(Zt).length-1}],[])},Gr=()=>{T(Zt,[],!0)},ul=e=>{e.preventDefault(),Ke("settings")},dl=e=>{e.preventDefault(),Ke("newNote")};var fl=F('<div class="header svelte-ww662s"><div class="top svelte-ww662s"><div class="desktop svelte-ww662s"><a class="link svelte-ww662s"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Settings</span></a></div> <div class="mobile svelte-ww662s"><!></div> <a class="addNote svelte-ww662s"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Add</span></a></div></div>');function vl(e,t){Y(t,!0);const n=()=>{const p=ot();p.includes("settings")||p.push("settings");const _=new URLSearchParams(I.search);return _.set("stackPages",p.join(",")),`${I.pathname}?${_}`};let s=j(()=>{const p=ot();p.includes("newNote")||p.push("newNote");const _=new URLSearchParams(I.search);return _.set("stackPages",p.join(",")),`${I.pathname}?${_}`}),a=j(n);var i=fl(),l=b(i),c=b(l),u=b(c);u.__click=[ul];var d=b(u);Se(d,()=>({"--size":"20px"})),we(d.lastChild,{name:"settings"});var v=x(c,2),f=b(v);Ns(f,{});var h=x(v,2);h.__click=[dl];var g=b(h);Se(g,()=>({"--size":"24px","--color":"#b0b0b0"})),we(g.lastChild,{name:"plus"}),ce(()=>{ve(u,"href",o(a)),ve(h,"href",o(s))}),m(e,i),X()}Be(["click"]);const hl="modulepreload",gl=function(e){return"/"+e},za={},Et=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){let c=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=i?.nonce||i?.getAttribute("nonce");s=c(n.map(u=>{if(u=gl(u),u in za)return;za[u]=!0;const d=u.endsWith(".css"),v=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${v}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":hl,d||(f.as="script"),f.crossOrigin="",f.href=u,l&&f.setAttribute("nonce",l),document.head.appendChild(f),d)return new Promise((h,g)=>{f.addEventListener("load",h),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${u}`)))})}))}function a(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return s.then(i=>{for(const l of i||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})},pl=(e,t)=>{let n=null;return()=>{n&&clearTimeout(n),n=setTimeout(()=>{e()},t)}},Us=()=>window.matchMedia("(max-width: 768px)").matches;let zs=R(he(Us()));const _l=pl(()=>{T(zs,Us(),!0)},16);window.addEventListener("resize",_l);const Ln=()=>o(zs),pa=he({count:0}),ml=()=>pa.count>0,js=()=>{pa.count+=1},Vs=()=>{pa.count-=1},xe=he({working:!1,swipingRatio:1,isSwiping:!1,duration:.35});let Jr=!1;const Hr=()=>{document.activeElement instanceof HTMLInputElement&&document.activeElement.type==="text"||document.activeElement instanceof HTMLTextAreaElement?Jr=!0:Jr=!1},_a=()=>Jr;function wl(e,t){Y(t,!0);let n=ae(t,"dialog",7),r=null;const s=()=>{t.dialogState==="swiping"&&t.onClose()};Ne(()=>(t.dialogState==="swiping"&&(r=setTimeout(s,3e3)),()=>{r&&(clearTimeout(r),r=null)}));let a=null,i=null;const l=3,c=50,u=5,d=.6,v=.3,f=.35,h=.95;let g=0,p=0,_=0,y=!1,k=!1,w=0,E=0,C=0;const P=()=>{g=0,p=0,y=!1,k=!1,w=0,E=0,C=0,_=0,a=null,i!==null&&(cancelAnimationFrame(i),i=null),r&&(clearTimeout(r),r=null)},S=D=>{if(!n()){console.warn("Touch start: No dialog element");return}if(t.dialogState!=="opened"){console.warn(`Touch start: Invalid sidebar state: ${t.dialogState}`);return}g=D.touches[0].clientX,p=D.touches[0].clientY,_=performance.now(),y=!0,k=!1},H=D=>t.dialogState==="opened"&&D>0||t.dialogState==="swiping"&&D>0,A=D=>{if(n()){n().style.setProperty("--transition-timing","0s"),t.onSwipe(),navigator.vibrate&&navigator.vibrate(10);try{const M=window.getComputedStyle(n()),V=M.transform||M.webkitTransform||"";if(E=n().offsetWidth,(t.dialogState==="swiping"||t.dialogState==="opened")&&(w=0),V&&V!=="none")try{w=new DOMMatrix(V).m41}catch{console.warn("Could not parse transform matrix, using default position")}k=!0}catch(M){console.error("Error during swipe initialization:",M),P()}}},U=()=>{if(!n())return;const M=Math.abs(w+C*E/100)/E;n().style.setProperty("--backdrop-bg",`rgba(0, 0, 0, ${.1*(1-M)})`)},re=()=>{if(i=null,!a||!y||!n()||_a()){P();return}const D=a.touches[0].clientX,M=a.touches[0].clientY,V=D-g,oe=M-p,ge=Math.abs(V)>Math.abs(oe),ye=Math.abs(V)>l;if(!k)if(ge&&ye&&H(V))try{A(V)}catch(de){console.error("Error initializing swipe:",de),P();return}else return;if(!H(V))return;n().style.setProperty("--transition-timing","0s");let se=w+V*h;se=Math.max(0,Math.min(E,se)),n().style.transform=`translate3d(${se}px, 0, 0)`,xe.swipingRatio=Math.abs(1-se/E),C=(se-w)/E*100,t.dialogState==="swiping"&&(r&&clearTimeout(r),r=setTimeout(s,3e3)),U()},G=D=>{if(!y)return;a=D,i===null&&(i=requestAnimationFrame(re));const M=D.touches[0].clientX-g,V=D.touches[0].clientY-p,oe=Math.abs(M)>Math.abs(V);k&&oe&&D.preventDefault()},W=D=>{const M=Math.abs(D);if(M>=d)return u;if(M>=v){const V=(M-v)/(d-v);return c-V*(c-u)}else return c},B=(D,M)=>{if(Math.abs(D)>=d)return f*.5;const oe=Math.abs(C)/100;return M?f*Math.max(.5,1-oe):f*Math.max(.5,oe)},O=D=>{if(i!==null&&(cancelAnimationFrame(i),i=null),!y||!n()){P();return}if(!k){P();return}let M=0;if(D?.changedTouches?.[0]){const se=D.changedTouches[0].clientX,qe=performance.now()-_;qe>0&&(M=(se-g)/qe)}const V=W(M);let oe=null;t.dialogState==="swiping"&&(oe=Math.abs(C)>V||M<-v?"close":"open");const ge=t.dialogState==="swiping"&&oe==="close",ye=B(M,ge);xe.duration=ye-.02,n().style.setProperty("--transition-timing",`${ye}s`),n().offsetWidth,n().style.transform="",oe==="open"?t.onOpen():oe==="close"&&t.onClose(),n()?.style.removeProperty("--backdrop-bg"),P()};ke(()=>(n().addEventListener("touchstart",S,{passive:!0}),n().addEventListener("touchmove",G,{passive:!1}),n().addEventListener("touchend",O,{passive:!0}),n().addEventListener("touchcancel",O,{passive:!0}),()=>{n().removeEventListener("touchstart",S),n().removeEventListener("touchmove",G),n().removeEventListener("touchend",O),n().removeEventListener("touchcancel",O),i!==null&&cancelAnimationFrame(i)})),X()}let ma=R(!1);const yl=(e,t)=>{let n;return()=>{n&&clearTimeout(n),n=setTimeout(()=>{e()},t)}},bl=yl(()=>{T(ma,!1)},100),Ks=()=>{T(ma,!0),bl()},qs=()=>o(ma);var Sl=(e,t)=>{t.onStartClose()},kl=F('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),El=F('<dialog><div class="dialogInner svelte-68rj1a"><div class="header svelte-68rj1a"><div><!></div></div> <!></div></dialog> <!>',1);function Tl(e,t){Y(t,!0);let n=350,r=R(null),s=R(null);const a=w=>{w.preventDefault(),t.onStartClose()};ke(()=>(o(r)?.addEventListener("close",t.onClosed),o(r)?.addEventListener("cancel",a),()=>{o(r)?.removeEventListener("close",t.onClosed),o(r)?.removeEventListener("cancel",a)}));const i=()=>{o(r)?.style.removeProperty("--transition-timing"),o(r)?.style.removeProperty("transform"),o(r)?.style.removeProperty("--backdrop-bg")},l=()=>{Ks()},c=j(qs);Ne(()=>{if(t.dialogState,!!o(r))switch(t.dialogState){case"opening":{o(r).open||o(r).showModal(),o(r).getBoundingClientRect();const w=setTimeout(()=>{i()},n+1),E=()=>{clearTimeout(w),i()};return o(r)?.addEventListener("transitionend",E,{once:!0}),t.onOpened(),()=>{o(r)?.removeEventListener("transitionend",E)}}case"closing":{const w=setTimeout(()=>{t.dialogState==="closing"&&t.onClosed()},n+1),E=()=>{clearTimeout(w),t.onClosed()};return o(r)?.addEventListener("transitionend",E,{once:!0}),()=>{o(r)?.removeEventListener("transitionend",E)}}case"opened":i()}});var u=El(),d=N(u),v=b(d),f=b(v),h=b(f),g=b(h);{var p=w=>{var E=kl();Z(E,1,te(["navigateButton","buttonBack"]),"svelte-68rj1a"),E.__click=[Sl,t];var C=b(E);Se(C,()=>({"--size":"20px"})),we(C.lastChild,{name:"back"});var P=x(C,2);En(P,{children:(S,H)=>{var A=Ve("back");m(S,A)}}),m(w,E)};z(g,w=>{(!(t.blocked||t.hidden)||t.blocked&&t.unBlockedBack)&&w(p)})}var _=x(f,2);st(_,()=>t.children),et(v,w=>T(s,w),()=>o(s)),et(d,w=>T(r,w),()=>o(r));var y=x(d,2);{var k=w=>{wl(w,{get onClose(){return t.onStartClose},get onOpen(){return t.onStartOpen},get onSwipe(){return t.onSwipe},get dialogState(){return t.dialogState},get dialog(){return o(r)}})};z(y,w=>{(!o(c)&&t.dialogState==="opened"||t.dialogState==="swiping")&&(!t.blocked||t.unBlockedBack)&&w(k)})}ce(()=>Z(d,1,te([{open:t.dialogState==="opened",hidden:t.hidden,isAnimationOn:xe.working&&(!xe.isSwiping||!t.hidden)},{hidden:t.hidden}]),"svelte-68rj1a")),kn("scroll",v,l),m(e,u),X()}Be(["click"]);const ja=(e,t)=>{if(!t)return e;if(t.type==="closed")return{type:"closed"};switch(e.type){case"opened":return t.type==="close"?{type:"closing"}:t.type==="swipe"?{type:"swiping"}:e;case"closed":return t.type==="open"?{type:"opening"}:e;case"swiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"opening":return t.type==="opened"?{type:"opened"}:e;default:return e}};function Cl(e,t){Y(t,!0);let n=ae(t,"blocked",3,!1),r=ae(t,"hiddenDialog",3,!1),s=ae(t,"unBlockedBack",3,!1),a=ae(t,"onStartClose",3,()=>{}),i=ae(t,"onClose",3,()=>{}),l=R(he(ja({type:"closed"})));const c=y=>{T(l,ja(o(l),y),!0)},u=()=>{n()&&!s()||(a()(),c({type:"close"}))},d=()=>{c({type:"open"})},v=()=>{c({type:"opened"}),xe.duration=.2},f=()=>{i()(),c({type:"closed"}),xe.swipingRatio=1,xe.duration=.2},h=()=>{c({type:"swipe"})};Ne(()=>{o(l).type==="swiping"?xe.isSwiping=!0:xe.isSwiping=!1,o(l).type==="closed"&&t.shownDialog?d():o(l).type==="opened"&&!t.shownDialog&&u()});var g=K(),p=N(g);{var _=y=>{Tl(y,{onSwipe:h,onOpened:v,onClosed:f,onStartClose:u,onStartOpen:d,get dialogState(){return o(l).type},get hidden(){return r()},get blocked(){return n()},get unBlockedBack(){return s()},children:(k,w)=>{var E=K(),C=N(E);st(C,()=>t.children),m(k,E)},$$slots:{default:!0}})};z(p,y=>{o(l).type!=="closed"&&y(_)})}return m(e,g),X({handleComputeState:c})}function Ws(e,t){Y(t,!0);let n=ae(t,"blockedDialog",3,!1),r=ae(t,"hiddenDialog",3,!1),s=ae(t,"isLastDialog",3,!1),a=ae(t,"onStartClose",3,()=>{}),i=ae(t,"onClose",3,()=>{});const l=j(()=>s()?void 0:t.onStartBack);let c=null;function u(){return c||(c=Et(()=>import("./DesktopDialog-Bu0d62FY.js"),__vite__mapDeps([0,1]))),c}ke(()=>(js(),()=>{Vs()}));var d=K(),v=N(d);{var f=g=>{Cl(g,{get shownDialog(){return t.shownDialog},get blocked(){return n()},get unBlockedBack(){return t.unBlockedBack},get hiddenDialog(){return r()},get children(){return t.children},get onStartClose(){return t.onStartBack},onClose:i()})},h=g=>{var p=K(),_=N(p);St(_,u,null,(y,k)=>{var w=K();const E=j(()=>o(k).default);var C=N(w);kt(C,()=>o(E),(P,S)=>{S(P,{get shownDialog(){return t.shownDialog},get blockedDialog(){return n()},get unBlockedBack(){return t.unBlockedBack},get hiddenDialog(){return r()},get children(){return t.children},get onStartBack(){return o(l)},onStartClose:a(),onClose:i()})}),m(y,w)}),m(g,p)};z(v,g=>{Ln()?g(f):g(h,!1)})}m(e,d),X()}let Ys=R(!1),wa=R(!1);const Hn=e=>{T(Ys,e,!0),e||T(wa,!1)},Pl=()=>o(Ys),Va=e=>{T(wa,e,!0)},xl=()=>o(wa);function Ka(e,t){Y(t,!0);let n=ae(t,"blocked",3,!1),r=ae(t,"isLastDialog",3,!1),s=ae(t,"onBack",3,()=>{});const a=j(()=>n()||t.hidden||Pl()),i=j(()=>xl()&&!r());Ws(e,{get shownDialog(){return t.shown},get blockedDialog(){return o(a)},get unBlockedBack(){return o(i)},get hiddenDialog(){return t.hidden},get isLastDialog(){return r()},onStartBack:()=>{(!o(a)||o(a)&&o(i))&&t.shown&&(Rs(),s()())},onStartClose:()=>{(!o(a)||o(a)&&o(i))&&t.shown&&Bs()},onClose:()=>{Fs()},children:(d,v)=>{var f=K(),h=N(f);st(h,()=>t.children),m(d,f)},$$slots:{default:!0}}),X()}const ee=he({initedDB:!1}),Dl=()=>{ee.initedDB=!0},Tn=async e=>{ee.account=e},er=async e=>{ee.notes||(ee.notes=[]),ee.mapNotes||(ee.mapNotes=new Map),e.forEach(t=>{if(!ee.notes||!ee.mapNotes)throw new Error("Notes appState is not initialized");ee.notes.push(t),ee.mapNotes.set(t.id,t)})},Cn=()=>ee.notes&&ee.mapNotes,Al=()=>ee.account,Xs=()=>ee.notes||[],Pu=()=>ee.mapNotes||new Map,Gs=e=>{if(!ee.notes||!ee.mapNotes)throw new Error("Notes appState is not initialized");const t={...e};ee.notes.push(t),ee.mapNotes.set(t.id,t)},Js=async e=>{if(!ee.notes||!ee.mapNotes)throw new Error("Notes appState is not initialized");ee.notes.forEach((t,n)=>{t?.id===e.id&&ee.notes&&(ee.notes[n]=e)}),ee.mapNotes.set(e.id,e)},Zs=async e=>{if(!ee.notes||!ee.mapNotes)throw new Error("Notes appState is not initialized");ee.mapNotes.delete(e);const t=ee.notes.findIndex(n=>n?.id===e);t!==-1&&(ee.notes[t]=void 0)},Qs=async()=>{ee.initedDB=!0,ee.notes=[],ee.mapNotes=new Map};let $s=R({});const eo=()=>o($s),Ll=e=>{T($s,e)};var Nl=F('<input class="svelte-6l2oy0"/>');function Zr(e,t){Y(t,!0);let n=ae(t,"value",15,"");var r=Nl();ce(()=>ve(r,"placeholder",t.placeholder)),kn("focus",r,function(...s){t.onFocus?.apply(this,s)}),ga(r,n),m(e,r),X()}function to(e,t){Y(t,!0),ke(()=>{const n=r=>{r.target&&t.dialog?.open&&t.dialogInner&&t.dialogInner!==r.target&&!t.dialogInner.contains(r.target)&&t.onClose()};return document.addEventListener("mousedown",n,{capture:!0}),()=>{document.removeEventListener("mousedown",n,{capture:!0})}}),X()}function Ol(e,t){Y(t,!0);let n=ae(t,"dialog",7);const r=3,s=50,a=5,i=.6,l=.3,c=.35,u=.95;let d=0,v=0,f=0,h=!1,g=!1,p=0,_=0,y=0;const k=()=>{d=0,v=0,h=!1,g=!1,p=0,_=0,y=0,f=0,w!==null&&(cancelAnimationFrame(w),w=null),E=null};let w=null,E=null;const C=B=>{if(!n()){console.warn("Touch start: No dialog element");return}if(t.sidebarState!=="opened"&&t.sidebarState!=="closed"){console.warn(`Touch start: Invalid sidebar state: ${t.sidebarState}`);return}d=B.touches[0].clientX,v=B.touches[0].clientY,f=performance.now(),h=!0,g=!1},P=B=>t.sidebarState==="closed"&&B>0||t.sidebarState==="closeSwiping"&&B>0||t.sidebarState==="opened"&&B<0||t.sidebarState==="openSwiping"&&B<0,S=B=>{if(n()){if(n().style.setProperty("--transition-timing","0s"),!n().open&&t.sidebarState==="closed")try{n().showModal(),n().offsetWidth}catch(O){console.error("Error opening dialog:",O);return}t.onSwipe();try{const O=window.getComputedStyle(n()),D=O.transform||O.webkitTransform||"";if(_=n().offsetWidth,t.sidebarState==="closeSwiping"||t.sidebarState==="closed"?p=-_:(t.sidebarState==="openSwiping"||t.sidebarState==="opened")&&(p=0),D&&D!=="none")try{p=new DOMMatrix(D).m41}catch{console.warn("Could not parse transform matrix, using default position")}g=!0}catch(O){console.error("Error during swipe initialization:",O),k()}}},H=()=>{if(!n())return;const B=-(_*.27),O=-_;let D=0;const M=window.getComputedStyle(n()),V=M.transform||M.webkitTransform||"";if(V&&V!=="none")try{D=new DOMMatrix(V).m41}catch{D=0}const ye=.25*Math.min(1,Math.max(0,(D-O)/(B-O)));n().style.setProperty("--backdrop-bg",`rgba(0, 0, 0, ${ye})`)},A=()=>{if(w=null,!E||!h||!n()||_a())return;const{x:B,y:O}=E;E=null;const D=B-d,M=O-v,V=Math.abs(D)>Math.abs(M),oe=Math.abs(D)>r;if(!g)if(V&&oe&&P(D))try{S(D)}catch(Oe){console.error("Error initializing swipe:",Oe),k();return}else return;if(!P(D))return;n().style.setProperty("--transition-timing","0s");let ge=p+D*u;const ye=-_,se=-(_*.27);ge=Math.max(ye,Math.min(se,ge)),n().style.transform=`translate3d(${ge}px, 0, 0)`,y=(ge-p)/_*100,H()},U=B=>{if(!h)return;const O=B.touches[0].clientX,D=B.touches[0].clientY;E={x:O,y:D},w===null&&(w=requestAnimationFrame(A)),g&&Math.abs(O-d)>Math.abs(D-v)&&B.preventDefault()},re=B=>{const O=Math.abs(B);if(O>=i)return a;if(O>=l){const D=(O-l)/(i-l);return s-D*(s-a)}else return s},G=(B,O)=>{if(Math.abs(B)>=i)return c*.5;const M=Math.abs(y)/100;return O?c*Math.max(.5,1-M):c*Math.max(.5,M)},W=B=>{if(w!==null&&(cancelAnimationFrame(w),w=null),E=null,!h||!n()){k();return}if(!g){k();return}let O=0;if(B?.changedTouches?.[0]){const ge=B.changedTouches[0].clientX,se=performance.now()-f;se>0&&(O=(ge-d)/se)}const D=re(O);let M=null;t.sidebarState==="closeSwiping"?M=Math.abs(y)>D||O>l?"open":"close":t.sidebarState==="openSwiping"&&(M=Math.abs(y)>D||O<-l?"close":"open");const V=t.sidebarState==="closeSwiping"&&M==="open"||t.sidebarState==="openSwiping"&&M==="close",oe=G(O,V);n().style.setProperty("--transition-timing",`${oe}s`),n().offsetWidth,n().style.transform="",M==="open"?t.onOpen():M==="close"&&t.onClose(),n()?.style.removeProperty("--backdrop-bg"),k()};ke(()=>(document.addEventListener("touchstart",C,{passive:!0}),document.addEventListener("touchmove",U,{passive:!1}),document.addEventListener("touchend",W,{passive:!0}),document.addEventListener("touchcancel",W,{passive:!0}),()=>{document.removeEventListener("touchstart",C),document.removeEventListener("touchmove",U),document.removeEventListener("touchend",W),document.removeEventListener("touchcancel",W),w!==null&&cancelAnimationFrame(w)})),X()}var Ml=F('<dialog><div class="dialogInner svelte-1aussno"><!></div></dialog> <!> <!>',1);function Il(e,t){Y(t,!0);let n=350,r=R(null),s=R(null),a=j(Ls);Ne(()=>{Hs().length>0&&Tt({type:"close"})});const i=()=>{t.blocked||Tt({type:"close"})},l=()=>{t.blocked||Tt({type:"open"})},c=()=>{Tt({type:"opened"})},u=()=>{Tt({type:"closed"})},d=()=>{Tt({type:"swipe"})},v=S=>{S.preventDefault(),i()};ke(()=>(o(r)?.addEventListener("close",u),o(r)?.addEventListener("cancel",v),()=>{o(r)?.removeEventListener("close",u),o(r)?.removeEventListener("cancel",v)}));const f=()=>{o(r)?.style.removeProperty("--transition-timing"),o(r)?.style.removeProperty("transform"),o(r)?.style.removeProperty("--backdrop-bg")},h=j(qs);Ne(()=>{if(o(a),!!o(r))switch(o(a).type){case"closeSwiping":{const S=setTimeout(()=>{i()},3e3);return()=>{clearTimeout(S)}}case"openSwiping":{const S=setTimeout(()=>{l()},3e3);return()=>{clearTimeout(S)}}case"opening":{o(r).open||o(r).showModal(),o(r).getBoundingClientRect();const S=setTimeout(()=>{f()},n+1),H=()=>{clearTimeout(S),f()};return o(r)?.addEventListener("transitionend",H,{once:!0}),c(),()=>{o(r)?.removeEventListener("transitionend",H)}}case"closing":{const S=setTimeout(()=>{o(a).type==="closing"&&u()},n+1),H=()=>{clearTimeout(S),u()};return o(r)?.addEventListener("transitionend",H,{once:!0}),()=>{o(r)?.removeEventListener("transitionend",H)}}case"closed":o(r)?.close(),f();break;case"opened":f();break}});var g=Ml(),p=N(g),_=b(p),y=b(_);{var k=S=>{var H=K(),A=N(H);st(A,()=>t.children),m(S,H)};z(y,S=>{o(a).type!=="closed"&&S(k)})}et(_,S=>T(s,S),()=>o(s)),et(p,S=>T(r,S),()=>o(r));var w=x(p,2);{var E=S=>{to(S,{get dialog(){return o(r)},get dialogInner(){return o(s)},onClose:i})};z(w,S=>{o(a).type==="opened"&&!t.blocked&&S(E)})}var C=x(w,2);{var P=S=>{Ol(S,{onClose:i,onOpen:l,onSwipe:d,get sidebarState(){return o(a).type},get dialog(){return o(r)}})};z(C,S=>{(!o(h)&&o(a).type==="closed"||o(a).type==="opened"||o(a).type==="openSwiping"||o(a).type==="closeSwiping")&&!t.blocked&&S(P)})}ce(()=>Z(p,1,te([{open:o(a).type==="opened",hidden:t.blocked,isAnimationOn:xe.working&&(!xe.isSwiping||!t.blocked)}]),"svelte-1aussno")),m(e,g),X()}var Rl=F('<button> <svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></button>');function lt(e,t){let n=j(()=>t.style==="selected"?"45deg":"0deg");var r=Rl();r.__click=function(...i){t.onClick?.apply(this,i)};var s=b(r),a=x(s);Se(a,()=>({"--size":"20px","--rotate":o(n)})),we(a.lastChild,{name:"plus"}),ce(()=>{ve(r,"type",t.type),Z(r,1,te([{selectedTag:t.style==="selected"}]),"svelte-abtl76"),Nt(s,`${t.title??""} `)}),m(e,r)}Be(["click"]);const Bl=e=>{e.preventDefault(),Ke("settings")};var Fl=F("<div></div>"),Hl=F('<div class="sidebarFixed svelte-391kdo"><div class="nav svelte-391kdo"><!> <a class="link svelte-391kdo"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Settings</span></a></div> <div class="searchWrapper svelte-391kdo"><!></div> <!></div> <div></div>',1),Ul=F("<div></div>"),zl=F('<div class="sidebar svelte-391kdo"><div class="sidebarFixed svelte-391kdo"><div class="searchWrapper svelte-391kdo"><!></div> <!></div> <div class="tags svelte-391kdo"></div></div>');function jl(e,t){Y(t,!0);let n=R(null),r=R(""),s=j(()=>new URLSearchParams(I.search).get("selectedTags")?.split(",")||[]);const a=()=>{const p=ot();p.includes("settings")||p.push("settings");const _=new URLSearchParams(I.search);return _.set("stackPages",p.join(",")),`${I.pathname}?${_}`},i=p=>{const _=new URLSearchParams(I.search);_.set("selectedTags",[...o(s),p].join(",")),Ot(`${I.pathname}${_.size>0?`?${_.toString()}`:""}`),T(r,"")},l=p=>{const _=new URLSearchParams(I.search),y=o(s).filter(k=>k!==p);y.length===0?_.delete("selectedTags"):_.set("selectedTags",y.join(",")),Ot(`${I.pathname}${_.size>0?`?${_.toString()}`:""}`)};let c=j(()=>Cn()?Object.values(eo()).filter(p=>!o(s).some(_=>p.name===_)):[]),u=j(a),d=j(()=>ot().length>0||ml());var v=K(),f=N(v);{var h=p=>{Il(p,{get blocked(){return o(d)},children:(_,y)=>{var k=Hl(),w=N(k),E=b(w),C=b(E);Ns(C,{});var P=x(C,2);P.__click=[Bl];var S=b(P);Se(S,()=>({"--size":"20px"})),we(S.lastChild,{name:"settings"});var H=x(E,2),A=b(H);Zr(A,{placeholder:"Search tag",get value(){return o(r)},set value(W){T(r,W,!0)}});var U=x(H,2);{var re=W=>{var B=Fl();Z(B,1,te(["tags","selectedTags"]),"svelte-391kdo"),rt(B,20,()=>o(s),O=>O,(O,D)=>{lt(O,{get title(){return D},onClick:()=>l(D),style:"selected"})}),et(B,O=>T(n,O),()=>o(n)),m(W,B)};z(U,W=>{o(s).length>0&&W(re)})}var G=x(w,2);Z(G,1,te(["tags","tagsWrapper"]),"svelte-391kdo"),rt(G,21,()=>o(c),W=>W.name,(W,B)=>{var O=K(),D=N(O);{var M=V=>{lt(V,{get title(){return o(B).name},onClick:()=>i(o(B).name)})};z(D,V=>{(o(r)===""||o(B).name.toLowerCase().indexOf(o(r).toLowerCase())!==-1)&&V(M)})}m(W,O)}),ce(W=>{ve(P,"href",o(u)),qn(G,`min-height: height: calc(100dvh - 190px - ${W??""}px);`)},[()=>o(n)?o(n).getBoundingClientRect().height:0]),m(_,k)},$$slots:{default:!0}})},g=p=>{var _=zl(),y=b(_),k=b(y),w=b(k);Zr(w,{placeholder:"Search tag",get value(){return o(r)},set value(S){T(r,S,!0)}});var E=x(k,2);{var C=S=>{var H=Ul();Z(H,1,te(["tags","selectedTags"]),"svelte-391kdo"),rt(H,20,()=>o(s),A=>A,(A,U)=>{lt(A,{get title(){return U},onClick:()=>l(U),style:"selected"})}),m(S,H)};z(E,S=>{o(s).length>0&&S(C)})}var P=x(y,2);rt(P,21,()=>o(c),S=>S.name,(S,H)=>{var A=K(),U=N(A);{var re=G=>{lt(G,{get title(){return o(H).name},onClick:()=>i(o(H).name)})};z(U,G=>{(o(r)===""||o(H).name.toLowerCase().indexOf(o(r).toLowerCase())!==-1)&&G(re)})}m(S,A)}),m(p,_)};z(f,p=>{Ln()?p(h):p(g,!1)})}m(e,v),X()}Be(["click"]);function Dt(e){const t=String.fromCharCode(...new Uint8Array(e));return window.btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function ya(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");const n=t.length%4;return n&&(t+="=".repeat(4-n)),t}function ba(e){try{const t=atob(e),n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n.buffer}catch(t){throw console.error("Error decoding base64:",t,"Input:",e),t}}function xu(e){const t=ya(e);return ba(t)}const Du=async({challenge:e,clientKey:t})=>{const n=Math.floor(Math.random()*100),r={challenge:ba(ya(e)),rp:{id:"localhost",name:"notes"},user:{id:new Uint8Array([...t,...crypto.getRandomValues(new Uint8Array(16))]).buffer,name:`account_${n}`,displayName:`account_${n}`},pubKeyCredParams:[{type:"public-key",alg:-7},{type:"public-key",alg:-257}],authenticatorSelection:{userVerification:"required"},timeout:6e4,attestation:"none"},s=await navigator.credentials.create({publicKey:r});if(s){const a=s.response;return{challenge:e,id:s.id,rawId:Dt(s.rawId),type:s.type,response:{clientDataJSON:Dt(a.clientDataJSON),attestationObject:Dt(a.attestationObject)}}}else throw new Error},Au=async({challenge:e})=>{const t={challenge:ba(ya(e)),timeout:6e4,rpId:"localhost",userVerification:"required"},n=await navigator.credentials.get({publicKey:t});if(n){const r=n.response,s=new DataView(r.authenticatorData).getUint32(33,!1);console.log("Counter:",s);const a={challenge:e,id:n.id,rawId:Dt(n.rawId),type:n.type,response:{authenticatorData:Dt(r.authenticatorData),clientDataJSON:Dt(r.clientDataJSON),signature:Dt(r.signature)}};if(!r.userHandle)throw new Error("No credential found");const i=new Uint8Array(r.userHandle).slice(0,32);return{credentialData:a,clientKey:i}}else throw new Error("No credential found")},Vl=async e=>{const t=await crypto.subtle.importKey("raw",e.serverKey,{name:"HKDF"},!1,["deriveKey"]),n=await crypto.subtle.deriveKey({name:"HKDF",salt:new Uint8Array(12),info:new TextEncoder().encode("aes-gcm-shared"),hash:"SHA-256"},t,{name:"AES-GCM",length:256},!1,["encrypt"]);return{encryptedClientKey:await crypto.subtle.encrypt({name:"AES-GCM",iv:new Uint8Array(12)},n,e.clientKey)}},Lu=async e=>{const t=await crypto.subtle.importKey("raw",e.serverKey,{name:"HKDF"},!1,["deriveKey"]),n=await crypto.subtle.deriveKey({name:"HKDF",info:new TextEncoder().encode("aes-gcm-shared"),hash:"SHA-256",salt:new Uint8Array(12)},t,{name:"AES-GCM",length:256},!1,["decrypt"]),r=await crypto.subtle.decrypt({name:"AES-GCM",iv:new Uint8Array(12)},n,e.encryptedClientKey);return new Uint8Array(r)},no=()=>crypto.randomUUID(),Kl="AppStorage",ql=1,tt="notes",qa="syncLog",Pn="account";let dt;const Wl=()=>new Promise((e,t)=>{const n=indexedDB.open(Kl,ql);n.addEventListener("upgradeneeded",()=>{const r=n.result;r.objectStoreNames.contains(tt)||r.createObjectStore(tt,{keyPath:"id"}),r.objectStoreNames.contains(Pn)||r.createObjectStore(Pn,{keyPath:"id"}),r.objectStoreNames.contains(qa)||r.createObjectStore(qa,{keyPath:"id"})}),n.addEventListener("success",()=>{e(),dt=n.result,dt.onversionchange=function(){dt?.close(),alert("app outdated, please reload the page")}}),n.addEventListener("blocked",()=>{t(),alert("app outdated, please reload the page")}),n.addEventListener("error",()=>{t(),console.error("Error",n.error)})}),ro=()=>new Promise((e,t)=>{const r=dt?.transaction(Pn,"readonly")?.objectStore(Pn).get("default");r?.addEventListener("success",()=>{const s=r?.result?.account;e(s)}),r?.addEventListener("error",()=>{t()})}),ao=e=>new Promise((t,n)=>{const a=dt?.transaction(Pn,"readwrite")?.objectStore(Pn)?.put({id:"default",account:e});a?.addEventListener("success",()=>{console.log("account inited"),t()}),a?.addEventListener("error",()=>{n()})}),tr=()=>new Promise((e,t)=>{const r=dt?.transaction(tt,"readonly")?.objectStore(tt).getAll();r?.addEventListener("success",()=>{const s=r.result;e(s)}),r?.addEventListener("error",()=>{t()})}),so=async e=>new Promise((t,n)=>{const a=dt?.transaction(tt,"readwrite")?.objectStore(tt)?.put({...e});a?.addEventListener("success",()=>{t()}),a?.addEventListener("error",()=>{n()})}),Yl=async e=>new Promise((t,n)=>{const a=dt?.transaction(tt,"readwrite")?.objectStore(tt)?.delete(e);a?.addEventListener("success",()=>{t()}),a?.addEventListener("error",()=>{n()})}),Xl=()=>new Promise((e,t)=>{const s=dt?.transaction(tt,"readwrite")?.objectStore(tt)?.clear();s?.addEventListener("success",()=>{e()}),s?.addEventListener("error",()=>{t()})}),Sa=async()=>{await Xl()},Gl=async e=>{const t=(await tr()).reduce((a,i)=>(a[i.id]=i,a),{}),n={},s=dt?.transaction(tt,"readwrite")?.objectStore(tt);e.forEach(a=>{t[a.id]?t[a.id].updatedAt<a.updatedAt&&(n[a.id]=a):n[a.id]=a}),await Promise.all(Object.values(n).map(a=>{const i=s?.put(a);return new Promise((l,c)=>{i?.addEventListener("success",()=>{l()}),i?.addEventListener("error",()=>{c()})})}))},Qr=(e,t,n,r=new Set,s={})=>{for(const a of e.children)if(a.tagName==="DT"){const i=a.querySelector(":scope > A"),l=a.querySelector(":scope > H3");if(i){const c=i.getAttribute("href"),u=i.textContent||"unknown";if(!c)return n;const d=t.find(v=>v.toLowerCase()==="bookmarks bar")?t.filter(v=>v.toLowerCase()!=="bookmarks bar"):["other"];if(s[c])s[c].tags=[...new Set([...s[c].tags,...d])];else{const v={id:no(),url:c,title:u,description:"",tags:d.length>0?d:[],updatedAt:Date.now(),createdAt:Date.now()};s[v.url]=v,n.push(v)}}else if(l){const c=l.textContent?.trim();if(c&&l.nextElementSibling?.tagName==="DL"){const u=[...t];u.push(c);const d=l.nextElementSibling;r.has(d)||(r.add(d),Qr(d,u,n,r,s))}}}else a.tagName!=="DL"&&a.children.length>0&&(r.has(a)||(r.add(a),Qr(a,[...t],n,r,s)));return n},Nu=async e=>{const t=await e.text(),s=new DOMParser().parseFromString(t,"text/html").querySelector("DL");return s?Qr(s,[],[]):[]},Ou=e=>{const t=Math.floor(Date.now()/1e3),n={};e.forEach(s=>{const a=s.tags||["Imported"];if(a.length===0){n.ROOT||(n.ROOT=[]),n.ROOT.push(s);return}a.forEach(i=>{n[i]||(n[i]=[]),n[i].push(s)})});let r=`<!DOCTYPE NETSCAPE-Note-file-1>
<!-- This is an automatically generated file.
 It will be read and overwritten.
 DO NOT EDIT! -->
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8">
<TITLE>notes</TITLE>
<H1>notes</H1>
<DL><p>
<DT><H3 ADD_DATE="${t}" LAST_MODIFIED="${t}" PERSONAL_TOOLBAR_FOLDER="true">notes Bar</H3>
<DL><p>`;return Object.keys(n).forEach(s=>{s!=="ROOT"&&s!=="other"&&(r+=`
	<DT><H3 ADD_DATE="${t}" LAST_MODIFIED="${t}">${s}</H3>
	<DL><p>`,n[s].forEach(a=>{const i=a.title.replace(/"/g,"&quot;");r+=`
		<DT><A HREF="${a.url}" ADD_DATE="${Math.floor(a.createdAt/1e3)||t}">${i}</A>`}),r+=`
	</DL><p>`)}),n.ROOT&&n.ROOT.forEach(s=>{const a=s.title.replace(/"/g,"&quot;");r+=`
	<DT><A HREF="${s.url}" ADD_DATE="${Math.floor(s.createdAt/1e3)||t}">${a}</A>`}),r+=`
</DL><p>`,n.other&&n.other.forEach(s=>{const a=s.title.replace(/"/g,"&quot;");r+=`
	<DT><A HREF="${s.url}" ADD_DATE="${Math.floor(s.createdAt/1e3)||t}">${a}</A>`}),r+="</DL><p>",r};async function ka(){if(navigator.storage&&navigator.storage.persist)try{await navigator.storage.persisted()||await navigator.storage.persist()}catch{console.error("")}}const Mu=async e=>{const t="notes-export.json",n=JSON.stringify({notes:e}),r=new Blob([n],{type:"application/json"}),s=URL.createObjectURL(r),a=document.createElement("a");a.href=s,a.download=t,document.body.appendChild(a),a.click(),setTimeout(()=>{document.body.removeChild(a),URL.revokeObjectURL(s)},0)},It=crypto.randomUUID(),Rt=new BroadcastChannel("app");Rt.addEventListener("message",async e=>{if(e.data&&typeof e.data=="string"){const t=JSON.parse(e.data);if(t.tabId&&t.tabId===It)return;if(console.log("Received message from BroadcastChannel:",e.data),t.operation==="addNote"){const n=t.note;Gs(n)}else if(t.operation==="updateNote"){const n=t.note;Js(n)}else if(t.operation==="deleteNote"){const n=t.noteId;Zs(n)}else if(t.operation==="clearAppState")Qs();else if(t.operation==="reloadNotes"){const n=await tr();await er(n)}else if(t.operation==="initLocalAccount")Tn(null),Gr(),Ot("/");else if(t.operation==="initAccount"){const n=await ro();n&&(Tn(n),Gr(),Ot("/"))}}});Wl().then(async()=>{Dl();const e=await ro();if(e===void 0)Ke("start");else{cl("start")&&(Gr(),Ot("/")),e?(Tn(e),await ka()):Tn(null);const t=await tr();await er(t)}}).catch(()=>{console.error("failed to init db")});const Jl=async e=>{const t={...e,id:no(),createdAt:Date.now(),updatedAt:Date.now()};Gs(t),Rt.postMessage(JSON.stringify({tabId:It,operation:"addNote",note:{...t}})),await so({...t})},Zl=async e=>{const t={...e,updatedAt:Date.now()};Rt.postMessage(JSON.stringify({tabId:It,operation:"updateNote",note:t})),Js(t),await so(t)},Ql=async e=>{Rt.postMessage(JSON.stringify({tabId:It,operation:"deleteNote",noteId:e})),Zs(e),await Yl(e)},Iu=async()=>{Rt.postMessage(JSON.stringify({tabId:It,operation:"clearAppState"})),Qs(),await Sa()},Ru=async e=>{await Gl(e),Rt.postMessage(JSON.stringify({tabId:It,operation:"reloadNotes"}));const t=await tr();await er(t)},$l=async()=>{await Sa(),await ka(),await ao(null),Tn(null),await er([]),Rt.postMessage(JSON.stringify({tabId:It,operation:"initLocalAccount"}))},Bu=async e=>{await Sa(),await ka();const{encryptedClientKey:t}=await Vl({clientKey:e.clientKey,serverKey:e.serverKey}),n={encryptedClientKey:Dt(t),lastLogId:-1,lastSync:-1};await ao(n),Tn(n);const r=await tr();await er(r),Rt.postMessage(JSON.stringify({tabId:It,operation:"initAccount"}))};var ec=F('<div class="input-container svelte-hz572l"><input/> <div class="error-message svelte-hz572l"><!></div></div>');function dr(e,t){Y(t,!0);let n=ae(t,"value",15,""),r=ae(t,"error",3,"");var s=ec(),a=b(s);a.__input=function(...d){t.onInput?.apply(this,d)};let i;var l=x(a,2),c=b(l);{var u=d=>{var v=Ve();ce(()=>Nt(v,r())),m(d,v)};z(c,d=>{r()&&d(u)})}ce(d=>{ve(a,"placeholder",t.placeholder),i=Z(a,1,"svelte-hz572l",null,i,d)},[()=>({error:!!r()})]),kn("blur",a,function(...d){t.onBlur?.apply(this,d)}),kn("focus",a,function(...d){t.onFocus?.apply(this,d)}),ga(a,n),m(e,s),X()}Be(["input"]);const tc=(e,t,n)=>{t(e.target.value),n.onChange(t())};var nc=F('<input type="radio"/> <label> </label>',1),rc=F('<div class="wrapper svelte-1udui6p"><fieldset class="switcher svelte-1udui6p"><!> <div class="wrapSwitcherStatus svelte-1udui6p"><div class="switcherStatus svelte-1udui6p"></div></div></fieldset></div>');function ac(e,t){const n=Mi();Y(t,!0);let r=ae(t,"value",7);const s=`switcher-${n}`;var a=rc(),i=b(a),l=b(i);rt(l,17,()=>t.items,d=>d.title,(d,v)=>{var f=nc(),h=N(f);Z(h,1,te(["vh","input"]),"svelte-1udui6p"),h.__change=[tc,r,t];var g=x(h,2);Z(g,1,te(["switcherButton"]),"svelte-1udui6p");var p=b(g);ce(()=>{ve(h,"id",`${o(v).title}-${n}`),ve(h,"name",s),fr(h,o(v).value),vr(h,o(v).value===r()),ve(h,"aria-label",o(v).title),ve(g,"for",`${o(v).title}-${n}`),ve(g,"title",o(v).title),ve(g,"aria-label",o(v).title),Nt(p,o(v).value)}),m(d,f)});var c=x(l,2),u=b(c);ce(d=>qn(u,d),[()=>`transform: translateX(${t.items.findIndex(d=>d.value===r())*100}%)`]),m(e,a),X()}Be(["change"]);var sc=F("<div></div>"),oc=F('<form class="svelte-11hxhk8"><!> <!> <!> <div class="boxtags"><div class="sidebarFixed"><!></div> <div class="tags svelte-11hxhk8"><!> <!></div> <div class="searchWrapper svelte-11hxhk8"><!></div></div> <button class="buttonSubmit svelte-11hxhk8" type="submit"> </button></form>'),ic=F("<div></div>"),lc=F('<form class="svelte-11hxhk8"><textarea class="note svelte-11hxhk8" placeholder="note"></textarea> <div class="boxtags"><div class="sidebarFixed"><!></div> <div class="tags svelte-11hxhk8"><!> <!></div> <div class="searchWrapper svelte-11hxhk8"><!></div></div> <button class="buttonSubmit svelte-11hxhk8" type="submit"> </button></form>'),cc=F("<!> <!>",1);function oo(e,t){Y(t,!0);let n=ae(t,"initialTitle",3,""),r=ae(t,"initialUrl",3,""),s=ae(t,"initialDescription",3,""),a=ae(t,"initialTags",19,()=>[]),i=ae(t,"mode",3,"add"),l=R(""),c=R("note"),u=R(he(n())),d=R(he(r())),v=R(he(s())),f=R(he(a().filter(A=>A!=="inbox")));const h=A=>{o(f).includes(A)||T(f,[...o(f),A],!0)},g=A=>{const U=o(f).filter(re=>re!==A);U.length===0?T(f,[],!0):T(f,U,!0)};let p=j(()=>Cn()?[...Xs().reduce((A,U)=>(U?.tags.forEach(re=>{A.has(re)||A.add(re)}),A),new Set)]:[]),_=j(()=>Cn()?o(p).filter(A=>!o(f).some(U=>A===U)&&A!=="inbox"):[]),y=j(()=>o(_).find(A=>A.toLowerCase()===o(l).toLowerCase())||o(f).includes(o(l))),k=j(()=>o(_).filter(A=>o(l)===""?!0:A.toLowerCase().indexOf(o(l).toLowerCase())!==-1).slice(0,o(y)||o(l)===""?3:2));const w=A=>{A.preventDefault(),t.onSubmit({title:o(u).trim().slice(0,256)||"unkwown",url:o(d).trim().slice(0,2048),description:o(v).trim().slice(0,2048),tags:o(f).length>0?o(f):["inbox"]})};var E=cc(),C=N(E);ac(C,{items:[{title:"note",value:"note"},{title:"bookmark",value:"bookmark"}],get value(){return o(c)},onChange:A=>{T(c,A,!0)}});var P=x(C,2);{var S=A=>{var U=oc(),re=b(U);dr(re,{placeholder:"url",get value(){return o(d)},set value($){T(d,$,!0)}});var G=x(re,2);dr(G,{placeholder:"title",get value(){return o(u)},set value($){T(u,$,!0)}});var W=x(G,2);z(W,$=>{});var B=x(W,2),O=b(B),D=b(O);{var M=$=>{var L=sc();Z(L,1,te(["tags","selectedTags"]),"svelte-11hxhk8"),rt(L,20,()=>o(f),q=>q,(q,ie)=>{lt(q,{get title(){return ie},onClick:()=>g(ie),type:"button",style:"selected"})}),m($,L)};z(D,$=>{o(f).length>0&&$(M)})}var V=x(O,2),oe=b(V);{var ge=$=>{var L=K(),q=N(L);rt(q,16,()=>o(k),ie=>ie,(ie,le)=>{lt(ie,{get title(){return le},onClick:()=>h(le)})}),m($,L)};z(oe,$=>{o(l)!==""&&$(ge)})}var ye=x(oe,2);{var se=$=>{lt($,{get title(){return o(l)},onClick:()=>{h(o(l)),T(l,"")}})};z(ye,$=>{!o(y)&&o(l)!==""&&$(se)})}var Oe=x(V,2),qe=b(Oe);dr(qe,{placeholder:"search tag",get value(){return o(l)},set value($){T(l,$,!0)}});var de=x(B,2),We=b(de);ce(()=>Nt(We,i()==="add"?"add":"edit")),kn("submit",U,w),m(A,U)},H=A=>{var U=lc(),re=b(U),G=x(re,2),W=b(G),B=b(W);{var O=de=>{var We=ic();Z(We,1,te(["tags","selectedTags"]),"svelte-11hxhk8"),rt(We,20,()=>o(f),$=>$,($,L)=>{lt($,{get title(){return L},onClick:()=>g(L),type:"button",style:"selected"})}),m(de,We)};z(B,de=>{o(f).length>0&&de(O)})}var D=x(W,2),M=b(D);{var V=de=>{var We=K(),$=N(We);rt($,16,()=>o(k),L=>L,(L,q)=>{lt(L,{get title(){return q},onClick:()=>h(q)})}),m(de,We)};z(M,de=>{o(l)!==""&&de(V)})}var oe=x(M,2);{var ge=de=>{lt(de,{get title(){return o(l)},onClick:()=>{h(o(l)),T(l,"")}})};z(oe,de=>{!o(y)&&o(l)!==""&&de(ge)})}var ye=x(D,2),se=b(ye);dr(se,{placeholder:"search tag",get value(){return o(l)},set value(de){T(l,de,!0)}});var Oe=x(G,2),qe=b(Oe);ce(()=>Nt(qe,i()==="add"?"add":"edit")),kn("submit",U,w),ga(re,()=>o(v),de=>T(v,de)),m(A,U)};z(P,A=>{o(c)==="bookmark"?A(S):A(H,!1)})}m(e,E),X()}function uc(e,t){Y(t,!0);let n=R(!0);const r=()=>{t.onClose()},s=()=>{T(n,!1)},a=({title:i,url:l,description:c,tags:u})=>{Zl({...t.note,title:i,url:l,description:c,tags:u.map(d=>d.trim())}),s()};Ws(e,{get shownDialog(){return o(n)},onClose:r,children:(i,l)=>{oo(i,{get initialTitle(){return t.note.title},get initialUrl(){return t.note.url},get initialDescription(){return t.note.description},get initialTags(){return t.note.tags},onSubmit:a,mode:"edit"})},$$slots:{default:!0}}),X()}var dc=F('<dialog><div class="dialogInner svelte-w3h659"><!></div></dialog> <!>',1);function io(e,t){Y(t,!0);let n=R(null),r=R(null),s=R(!1);const a=()=>{const f=setTimeout(()=>{t.onClosed()},150);o(n)?.addEventListener("transitionend",()=>{clearTimeout(f),t.onClosed()},{once:!0}),T(s,!1)};Ne(()=>{t.startClose&&a()}),ke(()=>{o(n)?.showModal(),o(n)?.getClientRects(),T(s,!0)}),ke(()=>(js(),()=>{Vs()}));var i=dc(),l=N(i),c=b(l),u=b(c);st(u,()=>t.children),et(c,f=>T(r,f),()=>o(r)),et(l,f=>T(n,f),()=>o(n));var d=x(l,2);{var v=f=>{to(f,{get dialog(){return o(n)},get dialogInner(){return o(r)},onClose:a})};z(d,f=>{o(n)&&o(r)&&f(v)})}ce(()=>Z(l,1,te(["dialog",{shown:o(s)}]),"svelte-w3h659")),m(e,i),X()}var fc=F("<div><!></div>");function lo(e,t){Y(t,!0);let n=R(!1),r=R(null);const s=()=>{const u=setTimeout(()=>{t.onClosed()},150);o(r)?.addEventListener("transitionend",()=>{clearTimeout(u),t.onClosed()},{once:!0}),T(n,!1)},a=u=>{u.target!==o(r)&&!o(r)?.contains(u.target)&&s()},i=u=>{u.target!==o(r)&&!o(r)?.contains(u.target)&&s()};ke(()=>{o(r)?.getClientRects(),T(n,!0);const u=setTimeout(()=>{document.addEventListener("focusin",a),document.addEventListener("click",i)},0);return()=>{clearTimeout(u),document.removeEventListener("focusin",a),document.removeEventListener("click",i)}}),Ne(()=>{t.startClose&&s()});var l=fc(),c=b(l);st(c,()=>t.children),et(l,u=>T(r,u),()=>o(r)),ce(()=>Z(l,1,te(["menu",{top:t.positionTop,shown:o(n)}]),"svelte-1ljsfcr")),m(e,l),X()}const vc=(e,t,n)=>{const r=eo();t.note.tags.forEach(s=>{if(o(n).includes(s)&&r[s].connections===1){const a=new URLSearchParams(I.search),i=o(n).filter(l=>l!==s);i.length===0?a.delete("selectedTags"):a.set("selectedTags",i.join(",")),ll(`${I.pathname}${a.size>0?`?${a.toString()}`:""}`)}}),Ql(t.note.id)},hc=(e,t,n)=>{T(t,!0),T(n,!0)};var gc=F('<div class="menu svelte-xxw0l"><div><button>Edit</button></div> <div><button>Delete</button></div></div>'),pc=F('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),_c=F("<!> <!>",1);function mc(e,t){Y(t,!0);const n=(p,_=Qt)=>{var y=gc(),k=b(y),w=b(k);w.__click=[hc,a,s];var E=x(k,2),C=b(E);C.__click=[vc,t,l],ce(()=>{Z(w,1,te(["button",{buttonMenuDialog:_()}]),"svelte-xxw0l"),Z(C,1,te(["button",{buttonMenuDialog:_()}]),"svelte-xxw0l")}),m(p,y)};let r=ae(t,"shownMenu",15),s=R(!1),a=R(!1),i=j(Ln),l=j(()=>new URLSearchParams(I.search).get("selectedTags")?.split(",")||[]);const c=()=>{T(s,!1)},u=()=>{r(!1),T(a,!1)};var d=_c(),v=N(d);{var f=p=>{var _=K(),y=N(_);{var k=E=>{io(E,{get startClose(){return o(a)},onClosed:u,children:(C,P)=>{n(C,()=>!0)},$$slots:{default:!0}})},w=E=>{var C=pc(),P=N(C);Se(P,()=>({"--bottom":"-180%","--right":"30px"})),lo(P.lastChild,{get startClose(){return o(a)},get positionTop(){return t.showMenuUp},onClosed:u,children:(S,H)=>{n(S,()=>!1)},$$slots:{default:!0}}),m(E,C)};z(y,E=>{o(i)?E(k):E(w,!1)})}m(p,_)};z(v,p=>{r()&&p(f)})}var h=x(v,2);{var g=p=>{uc(p,{get note(){return t.note},onClose:c})};z(h,p=>{o(s)&&p(g)})}m(e,d),X()}Be(["click"]);const wc=(e,t,n)=>{t.showMenuUp||T(n,!0)},yc=(e,t)=>{navigator.clipboard.writeText(t.note.url),Ji("Link copied to clipboard")},bc=(e,t)=>{T(t,!0)},Sc=(e,t)=>{T(t,!1)};var kc=F('<li class="note svelte-1mtwaux"><img loading="lazy" class="noteIcon" height="16" width="16" alt="icon"/> <a class="noteLink svelte-1mtwaux" target="_blank" rel="noopener noreferrer"> </a> <div class="spacer svelte-1mtwaux"></div> <div><button class="button svelte-1mtwaux"><!> <!></button> <button><!> <!></button> <!></div></li>');function Ec(e,t){Y(t,!0);let n=R(!1),r=R(!1);const s=y=>{try{return`https://external-content.duckduckgo.com/ip3/${new URL(y).host}.ico`}catch{return""}};var a=kc();a.__focusin=[bc,n],a.__focusout=[Sc,n];var i=b(a),l=x(i,2),c=b(l),u=x(l,4),d=b(u);d.__click=[yc,t];var v=b(d);we(v,{name:"copy"});var f=x(v,2);En(f,{children:(y,k)=>{var w=Ve("copy link");m(y,w)}});var h=x(d,2);h.__click=[wc,t,r],Z(h,1,te(["button","buttonMenu"]),"svelte-1mtwaux");var g=b(h);we(g,{name:"menu"});var p=x(g,2);En(p,{children:(y,k)=>{var w=Ve("show menu");m(y,w)}});var _=x(h,2);mc(_,{get note(){return t.note},get showMenuUp(){return t.showMenuUp},get shownMenu(){return o(r)},set shownMenu(y){T(r,y,!0)}}),ce(y=>{ve(i,"src",y),ve(l,"tabindex",t.focusHidden?-1:0),ve(l,"href",t.note.url),Nt(c,t.note.title),Z(u,1,te(["noteMenuWrapper",{noteMenuWrapperActive:o(n)}]),"svelte-1mtwaux"),ve(d,"tabindex",t.focusHidden?-1:0),ve(h,"tabindex",t.focusHidden?-1:0)},[()=>s(t.note.url)]),m(e,a),X()}Be(["focusin","focusout","click"]);const $r=he({ref:null}),Tc=(e,t)=>{o(t)||T(t,!0)};var Cc=(e,t)=>t("newest"),Pc=(e,t)=>t("oldest"),xc=(e,t)=>t("AtoZ"),Dc=(e,t)=>t("ZtoA"),Ac=F("<div><button>Newest</button> <button>Oldest</button> <button>A to Z</button> <button>Z to A</button></div>"),Lc=F('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),Nc=F('<div class="orderMenu svelte-16tnh9z"><button><!> <!></button> <!></div>');function Oc(e,t){Y(t,!0);const n=(p,_=Qt)=>{var y=Ac(),k=b(y);k.__click=[Cc,l];var w=x(k,2);w.__click=[Pc,l];var E=x(w,2);E.__click=[xc,l];var C=x(E,2);C.__click=[Dc,l],ce(()=>{Z(y,1,te(["menu",{menuDialog:_()}]),"svelte-16tnh9z"),Z(k,1,te(["menuButton",{menuButtonDialog:_(),current:o(i)==="newest"}]),"svelte-16tnh9z"),Z(w,1,te(["menuButton",{menuButtonDialog:_(),current:o(i)==="oldest"}]),"svelte-16tnh9z"),Z(E,1,te(["menuButton",{menuButtonDialog:_(),current:o(i)==="AtoZ"}]),"svelte-16tnh9z"),Z(C,1,te(["menuButton",{menuButtonDialog:_(),current:o(i)==="ZtoA"}]),"svelte-16tnh9z")}),m(p,y)};let r=R(!1),s=R(!1),a=j(Ln),i=j(Ms);const l=p=>{T(s,!0),sl(p)},c=()=>{T(r,!1),T(s,!1)};var u=Nc(),d=b(u);d.__click=[Tc,r],Z(d,1,te(["button","buttonMenu"]),"svelte-16tnh9z");var v=b(d);we(v,{name:"filter"});var f=x(v,2);En(f,{children:(p,_)=>{var y=Ve("show feed order menu");m(p,y)}});var h=x(d,2);{var g=p=>{var _=K(),y=N(_);{var k=E=>{io(E,{get startClose(){return o(s)},onClosed:c,children:(C,P)=>{n(C,()=>!0)},$$slots:{default:!0}})},w=E=>{var C=Lc(),P=N(C);Se(P,()=>({"--right":"20px","--top":"60px"})),lo(P.lastChild,{get startClose(){return o(s)},onClosed:c,children:(S,H)=>{n(S,()=>!1)},$$slots:{default:!0}}),m(E,C)};z(y,E=>{o(a)?E(k):E(w,!1)})}m(p,_)};z(h,p=>{o(r)&&p(g)})}m(e,u),X()}Be(["click"]);var Mc=F('<div><!> <div class="loader svelte-1wuuvr"></div></div>');function co(e,t){Y(t,!0);let n=R(!1);ke(()=>{const a=setTimeout(()=>{T(n,!0)},200);return()=>{clearTimeout(a)}});var r=Mc(),s=b(r);st(s,()=>t.children??Qt),ce(()=>Z(r,1,te(["block",{shown:o(n)}]),"svelte-1wuuvr")),m(e,r),X()}var Ic=F("<a><!></a>"),Rc=F('<button type="button"><!></button>');function Mt(e,t){let n=ae(t,"type",3,"standard"),r=ae(t,"element",3,"button"),s=ae(t,"href",3,""),a=ae(t,"fullWidth",3,!1);var i=K(),l=N(i);{var c=d=>{var v=Ic();v.__click=function(...h){t.onClick?.apply(this,h)};var f=b(v);st(f,()=>t.children??Qt),ce(()=>{ve(v,"href",s()),Z(v,1,te(["button","a",{dangerous:n()==="dangerous",secondary:n()==="secondary",fullWidth:a()}]),"svelte-na2c6y")}),m(d,v)},u=d=>{var v=Rc();v.__click=function(...h){t.onClick?.apply(this,h)};var f=b(v);st(f,()=>t.children??Qt),ce(()=>Z(v,1,te(["button",{dangerous:n()==="dangerous",secondary:n()==="secondary",fullWidth:a()}]),"svelte-na2c6y")),m(d,v)};z(l,d=>{r()==="a"?d(c):d(u,!1)})}m(e,i)}Be(["click"]);const Bc=(e,t)=>{o(t)&&o(t).scrollTo({top:0,behavior:"smooth"})};var Fc=F('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Add note</span>',1),Hc=F('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span style="padding-left: 6px;">Import data</span>',1),Uc=F('<div class="emptyStore svelte-gyxoze"><p class="message">No notes found</p> <div class="wrapperButtonsAdd svelte-gyxoze"><!></div> <div>or</div> <div class="wrapperButtonsAdd svelte-gyxoze"><!></div></div>'),zc=F('<div class="emptyMessage svelte-gyxoze">No notes found</div>'),jc=F('<div class="feed svelte-gyxoze"><ul class="svelte-gyxoze"></ul></div>'),Vc=F('<div class="wrapperButtonTop svelte-gyxoze"><button class="buttonTop svelte-gyxoze"><!> <svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></button></div>'),Kc=F('<div class="filter svelte-gyxoze"><div class="searchWrapper svelte-gyxoze"><!></div> <!></div> <div class="wrapperFeed svelte-gyxoze"><div class="wrapperContainer svelte-gyxoze"><!></div></div> <!>',1);function qc(e,t){Y(t,!0);let n=R(null),r=50,s=R(0),a=R(0),i=R(0),l=R(he([])),c=R(""),u=j(()=>Ln()?o(n):$r.ref),d=null,v=null,f=R(!1),h=0;const g=j(ol);Ne(()=>{o(c),o(g),o(k),o(u)?.scrollTo(0,0)});const p=()=>{if(o(u)){const L=o(u).scrollTop||0;L===0?T(f,!1):!o(f)&&h>L?T(f,!0):o(f)&&h<L&&T(f,!1),h=L}},_=()=>{Ks(),d||(d=requestAnimationFrame(()=>{p();const L=o(u)?.scrollTop||0;T(i,L,!0);const q=Math.ceil(o(s)/r);T(a,Math.floor(L/(r*q))*(r*q)),d=null}))},y=()=>{v||(v=requestAnimationFrame(()=>{p(),T(s,window.innerHeight-180||0,!0);const L=o(u)?.scrollTop||0;T(i,L,!0);const q=Math.ceil(o(s)/r);T(a,Math.floor(L/(r*q))*(r*q)),v=null}))};ke(()=>{y(),_()}),Ne(()=>(o(u)?.addEventListener("scroll",_),window.addEventListener("resize",y),()=>{o(u)?.removeEventListener("scroll",_),window.removeEventListener("resize",y)}));const k=j(Ms);let w=j(()=>Xs()||[]);Ne(()=>{const L=[],q={};for(let ie=o(w).length-1;ie>=0;ie--){const le=o(w)[ie];if(le&&!(o(g).length&&o(g).some(ue=>!le.tags.includes(ue)))&&!(o(c)&&!(le.title.toLowerCase().includes(o(c).toLowerCase())||le.url.toLowerCase().includes(o(c).toLowerCase())||le.description.toLowerCase().includes(o(c).toLowerCase())))){if(le.tags)for(const ue of le.tags)q[ue]?q[ue].connections++:q[ue]={name:ue,connections:1};L.push(le)}}Ll(q),L.sort((ie,le)=>{if(!ie||!le)return 0;switch(o(k)){case"newest":return ie.createdAt>le.createdAt?-1:1;case"oldest":return ie.createdAt<le.createdAt?-1:1;case"AtoZ":return ie.title.localeCompare(le.title);case"ZtoA":return le.title.localeCompare(ie.title);default:return 0}}),T(l,L,!0)});const E=j(()=>o(l).length*r);let P=j(()=>{const L=Math.ceil(o(s)/r);let q=Math.floor(o(a)/r);return q=q-Math.min(q,L),o(l).slice(q,q+L*3)}),S=j(()=>r*Math.ceil(o(s)/r));const H=j(()=>o(a)-Math.min(o(a),o(S))),A=()=>{o(u)&&o(u).scrollTo({top:0,behavior:"smooth"})},U=()=>{const L=ot();L.includes("import")||L.push("import");const q=new URLSearchParams(I.search);return q.set("stackPages",L.join(",")),`${I.pathname}?${q}`};let G=j(()=>{const L=ot();L.includes("newNote")||L.push("newNote");const q=new URLSearchParams(I.search);return q.set("stackPages",L.join(",")),`${I.pathname}?${q}`}),W=j(U);const B=L=>{L.preventDefault(),Ke("newNote")},O=L=>{L.preventDefault(),Ke("import")};var D=Kc(),M=N(D),V=b(M),oe=b(V);Zr(oe,{onFocus:A,placeholder:"Search",get value(){return o(c)},set value(L){T(c,L,!0)}});var ge=x(V,2);Oc(ge,{});var ye=x(M,2),se=b(ye),Oe=b(se);{var qe=L=>{co(L,{})},de=L=>{var q=K(),ie=N(q);{var le=De=>{var Ye=Uc(),Fe=x(b(Ye),2),gt=b(Fe);Mt(gt,{element:"a",get href(){return o(G)},onClick:B,children:(Ae,nt)=>{var Te=Fc(),fe=N(Te);Se(fe,()=>({"--size":"24px","--color":"#b0b0b0"})),we(fe.lastChild,{name:"plus"}),m(Ae,Te)},$$slots:{default:!0}});var be=x(Fe,4),Ee=b(be);Mt(Ee,{element:"a",get href(){return o(W)},onClick:O,children:(Ae,nt)=>{var Te=Hc(),fe=N(Te);Se(fe,()=>({"--size":"18px","--color":"#b0b0b0"})),we(fe.lastChild,{name:"import"}),m(Ae,Te)},$$slots:{default:!0}}),m(De,Ye)},ue=De=>{var Ye=K(),Fe=N(Ye);{var gt=Ee=>{var Ae=zc();m(Ee,Ae)},be=Ee=>{var Ae=jc(),nt=b(Ae);rt(nt,23,()=>o(P),Te=>Te.id,(Te,fe,He)=>{{let Bt=j(()=>o(He)*r<o(i)-o(H)-r/2||o(He)*r>o(i)-o(H)+Math.floor(o(s)/r)*r),Nn=j(()=>(o(He)+3)*r<o(i)-o(H)-r/2||(o(He)+3)*r>o(i)-o(H)+Math.floor(o(s)/r)*r);Ec(Te,{get focusHidden(){return o(Bt)},get showMenuUp(){return o(Nn)},get note(){return o(fe)}})}}),ce(Te=>{qn(Ae,`min-height: ${Te??""}px`),qn(nt,`transform: translateY(${o(H)??""}px);`)},[()=>Math.max((o(E)>o(s),o(E)),0)]),m(Ee,Ae)};z(Fe,Ee=>{o(P).length===0?Ee(gt):Ee(be,!1)},!0)}m(De,Ye)};z(ie,De=>{o(w).length===0?De(le):De(ue,!1)},!0)}m(L,q)};z(Oe,L=>{Cn()?L(de,!1):L(qe)})}et(se,L=>T(n,L),()=>o(n));var We=x(ye,2);{var $=L=>{var q=Vc(),ie=b(q);ie.__click=[Bc,u];var le=b(ie);En(le,{children:(De,Ye)=>{var Fe=Ve("top");m(De,Fe)}});var ue=x(le,2);Se(ue,()=>({"--size":"22px"})),we(ue.lastChild,{name:"up"}),m(L,q)};z(We,L=>{o(f)&&L($)})}m(e,D),X()}Be(["click"]);var Wc=F('<!> <div class="content svelte-cu0ar8"><!></div>',1);function Yc(e){var t=Wc(),n=N(t);jl(n,{});var r=x(n,2),s=b(r);qc(s,{}),m(e,t)}var jt=(e=>(e.Light="light",e.System="system",e.Dark="dark",e))(jt||{});let uo=R(he(localStorage.getItem("colorScheme")||"system"));const Xc=e=>{localStorage.setItem("colorScheme",e),e==="system"?window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.dataset.colorScheme="dark":document.documentElement.dataset.colorScheme="light":document.documentElement.dataset.colorScheme=e,T(uo,e,!0)},Gc=()=>o(uo);var Jc=F('<div class="wrapper svelte-1syxvud"><fieldset class="switcher svelte-1syxvud"><legend class="vh svelte-1syxvud">Color Scheme</legend> <input id="light" type="radio" aria-label="Light"/> <label for="light" title="Light" aria-label="Light"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <input id="system" type="radio" aria-label="System"/> <label for="system" title="System" aria-label="System"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <input id="dark" type="radio" aria-label="Dark"/> <label for="dark" title="Dark" aria-label="Dark"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <div class="wrapSwitcherStatus svelte-1syxvud"><div class="switcherStatus svelte-1syxvud"></div></div></fieldset></div>');function Zc(e,t){Y(t,!0);const n=j(Gc),r=_=>{const y=_.target.value;Xc(y)},s="color-scheme-switcher";var a=Jc(),i=b(a),l=x(b(i),2);Z(l,1,te(["vh","input"]),"svelte-1syxvud"),ve(l,"name",s),l.__change=r;var c=x(l,2);Z(c,1,te(["switcherButton","light"]),"svelte-1syxvud");var u=b(c);Se(u,()=>({"--size":"20px"})),we(u.lastChild,{name:"sun"});var d=x(c,2);Z(d,1,te(["vh","input"]),"svelte-1syxvud"),ve(d,"name",s),d.__change=r;var v=x(d,2);Z(v,1,te(["switcherButton","system"]),"svelte-1syxvud");var f=b(v);Se(f,()=>({"--size":"14px"})),we(f.lastChild,{name:"a"});var h=x(v,2);Z(h,1,te(["vh","input"]),"svelte-1syxvud"),ve(h,"name",s),h.__change=r;var g=x(h,2);Z(g,1,te(["switcherButton","dark"]),"svelte-1syxvud");var p=b(g);return Se(p,()=>({"--size":"20px"})),we(p.lastChild,{name:"moon"}),ce(()=>{fr(l,jt.Light),vr(l,o(n)===jt.Light),fr(d,jt.System),vr(d,o(n)===jt.System),fr(h,jt.Dark),vr(h,o(n)===jt.Dark)}),m(e,a),X({handleChange:r})}Be(["change"]);const Qc=()=>{Ke("import")},$c=()=>{Ke("export")},eu=()=>{Ke("clearStorage")},tu=()=>{Ke("accessKeys")};var nu=F('<li class="svelte-1akkbl0"><button class="button svelte-1akkbl0"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1akkbl0">Access keys</span></button></li>'),ru=F("<span> </span>"),au=F('<div class="svelte-1akkbl0"><!> <ul class="svelte-1akkbl0"><li class="svelte-1akkbl0"><button class="button svelte-1akkbl0"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1akkbl0">Import data</span></button></li> <li class="svelte-1akkbl0"><button class="button svelte-1akkbl0"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1akkbl0">Export data</span></button></li> <li class="svelte-1akkbl0"><button class="button svelte-1akkbl0"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1akkbl0">Clear storage</span></button></li> <!></ul> <div class="version svelte-1akkbl0"><!></div></div>');function su(e,t){Y(t,!0);let n=R("");ke(()=>{const C=new AbortController;return fetch("/build-metadata.json",{signal:C.signal}).then(P=>P.json()).then(P=>{T(n,`${P.buildHash}`)}),()=>{C.abort()}});let r=j(Al);var s=au(),a=b(s);Zc(a,{});var i=x(a,2),l=b(i),c=b(l);c.__click=[Qc];var u=b(c);Se(u,()=>({"--size":"20px"})),we(u.lastChild,{name:"import"});var d=x(l,2),v=b(d);v.__click=[$c];var f=b(v);Se(f,()=>({"--size":"20px"})),we(f.lastChild,{name:"export"});var h=x(d,2),g=b(h);g.__click=[eu];var p=b(g);Se(p,()=>({"--size":"20px"})),we(p.lastChild,{name:"trash"});var _=x(h,2);{var y=C=>{var P=nu(),S=b(P);S.__click=[tu];var H=b(S);Se(H,()=>({"--size":"20px"})),we(H.lastChild,{name:"key"}),m(C,P)};z(_,C=>{o(r)&&C(y)})}var k=x(i,2),w=b(k);{var E=C=>{var P=ru(),S=b(P);ce(H=>Nt(S,`version: 0.0.1 build_date: "${H??""}" build_hash:
				${o(n)??""}`),[()=>new Date(1753564083868).toISOString().replaceAll("T"," ").replace(/\..*/,"")]),m(C,P)};z(w,C=>{o(n)&&C(E)})}m(e,s),X()}Be(["click"]);function ou(e,t){Y(t,!1);const n=()=>{Rs()},r=({title:s,url:a,description:i,tags:l})=>{Jl({title:s,url:a,description:i,tags:l.map(c=>c.trim())}),n()};An(),oo(e,{onSubmit:r}),X()}var iu=F('<div class="content svelte-9hh95f"><p class="message svelte-9hh95f">use app</p> <div class="buttonContainer svelte-9hh95f"><div class="buttonContainerItem svelte-9hh95f"><!></div> <div class="buttonContainerItem svelte-9hh95f"><!></div></div></div>');function lu(e,t){Y(t,!0);let n=R("idle");const r=()=>{T(n,"loading"),Ke("auth")},s=async()=>{T(n,"loading"),await $l(),Hn(!1),Bs()};Ne(()=>{Hn(o(n)==="idle"||o(n)==="loading")}),ke(()=>(Hn(!0),()=>{Hn(!1)}));var a=iu(),i=x(b(a),2),l=b(i),c=b(l);Mt(c,{onClick:r,fullWidth:!0,children:(v,f)=>{var h=Ve("with account");m(v,h)},$$slots:{default:!0}});var u=x(l,2),d=b(u);Mt(d,{onClick:s,fullWidth:!0,type:"secondary",children:(v,f)=>{var h=Ve("without account");m(v,h)},$$slots:{default:!0}}),m(e,a),X()}var cu=F('<div class="content svelte-9hh95f"><p class="message svelte-9hh95f">sign in / sign up</p> <div class="buttonContainer svelte-9hh95f"><div class="buttonContainerItem svelte-9hh95f"><!></div> <div class="buttonContainerItem svelte-9hh95f"><!></div></div></div>');function uu(e,t){Y(t,!1);const n=async()=>{Ke("signin")},r=async()=>{Ke("signup")};ke(()=>(Hn(!0),Va(!0),()=>{Va(!1)})),An();var s=cu(),a=x(b(s),2),i=b(a),l=b(i);Mt(l,{onClick:n,fullWidth:!0,children:(d,v)=>{var f=Ve("sign in");m(d,f)},$$slots:{default:!0}});var c=x(i,2),u=b(c);Mt(u,{onClick:r,fullWidth:!0,children:(d,v)=>{var f=Ve("sign up");m(d,f)},$$slots:{default:!0}}),m(e,s),X()}let fo=R(200);const du=e=>{T(fo,e,!0)},Fu=()=>o(fo);var fu=F('<div class="svelte-m08fup"><!></div>');function Je(e,t){Y(t,!0);let n=R(null);ke(()=>{o(n)&&(o(n).getBoundingClientRect(),o(n).style.opacity="1");const a=new ResizeObserver(i=>{for(let l of i){const c=l.contentRect.height;console.log("Div height:",c),du(c)}});if(o(n))return a.observe(o(n)),()=>{o(n)&&a.unobserve(o(n)),a.disconnect()}});var r=fu(),s=b(r);st(s,()=>t.children),et(r,a=>T(n,a),()=>o(n)),m(e,r),X()}var vu=F('<div class="svelte-uzefkz"><!></div>');function Ut(e){var t=vu(),n=b(t);co(n,{}),m(e,t)}var hu=F('<div class="svelte-1tpcci8"><p class="svelte-1tpcci8">Something went wrong. Please reload the page</p> <!></div>');function zt(e){var t=hu(),n=x(b(t),2);Mt(n,{onClick:()=>location.reload(),children:(r,s)=>{var a=Ve("Reload");m(r,a)},$$slots:{default:!0}}),m(e,t)}var gu=F('<div class="svelte-ndasxn"><p class="svelte-ndasxn">Page not found</p> <!></div>');function pu(e,t){Y(t,!1);const n=()=>{Ot("/")};An();var r=gu(),s=x(b(r),2);Mt(s,{element:"a",href:"/",onClick:n,children:(a,i)=>{var l=Ve("close");m(a,l)},$$slots:{default:!0}}),m(e,r),X()}var _u=F("<!> <!>",1);function mu(e,t){Y(t,!0);const n=(A,U=Qt,re)=>{let G=Er(()=>Po(re?.(),!1));var W=K(),B=N(W);{var O=M=>{Je(M,{children:(V,oe)=>{su(V,{})},$$slots:{default:!0}})},D=M=>{var V=K(),oe=N(V);{var ge=se=>{Je(se,{children:(Oe,qe)=>{ou(Oe,{})},$$slots:{default:!0}})},ye=se=>{var Oe=K(),qe=N(Oe);{var de=$=>{Je($,{children:(L,q)=>{var ie=K(),le=N(ie);St(le,f,ue=>{Ut(ue)},(ue,De)=>{var Ye=K();const Fe=j(()=>o(De).default);var gt=N(Ye);kt(gt,()=>o(Fe),(be,Ee)=>{Ee(be,{})}),m(ue,Ye)},ue=>{zt(ue)}),m(L,ie)},$$slots:{default:!0}})},We=$=>{var L=K(),q=N(L);{var ie=ue=>{Je(ue,{children:(De,Ye)=>{var Fe=K(),gt=N(Fe);St(gt,h,be=>{Ut(be)},(be,Ee)=>{var Ae=K();const nt=j(()=>o(Ee).default);var Te=N(Ae);kt(Te,()=>o(nt),(fe,He)=>{He(fe,{})}),m(be,Ae)},be=>{zt(be)}),m(De,Fe)},$$slots:{default:!0}})},le=ue=>{var De=K(),Ye=N(De);{var Fe=be=>{Je(be,{children:(Ee,Ae)=>{var nt=K(),Te=N(nt);St(Te,g,fe=>{Ut(fe)},(fe,He)=>{var Bt=K();const Nn=j(()=>o(He).default);var xr=N(Bt);kt(xr,()=>o(Nn),(yt,sn)=>{sn(yt,{})}),m(fe,Bt)},fe=>{zt(fe)}),m(Ee,nt)},$$slots:{default:!0}})},gt=be=>{var Ee=K(),Ae=N(Ee);{var nt=fe=>{Je(fe,{children:(He,Bt)=>{lu(He,{})},$$slots:{default:!0}})},Te=fe=>{var He=K(),Bt=N(He);{var Nn=yt=>{Je(yt,{children:(sn,Ea)=>{uu(sn,{})},$$slots:{default:!0}})},xr=yt=>{var sn=K(),Ea=N(sn);{var vo=on=>{Je(on,{children:(nr,Ta)=>{var rr=K(),Dr=N(rr);St(Dr,p,Xe=>{Ut(Xe)},(Xe,ln)=>{var On=K();const cn=j(()=>o(ln).default);var Mn=N(On);kt(Mn,()=>o(cn),(Me,bt)=>{bt(Me,{})}),m(Xe,On)},Xe=>{zt(Xe)}),m(nr,rr)},$$slots:{default:!0}})},ho=on=>{var nr=K(),Ta=N(nr);{var rr=Xe=>{Je(Xe,{children:(ln,On)=>{var cn=K(),Mn=N(cn);St(Mn,_,Me=>{Ut(Me)},(Me,bt)=>{var In=K();const un=j(()=>o(bt).default);var Rn=N(In);kt(Rn,()=>o(un),(Ie,Ft)=>{Ft(Ie,{})}),m(Me,In)},Me=>{zt(Me)}),m(ln,cn)},$$slots:{default:!0}})},Dr=Xe=>{var ln=K(),On=N(ln);{var cn=Me=>{Je(Me,{children:(bt,In)=>{var un=K(),Rn=N(un);St(Rn,y,Ie=>{Ut(Ie)},(Ie,Ft)=>{var ar=K();const sr=j(()=>o(Ft).default);var Ar=N(ar);kt(Ar,()=>o(sr),(Ht,Lr)=>{Lr(Ht,{get hidden(){return o(G)}})}),m(Ie,ar)},Ie=>{zt(Ie)}),m(bt,un)},$$slots:{default:!0}})},Mn=Me=>{var bt=K(),In=N(bt);{var un=Ie=>{Je(Ie,{children:(Ft,ar)=>{var sr=K(),Ar=N(sr);St(Ar,k,Ht=>{Ut(Ht)},(Ht,Lr)=>{var Ca=K();const go=j(()=>o(Lr).default);var po=N(Ca);kt(po,()=>o(go),(_o,mo)=>{mo(_o,{})}),m(Ht,Ca)},Ht=>{zt(Ht)}),m(Ft,sr)},$$slots:{default:!0}})},Rn=Ie=>{Je(Ie,{children:(Ft,ar)=>{pu(Ft,{})},$$slots:{default:!0}})};z(In,Ie=>{U()==="confirmAccessKey"?Ie(un):Ie(Rn,!1)},!0)}m(Me,bt)};z(On,Me=>{U()==="accessKeys"?Me(cn):Me(Mn,!1)},!0)}m(Xe,ln)};z(Ta,Xe=>{U()==="signin"?Xe(rr):Xe(Dr,!1)},!0)}m(on,nr)};z(Ea,on=>{U()==="signup"?on(vo):on(ho,!1)},!0)}m(yt,sn)};z(Bt,yt=>{U()==="auth"?yt(Nn):yt(xr,!1)},!0)}m(fe,He)};z(Ae,fe=>{U()==="start"?fe(nt):fe(Te,!1)},!0)}m(be,Ee)};z(Ye,be=>{U()==="clearStorage"?be(Fe):be(gt,!1)},!0)}m(ue,De)};z(q,ue=>{U()==="export"?ue(ie):ue(le,!1)},!0)}m($,L)};z(qe,$=>{U()==="import"?$(de):$(We,!1)},!0)}m(se,Oe)};z(oe,se=>{U()==="newNote"?se(ge):se(ye,!1)},!0)}m(M,V)};z(B,M=>{U()==="settings"?M(O):M(D,!1)})}m(A,W)};let r=j(Hs),s=j(Cn),a=null,i=null,l=null,c=null,u=null,d=null,v=null;function f(){return a||(a=Et(()=>import("./ImportData-CdhHUx7e.js"),__vite__mapDeps([2,3]))),a}function h(){return i||(i=Et(()=>import("./ExportData-Dn010oWg.js"),__vite__mapDeps([4,5]))),i}function g(){return l||(l=Et(()=>import("./ClearStore-Cgxycp7Y.js"),__vite__mapDeps([6,7]))),l}function p(){return c||(c=Et(()=>import("./Signup-CmA5-K1S.js"),__vite__mapDeps([8,9,10]))),c}function _(){return u||(u=Et(()=>import("./Signin-xfxm8a3-.js"),__vite__mapDeps([11,9,10]))),u}function y(){return d||(d=Et(()=>import("./AccessKeys-fCAiPN2Q.js"),__vite__mapDeps([12,9,13]))),d}function k(){return v||(v=Et(()=>import("./ConfirmAccessKey-BJWYlaZZ.js"),__vite__mapDeps([14,9,15]))),v}var w=_u(),E=N(w);{var C=A=>{Yc(A)};z(E,A=>{o(s)&&A(C)})}var P=x(E,2);{var S=A=>{var U=K(),re=N(U);rt(re,17,()=>o(r),Fi,(G,W,B)=>{{let O=j(()=>B!==o(r).length-1&&!!o(r)[B+1]?.shown);Ka(G,{get shown(){return o(W).shown},get hidden(){return o(O)},isLastDialog:B===0,children:(D,M)=>{{let V=j(()=>B!==o(r).length-1&&!!o(r)[B+1]?.shown);n(D,()=>o(W).page,()=>o(V))}},$$slots:{default:!0}})}}),m(A,U)},H=A=>{var U=K(),re=N(U);{var G=W=>{{let B=j(()=>o(r).length===1);Ka(W,{onBack:()=>Fs(),get shown(){return o(r)[o(r).length-1].shown},hidden:!1,get isLastDialog(){return o(B)},children:(O,D)=>{n(O,()=>o(r)[o(r).length-1].page)},$$slots:{default:!0}})}};z(re,W=>{o(r).length>0&&W(G)},!0)}m(A,U)};z(P,A=>{Ln()?A(S):A(H,!1)})}m(e,w),X()}function wu(){const e=navigator.userAgent;if(!(/iPad|iPhone|iPod/.test(e)&&!window.MSStream))return!1;const n=/Safari/.test(e)&&!/Chrome/.test(e)&&!/CriOS/.test(e)&&!/FxiOS/.test(e),r=/Macintosh/.test(e)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>1;return!!n||!!r}const yu=wu();function bu(e,t){Y(t,!1),ke(()=>{Hr(),document.addEventListener("focusin",Hr),document.addEventListener("focusout",Hr),document.addEventListener("touchmove",function(n){_a()&&yu&&n.preventDefault()},{passive:!1})}),An(),X()}function Su(e,t){Y(t,!1);let n=0;ke(()=>{document.querySelector("div"),document.addEventListener("touchstart",r=>{n=r.touches[0].clientX},{passive:!1}),document.addEventListener("touchmove",r=>{const a=r.touches[0].clientX-n;(n<50&&a>0||n>window.innerWidth-50&&a<0)&&r.preventDefault()},{passive:!1}),document.addEventListener("touchend",()=>{n=0}),document.addEventListener("touchcancel",()=>{n=0})}),An(),X()}var ku=F('<!> <!> <!> <main><!> <div class="container svelte-ngsolt"><!></div></main>',1);function Eu(e,t){Y(t,!0),ke(async()=>{await new Promise(h=>setTimeout(h,100)),await Ei(),xe.working=!0});let n=j(()=>ot().length>0),r=j(Cn);var s=ku(),a=N(s);Su(a,{});var i=x(a,2);bu(i,{});var l=x(i,2);Qi(l,{});var c=x(l,2),u=b(c);{var d=h=>{vl(h,{})};z(u,h=>{o(r)&&h(d)})}var v=x(u,2),f=b(v);mu(f,{}),et(c,h=>$r.ref=h,()=>$r?.ref),ce(()=>{qn(c,`--swiping-ratio: ${xe.swipingRatio}; --transition-timing-default: ${xe.duration}s;`),Z(c,1,te(["main",{isAnimationOn:xe.working&&!xe.isSwiping,open:o(n)}]),"svelte-ngsolt")}),m(e,s),X()}window.addEventListener("unhandledrejection",e=>{alert("Error: "+e.reason.message)});window.isUnsupportedBrowser||Ii(Eu,{target:document.getElementById("app")});export{Fs as $,Mu as A,Mt as B,Xs as C,Ou as D,Pu as E,Iu as F,he as G,Va as H,Du as I,Bu as J,xu as K,co as L,Au as M,rt as N,Se as O,we as P,Nt as Q,Fi as R,ac as S,j as T,Ke as U,En as V,ot as W,I as X,dr as Y,Al as Z,Lu as _,R as a,Rs as a0,ae as a1,xe as a2,st as a3,to as a4,qn as a5,Fu as a6,m as b,b as c,X as d,x as e,F as f,o as g,N as h,z as i,Ln as j,K as k,et as l,T as m,ce as n,ke as o,Y as p,Z as q,te as r,Hn as s,Ve as t,Ne as u,kn as v,Be as w,Ru as x,Nu as y,Bs as z};
