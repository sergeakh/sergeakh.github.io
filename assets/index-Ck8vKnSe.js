(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();const bn=!1;var an=Array.isArray,Mr=Array.prototype.indexOf,on=Array.from,Ar=Object.defineProperty,Xe=Object.getOwnPropertyDescriptor,qn=Object.getOwnPropertyDescriptors,Br=Object.prototype,Ir=Array.prototype,sn=Object.getPrototypeOf,Sn=Object.isExtensible;const jn=()=>{};function Rr(e){return e()}function yt(e){for(var t=0;t<e.length;t++)e[t]()}const ke=2,Hn=4,Bt=8,ln=16,Ae=32,et=64,bt=128,fe=256,St=512,ue=1024,Ce=2048,We=4096,Oe=8192,It=16384,Nr=32768,Rt=65536,qr=1<<17,jr=1<<19,Fn=1<<20,Gt=1<<21,Ue=Symbol("$state"),Hr=Symbol("legacy props"),Fr=Symbol("");function zn(e){return e===this.v}function zr(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function cn(e){return!zr(e,this.v)}function Ur(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Vr(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Wr(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Yr(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Zr(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function Xr(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Kr(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Gr(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let tt=!1,Jr=!1;function Qr(){tt=!0}const un=1,vn=2,Un=4,$r=8,ea=16,ta=1,na=2,ra=4,aa=8,oa=16,sa=1,ia=2,ce=Symbol(),la="http://www.w3.org/1999/xhtml";function Vn(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let z=null;function xn(e){z=e}function ca(e){return Wn().get(e)}function ua(e,t){return Wn().set(e,t),t}function W(e,t=!1,n){var r=z={p:z,c:null,d:!1,e:null,m:!1,s:e,x:null,l:null};tt&&!t&&(z.l={s:null,u:null,r1:[],r2:ct(!1)}),dn(()=>{r.d=!0})}function Y(e){const t=z;if(t!==null){const s=t.e;if(s!==null){var n=V,r=F;t.e=null;try{for(var a=0;a<s.length;a++){var o=s[a];qe(o.effect),Le(o.reaction),fn(o.fn)}}finally{qe(n),Le(r)}}z=t.p,t.m=!0}return{}}function ft(){return!tt||z!==null&&z.l===null}function Wn(e){return z===null&&Vn(),z.c??(z.c=new Map(va(z)||void 0))}function va(e){let t=e.p;for(;t!==null;){const n=t.c;if(n!==null)return n;t=t.p}return null}function ee(e){if(typeof e!="object"||e===null||Ue in e)return e;const t=sn(e);if(t!==Br&&t!==Ir)return e;var n=new Map,r=an(e),a=I(0),o=F,s=i=>{var c=F;Le(o);var v=i();return Le(c),v};return r&&n.set("length",I(e.length)),new Proxy(e,{defineProperty(i,c,v){(!("value"in v)||v.configurable===!1||v.enumerable===!1||v.writable===!1)&&Xr();var u=n.get(c);return u===void 0?(u=s(()=>I(v.value)),n.set(c,u)):x(u,s(()=>ee(v.value))),!0},deleteProperty(i,c){var v=n.get(c);if(v===void 0)c in i&&n.set(c,s(()=>I(ce)));else{if(r&&typeof c=="string"){var u=n.get("length"),f=Number(c);Number.isInteger(f)&&f<u.v&&x(u,f)}x(v,ce),En(a)}return!0},get(i,c,v){var p;if(c===Ue)return e;var u=n.get(c),f=c in i;if(u===void 0&&(!f||(p=Xe(i,c))!=null&&p.writable)&&(u=s(()=>I(ee(f?i[c]:ce))),n.set(c,u)),u!==void 0){var d=l(u);return d===ce?void 0:d}return Reflect.get(i,c,v)},getOwnPropertyDescriptor(i,c){var v=Reflect.getOwnPropertyDescriptor(i,c);if(v&&"value"in v){var u=n.get(c);u&&(v.value=l(u))}else if(v===void 0){var f=n.get(c),d=f==null?void 0:f.v;if(f!==void 0&&d!==ce)return{enumerable:!0,configurable:!0,value:d,writable:!0}}return v},has(i,c){var d;if(c===Ue)return!0;var v=n.get(c),u=v!==void 0&&v.v!==ce||Reflect.has(i,c);if(v!==void 0||V!==null&&(!u||(d=Xe(i,c))!=null&&d.writable)){v===void 0&&(v=s(()=>I(u?ee(i[c]):ce)),n.set(c,v));var f=l(v);if(f===ce)return!1}return u},set(i,c,v,u){var g;var f=n.get(c),d=c in i;if(r&&c==="length")for(var p=v;p<f.v;p+=1){var h=n.get(p+"");h!==void 0?x(h,ce):p in i&&(h=s(()=>I(ce)),n.set(p+"",h))}f===void 0?(!d||(g=Xe(i,c))!=null&&g.writable)&&(f=s(()=>I(void 0)),x(f,s(()=>ee(v))),n.set(c,f)):(d=f.v!==ce,x(f,s(()=>ee(v))));var k=Reflect.getOwnPropertyDescriptor(i,c);if(k!=null&&k.set&&k.set.call(u,v),!d){if(r&&typeof c=="string"){var _=n.get("length"),w=Number(c);Number.isInteger(w)&&w>=_.v&&x(_,w+1)}En(a)}return!0},ownKeys(i){l(a);var c=Reflect.ownKeys(i).filter(f=>{var d=n.get(f);return d===void 0||d.v!==ce});for(var[v,u]of n)u.v!==ce&&!(v in i)&&c.push(v);return c},setPrototypeOf(){Kr()}})}function En(e,t=1){x(e,e.v+t)}function Ge(e){var t=ke|Ce,n=F!==null&&(F.f&ke)!==0?F:null;return V===null||n!==null&&(n.f&fe)!==0?t|=fe:V.f|=Fn,{ctx:z,deps:null,effects:null,equals:zn,f:t,fn:e,reactions:null,rv:0,v:null,wv:0,parent:n??V}}function Q(e){const t=Ge(e);return lr(t),t}function Yn(e){const t=Ge(e);return t.equals=cn,t}function Zn(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)Me(t[n])}}function da(e){for(var t=e.parent;t!==null;){if((t.f&ke)===0)return t;t=t.parent}return null}function Xn(e){var t,n=V;qe(da(e));try{Zn(e),t=dr(e)}finally{qe(n)}return t}function Kn(e){var t=Xn(e),n=(Re||(e.f&fe)!==0)&&e.deps!==null?We:ue;ye(e,n),e.equals(t)||(e.v=t,e.wv=ur())}const lt=new Map;function ct(e,t){var n={f:0,v:e,reactions:null,equals:zn,rv:0,wv:0};return n}function I(e,t){const n=ct(e);return lr(n),n}function Gn(e,t=!1){var r;const n=ct(e);return t||(n.equals=cn),tt&&z!==null&&z.l!==null&&((r=z.l).s??(r.s=[])).push(n),n}function x(e,t,n=!1){F!==null&&!xe&&ft()&&(F.f&(ke|ln))!==0&&!(le!=null&&le.includes(e))&&Gr();let r=n?ee(t):t;return Jt(e,r)}function Jt(e,t){if(!e.equals(t)){var n=e.v;ht?lt.set(e,t):lt.set(e,n),e.v=t,(e.f&ke)!==0&&((e.f&Ce)!==0&&Xn(e),ye(e,(e.f&fe)===0?ue:We)),e.wv=ur(),Jn(e,Ce),ft()&&V!==null&&(V.f&ue)!==0&&(V.f&(Ae|et))===0&&(pe===null?ya([e]):pe.push(e))}return t}function Jn(e,t){var n=e.reactions;if(n!==null)for(var r=ft(),a=n.length,o=0;o<a;o++){var s=n[o],i=s.f;(i&Ce)===0&&(!r&&s===V||(ye(s,t),(i&(ue|fe))!==0&&((i&ke)!==0?Jn(s,We):zt(s))))}}let fa=!1;var Tn,Qn,$n,er;function ha(){if(Tn===void 0){Tn=window,Qn=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;$n=Xe(t,"firstChild").get,er=Xe(t,"nextSibling").get,Sn(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Sn(n)&&(n.__t=void 0)}}function Nt(e=""){return document.createTextNode(e)}function Je(e){return $n.call(e)}function qt(e){return er.call(e)}function S(e,t){return Je(e)}function U(e,t){{var n=Je(e);return n instanceof Comment&&n.data===""?qt(n):n}}function C(e,t=1,n=!1){let r=e;for(;t--;)r=qt(r);return r}function pa(e){e.textContent=""}function tr(e){V===null&&F===null&&Wr(),F!==null&&(F.f&fe)!==0&&V===null&&Vr(),ht&&Ur()}function ga(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function nt(e,t,n,r=!0){var a=V,o={ctx:z,deps:null,nodes_start:null,nodes_end:null,f:e|Ce,first:null,fn:t,last:null,next:null,parent:a,prev:null,teardown:null,transitions:null,wv:0};if(n)try{gn(o),o.f|=Nr}catch(c){throw Me(o),c}else t!==null&&zt(o);var s=n&&o.deps===null&&o.first===null&&o.nodes_start===null&&o.teardown===null&&(o.f&(Fn|bt))===0;if(!s&&r&&(a!==null&&ga(o,a),F!==null&&(F.f&ke)!==0)){var i=F;(i.effects??(i.effects=[])).push(o)}return o}function dn(e){const t=nt(Bt,null,!1);return ye(t,ue),t.teardown=e,t}function me(e){tr();var t=V!==null&&(V.f&Ae)!==0&&z!==null&&!z.m;if(t){var n=z;(n.e??(n.e=[])).push({fn:e,effect:V,reaction:F})}else{var r=fn(e);return r}}function _a(e){return tr(),jt(e)}function ma(e){const t=nt(et,e,!0);return(n={})=>new Promise(r=>{n.outro?xt(t,()=>{Me(t),r(void 0)}):(Me(t),r(void 0))})}function fn(e){return nt(Hn,e,!1)}function jt(e){return nt(Bt,e,!0)}function $(e,t=[],n=Ge){const r=t.map(n);return Ht(()=>e(...r.map(l)))}function Ht(e,t=0){return nt(Bt|ln|t,e,!0)}function Qe(e,t=!0){return nt(Bt|Ae,e,!0,t)}function nr(e){var t=e.teardown;if(t!==null){const n=ht,r=F;Ln(!0),Le(null);try{t.call(null)}finally{Ln(n),Le(r)}}}function rr(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){var r=n.next;(n.f&et)!==0?n.parent=null:Me(n,t),n=r}}function wa(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&Ae)===0&&Me(t),t=n}}function Me(e,t=!0){var n=!1;if((t||(e.f&jr)!==0)&&e.nodes_start!==null){for(var r=e.nodes_start,a=e.nodes_end;r!==null;){var o=r===a?null:qt(r);r.remove(),r=o}n=!0}rr(e,t&&!n),Dt(e,0),ye(e,It);var s=e.transitions;if(s!==null)for(const c of s)c.stop();nr(e);var i=e.parent;i!==null&&i.first!==null&&ar(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function ar(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function xt(e,t){var n=[];hn(e,n,!0),or(n,()=>{Me(e),t&&t()})}function or(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var a of e)a.out(r)}else t()}function hn(e,t,n){if((e.f&Oe)===0){if(e.f^=Oe,e.transitions!==null)for(const s of e.transitions)(s.is_global||n)&&t.push(s);for(var r=e.first;r!==null;){var a=r.next,o=(r.f&Rt)!==0||(r.f&Ae)!==0;hn(r,t,o?n:!1),r=a}}}function Et(e){sr(e,!0)}function sr(e,t){if((e.f&Oe)!==0){e.f^=Oe,(e.f&ue)===0&&(e.f^=ue),pt(e)&&(ye(e,Ce),zt(e));for(var n=e.first;n!==null;){var r=n.next,a=(n.f&Rt)!==0||(n.f&Ae)!==0;sr(n,a?t:!1),n=r}if(e.transitions!==null)for(const o of e.transitions)(o.is_global||t)&&o.in()}}let ut=[],Qt=[];function ir(){var e=ut;ut=[],yt(e)}function ka(){var e=Qt;Qt=[],yt(e)}function pn(e){ut.length===0&&queueMicrotask(ir),ut.push(e)}function Cn(){ut.length>0&&ir(),Qt.length>0&&ka()}let kt=!1,Tt=!1,Ct=null,Ve=!1,ht=!1;function Ln(e){ht=e}let it=[];let F=null,xe=!1;function Le(e){F=e}let V=null;function qe(e){V=e}let le=null;function lr(e){F!==null&&F.f&Gt&&(le===null?le=[e]:le.push(e))}let ie=null,de=0,pe=null;function ya(e){pe=e}let cr=1,Lt=0,Re=!1;function ur(){return++cr}function pt(e){var f;var t=e.f;if((t&Ce)!==0)return!0;if((t&We)!==0){var n=e.deps,r=(t&fe)!==0;if(n!==null){var a,o,s=(t&St)!==0,i=r&&V!==null&&!Re,c=n.length;if(s||i){var v=e,u=v.parent;for(a=0;a<c;a++)o=n[a],(s||!((f=o==null?void 0:o.reactions)!=null&&f.includes(v)))&&(o.reactions??(o.reactions=[])).push(v);s&&(v.f^=St),i&&u!==null&&(u.f&fe)===0&&(v.f^=fe)}for(a=0;a<c;a++)if(o=n[a],pt(o)&&Kn(o),o.wv>e.wv)return!0}(!r||V!==null&&!Re)&&ye(e,ue)}return!1}function ba(e,t){for(var n=t;n!==null;){if((n.f&bt)!==0)try{n.fn(e);return}catch{n.f^=bt}n=n.parent}throw kt=!1,e}function Sa(e){return(e.f&It)===0&&(e.parent===null||(e.parent.f&bt)===0)}function Ft(e,t,n,r){if(kt){if(n===null&&(kt=!1),Sa(t))throw e;return}n!==null&&(kt=!0);{ba(e,t);return}}function vr(e,t,n=!0){var r=e.reactions;if(r!==null)for(var a=0;a<r.length;a++){var o=r[a];le!=null&&le.includes(e)||((o.f&ke)!==0?vr(o,t,!1):t===o&&(n?ye(o,Ce):(o.f&ue)!==0&&ye(o,We),zt(o)))}}function dr(e){var p;var t=ie,n=de,r=pe,a=F,o=Re,s=le,i=z,c=xe,v=e.f;ie=null,de=0,pe=null,Re=(v&fe)!==0&&(xe||!Ve||F===null),F=(v&(Ae|et))===0?e:null,le=null,xn(e.ctx),xe=!1,Lt++,e.f|=Gt;try{var u=(0,e.fn)(),f=e.deps;if(ie!==null){var d;if(Dt(e,de),f!==null&&de>0)for(f.length=de+ie.length,d=0;d<ie.length;d++)f[de+d]=ie[d];else e.deps=f=ie;if(!Re)for(d=de;d<f.length;d++)((p=f[d]).reactions??(p.reactions=[])).push(e)}else f!==null&&de<f.length&&(Dt(e,de),f.length=de);if(ft()&&pe!==null&&!xe&&f!==null&&(e.f&(ke|We|Ce))===0)for(d=0;d<pe.length;d++)vr(pe[d],e);return a!==e&&(Lt++,pe!==null&&(r===null?r=pe:r.push(...pe))),u}finally{ie=t,de=n,pe=r,F=a,Re=o,le=s,xn(i),xe=c,e.f^=Gt}}function xa(e,t){let n=t.reactions;if(n!==null){var r=Mr.call(n,e);if(r!==-1){var a=n.length-1;a===0?n=t.reactions=null:(n[r]=n[a],n.pop())}}n===null&&(t.f&ke)!==0&&(ie===null||!ie.includes(t))&&(ye(t,We),(t.f&(fe|St))===0&&(t.f^=St),Zn(t),Dt(t,0))}function Dt(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)xa(e,n[r])}function gn(e){var t=e.f;if((t&It)===0){ye(e,ue);var n=V,r=z,a=Ve;V=e,Ve=!0;try{(t&ln)!==0?wa(e):rr(e),nr(e);var o=dr(e);e.teardown=typeof o=="function"?o:null,e.wv=cr;var s=e.deps,i;bn&&Jr&&e.f&Ce}catch(c){Ft(c,e,n,r||e.ctx)}finally{Ve=a,V=n}}}function Ea(){try{Yr()}catch(e){if(Ct!==null)Ft(e,Ct,null);else throw e}}function fr(){var e=Ve;try{var t=0;for(Ve=!0;it.length>0;){t++>1e3&&Ea();var n=it,r=n.length;it=[];for(var a=0;a<r;a++){var o=Ca(n[a]);Ta(o)}lt.clear()}}finally{Tt=!1,Ve=e,Ct=null}}function Ta(e){var t=e.length;if(t!==0)for(var n=0;n<t;n++){var r=e[n];if((r.f&(It|Oe))===0)try{pt(r)&&(gn(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null?ar(r):r.fn=null))}catch(a){Ft(a,r,null,r.ctx)}}}function zt(e){Tt||(Tt=!0,queueMicrotask(fr));for(var t=Ct=e;t.parent!==null;){t=t.parent;var n=t.f;if((n&(et|Ae))!==0){if((n&ue)===0)return;t.f^=ue}}it.push(t)}function Ca(e){for(var t=[],n=e;n!==null;){var r=n.f,a=(r&(Ae|et))!==0,o=a&&(r&ue)!==0;if(!o&&(r&Oe)===0){if((r&Hn)!==0)t.push(n);else if(a)n.f^=ue;else{var s=F;try{F=n,pt(n)&&gn(n)}catch(v){Ft(v,n,null,n.ctx)}finally{F=s}}var i=n.first;if(i!==null){n=i;continue}}var c=n.parent;for(n=n.next;n===null&&c!==null;)n=c.next,c=c.parent}return t}function La(e){var t;for(Cn();it.length>0;)Tt=!0,fr(),Cn();return t}async function Da(){await Promise.resolve(),La()}function l(e){var t=e.f,n=(t&ke)!==0;if(F!==null&&!xe){if(!(le!=null&&le.includes(e))){var r=F.deps;e.rv<Lt&&(e.rv=Lt,ie===null&&r!==null&&r[de]===e?de++:ie===null?ie=[e]:(!Re||!ie.includes(e))&&ie.push(e))}}else if(n&&e.deps===null&&e.effects===null){var a=e,o=a.parent;o!==null&&(o.f&fe)===0&&(a.f^=fe)}return n&&(a=e,pt(a)&&Kn(a)),ht&&lt.has(e)?lt.get(e):e.v}function $e(e){var t=xe;try{return xe=!0,e()}finally{xe=t}}const Pa=-7169;function ye(e,t){e.f=e.f&Pa|t}function Oa(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Ue in e)$t(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&Ue in n&&$t(n)}}}function $t(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{$t(e[r],t)}catch{}const n=sn(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=qn(n);for(let a in r){const o=r[a].get;if(o)try{o.call(e)}catch{}}}}}const Ma=["touchstart","touchmove"];function Aa(e){return Ma.includes(e)}let Dn=!1;function Ba(){Dn||(Dn=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const n of e.target.elements)(t=n.__on_r)==null||t.call(n)})},{capture:!0}))}function hr(e){var t=F,n=V;Le(null),qe(null);try{return e()}finally{Le(t),qe(n)}}function Ia(e,t,n,r=n){e.addEventListener(t,()=>hr(n));const a=e.__on_r;a?e.__on_r=()=>{a(),r(!0)}:e.__on_r=()=>r(!0),Ba()}const pr=new Set,en=new Set;function Ra(e,t,n,r={}){function a(o){if(r.capture||ot.call(t,o),!o.cancelBubble)return hr(()=>n==null?void 0:n.call(this,o))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?pn(()=>{t.addEventListener(e,a,r)}):t.addEventListener(e,a,r),a}function Fe(e,t,n,r,a){var o={capture:r,passive:a},s=Ra(e,t,n,o);(t===document.body||t===window||t===document)&&dn(()=>{t.removeEventListener(e,s,o)})}function ge(e){for(var t=0;t<e.length;t++)pr.add(e[t]);for(var n of en)n(e)}function ot(e){var g;var t=this,n=t.ownerDocument,r=e.type,a=((g=e.composedPath)==null?void 0:g.call(e))||[],o=a[0]||e.target,s=0,i=e.__root;if(i){var c=a.indexOf(i);if(c!==-1&&(t===document||t===window)){e.__root=t;return}var v=a.indexOf(t);if(v===-1)return;c<=v&&(s=c)}if(o=a[s]||e.target,o!==t){Ar(e,"currentTarget",{configurable:!0,get(){return o||n}});var u=F,f=V;Le(null),qe(null);try{for(var d,p=[];o!==null;){var h=o.assignedSlot||o.parentNode||o.host||null;try{var k=o["__"+r];if(k!=null&&(!o.disabled||e.target===o))if(an(k)){var[_,...w]=k;_.apply(o,[e,...w])}else k.call(o,e)}catch(M){d?p.push(M):d=M}if(e.cancelBubble||h===t||h===null)break;o=h}if(d){for(let M of p)queueMicrotask(()=>{throw M});throw d}}finally{e.__root=t,delete e.currentTarget,Le(u),qe(f)}}}function gr(e){var t=document.createElement("template");return t.innerHTML=e,t.content}function vt(e,t){var n=V;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function q(e,t){var n=(t&sa)!==0,r=(t&ia)!==0,a,o=!e.startsWith("<!>");return()=>{a===void 0&&(a=gr(o?e:"<!>"+e),n||(a=Je(a)));var s=r||Qn?document.importNode(a,!0):a.cloneNode(!0);if(n){var i=Je(s),c=s.lastChild;vt(i,c)}else vt(s,s);return s}}function be(e,t,n="svg"){var r=!e.startsWith("<!>"),a=`<${n}>${r?e:"<!>"+e}</${n}>`,o;return()=>{if(!o){var s=gr(a),i=Je(s);o=Je(i)}var c=o.cloneNode(!0);return vt(c,c),c}}function J(e=""){{var t=Nt(e+"");return vt(t,t),t}}function Ee(){var e=document.createDocumentFragment(),t=document.createComment(""),n=Nt();return e.append(t,n),vt(t,n),e}function y(e,t){e!==null&&e.before(t)}function rt(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function Na(e,t){return qa(e,t)}const Ze=new Map;function qa(e,{target:t,anchor:n,props:r={},events:a,context:o,intro:s=!0}){ha();var i=new Set,c=f=>{for(var d=0;d<f.length;d++){var p=f[d];if(!i.has(p)){i.add(p);var h=Aa(p);t.addEventListener(p,ot,{passive:h});var k=Ze.get(p);k===void 0?(document.addEventListener(p,ot,{passive:h}),Ze.set(p,1)):Ze.set(p,k+1)}}};c(on(pr)),en.add(c);var v=void 0,u=ma(()=>{var f=n??t.appendChild(Nt());return Qe(()=>{if(o){W({});var d=z;d.c=o}a&&(r.$$events=a),v=e(f,r)||{},o&&Y()}),()=>{var h;for(var d of i){t.removeEventListener(d,ot);var p=Ze.get(d);--p===0?(document.removeEventListener(d,ot),Ze.delete(d)):Ze.set(d,p)}en.delete(c),f!==n&&((h=f.parentNode)==null||h.removeChild(f))}});return ja.set(v,u),v}let ja=new WeakMap;function j(e,t,[n,r]=[0,0]){var a=e,o=null,s=null,i=ce,c=n>0?Rt:0,v=!1;const u=(d,p=!0)=>{v=!0,f(p,d)},f=(d,p)=>{i!==(i=d)&&(i?(o?Et(o):p&&(o=Qe(()=>p(a))),s&&xt(s,()=>{s=null})):(s?Et(s):p&&(s=Qe(()=>p(a,[n+1,r]))),o&&xt(o,()=>{o=null})))};Ht(()=>{v=!1,t(u),v||f(null,null)},c)}function Te(e,t){jt(()=>{var n=t();for(var r in n){var a=n[r];a?e.style.setProperty(r,a):e.style.removeProperty(r)}}),dn(()=>{e.remove()})}function Ha(e,t){return t}function Fa(e,t,n,r){for(var a=[],o=t.length,s=0;s<o;s++)hn(t[s].e,a,!0);var i=o>0&&a.length===0&&n!==null;if(i){var c=n.parentNode;pa(c),c.append(n),r.clear(),Ie(e,t[0].prev,t[o-1].next)}or(a,()=>{for(var v=0;v<o;v++){var u=t[v];i||(r.delete(u.k),Ie(e,u.prev,u.next)),Me(u.e,!i)}})}function Ne(e,t,n,r,a,o=null){var s=e,i={flags:t,items:new Map,first:null},c=(t&Un)!==0;if(c){var v=e;s=v.appendChild(Nt())}var u=null,f=!1,d=Yn(()=>{var p=n();return an(p)?p:p==null?[]:on(p)});Ht(()=>{var p=l(d),h=p.length;f&&h===0||(f=h===0,za(p,i,s,a,t,r,n),o!==null&&(h===0?u?Et(u):u=Qe(()=>o(s)):u!==null&&xt(u,()=>{u=null})),l(d))})}function za(e,t,n,r,a,o,s){var B,te,ne,se;var i=(a&$r)!==0,c=(a&(un|vn))!==0,v=e.length,u=t.items,f=t.first,d=f,p,h=null,k,_=[],w=[],g,M,m,L;if(i)for(L=0;L<v;L+=1)g=e[L],M=o(g,L),m=u.get(M),m!==void 0&&((B=m.a)==null||B.measure(),(k??(k=new Set)).add(m));for(L=0;L<v;L+=1){if(g=e[L],M=o(g,L),m=u.get(M),m===void 0){var E=d?d.e.nodes_start:n;h=Va(E,t,h,h===null?t.first:h.next,g,M,L,r,a,s),u.set(M,h),_=[],w=[],d=h.next;continue}if(c&&Ua(m,g,L,a),(m.e.f&Oe)!==0&&(Et(m.e),i&&((te=m.a)==null||te.unfix(),(k??(k=new Set)).delete(m))),m!==d){if(p!==void 0&&p.has(m)){if(_.length<w.length){var T=w[0],A;h=T.prev;var D=_[0],P=_[_.length-1];for(A=0;A<_.length;A+=1)Pn(_[A],T,n);for(A=0;A<w.length;A+=1)p.delete(w[A]);Ie(t,D.prev,P.next),Ie(t,h,D),Ie(t,P,T),d=T,h=P,L-=1,_=[],w=[]}else p.delete(m),Pn(m,d,n),Ie(t,m.prev,m.next),Ie(t,m,h===null?t.first:h.next),Ie(t,h,m),h=m;continue}for(_=[],w=[];d!==null&&d.k!==M;)(d.e.f&Oe)===0&&(p??(p=new Set)).add(d),w.push(d),d=d.next;if(d===null)continue;m=d}_.push(m),h=m,d=m.next}if(d!==null||p!==void 0){for(var O=p===void 0?[]:on(p);d!==null;)(d.e.f&Oe)===0&&O.push(d),d=d.next;var b=O.length;if(b>0){var N=(a&Un)!==0&&v===0?n:null;if(i){for(L=0;L<b;L+=1)(ne=O[L].a)==null||ne.measure();for(L=0;L<b;L+=1)(se=O[L].a)==null||se.fix()}Fa(t,O,N,u)}}i&&pn(()=>{var re;if(k!==void 0)for(m of k)(re=m.a)==null||re.apply()}),V.first=t.first&&t.first.e,V.last=h&&h.e}function Ua(e,t,n,r){(r&un)!==0&&Jt(e.v,t),(r&vn)!==0?Jt(e.i,n):e.i=n}function Va(e,t,n,r,a,o,s,i,c,v){var u=(c&un)!==0,f=(c&ea)===0,d=u?f?Gn(a):ct(a):a,p=(c&vn)===0?s:ct(s),h={i:p,v:d,k:o,a:null,e:null,prev:n,next:r};try{return h.e=Qe(()=>i(e,d,p,v),fa),h.e.prev=n&&n.e,h.e.next=r&&r.e,n===null?t.first=h:(n.next=h,n.e.next=h.e),r!==null&&(r.prev=h,r.e.prev=h.e),h}finally{}}function Pn(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,a=t?t.e.nodes_start:n,o=e.e.nodes_start;o!==r;){var s=qt(o);a.before(o),o=s}}function Ie(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function gt(e,t,...n){var r=e,a=jn,o;Ht(()=>{a!==(a=t())&&(o&&(Me(o),o=null),o=Qe(()=>a(r,...n)))},Rt)}function _r(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=_r(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Wa(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=_r(e))&&(r&&(r+=" "),r+=t);return r}function K(e){return typeof e=="object"?Wa(e):e??""}const On=[...` 	
\r\f \v\uFEFF`];function Ya(e,t,n){var r=e==null?"":""+e;if(t&&(r=r?r+" "+t:t),n){for(var a in n)if(n[a])r=r?r+" "+a:a;else if(r.length)for(var o=a.length,s=0;(s=r.indexOf(a,s))>=0;){var i=s+o;(s===0||On.includes(r[s-1]))&&(i===r.length||On.includes(r[i]))?r=(s===0?"":r.substring(0,s))+r.substring(i+1):s=i}}return r===""?null:r}function Za(e,t){return e==null?null:String(e)}function Z(e,t,n,r,a,o){var s=e.__className;if(s!==n||s===void 0){var i=Ya(n,r,o);i==null?e.removeAttribute("class"):e.className=i,e.__className=n}else if(o&&a!==o)for(var c in o){var v=!!o[c];(a==null||v!==!!a[c])&&e.classList.toggle(c,v)}return o}function Pt(e,t,n,r){var a=e.__style;if(a!==t){var o=Za(t);o==null?e.removeAttribute("style"):e.style.cssText=o,e.__style=t}return r}const Xa=Symbol("is custom element"),Ka=Symbol("is html");function Vt(e,t){var n=_n(e);n.value===(n.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function Wt(e,t){var n=_n(e);n.checked!==(n.checked=t??void 0)&&(e.checked=t)}function we(e,t,n,r){var a=_n(e);a[t]!==(a[t]=n)&&(t==="loading"&&(e[Fr]=n),n==null?e.removeAttribute(t):typeof n!="string"&&Ga(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function _n(e){return e.__attributes??(e.__attributes={[Xa]:e.nodeName.includes("-"),[Ka]:e.namespaceURI===la})}var Mn=new Map;function Ga(e){var t=Mn.get(e.nodeName);if(t)return t;Mn.set(e.nodeName,t=[]);for(var n,r=e,a=Element.prototype;a!==r;){n=qn(r);for(var o in n)n[o].set&&t.push(o);r=sn(r)}return t}function mn(e,t,n=t){var r=ft();Ia(e,"input",a=>{var o=a?e.defaultValue:e.value;if(o=Yt(e)?Zt(o):o,n(o),r&&o!==(o=t())){var s=e.selectionStart,i=e.selectionEnd;e.value=o??"",i!==null&&(e.selectionStart=s,e.selectionEnd=Math.min(i,e.value.length))}}),$e(t)==null&&e.value&&n(Yt(e)?Zt(e.value):e.value),jt(()=>{var a=t();Yt(e)&&a===Zt(e.value)||e.type==="date"&&!a&&!e.value||a!==e.value&&(e.value=a??"")})}function Yt(e){var t=e.type;return t==="number"||t==="range"}function Zt(e){return e===""?null:+e}function An(e,t){return e===t||(e==null?void 0:e[Ue])===t}function De(e={},t,n,r){return fn(()=>{var a,o;return jt(()=>{a=o,o=[],$e(()=>{e!==n(...o)&&(t(e,...o),a&&An(n(...a),e)&&t(null,...a))})}),()=>{pn(()=>{o&&An(n(...o),e)&&t(null,...o)})}}),e}function Ut(e=!1){const t=z,n=t.l.u;if(!n)return;let r=()=>Oa(t.s);if(e){let a=0,o={};const s=Ge(()=>{let i=!1;const c=t.s;for(const v in c)c[v]!==o[v]&&(o[v]=c[v],i=!0);return i&&a++,a});r=()=>l(s)}n.b.length&&_a(()=>{Bn(t,r),yt(n.b)}),me(()=>{const a=$e(()=>n.m.map(Rr));return()=>{for(const o of a)typeof o=="function"&&o()}}),n.a.length&&me(()=>{Bn(t,r),yt(n.a)})}function Bn(e,t){if(e.l.s)for(const n of e.l.s)l(n);t()}let mt=!1;function Ja(e){var t=mt;try{return mt=!1,[e(),mt]}finally{mt=t}}function In(e){var t;return((t=e.ctx)==null?void 0:t.d)??!1}function ae(e,t,n,r){var E;var a=(n&ta)!==0,o=!tt||(n&na)!==0,s=(n&aa)!==0,i=(n&oa)!==0,c=!1,v;s?[v,c]=Ja(()=>e[t]):v=e[t];var u=Ue in e||Hr in e,f=s&&(((E=Xe(e,t))==null?void 0:E.set)??(u&&t in e&&(T=>e[t]=T)))||void 0,d=r,p=!0,h=!1,k=()=>(h=!0,p&&(p=!1,i?d=$e(r):d=r),d);v===void 0&&r!==void 0&&(f&&o&&Zr(),v=k(),f&&f(v));var _;if(o)_=()=>{var T=e[t];return T===void 0?k():(p=!0,h=!1,T)};else{var w=(a?Ge:Yn)(()=>e[t]);w.f|=qr,_=()=>{var T=l(w);return T!==void 0&&(d=void 0),T===void 0?d:T}}if((n&ra)===0)return _;if(f){var g=e.$$legacy;return function(T,A){return arguments.length>0?((!o||!A||g||c)&&f(A?_():T),T):_()}}var M=!1,m=Gn(v),L=Ge(()=>{var T=_(),A=l(m);return M?(M=!1,A):m.v=T});return s&&l(L),a||(L.equals=cn),function(T,A){if(arguments.length>0){const D=A?l(L):o&&s?ee(T):T;if(!L.equals(D)){if(M=!0,x(m,D),h&&d!==void 0&&(d=D),In(L))return T;$e(()=>l(L))}return T}return In(L)?L.v:l(L)}}function Pe(e){z===null&&Vn(),tt&&z.l!==null?Qa(z).m.push(e):me(()=>{const t=$e(e);if(typeof t=="function")return t})}function Qa(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const $a="5";var Nn;typeof window<"u"&&((Nn=window.__svelte??(window.__svelte={})).v??(Nn.v=new Set)).add($a);let st=I("");function eo(e){x(st,e,!0)}var to=q('<div class="notification svelte-1h5k2zn"> </div>');function no(e,t){W(t,!0),me(()=>{l(st);const o=setTimeout(()=>{x(st,"")},800);return()=>{clearTimeout(o)}});var n=Ee(),r=U(n);{var a=o=>{var s=to(),i=S(s);$(()=>rt(i,l(st))),y(o,s)};j(r,o=>{l(st)&&o(a)})}y(e,n),Y()}Qr();var ro=q('<span class="vh svelte-14jjkpd"> </span>');function dt(e,t){var n=ro(),r=S(n);$(()=>rt(r,t.children)),y(e,n)}var ao=be('<svg viewBox="0 0 135.467 135.467" xmlns="http://www.w3.org/2000/svg" class="svelte-1lqi79o"><rect style="fill:currentColor;stroke-width:.275876" width="132.292" height="21.167" x="1.587" y="12.171" rx="8.467" ry="8.467"></rect><rect style="fill:currentColor;stroke-width:.275876" width="132.292" height="21.167" x="1.587" y="102.129" rx="8.467" ry="8.467"></rect><rect style="fill:currentColor;stroke-width:.275876" width="132.292" height="21.167" x="1.587" y="57.15" rx="8.467" ry="8.467"></rect></svg>');function oo(e){var t=ao();y(e,t)}const mr=(e,t)=>{if(!t)return e;if(t.type==="closed")return{type:"closed"};switch(e.type){case"opened":return t.type==="close"?{type:"closing"}:t.type==="swipe"?{type:"openSwiping"}:e;case"closed":return t.type==="open"?{type:"opening"}:t.type==="swipe"?{type:"closeSwiping"}:e;case"openSwiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"closeSwiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"opening":return t.type==="opened"?{type:"opened"}:e;default:return e}};let tn=I(ee(mr({type:"closed"})));const He=e=>{x(tn,mr(l(tn),e),!0)},wr=()=>l(tn),so=()=>{He({type:"open"})},io=()=>{He({type:"close"})},lo=()=>{const e=wr().type;e==="closed"?so():e==="opened"&&io()};var co=q('<button class="buttonMenu svelte-1tlpicf"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>');function kr(e,t){W(t,!1),Ut();var n=co();n.__click=[lo];var r=S(n);Te(r,()=>({"--size":"28px"})),oo(r.lastChild);var a=C(r,2);dt(a,{children:(o,s)=>{var i=J("Menu");y(o,i)}}),y(e,n),Y()}ge(["click"]);var uo=be('<svg width="24" height="24" viewBox="0 0 0.72 0.72" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-1lqi79o"><path d="M.16.26h.4m-.4.2h.4M.11.26h.5m-.5.2h.5m-.4.15.1-.5m.1.5.1-.5" stroke="currentColor" stroke-width=".1" stroke-linecap="round" stroke-linejoin="round"></path></svg>');function vo(e){var t=uo();y(e,t)}var fo=be('<svg viewBox="0 0 13.229 13.229" xmlns="http://www.w3.org/2000/svg" class="svelte-1lqi79o"><rect style="fill:currentColor;stroke-width:.275872" width="8.467" height="1.587" x="2.381" y="5.821" rx=".529" ry=".529"></rect><rect style="fill:currentColor;stroke-width:.275872" width="8.467" height="1.587" x="-10.848" y="5.821" rx=".529" ry=".529" transform="rotate(-90)"></rect></svg>');function ho(e){var t=fo();y(e,t)}var po=be('<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-1lqi79o"><path fill-rule="evenodd" clip-rule="evenodd" d="M14.279 2.152C13.909 2 13.439 2 12.5 2s-1.409 0-1.779.152a2.008 2.008 0 0 0-1.09 1.083c-.094.223-.13.484-.145.863a1.615 1.615 0 0 1-.796 1.353 1.64 1.64 0 0 1-1.579.008c-.338-.178-.583-.276-.825-.308a2.026 2.026 0 0 0-1.49.396c-.318.242-.553.646-1.022 1.453-.47.807-.704 1.21-.757 1.605-.07.526.074 1.058.4 1.479.148.192.357.353.68.555.477.297.783.803.783 1.361 0 .558-.306 1.064-.782 1.36-.324.203-.533.364-.682.556-.325.421-.469.953-.399 1.479.053.394.287.798.757 1.605.47.807.704 1.21 1.022 1.453.424.323.96.465 1.49.396.242-.032.487-.13.825-.308a1.64 1.64 0 0 1 1.58.008c.486.28.774.795.795 1.353.015.38.051.64.145.863.204.49.596.88 1.09 1.083.37.152.84.152 1.779.152s1.409 0 1.779-.152a2.008 2.008 0 0 0 1.09-1.083c.094-.223.13-.483.145-.863.02-.558.309-1.074.796-1.353a1.64 1.64 0 0 1 1.579-.008c.338.178.583.276.825.308.53.07 1.066-.073 1.49-.396.318-.242.553-.646 1.022-1.453.47-.807.704-1.21.757-1.605a1.99 1.99 0 0 0-.4-1.479c-.148-.192-.357-.353-.68-.555-.477-.297-.783-.803-.783-1.361 0-.558.306-1.064.782-1.36.324-.203.533-.364.682-.556a1.99 1.99 0 0 0 .399-1.479c-.053-.394-.287-.798-.757-1.605-.47-.807-.704-1.21-1.022-1.453a2.026 2.026 0 0 0-1.49-.396c-.242.032-.487.13-.825.308a1.64 1.64 0 0 1-1.58-.008 1.615 1.615 0 0 1-.795-1.353c-.015-.38-.051-.64-.145-.863a2.007 2.007 0 0 0-1.09-1.083ZM12.5 15c1.67 0 3.023-1.343 3.023-3S14.169 9 12.5 9c-1.67 0-3.023 1.343-3.023 3s1.354 3 3.023 3Z" fill="currentColor"></path></svg>');function yr(e){var t=po();y(e,t)}const H=ee({pathname:window.location.pathname,search:window.location.search,historyLength:0}),br=()=>{var e;return((e=new URLSearchParams(H.search).get("selectedTags"))==null?void 0:e.split(","))||[]};let wt=br();const go=()=>{const e=br();return e.join(",")===wt.join(",")||(wt=e),wt},_o=()=>{H.pathname=document.location.pathname,H.search=document.location.search,H.historyLength=Math.max(0,H.historyLength-=1)};window.addEventListener("popstate",_o);const Ot=e=>{const[t,n]=e.split("?");H.pathname=t,H.search=n?`?${n}`:"",H.historyLength+=1,window.history.pushState(null,"",e)},mo=e=>{const[t,n]=e.split("?");H.pathname=t,H.search=n?`?${n}`:"",window.history.replaceState(null,"",e)},_t=(e="/")=>{const[t,n]=e.split("?");H.historyLength<=0?(window.history.replaceState(null,"",e),H.historyLength=0,H.pathname=t,H.search=n?`?${n}`:""):window.history.back()},je=()=>{var e;return((e=new URLSearchParams(H.search).get("stackPages"))==null?void 0:e.split(","))||[]};let Ke=I(ee(je()));const at=e=>{const t=je();t.push(e);const n=new URLSearchParams(H.search);n.set("stackPages",t.join(",")),x(Ke,t,!0),Ot(`${H.pathname}?${n.toString()}`)},wo=()=>{const e=l(Ke).slice(0,-1);x(Ke,e,!0)},ko=()=>{const e=je();return e.length>=l(Ke).length?e.reduce((t,n)=>[...t,{page:n,shown:!0}],[]):l(Ke).reduce((t,n,r)=>[...t,{page:n,shown:r!==l(Ke).length-1}],[])},yo=e=>{e.preventDefault(),at("settings")},bo=e=>{e.preventDefault(),Ot("/")},So=e=>{e.preventDefault(),at("newBookmark")};var xo=q('<a href="/"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Home</span></a>'),Eo=q('<a class="link svelte-f7zdrg"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Settings</span></a>'),To=q('<a class="addBookmark svelte-f7zdrg"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Add bookmark</span></a>'),Co=q('<div class="header svelte-f7zdrg"><div class="top svelte-f7zdrg"><div class="desktop svelte-f7zdrg"><!></div> <div class="mobile svelte-f7zdrg"><!></div> <!></div></div>');function Lo(e,t){W(t,!0);const n=()=>{const _=je();_.includes("settings")||_.push("settings");const w=new URLSearchParams(H.search);return w.set("stackPages",_.join(",")),`${H.pathname}?${w}`};let a=Q(()=>{const _=je();_.includes("newBookmark")||_.push("newBookmark");const w=new URLSearchParams(H.search);return w.set("stackPages",_.join(",")),`${H.pathname}?${w}`}),o=Q(n);var s=Co(),i=S(s),c=S(i),v=S(c);{var u=_=>{var w=xo();w.__click=[bo],Z(w,1,K(["link","hash"]),"svelte-f7zdrg");var g=S(w);Te(g,()=>({"--size":"20px"})),vo(g.lastChild),y(_,w)},f=_=>{var w=Eo();w.__click=[yo];var g=S(w);Te(g,()=>({"--size":"20px"})),yr(g.lastChild),$(()=>we(w,"href",l(o))),y(_,w)};j(v,_=>{H.pathname==="/settings"?_(u):_(f,!1)})}var d=C(c,2),p=S(d);kr(p,{});var h=C(d,2);{var k=_=>{var w=To();w.__click=[So];var g=S(w);Te(g,()=>({"--size":"24px","--color":"#b0b0b0"})),ho(g.lastChild),$(()=>we(w,"href",l(a))),y(_,w)};j(h,_=>{H.pathname!=="/settings"&&_(k)})}y(e,s),Y()}ge(["click"]);var Do=be('<svg viewBox="0 0 5.292 5.292" xmlns="http://www.w3.org/2000/svg" class="svelte-1lqi79o"><path style="fill:currentColor;stroke-width:.374736" transform="scale(1.02869 .97047) rotate(45)" d="M2.678-1.906h.514V1.18h-.514z"></path><path style="fill:currentColor;stroke-width:.374736" transform="scale(-1.02869 -.97047) rotate(-45)" d="M.664-5.762h.514v3.086H.664z"></path></svg>');function Po(e){var t=Do();y(e,t)}const Mt=ee({working:!1});var Oo=be('<svg viewBox="0 0 5.292 5.292" xmlns="http://www.w3.org/2000/svg" class="svelte-1lqi79o"><path style="fill:currentColor;stroke-width:.584099" transform="rotate(45)" d="M3.341-2.405h.802v4.811h-.802z"></path><path style="fill:currentColor;stroke-width:.584099" transform="rotate(135)" d="M-.401-6.147h.802v4.811h-.802z"></path></svg>');function Mo(e){var t=Oo();y(e,t)}const Ao=({getDialog:e,getDialogInner:t,onClose:n})=>{const r=a=>{const o=e(),s=t();a.target&&(o!=null&&o.open)&&s&&s!==a.target&&!s.contains(a.target)&&n()};Pe(()=>(document.addEventListener("mousedown",r,{capture:!0}),()=>{document.removeEventListener("mousedown",r,{capture:!0})}))},Bo=({getDialog:e,getDialogInner:t,onOpen:n,onStartClose:r,onClose:a})=>{Ao({getDialog:e,getDialogInner:t,onClose:r});const o=i=>{i.preventDefault(),r()},s=()=>{a==null||a()};Pe(()=>{const i=e();return i==null||i.addEventListener("close",s),i==null||i.addEventListener("cancel",o),()=>{i==null||i.removeEventListener("close",s),i==null||i.removeEventListener("cancel",o)}}),Pe(()=>{const i=e();i==null||i.showModal(),i==null||i.getBoundingClientRect(),n()})};var Io=(e,t)=>{t.onStartClose()},Ro=(e,t)=>{t.onStartClose()},No=q('<dialog><div class="dialogInner svelte-x4po9n"><span tabindex="1"></span> <!> <div class="header svelte-x4po9n"><div><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button></div> <div><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button></div></div></div></dialog>');function qo(e,t){W(t,!0);let n=ae(t,"hiddenDialog",3,!1),r=ae(t,"isDesktopAnimationOff",3,!1),a=I(null),o=I(null);Bo({getDialog:()=>l(a),getDialogInner:()=>l(o),onOpen:t.onOpen,onStartClose:t.onStartClose,onClose:t.onClose}),me(()=>{var g,M;t.stateDialog==="closing"&&(Mt.working?(g=l(a))==null||g.addEventListener("transitionend",()=>{var m;(m=l(a))==null||m.close()},{once:!0}):(M=l(a))==null||M.close())});var s=No(),i=S(s),c=C(S(i),2);gt(c,()=>t.children);var v=C(c,2),u=S(v),f=S(u);Z(f,1,K(["navigateButton","buttonBack"]),"svelte-x4po9n"),f.__click=[Io,t];var d=S(f);Te(d,()=>({"--size":"20px"})),Po(d.lastChild);var p=C(d,2);dt(p,{children:(g,M)=>{var m=J("back");y(g,m)}});var h=C(u,2),k=S(h);Z(k,1,K(["navigateButton","buttonClose"]),"svelte-x4po9n"),k.__click=[Ro,t];var _=S(k);Te(_,()=>({"--size":"20px"})),Mo(_.lastChild);var w=C(_,2);dt(w,{children:(g,M)=>{var m=J("close");y(g,m)}}),De(i,g=>x(o,g),()=>l(o)),De(s,g=>x(a,g),()=>l(a)),$(()=>Z(s,1,K([{open:t.stateDialog==="open",isAnimationOn:Mt.working,isDesktopAnimationOff:r(),hiddenDialog:n()}]),"svelte-x4po9n")),y(e,s),Y()}ge(["click"]);const jo=({onStartClose:e,onClose:t})=>{let n=I("close");return{get state(){return l(n)},set state(s){x(n,s,!0)},handleStartClose:(s=!1)=>{s||(x(n,"closing"),e==null||e())},handleOpen:()=>{x(n,"open")},handleClose:()=>{x(n,"close"),t==null||t()}}};function Sr(e,t){W(t,!0);let n=ae(t,"blockedClose",3,!1),r=ae(t,"hiddenDialog",3,!1),a=ae(t,"onStartClose",3,()=>{}),o=ae(t,"onClose",3,()=>{}),s=jo({onStartClose:a(),onClose:o()});me(()=>{s.state==="close"&&t.shownDialog?s.state="opening":s.state==="open"&&!t.shownDialog&&s.handleStartClose(n())});var i=Ee(),c=U(i);{var v=u=>{qo(u,{get stateDialog(){return s.state},get hiddenDialog(){return r()},get onOpen(){return s.handleOpen},onStartClose:()=>s.handleStartClose(n()),get onClose(){return s.handleClose},children:(f,d)=>{var p=Ee(),h=U(p);gt(h,()=>t.children),y(f,p)},$$slots:{default:!0}})};j(c,u=>{s.state!=="close"&&u(v)})}y(e,i),Y()}function Ho(e,t){W(t,!0),Sr(e,{get shownDialog(){return t.shown},get blockedClose(){return t.hidden},get hiddenDialog(){return t.hidden},onStartClose:()=>{_t()},onClose:()=>{wo()},children:(a,o)=>{var s=Ee(),i=U(s);gt(i,()=>t.children),y(a,s)},$$slots:{default:!0}}),Y()}const xr=()=>crypto.randomUUID(),nn=(e,t,n,r=new Set,a={})=>{var o,s;for(const i of e.children)if(i.tagName==="DT"){const c=i.querySelector(":scope > A"),v=i.querySelector(":scope > H3");if(c){const u=c.getAttribute("href"),f=c.textContent||"unknown";if(!u)return n;const d=t.find(p=>p.toLowerCase()==="bookmarks bar")?t.filter(p=>p.toLowerCase()!=="bookmarks bar"):["other"];if(a[u])a[u].tags=[...new Set([...a[u].tags,...d])];else{const p={id:xr(),order:n.length,url:u,title:f,description:"",tags:d.length>0?d:[],lastUpdatedTimestamp:Date.now(),createdTimestamp:Date.now()};a[p.url]=p,n.push(p)}}else if(v){const u=(o=v.textContent)==null?void 0:o.trim();if(u&&((s=v.nextElementSibling)==null?void 0:s.tagName)==="DL"){const f=[...t];f.push(u);const d=v.nextElementSibling;r.has(d)||(r.add(d),nn(d,f,n,r,a))}}}else i.tagName!=="DL"&&i.children.length>0&&(r.has(i)||(r.add(i),nn(i,[...t],n,r,a)));return n},Fo=async e=>{const t=await e.text(),a=new DOMParser().parseFromString(t,"text/html").querySelector("DL");return a?nn(a,[],[]):[]},zo=e=>{const t=Math.floor(Date.now()/1e3),n={};e.forEach(a=>{const o=a.tags||["Imported"];if(o.length===0){n.ROOT||(n.ROOT=[]),n.ROOT.push(a);return}o.forEach(s=>{n[s]||(n[s]=[]),n[s].push(a)})});let r=`<!DOCTYPE NETSCAPE-Bookmark-file-1>
<!-- This is an automatically generated file.
 It will be read and overwritten.
 DO NOT EDIT! -->
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8">
<TITLE>Bookmarks</TITLE>
<H1>Bookmarks</H1>
<DL><p>
<DT><H3 ADD_DATE="${t}" LAST_MODIFIED="${t}" PERSONAL_TOOLBAR_FOLDER="true">Bookmarks Bar</H3>
<DL><p>`;return Object.keys(n).forEach(a=>{a!=="ROOT"&&a!=="other"&&(r+=`
	<DT><H3 ADD_DATE="${t}" LAST_MODIFIED="${t}">${a}</H3>
	<DL><p>`,n[a].forEach(o=>{const s=o.title.replace(/"/g,"&quot;");r+=`
		<DT><A HREF="${o.url}" ADD_DATE="${Math.floor(o.createdTimestamp/1e3)||t}">${s}</A>`}),r+=`
	</DL><p>`)}),n.ROOT&&n.ROOT.forEach(a=>{const o=a.title.replace(/"/g,"&quot;");r+=`
	<DT><A HREF="${a.url}" ADD_DATE="${Math.floor(a.createdTimestamp/1e3)||t}">${o}</A>`}),r+=`
</DL><p>`,n.other&&n.other.forEach(a=>{const o=a.title.replace(/"/g,"&quot;");r+=`
	<DT><A HREF="${a.url}" ADD_DATE="${Math.floor(a.createdTimestamp/1e3)||t}">${o}</A>`}),r+="</DL><p>",r},Uo="bookmarksStore",Vo=1,ve="bookmarks";let X;window.addEventListener("unhandledrejection",e=>{alert("Error: "+e.reason.message)});const Wo=()=>new Promise((e,t)=>{const n=indexedDB.open(Uo,Vo);n.addEventListener("upgradeneeded",()=>{const r=n.result;console.log("success upgradeneeded"),r.objectStoreNames.contains(ve)||r.createObjectStore(ve,{keyPath:"id"})}),n.addEventListener("success",()=>{console.log("success open"),e(),X=n.result,X.onversionchange=function(){X==null||X.close(),alert("app outdated, please reload the page")}}),n.addEventListener("blocked",()=>{t(),alert("app outdated, please reload the page")}),n.addEventListener("error",()=>{t(),console.error("Error",n.error)})}),Er=()=>new Promise((e,t)=>{const n=X==null?void 0:X.transaction(ve,"readonly"),r=n==null?void 0:n.objectStore(ve).getAll();r==null||r.addEventListener("success",()=>{const a=r.result;e(a)}),r==null||r.addEventListener("error",()=>{t()})}),Yo=async e=>new Promise((t,n)=>{const r=X==null?void 0:X.transaction(ve,"readwrite"),a=r==null?void 0:r.objectStore(ve),o=a==null?void 0:a.put({...e});o==null||o.addEventListener("success",()=>{t()}),o==null||o.addEventListener("error",()=>{n()})}),Zo=async e=>new Promise((t,n)=>{const r=X==null?void 0:X.transaction(ve,"readwrite"),a=r==null?void 0:r.objectStore(ve),o=a==null?void 0:a.delete(e);o==null||o.addEventListener("success",()=>{t()}),o==null||o.addEventListener("error",()=>{n()})}),Xo=()=>new Promise((e,t)=>{const n=X==null?void 0:X.transaction(ve,"readwrite"),r=n==null?void 0:n.objectStore(ve),a=r==null?void 0:r.clear();a==null||a.addEventListener("success",()=>{e()}),a==null||a.addEventListener("error",()=>{t()})}),Ko=async()=>{await Xo()},Go=async e=>{const t=(await Er()).reduce((o,s)=>(o[s.id]=s,o),{}),n={},r=X==null?void 0:X.transaction(ve,"readwrite"),a=r==null?void 0:r.objectStore(ve);e.forEach(o=>{t[o.id]?t[o.id].lastUpdatedTimestamp<o.lastUpdatedTimestamp&&(n[o.id]=o):n[o.id]=o}),await Promise.all(Object.values(n).map(o=>{const s=a==null?void 0:a.put(o);return new Promise((i,c)=>{s==null||s.addEventListener("success",()=>{i()}),s==null||s.addEventListener("error",()=>{c()})})}))},Jo=async e=>{const t=X==null?void 0:X.transaction(ve,"readwrite"),n=t==null?void 0:t.objectStore(ve);await Promise.all(Array.from({length:25},(r,a)=>{const o=[];for(let c=0;c<Math.random()*4;c++){const v=(Math.random()*4).toFixed();o.includes(v)||o.push(v)}const s={...e,url:`${e.url}${a}`,order:a,id:xr(),createdTimestamp:Date.now(),lastUpdatedTimestamp:Date.now(),title:o.join("#"),tags:o},i=n==null?void 0:n.put(s);return new Promise((c,v)=>{i==null||i.addEventListener("success",()=>{a%1e4===0&&console.log(`bookmark ${a} done`),c()}),i==null||i.addEventListener("error",()=>{console.log(`bookmark ${a} error`),v()})})}))};let oe=I({inited:!1,bookmarks:[],mapBookmarks:new Map});const wn=async()=>{const e=await Er(),t=new Map,n=[];e.forEach(r=>{n[r.order]=r,t.set(r.id,r)}),x(oe,{...l(oe),bookmarks:n,mapBookmarks:t,inited:!0})};Wo().then(async()=>{await wn()}).catch(()=>{console.error("failed to init db")});const At=()=>l(oe).inited,Tr=()=>l(oe).bookmarks,Qo=()=>l(oe).mapBookmarks,$o=async e=>{const t={...e,lastUpdatedTimestamp:Date.now()};l(oe).bookmarks[t.order]=t,l(oe).mapBookmarks.set(t.id,t),x(oe,{...l(oe)}),await Yo(t)},es=async e=>{await Jo(e),await wn()},ts=async e=>{const t=l(oe).mapBookmarks.get(e);l(oe).mapBookmarks.delete(e),l(oe).bookmarks[(t==null?void 0:t.order)||0]=void 0,x(oe,{...l(oe)}),await Zo(e)},ns=async()=>{x(oe,{inited:!1,bookmarks:[],mapBookmarks:new Map}),await Ko()},rs=async(e="bookmarks-export.json")=>{const t=JSON.stringify({bookmarks:l(oe).bookmarks}),n=new Blob([t],{type:"application/json"}),r=URL.createObjectURL(n),a=document.createElement("a");a.href=r,a.download=e,document.body.appendChild(a),a.click(),setTimeout(()=>{document.body.removeChild(a),URL.revokeObjectURL(r)},0)},Rn=async e=>{await Go(e),await wn()};let Cr=I({});const Lr=()=>l(Cr),as=e=>{x(Cr,e)};var os=q('<input class="svelte-1jzizl8">');function rn(e,t){W(t,!0);let n=ae(t,"value",15,"");var r=os();$(()=>we(r,"placeholder",t.placeholder)),mn(r,n),y(e,r),Y()}function ss(e,t){W(t,!0),Pe(()=>{const n=r=>{var a;r.target&&((a=t.dialog)!=null&&a.open)&&t.dialogInner&&t.dialogInner!==r.target&&!t.dialogInner.contains(r.target)&&t.onClose()};return document.addEventListener("mousedown",n,{capture:!0}),()=>{document.removeEventListener("mousedown",n,{capture:!0})}}),Y()}function is(e,t){W(t,!0);let n=ae(t,"dialog",7);const r=3,a=50,o=5,s=.6,i=.3,c=.2,v=.95;let u=0,f=0,d=0,p=!1,h=!1,k=0,_=0,w=0;const g=()=>{u=0,f=0,p=!1,h=!1,k=0,_=0,w=0,d=0},M=O=>{if(!n()){console.warn("Touch start: No dialog element");return}if(t.sidebarState!=="opened"&&t.sidebarState!=="closed"){console.warn(`Touch start: Invalid sidebar state: ${t.sidebarState}`);return}u=O.touches[0].clientX,f=O.touches[0].clientY,d=performance.now(),p=!0,h=!1},m=O=>t.sidebarState==="closed"&&O>0||t.sidebarState==="closeSwiping"&&O>0||t.sidebarState==="opened"&&O<0||t.sidebarState==="openSwiping"&&O<0,L=O=>{if(n()){if(n().style.setProperty("--transition-timing","0s"),!n().open&&t.sidebarState==="closed")try{n().showModal(),n().offsetWidth}catch(b){console.error("Error opening dialog:",b);return}t.onSwipe();try{const b=window.getComputedStyle(n()),N=b.transform||b.webkitTransform||"";if(_=n().offsetWidth,t.sidebarState==="closeSwiping"||t.sidebarState==="closed"?k=-_:(t.sidebarState==="openSwiping"||t.sidebarState==="opened")&&(k=0),N&&N!=="none")try{k=new DOMMatrix(N).m41}catch{console.warn("Could not parse transform matrix, using default position")}h=!0}catch(b){console.error("Error during swipe initialization:",b),g()}}},E=()=>{if(!n())return;const b=Math.abs(k+w*_/100)/_;n().style.setProperty("--backdrop-bg",`rgba(0, 0, 0, ${.25*(1-b)})`)},T=O=>{if(!p)return;const b=O.touches[0].clientX,N=O.touches[0].clientY,B=b-u,te=N-f,ne=Math.abs(B)>Math.abs(te),se=Math.abs(B)>r;if(!h)if(ne&&se&&m(B))try{L(B)}catch(G){console.error("Error initializing swipe:",G),g();return}else return;if(!n()||(h&&ne&&O.preventDefault(),!m(B)))return;let re=k+B*v;const he=-_;re=Math.max(he,Math.min(0,re)),n().style.transform=`translate3d(${re}px, 0, 0)`,w=(re-k)/_*100,E()},A=O=>{const b=Math.abs(O);if(b>=s)return o;if(b>=i){const N=(b-i)/(s-i);return a-N*(a-o)}else return a},D=(O,b)=>{if(Math.abs(O)>=s)return c*.5;const B=Math.abs(w)/100;return b?c*Math.max(.5,1-B):c*Math.max(.5,B)},P=O=>{var se,re;if(!p||!n()){g();return}if(!h){g();return}let b=0;if((se=O==null?void 0:O.changedTouches)!=null&&se[0]){const he=O.changedTouches[0].clientX,G=performance.now()-d;G>0&&(b=(he-u)/G)}const N=A(b);let B=null;t.sidebarState==="closeSwiping"?B=Math.abs(w)>N||b>i?"open":"close":t.sidebarState==="openSwiping"&&(B=Math.abs(w)>N||b<-.3?"close":"open");const te=t.sidebarState==="closeSwiping"&&B==="open"||t.sidebarState==="openSwiping"&&B==="close",ne=D(b,te);n().style.setProperty("--transition-timing",`${ne}s`),n().addEventListener("transitionend",()=>{var he;(he=n())==null||he.style.removeProperty("--transition-timing")},{once:!0}),n().offsetWidth,n().style.transform="",B==="open"?t.onOpen():B==="close"&&t.onClose(),(re=n())==null||re.style.removeProperty("--backdrop-bg"),g()};Pe(()=>(document.addEventListener("touchstart",M,{passive:!0}),document.addEventListener("touchmove",T,{passive:!1}),document.addEventListener("touchend",P,{passive:!0}),document.addEventListener("touchcancel",P,{passive:!0}),()=>{document.removeEventListener("touchstart",M),document.removeEventListener("touchmove",T),document.removeEventListener("touchend",P),document.removeEventListener("touchcancel",P)})),Y()}var ls=q('<dialog><div class="dialogInner svelte-1kps11z"><!></div></dialog> <!> <!>',1);function cs(e,t){W(t,!0);let n=200,r=I(null),a=I(null),o=Q(wr);const s=()=>{t.blocked||He({type:"close"})},i=()=>{t.blocked||He({type:"open"})},c=()=>{He({type:"opened"})},v=()=>{He({type:"closed"})},u=()=>{He({type:"swipe"})},f=E=>{E.preventDefault(),s()};Pe(()=>{var E,T;return(E=l(r))==null||E.addEventListener("close",v),(T=l(r))==null||T.addEventListener("cancel",f),()=>{var A,D;(A=l(r))==null||A.removeEventListener("close",v),(D=l(r))==null||D.removeEventListener("cancel",f)}});const d=()=>{var E,T,A;(E=l(r))==null||E.style.removeProperty("--transition-timing"),(T=l(r))==null||T.style.removeProperty("transform"),(A=l(r))==null||A.style.removeProperty("--backdrop-bg")};me(()=>{var E,T,A;if(l(o),console.log(l(o).type),!!l(r))switch(l(o).type){case"closeSwiping":{const D=setTimeout(()=>{s()},3e3);return()=>{clearTimeout(D)}}case"openSwiping":{const D=setTimeout(()=>{i()},3e3);return()=>{clearTimeout(D)}}case"opening":{l(r).open||l(r).showModal(),l(r).getBoundingClientRect();const D=setTimeout(()=>{d()},n+1),P=()=>{clearTimeout(D),d()};return(E=l(r))==null||E.addEventListener("transitionend",P,{once:!0}),c(),()=>{var O;(O=l(r))==null||O.removeEventListener("transitionend",P)}}case"closing":{const D=setTimeout(()=>{l(o).type==="closing"&&v()},n+1),P=()=>{clearTimeout(D),v()};return(T=l(r))==null||T.addEventListener("transitionend",P,{once:!0}),()=>{var O;(O=l(r))==null||O.removeEventListener("transitionend",P)}}case"closed":(A=l(r))==null||A.close(),d();break}});var p=ls(),h=U(p);Pt(h,`--transition-timing-default: ${n}ms`);var k=S(h),_=S(k);{var w=E=>{var T=Ee(),A=U(T);gt(A,()=>t.children),y(E,T)};j(_,E=>{l(o).type!=="closed"&&E(w)})}De(k,E=>x(a,E),()=>l(a)),De(h,E=>x(r,E),()=>l(r));var g=C(h,2);{var M=E=>{ss(E,{get dialog(){return l(r)},get dialogInner(){return l(a)},onClose:s})};j(g,E=>{l(o).type==="opened"&&!t.blocked&&E(M)})}var m=C(g,2);{var L=E=>{is(E,{onClose:s,onOpen:i,onSwipe:u,get sidebarState(){return l(o).type},get dialog(){return l(r)}})};j(m,E=>{(l(o).type==="closed"||l(o).type==="opened"||l(o).type==="openSwiping"||l(o).type==="closeSwiping")&&!t.blocked&&E(L)})}$(()=>Z(h,1,K([{open:l(o).type==="opened",hidden:t.blocked}]),"svelte-1kps11z")),y(e,p),Y()}const Dr=()=>window.matchMedia("(max-width: 768px)").matches;let Pr=I(ee(Dr()));const us=(e,t)=>{let n=null;return()=>{n&&clearTimeout(n),n=setTimeout(()=>{e()},t)}},vs=us(()=>{x(Pr,Dr(),!0)},16);window.addEventListener("resize",vs);const ds=()=>l(Pr);var fs=q("<button> </button>");function ze(e,t){var n=fs();n.__click=function(...a){var o;(o=t.onClick)==null||o.apply(this,a)};var r=S(n);$(()=>{we(n,"type",t.type),Z(n,1,K([{selectedTag:t.style==="selected"}]),"svelte-1ik9jr8"),rt(r,t.title)}),y(e,n)}ge(["click"]);const hs=e=>{e.preventDefault(),at("settings")};var ps=q("<div></div>"),gs=q('<div class="sidebarFixed svelte-10otxxm"><div class="nav svelte-10otxxm"><!> <a class="link svelte-10otxxm"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Settings</span></a></div> <div class="searchWrapper svelte-10otxxm"><!></div> <!></div> <div class="tags svelte-10otxxm"></div>',1),_s=q("<div></div>"),ms=q('<div class="sidebar svelte-10otxxm"><div class="sidebarFixed svelte-10otxxm"><div class="searchWrapper svelte-10otxxm"><!></div> <!></div> <div class="tags svelte-10otxxm"></div></div>');function ws(e,t){W(t,!0);let n=I(""),r=Q(()=>{var h;return((h=new URLSearchParams(H.search).get("selectedTags"))==null?void 0:h.split(","))||[]});const a=()=>{const h=je();h.includes("settings")||h.push("settings");const k=new URLSearchParams(H.search);return k.set("stackPages",h.join(",")),`${H.pathname}?${k}`},o=h=>{const k=new URLSearchParams(H.search);k.set("selectedTags",[...l(r),h].join(",")),Ot(`${H.pathname}${k.size>0?`?${k.toString()}`:""}`),x(n,"")},s=h=>{const k=new URLSearchParams(H.search),_=l(r).filter(w=>w!==h);_.length===0?k.delete("selectedTags"):k.set("selectedTags",_.join(",")),Ot(`${H.pathname}${k.size>0?`?${k.toString()}`:""}`)};let i=Q(()=>At()?Object.values(Lr()).filter(h=>!l(r).some(k=>h.name===k)):[]),c=Q(a),v=Q(()=>je().length>0);var u=Ee(),f=U(u);{var d=h=>{cs(h,{get blocked(){return l(v)},children:(k,_)=>{var w=gs(),g=U(w),M=S(g),m=S(M);kr(m,{});var L=C(m,2);L.__click=[hs];var E=S(L);Te(E,()=>({"--size":"20px"})),yr(E.lastChild);var T=C(M,2),A=S(T);rn(A,{placeholder:"Search tag",get value(){return l(n)},set value(b){x(n,b,!0)}});var D=C(T,2);{var P=b=>{var N=ps();Z(N,1,K(["tags","selectedTags"]),"svelte-10otxxm"),Ne(N,20,()=>l(r),B=>B,(B,te)=>{ze(B,{get title(){return te},onClick:()=>s(te),style:"selected"})}),y(b,N)};j(D,b=>{l(r).length>0&&b(P)})}var O=C(g,2);Ne(O,21,()=>l(i),b=>b.name,(b,N)=>{var B=Ee(),te=U(B);{var ne=se=>{ze(se,{get title(){return l(N).name},onClick:()=>o(l(N).name)})};j(te,se=>{(l(n)===""||l(N).name.toLowerCase().indexOf(l(n).toLowerCase())!==-1)&&se(ne)})}y(b,B)}),$(()=>we(L,"href",l(c))),y(k,w)},$$slots:{default:!0}})},p=h=>{var k=ms(),_=S(k),w=S(_),g=S(w);rn(g,{placeholder:"Search tag",get value(){return l(n)},set value(E){x(n,E,!0)}});var M=C(w,2);{var m=E=>{var T=_s();Z(T,1,K(["tags","selectedTags"]),"svelte-10otxxm"),Ne(T,20,()=>l(r),A=>A,(A,D)=>{ze(A,{get title(){return D},onClick:()=>s(D),style:"selected"})}),y(E,T)};j(M,E=>{l(r).length>0&&E(m)})}var L=C(_,2);Ne(L,21,()=>l(i),E=>E.name,(E,T)=>{var A=Ee(),D=U(A);{var P=O=>{ze(O,{get title(){return l(T).name},onClick:()=>o(l(T).name)})};j(D,O=>{(l(n)===""||l(T).name.toLowerCase().indexOf(l(n).toLowerCase())!==-1)&&O(P)})}y(E,A)}),y(h,k)};j(f,h=>{ds()?h(d):h(p,!1)})}y(e,u),Y()}ge(["click"]);var ks=q('<div class="input-container svelte-1pvj8hs"><input> <div class="error-message svelte-1pvj8hs"><!></div></div>');function Xt(e,t){W(t,!0);let n=ae(t,"value",15,""),r=ae(t,"error",3,"");var a=ks(),o=S(a);o.__input=function(...u){var f;(f=t.onInput)==null||f.apply(this,u)};let s;var i=C(o,2),c=S(i);{var v=u=>{var f=J();$(()=>rt(f,r())),y(u,f)};j(c,u=>{r()&&u(v)})}$(u=>{we(o,"placeholder",t.placeholder),s=Z(o,1,"svelte-1pvj8hs",null,s,u)},[()=>({error:!!r()})]),Fe("blur",o,function(...u){var f;(f=t.onBlur)==null||f.apply(this,u)}),Fe("focus",o,function(...u){var f;(f=t.onFocus)==null||f.apply(this,u)}),mn(o,n),y(e,a),Y()}ge(["input"]);var ys=q("<div></div>"),bs=q('<form class="svelte-qxch5w"><!> <!> <textarea placeholder="description" class="svelte-qxch5w"></textarea> <div class="boxtags"><div class="sidebarFixed"><!></div> <div class="tags svelte-qxch5w"><!> <!></div> <div class="searchWrapper svelte-qxch5w"><!></div></div> <button class="buttonSubmit svelte-qxch5w" type="submit"> </button></form>');function Or(e,t){W(t,!0);let n=ae(t,"initialTitle",3,""),r=ae(t,"initialUrl",3,""),a=ae(t,"initialDescription",3,""),o=ae(t,"initialTags",19,()=>[]),s=ae(t,"mode",3,"add"),i=I(""),c=I(ee(n())),v=I(ee(r())),u=I(ee(a())),f=I(ee(o()));const d=R=>{l(f).includes(R)||x(f,[...l(f),R],!0)},p=R=>{const G=l(f).filter(Se=>Se!==R);G.length===0?x(f,[],!0):x(f,G,!0)};let h=Q(()=>At()?[...Tr().reduce((R,G)=>(G==null||G.tags.forEach(Se=>{R.has(Se)||R.add(Se)}),R),new Set)]:[]),k=Q(()=>At()?l(h).filter(R=>!l(f).some(G=>R===G)&&R!=="inbox"):[]),_=Q(()=>l(k).find(R=>R.toLowerCase()===l(i).toLowerCase())||l(f).includes(l(i))),w=Q(()=>l(k).filter(R=>l(i)===""?!0:R.toLowerCase().indexOf(l(i).toLowerCase())!==-1).slice(0,l(_)||l(i)===""?3:2));const g=R=>{R.preventDefault(),t.onSubmit({title:l(c).trim().slice(0,256)||"unkwown",url:l(v).trim().slice(0,2048),description:l(u).trim().slice(0,2048),tags:l(f).length>0?l(f):["inbox"]})};var M=bs(),m=S(M);Xt(m,{placeholder:"url",get value(){return l(v)},set value(R){x(v,R,!0)}});var L=C(m,2);Xt(L,{placeholder:"title",get value(){return l(c)},set value(R){x(c,R,!0)}});var E=C(L,2),T=C(E,2),A=S(T),D=S(A);{var P=R=>{var G=ys();Z(G,1,K(["tags","selectedTags"]),"svelte-qxch5w"),Ne(G,20,()=>l(f),Se=>Se,(Se,Ye)=>{ze(Se,{get title(){return Ye},onClick:()=>p(Ye),type:"button",style:"selected"})}),y(R,G)};j(D,R=>{l(f).length>0&&R(P)})}var O=C(A,2),b=S(O);{var N=R=>{var G=Ee(),Se=U(G);Ne(Se,16,()=>l(w),Ye=>Ye,(Ye,yn)=>{ze(Ye,{get title(){return yn},onClick:()=>d(yn)})}),y(R,G)};j(b,R=>{l(i)!==""&&R(N)})}var B=C(b,2);{var te=R=>{ze(R,{get title(){return l(i)},onClick:()=>{d(l(i)),x(i,"")}})};j(B,R=>{!l(_)&&l(i)!==""&&R(te)})}var ne=C(O,2),se=S(ne);Xt(se,{placeholder:"tag",get value(){return l(i)},set value(R){x(i,R,!0)}});var re=C(T,2),he=S(re);$(()=>rt(he,s()==="add"?"add":"edit")),Fe("submit",M,g),mn(E,()=>l(u),R=>x(u,R)),y(e,M),Y()}function Ss(e,t){W(t,!0);let n=I(!0);const r=()=>{t.onClose()},a=()=>{x(n,!1)},o=({title:s,url:i,description:c,tags:v})=>{$o({...t.bookmark,title:s,url:i,description:c,tags:v.map(u=>u.trim())}),a()};Sr(e,{get shownDialog(){return l(n)},onClose:r,children:(s,i)=>{Or(s,{get initialTitle(){return t.bookmark.title},get initialUrl(){return t.bookmark.url},get initialDescription(){return t.bookmark.description},get initialTags(){return t.bookmark.tags},onSubmit:o,mode:"edit"})},$$slots:{default:!0}}),Y()}var xs=be('<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-1lqi79o"><path d="M16 16v2.8c0 1.12 0 1.68-.218 2.108a2 2 0 0 1-.874.874C14.48 22 13.92 22 12.8 22H5.2c-1.12 0-1.68 0-2.108-.218a2 2 0 0 1-.874-.874C2 20.48 2 19.92 2 18.8v-7.6c0-1.12 0-1.68.218-2.108a2 2 0 0 1 .874-.874C3.52 8 4.08 8 5.2 8H8m3.2 8h7.6c1.12 0 1.68 0 2.108-.218a2 2 0 0 0 .874-.874C22 14.48 22 13.92 22 12.8V5.2c0-1.12 0-1.68-.218-2.108a2 2 0 0 0-.874-.874C20.48 2 19.92 2 18.8 2h-7.6c-1.12 0-1.68 0-2.108.218a2 2 0 0 0-.874.874C8 3.52 8 4.08 8 5.2v7.6c0 1.12 0 1.68.218 2.108a2 2 0 0 0 .874.874C9.52 16 10.08 16 11.2 16Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>');function Es(e){var t=xs();y(e,t)}var Ts=be('<svg viewBox="0 0 13.229 13.229" xmlns="http://www.w3.org/2000/svg" class="svelte-1lqi79o"><circle style="fill:currentColor;stroke-width:.4378" cx="3.175" cy="6.615" r="1.058"></circle><circle style="fill:currentColor;stroke-width:.4378" cx="6.615" cy="6.615" r="1.058"></circle><circle style="fill:currentColor;stroke-width:.4378" cx="10.054" cy="6.615" r="1.058"></circle></svg>');function Cs(e){var t=Ts();y(e,t)}const Ls=(e,t,n)=>{const r=Lr();t.bookmark.tags.forEach(a=>{if(l(n).includes(a)&&r[a].connections===1){const o=new URLSearchParams(H.search),s=l(n).filter(i=>i!==a);s.length===0?o.delete("selectedTags"):o.set("selectedTags",s.join(",")),mo(`${H.pathname}${o.size>0?`?${o.toString()}`:""}`)}}),ts(t.bookmark.id)},Ds=(e,t)=>{x(t,!0)},Ps=(e,t,n)=>{x(t,!1),x(n,!0)},Os=(e,t)=>{navigator.clipboard.writeText(t.bookmark.url),eo("Link copied to clipboard")};var Ms=q('<li class="bookmark svelte-hwv8qt"><div class="bookmarkTitle svelte-hwv8qt"><img class="bookmarkIcon" height="16" width="16" alt="icon"> <a class="bookmarkLink svelte-hwv8qt" target="_blank" rel="noopener noreferrer"> </a></div> <div><button class="button svelte-hwv8qt"><!> <!></button> <div><button class="menuButton svelte-hwv8qt">Edit</button> <button class="menuButton svelte-hwv8qt">Delete</button></div> <button><!> <!></button></div></li> <!>',1);function As(e,t){W(t,!0);let n=Q(()=>{var b;return((b=new URLSearchParams(H.search).get("selectedTags"))==null?void 0:b.split(","))||[]}),r=I(!1),a=I(!1),o=I(null),s=I(null);const i=b=>{var N,B;b.target!==l(s)&&b.target!==l(o)&&!((N=l(o))!=null&&N.contains(b.target))&&!((B=l(s))!=null&&B.contains(b.target))&&x(r,!1)},c=()=>{x(a,!1)};me(()=>(document.addEventListener("click",i),()=>{document.removeEventListener("click",i)}));const v=b=>{try{return`https://www.google.com/s2/favicons?domain=${new URL(b).host}&sz=32`}catch{return""}};var u=Ms(),f=U(u),d=S(f),p=S(d),h=C(p,2),k=S(h),_=C(d,2),w=S(_);w.__click=[Os,t];var g=S(w);Es(g);var M=C(g,2);dt(M,{children:(b,N)=>{var B=J("copy link");y(b,B)}});var m=C(w,2),L=S(m);L.__click=[Ps,r,a];var E=C(L,2);E.__click=[Ls,t,n],De(m,b=>x(s,b),()=>l(s));var T=C(m,2);T.__click=[Ds,r],Z(T,1,K(["button","buttonMenu"]),"svelte-hwv8qt");var A=S(T);Cs(A);var D=C(A,2);dt(D,{children:(b,N)=>{var B=J("show menu");y(b,B)}}),De(T,b=>x(o,b),()=>l(o));var P=C(f,2);{var O=b=>{Ss(b,{get bookmark(){return t.bookmark},onClose:c})};j(P,b=>{l(a)&&b(O)})}$(b=>{we(p,"src",b),we(h,"href",t.bookmark.url),rt(k,t.bookmark.title),Z(_,1,K(["bookmarkMenuWrapper",{bookmarkMenuWrapperActive:l(r)}]),"svelte-hwv8qt"),Z(m,1,K(["bookmarkMenu",{bookmarkShownMenu:l(r)}]),"svelte-hwv8qt")},[()=>v(t.bookmark.url)]),y(e,u),Y()}ge(["click"]);var Bs=q('<div class="emptyMessage svelte-10e5k3k">No bookmarks found</div>'),Is=q('<div class="searchWrapper svelte-10e5k3k"><!></div> <div class="feed svelte-10e5k3k"><ul class="svelte-10e5k3k"><!> <!></ul></div>',1);function Rs(e,t){W(t,!0);let n=I(null),r=44,a=I(0),o=I(0),s=I(ee([])),i=I("");const c=ca("main");let v=Q(c),u=null;const f=Q(go);me(()=>{var D;l(i),l(f),(D=l(v))==null||D.scrollTo(0,0)});const d=()=>{u&&cancelAnimationFrame(u),u=requestAnimationFrame(()=>{var P;const D=((P=l(v))==null?void 0:P.scrollTop)||0;x(o,Math.floor(D/r)*r)})},p=()=>{var D;d(),l(n)&&x(a,window.innerHeight-((D=l(n))==null?void 0:D.getBoundingClientRect().top))};Pe(()=>{p(),d()}),me(()=>{var D;return(D=l(v))==null||D.addEventListener("scroll",d),window.addEventListener("resize",p),()=>{var P;(P=l(v))==null||P.removeEventListener("scroll",d),window.removeEventListener("resize",p)}}),me(()=>{const D=Tr(),P=[],O={};for(let b=D.length-1;b>=0;b--){const N=D[b];if(N&&!(l(f).length&&l(f).some(B=>!N.tags.includes(B)))&&!(l(i)&&!(N.title.toLowerCase().includes(l(i).toLowerCase())||N.url.toLowerCase().includes(l(i).toLowerCase())))){if(N.tags)for(const B of N.tags)O[B]?O[B].connections++:O[B]={name:B,connections:1};P.push(N)}}as(O),x(s,P,!0)});const h=Q(()=>l(s).length*r);let _=Q(()=>{const D=Math.ceil(l(a)/r),P=Math.floor(l(o)/r);return l(s).slice(P,P+D)});var w=Is(),g=U(w),M=S(g);rn(M,{placeholder:"Search",get value(){return l(i)},set value(D){x(i,D,!0)}});var m=C(g,2),L=S(m),E=S(L);Ne(E,17,()=>l(_),D=>D.id,(D,P)=>{As(D,{get bookmark(){return l(P)}})});var T=C(E,2);{var A=D=>{var P=Bs();y(D,P)};j(T,D=>{l(_).length===0&&At()&&D(A)})}De(L,D=>x(n,D),()=>l(n)),$(D=>{Pt(m,`height: ${D??""}px`),Pt(L,`height: ${l(a)??""}px; transform: translateY(${l(o)??""}px)`)},[()=>Math.max(l(h),30)]),y(e,w),Y()}var Ns=q('<!> <div class="content svelte-cu0ar8"><!></div>',1);function qs(e){var t=Ns(),n=U(t);ws(n,{});var r=C(n,2),a=S(r);Rs(a,{}),y(e,t)}var js=be('<svg width="800" height="800" viewBox="-3 0 32 32" xmlns="http://www.w3.org/2000/svg" class="svelte-1lqi79o"><path d="M23 8H3a1 1 0 1 1 0-2h20a1 1 0 0 1 0 2Zm-1 20a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V10h18v18ZM10 3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v1h-6V3Zm14 1h-6V2a2 2 0 0 0-2-2h-6a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v2a2 2 0 0 0 2 2v18a4 4 0 0 0 4 4h14a4 4 0 0 0 4-4V10a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2ZM13 28a1 1 0 0 0 1-1V15a1 1 0 0 0-2 0v12a1 1 0 0 0 1 1Zm-5 0a1 1 0 0 0 1-1V15a1 1 0 0 0-2 0v12a1 1 0 0 0 1 1Zm10 0a1 1 0 0 0 1-1V15a1 1 0 0 0-2 0v12a1 1 0 0 0 1 1Z" fill="currentColor" fill-rule="evenodd"></path></svg>');function Hs(e){var t=js();y(e,t)}var Fs=be('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" class="svelte-1lqi79o"><path fill-rule="evenodd" stroke="currentColor" fill="currentColor" d="M14 9.004a1 1 0 0 1 1 1v3a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-3a1 1 0 0 1 2 0v3h10v-3a1 1 0 0 1 1-1ZM8 1.59l3.707 3.707a1 1 0 0 1-1.414 1.414L9 5.418v4.586a1 1 0 1 1-2 0V5.418L5.707 6.711a1 1 0 0 1-1.414-1.414L8 1.59Z"></path></svg>');function zs(e){var t=Fs();y(e,t)}var Us=be('<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" class="svelte-1lqi79o"><path fill-rule="evenodd" stroke="currentColor" fill="currentColor" d="M14 9a1 1 0 0 1 1 1v3a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-3a1 1 0 0 1 2 0v3h10v-3a1 1 0 0 1 1-1ZM8 1a1 1 0 0 1 1 1v4.586l1.293-1.293a1 1 0 1 1 1.414 1.414L8 10.414 4.293 6.707a1 1 0 0 1 1.414-1.414L7 6.586V2a1 1 0 0 1 1-1Z"></path></svg>');function Vs(e){var t=Us();y(e,t)}var Be=(e=>(e.Light="light",e.Auto="auto",e.Dark="dark",e))(Be||{});const Kt=(e,t)=>{const n=e.target.value;localStorage.setItem("colorScheme",n),document.documentElement.setAttribute("data-color-scheme",n),x(t,n,!0)};var Ws=q('<div class="wrapper svelte-1lqc4qo"><fieldset class="switcher svelte-1lqc4qo"><legend class="vh svelte-1lqc4qo">Color Scheme</legend> <input id="light" type="radio" aria-label="Light"> <label for="light" title="Light" aria-label="Light"></label> <input id="auto" type="radio" aria-label="Auto"> <label for="auto" title="Auto" aria-label="Auto"></label> <input id="dark" type="radio" aria-label="Dark"> <label for="dark" title="Dark" aria-label="Dark"></label> <div class="wrapSwitcherStatus svelte-1lqc4qo"><div class="switcherStatus svelte-1lqc4qo"></div></div></fieldset></div>');function Ys(e,t){W(t,!0);let n=I(ee(localStorage.getItem("colorScheme")||Be.Auto));const r="color-scheme-switcher";var a=Ws(),o=S(a),s=C(S(o),2);Z(s,1,K(["vh","input"]),"svelte-1lqc4qo"),we(s,"name",r),s.__change=[Kt,n];var i=C(s,2);Z(i,1,K(["switcherButton","light"]),"svelte-1lqc4qo");var c=C(i,2);Z(c,1,K(["vh","input"]),"svelte-1lqc4qo"),we(c,"name",r),c.__change=[Kt,n];var v=C(c,2);Z(v,1,K(["switcherButton","auto"]),"svelte-1lqc4qo");var u=C(v,2);Z(u,1,K(["vh","input"]),"svelte-1lqc4qo"),we(u,"name",r),u.__change=[Kt,n];var f=C(u,2);Z(f,1,K(["switcherButton","dark"]),"svelte-1lqc4qo"),$(()=>{Vt(s,Be.Light),Wt(s,l(n)===Be.Light),Vt(c,Be.Auto),Wt(c,l(n)===Be.Auto),Vt(u,Be.Dark),Wt(u,l(n)===Be.Dark)}),y(e,a),Y()}ge(["change"]);const Zs=()=>{at("importBookmarks")},Xs=()=>{at("exportBookmarks")},Ks=()=>{at("clearStore")};var Gs=q('<div class="svelte-oc46cj"><!> <ul class="svelte-oc46cj"><li class="svelte-oc46cj"><button class="button svelte-oc46cj"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-oc46cj">import bookmarks</span></button></li> <li class="svelte-oc46cj"><button class="button svelte-oc46cj"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-oc46cj">export bookmarks</span></button></li> <li class="svelte-oc46cj"><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-oc46cj">clear store</span></button></li></ul> <div class="svelte-oc46cj"></div></div>');function Js(e,t){W(t,!1),Ut();var n=Gs(),r=S(n);Ys(r,{});var a=C(r,2),o=S(a),s=S(o);s.__click=[Zs];var i=S(s);Te(i,()=>({"--size":"20px"})),Vs(i.lastChild);var c=C(o,2),v=S(c);v.__click=[Xs];var u=S(v);Te(u,()=>({"--size":"20px"})),zs(u.lastChild);var f=C(c,2),d=S(f);d.__click=[Ks],Z(d,1,K(["button","clearButton"]),"svelte-oc46cj");var p=S(d);Te(p,()=>({"--size":"20px"})),Hs(p.lastChild);var h=C(a,2);h.textContent="511c4a31-bdc4-41ac-a1b9-aad8b5d89802",y(e,n),Y()}ge(["click"]);function Qs(e,t){W(t,!1);const n=()=>{_t()},r=({title:a,url:o,description:s,tags:i})=>{es({title:a,url:o,description:s,tags:i.map(c=>c.trim())}),n()};Ut(),Or(e,{onSubmit:r}),Y()}var $s=q("<button><!></button>");function _e(e,t){let n=ae(t,"type",3,"standard");var r=$s();r.__click=function(...o){var s;(s=t.onClick)==null||s.apply(this,o)};var a=S(r);gt(a,()=>t.children),$(()=>Z(r,1,K(["button",{dangerous:n()==="dangerous"}]),"svelte-v0y8yx")),y(e,r)}ge(["click"]);var ei=q('<div class="loader svelte-b80p9x"></div>');function kn(e){var t=ei();y(e,t)}const ti=async(e,t)=>{const n=e.target;!n.files||n.files.length===0||await t(n.files[0])};var ni=q('<p class="message svelte-19xh4q5">select a file to import your bookmarks</p> <div role="button" tabindex="0"><div class="dropzone-content svelte-19xh4q5"><p class="svelte-19xh4q5">Drag and drop your JSON file here</p> <p class="svelte-19xh4q5">or</p> <!></div> <input type="file" accept=".json, .html" style="display: none;"></div> <div class="buttonContainer svelte-19xh4q5"><!></div>',1),ri=q('<p class="message svelte-19xh4q5">importing bookmarks...</p> <!>',1),ai=q('<p class="message success svelte-19xh4q5">bookmarks imported successfully!</p> <div class="buttonContainer svelte-19xh4q5"><!></div>',1),oi=q('<p class="message error svelte-19xh4q5">something went wrong</p> <div class="buttonContainer svelte-19xh4q5"><!> <!></div>',1),si=q('<div class="content svelte-19xh4q5"><!></div>');function ii(e,t){W(t,!0);let n=I("idle"),r=I(null),a=I(!1),o=I(null);const s=()=>{_t()},i=async g=>{const M=await g.text(),m=JSON.parse(M),L=[];if(!m.bookmarks)throw new Error("Invalid import file format");for(const E of Object.values(m.bookmarks))E&&L.push(E);await Rn(L)},c=async g=>{x(n,"loading");try{if(g.name.endsWith(".json"))await i(g);else if(g.name.endsWith(".html"))await Rn(await Fo(g));else throw new Error("Unsupported file format. Please upload a JSON or HTML file.");x(n,"success")}catch{x(n,"error")}},v=()=>{var g;(g=l(r))==null||g.click()},u=g=>{g.preventDefault(),g.stopPropagation(),x(a,!0)},f=g=>{g.preventDefault(),g.stopPropagation(),x(a,!1)},d=g=>{g.preventDefault(),g.stopPropagation(),x(a,!0)},p=async g=>{var m;if(g.preventDefault(),g.stopPropagation(),x(a,!1),!((m=g.dataTransfer)!=null&&m.files)||g.dataTransfer.files.length===0)return;const M=g.dataTransfer.files[0];if(M.type!=="application/json"&&M.type!=="text/html"){x(n,"error");return}await c(M)};var h=si(),k=S(h);{var _=g=>{var M=ni(),m=C(U(M),2),L=S(m),E=C(S(L),4);_e(E,{onClick:v,children:(P,O)=>{var b=J("Select File");y(P,b)},$$slots:{default:!0}});var T=C(L,2);T.__change=[ti,c],De(T,P=>x(r,P),()=>l(r)),De(m,P=>x(o,P),()=>l(o));var A=C(m,2),D=S(A);_e(D,{onClick:s,children:(P,O)=>{var b=J("cancel");y(P,b)},$$slots:{default:!0}}),$(()=>Z(m,1,K(["dropzone",{active:l(a)}]),"svelte-19xh4q5")),Fe("dragenter",m,u),Fe("dragover",m,d),Fe("dragleave",m,f),Fe("drop",m,p),y(g,M)},w=(g,M)=>{{var m=E=>{var T=ri(),A=C(U(T),2);kn(A),y(E,T)},L=(E,T)=>{{var A=P=>{var O=ai(),b=C(U(O),2),N=S(b);_e(N,{onClick:s,children:(B,te)=>{var ne=J("close");y(B,ne)},$$slots:{default:!0}}),y(P,O)},D=(P,O)=>{{var b=N=>{var B=oi(),te=C(U(B),2),ne=S(te);_e(ne,{onClick:()=>{x(n,"idle")},children:(re,he)=>{var R=J("Try Again");y(re,R)},$$slots:{default:!0}});var se=C(ne,2);_e(se,{onClick:s,children:(re,he)=>{var R=J("Cancel");y(re,R)},$$slots:{default:!0}}),y(N,B)};j(P,N=>{l(n)==="error"&&N(b)},O)}};j(E,P=>{l(n)==="success"?P(A):P(D,!1)},T)}};j(g,E=>{l(n)==="loading"?E(m):E(L,!1)},M)}};j(k,g=>{l(n)==="idle"?g(_):g(w,!1)})}y(e,h),Y()}ge(["change"]);var li=(e,t)=>x(t,"json"),ci=(e,t)=>x(t,"html"),ui=q('<p class="message svelte-1kp07xg">Export bookmarks</p> <div class="format-switcher svelte-1kp07xg"><div class="switcher-wrapper svelte-1kp07xg"><div class="background svelte-1kp07xg"></div> <div class="active-indicator svelte-1kp07xg"></div> <button>JSON</button> <button>HTML</button></div> <p class="format-description svelte-1kp07xg"><!></p></div> <div class="buttonContainer svelte-1kp07xg"><!> <!></div>',1),vi=q('<p class="message svelte-1kp07xg">Exporting data...</p> <div class="buttonContainer svelte-1kp07xg"><!></div>',1),di=q('<p class="message svelte-1kp07xg">Bookmarks exported successfully!</p> <div class="buttonContainer svelte-1kp07xg"><!></div>',1),fi=q('<div class="content svelte-1kp07xg"><!></div>');function hi(e,t){W(t,!0);let n=I("idle"),r=I("json");const a=()=>{_t()},o=async()=>{x(n,"loading"),setTimeout(async()=>{if(l(r)==="json")await rs().finally(()=>{x(n,"success")});else try{const u=zo(Qo()),f=new Blob([u],{type:"text/html"}),d=URL.createObjectURL(f),p=document.createElement("a");p.href=d,p.download=`bookmarks_${new Date().toLocaleDateString().replace(/\//g,"_")}.html`,document.body.appendChild(p),p.click(),document.body.removeChild(p),URL.revokeObjectURL(d),x(n,"success")}catch(u){console.error("Error exporting as HTML:",u),x(n,"success")}},0)};var s=fi(),i=S(s);{var c=u=>{var f=ui(),d=C(U(f),2),p=S(d),h=C(S(p),2),k=C(h,2);let _;k.__click=[li,r];var w=C(k,2);let g;w.__click=[ci,r];var M=C(p,2),m=S(M);{var L=P=>{var O=J("JSON format (for app import)");y(P,O)},E=P=>{var O=J("HTML format (Chrome compatible)");y(P,O)};j(m,P=>{l(r)==="json"?P(L):P(E,!1)})}var T=C(d,2),A=S(T);_e(A,{onClick:o,children:(P,O)=>{var b=J("Export");y(P,b)},$$slots:{default:!0}});var D=C(A,2);_e(D,{onClick:a,children:(P,O)=>{var b=J("Cancel");y(P,b)},$$slots:{default:!0}}),$((P,O)=>{Pt(h,`transform: translateX(${(l(r)==="json"?"0":"100%")??""})`),_=Z(k,1,"switcher-option svelte-1kp07xg",null,_,P),g=Z(w,1,"switcher-option svelte-1kp07xg",null,g,O)},[()=>({active:l(r)==="json"}),()=>({active:l(r)==="html"})]),y(u,f)},v=(u,f)=>{{var d=h=>{var k=vi(),_=C(U(k),2),w=S(_);kn(w),y(h,k)},p=(h,k)=>{{var _=w=>{var g=di(),M=C(U(g),2),m=S(M);_e(m,{onClick:a,children:(L,E)=>{var T=J("Close");y(L,T)},$$slots:{default:!0}}),y(w,g)};j(h,w=>{l(n)==="success"&&w(_)},k)}};j(u,h=>{l(n)==="loading"?h(d):h(p,!1)},f)}};j(i,u=>{l(n)==="idle"?u(c):u(v,!1)})}y(e,s),Y()}ge(["click"]);var pi=q('<p class="message svelte-w4337z">Are you sure you want to clear the store?</p> <div class="buttonContainer svelte-w4337z"><!> <!></div>',1),gi=q('<p class="message svelte-w4337z">clearing store...</p> <div class="buttonContainer svelte-w4337z"><!></div>',1),_i=q('<p class="message svelte-w4337z">store cleared</p> <div class="buttonContainer svelte-w4337z"><!></div>',1),mi=q('<div class="content svelte-w4337z"><!></div>');function wi(e,t){W(t,!0);let n=I("idle");const r=()=>{_t()},a=()=>{x(n,"loading"),ns().finally(()=>{setTimeout(()=>{x(n,"success")},1e3)})};var o=mi(),s=S(o);{var i=v=>{var u=pi(),f=C(U(u),2),d=S(f);_e(d,{onClick:r,children:(h,k)=>{var _=J("no");y(h,_)},$$slots:{default:!0}});var p=C(d,2);_e(p,{onClick:a,type:"dangerous",children:(h,k)=>{var _=J("yes");y(h,_)},$$slots:{default:!0}}),y(v,u)},c=(v,u)=>{{var f=p=>{var h=gi(),k=C(U(h),2),_=S(k);kn(_),y(p,h)},d=(p,h)=>{{var k=_=>{var w=_i(),g=C(U(w),2),M=S(g);_e(M,{onClick:r,children:(m,L)=>{var E=J("close");y(m,E)},$$slots:{default:!0}}),y(_,w)};j(p,_=>{l(n)==="success"&&_(k)},h)}};j(v,p=>{l(n)==="loading"?p(f):p(d,!1)},u)}};j(s,v=>{l(n)==="idle"?v(i):v(c,!1)})}y(e,o),Y()}const ki=(e,t=jn)=>{var n=Ee(),r=U(n);{var a=s=>{Js(s,{})},o=(s,i)=>{{var c=u=>{Qs(u,{})},v=(u,f)=>{{var d=h=>{ii(h,{})},p=(h,k)=>{{var _=g=>{hi(g,{})},w=(g,M)=>{{var m=L=>{wi(L,{})};j(g,L=>{t()==="clearStore"&&L(m)},M)}};j(h,g=>{t()==="exportBookmarks"?g(_):g(w,!1)},k)}};j(u,h=>{t()==="importBookmarks"?h(d):h(p,!1)},f)}};j(s,u=>{t()==="newBookmark"?u(c):u(v,!1)},i)}};j(r,s=>{t()==="settings"?s(a):s(o,!1)})}y(e,n)};var yi=q("<!> <!>",1);function bi(e,t){W(t,!0);let n=Q(ko);var r=yi(),a=U(r);qs(a);var o=C(a,2);Ne(o,17,()=>l(n),Ha,(s,i,c)=>{const v=Q(()=>{var u;return c!==l(n).length-1&&!!((u=l(n)[c+1])!=null&&u.shown)});Ho(s,{get shown(){return l(i).shown},get hidden(){return l(v)},children:(u,f)=>{ki(u,()=>l(i).page)},$$slots:{default:!0}})}),y(e,r),Y()}function Si(){const e=navigator.userAgent;if(!(/iPad|iPhone|iPod/.test(e)&&!window.MSStream))return!1;const n=/Safari/.test(e)&&!/Chrome/.test(e)&&!/CriOS/.test(e)&&!/FxiOS/.test(e),r=/Macintosh/.test(e)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>1;return!!n||!!r}const xi=Si();function Ei(e,t){W(t,!1);let n=0;Pe(()=>{const r=document.querySelector("div");r&&xi&&r.addEventListener("touchstart",a=>{a.pageX>20&&a.pageX<window.innerWidth-20||a.preventDefault()}),document.addEventListener("touchstart",a=>{n=a.touches[0].clientX},{passive:!1}),document.addEventListener("touchmove",a=>{const s=a.touches[0].clientX-n;(n<50&&s>0||n>window.innerWidth-50&&s<0)&&a.preventDefault()},{passive:!1}),document.addEventListener("touchend",()=>{n=0}),document.addEventListener("touchcancel",()=>{n=0})}),Ut(),Y()}var Ti=q('<!> <main><!> <div class="container svelte-nkbuiv"><!></div> <!></main>',1);function Ci(e,t){W(t,!0);let n=I(null),r=!1;ua("main",()=>l(n));const a=()=>{document.activeElement instanceof HTMLInputElement||document.activeElement instanceof HTMLTextAreaElement?r=!0:r=!1};Pe(()=>{a(),document.addEventListener("focusin",a),document.addEventListener("focusout",a),document.addEventListener("touchmove",function(p){r&&p.preventDefault()},{passive:!1})}),Pe(async()=>{await new Promise(p=>setTimeout(p,100)),await Da(),Mt.working=!0});let o=Q(()=>je().length>0);var s=Ti(),i=U(s);Ei(i,{});var c=C(i,2),v=S(c);Lo(v,{});var u=C(v,2),f=S(u);bi(f,{});var d=C(u,2);no(d,{}),De(c,p=>x(n,p),()=>l(n)),$(()=>Z(c,1,K(["main",{isAnimationOn:Mt.working,open:l(o)}]),"svelte-nkbuiv")),y(e,s),Y()}Na(Ci,{target:document.getElementById("app")});
