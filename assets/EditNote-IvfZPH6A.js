import{p as S,A as w,D as I,h as P,y as T,m as u,n as f,k as g,b as n,l as U,f as E,s as F,c as H,B as L,w as j,i as q,x as z}from"./index-BAV2dSXC.js";import{N as G}from"./NoteForm-Bod06_AH.js";import"./Input-MjxHaE-L.js";var J=E('<div class="block svelte-14glnia"><p class="svelte-14glnia">Note not found</p> <!></div>');function W(c,i){S(i,!0);const{updateNote:m,getNoteById:p,isReadyNotes:v}=w(),{getDraft:N,isReadyDrafts:h}=I();let t=P((()=>{const e=new URLSearchParams(i.params).get("id");return e&&p(e)||null})()),x=z(()=>t?N(t.id):void 0);const{navigate:_}=T(),A=e=>{e.preventDefault(),_("/")},b=({name:e,url:r,text:s,tags:o})=>{t&&m({...t,data:{...t.data,name:e,url:r,text:s,tags:o}})};var d=u(),y=f(d);{var k=e=>{var r=u(),s=f(r);{var o=a=>{var l=J(),D=F(H(l),2);L(D,{element:"a",href:"/",onClick:A,children:(B,M)=>{var R=j("close");n(B,R)},$$slots:{default:!0}}),n(a,l)},C=a=>{G(a,{get initialName(){return t.data.name},get initialUrl(){return t.data.url},get initialText(){return t.data.text},get initialTags(){return t.data.tags},get createdAt(){return t.data.createdAt},get updatedAt(){return t.data.updatedAt},get noteId(){return t.id},get draft(){return q(x)},onSubmit:b,mode:"edit"})};g(s,a=>{t?a(C,!1):a(o)})}n(e,r)};g(y,e=>{v()&&h()&&e(k)})}n(c,d),U()}export{W as default};
