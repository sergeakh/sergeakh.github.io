import{p as A,T as d,s as c,a as g,f as h,g as e,d as R,m as I,i as _,H as J,e as m,h as B,c as o,j as K,k as M,t as P,r as V,a5 as W,l as X,Q as Y,a6 as Z,O as $}from"./index-DFePYI8l.js";import{I as j}from"./Input-DRSkLQ7p.js";const tt=(v,a)=>{o(a,!0)};var et=h('<textarea placeholder="notes" class="svelte-1as7gim"></textarea>'),at=h('<button type="button" class="formButton svelte-1as7gim">add notes</button>'),it=h('<button class="buttonSubmit svelte-1as7gim" type="submit"> </button>'),lt=h('<form class="svelte-1as7gim"><!> <!> <!> <!></form>');function rt(v,a){A(a,!0);let p=d(a,"initialTitle",3,""),x=d(a,"initialUrl",3,""),f=d(a,"initialDescription",3,""),k=d(a,"initialTags",19,()=>[]),w=d(a,"mode",3,"add"),b=c(f()!==""),i=c(g(p())),l=c(g(x())),s=c(""),N=c(g(f())),U=g(k().filter(t=>t!=="inbox"));const C=t=>{t.preventDefault(),a.onSubmit({title:e(i).trim().slice(0,256)||"unkwown",url:e(l).trim().slice(0,2048),description:e(N).trim().slice(0,2048),tags:U.length>0?U:["inbox"]})},E=t=>{o(s,""),o(l,t.target.value||"",!0);try{new URL(e(l))}catch{o(s,"Invalid URL")}};var S=lt(),y=R(S);j(y,{get value(){return e(l)},get error(){return e(s)},onInput:E,placeholder:"url"});var D=I(y,2);{var F=t=>{j(t,{placeholder:"title",get value(){return e(i)},set value(r){o(i,r,!0)}})};_(D,t=>{e(l)&&e(s)===""&&t(F)})}var L=I(D,2);{var H=t=>{var r=K(),T=M(r);{var q=n=>{var u=et();W(u,()=>e(N),G=>o(N,G)),m(n,u)},z=n=>{var u=at();u.__click=[tt,b],m(n,u)};_(T,n=>{e(b)?n(q):n(z,!1)})}m(t,r)};_(L,t=>{e(l)&&e(s)===""&&e(i)&&t(H)})}var O=I(L,2);{var Q=t=>{var r=it(),T=R(r);P(()=>V(T,w()==="add"?"add":"edit")),m(t,r)};_(O,t=>{e(l)&&e(s)===""&&e(i)&&t(Q)})}J("submit",S,C),m(v,S),B()}X(["click"]);function ot(v,a){A(a,!1);const p=()=>{$()},x=({title:f,url:k,description:w,tags:b})=>{Z({title:f,url:k,description:w,tags:b.map(i=>i.trim())}),p()};Y(),rt(v,{onSubmit:x}),B()}export{ot as default};
