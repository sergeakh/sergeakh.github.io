import{p as c,A as N,D as x,h as A,m as h,n as b,k as v,b as D,l as S,i as _,x as k}from"./index-VYzmJzTN.js";import{N as y}from"./NoteForm-12qH1Dse.js";import"./Input-BZMBbnmx.js";function w(n,a){c(a,!0);const{updateNote:d,getNoteById:i}=N(),{getDraft:o}=x();let t=A((()=>{const e=new URLSearchParams(a.params).get("id");return e&&i(e)||null})()),s=k(()=>t?o(t.id):void 0);const u=({name:e,url:m,text:f,tags:p})=>{t&&d({...t,data:{...t.data,name:e,url:m,text:f,tags:p}})};var r=h(),g=b(r);{var l=e=>{y(e,{get initialName(){return t.data.name},get initialUrl(){return t.data.url},get initialText(){return t.data.text},get initialTags(){return t.data.tags},get createdAt(){return t.data.createdAt},get updatedAt(){return t.data.updatedAt},get noteId(){return t.id},get draft(){return _(s)},onSubmit:u,mode:"edit"})};v(g,e=>{t&&e(l)})}D(n,r),S()}export{w as default};
