import{p as N,A as x,D as A,h,m as b,n as v,k as D,b as S,l as _,i as k,x as y}from"./index-CtgUzf3X.js";import{N as C}from"./NoteForm-C4MNJbDf.js";import"./Input-CE8ZVMOJ.js";function B(n,r){N(r,!0);const{updateNote:i,getNoteById:o}=x(),{getDraft:d}=A();let t=h((()=>{const e=new URLSearchParams(r.params).get("id");return e&&o(e)||null})()),s=y(()=>t?d(t.id):void 0);const u=({name:e,url:l,text:f,tags:p})=>{t&&i({...t,name:e,url:l,text:f,tags:p.map(c=>c.trim())})};var a=b(),g=v(a);{var m=e=>{C(e,{get initialName(){return t.name},get initialUrl(){return t.url},get initialText(){return t.text},get initialTags(){return t.tags},get createdAt(){return t.createdAt},get updatedAt(){return t.updatedAt},get noteId(){return t.id},get draft(){return k(s)},onSubmit:u,mode:"edit"})};D(g,e=>{t&&e(m)})}S(n,a),_()}export{B as default};
