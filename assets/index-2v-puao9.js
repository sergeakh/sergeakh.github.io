(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();const En=!1;var on=Array.isArray,Br=Array.prototype.indexOf,sn=Array.from,Ir=Object.defineProperty,Ge=Object.getOwnPropertyDescriptor,Hn=Object.getOwnPropertyDescriptors,Rr=Object.prototype,Nr=Array.prototype,ln=Object.getPrototypeOf,xn=Object.isExtensible;const Fn=()=>{};function qr(e){return e()}function St(e){for(var t=0;t<e.length;t++)e[t]()}const we=2,Un=4,Rt=8,cn=16,Ae=32,nt=64,Et=128,de=256,xt=512,ce=1024,Ce=2048,We=4096,Oe=8192,Nt=16384,jr=32768,qt=65536,Hr=1<<17,Fr=1<<19,zn=1<<20,Jt=1<<21,ze=Symbol("$state"),Ur=Symbol("legacy props"),zr=Symbol("");function Vn(e){return e===this.v}function Vr(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function un(e){return!Vr(e,this.v)}function Wr(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Yr(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Zr(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Xr(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Kr(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function Gr(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Jr(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Qr(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let rt=!1,$r=!1;function ea(){rt=!0}const vn=1,dn=2,Wn=4,ta=8,na=16,ra=1,aa=2,oa=4,sa=8,ia=16,la=1,ca=2,le=Symbol(),ua="http://www.w3.org/1999/xhtml";function Yn(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let U=null;function Tn(e){U=e}function va(e){return Zn().get(e)}function da(e,t){return Zn().set(e,t),t}function Y(e,t=!1,n){var r=U={p:U,c:null,d:!1,e:null,m:!1,s:e,x:null,l:null};rt&&!t&&(U.l={s:null,u:null,r1:[],r2:vt(!1)}),fn(()=>{r.d=!0})}function Z(e){const t=U;if(t!==null){const s=t.e;if(s!==null){var n=V,r=F;t.e=null;try{for(var a=0;a<s.length;a++){var o=s[a];qe(o.effect),Le(o.reaction),hn(o.fn)}}finally{qe(n),Le(r)}}U=t.p,t.m=!0}return{}}function pt(){return!rt||U!==null&&U.l===null}function Zn(e){return U===null&&Yn(),U.c??(U.c=new Map(fa(U)||void 0))}function fa(e){let t=e.p;for(;t!==null;){const n=t.c;if(n!==null)return n;t=t.p}return null}function $(e){if(typeof e!="object"||e===null||ze in e)return e;const t=ln(e);if(t!==Rr&&t!==Nr)return e;var n=new Map,r=on(e),a=I(0),o=F,s=l=>{var c=F;Le(o);var v=l();return Le(c),v};return r&&n.set("length",I(e.length)),new Proxy(e,{defineProperty(l,c,v){(!("value"in v)||v.configurable===!1||v.enumerable===!1||v.writable===!1)&&Gr();var d=n.get(c);return d===void 0?(d=s(()=>I(v.value)),n.set(c,d)):x(d,s(()=>$(v.value))),!0},deleteProperty(l,c){var v=n.get(c);if(v===void 0)c in l&&n.set(c,s(()=>I(le)));else{if(r&&typeof c=="string"){var d=n.get("length"),h=Number(c);Number.isInteger(h)&&h<d.v&&x(d,h)}x(v,le),Cn(a)}return!0},get(l,c,v){var p;if(c===ze)return e;var d=n.get(c),h=c in l;if(d===void 0&&(!h||(p=Ge(l,c))!=null&&p.writable)&&(d=s(()=>I($(h?l[c]:le))),n.set(c,d)),d!==void 0){var u=i(d);return u===le?void 0:u}return Reflect.get(l,c,v)},getOwnPropertyDescriptor(l,c){var v=Reflect.getOwnPropertyDescriptor(l,c);if(v&&"value"in v){var d=n.get(c);d&&(v.value=i(d))}else if(v===void 0){var h=n.get(c),u=h==null?void 0:h.v;if(h!==void 0&&u!==le)return{enumerable:!0,configurable:!0,value:u,writable:!0}}return v},has(l,c){var u;if(c===ze)return!0;var v=n.get(c),d=v!==void 0&&v.v!==le||Reflect.has(l,c);if(v!==void 0||V!==null&&(!d||(u=Ge(l,c))!=null&&u.writable)){v===void 0&&(v=s(()=>I(d?$(l[c]):le)),n.set(c,v));var h=i(v);if(h===le)return!1}return d},set(l,c,v,d){var g;var h=n.get(c),u=c in l;if(r&&c==="length")for(var p=v;p<h.v;p+=1){var f=n.get(p+"");f!==void 0?x(f,le):p in l&&(f=s(()=>I(le)),n.set(p+"",f))}h===void 0?(!u||(g=Ge(l,c))!=null&&g.writable)&&(h=s(()=>I(void 0)),x(h,s(()=>$(v))),n.set(c,h)):(u=h.v!==le,x(h,s(()=>$(v))));var m=Reflect.getOwnPropertyDescriptor(l,c);if(m!=null&&m.set&&m.set.call(d,v),!u){if(r&&typeof c=="string"){var E=n.get("length"),M=Number(c);Number.isInteger(M)&&M>=E.v&&x(E,M+1)}Cn(a)}return!0},ownKeys(l){i(a);var c=Reflect.ownKeys(l).filter(h=>{var u=n.get(h);return u===void 0||u.v!==le});for(var[v,d]of n)d.v!==le&&!(v in l)&&c.push(v);return c},setPrototypeOf(){Jr()}})}function Cn(e,t=1){x(e,e.v+t)}function Qe(e){var t=we|Ce,n=F!==null&&(F.f&we)!==0?F:null;return V===null||n!==null&&(n.f&de)!==0?t|=de:V.f|=zn,{ctx:U,deps:null,effects:null,equals:Vn,f:t,fn:e,reactions:null,rv:0,v:null,wv:0,parent:n??V}}function J(e){const t=Qe(e);return ur(t),t}function Xn(e){const t=Qe(e);return t.equals=un,t}function Kn(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)Me(t[n])}}function ha(e){for(var t=e.parent;t!==null;){if((t.f&we)===0)return t;t=t.parent}return null}function Gn(e){var t,n=V;qe(ha(e));try{Kn(e),t=hr(e)}finally{qe(n)}return t}function Jn(e){var t=Gn(e),n=(Re||(e.f&de)!==0)&&e.deps!==null?We:ce;ke(e,n),e.equals(t)||(e.v=t,e.wv=dr())}const ut=new Map;function vt(e,t){var n={f:0,v:e,reactions:null,equals:Vn,rv:0,wv:0};return n}function I(e,t){const n=vt(e);return ur(n),n}function Qn(e,t=!1){var r;const n=vt(e);return t||(n.equals=un),rt&&U!==null&&U.l!==null&&((r=U.l).s??(r.s=[])).push(n),n}function x(e,t,n=!1){F!==null&&!Ee&&pt()&&(F.f&(we|cn))!==0&&!(se!=null&&se.includes(e))&&Qr();let r=n?$(t):t;return Qt(e,r)}function Qt(e,t){if(!e.equals(t)){var n=e.v;gt?ut.set(e,t):ut.set(e,n),e.v=t,(e.f&we)!==0&&((e.f&Ce)!==0&&Gn(e),ke(e,(e.f&de)===0?ce:We)),e.wv=dr(),$n(e,Ce),pt()&&V!==null&&(V.f&ce)!==0&&(V.f&(Ae|nt))===0&&(he===null?Sa([e]):he.push(e))}return t}function $n(e,t){var n=e.reactions;if(n!==null)for(var r=pt(),a=n.length,o=0;o<a;o++){var s=n[o],l=s.f;(l&Ce)===0&&(!r&&s===V||(ke(s,t),(l&(ce|de))!==0&&((l&we)!==0?$n(s,We):Vt(s))))}}let pa=!1;var Ln,er,tr,nr;function ga(){if(Ln===void 0){Ln=window,er=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;tr=Ge(t,"firstChild").get,nr=Ge(t,"nextSibling").get,xn(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),xn(n)&&(n.__t=void 0)}}function jt(e=""){return document.createTextNode(e)}function $e(e){return tr.call(e)}function Ht(e){return nr.call(e)}function S(e,t){return $e(e)}function z(e,t){{var n=$e(e);return n instanceof Comment&&n.data===""?Ht(n):n}}function D(e,t=1,n=!1){let r=e;for(;t--;)r=Ht(r);return r}function _a(e){e.textContent=""}function rr(e){V===null&&F===null&&Zr(),F!==null&&(F.f&de)!==0&&V===null&&Yr(),gt&&Wr()}function ma(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function at(e,t,n,r=!0){var a=V,o={ctx:U,deps:null,nodes_start:null,nodes_end:null,f:e|Ce,first:null,fn:t,last:null,next:null,parent:a,prev:null,teardown:null,transitions:null,wv:0};if(n)try{_n(o),o.f|=jr}catch(c){throw Me(o),c}else t!==null&&Vt(o);var s=n&&o.deps===null&&o.first===null&&o.nodes_start===null&&o.teardown===null&&(o.f&(zn|Et))===0;if(!s&&r&&(a!==null&&ma(o,a),F!==null&&(F.f&we)!==0)){var l=F;(l.effects??(l.effects=[])).push(o)}return o}function fn(e){const t=at(Rt,null,!1);return ke(t,ce),t.teardown=e,t}function _e(e){rr();var t=V!==null&&(V.f&Ae)!==0&&U!==null&&!U.m;if(t){var n=U;(n.e??(n.e=[])).push({fn:e,effect:V,reaction:F})}else{var r=hn(e);return r}}function wa(e){return rr(),Ft(e)}function ka(e){const t=at(nt,e,!0);return(n={})=>new Promise(r=>{n.outro?Tt(t,()=>{Me(t),r(void 0)}):(Me(t),r(void 0))})}function hn(e){return at(Un,e,!1)}function Ft(e){return at(Rt,e,!0)}function Q(e,t=[],n=Qe){const r=t.map(n);return Ut(()=>e(...r.map(i)))}function Ut(e,t=0){return at(Rt|cn|t,e,!0)}function et(e,t=!0){return at(Rt|Ae,e,!0,t)}function ar(e){var t=e.teardown;if(t!==null){const n=gt,r=F;Pn(!0),Le(null);try{t.call(null)}finally{Pn(n),Le(r)}}}function or(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){var r=n.next;(n.f&nt)!==0?n.parent=null:Me(n,t),n=r}}function ba(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&Ae)===0&&Me(t),t=n}}function Me(e,t=!0){var n=!1;if((t||(e.f&Fr)!==0)&&e.nodes_start!==null){for(var r=e.nodes_start,a=e.nodes_end;r!==null;){var o=r===a?null:Ht(r);r.remove(),r=o}n=!0}or(e,t&&!n),Ot(e,0),ke(e,Nt);var s=e.transitions;if(s!==null)for(const c of s)c.stop();ar(e);var l=e.parent;l!==null&&l.first!==null&&sr(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function sr(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function Tt(e,t){var n=[];pn(e,n,!0),ir(n,()=>{Me(e),t&&t()})}function ir(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var a of e)a.out(r)}else t()}function pn(e,t,n){if((e.f&Oe)===0){if(e.f^=Oe,e.transitions!==null)for(const s of e.transitions)(s.is_global||n)&&t.push(s);for(var r=e.first;r!==null;){var a=r.next,o=(r.f&qt)!==0||(r.f&Ae)!==0;pn(r,t,o?n:!1),r=a}}}function Ct(e){lr(e,!0)}function lr(e,t){if((e.f&Oe)!==0){e.f^=Oe,(e.f&ce)===0&&(e.f^=ce),_t(e)&&(ke(e,Ce),Vt(e));for(var n=e.first;n!==null;){var r=n.next,a=(n.f&qt)!==0||(n.f&Ae)!==0;lr(n,a?t:!1),n=r}if(e.transitions!==null)for(const o of e.transitions)(o.is_global||t)&&o.in()}}let dt=[],$t=[];function cr(){var e=dt;dt=[],St(e)}function ya(){var e=$t;$t=[],St(e)}function gn(e){dt.length===0&&queueMicrotask(cr),dt.push(e)}function Dn(){dt.length>0&&cr(),$t.length>0&&ya()}let yt=!1,Lt=!1,Dt=null,Ve=!1,gt=!1;function Pn(e){gt=e}let ct=[];let F=null,Ee=!1;function Le(e){F=e}let V=null;function qe(e){V=e}let se=null;function ur(e){F!==null&&F.f&Jt&&(se===null?se=[e]:se.push(e))}let oe=null,ve=0,he=null;function Sa(e){he=e}let vr=1,Pt=0,Re=!1;function dr(){return++vr}function _t(e){var h;var t=e.f;if((t&Ce)!==0)return!0;if((t&We)!==0){var n=e.deps,r=(t&de)!==0;if(n!==null){var a,o,s=(t&xt)!==0,l=r&&V!==null&&!Re,c=n.length;if(s||l){var v=e,d=v.parent;for(a=0;a<c;a++)o=n[a],(s||!((h=o==null?void 0:o.reactions)!=null&&h.includes(v)))&&(o.reactions??(o.reactions=[])).push(v);s&&(v.f^=xt),l&&d!==null&&(d.f&de)===0&&(v.f^=de)}for(a=0;a<c;a++)if(o=n[a],_t(o)&&Jn(o),o.wv>e.wv)return!0}(!r||V!==null&&!Re)&&ke(e,ce)}return!1}function Ea(e,t){for(var n=t;n!==null;){if((n.f&Et)!==0)try{n.fn(e);return}catch{n.f^=Et}n=n.parent}throw yt=!1,e}function xa(e){return(e.f&Nt)===0&&(e.parent===null||(e.parent.f&Et)===0)}function zt(e,t,n,r){if(yt){if(n===null&&(yt=!1),xa(t))throw e;return}n!==null&&(yt=!0);{Ea(e,t);return}}function fr(e,t,n=!0){var r=e.reactions;if(r!==null)for(var a=0;a<r.length;a++){var o=r[a];se!=null&&se.includes(e)||((o.f&we)!==0?fr(o,t,!1):t===o&&(n?ke(o,Ce):(o.f&ce)!==0&&ke(o,We),Vt(o)))}}function hr(e){var p;var t=oe,n=ve,r=he,a=F,o=Re,s=se,l=U,c=Ee,v=e.f;oe=null,ve=0,he=null,Re=(v&de)!==0&&(Ee||!Ve||F===null),F=(v&(Ae|nt))===0?e:null,se=null,Tn(e.ctx),Ee=!1,Pt++,e.f|=Jt;try{var d=(0,e.fn)(),h=e.deps;if(oe!==null){var u;if(Ot(e,ve),h!==null&&ve>0)for(h.length=ve+oe.length,u=0;u<oe.length;u++)h[ve+u]=oe[u];else e.deps=h=oe;if(!Re)for(u=ve;u<h.length;u++)((p=h[u]).reactions??(p.reactions=[])).push(e)}else h!==null&&ve<h.length&&(Ot(e,ve),h.length=ve);if(pt()&&he!==null&&!Ee&&h!==null&&(e.f&(we|We|Ce))===0)for(u=0;u<he.length;u++)fr(he[u],e);return a!==e&&(Pt++,he!==null&&(r===null?r=he:r.push(...he))),d}finally{oe=t,ve=n,he=r,F=a,Re=o,se=s,Tn(l),Ee=c,e.f^=Jt}}function Ta(e,t){let n=t.reactions;if(n!==null){var r=Br.call(n,e);if(r!==-1){var a=n.length-1;a===0?n=t.reactions=null:(n[r]=n[a],n.pop())}}n===null&&(t.f&we)!==0&&(oe===null||!oe.includes(t))&&(ke(t,We),(t.f&(de|xt))===0&&(t.f^=xt),Kn(t),Ot(t,0))}function Ot(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)Ta(e,n[r])}function _n(e){var t=e.f;if((t&Nt)===0){ke(e,ce);var n=V,r=U,a=Ve;V=e,Ve=!0;try{(t&cn)!==0?ba(e):or(e),ar(e);var o=hr(e);e.teardown=typeof o=="function"?o:null,e.wv=vr;var s=e.deps,l;En&&$r&&e.f&Ce}catch(c){zt(c,e,n,r||e.ctx)}finally{Ve=a,V=n}}}function Ca(){try{Xr()}catch(e){if(Dt!==null)zt(e,Dt,null);else throw e}}function pr(){var e=Ve;try{var t=0;for(Ve=!0;ct.length>0;){t++>1e3&&Ca();var n=ct,r=n.length;ct=[];for(var a=0;a<r;a++){var o=Da(n[a]);La(o)}ut.clear()}}finally{Lt=!1,Ve=e,Dt=null}}function La(e){var t=e.length;if(t!==0)for(var n=0;n<t;n++){var r=e[n];if((r.f&(Nt|Oe))===0)try{_t(r)&&(_n(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null?sr(r):r.fn=null))}catch(a){zt(a,r,null,r.ctx)}}}function Vt(e){Lt||(Lt=!0,queueMicrotask(pr));for(var t=Dt=e;t.parent!==null;){t=t.parent;var n=t.f;if((n&(nt|Ae))!==0){if((n&ce)===0)return;t.f^=ce}}ct.push(t)}function Da(e){for(var t=[],n=e;n!==null;){var r=n.f,a=(r&(Ae|nt))!==0,o=a&&(r&ce)!==0;if(!o&&(r&Oe)===0){if((r&Un)!==0)t.push(n);else if(a)n.f^=ce;else{var s=F;try{F=n,_t(n)&&_n(n)}catch(v){zt(v,n,null,n.ctx)}finally{F=s}}var l=n.first;if(l!==null){n=l;continue}}var c=n.parent;for(n=n.next;n===null&&c!==null;)n=c.next,c=c.parent}return t}function Pa(e){var t;for(Dn();ct.length>0;)Lt=!0,pr(),Dn();return t}async function Oa(){await Promise.resolve(),Pa()}function i(e){var t=e.f,n=(t&we)!==0;if(F!==null&&!Ee){if(!(se!=null&&se.includes(e))){var r=F.deps;e.rv<Pt&&(e.rv=Pt,oe===null&&r!==null&&r[ve]===e?ve++:oe===null?oe=[e]:(!Re||!oe.includes(e))&&oe.push(e))}}else if(n&&e.deps===null&&e.effects===null){var a=e,o=a.parent;o!==null&&(o.f&de)===0&&(a.f^=de)}return n&&(a=e,_t(a)&&Jn(a)),gt&&ut.has(e)?ut.get(e):e.v}function tt(e){var t=Ee;try{return Ee=!0,e()}finally{Ee=t}}const Ma=-7169;function ke(e,t){e.f=e.f&Ma|t}function Aa(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(ze in e)en(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&ze in n&&en(n)}}}function en(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{en(e[r],t)}catch{}const n=ln(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=Hn(n);for(let a in r){const o=r[a].get;if(o)try{o.call(e)}catch{}}}}}const Ba=["touchstart","touchmove"];function Ia(e){return Ba.includes(e)}let On=!1;function Ra(){On||(On=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const n of e.target.elements)(t=n.__on_r)==null||t.call(n)})},{capture:!0}))}function gr(e){var t=F,n=V;Le(null),qe(null);try{return e()}finally{Le(t),qe(n)}}function Na(e,t,n,r=n){e.addEventListener(t,()=>gr(n));const a=e.__on_r;a?e.__on_r=()=>{a(),r(!0)}:e.__on_r=()=>r(!0),Ra()}const _r=new Set,tn=new Set;function qa(e,t,n,r={}){function a(o){if(r.capture||it.call(t,o),!o.cancelBubble)return gr(()=>n==null?void 0:n.call(this,o))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?gn(()=>{t.addEventListener(e,a,r)}):t.addEventListener(e,a,r),a}function Fe(e,t,n,r,a){var o={capture:r,passive:a},s=qa(e,t,n,o);(t===document.body||t===window||t===document)&&fn(()=>{t.removeEventListener(e,s,o)})}function be(e){for(var t=0;t<e.length;t++)_r.add(e[t]);for(var n of tn)n(e)}function it(e){var g;var t=this,n=t.ownerDocument,r=e.type,a=((g=e.composedPath)==null?void 0:g.call(e))||[],o=a[0]||e.target,s=0,l=e.__root;if(l){var c=a.indexOf(l);if(c!==-1&&(t===document||t===window)){e.__root=t;return}var v=a.indexOf(t);if(v===-1)return;c<=v&&(s=c)}if(o=a[s]||e.target,o!==t){Ir(e,"currentTarget",{configurable:!0,get(){return o||n}});var d=F,h=V;Le(null),qe(null);try{for(var u,p=[];o!==null;){var f=o.assignedSlot||o.parentNode||o.host||null;try{var m=o["__"+r];if(m!=null&&(!o.disabled||e.target===o))if(on(m)){var[E,...M]=m;E.apply(o,[e,...M])}else m.call(o,e)}catch(w){u?p.push(w):u=w}if(e.cancelBubble||f===t||f===null)break;o=f}if(u){for(let w of p)queueMicrotask(()=>{throw w});throw u}}finally{e.__root=t,delete e.currentTarget,Le(d),qe(h)}}}function mr(e){var t=document.createElement("template");return t.innerHTML=e,t.content}function ft(e,t){var n=V;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function R(e,t){var n=(t&la)!==0,r=(t&ca)!==0,a,o=!e.startsWith("<!>");return()=>{a===void 0&&(a=mr(o?e:"<!>"+e),n||(a=$e(a)));var s=r||er?document.importNode(a,!0):a.cloneNode(!0);if(n){var l=$e(s),c=s.lastChild;ft(l,c)}else ft(s,s);return s}}function ye(e,t,n="svg"){var r=!e.startsWith("<!>"),a=`<${n}>${r?e:"<!>"+e}</${n}>`,o;return()=>{if(!o){var s=mr(a),l=$e(s);o=$e(l)}var c=o.cloneNode(!0);return ft(c,c),c}}function G(e=""){{var t=jt(e+"");return ft(t,t),t}}function Te(){var e=document.createDocumentFragment(),t=document.createComment(""),n=jt();return e.append(t,n),ft(t,n),e}function k(e,t){e!==null&&e.before(t)}function ot(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function ja(e,t){return Ha(e,t)}const Xe=new Map;function Ha(e,{target:t,anchor:n,props:r={},events:a,context:o,intro:s=!0}){ga();var l=new Set,c=h=>{for(var u=0;u<h.length;u++){var p=h[u];if(!l.has(p)){l.add(p);var f=Ia(p);t.addEventListener(p,it,{passive:f});var m=Xe.get(p);m===void 0?(document.addEventListener(p,it,{passive:f}),Xe.set(p,1)):Xe.set(p,m+1)}}};c(sn(_r)),tn.add(c);var v=void 0,d=ka(()=>{var h=n??t.appendChild(jt());return et(()=>{if(o){Y({});var u=U;u.c=o}a&&(r.$$events=a),v=e(h,r)||{},o&&Z()}),()=>{var f;for(var u of l){t.removeEventListener(u,it);var p=Xe.get(u);--p===0?(document.removeEventListener(u,it),Xe.delete(u)):Xe.set(u,p)}tn.delete(c),h!==n&&((f=h.parentNode)==null||f.removeChild(h))}});return Fa.set(v,d),v}let Fa=new WeakMap;function j(e,t,[n,r]=[0,0]){var a=e,o=null,s=null,l=le,c=n>0?qt:0,v=!1;const d=(u,p=!0)=>{v=!0,h(p,u)},h=(u,p)=>{l!==(l=u)&&(l?(o?Ct(o):p&&(o=et(()=>p(a))),s&&Tt(s,()=>{s=null})):(s?Ct(s):p&&(s=et(()=>p(a,[n+1,r]))),o&&Tt(o,()=>{o=null})))};Ut(()=>{v=!1,t(d),v||h(null,null)},c)}function xe(e,t){Ft(()=>{var n=t();for(var r in n){var a=n[r];a?e.style.setProperty(r,a):e.style.removeProperty(r)}}),fn(()=>{e.remove()})}function Ua(e,t){return t}function za(e,t,n,r){for(var a=[],o=t.length,s=0;s<o;s++)pn(t[s].e,a,!0);var l=o>0&&a.length===0&&n!==null;if(l){var c=n.parentNode;_a(c),c.append(n),r.clear(),Ie(e,t[0].prev,t[o-1].next)}ir(a,()=>{for(var v=0;v<o;v++){var d=t[v];l||(r.delete(d.k),Ie(e,d.prev,d.next)),Me(d.e,!l)}})}function Ne(e,t,n,r,a,o=null){var s=e,l={flags:t,items:new Map,first:null},c=(t&Wn)!==0;if(c){var v=e;s=v.appendChild(jt())}var d=null,h=!1,u=Xn(()=>{var p=n();return on(p)?p:p==null?[]:sn(p)});Ut(()=>{var p=i(u),f=p.length;h&&f===0||(h=f===0,Va(p,l,s,a,t,r,n),o!==null&&(f===0?d?Ct(d):d=et(()=>o(s)):d!==null&&Tt(d,()=>{d=null})),i(u))})}function Va(e,t,n,r,a,o,s){var B,ee,ie,pe;var l=(a&ta)!==0,c=(a&(vn|dn))!==0,v=e.length,d=t.items,h=t.first,u=h,p,f=null,m,E=[],M=[],g,w,_,O;if(l)for(O=0;O<v;O+=1)g=e[O],w=o(g,O),_=d.get(w),_!==void 0&&((B=_.a)==null||B.measure(),(m??(m=new Set)).add(_));for(O=0;O<v;O+=1){if(g=e[O],w=o(g,O),_=d.get(w),_===void 0){var T=u?u.e.nodes_start:n;f=Ya(T,t,f,f===null?t.first:f.next,g,w,O,r,a,s),d.set(w,f),E=[],M=[],u=f.next;continue}if(c&&Wa(_,g,O,a),(_.e.f&Oe)!==0&&(Ct(_.e),l&&((ee=_.a)==null||ee.unfix(),(m??(m=new Set)).delete(_))),_!==u){if(p!==void 0&&p.has(_)){if(E.length<M.length){var L=M[0],A;f=L.prev;var P=E[0],b=E[E.length-1];for(A=0;A<E.length;A+=1)Mn(E[A],L,n);for(A=0;A<M.length;A+=1)p.delete(M[A]);Ie(t,P.prev,b.next),Ie(t,f,P),Ie(t,b,L),u=L,f=b,O-=1,E=[],M=[]}else p.delete(_),Mn(_,u,n),Ie(t,_.prev,_.next),Ie(t,_,f===null?t.first:f.next),Ie(t,f,_),f=_;continue}for(E=[],M=[];u!==null&&u.k!==w;)(u.e.f&Oe)===0&&(p??(p=new Set)).add(u),M.push(u),u=u.next;if(u===null)continue;_=u}E.push(_),f=_,u=_.next}if(u!==null||p!==void 0){for(var C=p===void 0?[]:sn(p);u!==null;)(u.e.f&Oe)===0&&C.push(u),u=u.next;var y=C.length;if(y>0){var N=(a&Wn)!==0&&v===0?n:null;if(l){for(O=0;O<y;O+=1)(ie=C[O].a)==null||ie.measure();for(O=0;O<y;O+=1)(pe=C[O].a)==null||pe.fix()}za(t,C,N,d)}}l&&gn(()=>{var te;if(m!==void 0)for(_ of m)(te=_.a)==null||te.apply()}),V.first=t.first&&t.first.e,V.last=f&&f.e}function Wa(e,t,n,r){(r&vn)!==0&&Qt(e.v,t),(r&dn)!==0?Qt(e.i,n):e.i=n}function Ya(e,t,n,r,a,o,s,l,c,v){var d=(c&vn)!==0,h=(c&na)===0,u=d?h?Qn(a):vt(a):a,p=(c&dn)===0?s:vt(s),f={i:p,v:u,k:o,a:null,e:null,prev:n,next:r};try{return f.e=et(()=>l(e,u,p,v),pa),f.e.prev=n&&n.e,f.e.next=r&&r.e,n===null?t.first=f:(n.next=f,n.e.next=f.e),r!==null&&(r.prev=f,r.e.prev=f.e),f}finally{}}function Mn(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,a=t?t.e.nodes_start:n,o=e.e.nodes_start;o!==r;){var s=Ht(o);a.before(o),o=s}}function Ie(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function mt(e,t,...n){var r=e,a=Fn,o;Ut(()=>{a!==(a=t())&&(o&&(Me(o),o=null),o=et(()=>a(r,...n)))},qt)}function wr(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=wr(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Za(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=wr(e))&&(r&&(r+=" "),r+=t);return r}function K(e){return typeof e=="object"?Za(e):e??""}const An=[...` 	
\r\f \v\uFEFF`];function Xa(e,t,n){var r=e==null?"":""+e;if(t&&(r=r?r+" "+t:t),n){for(var a in n)if(n[a])r=r?r+" "+a:a;else if(r.length)for(var o=a.length,s=0;(s=r.indexOf(a,s))>=0;){var l=s+o;(s===0||An.includes(r[s-1]))&&(l===r.length||An.includes(r[l]))?r=(s===0?"":r.substring(0,s))+r.substring(l+1):s=l}}return r===""?null:r}function Ka(e,t){return e==null?null:String(e)}function W(e,t,n,r,a,o){var s=e.__className;if(s!==n||s===void 0){var l=Xa(n,r,o);l==null?e.removeAttribute("class"):e.className=l,e.__className=n}else if(o&&a!==o)for(var c in o){var v=!!o[c];(a==null||v!==!!a[c])&&e.classList.toggle(c,v)}return o}function Mt(e,t,n,r){var a=e.__style;if(a!==t){var o=Ka(t);o==null?e.removeAttribute("style"):e.style.cssText=o,e.__style=t}return r}const Ga=Symbol("is custom element"),Ja=Symbol("is html");function Wt(e,t){var n=mn(e);n.value===(n.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function Yt(e,t){var n=mn(e);n.checked!==(n.checked=t??void 0)&&(e.checked=t)}function me(e,t,n,r){var a=mn(e);a[t]!==(a[t]=n)&&(t==="loading"&&(e[zr]=n),n==null?e.removeAttribute(t):typeof n!="string"&&Qa(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function mn(e){return e.__attributes??(e.__attributes={[Ga]:e.nodeName.includes("-"),[Ja]:e.namespaceURI===ua})}var Bn=new Map;function Qa(e){var t=Bn.get(e.nodeName);if(t)return t;Bn.set(e.nodeName,t=[]);for(var n,r=e,a=Element.prototype;a!==r;){n=Hn(r);for(var o in n)n[o].set&&t.push(o);r=ln(r)}return t}function wn(e,t,n=t){var r=pt();Na(e,"input",a=>{var o=a?e.defaultValue:e.value;if(o=Zt(e)?Xt(o):o,n(o),r&&o!==(o=t())){var s=e.selectionStart,l=e.selectionEnd;e.value=o??"",l!==null&&(e.selectionStart=s,e.selectionEnd=Math.min(l,e.value.length))}}),tt(t)==null&&e.value&&n(Zt(e)?Xt(e.value):e.value),Ft(()=>{var a=t();Zt(e)&&a===Xt(e.value)||e.type==="date"&&!a&&!e.value||a!==e.value&&(e.value=a??"")})}function Zt(e){var t=e.type;return t==="number"||t==="range"}function Xt(e){return e===""?null:+e}function In(e,t){return e===t||(e==null?void 0:e[ze])===t}function De(e={},t,n,r){return hn(()=>{var a,o;return Ft(()=>{a=o,o=[],tt(()=>{e!==n(...o)&&(t(e,...o),a&&In(n(...a),e)&&t(null,...a))})}),()=>{gn(()=>{o&&In(n(...o),e)&&t(null,...o)})}}),e}function kn(e=!1){const t=U,n=t.l.u;if(!n)return;let r=()=>Aa(t.s);if(e){let a=0,o={};const s=Qe(()=>{let l=!1;const c=t.s;for(const v in c)c[v]!==o[v]&&(o[v]=c[v],l=!0);return l&&a++,a});r=()=>i(s)}n.b.length&&wa(()=>{Rn(t,r),St(n.b)}),_e(()=>{const a=tt(()=>n.m.map(qr));return()=>{for(const o of a)typeof o=="function"&&o()}}),n.a.length&&_e(()=>{Rn(t,r),St(n.a)})}function Rn(e,t){if(e.l.s)for(const n of e.l.s)i(n);t()}let kt=!1;function $a(e){var t=kt;try{return kt=!1,[e(),kt]}finally{kt=t}}function Nn(e){var t;return((t=e.ctx)==null?void 0:t.d)??!1}function re(e,t,n,r){var T;var a=(n&ra)!==0,o=!rt||(n&aa)!==0,s=(n&sa)!==0,l=(n&ia)!==0,c=!1,v;s?[v,c]=$a(()=>e[t]):v=e[t];var d=ze in e||Ur in e,h=s&&(((T=Ge(e,t))==null?void 0:T.set)??(d&&t in e&&(L=>e[t]=L)))||void 0,u=r,p=!0,f=!1,m=()=>(f=!0,p&&(p=!1,l?u=tt(r):u=r),u);v===void 0&&r!==void 0&&(h&&o&&Kr(),v=m(),h&&h(v));var E;if(o)E=()=>{var L=e[t];return L===void 0?m():(p=!0,f=!1,L)};else{var M=(a?Qe:Xn)(()=>e[t]);M.f|=Hr,E=()=>{var L=i(M);return L!==void 0&&(u=void 0),L===void 0?u:L}}if((n&oa)===0)return E;if(h){var g=e.$$legacy;return function(L,A){return arguments.length>0?((!o||!A||g||c)&&h(A?E():L),L):E()}}var w=!1,_=Qn(v),O=Qe(()=>{var L=E(),A=i(_);return w?(w=!1,A):_.v=L});return s&&i(O),a||(O.equals=un),function(L,A){if(arguments.length>0){const P=A?i(O):o&&s?$(L):L;if(!O.equals(P)){if(w=!0,x(_,P),f&&u!==void 0&&(u=P),Nn(O))return L;tt(()=>i(O))}return L}return Nn(O)?O.v:i(O)}}function Pe(e){U===null&&Yn(),rt&&U.l!==null?eo(U).m.push(e):_e(()=>{const t=tt(e);if(typeof t=="function")return t})}function eo(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const to="5";var jn;typeof window<"u"&&((jn=window.__svelte??(window.__svelte={})).v??(jn.v=new Set)).add(to);let lt=I("");function no(e){x(lt,e,!0)}var ro=R('<div class="notification svelte-1h5k2zn"> </div>');function ao(e,t){Y(t,!0),_e(()=>{i(lt);const o=setTimeout(()=>{x(lt,"")},800);return()=>{clearTimeout(o)}});var n=Te(),r=z(n);{var a=o=>{var s=ro(),l=S(s);Q(()=>ot(l,i(lt))),k(o,s)};j(r,o=>{i(lt)&&o(a)})}k(e,n),Z()}var oo=R('<span class="vh svelte-14jjkpd"> </span>');function ht(e,t){var n=oo(),r=S(n);Q(()=>ot(r,t.children)),k(e,n)}ea();var so=ye('<svg width="24" height="24" viewBox="0 0 0.72 0.72" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-1lqi79o"><path d="M.16.26h.4m-.4.2h.4M.11.26h.5m-.5.2h.5m-.4.15.1-.5m.1.5.1-.5" stroke="currentColor" stroke-width=".1" stroke-linecap="round" stroke-linejoin="round"></path></svg>');function io(e){var t=so();k(e,t)}var lo=ye('<svg viewBox="0 0 13.229 13.229" xmlns="http://www.w3.org/2000/svg" class="svelte-1lqi79o"><path style="fill:currentColor;stroke-width:.579737" d="M5.82 2.381h1.588v8.467H5.821Z"></path><path style="fill:currentColor;stroke-width:.579328" d="M10.848 5.822v1.586H2.38V5.82Z"></path></svg>');function co(e){var t=lo();k(e,t)}var uo=ye('<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-1lqi79o"><path fill-rule="evenodd" clip-rule="evenodd" d="M14.279 2.152C13.909 2 13.439 2 12.5 2s-1.409 0-1.779.152a2.008 2.008 0 0 0-1.09 1.083c-.094.223-.13.484-.145.863a1.615 1.615 0 0 1-.796 1.353 1.64 1.64 0 0 1-1.579.008c-.338-.178-.583-.276-.825-.308a2.026 2.026 0 0 0-1.49.396c-.318.242-.553.646-1.022 1.453-.47.807-.704 1.21-.757 1.605-.07.526.074 1.058.4 1.479.148.192.357.353.68.555.477.297.783.803.783 1.361 0 .558-.306 1.064-.782 1.36-.324.203-.533.364-.682.556-.325.421-.469.953-.399 1.479.053.394.287.798.757 1.605.47.807.704 1.21 1.022 1.453.424.323.96.465 1.49.396.242-.032.487-.13.825-.308a1.64 1.64 0 0 1 1.58.008c.486.28.774.795.795 1.353.015.38.051.64.145.863.204.49.596.88 1.09 1.083.37.152.84.152 1.779.152s1.409 0 1.779-.152a2.008 2.008 0 0 0 1.09-1.083c.094-.223.13-.483.145-.863.02-.558.309-1.074.796-1.353a1.64 1.64 0 0 1 1.579-.008c.338.178.583.276.825.308.53.07 1.066-.073 1.49-.396.318-.242.553-.646 1.022-1.453.47-.807.704-1.21.757-1.605a1.99 1.99 0 0 0-.4-1.479c-.148-.192-.357-.353-.68-.555-.477-.297-.783-.803-.783-1.361 0-.558.306-1.064.782-1.36.324-.203.533-.364.682-.556a1.99 1.99 0 0 0 .399-1.479c-.053-.394-.287-.798-.757-1.605-.47-.807-.704-1.21-1.022-1.453a2.026 2.026 0 0 0-1.49-.396c-.242.032-.487.13-.825.308a1.64 1.64 0 0 1-1.58-.008 1.615 1.615 0 0 1-.795-1.353c-.015-.38-.051-.64-.145-.863a2.007 2.007 0 0 0-1.09-1.083ZM12.5 15c1.67 0 3.023-1.343 3.023-3S14.169 9 12.5 9c-1.67 0-3.023 1.343-3.023 3s1.354 3 3.023 3Z" fill="currentColor"></path></svg>');function kr(e){var t=uo();k(e,t)}var vo=ye('<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-1lqi79o"><path d="M4 6h16M4 12h16M4 18h16" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>');function fo(e){var t=vo();k(e,t)}const H=$({pathname:window.location.pathname,search:window.location.search,historyLength:0}),br=()=>{var e;return((e=new URLSearchParams(H.search).get("selectedTags"))==null?void 0:e.split(","))||[]};let bt=br();const ho=()=>{const e=br();return e.join(",")===bt.join(",")||(bt=e),bt},po=()=>{H.pathname=document.location.pathname,H.search=document.location.search,H.historyLength=Math.max(0,H.historyLength-=1)};window.addEventListener("popstate",po);const At=e=>{const[t,n]=e.split("?");H.pathname=t,H.search=n?`?${n}`:"",H.historyLength+=1,window.history.pushState(null,"",e)},go=e=>{const[t,n]=e.split("?");H.pathname=t,H.search=n?`?${n}`:"",window.history.replaceState(null,"",e)},wt=(e="/")=>{const[t,n]=e.split("?");H.historyLength<=0?(window.history.replaceState(null,"",e),H.historyLength=0,H.pathname=t,H.search=n?`?${n}`:""):window.history.back()},yr=(e,t)=>{if(!t)return e;if(t.type==="closed")return{type:"closed"};switch(e.type){case"opened":return t.type==="close"?{type:"closing"}:t.type==="swipe"?{type:"openSwiping"}:e;case"closed":return t.type==="open"?{type:"opening"}:t.type==="swipe"?{type:"closeSwiping"}:e;case"openSwiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"closeSwiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"opening":return t.type==="opened"?{type:"opened"}:e;default:return e}};let nn=I($(yr({type:"closed"})));const Ke=e=>{x(nn,yr(i(nn),e),!0)},_o=()=>i(nn),mo=()=>{Ke({type:"open"})},je=()=>{var e;return((e=new URLSearchParams(H.search).get("stackPages"))==null?void 0:e.split(","))||[]};let Je=I($(je()));const st=e=>{const t=je();t.push(e);const n=new URLSearchParams(H.search);n.set("stackPages",t.join(",")),x(Je,t,!0),At(`${H.pathname}?${n.toString()}`)},wo=()=>{const e=i(Je).slice(0,-1);x(Je,e,!0)},ko=()=>{const e=je();return e.length>=i(Je).length?e.reduce((t,n)=>[...t,{page:n,shown:!0}],[]):i(Je).reduce((t,n,r)=>[...t,{page:n,shown:r!==i(Je).length-1}],[])},bo=()=>{mo()},yo=e=>{e.preventDefault(),st("settings")},So=e=>{e.preventDefault(),At("/")},Eo=e=>{e.preventDefault(),st("newBookmark")};var xo=R('<a href="/"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Home</span></a>'),To=R('<a class="link svelte-e5g06v"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Settings</span></a>'),Co=R('<a class="addBookmark svelte-e5g06v"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Add bookmark</span></a>'),Lo=R('<div class="header svelte-e5g06v"><div class="top svelte-e5g06v"><div class="desktop svelte-e5g06v"><!></div> <div class="mobile svelte-e5g06v"><button class="buttonMenu svelte-e5g06v"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button></div> <!></div></div>');function Do(e,t){Y(t,!0);const n=()=>{const g=je();g.includes("settings")||g.push("settings");const w=new URLSearchParams(H.search);return w.set("stackPages",g.join(",")),`${H.pathname}?${w}`};let a=J(()=>{const g=je();g.includes("newBookmark")||g.push("newBookmark");const w=new URLSearchParams(H.search);return w.set("stackPages",g.join(",")),`${H.pathname}?${w}`}),o=J(n);var s=Lo(),l=S(s),c=S(l),v=S(c);{var d=g=>{var w=xo();w.__click=[So],W(w,1,K(["link","hash"]),"svelte-e5g06v");var _=S(w);xe(_,()=>({"--size":"20px"})),io(_.lastChild),k(g,w)},h=g=>{var w=To();w.__click=[yo];var _=S(w);xe(_,()=>({"--size":"20px"})),kr(_.lastChild),Q(()=>me(w,"href",i(o))),k(g,w)};j(v,g=>{H.pathname==="/settings"?g(d):g(h,!1)})}var u=D(c,2),p=S(u);p.__click=[bo];var f=S(p);xe(f,()=>({"--size":"36px"})),fo(f.lastChild);var m=D(f,2);ht(m,{children:(g,w)=>{var _=G("Menu");k(g,_)}});var E=D(u,2);{var M=g=>{var w=Co();w.__click=[Eo];var _=S(w);xe(_,()=>({"--size":"24px","--color":"#b0b0b0"})),co(_.lastChild),Q(()=>me(w,"href",i(a))),k(g,w)};j(E,g=>{H.pathname!=="/settings"&&g(M)})}k(e,s),Z()}be(["click"]);var Po=ye('<svg viewBox="0 0 5.292 5.292" xmlns="http://www.w3.org/2000/svg" class="svelte-1lqi79o"><path style="fill:currentColor;stroke-width:.374736" transform="scale(1.02869 .97047) rotate(45)" d="M2.678-1.906h.514V1.18h-.514z"></path><path style="fill:currentColor;stroke-width:.374736" transform="scale(-1.02869 -.97047) rotate(-45)" d="M.664-5.762h.514v3.086H.664z"></path></svg>');function Oo(e){var t=Po();k(e,t)}const Bt=$({working:!1});var Mo=ye('<svg viewBox="0 0 5.292 5.292" xmlns="http://www.w3.org/2000/svg" class="svelte-1lqi79o"><path style="fill:currentColor;stroke-width:.584099" transform="rotate(45)" d="M3.341-2.405h.802v4.811h-.802z"></path><path style="fill:currentColor;stroke-width:.584099" transform="rotate(135)" d="M-.401-6.147h.802v4.811h-.802z"></path></svg>');function Ao(e){var t=Mo();k(e,t)}const Bo=({getDialog:e,getDialogInner:t,onClose:n})=>{const r=a=>{const o=e(),s=t();a.target&&(o!=null&&o.open)&&s&&s!==a.target&&!s.contains(a.target)&&n()};Pe(()=>(document.addEventListener("mousedown",r,{capture:!0}),()=>{document.removeEventListener("mousedown",r,{capture:!0})}))},Io=({getDialog:e,getDialogInner:t,onOpen:n,onStartClose:r,onClose:a})=>{Bo({getDialog:e,getDialogInner:t,onClose:r});const o=l=>{l.preventDefault(),r()},s=()=>{a==null||a()};Pe(()=>{const l=e();return l==null||l.addEventListener("close",s),l==null||l.addEventListener("cancel",o),()=>{l==null||l.removeEventListener("close",s),l==null||l.removeEventListener("cancel",o)}}),Pe(()=>{const l=e();l==null||l.showModal(),l==null||l.getBoundingClientRect(),n()})};var Ro=(e,t)=>{t.onStartClose()},No=(e,t)=>{t.onStartClose()},qo=R('<dialog><div class="dialogInner svelte-x4po9n"><span tabindex="1"></span> <!> <div class="header svelte-x4po9n"><div><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button></div> <div><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button></div></div></div></dialog>');function jo(e,t){Y(t,!0);let n=re(t,"hiddenDialog",3,!1),r=re(t,"isDesktopAnimationOff",3,!1),a=I(null),o=I(null);Io({getDialog:()=>i(a),getDialogInner:()=>i(o),onOpen:t.onOpen,onStartClose:t.onStartClose,onClose:t.onClose}),_e(()=>{var g,w;t.stateDialog==="closing"&&(Bt.working?(g=i(a))==null||g.addEventListener("transitionend",()=>{var _;(_=i(a))==null||_.close()},{once:!0}):(w=i(a))==null||w.close())});var s=qo(),l=S(s),c=D(S(l),2);mt(c,()=>t.children);var v=D(c,2),d=S(v),h=S(d);W(h,1,K(["navigateButton","buttonBack"]),"svelte-x4po9n"),h.__click=[Ro,t];var u=S(h);xe(u,()=>({"--size":"20px"})),Oo(u.lastChild);var p=D(u,2);ht(p,{children:(g,w)=>{var _=G("back");k(g,_)}});var f=D(d,2),m=S(f);W(m,1,K(["navigateButton","buttonClose"]),"svelte-x4po9n"),m.__click=[No,t];var E=S(m);xe(E,()=>({"--size":"20px"})),Ao(E.lastChild);var M=D(E,2);ht(M,{children:(g,w)=>{var _=G("close");k(g,_)}}),De(l,g=>x(o,g),()=>i(o)),De(s,g=>x(a,g),()=>i(a)),Q(()=>W(s,1,K([{open:t.stateDialog==="open",isAnimationOn:Bt.working,isDesktopAnimationOff:r(),hiddenDialog:n()}]),"svelte-x4po9n")),k(e,s),Z()}be(["click"]);const Ho=({onStartClose:e,onClose:t})=>{let n=I("close");return{get state(){return i(n)},set state(s){x(n,s,!0)},handleStartClose:(s=!1)=>{s||(x(n,"closing"),e==null||e())},handleOpen:()=>{x(n,"open")},handleClose:()=>{x(n,"close"),t==null||t()}}};function Sr(e,t){Y(t,!0);let n=re(t,"blockedClose",3,!1),r=re(t,"hiddenDialog",3,!1),a=re(t,"onStartClose",3,()=>{}),o=re(t,"onClose",3,()=>{}),s=Ho({onStartClose:a(),onClose:o()});_e(()=>{s.state==="close"&&t.shownDialog?s.state="opening":s.state==="open"&&!t.shownDialog&&s.handleStartClose(n())});var l=Te(),c=z(l);{var v=d=>{jo(d,{get stateDialog(){return s.state},get hiddenDialog(){return r()},get onOpen(){return s.handleOpen},onStartClose:()=>s.handleStartClose(n()),get onClose(){return s.handleClose},children:(h,u)=>{var p=Te(),f=z(p);mt(f,()=>t.children),k(h,p)},$$slots:{default:!0}})};j(c,d=>{s.state!=="close"&&d(v)})}k(e,l),Z()}function Fo(e,t){Y(t,!0),Sr(e,{get shownDialog(){return t.shown},get blockedClose(){return t.hidden},get hiddenDialog(){return t.hidden},onStartClose:()=>{wt()},onClose:()=>{wo()},children:(a,o)=>{var s=Te(),l=z(s);mt(l,()=>t.children),k(a,s)},$$slots:{default:!0}}),Z()}const Er=()=>crypto.randomUUID(),rn=(e,t,n,r=new Set)=>{var a,o;for(const s of e.children)if(s.tagName==="DT"){const l=s.querySelector(":scope > A"),c=s.querySelector(":scope > H3");if(l){const v=l.getAttribute("href"),d=Number.parseInt(l.getAttribute("add_date")||"0",10)*1e3||Date.now(),h=Number.parseInt(l.getAttribute("last_modified")||"0",10)*1e3||Date.now(),u=l.textContent||"unknown";if(!v)return n;const p=t.includes("Bookmarks bar")?t.filter(m=>m!=="Bookmarks bar"):["other"],f={id:Er(),order:n.length,url:v,title:u,description:"",tags:p.length>0?p:[],lastUpdatedTimestamp:d,createdTimestamp:h};n.push(f)}else if(c){const v=(a=c.textContent)==null?void 0:a.trim();if(v&&((o=c.nextElementSibling)==null?void 0:o.tagName)==="DL"){const d=[...t];d.push(v);const h=c.nextElementSibling;r.has(h)||(r.add(h),rn(h,d,n,r))}}}else s.tagName!=="DL"&&s.children.length>0&&(r.has(s)||(r.add(s),rn(s,[...t],n,r)));return n},Uo=async e=>{const t=await e.text(),a=new DOMParser().parseFromString(t,"text/html").querySelector("DL");return a?rn(a,[],[]):[]},zo=e=>{const t=Math.floor(Date.now()/1e3),n={};e.forEach(a=>{const o=a.tags||["Imported"];if(o.length===0){n.ROOT||(n.ROOT=[]),n.ROOT.push(a);return}o.forEach(s=>{n[s]||(n[s]=[]),n[s].push(a)})});let r=`<!DOCTYPE NETSCAPE-Bookmark-file-1>
<!-- This is an automatically generated file.
 It will be read and overwritten.
 DO NOT EDIT! -->
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8">
<TITLE>Bookmarks</TITLE>
<H1>Bookmarks</H1>
<DL><p>
<DT><H3 ADD_DATE="${t}" LAST_MODIFIED="${t}" PERSONAL_TOOLBAR_FOLDER="true">Bookmarks bar</H3>
<DL><p>`;return Object.keys(n).forEach(a=>{a!=="ROOT"&&a!=="other"&&(r+=`
	<DT><H3 ADD_DATE="${t}" LAST_MODIFIED="${t}">${a}</H3>
	<DL><p>`,n[a].forEach(o=>{const s=o.title.replace(/"/g,"&quot;");r+=`
		<DT><A HREF="${o.url}" ADD_DATE="${Math.floor(o.createdTimestamp/1e3)||t}">${s}</A>`}),r+=`
	</DL><p>`)}),n.ROOT&&n.ROOT.forEach(a=>{const o=a.title.replace(/"/g,"&quot;");r+=`
	<DT><A HREF="${a.url}" ADD_DATE="${Math.floor(a.createdTimestamp/1e3)||t}">${o}</A>`}),r+=`
</DL><p>`,n.other&&n.other.forEach(a=>{const o=a.title.replace(/"/g,"&quot;");r+=`
	<DT><A HREF="${a.url}" ADD_DATE="${Math.floor(a.createdTimestamp/1e3)||t}">${o}</A>`}),r+="</DL><p>",r},Vo="bookmarksStore",Wo=1,ue="bookmarks";let X;window.addEventListener("unhandledrejection",e=>{alert("Error: "+e.reason.message)});const Yo=()=>new Promise((e,t)=>{const n=indexedDB.open(Vo,Wo);n.addEventListener("upgradeneeded",()=>{const r=n.result;console.log("success upgradeneeded"),r.objectStoreNames.contains(ue)||r.createObjectStore(ue,{keyPath:"id"})}),n.addEventListener("success",()=>{console.log("success open"),e(),X=n.result,X.onversionchange=function(){X==null||X.close(),alert("app outdated, please reload the page")}}),n.addEventListener("blocked",()=>{t(),alert("app outdated, please reload the page")}),n.addEventListener("error",()=>{t(),console.error("Error",n.error)})}),xr=()=>new Promise((e,t)=>{const n=X==null?void 0:X.transaction(ue,"readonly"),r=n==null?void 0:n.objectStore(ue).getAll();r==null||r.addEventListener("success",()=>{const a=r.result;e(a)}),r==null||r.addEventListener("error",()=>{t()})}),Zo=async e=>new Promise((t,n)=>{const r=X==null?void 0:X.transaction(ue,"readwrite"),a=r==null?void 0:r.objectStore(ue),o=a==null?void 0:a.put({...e});o==null||o.addEventListener("success",()=>{t()}),o==null||o.addEventListener("error",()=>{n()})}),Xo=async e=>new Promise((t,n)=>{const r=X==null?void 0:X.transaction(ue,"readwrite"),a=r==null?void 0:r.objectStore(ue),o=a==null?void 0:a.delete(e);o==null||o.addEventListener("success",()=>{t()}),o==null||o.addEventListener("error",()=>{n()})}),Ko=()=>new Promise((e,t)=>{const n=X==null?void 0:X.transaction(ue,"readwrite"),r=n==null?void 0:n.objectStore(ue),a=r==null?void 0:r.clear();a==null||a.addEventListener("success",()=>{e()}),a==null||a.addEventListener("error",()=>{t()})}),Go=async()=>{await Ko()},Jo=async e=>{const t=(await xr()).reduce((o,s)=>(o[s.id]=s,o),{}),n={},r=X==null?void 0:X.transaction(ue,"readwrite"),a=r==null?void 0:r.objectStore(ue);e.forEach(o=>{t[o.id]?t[o.id].lastUpdatedTimestamp<o.lastUpdatedTimestamp&&(n[o.id]=o):n[o.id]=o}),await Promise.all(Object.values(n).map(o=>{const s=a==null?void 0:a.put(o);return new Promise((l,c)=>{s==null||s.addEventListener("success",()=>{l()}),s==null||s.addEventListener("error",()=>{c()})})}))},Qo=async e=>{const t=X==null?void 0:X.transaction(ue,"readwrite"),n=t==null?void 0:t.objectStore(ue);await Promise.all(Array.from({length:1e4},(r,a)=>{const o=[];for(let c=0;c<Math.random()*4;c++){const v=(Math.random()*100).toFixed();o.includes(v)||o.push(v)}const s={...e,order:a,id:Er(),createdTimestamp:Date.now(),lastUpdatedTimestamp:Date.now(),title:o.join("#"),tags:o},l=n==null?void 0:n.put(s);return new Promise((c,v)=>{l==null||l.addEventListener("success",()=>{a%1e4===0&&console.log(`bookmark ${a} done`),c()}),l==null||l.addEventListener("error",()=>{console.log(`bookmark ${a} error`),v()})})}))};let ae=I({inited:!1,bookmarks:[],mapBookmarks:new Map});const bn=async()=>{const e=await xr(),t=new Map,n=[];e.forEach(r=>{n[r.order]=r,t.set(r.id,r)}),x(ae,{...i(ae),bookmarks:n,mapBookmarks:t,inited:!0})};Yo().then(async()=>{await bn()}).catch(()=>{console.error("failed to init db")});const It=()=>i(ae).inited,Tr=()=>i(ae).bookmarks,$o=()=>i(ae).mapBookmarks,es=async e=>{const t={...e,lastUpdatedTimestamp:Date.now()};i(ae).bookmarks[t.order]=t,i(ae).mapBookmarks.set(t.id,t),x(ae,{...i(ae)}),await Zo(t)},ts=async e=>{await Qo(e),await bn()},ns=async e=>{const t=i(ae).mapBookmarks.get(e);i(ae).mapBookmarks.delete(e),i(ae).bookmarks[(t==null?void 0:t.order)||0]=void 0,x(ae,{...i(ae)}),await Xo(e)},rs=async()=>{x(ae,{inited:!1,bookmarks:[],mapBookmarks:new Map}),await Go()},as=async(e="bookmarks-export.json")=>{const t=JSON.stringify({bookmarks:i(ae).bookmarks}),n=new Blob([t],{type:"application/json"}),r=URL.createObjectURL(n),a=document.createElement("a");a.href=r,a.download=e,document.body.appendChild(a),a.click(),setTimeout(()=>{document.body.removeChild(a),URL.revokeObjectURL(r)},0)},qn=async e=>{await Jo(e),await bn()};let Cr=I({});const Lr=()=>i(Cr),os=e=>{x(Cr,e)};var ss=R('<input class="svelte-1jzizl8">');function an(e,t){Y(t,!0);let n=re(t,"value",15,"");var r=ss();Q(()=>me(r,"placeholder",t.placeholder)),wn(r,n),k(e,r),Z()}function is(e,t){Y(t,!0),Pe(()=>{const n=r=>{var a;r.target&&((a=t.dialog)!=null&&a.open)&&t.dialogInner&&t.dialogInner!==r.target&&!t.dialogInner.contains(r.target)&&t.onClose()};return document.addEventListener("mousedown",n,{capture:!0}),()=>{document.removeEventListener("mousedown",n,{capture:!0})}}),Z()}function ls(e,t){Y(t,!0);let n=re(t,"dialog",7);const r=3,a=50,o=5,s=.6,l=.3,c=.2,v=.95;let d=0,h=0,u=0,p=!1,f=!1,m=0,E=0,M=0;const g=()=>{d=0,h=0,p=!1,f=!1,m=0,E=0,M=0,u=0},w=C=>{if(!n()){console.warn("Touch start: No dialog element");return}if(t.sidebarState!=="opened"&&t.sidebarState!=="closed"){console.warn(`Touch start: Invalid sidebar state: ${t.sidebarState}`);return}d=C.touches[0].clientX,h=C.touches[0].clientY,u=performance.now(),p=!0,f=!1},_=C=>t.sidebarState==="closed"&&C>0||t.sidebarState==="closeSwiping"&&C>0||t.sidebarState==="opened"&&C<0||t.sidebarState==="openSwiping"&&C<0,O=C=>{if(n()){if(n().style.setProperty("--transition-timing","0s"),!n().open&&t.sidebarState==="closed")try{n().showModal(),n().offsetWidth}catch(y){console.error("Error opening dialog:",y);return}t.onSwipe();try{const y=window.getComputedStyle(n()),N=y.transform||y.webkitTransform||"";if(E=n().offsetWidth,t.sidebarState==="closeSwiping"||t.sidebarState==="closed"?m=-E:(t.sidebarState==="openSwiping"||t.sidebarState==="opened")&&(m=0),N&&N!=="none")try{m=new DOMMatrix(N).m41}catch{console.warn("Could not parse transform matrix, using default position")}f=!0}catch(y){console.error("Error during swipe initialization:",y),g()}}},T=()=>{if(!n())return;const y=Math.abs(m+M*E/100)/E;n().style.setProperty("--backdrop-bg",`rgba(0, 0, 0, ${.25*(1-y)})`)},L=C=>{if(!p)return;const y=C.touches[0].clientX,N=C.touches[0].clientY,B=y-d,ee=N-h,ie=Math.abs(B)>Math.abs(ee),pe=Math.abs(B)>r;if(!f)if(ie&&pe&&_(B))try{O(B)}catch(Ye){console.error("Error initializing swipe:",Ye),g();return}else return;if(!n()||(f&&ie&&C.preventDefault(),!_(B)))return;let te=m+B*v;const fe=-E;te=Math.max(fe,Math.min(0,te)),n().style.transform=`translate3d(${te}px, 0, 0)`,M=(te-m)/E*100,T()},A=C=>{const y=Math.abs(C);if(y>=s)return o;if(y>=l){const N=(y-l)/(s-l);return a-N*(a-o)}else return a},P=(C,y)=>{if(Math.abs(C)>=s)return c*.5;const B=Math.abs(M)/100;return y?c*Math.max(.5,1-B):c*Math.max(.5,B)},b=C=>{var pe,te;if(!p||!n()){g();return}if(!f){g();return}let y=0;if((pe=C==null?void 0:C.changedTouches)!=null&&pe[0]){const fe=C.changedTouches[0].clientX,Ye=performance.now()-u;Ye>0&&(y=(fe-d)/Ye)}const N=A(y);let B=null;t.sidebarState==="closeSwiping"?B=Math.abs(M)>N||y>l?"open":"close":t.sidebarState==="openSwiping"&&(B=Math.abs(M)>N||y<-.3?"close":"open");const ee=t.sidebarState==="closeSwiping"&&B==="open"||t.sidebarState==="openSwiping"&&B==="close",ie=P(y,ee);n().style.setProperty("--transition-timing",`${ie}s`),n().addEventListener("transitionend",()=>{var fe;(fe=n())==null||fe.style.removeProperty("--transition-timing")},{once:!0}),n().offsetWidth,n().style.transform="",B==="open"?t.onOpen():B==="close"&&t.onClose(),(te=n())==null||te.style.removeProperty("--backdrop-bg"),g()};Pe(()=>(document.addEventListener("touchstart",w,{passive:!0}),document.addEventListener("touchmove",L,{passive:!1}),document.addEventListener("touchend",b,{passive:!0}),document.addEventListener("touchcancel",b,{passive:!0}),()=>{document.removeEventListener("touchstart",w),document.removeEventListener("touchmove",L),document.removeEventListener("touchend",b),document.removeEventListener("touchcancel",b)})),Z()}function cs(){const e=navigator.userAgent;if(!(/iPad|iPhone|iPod/.test(e)&&!window.MSStream))return!1;const n=/Safari/.test(e)&&!/Chrome/.test(e)&&!/CriOS/.test(e)&&!/FxiOS/.test(e),r=/Macintosh/.test(e)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>1;return!!n||!!r}const Dr=cs();var us=R('<dialog><div class="dialogInner svelte-i6b3gk"><!></div></dialog> <!> <!>',1);function vs(e,t){Y(t,!0);let n=200,r=I(null),a=I(null),o=J(_o);const s=()=>{t.blocked||Ke({type:"close"})},l=()=>{t.blocked||Ke({type:"open"})},c=()=>{Ke({type:"opened"})},v=()=>{Ke({type:"closed"})},d=()=>{Ke({type:"swipe"})},h=T=>{T.preventDefault(),s()};Pe(()=>{var T,L;return(T=i(r))==null||T.addEventListener("close",v),(L=i(r))==null||L.addEventListener("cancel",h),()=>{var A,P;(A=i(r))==null||A.removeEventListener("close",v),(P=i(r))==null||P.removeEventListener("cancel",h)}});const u=()=>{var T,L,A;(T=i(r))==null||T.style.removeProperty("--transition-timing"),(L=i(r))==null||L.style.removeProperty("transform"),(A=i(r))==null||A.style.removeProperty("--backdrop-bg")};_e(()=>{var T,L,A;if(i(o),console.log(i(o).type),!!i(r))switch(i(o).type){case"closeSwiping":{const P=setTimeout(()=>{s()},3e3);return()=>{clearTimeout(P)}}case"openSwiping":{const P=setTimeout(()=>{l()},3e3);return()=>{clearTimeout(P)}}case"opening":{i(r).open||i(r).showModal(),i(r).getBoundingClientRect();const P=setTimeout(()=>{u()},n+1),b=()=>{clearTimeout(P),u()};return(T=i(r))==null||T.addEventListener("transitionend",b,{once:!0}),c(),()=>{var C;(C=i(r))==null||C.removeEventListener("transitionend",b)}}case"closing":{const P=setTimeout(()=>{i(o).type==="closing"&&v()},n+1),b=()=>{clearTimeout(P),v()};return(L=i(r))==null||L.addEventListener("transitionend",b,{once:!0}),()=>{var C;(C=i(r))==null||C.removeEventListener("transitionend",b)}}case"closed":(A=i(r))==null||A.close(),u();break}});var p=us(),f=z(p);Mt(f,`--transition-timing-default: ${n}ms`);var m=S(f),E=S(m);{var M=T=>{var L=Te(),A=z(L);mt(A,()=>t.children),k(T,L)};j(E,T=>{i(o).type!=="closed"&&T(M)})}De(m,T=>x(a,T),()=>i(a)),De(f,T=>x(r,T),()=>i(r));var g=D(f,2);{var w=T=>{is(T,{get dialog(){return i(r)},get dialogInner(){return i(a)},onClose:s})};j(g,T=>{i(o).type==="opened"&&!t.blocked&&T(w)})}var _=D(g,2);{var O=T=>{ls(T,{onClose:s,onOpen:l,onSwipe:d,get sidebarState(){return i(o).type},get dialog(){return i(r)}})};j(_,T=>{(i(o).type==="closed"&&Dr||i(o).type==="opened"||i(o).type==="openSwiping"||i(o).type==="closeSwiping")&&!t.blocked&&T(O)})}Q(()=>W(f,1,K([{open:i(o).type==="opened",hidden:t.blocked}]),"svelte-i6b3gk")),k(e,p),Z()}const Pr=()=>window.matchMedia("(max-width: 768px)").matches;let Or=I($(Pr()));const ds=(e,t)=>{let n=null;return()=>{n&&clearTimeout(n),n=setTimeout(()=>{e()},t)}},fs=ds(()=>{x(Or,Pr(),!0)},16);window.addEventListener("resize",fs);const hs=()=>i(Or);var ps=R("<button> </button>");function Ue(e,t){var n=ps();n.__click=function(...a){var o;(o=t.onClick)==null||o.apply(this,a)};var r=S(n);Q(()=>{me(n,"type",t.type),W(n,1,K([{selectedTag:t.style==="selected"}]),"svelte-1ik9jr8"),ot(r,t.title)}),k(e,n)}be(["click"]);const gs=e=>{e.preventDefault(),st("settings")};var _s=R("<div></div>"),ms=R('<div class="sidebarFixed svelte-1veldp1"><a class="link svelte-1veldp1"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Settings</span></a> <div class="searchWrapper svelte-1veldp1"><!></div> <!></div> <div class="tags svelte-1veldp1"></div>',1),ws=R("<div></div>"),ks=R('<div class="sidebar svelte-1veldp1"><div class="sidebarFixed svelte-1veldp1"><div class="searchWrapper svelte-1veldp1"><!></div> <!></div> <div class="tags svelte-1veldp1"></div></div>');function bs(e,t){Y(t,!0);let n=I(""),r=J(()=>{var f;return((f=new URLSearchParams(H.search).get("selectedTags"))==null?void 0:f.split(","))||[]});const a=()=>{const f=je();f.includes("settings")||f.push("settings");const m=new URLSearchParams(H.search);return m.set("stackPages",f.join(",")),`${H.pathname}?${m}`},o=f=>{const m=new URLSearchParams(H.search);m.set("selectedTags",[...i(r),f].join(",")),At(`${H.pathname}${m.size>0?`?${m.toString()}`:""}`),x(n,"")},s=f=>{const m=new URLSearchParams(H.search),E=i(r).filter(M=>M!==f);E.length===0?m.delete("selectedTags"):m.set("selectedTags",E.join(",")),At(`${H.pathname}${m.size>0?`?${m.toString()}`:""}`)};let l=J(()=>It()?Object.values(Lr()).filter(f=>!i(r).some(m=>f.name===m)):[]),c=J(a),v=J(()=>je().length>0);var d=Te(),h=z(d);{var u=f=>{vs(f,{get blocked(){return i(v)},children:(m,E)=>{var M=ms(),g=z(M),w=S(g);w.__click=[gs];var _=S(w);xe(_,()=>({"--size":"20px"})),kr(_.lastChild);var O=D(w,2),T=S(O);an(T,{placeholder:"Search tag",get value(){return i(n)},set value(b){x(n,b,!0)}});var L=D(O,2);{var A=b=>{var C=_s();W(C,1,K(["tags","selectedTags"]),"svelte-1veldp1"),Ne(C,20,()=>i(r),y=>y,(y,N)=>{Ue(y,{get title(){return N},onClick:()=>s(N),style:"selected"})}),k(b,C)};j(L,b=>{i(r).length>0&&b(A)})}var P=D(g,2);Ne(P,21,()=>i(l),b=>b.name,(b,C)=>{var y=Te(),N=z(y);{var B=ee=>{Ue(ee,{get title(){return i(C).name},onClick:()=>o(i(C).name)})};j(N,ee=>{(i(n)===""||i(C).name.toLowerCase().indexOf(i(n).toLowerCase())!==-1)&&ee(B)})}k(b,y)}),Q(()=>me(w,"href",i(c))),k(m,M)},$$slots:{default:!0}})},p=f=>{var m=ks(),E=S(m),M=S(E),g=S(M);an(g,{placeholder:"Search tag",get value(){return i(n)},set value(T){x(n,T,!0)}});var w=D(M,2);{var _=T=>{var L=ws();W(L,1,K(["tags","selectedTags"]),"svelte-1veldp1"),Ne(L,20,()=>i(r),A=>A,(A,P)=>{Ue(A,{get title(){return P},onClick:()=>s(P),style:"selected"})}),k(T,L)};j(w,T=>{i(r).length>0&&T(_)})}var O=D(E,2);Ne(O,21,()=>i(l),T=>T.name,(T,L)=>{var A=Te(),P=z(A);{var b=C=>{Ue(C,{get title(){return i(L).name},onClick:()=>o(i(L).name)})};j(P,C=>{(i(n)===""||i(L).name.toLowerCase().indexOf(i(n).toLowerCase())!==-1)&&C(b)})}k(T,A)}),k(f,m)};j(h,f=>{hs()?f(u):f(p,!1)})}k(e,d),Z()}be(["click"]);var ys=R('<div class="input-container svelte-1pvj8hs"><input> <div class="error-message svelte-1pvj8hs"><!></div></div>');function Kt(e,t){Y(t,!0);let n=re(t,"value",15,""),r=re(t,"error",3,"");var a=ys(),o=S(a);o.__input=function(...d){var h;(h=t.onInput)==null||h.apply(this,d)};let s;var l=D(o,2),c=S(l);{var v=d=>{var h=G();Q(()=>ot(h,r())),k(d,h)};j(c,d=>{r()&&d(v)})}Q(d=>{me(o,"placeholder",t.placeholder),s=W(o,1,"svelte-1pvj8hs",null,s,d)},[()=>({error:!!r()})]),Fe("blur",o,function(...d){var h;(h=t.onBlur)==null||h.apply(this,d)}),Fe("focus",o,function(...d){var h;(h=t.onFocus)==null||h.apply(this,d)}),wn(o,n),k(e,a),Z()}be(["input"]);var Ss=R("<div></div>"),Es=R('<form class="svelte-qxch5w"><!> <!> <textarea placeholder="description" class="svelte-qxch5w"></textarea> <div class="boxtags"><div class="sidebarFixed"><!></div> <div class="tags svelte-qxch5w"><!> <!></div> <div class="searchWrapper svelte-qxch5w"><!></div></div> <button class="buttonSubmit svelte-qxch5w" type="submit"> </button></form>');function Mr(e,t){Y(t,!0);let n=re(t,"initialTitle",3,""),r=re(t,"initialUrl",3,""),a=re(t,"initialDescription",3,""),o=re(t,"initialTags",19,()=>[]),s=re(t,"mode",3,"add"),l=I(""),c=I($(n())),v=I(""),d=I($(r())),h=I($(a())),u=I($(o()));const p=q=>q.trim().length===0?"required":"",f=()=>(x(v,p(i(c)),!0),i(v)),m=q=>{i(u).includes(q)||x(u,[...i(u),q],!0)},E=q=>{const ne=i(u).filter(Se=>Se!==q);ne.length===0?x(u,[],!0):x(u,ne,!0)};let M=J(()=>It()?[...Tr().reduce((q,ne)=>(ne==null||ne.tags.forEach(Se=>{q.has(Se)||q.add(Se)}),q),new Set)]:[]),g=J(()=>It()?i(M).filter(q=>!i(u).some(ne=>q===ne)&&q!=="inbox"):[]),w=J(()=>i(g).find(q=>q.toLowerCase()===i(l).toLowerCase())||i(u).includes(i(l))),_=J(()=>i(g).filter(q=>i(l)===""?!0:q.toLowerCase().indexOf(i(l).toLowerCase())!==-1).slice(0,i(w)||i(l)===""?3:2));const O=q=>{q.preventDefault(),!f()&&t.onSubmit({title:i(c).trim().slice(0,256),url:i(d).trim().slice(0,2048),description:i(h).trim().slice(0,2048),tags:i(u).length>0?i(u):["inbox"]})};var T=Es(),L=S(T);Kt(L,{placeholder:"url",get value(){return i(d)},set value(q){x(d,q,!0)}});var A=D(L,2);Kt(A,{onBlur:f,onInput:f,placeholder:"title",get error(){return i(v)},get value(){return i(c)},set value(q){x(c,q,!0)}});var P=D(A,2),b=D(P,2),C=S(b),y=S(C);{var N=q=>{var ne=Ss();W(ne,1,K(["tags","selectedTags"]),"svelte-qxch5w"),Ne(ne,20,()=>i(u),Se=>Se,(Se,Ze)=>{Ue(Se,{get title(){return Ze},onClick:()=>E(Ze),type:"button",style:"selected"})}),k(q,ne)};j(y,q=>{i(u).length>0&&q(N)})}var B=D(C,2),ee=S(B);{var ie=q=>{var ne=Te(),Se=z(ne);Ne(Se,16,()=>i(_),Ze=>Ze,(Ze,Sn)=>{Ue(Ze,{get title(){return Sn},onClick:()=>m(Sn)})}),k(q,ne)};j(ee,q=>{i(l)!==""&&q(ie)})}var pe=D(ee,2);{var te=q=>{Ue(q,{get title(){return i(l)},onClick:()=>{m(i(l)),x(l,"")}})};j(pe,q=>{!i(w)&&i(l)!==""&&q(te)})}var fe=D(B,2),He=S(fe);Kt(He,{placeholder:"tag",get value(){return i(l)},set value(q){x(l,q,!0)}});var Ye=D(b,2),Ar=S(Ye);Q(()=>ot(Ar,s()==="add"?"add":"edit")),Fe("submit",T,O),wn(P,()=>i(h),q=>x(h,q)),k(e,T),Z()}function xs(e,t){Y(t,!0);let n=I(!0);const r=()=>{t.onClose()},a=()=>{x(n,!1)},o=({title:s,url:l,description:c,tags:v})=>{es({...t.bookmark,title:s,url:l,description:c,tags:v.map(d=>d.trim())}),a()};Sr(e,{get shownDialog(){return i(n)},onClose:r,children:(s,l)=>{Mr(s,{get initialTitle(){return t.bookmark.title},get initialUrl(){return t.bookmark.url},get initialDescription(){return t.bookmark.description},get initialTags(){return t.bookmark.tags},onSubmit:o,mode:"edit"})},$$slots:{default:!0}}),Z()}var Ts=ye('<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-1lqi79o"><path d="M16 16v2.8c0 1.12 0 1.68-.218 2.108a2 2 0 0 1-.874.874C14.48 22 13.92 22 12.8 22H5.2c-1.12 0-1.68 0-2.108-.218a2 2 0 0 1-.874-.874C2 20.48 2 19.92 2 18.8v-7.6c0-1.12 0-1.68.218-2.108a2 2 0 0 1 .874-.874C3.52 8 4.08 8 5.2 8H8m3.2 8h7.6c1.12 0 1.68 0 2.108-.218a2 2 0 0 0 .874-.874C22 14.48 22 13.92 22 12.8V5.2c0-1.12 0-1.68-.218-2.108a2 2 0 0 0-.874-.874C20.48 2 19.92 2 18.8 2h-7.6c-1.12 0-1.68 0-2.108.218a2 2 0 0 0-.874.874C8 3.52 8 4.08 8 5.2v7.6c0 1.12 0 1.68.218 2.108a2 2 0 0 0 .874.874C9.52 16 10.08 16 11.2 16Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>');function Cs(e){var t=Ts();k(e,t)}var Ls=ye('<svg viewBox="0 0 13.229 13.229" xmlns="http://www.w3.org/2000/svg" class="svelte-1lqi79o"><circle style="fill:currentColor;stroke-width:.4378" cx="3.175" cy="6.615" r="1.058"></circle><circle style="fill:currentColor;stroke-width:.4378" cx="6.615" cy="6.615" r="1.058"></circle><circle style="fill:currentColor;stroke-width:.4378" cx="10.054" cy="6.615" r="1.058"></circle></svg>');function Ds(e){var t=Ls();k(e,t)}const Ps=(e,t,n)=>{const r=Lr();t.bookmark.tags.forEach(a=>{if(i(n).includes(a)&&r[a].connections===1){const o=new URLSearchParams(H.search),s=i(n).filter(l=>l!==a);s.length===0?o.delete("selectedTags"):o.set("selectedTags",s.join(",")),go(`${H.pathname}${o.size>0?`?${o.toString()}`:""}`)}}),ns(t.bookmark.id)},Os=(e,t)=>{x(t,!0)},Ms=(e,t,n)=>{x(t,!1),x(n,!0)},As=(e,t)=>{navigator.clipboard.writeText(t.bookmark.url),no("Link copied to clipboard")};var Bs=R('<li class="bookmark svelte-hwv8qt"><div class="bookmarkTitle svelte-hwv8qt"><img class="bookmarkIcon" height="16" width="16" alt="icon"> <a class="bookmarkLink svelte-hwv8qt" target="_blank" rel="noopener noreferrer"> </a></div> <div><button class="button svelte-hwv8qt"><!> <!></button> <div><button class="menuButton svelte-hwv8qt">Edit</button> <button class="menuButton svelte-hwv8qt">Delete</button></div> <button><!> <!></button></div></li> <!>',1);function Is(e,t){Y(t,!0);let n=J(()=>{var y;return((y=new URLSearchParams(H.search).get("selectedTags"))==null?void 0:y.split(","))||[]}),r=I(!1),a=I(!1),o=I(null),s=I(null);const l=y=>{var N,B;y.target!==i(s)&&y.target!==i(o)&&!((N=i(o))!=null&&N.contains(y.target))&&!((B=i(s))!=null&&B.contains(y.target))&&x(r,!1)},c=()=>{x(a,!1)};_e(()=>(document.addEventListener("click",l),()=>{document.removeEventListener("click",l)}));const v=y=>{try{return`https://www.google.com/s2/favicons?domain=${new URL(y).host}&sz=32`}catch{return""}};var d=Bs(),h=z(d),u=S(h),p=S(u),f=D(p,2),m=S(f),E=D(u,2),M=S(E);M.__click=[As,t];var g=S(M);Cs(g);var w=D(g,2);ht(w,{children:(y,N)=>{var B=G("copy link");k(y,B)}});var _=D(M,2),O=S(_);O.__click=[Ms,r,a];var T=D(O,2);T.__click=[Ps,t,n],De(_,y=>x(s,y),()=>i(s));var L=D(_,2);L.__click=[Os,r],W(L,1,K(["button","buttonMenu"]),"svelte-hwv8qt");var A=S(L);Ds(A);var P=D(A,2);ht(P,{children:(y,N)=>{var B=G("show menu");k(y,B)}}),De(L,y=>x(o,y),()=>i(o));var b=D(h,2);{var C=y=>{xs(y,{get bookmark(){return t.bookmark},onClose:c})};j(b,y=>{i(a)&&y(C)})}Q(y=>{me(p,"src",y),me(f,"href",t.bookmark.url),ot(m,t.bookmark.title),W(E,1,K(["bookmarkMenuWrapper",{bookmarkMenuWrapperActive:i(r)}]),"svelte-hwv8qt"),W(_,1,K(["bookmarkMenu",{bookmarkShownMenu:i(r)}]),"svelte-hwv8qt")},[()=>v(t.bookmark.url)]),k(e,d),Z()}be(["click"]);var Rs=R('<div class="emptyMessage svelte-10e5k3k">No bookmarks found</div>'),Ns=R('<div class="searchWrapper svelte-10e5k3k"><!></div> <div class="feed svelte-10e5k3k"><ul class="svelte-10e5k3k"><!> <!></ul></div>',1);function qs(e,t){Y(t,!0);let n=I(null),r=44,a=I(0),o=I(0),s=I($([])),l=I("");const c=va("main");let v=J(c),d=null;const h=J(ho);_e(()=>{var P;i(l),i(h),(P=i(v))==null||P.scrollTo(0,0)});const u=()=>{d&&cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var b;const P=((b=i(v))==null?void 0:b.scrollTop)||0;x(o,Math.floor(P/r)*r)})},p=()=>{var P;u(),i(n)&&x(a,window.innerHeight-((P=i(n))==null?void 0:P.getBoundingClientRect().top))};Pe(()=>{p(),u()}),_e(()=>{var P;return(P=i(v))==null||P.addEventListener("scroll",u),window.addEventListener("resize",p),()=>{var b;(b=i(v))==null||b.removeEventListener("scroll",u),window.removeEventListener("resize",p)}}),_e(()=>{const P=Tr(),b=[],C={};for(let y=P.length-1;y>=0;y--){const N=P[y];if(N&&!(i(h).length&&i(h).some(B=>!N.tags.includes(B)))&&!(i(l)&&!(N.title.toLowerCase().includes(i(l).toLowerCase())||N.url.toLowerCase().includes(i(l).toLowerCase())))){if(N.tags)for(const B of N.tags)C[B]?C[B].connections++:C[B]={name:B,connections:1};b.push(N)}}os(C),x(s,b,!0)});const f=J(()=>i(s).length*r);let E=J(()=>{const P=Math.ceil(i(a)/r),b=Math.floor(i(o)/r);return i(s).slice(b,b+P)});var M=Ns(),g=z(M),w=S(g);an(w,{placeholder:"Search",get value(){return i(l)},set value(P){x(l,P,!0)}});var _=D(g,2),O=S(_),T=S(O);Ne(T,17,()=>i(E),P=>P.id,(P,b)=>{Is(P,{get bookmark(){return i(b)}})});var L=D(T,2);{var A=P=>{var b=Rs();k(P,b)};j(L,P=>{i(E).length===0&&It()&&P(A)})}De(O,P=>x(n,P),()=>i(n)),Q(P=>{Mt(_,`height: ${P??""}px`),Mt(O,`height: ${i(a)??""}px; transform: translateY(${i(o)??""}px)`)},[()=>Math.max(i(f),30)]),k(e,M),Z()}var js=R('<!> <div class="content svelte-cu0ar8"><!></div>',1);function Hs(e){var t=js(),n=z(t);bs(n,{});var r=D(n,2),a=S(r);qs(a,{}),k(e,t)}var Fs=ye('<svg width="800" height="800" viewBox="-3 0 32 32" xmlns="http://www.w3.org/2000/svg" class="svelte-1lqi79o"><path d="M23 8H3a1 1 0 1 1 0-2h20a1 1 0 0 1 0 2Zm-1 20a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V10h18v18ZM10 3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v1h-6V3Zm14 1h-6V2a2 2 0 0 0-2-2h-6a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v2a2 2 0 0 0 2 2v18a4 4 0 0 0 4 4h14a4 4 0 0 0 4-4V10a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2ZM13 28a1 1 0 0 0 1-1V15a1 1 0 0 0-2 0v12a1 1 0 0 0 1 1Zm-5 0a1 1 0 0 0 1-1V15a1 1 0 0 0-2 0v12a1 1 0 0 0 1 1Zm10 0a1 1 0 0 0 1-1V15a1 1 0 0 0-2 0v12a1 1 0 0 0 1 1Z" fill="currentColor" fill-rule="evenodd"></path></svg>');function Us(e){var t=Fs();k(e,t)}var zs=ye('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" class="svelte-1lqi79o"><path fill-rule="evenodd" stroke="currentColor" fill="currentColor" d="M14 9.004a1 1 0 0 1 1 1v3a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-3a1 1 0 0 1 2 0v3h10v-3a1 1 0 0 1 1-1ZM8 1.59l3.707 3.707a1 1 0 0 1-1.414 1.414L9 5.418v4.586a1 1 0 1 1-2 0V5.418L5.707 6.711a1 1 0 0 1-1.414-1.414L8 1.59Z"></path></svg>');function Vs(e){var t=zs();k(e,t)}var Ws=ye('<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" class="svelte-1lqi79o"><path fill-rule="evenodd" stroke="currentColor" fill="currentColor" d="M14 9a1 1 0 0 1 1 1v3a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-3a1 1 0 0 1 2 0v3h10v-3a1 1 0 0 1 1-1ZM8 1a1 1 0 0 1 1 1v4.586l1.293-1.293a1 1 0 1 1 1.414 1.414L8 10.414 4.293 6.707a1 1 0 0 1 1.414-1.414L7 6.586V2a1 1 0 0 1 1-1Z"></path></svg>');function Ys(e){var t=Ws();k(e,t)}var Be=(e=>(e.Light="light",e.Auto="auto",e.Dark="dark",e))(Be||{});const Gt=(e,t)=>{const n=e.target.value;localStorage.setItem("colorScheme",n),document.documentElement.setAttribute("data-color-scheme",n),x(t,n,!0)};var Zs=R('<div class="wrapper svelte-1lqc4qo"><fieldset class="switcher svelte-1lqc4qo"><legend class="vh svelte-1lqc4qo">Color Scheme</legend> <input id="light" type="radio" aria-label="Light"> <label for="light" title="Light" aria-label="Light"></label> <input id="auto" type="radio" aria-label="Auto"> <label for="auto" title="Auto" aria-label="Auto"></label> <input id="dark" type="radio" aria-label="Dark"> <label for="dark" title="Dark" aria-label="Dark"></label> <div class="wrapSwitcherStatus svelte-1lqc4qo"><div class="switcherStatus svelte-1lqc4qo"></div></div></fieldset></div>');function Xs(e,t){Y(t,!0);let n=I($(localStorage.getItem("colorScheme")||Be.Auto));const r="color-scheme-switcher";var a=Zs(),o=S(a),s=D(S(o),2);W(s,1,K(["vh","input"]),"svelte-1lqc4qo"),me(s,"name",r),s.__change=[Gt,n];var l=D(s,2);W(l,1,K(["switcherButton","light"]),"svelte-1lqc4qo");var c=D(l,2);W(c,1,K(["vh","input"]),"svelte-1lqc4qo"),me(c,"name",r),c.__change=[Gt,n];var v=D(c,2);W(v,1,K(["switcherButton","auto"]),"svelte-1lqc4qo");var d=D(v,2);W(d,1,K(["vh","input"]),"svelte-1lqc4qo"),me(d,"name",r),d.__change=[Gt,n];var h=D(d,2);W(h,1,K(["switcherButton","dark"]),"svelte-1lqc4qo"),Q(()=>{Wt(s,Be.Light),Yt(s,i(n)===Be.Light),Wt(c,Be.Auto),Yt(c,i(n)===Be.Auto),Wt(d,Be.Dark),Yt(d,i(n)===Be.Dark)}),k(e,a),Z()}be(["change"]);const Ks=()=>{st("importBookmarks")},Gs=()=>{st("exportBookmarks")},Js=()=>{st("clearStore")};var Qs=R('<div class="svelte-oc46cj"><!> <ul class="svelte-oc46cj"><li class="svelte-oc46cj"><button class="button svelte-oc46cj"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-oc46cj">import bookmarks</span></button></li> <li class="svelte-oc46cj"><button class="button svelte-oc46cj"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-oc46cj">export bookmarks</span></button></li> <li class="svelte-oc46cj"><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-oc46cj">clear store</span></button></li></ul> <div class="svelte-oc46cj"></div></div>');function $s(e,t){Y(t,!1),kn();var n=Qs(),r=S(n);Xs(r,{});var a=D(r,2),o=S(a),s=S(o);s.__click=[Ks];var l=S(s);xe(l,()=>({"--size":"20px"})),Ys(l.lastChild);var c=D(o,2),v=S(c);v.__click=[Gs];var d=S(v);xe(d,()=>({"--size":"20px"})),Vs(d.lastChild);var h=D(c,2),u=S(h);u.__click=[Js],W(u,1,K(["button","clearButton"]),"svelte-oc46cj");var p=S(u);xe(p,()=>({"--size":"20px"})),Us(p.lastChild);var f=D(a,2);f.textContent="54a218f9-8b38-4c8a-a280-2f18f77e7c07",k(e,n),Z()}be(["click"]);function ei(e,t){Y(t,!1);const n=()=>{wt()},r=({title:a,url:o,description:s,tags:l})=>{ts({title:a,url:o,description:s,tags:l.map(c=>c.trim())}),n()};kn(),Mr(e,{onSubmit:r}),Z()}var ti=R("<button><!></button>");function ge(e,t){let n=re(t,"type",3,"standard");var r=ti();r.__click=function(...o){var s;(s=t.onClick)==null||s.apply(this,o)};var a=S(r);mt(a,()=>t.children),Q(()=>W(r,1,K(["button",{dangerous:n()==="dangerous"}]),"svelte-v0y8yx")),k(e,r)}be(["click"]);var ni=R('<div class="loader svelte-b80p9x"></div>');function yn(e){var t=ni();k(e,t)}const ri=async(e,t)=>{const n=e.target;!n.files||n.files.length===0||await t(n.files[0])};var ai=R('<p class="message svelte-19xh4q5">select a file to import your bookmarks</p> <div role="button" tabindex="0"><div class="dropzone-content svelte-19xh4q5"><p class="svelte-19xh4q5">Drag and drop your JSON file here</p> <p class="svelte-19xh4q5">or</p> <!></div> <input type="file" accept=".json, .html" style="display: none;"></div> <div class="buttonContainer svelte-19xh4q5"><!></div>',1),oi=R('<p class="message svelte-19xh4q5">importing bookmarks...</p> <!>',1),si=R('<p class="message success svelte-19xh4q5">bookmarks imported successfully!</p> <div class="buttonContainer svelte-19xh4q5"><!></div>',1),ii=R('<p class="message error svelte-19xh4q5">something went wrong</p> <div class="buttonContainer svelte-19xh4q5"><!> <!></div>',1),li=R('<div class="content svelte-19xh4q5"><!></div>');function ci(e,t){Y(t,!0);let n=I("idle"),r=I(null),a=I(!1),o=I(null);const s=()=>{wt()},l=async g=>{const w=await g.text(),_=JSON.parse(w),O=[];if(!_.bookmarks)throw new Error("Invalid import file format");for(const T of Object.values(_.bookmarks))T&&O.push(T);await qn(O)},c=async g=>{x(n,"loading");try{if(g.name.endsWith(".json"))await l(g);else if(g.name.endsWith(".html"))await qn(await Uo(g));else throw new Error("Unsupported file format. Please upload a JSON or HTML file.");x(n,"success")}catch{x(n,"error")}},v=()=>{var g;(g=i(r))==null||g.click()},d=g=>{g.preventDefault(),g.stopPropagation(),x(a,!0)},h=g=>{g.preventDefault(),g.stopPropagation(),x(a,!1)},u=g=>{g.preventDefault(),g.stopPropagation(),x(a,!0)},p=async g=>{var _;if(g.preventDefault(),g.stopPropagation(),x(a,!1),!((_=g.dataTransfer)!=null&&_.files)||g.dataTransfer.files.length===0)return;const w=g.dataTransfer.files[0];if(w.type!=="application/json"&&w.type!=="text/html"){x(n,"error");return}await c(w)};var f=li(),m=S(f);{var E=g=>{var w=ai(),_=D(z(w),2),O=S(_),T=D(S(O),4);ge(T,{onClick:v,children:(b,C)=>{var y=G("Select File");k(b,y)},$$slots:{default:!0}});var L=D(O,2);L.__change=[ri,c],De(L,b=>x(r,b),()=>i(r)),De(_,b=>x(o,b),()=>i(o));var A=D(_,2),P=S(A);ge(P,{onClick:s,children:(b,C)=>{var y=G("cancel");k(b,y)},$$slots:{default:!0}}),Q(()=>W(_,1,K(["dropzone",{active:i(a)}]),"svelte-19xh4q5")),Fe("dragenter",_,d),Fe("dragover",_,u),Fe("dragleave",_,h),Fe("drop",_,p),k(g,w)},M=(g,w)=>{{var _=T=>{var L=oi(),A=D(z(L),2);yn(A),k(T,L)},O=(T,L)=>{{var A=b=>{var C=si(),y=D(z(C),2),N=S(y);ge(N,{onClick:s,children:(B,ee)=>{var ie=G("close");k(B,ie)},$$slots:{default:!0}}),k(b,C)},P=(b,C)=>{{var y=N=>{var B=ii(),ee=D(z(B),2),ie=S(ee);ge(ie,{onClick:()=>{x(n,"idle")},children:(te,fe)=>{var He=G("Try Again");k(te,He)},$$slots:{default:!0}});var pe=D(ie,2);ge(pe,{onClick:s,children:(te,fe)=>{var He=G("Cancel");k(te,He)},$$slots:{default:!0}}),k(N,B)};j(b,N=>{i(n)==="error"&&N(y)},C)}};j(T,b=>{i(n)==="success"?b(A):b(P,!1)},L)}};j(g,T=>{i(n)==="loading"?T(_):T(O,!1)},w)}};j(m,g=>{i(n)==="idle"?g(E):g(M,!1)})}k(e,f),Z()}be(["change"]);var ui=(e,t)=>x(t,"json"),vi=(e,t)=>x(t,"html"),di=R('<p class="message svelte-1kp07xg">Export bookmarks</p> <div class="format-switcher svelte-1kp07xg"><div class="switcher-wrapper svelte-1kp07xg"><div class="background svelte-1kp07xg"></div> <div class="active-indicator svelte-1kp07xg"></div> <button>JSON</button> <button>HTML</button></div> <p class="format-description svelte-1kp07xg"><!></p></div> <div class="buttonContainer svelte-1kp07xg"><!> <!></div>',1),fi=R('<p class="message svelte-1kp07xg">Exporting data...</p> <div class="buttonContainer svelte-1kp07xg"><!></div>',1),hi=R('<p class="message svelte-1kp07xg">Bookmarks exported successfully!</p> <div class="buttonContainer svelte-1kp07xg"><!></div>',1),pi=R('<div class="content svelte-1kp07xg"><!></div>');function gi(e,t){Y(t,!0);let n=I("idle"),r=I("json");const a=()=>{wt()},o=async()=>{x(n,"loading"),setTimeout(async()=>{if(i(r)==="json")await as().finally(()=>{x(n,"success")});else try{const d=zo($o()),h=new Blob([d],{type:"text/html"}),u=URL.createObjectURL(h),p=document.createElement("a");p.href=u,p.download=`bookmarks_${new Date().toLocaleDateString().replace(/\//g,"_")}.html`,document.body.appendChild(p),p.click(),document.body.removeChild(p),URL.revokeObjectURL(u),x(n,"success")}catch(d){console.error("Error exporting as HTML:",d),x(n,"success")}},0)};var s=pi(),l=S(s);{var c=d=>{var h=di(),u=D(z(h),2),p=S(u),f=D(S(p),2),m=D(f,2);let E;m.__click=[ui,r];var M=D(m,2);let g;M.__click=[vi,r];var w=D(p,2),_=S(w);{var O=b=>{var C=G("JSON format (for app import)");k(b,C)},T=b=>{var C=G("HTML format (Chrome compatible)");k(b,C)};j(_,b=>{i(r)==="json"?b(O):b(T,!1)})}var L=D(u,2),A=S(L);ge(A,{onClick:o,children:(b,C)=>{var y=G("Export");k(b,y)},$$slots:{default:!0}});var P=D(A,2);ge(P,{onClick:a,children:(b,C)=>{var y=G("Cancel");k(b,y)},$$slots:{default:!0}}),Q((b,C)=>{Mt(f,`transform: translateX(${(i(r)==="json"?"0":"100%")??""})`),E=W(m,1,"switcher-option svelte-1kp07xg",null,E,b),g=W(M,1,"switcher-option svelte-1kp07xg",null,g,C)},[()=>({active:i(r)==="json"}),()=>({active:i(r)==="html"})]),k(d,h)},v=(d,h)=>{{var u=f=>{var m=fi(),E=D(z(m),2),M=S(E);yn(M),k(f,m)},p=(f,m)=>{{var E=M=>{var g=hi(),w=D(z(g),2),_=S(w);ge(_,{onClick:a,children:(O,T)=>{var L=G("Close");k(O,L)},$$slots:{default:!0}}),k(M,g)};j(f,M=>{i(n)==="success"&&M(E)},m)}};j(d,f=>{i(n)==="loading"?f(u):f(p,!1)},h)}};j(l,d=>{i(n)==="idle"?d(c):d(v,!1)})}k(e,s),Z()}be(["click"]);var _i=R('<p class="message svelte-w4337z">Are you sure you want to clear the store?</p> <div class="buttonContainer svelte-w4337z"><!> <!></div>',1),mi=R('<p class="message svelte-w4337z">clearing store...</p> <div class="buttonContainer svelte-w4337z"><!></div>',1),wi=R('<p class="message svelte-w4337z">store cleared</p> <div class="buttonContainer svelte-w4337z"><!></div>',1),ki=R('<div class="content svelte-w4337z"><!></div>');function bi(e,t){Y(t,!0);let n=I("idle");const r=()=>{wt()},a=()=>{x(n,"loading"),rs().finally(()=>{setTimeout(()=>{x(n,"success")},1e3)})};var o=ki(),s=S(o);{var l=v=>{var d=_i(),h=D(z(d),2),u=S(h);ge(u,{onClick:r,children:(f,m)=>{var E=G("no");k(f,E)},$$slots:{default:!0}});var p=D(u,2);ge(p,{onClick:a,type:"dangerous",children:(f,m)=>{var E=G("yes");k(f,E)},$$slots:{default:!0}}),k(v,d)},c=(v,d)=>{{var h=p=>{var f=mi(),m=D(z(f),2),E=S(m);yn(E),k(p,f)},u=(p,f)=>{{var m=E=>{var M=wi(),g=D(z(M),2),w=S(g);ge(w,{onClick:r,children:(_,O)=>{var T=G("close");k(_,T)},$$slots:{default:!0}}),k(E,M)};j(p,E=>{i(n)==="success"&&E(m)},f)}};j(v,p=>{i(n)==="loading"?p(h):p(u,!1)},d)}};j(s,v=>{i(n)==="idle"?v(l):v(c,!1)})}k(e,o),Z()}const yi=(e,t=Fn)=>{var n=Te(),r=z(n);{var a=s=>{$s(s,{})},o=(s,l)=>{{var c=d=>{ei(d,{})},v=(d,h)=>{{var u=f=>{ci(f,{})},p=(f,m)=>{{var E=g=>{gi(g,{})},M=(g,w)=>{{var _=O=>{bi(O,{})};j(g,O=>{t()==="clearStore"&&O(_)},w)}};j(f,g=>{t()==="exportBookmarks"?g(E):g(M,!1)},m)}};j(d,f=>{t()==="importBookmarks"?f(u):f(p,!1)},h)}};j(s,d=>{t()==="newBookmark"?d(c):d(v,!1)},l)}};j(r,s=>{t()==="settings"?s(a):s(o,!1)})}k(e,n)};var Si=R("<!> <!>",1);function Ei(e,t){Y(t,!0);let n=J(ko);var r=Si(),a=z(r);Hs(a);var o=D(a,2);Ne(o,17,()=>i(n),Ua,(s,l,c)=>{const v=J(()=>{var d;return c!==i(n).length-1&&!!((d=i(n)[c+1])!=null&&d.shown)});Fo(s,{get shown(){return i(l).shown},get hidden(){return i(v)},children:(d,h)=>{yi(d,()=>i(l).page)},$$slots:{default:!0}})}),k(e,r),Z()}function xi(e,t){Y(t,!1);let n=0;Pe(()=>{const r=document.querySelector("div");r&&Dr&&r.addEventListener("touchstart",a=>{a.pageX>20&&a.pageX<window.innerWidth-20||a.preventDefault()}),document.addEventListener("touchstart",a=>{n=a.touches[0].clientX},{passive:!1}),document.addEventListener("touchmove",a=>{const s=a.touches[0].clientX-n;(n<50&&s>0||n>window.innerWidth-50&&s<0)&&a.preventDefault()},{passive:!1}),document.addEventListener("touchend",()=>{n=0}),document.addEventListener("touchcancel",()=>{n=0})}),kn(),Z()}var Ti=R('<!> <main><!> <div class="container svelte-nkbuiv"><!></div> <!></main>',1);function Ci(e,t){Y(t,!0);let n=I(null),r=!1;da("main",()=>i(n));const a=()=>{document.activeElement instanceof HTMLInputElement||document.activeElement instanceof HTMLTextAreaElement?r=!0:r=!1};Pe(()=>{a(),document.addEventListener("focusin",a),document.addEventListener("focusout",a),document.addEventListener("touchmove",function(p){r&&p.preventDefault()},{passive:!1})}),Pe(async()=>{await new Promise(p=>setTimeout(p,100)),await Oa(),Bt.working=!0});let o=J(()=>je().length>0);var s=Ti(),l=z(s);xi(l,{});var c=D(l,2),v=S(c);Do(v,{});var d=D(v,2),h=S(d);Ei(h,{});var u=D(d,2);ao(u,{}),De(c,p=>x(n,p),()=>i(n)),Q(()=>W(c,1,K(["main",{isAnimationOn:Bt.working,open:i(o)}]),"svelte-nkbuiv")),k(e,s),Z()}ja(Ci,{target:document.getElementById("app")});
