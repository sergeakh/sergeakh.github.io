(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();const Mn=!1;var vn=Array.isArray,Qr=Array.prototype.indexOf,hn=Array.from,$r=Object.defineProperty,$e=Object.getOwnPropertyDescriptor,$n=Object.getOwnPropertyDescriptors,ea=Object.prototype,ta=Array.prototype,gn=Object.getPrototypeOf,An=Object.isExtensible;const er=()=>{};function na(e){return e()}function Ct(e){for(var t=0;t<e.length;t++)e[t]()}const De=2,tr=4,Nt=8,pn=16,Re=32,st=64,Dt=128,Se=256,Lt=512,ye=1024,xe=2048,Je=4096,Ae=8192,Ft=16384,ra=32768,jt=65536,aa=1<<17,oa=1<<19,nr=1<<20,nn=1<<21,Ke=Symbol("$state"),sa=Symbol("legacy props"),ia=Symbol("");function rr(e){return e===this.v}function la(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function mn(e){return!la(e,this.v)}function ca(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function ua(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function da(e){throw new Error("https://svelte.dev/e/effect_orphan")}function fa(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function va(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function ha(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function ga(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function pa(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let it=!1,ma=!1;function _a(){it=!0}const _n=1,wn=2,ar=4,wa=8,ya=16,ba=1,ka=2,Sa=4,Ea=8,Ta=16,Ca=1,Da=2,me=Symbol(),La="http://www.w3.org/1999/xhtml";function Pa(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let te=null;function In(e){te=e}function W(e,t=!1,n){var r=te={p:te,c:null,d:!1,e:null,m:!1,s:e,x:null,l:null};it&&!t&&(te.l={s:null,u:null,r1:[],r2:mt(!1)}),yn(()=>{r.d=!0})}function X(e){const t=te;if(t!==null){e!==void 0&&(t.x=e);const i=t.e;if(i!==null){var n=Z,r=J;t.e=null;try{for(var a=0;a<i.length;a++){var o=i[a];Ve(o.effect),Oe(o.reaction),bn(o.fn)}}finally{Ve(n),Oe(r)}}te=t.p,t.m=!0}return e||{}}function yt(){return!it||te!==null&&te.l===null}function se(e){if(typeof e!="object"||e===null||Ke in e)return e;const t=gn(e);if(t!==ea&&t!==ta)return e;var n=new Map,r=vn(e),a=F(0),o=J,i=l=>{var c=J;Oe(o);var u=l();return Oe(c),u};return r&&n.set("length",F(e.length)),new Proxy(e,{defineProperty(l,c,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&ha();var d=n.get(c);return d===void 0?(d=i(()=>F(u.value)),n.set(c,d)):T(d,i(()=>se(u.value))),!0},deleteProperty(l,c){var u=n.get(c);if(u===void 0)c in l&&(n.set(c,i(()=>F(me))),Gt(a));else{if(r&&typeof c=="string"){var d=n.get("length"),v=Number(c);Number.isInteger(v)&&v<d.v&&T(d,v)}T(u,me),Gt(a)}return!0},get(l,c,u){var g;if(c===Ke)return e;var d=n.get(c),v=c in l;if(d===void 0&&(!v||(g=$e(l,c))!=null&&g.writable)&&(d=i(()=>F(se(v?l[c]:me))),n.set(c,d)),d!==void 0){var f=s(d);return f===me?void 0:f}return Reflect.get(l,c,u)},getOwnPropertyDescriptor(l,c){var u=Reflect.getOwnPropertyDescriptor(l,c);if(u&&"value"in u){var d=n.get(c);d&&(u.value=s(d))}else if(u===void 0){var v=n.get(c),f=v==null?void 0:v.v;if(v!==void 0&&f!==me)return{enumerable:!0,configurable:!0,value:f,writable:!0}}return u},has(l,c){var f;if(c===Ke)return!0;var u=n.get(c),d=u!==void 0&&u.v!==me||Reflect.has(l,c);if(u!==void 0||Z!==null&&(!d||(f=$e(l,c))!=null&&f.writable)){u===void 0&&(u=i(()=>F(d?se(l[c]):me)),n.set(c,u));var v=s(u);if(v===me)return!1}return d},set(l,c,u,d){var m;var v=n.get(c),f=c in l;if(r&&c==="length")for(var g=u;g<v.v;g+=1){var h=n.get(g+"");h!==void 0?T(h,me):g in l&&(h=i(()=>F(me)),n.set(g+"",h))}v===void 0?(!f||(m=$e(l,c))!=null&&m.writable)&&(v=i(()=>F(void 0)),T(v,i(()=>se(u))),n.set(c,v)):(f=v.v!==me,T(v,i(()=>se(u))));var p=Reflect.getOwnPropertyDescriptor(l,c);if(p!=null&&p.set&&p.set.call(d,u),!f){if(r&&typeof c=="string"){var y=n.get("length"),w=Number(c);Number.isInteger(w)&&w>=y.v&&T(y,w+1)}Gt(a)}return!0},ownKeys(l){s(a);var c=Reflect.ownKeys(l).filter(v=>{var f=n.get(v);return f===void 0||f.v!==me});for(var[u,d]of n)d.v!==me&&!(u in l)&&c.push(u);return c},setPrototypeOf(){ga()}})}function Gt(e,t=1){T(e,e.v+t)}function et(e){var t=De|xe,n=J!==null&&(J.f&De)!==0?J:null;return Z===null||n!==null&&(n.f&Se)!==0?t|=Se:Z.f|=nr,{ctx:te,deps:null,effects:null,equals:rr,f:t,fn:e,reactions:null,rv:0,v:null,wv:0,parent:n??Z}}function G(e){const t=et(e);return br(t),t}function or(e){const t=et(e);return t.equals=mn,t}function sr(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)Ie(t[n])}}function xa(e){for(var t=e.parent;t!==null;){if((t.f&De)===0)return t;t=t.parent}return null}function ir(e){var t,n=Z;Ve(xa(e));try{sr(e),t=Tr(e)}finally{Ve(n)}return t}function lr(e){var t=ir(e),n=(He||(e.f&Se)!==0)&&e.deps!==null?Je:ye;Le(e,n),e.equals(t)||(e.v=t,e.wv=Sr())}const pt=new Map;function mt(e,t){var n={f:0,v:e,reactions:null,equals:rr,rv:0,wv:0};return n}function F(e,t){const n=mt(e);return br(n),n}function cr(e,t=!1){var r;const n=mt(e);return t||(n.equals=mn),it&&te!==null&&te.l!==null&&((r=te.l).s??(r.s=[])).push(n),n}function T(e,t,n=!1){J!==null&&!Pe&&yt()&&(J.f&(De|pn))!==0&&!(he!=null&&he.includes(e))&&pa();let r=n?se(t):t;return rn(e,r)}function rn(e,t){if(!e.equals(t)){var n=e.v;bt?pt.set(e,t):pt.set(e,n),e.v=t,(e.f&De)!==0&&((e.f&xe)!==0&&ir(e),Le(e,(e.f&Se)===0?ye:Je)),e.wv=Sr(),ur(e,xe),yt()&&Z!==null&&(Z.f&ye)!==0&&(Z.f&(Re|st))===0&&(Te===null?Ha([e]):Te.push(e))}return t}function ur(e,t){var n=e.reactions;if(n!==null)for(var r=yt(),a=n.length,o=0;o<a;o++){var i=n[o],l=i.f;(l&xe)===0&&(!r&&i===Z||(Le(i,t),(l&(ye|Se))!==0&&((l&De)!==0?ur(i,Je):qt(i))))}}let Oa=!1;var Bn,dr,fr,vr;function Ma(){if(Bn===void 0){Bn=window,dr=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;fr=$e(t,"firstChild").get,vr=$e(t,"nextSibling").get,An(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),An(n)&&(n.__t=void 0)}}function Ht(e=""){return document.createTextNode(e)}function tt(e){return fr.call(e)}function Ut(e){return vr.call(e)}function E(e,t){return tt(e)}function Y(e,t){{var n=tt(e);return n instanceof Comment&&n.data===""?Ut(n):n}}function L(e,t=1,n=!1){let r=e;for(;t--;)r=Ut(r);return r}function Aa(e){e.textContent=""}function hr(e){Z===null&&J===null&&da(),J!==null&&(J.f&Se)!==0&&Z===null&&ua(),bt&&ca()}function Ia(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function lt(e,t,n,r=!0){var a=Z,o={ctx:te,deps:null,nodes_start:null,nodes_end:null,f:e|xe,first:null,fn:t,last:null,next:null,parent:a,prev:null,teardown:null,transitions:null,wv:0};if(n)try{En(o),o.f|=ra}catch(c){throw Ie(o),c}else t!==null&&qt(o);var i=n&&o.deps===null&&o.first===null&&o.nodes_start===null&&o.teardown===null&&(o.f&(nr|Dt))===0;if(!i&&r&&(a!==null&&Ia(o,a),J!==null&&(J.f&De)!==0)){var l=J;(l.effects??(l.effects=[])).push(o)}return o}function yn(e){const t=lt(Nt,null,!1);return Le(t,ye),t.teardown=e,t}function ue(e){hr();var t=Z!==null&&(Z.f&Re)!==0&&te!==null&&!te.m;if(t){var n=te;(n.e??(n.e=[])).push({fn:e,effect:Z,reaction:J})}else{var r=bn(e);return r}}function Ba(e){return hr(),zt(e)}function Ra(e){const t=lt(st,e,!0);return(n={})=>new Promise(r=>{n.outro?Pt(t,()=>{Ie(t),r(void 0)}):(Ie(t),r(void 0))})}function bn(e){return lt(tr,e,!1)}function zt(e){return lt(Nt,e,!0)}function ae(e,t=[],n=et){const r=t.map(n);return Vt(()=>e(...r.map(s)))}function Vt(e,t=0){return lt(Nt|pn|t,e,!0)}function nt(e,t=!0){return lt(Nt|Re,e,!0,t)}function gr(e){var t=e.teardown;if(t!==null){const n=bt,r=J;Nn(!0),Oe(null);try{t.call(null)}finally{Nn(n),Oe(r)}}}function pr(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){var r=n.next;(n.f&st)!==0?n.parent=null:Ie(n,t),n=r}}function Na(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&Re)===0&&Ie(t),t=n}}function Ie(e,t=!0){var n=!1;(t||(e.f&oa)!==0)&&e.nodes_start!==null&&(Fa(e.nodes_start,e.nodes_end),n=!0),pr(e,t&&!n),It(e,0),Le(e,Ft);var r=e.transitions;if(r!==null)for(const o of r)o.stop();gr(e);var a=e.parent;a!==null&&a.first!==null&&mr(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function Fa(e,t){for(;e!==null;){var n=e===t?null:Ut(e);e.remove(),e=n}}function mr(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function Pt(e,t){var n=[];kn(e,n,!0),_r(n,()=>{Ie(e),t&&t()})}function _r(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var a of e)a.out(r)}else t()}function kn(e,t,n){if((e.f&Ae)===0){if(e.f^=Ae,e.transitions!==null)for(const i of e.transitions)(i.is_global||n)&&t.push(i);for(var r=e.first;r!==null;){var a=r.next,o=(r.f&jt)!==0||(r.f&Re)!==0;kn(r,t,o?n:!1),r=a}}}function xt(e){wr(e,!0)}function wr(e,t){if((e.f&Ae)!==0){e.f^=Ae,(e.f&ye)===0&&(e.f^=ye),kt(e)&&(Le(e,xe),qt(e));for(var n=e.first;n!==null;){var r=n.next,a=(n.f&jt)!==0||(n.f&Re)!==0;wr(n,a?t:!1),n=r}if(e.transitions!==null)for(const o of e.transitions)(o.is_global||t)&&o.in()}}let _t=[],an=[];function yr(){var e=_t;_t=[],Ct(e)}function ja(){var e=an;an=[],Ct(e)}function Sn(e){_t.length===0&&queueMicrotask(yr),_t.push(e)}function Rn(){_t.length>0&&yr(),an.length>0&&ja()}let Tt=!1,Ot=!1,Mt=null,Ge=!1,bt=!1;function Nn(e){bt=e}let ht=[];let J=null,Pe=!1;function Oe(e){J=e}let Z=null;function Ve(e){Z=e}let he=null;function br(e){J!==null&&J.f&nn&&(he===null?he=[e]:he.push(e))}let fe=null,ke=0,Te=null;function Ha(e){Te=e}let kr=1,At=0,He=!1;function Sr(){return++kr}function kt(e){var v;var t=e.f;if((t&xe)!==0)return!0;if((t&Je)!==0){var n=e.deps,r=(t&Se)!==0;if(n!==null){var a,o,i=(t&Lt)!==0,l=r&&Z!==null&&!He,c=n.length;if(i||l){var u=e,d=u.parent;for(a=0;a<c;a++)o=n[a],(i||!((v=o==null?void 0:o.reactions)!=null&&v.includes(u)))&&(o.reactions??(o.reactions=[])).push(u);i&&(u.f^=Lt),l&&d!==null&&(d.f&Se)===0&&(u.f^=Se)}for(a=0;a<c;a++)if(o=n[a],kt(o)&&lr(o),o.wv>e.wv)return!0}(!r||Z!==null&&!He)&&Le(e,ye)}return!1}function Ua(e,t){for(var n=t;n!==null;){if((n.f&Dt)!==0)try{n.fn(e);return}catch{n.f^=Dt}n=n.parent}throw Tt=!1,e}function Fn(e){return(e.f&Ft)===0&&(e.parent===null||(e.parent.f&Dt)===0)}function Yt(e,t,n,r){if(Tt){if(n===null&&(Tt=!1),Fn(t))throw e;return}if(n!==null&&(Tt=!0),Ua(e,t),Fn(t))throw e}function Er(e,t,n=!0){var r=e.reactions;if(r!==null)for(var a=0;a<r.length;a++){var o=r[a];he!=null&&he.includes(e)||((o.f&De)!==0?Er(o,t,!1):t===o&&(n?Le(o,xe):(o.f&ye)!==0&&Le(o,Je),qt(o)))}}function Tr(e){var g;var t=fe,n=ke,r=Te,a=J,o=He,i=he,l=te,c=Pe,u=e.f;fe=null,ke=0,Te=null,He=(u&Se)!==0&&(Pe||!Ge||J===null),J=(u&(Re|st))===0?e:null,he=null,In(e.ctx),Pe=!1,At++,e.f|=nn;try{var d=(0,e.fn)(),v=e.deps;if(fe!==null){var f;if(It(e,ke),v!==null&&ke>0)for(v.length=ke+fe.length,f=0;f<fe.length;f++)v[ke+f]=fe[f];else e.deps=v=fe;if(!He)for(f=ke;f<v.length;f++)((g=v[f]).reactions??(g.reactions=[])).push(e)}else v!==null&&ke<v.length&&(It(e,ke),v.length=ke);if(yt()&&Te!==null&&!Pe&&v!==null&&(e.f&(De|Je|xe))===0)for(f=0;f<Te.length;f++)Er(Te[f],e);return a!==null&&a!==e&&(At++,Te!==null&&(r===null?r=Te:r.push(...Te))),d}finally{fe=t,ke=n,Te=r,J=a,He=o,he=i,In(l),Pe=c,e.f^=nn}}function za(e,t){let n=t.reactions;if(n!==null){var r=Qr.call(n,e);if(r!==-1){var a=n.length-1;a===0?n=t.reactions=null:(n[r]=n[a],n.pop())}}n===null&&(t.f&De)!==0&&(fe===null||!fe.includes(t))&&(Le(t,Je),(t.f&(Se|Lt))===0&&(t.f^=Lt),sr(t),It(t,0))}function It(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)za(e,n[r])}function En(e){var t=e.f;if((t&Ft)===0){Le(e,ye);var n=Z,r=te,a=Ge;Z=e,Ge=!0;try{(t&pn)!==0?Na(e):pr(e),gr(e);var o=Tr(e);e.teardown=typeof o=="function"?o:null,e.wv=kr;var i=e.deps,l;Mn&&ma&&e.f&xe}catch(c){Yt(c,e,n,r||e.ctx)}finally{Ge=a,Z=n}}}function Va(){try{fa()}catch(e){if(Mt!==null)Yt(e,Mt,null);else throw e}}function Cr(){var e=Ge;try{var t=0;for(Ge=!0;ht.length>0;){t++>1e3&&Va();var n=ht,r=n.length;ht=[];for(var a=0;a<r;a++){var o=qa(n[a]);Ya(o)}pt.clear()}}finally{Ot=!1,Ge=e,Mt=null}}function Ya(e){var t=e.length;if(t!==0)for(var n=0;n<t;n++){var r=e[n];if((r.f&(Ft|Ae))===0)try{kt(r)&&(En(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null?mr(r):r.fn=null))}catch(a){Yt(a,r,null,r.ctx)}}}function qt(e){Ot||(Ot=!0,queueMicrotask(Cr));for(var t=Mt=e;t.parent!==null;){t=t.parent;var n=t.f;if((n&(st|Re))!==0){if((n&ye)===0)return;t.f^=ye}}ht.push(t)}function qa(e){for(var t=[],n=e;n!==null;){var r=n.f,a=(r&(Re|st))!==0,o=a&&(r&ye)!==0;if(!o&&(r&Ae)===0){if((r&tr)!==0)t.push(n);else if(a)n.f^=ye;else try{kt(n)&&En(n)}catch(c){Yt(c,n,null,n.ctx)}var i=n.first;if(i!==null){n=i;continue}}var l=n.parent;for(n=n.next;n===null&&l!==null;)n=l.next,l=l.parent}return t}function Wa(e){var t;for(Rn();ht.length>0;)Ot=!0,Cr(),Rn();return t}async function Xa(){await Promise.resolve(),Wa()}function s(e){var t=e.f,n=(t&De)!==0;if(J!==null&&!Pe){if(!(he!=null&&he.includes(e))){var r=J.deps;e.rv<At&&(e.rv=At,fe===null&&r!==null&&r[ke]===e?ke++:fe===null?fe=[e]:(!He||!fe.includes(e))&&fe.push(e))}}else if(n&&e.deps===null&&e.effects===null){var a=e,o=a.parent;o!==null&&(o.f&Se)===0&&(a.f^=Se)}return n&&(a=e,kt(a)&&lr(a)),bt&&pt.has(e)?pt.get(e):e.v}function rt(e){var t=Pe;try{return Pe=!0,e()}finally{Pe=t}}const Ka=-7169;function Le(e,t){e.f=e.f&Ka|t}function Ga(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Ke in e)on(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&Ke in n&&on(n)}}}function on(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{on(e[r],t)}catch{}const n=gn(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=$n(n);for(let a in r){const o=r[a].get;if(o)try{o.call(e)}catch{}}}}}const Ja=["touchstart","touchmove"];function Za(e){return Ja.includes(e)}let jn=!1;function Qa(){jn||(jn=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const n of e.target.elements)(t=n.__on_r)==null||t.call(n)})},{capture:!0}))}function Dr(e){var t=J,n=Z;Oe(null),Ve(null);try{return e()}finally{Oe(t),Ve(n)}}function $a(e,t,n,r=n){e.addEventListener(t,()=>Dr(n));const a=e.__on_r;a?e.__on_r=()=>{a(),r(!0)}:e.__on_r=()=>r(!0),Qa()}const Lr=new Set,sn=new Set;function eo(e,t,n,r={}){function a(o){if(r.capture||ft.call(t,o),!o.cancelBubble)return Dr(()=>n==null?void 0:n.call(this,o))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Sn(()=>{t.addEventListener(e,a,r)}):t.addEventListener(e,a,r),a}function We(e,t,n,r,a){var o={capture:r,passive:a},i=eo(e,t,n,o);(t===document.body||t===window||t===document)&&yn(()=>{t.removeEventListener(e,i,o)})}function pe(e){for(var t=0;t<e.length;t++)Lr.add(e[t]);for(var n of sn)n(e)}function ft(e){var m;var t=this,n=t.ownerDocument,r=e.type,a=((m=e.composedPath)==null?void 0:m.call(e))||[],o=a[0]||e.target,i=0,l=e.__root;if(l){var c=a.indexOf(l);if(c!==-1&&(t===document||t===window)){e.__root=t;return}var u=a.indexOf(t);if(u===-1)return;c<=u&&(i=c)}if(o=a[i]||e.target,o!==t){$r(e,"currentTarget",{configurable:!0,get(){return o||n}});var d=J,v=Z;Oe(null),Ve(null);try{for(var f,g=[];o!==null;){var h=o.assignedSlot||o.parentNode||o.host||null;try{var p=o["__"+r];if(p!=null&&(!o.disabled||e.target===o))if(vn(p)){var[y,...w]=p;y.apply(o,[e,...w])}else p.call(o,e)}catch(b){f?g.push(b):f=b}if(e.cancelBubble||h===t||h===null)break;o=h}if(f){for(let b of g)queueMicrotask(()=>{throw b});throw f}}finally{e.__root=t,delete e.currentTarget,Oe(d),Ve(v)}}}function Pr(e){var t=document.createElement("template");return t.innerHTML=e,t.content}function wt(e,t){var n=Z;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function j(e,t){var n=(t&Ca)!==0,r=(t&Da)!==0,a,o=!e.startsWith("<!>");return()=>{a===void 0&&(a=Pr(o?e:"<!>"+e),n||(a=tt(a)));var i=r||dr?document.importNode(a,!0):a.cloneNode(!0);if(n){var l=tt(i),c=i.lastChild;wt(l,c)}else wt(i,i);return i}}function to(e,t,n="svg"){var r=!e.startsWith("<!>"),a=`<${n}>${r?e:"<!>"+e}</${n}>`,o;return()=>{if(!o){var i=Pr(a),l=tt(i);o=tt(l)}var c=o.cloneNode(!0);return wt(c,c),c}}function de(e=""){{var t=Ht(e+"");return wt(t,t),t}}function _e(){var e=document.createDocumentFragment(),t=document.createComment(""),n=Ht();return e.append(t,n),wt(t,n),e}function C(e,t){e!==null&&e.before(t)}function ct(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function no(e,t){return ro(e,t)}const Ze=new Map;function ro(e,{target:t,anchor:n,props:r={},events:a,context:o,intro:i=!0}){Ma();var l=new Set,c=v=>{for(var f=0;f<v.length;f++){var g=v[f];if(!l.has(g)){l.add(g);var h=Za(g);t.addEventListener(g,ft,{passive:h});var p=Ze.get(g);p===void 0?(document.addEventListener(g,ft,{passive:h}),Ze.set(g,1)):Ze.set(g,p+1)}}};c(hn(Lr)),sn.add(c);var u=void 0,d=Ra(()=>{var v=n??t.appendChild(Ht());return nt(()=>{if(o){W({});var f=te;f.c=o}a&&(r.$$events=a),u=e(v,r)||{},o&&X()}),()=>{var h;for(var f of l){t.removeEventListener(f,ft);var g=Ze.get(f);--g===0?(document.removeEventListener(f,ft),Ze.delete(f)):Ze.set(f,g)}sn.delete(c),v!==n&&((h=v.parentNode)==null||h.removeChild(v))}});return ao.set(u,d),u}let ao=new WeakMap;function z(e,t,[n,r]=[0,0]){var a=e,o=null,i=null,l=me,c=n>0?jt:0,u=!1;const d=(f,g=!0)=>{u=!0,v(g,f)},v=(f,g)=>{l!==(l=f)&&(l?(o?xt(o):g&&(o=nt(()=>g(a))),i&&Pt(i,()=>{i=null})):(i?xt(i):g&&(i=nt(()=>g(a,[n+1,r]))),o&&Pt(o,()=>{o=null})))};Vt(()=>{u=!1,t(d),u||v(null,null)},c)}function Ee(e,t){zt(()=>{var n=t();for(var r in n){var a=n[r];a?e.style.setProperty(r,a):e.style.removeProperty(r)}}),yn(()=>{e.remove()})}function oo(e,t){return t}function so(e,t,n,r){for(var a=[],o=t.length,i=0;i<o;i++)kn(t[i].e,a,!0);var l=o>0&&a.length===0&&n!==null;if(l){var c=n.parentNode;Aa(c),c.append(n),r.clear(),Fe(e,t[0].prev,t[o-1].next)}_r(a,()=>{for(var u=0;u<o;u++){var d=t[u];l||(r.delete(d.k),Fe(e,d.prev,d.next)),Ie(d.e,!l)}})}function Ue(e,t,n,r,a,o=null){var i=e,l={flags:t,items:new Map,first:null},c=(t&ar)!==0;if(c){var u=e;i=u.appendChild(Ht())}var d=null,v=!1,f=or(()=>{var g=n();return vn(g)?g:g==null?[]:hn(g)});Vt(()=>{var g=s(f),h=g.length;v&&h===0||(v=h===0,io(g,l,i,a,t,r,n),o!==null&&(h===0?d?xt(d):d=nt(()=>o(i)):d!==null&&Pt(d,()=>{d=null})),s(f))})}function io(e,t,n,r,a,o,i){var M,B,I,H;var l=(a&wa)!==0,c=(a&(_n|wn))!==0,u=e.length,d=t.items,v=t.first,f=v,g,h=null,p,y=[],w=[],m,b,_,k;if(l)for(k=0;k<u;k+=1)m=e[k],b=o(m,k),_=d.get(b),_!==void 0&&((M=_.a)==null||M.measure(),(p??(p=new Set)).add(_));for(k=0;k<u;k+=1){if(m=e[k],b=o(m,k),_=d.get(b),_===void 0){var S=f?f.e.nodes_start:n;h=co(S,t,h,h===null?t.first:h.next,m,b,k,r,a,i),d.set(b,h),y=[],w=[],f=h.next;continue}if(c&&lo(_,m,k,a),(_.e.f&Ae)!==0&&(xt(_.e),l&&((B=_.a)==null||B.unfix(),(p??(p=new Set)).delete(_))),_!==f){if(g!==void 0&&g.has(_)){if(y.length<w.length){var D=w[0],O;h=D.prev;var A=y[0],P=y[y.length-1];for(O=0;O<y.length;O+=1)Hn(y[O],D,n);for(O=0;O<w.length;O+=1)g.delete(w[O]);Fe(t,A.prev,P.next),Fe(t,h,A),Fe(t,P,D),f=D,h=P,k-=1,y=[],w=[]}else g.delete(_),Hn(_,f,n),Fe(t,_.prev,_.next),Fe(t,_,h===null?t.first:h.next),Fe(t,h,_),h=_;continue}for(y=[],w=[];f!==null&&f.k!==b;)(f.e.f&Ae)===0&&(g??(g=new Set)).add(f),w.push(f),f=f.next;if(f===null)continue;_=f}y.push(_),h=_,f=_.next}if(f!==null||g!==void 0){for(var x=g===void 0?[]:hn(g);f!==null;)(f.e.f&Ae)===0&&x.push(f),f=f.next;var U=x.length;if(U>0){var V=(a&ar)!==0&&u===0?n:null;if(l){for(k=0;k<U;k+=1)(I=x[k].a)==null||I.measure();for(k=0;k<U;k+=1)(H=x[k].a)==null||H.fix()}so(t,x,V,d)}}l&&Sn(()=>{var K;if(p!==void 0)for(_ of p)(K=_.a)==null||K.apply()}),Z.first=t.first&&t.first.e,Z.last=h&&h.e}function lo(e,t,n,r){(r&_n)!==0&&rn(e.v,t),(r&wn)!==0?rn(e.i,n):e.i=n}function co(e,t,n,r,a,o,i,l,c,u){var d=(c&_n)!==0,v=(c&ya)===0,f=d?v?cr(a):mt(a):a,g=(c&wn)===0?i:mt(i),h={i:g,v:f,k:o,a:null,e:null,prev:n,next:r};try{return h.e=nt(()=>l(e,f,g,u),Oa),h.e.prev=n&&n.e,h.e.next=r&&r.e,n===null?t.first=h:(n.next=h,n.e.next=h.e),r!==null&&(r.prev=h,r.e.prev=h.e),h}finally{}}function Hn(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,a=t?t.e.nodes_start:n,o=e.e.nodes_start;o!==r;){var i=Ut(o);a.before(o),o=i}}function Fe(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function Ne(e,t,...n){var r=e,a=er,o;Vt(()=>{a!==(a=t())&&(o&&(Ie(o),o=null),o=nt(()=>a(r,...n)))},jt)}function xr(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=xr(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function uo(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=xr(e))&&(r&&(r+=" "),r+=t);return r}function ne(e){return typeof e=="object"?uo(e):e??""}const Un=[...` 	
\r\f \v\uFEFF`];function fo(e,t,n){var r=e==null?"":""+e;if(t&&(r=r?r+" "+t:t),n){for(var a in n)if(n[a])r=r?r+" "+a:a;else if(r.length)for(var o=a.length,i=0;(i=r.indexOf(a,i))>=0;){var l=i+o;(i===0||Un.includes(r[i-1]))&&(l===r.length||Un.includes(r[l]))?r=(i===0?"":r.substring(0,i))+r.substring(l+1):i=l}}return r===""?null:r}function vo(e,t){return e==null?null:String(e)}function $(e,t,n,r,a,o){var i=e.__className;if(i!==n||i===void 0){var l=fo(n,r,o);l==null?e.removeAttribute("class"):e.className=l,e.__className=n}else if(o&&a!==o)for(var c in o){var u=!!o[c];(a==null||u!==!!a[c])&&e.classList.toggle(c,u)}return o}function Bt(e,t,n,r){var a=e.__style;if(a!==t){var o=vo(t);o==null?e.removeAttribute("style"):e.style.cssText=o,e.__style=t}return r}const ho=Symbol("is custom element"),go=Symbol("is html");function Jt(e,t){var n=Tn(e);n.value===(n.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function Zt(e,t){var n=Tn(e);n.checked!==(n.checked=t??void 0)&&(e.checked=t)}function ve(e,t,n,r){var a=Tn(e);a[t]!==(a[t]=n)&&(t==="loading"&&(e[ia]=n),n==null?e.removeAttribute(t):typeof n!="string"&&po(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function Tn(e){return e.__attributes??(e.__attributes={[ho]:e.nodeName.includes("-"),[go]:e.namespaceURI===La})}var zn=new Map;function po(e){var t=zn.get(e.nodeName);if(t)return t;zn.set(e.nodeName,t=[]);for(var n,r=e,a=Element.prototype;a!==r;){n=$n(r);for(var o in n)n[o].set&&t.push(o);r=gn(r)}return t}function Cn(e,t,n=t){var r=yt();$a(e,"input",a=>{var o=a?e.defaultValue:e.value;if(o=Qt(e)?$t(o):o,n(o),r&&o!==(o=t())){var i=e.selectionStart,l=e.selectionEnd;e.value=o??"",l!==null&&(e.selectionStart=i,e.selectionEnd=Math.min(l,e.value.length))}}),rt(t)==null&&e.value&&n(Qt(e)?$t(e.value):e.value),zt(()=>{var a=t();Qt(e)&&a===$t(e.value)||e.type==="date"&&!a&&!e.value||a!==e.value&&(e.value=a??"")})}function Qt(e){var t=e.type;return t==="number"||t==="range"}function $t(e){return e===""?null:+e}function Vn(e,t){return e===t||(e==null?void 0:e[Ke])===t}function we(e={},t,n,r){return bn(()=>{var a,o;return zt(()=>{a=o,o=[],rt(()=>{e!==n(...o)&&(t(e,...o),a&&Vn(n(...a),e)&&t(null,...a))})}),()=>{Sn(()=>{o&&Vn(n(...o),e)&&t(null,...o)})}}),e}function Wt(e=!1){const t=te,n=t.l.u;if(!n)return;let r=()=>Ga(t.s);if(e){let a=0,o={};const i=et(()=>{let l=!1;const c=t.s;for(const u in c)c[u]!==o[u]&&(o[u]=c[u],l=!0);return l&&a++,a});r=()=>s(i)}n.b.length&&Ba(()=>{Yn(t,r),Ct(n.b)}),ue(()=>{const a=rt(()=>n.m.map(na));return()=>{for(const o of a)typeof o=="function"&&o()}}),n.a.length&&ue(()=>{Yn(t,r),Ct(n.a)})}function Yn(e,t){if(e.l.s)for(const n of e.l.s)s(n);t()}let St=!1;function mo(e){var t=St;try{return St=!1,[e(),St]}finally{St=t}}function qn(e){var t;return((t=e.ctx)==null?void 0:t.d)??!1}function q(e,t,n,r){var S;var a=(n&ba)!==0,o=!it||(n&ka)!==0,i=(n&Ea)!==0,l=(n&Ta)!==0,c=!1,u;i?[u,c]=mo(()=>e[t]):u=e[t];var d=Ke in e||sa in e,v=i&&(((S=$e(e,t))==null?void 0:S.set)??(d&&t in e&&(D=>e[t]=D)))||void 0,f=r,g=!0,h=!1,p=()=>(h=!0,g&&(g=!1,l?f=rt(r):f=r),f);u===void 0&&r!==void 0&&(v&&o&&va(),u=p(),v&&v(u));var y;if(o)y=()=>{var D=e[t];return D===void 0?p():(g=!0,h=!1,D)};else{var w=(a?et:or)(()=>e[t]);w.f|=aa,y=()=>{var D=s(w);return D!==void 0&&(f=void 0),D===void 0?f:D}}if((n&Sa)===0)return y;if(v){var m=e.$$legacy;return function(D,O){return arguments.length>0?((!o||!O||m||c)&&v(O?y():D),D):y()}}var b=!1,_=cr(u),k=et(()=>{var D=y(),O=s(_);return b?(b=!1,O):_.v=D});return i&&s(k),a||(k.equals=mn),function(D,O){if(arguments.length>0){const A=O?s(k):o&&i?se(D):D;if(!k.equals(A)){if(b=!0,T(_,A),h&&f!==void 0&&(f=A),qn(k))return D;rt(()=>s(k))}return D}return qn(k)?k.v:s(k)}}function le(e){te===null&&Pa(),it&&te.l!==null?_o(te).m.push(e):ue(()=>{const t=rt(e);if(typeof t=="function")return t})}function _o(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const wo="5";var Qn;typeof window<"u"&&((Qn=window.__svelte??(window.__svelte={})).v??(Qn.v=new Set)).add(wo);let qe=F(""),Qe=F(null);function yo(e){T(qe,""),setTimeout(()=>{T(qe,e,!0)},16)}var bo=j('<div class="notification svelte-1a2zucn"> </div>');function ko(e,t){W(t,!0),ue(()=>{var l,c;s(qe),s(qe)&&((l=s(Qe))==null||l.getBoundingClientRect(),(c=s(Qe))==null||c.style.setProperty("opacity","1"));const o=setTimeout(()=>{var u;(u=s(Qe))==null||u.style.removeProperty("opacity")},800),i=setTimeout(()=>{var u;T(qe,""),(u=s(Qe))==null||u.style.removeProperty("opacity")},1200);return()=>{clearTimeout(o),clearTimeout(i)}});var n=_e(),r=Y(n);{var a=o=>{var i=bo(),l=E(i);we(i,c=>T(Qe,c),()=>s(Qe)),ae(()=>ct(l,s(qe))),C(o,i)};z(r,o=>{s(qe)&&o(a)})}C(e,n),X()}_a();var So=j('<span class="vh svelte-14jjkpd"><!></span>');function at(e,t){var n=So(),r=E(n);Ne(r,()=>t.children),C(e,n)}var Eo=to('<svg class="svelte-1lqi79o"><use></use></svg>');function ge(e,t){let n=q(t,"name",8,"");var r=Eo(),a=E(r);ae(()=>ve(a,"href",`#icon-${n()??""}`)),C(e,r)}const Or=(e,t)=>{if(!t)return e;if(t.type==="closed")return{type:"closed"};switch(e.type){case"opened":return t.type==="close"?{type:"closing"}:t.type==="swipe"?{type:"openSwiping"}:e;case"closed":return t.type==="open"?{type:"opening"}:t.type==="swipe"?{type:"closeSwiping"}:e;case"openSwiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"closeSwiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"opening":return t.type==="opened"?{type:"opened"}:e;default:return e}};let ln=F(se(Or({type:"closed"})));const je=e=>{T(ln,Or(s(ln),e),!0)},Mr=()=>s(ln),To=()=>{je({type:"open"})},Co=()=>{je({type:"close"})},Do=()=>{const e=Mr().type;e==="closed"?To():e==="opened"&&Co()};var Lo=j('<button class="buttonMenu svelte-uq0knv"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>');function Ar(e,t){W(t,!1),Wt();var n=Lo();n.__click=[Do];var r=E(n);Ee(r,()=>({"--size":"28px"})),ge(r.lastChild,{name:"sidebarMenu"});var a=L(r,2);at(a,{children:(o,i)=>{var l=de("Menu");C(o,l)}}),C(e,n),X()}pe(["click"]);const N=se({historyStack:[],pathname:window.location.pathname,search:window.location.search,historyLength:0}),Ir=()=>{var e;return((e=new URLSearchParams(N.search).get("selectedTags"))==null?void 0:e.split(","))||[]};let Et=Ir();const Po=()=>{const e=Ir();return e.join(",")===Et.join(",")||(Et=e),Et},xo=()=>{N.pathname=document.location.pathname,N.search=document.location.search,N.historyLength=Math.max(0,N.historyLength-=1)};window.addEventListener("popstate",xo);const cn=e=>{const[t,n]=e.split("?");N.pathname=t,N.search=n?`?${n}`:"",N.historyLength+=1,N.historyStack.push(window.location.href),window.history.replaceState(null,"",e)},Oo=e=>{const[t,n]=e.split("?");N.pathname=t,N.search=n?`?${n}`:"",window.history.replaceState(null,"",e)},Br=(e="/")=>{var r;const[t,n]=e.split("?");if(N.historyLength<=0){const a=window.location.href,[o,i]=a.split("?");if(i.includes("stackPages")){const l=new URLSearchParams(i),u=(((r=l.get("stackPages"))==null?void 0:r.split(","))||[]).slice(0,-1);l.set("stackPages",u.join(","));const d=`${o}?${l.toString()}`;window.history.replaceState(null,"",d),N.search=l.toString()?`?${l.toString()}`:""}else window.history.replaceState(null,"",e),N.historyLength=0,N.pathname=t,N.search=n?`?${n}`:""}else if(N.historyStack.length>0){const a=N.historyStack.pop();if(a){const[o,i]=a.split("?");window.history.replaceState(null,"",a),N.historyLength=Math.max(0,N.historyLength-=1),N.pathname=o,N.search=i?`?${i}`:""}}},Xt=()=>{const e=N.historyStack.findIndex(n=>n.includes("stackPages")),t=e===-1?N.historyStack.slice(0):N.historyStack.slice(0,e);if(t.length>0){const n=t.pop();if(n){const[r,a]=n.split("?");window.history.replaceState(null,"",n),N.historyLength=Math.max(0,t.length),N.pathname=r,N.search=a?`?${a}`:"",N.historyStack=t}}else window.history.replaceState(null,"","/"),N.historyLength=0,N.pathname="/",N.search="",N.historyStack=[]},Be=()=>{var e;return((e=new URLSearchParams(N.search).get("stackPages"))==null?void 0:e.split(","))||[]};let gt=F(se(Be()));const ut=e=>{const t=Be();t.push(e);const n=new URLSearchParams(N.search);n.set("stackPages",t.join(",")),T(gt,t,!0),cn(`${N.pathname}?${n.toString()}`)},Rr=()=>{const e=Be().slice(0,-1);T(gt,e,!0)},Nr=()=>{const e=Be();return e.length>=s(gt).length?e.reduce((t,n)=>[...t,{page:n,shown:!0}],[]):s(gt).reduce((t,n,r)=>[...t,{page:n,shown:e.length===0?!1:r!==s(gt).length-1}],[])},Mo=e=>{e.preventDefault(),ut("settings")},Ao=e=>{e.preventDefault(),ut("newBookmark")};var Io=j('<a class="addBookmark svelte-1dt9h1e"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Add bookmark</span></a>'),Bo=j('<div class="header svelte-1dt9h1e"><div class="top svelte-1dt9h1e"><div class="desktop svelte-1dt9h1e"><a class="link svelte-1dt9h1e"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Settings</span></a></div> <div class="mobile svelte-1dt9h1e"><!></div> <!></div></div>');function Ro(e,t){W(t,!0);const n=()=>{const p=Be();p.includes("settings")||p.push("settings");const y=new URLSearchParams(N.search);return y.set("stackPages",p.join(",")),`${N.pathname}?${y}`};let a=G(()=>{const p=Be();p.includes("newBookmark")||p.push("newBookmark");const y=new URLSearchParams(N.search);return y.set("stackPages",p.join(",")),`${N.pathname}?${y}`}),o=G(n);var i=Bo(),l=E(i),c=E(l),u=E(c);u.__click=[Mo];var d=E(u);Ee(d,()=>({"--size":"20px"})),ge(d.lastChild,{name:"settings"});var v=L(c,2),f=E(v);Ar(f,{});var g=L(v,2);{var h=p=>{var y=Io();y.__click=[Ao];var w=E(y);Ee(w,()=>({"--size":"24px","--color":"#b0b0b0"})),ge(w.lastChild,{name:"plus"}),ae(()=>ve(y,"href",s(a))),C(p,y)};z(g,p=>{N.pathname!=="/settings"&&p(h)})}ae(()=>ve(u,"href",s(o))),C(e,i),X()}pe(["click"]);const No=(e,t)=>{let n=null;return()=>{n&&clearTimeout(n),n=setTimeout(()=>{e()},t)}},Fr=()=>window.matchMedia("(max-width: 768px)").matches;let jr=F(se(Fr()));const Fo=No(()=>{T(jr,Fr(),!0)},16);window.addEventListener("resize",Fo);const Kt=()=>s(jr),Dn=se({count:0}),jo=()=>Dn.count>0,Ho=()=>{Dn.count+=1},Uo=()=>{Dn.count-=1},ce=se({working:!1,swipingRatio:1,isSwiping:!1,duration:.35});let un=!1;const en=()=>{document.activeElement instanceof HTMLInputElement||document.activeElement instanceof HTMLTextAreaElement?un=!0:un=!1},Ln=()=>un;function zo(e,t){W(t,!0);let n=q(t,"dialog",7),r=null;const a=()=>{t.dialogState==="swiping"&&t.onClose()};ue(()=>(t.dialogState==="swiping"&&(r=setTimeout(a,3e3)),()=>{r&&(clearTimeout(r),r=null)}));let o=null,i=null;const l=3,c=50,u=5,d=.6,v=.3,f=.35,g=.95;let h=0,p=0,y=0,w=!1,m=!1,b=0,_=0,k=0;const S=()=>{h=0,p=0,w=!1,m=!1,b=0,_=0,k=0,y=0,o=null,i!==null&&(cancelAnimationFrame(i),i=null),r&&(clearTimeout(r),r=null)},D=I=>{if(!n()){console.warn("Touch start: No dialog element");return}if(t.dialogState!=="opened"){console.warn(`Touch start: Invalid sidebar state: ${t.dialogState}`);return}h=I.touches[0].clientX,p=I.touches[0].clientY,y=performance.now(),w=!0,m=!1},O=I=>t.dialogState==="opened"&&I>0||t.dialogState==="swiping"&&I>0,A=I=>{if(n()){n().style.setProperty("--transition-timing","0s"),t.onSwipe(),navigator.vibrate&&navigator.vibrate(10);try{const H=window.getComputedStyle(n()),K=H.transform||H.webkitTransform||"";if(_=n().offsetWidth,(t.dialogState==="swiping"||t.dialogState==="opened")&&(b=0),K&&K!=="none")try{b=new DOMMatrix(K).m41}catch{console.warn("Could not parse transform matrix, using default position")}m=!0}catch(H){console.error("Error during swipe initialization:",H),S()}}},P=()=>{if(!n())return;const H=Math.abs(b+k*_/100)/_;n().style.setProperty("--backdrop-bg",`rgba(0, 0, 0, ${.1*(1-H)})`)},x=()=>{if(i=null,!o||!w||!n()||Ln()){S();return}const I=o.touches[0].clientX,H=o.touches[0].clientY,K=I-h,oe=H-p,R=Math.abs(K)>Math.abs(oe),Q=Math.abs(K)>l;if(!m)if(R&&Q&&O(K))try{A(K)}catch(xn){console.error("Error initializing swipe:",xn),S();return}else return;if(!O(K))return;n().style.setProperty("--transition-timing","0s");let ee=b+K*g;ee=Math.max(0,Math.min(_,ee)),n().style.transform=`translate3d(${ee}px, 0, 0)`,ce.swipingRatio=Math.abs(1-ee/_),k=(ee-b)/_*100,t.dialogState==="swiping"&&(r&&clearTimeout(r),r=setTimeout(a,3e3)),P()},U=I=>{if(!w)return;o=I,i===null&&(i=requestAnimationFrame(x));const H=I.touches[0].clientX-h,K=I.touches[0].clientY-p,oe=Math.abs(H)>Math.abs(K);m&&oe&&I.preventDefault()},V=I=>{const H=Math.abs(I);if(H>=d)return u;if(H>=v){const K=(H-v)/(d-v);return c-K*(c-u)}else return c},M=(I,H)=>{if(Math.abs(I)>=d)return f*.5;const oe=Math.abs(k)/100;return H?f*Math.max(.5,1-oe):f*Math.max(.5,oe)},B=I=>{var ee,be;if(i!==null&&(cancelAnimationFrame(i),i=null),!w||!n()){S();return}if(!m){S();return}let H=0;if((ee=I==null?void 0:I.changedTouches)!=null&&ee[0]){const Me=I.changedTouches[0].clientX,On=performance.now()-y;On>0&&(H=(Me-h)/On)}const K=V(H);let oe=null;t.dialogState==="swiping"&&(oe=Math.abs(k)>K||H<-.3?"close":"open");const R=t.dialogState==="swiping"&&oe==="close",Q=M(H,R);ce.duration=Q-.02,n().style.setProperty("--transition-timing",`${Q}s`),n().offsetWidth,n().style.transform="",oe==="open"?t.onOpen():oe==="close"&&t.onClose(),(be=n())==null||be.style.removeProperty("--backdrop-bg"),S()};le(()=>(n().addEventListener("touchstart",D,{passive:!0}),n().addEventListener("touchmove",U,{passive:!1}),n().addEventListener("touchend",B,{passive:!0}),n().addEventListener("touchcancel",B,{passive:!0}),()=>{n().removeEventListener("touchstart",D),n().removeEventListener("touchmove",U),n().removeEventListener("touchend",B),n().removeEventListener("touchcancel",B),i!==null&&cancelAnimationFrame(i)})),X()}var Vo=(e,t)=>{t.onStartClose()},Yo=j('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),qo=j('<dialog><div class="dialogInner svelte-1kz0rp4"><span tabindex="1"></span> <!> <div class="header svelte-1kz0rp4"><div><!></div></div></div></dialog> <!>',1);function Wo(e,t){W(t,!0);let n=350,r=F(null),a=F(null);const o=w=>{w.preventDefault(),t.onStartClose()};le(()=>{var w,m;return(w=s(r))==null||w.addEventListener("close",t.onClosed),(m=s(r))==null||m.addEventListener("cancel",o),()=>{var b,_;(b=s(r))==null||b.removeEventListener("close",t.onClosed),(_=s(r))==null||_.removeEventListener("cancel",o)}});const i=()=>{var w,m,b;(w=s(r))==null||w.style.removeProperty("--transition-timing"),(m=s(r))==null||m.style.removeProperty("transform"),(b=s(r))==null||b.style.removeProperty("--backdrop-bg")};ue(()=>{var w,m;if(t.dialogState,!!s(r))switch(t.dialogState){case"opening":{s(r).open||s(r).showModal(),s(r).getBoundingClientRect();const b=setTimeout(()=>{i()},n+1),_=()=>{clearTimeout(b),i()};return(w=s(r))==null||w.addEventListener("transitionend",_,{once:!0}),t.onOpened(),()=>{var k;(k=s(r))==null||k.removeEventListener("transitionend",_)}}case"closing":{const b=setTimeout(()=>{t.dialogState==="closing"&&t.onClosed()},n+1),_=()=>{clearTimeout(b),t.onClosed()};return(m=s(r))==null||m.addEventListener("transitionend",_,{once:!0}),()=>{var k;(k=s(r))==null||k.removeEventListener("transitionend",_)}}case"opened":i()}});var l=qo(),c=Y(l),u=E(c),d=L(E(u),2);Ne(d,()=>t.children);var v=L(d,2),f=E(v),g=E(f);{var h=w=>{var m=Yo();$(m,1,ne(["navigateButton","buttonBack"]),"svelte-1kz0rp4"),m.__click=[Vo,t];var b=E(m);Ee(b,()=>({"--size":"20px"})),ge(b.lastChild,{name:"back"});var _=L(b,2);at(_,{children:(k,S)=>{var D=de("back");C(k,D)}}),C(w,m)};z(g,w=>{t.blocked||t.hidden||w(h)})}we(u,w=>T(a,w),()=>s(a)),we(c,w=>T(r,w),()=>s(r));var p=L(c,2);{var y=w=>{zo(w,{get onClose(){return t.onStartClose},get onOpen(){return t.onStartOpen},get onSwipe(){return t.onSwipe},get dialogState(){return t.dialogState},get dialog(){return s(r)}})};z(p,w=>{(t.dialogState==="opened"||t.dialogState==="swiping")&&!t.blocked&&w(y)})}ae(()=>$(c,1,ne([{open:t.dialogState==="opened",hidden:t.hidden,isAnimationOn:ce.working&&(!ce.isSwiping||!t.hidden)},{hidden:t.hidden}]),"svelte-1kz0rp4")),C(e,l),X()}pe(["click"]);const Wn=(e,t)=>{if(!t)return e;if(t.type==="closed")return{type:"closed"};switch(e.type){case"opened":return t.type==="close"?{type:"closing"}:t.type==="swipe"?{type:"swiping"}:e;case"closed":return t.type==="open"?{type:"opening"}:e;case"swiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"opening":return t.type==="opened"?{type:"opened"}:e;default:return e}};function Xo(e,t){W(t,!0);let n=q(t,"blocked",3,!1),r=q(t,"hiddenDialog",3,!1),a=q(t,"onStartClose",3,()=>{}),o=q(t,"onClose",3,()=>{}),i=F(se(Wn({type:"closed"})));const l=y=>{T(i,Wn(s(i),y),!0)},c=()=>{n()||(a()(),l({type:"close"}))},u=()=>{n()||l({type:"open"})},d=()=>{l({type:"opened"}),ce.duration=.2},v=()=>{o()(),l({type:"closed"}),ce.swipingRatio=1,ce.duration=.2},f=()=>{l({type:"swipe"})};ue(()=>{s(i).type==="swiping"?ce.isSwiping=!0:ce.isSwiping=!1,s(i).type==="closed"&&t.shownDialog?u():s(i).type==="opened"&&!t.shownDialog&&c()});var g=_e(),h=Y(g);{var p=y=>{Wo(y,{onSwipe:f,onOpened:d,onClosed:v,onStartClose:c,onStartOpen:u,get dialogState(){return s(i).type},get hidden(){return r()},get blocked(){return n()},children:(w,m)=>{var b=_e(),_=Y(b);Ne(_,()=>t.children),C(w,b)},$$slots:{default:!0}})};z(h,y=>{s(i).type!=="closed"&&y(p)})}return C(e,g),X({handleComputeState:l})}const Ko=({getDialog:e,onOpen:t,onStartClose:n,onClose:r})=>{const a=i=>{i.preventDefault(),n()},o=()=>{r==null||r()};le(()=>{const i=e();return i==null||i.addEventListener("cancel",a),i==null||i.addEventListener("close",o),()=>{i==null||i.removeEventListener("cancel",a),i==null||i.removeEventListener("close",o)}}),le(()=>{const i=e();i==null||i.showModal(),i==null||i.getBoundingClientRect(),t()})};function Hr(e,t){W(t,!0),le(()=>{const n=r=>{var a;r.target&&((a=t.dialog)!=null&&a.open)&&t.dialogInner&&t.dialogInner!==r.target&&!t.dialogInner.contains(r.target)&&t.onClose()};return document.addEventListener("mousedown",n,{capture:!0}),()=>{document.removeEventListener("mousedown",n,{capture:!0})}}),X()}var Go=(e,t)=>{t.onStartBack()},Jo=j('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),Zo=(e,t)=>{t.onStartClose()},Qo=j('<div><!></div> <div><button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button></div>',1),$o=j('<dialog><div class="dialogInner svelte-hiwf00"><!> <div class="header svelte-hiwf00"><!></div></div></dialog> <!>',1);function es(e,t){W(t,!0);let n=q(t,"blockedDialog",3,!1),r=q(t,"hiddenDialog",3,!1),a=q(t,"isDesktopAnimationOff",3,!1),o=F(null),i=F(null);Ko({getDialog:()=>s(o),onOpen:t.onOpen,onStartClose:t.onStartClose,onClose:t.onClose}),ue(()=>{var p,y;t.stateDialog==="closing"&&(ce.working?(p=s(o))==null||p.addEventListener("transitionend",()=>{var w;(w=s(o))==null||w.close()},{once:!0}):(y=s(o))==null||y.close())});var l=$o(),c=Y(l),u=E(c),d=E(u);Ne(d,()=>t.children);var v=L(d,2),f=E(v);{var g=p=>{var y=Qo(),w=Y(y),m=E(w);{var b=O=>{var A=Jo();$(A,1,ne(["navigateButton","buttonBack"]),"svelte-hiwf00"),A.__click=[Go,t];var P=E(A);Ee(P,()=>({"--size":"20px"})),ge(P.lastChild,{name:"back"});var x=L(P,2);at(x,{children:(U,V)=>{var M=de("back");C(U,M)}}),C(O,A)};z(m,O=>{t.onStartBack&&O(b)})}var _=L(w,2),k=E(_);$(k,1,ne(["navigateButton","buttonClose"]),"svelte-hiwf00"),k.__click=[Zo,t];var S=E(k);Ee(S,()=>({"--size":"20px"})),ge(S.lastChild,{name:"close"});var D=L(S,2);at(D,{children:(O,A)=>{var P=de("close");C(O,P)}}),C(p,y)};z(f,p=>{n()||r()||p(g)})}we(u,p=>T(i,p),()=>s(i)),we(c,p=>T(o,p),()=>s(o));var h=L(c,2);Hr(h,{get dialog(){return s(o)},get dialogInner(){return s(i)},get onClose(){return t.onStartClose}}),ae(()=>$(c,1,ne([{open:t.stateDialog==="open",isAnimationOn:ce.working,isDesktopAnimationOff:a(),hiddenDialog:r()}]),"svelte-hiwf00")),C(e,l),X()}pe(["click"]);const ts=({onStartClose:e,onClose:t})=>{let n=F("close");return{get state(){return s(n)},set state(i){T(n,i,!0)},handleStartClose:(i=!1)=>{i||(T(n,"closing"),e==null||e())},handleOpen:()=>{T(n,"open")},handleClose:()=>{T(n,"close"),t==null||t()}}};function ns(e,t){W(t,!0);let n=q(t,"blockedDialog",3,!1),r=q(t,"hiddenDialog",3,!1),a=q(t,"onStartClose",3,()=>{}),o=q(t,"onClose",3,()=>{}),i=ts({onStartClose:a(),onClose:o()});ue(()=>{i.state==="close"&&t.shownDialog?i.state="opening":i.state==="open"&&!t.shownDialog&&i.handleStartClose(n())});var l=_e(),c=Y(l);{var u=d=>{es(d,{get stateDialog(){return i.state},get blockedDialog(){return n()},get hiddenDialog(){return r()},get onOpen(){return i.handleOpen},get onStartBack(){return t.onStartBack},onStartClose:()=>{i.handleStartClose(n())},get onClose(){return i.handleClose},children:(v,f)=>{var g=_e(),h=Y(g);Ne(h,()=>t.children),C(v,g)},$$slots:{default:!0}})};z(c,d=>{i.state!=="close"&&d(u)})}C(e,l),X()}function Ur(e,t){W(t,!0);let n=q(t,"blockedDialog",3,!1),r=q(t,"hiddenDialog",3,!1),a=q(t,"isLastDialog",3,!1),o=q(t,"onStartClose",3,()=>{}),i=q(t,"onClose",3,()=>{});const l=G(()=>a()?void 0:t.onStartBack);le(()=>(Ho(),()=>{Uo()}));var c=_e(),u=Y(c);{var d=f=>{Xo(f,{get shownDialog(){return t.shownDialog},get blocked(){return n()},get hiddenDialog(){return r()},get children(){return t.children},get onStartClose(){return t.onStartBack},get onClose(){return i()}})},v=f=>{ns(f,{get shownDialog(){return t.shownDialog},get blockedDialog(){return n()},get hiddenDialog(){return r()},get children(){return t.children},get onStartBack(){return s(l)},get onStartClose(){return o()},get onClose(){return i()}})};z(u,f=>{Kt()?f(d):f(v,!1)})}C(e,c),X()}let zr=F(!1);const ot=e=>{T(zr,e,!0)},Xn=()=>s(zr);function Kn(e,t){W(t,!0);let n=q(t,"blocked",3,!1),r=q(t,"isLastDialog",3,!1),a=q(t,"onBack",3,()=>{});const o=G(()=>n()||t.hidden||Xn()),i=()=>{!s(o)&&t.shown&&(Br(),a()())},l=()=>{!s(o)&&t.shown&&Xt()},c=()=>{Rr()},u=G(()=>n()||t.hidden||Xn());Ur(e,{get shownDialog(){return t.shown},get blockedDialog(){return s(u)},get hiddenDialog(){return t.hidden},get isLastDialog(){return r()},onStartBack:i,onStartClose:l,onClose:c,children:(d,v)=>{var f=_e(),g=Y(f);Ne(g,()=>t.children),C(d,f)},$$slots:{default:!0}}),X()}const Vr=()=>crypto.randomUUID(),rs="bookmarksStore",as=1,Ce="bookmarks";let ie;window.addEventListener("unhandledrejection",e=>{alert("Error: "+e.reason.message)});const os=()=>new Promise((e,t)=>{const n=indexedDB.open(rs,as);n.addEventListener("upgradeneeded",()=>{const r=n.result;r.objectStoreNames.contains(Ce)||r.createObjectStore(Ce,{keyPath:"id"})}),n.addEventListener("success",()=>{e(),ie=n.result,ie.onversionchange=function(){ie==null||ie.close(),alert("app outdated, please reload the page")}}),n.addEventListener("blocked",()=>{t(),alert("app outdated, please reload the page")}),n.addEventListener("error",()=>{t(),console.error("Error",n.error)})}),Yr=()=>new Promise((e,t)=>{const n=ie==null?void 0:ie.transaction(Ce,"readonly"),r=n==null?void 0:n.objectStore(Ce).getAll();r==null||r.addEventListener("success",()=>{const a=r.result;e(a)}),r==null||r.addEventListener("error",()=>{t()})}),qr=async e=>new Promise((t,n)=>{const r=ie==null?void 0:ie.transaction(Ce,"readwrite"),a=r==null?void 0:r.objectStore(Ce),o=a==null?void 0:a.put({...e});o==null||o.addEventListener("success",()=>{t()}),o==null||o.addEventListener("error",()=>{n()})}),ss=async e=>new Promise((t,n)=>{const r=ie==null?void 0:ie.transaction(Ce,"readwrite"),a=r==null?void 0:r.objectStore(Ce),o=a==null?void 0:a.delete(e);o==null||o.addEventListener("success",()=>{t()}),o==null||o.addEventListener("error",()=>{n()})}),is=()=>new Promise((e,t)=>{const n=ie==null?void 0:ie.transaction(Ce,"readwrite"),r=n==null?void 0:n.objectStore(Ce),a=r==null?void 0:r.clear();a==null||a.addEventListener("success",()=>{e()}),a==null||a.addEventListener("error",()=>{t()})}),ls=async()=>{await is()},cs=async e=>{const t=(await Yr()).reduce((o,i)=>(o[i.id]=i,o),{}),n={},r=ie==null?void 0:ie.transaction(Ce,"readwrite"),a=r==null?void 0:r.objectStore(Ce);e.forEach(o=>{t[o.id]?t[o.id].lastUpdatedTimestamp<o.lastUpdatedTimestamp&&(n[o.id]=o):n[o.id]=o}),await Promise.all(Object.values(n).map(o=>{const i=a==null?void 0:a.put(o);return new Promise((l,c)=>{i==null||i.addEventListener("success",()=>{l()}),i==null||i.addEventListener("error",()=>{c()})})}))};let re=F({inited:!1,bookmarks:[],mapBookmarks:new Map});const Wr=async()=>{const e=await Yr(),t=new Map,n=[];e.forEach(r=>{n[r.order]=r,t.set(r.id,r)}),T(re,{...s(re),bookmarks:n,mapBookmarks:t,inited:!0})};os().then(async()=>{await Wr()}).catch(()=>{console.error("failed to init db")});const Rt=()=>s(re).inited,Xr=()=>s(re).bookmarks,us=()=>s(re).mapBookmarks,ds=async e=>{var n;const t={id:Vr(),order:(((n=s(re).bookmarks.at(-1))==null?void 0:n.order)||s(re).bookmarks.length)+1,createdTimestamp:Date.now(),...e,lastUpdatedTimestamp:Date.now()};s(re).bookmarks.push(t),s(re).mapBookmarks.set(t.id,t),T(re,{...s(re)}),await qr(t)},fs=async e=>{const t={...e,lastUpdatedTimestamp:Date.now()};s(re).bookmarks[t.order]=t,s(re).mapBookmarks.set(t.id,t),T(re,{...s(re)}),await qr(t)},vs=async e=>{const t=s(re).mapBookmarks.get(e);s(re).mapBookmarks.delete(e),s(re).bookmarks[(t==null?void 0:t.order)||0]=void 0,T(re,{...s(re)}),await ss(e)},hs=async()=>{T(re,{inited:!0,bookmarks:[],mapBookmarks:new Map}),await ls()},gs=async(e="bookmarks-export.json")=>{const t=JSON.stringify({bookmarks:s(re).bookmarks}),n=new Blob([t],{type:"application/json"}),r=URL.createObjectURL(n),a=document.createElement("a");a.href=r,a.download=e,document.body.appendChild(a),a.click(),setTimeout(()=>{document.body.removeChild(a),URL.revokeObjectURL(r)},0)},Gn=async e=>{await cs(e),await Wr()};let Kr=F({});const Gr=()=>s(Kr),ps=e=>{T(Kr,e)};var ms=j('<input class="svelte-uertz">');function dn(e,t){W(t,!0);let n=q(t,"value",15,"");var r=ms();ae(()=>ve(r,"placeholder",t.placeholder)),Cn(r,n),C(e,r),X()}function _s(e,t){W(t,!0);let n=q(t,"dialog",7);const r=3,a=50,o=5,i=.6,l=.3,c=.35,u=.95;let d=0,v=0,f=0,g=!1,h=!1,p=0,y=0,w=0;const m=()=>{d=0,v=0,g=!1,h=!1,p=0,y=0,w=0,f=0,b!==null&&(cancelAnimationFrame(b),b=null),_=null};let b=null,_=null;const k=M=>{if(!n()){console.warn("Touch start: No dialog element");return}if(t.sidebarState!=="opened"&&t.sidebarState!=="closed"){console.warn(`Touch start: Invalid sidebar state: ${t.sidebarState}`);return}d=M.touches[0].clientX,v=M.touches[0].clientY,f=performance.now(),g=!0,h=!1},S=M=>t.sidebarState==="closed"&&M>0||t.sidebarState==="closeSwiping"&&M>0||t.sidebarState==="opened"&&M<0||t.sidebarState==="openSwiping"&&M<0,D=M=>{if(n()){if(n().style.setProperty("--transition-timing","0s"),!n().open&&t.sidebarState==="closed")try{n().showModal(),n().offsetWidth}catch(B){console.error("Error opening dialog:",B);return}t.onSwipe();try{const B=window.getComputedStyle(n()),I=B.transform||B.webkitTransform||"";if(y=n().offsetWidth,t.sidebarState==="closeSwiping"||t.sidebarState==="closed"?p=-y:(t.sidebarState==="openSwiping"||t.sidebarState==="opened")&&(p=0),I&&I!=="none")try{p=new DOMMatrix(I).m41}catch{console.warn("Could not parse transform matrix, using default position")}h=!0}catch(B){console.error("Error during swipe initialization:",B),m()}}},O=()=>{if(!n())return;const B=Math.abs(p+w*y/100)/y;n().style.setProperty("--backdrop-bg",`rgba(0, 0, 0, ${.25*(1-B)})`)},A=()=>{if(b=null,!_||!g||!n()||Ln())return;const{x:M,y:B}=_;_=null;const I=M-d,H=B-v,K=Math.abs(I)>Math.abs(H),oe=Math.abs(I)>r;if(!h)if(K&&oe&&S(I))try{D(I)}catch(be){console.error("Error initializing swipe:",be),m();return}else return;if(!S(I))return;n().style.setProperty("--transition-timing","0s");let R=p+I*u;const Q=-y;R=Math.max(Q,Math.min(0,R)),n().style.transform=`translate3d(${R}px, 0, 0)`,w=(R-p)/y*100,O()},P=M=>{if(!g)return;const B=M.touches[0].clientX,I=M.touches[0].clientY;_={x:B,y:I},b===null&&(b=requestAnimationFrame(A)),h&&Math.abs(B-d)>Math.abs(I-v)&&M.preventDefault()},x=M=>{const B=Math.abs(M);if(B>=i)return o;if(B>=l){const I=(B-l)/(i-l);return a-I*(a-o)}else return a},U=(M,B)=>{if(Math.abs(M)>=i)return c*.5;const H=Math.abs(w)/100;return B?c*Math.max(.5,1-H):c*Math.max(.5,H)},V=M=>{var R,Q;if(b!==null&&(cancelAnimationFrame(b),b=null),_=null,!g||!n()){m();return}if(!h){m();return}let B=0;if((R=M==null?void 0:M.changedTouches)!=null&&R[0]){const ee=M.changedTouches[0].clientX,Me=performance.now()-f;Me>0&&(B=(ee-d)/Me)}const I=x(B);let H=null;t.sidebarState==="closeSwiping"?H=Math.abs(w)>I||B>l?"open":"close":t.sidebarState==="openSwiping"&&(H=Math.abs(w)>I||B<-.3?"close":"open");const K=t.sidebarState==="closeSwiping"&&H==="open"||t.sidebarState==="openSwiping"&&H==="close",oe=U(B,K);n().style.setProperty("--transition-timing",`${oe}s`),n().offsetWidth,n().style.transform="",H==="open"?t.onOpen():H==="close"&&t.onClose(),(Q=n())==null||Q.style.removeProperty("--backdrop-bg"),m()};le(()=>(document.addEventListener("touchstart",k,{passive:!0}),document.addEventListener("touchmove",P,{passive:!1}),document.addEventListener("touchend",V,{passive:!0}),document.addEventListener("touchcancel",V,{passive:!0}),()=>{document.removeEventListener("touchstart",k),document.removeEventListener("touchmove",P),document.removeEventListener("touchend",V),document.removeEventListener("touchcancel",V),b!==null&&cancelAnimationFrame(b)})),X()}var ws=j('<dialog><div class="dialogInner svelte-1in1s0g"><!></div></dialog> <!> <!>',1);function ys(e,t){W(t,!0);let n=350,r=F(null),a=F(null),o=G(Mr);ue(()=>{Nr().length>0&&je({type:"close"})});const i=()=>{t.blocked||je({type:"close"})},l=()=>{t.blocked||je({type:"open"})},c=()=>{je({type:"opened"})},u=()=>{je({type:"closed"})},d=()=>{je({type:"swipe"})},v=S=>{S.preventDefault(),i()};le(()=>{var S,D;return(S=s(r))==null||S.addEventListener("close",u),(D=s(r))==null||D.addEventListener("cancel",v),()=>{var O,A;(O=s(r))==null||O.removeEventListener("close",u),(A=s(r))==null||A.removeEventListener("cancel",v)}});const f=()=>{var S,D,O;(S=s(r))==null||S.style.removeProperty("--transition-timing"),(D=s(r))==null||D.style.removeProperty("transform"),(O=s(r))==null||O.style.removeProperty("--backdrop-bg")};ue(()=>{var S,D,O;if(s(o),!!s(r))switch(s(o).type){case"closeSwiping":{const A=setTimeout(()=>{i()},3e3);return()=>{clearTimeout(A)}}case"openSwiping":{const A=setTimeout(()=>{l()},3e3);return()=>{clearTimeout(A)}}case"opening":{s(r).open||s(r).showModal(),s(r).getBoundingClientRect();const A=setTimeout(()=>{f()},n+1),P=()=>{clearTimeout(A),f()};return(S=s(r))==null||S.addEventListener("transitionend",P,{once:!0}),c(),()=>{var x;(x=s(r))==null||x.removeEventListener("transitionend",P)}}case"closing":{const A=setTimeout(()=>{s(o).type==="closing"&&u()},n+1),P=()=>{clearTimeout(A),u()};return(D=s(r))==null||D.addEventListener("transitionend",P,{once:!0}),()=>{var x;(x=s(r))==null||x.removeEventListener("transitionend",P)}}case"closed":(O=s(r))==null||O.close(),f();break;case"opened":f();break}});var g=ws(),h=Y(g),p=E(h),y=E(p);{var w=S=>{var D=_e(),O=Y(D);Ne(O,()=>t.children),C(S,D)};z(y,S=>{s(o).type!=="closed"&&S(w)})}we(p,S=>T(a,S),()=>s(a)),we(h,S=>T(r,S),()=>s(r));var m=L(h,2);{var b=S=>{Hr(S,{get dialog(){return s(r)},get dialogInner(){return s(a)},onClose:i})};z(m,S=>{s(o).type==="opened"&&!t.blocked&&S(b)})}var _=L(m,2);{var k=S=>{_s(S,{onClose:i,onOpen:l,onSwipe:d,get sidebarState(){return s(o).type},get dialog(){return s(r)}})};z(_,S=>{(s(o).type==="closed"||s(o).type==="opened"||s(o).type==="openSwiping"||s(o).type==="closeSwiping")&&!t.blocked&&S(k)})}ae(()=>$(h,1,ne([{open:s(o).type==="opened",hidden:t.blocked,isAnimationOn:ce.working&&(!ce.isSwiping||!t.blocked)}]),"svelte-1in1s0g")),C(e,g),X()}var bs=j("<button> </button>");function Xe(e,t){var n=bs();n.__click=function(...a){var o;(o=t.onClick)==null||o.apply(this,a)};var r=E(n);ae(()=>{ve(n,"type",t.type),$(n,1,ne([{selectedTag:t.style==="selected"}]),"svelte-hsbyyy"),ct(r,t.title)}),C(e,n)}pe(["click"]);const ks=e=>{e.preventDefault(),ut("settings")};var Ss=j("<div></div>"),Es=j('<div class="sidebarFixed svelte-1sa3pij"><div class="nav svelte-1sa3pij"><!> <a class="link svelte-1sa3pij"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Settings</span></a></div> <div class="searchWrapper svelte-1sa3pij"><!></div> <!></div> <div class="tags svelte-1sa3pij"></div>',1),Ts=j("<div></div>"),Cs=j('<div class="sidebar svelte-1sa3pij"><div class="sidebarFixed svelte-1sa3pij"><div class="searchWrapper svelte-1sa3pij"><!></div> <!></div> <div class="tags svelte-1sa3pij"></div></div>');function Ds(e,t){W(t,!0);let n=F(""),r=G(()=>{var h;return((h=new URLSearchParams(N.search).get("selectedTags"))==null?void 0:h.split(","))||[]});const a=()=>{const h=Be();h.includes("settings")||h.push("settings");const p=new URLSearchParams(N.search);return p.set("stackPages",h.join(",")),`${N.pathname}?${p}`},o=h=>{const p=new URLSearchParams(N.search);p.set("selectedTags",[...s(r),h].join(",")),cn(`${N.pathname}${p.size>0?`?${p.toString()}`:""}`),T(n,"")},i=h=>{const p=new URLSearchParams(N.search),y=s(r).filter(w=>w!==h);y.length===0?p.delete("selectedTags"):p.set("selectedTags",y.join(",")),cn(`${N.pathname}${p.size>0?`?${p.toString()}`:""}`)};let l=G(()=>Rt()?Object.values(Gr()).filter(h=>!s(r).some(p=>h.name===p)):[]),c=G(a),u=G(()=>Be().length>0||jo());var d=_e(),v=Y(d);{var f=h=>{ys(h,{get blocked(){return s(u)},children:(p,y)=>{var w=Es(),m=Y(w),b=E(m),_=E(b);Ar(_,{});var k=L(_,2);k.__click=[ks];var S=E(k);Ee(S,()=>({"--size":"20px"})),ge(S.lastChild,{name:"settings"});var D=L(b,2),O=E(D);dn(O,{placeholder:"Search tag",get value(){return s(n)},set value(U){T(n,U,!0)}});var A=L(D,2);{var P=U=>{var V=Ss();$(V,1,ne(["tags","selectedTags"]),"svelte-1sa3pij"),Ue(V,20,()=>s(r),M=>M,(M,B)=>{Xe(M,{get title(){return B},onClick:()=>i(B),style:"selected"})}),C(U,V)};z(A,U=>{s(r).length>0&&U(P)})}var x=L(m,2);Ue(x,21,()=>s(l),U=>U.name,(U,V)=>{var M=_e(),B=Y(M);{var I=H=>{Xe(H,{get title(){return s(V).name},onClick:()=>o(s(V).name)})};z(B,H=>{(s(n)===""||s(V).name.toLowerCase().indexOf(s(n).toLowerCase())!==-1)&&H(I)})}C(U,M)}),ae(()=>ve(k,"href",s(c))),C(p,w)},$$slots:{default:!0}})},g=h=>{var p=Cs(),y=E(p),w=E(y),m=E(w);dn(m,{placeholder:"Search tag",get value(){return s(n)},set value(S){T(n,S,!0)}});var b=L(w,2);{var _=S=>{var D=Ts();$(D,1,ne(["tags","selectedTags"]),"svelte-1sa3pij"),Ue(D,20,()=>s(r),O=>O,(O,A)=>{Xe(O,{get title(){return A},onClick:()=>i(A),style:"selected"})}),C(S,D)};z(b,S=>{s(r).length>0&&S(_)})}var k=L(y,2);Ue(k,21,()=>s(l),S=>S.name,(S,D)=>{var O=_e(),A=Y(O);{var P=x=>{Xe(x,{get title(){return s(D).name},onClick:()=>o(s(D).name)})};z(A,x=>{(s(n)===""||s(D).name.toLowerCase().indexOf(s(n).toLowerCase())!==-1)&&x(P)})}C(S,O)}),C(h,p)};z(v,h=>{Kt()?h(f):h(g,!1)})}C(e,d),X()}pe(["click"]);var Ls=j('<div class="input-container svelte-hz572l"><input> <div class="error-message svelte-hz572l"><!></div></div>');function tn(e,t){W(t,!0);let n=q(t,"value",15,""),r=q(t,"error",3,"");var a=Ls(),o=E(a);o.__input=function(...d){var v;(v=t.onInput)==null||v.apply(this,d)};let i;var l=L(o,2),c=E(l);{var u=d=>{var v=de();ae(()=>ct(v,r())),C(d,v)};z(c,d=>{r()&&d(u)})}ae(d=>{ve(o,"placeholder",t.placeholder),i=$(o,1,"svelte-hz572l",null,i,d)},[()=>({error:!!r()})]),We("blur",o,function(...d){var v;(v=t.onBlur)==null||v.apply(this,d)}),We("focus",o,function(...d){var v;(v=t.onFocus)==null||v.apply(this,d)}),Cn(o,n),C(e,a),X()}pe(["input"]);var Ps=j("<div></div>"),xs=j('<form class="svelte-wqwsb3"><!> <!> <textarea placeholder="notes" class="svelte-wqwsb3"></textarea> <div class="boxtags"><div class="sidebarFixed"><!></div> <div class="tags svelte-wqwsb3"><!> <!></div> <div class="searchWrapper svelte-wqwsb3"><!></div></div> <button class="buttonSubmit svelte-wqwsb3" type="submit"> </button></form>');function Jr(e,t){W(t,!0);let n=q(t,"initialTitle",3,""),r=q(t,"initialUrl",3,""),a=q(t,"initialDescription",3,""),o=q(t,"initialTags",19,()=>[]),i=q(t,"mode",3,"add"),l=F(""),c=F(se(n())),u=F(se(r())),d=F(se(a())),v=F(se(o().filter(R=>R!=="inbox")));const f=R=>{s(v).includes(R)||T(v,[...s(v),R],!0)},g=R=>{const Q=s(v).filter(ee=>ee!==R);Q.length===0?T(v,[],!0):T(v,Q,!0)};let h=G(()=>Rt()?[...Xr().reduce((R,Q)=>(Q==null||Q.tags.forEach(ee=>{R.has(ee)||R.add(ee)}),R),new Set)]:[]),p=G(()=>Rt()?s(h).filter(R=>!s(v).some(Q=>R===Q)&&R!=="inbox"):[]),y=G(()=>s(p).find(R=>R.toLowerCase()===s(l).toLowerCase())||s(v).includes(s(l))),w=G(()=>s(p).filter(R=>s(l)===""?!0:R.toLowerCase().indexOf(s(l).toLowerCase())!==-1).slice(0,s(y)||s(l)===""?3:2));const m=R=>{R.preventDefault(),t.onSubmit({title:s(c).trim().slice(0,256)||"unkwown",url:s(u).trim().slice(0,2048),description:s(d).trim().slice(0,2048),tags:s(v).length>0?s(v):["inbox"]})};var b=xs(),_=E(b);tn(_,{placeholder:"url",get value(){return s(u)},set value(R){T(u,R,!0)}});var k=L(_,2);tn(k,{placeholder:"title",get value(){return s(c)},set value(R){T(c,R,!0)}});var S=L(k,2),D=L(S,2),O=E(D),A=E(O);{var P=R=>{var Q=Ps();$(Q,1,ne(["tags","selectedTags"]),"svelte-wqwsb3"),Ue(Q,20,()=>s(v),ee=>ee,(ee,be)=>{Xe(ee,{get title(){return be},onClick:()=>g(be),type:"button",style:"selected"})}),C(R,Q)};z(A,R=>{s(v).length>0&&R(P)})}var x=L(O,2),U=E(x);{var V=R=>{var Q=_e(),ee=Y(Q);Ue(ee,16,()=>s(w),be=>be,(be,Me)=>{Xe(be,{get title(){return Me},onClick:()=>f(Me)})}),C(R,Q)};z(U,R=>{s(l)!==""&&R(V)})}var M=L(U,2);{var B=R=>{Xe(R,{get title(){return s(l)},onClick:()=>{f(s(l)),T(l,"")}})};z(M,R=>{!s(y)&&s(l)!==""&&R(B)})}var I=L(x,2),H=E(I);tn(H,{placeholder:"search tag",get value(){return s(l)},set value(R){T(l,R,!0)}});var K=L(D,2),oe=E(K);ae(()=>ct(oe,i()==="add"?"add":"edit")),We("submit",b,m),Cn(S,()=>s(d),R=>T(d,R)),C(e,b),X()}function Os(e,t){W(t,!0);let n=F(!0);const r=()=>{t.onClose()},a=()=>{T(n,!1)},o=({title:i,url:l,description:c,tags:u})=>{fs({...t.bookmark,title:i,url:l,description:c,tags:u.map(d=>d.trim())}),a()};Ur(e,{get shownDialog(){return s(n)},onClose:r,children:(i,l)=>{Jr(i,{get initialTitle(){return t.bookmark.title},get initialUrl(){return t.bookmark.url},get initialDescription(){return t.bookmark.description},get initialTags(){return t.bookmark.tags},onSubmit:o,mode:"edit"})},$$slots:{default:!0}}),X()}const Ms=(e,t,n)=>{const r=Gr();t.bookmark.tags.forEach(a=>{if(s(n).includes(a)&&r[a].connections===1){const o=new URLSearchParams(N.search),i=s(n).filter(l=>l!==a);i.length===0?o.delete("selectedTags"):o.set("selectedTags",i.join(",")),Oo(`${N.pathname}${o.size>0?`?${o.toString()}`:""}`)}}),vs(t.bookmark.id)},As=(e,t,n)=>{t(!1),T(n,!0)};var Is=j('<div><button class="menuButton svelte-um9qbk">Edit</button> <button class="menuButton svelte-um9qbk">Delete</button></div> <!>',1);function Bs(e,t){W(t,!0);let n=q(t,"menu",15),r=q(t,"shownMenu",15),a=F(!1),o=G(()=>{var h;return((h=new URLSearchParams(N.search).get("selectedTags"))==null?void 0:h.split(","))||[]});const i=h=>{var p;h.target!==n()&&!((p=n())!=null&&p.contains(h.target))&&r(!1)};le(()=>(document.addEventListener("focusin",i),()=>{document.removeEventListener("focusin",i)})),ue(()=>{r()&&n()?(n().style.setProperty("display","flex"),n().getBoundingClientRect(),n().style.setProperty("opacity","1"),n().style.setProperty("transform","scale(1)")):n()&&(n().style.removeProperty("opacity"),n().style.removeProperty("transform"),n().getBoundingClientRect(),n().addEventListener("transitionend",()=>{!r()&&n()&&n().style.removeProperty("display")},{once:!0}))});const l=()=>{T(a,!1)};var c=Is(),u=Y(c),d=E(u);d.__click=[As,r,a];var v=L(d,2);v.__click=[Ms,t,o],we(u,h=>n(h),()=>n());var f=L(u,2);{var g=h=>{Os(h,{get bookmark(){return t.bookmark},onClose:l})};z(f,h=>{s(a)&&h(g)})}ae(()=>$(u,1,ne(["bookmarkMenu",{showMenuUp:t.showMenuUp}]),"svelte-um9qbk")),C(e,c),X()}pe(["click"]);const Rs=(e,t)=>{T(t,!s(t))},Ns=(e,t)=>{navigator.clipboard.writeText(t.bookmark.url),yo("Link copied to clipboard")},Fs=(e,t)=>{T(t,!0)},js=(e,t)=>{T(t,!1)};var Hs=j('<li class="bookmark svelte-9mvwcd"><img class="bookmarkIcon" height="16" width="16" alt="icon"> <a class="bookmarkLink svelte-9mvwcd" target="_blank" rel="noopener noreferrer"> </a> <div><button class="button svelte-9mvwcd"><!> <!></button> <button><!> <!></button> <!></div></li>');function Us(e,t){W(t,!0);let n=F(!1),r=F(!1),a=F(null),o=null;const i=_=>{var k;_.target!==o&&_.target!==s(a)&&!((k=s(a))!=null&&k.contains(_.target))&&T(r,!1)};le(()=>(document.addEventListener("click",i),()=>{document.removeEventListener("click",i)}));const l=_=>{try{return`https://external-content.duckduckgo.com/ip3/${new URL(_).host}.ico`}catch{return""}};var c=Hs();c.__focusin=[Fs,n],c.__focusout=[js,n];var u=E(c),d=L(u,2),v=E(d),f=L(d,2),g=E(f);g.__click=[Ns,t];var h=E(g);ge(h,{name:"copy"});var p=L(h,2);at(p,{children:(_,k)=>{var S=de("copy link");C(_,S)}});var y=L(g,2);y.__click=[Rs,r],$(y,1,ne(["button","buttonMenu"]),"svelte-9mvwcd");var w=E(y);ge(w,{name:"menu"});var m=L(w,2);at(m,{children:(_,k)=>{var S=de("show menu");C(_,S)}}),we(y,_=>T(a,_),()=>s(a));var b=L(y,2);Bs(b,{get menu(){return o},get bookmark(){return t.bookmark},get shownMenu(){return s(r)},get showMenuUp(){return t.showMenuUp}}),ae(_=>{ve(u,"src",_),ve(d,"tabindex",t.focusHidden?-1:0),ve(d,"href",t.bookmark.url),ct(v,t.bookmark.title),$(f,1,ne(["bookmarkMenuWrapper",{bookmarkMenuWrapperActive:s(n)}]),"svelte-9mvwcd"),ve(g,"tabindex",t.focusHidden?-1:0),ve(y,"tabindex",t.focusHidden?-1:0)},[()=>l(t.bookmark.url)]),C(e,c),X()}pe(["focusin","focusout","click"]);const vt=se({ref:null}),zs=(e,t)=>{s(t)&&s(t).scrollTo({top:0})};var Vs=j('<div class="emptyMessage svelte-1f1meoe">No bookmarks found</div>'),Ys=j('<div class="searchWrapper svelte-1f1meoe"><!></div> <div class="feed svelte-1f1meoe"><ul class="svelte-1f1meoe"><!> <!></ul></div> <button class="buttonTop svelte-1f1meoe">top</button>',1);function qs(e,t){W(t,!0);let n=54,r=F(0),a=F(0),o=F(se([])),i=F(""),l=G(()=>vt.ref),c=null,u=null;const d=G(Po);ue(()=>{var P;s(i),s(d),(P=s(l))==null||P.scrollTo(0,0)});const v=()=>{c||(c=requestAnimationFrame(()=>{var x;const P=((x=s(l))==null?void 0:x.scrollTop)||0;T(a,Math.floor(P/n)*n),c=null}))},f=()=>{u||(u=requestAnimationFrame(()=>{var x;T(r,window.innerHeight-154);const P=((x=s(l))==null?void 0:x.scrollTop)||0;T(a,Math.floor(P/n)*n),u=null}))};le(()=>{f(),v()}),ue(()=>{var P;return(P=s(l))==null||P.addEventListener("scroll",v),window.addEventListener("resize",f),()=>{var x;(x=s(l))==null||x.removeEventListener("scroll",v),window.removeEventListener("resize",f)}}),ue(()=>{const P=Xr(),x=[],U={};for(let V=P.length-1;V>=0;V--){const M=P[V];if(M&&!(s(d).length&&s(d).some(B=>!M.tags.includes(B)))&&!(s(i)&&!(M.title.toLowerCase().includes(s(i).toLowerCase())||M.url.toLowerCase().includes(s(i).toLowerCase())||M.description.toLowerCase().includes(s(i).toLowerCase())))){if(M.tags)for(const B of M.tags)U[B]?U[B].connections++:U[B]={name:B,connections:1};x.push(M)}}ps(U),T(o,x,!0)});const g=G(()=>s(o).length*n+20);let p=G(()=>{const P=Math.ceil(s(r)/n),x=Math.floor(s(a)/n);return s(o).slice(x-Math.min(x,P),x+P*3)});const y=G(()=>s(a)-Math.min(s(a),s(r)));var w=Ys(),m=Y(w),b=E(m);dn(b,{placeholder:"Search",get value(){return s(i)},set value(P){T(i,P,!0)}});var _=L(m,2),k=E(_),S=E(k);Ue(S,19,()=>s(p),P=>P.id,(P,x,U)=>{const V=G(()=>s(U)*n<Math.min(s(a),s(r))||s(U)*n>Math.min(s(a),s(r))+s(r)),M=G(()=>(s(U)+3)*n<Math.min(s(a),s(r))||(s(U)+3)*n>Math.min(s(a),s(r))+s(r));Us(P,{get focusHidden(){return s(V)},get showMenuUp(){return s(M)},get bookmark(){return s(x)}})});var D=L(S,2);{var O=P=>{var x=Vs();C(P,x)};z(D,P=>{s(p).length===0&&Rt()&&P(O)})}var A=L(_,2);A.__click=[zs,l],ae(P=>{Bt(_,`height: ${P??""}px`),Bt(k,`transform: translateY(${s(y)??""}px)`)},[()=>Math.max(s(g)>s(r)?s(g)+24:s(g),30)]),C(e,w),X()}pe(["click"]);var Ws=j('<!> <div class="content svelte-cu0ar8"><!></div>',1);function Xs(e){var t=Ws(),n=Y(t);Ds(n,{});var r=L(n,2),a=E(r);qs(a,{}),C(e,t)}var Ye=(e=>(e.Light="light",e.System="system",e.Dark="dark",e))(Ye||{});let Zr=F(se(localStorage.getItem("colorScheme")||"system"));const Ks=e=>{localStorage.setItem("colorScheme",e),e==="system"?window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.dataset.colorScheme="dark":document.documentElement.dataset.colorScheme="light":document.documentElement.dataset.colorScheme=e,T(Zr,e,!0)},Gs=()=>s(Zr);var Js=j('<div class="wrapper svelte-f3jwyy"><fieldset class="switcher svelte-f3jwyy"><legend class="vh svelte-f3jwyy">Color Scheme</legend> <input id="light" type="radio" aria-label="Light"> <label for="light" title="Light" aria-label="Light"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <input id="system" type="radio" aria-label="System"> <label for="system" title="System" aria-label="System"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <input id="dark" type="radio" aria-label="Dark"> <label for="dark" title="Dark" aria-label="Dark"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></label> <div class="wrapSwitcherStatus svelte-f3jwyy"><div class="switcherStatus svelte-f3jwyy"></div></div></fieldset></div>');function Zs(e,t){W(t,!0);const n=G(Gs),r=y=>{const w=y.target.value;Ks(w)},a="color-scheme-switcher";var o=Js(),i=E(o),l=L(E(i),2);$(l,1,ne(["vh","input"]),"svelte-f3jwyy"),ve(l,"name",a),l.__change=r;var c=L(l,2);$(c,1,ne(["switcherButton","light"]),"svelte-f3jwyy");var u=E(c);Ee(u,()=>({"--size":"20px"})),ge(u.lastChild,{name:"sun"});var d=L(c,2);$(d,1,ne(["vh","input"]),"svelte-f3jwyy"),ve(d,"name",a),d.__change=r;var v=L(d,2);$(v,1,ne(["switcherButton","system"]),"svelte-f3jwyy");var f=E(v);Ee(f,()=>({"--size":"14px"})),ge(f.lastChild,{name:"a"});var g=L(v,2);$(g,1,ne(["vh","input"]),"svelte-f3jwyy"),ve(g,"name",a),g.__change=r;var h=L(g,2);$(h,1,ne(["switcherButton","dark"]),"svelte-f3jwyy");var p=E(h);return Ee(p,()=>({"--size":"20px"})),ge(p.lastChild,{name:"moon"}),ae(()=>{Jt(l,Ye.Light),Zt(l,s(n)===Ye.Light),Jt(d,Ye.System),Zt(d,s(n)===Ye.System),Jt(g,Ye.Dark),Zt(g,s(n)===Ye.Dark)}),C(e,o),X({handleChange:r})}pe(["change"]);const Qs=()=>{ut("importBookmarks")},$s=()=>{ut("exportBookmarks")},ei=()=>{ut("clearStore")};var ti=j('<div class="version svelte-1cryup1"><span> </span></div>'),ni=j('<div class="svelte-1cryup1"><!> <ul class="svelte-1cryup1"><li class="svelte-1cryup1"><button class="button svelte-1cryup1"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1cryup1">import bookmarks</span></button></li> <li class="svelte-1cryup1"><button class="button svelte-1cryup1"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1cryup1">export bookmarks</span></button></li> <li class="svelte-1cryup1"><button class="button svelte-1cryup1"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span class="buttonTitle svelte-1cryup1">clear store</span></button></li></ul> <!></div>');function ri(e,t){W(t,!0);let n=F("");le(()=>{const w=new AbortController;return fetch("/build-metadata.json",{signal:w.signal}).then(m=>m.json()).then(m=>{T(n,`${m.buildHash}`)}),()=>{w.abort()}});var r=ni(),a=E(r);Zs(a,{});var o=L(a,2),i=E(o),l=E(i);l.__click=[Qs];var c=E(l);Ee(c,()=>({"--size":"20px"})),ge(c.lastChild,{name:"import"});var u=L(i,2),d=E(u);d.__click=[$s];var v=E(d);Ee(v,()=>({"--size":"20px"})),ge(v.lastChild,{name:"export"});var f=L(u,2),g=E(f);g.__click=[ei];var h=E(g);Ee(h,()=>({"--size":"20px"})),ge(h.lastChild,{name:"trash"});var p=L(o,2);{var y=w=>{var m=ti(),b=E(m),_=E(b);ae(k=>ct(_,`version: 0.0.1 build_date: "${k??""}" build_hash:
				${s(n)??""}`),[()=>new Date(1746133210586).toISOString().replaceAll("T"," ").replace(/\..*/,"")]),C(w,m)};z(p,w=>{s(n)&&w(y)})}C(e,r),X()}pe(["click"]);function ai(e,t){W(t,!1);const n=()=>{Br()},r=({title:a,url:o,description:i,tags:l})=>{ds({title:a,url:o,description:i,tags:l.map(c=>c.trim())}),n()};Wt(),Jr(e,{onSubmit:r}),X()}var oi=j('<button type="button"><!></button>');function ze(e,t){let n=q(t,"type",3,"standard");var r=oi();r.__click=function(...o){var i;(i=t.onClick)==null||i.apply(this,o)};var a=E(r);Ne(a,()=>t.children),ae(()=>$(r,1,ne(["button",{dangerous:n()==="dangerous"}]),"svelte-1vemsn")),C(e,r)}pe(["click"]);var si=j('<div class="loader svelte-1ygr46m"></div>');function Pn(e){var t=si();C(e,t)}const fn=(e,t,n,r=new Set,a={})=>{var o,i;for(const l of e.children)if(l.tagName==="DT"){const c=l.querySelector(":scope > A"),u=l.querySelector(":scope > H3");if(c){const d=c.getAttribute("href"),v=c.textContent||"unknown";if(!d)return n;const f=t.find(g=>g.toLowerCase()==="bookmarks bar")?t.filter(g=>g.toLowerCase()!=="bookmarks bar"):["other"];if(a[d])a[d].tags=[...new Set([...a[d].tags,...f])];else{const g={id:Vr(),order:n.length,url:d,title:v,description:"",tags:f.length>0?f:[],lastUpdatedTimestamp:Date.now(),createdTimestamp:Date.now()};a[g.url]=g,n.push(g)}}else if(u){const d=(o=u.textContent)==null?void 0:o.trim();if(d&&((i=u.nextElementSibling)==null?void 0:i.tagName)==="DL"){const v=[...t];v.push(d);const f=u.nextElementSibling;r.has(f)||(r.add(f),fn(f,v,n,r,a))}}}else l.tagName!=="DL"&&l.children.length>0&&(r.has(l)||(r.add(l),fn(l,[...t],n,r,a)));return n},ii=async e=>{const t=await e.text(),a=new DOMParser().parseFromString(t,"text/html").querySelector("DL");return a?fn(a,[],[]):[]},li=e=>{const t=Math.floor(Date.now()/1e3),n={};e.forEach(a=>{const o=a.tags||["Imported"];if(o.length===0){n.ROOT||(n.ROOT=[]),n.ROOT.push(a);return}o.forEach(i=>{n[i]||(n[i]=[]),n[i].push(a)})});let r=`<!DOCTYPE NETSCAPE-Bookmark-file-1>
<!-- This is an automatically generated file.
 It will be read and overwritten.
 DO NOT EDIT! -->
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8">
<TITLE>Bookmarks</TITLE>
<H1>Bookmarks</H1>
<DL><p>
<DT><H3 ADD_DATE="${t}" LAST_MODIFIED="${t}" PERSONAL_TOOLBAR_FOLDER="true">Bookmarks Bar</H3>
<DL><p>`;return Object.keys(n).forEach(a=>{a!=="ROOT"&&a!=="other"&&(r+=`
	<DT><H3 ADD_DATE="${t}" LAST_MODIFIED="${t}">${a}</H3>
	<DL><p>`,n[a].forEach(o=>{const i=o.title.replace(/"/g,"&quot;");r+=`
		<DT><A HREF="${o.url}" ADD_DATE="${Math.floor(o.createdTimestamp/1e3)||t}">${i}</A>`}),r+=`
	</DL><p>`)}),n.ROOT&&n.ROOT.forEach(a=>{const o=a.title.replace(/"/g,"&quot;");r+=`
	<DT><A HREF="${a.url}" ADD_DATE="${Math.floor(a.createdTimestamp/1e3)||t}">${o}</A>`}),r+=`
</DL><p>`,n.other&&n.other.forEach(a=>{const o=a.title.replace(/"/g,"&quot;");r+=`
	<DT><A HREF="${a.url}" ADD_DATE="${Math.floor(a.createdTimestamp/1e3)||t}">${o}</A>`}),r+="</DL><p>",r},Jn=async(e,t)=>{const n=e.target;!n.files||n.files.length===0||await t(n.files[0])};var ci=j('<div class="mobileContainer svelte-1n1lt8i"><!></div> <input type="file" accept=".json, .html" style="display: none;">',1),ui=j('<div class="desktopContainer svelte-1n1lt8i"><div class="desktopButtonContainer svelte-1n1lt8i"><!></div> <div role="button" tabindex="-1"><div tabindex="-1" class="dropzone-content svelte-1n1lt8i"><p class="svelte-1n1lt8i">Drag and drop your file here</p> <p class="svelte-1n1lt8i">or</p></div> <input type="file" accept=".json, .html" style="display: none;"></div></div>'),di=j('<p class="message svelte-1n1lt8i">Select a file to import your bookmarks</p> <!>',1),fi=j('<p class="message svelte-1n1lt8i">Importing bookmarks...</p> <!>',1),vi=j('<p class="message success svelte-1n1lt8i">Bookmarks imported successfully!</p> <div class="buttonContainer svelte-1n1lt8i"><!></div>',1),hi=j('<p class="message error svelte-1n1lt8i">Something went wrong</p> <div class="buttonContainer svelte-1n1lt8i"><!></div>',1),gi=j('<div class="content svelte-1n1lt8i"><!></div>');function pi(e,t){W(t,!0);let n=F("idle"),r=F(null),a=F(!1),o=F(null);const i=()=>{Xt()};ue(()=>{ot(s(n)==="loading")}),le(()=>(s(r)&&s(r).addEventListener("cancel",m=>{m.preventDefault(),m.stopImmediatePropagation(),m.stopPropagation()}),()=>{ot(!1)}));const l=async m=>{const b=await m.text(),_=JSON.parse(b),k=[];if(!_.bookmarks)throw new Error("Invalid import file format");for(const S of Object.values(_.bookmarks))S&&k.push(S);await Gn(k)},c=async m=>{T(n,"loading");try{if(m.name.endsWith(".json"))await l(m);else if(m.name.endsWith(".html"))await Gn(await ii(m));else throw new Error("Unsupported file format. Please upload a JSON or HTML file.");await new Promise(b=>{setTimeout(()=>{b(!0)},1e3)}),T(n,"success")}catch{T(n,"error")}},u=()=>{var m;(m=s(r))==null||m.click()},d=m=>{m.preventDefault(),m.stopPropagation(),T(a,!0)},v=m=>{m.preventDefault(),m.stopPropagation(),T(a,!1)},f=m=>{m.preventDefault(),m.stopPropagation(),T(a,!0)},g=async m=>{var _;if(m.preventDefault(),m.stopPropagation(),T(a,!1),!((_=m.dataTransfer)!=null&&_.files)||m.dataTransfer.files.length===0)return;const b=m.dataTransfer.files[0];if(b.type!=="application/json"&&b.type!=="text/html"){T(n,"error");return}await c(b)};var h=gi(),p=E(h);{var y=m=>{var b=di(),_=L(Y(b),2);{var k=D=>{var O=ci(),A=Y(O),P=E(A);ze(P,{onClick:u,children:(U,V)=>{var M=de("Select File");C(U,M)},$$slots:{default:!0}});var x=L(A,2);x.__change=[Jn,c],we(x,U=>T(r,U),()=>s(r)),C(D,O)},S=D=>{var O=ui(),A=E(O),P=E(A);ze(P,{onClick:u,children:(V,M)=>{var B=de("Select File");C(V,B)},$$slots:{default:!0}});var x=L(A,2),U=L(E(x),2);U.__change=[Jn,c],we(U,V=>T(r,V),()=>s(r)),we(x,V=>T(o,V),()=>s(o)),ae(()=>$(x,1,ne(["dropzone",{active:s(a)}]),"svelte-1n1lt8i")),We("dragenter",x,d),We("dragover",x,f),We("dragleave",x,v),We("drop",x,g),C(D,O)};z(_,D=>{Kt()?D(k):D(S,!1)})}C(m,b)},w=(m,b)=>{{var _=S=>{var D=fi(),O=L(Y(D),2);Pn(O),C(S,D)},k=(S,D)=>{{var O=P=>{var x=vi(),U=L(Y(x),2),V=E(U);ze(V,{onClick:i,children:(M,B)=>{var I=de("close");C(M,I)},$$slots:{default:!0}}),C(P,x)},A=(P,x)=>{{var U=V=>{var M=hi(),B=L(Y(M),2),I=E(B);ze(I,{onClick:()=>{T(n,"idle")},children:(H,K)=>{var oe=de("Try Again");C(H,oe)},$$slots:{default:!0}}),C(V,M)};z(P,V=>{s(n)==="error"&&V(U)},x)}};z(S,P=>{s(n)==="success"?P(O):P(A,!1)},D)}};z(m,S=>{s(n)==="loading"?S(_):S(k,!1)},b)}};z(p,m=>{s(n)==="idle"?m(y):m(w,!1)})}C(e,h),X()}pe(["change"]);var mi=(e,t)=>T(t,"json"),_i=(e,t)=>T(t,"html"),wi=j('<p class="message svelte-1phn76p">Export bookmarks</p> <div class="format-switcher svelte-1phn76p"><div class="switcher-wrapper svelte-1phn76p"><div class="background svelte-1phn76p"></div> <div class="active-indicator svelte-1phn76p"></div> <button>JSON</button> <button>HTML</button></div> <p class="format-description svelte-1phn76p"><!></p></div> <div class="buttonContainer svelte-1phn76p"><!></div>',1),yi=j('<p class="message svelte-1phn76p">Exporting data...</p> <div class="buttonContainer svelte-1phn76p"><!></div>',1),bi=j('<p class="message svelte-1phn76p">Bookmarks exported successfully!</p> <div class="buttonContainer svelte-1phn76p"><!></div>',1),ki=j('<div class="content svelte-1phn76p"><!></div>');function Si(e,t){W(t,!0);let n=F("idle"),r=F("json");const a=()=>{Xt()};ue(()=>{ot(s(n)==="loading")}),le(()=>()=>{ot(!1)});const o=async()=>{T(n,"loading"),setTimeout(async()=>{if(s(r)==="json")await gs().finally(()=>{T(n,"success")});else try{const d=li(us()),v=new Blob([d],{type:"text/html"}),f=URL.createObjectURL(v),g=document.createElement("a");g.href=f,g.download=`bookmarks_${new Date().toLocaleDateString().replace(/\//g,"_")}.html`,document.body.appendChild(g),g.click(),document.body.removeChild(g),URL.revokeObjectURL(f),T(n,"success")}catch(d){console.error("Error exporting as HTML:",d),T(n,"success")}},0)};var i=ki(),l=E(i);{var c=d=>{var v=wi(),f=L(Y(v),2),g=E(f),h=L(E(g),2),p=L(h,2);let y;p.__click=[mi,r];var w=L(p,2);let m;w.__click=[_i,r];var b=L(g,2),_=E(b);{var k=A=>{var P=de("JSON format (App compatible, a faster format)");C(A,P)},S=A=>{var P=de("HTML format (Browser compatible)");C(A,P)};z(_,A=>{s(r)==="json"?A(k):A(S,!1)})}var D=L(f,2),O=E(D);ze(O,{onClick:o,children:(A,P)=>{var x=de("Export");C(A,x)},$$slots:{default:!0}}),ae((A,P)=>{Bt(h,`transform: translateX(${s(r)==="json"?"0":"calc(100% + 4px)"})`),y=$(p,1,"switcher-option svelte-1phn76p",null,y,A),m=$(w,1,"switcher-option svelte-1phn76p",null,m,P)},[()=>({active:s(r)==="json"}),()=>({active:s(r)==="html"})]),C(d,v)},u=(d,v)=>{{var f=h=>{var p=yi(),y=L(Y(p),2),w=E(y);Pn(w),C(h,p)},g=(h,p)=>{{var y=w=>{var m=bi(),b=L(Y(m),2),_=E(b);ze(_,{onClick:a,children:(k,S)=>{var D=de("Close");C(k,D)},$$slots:{default:!0}}),C(w,m)};z(h,w=>{s(n)==="success"&&w(y)},p)}};z(d,h=>{s(n)==="loading"?h(f):h(g,!1)},v)}};z(l,d=>{s(n)==="idle"?d(c):d(u,!1)})}C(e,i),X()}pe(["click"]);var Ei=j('<p class="message svelte-49o1d">Are you sure you want to clear the store?</p> <div class="buttonContainer svelte-49o1d"><!></div>',1),Ti=j('<p class="message svelte-49o1d">clearing store...</p> <div class="buttonContainer svelte-49o1d"><!></div>',1),Ci=j('<p class="message svelte-49o1d">store cleared</p> <div class="buttonContainer svelte-49o1d"><!></div>',1),Di=j('<div class="content svelte-49o1d"><!></div>');function Li(e,t){W(t,!0);let n=F("idle");const r=()=>{Xt()};ue(()=>{ot(s(n)==="loading")}),le(()=>()=>{ot(!1)});const a=()=>{T(n,"loading"),hs().finally(()=>{setTimeout(()=>{T(n,"success")},1e3)})};var o=Di(),i=E(o);{var l=u=>{var d=Ei(),v=L(Y(d),2),f=E(v);ze(f,{onClick:a,type:"dangerous",children:(g,h)=>{var p=de("Clear store");C(g,p)},$$slots:{default:!0}}),C(u,d)},c=(u,d)=>{{var v=g=>{var h=Ti(),p=L(Y(h),2),y=E(p);Pn(y),C(g,h)},f=(g,h)=>{{var p=y=>{var w=Ci(),m=L(Y(w),2),b=E(m);ze(b,{onClick:r,children:(_,k)=>{var S=de("Close");C(_,S)},$$slots:{default:!0}}),C(y,w)};z(g,y=>{s(n)==="success"&&y(p)},h)}};z(u,g=>{s(n)==="loading"?g(v):g(f,!1)},d)}};z(i,u=>{s(n)==="idle"?u(l):u(c,!1)})}C(e,o),X()}var Pi=j('<div class="svelte-t4bw1y"><!></div>');function dt(e,t){W(t,!0);let n=F(null);le(()=>{s(n)&&(s(n).getBoundingClientRect(),s(n).style.opacity="1")});var r=Pi(),a=E(r);Ne(a,()=>t.children),we(r,o=>T(n,o),()=>s(n)),C(e,r),X()}const Zn=(e,t=er)=>{var n=_e(),r=Y(n);{var a=i=>{dt(i,{children:(l,c)=>{ri(l,{})},$$slots:{default:!0}})},o=(i,l)=>{{var c=d=>{dt(d,{children:(v,f)=>{ai(v,{})},$$slots:{default:!0}})},u=(d,v)=>{{var f=h=>{dt(h,{children:(p,y)=>{pi(p,{})},$$slots:{default:!0}})},g=(h,p)=>{{var y=m=>{dt(m,{children:(b,_)=>{Si(b,{})},$$slots:{default:!0}})},w=(m,b)=>{{var _=k=>{dt(k,{children:(S,D)=>{Li(S,{})},$$slots:{default:!0}})};z(m,k=>{t()==="clearStore"&&k(_)},b)}};z(h,m=>{t()==="exportBookmarks"?m(y):m(w,!1)},p)}};z(d,h=>{t()==="importBookmarks"?h(f):h(g,!1)},v)}};z(i,d=>{t()==="newBookmark"?d(c):d(u,!1)},l)}};z(r,i=>{t()==="settings"?i(a):i(o,!1)})}C(e,n)};var xi=j("<!> <!>",1);function Oi(e,t){W(t,!0);let n=G(Nr);var r=xi(),a=Y(r);Xs(a);var o=L(a,2);{var i=c=>{var u=_e(),d=Y(u);Ue(d,17,()=>s(n),oo,(v,f,g)=>{const h=G(()=>{var p;return g!==s(n).length-1&&!!((p=s(n)[g+1])!=null&&p.shown)});Kn(v,{get shown(){return s(f).shown},get hidden(){return s(h)},children:(p,y)=>{Zn(p,()=>s(f).page)},$$slots:{default:!0}})}),C(c,u)},l=(c,u)=>{{var d=v=>{const f=G(()=>s(n).length===1);Kn(v,{onBack:()=>Rr(),get shown(){return s(n)[s(n).length-1].shown},hidden:!1,get isLastDialog(){return s(f)},children:(g,h)=>{Zn(g,()=>s(n)[s(n).length-1].page)},$$slots:{default:!0}})};z(c,v=>{s(n).length>0&&v(d)},u)}};z(o,c=>{Kt()?c(i):c(l,!1)})}C(e,r),X()}function Mi(e,t){W(t,!1),le(()=>{en(),document.addEventListener("focusin",en),document.addEventListener("focusout",en),document.addEventListener("touchmove",function(n){Ln()&&n.preventDefault()},{passive:!1})}),Wt(),X()}function Ai(){const e=navigator.userAgent;if(!(/iPad|iPhone|iPod/.test(e)&&!window.MSStream))return!1;const n=/Safari/.test(e)&&!/Chrome/.test(e)&&!/CriOS/.test(e)&&!/FxiOS/.test(e),r=/Macintosh/.test(e)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>1;return!!n||!!r}const Ii=Ai();function Bi(e,t){W(t,!1);let n=0;le(()=>{const r=document.querySelector("div");r&&Ii&&r.addEventListener("touchstart",a=>{a.pageX>20&&a.pageX<window.innerWidth-20||a.preventDefault()}),document.addEventListener("touchstart",a=>{n=a.touches[0].clientX},{passive:!1}),document.addEventListener("touchmove",a=>{const i=a.touches[0].clientX-n;(n<50&&i>0||n>window.innerWidth-50&&i<0)&&a.preventDefault()},{passive:!1}),document.addEventListener("touchend",()=>{n=0}),document.addEventListener("touchcancel",()=>{n=0})}),Wt(),X()}var Ri=j('<!> <!> <!> <main><!> <div class="container svelte-ngsolt"><!></div></main>',1);function Ni(e,t){W(t,!0),le(async()=>{await new Promise(v=>setTimeout(v,100)),await Xa(),ce.working=!0});let n=G(()=>Be().length>0);var r=Ri(),a=Y(r);Bi(a,{});var o=L(a,2);Mi(o,{});var i=L(o,2);ko(i,{});var l=L(i,2),c=E(l);Ro(c,{});var u=L(c,2),d=E(u);Oi(d,{}),we(l,v=>vt.ref=v,()=>vt==null?void 0:vt.ref),ae(()=>{Bt(l,`--swiping-ratio: ${ce.swipingRatio}; --transition-timing-default: ${ce.duration}s;`),$(l,1,ne(["main",{isAnimationOn:ce.working&&!ce.isSwiping,open:s(n)}]),"svelte-ngsolt")}),C(e,r),X()}no(Ni,{target:document.getElementById("app")});
