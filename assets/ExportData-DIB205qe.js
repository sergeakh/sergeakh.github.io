import{S as s,p as e,T as a,f as t,n,k as o,U as r,W as l,m as c,t as i,X as v,g as d,Y as p,Z as u,r as m,d as D,e as T,_ as f,h as $,l as w,u as E,b as g,s as h,o as A,i as L,c as y,B as b,v as O,j as x,$ as k,a0 as _,L as j,G as C}from"./index-D_lOxY7D.js";const H=(s,e,a)=>{e(s.target.value),a.t(e())};var R=t('<input type="radio"/> <label> </label>',1),I=t('<div class="wrapper svelte-egvjdf"><fieldset class="switcher svelte-egvjdf"><!> <div class="wrapSwitcherStatus svelte-egvjdf"><div class="switcherStatus svelte-egvjdf"></div></div></fieldset></div>');w(["change"]);var S=t('<p class="message svelte-owa53m">Export data</p> <div class="format-switcher svelte-owa53m"><!> <p class="format-description svelte-owa53m"><!></p></div> <div class="buttonContainer svelte-owa53m"><!></div>',1),M=t('<p class="message svelte-owa53m">Exporting data...</p> <div class="buttonContainer svelte-owa53m"><!></div>',1),B=t('<p class="message svelte-owa53m">Data exported successfully!</p> <div class="buttonContainer svelte-owa53m"><!></div>',1),F=t('<div class="content svelte-owa53m"><!></div>');function N(t,w){e(w,!0);let N=h("idle"),U=h("sync");const P=()=>{C()};E(()=>{g("loading"===d(N))}),A(()=>()=>{g(!1)});const q=async()=>{y(N,"loading"),setTimeout(async()=>{if("sync"===d(U))await(async s=>{const e=JSON.stringify({o:s}),a=new Blob([e],{type:"application/json"}),t=URL.createObjectURL(a),n=document.createElement("a");n.href=t,n.download="notes-export.json",document.body.appendChild(n),n.click(),setTimeout(()=>{document.body.removeChild(n),URL.revokeObjectURL(t)},0)})(k()()||[]).finally(()=>{y(N,"success")});else try{const s=(s=>{const e=Math.floor(Date.now()/1e3),a={};s.forEach(s=>{const e=s.tags||["Imported"];if(0===e.length)return a.l||(a.l=[]),void a.l.push(s);e.forEach(e=>{a[e]||(a[e]=[]),a[e].push(s)})});let t=`<!DOCTYPE NETSCAPE-Note-file-1>\n\x3c!-- This is an automatically generated file.\n It will be read and overwritten.\n DO NOT EDIT! --\x3e\n<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8">\n<TITLE>notes</TITLE>\n<H1>notes</H1>\n<DL><p>\n<DT><H3 ADD_DATE="${e}" LAST_MODIFIED="${e}" PERSONAL_TOOLBAR_FOLDER="true">notes Bar</H3>\n<DL><p>`;return Object.keys(a).forEach(s=>{"ROOT"!==s&&"other"!==s&&(t+=`\n    <DT><H3 ADD_DATE="${e}" LAST_MODIFIED="${e}">${s}</H3>\n    <DL><p>`,a[s].forEach(s=>{const a=s.title.replace(/"/g,"&quot;");t+=`\n        <DT><A HREF="${s.url}" ADD_DATE="${Math.floor(s.i/1e3)||e}">${a}</A>`}),t+="\n    </DL><p>")}),a.l&&a.l.forEach(s=>{const a=s.title.replace(/"/g,"&quot;");t+=`\n    <DT><A HREF="${s.url}" ADD_DATE="${Math.floor(s.i/1e3)||e}">${a}</A>`}),t+="\n</DL><p>",a.v&&a.v.forEach(s=>{const a=s.title.replace(/"/g,"&quot;");t+=`\n    <DT><A HREF="${s.url}" ADD_DATE="${Math.floor(s.i/1e3)||e}">${a}</A>`}),t+="</DL><p>",t})(_()()||new Map),e=new Blob([s],{type:"text/html"}),a=URL.createObjectURL(e),t=document.createElement("a");t.href=a,t.download=`items_${(new Date).toLocaleDateString().replace(/\//g,"_")}.html`,document.body.appendChild(t),t.click(),document.body.removeChild(t),URL.revokeObjectURL(a),y(N,"success")}catch(s){console.error("Error exporting as HTML:",s),y(N,"success")}},0)};var X=F(),Y=D(X),G=t=>{var w=S(),E=c(o(w),2),g=D(E);!function(t,w){const E=s();e(w,!0);let g=a(w,"value",7);const h=`switcher-${E}`;var A=I(),L=D(A),y=D(L);n(y,17,()=>w.items,s=>s.title,(s,e)=>{var a=R(),t=o(a);r(t,1,l(["vh","input"]),"svelte-egvjdf"),t.p=[H,g,w];var n=c(t,2);r(n,1,l(["switcherButton"]),"svelte-egvjdf");var f=D(n);i(()=>{v(t,"id",`${d(e).title}-${E}`),v(t,"name",h),p(t,d(e).value),u(t,d(e).value===g()),v(t,"aria-label",d(e).title),v(n,"for",`${d(e).title}-${E}`),v(n,"title",d(e).title),v(n,"aria-label",d(e).title),m(f,d(e).title)}),T(s,a)});var b=c(y,2),O=D(b);i(s=>f(O,s),[()=>`transform: translateX(${100*w.items.findIndex(s=>s.value===g())}%)`]),T(t,A),$()}(g,{items:[{title:"Sync",value:"sync"},{title:"Bookmarks",value:"bookmarks"}],get value(){return d(U)},t:s=>{y(U,s,!0)}});var h=c(g,2),A=D(h),x=s=>{var e=O("App format for sync or backup");T(s,e)},k=s=>{var e=O("Browser bookmarks format (exports only bookmarks, not notes)");T(s,e)};L(A,s=>{"sync"===d(U)?s(x):s(k,!1)});var _=c(E,2),j=D(_);b(j,{u:q,children:(s,e)=>{var a=O("Export");T(s,a)},m:{default:!0}}),T(t,w)},J=s=>{var e=x(),a=o(e),t=s=>{var e=M(),a=c(o(e),2),t=D(a);j(t,{}),T(s,e)},n=s=>{var e=x(),a=o(e),t=s=>{var e=B(),a=c(o(e),2),t=D(a);b(t,{u:P,children:(s,e)=>{var a=O("Close");T(s,a)},m:{default:!0}}),T(s,e)};L(a,s=>{"success"===d(N)&&s(t)},!0),T(s,e)};L(a,s=>{"loading"===d(N)?s(t):s(n,!1)},!0),T(s,e)};L(Y,s=>{"idle"===d(N)?s(G):s(J,!1)}),T(t,X),$()}export{N as default};
