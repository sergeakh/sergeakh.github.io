import{p as S,C as E,E as I,k as P,z as T,q as u,r as g,m as f,d as n,n as U,f as q,s as w,c as z,B as F,x as H,g as L,y as j}from"./index-CV6Kg8D-.js";import{N as G}from"./NoteForm-DNnj1q4X.js";import"./Input-B1CrxQ1S.js";var J=q('<div class="block svelte-14glnia"><p class="svelte-14glnia">Note not found</p> <!></div>');function W(c,d){S(d,!0);const{updateNote:m,getNoteById:p,isReadyNotes:v}=E(),{getDraft:N,isReadyDrafts:x}=I();let t=P((()=>{const e=new URLSearchParams(d.params).get("id");return e&&p(e)||null})()),h=j(()=>t?N(t.id):void 0);const{navigate:_}=T(),y=e=>{e.preventDefault(),_("/")},A=({name:e,url:r,text:s,tags:o})=>{t&&m({...t,data:{...t.data,name:e,url:r,text:s,tags:o}})};var i=u(),C=g(i);{var b=e=>{var r=u(),s=g(r);{var o=a=>{var l=J(),D=w(z(l),2);F(D,{element:"a",href:"/",onClick:y,children:(B,M)=>{var R=H("close");n(B,R)},$$slots:{default:!0}}),n(a,l)},k=a=>{G(a,{get initialName(){return t.data.name},get initialUrl(){return t.data.url},get initialText(){return t.data.text},get initialTags(){return t.data.tags},get createdAt(){return t.data.createdAt},get updatedAt(){return t.data.updatedAt},get noteId(){return t.id},get draft(){return L(h)},onSubmit:A,mode:"edit"})};f(s,a=>{t?a(k,!1):a(o)})}n(e,r)};f(C,e=>{v()&&x()&&e(b)})}n(c,i),U()}export{W as default};
