import{z as P,p as F,A,f as _,C as q,h as B,n as T,q as N,e as f,m as O,D as m,g as s,E as z,F as G,G as K,c,b as n,H as X,d as I,v as Q,u as V,s as R,a as U,o as W,i as L,l as x,B as $,t as S,I as Y,J as Z,K as ee,y as te}from"./index-F4UA7Zx-.js";import{L as ae}from"./Loader-D1ujCXmg.js";const se=(g,v,l)=>{v(g.target.value),l.onChange(v())};var le=_('<input type="radio"/> <label> </label>',1),re=_('<div class="wrapper svelte-1luxlbo"><fieldset class="switcher svelte-1luxlbo"><!> <div class="wrapSwitcherStatus svelte-1luxlbo"><div class="switcherStatus svelte-1luxlbo"></div></div></fieldset></div>');function oe(g,v){const l=P();F(v,!0);let d=A(v,"value",7);const E=`switcher-${l}`;var C=re(),w=c(C),k=c(w);q(k,17,()=>v.items,t=>t.title,(t,a)=>{var i=le(),e=B(i);T(e,1,N(["vh","input"]),"svelte-1luxlbo"),e.__change=[se,d,v];var r=f(e,2);T(r,1,N(["switcherButton"]),"svelte-1luxlbo");var u=c(r);O(()=>{m(e,"id",`${s(a).title}-${l}`),m(e,"name",E),z(e,s(a).value),G(e,s(a).value===d()),m(e,"aria-label",s(a).title),m(r,"for",`${s(a).title}-${l}`),m(r,"title",s(a).title),m(r,"aria-label",s(a).title),K(u,s(a).value)}),n(t,i)});var D=f(k,2),j=c(D);O(t=>X(j,t),[()=>`transform: translateX(${v.items.findIndex(t=>t.value===d())*100}%)`]),n(g,C),I()}Q(["change"]);var ve=_('<p class="message svelte-8vhup1">Export items</p> <div class="format-switcher svelte-8vhup1"><!> <p class="format-description svelte-8vhup1"><!></p></div> <div class="buttonContainer svelte-8vhup1"><!></div>',1),ie=_('<p class="message svelte-8vhup1">Exporting data...</p> <div class="buttonContainer svelte-8vhup1"><!></div>',1),ne=_('<p class="message svelte-8vhup1">Items exported successfully!</p> <div class="buttonContainer svelte-8vhup1"><!></div>',1),ce=_('<div class="content svelte-8vhup1"><!></div>');function pe(g,v){F(v,!0);let l=U("idle"),d=U("html");const E=()=>{te()};V(()=>{R(s(l)==="loading")}),W(()=>()=>{R(!1)});const C=async()=>{x(l,"loading"),setTimeout(async()=>{if(s(d)==="json")await Y().finally(()=>{x(l,"success")});else try{const t=Z(ee()),a=new Blob([t],{type:"text/html"}),i=URL.createObjectURL(a),e=document.createElement("a");e.href=i,e.download=`items_${new Date().toLocaleDateString().replace(/\//g,"_")}.html`,document.body.appendChild(e),e.click(),document.body.removeChild(e),URL.revokeObjectURL(i),x(l,"success")}catch(t){console.error("Error exporting as HTML:",t),x(l,"success")}},0)};var w=ce(),k=c(w);{var D=t=>{var a=ve(),i=f(B(a),2),e=c(i);oe(e,{items:[{title:"HTML",value:"html"},{title:"JSON",value:"json"}],get value(){return s(d)},onChange:o=>{x(d,o,!0)}});var r=f(e,2),u=c(r);{var b=o=>{var h=S("JSON format (App compatible, a faster format)");n(o,h)},p=o=>{var h=S("HTML format (Browser compatible)");n(o,h)};L(u,o=>{s(d)==="json"?o(b):o(p,!1)})}var y=f(i,2),H=c(y);$(H,{onClick:C,children:(o,h)=>{var M=S("Export");n(o,M)},$$slots:{default:!0}}),n(t,a)},j=(t,a)=>{{var i=r=>{var u=ie(),b=f(B(u),2),p=c(b);ae(p),n(r,u)},e=(r,u)=>{{var b=p=>{var y=ne(),H=f(B(y),2),o=c(H);$(o,{onClick:E,children:(h,M)=>{var J=S("Close");n(h,J)},$$slots:{default:!0}}),n(p,y)};L(r,p=>{s(l)==="success"&&p(b)},u)}};L(t,r=>{s(l)==="loading"?r(i):r(e,!1)},a)}};L(k,t=>{s(l)==="idle"?t(D):t(j,!1)})}n(g,w),I()}export{pe as default};
