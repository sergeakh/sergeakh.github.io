const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/MobileSidebar-CULpcdEl.js","assets/MobileSidebar-CUCj13hK.css","assets/About-DxOiHvzR.js","assets/About-DhrgDPiX.css","assets/AccessKeys-DNDjw9dz.js","assets/api-C5JaEwh0.js","assets/AccessKeys-DF5NA1tk.css","assets/Account-DEKslZuW.js","assets/Account-LI89flHz.css","assets/Auth-BxHDqFr4.js","assets/Auth-CnX7iJxK.css","assets/ClearStore-CMmjp9_4.js","assets/ClearStore-DiVqV26R.css","assets/ConfirmAccessKey-DTD2KgjK.js","assets/Input-D9LR3nej.js","assets/Input-KO0oOGze.css","assets/ConfirmAccessKey-BEOXyioc.css","assets/EditNote-CbxdvcR5.js","assets/NoteForm-rApqCoyv.js","assets/NoteForm-uWrWhO-G.css","assets/Exit-KMz5gsVE.js","assets/Exit-B7Im9AKN.css","assets/ExportData-Ct1vm9Zm.js","assets/ExportData-Gq8zQKAw.css","assets/ImportData-CuaVEj5t.js","assets/ImportData-CZGzVRRc.css","assets/NewNote-WK8aO4R-.js","assets/Settings-D0mgcJ4x.js","assets/Settings-BFT2w4xS.css","assets/Signin-BiiOzbMD.js","assets/Signup-DifbXQw0.js","assets/Subscription-20dqJnPS.js","assets/Subscription-2ryrsj8c.css","assets/Sync-DigSp0sb.js","assets/Sync-DZBzq12x.css"])))=>i.map(i=>d[i]);
var Is=Object.defineProperty;var xa=e=>{throw TypeError(e)};var Rs=(e,t,n)=>t in e?Is(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var bn=(e,t,n)=>Rs(e,typeof t!="symbol"?t+"":t,n),Ar=(e,t,n)=>t.has(e)||xa("Cannot "+n);var ne=(e,t,n)=>(Ar(e,t,"read from private field"),n?n.call(e):t.get(e)),je=(e,t,n)=>t.has(e)?xa("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Ke=(e,t,n,r)=>(Ar(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),At=(e,t,n)=>(Ar(e,t,"access private method"),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();const Za=!1;var Qr=Array.isArray,Bs=Array.prototype.indexOf,$r=Array.from,jr=Object.defineProperty,on=Object.getOwnPropertyDescriptor,Ja=Object.getOwnPropertyDescriptors,js=Object.prototype,Fs=Array.prototype,ea=Object.getPrototypeOf,Aa=Object.isExtensible;const Ue=()=>{};function Us(e){return typeof e?.then=="function"}function zs(e){return e()}function lr(e){for(var t=0;t<e.length;t++)e[t]()}function qs(){var e,t,n=new Promise((r,a)=>{e=r,t=a});return{promise:n,resolve:e,reject:t}}function Vs(e,t,n=!1){return e===void 0?n?t():t:e}const Ve=2,ta=4,hr=8,pn=16,_t=32,Vt=64,Qa=128,Ye=256,cr=512,Ne=1024,Ge=2048,Dt=4096,Qe=8192,Ht=16384,na=32768,Bn=65536,Na=1<<17,Hs=1<<18,jn=1<<19,$a=1<<20,Fr=1<<21,ra=1<<22,Ot=1<<23,It=Symbol("$state"),Ks=Symbol("legacy props"),Ws=Symbol(""),aa=new class extends Error{constructor(){super(...arguments);bn(this,"name","StaleReactionError");bn(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function Ys(){throw new Error("https://svelte.dev/e/await_outside_boundary")}function eo(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Gs(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Xs(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Zs(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Js(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Qs(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function $s(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function ei(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function ti(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function ni(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}const gr=1,_r=2,to=4,ri=8,ai=16,oi=1,si=2,ii=4,li=8,ci=16,ui=1,di=2,ge=Symbol(),fi="http://www.w3.org/1999/xhtml";let vi=!1;function no(e){return e===this.v}function hi(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function ro(e){return!hi(e,this.v)}let mn=!1,gi=!1;function _i(){mn=!0}let le=null;function vn(e){le=e}function Fn(e){return ao().get(e)}function Un(e,t){return ao().set(e,t),t}function Z(e,t=!1,n){le={p:le,c:null,e:null,s:e,x:null,l:mn&&!t?{s:null,u:null,$:[]}:null}}function J(e){var t=le,n=t.e;if(n!==null){t.e=null;for(var r of n)yo(r)}return e!==void 0&&(t.x=e),le=t.p,e??{}}function wn(){return!mn||le!==null&&le.l===null}function ao(e){return le===null&&eo(),le.c??(le.c=new Map(pi(le)||void 0))}function pi(e){let t=e.p;for(;t!==null;){const n=t.c;if(n!==null)return n;t=t.p}return null}const mi=new WeakMap;function wi(e){var t=ee;if(t===null)return X.f|=Ot,e;if((t.f&na)===0){if((t.f&Qa)===0)throw!t.parent&&e instanceof Error&&oo(e),e;t.b.error(e)}else oa(e,t)}function oa(e,t){for(;t!==null;){if((t.f&Qa)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e instanceof Error&&oo(e),e}function oo(e){const t=mi.get(e);t&&(jr(e,"message",{value:t.message}),jr(e,"stack",{value:t.stack}))}let Pn=[],Ur=[];function so(){var e=Pn;Pn=[],lr(e)}function yi(){var e=Ur;Ur=[],lr(e)}function pr(e){Pn.length===0&&queueMicrotask(so),Pn.push(e)}function Si(){Pn.length>0&&so(),Ur.length>0&&yi()}function bi(){const e=ee.b;return e===null&&Ys(),e}function zn(e){var t=Ve|Ge,n=X!==null&&(X.f&Ve)!==0?X:null;return ee===null||n!==null&&(n.f&Ye)!==0?t|=Ye:ee.f|=jn,{ctx:le,deps:null,effects:null,equals:no,f:t,fn:e,reactions:null,rv:0,v:ge,wv:0,parent:n??ee,ac:null}}function ki(e,t){let n=ee;n===null&&Gs();var r=n.b,a=void 0,o=zt(ge),i=null,l=!X;return Bi(()=>{try{var c=e();i&&Promise.resolve(c).catch(()=>{})}catch(g){c=Promise.reject(g)}var u=()=>c;a=i?.then(u,u)??Promise.resolve(c),i=a;var f=ie,v=r.is_pending();l&&(r.update_pending_count(1),v||f.increment());const h=(g,d=void 0)=>{i=null,v||f.activate(),d?d!==aa&&(o.f|=Ot,kt(o,d)):((o.f&Ot)!==0&&(o.f^=Ot),kt(o,g)),l&&(r.update_pending_count(-1),v||f.decrement()),co()};if(a.then(h,g=>h(null,g||"unknown")),f)return()=>{queueMicrotask(()=>f.neuter())}}),new Promise(c=>{function u(f){function v(){f===a?c(o):u(a)}f.then(v,v)}u(a)})}function I(e){const t=zn(e);return Po(t),t}function mr(e){const t=zn(e);return t.equals=ro,t}function io(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)lt(t[n])}}function Ei(e){for(var t=e.parent;t!==null;){if((t.f&Ve)===0)return t;t=t.parent}return null}function sa(e){var t,n=ee;ct(Ei(e));try{io(e),t=No(e)}finally{ct(n)}return t}function lo(e){var t=sa(e);if(e.equals(t)||(e.v=t,e.wv=xo()),!Wt){var n=(yt||(e.f&Ye)!==0)&&e.deps!==null?Dt:Ne;Fe(e,n)}}function Ci(e,t,n){const r=wn()?zn:mr;if(t.length===0){n(e.map(r));return}var a=ie,o=ee,i=Pi(),l=bi();Promise.all(t.map(c=>ki(c))).then(c=>{a?.activate(),i();try{n([...e.map(r),...c])}catch(u){(o.f&Ht)===0&&oa(u,o)}a?.deactivate(),co()}).catch(c=>{l.error(c)})}function Pi(){var e=ee,t=X,n=le,r=ie;return function(){ct(e),Xe(t),vn(n),r?.activate()}}function co(){ct(null),Xe(null),vn(null)}const Nr=new Set;let ie=null,or=null,Ta=new Set,ur=[];function uo(){const e=ur.shift();ur.length>0&&queueMicrotask(uo),e()}let Ut=[],wr=null,zr=!1,sr=!1;var Ln,un,mt,Mn,On,Lt,dn,Mt,wt,fn,In,Rn,et,fo,ir,qr;const vr=class vr{constructor(){je(this,et);bn(this,"current",new Map);je(this,Ln,new Map);je(this,un,new Set);je(this,mt,0);je(this,Mn,null);je(this,On,!1);je(this,Lt,[]);je(this,dn,[]);je(this,Mt,[]);je(this,wt,[]);je(this,fn,[]);je(this,In,[]);je(this,Rn,[]);bn(this,"skipped_effects",new Set)}process(t){Ut=[],or=null;for(const a of t)At(this,et,fo).call(this,a);if(ne(this,Lt).length===0&&ne(this,mt)===0){At(this,et,qr).call(this);var n=ne(this,Mt),r=ne(this,wt);Ke(this,Mt,[]),Ke(this,wt,[]),Ke(this,fn,[]),or=ie,ie=null,La(n),La(r),ie===null?ie=this:Nr.delete(this),ne(this,Mn)?.resolve()}else At(this,et,ir).call(this,ne(this,Mt)),At(this,et,ir).call(this,ne(this,wt)),At(this,et,ir).call(this,ne(this,fn));for(const a of ne(this,Lt))cn(a);for(const a of ne(this,dn))cn(a);Ke(this,Lt,[]),Ke(this,dn,[])}capture(t,n){ne(this,Ln).has(t)||ne(this,Ln).set(t,n),this.current.set(t,t.v)}activate(){ie=this}deactivate(){ie=null,or=null;for(const t of Ta)if(Ta.delete(t),t(),ie!==null)break}neuter(){Ke(this,On,!0)}flush(){Ut.length>0?ho():At(this,et,qr).call(this),ie===this&&(ne(this,mt)===0&&Nr.delete(this),this.deactivate())}increment(){Ke(this,mt,ne(this,mt)+1)}decrement(){if(Ke(this,mt,ne(this,mt)-1),ne(this,mt)===0){for(const t of ne(this,In))Fe(t,Ge),hn(t);for(const t of ne(this,Rn))Fe(t,Dt),hn(t);Ke(this,Mt,[]),Ke(this,wt,[]),this.flush()}else this.deactivate()}add_callback(t){ne(this,un).add(t)}settled(){return(ne(this,Mn)??Ke(this,Mn,qs())).promise}static ensure(){if(ie===null){const t=ie=new vr;Nr.add(ie),sr||vr.enqueue(()=>{ie===t&&t.flush()})}return ie}static enqueue(t){ur.length===0&&queueMicrotask(uo),ur.unshift(t)}};Ln=new WeakMap,un=new WeakMap,mt=new WeakMap,Mn=new WeakMap,On=new WeakMap,Lt=new WeakMap,dn=new WeakMap,Mt=new WeakMap,wt=new WeakMap,fn=new WeakMap,In=new WeakMap,Rn=new WeakMap,et=new WeakSet,fo=function(t){t.f^=Ne;for(var n=t.first;n!==null;){var r=n.f,a=(r&(_t|Vt))!==0,o=a&&(r&Ne)!==0,i=o||(r&Qe)!==0||this.skipped_effects.has(n);if(!i&&n.fn!==null){if(a)n.f^=Ne;else if((r&ta)!==0)ne(this,wt).push(n);else if((r&Ne)===0)if((r&ra)!==0){var l=n.b?.is_pending()?ne(this,dn):ne(this,Lt);l.push(n)}else br(n)&&((n.f&pn)!==0&&ne(this,fn).push(n),cn(n));var c=n.first;if(c!==null){n=c;continue}}var u=n.parent;for(n=n.next;n===null&&u!==null;)n=u.next,u=u.parent}},ir=function(t){for(const n of t)((n.f&Ge)!==0?ne(this,In):ne(this,Rn)).push(n),Fe(n,Ne);t.length=0},qr=function(){if(!ne(this,On))for(const t of ne(this,un))t();ne(this,un).clear()};let Dn=vr;function vo(e){var t=sr;sr=!0;try{for(var n;;){if(Si(),Ut.length===0&&(ie?.flush(),Ut.length===0))return wr=null,n;ho()}}finally{sr=t}}function ho(){var e=ln;zr=!0;try{var t=0;for(Ia(!0);Ut.length>0;){var n=Dn.ensure();if(t++>1e3){var r,a;Di()}n.process(Ut),bt.clear()}}finally{zr=!1,Ia(e),wr=null}}function Di(){try{Qs()}catch(e){oa(e,wr)}}let Tt=null;function La(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if((r.f&(Ht|Qe))===0&&br(r)&&(Tt=[],cn(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?ko(r):r.fn=null),Tt?.length>0)){bt.clear();for(const a of Tt)cn(a);Tt=[]}}Tt=null}}function hn(e){for(var t=wr=e;t.parent!==null;){t=t.parent;var n=t.f;if(zr&&t===ee&&(n&pn)!==0)return;if((n&(Vt|_t))!==0){if((n&Ne)===0)return;t.f^=Ne}}Ut.push(t)}const bt=new Map;function zt(e,t){var n={f:0,v:e,reactions:null,equals:no,rv:0,wv:0};return n}function T(e,t){const n=zt(e);return Po(n),n}function Vr(e,t=!1,n=!0){var a;const r=zt(e);return t||(r.equals=ro),mn&&n&&le!==null&&le.l!==null&&((a=le.l).s??(a.s=[])).push(r),r}function S(e,t,n=!1){X!==null&&(!ot||(X.f&Na)!==0)&&wn()&&(X.f&(Ve|pn|ra|Na))!==0&&!ht?.includes(e)&&ni();let r=n?De(t):t;return kt(e,r)}function kt(e,t){if(!e.equals(t)){var n=e.v;Wt?bt.set(e,t):bt.set(e,n),e.v=t;var r=Dn.ensure();r.capture(e,n),(e.f&Ve)!==0&&((e.f&Ge)!==0&&sa(e),Fe(e,(e.f&Ye)===0?Ne:Dt)),e.wv=xo(),go(e,Ge),wn()&&ee!==null&&(ee.f&Ne)!==0&&(ee.f&(_t|Vt))===0&&(We===null?Ui([e]):We.push(e))}return t}function Tr(e){S(e,e.v+1)}function go(e,t){var n=e.reactions;if(n!==null)for(var r=wn(),a=n.length,o=0;o<a;o++){var i=n[o],l=i.f;if(!(!r&&i===ee)){var c=(l&Ge)===0;c&&Fe(i,t),(l&Ve)!==0?go(i,Dt):c&&((l&pn)!==0&&Tt!==null&&Tt.push(i),hn(i))}}}function De(e){if(typeof e!="object"||e===null||It in e)return e;const t=ea(e);if(t!==js&&t!==Fs)return e;var n=new Map,r=Qr(e),a=T(0),o=Bt,i=l=>{if(Bt===o)return l();var c=X,u=Bt;Xe(null),Ba(o);var f=l();return Xe(c),Ba(u),f};return r&&n.set("length",T(e.length)),new Proxy(e,{defineProperty(l,c,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&ei();var f=n.get(c);return f===void 0?f=i(()=>{var v=T(u.value);return n.set(c,v),v}):S(f,u.value,!0),!0},deleteProperty(l,c){var u=n.get(c);if(u===void 0){if(c in l){const f=i(()=>T(ge));n.set(c,f),Tr(a)}}else S(u,ge),Tr(a);return!0},get(l,c,u){if(c===It)return e;var f=n.get(c),v=c in l;if(f===void 0&&(!v||on(l,c)?.writable)&&(f=i(()=>{var g=De(v?l[c]:ge),d=T(g);return d}),n.set(c,f)),f!==void 0){var h=s(f);return h===ge?void 0:h}return Reflect.get(l,c,u)},getOwnPropertyDescriptor(l,c){var u=Reflect.getOwnPropertyDescriptor(l,c);if(u&&"value"in u){var f=n.get(c);f&&(u.value=s(f))}else if(u===void 0){var v=n.get(c),h=v?.v;if(v!==void 0&&h!==ge)return{enumerable:!0,configurable:!0,value:h,writable:!0}}return u},has(l,c){if(c===It)return!0;var u=n.get(c),f=u!==void 0&&u.v!==ge||Reflect.has(l,c);if(u!==void 0||ee!==null&&(!f||on(l,c)?.writable)){u===void 0&&(u=i(()=>{var h=f?De(l[c]):ge,g=T(h);return g}),n.set(c,u));var v=s(u);if(v===ge)return!1}return f},set(l,c,u,f){var v=n.get(c),h=c in l;if(r&&c==="length")for(var g=u;g<v.v;g+=1){var d=n.get(g+"");d!==void 0?S(d,ge):g in l&&(d=i(()=>T(ge)),n.set(g+"",d))}if(v===void 0)(!h||on(l,c)?.writable)&&(v=i(()=>T(void 0)),S(v,De(u)),n.set(c,v));else{h=v.v!==ge;var _=i(()=>De(u));S(v,_)}var y=Reflect.getOwnPropertyDescriptor(l,c);if(y?.set&&y.set.call(f,u),!h){if(r&&typeof c=="string"){var k=n.get("length"),P=Number(c);Number.isInteger(P)&&P>=k.v&&S(k,P+1)}Tr(a)}return!0},ownKeys(l){s(a);var c=Reflect.ownKeys(l).filter(v=>{var h=n.get(v);return h===void 0||h.v!==ge});for(var[u,f]of n)f.v!==ge&&!(u in l)&&c.push(u);return c},setPrototypeOf(){ti()}})}var Ma,_o,po,mo;function xi(){if(Ma===void 0){Ma=window,_o=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;po=on(t,"firstChild").get,mo=on(t,"nextSibling").get,Aa(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Aa(n)&&(n.__t=void 0)}}function Kt(e=""){return document.createTextNode(e)}function gn(e){return po.call(e)}function yr(e){return mo.call(e)}function C(e,t){return gn(e)}function A(e,t){{var n=gn(e);return n instanceof Comment&&n.data===""?yr(n):n}}function N(e,t=1,n=!1){let r=e;for(;t--;)r=yr(r);return r}function Ai(e){e.textContent=""}function ia(){return!1}let Oa=!1;function Ni(){Oa||(Oa=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function Sr(e){var t=X,n=ee;Xe(null),ct(null);try{return e()}finally{Xe(t),ct(n)}}function Ti(e,t,n,r=n){e.addEventListener(t,()=>Sr(n));const a=e.__on_r;a?e.__on_r=()=>{a(),r(!0)}:e.__on_r=()=>r(!0),Ni()}function wo(e){ee===null&&X===null&&Js(),X!==null&&(X.f&Ye)!==0&&ee===null&&Zs(),Wt&&Xs()}function Li(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function ut(e,t,n,r=!0){var a=ee;a!==null&&(a.f&Qe)!==0&&(e|=Qe);var o={ctx:le,deps:null,nodes_start:null,nodes_end:null,f:e|Ge,first:null,fn:t,last:null,next:null,parent:a,b:a&&a.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{cn(o),o.f|=na}catch(c){throw lt(o),c}else t!==null&&hn(o);if(r){var i=o;if(n&&i.deps===null&&i.teardown===null&&i.nodes_start===null&&i.first===i.last&&(i.f&jn)===0&&(i=i.first),i!==null&&(i.parent=a,a!==null&&Li(i,a),X!==null&&(X.f&Ve)!==0&&(e&Vt)===0)){var l=X;(l.effects??(l.effects=[])).push(i)}}return o}function Mi(e){const t=ut(hr,null,!1);return Fe(t,Ne),t.teardown=e,t}function ke(e){wo();var t=ee.f,n=!X&&(t&_t)!==0&&(t&na)===0;if(n){var r=le;(r.e??(r.e=[])).push(e)}else return yo(e)}function yo(e){return ut(ta|$a,e,!1)}function Oi(e){return wo(),ut(hr|$a,e,!0)}function Ii(e){Dn.ensure();const t=ut(Vt|jn,e,!0);return(n={})=>new Promise(r=>{n.outro?Rt(t,()=>{lt(t),r(void 0)}):(lt(t),r(void 0))})}function Ri(e){return ut(ta,e,!1)}function Bi(e){return ut(ra|jn,e,!0)}function la(e,t=0){return ut(hr|t,e,!0)}function ue(e,t=[],n=[]){Ci(t,n,r=>{ut(hr,()=>e(...r.map(s)),!0)})}function qn(e,t=0){var n=ut(pn|t,e,!0);return n}function it(e,t=!0){return ut(_t|jn,e,!0,t)}function So(e){var t=e.teardown;if(t!==null){const n=Wt,r=X;Ra(!0),Xe(null);try{t.call(null)}finally{Ra(n),Xe(r)}}}function bo(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const a=n.ac;a!==null&&Sr(()=>{a.abort(aa)});var r=n.next;(n.f&Vt)!==0?n.parent=null:lt(n,t),n=r}}function ji(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&_t)===0&&lt(t),t=n}}function lt(e,t=!0){var n=!1;(t||(e.f&Hs)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(Fi(e.nodes_start,e.nodes_end),n=!0),bo(e,t&&!n),dr(e,0),Fe(e,Ht);var r=e.transitions;if(r!==null)for(const o of r)o.stop();So(e);var a=e.parent;a!==null&&a.first!==null&&ko(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function Fi(e,t){for(;e!==null;){var n=e===t?null:yr(e);e.remove(),e=n}}function ko(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function Rt(e,t){var n=[];ca(e,n,!0),Eo(n,()=>{lt(e),t&&t()})}function Eo(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var a of e)a.out(r)}else t()}function ca(e,t,n){if((e.f&Qe)===0){if(e.f^=Qe,e.transitions!==null)for(const i of e.transitions)(i.is_global||n)&&t.push(i);for(var r=e.first;r!==null;){var a=r.next,o=(r.f&Bn)!==0||(r.f&_t)!==0;ca(r,t,o?n:!1),r=a}}}function sn(e){Co(e,!0)}function Co(e,t){if((e.f&Qe)!==0){e.f^=Qe,(e.f&Ne)===0&&(Fe(e,Ge),hn(e));for(var n=e.first;n!==null;){var r=n.next,a=(n.f&Bn)!==0||(n.f&_t)!==0;Co(n,a?t:!1),n=r}if(e.transitions!==null)for(const o of e.transitions)(o.is_global||t)&&o.in()}}let ln=!1;function Ia(e){ln=e}let Wt=!1;function Ra(e){Wt=e}let X=null,ot=!1;function Xe(e){X=e}let ee=null;function ct(e){ee=e}let ht=null;function Po(e){X!==null&&(ht===null?ht=[e]:ht.push(e))}let Me=null,qe=0,We=null;function Ui(e){We=e}let Do=1,xn=0,Bt=xn;function Ba(e){Bt=e}let yt=!1;function xo(){return++Do}function br(e){var t=e.f;if((t&Ge)!==0)return!0;if((t&Dt)!==0){var n=e.deps,r=(t&Ye)!==0;if(n!==null){var a,o,i=(t&cr)!==0,l=r&&ee!==null&&!yt,c=n.length;if((i||l)&&(ee===null||(ee.f&Ht)===0)){var u=e,f=u.parent;for(a=0;a<c;a++)o=n[a],(i||!o?.reactions?.includes(u))&&(o.reactions??(o.reactions=[])).push(u);i&&(u.f^=cr),l&&f!==null&&(f.f&Ye)===0&&(u.f^=Ye)}for(a=0;a<c;a++)if(o=n[a],br(o)&&lo(o),o.wv>e.wv)return!0}(!r||ee!==null&&!yt)&&Fe(e,Ne)}return!1}function Ao(e,t,n=!0){var r=e.reactions;if(r!==null&&!ht?.includes(e))for(var a=0;a<r.length;a++){var o=r[a];(o.f&Ve)!==0?Ao(o,t,!1):t===o&&(n?Fe(o,Ge):(o.f&Ne)!==0&&Fe(o,Dt),hn(o))}}function No(e){var _;var t=Me,n=qe,r=We,a=X,o=yt,i=ht,l=le,c=ot,u=Bt,f=e.f;Me=null,qe=0,We=null,yt=(f&Ye)!==0&&(ot||!ln||X===null),X=(f&(_t|Vt))===0?e:null,ht=null,vn(e.ctx),ot=!1,Bt=++xn,e.ac!==null&&(Sr(()=>{e.ac.abort(aa)}),e.ac=null);try{e.f|=Fr;var v=e.fn,h=v(),g=e.deps;if(Me!==null){var d;if(dr(e,qe),g!==null&&qe>0)for(g.length=qe+Me.length,d=0;d<Me.length;d++)g[qe+d]=Me[d];else e.deps=g=Me;if(!yt||(f&Ve)!==0&&e.reactions!==null)for(d=qe;d<g.length;d++)((_=g[d]).reactions??(_.reactions=[])).push(e)}else g!==null&&qe<g.length&&(dr(e,qe),g.length=qe);if(wn()&&We!==null&&!ot&&g!==null&&(e.f&(Ve|Dt|Ge))===0)for(d=0;d<We.length;d++)Ao(We[d],e);return a!==null&&a!==e&&(xn++,We!==null&&(r===null?r=We:r.push(...We))),(e.f&Ot)!==0&&(e.f^=Ot),h}catch(y){return wi(y)}finally{e.f^=Fr,Me=t,qe=n,We=r,X=a,yt=o,ht=i,vn(l),ot=c,Bt=u}}function zi(e,t){let n=t.reactions;if(n!==null){var r=Bs.call(n,e);if(r!==-1){var a=n.length-1;a===0?n=t.reactions=null:(n[r]=n[a],n.pop())}}n===null&&(t.f&Ve)!==0&&(Me===null||!Me.includes(t))&&(Fe(t,Dt),(t.f&(Ye|cr))===0&&(t.f^=cr),io(t),dr(t,0))}function dr(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)zi(e,n[r])}function cn(e){var t=e.f;if((t&Ht)===0){Fe(e,Ne);var n=ee,r=ln;ee=e,ln=!0;try{(t&pn)!==0?ji(e):bo(e),So(e);var a=No(e);e.teardown=typeof a=="function"?a:null,e.wv=Do;var o;Za&&gi&&(e.f&Ge)!==0&&e.deps}finally{ln=r,ee=n}}}async function To(){await Promise.resolve(),vo()}function s(e){var t=e.f,n=(t&Ve)!==0;if(X!==null&&!ot){var r=ee!==null&&(ee.f&Ht)!==0;if(!r&&!ht?.includes(e)){var a=X.deps;if((X.f&Fr)!==0)e.rv<xn&&(e.rv=xn,Me===null&&a!==null&&a[qe]===e?qe++:Me===null?Me=[e]:(!yt||!Me.includes(e))&&Me.push(e));else{(X.deps??(X.deps=[])).push(e);var o=e.reactions;o===null?e.reactions=[X]:o.includes(X)||o.push(X)}}}else if(n&&e.deps===null&&e.effects===null){var i=e,l=i.parent;l!==null&&(l.f&Ye)===0&&(i.f^=Ye)}if(Wt){if(bt.has(e))return bt.get(e);if(n){i=e;var c=i.v;return((i.f&Ne)===0&&i.reactions!==null||Lo(i))&&(c=sa(i)),bt.set(i,c),c}}else n&&(i=e,br(i)&&lo(i));if((e.f&Ot)!==0)throw e.v;return e.v}function Lo(e){if(e.v===ge)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(bt.has(t)||(t.f&Ve)!==0&&Lo(t))return!0;return!1}function qt(e){var t=ot;try{return ot=!0,e()}finally{ot=t}}const qi=-7169;function Fe(e,t){e.f=e.f&qi|t}function Vi(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(It in e)Hr(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&It in n&&Hr(n)}}}function Hr(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{Hr(e[r],t)}catch{}const n=ea(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=Ja(n);for(let a in r){const o=r[a].get;if(o)try{o.call(e)}catch{}}}}}const Hi=["touchstart","touchmove"];function Ki(e){return Hi.includes(e)}const Mo=new Set,Kr=new Set;function Wi(e,t,n,r={}){function a(o){if(r.capture||kn.call(t,o),!o.cancelBubble)return Sr(()=>n?.call(this,o))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?pr(()=>{t.addEventListener(e,a,r)}):t.addEventListener(e,a,r),a}function ua(e,t,n,r,a){var o={capture:r,passive:a},i=Wi(e,t,n,o);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&Mi(()=>{t.removeEventListener(e,i,o)})}function He(e){for(var t=0;t<e.length;t++)Mo.add(e[t]);for(var n of Kr)n(e)}let ja=null;function kn(e){var t=this,n=t.ownerDocument,r=e.type,a=e.composedPath?.()||[],o=a[0]||e.target;ja=e;var i=0,l=ja===e&&e.__root;if(l){var c=a.indexOf(l);if(c!==-1&&(t===document||t===window)){e.__root=t;return}var u=a.indexOf(t);if(u===-1)return;c<=u&&(i=c)}if(o=a[i]||e.target,o!==t){jr(e,"currentTarget",{configurable:!0,get(){return o||n}});var f=X,v=ee;Xe(null),ct(null);try{for(var h,g=[];o!==null;){var d=o.assignedSlot||o.parentNode||o.host||null;try{var _=o["__"+r];if(_!=null&&(!o.disabled||e.target===o))if(Qr(_)){var[y,...k]=_;y.apply(o,[e,...k])}else _.call(o,e)}catch(P){h?g.push(P):h=P}if(e.cancelBubble||d===t||d===null)break;o=d}if(h){for(let P of g)queueMicrotask(()=>{throw P});throw h}}finally{e.__root=t,delete e.currentTarget,Xe(f),ct(v)}}}function Oo(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function An(e,t){var n=ee;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function j(e,t){var n=(t&ui)!==0,r=(t&di)!==0,a,o=!e.startsWith("<!>");return()=>{a===void 0&&(a=Oo(o?e:"<!>"+e),n||(a=gn(a)));var i=r||_o?document.importNode(a,!0):a.cloneNode(!0);if(n){var l=gn(i),c=i.lastChild;An(l,c)}else An(i,i);return i}}function Yi(e,t,n="svg"){var r=!e.startsWith("<!>"),a=`<${n}>${r?e:"<!>"+e}</${n}>`,o;return()=>{if(!o){var i=Oo(a),l=gn(i);o=gn(l)}var c=o.cloneNode(!0);return An(c,c),c}}function Gi(e,t){return Yi(e,t,"svg")}function Oe(e=""){{var t=Kt(e+"");return An(t,t),t}}function z(){var e=document.createDocumentFragment(),t=document.createComment(""),n=Kt();return e.append(t,n),An(t,n),e}function m(e,t){e!==null&&e.before(t)}function Ju(){var e;return(e=window.__svelte??(window.__svelte={})).uid??(e.uid=1),`c${window.__svelte.uid++}`}function Nn(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function Xi(e,t){return Zi(e,t)}const nn=new Map;function Zi(e,{target:t,anchor:n,props:r={},events:a,context:o,intro:i=!0}){xi();var l=new Set,c=v=>{for(var h=0;h<v.length;h++){var g=v[h];if(!l.has(g)){l.add(g);var d=Ki(g);t.addEventListener(g,kn,{passive:d});var _=nn.get(g);_===void 0?(document.addEventListener(g,kn,{passive:d}),nn.set(g,1)):nn.set(g,_+1)}}};c($r(Mo)),Kr.add(c);var u=void 0,f=Ii(()=>{var v=n??t.appendChild(Kt());return it(()=>{if(o){Z({});var h=le;h.c=o}a&&(r.$$events=a),u=e(v,r)||{},o&&J()}),()=>{for(var h of l){t.removeEventListener(h,kn);var g=nn.get(h);--g===0?(document.removeEventListener(h,kn),nn.delete(h)):nn.set(h,g)}Kr.delete(c),v!==n&&v.parentNode?.removeChild(v)}});return Ji.set(u,f),u}let Ji=new WeakMap;const Lr=0,nr=1,Mr=2;function Io(e,t,n,r,a){var o=e,i=wn(),l=le,c=ge,u,f,v,h=i?zt(void 0):Vr(void 0,!1,!1),g=i?zt(void 0):Vr(void 0,!1,!1),d=!1;function _(k,P){d=!0,P&&(ct(y),Xe(y),vn(l));try{k===Lr&&n&&(u?sn(u):u=it(()=>n(o))),k===nr&&r&&(f?sn(f):f=it(()=>r(o,h))),k===Mr&&a&&(v?sn(v):v=it(()=>a(o,g))),k!==Lr&&u&&Rt(u,()=>u=null),k!==nr&&f&&Rt(f,()=>f=null),k!==Mr&&v&&Rt(v,()=>v=null)}finally{P&&(vn(null),Xe(null),ct(null),vo())}}var y=qn(()=>{if(c!==(c=t())){if(Us(c)){var k=c;d=!1,k.then(P=>{k===c&&(kt(h,P),_(nr,!0))},P=>{if(k===c&&(kt(g,P),_(Mr,!0),!a))throw g.v}),pr(()=>{d||_(Lr,!0)})}else kt(h,c),_(nr,!1);return()=>c=ge}})}function O(e,t,n=!1){var r=e,a=null,o=null,i=ge,l=n?Bn:0,c=!1;const u=(g,d=!0)=>{c=!0,h(d,g)};var f=null;function v(){f!==null&&(f.lastChild.remove(),r.before(f),f=null);var g=i?a:o,d=i?o:a;g&&sn(g),d&&Rt(d,()=>{i?o=null:a=null})}const h=(g,d)=>{if(i!==(i=g)){var _=ia(),y=r;if(_&&(f=document.createDocumentFragment(),f.append(y=Kt())),i?a??(a=d&&it(()=>d(y))):o??(o=d&&it(()=>d(y))),_){var k=ie,P=i?a:o,w=i?o:a;P&&k.skipped_effects.delete(P),w&&k.skipped_effects.add(w),k.add_callback(v)}else v()}};qn(()=>{c=!1,t(u),c||h(null,null)},l)}function me(e,t){la(()=>{var n=t();for(var r in n){var a=n[r];a?e.style.setProperty(r,a):e.style.removeProperty(r)}})}function Qi(e,t,n){for(var r=e.items,a=[],o=t.length,i=0;i<o;i++)ca(t[i].e,a,!0);var l=o>0&&a.length===0&&n!==null;if(l){var c=n.parentNode;Ai(c),c.append(n),r.clear(),at(e,t[0].prev,t[o-1].next)}Eo(a,()=>{for(var u=0;u<o;u++){var f=t[u];l||(r.delete(f.k),at(e,f.prev,f.next)),lt(f.e,!l)}})}function an(e,t,n,r,a,o=null){var i=e,l={flags:t,items:new Map,first:null},c=(t&to)!==0;if(c){var u=e;i=u.appendChild(Kt())}var f=null,v=!1,h=new Map,g=mr(()=>{var k=n();return Qr(k)?k:k==null?[]:$r(k)}),d,_;function y(){$i(_,d,l,h,i,a,t,r,n),o!==null&&(d.length===0?f?sn(f):f=it(()=>o(i)):f!==null&&Rt(f,()=>{f=null}))}qn(()=>{_??(_=ee),d=s(g);var k=d.length;if(!(v&&k===0)){v=k===0;var P,w,b,E;if(ia()){var p=new Set,D=ie;for(w=0;w<k;w+=1){b=d[w],E=r(b,w);var R=l.items.get(E)??h.get(E);R?(t&(gr|_r))!==0&&Ro(R,b,w,t):(P=Bo(null,l,null,null,b,E,w,a,t,n,!0),h.set(E,P)),p.add(E)}for(const[B,Y]of l.items)p.has(B)||D.skipped_effects.add(Y.e);D.add_callback(y)}else y();s(g)}})}function $i(e,t,n,r,a,o,i,l,c){var u=(i&ri)!==0,f=(i&(gr|_r))!==0,v=t.length,h=n.items,g=n.first,d=g,_,y=null,k,P=[],w=[],b,E,p,D;if(u)for(D=0;D<v;D+=1)b=t[D],E=l(b,D),p=h.get(E),p!==void 0&&(p.a?.measure(),(k??(k=new Set)).add(p));for(D=0;D<v;D+=1){if(b=t[D],E=l(b,D),p=h.get(E),p===void 0){var R=r.get(E);if(R!==void 0){r.delete(E),h.set(E,R);var B=y?y.next:d;at(n,y,R),at(n,R,B),Or(R,B,a),y=R}else{var Y=d?d.e.nodes_start:a;y=Bo(Y,n,y,y===null?n.first:y.next,b,E,D,o,i,c)}h.set(E,y),P=[],w=[],d=y.next;continue}if(f&&Ro(p,b,D,i),(p.e.f&Qe)!==0&&(sn(p.e),u&&(p.a?.unfix(),(k??(k=new Set)).delete(p))),p!==d){if(_!==void 0&&_.has(p)){if(P.length<w.length){var G=w[0],H;y=G.prev;var U=P[0],te=P[P.length-1];for(H=0;H<P.length;H+=1)Or(P[H],G,a);for(H=0;H<w.length;H+=1)_.delete(w[H]);at(n,U.prev,te.next),at(n,y,U),at(n,te,G),d=G,y=te,D-=1,P=[],w=[]}else _.delete(p),Or(p,d,a),at(n,p.prev,p.next),at(n,p,y===null?n.first:y.next),at(n,y,p),y=p;continue}for(P=[],w=[];d!==null&&d.k!==E;)(d.e.f&Qe)===0&&(_??(_=new Set)).add(d),w.push(d),d=d.next;if(d===null)continue;p=d}P.push(p),y=p,d=p.next}if(d!==null||_!==void 0){for(var F=_===void 0?[]:$r(_);d!==null;)(d.e.f&Qe)===0&&F.push(d),d=d.next;var Q=F.length;if(Q>0){var V=(i&to)!==0&&v===0?a:null;if(u){for(D=0;D<Q;D+=1)F[D].a?.measure();for(D=0;D<Q;D+=1)F[D].a?.fix()}Qi(n,F,V)}}u&&pr(()=>{if(k!==void 0)for(p of k)p.a?.apply()}),e.first=n.first&&n.first.e,e.last=y&&y.e;for(var W of r.values())lt(W.e);r.clear()}function Ro(e,t,n,r){(r&gr)!==0&&kt(e.v,t),(r&_r)!==0?kt(e.i,n):e.i=n}function Bo(e,t,n,r,a,o,i,l,c,u,f){var v=(c&gr)!==0,h=(c&ai)===0,g=v?h?Vr(a,!1,!1):zt(a):a,d=(c&_r)===0?i:zt(i),_={i:d,v:g,k:o,a:null,e:null,prev:n,next:r};try{if(e===null){var y=document.createDocumentFragment();y.append(e=Kt())}return _.e=it(()=>l(e,g,d,u),vi),_.e.prev=n&&n.e,_.e.next=r&&r.e,n===null?f||(t.first=_):(n.next=_,n.e.next=_.e),r!==null&&(r.prev=_,r.e.prev=_.e),_}finally{}}function Or(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,a=t?t.e.nodes_start:n,o=e.e.nodes_start;o!==null&&o!==r;){var i=yr(o);a.before(o),o=i}}function at(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function Ee(e,t,...n){var r=e,a=Ue,o;qn(()=>{a!==(a=t())&&(o&&(lt(o),o=null),o=it(()=>a(r,...n)))},Bn)}function jo(e,t,n){var r=e,a,o,i=null,l=null;function c(){o&&(Rt(o),o=null),i&&(i.lastChild.remove(),r.before(i),i=null),o=l,l=null}qn(()=>{if(a!==(a=t())){var u=ia();if(a){var f=r;u&&(i=document.createDocumentFragment(),i.append(f=Kt()),o&&ie.skipped_effects.add(o)),l=it(()=>n(f,a))}u?ie.add_callback(c):c()}},Bn)}function Fo(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=Fo(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function el(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=Fo(e))&&(r&&(r+=" "),r+=t);return r}function oe(e){return typeof e=="object"?el(e):e??""}const Fa=[...` 	
\r\f \v\uFEFF`];function tl(e,t,n){var r=e==null?"":""+e;if(t&&(r=r?r+" "+t:t),n){for(var a in n)if(n[a])r=r?r+" "+a:a;else if(r.length)for(var o=a.length,i=0;(i=r.indexOf(a,i))>=0;){var l=i+o;(i===0||Fa.includes(r[i-1]))&&(l===r.length||Fa.includes(r[l]))?r=(i===0?"":r.substring(0,i))+r.substring(l+1):i=l}}return r===""?null:r}function nl(e,t){return e==null?null:String(e)}function se(e,t,n,r,a,o){var i=e.__className;if(i!==n||i===void 0){var l=tl(n,r,o);l==null?e.removeAttribute("class"):e.className=l,e.__className=n}else if(o&&a!==o)for(var c in o){var u=!!o[c];(a==null||u!==!!a[c])&&e.classList.toggle(c,u)}return o}function Tn(e,t,n,r){var a=e.__style;if(a!==t){var o=nl(t);o==null?e.removeAttribute("style"):e.style.cssText=o,e.__style=t}return r}const rl=Symbol("is custom element"),al=Symbol("is html");function Qu(e,t){var n=da(e);n.value===(n.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function $u(e,t){var n=da(e);n.checked!==(n.checked=t??void 0)&&(e.checked=t)}function Pe(e,t,n,r){var a=da(e);a[t]!==(a[t]=n)&&(t==="loading"&&(e[Ws]=n),n==null?e.removeAttribute(t):typeof n!="string"&&ol(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function da(e){return e.__attributes??(e.__attributes={[rl]:e.nodeName.includes("-"),[al]:e.namespaceURI===fi})}var Ua=new Map;function ol(e){var t=e.getAttribute("is")||e.nodeName,n=Ua.get(t);if(n)return n;Ua.set(t,n=[]);for(var r,a=e,o=Element.prototype;o!==a;){r=Ja(a);for(var i in r)r[i].set&&n.push(i);a=ea(a)}return n}function sl(e,t,n=t){var r=new WeakSet;Ti(e,"input",async a=>{var o=a?e.defaultValue:e.value;if(o=Ir(e)?Rr(o):o,n(o),ie!==null&&r.add(ie),await To(),o!==(o=t())){var i=e.selectionStart,l=e.selectionEnd;e.value=o??"",l!==null&&(e.selectionStart=i,e.selectionEnd=Math.min(l,e.value.length))}}),qt(t)==null&&e.value&&(n(Ir(e)?Rr(e.value):e.value),ie!==null&&r.add(ie)),la(()=>{var a=t();if(e===document.activeElement){var o=or??ie;if(r.has(o))return}Ir(e)&&a===Rr(e.value)||e.type==="date"&&!a&&!e.value||a!==e.value&&(e.value=a??"")})}function Ir(e){var t=e.type;return t==="number"||t==="range"}function Rr(e){return e===""?null:+e}function za(e,t){return e===t||e?.[It]===t}function tt(e={},t,n,r){return Ri(()=>{var a,o;return la(()=>{a=o,o=[],qt(()=>{e!==n(...o)&&(t(e,...o),a&&za(n(...a),e)&&t(null,...a))})}),()=>{pr(()=>{o&&za(n(...o),e)&&t(null,...o)})}}),e}function Vn(e=!1){const t=le,n=t.l.u;if(!n)return;let r=()=>Vi(t.s);if(e){let a=0,o={};const i=zn(()=>{let l=!1;const c=t.s;for(const u in c)c[u]!==o[u]&&(o[u]=c[u],l=!0);return l&&a++,a});r=()=>s(i)}n.b.length&&Oi(()=>{qa(t,r),lr(n.b)}),ke(()=>{const a=qt(()=>n.m.map(zs));return()=>{for(const o of a)typeof o=="function"&&o()}}),n.a.length&&ke(()=>{qa(t,r),lr(n.a)})}function qa(e,t){if(e.l.s)for(const n of e.l.s)s(n);t()}let rr=!1;function il(e){var t=rr;try{return rr=!1,[e(),rr]}finally{rr=t}}function re(e,t,n,r){var a=!mn||(n&si)!==0,o=(n&li)!==0,i=(n&ci)!==0,l=r,c=!0,u=()=>(c&&(c=!1,l=i?qt(r):r),l),f;if(o){var v=It in e||Ks in e;f=on(e,t)?.set??(v&&t in e?w=>e[t]=w:void 0)}var h,g=!1;o?[h,g]=il(()=>e[t]):h=e[t],h===void 0&&r!==void 0&&(h=u(),f&&(a&&$s(),f(h)));var d;if(a?d=()=>{var w=e[t];return w===void 0?u():(c=!0,w)}:d=()=>{var w=e[t];return w!==void 0&&(l=void 0),w===void 0?l:w},a&&(n&ii)===0)return d;if(f){var _=e.$$legacy;return(function(w,b){return arguments.length>0?((!a||!b||_||g)&&f(b?d():w),w):d()})}var y=!1,k=((n&oi)!==0?zn:mr)(()=>(y=!1,d()));o&&s(k);var P=ee;return(function(w,b){if(arguments.length>0){const E=b?s(k):a&&o?De(w):w;return S(k,E),y=!0,l!==void 0&&(l=E),w}return Wt&&y||(P.f&Ht)!==0?k.v:s(k)})}function we(e){le===null&&eo(),mn&&le.l!==null?ll(le).m.push(e):ke(()=>{const t=qt(e);if(typeof t=="function")return t})}function ll(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const cl="5";var Xa;typeof window<"u"&&((Xa=window.__svelte??(window.__svelte={})).v??(Xa.v=new Set)).add(cl);_i();const Uo={},ul=()=>({working:!1,swipingRatio:1,isSwiping:!1,duration:.35});function dl(e){Un(Uo,e)}function Hn(){const e=Fn(Uo);if(!e)throw new Error("No AnimationSettingsContext found");return e}function fl(e,t){Z(t,!0);let n=De(ul());dl(n);var r=z(),a=A(r);Ee(a,()=>t.children??Ue),m(e,r),J()}const zo={};function vl(e){Un(zo,e)}function qo(){const e=Fn(zo);if(!e)throw new Error("No ScrollingContext found");return e}const hl=(e,t)=>{let n=null;return()=>{n&&clearTimeout(n),n=setTimeout(()=>{n=null,e()},t)}};async function fa(){if(navigator.storage&&navigator.storage.persist)try{await navigator.storage.persisted()||await navigator.storage.persist()}catch{}}function gl(e,t){Z(t,!0);let n=T(!1);const r=()=>s(n),a=hl(()=>{S(n,!1)},100);vl({isScrolling:r,enable:()=>{S(n,!0),a()}});var i=z(),l=A(i);Ee(l,()=>t.children??Ue),m(e,i),J()}const Vo={};function _l(e){Un(Vo,e)}function yn(){const e=Fn(Vo);if(!e)throw new Error("No MobileSizeContext found");return e}const pl=(e,t,n={})=>{let r=null;return()=>{r||(e(),r=setTimeout(()=>{if(r=null,n.trailing){e();return}},t))}};function ml(e,t){Z(t,!0);const n=()=>window.matchMedia("(max-width: 767px)").matches;let r=T(De(n()));const a=pl(()=>{S(r,n(),!0)},16,{trailing:!0});_l({checkMobileSize:()=>s(r)}),we(()=>(window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)));var i=z(),l=A(i);Ee(l,()=>t.children??Ue),m(e,i),J()}const Ho={};function wl(e){Un(Ho,e)}function Kn(){const e=Fn(Ho);if(!e)throw new Error("No DialogContext found");return e}function yl(e,t){Z(t,!0);let n=T(0),r=T(!1),a=T(!1);ke(()=>{}),wl({checkExistedDialog:()=>s(n)>0,showDialog:()=>{S(n,s(n)+1)},hideDialog:()=>{S(n,s(n)-1)},blockDialog:d=>{S(r,d,!0),d||S(a,!1)},checkBlockedDialog:()=>s(r),unBlockBackDialog:d=>{S(a,d,!0)},checkUnBlockedBackDialog:()=>s(a)});var h=z(),g=A(h);Ee(g,()=>t.children??Ue),m(e,h),J()}const Ko={};function Sl(e){Un(Ko,e)}function va(){const e=Fn(Ko);if(!e)throw new Error("No ScrollContainerContext found");return e}function bl(e,t){Z(t,!0);let n=T(null);Sl({setScrollContainer:l=>{S(n,l,!0)},getScrollContainer:()=>s(n)});var o=z(),i=A(o);Ee(i,()=>t.children??Ue),m(e,o),J()}function kl(e,t){fl(e,{children:(n,r)=>{gl(n,{children:(a,o)=>{ml(a,{children:(i,l)=>{yl(i,{children:(c,u)=>{bl(c,{children:(f,v)=>{var h=z(),g=A(h);Ee(g,()=>t.children??Ue),m(f,h)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})}let pt=T(""),Nt=T(null),En=T(null),Cn=T(null);function kr(e,t){S(pt,""),setTimeout(()=>{S(pt,e,!0),t?.onFinish&&S(En,t.onFinish,!0),t?.onCancel&&S(Cn,t.onCancel,!0)},16)}const El=(e,t,n,r,a)=>{e.preventDefault(),s(t)&&(S(n,null),s(t)(),S(t,null)),S(r,""),s(a)?.style.removeProperty("opacity")};var Cl=j('<button type="button" class="undoButton svelte-7afsz8">undo</button>'),Pl=j('<div class="notification svelte-7afsz8"><span> </span> <!></div>'),Dl=j("<div><!></div>");function xl(e,t){Z(t,!0),ke(()=>{s(pt);const o=s(Cn)?2e3:800;s(pt)&&(s(Nt)?.getBoundingClientRect(),s(Nt)?.style.setProperty("opacity","1"));const i=setTimeout(()=>{s(Nt)?.style.removeProperty("opacity")},o),l=setTimeout(()=>{S(pt,""),s(En)&&s(En)(),S(En,null),S(Cn,null),s(Nt)?.style.removeProperty("opacity")},o+400);return()=>{clearTimeout(i),clearTimeout(l)}});var n=Dl(),r=C(n);{var a=o=>{var i=Pl(),l=C(i),c=C(l),u=N(l,2);{var f=v=>{var h=Cl();h.__click=[El,Cn,En,pt,Nt],m(v,h)};O(u,v=>{s(Cn)&&v(f)})}tt(i,v=>S(Nt,v),()=>s(Nt)),ue(()=>Nn(c,s(pt))),m(o,i)};O(r,o=>{s(pt)&&o(a)})}m(e,n),J()}He(["click"]);var Al=j('<span class="vh svelte-14jjkpd"><!></span>');function $e(e,t){var n=Al(),r=C(n);Ee(r,()=>t.children),m(e,n)}var Nl=Gi('<svg class="svelte-gv09tg"><use></use></svg>');function be(e,t){let n=re(t,"name",8,"");var r=Nl(),a=C(r);ue(()=>Pe(a,"href",`#icon-${n()??""}`)),m(e,r)}const Wo=(e,t)=>{if(!t)return e;if(t.type==="closed")return{type:"closed"};switch(e.type){case"opened":return t.type==="close"?{type:"closing"}:t.type==="swipe"?{type:"openSwiping"}:e;case"closed":return t.type==="open"?{type:"opening"}:t.type==="swipe"?{type:"closeSwiping"}:e;case"openSwiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"closeSwiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"opening":return t.type==="opened"?{type:"opened"}:e;default:return e}};let Wr=T(De(Wo({type:"closed"})));const Yo=e=>{S(Wr,Wo(s(Wr),e),!0)},Tl=()=>s(Wr),Ll=()=>{Yo({type:"open"})},Ml=()=>{Yo({type:"close"})},Ol=()=>{const e=Tl().type;e==="closed"?Ll():e==="opened"&&Ml()};var Il=j('<button class="buttonMenu svelte-hxzs42"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>');function Go(e,t){Z(t,!1),Vn();var n=Il();n.__click=[Ol];var r=C(n);me(r,()=>({"--size":"36px"})),be(r.lastChild,{name:"sidebarMenu"});var a=N(r,2);$e(a,{children:(o,i)=>{var l=Oe("Menu");m(o,l)}}),m(e,n),J()}He(["click"]);var Rl=(e,t)=>t.onChange?.(e.target?.value||""),Bl=j('<input class="svelte-krv4jy"/>');function Yr(e,t){Z(t,!0);let n=re(t,"value",15,"");var r=Bl();r.__input=[Rl,t],ue(()=>Pe(r,"placeholder",t.placeholder)),ua("focus",r,function(...a){t.onFocus?.apply(this,a)}),sl(r,n),m(e,r),J()}He(["input"]);const x=De({historyStack:[],pathname:window.location.pathname,search:window.location.search,historyLength:0});let Xo=T(De(new URLSearchParams(x.search).get("feedOrder")||"newest"));const Zo=()=>s(Xo),jl=e=>{S(Xo,e,!0);const t=new URLSearchParams(x.search);e==="newest"?t.delete("feedOrder"):t.set("feedOrder",e),gt(`${x.pathname}${t.size>0?`?${t.toString()}`:""}`)};let Jo=T(De(new URLSearchParams(x.search).get("search")||""));const Qo=()=>s(Jo),Fl=e=>{S(Jo,e,!0);const t=new URLSearchParams(x.search);e===""?t.delete("search"):t.set("search",e),gt(`${x.pathname}${t.size>0?`?${t.toString()}`:""}`)},ed=(e,t)=>{const n=new URLSearchParams(x.search);n.append(e,t),ha(`${x.pathname}${n.size>0?`?${n.toString()}`:""}`)},td=e=>{const t=new URLSearchParams(x.search);t.delete(e),x.historyStack=x.historyStack.map(n=>{const r=new URLSearchParams(n.split("?")[1]);return r.delete(e),`${n.split("?")[0]}${t.size>0?`?${r.toString()}`:""}`}),ha(`${x.pathname}${t.size>0?`?${t.toString()}`:""}`)},$o=()=>new URLSearchParams(x.search).get("selectedTags")?.split(",")||[];let ar=$o();const Ul=()=>{const e=$o();return e.join(",")===ar.join(",")||(ar=e),ar},zl=()=>{x.pathname=document.location.pathname,x.search=document.location.search,x.historyLength=Math.max(0,x.historyLength-=1)};window.addEventListener("popstate",zl);const gt=e=>{const[t,n]=e.split("?");x.pathname=t,x.search=n?`?${n}`:"",x.historyLength+=1,x.historyStack.push(window.location.href),window.history.replaceState(null,"",e)},ha=e=>{const[t,n]=e.split("?");x.pathname=t,x.search=n?`?${n}`:"",window.history.replaceState(null,"",e)},ql=e=>{const{fallback:t="/",to:n}=e||{},[r,a]=t.split("?");if(x.historyLength<=0){const o=window.location.href,[i,l]=o.split("?");if(!l.includes("stackPages"))window.history.replaceState(null,"",t),x.historyLength=0,x.pathname=r,x.search=a?`?${a}`:"";else{const c=new URLSearchParams(l),u=c.get("stackPages")?.split(",")||[],f=u.slice(0,n&&u.includes(n)?u.indexOf(n)+1:-1);f.length===0?c.delete("stackPages"):c.set("stackPages",f.join(","));const v=`${i}${c.toString()?`?${c.toString()}`:""}`;window.history.replaceState(null,"",v),x.search=c.toString()?`?${c.toString()}`:""}}else if(x.historyStack.length>0){const i=new URLSearchParams(x.search).get("stackPages")?.split(",")||[];n&&i.includes(n)&&(x.historyStack=x.historyStack.slice(0,-(i.length-(i.indexOf(n)+1))+1),x.historyLength=x.historyStack.length);const l=x.historyStack.pop();if(l){const[c,u]=l.split("?");window.history.replaceState(null,"",l),x.historyLength=Math.max(0,x.historyLength-=1),x.pathname=c,x.search=u?`?${u}`:""}}},es=()=>{const e=x.historyStack.findIndex(n=>n.includes("stackPages")),t=e===-1?x.historyStack.slice(0):x.historyStack.slice(0,e);if(t.length>0){const n=t.pop();if(n){const[r,a]=n.split("?");window.history.replaceState(null,"",n),x.historyLength=Math.max(0,t.length),x.pathname=r,x.search=a?`?${a}`:"",x.historyStack=t}}else{const n=x.search,r=new URLSearchParams(n);r.delete("stackPages"),window.history.replaceState(null,"",r.toString()?"/?"+r.toString():"/"),x.historyLength=0,x.pathname="/",x.search=r.toString()?"?"+r.toString():"",x.historyStack=[]}},vt=De({value:""}),Vl=De({value:Qo()});function ts(e,t){Z(t,!0),we(()=>{const n=r=>{r.target&&t.dialog?.open&&t.dialogInner&&t.dialogInner!==r.target&&!t.dialogInner.contains(r.target)&&t.onClose()};return document.addEventListener("mousedown",n,{capture:!0}),()=>{document.removeEventListener("mousedown",n,{capture:!0})}}),J()}var Hl=j('<dialog><div class="dialogInner svelte-1wekt4o"><!></div></dialog> <!>',1);function ns(e,t){Z(t,!0);let n=T(null),r=T(null),a=T(!1),{showDialog:o,hideDialog:i}=Kn();const l=()=>{const d=setTimeout(()=>{t.onClosed()},150);s(n)?.addEventListener("transitionend",()=>{clearTimeout(d),t.onClosed()},{once:!0}),S(a,!1)};ke(()=>{t.startClose&&l()}),we(()=>{s(n)?.showModal(),s(n)?.getClientRects(),S(a,!0)}),we(()=>(o(),()=>{i()}));var c=Hl(),u=A(c),f=C(u),v=C(f);Ee(v,()=>t.children),tt(f,d=>S(r,d),()=>s(r)),tt(u,d=>S(n,d),()=>s(n));var h=N(u,2);{var g=d=>{ts(d,{get dialog(){return s(n)},get dialogInner(){return s(r)},onClose:l})};O(h,d=>{s(n)&&s(r)&&d(g)})}ue(()=>se(u,1,oe(["dialog",{shown:s(a)}]),"svelte-1wekt4o")),m(e,c),J()}var Kl=j("<div><!></div>");function rs(e,t){Z(t,!0);let n=T(!1),r=T(null);const a=()=>{const u=setTimeout(()=>{t.onClosed()},150);s(r)?.addEventListener("transitionend",()=>{clearTimeout(u),t.onClosed()},{once:!0}),S(n,!1)},o=u=>{u.target!==s(r)&&!s(r)?.contains(u.target)&&a()},i=u=>{u.target!==s(r)&&!s(r)?.contains(u.target)&&a()};we(()=>{s(r)?.getClientRects(),S(n,!0);const u=setTimeout(()=>{document.addEventListener("focusin",o),document.addEventListener("click",i)},0);return()=>{clearTimeout(u),document.removeEventListener("focusin",o),document.removeEventListener("click",i)}}),ke(()=>{t.startClose&&a()});var l=Kl(),c=C(l);Ee(c,()=>t.children),tt(l,u=>S(r,u),()=>s(r)),ue(()=>se(l,1,oe(["menu",{top:t.positionTop,shown:s(n)}]),"svelte-vbw57a")),m(e,l),J()}const Wl=(e,t)=>{s(t)||S(t,!0)};var Yl=(e,t)=>t("newest"),Gl=(e,t)=>t("oldest"),Xl=(e,t)=>t("AtoZ"),Zl=(e,t)=>t("ZtoA"),Jl=j("<div><button>Newest</button> <button>Oldest</button> <button>A to Z</button> <button>Z to A</button></div>"),Ql=j('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),$l=j('<div class="orderMenu svelte-110m8z1"><button><!> <!></button> <!></div>');function ec(e,t){Z(t,!0);const n=(y,k=Ue)=>{var P=Jl(),w=C(P);w.__click=[Yl,c];var b=N(w,2);b.__click=[Gl,c];var E=N(b,2);E.__click=[Xl,c];var p=N(E,2);p.__click=[Zl,c],ue(()=>{se(P,1,oe(["menu",{menuDialog:k()}]),"svelte-110m8z1"),se(w,1,oe(["menuButton",{menuButtonDialog:k(),current:s(l)==="newest"}]),"svelte-110m8z1"),se(b,1,oe(["menuButton",{menuButtonDialog:k(),current:s(l)==="oldest"}]),"svelte-110m8z1"),se(E,1,oe(["menuButton",{menuButtonDialog:k(),current:s(l)==="AtoZ"}]),"svelte-110m8z1"),se(p,1,oe(["menuButton",{menuButtonDialog:k(),current:s(l)==="ZtoA"}]),"svelte-110m8z1")}),m(y,P)};let r=T(!1),a=T(!1);const{checkMobileSize:o}=yn();let i=I(o),l=I(Zo);const c=y=>{S(a,!0),jl(y)},u=()=>{S(r,!1),S(a,!1)};var f=$l(),v=C(f);v.__click=[Wl,r],se(v,1,oe(["button","buttonMenu"]),"svelte-110m8z1");var h=C(v);be(h,{name:"filter"});var g=N(h,2);$e(g,{children:(y,k)=>{var P=Oe("show feed order menu");m(y,P)}});var d=N(v,2);{var _=y=>{var k=z(),P=A(k);{var w=E=>{ns(E,{get startClose(){return s(a)},onClosed:u,children:(p,D)=>{n(p,()=>!0)},$$slots:{default:!0}})},b=E=>{var p=Ql(),D=A(p);me(D,()=>({"--right":"20px","--top":"60px"})),rs(D.lastChild,{get startClose(){return s(a)},onClosed:u,children:(R,B)=>{n(R,()=>!1)},$$slots:{default:!0}}),m(E,p)};O(P,E=>{s(i)?E(w):E(b,!1)})}m(y,k)};O(d,y=>{s(r)&&y(_)})}m(e,f),J()}He(["click"]);const xt=()=>new URLSearchParams(x.search).get("stackPages")?.split(",")||[];let Et=T(De(xt()));const Er=e=>{const t=xt();if(!t.includes(e)){t.push(e);const n=new URLSearchParams(x.search);n.set("stackPages",t.join(",")),S(Et,t,!0),gt(`${x.pathname}?${n.toString()}`)}},tc=e=>xt().includes(e),nd=()=>{S(Et,xt(),!0)},as=()=>{const e=s(Et).slice(0,-1);S(Et,e,!0)},nc=()=>{const e=xt();return e.length>=s(Et).length?e.reduce((t,n)=>[...t,{page:n,shown:!0}],[]):s(Et).reduce((t,n,r)=>[...t,{page:n,shown:e.length===0?!1:r!==s(Et).length-1}],[])},Gr=()=>{S(Et,[],!0)},jt=e=>{const t=xt();t.includes(e)||t.push(e);const n=new URLSearchParams(x.search);return n.set("stackPages",t.join(",")),`${x.pathname}?${n}`},Ft=e=>t=>{t.preventDefault(),Er(e)};var M=(e=>(e.NewNote="newNote",e.EditNote="editNote",e.Settings="settings",e.ImportData="importData",e.ExportData="exportData",e.ClearStore="clearStore",e.Account="account",e.Sync="sync",e.Start="start",e.Auth="auth",e.Signin="signin",e.Signup="signup",e.AccessKeys="accessKeys",e.ConfirmAccessKey="confirmAccessKey",e.Subscription="subscription",e.Exit="exit",e.NotFound="notFound",e.About="about",e))(M||{}),rc=j('<div class="header svelte-1o3mutr"><div class="top svelte-1o3mutr"><div class="menu svelte-1o3mutr"><a class="link svelte-1o3mutr"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Settings</span></a> <a class="link svelte-1o3mutr"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Sync</span></a></div> <div class="mobile svelte-1o3mutr"><!></div> <a class="buttonAdd svelte-1o3mutr"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Note</span></a></div> <div class="bottom svelte-1o3mutr"><div><div class="sidebarSearchWrapper"><!></div></div> <div class="right svelte-1o3mutr"><div class="filter svelte-1o3mutr"><div class="feedSearchWrapper svelte-1o3mutr"><!></div> <!></div></div></div></div>');function ac(e,t){Z(t,!0);const{getScrollContainer:n}=va();let r=I(n);const a=()=>{s(r)&&s(r).scrollTo({top:0,behavior:"smooth"})},o=U=>{Fl(U)};var i=rc(),l=C(i),c=C(l),u=C(c),f=I(()=>Ft(M.Settings));u.__click=function(...U){s(f)?.apply(this,U)};var v=C(u);me(v,()=>({"--rotate":"30deg","--size":"20px"})),be(v.lastChild,{name:"settings"});var h=N(u,2),g=I(()=>Ft(M.Sync));h.__click=function(...U){s(g)?.apply(this,U)};var d=C(h);me(d,()=>({"--size":"20px"})),be(d.lastChild,{name:"sync"});var _=N(c,2),y=C(_);Go(y,{});var k=N(_,2),P=I(()=>Ft(M.NewNote));k.__click=function(...U){s(P)?.apply(this,U)};var w=C(k);me(w,()=>({"--size":"16px","--color":"#b0b0b0"})),be(w.lastChild,{name:"plus"});var b=N(l,2),E=C(b);se(E,1,oe(["left"]),"svelte-1o3mutr");var p=C(E),D=C(p);Yr(D,{placeholder:"Search tag",get value(){return vt.value},set value(U){vt.value=U}});var R=N(E,2),B=C(R),Y=C(B),G=C(Y);Yr(G,{onFocus:a,onChange:o,placeholder:"Search",get value(){return Vl.value}});var H=N(Y,2);ec(H,{}),ue((U,te,F)=>{Pe(u,"href",U),Pe(h,"href",te),Pe(k,"href",F)},[()=>jt(M.Settings),()=>jt(M.Sync),()=>jt(M.NewNote)]),m(e,i),J()}He(["click"]);let Xr=!1;const Br=()=>{document.activeElement instanceof HTMLInputElement&&document.activeElement.type==="text"||document.activeElement instanceof HTMLTextAreaElement?Xr=!0:Xr=!1},oc=()=>Xr;function sc(e,t){Z(t,!0);let n=re(t,"dialog",7);const r=Hn();let a=null;const o=()=>{t.dialogState==="swiping"&&t.onClose()};ke(()=>(t.dialogState==="swiping"&&(a=setTimeout(o,3e3)),()=>{a&&(clearTimeout(a),a=null)}));let i=null,l=null;const c=3,u=50,f=5,v=.6,h=.3,g=.35,d=.95;let _=0,y=0,k=0,P=!1,w=!1,b=0,E=0,p=0;const D=()=>{_=0,y=0,P=!1,w=!1,b=0,E=0,p=0,k=0,i=null,l!==null&&(cancelAnimationFrame(l),l=null),a&&(clearTimeout(a),a=null)},R=V=>{n()&&t.dialogState==="opened"&&(_=V.touches[0].clientX,y=V.touches[0].clientY,k=performance.now(),P=!0,w=!1)},B=V=>t.dialogState==="opened"&&V>0||t.dialogState==="swiping"&&V>0,Y=()=>{if(n()){n().style.setProperty("--transition-timing","0s"),t.onSwipe(),navigator.vibrate&&navigator.vibrate(10);try{const V=window.getComputedStyle(n()),W=V.transform||V.webkitTransform||"";if(E=n().offsetWidth,(t.dialogState==="swiping"||t.dialogState==="opened")&&(b=0),W&&W!=="none")try{b=new DOMMatrix(W).m41}catch{}w=!0}catch{D()}}},G=()=>{if(!n())return;const W=Math.abs(b+p*E/100)/E;n().style.setProperty("--backdrop-bg",`rgba(0, 0, 0, ${.1*(1-W)})`)},H=()=>{if(l=null,!i||!P||!n()||oc()){D();return}const V=i.touches[0].clientX,W=i.touches[0].clientY,$=V-_,q=W-y,fe=Math.abs($)>Math.abs(q),Te=Math.abs($)>c;if(!w)if(fe&&Te&&B($))try{Y()}catch{D();return}else return;if(!B($))return;n().style.setProperty("--transition-timing","0s");let de=b+$*d;de=Math.max(0,Math.min(E,de)),n().style.transform=`translate3d(${de}px, 0, 0)`,r.swipingRatio=Math.abs(1-de/E),p=(de-b)/E*100,t.dialogState==="swiping"&&(a&&clearTimeout(a),a=setTimeout(o,3e3)),G()},U=V=>{if(!P)return;i=V,l===null&&(l=requestAnimationFrame(H));const W=V.touches[0].clientX-_,$=V.touches[0].clientY-y,q=Math.abs(W)>Math.abs($);w&&q&&V.preventDefault()},te=V=>{const W=Math.abs(V);if(W>=v)return f;if(W>=h){const $=(W-h)/(v-h);return u-$*(u-f)}else return u},F=(V,W)=>{if(Math.abs(V)>=v)return g*.5;const q=Math.abs(p)/100;return W?g*Math.max(.5,1-q):g*Math.max(.5,q)},Q=V=>{if(l!==null&&(cancelAnimationFrame(l),l=null),!P||!n()){D();return}if(!w){D();return}let W=0;if(V?.changedTouches?.[0]){const de=V.changedTouches[0].clientX,Ce=performance.now()-k;Ce>0&&(W=(de-_)/Ce)}const $=te(W);let q=null;t.dialogState==="swiping"&&(q=Math.abs(p)>$||W<-h?"close":"open");const fe=t.dialogState==="swiping"&&q==="close",Te=F(W,fe);r.duration=Te-.02,n().style.setProperty("--transition-timing",`${Te}s`),n().offsetWidth,n().style.transform="",q==="open"?t.onOpen():q==="close"&&t.onClose(),n()?.style.removeProperty("--backdrop-bg"),D()};we(()=>(n().addEventListener("touchstart",R,{passive:!0}),n().addEventListener("touchmove",U,{passive:!1}),n().addEventListener("touchend",Q,{passive:!0}),n().addEventListener("touchcancel",Q,{passive:!0}),()=>{n().removeEventListener("touchstart",R),n().removeEventListener("touchmove",U),n().removeEventListener("touchend",Q),n().removeEventListener("touchcancel",Q),l!==null&&cancelAnimationFrame(l)})),J()}var ic=(e,t)=>{t.onStartClose()},lc=j('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),cc=j('<dialog><div class="dialogInner svelte-14atrge"><div class="header svelte-14atrge"><div><!></div></div> <!></div></dialog> <!>',1);function uc(e,t){Z(t,!0);let n=350;const{isScrolling:r,enable:a}=qo();let o=T(null),i=T(null);const l=Hn(),c=p=>{p.preventDefault(),t.onStartClose()};we(()=>(s(o)?.addEventListener("close",t.onClosed),s(o)?.addEventListener("cancel",c),()=>{s(o)?.removeEventListener("close",t.onClosed),s(o)?.removeEventListener("cancel",c)}));const u=()=>{s(o)?.style.removeProperty("--transition-timing"),s(o)?.style.removeProperty("transform"),s(o)?.style.removeProperty("--backdrop-bg")},f=()=>{a()},v=I(r);ke(()=>{if(t.dialogState,!!s(o))switch(t.dialogState){case"opening":{s(o).open||s(o).showModal(),s(o).getBoundingClientRect();const p=setTimeout(()=>{u()},n+1),D=()=>{clearTimeout(p),u()};return s(o)?.addEventListener("transitionend",D,{once:!0}),t.onOpened(),()=>{s(o)?.removeEventListener("transitionend",D)}}case"closing":{const p=setTimeout(()=>{t.dialogState==="closing"&&t.onClosed()},n+1),D=()=>{clearTimeout(p),t.onClosed()};return s(o)?.addEventListener("transitionend",D,{once:!0}),()=>{s(o)?.removeEventListener("transitionend",D)}}case"opened":u()}});var h=cc(),g=A(h),d=C(g),_=C(d),y=C(_),k=C(y);{var P=p=>{var D=lc();se(D,1,oe(["navigateButton","buttonBack"]),"svelte-14atrge"),D.__click=[ic,t];var R=C(D);me(R,()=>({"--size":"36px"})),be(R.lastChild,{name:"back"});var B=N(R,2);$e(B,{children:(Y,G)=>{var H=Oe("back");m(Y,H)}}),m(p,D)};O(k,p=>{(!(t.blocked||t.hidden)||t.blocked&&t.unBlockedBack)&&p(P)})}var w=N(_,2);Ee(w,()=>t.children),tt(d,p=>S(i,p),()=>s(i)),tt(g,p=>S(o,p),()=>s(o));var b=N(g,2);{var E=p=>{sc(p,{get onClose(){return t.onStartClose},get onOpen(){return t.onStartOpen},get onSwipe(){return t.onSwipe},get dialogState(){return t.dialogState},get dialog(){return s(o)}})};O(b,p=>{(!s(v)&&t.dialogState==="opened"||t.dialogState==="swiping")&&(!t.blocked||t.unBlockedBack)&&p(E)})}ue(()=>se(g,1,oe([{open:t.dialogState==="opened",hidden:t.hidden,isAnimationOn:l.working&&(!l.isSwiping||!t.hidden)},{hidden:t.hidden}]),"svelte-14atrge")),ua("scroll",d,f),m(e,h),J()}He(["click"]);const Va=(e,t)=>{if(!t)return e;if(t.type==="closed")return{type:"closed"};switch(e.type){case"opened":return t.type==="close"?{type:"closing"}:t.type==="swipe"?{type:"swiping"}:e;case"closed":return t.type==="open"?{type:"opening"}:e;case"swiping":return t.type==="open"?{type:"opening"}:t.type==="close"?{type:"closing"}:e;case"opening":return t.type==="opened"?{type:"opened"}:e;default:return e}};function dc(e,t){Z(t,!0);let n=re(t,"blocked",3,!1),r=re(t,"hiddenDialog",3,!1),a=re(t,"unBlockedBack",3,!1),o=re(t,"onStartClose",3,()=>{}),i=re(t,"onClose",3,()=>{});const l=Hn();let c=T(De(Va({type:"closed"})));const u=w=>{S(c,Va(s(c),w),!0)},f=()=>{n()&&!a()||(o()(),u({type:"close"}))},v=()=>{u({type:"open"})},h=()=>{u({type:"opened"}),l.duration=.2},g=()=>{i()(),u({type:"closed"}),l.swipingRatio=1,l.duration=.2},d=()=>{u({type:"swipe"})};ke(()=>{s(c).type==="swiping"?l.isSwiping=!0:l.isSwiping=!1,s(c).type==="closed"&&t.shownDialog?v():s(c).type==="opened"&&!t.shownDialog&&f()});var _={handleComputeState:u},y=z(),k=A(y);{var P=w=>{uc(w,{onSwipe:d,onOpened:h,onClosed:g,onStartClose:f,onStartOpen:v,get dialogState(){return s(c).type},get hidden(){return r()},get blocked(){return n()},get unBlockedBack(){return a()},children:(b,E)=>{var p=z(),D=A(p);Ee(D,()=>t.children),m(b,p)},$$slots:{default:!0}})};O(k,w=>{s(c).type!=="closed"&&w(P)})}return m(e,y),J(_)}const fc=({getDialog:e,onOpen:t,onStartClose:n,onClose:r})=>{const a=i=>{i.preventDefault(),n()},o=()=>{r?.()};we(()=>{const i=e();return i?.addEventListener("cancel",a),i?.addEventListener("close",o),()=>{i?.removeEventListener("cancel",a),i?.removeEventListener("close",o)}}),we(()=>{const i=e();i?.showModal(),i?.getBoundingClientRect(),t()})};let os=T(200);const vc=e=>{S(os,e,!0)},ss=()=>s(os);var hc=(e,t)=>{t.onStartBack()},gc=j('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),_c=(e,t)=>{t.onStartClose()},pc=j('<button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),mc=j('<dialog><div class="dialogInner svelte-rm8syc"><div class="header svelte-rm8syc"><div><!></div> <div><!></div></div> <!></div></dialog> <!>',1);function wc(e,t){Z(t,!0);let n=re(t,"blockedDialog",3,!1),r=re(t,"hiddenDialog",3,!1),a=re(t,"isDesktopAnimationOff",3,!1),o=T(null),i=T(null);fc({getDialog:()=>s(o),onOpen:t.onOpen,onStartClose:t.onStartClose,onClose:t.onClose});const l=Hn();ke(()=>{t.stateDialog==="closing"&&(l.working?s(o)?.addEventListener("transitionend",()=>{s(o)?.close()},{once:!0}):s(o)?.close())});const c=I(ss);var u=mc(),f=A(u),v=C(f),h=C(v),g=C(h),d=C(g);{var _=E=>{var p=gc();se(p,1,oe(["navigateButton","buttonBack"]),"svelte-rm8syc"),p.__click=[hc,t];var D=C(p);me(D,()=>({"--size":"28px"})),be(D.lastChild,{name:"back"});var R=N(D,2);$e(R,{children:(B,Y)=>{var G=Oe("back");m(B,G)}}),m(E,p)};O(d,E=>{(!(n()||r())||n()&&t.unBlockedBack)&&t.onStartBack&&E(_)})}var y=N(g,2),k=C(y);{var P=E=>{var p=pc();se(p,1,oe(["navigateButton","buttonClose"]),"svelte-rm8syc"),p.__click=[_c,t];var D=C(p);me(D,()=>({"--size":"28px"})),be(D.lastChild,{name:"close"});var R=N(D,2);$e(R,{children:(B,Y)=>{var G=Oe("close");m(B,G)}}),m(E,p)};O(k,E=>{n()||r()||E(P)})}var w=N(h,2);Ee(w,()=>t.children),tt(v,E=>S(i,E),()=>s(i)),tt(f,E=>S(o,E),()=>s(o));var b=N(f,2);ts(b,{get dialog(){return s(o)},get dialogInner(){return s(i)},get onClose(){return t.onStartClose}}),ue(()=>{Tn(f,`height: ${s(c)+74}px`),se(f,1,oe([{open:t.stateDialog==="open",isAnimationOn:l.working,isDesktopAnimationOff:a(),hiddenDialog:r()}]),"svelte-rm8syc")}),m(e,u),J()}He(["click"]);const yc=({onStartClose:e,onClose:t})=>{let n=T("close");return{get state(){return s(n)},set state(i){S(n,i,!0)},handleStartClose:(i=!1)=>{i||(S(n,"closing"),e?.())},handleOpen:()=>{S(n,"open")},handleClose:()=>{S(n,"close"),t?.()}}};function Sc(e,t){Z(t,!0);let n=re(t,"blockedDialog",3,!1),r=re(t,"hiddenDialog",3,!1),a=re(t,"onStartClose",3,()=>{}),o=re(t,"onClose",3,()=>{}),i=yc({onStartClose:a(),onClose:o()});ke(()=>{i.state==="close"&&t.shownDialog?i.state="opening":i.state==="open"&&!t.shownDialog&&i.handleStartClose(n())});const l=v=>{v.key==="Escape"&&(document.activeElement instanceof HTMLInputElement&&document.activeElement.type==="text"||document.activeElement instanceof HTMLTextAreaElement||n())&&(v.preventDefault(),v.stopPropagation())};we(()=>(document.addEventListener("keydown",l),()=>{document.removeEventListener("keydown",l)}));var c=z(),u=A(c);{var f=v=>{wc(v,{get stateDialog(){return i.state},get blockedDialog(){return n()},get unBlockedBack(){return t.unBlockedBack},get hiddenDialog(){return r()},get onOpen(){return i.handleOpen},get onStartBack(){return t.onStartBack},onStartClose:()=>{i.handleStartClose(n())},get onClose(){return i.handleClose},children:(h,g)=>{var d=z(),_=A(d);Ee(_,()=>t.children),m(h,d)},$$slots:{default:!0}})};O(u,v=>{i.state!=="close"&&v(f)})}m(e,c),J()}function bc(e,t){Z(t,!0);let n=re(t,"blockedDialog",3,!1),r=re(t,"hiddenDialog",3,!1),a=re(t,"isLastDialog",3,!1),o=re(t,"onStartClose",3,()=>{}),i=re(t,"onClose",3,()=>{});const l=I(()=>a()?void 0:t.onStartBack),{showDialog:c,hideDialog:u}=Kn();we(()=>(c(),()=>{u()}));const{checkMobileSize:f}=yn();var v=z(),h=A(v);{var g=_=>{dc(_,{get shownDialog(){return t.shownDialog},get blocked(){return n()},get unBlockedBack(){return t.unBlockedBack},get hiddenDialog(){return r()},get children(){return t.children},get onStartClose(){return t.onStartBack},get onClose(){return i()}})},d=_=>{Sc(_,{get shownDialog(){return t.shownDialog},get blockedDialog(){return n()},get unBlockedBack(){return t.unBlockedBack},get hiddenDialog(){return r()},get children(){return t.children},get onStartBack(){return s(l)},get onStartClose(){return o()},get onClose(){return i()}})};O(h,_=>{f()?_(g):_(d,!1)})}m(e,v),J()}function Ha(e,t){Z(t,!0);let n=re(t,"blocked",3,!1),r=re(t,"isLastDialog",3,!1),a=re(t,"onBack",3,()=>{});const{checkBlockedDialog:o,checkUnBlockedBackDialog:i}=Kn(),l=I(()=>n()||t.hidden||o()),c=I(()=>i()&&!r());bc(e,{get shownDialog(){return t.shown},get blockedDialog(){return s(l)},get unBlockedBack(){return s(c)},get hiddenDialog(){return t.hidden},get isLastDialog(){return r()},onStartBack:()=>{(!s(l)||s(l)&&s(c))&&t.shown&&(ql(),a()())},onStartClose:()=>{(!s(l)||s(l)&&s(c))&&t.shown&&es()},onClose:()=>{as()},children:(h,g)=>{var d=z(),_=A(d);Ee(_,()=>t.children),m(h,d)},$$slots:{default:!0}}),J()}const kc="modulepreload",Ec=function(e){return"/"+e},Ka={},Se=function(t,n,r){let a=Promise.resolve();if(n&&n.length>0){let c=function(u){return Promise.all(u.map(f=>Promise.resolve(f).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=i?.nonce||i?.getAttribute("nonce");a=c(n.map(u=>{if(u=Ec(u),u in Ka)return;Ka[u]=!0;const f=u.endsWith(".css"),v=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${v}`))return;const h=document.createElement("link");if(h.rel=f?"stylesheet":kc,f||(h.as="script"),h.crossOrigin="",h.href=u,l&&h.setAttribute("nonce",l),document.head.appendChild(h),f)return new Promise((g,d)=>{h.addEventListener("load",g),h.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${u}`)))})}))}function o(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return a.then(i=>{for(const l of i||[])l.status==="rejected"&&o(l.reason);return t().catch(o)})};let Zr=T(De({showFavicon:!0}));const Cc=()=>s(Zr).showFavicon,ga=e=>{e&&S(Zr,{...s(Zr),...e},!0)};let L=T({initedDB:!1});const Pc=()=>{S(L,{initedDB:!0})},st=async e=>{S(L,{...s(L),account:e})},Wn=async e=>{const t=[],n=new Map;e.forEach(r=>{t.push(r),n.set(r.id,r)}),S(L,{...s(L),notes:t,mapNotes:n,getNotes:()=>t,getMapNotes:()=>n})},_a=async e=>{const t=new Map;e.forEach(n=>{t.set(n.id,n)}),S(L,{...s(L),mapDrafts:t,getMapDrafts:()=>t})},Cr=()=>s(L).notes&&s(L).mapNotes,Dc=()=>s(L).account,xc=()=>s(L).getNotes||(()=>s(L).notes||[]),pa=()=>s(L).getMapNotes||(()=>s(L).mapNotes||new Map),is=e=>{if(!s(L).notes||!s(L).mapNotes)throw new Error("Notes appState is not initialized");const t={...e};s(L).notes.push(t),s(L).mapNotes.set(t.id,t),S(L,{...s(L),getNotes:()=>s(L).notes,getMapNotes:()=>s(L).mapNotes})},Pr=async e=>{if(!s(L).notes||!s(L).mapNotes)throw new Error("Notes appState is not initialized");s(L).notes.forEach((t,n)=>{t?.id===e.id&&s(L).notes&&(s(L).notes[n]=e)}),s(L).mapNotes.set(e.id,e),S(L,{...s(L),getNotes:()=>s(L).notes,getMapNotes:()=>s(L).mapNotes})},ls=async e=>{if(!s(L).notes||!s(L).mapNotes)throw new Error("Notes appState is not initialized");s(L).mapNotes.delete(e);const t=s(L).notes.findIndex(n=>n?.id===e);t!==-1&&(s(L).notes[t]=void 0),S(L,{...s(L),getNotes:()=>s(L).notes,getMapNotes:()=>s(L).mapNotes})},cs=async()=>{const e=[],t=new Map,n=new Map;S(L,{...s(L),notes:e,mapNotes:t,getNotes:()=>e,getMapNotes:()=>t,mapDrafts:n,getMapDrafts:()=>n})},us=async()=>{S(L,{initedDB:!0,account:void 0,notes:void 0,mapNotes:void 0,getNotes:()=>{},getMapNotes:()=>{},mapDrafts:void 0,getMapDrafts:()=>{}})},rd=e=>s(L)?.getMapDrafts?.()?.get(e),ds=e=>{if(!s(L).mapDrafts)throw new Error("Drafts appState is not initialized");s(L).mapDrafts.delete(e),S(L,{...s(L),getMapDrafts:()=>s(L).mapDrafts})},fs=e=>{if(!s(L).mapDrafts)throw new Error("Drafts appState is not initialized");s(L).mapDrafts.set(e.id,e),S(L,{...s(L),getMapDrafts:()=>s(L).mapDrafts})};let vs=T({});const hs=()=>s(vs),Ac=e=>{S(vs,e)};var Nc=j('<button> <svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></button>');function rn(e,t){let n=I(()=>t.style==="selected"?"45deg":"0deg");var r=Nc();r.__click=function(...i){t.onClick?.apply(this,i)};var a=C(r),o=N(a);me(o,()=>({"--size":t.size==="small"?"10px":"12px","--rotate":s(n)})),be(o.lastChild,{name:"plus"}),ue(()=>{Pe(r,"type",t.type),se(r,1,oe([{selectedTag:t.style==="selected",small:t.size==="small"}]),"svelte-15zw27r"),Nn(a,`${t.title??""} `)}),m(e,r)}He(["click"]);var Tc=j("<div></div>"),Lc=j('<div class="sidebarFixed svelte-rnyoa6"><div class="nav svelte-rnyoa6"><!> <div class="menu svelte-rnyoa6"><a class="link svelte-rnyoa6"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a> <a class="link svelte-rnyoa6"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a></div></div> <div class="searchWrapper svelte-rnyoa6"><!></div> <!></div> <div><!> <!></div>',1),Mc=j("<div></div>"),Oc=j('<div class="sidebar svelte-rnyoa6"><div class="sidebarFixed svelte-rnyoa6"><!></div> <div class="tags svelte-rnyoa6"><!> <!></div></div>');function Ic(e,t){Z(t,!0);const{checkMobileSize:n}=yn();let r=T(null),a=I(()=>new URLSearchParams(x.search).get("selectedTags")?.split(",")||[]),o=null;function i(){return o||(o=Se(()=>import("./MobileSidebar-CULpcdEl.js"),__vite__mapDeps([0,1]))),o}const l=w=>{const b=new URLSearchParams(x.search);b.set("selectedTags",[...s(a),w].join(",")),gt(`${x.pathname}${b.size>0?`?${b.toString()}`:""}`),vt.value=""},c=w=>{const b=new URLSearchParams(x.search),E=s(a).filter(p=>p!==w);E.length===0?b.delete("selectedTags"):b.set("selectedTags",E.join(",")),gt(`${x.pathname}${b.size>0?`?${b.toString()}`:""}`)};let u=I(hs),f=I(()=>Cr()?Object.values(s(u)).filter(w=>!s(a).some(b=>w.name===b)&&w.name!=="inbox").sort((w,b)=>w.name.localeCompare(b.name)):[]),v=I(()=>s(u).inbox&&s(a).includes("inbox")===!1?s(u).inbox:null),h=I(n);we(()=>{s(h)&&i()});const{checkExistedDialog:g}=Kn();let d=I(()=>xt().length>0||g());var _=z(),y=A(_);{var k=w=>{var b=z(),E=A(b);Io(E,i,null,(p,D)=>{const R=I(()=>s(D).default);var B=z(),Y=A(B);jo(Y,()=>s(R),(G,H)=>{H(G,{get blocked(){return s(d)},children:(U,te)=>{var F=Lc(),Q=A(F),V=C(Q),W=C(V);Go(W,{});var $=N(W,2),q=C($),fe=I(()=>Ft(M.Settings));q.__click=function(...ce){s(fe)?.apply(this,ce)};var Te=C(q);me(Te,()=>({"--size":"24px"})),be(Te.lastChild,{name:"settings"});var de=N(Te,2);$e(de,{children:(ce,Be)=>{var he=Oe("Settings");m(ce,he)}});var Re=N(q,2),Ce=I(()=>Ft(M.Sync));Re.__click=function(...ce){s(Ce)?.apply(this,ce)};var xe=C(Re);me(xe,()=>({"--size":"24px"})),be(xe.lastChild,{name:"sync"});var nt=N(xe,2);$e(nt,{children:(ce,Be)=>{var he=Oe("Sync");m(ce,he)}});var ve=N(V,2),rt=C(ve);Yr(rt,{placeholder:"Search tag",get value(){return vt.value},set value(ce){vt.value=ce}});var Le=N(ve,2);{var Je=ce=>{var Be=Tc();se(Be,1,oe(["tags","selectedTags"]),"svelte-rnyoa6"),an(Be,20,()=>s(a),he=>he,(he,ft)=>{rn(he,{get title(){return ft},onClick:()=>c(ft),style:"selected"})}),tt(Be,he=>S(r,he),()=>s(r)),m(ce,Be)};O(Le,ce=>{s(a).length>0&&ce(Je)})}var Yt=N(Q,2);se(Yt,1,oe(["tags","tagsWrapper"]),"svelte-rnyoa6");var dt=C(Yt);{var Gt=ce=>{rn(ce,{get title(){return s(v).name},onClick:()=>l(s(v).name)})};O(dt,ce=>{s(v)&&ce(Gt)})}var Gn=N(dt,2);an(Gn,17,()=>s(f),ce=>ce.name,(ce,Be)=>{var he=z(),ft=A(he);{var Xn=Sn=>{rn(Sn,{get title(){return s(Be).name},onClick:()=>l(s(Be).name)})};O(ft,Sn=>{(vt.value===""||s(Be).name.toLowerCase().indexOf(vt.value.toLowerCase())!==-1)&&Sn(Xn)})}m(ce,he)}),ue((ce,Be)=>{Pe(q,"href",ce),Pe(Re,"href",Be)},[()=>jt(M.Settings),()=>jt(M.Sync)]),m(U,F)},$$slots:{default:!0}})}),m(p,B)}),m(w,b)},P=w=>{var b=Oc(),E=C(b),p=C(E);{var D=H=>{var U=Mc();se(U,1,oe(["tags","selectedTags"]),"svelte-rnyoa6"),an(U,20,()=>s(a),te=>te,(te,F)=>{rn(te,{get title(){return F},onClick:()=>c(F),style:"selected"})}),m(H,U)};O(p,H=>{s(a).length>0&&H(D)})}var R=N(E,2),B=C(R);{var Y=H=>{rn(H,{get title(){return s(v).name},onClick:()=>l(s(v).name)})};O(B,H=>{s(v)&&H(Y)})}var G=N(B,2);an(G,17,()=>s(f),H=>H.name,(H,U)=>{var te=z(),F=A(te);{var Q=V=>{rn(V,{get title(){return s(U).name},onClick:()=>l(s(U).name)})};O(F,V=>{(vt.value===""||s(U).name.toLowerCase().indexOf(vt.value.toLowerCase())!==-1)&&V(Q)})}m(H,te)}),m(w,b)};O(y,w=>{s(h)?w(k):w(P,!1)})}m(e,_),J()}He(["click"]);function St(e){const t=String.fromCharCode(...new Uint8Array(e));return window.btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function ma(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");const n=t.length%4;return n&&(t+="=".repeat(4-n)),t}function wa(e){try{const t=atob(e),n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n.buffer}catch(t){throw t}}function ad(e){const t=ma(e);return wa(t)}const od=async({challenge:e,clientKey:t})=>{const n=Math.floor(Math.random()*100),r={challenge:wa(ma(e)),rp:{id:"localhost",name:"notes"},user:{id:new Uint8Array([...t,...crypto.getRandomValues(new Uint8Array(16))]).buffer,name:`account_${n}`,displayName:`account_${n}`},pubKeyCredParams:[{type:"public-key",alg:-7},{type:"public-key",alg:-257}],authenticatorSelection:{userVerification:"required"},timeout:6e4,attestation:"none"},a=await navigator.credentials.create({publicKey:r});if(a){const o=a.response;return{challenge:e,id:a.id,rawId:St(a.rawId),type:a.type,response:{clientDataJSON:St(o.clientDataJSON),attestationObject:St(o.attestationObject)}}}else throw new Error},sd=async({challenge:e})=>{const t={challenge:wa(ma(e)),timeout:6e4,rpId:"localhost",userVerification:"required"},n=await navigator.credentials.get({publicKey:t});if(n){const r=n.response;new DataView(r.authenticatorData).getUint32(33,!1);const a={challenge:e,id:n.id,rawId:St(n.rawId),type:n.type,response:{authenticatorData:St(r.authenticatorData),clientDataJSON:St(r.clientDataJSON),signature:St(r.signature)}};if(!r.userHandle)throw new Error("No credential found");const o=new Uint8Array(r.userHandle).slice(0,32);return{credentialData:a,clientKey:o}}else throw new Error("No credential found")},Rc=async e=>{const t=await crypto.subtle.importKey("raw",e.serverKey,{name:"HKDF"},!1,["deriveKey"]),n=await crypto.subtle.deriveKey({name:"HKDF",salt:new Uint8Array(12),info:new TextEncoder().encode("aes-gcm-shared"),hash:"SHA-256"},t,{name:"AES-GCM",length:256},!1,["encrypt"]);return{encryptedClientKey:await crypto.subtle.encrypt({name:"AES-GCM",iv:new Uint8Array(12)},n,e.clientKey)}},id=async e=>{const t=await crypto.subtle.importKey("raw",e.serverKey,{name:"HKDF"},!1,["deriveKey"]),n=await crypto.subtle.deriveKey({name:"HKDF",info:new TextEncoder().encode("aes-gcm-shared"),hash:"SHA-256",salt:new Uint8Array(12)},t,{name:"AES-GCM",length:256},!1,["decrypt"]),r=await crypto.subtle.decrypt({name:"AES-GCM",iv:new Uint8Array(12)},n,e.encryptedClientKey);return new Uint8Array(r)},Bc=()=>crypto.randomUUID(),jc="AppStorage",Fc=1,ze="notes",Wa="tags",fr="syncLog",Ct="account",Pt="settings",Ze="drafts",_e="success",pe="error",K=(e,t,n)=>{e?.addEventListener(t,n)};function Uc(){return new Promise((e,t)=>{const n=indexedDB.open(jc,Fc);K(n,"upgradeneeded",()=>{const r=n.result;r.objectStoreNames.contains(ze)||r.createObjectStore(ze,{keyPath:"id"}),r.objectStoreNames.contains(Wa)||r.createObjectStore(Wa,{keyPath:"id"}),r.objectStoreNames.contains(Ct)||r.createObjectStore(Ct,{keyPath:"id"}),r.objectStoreNames.contains(Pt)||r.createObjectStore(Pt,{keyPath:"id"}),r.objectStoreNames.contains(fr)||r.createObjectStore(fr,{keyPath:"id"}),r.objectStoreNames.contains(Ze)||r.createObjectStore(Ze,{keyPath:"id"})}),K(n,_e,()=>{const r=n.result;e(r),r.onversionchange=function(){r?.close(),alert("app outdated, please reload the page")}}),K(n,"blocked",()=>{t(),alert("app outdated, please reload the page")}),K(n,pe,()=>{t()})})}function gs(e){return new Promise((t,n)=>{const a=e?.transaction(Pt,"readonly")?.objectStore(Pt).get("default");K(a,_e,()=>{const o=a?.result?.settings;t(o)}),K(a,pe,()=>{n()})})}function zc(e,t){return new Promise((n,r)=>{const i=e?.transaction(Pt,"readwrite")?.objectStore(Pt)?.put({id:"default",settings:t});K(i,_e,()=>{n()}),K(i,pe,()=>{r()})})}function Jr(e){return new Promise((t,n)=>{const a=e?.transaction(Ct,"readonly")?.objectStore(Ct).get("default");K(a,_e,()=>{const o=a?.result?.account;t(o)}),K(a,pe,()=>{n()})})}function Dr(e,t){return new Promise((n,r)=>{const i=e?.transaction(Ct,"readwrite")?.objectStore(Ct)?.put({id:"default",account:t});K(i,_e,()=>{n()}),K(i,pe,()=>{r()})})}function Yn(e){return new Promise((t,n)=>{const a=e?.transaction(ze,"readonly")?.objectStore(ze).getAll();K(a,_e,()=>{const o=a?.result||[];t(o)}),K(a,pe,()=>{n()})})}function ya(e,t){return new Promise((n,r)=>{const i=e?.transaction(ze,"readwrite")?.objectStore(ze)?.put({...t});K(i,_e,()=>{n()}),K(i,pe,()=>{r()})})}function qc(e,t){return new Promise((n,r)=>{const i=e?.transaction(ze,"readwrite")?.objectStore(ze)?.delete(t);K(i,_e,()=>{n()}),K(i,pe,()=>{r()})})}function Vc(e){return new Promise((t,n)=>{const o=e?.transaction(ze,"readwrite")?.objectStore(ze)?.clear();K(o,_e,()=>{t()}),K(o,pe,()=>{n()})})}function Sa(e){return Promise.all([new Promise((t,n)=>{const o=e?.transaction(Ct,"readwrite")?.objectStore(Ct)?.clear();K(o,_e,()=>{t()}),K(o,pe,()=>{n()})}),new Promise((t,n)=>{const o=e?.transaction(ze,"readwrite")?.objectStore(ze)?.clear();K(o,_e,()=>{t()}),K(o,pe,()=>{n()})}),new Promise((t,n)=>{const o=e?.transaction(Pt,"readwrite")?.objectStore(Pt)?.clear();K(o,_e,()=>{t()}),K(o,pe,()=>{n()})}),new Promise((t,n)=>{const o=e?.transaction(fr,"readwrite")?.objectStore(fr)?.clear();K(o,_e,()=>{t()}),K(o,pe,()=>{n()})}),new Promise((t,n)=>{const o=e?.transaction(Ze,"readwrite")?.objectStore(Ze)?.clear();K(o,_e,()=>{t()}),K(o,pe,()=>{n()})})])}async function Hc(e,t){const n=(await Yn(e)).reduce((i,l)=>(i[l.id]=l,i),{}),r={},o=e?.transaction(ze,"readwrite")?.objectStore(ze);t.forEach(i=>{n[i.id]?n[i.id].updatedAt<i.updatedAt&&(r[i.id]=i):r[i.id]=i}),await Promise.all(Object.values(r).map(i=>{const l=o?.put(i);return new Promise((c,u)=>{K(l,_e,()=>{c()}),K(l,pe,()=>{u()})})}))}function _s(e){return new Promise((t,n)=>{const a=e?.transaction(Ze,"readonly")?.objectStore(Ze).getAll();K(a,_e,()=>{const o=a?.result||[];t(o)}),K(a,pe,()=>{n()})})}function Kc(e,t){return new Promise((n,r)=>{const i=e?.transaction(Ze,"readwrite")?.objectStore(Ze)?.put({...t});K(i,_e,()=>{n()}),K(i,pe,()=>{r()})})}function Wc(e,t){return new Promise((n,r)=>{const i=e?.transaction(Ze,"readwrite")?.objectStore(Ze)?.delete(t);K(i,_e,()=>{n()}),K(i,pe,()=>{r()})})}function Yc(e){return new Promise((t,n)=>{const o=e?.transaction(Ze,"readwrite")?.objectStore(Ze)?.clear();K(o,_e,()=>{t()}),K(o,pe,()=>{n()})})}let ae=null;const ps=crypto.randomUUID(),ms=new BroadcastChannel("app"),Ie=(e,t)=>{ms.postMessage(JSON.stringify({tabId:ps,type:e,data:t}))};ms.addEventListener("message",async e=>{if(e.data&&typeof e.data=="string"){const t=JSON.parse(e.data);if(t.tabId&&t.tabId===ps)return;if(t.type==="addNote"){const n=t.data;is(n)}else if(t.type==="putDraft"){const n=t.data;fs(n)}else if(t.type==="updateNote"){const n=t.data;Pr(n)}else if(t.type==="deleteNote"){const n=t.data;ls(n)}else if(t.type==="clearNotes")cs();else if(t.type==="reloadNotes"){const n=await Yn(ae);await Wn(n)}else if(t.type==="initLocalAccount")st(null),Gr(),gt("/");else if(t.type==="initAccount"){const n=await Jr(ae);n&&(st(n),Gr(),gt("/"))}else if(t.type==="updateSettings"){const n=await gs(ae);n&&ga(n)}else if(t.type==="disconnectCloudAccount")st(null);else if(t.type==="exit")us();else if(t.type==="updateAccount"){const n=await Jr(ae);n&&st(n)}else if(t.type==="deleteDraft"){const n=t.data;ds(n)}}});(async()=>{ae=await Uc(),Pc();const e=await gs(ae);ga(e);const t=await Jr(ae);if(t===void 0)Er(M.Start);else{tc(M.Start)&&(Gr(),gt("/")),t?(st(t),await fa()):st(null);const n=await _s(ae);await _a(n);const r=await Yn(ae);await Wn(r)}})();const ld=async e=>{const t={...e,id:Bc(),createdAt:Date.now(),updatedAt:Date.now()};is(t),Ie("addNote",t),await ya(ae,{...t})},cd=async e=>{const t={...e};fs(t),Ie("putDraft",t),await Kc(ae,{...t})},Gc=async e=>{ds(e),await Wc(ae,e),Ie("deleteDraft",e)},ud=async e=>{const t={...e,updatedAt:Date.now()};Ie("updateNote",t),Pr(t),await ya(ae,t)},Ya=(e,t)=>{const n=pa()()?.get(e);if(!n)return;const r={...n,deleting:t};Ie("updateNote",r),Pr(r)},Xc=async(e,t)=>{const n=pa()()?.get(e);if(!n)return;const r={...n,pinned:t};Ie("updateNote",r),Pr(r),await ya(ae,r)},dd=async e=>{ga({showFavicon:e}),await zc(ae,{showFavicon:e}),Ie("updateSettings")},Zc=async e=>{const t=pa()()?.get(e);t&&Gc(t.id),Ie("deleteNote",e),ls(e),await qc(ae,e)},fd=async()=>{Ie("clearNotes"),cs(),await Vc(ae),await Yc(ae)},vd=async e=>{await Hc(ae,e),Ie("reloadNotes");const t=await Yn(ae);await Wn(t)},Jc=async()=>{await Sa(ae),await fa(),await Dr(ae,null),st(null),await _a([]),await Wn([]),Ie("initLocalAccount")},hd=async()=>{st(null),await Dr(ae,null);try{await fetch("/api/dropSession",{method:"POST"})}catch{}Ie("disconnectCloudAccount")},gd=async e=>{await Sa(ae),await fa();const{encryptedClientKey:t}=await Rc({clientKey:e.clientKey,serverKey:e.serverKey}),n={encryptedClientKey:St(t),subscriptionExpires:e.subscriptionExpires||-1,lastSync:-1};await Dr(ae,n),st(n);const r=await _s(ae);await _a(r);const a=await Yn(ae);await Wn(a),Ie("initAccount")},_d=async e=>{const t=Dc();if(!t)return;const n={...t,subscriptionExpires:e};await Dr(ae,n),st(n),Ie("updateAccount")},pd=async()=>{us(),await Sa(ae),Ie("exit")},Qc=(e,t,n)=>{S(t,!0),S(n,!0)},$c=(e,t,n)=>{Xc(t.note.id,!t.note.pinned),kr(t.note.pinned?"Note unpinned":"Note pinned"),S(n,!0)},eu=(e,t,n)=>{navigator.clipboard.writeText(t.note.url),kr("Link copied"),S(n,!0)};var tu=j("<div><button>Copy link</button></div>"),nu=j('<div class="menu svelte-xxw0l"><!> <div><button> </button></div> <div><button>Delete</button></div></div>'),ru=j('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1);function au(e,t){Z(t,!0);const n=(d,_=Ue)=>{var y=nu(),k=C(y);{var P=R=>{var B=tu(),Y=C(B);Y.__click=[eu,t,a],ue(()=>se(Y,1,oe(["button",{buttonMenuDialog:_()}]),"svelte-xxw0l")),m(R,B)};O(k,R=>{_()&&t.note.url&&R(P)})}var w=N(k,2),b=C(w);b.__click=[$c,t,a];var E=C(b),p=N(w,2),D=C(p);D.__click=[Qc,o,a],ue(()=>{se(b,1,oe(["button",{buttonMenuDialog:_()}]),"svelte-xxw0l"),Nn(E,t.note.pinned?"Unpin":"Pin"),se(D,1,oe(["button",{buttonMenuDialog:_()}]),"svelte-xxw0l")}),m(d,y)};let r=re(t,"shownMenu",15),a=T(!1),o=T(!1);const{checkMobileSize:i}=yn();let l=I(i),c=I(()=>new URLSearchParams(x.search).get("selectedTags")?.split(",")||[]);const u=async()=>{const d=hs();Ya(t.note.id,!0);let _=!1;kr("Note deleted",{onCancel:()=>{_=!0,Ya(t.note.id,!1)},onFinish:()=>{_||(t.note.tags.forEach(y=>{if(s(c).includes(y)&&d[y].connections===1){const k=new URLSearchParams(x.search),P=s(c).filter(w=>w!==y);P.length===0?k.delete("selectedTags"):k.set("selectedTags",P.join(",")),ha(`${x.pathname}${k.size>0?`?${k.toString()}`:""}`)}}),Zc(t.note.id))}})},f=()=>{s(o)&&u(),r(!1),S(a,!1)};var v=z(),h=A(v);{var g=d=>{var _=z(),y=A(_);{var k=w=>{ns(w,{get startClose(){return s(a)},onClosed:f,children:(b,E)=>{n(b,()=>!0)},$$slots:{default:!0}})},P=w=>{var b=ru(),E=A(b);me(E,()=>({"--bottom":"-90px","--right":"20px"})),rs(E.lastChild,{get startClose(){return s(a)},get positionTop(){return t.showMenuUp},onClosed:f,children:(p,D)=>{n(p,()=>!1)},$$slots:{default:!0}}),m(w,b)};O(y,w=>{s(l)?w(k):w(P,!1)})}m(d,_)};O(h,d=>{r()&&d(g)})}m(e,v),J()}He(["click"]);const ou=(e,t)=>{S(t,!0)},su=(e,t,n)=>{navigator.clipboard.writeText(t.note.url),kr("Link copied"),S(n,!1)},iu=(e,t)=>{S(t,!0)},lu=(e,t)=>{S(t,!1)},cu=(e,t,n)=>{e.preventDefault(),Er(`${M.EditNote}?id=${t.note.id}`),S(n,!1)};var uu=j('<div class="iconPlaceholder svelte-qwgtkc"></div>'),du=j('<img loading="lazy" class="noteIcon" height="16" width="16" alt=""/>'),fu=j('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),vu=j('<div class="noteIconWrapper svelte-qwgtkc"><!></div>'),hu=j('<button class="button svelte-qwgtkc"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button>'),gu=(e,t)=>{S(t,!1)},_u=j('<!> <a target="_blank" rel="noopener noreferrer" class="button openLink svelte-qwgtkc"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></a>',1),pu=j('<li><!> <a class="noteLink svelte-qwgtkc" target="_blank" rel="noopener noreferrer"> </a> <div><!> <button><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!></button></div> <!></li>');function mu(e,t){Z(t,!0);let n=T(!1),r=T(!1),a=T(!1),o=I(Cc);const{checkMobileSize:i}=yn(),l=b=>{try{return`https://icons.duckduckgo.com/ip3/${new URL(b).host}.ico`}catch{return""}};var c=pu();c.__focusin=[iu,r],c.__focusout=[lu,r];var u=C(c);{var f=b=>{var E=vu(),p=C(E);{var D=B=>{var Y=z(),G=A(Y);{var H=te=>{var F=uu();m(te,F)},U=te=>{var F=du();ue(Q=>Pe(F,"src",Q),[()=>l(t.note.url)]),ua("error",F,()=>{S(a,!0)}),m(te,F)};O(G,te=>{s(a)?te(H):te(U,!1)})}m(B,Y)},R=B=>{var Y=fu(),G=A(Y);me(G,()=>({"--size":"16px"})),be(G.lastChild,{name:"note"}),m(B,Y)};O(p,B=>{t.note.url?B(D):B(R,!1)})}m(b,E)};O(u,b=>{s(o)&&b(f)})}var v=N(u,2);v.__click=[cu,t,r];var h=C(v),g=N(v,2),d=C(g);{var _=b=>{var E=_u(),p=A(E);{var D=G=>{var H=hu();H.__click=[su,t,r];var U=C(H);me(U,()=>({"--size":"20px"})),be(U.lastChild,{name:"copy"});var te=N(U,2);$e(te,{children:(F,Q)=>{var V=Oe("copy link");m(F,V)}}),ue(()=>Pe(H,"tabindex",t.focusHidden?-1:0)),m(G,H)};O(p,G=>{i()||G(D)})}var R=N(p,2);R.__click=[gu,r];var B=C(R);me(B,()=>({"--size":"18px"})),be(B.lastChild,{name:"open"});var Y=N(B,2);$e(Y,{children:(G,H)=>{var U=Oe();ue(()=>Nn(U,t.note.name)),m(G,U)}}),ue(()=>{Pe(R,"href",t.note.url),Pe(R,"tabindex",t.focusHidden?-1:0)}),m(b,E)};O(d,b=>{t.note.url&&b(_)})}var y=N(d,2);y.__click=[ou,n],se(y,1,oe(["button","buttonMenu"]),"svelte-qwgtkc");var k=C(y);me(k,()=>({"--size":"18px","--rotate":"90deg"})),be(k.lastChild,{name:"menu"});var P=N(k,2);$e(P,{children:(b,E)=>{var p=Oe("show menu");m(b,p)}});var w=N(g,2);au(w,{get note(){return t.note},get showMenuUp(){return t.showMenuUp},get shownMenu(){return s(n)},set shownMenu(b){S(n,b,!0)}}),ue(b=>{se(c,1,oe(["record",{pinned:t.note.pinned}]),"svelte-qwgtkc"),Pe(v,"tabindex",t.focusHidden?-1:0),Pe(v,"href",b),Nn(h,t.note.name),se(g,1,oe(["noteMenuWrapper",{noteMenuWrapperActive:s(r)}]),"svelte-qwgtkc"),Pe(y,"tabindex",t.focusHidden?-1:0)},[()=>`/?stackPages=${encodeURIComponent(`${M.EditNote}?id=${t.note.id}`)}`]),m(e,c),J()}He(["focusin","focusout","click"]);var wu=j('<div><!> <div class="loader svelte-1wuuvr"></div></div>');function ws(e,t){Z(t,!0);let n=T(!1);we(()=>{const o=setTimeout(()=>{S(n,!0)},200);return()=>{clearTimeout(o)}});var r=wu(),a=C(r);Ee(a,()=>t.children??Ue),ue(()=>se(r,1,oe(["block",{shown:s(n)}]),"svelte-1wuuvr")),m(e,r),J()}var yu=j("<a><!></a>"),Su=j("<button><!></button>");function _n(e,t){let n=re(t,"type",3,"standard"),r=re(t,"typeButton",3,"button"),a=re(t,"element",3,"button"),o=re(t,"href",3,""),i=re(t,"fullWidth",3,!1),l=re(t,"withoutMinWidth",3,!1);var c=z(),u=A(c);{var f=h=>{var g=yu();g.__click=function(..._){t.onClick?.apply(this,_)};var d=C(g);Ee(d,()=>t.children??Ue),ue(()=>{Pe(g,"href",o()),se(g,1,oe(["button","a",{dangerous:n()==="dangerous",secondary:n()==="secondary",fullWidth:i(),withoutMinWidth:l()}]),"svelte-194r7qo")}),m(h,g)},v=h=>{var g=Su();g.__click=function(..._){t.onClick?.apply(this,_)};var d=C(g);Ee(d,()=>t.children??Ue),ue(()=>{Pe(g,"type",r()),se(g,1,oe(["button",{dangerous:n()==="dangerous",secondary:n()==="secondary",fullWidth:i(),withoutMinWidth:l()}]),"svelte-194r7qo")}),m(h,g)};O(u,h=>{a()==="a"?h(f):h(v,!1)})}m(e,c)}He(["click"]);var bu=j('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span>Add note</span>',1),ku=j('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <span style="padding-left: 6px;">Import data</span>',1),Eu=j('<div class="emptyStore svelte-16l11aw"><p class="message">No notes found</p> <div class="wrapperButtonsAdd svelte-16l11aw"><!></div> <div>or</div> <div class="wrapperButtonsAdd svelte-16l11aw"><!></div></div>'),Cu=j('<div class="emptyMessage svelte-16l11aw">No notes found</div>'),Pu=j('<div class="feed svelte-16l11aw"><ul class="svelte-16l11aw"></ul></div>'),Du=j('<div class="wrapperFeed svelte-16l11aw"><div class="wrapperContainer svelte-16l11aw"><!></div></div>');function xu(e,t){Z(t,!0);const{getScrollContainer:n}=va();let r=54,a=T(0),o=T(0),i=T(0),l=I(Qo),c=T(0),u=[],f=T(0),v=I(n),h=null,g=null;const d=I(Ul);ke(()=>{s(l),s(d),s(P),s(v)?.scrollTo(0,0)});const{enable:_}=qo(),y=()=>{_(),h||(h=requestAnimationFrame(()=>{const F=s(v)?.scrollTop||0;S(i,F,!0);const Q=Math.ceil(s(a)/r);S(o,Math.floor(F/(r*Q))*(r*Q)),h=null}))},k=()=>{g||(g=requestAnimationFrame(()=>{S(a,window.innerHeight-180||0,!0);const F=s(v)?.scrollTop||0;S(i,F,!0);const Q=Math.ceil(s(a)/r);S(o,Math.floor(F/(r*Q))*(r*Q)),g=null}))};we(()=>{k(),y()}),ke(()=>(s(v)?.addEventListener("scroll",y),window.addEventListener("resize",k),()=>{s(v)?.removeEventListener("scroll",y),window.removeEventListener("resize",k)}));const P=I(Zo);let w=T(""),b=I(xc);ke(()=>{s(P);const F=s(b)()||[];qt(()=>s(w))!==s(P)&&qt(()=>S(w,s(P),!0)),F.sort(($,q)=>{if(!$||!q)return 0;if($.pinned&&!q.pinned)return 1;if(!$.pinned&&q.pinned)return-1;switch(s(P)){case"newest":return $.updatedAt<q.updatedAt?-1:1;case"oldest":return $.updatedAt>q.updatedAt?-1:1;case"AtoZ":return q.name.localeCompare($.name);case"ZtoA":return $.name.localeCompare(q.name);default:return 0}});const V=[],W={};for(let $=F.length-1;$>=0;$--){const q=F[$];if(q&&!(s(d).length&&s(d).some(fe=>!q.tags.includes(fe)))&&!q.deleting&&!(s(l)&&!(q.name.toLowerCase().includes(s(l).toLowerCase())||q.url.toLowerCase().includes(s(l).toLowerCase())||q.text.toLowerCase().includes(s(l).toLowerCase())))){if(q.tags)for(const fe of q.tags)W[fe]?W[fe].connections++:W[fe]={name:fe,connections:1};V.push(q)}}Ac(W),S(c,V.length,!0),u=V,S(f,Date.now(),!0)});const E=I(()=>s(c)*r);let D=I(()=>{s(f);const F=Math.ceil(s(a)/r);let Q=Math.floor(s(o)/r);return Q=Q-Math.min(Q,F),u.slice(Q,Q+F*3)}),R=I(()=>r*Math.ceil(s(a)/r));const B=I(()=>s(o)-Math.min(s(o),s(R)));var Y=Du(),G=C(Y),H=C(G);{var U=F=>{ws(F,{})},te=F=>{var Q=z(),V=A(Q);{var W=q=>{var fe=Eu(),Te=N(C(fe),2),de=C(Te);{let xe=I(()=>jt(M.NewNote)),nt=I(()=>Ft(M.NewNote));_n(de,{element:"a",get href(){return s(xe)},get onClick(){return s(nt)},children:(ve,rt)=>{var Le=bu(),Je=A(Le);me(Je,()=>({"--size":"18px","--color":"#b0b0b0"})),be(Je.lastChild,{name:"plus"}),m(ve,Le)},$$slots:{default:!0}})}var Re=N(Te,4),Ce=C(Re);{let xe=I(()=>jt(M.ImportData)),nt=I(()=>Ft(M.ImportData));_n(Ce,{element:"a",get href(){return s(xe)},get onClick(){return s(nt)},children:(ve,rt)=>{var Le=ku(),Je=A(Le);me(Je,()=>({"--size":"18px","--color":"#b0b0b0"})),be(Je.lastChild,{name:"import"}),m(ve,Le)},$$slots:{default:!0}})}m(q,fe)},$=q=>{var fe=z(),Te=A(fe);{var de=Ce=>{var xe=Cu();m(Ce,xe)},Re=Ce=>{var xe=Pu(),nt=C(xe);an(nt,23,()=>s(D),ve=>ve.id,(ve,rt,Le)=>{{let Je=I(()=>s(Le)*r<s(i)-s(B)-r/2||s(Le)*r>s(i)-s(B)+Math.floor(s(a)/r)*r),Yt=I(()=>(s(Le)+3)*r<s(i)-s(B)-r/2||(s(Le)+3)*r>s(i)-s(B)+Math.floor(s(a)/r)*r);mu(ve,{get focusHidden(){return s(Je)},get showMenuUp(){return s(Yt)},get note(){return s(rt)}})}}),ue(ve=>{Tn(xe,`min-height: ${ve??""}px`),Tn(nt,`transform: translateY(${s(B)??""}px);`)},[()=>Math.max((s(E)>s(a),s(E)),0)]),m(Ce,xe)};O(Te,Ce=>{s(D).length===0?Ce(de):Ce(Re,!1)},!0)}m(q,fe)};O(V,q=>{(s(b)()||[]).length===0?q(W):q($,!1)},!0)}m(F,Q)};O(H,F=>{Cr()?F(te,!1):F(U)})}m(e,Y),J()}var Au=j('<!> <div class="content svelte-cu0ar8"><!></div>',1);function Nu(e){var t=Au(),n=A(t);Ic(n,{});var r=N(n,2),a=C(r);xu(a,{}),m(e,t)}var Tu=j('<div class="content svelte-9hh95f"><p class="message svelte-9hh95f">use app</p> <div class="buttonContainer svelte-9hh95f"><div class="buttonContainerItem svelte-9hh95f"><!></div> <div class="buttonContainerItem svelte-9hh95f"><!></div></div></div>');function Lu(e,t){Z(t,!0);const{blockDialog:n}=Kn();let r=T("idle");const a=()=>{S(r,"loading"),Er(M.Auth)},o=async()=>{S(r,"loading"),await Jc(),n(!1),es()};ke(()=>{n(s(r)==="idle"||s(r)==="loading")}),we(()=>(n(!0),()=>{n(!1)}));var i=Tu(),l=N(C(i),2),c=C(l),u=C(c);_n(u,{onClick:a,fullWidth:!0,children:(h,g)=>{var d=Oe("cloud account");m(h,d)},$$slots:{default:!0}});var f=N(c,2),v=C(f);_n(v,{onClick:o,fullWidth:!0,type:"secondary",children:(h,g)=>{var d=Oe("local account");m(h,d)},$$slots:{default:!0}}),m(e,i),J()}var Mu=j('<div class="svelte-frpywy"><!></div>');function ye(e,t){Z(t,!0);let n=T(null);we(()=>{s(n)&&(s(n).getBoundingClientRect(),s(n).style.opacity="1");const o=new ResizeObserver(i=>{for(let l of i){const c=l.contentRect.height;vc(c)}});if(s(n))return o.observe(s(n)),()=>{s(n)&&o.unobserve(s(n)),o.disconnect()}});var r=Mu(),a=C(r);Ee(a,()=>t.children),tt(r,o=>S(n,o),()=>s(n)),m(e,r),J()}var Ou=j('<div class="svelte-ndasxn"><p class="svelte-ndasxn">Page not found</p> <!></div>');function ys(e,t){Z(t,!1);const n=o=>{o.preventDefault(),gt("/")};Vn();var r=Ou(),a=N(C(r),2);_n(a,{element:"a",href:"/",onClick:n,children:(o,i)=>{var l=Oe("close");m(o,l)},$$slots:{default:!0}}),m(e,r),J()}const Iu=Object.freeze(Object.defineProperty({__proto__:null,default:ys},Symbol.toStringTag,{value:"Module"}));var Ru=j('<div class="svelte-1tpcci8"><p class="svelte-1tpcci8">Something went wrong. Please reload the page</p> <!></div>');function Bu(e){var t=Ru(),n=N(C(t),2);_n(n,{onClick:()=>location.reload(),children:(r,a)=>{var o=Oe("Reload");m(r,o)},$$slots:{default:!0}}),m(e,t)}var ju=j('<div class="svelte-uzefkz"><!></div>');function Fu(e,t){Z(t,!1);const n=ss();Vn();var r=ju(),a=C(r);ws(a,{}),ue(()=>Tn(r,`min-height: ${n??""}px;`)),m(e,r),J()}function Ae(e,t){Z(t,!0);const n={},r=Object.assign({"./Pages/About.svelte":()=>Se(()=>import("./About-DxOiHvzR.js"),__vite__mapDeps([2,3])),"./Pages/AccessKeys.svelte":()=>Se(()=>import("./AccessKeys-DNDjw9dz.js"),__vite__mapDeps([4,5,6])),"./Pages/Account.svelte":()=>Se(()=>import("./Account-DEKslZuW.js"),__vite__mapDeps([7,8])),"./Pages/Auth.svelte":()=>Se(()=>import("./Auth-BxHDqFr4.js"),__vite__mapDeps([9,10])),"./Pages/ClearStore.svelte":()=>Se(()=>import("./ClearStore-CMmjp9_4.js"),__vite__mapDeps([11,12])),"./Pages/ConfirmAccessKey.svelte":()=>Se(()=>import("./ConfirmAccessKey-DTD2KgjK.js"),__vite__mapDeps([13,5,14,15,16])),"./Pages/EditNote.svelte":()=>Se(()=>import("./EditNote-CbxdvcR5.js"),__vite__mapDeps([17,18,14,15,19])),"./Pages/Exit.svelte":()=>Se(()=>import("./Exit-KMz5gsVE.js"),__vite__mapDeps([20,21])),"./Pages/ExportData.svelte":()=>Se(()=>import("./ExportData-Ct1vm9Zm.js"),__vite__mapDeps([22,23])),"./Pages/ImportData.svelte":()=>Se(()=>import("./ImportData-CuaVEj5t.js"),__vite__mapDeps([24,25])),"./Pages/NewNote.svelte":()=>Se(()=>import("./NewNote-WK8aO4R-.js"),__vite__mapDeps([26,18,14,15,19])),"./Pages/NotFound.svelte":()=>Se(()=>Promise.resolve().then(()=>Iu),void 0),"./Pages/Settings.svelte":()=>Se(()=>import("./Settings-D0mgcJ4x.js"),__vite__mapDeps([27,28])),"./Pages/Signin.svelte":()=>Se(()=>import("./Signin-BiiOzbMD.js"),__vite__mapDeps([29,5,10])),"./Pages/Signup.svelte":()=>Se(()=>import("./Signup-DifbXQw0.js"),__vite__mapDeps([30,5,10])),"./Pages/Subscription.svelte":()=>Se(()=>import("./Subscription-20dqJnPS.js"),__vite__mapDeps([31,32])),"./Pages/Sync.svelte":()=>Se(()=>import("./Sync-DigSp0sb.js"),__vite__mapDeps([33,34]))}),a=async l=>{const c=`./Pages/${l[0].toUpperCase()+l.slice(1)}.svelte`;if(!n[l]){if(r[c]){const u=r[c]();return n[l]={promise:u},n[l].module=await u,n[l].module}throw new Error(`Page ${l} not found`)}return n[l].module||await n[l].promise};var o=z(),i=A(o);Io(i,()=>a(t.page),l=>{Fu(l,{})},(l,c)=>{const u=I(()=>s(c).default);var f=z(),v=A(f);jo(v,()=>s(u),(h,g)=>{g(h,{get params(){return t.params},get hidden(){return t.hidden}})}),m(l,f)},l=>{Bu(l)}),m(e,o),J()}const Ga=(e,t=Ue,n=Ue,r)=>{let a=mr(()=>Vs(r?.(),!1));var o=z(),i=A(o);{var l=u=>{ye(u,{children:(f,v)=>{Ae(f,{get hidden(){return s(a)},get page(){return M.Settings}})},$$slots:{default:!0}})},c=u=>{var f=z(),v=A(f);{var h=d=>{ye(d,{children:(_,y)=>{Ae(_,{get hidden(){return s(a)},get page(){return M.NewNote}})},$$slots:{default:!0}})},g=d=>{var _=z(),y=A(_);{var k=w=>{ye(w,{children:(b,E)=>{Ae(b,{get params(){return n()},get hidden(){return s(a)},get page(){return M.EditNote}})},$$slots:{default:!0}})},P=w=>{var b=z(),E=A(b);{var p=R=>{ye(R,{children:(B,Y)=>{Ae(B,{get hidden(){return s(a)},get page(){return M.ImportData}})},$$slots:{default:!0}})},D=R=>{var B=z(),Y=A(B);{var G=U=>{ye(U,{children:(te,F)=>{Ae(te,{get hidden(){return s(a)},get page(){return M.ExportData}})},$$slots:{default:!0}})},H=U=>{var te=z(),F=A(te);{var Q=W=>{ye(W,{children:($,q)=>{Ae($,{get hidden(){return s(a)},get page(){return M.ClearStore}})},$$slots:{default:!0}})},V=W=>{var $=z(),q=A($);{var fe=de=>{ye(de,{children:(Re,Ce)=>{Lu(Re,{})},$$slots:{default:!0}})},Te=de=>{var Re=z(),Ce=A(Re);{var xe=ve=>{ye(ve,{children:(rt,Le)=>{Ae(rt,{get hidden(){return s(a)},get page(){return M.Auth}})},$$slots:{default:!0}})},nt=ve=>{var rt=z(),Le=A(rt);{var Je=dt=>{ye(dt,{children:(Gt,Gn)=>{Ae(Gt,{get hidden(){return s(a)},get page(){return M.Signup}})},$$slots:{default:!0}})},Yt=dt=>{var Gt=z(),Gn=A(Gt);{var ce=he=>{ye(he,{children:(ft,Xn)=>{Ae(ft,{get hidden(){return s(a)},get page(){return M.Signin}})},$$slots:{default:!0}})},Be=he=>{var ft=z(),Xn=A(ft);{var Sn=Xt=>{ye(Xt,{children:(Zn,ba)=>{Ae(Zn,{get hidden(){return s(a)},get page(){return M.AccessKeys}})},$$slots:{default:!0}})},Ss=Xt=>{var Zn=z(),ba=A(Zn);{var bs=Zt=>{ye(Zt,{children:(Jn,ka)=>{Ae(Jn,{get hidden(){return s(a)},get page(){return M.Account}})},$$slots:{default:!0}})},ks=Zt=>{var Jn=z(),ka=A(Jn);{var Es=Jt=>{ye(Jt,{children:(Qn,Ea)=>{Ae(Qn,{get hidden(){return s(a)},get page(){return M.ConfirmAccessKey}})},$$slots:{default:!0}})},Cs=Jt=>{var Qn=z(),Ea=A(Qn);{var Ps=Qt=>{ye(Qt,{children:($n,Ca)=>{Ae($n,{get hidden(){return s(a)},get page(){return M.Exit}})},$$slots:{default:!0}})},Ds=Qt=>{var $n=z(),Ca=A($n);{var xs=$t=>{ye($t,{children:(er,Pa)=>{Ae(er,{get hidden(){return s(a)},get page(){return M.Sync}})},$$slots:{default:!0}})},As=$t=>{var er=z(),Pa=A(er);{var Ns=en=>{ye(en,{children:(tr,Da)=>{Ae(tr,{get hidden(){return s(a)},get page(){return M.Subscription}})},$$slots:{default:!0}})},Ts=en=>{var tr=z(),Da=A(tr);{var Ls=tn=>{ye(tn,{children:(xr,Os)=>{Ae(xr,{get hidden(){return s(a)},get page(){return M.About}})},$$slots:{default:!0}})},Ms=tn=>{ye(tn,{children:(xr,Os)=>{ys(xr,{})},$$slots:{default:!0}})};O(Da,tn=>{t()===M.About?tn(Ls):tn(Ms,!1)},!0)}m(en,tr)};O(Pa,en=>{t()===M.Subscription?en(Ns):en(Ts,!1)},!0)}m($t,er)};O(Ca,$t=>{t()===M.Sync?$t(xs):$t(As,!1)},!0)}m(Qt,$n)};O(Ea,Qt=>{t()===M.Exit?Qt(Ps):Qt(Ds,!1)},!0)}m(Jt,Qn)};O(ka,Jt=>{t()===M.ConfirmAccessKey?Jt(Es):Jt(Cs,!1)},!0)}m(Zt,Jn)};O(ba,Zt=>{t()===M.Account?Zt(bs):Zt(ks,!1)},!0)}m(Xt,Zn)};O(Xn,Xt=>{t()===M.AccessKeys?Xt(Sn):Xt(Ss,!1)},!0)}m(he,ft)};O(Gn,he=>{t()===M.Signin?he(ce):he(Be,!1)},!0)}m(dt,Gt)};O(Le,dt=>{t()===M.Signup?dt(Je):dt(Yt,!1)},!0)}m(ve,rt)};O(Ce,ve=>{t()===M.Auth?ve(xe):ve(nt,!1)},!0)}m(de,Re)};O(q,de=>{t()===M.Start?de(fe):de(Te,!1)},!0)}m(W,$)};O(F,W=>{t()===M.ClearStore?W(Q):W(V,!1)},!0)}m(U,te)};O(Y,U=>{t()===M.ExportData?U(G):U(H,!1)},!0)}m(R,B)};O(E,R=>{t()===M.ImportData?R(p):R(D,!1)},!0)}m(w,b)};O(y,w=>{t()===M.EditNote?w(k):w(P,!1)},!0)}m(d,_)};O(v,d=>{t()===M.NewNote?d(h):d(g,!1)},!0)}m(u,f)};O(i,u=>{t()===M.Settings?u(l):u(c,!1)})}m(e,o)};var Uu=j("<!> <!>",1);function zu(e,t){Z(t,!0);let n=I(nc),r=I(Cr);const{checkMobileSize:a}=yn();var o=Uu(),i=A(o);{var l=v=>{Nu(v)};O(i,v=>{s(r)&&v(l)})}var c=N(i,2);{var u=v=>{var h=z(),g=A(h);an(g,19,()=>s(n),d=>d.page,(d,_,y)=>{const k=I(()=>s(_).page.split("?")[1]),P=I(()=>s(_).page.split("?")[0]);{let w=I(()=>s(y)!==s(n).length-1&&!!s(n)[s(y)+1]?.shown),b=I(()=>s(y)===0);Ha(d,{get shown(){return s(_).shown},get hidden(){return s(w)},get isLastDialog(){return s(b)},children:(E,p)=>{{let D=I(()=>s(y)!==s(n).length-1&&!!s(n)[s(y)+1]?.shown);Ga(E,()=>s(P),()=>s(k),()=>s(D))}},$$slots:{default:!0}})}}),m(v,h)},f=v=>{var h=z(),g=A(h);{var d=_=>{const y=I(()=>s(n)[s(n).length-1].page.split("?")[1]),k=I(()=>s(n)[s(n).length-1].page.split("?")[0]);{let P=I(()=>s(n).length===1);Ha(_,{onBack:()=>as(),get shown(){return s(n)[s(n).length-1].shown},hidden:!1,get isLastDialog(){return s(P)},children:(w,b)=>{Ga(w,()=>s(k),()=>s(y))},$$slots:{default:!0}})}};O(g,_=>{s(n).length>0&&_(d)},!0)}m(v,h)};O(c,v=>{a()?v(u):v(f,!1)})}m(e,o),J()}function qu(e,t){Z(t,!1),we(()=>{Br(),document.addEventListener("focusin",Br),document.addEventListener("focusout",Br)}),Vn(),J()}function Vu(e,t){Z(t,!1);let n=0;we(()=>{document.addEventListener("touchstart",r=>{n=r.touches[0].clientX},{passive:!1}),document.addEventListener("touchmove",r=>{const o=r.touches[0].clientX-n;(n<50&&o>0||n>window.innerWidth-50&&o<0)&&r.preventDefault()},{passive:!1}),document.addEventListener("touchend",()=>{n=0}),document.addEventListener("touchcancel",()=>{n=0})}),Vn(),J()}const Hu=(e,t)=>{s(t)&&s(t).scrollTo({top:0})};var Ku=j('<div class="wrapperButtonTop svelte-1rgtneh"><button class="buttonTop svelte-1rgtneh"><!> <span class="icon svelte-1rgtneh"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></span></button></div>'),Wu=j('<!> <!> <!> <main><!> <div class="container svelte-1rgtneh"><!></div></main> <!>',1);function Yu(e,t){Z(t,!0);const{setScrollContainer:n}=va(),r=Hn();we(async()=>{await new Promise(p=>setTimeout(p,100)),await To(),r.working=!0});let a=T(!1),o=0,i=I(()=>xt().length>0),l=I(Cr),c=T(null);ke(()=>{n(s(c))});const u=()=>{if(s(c)){const p=s(c).scrollTop||0;p===0?S(a,!1):!s(a)&&o>p?S(a,!0):s(a)&&o+50<p&&S(a,!1),o=p}},f=()=>{u()};ke(()=>(s(c)?.addEventListener("scroll",f),window.addEventListener("resize",f),()=>{s(c)?.removeEventListener("scroll",f),window.removeEventListener("resize",f)}));var v=Wu(),h=A(v);Vu(h,{});var g=N(h,2);qu(g,{});var d=N(g,2);xl(d,{});var _=N(d,2),y=C(_);{var k=p=>{ac(p,{})};O(y,p=>{s(l)&&p(k)})}var P=N(y,2),w=C(P);zu(w,{}),tt(_,p=>S(c,p),()=>s(c));var b=N(_,2);{var E=p=>{var D=Ku(),R=C(D);R.__click=[Hu,c];var B=C(R);$e(B,{children:(H,U)=>{var te=Oe("top");m(H,te)}});var Y=N(B,2),G=C(Y);me(G,()=>({"--rotate":"90deg","--size":"28px"})),be(G.lastChild,{name:"back"}),m(p,D)};O(b,p=>{s(a)&&p(E)})}ue(()=>{Tn(_,`--swiping-ratio: ${r.swipingRatio}; --transition-timing-default: ${r.duration}s;`),se(_,1,oe(["main",{isAnimationOn:r.working&&!r.isSwiping,open:s(i)}]),"svelte-1rgtneh")}),m(e,v),J()}He(["click"]);function Gu(e){kl(e,{children:(t,n)=>{Yu(t,{})}})}window.addEventListener("unhandledrejection",e=>{alert("Error: "+e.reason.message)});window.isUnsupportedBrowser||Xi(Gu,{target:document.getElementById("app")});export{Qu as $,Dc as A,_n as B,hd as C,Er as D,ed as E,fd as F,es as G,ua as H,be as I,id as J,ad as K,ws as L,od as M,as as N,ql as O,M as P,pa as Q,ud as R,rd as S,Vn as T,pd as U,$e as V,Ju as W,re as X,se as Y,oe as Z,Pe as _,me as a,$u as a0,Tn as a1,xc as a2,Bc as a3,yn as a4,tt as a5,vd as a6,ld as a7,rn as a8,Cr as a9,sl as aa,cd as ab,Gc as ac,Cc as ad,dd as ae,gd as af,x as ag,td as ah,nd as ai,_d as aj,oc as ak,Hn as al,qo as am,nc as an,Yo as ao,Tl as ap,Ee as aq,ts as ar,m as b,C as c,T as d,De as e,j as f,Kn as g,s as h,S as i,O as j,J as k,z as l,A as m,He as n,we as o,Z as p,an as q,Nn as r,N as s,ue as t,ke as u,Oe as v,sd as w,I as x,Ft as y,jt as z};
